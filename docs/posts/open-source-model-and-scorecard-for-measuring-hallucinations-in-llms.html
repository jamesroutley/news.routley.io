<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://vectara.com/measuring-hallucinations-in-rag-systems/">Original</a>
    <h1>Show HN: Open-source model and scorecard for measuring hallucinations in LLMs</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
	<div>
		<p>Blog Post</p>
		<main>
			<p><img width="1920" height="1097" src="https://vectara.com/wp-content/uploads/2023/11/Pinocchio-telling-lies.jpg" alt="Pinocchio telling lies" decoding="async" fetchpriority="high" srcset="https://vectara.com/wp-content/uploads/2023/11/Pinocchio-telling-lies.jpg 1920w, https://vectara.com/wp-content/uploads/2023/11/Pinocchio-telling-lies-300x171.jpg 300w, https://vectara.com/wp-content/uploads/2023/11/Pinocchio-telling-lies-1024x585.jpg 1024w, https://vectara.com/wp-content/uploads/2023/11/Pinocchio-telling-lies-768x439.jpg 768w, https://vectara.com/wp-content/uploads/2023/11/Pinocchio-telling-lies-1536x878.jpg 1536w" sizes="(max-width: 1920px) 100vw, 1920px"/></p>
			<p>Hallucination</p>
			
			<p>Vectara launches open-source Hallucination Evaluation Model (HEM) that provides a FICO-like score for grading how often a generative LLM hallucinates in Retrieval Augmented Generation (RAG) systems.</p>
			<p>November 6, 2023 by Shane Connelly			</p>
			
<p>Today, we’re happy to announce the release of our open-source Hallucination Evaluation Model!</p>



<p>One of the top concerns of enterprises considering adopting generative AI has been the possibility of LLMs generating <a href="https://vectara.com/avoiding-hallucinations-in-llm-powered-applications/" target="_blank" rel="noreferrer noopener">hallucinations</a>.  Hallucinations come in many forms that could negatively affect a business:</p>



<ol>
<li>Large errors where, instead of answering an end-user question, the generative model goes <a href="https://www.nytimes.com/2023/02/16/technology/bing-chatbot-microsoft-chatgpt.html" target="_blank" rel="noreferrer noopener">completely off the rails and potentially causes reputational damage</a>.</li>



<li>The generative system draws on its body of knowledge and <a href="https://crsreports.congress.gov/product/pdf/LSB/LSB10922#page=4" target="_blank" rel="noreferrer noopener">produces copyrighted works in its output</a>.</li>



<li>More nuanced and harder to spot errors where the model takes liberties in its response, for example, by <a href="https://www.forbes.com/sites/mollybohannon/2023/06/08/lawyer-used-chatgpt-in-court-and-cited-fake-cases-a-judge-is-considering-sanctions/?sh=593ca8fe7c7f" target="_blank" rel="noreferrer noopener">introducing “facts” that are not based in reality</a>.</li>



<li>The introduction of specific biases due to the training data.</li>
</ol>



<p>While many businesses acknowledge the benefits of generative AI, the risks of these hallucinations have held many back.  Some attempts have been made in the past to quantify or at least qualify when/how much a generative model is hallucinating.  However, many of these have been <a href="https://benchmarks.llmonitor.com/prompts/holidays" target="_blank" rel="noreferrer noopener">too abstract</a> and based on <a href="https://benchmarks.llmonitor.com/prompts/taiwan" target="_blank" rel="noreferrer noopener">subjects that are too controversial</a> to be useful to most enterprises.</p>



<p>At Vectara, we believe that the real power of LLMs in the enterprise comes from Retrieval Augmented Generation (RAG). RAG helps mitigate all of the above classes of hallucinations on its own (relative to <a href="https://vectara.com/fine-tuning-vs-grounded-generation/" target="_blank" rel="noreferrer noopener">fine</a>-tuning a single generative model) by feeding only relevant data into the model at query time and telling the LLM only to use the data provided to it from the retrieval step.  However, this introduces its own challenge: how do you know that the LLM is <em>actually</em> only using the data provided to it in generating its output?  This is where Vectara’s Hallucination Evaluation Model (HEM) comes in.</p>



<h2 id="h-open-source">Open Source</h2>



<p>With this release, we have produced an open-source model – HEM – that can evaluate how well generative LLMs can summarize a series of results in a RAG system.  We defined “well” here as a response that accurately summarizes the results without producing hallucinations in the process.  You can use this model to help you evaluate the trustworthiness of your RAG system, including which LLMs are best for your particular use case.  Details on how exactly we’ve produced this model and the corresponding scores can be found in our corresponding <a href="https://vectara.com/cut-the-bull-detecting-hallucinations-in-large-language-models/" target="_blank" rel="noreferrer noopener">technical blog</a>, and you can always find the most up-to-date version of the model on our Hugging Face account, <a href="https://huggingface.co/vectara/hallucination_evaluation_model" target="_blank" rel="noreferrer noopener">here</a>.</p>



<p>Our idea is to empower enterprises with the information they need to have the confidence they need to enable generative systems through quantified analysis.  We’ve open-sourced the model in an Apache 2.0 license so that you can tune it to your own specific needs.</p>



<p>Like our users and customers, at Vectara we’re also invested in the quality of these generative LLMs since we do currently use third parties for our summarization functionality.  Today, we offer a custom-tuned prompt on top of GPT-3.5 for our Growth users and another on top of GPT 4 for our Scale customers.  In the future, we expect to build and deploy other generative LLMs for our customers, but we want you to know we’re improving the quality (and reducing the hallucinations) of the generative output in the process.</p>



<h2 id="h-keeping-current">Keeping Current</h2>



<p>In the future, we may offer additional generative LLMs to our Growth and Scale users.  In light of that, and in the general interest of our customers and the public, we’ve created an evaluation scorecard for some of the top most used models with respect to how often they hallucinate.  You can think of this as something like a FICO score for hallucinations in RAG systems.</p>



<p>Below is the current summary of the scores, but we’re going to periodically update this scorecard as the latest information arrives and as the various LLMs are updated – as well as adding new LLMs as they are released.  There are four numeric columns in this scorecard.  To explain this:</p>



<ol>
<li>The “<strong>Answer Rate</strong>” on the right is how often the model attempted to summarize the results in response to the question.  Sometimes, models incorrectly surmise that they do not have enough information from the retrieved results to summarize the question.</li>



<li>The “<strong>Accuracy</strong>” and “<strong>Hallucination Rate</strong>” numbers are the inverse of one another: the Hallucination Rate is what percentage of summaries included some hallucination, and then the Accuracy is 100% less that number.  Details of exactly how these hallucinations were evaluated can be found in the <a href="https://vectara.com/cut-the-bull-detecting-hallucinations-in-large-language-models/" target="_blank" rel="noreferrer noopener">technical blog post</a>.</li>



<li>The “<strong>Average Summary Length</strong>” is how many words the summaries were.  We include this because if you’re looking for concise summaries, you may look to optimize for this number as well and consider it as a tradeoff.</li>
</ol>



<figure><table><tbody><tr><td><strong>Model</strong></td><td><strong>Answer Rate</strong></td><td><strong>Accuracy</strong></td><td><strong>Hallucination Rate</strong></td><td><strong>Average Summary Length</strong></td></tr><tr><td>GPT4</td><td>100%</td><td>97.0%</td><td>3.0%</td><td>81.1 words</td></tr><tr><td>GPT3.5</td><td>99.6%</td><td>96.5%</td><td>3.5%</td><td>84.1 words</td></tr><tr><td>Llama 2 70B</td><td>99.9%</td><td>94.9%</td><td>5.1%</td><td>84.9 words</td></tr><tr><td>Llama 2 7B</td><td>99.6%</td><td>94.4%</td><td>5.6%</td><td>119.9 words</td></tr><tr><td>Llama 2 13B</td><td>99.8%</td><td>94.1%</td><td>5.9%</td><td>82.1 words</td></tr><tr><td>Cohere-Chat</td><td>98.0%</td><td>92.5%</td><td>7.5%</td><td>74.4 words</td></tr><tr><td>Cohere</td><td>99.8%</td><td>91.5%</td><td>8.5%</td><td>59.8 words</td></tr><tr><td>Anthropic Claude 2</td><td>99.3%</td><td>91.5%</td><td>8.5%</td><td>87.5 words</td></tr><tr><td>Mistral 7B</td><td>98.7%</td><td>90.6%</td><td>9.4%</td><td>96.1 words</td></tr><tr><td>Google Palm</td><td>92.4%</td><td>87.9%</td><td>12.1%</td><td>36.2 words</td></tr><tr><td>Google Palm-Chat</td><td>88.8%</td><td>72.8%</td><td>27.2%</td><td>221.1 words</td></tr></tbody></table><figcaption>Table 1: Leaderboard of LLM Hallucination data from the Hallucination Evaluation Model (HEM) </figcaption></figure>



<p>As new and updated models get re-evaluated, we’ll keep the scorecard up to date on the <a href="https://github.com/vectara/hallucination-leaderboard" target="_blank" rel="noreferrer noopener">hallucination leaderboard</a> GitHub repository.</p>



<p>We are not stopping at releasing this model and leaderboard. As mentioned, we will continue to maintain and update the leaderboard regularly so we can track improvements in the models over time. However, we will also continue to improve upon our open-source model, and release updated versions as it improves.  We look forward to collaborating with the community on keeping the scorecard and model open source and up to date.</p>



<p>Our focus at Vectara is on producing reliable search, so in the coming months we will be adding the capabilities of this model into our platform: providing factual consistency scores with the answers Vectara provides powered by the latest HEM.  As we go forward, we will also be looking to develop our own models for summarization that lower the hallucination rates further over those offered by GPT 3.5 and GPT 4.  We know that the ability to quantify and reduce hallucinations will be key to making sure we offer our customers the best possible generative capabilities. </p>



<p>As always, we’d love to hear your feedback!  Connect with us <a href="https://discuss.vectara.com/" target="_blank" rel="noreferrer noopener">on our forums</a> or <a href="https://discord.gg/GFb8gMz6UH" target="_blank" rel="noreferrer noopener">on our Discord</a>.  If you’d like to see what Vectara can offer you for retrieval augmented generation, <a href="https://console.vectara.com/signup" target="_blank" rel="noreferrer noopener">sign up for an account</a>!</p>
		</main>
		
	</div>
</div></div>
  </body>
</html>
