<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://news.ycombinator.com/item?id=34052786">Original</a>
    <h1>Tell HN: Google Maps location data is used for GeoIP updates</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>Hi,</p><p>I&#39;ve been meaning to write this for a few years now.
I saw https://news.ycombinator.com/item?id=34032484 and lots of great replies there - but I happen to have an insight which I kept track of for years now.</p><p>Some background first. Since more than a decade I&#39;ve been using an always-on VPN on all my devices through a VPS I operate (various cloud providers along the years).
Also for context, I stopped using all google services around 2015 or thereabouts - although I still have an account I no longer use it.
The only google service that I use rarely is google maps - of course, never logged on.
And a few times a month I use google search for the odd obscure thing.</p><p>Around 2016 was the first time I noticed that google.com was showing at the bottom of the page my ZIP code. It felt very unusual but I was in the process of moving so I didn&#39;t pay too much attention. To my surprise, a few weeks later google.com was showing my new ZIP code.</p><p>I shopped around for cloud providers that would allow me to rotate the instance IP easily and thankfully there are many but I was curious how come google picked it up - the only plausible reason was using location data from the Google Maps iOS app.</p><p>Here&#39;s how you can replicate this.</p><p>Get a cheap VPS from a country different than yours. Get an iOS device (ideally an (older?) iPhone but I think it should work on an iPad) - Android devices should be excluded from this test for obvious reasons.
Reset it to factory defaults (optional but removes moving parts and false leads like cookies etc).</p><p>Install wireguard (or your preferred always-on vpn) and configure the VPS to be used as an exit node.
Install google maps (don&#39;t login of course) - can be used without being logged on just fine.
Install firefox focus (Safari in Private Window mode would work as well).</p><p>Confirm via ipinfo (or your preferred whatsmyip website) that you&#39;re using the VPS IP
Go to google.com and confirm it&#39;s showing at the bottom of the page the country of the VPS (could also be shown in a different language if google has a presence in that country).</p><p>Use the google maps app a few times a day (ideally navigate from a place to another) - it will take about 2-3 weeks but you&#39;ll notice that google.com will now show your actual country for the VPS IP and also the google.com language will change to your own.</p><p>If you want to take it one step further, continue to use google maps on the iOS device. You&#39;ll notice that after a few more weeks, google.com will show your actual City (based on the IP) - and after a while longer it will be even more precise, will show your ZIP code.</p><p>You have to be patient though, it will take 2-4 weeks to start with - and it&#39;s imperative that that IP address is dedicated to this test.</p><p>Funny enough, I was on holiday on Mexico for a month right before reading the HN article I mentioned (have been using a VPS in the states for lower latency) and I noticed that after 2 weeks the language changed to Spanish and google.com was showing Mexico (I rotated the IP when this happened and it prompted me to write this &#39;Tell HN&#39;.</p><p>Not surprisingly but Google doesn&#39;t share the new GeoIP data - MaxMind, ipinfo and others never changed their location data for that IP - they showed the original geoip even a few weeks after google changed theirs - haven&#39;t checked longer than that - it could be shared eventually.</p><p>In conclusion - I can&#39;t say that I&#39;m surprised Google is using the Maps location data - and I don&#39;t think there&#39;s any way to prevent it (outside of not running Maps - but unfortunately it&#39;s one of the few ways of checking restaurant reviews).
My &#34;workaround&#34; is to periodically rotate my VPS IP and move on with life :)</p><p>Thanks for reading - I hope you found this useful.</p></div></div></div>
  </body>
</html>
