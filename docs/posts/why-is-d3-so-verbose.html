<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://theheasman.com/short_stories/why-is-d3-code-so-long-and-complicated-or-why-is-it-so-verbose/">Original</a>
    <h1>Why is D3 so Verbose?</h1>
    
    <div id="readability-page-1" class="page"><div>
			
<p>D3 is a b***h of a language at first glance. It’s long. It’s complicated and verbose. You have to enter what feels like an obscene amount of key strokes to draw <em>one line</em>.</p>



<p>I’m currently about one-third of the way through my journey of learning D3.js, having finished <em><a href="https://amzn.to/4mqJEyp">Interactive Visualisation for the Web</a> </em>by Scott Murray, and now picking my way through <em><a href="https://amzn.to/4fMCRN7">D3.js in Action</a> </em>by Elijah Meeks and Anne-Marie Dufour. (And just for kicks, I’m reading <em><a href="https://amzn.to/4fIB7Es">D3 for the Impatient</a></em> by Philipp K Janert on the side whenever I have some free time).</p>



<p>Which means, I<a href="https://github.com/david-heasman00/d3-meeks-dufour/compare/2c02ec01723b7313a71d4e616883cef8f50febb9...762e8fad9797fb9eac0bfad246f85d72c108cab3"> just finished drawing a box plot from chapter 6</a>. Yup. You know. That thing, you just make four or five clicks in Microsoft Excel, and <em>voila</em>, it appears. In a way that you don’t think is magical, because Excel has been around longer than the dial up modem. </p>



<p>I just shared this on my social media, and for the non-technical, I had to explain “hey, so, the reason why this is impressive is because…”</p>







<p>That’s <em>194 lines</em> of code to draw a box plot. Why on earth would any masochist do this?</p>



<p><strong>Because of the flexibility D3 provides</strong>. </p>



<p>The reason why there are so many lines is because:</p>



<ol>
<li>I’m doing this the long way. I could write some functions or components which could collapse a lot of those lines, but I’m still learning the ropes. Better to do it the long and manual way so I don’t skip anything</li>



<li>This is important: <strong>D3 is a library which allows you to draw SVGs and bind them to data</strong></li>
</ol>



<p>All D3 is doing is saying “so, hey, I got all this data. Now. Dear browser. I’d like you to draw these SVG shapes, according to these instructions.” </p>



<p>SVG code reads like an extended HTML block of code. To draw a line on a two dimensional grid you have to define:</p>



<ul>
<li>x1 – the horizontal position of point 1</li>



<li>x2 – the horizontal position of point 2</li>



<li>y1 – the vertical position of point 1</li>



<li>y2 – the vertical position of point 2</li>
</ul>



<p>In D3 if I was just going to draw this with fixed values, say a line that goes from co-ordinates (0,12) to (4,15):</p>



<pre><code>aRandomNameForThisLine
  .append(&#34;line&#34;)
    .attr(&#34;x1&#34;, 0)
    .attr(&#34;x2&#34;, 4)
    .attr(&#34;y1&#34;, 12)
    .attr(&#34;y2&#34;, 15);</code></pre>



<p>But the power comes from <strong>when I bind this to data</strong>:</p>



<pre><code>boxplotContainer
  .append(&#34;line&#34;)
    .attr(&#34;x1&#34;, xScale(gender) - boxplotWidth/2)                          
      .attr(&#34;x2&#34;, xScale(gender) + boxplotWidth/2)
      .attr(&#34;y1&#34;, gender === &#34;Female&#34;                                       
        ? yScale(femaleExtent[0])
        : yScale(maleExtent[0])
      )
      .attr(&#34;y2&#34;, gender === &#34;Female&#34;
        ? yScale(femaleExtent[0])
        : yScale(maleExtent[0])
      );</code></pre>



<p>That block of code draws the bottom horizontal line of the box plot for each of those boxes, getting the values from the data, and adjusted for some other variables that I defined elsewhere.</p>



<p>It might seem long, but what’s great about it, is how much you can customise those values. You could make that line a curve if you want. Or you could add little tiny whiskers throughout, so your box plot starts to look like an unruly cat. Whatever. It’s up to you. </p>



<p>That’s what’s great about D3. It’s like drawing. Sure you can take a photograph, but isn’t it cooler to draw something, showing your interpretation of the object in question?</p>



<p>What I’m trying to say is:</p>



<p><strong>D3 is verbose so you can create art. </strong></p>



<p>With tools like datawrapper and flourish there’s little need these days to learn D3. However, you aren’t reading this because you want click and deploy tools. </p>



<p>You’re reading this because you’ve seen some of the great visualisations Data Visualisers have created out there. From <a href="https://theheasman.com/how-i-used-a-market-basket-analysis-to-get-a-job-offer/" target="_blank" rel="noreferrer noopener">scrollytelling </a>to <a href="https://www.rtve.es/noticias/20220302/covid-100000-muertos-espana/2293720.shtml" target="_blank" rel="noreferrer noopener">streamgraphs</a>, or something <a href="https://www.straitstimes.com/multimedia/graphics/2021/10/covid19-5million-deaths/index.html?st_client=in-app-webview&amp;shell" target="_blank" rel="noreferrer noopener">unique</a> and <a href="https://planets.ifcolorful.com/" target="_blank" rel="noreferrer noopener">special</a> that has no name.</p>



<p>And while some tools allow you to do some of that, <em>D3 allows you to do it all</em>. </p>



<p>And one day, on your learning journey, you’ll love how verbose it is.  </p>



<hr/>



<p><em>Don’t mind me, just gonna plug my newsletter below:</em></p>



<p><strong>Live in London? Sign up to get data stories that go one layer deeper on the big conversations. Subscribers get my exclusive three part data story on London’s Affordability Crisis. <a href="https://theheasman.com/sign-up-for-the-heasman-newsletter/">Sign up here. </a></strong></p>


<!-- Mailchimp for WordPress v4.10.6 - https://wordpress.org/plugins/mailchimp-for-wp/ --><!-- / Mailchimp for WordPress Plugin -->


<p><em>Box not appearing? <a href="https://theheasman.com/sign-up-for-the-heasman-newsletter/">Click here</a> and scroll to the bottom. </em></p>




		</div></div>
  </body>
</html>
