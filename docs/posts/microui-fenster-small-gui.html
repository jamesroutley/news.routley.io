<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bernsteinbear.com/blog/fenster-microui/?utm_source=rss">Original</a>
    <h1>microui&#43;fenster=small gui</h1>
    
    <div id="readability-page-1" class="page"><div>
        

        
        
        <p><i>September 7, 2024</i></p>
        
        
        <div>
            <p>Sometimes I just want to put pixels on a screen. I don’t want to think about
SDL this or OpenGL that—I just want to draw my pixel buffer and be done.</p>

<p><a href="https://github.com/zserge/fenster">fenster</a>, a tiny 2D canvas library by Serge
Zaitsev, does just that. It’s a tiny drop-in header-only C/C++ file that weighs
no more than 400 LOC of pretty readable code. It works with WinAPI, Cocoa, and
X11. And it handles keyboard and mouse input, too!</p>

<p>Sometimes I want to do just a little more than draw pixels—maybe have a menu,
some buttons, render text—and I don’t want to completely DIY but I still
don’t want to think about SDL.</p>

<p>Fortunately, <a href="https://github.com/rxi/microui">microui</a> by rxi exists and
handles the translation from GUI elements into a simple retargetable drawing
bytecode. It’s similarly a small, drop-in library, weighing only 1500 LOC.</p>

<p>Unfortunately, the demo program uses SDL as a backend for the bytecode. I’d
been meaning to see if I could instead use fenster but understanding what a
“quad” was or what “glScissor” did seemed intimidating. The project went
nowhere.</p>

<p>Then, as usual, <a href="https://akkartik.name/">Kartik</a> and I had a small argument and
that resulted in us creating the fenster backend for microui! I sent him a
skeleton to show what I wanted to do and he did most of the heavy lifting for
the OpenGL-like parts.</p>

<p>The result is a less than 250 LOC file that binds microui to fenster. It’s
inspired by the SDL renderer demo, but with a couple of added functions to
abstract away keys and mouse buttons. It’s hacky and there’s some stuff we
still don’t understand, but it works! And by “works” I mean draws the expected
demo windows, handles mouse hover and click, and handles keyboard input.</p>

<p>Things left to figure out:</p>

<ul>
  <li>How to determine when to render from the texture and when from the provided
drawing command’s color</li>
  <li>Mod keys like so that, for example, <kbd>Shift</kbd>+<kbd>1</kbd> renders <kbd>!</kbd></li>
  <li>Scrolling</li>
</ul>

<p>Check it out <a href="https://github.com/tekknolagi/full-beans">here</a>. It’s designed to
all be dropped directly into your project.</p>

<p><img src="https://hnbooks.pieterma.es/assets/img/fenster-microui.png" alt="microui+fenster demo window in X11" width="100%"/></p>

        </div>
            
    <!-- Workaround for FB MITM -->
    <!-- Google tag (gtag.js) -->







    </div></div>
  </body>
</html>
