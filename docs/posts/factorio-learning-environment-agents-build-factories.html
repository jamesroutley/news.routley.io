<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://jackhopkins.github.io/factorio-learning-environment/">Original</a>
    <h1>Show HN: Factorio Learning Environment – Agents Build Factories</h1>
    
    <div id="readability-page-1" class="page">
        <section>
            
        </section>

        
        <section>
            <div>
                <div>
                    <div>
                        <div>
                            <div>
                                <div>
                                    <div>
                                        <video playsinline="" muted="" autoplay="" loop="" width="100%">
                                            <!-- MP4 for desktop devices (loads first on desktop) -->
                                            <source src="assets/videos/compressed_2213-cropped-h264.mp4" type="video/mp4"/>
                                            Your browser does not support the video tag.
                                        </video>
                                        
                                    </div>
                                </div>

                                

                                
                            </div>
                            <div>
                                <div>
                                    <div>
                                        <video playsinline="" muted="" autoplay="" loop="" width="100%">
                                            <!-- MP4 for desktop devices -->
                                            <source src="assets/videos/compressed_1891-cropped-h264.mp4" type="video/mp4"/>
                                        </video>
                                        <div><p><span>Extract 250 Petroleum Gas</span></p></div>
                                    </div>
                                </div>

                                

                                
                            </div>
                            <div>
                                <div>
                                    <div>
                                        <video playsinline="" muted="" autoplay="" loop="" width="100%">
                                            <!-- MP4 for desktop devices -->
                                            <source src="assets/videos/compressed_803-cropped-h264.mp4" type="video/mp4"/>
                                        </video>
                                        <p>Build the largest possible factory</p>
                                    </div>
                                </div>

                                <div>
                                    <div>
                                        <video playsinline="" muted="" autoplay="" loop="" width="100%">
                                            <!-- MP4 for desktop devices -->
                                            <source src="assets/videos/compressed_527-cropped-h264.mp4" type="video/mp4"/>
                                        </video>
                                        <p>Build the largest possible factory</p>
                                    </div>
                                </div>

                                <div>
                                    <div>
                                        <video playsinline="" muted="" autoplay="" loop="" width="100%">
                                            <!-- MP4 for desktop devices -->
                                            <source src="assets/videos/compressed_804-cropped-h264.mp4" type="video/mp4"/>
                                        </video>
                                        <p>Build the largest possible factory</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <p>Claude Sonnet 3.5 builds factories</p>
            </div>
        </section>

        <!-- Add this script to help with video loading -->
        

        <section>
            <div>
                <!-- Abstract. -->
                <div>
                    <div>
                        <h2>Abstract</h2>
                        <div>
                            <p>
                                Large Language Models (LLMs) are rapidly saturating existing benchmarks, necessitating new open-ended evaluations.
                                We introduce the <b>Factorio Learning Environment (FLE)</b>, based on the game of Factorio, that tests agents in long-term planning, program synthesis, and resource optimization.
                            </p>
                            <p>
                                FLE provides open-ended and exponentially scaling challenges - from basic automation to complex factories processing millions of resource units per second.
                                We provide two settings:
                            </p>
                            <ol>
                                <li><b>Lab-play</b> consisting of 24 structured tasks with fixed resources.</li>
                                <li><b>Open-play</b> with the unbounded task of building the largest factory from scratch on a procedurally generated map.</li>
                            </ol>
                            <p>
                                We demonstrate across both settings that models still lack strong spatial reasoning.
                                In lab-play, we find that LLMs exhibit promising short-horizon skills, yet are unable to operate effectively in constrained environments, reflecting limitations in error analysis.
                                In open-play, while LLMs discover automation strategies that improve growth (e.g electric-powered drilling), they fail to achieve complex automation (e.g electronic-circuit manufacturing).
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
          <section>
            <div>
                <h2><span>Introduction</span></h2>

                <p>
                    Large Language Models (LLMs) have demonstrated remarkable capabilities at solving complex question-answer (QA) problems, saturating benchmarks in factual recollection, reasoning and code generation.
                    Benchmark saturation presents a critical challenge for the AI research community: how do we meaningfully evaluate and differentiate increasingly capable models?
                </p>
                </div>
          </section>
        <section>
            <div>
                <h2><span>Environment</span></h2>

                <div>
                    <div>
                        <div>
                            <div>
                                <p><img src="https://jackhopkins.github.io/factorio-learning-environment/assets/images/figure_2.png" alt=""/></p></div>
                        </div>
                    </div>
                </div>
                <div>
                        <div>
                            <div>
                                <p><img src="https://jackhopkins.github.io/factorio-learning-environment/assets/images/repl.png" alt=""/></p></div>
                        </div>
                    </div>
                </div>
        </section>


        <section>

            <div>
                
                <p>
                    To systematically evaluate agent capabilities in the Factorio Learning Environment, we introduce two complementary experimental settings that test different aspects of planning, automation, and resource management; namely <i>open-play</i> and <i>lab-play</i>.
                </p>
                </div>

            <div>
                <div>
                    <div>
                        <div>
                            <div>
                                <p><img src="https://jackhopkins.github.io/factorio-learning-environment/assets/images/figure_6.png" width="100%" alt=""/></p></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <div>
                <h2><span>Lab-Play</span></h2>
                <p>
                    Agents are provided with resources and given a time-limit to achieve an objective.
                    We task agents to build production lines of 24 distinct target entities of increasing complexity, starting from a single resource mine requiring at most 2 machines (making <code>iron-ore</code>) to a late game entity requiring the coordination of close to 100 machines (making <code>utility-science-pack</code>).
                    The target entities cover items from early to late game, requiring agents to use a wide variety of machines present in Factorio (drills, furnaces, assembling machines, oil refineries, chemical plants). As the task difficulty naturally increases with resource requirements, this provides a measure of the complexity that agents are capable of creating in a limited number of steps.
                    All tasks provide the agent with sufficient resources to complete the task with all technologies unlocked.
                </p>
                <div>
                    <div>
                        <div>
                            <div>
                                <p><img src="https://jackhopkins.github.io/factorio-learning-environment/assets/images/figure_5.png" width="100%" alt=""/></p></div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div>
                    <div>
                        <div>
                            <div>
<!--                                <img src="assets/images/exploration_performance.png" class="interpolation-image" alt="" style="display: block; margin-left: auto; margin-right: auto; width: 80%;" />-->
                                <p><img src="https://jackhopkins.github.io/factorio-learning-environment/assets/images/figure_1.png" width="600px" alt=""/></p></div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                    <div>
                        <div>
                            <div>
<!--                                <img src="assets/images/exploration_performance.png" class="interpolation-image" alt="" style="display: block; margin-left: auto; margin-right: auto; width: 80%;" />-->
                                <p><img src="https://jackhopkins.github.io/factorio-learning-environment/assets/images/table_1.png" width="600px" alt=""/></p></div>
                        </div>
                    </div>
            </div>
        </section>

        <section>
            <div>
                <h2>Key Insights</h2>
                <p>
                Our experiments revealed several key patterns that highlight both the capabilities and limitations of current AI agents when faced with open-ended industrial challenges:
                </p>
                <div>
                    <div>
                        <div>
                            <div>
                                <h4>1. Coding skill predicts performance</h4>
                                <p>Models with stronger coding abilities (Claude 3.5-Sonnet, GPT-4o) achieved higher Production Scores and completed more lab tasks. Claude outperformed others with a PS of 293,206 and 28 milestones, progressing beyond early-game resource extraction.</p>
                            </div>
                        </div>

                        <div>
                            <div>
                                <h4>2. Technology investment drives growth</h4>
                                <p>Only Claude consistently invested resources in researching new technologies, despite their importance for long-term progression. After deploying electric mining drills at step 3k, Claude&#39;s PS grew by 50% (from 200k to 300k), demonstrating the value of strategic investment.</p>
                            </div>
                        </div>

                    </div>

                    <div>
                        <div>
                            <div>
                                <h4>3. Planning is essential in open-play</h4>
                                <p>In open-play, agents frequently pursue short-sighted objectives — like Gemini-2.0 manually crafting 300+ wooden chests over 100 steps — rather than investing in research or scaling existing production. This reveals a telling discrepancy: while Gemini-2 and Deepseek demonstrate early-game automation capabilities in structured lab-play, they rarely attempt to create cohesive factories during open-ended exploration, resulting in poorer overall performance.</p>
                            </div>
                        </div>

                       <div>
                            <div>
                                <h4>4. Spatial reasoning is a major limitation</h4>
<!--                                <p>Models struggled with spatial planning when building multi-section factories. Common failures included placing entities too close together, not leaving room for connections, or incorrect inserter placement, leading to significant underperformance in complex tasks.</p>-->
<!--                            -->
                                <p>All models exhibited limitations in spatial planning when constructing multi-section factories. Common failures included placing entities too close together, not allocating space for connections, or incorrect inserter placement - issues that severely impacted performance in complex tasks requiring coordination of multiple production lines.</p>

                            </div>
                        </div>
                    </div>

                    <div>
                        <div>
                            <div>
                                <h4>5. Error recovery poses a significant challenge</h4>
                                <p>Models frequently become trapped in repetitive error patterns, attempting the same invalid operations repeatedly rather than exploring alternative solutions. For instance, GPT-4o repeated the same API method incorrectly for 78 consecutive steps despite identical error messages.</p>
                            </div>
                        </div>
                        <div>
                            <div>
                                <h4>6. Programming styles vary significantly</h4>
                                <p>Models exhibited distinct coding approaches: Claude favored a REPL style with extensive print statements (43.3% of code lines) but few assertions (2.0%), while GPT-4o used a defensive style with more validation checks (12.8% assertions) and fewer prints (10.3%).</p>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!--Conclusion-->
        <section>
            <div>
                <div>
                    <div>
                        <div>
                            <h2><span>Conclusion</span></h2>
                            <div>
<!--                                <p style="font-size: 125%;">-->
<!--                                    In this work, we introduce the Factorio Learning Environment (FLE), a platform for evaluating AI agents in complex, industrial-scale automation scenarios. Through our complementary evaluation protocols - structured lab-play and unbounded open-play - we assess agent capabilities in:-->
<!--                                </p>-->
<!--                                <ul style="font-size: 115%;">-->
<!--                                    <li>Long-term planning across thousands of steps</li>-->
<!--                                    <li>Spatial reasoning and factory layout optimization</li>-->
<!--                                    <li>Resource allocation in complex production chains</li>-->
<!--                                    <li>Error recovery and iterative debugging</li>-->
<!--                                </ul>-->
                                <p>
                                    Our results show that even state-of-the-art LLMs struggle with the coordination and optimization challenges inherent in automation tasks. The rapidly scaling complexity of Factorio&#39;s technology tree creates evaluation scenarios that will remain challenging even as progress in AI research continues, allowing meaningful differentiation between increasingly capable models.
                                </p>

<!--                                <p style="font-size: 115%;">-->
<!--                                    Looking forward, FLE provides a platform for investigating critical research questions:-->
<!--                                </p>-->

<!--                                <ul style="font-size: 115%;">-->
<!--                                    <li>How can we develop agents that better understand spatial constraints and resource interdependencies?</li>-->
<!--                                    <li>What agent frameworks enable more effective error recovery and debugging in complex environments?</li>-->
<!--                                    <li>How might advances in planning and resource optimization in Factorio transfer to real-world industrial systems?</li>-->
<!--                                </ul>-->

                                <p>
                                    We release the Factorio Learning Environment as an open-source platform, along with our evaluation protocols and baseline implementations, to encourage research on agent capabilities in complex, open-ended domains.
                                </p>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <!--Team-->
        <section>
            
        </section>


        <section id="BibTeX">
            <div>
                <h2>BibTeX</h2>
                <pre><code>@article{hopkins2025factorio,
  title   = {Factorio Learning Environment},
  author  = {Jack Hopkins and Mart Bakler and Akbir Khan},
  year    = {2025},
  journal = {arXiv preprint arXiv: Arxiv-2305.16291}
}</code></pre>
                <div>
                    <p>With thanks to Jack Kleeman and Minqi Jiang for their invaluable help with setting up compute resources and advice during the inception of this project. Thanks to Wube and the Factorio team for developing such a stimulating game.
                    </p>
            </div>
            </div>

        </section>

        
    


</div>
  </body>
</html>
