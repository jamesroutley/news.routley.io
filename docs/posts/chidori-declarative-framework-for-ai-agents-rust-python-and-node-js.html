<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ThousandBirdsInc/chidori">Original</a>
    <h1>Chidori ‚Äì Declarative framework for AI agents (Rust, Python, and Node.js)</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description ChidoriLaunch.-.Large.540p.mov">ChidoriLaunch.-.Large.540p.mov</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/515757/255856554-6b088f7d-d8f7-4c7e-9006-4360ae40d1de.mov" data-canonical-src="https://user-images.githubusercontent.com/515757/255856554-6b088f7d-d8f7-4c7e-9006-4360ae40d1de.mov" controls="controls" muted="muted">

  </video>
</details>


<p dir="auto">Star us on Github! Join us on <a href="https://discord.gg/CJwKsPSgew" rel="nofollow">Discord</a>.</p>
<p dir="auto">Check out <a href="https://docs.thousandbirds.ai/3fe20a82965148c7a0b480f7daf0aff6" rel="nofollow">high level docs </a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-contents" aria-hidden="true" href="#contents"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contents</h2>
<ul dir="auto">
<li><a href="#-chidori-">¬† Chidori ¬†</a>
<ul dir="auto">
<li><a href="#contents">Contents</a></li>
<li><a href="#-chidori"><g-emoji alias="book" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d6.png">üìñ</g-emoji> Chidori</a></li>
<li><a href="#%EF%B8%8F-getting-started"><g-emoji alias="zap" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a1.png">‚ö°Ô∏è</g-emoji> Getting Started</a>
<ul dir="auto">
<li><a href="#installation">Installation</a></li>
<li><a href="#environment-variables">Environment Variables</a></li>
<li><a href="#example">Example</a></li>
</ul>
</li>
<li><a href="#-about"><g-emoji alias="thinking" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f914.png">ü§î</g-emoji> About</a>
<ul dir="auto">
<li><a href="#reactive-runtime">Reactive Runtime</a></li>
<li><a href="#monitoring-and-observability">Monitoring and Observability</a></li>
<li><a href="#branching-and-time-travel">Branching and Time-Travel</a></li>
<li><a href="#code-interpreter-environments">Code Interpreter Environments</a></li>
</ul>
</li>
<li><a href="#%EF%B8%8F-roadmap"><g-emoji alias="motorway" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f6e3.png">üõ£Ô∏è</g-emoji> Roadmap</a>
<ul dir="auto">
<li><a href="#short-term">Short term</a></li>
<li><a href="#med-term">Med term</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#faq">FAQ</a>
<ul dir="auto">
<li><a href="#why-another-ai-framework">Why Another AI Framework?</a></li>
<li><a href="#why-chidori">Why Chidori?</a></li>
<li><a href="#well-then-why-thousand-birds">Well then why Thousand Birds?</a></li>
<li><a href="#why-rust">Why Rust?</a></li>
</ul>
</li>
<li><a href="#inspiration">Inspiration</a></li>
<li><a href="#license">License</a></li>
<li><a href="#help-us-out">Help us out!</a></li>
</ul>
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content--chidori" aria-hidden="true" href="#-chidori"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><g-emoji alias="book" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d6.png">üìñ</g-emoji> Chidori</h2>
<p dir="auto">Chidori is a reactive runtime for building AI agents. It provides a framework for building AI agents that are reactive, observable, and robust. It supports building agents with Node.js, Python, and Rust.</p>
<p dir="auto">It is currently in alpha, and is not yet ready for production use. We are continuing to make significant changes in response to feedback.</p>
<ul dir="auto">
<li>Built from the ground up for constructing agents</li>
<li>Runtime written in Rust supporting Python and Node.js out of the box</li>
<li>Build agents that actually work :emoji:</li>
<li>LLM caching to minimize cost during development</li>
<li>Optimized for long-running AI workflows</li>
<li>Embedded code interpreter</li>
<li>Time travel debugging</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-Ô∏è-getting-started" aria-hidden="true" href="#Ô∏è-getting-started"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><g-emoji alias="zap" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a1.png">‚ö°Ô∏è</g-emoji> Getting Started</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h3>
<p dir="auto">You can use Chidori from Node.js, Python or Rust.</p>
<table>
<tbody><tr>
<th><b>Node.js</b></th>
<th><b>Python</b></th>
<th><b>Rust</b></th>
</tr>
<tr>
<td>
<div dir="auto" data-snippet-clipboard-copy-content="npm i @1kbirds/chidori"><pre>npm i @1kbirds/chidori</pre></div>
</td>
<td>
<div dir="auto" data-snippet-clipboard-copy-content="pip install chidori"><pre>pip install chidori</pre></div>
</td>
<td>
<div dir="auto" data-snippet-clipboard-copy-content="cargo install chidori"><pre>cargo install chidori</pre></div>
</td>
</tr>
</tbody></table>
<h3 tabindex="-1" dir="auto"><a id="user-content-environment-variables" aria-hidden="true" href="#environment-variables"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Environment Variables</h3>
<p dir="auto">You will need to set the following environment variables if you depend on nodes that
require them.</p>

<h3 tabindex="-1" dir="auto"><a id="user-content-example" aria-hidden="true" href="#example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h3>
<table>
<tbody><tr>
<th><b>Python</b></th>
<th><b>Rust</b></th>
</tr>
<tr>
<td>
<div dir="auto" data-snippet-clipboard-copy-content="import aiohttp
import asyncio
from typing import List, Optional
import json
from chidori import Chidori, GraphBuilder


class Story:
    def __init__(self, title: str, url: Optional[str], score: Optional[float]):
        self.title = title
        self.url = url
        self.score = score


HN_URL_TOP_STORIES = &#34;https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty&#34;


async def fetch_story(session, id):
    async with session.get(f&#34;https://hacker-news.firebaseio.com/v0/item/{id}.json?print=pretty&#34;) as response:
        return await response.json()


async def fetch_hn() -&gt; List[Story]:
    async with aiohttp.ClientSession() as session:
        async with session.get(HN_URL_TOP_STORIES) as response:
            story_ids = await response.json()

        tasks = []
        for id in story_ids[:30]:  # Limit to 30 stories
            tasks.append(fetch_story(session, id))

        stories = await asyncio.gather(*tasks)

        stories_out = []
        for story in stories:
            for k in (&#39;title&#39;, &#39;url&#39;, &#39;score&#39;):
                stories_out.append(Story(**dict((k, story.get(k, None)))))

        return stories_out


# ^^^^^^^^^^^^^^^^^^^^^^^^^^^
# Methods for fetching hacker news posts via api

class ChidoriWorker:
    def __init__(self):
        self.c = Chidori(&#34;0&#34;, &#34;http://localhost:9800&#34;)
        self.staged_custom_nodes = []

    async def build_graph(self):
        g = GraphBuilder()

        # Create a custom node, we will implement our
        # own handler for this node type
        h = await g.custom_node(
            name=&#34;FetchTopHN&#34;,
            node_type_name=&#34;FetchTopHN&#34;,
            output=&#34;type O { output: String }&#34;
        )

        # A prompt node, pulling in the value of the output from FetchTopHN
        # and templating that into the prompt for GPT3.5
        h_interpret = await g.prompt_node(
            name=&#34;InterpretTheGroup&#34;,
            template=&#34;&#34;&#34;
                Based on the following list of HackerNews threads, 
                filter this list to only launches of new AI projects: {{FetchTopHN.output}}
            &#34;&#34;&#34;
        )
        await h_interpret.run_when(g, h)

        h_format_and_rank = await g.prompt_node(
            name=&#34;FormatAndRank&#34;,
            template=&#34;&#34;&#34;
                Format this list of new AI projects in markdown, ranking the most 
                interesting projects from most interesting to least. 
                
                {{InterpretTheGroup.promptResult}}
            &#34;&#34;&#34;
        )
        await h_format_and_rank.run_when(g, h_interpret)

        # Commit the graph, this pushes the configured graph
        # to our durable execution runtime.
        await g.commit(self.c, 0)

    async def run(self):
        # Construct the agent graph
        await self.build_graph()

        # Start graph execution from the root
        await self.c.play(0, 0)

        # Run the node execution loop
        await self.c.run_custom_node_loop()


async def handle_fetch_hn(node_will_exec):
    stories = await fetch_hn()
    result = {&#34;output&#34;: json.dumps([story.__dict__ for story in stories])}
    return result


async def main():
    w = ChidoriWorker()
    await w.c.start_server(&#34;:memory:&#34;)
    await w.c.register_custom_node_handle(&#34;FetchTopHN&#34;, handle_fetch_hn)
    await w.run()


if __name__ == &#34;__main__&#34;:
    asyncio.run(main())"><pre><span>import</span> <span>aiohttp</span>
<span>import</span> <span>asyncio</span>
<span>from</span> <span>typing</span> <span>import</span> <span>List</span>, <span>Optional</span>
<span>import</span> <span>json</span>
<span>from</span> <span>chidori</span> <span>import</span> <span>Chidori</span>, <span>GraphBuilder</span>


<span>class</span> <span>Story</span>:
    <span>def</span> <span>__init__</span>(<span>self</span>, <span>title</span>: <span>str</span>, <span>url</span>: <span>Optional</span>[<span>str</span>], <span>score</span>: <span>Optional</span>[<span>float</span>]):
        <span>self</span>.<span>title</span> <span>=</span> <span>title</span>
        <span>self</span>.<span>url</span> <span>=</span> <span>url</span>
        <span>self</span>.<span>score</span> <span>=</span> <span>score</span>


<span>HN_URL_TOP_STORIES</span> <span>=</span> <span>&#34;https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty&#34;</span>


<span>async</span> <span>def</span> <span>fetch_story</span>(<span>session</span>, <span>id</span>):
    <span>async</span> <span>with</span> <span>session</span>.<span>get</span>(<span>f&#34;https://hacker-news.firebaseio.com/v0/item/<span><span>{</span><span>id</span><span>}</span></span>.json?print=pretty&#34;</span>) <span>as</span> <span>response</span>:
        <span>return</span> <span>await</span> <span>response</span>.<span>json</span>()


<span>async</span> <span>def</span> <span>fetch_hn</span>() <span>-&gt;</span> <span>List</span>[<span>Story</span>]:
    <span>async</span> <span>with</span> <span>aiohttp</span>.<span>ClientSession</span>() <span>as</span> <span>session</span>:
        <span>async</span> <span>with</span> <span>session</span>.<span>get</span>(<span>HN_URL_TOP_STORIES</span>) <span>as</span> <span>response</span>:
            <span>story_ids</span> <span>=</span> <span>await</span> <span>response</span>.<span>json</span>()

        <span>tasks</span> <span>=</span> []
        <span>for</span> <span>id</span> <span>in</span> <span>story_ids</span>[:<span>30</span>]:  <span># Limit to 30 stories</span>
            <span>tasks</span>.<span>append</span>(<span>fetch_story</span>(<span>session</span>, <span>id</span>))

        <span>stories</span> <span>=</span> <span>await</span> <span>asyncio</span>.<span>gather</span>(<span>*</span><span>tasks</span>)

        <span>stories_out</span> <span>=</span> []
        <span>for</span> <span>story</span> <span>in</span> <span>stories</span>:
            <span>for</span> <span>k</span> <span>in</span> (<span>&#39;title&#39;</span>, <span>&#39;url&#39;</span>, <span>&#39;score&#39;</span>):
                <span>stories_out</span>.<span>append</span>(<span>Story</span>(<span>**</span><span>dict</span>((<span>k</span>, <span>story</span>.<span>get</span>(<span>k</span>, <span>None</span>)))))

        <span>return</span> <span>stories_out</span>


<span># ^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span># Methods for fetching hacker news posts via api</span>

<span>class</span> <span>ChidoriWorker</span>:
    <span>def</span> <span>__init__</span>(<span>self</span>):
        <span>self</span>.<span>c</span> <span>=</span> <span>Chidori</span>(<span>&#34;0&#34;</span>, <span>&#34;http://localhost:9800&#34;</span>)
        <span>self</span>.<span>staged_custom_nodes</span> <span>=</span> []

    <span>async</span> <span>def</span> <span>build_graph</span>(<span>self</span>):
        <span>g</span> <span>=</span> <span>GraphBuilder</span>()

        <span># Create a custom node, we will implement our</span>
        <span># own handler for this node type</span>
        <span>h</span> <span>=</span> <span>await</span> <span>g</span>.<span>custom_node</span>(
            <span>name</span><span>=</span><span>&#34;FetchTopHN&#34;</span>,
            <span>node_type_name</span><span>=</span><span>&#34;FetchTopHN&#34;</span>,
            <span>output</span><span>=</span><span>&#34;type O { output: String }&#34;</span>
        )

        <span># A prompt node, pulling in the value of the output from FetchTopHN</span>
        <span># and templating that into the prompt for GPT3.5</span>
        <span>h_interpret</span> <span>=</span> <span>await</span> <span>g</span>.<span>prompt_node</span>(
            <span>name</span><span>=</span><span>&#34;InterpretTheGroup&#34;</span>,
            <span>template</span><span>=</span><span>&#34;&#34;&#34;</span>
<span>                Based on the following list of HackerNews threads, </span>
<span>                filter this list to only launches of new AI projects: {{FetchTopHN.output}}</span>
<span>            &#34;&#34;&#34;</span>
        )
        <span>await</span> <span>h_interpret</span>.<span>run_when</span>(<span>g</span>, <span>h</span>)

        <span>h_format_and_rank</span> <span>=</span> <span>await</span> <span>g</span>.<span>prompt_node</span>(
            <span>name</span><span>=</span><span>&#34;FormatAndRank&#34;</span>,
            <span>template</span><span>=</span><span>&#34;&#34;&#34;</span>
<span>                Format this list of new AI projects in markdown, ranking the most </span>
<span>                interesting projects from most interesting to least. </span>
<span>                </span>
<span>                {{InterpretTheGroup.promptResult}}</span>
<span>            &#34;&#34;&#34;</span>
        )
        <span>await</span> <span>h_format_and_rank</span>.<span>run_when</span>(<span>g</span>, <span>h_interpret</span>)

        <span># Commit the graph, this pushes the configured graph</span>
        <span># to our durable execution runtime.</span>
        <span>await</span> <span>g</span>.<span>commit</span>(<span>self</span>.<span>c</span>, <span>0</span>)

    <span>async</span> <span>def</span> <span>run</span>(<span>self</span>):
        <span># Construct the agent graph</span>
        <span>await</span> <span>self</span>.<span>build_graph</span>()

        <span># Start graph execution from the root</span>
        <span>await</span> <span>self</span>.<span>c</span>.<span>play</span>(<span>0</span>, <span>0</span>)

        <span># Run the node execution loop</span>
        <span>await</span> <span>self</span>.<span>c</span>.<span>run_custom_node_loop</span>()


<span>async</span> <span>def</span> <span>handle_fetch_hn</span>(<span>node_will_exec</span>):
    <span>stories</span> <span>=</span> <span>await</span> <span>fetch_hn</span>()
    <span>result</span> <span>=</span> {<span>&#34;output&#34;</span>: <span>json</span>.<span>dumps</span>([<span>story</span>.<span>__dict__</span> <span>for</span> <span>story</span> <span>in</span> <span>stories</span>])}
    <span>return</span> <span>result</span>


<span>async</span> <span>def</span> <span>main</span>():
    <span>w</span> <span>=</span> <span>ChidoriWorker</span>()
    <span>await</span> <span>w</span>.<span>c</span>.<span>start_server</span>(<span>&#34;:memory:&#34;</span>)
    <span>await</span> <span>w</span>.<span>c</span>.<span>register_custom_node_handle</span>(<span>&#34;FetchTopHN&#34;</span>, <span>handle_fetch_hn</span>)
    <span>await</span> <span>w</span>.<span>run</span>()


<span>if</span> <span>__name__</span> <span>==</span> <span>&#34;__main__&#34;</span>:
    <span>asyncio</span>.<span>run</span>(<span>main</span>())</pre></div>
</td>
<td>
<div dir="auto" data-snippet-clipboard-copy-content="extern crate chidori;
use std::collections::HashMap;
use std::env;
use std::net::ToSocketAddrs;
use anyhow;
use futures::stream::{self, StreamExt, TryStreamExt};
use reqwest;
use serde::{Deserialize, Serialize};
use serde_json::json;
use chidori::{create_change_value, NodeWillExecuteOnBranch};
use chidori::register_node_handle;
use chidori::translations::rust::{Chidori, CustomNodeCreateOpts, DenoCodeNodeCreateOpts, GraphBuilder, Handler, PromptNodeCreateOpts, serialized_value_to_string};

#[derive(Debug, Deserialize, Serialize)]
struct Story {
    title: String,
    url: Option&lt;String&gt;,
    score: Option&lt;f32&gt;,
}

const HN_URL_TOP_STORIES: &amp;&#39;static str = &#34;https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty&#34;;

async fn fetch_hn() -&gt; anyhow::Result&lt;Vec&lt;Story&gt;&gt; {
    let client = reqwest::Client::new();
    // Fetch the top 60 story ids
    let story_ids: Vec&lt;u32&gt; = client.get(HN_URL_TOP_STORIES).send().await?.json().await?;

    // Fetch details for each story
    let stories: anyhow::Result&lt;Vec&lt;Story&gt;&gt; = stream::iter(story_ids.into_iter().take(30))
        .map(|id| {
            let client = &amp;client;
            async move {
                let resource = format!(&#34;https://hacker-news.firebaseio.com/v0/item/{}.json?print=pretty&#34;, id);
                let mut story: Story = client.get(&amp;resource).send().await?.json().await?;
                Ok(story)
            }
        })
        .buffer_unordered(10)  // Fetch up to 10 stories concurrently
        .try_collect()
        .await;
    stories
}

async fn handle_fetch_hn(_node_will_exec: NodeWillExecuteOnBranch) -&gt; anyhow::Result&lt;serde_json::Value&gt; {
    let stories = fetch_hn().await.unwrap();
    let mut result = HashMap::new();
    result.insert(&#34;output&#34;, format!(&#34;{:?}&#34;, stories));
    Ok(serde_json::to_value(result).unwrap())
}

/// Maintain a list summarizing recent AI launches across the week
#[tokio::main]
async fn main() -&gt; anyhow::Result&lt;()&gt; {
    let mut c = Chidori::new(String::from(&#34;0&#34;), String::from(&#34;http://localhost:9800&#34;));
    c.start_server(Some(&#34;:memory:&#34;.to_string())).await?;

    let mut g = GraphBuilder::new();

    let h = g.custom_node(CustomNodeCreateOpts {
        name: &#34;FetchTopHN&#34;.to_string(),
        node_type_name: &#34;FetchTopHN&#34;.to_string(),
        output: Some(&#34;type O { output: String }&#34;.to_string()),
        ..CustomNodeCreateOpts::default()
    })?;

    let mut h_interpret = g.prompt_node(PromptNodeCreateOpts {
        name: &#34;InterpretTheGroup&#34;.to_string(),
        template: &#34;Based on the following list of HackerNews threads, filter this list to only launches of new AI projects: {{FetchTopHN.output}}&#34;.to_string(),
        ..PromptNodeCreateOpts::default()
    })?;
    h_interpret.run_when(&amp;mut g, &amp;h)?;

    let mut h_format_and_rank = g.prompt_node(PromptNodeCreateOpts {
        name: &#34;FormatAndRank&#34;.to_string(),
        template: &#34;Format this list of new AI projects in markdown, ranking the most interesting projects from most interesting to least. {{InterpretTheGroup.promptResult}}&#34;.to_string(),
        ..PromptNodeCreateOpts::default()
    })?;
    h_format_and_rank.run_when(&amp;mut g, &amp;h_interpret)?;

    // Commit the graph
    g.commit(&amp;c, 0).await?;

    // Start graph execution from the root
    c.play(0, 0).await?;

    // Register the handler for our custom node
    register_node_handle!(c, &#34;FetchTopHN&#34;, handle_fetch_hn);

    // Run the node execution loop
    if let Err(x) = c.run_custom_node_loop().await {
        eprintln!(&#34;Custom Node Loop Failed On - {:?}&#34;, x);
    };
    Ok(())
}"><pre><span>extern</span> <span>crate</span> chidori<span>;</span>
<span>use</span> std<span>::</span>collections<span>::</span><span>HashMap</span><span>;</span>
<span>use</span> std<span>::</span>env<span>;</span>
<span>use</span> std<span>::</span>net<span>::</span><span>ToSocketAddrs</span><span>;</span>
<span>use</span> anyhow<span>;</span>
<span>use</span> futures<span>::</span>stream<span>::</span><span>{</span><span>self</span><span>,</span> <span>StreamExt</span><span>,</span> <span>TryStreamExt</span><span>}</span><span>;</span>
<span>use</span> reqwest<span>;</span>
<span>use</span> serde<span>::</span><span>{</span><span>Deserialize</span><span>,</span> <span>Serialize</span><span>}</span><span>;</span>
<span>use</span> serde_json<span>::</span>json<span>;</span>
<span>use</span> chidori<span>::</span><span>{</span>create_change_value<span>,</span> <span>NodeWillExecuteOnBranch</span><span>}</span><span>;</span>
<span>use</span> chidori<span>::</span>register_node_handle<span>;</span>
<span>use</span> chidori<span>::</span>translations<span>::</span>rust<span>::</span><span>{</span><span>Chidori</span><span>,</span> <span>CustomNodeCreateOpts</span><span>,</span> <span>DenoCodeNodeCreateOpts</span><span>,</span> <span>GraphBuilder</span><span>,</span> <span>Handler</span><span>,</span> <span>PromptNodeCreateOpts</span><span>,</span> serialized_value_to_string<span>}</span><span>;</span>

<span>#<span>[</span>derive<span>(</span><span>Debug</span><span>,</span> <span>Deserialize</span><span>,</span> <span>Serialize</span><span>)</span><span>]</span></span>
<span>struct</span> <span>Story</span> <span>{</span>
    <span>title</span><span>:</span> <span>String</span><span>,</span>
    <span>url</span><span>:</span> <span>Option</span><span>&lt;</span><span>String</span><span>&gt;</span><span>,</span>
    <span>score</span><span>:</span> <span>Option</span><span>&lt;</span><span>f32</span><span>&gt;</span><span>,</span>
<span>}</span>

<span>const</span> <span>HN_URL_TOP_STORIES</span><span>:</span> <span>&amp;</span><span>&#39;</span><span>static</span> <span>str</span> = <span>&#34;https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty&#34;</span><span>;</span>

<span>async</span> <span>fn</span> <span>fetch_hn</span><span>(</span><span>)</span> -&gt; anyhow<span>::</span><span>Result</span><span>&lt;</span><span>Vec</span><span>&lt;</span><span>Story</span><span>&gt;</span><span>&gt;</span> <span>{</span>
    <span>let</span> client = reqwest<span>::</span><span>Client</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>
    <span>// Fetch the top 60 story ids</span>
    <span>let</span> story_ids<span>:</span> <span>Vec</span><span>&lt;</span><span>u32</span><span>&gt;</span> = client<span>.</span><span>get</span><span>(</span><span>HN_URL_TOP_STORIES</span><span>)</span><span>.</span><span>send</span><span>(</span><span>)</span><span>.</span><span>await</span>?<span>.</span><span>json</span><span>(</span><span>)</span><span>.</span><span>await</span>?<span>;</span>

    <span>// Fetch details for each story</span>
    <span>let</span> stories<span>:</span> anyhow<span>::</span><span>Result</span><span>&lt;</span><span>Vec</span><span>&lt;</span><span>Story</span><span>&gt;</span><span>&gt;</span> = stream<span>::</span><span>iter</span><span>(</span>story_ids<span>.</span><span>into_iter</span><span>(</span><span>)</span><span>.</span><span>take</span><span>(</span><span>30</span><span>)</span><span>)</span>
        <span>.</span><span>map</span><span>(</span>|id| <span>{</span>
            <span>let</span> client = <span>&amp;</span>client<span>;</span>
            <span>async</span> <span>move</span> <span>{</span>
                <span>let</span> resource = <span>format</span><span>!</span><span>(</span><span>&#34;https://hacker-news.firebaseio.com/v0/item/{}.json?print=pretty&#34;</span>, id<span>)</span><span>;</span>
                <span>let</span> <span>mut</span> story<span>:</span> <span>Story</span> = client<span>.</span><span>get</span><span>(</span><span>&amp;</span>resource<span>)</span><span>.</span><span>send</span><span>(</span><span>)</span><span>.</span><span>await</span>?<span>.</span><span>json</span><span>(</span><span>)</span><span>.</span><span>await</span>?<span>;</span>
                <span>Ok</span><span>(</span>story<span>)</span>
            <span>}</span>
        <span>}</span><span>)</span>
        <span>.</span><span>buffer_unordered</span><span>(</span><span>10</span><span>)</span>  <span>// Fetch up to 10 stories concurrently</span>
        <span>.</span><span>try_collect</span><span>(</span><span>)</span>
        <span>.</span><span>await</span><span>;</span>
    stories
<span>}</span>

<span>async</span> <span>fn</span> <span>handle_fetch_hn</span><span>(</span><span>_node_will_exec</span><span>:</span> <span>NodeWillExecuteOnBranch</span><span>)</span> -&gt; anyhow<span>::</span><span>Result</span><span>&lt;</span>serde_json<span>::</span><span>Value</span><span>&gt;</span> <span>{</span>
    <span>let</span> stories = <span>fetch_hn</span><span>(</span><span>)</span><span>.</span><span>await</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
    <span>let</span> <span>mut</span> result = <span>HashMap</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>
    result<span>.</span><span>insert</span><span>(</span><span>&#34;output&#34;</span><span>,</span> <span>format</span><span>!</span><span>(</span><span>&#34;{:?}&#34;</span>, stories<span>)</span><span>)</span><span>;</span>
    <span>Ok</span><span>(</span>serde_json<span>::</span><span>to_value</span><span>(</span>result<span>)</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>)</span>
<span>}</span>

<span>/// Maintain a list summarizing recent AI launches across the week</span>
<span>#<span>[</span>tokio<span>::</span>main<span>]</span></span>
<span>async</span> <span>fn</span> <span>main</span><span>(</span><span>)</span> -&gt; anyhow<span>::</span><span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>&gt;</span> <span>{</span>
    <span>let</span> <span>mut</span> c = <span>Chidori</span><span>::</span><span>new</span><span>(</span><span>String</span><span>::</span><span>from</span><span>(</span><span>&#34;0&#34;</span><span>)</span><span>,</span> <span>String</span><span>::</span><span>from</span><span>(</span><span>&#34;http://localhost:9800&#34;</span><span>)</span><span>)</span><span>;</span>
    c<span>.</span><span>start_server</span><span>(</span><span>Some</span><span>(</span><span>&#34;:memory:&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>)</span><span>)</span><span>.</span><span>await</span>?<span>;</span>

    <span>let</span> <span>mut</span> g = <span>GraphBuilder</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>

    <span>let</span> h = g<span>.</span><span>custom_node</span><span>(</span><span>CustomNodeCreateOpts</span> <span>{</span>
        <span>name</span><span>:</span> <span>&#34;FetchTopHN&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>,</span>
        <span>node_type_name</span><span>:</span> <span>&#34;FetchTopHN&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>,</span>
        <span>output</span><span>:</span> <span>Some</span><span>(</span><span>&#34;type O { output: String }&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>)</span><span>,</span>
        ..<span>CustomNodeCreateOpts</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>)</span>?<span>;</span>

    <span>let</span> <span>mut</span> h_interpret = g<span>.</span><span>prompt_node</span><span>(</span><span>PromptNodeCreateOpts</span> <span>{</span>
        <span>name</span><span>:</span> <span>&#34;InterpretTheGroup&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>,</span>
        <span>template</span><span>:</span> <span>&#34;Based on the following list of HackerNews threads, filter this list to only launches of new AI projects: {{FetchTopHN.output}}&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>,</span>
        ..<span>PromptNodeCreateOpts</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>)</span>?<span>;</span>
    h_interpret<span>.</span><span>run_when</span><span>(</span><span>&amp;</span><span>mut</span> g<span>,</span> <span>&amp;</span>h<span>)</span>?<span>;</span>

    <span>let</span> <span>mut</span> h_format_and_rank = g<span>.</span><span>prompt_node</span><span>(</span><span>PromptNodeCreateOpts</span> <span>{</span>
        <span>name</span><span>:</span> <span>&#34;FormatAndRank&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>,</span>
        <span>template</span><span>:</span> <span>&#34;Format this list of new AI projects in markdown, ranking the most interesting projects from most interesting to least. {{InterpretTheGroup.promptResult}}&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>,</span>
        ..<span>PromptNodeCreateOpts</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>)</span>?<span>;</span>
    h_format_and_rank<span>.</span><span>run_when</span><span>(</span><span>&amp;</span><span>mut</span> g<span>,</span> <span>&amp;</span>h_interpret<span>)</span>?<span>;</span>

    <span>// Commit the graph</span>
    g<span>.</span><span>commit</span><span>(</span><span>&amp;</span>c<span>,</span> <span>0</span><span>)</span><span>.</span><span>await</span>?<span>;</span>

    <span>// Start graph execution from the root</span>
    c<span>.</span><span>play</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>)</span><span>.</span><span>await</span>?<span>;</span>

    <span>// Register the handler for our custom node</span>
    <span>register_node_handle</span><span>!</span><span>(</span>c, <span>&#34;FetchTopHN&#34;</span>, handle_fetch_hn<span>)</span><span>;</span>

    <span>// Run the node execution loop</span>
    <span>if</span> <span>let</span> <span>Err</span><span>(</span>x<span>)</span> = c<span>.</span><span>run_custom_node_loop</span><span>(</span><span>)</span><span>.</span><span>await</span> <span>{</span>
        <span>eprintln</span><span>!</span><span>(</span><span>&#34;Custom Node Loop Failed On - {:?}&#34;</span>, x<span>)</span><span>;</span>
    <span>}</span><span>;</span>
    <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
<span>}</span></pre></div>
</td>
</tr>
</tbody></table>
<h2 tabindex="-1" dir="auto"><a id="user-content--about" aria-hidden="true" href="#-about"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><g-emoji alias="thinking" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f914.png">ü§î</g-emoji> About</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-reactive-runtime" aria-hidden="true" href="#reactive-runtime"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Reactive Runtime</h3>
<p dir="auto">At its core, Chidori brings a reactive runtime that orchestrates interactions between different agents and their components. The runtime is comprised of &#34;nodes&#34;, which react to system changes they subscribe to, providing dynamic and responsive behavior in your AI systems.
Nodes can encompass code, prompts, vector databases, custom code, services, or even complete systems.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-monitoring-and-observability" aria-hidden="true" href="#monitoring-and-observability"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Monitoring and Observability</h3>
<p dir="auto">Chidori ensures comprehensive monitoring and observability of your agents. We record all the inputs and outputs emitted by nodes, enabling us to explain precisely what led to what, enhancing your debugging experience and understanding of the system‚Äôs production behavior.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-branching-and-time-travel" aria-hidden="true" href="#branching-and-time-travel"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Branching and Time-Travel</h3>
<p dir="auto">With Chidori, you can take snapshots of your system and explore different possible outcomes from that point (branching), or rewind the system to a previous state (time-travel). This functionality improves error handling, debugging, and system robustness by offering alternative pathways and do-overs.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-code-interpreter-environments" aria-hidden="true" href="#code-interpreter-environments"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Code Interpreter Environments</h3>
<p dir="auto">Chidori comes with first-class support for code interpreter environments like <a href="https://deno.land/" rel="nofollow">Deno</a> or <a href="https://github.com/bazelbuild/starlark/blob/master/spec.md">Starlark</a>. You can execute code directly within your system, providing quick startup, ease of use, and secure execution. We&#39;re continually working on additional safeguards against running untrusted code, with containerized nodes support coming soon.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-Ô∏è-roadmap" aria-hidden="true" href="#Ô∏è-roadmap"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><g-emoji alias="motorway" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f6e3.png">üõ£Ô∏è</g-emoji> Roadmap</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-short-term" aria-hidden="true" href="#short-term"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Short term</h3>
<ul>
<li> Reactive subscriptions between nodes</li>
<li> Branching and time travel debugging, reverting execution of a graph</li>
<li> Node.js, Python, and Rust support for building and executing graphs</li>
<li> Simple local vector db for development</li>
<li> Adding support for containerized nodes</li>
<li> Allowing filtering in node queries</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-medium-term" aria-hidden="true" href="#medium-term"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Medium term</h3>
<ul>
<li> Analysis tools for comparing executions</li>
<li> Agent re-evaluation with feedback</li>
<li> Definitive patterns for human in the loop agents</li>
<li> Adding support for more vector databases</li>
<li> Adding support for other LLM sources</li>
<li> Adding support for more code interpreter environments</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-contributing" aria-hidden="true" href="#contributing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contributing</h2>
<p dir="auto">This is an early open source release and we&#39;re looking for collaborators from the community.
A good place to start would be to join our <a href="https://discord.gg/CJwKsPSgew" rel="nofollow">discord</a>!.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-faq" aria-hidden="true" href="#faq"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>FAQ</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-why-another-ai-framework" aria-hidden="true" href="#why-another-ai-framework"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Why Another AI Framework?</h3>
<p dir="auto">Chidori focuses more on the specifics of how LLM+code execution operates, rather than providing specific compositions of prompts.
We haven&#39;t really seen any other frameworks that focus on this space, and we think it&#39;s a really important one.
Our effort is to resolve as much of the accidental complexity of building systems in the category of long running agents as possible, helping the broader developer community build successful systems.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-why-chidori" aria-hidden="true" href="#why-chidori"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Why Chidori?</h3>
<p dir="auto">Chidori is the name of the lightning blade technique used by Kakashi in the Naruto anime series.
It also happens to <a href="https://en.wikipedia.org/wiki/Chidori" rel="nofollow">mean Thousand Birds in Japanese</a>, which is a nice coincidence.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-well-then-why-thousand-birds" aria-hidden="true" href="#well-then-why-thousand-birds"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Well then why Thousand Birds?</h3>
<p dir="auto">Thousand Birds is a reference to flocks of birds (or a murmuration) and the emergent behavior that arises from their interactions.
We think this is a good metaphor for the behavior of long running agents, the internal units of LLM execution within them, and the emergent behavior that arises from their interactions.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-why-rust" aria-hidden="true" href="#why-rust"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Why Rust?</h3>
<p dir="auto">Rust is a great language for building systems, we like the type system and the guarantees provided by it.
We also like the performance characteristics of Rust, and the ability to build a single binary that can be deployed anywhere.
The Rust ecosystem makes it fairly easy to provide bindings to other languages, which is important for us to provide a good developer experience.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-inspiration" aria-hidden="true" href="#inspiration"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Inspiration</h2>
<p dir="auto">Our framework is inspired by the work of many others, including:</p>
<ul dir="auto">
<li><a href="https://temporal.io" rel="nofollow">Temporal.io</a> - providing reliability and durability to workflows</li>
<li><a href="http://witheve.com" rel="nofollow">Eve</a> - developing patterns for building reactive systems and reducing accidental complexity</li>
<li><a href="https://timelydataflow.github.io/timely-dataflow" rel="nofollow">Timely Dataflow</a> - efficiently streaming changes</li>
<li><a href="https://www.langchain.com" rel="nofollow">Langchain</a> - developing tools and patterns for building with LLMs</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>License</h2>
<p dir="auto">Thousand Birds is under the MIT license. See the <a href="https://github.com/ThousandBirdsInc/chidori/blob/main/LICENSE">LICENSE</a> for more information.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-help-us-out" aria-hidden="true" href="#help-us-out"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Help us out!</h2>
<p dir="auto">Please star the github repo and give us feedback in <a href="https://discord.gg/CJwKsPSgew" rel="nofollow">discord</a>!</p>
</article>
          </div></div>
  </body>
</html>
