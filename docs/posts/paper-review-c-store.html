<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ntietz.com/blog/review-cstore/">Original</a>
    <h1>Paper review: C-store</h1>
    
    <div id="readability-page-1" class="page"><div>
  <article>
    

    <p><strong>Friday, November  4, 2022</strong></p>

    <p>It&#39;s that time again: I read another paper, and here&#39;s what I took away from it!
This week I read &#34;C-store: a column-oriented DBMS&#34; from chapter 4 of the <a href="http://www.redbook.io/ch4-newdbms.html">Red Book</a>.
This one I picked since I thought it would be helpful for the chess database I&#39;m working on, and it does seem applicable!</p>
<p>This paper was pretty significant for making a strong case for the utility of columnar databases in read-heavy situations.
It demonstrated an architecture for a column database which not only beats row-based databases of the time (in their workload) but also <em>beat the proprietary column databases</em> of the time as well.
One of their key takeaways is that being columnar gives you:</p>
<ul>
<li>Very good compression that&#39;s not feasible with row stores</li>
<li>A reduction in overhead of storing records</li>
<li>The ability to have multiple sorted orders for a column for efficient querying</li>
</ul>
<p>The overall architecture they presented seems straightforward and perhaps deceptively simple.
They have three major components:</p>
<ul>
<li>WS, the writeable store</li>
<li>RS, the readable store</li>
<li>Tuple mover, to move written data from WS into RS in bulk periodically</li>
</ul>
<p>Each of these components was described in brief detail.
There was enough detail to get the gist, but not enough to go write an implementation myself.
I think this is the nature of publishing: You have limited space to publish in, and also it would be nice to save some details to publish later.
They also have a number of things which were planned but not implemented, so sparse detail may also be from simply not having answers.</p>
<p>Some of the things I was left wondering were:</p>
<ul>
<li>When does the tuple mover decide that data is suitable to merge?</li>
<li>How does the tuple mover merge process work?</li>
<li>What ratio of reads:writes does this architecture support? Beyond what point does the WS become a bottleneck?</li>
<li>What workloads are favorable to the row stores over the column store?</li>
<li>How are the projections chosen? (This last one is probably my biggest open question.)</li>
</ul>
<p>This paper really gave me some inspiration for how to structure the database I&#39;m working on.
Hopefully I&#39;ll have a post up about that database&#39;s structure once it&#39;s working (always more to do, always performance traps to fall in before it&#39;s done!) and I&#39;ll be able to talk more about how its design was informed by C-store.</p>
<p>Next week&#39;s paper will be the DynamoDB paper, which I&#39;m excited to read!
Later!</p>

  </article>

  <hr/>
  <p>
    If you have comments, questions, or feedback, please email <a href="mailto:~ntietz/public-inbox@lists.sr.ht">my public inbox</a>.
    To get new posts, please use my <a href="https://ntietz.com/atom.xml">RSS feed</a>.
  </p>
</div></div>
  </body>
</html>
