<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.infoq.com/news/2023/02/aws-policy-language-cedar/">Original</a>
    <h1>AWS Creates New Policy-Based Access Control Language Cedar</h1>
    
    <div id="readability-page-1" class="page"><div>
								<p>AWS has created a <a href="https://onecloudplease.com/blog/cedar-a-new-policy-language">new language</a> for defining access permissions using policies called <a href="https://www.cedarpolicy.com/en">Cedar</a>. Cedar is currently used within <a href="https://aws.amazon.com/verified-permissions/">Amazon Verified Permissions</a> and <a href="https://www.infoq.com/news/2023/01/zero-trust-aws-verified-access/">AWS Verified Access</a>. Created by the <a href="https://www.amazon.science/research-areas/automated-reasoning">AWS Automated Reasoning Group</a>, Cedar is designed to be agnostic of AWS and simple to understand the effects of policies.</p>

<p>Cedar policies are comprised of an effect, scope, and condition clause. The effect is either one of <code>permit</code> or <code>forbid</code>. As with IAM policies, an explicit <code>forbid</code> overrides any <code>permit</code> statement. However, an explicit <code>permit</code> is required to gain access as the requests are implicitly denied.</p>

<pre><code>permit(
    principal,
    action == Action::&#34;connectDatabase&#34;,
    resource == Database::&#34;db1&#34;
) when {
    context.port == 5432
};
</code></pre>

<p>The scope is used to specify which principals, actions, and resources the policy affects. It can be left undefined, which causes the policy to be applied to all possible requests as long as the condition clause is met. <a href="https://www.linkedin.com/in/iann0036/">Ian Mckay</a>, Cloud Principal at Kablamo, notes that</p>

<blockquote>
<p>The scope is generally used for role-based access control, where you would like to apply policies scoped to a specific defined or set of resources, actions, principals, or combination thereof.</p>
</blockquote>

<p>The condition clause is used to specify the context in which the effect applies. Typically there will be one or no condition clauses, but Cedar supports any number of clauses. There is a <a href="https://docs.aws.amazon.com/verified-access/latest/ug/built-in-policy-operators.html">basic set of operators</a> available including comparison operators, Boolean operators, and collection operators such as <code>exists</code>, <code>in</code>, and <code>has</code>. Mckay notes that condition clauses are &#34;intended to perform attribute-based access control&#34;.</p>

<p>Cedar has built-in support for defining policy templates. A policy template can be used to simplify creating policies that have similar structures but differ only in principal or resource keywords. If the base template changes, any derived policies will be automatically updated. The question mark operator is used to provide a placeholder for later variable substitution:</p>

<pre><code>permit(
    principal == ?principal,
    action == Action::&#34;download&#34;,
    resource in ?resource
) when {
    context.mfa == true
};
</code></pre>

<p>Cedar also has built-in support for IP addresses and decimals through extensions. Extensions are called using a function-style syntax and must be operated on using the built-in methods. A policy that confirms that the IP address is within a valid CIDR range would look like this:</p>

<pre><code>permit(
    principal,
    action,
    resource
) when {
    ip(context.client_ip).isInRange(&#34;10.0.0.0/8&#34;)
};
</code></pre>

<p>Designed by <a href="https://www.amazon.science/latest-news/how-awss-automated-reasoning-group-helps-make-aws-and-other-amazon-products-more-secure">AWS&#39;s Automated Reasoning Group</a>, Cedar is built such that automated reasoning tools can be built to analyze policies. Reasoning as it relates to policies could be attempting to deduce if two policies are the same or if a particular policy will grant access. <a href="https://www.amazon.science/blog/a-gentle-introduction-to-automated-reasoning">According</a> to <a href="https://www.linkedin.com/in/byron-cook-8765205/">Byron Cook</a>, Distinguished Scientist at AWS,</p>

<blockquote>
<p>An automated reasoning tool does this work for us: it attempts to answer questions about a program (or a logic formula) by using known techniques from mathematics.</p>
</blockquote>

<p>Reception to the news was mixed on social media with user <a href="https://news.ycombinator.com/user?id=rendaw">rendaw</a> <a href="https://news.ycombinator.com/item?id=34451958">sharing that</a> &#34;rather than make a new language, they should have made a WASM or eBPF API and just let people use the full power of whatever language they want.&#34; User <a href="https://news.ycombinator.com/user?id=Taikonerd">Taikonerd</a> <a href="https://news.ycombinator.com/item?id=34453525">worried</a> that the agnostic nature of the language won&#39;t be effective, stating that &#34;my worry is that there will be statements that only make sense with one cloud provider&#34;.</p>

<p>At the time of writing, Cedar is available within Amazon Verified Permissions, AWS Verified Access, and the <a href="https://www.cedarpolicy.com/en/playground">Cedar playground</a>.</p>

								









  
    

							</div></div>
  </body>
</html>
