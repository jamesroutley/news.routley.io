<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ai.google.dev/gemma/docs/capabilities/function-calling">Original</a>
    <h1>Gemma3 Function Calling</h1>
    
    <div id="readability-page-1" class="page"><div role="main" id="main-content" has-book-nav="" has-sidebar="">
          
          
          
          <devsite-content>
            
              














<article>
  
  
  
    
  
  
  

  
  
    <devsite-feedback position="header" project-name="Gemma" product-id="5292923" bucket="documentation" context="" version="t-devsite-webserver-20250320-r00-rc00.467841579120382285" data-label="Send Feedback Button" track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="header" project-icon="https://www.gstatic.com/devrel-devsite/prod/v17c4f87be230ffee20589ee6dca0a2318ead9eddb228ec5c58233202ff69a933/googledevai/images/touchicon-180-new.png">

  
</devsite-feedback>
  
    
  
  

  <devsite-toc depth="2" devsite-toc-embedded="">
  </devsite-toc>
  
    
  

  






<div>

  
    




<p>When using a generative artificial intelligence (AI) model such as Gemma, you
may want to use the model to operate programming interfaces in order to complete
tasks or answer questions. Instructing a model by defining a programming
interface and then making a request that uses that interface is called <em>function
calling</em>.</p>

<p>Gemma does not output a tool specific token.
Your framework must detect a tool call by checking if the structure of
the output matches your prompted function output specification.</p>

<p>You can use function calling for a number of applications:</p>

<ul>
<li><strong>Create a natural language interface</strong> for a programming API to allow
non-programmers to operate a programmatic interface without coding.</li>
<li><strong>Generate programming calls</strong> as part of an AI agent workflow</li>
</ul>

<p>Function calling is supported in Gemma 3, but the function calling
technique can be used with prior versions of Gemma. This guide provides
instructions on how to construct Gemma prompts that use function calling.
We recommend Gemma3 27B for the best performance,
and Gemma3 12B for balanced performance and latency.</p>

<h2 id="call-functions" data-text="Call programming functions" tabindex="-1">Call programming functions</h2>

<p>You can use function calling with Gemma by constructing a prompt that provides
instructions that specify the output format and
define the available functions.</p>

<p>When the user prompt is included, the model outputs a function call,
which is a string that matches your specified output format.
That signals a request to be parsed by your model framework to call the defined
 functions.</p>

<p>The following prompting sample
shows a function definition block, along with a function call syntax,
and a function call output from the model.
The following example prompt is meant to be used with a
programming interface for a product catalog:</p>

<devsite-code><pre translate="no" dir="ltr" is-upgraded="">You have access to functions. If you decide to invoke any of the function(s),
 you MUST put it in the format of
[func_name1(params_name1=params_value1, params_name2=params_value2...), func_name2(params)]

You SHOULD NOT include any other text in the response if you call a function
[
  {
    &#34;name&#34;: &#34;get_product_name_by_PID&#34;,
    &#34;description&#34;: &#34;Finds the name of a product by its Product ID&#34;,
    &#34;parameters&#34;: {
      &#34;type&#34;: &#34;object&#34;,
      &#34;properties&#34;: {
        &#34;PID&#34;: {
          &#34;type&#34;: &#34;string&#34;
        }
      },
      &#34;required&#34;: [
        &#34;PID&#34;
      ]
    }
  }
]
While browsing the product catalog, I came across a product that piqued my
interest. The product ID is 807ZPKBL9V. Can you help me find the name of this
product?
</pre></devsite-code>

<p>This prompt should produce the following response:</p>

<devsite-code><pre translate="no" dir="ltr" is-upgraded="">[get_product_name_by_PID(PID=&#34;807ZPKBL9V&#34;)]
</pre></devsite-code>

<p>This example uses a Python style function call output.
Alternatively, you can specify a JSON style output format, as shown in the
following example:</p>

<devsite-code><pre translate="no" dir="ltr" is-upgraded="">You have access to functions. If you decide to invoke any of the function(s),
you MUST put it in the format of
{&#34;name&#34;: function name, &#34;parameters&#34;: dictionary of argument name and its value}

You SHOULD NOT include any other text in the response if you call a function
[
  {
    &#34;name&#34;: &#34;get_product_name_by_PID&#34;,
    &#34;description&#34;: &#34;Finds the name of a product by its Product ID&#34;,
    &#34;parameters&#34;: {
      &#34;type&#34;: &#34;object&#34;,
      &#34;properties&#34;: {
        &#34;PID&#34;: {
          &#34;type&#34;: &#34;string&#34;
        }
      },
      &#34;required&#34;: [
        &#34;PID&#34;
      ]
    }
  }
]
While browsing the product catalog, I came across a product that piqued my
interest. The product ID is 807ZPKBL9V. Can you help me find the name of this
product?
</pre></devsite-code>

<p>This prompt should produce the following response:</p>

<devsite-code><pre translate="no" dir="ltr" is-upgraded="">{&#34;name&#34;: &#34;get_product_name_by_PID&#34;, &#34;parameters&#34;: {&#34;PID&#34;: &#34;807ZPKBL9V&#34;}}
</pre></devsite-code>

<h2 id="components" data-text="Components of function calling prompt" tabindex="-1">Components of function calling prompt</h2>

<p>When using function calling with Gemma models, your prompt of the model should
follow this specific order and structure:</p>

<ol>
<li><a href="#function-calling-setup">Function calling <em>setup</em></a></li>
<li><a href="#function-definition">Function <em>definitions</em></a></li>
</ol>

<p>The following sections provide more detail on each of these prompting
components.</p>

<h3 id="function-calling-setup" data-text="Function calling setup" tabindex="-1">Function calling setup</h3>

<p>The <em>setup</em> section of the function calling prompt sets the overall expected
behavior of the model. You can add additional, general instructions for the
model&#39;s behavior in this section, such as specifying that the output should be
displayed using a <code translate="no" dir="ltr">print</code> or <code translate="no" dir="ltr">console.log</code> function. Use Markdown-style single
backticks (<code translate="no" dir="ltr">func_name</code>) to indicate code syntax.</p>

<devsite-code><pre translate="no" dir="ltr" is-upgraded="">You have access to functions. If you decide to invoke any of the function(s),
you MUST put it in the format of
{&#34;name&#34;: function name, &#34;parameters&#34;: dictionary of argument name and its value}

You SHOULD NOT include any other text in the response if you call a function
</pre></devsite-code>

<p>These instructions should be as clear and brief as possible. Prioritize the
most important instructions and be cautious about providing many general
instructions. Gemma models may ignore instructions that are too detailed or not
clearly expressed, particularly when you are using model versions with a lower
parameter count.</p>

<h3 id="function-definition" data-text="Function definition" tabindex="-1">Function definition</h3>

<p>The <em>definition</em> section of the prompt provides the function name, parameters,
and output, including a description for each.
You can declare functions in the format shown.
Single or multiple functions can be defined within the function declaration
block.</p>

<devsite-code><pre translate="no" dir="ltr" is-upgraded="">[
  {
    &#34;name&#34;: &#34;get_product_name_by_PID&#34;,
    &#34;description&#34;: &#34;Finds the name of a product by its Product ID&#34;,
    &#34;parameters&#34;: {
      &#34;type&#34;: &#34;object&#34;,
      &#34;properties&#34;: {
        &#34;PID&#34;: {
          &#34;type&#34;: &#34;string&#34;
        }
      },
      &#34;required&#34;: [
        &#34;PID&#34;
      ]
    }
  },
  {
    &#34;name&#34;: &#34;get_product_price_by_PID&#34;,
    &#34;description&#34;: &#34;Finds the price of a product by its Product ID&#34;,
    &#34;parameters&#34;: {
      &#34;type&#34;: &#34;object&#34;,
      &#34;properties&#34;: {
        &#34;PID&#34;: {
          &#34;type&#34;: &#34;string&#34;
        }
      },
      &#34;required&#34;: [
        &#34;PID&#34;
      ]
    }
  }
]
</pre></devsite-code>

<h2 id="next-steps" data-text="Next steps" tabindex="-1">Next steps</h2>

<p>Check out ways to deploy and run Gemma models:</p>

<ul>
<li><a href="https://colab.sandbox.google.com/github/google-gemini/gemma-cookbook/blob/main/Gemma/%5BGemma_2%5DAgentic_AI.ipynb">Gemma Function Calling Notebook</a></li>
<li><a href="https://ai.google.dev/gemma/docs/integrations/ollama">Run Gemma with Ollama</a></li>
<li><a href="https://ai.google.dev/gemma/docs/pytorch_gemma">Gemma in PyTorch</a></li>
</ul>

  

  
</div>

  

  
    
    
      
    <devsite-thumb-rating position="footer">
    </devsite-thumb-rating>
  
       
         <devsite-feedback position="footer" project-name="Gemma" product-id="5292923" bucket="documentation" context="" version="t-devsite-webserver-20250320-r00-rc00.467841579120382285" data-label="Send Feedback Button" track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="footer" project-icon="https://www.gstatic.com/devrel-devsite/prod/v17c4f87be230ffee20589ee6dca0a2318ead9eddb228ec5c58233202ff69a933/googledevai/images/touchicon-180-new.png">

  
</devsite-feedback>
       
    
    
  

  
  
</article>


<devsite-content-footer>
  <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/site-policies">Google Developers Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  <p>Last updated 2025-03-21 UTC.</p>
</devsite-content-footer>


<devsite-notification>
</devsite-notification>


  
<p>
  
    
    
    <template>
      <devsite-feedback position="thumb-rating" project-name="Gemma" product-id="5292923" bucket="documentation" context="" version="t-devsite-webserver-20250320-r00-rc00.467841579120382285" data-label="Send Feedback Button" track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="thumb-rating" project-icon="https://www.gstatic.com/devrel-devsite/prod/v17c4f87be230ffee20589ee6dca0a2318ead9eddb228ec5c58233202ff69a933/googledevai/images/touchicon-180-new.png">

  
</devsite-feedback>
    </template>
  
  
    <template>
      [[[&#34;Easy to understand&#34;,&#34;easyToUnderstand&#34;,&#34;thumb-up&#34;],[&#34;Solved my problem&#34;,&#34;solvedMyProblem&#34;,&#34;thumb-up&#34;],[&#34;Other&#34;,&#34;otherUp&#34;,&#34;thumb-up&#34;]],[[&#34;Missing the information I need&#34;,&#34;missingTheInformationINeed&#34;,&#34;thumb-down&#34;],[&#34;Too complicated / too many steps&#34;,&#34;tooComplicatedTooManySteps&#34;,&#34;thumb-down&#34;],[&#34;Out of date&#34;,&#34;outOfDate&#34;,&#34;thumb-down&#34;],[&#34;Samples / code issue&#34;,&#34;samplesCodeIssue&#34;,&#34;thumb-down&#34;],[&#34;Other&#34;,&#34;otherDown&#34;,&#34;thumb-down&#34;]],[&#34;Last updated 2025-03-21 UTC.&#34;],[],[]]
    </template>
  
</p>
            
          </devsite-content>
        </div></div>
  </body>
</html>
