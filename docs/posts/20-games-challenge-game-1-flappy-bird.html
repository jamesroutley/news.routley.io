<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://veryth.ink/blog/20gc-flappy-bird/">Original</a>
    <h1>20 Games Challenge | Game #1 - Flappy Bird</h1>
    
    <div id="readability-page-1" class="page"><section> 
<p>I completed the first game in my 20 Games Challenge journey! I talked about what this challenge entails in my previous post <a href="https://veryth.ink/blog/starting-20-games-challenge">here</a>, but in short, I‚Äôm building 10-20 classic games on my own (i.e. without tutorials) to learn game development. For this particular game I chose to use Godot as my game-engine.</p>
<p>For the first game, the challenge <a href="https://20_games_challenge.gitlab.io/challenge/#1">presents two options</a>, <a href="https://en.wikipedia.org/wiki/Pong">Pong</a> and <a href="https://en.wikipedia.org/wiki/Flappy_Bird">Flappy Bird</a>. I chose Flappy Bird because it seemed like more fun and slightly more of a challenge. If you haven‚Äôt heard of it, Flappy Bird is a simple game where you play as a bird flapping through gaps between pairs of approaching pipes - one extending up from the ground, the other down from the sky - positioned at random heights. As you clear the gap between pipes, you earn a point. That‚Äôs it! The game maintains a consistent difficulty level throughout, making it purely a test of timing and endurance.</p>
<p>I had briefly played this game back during the peak of its viral fame, even installing it on my Pebble smartwatch! While I wouldn‚Äôt call it particularly influential for me personally, it made its mark in video-game history and serves as a fine introduction to game development concepts.</p>
<p>So without further ado, I‚Äôd like to share how things went, from planning to building this game - what worked well, what didn‚Äôt, and what I want do differently next time. Of course, if you‚Äôd rather skip to the end to read a summary and see/play the result, by all means <a href="#summary-and-result">please do</a>. :)</p>

<p>I have to admit the planning stage was somewhat lacking, though in fairness, Flappy Bird is a very simple game. While I eventually studied a faithful reproduction as an example, I initially relied on my memory to plan my approach. This worked fine in this case, but it quickly became clear that for future projects, I should properly play and study the target games before jumping into design and development.</p>
<p>The first game I had ever made was in the ‚Äúendless runner‚Äù genre, and my exposure to gamedev had taught me some of the common design patterns. So with this limited experience I quickly narrowed-in on the following implementation details:</p>
<ul>
<li>Bird/player movement would be locked to the Y-axis</li>
<li>Pipes move in from the right on the X-axis with a randomized offset</li>
</ul>
<p>I also decided that I would be using Godot‚Äôs own GDScript for this project to see how I liked it.</p>
<p>The rest would be figured out later as I simply didn‚Äôt know what I didn‚Äôt know yet!</p>

<p><em><strong>Note:</strong> I used Godot 4.3 for this project, so any specifics mentioned here may differ if you‚Äôre using an earlier or later version (howdy, time-traveler). During my time learning, I encountered many API changes/deprecations between versions when seeking advice online where sometimes it wasn‚Äôt clear what version was being discussed.</em></p>
<p>Prior to taking on this project, I had gone through <em><a href="https://docs.godotengine.org/en/stable/getting_started/first_2d_game/index.html">Your first 2D game</a></em> series found in the Godot docs which was very helpful in getting a lay of the land, and learning to think with nodes. While incomplete for a production-ready game (not that that‚Äôs what I was trying to accomplish here), it was a great jumping-off point for my needs.</p>
<p>I started with implementing the Player as a <a href="https://docs.godotengine.org/en/stable/classes/class_characterbody2d.html#characterbody2d"><code>CharacterBody2D</code></a>, which gave me a foundation for the basic gameplay physics. The math was as you might imagine, pretty straightforward - define a constant force of gravity to apply to the body‚Äôs velocity each tick, and set a flap velocity after input (the spacebar, in this case) is detected. With just those two components, I had something responding to my input on screen!</p>
<p>For the pipes and ground, I initially used <a href="https://docs.godotengine.org/en/stable/classes/class_area2d.html#area2d"><code>Area2D</code></a>s. While this approach would have been fine enough, I didn‚Äôt like that I‚Äôd have to subscribe to the <a href="https://docs.godotengine.org/en/stable/classes/class_area2d.html#class-area2d-signal-body-entered"><code>body_entered</code></a> signal for each area, and likely send out another signal to inform the game system of the collision. So I inverted the relationship by making the Player an <code>Area2D</code> and the pipes/ground <a href="https://docs.godotengine.org/en/stable/classes/class_staticbody2d.html"><code>StaticBody2D</code></a>s. This felt cleaner since I could handle the collisions through pattern-matching on the properties of bodies entering the player‚Äôs hitbox, all from a single location.</p>
<p>It‚Äôs polite to clean up after oneself, in life and in game-dev, so I used <a href="https://docs.godotengine.org/en/stable/classes/class_visibleonscreennotifier2d.html"><code>VisibleOnScreenNotifier2D</code></a> to detect when pipes moved off-screen, at which point they would remove themselves from the scene tree. In hindsight, I could have just used simple bounds checking on the X-axis since pipes only ever leave one side of the screen, but I was still learning the engine and following patterns from the Godot tutorial.</p>
<p>The pipes started as single, tall sprites, but I knew I needed a way to repeat the ‚Äúthroat‚Äù of the pipe‚Äôs texture indefinitely so the base would never be visible regardless of spawn position. This led to one of my first points of friction with Godot. My attempts to implement repeating textures kept failing, and the online resources I found seemed to give outdated/wrong information. Eventually, I settled for positioning multiple sprite segments at offsets, which worked but felt hacky.</p>
<p>When it came to the ground texture, I hit a similar wall. The thought of instancing individual ground sprites like tiles seemed‚Ä¶ wrong. After some research, I discovered I was passing over key settings - enabling the <em>Sprite2D -&gt; Region</em> option and setting the region width/height to tile across, plus ensuring <em>Texture -&gt; Repeat</em> was enabled. In poking around on my own I had found the latter setting, but the keyword ‚Äúregion‚Äù didn‚Äôt seem relevant at the time. Now I know better.</p>
<figure> <div> <picture> <source srcset="/_astro/godot-repeating-textures.DG7crPlh_1kMH0Y.webp" type="image/webp"/> <img src="https://veryth.ink/_astro/godot-repeating-textures.DG7crPlh_29U9I3.png" alt="An annotated screenshot of Godot&#39;s node inspector panel, with orange lines highlighting the information relayed in the former paragraph." title="An annotated screenshot of Godot&#39;s node inspector panel, with orange lines highlighting the information relayed in the former paragraph." width="1079" height="660" loading="lazy" decoding="async"/> </picture> </div> <figcaption> Relevant fields to look out for with Sprite2D in Godot 4.3 if you&#39;re attempting to achieve repeating textures. </figcaption> </figure>
<p>I decided to go beyond the original game by adding a <a href="https://en.wikipedia.org/wiki/Parallax">parallax</a> background, mostly because I was curious what Godot had in the way of support for this. I doodled some quick layers in Aseprite and implemented them using <a href="https://docs.godotengine.org/en/stable/classes/class_parallaxbackground.html#parallaxbackground"><code>ParallaxBackground</code></a> with <a href="https://docs.godotengine.org/en/stable/classes/class_parallaxlayer.html#class-parallaxlayer"><code>ParallaxLayer</code></a>s. The result was basic but effective.</p>
<p><em><strong>Note:</strong> At the time of writing, there‚Äôs an experimental node called <a href="https://docs.godotengine.org/en/stable/classes/class_parallax2d.html#parallax2d"><code>Parallax2D</code></a> which is meant to replace <code>ParallaxBackground</code> and <code>ParallaxLayer</code>. I went with the older method because I didn‚Äôt want to get hung-up on any unexpected behavior (I‚Äôm learning - nearly everything is unexpected behavior to me right now).</em></p>
<p>And finally, I added game state handling and UI for starting/restarting, using techniques which borrowed heavily from the Godot first 2D game tutorial, and I implemented a basic scoring mechanic. With that, I had a functional rendition of Flappy Bird! üéâ</p>

<p>Calling what I‚Äôve made a complete game feels generous - there‚Äôs a lot missing that would make it feel more polished, like basic sound effects or the ability to save and load high scores. For the next title, I would like to work harder to make something I can more confidently call a finished product, or at least a solid <a href="https://en.wikipedia.org/wiki/Vertical_slice">vertical slice</a>.</p>
<p>I wish I had used Git from the start to track my progression, but I kept getting caught-up in the excitement of building whenever I found time for it. For the next round I‚Äôll definitely be committing early and often - it‚Äôs just good practice!</p>
<p>The project structure itself could use some improvement, even simplification in some places. This could have been helped by spending more time thinking through problems and putting-on my systems design hat more.</p>
<p>And finally, I regret not taking more notes and logging my activity/progress more often. Between this and not using Git, it made writing this post more difficult than it had to be. :)</p>

<p>This was a blast to build. While I encountered a few rough edges with Godot, any struggle I encountered came down to being new to the engine and my general lack of experience in game-dev. Having some familiarity with Python, I found GDScript natural and satisfying to work in, and I‚Äôm looking forward to using it more in future games. I do have some regrets about how I approached certain aspects, but ultimately it was a valuable learning experience that has me excited to tackle the next challenge.</p>
<p>And of course, here‚Äôs the web-version of the game in all its glory! I think it‚Äôs <em>very</em> cool that I can build a game and target a bunch of different platforms without much fuss at all, we‚Äôll see how this experience holds for subsequent games.</p>
<p><strong>Controls:</strong> ( Space | Left-click | Touch ) -&gt; Flap</p>
 
<p><em>I‚Äôve left a rather embarassing bug in this version of the game, see if you can find it!</em></p>

<p>Thanks for reading! If you have any questions, comments, or feedback, I‚Äôd like to hear from you. I‚Äôm trying to figure out who I‚Äôm writing these posts for - aside from myself (public journaling for soft-accountability). So if you‚Äôre following along and want to see more of a particular facet of my process, let me know!</p>
<p>You can email me at <a href="mailto:contact@chrisrenfrow.me">contact@chrisrenfrow.me</a> or find me on Mastodon <a href="https://hachyderm.io/@crenfrow">@crenfrow@hachyderm.io</a>. If you‚Äôd like to get my posts directly, you can subscribe to my <a href="https://aboutfeeds.com/">feed</a> by pointing your favorite feed reader at <code>https://veryth.ink/blog/feed.xml</code>.</p>
<p>The next game will be <em>Jetpack Joyride</em>! You can get a sneak peek at my progress (as I‚Äôm well into it at the time of writing) by visiting my <a href="https://hachyderm.io/@crenfrow/113816775782392303">devlog thread</a> on Mastodon, I also use the <code>#cr20gc</code> hashtag to mark my posts as I trek through this challenge.</p>

<ul>
<li><a href="https://20_games_challenge.gitlab.io/challenge/">20 Games Challenge</a></li>
<li><a href="https://docs.godotengine.org/en/stable/getting_started/first_2d_game/index.html">Godot Getting Started Guide - Your first 2D game</a></li>
<li><a href="https://docs.godotengine.org/en/stable/tutorials/2d/2d_parallax.html">Godot Manual - 2D Parallax</a></li>
</ul> </section></div>
  </body>
</html>
