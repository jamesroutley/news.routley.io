<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://abdisalan.com/posts/tragedy-running-old-node-project/">Original</a>
    <h1>The tragedy of running an old Node project</h1>
    
    <div id="readability-page-1" class="page"><div><p><span>
      <a href="https://abdisalan.com/static/7ccad47c8b953e7ccc8df7e46737131a/34e8a/20241117-gatsby-sad.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="/static/7ccad47c8b953e7ccc8df7e46737131a/01472/20241117-gatsby-sad.webp 240w,
/static/7ccad47c8b953e7ccc8df7e46737131a/222bd/20241117-gatsby-sad.webp 480w,
/static/7ccad47c8b953e7ccc8df7e46737131a/965c5/20241117-gatsby-sad.webp 600w" sizes="(max-width: 600px) 100vw, 600px" type="image/webp"/>
        <source srcset="/static/7ccad47c8b953e7ccc8df7e46737131a/0783d/20241117-gatsby-sad.png 240w,
/static/7ccad47c8b953e7ccc8df7e46737131a/782f4/20241117-gatsby-sad.png 480w,
/static/7ccad47c8b953e7ccc8df7e46737131a/34e8a/20241117-gatsby-sad.png 600w" sizes="(max-width: 600px) 100vw, 600px" type="image/png"/>
        <img src="https://abdisalan.com/static/7ccad47c8b953e7ccc8df7e46737131a/34e8a/20241117-gatsby-sad.png" alt="Sad stick figure next to gatsby logo" title="Sad stick figure next to gatsby logo" loading="lazy"/>
      </picture>
  </a>
    </span></p>

<p>It’s been a long while since I wrote anything on this site. The framework I used was <a href="https://www.gatsbyjs.com/docs" target="_blank" rel="nofollow noopener noreferrer">Gatsby</a> which in 2020 was one of the hot ways of getting a good looking blog up and running quickly. With over 41 dependencies, and god knows how many more sub-dependencies, this thing was a beast.</p>
<p>Time to run it after not touching it for nearly 4 years.</p>

<p>Pretty hard actually.</p>
<div data-language="text"><pre><code>npm install

&lt;1000 lines of red and failures later&gt;

Failure could not find python2...</code></pre></div>
<p>What? Why do I need python2 to install a node package. What’s it doing? Do I have python2? There probably something wrong with this old <code>node_modules</code> folder. Let me delete it.</p>
<div data-language="text"><pre><code>rm -rf node_modules/
npm install

...

Failure could not find python2</code></pre></div>
<p>Okay, you win. I’ll install python2 even though this is ridiculous.</p>
<p>…</p>
<p>30 mintues later after fiddling with installing python2 using pyenv, hoping to not ruin my python3 setup, I finally got python2.</p>

<div data-language="text"><pre><code>npm install

...

npm remove_cv_t’ is not a member of ‘std’; did you mean ‘remove_cv’</code></pre></div>
<p>What? That looks like C, or maybe C++. Why the heck is C++ code building so that I can install some node packages that just manage basic web files.</p>
<p>Some Google searching and I land on a GitHub issues page for <code>node-gyp</code> and apparently my C++ version is below 14. <strong>That does not seem right.</strong> I’ve got to have something <em>really</em> wrong because I’m down the wrong path.</p>
<p>Then it dawns on me. Do I have the right node version or is there another one I used 4 years ago back in 2020? The only one in my node version manager is <strong>v16</strong>.</p>
<p>I tried doing some Googling on how to know what node version was used in a package.json. Turns out you can’t unless the project specifically sets it.. and I didn’t. Great.</p>
<p>Now all I’m thinking is “Please let me find this node version because I don’t want to start over with this blog site.” Then I stumble upon another GitHub issues page facing a similar C++ compile error. And they mention a broken build using v12.3 and the user should revert back to v12.2</p>
<p>I install node v12 and everything works.</p>
<p>Two hours of my life gone, just to pick up where I left off.</p>
<p>I’m tired and going to bed.</p></div></div>
  </body>
</html>
