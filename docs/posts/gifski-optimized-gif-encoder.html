<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ImageOptim/gifski">Original</a>
    <h1>Gifski: Optimized GIF Encoder</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Highest-quality GIF encoder based on <a href="https://pngquant.org" rel="nofollow">pngquant</a>.</p>
<p dir="auto"><strong><a href="https://gif.ski" rel="nofollow">gifski</a></strong> converts video frames to GIF animations using pngquant&#39;s fancy features for efficient cross-frame palettes and temporal dithering. It produces animated GIFs that use thousands of colors per frame.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6ddf6a1bcae1beaf5ed5dc074eef0d605b0b704350fd9f28353c7f1521e22cf5/68747470733a2f2f6769662e736b692f64656d6f2e676966"><img src="https://camo.githubusercontent.com/6ddf6a1bcae1beaf5ed5dc074eef0d605b0b704350fd9f28353c7f1521e22cf5/68747470733a2f2f6769662e736b692f64656d6f2e676966" alt="(CC) Blender Foundation | gooseberry.blender.org" data-animated-image="" data-canonical-src="https://gif.ski/demo.gif"/></a></p>
<p dir="auto">It&#39;s a CLI tool, but it can also be compiled <a href="https://docs.rs/gifski" rel="nofollow">as a C library</a> for seamless use in other apps.</p>

<p dir="auto">See <a href="https://github.com/ImageOptim/gifski/releases">releases</a> page for executables.</p>
<p dir="auto">If you have <a href="https://brew.sh/" rel="nofollow">Homebrew</a>, you can also get it with <code>brew install gifski</code>.</p>
<p dir="auto">If you have <a href="https://www.rust-lang.org/install.html" rel="nofollow">Rust from rustup</a> (1.63+), you can also build it from source with <a href="https://lib.rs/crates/gifski" rel="nofollow"><code>cargo install gifski</code></a>.</p>

<p dir="auto">gifski is a command-line tool. There is no GUI for Windows or Linux (there is one for <a href="https://sindresorhus.com/gifski" rel="nofollow">macOS</a>).</p>
<p dir="auto">The recommended way is to first export video as PNG frames. If you have <code>ffmpeg</code> installed, you can run in terminal:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ffmpeg -i video.webm frame%04d.png"><pre>ffmpeg -i video.webm frame%04d.png</pre></div>
<p dir="auto">and then make the GIF from the frames:</p>
<div dir="auto" data-snippet-clipboard-copy-content="gifski -o anim.gif frame*.png"><pre>gifski -o anim.gif frame<span>*</span>.png</pre></div>
<p dir="auto">You can also resize frames (with <code>-W &lt;width in pixels&gt;</code> option). If the input was ever encoded using a lossy video codec it&#39;s recommended to at least halve size of the frames to hide compression artefacts and counter chroma subsampling that was done by the video codec.</p>
<p dir="auto">See <code>gifski -h</code> for more options.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Tips for smaller GIF files</h3><a id="user-content-tips-for-smaller-gif-files" aria-label="Permalink: Tips for smaller GIF files" href="#tips-for-smaller-gif-files"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Expect to lose a lot of quality for little gain. GIF just isn&#39;t that good at compressing, no matter how much you compromise.</p>
<ul dir="auto">
<li>Use <code>--width</code> and <code>--height</code> to make the animation smaller. This makes the biggest difference.</li>
<li>Add <code>--quality=80</code> (or a lower number) to lower overall quality. You can fine-tune the quality with:
<ul dir="auto">
<li><code>--lossy-quality=60</code> lower values make animations noisier/grainy, but reduce file sizes.</li>
<li><code>--motion-quality=60</code> lower values cause smearing or banding in frames with motion, but reduce file sizes.</li>
</ul>
</li>
</ul>
<p dir="auto">If you need to make a GIF that fits a predefined file size, you have to experiment with different sizes and quality settings. The command line tool will display estimated total file size during compression, but keep in mind that the estimate is very imprecise.</p>

<ol dir="auto">
<li><a href="https://www.rust-lang.org/en-US/install.html" rel="nofollow">Install Rust via rustup</a> or run <code>rustup update</code>. This project only supports up-to-date versions of Rust. You may get compile errors, warnings about &#34;unstable edition&#34;, etc. if you don&#39;t run <code>rustup update</code> regularly.</li>
<li>Clone the repository: <code>git clone https://github.com/ImageOptim/gifski</code></li>
<li>In the cloned directory, run: <code>cargo build --release</code></li>
</ol>

<p dir="auto"><a href="https://github.com/ImageOptim/gifski/blob/main/gifski.h">See <code>gifski.h</code></a> for <a href="https://docs.rs/gifski/latest/gifski/c_api/#functions" rel="nofollow">the C API</a>. To build the library, run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="rustup update
cargo build --release"><pre>rustup update
cargo build --release</pre></div>
<p dir="auto">and link with <code>target/release/libgifski.a</code>. Please observe the <a href="https://github.com/ImageOptim/gifski/blob/main/LICENSE">LICENSE</a>.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">C dynamic library for package maintainers</h3><a id="user-content-c-dynamic-library-for-package-maintainers" aria-label="Permalink: C dynamic library for package maintainers" href="#c-dynamic-library-for-package-maintainers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The build process uses <a href="https://lib.rs/cargo-c" rel="nofollow"><code>cargo-c</code></a> for building the dynamic library correctly and generating the pkg-config file.</p>
<div dir="auto" data-snippet-clipboard-copy-content="rustup update
cargo install cargo-c
# build
cargo cbuild --prefix=/usr --release
# install
cargo cinstall --prefix=/usr --release --destdir=pkgroot"><pre>rustup update
cargo install cargo-c
<span><span>#</span> build</span>
cargo cbuild --prefix=/usr --release
<span><span>#</span> install</span>
cargo cinstall --prefix=/usr --release --destdir=pkgroot</pre></div>
<p dir="auto">The <code>cbuild</code> command can be omitted, since <code>cinstall</code> will trigger a build if it hasn&#39;t been done already.</p>

<p dir="auto">AGPL 3 or later. I can offer alternative licensing options, including <a href="https://supso.org/projects/pngquant" rel="nofollow">commercial licenses</a>. Let <a href="https://kornel.ski/contact" rel="nofollow">me</a> know if you&#39;d like to use it in a product incompatible with this license.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">With built-in video support</h2><a id="user-content-with-built-in-video-support" aria-label="Permalink: With built-in video support" href="#with-built-in-video-support"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The tool optionally supports decoding video directly, but unfortunately it relies on ffmpeg 4.x, which may be <em>very hard</em> to get working, so it&#39;s not enabled by default.</p>
<p dir="auto">You must have <code>ffmpeg</code> and <code>libclang</code> installed, both with their C headers installed in default system include paths. Details depend on the platform and version, but you usually need to install packages such as <code>libavformat-dev</code>, <code>libavfilter-dev</code>, <code>libavdevice-dev</code>, <code>libclang-dev</code>, <code>clang</code>. Please note that installation of these dependencies may be quite difficult. Especially on macOS and Windows it takes <em>expert knowledge</em> to just get them installed without wasting several hours on endless stupid installation and compilation errors, which I can&#39;t help with. If you&#39;re cross-compiling, try uncommenting <code>[patch.crates-io]</code> section at the end of <code>Cargo.toml</code>, which includes some experimental fixes for ffmpeg.</p>
<p dir="auto">Once you have dependencies installed, compile with <code>cargo build --release --features=video</code> or <code>cargo build --release --features=video-static</code>.</p>
<p dir="auto">When compiled with video support <a href="https://www.ffmpeg.org/legal.html" rel="nofollow">ffmpeg licenses</a> apply. You may need to have a patent license to use H.264/H.265 video (I recommend using VP9/WebM instead).</p>
<div dir="auto" data-snippet-clipboard-copy-content="gifski -o out.gif video.mp4"><pre>gifski -o out.gif video.mp4</pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">Cross-compilation for iOS</h2><a id="user-content-cross-compilation-for-ios" aria-label="Permalink: Cross-compilation for iOS" href="#cross-compilation-for-ios"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The easy option is to use the included <code>gifski.xcodeproj</code> file to build the library automatically for all Apple platforms. Add it as a <a href="https://lib.rs/crates/cargo-xcode" rel="nofollow">subproject</a> to your Xcode project, and link with <code>gifski-staticlib</code> Xcode target. See <a href="https://github.com/sindresorhus/Gifski">the GUI app</a> for an example how to integrate the library.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Cross-compilation for iOS manually</h3><a id="user-content-cross-compilation-for-ios-manually" aria-label="Permalink: Cross-compilation for iOS manually" href="#cross-compilation-for-ios-manually"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Make sure you have Rust installed via <a href="https://rustup.rs/" rel="nofollow">rustup</a>. Run once:</p>
<div dir="auto" data-snippet-clipboard-copy-content="rustup target add aarch64-apple-ios"><pre>rustup target add aarch64-apple-ios</pre></div>
<p dir="auto">and then to build the library:</p>
<div dir="auto" data-snippet-clipboard-copy-content="rustup update
cargo build --lib --release --target=aarch64-apple-ios"><pre>rustup update
cargo build --lib --release --target=aarch64-apple-ios</pre></div>
<p dir="auto">The build will print &#34;dropping unsupported crate type <code>cdylib</code>&#34; warning. This is normal and expected when building for iOS (the cdylib option exists for other platforms).</p>
<p dir="auto">This will create a static library in <code>./target/aarch64-apple-ios/release/libgifski.a</code>. You can add this library to your Xcode project. See <a href="https://github.com/sindresorhus/Gifski">gifski.app</a> for an example how to use libgifski from Swift.</p>
</article></div></div>
  </body>
</html>
