<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.doppler.com/blog/the-current-secrets-rotation-process-is-broken">Original</a>
    <h1>The Current Secrets Rotation Process Is Broken</h1>
    
    <div id="readability-page-1" class="page"><div><div><div><p><img src="https://assets-global.website-files.com/5de9972f49103c9dc496402b/63c6eb16c5412135baa3f12a_jo02s3drsv.jpeg" loading="lazy" alt="" sizes="(max-width: 479px) 95vw, (max-width: 767px) 94vw, (max-width: 991px) 95vw, (max-width: 1439px) 94vw, 1228px" srcset="https://assets-global.website-files.com/5de9972f49103c9dc496402b/63c6eb16c5412135baa3f12a_jo02s3drsv-p-500.jpeg 500w, https://assets-global.website-files.com/5de9972f49103c9dc496402b/63c6eb16c5412135baa3f12a_jo02s3drsv-p-800.jpeg 800w, https://assets-global.website-files.com/5de9972f49103c9dc496402b/63c6eb16c5412135baa3f12a_jo02s3drsv-p-1080.jpeg 1080w, https://assets-global.website-files.com/5de9972f49103c9dc496402b/63c6eb16c5412135baa3f12a_jo02s3drsv-p-1600.jpeg 1600w, https://assets-global.website-files.com/5de9972f49103c9dc496402b/63c6eb16c5412135baa3f12a_jo02s3drsv-p-2000.jpeg 2000w, https://assets-global.website-files.com/5de9972f49103c9dc496402b/63c6eb16c5412135baa3f12a_jo02s3drsv.jpeg 2401w"/></p><div><p>On January 4th, CircleCI posted a security notice mentioning a breach of customer API tokens and secrets. Further details have since been made public, but the critical piece is the recommendation that customer secrets should be immediately rotated. If it were only that easy.<br/></p><h3>The Elephant In The Room</h3><p>Secrets (and its sibling passwords) aren’t perfect; they are, however, ubiquitous. The majority of organizations, at one time or another, will leak some or all of their secrets. Without an effective mitigation and response strategy, you’re stuck using a spreadsheet to wade through what needs to be rotated, hoping you don’t miss anything. The entire time your CTO is breathing down your neck because the CEO is breathing down theirs. Most importantly, your customers’ lives may be materially impacted.<br/></p><h3>Why Rotation Sucks</h3><p>Secrets rotation has always been encouraged but remained a TODO. Reasons for not performing rotation often included potential downtime and fear of the unknown. The root of <em>these</em> issues - orchestration and observability - have largely been addressed.</p><p>There is one reason, however, that still persists and is the single biggest inhibitor to performing rotation - <strong><em>programmatic support for managing secrets in third-party tools</em></strong>.</p><p>☣️ Requiring users to login to a dashboard to manage secrets is not scalable. There are few things users would rather be doing less when responding to an incident.</p><h3>K<strong>eep Your Users Secure</strong></h3><p>It may seem intimidating to make managing secrets more accessible, but it’s actually more secure.</p><ul role="list"><li>Reduces secret sharing</li><li>Reduces secret lifetime</li><li>Facilitates least privilege adoption</li><li>Allows for automated and push-button rotation</li></ul><p>There are only a handful of endpoints needed to support managing secrets programmatically (preferably via OAuth):</p><ul role="list"><li>Create a secret</li><li>Delete a secret</li><li>Bonus points: duplicate and roll</li></ul><p>Once these endpoints are implemented you&#39;ll just need to ensure you support more than one active secret instance at a time. <strong>That’s it</strong>.<br/></p><h3>A Better Way</h3><p>Doppler set out to help organizations become more secure when using secrets. We’ve spent a lot of time thinking about rotation. A lot. We’re building towards a world where secrets are regularly rotated - automatically; where leaks can be responded to with the click of a button; where rotation doesn’t involve downtime and deployments are triggered automatically.</p><p>If you are a CircleCI customer leveraging Doppler secrets rotation, you can rotate five of the most commonly used secrets - instantly. And we’ve got a lot more on the way.</p><p>We’re excited about making companies more secure through rotation. You can check out a detailed <a href="https://www.doppler.com/blog/doppler-secrets-rotation-core-logic" target="_blank" rel="noopener">write-up here</a>. We think engineers will appreciate the decisions we’ve made and the outcomes we support.<br/></p><h3>Closing Thoughts</h3><p>CircleCI’s notice triggered this blog post, but it’s not a dig at them. The intent is to highlight how close we actually are to making our industry fundamentally more secure. One may belittle secrets all they’d like, but we prefer to acknowledge things as they are and then make them better.</p><p>‍<br/></p><p>Appendix</p><ul role="list"><li>There are a tremendous number of other things a service can do to keep their users safe; those are outside the scope of this blog post.</li><li>Using secrets is getting better all the time thanks to protocols and patterns like OIDC, dynamic secrets, and OAuth.</li></ul></div><p><a id="blog-cta-link" href="https://dashboard.doppler.com/register"><img src="https://assets-global.website-files.com/5de9972f49103c5df3964004/6376369a0567791e8cbe41f5_Blog-Dark-CTA-4.svg" loading="lazy" alt=""/></a></p></div></div></div></div>
  </body>
</html>
