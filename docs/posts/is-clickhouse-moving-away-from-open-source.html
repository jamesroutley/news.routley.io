<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://altinity.com/blog/is-clickhouse-moving-away-from-open-source">Original</a>
    <h1>Is ClickHouse Moving Away from Open Source?</h1>
    
    <div id="readability-page-1" class="page"><article data-clarity-region="article" id="post-15138">
	<div>
		<!-- .entry-header -->

<div>
	
<p>ClickHouse is one of the best open source databases with a very active community. Released in 2016 with permissive Apache 2.0 license, it now counts more than 30,000 GitHub stargazers, hundreds of code contributors, a rich ecosystem, and thousands of businesses using ClickHouse in production. All are excellent indicators of the outstanding success of this open source technology. </p>



<p>In 2021 ClickHouse Inc. emerged in order to commercialize ClickHouse. Two years later there are now signs that ClickHouse might be moving away from its open source origins – important new features are available only in ClickHouse Cloud. That raises a lot of questions about ClickHouse’s future.</p>



<h2 id="h-closing-open-source">Closing Open Source?</h2>



<p>ClickHouse Cloud service was started in September 2022, and since then we can see evidence that ClickHouse Inc. started to make certain features in the private version only. For a long time there were only minor ones around the Replicated database engine. They had little impact on open source use.</p>



<p>Community members of course raised questions to the ClickHouse team about their plans. As Alexey Milovidov, ClickHouse Inc. CTO, <a href="https://github.com/ClickHouse/ClickHouse/issues/44767#issuecomment-1689746194" target="_blank" rel="noreferrer noopener">responded</a>:</p>



<p><em>“It’s good to have a small, limited number of modifications exclusive to ClickHouse Cloud, but only those that do not compromise the features or operation in self-managed usages, but in the same way, are crucial and distinguishing for the Cloud.”</em></p>



<p>Unfortunately, this statement is incomplete. The current closed source features include not only those that are essential for cloud operation at scale (like new SharedMergeTree storage engine, allowing true separation of storage from compute), but also generic features like <a href="https://clickhouse.com/docs/en/guides/developer/lightweight-update" target="_blank" rel="noreferrer noopener">lightweight UPDATE</a> that any ClickHouse user would use, whether in the cloud or on prem, or <a href="https://clickhouse.com/docs/en/cloud/manage/security/secure-s3#access-your-s3-bucket-with-the-clickhouseaccess-role" target="_blank" rel="noreferrer noopener">S3-role based access</a> which is a key security feature in public clouds. </p>



<p>Moreover, the current object storage implementation in open source ClickHouse looks neglected. Significant improvements were planned in <a href="https://github.com/ClickHouse/ClickHouse/issues/44767" target="_blank" rel="noreferrer noopener">the 2023 Roadmap</a>, and some, like shared metadata, were a part of <a href="https://github.com/ClickHouse/ClickHouse/issues/32513" target="_blank" rel="noreferrer noopener">the 2022 Roadmap</a> and even earlier, so the community expected those to be available in ClickHouse. Now it is clear that those improvements were implemented in ClickHouse internal fork as a part of SharedMergeTree, and are not going to be available in open source at all. This is a disappointment for the community, which has been waiting several years for those features.</p>



<h2 id="h-so-is-clickhouse-now-open-core">So is ClickHouse now Open Core?</h2>



<p>Open core is the common name for an open source project with a set of advanced features that are closed source. It is one of several models to monetize open source projects, an increasing concern for software businesses looking for a big return on investment. It also means tectonic changes for the ClickHouse open source community.</p>







<figure><img decoding="async" loading="lazy" width="1000" height="603" src="data:image/svg+xml,%3Csvg%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%20viewBox=&#39;0%200%201000%20603&#39;%3E%3C/svg%3E" alt="" data-lazy-srcset="https://altinity.com/wp-content/uploads/2023/09/Open-core-model.jpg 1000w, https://altinity.com/wp-content/uploads/2023/09/Open-core-model-480x289.jpg 480w, https://altinity.com/wp-content/uploads/2023/09/Open-core-model-768x463.jpg 768w" data-lazy-sizes="(max-width: 1000px) 100vw, 1000px" data-lazy-src="https://altinity.com/wp-content/uploads/2023/09/Open-core-model.jpg"/><figcaption><em>Diagram from </em><a href="https://www.linux.com/news/how-make-money-open-source-platforms/" target="_blank" rel="noreferrer noopener"><em>“How to Make Money from Open Source Platforms – Linux.com”</em></a></figcaption></figure>



<p>In the true open source model that ClickHouse has followed for years, the community is the main development driver. The community helps to define the roadmap, submits new features or feature requests, develops the ecosystem, and starts new businesses. The core development team develops strategic features, and acts as a moderator and the housekeeper, trying to ensure sustainable community growth. The more active the community, the more successful applications emerge, and the more popular the project becomes. This is a positive feedback loop.</p>



<p>In a full open core project, it is quite the opposite. The business and product of the project owner are the main drivers. The core development team focuses on product development. The open source community, to the extent it exists, is valued as a lead generation source. One can start developing an application using an open source version, but in order to run it in production at scale, one has to switch to the closed source product.</p>



<p>What we can see now in ClickHouse is a shift to the latter model. Using object storage efficiently is crucial for big data analytics, yet this feature is not fully available in open source. The Roadmap execution is successful in closed source cloud features only, others are abandoned, and so on. </p>



<h2>What’s Next?</h2>



<p>ClickHouse is a great database that has proven its value many times over. It runs everywhere–from edge devices to huge server farms–with outstanding results. Its extreme performance, flexibility, and portability were the main reasons for its success. It could not happen without an outstanding open source community that has grown for years – thanks to Apache 2.0 licensing and a caring approach to users.</p>



<p>Unfortunately, a switch to an open core model undermines several factors that made ClickHouse successful. The focus on the product does not allow the core team to maintain the same level of community support as before. The focus on ClickHouse Cloud features ignores the needs of users that want to use ClickHouse elsewhere. Those and other factors hurt the trust with the community that made ClickHouse so popular. The community will have to adapt to continue the amazing growth of the past few years. </p>



<p>First, it is necessary to distinguish the open source roadmap from the ClickHouse cloud roadmap. Users need to know what is going to be available in open source and when.</p>



<p>Second, the community must step up to drive development of strategic features. We recently submitted an <a href="https://github.com/ClickHouse/ClickHouse/issues/54644" target="_blank" rel="noreferrer noopener">RFC for object storage support improvements</a>. It is based on abundant feedback from other open source users and is truly a community effort. We hope this work can be done and will be merged to upstream even if it overlaps with ClickHouse cloud-only features. </p>



<p>Third, the ClickHouse team will have to delegate more authority to community contributors. The ClickHouse team is emerging as a bottleneck for reviewing and merging pull requests, which is understandable given their focus on the product.</p>



<p>We’ve always dreamed that ClickHouse will move eventually to a foundation with independent governance. This would make many users happy. We may still dream, right?</p>
</div><!-- .entry-content -->
<!-- .entry-footer -->
	</div>
</article></div>
  </body>
</html>
