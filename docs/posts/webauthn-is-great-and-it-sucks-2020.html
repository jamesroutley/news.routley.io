<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://sec.okta.com/articles/2020/04/webauthn-great-and-it-sucks/">Original</a>
    <h1>WebAuthn Is Great and It Sucks (2020)</h1>
    
    <div id="readability-page-1" class="page"><div><h2>What is WebAuthn again?</h2><p>First things first, let’s all agree that passwords suck, OK? </p><p>Good, glad we’re on the same page. Passwords are hard to remember, leading people to pick weak ones and reuse them over and over. Passwords are also easy to phish, with ever more subtle and believable attacks happening <a href="https://threatpost.com/clever-phishing-attack-enlists-google-translate-to-spoof-facebook-login-page/141571/">all the time</a>. </p><p>WebAuthn—short for Web Authentication—promises to fix passwords on the web with a strong, simple, and un-phishable standard for secure authentication. WebAuthn at its heart is a credential management API built into modern web browsers allowing web applications to strongly authenticate users, and it’s now a World Wide Web Consortium standard.</p><p>How does WebAuthn do this? Public key cryptography, which allows you to strongly authenticate without a password. Using WebAuthn, you&#39;re able to use a single authenticator (like a Yubikey, for example) on any site that supports the standard. This way, as a user, you don&#39;t need to have passwords for every site you visit, just a strong authenticator that works with WebAuthn.</p><p>In addition to offering convenience, WebAuthn provides privacy, as one site can’t figure out from the authenticator what other sites you’ve used it for. Attackers also can’t capture and successfully replay the authentication request, so malicious sites can’t use it to attack the genuine sites, eliminating <a href="https://breakdev.org/evilginx-2-next-generation-of-phishing-2fa-tokens/">man-in-the-middle attacks</a>. WebAuthn also allows you to choose your own authenticator, a device you already have (like a smartphone or computer) or an external authenticator like a USB security key. </p><h3>Wow, sounds great!</h3><p>Sure does!</p><h3>OK, so I looked up WebAuthn and it’s full of acronyms!</h3><p>You bet, let’s look at what they mean!</p><p><strong>FIDO</strong> is short for Fast IDentity Online. The FIDO Alliance is an open industry association with <a href="https://fidoalliance.org/members/">hundreds of member companies</a>, working to create authentication standards to help reduce the world’s over-reliance on passwords. </p><p><strong>FIDO2</strong> is the overarching term for the <a href="https://fidoalliance.org/specifications/download/">specifications</a> from the World Wide Web Consortium (W3C) and the FIDO Alliance. It includes both WebAuthentication (web APIs for passwordless authentication in browsers) and CTAP protocols.</p><p><strong>CTAP</strong> stands for <a href="https://fidoalliance.org/specs/fido-v2.0-ps-20190130/fido-client-to-authenticator-protocol-v2.0-ps-20190130.html">Client To Authenticator Protocol</a>. It describes how authenticators can implement second-factor and passwordless authentication. These authenticators can be built-in to devices like phones and laptops (on-device or platform authenticators), or they can be external ones (roaming authenticators or security keys) connecting over NFC, USB, and/or BLE.</p><p><strong>CTAP2</strong> is the new hotness. It enables you to use the new authenticators <strong>not only for second-factor authentication</strong>, but also for <strong><a href="https://www.w3.org/TR/webauthn/#sctn-authenticator-taxonomy">passwordless and multi-factor authentication</a></strong>. </p><p><strong>CTAP1</strong> is what used to be called FIDO U2F. It allows older U2F authenticators like security keys to continue to be used for second-factor authentication, i.e. as an extra step after a password. </p><p><img src="https://lh5.googleusercontent.com/ZO0LpBNwZXtNU7BcMFv0G97IFjEWKNGScAsD1vOBjs36YhTysbpL91AghbbSAy0QorZEHb78cLcBIvtzbuFXecY4Gaw__Re5qlWJYuORpb3KscqBv34EcVcaIX71ZD1CX_JyK7nf"/></p><p>Easy, right? Well, it could be a lot worse—just look at the <a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0 specifications!</a></p><p><img src="https://lh5.googleusercontent.com/M3i3S_QJPUvtfkFRLsC17sgw2Ha_UbkgG-ULfwKu8n9vk_HDnLL4U4R0ZcPBGnBUG99uqn21abXnAEQAHBh0LofdZ7wurV2JxOpTty36qR0BYRtYFz16XDInI-YH1tu-u1CPKdHV"/></p><p>If you want to see how WebAuthn works behind the scenes, watch this <a href="https://www.okta.com/resources/oktane-content/developer/#does-webauthn-signal">great video by James Fang and Payal Pan from Oktane 19</a>.</p><h2>Wait, why do I care again?</h2><p>Great question! The key promise is …. *drum roll* <strong>strong passwordless authentication</strong>!</p><p>The older FIDO U2F protocols and security keys allow for strong and phishing-resistant second-factor experiences, but now we’re talking passwordless! Just think of how smooth and seamless that will be!</p><p>These new protocols make it possible to require even stronger authentication than the user presence test of U2F protocol, where you tap the security key to authenticate. With FIDO2, <a href="https://www.w3.org/TR/webauthn/#user-verification">sites can require user verification</a> at different levels from password or PIN tied to the security key all the way to on-device biometrics, such as fingerprint readers, Face ID, or Windows Hello. This can enable single-device <a href="https://en.wikipedia.org/wiki/Multi-factor_authentication#Authentication_factors">multi-factor authentication</a>, combining the possession factor (you have the authenticator) with a knowledge factor (you know the PIN) and/or inherent factors (your biometric, like fingerprint or faceprint matches).</p><p>Now, the biggest challenge in moving past passwords is the simple fact that it has been the lowest common denominator—the easiest and cheapest thing to implement. Passwords like we know them date back 59 years (!!) going back to <a href="https://www.wired.com/2012/01/computer-password/">MIT in 1961 with the CTSS</a> operating system. Passwords are literally everywhere. </p><p>Every gizmo that has come since with a promise to eliminate the password has failed. There’s always been a platform, service, or system that didn’t support the latest new passwordless idea, and very few were ready to pay the cost of changing the servers, the operating systems, the applications, everything, just to get a non-compatible point solution. Passwords are cheap. Everything else is expensive.</p><p>Except now, with WebAuthn!</p><h2>Everything supports WebAuthn! Great!</h2><p>We are at a cusp of having universal support for WebAuthn!  All major operating systems and browsers have now implemented WebAuthn. </p><p>As I write this in April 2020, a full <strong>83% of all the browsers in use</strong> around the world support it, as you can see in this <a href="https://caniuse.com/#search=webauthn">CanIUse</a> report.</p><p><img src="https://lh3.googleusercontent.com/2wLQQsRTDLUv1OT-jPovHPioCZpyU5XlY_-WlSa7Mb5eoDlYJ2WntAakBxKIUfSlivfmpXvp-V2IUeQS4O_8q7dIOPV4TCc5EFsPM_eiuTPYxM8S0F1ar0Eeg0icjWqCypE9NTxU"/></p><p>There are dozens of different FIDO2-compatible security keys available from companies like Yubico, Feitian, Google, Kensington, and others. And developers have built support into operating systems (iOS, Android, Windows, macOS) so you can use platform authenticators like Touch ID sensors on MacBooks and facial recognition and fingerprint sensors on PCs.</p><p>Victory, hooray! Let’s go and get a FIDO2 Security Key so we can use it everywhere!</p><h2>Nothing supports WebAuthn! What?!</h2><p>Except when you go to set it up, you will find that basically <strong>no major web application</strong> supports WebAuthn the way we envisioned here as replacement for the password! D’oh!</p><p>Web applications support WebAuthn fairly well as a <strong>second factor</strong>, backward compatible to FIDO U2F, but even that support remains far from universal.</p><p>Story time! I’ve always been more than a little paranoid, an occupational hazard having worked around web security for 20+ years. Outside of work, I already had a unique, complex, and <a href="https://haveibeenpwned.com/Passwords">non-Pwned password</a> for each of the 562 websites and apps I have a login for (not counting the work apps behind Okta SSO of course). Yes, I use a <a href="https://1password.com/">password manager</a>—I’m not an animal.</p><p>Let me recount my experience when I went to set up WebAuthn on every account whose security really matters to me! Passwords begone! Here are the results!</p><h3>Let’s see the scoreboard</h3><ul><li>GMail: Yes! But alas only as a U2F security key after password.</li><li>Another email: No, but at least they support generic <a href="https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm">TOTP second factors</a>.</li><li>Apple iCloud: Proprietary multi-factor authentication, but that’s a different story. </li><li>Cellular provider: LOL NOPE! Security PIN only and SMS, which they helpfully are willing to send to my kids’ phone numbers too in case they ever guess my password!</li><li>Top modern robo advisor: No, but at least they support generic TOTP.</li><li>Top online brokerage: No, but at least they support a proprietary third-party TOTP app.</li><li>Top retirement account: LOL NOPE! SMS!</li><li>Top-three credit card issuer: LOL NOPE! SMS!</li><li>Another top-three credit card issuer: LOL NOPE! No strong authentication of ANY kind.</li><li>Top-five bank: LOL NOPE! SMS! Or they’ll sell you a 90’s-style hardware TOTP token!</li><li>Local credit union: LOL NOPE! They got nothing, but the last time I tried to log in my account was locked out, so good to know that somebody’s trying to brute-force my complex, globally unique password :)</li><li>Online crypto currency wallet: Yes! But alas only as a U2F security key after password. Also, they block my FIDO2 platform authenticator and only allow USB security keys. And once you add a security key, you lose your TOTP! It’s one or the other!  </li><li>My DNS / hosting provider: Yes! But alas only as a U2F security key after password.</li><li>Facebook: Yes, but just as a second factor, U2F mode.</li><li>Twitter: Yes, but just as a second factor, U2F mode, and the settings are buried deep.</li><li>Zoom: Nope. Just a well-hidden option to add a generic TOTP second factor.</li><li>Dropbox: Yes, but just as a second factor, U2F mode.</li></ul><p>So, the <strong>score is 0 (zero) out of 17 for going passwordless</strong> with WebAuthn. Sigh.</p><p>Or we could say the score is 6 out of 17, if we accept U2F mode using WebAuthn as a second factor.</p><h3>Don’t banks want better security?</h3><p>Well, they do, but they are not pushing end-user-visible and end-user-operated security tools, because today even the best ones like WebAuthn add friction in the form of inconsistencies and confusion. And as I’ll show you shortly, even with WebAuthn that friction is unfortunately real. </p><p>Any friction translates to confused and angry customers, which translates to millions of dollars in call-center cost and customer churn. Remember that even small banks have tens of thousands of users, large ones tens of millions! This is why banking security professionals focus so heavily on the invisible, back-end fraud detection and risk management tools. And if an attacker compromises an account and takes money, the bank can make the account holder whole again and treat it as a cost of doing business. Corporate banking portals dealing with big money transfers typically use strong authentication, as the user population is much smaller and more receptive to adopting security measures.</p><p>So, don’t look for consumer financial services to adopt passwordless WebAuthn first. That won’t happen until browsers and operating systems universally support it and <strong>not until the user experience is consistent and great</strong>.</p><h2>Why can’t we have nice things?</h2><p>So are WebAuthn and FIDO2 doomed to fail? And can it ever get us to passwordless? </p><p>Well, the technology doesn’t suck, the protocols work, the basic tech is kind of great, and you can and should use WebAuthn as a second-factor authenticator everywhere that matters! Security keys are one of the <a href="https://krebsonsecurity.com/2018/07/google-security-keys-neutralized-employee-phishing/">strongest practical authenticators</a> available today, and they are useful for anyone who would ever get this far into a blog post like this.</p><p>The problem is, while they technically work, the <a href="https://blog.silverorange.com/web-authn-ux-89a61ba7b555">user experience is broken</a>. </p><p>Every website has a different path for setting things up. What the security settings are called and where they are found are wildly inconsistent from one website to the next. </p><p>Every browser and operating system presents the experience in a different-looking pane or slide-over. The terminology different browsers use is inconsistent and confusing. </p><p>Even the very few sites that support the full passwordless WebAuthn experience have to provide other options, so you have to click on a separate link for the passwordless path. And if you make a mistake during setup, the error messages can be less than helpful.</p><p><img src="https://lh6.googleusercontent.com/b1qcKPRRquGHsuNgvomjLj1p0e9fsSTy605x88BVKynqrnKiV5bI8kU_yznvCRgHLAq_mDE20nnApEsPK9Ob5zzbah_w3l-Zcau-x8EHQ5i6i0-78NWCks5JhbcYbnU-O8Xxhmwj"/></p><p>Therefore it is hard to recommend WebAuthn to the people we most want to help—our friends and family, children and parents. The way websites, browsers and OSs implement WebAuthn today does not pass my will-my-spouse-murder-me-in-my-sleep standard of deployability. </p><h2>Can I get passwordless WebAuthn?</h2><p>In short, probably not today. But it’s not hopeless!</p><p>Frankly, you might get passwordless first at work. Modern single sign-on providers make it possible to use WebAuthn and other modern authenticators in combination with risk scoring, device management, and other tools in the corporate IT tool box to enable end-to-end passwordless experiences. These corporate solutions, like <a href="https://www.okta.com/fastpass/">Okta FastPass</a>, combine on-device biometrics and device management solutions to get there. At work, we are <a href="https://www.okta.com/blog/2019/10/the-dogfooding-chronicles-webauthn-the-path-to-passwordless/">eating our own dogfood</a> with WebAuthn!</p><p>Outside of the workplace, across the 17 sites I looked to secure, I found none that yet supported a bona-fide WebAuthn passwordless experience. </p><h2>So what should I do?</h2><p>Don’t give up!</p><p>Even if we can’t have true passwordless today, <strong>adding WebAuthn as a strong second-factor authentication is absolutely worth it</strong>. I can use WebAuthn as a second factor at 6 of my 17 sites I checked. <a href="https://youtu.be/w-YDV6vC2qo">Not great, not terrible!</a> Another 4 of the 17 support adding TOTP one-time passwords. Although technically these one-time passwords are phishable, the risk is vastly reduced if you’re using a password manager app as your TOTP authenticator as well, as the password manager won’t autofill your credentials to the phishing site. </p><p>So using WebAuthn as a second-factor authenticator is definitely worth it and user experience is fairly seamless when combined with password managers.</p><p>But how do we ever get to the promised WebAuthn passwordless world?!</p><p>Let’s keep the pressure on the browser and operating system vendors and ask for consistency. Ask <a href="https://support.google.com/chrome/answer/95315">Chrome</a>, <a href="https://qsurvey.mozilla.com/s3/FirefoxInput/">Firefox</a>, and <a href="https://www.apple.com/feedback/safari.html">Safari</a> to standardize their naming conventions for a better user experience!</p><p>And on the other hand, let’s keep the pressure on the <a href="https://twofactorauth.org/">websites that don’t support strong authentication</a> at all and more specifically, let’s push <a href="https://www.dongleauth.info/">websites that don’t support security keys</a> to add that support.</p><p>If you’re an IT administrator and want to support WebAuthn for your employee access, it’s easy to do with modern SSO providers like <a href="https://www.okta.com/resources/whitepaper-how-webauthn-works-oad">Okta</a>. </p><p>And if you’re one of the people who builds these websites, consider adding WebAuthn support to it! The frameworks are there and ready for you to use, see <a href="https://developers.yubico.com/WebAuthn/WebAuthn_Developer_Guide/Overview.html">Yubico’s WebAuthn developer guide</a> and <a href="https://2018.pycon-au.org/talks/44258-webauthn-multifactor-auth-for-everyone/">this talk</a> for examples. With just a little more design and usability polish, we can all win!</p><p>Thanks for reading and stay safe!</p></div></div>
  </body>
</html>
