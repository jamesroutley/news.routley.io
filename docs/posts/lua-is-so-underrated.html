<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nflatrea.bearblog.dev/lua-is-so-underrated/">Original</a>
    <h1>Lua Is So Underrated</h1>
    
    <div id="readability-page-1" class="page"><div>
    

    
        
    

    
        

        <p>
            <i>
                <time datetime="2024-12-26T18:31Z">
                    26 Dec, 2024
                </time>
            </i>
        </p>
    

    <p>The more I learn about Lua&#39;s design and implementation, the more impressed I am. It&#39;s very rare to see software that does so much with so little code.</p>
<p>Unfortunately, Lua doesn’t have the same level of marketing and hype as some other languages. This lack of promotion means that fewer developers are aware of Lua’s capabilities and benefits. It is often perceived as a niche language, primarily used in gaming and embedded systems.</p>
<p>Consequently, Lua may not receive the attention it deserves, even though it has a lot to offer ;</p>
<h3 id="lua-is-easy-to-understand">Lua is easy to understand</h3><p>Lua is a free, reflexive and imperative scripting language. Created in 1993, designed to be embedded within other applications to extend them. The interpreter was developed by Brazillian engineers and has been updated many times since.</p>
<p>Its design is clean, and the code is fast.</p>
<p>The C API is easy to use and gives good performance, and yet encapsulates enough of the VM&#39;s implementation that C modules are source and binary compatible with both Lua and LuaJIT. Its syntax is clean and minimalistic, making it accessible even for beginners, yet is incredibly easy to master.</p>
<h3 id="lua-is-extremely-embeddable">Lua is extremely embeddable.</h3><p>Lua is designed to be easily embedded into applications written in other languages, particularly C and C++. This makes it an excellent choice for scripting and extending games and embedded applications. In C for example, embedding Lua is as :</p>
<div><pre><span></span><span>#include</span><span> </span><span>&lt;lua.h&gt;</span>
<span>#include</span><span> </span><span>&lt;lauxlib.h&gt;</span>
<span>#include</span><span> </span><span>&lt;lualib.h&gt;</span>

<span>int</span><span> </span><span>main</span><span>()</span><span> </span><span>{</span>
<span>    </span><span>lua_State</span><span> </span><span>*</span><span>L</span><span> </span><span>=</span><span> </span><span>luaL_newstate</span><span>();</span>
<span>    </span><span>luaL_openlibs</span><span>(</span><span>L</span><span>);</span>
<span>    </span><span>luaL_dofile</span><span>(</span><span>L</span><span>,</span><span> </span><span>&#34;./myscript.lua&#34;</span><span>);</span>
<span>    </span><span>lua_close</span><span>(</span><span>L</span><span>);</span>
<span>    </span><span>return</span><span> </span><span>0</span><span>;</span>
<span>}</span>
</pre></div>
<h3 id="multi-paradigm-support">Multi-paradigm support</h3><p>Standalone or with the right libraries, Lua supports multiple programming paradigms, including imperative, functional, and object-oriented programming. This flexibility does allow us to use the one that best suits our needs.</p>
<p>Yet, not everything might suit everyone...</p>
<h3 id="indexing-conventions">Indexing conventions</h3><p>In Lua, indexing generally starts at index 1, but is a convention. Arrays can be indexed by 0, negative numbers, or any other value (anything but nil). Lua does not really have arrays in the sense of sequences. There’s just tables, and the tables are always key-value hashes.</p>
<hr/>
<p><strong>NB</strong> : The standard library for tables and built-ins like ipairs assume array-like tables with indexes starting at 1. So, for nearly all practical purposes, you probably want to index your array-like tables starting at 1.
<a href="https://lobste.rs/s/jf4in1/lua_is_so_underrated#c_gcmsph">~ telemachus</a></p>
<hr/>
<h3 id="error-handling">Error handling</h3><p>While I personally like how Lua handles errors, it might be less intuitive for developers coming from other languages. In Lua, errors may be handled as values, just like in Go :</p>
<div><pre><span></span><span>function</span> <span>risky_function</span><span>()</span>
    <span>error</span><span>(</span><span>&#34;Something went wrong!&#34;</span><span>)</span>
<span>end</span>

<span>local</span> <span>status</span><span>,</span> <span>err</span> <span>=</span> <span>pcall</span><span>(</span><span>risky_function</span><span>)</span>
<span>if</span> <span>not</span> <span>status</span> <span>then</span>
    <span>print</span><span>(</span><span>&#34;Error: &#34;</span> <span>..</span> <span>err</span><span>)</span>
<span>end</span>
</pre></div>
<h3 id="nil-terminated-arrays">Nil-Terminated Arrays</h3><p>The one that bothers me the most, might be the fact that arrays (tables used as arrays) are nil-terminated, meaning the end of the array is marked by a nil value. This can lead to unexpected behavior if not handled properly:</p>
<div><pre><span></span><span>local</span> <span>arr</span> <span>=</span> <span>{</span><span>10</span><span>,</span> <span>20</span><span>,</span> <span>30</span><span>,</span> <span>nil</span><span>,</span> <span>50</span><span>}</span>
<span>for</span> <span>i</span><span>,</span> <span>v</span> <span>in</span> <span>ipairs</span><span>(</span><span>arr</span><span>)</span> <span>do</span>
    <span>print</span><span>(</span><span>v</span><span>)</span>  <span>-- Output: 10, 20, 30 (nil terminates the array)</span>
<span>end</span>
</pre></div>
<p>The <code>ipairs</code> function stops iterating when it encounters a nil value, which can be surprising if you expect it to continue iterating over the entire table. If you suspect your sequence to have gaps, you should avoid using <code>ipairs</code>. Instead, you can use <code>pairs</code> (or <code>next</code>) to get at the whole set of items without stopping at the first nil.</p>
<h3 id="tldr">TLDR ;</h3><p>Lua is a powerful, efficient, and versatile programming language that deserves more recognition. Its simplicity, embeddability, and performance make it an excellent choice for a wide range of applications like games and embedded systems. However, it may be viewed as a niche language and competition from more popular languages may have contributed.</p>
<p>If you’re looking for a straightforward, efficient scripting language, just give it a try, you&#39;d be surprised.</p>
<p><em>Lua is used in nvim for plugins since 0.5.0, you bet it&#39;s efficient !</em></p>


    

    
        

        
            


        
    


  </div></div>
  </body>
</html>
