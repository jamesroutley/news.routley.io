<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://biggieblog.com/solving-puzzles-faster-than-humanly-possible/">Original</a>
    <h1>Solving puzzles faster than humanly possible</h1>
    
    <div id="readability-page-1" class="page"><article id="post-1340">
	

	



	<div>
		

<content>
  <div>

		  
	
	
<p>Conventional wisdom suggests that rushed engineering is sloppy engineering.  Let’s find some low stakes, and put that theory to the test!</p>



<h2>The Opus Magnum 24-Hour Challenge</h2>



<p>I’ve blogged <a href="https://biggieblog.com/defeating-refined-bronze-and-losing-a-cow-bet/">many times already</a> about the recreational engineering game that is <a href="https://store.steampowered.com/app/558990/Opus_Magnum/">Opus Magnum</a>.  This game will be our testing ground.  Specifically, the player known as “<a href="https://www.youtube.com/user/pcowboy">panic</a>” has created a program to procedurally create solvable Opus Magnum custom puzzles in bulk.  These are not tournament-quality puzzles with clever gimmicks (a post on the recent tournament is in progress, by the way!) but rather an assortment of <em>things that can be solved</em>.  The gif here is an example of one of these puzzles; I solved it without much care for optimization, though I am naturally cycles-brained.</p>


<div>
<figure><img fetchpriority="high" decoding="async" width="826" height="647" src="https://i0.wp.com/biggieblog.com/wp-content/uploads/2024/05/Opus-Magnum-GEN042-350G-35-96-2024-05-02-01-15-12.gif?resize=826%2C647&amp;ssl=1" alt="" data-recalc-dims="1"/></figure></div>


<p>Find a zip file of 100 of these puzzles on panic’s website at the link here: <a href="http://critelli.technology/24hour-1-sample.zip">http://critelli.technology/24hour-1-sample.zip</a>.  The “critelli.technology” domain should be familiar to those who have seen other <a href="https://events.critelli.technology/">events</a> in Opus Magnum or used community tooling to <a href="http://critelli.technology/merge.html">merge</a> or <a href="http://critelli.technology/mirror.html">mirror</a> their solutions.  Also present through this domain is a python library <a href="http://critelli.technology/om.py">http://critelli.technology/om.py</a> that can be used to parse puzzle files and build and simulate solution files.  Then on two important dates, there will be new puzzle drops.</p>



<h3>June 2</h3>



<p>On Sunday, June 2, 2024 at 00:00 GMT, panic will release a new set of puzzles, this time 1000 of them, at <a href="http://critelli.technology/24hour-1-test.zip">http://critelli.technology/24hour-1-test.zip</a>.  For 24 hours following this drop, you can send zips of solution files to panic at ian@ianhenderson.org.   He will use the om library to run and score them, evaluating their Cost, Cycles and Area as metrics.  All of the infrastructure is there to efficiently construct a high volume of data about a potentially large number of submissions.</p>



<p>And it is going to be a large number.  Consider, 24 hours for 1000 puzzles means it is <strong>not humanly feasible for one person to solve them all by hand</strong>.</p>



<h3>October 20</h3>



<p>The <em>official </em>24 hour challenge will happen on Sunday, October 20th, 2024 at 00:00 GMT, at <a href="http://critelli.technology/24hour-1-puzzles.zip">http://critelli.technology/24hour-1-puzzles.zip</a>.  It will work the exact same as the June 2 one, but with more time to prepare.</p>



<p>But, prepare what?</p>



<p>Well the intention here, is to push people to make <strong>automated puzzle solvers</strong>.  The 100 puzzles already given are test fodder for the bots, and the June 2nd date helps test the full end to end process of puzzle drop to deadline.</p>



<h2>Prior Art</h2>



<figure><p>
<iframe title="Opus Magnum - Automated Puzzle Solver" width="500" height="281" src="https://www.youtube.com/embed/egrs04Ko864?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</p></figure>



<p>Opus Magnum was released in December 2017.  In June 2018, “gtw123” shared the video shown here.  In the video, an automated solver builds solutions for Refined Gold, Water Purifier, and a particular custom puzzle containing every atom type in the output.</p>



<p>The source code for gtw123’s solver is found at <a href="https://github.com/gtw123/OpusSolver">https://github.com/gtw123/OpusSolver</a>.</p>



<p>One key difference versus the 24 hour challenge, is the fact that gtw123’s bot is building its solutions directly in the game.  It reads the content of the inputs and outputs by placing atoms directly and doing image recognition.  It manipulates the UI to place parts and instructions, and stops when the solution is built, expecting the user to then run it.</p>



<p>However, as an intermediate step, it is clearly generating a blueprint for a solution to an already-analyzed puzzle.  That step is the <em>only </em>thing happening in the 24 hour challenge.  Using all of the infrastructure panic has built, the graphics and UI interaction are no longer part of the problem.  UI interaction also takes up a lot of runtime in the video, while the conversion from puzzle to blueprint appears nearly instant.  Running 1000 cases of just creating a solution file could be a very quick process, a matter of seconds.</p>



<p>But it’s clearly not that exciting to just clone gtw123’s bot, extract the solution method, and complete the 24 hour challenge.  It might be a good idea for one person to do this, ideally gtw123.  The goal though, is to come up with new methods.  From the minds of the community, automate solving the puzzles more optimally for the main metrics.</p>



<h2>The Alternative</h2>



<p>What if <strong>people</strong> solved all the puzzles?  A team of humans, devoted to making sure that humanity would come out on top?  This is the goal of Zorflax and “Team Nobots”.  It would take a team effort to solve 1000 puzzles in 24 hours, optimally or not.  Crowdsourcing is hard because it takes a decent amount of skill to create solutions.  So if we give 8 hours per person, how many skilled players would it take?</p>



<p>For humans, we get bottlenecked by UI interaction again.  Look at the current any% world record for speedrunning the campaign, by rebix:</p>



<figure><p>
<iframe title="[opus magnum] any% speedrun WR 18:37.11" width="500" height="281" src="https://www.youtube.com/embed/xpsKQA4Cnlc?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</p></figure>



<p>This represents the fastest reasonable solution creation speed for a human.  In the case of a level with significant complexity, it takes between 30 seconds and 1 minute to build and run a solution:</p>



<figure><p>
<iframe title="5-5 curious lipstick 39.04" width="500" height="281" src="https://www.youtube.com/embed/VD5LltTxf40?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</p></figure>



<p>That’s something like 12 hours of UI interaction for 1000 puzzles.  If humans are to be building separate solutions to minimize Cost, Cycles, or Area, then it’s functionally 3000 puzzles.  And likely more than 36 hours, because of the types of solutions expected.</p>



<p>When rebix and others route speedsolves, the actual machines are not optimized for any of the major metrics.  The only consideration is ease of building and memorizing.  When trying to optimize any metric, the UI interaction time becomes far higher.  Cost and Area optimized solutions have hundreds of instructions, especially if they require purifying metals by several levels.  I would feel comfortable putting a lower bound of 100 hours of UI interaction to make the full set of solutions.  This means over a dozen players putting in a full day.  Assuming that nobody has to think too hard.</p>



<h3>What About Thinking?</h3>



<p>There have been speedsolving competitions in the past, where a player must solve puzzles quickly with no outside aid.  The timer starts when the players first have the ability to see and download the puzzle, and ends when they submit it to the events website.  All design, building, and programming, is on the clock.</p>



<p>The fastest solutions usually come in at around 3-4 minutes for simple puzzles and 5-10 for complicated ones.  Here’s my 8 minute solution to “Berlo’s Dualism” that had a task to replace central salt by vitae and mors.</p>


<div>
<figure><img decoding="async" width="826" height="647" src="https://i0.wp.com/biggieblog.com/wp-content/uploads/2024/05/SPOILER_Opus_Magnum_-_BERLOS_DUALISM_800G_160_369_2023-10-20-21-08-19.gif?resize=826%2C647&amp;ssl=1" alt="" data-recalc-dims="1"/></figure></div>


<p>Reducing thinking meant creating waste polymers even though it wasn’t specifically necessary, as well as building two mirror image halves with click-drag copying, and mass-offsetting their instructions by 2 cycles to reuse complex things already built.</p>



<p>Gimmicky puzzles could take as long as 15 min, as was the case for “Galvanization”, a puzzle where the only permitted instructions were grab, rotate, drop.  No pivots, no pistons, no track.  I built the below in around 17 minutes.</p>



<figure><img decoding="async" width="826" height="647" src="https://i0.wp.com/biggieblog.com/wp-content/uploads/2024/05/SPOILER_Opus_Magnum_-_GALVANIZATION_690G_148_383_2023-11-18-12-18-17.gif?resize=826%2C647&amp;ssl=1" alt="" data-recalc-dims="1"/></figure>



<h3>Reasonable Puzzle Design</h3>



<p>Fortunately, for the 24 hour challenge, there is a guarantee that puzzles will permit all instructions and arm types.  Bonding and unbonding will always be available, and there will be no gimmick bonds like triplex between non-fire atoms.</p>



<p>But still, the puzzles have some complexity and the goal involves optimizing.  So it may take an hour for each puzzle to get all 3 metrics to a comfortably low score.  This is starting to look more like 100 dedicated solvers, which is bordering on unreasonable in such a small community.</p>



<p>But all they need to beat is the bots right?  Who is to say the bots aren’t all going to be making horribly unoptimized solutions that even the most naive speedsolver could beat on their first effort?  Well, that’s what we are getting out of this experiment.  Figuring out reasonable expectations on both sides, then testing those expectations against reality.</p>



<h2>A Hybrid Approach</h2>



<p>We have a <a href="https://github.com/QuintessentialOM/Quintessential">modding framework</a> for the game.  Modded UI can allow for a much nicer solving experience.  A macro that expands to “the instruction sequence for purifying lead to gold using a single arm on 3 track” would save a lot of effort.  There’s a fast forward button that is more effective than alt-clicking.  By allowing mods, still developing legitimate solutions, perhaps the efficiency of each human on Team Nobots could exceed expectations.</p>



<p>There is a bot GrimBOT made by Grimmy, that can identify unused parts in a solution and automatically remove them.  It knows how to downgrade multibonders to regular bonders, and multi-arms to regular arms.  Here’s a recent min cycle solution for Explorer’s Salve in the journal, that was actually submitted by rebix, and later improved by GrimBOT – can you spot the 10g of unused parts?</p>



<figure><video controls="" src="https://biggieblog.com/wp-content/uploads/2024/05/800g-38c-369a-403i-T-ff5e7918.mp4"></video></figure>



<p>If the rushed engineering of Team Nobots ends up being plagued by unnecessary extra parts, a pass by GrimBOT might improve their standing.  But it may also be against the principle of team <em><strong>Nobots</strong></em>, and that is a call for Zorflax to make!</p>



<p>Alternately, there are hybrid strategies that are very bot-heavy too.  An autosolver could not only solve puzzles, but also judge some list of them as “most likely to be improved with human effort”, and leave the author a shortlist of focus puzzles to help move the needle on their score.  The author would then manually crank out better solutions for those puzzles, leading to a hybridized submission with better performance than either human or machine.</p>



<h2>The Results</h2>



<p>When trying to crown a winner for this contest, we need some sort of aggregate scoring.  The scores are applied to the zip file of solutions, so if (for example) rebix participates in Team Nobots but also creates a bot, the two could be scored independently so long as solutions are zipped separately.</p>



<p>The method panic came up with is to award 1 point for every combination of puzzle and metric, and up to 1 additional point based on optimization.  The aggregate score is the sum of 3000 different cases of <code>1 + best/this</code>.</p>



<p>For example, say the puzzle GEN001 has among its many submissions, one with 65 cost, one with 42 cycles, and one with 18 area, and that these are the best in their respective metrics.  Say your only solution takes 100 cost, 100 cycles, and 100 area.  Then you get 1.65 points for cost, 1.42 points for cycles, and 1.18 points for area.  In effect, this means that every puzzle solved is worth minimum 3 points, totaling 3000 points without ever optimizing.  The maximum score is 6000, and would correspond to winning every metric on every puzzle.  To do this, one would theoretically need a process, bot or otherwise, that creates 3 separate solutions for every puzzle (which is permitted!  Your zip of solutions can have multiple solutions to the same puzzle, and each one is evaluated).</p>



<h3>Communication</h3>



<p>It is unlikely that every generated solution to every generated puzzle will get screen time in any meaningful way, as this could end up being an intractable amount of data.  Probably the first thing revealed at the deadline will be a spreadsheet tallying points.  If people had been keeping their methods secret, it may also be a new flood of discussion.  Both of these are going to happen on <a href="https://discord.gg/98QNzdJ">discord</a>, and possibly also <a href="https://www.reddit.com/r/opus_magnum/">reddit</a>.</p>



<p>Really, this is all about “rushed engineering” in Opus Magnum, so as the June 2nd date grows closer we will start to get a glimpse of how that plays out.  Maybe by October 20th, there will be some well established bots and it will resemble Sebastian Lague’s tiny Chess AI competition!  In that case, we could see a follow up results video giving the highlights.</p>



<figure><p>
<iframe title="I Ran a Chess Programming Tournament, Here&#39;s How it Went!" width="500" height="281" src="https://www.youtube.com/embed/Ne40a5LkK6A?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</p></figure>



<p>It’s all up to how people approach the challenge.  So good luck!</p>
	
	 
		

			
			
		
	
  </div>
</content>
		
			</div>
</article></div>
  </body>
</html>
