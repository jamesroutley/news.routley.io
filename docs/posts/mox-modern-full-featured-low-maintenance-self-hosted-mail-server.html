<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/mjl-/mox">Original</a>
    <h1>Show HN: Mox - Modern full-featured low-maintenance self-hosted mail server</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto">Mox is a modern full-featured open source secure mail server for low-maintenance self-hosted email.</p>
<p dir="auto">See Quickstart below to get started.</p>
<p dir="auto">Mox features:</p>
<ul dir="auto">
<li>Quick and easy to start/maintain mail server, for your own domain(s).</li>
<li>SMTP (with extensions) for receiving and submitting email.</li>
<li>IMAP4 (with extensions) for giving email clients access to email.</li>
<li>Automatic TLS with ACME, for use with Let&#39;s Encrypt and other CA&#39;s.</li>
<li>SPF, verifying that a remote host is allowed to sent email for a domain.</li>
<li>DKIM, verifying that a message is signed by the claimed sender domain,
and for signing emails sent by mox for others to verify.</li>
<li>DMARC, for enforcing SPF/DKIM policies set by domains. Incoming DMARC
aggregate reports are analyzed.</li>
<li>Reputation tracking, learning (per user) host- and domain-based reputation from
(Non-)Junk email.</li>
<li>Bayesian spam filtering that learns (per user) from (Non-)Junk email.</li>
<li>Slowing down senders with no/low reputation or questionable email content
(similar to greylisting). Rejected emails are stored in a mailbox called Rejects
for a short period, helping with misclassified legitimate synchronous
signup/login/transactional emails.</li>
<li>Internationalized email, with unicode names in domains and usernames
(&#34;localparts&#34;).</li>
<li>TLSRPT, parsing reports about TLS usage and issues.</li>
<li>MTA-STS, for ensuring TLS is used whenever it is required. Both serving of
policies, and tracking and applying policies of remote servers.</li>
<li>Web admin interface that helps you set up your domains and accounts
(instructions to create DNS records, configure
SPF/DKIM/DMARC/TLSRPT/MTA-STS), for status information, managing
accounts/domains, and modifying the configuration file.</li>
<li>Autodiscovery (with SRV records, Microsoft-style and Thunderbird-style) for
easy account setup (though not many clients support it).</li>
<li>Prometheus metrics and structured logging for operational insight.</li>
</ul>
<p dir="auto">Not supported (but perhaps in the future):</p>
<ul dir="auto">
<li>Webmail</li>
<li>HTTP-based API for sending messages and receiving delivery feedback</li>
<li>Calendaring</li>
<li>Functioning as SMTP relay</li>
<li>Forwarding (to an external address)</li>
<li>Autoresponders</li>
<li>POP3</li>
<li>Delivery to (unix) OS system users</li>
<li>Sieve for filtering</li>
<li>PGP or S/MIME</li>
<li>Mailing list manager</li>
<li>Support for pluggable delivery mechanisms.</li>
</ul>
<p dir="auto">Mox has automated tests, including for interoperability with Postfix for SMTP.</p>
<p dir="auto">Mox is manually tested with email clients: Mozilla Thunderbird, mutt, iOS Mail,
macOS Mail, Android Mail, Microsoft Outlook.</p>
<p dir="auto">Mox is also manually tested to interoperate with popular cloud providers:
gmail.com, outlook.com, yahoo.com, proton.me.</p>
<p dir="auto">Mox is implemented in Go, a modern safe programming language, and has a focus on
security.</p>
<p dir="auto">Mox is available under the MIT-license.
Mox includes the Public Suffix List by Mozilla, under Mozilla Public License, v. 2.0.</p>
<p dir="auto">Mox was created by Mechiel Lukkien, <a href="mailto:mechiel@ueber.net">mechiel@ueber.net</a>.</p>
<p dir="auto">For discussions/talk, join #mox on irc.oftc.net, or #mox on the &#34;Gopher slack&#34;.</p>

<p dir="auto">You can easily (cross) compile mox if you have a recent Go toolchain installed
(see &#34;go version&#34;, it must be &gt;= 1.19; otherwise, see <a href="https://go.dev/dl/" rel="nofollow">https://go.dev/dl/</a> or
<a href="https://go.dev/doc/manage-install" rel="nofollow">https://go.dev/doc/manage-install</a> and $HOME/go/bin):</p>
<div data-snippet-clipboard-copy-content="GOBIN=$PWD go install github.com/mjl-/mox@latest"><pre><code>GOBIN=$PWD go install github.com/mjl-/mox@latest
</code></pre></div>
<p dir="auto">Or you can download a binary built with the latest Go toolchain from
<a href="https://beta.gobuilds.org/github.com/mjl-/mox" rel="nofollow">https://beta.gobuilds.org/github.com/mjl-/mox</a>, and symlink or rename it to
&#34;mox&#34;.</p>
<p dir="auto">Verify you have a working mox binary:</p>

<p dir="auto">Note: Mox only compiles/works on unix systems, not on Plan 9 or Windows.</p>

<p dir="auto">The easiest way to get started with serving email for your domain is to get a
vm/machine dedicated to serving email, name it [host].[domain], login as an
admin user, e.g. /home/service, download mox, and generate a configuration for
your desired email address at your domain:</p>
<div data-snippet-clipboard-copy-content="./mox quickstart you@example.com"><pre><code>./mox quickstart you@example.com
</code></pre></div>
<p dir="auto">This creates an account, generates a password and configuration files, prints
the DNS records you need to manually create and prints commands to set
permissions and install mox as a service.</p>
<p dir="auto">If you already have email configured for your domain, or if you are already
sending email for your domain from other machines/services, you should modify
the suggested configuration and/or DNS records.</p>
<p dir="auto">A dedicated machine is highly recommended because modern email requires HTTPS,
also for automatic TLS.  You can combine mox with an existing webserver, but it
requires more configuration.</p>
<p dir="auto">After starting, you can access the admin web interface on internal IPs.</p>

<h2 tabindex="-1" dir="auto"><a id="user-content-why-a-new-mail-server-implementation" aria-hidden="true" href="#why-a-new-mail-server-implementation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why a new mail server implementation?</h2>
<p dir="auto">Mox aims to make &#34;running a mail server&#34; easy and nearly effortless. Excellent
quality mail server software exists, but getting a working setup typically
requires you configure half a dozen services (SMTP, IMAP, SPF/DKIM/DMARC, spam
filtering). That seems to lead to people no longer running their own mail
servers, instead switching to one of the few centralized email providers. Email
with SMTP is a long-time decentralized messaging protocol. To keep it
decentralized, people need to run their own mail server. Mox aims to make that
easy.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-where-is-the-documentation" aria-hidden="true" href="#where-is-the-documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Where is the documentation?</h2>
<p dir="auto">See all commands and help text at <a href="https://pkg.go.dev/github.com/mjl-/mox/" rel="nofollow">https://pkg.go.dev/github.com/mjl-/mox/</a>, and
example config files at <a href="https://pkg.go.dev/github.com/mjl-/mox/config/" rel="nofollow">https://pkg.go.dev/github.com/mjl-/mox/config/</a>.</p>
<p dir="auto">You can get the same information by running &#34;mox&#34; without arguments to list its
subcommands and usage, and &#34;mox help [subcommand]&#34; for more details.</p>
<p dir="auto">The example config files are printed by &#34;mox config describe-static&#34; and &#34;mox
config describe-dynamic&#34;.</p>
<p dir="auto">Mox is still in early stages, and documentation is still limited. Please create
an issue describing what is unclear or confusing, and we&#39;ll try to improve the
documentation.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-do-i-importexport-email" aria-hidden="true" href="#how-do-i-importexport-email"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How do I import/export email?</h2>
<p dir="auto">Use the import functionality on the accounts web page to import a zip/tgz with
maildirs/mbox files, or use the &#34;mox import maildir&#34; or &#34;mox import mbox&#34;
subcommands. You could also use your IMAP email client, add your mox account,
and copy or move messages from one account to the other.</p>
<p dir="auto">Similarly, see the export functionality on the accounts web page and the &#34;mox
export maildir&#34; and &#34;mox export mbox&#34; subcommands to export email.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-can-i-help" aria-hidden="true" href="#how-can-i-help"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How can I help?</h2>
<p dir="auto">Mox needs users and testing in real-life setups! So just give it a try, send
and receive emails through it with your favourite email clients, and file an
issue if you encounter a problem or would like to see a feature/functionality
implemented.</p>
<p dir="auto">Instead of switching your email for your domain over to mox, you could simply
configure mox for a subdomain, e.g. [you]@moxtest.[yourdomain].</p>
<p dir="auto">If you have experience with how the email protocols are used in the wild, e.g.
compatibility issues, limitations, anti-spam measures, specification
violations, that would be interesting to hear about.</p>
<p dir="auto">Pull requests for bug fixes and new code are welcome too. If the changes are
large, it helps to start a discussion (create a ticket) before doing all the
work.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-do-i-change-my-password" aria-hidden="true" href="#how-do-i-change-my-password"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How do I change my password?</h2>
<p dir="auto">Regular users (doing IMAP/SMTP with authentication) can change their password
at the account page, e.g. <a href="http://127.0.0.1/" rel="nofollow">http://127.0.0.1/</a>. Or you can set a password with &#34;mox
setaccountpassword&#34;.</p>
<p dir="auto">The admin password can be changed with &#34;mox setadminpassword&#34;.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-do-i-configure-a-second-mox-instance-as-a-backup-mx" aria-hidden="true" href="#how-do-i-configure-a-second-mox-instance-as-a-backup-mx"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How do I configure a second mox instance as a backup MX?</h2>
<p dir="auto">Unfortunately, mox does not yet provide an option for that. Mox does spam
filtering based on reputation of received messages. It will take a good amount
of work to share that information with a backup MX. Without that information,
spammer could use a backup MX to get their spam accepted. Until mox has a
proper solution, you can simply run a single SMTP server.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-secure-is-mox" aria-hidden="true" href="#how-secure-is-mox"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How secure is mox?</h2>
<p dir="auto">Security is high on the priority list for mox. Mox is young, so don&#39;t expect no
bugs at all. Mox does have automated tests for some security aspects, e.g. for
login, and uses fuzzing. Mox is written in Go, so some classes of bugs such as
buffer mishandling do not typically result in privilege escalation.  Of course
logic bugs will still exist. If you find any security issues, please email them
to <a href="mailto:mechiel@ueber.net">mechiel@ueber.net</a>.</p>
</article>
          </div></div>
  </body>
</html>
