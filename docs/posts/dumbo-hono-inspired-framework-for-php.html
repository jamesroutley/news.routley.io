<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/notrab/dumbo">Original</a>
    <h1>Show HN: Dumbo â€“ Hono inspired framework for PHP</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/notrab/dumbo/blob/main/dumbo.jpeg"><img src="https://github.com/notrab/dumbo/raw/main/dumbo.jpeg" alt="Dumbo" width="600"/></a>
  </p>

<p dir="auto">
  A lightweight, friendly PHP framework for HTTP â€” Inspired by Hono.
</p>
<p dir="auto">
  <a href="https://discord.gg/nAq2h9BfsU" rel="nofollow">
    <themed-picture data-catalyst-inline="true"><picture>
      <img src="https://camo.githubusercontent.com/7472941af9c64cebbf31ad70b0c6039db6d9f9cdd6c1caa3f1e17a207fb5e22a/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f313237383633373736383931383137313730393f636f6c6f723d384132424532" alt="Discord" data-canonical-src="https://img.shields.io/discord/1278637768918171709?color=8A2BE2"/>
    </picture></themed-picture>
  </a>
  <themed-picture data-catalyst-inline="true"><picture>
    <img src="https://camo.githubusercontent.com/cf1f7e5fd197a7bfdcf5a2699c4d41fecbe60eb111466ccbd44c8e9ab81dd7dd/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f6e6f747261622f64756d626f3f636f6c6f723d384132424532" alt="Contributors" data-canonical-src="https://img.shields.io/github/contributors/notrab/dumbo?color=8A2BE2"/>
  </picture></themed-picture>
  <a href="https://packagist.org/packages/notrab/dumbo" rel="nofollow">
    <themed-picture data-catalyst-inline="true"><picture>
      <img src="https://camo.githubusercontent.com/f22c6858bfd8f1295ddeef2df22f91dbe5f999db3518c6a6f23612a709e124f2/68747470733a2f2f696d672e736869656c64732e696f2f7061636b61676973742f64742f6e6f747261622f64756d626f3f636f6c6f723d384132424532" alt="Total downloads" data-canonical-src="https://img.shields.io/packagist/dt/notrab/dumbo?color=8A2BE2"/>
    </picture></themed-picture>
  </a>
  <a href="https://github.com/notrab/dumbo/blob/main/examples">
    <img src="https://camo.githubusercontent.com/c44913c5ce669d0607f84d77fa4cabcf377c60a484f2c442ee1c92f28dca7cae/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f62726f7773652d6578616d706c65732d384132424532" alt="Examples" data-canonical-src="https://img.shields.io/badge/browse-examples-8A2BE2"/>
  </a>
</p>

<ul dir="auto">
<li>ğŸš€ Lightweight and fast</li>
<li>ğŸ§© Middleware support</li>
<li>ğŸ›£ï¸ Flexible routing with parameters</li>
<li>ğŸ”’ Built-in security features (CSRF, JWT)</li>
<li>ğŸª Cookie management</li>
<li>ğŸ“… Date helpers</li>
<li>ğŸ” Request ID for tracing</li>
<li>ğŸ“ Static file serving</li>
<li>ğŸ” Basic and Bearer authentication</li>
<li>ğŸ“ Logging support</li>
<li>ğŸ—ƒï¸ HTTP caching</li>
<li>ğŸ”„ CORS support</li>
<li>ğŸ§¬ Environment-based configuration</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="composer require notrab/dumbo"><pre>composer require notrab/dumbo</pre></div>

<p dir="auto">Here&#39;s a basic example of how it works!</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

require __DIR__ . &#39;/vendor/autoload.php&#39;;

use Dumbo\Dumbo;

$app = new Dumbo();

$app-&gt;use(function ($context, $next) {
    $context-&gt;set(&#39;message&#39;, &#39;Hello from middleware!&#39;);
    return $next($context);
});

$app-&gt;get(&#39;/&#39;, function ($context) {
    return $context-&gt;json([
        &#39;message&#39; =&gt; $context-&gt;get(&#39;message&#39;),
        &#39;timestamp&#39; =&gt; time()
    ]);
});

$app-&gt;get(&#39;/users/:id&#39;, function ($context) {
    $id = $context-&gt;req-&gt;param(&#39;id&#39;);
    return $context-&gt;json([&#39;userId&#39; =&gt; $id]);
});

$app-&gt;post(&#39;/users&#39;, function ($context) {
    $body = $context-&gt;req-&gt;body();
    return $context-&gt;json($body, 201);
});

$app-&gt;run();"><pre><span>&lt;?php</span>

<span>require</span> <span>__DIR__</span> . <span>&#39;<span>/vendor/autoload.php</span>&#39;</span>;

<span>use</span> <span>Dumbo</span>\<span>Dumbo</span>;

<span><span>$</span>app</span> = <span>new</span> <span>Dumbo</span>();

<span><span>$</span>app</span>-&gt;<span>use</span>(<span>function</span> (<span><span>$</span>context</span>, <span><span>$</span>next</span>) {
    <span><span>$</span>context</span>-&gt;<span>set</span>(<span>&#39;<span>message</span>&#39;</span>, <span>&#39;<span>Hello from middleware!</span>&#39;</span>);
    <span>return</span> <span><span>$</span>next</span>(<span><span>$</span>context</span>);
});

<span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>/</span>&#39;</span>, <span>function</span> (<span><span>$</span>context</span>) {
    <span>return</span> <span><span>$</span>context</span>-&gt;<span>json</span>([
        <span>&#39;<span>message</span>&#39;</span> =&gt; <span><span>$</span>context</span>-&gt;<span>get</span>(<span>&#39;<span>message</span>&#39;</span>),
        <span>&#39;<span>timestamp</span>&#39;</span> =&gt; <span>time</span>()
    ]);
});

<span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>/users/:id</span>&#39;</span>, <span>function</span> (<span><span>$</span>context</span>) {
    <span><span>$</span>id</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>param</span>(<span>&#39;<span>id</span>&#39;</span>);
    <span>return</span> <span><span>$</span>context</span>-&gt;<span>json</span>([<span>&#39;<span>userId</span>&#39;</span> =&gt; <span><span>$</span>id</span>]);
});

<span><span>$</span>app</span>-&gt;<span>post</span>(<span>&#39;<span>/users</span>&#39;</span>, <span>function</span> (<span><span>$</span>context</span>) {
    <span><span>$</span>body</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>body</span>();
    <span>return</span> <span><span>$</span>context</span>-&gt;<span>json</span>(<span><span>$</span>body</span>, <span>201</span>);
});

<span><span>$</span>app</span>-&gt;<span>run</span>();</pre></div>
<p dir="auto">See the <a href="https://github.com/notrab/dumbo/blob/main/examples">examples</a> directory for more quickstarts.</p>

<p dir="auto">Dumbo is open-sourced software licensed under the <a href="https://github.com/notrab/dumbo/blob/main/LICENSE">MIT license</a>.</p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9edeb9967a62f945d369384c530051374fa60d3bad7af7319db1ef00b2c07c23/68747470733a2f2f636f6e747269622e6e6e2e63692f6170693f7265706f3d6e6f747261622f64756d626f"><img src="https://camo.githubusercontent.com/9edeb9967a62f945d369384c530051374fa60d3bad7af7319db1ef00b2c07c23/68747470733a2f2f636f6e747269622e6e6e2e63692f6170693f7265706f3d6e6f747261622f64756d626f" alt="Contributors" data-canonical-src="https://contrib.nn.ci/api?repo=notrab/dumbo"/></a></p>


<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

$app-&gt;get(&#39;/users&#39;, function($context) { /* ... */ });
$app-&gt;post(&#39;/users&#39;, function($context) { /* ... */ });
$app-&gt;put(&#39;/users/:id&#39;, function($context) { /* ... */ });
$app-&gt;delete(&#39;/users/:id&#39;, function($context) { /* ... */ });"><pre><span>&lt;?php</span>

<span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>/users</span>&#39;</span>, <span>function</span>(<span><span>$</span>context</span>) { <span>/* ... */</span> });
<span><span>$</span>app</span>-&gt;<span>post</span>(<span>&#39;<span>/users</span>&#39;</span>, <span>function</span>(<span><span>$</span>context</span>) { <span>/* ... */</span> });
<span><span>$</span>app</span>-&gt;<span>put</span>(<span>&#39;<span>/users/:id</span>&#39;</span>, <span>function</span>(<span><span>$</span>context</span>) { <span>/* ... */</span> });
<span><span>$</span>app</span>-&gt;<span>delete</span>(<span>&#39;<span>/users/:id</span>&#39;</span>, <span>function</span>(<span><span>$</span>context</span>) { <span>/* ... */</span> });</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

$app-&gt;get(&#39;/users/:id&#39;, function($context) {
    $id = $context-&gt;req-&gt;param(&#39;id&#39;);

    return $context-&gt;json([&#39;id&#39; =&gt; $id]);
});"><pre><span>&lt;?php</span>

<span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>/users/:id</span>&#39;</span>, <span>function</span>(<span><span>$</span>context</span>) {
    <span><span>$</span>id</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>param</span>(<span>&#39;<span>id</span>&#39;</span>);

    <span>return</span> <span><span>$</span>context</span>-&gt;<span>json</span>([<span>&#39;<span>id</span>&#39;</span> =&gt; <span><span>$</span>id</span>]);
});</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

$nestedApp = new Dumbo();

$nestedApp-&gt;get(&#39;/nested&#39;, function($context) {
    return $context-&gt;text(&#39;This is a nested route&#39;);
});

$app-&gt;route(&#39;/prefix&#39;, $nestedApp);
"><pre><span>&lt;?php</span>

<span><span>$</span>nestedApp</span> = <span>new</span> <span>Dumbo</span>();

<span><span>$</span>nestedApp</span>-&gt;<span>get</span>(<span>&#39;<span>/nested</span>&#39;</span>, <span>function</span>(<span><span>$</span>context</span>) {
    <span>return</span> <span><span>$</span>context</span>-&gt;<span>text</span>(<span>&#39;<span>This is a nested route</span>&#39;</span>);
});

<span><span>$</span>app</span>-&gt;<span>route</span>(<span>&#39;<span>/prefix</span>&#39;</span>, <span><span>$</span>nestedApp</span>);</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

$app-&gt;get(&#39;/&#39;, function($context) {
    $pathname = $context-&gt;req-&gt;pathname();
    $routePath = $context-&gt;req-&gt;routePath();
    $queryParam = $context-&gt;req-&gt;query(&#39;param&#39;);
    $tags = $context-&gt;req-&gt;queries(&#39;tags&#39;);
    $body = $context-&gt;req-&gt;body();
    $userAgent = $context-&gt;req-&gt;header(&#39;User-Agent&#39;);
});"><pre><span>&lt;?php</span>

<span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>/</span>&#39;</span>, <span>function</span>(<span><span>$</span>context</span>) {
    <span><span>$</span>pathname</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>pathname</span>();
    <span><span>$</span>routePath</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>routePath</span>();
    <span><span>$</span>queryParam</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>query</span>(<span>&#39;<span>param</span>&#39;</span>);
    <span><span>$</span>tags</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>queries</span>(<span>&#39;<span>tags</span>&#39;</span>);
    <span><span>$</span>body</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>body</span>();
    <span><span>$</span>userAgent</span> = <span><span>$</span>context</span>-&gt;<span>req</span>-&gt;<span>header</span>(<span>&#39;<span>User-Agent</span>&#39;</span>);
});</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

return $context-&gt;json([&#39;key&#39; =&gt; &#39;value&#39;]);
return $context-&gt;text(&#39;Hello, World!&#39;);
return $context-&gt;html(&#39;&lt;h1&gt;Hello, World!&lt;/h1&gt;&#39;);
return $context-&gt;redirect(&#39;/new-url&#39;);"><pre><span>&lt;?php</span>

<span>return</span> <span><span>$</span>context</span>-&gt;<span>json</span>([<span>&#39;<span>key</span>&#39;</span> =&gt; <span>&#39;<span>value</span>&#39;</span>]);
<span>return</span> <span><span>$</span>context</span>-&gt;<span>text</span>(<span>&#39;<span>Hello, World!</span>&#39;</span>);
<span>return</span> <span><span>$</span>context</span>-&gt;<span>html</span>(<span>&#39;<span>&lt;h1&gt;Hello, World!&lt;/h1&gt;</span>&#39;</span>);
<span>return</span> <span><span>$</span>context</span>-&gt;<span>redirect</span>(<span>&#39;<span>/new-url</span>&#39;</span>);</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

$app-&gt;use(function($context, $next) {
    $response = $next($context);

    return $response;
});"><pre><span>&lt;?php</span>

<span><span>$</span>app</span>-&gt;<span>use</span>(<span>function</span>(<span><span>$</span>context</span>, <span><span>$</span>next</span>) {
    <span><span>$</span>response</span> = <span><span>$</span>next</span>(<span><span>$</span>context</span>);

    <span>return</span> <span><span>$</span>response</span>;
});</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;?php

$app = new Dumbo();

// Set configuration values
$app-&gt;set(&#39;DB_URL&#39;, &#39;mysql://user:pass@localhost/mydb&#39;);
$app-&gt;set(&#39;API_KEY&#39;, &#39;your-secret-key&#39;);
$app-&gt;set(&#39;DEBUG&#39;, true);

// Get configuration values
$dbUrl = $app-&gt;get(&#39;DB_URL&#39;);
$apiKey = $app-&gt;get(&#39;API_KEY&#39;);
$debug = $app-&gt;get(&#39;DEBUG&#39;);

// Use configuration in your routes
$app-&gt;get(&#39;/api/data&#39;, function(Context $context) {
    $apiKey = $context-&gt;get(&#39;API_KEY&#39;);

    // Use $apiKey in your logic...
    return $context-&gt;json([&#39;message&#39; =&gt; &#39;API key is set&#39;]);
});

$app-&gt;run();"><pre><span>&lt;?php</span>

<span><span>$</span>app</span> = <span>new</span> <span>Dumbo</span>();

<span>// Set configuration values</span>
<span><span>$</span>app</span>-&gt;<span>set</span>(<span>&#39;<span>DB_URL</span>&#39;</span>, <span>&#39;<span>mysql://user:pass@localhost/mydb</span>&#39;</span>);
<span><span>$</span>app</span>-&gt;<span>set</span>(<span>&#39;<span>API_KEY</span>&#39;</span>, <span>&#39;<span>your-secret-key</span>&#39;</span>);
<span><span>$</span>app</span>-&gt;<span>set</span>(<span>&#39;<span>DEBUG</span>&#39;</span>, <span>true</span>);

<span>// Get configuration values</span>
<span><span>$</span>dbUrl</span> = <span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>DB_URL</span>&#39;</span>);
<span><span>$</span>apiKey</span> = <span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>API_KEY</span>&#39;</span>);
<span><span>$</span>debug</span> = <span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>DEBUG</span>&#39;</span>);

<span>// Use configuration in your routes</span>
<span><span>$</span>app</span>-&gt;<span>get</span>(<span>&#39;<span>/api/data</span>&#39;</span>, <span>function</span>(<span><span>Context</span></span> <span><span>$</span>context</span>) {
    <span><span>$</span>apiKey</span> = <span><span>$</span>context</span>-&gt;<span>get</span>(<span>&#39;<span>API_KEY</span>&#39;</span>);

    <span>// Use $apiKey in your logic...</span>
    <span>return</span> <span><span>$</span>context</span>-&gt;<span>json</span>([<span>&#39;<span>message</span>&#39;</span> =&gt; <span>&#39;<span>API key is set</span>&#39;</span>]);
});

<span><span>$</span>app</span>-&gt;<span>run</span>();</pre></div>
</article></div></div>
  </body>
</html>
