<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/graphhopper/graphhopper/pull/2505">Original</a>
    <h1>Do not use &#39;week year&#39;: YYYY</h1>
    
    <div id="readability-page-1" class="page"><div disabled="" sortable="">
<div>
          <p dir="auto">Do not use week year <code>YYYY</code> and instead use <code>yyyy</code>.</p>
<p dir="auto">The <code>Y</code> refers to the &#39;Week year&#39;: <a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html" rel="nofollow">https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html</a></p>
<blockquote>
<p dir="auto">A week year is in sync with a WEEK_OF_YEAR cycle. All weeks between the first and last weeks (inclusive) have the same week year value. Therefore, the first and last days of a week year may have different calendar year values.</p>
</blockquote>
<blockquote>
<p dir="auto">For example, January 1, 1998 is a Thursday. If getFirstDayOfWeek() is MONDAY and getMinimalDaysInFirstWeek() is 4 (ISO 8601 standard compatible setting), then week 1 of 1998 starts on December 29, 1997, and ends on January 4, 1998. The week year is 1998 for the last three days of calendar year 1997. If, however, getFirstDayOfWeek() is SUNDAY, then week 1 of 1998 starts on January 4, 1998, and ends on January 10, 1998; the first three days of 1998 then are part of week 53 of 1997 and their week year is 1997.</p>
</blockquote>
<p dir="auto"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html#week_year" rel="nofollow">https://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html#week_year</a></p>
<p dir="auto">So since we were using <code>Y</code> for &#39;Week year&#39; the last few days of 2021 were logged as 2022, and Jan 1st 2022 was even logged as 2023 (only for the first hour of that day - maybe some timezone stuff).</p>
<p dir="auto">Thanks for <a data-hovercard-type="user" data-hovercard-url="/users/easbar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/easbar">@easbar</a> for helping me to find this &#34;feature&#34; and fix an ugly problem in production :D</p>
      </div>
</div></div>
  </body>
</html>
