<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/t-mart/kill-sticky">Original</a>
    <h1>Kill-sticky, a bookmarklet to remove sticky elements and restore scrolling</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">A bookmarklet to remove sticky elements and restore scrolling to web pages!</p>
<h2 dir="auto"><a id="user-content-demo" aria-hidden="true" href="#demo"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Demo</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/t-mart/kill-sticky/blob/master/docs/demo.gif"><img src="https://github.com/t-mart/kill-sticky/raw/master/docs/demo.gif" alt="Demonstration of kill-sticky" data-animated-image=""/></a></p>
<h2 dir="auto"><a id="user-content-background" aria-hidden="true" href="#background"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Background</h2>
<p dir="auto">Alisdair McDiarmid wrote at his <a href="https://alisdair.mcdiarmid.org/kill-sticky-headers/" rel="nofollow">Kill sticky headers</a>
bookmarklet page...</p>
<blockquote>
<p dir="auto">I hate sticky headers. I want to kill sticky headers.</p>
</blockquote>
<p dir="auto">I could not agree more.</p>
<p dir="auto">But, while McDiarmid&#39;s code has already been immensely helpful to me, I wanted to extend it to also kill of another
recent trend: marketing modals. They also abuse <code>position: fixed</code> styling and <strong>remove your ability to scroll with
<code>overflow: hidden</code></strong>. Not cool, man.</p>
<p dir="auto">And that&#39;s what this extension aims to address:</p>
<ul dir="auto">
<li>Delete fixed <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position" rel="nofollow">position</a> styled elements</li>
<li>Change hidden <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/overflow" rel="nofollow">overflow</a> styles to <code>auto</code></li>
</ul>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">Make a new bookmark (on your bookmark bar) with the following URL:</p>
<div data-snippet-clipboard-copy-content="javascript:(function()%7Bdocument.querySelectorAll(%22body%20*%22).forEach(function(node)%7Bif(%5B%22fixed%22%2C%22sticky%22%5D.includes(getComputedStyle(node).position))%7Bnode.parentNode.removeChild(node)%7D%7D)%3Bdocument.querySelectorAll(%22html%20*%22).forEach(function(node)%7Bvar%20s%3DgetComputedStyle(node)%3Bif(%22hidden%22%3D%3D%3Ds%5B%22overflow%22%5D)%7Bnode.style%5B%22overflow%22%5D%3D%22visible%22%7Dif(%22hidden%22%3D%3D%3Ds%5B%22overflow-x%22%5D)%7Bnode.style%5B%22overflow-x%22%5D%3D%22visible%22%7Dif(%22hidden%22%3D%3D%3Ds%5B%22overflow-y%22%5D)%7Bnode.style%5B%22overflow-y%22%5D%3D%22visible%22%7D%7D)%3Bvar%20htmlNode%3Ddocument.querySelector(%22html%22)%3BhtmlNode.style%5B%22overflow%22%5D%3D%22visible%22%3BhtmlNode.style%5B%22overflow-x%22%5D%3D%22visible%22%3BhtmlNode.style%5B%22overflow-y%22%5D%3D%22visible%22%7D)()%3B%0A"><pre><code>javascript:(function()%7Bdocument.querySelectorAll(%22body%20*%22).forEach(function(node)%7Bif(%5B%22fixed%22%2C%22sticky%22%5D.includes(getComputedStyle(node).position))%7Bnode.parentNode.removeChild(node)%7D%7D)%3Bdocument.querySelectorAll(%22html%20*%22).forEach(function(node)%7Bvar%20s%3DgetComputedStyle(node)%3Bif(%22hidden%22%3D%3D%3Ds%5B%22overflow%22%5D)%7Bnode.style%5B%22overflow%22%5D%3D%22visible%22%7Dif(%22hidden%22%3D%3D%3Ds%5B%22overflow-x%22%5D)%7Bnode.style%5B%22overflow-x%22%5D%3D%22visible%22%7Dif(%22hidden%22%3D%3D%3Ds%5B%22overflow-y%22%5D)%7Bnode.style%5B%22overflow-y%22%5D%3D%22visible%22%7D%7D)%3Bvar%20htmlNode%3Ddocument.querySelector(%22html%22)%3BhtmlNode.style%5B%22overflow%22%5D%3D%22visible%22%3BhtmlNode.style%5B%22overflow-x%22%5D%3D%22visible%22%3BhtmlNode.style%5B%22overflow-y%22%5D%3D%22visible%22%7D)()%3B%0A
</code></pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/t-mart/kill-sticky/blob/master/docs/bookmark.gif"><img src="https://github.com/t-mart/kill-sticky/raw/master/docs/bookmark.gif" alt="Installation of kill-sticky" data-animated-image=""/></a></p>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">Every time you see a bothersome fixed position element and/or loss of scrolling functionality, click the bookmark!</p>
<p dir="auto">This may break the page sometimes, such as deleting nav or causing scrollbars to show up where they shouldn&#39;t. If
that happens, just reload the page.</p>
<h2 dir="auto"><a id="user-content-how-the-bookmarklet-works" aria-hidden="true" href="#how-the-bookmarklet-works"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How the bookmarklet works</h2>
<ol dir="auto">
<li>Iterate through all child nodes of <code>body</code>. Delete the node if it is styled with <code>position: fixed</code>.</li>
<li>Set the style of the <code>html</code> node for <code>overflow: auto</code>.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="    document.querySelectorAll(&#39;body *&#39;).forEach(function(node) {
        if ([&#39;fixed&#39;, &#39;sticky&#39;].includes(getComputedStyle(node).position))  {
            node.parentNode.removeChild(node);
        }
    });

    document.querySelectorAll(&#39;html *&#39;).forEach(function(node) {
        var s = getComputedStyle(node);
        if (&#39;hidden&#39; === s[&#39;overflow&#39;]) { node.style[&#39;overflow&#39;] = &#39;visible&#39;; }
        if (&#39;hidden&#39; === s[&#39;overflow-x&#39;]) { node.style[&#39;overflow-x&#39;] = &#39;visible&#39;; }
        if (&#39;hidden&#39; === s[&#39;overflow-y&#39;]) { node.style[&#39;overflow-y&#39;] = &#39;visible&#39;; }
    });

    var htmlNode = document.querySelector(&#39;html&#39;);
    htmlNode.style[&#39;overflow&#39;] = &#39;visible&#39;;
    htmlNode.style[&#39;overflow-x&#39;] = &#39;visible&#39;;
    htmlNode.style[&#39;overflow-y&#39;] = &#39;visible&#39;;"><pre>    <span>document</span><span>.</span><span>querySelectorAll</span><span>(</span><span>&#39;body *&#39;</span><span>)</span><span>.</span><span>forEach</span><span>(</span><span>function</span><span>(</span><span>node</span><span>)</span> <span>{</span>
        <span>if</span> <span>(</span><span>[</span><span>&#39;fixed&#39;</span><span>,</span> <span>&#39;sticky&#39;</span><span>]</span><span>.</span><span>includes</span><span>(</span><span>getComputedStyle</span><span>(</span><span>node</span><span>)</span><span>.</span><span>position</span><span>)</span><span>)</span>  <span>{</span>
            <span>node</span><span>.</span><span>parentNode</span><span>.</span><span>removeChild</span><span>(</span><span>node</span><span>)</span><span>;</span>
        <span>}</span>
    <span>}</span><span>)</span><span>;</span>

    <span>document</span><span>.</span><span>querySelectorAll</span><span>(</span><span>&#39;html *&#39;</span><span>)</span><span>.</span><span>forEach</span><span>(</span><span>function</span><span>(</span><span>node</span><span>)</span> <span>{</span>
        <span>var</span> <span>s</span> <span>=</span> <span>getComputedStyle</span><span>(</span><span>node</span><span>)</span><span>;</span>
        <span>if</span> <span>(</span><span>&#39;hidden&#39;</span> <span>===</span> <span>s</span><span>[</span><span>&#39;overflow&#39;</span><span>]</span><span>)</span> <span>{</span> <span>node</span><span>.</span><span>style</span><span>[</span><span>&#39;overflow&#39;</span><span>]</span> <span>=</span> <span>&#39;visible&#39;</span><span>;</span> <span>}</span>
        <span>if</span> <span>(</span><span>&#39;hidden&#39;</span> <span>===</span> <span>s</span><span>[</span><span>&#39;overflow-x&#39;</span><span>]</span><span>)</span> <span>{</span> <span>node</span><span>.</span><span>style</span><span>[</span><span>&#39;overflow-x&#39;</span><span>]</span> <span>=</span> <span>&#39;visible&#39;</span><span>;</span> <span>}</span>
        <span>if</span> <span>(</span><span>&#39;hidden&#39;</span> <span>===</span> <span>s</span><span>[</span><span>&#39;overflow-y&#39;</span><span>]</span><span>)</span> <span>{</span> <span>node</span><span>.</span><span>style</span><span>[</span><span>&#39;overflow-y&#39;</span><span>]</span> <span>=</span> <span>&#39;visible&#39;</span><span>;</span> <span>}</span>
    <span>}</span><span>)</span><span>;</span>

    <span>var</span> <span>htmlNode</span> <span>=</span> <span>document</span><span>.</span><span>querySelector</span><span>(</span><span>&#39;html&#39;</span><span>)</span><span>;</span>
    <span>htmlNode</span><span>.</span><span>style</span><span>[</span><span>&#39;overflow&#39;</span><span>]</span> <span>=</span> <span>&#39;visible&#39;</span><span>;</span>
    <span>htmlNode</span><span>.</span><span>style</span><span>[</span><span>&#39;overflow-x&#39;</span><span>]</span> <span>=</span> <span>&#39;visible&#39;</span><span>;</span>
    <span>htmlNode</span><span>.</span><span>style</span><span>[</span><span>&#39;overflow-y&#39;</span><span>]</span> <span>=</span> <span>&#39;visible&#39;</span><span>;</span></pre></div>
<h2 dir="auto"><a id="user-content-building-only-if-you-want-to-contribute" aria-hidden="true" href="#building-only-if-you-want-to-contribute"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Building (Only if you want to contribute)</h2>
<p dir="auto">We&#39;re creating a bookmarklet, so our code needs to be minified and URL encoded.</p>
<p dir="auto">Run the following the project root directory:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ docker build . -t kill-sticky &amp;&amp; docker run --rm -it -v $(pwd):/kill-sticky kill-sticky"><pre>$ <span>docker build <span>.</span> -t kill-sticky <span>&amp;&amp;</span> docker run --rm -it -v <span><span>$(</span>pwd<span>)</span></span>:/kill-sticky kill-sticky</span></pre></div>
<p dir="auto"><em>This will update the project README.md with the build version.</em></p>
</article>
          </div></div>
  </body>
</html>
