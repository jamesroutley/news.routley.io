<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.ppresume.com/posts/on-typesetting-engines">Original</a>
    <h1>Typesetting Engines: A Programmer&#39;s Perspective</h1>
    
    <div id="readability-page-1" class="page"><div id="__next"><article dir="ltr"><h2 id="table-of-contents">Table of Contents<a href="#table-of-contents" aria-label="Permalink for this section"></a></h2>
<ul>
<li><a href="#translations">Translations</a></li>
<li><a href="#prologue">Prologue</a></li>
<li><a href="#the-accessment-criteria">The Accessment Criteria</a>
<ul>
<li><a href="#the-sacred-line-breaking-algorithm">The Sacred Line Breaking Algorithm</a></li>
<li><a href="#cjk-typesetting-is-complicated">CJK Typesetting is Complicated</a>
<ul>
<li><a href="#cjk-character-set-is-huge">CJK Character Set is Huge</a></li>
<li><a href="#cultural-nuances">Cultural Nuances</a></li>
<li><a href="#font-pairing">Font Pairing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#html--css">HTML &amp; CSS</a>
<ul>
<li><a href="#line-breaking">Line Breaking</a></li>
<li><a href="#cjk">CJK</a></li>
<li><a href="#pagination">Pagination</a></li>
<li><a href="#instant-preview">Instant Preview</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li><a href="#latex">LaTeX</a>
<ul>
<li><a href="#line-breaking-1">Line Breaking</a></li>
<li><a href="#cjk-1">CJK</a></li>
<li><a href="#pagination-1">Pagination</a></li>
<li><a href="#instant-preview-1">Instant Preview</a></li>
<li><a href="#conclusion-1">Conclusion</a></li>
</ul>
</li>
<li><a href="#latexjs">LaTeX.js</a>
<ul>
<li><a href="#line-breaking-2">Line Breaking</a></li>
<li><a href="#cjk-2">CJK</a></li>
<li><a href="#pagination-2">Pagination</a></li>
<li><a href="#instant-preview-2">Instant Preview</a></li>
<li><a href="#conclusion-2">Conclusion</a></li>
</ul>
</li>
<li><a href="#typst">Typst</a>
<ul>
<li><a href="#line-breaking-3">Line Breaking</a></li>
<li><a href="#cjk-3">CJK</a></li>
<li><a href="#pagination-3">Pagination</a></li>
<li><a href="#instant-preview-3">Instant Preview</a></li>
<li><a href="#conclusion-3">Conclusion</a></li>
</ul>
</li>
<li><a href="#react-pdf">React-pdf</a>
<ul>
<li><a href="#line-breaking-4">Line Breaking</a></li>
<li><a href="#cjk-4">CJK</a></li>
<li><a href="#pagination-4">Pagination</a></li>
<li><a href="#instant-preview-4">Instant Preview</a></li>
<li><a href="#conclusion-4">Conclusion</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
<li><a href="#revision">Revision</a>
<ul>
<li><a href="#nov-8-2024">Nov 8, 2024</a></li>
<li><a href="#nov-2-2024">Nov 2, 2024</a></li>
<li><a href="#nov-1-2024">Nov 1, 2024</a></li>
</ul>
</li>
</ul>
<h2 id="translations">Translations<a href="#translations" aria-label="Permalink for this section"></a></h2>
<p>This post is available in the following translations:</p>
<ul>
<li>Simplified Chinese: <a href="https://blog.ppresume.com/posts/zh-cn/on-typesetting-engines">排版引擎纵谈：程序员的视角</a></li>
<li>Traditional Chinese TW: <a href="https://blog.ppresume.com/posts/zh-tw/on-typesetting-engines">排版引擎縱談：程式設計師的視角</a></li>
</ul>
<h2 id="prologue">Prologue<a href="#prologue" aria-label="Permalink for this section"></a></h2>
<p>Typesetting is “architecture in two dimensions.”</p>
<p>If text and its fonts are the materials of the building, then typesetting is the
drawings of the building.</p>
<p>Typesetting is a big topic, it is both an art and an engineering technique that
has evolved significantly with the advent of digital technology. Obviously I
cannot cover this topic in one post, even a book cannot do.</p>
<p>Among many typesetting concepts, the typesetting engine is one of the core
concepts. Basically, <strong>a typesetting engine is a piece of software that decides
how the glyphs, graphics, tables, etc. are laid out for printing or digital
display</strong>.</p>
<p>When <a href="https://ppresume.com" target="_blank" rel="noreferrer">PPResume</a> was
<a href="https://blog.ppresume.com/posts/introducing-ppresume" target="_blank" rel="noreferrer">launched</a>, some people
<a href="https://discord.com/channels/1139929039314894878/1139929039751090230/1160701786630389892" target="_blank" rel="noreferrer">asked</a>
me why chose LaTeX as the default typesetting engine for PPReseume. Hmmm, this
is a big topic.</p>
<p>In this post, I would like to explore the pros and cons of some popular
typesetting engines: HTML/CSS, <a href="https://latex.js.org/" target="_blank" rel="noreferrer">LaTeX.js</a>,
<a href="https://www.latex-project.org/" target="_blank" rel="noreferrer">LaTeX</a>, <a href="https://typst.app/" target="_blank" rel="noreferrer">Typst</a>,
<a href="https://react-pdf.org/" target="_blank" rel="noreferrer">react-pdf</a> and conclude why PPResume chose LaTeX as the
default typesetting engine.</p>
<p>But before we start, let us agree on some glossaries that will be used thoughout
whole post. Yes this is a long post and it takes time and energy to read.
<em>Don’t complain to me later. I warned you here!</em></p>
<p>Glossaries:</p>
<ul>
<li><strong><a href="https://en.wikipedia.org/wiki/Indo-European_languages" target="_blank" rel="noreferrer">Indo-European
languages</a></strong>:
a language family native to the overwhelming
majority of Europe, the Iranian plateau, and the northern Indian subcontinent.
Widely spoken indo-european languages includes English, French, Portuguese,
Russian, Dutch, and Spanish, etc.</li>
<li><strong><a href="https://en.wikipedia.org/wiki/CJK_characters" target="_blank" rel="noreferrer">CJK</a></strong>: Chinese, Japanese and
Korean languages.</li>
<li><strong><a href="https://www.creatopy.com/blog/what-is-a-character-set/" target="_blank" rel="noreferrer">Character Set</a></strong>:
the complete collection of characters, symbols, glyphs, and punctuation marks
available within a specific typeface or font.</li>
<li><strong><a href="https://en.wikipedia.org/wiki/Glyph" target="_blank" rel="noreferrer">Glyph</a></strong>: the specific shape, design,
or representation of a character in typography.</li>
<li><strong><a href="https://en.wikipedia.org/wiki/Syllabification" target="_blank" rel="noreferrer">Hyphenation</a></strong>, the practice
of breaking words at the end of lines to improve the overall appearance and
readability of text.</li>
<li><strong><a href="https://en.wikipedia.org/wiki/Typographic_alignment#Justified" target="_blank" rel="noreferrer">Justification</a></strong>:
the alignment of text within a block so that it is flush with both the left and
right margins, generally achieved by adjusting the spacing between words and
letters, creating a uniform appearance across each line of text.</li>
<li><strong><a href="https://www.myfonts.com/pages/fontscom-learning-fontology-level-2-text-typography-rags-widows-orphans" target="_blank" rel="noreferrer">Rag</a></strong>:
the uneven or irregular alignment of text along one margin of a block of text.
This typically occurs when text is aligned to one side (either left or right),
resulting in the opposite side appearing “ragged” or uneven.</li>
</ul>
<h2 id="the-accessment-criteria">The Accessment Criteria<a href="#the-accessment-criteria" aria-label="Permalink for this section"></a></h2>
<p>Each typesetting engine has its strengths and weaknesses, catering to different
needs and preferences. Web-based typesetting with HTML/CSS is extremely flexible
and <a href="https://alistapart.com/article/responsive-web-design/" target="_blank" rel="noreferrer">responsive</a>, ideal
for <a href="https://en.wikipedia.org/wiki/Search_engine_optimization" target="_blank" rel="noreferrer">SEO</a> and
interactive content. LaTeX.js provides a bridge between the web and LaTeX, while
LaTeX itself is the gold standard for academic and high-precision typesetting.
Typst is considered as a modern, improved LaTeX alternative. React-pdf allows
dynamic PDF generation with <a href="https://react.dev/" target="_blank" rel="noreferrer">react</a>. The choice of
typesetting engine depends very much on the specific requirements of the
project.</p>
<p>I am not a designer so I cannot talk too much about typesetting from the
perspective of art. Instead, I want to discuss some technical things about
typesetting engines from a programmer’s perspective. Meanwhile, this post is not
an academic benchmarking report, so I won’t evaluate every aspect of typesetting
engines. Instead, <strong>I will give some assessment criteria based on PPResume’s
requirements.</strong></p>
<p>When I wrote the first line code for PPResume, I’ve set 2 goals:</p>
<ul>
<li>it must produce top notch, high quality PDF</li>
<li>it must provide native support for multi languages</li>
</ul>
<p>To produce top notch, high quality PDF, the typesetting engine must have a top
tier <a href="https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap" target="_blank" rel="noreferrer">line breaking
algorithm</a>, and to
provide native support for multi languages, the typesetting engine must support
languages with a huge character set (such as Chinese, Japanese and Korean, aka
CJK). Let us evaluate these two criteria before we dive into specific
typesetting engines.</p>
<p>Wait a minute, I almost forgot, to produce a PDF <strong>the typesetting engine must
support pagination</strong>. You may ask: is there any typesetting engine that does
not support pagination? The answer is neither a yes nor a no, depending on
whether you consider HTML &amp; CSS to be a typesetting engine. We will talk more
about this later when we talk about HTML &amp; CSS.</p>
<p>Finally, it would be better if PPResume could have an excellent user experience,
of all possible features I believe <strong>instant preview is the most wanted one</strong>.</p>
<p>In a nutshell, I will judge a typesetting engine by checking whether it meets
the following accessment criteria:</p>
<ol>
<li>Knuth Plass line breaking algorithm</li>
<li>CJK typesetting</li>
<li>Pagination</li>
<li>Instant Preview</li>
</ol>
<h3 id="the-sacred-line-breaking-algorithm">The Sacred Line Breaking Algorithm<a href="#the-sacred-line-breaking-algorithm" aria-label="Permalink for this section"></a></h3>
<p>Line breaking algorithms are one of the core techniques used in typesetting
engines. They play a crucial role in determining how text is arranged on a page
or screen.</p>
<p>The primary purpose of a line breaking algorithm is to determine the optimal
points at which to break lines of text in a paragraph. Line breaking algorithms
are essential to digital typesetting and form a core component of any system
that needs to present text in a visually appealing and readable format.</p>
<p>There are 3 key metrics that are used to assess the quality of a line breaking
algorithm:</p>
<ol>
<li><strong>Justification</strong>: line breaking algorithms work in conjunction with
<a href="https://en.wikipedia.org/wiki/Typographic_alignment#Justified" target="_blank" rel="noreferrer">justification</a>
techniques to create evenly spaced lines of text.</li>
<li><strong>Hyphenation</strong>: many advanced algorithms incorporate hyphenation to improve
line breaks, especially for languages with long words.</li>
<li><strong>Optimization</strong>: the algorithm typically tries to minimize unsightly gaps or
overly tight spacing between words across an entire paragraph.</li>
</ol>
<p>There are <a href="https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#Algorithm" target="_blank" rel="noreferrer">two
categories</a> of
line breaking algorithms:</p>
<ol>
<li><strong>Minimum number of lines</strong>: a gready algorithm that puts as many words on a
line as possible, then moving on to the next line to do the same until there
are no more words left to place. This method is used by many modern word
processors, such as <a href="https://www.libreoffice.org/discover/writer/" target="_blank" rel="noreferrer">LibreOffice
Writer</a> and Microsoft Word.</li>
<li><strong>Minimum raggedness</strong>: a dynamic programming algorithm, firstly used in TeX,
minimizes the sum of the squares of the lengths of the spaces at the end of
lines to <strong>produce a more aesthetically pleasing result than the greedy
algorithm</strong>, which does not always minimize squared space.</li>
</ol>
<p>Technically speaking, the minimum number of lines algorithm has faster speed, while
the minimum raggedness algorithm produces more visually pleasing result. Let me
show you an example here, in the following image, the top half is a
<a href="https://blog.ppresume.com/static/resources/on-typesetting-engines/knuth-plass-line-breaking-algorithm-demo.odt">LibreOffice
document</a>,
using the “minimum number of lines” approach , while the bottom half is a <a href="https://blog.ppresume.com/static/resources/on-typesetting-engines/knuth-plass-line-breaking-algorithm-demo.pdf">PDF
document</a>
generated by TeX using the “minimum raggedness” approach. You can very easily
see that the bottom half PDF looks less ragged on the right margin and more
visually appealing simply because the line breaking is more balanced and
justified.</p>
<p><img alt="Knuth Plass Line Breaking Algorithm" loading="lazy" width="2560" height="2830" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fknuth-plass-line-breaking-algorithm-demo-with-libreoffice-and-tex.1f37a0c4.webp&amp;w=3840&amp;q=75 1x" src="https://blog.ppresume.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fknuth-plass-line-breaking-algorithm-demo-with-libreoffice-and-tex.1f37a0c4.webp&amp;w=3840&amp;q=75"/></p>
<p>Among all line breaking algorithms, the <a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Plass_line-breaking_algorithm" target="_blank" rel="noreferrer">Knuth Plass line breaking
algorithm</a>
is the gold standard for minimum raggedness approach. It is widely adopted by
various typesetting engines like <a href="https://en.wikipedia.org/wiki/TeX" target="_blank" rel="noreferrer">TeX</a>,
<a href="https://sile-typesetter.org/" target="_blank" rel="noreferrer">SILE</a> and
<a href="https://github.com/typst/typst/discussions/626" target="_blank" rel="noreferrer">Typst</a>, etc.</p>
<p>Back to PPResume’s case, one of the design goals for PPResume is to produce top
notch, high quality PDF, so the chosen typesetting engine must have a more
visually appealing line breaking algorithm, that being said, the typesetting
engine must adopt Knuth Plass line breaking algorithm.</p>
<h3 id="cjk-typesetting-is-complicated">CJK Typesetting is Complicated<a href="#cjk-typesetting-is-complicated" aria-label="Permalink for this section"></a></h3>
<p>Typesetting for <a href="https://en.wikipedia.org/wiki/CJK_characters" target="_blank" rel="noreferrer">CJK</a> (Chinese,
Japanese, and Korean) languages is generally considered to be more complicated
than Indo-European languages. Here is a classic
<a href="https://github.com/koreader/koreader/issues/6162" target="_blank" rel="noreferrer">discussion</a> from the
<a href="https://github.com/koreader/koreader" target="_blank" rel="noreferrer">koreader</a> project. There are several
reasons for this.</p>
<p>TL;DR: if you don’t want to delve into the details, you can check out the
following <a href="https://www.w3.org/" target="_blank" rel="noreferrer">W3C</a> draft notes to get an intuitive sense of
the complexity of typesetting requirements for CJK:</p>
<ul>
<li><a href="https://www.w3.org/TR/clreq/" target="_blank" rel="noreferrer">Requirements for Chinese Text Layout 中文排版需求</a></li>
<li><a href="https://www.w3.org/TR/jlreq/" target="_blank" rel="noreferrer">Requirements for Japanese Text Layout 日本語組版処理の要件（日本語版）
</a></li>
<li><a href="https://www.w3.org/TR/klreq/" target="_blank" rel="noreferrer">Requirements for Hangul Text Layout and Typography : 한국어 텍스트 레이아웃 및 타이포그래피를
위한 요구사항</a> to</li>
</ul>
<h4 id="cjk-character-set-is-huge">CJK Character Set is Huge<a href="#cjk-character-set-is-huge" aria-label="Permalink for this section"></a></h4>
<p>The root cause for this complexity is that the size of the character set for CJK
languages is much more larger than Indo-European languages. According to the
<a href="https://en.wikipedia.org/wiki/CJK_Unified_Ideographs" target="_blank" rel="noreferrer">CJK Unified Ideographs</a>,
as of Unicode 16.0, Unicode defines a total of 97,680 characters. <strong>This is
insanely huge</strong>. In contrast, Indo-European languages typically use the Latin
alphabet, which has a few hundred characters, much smaller than CJK. Hmmmm, 100k
characters, even creating a font that covers all of them is a huge amount of
work, labor-intensive and very expensive.</p>
<p><img alt="CJK Characters" loading="lazy" width="2500" height="2850" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2FThe_old_man_is_72_years_old_final.9a5a2d12.webp&amp;w=3840&amp;q=75 1x" src="https://blog.ppresume.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2FThe_old_man_is_72_years_old_final.9a5a2d12.webp&amp;w=3840&amp;q=75"/></p>
<p>Taking PPResume as an example, we met two issues
(<a href="https://github.com/ppresume/community/issues/33" target="_blank" rel="noreferrer">1</a>,
<a href="https://github.com/ppresume/community/issues/63" target="_blank" rel="noreferrer">2</a>) where the fonts
recommended by <a href="https://ctan.org/pkg/ctex?lang=en" target="_blank" rel="noreferrer">CTeX</a> are missing some
characters. Unlike Indo-European languages, there are very few fonts that have
full coverage of the entire CJK character set, and most of them are commercial—
<a href="https://fonts.google.com/noto" target="_blank" rel="noreferrer">Noto</a> is one of the few exceptions that both has
good coverage of <a href="https://github.com/notofonts/noto-cjk" target="_blank" rel="noreferrer">CJK</a> characters and is
free to use.</p>
<h4 id="cultural-nuances">Cultural Nuances<a href="#cultural-nuances" aria-label="Permalink for this section"></a></h4>
<p>Each CJK language has its own set of typographic conventions that must be
followed, and these can vary greatly from culture to culture and context to
context. For example, punctuation placement and spacing rules differ between
Chinese, Japanese, and Korean texts. It is hard to imagine that the <a href="https://en.wikipedia.org/wiki/Quotation_mark" target="_blank" rel="noreferrer">quotation
mark</a> is used with completely
<a href="https://en.wikipedia.org/wiki/Quotation_mark#Chinese,_Japanese_and_Korean" target="_blank" rel="noreferrer">different
conventions</a>
in CJK:</p>
<blockquote>
<p>In Japan, corner brackets are used.</p>
<p>In South Korea, corner brackets and English-style quotes are used.</p>
<p>In North Korea, angle quotes are used.</p>
<p>In mainland China, English-style quotes (full width “ ”) are official and
prevalent; corner brackets are rare today. The Unicode code points used are the
English quotes (rendered as fullwidth by the font), not the fullwidth forms.</p>
<p>In Taiwan, Hong Kong and Macau, where traditional characters are used, corner
brackets are prevalent, although English-style quotes are also used.</p>
<p>In the Chinese language, double angle brackets are placed around titles of
books, documents, movies, pieces of art or music, magazines, newspapers, laws,
etc. When nested, single angle brackets are used inside double angle brackets.
With some exceptions, this usage parallels the usage of italics in English:</p>
<p>「你看過《三國演義》嗎？」他問我。</p>
<p>“Have you read Romance of the Three Kingdoms?”, he asked me.</p>
</blockquote>
<h4 id="font-pairing">Font Pairing<a href="#font-pairing" aria-label="Permalink for this section"></a></h4>
<p>When mixing CJK with other Indo-European languages, things become more
complicated.</p>
<p>Firstly, punctuations are different. For example, the
<a href="https://en.wikipedia.org/wiki/Comma" target="_blank" rel="noreferrer">comma</a> has different forms in Chinese and
English:</p>
<blockquote>
<p>English uses the comma  as a separator to separate parts of a sentence and
items in a list, while Chinese uses a Chinese comma  to separate
sensences, and a dedicated enumeration comma (顿号, ) to separate items in
a list (e.g. keyword &gt; list).</p>
<p>— <a href="https://ppresume.com/posts/multi-languagues-support#punctuations" target="_blank" rel="noreferrer">Multi Languages Support</a></p>
</blockquote>
<p>Meanwhile, a Latin font for Indo-European languages may cover only one thousand
glyphs, whereas a CJK font must cover at least thousands of glyphs, as mentioned
above.</p>
<p>Effective typesetting often requires CJK fonts to be paired with Latin fonts to
maintain visual consistency. This can be challenging as it requires combined
fonts that intelligently switch between character sets.</p>
<blockquote>
<p>So Chinese, Japanese and Korean fonts tend to be developed by Asian designers,
with an understandable emphasis on the elegance of the Asian characters.
Unfortunately this can be at the expense of the design of the Latin letters,
which may in some cases be really quite ugly.</p>
<p>The solution? Use an attractive Latin-script font for any Latin letters and
numbers, and an Asian font for the Chinese, Japanese or Korean characters.
Rather than making the poor typesetter manually change the font each time a
Latin letter or number appears, applications such as InDesign allow Combined
Fonts to be set within a document which intelligently switch the font according
to the nature of each letter or character.</p>
<p>— <a href="https://asianabsolute.co.uk/blog/typesetting-conventions-best-practices-chinese-japanese-korean/" target="_blank" rel="noreferrer">Typesetting conventions and best practices for CJK (Chinese, Japanese, Korean)</a></p>
</blockquote>
<p>Not all typesetting engines have built-in support for font pairing but this is
essential for PPResume to provide native support for multi languages.</p>
<p>In summary, the insanely huge size of CJK character sets, cultural nuances and
technical challenges contribute to the greater complexity of typesetting CJK
languages compared to Indo-European languages.</p>
<h2 id="html--css">HTML &amp; CSS<a href="#html--css" aria-label="Permalink for this section"></a></h2>
<p>Technically speaking, <a href="https://en.wikipedia.org/wiki/HTML" target="_blank" rel="noreferrer">HTML</a> (Hypertext
Markup Language) is not a typesetting engine, but a markup language used to
create the structure and content of web pages. It’s designed to define the
structure of a document, such as headings, paragraphs, lists, and links, and so
on.</p>
<p>While HTML can indirectly influence how text appears on a page (e.g. by using
the obsolete
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/font" target="_blank" rel="noreferrer">font</a> tags), it
cannot handle the complex tasks of typesetting, such as:</p>
<ul>
<li><strong>Font selection</strong>: HTML doesn’t have built-in mechanisms for selecting
specific fonts.</li>
<li><strong>Text formatting</strong>: HTML can control some aspects of text formatting (e.g.,
bold, italic, etc.), however, it cannot provide the granular control offered
by typesetting engines.</li>
<li><strong>Hyphenation</strong>: HTML doesn’t handle hyphenation.</li>
<li><strong>Pagination</strong>: HTML is not designed for pagination.</li>
</ul>
<p>HTML itself is cannot function as a typesetting engine, however, HTML &amp;
<a href="https://en.wikipedia.org/wiki/CSS" target="_blank" rel="noreferrer">CSS</a> (Cascading Style Sheets) together can
be considered as a rudimentary typesetting engine.</p>
<p>Although not as sophisticated as dedicated typesetting engines such as LaTeX or
<a href="https://en.wikipedia.org/wiki/Adobe_InDesign" target="_blank" rel="noreferrer">InDesign</a>, HTML &amp; CSS provide a
flexible way to control the layout and appearance of text on web pages.</p>
<ul>
<li>HTML is used to define the structure of the content, such as headings,
paragraphs, and lists.</li>
<li>CSS is used to style the HTML elements, controlling
aspects like:<!-- -->
<ul>
<li>Font selection: specify fonts, font sizes, and font styles.</li>
<li>Text formatting: control line spacing, letter spacing, text alignment, and
more.</li>
<li>Layout: create complex layouts using techniques like
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/float" target="_blank" rel="noreferrer">float</a>,
<a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="noreferrer">flexbox</a>, and
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid" target="_blank" rel="noreferrer">grid</a>.</li>
</ul>
</li>
</ul>
<p>By combining HTML &amp; CSS, you can achieve a wide range of text formatting and
layout effects. However, for more advanced typesetting tasks, such as complex
mathematical equations or precise control over typography, dedicated typesetting
engines may be more appropriate.</p>
<p>There are many resume builders on the market which use the HTML &amp; CSS as their
typesetting engine. Most are commercial, with only a few being free or open
source:</p>
<table><thead><tr><th>Website</th><th>Technique</th><th>Type</th></tr></thead><tbody><tr><td><a href="https://resume.io" target="_blank" rel="noreferrer">https://resume.io</a></td><td>HTML Canvas</td><td>Commercial</td></tr><tr><td><a href="https://flowcv.com/" target="_blank" rel="noreferrer">https://flowcv.com/</a></td><td>HTML &amp; CSS</td><td>Commercial</td></tr><tr><td><a href="https://www.visualcv.com/" target="_blank" rel="noreferrer">https://www.visualcv.com/</a></td><td>HTML &amp; CSS</td><td>Commercial</td></tr><tr><td><a href="https://standardresume.co/" target="_blank" rel="noreferrer">https://standardresume.co/</a></td><td>HTML &amp; CSS</td><td>Commercial</td></tr><tr><td><a href="https://zety.com/" target="_blank" rel="noreferrer">https://zety.com/</a></td><td>HTML &amp; CSS</td><td>Commercial</td></tr><tr><td><a href="https://rxresu.me" target="_blank" rel="noreferrer">https://rxresu.me</a></td><td>HTML &amp; CSS</td><td>Free &amp; open source</td></tr></tbody></table>
<p>On the one hand, from a business perspective, given the market is so crowded,
it is not wise for me to create another resume builder that uses HTML &amp; CSS as
the typesetting engine.</p>
<p>On the other hand, from a engineering perspective, HTML &amp; CSS does not implement
Knuth Plass line breaking algorithm, so it cannot meet PPResume’s needs.</p>
<h3 id="line-breaking">Line Breaking<a href="#line-breaking" aria-label="Permalink for this section"></a></h3>
<p>In fact, standard CSS do provide some options for adjusting text justification:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-align" target="_blank" rel="noreferrer"></a>:
sets the horizontal alignment of the inline-level content inside a block
element or table-cell box.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-wrap" target="_blank" rel="noreferrer"></a>:
controls how text inside an element is wrapped</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/word-break" target="_blank" rel="noreferrer"></a>:
sets whether line breaks appear wherever the text would otherwise overflow its
content box.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/hyphens" target="_blank" rel="noreferrer"></a>:
specifies how words should be hyphenated when text wraps across multiple
lines.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/hanging-punctuation" target="_blank" rel="noreferrer"></a>:
specifies whether a punctuation mark should hang at the start or end of a line
of text</li>
</ul>
<p>Firefox even provides a
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-justify" target="_blank" rel="noreferrer"></a>
option to set what type of justification should be applied to text when
text-align: justify; is set on an element, however, this option is only
available on Firefox.</p>
<p>However none of them apply proper hyphenation, so they
<a href="https://chriscummins.cc/2013/typesetting/" target="_blank" rel="noreferrer">cannot</a> produce the same visually
appealing result as a real Knuth Plass line breaking algorithm—Hacker News has a
valuable <a href="https://news.ycombinator.com/item?id=1134342" target="_blank" rel="noreferrer">discussion</a> about why
modern browsers are too lazy to implement the Knuth Plass line breaking
algorithm.</p>
<p>There are also a few JavaScript implementations for the Knuth-Plass linebreaking
algorithm, but none of them seems to be production ready:</p>
<ul>
<li><a href="https://github.com/bramstein/typeset" target="_blank" rel="noreferrer">https://github.com/bramstein/typeset</a></li>
<li><a href="https://github.com/robertknight/tex-linebreak" target="_blank" rel="noreferrer">https://github.com/robertknight/tex-linebreak</a></li>
</ul>
<h3 id="cjk">CJK<a href="#cjk" aria-label="Permalink for this section"></a></h3>
<p>HTML &amp; CSS—or the browser, provides support for CJK, that’s for sure, otherwise
the browser couldn’t be the world’s most widely adopted information platform on
the world. However, this doesn’t mean that every page containing CJK follows
typesetting best practices.</p>
<p>For example, it is highly recommended to put some space between CJK and Western
characters, plain HTML &amp; CSS cannot do this automatically—this needs the help of
JavaScript.</p>
<p>In general, it takes extra effort in order to follow best practices for CJK
typesetting in the browser. As mentioned above, <a href="https://www.w3.org/TR/clreq/" target="_blank" rel="noreferrer">Requirements for Chinese Text
Layout 中文排版需求</a> is a pretty good and authoritative
reference, and one of the authors, <a href="https://yijun.me/" target="_blank" rel="noreferrer">Chen Yijun</a>, has
published an open source project called <a href="https://hanzi.pro/" target="_blank" rel="noreferrer">Han</a> which provides
a pretty nice implementation if you want to typeset CJK with best practices.</p>
<p><img alt="Han.css" loading="lazy" width="500" height="500" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftypeset.44d8b8f7.webp&amp;w=640&amp;q=75 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftypeset.44d8b8f7.webp&amp;w=1080&amp;q=75 2x" src="https://blog.ppresume.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftypeset.44d8b8f7.webp&amp;w=1080&amp;q=75"/></p>

<p>HTML &amp; CSS is not designed for paginated documents, though with the help of
JavaScript, it can simulate paginated documents
(<a href="https://github.com/Renovamen/oh-my-cv" target="_blank" rel="noreferrer">oh-my-cv</a> provides a good reference
<a href="https://github.com/Renovamen/oh-my-cv/blob/main/packages/vue-smart-pages/src/useSmartPages.ts" target="_blank" rel="noreferrer">implementation</a>).
HTML’s documents are essentially
<a href="https://alistapart.com/article/responsive-web-design/" target="_blank" rel="noreferrer">responsive</a>, flow like
water, can adapt
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Viewport" target="_blank" rel="noreferrer">viewports</a> of any
size.</p>
<h3 id="instant-preview">Instant Preview<a href="#instant-preview" aria-label="Permalink for this section"></a></h3>
<p>HTML &amp; CSS can have instant preview if the resume generation process only
happens only on the client side, otherwise, if it happens on the server side,
there would be a round trip time from request to response and hence no instant
preview.</p>
<h3 id="conclusion">Conclusion<a href="#conclusion" aria-label="Permalink for this section"></a></h3>
<p>Before we conclude, I couldn’t resist showing you an excellent
<a href="https://latex.vercel.app/" target="_blank" rel="noreferrer">example</a> of how HTML &amp; CSS typesetting can be pushed
to its limit. It uses  and  to get an
optimal, aligned layout for paragraphs. This is almost the best that HTML &amp; CSS
can do. If you ever want to do some typesetting with HTML &amp; CSS, this would be
a very good reference.</p>
<p>In summary, while it is theoretically possible to get a top typesetting for HTML
&amp; CSS, just as dedicated typesetting engines, the effort would be enormous and
they may also be browser compatibility issues. So, for the time being at least,
if top notch typesetting is required, it is still recommended to use a dedicated
typesetting engine instead of tuning HTML &amp; CSS hand by hand.</p>
<ul>
<li>Pros<!-- -->
<ul>
<li><strong>Universal accessibility</strong>: HTML &amp; CSS is the backbone of the web, making it
accessible on any device with a browser.</li>
<li><strong>Responsive</strong>: HTMl &amp; CSS is responsive and can adapt to viewport of any
size</li>
<li><strong>Flexible</strong>: HTML &amp; CSS is extremely flexible, it is programmable with rich
set of standard APIs</li>
<li><strong>Instant preview</strong>: HTML &amp; CSS supports instant preview</li>
</ul>
</li>
<li>Cons<!-- -->
<ul>
<li><strong>Limited control over typesetting</strong>: compared to dedicated typesetting
engines, HTML/CSS offers less control over fine typographic details.</li>
<li><strong>Browser compatibility</strong>: different browsers may render same HTML &amp; CSS
different, making it challenging to keep consistency across devices.</li>
<li><strong>No native pagination</strong>: HTML &amp; CSS is not designed for paginated
documents, hence it does not provide first class utility to export to PDF</li>
<li><strong>Poor line breaking</strong>: as mentioned, HTML &amp; CSS do not implement Knuth
Plass line breaking algorithm</li>
<li><strong>Extra effort needed for CJK typesetting</strong>: HTML &amp; CSS needs extra
libraries and effort in order to follow CJK best typesetting practices</li>
</ul>
</li>
</ul>
<h2 id="latex">LaTeX<a href="#latex" aria-label="Permalink for this section"></a></h2>
<p><a href="https://en.wikipedia.org/wiki/TeX" target="_blank" rel="noreferrer">TeX</a> is a typesetting system created by
<a href="https://www-cs-faculty.stanford.edu/~knuth/" target="_blank" rel="noreferrer">Donald Knuth</a> in the late 1970s.
It is designed for the creation of high quality typeset documents, particularly
those containing complex mathematical and scientific notation. TeX is a
low-level system that requires the user to write commands in a specific language
to format documents. It has its own set of rules and macros for formatting text,
and it is highly customizable and extensible.</p>
<p><a href="https://www.latex-project.org/" target="_blank" rel="noreferrer">LaTeX</a>, on the other hand, is a document
preparation system that is built on top of TeX. It was created by <a href="https://www.lamport.org/" target="_blank" rel="noreferrer">Leslie
Lamport</a> in the early 1980s to simplify the document
preparation process. LaTeX provides a set of higher-level macros on top of TeX’s
lower-level programming language, making it more easier and intuitive to use.</p>
<p>One of the most frequently asked questions is, why use LaTeX instead of a word
processors like Microsoft Word? The TL;DR answer is: “for beauty”.
<a href="https://nitens.org/w/" target="_blank" rel="noreferrer">Dario</a> wrote an excellent post <a href="https://nitens.org/w/latex/" target="_blank" rel="noreferrer">The Beauty of
LaTeX</a> with dozens of examples showing the
nitty-gritty typesetting details between Microsoft Word and LaTeX. No need for
me to repeat here.</p>
<p>In summary, for professional typesetting, LaTeX excels in the following
features:</p>
<ul>
<li>line breaking with justification and hyphenation</li>
<li>advanced font features like kerning, ligature, small caps, etc.</li>
<li>mathematical formulas</li>
<li>programmable and extensable</li>
<li>consistency and stability</li>
<li>cross platform compatibility</li>
</ul>
<h3 id="line-breaking-1">Line Breaking<a href="#line-breaking-1" aria-label="Permalink for this section"></a></h3>
<p>TeX has the golden line breaking algorithm—the Knuth Plass line breaking
algorithm. After all Knuth is the author of TeX, right?</p>
<p>As mentioned above, the Knuth Plass line breaking algorithm does its best to
produce a more aesthetically pleasing result by reducing the raggedness to
minimum.</p>
<p>Under the hood, the Knuth Plass line breaking algorithm uses a “total-fit”
line breaking algorithm, in contrast to the “first-fit” approach used by many
other systems. This means:</p>
<ul>
<li>it considers all possible breakpoints in a paragraph simultaneously</li>
<li>it optimizes the layout globally across the entire paragraph</li>
<li>it can adjust earlier line breaks based on their effects on later lines</li>
</ul>
<p>This allows TeX to produce more visually appealing and balanced paragraphs
overall.</p>
<p>Meanwhile, unlike many systems that treat hyphenation separately, TeX’s line
breaking algorithm integrates hyphenation decisions directly. This allows for
more optimal placement of hyphens in the context of the entire paragraph.</p>
<p>Overall, TeX’s line breaking algorithm is considered one of the most
sophisticated and effective approaches to typesetting, and its core principles
continue to influence modern typesetting systems and remain at the forefront of
high-quality digital typography.</p>
<h3 id="cjk-1">CJK<a href="#cjk-1" aria-label="Permalink for this section"></a></h3>
<p>Regarding to CJK typesetting, LaTeX has pretty good support for CJK with the
help of some new engines and some packages:</p>
<ul>
<li>new engines like <a href="https://www.luatex.org/" target="_blank" rel="noreferrer">LuaTeX</a> and
<a href="https://tug.org/xetex/" target="_blank" rel="noreferrer">XeTeX</a></li>
<li>packages like <a href="https://ctan.org/pkg/xecjk?lang=en" target="_blank" rel="noreferrer">xeCJK</a>,
<a href="https://ctan.org/pkg/ctex?lang=en" target="_blank" rel="noreferrer">CTeX</a> and
<a href="https://ctan.org/pkg/luatexja?lang=en" target="_blank" rel="noreferrer">LuaTeX-ja</a></li>
</ul>
<p>For example, xeCJK package provide following commands to set fonts for CJK:</p>
<ul>
<li>: setting CJK fonts for the serif family of body text</li>
<li>: setting CJK fonts for the sans family of body text</li>
<li>: setting CJK fonts for the monospace family</li>
</ul>
<p>xeCJK also provides options for specifying punctuation styles for CJK, spacing
between CJK and non-CJK characters, etc.</p>
<p>Overall LaTeX’s CJK support is now quite mature, although it may take some time
to set up in different environments. Here’s a manual page from <a href="https://xml.web.cern.ch/XML/lgc2/xetexmain.pdf" target="_blank" rel="noreferrer">The XeTeX
Companion TEX meets OpenType and
Unicode</a>, you can get a glance
of XeTeX’s ability for CJK typesetting.</p>
<p><img alt="XeTeX for CJK" loading="lazy" width="2480" height="3188" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fxetexmain.06587f4c.webp&amp;w=3840&amp;q=75 1x" src="https://blog.ppresume.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fxetexmain.06587f4c.webp&amp;w=3840&amp;q=75"/></p>

<p>LaTeX is designed from ground up for typesetting paginated documents, so yes it
has excellent support for pagination, you can easily adjust paper size,
orientation, margins, etc.</p>
<p>Check the <a href="https://ctan.org/pkg/geometry?lang=en" target="_blank" rel="noreferrer">geometry</a> package for details.</p>
<h3 id="instant-preview-1">Instant Preview<a href="#instant-preview-1" aria-label="Permalink for this section"></a></h3>
<p>LaTeX by default runs on the server side so there would be a round trip time
from the request to generate the PDF to the response for the generated PDF.</p>
<p>Using LaTeX as the typesetting engine means that we’re losing the ability for
instant preview. However there do have ways to mitigate this. The magic is
<a href="https://webassembly.org/" target="_blank" rel="noreferrer">WebAssembly</a>.</p>
<p>There’s some effort that goes into compiling LaTeX to WebAssembly (aka wasm) so
that it can run purely in a browser:</p>
<ul>
<li><a href="https://manuels.github.io/texlive.js/" target="_blank" rel="noreferrer">texlive.js</a>: the initial effort to
compile LaTeX to wasm, only support
<a href="https://www.tug.org/applications/pdftex/" target="_blank" rel="noreferrer">pdfTeX</a> engine</li>
<li><a href="https://www.swiftlatex.com/" target="_blank" rel="noreferrer">SwiftLaTeX</a>, a recent, modern trial to make
LaTeX Engines run in Browsers, support XeTeX with CJK.</li>
<li><a href="https://github.com/let-def/texpresso" target="_blank" rel="noreferrer">TeXpresso</a>: live rendering and error
reporting for LaTeX, check its
<a href="https://github.com/let-def/texpresso?tab=readme-ov-file#Screencasts" target="_blank" rel="noreferrer">screencasts</a>
for demo</li>
</ul>
<p>Although none of the above are actively maintained though, it is theoretically
possible to run LaTeX purely in a browser. This would drastically reduce the
round-trip time from browser to server, and we could get instant previews then.</p>
<h3 id="conclusion-1">Conclusion<a href="#conclusion-1" aria-label="Permalink for this section"></a></h3>
<p>Before concluding, I would like to share a bit of off-topic information here.
There are a very few choices for LaTeX based resume builders on the market:</p>
<ul>
<li><a href="https://resumepuppy.com/" target="_blank" rel="noreferrer">https://resumepuppy.com/</a>: the only commercial resume builders that use LaTeX
as far as I know, they declare that they have been trusted by 100,000+
professionals &amp; students.</li>
<li><a href="https://resumake.io/" target="_blank" rel="noreferrer">https://resumake.io/</a>: the open source one, with more than 3k stars on github.</li>
</ul>
<p>From a business perspective, this is a niche market and not too crowded, so it
might be worthwhile for me to create another LaTeX based resume builder.</p>
<p>OK time to conclude LaTeX.</p>
<ul>
<li>Pros<!-- -->
<ul>
<li><strong>Precision and control</strong>: LaTeX offers unparalleled control over document
layout and typography.</li>
<li><strong>Golden line breaking</strong>: Knuth Plass line breaking algorithm is the golden
standard for optimized line breaking, and it is invented by TeX authors</li>
<li><strong>Extensive support for CJK</strong>: there’re A vast collection of packages
that extends LaTeX’s capabilities for CJK support.</li>
</ul>
</li>
<li>Cons<!-- -->
<ul>
<li><strong>Steeper Learning Curve</strong>: LaTeX has a higher barrier to entry for new
users compared to WYSIWYG editors.</li>
<li><strong>No instant preview</strong>: by default LaTeX need a compilation process on
server and hence no instant preview.</li>
<li><strong>Old and arcane developer experience</strong>: LaTeX’s compilation log is
sometimes unreadable that can only be debugged with binary search approach</li>
</ul>
</li>
</ul>
<h2 id="latexjs">LaTeX.js<a href="#latexjs" aria-label="Permalink for this section"></a></h2>
<p><a href="https://latex.js.org/" target="_blank" rel="noreferrer">LaTeX.js</a> is a LaTeX to HTML5 translator that aims to
render LaTeX documents directly in the browser without the need for server-side
processing.</p>
<p>It provides a very impressive
<a href="https://latex.js.org/playground.html" target="_blank" rel="noreferrer">playground</a>, where on the left you can
enter some LaTeX code, on the right it will render the LaTeX code into a pretty
nice HTML document.</p>
<p><img alt="LaTeX.js Playground" loading="lazy" width="3216" height="2090" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Flatex-js-playground.060bd789.webp&amp;w=3840&amp;q=75 1x" src="https://blog.ppresume.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Flatex-js-playground.060bd789.webp&amp;w=3840&amp;q=75"/></p>
<h3 id="line-breaking-2">Line Breaking<a href="#line-breaking-2" aria-label="Permalink for this section"></a></h3>
<p>LaTeX.js does not use Knuth Plass line breaking but instead uses  to minimize the raggedness for paragraphs.</p>
<p>Meanwhile, it also uses <a href="https://en.wikipedia.org/wiki/Soft_hyphen" target="_blank" rel="noreferrer">soft
hyphen</a>  to facilitate with
 for better line breaking.</p>
<p>Although these techniques produce much better visual result than normal HTML, it
is still not true Knuth Plass line breaking.</p>
<h3 id="cjk-2">CJK<a href="#cjk-2" aria-label="Permalink for this section"></a></h3>
<p>LaTeX.js supports CJK because it is just a transpiler on top of HTML &amp; CSS.
However, just like HTML &amp; CSS, it doesn’t follow CJK best practices and it’s
even harder and requires more work to tune itself according to CJK typesetting
best practices.</p>

<p>Looks like we can have a LaTeX in a browser? No, no, no, if things were really
that easy, the world would be a better place. LaTeX.js comes with lots of
<a href="https://latex.js.org/limitations.html" target="_blank" rel="noreferrer">limitations</a>, some of which are fatal
for a production-ready LaTeX replacement in a browser:</p>
<ul>
<li>horizontal
<a href="https://www.overleaf.com/learn/latex/Articles/Boxes_and_Glue%3A_A_Brief%2C_but_Visual%2C_Introduction_Using_LuaTeX" target="_blank" rel="noreferrer">glue</a>,
like <a href="https://latexref.xyz/_005chfill.html" target="_blank" rel="noreferrer"></a> in a paragraph of text, is
not possible</li>
<li>vertical glue makes no sense in HTML, and is impossible to emulate, except in
boxes with fixed height</li>
<li>the concept of pages does not really apply to HTML, so any macro related to
pagebreaks will be ignored, that being said, you cannot get a paged document
with LaTeX.js, which is a fatal deal breaker for a resume builder app</li>
</ul>
<h3 id="instant-preview-2">Instant Preview<a href="#instant-preview-2" aria-label="Permalink for this section"></a></h3>
<p>LaTeX.js provides instant preview because it is a client side library and runs
in a browser.</p>
<h3 id="conclusion-2">Conclusion<a href="#conclusion-2" aria-label="Permalink for this section"></a></h3>
<p>LaTeX.js provides only
<a href="https://latex.js.org/limitations.html#when-parsing-tex-as-a-context-free-grammar" target="_blank" rel="noreferrer">limited</a>
parsing capabilities for TeX/LaTeX, in other words, many LaTeX packages cannot
be used in LaTeX.js.</p>
<blockquote>
<p>This is a PEG parser, which means it interprets LaTeX as a context-free
language. However, TeX (and therefore LaTeX) is Turing complete, so TeX can only
really be parsed by a complete Turing machine. It is not possible to parse the
full TeX language with a static parser. See here (opens new window)for some
interesting examples.</p>
</blockquote>
<p>When I started PPResume at Dec, 2022, I also tried LaTeX.js for a while, but
after discovering its fatal limitations, I quickly dropped it in favour of
server-side LaTeX. As far as what I can tell, <strong>LaTeX.js is a good demo idea but
far from being a production-ready LaTeX replacement</strong>.</p>
<ul>
<li>Pros<!-- -->
<ul>
<li><strong>Instant preview</strong>: LaTeX.js processes LaTeX documents entirely on the
client side, which means it can render documents in real-time in the browser.
This eliminates the need for server-side LaTeX installations and compilations.</li>
<li><strong>Extensible</strong>: The project is implemented in JavaScript, making it easy to
integrate into web applications. New macros can also be added easily in
JavaScript.</li>
</ul>
</li>
<li>Cons<!-- -->
<ul>
<li><strong>Missing capabilites</strong>: LaTeX.js only covers a limited set of LaTeX
capabilities, it is far from being a production ready LaTeX replacement.
Lots of LaTeX packages cannot be used with LaTeX.js.</li>
<li><strong>No pagination</strong>: Some LaTeX features, like glue, paging, cannot be
translated to HTML, which is a deal breaker for producing paged documents
like PDF.</li>
<li><strong>Poor line breaking</strong>: LaTeX.js is based on HTML &amp; CSS and do not implement
Knuth Plass line breaking algorithm</li>
<li><strong>Extra effort needed for CJK typesetting</strong>: same as above, LaTeX.js is
based on HTML &amp; CSS hence it needs extra effort in order to follow CJK best
typesetting practices, and is harder to do this than plain HTML &amp; CSS</li>
</ul>
</li>
</ul>
<h2 id="typst">Typst<a href="#typst" aria-label="Permalink for this section"></a></h2>
<p><a href="https://typst.app/" target="_blank" rel="noreferrer">Typst</a> is a modern typesetting system designed to be
an intuitive and efficient alternative to LaTeX. It uses a syntax that is
heavily inspired by Markdown, making it more accessible to users who may find
LaTeX’s syntax complex. Typst allows users to compose documents in a text file,
similar to LaTeX, but with a focus on speed, simplicity, and error handling.</p>
<p><img alt="Typst App" loading="lazy" width="3216" height="2090" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftypst-app.e0da6f92.webp&amp;w=3840&amp;q=75 1x" src="https://blog.ppresume.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftypst-app.e0da6f92.webp&amp;w=3840&amp;q=75"/></p>
<h3 id="line-breaking-3">Line Breaking<a href="#line-breaking-3" aria-label="Permalink for this section"></a></h3>
<p>Typst provide two options for line breaks:</p>
<ul>
<li>: determine the line breaks in a simple
first-fit style.</li>
<li>: optimize the line breaks for the whole
paragraph. This option
<a href="https://github.com/typst/typst/discussions/626" target="_blank" rel="noreferrer">implemented</a> the Knuth Plass
line breaking algorithm internally.</li>
</ul>
<p>The line breakingn in Typst would be better if  option and
<a href="https://typst.app/docs/reference/text/text/#parameters-hyphenate" target="_blank" rel="noreferrer"></a>
option are used together.</p>
<h3 id="cjk-3">CJK<a href="#cjk-3" aria-label="Permalink for this section"></a></h3>
<p>Because Typst is very young, its CJK support is not as mature as LaTeX. As a
result, there’re lots of <a href="https://github.com/typst/typst/issues?q=is%3Aissue+is%3Aopen+CJK" target="_blank" rel="noreferrer">open
issues</a> in
the Typst community. Here are some typical ones:</p>
<ul>
<li><a href="https://github.com/typst/typst/issues/276" target="_blank" rel="noreferrer">Better CJK support</a></li>
<li><a href="https://github.com/typst/typst/issues/792" target="_blank" rel="noreferrer">Ignore linebreaks between CJK characters in source
code</a></li>
<li><a href="https://github.com/typst/typst/issues/794" target="_blank" rel="noreferrer">Language-dependant font
configuration</a></li>
<li><a href="https://github.com/typst/typst/issues/1489" target="_blank" rel="noreferrer">Add support for ruby (CJK, e.g., furigana for
Japanese)</a></li>
<li><a href="https://github.com/typst/typst/issues/2348" target="_blank" rel="noreferrer">CJK punctuation at the start of paragraphs are not adjusted
sometimes</a></li>
<li><a href="https://github.com/typst/typst/issues/5040" target="_blank" rel="noreferrer">Writing Chinese text results in some characters falling back to a different
font in web app</a></li>
<li><a href="https://github.com/typst/typst/issues/5277" target="_blank" rel="noreferrer">0.12 handles CJK fonts
incorrectly</a></li>
</ul>
<p>Basically these issues can be categorised as follows:</p>
<ul>
<li>CJK font settings</li>
<li>punctuation rules</li>
<li>spacing styles between CJK and non-CJK characters</li>
<li>language aware line breaking</li>
</ul>
<p>I am 100% sure that Typst will be able to improve and solve these issues, but it
will take time. It is very likely that there will be some breaking changes in
the future.</p>

<p>Typst supports <a href="https://typst.app/docs/guides/page-setup-guide/" target="_blank" rel="noreferrer">pagination</a> out
of the box, fair enough as a dedicated typesetting engine.</p>
<h3 id="instant-preview-3">Instant Preview<a href="#instant-preview-3" aria-label="Permalink for this section"></a></h3>
<p>This part is a bit complicated.</p>
<p>Basically, Typst is an <a href="https://github.com/typst/typst/" target="_blank" rel="noreferrer">open source</a> project, it
can run as a CLI tool where you can just type in a command  and get a PDF in your local folder.</p>
<p>Typst provides a  command, combined with incremental compilation,
the PDF can be updated in milliseconds. There are also some extensions such as
<a href="https://github.com/Myriad-Dreamin/tinymist" target="_blank" rel="noreferrer">tinymist</a> which allows instant
preview on editors.</p>
<p>It can also run purely in a browser, as the project is written in rust and
designed to be able to be compiled to WebAssembly. In fact, the official Typst
<a href="https://typst.app" target="_blank" rel="noreferrer">web app</a> run in a browsers via WebAssembly. However,
this part is <a href="https://github.com/typst/typst/issues/909" target="_blank" rel="noreferrer">not</a> open sourced:</p>
<blockquote>
<p>Typst can be compiled to WASM, but no JS glue is available, you’d have to
write that yourself. It’s not as simple as compile(string) because you also
need to provide fonts, and if you want a multi-file setup of course also
files.</p>
</blockquote>
<p>That being said, if you want instant preview for Typst in a browser, you are
mostly on your own to write a WebAssembly binding to typst.</p>
<h3 id="conclusion-3">Conclusion<a href="#conclusion-3" aria-label="Permalink for this section"></a></h3>
<p>In my opinion, Typst is a very promising alternative to LaTeX, but still very
young and lacks some key capabilites to handle complicated typesetting
scenarios.</p>
<ul>
<li>Pros<!-- -->
<ul>
<li><strong>User-friendly Syntax</strong>: Typst’s syntax is more straightforward and
consistent compared to LaTeX, making it easier for beginners to learn and
use.</li>
<li><strong>Fast compilation</strong>: Typst has incremental compilation which lead to a
faster compilation in milliseconds rather than seconds.</li>
<li><strong>Customizable line breaking</strong>: Typst provide options for users to opt in
Knuth Plass line breaking algorithm</li>
</ul>
</li>
<li>Cons<!-- -->
<ul>
<li><strong>Limited ecosystem</strong>: as a newer tool, Typst lacks the extensive package
ecosystem that LaTeX offers, which can limit functionality for advanced
typesetting needs.</li>
<li><strong>Unstable CJK typesetting</strong>: Typst still has lots of issues for CJK
typesetting and is constantly evolving.</li>
<li><strong>Instant preview is private</strong>: Typst do not open source their WebAssembly
bindings so there is no official instant preview feature on browser</li>
</ul>
</li>
</ul>
<h2 id="react-pdf">React-pdf<a href="#react-pdf" aria-label="Permalink for this section"></a></h2>
<p><a href="https://react-pdf.org/" target="_blank" rel="noreferrer">React-pdf</a> is react renderer for creating PDF files on
the browser and server.</p>
<h3 id="line-breaking-4">Line Breaking<a href="#line-breaking-4" aria-label="Permalink for this section"></a></h3>
<p>React-pdf internally <a href="https://react-pdf.org/advanced#hyphenation" target="_blank" rel="noreferrer">implements</a>
the Knuth and Plass line breaking algorithm. By default it’s set to hyphenate
english words.</p>
<p>This is one page from the example document in <a href="https://react-pdf.org/repl" target="_blank" rel="noreferrer">react-pdf
playground</a>, note the layout of the paragraph, the
text overall looks balanced and justified, much better than normal paragraphs in
normal HTML &amp; CSS.</p>
<p><img alt="React-pdf document" loading="lazy" width="2480" height="3507" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Freact-pdf-document.05cfde87.webp&amp;w=3840&amp;q=75 1x" src="https://blog.ppresume.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Freact-pdf-document.05cfde87.webp&amp;w=3840&amp;q=75"/></p>
<h3 id="cjk-4">CJK<a href="#cjk-4" aria-label="Permalink for this section"></a></h3>
<p>React-pdf with default settings does not render CJK characters, you need to
<a href="https://github.com/diegomura/react-pdf/issues/867#issuecomment-713483012" target="_blank" rel="noreferrer">register a
font</a>
and quote it in styles.</p>

<p>Needless to say, react-pdf supports pagination because it is a library to
generate PDF. It also provides <a href="https://react-pdf.org/components#page" target="_blank" rel="noreferrer">options</a>
to specify page sizes, DPI, styles, etc.</p>
<h3 id="instant-preview-4">Instant Preview<a href="#instant-preview-4" aria-label="Permalink for this section"></a></h3>
<p>React-pdf can be used on both client side and server side.</p>
<p>If used on client side, then yes we have instant preview, again, you can check
the <a href="https://react-pdf.org/repl" target="_blank" rel="noreferrer">playground</a> for a live demo.
Otherwise, if used on server side with
<a href="https://react-pdf.org/node" target="_blank" rel="noreferrer">Node.js</a>, then no instant preview due to the round
trip time from request to response.</p>
<h3 id="conclusion-4">Conclusion<a href="#conclusion-4" aria-label="Permalink for this section"></a></h3>
<p>It seems that react-pdf would be a perfect choice as the typesetting engine for
a resume builder.</p>
<p>However, react-pdf is not a dedicated typesetting engine. It lacks many features
that are only available or work well with a dedicated typesetting engine. For
example, it has no built-in list items. Most importantly, even though it already
implements the Knuth-Plass line-breaking algorithm, typesetting is not just
about breaking paragraphs into lines, is it? You still need to tune the spacing
between paragraphs, adjust font size/styles, respect CJK best typesetting
practices, etc. All this tuning requires a huge amount of work that LaTeX
already provides out of the box.</p>
<p>In fact, there is an open source resume builder called
<a href="https://www.open-resume.com/resume-builder" target="_blank" rel="noreferrer">open-resume</a> which uses this
library to generate and update resume PDF in real time, you can check the output
PDF by yourself and compare it to the <a href="https://ppresume.com/gallery" target="_blank" rel="noreferrer">PDF generated by
LaTeX</a>.</p>
<p>OK conclusion:</p>
<ul>
<li>Pros<!-- -->
<ul>
<li><strong>React integration</strong>: react-pdf allows developers to create PDF documents
using react</li>
<li><strong>Instant preview</strong>: react-pdf provides instant preview when running on
client side</li>
<li><strong>Good line breaking</strong>: react-pdf implemented Knuth Plass line breaking
algorithm internally, better than plain HTML &amp; CSS</li>
<li><strong>Pagination</strong>: react-pdf support pagination out of the box, with
customizable page size, margins, etc.</li>
</ul>
</li>
<li>Cons<!-- -->
<ul>
<li><strong>Limited typesetting capabilites</strong>: after all react-pdf is a react library,
neither a professional nor a dedicated typesetting engine.</li>
<li><strong>Limited support for CJK</strong>: react-pdf can render CJK with manually
registered font, however, it doesn’t respect CJK best typesetting practices</li>
</ul>
</li>
</ul>
<h2 id="summary">Summary<a href="#summary" aria-label="Permalink for this section"></a></h2>
<p>The goal of PPResume is to be a professional resume builder that offers top
notch typesetting quality, with native support for multi languages.</p>
<p>As mentioned above, in order to meet PPResume’s requirements, the typesetting
engine must:</p>
<ul>
<li>adopt Knuth Plass line breaking algorithm</li>
<li>support CJK with respect to best typesetting practices</li>
<li>support pagination</li>
<li>(optional) support instant preview</li>
</ul>
<table><thead><tr><th>Typesetting Engine</th><th>Knuth Plass line breaking</th><th>CJK</th><th>Pagination</th><th>Instant Preview</th></tr></thead><tbody><tr><td>HTML &amp; CSS</td><td>No</td><td>Yes</td><td>Partial</td><td>Yes</td></tr><tr><td>LaTeX</td><td>Yes</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td>LaTeX.js</td><td>No</td><td>Yes</td><td>No</td><td>Yes</td></tr><tr><td>Typst</td><td>Yes</td><td>Partial</td><td>Yes</td><td>Partial</td></tr><tr><td>React-pdf</td><td>Yes</td><td>No</td><td>Yes</td><td>Yes</td></tr></tbody></table>
<p>Both HTML &amp; CSS and LaTeX.js do not support Knuth Plass line breaking, react-pdf
and Typst’s CJK support is not production ready, hence LaTeX is our only option.</p>
<p>In the long run if there’re better choice, it is possible for PPResume to add
support for other typesetting engines.</p>
<p>Last but not least, having fun with <a href="https://polytype.dev/" target="_blank" rel="noreferrer">polytype</a>, a
<a href="https://en.wikipedia.org/wiki/Rosetta_Stone_(software)" target="_blank" rel="noreferrer">Rosetta Stone</a> for
typesetting engines.</p>
<p>Thanks for reading!</p>
<h2 id="revision">Revision<a href="#revision" aria-label="Permalink for this section"></a></h2>
<h3 id="nov-8-2024">Nov 8, 2024<a href="#nov-8-2024" aria-label="Permalink for this section"></a></h3>
<ul>
<li>typo fix: hypens -&gt; hyphens</li>
<li>add Chinese translations:<!-- -->
<ul>
<li>Simplified Chinese: <a href="https://blog.ppresume.com/posts/zh-cn/on-typesetting-engines" target="_blank" rel="noreferrer">排版引擎纵谈：程序员的视角</a></li>
<li>Traditional Chinese TW: <a href="https://blog.ppresume.com/posts/zh-tw/on-typesetting-engines" target="_blank" rel="noreferrer">排版引擎縱談：程式設計師的視角</a></li>
</ul>
</li>
</ul>
<h3 id="nov-2-2024">Nov 2, 2024<a href="#nov-2-2024" aria-label="Permalink for this section"></a></h3>
<ul>
<li>refer  in HTML &amp; CSS section, suggested by
<a href="https://www.reddit.com/r/programming/comments/1ggg67q/comment/luxjfsy/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button" target="_blank" rel="noreferrer">u/Jona-Anders</a></li>
<li>refer <a href="https://github.com/Myriad-Dreamin/tinymist" target="_blank" rel="noreferrer">tinymist</a> in Typst section,
suggested by
<a href="https://www.reddit.com/r/programming/comments/1ggg67q/comment/luxiasn/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button" target="_blank" rel="noreferrer">u/Afkadrian</a></li>
</ul>
<h3 id="nov-1-2024">Nov 1, 2024<a href="#nov-1-2024" aria-label="Permalink for this section"></a></h3>
<ul>
<li>typo fix: ctex -&gt; CTeX, suggested by <a href="https://liam.page/en/about/" target="_blank" rel="noreferrer">Liam Huang</a></li>
</ul></article></div></div>
  </body>
</html>
