<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.jeffgeerling.com/blog/2022/ubuntus-settings-wont-open-after-setting-cpu-performance">Original</a>
    <h1>Ubuntu&#39;s settings won&#39;t open after setting CPU to &#39;performance&#39;</h1>
    
    <div id="readability-page-1" class="page"><div><p>Recently I was doing some benchmarking on my Ubuntu 22.04 PC, and as part of that benchmarking, I tried setting the CPU performance profile to <code>performance</code>. In the old days, this was not an issue, but it seems that modern Ubuntu only &#39;knows&#39; about <code>balanced</code> and <code>power-saver</code>. Apparently performance is forbidden these days!</p>

<pre><code>$ powerprofilesctl list
* balanced:
    Driver:     placeholder

  power-saver:
    Driver:     placeholder
</code></pre>

<p>The problem was, I had set the profile to <code>performance</code>:</p>

<pre><code>$ powerprofilesctl set performance
</code></pre>

<p>But suddenly the &#39;Settings&#39; GUI app would no longer open (at least not after I had opened it and clicked into the &#39;power&#39; section). A reboot didn&#39;t work, and even reinstalling control center (<code>sudo apt-get install --reinstall gnome-control-center</code>) didn&#39;t help!</p>

<p>When I tried opening the settings GUI from the command line, I got the following critical error:</p>

<pre><code>$ gnome-control-center display

(gnome-control-center:4710): cc-power-profile-row-CRITICAL **: 20:12:10.458: cc_power_profile_row_get_radio_button: assertion &#39;CC_IS_POWER_PROFILE_ROW (self)&#39; failed
**
power-cc-panel:ERROR:../panels/power/cc-power-panel.c:1122:performance_profile_set_active: assertion failed: (button)
Bail out! power-cc-panel:ERROR:../panels/power/cc-power-panel.c:1122:performance_profile_set_active: assertion failed: (button)
Aborted (core dumped)
</code></pre>

<p>After finding <a href="https://gitlab.gnome.org/GNOME/gnome-control-center/-/issues/1504">this issue in the Gnome bug tracker</a>, I found that the problem was that the version of the control center I had in my Ubuntu release seems to have a bug. When it encounters the &#39;performance&#39; setting, it just crashes.</p>

<p>It looks like it was fixed recently, but the fix hasn&#39;t made its way into a stable Ubuntu release. So for now, the fix to getting Settings to display again is to set the power mode back into one of the two modes Settings is comfortable with, e.g. <code>balanced</code>:</p>

<pre><code>$ powerprofilesctl set balanced
</code></pre>

<p>Now settings opens up, and I can move along with my day again :)</p></div></div>
  </body>
</html>
