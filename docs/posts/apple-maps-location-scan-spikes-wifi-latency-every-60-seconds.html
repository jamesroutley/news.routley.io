<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/benskuhn/status/1524791658381910023">Original</a>
    <h1>Apple Maps location scan spikes WiFi latency every 60 seconds</h1>
    
    <div id="readability-page-1" class="page"><div role="main"><div><div><div><div data-testid="primaryColumn"><div><div itemscope="" itemtype="https://schema.org/Collection"><meta content="Tweet with replies" itemprop="name"/><section aria-labelledby="accessible-list-16195" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524791658381910023" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="4" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:40:35.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:40:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/benskuhn/status/1524791658381910023" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791658381910023" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__bf1aoj6smeu id__u1mpvplmwa id__9bnevoyav2l id__7rxba470wi8 id__5cp8n9js0ps id__rvy7a381k0s id__w0mbosfbv7 id__tio1l4jxplq id__nc2lq22m5x id__7n7stxxgxk5 id__mlyhecw8p1c id__iyd7wxbncxm id__q0vzq5nib8h id__41dgkubd08g id__ror45vjfmm id__mwvh0fr3s6 id__wc2mrjehhkq" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__rvy7a381k0s"><div><div><div><div><a href="https://twitter.com/benskuhn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1419281345927393286/c-bK7nai_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>FUN FACT: I just did another round of &#34;what&#39;s making my Zoom calls stutter every 60s&#34; and this time the culprit was... APPLE #!*$ING MAPS. That&#39;s right, Macs now come *preloaded* with software to ruin wifi latency :(

You can fix by revoking Maps&#39; location access in Preferences:</span></p></div></div></div><div><div aria-labelledby="id__2ypb17q5mlg id__e0dt79cyddc" id="id__iyd7wxbncxm"><div><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/FSkl7jZVIBQTyIr?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524791661838016513" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:40:36.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:40:36.000Z" itemprop="datePublished"/><meta content="https://twitter.com/benskuhn/status/1524791661838016513" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791658381910023" itemprop="isPartOf"/><meta content="https://twitter.com/benskuhn/status/952245158078279680" itemprop="isBasedOn"/><div><article aria-labelledby="id__xtoidgmqgzn id__0kwpzqfim9n id__9bdcgu97b3s id__4f495tle7gp id__yxt794iqn3d id__ouxwfzhudhk id__y3axre1v2g id__cngh19miwml id__h2tfanxz1ad id__7dv6z380409 id__4m6qh8i1qg8 id__yggcymltku id__eiue1h1emo id__eyik7zqvb2h id__s9pno6uwl8 id__te38fiimyfg id__89qy6r22upi" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ouxwfzhudhk"><div><div><div><div><a href="https://twitter.com/benskuhn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1419281345927393286/c-bK7nai_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>Previously: </span><a dir="ltr" href="https://twitter.com/benskuhn/status/952245158078279680" role="link"><span aria-hidden="true">https://</span>twitter.com/benskuhn/statu<span aria-hidden="true">s/952245158078279680</span><span aria-hidden="true">…</span></a><span>

This time, Maps was requesting a location scan every 60s, which triggered a wifi network scan, which, as previously discussed, tanks your latency for a few seconds.

Sorry to everyone I&#39;ve had connection issues with for the past 2 months!</span></p></div></div><div aria-labelledby="id__qobn5pkvp7j id__elgyzd2v03w" id="id__yggcymltku"><div id="id__qobn5pkvp7j"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>Did You Know: clicking on the OS X wifi toolbar causes enormous ping latency spikes? As does any app that polls for wifi networks in the background e.g. </span><span><span dir="ltr">@Genymotion</span></span><span>... Thought I had crappy wifi for ~2 years but it was actually misbehaving apps screwing up my video calls!</span></p><p><span>Show this thread</span></p></div><div><div><div><div><div><div><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/DTcNhfSWkAIlCxD?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524791664836943886" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:40:36.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:40:36.000Z" itemprop="datePublished"/><meta content="https://twitter.com/benskuhn/status/1524791664836943886" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791661838016513" itemprop="isPartOf"/><meta content="https://twitter.com/benskuhn/status/952245967931215872" itemprop="isBasedOn"/><div><article aria-labelledby="id__pkg1y874p4 id__zjjs2wyp2jd id__r1sd0vmhycq id__43onnj6346h id__ujxyv70jqwh id__mn1s9a6y49e id__wgivoo004u id__nbo6edw6ibh id__zm0p47ktwe9 id__b8aerl3bwy id__lv7u4wzdiv id__podgl5y914j id__u04nyal8z7 id__0dnktw7rq277 id__fjm7k2hjneb id__x5p6nw2pon9 id__fwvvny52ru" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__mn1s9a6y49e"><div><div><div><div><a href="https://twitter.com/benskuhn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1419281345927393286/c-bK7nai_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>As before, I debugged this by enabling wifi debug logging (</span><a dir="ltr" href="https://twitter.com/benskuhn/status/952245967931215872" role="link"><span aria-hidden="true">https://</span>twitter.com/benskuhn/statu<span aria-hidden="true">s/952245967931215872</span><span aria-hidden="true">…</span></a><span>) and looking for which processes were causing wifi polls. This time though the culprit was &#34;locationd&#34;, whose wifi scans can be triggered by any number of things, so I had to figure out which...</span></p></div></div><div aria-labelledby="id__l8kpnh8zynk id__2263gc6zva1" id="id__podgl5y914j"><div id="id__l8kpnh8zynk"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>To find out if you have any misbehaving apps, go to Wireless Diagnostics &gt; Window &gt; Logs and enable background wifi logging, hit &#34;refresh,&#34; then run `tail /var/log/wifi.log | grep &#39;SCAN request&#39;` to get a list of PIDs requesting scans</span></p><p><span>Show this thread</span></p></div><div><div><div><div><div><div><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/DTcOcJWXUAA5M52?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524791673825337345" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:40:38.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:40:38.000Z" itemprop="datePublished"/><meta content="https://twitter.com/benskuhn/status/1524791673825337345" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791664836943886" itemprop="isPartOf"/><div><article aria-labelledby="id__iilpdjmvuw id__fuq3ren0a4b id__0zaf7qjz7e0p id__6z6gl6ocmkp id__1y66953rcapi id__syyqmyhlx1 id__7pdps321vvq id__2yqkxfj3vh8 id__zemlf4ajyes id__kjx18fz2acb id__myux287dntr id__jiubn98ym58 id__25sjaicv5lr id__bkiyzvow9u id__xlzc8pp18gc id__ekp1uk1eoej id__rax8c9m6ep" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__syyqmyhlx1"><div><div><div><div><a href="https://twitter.com/benskuhn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1419281345927393286/c-bK7nai_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>by disabling location access for everything in System Preferences, waiting a minute to see if the problem went away, re-enabling half of them to see if it came back, etc. (It&#39;s a good thing I know about binary search or this would have taken me like 20 minutes instead of 3.)</span></p></div></div><div aria-labelledby="id__ra6kv4p14pf id__5s2l5pno5bo" id="id__jiubn98ym58"><div><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/FSkl8UwVICYVDtN?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524791678044807192" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:40:39.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:40:39.000Z" itemprop="datePublished"/><meta content="https://twitter.com/benskuhn/status/1524791678044807192" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791673825337345" itemprop="isPartOf"/><div><article aria-labelledby="id__q0mkq005ggk id__yd2bzzay2bf id__itgj7z4ld99 id__itoib60sjy9 id__1fj4e1xiro6 id__h0q9o52cd95 id__85nu0en4k7a id__w05q1df6d5 id__l9ik9d5acss id__vfoiiw9my9 id__4f01ovijg33 id__rt00z6twig id__f6yr326stsf id__e2l7wqbx5nf id__6ry8h94uw79 id__yohjrv5b2mp id__8b0al7x5ayt" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__h0q9o52cd95"><div><div><div><div><a href="https://twitter.com/benskuhn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1419281345927393286/c-bK7nai_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>Just another data point that wireless is evil and you should never use it (</span><a dir="ltr" href="https://t.co/l5Srm7gNu4" rel="noopener noreferrer" target="_blank" role="link"><span aria-hidden="true">https://</span>benkuhn.net/wireless/</a><span>), unless, I guess, you&#39;re in my situation where that would require running a cable to the opposite end of your house </span><span>😢</span></p></div></div><div aria-labelledby="id__fffur9cbtwm id__4x1iegzjco5" id="id__rt00z6twig"><div aria-labelledby="id__8jy05dks14v id__9wvd20hdf1f" id="id__4x1iegzjco5" data-testid="card.wrapper"><div aria-hidden="true" id="id__8jy05dks14v" data-testid="card.layoutLarge.media"><a href="https://t.co/l5Srm7gNu4" rel="noopener noreferrer" target="_blank" role="link" tabindex="-1"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1524098895281803265/dNhOGcDK?format=jpg&amp;name=4096x4096"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524791680917905409" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:40:40.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:40:40.000Z" itemprop="datePublished"/><meta content="https://twitter.com/benskuhn/status/1524791680917905409" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791678044807192" itemprop="isPartOf"/><meta content="https://twitter.com/benskuhn/status/1318695731432128513" itemprop="isBasedOn"/><div><article aria-labelledby="id__z736s7ihotl id__94if5tvbhyu id__7k4abmdu15o id__oobykkkgcn id__9jgkf1fnbd7 id__mpoyqghk9if id__3i2k4oqq5d id__ct347l8oza id__mqr8mvxc019 id__cqr2jnignp9 id__u9riph2azri id__on5sj2re9z id__of95booajg id__j0t0aqrwsm id__vjv7ltrzlb id__fodzkq9j3d8 id__7l58uo3ui5" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__mpoyqghk9if"><div><div><div><div><a href="https://twitter.com/benskuhn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1419281345927393286/c-bK7nai_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>Also I guess another data point that Apple can&#39;t build solid networking software—see e.g.:</span></p></div></div><div aria-labelledby="id__wyckphbqmi id__9vr6n1yd8w5" id="id__on5sj2re9z"><div id="id__wyckphbqmi"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>I noticed my MacBook would sometimes become unresponsive to keyboard input after opening the lid. 

Eventually I realized it only happened in my backyard. WTF?!

Finally figured out why and the answer is... horrifying:  </span><span dir="ltr"><span aria-hidden="true">https://</span>news.ycombinator.com/item?id=248391<span aria-hidden="true">01</span><span aria-hidden="true">…</span></span></p><p><span>Show this thread</span></p></div><div><div><div><div><div><div><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/Ekzw3C7WAAEkjXu?format=jpg&amp;name=900x900"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524791867388272645" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:41:25.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:41:25.000Z" itemprop="datePublished"/><meta content="https://twitter.com/ArtirKel/status/1524791867388272645" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791658381910023" itemprop="isPartOf"/><div><article aria-labelledby="id__arfoi0qxlq id__jasw9916hzh id__wah90e634w id__207j0bdnrnu id__cj4eyvg3gp6 id__maxj97tryx id__vmbytfhlzk id__01ew6ynj9lay id__jhmu11jv9a8 id__qfhf3y4yra id__o8z1blh5m2h id__zt7kmv2doqg id__bhm60urlq6n id__0v4mt862hor id__kjsi3aqyhw id__zluiyy2d id__lkuxgkkbh4a" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__maxj97tryx"><div><div><div><div><a href="https://twitter.com/ArtirKel" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1522257945852928005/_Bhi_Q6D_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>One day you too shall join the merry band of google meets maximalists :)</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524792321069486081" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T16:43:13.000Z" itemprop="dateCreated"/><meta content="2022-05-12T16:43:13.000Z" itemprop="datePublished"/><meta content="https://twitter.com/benskuhn/status/1524792321069486081" itemprop="url"/><meta content="https://twitter.com/ArtirKel/status/1524791867388272645" itemprop="isPartOf"/><div><article aria-labelledby="id__px9a6t8kcq9 id__yafu09c2uls id__mocsxtt80o8 id__j94drje6vrl id__df9gi5vlmhu id__x8d96kmz5ym id__qv4crtjrovf id__0qxa7owrqkwk id__d76aaqq1uha id__m0gnbzdkb1 id__roxjibebwa id__4gjz6bylpgm id__4hyt40syeh id__eip3ovuetns id__g2ppog7mq6k id__qsyux6hr4de id__cmqo68q806" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__x8d96kmz5ym"><div><div><div><div><a href="https://twitter.com/benskuhn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1419281345927393286/c-bK7nai_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>Huh? This is a wifi problem, not a Zoom problem.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1524809166279348224" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-05-12T17:50:09.000Z" itemprop="dateCreated"/><meta content="2022-05-12T17:50:09.000Z" itemprop="datePublished"/><meta content="https://twitter.com/wouterslimmer/status/1524809166279348224" itemprop="url"/><meta content="https://twitter.com/benskuhn/status/1524791658381910023" itemprop="isPartOf"/><div><article aria-labelledby="id__bnhpi82raqi id__i1t2444gd4f id__4f3y6usydf7 id__mfgm8205msr id__lnhjgp5kuj id__ifk539fjpo9 id__un7y3gt7nwr id__0yrzm4itgyzl id__n7wdtzpim9 id__2u6zc24hakl id__hgvreorv2td id__4kjr2elpyyu id__jvfd6l5ipim id__2q9udxouusr id__k8wkebzv78s id__patn03j0zg" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ifk539fjpo9"><div><div><div><div><a href="https://twitter.com/wouterslimmer" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1408797960977235976/woB2G-G0_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div></div></div></div></div></div></div>
  </body>
</html>
