<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://arccompute.com/blog/libvfio-add-gvm-support/">Original</a>
    <h1>LibVF.IO: Add support for GPU Virtual Machine (GVM)</h1>
    
    <div id="readability-page-1" class="page"><article id="_tl_editor"><div contenteditable="false"><address dir="auto" data-placeholder="Your name" data-label="Author">Arthur Rasmusson (Co-Founder, Arc Compute)</address><h4 dir="auto" id="Summary">Summary</h4><p dir="auto"><a href="https://news.ycombinator.com/item?id=28944426" target="_blank">LibVF.IO (vGPU &amp; SR-IOV on Consumer GPUs)</a> has added support for <a href="https://docs.linux-gvm.org/" target="_blank">GPU Virtual Machine (GVM)</a>.</p><figure contenteditable="false"><p><img src="https://arccompute.com/blog/libvfio-add-gvm-support/index_files/8167862c308fdac38d80f.png"/></p><span contenteditable="true"></span><figcaption dir="auto" data-placeholder="Caption (optional)">Pictured: The GPU Virtual Machine (GVM) project logo.</figcaption></figure><h4 dir="auto" id="Introduction">Introduction</h4><p dir="auto"><a href="https://openmdev.io/" target="_blank">OpenMdev</a> is committed to making GPU virtualization accessible to a wider audience by building support through GPL licensed tools that work for the widest range of users and devices possible. In short we&#39;re trying our best to bring GPU virtualization to everyone. To this end we created LibVF.IO to make GPU virtualization easier than ever on a wide range of devices (desktops, laptops, embedded, and servers). Today we&#39;re announcing support for GPU Virtual Machine (GVM) in LibVF.IO.</p><figure contenteditable="false"><p><img src="https://arccompute.com/blog/libvfio-add-gvm-support/index_files/b9f3d942b33019716495f.png"/></p><span contenteditable="true"></span><figcaption dir="auto" data-placeholder="Caption (optional)">Pictured: A section of the LibVF.IO install guide detailing virtual GPU (vGPU) configuration in GVM.</figcaption></figure><p dir="auto"><a href="https://docs.linux-gvm.org/" target="_blank">GPU Virtual Machine (GVM)</a> builds upon our prior work and extends user control further into the GPU by supporting the user&#39;s ability to <a href="https://github.com/Arc-Compute/Mdev-GPU#what-does-mdev-gpu-do" target="_blank">create mediated GPU types (vGPUs) exactly matching their specified GVM configuration</a>.<br/> </p><blockquote dir="auto"><strong>Read the updated setup guide</strong><a href="https://arccompute.com/blog/libvfio-commodity-gpu-multiplexing/" target="_blank"></a></blockquote><h4 dir="auto" id="Next-Steps">Next Steps</h4><p dir="auto"><strong>Packaging</strong></p><p dir="auto">Currently installation of GVM for Nvidia GPUs is handled through LibVF.IO. Due to an XML signature which normally prevents the user from making changes to mediated device configuration we are not able to package GVM&#39;s components and install them in place under an existing driver. </p><p dir="auto">Packaging of GVM components will require that we remove this signature in-place rather than ahead of time by installing drivers next to GVM. Packaging work is ongoing so that installation scripts will no longer be necessary.</p><p dir="auto">While this limitation remains to make it easy for users of other management stacks (like Libvirt) we also added ./scripts/install-standalone-gvm-components.sh so the user may install exclusively the components needed to interact with GVM through <a href="https://libvirt.org/" target="_blank">Libvirt</a> &amp; <a href="https://github.com/mdevctl/mdevctl" target="_blank">Mdevctl</a> without bringing LibVF.IO along with it.</p><p dir="auto"><strong>Improved Support For Devices</strong></p><p dir="auto">To see a full list of supported devices visit the <a href="https://openmdev.io/index.php/GPU_Support" target="_blank">GPU Support</a> page on OpenMdev.</p><p dir="auto">At this time GPU Virtual Machine provides public support for Nvidia GPUs. With Intel&#39;s forthcoming Xe products comes the opportunity to build widely available <a href="https://github.com/intel/linux-intel-lts/commit/41ef979f0894326c202473807a56b599a2f3d04e" target="_blank">open source support for SR-IOV</a> for GPUs with widespread installation both through it&#39;s soon to be released <a href="https://download.intel.com/newsroom/2022/corporate/vision/Intel-Arctic-Sound-M-Fact-Sheet.pdf" target="_blank">Arctic Sound</a> and <a href="https://openmdev.io/index.php/GPU_Support" target="_blank">Xe devices</a>. </p><p dir="auto">We look forward to announcing public support for a wider range of devices in the near future.</p><p dir="auto">If you would like to ask questions about LibVF.IO or GVM you can join our friendly community. We&#39;d love to help you troubleshoot your setup or work together to improve our open sources.</p><blockquote dir="auto"><strong>Discord</strong><a href="https://discord.gg/Rb9K9DYxKK" target="_blank"></a></blockquote><blockquote dir="auto"><strong>IRC</strong></blockquote></div></article></div>
  </body>
</html>
