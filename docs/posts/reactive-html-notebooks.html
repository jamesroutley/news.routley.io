<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://maxbo.me/a-html-file-is-all-you-need.html">Original</a>
    <h1>Reactive HTML Notebooks</h1>
    
    <div id="readability-page-1" class="page"><p>
  I&#39;ve packaged this article up and released a library, <a href="https://maxbo.me/celine">@celine/celine</a>. It has a nicer API too. Check it out! (o˘◡˘o)
</p><div>


<div><p>

Before I start, why am I doing this?
</p></div>



<p>

We also want <code>contenteditable</code> <code>script</code>s to be re-evaluated on blur by building a clone of the <code>script</code> and then removing the original.
<br/>



</p>



<div><p>

Now we&#39;ll declare a cell called <code>counter</code> that emits a number every second.
<b>The <code>script</code>&#39;s <code>id</code> attribute is the same as the <code>name</code> parameter passed to <code>cell</code></b>.

</p></div>
<div><p>

Now that we&#39;ve created a our <code>counter</code> cell, we can create other cells that depend on it.

</p></div>


<p>
We can still observe the output of a cell without needing to show its definition. Just don&#39;t add the <code>echo</code> class. 
This makes them useful as a rendering primitive.


<i>(There&#39;s a hidden cell above ^)</i>

</p>

<!-- <div class="slide">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/wypst@0.0.8/dist/wypst.min.js" crossorigin="anonymous"></script>
  
<script type="module" class="echo" id="typst" contenteditable="true">
cell("typst", [], async () => {
  const div = document.createElement("div");
  await wypst.initialize()
  wypst.render("sum_(k=1)^n k = (n(n+1)) / 2", div);
  return div
});
</script> -->














<!-- <h2>3D models</h2>

We can use Google's <a href="https://modelviewer.dev/"><code><model-viewer></code></a> <a href="https://www.webcomponents.org/introduction">Web Component</a> to display 3D models.

<script type="module" class="echo" id="model">
import 'https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js';

cell("model", async () => {
  return htl.html`
    <model-viewer 
      style="width: 100%; height: 400px"
      src="/models/NeilArmstrong.glb" 
      poster="/models/NeilArmstrong.webp" 
      alt="Neil Armstrong's Spacesuit from the Smithsonian Digitization Programs Office and National Air and Space Museum" 
      ar 
      auto-rotate
      shadow-intensity="1" 
      camera-controls 
      touch-action="pan-y">
  </model-viewer>
  `;
});
</script> -->

<!-- <div class="slide"> -->

<!-- <h2>Saving contenteditable changes</h2>

Taking a note out of <a href="https://cristobal.space/">Cristóbal Sciutto</a>'s <a href="https://cristobal.space/note">Self-modifying HTML notes</a>,
it's very easy to save a modified version of our document to disk. -->

<!-- <script type="module" class="echo" id="download">
function download (html) {
  // Write data into self-contained html file
  const data = new Blob([html], {type: 'text/plain'});

  // Download the file
  const url = window.URL.createObjectURL(data);
  const a = document.createElement("a");
  a.href = url;
  a.download = "a-html-file-is-all-you-need.html";
  a.click();
}

cell("download", () => {
  return Inputs.button([["Download", () => download(document.documentElement.outerHTML)]]);
});
</script> -->


<!-- </div> -->

</div></div>
  </body>
</html>
