<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://news.ycombinator.com/item?id=31892384">Original</a>
    <h1>Ask HN: What is your Kubernetes nightmare?</h1>
    
    <div id="readability-page-1" class="page"><div><td colspan="2"></td><td>Everything self-hosted has its maintenance tax but why Kubernetes (especially self hosted) is so hard? What aspect is that makes Kubernetes operationally so hard?<p>- Is it the networking model that is simple from the consumption standpoint but has too many moving parts for it to be implemented?</p><p>- Is it the storage model, CSI and friends?</p><p>- Is it the bunch of controller loops doing their own things with nothing that gives a &#34;wholesome&#34; picture to identify the root cause?</p><p>For me personally, first and foremost thing on my mind is the networking details. They are &#34;automatically generated&#34; by each CNI solution in slightly different ways and constructs (iptables, virtual bridges, routing daemons, eBPF etc etc) and because they are generated, it is not uncommon to find hundreds of iptable rules and chains on a single node and/or similar configuration.</p><p>Being automated, these solutions generate tons of components/configurations which in case of trouble, even if one has mastery on them, would take some time to hoop through all the components (virtual interfaces, virtual bridges, iptable chains and rules, ipvs entries etc) to identify what&#39;s causing the trouble. Essentially, one pretty much has to be a network engineer because besides the underlying/physical (or the virtual, I mean cloud VPCs) network, k8s pulls its very own network (pod network, cluster network) implemented on the software/configuration layer which has to be fully understood to be able to maintained.</p><p>God forbid, if the CNI solution has some edge case or for some other misconfiguration, it keeps generating inadequate or misconfigured rules/routes etc resulting in a broken &#34;software defined network&#34; that I cannot identify in time on a production system is my nightmare and I don&#39;t know how to reduce that risk.</p><p>What&#39;s your Kubernetes nightmare?</p><p>EDIT: formating</p></td></div></div>
  </body>
</html>
