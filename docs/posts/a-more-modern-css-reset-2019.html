<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://piccalil.li/blog/a-more-modern-css-reset/">Original</a>
    <h1>A More Modern CSS Reset (2019)</h1>
    
    <div id="readability-page-1" class="page"><div lang="en-GB">
<p>I know I also have a terrible record with open source maintenance, so I thought I’d <a href="https://github.com/Andy-set-studio/modern-css-reset">archive the original</a> and just post this instead. Do with it what you want!</p>
<p>To be super clear, this is a reset that works for me, personally and us at <a href="https://set.studio/">Set Studio</a>. Whenever I refer to “we”, that’s who I’m referring to.</p>
<h2 id="the-reset-in-whole">The reset in whole<a href="#the-reset-in-whole"><span>permalink</span><svg fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2>
<astro-island uid="F2EhH" prefix="r8" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,263265]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="263265"><div><pre id="code-block-263265" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Box sizing rules */</span>
<span>*,
*::before,
*::after</span> <span>{</span>
  <span>box-sizing</span><span>:</span> border-box<span>;</span>
<span>}</span>

<span>/* Prevent font size inflation */</span>
<span>html</span> <span>{</span>
  <span>-moz-text-size-adjust</span><span>:</span> none<span>;</span>
  <span>-webkit-text-size-adjust</span><span>:</span> none<span>;</span>
  <span>text-size-adjust</span><span>:</span> none<span>;</span>
<span>}</span>

<span>/* Remove default margin in favour of better control in authored CSS */</span>
<span>body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd</span> <span>{</span>
  <span>margin-block-end</span><span>:</span> 0<span>;</span>
<span>}</span>

<span>/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */</span>
<span>ul[role=&#39;list&#39;],
ol[role=&#39;list&#39;]</span> <span>{</span>
  <span>list-style</span><span>:</span> none<span>;</span>
<span>}</span>

<span>/* Set core body defaults */</span>
<span>body</span> <span>{</span>
  <span>min-height</span><span>:</span> 100vh<span>;</span>
  <span>line-height</span><span>:</span> 1.5<span>;</span>
<span>}</span>

<span>/* Set shorter line heights on headings and interactive elements */</span>
<span>h1, h2, h3, h4,
button, input, label</span> <span>{</span>
  <span>line-height</span><span>:</span> 1.1<span>;</span>
<span>}</span>

<span>/* Balance text wrapping on headings */</span>
<span>h1, h2,
h3, h4</span> <span>{</span>
  <span>text-wrap</span><span>:</span> balance<span>;</span>
<span>}</span>

<span>/* A elements that don&#39;t have a class get default styles */</span>
<span>a:not([class])</span> <span>{</span>
  <span>text-decoration-skip-ink</span><span>:</span> auto<span>;</span>
  <span>color</span><span>:</span> currentColor<span>;</span>
<span>}</span>

<span>/* Make images easier to work with */</span>
<span>img,
picture</span> <span>{</span>
  <span>max-width</span><span>:</span> 100%<span>;</span>
  <span>display</span><span>:</span> block<span>;</span>
<span>}</span>

<span>/* Inherit fonts for inputs and buttons */</span>
<span>input, button,
textarea, select</span> <span>{</span>
  <span>font-family</span><span>:</span> inherit<span>;</span>
  <span>font-size</span><span>:</span> inherit<span>;</span>
<span>}</span>

<span>/* Make sure textareas without a rows attribute are not tiny */</span>
<span>textarea:not([rows])</span> <span>{</span>
  <span>min-height</span><span>:</span> 10em<span>;</span>
<span>}</span>

<span>/* Anything that has been anchored to should have extra scroll margin */</span>
<span>:target</span> <span>{</span>
  <span>scroll-margin-block</span><span>:</span> 5ex<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<h2 id="breakdown">Breakdown<a href="#breakdown"><span>permalink</span><svg fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2>
<p>As is tradition, let’s break it down:</p>
<astro-island uid="1htciI" prefix="r9" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,561781]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="561781"><div><pre id="code-block-561781" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Box sizing rules */</span>
<span>*,
*::before,
*::after</span> <span>{</span>
  <span>box-sizing</span><span>:</span> border-box<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>This rule is pretty self explanatory, but in short, I’m setting all elements and pseudo-elements to use the <code>border-box</code>, <a href="https://web.dev/learn/css/box-model/">rather than the default <code>content-box</code> for sizing</a>. Now we’re focussing more on letting the <a href="https://buildexcellentwebsit.es/">browser do more work</a> with <a href="https://every-layout.dev/">flexible layouts</a> with <a href="https://utopia.fyi/">fluid type and space</a>, this rule isn’t as useful as it once was. But, it’s rare that a project doesn’t have some explicit sizing somewhere, so it’s still got a place in the reset.</p>
<astro-island uid="GAroR" prefix="r10" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,460385]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="460385"><div><pre id="code-block-460385" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Prevent font size inflation */</span>
<span>html</span> <span>{</span>
  <span>-moz-text-size-adjust</span><span>:</span> none<span>;</span>
  <span>-webkit-text-size-adjust</span><span>:</span> none<span>;</span>
  <span>text-size-adjust</span><span>:</span> none<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>The <a href="https://kilianvalkhof.com/2022/css-html/your-css-reset-needs-text-size-adjust-probably/">best explainer for this is by Kilian</a>. He also explains why we still need those ugly prefixes too.</p>
<astro-island uid="12dOCS" prefix="r11" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,35118]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="35118"><div><pre id="code-block-35118" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Remove default margin in favour of better control in authored CSS */</span>
<span>body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd</span> <span>{</span>
  <span>margin-block-end</span><span>:</span> 0<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>I’ll always favour stripping out user agent styles for margin in favour of <a href="https://andy-bell.co.uk/my-favourite-3-lines-of-css/">defining flow and space at a more macro level</a>. With logical properties, I’m removing the end margin now instead of all sides in the older reset. It seems to work well in production.</p>
<astro-island uid="Z1DAlgm" prefix="r12" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,774868]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="774868"><div><pre id="code-block-774868" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */</span>
<span>ul[role=&#39;list&#39;],
ol[role=&#39;list&#39;]</span> <span>{</span>
  <span>list-style</span><span>:</span> none<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>Safari do some wild shit, which includes <a href="https://bugs.webkit.org/show_bug.cgi?id=170179">this one</a>: if you remove list styling, they’ll remove the semantics for VoiceOver. Some will say it’s a feature and some will say it’s a bug. I say it’s daft, but to make sure that a <code>role</code> is added, I remove the list styling by default for it as a little reward.</p>
<astro-island uid="Z2sljXI" prefix="r13" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,383946]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="383946"><div><pre id="code-block-383946" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Set core body defaults */</span>
<span>body</span> <span>{</span>
  <span>min-height</span><span>:</span> 100vh<span>;</span>
  <span>line-height</span><span>:</span> 1.5<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>I like a nice legible line height that gets inherited. Setting a min height as <code>100vh</code> on the body is pretty handy too, especially if you’re gonna be setting decorative elements. It might be tempting to use a new unit like <code>dvh</code>, but if you <a href="https://ishadeed.com/article/new-viewport-units/#:~:text=Be%20careful%20with%20the%20dvh,is%20scrolling%20up%20or%20down.">delve deep like Ahmad has</a>, you’ll see that can cause more problems than solutions, which is not what you want your reset to be doing!</p>
<p><a href="https://mastodon.social/@simevidas/111088262361593466">The <code>svh</code> unit seems better than <code>dvh</code></a>, but I’m happy with <code>vh</code>. Always make sure you understand the newer units before diving head first into them, or recommending them as gospel is my advice. If something is already working for you, there’s no need to change it!</p>
<astro-island uid="Z4YVj1" prefix="r14" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,413197]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="413197"><div><pre id="code-block-413197" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Set shorter line heights on headings and interactive elements */</span>
<span>h1, h2, h3, h4,
button, input, label</span> <span>{</span>
  <span>line-height</span><span>:</span> 1.1<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>Just like it’s handy to have a generous <code>line-height</code> globally, it’s equally handy to have a shorter <code>line-height</code> for headings and buttons etc. It’s definitely worth removing or modifying this rule if your font has large ascenders and descenders though. The last thing you want is those clashing with each other and creating an accessibility issue.</p>
<astro-island uid="Z1b0Vws" prefix="r15" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,668870]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="668870"><div><pre id="code-block-668870" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Balance text wrapping on headings */</span>
<span>h1, h2,
h3, h4</span> <span>{</span>
  <span>text-wrap</span><span>:</span> balance<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>This rule is rather specific to our projects, but the newish <code>text-wrap</code> property makes headings look lovely. I imagine some people will find this not appropriate, so you might want to remove this one.</p>
<astro-island uid="1nYHJr" prefix="r16" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,930411]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="930411"><div><pre id="code-block-930411" tabindex="0"><astro-slot>
<code is:raw=""><span>/* A elements that don&#39;t have a class get default styles */</span>
<span>a:not([class])</span> <span>{</span>
  <span>text-decoration-skip-ink</span><span>:</span> auto<span>;</span>
  <span>color</span><span>:</span> currentColor<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>This rule is first making sure the text decoration doesn’t interfere with ascenders and descenders. I think this is mostly default in browsers now, but it’s a good insurance policy to set it too. We like to set links to inherit the <code>currentColor</code> of text too by default at <a href="https://set.studio/">the studio</a>, but if you don’t, you probably want to remove it.</p>
<astro-island uid="Z1PLoeS" prefix="r17" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,487328]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="487328"><div><pre id="code-block-487328" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Inherit fonts for inputs and buttons */</span>
<span>input,
button,
textarea,
select</span> <span>{</span>
  <span>font-family</span><span>:</span> inherit<span>;</span>
  <span>font-size</span><span>:</span> inherit<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>It’s useful to let form elements and buttons inherit some font properties at this point. It’s mostly going to affect <code>&lt;textarea&gt;</code> elements, but there’s no harm in applying it to other form elements too because it saves on some CSS later on in a project.</p>
<astro-island uid="gWGPg" prefix="r18" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,246698]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="246698"><div><pre id="code-block-246698" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Make sure textareas without a rows attribute are not tiny */</span>
<span>textarea:not([rows])</span> <span>{</span>
  <span>min-height</span><span>:</span> 10em
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>Speaking of <code>&lt;textarea&gt;</code> elements, this rule is handy. By default, if you don’t add a <code>rows</code> attribute, they can be super teeny. This isn’t ideal with coarse pointers such as fingers and by proxy, <code>&lt;textarea&gt;</code> elements tend to be used for multiple lines of text. It makes sense to make that easier.</p>
<astro-island uid="25A7yN" prefix="r19" component-url="/_astro/CodeBlock.BauLV5gN.js" component-export="default" renderer-url="/_astro/client.BIGLHmRd.js" props="{&#34;className&#34;:[0,&#34;language-css&#34;],&#34;id&#34;:[0,629333]}" ssr="" client="visible" opts="{&#34;name&#34;:&#34;CodeBlock&#34;,&#34;value&#34;:true}" await-children=""><div data-element="code-block" data-id="629333"><div><pre id="code-block-629333" tabindex="0"><astro-slot>
<code is:raw=""><span>/* Anything that has been anchored to should have extra scroll margin */</span>
<span>:target</span> <span>{</span>
  <span>scroll-margin-block</span><span>:</span> 5ex<span>;</span>
<span>}</span>
</code>
</astro-slot></pre></div></div></astro-island>
<p>Finally, if an element is anchored, it makes sense to add a bit more space above it with <code>scroll-margin</code>, which is only accounted for if that element is targeted. A little tweak with lots of user experience power! You might want to adjust this if you have a fixed header though.</p>
<h2 id="wrapping-up">Wrapping up<a href="#wrapping-up"><span>permalink</span><svg fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2>
<p>Will this reset last another 4 years? Maybe! The <a href="https://andy-bell.co.uk/a-modern-css-reset/">other one</a> certainly hasn’t caused issues.</p>
<p>Regardless, it’s pretty useful as a base to start projects, here at <a href="https://set.studio/">the studio</a>. We don’t go back and retroactively update the other reset on client projects either because that one works absolutely fine.</p>
<p>Resets are one of those things that people get worked up about, but really, with browsers being so bloody good now, you probably don’t even need one in the first place. My advice is take bits you like from ones you find on the web and create your own, that <strong>works for you and your team</strong>.</p>
<hr/>
<p>You can also <a href="https://coliss.com/articles/build-websites/operation/css/a-more-modern-css-reset.html">read this post in Japanese</a>.</p>
<p>This post and source code is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution License</a>.</p>
</div></div>
  </body>
</html>
