<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://reviewbunny.app/blog/dont-make-me-think-or-why-i-switched-to-rails-from-javascript-spas">Original</a>
    <h1>Don&#39;t make me think, or why I switched to Rails from JavaScript SPAs</h1>
    
    <div id="readability-page-1" class="page"><div><p>I picked Ruby on Rails over React-based <a rel="nofollow noreferrer" target="_blank" href="https://en.wikipedia.org/wiki/Single-page_application">SPA</a> to build <a href="https://reviewbunny.app">Reviewbunny</a> and it was wonderful. I didn&#39;t procrastinate determining the perfect setup or choosing dependencies. Instead, I procrastinated after having finished the MVP. I&#39;d rather do the latter!</p>

<p>I still enjoy React, but why is it so much harder to create apps in the JavaScript ecosystem, compared to Rails? We have all the necessary tools after all.</p>

<p>I think it all comes down to this. When I start a new JavaScript app, I have to make a lot of decisions on my own. I don&#39;t want to, but reality is, I have to.</p>

<h4>Package manager</h4>

<p>npm, Yarn 1 or 2 (yes, they&#39;re completely different), pnpm or Snowpack?</p>

<h4>Framework</h4>

<p>Next.js, Remix, Gatsby, Vite, Create React App, Koa or Express?</p>

<h4>Tooling</h4>

<p>Set up TypeScript, Prettier, linter and test framework.</p>

<h4>Project structure</h4>

<p>There are no conventions on this. Every company or project has their own. Or doesn&#39;t.</p>

<p>At the last company I worked at, I could count at least 6 different ways of writing and organizing UI code. I can&#39;t quickly jump into a new JavaScript codebase and start working productively.</p>

<p>Today&#39;s frameworks have rules on how to create pages, which is great. But I&#39;m on my own where to place everything else.</p>

<h4>Data storage</h4>

<p>SQL databases, MongoDB, Firebase, Fauna, Cloudflare Durable Objects or Planetscale?</p>

<p>Serverless platforms can spawn many instances of my app, so I need connection pools in front of a SQL database to avoid making thousands of connections. MongoDB and Firebase are too flexible, because there&#39;s no schema. I got bitten by that before. SaaS offerings cost more and there are additional steps to set up a local environment.</p>

<p>Oh, and database migrations? Start looking for another package to do that for you or attempt to do it yourself.</p>

<h4>Data fetching</h4>

<p>GraphQL or REST? Apollo, SWR, react-query, Relay or fetch?</p>

<p>Remix&#39;s approach is the one I&#39;m looking forward to the most. It tells me exactly how to fetch the data.</p>

<h4>Authentication</h4>

<p>Passport, Auth0, Firebase or something custom?</p>

<p>Either way, I&#39;ll also need to design and code &#34;log in&#34;, &#34;sign up&#34;, &#34;forgot password&#34; and &#34;reset password&#34; pages. They&#39;re not fun to work on.</p>

<h4>Background jobs</h4>

<p>Reviewbunny has background jobs for ingesting data from GitHub. I&#39;d need to pick a queue library, set up Redis and create another entrypoint to process these jobs.</p>

<p>Serverless environments are not designed to have long-running processes. Now I have to deploy my app elsewhere, like Render or Heroku.</p>

<h4>Email delivery</h4>

<p>After background jobs, I need to find and set up the library for sending emails. Then, pair it with a template library to render the emails themselves.</p>

<h4>Real-time updates</h4>

<p>Reviewbunny has a page where progress of a background job is streamed via Websockets.</p>

<p>As far as I know, serverless platforms don&#39;t support Websockets, so I&#39;d probably lean into using a SaaS like Pusher, which isn&#39;t cheap.</p>

<p>If you got bored reading this, imagine having to do all of this whenever you start a new project.</p>

<p>Compare this to Rails:</p>

<ul>
<li><strong>Package manager</strong> — Bundler.</li>
<li><strong>Framework</strong> — Ruby on Rails.</li>
<li><strong>Tooling</strong> — Sorbet (type checker, doesn&#39;t even require transpiling), Prettier, Rubocop (linter), Minitest (built-in test framework).</li>
<li><strong>Project structure</strong> — Follow the Rails conventions.</li>
<li><strong>Data storage</strong> — Active Record with support for SQLite, MySQL and PostgreSQL by default. Database migrations are baked in too.</li>
<li><strong>Data fetching</strong> — Happens on the server, talking directly to the database.</li>
<li><strong>Authentication</strong> — Devise + Omniauth for OAuth. Log in, sign up and other pages are provided for you.</li>
<li><strong>Background jobs</strong> — Action Job. Integrates with all popular libraries, like Sidekiq or Resque, in one line of code.</li>
<li><strong>Email delivery</strong> - Action Mailer.</li>
<li><strong>Real-time updates</strong> - Action Cable + Turbo.</li>
</ul>

<p>See the difference? All the answers to common problems any app might have are there.</p>

<p>As soon as I run <code>rails new</code>, I&#39;ve got all of that. Things like controllers, models, migrations, views, mailers, background jobs can even be auto-generated via <code>rails generate</code>. It&#39;s magical to run <code>rails generate migration AddEmailToUsers email:string</code> and watch it generate a database migration to add an <code>email</code> column to <code>users</code> table.</p>

<p>So where I&#39;m going with this...</p>

<p>There&#39;s a huge opportunity to optimize JavaScript developer experience for happiness. We need:</p>

<ul>
<li><strong>More</strong> strong opinions and conventions to relieve us from making unnecessary choices.</li>
<li><strong>Less</strong> configuration and manual labor to start working on anything.</li>
</ul>

<p>When I think about these principles, <a rel="nofollow noreferrer" target="_blank" href="https://github.com/xojs/xo">XO</a> and <a rel="nofollow noreferrer" target="_blank" href="https://parceljs.org">Parcel</a> come to mind. They&#39;re configurable and very flexible. However, I don&#39;t have to do anything to start using them, because their authors made sure to pre-configure them with the best choices based on community feedback.</p>

<p>In my opinion, that&#39;s exactly what we, JavaScript developers, need more of when creating apps. Until we have more guidance and conventions, we&#39;ll keep spending a week to set up the perfect app boilerplate built to &#34;scale&#34;.</p>

<p>I&#39;m still very much invested in JavaScript community, but for now I&#39;m going to stick with Rails and enjoy building web apps.</p>
</div></div>
  </body>
</html>
