<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://matt-rickard.com/non-obvious-docker-uses/">Original</a>
    <h1>Non-Obvious Docker Uses</h1>
    
    <div id="readability-page-1" class="page"><div><p>Many developers use Docker the old-fashioned way -- a <code>docker build</code> and a <code>docker run</code>. Some non-obvious ways to use Docker.</p><p><em>As a compiler. </em>I gave a talk at DockerCon back in 2019 about the potential to use Docker as a compiler, and the idea is finally coming to fruition. Use a multi-stage build to copy the output files to a scratch container, then use the <code>--output</code> flag on <code>docker buildx build</code> to output the contents of an image build to a folder. Now you can easily cross-compile binaries (using multiple <code>--platform</code> targets) or whatever else without dealing with actual Docker images.</p><p><em>As a task-runner alternative to <code>make</code>. </em>With Docker Buildkit, you can write alternative frontends to build images (other than the Dockerfile). Together with the built-in caching infrastructure, this makes Docker an interesting <a href="https://matt-rickard.com/make-docker/">replacement for <code>make</code></a>. That&#39;s part of the idea behind the co-founder of Docker&#39;s second act, Dagger. For a look at how it works behind the scenes, look at <a href="https://matt-rickard.com/building-a-new-dockerfile-frontend/">An Alternative to the Dockerfile</a>.</p><p><em>Registries as a configuration store. </em>Docker image registries just store tarballs and metadata, so you can use them to build an easy place to store arbitrary configuration (tarballs) in environments where you only have access to a registry endpoint. </p><p><em>Git repositories as docker images. </em>I outline in <a href="https://matt-rickard.com/docker-merge/">Docker Merge</a> how you might use image layers as git commits to store images in git repositories or merge filesystems.</p><p><em>As a cross-platform compatibility layer. </em>Local Docker environments (like Docker Desktop or what I helped build, <a href="https://github.com/kubernetes/minikube">minikube</a>) spend just as much time thinking about virtual machines as they do containers. That&#39;s because Linux containers are a Linux concept – yet most developers use macOS or Windows. Having a reproducible Linux environment on any machine comes in handy. And now, with the quick uptake of ARM chipsets for consumers and enterprises, it&#39;s much more likely that you&#39;re developing or deploying on a different architecture. Docker is probably the least painful way to manage that.</p><p><em>Building Linux Kernels. </em><a href="https://github.com/linuxkit/linuxkit">LinuxKit</a> was an attempt to build Linux kernels like we build containers – minimal, immutable, and easier iterations.</p></div></div>
  </body>
</html>
