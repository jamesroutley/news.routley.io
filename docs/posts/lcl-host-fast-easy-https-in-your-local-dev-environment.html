<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://anchor.dev/blog/introducing-lcl-host">Original</a>
    <h1>Lcl.host: fast, easy HTTPS in your local dev environment</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><p>Today we are launching <a href="https://lcl.host/"><u>lcl.host</u></a>, a free devtool for web developers to quickly setup &amp; use HTTPS locally. With <a href="https://lcl.host/"><u>lcl.host</u></a>, you get a <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts"><u>secure browser context</u></a> in development that matches your production environment. Eliminate mixed asset issues, CORS errors, and secure cookie misconfiguration before they cause problems in production.</p><p>Read more about <a href="https://anchor.dev/docs/lcl-host/why-lcl"><u>the benefits of using  HTTPS in development</u></a>, and give it a try: <b>it only takes 2 minutes to switch your app to HTTPS</b>.</p><h2>Why We Built lcl.host</h2><p>Anchor provides managed private <a href="https://en.wikipedia.org/wiki/Certificate_authority"><u>certificate authorities (CAs)</u></a> for internal TLS. As both a security product and hosted SaaS application, we put a lot of effort into secure application development. From handling the private keys that sign certificates, to managing fine-grained access credentials in the dashboard, we take a rigorous approach to secure development on all layers of our stack. Keeping our development, staging, and production environments in sync (aka <a href="https://www.12factor.net/dev-prod-parity"><u>dev/prod parity</u></a>) helps to prevent bugs that would otherwise only show up in production.</p><p>For full dev/prod parity, we use HTTPS to get a secure browser context, not just the <a href="https://web.dev/articles/when-to-use-local-https#when_to_use_https_for_local_development_2"><u>secure-ish special case localhost browser context</u></a>. Before building <a href="https://lcl.host/"><u>lcl.host</u></a>, we used self-signed <span>app.localhost</span> certificates, but those have a few downsides:</p><ul><li><p>All team members had to manually provision (and re-provision) their own self-signed certificates.</p></li><li><p>The self-signed certificates had to be manually added to each trust store on the system</p></li><li><p><span>app.localhost</span> domains don&#39;t work everywhere, so <span>/etc/hosts</span> entries or a development DNS server were required for non-browser clients (like curl).</p></li><li><p>Running apps in local containers required constant certificate re-provisioning and trust store updates.</p></li></ul><p>Since we already used Anchor private CAs internally between development services, we knew it could solve some of these problems. But a private CA alone is not a complete solution.

So we built lcl.host, and we think it’s the best way to setup and use HTTPS with your apps in development:</p><ul><li><p>ACME-powered automated certificate provisioning and renewal instead of troublesome manual processes. </p></li><li><p>Hostnames that just work everywhere, with no custom configuration required.</p></li><li><p>The same secure browser context to match production, without the browser quirks in the localhost context.</p></li><li><p>Works well inside, outside, and even between containers (thanks to Anchor’s powerful packages features).</p></li><li><p>Fast setup and batteries included, no certificate or encryption expertise required.</p></li></ul><p>We’re excited to share it with you! To setup HTTPS in development, install the Anchor CLI toolchain, run <span>anchor lcl</span>, and follow the instructions. That’s it!</p><pre><code>$ brew install anchordotdev/tap/anchor
$ anchor lcl</code></pre><p>Or <a href="https://github.com/anchordotdev/cli#installation"><u>install from source</u></a> if Homebrew isn&#39;t an option.</p><p><span>Loading...</span>
<i>Use lcl.host to add HTTPS to a Next.js app</i></p><h2>How lcl.host Works</h2><p>lcl.host combines an Anchor managed private CA for your personal development environment, the <span>lcl.host</span> DNS zone to resolve subdomains to your local system, and the Anchor CLI to manage your local trust stores.</p><p><b>Personalized Private CA</b></p><p>When you sign up for an Anchor account, we automatically provision a “localhost” CA for you. This dedicated private CA provides portability between development environments and remains 100% free to use with an unlimited number of development apps. This CA has some restrictions though: it can only issue certificates for subdomains of <span>lcl.host</span> and <span>localhost</span>, but that’s all you need for local development.</p><p>The <span>anchor lcl mkcert</span> command is the easiest way to get development certificates using Anchor&#39;s zero-challenge ACME flow. Other <a href="https://acmeclients.com/"><u>ACME client</u></a> tools like <a href="https://certbot.eff.org/"><u>certbot</u></a> and <a href="https://acme.sh/"><u>acme.sh</u></a> work well too, but we recommend integrating an ACME client into your application to allow automatic certificate provisioning and renewal. Don&#39;t worry, we will walk you through that too when you run <span>anchor lcl setup</span>.</p><p><b>lcl.host DNS Zone</b></p><p>All <span>lcl.host</span> subdomains resolve to <span>127.0.0.1</span>, the same address as <span>localhost</span>. These subdomains work without HTTPS too, making them a drop-in replacement for <span>localhost</span>. To use them with HTTPS you will need a certificate for the subdomain that is trusted by your system. Your personal CA handles the first part, and the Anchor CLI takes care of your system&#39;s trust stores.</p><p><b>Trust Stores</b></p><p>A trust store manages a set of root certificates (aka <a href="https://en.wikipedia.org/wiki/Trust_anchor"><u>trust anchors</u></a>) which browsers and other clients use to verify certificates presented by servers. Some trust stores are integrated into the operating system (Keychain on MacOS), others are file/directory based (<span>/etc/ssl/certs/</span> on Debian systems), or even a custom database format (like certdb for NSS/Firefox). Keeping every trust store up to date used to be a lot of recurring manual work, but the Anchor CLI automates the whole process.</p><p>After signing in, the Anchor CLI fetches the list of expected CA certificates for your development environment, checks for them in your local trust stores, and walks you through any required changes. After this quick and easy install, your certificates will be trusted everywhere on your system.</p><p>There&#39;s a lot that&#39;s required to setup HTTPS in development. The magic of lcl.host is that it&#39;s all handled for you, so you can get back to building secure apps that work seamlessly in development and production. </p><h2>Try Now</h2><p><u></u><a href="https://github.com/anchordotdev/cli#installation"><u>Install the Anchor CLI</u></a> and run <span>anchor lcl</span> from your application directory, and have local HTTPS in no time!</p></article></div></div></div>
  </body>
</html>
