<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://t0.vc/7/">Original</a>
    <h1>Fake Dog for Home Security</h1>
    
    <div id="readability-page-1" class="page"><div>
			<p>‚Üê <a href="https://t0.vc/">Return Home</a></p>
			
			<p>Fake dog barking for home security while on vacation.</p><p>
			Mon 27 June 2022
			</p><hr/>
			<p>I set up a fake dog that barks if my surveillance cameras are triggered while I&#39;m out of town on vacation. It&#39;s a pair of computer speakers plugged into a Raspberry Pi, which is an inexpensive single-board computer. One speaker faces the front door and the other faces the side door.</p>
<p>When the front door camera is triggered my surveillance camera system sends a message to the Raspberry Pi. A simple program plays an audio clip of a big dog barking through the side speaker and then the front speaker. The change in speakers simulates a dog moving towards the front door. The opposite happens if the side door camera is triggered.</p>
<p>You can find the <a href="https://git.tannercollin.com/tanner/woof">source code</a> on my Gitea.</p>
<p><img alt="fake-dog.jpg" src="https://t0.vc/media/fake-dog.jpg"/></p>
<h2 id="technical-details"><a href="#technical-details">Technical Details</a></h2>
<p>My surveillance cameras sit on a separate network without internet access and their RTSP streams are consumed by the Blue Iris NVR software running on a dedicated Windows box. When an object is detected moving through a defined area for certain cameras, Blue Iris is configured to send an MQTT message to the <code>iot/cameras</code> topic via the Mosquitto broker running on my media server.</p>
<p>A Python script kept alive by Supervisor runs on the Raspberry Pi and listens to the topic using the  <code>asyncio-mqtt</code> module. It receives and tries to decode a JSON message like <code>{&#34;serial&#34;: &#34;SE-N-ZoneB&#34;}</code>. If the camera&#39;s serial is found in a dict at the top of the script, the corresponding audio file is played using Pygame. Controlling which speaker barks is done by muting the left or right channel in the stereo audio file.</p>
<p><img alt="fake-dog2.png" src="https://t0.vc/media/fake-dog2.png"/></p>
<h2 id="future-improvements"><a href="#future-improvements">Future Improvements</a></h2>
<p>The dog has a lot of false positives from the cameras being triggered by car headlights or small animals. This isn&#39;t a big deal since no one is home to hear it bark and it isn&#39;t loud enough for my neighbours to hear (I&#39;ve asked). I would rather have a false positive than a false negative.</p>
<p>A huge improvement would be to combine the camera data with a physical trigger. A break beam sensor mounted on stair railings or an accelerometer mounted under the steps would work for this. But it would be annoying to mount, route power to, and harden for harsh Calgary winters. Perhaps the accelerometers are sensitive enough to mount inside, close to the entrances.</p>
<h2 id="efficacy"><a href="#efficacy">Efficacy</a></h2>
<p>According to <a href="https://news.t0.vc/TRMA">former burglars</a>, barking dogs and security cameras are some of the best deterrents to home invasions. The dog sounds fake to me, but I know it isn&#39;t real. I&#39;m hoping that a rushing burglar won&#39;t spend time pondering if the barking is from an elaborate speaker setup and will just move on to a different house.</p>
<p>I previously caught a prowler who went into my backyard and tested my garage door handle to see if it was locked. He then broke into my neighbour&#39;s truck and garage after. He gets to have his face on my website:</p>
<p><img alt="fake-dog3.jpg" src="https://t0.vc/media/fake-dog3.jpg"/></p>
<p>The extra peace of mind while I&#39;m away is worth the evening it took to set up. It was very easy to make because I reused the code I wrote for <a href="https://t0.vc/p">Protospace</a>&#39;s PA system doorbell that you can find on <a href="https://github.com/protospace/doorbell">GitHub</a>. It operates similarly by playing an audio file based on which 433 MHz doorbell is pressed.</p>
		</div></div>
  </body>
</html>
