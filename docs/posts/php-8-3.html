<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.php.net/releases/8.3/en.php">Original</a>
    <h1>PHP 8.3</h1>
    
    <div id="readability-page-1" class="page"><div id="layout">
  <section id="layout-content">
    

    <section>
        <div>
            <h2 id="typed_class_constants">
                Typed class constants                <a href="https://wiki.php.net/rfc/typed_class_constants">RFC</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <div>
                        <p><code><span><span></span><span>interface </span><span>I </span><span>{<br/>    </span><span>const </span><span>PHP </span><span>= </span><span>&#39;PHP 8.2&#39;</span><span>;</span><span>Foo </span><span>implements </span><span>I </span><span>{<br/>    </span><span>const </span><span>PHP </span><span>= [];</span></span></code></p>                    </div>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <div>
                        <p><code><span><span></span><span>interface </span><span>I </span><span>{</span><span>string PHP </span><span>= </span><span>&#39;PHP 8.3&#39;</span><span>;</span><span>Foo </span><span>implements </span><span>I </span><span>{</span><span>string PHP </span><span>= [];</span></span></code></p>                    </div>
                </div>
            </div>
        </div>

        <div>
            <h2 id="dynamic_class_constant_fetch">
                Dynamic class constant fetch                <a href="https://wiki.php.net/rfc/dynamic_class_constant_fetch">RFC</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <div>
                        <p><code><span><span></span><span>class </span><span>Foo </span><span>{</span><span>PHP </span><span>= </span><span>&#39;PHP 8.2&#39;</span><span>;</span><span>$searchableConstant </span><span>= </span><span>&#39;PHP&#39;</span><span>;</span><span>var_dump</span><span>(</span><span>constant</span><span>(</span><span>Foo</span><span>::class . </span><span>&#34;::</span><span>{</span><span>$searchableConstant</span><span>}</span><span>&#34;</span><span>));</span></span></code></p>                    </div>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <div>
                        <p><code><span><span></span><span>class </span><span>Foo </span><span>{</span><span>PHP </span><span>= </span><span>&#39;PHP 8.3&#39;</span><span>;</span><span>$searchableConstant </span><span>= </span><span>&#39;PHP&#39;</span><span>;</span><span>var_dump</span><span>(</span><span>Foo</span><span>::{</span><span>$searchableConstant</span><span>});</span></span></code></p>                    </div>
                </div>
            </div>
        </div>

        <div>
            <h2 id="override_attribute">
                New <code>#[\Override]</code> attribute                <a href="https://wiki.php.net/rfc/marking_overriden_methods">RFC</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <div>
                        <p><code><span><span></span><span>use </span><span>PHPUnit\Framework\TestCase</span><span>;</span><span>MyTest </span><span>extends </span><span>TestCase </span><span>{</span><span>$logFile</span><span>;</span><span>setUp</span><span>(): </span><span>void </span><span>{<br/>        </span><span>$this</span><span>-&gt;</span><span>logFile </span><span>= </span><span>fopen</span><span>(</span><span>&#39;/tmp/logfile&#39;</span><span>, </span><span>&#39;w&#39;</span><span>);</span><span>taerDown</span><span>(): </span><span>void </span><span>{<br/>        </span><span>fclose</span><span>(</span><span>$this</span><span>-&gt;</span><span>logFile</span><span>);<br/>        </span><span>unlink</span><span>(</span><span>&#39;/tmp/logfile&#39;</span><span>);</span></span></code></p>                    </div>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <div>
                        <p><code><span><span></span><span>use </span><span>PHPUnit\Framework\TestCase</span><span>;</span><span>MyTest </span><span>extends </span><span>TestCase </span><span>{</span><span>$logFile</span><span>;</span><span>setUp</span><span>(): </span><span>void </span><span>{<br/>        </span><span>$this</span><span>-&gt;</span><span>logFile </span><span>= </span><span>fopen</span><span>(</span><span>&#39;/tmp/logfile&#39;</span><span>, </span><span>&#39;w&#39;</span><span>);</span><span>\Override</span><span>]</span><span>taerDown</span><span>(): </span><span>void </span><span>{<br/>        </span><span>fclose</span><span>(</span><span>$this</span><span>-&gt;</span><span>logFile</span><span>);<br/>        </span><span>unlink</span><span>(</span><span>&#39;/tmp/logfile&#39;</span><span>);</span></span></code></p>                    </div>
                </div>
            </div>

            <p>
                By adding the <code>#[\Override]</code> attribute to a method, PHP will ensure that a method with the same name exists in a parent class or in an implemented interface. Adding the attribute makes it clear that overriding a parent method is intentional and simplifies refactoring, because the removal of an overridden parent method will be detected.            </p>
        </div>

        <div>
            <h2 id="readonly_classes">
                Deep-cloning of readonly properties                <a href="https://wiki.php.net/rfc/readonly_amendments">RFC</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <div>
                        <p><code><span><span></span><span>class </span><span>PHP </span><span>{</span><span>string $version </span><span>= </span><span>&#39;8.2&#39;</span><span>;</span><span>Foo </span><span>{</span><span>__construct</span><span>(</span><span>PHP $php<br/>    </span><span>) {}</span><span>__clone</span><span>(): </span><span>void </span><span>{<br/>        </span><span>$this</span><span>-&gt;</span><span>php </span><span>= clone </span><span>$this</span><span>-&gt;</span><span>php</span><span>;</span><span>$instance </span><span>= new </span><span>Foo</span><span>(new </span><span>PHP</span><span>());<br/></span><span>$cloned </span><span>= clone </span><span>$instance</span><span>;</span></span></code></p>                    </div>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <div>
                        <p><code><span><span></span><span>class </span><span>PHP </span><span>{</span><span>string $version </span><span>= </span><span>&#39;8.2&#39;</span><span>;</span><span>Foo </span><span>{</span><span>__construct</span><span>(</span><span>PHP $php<br/>    </span><span>) {}</span><span>__clone</span><span>(): </span><span>void </span><span>{<br/>        </span><span>$this</span><span>-&gt;</span><span>php </span><span>= clone </span><span>$this</span><span>-&gt;</span><span>php</span><span>;</span><span>$instance </span><span>= new </span><span>Foo</span><span>(new </span><span>PHP</span><span>());<br/></span><span>$cloned </span><span>= clone </span><span>$instance</span><span>;</span><span>$cloned</span><span>-&gt;</span><span>php</span><span>-&gt;</span><span>version </span><span>= </span><span>&#39;8.3&#39;</span><span>;</span></span></code></p>                    </div>
                </div>
            </div>
            <p><code>readonly</code> properties may now be modified once within the magic <code>__clone</code> method to enable deep-cloning of readonly properties.            </p>
        </div>

        <div>
            <h2 id="json_validate">
                New <code>json_validate()</code> function                <a href="https://wiki.php.net/rfc/json_validate">RFC</a>
                <a href="https://www.php.net/manual/en/function.json-validate.php">Doc</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <div>
                        <p><code><span><span></span><span>function </span><span>json_validate</span><span>(</span><span>string $string</span><span>): </span><span>bool </span><span>{<br/>    </span><span>json_decode</span><span>(</span><span>$string</span><span>);</span><span>json_last_error</span><span>() === </span><span>JSON_ERROR_NONE</span><span>;</span><span>var_dump</span><span>(</span><span>json_validate</span><span>(</span><span>&#39;{ &#34;test&#34;: { &#34;foo&#34;: &#34;bar&#34; } }&#39;</span><span>)); </span></span></code></p>                    </div>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <div>
                        <p><code><span><span>var_dump</span><span>(</span><span>json_validate</span><span>(</span><span>&#39;{ &#34;test&#34;: { &#34;foo&#34;: &#34;bar&#34; } }&#39;</span><span>)); </span></span></code></p>                    </div>
                </div>
            </div>
            <p><code>json_validate()</code> allows to check if a string is syntactically valid JSON, while being more efficient than <code>json_decode()</code>.            </p>
        </div>

        <div>
            <h2 id="randomizer_get_bytes_from_string">
                New <code>Randomizer<span>::</span>getBytesFromString()</code> method                <a href="https://wiki.php.net/rfc/randomizer_additions#getbytesfromstring">RFC</a>
                <a href="https://www.php.net/manual/en/random-randomizer.getbytesfromstring.php">Doc</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <div>
                        <p><code><span><span></span><span>function </span><span>getBytesFromString</span><span>(</span><span>string $string</span><span>, </span><span>int $length</span><span>) {<br/>    </span><span>$stringLength </span><span>= </span><span>strlen</span><span>(</span><span>$string</span><span>);</span><span>$result </span><span>= </span><span>&#39;&#39;</span><span>;</span><span>$i </span><span>= </span><span>0</span><span>; </span><span>$i </span><span>&lt; </span><span>$length</span><span>; </span><span>$i</span><span>++) {<br/>        </span><span>$result </span><span>.= </span><span>$string</span><span>[</span><span>random_int</span><span>(</span><span>0</span><span>, </span><span>$stringLength </span><span>- </span><span>1</span><span>)];</span><span>$result</span><span>;</span><span>$randomDomain </span><span>= </span><span>sprintf</span><span>(<br/>    </span><span>&#34;%s.example.com&#34;</span><span>,<br/>    </span><span>getBytesFromString</span><span>(<br/>        </span><span>&#39;abcdefghijklmnopqrstuvwxyz0123456789&#39;</span><span>,<br/>        </span><span>16</span><span>,</span><span>$randomDomain</span><span>;</span></span></code></p>                    </div>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <div>
                        <p><code><span><span></span><span>$randomizer </span><span>= new </span><span>\Random\Randomizer</span><span>();</span><span>$randomDomain </span><span>= </span><span>sprintf</span><span>(<br/>    </span><span>&#34;%s.example.com&#34;</span><span>,<br/>    </span><span>$randomizer</span><span>-&gt;</span><span>getBytesFromString</span><span>(<br/>        </span><span>&#39;abcdefghijklmnopqrstuvwxyz0123456789&#39;</span><span>,<br/>        </span><span>16</span><span>,</span><span>$randomDomain</span><span>;</span></span></code></p>                    </div>
                </div>
            </div>

            <p>
                The <a href="https://www.php.net/releases/8.2/en.php#random_extension">Random Extension</a> that was added in PHP 8.2 was extended by a new method to generate random strings consisting of specific bytes only. This method allows the developer to easily generate random identifiers, such as domain names, and numeric strings of arbitrary length.            </p>
        </div>

        <div>
            <h2 id="randomizer_get_float">
                New <code>Randomizer::getFloat()</code> and <code>Randomizer::nextFloat()</code> methods                <a href="https://wiki.php.net/rfc/randomizer_additions#getfloat">RFC</a>
                <a href="https://www.php.net/manual/en/random-randomizer.getfloat.php">Doc</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <div>
                        <p><code><span><span></span><span>function </span><span>getFloat</span><span>(</span><span>float $min</span><span>, </span><span>float $max</span><span>) {<br/>    </span><span>$offset </span><span>= </span><span>random_int</span><span>(</span><span>0</span><span>, </span><span>PHP_INT_MAX</span><span>) / </span><span>PHP_INT_MAX</span><span>;</span><span>$offset </span><span>* (</span><span>$max </span><span>- </span><span>$min</span><span>) + </span><span>$min</span><span>;</span><span>$temperature </span><span>= </span><span>getFloat</span><span>(-</span><span>89.2</span><span>, </span><span>56.7</span><span>);</span><span>$chanceForTrue </span><span>= </span><span>0.1</span><span>;<br/></span><span>$myBoolean </span><span>= </span><span>getFloat</span><span>(</span><span>0</span><span>, </span><span>1</span><span>) &lt; </span><span>$chanceForTrue</span><span>;</span></span></code></p>                    </div>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <div>
                        <p><code><span><span>$randomizer </span><span>= new </span><span>\Random\Randomizer</span><span>();</span><span>$temperature </span><span>= </span><span>$randomizer</span><span>-&gt;</span><span>getFloat</span><span>(</span><span>89.2</span><span>,<br/>    </span><span>56.7</span><span>,<br/>    </span><span>\Random\IntervalBoundary</span><span>::</span><span>ClosedClosed</span><span>,</span><span>$chanceForTrue </span><span>= </span><span>0.1</span><span>;<br/></span><span>$myBoolean </span><span>= </span><span>$randomizer</span><span>-&gt;</span><span>nextFloat</span><span>() &lt; </span><span>$chanceForTrue</span><span>;</span></span></code></p>                    </div>
                </div>
            </div>
        </div>

        <div>
            <p>Due to the limited precision and implicit rounding of floating point numbers, generating an unbiased float lying within a specific interval is non-trivial and the commonly used userland solutions may generate biased results or numbers outside the requested range.</p><p>The Randomizer was also extended with two methods to generate random floats in an unbiased fashion. The <code>Randomizer::getFloat()</code> method uses the γ-section algorithm that was published in <a href="https://doi.org/10.1145/3503512" target="_blank" rel="noopener noreferrer">Drawing Random Floating-Point Numbers from an Interval. Frédéric Goualard, ACM Trans. Model. Comput. Simul., 32:3, 2022.</a></p>        </div>

        <div>
            <h2 id="command_line_linter">
                Command line linter supports multiple files                <a href="https://github.com/php/php-src/issues/10024">PR</a>
                <a href="https://www.php.net/manual/en/features.commandline.options.php">Doc</a>
            </h2>
            <div>
                <div>
                    <p>PHP &lt; 8.3</p>
                    <p><code>
php -l foo.php bar.php
No syntax errors detected in foo.php
                        </code>
                    </p>
                </div>
                
                <div>
                    <p>PHP 8.3</p>
                    <p><code>
php -l foo.php bar.php
No syntax errors detected in foo.php
No syntax errors detected in bar.php
                        </code>
                    </p>
                </div>
            </div>
        </div>

        <p>The command line linter now accepts variadic input for filenames to lint</p>


    </section>

    <section>
        <div>
            <h2 id="other_new_things">New Classes, Interfaces, and Functions</h2>
            <div>
                <ul>
                    <li>New <a href="https://www.php.net/manual/en/domelement.getattributenames.php"><code>DOMElement::getAttributeNames()</code></a>, <a href="https://www.php.net/manual/en/domelement.insertadjacentelement.php"><code>DOMElement::insertAdjacentElement()</code></a>, <a href="https://www.php.net/manual/en/domelement.insertadjacenttext.php"><code>DOMElement::insertAdjacentText()</code></a>, <a href="https://www.php.net/manual/en/domelement.toggleattribute.php"><code>DOMElement::toggleAttribute()</code></a>, <a href="https://www.php.net/manual/en/domnode.contains.php"><code>DOMNode::contains()</code></a>, <a href="https://www.php.net/manual/en/domnode.getrootnode.php"><code>DOMNode::getRootNode()</code></a>, <a href="https://www.php.net/manual/en/domnode.isequalnode.php"><code>DOMNode::isEqualNode()</code></a>, <code>DOMNameSpaceNode::contains()</code>, and <a href="https://www.php.net/manual/en/domparentnode.replacechildren.php"><code>DOMParentNode::replaceChildren()</code></a> methods.</li>
                    <li>New <a href="https://www.php.net/manual/en/intlcalendar.setdate.php"><code>IntlCalendar::setDate()</code></a>, <a href="https://www.php.net/manual/en/intlcalendar.setdatetime.php"><code>IntlCalendar::setDateTime()</code></a>, <a href="https://www.php.net/manual/en/intlgregoriancalendar.createfromdate.php"><code>IntlGregorianCalendar::createFromDate()</code></a>, and <a href="https://www.php.net/manual/en/intlgregoriancalendar.createfromdatetime.php"><code>IntlGregorianCalendar::createFromDateTime()</code></a> methods.</li>
                    <li>New <code>ldap_connect_wallet()</code>, and <code>ldap_exop_sync()</code> functions.</li>
                    <li>New <a href="https://www.php.net/manual/en/function.mb-str-pad.php"><code>mb_str_pad()</code></a> function.</li>
                    <li>New <a href="https://www.php.net/manual/en/function.posix-sysconf.php"><code>posix_sysconf()</code></a>, <a href="https://www.php.net/manual/en/function.posix-pathconf.php"><code>posix_pathconf()</code></a>, <a href="https://www.php.net/manual/en/function.posix-fpathconf.php"><code>posix_fpathconf()</code></a>, and <a href="https://www.php.net/manual/en/function.posix-eaccess.php"><code>posix_eaccess()</code></a> functions.</li>
                    <li>New <a href="https://www.php.net/manual/en/reflectionmethod.createfrommethodname.php"><code>ReflectionMethod::createFromMethodName()</code></a> method.</li>
                    <li>New <a href="https://www.php.net/manual/en/function.socket-atmark.php"><code>socket_atmark()</code></a> function.</li>
                    <li>New <a href="https://www.php.net/manual/en/function.str-increment.php"><code>str_increment()</code></a>, <a href="https://www.php.net/manual/en/function.str-decrement.php"><code>str_decrement()</code></a>, and <a href="https://www.php.net/manual/en/function.stream-context-set-options.php"><code>stream_context_set_options()</code></a> functions.</li>
                    <li>New <a href="https://www.php.net/manual/en/ziparchive.getarchiveflag.php"><code>ZipArchive::getArchiveFlag()</code></a> method.</li>
                    <li>Support for generation EC keys with custom EC parameters in OpenSSL extension.</li>
                    <li>New INI setting <a href="https://www.php.net/manual/en/migration83.other-changes.php#migration83.other-changes.ini"><code>zend.max_allowed_stack_size</code></a> to set the maximum allowed stack size.</li>
                    <li>php.ini now supports fallback/default value syntax.</li>
                    <li>Anonymous classes can now be readonly.</li>
                </ul>
            </div>
        </div>

        
    </section>

    

    </section><!-- layout-content -->
    

  </div></div>
  </body>
</html>
