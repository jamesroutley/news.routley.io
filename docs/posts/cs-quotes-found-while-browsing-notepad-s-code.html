<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/notepad-plus-plus/notepad-plus-plus/blob/master/PowerEditor/src/Notepad_plus.cpp#L7103">Original</a>
    <h1>CS quotes found while browsing Notepad&#43;&#43;&#39;s code</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-lang="C++" data-tagsearch-path="PowerEditor/src/Notepad_plus.cpp">
        <tbody><tr>
          <td id="L1" data-line-number="1"></td>
          <td id="LC1"><span><span>//</span> This file is part of Notepad++ project</span></td>
        </tr>
        <tr>
          <td id="L2" data-line-number="2"></td>
          <td id="LC2"><span><span>//</span> Copyright (C)2021 Don HO &lt;don.h@free.fr&gt;</span></td>
        </tr>
        <tr>
          <td id="L3" data-line-number="3"></td>
          <td id="LC3">
</td>
        </tr>
        <tr>
          <td id="L4" data-line-number="4"></td>
          <td id="LC4"><span><span>//</span> This program is free software: you can redistribute it and/or modify</span></td>
        </tr>
        <tr>
          <td id="L5" data-line-number="5"></td>
          <td id="LC5"><span><span>//</span> it under the terms of the GNU General Public License as published by</span></td>
        </tr>
        <tr>
          <td id="L6" data-line-number="6"></td>
          <td id="LC6"><span><span>//</span> the Free Software Foundation, either version 3 of the License, or</span></td>
        </tr>
        <tr>
          <td id="L7" data-line-number="7"></td>
          <td id="LC7"><span><span>//</span> at your option any later version.</span></td>
        </tr>
        <tr>
          <td id="L8" data-line-number="8"></td>
          <td id="LC8"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L9" data-line-number="9"></td>
          <td id="LC9"><span><span>//</span> This program is distributed in the hope that it will be useful,</span></td>
        </tr>
        <tr>
          <td id="L10" data-line-number="10"></td>
          <td id="LC10"><span><span>//</span> but WITHOUT ANY WARRANTY; without even the implied warranty of</span></td>
        </tr>
        <tr>
          <td id="L11" data-line-number="11"></td>
          <td id="LC11"><span><span>//</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></td>
        </tr>
        <tr>
          <td id="L12" data-line-number="12"></td>
          <td id="LC12"><span><span>//</span> GNU General Public License for more details.</span></td>
        </tr>
        <tr>
          <td id="L13" data-line-number="13"></td>
          <td id="LC13"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L14" data-line-number="14"></td>
          <td id="LC14"><span><span>//</span> You should have received a copy of the GNU General Public License</span></td>
        </tr>
        <tr>
          <td id="L15" data-line-number="15"></td>
          <td id="LC15"><span><span>//</span> along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.</span></td>
        </tr>
        <tr>
          <td id="L16" data-line-number="16"></td>
          <td id="LC16">
</td>
        </tr>
        <tr>
          <td id="L17" data-line-number="17"></td>
          <td id="LC17">#<span>include</span> <span><span>&lt;</span>time.h<span>&gt;</span></span></td>
        </tr>
        <tr>
          <td id="L18" data-line-number="18"></td>
          <td id="LC18">#<span>include</span> <span><span>&lt;</span>shlwapi.h<span>&gt;</span></span></td>
        </tr>
        <tr>
          <td id="L19" data-line-number="19"></td>
          <td id="LC19">#<span>include</span> <span><span>&lt;</span>wininet.h<span>&gt;</span></span></td>
        </tr>
        <tr>
          <td id="L20" data-line-number="20"></td>
          <td id="LC20">#<span>include</span> <span><span>&#34;</span>Notepad_plus.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L21" data-line-number="21"></td>
          <td id="LC21">#<span>include</span> <span><span>&#34;</span>Notepad_plus_Window.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L22" data-line-number="22"></td>
          <td id="LC22">#<span>include</span> <span><span>&#34;</span>CustomFileDialog.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L23" data-line-number="23"></td>
          <td id="LC23">#<span>include</span> <span><span>&#34;</span>Printer.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L24" data-line-number="24"></td>
          <td id="LC24">#<span>include</span> <span><span>&#34;</span>FileNameStringSplitter.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L25" data-line-number="25"></td>
          <td id="LC25">#<span>include</span> <span><span>&#34;</span>lesDlgs.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L26" data-line-number="26"></td>
          <td id="LC26">#<span>include</span> <span><span>&#34;</span>Utf8_16.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L27" data-line-number="27"></td>
          <td id="LC27">#<span>include</span> <span><span>&#34;</span>regExtDlg.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L28" data-line-number="28"></td>
          <td id="LC28">#<span>include</span> <span><span>&#34;</span>RunDlg.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L29" data-line-number="29"></td>
          <td id="LC29">#<span>include</span> <span><span>&#34;</span>ShortcutMapper.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L30" data-line-number="30"></td>
          <td id="LC30">#<span>include</span> <span><span>&#34;</span>preferenceDlg.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L31" data-line-number="31"></td>
          <td id="LC31">#<span>include</span> <span><span>&#34;</span>TaskListDlg.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L32" data-line-number="32"></td>
          <td id="LC32">#<span>include</span> <span><span>&#34;</span>xmlMatchedTagsHighlighter.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L33" data-line-number="33"></td>
          <td id="LC33">#<span>include</span> <span><span>&#34;</span>EncodingMapper.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L34" data-line-number="34"></td>
          <td id="LC34">#<span>include</span> <span><span>&#34;</span>ansiCharPanel.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L35" data-line-number="35"></td>
          <td id="LC35">#<span>include</span> <span><span>&#34;</span>clipboardHistoryPanel.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L36" data-line-number="36"></td>
          <td id="LC36">#<span>include</span> <span><span>&#34;</span>VerticalFileSwitcher.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L37" data-line-number="37"></td>
          <td id="LC37">#<span>include</span> <span><span>&#34;</span>ProjectPanel.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L38" data-line-number="38"></td>
          <td id="LC38">#<span>include</span> <span><span>&#34;</span>documentMap.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L39" data-line-number="39"></td>
          <td id="LC39">#<span>include</span> <span><span>&#34;</span>functionListPanel.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L40" data-line-number="40"></td>
          <td id="LC40">#<span>include</span> <span><span>&#34;</span>fileBrowser.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L41" data-line-number="41"></td>
          <td id="LC41">#<span>include</span> <span><span>&#34;</span>Common.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L42" data-line-number="42"></td>
          <td id="LC42">#<span>include</span> <span><span>&#34;</span>NppDarkMode.h<span>&#34;</span></span></td>
        </tr>
        <tr>
          <td id="L43" data-line-number="43"></td>
          <td id="LC43">
</td>
        </tr>
        <tr>
          <td id="L44" data-line-number="44"></td>
          <td id="LC44"><span>using</span> <span>namespace</span> <span>std</span><span>;</span></td>
        </tr>
        <tr>
          <td id="L45" data-line-number="45"></td>
          <td id="LC45">
</td>
        </tr>
        <tr>
          <td id="L46" data-line-number="46"></td>
          <td id="LC46"><span>enum</span> tb_stat {tb_saved, tb_unsaved, tb_ro, tb_monitored};</td>
        </tr>
        <tr>
          <td id="L47" data-line-number="47"></td>
          <td id="LC47">#<span>define</span> <span>DIR_LEFT</span> <span>true</span></td>
        </tr>
        <tr>
          <td id="L48" data-line-number="48"></td>
          <td id="LC48">#<span>define</span> <span>DIR_RIGHT</span> <span>false</span></td>
        </tr>
        <tr>
          <td id="L49" data-line-number="49"></td>
          <td id="LC49">
</td>
        </tr>
        <tr>
          <td id="L50" data-line-number="50"></td>
          <td id="LC50"><span>int</span> docTabIconIDs[] = { IDI_SAVED_ICON,  IDI_UNSAVED_ICON,  IDI_READONLY_ICON,  IDI_MONITORING_ICON };</td>
        </tr>
        <tr>
          <td id="L51" data-line-number="51"></td>
          <td id="LC51"><span>int</span> docTabIconIDs_darkMode[] = { IDI_SAVED_DM_ICON,  IDI_UNSAVED_DM_ICON,  IDI_READONLY_DM_ICON,  IDI_MONITORING_DM_ICON };</td>
        </tr>
        <tr>
          <td id="L52" data-line-number="52"></td>
          <td id="LC52"><span>int</span> docTabIconIDs_alt[] = { IDI_SAVED_ALT_ICON, IDI_UNSAVED_ALT_ICON, IDI_READONLY_ALT_ICON, IDI_MONITORING_ICON };</td>
        </tr>
        <tr>
          <td id="L53" data-line-number="53"></td>
          <td id="LC53">
</td>
        </tr>
        <tr>
          <td id="L54" data-line-number="54"></td>
          <td id="LC54">
</td>
        </tr>
        <tr>
          <td id="L55" data-line-number="55"></td>
          <td id="LC55">ToolBarButtonUnit toolBarIcons[] = {</td>
        </tr>
        <tr>
          <td id="L56" data-line-number="56"></td>
          <td id="LC56">    {IDM_FILE_NEW,                     IDI_NEW_ICON,               IDI_NEW_ICON,                  IDI_NEW_ICON2,              IDI_NEW_ICON2,                 IDI_NEW_ICON_DM,               IDI_NEW_ICON_DM,                  IDI_NEW_ICON_DM2,              IDI_NEW_ICON_DM2,                 IDR_FILENEW},</td>
        </tr>
        <tr>
          <td id="L57" data-line-number="57"></td>
          <td id="LC57">    {IDM_FILE_OPEN,                    IDI_OPEN_ICON,              IDI_OPEN_ICON,                 IDI_OPEN_ICON2,             IDI_OPEN_ICON2,                IDI_OPEN_ICON_DM,              IDI_OPEN_ICON_DM,                 IDI_OPEN_ICON_DM2,             IDI_OPEN_ICON_DM2,                IDR_FILEOPEN},</td>
        </tr>
        <tr>
          <td id="L58" data-line-number="58"></td>
          <td id="LC58">    {IDM_FILE_SAVE,                    IDI_SAVE_ICON,              IDI_SAVE_DISABLE_ICON,         IDI_SAVE_ICON2,             IDI_SAVE_DISABLE_ICON2,        IDI_SAVE_ICON_DM,              IDI_SAVE_DISABLE_ICON_DM,         IDI_SAVE_ICON_DM2,             IDI_SAVE_DISABLE_ICON_DM2,        IDR_FILESAVE},</td>
        </tr>
        <tr>
          <td id="L59" data-line-number="59"></td>
          <td id="LC59">    {IDM_FILE_SAVEALL,                 IDI_SAVEALL_ICON,           IDI_SAVEALL_DISABLE_ICON,      IDI_SAVEALL_ICON2,          IDI_SAVEALL_DISABLE_ICON2,     IDI_SAVEALL_ICON_DM,           IDI_SAVEALL_DISABLE_ICON_DM,      IDI_SAVEALL_ICON_DM2,          IDI_SAVEALL_DISABLE_ICON_DM2,     IDR_SAVEALL},</td>
        </tr>
        <tr>
          <td id="L60" data-line-number="60"></td>
          <td id="LC60">    {IDM_FILE_CLOSE,                   IDI_CLOSE_ICON,             IDI_CLOSE_ICON,                IDI_CLOSE_ICON2,            IDI_CLOSE_ICON2,               IDI_CLOSE_ICON_DM,             IDI_CLOSE_ICON_DM,                IDI_CLOSE_ICON_DM2,            IDI_CLOSE_ICON_DM2,               IDR_CLOSEFILE},</td>
        </tr>
        <tr>
          <td id="L61" data-line-number="61"></td>
          <td id="LC61">    {IDM_FILE_CLOSEALL,                IDI_CLOSEALL_ICON,          IDI_CLOSEALL_ICON,             IDI_CLOSEALL_ICON2,         IDI_CLOSEALL_ICON2,            IDI_CLOSEALL_ICON_DM,          IDI_CLOSEALL_ICON_DM,             IDI_CLOSEALL_ICON_DM2,         IDI_CLOSEALL_ICON_DM2,            IDR_CLOSEALL},</td>
        </tr>
        <tr>
          <td id="L62" data-line-number="62"></td>
          <td id="LC62">    {IDM_FILE_PRINT,                   IDI_PRINT_ICON,             IDI_PRINT_ICON,                IDI_PRINT_ICON2,            IDI_PRINT_ICON2,               IDI_PRINT_ICON_DM,             IDI_PRINT_ICON_DM,                IDI_PRINT_ICON_DM2,            IDI_PRINT_ICON_DM2,               IDR_PRINT},</td>
        </tr>
        <tr>
          <td id="L63" data-line-number="63"></td>
          <td id="LC63">
</td>
        </tr>
        <tr>
          <td id="L64" data-line-number="64"></td>
          <td id="LC64">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L65" data-line-number="65"></td>
          <td id="LC65">    {<span>0</span>,                                IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,               IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON},</td>
        </tr>
        <tr>
          <td id="L66" data-line-number="66"></td>
          <td id="LC66">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L67" data-line-number="67"></td>
          <td id="LC67">
</td>
        </tr>
        <tr>
          <td id="L68" data-line-number="68"></td>
          <td id="LC68">    {IDM_EDIT_CUT,                     IDI_CUT_ICON,               IDI_CUT_DISABLE_ICON,          IDI_CUT_ICON2,              IDI_CUT_DISABLE_ICON2,         IDI_CUT_ICON_DM,               IDI_CUT_DISABLE_ICON_DM,          IDI_CUT_ICON_DM2,              IDI_CUT_DISABLE_ICON_DM2,         IDR_CUT},</td>
        </tr>
        <tr>
          <td id="L69" data-line-number="69"></td>
          <td id="LC69">    {IDM_EDIT_COPY,                    IDI_COPY_ICON,              IDI_COPY_DISABLE_ICON,         IDI_COPY_ICON2,             IDI_COPY_DISABLE_ICON2,        IDI_COPY_ICON_DM,              IDI_COPY_DISABLE_ICON_DM,         IDI_COPY_ICON_DM2,             IDI_COPY_DISABLE_ICON_DM2,        IDR_COPY},</td>
        </tr>
        <tr>
          <td id="L70" data-line-number="70"></td>
          <td id="LC70">    {IDM_EDIT_PASTE,                   IDI_PASTE_ICON,             IDI_PASTE_DISABLE_ICON,        IDI_PASTE_ICON2,            IDI_PASTE_DISABLE_ICON2,       IDI_PASTE_ICON_DM,             IDI_PASTE_DISABLE_ICON_DM,        IDI_PASTE_ICON_DM2,            IDI_PASTE_DISABLE_ICON_DM2,       IDR_PASTE},</td>
        </tr>
        <tr>
          <td id="L71" data-line-number="71"></td>
          <td id="LC71">
</td>
        </tr>
        <tr>
          <td id="L72" data-line-number="72"></td>
          <td id="LC72">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L73" data-line-number="73"></td>
          <td id="LC73">    {<span>0</span>,                                IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,               IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON},</td>
        </tr>
        <tr>
          <td id="L74" data-line-number="74"></td>
          <td id="LC74">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L75" data-line-number="75"></td>
          <td id="LC75">
</td>
        </tr>
        <tr>
          <td id="L76" data-line-number="76"></td>
          <td id="LC76">    {IDM_EDIT_UNDO,                    IDI_UNDO_ICON,              IDI_UNDO_DISABLE_ICON,         IDI_UNDO_ICON2,             IDI_UNDO_DISABLE_ICON2,        IDI_UNDO_ICON_DM,              IDI_UNDO_DISABLE_ICON_DM,         IDI_UNDO_ICON_DM2,             IDI_UNDO_DISABLE_ICON_DM2,        IDR_UNDO},</td>
        </tr>
        <tr>
          <td id="L77" data-line-number="77"></td>
          <td id="LC77">    {IDM_EDIT_REDO,                    IDI_REDO_ICON,              IDI_REDO_DISABLE_ICON,         IDI_REDO_ICON2,             IDI_REDO_DISABLE_ICON2,        IDI_REDO_ICON_DM,              IDI_REDO_DISABLE_ICON_DM,         IDI_REDO_ICON_DM2,             IDI_REDO_DISABLE_ICON_DM2,        IDR_REDO},</td>
        </tr>
        <tr>
          <td id="L78" data-line-number="78"></td>
          <td id="LC78">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L79" data-line-number="79"></td>
          <td id="LC79">    {<span>0</span>,                                IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,               IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON},</td>
        </tr>
        <tr>
          <td id="L80" data-line-number="80"></td>
          <td id="LC80">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L81" data-line-number="81"></td>
          <td id="LC81">
</td>
        </tr>
        <tr>
          <td id="L82" data-line-number="82"></td>
          <td id="LC82">    {IDM_SEARCH_FIND,                  IDI_FIND_ICON,              IDI_FIND_ICON,                 IDI_FIND_ICON2,             IDI_FIND_ICON2,                IDI_FIND_ICON_DM,              IDI_FIND_ICON_DM,                 IDI_FIND_ICON_DM2,             IDI_FIND_ICON_DM2,                IDR_FIND},</td>
        </tr>
        <tr>
          <td id="L83" data-line-number="83"></td>
          <td id="LC83">    {IDM_SEARCH_REPLACE,               IDI_REPLACE_ICON,           IDI_REPLACE_ICON,              IDI_REPLACE_ICON2,          IDI_REPLACE_ICON2,             IDI_REPLACE_ICON_DM,           IDI_REPLACE_ICON_DM,              IDI_REPLACE_ICON_DM2,          IDI_REPLACE_ICON_DM2,             IDR_REPLACE},</td>
        </tr>
        <tr>
          <td id="L84" data-line-number="84"></td>
          <td id="LC84">
</td>
        </tr>
        <tr>
          <td id="L85" data-line-number="85"></td>
          <td id="LC85">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L86" data-line-number="86"></td>
          <td id="LC86">    {<span>0</span>,                                IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,               IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON},</td>
        </tr>
        <tr>
          <td id="L87" data-line-number="87"></td>
          <td id="LC87">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L88" data-line-number="88"></td>
          <td id="LC88">    {IDM_VIEW_ZOOMIN,                  IDI_ZOOMIN_ICON,            IDI_ZOOMIN_ICON,               IDI_ZOOMIN_ICON2,           IDI_ZOOMIN_ICON2,              IDI_ZOOMIN_ICON_DM,            IDI_ZOOMIN_ICON_DM,               IDI_ZOOMIN_ICON_DM2,           IDI_ZOOMIN_ICON_DM2,              IDR_ZOOMIN},</td>
        </tr>
        <tr>
          <td id="L89" data-line-number="89"></td>
          <td id="LC89">    {IDM_VIEW_ZOOMOUT,                 IDI_ZOOMOUT_ICON,           IDI_ZOOMOUT_ICON,              IDI_ZOOMOUT_ICON2,          IDI_ZOOMOUT_ICON2,             IDI_ZOOMOUT_ICON_DM,           IDI_ZOOMOUT_ICON_DM,              IDI_ZOOMOUT_ICON_DM2,          IDI_ZOOMOUT_ICON_DM2,             IDR_ZOOMOUT},</td>
        </tr>
        <tr>
          <td id="L90" data-line-number="90"></td>
          <td id="LC90">
</td>
        </tr>
        <tr>
          <td id="L91" data-line-number="91"></td>
          <td id="LC91">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L92" data-line-number="92"></td>
          <td id="LC92">    {<span>0</span>,                                IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,               IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON},</td>
        </tr>
        <tr>
          <td id="L93" data-line-number="93"></td>
          <td id="LC93">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L94" data-line-number="94"></td>
          <td id="LC94">    {IDM_VIEW_SYNSCROLLV,              IDI_SYNCV_ICON,             IDI_SYNCV_DISABLE_ICON,        IDI_SYNCV_ICON2,            IDI_SYNCV_DISABLE_ICON2,       IDI_SYNCV_ICON_DM,             IDI_SYNCV_DISABLE_ICON_DM,        IDI_SYNCV_ICON_DM2,            IDI_SYNCV_DISABLE_ICON_DM2,       IDR_SYNCV},</td>
        </tr>
        <tr>
          <td id="L95" data-line-number="95"></td>
          <td id="LC95">    {IDM_VIEW_SYNSCROLLH,              IDI_SYNCH_ICON,             IDI_SYNCH_DISABLE_ICON,        IDI_SYNCH_ICON2,            IDI_SYNCH_DISABLE_ICON2,       IDI_SYNCH_ICON_DM,             IDI_SYNCH_DISABLE_ICON_DM,        IDI_SYNCH_ICON_DM2,            IDI_SYNCH_DISABLE_ICON_DM2,       IDR_SYNCH},</td>
        </tr>
        <tr>
          <td id="L96" data-line-number="96"></td>
          <td id="LC96">
</td>
        </tr>
        <tr>
          <td id="L97" data-line-number="97"></td>
          <td id="LC97">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L98" data-line-number="98"></td>
          <td id="LC98">    {<span>0</span>,                                IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,               IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON},</td>
        </tr>
        <tr>
          <td id="L99" data-line-number="99"></td>
          <td id="LC99">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L100" data-line-number="100"></td>
          <td id="LC100">    {IDM_VIEW_WRAP,                    IDI_VIEW_WRAP_ICON,         IDI_VIEW_WRAP_ICON,            IDI_VIEW_WRAP_ICON2,        IDI_VIEW_WRAP_ICON2,           IDI_VIEW_WRAP_ICON_DM,         IDI_VIEW_WRAP_ICON_DM,            IDI_VIEW_WRAP_ICON_DM2,        IDI_VIEW_WRAP_ICON_DM2,           IDR_WRAP},</td>
        </tr>
        <tr>
          <td id="L101" data-line-number="101"></td>
          <td id="LC101">    {IDM_VIEW_ALL_CHARACTERS,          IDI_VIEW_ALL_CHAR_ICON,     IDI_VIEW_ALL_CHAR_ICON,        IDI_VIEW_ALL_CHAR_ICON2,    IDI_VIEW_ALL_CHAR_ICON2,       IDI_VIEW_ALL_CHAR_ICON_DM,     IDI_VIEW_ALL_CHAR_ICON_DM,        IDI_VIEW_ALL_CHAR_ICON_DM2,    IDI_VIEW_ALL_CHAR_ICON_DM2,       IDR_INVISIBLECHAR},</td>
        </tr>
        <tr>
          <td id="L102" data-line-number="102"></td>
          <td id="LC102">    {IDM_VIEW_INDENT_GUIDE,            IDI_VIEW_INDENT_ICON,       IDI_VIEW_INDENT_ICON,          IDI_VIEW_INDENT_ICON2,      IDI_VIEW_INDENT_ICON2,         IDI_VIEW_INDENT_ICON_DM,       IDI_VIEW_INDENT_ICON_DM,          IDI_VIEW_INDENT_ICON_DM2,      IDI_VIEW_INDENT_ICON_DM2,         IDR_INDENTGUIDE},</td>
        </tr>
        <tr>
          <td id="L103" data-line-number="103"></td>
          <td id="LC103">    {IDM_LANG_USER_DLG,                IDI_VIEW_UD_DLG_ICON,       IDI_VIEW_UD_DLG_ICON,          IDI_VIEW_UD_DLG_ICON2,      IDI_VIEW_UD_DLG_ICON2,         IDI_VIEW_UD_DLG_ICON_DM,       IDI_VIEW_UD_DLG_ICON_DM,          IDI_VIEW_UD_DLG_ICON_DM2,      IDI_VIEW_UD_DLG_ICON_DM2,         IDR_SHOWPANNEL},</td>
        </tr>
        <tr>
          <td id="L104" data-line-number="104"></td>
          <td id="LC104">    {IDM_VIEW_DOC_MAP,                 IDI_VIEW_DOC_MAP_ICON,      IDI_VIEW_DOC_MAP_ICON,         IDI_VIEW_DOC_MAP_ICON2,     IDI_VIEW_DOC_MAP_ICON2,        IDI_VIEW_DOC_MAP_ICON_DM,      IDI_VIEW_DOC_MAP_ICON_DM,         IDI_VIEW_DOC_MAP_ICON_DM2,     IDI_VIEW_DOC_MAP_ICON_DM2,        IDR_DOCMAP},</td>
        </tr>
        <tr>
          <td id="L105" data-line-number="105"></td>
          <td id="LC105">    {IDM_VIEW_DOCLIST,                 IDI_VIEW_DOCLIST_ICON,      IDI_VIEW_DOCLIST_ICON,         IDI_VIEW_DOCLIST_ICON2,     IDI_VIEW_DOCLIST_ICON2,        IDI_VIEW_DOCLIST_ICON_DM,      IDI_VIEW_DOCLIST_ICON_DM,         IDI_VIEW_DOCLIST_ICON_DM2,     IDI_VIEW_DOCLIST_ICON_DM2,        IDR_DOCLIST},</td>
        </tr>
        <tr>
          <td id="L106" data-line-number="106"></td>
          <td id="LC106">    {IDM_VIEW_FUNC_LIST,               IDI_VIEW_FUNCLIST_ICON,     IDI_VIEW_FUNCLIST_ICON,        IDI_VIEW_FUNCLIST_ICON2,    IDI_VIEW_FUNCLIST_ICON2,       IDI_VIEW_FUNCLIST_ICON_DM,     IDI_VIEW_FUNCLIST_ICON_DM,        IDI_VIEW_FUNCLIST_ICON_DM2,    IDI_VIEW_FUNCLIST_ICON_DM2,       IDR_FUNC_LIST},</td>
        </tr>
        <tr>
          <td id="L107" data-line-number="107"></td>
          <td id="LC107">    {IDM_VIEW_FILEBROWSER,             IDI_VIEW_FILEBROWSER_ICON,  IDI_VIEW_FILEBROWSER_ICON,     IDI_VIEW_FILEBROWSER_ICON2, IDI_VIEW_FILEBROWSER_ICON2,    IDI_VIEW_FILEBROWSER_ICON_DM,  IDI_VIEW_FILEBROWSER_ICON_DM,     IDI_VIEW_FILEBROWSER_ICON_DM2, IDI_VIEW_FILEBROWSER_ICON_DM2,    IDR_FILEBROWSER},</td>
        </tr>
        <tr>
          <td id="L108" data-line-number="108"></td>
          <td id="LC108">    {IDM_VIEW_MONITORING,              IDI_VIEW_MONITORING_ICON,   IDI_VIEW_MONITORING_ICON,      IDI_VIEW_MONITORING_ICON2,  IDI_VIEW_MONITORING_ICON2,     IDI_VIEW_MONITORING_ICON_DM,   IDI_VIEW_MONITORING_ICON_DM,      IDI_VIEW_MONITORING_ICON_DM2,  IDI_VIEW_MONITORING_ICON_DM2,     IDR_FILEMONITORING},</td>
        </tr>
        <tr>
          <td id="L109" data-line-number="109"></td>
          <td id="LC109">
</td>
        </tr>
        <tr>
          <td id="L110" data-line-number="110"></td>
          <td id="LC110">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L111" data-line-number="111"></td>
          <td id="LC111">    {<span>0</span>,                                IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,         IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,               IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON,            IDI_SEPARATOR_ICON},</td>
        </tr>
        <tr>
          <td id="L112" data-line-number="112"></td>
          <td id="LC112">    <span><span>//</span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//</span></td>
        </tr>
        <tr>
          <td id="L113" data-line-number="113"></td>
          <td id="LC113">
</td>
        </tr>
        <tr>
          <td id="L114" data-line-number="114"></td>
          <td id="LC114">    {IDM_MACRO_STARTRECORDINGMACRO,    IDI_STARTRECORD_ICON,       IDI_STARTRECORD_DISABLE_ICON,  IDI_STARTRECORD_ICON2,      IDI_STARTRECORD_DISABLE_ICON2, IDI_STARTRECORD_ICON_DM,       IDI_STARTRECORD_DISABLE_ICON_DM,  IDI_STARTRECORD_ICON_DM2,      IDI_STARTRECORD_DISABLE_ICON_DM2, IDR_STARTRECORD},</td>
        </tr>
        <tr>
          <td id="L115" data-line-number="115"></td>
          <td id="LC115">    {IDM_MACRO_STOPRECORDINGMACRO,     IDI_STOPRECORD_ICON,        IDI_STOPRECORD_DISABLE_ICON,   IDI_STOPRECORD_ICON2,       IDI_STOPRECORD_DISABLE_ICON2,  IDI_STOPRECORD_ICON_DM,        IDI_STOPRECORD_DISABLE_ICON_DM,   IDI_STOPRECORD_ICON_DM2,       IDI_STOPRECORD_DISABLE_ICON_DM2,  IDR_STOPRECORD},</td>
        </tr>
        <tr>
          <td id="L116" data-line-number="116"></td>
          <td id="LC116">    {IDM_MACRO_PLAYBACKRECORDEDMACRO,  IDI_PLAYRECORD_ICON,        IDI_PLAYRECORD_DISABLE_ICON,   IDI_PLAYRECORD_ICON2,       IDI_PLAYRECORD_DISABLE_ICON2,  IDI_PLAYRECORD_ICON_DM,        IDI_PLAYRECORD_DISABLE_ICON_DM,   IDI_PLAYRECORD_ICON_DM2,       IDI_PLAYRECORD_DISABLE_ICON_DM2,  IDR_PLAYRECORD},</td>
        </tr>
        <tr>
          <td id="L117" data-line-number="117"></td>
          <td id="LC117">    {IDM_MACRO_RUNMULTIMACRODLG,       IDI_MMPLAY_ICON,            IDI_MMPLAY_DIS_ICON,           IDI_MMPLAY_ICON2,           IDI_MMPLAY_DIS_ICON2,          IDI_MMPLAY_ICON_DM,            IDI_MMPLAY_DIS_ICON_DM,           IDI_MMPLAY_ICON_DM2,           IDI_MMPLAY_DIS_ICON_DM2,          IDR_M_PLAYRECORD},</td>
        </tr>
        <tr>
          <td id="L118" data-line-number="118"></td>
          <td id="LC118">    {IDM_MACRO_SAVECURRENTMACRO,       IDI_SAVERECORD_ICON,        IDI_SAVERECORD_DISABLE_ICON,   IDI_SAVERECORD_ICON2,       IDI_SAVERECORD_DISABLE_ICON2,  IDI_SAVERECORD_ICON_DM,        IDI_SAVERECORD_DISABLE_ICON_DM,   IDI_SAVERECORD_ICON_DM2,       IDI_SAVERECORD_DISABLE_ICON_DM2,  IDR_SAVERECORD}</td>
        </tr>
        <tr>
          <td id="L119" data-line-number="119"></td>
          <td id="LC119">};</td>
        </tr>
        <tr>
          <td id="L120" data-line-number="120"></td>
          <td id="LC120">
</td>
        </tr>
        <tr>
          <td id="L121" data-line-number="121"></td>
          <td id="LC121">
</td>
        </tr>
        <tr>
          <td id="L122" data-line-number="122"></td>
          <td id="LC122">
</td>
        </tr>
        <tr>
          <td id="L123" data-line-number="123"></td>
          <td id="LC123"><span>Notepad_plus::Notepad_plus</span>()</td>
        </tr>
        <tr>
          <td id="L124" data-line-number="124"></td>
          <td id="LC124">	: _autoCompleteMain(&amp;_mainEditView)</td>
        </tr>
        <tr>
          <td id="L125" data-line-number="125"></td>
          <td id="LC125">	, _autoCompleteSub(&amp;_subEditView)</td>
        </tr>
        <tr>
          <td id="L126" data-line-number="126"></td>
          <td id="LC126">	, _smartHighlighter(&amp;_findReplaceDlg)</td>
        </tr>
        <tr>
          <td id="L127" data-line-number="127"></td>
          <td id="LC127">{</td>
        </tr>
        <tr>
          <td id="L128" data-line-number="128"></td>
          <td id="LC128">	<span>ZeroMemory</span>(&amp;_prevSelectedRange, <span>sizeof</span>(_prevSelectedRange));</td>
        </tr>
        <tr>
          <td id="L129" data-line-number="129"></td>
          <td id="LC129">
</td>
        </tr>
        <tr>
          <td id="L130" data-line-number="130"></td>
          <td id="LC130">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L131" data-line-number="131"></td>
          <td id="LC131">	TiXmlDocumentA *nativeLangDocRootA = nppParam.<span>getNativeLangA</span>();</td>
        </tr>
        <tr>
          <td id="L132" data-line-number="132"></td>
          <td id="LC132">    _nativeLangSpeaker.<span>init</span>(nativeLangDocRootA);</td>
        </tr>
        <tr>
          <td id="L133" data-line-number="133"></td>
          <td id="LC133">
</td>
        </tr>
        <tr>
          <td id="L134" data-line-number="134"></td>
          <td id="LC134">	LocalizationSwitcher &amp; localizationSwitcher = nppParam.<span>getLocalizationSwitcher</span>();</td>
        </tr>
        <tr>
          <td id="L135" data-line-number="135"></td>
          <td id="LC135">    <span>const</span> <span>char</span> *fn = _nativeLangSpeaker.<span>getFileName</span>();</td>
        </tr>
        <tr>
          <td id="L136" data-line-number="136"></td>
          <td id="LC136">    <span>if</span> (fn)</td>
        </tr>
        <tr>
          <td id="L137" data-line-number="137"></td>
          <td id="LC137">    {</td>
        </tr>
        <tr>
          <td id="L138" data-line-number="138"></td>
          <td id="LC138">        localizationSwitcher.<span>setFileName</span>(fn);</td>
        </tr>
        <tr>
          <td id="L139" data-line-number="139"></td>
          <td id="LC139">    }</td>
        </tr>
        <tr>
          <td id="L140" data-line-number="140"></td>
          <td id="LC140">
</td>
        </tr>
        <tr>
          <td id="L141" data-line-number="141"></td>
          <td id="LC141">	nppParam.<span>setNativeLangSpeaker</span>(&amp;_nativeLangSpeaker);</td>
        </tr>
        <tr>
          <td id="L142" data-line-number="142"></td>
          <td id="LC142">
</td>
        </tr>
        <tr>
          <td id="L143" data-line-number="143"></td>
          <td id="LC143">	TiXmlDocument *toolIconsDocRoot = nppParam.<span>getCustomizedToolIcons</span>();</td>
        </tr>
        <tr>
          <td id="L144" data-line-number="144"></td>
          <td id="LC144">
</td>
        </tr>
        <tr>
          <td id="L145" data-line-number="145"></td>
          <td id="LC145">	<span>if</span> (toolIconsDocRoot)</td>
        </tr>
        <tr>
          <td id="L146" data-line-number="146"></td>
          <td id="LC146">	{</td>
        </tr>
        <tr>
          <td id="L147" data-line-number="147"></td>
          <td id="LC147">        _toolBar.<span>initTheme</span>(toolIconsDocRoot);</td>
        </tr>
        <tr>
          <td id="L148" data-line-number="148"></td>
          <td id="LC148">    }</td>
        </tr>
        <tr>
          <td id="L149" data-line-number="149"></td>
          <td id="LC149">
</td>
        </tr>
        <tr>
          <td id="L150" data-line-number="150"></td>
          <td id="LC150">	<span><span>//</span> Determine if user is administrator.</span></td>
        </tr>
        <tr>
          <td id="L151" data-line-number="151"></td>
          <td id="LC151">	BOOL is_admin;</td>
        </tr>
        <tr>
          <td id="L152" data-line-number="152"></td>
          <td id="LC152">	winVer ver = nppParam.<span>getWinVersion</span>();</td>
        </tr>
        <tr>
          <td id="L153" data-line-number="153"></td>
          <td id="LC153">	<span>if</span> (ver &gt;= WV_VISTA || ver == WV_UNKNOWN)</td>
        </tr>
        <tr>
          <td id="L154" data-line-number="154"></td>
          <td id="LC154">	{</td>
        </tr>
        <tr>
          <td id="L155" data-line-number="155"></td>
          <td id="LC155">		SID_IDENTIFIER_AUTHORITY NtAuthority = SECURITY_NT_AUTHORITY;</td>
        </tr>
        <tr>
          <td id="L156" data-line-number="156"></td>
          <td id="LC156">		PSID AdministratorsGroup;</td>
        </tr>
        <tr>
          <td id="L157" data-line-number="157"></td>
          <td id="LC157">		is_admin = <span>AllocateAndInitializeSid</span>(&amp;NtAuthority, <span>2</span>, SECURITY_BUILTIN_DOMAIN_RID, DOMAIN_ALIAS_RID_ADMINS, <span>0</span>, <span>0</span>, <span>0</span>, <span>0</span>, <span>0</span>, <span>0</span>, &amp;AdministratorsGroup);</td>
        </tr>
        <tr>
          <td id="L158" data-line-number="158"></td>
          <td id="LC158">		<span>if</span> (is_admin)</td>
        </tr>
        <tr>
          <td id="L159" data-line-number="159"></td>
          <td id="LC159">		{</td>
        </tr>
        <tr>
          <td id="L160" data-line-number="160"></td>
          <td id="LC160">			<span>if</span> (!<span>CheckTokenMembership</span>(<span>NULL</span>, AdministratorsGroup, &amp;is_admin))</td>
        </tr>
        <tr>
          <td id="L161" data-line-number="161"></td>
          <td id="LC161">				is_admin = <span>FALSE</span>;</td>
        </tr>
        <tr>
          <td id="L162" data-line-number="162"></td>
          <td id="LC162">			<span>FreeSid</span>(AdministratorsGroup);</td>
        </tr>
        <tr>
          <td id="L163" data-line-number="163"></td>
          <td id="LC163">		}</td>
        </tr>
        <tr>
          <td id="L164" data-line-number="164"></td>
          <td id="LC164">	}</td>
        </tr>
        <tr>
          <td id="L165" data-line-number="165"></td>
          <td id="LC165">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L166" data-line-number="166"></td>
          <td id="LC166">		is_admin = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L167" data-line-number="167"></td>
          <td id="LC167">
</td>
        </tr>
        <tr>
          <td id="L168" data-line-number="168"></td>
          <td id="LC168">	nppParam.<span>setAdminMode</span>(is_admin == <span>TRUE</span>);</td>
        </tr>
        <tr>
          <td id="L169" data-line-number="169"></td>
          <td id="LC169">	_isAdministrator = is_admin ? <span>true</span> : <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L170" data-line-number="170"></td>
          <td id="LC170">}</td>
        </tr>
        <tr>
          <td id="L171" data-line-number="171"></td>
          <td id="LC171">
</td>
        </tr>
        <tr>
          <td id="L172" data-line-number="172"></td>
          <td id="LC172"><span>Notepad_plus::~Notepad_plus</span>()</td>
        </tr>
        <tr>
          <td id="L173" data-line-number="173"></td>
          <td id="LC173">{</td>
        </tr>
        <tr>
          <td id="L174" data-line-number="174"></td>
          <td id="LC174">	<span><span>//</span> ATTENTION : the order of the destruction is very important</span></td>
        </tr>
        <tr>
          <td id="L175" data-line-number="175"></td>
          <td id="LC175">	<span><span>//</span> because if the parent&#39;s window handle is destroyed before</span></td>
        </tr>
        <tr>
          <td id="L176" data-line-number="176"></td>
          <td id="LC176">	<span><span>//</span> the destruction of its children windows&#39; handles,</span></td>
        </tr>
        <tr>
          <td id="L177" data-line-number="177"></td>
          <td id="LC177">	<span><span>//</span> its children windows&#39; handles will be destroyed automatically!</span></td>
        </tr>
        <tr>
          <td id="L178" data-line-number="178"></td>
          <td id="LC178">
</td>
        </tr>
        <tr>
          <td id="L179" data-line-number="179"></td>
          <td id="LC179">	(<span>NppParameters::getInstance</span>()).<span>destroyInstance</span>();</td>
        </tr>
        <tr>
          <td id="L180" data-line-number="180"></td>
          <td id="LC180">
</td>
        </tr>
        <tr>
          <td id="L181" data-line-number="181"></td>
          <td id="LC181">	<span>delete</span> _pTrayIco;</td>
        </tr>
        <tr>
          <td id="L182" data-line-number="182"></td>
          <td id="LC182">	<span>delete</span> _pAnsiCharPanel;</td>
        </tr>
        <tr>
          <td id="L183" data-line-number="183"></td>
          <td id="LC183">	<span>delete</span> _pClipboardHistoryPanel;</td>
        </tr>
        <tr>
          <td id="L184" data-line-number="184"></td>
          <td id="LC184">	<span>delete</span> _pDocumentListPanel;</td>
        </tr>
        <tr>
          <td id="L185" data-line-number="185"></td>
          <td id="LC185">	<span>delete</span> _pProjectPanel_1;</td>
        </tr>
        <tr>
          <td id="L186" data-line-number="186"></td>
          <td id="LC186">	<span>delete</span> _pProjectPanel_2;</td>
        </tr>
        <tr>
          <td id="L187" data-line-number="187"></td>
          <td id="LC187">	<span>delete</span> _pProjectPanel_3;</td>
        </tr>
        <tr>
          <td id="L188" data-line-number="188"></td>
          <td id="LC188">	<span>delete</span> _pDocMap;</td>
        </tr>
        <tr>
          <td id="L189" data-line-number="189"></td>
          <td id="LC189">	<span>delete</span> _pFuncList;</td>
        </tr>
        <tr>
          <td id="L190" data-line-number="190"></td>
          <td id="LC190">	<span>delete</span> _pFileBrowser;</td>
        </tr>
        <tr>
          <td id="L191" data-line-number="191"></td>
          <td id="LC191">}</td>
        </tr>
        <tr>
          <td id="L192" data-line-number="192"></td>
          <td id="LC192">
</td>
        </tr>
        <tr>
          <td id="L193" data-line-number="193"></td>
          <td id="LC193">LRESULT <span>Notepad_plus::init</span>(HWND hwnd)</td>
        </tr>
        <tr>
          <td id="L194" data-line-number="194"></td>
          <td id="LC194">{</td>
        </tr>
        <tr>
          <td id="L195" data-line-number="195"></td>
          <td id="LC195">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L196" data-line-number="196"></td>
          <td id="LC196">	NppGUI &amp; nppGUI = nppParam.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L197" data-line-number="197"></td>
          <td id="LC197">
</td>
        </tr>
        <tr>
          <td id="L198" data-line-number="198"></td>
          <td id="LC198">	<span><span>//</span> Menu</span></td>
        </tr>
        <tr>
          <td id="L199" data-line-number="199"></td>
          <td id="LC199">	_mainMenuHandle = ::<span>GetMenu</span>(hwnd);</td>
        </tr>
        <tr>
          <td id="L200" data-line-number="200"></td>
          <td id="LC200">	<span>int</span> langPos2BeRemoved = MENUINDEX_LANGUAGE + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L201" data-line-number="201"></td>
          <td id="LC201">	<span>if</span> (nppGUI.<span>_isLangMenuCompact</span>)</td>
        </tr>
        <tr>
          <td id="L202" data-line-number="202"></td>
          <td id="LC202">		langPos2BeRemoved = MENUINDEX_LANGUAGE;</td>
        </tr>
        <tr>
          <td id="L203" data-line-number="203"></td>
          <td id="LC203">	<span>::RemoveMenu</span>(_mainMenuHandle, langPos2BeRemoved, MF_BYPOSITION);</td>
        </tr>
        <tr>
          <td id="L204" data-line-number="204"></td>
          <td id="LC204">
</td>
        </tr>
        <tr>
          <td id="L205" data-line-number="205"></td>
          <td id="LC205">	<span><span>//</span>Views</span></td>
        </tr>
        <tr>
          <td id="L206" data-line-number="206"></td>
          <td id="LC206">	_pDocTab = &amp;_mainDocTab;</td>
        </tr>
        <tr>
          <td id="L207" data-line-number="207"></td>
          <td id="LC207">	_pEditView = &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L208" data-line-number="208"></td>
          <td id="LC208">	_pNonDocTab = &amp;_subDocTab;</td>
        </tr>
        <tr>
          <td id="L209" data-line-number="209"></td>
          <td id="LC209">	_pNonEditView = &amp;_subEditView;</td>
        </tr>
        <tr>
          <td id="L210" data-line-number="210"></td>
          <td id="LC210">
</td>
        </tr>
        <tr>
          <td id="L211" data-line-number="211"></td>
          <td id="LC211">	_mainEditView.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L212" data-line-number="212"></td>
          <td id="LC212">	_subEditView.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L213" data-line-number="213"></td>
          <td id="LC213">
</td>
        </tr>
        <tr>
          <td id="L214" data-line-number="214"></td>
          <td id="LC214">	_fileEditView.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L215" data-line-number="215"></td>
          <td id="LC215">	MainFileManager.<span>init</span>(<span>this</span>, &amp;_fileEditView); <span><span>//</span>get it up and running asap.</span></td>
        </tr>
        <tr>
          <td id="L216" data-line-number="216"></td>
          <td id="LC216">
</td>
        </tr>
        <tr>
          <td id="L217" data-line-number="217"></td>
          <td id="LC217">	nppParam.<span>setFontList</span>(hwnd);</td>
        </tr>
        <tr>
          <td id="L218" data-line-number="218"></td>
          <td id="LC218">
</td>
        </tr>
        <tr>
          <td id="L219" data-line-number="219"></td>
          <td id="LC219">
</td>
        </tr>
        <tr>
          <td id="L220" data-line-number="220"></td>
          <td id="LC220">	_mainWindowStatus = WindowMainActive;</td>
        </tr>
        <tr>
          <td id="L221" data-line-number="221"></td>
          <td id="LC221">	_activeView = MAIN_VIEW;</td>
        </tr>
        <tr>
          <td id="L222" data-line-number="222"></td>
          <td id="LC222">
</td>
        </tr>
        <tr>
          <td id="L223" data-line-number="223"></td>
          <td id="LC223">	<span>const</span> ScintillaViewParams &amp; svp = nppParam.<span>getSVP</span>();</td>
        </tr>
        <tr>
          <td id="L224" data-line-number="224"></td>
          <td id="LC224">
</td>
        </tr>
        <tr>
          <td id="L225" data-line-number="225"></td>
          <td id="LC225">	<span>int</span> tabBarStatus = nppGUI.<span>_tabStatus</span>;</td>
        </tr>
        <tr>
          <td id="L226" data-line-number="226"></td>
          <td id="LC226">
</td>
        </tr>
        <tr>
          <td id="L227" data-line-number="227"></td>
          <td id="LC227">	_toReduceTabBar = ((tabBarStatus &amp; TAB_REDUCE) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L228" data-line-number="228"></td>
          <td id="LC228">	<span>int</span> iconDpiDynamicalSize = nppParam.<span>_dpiManager</span>.<span>scaleY</span>(_toReduceTabBar ? <span>13</span> : <span>20</span>);</td>
        </tr>
        <tr>
          <td id="L229" data-line-number="229"></td>
          <td id="LC229">	_docTabIconList.<span>create</span>(iconDpiDynamicalSize, _pPublicInterface-&gt;<span>getHinst</span>(), docTabIconIDs, <span>sizeof</span>(docTabIconIDs) / <span>sizeof</span>(<span>int</span>));</td>
        </tr>
        <tr>
          <td id="L230" data-line-number="230"></td>
          <td id="LC230">	_docTabIconListAlt.<span>create</span>(iconDpiDynamicalSize, _pPublicInterface-&gt;<span>getHinst</span>(), docTabIconIDs_alt, <span>sizeof</span>(docTabIconIDs_alt) / <span>sizeof</span>(<span>int</span>));</td>
        </tr>
        <tr>
          <td id="L231" data-line-number="231"></td>
          <td id="LC231">	_docTabIconListDarkMode.<span>create</span>(iconDpiDynamicalSize, _pPublicInterface-&gt;<span>getHinst</span>(), docTabIconIDs_darkMode, <span>sizeof</span>(docTabIconIDs_darkMode) / <span>sizeof</span>(<span>int</span>));</td>
        </tr>
        <tr>
          <td id="L232" data-line-number="232"></td>
          <td id="LC232">	</td>
        </tr>
        <tr>
          <td id="L233" data-line-number="233"></td>
          <td id="LC233">	vector&lt;IconList *&gt; pIconListVector;</td>
        </tr>
        <tr>
          <td id="L234" data-line-number="234"></td>
          <td id="LC234">	pIconListVector.<span>push_back</span>(&amp;_docTabIconList);        <span><span>//</span> 0</span></td>
        </tr>
        <tr>
          <td id="L235" data-line-number="235"></td>
          <td id="LC235">	pIconListVector.<span>push_back</span>(&amp;_docTabIconListAlt);     <span><span>//</span> 1</span></td>
        </tr>
        <tr>
          <td id="L236" data-line-number="236"></td>
          <td id="LC236">	pIconListVector.<span>push_back</span>(&amp;_docTabIconListDarkMode);<span><span>//</span> 2</span></td>
        </tr>
        <tr>
          <td id="L237" data-line-number="237"></td>
          <td id="LC237">
</td>
        </tr>
        <tr>
          <td id="L238" data-line-number="238"></td>
          <td id="LC238">	<span>unsigned</span> <span>char</span> indexDocTabIcon = (((tabBarStatus &amp; TAB_ALTICONS) == TAB_ALTICONS) ? <span>1</span> : <span>NppDarkMode::isEnabled</span>() ? <span>2</span> : <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L239" data-line-number="239"></td>
          <td id="LC239">	</td>
        </tr>
        <tr>
          <td id="L240" data-line-number="240"></td>
          <td id="LC240">	_mainDocTab.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_mainEditView, pIconListVector, indexDocTabIcon);</td>
        </tr>
        <tr>
          <td id="L241" data-line-number="241"></td>
          <td id="LC241">	_subDocTab.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_subEditView, pIconListVector, indexDocTabIcon);</td>
        </tr>
        <tr>
          <td id="L242" data-line-number="242"></td>
          <td id="LC242">
</td>
        </tr>
        <tr>
          <td id="L243" data-line-number="243"></td>
          <td id="LC243">	_mainEditView.<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L244" data-line-number="244"></td>
          <td id="LC244">
</td>
        </tr>
        <tr>
          <td id="L245" data-line-number="245"></td>
          <td id="LC245">	_invisibleEditView.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L246" data-line-number="246"></td>
          <td id="LC246">	_invisibleEditView.<span>execute</span>(SCI_SETUNDOCOLLECTION);</td>
        </tr>
        <tr>
          <td id="L247" data-line-number="247"></td>
          <td id="LC247">	_invisibleEditView.<span>execute</span>(SCI_EMPTYUNDOBUFFER);</td>
        </tr>
        <tr>
          <td id="L248" data-line-number="248"></td>
          <td id="LC248">	_invisibleEditView.<span>wrap</span>(<span>false</span>); <span><span>//</span> Make sure no slow down</span></td>
        </tr>
        <tr>
          <td id="L249" data-line-number="249"></td>
          <td id="LC249">
</td>
        </tr>
        <tr>
          <td id="L250" data-line-number="250"></td>
          <td id="LC250">	<span><span>//</span> Configuration of 2 scintilla views</span></td>
        </tr>
        <tr>
          <td id="L251" data-line-number="251"></td>
          <td id="LC251">	_mainEditView.<span>showMargin</span>(ScintillaEditView::_SC_MARGE_LINENUMBER, svp.<span>_lineNumberMarginShow</span>);</td>
        </tr>
        <tr>
          <td id="L252" data-line-number="252"></td>
          <td id="LC252">	_subEditView.<span>showMargin</span>(ScintillaEditView::_SC_MARGE_LINENUMBER, svp.<span>_lineNumberMarginShow</span>);</td>
        </tr>
        <tr>
          <td id="L253" data-line-number="253"></td>
          <td id="LC253">	_mainEditView.<span>showMargin</span>(ScintillaEditView::_SC_MARGE_SYMBOL, svp.<span>_bookMarkMarginShow</span>);</td>
        </tr>
        <tr>
          <td id="L254" data-line-number="254"></td>
          <td id="LC254">	_subEditView.<span>showMargin</span>(ScintillaEditView::_SC_MARGE_SYMBOL, svp.<span>_bookMarkMarginShow</span>);</td>
        </tr>
        <tr>
          <td id="L255" data-line-number="255"></td>
          <td id="LC255">
</td>
        </tr>
        <tr>
          <td id="L256" data-line-number="256"></td>
          <td id="LC256">	_mainEditView.<span>showIndentGuideLine</span>(svp.<span>_indentGuideLineShow</span>);</td>
        </tr>
        <tr>
          <td id="L257" data-line-number="257"></td>
          <td id="LC257">	_subEditView.<span>showIndentGuideLine</span>(svp.<span>_indentGuideLineShow</span>);</td>
        </tr>
        <tr>
          <td id="L258" data-line-number="258"></td>
          <td id="LC258">
</td>
        </tr>
        <tr>
          <td id="L259" data-line-number="259"></td>
          <td id="LC259">	<span>::SendMessage</span>(hwnd, NPPM_INTERNAL_SETCARETWIDTH, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L260" data-line-number="260"></td>
          <td id="LC260">	<span>::SendMessage</span>(hwnd, NPPM_INTERNAL_SETCARETBLINKRATE, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L261" data-line-number="261"></td>
          <td id="LC261">
</td>
        </tr>
        <tr>
          <td id="L262" data-line-number="262"></td>
          <td id="LC262">	_configStyleDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L263" data-line-number="263"></td>
          <td id="LC263">	_preference.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L264" data-line-number="264"></td>
          <td id="LC264">	_pluginsAdminDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L265" data-line-number="265"></td>
          <td id="LC265">
</td>
        </tr>
        <tr>
          <td id="L266" data-line-number="266"></td>
          <td id="LC266">	<span><span>//</span>Marker Margin config</span></td>
        </tr>
        <tr>
          <td id="L267" data-line-number="267"></td>
          <td id="LC267">	_mainEditView.<span>setMakerStyle</span>(svp.<span>_folderStyle</span>);</td>
        </tr>
        <tr>
          <td id="L268" data-line-number="268"></td>
          <td id="LC268">	_subEditView.<span>setMakerStyle</span>(svp.<span>_folderStyle</span>);</td>
        </tr>
        <tr>
          <td id="L269" data-line-number="269"></td>
          <td id="LC269">	_mainEditView.<span>defineDocType</span>(_mainEditView.<span>getCurrentBuffer</span>()-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L270" data-line-number="270"></td>
          <td id="LC270">	_subEditView.<span>defineDocType</span>(_subEditView.<span>getCurrentBuffer</span>()-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L271" data-line-number="271"></td>
          <td id="LC271">
</td>
        </tr>
        <tr>
          <td id="L272" data-line-number="272"></td>
          <td id="LC272">	<span><span>//</span>Line wrap method</span></td>
        </tr>
        <tr>
          <td id="L273" data-line-number="273"></td>
          <td id="LC273">	_mainEditView.<span>setWrapMode</span>(svp.<span>_lineWrapMethod</span>);</td>
        </tr>
        <tr>
          <td id="L274" data-line-number="274"></td>
          <td id="LC274">	_subEditView.<span>setWrapMode</span>(svp.<span>_lineWrapMethod</span>);</td>
        </tr>
        <tr>
          <td id="L275" data-line-number="275"></td>
          <td id="LC275">
</td>
        </tr>
        <tr>
          <td id="L276" data-line-number="276"></td>
          <td id="LC276">	_mainEditView.<span>execute</span>(SCI_SETENDATLASTLINE, !svp.<span>_scrollBeyondLastLine</span>);</td>
        </tr>
        <tr>
          <td id="L277" data-line-number="277"></td>
          <td id="LC277">	_subEditView.<span>execute</span>(SCI_SETENDATLASTLINE, !svp.<span>_scrollBeyondLastLine</span>);</td>
        </tr>
        <tr>
          <td id="L278" data-line-number="278"></td>
          <td id="LC278">
</td>
        </tr>
        <tr>
          <td id="L279" data-line-number="279"></td>
          <td id="LC279">	<span>if</span> (svp.<span>_doSmoothFont</span>)</td>
        </tr>
        <tr>
          <td id="L280" data-line-number="280"></td>
          <td id="LC280">	{</td>
        </tr>
        <tr>
          <td id="L281" data-line-number="281"></td>
          <td id="LC281">		_mainEditView.<span>execute</span>(SCI_SETFONTQUALITY, SC_EFF_QUALITY_LCD_OPTIMIZED);</td>
        </tr>
        <tr>
          <td id="L282" data-line-number="282"></td>
          <td id="LC282">		_subEditView.<span>execute</span>(SCI_SETFONTQUALITY, SC_EFF_QUALITY_LCD_OPTIMIZED);</td>
        </tr>
        <tr>
          <td id="L283" data-line-number="283"></td>
          <td id="LC283">	}</td>
        </tr>
        <tr>
          <td id="L284" data-line-number="284"></td>
          <td id="LC284">
</td>
        </tr>
        <tr>
          <td id="L285" data-line-number="285"></td>
          <td id="LC285">	_mainEditView.<span>setBorderEdge</span>(svp.<span>_showBorderEdge</span>);</td>
        </tr>
        <tr>
          <td id="L286" data-line-number="286"></td>
          <td id="LC286">	_subEditView.<span>setBorderEdge</span>(svp.<span>_showBorderEdge</span>);</td>
        </tr>
        <tr>
          <td id="L287" data-line-number="287"></td>
          <td id="LC287">
</td>
        </tr>
        <tr>
          <td id="L288" data-line-number="288"></td>
          <td id="LC288">	_mainEditView.<span>execute</span>(SCI_SETCARETLINEVISIBLEALWAYS, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L289" data-line-number="289"></td>
          <td id="LC289">	_subEditView.<span>execute</span>(SCI_SETCARETLINEVISIBLEALWAYS, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L290" data-line-number="290"></td>
          <td id="LC290">
</td>
        </tr>
        <tr>
          <td id="L291" data-line-number="291"></td>
          <td id="LC291">	_mainEditView.<span>wrap</span>(svp.<span>_doWrap</span>);</td>
        </tr>
        <tr>
          <td id="L292" data-line-number="292"></td>
          <td id="LC292">	_subEditView.<span>wrap</span>(svp.<span>_doWrap</span>);</td>
        </tr>
        <tr>
          <td id="L293" data-line-number="293"></td>
          <td id="LC293">
</td>
        </tr>
        <tr>
          <td id="L294" data-line-number="294"></td>
          <td id="LC294">	<span>::SendMessage</span>(hwnd, NPPM_INTERNAL_EDGEMULTISETSIZE, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L295" data-line-number="295"></td>
          <td id="LC295">
</td>
        </tr>
        <tr>
          <td id="L296" data-line-number="296"></td>
          <td id="LC296">	_mainEditView.<span>showEOL</span>(svp.<span>_eolShow</span>);</td>
        </tr>
        <tr>
          <td id="L297" data-line-number="297"></td>
          <td id="LC297">	_subEditView.<span>showEOL</span>(svp.<span>_eolShow</span>);</td>
        </tr>
        <tr>
          <td id="L298" data-line-number="298"></td>
          <td id="LC298">
</td>
        </tr>
        <tr>
          <td id="L299" data-line-number="299"></td>
          <td id="LC299">	_mainEditView.<span>showWSAndTab</span>(svp.<span>_whiteSpaceShow</span>);</td>
        </tr>
        <tr>
          <td id="L300" data-line-number="300"></td>
          <td id="LC300">	_subEditView.<span>showWSAndTab</span>(svp.<span>_whiteSpaceShow</span>);</td>
        </tr>
        <tr>
          <td id="L301" data-line-number="301"></td>
          <td id="LC301">
</td>
        </tr>
        <tr>
          <td id="L302" data-line-number="302"></td>
          <td id="LC302">	_mainEditView.<span>showWrapSymbol</span>(svp.<span>_wrapSymbolShow</span>);</td>
        </tr>
        <tr>
          <td id="L303" data-line-number="303"></td>
          <td id="LC303">	_subEditView.<span>showWrapSymbol</span>(svp.<span>_wrapSymbolShow</span>);</td>
        </tr>
        <tr>
          <td id="L304" data-line-number="304"></td>
          <td id="LC304">
</td>
        </tr>
        <tr>
          <td id="L305" data-line-number="305"></td>
          <td id="LC305">	_mainEditView.<span>performGlobalStyles</span>();</td>
        </tr>
        <tr>
          <td id="L306" data-line-number="306"></td>
          <td id="LC306">	_subEditView.<span>performGlobalStyles</span>();</td>
        </tr>
        <tr>
          <td id="L307" data-line-number="307"></td>
          <td id="LC307">
</td>
        </tr>
        <tr>
          <td id="L308" data-line-number="308"></td>
          <td id="LC308">	_zoomOriginalValue = _pEditView-&gt;<span>execute</span>(SCI_GETZOOM);</td>
        </tr>
        <tr>
          <td id="L309" data-line-number="309"></td>
          <td id="LC309">	_mainEditView.<span>execute</span>(SCI_SETZOOM, svp.<span>_zoom</span>);</td>
        </tr>
        <tr>
          <td id="L310" data-line-number="310"></td>
          <td id="LC310">	_subEditView.<span>execute</span>(SCI_SETZOOM, svp.<span>_zoom2</span>);</td>
        </tr>
        <tr>
          <td id="L311" data-line-number="311"></td>
          <td id="LC311">
</td>
        </tr>
        <tr>
          <td id="L312" data-line-number="312"></td>
          <td id="LC312">	<span>::SendMessage</span>(hwnd, NPPM_INTERNAL_SETMULTISELCTION, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L313" data-line-number="313"></td>
          <td id="LC313">
</td>
        </tr>
        <tr>
          <td id="L314" data-line-number="314"></td>
          <td id="LC314">	<span><span>//</span> Make backspace or delete work with multiple selections</span></td>
        </tr>
        <tr>
          <td id="L315" data-line-number="315"></td>
          <td id="LC315">	_mainEditView.<span>execute</span>(SCI_SETADDITIONALSELECTIONTYPING, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L316" data-line-number="316"></td>
          <td id="LC316">	_subEditView.<span>execute</span>(SCI_SETADDITIONALSELECTIONTYPING, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L317" data-line-number="317"></td>
          <td id="LC317">
</td>
        </tr>
        <tr>
          <td id="L318" data-line-number="318"></td>
          <td id="LC318">	<span><span>//</span> Turn virtual space on</span></td>
        </tr>
        <tr>
          <td id="L319" data-line-number="319"></td>
          <td id="LC319">	<span>int</span> virtualSpaceOptions = SCVS_RECTANGULARSELECTION;</td>
        </tr>
        <tr>
          <td id="L320" data-line-number="320"></td>
          <td id="LC320">	<span>if</span>(svp.<span>_virtualSpace</span>)</td>
        </tr>
        <tr>
          <td id="L321" data-line-number="321"></td>
          <td id="LC321">		virtualSpaceOptions |= SCVS_USERACCESSIBLE | SCVS_NOWRAPLINESTART;</td>
        </tr>
        <tr>
          <td id="L322" data-line-number="322"></td>
          <td id="LC322">
</td>
        </tr>
        <tr>
          <td id="L323" data-line-number="323"></td>
          <td id="LC323">	_mainEditView.<span>execute</span>(SCI_SETVIRTUALSPACEOPTIONS, virtualSpaceOptions);</td>
        </tr>
        <tr>
          <td id="L324" data-line-number="324"></td>
          <td id="LC324">	_subEditView.<span>execute</span>(SCI_SETVIRTUALSPACEOPTIONS, virtualSpaceOptions);</td>
        </tr>
        <tr>
          <td id="L325" data-line-number="325"></td>
          <td id="LC325">
</td>
        </tr>
        <tr>
          <td id="L326" data-line-number="326"></td>
          <td id="LC326">	<span><span>//</span> Turn multi-paste on</span></td>
        </tr>
        <tr>
          <td id="L327" data-line-number="327"></td>
          <td id="LC327">	_mainEditView.<span>execute</span>(SCI_SETMULTIPASTE, SC_MULTIPASTE_EACH);</td>
        </tr>
        <tr>
          <td id="L328" data-line-number="328"></td>
          <td id="LC328">	_subEditView.<span>execute</span>(SCI_SETMULTIPASTE, SC_MULTIPASTE_EACH);</td>
        </tr>
        <tr>
          <td id="L329" data-line-number="329"></td>
          <td id="LC329">
</td>
        </tr>
        <tr>
          <td id="L330" data-line-number="330"></td>
          <td id="LC330">	<span><span>//</span> allow user to start selecting as a stream block, then switch to a column block by adding Alt keypress</span></td>
        </tr>
        <tr>
          <td id="L331" data-line-number="331"></td>
          <td id="LC331">	_mainEditView.<span>execute</span>(SCI_SETMOUSESELECTIONRECTANGULARSWITCH, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L332" data-line-number="332"></td>
          <td id="LC332">	_subEditView.<span>execute</span>(SCI_SETMOUSESELECTIONRECTANGULARSWITCH, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L333" data-line-number="333"></td>
          <td id="LC333">
</td>
        </tr>
        <tr>
          <td id="L334" data-line-number="334"></td>
          <td id="LC334">	<span><span>//</span> Let Scintilla deal with some of the folding functionality</span></td>
        </tr>
        <tr>
          <td id="L335" data-line-number="335"></td>
          <td id="LC335">	_mainEditView.<span>execute</span>(SCI_SETAUTOMATICFOLD, SC_AUTOMATICFOLD_SHOW | SC_AUTOMATICFOLD_CHANGE);</td>
        </tr>
        <tr>
          <td id="L336" data-line-number="336"></td>
          <td id="LC336">	_subEditView.<span>execute</span>(SCI_SETAUTOMATICFOLD, SC_AUTOMATICFOLD_SHOW | SC_AUTOMATICFOLD_CHANGE);</td>
        </tr>
        <tr>
          <td id="L337" data-line-number="337"></td>
          <td id="LC337">
</td>
        </tr>
        <tr>
          <td id="L338" data-line-number="338"></td>
          <td id="LC338">	<span><span>//</span> Set padding info</span></td>
        </tr>
        <tr>
          <td id="L339" data-line-number="339"></td>
          <td id="LC339">	_mainEditView.<span>execute</span>(SCI_SETMARGINLEFT, <span>0</span>, svp.<span>_paddingLeft</span>);</td>
        </tr>
        <tr>
          <td id="L340" data-line-number="340"></td>
          <td id="LC340">	_mainEditView.<span>execute</span>(SCI_SETMARGINRIGHT, <span>0</span>, svp.<span>_paddingRight</span>);</td>
        </tr>
        <tr>
          <td id="L341" data-line-number="341"></td>
          <td id="LC341">	_subEditView.<span>execute</span>(SCI_SETMARGINLEFT, <span>0</span>, svp.<span>_paddingLeft</span>);</td>
        </tr>
        <tr>
          <td id="L342" data-line-number="342"></td>
          <td id="LC342">	_subEditView.<span>execute</span>(SCI_SETMARGINRIGHT, <span>0</span>, svp.<span>_paddingRight</span>);</td>
        </tr>
        <tr>
          <td id="L343" data-line-number="343"></td>
          <td id="LC343">
</td>
        </tr>
        <tr>
          <td id="L344" data-line-number="344"></td>
          <td id="LC344">	<span><span>//</span> Improvement of the switching into the wrapped long line document</span></td>
        </tr>
        <tr>
          <td id="L345" data-line-number="345"></td>
          <td id="LC345">	_mainEditView.<span>execute</span>(SCI_STYLESETCHECKMONOSPACED, STYLE_DEFAULT, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L346" data-line-number="346"></td>
          <td id="LC346">	_subEditView.<span>execute</span>(SCI_STYLESETCHECKMONOSPACED, STYLE_DEFAULT, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L347" data-line-number="347"></td>
          <td id="LC347">
</td>
        </tr>
        <tr>
          <td id="L348" data-line-number="348"></td>
          <td id="LC348">	<span>TabBarPlus::doDragNDrop</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L349" data-line-number="349"></td>
          <td id="LC349">
</td>
        </tr>
        <tr>
          <td id="L350" data-line-number="350"></td>
          <td id="LC350">	<span>if</span> (_toReduceTabBar)</td>
        </tr>
        <tr>
          <td id="L351" data-line-number="351"></td>
          <td id="LC351">	{</td>
        </tr>
        <tr>
          <td id="L352" data-line-number="352"></td>
          <td id="LC352">		HFONT hf = <span>static_cast</span>&lt;HFONT&gt;(::<span>GetStockObject</span>(DEFAULT_GUI_FONT));</td>
        </tr>
        <tr>
          <td id="L353" data-line-number="353"></td>
          <td id="LC353">
</td>
        </tr>
        <tr>
          <td id="L354" data-line-number="354"></td>
          <td id="LC354">		<span>if</span> (hf)</td>
        </tr>
        <tr>
          <td id="L355" data-line-number="355"></td>
          <td id="LC355">		{</td>
        </tr>
        <tr>
          <td id="L356" data-line-number="356"></td>
          <td id="LC356">			<span>::SendMessage</span>(_mainDocTab.getHSelf(), WM_SETFONT, reinterpret_cast&lt;WPARAM&gt;(hf), MAKELPARAM(<span>TRUE</span>, <span>0</span>));</td>
        </tr>
        <tr>
          <td id="L357" data-line-number="357"></td>
          <td id="LC357">			<span>::SendMessage</span>(_subDocTab.getHSelf(), WM_SETFONT, reinterpret_cast&lt;WPARAM&gt;(hf), MAKELPARAM(<span>TRUE</span>, <span>0</span>));</td>
        </tr>
        <tr>
          <td id="L358" data-line-number="358"></td>
          <td id="LC358">		}</td>
        </tr>
        <tr>
          <td id="L359" data-line-number="359"></td>
          <td id="LC359">		<span>int</span> tabDpiDynamicalHeight = nppParam.<span>_dpiManager</span>.<span>scaleY</span>(<span>22</span>);</td>
        </tr>
        <tr>
          <td id="L360" data-line-number="360"></td>
          <td id="LC360">		<span>int</span> tabDpiDynamicalWidth = nppParam.<span>_dpiManager</span>.<span>scaleX</span>(<span>45</span>);</td>
        </tr>
        <tr>
          <td id="L361" data-line-number="361"></td>
          <td id="LC361">		<span>TabCtrl_SetItemSize</span>(_mainDocTab.<span>getHSelf</span>(), tabDpiDynamicalWidth, tabDpiDynamicalHeight);</td>
        </tr>
        <tr>
          <td id="L362" data-line-number="362"></td>
          <td id="LC362">		<span>TabCtrl_SetItemSize</span>(_subDocTab.<span>getHSelf</span>(), tabDpiDynamicalWidth, tabDpiDynamicalHeight);</td>
        </tr>
        <tr>
          <td id="L363" data-line-number="363"></td>
          <td id="LC363">	}</td>
        </tr>
        <tr>
          <td id="L364" data-line-number="364"></td>
          <td id="LC364">	_mainDocTab.<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L365" data-line-number="365"></td>
          <td id="LC365">
</td>
        </tr>
        <tr>
          <td id="L366" data-line-number="366"></td>
          <td id="LC366">
</td>
        </tr>
        <tr>
          <td id="L367" data-line-number="367"></td>
          <td id="LC367">	<span>TabBarPlus::doDragNDrop</span>((tabBarStatus &amp; TAB_DRAGNDROP) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L368" data-line-number="368"></td>
          <td id="LC368">	<span>TabBarPlus::setDrawTopBar</span>((tabBarStatus &amp; TAB_DRAWTOPBAR) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L369" data-line-number="369"></td>
          <td id="LC369">	<span>TabBarPlus::setDrawInactiveTab</span>((tabBarStatus &amp; TAB_DRAWINACTIVETAB) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L370" data-line-number="370"></td>
          <td id="LC370">	<span>TabBarPlus::setDrawTabCloseButton</span>((tabBarStatus &amp; TAB_CLOSEBUTTON) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L371" data-line-number="371"></td>
          <td id="LC371">	<span>TabBarPlus::setDbClk2Close</span>((tabBarStatus &amp; TAB_DBCLK2CLOSE) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L372" data-line-number="372"></td>
          <td id="LC372">	<span>TabBarPlus::setVertical</span>((tabBarStatus &amp; TAB_VERTICAL) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L373" data-line-number="373"></td>
          <td id="LC373">	<span>drawTabbarColoursFromStylerArray</span>();</td>
        </tr>
        <tr>
          <td id="L374" data-line-number="374"></td>
          <td id="LC374">
</td>
        </tr>
        <tr>
          <td id="L375" data-line-number="375"></td>
          <td id="LC375">	<span><span>//</span> Autocomplete list and calltip</span></td>
        </tr>
        <tr>
          <td id="L376" data-line-number="376"></td>
          <td id="LC376">	<span>const</span> <span>Style</span>* pStyle = <span>NppParameters::getInstance</span>().<span>getGlobalStylers</span>().<span>findByID</span>(STYLE_DEFAULT);</td>
        </tr>
        <tr>
          <td id="L377" data-line-number="377"></td>
          <td id="LC377">	<span>if</span> (pStyle)</td>
        </tr>
        <tr>
          <td id="L378" data-line-number="378"></td>
          <td id="LC378">	{</td>
        </tr>
        <tr>
          <td id="L379" data-line-number="379"></td>
          <td id="LC379">		<span>NppParameters::getInstance</span>().<span>setCurrentDefaultFgColor</span>(pStyle-&gt;<span>_fgColor</span>);</td>
        </tr>
        <tr>
          <td id="L380" data-line-number="380"></td>
          <td id="LC380">		<span>NppParameters::getInstance</span>().<span>setCurrentDefaultBgColor</span>(pStyle-&gt;<span>_bgColor</span>);</td>
        </tr>
        <tr>
          <td id="L381" data-line-number="381"></td>
          <td id="LC381">		<span>drawAutocompleteColoursFromTheme</span>(pStyle-&gt;<span>_fgColor</span>, pStyle-&gt;<span>_bgColor</span>);</td>
        </tr>
        <tr>
          <td id="L382" data-line-number="382"></td>
          <td id="LC382">	}</td>
        </tr>
        <tr>
          <td id="L383" data-line-number="383"></td>
          <td id="LC383">	<span>AutoCompletion::drawAutocomplete</span>(_pEditView);</td>
        </tr>
        <tr>
          <td id="L384" data-line-number="384"></td>
          <td id="LC384">	<span>AutoCompletion::drawAutocomplete</span>(_pNonEditView);</td>
        </tr>
        <tr>
          <td id="L385" data-line-number="385"></td>
          <td id="LC385">
</td>
        </tr>
        <tr>
          <td id="L386" data-line-number="386"></td>
          <td id="LC386">	<span><span>//</span> Document Map</span></td>
        </tr>
        <tr>
          <td id="L387" data-line-number="387"></td>
          <td id="LC387">	<span>drawDocumentMapColoursFromStylerArray</span>();</td>
        </tr>
        <tr>
          <td id="L388" data-line-number="388"></td>
          <td id="LC388">
</td>
        </tr>
        <tr>
          <td id="L389" data-line-number="389"></td>
          <td id="LC389">	<span><span>//</span>--Splitter Section--//</span></td>
        </tr>
        <tr>
          <td id="L390" data-line-number="390"></td>
          <td id="LC390">	<span>bool</span> isVertical = (nppGUI.<span>_splitterPos</span> == POS_VERTICAL);</td>
        </tr>
        <tr>
          <td id="L391" data-line-number="391"></td>
          <td id="LC391">
</td>
        </tr>
        <tr>
          <td id="L392" data-line-number="392"></td>
          <td id="LC392">	<span>int</span> splitterSizeDyn = nppParam.<span>_dpiManager</span>.<span>scaleX</span>(splitterSize);</td>
        </tr>
        <tr>
          <td id="L393" data-line-number="393"></td>
          <td id="LC393">	_subSplitter.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L394" data-line-number="394"></td>
          <td id="LC394">	_subSplitter.<span>create</span>(&amp;_mainDocTab, &amp;_subDocTab, splitterSizeDyn, SplitterMode::DYNAMIC, <span>50</span>, isVertical);</td>
        </tr>
        <tr>
          <td id="L395" data-line-number="395"></td>
          <td id="LC395">
</td>
        </tr>
        <tr>
          <td id="L396" data-line-number="396"></td>
          <td id="LC396">	<span><span>//</span>--Status Bar Section--//</span></td>
        </tr>
        <tr>
          <td id="L397" data-line-number="397"></td>
          <td id="LC397">	<span>bool</span> willBeShown = nppGUI.<span>_statusBarShow</span>;</td>
        </tr>
        <tr>
          <td id="L398" data-line-number="398"></td>
          <td id="LC398">	_statusBar.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, <span>6</span>);</td>
        </tr>
        <tr>
          <td id="L399" data-line-number="399"></td>
          <td id="LC399">	_statusBar.<span>setPartWidth</span>(STATUSBAR_DOC_SIZE, nppParam.<span>_dpiManager</span>.<span>scaleX</span>(<span>220</span>));</td>
        </tr>
        <tr>
          <td id="L400" data-line-number="400"></td>
          <td id="LC400">	_statusBar.<span>setPartWidth</span>(STATUSBAR_CUR_POS, nppParam.<span>_dpiManager</span>.<span>scaleX</span>(<span>260</span>));</td>
        </tr>
        <tr>
          <td id="L401" data-line-number="401"></td>
          <td id="LC401">	_statusBar.<span>setPartWidth</span>(STATUSBAR_EOF_FORMAT, nppParam.<span>_dpiManager</span>.<span>scaleX</span>(<span>110</span>));</td>
        </tr>
        <tr>
          <td id="L402" data-line-number="402"></td>
          <td id="LC402">	_statusBar.<span>setPartWidth</span>(STATUSBAR_UNICODE_TYPE, nppParam.<span>_dpiManager</span>.<span>scaleX</span>(<span>120</span>));</td>
        </tr>
        <tr>
          <td id="L403" data-line-number="403"></td>
          <td id="LC403">	_statusBar.<span>setPartWidth</span>(STATUSBAR_TYPING_MODE, nppParam.<span>_dpiManager</span>.<span>scaleX</span>(<span>30</span>));</td>
        </tr>
        <tr>
          <td id="L404" data-line-number="404"></td>
          <td id="LC404">	_statusBar.<span>display</span>(willBeShown);</td>
        </tr>
        <tr>
          <td id="L405" data-line-number="405"></td>
          <td id="LC405">
</td>
        </tr>
        <tr>
          <td id="L406" data-line-number="406"></td>
          <td id="LC406">	_pMainWindow = &amp;_mainDocTab;</td>
        </tr>
        <tr>
          <td id="L407" data-line-number="407"></td>
          <td id="LC407">
</td>
        </tr>
        <tr>
          <td id="L408" data-line-number="408"></td>
          <td id="LC408">	_dockingManager.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_pMainWindow);</td>
        </tr>
        <tr>
          <td id="L409" data-line-number="409"></td>
          <td id="LC409">
</td>
        </tr>
        <tr>
          <td id="L410" data-line-number="410"></td>
          <td id="LC410">	<span>if</span> (nppGUI.<span>_isMinimizedToTray</span> &amp;&amp; _pTrayIco == <span>NULL</span>)</td>
        </tr>
        <tr>
          <td id="L411" data-line-number="411"></td>
          <td id="LC411">	{</td>
        </tr>
        <tr>
          <td id="L412" data-line-number="412"></td>
          <td id="LC412">		HICON icon = ::<span>LoadIcon</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(IDI_M30ICON));</td>
        </tr>
        <tr>
          <td id="L413" data-line-number="413"></td>
          <td id="LC413">		_pTrayIco = <span>new</span> <span>trayIconControler</span>(hwnd, IDI_M30ICON, NPPM_INTERNAL_MINIMIZED_TRAY, icon, <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L414" data-line-number="414"></td>
          <td id="LC414">	}</td>
        </tr>
        <tr>
          <td id="L415" data-line-number="415"></td>
          <td id="LC415">
</td>
        </tr>
        <tr>
          <td id="L416" data-line-number="416"></td>
          <td id="LC416">	<span>checkSyncState</span>();</td>
        </tr>
        <tr>
          <td id="L417" data-line-number="417"></td>
          <td id="LC417">
</td>
        </tr>
        <tr>
          <td id="L418" data-line-number="418"></td>
          <td id="LC418">	<span><span>//</span> Plugin Manager</span></td>
        </tr>
        <tr>
          <td id="L419" data-line-number="419"></td>
          <td id="LC419">	NppData nppData;</td>
        </tr>
        <tr>
          <td id="L420" data-line-number="420"></td>
          <td id="LC420">	nppData.<span>_nppHandle</span> = hwnd;</td>
        </tr>
        <tr>
          <td id="L421" data-line-number="421"></td>
          <td id="LC421">	nppData.<span>_scintillaMainHandle</span> = _mainEditView.<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L422" data-line-number="422"></td>
          <td id="LC422">	nppData.<span>_scintillaSecondHandle</span> = _subEditView.<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L423" data-line-number="423"></td>
          <td id="LC423">
</td>
        </tr>
        <tr>
          <td id="L424" data-line-number="424"></td>
          <td id="LC424">	_scintillaCtrls4Plugins.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L425" data-line-number="425"></td>
          <td id="LC425">	_pluginsManager.<span>init</span>(nppData);</td>
        </tr>
        <tr>
          <td id="L426" data-line-number="426"></td>
          <td id="LC426">
</td>
        </tr>
        <tr>
          <td id="L427" data-line-number="427"></td>
          <td id="LC427">	<span>bool</span> enablePluginAdmin = _pluginsAdminDlg.<span>initFromJson</span>();</td>
        </tr>
        <tr>
          <td id="L428" data-line-number="428"></td>
          <td id="LC428">	_pluginsManager.<span>loadPlugins</span>(nppParam.<span>getPluginRootDir</span>(), enablePluginAdmin ? &amp;_pluginsAdminDlg.<span>getAvailablePluginUpdateInfoList</span>() : <span>nullptr</span>, enablePluginAdmin ? &amp;_pluginsAdminDlg.<span>getIncompatibleList</span>() : <span>nullptr</span>);</td>
        </tr>
        <tr>
          <td id="L429" data-line-number="429"></td>
          <td id="LC429">	_restoreButton.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L430" data-line-number="430"></td>
          <td id="LC430">
</td>
        </tr>
        <tr>
          <td id="L431" data-line-number="431"></td>
          <td id="LC431">	<span><span>//</span> ------------ //</span></td>
        </tr>
        <tr>
          <td id="L432" data-line-number="432"></td>
          <td id="LC432">	<span><span>//</span> Menu Section //</span></td>
        </tr>
        <tr>
          <td id="L433" data-line-number="433"></td>
          <td id="LC433">	<span><span>//</span> ------------ //</span></td>
        </tr>
        <tr>
          <td id="L434" data-line-number="434"></td>
          <td id="LC434">
</td>
        </tr>
        <tr>
          <td id="L435" data-line-number="435"></td>
          <td id="LC435">	<span>setupColorSampleBitmapsOnMainMenuItems</span>();</td>
        </tr>
        <tr>
          <td id="L436" data-line-number="436"></td>
          <td id="LC436">
</td>
        </tr>
        <tr>
          <td id="L437" data-line-number="437"></td>
          <td id="LC437">	<span><span>//</span> Macro Menu</span></td>
        </tr>
        <tr>
          <td id="L438" data-line-number="438"></td>
          <td id="LC438">	std::vector&lt;MacroShortcut&gt; &amp; macros = nppParam.<span>getMacroList</span>();</td>
        </tr>
        <tr>
          <td id="L439" data-line-number="439"></td>
          <td id="LC439">	HMENU hMacroMenu = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_MACRO);</td>
        </tr>
        <tr>
          <td id="L440" data-line-number="440"></td>
          <td id="LC440">	<span>size_t</span> <span>const</span> posBase = <span>6</span>;</td>
        </tr>
        <tr>
          <td id="L441" data-line-number="441"></td>
          <td id="LC441">	<span>size_t</span> nbMacro = macros.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L442" data-line-number="442"></td>
          <td id="LC442">	<span>if</span> (nbMacro &gt;= <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L443" data-line-number="443"></td>
          <td id="LC443">		<span>::InsertMenu</span>(hMacroMenu, posBase - <span>1</span>, MF_BYPOSITION, <span>static_cast</span>&lt;UINT&gt;(-<span>1</span>), 0);</td>
        </tr>
        <tr>
          <td id="L444" data-line-number="444"></td>
          <td id="LC444">
</td>
        </tr>
        <tr>
          <td id="L445" data-line-number="445"></td>
          <td id="LC445">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; nbMacro; ++i)</td>
        </tr>
        <tr>
          <td id="L446" data-line-number="446"></td>
          <td id="LC446">		<span>::InsertMenu</span>(hMacroMenu, <span>static_cast</span>&lt;UINT&gt;(posBase + i), MF_BYPOSITION, ID_MACRO + i, macros[i].toMenuItemString().c_str());</td>
        </tr>
        <tr>
          <td id="L447" data-line-number="447"></td>
          <td id="LC447">
</td>
        </tr>
        <tr>
          <td id="L448" data-line-number="448"></td>
          <td id="LC448">	<span>if</span> (nbMacro &gt;= <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L449" data-line-number="449"></td>
          <td id="LC449">	{</td>
        </tr>
        <tr>
          <td id="L450" data-line-number="450"></td>
          <td id="LC450">		<span>::InsertMenu</span>(hMacroMenu, <span>static_cast</span>&lt;UINT&gt;(posBase + nbMacro + <span>1</span>), MF_BYPOSITION, static_cast&lt;UINT&gt;(-<span>1</span>), 0);</td>
        </tr>
        <tr>
          <td id="L451" data-line-number="451"></td>
          <td id="LC451">		<span>::InsertMenu</span>(hMacroMenu, <span>static_cast</span>&lt;UINT&gt;(posBase + nbMacro + <span>2</span>), MF_BYCOMMAND, IDM_SETTING_SHORTCUT_MAPPER_MACRO, TEXT(<span><span>&#34;</span>Modify Shortcut/Delete Macro...<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L452" data-line-number="452"></td>
          <td id="LC452">	}</td>
        </tr>
        <tr>
          <td id="L453" data-line-number="453"></td>
          <td id="LC453">
</td>
        </tr>
        <tr>
          <td id="L454" data-line-number="454"></td>
          <td id="LC454">	<span><span>//</span> Run Menu</span></td>
        </tr>
        <tr>
          <td id="L455" data-line-number="455"></td>
          <td id="LC455">	std::vector&lt;UserCommand&gt; &amp; userCommands = nppParam.<span>getUserCommandList</span>();</td>
        </tr>
        <tr>
          <td id="L456" data-line-number="456"></td>
          <td id="LC456">	HMENU hRunMenu = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_RUN);</td>
        </tr>
        <tr>
          <td id="L457" data-line-number="457"></td>
          <td id="LC457">	<span>int</span> <span>const</span> runPosBase = <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L458" data-line-number="458"></td>
          <td id="LC458">	<span>size_t</span> nbUserCommand = userCommands.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L459" data-line-number="459"></td>
          <td id="LC459">	<span>if</span> (nbUserCommand &gt;= <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L460" data-line-number="460"></td>
          <td id="LC460">		<span>::InsertMenu</span>(hRunMenu, runPosBase - <span>1</span>, MF_BYPOSITION, <span>static_cast</span>&lt;UINT&gt;(-<span>1</span>), 0);</td>
        </tr>
        <tr>
          <td id="L461" data-line-number="461"></td>
          <td id="LC461">
</td>
        </tr>
        <tr>
          <td id="L462" data-line-number="462"></td>
          <td id="LC462">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; nbUserCommand; ++i)</td>
        </tr>
        <tr>
          <td id="L463" data-line-number="463"></td>
          <td id="LC463">	{</td>
        </tr>
        <tr>
          <td id="L464" data-line-number="464"></td>
          <td id="LC464">		<span>::InsertMenu</span>(hRunMenu, <span>static_cast</span>&lt;UINT&gt;(runPosBase + i), MF_BYPOSITION, ID_USER_CMD + i, userCommands[i].toMenuItemString().c_str());</td>
        </tr>
        <tr>
          <td id="L465" data-line-number="465"></td>
          <td id="LC465">	}</td>
        </tr>
        <tr>
          <td id="L466" data-line-number="466"></td>
          <td id="LC466">
</td>
        </tr>
        <tr>
          <td id="L467" data-line-number="467"></td>
          <td id="LC467">	<span>if</span> (nbUserCommand &gt;= <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L468" data-line-number="468"></td>
          <td id="LC468">	{</td>
        </tr>
        <tr>
          <td id="L469" data-line-number="469"></td>
          <td id="LC469">		<span>::InsertMenu</span>(hRunMenu, <span>static_cast</span>&lt;UINT&gt;(runPosBase + nbUserCommand + <span>1</span>), MF_BYPOSITION, static_cast&lt;UINT&gt;(-<span>1</span>), 0);</td>
        </tr>
        <tr>
          <td id="L470" data-line-number="470"></td>
          <td id="LC470">		<span>::InsertMenu</span>(hRunMenu, <span>static_cast</span>&lt;UINT&gt;(runPosBase + nbUserCommand + <span>2</span>), MF_BYCOMMAND, IDM_SETTING_SHORTCUT_MAPPER_RUN, TEXT(<span><span>&#34;</span>Modify Shortcut/Delete Command...<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L471" data-line-number="471"></td>
          <td id="LC471">	}</td>
        </tr>
        <tr>
          <td id="L472" data-line-number="472"></td>
          <td id="LC472">
</td>
        </tr>
        <tr>
          <td id="L473" data-line-number="473"></td>
          <td id="LC473">	<span><span>//</span> Updater menu item</span></td>
        </tr>
        <tr>
          <td id="L474" data-line-number="474"></td>
          <td id="LC474">	<span>if</span> (!nppGUI.<span>_doesExistUpdater</span>)</td>
        </tr>
        <tr>
          <td id="L475" data-line-number="475"></td>
          <td id="LC475">	{</td>
        </tr>
        <tr>
          <td id="L476" data-line-number="476"></td>
          <td id="LC476">		<span>::DeleteMenu</span>(_mainMenuHandle, IDM_UPDATE_NPP, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L477" data-line-number="477"></td>
          <td id="LC477">		<span>::DeleteMenu</span>(_mainMenuHandle, IDM_CONFUPDATERPROXY, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L478" data-line-number="478"></td>
          <td id="LC478">		HMENU hHelpMenu = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_HELP);</td>
        </tr>
        <tr>
          <td id="L479" data-line-number="479"></td>
          <td id="LC479">		<span>if</span> (hHelpMenu)</td>
        </tr>
        <tr>
          <td id="L480" data-line-number="480"></td>
          <td id="LC480">			<span>::DeleteMenu</span>(hHelpMenu, <span>7</span>, MF_BYPOSITION); <span><span>//</span> SEPARATOR</span></td>
        </tr>
        <tr>
          <td id="L481" data-line-number="481"></td>
          <td id="LC481">		<span>::DrawMenuBar</span>(hwnd);</td>
        </tr>
        <tr>
          <td id="L482" data-line-number="482"></td>
          <td id="LC482">	}</td>
        </tr>
        <tr>
          <td id="L483" data-line-number="483"></td>
          <td id="LC483">	<span><span>//</span>Languages Menu</span></td>
        </tr>
        <tr>
          <td id="L484" data-line-number="484"></td>
          <td id="LC484">	HMENU hLangMenu = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_LANGUAGE);</td>
        </tr>
        <tr>
          <td id="L485" data-line-number="485"></td>
          <td id="LC485">
</td>
        </tr>
        <tr>
          <td id="L486" data-line-number="486"></td>
          <td id="LC486">	WcharMbcsConvertor&amp; wmc = <span>WcharMbcsConvertor::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L487" data-line-number="487"></td>
          <td id="LC487">	<span><span>//</span> Add external languages to menu</span></td>
        </tr>
        <tr>
          <td id="L488" data-line-number="488"></td>
          <td id="LC488">	<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; nppParam.<span>getNbExternalLang</span>(); ++i)</td>
        </tr>
        <tr>
          <td id="L489" data-line-number="489"></td>
          <td id="LC489">	{</td>
        </tr>
        <tr>
          <td id="L490" data-line-number="490"></td>
          <td id="LC490">		ExternalLangContainer &amp; externalLangContainer = nppParam.<span>getELCFromIndex</span>(i);</td>
        </tr>
        <tr>
          <td id="L491" data-line-number="491"></td>
          <td id="LC491">
</td>
        </tr>
        <tr>
          <td id="L492" data-line-number="492"></td>
          <td id="LC492">		<span>int</span> numLangs = ::<span>GetMenuItemCount</span>(hLangMenu);</td>
        </tr>
        <tr>
          <td id="L493" data-line-number="493"></td>
          <td id="LC493">		<span>const</span> <span>int</span> bufferSize = <span>100</span>;</td>
        </tr>
        <tr>
          <td id="L494" data-line-number="494"></td>
          <td id="LC494">		TCHAR buffer[bufferSize] = { <span><span>&#39;</span><span>\0</span><span>&#39;</span></span> };</td>
        </tr>
        <tr>
          <td id="L495" data-line-number="495"></td>
          <td id="LC495">		<span>const</span> TCHAR* lexerNameW = wmc.<span>char2wchar</span>(externalLangContainer.<span>_name</span>.<span>c_str</span>(), CP_ACP);</td>
        </tr>
        <tr>
          <td id="L496" data-line-number="496"></td>
          <td id="LC496">
</td>
        </tr>
        <tr>
          <td id="L497" data-line-number="497"></td>
          <td id="LC497">		<span>int</span> x = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L498" data-line-number="498"></td>
          <td id="LC498">		<span>for</span> (; (x == <span>0</span> || <span>lstrcmp</span>(lexerNameW, buffer) &gt; <span>0</span>) &amp;&amp; x &lt; numLangs; ++x)</td>
        </tr>
        <tr>
          <td id="L499" data-line-number="499"></td>
          <td id="LC499">		{</td>
        </tr>
        <tr>
          <td id="L500" data-line-number="500"></td>
          <td id="LC500">			<span>::GetMenuString</span>(hLangMenu, x, buffer, bufferSize, MF_BYPOSITION);</td>
        </tr>
        <tr>
          <td id="L501" data-line-number="501"></td>
          <td id="LC501">		}</td>
        </tr>
        <tr>
          <td id="L502" data-line-number="502"></td>
          <td id="LC502">
</td>
        </tr>
        <tr>
          <td id="L503" data-line-number="503"></td>
          <td id="LC503">		<span>::InsertMenu</span>(hLangMenu, x - <span>1</span>, MF_BYPOSITION, IDM_LANG_EXTERNAL + i, lexerNameW);</td>
        </tr>
        <tr>
          <td id="L504" data-line-number="504"></td>
          <td id="LC504">	}</td>
        </tr>
        <tr>
          <td id="L505" data-line-number="505"></td>
          <td id="LC505">
</td>
        </tr>
        <tr>
          <td id="L506" data-line-number="506"></td>
          <td id="LC506">	<span>if</span> (nppGUI.<span>_excludedLangList</span>.<span>size</span>() &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L507" data-line-number="507"></td>
          <td id="LC507">	{</td>
        </tr>
        <tr>
          <td id="L508" data-line-number="508"></td>
          <td id="LC508">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = nppGUI.<span>_excludedLangList</span>.<span>size</span>(); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L509" data-line-number="509"></td>
          <td id="LC509">		{</td>
        </tr>
        <tr>
          <td id="L510" data-line-number="510"></td>
          <td id="LC510">			<span>int</span> cmdID = nppParam.<span>langTypeToCommandID</span>(nppGUI.<span>_excludedLangList</span>[i].<span>_langType</span>);</td>
        </tr>
        <tr>
          <td id="L511" data-line-number="511"></td>
          <td id="LC511">			<span>const</span> <span>int</span> itemSize = <span>256</span>;</td>
        </tr>
        <tr>
          <td id="L512" data-line-number="512"></td>
          <td id="LC512">			TCHAR itemName[itemSize];</td>
        </tr>
        <tr>
          <td id="L513" data-line-number="513"></td>
          <td id="LC513">			<span>::GetMenuString</span>(hLangMenu, cmdID, itemName, itemSize, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L514" data-line-number="514"></td>
          <td id="LC514">			nppGUI.<span>_excludedLangList</span>[i].<span>_cmdID</span> = cmdID;</td>
        </tr>
        <tr>
          <td id="L515" data-line-number="515"></td>
          <td id="LC515">			nppGUI.<span>_excludedLangList</span>[i].<span>_langName</span> = itemName;</td>
        </tr>
        <tr>
          <td id="L516" data-line-number="516"></td>
          <td id="LC516">			<span>::DeleteMenu</span>(hLangMenu, cmdID, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L517" data-line-number="517"></td>
          <td id="LC517">			<span>DrawMenuBar</span>(hwnd);</td>
        </tr>
        <tr>
          <td id="L518" data-line-number="518"></td>
          <td id="LC518">		}</td>
        </tr>
        <tr>
          <td id="L519" data-line-number="519"></td>
          <td id="LC519">	}</td>
        </tr>
        <tr>
          <td id="L520" data-line-number="520"></td>
          <td id="LC520">
</td>
        </tr>
        <tr>
          <td id="L521" data-line-number="521"></td>
          <td id="LC521">	<span><span>//</span> Add User Defined Languages Entry</span></td>
        </tr>
        <tr>
          <td id="L522" data-line-number="522"></td>
          <td id="LC522">	<span>int</span> udlpos = ::<span>GetMenuItemCount</span>(hLangMenu) - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L523" data-line-number="523"></td>
          <td id="LC523">
</td>
        </tr>
        <tr>
          <td id="L524" data-line-number="524"></td>
          <td id="LC524">	<span>for</span> (<span>int</span> i = <span>0</span>, len = nppParam.<span>getNbUserLang</span>(); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L525" data-line-number="525"></td>
          <td id="LC525">	{</td>
        </tr>
        <tr>
          <td id="L526" data-line-number="526"></td>
          <td id="LC526">		UserLangContainer &amp; userLangContainer = nppParam.<span>getULCFromIndex</span>(i);</td>
        </tr>
        <tr>
          <td id="L527" data-line-number="527"></td>
          <td id="LC527">		<span>::InsertMenu</span>(hLangMenu, udlpos + i, MF_BYPOSITION, IDM_LANG_USER + i + <span>1</span>, userLangContainer.getName());</td>
        </tr>
        <tr>
          <td id="L528" data-line-number="528"></td>
          <td id="LC528">	}</td>
        </tr>
        <tr>
          <td id="L529" data-line-number="529"></td>
          <td id="LC529">
</td>
        </tr>
        <tr>
          <td id="L530" data-line-number="530"></td>
          <td id="LC530">	<span><span>//</span>Add recent files</span></td>
        </tr>
        <tr>
          <td id="L531" data-line-number="531"></td>
          <td id="LC531">	HMENU hFileMenu = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_FILE);</td>
        </tr>
        <tr>
          <td id="L532" data-line-number="532"></td>
          <td id="LC532">	<span>int</span> nbLRFile = nppParam.<span>getNbLRFile</span>();</td>
        </tr>
        <tr>
          <td id="L533" data-line-number="533"></td>
          <td id="LC533">	<span><span>//</span>int pos = IDM_FILEMENU_LASTONE - IDM_FILE + 1 /* +1 : because of  IDM_FILE_PRINTNOW */;</span></td>
        </tr>
        <tr>
          <td id="L534" data-line-number="534"></td>
          <td id="LC534">
</td>
        </tr>
        <tr>
          <td id="L535" data-line-number="535"></td>
          <td id="LC535">	_lastRecentFileList.<span>initMenu</span>(hFileMenu, IDM_FILEMENU_LASTONE + <span>1</span>, IDM_FILEMENU_EXISTCMDPOSITION, &amp;_accelerator, nppParam.<span>putRecentFileInSubMenu</span>());</td>
        </tr>
        <tr>
          <td id="L536" data-line-number="536"></td>
          <td id="LC536">	_lastRecentFileList.<span>setLangEncoding</span>(_nativeLangSpeaker.<span>getLangEncoding</span>());</td>
        </tr>
        <tr>
          <td id="L537" data-line-number="537"></td>
          <td id="LC537">	<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; nbLRFile; ++i)</td>
        </tr>
        <tr>
          <td id="L538" data-line-number="538"></td>
          <td id="LC538">	{</td>
        </tr>
        <tr>
          <td id="L539" data-line-number="539"></td>
          <td id="LC539">		generic_string * stdStr = nppParam.<span>getLRFile</span>(i);</td>
        </tr>
        <tr>
          <td id="L540" data-line-number="540"></td>
          <td id="LC540">		<span>if</span> (!nppGUI.<span>_checkHistoryFiles</span> || <span>PathFileExists</span>(stdStr-&gt;<span>c_str</span>()))</td>
        </tr>
        <tr>
          <td id="L541" data-line-number="541"></td>
          <td id="LC541">		{</td>
        </tr>
        <tr>
          <td id="L542" data-line-number="542"></td>
          <td id="LC542">			_lastRecentFileList.<span>add</span>(stdStr-&gt;<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L543" data-line-number="543"></td>
          <td id="LC543">		}</td>
        </tr>
        <tr>
          <td id="L544" data-line-number="544"></td>
          <td id="LC544">	}</td>
        </tr>
        <tr>
          <td id="L545" data-line-number="545"></td>
          <td id="LC545">
</td>
        </tr>
        <tr>
          <td id="L546" data-line-number="546"></td>
          <td id="LC546">	<span><span>//</span>Plugin menu</span></td>
        </tr>
        <tr>
          <td id="L547" data-line-number="547"></td>
          <td id="LC547">	_pluginsAdminDlg.<span>setPluginsManager</span>(&amp;_pluginsManager);</td>
        </tr>
        <tr>
          <td id="L548" data-line-number="548"></td>
          <td id="LC548">	_pluginsManager.<span>initMenu</span>(_mainMenuHandle, enablePluginAdmin);</td>
        </tr>
        <tr>
          <td id="L549" data-line-number="549"></td>
          <td id="LC549">
</td>
        </tr>
        <tr>
          <td id="L550" data-line-number="550"></td>
          <td id="LC550">	<span><span>//</span>Search menu</span></td>
        </tr>
        <tr>
          <td id="L551" data-line-number="551"></td>
          <td id="LC551">	<span><span>//</span>disable &#34;Search Results Window&#34; under Search Menu </span></td>
        </tr>
        <tr>
          <td id="L552" data-line-number="552"></td>
          <td id="LC552">	<span>::EnableMenuItem</span>(_mainMenuHandle, IDM_FOCUS_ON_FOUND_RESULTS, MF_DISABLED | MF_GRAYED | MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L553" data-line-number="553"></td>
          <td id="LC553">
</td>
        </tr>
        <tr>
          <td id="L554" data-line-number="554"></td>
          <td id="LC554">	<span><span>//</span>Main menu is loaded, now load context menu items</span></td>
        </tr>
        <tr>
          <td id="L555" data-line-number="555"></td>
          <td id="LC555">	nppParam.<span>getContextMenuFromXmlTree</span>(_mainMenuHandle, _pluginsManager.<span>getMenuHandle</span>());</td>
        </tr>
        <tr>
          <td id="L556" data-line-number="556"></td>
          <td id="LC556">
</td>
        </tr>
        <tr>
          <td id="L557" data-line-number="557"></td>
          <td id="LC557">	<span>if</span> (nppParam.<span>hasCustomContextMenu</span>())</td>
        </tr>
        <tr>
          <td id="L558" data-line-number="558"></td>
          <td id="LC558">	{</td>
        </tr>
        <tr>
          <td id="L559" data-line-number="559"></td>
          <td id="LC559">		_mainEditView.<span>execute</span>(SCI_USEPOPUP, <span>FALSE</span>);</td>
        </tr>
        <tr>
          <td id="L560" data-line-number="560"></td>
          <td id="LC560">		_subEditView.<span>execute</span>(SCI_USEPOPUP, <span>FALSE</span>);</td>
        </tr>
        <tr>
          <td id="L561" data-line-number="561"></td>
          <td id="LC561">	}</td>
        </tr>
        <tr>
          <td id="L562" data-line-number="562"></td>
          <td id="LC562">
</td>
        </tr>
        <tr>
          <td id="L563" data-line-number="563"></td>
          <td id="LC563">	_nativeLangSpeaker.<span>changeMenuLang</span>(_mainMenuHandle);</td>
        </tr>
        <tr>
          <td id="L564" data-line-number="564"></td>
          <td id="LC564">	<span>::DrawMenuBar</span>(hwnd);</td>
        </tr>
        <tr>
          <td id="L565" data-line-number="565"></td>
          <td id="LC565">
</td>
        </tr>
        <tr>
          <td id="L566" data-line-number="566"></td>
          <td id="LC566">
</td>
        </tr>
        <tr>
          <td id="L567" data-line-number="567"></td>
          <td id="LC567">	<span><span>//</span>Windows menu</span></td>
        </tr>
        <tr>
          <td id="L568" data-line-number="568"></td>
          <td id="LC568">	_windowsMenu.<span>init</span>(_mainMenuHandle);</td>
        </tr>
        <tr>
          <td id="L569" data-line-number="569"></td>
          <td id="LC569">
</td>
        </tr>
        <tr>
          <td id="L570" data-line-number="570"></td>
          <td id="LC570">	<span><span>//</span> Update context menu strings (translated)</span></td>
        </tr>
        <tr>
          <td id="L571" data-line-number="571"></td>
          <td id="LC571">	vector&lt;MenuItemUnit&gt; &amp; tmp = nppParam.<span>getContextMenuItems</span>();</td>
        </tr>
        <tr>
          <td id="L572" data-line-number="572"></td>
          <td id="LC572">	<span>size_t</span> len = tmp.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L573" data-line-number="573"></td>
          <td id="LC573">	TCHAR menuName[<span>64</span>];</td>
        </tr>
        <tr>
          <td id="L574" data-line-number="574"></td>
          <td id="LC574">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L575" data-line-number="575"></td>
          <td id="LC575">	{</td>
        </tr>
        <tr>
          <td id="L576" data-line-number="576"></td>
          <td id="LC576">		<span>if</span> (tmp[i].<span>_itemName</span>.<span>empty</span>())</td>
        </tr>
        <tr>
          <td id="L577" data-line-number="577"></td>
          <td id="LC577">		{</td>
        </tr>
        <tr>
          <td id="L578" data-line-number="578"></td>
          <td id="LC578">			<span>::GetMenuString</span>(_mainMenuHandle, tmp[i]._cmdID, menuName, <span>64</span>, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L579" data-line-number="579"></td>
          <td id="LC579">			tmp[i].<span>_itemName</span> = <span>purgeMenuItemString</span>(menuName);</td>
        </tr>
        <tr>
          <td id="L580" data-line-number="580"></td>
          <td id="LC580">		}</td>
        </tr>
        <tr>
          <td id="L581" data-line-number="581"></td>
          <td id="LC581">	}</td>
        </tr>
        <tr>
          <td id="L582" data-line-number="582"></td>
          <td id="LC582">
</td>
        </tr>
        <tr>
          <td id="L583" data-line-number="583"></td>
          <td id="LC583">	<span>updateCommandShortcuts</span>();</td>
        </tr>
        <tr>
          <td id="L584" data-line-number="584"></td>
          <td id="LC584">
</td>
        </tr>
        <tr>
          <td id="L585" data-line-number="585"></td>
          <td id="LC585">	<span><span>//</span>Translate non-menu shortcuts</span></td>
        </tr>
        <tr>
          <td id="L586" data-line-number="586"></td>
          <td id="LC586">	_nativeLangSpeaker.<span>changeShortcutLang</span>();</td>
        </tr>
        <tr>
          <td id="L587" data-line-number="587"></td>
          <td id="LC587">
</td>
        </tr>
        <tr>
          <td id="L588" data-line-number="588"></td>
          <td id="LC588">	<span><span>//</span>Update plugin shortcuts, all plugin commands should be available now</span></td>
        </tr>
        <tr>
          <td id="L589" data-line-number="589"></td>
          <td id="LC589">	nppParam.<span>reloadPluginCmds</span>();</td>
        </tr>
        <tr>
          <td id="L590" data-line-number="590"></td>
          <td id="LC590">
</td>
        </tr>
        <tr>
          <td id="L591" data-line-number="591"></td>
          <td id="LC591">	<span><span>//</span> Shortcut Accelerator : should be the last one since it will capture all the shortcuts</span></td>
        </tr>
        <tr>
          <td id="L592" data-line-number="592"></td>
          <td id="LC592">	_accelerator.<span>init</span>(_mainMenuHandle, hwnd);</td>
        </tr>
        <tr>
          <td id="L593" data-line-number="593"></td>
          <td id="LC593">	nppParam.<span>setAccelerator</span>(&amp;_accelerator);</td>
        </tr>
        <tr>
          <td id="L594" data-line-number="594"></td>
          <td id="LC594">
</td>
        </tr>
        <tr>
          <td id="L595" data-line-number="595"></td>
          <td id="LC595">	<span><span>//</span> Scintilla key accelerator</span></td>
        </tr>
        <tr>
          <td id="L596" data-line-number="596"></td>
          <td id="LC596">	vector&lt;HWND&gt; scints;</td>
        </tr>
        <tr>
          <td id="L597" data-line-number="597"></td>
          <td id="LC597">	scints.<span>push_back</span>(_mainEditView.<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L598" data-line-number="598"></td>
          <td id="LC598">	scints.<span>push_back</span>(_subEditView.<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L599" data-line-number="599"></td>
          <td id="LC599">	_scintaccelerator.<span>init</span>(&amp;scints, _mainMenuHandle, hwnd);</td>
        </tr>
        <tr>
          <td id="L600" data-line-number="600"></td>
          <td id="LC600">
</td>
        </tr>
        <tr>
          <td id="L601" data-line-number="601"></td>
          <td id="LC601">	nppParam.<span>setScintillaAccelerator</span>(&amp;_scintaccelerator);</td>
        </tr>
        <tr>
          <td id="L602" data-line-number="602"></td>
          <td id="LC602">	_scintaccelerator.<span>updateKeys</span>();</td>
        </tr>
        <tr>
          <td id="L603" data-line-number="603"></td>
          <td id="LC603">
</td>
        </tr>
        <tr>
          <td id="L604" data-line-number="604"></td>
          <td id="LC604">	<span>::DrawMenuBar</span>(hwnd);</td>
        </tr>
        <tr>
          <td id="L605" data-line-number="605"></td>
          <td id="LC605">
</td>
        </tr>
        <tr>
          <td id="L606" data-line-number="606"></td>
          <td id="LC606">
</td>
        </tr>
        <tr>
          <td id="L607" data-line-number="607"></td>
          <td id="LC607">	<span><span>//</span>-- Tool Bar Section --//</span></td>
        </tr>
        <tr>
          <td id="L608" data-line-number="608"></td>
          <td id="LC608">	toolBarStatusType tbStatus = nppGUI.<span>_toolBarStatus</span>;</td>
        </tr>
        <tr>
          <td id="L609" data-line-number="609"></td>
          <td id="LC609">	willBeShown = nppGUI.<span>_toolbarShow</span>;</td>
        </tr>
        <tr>
          <td id="L610" data-line-number="610"></td>
          <td id="LC610">
</td>
        </tr>
        <tr>
          <td id="L611" data-line-number="611"></td>
          <td id="LC611">	<span><span>//</span> To notify plugins that toolbar icons can be registered</span></td>
        </tr>
        <tr>
          <td id="L612" data-line-number="612"></td>
          <td id="LC612">	SCNotification scnN{};</td>
        </tr>
        <tr>
          <td id="L613" data-line-number="613"></td>
          <td id="LC613">	scnN.<span>nmhdr</span>.<span>code</span> = NPPN_TBMODIFICATION;</td>
        </tr>
        <tr>
          <td id="L614" data-line-number="614"></td>
          <td id="LC614">	scnN.<span>nmhdr</span>.<span>hwndFrom</span> = hwnd;</td>
        </tr>
        <tr>
          <td id="L615" data-line-number="615"></td>
          <td id="LC615">	scnN.<span>nmhdr</span>.<span>idFrom</span> = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L616" data-line-number="616"></td>
          <td id="LC616">	_pluginsManager.<span>notify</span>(&amp;scnN);</td>
        </tr>
        <tr>
          <td id="L617" data-line-number="617"></td>
          <td id="LC617">
</td>
        </tr>
        <tr>
          <td id="L618" data-line-number="618"></td>
          <td id="LC618">	_toolBar.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, tbStatus, toolBarIcons, <span>sizeof</span>(toolBarIcons) / <span>sizeof</span>(ToolBarButtonUnit));</td>
        </tr>
        <tr>
          <td id="L619" data-line-number="619"></td>
          <td id="LC619">
</td>
        </tr>
        <tr>
          <td id="L620" data-line-number="620"></td>
          <td id="LC620">	_rebarTop.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L621" data-line-number="621"></td>
          <td id="LC621">	_rebarBottom.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L622" data-line-number="622"></td>
          <td id="LC622">	_toolBar.<span>addToRebar</span>(&amp;_rebarTop);</td>
        </tr>
        <tr>
          <td id="L623" data-line-number="623"></td>
          <td id="LC623">	_rebarTop.<span>setIDVisible</span>(REBAR_BAR_TOOLBAR, willBeShown);</td>
        </tr>
        <tr>
          <td id="L624" data-line-number="624"></td>
          <td id="LC624">
</td>
        </tr>
        <tr>
          <td id="L625" data-line-number="625"></td>
          <td id="LC625">	<span>checkMacroState</span>();</td>
        </tr>
        <tr>
          <td id="L626" data-line-number="626"></td>
          <td id="LC626">
</td>
        </tr>
        <tr>
          <td id="L627" data-line-number="627"></td>
          <td id="LC627">	<span><span>//</span>--Init dialogs--//</span></td>
        </tr>
        <tr>
          <td id="L628" data-line-number="628"></td>
          <td id="LC628">	_findReplaceDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L629" data-line-number="629"></td>
          <td id="LC629">	_findInFinderDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L630" data-line-number="630"></td>
          <td id="LC630">	_incrementFindDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_findReplaceDlg, _nativeLangSpeaker.<span>isRTL</span>());</td>
        </tr>
        <tr>
          <td id="L631" data-line-number="631"></td>
          <td id="LC631">	_incrementFindDlg.<span>addToRebar</span>(&amp;_rebarBottom);</td>
        </tr>
        <tr>
          <td id="L632" data-line-number="632"></td>
          <td id="LC632">	_goToLineDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L633" data-line-number="633"></td>
          <td id="LC633">	_findCharsInRangeDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L634" data-line-number="634"></td>
          <td id="LC634">	_colEditorDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L635" data-line-number="635"></td>
          <td id="LC635">	_aboutDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L636" data-line-number="636"></td>
          <td id="LC636">	_debugInfoDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd, _isAdministrator, _pluginsManager.<span>getLoadedPluginNames</span>());</td>
        </tr>
        <tr>
          <td id="L637" data-line-number="637"></td>
          <td id="LC637">	_runDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L638" data-line-number="638"></td>
          <td id="LC638">	_runMacroDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L639" data-line-number="639"></td>
          <td id="LC639">	_documentPeeker.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L640" data-line-number="640"></td>
          <td id="LC640">
</td>
        </tr>
        <tr>
          <td id="L641" data-line-number="641"></td>
          <td id="LC641">	_md5FromFilesDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L642" data-line-number="642"></td>
          <td id="LC642">	_md5FromFilesDlg.<span>setHashType</span>(hash_md5);</td>
        </tr>
        <tr>
          <td id="L643" data-line-number="643"></td>
          <td id="LC643">	_md5FromTextDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L644" data-line-number="644"></td>
          <td id="LC644">	_md5FromTextDlg.<span>setHashType</span>(hash_md5);</td>
        </tr>
        <tr>
          <td id="L645" data-line-number="645"></td>
          <td id="LC645">	_sha2FromFilesDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L646" data-line-number="646"></td>
          <td id="LC646">	_sha2FromFilesDlg.<span>setHashType</span>(hash_sha256);</td>
        </tr>
        <tr>
          <td id="L647" data-line-number="647"></td>
          <td id="LC647">	_sha2FromTextDlg.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), hwnd);</td>
        </tr>
        <tr>
          <td id="L648" data-line-number="648"></td>
          <td id="LC648">	_sha2FromTextDlg.<span>setHashType</span>(hash_sha256);</td>
        </tr>
        <tr>
          <td id="L649" data-line-number="649"></td>
          <td id="LC649">
</td>
        </tr>
        <tr>
          <td id="L650" data-line-number="650"></td>
          <td id="LC650">
</td>
        </tr>
        <tr>
          <td id="L651" data-line-number="651"></td>
          <td id="LC651">	<span><span>//</span>--User Define Dialog Section--//</span></td>
        </tr>
        <tr>
          <td id="L652" data-line-number="652"></td>
          <td id="LC652">	<span>int</span> uddStatus = nppGUI.<span>_userDefineDlgStatus</span>;</td>
        </tr>
        <tr>
          <td id="L653" data-line-number="653"></td>
          <td id="LC653">	UserDefineDialog *udd = _pEditView-&gt;<span>getUserDefineDlg</span>();</td>
        </tr>
        <tr>
          <td id="L654" data-line-number="654"></td>
          <td id="LC654">
</td>
        </tr>
        <tr>
          <td id="L655" data-line-number="655"></td>
          <td id="LC655">	<span>bool</span> uddShow = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L656" data-line-number="656"></td>
          <td id="LC656">	<span>switch</span> (uddStatus)</td>
        </tr>
        <tr>
          <td id="L657" data-line-number="657"></td>
          <td id="LC657">	{</td>
        </tr>
        <tr>
          <td id="L658" data-line-number="658"></td>
          <td id="LC658">		<span>case</span> UDD_SHOW: <span><span>//</span> show &amp; undocked</span></td>
        </tr>
        <tr>
          <td id="L659" data-line-number="659"></td>
          <td id="LC659">		{</td>
        </tr>
        <tr>
          <td id="L660" data-line-number="660"></td>
          <td id="LC660">			udd-&gt;<span>doDialog</span>(<span>true</span>, _nativeLangSpeaker.<span>isRTL</span>());</td>
        </tr>
        <tr>
          <td id="L661" data-line-number="661"></td>
          <td id="LC661">			_nativeLangSpeaker.<span>changeUserDefineLang</span>(udd);</td>
        </tr>
        <tr>
          <td id="L662" data-line-number="662"></td>
          <td id="LC662">			uddShow = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L663" data-line-number="663"></td>
          <td id="LC663">			<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L664" data-line-number="664"></td>
          <td id="LC664">		}</td>
        </tr>
        <tr>
          <td id="L665" data-line-number="665"></td>
          <td id="LC665">		<span>case</span> UDD_DOCKED: <span><span>//</span> hide &amp; docked</span></td>
        </tr>
        <tr>
          <td id="L666" data-line-number="666"></td>
          <td id="LC666">		{</td>
        </tr>
        <tr>
          <td id="L667" data-line-number="667"></td>
          <td id="LC667">			_isUDDocked = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L668" data-line-number="668"></td>
          <td id="LC668">			<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L669" data-line-number="669"></td>
          <td id="LC669">		}</td>
        </tr>
        <tr>
          <td id="L670" data-line-number="670"></td>
          <td id="LC670">		<span>case</span> (UDD_SHOW | UDD_DOCKED):    <span><span>//</span> show &amp; docked</span></td>
        </tr>
        <tr>
          <td id="L671" data-line-number="671"></td>
          <td id="LC671">		{</td>
        </tr>
        <tr>
          <td id="L672" data-line-number="672"></td>
          <td id="LC672">			udd-&gt;<span>doDialog</span>(<span>true</span>, _nativeLangSpeaker.<span>isRTL</span>());</td>
        </tr>
        <tr>
          <td id="L673" data-line-number="673"></td>
          <td id="LC673">			_nativeLangSpeaker.<span>changeUserDefineLang</span>(udd);</td>
        </tr>
        <tr>
          <td id="L674" data-line-number="674"></td>
          <td id="LC674">			<span>::SendMessage</span>(udd-&gt;<span>getHSelf</span>(), WM_COMMAND, IDC_DOCK_BUTTON, 0);</td>
        </tr>
        <tr>
          <td id="L675" data-line-number="675"></td>
          <td id="LC675">			uddShow = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L676" data-line-number="676"></td>
          <td id="LC676">			<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L677" data-line-number="677"></td>
          <td id="LC677">		}</td>
        </tr>
        <tr>
          <td id="L678" data-line-number="678"></td>
          <td id="LC678">
</td>
        </tr>
        <tr>
          <td id="L679" data-line-number="679"></td>
          <td id="LC679">		<span>default</span>: <span><span>//</span> hide &amp; undocked</span></td>
        </tr>
        <tr>
          <td id="L680" data-line-number="680"></td>
          <td id="LC680">			<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L681" data-line-number="681"></td>
          <td id="LC681">	}</td>
        </tr>
        <tr>
          <td id="L682" data-line-number="682"></td>
          <td id="LC682">
</td>
        </tr>
        <tr>
          <td id="L683" data-line-number="683"></td>
          <td id="LC683">	<span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L684" data-line-number="684"></td>
          <td id="LC684">	<span><span>//</span> Menu &amp; toolbar for UserDefine Dialog</span></td>
        </tr>
        <tr>
          <td id="L685" data-line-number="685"></td>
          <td id="LC685">	<span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L686" data-line-number="686"></td>
          <td id="LC686">	<span>checkMenuItem</span>(IDM_LANG_USER_DLG, uddShow);</td>
        </tr>
        <tr>
          <td id="L687" data-line-number="687"></td>
          <td id="LC687">	_toolBar.setCheck(IDM_LANG_USER_DLG, uddShow);</td>
        </tr>
        <tr>
          <td id="L688" data-line-number="688"></td>
          <td id="LC688">
</td>
        </tr>
        <tr>
          <td id="L689" data-line-number="689"></td>
          <td id="LC689">	<span><span>//</span>Hide or show the right shortcuts &#34;&#34; &#34;&#34; &#34;&#34; of main menu bar</span></td>
        </tr>
        <tr>
          <td id="L690" data-line-number="690"></td>
          <td id="LC690">	<span>if</span> (nppGUI.<span>_hideMenuRightShortcuts</span>)</td>
        </tr>
        <tr>
          <td id="L691" data-line-number="691"></td>
          <td id="LC691">	{</td>
        </tr>
        <tr>
          <td id="L692" data-line-number="692"></td>
          <td id="LC692">		<span>int</span> nbRemoved = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L693" data-line-number="693"></td>
          <td id="LC693">		<span>const</span> <span>int</span> bufferSize = <span>64</span>;</td>
        </tr>
        <tr>
          <td id="L694" data-line-number="694"></td>
          <td id="LC694">		TCHAR buffer[bufferSize];</td>
        </tr>
        <tr>
          <td id="L695" data-line-number="695"></td>
          <td id="LC695">		<span>int</span> nbItem = <span>GetMenuItemCount</span>(_mainMenuHandle);</td>
        </tr>
        <tr>
          <td id="L696" data-line-number="696"></td>
          <td id="LC696">		<span>for</span> (<span>int</span> i = nbItem - <span>1</span>; i &gt;= <span>0</span>; --i)</td>
        </tr>
        <tr>
          <td id="L697" data-line-number="697"></td>
          <td id="LC697">		{</td>
        </tr>
        <tr>
          <td id="L698" data-line-number="698"></td>
          <td id="LC698">			<span>::GetMenuStringW</span>(_mainMenuHandle, i, buffer, bufferSize, MF_BYPOSITION);</td>
        </tr>
        <tr>
          <td id="L699" data-line-number="699"></td>
          <td id="LC699">			<span>if</span> (<span>lstrcmp</span>(buffer, <span><span>L&#34;</span><span>&#34;</span></span>) == <span>0</span> || <span>lstrcmp</span>(buffer, <span><span>L&#34;</span><span>&#34;</span></span>) == <span>0</span> || <span>lstrcmp</span>(buffer, <span><span>L&#34;</span><span>&#34;</span></span>) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L700" data-line-number="700"></td>
          <td id="LC700">			{</td>
        </tr>
        <tr>
          <td id="L701" data-line-number="701"></td>
          <td id="LC701">				<span>::RemoveMenu</span>(_mainMenuHandle, i, MF_BYPOSITION);</td>
        </tr>
        <tr>
          <td id="L702" data-line-number="702"></td>
          <td id="LC702">				++nbRemoved;</td>
        </tr>
        <tr>
          <td id="L703" data-line-number="703"></td>
          <td id="LC703">			}</td>
        </tr>
        <tr>
          <td id="L704" data-line-number="704"></td>
          <td id="LC704">			<span>if</span> (nbRemoved == <span>3</span>)</td>
        </tr>
        <tr>
          <td id="L705" data-line-number="705"></td>
          <td id="LC705">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L706" data-line-number="706"></td>
          <td id="LC706">		}</td>
        </tr>
        <tr>
          <td id="L707" data-line-number="707"></td>
          <td id="LC707">		<span>if</span> (nbRemoved &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L708" data-line-number="708"></td>
          <td id="LC708">			<span>::DrawMenuBar</span>(hwnd);</td>
        </tr>
        <tr>
          <td id="L709" data-line-number="709"></td>
          <td id="LC709">	}</td>
        </tr>
        <tr>
          <td id="L710" data-line-number="710"></td>
          <td id="LC710">
</td>
        </tr>
        <tr>
          <td id="L711" data-line-number="711"></td>
          <td id="LC711">	<span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L712" data-line-number="712"></td>
          <td id="LC712">	<span><span>//</span> Initialize the default foreground &amp; background color</span></td>
        </tr>
        <tr>
          <td id="L713" data-line-number="713"></td>
          <td id="LC713">	<span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L714" data-line-number="714"></td>
          <td id="LC714">	{</td>
        </tr>
        <tr>
          <td id="L715" data-line-number="715"></td>
          <td id="LC715">		<span>const</span> <span>Style</span> * pStyle = nppParam.<span>getGlobalStylers</span>().<span>findByID</span>(STYLE_DEFAULT);</td>
        </tr>
        <tr>
          <td id="L716" data-line-number="716"></td>
          <td id="LC716">		<span>if</span> (pStyle)</td>
        </tr>
        <tr>
          <td id="L717" data-line-number="717"></td>
          <td id="LC717">		{</td>
        </tr>
        <tr>
          <td id="L718" data-line-number="718"></td>
          <td id="LC718">			nppParam.<span>setCurrentDefaultFgColor</span>(pStyle-&gt;<span>_fgColor</span>);</td>
        </tr>
        <tr>
          <td id="L719" data-line-number="719"></td>
          <td id="LC719">			nppParam.<span>setCurrentDefaultBgColor</span>(pStyle-&gt;<span>_bgColor</span>);</td>
        </tr>
        <tr>
          <td id="L720" data-line-number="720"></td>
          <td id="LC720">		}</td>
        </tr>
        <tr>
          <td id="L721" data-line-number="721"></td>
          <td id="LC721">	}</td>
        </tr>
        <tr>
          <td id="L722" data-line-number="722"></td>
          <td id="LC722">
</td>
        </tr>
        <tr>
          <td id="L723" data-line-number="723"></td>
          <td id="LC723">	<span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L724" data-line-number="724"></td>
          <td id="LC724">	<span><span>//</span> launch the plugin dlg memorized at the last session</span></td>
        </tr>
        <tr>
          <td id="L725" data-line-number="725"></td>
          <td id="LC725">	<span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L726" data-line-number="726"></td>
          <td id="LC726">
</td>
        </tr>
        <tr>
          <td id="L727" data-line-number="727"></td>
          <td id="LC727">	DockingManagerData&amp; dmd = nppGUI.<span>_dockingData</span>;</td>
        </tr>
        <tr>
          <td id="L728" data-line-number="728"></td>
          <td id="LC728">
</td>
        </tr>
        <tr>
          <td id="L729" data-line-number="729"></td>
          <td id="LC729">	_dockingManager.<span>setDockedContSize</span>(CONT_LEFT, nppGUI.<span>_dockingData</span>.<span>_leftWidth</span>);</td>
        </tr>
        <tr>
          <td id="L730" data-line-number="730"></td>
          <td id="LC730">	_dockingManager.<span>setDockedContSize</span>(CONT_RIGHT, nppGUI.<span>_dockingData</span>.<span>_rightWidth</span>);</td>
        </tr>
        <tr>
          <td id="L731" data-line-number="731"></td>
          <td id="LC731">	_dockingManager.<span>setDockedContSize</span>(CONT_TOP, nppGUI.<span>_dockingData</span>.<span>_topHeight</span>);</td>
        </tr>
        <tr>
          <td id="L732" data-line-number="732"></td>
          <td id="LC732">	_dockingManager.<span>setDockedContSize</span>(CONT_BOTTOM, nppGUI.<span>_dockingData</span>.<span>_bottomHight</span>);</td>
        </tr>
        <tr>
          <td id="L733" data-line-number="733"></td>
          <td id="LC733">
</td>
        </tr>
        <tr>
          <td id="L734" data-line-number="734"></td>
          <td id="LC734">	<span>if</span> (!nppGUI.<span>_isCmdlineNosessionActivated</span>)</td>
        </tr>
        <tr>
          <td id="L735" data-line-number="735"></td>
          <td id="LC735">	{</td>
        </tr>
        <tr>
          <td id="L736" data-line-number="736"></td>
          <td id="LC736">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = dmd.<span>_pluginDockInfo</span>.<span>size</span>(); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L737" data-line-number="737"></td>
          <td id="LC737">		{</td>
        </tr>
        <tr>
          <td id="L738" data-line-number="738"></td>
          <td id="LC738">			PluginDlgDockingInfo&amp; pdi = dmd.<span>_pluginDockInfo</span>[i];</td>
        </tr>
        <tr>
          <td id="L739" data-line-number="739"></td>
          <td id="LC739">			<span>if</span> (pdi.<span>_isVisible</span>)</td>
        </tr>
        <tr>
          <td id="L740" data-line-number="740"></td>
          <td id="LC740">			{</td>
        </tr>
        <tr>
          <td id="L741" data-line-number="741"></td>
          <td id="LC741">				<span>if</span> (pdi.<span>_name</span> == NPP_INTERNAL_FUCTION_STR)</td>
        </tr>
        <tr>
          <td id="L742" data-line-number="742"></td>
          <td id="LC742">					_internalFuncIDs.<span>push_back</span>(pdi.<span>_internalID</span>);</td>
        </tr>
        <tr>
          <td id="L743" data-line-number="743"></td>
          <td id="LC743">				<span>else</span></td>
        </tr>
        <tr>
          <td id="L744" data-line-number="744"></td>
          <td id="LC744">					_pluginsManager.<span>runPluginCommand</span>(pdi.<span>_name</span>.<span>c_str</span>(), pdi.<span>_internalID</span>);</td>
        </tr>
        <tr>
          <td id="L745" data-line-number="745"></td>
          <td id="LC745">			}</td>
        </tr>
        <tr>
          <td id="L746" data-line-number="746"></td>
          <td id="LC746">		}</td>
        </tr>
        <tr>
          <td id="L747" data-line-number="747"></td>
          <td id="LC747">
</td>
        </tr>
        <tr>
          <td id="L748" data-line-number="748"></td>
          <td id="LC748">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = dmd.<span>_containerTabInfo</span>.<span>size</span>(); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L749" data-line-number="749"></td>
          <td id="LC749">		{</td>
        </tr>
        <tr>
          <td id="L750" data-line-number="750"></td>
          <td id="LC750">			ContainerTabInfo &amp; cti = dmd.<span>_containerTabInfo</span>[i];</td>
        </tr>
        <tr>
          <td id="L751" data-line-number="751"></td>
          <td id="LC751">			_dockingManager.<span>setActiveTab</span>(cti.<span>_cont</span>, cti.<span>_activeTab</span>);</td>
        </tr>
        <tr>
          <td id="L752" data-line-number="752"></td>
          <td id="LC752">		}</td>
        </tr>
        <tr>
          <td id="L753" data-line-number="753"></td>
          <td id="LC753">	}</td>
        </tr>
        <tr>
          <td id="L754" data-line-number="754"></td>
          <td id="LC754">
</td>
        </tr>
        <tr>
          <td id="L755" data-line-number="755"></td>
          <td id="LC755">	<span><span>//</span>Load initial docs into doctab</span></td>
        </tr>
        <tr>
          <td id="L756" data-line-number="756"></td>
          <td id="LC756">	<span>loadBufferIntoView</span>(_mainEditView.<span>getCurrentBufferID</span>(), MAIN_VIEW);</td>
        </tr>
        <tr>
          <td id="L757" data-line-number="757"></td>
          <td id="LC757">	<span>loadBufferIntoView</span>(_subEditView.<span>getCurrentBufferID</span>(), SUB_VIEW);</td>
        </tr>
        <tr>
          <td id="L758" data-line-number="758"></td>
          <td id="LC758">	<span>activateBuffer</span>(_mainEditView.<span>getCurrentBufferID</span>(), MAIN_VIEW);</td>
        </tr>
        <tr>
          <td id="L759" data-line-number="759"></td>
          <td id="LC759">	<span>activateBuffer</span>(_subEditView.<span>getCurrentBufferID</span>(), SUB_VIEW);</td>
        </tr>
        <tr>
          <td id="L760" data-line-number="760"></td>
          <td id="LC760">
</td>
        </tr>
        <tr>
          <td id="L761" data-line-number="761"></td>
          <td id="LC761">	_mainEditView.<span>getFocus</span>();</td>
        </tr>
        <tr>
          <td id="L762" data-line-number="762"></td>
          <td id="LC762">
</td>
        </tr>
        <tr>
          <td id="L763" data-line-number="763"></td>
          <td id="LC763">	<span>if</span> (_nativeLangSpeaker.<span>isRTL</span>())</td>
        </tr>
        <tr>
          <td id="L764" data-line-number="764"></td>
          <td id="LC764">	{</td>
        </tr>
        <tr>
          <td id="L765" data-line-number="765"></td>
          <td id="LC765">		_mainEditView.<span>changeTextDirection</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L766" data-line-number="766"></td>
          <td id="LC766">		_subEditView.<span>changeTextDirection</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L767" data-line-number="767"></td>
          <td id="LC767">	}</td>
        </tr>
        <tr>
          <td id="L768" data-line-number="768"></td>
          <td id="LC768">
</td>
        </tr>
        <tr>
          <td id="L769" data-line-number="769"></td>
          <td id="LC769">	<span>return</span> <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L770" data-line-number="770"></td>
          <td id="LC770">}</td>
        </tr>
        <tr>
          <td id="L771" data-line-number="771"></td>
          <td id="LC771">
</td>
        </tr>
        <tr>
          <td id="L772" data-line-number="772"></td>
          <td id="LC772"><span>void</span> <span>Notepad_plus::killAllChildren</span>()</td>
        </tr>
        <tr>
          <td id="L773" data-line-number="773"></td>
          <td id="LC773">{</td>
        </tr>
        <tr>
          <td id="L774" data-line-number="774"></td>
          <td id="LC774">	_toolBar.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L775" data-line-number="775"></td>
          <td id="LC775">	_rebarTop.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L776" data-line-number="776"></td>
          <td id="LC776">	_rebarBottom.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L777" data-line-number="777"></td>
          <td id="LC777">
</td>
        </tr>
        <tr>
          <td id="L778" data-line-number="778"></td>
          <td id="LC778">    <span>if</span> (_pMainSplitter)</td>
        </tr>
        <tr>
          <td id="L779" data-line-number="779"></td>
          <td id="LC779">    {</td>
        </tr>
        <tr>
          <td id="L780" data-line-number="780"></td>
          <td id="LC780">        _pMainSplitter-&gt;<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L781" data-line-number="781"></td>
          <td id="LC781">        <span>delete</span> _pMainSplitter;</td>
        </tr>
        <tr>
          <td id="L782" data-line-number="782"></td>
          <td id="LC782">    }</td>
        </tr>
        <tr>
          <td id="L783" data-line-number="783"></td>
          <td id="LC783">
</td>
        </tr>
        <tr>
          <td id="L784" data-line-number="784"></td>
          <td id="LC784">    _mainDocTab.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L785" data-line-number="785"></td>
          <td id="LC785">    _subDocTab.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L786" data-line-number="786"></td>
          <td id="LC786">
</td>
        </tr>
        <tr>
          <td id="L787" data-line-number="787"></td>
          <td id="LC787">	_mainEditView.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L788" data-line-number="788"></td>
          <td id="LC788">    _subEditView.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L789" data-line-number="789"></td>
          <td id="LC789">	_invisibleEditView.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L790" data-line-number="790"></td>
          <td id="LC790">
</td>
        </tr>
        <tr>
          <td id="L791" data-line-number="791"></td>
          <td id="LC791">    _subSplitter.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L792" data-line-number="792"></td>
          <td id="LC792">    _statusBar.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L793" data-line-number="793"></td>
          <td id="LC793">
</td>
        </tr>
        <tr>
          <td id="L794" data-line-number="794"></td>
          <td id="LC794">	_scintillaCtrls4Plugins.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L795" data-line-number="795"></td>
          <td id="LC795">	_dockingManager.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L796" data-line-number="796"></td>
          <td id="LC796">}</td>
        </tr>
        <tr>
          <td id="L797" data-line-number="797"></td>
          <td id="LC797">
</td>
        </tr>
        <tr>
          <td id="L798" data-line-number="798"></td>
          <td id="LC798"><span>bool</span> <span>Notepad_plus::saveGUIParams</span>()</td>
        </tr>
        <tr>
          <td id="L799" data-line-number="799"></td>
          <td id="LC799">{</td>
        </tr>
        <tr>
          <td id="L800" data-line-number="800"></td>
          <td id="LC800">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L801" data-line-number="801"></td>
          <td id="LC801">	NppGUI &amp; nppGUI = nppParams.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L802" data-line-number="802"></td>
          <td id="LC802">	nppGUI.<span>_toolbarShow</span> = _rebarTop.<span>getIDVisible</span>(REBAR_BAR_TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L803" data-line-number="803"></td>
          <td id="LC803">	nppGUI.<span>_toolBarStatus</span> = _toolBar.<span>getState</span>();</td>
        </tr>
        <tr>
          <td id="L804" data-line-number="804"></td>
          <td id="LC804">
</td>
        </tr>
        <tr>
          <td id="L805" data-line-number="805"></td>
          <td id="LC805">	nppGUI.<span>_tabStatus</span> = (<span>TabBarPlus::doDragNDropOrNot</span>()?TAB_DRAWTOPBAR:<span>0</span>) | \</td>
        </tr>
        <tr>
          <td id="L806" data-line-number="806"></td>
          <td id="LC806">						(<span>TabBarPlus::drawTopBar</span>()?TAB_DRAGNDROP:<span>0</span>) | \</td>
        </tr>
        <tr>
          <td id="L807" data-line-number="807"></td>
          <td id="LC807">						(<span>TabBarPlus::drawInactiveTab</span>()?TAB_DRAWINACTIVETAB:<span>0</span>) | \</td>
        </tr>
        <tr>
          <td id="L808" data-line-number="808"></td>
          <td id="LC808">						(_toReduceTabBar?TAB_REDUCE:<span>0</span>) | \</td>
        </tr>
        <tr>
          <td id="L809" data-line-number="809"></td>
          <td id="LC809">						(<span>TabBarPlus::drawTabCloseButton</span>()?TAB_CLOSEBUTTON:<span>0</span>) | \</td>
        </tr>
        <tr>
          <td id="L810" data-line-number="810"></td>
          <td id="LC810">						(<span>TabBarPlus::isDbClk2Close</span>()?TAB_DBCLK2CLOSE:<span>0</span>) | \</td>
        </tr>
        <tr>
          <td id="L811" data-line-number="811"></td>
          <td id="LC811">						(<span>TabBarPlus::isVertical</span>() ? TAB_VERTICAL:<span>0</span>) | \</td>
        </tr>
        <tr>
          <td id="L812" data-line-number="812"></td>
          <td id="LC812">						(<span>TabBarPlus::isMultiLine</span>() ? TAB_MULTILINE:<span>0</span>) |\</td>
        </tr>
        <tr>
          <td id="L813" data-line-number="813"></td>
          <td id="LC813">						(nppGUI.<span>_tabStatus</span> &amp; TAB_HIDE) | \</td>
        </tr>
        <tr>
          <td id="L814" data-line-number="814"></td>
          <td id="LC814">						(nppGUI.<span>_tabStatus</span> &amp; TAB_QUITONEMPTY) | \</td>
        </tr>
        <tr>
          <td id="L815" data-line-number="815"></td>
          <td id="LC815">						(nppGUI.<span>_tabStatus</span> &amp; TAB_ALTICONS);</td>
        </tr>
        <tr>
          <td id="L816" data-line-number="816"></td>
          <td id="LC816">	nppGUI.<span>_splitterPos</span> = _subSplitter.<span>isVertical</span>()?POS_VERTICAL:POS_HORIZOTAL;</td>
        </tr>
        <tr>
          <td id="L817" data-line-number="817"></td>
          <td id="LC817">	UserDefineDialog *udd = _pEditView-&gt;<span>getUserDefineDlg</span>();</td>
        </tr>
        <tr>
          <td id="L818" data-line-number="818"></td>
          <td id="LC818">	<span>bool</span> b = udd-&gt;<span>isDocked</span>();</td>
        </tr>
        <tr>
          <td id="L819" data-line-number="819"></td>
          <td id="LC819">	nppGUI.<span>_userDefineDlgStatus</span> = (b?UDD_DOCKED:<span>0</span>) | (udd-&gt;<span>isVisible</span>()?UDD_SHOW:<span>0</span>);</td>
        </tr>
        <tr>
          <td id="L820" data-line-number="820"></td>
          <td id="LC820">
</td>
        </tr>
        <tr>
          <td id="L821" data-line-number="821"></td>
          <td id="LC821">	<span><span>//</span> When window is maximized GetWindowPlacement returns window&#39;s last non maximized coordinates.</span></td>
        </tr>
        <tr>
          <td id="L822" data-line-number="822"></td>
          <td id="LC822">	<span><span>//</span> Save them so that those will be used when window is restored next time.</span></td>
        </tr>
        <tr>
          <td id="L823" data-line-number="823"></td>
          <td id="LC823">	WINDOWPLACEMENT posInfo{};</td>
        </tr>
        <tr>
          <td id="L824" data-line-number="824"></td>
          <td id="LC824">	posInfo.<span>length</span> = <span>sizeof</span>(WINDOWPLACEMENT);</td>
        </tr>
        <tr>
          <td id="L825" data-line-number="825"></td>
          <td id="LC825">	<span>::GetWindowPlacement</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), &amp;posInfo);</td>
        </tr>
        <tr>
          <td id="L826" data-line-number="826"></td>
          <td id="LC826">
</td>
        </tr>
        <tr>
          <td id="L827" data-line-number="827"></td>
          <td id="LC827">	nppGUI._appPos.left   = posInfo.rcNormalPosition.left;</td>
        </tr>
        <tr>
          <td id="L828" data-line-number="828"></td>
          <td id="LC828">	nppGUI._appPos.top    = posInfo.rcNormalPosition.top;</td>
        </tr>
        <tr>
          <td id="L829" data-line-number="829"></td>
          <td id="LC829">	nppGUI._appPos.right  = posInfo.rcNormalPosition.right - posInfo.rcNormalPosition.left;</td>
        </tr>
        <tr>
          <td id="L830" data-line-number="830"></td>
          <td id="LC830">	nppGUI._appPos.bottom = posInfo.rcNormalPosition.bottom - posInfo.rcNormalPosition.top;</td>
        </tr>
        <tr>
          <td id="L831" data-line-number="831"></td>
          <td id="LC831">	nppGUI._isMaximized = ((IsZoomed(_pPublicInterface-&gt;<span>getHSelf</span>()) != 0) || (posInfo.flags &amp; WPF_RESTORETOMAXIMIZED));</td>
        </tr>
        <tr>
          <td id="L832" data-line-number="832"></td>
          <td id="LC832">
</td>
        </tr>
        <tr>
          <td id="L833" data-line-number="833"></td>
          <td id="LC833">	<span>if</span> (_findReplaceDlg.getHSelf() != NULL)</td>
        </tr>
        <tr>
          <td id="L834" data-line-number="834"></td>
          <td id="LC834">	{</td>
        </tr>
        <tr>
          <td id="L835" data-line-number="835"></td>
          <td id="LC835">		<span>::GetWindowPlacement</span>(_findReplaceDlg.getHSelf(), &amp;posInfo);</td>
        </tr>
        <tr>
          <td id="L836" data-line-number="836"></td>
          <td id="LC836">
</td>
        </tr>
        <tr>
          <td id="L837" data-line-number="837"></td>
          <td id="LC837">		nppGUI.<span>_findWindowPos</span>.<span>left</span> = posInfo.<span>rcNormalPosition</span>.<span>left</span>;</td>
        </tr>
        <tr>
          <td id="L838" data-line-number="838"></td>
          <td id="LC838">		nppGUI.<span>_findWindowPos</span>.<span>top</span> = posInfo.<span>rcNormalPosition</span>.<span>top</span>;</td>
        </tr>
        <tr>
          <td id="L839" data-line-number="839"></td>
          <td id="LC839">		nppGUI.<span>_findWindowPos</span>.<span>right</span> = posInfo.<span>rcNormalPosition</span>.<span>right</span>;</td>
        </tr>
        <tr>
          <td id="L840" data-line-number="840"></td>
          <td id="LC840">		nppGUI.<span>_findWindowPos</span>.<span>bottom</span> = posInfo.<span>rcNormalPosition</span>.<span>bottom</span>;</td>
        </tr>
        <tr>
          <td id="L841" data-line-number="841"></td>
          <td id="LC841">	}</td>
        </tr>
        <tr>
          <td id="L842" data-line-number="842"></td>
          <td id="LC842">
</td>
        </tr>
        <tr>
          <td id="L843" data-line-number="843"></td>
          <td id="LC843">	<span>saveDockingParams</span>();</td>
        </tr>
        <tr>
          <td id="L844" data-line-number="844"></td>
          <td id="LC844">	nppParams.<span>createXmlTreeFromGUIParams</span>();</td>
        </tr>
        <tr>
          <td id="L845" data-line-number="845"></td>
          <td id="LC845">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L846" data-line-number="846"></td>
          <td id="LC846">}</td>
        </tr>
        <tr>
          <td id="L847" data-line-number="847"></td>
          <td id="LC847">
</td>
        </tr>
        <tr>
          <td id="L848" data-line-number="848"></td>
          <td id="LC848"><span>bool</span> <span>Notepad_plus::saveColumnEditorParams</span>()</td>
        </tr>
        <tr>
          <td id="L849" data-line-number="849"></td>
          <td id="LC849">{</td>
        </tr>
        <tr>
          <td id="L850" data-line-number="850"></td>
          <td id="LC850">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L851" data-line-number="851"></td>
          <td id="LC851">	<span>return</span> nppParams.<span>writeColumnEditorSettings</span>();</td>
        </tr>
        <tr>
          <td id="L852" data-line-number="852"></td>
          <td id="LC852">}</td>
        </tr>
        <tr>
          <td id="L853" data-line-number="853"></td>
          <td id="LC853">
</td>
        </tr>
        <tr>
          <td id="L854" data-line-number="854"></td>
          <td id="LC854"><span>bool</span> <span>Notepad_plus::saveProjectPanelsParams</span>()</td>
        </tr>
        <tr>
          <td id="L855" data-line-number="855"></td>
          <td id="LC855">{</td>
        </tr>
        <tr>
          <td id="L856" data-line-number="856"></td>
          <td id="LC856">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L857" data-line-number="857"></td>
          <td id="LC857">
</td>
        </tr>
        <tr>
          <td id="L858" data-line-number="858"></td>
          <td id="LC858">	<span>if</span> (_pProjectPanel_1)</td>
        </tr>
        <tr>
          <td id="L859" data-line-number="859"></td>
          <td id="LC859">	{</td>
        </tr>
        <tr>
          <td id="L860" data-line-number="860"></td>
          <td id="LC860">		<span>if</span> (!_pProjectPanel_1-&gt;<span>checkIfNeedSave</span>()) <span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L861" data-line-number="861"></td>
          <td id="LC861">		nppParams.<span>setWorkSpaceFilePath</span>(<span>0</span>, _pProjectPanel_1-&gt;<span>getWorkSpaceFilePath</span>());</td>
        </tr>
        <tr>
          <td id="L862" data-line-number="862"></td>
          <td id="LC862">	}</td>
        </tr>
        <tr>
          <td id="L863" data-line-number="863"></td>
          <td id="LC863">	<span>if</span> (_pProjectPanel_2)</td>
        </tr>
        <tr>
          <td id="L864" data-line-number="864"></td>
          <td id="LC864">	{</td>
        </tr>
        <tr>
          <td id="L865" data-line-number="865"></td>
          <td id="LC865">		<span>if</span> (!_pProjectPanel_2-&gt;<span>checkIfNeedSave</span>()) <span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L866" data-line-number="866"></td>
          <td id="LC866">		nppParams.<span>setWorkSpaceFilePath</span>(<span>1</span>, _pProjectPanel_2-&gt;<span>getWorkSpaceFilePath</span>());</td>
        </tr>
        <tr>
          <td id="L867" data-line-number="867"></td>
          <td id="LC867">	}</td>
        </tr>
        <tr>
          <td id="L868" data-line-number="868"></td>
          <td id="LC868">	<span>if</span> (_pProjectPanel_3)</td>
        </tr>
        <tr>
          <td id="L869" data-line-number="869"></td>
          <td id="LC869">	{</td>
        </tr>
        <tr>
          <td id="L870" data-line-number="870"></td>
          <td id="LC870">		<span>if</span> (!_pProjectPanel_3-&gt;<span>checkIfNeedSave</span>()) <span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L871" data-line-number="871"></td>
          <td id="LC871">		nppParams.<span>setWorkSpaceFilePath</span>(<span>2</span>, _pProjectPanel_3-&gt;<span>getWorkSpaceFilePath</span>());</td>
        </tr>
        <tr>
          <td id="L872" data-line-number="872"></td>
          <td id="LC872">	}</td>
        </tr>
        <tr>
          <td id="L873" data-line-number="873"></td>
          <td id="LC873">	<span>return</span> nppParams.<span>writeProjectPanelsSettings</span>();</td>
        </tr>
        <tr>
          <td id="L874" data-line-number="874"></td>
          <td id="LC874">}</td>
        </tr>
        <tr>
          <td id="L875" data-line-number="875"></td>
          <td id="LC875">
</td>
        </tr>
        <tr>
          <td id="L876" data-line-number="876"></td>
          <td id="LC876"><span>bool</span> <span>Notepad_plus::saveFileBrowserParam</span>()</td>
        </tr>
        <tr>
          <td id="L877" data-line-number="877"></td>
          <td id="LC877">{</td>
        </tr>
        <tr>
          <td id="L878" data-line-number="878"></td>
          <td id="LC878">	<span>if</span> (_pFileBrowser)</td>
        </tr>
        <tr>
          <td id="L879" data-line-number="879"></td>
          <td id="LC879">	{</td>
        </tr>
        <tr>
          <td id="L880" data-line-number="880"></td>
          <td id="LC880">		vector&lt;generic_string&gt; rootPaths = _pFileBrowser-&gt;<span>getRoots</span>();</td>
        </tr>
        <tr>
          <td id="L881" data-line-number="881"></td>
          <td id="LC881">		generic_string selectedItemPath = _pFileBrowser-&gt;<span>getSelectedItemPath</span>();</td>
        </tr>
        <tr>
          <td id="L882" data-line-number="882"></td>
          <td id="LC882">		<span>return</span> (<span>NppParameters::getInstance</span>()).<span>writeFileBrowserSettings</span>(rootPaths, selectedItemPath);</td>
        </tr>
        <tr>
          <td id="L883" data-line-number="883"></td>
          <td id="LC883">	}</td>
        </tr>
        <tr>
          <td id="L884" data-line-number="884"></td>
          <td id="LC884">	<span>return</span> <span>true</span>; <span><span>//</span> nothing to save so true is returned</span></td>
        </tr>
        <tr>
          <td id="L885" data-line-number="885"></td>
          <td id="LC885">}</td>
        </tr>
        <tr>
          <td id="L886" data-line-number="886"></td>
          <td id="LC886">
</td>
        </tr>
        <tr>
          <td id="L887" data-line-number="887"></td>
          <td id="LC887"><span>void</span> <span>Notepad_plus::saveDockingParams</span>()</td>
        </tr>
        <tr>
          <td id="L888" data-line-number="888"></td>
          <td id="LC888">{</td>
        </tr>
        <tr>
          <td id="L889" data-line-number="889"></td>
          <td id="LC889">	NppGUI &amp; nppGUI = (<span>NppParameters::getInstance</span>()).<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L890" data-line-number="890"></td>
          <td id="LC890">
</td>
        </tr>
        <tr>
          <td id="L891" data-line-number="891"></td>
          <td id="LC891">	<span><span>//</span> Save the docking information</span></td>
        </tr>
        <tr>
          <td id="L892" data-line-number="892"></td>
          <td id="LC892">	nppGUI.<span>_dockingData</span>.<span>_leftWidth</span>		= _dockingManager.<span>getDockedContSize</span>(CONT_LEFT);</td>
        </tr>
        <tr>
          <td id="L893" data-line-number="893"></td>
          <td id="LC893">	nppGUI.<span>_dockingData</span>.<span>_rightWidth</span>		= _dockingManager.<span>getDockedContSize</span>(CONT_RIGHT);</td>
        </tr>
        <tr>
          <td id="L894" data-line-number="894"></td>
          <td id="LC894">	nppGUI.<span>_dockingData</span>.<span>_topHeight</span>		= _dockingManager.<span>getDockedContSize</span>(CONT_TOP);</td>
        </tr>
        <tr>
          <td id="L895" data-line-number="895"></td>
          <td id="LC895">	nppGUI.<span>_dockingData</span>.<span>_bottomHight</span>	= _dockingManager.<span>getDockedContSize</span>(CONT_BOTTOM);</td>
        </tr>
        <tr>
          <td id="L896" data-line-number="896"></td>
          <td id="LC896">
</td>
        </tr>
        <tr>
          <td id="L897" data-line-number="897"></td>
          <td id="LC897">	<span><span>//</span> clear the container tab information (active tab)</span></td>
        </tr>
        <tr>
          <td id="L898" data-line-number="898"></td>
          <td id="LC898">	nppGUI.<span>_dockingData</span>.<span>_containerTabInfo</span>.<span>clear</span>();</td>
        </tr>
        <tr>
          <td id="L899" data-line-number="899"></td>
          <td id="LC899">
</td>
        </tr>
        <tr>
          <td id="L900" data-line-number="900"></td>
          <td id="LC900">	<span><span>//</span> create a vector to save the current information</span></td>
        </tr>
        <tr>
          <td id="L901" data-line-number="901"></td>
          <td id="LC901">	vector&lt;PluginDlgDockingInfo&gt;	vPluginDockInfo;</td>
        </tr>
        <tr>
          <td id="L902" data-line-number="902"></td>
          <td id="LC902">	vector&lt;FloatingWindowInfo&gt;		vFloatingWindowInfo;</td>
        </tr>
        <tr>
          <td id="L903" data-line-number="903"></td>
          <td id="LC903">
</td>
        </tr>
        <tr>
          <td id="L904" data-line-number="904"></td>
          <td id="LC904">	<span><span>//</span> save every container</span></td>
        </tr>
        <tr>
          <td id="L905" data-line-number="905"></td>
          <td id="LC905">	vector&lt;DockingCont*&gt; vCont = _dockingManager.<span>getContainerInfo</span>();</td>
        </tr>
        <tr>
          <td id="L906" data-line-number="906"></td>
          <td id="LC906">
</td>
        </tr>
        <tr>
          <td id="L907" data-line-number="907"></td>
          <td id="LC907">	<span>for</span> (<span>size_t</span> i = <span>0</span>, len = vCont.<span>size</span>(); i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L908" data-line-number="908"></td>
          <td id="LC908">	{</td>
        </tr>
        <tr>
          <td id="L909" data-line-number="909"></td>
          <td id="LC909">		<span><span>//</span> save at first the visible Tb&#39;s</span></td>
        </tr>
        <tr>
          <td id="L910" data-line-number="910"></td>
          <td id="LC910">		vector&lt;tTbData *&gt;	vDataVis	= vCont[i]-&gt;<span>getDataOfVisTb</span>();</td>
        </tr>
        <tr>
          <td id="L911" data-line-number="911"></td>
          <td id="LC911">
</td>
        </tr>
        <tr>
          <td id="L912" data-line-number="912"></td>
          <td id="LC912">		<span>for</span> (<span>size_t</span> j = <span>0</span>, len2 = vDataVis.<span>size</span>(); j &lt; len2 ; ++j)</td>
        </tr>
        <tr>
          <td id="L913" data-line-number="913"></td>
          <td id="LC913">		{</td>
        </tr>
        <tr>
          <td id="L914" data-line-number="914"></td>
          <td id="LC914">			<span>if</span> (vDataVis[j]-&gt;<span>pszName</span> &amp;&amp; vDataVis[j]-&gt;<span>pszName</span>[<span>0</span>])</td>
        </tr>
        <tr>
          <td id="L915" data-line-number="915"></td>
          <td id="LC915">			{</td>
        </tr>
        <tr>
          <td id="L916" data-line-number="916"></td>
          <td id="LC916">				PluginDlgDockingInfo <span>pddi</span>(vDataVis[j]-&gt;<span>pszModuleName</span>, vDataVis[j]-&gt;<span>dlgID</span>, <span>int32_t</span>(i), vDataVis[j]-&gt;<span>iPrevCont</span>, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L917" data-line-number="917"></td>
          <td id="LC917">				vPluginDockInfo.<span>push_back</span>(pddi);</td>
        </tr>
        <tr>
          <td id="L918" data-line-number="918"></td>
          <td id="LC918">			}</td>
        </tr>
        <tr>
          <td id="L919" data-line-number="919"></td>
          <td id="LC919">		}</td>
        </tr>
        <tr>
          <td id="L920" data-line-number="920"></td>
          <td id="LC920">
</td>
        </tr>
        <tr>
          <td id="L921" data-line-number="921"></td>
          <td id="LC921">		<span><span>//</span> save the hidden Tb&#39;s</span></td>
        </tr>
        <tr>
          <td id="L922" data-line-number="922"></td>
          <td id="LC922">		vector&lt;tTbData *&gt;	vDataAll	= vCont[i]-&gt;<span>getDataOfAllTb</span>();</td>
        </tr>
        <tr>
          <td id="L923" data-line-number="923"></td>
          <td id="LC923">
</td>
        </tr>
        <tr>
          <td id="L924" data-line-number="924"></td>
          <td id="LC924">		<span>for</span> (<span>size_t</span> j = <span>0</span>, len3 = vDataAll.<span>size</span>(); j &lt; len3 ; ++j)</td>
        </tr>
        <tr>
          <td id="L925" data-line-number="925"></td>
          <td id="LC925">		{</td>
        </tr>
        <tr>
          <td id="L926" data-line-number="926"></td>
          <td id="LC926">			<span>if</span> ((vDataAll[j]-&gt;<span>pszName</span> &amp;&amp; vDataAll[j]-&gt;<span>pszName</span>[<span>0</span>]) &amp;&amp; (!vCont[i]-&gt;<span>isTbVis</span>(vDataAll[j])))</td>
        </tr>
        <tr>
          <td id="L927" data-line-number="927"></td>
          <td id="LC927">			{</td>
        </tr>
        <tr>
          <td id="L928" data-line-number="928"></td>
          <td id="LC928">				PluginDlgDockingInfo <span>pddi</span>(vDataAll[j]-&gt;<span>pszModuleName</span>, vDataAll[j]-&gt;<span>dlgID</span>, <span>int32_t</span>(i), vDataAll[j]-&gt;<span>iPrevCont</span>, <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L929" data-line-number="929"></td>
          <td id="LC929">				vPluginDockInfo.<span>push_back</span>(pddi);</td>
        </tr>
        <tr>
          <td id="L930" data-line-number="930"></td>
          <td id="LC930">			}</td>
        </tr>
        <tr>
          <td id="L931" data-line-number="931"></td>
          <td id="LC931">		}</td>
        </tr>
        <tr>
          <td id="L932" data-line-number="932"></td>
          <td id="LC932">
</td>
        </tr>
        <tr>
          <td id="L933" data-line-number="933"></td>
          <td id="LC933">		<span><span>//</span> save the position, when container is a floated one</span></td>
        </tr>
        <tr>
          <td id="L934" data-line-number="934"></td>
          <td id="LC934">		<span>if</span> (i &gt;= DOCKCONT_MAX)</td>
        </tr>
        <tr>
          <td id="L935" data-line-number="935"></td>
          <td id="LC935">		{</td>
        </tr>
        <tr>
          <td id="L936" data-line-number="936"></td>
          <td id="LC936">			RECT	rc;</td>
        </tr>
        <tr>
          <td id="L937" data-line-number="937"></td>
          <td id="LC937">			vCont[i]-&gt;<span>getWindowRect</span>(rc);</td>
        </tr>
        <tr>
          <td id="L938" data-line-number="938"></td>
          <td id="LC938">			FloatingWindowInfo <span>fwi</span>(<span>int32_t</span>(i), rc.<span>left</span>, rc.<span>top</span>, rc.<span>right</span>, rc.<span>bottom</span>);</td>
        </tr>
        <tr>
          <td id="L939" data-line-number="939"></td>
          <td id="LC939">			vFloatingWindowInfo.<span>push_back</span>(fwi);</td>
        </tr>
        <tr>
          <td id="L940" data-line-number="940"></td>
          <td id="LC940">		}</td>
        </tr>
        <tr>
          <td id="L941" data-line-number="941"></td>
          <td id="LC941">
</td>
        </tr>
        <tr>
          <td id="L942" data-line-number="942"></td>
          <td id="LC942">		<span><span>//</span> save the active tab</span></td>
        </tr>
        <tr>
          <td id="L943" data-line-number="943"></td>
          <td id="LC943">		ContainerTabInfo <span>act</span>(<span>int32_t</span>(i), vCont[i]-&gt;<span>getActiveTb</span>());</td>
        </tr>
        <tr>
          <td id="L944" data-line-number="944"></td>
          <td id="LC944">		nppGUI.<span>_dockingData</span>.<span>_containerTabInfo</span>.<span>push_back</span>(act);</td>
        </tr>
        <tr>
          <td id="L945" data-line-number="945"></td>
          <td id="LC945">	}</td>
        </tr>
        <tr>
          <td id="L946" data-line-number="946"></td>
          <td id="LC946">
</td>
        </tr>
        <tr>
          <td id="L947" data-line-number="947"></td>
          <td id="LC947">	<span><span>//</span> add the missing information and store it in nppGUI</span></td>
        </tr>
        <tr>
          <td id="L948" data-line-number="948"></td>
          <td id="LC948">	UCHAR floatContArray[<span>50</span>];</td>
        </tr>
        <tr>
          <td id="L949" data-line-number="949"></td>
          <td id="LC949">	<span>memset</span>(floatContArray, <span>0</span>, <span>50</span>);</td>
        </tr>
        <tr>
          <td id="L950" data-line-number="950"></td>
          <td id="LC950">
</td>
        </tr>
        <tr>
          <td id="L951" data-line-number="951"></td>
          <td id="LC951">	<span>for</span> (<span>size_t</span> i = <span>0</span>, len4 = nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span>.<span>size</span>(); i &lt; len4 ; ++i)</td>
        </tr>
        <tr>
          <td id="L952" data-line-number="952"></td>
          <td id="LC952">	{</td>
        </tr>
        <tr>
          <td id="L953" data-line-number="953"></td>
          <td id="LC953">		BOOL	isStored = <span>FALSE</span>;</td>
        </tr>
        <tr>
          <td id="L954" data-line-number="954"></td>
          <td id="LC954">		<span>for</span> (<span>size_t</span> j = <span>0</span>, len5 = vPluginDockInfo.<span>size</span>(); j &lt; len5; ++j)</td>
        </tr>
        <tr>
          <td id="L955" data-line-number="955"></td>
          <td id="LC955">		{</td>
        </tr>
        <tr>
          <td id="L956" data-line-number="956"></td>
          <td id="LC956">			<span>if</span> (nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span>[i] == vPluginDockInfo[j])</td>
        </tr>
        <tr>
          <td id="L957" data-line-number="957"></td>
          <td id="LC957">			{</td>
        </tr>
        <tr>
          <td id="L958" data-line-number="958"></td>
          <td id="LC958">				isStored = <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L959" data-line-number="959"></td>
          <td id="LC959">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L960" data-line-number="960"></td>
          <td id="LC960">			}</td>
        </tr>
        <tr>
          <td id="L961" data-line-number="961"></td>
          <td id="LC961">		}</td>
        </tr>
        <tr>
          <td id="L962" data-line-number="962"></td>
          <td id="LC962">
</td>
        </tr>
        <tr>
          <td id="L963" data-line-number="963"></td>
          <td id="LC963">		<span>if</span> (isStored == <span>FALSE</span>)</td>
        </tr>
        <tr>
          <td id="L964" data-line-number="964"></td>
          <td id="LC964">		{</td>
        </tr>
        <tr>
          <td id="L965" data-line-number="965"></td>
          <td id="LC965">			<span>int</span> floatCont	= <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L966" data-line-number="966"></td>
          <td id="LC966">
</td>
        </tr>
        <tr>
          <td id="L967" data-line-number="967"></td>
          <td id="LC967">			<span>if</span> (nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span>[i].<span>_currContainer</span> &gt;= DOCKCONT_MAX)</td>
        </tr>
        <tr>
          <td id="L968" data-line-number="968"></td>
          <td id="LC968">				floatCont = nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span>[i].<span>_currContainer</span>;</td>
        </tr>
        <tr>
          <td id="L969" data-line-number="969"></td>
          <td id="LC969">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L970" data-line-number="970"></td>
          <td id="LC970">				floatCont = nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span>[i].<span>_prevContainer</span>;</td>
        </tr>
        <tr>
          <td id="L971" data-line-number="971"></td>
          <td id="LC971">
</td>
        </tr>
        <tr>
          <td id="L972" data-line-number="972"></td>
          <td id="LC972">			<span>if</span> (floatCont &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L973" data-line-number="973"></td>
          <td id="LC973">			{</td>
        </tr>
        <tr>
          <td id="L974" data-line-number="974"></td>
          <td id="LC974">				<span>if</span> (floatContArray[floatCont] == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L975" data-line-number="975"></td>
          <td id="LC975">				{</td>
        </tr>
        <tr>
          <td id="L976" data-line-number="976"></td>
          <td id="LC976">					RECT rc;</td>
        </tr>
        <tr>
          <td id="L977" data-line-number="977"></td>
          <td id="LC977">					<span>if</span> (nppGUI.<span>_dockingData</span>.<span>getFloatingRCFrom</span>(floatCont, rc))</td>
        </tr>
        <tr>
          <td id="L978" data-line-number="978"></td>
          <td id="LC978">					{</td>
        </tr>
        <tr>
          <td id="L979" data-line-number="979"></td>
          <td id="LC979">						vFloatingWindowInfo.<span>push_back</span>(<span>FloatingWindowInfo</span>(floatCont, rc.<span>left</span>, rc.<span>top</span>, rc.<span>right</span>, rc.<span>bottom</span>));</td>
        </tr>
        <tr>
          <td id="L980" data-line-number="980"></td>
          <td id="LC980">					}</td>
        </tr>
        <tr>
          <td id="L981" data-line-number="981"></td>
          <td id="LC981">					floatContArray[floatCont] = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L982" data-line-number="982"></td>
          <td id="LC982">				}</td>
        </tr>
        <tr>
          <td id="L983" data-line-number="983"></td>
          <td id="LC983">			}</td>
        </tr>
        <tr>
          <td id="L984" data-line-number="984"></td>
          <td id="LC984">			<span>if</span> (i &lt; nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span>.<span>size</span>()) <span><span>//</span> to prevent from crash in debug mode</span></td>
        </tr>
        <tr>
          <td id="L985" data-line-number="985"></td>
          <td id="LC985">				vPluginDockInfo.<span>push_back</span>(nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span>[i]);</td>
        </tr>
        <tr>
          <td id="L986" data-line-number="986"></td>
          <td id="LC986">		}</td>
        </tr>
        <tr>
          <td id="L987" data-line-number="987"></td>
          <td id="LC987">	}</td>
        </tr>
        <tr>
          <td id="L988" data-line-number="988"></td>
          <td id="LC988">
</td>
        </tr>
        <tr>
          <td id="L989" data-line-number="989"></td>
          <td id="LC989">	nppGUI.<span>_dockingData</span>.<span>_pluginDockInfo</span> = vPluginDockInfo;</td>
        </tr>
        <tr>
          <td id="L990" data-line-number="990"></td>
          <td id="LC990">	nppGUI.<span>_dockingData</span>.<span>_flaotingWindowInfo</span> = vFloatingWindowInfo;</td>
        </tr>
        <tr>
          <td id="L991" data-line-number="991"></td>
          <td id="LC991">}</td>
        </tr>
        <tr>
          <td id="L992" data-line-number="992"></td>
          <td id="LC992">
</td>
        </tr>
        <tr>
          <td id="L993" data-line-number="993"></td>
          <td id="LC993">
</td>
        </tr>
        <tr>
          <td id="L994" data-line-number="994"></td>
          <td id="LC994"><span>void</span> <span>Notepad_plus::saveUserDefineLangs</span>()</td>
        </tr>
        <tr>
          <td id="L995" data-line-number="995"></td>
          <td id="LC995">{</td>
        </tr>
        <tr>
          <td id="L996" data-line-number="996"></td>
          <td id="LC996">	(<span>NppParameters::getInstance</span>()).<span>writeNeed2SaveUDL</span>();</td>
        </tr>
        <tr>
          <td id="L997" data-line-number="997"></td>
          <td id="LC997">}</td>
        </tr>
        <tr>
          <td id="L998" data-line-number="998"></td>
          <td id="LC998">
</td>
        </tr>
        <tr>
          <td id="L999" data-line-number="999"></td>
          <td id="LC999">
</td>
        </tr>
        <tr>
          <td id="L1000" data-line-number="1000"></td>
          <td id="LC1000"><span>void</span> <span>Notepad_plus::saveShortcuts</span>()</td>
        </tr>
        <tr>
          <td id="L1001" data-line-number="1001"></td>
          <td id="LC1001">{</td>
        </tr>
        <tr>
          <td id="L1002" data-line-number="1002"></td>
          <td id="LC1002">	<span>NppParameters::getInstance</span>().<span>writeShortcuts</span>();</td>
        </tr>
        <tr>
          <td id="L1003" data-line-number="1003"></td>
          <td id="LC1003">}</td>
        </tr>
        <tr>
          <td id="L1004" data-line-number="1004"></td>
          <td id="LC1004">
</td>
        </tr>
        <tr>
          <td id="L1005" data-line-number="1005"></td>
          <td id="LC1005">
</td>
        </tr>
        <tr>
          <td id="L1006" data-line-number="1006"></td>
          <td id="LC1006"><span>void</span> <span>Notepad_plus::saveFindHistory</span>()</td>
        </tr>
        <tr>
          <td id="L1007" data-line-number="1007"></td>
          <td id="LC1007">{</td>
        </tr>
        <tr>
          <td id="L1008" data-line-number="1008"></td>
          <td id="LC1008">	_findReplaceDlg.<span>saveFindHistory</span>();</td>
        </tr>
        <tr>
          <td id="L1009" data-line-number="1009"></td>
          <td id="LC1009">	(<span>NppParameters::getInstance</span>()).<span>writeFindHistory</span>();</td>
        </tr>
        <tr>
          <td id="L1010" data-line-number="1010"></td>
          <td id="LC1010">}</td>
        </tr>
        <tr>
          <td id="L1011" data-line-number="1011"></td>
          <td id="LC1011">
</td>
        </tr>
        <tr>
          <td id="L1012" data-line-number="1012"></td>
          <td id="LC1012">
</td>
        </tr>
        <tr>
          <td id="L1013" data-line-number="1013"></td>
          <td id="LC1013"><span>int</span> <span>Notepad_plus::getHtmlXmlEncoding</span>(<span>const</span> TCHAR *fileName) <span>const</span></td>
        </tr>
        <tr>
          <td id="L1014" data-line-number="1014"></td>
          <td id="LC1014">{</td>
        </tr>
        <tr>
          <td id="L1015" data-line-number="1015"></td>
          <td id="LC1015">	<span><span>//</span> Get Language type</span></td>
        </tr>
        <tr>
          <td id="L1016" data-line-number="1016"></td>
          <td id="LC1016">	TCHAR *ext = <span>PathFindExtension</span>(fileName);</td>
        </tr>
        <tr>
          <td id="L1017" data-line-number="1017"></td>
          <td id="LC1017">	<span>if</span> (*ext == <span><span>&#39;</span>.<span>&#39;</span></span>) <span><span>//</span>extension found</span></td>
        </tr>
        <tr>
          <td id="L1018" data-line-number="1018"></td>
          <td id="LC1018">	{</td>
        </tr>
        <tr>
          <td id="L1019" data-line-number="1019"></td>
          <td id="LC1019">		ext += <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1020" data-line-number="1020"></td>
          <td id="LC1020">	}</td>
        </tr>
        <tr>
          <td id="L1021" data-line-number="1021"></td>
          <td id="LC1021">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L1022" data-line-number="1022"></td>
          <td id="LC1022">	{</td>
        </tr>
        <tr>
          <td id="L1023" data-line-number="1023"></td>
          <td id="LC1023">		<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1024" data-line-number="1024"></td>
          <td id="LC1024">	}</td>
        </tr>
        <tr>
          <td id="L1025" data-line-number="1025"></td>
          <td id="LC1025">	NppParameters&amp; nppParamInst = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L1026" data-line-number="1026"></td>
          <td id="LC1026">	LangType langT = nppParamInst.<span>getLangFromExt</span>(ext);</td>
        </tr>
        <tr>
          <td id="L1027" data-line-number="1027"></td>
          <td id="LC1027">
</td>
        </tr>
        <tr>
          <td id="L1028" data-line-number="1028"></td>
          <td id="LC1028">	<span>if</span> ((langT != L_XML) &amp;&amp; (langT != L_HTML))</td>
        </tr>
        <tr>
          <td id="L1029" data-line-number="1029"></td>
          <td id="LC1029">		<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1030" data-line-number="1030"></td>
          <td id="LC1030">
</td>
        </tr>
        <tr>
          <td id="L1031" data-line-number="1031"></td>
          <td id="LC1031">	<span><span>//</span> Get the beginning of file data</span></td>
        </tr>
        <tr>
          <td id="L1032" data-line-number="1032"></td>
          <td id="LC1032">	FILE *f = <span>generic_fopen</span>(fileName, <span>TEXT</span>(<span><span>&#34;</span>rb<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1033" data-line-number="1033"></td>
          <td id="LC1033">	<span>if</span> (!f)</td>
        </tr>
        <tr>
          <td id="L1034" data-line-number="1034"></td>
          <td id="LC1034">		<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1035" data-line-number="1035"></td>
          <td id="LC1035">	<span>const</span> <span>int</span> blockSize = <span>1024</span>; <span><span>//</span> To ensure that length is long enough to capture the encoding in html</span></td>
        </tr>
        <tr>
          <td id="L1036" data-line-number="1036"></td>
          <td id="LC1036">	<span>char</span> data[blockSize];</td>
        </tr>
        <tr>
          <td id="L1037" data-line-number="1037"></td>
          <td id="LC1037">	<span>size_t</span> lenFile = <span>fread</span>(data, <span>1</span>, blockSize, f);</td>
        </tr>
        <tr>
          <td id="L1038" data-line-number="1038"></td>
          <td id="LC1038">	<span>fclose</span>(f);</td>
        </tr>
        <tr>
          <td id="L1039" data-line-number="1039"></td>
          <td id="LC1039">
</td>
        </tr>
        <tr>
          <td id="L1040" data-line-number="1040"></td>
          <td id="LC1040">	<span><span>//</span> Put data in _invisibleEditView</span></td>
        </tr>
        <tr>
          <td id="L1041" data-line-number="1041"></td>
          <td id="LC1041">	_invisibleEditView.<span>execute</span>(SCI_CLEARALL);</td>
        </tr>
        <tr>
          <td id="L1042" data-line-number="1042"></td>
          <td id="LC1042">	_invisibleEditView.<span>execute</span>(SCI_APPENDTEXT, lenFile, <span>reinterpret_cast</span>&lt;LPARAM&gt;(data));</td>
        </tr>
        <tr>
          <td id="L1043" data-line-number="1043"></td>
          <td id="LC1043">
</td>
        </tr>
        <tr>
          <td id="L1044" data-line-number="1044"></td>
          <td id="LC1044">	<span>const</span> <span>char</span> *encodingAliasRegExpr = <span><span>&#34;</span>[a-zA-Z0-9_-]+<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1045" data-line-number="1045"></td>
          <td id="LC1045">	<span>const</span> <span>size_t</span> encodingStrLen = <span>128</span>;</td>
        </tr>
        <tr>
          <td id="L1046" data-line-number="1046"></td>
          <td id="LC1046">	<span>if</span> (langT == L_XML)</td>
        </tr>
        <tr>
          <td id="L1047" data-line-number="1047"></td>
          <td id="LC1047">	{</td>
        </tr>
        <tr>
          <td id="L1048" data-line-number="1048"></td>
          <td id="LC1048">		<span><span>//</span> find encoding by RegExpr</span></td>
        </tr>
        <tr>
          <td id="L1049" data-line-number="1049"></td>
          <td id="LC1049">
</td>
        </tr>
        <tr>
          <td id="L1050" data-line-number="1050"></td>
          <td id="LC1050">		<span>const</span> <span>char</span> *xmlHeaderRegExpr = <span><span>&#34;</span>&lt;?xml[ <span>\\</span>t]+version[ <span>\\</span>t]*=[ <span>\\</span>t]*<span>\&#34;</span>[^<span>\&#34;</span>]+<span>\&#34;</span>[ <span>\\</span>t]+encoding[ <span>\\</span>t]*=[ <span>\\</span>t]*<span>\&#34;</span>[^<span>\&#34;</span>]+<span>\&#34;</span>[ <span>\\</span>t]*.*?&gt;<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1051" data-line-number="1051"></td>
          <td id="LC1051">
</td>
        </tr>
        <tr>
          <td id="L1052" data-line-number="1052"></td>
          <td id="LC1052">        <span>size_t</span> startPos = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1053" data-line-number="1053"></td>
          <td id="LC1053">		<span>size_t</span> endPos = lenFile-<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1054" data-line-number="1054"></td>
          <td id="LC1054">		_invisibleEditView.<span>execute</span>(SCI_SETSEARCHFLAGS, SCFIND_REGEXP|SCFIND_POSIX);</td>
        </tr>
        <tr>
          <td id="L1055" data-line-number="1055"></td>
          <td id="LC1055">
</td>
        </tr>
        <tr>
          <td id="L1056" data-line-number="1056"></td>
          <td id="LC1056">		_invisibleEditView.<span>execute</span>(SCI_SETTARGETRANGE, startPos, endPos);</td>
        </tr>
        <tr>
          <td id="L1057" data-line-number="1057"></td>
          <td id="LC1057">
</td>
        </tr>
        <tr>
          <td id="L1058" data-line-number="1058"></td>
          <td id="LC1058">		<span>auto</span> posFound = _invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(xmlHeaderRegExpr), <span>reinterpret_cast</span>&lt;LPARAM&gt;(xmlHeaderRegExpr));</td>
        </tr>
        <tr>
          <td id="L1059" data-line-number="1059"></td>
          <td id="LC1059">		<span>if</span> (posFound &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1060" data-line-number="1060"></td>
          <td id="LC1060">		{</td>
        </tr>
        <tr>
          <td id="L1061" data-line-number="1061"></td>
          <td id="LC1061">            <span>const</span> <span>char</span> *encodingBlockRegExpr = <span><span>&#34;</span>encoding[ <span>\\</span>t]*=[ <span>\\</span>t]*<span>\&#34;</span>[^<span>\&#34;</span>.]+<span>\&#34;</span><span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1062" data-line-number="1062"></td>
          <td id="LC1062">			_invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(encodingBlockRegExpr), <span>reinterpret_cast</span>&lt;LPARAM&gt;(encodingBlockRegExpr));</td>
        </tr>
        <tr>
          <td id="L1063" data-line-number="1063"></td>
          <td id="LC1063">
</td>
        </tr>
        <tr>
          <td id="L1064" data-line-number="1064"></td>
          <td id="LC1064">            <span>const</span> <span>char</span> *encodingRegExpr = <span><span>&#34;</span><span>\&#34;</span>.+<span>\&#34;</span><span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1065" data-line-number="1065"></td>
          <td id="LC1065">			_invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(encodingRegExpr), <span>reinterpret_cast</span>&lt;LPARAM&gt;(encodingRegExpr));</td>
        </tr>
        <tr>
          <td id="L1066" data-line-number="1066"></td>
          <td id="LC1066">
</td>
        </tr>
        <tr>
          <td id="L1067" data-line-number="1067"></td>
          <td id="LC1067">			_invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(encodingAliasRegExpr), <span>reinterpret_cast</span>&lt;LPARAM&gt;(encodingAliasRegExpr));</td>
        </tr>
        <tr>
          <td id="L1068" data-line-number="1068"></td>
          <td id="LC1068">
</td>
        </tr>
        <tr>
          <td id="L1069" data-line-number="1069"></td>
          <td id="LC1069">            startPos = _invisibleEditView.<span>execute</span>(SCI_GETTARGETSTART);</td>
        </tr>
        <tr>
          <td id="L1070" data-line-number="1070"></td>
          <td id="LC1070">			endPos = _invisibleEditView.<span>execute</span>(SCI_GETTARGETEND);</td>
        </tr>
        <tr>
          <td id="L1071" data-line-number="1071"></td>
          <td id="LC1071">			</td>
        </tr>
        <tr>
          <td id="L1072" data-line-number="1072"></td>
          <td id="LC1072">			<span>size_t</span> len = endPos - startPos;</td>
        </tr>
        <tr>
          <td id="L1073" data-line-number="1073"></td>
          <td id="LC1073">			<span>if</span> (len &gt;= encodingStrLen)</td>
        </tr>
        <tr>
          <td id="L1074" data-line-number="1074"></td>
          <td id="LC1074">			{</td>
        </tr>
        <tr>
          <td id="L1075" data-line-number="1075"></td>
          <td id="LC1075">				<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1076" data-line-number="1076"></td>
          <td id="LC1076">			}</td>
        </tr>
        <tr>
          <td id="L1077" data-line-number="1077"></td>
          <td id="LC1077">
</td>
        </tr>
        <tr>
          <td id="L1078" data-line-number="1078"></td>
          <td id="LC1078">            <span>char</span> encodingStr[encodingStrLen];</td>
        </tr>
        <tr>
          <td id="L1079" data-line-number="1079"></td>
          <td id="LC1079">            _invisibleEditView.<span>getText</span>(encodingStr, startPos, endPos);</td>
        </tr>
        <tr>
          <td id="L1080" data-line-number="1080"></td>
          <td id="LC1080">
</td>
        </tr>
        <tr>
          <td id="L1081" data-line-number="1081"></td>
          <td id="LC1081">			EncodingMapper&amp; em = <span>EncodingMapper::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L1082" data-line-number="1082"></td>
          <td id="LC1082">            <span>int</span> enc = em.<span>getEncodingFromString</span>(encodingStr);</td>
        </tr>
        <tr>
          <td id="L1083" data-line-number="1083"></td>
          <td id="LC1083">            <span>return</span> (enc == CP_ACP ? -<span>1</span> : enc);</td>
        </tr>
        <tr>
          <td id="L1084" data-line-number="1084"></td>
          <td id="LC1084">		}</td>
        </tr>
        <tr>
          <td id="L1085" data-line-number="1085"></td>
          <td id="LC1085">        <span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1086" data-line-number="1086"></td>
          <td id="LC1086">	}</td>
        </tr>
        <tr>
          <td id="L1087" data-line-number="1087"></td>
          <td id="LC1087">	<span>else</span> <span><span>//</span> if (langT == L_HTML)</span></td>
        </tr>
        <tr>
          <td id="L1088" data-line-number="1088"></td>
          <td id="LC1088">	{</td>
        </tr>
        <tr>
          <td id="L1089" data-line-number="1089"></td>
          <td id="LC1089">		<span>const</span> <span>char</span> *htmlHeaderRegExpr  = <span><span>&#34;</span>&lt;meta[ <span>\\</span>t]+http-equiv[ <span>\\</span>t]*=[ <span>\\</span>t<span>\&#34;</span>&#39;]*Content-Type[ <span>\\</span>t<span>\&#34;</span>&#39;]*content[ <span>\\</span>t]*= *[<span>\&#34;</span>&#39;]text/html;[ <span>\\</span>t]+charset[ <span>\\</span>t]*=[ <span>\\</span>t]*.+[<span>\&#34;</span>&#39;] */*&gt;<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1090" data-line-number="1090"></td>
          <td id="LC1090">		<span>const</span> <span>char</span> *htmlHeaderRegExpr2 = <span><span>&#34;</span>&lt;meta[ <span>\\</span>t]+content[ <span>\\</span>t]*= *[<span>\&#34;</span>&#39;]text/html;[ <span>\\</span>t]+charset[ <span>\\</span>t]*=[ <span>\\</span>t]*.+[ <span>\\</span>t<span>\&#34;</span>&#39;]http-equiv[ <span>\\</span>t]*=[ <span>\\</span>t<span>\&#34;</span>&#39;]*Content-Type[ <span>\\</span>t<span>\&#34;</span>&#39;]*/*&gt;<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1091" data-line-number="1091"></td>
          <td id="LC1091">		<span>const</span> <span>char</span> *charsetBlock = <span><span>&#34;</span>charset[ <span>\\</span>t]*=[ <span>\\</span>t]*[^<span>\&#34;</span>&#39;]+<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1092" data-line-number="1092"></td>
          <td id="LC1092">		<span>const</span> <span>char</span> *intermediaire = <span><span>&#34;</span>=[ <span>\\</span>t]*.+<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1093" data-line-number="1093"></td>
          <td id="LC1093">		<span>const</span> <span>char</span> *encodingStrRE = <span><span>&#34;</span>[^ <span>\\</span>t=]+<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1094" data-line-number="1094"></td>
          <td id="LC1094">
</td>
        </tr>
        <tr>
          <td id="L1095" data-line-number="1095"></td>
          <td id="LC1095">		<span>intptr_t</span> startPos = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1096" data-line-number="1096"></td>
          <td id="LC1096">		<span>auto</span> endPos = lenFile - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1097" data-line-number="1097"></td>
          <td id="LC1097">		_invisibleEditView.<span>execute</span>(SCI_SETSEARCHFLAGS, SCFIND_REGEXP|SCFIND_POSIX);</td>
        </tr>
        <tr>
          <td id="L1098" data-line-number="1098"></td>
          <td id="LC1098">
</td>
        </tr>
        <tr>
          <td id="L1099" data-line-number="1099"></td>
          <td id="LC1099">		_invisibleEditView.<span>execute</span>(SCI_SETTARGETRANGE, startPos, endPos);</td>
        </tr>
        <tr>
          <td id="L1100" data-line-number="1100"></td>
          <td id="LC1100">
</td>
        </tr>
        <tr>
          <td id="L1101" data-line-number="1101"></td>
          <td id="LC1101">		<span>auto</span> posFound = _invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(htmlHeaderRegExpr), <span>reinterpret_cast</span>&lt;LPARAM&gt;(htmlHeaderRegExpr));</td>
        </tr>
        <tr>
          <td id="L1102" data-line-number="1102"></td>
          <td id="LC1102">
</td>
        </tr>
        <tr>
          <td id="L1103" data-line-number="1103"></td>
          <td id="LC1103">		<span>if</span> (posFound &lt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1104" data-line-number="1104"></td>
          <td id="LC1104">		{</td>
        </tr>
        <tr>
          <td id="L1105" data-line-number="1105"></td>
          <td id="LC1105">			posFound = _invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(htmlHeaderRegExpr2), <span>reinterpret_cast</span>&lt;LPARAM&gt;(htmlHeaderRegExpr2));</td>
        </tr>
        <tr>
          <td id="L1106" data-line-number="1106"></td>
          <td id="LC1106">			<span>if</span> (posFound &lt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1107" data-line-number="1107"></td>
          <td id="LC1107">				<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1108" data-line-number="1108"></td>
          <td id="LC1108">		}</td>
        </tr>
        <tr>
          <td id="L1109" data-line-number="1109"></td>
          <td id="LC1109">		_invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(charsetBlock), <span>reinterpret_cast</span>&lt;LPARAM&gt;(charsetBlock));</td>
        </tr>
        <tr>
          <td id="L1110" data-line-number="1110"></td>
          <td id="LC1110">		_invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(intermediaire), <span>reinterpret_cast</span>&lt;LPARAM&gt;(intermediaire));</td>
        </tr>
        <tr>
          <td id="L1111" data-line-number="1111"></td>
          <td id="LC1111">		_invisibleEditView.<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(encodingStrRE), <span>reinterpret_cast</span>&lt;LPARAM&gt;(encodingStrRE));</td>
        </tr>
        <tr>
          <td id="L1112" data-line-number="1112"></td>
          <td id="LC1112">
</td>
        </tr>
        <tr>
          <td id="L1113" data-line-number="1113"></td>
          <td id="LC1113">        startPos = _invisibleEditView.<span>execute</span>(SCI_GETTARGETSTART);</td>
        </tr>
        <tr>
          <td id="L1114" data-line-number="1114"></td>
          <td id="LC1114">		endPos = _invisibleEditView.<span>execute</span>(SCI_GETTARGETEND);</td>
        </tr>
        <tr>
          <td id="L1115" data-line-number="1115"></td>
          <td id="LC1115">
</td>
        </tr>
        <tr>
          <td id="L1116" data-line-number="1116"></td>
          <td id="LC1116">		<span>size_t</span> len = endPos - startPos;</td>
        </tr>
        <tr>
          <td id="L1117" data-line-number="1117"></td>
          <td id="LC1117">		<span>if</span> (len &gt;= encodingStrLen)</td>
        </tr>
        <tr>
          <td id="L1118" data-line-number="1118"></td>
          <td id="LC1118">		{</td>
        </tr>
        <tr>
          <td id="L1119" data-line-number="1119"></td>
          <td id="LC1119">			<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1120" data-line-number="1120"></td>
          <td id="LC1120">		}</td>
        </tr>
        <tr>
          <td id="L1121" data-line-number="1121"></td>
          <td id="LC1121">
</td>
        </tr>
        <tr>
          <td id="L1122" data-line-number="1122"></td>
          <td id="LC1122">        <span>char</span> encodingStr[encodingStrLen];</td>
        </tr>
        <tr>
          <td id="L1123" data-line-number="1123"></td>
          <td id="LC1123">        _invisibleEditView.<span>getText</span>(encodingStr, startPos, endPos);</td>
        </tr>
        <tr>
          <td id="L1124" data-line-number="1124"></td>
          <td id="LC1124">
</td>
        </tr>
        <tr>
          <td id="L1125" data-line-number="1125"></td>
          <td id="LC1125">		EncodingMapper&amp; em = <span>EncodingMapper::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L1126" data-line-number="1126"></td>
          <td id="LC1126">		<span>int</span> enc = em.<span>getEncodingFromString</span>(encodingStr);</td>
        </tr>
        <tr>
          <td id="L1127" data-line-number="1127"></td>
          <td id="LC1127">        <span>return</span> (enc == CP_ACP ? -<span>1</span> : enc);</td>
        </tr>
        <tr>
          <td id="L1128" data-line-number="1128"></td>
          <td id="LC1128">	}</td>
        </tr>
        <tr>
          <td id="L1129" data-line-number="1129"></td>
          <td id="LC1129">}</td>
        </tr>
        <tr>
          <td id="L1130" data-line-number="1130"></td>
          <td id="LC1130">
</td>
        </tr>
        <tr>
          <td id="L1131" data-line-number="1131"></td>
          <td id="LC1131"><span>void</span> <span>Notepad_plus::setCodePageForInvisibleView</span>(Buffer <span>const</span> *pBuffer)</td>
        </tr>
        <tr>
          <td id="L1132" data-line-number="1132"></td>
          <td id="LC1132">{</td>
        </tr>
        <tr>
          <td id="L1133" data-line-number="1133"></td>
          <td id="LC1133">	<span>intptr_t</span> detectedCp = _invisibleEditView.<span>execute</span>(SCI_GETCODEPAGE);</td>
        </tr>
        <tr>
          <td id="L1134" data-line-number="1134"></td>
          <td id="LC1134">	<span>intptr_t</span> cp2set = SC_CP_UTF8;</td>
        </tr>
        <tr>
          <td id="L1135" data-line-number="1135"></td>
          <td id="LC1135">	<span>if</span> (pBuffer-&gt;<span>getUnicodeMode</span>() == uni8Bit)</td>
        </tr>
        <tr>
          <td id="L1136" data-line-number="1136"></td>
          <td id="LC1136">	{</td>
        </tr>
        <tr>
          <td id="L1137" data-line-number="1137"></td>
          <td id="LC1137">		cp2set = (detectedCp == SC_CP_UTF8 ? CP_ACP : detectedCp);</td>
        </tr>
        <tr>
          <td id="L1138" data-line-number="1138"></td>
          <td id="LC1138">	}</td>
        </tr>
        <tr>
          <td id="L1139" data-line-number="1139"></td>
          <td id="LC1139">	_invisibleEditView.<span>execute</span>(SCI_SETCODEPAGE, cp2set);</td>
        </tr>
        <tr>
          <td id="L1140" data-line-number="1140"></td>
          <td id="LC1140">}</td>
        </tr>
        <tr>
          <td id="L1141" data-line-number="1141"></td>
          <td id="LC1141">
</td>
        </tr>
        <tr>
          <td id="L1142" data-line-number="1142"></td>
          <td id="LC1142"><span>bool</span> <span>Notepad_plus::replaceInOpenedFiles</span>()</td>
        </tr>
        <tr>
          <td id="L1143" data-line-number="1143"></td>
          <td id="LC1143">{</td>
        </tr>
        <tr>
          <td id="L1144" data-line-number="1144"></td>
          <td id="LC1144">
</td>
        </tr>
        <tr>
          <td id="L1145" data-line-number="1145"></td>
          <td id="LC1145">	ScintillaEditView *pOldView = _pEditView;</td>
        </tr>
        <tr>
          <td id="L1146" data-line-number="1146"></td>
          <td id="LC1146">	_pEditView = &amp;_invisibleEditView;</td>
        </tr>
        <tr>
          <td id="L1147" data-line-number="1147"></td>
          <td id="LC1147">	Document oldDoc = _invisibleEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L1148" data-line-number="1148"></td>
          <td id="LC1148">	Buffer * oldBuf = _invisibleEditView.<span>getCurrentBuffer</span>();	<span><span>//</span>for manually setting the buffer, so notifications can be handled properly</span></td>
        </tr>
        <tr>
          <td id="L1149" data-line-number="1149"></td>
          <td id="LC1149">
</td>
        </tr>
        <tr>
          <td id="L1150" data-line-number="1150"></td>
          <td id="LC1150">	Buffer * pBuf = <span>NULL</span>;</td>
        </tr>
        <tr>
          <td id="L1151" data-line-number="1151"></td>
          <td id="LC1151">
</td>
        </tr>
        <tr>
          <td id="L1152" data-line-number="1152"></td>
          <td id="LC1152">	<span>int</span> nbTotal = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1153" data-line-number="1153"></td>
          <td id="LC1153">	<span>const</span> <span>bool</span> isEntireDoc = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1154" data-line-number="1154"></td>
          <td id="LC1154">
</td>
        </tr>
        <tr>
          <td id="L1155" data-line-number="1155"></td>
          <td id="LC1155">    <span>if</span> (_mainWindowStatus &amp; WindowMainActive)</td>
        </tr>
        <tr>
          <td id="L1156" data-line-number="1156"></td>
          <td id="LC1156">    {</td>
        </tr>
        <tr>
          <td id="L1157" data-line-number="1157"></td>
          <td id="LC1157">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = _mainDocTab.<span>nbItem</span>(); i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L1158" data-line-number="1158"></td>
          <td id="LC1158">	    {</td>
        </tr>
        <tr>
          <td id="L1159" data-line-number="1159"></td>
          <td id="LC1159">			pBuf = MainFileManager.<span>getBufferByID</span>(_mainDocTab.<span>getBufferByIndex</span>(i));</td>
        </tr>
        <tr>
          <td id="L1160" data-line-number="1160"></td>
          <td id="LC1160">			<span>if</span> (pBuf-&gt;<span>isReadOnly</span>())</td>
        </tr>
        <tr>
          <td id="L1161" data-line-number="1161"></td>
          <td id="LC1161">				<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L1162" data-line-number="1162"></td>
          <td id="LC1162">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L1163" data-line-number="1163"></td>
          <td id="LC1163">
</td>
        </tr>
        <tr>
          <td id="L1164" data-line-number="1164"></td>
          <td id="LC1164">			<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1165" data-line-number="1165"></td>
          <td id="LC1165">
</td>
        </tr>
        <tr>
          <td id="L1166" data-line-number="1166"></td>
          <td id="LC1166">			_invisibleEditView.<span>setCurrentBuffer</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1167" data-line-number="1167"></td>
          <td id="LC1167">
</td>
        </tr>
        <tr>
          <td id="L1168" data-line-number="1168"></td>
          <td id="LC1168">			_invisibleEditView.<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L1169" data-line-number="1169"></td>
          <td id="LC1169">			nbTotal += _findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, FindReplaceDlg::_env, isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1170" data-line-number="1170"></td>
          <td id="LC1170">			_invisibleEditView.<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L1171" data-line-number="1171"></td>
          <td id="LC1171">		}</td>
        </tr>
        <tr>
          <td id="L1172" data-line-number="1172"></td>
          <td id="LC1172">	}</td>
        </tr>
        <tr>
          <td id="L1173" data-line-number="1173"></td>
          <td id="LC1173">
</td>
        </tr>
        <tr>
          <td id="L1174" data-line-number="1174"></td>
          <td id="LC1174">	<span>if</span> (_mainWindowStatus &amp; WindowSubActive)</td>
        </tr>
        <tr>
          <td id="L1175" data-line-number="1175"></td>
          <td id="LC1175">	{</td>
        </tr>
        <tr>
          <td id="L1176" data-line-number="1176"></td>
          <td id="LC1176">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = _subDocTab.<span>nbItem</span>(); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L1177" data-line-number="1177"></td>
          <td id="LC1177">		{</td>
        </tr>
        <tr>
          <td id="L1178" data-line-number="1178"></td>
          <td id="LC1178">			pBuf = MainFileManager.<span>getBufferByID</span>(_subDocTab.<span>getBufferByIndex</span>(i));</td>
        </tr>
        <tr>
          <td id="L1179" data-line-number="1179"></td>
          <td id="LC1179">			<span>if</span> (pBuf-&gt;<span>isReadOnly</span>())</td>
        </tr>
        <tr>
          <td id="L1180" data-line-number="1180"></td>
          <td id="LC1180">				<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L1181" data-line-number="1181"></td>
          <td id="LC1181">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L1182" data-line-number="1182"></td>
          <td id="LC1182">
</td>
        </tr>
        <tr>
          <td id="L1183" data-line-number="1183"></td>
          <td id="LC1183">			<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1184" data-line-number="1184"></td>
          <td id="LC1184">
</td>
        </tr>
        <tr>
          <td id="L1185" data-line-number="1185"></td>
          <td id="LC1185">			_invisibleEditView.<span>setCurrentBuffer</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1186" data-line-number="1186"></td>
          <td id="LC1186">
</td>
        </tr>
        <tr>
          <td id="L1187" data-line-number="1187"></td>
          <td id="LC1187">			_invisibleEditView.<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L1188" data-line-number="1188"></td>
          <td id="LC1188">			nbTotal += _findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, FindReplaceDlg::_env, isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1189" data-line-number="1189"></td>
          <td id="LC1189">			_invisibleEditView.<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L1190" data-line-number="1190"></td>
          <td id="LC1190">		}</td>
        </tr>
        <tr>
          <td id="L1191" data-line-number="1191"></td>
          <td id="LC1191">	}</td>
        </tr>
        <tr>
          <td id="L1192" data-line-number="1192"></td>
          <td id="LC1192">
</td>
        </tr>
        <tr>
          <td id="L1193" data-line-number="1193"></td>
          <td id="LC1193">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, oldDoc);</td>
        </tr>
        <tr>
          <td id="L1194" data-line-number="1194"></td>
          <td id="LC1194">	_invisibleEditView.<span>setCurrentBuffer</span>(oldBuf);</td>
        </tr>
        <tr>
          <td id="L1195" data-line-number="1195"></td>
          <td id="LC1195">	_pEditView = pOldView;</td>
        </tr>
        <tr>
          <td id="L1196" data-line-number="1196"></td>
          <td id="LC1196">
</td>
        </tr>
        <tr>
          <td id="L1197" data-line-number="1197"></td>
          <td id="LC1197">
</td>
        </tr>
        <tr>
          <td id="L1198" data-line-number="1198"></td>
          <td id="LC1198">	<span>if</span> (nbTotal &lt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1199" data-line-number="1199"></td>
          <td id="LC1199">	{</td>
        </tr>
        <tr>
          <td id="L1200" data-line-number="1200"></td>
          <td id="LC1200">		generic_string msg = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(<span><span>&#34;</span>find-status-replaceinfiles-re-malformed<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Replace in Opened Files: The regular expression is malformed.<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1201" data-line-number="1201"></td>
          <td id="LC1201">		_findReplaceDlg.<span>setStatusbarMessage</span>(msg, FSNotFound);</td>
        </tr>
        <tr>
          <td id="L1202" data-line-number="1202"></td>
          <td id="LC1202">	}</td>
        </tr>
        <tr>
          <td id="L1203" data-line-number="1203"></td>
          <td id="LC1203">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L1204" data-line-number="1204"></td>
          <td id="LC1204">	{</td>
        </tr>
        <tr>
          <td id="L1205" data-line-number="1205"></td>
          <td id="LC1205">		<span>if</span> (nbTotal)</td>
        </tr>
        <tr>
          <td id="L1206" data-line-number="1206"></td>
          <td id="LC1206">			<span>enableCommand</span>(IDM_FILE_SAVEALL, <span>true</span>, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L1207" data-line-number="1207"></td>
          <td id="LC1207">
</td>
        </tr>
        <tr>
          <td id="L1208" data-line-number="1208"></td>
          <td id="LC1208">		generic_string result;</td>
        </tr>
        <tr>
          <td id="L1209" data-line-number="1209"></td>
          <td id="LC1209">		<span>if</span> (nbTotal == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L1210" data-line-number="1210"></td>
          <td id="LC1210">		{</td>
        </tr>
        <tr>
          <td id="L1211" data-line-number="1211"></td>
          <td id="LC1211">			result = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(<span><span>&#34;</span>find-status-replaceinopenedfiles-1-replaced<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Replace in Opened Files: 1 occurrence was replaced.<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1212" data-line-number="1212"></td>
          <td id="LC1212">		}</td>
        </tr>
        <tr>
          <td id="L1213" data-line-number="1213"></td>
          <td id="LC1213">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L1214" data-line-number="1214"></td>
          <td id="LC1214">		{</td>
        </tr>
        <tr>
          <td id="L1215" data-line-number="1215"></td>
          <td id="LC1215">			result = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(<span><span>&#34;</span>find-status-replaceinopenedfiles-nb-replaced<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Replace in Opened Files: $INT_REPLACE$ occurrences were replaced.<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1216" data-line-number="1216"></td>
          <td id="LC1216">			result = <span>stringReplace</span>(result, <span>TEXT</span>(<span><span>&#34;</span>$INT_REPLACE$<span>&#34;</span></span>), <span>std::to_wstring</span>(nbTotal));</td>
        </tr>
        <tr>
          <td id="L1217" data-line-number="1217"></td>
          <td id="LC1217">		}</td>
        </tr>
        <tr>
          <td id="L1218" data-line-number="1218"></td>
          <td id="LC1218">		_findReplaceDlg.<span>setStatusbarMessage</span>(result, FSMessage);</td>
        </tr>
        <tr>
          <td id="L1219" data-line-number="1219"></td>
          <td id="LC1219">	}</td>
        </tr>
        <tr>
          <td id="L1220" data-line-number="1220"></td>
          <td id="LC1220">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1221" data-line-number="1221"></td>
          <td id="LC1221">}</td>
        </tr>
        <tr>
          <td id="L1222" data-line-number="1222"></td>
          <td id="LC1222">
</td>
        </tr>
        <tr>
          <td id="L1223" data-line-number="1223"></td>
          <td id="LC1223">
</td>
        </tr>
        <tr>
          <td id="L1224" data-line-number="1224"></td>
          <td id="LC1224"><span>void</span> <span>Notepad_plus::wsTabConvert</span>(spaceTab whichWay)</td>
        </tr>
        <tr>
          <td id="L1225" data-line-number="1225"></td>
          <td id="LC1225">{</td>
        </tr>
        <tr>
          <td id="L1226" data-line-number="1226"></td>
          <td id="LC1226">	<span>intptr_t</span> tabWidth = _pEditView-&gt;<span>execute</span>(SCI_GETTABWIDTH);</td>
        </tr>
        <tr>
          <td id="L1227" data-line-number="1227"></td>
          <td id="LC1227">	<span>intptr_t</span> currentPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L1228" data-line-number="1228"></td>
          <td id="LC1228">    <span>intptr_t</span> lastLine = _pEditView-&gt;<span>lastZeroBasedLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L1229" data-line-number="1229"></td>
          <td id="LC1229">	<span>intptr_t</span> docLength = _pEditView-&gt;<span>execute</span>(SCI_GETLENGTH) + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1230" data-line-number="1230"></td>
          <td id="LC1230">    <span>if</span> (docLength &lt; <span>2</span>)</td>
        </tr>
        <tr>
          <td id="L1231" data-line-number="1231"></td>
          <td id="LC1231">        <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L1232" data-line-number="1232"></td>
          <td id="LC1232">
</td>
        </tr>
        <tr>
          <td id="L1233" data-line-number="1233"></td>
          <td id="LC1233">    <span>intptr_t</span> count = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1234" data-line-number="1234"></td>
          <td id="LC1234">    <span>intptr_t</span> column = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1235" data-line-number="1235"></td>
          <td id="LC1235">    <span>intptr_t</span> newCurrentPos = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1236" data-line-number="1236"></td>
          <td id="LC1236">	<span>intptr_t</span> tabStop = tabWidth - <span>1</span>;   <span><span>//</span> remember, counting from zero !</span></td>
        </tr>
        <tr>
          <td id="L1237" data-line-number="1237"></td>
          <td id="LC1237">    <span>bool</span> onlyLeading = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1238" data-line-number="1238"></td>
          <td id="LC1238">    vector&lt;<span>int</span>&gt; bookmarks;</td>
        </tr>
        <tr>
          <td id="L1239" data-line-number="1239"></td>
          <td id="LC1239">    vector&lt;<span>int</span>&gt; folding;</td>
        </tr>
        <tr>
          <td id="L1240" data-line-number="1240"></td>
          <td id="LC1240">
</td>
        </tr>
        <tr>
          <td id="L1241" data-line-number="1241"></td>
          <td id="LC1241">    <span>for</span> (<span>int</span> i=<span>0</span>; i&lt;lastLine; ++i)</td>
        </tr>
        <tr>
          <td id="L1242" data-line-number="1242"></td>
          <td id="LC1242">    {</td>
        </tr>
        <tr>
          <td id="L1243" data-line-number="1243"></td>
          <td id="LC1243">        <span>if</span> (<span>bookmarkPresent</span>(i))</td>
        </tr>
        <tr>
          <td id="L1244" data-line-number="1244"></td>
          <td id="LC1244">            bookmarks.<span>push_back</span>(i);</td>
        </tr>
        <tr>
          <td id="L1245" data-line-number="1245"></td>
          <td id="LC1245">
</td>
        </tr>
        <tr>
          <td id="L1246" data-line-number="1246"></td>
          <td id="LC1246">        <span>if</span> ((_pEditView-&gt;<span>execute</span>(SCI_GETFOLDLEVEL, i) &amp; SC_FOLDLEVELHEADERFLAG))</td>
        </tr>
        <tr>
          <td id="L1247" data-line-number="1247"></td>
          <td id="LC1247">            <span>if</span> (_pEditView-&gt;<span>execute</span>(SCI_GETFOLDEXPANDED, i) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1248" data-line-number="1248"></td>
          <td id="LC1248">                folding.<span>push_back</span>(i);</td>
        </tr>
        <tr>
          <td id="L1249" data-line-number="1249"></td>
          <td id="LC1249">    }</td>
        </tr>
        <tr>
          <td id="L1250" data-line-number="1250"></td>
          <td id="LC1250">
</td>
        </tr>
        <tr>
          <td id="L1251" data-line-number="1251"></td>
          <td id="LC1251">    <span>char</span> * source = <span>new</span> <span>char</span>[docLength];</td>
        </tr>
        <tr>
          <td id="L1252" data-line-number="1252"></td>
          <td id="LC1252">    <span>if</span> (source == <span>NULL</span>)</td>
        </tr>
        <tr>
          <td id="L1253" data-line-number="1253"></td>
          <td id="LC1253">        <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L1254" data-line-number="1254"></td>
          <td id="LC1254">    _pEditView-&gt;<span>execute</span>(SCI_GETTEXT, docLength, <span>reinterpret_cast</span>&lt;LPARAM&gt;(source));</td>
        </tr>
        <tr>
          <td id="L1255" data-line-number="1255"></td>
          <td id="LC1255">
</td>
        </tr>
        <tr>
          <td id="L1256" data-line-number="1256"></td>
          <td id="LC1256">    <span>if</span> (whichWay == tab2Space)</td>
        </tr>
        <tr>
          <td id="L1257" data-line-number="1257"></td>
          <td id="LC1257">    {</td>
        </tr>
        <tr>
          <td id="L1258" data-line-number="1258"></td>
          <td id="LC1258">        <span><span>//</span> count how many tabs are there</span></td>
        </tr>
        <tr>
          <td id="L1259" data-line-number="1259"></td>
          <td id="LC1259">        <span>for</span> (<span>const</span> <span>char</span> * ch=source; *ch; ++ch)</td>
        </tr>
        <tr>
          <td id="L1260" data-line-number="1260"></td>
          <td id="LC1260">        {</td>
        </tr>
        <tr>
          <td id="L1261" data-line-number="1261"></td>
          <td id="LC1261">            <span>if</span> (*ch == <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L1262" data-line-number="1262"></td>
          <td id="LC1262">                ++count;</td>
        </tr>
        <tr>
          <td id="L1263" data-line-number="1263"></td>
          <td id="LC1263">        }</td>
        </tr>
        <tr>
          <td id="L1264" data-line-number="1264"></td>
          <td id="LC1264">        <span>if</span> (count == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1265" data-line-number="1265"></td>
          <td id="LC1265">        {</td>
        </tr>
        <tr>
          <td id="L1266" data-line-number="1266"></td>
          <td id="LC1266">            <span>delete []</span> source;</td>
        </tr>
        <tr>
          <td id="L1267" data-line-number="1267"></td>
          <td id="LC1267">            <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L1268" data-line-number="1268"></td>
          <td id="LC1268">        }</td>
        </tr>
        <tr>
          <td id="L1269" data-line-number="1269"></td>
          <td id="LC1269">    }</td>
        </tr>
        <tr>
          <td id="L1270" data-line-number="1270"></td>
          <td id="LC1270">    <span><span>//</span> allocate tabwidth-1 chars extra per tab, just to be safe</span></td>
        </tr>
        <tr>
          <td id="L1271" data-line-number="1271"></td>
          <td id="LC1271">    <span>size_t</span> newlen = docLength + count * (tabWidth - <span>1</span>) + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1272" data-line-number="1272"></td>
          <td id="LC1272">    <span>char</span> * destination = <span>new</span> <span>char</span>[newlen];</td>
        </tr>
        <tr>
          <td id="L1273" data-line-number="1273"></td>
          <td id="LC1273">    <span>if</span> (destination == <span>NULL</span>)</td>
        </tr>
        <tr>
          <td id="L1274" data-line-number="1274"></td>
          <td id="LC1274">    {</td>
        </tr>
        <tr>
          <td id="L1275" data-line-number="1275"></td>
          <td id="LC1275">        <span>delete []</span> source;</td>
        </tr>
        <tr>
          <td id="L1276" data-line-number="1276"></td>
          <td id="LC1276">        <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L1277" data-line-number="1277"></td>
          <td id="LC1277">    }</td>
        </tr>
        <tr>
          <td id="L1278" data-line-number="1278"></td>
          <td id="LC1278">    <span>char</span> * dest = destination;</td>
        </tr>
        <tr>
          <td id="L1279" data-line-number="1279"></td>
          <td id="LC1279">
</td>
        </tr>
        <tr>
          <td id="L1280" data-line-number="1280"></td>
          <td id="LC1280">    <span>switch</span> (whichWay)</td>
        </tr>
        <tr>
          <td id="L1281" data-line-number="1281"></td>
          <td id="LC1281">    {</td>
        </tr>
        <tr>
          <td id="L1282" data-line-number="1282"></td>
          <td id="LC1282">        <span>case</span> tab2Space:</td>
        </tr>
        <tr>
          <td id="L1283" data-line-number="1283"></td>
          <td id="LC1283">        {</td>
        </tr>
        <tr>
          <td id="L1284" data-line-number="1284"></td>
          <td id="LC1284">            <span><span>//</span> rip through each line of the file</span></td>
        </tr>
        <tr>
          <td id="L1285" data-line-number="1285"></td>
          <td id="LC1285">            <span>for</span> (<span>int</span> i = <span>0</span>; source[i] != <span><span>&#39;</span><span>\0</span><span>&#39;</span></span>; ++i)</td>
        </tr>
        <tr>
          <td id="L1286" data-line-number="1286"></td>
          <td id="LC1286">            {</td>
        </tr>
        <tr>
          <td id="L1287" data-line-number="1287"></td>
          <td id="LC1287">                <span>if</span> (source[i] == <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L1288" data-line-number="1288"></td>
          <td id="LC1288">                {</td>
        </tr>
        <tr>
          <td id="L1289" data-line-number="1289"></td>
          <td id="LC1289">                    <span>intptr_t</span> insertTabs = tabWidth - (column % tabWidth);</td>
        </tr>
        <tr>
          <td id="L1290" data-line-number="1290"></td>
          <td id="LC1290">                    <span>for</span> (<span>int</span> j = <span>0</span>; j &lt; insertTabs; ++j)</td>
        </tr>
        <tr>
          <td id="L1291" data-line-number="1291"></td>
          <td id="LC1291">                    {</td>
        </tr>
        <tr>
          <td id="L1292" data-line-number="1292"></td>
          <td id="LC1292">                        *dest++ = <span><span>&#39;</span> <span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1293" data-line-number="1293"></td>
          <td id="LC1293">                        <span>if</span> (i &lt;= currentPos)</td>
        </tr>
        <tr>
          <td id="L1294" data-line-number="1294"></td>
          <td id="LC1294">                            ++newCurrentPos;</td>
        </tr>
        <tr>
          <td id="L1295" data-line-number="1295"></td>
          <td id="LC1295">                    }</td>
        </tr>
        <tr>
          <td id="L1296" data-line-number="1296"></td>
          <td id="LC1296">                    column += insertTabs;</td>
        </tr>
        <tr>
          <td id="L1297" data-line-number="1297"></td>
          <td id="LC1297">                }</td>
        </tr>
        <tr>
          <td id="L1298" data-line-number="1298"></td>
          <td id="LC1298">                <span>else</span></td>
        </tr>
        <tr>
          <td id="L1299" data-line-number="1299"></td>
          <td id="LC1299">                {</td>
        </tr>
        <tr>
          <td id="L1300" data-line-number="1300"></td>
          <td id="LC1300">                    *dest++ = source[i];</td>
        </tr>
        <tr>
          <td id="L1301" data-line-number="1301"></td>
          <td id="LC1301">                    <span>if</span> (i &lt;= currentPos)</td>
        </tr>
        <tr>
          <td id="L1302" data-line-number="1302"></td>
          <td id="LC1302">                        ++newCurrentPos;</td>
        </tr>
        <tr>
          <td id="L1303" data-line-number="1303"></td>
          <td id="LC1303">                    <span>if</span> ((source[i] == <span><span>&#39;</span><span>\n</span><span>&#39;</span></span>) || (source[i] == <span><span>&#39;</span><span>\r</span><span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L1304" data-line-number="1304"></td>
          <td id="LC1304">                        column = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1305" data-line-number="1305"></td>
          <td id="LC1305">                    <span>else</span> <span>if</span> ((source[i] &amp; <span>0xC0</span>) != <span>0x80</span>)  <span><span>//</span> UTF_8 support: count only bytes that don&#39;t start with 10......</span></td>
        </tr>
        <tr>
          <td id="L1306" data-line-number="1306"></td>
          <td id="LC1306">                        ++column;</td>
        </tr>
        <tr>
          <td id="L1307" data-line-number="1307"></td>
          <td id="LC1307">                }</td>
        </tr>
        <tr>
          <td id="L1308" data-line-number="1308"></td>
          <td id="LC1308">            }</td>
        </tr>
        <tr>
          <td id="L1309" data-line-number="1309"></td>
          <td id="LC1309">            *dest = <span><span>&#39;</span><span>\0</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1310" data-line-number="1310"></td>
          <td id="LC1310">            <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L1311" data-line-number="1311"></td>
          <td id="LC1311">        }</td>
        </tr>
        <tr>
          <td id="L1312" data-line-number="1312"></td>
          <td id="LC1312">        <span>case</span> space2TabLeading:</td>
        </tr>
        <tr>
          <td id="L1313" data-line-number="1313"></td>
          <td id="LC1313">        {</td>
        </tr>
        <tr>
          <td id="L1314" data-line-number="1314"></td>
          <td id="LC1314">            onlyLeading = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1315" data-line-number="1315"></td>
          <td id="LC1315">        }</td>
        </tr>
        <tr>
          <td id="L1316" data-line-number="1316"></td>
          <td id="LC1316">        <span>case</span> space2TabAll:</td>
        </tr>
        <tr>
          <td id="L1317" data-line-number="1317"></td>
          <td id="LC1317">        {</td>
        </tr>
        <tr>
          <td id="L1318" data-line-number="1318"></td>
          <td id="LC1318">            <span>bool</span> nextChar = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1319" data-line-number="1319"></td>
          <td id="LC1319">			<span>int</span> counter = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1320" data-line-number="1320"></td>
          <td id="LC1320">			<span>bool</span> nonSpaceFound = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1321" data-line-number="1321"></td>
          <td id="LC1321">            <span>for</span> (<span>int</span> i=<span>0</span>; source[i] != <span><span>&#39;</span><span>\0</span><span>&#39;</span></span>; ++i)</td>
        </tr>
        <tr>
          <td id="L1322" data-line-number="1322"></td>
          <td id="LC1322">            {</td>
        </tr>
        <tr>
          <td id="L1323" data-line-number="1323"></td>
          <td id="LC1323">                <span>if</span> (nonSpaceFound == <span>false</span>)</td>
        </tr>
        <tr>
          <td id="L1324" data-line-number="1324"></td>
          <td id="LC1324">                {</td>
        </tr>
        <tr>
          <td id="L1325" data-line-number="1325"></td>
          <td id="LC1325">                    <span>while</span> (source[i + counter] == <span><span>&#39;</span> <span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L1326" data-line-number="1326"></td>
          <td id="LC1326">                    {</td>
        </tr>
        <tr>
          <td id="L1327" data-line-number="1327"></td>
          <td id="LC1327">                        <span>if</span> ((column + counter) == tabStop)</td>
        </tr>
        <tr>
          <td id="L1328" data-line-number="1328"></td>
          <td id="LC1328">                        {</td>
        </tr>
        <tr>
          <td id="L1329" data-line-number="1329"></td>
          <td id="LC1329">                            tabStop += tabWidth;</td>
        </tr>
        <tr>
          <td id="L1330" data-line-number="1330"></td>
          <td id="LC1330">                            <span>if</span> (counter &gt;= <span>1</span>)        <span><span>//</span> counter is counted from 0, so counter &gt;= max-1</span></td>
        </tr>
        <tr>
          <td id="L1331" data-line-number="1331"></td>
          <td id="LC1331">                            {</td>
        </tr>
        <tr>
          <td id="L1332" data-line-number="1332"></td>
          <td id="LC1332">                                *dest++ = <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1333" data-line-number="1333"></td>
          <td id="LC1333">                                i += counter;</td>
        </tr>
        <tr>
          <td id="L1334" data-line-number="1334"></td>
          <td id="LC1334">                                column += counter + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1335" data-line-number="1335"></td>
          <td id="LC1335">                                counter = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1336" data-line-number="1336"></td>
          <td id="LC1336">                                nextChar = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1337" data-line-number="1337"></td>
          <td id="LC1337">                                <span>if</span> (i &lt;= currentPos)</td>
        </tr>
        <tr>
          <td id="L1338" data-line-number="1338"></td>
          <td id="LC1338">                                    ++newCurrentPos;</td>
        </tr>
        <tr>
          <td id="L1339" data-line-number="1339"></td>
          <td id="LC1339">                                <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L1340" data-line-number="1340"></td>
          <td id="LC1340">                            }</td>
        </tr>
        <tr>
          <td id="L1341" data-line-number="1341"></td>
          <td id="LC1341">                            <span>else</span> <span>if</span> (source[i+<span>1</span>] == <span><span>&#39;</span> <span>&#39;</span></span> || source[i+<span>1</span>] == <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>)  <span><span>//</span> if followed by space or TAB, convert even a single space to TAB</span></td>
        </tr>
        <tr>
          <td id="L1342" data-line-number="1342"></td>
          <td id="LC1342">                            {</td>
        </tr>
        <tr>
          <td id="L1343" data-line-number="1343"></td>
          <td id="LC1343">                                *dest++ = <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1344" data-line-number="1344"></td>
          <td id="LC1344">                                i++;</td>
        </tr>
        <tr>
          <td id="L1345" data-line-number="1345"></td>
          <td id="LC1345">                                column += <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1346" data-line-number="1346"></td>
          <td id="LC1346">                                counter = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1347" data-line-number="1347"></td>
          <td id="LC1347">                                <span>if</span> (i &lt;= currentPos)</td>
        </tr>
        <tr>
          <td id="L1348" data-line-number="1348"></td>
          <td id="LC1348">                                    ++newCurrentPos;</td>
        </tr>
        <tr>
          <td id="L1349" data-line-number="1349"></td>
          <td id="LC1349">                            }</td>
        </tr>
        <tr>
          <td id="L1350" data-line-number="1350"></td>
          <td id="LC1350">                            <span>else</span>       <span><span>//</span> single space, don&#39;t convert it to TAB</span></td>
        </tr>
        <tr>
          <td id="L1351" data-line-number="1351"></td>
          <td id="LC1351">                            {</td>
        </tr>
        <tr>
          <td id="L1352" data-line-number="1352"></td>
          <td id="LC1352">                                *dest++ = source[i];</td>
        </tr>
        <tr>
          <td id="L1353" data-line-number="1353"></td>
          <td id="LC1353">                                column += <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1354" data-line-number="1354"></td>
          <td id="LC1354">                                counter = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1355" data-line-number="1355"></td>
          <td id="LC1355">                                nextChar = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1356" data-line-number="1356"></td>
          <td id="LC1356">                                <span>if</span> (i &lt;= currentPos)</td>
        </tr>
        <tr>
          <td id="L1357" data-line-number="1357"></td>
          <td id="LC1357">                                    ++newCurrentPos;</td>
        </tr>
        <tr>
          <td id="L1358" data-line-number="1358"></td>
          <td id="LC1358">                                <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L1359" data-line-number="1359"></td>
          <td id="LC1359">                            }</td>
        </tr>
        <tr>
          <td id="L1360" data-line-number="1360"></td>
          <td id="LC1360">                        }</td>
        </tr>
        <tr>
          <td id="L1361" data-line-number="1361"></td>
          <td id="LC1361">                        <span>else</span></td>
        </tr>
        <tr>
          <td id="L1362" data-line-number="1362"></td>
          <td id="LC1362">                            ++counter;</td>
        </tr>
        <tr>
          <td id="L1363" data-line-number="1363"></td>
          <td id="LC1363">                    }</td>
        </tr>
        <tr>
          <td id="L1364" data-line-number="1364"></td>
          <td id="LC1364">
</td>
        </tr>
        <tr>
          <td id="L1365" data-line-number="1365"></td>
          <td id="LC1365">                    <span>if</span> (nextChar == <span>true</span>)</td>
        </tr>
        <tr>
          <td id="L1366" data-line-number="1366"></td>
          <td id="LC1366">                    {</td>
        </tr>
        <tr>
          <td id="L1367" data-line-number="1367"></td>
          <td id="LC1367">                        nextChar = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1368" data-line-number="1368"></td>
          <td id="LC1368">                        <span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L1369" data-line-number="1369"></td>
          <td id="LC1369">                    }</td>
        </tr>
        <tr>
          <td id="L1370" data-line-number="1370"></td>
          <td id="LC1370">
</td>
        </tr>
        <tr>
          <td id="L1371" data-line-number="1371"></td>
          <td id="LC1371">                    <span>if</span> (source[i] == <span><span>&#39;</span> <span>&#39;</span></span> &amp;&amp; source[i + counter] == <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>) <span><span>//</span> spaces &#34;absorbed&#34; by a TAB on the right</span></td>
        </tr>
        <tr>
          <td id="L1372" data-line-number="1372"></td>
          <td id="LC1372">                    {</td>
        </tr>
        <tr>
          <td id="L1373" data-line-number="1373"></td>
          <td id="LC1373">                        *dest++ = <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1374" data-line-number="1374"></td>
          <td id="LC1374">                        i += counter;</td>
        </tr>
        <tr>
          <td id="L1375" data-line-number="1375"></td>
          <td id="LC1375">                        column = tabStop + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1376" data-line-number="1376"></td>
          <td id="LC1376">                        tabStop += tabWidth;</td>
        </tr>
        <tr>
          <td id="L1377" data-line-number="1377"></td>
          <td id="LC1377">                        counter = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1378" data-line-number="1378"></td>
          <td id="LC1378">                        <span>if</span> (i &lt;= currentPos)</td>
        </tr>
        <tr>
          <td id="L1379" data-line-number="1379"></td>
          <td id="LC1379">                            ++newCurrentPos;</td>
        </tr>
        <tr>
          <td id="L1380" data-line-number="1380"></td>
          <td id="LC1380">                        <span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L1381" data-line-number="1381"></td>
          <td id="LC1381">                    }</td>
        </tr>
        <tr>
          <td id="L1382" data-line-number="1382"></td>
          <td id="LC1382">                }</td>
        </tr>
        <tr>
          <td id="L1383" data-line-number="1383"></td>
          <td id="LC1383">
</td>
        </tr>
        <tr>
          <td id="L1384" data-line-number="1384"></td>
          <td id="LC1384">                <span>if</span> (onlyLeading == <span>true</span> &amp;&amp; nonSpaceFound == <span>false</span>)</td>
        </tr>
        <tr>
          <td id="L1385" data-line-number="1385"></td>
          <td id="LC1385">                    nonSpaceFound = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1386" data-line-number="1386"></td>
          <td id="LC1386">
</td>
        </tr>
        <tr>
          <td id="L1387" data-line-number="1387"></td>
          <td id="LC1387">                <span>if</span> (source[i] == <span><span>&#39;</span><span>\n</span><span>&#39;</span></span> || source[i] == <span><span>&#39;</span><span>\r</span><span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L1388" data-line-number="1388"></td>
          <td id="LC1388">                {</td>
        </tr>
        <tr>
          <td id="L1389" data-line-number="1389"></td>
          <td id="LC1389">                    *dest++ = source[i];</td>
        </tr>
        <tr>
          <td id="L1390" data-line-number="1390"></td>
          <td id="LC1390">                    column = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1391" data-line-number="1391"></td>
          <td id="LC1391">                    tabStop = tabWidth - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1392" data-line-number="1392"></td>
          <td id="LC1392">                    nonSpaceFound = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1393" data-line-number="1393"></td>
          <td id="LC1393">                }</td>
        </tr>
        <tr>
          <td id="L1394" data-line-number="1394"></td>
          <td id="LC1394">                <span>else</span> <span>if</span> (source[i] == <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L1395" data-line-number="1395"></td>
          <td id="LC1395">                {</td>
        </tr>
        <tr>
          <td id="L1396" data-line-number="1396"></td>
          <td id="LC1396">                    *dest++ = source[i];</td>
        </tr>
        <tr>
          <td id="L1397" data-line-number="1397"></td>
          <td id="LC1397">                    column = tabStop + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1398" data-line-number="1398"></td>
          <td id="LC1398">                    tabStop += tabWidth;</td>
        </tr>
        <tr>
          <td id="L1399" data-line-number="1399"></td>
          <td id="LC1399">                    counter = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1400" data-line-number="1400"></td>
          <td id="LC1400">                }</td>
        </tr>
        <tr>
          <td id="L1401" data-line-number="1401"></td>
          <td id="LC1401">                <span>else</span></td>
        </tr>
        <tr>
          <td id="L1402" data-line-number="1402"></td>
          <td id="LC1402">                {</td>
        </tr>
        <tr>
          <td id="L1403" data-line-number="1403"></td>
          <td id="LC1403">                    *dest++ = source[i];</td>
        </tr>
        <tr>
          <td id="L1404" data-line-number="1404"></td>
          <td id="LC1404">                    counter = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1405" data-line-number="1405"></td>
          <td id="LC1405">                    <span>if</span> ((source[i] &amp; <span>0xC0</span>) != <span>0x80</span>)   <span><span>//</span> UTF_8 support: count only bytes that don&#39;t start with 10......</span></td>
        </tr>
        <tr>
          <td id="L1406" data-line-number="1406"></td>
          <td id="LC1406">                    {</td>
        </tr>
        <tr>
          <td id="L1407" data-line-number="1407"></td>
          <td id="LC1407">                        ++column;</td>
        </tr>
        <tr>
          <td id="L1408" data-line-number="1408"></td>
          <td id="LC1408">
</td>
        </tr>
        <tr>
          <td id="L1409" data-line-number="1409"></td>
          <td id="LC1409">                        <span>if</span> (column &gt; <span>0</span> &amp;&amp; column % tabWidth == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1410" data-line-number="1410"></td>
          <td id="LC1410">                            tabStop += tabWidth;</td>
        </tr>
        <tr>
          <td id="L1411" data-line-number="1411"></td>
          <td id="LC1411">                    }</td>
        </tr>
        <tr>
          <td id="L1412" data-line-number="1412"></td>
          <td id="LC1412">                }</td>
        </tr>
        <tr>
          <td id="L1413" data-line-number="1413"></td>
          <td id="LC1413">
</td>
        </tr>
        <tr>
          <td id="L1414" data-line-number="1414"></td>
          <td id="LC1414">                <span>if</span> (i &lt;= currentPos)</td>
        </tr>
        <tr>
          <td id="L1415" data-line-number="1415"></td>
          <td id="LC1415">                    ++newCurrentPos;</td>
        </tr>
        <tr>
          <td id="L1416" data-line-number="1416"></td>
          <td id="LC1416">            }</td>
        </tr>
        <tr>
          <td id="L1417" data-line-number="1417"></td>
          <td id="LC1417">            *dest = <span><span>&#39;</span><span>\0</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L1418" data-line-number="1418"></td>
          <td id="LC1418">            <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L1419" data-line-number="1419"></td>
          <td id="LC1419">        }</td>
        </tr>
        <tr>
          <td id="L1420" data-line-number="1420"></td>
          <td id="LC1420">    }</td>
        </tr>
        <tr>
          <td id="L1421" data-line-number="1421"></td>
          <td id="LC1421">
</td>
        </tr>
        <tr>
          <td id="L1422" data-line-number="1422"></td>
          <td id="LC1422">    _pEditView-&gt;<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L1423" data-line-number="1423"></td>
          <td id="LC1423">	_pEditView-&gt;<span>execute</span>(SCI_SETTEXT, <span>0</span>, <span>reinterpret_cast</span>&lt;LPARAM&gt;(destination));</td>
        </tr>
        <tr>
          <td id="L1424" data-line-number="1424"></td>
          <td id="LC1424">    _pEditView-&gt;<span>execute</span>(SCI_GOTOPOS, newCurrentPos);</td>
        </tr>
        <tr>
          <td id="L1425" data-line-number="1425"></td>
          <td id="LC1425">
</td>
        </tr>
        <tr>
          <td id="L1426" data-line-number="1426"></td>
          <td id="LC1426">    <span>for</span> (<span>size_t</span> i=<span>0</span>; i&lt;bookmarks.<span>size</span>(); ++i)</td>
        </tr>
        <tr>
          <td id="L1427" data-line-number="1427"></td>
          <td id="LC1427">        _pEditView-&gt;<span>execute</span>(SCI_MARKERADD, bookmarks[i], MARK_BOOKMARK);</td>
        </tr>
        <tr>
          <td id="L1428" data-line-number="1428"></td>
          <td id="LC1428">
</td>
        </tr>
        <tr>
          <td id="L1429" data-line-number="1429"></td>
          <td id="LC1429">    <span>for</span> (<span>size_t</span> i=<span>0</span>; i&lt;folding.<span>size</span>(); ++i)</td>
        </tr>
        <tr>
          <td id="L1430" data-line-number="1430"></td>
          <td id="LC1430">        _pEditView-&gt;<span>fold</span>(folding[i], <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L1431" data-line-number="1431"></td>
          <td id="LC1431">
</td>
        </tr>
        <tr>
          <td id="L1432" data-line-number="1432"></td>
          <td id="LC1432">    _pEditView-&gt;<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L1433" data-line-number="1433"></td>
          <td id="LC1433">
</td>
        </tr>
        <tr>
          <td id="L1434" data-line-number="1434"></td>
          <td id="LC1434">    <span><span>//</span> clean up</span></td>
        </tr>
        <tr>
          <td id="L1435" data-line-number="1435"></td>
          <td id="LC1435">    <span>delete []</span> source;</td>
        </tr>
        <tr>
          <td id="L1436" data-line-number="1436"></td>
          <td id="LC1436">    <span>delete []</span> destination;</td>
        </tr>
        <tr>
          <td id="L1437" data-line-number="1437"></td>
          <td id="LC1437">}</td>
        </tr>
        <tr>
          <td id="L1438" data-line-number="1438"></td>
          <td id="LC1438">
</td>
        </tr>
        <tr>
          <td id="L1439" data-line-number="1439"></td>
          <td id="LC1439"><span>void</span> <span>Notepad_plus::doTrim</span>(trimOp whichPart)</td>
        </tr>
        <tr>
          <td id="L1440" data-line-number="1440"></td>
          <td id="LC1440">{</td>
        </tr>
        <tr>
          <td id="L1441" data-line-number="1441"></td>
          <td id="LC1441">	<span><span>//</span> whichPart : line head or line tail</span></td>
        </tr>
        <tr>
          <td id="L1442" data-line-number="1442"></td>
          <td id="LC1442">	FindOption env;</td>
        </tr>
        <tr>
          <td id="L1443" data-line-number="1443"></td>
          <td id="LC1443">	<span>if</span> (whichPart == lineHeader)</td>
        </tr>
        <tr>
          <td id="L1444" data-line-number="1444"></td>
          <td id="LC1444">	{</td>
        </tr>
        <tr>
          <td id="L1445" data-line-number="1445"></td>
          <td id="LC1445">		env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>^[	 ]+<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1446" data-line-number="1446"></td>
          <td id="LC1446">	}</td>
        </tr>
        <tr>
          <td id="L1447" data-line-number="1447"></td>
          <td id="LC1447">	<span>else</span> <span>if</span> (whichPart == lineTail)</td>
        </tr>
        <tr>
          <td id="L1448" data-line-number="1448"></td>
          <td id="LC1448">	{</td>
        </tr>
        <tr>
          <td id="L1449" data-line-number="1449"></td>
          <td id="LC1449">		env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>[	 ]+$<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1450" data-line-number="1450"></td>
          <td id="LC1450">	}</td>
        </tr>
        <tr>
          <td id="L1451" data-line-number="1451"></td>
          <td id="LC1451">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L1452" data-line-number="1452"></td>
          <td id="LC1452">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L1453" data-line-number="1453"></td>
          <td id="LC1453">	env.<span>_str4Replace</span> = <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1454" data-line-number="1454"></td>
          <td id="LC1454">    env.<span>_searchType</span> = FindRegex;</td>
        </tr>
        <tr>
          <td id="L1455" data-line-number="1455"></td>
          <td id="LC1455">	_findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, &amp;env, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L1456" data-line-number="1456"></td>
          <td id="LC1456">}</td>
        </tr>
        <tr>
          <td id="L1457" data-line-number="1457"></td>
          <td id="LC1457">
</td>
        </tr>
        <tr>
          <td id="L1458" data-line-number="1458"></td>
          <td id="LC1458"><span>void</span> <span>Notepad_plus::removeEmptyLine</span>(<span>bool</span> isBlankContained)</td>
        </tr>
        <tr>
          <td id="L1459" data-line-number="1459"></td>
          <td id="LC1459">{</td>
        </tr>
        <tr>
          <td id="L1460" data-line-number="1460"></td>
          <td id="LC1460">	<span><span>//</span> whichPart : line head or line tail</span></td>
        </tr>
        <tr>
          <td id="L1461" data-line-number="1461"></td>
          <td id="LC1461">	FindOption env;</td>
        </tr>
        <tr>
          <td id="L1462" data-line-number="1462"></td>
          <td id="LC1462">	<span>if</span> (isBlankContained)</td>
        </tr>
        <tr>
          <td id="L1463" data-line-number="1463"></td>
          <td id="LC1463">	{</td>
        </tr>
        <tr>
          <td id="L1464" data-line-number="1464"></td>
          <td id="LC1464">		env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>^[<span>\\</span>t ]*$(<span>\\</span>r<span>\\</span>n|<span>\\</span>r|<span>\\</span>n)<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1465" data-line-number="1465"></td>
          <td id="LC1465">	}</td>
        </tr>
        <tr>
          <td id="L1466" data-line-number="1466"></td>
          <td id="LC1466">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L1467" data-line-number="1467"></td>
          <td id="LC1467">	{</td>
        </tr>
        <tr>
          <td id="L1468" data-line-number="1468"></td>
          <td id="LC1468">		env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>^$(<span>\\</span>r<span>\\</span>n|<span>\\</span>r|<span>\\</span>n)<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1469" data-line-number="1469"></td>
          <td id="LC1469">	}</td>
        </tr>
        <tr>
          <td id="L1470" data-line-number="1470"></td>
          <td id="LC1470">	env.<span>_str4Replace</span> = <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1471" data-line-number="1471"></td>
          <td id="LC1471">	env.<span>_searchType</span> = FindRegex;</td>
        </tr>
        <tr>
          <td id="L1472" data-line-number="1472"></td>
          <td id="LC1472">	<span>auto</span> mainSelStart = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONSTART);</td>
        </tr>
        <tr>
          <td id="L1473" data-line-number="1473"></td>
          <td id="LC1473">	<span>auto</span> mainSelEnd = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEND);</td>
        </tr>
        <tr>
          <td id="L1474" data-line-number="1474"></td>
          <td id="LC1474">	<span>auto</span> mainSelLength = mainSelEnd - mainSelStart;</td>
        </tr>
        <tr>
          <td id="L1475" data-line-number="1475"></td>
          <td id="LC1475">	<span>bool</span> isEntireDoc = mainSelLength == <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1476" data-line-number="1476"></td>
          <td id="LC1476">	env.<span>_isInSelection</span> = !isEntireDoc;</td>
        </tr>
        <tr>
          <td id="L1477" data-line-number="1477"></td>
          <td id="LC1477">	_findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, &amp;env, isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1478" data-line-number="1478"></td>
          <td id="LC1478">
</td>
        </tr>
        <tr>
          <td id="L1479" data-line-number="1479"></td>
          <td id="LC1479">	<span><span>//</span> remove the last line if it&#39;s an empty line.</span></td>
        </tr>
        <tr>
          <td id="L1480" data-line-number="1480"></td>
          <td id="LC1480">	<span>if</span> (isBlankContained)</td>
        </tr>
        <tr>
          <td id="L1481" data-line-number="1481"></td>
          <td id="LC1481">	{</td>
        </tr>
        <tr>
          <td id="L1482" data-line-number="1482"></td>
          <td id="LC1482">		env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>(<span>\\</span>r<span>\\</span>n|<span>\\</span>r|<span>\\</span>n)^[<span>\\</span>t ]*$<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1483" data-line-number="1483"></td>
          <td id="LC1483">	}</td>
        </tr>
        <tr>
          <td id="L1484" data-line-number="1484"></td>
          <td id="LC1484">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L1485" data-line-number="1485"></td>
          <td id="LC1485">	{</td>
        </tr>
        <tr>
          <td id="L1486" data-line-number="1486"></td>
          <td id="LC1486">		env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>(<span>\\</span>r<span>\\</span>n|<span>\\</span>r|<span>\\</span>n)^$<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1487" data-line-number="1487"></td>
          <td id="LC1487">	}</td>
        </tr>
        <tr>
          <td id="L1488" data-line-number="1488"></td>
          <td id="LC1488">	_findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, &amp;env, isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1489" data-line-number="1489"></td>
          <td id="LC1489">}</td>
        </tr>
        <tr>
          <td id="L1490" data-line-number="1490"></td>
          <td id="LC1490">
</td>
        </tr>
        <tr>
          <td id="L1491" data-line-number="1491"></td>
          <td id="LC1491"><span>void</span> <span>Notepad_plus::removeDuplicateLines</span>()</td>
        </tr>
        <tr>
          <td id="L1492" data-line-number="1492"></td>
          <td id="LC1492">{</td>
        </tr>
        <tr>
          <td id="L1493" data-line-number="1493"></td>
          <td id="LC1493">	<span><span>//</span> whichPart : line head or line tail</span></td>
        </tr>
        <tr>
          <td id="L1494" data-line-number="1494"></td>
          <td id="LC1494">	FindOption env;</td>
        </tr>
        <tr>
          <td id="L1495" data-line-number="1495"></td>
          <td id="LC1495">
</td>
        </tr>
        <tr>
          <td id="L1496" data-line-number="1496"></td>
          <td id="LC1496">	env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>^(.*(<span>\\</span>r?<span>\\</span>n|<span>\\</span>r))(<span>\\</span>1)+<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1497" data-line-number="1497"></td>
          <td id="LC1497">	env.<span>_str4Replace</span> = <span>TEXT</span>(<span><span>&#34;</span><span>\\</span>1<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1498" data-line-number="1498"></td>
          <td id="LC1498">	env.<span>_searchType</span> = FindRegex;</td>
        </tr>
        <tr>
          <td id="L1499" data-line-number="1499"></td>
          <td id="LC1499">	<span>auto</span> mainSelStart = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONSTART);</td>
        </tr>
        <tr>
          <td id="L1500" data-line-number="1500"></td>
          <td id="LC1500">	<span>auto</span> mainSelEnd = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEND);</td>
        </tr>
        <tr>
          <td id="L1501" data-line-number="1501"></td>
          <td id="LC1501">	<span>auto</span> mainSelLength = mainSelEnd - mainSelStart;</td>
        </tr>
        <tr>
          <td id="L1502" data-line-number="1502"></td>
          <td id="LC1502">	<span>bool</span> isEntireDoc = mainSelLength == <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1503" data-line-number="1503"></td>
          <td id="LC1503">	env.<span>_isInSelection</span> = !isEntireDoc;</td>
        </tr>
        <tr>
          <td id="L1504" data-line-number="1504"></td>
          <td id="LC1504">	_findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, &amp;env, isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1505" data-line-number="1505"></td>
          <td id="LC1505">
</td>
        </tr>
        <tr>
          <td id="L1506" data-line-number="1506"></td>
          <td id="LC1506">	<span><span>//</span> remove the last line if it&#39;s a duplicate line.</span></td>
        </tr>
        <tr>
          <td id="L1507" data-line-number="1507"></td>
          <td id="LC1507">	env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>^(.+)(<span>\\</span>r?<span>\\</span>n|<span>\\</span>r)(<span>\\</span>1)$<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1508" data-line-number="1508"></td>
          <td id="LC1508">	_findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, &amp;env, isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1509" data-line-number="1509"></td>
          <td id="LC1509">}</td>
        </tr>
        <tr>
          <td id="L1510" data-line-number="1510"></td>
          <td id="LC1510">
</td>
        </tr>
        <tr>
          <td id="L1511" data-line-number="1511"></td>
          <td id="LC1511"><span>void</span> <span>Notepad_plus::getMatchedFileNames</span>(<span>const</span> TCHAR *dir, <span>size_t</span> level, <span>const</span> vector&lt;generic_string&gt; &amp; patterns, vector&lt;generic_string&gt; &amp; fileNames, <span>bool</span> isRecursive, <span>bool</span> isInHiddenDir)</td>
        </tr>
        <tr>
          <td id="L1512" data-line-number="1512"></td>
          <td id="LC1512">{</td>
        </tr>
        <tr>
          <td id="L1513" data-line-number="1513"></td>
          <td id="LC1513">	level++;</td>
        </tr>
        <tr>
          <td id="L1514" data-line-number="1514"></td>
          <td id="LC1514">	generic_string <span>dirFilter</span>(dir);</td>
        </tr>
        <tr>
          <td id="L1515" data-line-number="1515"></td>
          <td id="LC1515">	dirFilter += <span>TEXT</span>(<span><span>&#34;</span>*.*<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1516" data-line-number="1516"></td>
          <td id="LC1516">	WIN32_FIND_DATA foundData;</td>
        </tr>
        <tr>
          <td id="L1517" data-line-number="1517"></td>
          <td id="LC1517">
</td>
        </tr>
        <tr>
          <td id="L1518" data-line-number="1518"></td>
          <td id="LC1518">	HANDLE hFile = ::<span>FindFirstFile</span>(dirFilter.<span>c_str</span>(), &amp;foundData);</td>
        </tr>
        <tr>
          <td id="L1519" data-line-number="1519"></td>
          <td id="LC1519">
</td>
        </tr>
        <tr>
          <td id="L1520" data-line-number="1520"></td>
          <td id="LC1520">	<span>if</span> (hFile != INVALID_HANDLE_VALUE)</td>
        </tr>
        <tr>
          <td id="L1521" data-line-number="1521"></td>
          <td id="LC1521">	{</td>
        </tr>
        <tr>
          <td id="L1522" data-line-number="1522"></td>
          <td id="LC1522">
</td>
        </tr>
        <tr>
          <td id="L1523" data-line-number="1523"></td>
          <td id="LC1523">		<span>if</span> (foundData.<span>dwFileAttributes</span> &amp; FILE_ATTRIBUTE_DIRECTORY)</td>
        </tr>
        <tr>
          <td id="L1524" data-line-number="1524"></td>
          <td id="LC1524">		{</td>
        </tr>
        <tr>
          <td id="L1525" data-line-number="1525"></td>
          <td id="LC1525">			<span>if</span> (!isInHiddenDir &amp;&amp; (foundData.<span>dwFileAttributes</span> &amp; FILE_ATTRIBUTE_HIDDEN))</td>
        </tr>
        <tr>
          <td id="L1526" data-line-number="1526"></td>
          <td id="LC1526">			{</td>
        </tr>
        <tr>
          <td id="L1527" data-line-number="1527"></td>
          <td id="LC1527">				<span><span>//</span> do nothing</span></td>
        </tr>
        <tr>
          <td id="L1528" data-line-number="1528"></td>
          <td id="LC1528">			}</td>
        </tr>
        <tr>
          <td id="L1529" data-line-number="1529"></td>
          <td id="LC1529">			<span>else</span> <span>if</span> (isRecursive)</td>
        </tr>
        <tr>
          <td id="L1530" data-line-number="1530"></td>
          <td id="LC1530">			{</td>
        </tr>
        <tr>
          <td id="L1531" data-line-number="1531"></td>
          <td id="LC1531">				<span>if</span> ((<span>OrdinalIgnoreCaseCompareStrings</span>(foundData.<span>cFileName</span>, <span>TEXT</span>(<span><span>&#34;</span>.<span>&#34;</span></span>)) != <span>0</span>) &amp;&amp; (<span>OrdinalIgnoreCaseCompareStrings</span>(foundData.<span>cFileName</span>, <span>TEXT</span>(<span><span>&#34;</span>..<span>&#34;</span></span>)) != <span>0</span>) &amp;&amp;</td>
        </tr>
        <tr>
          <td id="L1532" data-line-number="1532"></td>
          <td id="LC1532">					!<span>matchInExcludeDirList</span>(foundData.<span>cFileName</span>, patterns, level))</td>
        </tr>
        <tr>
          <td id="L1533" data-line-number="1533"></td>
          <td id="LC1533">				{</td>
        </tr>
        <tr>
          <td id="L1534" data-line-number="1534"></td>
          <td id="LC1534">					generic_string <span>pathDir</span>(dir);</td>
        </tr>
        <tr>
          <td id="L1535" data-line-number="1535"></td>
          <td id="LC1535">					pathDir += foundData.<span>cFileName</span>;</td>
        </tr>
        <tr>
          <td id="L1536" data-line-number="1536"></td>
          <td id="LC1536">					pathDir += <span>TEXT</span>(<span><span>&#34;</span><span>\\</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1537" data-line-number="1537"></td>
          <td id="LC1537">					<span>getMatchedFileNames</span>(pathDir.<span>c_str</span>(), level, patterns, fileNames, isRecursive, isInHiddenDir);</td>
        </tr>
        <tr>
          <td id="L1538" data-line-number="1538"></td>
          <td id="LC1538">				}</td>
        </tr>
        <tr>
          <td id="L1539" data-line-number="1539"></td>
          <td id="LC1539">			}</td>
        </tr>
        <tr>
          <td id="L1540" data-line-number="1540"></td>
          <td id="LC1540">		}</td>
        </tr>
        <tr>
          <td id="L1541" data-line-number="1541"></td>
          <td id="LC1541">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L1542" data-line-number="1542"></td>
          <td id="LC1542">		{</td>
        </tr>
        <tr>
          <td id="L1543" data-line-number="1543"></td>
          <td id="LC1543">			<span>if</span> (<span>matchInList</span>(foundData.<span>cFileName</span>, patterns))</td>
        </tr>
        <tr>
          <td id="L1544" data-line-number="1544"></td>
          <td id="LC1544">			{</td>
        </tr>
        <tr>
          <td id="L1545" data-line-number="1545"></td>
          <td id="LC1545">				generic_string <span>pathFile</span>(dir);</td>
        </tr>
        <tr>
          <td id="L1546" data-line-number="1546"></td>
          <td id="LC1546">				pathFile += foundData.<span>cFileName</span>;</td>
        </tr>
        <tr>
          <td id="L1547" data-line-number="1547"></td>
          <td id="LC1547">				fileNames.<span>push_back</span>(pathFile.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1548" data-line-number="1548"></td>
          <td id="LC1548">			}</td>
        </tr>
        <tr>
          <td id="L1549" data-line-number="1549"></td>
          <td id="LC1549">		}</td>
        </tr>
        <tr>
          <td id="L1550" data-line-number="1550"></td>
          <td id="LC1550">	}</td>
        </tr>
        <tr>
          <td id="L1551" data-line-number="1551"></td>
          <td id="LC1551">	<span>while</span> (::<span>FindNextFile</span>(hFile, &amp;foundData))</td>
        </tr>
        <tr>
          <td id="L1552" data-line-number="1552"></td>
          <td id="LC1552">	{</td>
        </tr>
        <tr>
          <td id="L1553" data-line-number="1553"></td>
          <td id="LC1553">		<span>if</span> (foundData.<span>dwFileAttributes</span> &amp; FILE_ATTRIBUTE_DIRECTORY)</td>
        </tr>
        <tr>
          <td id="L1554" data-line-number="1554"></td>
          <td id="LC1554">		{</td>
        </tr>
        <tr>
          <td id="L1555" data-line-number="1555"></td>
          <td id="LC1555">			<span>if</span> (!isInHiddenDir &amp;&amp; (foundData.<span>dwFileAttributes</span> &amp; FILE_ATTRIBUTE_HIDDEN))</td>
        </tr>
        <tr>
          <td id="L1556" data-line-number="1556"></td>
          <td id="LC1556">			{</td>
        </tr>
        <tr>
          <td id="L1557" data-line-number="1557"></td>
          <td id="LC1557">				<span><span>//</span> do nothing</span></td>
        </tr>
        <tr>
          <td id="L1558" data-line-number="1558"></td>
          <td id="LC1558">			}</td>
        </tr>
        <tr>
          <td id="L1559" data-line-number="1559"></td>
          <td id="LC1559">			<span>else</span> <span>if</span> (isRecursive)</td>
        </tr>
        <tr>
          <td id="L1560" data-line-number="1560"></td>
          <td id="LC1560">			{</td>
        </tr>
        <tr>
          <td id="L1561" data-line-number="1561"></td>
          <td id="LC1561">				<span>if</span> ((<span>OrdinalIgnoreCaseCompareStrings</span>(foundData.<span>cFileName</span>, <span>TEXT</span>(<span><span>&#34;</span>.<span>&#34;</span></span>)) != <span>0</span>) &amp;&amp; (<span>OrdinalIgnoreCaseCompareStrings</span>(foundData.<span>cFileName</span>, <span>TEXT</span>(<span><span>&#34;</span>..<span>&#34;</span></span>)) != <span>0</span>) &amp;&amp;</td>
        </tr>
        <tr>
          <td id="L1562" data-line-number="1562"></td>
          <td id="LC1562">					!<span>matchInExcludeDirList</span>(foundData.<span>cFileName</span>, patterns, level))</td>
        </tr>
        <tr>
          <td id="L1563" data-line-number="1563"></td>
          <td id="LC1563">				{</td>
        </tr>
        <tr>
          <td id="L1564" data-line-number="1564"></td>
          <td id="LC1564">					generic_string <span>pathDir</span>(dir);</td>
        </tr>
        <tr>
          <td id="L1565" data-line-number="1565"></td>
          <td id="LC1565">					pathDir += foundData.<span>cFileName</span>;</td>
        </tr>
        <tr>
          <td id="L1566" data-line-number="1566"></td>
          <td id="LC1566">					pathDir += <span>TEXT</span>(<span><span>&#34;</span><span>\\</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L1567" data-line-number="1567"></td>
          <td id="LC1567">					<span>getMatchedFileNames</span>(pathDir.<span>c_str</span>(), level, patterns, fileNames, isRecursive, isInHiddenDir);</td>
        </tr>
        <tr>
          <td id="L1568" data-line-number="1568"></td>
          <td id="LC1568">				}</td>
        </tr>
        <tr>
          <td id="L1569" data-line-number="1569"></td>
          <td id="LC1569">			}</td>
        </tr>
        <tr>
          <td id="L1570" data-line-number="1570"></td>
          <td id="LC1570">		}</td>
        </tr>
        <tr>
          <td id="L1571" data-line-number="1571"></td>
          <td id="LC1571">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L1572" data-line-number="1572"></td>
          <td id="LC1572">		{</td>
        </tr>
        <tr>
          <td id="L1573" data-line-number="1573"></td>
          <td id="LC1573">			<span>if</span> (<span>matchInList</span>(foundData.<span>cFileName</span>, patterns))</td>
        </tr>
        <tr>
          <td id="L1574" data-line-number="1574"></td>
          <td id="LC1574">			{</td>
        </tr>
        <tr>
          <td id="L1575" data-line-number="1575"></td>
          <td id="LC1575">				generic_string <span>pathFile</span>(dir);</td>
        </tr>
        <tr>
          <td id="L1576" data-line-number="1576"></td>
          <td id="LC1576">				pathFile += foundData.<span>cFileName</span>;</td>
        </tr>
        <tr>
          <td id="L1577" data-line-number="1577"></td>
          <td id="LC1577">				fileNames.<span>push_back</span>(pathFile.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1578" data-line-number="1578"></td>
          <td id="LC1578">			}</td>
        </tr>
        <tr>
          <td id="L1579" data-line-number="1579"></td>
          <td id="LC1579">		}</td>
        </tr>
        <tr>
          <td id="L1580" data-line-number="1580"></td>
          <td id="LC1580">	}</td>
        </tr>
        <tr>
          <td id="L1581" data-line-number="1581"></td>
          <td id="LC1581">	<span>::FindClose</span>(hFile);</td>
        </tr>
        <tr>
          <td id="L1582" data-line-number="1582"></td>
          <td id="LC1582">}</td>
        </tr>
        <tr>
          <td id="L1583" data-line-number="1583"></td>
          <td id="LC1583">
</td>
        </tr>
        <tr>
          <td id="L1584" data-line-number="1584"></td>
          <td id="LC1584"><span>bool</span> <span>Notepad_plus::createFilelistForFiles</span>(vector&lt;generic_string&gt; &amp; fileNames)</td>
        </tr>
        <tr>
          <td id="L1585" data-line-number="1585"></td>
          <td id="LC1585">{</td>
        </tr>
        <tr>
          <td id="L1586" data-line-number="1586"></td>
          <td id="LC1586">	<span>const</span> TCHAR *dir2Search = _findReplaceDlg.<span>getDir2Search</span>();</td>
        </tr>
        <tr>
          <td id="L1587" data-line-number="1587"></td>
          <td id="LC1587">	<span>if</span> (!dir2Search[<span>0</span>] || !::<span>PathFileExists</span>(dir2Search))</td>
        </tr>
        <tr>
          <td id="L1588" data-line-number="1588"></td>
          <td id="LC1588">	{</td>
        </tr>
        <tr>
          <td id="L1589" data-line-number="1589"></td>
          <td id="LC1589">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1590" data-line-number="1590"></td>
          <td id="LC1590">	}</td>
        </tr>
        <tr>
          <td id="L1591" data-line-number="1591"></td>
          <td id="LC1591">
</td>
        </tr>
        <tr>
          <td id="L1592" data-line-number="1592"></td>
          <td id="LC1592">	vector&lt;generic_string&gt; patterns2Match;</td>
        </tr>
        <tr>
          <td id="L1593" data-line-number="1593"></td>
          <td id="LC1593">	_findReplaceDlg.<span>getAndValidatePatterns</span>(patterns2Match);</td>
        </tr>
        <tr>
          <td id="L1594" data-line-number="1594"></td>
          <td id="LC1594">
</td>
        </tr>
        <tr>
          <td id="L1595" data-line-number="1595"></td>
          <td id="LC1595">	<span>bool</span> isRecursive = _findReplaceDlg.<span>isRecursive</span>();</td>
        </tr>
        <tr>
          <td id="L1596" data-line-number="1596"></td>
          <td id="LC1596">	<span>bool</span> isInHiddenDir = _findReplaceDlg.<span>isInHiddenDir</span>();</td>
        </tr>
        <tr>
          <td id="L1597" data-line-number="1597"></td>
          <td id="LC1597">	<span>getMatchedFileNames</span>(dir2Search, <span>0</span>, patterns2Match, fileNames, isRecursive, isInHiddenDir);</td>
        </tr>
        <tr>
          <td id="L1598" data-line-number="1598"></td>
          <td id="LC1598">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1599" data-line-number="1599"></td>
          <td id="LC1599">}</td>
        </tr>
        <tr>
          <td id="L1600" data-line-number="1600"></td>
          <td id="LC1600">
</td>
        </tr>
        <tr>
          <td id="L1601" data-line-number="1601"></td>
          <td id="LC1601"><span>bool</span> <span>Notepad_plus::createFilelistForProjects</span>(vector&lt;generic_string&gt; &amp; fileNames)</td>
        </tr>
        <tr>
          <td id="L1602" data-line-number="1602"></td>
          <td id="LC1602">{</td>
        </tr>
        <tr>
          <td id="L1603" data-line-number="1603"></td>
          <td id="LC1603">	vector&lt;generic_string&gt; patterns2Match;</td>
        </tr>
        <tr>
          <td id="L1604" data-line-number="1604"></td>
          <td id="LC1604">	_findReplaceDlg.<span>getAndValidatePatterns</span>(patterns2Match);</td>
        </tr>
        <tr>
          <td id="L1605" data-line-number="1605"></td>
          <td id="LC1605">	<span>bool</span> somethingIsSelected = <span>false</span>; <span><span>//</span> at least one Project Panel is open and checked</span></td>
        </tr>
        <tr>
          <td id="L1606" data-line-number="1606"></td>
          <td id="LC1606">
</td>
        </tr>
        <tr>
          <td id="L1607" data-line-number="1607"></td>
          <td id="LC1607">	<span>if</span> (_findReplaceDlg.<span>isProjectPanel_1</span>() &amp;&amp; _pProjectPanel_1 &amp;&amp; !_pProjectPanel_1-&gt;<span>isClosed</span>())</td>
        </tr>
        <tr>
          <td id="L1608" data-line-number="1608"></td>
          <td id="LC1608">	{</td>
        </tr>
        <tr>
          <td id="L1609" data-line-number="1609"></td>
          <td id="LC1609">		_pProjectPanel_1-&gt;<span>enumWorkSpaceFiles</span> (<span>NULL</span>, patterns2Match, fileNames);</td>
        </tr>
        <tr>
          <td id="L1610" data-line-number="1610"></td>
          <td id="LC1610">		somethingIsSelected = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1611" data-line-number="1611"></td>
          <td id="LC1611">	}</td>
        </tr>
        <tr>
          <td id="L1612" data-line-number="1612"></td>
          <td id="LC1612">	<span>if</span> (_findReplaceDlg.<span>isProjectPanel_2</span>() &amp;&amp; _pProjectPanel_2 &amp;&amp; !_pProjectPanel_2-&gt;<span>isClosed</span>())</td>
        </tr>
        <tr>
          <td id="L1613" data-line-number="1613"></td>
          <td id="LC1613">	{</td>
        </tr>
        <tr>
          <td id="L1614" data-line-number="1614"></td>
          <td id="LC1614">		_pProjectPanel_2-&gt;<span>enumWorkSpaceFiles</span> (<span>NULL</span>, patterns2Match, fileNames);</td>
        </tr>
        <tr>
          <td id="L1615" data-line-number="1615"></td>
          <td id="LC1615">		somethingIsSelected = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1616" data-line-number="1616"></td>
          <td id="LC1616">	}</td>
        </tr>
        <tr>
          <td id="L1617" data-line-number="1617"></td>
          <td id="LC1617">	<span>if</span> (_findReplaceDlg.<span>isProjectPanel_3</span>() &amp;&amp; _pProjectPanel_3 &amp;&amp; !_pProjectPanel_3-&gt;<span>isClosed</span>())</td>
        </tr>
        <tr>
          <td id="L1618" data-line-number="1618"></td>
          <td id="LC1618">	{</td>
        </tr>
        <tr>
          <td id="L1619" data-line-number="1619"></td>
          <td id="LC1619">		_pProjectPanel_3-&gt;<span>enumWorkSpaceFiles</span> (<span>NULL</span>, patterns2Match, fileNames);</td>
        </tr>
        <tr>
          <td id="L1620" data-line-number="1620"></td>
          <td id="LC1620">		somethingIsSelected = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1621" data-line-number="1621"></td>
          <td id="LC1621">	}</td>
        </tr>
        <tr>
          <td id="L1622" data-line-number="1622"></td>
          <td id="LC1622">	<span>return</span> somethingIsSelected;</td>
        </tr>
        <tr>
          <td id="L1623" data-line-number="1623"></td>
          <td id="LC1623">}</td>
        </tr>
        <tr>
          <td id="L1624" data-line-number="1624"></td>
          <td id="LC1624">
</td>
        </tr>
        <tr>
          <td id="L1625" data-line-number="1625"></td>
          <td id="LC1625">std::mutex replaceInFiles_mutex;</td>
        </tr>
        <tr>
          <td id="L1626" data-line-number="1626"></td>
          <td id="LC1626">
</td>
        </tr>
        <tr>
          <td id="L1627" data-line-number="1627"></td>
          <td id="LC1627"><span>bool</span> <span>Notepad_plus::replaceInFiles</span>()</td>
        </tr>
        <tr>
          <td id="L1628" data-line-number="1628"></td>
          <td id="LC1628">{</td>
        </tr>
        <tr>
          <td id="L1629" data-line-number="1629"></td>
          <td id="LC1629">	std::lock_guard&lt;std::mutex&gt; <span>lock</span>(replaceInFiles_mutex);</td>
        </tr>
        <tr>
          <td id="L1630" data-line-number="1630"></td>
          <td id="LC1630">
</td>
        </tr>
        <tr>
          <td id="L1631" data-line-number="1631"></td>
          <td id="LC1631">	std::vector&lt;generic_string&gt; fileNames;</td>
        </tr>
        <tr>
          <td id="L1632" data-line-number="1632"></td>
          <td id="LC1632">	<span>if</span> (!<span>createFilelistForFiles</span>(fileNames))</td>
        </tr>
        <tr>
          <td id="L1633" data-line-number="1633"></td>
          <td id="LC1633">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1634" data-line-number="1634"></td>
          <td id="LC1634">
</td>
        </tr>
        <tr>
          <td id="L1635" data-line-number="1635"></td>
          <td id="LC1635">	<span>return</span> <span>replaceInFilelist</span>(fileNames);</td>
        </tr>
        <tr>
          <td id="L1636" data-line-number="1636"></td>
          <td id="LC1636">}</td>
        </tr>
        <tr>
          <td id="L1637" data-line-number="1637"></td>
          <td id="LC1637">
</td>
        </tr>
        <tr>
          <td id="L1638" data-line-number="1638"></td>
          <td id="LC1638"><span>bool</span> <span>Notepad_plus::replaceInProjects</span>()</td>
        </tr>
        <tr>
          <td id="L1639" data-line-number="1639"></td>
          <td id="LC1639">{</td>
        </tr>
        <tr>
          <td id="L1640" data-line-number="1640"></td>
          <td id="LC1640">	std::lock_guard&lt;std::mutex&gt; <span>lock</span>(replaceInFiles_mutex);</td>
        </tr>
        <tr>
          <td id="L1641" data-line-number="1641"></td>
          <td id="LC1641">
</td>
        </tr>
        <tr>
          <td id="L1642" data-line-number="1642"></td>
          <td id="LC1642">	std::vector&lt;generic_string&gt; fileNames;</td>
        </tr>
        <tr>
          <td id="L1643" data-line-number="1643"></td>
          <td id="LC1643">	<span>if</span> (!<span>createFilelistForProjects</span>(fileNames))</td>
        </tr>
        <tr>
          <td id="L1644" data-line-number="1644"></td>
          <td id="LC1644">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1645" data-line-number="1645"></td>
          <td id="LC1645">
</td>
        </tr>
        <tr>
          <td id="L1646" data-line-number="1646"></td>
          <td id="LC1646">	<span>return</span> <span>replaceInFilelist</span>(fileNames);</td>
        </tr>
        <tr>
          <td id="L1647" data-line-number="1647"></td>
          <td id="LC1647">}</td>
        </tr>
        <tr>
          <td id="L1648" data-line-number="1648"></td>
          <td id="LC1648">
</td>
        </tr>
        <tr>
          <td id="L1649" data-line-number="1649"></td>
          <td id="LC1649"><span>bool</span> <span>Notepad_plus::replaceInFilelist</span>(std::vector&lt;generic_string&gt; &amp; fileNames)</td>
        </tr>
        <tr>
          <td id="L1650" data-line-number="1650"></td>
          <td id="LC1650">{</td>
        </tr>
        <tr>
          <td id="L1651" data-line-number="1651"></td>
          <td id="LC1651">	<span>int</span> nbTotal = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1652" data-line-number="1652"></td>
          <td id="LC1652">
</td>
        </tr>
        <tr>
          <td id="L1653" data-line-number="1653"></td>
          <td id="LC1653">	ScintillaEditView *pOldView = _pEditView;</td>
        </tr>
        <tr>
          <td id="L1654" data-line-number="1654"></td>
          <td id="LC1654">	_pEditView = &amp;_invisibleEditView;</td>
        </tr>
        <tr>
          <td id="L1655" data-line-number="1655"></td>
          <td id="LC1655">	Document oldDoc = _invisibleEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L1656" data-line-number="1656"></td>
          <td id="LC1656">	Buffer * oldBuf = _invisibleEditView.<span>getCurrentBuffer</span>();	<span><span>//</span>for manually setting the buffer, so notifications can be handled properly</span></td>
        </tr>
        <tr>
          <td id="L1657" data-line-number="1657"></td>
          <td id="LC1657">
</td>
        </tr>
        <tr>
          <td id="L1658" data-line-number="1658"></td>
          <td id="LC1658">	Progress <span>progress</span>(_pPublicInterface-&gt;<span>getHinst</span>());</td>
        </tr>
        <tr>
          <td id="L1659" data-line-number="1659"></td>
          <td id="LC1659">	<span>size_t</span> filesCount = fileNames.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L1660" data-line-number="1660"></td>
          <td id="LC1660">	<span>size_t</span> filesPerPercent = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1661" data-line-number="1661"></td>
          <td id="LC1661">
</td>
        </tr>
        <tr>
          <td id="L1662" data-line-number="1662"></td>
          <td id="LC1662">	<span>if</span> (filesCount &gt; <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L1663" data-line-number="1663"></td>
          <td id="LC1663">	{</td>
        </tr>
        <tr>
          <td id="L1664" data-line-number="1664"></td>
          <td id="LC1664">		<span>if</span> (filesCount &gt;= <span>200</span>)</td>
        </tr>
        <tr>
          <td id="L1665" data-line-number="1665"></td>
          <td id="LC1665">			filesPerPercent = filesCount / <span>100</span>;</td>
        </tr>
        <tr>
          <td id="L1666" data-line-number="1666"></td>
          <td id="LC1666">		</td>
        </tr>
        <tr>
          <td id="L1667" data-line-number="1667"></td>
          <td id="LC1667">		generic_string msg = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(</td>
        </tr>
        <tr>
          <td id="L1668" data-line-number="1668"></td>
          <td id="LC1668">			<span><span>&#34;</span>replace-in-files-progress-title<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Replace In Files progress...<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1669" data-line-number="1669"></td>
          <td id="LC1669">		progress.<span>open</span>(_findReplaceDlg.<span>getHSelf</span>(), msg.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1670" data-line-number="1670"></td>
          <td id="LC1670">	}</td>
        </tr>
        <tr>
          <td id="L1671" data-line-number="1671"></td>
          <td id="LC1671">
</td>
        </tr>
        <tr>
          <td id="L1672" data-line-number="1672"></td>
          <td id="LC1672">	<span>for</span> (<span>size_t</span> i = <span>0</span>, updateOnCount = filesPerPercent; i &lt; filesCount; ++i)</td>
        </tr>
        <tr>
          <td id="L1673" data-line-number="1673"></td>
          <td id="LC1673">	{</td>
        </tr>
        <tr>
          <td id="L1674" data-line-number="1674"></td>
          <td id="LC1674">		<span>if</span> (progress.<span>isCancelled</span>()) <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L1675" data-line-number="1675"></td>
          <td id="LC1675">
</td>
        </tr>
        <tr>
          <td id="L1676" data-line-number="1676"></td>
          <td id="LC1676">		<span>bool</span> closeBuf = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1677" data-line-number="1677"></td>
          <td id="LC1677">
</td>
        </tr>
        <tr>
          <td id="L1678" data-line-number="1678"></td>
          <td id="LC1678">		BufferID id = MainFileManager.<span>getBufferFromName</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1679" data-line-number="1679"></td>
          <td id="LC1679">		<span>if</span> (id == BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L1680" data-line-number="1680"></td>
          <td id="LC1680">		{</td>
        </tr>
        <tr>
          <td id="L1681" data-line-number="1681"></td>
          <td id="LC1681">			id = MainFileManager.<span>loadFile</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1682" data-line-number="1682"></td>
          <td id="LC1682">			closeBuf = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1683" data-line-number="1683"></td>
          <td id="LC1683">		}</td>
        </tr>
        <tr>
          <td id="L1684" data-line-number="1684"></td>
          <td id="LC1684">
</td>
        </tr>
        <tr>
          <td id="L1685" data-line-number="1685"></td>
          <td id="LC1685">		<span>if</span> (id != BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L1686" data-line-number="1686"></td>
          <td id="LC1686">		{</td>
        </tr>
        <tr>
          <td id="L1687" data-line-number="1687"></td>
          <td id="LC1687">			Buffer * pBuf = MainFileManager.<span>getBufferByID</span>(id);</td>
        </tr>
        <tr>
          <td id="L1688" data-line-number="1688"></td>
          <td id="LC1688">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L1689" data-line-number="1689"></td>
          <td id="LC1689">
</td>
        </tr>
        <tr>
          <td id="L1690" data-line-number="1690"></td>
          <td id="LC1690">			<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1691" data-line-number="1691"></td>
          <td id="LC1691">
</td>
        </tr>
        <tr>
          <td id="L1692" data-line-number="1692"></td>
          <td id="LC1692">			_invisibleEditView.<span>setCurrentBuffer</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1693" data-line-number="1693"></td>
          <td id="LC1693">
</td>
        </tr>
        <tr>
          <td id="L1694" data-line-number="1694"></td>
          <td id="LC1694">			FindersInfo findersInfo;</td>
        </tr>
        <tr>
          <td id="L1695" data-line-number="1695"></td>
          <td id="LC1695">			findersInfo.<span>_pFileName</span> = fileNames.<span>at</span>(i).<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L1696" data-line-number="1696"></td>
          <td id="LC1696">			<span>int</span> nbReplaced = _findReplaceDlg.<span>processAll</span>(ProcessReplaceAll, FindReplaceDlg::_env, <span>true</span>, &amp;findersInfo);</td>
        </tr>
        <tr>
          <td id="L1697" data-line-number="1697"></td>
          <td id="LC1697">			nbTotal += nbReplaced;</td>
        </tr>
        <tr>
          <td id="L1698" data-line-number="1698"></td>
          <td id="LC1698">			<span>if</span> (nbReplaced)</td>
        </tr>
        <tr>
          <td id="L1699" data-line-number="1699"></td>
          <td id="LC1699">			{</td>
        </tr>
        <tr>
          <td id="L1700" data-line-number="1700"></td>
          <td id="LC1700">				MainFileManager.<span>saveBuffer</span>(id, pBuf-&gt;<span>getFullPathName</span>());</td>
        </tr>
        <tr>
          <td id="L1701" data-line-number="1701"></td>
          <td id="LC1701">			}</td>
        </tr>
        <tr>
          <td id="L1702" data-line-number="1702"></td>
          <td id="LC1702">
</td>
        </tr>
        <tr>
          <td id="L1703" data-line-number="1703"></td>
          <td id="LC1703">			<span>if</span> (closeBuf)</td>
        </tr>
        <tr>
          <td id="L1704" data-line-number="1704"></td>
          <td id="LC1704">				MainFileManager.<span>closeBuffer</span>(id, _pEditView);</td>
        </tr>
        <tr>
          <td id="L1705" data-line-number="1705"></td>
          <td id="LC1705">		}</td>
        </tr>
        <tr>
          <td id="L1706" data-line-number="1706"></td>
          <td id="LC1706">		<span>if</span> (i == updateOnCount)</td>
        </tr>
        <tr>
          <td id="L1707" data-line-number="1707"></td>
          <td id="LC1707">		{</td>
        </tr>
        <tr>
          <td id="L1708" data-line-number="1708"></td>
          <td id="LC1708">			updateOnCount += filesPerPercent;</td>
        </tr>
        <tr>
          <td id="L1709" data-line-number="1709"></td>
          <td id="LC1709">			progress.<span>setPercent</span>(<span>int32_t</span>((i * <span>100</span>) / filesCount), fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1710" data-line-number="1710"></td>
          <td id="LC1710">		}</td>
        </tr>
        <tr>
          <td id="L1711" data-line-number="1711"></td>
          <td id="LC1711">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L1712" data-line-number="1712"></td>
          <td id="LC1712">		{</td>
        </tr>
        <tr>
          <td id="L1713" data-line-number="1713"></td>
          <td id="LC1713">			progress.<span>setInfo</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1714" data-line-number="1714"></td>
          <td id="LC1714">		}</td>
        </tr>
        <tr>
          <td id="L1715" data-line-number="1715"></td>
          <td id="LC1715">	}</td>
        </tr>
        <tr>
          <td id="L1716" data-line-number="1716"></td>
          <td id="LC1716">
</td>
        </tr>
        <tr>
          <td id="L1717" data-line-number="1717"></td>
          <td id="LC1717">	progress.<span>close</span>();</td>
        </tr>
        <tr>
          <td id="L1718" data-line-number="1718"></td>
          <td id="LC1718">
</td>
        </tr>
        <tr>
          <td id="L1719" data-line-number="1719"></td>
          <td id="LC1719">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, oldDoc);</td>
        </tr>
        <tr>
          <td id="L1720" data-line-number="1720"></td>
          <td id="LC1720">	_invisibleEditView.<span>setCurrentBuffer</span>(oldBuf);</td>
        </tr>
        <tr>
          <td id="L1721" data-line-number="1721"></td>
          <td id="LC1721">	_pEditView = pOldView;</td>
        </tr>
        <tr>
          <td id="L1722" data-line-number="1722"></td>
          <td id="LC1722">
</td>
        </tr>
        <tr>
          <td id="L1723" data-line-number="1723"></td>
          <td id="LC1723">	generic_string result;</td>
        </tr>
        <tr>
          <td id="L1724" data-line-number="1724"></td>
          <td id="LC1724">	<span>if</span> (nbTotal == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L1725" data-line-number="1725"></td>
          <td id="LC1725">	{</td>
        </tr>
        <tr>
          <td id="L1726" data-line-number="1726"></td>
          <td id="LC1726">		result = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(<span><span>&#34;</span>find-status-replaceinfiles-1-replaced<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Replace in Files: 1 occurrence was replaced.<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1727" data-line-number="1727"></td>
          <td id="LC1727">	}</td>
        </tr>
        <tr>
          <td id="L1728" data-line-number="1728"></td>
          <td id="LC1728">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L1729" data-line-number="1729"></td>
          <td id="LC1729">	{</td>
        </tr>
        <tr>
          <td id="L1730" data-line-number="1730"></td>
          <td id="LC1730">		result = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(<span><span>&#34;</span>find-status-replaceinfiles-nb-replaced<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Replace in Files: $INT_REPLACE$ occurrences were replaced.<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1731" data-line-number="1731"></td>
          <td id="LC1731">		result = <span>stringReplace</span>(result, <span>TEXT</span>(<span><span>&#34;</span>$INT_REPLACE$<span>&#34;</span></span>), <span>std::to_wstring</span>(nbTotal));</td>
        </tr>
        <tr>
          <td id="L1732" data-line-number="1732"></td>
          <td id="LC1732">	}</td>
        </tr>
        <tr>
          <td id="L1733" data-line-number="1733"></td>
          <td id="LC1733">	_findReplaceDlg.<span>setStatusbarMessage</span>(result, FSMessage);</td>
        </tr>
        <tr>
          <td id="L1734" data-line-number="1734"></td>
          <td id="LC1734">
</td>
        </tr>
        <tr>
          <td id="L1735" data-line-number="1735"></td>
          <td id="LC1735">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1736" data-line-number="1736"></td>
          <td id="LC1736">}</td>
        </tr>
        <tr>
          <td id="L1737" data-line-number="1737"></td>
          <td id="LC1737">
</td>
        </tr>
        <tr>
          <td id="L1738" data-line-number="1738"></td>
          <td id="LC1738"><span>bool</span> <span>Notepad_plus::findInFinderFiles</span>(FindersInfo *findInFolderInfo)</td>
        </tr>
        <tr>
          <td id="L1739" data-line-number="1739"></td>
          <td id="LC1739">{</td>
        </tr>
        <tr>
          <td id="L1740" data-line-number="1740"></td>
          <td id="LC1740">	<span>int</span> nbTotal = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1741" data-line-number="1741"></td>
          <td id="LC1741">	ScintillaEditView *pOldView = _pEditView;</td>
        </tr>
        <tr>
          <td id="L1742" data-line-number="1742"></td>
          <td id="LC1742">	_pEditView = &amp;_invisibleEditView;</td>
        </tr>
        <tr>
          <td id="L1743" data-line-number="1743"></td>
          <td id="LC1743">	Document oldDoc = _invisibleEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L1744" data-line-number="1744"></td>
          <td id="LC1744">
</td>
        </tr>
        <tr>
          <td id="L1745" data-line-number="1745"></td>
          <td id="LC1745">	vector&lt;generic_string&gt; fileNames = findInFolderInfo-&gt;<span>_pSourceFinder</span>-&gt;<span>getResultFilePaths</span>();</td>
        </tr>
        <tr>
          <td id="L1746" data-line-number="1746"></td>
          <td id="LC1746">
</td>
        </tr>
        <tr>
          <td id="L1747" data-line-number="1747"></td>
          <td id="LC1747">	findInFolderInfo-&gt;<span>_pDestFinder</span>-&gt;<span>beginNewFilesSearch</span>();</td>
        </tr>
        <tr>
          <td id="L1748" data-line-number="1748"></td>
          <td id="LC1748">	findInFolderInfo-&gt;<span>_pDestFinder</span>-&gt;<span>addSearchLine</span>(findInFolderInfo-&gt;<span>_findOption</span>.<span>_str2Search</span>.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1749" data-line-number="1749"></td>
          <td id="LC1749">
</td>
        </tr>
        <tr>
          <td id="L1750" data-line-number="1750"></td>
          <td id="LC1750">	Progress <span>progress</span>(_pPublicInterface-&gt;<span>getHinst</span>());</td>
        </tr>
        <tr>
          <td id="L1751" data-line-number="1751"></td>
          <td id="LC1751">
</td>
        </tr>
        <tr>
          <td id="L1752" data-line-number="1752"></td>
          <td id="LC1752">	<span>size_t</span> filesCount = fileNames.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L1753" data-line-number="1753"></td>
          <td id="LC1753">	<span>size_t</span> filesPerPercent = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1754" data-line-number="1754"></td>
          <td id="LC1754">
</td>
        </tr>
        <tr>
          <td id="L1755" data-line-number="1755"></td>
          <td id="LC1755">	<span>if</span> (filesCount &gt; <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L1756" data-line-number="1756"></td>
          <td id="LC1756">	{</td>
        </tr>
        <tr>
          <td id="L1757" data-line-number="1757"></td>
          <td id="LC1757">		<span>if</span> (filesCount &gt;= <span>200</span>)</td>
        </tr>
        <tr>
          <td id="L1758" data-line-number="1758"></td>
          <td id="LC1758">			filesPerPercent = filesCount / <span>100</span>;</td>
        </tr>
        <tr>
          <td id="L1759" data-line-number="1759"></td>
          <td id="LC1759">		</td>
        </tr>
        <tr>
          <td id="L1760" data-line-number="1760"></td>
          <td id="LC1760">		generic_string msg = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(</td>
        </tr>
        <tr>
          <td id="L1761" data-line-number="1761"></td>
          <td id="LC1761">			<span><span>&#34;</span>find-in-files-progress-title<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Find In Files progress...<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1762" data-line-number="1762"></td>
          <td id="LC1762">		progress.<span>open</span>(_findReplaceDlg.<span>getHSelf</span>(), msg.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1763" data-line-number="1763"></td>
          <td id="LC1763">	}</td>
        </tr>
        <tr>
          <td id="L1764" data-line-number="1764"></td>
          <td id="LC1764">
</td>
        </tr>
        <tr>
          <td id="L1765" data-line-number="1765"></td>
          <td id="LC1765">	<span>for</span> (<span>size_t</span> i = <span>0</span>, updateOnCount = filesPerPercent; i &lt; filesCount; ++i)</td>
        </tr>
        <tr>
          <td id="L1766" data-line-number="1766"></td>
          <td id="LC1766">	{</td>
        </tr>
        <tr>
          <td id="L1767" data-line-number="1767"></td>
          <td id="LC1767">		<span>if</span> (progress.<span>isCancelled</span>()) <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L1768" data-line-number="1768"></td>
          <td id="LC1768">
</td>
        </tr>
        <tr>
          <td id="L1769" data-line-number="1769"></td>
          <td id="LC1769">		<span>bool</span> closeBuf = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1770" data-line-number="1770"></td>
          <td id="LC1770">		BufferID id = MainFileManager.<span>getBufferFromName</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1771" data-line-number="1771"></td>
          <td id="LC1771">		<span>if</span> (id == BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L1772" data-line-number="1772"></td>
          <td id="LC1772">		{</td>
        </tr>
        <tr>
          <td id="L1773" data-line-number="1773"></td>
          <td id="LC1773">			id = MainFileManager.<span>loadFile</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1774" data-line-number="1774"></td>
          <td id="LC1774">			closeBuf = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1775" data-line-number="1775"></td>
          <td id="LC1775">		}</td>
        </tr>
        <tr>
          <td id="L1776" data-line-number="1776"></td>
          <td id="LC1776">
</td>
        </tr>
        <tr>
          <td id="L1777" data-line-number="1777"></td>
          <td id="LC1777">		<span>if</span> (id != BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L1778" data-line-number="1778"></td>
          <td id="LC1778">		{</td>
        </tr>
        <tr>
          <td id="L1779" data-line-number="1779"></td>
          <td id="LC1779">			Buffer * pBuf = MainFileManager.<span>getBufferByID</span>(id);</td>
        </tr>
        <tr>
          <td id="L1780" data-line-number="1780"></td>
          <td id="LC1780">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L1781" data-line-number="1781"></td>
          <td id="LC1781">
</td>
        </tr>
        <tr>
          <td id="L1782" data-line-number="1782"></td>
          <td id="LC1782">			<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1783" data-line-number="1783"></td>
          <td id="LC1783">
</td>
        </tr>
        <tr>
          <td id="L1784" data-line-number="1784"></td>
          <td id="LC1784">			findInFolderInfo-&gt;<span>_pFileName</span> = fileNames.<span>at</span>(i).<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L1785" data-line-number="1785"></td>
          <td id="LC1785">			</td>
        </tr>
        <tr>
          <td id="L1786" data-line-number="1786"></td>
          <td id="LC1786">			nbTotal += _findReplaceDlg.<span>processAll</span>(ProcessFindInFinder, &amp;(findInFolderInfo-&gt;<span>_findOption</span>), <span>true</span>, findInFolderInfo);</td>
        </tr>
        <tr>
          <td id="L1787" data-line-number="1787"></td>
          <td id="LC1787">			</td>
        </tr>
        <tr>
          <td id="L1788" data-line-number="1788"></td>
          <td id="LC1788">			<span>if</span> (closeBuf)</td>
        </tr>
        <tr>
          <td id="L1789" data-line-number="1789"></td>
          <td id="LC1789">				MainFileManager.<span>closeBuffer</span>(id, _pEditView);</td>
        </tr>
        <tr>
          <td id="L1790" data-line-number="1790"></td>
          <td id="LC1790">		}</td>
        </tr>
        <tr>
          <td id="L1791" data-line-number="1791"></td>
          <td id="LC1791">		<span>if</span> (i == updateOnCount)</td>
        </tr>
        <tr>
          <td id="L1792" data-line-number="1792"></td>
          <td id="LC1792">		{</td>
        </tr>
        <tr>
          <td id="L1793" data-line-number="1793"></td>
          <td id="LC1793">			updateOnCount += filesPerPercent;</td>
        </tr>
        <tr>
          <td id="L1794" data-line-number="1794"></td>
          <td id="LC1794">			progress.<span>setPercent</span>(<span>int32_t</span>((i * <span>100</span>) / filesCount), fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1795" data-line-number="1795"></td>
          <td id="LC1795">		}</td>
        </tr>
        <tr>
          <td id="L1796" data-line-number="1796"></td>
          <td id="LC1796">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L1797" data-line-number="1797"></td>
          <td id="LC1797">		{</td>
        </tr>
        <tr>
          <td id="L1798" data-line-number="1798"></td>
          <td id="LC1798">			progress.<span>setInfo</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1799" data-line-number="1799"></td>
          <td id="LC1799">		}</td>
        </tr>
        <tr>
          <td id="L1800" data-line-number="1800"></td>
          <td id="LC1800">	}</td>
        </tr>
        <tr>
          <td id="L1801" data-line-number="1801"></td>
          <td id="LC1801">	progress.<span>close</span>();</td>
        </tr>
        <tr>
          <td id="L1802" data-line-number="1802"></td>
          <td id="LC1802">
</td>
        </tr>
        <tr>
          <td id="L1803" data-line-number="1803"></td>
          <td id="LC1803">	<span>const</span> <span>bool</span> searchedInSelection = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1804" data-line-number="1804"></td>
          <td id="LC1804">	findInFolderInfo-&gt;<span>_pDestFinder</span>-&gt;<span>finishFilesSearch</span>(nbTotal, <span>int</span>(filesCount), findInFolderInfo-&gt;<span>_findOption</span>.<span>_isMatchLineNumber</span>, !searchedInSelection);</td>
        </tr>
        <tr>
          <td id="L1805" data-line-number="1805"></td>
          <td id="LC1805">
</td>
        </tr>
        <tr>
          <td id="L1806" data-line-number="1806"></td>
          <td id="LC1806">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, oldDoc);</td>
        </tr>
        <tr>
          <td id="L1807" data-line-number="1807"></td>
          <td id="LC1807">	_pEditView = pOldView;</td>
        </tr>
        <tr>
          <td id="L1808" data-line-number="1808"></td>
          <td id="LC1808">
</td>
        </tr>
        <tr>
          <td id="L1809" data-line-number="1809"></td>
          <td id="LC1809">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1810" data-line-number="1810"></td>
          <td id="LC1810">}</td>
        </tr>
        <tr>
          <td id="L1811" data-line-number="1811"></td>
          <td id="LC1811">
</td>
        </tr>
        <tr>
          <td id="L1812" data-line-number="1812"></td>
          <td id="LC1812"><span>bool</span> <span>Notepad_plus::findInFiles</span>()</td>
        </tr>
        <tr>
          <td id="L1813" data-line-number="1813"></td>
          <td id="LC1813">{</td>
        </tr>
        <tr>
          <td id="L1814" data-line-number="1814"></td>
          <td id="LC1814">	std::vector&lt;generic_string&gt; fileNames;</td>
        </tr>
        <tr>
          <td id="L1815" data-line-number="1815"></td>
          <td id="LC1815">	<span>if</span> (! <span>createFilelistForFiles</span>(fileNames))</td>
        </tr>
        <tr>
          <td id="L1816" data-line-number="1816"></td>
          <td id="LC1816">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1817" data-line-number="1817"></td>
          <td id="LC1817">
</td>
        </tr>
        <tr>
          <td id="L1818" data-line-number="1818"></td>
          <td id="LC1818">	<span>return</span> <span>findInFilelist</span>(fileNames);</td>
        </tr>
        <tr>
          <td id="L1819" data-line-number="1819"></td>
          <td id="LC1819">}</td>
        </tr>
        <tr>
          <td id="L1820" data-line-number="1820"></td>
          <td id="LC1820">
</td>
        </tr>
        <tr>
          <td id="L1821" data-line-number="1821"></td>
          <td id="LC1821"><span>bool</span> <span>Notepad_plus::findInProjects</span>()</td>
        </tr>
        <tr>
          <td id="L1822" data-line-number="1822"></td>
          <td id="LC1822">{</td>
        </tr>
        <tr>
          <td id="L1823" data-line-number="1823"></td>
          <td id="LC1823">	vector&lt;generic_string&gt; fileNames;</td>
        </tr>
        <tr>
          <td id="L1824" data-line-number="1824"></td>
          <td id="LC1824">	<span>if</span> (! <span>createFilelistForProjects</span>(fileNames))</td>
        </tr>
        <tr>
          <td id="L1825" data-line-number="1825"></td>
          <td id="LC1825">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1826" data-line-number="1826"></td>
          <td id="LC1826">
</td>
        </tr>
        <tr>
          <td id="L1827" data-line-number="1827"></td>
          <td id="LC1827">	<span>return</span> <span>findInFilelist</span>(fileNames);</td>
        </tr>
        <tr>
          <td id="L1828" data-line-number="1828"></td>
          <td id="LC1828">}</td>
        </tr>
        <tr>
          <td id="L1829" data-line-number="1829"></td>
          <td id="LC1829">
</td>
        </tr>
        <tr>
          <td id="L1830" data-line-number="1830"></td>
          <td id="LC1830"><span>bool</span> <span>Notepad_plus::findInFilelist</span>(std::vector&lt;generic_string&gt; &amp; fileNames)</td>
        </tr>
        <tr>
          <td id="L1831" data-line-number="1831"></td>
          <td id="LC1831">{</td>
        </tr>
        <tr>
          <td id="L1832" data-line-number="1832"></td>
          <td id="LC1832">	<span>int</span> nbTotal = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1833" data-line-number="1833"></td>
          <td id="LC1833">	ScintillaEditView *pOldView = _pEditView;</td>
        </tr>
        <tr>
          <td id="L1834" data-line-number="1834"></td>
          <td id="LC1834">	_pEditView = &amp;_invisibleEditView;</td>
        </tr>
        <tr>
          <td id="L1835" data-line-number="1835"></td>
          <td id="LC1835">	Document oldDoc = _invisibleEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L1836" data-line-number="1836"></td>
          <td id="LC1836">
</td>
        </tr>
        <tr>
          <td id="L1837" data-line-number="1837"></td>
          <td id="LC1837">	_findReplaceDlg.<span>beginNewFilesSearch</span>();</td>
        </tr>
        <tr>
          <td id="L1838" data-line-number="1838"></td>
          <td id="LC1838">
</td>
        </tr>
        <tr>
          <td id="L1839" data-line-number="1839"></td>
          <td id="LC1839">	Progress <span>progress</span>(_pPublicInterface-&gt;<span>getHinst</span>());</td>
        </tr>
        <tr>
          <td id="L1840" data-line-number="1840"></td>
          <td id="LC1840">
</td>
        </tr>
        <tr>
          <td id="L1841" data-line-number="1841"></td>
          <td id="LC1841">	<span>size_t</span> filesCount = fileNames.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L1842" data-line-number="1842"></td>
          <td id="LC1842">	<span>size_t</span> filesPerPercent = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L1843" data-line-number="1843"></td>
          <td id="LC1843">
</td>
        </tr>
        <tr>
          <td id="L1844" data-line-number="1844"></td>
          <td id="LC1844">	<span>if</span> (filesCount &gt; <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L1845" data-line-number="1845"></td>
          <td id="LC1845">	{</td>
        </tr>
        <tr>
          <td id="L1846" data-line-number="1846"></td>
          <td id="LC1846">		<span>if</span> (filesCount &gt;= <span>200</span>)</td>
        </tr>
        <tr>
          <td id="L1847" data-line-number="1847"></td>
          <td id="LC1847">			filesPerPercent = filesCount / <span>100</span>;</td>
        </tr>
        <tr>
          <td id="L1848" data-line-number="1848"></td>
          <td id="LC1848">
</td>
        </tr>
        <tr>
          <td id="L1849" data-line-number="1849"></td>
          <td id="LC1849">		generic_string msg = _nativeLangSpeaker.<span>getLocalizedStrFromID</span>(</td>
        </tr>
        <tr>
          <td id="L1850" data-line-number="1850"></td>
          <td id="LC1850">			<span><span>&#34;</span>find-in-files-progress-title<span>&#34;</span></span>, <span>TEXT</span>(<span><span>&#34;</span>Find In Files progress...<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L1851" data-line-number="1851"></td>
          <td id="LC1851">		progress.<span>open</span>(_findReplaceDlg.<span>getHSelf</span>(), msg.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1852" data-line-number="1852"></td>
          <td id="LC1852">	}</td>
        </tr>
        <tr>
          <td id="L1853" data-line-number="1853"></td>
          <td id="LC1853">
</td>
        </tr>
        <tr>
          <td id="L1854" data-line-number="1854"></td>
          <td id="LC1854">	<span>const</span> <span>bool</span> isEntireDoc = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1855" data-line-number="1855"></td>
          <td id="LC1855">
</td>
        </tr>
        <tr>
          <td id="L1856" data-line-number="1856"></td>
          <td id="LC1856">	<span>for</span> (<span>size_t</span> i = <span>0</span>, updateOnCount = filesPerPercent; i &lt; filesCount; ++i)</td>
        </tr>
        <tr>
          <td id="L1857" data-line-number="1857"></td>
          <td id="LC1857">	{</td>
        </tr>
        <tr>
          <td id="L1858" data-line-number="1858"></td>
          <td id="LC1858">		<span>if</span> (progress.<span>isCancelled</span>()) <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L1859" data-line-number="1859"></td>
          <td id="LC1859">
</td>
        </tr>
        <tr>
          <td id="L1860" data-line-number="1860"></td>
          <td id="LC1860">		<span>bool</span> closeBuf = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L1861" data-line-number="1861"></td>
          <td id="LC1861">		BufferID id = MainFileManager.<span>getBufferFromName</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1862" data-line-number="1862"></td>
          <td id="LC1862">		<span>if</span> (id == BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L1863" data-line-number="1863"></td>
          <td id="LC1863">		{</td>
        </tr>
        <tr>
          <td id="L1864" data-line-number="1864"></td>
          <td id="LC1864">			id = MainFileManager.<span>loadFile</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1865" data-line-number="1865"></td>
          <td id="LC1865">			closeBuf = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1866" data-line-number="1866"></td>
          <td id="LC1866">		}</td>
        </tr>
        <tr>
          <td id="L1867" data-line-number="1867"></td>
          <td id="LC1867">
</td>
        </tr>
        <tr>
          <td id="L1868" data-line-number="1868"></td>
          <td id="LC1868">		<span>if</span> (id != BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L1869" data-line-number="1869"></td>
          <td id="LC1869">		{</td>
        </tr>
        <tr>
          <td id="L1870" data-line-number="1870"></td>
          <td id="LC1870">			Buffer * pBuf = MainFileManager.<span>getBufferByID</span>(id);</td>
        </tr>
        <tr>
          <td id="L1871" data-line-number="1871"></td>
          <td id="LC1871">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L1872" data-line-number="1872"></td>
          <td id="LC1872">
</td>
        </tr>
        <tr>
          <td id="L1873" data-line-number="1873"></td>
          <td id="LC1873">			<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1874" data-line-number="1874"></td>
          <td id="LC1874">
</td>
        </tr>
        <tr>
          <td id="L1875" data-line-number="1875"></td>
          <td id="LC1875">			FindersInfo findersInfo;</td>
        </tr>
        <tr>
          <td id="L1876" data-line-number="1876"></td>
          <td id="LC1876">			findersInfo.<span>_pFileName</span> = fileNames.<span>at</span>(i).<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L1877" data-line-number="1877"></td>
          <td id="LC1877">
</td>
        </tr>
        <tr>
          <td id="L1878" data-line-number="1878"></td>
          <td id="LC1878">			nbTotal += _findReplaceDlg.<span>processAll</span>(ProcessFindAll, FindReplaceDlg::_env, isEntireDoc, &amp;findersInfo);</td>
        </tr>
        <tr>
          <td id="L1879" data-line-number="1879"></td>
          <td id="LC1879">
</td>
        </tr>
        <tr>
          <td id="L1880" data-line-number="1880"></td>
          <td id="LC1880">			<span>if</span> (closeBuf)</td>
        </tr>
        <tr>
          <td id="L1881" data-line-number="1881"></td>
          <td id="LC1881">				MainFileManager.<span>closeBuffer</span>(id, _pEditView);</td>
        </tr>
        <tr>
          <td id="L1882" data-line-number="1882"></td>
          <td id="LC1882">		}</td>
        </tr>
        <tr>
          <td id="L1883" data-line-number="1883"></td>
          <td id="LC1883">		<span>if</span> (i == updateOnCount)</td>
        </tr>
        <tr>
          <td id="L1884" data-line-number="1884"></td>
          <td id="LC1884">		{</td>
        </tr>
        <tr>
          <td id="L1885" data-line-number="1885"></td>
          <td id="LC1885">			updateOnCount += filesPerPercent;</td>
        </tr>
        <tr>
          <td id="L1886" data-line-number="1886"></td>
          <td id="LC1886">			progress.<span>setPercent</span>(<span>int32_t</span>((i * <span>100</span>) / filesCount), fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1887" data-line-number="1887"></td>
          <td id="LC1887">		}</td>
        </tr>
        <tr>
          <td id="L1888" data-line-number="1888"></td>
          <td id="LC1888">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L1889" data-line-number="1889"></td>
          <td id="LC1889">		{</td>
        </tr>
        <tr>
          <td id="L1890" data-line-number="1890"></td>
          <td id="LC1890">			progress.<span>setInfo</span>(fileNames.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L1891" data-line-number="1891"></td>
          <td id="LC1891">		}</td>
        </tr>
        <tr>
          <td id="L1892" data-line-number="1892"></td>
          <td id="LC1892">	}</td>
        </tr>
        <tr>
          <td id="L1893" data-line-number="1893"></td>
          <td id="LC1893">
</td>
        </tr>
        <tr>
          <td id="L1894" data-line-number="1894"></td>
          <td id="LC1894">	progress.<span>close</span>();</td>
        </tr>
        <tr>
          <td id="L1895" data-line-number="1895"></td>
          <td id="LC1895">
</td>
        </tr>
        <tr>
          <td id="L1896" data-line-number="1896"></td>
          <td id="LC1896">	_findReplaceDlg.<span>finishFilesSearch</span>(nbTotal, <span>int</span>(filesCount), isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1897" data-line-number="1897"></td>
          <td id="LC1897">
</td>
        </tr>
        <tr>
          <td id="L1898" data-line-number="1898"></td>
          <td id="LC1898">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, oldDoc);</td>
        </tr>
        <tr>
          <td id="L1899" data-line-number="1899"></td>
          <td id="LC1899">	_pEditView = pOldView;</td>
        </tr>
        <tr>
          <td id="L1900" data-line-number="1900"></td>
          <td id="LC1900">
</td>
        </tr>
        <tr>
          <td id="L1901" data-line-number="1901"></td>
          <td id="LC1901">	_findReplaceDlg.<span>putFindResult</span>(nbTotal);</td>
        </tr>
        <tr>
          <td id="L1902" data-line-number="1902"></td>
          <td id="LC1902">
</td>
        </tr>
        <tr>
          <td id="L1903" data-line-number="1903"></td>
          <td id="LC1903">	<span>if</span> (nbTotal != <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1904" data-line-number="1904"></td>
          <td id="LC1904">	{</td>
        </tr>
        <tr>
          <td id="L1905" data-line-number="1905"></td>
          <td id="LC1905">		NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L1906" data-line-number="1906"></td>
          <td id="LC1906">		NppGUI&amp; nppGui = nppParam.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L1907" data-line-number="1907"></td>
          <td id="LC1907">		<span>if</span> (!nppGui.<span>_findDlgAlwaysVisible</span>)</td>
        </tr>
        <tr>
          <td id="L1908" data-line-number="1908"></td>
          <td id="LC1908">		{</td>
        </tr>
        <tr>
          <td id="L1909" data-line-number="1909"></td>
          <td id="LC1909">			_findReplaceDlg.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L1910" data-line-number="1910"></td>
          <td id="LC1910">		}</td>
        </tr>
        <tr>
          <td id="L1911" data-line-number="1911"></td>
          <td id="LC1911">	}</td>
        </tr>
        <tr>
          <td id="L1912" data-line-number="1912"></td>
          <td id="LC1912">
</td>
        </tr>
        <tr>
          <td id="L1913" data-line-number="1913"></td>
          <td id="LC1913">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1914" data-line-number="1914"></td>
          <td id="LC1914">}</td>
        </tr>
        <tr>
          <td id="L1915" data-line-number="1915"></td>
          <td id="LC1915">
</td>
        </tr>
        <tr>
          <td id="L1916" data-line-number="1916"></td>
          <td id="LC1916">
</td>
        </tr>
        <tr>
          <td id="L1917" data-line-number="1917"></td>
          <td id="LC1917"><span>bool</span> <span>Notepad_plus::findInOpenedFiles</span>()</td>
        </tr>
        <tr>
          <td id="L1918" data-line-number="1918"></td>
          <td id="LC1918">{</td>
        </tr>
        <tr>
          <td id="L1919" data-line-number="1919"></td>
          <td id="LC1919">	<span>int</span> nbTotal = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1920" data-line-number="1920"></td>
          <td id="LC1920">	ScintillaEditView *pOldView = _pEditView;</td>
        </tr>
        <tr>
          <td id="L1921" data-line-number="1921"></td>
          <td id="LC1921">	_pEditView = &amp;_invisibleEditView;</td>
        </tr>
        <tr>
          <td id="L1922" data-line-number="1922"></td>
          <td id="LC1922">	Document oldDoc = _invisibleEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L1923" data-line-number="1923"></td>
          <td id="LC1923">
</td>
        </tr>
        <tr>
          <td id="L1924" data-line-number="1924"></td>
          <td id="LC1924">	Buffer * pBuf = <span>NULL</span>;</td>
        </tr>
        <tr>
          <td id="L1925" data-line-number="1925"></td>
          <td id="LC1925">
</td>
        </tr>
        <tr>
          <td id="L1926" data-line-number="1926"></td>
          <td id="LC1926">	<span>const</span> <span>bool</span> isEntireDoc = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1927" data-line-number="1927"></td>
          <td id="LC1927">
</td>
        </tr>
        <tr>
          <td id="L1928" data-line-number="1928"></td>
          <td id="LC1928">	_findReplaceDlg.<span>beginNewFilesSearch</span>();</td>
        </tr>
        <tr>
          <td id="L1929" data-line-number="1929"></td>
          <td id="LC1929">
</td>
        </tr>
        <tr>
          <td id="L1930" data-line-number="1930"></td>
          <td id="LC1930">	<span>if</span> (_mainWindowStatus &amp; WindowMainActive)</td>
        </tr>
        <tr>
          <td id="L1931" data-line-number="1931"></td>
          <td id="LC1931">	{</td>
        </tr>
        <tr>
          <td id="L1932" data-line-number="1932"></td>
          <td id="LC1932">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = _mainDocTab.<span>nbItem</span>(); i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L1933" data-line-number="1933"></td>
          <td id="LC1933">		{</td>
        </tr>
        <tr>
          <td id="L1934" data-line-number="1934"></td>
          <td id="LC1934">			pBuf = MainFileManager.<span>getBufferByID</span>(_mainDocTab.<span>getBufferByIndex</span>(i));</td>
        </tr>
        <tr>
          <td id="L1935" data-line-number="1935"></td>
          <td id="LC1935">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L1936" data-line-number="1936"></td>
          <td id="LC1936">
</td>
        </tr>
        <tr>
          <td id="L1937" data-line-number="1937"></td>
          <td id="LC1937">			<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1938" data-line-number="1938"></td>
          <td id="LC1938">
</td>
        </tr>
        <tr>
          <td id="L1939" data-line-number="1939"></td>
          <td id="LC1939">			FindersInfo findersInfo;</td>
        </tr>
        <tr>
          <td id="L1940" data-line-number="1940"></td>
          <td id="LC1940">			findersInfo.<span>_pFileName</span> = pBuf-&gt;<span>getFullPathName</span>();</td>
        </tr>
        <tr>
          <td id="L1941" data-line-number="1941"></td>
          <td id="LC1941">			</td>
        </tr>
        <tr>
          <td id="L1942" data-line-number="1942"></td>
          <td id="LC1942">			nbTotal += _findReplaceDlg.<span>processAll</span>(ProcessFindAll, FindReplaceDlg::_env, isEntireDoc, &amp;findersInfo);</td>
        </tr>
        <tr>
          <td id="L1943" data-line-number="1943"></td>
          <td id="LC1943">		}</td>
        </tr>
        <tr>
          <td id="L1944" data-line-number="1944"></td>
          <td id="LC1944">	}</td>
        </tr>
        <tr>
          <td id="L1945" data-line-number="1945"></td>
          <td id="LC1945">
</td>
        </tr>
        <tr>
          <td id="L1946" data-line-number="1946"></td>
          <td id="LC1946">	<span>size_t</span> nbUniqueBuffers = _mainDocTab.<span>nbItem</span>();</td>
        </tr>
        <tr>
          <td id="L1947" data-line-number="1947"></td>
          <td id="LC1947">
</td>
        </tr>
        <tr>
          <td id="L1948" data-line-number="1948"></td>
          <td id="LC1948">	<span>if</span> (_mainWindowStatus &amp; WindowSubActive)</td>
        </tr>
        <tr>
          <td id="L1949" data-line-number="1949"></td>
          <td id="LC1949">	{</td>
        </tr>
        <tr>
          <td id="L1950" data-line-number="1950"></td>
          <td id="LC1950">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len2 = _subDocTab.<span>nbItem</span>(); i &lt; len2 ; ++i)</td>
        </tr>
        <tr>
          <td id="L1951" data-line-number="1951"></td>
          <td id="LC1951">		{</td>
        </tr>
        <tr>
          <td id="L1952" data-line-number="1952"></td>
          <td id="LC1952">			pBuf = MainFileManager.<span>getBufferByID</span>(_subDocTab.<span>getBufferByIndex</span>(i));</td>
        </tr>
        <tr>
          <td id="L1953" data-line-number="1953"></td>
          <td id="LC1953">			<span>if</span> (_mainDocTab.<span>getIndexByBuffer</span>(pBuf) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L1954" data-line-number="1954"></td>
          <td id="LC1954">			{</td>
        </tr>
        <tr>
          <td id="L1955" data-line-number="1955"></td>
          <td id="LC1955">				<span>continue</span>;  <span><span>//</span> clone was already searched in main; skip re-searching in sub</span></td>
        </tr>
        <tr>
          <td id="L1956" data-line-number="1956"></td>
          <td id="LC1956">			}</td>
        </tr>
        <tr>
          <td id="L1957" data-line-number="1957"></td>
          <td id="LC1957">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L1958" data-line-number="1958"></td>
          <td id="LC1958">
</td>
        </tr>
        <tr>
          <td id="L1959" data-line-number="1959"></td>
          <td id="LC1959">			<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L1960" data-line-number="1960"></td>
          <td id="LC1960">
</td>
        </tr>
        <tr>
          <td id="L1961" data-line-number="1961"></td>
          <td id="LC1961">			FindersInfo findersInfo;</td>
        </tr>
        <tr>
          <td id="L1962" data-line-number="1962"></td>
          <td id="LC1962">			findersInfo.<span>_pFileName</span> = pBuf-&gt;<span>getFullPathName</span>();</td>
        </tr>
        <tr>
          <td id="L1963" data-line-number="1963"></td>
          <td id="LC1963">
</td>
        </tr>
        <tr>
          <td id="L1964" data-line-number="1964"></td>
          <td id="LC1964">			nbTotal += _findReplaceDlg.<span>processAll</span>(ProcessFindAll, FindReplaceDlg::_env, isEntireDoc, &amp;findersInfo);</td>
        </tr>
        <tr>
          <td id="L1965" data-line-number="1965"></td>
          <td id="LC1965">
</td>
        </tr>
        <tr>
          <td id="L1966" data-line-number="1966"></td>
          <td id="LC1966">			++nbUniqueBuffers;</td>
        </tr>
        <tr>
          <td id="L1967" data-line-number="1967"></td>
          <td id="LC1967">		}</td>
        </tr>
        <tr>
          <td id="L1968" data-line-number="1968"></td>
          <td id="LC1968">	}</td>
        </tr>
        <tr>
          <td id="L1969" data-line-number="1969"></td>
          <td id="LC1969">
</td>
        </tr>
        <tr>
          <td id="L1970" data-line-number="1970"></td>
          <td id="LC1970">	_findReplaceDlg.<span>finishFilesSearch</span>(nbTotal, <span>int</span>(nbUniqueBuffers), isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L1971" data-line-number="1971"></td>
          <td id="LC1971">
</td>
        </tr>
        <tr>
          <td id="L1972" data-line-number="1972"></td>
          <td id="LC1972">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, oldDoc);</td>
        </tr>
        <tr>
          <td id="L1973" data-line-number="1973"></td>
          <td id="LC1973">	_pEditView = pOldView;</td>
        </tr>
        <tr>
          <td id="L1974" data-line-number="1974"></td>
          <td id="LC1974">
</td>
        </tr>
        <tr>
          <td id="L1975" data-line-number="1975"></td>
          <td id="LC1975">	_findReplaceDlg.<span>putFindResult</span>(nbTotal);</td>
        </tr>
        <tr>
          <td id="L1976" data-line-number="1976"></td>
          <td id="LC1976">
</td>
        </tr>
        <tr>
          <td id="L1977" data-line-number="1977"></td>
          <td id="LC1977">	<span>if</span> (nbTotal != <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L1978" data-line-number="1978"></td>
          <td id="LC1978">	{</td>
        </tr>
        <tr>
          <td id="L1979" data-line-number="1979"></td>
          <td id="LC1979">		NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L1980" data-line-number="1980"></td>
          <td id="LC1980">		NppGUI&amp; nppGui = nppParam.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L1981" data-line-number="1981"></td>
          <td id="LC1981">		<span>if</span> (!nppGui.<span>_findDlgAlwaysVisible</span>)</td>
        </tr>
        <tr>
          <td id="L1982" data-line-number="1982"></td>
          <td id="LC1982">		{</td>
        </tr>
        <tr>
          <td id="L1983" data-line-number="1983"></td>
          <td id="LC1983">			_findReplaceDlg.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L1984" data-line-number="1984"></td>
          <td id="LC1984">		}</td>
        </tr>
        <tr>
          <td id="L1985" data-line-number="1985"></td>
          <td id="LC1985">	}</td>
        </tr>
        <tr>
          <td id="L1986" data-line-number="1986"></td>
          <td id="LC1986">
</td>
        </tr>
        <tr>
          <td id="L1987" data-line-number="1987"></td>
          <td id="LC1987">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L1988" data-line-number="1988"></td>
          <td id="LC1988">}</td>
        </tr>
        <tr>
          <td id="L1989" data-line-number="1989"></td>
          <td id="LC1989">
</td>
        </tr>
        <tr>
          <td id="L1990" data-line-number="1990"></td>
          <td id="LC1990">
</td>
        </tr>
        <tr>
          <td id="L1991" data-line-number="1991"></td>
          <td id="LC1991"><span>bool</span> <span>Notepad_plus::findInCurrentFile</span>(<span>bool</span> isEntireDoc)</td>
        </tr>
        <tr>
          <td id="L1992" data-line-number="1992"></td>
          <td id="LC1992">{</td>
        </tr>
        <tr>
          <td id="L1993" data-line-number="1993"></td>
          <td id="LC1993">	<span>int</span> nbTotal = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L1994" data-line-number="1994"></td>
          <td id="LC1994">	Buffer * pBuf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L1995" data-line-number="1995"></td>
          <td id="LC1995">
</td>
        </tr>
        <tr>
          <td id="L1996" data-line-number="1996"></td>
          <td id="LC1996">	Sci_CharacterRangeFull mainSelection = _pEditView-&gt;<span>getSelection</span>();  <span><span>//</span> remember selection before switching view</span></td>
        </tr>
        <tr>
          <td id="L1997" data-line-number="1997"></td>
          <td id="LC1997">
</td>
        </tr>
        <tr>
          <td id="L1998" data-line-number="1998"></td>
          <td id="LC1998">	ScintillaEditView *pOldView = _pEditView;</td>
        </tr>
        <tr>
          <td id="L1999" data-line-number="1999"></td>
          <td id="LC1999">	_pEditView = &amp;_invisibleEditView;</td>
        </tr>
        <tr>
          <td id="L2000" data-line-number="2000"></td>
          <td id="LC2000">	Document oldDoc = _invisibleEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L2001" data-line-number="2001"></td>
          <td id="LC2001">
</td>
        </tr>
        <tr>
          <td id="L2002" data-line-number="2002"></td>
          <td id="LC2002">	_findReplaceDlg.<span>beginNewFilesSearch</span>();</td>
        </tr>
        <tr>
          <td id="L2003" data-line-number="2003"></td>
          <td id="LC2003">
</td>
        </tr>
        <tr>
          <td id="L2004" data-line-number="2004"></td>
          <td id="LC2004">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, pBuf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L2005" data-line-number="2005"></td>
          <td id="LC2005">
</td>
        </tr>
        <tr>
          <td id="L2006" data-line-number="2006"></td>
          <td id="LC2006">	<span>setCodePageForInvisibleView</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L2007" data-line-number="2007"></td>
          <td id="LC2007">
</td>
        </tr>
        <tr>
          <td id="L2008" data-line-number="2008"></td>
          <td id="LC2008">	<span>if</span> (!isEntireDoc)</td>
        </tr>
        <tr>
          <td id="L2009" data-line-number="2009"></td>
          <td id="LC2009">	{</td>
        </tr>
        <tr>
          <td id="L2010" data-line-number="2010"></td>
          <td id="LC2010">		<span>auto</span> docLength = _invisibleEditView.<span>execute</span>(SCI_GETLENGTH);</td>
        </tr>
        <tr>
          <td id="L2011" data-line-number="2011"></td>
          <td id="LC2011">
</td>
        </tr>
        <tr>
          <td id="L2012" data-line-number="2012"></td>
          <td id="LC2012">		<span>if</span> ((mainSelection.<span>cpMin</span> &gt; <span>0</span>) || (mainSelection.<span>cpMax</span> &lt; docLength))</td>
        </tr>
        <tr>
          <td id="L2013" data-line-number="2013"></td>
          <td id="LC2013">		{</td>
        </tr>
        <tr>
          <td id="L2014" data-line-number="2014"></td>
          <td id="LC2014">			_invisibleEditView.<span>execute</span>(SCI_SETSELECTIONSTART, mainSelection.<span>cpMin</span>);</td>
        </tr>
        <tr>
          <td id="L2015" data-line-number="2015"></td>
          <td id="LC2015">			_invisibleEditView.<span>execute</span>(SCI_SETSELECTIONEND, mainSelection.<span>cpMax</span>);</td>
        </tr>
        <tr>
          <td id="L2016" data-line-number="2016"></td>
          <td id="LC2016">		}</td>
        </tr>
        <tr>
          <td id="L2017" data-line-number="2017"></td>
          <td id="LC2017">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L2018" data-line-number="2018"></td>
          <td id="LC2018">		{</td>
        </tr>
        <tr>
          <td id="L2019" data-line-number="2019"></td>
          <td id="LC2019">			isEntireDoc = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2020" data-line-number="2020"></td>
          <td id="LC2020">		}</td>
        </tr>
        <tr>
          <td id="L2021" data-line-number="2021"></td>
          <td id="LC2021">	}</td>
        </tr>
        <tr>
          <td id="L2022" data-line-number="2022"></td>
          <td id="LC2022">
</td>
        </tr>
        <tr>
          <td id="L2023" data-line-number="2023"></td>
          <td id="LC2023">	FindersInfo findersInfo;</td>
        </tr>
        <tr>
          <td id="L2024" data-line-number="2024"></td>
          <td id="LC2024">	findersInfo.<span>_pFileName</span> = pBuf-&gt;<span>getFullPathName</span>();</td>
        </tr>
        <tr>
          <td id="L2025" data-line-number="2025"></td>
          <td id="LC2025">	nbTotal += _findReplaceDlg.<span>processAll</span>(ProcessFindAll, FindReplaceDlg::_env, isEntireDoc, &amp;findersInfo);</td>
        </tr>
        <tr>
          <td id="L2026" data-line-number="2026"></td>
          <td id="LC2026">
</td>
        </tr>
        <tr>
          <td id="L2027" data-line-number="2027"></td>
          <td id="LC2027">	_findReplaceDlg.<span>finishFilesSearch</span>(nbTotal, <span>1</span>, isEntireDoc);</td>
        </tr>
        <tr>
          <td id="L2028" data-line-number="2028"></td>
          <td id="LC2028">
</td>
        </tr>
        <tr>
          <td id="L2029" data-line-number="2029"></td>
          <td id="LC2029">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, oldDoc);</td>
        </tr>
        <tr>
          <td id="L2030" data-line-number="2030"></td>
          <td id="LC2030">	_pEditView = pOldView;</td>
        </tr>
        <tr>
          <td id="L2031" data-line-number="2031"></td>
          <td id="LC2031">
</td>
        </tr>
        <tr>
          <td id="L2032" data-line-number="2032"></td>
          <td id="LC2032">	_findReplaceDlg.<span>putFindResult</span>(nbTotal);</td>
        </tr>
        <tr>
          <td id="L2033" data-line-number="2033"></td>
          <td id="LC2033">
</td>
        </tr>
        <tr>
          <td id="L2034" data-line-number="2034"></td>
          <td id="LC2034">	<span>if</span> (nbTotal != <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L2035" data-line-number="2035"></td>
          <td id="LC2035">	{</td>
        </tr>
        <tr>
          <td id="L2036" data-line-number="2036"></td>
          <td id="LC2036">		NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L2037" data-line-number="2037"></td>
          <td id="LC2037">		NppGUI&amp; nppGui = nppParam.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L2038" data-line-number="2038"></td>
          <td id="LC2038">		<span>if</span> (!nppGui.<span>_findDlgAlwaysVisible</span>)</td>
        </tr>
        <tr>
          <td id="L2039" data-line-number="2039"></td>
          <td id="LC2039">		{</td>
        </tr>
        <tr>
          <td id="L2040" data-line-number="2040"></td>
          <td id="LC2040">			_findReplaceDlg.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L2041" data-line-number="2041"></td>
          <td id="LC2041">		}</td>
        </tr>
        <tr>
          <td id="L2042" data-line-number="2042"></td>
          <td id="LC2042">	}</td>
        </tr>
        <tr>
          <td id="L2043" data-line-number="2043"></td>
          <td id="LC2043">
</td>
        </tr>
        <tr>
          <td id="L2044" data-line-number="2044"></td>
          <td id="LC2044">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2045" data-line-number="2045"></td>
          <td id="LC2045">}</td>
        </tr>
        <tr>
          <td id="L2046" data-line-number="2046"></td>
          <td id="LC2046">
</td>
        </tr>
        <tr>
          <td id="L2047" data-line-number="2047"></td>
          <td id="LC2047"><span>void</span> <span>Notepad_plus::filePrint</span>(<span>bool</span> showDialog)</td>
        </tr>
        <tr>
          <td id="L2048" data-line-number="2048"></td>
          <td id="LC2048">{</td>
        </tr>
        <tr>
          <td id="L2049" data-line-number="2049"></td>
          <td id="LC2049">	Printer printer;</td>
        </tr>
        <tr>
          <td id="L2050" data-line-number="2050"></td>
          <td id="LC2050">
</td>
        </tr>
        <tr>
          <td id="L2051" data-line-number="2051"></td>
          <td id="LC2051">	<span>intptr_t</span> startPos = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONSTART);</td>
        </tr>
        <tr>
          <td id="L2052" data-line-number="2052"></td>
          <td id="LC2052">	<span>intptr_t</span> endPos = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEND);</td>
        </tr>
        <tr>
          <td id="L2053" data-line-number="2053"></td>
          <td id="LC2053">
</td>
        </tr>
        <tr>
          <td id="L2054" data-line-number="2054"></td>
          <td id="LC2054">	printer.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>(), _pEditView, showDialog, startPos, endPos, _nativeLangSpeaker.<span>isRTL</span>());</td>
        </tr>
        <tr>
          <td id="L2055" data-line-number="2055"></td>
          <td id="LC2055">	printer.<span>doPrint</span>();</td>
        </tr>
        <tr>
          <td id="L2056" data-line-number="2056"></td>
          <td id="LC2056">}</td>
        </tr>
        <tr>
          <td id="L2057" data-line-number="2057"></td>
          <td id="LC2057">
</td>
        </tr>
        <tr>
          <td id="L2058" data-line-number="2058"></td>
          <td id="LC2058"><span>int</span> <span>Notepad_plus::doSaveOrNot</span>(<span>const</span> TCHAR* fn, <span>bool</span> isMulti)</td>
        </tr>
        <tr>
          <td id="L2059" data-line-number="2059"></td>
          <td id="LC2059">{</td>
        </tr>
        <tr>
          <td id="L2060" data-line-number="2060"></td>
          <td id="LC2060">	<span>if</span> ((<span>NppParameters::getInstance</span>()).<span>isEndSessionCritical</span>())</td>
        </tr>
        <tr>
          <td id="L2061" data-line-number="2061"></td>
          <td id="LC2061">		<span>return</span> IDCANCEL; <span><span>//</span> simulate Esc-key or Cancel-button as there should not be any big delay / code-flow block</span></td>
        </tr>
        <tr>
          <td id="L2062" data-line-number="2062"></td>
          <td id="LC2062">
</td>
        </tr>
        <tr>
          <td id="L2063" data-line-number="2063"></td>
          <td id="LC2063">	<span><span>//</span> In case Notepad++ is iconized into notification zone</span></td>
        </tr>
        <tr>
          <td id="L2064" data-line-number="2064"></td>
          <td id="LC2064">	<span>if</span> (!::<span>IsWindowVisible</span>(_pPublicInterface-&gt;<span>getHSelf</span>()))</td>
        </tr>
        <tr>
          <td id="L2065" data-line-number="2065"></td>
          <td id="LC2065">	{</td>
        </tr>
        <tr>
          <td id="L2066" data-line-number="2066"></td>
          <td id="LC2066">		<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L2067" data-line-number="2067"></td>
          <td id="LC2067">
</td>
        </tr>
        <tr>
          <td id="L2068" data-line-number="2068"></td>
          <td id="LC2068">		<span><span>//</span> Send sizing info to make window fit (specially to show tool bar.)</span></td>
        </tr>
        <tr>
          <td id="L2069" data-line-number="2069"></td>
          <td id="LC2069">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L2070" data-line-number="2070"></td>
          <td id="LC2070">	}</td>
        </tr>
        <tr>
          <td id="L2071" data-line-number="2071"></td>
          <td id="LC2071">
</td>
        </tr>
        <tr>
          <td id="L2072" data-line-number="2072"></td>
          <td id="LC2072">	<span>if</span> (!isMulti)</td>
        </tr>
        <tr>
          <td id="L2073" data-line-number="2073"></td>
          <td id="LC2073">	{</td>
        </tr>
        <tr>
          <td id="L2074" data-line-number="2074"></td>
          <td id="LC2074">		generic_string title, msg;</td>
        </tr>
        <tr>
          <td id="L2075" data-line-number="2075"></td>
          <td id="LC2075">
</td>
        </tr>
        <tr>
          <td id="L2076" data-line-number="2076"></td>
          <td id="LC2076">		<span>if</span> (!_nativeLangSpeaker.<span>getDoSaveOrNotStrings</span>(title, msg))</td>
        </tr>
        <tr>
          <td id="L2077" data-line-number="2077"></td>
          <td id="LC2077">		{</td>
        </tr>
        <tr>
          <td id="L2078" data-line-number="2078"></td>
          <td id="LC2078">			title = <span>TEXT</span>(<span><span>&#34;</span>Save<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2079" data-line-number="2079"></td>
          <td id="LC2079">			msg = <span>TEXT</span>(<span><span>&#34;</span>Save file <span>\&#34;</span>$STR_REPLACE$<span>\&#34;</span> ?<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2080" data-line-number="2080"></td>
          <td id="LC2080">		}</td>
        </tr>
        <tr>
          <td id="L2081" data-line-number="2081"></td>
          <td id="LC2081">
</td>
        </tr>
        <tr>
          <td id="L2082" data-line-number="2082"></td>
          <td id="LC2082">		msg = <span>stringReplace</span>(msg, <span>TEXT</span>(<span><span>&#34;</span>$STR_REPLACE$<span>&#34;</span></span>), fn);</td>
        </tr>
        <tr>
          <td id="L2083" data-line-number="2083"></td>
          <td id="LC2083">
</td>
        </tr>
        <tr>
          <td id="L2084" data-line-number="2084"></td>
          <td id="LC2084">		<span>return</span> ::<span>MessageBox</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), msg.<span>c_str</span>(), title.<span>c_str</span>(), MB_YESNOCANCEL | MB_ICONQUESTION | MB_APPLMODAL);</td>
        </tr>
        <tr>
          <td id="L2085" data-line-number="2085"></td>
          <td id="LC2085">	}</td>
        </tr>
        <tr>
          <td id="L2086" data-line-number="2086"></td>
          <td id="LC2086">
</td>
        </tr>
        <tr>
          <td id="L2087" data-line-number="2087"></td>
          <td id="LC2087">	DoSaveOrNotBox doSaveOrNotBox;</td>
        </tr>
        <tr>
          <td id="L2088" data-line-number="2088"></td>
          <td id="LC2088">	doSaveOrNotBox.init(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;getHSelf(), fn, isMulti);</td>
        </tr>
        <tr>
          <td id="L2089" data-line-number="2089"></td>
          <td id="LC2089">	doSaveOrNotBox.doDialog(_nativeLangSpeaker.isRTL());</td>
        </tr>
        <tr>
          <td id="L2090" data-line-number="2090"></td>
          <td id="LC2090">	<span>int</span> buttonID = doSaveOrNotBox.<span>getClickedButtonId</span>();</td>
        </tr>
        <tr>
          <td id="L2091" data-line-number="2091"></td>
          <td id="LC2091">	doSaveOrNotBox.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L2092" data-line-number="2092"></td>
          <td id="LC2092">
</td>
        </tr>
        <tr>
          <td id="L2093" data-line-number="2093"></td>
          <td id="LC2093">	<span>return</span> buttonID;</td>
        </tr>
        <tr>
          <td id="L2094" data-line-number="2094"></td>
          <td id="LC2094">}</td>
        </tr>
        <tr>
          <td id="L2095" data-line-number="2095"></td>
          <td id="LC2095">
</td>
        </tr>
        <tr>
          <td id="L2096" data-line-number="2096"></td>
          <td id="LC2096"><span>int</span> <span>Notepad_plus::doSaveAll</span>()</td>
        </tr>
        <tr>
          <td id="L2097" data-line-number="2097"></td>
          <td id="LC2097">{</td>
        </tr>
        <tr>
          <td id="L2098" data-line-number="2098"></td>
          <td id="LC2098">	<span><span>//</span> In case Notepad++ is iconized into notification zone</span></td>
        </tr>
        <tr>
          <td id="L2099" data-line-number="2099"></td>
          <td id="LC2099">	<span>if</span> (!::<span>IsWindowVisible</span>(_pPublicInterface-&gt;<span>getHSelf</span>()))</td>
        </tr>
        <tr>
          <td id="L2100" data-line-number="2100"></td>
          <td id="LC2100">	{</td>
        </tr>
        <tr>
          <td id="L2101" data-line-number="2101"></td>
          <td id="LC2101">		<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L2102" data-line-number="2102"></td>
          <td id="LC2102">
</td>
        </tr>
        <tr>
          <td id="L2103" data-line-number="2103"></td>
          <td id="LC2103">		<span><span>//</span> Send sizing info to make window fit (specially to show tool bar.)</span></td>
        </tr>
        <tr>
          <td id="L2104" data-line-number="2104"></td>
          <td id="LC2104">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L2105" data-line-number="2105"></td>
          <td id="LC2105">	}</td>
        </tr>
        <tr>
          <td id="L2106" data-line-number="2106"></td>
          <td id="LC2106">
</td>
        </tr>
        <tr>
          <td id="L2107" data-line-number="2107"></td>
          <td id="LC2107">	DoSaveAllBox doSaveAllBox;</td>
        </tr>
        <tr>
          <td id="L2108" data-line-number="2108"></td>
          <td id="LC2108">	doSaveAllBox.init(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;getHSelf());</td>
        </tr>
        <tr>
          <td id="L2109" data-line-number="2109"></td>
          <td id="LC2109">	doSaveAllBox.doDialog(_nativeLangSpeaker.isRTL());</td>
        </tr>
        <tr>
          <td id="L2110" data-line-number="2110"></td>
          <td id="LC2110">	<span>int</span> buttonID = doSaveAllBox.getClickedButtonId();</td>
        </tr>
        <tr>
          <td id="L2111" data-line-number="2111"></td>
          <td id="LC2111">	doSaveAllBox.<span>destroy</span>();</td>
        </tr>
        <tr>
          <td id="L2112" data-line-number="2112"></td>
          <td id="LC2112">
</td>
        </tr>
        <tr>
          <td id="L2113" data-line-number="2113"></td>
          <td id="LC2113">	<span>return</span> buttonID;</td>
        </tr>
        <tr>
          <td id="L2114" data-line-number="2114"></td>
          <td id="LC2114">}</td>
        </tr>
        <tr>
          <td id="L2115" data-line-number="2115"></td>
          <td id="LC2115">
</td>
        </tr>
        <tr>
          <td id="L2116" data-line-number="2116"></td>
          <td id="LC2116"><span>int</span> <span>Notepad_plus::doReloadOrNot</span>(<span>const</span> TCHAR *fn, <span>bool</span> dirty)</td>
        </tr>
        <tr>
          <td id="L2117" data-line-number="2117"></td>
          <td id="LC2117">{</td>
        </tr>
        <tr>
          <td id="L2118" data-line-number="2118"></td>
          <td id="LC2118">	<span>if</span> (dirty)</td>
        </tr>
        <tr>
          <td id="L2119" data-line-number="2119"></td>
          <td id="LC2119">		<span>return</span> _nativeLangSpeaker.<span>messageBox</span>(<span><span>&#34;</span>DoReloadOrNotAndLooseChange<span>&#34;</span></span>,</td>
        </tr>
        <tr>
          <td id="L2120" data-line-number="2120"></td>
          <td id="LC2120">			_pPublicInterface-&gt;<span>getHSelf</span>(),</td>
        </tr>
        <tr>
          <td id="L2121" data-line-number="2121"></td>
          <td id="LC2121">			<span>TEXT</span>(<span><span>&#34;</span><span>\&#34;</span>$STR_REPLACE$<span>\&#34;\r\r</span>This file has been modified by another program.<span>\r</span>Do you want to reload it and lose the changes made in Notepad++?<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2122" data-line-number="2122"></td>
          <td id="LC2122">			<span>TEXT</span>(<span><span>&#34;</span>Reload<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2123" data-line-number="2123"></td>
          <td id="LC2123">			MB_YESNO | MB_APPLMODAL | MB_ICONEXCLAMATION,</td>
        </tr>
        <tr>
          <td id="L2124" data-line-number="2124"></td>
          <td id="LC2124">			<span>0</span>, <span><span>//</span> not used</span></td>
        </tr>
        <tr>
          <td id="L2125" data-line-number="2125"></td>
          <td id="LC2125">			fn);</td>
        </tr>
        <tr>
          <td id="L2126" data-line-number="2126"></td>
          <td id="LC2126">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L2127" data-line-number="2127"></td>
          <td id="LC2127">		<span>return</span> _nativeLangSpeaker.<span>messageBox</span>(<span><span>&#34;</span>DoReloadOrNot<span>&#34;</span></span>,</td>
        </tr>
        <tr>
          <td id="L2128" data-line-number="2128"></td>
          <td id="LC2128">			_pPublicInterface-&gt;<span>getHSelf</span>(),</td>
        </tr>
        <tr>
          <td id="L2129" data-line-number="2129"></td>
          <td id="LC2129">			<span>TEXT</span>(<span><span>&#34;</span><span>\&#34;</span>$STR_REPLACE$<span>\&#34;\r\r</span>This file has been modified by another program.<span>\r</span>Do you want to reload it?<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2130" data-line-number="2130"></td>
          <td id="LC2130">			<span>TEXT</span>(<span><span>&#34;</span>Reload<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2131" data-line-number="2131"></td>
          <td id="LC2131">			MB_YESNO | MB_APPLMODAL | MB_ICONQUESTION,</td>
        </tr>
        <tr>
          <td id="L2132" data-line-number="2132"></td>
          <td id="LC2132">			<span>0</span>, <span><span>//</span> not used</span></td>
        </tr>
        <tr>
          <td id="L2133" data-line-number="2133"></td>
          <td id="LC2133">			fn);</td>
        </tr>
        <tr>
          <td id="L2134" data-line-number="2134"></td>
          <td id="LC2134">}</td>
        </tr>
        <tr>
          <td id="L2135" data-line-number="2135"></td>
          <td id="LC2135">
</td>
        </tr>
        <tr>
          <td id="L2136" data-line-number="2136"></td>
          <td id="LC2136"><span>int</span> <span>Notepad_plus::doCloseOrNot</span>(<span>const</span> TCHAR *fn)</td>
        </tr>
        <tr>
          <td id="L2137" data-line-number="2137"></td>
          <td id="LC2137">{</td>
        </tr>
        <tr>
          <td id="L2138" data-line-number="2138"></td>
          <td id="LC2138">	<span>return</span> _nativeLangSpeaker.<span>messageBox</span>(<span><span>&#34;</span>DoCloseOrNot<span>&#34;</span></span>,</td>
        </tr>
        <tr>
          <td id="L2139" data-line-number="2139"></td>
          <td id="LC2139">		_pPublicInterface-&gt;<span>getHSelf</span>(),</td>
        </tr>
        <tr>
          <td id="L2140" data-line-number="2140"></td>
          <td id="LC2140">		<span>TEXT</span>(<span><span>&#34;</span>The file <span>\&#34;</span>$STR_REPLACE$<span>\&#34;</span> doesn&#39;t exist anymore.<span>\r</span>Keep this file in editor?<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2141" data-line-number="2141"></td>
          <td id="LC2141">		<span>TEXT</span>(<span><span>&#34;</span>Keep non existing file<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2142" data-line-number="2142"></td>
          <td id="LC2142">		MB_YESNO | MB_ICONQUESTION | MB_APPLMODAL,</td>
        </tr>
        <tr>
          <td id="L2143" data-line-number="2143"></td>
          <td id="LC2143">		<span>0</span>, <span><span>//</span> not used</span></td>
        </tr>
        <tr>
          <td id="L2144" data-line-number="2144"></td>
          <td id="LC2144">		fn);</td>
        </tr>
        <tr>
          <td id="L2145" data-line-number="2145"></td>
          <td id="LC2145">}</td>
        </tr>
        <tr>
          <td id="L2146" data-line-number="2146"></td>
          <td id="LC2146">
</td>
        </tr>
        <tr>
          <td id="L2147" data-line-number="2147"></td>
          <td id="LC2147"><span>int</span> <span>Notepad_plus::doDeleteOrNot</span>(<span>const</span> TCHAR *fn)</td>
        </tr>
        <tr>
          <td id="L2148" data-line-number="2148"></td>
          <td id="LC2148">{</td>
        </tr>
        <tr>
          <td id="L2149" data-line-number="2149"></td>
          <td id="LC2149">	<span>return</span> _nativeLangSpeaker.<span>messageBox</span>(<span><span>&#34;</span>DoDeleteOrNot<span>&#34;</span></span>,</td>
        </tr>
        <tr>
          <td id="L2150" data-line-number="2150"></td>
          <td id="LC2150">		_pPublicInterface-&gt;<span>getHSelf</span>(),</td>
        </tr>
        <tr>
          <td id="L2151" data-line-number="2151"></td>
          <td id="LC2151">		<span>TEXT</span>(<span><span>&#34;</span>The file <span>\&#34;</span>$STR_REPLACE$<span>\&#34;\r</span>will be moved to your Recycle Bin and this document will be closed.<span>\r</span>Continue?<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2152" data-line-number="2152"></td>
          <td id="LC2152">		<span>TEXT</span>(<span><span>&#34;</span>Delete file<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L2153" data-line-number="2153"></td>
          <td id="LC2153">		MB_OKCANCEL | MB_ICONQUESTION | MB_APPLMODAL,</td>
        </tr>
        <tr>
          <td id="L2154" data-line-number="2154"></td>
          <td id="LC2154">		<span>0</span>, <span><span>//</span> not used</span></td>
        </tr>
        <tr>
          <td id="L2155" data-line-number="2155"></td>
          <td id="LC2155">		fn);</td>
        </tr>
        <tr>
          <td id="L2156" data-line-number="2156"></td>
          <td id="LC2156">}</td>
        </tr>
        <tr>
          <td id="L2157" data-line-number="2157"></td>
          <td id="LC2157">
</td>
        </tr>
        <tr>
          <td id="L2158" data-line-number="2158"></td>
          <td id="LC2158"><span>void</span> <span>Notepad_plus::enableMenu</span>(<span>int</span> cmdID, <span>bool</span> doEnable) <span>const</span></td>
        </tr>
        <tr>
          <td id="L2159" data-line-number="2159"></td>
          <td id="LC2159">{</td>
        </tr>
        <tr>
          <td id="L2160" data-line-number="2160"></td>
          <td id="LC2160">	<span>int</span> flag = doEnable?MF_ENABLED | MF_BYCOMMAND:MF_DISABLED | MF_GRAYED | MF_BYCOMMAND;</td>
        </tr>
        <tr>
          <td id="L2161" data-line-number="2161"></td>
          <td id="LC2161">	<span>::EnableMenuItem</span>(_mainMenuHandle, cmdID, flag);</td>
        </tr>
        <tr>
          <td id="L2162" data-line-number="2162"></td>
          <td id="LC2162">}</td>
        </tr>
        <tr>
          <td id="L2163" data-line-number="2163"></td>
          <td id="LC2163">
</td>
        </tr>
        <tr>
          <td id="L2164" data-line-number="2164"></td>
          <td id="LC2164"><span>void</span> <span>Notepad_plus::enableCommand</span>(<span>int</span> cmdID, <span>bool</span> doEnable, <span>int</span> which) <span>const</span></td>
        </tr>
        <tr>
          <td id="L2165" data-line-number="2165"></td>
          <td id="LC2165">{</td>
        </tr>
        <tr>
          <td id="L2166" data-line-number="2166"></td>
          <td id="LC2166">	<span>if</span> (which &amp; MENU)</td>
        </tr>
        <tr>
          <td id="L2167" data-line-number="2167"></td>
          <td id="LC2167">	{</td>
        </tr>
        <tr>
          <td id="L2168" data-line-number="2168"></td>
          <td id="LC2168">		<span>enableMenu</span>(cmdID, doEnable);</td>
        </tr>
        <tr>
          <td id="L2169" data-line-number="2169"></td>
          <td id="LC2169">	}</td>
        </tr>
        <tr>
          <td id="L2170" data-line-number="2170"></td>
          <td id="LC2170">	<span>if</span> (which &amp; TOOLBAR)</td>
        </tr>
        <tr>
          <td id="L2171" data-line-number="2171"></td>
          <td id="LC2171">	{</td>
        </tr>
        <tr>
          <td id="L2172" data-line-number="2172"></td>
          <td id="LC2172">		_toolBar.<span>enable</span>(cmdID, doEnable);</td>
        </tr>
        <tr>
          <td id="L2173" data-line-number="2173"></td>
          <td id="LC2173">	}</td>
        </tr>
        <tr>
          <td id="L2174" data-line-number="2174"></td>
          <td id="LC2174">}</td>
        </tr>
        <tr>
          <td id="L2175" data-line-number="2175"></td>
          <td id="LC2175">
</td>
        </tr>
        <tr>
          <td id="L2176" data-line-number="2176"></td>
          <td id="LC2176"><span>void</span> <span>Notepad_plus::checkClipboard</span>()</td>
        </tr>
        <tr>
          <td id="L2177" data-line-number="2177"></td>
          <td id="LC2177">{</td>
        </tr>
        <tr>
          <td id="L2178" data-line-number="2178"></td>
          <td id="LC2178">	<span>bool</span> hasSelection = (_pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONSTART) != _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEND));</td>
        </tr>
        <tr>
          <td id="L2179" data-line-number="2179"></td>
          <td id="LC2179">	<span>bool</span> canPaste = (_pEditView-&gt;<span>execute</span>(SCI_CANPASTE) != <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L2180" data-line-number="2180"></td>
          <td id="LC2180">	<span>enableCommand</span>(IDM_EDIT_CUT, hasSelection, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2181" data-line-number="2181"></td>
          <td id="LC2181">	<span>enableCommand</span>(IDM_EDIT_COPY, hasSelection, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2182" data-line-number="2182"></td>
          <td id="LC2182">
</td>
        </tr>
        <tr>
          <td id="L2183" data-line-number="2183"></td>
          <td id="LC2183">	<span>enableCommand</span>(IDM_EDIT_PASTE, canPaste, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2184" data-line-number="2184"></td>
          <td id="LC2184">	<span>enableCommand</span>(IDM_EDIT_DELETE, hasSelection, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2185" data-line-number="2185"></td>
          <td id="LC2185">	<span>enableCommand</span>(IDM_EDIT_UPPERCASE, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2186" data-line-number="2186"></td>
          <td id="LC2186">	<span>enableCommand</span>(IDM_EDIT_LOWERCASE, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2187" data-line-number="2187"></td>
          <td id="LC2187">	<span>enableCommand</span>(IDM_EDIT_PROPERCASE_FORCE, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2188" data-line-number="2188"></td>
          <td id="LC2188">	<span>enableCommand</span>(IDM_EDIT_PROPERCASE_BLEND, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2189" data-line-number="2189"></td>
          <td id="LC2189">	<span>enableCommand</span>(IDM_EDIT_SENTENCECASE_FORCE, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2190" data-line-number="2190"></td>
          <td id="LC2190">	<span>enableCommand</span>(IDM_EDIT_SENTENCECASE_BLEND, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2191" data-line-number="2191"></td>
          <td id="LC2191">	<span>enableCommand</span>(IDM_EDIT_INVERTCASE, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2192" data-line-number="2192"></td>
          <td id="LC2192">	<span>enableCommand</span>(IDM_EDIT_RANDOMCASE, hasSelection, MENU);</td>
        </tr>
        <tr>
          <td id="L2193" data-line-number="2193"></td>
          <td id="LC2193">}</td>
        </tr>
        <tr>
          <td id="L2194" data-line-number="2194"></td>
          <td id="LC2194">
</td>
        </tr>
        <tr>
          <td id="L2195" data-line-number="2195"></td>
          <td id="LC2195"><span>void</span> <span>Notepad_plus::checkDocState</span>()</td>
        </tr>
        <tr>
          <td id="L2196" data-line-number="2196"></td>
          <td id="LC2196">{</td>
        </tr>
        <tr>
          <td id="L2197" data-line-number="2197"></td>
          <td id="LC2197">	Buffer * curBuf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L2198" data-line-number="2198"></td>
          <td id="LC2198">
</td>
        </tr>
        <tr>
          <td id="L2199" data-line-number="2199"></td>
          <td id="LC2199">	<span>bool</span> isCurrentDirty = curBuf-&gt;<span>isDirty</span>();</td>
        </tr>
        <tr>
          <td id="L2200" data-line-number="2200"></td>
          <td id="LC2200">	<span>bool</span> isSeveralDirty = isCurrentDirty;</td>
        </tr>
        <tr>
          <td id="L2201" data-line-number="2201"></td>
          <td id="LC2201">	<span>bool</span> isFileExisting = <span>PathFileExists</span>(curBuf-&gt;<span>getFullPathName</span>()) != <span>FALSE</span>;</td>
        </tr>
        <tr>
          <td id="L2202" data-line-number="2202"></td>
          <td id="LC2202">	<span>if</span> (!isCurrentDirty)</td>
        </tr>
        <tr>
          <td id="L2203" data-line-number="2203"></td>
          <td id="LC2203">	{</td>
        </tr>
        <tr>
          <td id="L2204" data-line-number="2204"></td>
          <td id="LC2204">		<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; MainFileManager.<span>getNbBuffers</span>(); ++i)</td>
        </tr>
        <tr>
          <td id="L2205" data-line-number="2205"></td>
          <td id="LC2205">		{</td>
        </tr>
        <tr>
          <td id="L2206" data-line-number="2206"></td>
          <td id="LC2206">			<span>if</span> (MainFileManager.<span>getBufferByIndex</span>(i)-&gt;<span>isDirty</span>())</td>
        </tr>
        <tr>
          <td id="L2207" data-line-number="2207"></td>
          <td id="LC2207">			{</td>
        </tr>
        <tr>
          <td id="L2208" data-line-number="2208"></td>
          <td id="LC2208">				isSeveralDirty = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2209" data-line-number="2209"></td>
          <td id="LC2209">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2210" data-line-number="2210"></td>
          <td id="LC2210">			}</td>
        </tr>
        <tr>
          <td id="L2211" data-line-number="2211"></td>
          <td id="LC2211">		}</td>
        </tr>
        <tr>
          <td id="L2212" data-line-number="2212"></td>
          <td id="LC2212">	}</td>
        </tr>
        <tr>
          <td id="L2213" data-line-number="2213"></td>
          <td id="LC2213">
</td>
        </tr>
        <tr>
          <td id="L2214" data-line-number="2214"></td>
          <td id="LC2214">	<span>bool</span> isCurrentUntitled = curBuf-&gt;<span>isUntitled</span>();</td>
        </tr>
        <tr>
          <td id="L2215" data-line-number="2215"></td>
          <td id="LC2215">	<span>enableCommand</span>(IDM_FILE_SAVE, isCurrentDirty, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2216" data-line-number="2216"></td>
          <td id="LC2216">	<span>enableCommand</span>(IDM_FILE_SAVEALL, isSeveralDirty, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2217" data-line-number="2217"></td>
          <td id="LC2217">	<span>enableCommand</span>(IDM_VIEW_GOTO_NEW_INSTANCE, !(isCurrentDirty || isCurrentUntitled), MENU);</td>
        </tr>
        <tr>
          <td id="L2218" data-line-number="2218"></td>
          <td id="LC2218">	<span>enableCommand</span>(IDM_VIEW_LOAD_IN_NEW_INSTANCE, !(isCurrentDirty || isCurrentUntitled), MENU);</td>
        </tr>
        <tr>
          <td id="L2219" data-line-number="2219"></td>
          <td id="LC2219">
</td>
        </tr>
        <tr>
          <td id="L2220" data-line-number="2220"></td>
          <td id="LC2220">	<span>bool</span> isSysReadOnly = curBuf-&gt;<span>getFileReadOnly</span>();</td>
        </tr>
        <tr>
          <td id="L2221" data-line-number="2221"></td>
          <td id="LC2221">	<span>enableCommand</span>(IDM_EDIT_CLEARREADONLY, isSysReadOnly, MENU);</td>
        </tr>
        <tr>
          <td id="L2222" data-line-number="2222"></td>
          <td id="LC2222">
</td>
        </tr>
        <tr>
          <td id="L2223" data-line-number="2223"></td>
          <td id="LC2223">	<span>bool</span> doEnable = !(curBuf-&gt;<span>isMonitoringOn</span>() || isSysReadOnly);</td>
        </tr>
        <tr>
          <td id="L2224" data-line-number="2224"></td>
          <td id="LC2224">	<span>enableCommand</span>(IDM_EDIT_SETREADONLY, doEnable, MENU);</td>
        </tr>
        <tr>
          <td id="L2225" data-line-number="2225"></td>
          <td id="LC2225">
</td>
        </tr>
        <tr>
          <td id="L2226" data-line-number="2226"></td>
          <td id="LC2226">	<span>bool</span> isUserReadOnly = curBuf-&gt;<span>getUserReadOnly</span>();</td>
        </tr>
        <tr>
          <td id="L2227" data-line-number="2227"></td>
          <td id="LC2227">	<span>::CheckMenuItem</span>(_mainMenuHandle, IDM_EDIT_SETREADONLY, MF_BYCOMMAND | (isUserReadOnly ? MF_CHECKED : MF_UNCHECKED));</td>
        </tr>
        <tr>
          <td id="L2228" data-line-number="2228"></td>
          <td id="LC2228">
</td>
        </tr>
        <tr>
          <td id="L2229" data-line-number="2229"></td>
          <td id="LC2229">	<span>enableCommand</span>(IDM_FILE_DELETE, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2230" data-line-number="2230"></td>
          <td id="LC2230">	<span><span>//</span>enableCommand(IDM_FILE_RENAME, isFileExisting, MENU);</span></td>
        </tr>
        <tr>
          <td id="L2231" data-line-number="2231"></td>
          <td id="LC2231">	<span>enableCommand</span>(IDM_FILE_OPEN_CMD, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2232" data-line-number="2232"></td>
          <td id="LC2232">	<span>enableCommand</span>(IDM_FILE_OPEN_FOLDER, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2233" data-line-number="2233"></td>
          <td id="LC2233">	<span>enableCommand</span>(IDM_FILE_RELOAD, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2234" data-line-number="2234"></td>
          <td id="LC2234">
</td>
        </tr>
        <tr>
          <td id="L2235" data-line-number="2235"></td>
          <td id="LC2235">	<span>enableCommand</span>(IDM_FILE_OPEN_DEFAULT_VIEWER, <span>isAssoCommandExisting</span>(curBuf-&gt;<span>getFullPathName</span>()), MENU);</td>
        </tr>
        <tr>
          <td id="L2236" data-line-number="2236"></td>
          <td id="LC2236">
</td>
        </tr>
        <tr>
          <td id="L2237" data-line-number="2237"></td>
          <td id="LC2237">	<span>enableCommand</span>(IDM_VIEW_IN_FIREFOX, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2238" data-line-number="2238"></td>
          <td id="LC2238">	<span>enableCommand</span>(IDM_VIEW_IN_CHROME, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2239" data-line-number="2239"></td>
          <td id="LC2239">	<span>enableCommand</span>(IDM_VIEW_IN_IE, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2240" data-line-number="2240"></td>
          <td id="LC2240">	<span>enableCommand</span>(IDM_VIEW_IN_EDGE, isFileExisting, MENU);</td>
        </tr>
        <tr>
          <td id="L2241" data-line-number="2241"></td>
          <td id="LC2241">
</td>
        </tr>
        <tr>
          <td id="L2242" data-line-number="2242"></td>
          <td id="LC2242">	<span>enableConvertMenuItems</span>(curBuf-&gt;<span>getEolFormat</span>());</td>
        </tr>
        <tr>
          <td id="L2243" data-line-number="2243"></td>
          <td id="LC2243">	<span>checkUnicodeMenuItems</span>();</td>
        </tr>
        <tr>
          <td id="L2244" data-line-number="2244"></td>
          <td id="LC2244">	<span>checkLangsMenu</span>(-<span>1</span>);</td>
        </tr>
        <tr>
          <td id="L2245" data-line-number="2245"></td>
          <td id="LC2245">
</td>
        </tr>
        <tr>
          <td id="L2246" data-line-number="2246"></td>
          <td id="LC2246">	<span>if</span> (_pAnsiCharPanel)</td>
        </tr>
        <tr>
          <td id="L2247" data-line-number="2247"></td>
          <td id="LC2247">		_pAnsiCharPanel-&gt;<span>switchEncoding</span>();</td>
        </tr>
        <tr>
          <td id="L2248" data-line-number="2248"></td>
          <td id="LC2248">
</td>
        </tr>
        <tr>
          <td id="L2249" data-line-number="2249"></td>
          <td id="LC2249">	<span>enableCommand</span>(IDM_VIEW_MONITORING, !curBuf-&gt;<span>isUntitled</span>(), MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2250" data-line-number="2250"></td>
          <td id="LC2250">	<span>checkMenuItem</span>(IDM_VIEW_MONITORING, curBuf-&gt;<span>isMonitoringOn</span>());</td>
        </tr>
        <tr>
          <td id="L2251" data-line-number="2251"></td>
          <td id="LC2251">	_toolBar.<span>setCheck</span>(IDM_VIEW_MONITORING, curBuf-&gt;<span>isMonitoringOn</span>());</td>
        </tr>
        <tr>
          <td id="L2252" data-line-number="2252"></td>
          <td id="LC2252">}</td>
        </tr>
        <tr>
          <td id="L2253" data-line-number="2253"></td>
          <td id="LC2253">
</td>
        </tr>
        <tr>
          <td id="L2254" data-line-number="2254"></td>
          <td id="LC2254"><span>void</span> <span>Notepad_plus::checkUndoState</span>()</td>
        </tr>
        <tr>
          <td id="L2255" data-line-number="2255"></td>
          <td id="LC2255">{</td>
        </tr>
        <tr>
          <td id="L2256" data-line-number="2256"></td>
          <td id="LC2256">	<span>enableCommand</span>(IDM_EDIT_UNDO, _pEditView-&gt;<span>execute</span>(SCI_CANUNDO) != <span>0</span>, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2257" data-line-number="2257"></td>
          <td id="LC2257">	<span>enableCommand</span>(IDM_EDIT_REDO, _pEditView-&gt;<span>execute</span>(SCI_CANREDO) != <span>0</span>, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2258" data-line-number="2258"></td>
          <td id="LC2258">}</td>
        </tr>
        <tr>
          <td id="L2259" data-line-number="2259"></td>
          <td id="LC2259">
</td>
        </tr>
        <tr>
          <td id="L2260" data-line-number="2260"></td>
          <td id="LC2260"><span>void</span> <span>Notepad_plus::checkMacroState</span>()</td>
        </tr>
        <tr>
          <td id="L2261" data-line-number="2261"></td>
          <td id="LC2261">{</td>
        </tr>
        <tr>
          <td id="L2262" data-line-number="2262"></td>
          <td id="LC2262">	<span>enableCommand</span>(IDM_MACRO_STARTRECORDINGMACRO, !_recordingMacro, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2263" data-line-number="2263"></td>
          <td id="LC2263">	<span>enableCommand</span>(IDM_MACRO_STOPRECORDINGMACRO, _recordingMacro, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2264" data-line-number="2264"></td>
          <td id="LC2264">	<span>enableCommand</span>(IDM_MACRO_PLAYBACKRECORDEDMACRO, !_macro.<span>empty</span>() &amp;&amp; !_recordingMacro, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2265" data-line-number="2265"></td>
          <td id="LC2265">	<span>enableCommand</span>(IDM_MACRO_SAVECURRENTMACRO, !_macro.<span>empty</span>() &amp;&amp; !_recordingMacro &amp;&amp; !_recordingSaved, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2266" data-line-number="2266"></td>
          <td id="LC2266">
</td>
        </tr>
        <tr>
          <td id="L2267" data-line-number="2267"></td>
          <td id="LC2267">	<span>enableCommand</span>(IDM_MACRO_RUNMULTIMACRODLG, (!_macro.<span>empty</span>() &amp;&amp; !_recordingMacro) || !((<span>NppParameters::getInstance</span>()).<span>getMacroList</span>()).<span>empty</span>(), MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2268" data-line-number="2268"></td>
          <td id="LC2268">}</td>
        </tr>
        <tr>
          <td id="L2269" data-line-number="2269"></td>
          <td id="LC2269">
</td>
        </tr>
        <tr>
          <td id="L2270" data-line-number="2270"></td>
          <td id="LC2270"><span>void</span> <span>Notepad_plus::checkSyncState</span>()</td>
        </tr>
        <tr>
          <td id="L2271" data-line-number="2271"></td>
          <td id="LC2271">{</td>
        </tr>
        <tr>
          <td id="L2272" data-line-number="2272"></td>
          <td id="LC2272">	<span>bool</span> canDoSync = <span>viewVisible</span>(MAIN_VIEW) &amp;&amp; <span>viewVisible</span>(SUB_VIEW);</td>
        </tr>
        <tr>
          <td id="L2273" data-line-number="2273"></td>
          <td id="LC2273">	<span>if</span> (!canDoSync)</td>
        </tr>
        <tr>
          <td id="L2274" data-line-number="2274"></td>
          <td id="LC2274">	{</td>
        </tr>
        <tr>
          <td id="L2275" data-line-number="2275"></td>
          <td id="LC2275">		_syncInfo.<span>_isSynScollV</span> = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2276" data-line-number="2276"></td>
          <td id="LC2276">		_syncInfo.<span>_isSynScollH</span> = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2277" data-line-number="2277"></td>
          <td id="LC2277">		<span>checkMenuItem</span>(IDM_VIEW_SYNSCROLLV, <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L2278" data-line-number="2278"></td>
          <td id="LC2278">		<span>checkMenuItem</span>(IDM_VIEW_SYNSCROLLH, <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L2279" data-line-number="2279"></td>
          <td id="LC2279">		_toolBar.<span>setCheck</span>(IDM_VIEW_SYNSCROLLV, <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L2280" data-line-number="2280"></td>
          <td id="LC2280">		_toolBar.<span>setCheck</span>(IDM_VIEW_SYNSCROLLH, <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L2281" data-line-number="2281"></td>
          <td id="LC2281">	}</td>
        </tr>
        <tr>
          <td id="L2282" data-line-number="2282"></td>
          <td id="LC2282">	<span>enableCommand</span>(IDM_VIEW_SYNSCROLLV, canDoSync, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2283" data-line-number="2283"></td>
          <td id="LC2283">	<span>enableCommand</span>(IDM_VIEW_SYNSCROLLH, canDoSync, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2284" data-line-number="2284"></td>
          <td id="LC2284">}</td>
        </tr>
        <tr>
          <td id="L2285" data-line-number="2285"></td>
          <td id="LC2285">
</td>
        </tr>
        <tr>
          <td id="L2286" data-line-number="2286"></td>
          <td id="LC2286"><span>void</span> <span>Notepad_plus::setupColorSampleBitmapsOnMainMenuItems</span>()</td>
        </tr>
        <tr>
          <td id="L2287" data-line-number="2287"></td>
          <td id="LC2287">{</td>
        </tr>
        <tr>
          <td id="L2288" data-line-number="2288"></td>
          <td id="LC2288">	<span><span>//</span> set up bitmaps on menu items</span></td>
        </tr>
        <tr>
          <td id="L2289" data-line-number="2289"></td>
          <td id="LC2289">	<span><span>//</span> style-related bitmaps of color samples</span></td>
        </tr>
        <tr>
          <td id="L2290" data-line-number="2290"></td>
          <td id="LC2290">
</td>
        </tr>
        <tr>
          <td id="L2291" data-line-number="2291"></td>
          <td id="LC2291">	<span>struct</span></td>
        </tr>
        <tr>
          <td id="L2292" data-line-number="2292"></td>
          <td id="LC2292">	{</td>
        </tr>
        <tr>
          <td id="L2293" data-line-number="2293"></td>
          <td id="LC2293">		<span>int</span> firstOfThisColorMenuId;</td>
        </tr>
        <tr>
          <td id="L2294" data-line-number="2294"></td>
          <td id="LC2294">		<span>int</span> styleIndic;</td>
        </tr>
        <tr>
          <td id="L2295" data-line-number="2295"></td>
          <td id="LC2295">		std::vector&lt;<span>int</span>&gt; sameColorMenuIds;</td>
        </tr>
        <tr>
          <td id="L2296" data-line-number="2296"></td>
          <td id="LC2296">	}<span></span></td>
        </tr>
        <tr>
          <td id="L2297" data-line-number="2297"></td>
          <td id="LC2297">	bitmapOnStyleMenuItemsInfo[] =</td>
        </tr>
        <tr>
          <td id="L2298" data-line-number="2298"></td>
          <td id="LC2298">	{</td>
        </tr>
        <tr>
          <td id="L2299" data-line-number="2299"></td>
          <td id="LC2299">		{ IDM_SEARCH_GONEXTMARKER5, SCE_UNIVERSAL_FOUND_STYLE_EXT5, { IDM_SEARCH_MARKALLEXT5, IDM_SEARCH_MARKONEEXT5, IDM_SEARCH_UNMARKALLEXT5, IDM_SEARCH_GOPREVMARKER5, IDM_SEARCH_STYLE5TOCLIP } },</td>
        </tr>
        <tr>
          <td id="L2300" data-line-number="2300"></td>
          <td id="LC2300">		{ IDM_SEARCH_GONEXTMARKER4, SCE_UNIVERSAL_FOUND_STYLE_EXT4, { IDM_SEARCH_MARKALLEXT4, IDM_SEARCH_MARKONEEXT4, IDM_SEARCH_UNMARKALLEXT4, IDM_SEARCH_GOPREVMARKER4, IDM_SEARCH_STYLE4TOCLIP } },</td>
        </tr>
        <tr>
          <td id="L2301" data-line-number="2301"></td>
          <td id="LC2301">		{ IDM_SEARCH_GONEXTMARKER3, SCE_UNIVERSAL_FOUND_STYLE_EXT3, { IDM_SEARCH_MARKALLEXT3, IDM_SEARCH_MARKONEEXT3, IDM_SEARCH_UNMARKALLEXT3, IDM_SEARCH_GOPREVMARKER3, IDM_SEARCH_STYLE3TOCLIP } },</td>
        </tr>
        <tr>
          <td id="L2302" data-line-number="2302"></td>
          <td id="LC2302">		{ IDM_SEARCH_GONEXTMARKER2, SCE_UNIVERSAL_FOUND_STYLE_EXT2, { IDM_SEARCH_MARKALLEXT2, IDM_SEARCH_MARKONEEXT2, IDM_SEARCH_UNMARKALLEXT2, IDM_SEARCH_GOPREVMARKER2, IDM_SEARCH_STYLE2TOCLIP } },</td>
        </tr>
        <tr>
          <td id="L2303" data-line-number="2303"></td>
          <td id="LC2303">		{ IDM_SEARCH_GONEXTMARKER1, SCE_UNIVERSAL_FOUND_STYLE_EXT1, { IDM_SEARCH_MARKALLEXT1, IDM_SEARCH_MARKONEEXT1, IDM_SEARCH_UNMARKALLEXT1, IDM_SEARCH_GOPREVMARKER1, IDM_SEARCH_STYLE1TOCLIP } },</td>
        </tr>
        <tr>
          <td id="L2304" data-line-number="2304"></td>
          <td id="LC2304">		{ IDM_SEARCH_GONEXTMARKER_DEF, SCE_UNIVERSAL_FOUND_STYLE, { IDM_SEARCH_GOPREVMARKER_DEF, IDM_SEARCH_MARKEDTOCLIP } }</td>
        </tr>
        <tr>
          <td id="L2305" data-line-number="2305"></td>
          <td id="LC2305">	};</td>
        </tr>
        <tr>
          <td id="L2306" data-line-number="2306"></td>
          <td id="LC2306">
</td>
        </tr>
        <tr>
          <td id="L2307" data-line-number="2307"></td>
          <td id="LC2307">	<span>for</span> (<span>size_t</span> j = <span>0</span>; j &lt; <span>sizeof</span>(bitmapOnStyleMenuItemsInfo) / <span>sizeof</span>(bitmapOnStyleMenuItemsInfo[<span>0</span>]); ++j)</td>
        </tr>
        <tr>
          <td id="L2308" data-line-number="2308"></td>
          <td id="LC2308">	{</td>
        </tr>
        <tr>
          <td id="L2309" data-line-number="2309"></td>
          <td id="LC2309">		<span>const</span> <span>Style</span> * pStyle = <span>NppParameters::getInstance</span>().<span>getMiscStylerArray</span>().<span>findByID</span>(bitmapOnStyleMenuItemsInfo[j].<span>styleIndic</span>);</td>
        </tr>
        <tr>
          <td id="L2310" data-line-number="2310"></td>
          <td id="LC2310">		<span>if</span> (pStyle)</td>
        </tr>
        <tr>
          <td id="L2311" data-line-number="2311"></td>
          <td id="LC2311">		{</td>
        </tr>
        <tr>
          <td id="L2312" data-line-number="2312"></td>
          <td id="LC2312">			HBITMAP hNewBitmap = <span>generateSolidColourMenuItemIcon</span>(pStyle-&gt;<span>_bgColor</span>);</td>
        </tr>
        <tr>
          <td id="L2313" data-line-number="2313"></td>
          <td id="LC2313">
</td>
        </tr>
        <tr>
          <td id="L2314" data-line-number="2314"></td>
          <td id="LC2314">			<span>SetMenuItemBitmaps</span>(_mainMenuHandle, bitmapOnStyleMenuItemsInfo[j].<span>firstOfThisColorMenuId</span>, MF_BYCOMMAND, hNewBitmap, hNewBitmap);</td>
        </tr>
        <tr>
          <td id="L2315" data-line-number="2315"></td>
          <td id="LC2315">			<span>for</span> (<span>int</span> relatedMenuId : bitmapOnStyleMenuItemsInfo[j].<span>sameColorMenuIds</span>)</td>
        </tr>
        <tr>
          <td id="L2316" data-line-number="2316"></td>
          <td id="LC2316">			{</td>
        </tr>
        <tr>
          <td id="L2317" data-line-number="2317"></td>
          <td id="LC2317">				<span>SetMenuItemBitmaps</span>(_mainMenuHandle, relatedMenuId, MF_BYCOMMAND, hNewBitmap, <span>NULL</span>);</td>
        </tr>
        <tr>
          <td id="L2318" data-line-number="2318"></td>
          <td id="LC2318">			}</td>
        </tr>
        <tr>
          <td id="L2319" data-line-number="2319"></td>
          <td id="LC2319">		}</td>
        </tr>
        <tr>
          <td id="L2320" data-line-number="2320"></td>
          <td id="LC2320">	}</td>
        </tr>
        <tr>
          <td id="L2321" data-line-number="2321"></td>
          <td id="LC2321">
</td>
        </tr>
        <tr>
          <td id="L2322" data-line-number="2322"></td>
          <td id="LC2322">	<span><span>//</span> Adds tab colour icons</span></td>
        </tr>
        <tr>
          <td id="L2323" data-line-number="2323"></td>
          <td id="LC2323">	<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; <span>5</span>; ++i)</td>
        </tr>
        <tr>
          <td id="L2324" data-line-number="2324"></td>
          <td id="LC2324">	{</td>
        </tr>
        <tr>
          <td id="L2325" data-line-number="2325"></td>
          <td id="LC2325">		COLORREF colour = <span>NppDarkMode::getIndividualTabColour</span>(i, <span>NppDarkMode::isDarkMenuEnabled</span>(), <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L2326" data-line-number="2326"></td>
          <td id="LC2326">		HBITMAP hBitmap = <span>generateSolidColourMenuItemIcon</span>(colour);</td>
        </tr>
        <tr>
          <td id="L2327" data-line-number="2327"></td>
          <td id="LC2327">		<span>SetMenuItemBitmaps</span>(_mainMenuHandle, IDM_VIEW_TAB_COLOUR_1 + i, MF_BYCOMMAND, hBitmap, hBitmap);</td>
        </tr>
        <tr>
          <td id="L2328" data-line-number="2328"></td>
          <td id="LC2328">	}</td>
        </tr>
        <tr>
          <td id="L2329" data-line-number="2329"></td>
          <td id="LC2329">}</td>
        </tr>
        <tr>
          <td id="L2330" data-line-number="2330"></td>
          <td id="LC2330">
</td>
        </tr>
        <tr>
          <td id="L2331" data-line-number="2331"></td>
          <td id="LC2331"><span>bool</span> <span>doCheck</span>(HMENU mainHandle, <span>int</span> id)</td>
        </tr>
        <tr>
          <td id="L2332" data-line-number="2332"></td>
          <td id="LC2332">{</td>
        </tr>
        <tr>
          <td id="L2333" data-line-number="2333"></td>
          <td id="LC2333">	MENUITEMINFO mii{};</td>
        </tr>
        <tr>
          <td id="L2334" data-line-number="2334"></td>
          <td id="LC2334">	mii.<span>cbSize</span> = <span>sizeof</span>(MENUITEMINFO);</td>
        </tr>
        <tr>
          <td id="L2335" data-line-number="2335"></td>
          <td id="LC2335">	mii.<span>fMask</span> = MIIM_SUBMENU | MIIM_FTYPE | MIIM_ID | MIIM_STATE;</td>
        </tr>
        <tr>
          <td id="L2336" data-line-number="2336"></td>
          <td id="LC2336">
</td>
        </tr>
        <tr>
          <td id="L2337" data-line-number="2337"></td>
          <td id="LC2337">	<span>bool</span> found = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2338" data-line-number="2338"></td>
          <td id="LC2338">	<span>int</span> count = ::<span>GetMenuItemCount</span>(mainHandle);</td>
        </tr>
        <tr>
          <td id="L2339" data-line-number="2339"></td>
          <td id="LC2339">	<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; count; i++)</td>
        </tr>
        <tr>
          <td id="L2340" data-line-number="2340"></td>
          <td id="LC2340">	{</td>
        </tr>
        <tr>
          <td id="L2341" data-line-number="2341"></td>
          <td id="LC2341">		<span>::GetMenuItemInfo</span>(mainHandle, i, MF_BYPOSITION, &amp;mii);</td>
        </tr>
        <tr>
          <td id="L2342" data-line-number="2342"></td>
          <td id="LC2342">		<span>if</span> (mii.<span>fType</span> == MFT_RADIOCHECK || mii.<span>fType</span> == MFT_STRING)</td>
        </tr>
        <tr>
          <td id="L2343" data-line-number="2343"></td>
          <td id="LC2343">		{</td>
        </tr>
        <tr>
          <td id="L2344" data-line-number="2344"></td>
          <td id="LC2344">			<span>bool</span> checked = mii.<span>hSubMenu</span> ? <span>doCheck</span>(mii.<span>hSubMenu</span>, id) : (mii.<span>wID</span> == (<span>unsigned</span> <span>int</span>)id);</td>
        </tr>
        <tr>
          <td id="L2345" data-line-number="2345"></td>
          <td id="LC2345">			<span>if</span> (checked)</td>
        </tr>
        <tr>
          <td id="L2346" data-line-number="2346"></td>
          <td id="LC2346">			{</td>
        </tr>
        <tr>
          <td id="L2347" data-line-number="2347"></td>
          <td id="LC2347">				<span>::CheckMenuRadioItem</span>(mainHandle, <span>0</span>, count, i, MF_BYPOSITION);</td>
        </tr>
        <tr>
          <td id="L2348" data-line-number="2348"></td>
          <td id="LC2348">				found = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2349" data-line-number="2349"></td>
          <td id="LC2349">			}</td>
        </tr>
        <tr>
          <td id="L2350" data-line-number="2350"></td>
          <td id="LC2350">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L2351" data-line-number="2351"></td>
          <td id="LC2351">			{</td>
        </tr>
        <tr>
          <td id="L2352" data-line-number="2352"></td>
          <td id="LC2352">				mii.<span>fState</span> = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2353" data-line-number="2353"></td>
          <td id="LC2353">				<span>::SetMenuItemInfo</span>(mainHandle, i, MF_BYPOSITION, &amp;mii);</td>
        </tr>
        <tr>
          <td id="L2354" data-line-number="2354"></td>
          <td id="LC2354">			}</td>
        </tr>
        <tr>
          <td id="L2355" data-line-number="2355"></td>
          <td id="LC2355">		}</td>
        </tr>
        <tr>
          <td id="L2356" data-line-number="2356"></td>
          <td id="LC2356">	}</td>
        </tr>
        <tr>
          <td id="L2357" data-line-number="2357"></td>
          <td id="LC2357">	<span>return</span> found;</td>
        </tr>
        <tr>
          <td id="L2358" data-line-number="2358"></td>
          <td id="LC2358">}</td>
        </tr>
        <tr>
          <td id="L2359" data-line-number="2359"></td>
          <td id="LC2359">
</td>
        </tr>
        <tr>
          <td id="L2360" data-line-number="2360"></td>
          <td id="LC2360"><span>void</span> <span>Notepad_plus::checkLangsMenu</span>(<span>int</span> id) <span>const</span></td>
        </tr>
        <tr>
          <td id="L2361" data-line-number="2361"></td>
          <td id="LC2361">{</td>
        </tr>
        <tr>
          <td id="L2362" data-line-number="2362"></td>
          <td id="LC2362">	Buffer * curBuf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L2363" data-line-number="2363"></td>
          <td id="LC2363">	<span>if</span> (id == -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L2364" data-line-number="2364"></td>
          <td id="LC2364">	{</td>
        </tr>
        <tr>
          <td id="L2365" data-line-number="2365"></td>
          <td id="LC2365">		id = (<span>NppParameters::getInstance</span>()).<span>langTypeToCommandID</span>(curBuf-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L2366" data-line-number="2366"></td>
          <td id="LC2366">		<span>if</span> (id == IDM_LANG_USER)</td>
        </tr>
        <tr>
          <td id="L2367" data-line-number="2367"></td>
          <td id="LC2367">		{</td>
        </tr>
        <tr>
          <td id="L2368" data-line-number="2368"></td>
          <td id="LC2368">			<span>if</span> (curBuf-&gt;<span>isUserDefineLangExt</span>())</td>
        </tr>
        <tr>
          <td id="L2369" data-line-number="2369"></td>
          <td id="LC2369">			{</td>
        </tr>
        <tr>
          <td id="L2370" data-line-number="2370"></td>
          <td id="LC2370">				<span>const</span> TCHAR *userLangName = curBuf-&gt;<span>getUserDefineLangName</span>();</td>
        </tr>
        <tr>
          <td id="L2371" data-line-number="2371"></td>
          <td id="LC2371">				TCHAR menuLangName[langNameLenMax];</td>
        </tr>
        <tr>
          <td id="L2372" data-line-number="2372"></td>
          <td id="LC2372">
</td>
        </tr>
        <tr>
          <td id="L2373" data-line-number="2373"></td>
          <td id="LC2373">				<span>for</span> (<span>int</span> i = IDM_LANG_USER + <span>1</span> ; i &lt;= IDM_LANG_USER_LIMIT ; ++i)</td>
        </tr>
        <tr>
          <td id="L2374" data-line-number="2374"></td>
          <td id="LC2374">				{</td>
        </tr>
        <tr>
          <td id="L2375" data-line-number="2375"></td>
          <td id="LC2375">					<span>if</span> (::<span>GetMenuString</span>(_mainMenuHandle, i, menuLangName, langNameLenMax, MF_BYCOMMAND))</td>
        </tr>
        <tr>
          <td id="L2376" data-line-number="2376"></td>
          <td id="LC2376">					{</td>
        </tr>
        <tr>
          <td id="L2377" data-line-number="2377"></td>
          <td id="LC2377">						<span>if</span> (!<span>lstrcmp</span>(userLangName, menuLangName))</td>
        </tr>
        <tr>
          <td id="L2378" data-line-number="2378"></td>
          <td id="LC2378">						{</td>
        </tr>
        <tr>
          <td id="L2379" data-line-number="2379"></td>
          <td id="LC2379">							HMENU _langMenuHandle = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_LANGUAGE);</td>
        </tr>
        <tr>
          <td id="L2380" data-line-number="2380"></td>
          <td id="LC2380">							<span>doCheck</span>(_langMenuHandle, i);</td>
        </tr>
        <tr>
          <td id="L2381" data-line-number="2381"></td>
          <td id="LC2381">							<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2382" data-line-number="2382"></td>
          <td id="LC2382">						}</td>
        </tr>
        <tr>
          <td id="L2383" data-line-number="2383"></td>
          <td id="LC2383">					}</td>
        </tr>
        <tr>
          <td id="L2384" data-line-number="2384"></td>
          <td id="LC2384">				}</td>
        </tr>
        <tr>
          <td id="L2385" data-line-number="2385"></td>
          <td id="LC2385">			}</td>
        </tr>
        <tr>
          <td id="L2386" data-line-number="2386"></td>
          <td id="LC2386">		}</td>
        </tr>
        <tr>
          <td id="L2387" data-line-number="2387"></td>
          <td id="LC2387">	}</td>
        </tr>
        <tr>
          <td id="L2388" data-line-number="2388"></td>
          <td id="LC2388">	HMENU _langMenuHandle = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_LANGUAGE);</td>
        </tr>
        <tr>
          <td id="L2389" data-line-number="2389"></td>
          <td id="LC2389">	<span>doCheck</span>(_langMenuHandle, id);</td>
        </tr>
        <tr>
          <td id="L2390" data-line-number="2390"></td>
          <td id="LC2390">}</td>
        </tr>
        <tr>
          <td id="L2391" data-line-number="2391"></td>
          <td id="LC2391">
</td>
        </tr>
        <tr>
          <td id="L2392" data-line-number="2392"></td>
          <td id="LC2392">generic_string <span>Notepad_plus::getLangDesc</span>(LangType langType, <span>bool</span> getName)</td>
        </tr>
        <tr>
          <td id="L2393" data-line-number="2393"></td>
          <td id="LC2393">{</td>
        </tr>
        <tr>
          <td id="L2394" data-line-number="2394"></td>
          <td id="LC2394">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L2395" data-line-number="2395"></td>
          <td id="LC2395">
</td>
        </tr>
        <tr>
          <td id="L2396" data-line-number="2396"></td>
          <td id="LC2396">	<span>if</span> ((langType &gt;= L_EXTERNAL) &amp;&amp; (langType &lt; nppParams.<span>L_END</span>))</td>
        </tr>
        <tr>
          <td id="L2397" data-line-number="2397"></td>
          <td id="LC2397">	{</td>
        </tr>
        <tr>
          <td id="L2398" data-line-number="2398"></td>
          <td id="LC2398">		ExternalLangContainer &amp; elc = nppParams.<span>getELCFromIndex</span>(langType - L_EXTERNAL);</td>
        </tr>
        <tr>
          <td id="L2399" data-line-number="2399"></td>
          <td id="LC2399">		WcharMbcsConvertor&amp; wmc = <span>WcharMbcsConvertor::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L2400" data-line-number="2400"></td>
          <td id="LC2400">		<span>const</span> TCHAR* lexerNameW = wmc.<span>char2wchar</span>(elc.<span>_name</span>.<span>c_str</span>(), CP_ACP);</td>
        </tr>
        <tr>
          <td id="L2401" data-line-number="2401"></td>
          <td id="LC2401">		<span>return</span> <span>generic_string</span>(lexerNameW);</td>
        </tr>
        <tr>
          <td id="L2402" data-line-number="2402"></td>
          <td id="LC2402">	}</td>
        </tr>
        <tr>
          <td id="L2403" data-line-number="2403"></td>
          <td id="LC2403">
</td>
        </tr>
        <tr>
          <td id="L2404" data-line-number="2404"></td>
          <td id="LC2404">	<span>if</span> (langType &lt; L_TEXT || langType &gt; L_EXTERNAL)</td>
        </tr>
        <tr>
          <td id="L2405" data-line-number="2405"></td>
          <td id="LC2405">        langType = L_TEXT;</td>
        </tr>
        <tr>
          <td id="L2406" data-line-number="2406"></td>
          <td id="LC2406">
</td>
        </tr>
        <tr>
          <td id="L2407" data-line-number="2407"></td>
          <td id="LC2407">	generic_string str2Show;</td>
        </tr>
        <tr>
          <td id="L2408" data-line-number="2408"></td>
          <td id="LC2408">	<span>if</span> (getName)</td>
        </tr>
        <tr>
          <td id="L2409" data-line-number="2409"></td>
          <td id="LC2409">		str2Show = ScintillaEditView::_langNameInfoArray[langType].<span>_shortName</span>;</td>
        </tr>
        <tr>
          <td id="L2410" data-line-number="2410"></td>
          <td id="LC2410">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L2411" data-line-number="2411"></td>
          <td id="LC2411">		str2Show = ScintillaEditView::_langNameInfoArray[langType].<span>_longName</span>;</td>
        </tr>
        <tr>
          <td id="L2412" data-line-number="2412"></td>
          <td id="LC2412">
</td>
        </tr>
        <tr>
          <td id="L2413" data-line-number="2413"></td>
          <td id="LC2413">	<span>if</span> (langType == L_USER)</td>
        </tr>
        <tr>
          <td id="L2414" data-line-number="2414"></td>
          <td id="LC2414">	{</td>
        </tr>
        <tr>
          <td id="L2415" data-line-number="2415"></td>
          <td id="LC2415">		Buffer * currentBuf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L2416" data-line-number="2416"></td>
          <td id="LC2416">		<span>if</span> (currentBuf-&gt;<span>isUserDefineLangExt</span>())</td>
        </tr>
        <tr>
          <td id="L2417" data-line-number="2417"></td>
          <td id="LC2417">		{</td>
        </tr>
        <tr>
          <td id="L2418" data-line-number="2418"></td>
          <td id="LC2418">			str2Show += <span>TEXT</span>(<span><span>&#34;</span> - <span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2419" data-line-number="2419"></td>
          <td id="LC2419">			str2Show += currentBuf-&gt;<span>getUserDefineLangName</span>();</td>
        </tr>
        <tr>
          <td id="L2420" data-line-number="2420"></td>
          <td id="LC2420">		}</td>
        </tr>
        <tr>
          <td id="L2421" data-line-number="2421"></td>
          <td id="LC2421">	}</td>
        </tr>
        <tr>
          <td id="L2422" data-line-number="2422"></td>
          <td id="LC2422">	<span>return</span> str2Show;</td>
        </tr>
        <tr>
          <td id="L2423" data-line-number="2423"></td>
          <td id="LC2423">}</td>
        </tr>
        <tr>
          <td id="L2424" data-line-number="2424"></td>
          <td id="LC2424">
</td>
        </tr>
        <tr>
          <td id="L2425" data-line-number="2425"></td>
          <td id="LC2425"><span>void</span> <span>Notepad_plus::copyMarkedLines</span>()</td>
        </tr>
        <tr>
          <td id="L2426" data-line-number="2426"></td>
          <td id="LC2426">{</td>
        </tr>
        <tr>
          <td id="L2427" data-line-number="2427"></td>
          <td id="LC2427">	<span>intptr_t</span> lastLine = _pEditView-&gt;<span>lastZeroBasedLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L2428" data-line-number="2428"></td>
          <td id="LC2428">	generic_string globalStr = <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2429" data-line-number="2429"></td>
          <td id="LC2429">	<span>for</span> (<span>intptr_t</span> i = lastLine ; i &gt;= <span>0</span> ; i--)</td>
        </tr>
        <tr>
          <td id="L2430" data-line-number="2430"></td>
          <td id="LC2430">	{</td>
        </tr>
        <tr>
          <td id="L2431" data-line-number="2431"></td>
          <td id="LC2431">		<span>if</span> (<span>bookmarkPresent</span>(i))</td>
        </tr>
        <tr>
          <td id="L2432" data-line-number="2432"></td>
          <td id="LC2432">		{</td>
        </tr>
        <tr>
          <td id="L2433" data-line-number="2433"></td>
          <td id="LC2433">			generic_string currentStr = <span>getMarkedLine</span>(i) + globalStr;</td>
        </tr>
        <tr>
          <td id="L2434" data-line-number="2434"></td>
          <td id="LC2434">			globalStr = currentStr;</td>
        </tr>
        <tr>
          <td id="L2435" data-line-number="2435"></td>
          <td id="LC2435">		}</td>
        </tr>
        <tr>
          <td id="L2436" data-line-number="2436"></td>
          <td id="LC2436">	}</td>
        </tr>
        <tr>
          <td id="L2437" data-line-number="2437"></td>
          <td id="LC2437">	<span>str2Cliboard</span>(globalStr);</td>
        </tr>
        <tr>
          <td id="L2438" data-line-number="2438"></td>
          <td id="LC2438">}</td>
        </tr>
        <tr>
          <td id="L2439" data-line-number="2439"></td>
          <td id="LC2439">
</td>
        </tr>
        <tr>
          <td id="L2440" data-line-number="2440"></td>
          <td id="LC2440">std::mutex mark_mutex;</td>
        </tr>
        <tr>
          <td id="L2441" data-line-number="2441"></td>
          <td id="LC2441">
</td>
        </tr>
        <tr>
          <td id="L2442" data-line-number="2442"></td>
          <td id="LC2442"><span>void</span> <span>Notepad_plus::cutMarkedLines</span>()</td>
        </tr>
        <tr>
          <td id="L2443" data-line-number="2443"></td>
          <td id="LC2443">{</td>
        </tr>
        <tr>
          <td id="L2444" data-line-number="2444"></td>
          <td id="LC2444">	std::lock_guard&lt;std::mutex&gt; <span>lock</span>(mark_mutex);</td>
        </tr>
        <tr>
          <td id="L2445" data-line-number="2445"></td>
          <td id="LC2445">
</td>
        </tr>
        <tr>
          <td id="L2446" data-line-number="2446"></td>
          <td id="LC2446">	<span>intptr_t</span> lastLine = _pEditView-&gt;<span>lastZeroBasedLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L2447" data-line-number="2447"></td>
          <td id="LC2447">	generic_string globalStr = <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2448" data-line-number="2448"></td>
          <td id="LC2448">
</td>
        </tr>
        <tr>
          <td id="L2449" data-line-number="2449"></td>
          <td id="LC2449">	_pEditView-&gt;<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L2450" data-line-number="2450"></td>
          <td id="LC2450">	<span>for</span> (<span>intptr_t</span> i = lastLine ; i &gt;= <span>0</span> ; i--)</td>
        </tr>
        <tr>
          <td id="L2451" data-line-number="2451"></td>
          <td id="LC2451">	{</td>
        </tr>
        <tr>
          <td id="L2452" data-line-number="2452"></td>
          <td id="LC2452">		<span>if</span> (<span>bookmarkPresent</span>(i))</td>
        </tr>
        <tr>
          <td id="L2453" data-line-number="2453"></td>
          <td id="LC2453">		{</td>
        </tr>
        <tr>
          <td id="L2454" data-line-number="2454"></td>
          <td id="LC2454">			generic_string currentStr = <span>getMarkedLine</span>(i) + globalStr;</td>
        </tr>
        <tr>
          <td id="L2455" data-line-number="2455"></td>
          <td id="LC2455">			globalStr = currentStr;</td>
        </tr>
        <tr>
          <td id="L2456" data-line-number="2456"></td>
          <td id="LC2456">
</td>
        </tr>
        <tr>
          <td id="L2457" data-line-number="2457"></td>
          <td id="LC2457">			<span>deleteMarkedline</span>(i);</td>
        </tr>
        <tr>
          <td id="L2458" data-line-number="2458"></td>
          <td id="LC2458">		}</td>
        </tr>
        <tr>
          <td id="L2459" data-line-number="2459"></td>
          <td id="LC2459">	}</td>
        </tr>
        <tr>
          <td id="L2460" data-line-number="2460"></td>
          <td id="LC2460">	_pEditView-&gt;<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L2461" data-line-number="2461"></td>
          <td id="LC2461">	<span>str2Cliboard</span>(globalStr);</td>
        </tr>
        <tr>
          <td id="L2462" data-line-number="2462"></td>
          <td id="LC2462">}</td>
        </tr>
        <tr>
          <td id="L2463" data-line-number="2463"></td>
          <td id="LC2463">
</td>
        </tr>
        <tr>
          <td id="L2464" data-line-number="2464"></td>
          <td id="LC2464"><span>void</span> <span>Notepad_plus::deleteMarkedLines</span>(<span>bool</span> isMarked)</td>
        </tr>
        <tr>
          <td id="L2465" data-line-number="2465"></td>
          <td id="LC2465">{</td>
        </tr>
        <tr>
          <td id="L2466" data-line-number="2466"></td>
          <td id="LC2466">	std::lock_guard&lt;std::mutex&gt; <span>lock</span>(mark_mutex);</td>
        </tr>
        <tr>
          <td id="L2467" data-line-number="2467"></td>
          <td id="LC2467">
</td>
        </tr>
        <tr>
          <td id="L2468" data-line-number="2468"></td>
          <td id="LC2468">	<span>intptr_t</span> lastLine = _pEditView-&gt;<span>lastZeroBasedLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L2469" data-line-number="2469"></td>
          <td id="LC2469">
</td>
        </tr>
        <tr>
          <td id="L2470" data-line-number="2470"></td>
          <td id="LC2470">	_pEditView-&gt;<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L2471" data-line-number="2471"></td>
          <td id="LC2471">	<span>for</span> (<span>intptr_t</span> i = lastLine ; i &gt;= <span>0</span> ; i--)</td>
        </tr>
        <tr>
          <td id="L2472" data-line-number="2472"></td>
          <td id="LC2472">	{</td>
        </tr>
        <tr>
          <td id="L2473" data-line-number="2473"></td>
          <td id="LC2473">		<span>if</span> (<span>bookmarkPresent</span>(i) == isMarked)</td>
        </tr>
        <tr>
          <td id="L2474" data-line-number="2474"></td>
          <td id="LC2474">			<span>deleteMarkedline</span>(i);</td>
        </tr>
        <tr>
          <td id="L2475" data-line-number="2475"></td>
          <td id="LC2475">	}</td>
        </tr>
        <tr>
          <td id="L2476" data-line-number="2476"></td>
          <td id="LC2476">	_pEditView-&gt;<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L2477" data-line-number="2477"></td>
          <td id="LC2477">}</td>
        </tr>
        <tr>
          <td id="L2478" data-line-number="2478"></td>
          <td id="LC2478">
</td>
        </tr>
        <tr>
          <td id="L2479" data-line-number="2479"></td>
          <td id="LC2479"><span>void</span> <span>Notepad_plus::pasteToMarkedLines</span>()</td>
        </tr>
        <tr>
          <td id="L2480" data-line-number="2480"></td>
          <td id="LC2480">{</td>
        </tr>
        <tr>
          <td id="L2481" data-line-number="2481"></td>
          <td id="LC2481">	std::lock_guard&lt;std::mutex&gt; <span>lock</span>(mark_mutex);</td>
        </tr>
        <tr>
          <td id="L2482" data-line-number="2482"></td>
          <td id="LC2482">
</td>
        </tr>
        <tr>
          <td id="L2483" data-line-number="2483"></td>
          <td id="LC2483">	<span>int</span> clipFormat;</td>
        </tr>
        <tr>
          <td id="L2484" data-line-number="2484"></td>
          <td id="LC2484">	clipFormat = CF_UNICODETEXT;</td>
        </tr>
        <tr>
          <td id="L2485" data-line-number="2485"></td>
          <td id="LC2485">
</td>
        </tr>
        <tr>
          <td id="L2486" data-line-number="2486"></td>
          <td id="LC2486">	BOOL canPaste = ::<span>IsClipboardFormatAvailable</span>(clipFormat);</td>
        </tr>
        <tr>
          <td id="L2487" data-line-number="2487"></td>
          <td id="LC2487">	<span>if</span> (!canPaste)</td>
        </tr>
        <tr>
          <td id="L2488" data-line-number="2488"></td>
          <td id="LC2488">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2489" data-line-number="2489"></td>
          <td id="LC2489">	<span>intptr_t</span> lastLine = _pEditView-&gt;<span>lastZeroBasedLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L2490" data-line-number="2490"></td>
          <td id="LC2490">
</td>
        </tr>
        <tr>
          <td id="L2491" data-line-number="2491"></td>
          <td id="LC2491">	<span>::OpenClipboard</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L2492" data-line-number="2492"></td>
          <td id="LC2492">	HANDLE clipboardData = ::GetClipboardData(clipFormat);</td>
        </tr>
        <tr>
          <td id="L2493" data-line-number="2493"></td>
          <td id="LC2493">	<span>::GlobalSize</span>(clipboardData);</td>
        </tr>
        <tr>
          <td id="L2494" data-line-number="2494"></td>
          <td id="LC2494">	LPVOID clipboardDataPtr = ::<span>GlobalLock</span>(clipboardData);</td>
        </tr>
        <tr>
          <td id="L2495" data-line-number="2495"></td>
          <td id="LC2495">	<span>if</span> (!clipboardDataPtr) <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2496" data-line-number="2496"></td>
          <td id="LC2496">
</td>
        </tr>
        <tr>
          <td id="L2497" data-line-number="2497"></td>
          <td id="LC2497">	generic_string clipboardStr = (<span>const</span> TCHAR *)clipboardDataPtr;</td>
        </tr>
        <tr>
          <td id="L2498" data-line-number="2498"></td>
          <td id="LC2498">
</td>
        </tr>
        <tr>
          <td id="L2499" data-line-number="2499"></td>
          <td id="LC2499">	<span>::GlobalUnlock</span>(clipboardData);</td>
        </tr>
        <tr>
          <td id="L2500" data-line-number="2500"></td>
          <td id="LC2500">	<span>::CloseClipboard</span>();</td>
        </tr>
        <tr>
          <td id="L2501" data-line-number="2501"></td>
          <td id="LC2501">
</td>
        </tr>
        <tr>
          <td id="L2502" data-line-number="2502"></td>
          <td id="LC2502">	_pEditView-&gt;<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L2503" data-line-number="2503"></td>
          <td id="LC2503">	<span>for</span> (<span>intptr_t</span> i = lastLine ; i &gt;= <span>0</span> ; i--)</td>
        </tr>
        <tr>
          <td id="L2504" data-line-number="2504"></td>
          <td id="LC2504">	{</td>
        </tr>
        <tr>
          <td id="L2505" data-line-number="2505"></td>
          <td id="LC2505">		<span>if</span> (<span>bookmarkPresent</span>(i))</td>
        </tr>
        <tr>
          <td id="L2506" data-line-number="2506"></td>
          <td id="LC2506">		{</td>
        </tr>
        <tr>
          <td id="L2507" data-line-number="2507"></td>
          <td id="LC2507">			<span>replaceMarkedline</span>(i, clipboardStr.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L2508" data-line-number="2508"></td>
          <td id="LC2508">		}</td>
        </tr>
        <tr>
          <td id="L2509" data-line-number="2509"></td>
          <td id="LC2509">	}</td>
        </tr>
        <tr>
          <td id="L2510" data-line-number="2510"></td>
          <td id="LC2510">	_pEditView-&gt;<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L2511" data-line-number="2511"></td>
          <td id="LC2511">}</td>
        </tr>
        <tr>
          <td id="L2512" data-line-number="2512"></td>
          <td id="LC2512">
</td>
        </tr>
        <tr>
          <td id="L2513" data-line-number="2513"></td>
          <td id="LC2513"><span>void</span> <span>Notepad_plus::deleteMarkedline</span>(<span>size_t</span> ln)</td>
        </tr>
        <tr>
          <td id="L2514" data-line-number="2514"></td>
          <td id="LC2514">{</td>
        </tr>
        <tr>
          <td id="L2515" data-line-number="2515"></td>
          <td id="LC2515">	<span>intptr_t</span> lineLen = _pEditView-&gt;<span>execute</span>(SCI_LINELENGTH, ln);</td>
        </tr>
        <tr>
          <td id="L2516" data-line-number="2516"></td>
          <td id="LC2516">	<span>intptr_t</span> lineBegin = _pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, ln);</td>
        </tr>
        <tr>
          <td id="L2517" data-line-number="2517"></td>
          <td id="LC2517">
</td>
        </tr>
        <tr>
          <td id="L2518" data-line-number="2518"></td>
          <td id="LC2518">	<span>bookmarkDelete</span>(ln);</td>
        </tr>
        <tr>
          <td id="L2519" data-line-number="2519"></td>
          <td id="LC2519">	TCHAR emptyString[<span>2</span>] = <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2520" data-line-number="2520"></td>
          <td id="LC2520">	_pEditView-&gt;<span>replaceTarget</span>(emptyString, lineBegin, lineBegin + lineLen);</td>
        </tr>
        <tr>
          <td id="L2521" data-line-number="2521"></td>
          <td id="LC2521">}</td>
        </tr>
        <tr>
          <td id="L2522" data-line-number="2522"></td>
          <td id="LC2522">
</td>
        </tr>
        <tr>
          <td id="L2523" data-line-number="2523"></td>
          <td id="LC2523"><span>void</span> <span>Notepad_plus::inverseMarks</span>()</td>
        </tr>
        <tr>
          <td id="L2524" data-line-number="2524"></td>
          <td id="LC2524">{</td>
        </tr>
        <tr>
          <td id="L2525" data-line-number="2525"></td>
          <td id="LC2525">	<span>intptr_t</span> lastLine = _pEditView-&gt;<span>lastZeroBasedLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L2526" data-line-number="2526"></td>
          <td id="LC2526">	<span>for</span> (<span>int</span> i = <span>0</span> ; i &lt;= lastLine  ; ++i)</td>
        </tr>
        <tr>
          <td id="L2527" data-line-number="2527"></td>
          <td id="LC2527">	{</td>
        </tr>
        <tr>
          <td id="L2528" data-line-number="2528"></td>
          <td id="LC2528">		<span>if</span> (<span>bookmarkPresent</span>(i))</td>
        </tr>
        <tr>
          <td id="L2529" data-line-number="2529"></td>
          <td id="LC2529">		{</td>
        </tr>
        <tr>
          <td id="L2530" data-line-number="2530"></td>
          <td id="LC2530">			<span>bookmarkDelete</span>(i);</td>
        </tr>
        <tr>
          <td id="L2531" data-line-number="2531"></td>
          <td id="LC2531">		}</td>
        </tr>
        <tr>
          <td id="L2532" data-line-number="2532"></td>
          <td id="LC2532">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L2533" data-line-number="2533"></td>
          <td id="LC2533">		{</td>
        </tr>
        <tr>
          <td id="L2534" data-line-number="2534"></td>
          <td id="LC2534">			<span>bookmarkAdd</span>(i);</td>
        </tr>
        <tr>
          <td id="L2535" data-line-number="2535"></td>
          <td id="LC2535">		}</td>
        </tr>
        <tr>
          <td id="L2536" data-line-number="2536"></td>
          <td id="LC2536">	}</td>
        </tr>
        <tr>
          <td id="L2537" data-line-number="2537"></td>
          <td id="LC2537">}</td>
        </tr>
        <tr>
          <td id="L2538" data-line-number="2538"></td>
          <td id="LC2538">
</td>
        </tr>
        <tr>
          <td id="L2539" data-line-number="2539"></td>
          <td id="LC2539"><span>void</span> <span>Notepad_plus::replaceMarkedline</span>(<span>size_t</span> ln, <span>const</span> TCHAR *str)</td>
        </tr>
        <tr>
          <td id="L2540" data-line-number="2540"></td>
          <td id="LC2540">{</td>
        </tr>
        <tr>
          <td id="L2541" data-line-number="2541"></td>
          <td id="LC2541">	<span>intptr_t</span> lineBegin = _pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, ln);</td>
        </tr>
        <tr>
          <td id="L2542" data-line-number="2542"></td>
          <td id="LC2542">	<span>intptr_t</span> lineEnd = _pEditView-&gt;<span>execute</span>(SCI_GETLINEENDPOSITION, ln);</td>
        </tr>
        <tr>
          <td id="L2543" data-line-number="2543"></td>
          <td id="LC2543">
</td>
        </tr>
        <tr>
          <td id="L2544" data-line-number="2544"></td>
          <td id="LC2544">	_pEditView-&gt;<span>replaceTarget</span>(str, lineBegin, lineEnd);</td>
        </tr>
        <tr>
          <td id="L2545" data-line-number="2545"></td>
          <td id="LC2545">}</td>
        </tr>
        <tr>
          <td id="L2546" data-line-number="2546"></td>
          <td id="LC2546">
</td>
        </tr>
        <tr>
          <td id="L2547" data-line-number="2547"></td>
          <td id="LC2547">generic_string <span>Notepad_plus::getMarkedLine</span>(<span>size_t</span> ln)</td>
        </tr>
        <tr>
          <td id="L2548" data-line-number="2548"></td>
          <td id="LC2548">{</td>
        </tr>
        <tr>
          <td id="L2549" data-line-number="2549"></td>
          <td id="LC2549">	<span>auto</span> lineLen = _pEditView-&gt;<span>execute</span>(SCI_LINELENGTH, ln);</td>
        </tr>
        <tr>
          <td id="L2550" data-line-number="2550"></td>
          <td id="LC2550">	<span>auto</span> lineBegin = _pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, ln);</td>
        </tr>
        <tr>
          <td id="L2551" data-line-number="2551"></td>
          <td id="LC2551">
</td>
        </tr>
        <tr>
          <td id="L2552" data-line-number="2552"></td>
          <td id="LC2552">	TCHAR * buf = <span>new</span> TCHAR[lineLen+<span>1</span>];</td>
        </tr>
        <tr>
          <td id="L2553" data-line-number="2553"></td>
          <td id="LC2553">	_pEditView-&gt;<span>getGenericText</span>(buf, lineLen + <span>1</span>, lineBegin, lineBegin + lineLen);</td>
        </tr>
        <tr>
          <td id="L2554" data-line-number="2554"></td>
          <td id="LC2554">	generic_string line = buf;</td>
        </tr>
        <tr>
          <td id="L2555" data-line-number="2555"></td>
          <td id="LC2555">	<span>delete []</span> buf;</td>
        </tr>
        <tr>
          <td id="L2556" data-line-number="2556"></td>
          <td id="LC2556">
</td>
        </tr>
        <tr>
          <td id="L2557" data-line-number="2557"></td>
          <td id="LC2557">	<span>return</span> line;</td>
        </tr>
        <tr>
          <td id="L2558" data-line-number="2558"></td>
          <td id="LC2558">}</td>
        </tr>
        <tr>
          <td id="L2559" data-line-number="2559"></td>
          <td id="LC2559">
</td>
        </tr>
        <tr>
          <td id="L2560" data-line-number="2560"></td>
          <td id="LC2560"><span>void</span> <span>Notepad_plus::findMatchingBracePos</span>(<span>intptr_t</span>&amp; braceAtCaret, <span>intptr_t</span>&amp; braceOpposite)</td>
        </tr>
        <tr>
          <td id="L2561" data-line-number="2561"></td>
          <td id="LC2561">{</td>
        </tr>
        <tr>
          <td id="L2562" data-line-number="2562"></td>
          <td id="LC2562">	<span>intptr_t</span> caretPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L2563" data-line-number="2563"></td>
          <td id="LC2563">	braceAtCaret = -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L2564" data-line-number="2564"></td>
          <td id="LC2564">	braceOpposite = -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L2565" data-line-number="2565"></td>
          <td id="LC2565">	TCHAR charBefore = <span><span>&#39;</span><span>\0</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L2566" data-line-number="2566"></td>
          <td id="LC2566">
</td>
        </tr>
        <tr>
          <td id="L2567" data-line-number="2567"></td>
          <td id="LC2567">	<span>intptr_t</span> lengthDoc = _pEditView-&gt;<span>execute</span>(SCI_GETLENGTH);</td>
        </tr>
        <tr>
          <td id="L2568" data-line-number="2568"></td>
          <td id="LC2568">
</td>
        </tr>
        <tr>
          <td id="L2569" data-line-number="2569"></td>
          <td id="LC2569">	<span>if</span> ((lengthDoc &gt; <span>0</span>) &amp;&amp; (caretPos &gt; <span>0</span>))</td>
        </tr>
        <tr>
          <td id="L2570" data-line-number="2570"></td>
          <td id="LC2570">    {</td>
        </tr>
        <tr>
          <td id="L2571" data-line-number="2571"></td>
          <td id="LC2571">		charBefore = <span>TCHAR</span>(_pEditView-&gt;<span>execute</span>(SCI_GETCHARAT, caretPos - <span>1</span>, <span>0</span>));</td>
        </tr>
        <tr>
          <td id="L2572" data-line-number="2572"></td>
          <td id="LC2572">	}</td>
        </tr>
        <tr>
          <td id="L2573" data-line-number="2573"></td>
          <td id="LC2573">	<span><span>//</span> Priority goes to character before caret</span></td>
        </tr>
        <tr>
          <td id="L2574" data-line-number="2574"></td>
          <td id="LC2574">	<span>if</span> (charBefore &amp;&amp; <span>generic_strchr</span>(<span>TEXT</span>(<span><span>&#34;</span>[](){}<span>&#34;</span></span>), charBefore))</td>
        </tr>
        <tr>
          <td id="L2575" data-line-number="2575"></td>
          <td id="LC2575">    {</td>
        </tr>
        <tr>
          <td id="L2576" data-line-number="2576"></td>
          <td id="LC2576">		braceAtCaret = caretPos - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L2577" data-line-number="2577"></td>
          <td id="LC2577">	}</td>
        </tr>
        <tr>
          <td id="L2578" data-line-number="2578"></td>
          <td id="LC2578">
</td>
        </tr>
        <tr>
          <td id="L2579" data-line-number="2579"></td>
          <td id="LC2579">	<span>if</span> (lengthDoc &gt; <span>0</span>  &amp;&amp; (braceAtCaret &lt; <span>0</span>))</td>
        </tr>
        <tr>
          <td id="L2580" data-line-number="2580"></td>
          <td id="LC2580">    {</td>
        </tr>
        <tr>
          <td id="L2581" data-line-number="2581"></td>
          <td id="LC2581">		<span><span>//</span> No brace found so check other side</span></td>
        </tr>
        <tr>
          <td id="L2582" data-line-number="2582"></td>
          <td id="LC2582">		TCHAR charAfter = <span>TCHAR</span>(_pEditView-&gt;<span>execute</span>(SCI_GETCHARAT, caretPos, <span>0</span>));</td>
        </tr>
        <tr>
          <td id="L2583" data-line-number="2583"></td>
          <td id="LC2583">		<span>if</span> (charAfter &amp;&amp; <span>generic_strchr</span>(<span>TEXT</span>(<span><span>&#34;</span>[](){}<span>&#34;</span></span>), charAfter))</td>
        </tr>
        <tr>
          <td id="L2584" data-line-number="2584"></td>
          <td id="LC2584">        {</td>
        </tr>
        <tr>
          <td id="L2585" data-line-number="2585"></td>
          <td id="LC2585">			braceAtCaret = caretPos;</td>
        </tr>
        <tr>
          <td id="L2586" data-line-number="2586"></td>
          <td id="LC2586">		}</td>
        </tr>
        <tr>
          <td id="L2587" data-line-number="2587"></td>
          <td id="LC2587">	}</td>
        </tr>
        <tr>
          <td id="L2588" data-line-number="2588"></td>
          <td id="LC2588">	<span>if</span> (braceAtCaret &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L2589" data-line-number="2589"></td>
          <td id="LC2589">		braceOpposite = _pEditView-&gt;<span>execute</span>(SCI_BRACEMATCH, braceAtCaret, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L2590" data-line-number="2590"></td>
          <td id="LC2590">}</td>
        </tr>
        <tr>
          <td id="L2591" data-line-number="2591"></td>
          <td id="LC2591">
</td>
        </tr>
        <tr>
          <td id="L2592" data-line-number="2592"></td>
          <td id="LC2592"><span><span>//</span> return true if 1 or 2 (matched) brace(s) is found</span></td>
        </tr>
        <tr>
          <td id="L2593" data-line-number="2593"></td>
          <td id="LC2593"><span>bool</span> <span>Notepad_plus::braceMatch</span>()</td>
        </tr>
        <tr>
          <td id="L2594" data-line-number="2594"></td>
          <td id="LC2594">{</td>
        </tr>
        <tr>
          <td id="L2595" data-line-number="2595"></td>
          <td id="LC2595">	Buffer* currentBuf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L2596" data-line-number="2596"></td>
          <td id="LC2596">	<span>if</span> (!currentBuf-&gt;<span>allowBraceMach</span>())</td>
        </tr>
        <tr>
          <td id="L2597" data-line-number="2597"></td>
          <td id="LC2597">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2598" data-line-number="2598"></td>
          <td id="LC2598">
</td>
        </tr>
        <tr>
          <td id="L2599" data-line-number="2599"></td>
          <td id="LC2599">	<span>intptr_t</span> braceAtCaret = -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L2600" data-line-number="2600"></td>
          <td id="LC2600">	<span>intptr_t</span> braceOpposite = -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L2601" data-line-number="2601"></td>
          <td id="LC2601">	<span>findMatchingBracePos</span>(braceAtCaret, braceOpposite);</td>
        </tr>
        <tr>
          <td id="L2602" data-line-number="2602"></td>
          <td id="LC2602">
</td>
        </tr>
        <tr>
          <td id="L2603" data-line-number="2603"></td>
          <td id="LC2603">	<span>if</span> ((braceAtCaret != -<span>1</span>) &amp;&amp; (braceOpposite == -<span>1</span>))</td>
        </tr>
        <tr>
          <td id="L2604" data-line-number="2604"></td>
          <td id="LC2604">    {</td>
        </tr>
        <tr>
          <td id="L2605" data-line-number="2605"></td>
          <td id="LC2605">		_pEditView-&gt;<span>execute</span>(SCI_BRACEBADLIGHT, braceAtCaret);</td>
        </tr>
        <tr>
          <td id="L2606" data-line-number="2606"></td>
          <td id="LC2606">		_pEditView-&gt;<span>execute</span>(SCI_SETHIGHLIGHTGUIDE, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L2607" data-line-number="2607"></td>
          <td id="LC2607">	}</td>
        </tr>
        <tr>
          <td id="L2608" data-line-number="2608"></td>
          <td id="LC2608">    <span>else</span></td>
        </tr>
        <tr>
          <td id="L2609" data-line-number="2609"></td>
          <td id="LC2609">    {</td>
        </tr>
        <tr>
          <td id="L2610" data-line-number="2610"></td>
          <td id="LC2610">		_pEditView-&gt;<span>execute</span>(SCI_BRACEHIGHLIGHT, braceAtCaret, braceOpposite);</td>
        </tr>
        <tr>
          <td id="L2611" data-line-number="2611"></td>
          <td id="LC2611">
</td>
        </tr>
        <tr>
          <td id="L2612" data-line-number="2612"></td>
          <td id="LC2612">		<span>if</span> (_pEditView-&gt;<span>isShownIndentGuide</span>())</td>
        </tr>
        <tr>
          <td id="L2613" data-line-number="2613"></td>
          <td id="LC2613">        {</td>
        </tr>
        <tr>
          <td id="L2614" data-line-number="2614"></td>
          <td id="LC2614">            <span>intptr_t</span> columnAtCaret = _pEditView-&gt;<span>execute</span>(SCI_GETCOLUMN, braceAtCaret);</td>
        </tr>
        <tr>
          <td id="L2615" data-line-number="2615"></td>
          <td id="LC2615">		    <span>intptr_t</span> columnOpposite = _pEditView-&gt;<span>execute</span>(SCI_GETCOLUMN, braceOpposite);</td>
        </tr>
        <tr>
          <td id="L2616" data-line-number="2616"></td>
          <td id="LC2616">			_pEditView-&gt;<span>execute</span>(SCI_SETHIGHLIGHTGUIDE, (columnAtCaret &lt; columnOpposite)?columnAtCaret:columnOpposite);</td>
        </tr>
        <tr>
          <td id="L2617" data-line-number="2617"></td>
          <td id="LC2617">        }</td>
        </tr>
        <tr>
          <td id="L2618" data-line-number="2618"></td>
          <td id="LC2618">    }</td>
        </tr>
        <tr>
          <td id="L2619" data-line-number="2619"></td>
          <td id="LC2619">
</td>
        </tr>
        <tr>
          <td id="L2620" data-line-number="2620"></td>
          <td id="LC2620">	<span>const</span> <span>bool</span> enable = (braceAtCaret != -<span>1</span>) &amp;&amp; (braceOpposite != -<span>1</span>);</td>
        </tr>
        <tr>
          <td id="L2621" data-line-number="2621"></td>
          <td id="LC2621">    <span>enableCommand</span>(IDM_SEARCH_GOTOMATCHINGBRACE, enable, MENU | TOOLBAR);</td>
        </tr>
        <tr>
          <td id="L2622" data-line-number="2622"></td>
          <td id="LC2622">	<span>enableCommand</span>(IDM_SEARCH_SELECTMATCHINGBRACES, enable, MENU);</td>
        </tr>
        <tr>
          <td id="L2623" data-line-number="2623"></td>
          <td id="LC2623">    <span>return</span> (braceAtCaret != -<span>1</span>);</td>
        </tr>
        <tr>
          <td id="L2624" data-line-number="2624"></td>
          <td id="LC2624">}</td>
        </tr>
        <tr>
          <td id="L2625" data-line-number="2625"></td>
          <td id="LC2625">
</td>
        </tr>
        <tr>
          <td id="L2626" data-line-number="2626"></td>
          <td id="LC2626">
</td>
        </tr>
        <tr>
          <td id="L2627" data-line-number="2627"></td>
          <td id="LC2627"><span>void</span> <span>Notepad_plus::setLangStatus</span>(LangType langType)</td>
        </tr>
        <tr>
          <td id="L2628" data-line-number="2628"></td>
          <td id="LC2628">{</td>
        </tr>
        <tr>
          <td id="L2629" data-line-number="2629"></td>
          <td id="LC2629">	_statusBar.<span>setText</span>(<span>getLangDesc</span>(langType).<span>c_str</span>(), STATUSBAR_DOC_TYPE);</td>
        </tr>
        <tr>
          <td id="L2630" data-line-number="2630"></td>
          <td id="LC2630">}</td>
        </tr>
        <tr>
          <td id="L2631" data-line-number="2631"></td>
          <td id="LC2631">
</td>
        </tr>
        <tr>
          <td id="L2632" data-line-number="2632"></td>
          <td id="LC2632">
</td>
        </tr>
        <tr>
          <td id="L2633" data-line-number="2633"></td>
          <td id="LC2633"><span>void</span> <span>Notepad_plus::setDisplayFormat</span>(EolType format)</td>
        </tr>
        <tr>
          <td id="L2634" data-line-number="2634"></td>
          <td id="LC2634">{</td>
        </tr>
        <tr>
          <td id="L2635" data-line-number="2635"></td>
          <td id="LC2635">	<span>const</span> TCHAR* str = <span>TEXT</span>(<span><span>&#34;</span>??<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2636" data-line-number="2636"></td>
          <td id="LC2636">	<span>switch</span> (format)</td>
        </tr>
        <tr>
          <td id="L2637" data-line-number="2637"></td>
          <td id="LC2637">	{</td>
        </tr>
        <tr>
          <td id="L2638" data-line-number="2638"></td>
          <td id="LC2638">		<span>case</span> EolType::windows: str = <span>TEXT</span>(<span><span>&#34;</span>Windows (CR LF)<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2639" data-line-number="2639"></td>
          <td id="LC2639">		<span>case</span> EolType::macos:   str = <span>TEXT</span>(<span><span>&#34;</span>Macintosh (CR)<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2640" data-line-number="2640"></td>
          <td id="LC2640">		<span>case</span> EolType::unix:    str = <span>TEXT</span>(<span><span>&#34;</span>Unix (LF)<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2641" data-line-number="2641"></td>
          <td id="LC2641">		<span>case</span> EolType::unknown: str = <span>TEXT</span>(<span><span>&#34;</span>Unknown<span>&#34;</span></span>); <span>assert</span>(<span>false</span>);  <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2642" data-line-number="2642"></td>
          <td id="LC2642">	}</td>
        </tr>
        <tr>
          <td id="L2643" data-line-number="2643"></td>
          <td id="LC2643">	_statusBar.<span>setText</span>(str, STATUSBAR_EOF_FORMAT);</td>
        </tr>
        <tr>
          <td id="L2644" data-line-number="2644"></td>
          <td id="LC2644">}</td>
        </tr>
        <tr>
          <td id="L2645" data-line-number="2645"></td>
          <td id="LC2645">
</td>
        </tr>
        <tr>
          <td id="L2646" data-line-number="2646"></td>
          <td id="LC2646">
</td>
        </tr>
        <tr>
          <td id="L2647" data-line-number="2647"></td>
          <td id="LC2647"><span>void</span> <span>Notepad_plus::setUniModeText</span>()</td>
        </tr>
        <tr>
          <td id="L2648" data-line-number="2648"></td>
          <td id="LC2648">{</td>
        </tr>
        <tr>
          <td id="L2649" data-line-number="2649"></td>
          <td id="LC2649">	Buffer *buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L2650" data-line-number="2650"></td>
          <td id="LC2650">	<span>int</span> encoding = buf-&gt;<span>getEncoding</span>();</td>
        </tr>
        <tr>
          <td id="L2651" data-line-number="2651"></td>
          <td id="LC2651">	UniMode um = buf-&gt;<span>getUnicodeMode</span>();</td>
        </tr>
        <tr>
          <td id="L2652" data-line-number="2652"></td>
          <td id="LC2652">
</td>
        </tr>
        <tr>
          <td id="L2653" data-line-number="2653"></td>
          <td id="LC2653">	generic_string uniModeTextString;</td>
        </tr>
        <tr>
          <td id="L2654" data-line-number="2654"></td>
          <td id="LC2654">
</td>
        </tr>
        <tr>
          <td id="L2655" data-line-number="2655"></td>
          <td id="LC2655">	<span>if</span> (encoding == -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L2656" data-line-number="2656"></td>
          <td id="LC2656">	{</td>
        </tr>
        <tr>
          <td id="L2657" data-line-number="2657"></td>
          <td id="LC2657">		<span>switch</span> (um)</td>
        </tr>
        <tr>
          <td id="L2658" data-line-number="2658"></td>
          <td id="LC2658">		{</td>
        </tr>
        <tr>
          <td id="L2659" data-line-number="2659"></td>
          <td id="LC2659">			<span>case</span> uniUTF8:</td>
        </tr>
        <tr>
          <td id="L2660" data-line-number="2660"></td>
          <td id="LC2660">				uniModeTextString = <span>TEXT</span>(<span><span>&#34;</span>UTF-8-BOM<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2661" data-line-number="2661"></td>
          <td id="LC2661">			<span>case</span> uni16BE:</td>
        </tr>
        <tr>
          <td id="L2662" data-line-number="2662"></td>
          <td id="LC2662">				uniModeTextString = <span>TEXT</span>(<span><span>&#34;</span>UTF-16 BE BOM<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2663" data-line-number="2663"></td>
          <td id="LC2663">			<span>case</span> uni16LE:</td>
        </tr>
        <tr>
          <td id="L2664" data-line-number="2664"></td>
          <td id="LC2664">				uniModeTextString = <span>TEXT</span>(<span><span>&#34;</span>UTF-16 LE BOM<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2665" data-line-number="2665"></td>
          <td id="LC2665">			<span>case</span> uni16BE_NoBOM:</td>
        </tr>
        <tr>
          <td id="L2666" data-line-number="2666"></td>
          <td id="LC2666">				uniModeTextString = <span>TEXT</span>(<span><span>&#34;</span>UTF-16 Big Endian<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2667" data-line-number="2667"></td>
          <td id="LC2667">			<span>case</span> uni16LE_NoBOM:</td>
        </tr>
        <tr>
          <td id="L2668" data-line-number="2668"></td>
          <td id="LC2668">				uniModeTextString = <span>TEXT</span>(<span><span>&#34;</span>UTF-16 Little Endian<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2669" data-line-number="2669"></td>
          <td id="LC2669">			<span>case</span> uniCookie:</td>
        </tr>
        <tr>
          <td id="L2670" data-line-number="2670"></td>
          <td id="LC2670">				uniModeTextString = <span>TEXT</span>(<span><span>&#34;</span>UTF-8<span>&#34;</span></span>); <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2671" data-line-number="2671"></td>
          <td id="LC2671">			<span>default</span> :</td>
        </tr>
        <tr>
          <td id="L2672" data-line-number="2672"></td>
          <td id="LC2672">				uniModeTextString = <span>TEXT</span>(<span><span>&#34;</span>ANSI<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2673" data-line-number="2673"></td>
          <td id="LC2673">		}</td>
        </tr>
        <tr>
          <td id="L2674" data-line-number="2674"></td>
          <td id="LC2674">	}</td>
        </tr>
        <tr>
          <td id="L2675" data-line-number="2675"></td>
          <td id="LC2675">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L2676" data-line-number="2676"></td>
          <td id="LC2676">	{</td>
        </tr>
        <tr>
          <td id="L2677" data-line-number="2677"></td>
          <td id="LC2677">		EncodingMapper&amp; em = <span>EncodingMapper::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L2678" data-line-number="2678"></td>
          <td id="LC2678">		<span>int</span> cmdID = em.<span>getIndexFromEncoding</span>(encoding);</td>
        </tr>
        <tr>
          <td id="L2679" data-line-number="2679"></td>
          <td id="LC2679">		<span>if</span> (cmdID == -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L2680" data-line-number="2680"></td>
          <td id="LC2680">		{</td>
        </tr>
        <tr>
          <td id="L2681" data-line-number="2681"></td>
          <td id="LC2681">			<span>assert</span>(!<span><span>&#34;</span>Encoding problem. Encoding is not added in encoding_table?<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2682" data-line-number="2682"></td>
          <td id="LC2682">			<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2683" data-line-number="2683"></td>
          <td id="LC2683">		}</td>
        </tr>
        <tr>
          <td id="L2684" data-line-number="2684"></td>
          <td id="LC2684">		cmdID += IDM_FORMAT_ENCODE;</td>
        </tr>
        <tr>
          <td id="L2685" data-line-number="2685"></td>
          <td id="LC2685">
</td>
        </tr>
        <tr>
          <td id="L2686" data-line-number="2686"></td>
          <td id="LC2686">		<span>const</span> <span>int</span> itemSize = <span>64</span>;</td>
        </tr>
        <tr>
          <td id="L2687" data-line-number="2687"></td>
          <td id="LC2687">		TCHAR uniModeText[itemSize] = {};</td>
        </tr>
        <tr>
          <td id="L2688" data-line-number="2688"></td>
          <td id="LC2688">		<span>::GetMenuString</span>(_mainMenuHandle, cmdID, uniModeText, itemSize, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L2689" data-line-number="2689"></td>
          <td id="LC2689">		uniModeTextString = uniModeText;</td>
        </tr>
        <tr>
          <td id="L2690" data-line-number="2690"></td>
          <td id="LC2690">		<span><span>//</span> Remove the shortcut text from the menu text.</span></td>
        </tr>
        <tr>
          <td id="L2691" data-line-number="2691"></td>
          <td id="LC2691">		<span>const</span> <span>size_t</span> tabPos = uniModeTextString.<span>find_last_of</span>(<span><span>&#39;</span><span>\t</span><span>&#39;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2692" data-line-number="2692"></td>
          <td id="LC2692">		<span>if</span> (tabPos != generic_string::npos)</td>
        </tr>
        <tr>
          <td id="L2693" data-line-number="2693"></td>
          <td id="LC2693">			uniModeTextString.<span>resize</span>(tabPos);</td>
        </tr>
        <tr>
          <td id="L2694" data-line-number="2694"></td>
          <td id="LC2694">	}</td>
        </tr>
        <tr>
          <td id="L2695" data-line-number="2695"></td>
          <td id="LC2695">	_statusBar.<span>setText</span>(uniModeTextString.<span>c_str</span>(), STATUSBAR_UNICODE_TYPE);</td>
        </tr>
        <tr>
          <td id="L2696" data-line-number="2696"></td>
          <td id="LC2696">}</td>
        </tr>
        <tr>
          <td id="L2697" data-line-number="2697"></td>
          <td id="LC2697">
</td>
        </tr>
        <tr>
          <td id="L2698" data-line-number="2698"></td>
          <td id="LC2698"><span>bool</span> <span>isUrlSchemeStartChar</span>(TCHAR <span>const</span> c)</td>
        </tr>
        <tr>
          <td id="L2699" data-line-number="2699"></td>
          <td id="LC2699">{</td>
        </tr>
        <tr>
          <td id="L2700" data-line-number="2700"></td>
          <td id="LC2700">	<span>return</span> ((c &gt;= <span><span>&#39;</span>A<span>&#39;</span></span>) &amp;&amp; (c &lt;= <span><span>&#39;</span>Z<span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L2701" data-line-number="2701"></td>
          <td id="LC2701">		|| ((c &gt;= <span><span>&#39;</span>a<span>&#39;</span></span>) &amp;&amp; (c &lt;= <span><span>&#39;</span>z<span>&#39;</span></span>));</td>
        </tr>
        <tr>
          <td id="L2702" data-line-number="2702"></td>
          <td id="LC2702">}</td>
        </tr>
        <tr>
          <td id="L2703" data-line-number="2703"></td>
          <td id="LC2703">
</td>
        </tr>
        <tr>
          <td id="L2704" data-line-number="2704"></td>
          <td id="LC2704"><span>bool</span> <span>isUrlSchemeDelimiter</span>(TCHAR <span>const</span> c) <span><span>//</span> characters allowed immedeately before scheme</span></td>
        </tr>
        <tr>
          <td id="L2705" data-line-number="2705"></td>
          <td id="LC2705">{</td>
        </tr>
        <tr>
          <td id="L2706" data-line-number="2706"></td>
          <td id="LC2706">	<span>return</span>   ! (((c &gt;= <span><span>&#39;</span>0<span>&#39;</span></span>) &amp;&amp; (c &lt;= <span><span>&#39;</span>9<span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L2707" data-line-number="2707"></td>
          <td id="LC2707">			 || ((c &gt;= <span><span>&#39;</span>A<span>&#39;</span></span>) &amp;&amp; (c &lt;= <span><span>&#39;</span>Z<span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L2708" data-line-number="2708"></td>
          <td id="LC2708">			 || ((c &gt;= <span><span>&#39;</span>a<span>&#39;</span></span>) &amp;&amp; (c &lt;= <span><span>&#39;</span>z<span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L2709" data-line-number="2709"></td>
          <td id="LC2709">			 ||  (c == <span><span>&#39;</span>_<span>&#39;</span></span>));</td>
        </tr>
        <tr>
          <td id="L2710" data-line-number="2710"></td>
          <td id="LC2710">}</td>
        </tr>
        <tr>
          <td id="L2711" data-line-number="2711"></td>
          <td id="LC2711">
</td>
        </tr>
        <tr>
          <td id="L2712" data-line-number="2712"></td>
          <td id="LC2712"><span>bool</span> <span>isUrlTextChar</span>(TCHAR <span>const</span> c)</td>
        </tr>
        <tr>
          <td id="L2713" data-line-number="2713"></td>
          <td id="LC2713">{</td>
        </tr>
        <tr>
          <td id="L2714" data-line-number="2714"></td>
          <td id="LC2714">	<span>if</span> (c &lt;= <span><span>&#39;</span> <span>&#39;</span></span>) <span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2715" data-line-number="2715"></td>
          <td id="LC2715">	<span>switch</span> (c)</td>
        </tr>
        <tr>
          <td id="L2716" data-line-number="2716"></td>
          <td id="LC2716">	{</td>
        </tr>
        <tr>
          <td id="L2717" data-line-number="2717"></td>
          <td id="LC2717">		<span>case</span> <span><span>&#39;</span>&#34;<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2718" data-line-number="2718"></td>
          <td id="LC2718">		<span>case</span> <span><span>&#39;</span>#<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2719" data-line-number="2719"></td>
          <td id="LC2719">		<span>case</span> <span><span>&#39;</span>&lt;<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2720" data-line-number="2720"></td>
          <td id="LC2720">		<span>case</span> <span><span>&#39;</span>&gt;<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2721" data-line-number="2721"></td>
          <td id="LC2721">		<span>case</span> <span><span>&#39;</span>{<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2722" data-line-number="2722"></td>
          <td id="LC2722">		<span>case</span> <span><span>&#39;</span>}<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2723" data-line-number="2723"></td>
          <td id="LC2723">		<span>case</span> <span><span>&#39;</span>?<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2724" data-line-number="2724"></td>
          <td id="LC2724">		<span>case</span> <span><span>&#39;</span><span>\u007F</span><span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2725" data-line-number="2725"></td>
          <td id="LC2725">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2726" data-line-number="2726"></td>
          <td id="LC2726">	}</td>
        </tr>
        <tr>
          <td id="L2727" data-line-number="2727"></td>
          <td id="LC2727">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2728" data-line-number="2728"></td>
          <td id="LC2728">}</td>
        </tr>
        <tr>
          <td id="L2729" data-line-number="2729"></td>
          <td id="LC2729">
</td>
        </tr>
        <tr>
          <td id="L2730" data-line-number="2730"></td>
          <td id="LC2730"><span>bool</span> <span>isUrlQueryDelimiter</span>(TCHAR <span>const</span> c)</td>
        </tr>
        <tr>
          <td id="L2731" data-line-number="2731"></td>
          <td id="LC2731">{</td>
        </tr>
        <tr>
          <td id="L2732" data-line-number="2732"></td>
          <td id="LC2732">	<span>switch</span>(c)</td>
        </tr>
        <tr>
          <td id="L2733" data-line-number="2733"></td>
          <td id="LC2733">	{</td>
        </tr>
        <tr>
          <td id="L2734" data-line-number="2734"></td>
          <td id="LC2734">		<span>case</span> <span><span>&#39;</span>&amp;<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2735" data-line-number="2735"></td>
          <td id="LC2735">		<span>case</span> <span><span>&#39;</span>+<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2736" data-line-number="2736"></td>
          <td id="LC2736">		<span>case</span> <span><span>&#39;</span>=<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2737" data-line-number="2737"></td>
          <td id="LC2737">		<span>case</span> <span><span>&#39;</span>;<span>&#39;</span></span>:</td>
        </tr>
        <tr>
          <td id="L2738" data-line-number="2738"></td>
          <td id="LC2738">			<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2739" data-line-number="2739"></td>
          <td id="LC2739">	}</td>
        </tr>
        <tr>
          <td id="L2740" data-line-number="2740"></td>
          <td id="LC2740">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2741" data-line-number="2741"></td>
          <td id="LC2741">}</td>
        </tr>
        <tr>
          <td id="L2742" data-line-number="2742"></td>
          <td id="LC2742">
</td>
        </tr>
        <tr>
          <td id="L2743" data-line-number="2743"></td>
          <td id="LC2743"><span>bool</span> <span>isUrlSchemeSupported</span>(INTERNET_SCHEME s, TCHAR *url)</td>
        </tr>
        <tr>
          <td id="L2744" data-line-number="2744"></td>
          <td id="LC2744">{</td>
        </tr>
        <tr>
          <td id="L2745" data-line-number="2745"></td>
          <td id="LC2745">	<span>switch</span> (s)</td>
        </tr>
        <tr>
          <td id="L2746" data-line-number="2746"></td>
          <td id="LC2746">	{</td>
        </tr>
        <tr>
          <td id="L2747" data-line-number="2747"></td>
          <td id="LC2747">		<span>case</span> INTERNET_SCHEME_FTP:</td>
        </tr>
        <tr>
          <td id="L2748" data-line-number="2748"></td>
          <td id="LC2748">		<span>case</span> INTERNET_SCHEME_HTTP:</td>
        </tr>
        <tr>
          <td id="L2749" data-line-number="2749"></td>
          <td id="LC2749">		<span>case</span> INTERNET_SCHEME_HTTPS:</td>
        </tr>
        <tr>
          <td id="L2750" data-line-number="2750"></td>
          <td id="LC2750">		<span>case</span> INTERNET_SCHEME_MAILTO:</td>
        </tr>
        <tr>
          <td id="L2751" data-line-number="2751"></td>
          <td id="LC2751">		<span>case</span> INTERNET_SCHEME_FILE:</td>
        </tr>
        <tr>
          <td id="L2752" data-line-number="2752"></td>
          <td id="LC2752">			<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2753" data-line-number="2753"></td>
          <td id="LC2753">
</td>
        </tr>
        <tr>
          <td id="L2754" data-line-number="2754"></td>
          <td id="LC2754">		<span>case</span> INTERNET_SCHEME_PARTIAL:</td>
        </tr>
        <tr>
          <td id="L2755" data-line-number="2755"></td>
          <td id="LC2755">		<span>case</span> INTERNET_SCHEME_UNKNOWN:</td>
        </tr>
        <tr>
          <td id="L2756" data-line-number="2756"></td>
          <td id="LC2756">		<span>case</span> INTERNET_SCHEME_DEFAULT:</td>
        </tr>
        <tr>
          <td id="L2757" data-line-number="2757"></td>
          <td id="LC2757">		<span>case</span> INTERNET_SCHEME_GOPHER:</td>
        </tr>
        <tr>
          <td id="L2758" data-line-number="2758"></td>
          <td id="LC2758">		<span>case</span> INTERNET_SCHEME_NEWS:</td>
        </tr>
        <tr>
          <td id="L2759" data-line-number="2759"></td>
          <td id="LC2759">		<span>case</span> INTERNET_SCHEME_SOCKS:</td>
        </tr>
        <tr>
          <td id="L2760" data-line-number="2760"></td>
          <td id="LC2760">		<span>case</span> INTERNET_SCHEME_JAVASCRIPT:</td>
        </tr>
        <tr>
          <td id="L2761" data-line-number="2761"></td>
          <td id="LC2761">		<span>case</span> INTERNET_SCHEME_VBSCRIPT:</td>
        </tr>
        <tr>
          <td id="L2762" data-line-number="2762"></td>
          <td id="LC2762">		<span>case</span> INTERNET_SCHEME_RES:</td>
        </tr>
        <tr>
          <td id="L2763" data-line-number="2763"></td>
          <td id="LC2763">		<span>default</span>:</td>
        </tr>
        <tr>
          <td id="L2764" data-line-number="2764"></td>
          <td id="LC2764">			<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2765" data-line-number="2765"></td>
          <td id="LC2765">	}</td>
        </tr>
        <tr>
          <td id="L2766" data-line-number="2766"></td>
          <td id="LC2766">	generic_string <span>const</span> mySchemes = (<span>NppParameters::getInstance</span>()).<span>getNppGUI</span>().<span>_uriSchemes</span> + <span>TEXT</span>(<span><span>&#34;</span> <span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L2767" data-line-number="2767"></td>
          <td id="LC2767">	TCHAR *p = (TCHAR *)mySchemes.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L2768" data-line-number="2768"></td>
          <td id="LC2768">	<span>while</span> (*p)</td>
        </tr>
        <tr>
          <td id="L2769" data-line-number="2769"></td>
          <td id="LC2769">	{</td>
        </tr>
        <tr>
          <td id="L2770" data-line-number="2770"></td>
          <td id="LC2770">		<span>int</span> i = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2771" data-line-number="2771"></td>
          <td id="LC2771">		<span>while</span> (p [i] &amp;&amp; (p [i] != <span><span>&#39;</span> <span>&#39;</span></span>)) i++;</td>
        </tr>
        <tr>
          <td id="L2772" data-line-number="2772"></td>
          <td id="LC2772">		<span>if</span> (i == <span>0</span>) <span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2773" data-line-number="2773"></td>
          <td id="LC2773">		<span>if</span> (<span>generic_strnicmp</span> (url, p, i) == <span>0</span>) <span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2774" data-line-number="2774"></td>
          <td id="LC2774">		p += i;</td>
        </tr>
        <tr>
          <td id="L2775" data-line-number="2775"></td>
          <td id="LC2775">		<span>while</span> (*p == <span><span>&#39;</span> <span>&#39;</span></span>) p++;</td>
        </tr>
        <tr>
          <td id="L2776" data-line-number="2776"></td>
          <td id="LC2776">	}</td>
        </tr>
        <tr>
          <td id="L2777" data-line-number="2777"></td>
          <td id="LC2777">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2778" data-line-number="2778"></td>
          <td id="LC2778">}</td>
        </tr>
        <tr>
          <td id="L2779" data-line-number="2779"></td>
          <td id="LC2779">
</td>
        </tr>
        <tr>
          <td id="L2780" data-line-number="2780"></td>
          <td id="LC2780"><span><span>//</span> scanToUrlStart searches for a possible URL in &lt;text&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2781" data-line-number="2781"></td>
          <td id="LC2781"><span><span>//</span> If a possible URL is found, then:</span></td>
        </tr>
        <tr>
          <td id="L2782" data-line-number="2782"></td>
          <td id="LC2782"><span><span>//</span> - True is returned.</span></td>
        </tr>
        <tr>
          <td id="L2783" data-line-number="2783"></td>
          <td id="LC2783"><span><span>//</span> - The number of characters between &lt;text[start]&gt; and the beginning of the URL candidate is stored in &lt;distance&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2784" data-line-number="2784"></td>
          <td id="LC2784"><span><span>//</span> - The length of the URL scheme is stored in &lt;schemeLength&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2785" data-line-number="2785"></td>
          <td id="LC2785"><span><span>//</span> If no URL is found, then:</span></td>
        </tr>
        <tr>
          <td id="L2786" data-line-number="2786"></td>
          <td id="LC2786"><span><span>//</span> - False is returned.</span></td>
        </tr>
        <tr>
          <td id="L2787" data-line-number="2787"></td>
          <td id="LC2787"><span><span>//</span> - The number of characters between &lt;text[start]&gt; and the end of text is stored in &lt;distance&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2788" data-line-number="2788"></td>
          <td id="LC2788"><span>bool</span> <span>scanToUrlStart</span>(TCHAR *text, <span>int</span> textLen, <span>int</span> start, <span>int</span>* distance, <span>int</span>* schemeLength)</td>
        </tr>
        <tr>
          <td id="L2789" data-line-number="2789"></td>
          <td id="LC2789">{</td>
        </tr>
        <tr>
          <td id="L2790" data-line-number="2790"></td>
          <td id="LC2790">	<span>int</span> p = start;</td>
        </tr>
        <tr>
          <td id="L2791" data-line-number="2791"></td>
          <td id="LC2791">	<span>int</span> p0 = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2792" data-line-number="2792"></td>
          <td id="LC2792">	<span>enum</span> {<span>sUnknown</span>, <span>sScheme</span>} s = <span>sUnknown</span>;</td>
        </tr>
        <tr>
          <td id="L2793" data-line-number="2793"></td>
          <td id="LC2793">	<span>while</span> (p &lt; textLen)</td>
        </tr>
        <tr>
          <td id="L2794" data-line-number="2794"></td>
          <td id="LC2794">	{</td>
        </tr>
        <tr>
          <td id="L2795" data-line-number="2795"></td>
          <td id="LC2795">		<span>switch</span> (s)</td>
        </tr>
        <tr>
          <td id="L2796" data-line-number="2796"></td>
          <td id="LC2796">		{</td>
        </tr>
        <tr>
          <td id="L2797" data-line-number="2797"></td>
          <td id="LC2797">			<span>case</span> <span>sUnknown</span>:</td>
        </tr>
        <tr>
          <td id="L2798" data-line-number="2798"></td>
          <td id="LC2798">				<span>if</span> (<span>isUrlSchemeStartChar</span>(text [p]) &amp;&amp; ((p == <span>0</span>) || <span>isUrlSchemeDelimiter</span>(text [p - <span>1</span>])))</td>
        </tr>
        <tr>
          <td id="L2799" data-line-number="2799"></td>
          <td id="LC2799">				{</td>
        </tr>
        <tr>
          <td id="L2800" data-line-number="2800"></td>
          <td id="LC2800">					p0 = p;</td>
        </tr>
        <tr>
          <td id="L2801" data-line-number="2801"></td>
          <td id="LC2801">					s = <span>sScheme</span>;</td>
        </tr>
        <tr>
          <td id="L2802" data-line-number="2802"></td>
          <td id="LC2802">				}</td>
        </tr>
        <tr>
          <td id="L2803" data-line-number="2803"></td>
          <td id="LC2803">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2804" data-line-number="2804"></td>
          <td id="LC2804">
</td>
        </tr>
        <tr>
          <td id="L2805" data-line-number="2805"></td>
          <td id="LC2805">			<span>case</span> <span>sScheme</span>:</td>
        </tr>
        <tr>
          <td id="L2806" data-line-number="2806"></td>
          <td id="LC2806">				<span>if</span> (text [p] == <span><span>&#39;</span>:<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2807" data-line-number="2807"></td>
          <td id="LC2807">				{</td>
        </tr>
        <tr>
          <td id="L2808" data-line-number="2808"></td>
          <td id="LC2808">					*distance = p0 - start;</td>
        </tr>
        <tr>
          <td id="L2809" data-line-number="2809"></td>
          <td id="LC2809">					*schemeLength = p - p0 + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L2810" data-line-number="2810"></td>
          <td id="LC2810">					<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2811" data-line-number="2811"></td>
          <td id="LC2811">				}</td>
        </tr>
        <tr>
          <td id="L2812" data-line-number="2812"></td>
          <td id="LC2812">				<span>if</span> (!<span>isUrlSchemeStartChar</span>(text [p]))</td>
        </tr>
        <tr>
          <td id="L2813" data-line-number="2813"></td>
          <td id="LC2813">					s = <span>sUnknown</span>;</td>
        </tr>
        <tr>
          <td id="L2814" data-line-number="2814"></td>
          <td id="LC2814">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2815" data-line-number="2815"></td>
          <td id="LC2815">		}</td>
        </tr>
        <tr>
          <td id="L2816" data-line-number="2816"></td>
          <td id="LC2816">		p++;</td>
        </tr>
        <tr>
          <td id="L2817" data-line-number="2817"></td>
          <td id="LC2817">	}</td>
        </tr>
        <tr>
          <td id="L2818" data-line-number="2818"></td>
          <td id="LC2818">	*schemeLength = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2819" data-line-number="2819"></td>
          <td id="LC2819">	*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2820" data-line-number="2820"></td>
          <td id="LC2820">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2821" data-line-number="2821"></td>
          <td id="LC2821">}</td>
        </tr>
        <tr>
          <td id="L2822" data-line-number="2822"></td>
          <td id="LC2822">
</td>
        </tr>
        <tr>
          <td id="L2823" data-line-number="2823"></td>
          <td id="LC2823"><span><span>//</span> scanToUrlEnd searches the end of an URL, coarsly parsing its main parts HostAndPath, Query and Fragment.</span></td>
        </tr>
        <tr>
          <td id="L2824" data-line-number="2824"></td>
          <td id="LC2824"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L2825" data-line-number="2825"></td>
          <td id="LC2825"><span><span>//</span> In the query part, a simple pattern is enforced, to avoid that everything goes through as a query.</span></td>
        </tr>
        <tr>
          <td id="L2826" data-line-number="2826"></td>
          <td id="LC2826"><span><span>//</span> The pattern is kept simple, since there seem to be many different forms of queries used in the world.</span></td>
        </tr>
        <tr>
          <td id="L2827" data-line-number="2827"></td>
          <td id="LC2827"><span><span>//</span> The objective here is not to detect whether or not a query is malformed. The objective is, to let through</span></td>
        </tr>
        <tr>
          <td id="L2828" data-line-number="2828"></td>
          <td id="LC2828"><span><span>//</span> most of the real world&#39;s queries, and to sort out what is certainly not a query.</span></td>
        </tr>
        <tr>
          <td id="L2829" data-line-number="2829"></td>
          <td id="LC2829"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L2830" data-line-number="2830"></td>
          <td id="LC2830"><span><span>//</span> The approach is:</span></td>
        </tr>
        <tr>
          <td id="L2831" data-line-number="2831"></td>
          <td id="LC2831"><span><span>//</span> - A query begins with &#39;?&#39;, followed by any number of values,</span></td>
        </tr>
        <tr>
          <td id="L2832" data-line-number="2832"></td>
          <td id="LC2832"><span><span>//</span>   which are separated by a single delimiter character &#39;&amp;&#39;, &#39;+&#39;, &#39;=&#39; or &#39;;&#39;.</span></td>
        </tr>
        <tr>
          <td id="L2833" data-line-number="2833"></td>
          <td id="LC2833"><span><span>//</span> - Each value may be enclosed in single or double quotes.</span></td>
        </tr>
        <tr>
          <td id="L2834" data-line-number="2834"></td>
          <td id="LC2834"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L2835" data-line-number="2835"></td>
          <td id="LC2835"><span><span>//</span> The query pattern going through looks like this:</span></td>
        </tr>
        <tr>
          <td id="L2836" data-line-number="2836"></td>
          <td id="LC2836"><span><span>//</span> - ?abc;def;fgh=&#34;i j k&#34;&amp;&#39;l m n&#39;+opq</span></td>
        </tr>
        <tr>
          <td id="L2837" data-line-number="2837"></td>
          <td id="LC2837"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L2838" data-line-number="2838"></td>
          <td id="LC2838"><span>void</span> <span>scanToUrlEnd</span>(TCHAR *text, <span>int</span> textLen, <span>int</span> start, <span>int</span>* distance)</td>
        </tr>
        <tr>
          <td id="L2839" data-line-number="2839"></td>
          <td id="LC2839">{</td>
        </tr>
        <tr>
          <td id="L2840" data-line-number="2840"></td>
          <td id="LC2840">	<span>int</span> p = start;</td>
        </tr>
        <tr>
          <td id="L2841" data-line-number="2841"></td>
          <td id="LC2841">	TCHAR q = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2842" data-line-number="2842"></td>
          <td id="LC2842">	<span>enum</span> {<span>sHostAndPath</span>, <span>sQuery</span>, <span>sQueryAfterDelimiter</span>, <span>sQueryQuotes</span>, <span>sQueryAfterQuotes</span>, <span>sFragment</span>} s = <span>sHostAndPath</span>;</td>
        </tr>
        <tr>
          <td id="L2843" data-line-number="2843"></td>
          <td id="LC2843">	<span>while</span> (p &lt; textLen)</td>
        </tr>
        <tr>
          <td id="L2844" data-line-number="2844"></td>
          <td id="LC2844">	{</td>
        </tr>
        <tr>
          <td id="L2845" data-line-number="2845"></td>
          <td id="LC2845">		<span>switch</span> (s)</td>
        </tr>
        <tr>
          <td id="L2846" data-line-number="2846"></td>
          <td id="LC2846">		{</td>
        </tr>
        <tr>
          <td id="L2847" data-line-number="2847"></td>
          <td id="LC2847">			<span>case</span> <span>sHostAndPath</span>: </td>
        </tr>
        <tr>
          <td id="L2848" data-line-number="2848"></td>
          <td id="LC2848">				<span>if</span> (text [p] == <span><span>&#39;</span>?<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2849" data-line-number="2849"></td>
          <td id="LC2849">					s = <span>sQuery</span>;</td>
        </tr>
        <tr>
          <td id="L2850" data-line-number="2850"></td>
          <td id="LC2850">				<span>else</span> <span>if</span> (text [p] == <span><span>&#39;</span>#<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2851" data-line-number="2851"></td>
          <td id="LC2851">					s = <span>sFragment</span>;</td>
        </tr>
        <tr>
          <td id="L2852" data-line-number="2852"></td>
          <td id="LC2852">				<span>else</span> <span>if</span> (!<span>isUrlTextChar</span> (text [p]))</td>
        </tr>
        <tr>
          <td id="L2853" data-line-number="2853"></td>
          <td id="LC2853">				{</td>
        </tr>
        <tr>
          <td id="L2854" data-line-number="2854"></td>
          <td id="LC2854">					*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2855" data-line-number="2855"></td>
          <td id="LC2855">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2856" data-line-number="2856"></td>
          <td id="LC2856">				}</td>
        </tr>
        <tr>
          <td id="L2857" data-line-number="2857"></td>
          <td id="LC2857">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2858" data-line-number="2858"></td>
          <td id="LC2858">
</td>
        </tr>
        <tr>
          <td id="L2859" data-line-number="2859"></td>
          <td id="LC2859">			<span>case</span> <span>sQuery</span>:</td>
        </tr>
        <tr>
          <td id="L2860" data-line-number="2860"></td>
          <td id="LC2860">				<span>if</span> (text [p] == <span><span>&#39;</span>#<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2861" data-line-number="2861"></td>
          <td id="LC2861">					s = <span>sFragment</span>;</td>
        </tr>
        <tr>
          <td id="L2862" data-line-number="2862"></td>
          <td id="LC2862">				<span>else</span> <span>if</span> (<span>isUrlQueryDelimiter</span> (text [p]))</td>
        </tr>
        <tr>
          <td id="L2863" data-line-number="2863"></td>
          <td id="LC2863">					s = <span>sQueryAfterDelimiter</span>;</td>
        </tr>
        <tr>
          <td id="L2864" data-line-number="2864"></td>
          <td id="LC2864">				<span>else</span> <span>if</span> (!<span>isUrlTextChar</span>(text [p]))</td>
        </tr>
        <tr>
          <td id="L2865" data-line-number="2865"></td>
          <td id="LC2865">				{</td>
        </tr>
        <tr>
          <td id="L2866" data-line-number="2866"></td>
          <td id="LC2866">					*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2867" data-line-number="2867"></td>
          <td id="LC2867">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2868" data-line-number="2868"></td>
          <td id="LC2868">				}</td>
        </tr>
        <tr>
          <td id="L2869" data-line-number="2869"></td>
          <td id="LC2869">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2870" data-line-number="2870"></td>
          <td id="LC2870">
</td>
        </tr>
        <tr>
          <td id="L2871" data-line-number="2871"></td>
          <td id="LC2871">			<span>case</span> <span>sQueryAfterDelimiter</span>:</td>
        </tr>
        <tr>
          <td id="L2872" data-line-number="2872"></td>
          <td id="LC2872">				<span>if</span> ((text [p] == <span><span>&#39;</span><span>\&#39;</span><span>&#39;</span></span>) || (text [p] == <span><span>&#39;</span>&#34;<span>&#39;</span></span>) || (text [p] == <span><span>&#39;</span>`<span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L2873" data-line-number="2873"></td>
          <td id="LC2873">				{</td>
        </tr>
        <tr>
          <td id="L2874" data-line-number="2874"></td>
          <td id="LC2874">					q = text [p];</td>
        </tr>
        <tr>
          <td id="L2875" data-line-number="2875"></td>
          <td id="LC2875">					s = <span>sQueryQuotes</span>;</td>
        </tr>
        <tr>
          <td id="L2876" data-line-number="2876"></td>
          <td id="LC2876">				}</td>
        </tr>
        <tr>
          <td id="L2877" data-line-number="2877"></td>
          <td id="LC2877">				<span>else</span> <span>if</span> (text [p] == <span><span>&#39;</span>(<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2878" data-line-number="2878"></td>
          <td id="LC2878">				{</td>
        </tr>
        <tr>
          <td id="L2879" data-line-number="2879"></td>
          <td id="LC2879">					q = <span><span>&#39;</span>)<span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L2880" data-line-number="2880"></td>
          <td id="LC2880">					s = <span>sQueryQuotes</span>;</td>
        </tr>
        <tr>
          <td id="L2881" data-line-number="2881"></td>
          <td id="LC2881">				}</td>
        </tr>
        <tr>
          <td id="L2882" data-line-number="2882"></td>
          <td id="LC2882">				<span>else</span> <span>if</span> (text [p] == <span><span>&#39;</span>[<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2883" data-line-number="2883"></td>
          <td id="LC2883">				{</td>
        </tr>
        <tr>
          <td id="L2884" data-line-number="2884"></td>
          <td id="LC2884">					q = <span><span>&#39;</span>]<span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L2885" data-line-number="2885"></td>
          <td id="LC2885">					s = <span>sQueryQuotes</span>;</td>
        </tr>
        <tr>
          <td id="L2886" data-line-number="2886"></td>
          <td id="LC2886">				}</td>
        </tr>
        <tr>
          <td id="L2887" data-line-number="2887"></td>
          <td id="LC2887">				<span>else</span> <span>if</span> (text [p] == <span><span>&#39;</span>{<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2888" data-line-number="2888"></td>
          <td id="LC2888">				{</td>
        </tr>
        <tr>
          <td id="L2889" data-line-number="2889"></td>
          <td id="LC2889">					q = <span><span>&#39;</span>}<span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L2890" data-line-number="2890"></td>
          <td id="LC2890">					s = <span>sQueryQuotes</span>;</td>
        </tr>
        <tr>
          <td id="L2891" data-line-number="2891"></td>
          <td id="LC2891">				}</td>
        </tr>
        <tr>
          <td id="L2892" data-line-number="2892"></td>
          <td id="LC2892">				<span>else</span> <span>if</span> (<span>isUrlTextChar</span>(text [p]))</td>
        </tr>
        <tr>
          <td id="L2893" data-line-number="2893"></td>
          <td id="LC2893">					s = <span>sQuery</span>;</td>
        </tr>
        <tr>
          <td id="L2894" data-line-number="2894"></td>
          <td id="LC2894">				<span>else</span></td>
        </tr>
        <tr>
          <td id="L2895" data-line-number="2895"></td>
          <td id="LC2895">				{</td>
        </tr>
        <tr>
          <td id="L2896" data-line-number="2896"></td>
          <td id="LC2896">					*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2897" data-line-number="2897"></td>
          <td id="LC2897">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2898" data-line-number="2898"></td>
          <td id="LC2898">				}</td>
        </tr>
        <tr>
          <td id="L2899" data-line-number="2899"></td>
          <td id="LC2899">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2900" data-line-number="2900"></td>
          <td id="LC2900">
</td>
        </tr>
        <tr>
          <td id="L2901" data-line-number="2901"></td>
          <td id="LC2901">			<span>case</span> <span>sQueryQuotes</span>:</td>
        </tr>
        <tr>
          <td id="L2902" data-line-number="2902"></td>
          <td id="LC2902">				<span>if</span> (text [p] &lt; <span><span>&#39;</span> <span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L2903" data-line-number="2903"></td>
          <td id="LC2903">				{</td>
        </tr>
        <tr>
          <td id="L2904" data-line-number="2904"></td>
          <td id="LC2904">					*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2905" data-line-number="2905"></td>
          <td id="LC2905">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2906" data-line-number="2906"></td>
          <td id="LC2906">				}</td>
        </tr>
        <tr>
          <td id="L2907" data-line-number="2907"></td>
          <td id="LC2907">				<span>if</span> (text [p] == q)</td>
        </tr>
        <tr>
          <td id="L2908" data-line-number="2908"></td>
          <td id="LC2908">					s = <span>sQueryAfterQuotes</span>;</td>
        </tr>
        <tr>
          <td id="L2909" data-line-number="2909"></td>
          <td id="LC2909">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2910" data-line-number="2910"></td>
          <td id="LC2910">	</td>
        </tr>
        <tr>
          <td id="L2911" data-line-number="2911"></td>
          <td id="LC2911">			<span>case</span> <span>sQueryAfterQuotes</span>:</td>
        </tr>
        <tr>
          <td id="L2912" data-line-number="2912"></td>
          <td id="LC2912">				<span>if</span> (<span>isUrlQueryDelimiter</span> (text [p]))</td>
        </tr>
        <tr>
          <td id="L2913" data-line-number="2913"></td>
          <td id="LC2913">					s = <span>sQueryAfterDelimiter</span>;</td>
        </tr>
        <tr>
          <td id="L2914" data-line-number="2914"></td>
          <td id="LC2914">				<span>else</span></td>
        </tr>
        <tr>
          <td id="L2915" data-line-number="2915"></td>
          <td id="LC2915">				{</td>
        </tr>
        <tr>
          <td id="L2916" data-line-number="2916"></td>
          <td id="LC2916">					*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2917" data-line-number="2917"></td>
          <td id="LC2917">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2918" data-line-number="2918"></td>
          <td id="LC2918">				}</td>
        </tr>
        <tr>
          <td id="L2919" data-line-number="2919"></td>
          <td id="LC2919">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2920" data-line-number="2920"></td>
          <td id="LC2920">
</td>
        </tr>
        <tr>
          <td id="L2921" data-line-number="2921"></td>
          <td id="LC2921">			<span>case</span> <span>sFragment</span>:</td>
        </tr>
        <tr>
          <td id="L2922" data-line-number="2922"></td>
          <td id="LC2922">				<span>if</span> (!<span>isUrlTextChar</span>(text [p]))</td>
        </tr>
        <tr>
          <td id="L2923" data-line-number="2923"></td>
          <td id="LC2923">				{</td>
        </tr>
        <tr>
          <td id="L2924" data-line-number="2924"></td>
          <td id="LC2924">					*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2925" data-line-number="2925"></td>
          <td id="LC2925">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L2926" data-line-number="2926"></td>
          <td id="LC2926">				}</td>
        </tr>
        <tr>
          <td id="L2927" data-line-number="2927"></td>
          <td id="LC2927">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L2928" data-line-number="2928"></td>
          <td id="LC2928">		}</td>
        </tr>
        <tr>
          <td id="L2929" data-line-number="2929"></td>
          <td id="LC2929">		p++;</td>
        </tr>
        <tr>
          <td id="L2930" data-line-number="2930"></td>
          <td id="LC2930">	}</td>
        </tr>
        <tr>
          <td id="L2931" data-line-number="2931"></td>
          <td id="LC2931">	*distance = p - start;</td>
        </tr>
        <tr>
          <td id="L2932" data-line-number="2932"></td>
          <td id="LC2932">}</td>
        </tr>
        <tr>
          <td id="L2933" data-line-number="2933"></td>
          <td id="LC2933">
</td>
        </tr>
        <tr>
          <td id="L2934" data-line-number="2934"></td>
          <td id="LC2934"><span><span>//</span> removeUnwantedTrailingCharFromUrl removes a single unwanted trailing character from an URL.</span></td>
        </tr>
        <tr>
          <td id="L2935" data-line-number="2935"></td>
          <td id="LC2935"><span><span>//</span> It has to be called repeatedly, until it returns false, meaning that all unwanted characters are gone.</span></td>
        </tr>
        <tr>
          <td id="L2936" data-line-number="2936"></td>
          <td id="LC2936"><span>bool</span> <span>removeUnwantedTrailingCharFromUrl</span> (TCHAR <span>const</span> *text, <span>int</span>* length)</td>
        </tr>
        <tr>
          <td id="L2937" data-line-number="2937"></td>
          <td id="LC2937">{</td>
        </tr>
        <tr>
          <td id="L2938" data-line-number="2938"></td>
          <td id="LC2938">	<span>int</span> l = *length - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L2939" data-line-number="2939"></td>
          <td id="LC2939">	<span>if</span> (l &lt;= <span>0</span>) <span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2940" data-line-number="2940"></td>
          <td id="LC2940">	{ <span><span>//</span> remove unwanted single characters</span></td>
        </tr>
        <tr>
          <td id="L2941" data-line-number="2941"></td>
          <td id="LC2941">		<span>const</span> TCHAR *singleChars = <span><span>L&#34;</span>.,:;?!#<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L2942" data-line-number="2942"></td>
          <td id="LC2942">		<span>for</span> (<span>int</span> i = <span>0</span>; singleChars [i]; i++)</td>
        </tr>
        <tr>
          <td id="L2943" data-line-number="2943"></td>
          <td id="LC2943">			<span>if</span> (text [l] == singleChars [i])</td>
        </tr>
        <tr>
          <td id="L2944" data-line-number="2944"></td>
          <td id="LC2944">			{</td>
        </tr>
        <tr>
          <td id="L2945" data-line-number="2945"></td>
          <td id="LC2945">				*length = l;</td>
        </tr>
        <tr>
          <td id="L2946" data-line-number="2946"></td>
          <td id="LC2946">				<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2947" data-line-number="2947"></td>
          <td id="LC2947">			}</td>
        </tr>
        <tr>
          <td id="L2948" data-line-number="2948"></td>
          <td id="LC2948">	}</td>
        </tr>
        <tr>
          <td id="L2949" data-line-number="2949"></td>
          <td id="LC2949">	{ <span><span>//</span> remove unwanted closing parenthesis</span></td>
        </tr>
        <tr>
          <td id="L2950" data-line-number="2950"></td>
          <td id="LC2950">		<span>const</span> TCHAR *closingParenthesis = <span><span>L&#34;</span>)]<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L2951" data-line-number="2951"></td>
          <td id="LC2951">		<span>const</span> TCHAR *openingParenthesis = <span><span>L&#34;</span>([<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L2952" data-line-number="2952"></td>
          <td id="LC2952">		<span>for</span> (<span>int</span> i = <span>0</span>; closingParenthesis [i]; i++)</td>
        </tr>
        <tr>
          <td id="L2953" data-line-number="2953"></td>
          <td id="LC2953">			<span>if</span> (text [l] == closingParenthesis [i])</td>
        </tr>
        <tr>
          <td id="L2954" data-line-number="2954"></td>
          <td id="LC2954">			{</td>
        </tr>
        <tr>
          <td id="L2955" data-line-number="2955"></td>
          <td id="LC2955">				<span>int</span> count = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2956" data-line-number="2956"></td>
          <td id="LC2956">				<span>for</span> (<span>int</span> j = l - <span>1</span>; j &gt;= <span>0</span>; j--)</td>
        </tr>
        <tr>
          <td id="L2957" data-line-number="2957"></td>
          <td id="LC2957">				{</td>
        </tr>
        <tr>
          <td id="L2958" data-line-number="2958"></td>
          <td id="LC2958">					<span>if</span> (text [j] == closingParenthesis [i])</td>
        </tr>
        <tr>
          <td id="L2959" data-line-number="2959"></td>
          <td id="LC2959">						count++;</td>
        </tr>
        <tr>
          <td id="L2960" data-line-number="2960"></td>
          <td id="LC2960">					<span>if</span> (text[j] == openingParenthesis[i])</td>
        </tr>
        <tr>
          <td id="L2961" data-line-number="2961"></td>
          <td id="LC2961">					{</td>
        </tr>
        <tr>
          <td id="L2962" data-line-number="2962"></td>
          <td id="LC2962">						<span>if</span> (count &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L2963" data-line-number="2963"></td>
          <td id="LC2963">							count--;</td>
        </tr>
        <tr>
          <td id="L2964" data-line-number="2964"></td>
          <td id="LC2964">						<span>else</span></td>
        </tr>
        <tr>
          <td id="L2965" data-line-number="2965"></td>
          <td id="LC2965">							<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2966" data-line-number="2966"></td>
          <td id="LC2966">					}</td>
        </tr>
        <tr>
          <td id="L2967" data-line-number="2967"></td>
          <td id="LC2967">				}</td>
        </tr>
        <tr>
          <td id="L2968" data-line-number="2968"></td>
          <td id="LC2968">				<span>if</span> (count != <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L2969" data-line-number="2969"></td>
          <td id="LC2969">					<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2970" data-line-number="2970"></td>
          <td id="LC2970">				*length = l;</td>
        </tr>
        <tr>
          <td id="L2971" data-line-number="2971"></td>
          <td id="LC2971">				<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L2972" data-line-number="2972"></td>
          <td id="LC2972">			}</td>
        </tr>
        <tr>
          <td id="L2973" data-line-number="2973"></td>
          <td id="LC2973">	}</td>
        </tr>
        <tr>
          <td id="L2974" data-line-number="2974"></td>
          <td id="LC2974">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2975" data-line-number="2975"></td>
          <td id="LC2975">}</td>
        </tr>
        <tr>
          <td id="L2976" data-line-number="2976"></td>
          <td id="LC2976">
</td>
        </tr>
        <tr>
          <td id="L2977" data-line-number="2977"></td>
          <td id="LC2977"><span><span>//</span> isUrl checks, whether there is a valid URL at &lt;text [start]&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2978" data-line-number="2978"></td>
          <td id="LC2978"><span><span>//</span> If yes:</span></td>
        </tr>
        <tr>
          <td id="L2979" data-line-number="2979"></td>
          <td id="LC2979"><span><span>//</span> - True is returned.</span></td>
        </tr>
        <tr>
          <td id="L2980" data-line-number="2980"></td>
          <td id="LC2980"><span><span>//</span> - The length of the URL is stored in &lt;segmentLen&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2981" data-line-number="2981"></td>
          <td id="LC2981"><span><span>//</span> If no:</span></td>
        </tr>
        <tr>
          <td id="L2982" data-line-number="2982"></td>
          <td id="LC2982"><span><span>//</span> - False is returned.</span></td>
        </tr>
        <tr>
          <td id="L2983" data-line-number="2983"></td>
          <td id="LC2983"><span><span>//</span> - The number of characters between &lt;text[start]&gt; and the next URL is stored in &lt;segementLen&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2984" data-line-number="2984"></td>
          <td id="LC2984"><span><span>//</span> - If no URL is found at all, then the number of characters between &lt;text[start]&gt; and the end of text is stored in &lt;segmentLen&gt;.</span></td>
        </tr>
        <tr>
          <td id="L2985" data-line-number="2985"></td>
          <td id="LC2985"><span>bool</span> <span>isUrl</span>(TCHAR * text, <span>int</span> textLen, <span>int</span> start, <span>int</span>* segmentLen)</td>
        </tr>
        <tr>
          <td id="L2986" data-line-number="2986"></td>
          <td id="LC2986">{</td>
        </tr>
        <tr>
          <td id="L2987" data-line-number="2987"></td>
          <td id="LC2987">	<span>int</span> dist = <span>0</span>, schemeLen = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2988" data-line-number="2988"></td>
          <td id="LC2988">	<span>if</span> (<span>scanToUrlStart</span>(text, textLen, start, &amp; dist, &amp; schemeLen))</td>
        </tr>
        <tr>
          <td id="L2989" data-line-number="2989"></td>
          <td id="LC2989">	{</td>
        </tr>
        <tr>
          <td id="L2990" data-line-number="2990"></td>
          <td id="LC2990">		<span>if</span> (dist)</td>
        </tr>
        <tr>
          <td id="L2991" data-line-number="2991"></td>
          <td id="LC2991">		{</td>
        </tr>
        <tr>
          <td id="L2992" data-line-number="2992"></td>
          <td id="LC2992">			*segmentLen = dist;</td>
        </tr>
        <tr>
          <td id="L2993" data-line-number="2993"></td>
          <td id="LC2993">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L2994" data-line-number="2994"></td>
          <td id="LC2994">		}</td>
        </tr>
        <tr>
          <td id="L2995" data-line-number="2995"></td>
          <td id="LC2995">		<span>int</span> len = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L2996" data-line-number="2996"></td>
          <td id="LC2996">		<span>scanToUrlEnd</span> (text, textLen, start + schemeLen, &amp; len);</td>
        </tr>
        <tr>
          <td id="L2997" data-line-number="2997"></td>
          <td id="LC2997">		<span>if</span> (len)</td>
        </tr>
        <tr>
          <td id="L2998" data-line-number="2998"></td>
          <td id="LC2998">		{</td>
        </tr>
        <tr>
          <td id="L2999" data-line-number="2999"></td>
          <td id="LC2999">			len += schemeLen;</td>
        </tr>
        <tr>
          <td id="L3000" data-line-number="3000"></td>
          <td id="LC3000">			URL_COMPONENTS url;</td>
        </tr>
        <tr>
          <td id="L3001" data-line-number="3001"></td>
          <td id="LC3001">			<span>memset</span> (&amp; url, <span>0</span>, <span>sizeof</span>(url));</td>
        </tr>
        <tr>
          <td id="L3002" data-line-number="3002"></td>
          <td id="LC3002">			url.<span>dwStructSize</span> = <span>sizeof</span>(url);</td>
        </tr>
        <tr>
          <td id="L3003" data-line-number="3003"></td>
          <td id="LC3003">			<span>bool</span> r  = <span>InternetCrackUrl</span>(&amp; text [start], len, <span>0</span>, &amp; url) &amp;&amp; <span>isUrlSchemeSupported</span>(url.<span>nScheme</span>, &amp; text [start]);</td>
        </tr>
        <tr>
          <td id="L3004" data-line-number="3004"></td>
          <td id="LC3004">			<span>if</span> (r)</td>
        </tr>
        <tr>
          <td id="L3005" data-line-number="3005"></td>
          <td id="LC3005">			{</td>
        </tr>
        <tr>
          <td id="L3006" data-line-number="3006"></td>
          <td id="LC3006">				<span>while</span> (<span>removeUnwantedTrailingCharFromUrl</span> (&amp; text [start], &amp; len));</td>
        </tr>
        <tr>
          <td id="L3007" data-line-number="3007"></td>
          <td id="LC3007">				*segmentLen = len;</td>
        </tr>
        <tr>
          <td id="L3008" data-line-number="3008"></td>
          <td id="LC3008">				<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L3009" data-line-number="3009"></td>
          <td id="LC3009">			}</td>
        </tr>
        <tr>
          <td id="L3010" data-line-number="3010"></td>
          <td id="LC3010">		}</td>
        </tr>
        <tr>
          <td id="L3011" data-line-number="3011"></td>
          <td id="LC3011">		len = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3012" data-line-number="3012"></td>
          <td id="LC3012">		<span>int</span> lMax = textLen - start;</td>
        </tr>
        <tr>
          <td id="L3013" data-line-number="3013"></td>
          <td id="LC3013">		<span>while</span> (<span>isUrlSchemeStartChar</span>(text[start+len]) &amp;&amp; (len &lt; lMax)) len++;</td>
        </tr>
        <tr>
          <td id="L3014" data-line-number="3014"></td>
          <td id="LC3014">		*segmentLen = len;</td>
        </tr>
        <tr>
          <td id="L3015" data-line-number="3015"></td>
          <td id="LC3015">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L3016" data-line-number="3016"></td>
          <td id="LC3016">	}</td>
        </tr>
        <tr>
          <td id="L3017" data-line-number="3017"></td>
          <td id="LC3017">	*segmentLen = dist;</td>
        </tr>
        <tr>
          <td id="L3018" data-line-number="3018"></td>
          <td id="LC3018">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L3019" data-line-number="3019"></td>
          <td id="LC3019">}</td>
        </tr>
        <tr>
          <td id="L3020" data-line-number="3020"></td>
          <td id="LC3020">
</td>
        </tr>
        <tr>
          <td id="L3021" data-line-number="3021"></td>
          <td id="LC3021"><span>void</span> <span>Notepad_plus::addHotSpot</span>(ScintillaEditView* view)</td>
        </tr>
        <tr>
          <td id="L3022" data-line-number="3022"></td>
          <td id="LC3022">{</td>
        </tr>
        <tr>
          <td id="L3023" data-line-number="3023"></td>
          <td id="LC3023">	ScintillaEditView* pView = view ? view : _pEditView;</td>
        </tr>
        <tr>
          <td id="L3024" data-line-number="3024"></td>
          <td id="LC3024">	Buffer* currentBuf = pView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L3025" data-line-number="3025"></td>
          <td id="LC3025">
</td>
        </tr>
        <tr>
          <td id="L3026" data-line-number="3026"></td>
          <td id="LC3026">	<span>int</span> urlAction = (<span>NppParameters::getInstance</span>()).<span>getNppGUI</span>().<span>_styleURL</span>;</td>
        </tr>
        <tr>
          <td id="L3027" data-line-number="3027"></td>
          <td id="LC3027">	LPARAM indicStyle = (urlAction == urlNoUnderLineFg) || (urlAction == urlNoUnderLineBg) ? INDIC_HIDDEN : INDIC_PLAIN;</td>
        </tr>
        <tr>
          <td id="L3028" data-line-number="3028"></td>
          <td id="LC3028">	LPARAM indicHoverStyle = (urlAction == urlNoUnderLineBg) || (urlAction == urlUnderLineBg) ? INDIC_FULLBOX : INDIC_EXPLORERLINK;</td>
        </tr>
        <tr>
          <td id="L3029" data-line-number="3029"></td>
          <td id="LC3029">	LPARAM indicStyleCur = pView-&gt;<span>execute</span>(SCI_INDICGETSTYLE, URL_INDIC);</td>
        </tr>
        <tr>
          <td id="L3030" data-line-number="3030"></td>
          <td id="LC3030">	LPARAM indicHoverStyleCur = pView-&gt;<span>execute</span>(SCI_INDICGETHOVERSTYLE, URL_INDIC);</td>
        </tr>
        <tr>
          <td id="L3031" data-line-number="3031"></td>
          <td id="LC3031">
</td>
        </tr>
        <tr>
          <td id="L3032" data-line-number="3032"></td>
          <td id="LC3032">	<span>if</span> ((indicStyleCur != indicStyle) || (indicHoverStyleCur != indicHoverStyle))</td>
        </tr>
        <tr>
          <td id="L3033" data-line-number="3033"></td>
          <td id="LC3033">	{</td>
        </tr>
        <tr>
          <td id="L3034" data-line-number="3034"></td>
          <td id="LC3034">		pView-&gt;<span>execute</span>(SCI_INDICSETSTYLE, URL_INDIC, indicStyle);</td>
        </tr>
        <tr>
          <td id="L3035" data-line-number="3035"></td>
          <td id="LC3035">		pView-&gt;<span>execute</span>(SCI_INDICSETHOVERSTYLE, URL_INDIC, indicHoverStyle);</td>
        </tr>
        <tr>
          <td id="L3036" data-line-number="3036"></td>
          <td id="LC3036">		pView-&gt;<span>execute</span>(SCI_INDICSETALPHA, URL_INDIC, <span>70</span>);</td>
        </tr>
        <tr>
          <td id="L3037" data-line-number="3037"></td>
          <td id="LC3037">		pView-&gt;<span>execute</span>(SCI_INDICSETFLAGS, URL_INDIC, SC_INDICFLAG_VALUEFORE);</td>
        </tr>
        <tr>
          <td id="L3038" data-line-number="3038"></td>
          <td id="LC3038">	}</td>
        </tr>
        <tr>
          <td id="L3039" data-line-number="3039"></td>
          <td id="LC3039">
</td>
        </tr>
        <tr>
          <td id="L3040" data-line-number="3040"></td>
          <td id="LC3040">	<span>intptr_t</span> startPos = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3041" data-line-number="3041"></td>
          <td id="LC3041">	<span>intptr_t</span> endPos = -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3042" data-line-number="3042"></td>
          <td id="LC3042">	pView-&gt;<span>getVisibleStartAndEndPosition</span>(&amp;startPos, &amp;endPos);</td>
        </tr>
        <tr>
          <td id="L3043" data-line-number="3043"></td>
          <td id="LC3043">	<span>if</span> (startPos &gt;= endPos) <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3044" data-line-number="3044"></td>
          <td id="LC3044">	pView-&gt;<span>execute</span>(SCI_SETINDICATORCURRENT, URL_INDIC);</td>
        </tr>
        <tr>
          <td id="L3045" data-line-number="3045"></td>
          <td id="LC3045">	<span>if</span> (urlAction == urlDisable || !currentBuf-&gt;<span>allowClickableLink</span>())</td>
        </tr>
        <tr>
          <td id="L3046" data-line-number="3046"></td>
          <td id="LC3046">	{</td>
        </tr>
        <tr>
          <td id="L3047" data-line-number="3047"></td>
          <td id="LC3047">		pView-&gt;<span>execute</span>(SCI_INDICATORCLEARRANGE, startPos, endPos - startPos);</td>
        </tr>
        <tr>
          <td id="L3048" data-line-number="3048"></td>
          <td id="LC3048">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3049" data-line-number="3049"></td>
          <td id="LC3049">	}</td>
        </tr>
        <tr>
          <td id="L3050" data-line-number="3050"></td>
          <td id="LC3050">
</td>
        </tr>
        <tr>
          <td id="L3051" data-line-number="3051"></td>
          <td id="LC3051">	LRESULT indicFore = pView-&gt;<span>execute</span>(SCI_STYLEGETFORE, STYLE_DEFAULT);</td>
        </tr>
        <tr>
          <td id="L3052" data-line-number="3052"></td>
          <td id="LC3052">	pView-&gt;<span>execute</span>(SCI_SETINDICATORVALUE, indicFore);</td>
        </tr>
        <tr>
          <td id="L3053" data-line-number="3053"></td>
          <td id="LC3053">
</td>
        </tr>
        <tr>
          <td id="L3054" data-line-number="3054"></td>
          <td id="LC3054">	UINT cp = <span>static_cast</span>&lt;UINT&gt;(pView-&gt;<span>execute</span>(SCI_GETCODEPAGE));</td>
        </tr>
        <tr>
          <td id="L3055" data-line-number="3055"></td>
          <td id="LC3055">	<span>char</span> *encodedText = <span>new</span> <span>char</span>[endPos - startPos + <span>1</span>];</td>
        </tr>
        <tr>
          <td id="L3056" data-line-number="3056"></td>
          <td id="LC3056">	pView-&gt;<span>getText</span>(encodedText, startPos, endPos);</td>
        </tr>
        <tr>
          <td id="L3057" data-line-number="3057"></td>
          <td id="LC3057">	TCHAR *wideText = <span>new</span> TCHAR[endPos - startPos + <span>1</span>];</td>
        </tr>
        <tr>
          <td id="L3058" data-line-number="3058"></td>
          <td id="LC3058">	<span>int</span> wideTextLen = <span>MultiByteToWideChar</span>(cp, <span>0</span>, encodedText, <span>static_cast</span>&lt;<span>int</span>&gt;(endPos - startPos + <span>1</span>), (LPWSTR) wideText, <span>static_cast</span>&lt;<span>int</span>&gt;(endPos - startPos + <span>1</span>)) - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3059" data-line-number="3059"></td>
          <td id="LC3059">	<span>delete[]</span> encodedText;</td>
        </tr>
        <tr>
          <td id="L3060" data-line-number="3060"></td>
          <td id="LC3060">	<span>if</span> (wideTextLen &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3061" data-line-number="3061"></td>
          <td id="LC3061">	{</td>
        </tr>
        <tr>
          <td id="L3062" data-line-number="3062"></td>
          <td id="LC3062">		<span>int</span> startWide = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3063" data-line-number="3063"></td>
          <td id="LC3063">		<span>int</span> lenWide = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3064" data-line-number="3064"></td>
          <td id="LC3064">		<span>int</span> startEncoded = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3065" data-line-number="3065"></td>
          <td id="LC3065">		<span>int</span> lenEncoded = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3066" data-line-number="3066"></td>
          <td id="LC3066">		<span>while</span> (<span>true</span>)</td>
        </tr>
        <tr>
          <td id="L3067" data-line-number="3067"></td>
          <td id="LC3067">		{</td>
        </tr>
        <tr>
          <td id="L3068" data-line-number="3068"></td>
          <td id="LC3068">			<span>bool</span> r = <span>isUrl</span>(wideText, wideTextLen, startWide, &amp; lenWide);</td>
        </tr>
        <tr>
          <td id="L3069" data-line-number="3069"></td>
          <td id="LC3069">			<span>if</span> (lenWide &lt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3070" data-line-number="3070"></td>
          <td id="LC3070">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L3071" data-line-number="3071"></td>
          <td id="LC3071">			<span>assert</span> ((startWide + lenWide) &lt;= wideTextLen);</td>
        </tr>
        <tr>
          <td id="L3072" data-line-number="3072"></td>
          <td id="LC3072">			lenEncoded = <span>WideCharToMultiByte</span>(cp, <span>0</span>, &amp; wideText [startWide], lenWide, <span>NULL</span>, <span>0</span>, <span>NULL</span>, <span>NULL</span>);</td>
        </tr>
        <tr>
          <td id="L3073" data-line-number="3073"></td>
          <td id="LC3073">			<span>if</span> (r)</td>
        </tr>
        <tr>
          <td id="L3074" data-line-number="3074"></td>
          <td id="LC3074">				pView-&gt;<span>execute</span>(SCI_INDICATORFILLRANGE, startEncoded + startPos, lenEncoded);</td>
        </tr>
        <tr>
          <td id="L3075" data-line-number="3075"></td>
          <td id="LC3075">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L3076" data-line-number="3076"></td>
          <td id="LC3076">				pView-&gt;<span>execute</span>(SCI_INDICATORCLEARRANGE, startEncoded + startPos, lenEncoded);</td>
        </tr>
        <tr>
          <td id="L3077" data-line-number="3077"></td>
          <td id="LC3077">			startWide += lenWide;</td>
        </tr>
        <tr>
          <td id="L3078" data-line-number="3078"></td>
          <td id="LC3078">			startEncoded += lenEncoded;</td>
        </tr>
        <tr>
          <td id="L3079" data-line-number="3079"></td>
          <td id="LC3079">			<span>if</span> ((startWide &gt;= wideTextLen) || ((startEncoded + startPos) &gt;= endPos))</td>
        </tr>
        <tr>
          <td id="L3080" data-line-number="3080"></td>
          <td id="LC3080">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L3081" data-line-number="3081"></td>
          <td id="LC3081">		}</td>
        </tr>
        <tr>
          <td id="L3082" data-line-number="3082"></td>
          <td id="LC3082">		<span>assert</span> ((startEncoded + startPos) == endPos);</td>
        </tr>
        <tr>
          <td id="L3083" data-line-number="3083"></td>
          <td id="LC3083">		<span>assert</span> (startWide == wideTextLen);</td>
        </tr>
        <tr>
          <td id="L3084" data-line-number="3084"></td>
          <td id="LC3084">	}</td>
        </tr>
        <tr>
          <td id="L3085" data-line-number="3085"></td>
          <td id="LC3085">	<span>delete[]</span> wideText;</td>
        </tr>
        <tr>
          <td id="L3086" data-line-number="3086"></td>
          <td id="LC3086">}</td>
        </tr>
        <tr>
          <td id="L3087" data-line-number="3087"></td>
          <td id="LC3087">
</td>
        </tr>
        <tr>
          <td id="L3088" data-line-number="3088"></td>
          <td id="LC3088"><span>bool</span> <span>Notepad_plus::isConditionExprLine</span>(<span>intptr_t</span> lineNumber)</td>
        </tr>
        <tr>
          <td id="L3089" data-line-number="3089"></td>
          <td id="LC3089">{</td>
        </tr>
        <tr>
          <td id="L3090" data-line-number="3090"></td>
          <td id="LC3090">	<span>if</span> (lineNumber &lt; <span>0</span> || lineNumber &gt; _pEditView-&gt;<span>execute</span>(SCI_GETLINECOUNT))</td>
        </tr>
        <tr>
          <td id="L3091" data-line-number="3091"></td>
          <td id="LC3091">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L3092" data-line-number="3092"></td>
          <td id="LC3092">
</td>
        </tr>
        <tr>
          <td id="L3093" data-line-number="3093"></td>
          <td id="LC3093">	<span>auto</span> startPos = _pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, lineNumber);</td>
        </tr>
        <tr>
          <td id="L3094" data-line-number="3094"></td>
          <td id="LC3094">	<span>auto</span> endPos = _pEditView-&gt;<span>execute</span>(SCI_GETLINEENDPOSITION, lineNumber);</td>
        </tr>
        <tr>
          <td id="L3095" data-line-number="3095"></td>
          <td id="LC3095">	_pEditView-&gt;<span>execute</span>(SCI_SETSEARCHFLAGS, SCFIND_REGEXP | SCFIND_POSIX);</td>
        </tr>
        <tr>
          <td id="L3096" data-line-number="3096"></td>
          <td id="LC3096">	_pEditView-&gt;<span>execute</span>(SCI_SETTARGETRANGE, startPos, endPos);</td>
        </tr>
        <tr>
          <td id="L3097" data-line-number="3097"></td>
          <td id="LC3097">
</td>
        </tr>
        <tr>
          <td id="L3098" data-line-number="3098"></td>
          <td id="LC3098">	<span>const</span> <span>char</span> ifElseForWhileExpr[] = <span><span>&#34;</span>((else[ <span>\t</span>]+)?if|for|while)[ <span>\t</span>]*[(].*[)][ <span>\t</span>]*|else[ <span>\t</span>]*<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L3099" data-line-number="3099"></td>
          <td id="LC3099">
</td>
        </tr>
        <tr>
          <td id="L3100" data-line-number="3100"></td>
          <td id="LC3100">	<span>auto</span> posFound = _pEditView-&gt;<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(ifElseForWhileExpr), <span>reinterpret_cast</span>&lt;LPARAM&gt;(ifElseForWhileExpr));</td>
        </tr>
        <tr>
          <td id="L3101" data-line-number="3101"></td>
          <td id="LC3101">	<span>if</span> (posFound &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3102" data-line-number="3102"></td>
          <td id="LC3102">	{</td>
        </tr>
        <tr>
          <td id="L3103" data-line-number="3103"></td>
          <td id="LC3103">		<span>auto</span> end = _pEditView-&gt;<span>execute</span>(SCI_GETTARGETEND);</td>
        </tr>
        <tr>
          <td id="L3104" data-line-number="3104"></td>
          <td id="LC3104">		<span>if</span> (end == endPos)</td>
        </tr>
        <tr>
          <td id="L3105" data-line-number="3105"></td>
          <td id="LC3105">			<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L3106" data-line-number="3106"></td>
          <td id="LC3106">	}</td>
        </tr>
        <tr>
          <td id="L3107" data-line-number="3107"></td>
          <td id="LC3107">
</td>
        </tr>
        <tr>
          <td id="L3108" data-line-number="3108"></td>
          <td id="LC3108">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L3109" data-line-number="3109"></td>
          <td id="LC3109">}</td>
        </tr>
        <tr>
          <td id="L3110" data-line-number="3110"></td>
          <td id="LC3110">
</td>
        </tr>
        <tr>
          <td id="L3111" data-line-number="3111"></td>
          <td id="LC3111"><span>intptr_t</span> <span>Notepad_plus::findMachedBracePos</span>(<span>size_t</span> startPos, <span>size_t</span> endPos, <span>char</span> targetSymbol, <span>char</span> matchedSymbol)</td>
        </tr>
        <tr>
          <td id="L3112" data-line-number="3112"></td>
          <td id="LC3112">{</td>
        </tr>
        <tr>
          <td id="L3113" data-line-number="3113"></td>
          <td id="LC3113">	<span>if</span> (startPos == endPos)</td>
        </tr>
        <tr>
          <td id="L3114" data-line-number="3114"></td>
          <td id="LC3114">		<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3115" data-line-number="3115"></td>
          <td id="LC3115">
</td>
        </tr>
        <tr>
          <td id="L3116" data-line-number="3116"></td>
          <td id="LC3116">	<span>if</span> (startPos &gt; endPos) <span><span>//</span> backward</span></td>
        </tr>
        <tr>
          <td id="L3117" data-line-number="3117"></td>
          <td id="LC3117">	{</td>
        </tr>
        <tr>
          <td id="L3118" data-line-number="3118"></td>
          <td id="LC3118">		<span>int</span> balance = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3119" data-line-number="3119"></td>
          <td id="LC3119">		<span>for</span> (<span>intptr_t</span> i = startPos; i &gt;= <span>static_cast</span>&lt;<span>intptr_t</span>&gt;(endPos); --i)</td>
        </tr>
        <tr>
          <td id="L3120" data-line-number="3120"></td>
          <td id="LC3120">		{</td>
        </tr>
        <tr>
          <td id="L3121" data-line-number="3121"></td>
          <td id="LC3121">			<span>char</span> aChar = <span>static_cast</span>&lt;<span>char</span>&gt;(_pEditView-&gt;<span>execute</span>(SCI_GETCHARAT, i));</td>
        </tr>
        <tr>
          <td id="L3122" data-line-number="3122"></td>
          <td id="LC3122">			<span>if</span> (aChar == targetSymbol)</td>
        </tr>
        <tr>
          <td id="L3123" data-line-number="3123"></td>
          <td id="LC3123">			{</td>
        </tr>
        <tr>
          <td id="L3124" data-line-number="3124"></td>
          <td id="LC3124">				<span>if</span> (balance == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3125" data-line-number="3125"></td>
          <td id="LC3125">					<span>return</span> i;</td>
        </tr>
        <tr>
          <td id="L3126" data-line-number="3126"></td>
          <td id="LC3126">				--balance;</td>
        </tr>
        <tr>
          <td id="L3127" data-line-number="3127"></td>
          <td id="LC3127">			}</td>
        </tr>
        <tr>
          <td id="L3128" data-line-number="3128"></td>
          <td id="LC3128">			<span>else</span> <span>if</span> (aChar == matchedSymbol)</td>
        </tr>
        <tr>
          <td id="L3129" data-line-number="3129"></td>
          <td id="LC3129">			{</td>
        </tr>
        <tr>
          <td id="L3130" data-line-number="3130"></td>
          <td id="LC3130">				++balance;</td>
        </tr>
        <tr>
          <td id="L3131" data-line-number="3131"></td>
          <td id="LC3131">			}</td>
        </tr>
        <tr>
          <td id="L3132" data-line-number="3132"></td>
          <td id="LC3132">		}</td>
        </tr>
        <tr>
          <td id="L3133" data-line-number="3133"></td>
          <td id="LC3133">	}</td>
        </tr>
        <tr>
          <td id="L3134" data-line-number="3134"></td>
          <td id="LC3134">	<span>else</span> <span><span>//</span> forward</span></td>
        </tr>
        <tr>
          <td id="L3135" data-line-number="3135"></td>
          <td id="LC3135">	{</td>
        </tr>
        <tr>
          <td id="L3136" data-line-number="3136"></td>
          <td id="LC3136">	}</td>
        </tr>
        <tr>
          <td id="L3137" data-line-number="3137"></td>
          <td id="LC3137">	<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3138" data-line-number="3138"></td>
          <td id="LC3138">}</td>
        </tr>
        <tr>
          <td id="L3139" data-line-number="3139"></td>
          <td id="LC3139">
</td>
        </tr>
        <tr>
          <td id="L3140" data-line-number="3140"></td>
          <td id="LC3140"><span>void</span> <span>Notepad_plus::maintainIndentation</span>(TCHAR ch)</td>
        </tr>
        <tr>
          <td id="L3141" data-line-number="3141"></td>
          <td id="LC3141">{</td>
        </tr>
        <tr>
          <td id="L3142" data-line-number="3142"></td>
          <td id="LC3142">	<span>intptr_t</span> eolMode = _pEditView-&gt;<span>execute</span>(SCI_GETEOLMODE);</td>
        </tr>
        <tr>
          <td id="L3143" data-line-number="3143"></td>
          <td id="LC3143">	<span>intptr_t</span> curLine = _pEditView-&gt;<span>getCurrentLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L3144" data-line-number="3144"></td>
          <td id="LC3144">	<span>intptr_t</span> prevLine = curLine - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3145" data-line-number="3145"></td>
          <td id="LC3145">	<span>intptr_t</span> indentAmountPrevLine = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3146" data-line-number="3146"></td>
          <td id="LC3146">	<span>intptr_t</span> tabWidth = _pEditView-&gt;<span>execute</span>(SCI_GETTABWIDTH);</td>
        </tr>
        <tr>
          <td id="L3147" data-line-number="3147"></td>
          <td id="LC3147">
</td>
        </tr>
        <tr>
          <td id="L3148" data-line-number="3148"></td>
          <td id="LC3148">	LangType type = _pEditView-&gt;<span>getCurrentBuffer</span>()-&gt;<span>getLangType</span>();</td>
        </tr>
        <tr>
          <td id="L3149" data-line-number="3149"></td>
          <td id="LC3149">	ExternalLexerAutoIndentMode autoIndentMode = ExternalLexerAutoIndentMode::Standard;</td>
        </tr>
        <tr>
          <td id="L3150" data-line-number="3150"></td>
          <td id="LC3150">
</td>
        </tr>
        <tr>
          <td id="L3151" data-line-number="3151"></td>
          <td id="LC3151">	<span><span>//</span> For external languages, query for custom auto-indentation funcionality</span></td>
        </tr>
        <tr>
          <td id="L3152" data-line-number="3152"></td>
          <td id="LC3152">	<span>if</span> (type &gt;= L_EXTERNAL)</td>
        </tr>
        <tr>
          <td id="L3153" data-line-number="3153"></td>
          <td id="LC3153">	{</td>
        </tr>
        <tr>
          <td id="L3154" data-line-number="3154"></td>
          <td id="LC3154">		NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L3155" data-line-number="3155"></td>
          <td id="LC3155">		autoIndentMode = nppParam.<span>getELCFromIndex</span>(type - L_EXTERNAL).<span>_autoIndentMode</span>;</td>
        </tr>
        <tr>
          <td id="L3156" data-line-number="3156"></td>
          <td id="LC3156">		<span>if</span> (autoIndentMode == ExternalLexerAutoIndentMode::Custom)</td>
        </tr>
        <tr>
          <td id="L3157" data-line-number="3157"></td>
          <td id="LC3157">			<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3158" data-line-number="3158"></td>
          <td id="LC3158">	}</td>
        </tr>
        <tr>
          <td id="L3159" data-line-number="3159"></td>
          <td id="LC3159">
</td>
        </tr>
        <tr>
          <td id="L3160" data-line-number="3160"></td>
          <td id="LC3160">	<span><span>//</span> Do not alter indentation if we were at the beginning of the line and we pressed Enter</span></td>
        </tr>
        <tr>
          <td id="L3161" data-line-number="3161"></td>
          <td id="LC3161">	<span>if</span> ((((eolMode == SC_EOL_CRLF || eolMode == SC_EOL_LF) &amp;&amp; ch == <span><span>&#39;</span><span>\n</span><span>&#39;</span></span>) ||</td>
        </tr>
        <tr>
          <td id="L3162" data-line-number="3162"></td>
          <td id="LC3162">		(eolMode == SC_EOL_CR &amp;&amp; ch == <span><span>&#39;</span><span>\r</span><span>&#39;</span></span>)) &amp;&amp; prevLine &gt;= <span>0</span> &amp;&amp; _pEditView-&gt;<span>getLineLength</span>(prevLine) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3163" data-line-number="3163"></td>
          <td id="LC3163">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3164" data-line-number="3164"></td>
          <td id="LC3164">
</td>
        </tr>
        <tr>
          <td id="L3165" data-line-number="3165"></td>
          <td id="LC3165">	<span>if</span> (type == L_C || type == L_CPP || type == L_JAVA || type == L_CS || type == L_OBJC ||</td>
        </tr>
        <tr>
          <td id="L3166" data-line-number="3166"></td>
          <td id="LC3166">		type == L_PHP || type == L_JS || type == L_JAVASCRIPT || type == L_JSP || type == L_CSS || type == L_PERL || </td>
        </tr>
        <tr>
          <td id="L3167" data-line-number="3167"></td>
          <td id="LC3167">		type == L_RUST || type == L_POWERSHELL || type == L_JSON || autoIndentMode == ExternalLexerAutoIndentMode::C_Like)</td>
        </tr>
        <tr>
          <td id="L3168" data-line-number="3168"></td>
          <td id="LC3168">	{</td>
        </tr>
        <tr>
          <td id="L3169" data-line-number="3169"></td>
          <td id="LC3169">		<span>if</span> (((eolMode == SC_EOL_CRLF || eolMode == SC_EOL_LF) &amp;&amp; ch == <span><span>&#39;</span><span>\n</span><span>&#39;</span></span>) ||</td>
        </tr>
        <tr>
          <td id="L3170" data-line-number="3170"></td>
          <td id="LC3170">			(eolMode == SC_EOL_CR &amp;&amp; ch == <span><span>&#39;</span><span>\r</span><span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L3171" data-line-number="3171"></td>
          <td id="LC3171">		{</td>
        </tr>
        <tr>
          <td id="L3172" data-line-number="3172"></td>
          <td id="LC3172">			<span><span>//</span> Search the non-empty previous line</span></td>
        </tr>
        <tr>
          <td id="L3173" data-line-number="3173"></td>
          <td id="LC3173">			<span>while</span> (prevLine &gt;= <span>0</span> &amp;&amp; _pEditView-&gt;<span>getLineLength</span>(prevLine) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3174" data-line-number="3174"></td>
          <td id="LC3174">				prevLine--;</td>
        </tr>
        <tr>
          <td id="L3175" data-line-number="3175"></td>
          <td id="LC3175">
</td>
        </tr>
        <tr>
          <td id="L3176" data-line-number="3176"></td>
          <td id="LC3176">			<span><span>//</span> Get previous line&#39;s Indent</span></td>
        </tr>
        <tr>
          <td id="L3177" data-line-number="3177"></td>
          <td id="LC3177">			<span>if</span> (prevLine &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3178" data-line-number="3178"></td>
          <td id="LC3178">			{</td>
        </tr>
        <tr>
          <td id="L3179" data-line-number="3179"></td>
          <td id="LC3179">				indentAmountPrevLine = _pEditView-&gt;<span>getLineIndent</span>(prevLine);</td>
        </tr>
        <tr>
          <td id="L3180" data-line-number="3180"></td>
          <td id="LC3180">			}</td>
        </tr>
        <tr>
          <td id="L3181" data-line-number="3181"></td>
          <td id="LC3181">
</td>
        </tr>
        <tr>
          <td id="L3182" data-line-number="3182"></td>
          <td id="LC3182">			<span><span>//</span> get previous char from current line</span></td>
        </tr>
        <tr>
          <td id="L3183" data-line-number="3183"></td>
          <td id="LC3183">			<span>intptr_t</span> prevPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS) - (eolMode == SC_EOL_CRLF ? <span>3</span> : <span>2</span>);</td>
        </tr>
        <tr>
          <td id="L3184" data-line-number="3184"></td>
          <td id="LC3184">			UCHAR prevChar = (UCHAR)_pEditView-&gt;<span>execute</span>(SCI_GETCHARAT, prevPos);</td>
        </tr>
        <tr>
          <td id="L3185" data-line-number="3185"></td>
          <td id="LC3185">			<span>auto</span> curPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L3186" data-line-number="3186"></td>
          <td id="LC3186">			UCHAR nextChar = (UCHAR)_pEditView-&gt;<span>execute</span>(SCI_GETCHARAT, curPos);</td>
        </tr>
        <tr>
          <td id="L3187" data-line-number="3187"></td>
          <td id="LC3187">
</td>
        </tr>
        <tr>
          <td id="L3188" data-line-number="3188"></td>
          <td id="LC3188">			<span>if</span> (prevChar == <span><span>&#39;</span>{<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L3189" data-line-number="3189"></td>
          <td id="LC3189">			{</td>
        </tr>
        <tr>
          <td id="L3190" data-line-number="3190"></td>
          <td id="LC3190">				<span>if</span> (nextChar == <span><span>&#39;</span>}<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L3191" data-line-number="3191"></td>
          <td id="LC3191">				{</td>
        </tr>
        <tr>
          <td id="L3192" data-line-number="3192"></td>
          <td id="LC3192">					<span>const</span> <span>char</span> *eolChars;</td>
        </tr>
        <tr>
          <td id="L3193" data-line-number="3193"></td>
          <td id="LC3193">					<span>if</span> (eolMode == SC_EOL_CRLF)</td>
        </tr>
        <tr>
          <td id="L3194" data-line-number="3194"></td>
          <td id="LC3194">						eolChars = <span><span>&#34;</span><span>\r\n</span><span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L3195" data-line-number="3195"></td>
          <td id="LC3195">					<span>else</span> <span>if</span> (eolMode == SC_EOL_LF)</td>
        </tr>
        <tr>
          <td id="L3196" data-line-number="3196"></td>
          <td id="LC3196">						eolChars = <span><span>&#34;</span><span>\n</span><span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L3197" data-line-number="3197"></td>
          <td id="LC3197">					<span>else</span></td>
        </tr>
        <tr>
          <td id="L3198" data-line-number="3198"></td>
          <td id="LC3198">						eolChars = <span><span>&#34;</span><span>\r</span><span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L3199" data-line-number="3199"></td>
          <td id="LC3199">
</td>
        </tr>
        <tr>
          <td id="L3200" data-line-number="3200"></td>
          <td id="LC3200">					_pEditView-&gt;<span>execute</span>(SCI_INSERTTEXT, _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS), <span>reinterpret_cast</span>&lt;LPARAM&gt;(eolChars));</td>
        </tr>
        <tr>
          <td id="L3201" data-line-number="3201"></td>
          <td id="LC3201">					_pEditView-&gt;<span>setLineIndent</span>(curLine + <span>1</span>, indentAmountPrevLine);</td>
        </tr>
        <tr>
          <td id="L3202" data-line-number="3202"></td>
          <td id="LC3202">				}</td>
        </tr>
        <tr>
          <td id="L3203" data-line-number="3203"></td>
          <td id="LC3203">				_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine + tabWidth);</td>
        </tr>
        <tr>
          <td id="L3204" data-line-number="3204"></td>
          <td id="LC3204">			}</td>
        </tr>
        <tr>
          <td id="L3205" data-line-number="3205"></td>
          <td id="LC3205">			<span>else</span> <span>if</span> (nextChar == <span><span>&#39;</span>{<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L3206" data-line-number="3206"></td>
          <td id="LC3206">			{</td>
        </tr>
        <tr>
          <td id="L3207" data-line-number="3207"></td>
          <td id="LC3207">				_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine);</td>
        </tr>
        <tr>
          <td id="L3208" data-line-number="3208"></td>
          <td id="LC3208">			}</td>
        </tr>
        <tr>
          <td id="L3209" data-line-number="3209"></td>
          <td id="LC3209">			<span><span>//</span> These languages do no support single line control structures without braces.</span></td>
        </tr>
        <tr>
          <td id="L3210" data-line-number="3210"></td>
          <td id="LC3210">			<span>else</span> <span>if</span> (type == L_PERL || type == L_RUST || type == L_POWERSHELL || type == L_JSON)</td>
        </tr>
        <tr>
          <td id="L3211" data-line-number="3211"></td>
          <td id="LC3211">			{</td>
        </tr>
        <tr>
          <td id="L3212" data-line-number="3212"></td>
          <td id="LC3212">				_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine);</td>
        </tr>
        <tr>
          <td id="L3213" data-line-number="3213"></td>
          <td id="LC3213">			}</td>
        </tr>
        <tr>
          <td id="L3214" data-line-number="3214"></td>
          <td id="LC3214">			<span>else</span> <span>if</span> (<span>isConditionExprLine</span>(prevLine))</td>
        </tr>
        <tr>
          <td id="L3215" data-line-number="3215"></td>
          <td id="LC3215">			{</td>
        </tr>
        <tr>
          <td id="L3216" data-line-number="3216"></td>
          <td id="LC3216">				_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine + tabWidth);</td>
        </tr>
        <tr>
          <td id="L3217" data-line-number="3217"></td>
          <td id="LC3217">			}</td>
        </tr>
        <tr>
          <td id="L3218" data-line-number="3218"></td>
          <td id="LC3218">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L3219" data-line-number="3219"></td>
          <td id="LC3219">			{</td>
        </tr>
        <tr>
          <td id="L3220" data-line-number="3220"></td>
          <td id="LC3220">				<span>if</span> (indentAmountPrevLine &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3221" data-line-number="3221"></td>
          <td id="LC3221">				{</td>
        </tr>
        <tr>
          <td id="L3222" data-line-number="3222"></td>
          <td id="LC3222">					<span>if</span> (prevLine &gt; <span>0</span> &amp;&amp; <span>isConditionExprLine</span>(prevLine - <span>1</span>))</td>
        </tr>
        <tr>
          <td id="L3223" data-line-number="3223"></td>
          <td id="LC3223">						_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine - tabWidth);</td>
        </tr>
        <tr>
          <td id="L3224" data-line-number="3224"></td>
          <td id="LC3224">					<span>else</span></td>
        </tr>
        <tr>
          <td id="L3225" data-line-number="3225"></td>
          <td id="LC3225">						_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine);</td>
        </tr>
        <tr>
          <td id="L3226" data-line-number="3226"></td>
          <td id="LC3226">				}</td>
        </tr>
        <tr>
          <td id="L3227" data-line-number="3227"></td>
          <td id="LC3227">			}</td>
        </tr>
        <tr>
          <td id="L3228" data-line-number="3228"></td>
          <td id="LC3228">		}</td>
        </tr>
        <tr>
          <td id="L3229" data-line-number="3229"></td>
          <td id="LC3229">		<span>else</span> <span>if</span> (ch == <span><span>&#39;</span>{<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L3230" data-line-number="3230"></td>
          <td id="LC3230">		{</td>
        </tr>
        <tr>
          <td id="L3231" data-line-number="3231"></td>
          <td id="LC3231">			<span><span>//</span> if no character in front of {, aligned with prev line&#39;s indentation</span></td>
        </tr>
        <tr>
          <td id="L3232" data-line-number="3232"></td>
          <td id="LC3232">			<span>auto</span> startPos = _pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, curLine);</td>
        </tr>
        <tr>
          <td id="L3233" data-line-number="3233"></td>
          <td id="LC3233">			LRESULT endPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L3234" data-line-number="3234"></td>
          <td id="LC3234">
</td>
        </tr>
        <tr>
          <td id="L3235" data-line-number="3235"></td>
          <td id="LC3235">			<span>for</span> (LRESULT i = endPos - <span>2</span>; i &gt; <span>0</span> &amp;&amp; i &gt; startPos; --i)</td>
        </tr>
        <tr>
          <td id="L3236" data-line-number="3236"></td>
          <td id="LC3236">			{</td>
        </tr>
        <tr>
          <td id="L3237" data-line-number="3237"></td>
          <td id="LC3237">				UCHAR aChar = (UCHAR)_pEditView-&gt;<span>execute</span>(SCI_GETCHARAT, i);</td>
        </tr>
        <tr>
          <td id="L3238" data-line-number="3238"></td>
          <td id="LC3238">				<span>if</span> (aChar != <span><span>&#39;</span> <span>&#39;</span></span> &amp;&amp; aChar != <span><span>&#39;</span><span>\t</span><span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L3239" data-line-number="3239"></td>
          <td id="LC3239">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3240" data-line-number="3240"></td>
          <td id="LC3240">			}</td>
        </tr>
        <tr>
          <td id="L3241" data-line-number="3241"></td>
          <td id="LC3241">
</td>
        </tr>
        <tr>
          <td id="L3242" data-line-number="3242"></td>
          <td id="LC3242">			<span><span>//</span> Search the non-empty previous line</span></td>
        </tr>
        <tr>
          <td id="L3243" data-line-number="3243"></td>
          <td id="LC3243">			<span>while</span> (prevLine &gt;= <span>0</span> &amp;&amp; _pEditView-&gt;<span>getLineLength</span>(prevLine) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3244" data-line-number="3244"></td>
          <td id="LC3244">				prevLine--;</td>
        </tr>
        <tr>
          <td id="L3245" data-line-number="3245"></td>
          <td id="LC3245">
</td>
        </tr>
        <tr>
          <td id="L3246" data-line-number="3246"></td>
          <td id="LC3246">			<span><span>//</span> Get previous line&#39;s Indent</span></td>
        </tr>
        <tr>
          <td id="L3247" data-line-number="3247"></td>
          <td id="LC3247">			<span>if</span> (prevLine &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3248" data-line-number="3248"></td>
          <td id="LC3248">			{</td>
        </tr>
        <tr>
          <td id="L3249" data-line-number="3249"></td>
          <td id="LC3249">				indentAmountPrevLine = _pEditView-&gt;<span>getLineIndent</span>(prevLine);</td>
        </tr>
        <tr>
          <td id="L3250" data-line-number="3250"></td>
          <td id="LC3250">
</td>
        </tr>
        <tr>
          <td id="L3251" data-line-number="3251"></td>
          <td id="LC3251">				<span>auto</span> startPos2 = _pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, prevLine);</td>
        </tr>
        <tr>
          <td id="L3252" data-line-number="3252"></td>
          <td id="LC3252">				<span>auto</span> endPos2 = _pEditView-&gt;<span>execute</span>(SCI_GETLINEENDPOSITION, prevLine);</td>
        </tr>
        <tr>
          <td id="L3253" data-line-number="3253"></td>
          <td id="LC3253">				_pEditView-&gt;<span>execute</span>(SCI_SETSEARCHFLAGS, SCFIND_REGEXP | SCFIND_POSIX);</td>
        </tr>
        <tr>
          <td id="L3254" data-line-number="3254"></td>
          <td id="LC3254">				_pEditView-&gt;<span>execute</span>(SCI_SETTARGETRANGE, startPos2, endPos2);</td>
        </tr>
        <tr>
          <td id="L3255" data-line-number="3255"></td>
          <td id="LC3255">
</td>
        </tr>
        <tr>
          <td id="L3256" data-line-number="3256"></td>
          <td id="LC3256">				<span>const</span> <span>char</span> braceExpr[] = <span><span>&#34;</span>[ <span>\t</span>]*<span>\\</span>{.*<span>&#34;</span></span>;</td>
        </tr>
        <tr>
          <td id="L3257" data-line-number="3257"></td>
          <td id="LC3257">
</td>
        </tr>
        <tr>
          <td id="L3258" data-line-number="3258"></td>
          <td id="LC3258">				<span>intptr_t</span> posFound = _pEditView-&gt;<span>execute</span>(SCI_SEARCHINTARGET, <span>strlen</span>(braceExpr), <span>reinterpret_cast</span>&lt;LPARAM&gt;(braceExpr));</td>
        </tr>
        <tr>
          <td id="L3259" data-line-number="3259"></td>
          <td id="LC3259">				<span>if</span> (posFound &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3260" data-line-number="3260"></td>
          <td id="LC3260">				{</td>
        </tr>
        <tr>
          <td id="L3261" data-line-number="3261"></td>
          <td id="LC3261">					<span>auto</span> end = _pEditView-&gt;<span>execute</span>(SCI_GETTARGETEND);</td>
        </tr>
        <tr>
          <td id="L3262" data-line-number="3262"></td>
          <td id="LC3262">					<span>if</span> (end == endPos2)</td>
        </tr>
        <tr>
          <td id="L3263" data-line-number="3263"></td>
          <td id="LC3263">						indentAmountPrevLine += tabWidth;</td>
        </tr>
        <tr>
          <td id="L3264" data-line-number="3264"></td>
          <td id="LC3264">				}</td>
        </tr>
        <tr>
          <td id="L3265" data-line-number="3265"></td>
          <td id="LC3265">			}</td>
        </tr>
        <tr>
          <td id="L3266" data-line-number="3266"></td>
          <td id="LC3266">
</td>
        </tr>
        <tr>
          <td id="L3267" data-line-number="3267"></td>
          <td id="LC3267">			_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine);</td>
        </tr>
        <tr>
          <td id="L3268" data-line-number="3268"></td>
          <td id="LC3268">
</td>
        </tr>
        <tr>
          <td id="L3269" data-line-number="3269"></td>
          <td id="LC3269">		}</td>
        </tr>
        <tr>
          <td id="L3270" data-line-number="3270"></td>
          <td id="LC3270">		<span>else</span> <span>if</span> (ch == <span><span>&#39;</span>}<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L3271" data-line-number="3271"></td>
          <td id="LC3271">		{</td>
        </tr>
        <tr>
          <td id="L3272" data-line-number="3272"></td>
          <td id="LC3272">			<span><span>//</span> Look backward for the pair {</span></td>
        </tr>
        <tr>
          <td id="L3273" data-line-number="3273"></td>
          <td id="LC3273">			<span>intptr_t</span> startPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L3274" data-line-number="3274"></td>
          <td id="LC3274">			<span>if</span> (startPos != <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3275" data-line-number="3275"></td>
          <td id="LC3275">				startPos -= <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3276" data-line-number="3276"></td>
          <td id="LC3276">			<span>intptr_t</span> posFound = <span>findMachedBracePos</span>(startPos - <span>1</span>, <span>0</span>, <span><span>&#39;</span>{<span>&#39;</span></span>, <span><span>&#39;</span>}<span>&#39;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3277" data-line-number="3277"></td>
          <td id="LC3277">
</td>
        </tr>
        <tr>
          <td id="L3278" data-line-number="3278"></td>
          <td id="LC3278">			<span><span>//</span> if no { found, do nothing</span></td>
        </tr>
        <tr>
          <td id="L3279" data-line-number="3279"></td>
          <td id="LC3279">			<span>if</span> (posFound == -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L3280" data-line-number="3280"></td>
          <td id="LC3280">				<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3281" data-line-number="3281"></td>
          <td id="LC3281">
</td>
        </tr>
        <tr>
          <td id="L3282" data-line-number="3282"></td>
          <td id="LC3282">			<span><span>//</span> if { is in the same line, do nothing</span></td>
        </tr>
        <tr>
          <td id="L3283" data-line-number="3283"></td>
          <td id="LC3283">			<span>intptr_t</span> matchedPairLine = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, posFound);</td>
        </tr>
        <tr>
          <td id="L3284" data-line-number="3284"></td>
          <td id="LC3284">			<span>if</span> (matchedPairLine == curLine)</td>
        </tr>
        <tr>
          <td id="L3285" data-line-number="3285"></td>
          <td id="LC3285">				<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3286" data-line-number="3286"></td>
          <td id="LC3286">
</td>
        </tr>
        <tr>
          <td id="L3287" data-line-number="3287"></td>
          <td id="LC3287">			<span><span>//</span> { is in another line, get its indentation</span></td>
        </tr>
        <tr>
          <td id="L3288" data-line-number="3288"></td>
          <td id="LC3288">			indentAmountPrevLine = _pEditView-&gt;<span>getLineIndent</span>(matchedPairLine);</td>
        </tr>
        <tr>
          <td id="L3289" data-line-number="3289"></td>
          <td id="LC3289">
</td>
        </tr>
        <tr>
          <td id="L3290" data-line-number="3290"></td>
          <td id="LC3290">			<span><span>//</span> aligned } indent with {</span></td>
        </tr>
        <tr>
          <td id="L3291" data-line-number="3291"></td>
          <td id="LC3291">			_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine);</td>
        </tr>
        <tr>
          <td id="L3292" data-line-number="3292"></td>
          <td id="LC3292">
</td>
        </tr>
        <tr>
          <td id="L3293" data-line-number="3293"></td>
          <td id="LC3293">			<span><span>/*</span></span></td>
        </tr>
        <tr>
          <td id="L3294" data-line-number="3294"></td>
          <td id="LC3294"><span>			// indent lines from { to }</span></td>
        </tr>
        <tr>
          <td id="L3295" data-line-number="3295"></td>
          <td id="LC3295"><span>			for (int i = matchedPairLine + 1; i &lt; curLine; ++i)</span></td>
        </tr>
        <tr>
          <td id="L3296" data-line-number="3296"></td>
          <td id="LC3296"><span>				_pEditView-&gt;setLineIndent(i, indentAmountPrevLine + tabWidth);</span></td>
        </tr>
        <tr>
          <td id="L3297" data-line-number="3297"></td>
          <td id="LC3297"><span>			<span>*/</span></span></td>
        </tr>
        <tr>
          <td id="L3298" data-line-number="3298"></td>
          <td id="LC3298">		}</td>
        </tr>
        <tr>
          <td id="L3299" data-line-number="3299"></td>
          <td id="LC3299">	}</td>
        </tr>
        <tr>
          <td id="L3300" data-line-number="3300"></td>
          <td id="LC3300">	<span>else</span> <span><span>//</span> Basic indentation mode</span></td>
        </tr>
        <tr>
          <td id="L3301" data-line-number="3301"></td>
          <td id="LC3301">	{</td>
        </tr>
        <tr>
          <td id="L3302" data-line-number="3302"></td>
          <td id="LC3302">		<span>if</span> (((eolMode == SC_EOL_CRLF || eolMode == SC_EOL_LF) &amp;&amp; ch == <span><span>&#39;</span><span>\n</span><span>&#39;</span></span>) ||</td>
        </tr>
        <tr>
          <td id="L3303" data-line-number="3303"></td>
          <td id="LC3303">			(eolMode == SC_EOL_CR &amp;&amp; ch == <span><span>&#39;</span><span>\r</span><span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L3304" data-line-number="3304"></td>
          <td id="LC3304">		{</td>
        </tr>
        <tr>
          <td id="L3305" data-line-number="3305"></td>
          <td id="LC3305">			<span><span>//</span> Search the non-empty previous line</span></td>
        </tr>
        <tr>
          <td id="L3306" data-line-number="3306"></td>
          <td id="LC3306">			<span>while</span> (prevLine &gt;= <span>0</span> &amp;&amp; _pEditView-&gt;<span>getLineLength</span>(prevLine) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3307" data-line-number="3307"></td>
          <td id="LC3307">				prevLine--;</td>
        </tr>
        <tr>
          <td id="L3308" data-line-number="3308"></td>
          <td id="LC3308">
</td>
        </tr>
        <tr>
          <td id="L3309" data-line-number="3309"></td>
          <td id="LC3309">			<span>if</span> (prevLine &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3310" data-line-number="3310"></td>
          <td id="LC3310">			{</td>
        </tr>
        <tr>
          <td id="L3311" data-line-number="3311"></td>
          <td id="LC3311">				indentAmountPrevLine = _pEditView-&gt;<span>getLineIndent</span>(prevLine);</td>
        </tr>
        <tr>
          <td id="L3312" data-line-number="3312"></td>
          <td id="LC3312">			}</td>
        </tr>
        <tr>
          <td id="L3313" data-line-number="3313"></td>
          <td id="LC3313">
</td>
        </tr>
        <tr>
          <td id="L3314" data-line-number="3314"></td>
          <td id="LC3314">			<span>if</span> (indentAmountPrevLine &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3315" data-line-number="3315"></td>
          <td id="LC3315">			{</td>
        </tr>
        <tr>
          <td id="L3316" data-line-number="3316"></td>
          <td id="LC3316">				_pEditView-&gt;<span>setLineIndent</span>(curLine, indentAmountPrevLine);</td>
        </tr>
        <tr>
          <td id="L3317" data-line-number="3317"></td>
          <td id="LC3317">			}</td>
        </tr>
        <tr>
          <td id="L3318" data-line-number="3318"></td>
          <td id="LC3318">		}</td>
        </tr>
        <tr>
          <td id="L3319" data-line-number="3319"></td>
          <td id="LC3319">	}</td>
        </tr>
        <tr>
          <td id="L3320" data-line-number="3320"></td>
          <td id="LC3320">}</td>
        </tr>
        <tr>
          <td id="L3321" data-line-number="3321"></td>
          <td id="LC3321">
</td>
        </tr>
        <tr>
          <td id="L3322" data-line-number="3322"></td>
          <td id="LC3322">BOOL <span>Notepad_plus::processFindAccel</span>(MSG *msg) <span>const</span></td>
        </tr>
        <tr>
          <td id="L3323" data-line-number="3323"></td>
          <td id="LC3323">{</td>
        </tr>
        <tr>
          <td id="L3324" data-line-number="3324"></td>
          <td id="LC3324">	<span>if</span> (!::<span>IsChild</span>(_findReplaceDlg.<span>getHSelf</span>(), ::<span>GetFocus</span>()))</td>
        </tr>
        <tr>
          <td id="L3325" data-line-number="3325"></td>
          <td id="LC3325">		<span>return</span> <span>FALSE</span>;</td>
        </tr>
        <tr>
          <td id="L3326" data-line-number="3326"></td>
          <td id="LC3326">	<span>return</span> ::<span>TranslateAccelerator</span>(_findReplaceDlg.<span>getHSelf</span>(), _accelerator.<span>getFindAccTable</span>(), msg);</td>
        </tr>
        <tr>
          <td id="L3327" data-line-number="3327"></td>
          <td id="LC3327">}</td>
        </tr>
        <tr>
          <td id="L3328" data-line-number="3328"></td>
          <td id="LC3328">
</td>
        </tr>
        <tr>
          <td id="L3329" data-line-number="3329"></td>
          <td id="LC3329">BOOL <span>Notepad_plus::processIncrFindAccel</span>(MSG *msg) <span>const</span></td>
        </tr>
        <tr>
          <td id="L3330" data-line-number="3330"></td>
          <td id="LC3330">{</td>
        </tr>
        <tr>
          <td id="L3331" data-line-number="3331"></td>
          <td id="LC3331">	<span>if</span> (!::<span>IsChild</span>(_incrementFindDlg.<span>getHSelf</span>(), ::<span>GetFocus</span>()))</td>
        </tr>
        <tr>
          <td id="L3332" data-line-number="3332"></td>
          <td id="LC3332">		<span>return</span> <span>FALSE</span>;</td>
        </tr>
        <tr>
          <td id="L3333" data-line-number="3333"></td>
          <td id="LC3333">	<span>return</span> ::<span>TranslateAccelerator</span>(_incrementFindDlg.<span>getHSelf</span>(), _accelerator.<span>getIncrFindAccTable</span>(), msg);</td>
        </tr>
        <tr>
          <td id="L3334" data-line-number="3334"></td>
          <td id="LC3334">}</td>
        </tr>
        <tr>
          <td id="L3335" data-line-number="3335"></td>
          <td id="LC3335">
</td>
        </tr>
        <tr>
          <td id="L3336" data-line-number="3336"></td>
          <td id="LC3336"><span>void</span> <span>Notepad_plus::setLanguage</span>(LangType langType)</td>
        </tr>
        <tr>
          <td id="L3337" data-line-number="3337"></td>
          <td id="LC3337">{</td>
        </tr>
        <tr>
          <td id="L3338" data-line-number="3338"></td>
          <td id="LC3338">	<span><span>//</span>Add logic to prevent changing a language when a document is shared between two views</span></td>
        </tr>
        <tr>
          <td id="L3339" data-line-number="3339"></td>
          <td id="LC3339">	<span><span>//</span>If so, release one document</span></td>
        </tr>
        <tr>
          <td id="L3340" data-line-number="3340"></td>
          <td id="LC3340">	<span>bool</span> reset = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L3341" data-line-number="3341"></td>
          <td id="LC3341">	Document prev = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3342" data-line-number="3342"></td>
          <td id="LC3342">	<span>if</span> (<span>bothActive</span>())</td>
        </tr>
        <tr>
          <td id="L3343" data-line-number="3343"></td>
          <td id="LC3343">	{</td>
        </tr>
        <tr>
          <td id="L3344" data-line-number="3344"></td>
          <td id="LC3344">		<span>if</span> (_mainEditView.<span>getCurrentBufferID</span>() == _subEditView.<span>getCurrentBufferID</span>())</td>
        </tr>
        <tr>
          <td id="L3345" data-line-number="3345"></td>
          <td id="LC3345">		{</td>
        </tr>
        <tr>
          <td id="L3346" data-line-number="3346"></td>
          <td id="LC3346">			reset = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L3347" data-line-number="3347"></td>
          <td id="LC3347">			_subEditView.<span>saveCurrentPos</span>();</td>
        </tr>
        <tr>
          <td id="L3348" data-line-number="3348"></td>
          <td id="LC3348">			prev = _subEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L3349" data-line-number="3349"></td>
          <td id="LC3349">			_subEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L3350" data-line-number="3350"></td>
          <td id="LC3350">		}</td>
        </tr>
        <tr>
          <td id="L3351" data-line-number="3351"></td>
          <td id="LC3351">	}</td>
        </tr>
        <tr>
          <td id="L3352" data-line-number="3352"></td>
          <td id="LC3352">	</td>
        </tr>
        <tr>
          <td id="L3353" data-line-number="3353"></td>
          <td id="LC3353">	<span>if</span> (reset)</td>
        </tr>
        <tr>
          <td id="L3354" data-line-number="3354"></td>
          <td id="LC3354">	{</td>
        </tr>
        <tr>
          <td id="L3355" data-line-number="3355"></td>
          <td id="LC3355">		_mainEditView.<span>getCurrentBuffer</span>()-&gt;<span>setLangType</span>(langType);</td>
        </tr>
        <tr>
          <td id="L3356" data-line-number="3356"></td>
          <td id="LC3356">	}</td>
        </tr>
        <tr>
          <td id="L3357" data-line-number="3357"></td>
          <td id="LC3357">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L3358" data-line-number="3358"></td>
          <td id="LC3358">	{</td>
        </tr>
        <tr>
          <td id="L3359" data-line-number="3359"></td>
          <td id="LC3359">		_pEditView-&gt;<span>getCurrentBuffer</span>()-&gt;<span>setLangType</span>(langType);</td>
        </tr>
        <tr>
          <td id="L3360" data-line-number="3360"></td>
          <td id="LC3360">	}</td>
        </tr>
        <tr>
          <td id="L3361" data-line-number="3361"></td>
          <td id="LC3361">
</td>
        </tr>
        <tr>
          <td id="L3362" data-line-number="3362"></td>
          <td id="LC3362">	<span>if</span> (reset)</td>
        </tr>
        <tr>
          <td id="L3363" data-line-number="3363"></td>
          <td id="LC3363">	{</td>
        </tr>
        <tr>
          <td id="L3364" data-line-number="3364"></td>
          <td id="LC3364">		_subEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, prev);</td>
        </tr>
        <tr>
          <td id="L3365" data-line-number="3365"></td>
          <td id="LC3365">		_subEditView.<span>restoreCurrentPosPreStep</span>();</td>
        </tr>
        <tr>
          <td id="L3366" data-line-number="3366"></td>
          <td id="LC3366">	}</td>
        </tr>
        <tr>
          <td id="L3367" data-line-number="3367"></td>
          <td id="LC3367">}</td>
        </tr>
        <tr>
          <td id="L3368" data-line-number="3368"></td>
          <td id="LC3368">
</td>
        </tr>
        <tr>
          <td id="L3369" data-line-number="3369"></td>
          <td id="LC3369">LangType <span>Notepad_plus::menuID2LangType</span>(<span>int</span> cmdID)</td>
        </tr>
        <tr>
          <td id="L3370" data-line-number="3370"></td>
          <td id="LC3370">{</td>
        </tr>
        <tr>
          <td id="L3371" data-line-number="3371"></td>
          <td id="LC3371">	<span>switch</span> (cmdID)</td>
        </tr>
        <tr>
          <td id="L3372" data-line-number="3372"></td>
          <td id="LC3372">	{</td>
        </tr>
        <tr>
          <td id="L3373" data-line-number="3373"></td>
          <td id="LC3373">        <span>case</span> IDM_LANG_C	:</td>
        </tr>
        <tr>
          <td id="L3374" data-line-number="3374"></td>
          <td id="LC3374">            <span>return</span> L_C;</td>
        </tr>
        <tr>
          <td id="L3375" data-line-number="3375"></td>
          <td id="LC3375">        <span>case</span> IDM_LANG_CPP :</td>
        </tr>
        <tr>
          <td id="L3376" data-line-number="3376"></td>
          <td id="LC3376">            <span>return</span> L_CPP;</td>
        </tr>
        <tr>
          <td id="L3377" data-line-number="3377"></td>
          <td id="LC3377">        <span>case</span> IDM_LANG_JAVA :</td>
        </tr>
        <tr>
          <td id="L3378" data-line-number="3378"></td>
          <td id="LC3378">            <span>return</span> L_JAVA;</td>
        </tr>
        <tr>
          <td id="L3379" data-line-number="3379"></td>
          <td id="LC3379">        <span>case</span> IDM_LANG_CS :</td>
        </tr>
        <tr>
          <td id="L3380" data-line-number="3380"></td>
          <td id="LC3380">            <span>return</span> L_CS;</td>
        </tr>
        <tr>
          <td id="L3381" data-line-number="3381"></td>
          <td id="LC3381">        <span>case</span> IDM_LANG_HTML :</td>
        </tr>
        <tr>
          <td id="L3382" data-line-number="3382"></td>
          <td id="LC3382">            <span>return</span> L_HTML;</td>
        </tr>
        <tr>
          <td id="L3383" data-line-number="3383"></td>
          <td id="LC3383">        <span>case</span> IDM_LANG_XML :</td>
        </tr>
        <tr>
          <td id="L3384" data-line-number="3384"></td>
          <td id="LC3384">            <span>return</span> L_XML;</td>
        </tr>
        <tr>
          <td id="L3385" data-line-number="3385"></td>
          <td id="LC3385">        <span>case</span> IDM_LANG_JS :</td>
        </tr>
        <tr>
          <td id="L3386" data-line-number="3386"></td>
          <td id="LC3386">			<span>return</span> L_JAVASCRIPT;</td>
        </tr>
        <tr>
          <td id="L3387" data-line-number="3387"></td>
          <td id="LC3387">		<span>case</span> IDM_LANG_JSON:</td>
        </tr>
        <tr>
          <td id="L3388" data-line-number="3388"></td>
          <td id="LC3388">			<span>return</span> L_JSON;</td>
        </tr>
        <tr>
          <td id="L3389" data-line-number="3389"></td>
          <td id="LC3389">        <span>case</span> IDM_LANG_PHP :</td>
        </tr>
        <tr>
          <td id="L3390" data-line-number="3390"></td>
          <td id="LC3390">            <span>return</span> L_PHP;</td>
        </tr>
        <tr>
          <td id="L3391" data-line-number="3391"></td>
          <td id="LC3391">        <span>case</span> IDM_LANG_ASP :</td>
        </tr>
        <tr>
          <td id="L3392" data-line-number="3392"></td>
          <td id="LC3392">            <span>return</span> L_ASP;</td>
        </tr>
        <tr>
          <td id="L3393" data-line-number="3393"></td>
          <td id="LC3393">        <span>case</span> IDM_LANG_JSP :</td>
        </tr>
        <tr>
          <td id="L3394" data-line-number="3394"></td>
          <td id="LC3394">            <span>return</span> L_JSP;</td>
        </tr>
        <tr>
          <td id="L3395" data-line-number="3395"></td>
          <td id="LC3395">        <span>case</span> IDM_LANG_CSS :</td>
        </tr>
        <tr>
          <td id="L3396" data-line-number="3396"></td>
          <td id="LC3396">            <span>return</span> L_CSS;</td>
        </tr>
        <tr>
          <td id="L3397" data-line-number="3397"></td>
          <td id="LC3397">        <span>case</span> IDM_LANG_LUA :</td>
        </tr>
        <tr>
          <td id="L3398" data-line-number="3398"></td>
          <td id="LC3398">            <span>return</span> L_LUA;</td>
        </tr>
        <tr>
          <td id="L3399" data-line-number="3399"></td>
          <td id="LC3399">        <span>case</span> IDM_LANG_PERL :</td>
        </tr>
        <tr>
          <td id="L3400" data-line-number="3400"></td>
          <td id="LC3400">            <span>return</span> L_PERL;</td>
        </tr>
        <tr>
          <td id="L3401" data-line-number="3401"></td>
          <td id="LC3401">        <span>case</span> IDM_LANG_PYTHON :</td>
        </tr>
        <tr>
          <td id="L3402" data-line-number="3402"></td>
          <td id="LC3402">            <span>return</span> L_PYTHON;</td>
        </tr>
        <tr>
          <td id="L3403" data-line-number="3403"></td>
          <td id="LC3403">        <span>case</span> IDM_LANG_PASCAL :</td>
        </tr>
        <tr>
          <td id="L3404" data-line-number="3404"></td>
          <td id="LC3404">            <span>return</span> L_PASCAL;</td>
        </tr>
        <tr>
          <td id="L3405" data-line-number="3405"></td>
          <td id="LC3405">        <span>case</span> IDM_LANG_BATCH :</td>
        </tr>
        <tr>
          <td id="L3406" data-line-number="3406"></td>
          <td id="LC3406">            <span>return</span> L_BATCH;</td>
        </tr>
        <tr>
          <td id="L3407" data-line-number="3407"></td>
          <td id="LC3407">        <span>case</span> IDM_LANG_OBJC :</td>
        </tr>
        <tr>
          <td id="L3408" data-line-number="3408"></td>
          <td id="LC3408">            <span>return</span> L_OBJC;</td>
        </tr>
        <tr>
          <td id="L3409" data-line-number="3409"></td>
          <td id="LC3409">        <span>case</span> IDM_LANG_VB :</td>
        </tr>
        <tr>
          <td id="L3410" data-line-number="3410"></td>
          <td id="LC3410">            <span>return</span> L_VB;</td>
        </tr>
        <tr>
          <td id="L3411" data-line-number="3411"></td>
          <td id="LC3411">        <span>case</span> IDM_LANG_SQL :</td>
        </tr>
        <tr>
          <td id="L3412" data-line-number="3412"></td>
          <td id="LC3412">            <span>return</span> L_SQL;</td>
        </tr>
        <tr>
          <td id="L3413" data-line-number="3413"></td>
          <td id="LC3413">        <span>case</span> IDM_LANG_ASCII :</td>
        </tr>
        <tr>
          <td id="L3414" data-line-number="3414"></td>
          <td id="LC3414">            <span>return</span> L_ASCII;</td>
        </tr>
        <tr>
          <td id="L3415" data-line-number="3415"></td>
          <td id="LC3415">        <span>case</span> IDM_LANG_TEXT :</td>
        </tr>
        <tr>
          <td id="L3416" data-line-number="3416"></td>
          <td id="LC3416">            <span>return</span> L_TEXT;</td>
        </tr>
        <tr>
          <td id="L3417" data-line-number="3417"></td>
          <td id="LC3417">        <span>case</span> IDM_LANG_RC :</td>
        </tr>
        <tr>
          <td id="L3418" data-line-number="3418"></td>
          <td id="LC3418">            <span>return</span> L_RC;</td>
        </tr>
        <tr>
          <td id="L3419" data-line-number="3419"></td>
          <td id="LC3419">        <span>case</span> IDM_LANG_MAKEFILE :</td>
        </tr>
        <tr>
          <td id="L3420" data-line-number="3420"></td>
          <td id="LC3420">            <span>return</span> L_MAKEFILE;</td>
        </tr>
        <tr>
          <td id="L3421" data-line-number="3421"></td>
          <td id="LC3421">        <span>case</span> IDM_LANG_INI :</td>
        </tr>
        <tr>
          <td id="L3422" data-line-number="3422"></td>
          <td id="LC3422">            <span>return</span> L_INI;</td>
        </tr>
        <tr>
          <td id="L3423" data-line-number="3423"></td>
          <td id="LC3423">        <span>case</span> IDM_LANG_TEX :</td>
        </tr>
        <tr>
          <td id="L3424" data-line-number="3424"></td>
          <td id="LC3424">            <span>return</span> L_TEX;</td>
        </tr>
        <tr>
          <td id="L3425" data-line-number="3425"></td>
          <td id="LC3425">        <span>case</span> IDM_LANG_FORTRAN :</td>
        </tr>
        <tr>
          <td id="L3426" data-line-number="3426"></td>
          <td id="LC3426">            <span>return</span> L_FORTRAN;</td>
        </tr>
        <tr>
          <td id="L3427" data-line-number="3427"></td>
          <td id="LC3427">		<span>case</span> IDM_LANG_FORTRAN_77 :</td>
        </tr>
        <tr>
          <td id="L3428" data-line-number="3428"></td>
          <td id="LC3428">			<span>return</span> L_FORTRAN_77;</td>
        </tr>
        <tr>
          <td id="L3429" data-line-number="3429"></td>
          <td id="LC3429">        <span>case</span> IDM_LANG_BASH :</td>
        </tr>
        <tr>
          <td id="L3430" data-line-number="3430"></td>
          <td id="LC3430">            <span>return</span> L_BASH;</td>
        </tr>
        <tr>
          <td id="L3431" data-line-number="3431"></td>
          <td id="LC3431">        <span>case</span> IDM_LANG_FLASH :</td>
        </tr>
        <tr>
          <td id="L3432" data-line-number="3432"></td>
          <td id="LC3432">            <span>return</span> L_FLASH;</td>
        </tr>
        <tr>
          <td id="L3433" data-line-number="3433"></td>
          <td id="LC3433">		<span>case</span> IDM_LANG_NSIS :</td>
        </tr>
        <tr>
          <td id="L3434" data-line-number="3434"></td>
          <td id="LC3434">            <span>return</span> L_NSIS;</td>
        </tr>
        <tr>
          <td id="L3435" data-line-number="3435"></td>
          <td id="LC3435">		<span>case</span> IDM_LANG_TCL :</td>
        </tr>
        <tr>
          <td id="L3436" data-line-number="3436"></td>
          <td id="LC3436">            <span>return</span> L_TCL;</td>
        </tr>
        <tr>
          <td id="L3437" data-line-number="3437"></td>
          <td id="LC3437">		<span>case</span> IDM_LANG_LISP :</td>
        </tr>
        <tr>
          <td id="L3438" data-line-number="3438"></td>
          <td id="LC3438">			<span>return</span> L_LISP;</td>
        </tr>
        <tr>
          <td id="L3439" data-line-number="3439"></td>
          <td id="LC3439">		<span>case</span> IDM_LANG_SCHEME :</td>
        </tr>
        <tr>
          <td id="L3440" data-line-number="3440"></td>
          <td id="LC3440">			<span>return</span> L_SCHEME;</td>
        </tr>
        <tr>
          <td id="L3441" data-line-number="3441"></td>
          <td id="LC3441">		<span>case</span> IDM_LANG_ASM :</td>
        </tr>
        <tr>
          <td id="L3442" data-line-number="3442"></td>
          <td id="LC3442">            <span>return</span> L_ASM;</td>
        </tr>
        <tr>
          <td id="L3443" data-line-number="3443"></td>
          <td id="LC3443">		<span>case</span> IDM_LANG_DIFF :</td>
        </tr>
        <tr>
          <td id="L3444" data-line-number="3444"></td>
          <td id="LC3444">            <span>return</span> L_DIFF;</td>
        </tr>
        <tr>
          <td id="L3445" data-line-number="3445"></td>
          <td id="LC3445">		<span>case</span> IDM_LANG_PROPS :</td>
        </tr>
        <tr>
          <td id="L3446" data-line-number="3446"></td>
          <td id="LC3446">            <span>return</span> L_PROPS;</td>
        </tr>
        <tr>
          <td id="L3447" data-line-number="3447"></td>
          <td id="LC3447">		<span>case</span> IDM_LANG_PS:</td>
        </tr>
        <tr>
          <td id="L3448" data-line-number="3448"></td>
          <td id="LC3448">            <span>return</span> L_PS;</td>
        </tr>
        <tr>
          <td id="L3449" data-line-number="3449"></td>
          <td id="LC3449">		<span>case</span> IDM_LANG_RUBY:</td>
        </tr>
        <tr>
          <td id="L3450" data-line-number="3450"></td>
          <td id="LC3450">            <span>return</span> L_RUBY;</td>
        </tr>
        <tr>
          <td id="L3451" data-line-number="3451"></td>
          <td id="LC3451">		<span>case</span> IDM_LANG_SMALLTALK:</td>
        </tr>
        <tr>
          <td id="L3452" data-line-number="3452"></td>
          <td id="LC3452">            <span>return</span> L_SMALLTALK;</td>
        </tr>
        <tr>
          <td id="L3453" data-line-number="3453"></td>
          <td id="LC3453">		<span>case</span> IDM_LANG_VHDL :</td>
        </tr>
        <tr>
          <td id="L3454" data-line-number="3454"></td>
          <td id="LC3454">            <span>return</span> L_VHDL;</td>
        </tr>
        <tr>
          <td id="L3455" data-line-number="3455"></td>
          <td id="LC3455">        <span>case</span> IDM_LANG_KIX :</td>
        </tr>
        <tr>
          <td id="L3456" data-line-number="3456"></td>
          <td id="LC3456">            <span>return</span> L_KIX;</td>
        </tr>
        <tr>
          <td id="L3457" data-line-number="3457"></td>
          <td id="LC3457">        <span>case</span> IDM_LANG_CAML :</td>
        </tr>
        <tr>
          <td id="L3458" data-line-number="3458"></td>
          <td id="LC3458">            <span>return</span> L_CAML;</td>
        </tr>
        <tr>
          <td id="L3459" data-line-number="3459"></td>
          <td id="LC3459">        <span>case</span> IDM_LANG_ADA :</td>
        </tr>
        <tr>
          <td id="L3460" data-line-number="3460"></td>
          <td id="LC3460">            <span>return</span> L_ADA;</td>
        </tr>
        <tr>
          <td id="L3461" data-line-number="3461"></td>
          <td id="LC3461">        <span>case</span> IDM_LANG_VERILOG :</td>
        </tr>
        <tr>
          <td id="L3462" data-line-number="3462"></td>
          <td id="LC3462">            <span>return</span> L_VERILOG;</td>
        </tr>
        <tr>
          <td id="L3463" data-line-number="3463"></td>
          <td id="LC3463">		<span>case</span> IDM_LANG_MATLAB :</td>
        </tr>
        <tr>
          <td id="L3464" data-line-number="3464"></td>
          <td id="LC3464">            <span>return</span> L_MATLAB;</td>
        </tr>
        <tr>
          <td id="L3465" data-line-number="3465"></td>
          <td id="LC3465">		<span>case</span> IDM_LANG_HASKELL :</td>
        </tr>
        <tr>
          <td id="L3466" data-line-number="3466"></td>
          <td id="LC3466">            <span>return</span> L_HASKELL;</td>
        </tr>
        <tr>
          <td id="L3467" data-line-number="3467"></td>
          <td id="LC3467">        <span>case</span> IDM_LANG_AU3 :</td>
        </tr>
        <tr>
          <td id="L3468" data-line-number="3468"></td>
          <td id="LC3468">            <span>return</span> L_AU3;</td>
        </tr>
        <tr>
          <td id="L3469" data-line-number="3469"></td>
          <td id="LC3469">		<span>case</span> IDM_LANG_INNO :</td>
        </tr>
        <tr>
          <td id="L3470" data-line-number="3470"></td>
          <td id="LC3470">            <span>return</span> L_INNO;</td>
        </tr>
        <tr>
          <td id="L3471" data-line-number="3471"></td>
          <td id="LC3471">		<span>case</span> IDM_LANG_CMAKE :</td>
        </tr>
        <tr>
          <td id="L3472" data-line-number="3472"></td>
          <td id="LC3472">            <span>return</span> L_CMAKE;</td>
        </tr>
        <tr>
          <td id="L3473" data-line-number="3473"></td>
          <td id="LC3473">		<span>case</span> IDM_LANG_YAML :</td>
        </tr>
        <tr>
          <td id="L3474" data-line-number="3474"></td>
          <td id="LC3474">			<span>return</span> L_YAML;</td>
        </tr>
        <tr>
          <td id="L3475" data-line-number="3475"></td>
          <td id="LC3475">        <span>case</span> IDM_LANG_COBOL :</td>
        </tr>
        <tr>
          <td id="L3476" data-line-number="3476"></td>
          <td id="LC3476">            <span>return</span> L_COBOL;</td>
        </tr>
        <tr>
          <td id="L3477" data-line-number="3477"></td>
          <td id="LC3477">        <span>case</span> IDM_LANG_D :</td>
        </tr>
        <tr>
          <td id="L3478" data-line-number="3478"></td>
          <td id="LC3478">            <span>return</span> L_D;</td>
        </tr>
        <tr>
          <td id="L3479" data-line-number="3479"></td>
          <td id="LC3479">        <span>case</span> IDM_LANG_GUI4CLI :</td>
        </tr>
        <tr>
          <td id="L3480" data-line-number="3480"></td>
          <td id="LC3480">            <span>return</span> L_GUI4CLI;</td>
        </tr>
        <tr>
          <td id="L3481" data-line-number="3481"></td>
          <td id="LC3481">        <span>case</span> IDM_LANG_POWERSHELL :</td>
        </tr>
        <tr>
          <td id="L3482" data-line-number="3482"></td>
          <td id="LC3482">            <span>return</span> L_POWERSHELL;</td>
        </tr>
        <tr>
          <td id="L3483" data-line-number="3483"></td>
          <td id="LC3483">        <span>case</span> IDM_LANG_R :</td>
        </tr>
        <tr>
          <td id="L3484" data-line-number="3484"></td>
          <td id="LC3484">            <span>return</span> L_R;</td>
        </tr>
        <tr>
          <td id="L3485" data-line-number="3485"></td>
          <td id="LC3485">		<span>case</span> IDM_LANG_COFFEESCRIPT :</td>
        </tr>
        <tr>
          <td id="L3486" data-line-number="3486"></td>
          <td id="LC3486">            <span>return</span> L_COFFEESCRIPT;</td>
        </tr>
        <tr>
          <td id="L3487" data-line-number="3487"></td>
          <td id="LC3487">		<span>case</span> IDM_LANG_BAANC:</td>
        </tr>
        <tr>
          <td id="L3488" data-line-number="3488"></td>
          <td id="LC3488">			<span>return</span> L_BAANC;</td>
        </tr>
        <tr>
          <td id="L3489" data-line-number="3489"></td>
          <td id="LC3489">		<span>case</span> IDM_LANG_SREC :</td>
        </tr>
        <tr>
          <td id="L3490" data-line-number="3490"></td>
          <td id="LC3490">            <span>return</span> L_SREC;</td>
        </tr>
        <tr>
          <td id="L3491" data-line-number="3491"></td>
          <td id="LC3491">		<span>case</span> IDM_LANG_IHEX :</td>
        </tr>
        <tr>
          <td id="L3492" data-line-number="3492"></td>
          <td id="LC3492">            <span>return</span> L_IHEX;</td>
        </tr>
        <tr>
          <td id="L3493" data-line-number="3493"></td>
          <td id="LC3493">		<span>case</span> IDM_LANG_TEHEX :</td>
        </tr>
        <tr>
          <td id="L3494" data-line-number="3494"></td>
          <td id="LC3494">            <span>return</span> L_TEHEX;</td>
        </tr>
        <tr>
          <td id="L3495" data-line-number="3495"></td>
          <td id="LC3495">		<span>case</span> IDM_LANG_SWIFT:</td>
        </tr>
        <tr>
          <td id="L3496" data-line-number="3496"></td>
          <td id="LC3496">			<span>return</span> L_SWIFT;</td>
        </tr>
        <tr>
          <td id="L3497" data-line-number="3497"></td>
          <td id="LC3497">        <span>case</span> IDM_LANG_ASN1 :</td>
        </tr>
        <tr>
          <td id="L3498" data-line-number="3498"></td>
          <td id="LC3498">            <span>return</span> L_ASN1;</td>
        </tr>
        <tr>
          <td id="L3499" data-line-number="3499"></td>
          <td id="LC3499">        <span>case</span> IDM_LANG_AVS :</td>
        </tr>
        <tr>
          <td id="L3500" data-line-number="3500"></td>
          <td id="LC3500">            <span>return</span> L_AVS;</td>
        </tr>
        <tr>
          <td id="L3501" data-line-number="3501"></td>
          <td id="LC3501">        <span>case</span> IDM_LANG_BLITZBASIC :</td>
        </tr>
        <tr>
          <td id="L3502" data-line-number="3502"></td>
          <td id="LC3502">            <span>return</span> L_BLITZBASIC;</td>
        </tr>
        <tr>
          <td id="L3503" data-line-number="3503"></td>
          <td id="LC3503">        <span>case</span> IDM_LANG_PUREBASIC :</td>
        </tr>
        <tr>
          <td id="L3504" data-line-number="3504"></td>
          <td id="LC3504">            <span>return</span> L_PUREBASIC;</td>
        </tr>
        <tr>
          <td id="L3505" data-line-number="3505"></td>
          <td id="LC3505">        <span>case</span> IDM_LANG_FREEBASIC :</td>
        </tr>
        <tr>
          <td id="L3506" data-line-number="3506"></td>
          <td id="LC3506">            <span>return</span> L_FREEBASIC;</td>
        </tr>
        <tr>
          <td id="L3507" data-line-number="3507"></td>
          <td id="LC3507">        <span>case</span> IDM_LANG_CSOUND :</td>
        </tr>
        <tr>
          <td id="L3508" data-line-number="3508"></td>
          <td id="LC3508">            <span>return</span> L_CSOUND;</td>
        </tr>
        <tr>
          <td id="L3509" data-line-number="3509"></td>
          <td id="LC3509">        <span>case</span> IDM_LANG_ERLANG :</td>
        </tr>
        <tr>
          <td id="L3510" data-line-number="3510"></td>
          <td id="LC3510">            <span>return</span> L_ERLANG;</td>
        </tr>
        <tr>
          <td id="L3511" data-line-number="3511"></td>
          <td id="LC3511">        <span>case</span> IDM_LANG_ESCRIPT :</td>
        </tr>
        <tr>
          <td id="L3512" data-line-number="3512"></td>
          <td id="LC3512">            <span>return</span> L_ESCRIPT;</td>
        </tr>
        <tr>
          <td id="L3513" data-line-number="3513"></td>
          <td id="LC3513">        <span>case</span> IDM_LANG_FORTH :</td>
        </tr>
        <tr>
          <td id="L3514" data-line-number="3514"></td>
          <td id="LC3514">            <span>return</span> L_FORTH;</td>
        </tr>
        <tr>
          <td id="L3515" data-line-number="3515"></td>
          <td id="LC3515">        <span>case</span> IDM_LANG_LATEX :</td>
        </tr>
        <tr>
          <td id="L3516" data-line-number="3516"></td>
          <td id="LC3516">            <span>return</span> L_LATEX;</td>
        </tr>
        <tr>
          <td id="L3517" data-line-number="3517"></td>
          <td id="LC3517">        <span>case</span> IDM_LANG_MMIXAL :</td>
        </tr>
        <tr>
          <td id="L3518" data-line-number="3518"></td>
          <td id="LC3518">            <span>return</span> L_MMIXAL;</td>
        </tr>
        <tr>
          <td id="L3519" data-line-number="3519"></td>
          <td id="LC3519">        <span>case</span> IDM_LANG_NIM :</td>
        </tr>
        <tr>
          <td id="L3520" data-line-number="3520"></td>
          <td id="LC3520">            <span>return</span> L_NIM;</td>
        </tr>
        <tr>
          <td id="L3521" data-line-number="3521"></td>
          <td id="LC3521">        <span>case</span> IDM_LANG_NNCRONTAB :</td>
        </tr>
        <tr>
          <td id="L3522" data-line-number="3522"></td>
          <td id="LC3522">            <span>return</span> L_NNCRONTAB;</td>
        </tr>
        <tr>
          <td id="L3523" data-line-number="3523"></td>
          <td id="LC3523">        <span>case</span> IDM_LANG_OSCRIPT :</td>
        </tr>
        <tr>
          <td id="L3524" data-line-number="3524"></td>
          <td id="LC3524">            <span>return</span> L_OSCRIPT;</td>
        </tr>
        <tr>
          <td id="L3525" data-line-number="3525"></td>
          <td id="LC3525">        <span>case</span> IDM_LANG_REBOL :</td>
        </tr>
        <tr>
          <td id="L3526" data-line-number="3526"></td>
          <td id="LC3526">            <span>return</span> L_REBOL;</td>
        </tr>
        <tr>
          <td id="L3527" data-line-number="3527"></td>
          <td id="LC3527">        <span>case</span> IDM_LANG_REGISTRY :</td>
        </tr>
        <tr>
          <td id="L3528" data-line-number="3528"></td>
          <td id="LC3528">            <span>return</span> L_REGISTRY;</td>
        </tr>
        <tr>
          <td id="L3529" data-line-number="3529"></td>
          <td id="LC3529">        <span>case</span> IDM_LANG_RUST :</td>
        </tr>
        <tr>
          <td id="L3530" data-line-number="3530"></td>
          <td id="LC3530">            <span>return</span> L_RUST;</td>
        </tr>
        <tr>
          <td id="L3531" data-line-number="3531"></td>
          <td id="LC3531">        <span>case</span> IDM_LANG_SPICE :</td>
        </tr>
        <tr>
          <td id="L3532" data-line-number="3532"></td>
          <td id="LC3532">            <span>return</span> L_SPICE;</td>
        </tr>
        <tr>
          <td id="L3533" data-line-number="3533"></td>
          <td id="LC3533">        <span>case</span> IDM_LANG_TXT2TAGS :</td>
        </tr>
        <tr>
          <td id="L3534" data-line-number="3534"></td>
          <td id="LC3534">            <span>return</span> L_TXT2TAGS;</td>
        </tr>
        <tr>
          <td id="L3535" data-line-number="3535"></td>
          <td id="LC3535">        <span>case</span> IDM_LANG_VISUALPROLOG:</td>
        </tr>
        <tr>
          <td id="L3536" data-line-number="3536"></td>
          <td id="LC3536">            <span>return</span> L_VISUALPROLOG;</td>
        </tr>
        <tr>
          <td id="L3537" data-line-number="3537"></td>
          <td id="LC3537">        <span>case</span> IDM_LANG_TYPESCRIPT:</td>
        </tr>
        <tr>
          <td id="L3538" data-line-number="3538"></td>
          <td id="LC3538">            <span>return</span> L_TYPESCRIPT;</td>
        </tr>
        <tr>
          <td id="L3539" data-line-number="3539"></td>
          <td id="LC3539">        <span>case</span> IDM_LANG_USER:</td>
        </tr>
        <tr>
          <td id="L3540" data-line-number="3540"></td>
          <td id="LC3540">            <span>return</span> L_USER;</td>
        </tr>
        <tr>
          <td id="L3541" data-line-number="3541"></td>
          <td id="LC3541">		<span>default</span>:</td>
        </tr>
        <tr>
          <td id="L3542" data-line-number="3542"></td>
          <td id="LC3542">		{</td>
        </tr>
        <tr>
          <td id="L3543" data-line-number="3543"></td>
          <td id="LC3543">			<span>if</span> (cmdID &gt;= IDM_LANG_USER &amp;&amp; cmdID &lt;= IDM_LANG_USER_LIMIT)</td>
        </tr>
        <tr>
          <td id="L3544" data-line-number="3544"></td>
          <td id="LC3544">			{</td>
        </tr>
        <tr>
          <td id="L3545" data-line-number="3545"></td>
          <td id="LC3545">				<span>return</span> L_USER;</td>
        </tr>
        <tr>
          <td id="L3546" data-line-number="3546"></td>
          <td id="LC3546">			}</td>
        </tr>
        <tr>
          <td id="L3547" data-line-number="3547"></td>
          <td id="LC3547">			<span>break</span>; </td>
        </tr>
        <tr>
          <td id="L3548" data-line-number="3548"></td>
          <td id="LC3548">		}</td>
        </tr>
        <tr>
          <td id="L3549" data-line-number="3549"></td>
          <td id="LC3549">	}</td>
        </tr>
        <tr>
          <td id="L3550" data-line-number="3550"></td>
          <td id="LC3550">	<span>return</span> L_EXTERNAL;</td>
        </tr>
        <tr>
          <td id="L3551" data-line-number="3551"></td>
          <td id="LC3551">}</td>
        </tr>
        <tr>
          <td id="L3552" data-line-number="3552"></td>
          <td id="LC3552">
</td>
        </tr>
        <tr>
          <td id="L3553" data-line-number="3553"></td>
          <td id="LC3553">
</td>
        </tr>
        <tr>
          <td id="L3554" data-line-number="3554"></td>
          <td id="LC3554"><span>void</span> <span>Notepad_plus::setTitle</span>()</td>
        </tr>
        <tr>
          <td id="L3555" data-line-number="3555"></td>
          <td id="LC3555">{</td>
        </tr>
        <tr>
          <td id="L3556" data-line-number="3556"></td>
          <td id="LC3556">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L3557" data-line-number="3557"></td>
          <td id="LC3557">	<span>const</span> NppGUI &amp; nppGUI = nppParams.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L3558" data-line-number="3558"></td>
          <td id="LC3558">	<span><span>//</span>Get the buffer</span></td>
        </tr>
        <tr>
          <td id="L3559" data-line-number="3559"></td>
          <td id="LC3559">	Buffer * buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L3560" data-line-number="3560"></td>
          <td id="LC3560">
</td>
        </tr>
        <tr>
          <td id="L3561" data-line-number="3561"></td>
          <td id="LC3561">	generic_string result = <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3562" data-line-number="3562"></td>
          <td id="LC3562">	<span>if</span> (buf-&gt;<span>isDirty</span>())</td>
        </tr>
        <tr>
          <td id="L3563" data-line-number="3563"></td>
          <td id="LC3563">	{</td>
        </tr>
        <tr>
          <td id="L3564" data-line-number="3564"></td>
          <td id="LC3564">		result += <span>TEXT</span>(<span><span>&#34;</span>*<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3565" data-line-number="3565"></td>
          <td id="LC3565">	}</td>
        </tr>
        <tr>
          <td id="L3566" data-line-number="3566"></td>
          <td id="LC3566">
</td>
        </tr>
        <tr>
          <td id="L3567" data-line-number="3567"></td>
          <td id="LC3567">	<span>if</span> (nppGUI.<span>_shortTitlebar</span>)</td>
        </tr>
        <tr>
          <td id="L3568" data-line-number="3568"></td>
          <td id="LC3568">	{</td>
        </tr>
        <tr>
          <td id="L3569" data-line-number="3569"></td>
          <td id="LC3569">		result += buf-&gt;<span>getFileName</span>();</td>
        </tr>
        <tr>
          <td id="L3570" data-line-number="3570"></td>
          <td id="LC3570">	}</td>
        </tr>
        <tr>
          <td id="L3571" data-line-number="3571"></td>
          <td id="LC3571">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L3572" data-line-number="3572"></td>
          <td id="LC3572">	{</td>
        </tr>
        <tr>
          <td id="L3573" data-line-number="3573"></td>
          <td id="LC3573">		result += buf-&gt;<span>getFullPathName</span>();</td>
        </tr>
        <tr>
          <td id="L3574" data-line-number="3574"></td>
          <td id="LC3574">	}</td>
        </tr>
        <tr>
          <td id="L3575" data-line-number="3575"></td>
          <td id="LC3575">	result += <span>TEXT</span>(<span><span>&#34;</span> - <span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3576" data-line-number="3576"></td>
          <td id="LC3576">	result += _pPublicInterface-&gt;<span>getClassName</span>();</td>
        </tr>
        <tr>
          <td id="L3577" data-line-number="3577"></td>
          <td id="LC3577">
</td>
        </tr>
        <tr>
          <td id="L3578" data-line-number="3578"></td>
          <td id="LC3578">	<span>if</span> (_isAdministrator)</td>
        </tr>
        <tr>
          <td id="L3579" data-line-number="3579"></td>
          <td id="LC3579">		result += <span>TEXT</span>(<span><span>&#34;</span> [Administrator]<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3580" data-line-number="3580"></td>
          <td id="LC3580">
</td>
        </tr>
        <tr>
          <td id="L3581" data-line-number="3581"></td>
          <td id="LC3581">	generic_string tbAdd = nppParams.<span>getTitleBarAdd</span>();</td>
        </tr>
        <tr>
          <td id="L3582" data-line-number="3582"></td>
          <td id="LC3582">	<span>if</span> (!tbAdd.<span>empty</span>())</td>
        </tr>
        <tr>
          <td id="L3583" data-line-number="3583"></td>
          <td id="LC3583">	{</td>
        </tr>
        <tr>
          <td id="L3584" data-line-number="3584"></td>
          <td id="LC3584">		result += <span>TEXT</span>(<span><span>&#34;</span> - <span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3585" data-line-number="3585"></td>
          <td id="LC3585">		result += tbAdd;</td>
        </tr>
        <tr>
          <td id="L3586" data-line-number="3586"></td>
          <td id="LC3586">	}</td>
        </tr>
        <tr>
          <td id="L3587" data-line-number="3587"></td>
          <td id="LC3587">
</td>
        </tr>
        <tr>
          <td id="L3588" data-line-number="3588"></td>
          <td id="LC3588">	<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SETTEXT, 0, reinterpret_cast&lt;LPARAM&gt;(result.c_str()));</td>
        </tr>
        <tr>
          <td id="L3589" data-line-number="3589"></td>
          <td id="LC3589">}</td>
        </tr>
        <tr>
          <td id="L3590" data-line-number="3590"></td>
          <td id="LC3590">
</td>
        </tr>
        <tr>
          <td id="L3591" data-line-number="3591"></td>
          <td id="LC3591"><span>void</span> <span>Notepad_plus::activateNextDoc</span>(<span>bool</span> direction)</td>
        </tr>
        <tr>
          <td id="L3592" data-line-number="3592"></td>
          <td id="LC3592">{</td>
        </tr>
        <tr>
          <td id="L3593" data-line-number="3593"></td>
          <td id="LC3593">	<span>int</span> nbDoc = <span>static_cast</span>&lt;<span>int32_t</span>&gt;(_pDocTab-&gt;<span>nbItem</span>());</td>
        </tr>
        <tr>
          <td id="L3594" data-line-number="3594"></td>
          <td id="LC3594">
</td>
        </tr>
        <tr>
          <td id="L3595" data-line-number="3595"></td>
          <td id="LC3595">    <span>int</span> curIndex = _pDocTab-&gt;<span>getCurrentTabIndex</span>();</td>
        </tr>
        <tr>
          <td id="L3596" data-line-number="3596"></td>
          <td id="LC3596">    curIndex += (direction == dirUp)?-<span>1</span>:<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3597" data-line-number="3597"></td>
          <td id="LC3597">
</td>
        </tr>
        <tr>
          <td id="L3598" data-line-number="3598"></td>
          <td id="LC3598">	<span>if</span> (curIndex &gt;= nbDoc)</td>
        </tr>
        <tr>
          <td id="L3599" data-line-number="3599"></td>
          <td id="LC3599">	{</td>
        </tr>
        <tr>
          <td id="L3600" data-line-number="3600"></td>
          <td id="LC3600">		<span>if</span> (<span>viewVisible</span>(<span>otherView</span>()))</td>
        </tr>
        <tr>
          <td id="L3601" data-line-number="3601"></td>
          <td id="LC3601">			<span>switchEditViewTo</span>(<span>otherView</span>());</td>
        </tr>
        <tr>
          <td id="L3602" data-line-number="3602"></td>
          <td id="LC3602">		curIndex = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3603" data-line-number="3603"></td>
          <td id="LC3603">	}</td>
        </tr>
        <tr>
          <td id="L3604" data-line-number="3604"></td>
          <td id="LC3604">	<span>else</span> <span>if</span> (curIndex &lt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3605" data-line-number="3605"></td>
          <td id="LC3605">	{</td>
        </tr>
        <tr>
          <td id="L3606" data-line-number="3606"></td>
          <td id="LC3606">		<span>if</span> (<span>viewVisible</span>(<span>otherView</span>()))</td>
        </tr>
        <tr>
          <td id="L3607" data-line-number="3607"></td>
          <td id="LC3607">		{</td>
        </tr>
        <tr>
          <td id="L3608" data-line-number="3608"></td>
          <td id="LC3608">			<span>switchEditViewTo</span>(<span>otherView</span>());</td>
        </tr>
        <tr>
          <td id="L3609" data-line-number="3609"></td>
          <td id="LC3609">			nbDoc = <span>static_cast</span>&lt;<span>int32_t</span>&gt;(_pDocTab-&gt;<span>nbItem</span>());</td>
        </tr>
        <tr>
          <td id="L3610" data-line-number="3610"></td>
          <td id="LC3610">		}</td>
        </tr>
        <tr>
          <td id="L3611" data-line-number="3611"></td>
          <td id="LC3611">		curIndex = nbDoc - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3612" data-line-number="3612"></td>
          <td id="LC3612">	}</td>
        </tr>
        <tr>
          <td id="L3613" data-line-number="3613"></td>
          <td id="LC3613">
</td>
        </tr>
        <tr>
          <td id="L3614" data-line-number="3614"></td>
          <td id="LC3614">	BufferID id = _pDocTab-&gt;<span>getBufferByIndex</span>(curIndex);</td>
        </tr>
        <tr>
          <td id="L3615" data-line-number="3615"></td>
          <td id="LC3615">	<span>activateBuffer</span>(id, <span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L3616" data-line-number="3616"></td>
          <td id="LC3616">}</td>
        </tr>
        <tr>
          <td id="L3617" data-line-number="3617"></td>
          <td id="LC3617">
</td>
        </tr>
        <tr>
          <td id="L3618" data-line-number="3618"></td>
          <td id="LC3618"><span>void</span> <span>Notepad_plus::activateDoc</span>(<span>size_t</span> pos)</td>
        </tr>
        <tr>
          <td id="L3619" data-line-number="3619"></td>
          <td id="LC3619">{</td>
        </tr>
        <tr>
          <td id="L3620" data-line-number="3620"></td>
          <td id="LC3620">	<span>size_t</span> nbDoc = _pDocTab-&gt;<span>nbItem</span>();</td>
        </tr>
        <tr>
          <td id="L3621" data-line-number="3621"></td>
          <td id="LC3621">	<span>if</span> (pos == <span>static_cast</span>&lt;<span>size_t</span>&gt;(_pDocTab-&gt;<span>getCurrentTabIndex</span>()))</td>
        </tr>
        <tr>
          <td id="L3622" data-line-number="3622"></td>
          <td id="LC3622">	{</td>
        </tr>
        <tr>
          <td id="L3623" data-line-number="3623"></td>
          <td id="LC3623">		Buffer * buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L3624" data-line-number="3624"></td>
          <td id="LC3624">		buf-&gt;<span>increaseRecentTag</span>();</td>
        </tr>
        <tr>
          <td id="L3625" data-line-number="3625"></td>
          <td id="LC3625">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3626" data-line-number="3626"></td>
          <td id="LC3626">	}</td>
        </tr>
        <tr>
          <td id="L3627" data-line-number="3627"></td>
          <td id="LC3627">
</td>
        </tr>
        <tr>
          <td id="L3628" data-line-number="3628"></td>
          <td id="LC3628">	<span>if</span> (pos &lt; nbDoc)</td>
        </tr>
        <tr>
          <td id="L3629" data-line-number="3629"></td>
          <td id="LC3629">	{</td>
        </tr>
        <tr>
          <td id="L3630" data-line-number="3630"></td>
          <td id="LC3630">		BufferID id = _pDocTab-&gt;<span>getBufferByIndex</span>(pos);</td>
        </tr>
        <tr>
          <td id="L3631" data-line-number="3631"></td>
          <td id="LC3631">		<span>activateBuffer</span>(id, <span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L3632" data-line-number="3632"></td>
          <td id="LC3632">	}</td>
        </tr>
        <tr>
          <td id="L3633" data-line-number="3633"></td>
          <td id="LC3633">}</td>
        </tr>
        <tr>
          <td id="L3634" data-line-number="3634"></td>
          <td id="LC3634">
</td>
        </tr>
        <tr>
          <td id="L3635" data-line-number="3635"></td>
          <td id="LC3635">
</td>
        </tr>
        <tr>
          <td id="L3636" data-line-number="3636"></td>
          <td id="LC3636"><span>static</span> <span>const</span> <span>char</span> utflen[] = {<span>1</span>,<span>1</span>,<span>2</span>,<span>3</span>};</td>
        </tr>
        <tr>
          <td id="L3637" data-line-number="3637"></td>
          <td id="LC3637">
</td>
        </tr>
        <tr>
          <td id="L3638" data-line-number="3638"></td>
          <td id="LC3638"><span>size_t</span> <span>Notepad_plus::getSelectedCharNumber</span>(UniMode u)</td>
        </tr>
        <tr>
          <td id="L3639" data-line-number="3639"></td>
          <td id="LC3639">{</td>
        </tr>
        <tr>
          <td id="L3640" data-line-number="3640"></td>
          <td id="LC3640">	<span>size_t</span> result = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3641" data-line-number="3641"></td>
          <td id="LC3641">	<span>size_t</span> numSel = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONS);</td>
        </tr>
        <tr>
          <td id="L3642" data-line-number="3642"></td>
          <td id="LC3642">	<span>if</span> (u == uniUTF8 || u == uniCookie)</td>
        </tr>
        <tr>
          <td id="L3643" data-line-number="3643"></td>
          <td id="LC3643">	{</td>
        </tr>
        <tr>
          <td id="L3644" data-line-number="3644"></td>
          <td id="LC3644">		<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; numSel; ++i)</td>
        </tr>
        <tr>
          <td id="L3645" data-line-number="3645"></td>
          <td id="LC3645">		{</td>
        </tr>
        <tr>
          <td id="L3646" data-line-number="3646"></td>
          <td id="LC3646">			<span>size_t</span> line1 = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNSTART, i));</td>
        </tr>
        <tr>
          <td id="L3647" data-line-number="3647"></td>
          <td id="LC3647">			<span>size_t</span> line2 = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNEND, i));</td>
        </tr>
        <tr>
          <td id="L3648" data-line-number="3648"></td>
          <td id="LC3648">			<span>for</span> (<span>size_t</span> j = line1; j &lt;= line2; ++j)</td>
        </tr>
        <tr>
          <td id="L3649" data-line-number="3649"></td>
          <td id="LC3649">			{</td>
        </tr>
        <tr>
          <td id="L3650" data-line-number="3650"></td>
          <td id="LC3650">				<span>size_t</span> stpos = _pEditView-&gt;<span>execute</span>(SCI_GETLINESELSTARTPOSITION, j);</td>
        </tr>
        <tr>
          <td id="L3651" data-line-number="3651"></td>
          <td id="LC3651">				<span>if</span> (<span>static_cast</span>&lt;<span>intptr_t</span>&gt;(stpos) != INVALID_POSITION)</td>
        </tr>
        <tr>
          <td id="L3652" data-line-number="3652"></td>
          <td id="LC3652">				{</td>
        </tr>
        <tr>
          <td id="L3653" data-line-number="3653"></td>
          <td id="LC3653">					<span>size_t</span> endpos = _pEditView-&gt;<span>execute</span>(SCI_GETLINESELENDPOSITION, j);</td>
        </tr>
        <tr>
          <td id="L3654" data-line-number="3654"></td>
          <td id="LC3654">					<span>for</span> (<span>size_t</span> pos = stpos; pos &lt; endpos; ++pos)</td>
        </tr>
        <tr>
          <td id="L3655" data-line-number="3655"></td>
          <td id="LC3655">					{</td>
        </tr>
        <tr>
          <td id="L3656" data-line-number="3656"></td>
          <td id="LC3656">						<span>unsigned</span> <span>char</span> c = <span>0xf0</span> &amp; <span>static_cast</span>&lt;<span>unsigned</span> <span>char</span>&gt;(_pEditView-&gt;<span>execute</span>(SCI_GETCHARAT, pos));</td>
        </tr>
        <tr>
          <td id="L3657" data-line-number="3657"></td>
          <td id="LC3657">						<span>if</span> (c &gt;= <span>0xc0</span>)</td>
        </tr>
        <tr>
          <td id="L3658" data-line-number="3658"></td>
          <td id="LC3658">							pos += utflen[(c &amp; <span>0x30</span>) &gt;&gt;  <span>4</span>];</td>
        </tr>
        <tr>
          <td id="L3659" data-line-number="3659"></td>
          <td id="LC3659">						++result;</td>
        </tr>
        <tr>
          <td id="L3660" data-line-number="3660"></td>
          <td id="LC3660">					}</td>
        </tr>
        <tr>
          <td id="L3661" data-line-number="3661"></td>
          <td id="LC3661">				}</td>
        </tr>
        <tr>
          <td id="L3662" data-line-number="3662"></td>
          <td id="LC3662">			}</td>
        </tr>
        <tr>
          <td id="L3663" data-line-number="3663"></td>
          <td id="LC3663">		}</td>
        </tr>
        <tr>
          <td id="L3664" data-line-number="3664"></td>
          <td id="LC3664">	}</td>
        </tr>
        <tr>
          <td id="L3665" data-line-number="3665"></td>
          <td id="LC3665">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L3666" data-line-number="3666"></td>
          <td id="LC3666">	{</td>
        </tr>
        <tr>
          <td id="L3667" data-line-number="3667"></td>
          <td id="LC3667">		<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; numSel; ++i)</td>
        </tr>
        <tr>
          <td id="L3668" data-line-number="3668"></td>
          <td id="LC3668">		{</td>
        </tr>
        <tr>
          <td id="L3669" data-line-number="3669"></td>
          <td id="LC3669">			<span>size_t</span> stpos = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNSTART, i);</td>
        </tr>
        <tr>
          <td id="L3670" data-line-number="3670"></td>
          <td id="LC3670">			<span>size_t</span> endpos = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNEND, i);</td>
        </tr>
        <tr>
          <td id="L3671" data-line-number="3671"></td>
          <td id="LC3671">			result += (endpos - stpos);</td>
        </tr>
        <tr>
          <td id="L3672" data-line-number="3672"></td>
          <td id="LC3672">			<span>size_t</span> line1 = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, stpos);</td>
        </tr>
        <tr>
          <td id="L3673" data-line-number="3673"></td>
          <td id="LC3673">			<span>size_t</span> line2 = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, endpos);</td>
        </tr>
        <tr>
          <td id="L3674" data-line-number="3674"></td>
          <td id="LC3674">			line2 -= line1;</td>
        </tr>
        <tr>
          <td id="L3675" data-line-number="3675"></td>
          <td id="LC3675">			<span>if</span> (_pEditView-&gt;<span>execute</span>(SCI_GETEOLMODE) == SC_EOL_CRLF) line2 *= <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L3676" data-line-number="3676"></td>
          <td id="LC3676">			result -= line2;</td>
        </tr>
        <tr>
          <td id="L3677" data-line-number="3677"></td>
          <td id="LC3677">		}</td>
        </tr>
        <tr>
          <td id="L3678" data-line-number="3678"></td>
          <td id="LC3678">		<span>if</span> (u != uni8Bit &amp;&amp; u != uni7Bit) result *= <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L3679" data-line-number="3679"></td>
          <td id="LC3679">	}</td>
        </tr>
        <tr>
          <td id="L3680" data-line-number="3680"></td>
          <td id="LC3680">	<span>return</span> result;</td>
        </tr>
        <tr>
          <td id="L3681" data-line-number="3681"></td>
          <td id="LC3681">}</td>
        </tr>
        <tr>
          <td id="L3682" data-line-number="3682"></td>
          <td id="LC3682">
</td>
        </tr>
        <tr>
          <td id="L3683" data-line-number="3683"></td>
          <td id="LC3683">
</td>
        </tr>
        <tr>
          <td id="L3684" data-line-number="3684"></td>
          <td id="LC3684">#<span>ifdef</span> _OPENMP</td>
        </tr>
        <tr>
          <td id="L3685" data-line-number="3685"></td>
          <td id="LC3685">#<span>include</span> <span><span>&lt;</span>omp.h<span>&gt;</span></span></td>
        </tr>
        <tr>
          <td id="L3686" data-line-number="3686"></td>
          <td id="LC3686">#<span>endif</span></td>
        </tr>
        <tr>
          <td id="L3687" data-line-number="3687"></td>
          <td id="LC3687"><span>static</span> <span>inline</span> <span>size_t</span> <span>countUtf8Characters</span>(<span>unsigned</span> <span>char</span> *buf, <span>size_t</span> pos, <span>size_t</span> endpos)</td>
        </tr>
        <tr>
          <td id="L3688" data-line-number="3688"></td>
          <td id="LC3688">{</td>
        </tr>
        <tr>
          <td id="L3689" data-line-number="3689"></td>
          <td id="LC3689">	<span>size_t</span> result = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3690" data-line-number="3690"></td>
          <td id="LC3690">	<span>while</span> (pos &lt; endpos)</td>
        </tr>
        <tr>
          <td id="L3691" data-line-number="3691"></td>
          <td id="LC3691">	{</td>
        </tr>
        <tr>
          <td id="L3692" data-line-number="3692"></td>
          <td id="LC3692">		<span>unsigned</span> <span>char</span> c = buf[pos++];</td>
        </tr>
        <tr>
          <td id="L3693" data-line-number="3693"></td>
          <td id="LC3693">		<span>if</span> ((c&amp;<span>0xc0</span>) == <span>0x80</span> <span><span>//</span> do not count unexpected continuation bytes (this handles the case where an UTF-8 character is split in the middle)</span></td>
        </tr>
        <tr>
          <td id="L3694" data-line-number="3694"></td>
          <td id="LC3694">			|| c == <span><span>&#39;</span><span>\n</span><span>&#39;</span></span> || c == <span><span>&#39;</span><span>\r</span><span>&#39;</span></span>) <span>continue</span>; <span><span>//</span> do not count end of lines</span></td>
        </tr>
        <tr>
          <td id="L3695" data-line-number="3695"></td>
          <td id="LC3695">		<span>if</span> (c &gt;= <span>0xc0</span>) </td>
        </tr>
        <tr>
          <td id="L3696" data-line-number="3696"></td>
          <td id="LC3696">			pos += utflen[(c &amp; <span>0x30</span>) &gt;&gt;  <span>4</span>];</td>
        </tr>
        <tr>
          <td id="L3697" data-line-number="3697"></td>
          <td id="LC3697">		++result;</td>
        </tr>
        <tr>
          <td id="L3698" data-line-number="3698"></td>
          <td id="LC3698">	}</td>
        </tr>
        <tr>
          <td id="L3699" data-line-number="3699"></td>
          <td id="LC3699">	<span>return</span> result;</td>
        </tr>
        <tr>
          <td id="L3700" data-line-number="3700"></td>
          <td id="LC3700">}</td>
        </tr>
        <tr>
          <td id="L3701" data-line-number="3701"></td>
          <td id="LC3701">
</td>
        </tr>
        <tr>
          <td id="L3702" data-line-number="3702"></td>
          <td id="LC3702">
</td>
        </tr>
        <tr>
          <td id="L3703" data-line-number="3703"></td>
          <td id="LC3703"><span>size_t</span> <span>Notepad_plus::getCurrentDocCharCount</span>(UniMode u)</td>
        </tr>
        <tr>
          <td id="L3704" data-line-number="3704"></td>
          <td id="LC3704">{</td>
        </tr>
        <tr>
          <td id="L3705" data-line-number="3705"></td>
          <td id="LC3705">	<span>if</span> (u != uniUTF8 &amp;&amp; u != uniCookie)</td>
        </tr>
        <tr>
          <td id="L3706" data-line-number="3706"></td>
          <td id="LC3706">	{</td>
        </tr>
        <tr>
          <td id="L3707" data-line-number="3707"></td>
          <td id="LC3707">		<span>size_t</span> numLines = _pEditView-&gt;<span>execute</span>(SCI_GETLINECOUNT);</td>
        </tr>
        <tr>
          <td id="L3708" data-line-number="3708"></td>
          <td id="LC3708">		<span>auto</span> result = _pEditView-&gt;<span>execute</span>(SCI_GETLENGTH);</td>
        </tr>
        <tr>
          <td id="L3709" data-line-number="3709"></td>
          <td id="LC3709">		<span>size_t</span> lines = numLines==<span>0</span>?<span>0</span>:numLines-<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3710" data-line-number="3710"></td>
          <td id="LC3710">		<span>if</span> (_pEditView-&gt;<span>execute</span>(SCI_GETEOLMODE) == SC_EOL_CRLF) lines *= <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L3711" data-line-number="3711"></td>
          <td id="LC3711">		result -= lines;</td>
        </tr>
        <tr>
          <td id="L3712" data-line-number="3712"></td>
          <td id="LC3712">		<span>return</span> (result &lt; <span>0</span>) ? <span>0</span> : result;</td>
        </tr>
        <tr>
          <td id="L3713" data-line-number="3713"></td>
          <td id="LC3713">	}</td>
        </tr>
        <tr>
          <td id="L3714" data-line-number="3714"></td>
          <td id="LC3714"> 	<span>else</span></td>
        </tr>
        <tr>
          <td id="L3715" data-line-number="3715"></td>
          <td id="LC3715"> 	{</td>
        </tr>
        <tr>
          <td id="L3716" data-line-number="3716"></td>
          <td id="LC3716">		<span><span>//</span> Note that counting is not well defined for invalid UTF-8 characters.</span></td>
        </tr>
        <tr>
          <td id="L3717" data-line-number="3717"></td>
          <td id="LC3717">		<span><span>//</span> This method is O(filelength) regardless of the number of characters we count (due to SCI_GETCHARACTERPOINTER);</span></td>
        </tr>
        <tr>
          <td id="L3718" data-line-number="3718"></td>
          <td id="LC3718">		<span><span>//</span> it would not be appropriate for counting characters in a small selection.</span></td>
        </tr>
        <tr>
          <td id="L3719" data-line-number="3719"></td>
          <td id="LC3719">		<span>size_t</span> result = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3720" data-line-number="3720"></td>
          <td id="LC3720">
</td>
        </tr>
        <tr>
          <td id="L3721" data-line-number="3721"></td>
          <td id="LC3721">		<span>size_t</span> endpos = _pEditView-&gt;<span>execute</span>(SCI_GETLENGTH);</td>
        </tr>
        <tr>
          <td id="L3722" data-line-number="3722"></td>
          <td id="LC3722">		<span>unsigned</span> <span>char</span>* buf = (<span>unsigned</span> <span>char</span>*)_pEditView-&gt;<span>execute</span>(SCI_GETCHARACTERPOINTER); <span><span>//</span> Scintilla doc said the pointer can be invalidated by any other &#34;execute&#34;</span></td>
        </tr>
        <tr>
          <td id="L3723" data-line-number="3723"></td>
          <td id="LC3723">
</td>
        </tr>
        <tr>
          <td id="L3724" data-line-number="3724"></td>
          <td id="LC3724">#<span>ifdef</span> _OPENMP <span><span>//</span> parallel counting of characters with OpenMP</span></td>
        </tr>
        <tr>
          <td id="L3725" data-line-number="3725"></td>
          <td id="LC3725">		<span>if</span> (endpos &gt; <span>50000</span>) <span><span>//</span> starting threads takes time; for small files it is better to simply count in one thread</span></td>
        </tr>
        <tr>
          <td id="L3726" data-line-number="3726"></td>
          <td id="LC3726">		{</td>
        </tr>
        <tr>
          <td id="L3727" data-line-number="3727"></td>
          <td id="LC3727">			#<span>pragma</span> omp parallel reduction(+: result)</td>
        </tr>
        <tr>
          <td id="L3728" data-line-number="3728"></td>
          <td id="LC3728">			{</td>
        </tr>
        <tr>
          <td id="L3729" data-line-number="3729"></td>
          <td id="LC3729">				<span><span>//</span> split in chunks of same size (except last chunk if it&#39;s not evenly divisible)</span></td>
        </tr>
        <tr>
          <td id="L3730" data-line-number="3730"></td>
          <td id="LC3730">				<span>unsigned</span> <span>int</span> num_threads = <span>omp_get_num_threads</span>();</td>
        </tr>
        <tr>
          <td id="L3731" data-line-number="3731"></td>
          <td id="LC3731">				<span>unsigned</span> <span>int</span> thread_num = <span>omp_get_thread_num</span>();</td>
        </tr>
        <tr>
          <td id="L3732" data-line-number="3732"></td>
          <td id="LC3732">				<span>size_t</span> chunk_size = endpos/num_threads;</td>
        </tr>
        <tr>
          <td id="L3733" data-line-number="3733"></td>
          <td id="LC3733">				<span>size_t</span> pos = chunk_size*thread_num;</td>
        </tr>
        <tr>
          <td id="L3734" data-line-number="3734"></td>
          <td id="LC3734">				<span>size_t</span> endpos_local = (thread_num == num_threads-<span>1</span>) ? endpos : pos+chunk_size;</td>
        </tr>
        <tr>
          <td id="L3735" data-line-number="3735"></td>
          <td id="LC3735">				result = <span>countUtf8Characters</span>(buf, pos, endpos_local);</td>
        </tr>
        <tr>
          <td id="L3736" data-line-number="3736"></td>
          <td id="LC3736">			}</td>
        </tr>
        <tr>
          <td id="L3737" data-line-number="3737"></td>
          <td id="LC3737">		}</td>
        </tr>
        <tr>
          <td id="L3738" data-line-number="3738"></td>
          <td id="LC3738">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L3739" data-line-number="3739"></td>
          <td id="LC3739">#<span>endif</span></td>
        </tr>
        <tr>
          <td id="L3740" data-line-number="3740"></td>
          <td id="LC3740">		{</td>
        </tr>
        <tr>
          <td id="L3741" data-line-number="3741"></td>
          <td id="LC3741">			result = <span>countUtf8Characters</span>(buf, <span>0</span>, endpos);</td>
        </tr>
        <tr>
          <td id="L3742" data-line-number="3742"></td>
          <td id="LC3742">		}</td>
        </tr>
        <tr>
          <td id="L3743" data-line-number="3743"></td>
          <td id="LC3743"> 		<span>return</span> result;</td>
        </tr>
        <tr>
          <td id="L3744" data-line-number="3744"></td>
          <td id="LC3744"> 	}</td>
        </tr>
        <tr>
          <td id="L3745" data-line-number="3745"></td>
          <td id="LC3745">}</td>
        </tr>
        <tr>
          <td id="L3746" data-line-number="3746"></td>
          <td id="LC3746">
</td>
        </tr>
        <tr>
          <td id="L3747" data-line-number="3747"></td>
          <td id="LC3747">
</td>
        </tr>
        <tr>
          <td id="L3748" data-line-number="3748"></td>
          <td id="LC3748"><span>bool</span> <span>Notepad_plus::isFormatUnicode</span>(UniMode u)</td>
        </tr>
        <tr>
          <td id="L3749" data-line-number="3749"></td>
          <td id="LC3749">{</td>
        </tr>
        <tr>
          <td id="L3750" data-line-number="3750"></td>
          <td id="LC3750">	<span>return</span> (u != uni8Bit &amp;&amp; u != uni7Bit &amp;&amp; u != uniUTF8 &amp;&amp; u != uniCookie);</td>
        </tr>
        <tr>
          <td id="L3751" data-line-number="3751"></td>
          <td id="LC3751">}</td>
        </tr>
        <tr>
          <td id="L3752" data-line-number="3752"></td>
          <td id="LC3752">
</td>
        </tr>
        <tr>
          <td id="L3753" data-line-number="3753"></td>
          <td id="LC3753"><span>int</span> <span>Notepad_plus::getBOMSize</span>(UniMode u)</td>
        </tr>
        <tr>
          <td id="L3754" data-line-number="3754"></td>
          <td id="LC3754">{</td>
        </tr>
        <tr>
          <td id="L3755" data-line-number="3755"></td>
          <td id="LC3755">	<span>switch</span>(u)</td>
        </tr>
        <tr>
          <td id="L3756" data-line-number="3756"></td>
          <td id="LC3756">	{</td>
        </tr>
        <tr>
          <td id="L3757" data-line-number="3757"></td>
          <td id="LC3757">		<span>case</span> uni16LE:</td>
        </tr>
        <tr>
          <td id="L3758" data-line-number="3758"></td>
          <td id="LC3758">		<span>case</span> uni16BE:</td>
        </tr>
        <tr>
          <td id="L3759" data-line-number="3759"></td>
          <td id="LC3759">			<span>return</span> <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L3760" data-line-number="3760"></td>
          <td id="LC3760">		<span>case</span> uniUTF8:</td>
        </tr>
        <tr>
          <td id="L3761" data-line-number="3761"></td>
          <td id="LC3761">			<span>return</span> <span>3</span>;</td>
        </tr>
        <tr>
          <td id="L3762" data-line-number="3762"></td>
          <td id="LC3762">		<span>default</span>:</td>
        </tr>
        <tr>
          <td id="L3763" data-line-number="3763"></td>
          <td id="LC3763">			<span>return</span> <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3764" data-line-number="3764"></td>
          <td id="LC3764">	}</td>
        </tr>
        <tr>
          <td id="L3765" data-line-number="3765"></td>
          <td id="LC3765">}</td>
        </tr>
        <tr>
          <td id="L3766" data-line-number="3766"></td>
          <td id="LC3766">
</td>
        </tr>
        <tr>
          <td id="L3767" data-line-number="3767"></td>
          <td id="LC3767"><span>size_t</span> <span>Notepad_plus::getSelectedAreas</span>()</td>
        </tr>
        <tr>
          <td id="L3768" data-line-number="3768"></td>
          <td id="LC3768">{</td>
        </tr>
        <tr>
          <td id="L3769" data-line-number="3769"></td>
          <td id="LC3769">	<span>size_t</span> numSel = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONS);</td>
        </tr>
        <tr>
          <td id="L3770" data-line-number="3770"></td>
          <td id="LC3770">	<span>if</span> (numSel == <span>1</span>) <span><span>//</span> either 0 or 1 selection</span></td>
        </tr>
        <tr>
          <td id="L3771" data-line-number="3771"></td>
          <td id="LC3771">		<span>return</span> (_pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNSTART, <span>0</span>) == _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNEND, <span>0</span>)) ? <span>0</span> : <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L3772" data-line-number="3772"></td>
          <td id="LC3772">	<span>return</span> (_pEditView-&gt;<span>execute</span>(SCI_SELECTIONISRECTANGLE)) ? <span>1</span> : numSel;</td>
        </tr>
        <tr>
          <td id="L3773" data-line-number="3773"></td>
          <td id="LC3773">}</td>
        </tr>
        <tr>
          <td id="L3774" data-line-number="3774"></td>
          <td id="LC3774">
</td>
        </tr>
        <tr>
          <td id="L3775" data-line-number="3775"></td>
          <td id="LC3775"><span>size_t</span> <span>Notepad_plus::getSelectedBytes</span>()</td>
        </tr>
        <tr>
          <td id="L3776" data-line-number="3776"></td>
          <td id="LC3776">{</td>
        </tr>
        <tr>
          <td id="L3777" data-line-number="3777"></td>
          <td id="LC3777">	<span>size_t</span> numSel = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONS);</td>
        </tr>
        <tr>
          <td id="L3778" data-line-number="3778"></td>
          <td id="LC3778">	<span>size_t</span> result = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3779" data-line-number="3779"></td>
          <td id="LC3779">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; numSel; ++i)</td>
        </tr>
        <tr>
          <td id="L3780" data-line-number="3780"></td>
          <td id="LC3780">		result += (_pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNEND, i) - _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNSTART, i));</td>
        </tr>
        <tr>
          <td id="L3781" data-line-number="3781"></td>
          <td id="LC3781">	<span>return</span> result;</td>
        </tr>
        <tr>
          <td id="L3782" data-line-number="3782"></td>
          <td id="LC3782">}</td>
        </tr>
        <tr>
          <td id="L3783" data-line-number="3783"></td>
          <td id="LC3783">
</td>
        </tr>
        <tr>
          <td id="L3784" data-line-number="3784"></td>
          <td id="LC3784"><span>int</span> <span>Notepad_plus::wordCount</span>()</td>
        </tr>
        <tr>
          <td id="L3785" data-line-number="3785"></td>
          <td id="LC3785">{</td>
        </tr>
        <tr>
          <td id="L3786" data-line-number="3786"></td>
          <td id="LC3786">    FindOption env;</td>
        </tr>
        <tr>
          <td id="L3787" data-line-number="3787"></td>
          <td id="LC3787">    env.<span>_str2Search</span> = <span>TEXT</span>(<span><span>&#34;</span>[^ 	<span>\\\\</span>.,;:!?()+<span>\\</span>r<span>\\</span>n<span>\\</span>-<span>\\</span>*/=<span>\\</span>]<span>\\</span>[{}&amp;~<span>\&#34;</span>&#39;`|@$%&lt;&gt;<span>\\</span>^]+<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3788" data-line-number="3788"></td>
          <td id="LC3788">    env.<span>_searchType</span> = FindRegex;</td>
        </tr>
        <tr>
          <td id="L3789" data-line-number="3789"></td>
          <td id="LC3789">    <span>return</span> _findReplaceDlg.<span>processAll</span>(ProcessCountAll, &amp;env, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L3790" data-line-number="3790"></td>
          <td id="LC3790">}</td>
        </tr>
        <tr>
          <td id="L3791" data-line-number="3791"></td>
          <td id="LC3791">
</td>
        </tr>
        <tr>
          <td id="L3792" data-line-number="3792"></td>
          <td id="LC3792"><span>void</span> <span>Notepad_plus::updateStatusBar</span>()</td>
        </tr>
        <tr>
          <td id="L3793" data-line-number="3793"></td>
          <td id="LC3793">{</td>
        </tr>
        <tr>
          <td id="L3794" data-line-number="3794"></td>
          <td id="LC3794">	<span><span>//</span> these sections of status bar NOT updated by this function:</span></td>
        </tr>
        <tr>
          <td id="L3795" data-line-number="3795"></td>
          <td id="LC3795">	<span><span>//</span> STATUSBAR_DOC_TYPE , STATUSBAR_EOF_FORMAT , STATUSBAR_UNICODE_TYPE</span></td>
        </tr>
        <tr>
          <td id="L3796" data-line-number="3796"></td>
          <td id="LC3796">
</td>
        </tr>
        <tr>
          <td id="L3797" data-line-number="3797"></td>
          <td id="LC3797">	TCHAR strDocLen[<span>256</span>];</td>
        </tr>
        <tr>
          <td id="L3798" data-line-number="3798"></td>
          <td id="LC3798">	<span>size_t</span> docLen = _pEditView-&gt;<span>getCurrentDocLen</span>();</td>
        </tr>
        <tr>
          <td id="L3799" data-line-number="3799"></td>
          <td id="LC3799">	<span>intptr_t</span> nbLine = _pEditView-&gt;<span>execute</span>(SCI_GETLINECOUNT);</td>
        </tr>
        <tr>
          <td id="L3800" data-line-number="3800"></td>
          <td id="LC3800">	<span>wsprintf</span>(strDocLen, <span>TEXT</span>(<span><span>&#34;</span>length : %s    lines : %s<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3801" data-line-number="3801"></td>
          <td id="LC3801">		<span>commafyInt</span>(docLen).<span>c_str</span>(),</td>
        </tr>
        <tr>
          <td id="L3802" data-line-number="3802"></td>
          <td id="LC3802">		<span>commafyInt</span>(nbLine).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L3803" data-line-number="3803"></td>
          <td id="LC3803">	_statusBar.<span>setText</span>(strDocLen, STATUSBAR_DOC_SIZE);</td>
        </tr>
        <tr>
          <td id="L3804" data-line-number="3804"></td>
          <td id="LC3804">
</td>
        </tr>
        <tr>
          <td id="L3805" data-line-number="3805"></td>
          <td id="LC3805">	TCHAR strSel[<span>64</span>];</td>
        </tr>
        <tr>
          <td id="L3806" data-line-number="3806"></td>
          <td id="LC3806">
</td>
        </tr>
        <tr>
          <td id="L3807" data-line-number="3807"></td>
          <td id="LC3807">	<span>size_t</span> numSelections = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONS);</td>
        </tr>
        <tr>
          <td id="L3808" data-line-number="3808"></td>
          <td id="LC3808">	<span>if</span> (numSelections == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L3809" data-line-number="3809"></td>
          <td id="LC3809">	{</td>
        </tr>
        <tr>
          <td id="L3810" data-line-number="3810"></td>
          <td id="LC3810">		<span>if</span> (_pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEMPTY))</td>
        </tr>
        <tr>
          <td id="L3811" data-line-number="3811"></td>
          <td id="LC3811">		{</td>
        </tr>
        <tr>
          <td id="L3812" data-line-number="3812"></td>
          <td id="LC3812">			<span>size_t</span> currPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L3813" data-line-number="3813"></td>
          <td id="LC3813">			<span>wsprintf</span>(strSel, <span>TEXT</span>(<span><span>&#34;</span>Pos : %s<span>&#34;</span></span>), <span>commafyInt</span>(currPos + <span>1</span>).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L3814" data-line-number="3814"></td>
          <td id="LC3814">		}</td>
        </tr>
        <tr>
          <td id="L3815" data-line-number="3815"></td>
          <td id="LC3815">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L3816" data-line-number="3816"></td>
          <td id="LC3816">		{</td>
        </tr>
        <tr>
          <td id="L3817" data-line-number="3817"></td>
          <td id="LC3817">			<span>const</span> std::pair&lt;<span>size_t</span>, <span>size_t</span>&gt; oneSelCharsAndLines = _pEditView-&gt;<span>getSelectedCharsAndLinesCount</span>();</td>
        </tr>
        <tr>
          <td id="L3818" data-line-number="3818"></td>
          <td id="LC3818">			<span>wsprintf</span>(strSel, <span>TEXT</span>(<span><span>&#34;</span>Sel : %s | %s<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3819" data-line-number="3819"></td>
          <td id="LC3819">				<span>commafyInt</span>(oneSelCharsAndLines.<span>first</span>).<span>c_str</span>(),</td>
        </tr>
        <tr>
          <td id="L3820" data-line-number="3820"></td>
          <td id="LC3820">				<span>commafyInt</span>(oneSelCharsAndLines.<span>second</span>).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L3821" data-line-number="3821"></td>
          <td id="LC3821">		}</td>
        </tr>
        <tr>
          <td id="L3822" data-line-number="3822"></td>
          <td id="LC3822">	}</td>
        </tr>
        <tr>
          <td id="L3823" data-line-number="3823"></td>
          <td id="LC3823">	<span>else</span> <span>if</span> (_pEditView-&gt;<span>execute</span>(SCI_SELECTIONISRECTANGLE))</td>
        </tr>
        <tr>
          <td id="L3824" data-line-number="3824"></td>
          <td id="LC3824">	{</td>
        </tr>
        <tr>
          <td id="L3825" data-line-number="3825"></td>
          <td id="LC3825">		<span>const</span> std::pair&lt;<span>size_t</span>, <span>size_t</span>&gt; rectSelCharsAndLines = _pEditView-&gt;<span>getSelectedCharsAndLinesCount</span>();</td>
        </tr>
        <tr>
          <td id="L3826" data-line-number="3826"></td>
          <td id="LC3826">
</td>
        </tr>
        <tr>
          <td id="L3827" data-line-number="3827"></td>
          <td id="LC3827">		<span>bool</span> sameCharCountOnEveryLine = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L3828" data-line-number="3828"></td>
          <td id="LC3828">		<span>size_t</span> maxLineCharCount = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L3829" data-line-number="3829"></td>
          <td id="LC3829">
</td>
        </tr>
        <tr>
          <td id="L3830" data-line-number="3830"></td>
          <td id="LC3830">		<span>for</span> (<span>size_t</span> sel = <span>0</span>; sel &lt; numSelections; ++sel)</td>
        </tr>
        <tr>
          <td id="L3831" data-line-number="3831"></td>
          <td id="LC3831">		{</td>
        </tr>
        <tr>
          <td id="L3832" data-line-number="3832"></td>
          <td id="LC3832">			<span>size_t</span> start = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNSTART, sel);</td>
        </tr>
        <tr>
          <td id="L3833" data-line-number="3833"></td>
          <td id="LC3833">			<span>size_t</span> end = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONNEND, sel);</td>
        </tr>
        <tr>
          <td id="L3834" data-line-number="3834"></td>
          <td id="LC3834">			<span>size_t</span> lineCharCount = _pEditView-&gt;<span>execute</span>(SCI_COUNTCHARACTERS, start, end);</td>
        </tr>
        <tr>
          <td id="L3835" data-line-number="3835"></td>
          <td id="LC3835">
</td>
        </tr>
        <tr>
          <td id="L3836" data-line-number="3836"></td>
          <td id="LC3836">			<span>if</span> (sel == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L3837" data-line-number="3837"></td>
          <td id="LC3837">			{</td>
        </tr>
        <tr>
          <td id="L3838" data-line-number="3838"></td>
          <td id="LC3838">				maxLineCharCount = lineCharCount;</td>
        </tr>
        <tr>
          <td id="L3839" data-line-number="3839"></td>
          <td id="LC3839">			}</td>
        </tr>
        <tr>
          <td id="L3840" data-line-number="3840"></td>
          <td id="LC3840">			<span>else</span> </td>
        </tr>
        <tr>
          <td id="L3841" data-line-number="3841"></td>
          <td id="LC3841">			{</td>
        </tr>
        <tr>
          <td id="L3842" data-line-number="3842"></td>
          <td id="LC3842">				<span>if</span> (lineCharCount != maxLineCharCount)</td>
        </tr>
        <tr>
          <td id="L3843" data-line-number="3843"></td>
          <td id="LC3843">				{</td>
        </tr>
        <tr>
          <td id="L3844" data-line-number="3844"></td>
          <td id="LC3844">					sameCharCountOnEveryLine = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L3845" data-line-number="3845"></td>
          <td id="LC3845">					<span>if</span> (lineCharCount &gt; maxLineCharCount)</td>
        </tr>
        <tr>
          <td id="L3846" data-line-number="3846"></td>
          <td id="LC3846">					{</td>
        </tr>
        <tr>
          <td id="L3847" data-line-number="3847"></td>
          <td id="LC3847">						maxLineCharCount = lineCharCount;</td>
        </tr>
        <tr>
          <td id="L3848" data-line-number="3848"></td>
          <td id="LC3848">					}</td>
        </tr>
        <tr>
          <td id="L3849" data-line-number="3849"></td>
          <td id="LC3849">				}</td>
        </tr>
        <tr>
          <td id="L3850" data-line-number="3850"></td>
          <td id="LC3850">			}</td>
        </tr>
        <tr>
          <td id="L3851" data-line-number="3851"></td>
          <td id="LC3851">		}</td>
        </tr>
        <tr>
          <td id="L3852" data-line-number="3852"></td>
          <td id="LC3852">
</td>
        </tr>
        <tr>
          <td id="L3853" data-line-number="3853"></td>
          <td id="LC3853">		<span>wsprintf</span>(strSel, <span>TEXT</span>(<span><span>&#34;</span>Sel : %sx%s %s %s<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3854" data-line-number="3854"></td>
          <td id="LC3854">			<span>commafyInt</span>(numSelections).<span>c_str</span>(),  <span><span>//</span> lines (rows) in rectangular selection</span></td>
        </tr>
        <tr>
          <td id="L3855" data-line-number="3855"></td>
          <td id="LC3855">			<span>commafyInt</span>(maxLineCharCount).<span>c_str</span>(),  <span><span>//</span> show maximum width for columns</span></td>
        </tr>
        <tr>
          <td id="L3856" data-line-number="3856"></td>
          <td id="LC3856">			sameCharCountOnEveryLine ? <span>TEXT</span>(<span><span>&#34;</span>=<span>&#34;</span></span>) : <span>TEXT</span>(<span><span>&#34;</span>-&gt;<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3857" data-line-number="3857"></td>
          <td id="LC3857">			<span>commafyInt</span>(rectSelCharsAndLines.<span>first</span>).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L3858" data-line-number="3858"></td>
          <td id="LC3858">	}</td>
        </tr>
        <tr>
          <td id="L3859" data-line-number="3859"></td>
          <td id="LC3859">	<span>else</span>  <span><span>//</span> multiple stream selections</span></td>
        </tr>
        <tr>
          <td id="L3860" data-line-number="3860"></td>
          <td id="LC3860">	{</td>
        </tr>
        <tr>
          <td id="L3861" data-line-number="3861"></td>
          <td id="LC3861">		<span>const</span> <span>int</span> maxSelsToProcessLineCount = <span>99</span>;  <span><span>//</span> limit the number of selections to process, for performance reasons</span></td>
        </tr>
        <tr>
          <td id="L3862" data-line-number="3862"></td>
          <td id="LC3862">		<span>const</span> std::pair&lt;<span>size_t</span>, <span>size_t</span>&gt; multipleSelCharsAndLines = _pEditView-&gt;<span>getSelectedCharsAndLinesCount</span>(maxSelsToProcessLineCount);</td>
        </tr>
        <tr>
          <td id="L3863" data-line-number="3863"></td>
          <td id="LC3863">
</td>
        </tr>
        <tr>
          <td id="L3864" data-line-number="3864"></td>
          <td id="LC3864">		<span>wsprintf</span>(strSel, <span>TEXT</span>(<span><span>&#34;</span>Sel %s : %s | %s<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3865" data-line-number="3865"></td>
          <td id="LC3865">			<span>commafyInt</span>(numSelections).<span>c_str</span>(),</td>
        </tr>
        <tr>
          <td id="L3866" data-line-number="3866"></td>
          <td id="LC3866">			<span>commafyInt</span>(multipleSelCharsAndLines.<span>first</span>).<span>c_str</span>(),</td>
        </tr>
        <tr>
          <td id="L3867" data-line-number="3867"></td>
          <td id="LC3867">			numSelections &lt;= maxSelsToProcessLineCount ?</td>
        </tr>
        <tr>
          <td id="L3868" data-line-number="3868"></td>
          <td id="LC3868">				<span>commafyInt</span>(multipleSelCharsAndLines.<span>second</span>).<span>c_str</span>() :</td>
        </tr>
        <tr>
          <td id="L3869" data-line-number="3869"></td>
          <td id="LC3869">				<span>TEXT</span>(<span><span>&#34;</span>...<span>&#34;</span></span>));  <span><span>//</span> show ellipsis for line count if too many selections are active</span></td>
        </tr>
        <tr>
          <td id="L3870" data-line-number="3870"></td>
          <td id="LC3870">	}</td>
        </tr>
        <tr>
          <td id="L3871" data-line-number="3871"></td>
          <td id="LC3871">
</td>
        </tr>
        <tr>
          <td id="L3872" data-line-number="3872"></td>
          <td id="LC3872">	TCHAR strLnColSel[<span>128</span>];</td>
        </tr>
        <tr>
          <td id="L3873" data-line-number="3873"></td>
          <td id="LC3873">	<span>intptr_t</span> curLN = _pEditView-&gt;<span>getCurrentLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L3874" data-line-number="3874"></td>
          <td id="LC3874">	<span>intptr_t</span> curCN = _pEditView-&gt;<span>getCurrentColumnNumber</span>();</td>
        </tr>
        <tr>
          <td id="L3875" data-line-number="3875"></td>
          <td id="LC3875">	<span>wsprintf</span>(strLnColSel, <span>TEXT</span>(<span><span>&#34;</span>Ln : %s    Col : %s    %s<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3876" data-line-number="3876"></td>
          <td id="LC3876">		<span>commafyInt</span>(curLN + <span>1</span>).<span>c_str</span>(),</td>
        </tr>
        <tr>
          <td id="L3877" data-line-number="3877"></td>
          <td id="LC3877">		<span>commafyInt</span>(curCN + <span>1</span>).<span>c_str</span>(),</td>
        </tr>
        <tr>
          <td id="L3878" data-line-number="3878"></td>
          <td id="LC3878">		strSel);</td>
        </tr>
        <tr>
          <td id="L3879" data-line-number="3879"></td>
          <td id="LC3879">	_statusBar.<span>setText</span>(strLnColSel, STATUSBAR_CUR_POS);</td>
        </tr>
        <tr>
          <td id="L3880" data-line-number="3880"></td>
          <td id="LC3880">
</td>
        </tr>
        <tr>
          <td id="L3881" data-line-number="3881"></td>
          <td id="LC3881">	_statusBar.<span>setText</span>(_pEditView-&gt;<span>execute</span>(SCI_GETOVERTYPE) ? <span>TEXT</span>(<span><span>&#34;</span>OVR<span>&#34;</span></span>) : <span>TEXT</span>(<span><span>&#34;</span>INS<span>&#34;</span></span>), STATUSBAR_TYPING_MODE);</td>
        </tr>
        <tr>
          <td id="L3882" data-line-number="3882"></td>
          <td id="LC3882">	</td>
        </tr>
        <tr>
          <td id="L3883" data-line-number="3883"></td>
          <td id="LC3883">	<span>if</span> (_goToLineDlg.<span>isCreated</span>() &amp;&amp; _goToLineDlg.<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L3884" data-line-number="3884"></td>
          <td id="LC3884">	{</td>
        </tr>
        <tr>
          <td id="L3885" data-line-number="3885"></td>
          <td id="LC3885">		_goToLineDlg.<span>updateLinesNumbers</span>();</td>
        </tr>
        <tr>
          <td id="L3886" data-line-number="3886"></td>
          <td id="LC3886">	}</td>
        </tr>
        <tr>
          <td id="L3887" data-line-number="3887"></td>
          <td id="LC3887">}</td>
        </tr>
        <tr>
          <td id="L3888" data-line-number="3888"></td>
          <td id="LC3888">
</td>
        </tr>
        <tr>
          <td id="L3889" data-line-number="3889"></td>
          <td id="LC3889"><span>void</span> <span>Notepad_plus::dropFiles</span>(HDROP hdrop)</td>
        </tr>
        <tr>
          <td id="L3890" data-line-number="3890"></td>
          <td id="LC3890">{</td>
        </tr>
        <tr>
          <td id="L3891" data-line-number="3891"></td>
          <td id="LC3891">	<span>if</span> (hdrop)</td>
        </tr>
        <tr>
          <td id="L3892" data-line-number="3892"></td>
          <td id="LC3892">	{</td>
        </tr>
        <tr>
          <td id="L3893" data-line-number="3893"></td>
          <td id="LC3893">		<span><span>//</span> Determinate in which view the file(s) is (are) dropped</span></td>
        </tr>
        <tr>
          <td id="L3894" data-line-number="3894"></td>
          <td id="LC3894">		POINT p;</td>
        </tr>
        <tr>
          <td id="L3895" data-line-number="3895"></td>
          <td id="LC3895">		<span>::DragQueryPoint</span>(hdrop, &amp;p);</td>
        </tr>
        <tr>
          <td id="L3896" data-line-number="3896"></td>
          <td id="LC3896">		HWND hWin = ::<span>ChildWindowFromPointEx</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), p, CWP_SKIPINVISIBLE);</td>
        </tr>
        <tr>
          <td id="L3897" data-line-number="3897"></td>
          <td id="LC3897">		<span>if</span> (!hWin) <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3898" data-line-number="3898"></td>
          <td id="LC3898">
</td>
        </tr>
        <tr>
          <td id="L3899" data-line-number="3899"></td>
          <td id="LC3899">		<span>if</span> ((_subEditView.<span>getHSelf</span>() == hWin) || (_subDocTab.<span>getHSelf</span>() == hWin))</td>
        </tr>
        <tr>
          <td id="L3900" data-line-number="3900"></td>
          <td id="LC3900">			<span>switchEditViewTo</span>(SUB_VIEW);</td>
        </tr>
        <tr>
          <td id="L3901" data-line-number="3901"></td>
          <td id="LC3901">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L3902" data-line-number="3902"></td>
          <td id="LC3902">			<span>switchEditViewTo</span>(MAIN_VIEW);</td>
        </tr>
        <tr>
          <td id="L3903" data-line-number="3903"></td>
          <td id="LC3903">
</td>
        </tr>
        <tr>
          <td id="L3904" data-line-number="3904"></td>
          <td id="LC3904">		<span>int</span> filesDropped = ::<span>DragQueryFile</span>(hdrop, <span>0xffffffff</span>, <span>NULL</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L3905" data-line-number="3905"></td>
          <td id="LC3905">
</td>
        </tr>
        <tr>
          <td id="L3906" data-line-number="3906"></td>
          <td id="LC3906">		vector&lt;generic_string&gt; folderPaths;</td>
        </tr>
        <tr>
          <td id="L3907" data-line-number="3907"></td>
          <td id="LC3907">		vector&lt;generic_string&gt; filePaths;</td>
        </tr>
        <tr>
          <td id="L3908" data-line-number="3908"></td>
          <td id="LC3908">		<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; filesDropped; ++i)</td>
        </tr>
        <tr>
          <td id="L3909" data-line-number="3909"></td>
          <td id="LC3909">		{</td>
        </tr>
        <tr>
          <td id="L3910" data-line-number="3910"></td>
          <td id="LC3910">			TCHAR pathDropped[MAX_PATH];</td>
        </tr>
        <tr>
          <td id="L3911" data-line-number="3911"></td>
          <td id="LC3911">			<span>::DragQueryFile</span>(hdrop, i, pathDropped, MAX_PATH);</td>
        </tr>
        <tr>
          <td id="L3912" data-line-number="3912"></td>
          <td id="LC3912">			<span>if</span> (::<span>PathIsDirectory</span>(pathDropped))</td>
        </tr>
        <tr>
          <td id="L3913" data-line-number="3913"></td>
          <td id="LC3913">			{</td>
        </tr>
        <tr>
          <td id="L3914" data-line-number="3914"></td>
          <td id="LC3914">				<span>size_t</span> len = <span>lstrlen</span>(pathDropped);</td>
        </tr>
        <tr>
          <td id="L3915" data-line-number="3915"></td>
          <td id="LC3915">				<span>if</span> (len &gt; <span>0</span> &amp;&amp; pathDropped[len - <span>1</span>] != <span>TCHAR</span>(<span><span>&#39;</span><span>\\</span><span>&#39;</span></span>))</td>
        </tr>
        <tr>
          <td id="L3916" data-line-number="3916"></td>
          <td id="LC3916">				{</td>
        </tr>
        <tr>
          <td id="L3917" data-line-number="3917"></td>
          <td id="LC3917">					pathDropped[len] = <span>TCHAR</span>(<span><span>&#39;</span><span>\\</span><span>&#39;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3918" data-line-number="3918"></td>
          <td id="LC3918">					pathDropped[len + <span>1</span>] = <span>TCHAR</span>(<span><span>&#39;</span><span>\0</span><span>&#39;</span></span>);</td>
        </tr>
        <tr>
          <td id="L3919" data-line-number="3919"></td>
          <td id="LC3919">				}</td>
        </tr>
        <tr>
          <td id="L3920" data-line-number="3920"></td>
          <td id="LC3920">				folderPaths.<span>push_back</span>(pathDropped);</td>
        </tr>
        <tr>
          <td id="L3921" data-line-number="3921"></td>
          <td id="LC3921">			}</td>
        </tr>
        <tr>
          <td id="L3922" data-line-number="3922"></td>
          <td id="LC3922">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L3923" data-line-number="3923"></td>
          <td id="LC3923">			{</td>
        </tr>
        <tr>
          <td id="L3924" data-line-number="3924"></td>
          <td id="LC3924">				filePaths.<span>push_back</span>(pathDropped);</td>
        </tr>
        <tr>
          <td id="L3925" data-line-number="3925"></td>
          <td id="LC3925">			}</td>
        </tr>
        <tr>
          <td id="L3926" data-line-number="3926"></td>
          <td id="LC3926">		}</td>
        </tr>
        <tr>
          <td id="L3927" data-line-number="3927"></td>
          <td id="LC3927">		</td>
        </tr>
        <tr>
          <td id="L3928" data-line-number="3928"></td>
          <td id="LC3928">		NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L3929" data-line-number="3929"></td>
          <td id="LC3929">		<span>bool</span> isOldMode = nppParam.<span>getNppGUI</span>().<span>_isFolderDroppedOpenFiles</span>;</td>
        </tr>
        <tr>
          <td id="L3930" data-line-number="3930"></td>
          <td id="LC3930">
</td>
        </tr>
        <tr>
          <td id="L3931" data-line-number="3931"></td>
          <td id="LC3931">		<span>if</span> (isOldMode || folderPaths.<span>size</span>() == <span>0</span>) <span><span>//</span> old mode or new mode + only files</span></td>
        </tr>
        <tr>
          <td id="L3932" data-line-number="3932"></td>
          <td id="LC3932">		{</td>
        </tr>
        <tr>
          <td id="L3933" data-line-number="3933"></td>
          <td id="LC3933">			BufferID lastOpened = BUFFER_INVALID;</td>
        </tr>
        <tr>
          <td id="L3934" data-line-number="3934"></td>
          <td id="LC3934">			<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; filesDropped; ++i)</td>
        </tr>
        <tr>
          <td id="L3935" data-line-number="3935"></td>
          <td id="LC3935">			{</td>
        </tr>
        <tr>
          <td id="L3936" data-line-number="3936"></td>
          <td id="LC3936">				TCHAR pathDropped[MAX_PATH];</td>
        </tr>
        <tr>
          <td id="L3937" data-line-number="3937"></td>
          <td id="LC3937">				<span>::DragQueryFile</span>(hdrop, i, pathDropped, MAX_PATH);</td>
        </tr>
        <tr>
          <td id="L3938" data-line-number="3938"></td>
          <td id="LC3938">				BufferID test = <span>doOpen</span>(pathDropped);</td>
        </tr>
        <tr>
          <td id="L3939" data-line-number="3939"></td>
          <td id="LC3939">				<span>if</span> (test != BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L3940" data-line-number="3940"></td>
          <td id="LC3940">					lastOpened = test;</td>
        </tr>
        <tr>
          <td id="L3941" data-line-number="3941"></td>
          <td id="LC3941">			}</td>
        </tr>
        <tr>
          <td id="L3942" data-line-number="3942"></td>
          <td id="LC3942">
</td>
        </tr>
        <tr>
          <td id="L3943" data-line-number="3943"></td>
          <td id="LC3943">			<span>if</span> (lastOpened != BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L3944" data-line-number="3944"></td>
          <td id="LC3944">			{</td>
        </tr>
        <tr>
          <td id="L3945" data-line-number="3945"></td>
          <td id="LC3945">				<span>switchToFile</span>(lastOpened);</td>
        </tr>
        <tr>
          <td id="L3946" data-line-number="3946"></td>
          <td id="LC3946">			}</td>
        </tr>
        <tr>
          <td id="L3947" data-line-number="3947"></td>
          <td id="LC3947">		}</td>
        </tr>
        <tr>
          <td id="L3948" data-line-number="3948"></td>
          <td id="LC3948">		<span>else</span> <span>if</span> (!isOldMode &amp;&amp; (folderPaths.<span>size</span>() != <span>0</span> &amp;&amp; filePaths.<span>size</span>() != <span>0</span>)) <span><span>//</span> new mode &amp;&amp; both folders &amp; files</span></td>
        </tr>
        <tr>
          <td id="L3949" data-line-number="3949"></td>
          <td id="LC3949">		{</td>
        </tr>
        <tr>
          <td id="L3950" data-line-number="3950"></td>
          <td id="LC3950">			<span><span>//</span> display error &amp; do nothing</span></td>
        </tr>
        <tr>
          <td id="L3951" data-line-number="3951"></td>
          <td id="LC3951">			_nativeLangSpeaker.<span>messageBox</span>(<span><span>&#34;</span>DroppingFolderAsProjectModeWarning<span>&#34;</span></span>,</td>
        </tr>
        <tr>
          <td id="L3952" data-line-number="3952"></td>
          <td id="LC3952">				_pPublicInterface-&gt;<span>getHSelf</span>(),</td>
        </tr>
        <tr>
          <td id="L3953" data-line-number="3953"></td>
          <td id="LC3953">				<span>TEXT</span>(<span><span>&#34;</span>You can only drop files or folders but not both, because you&#39;re in dropping Folder as Project mode.<span>\r</span>you have to enable <span>\&#34;</span>Open all files of folder instead of launching Folder as Workspace on folder dropping<span>\&#34;</span> in <span>\&#34;</span>Default Directory<span>\&#34;</span> section of Preferences dialog to make this operation work.<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3954" data-line-number="3954"></td>
          <td id="LC3954">				<span>TEXT</span>(<span><span>&#34;</span>Invalid action<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L3955" data-line-number="3955"></td>
          <td id="LC3955">				MB_OK | MB_APPLMODAL);</td>
        </tr>
        <tr>
          <td id="L3956" data-line-number="3956"></td>
          <td id="LC3956">		}</td>
        </tr>
        <tr>
          <td id="L3957" data-line-number="3957"></td>
          <td id="LC3957">		<span>else</span> <span>if</span> (!isOldMode &amp;&amp; (folderPaths.<span>size</span>() != <span>0</span> &amp;&amp; filePaths.<span>size</span>() == <span>0</span>)) <span><span>//</span> new mode &amp;&amp; only folders</span></td>
        </tr>
        <tr>
          <td id="L3958" data-line-number="3958"></td>
          <td id="LC3958">		{</td>
        </tr>
        <tr>
          <td id="L3959" data-line-number="3959"></td>
          <td id="LC3959">			<span><span>//</span> process new mode</span></td>
        </tr>
        <tr>
          <td id="L3960" data-line-number="3960"></td>
          <td id="LC3960">			generic_string emptyStr;</td>
        </tr>
        <tr>
          <td id="L3961" data-line-number="3961"></td>
          <td id="LC3961">			<span>launchFileBrowser</span>(folderPaths, emptyStr);</td>
        </tr>
        <tr>
          <td id="L3962" data-line-number="3962"></td>
          <td id="LC3962">		}</td>
        </tr>
        <tr>
          <td id="L3963" data-line-number="3963"></td>
          <td id="LC3963">
</td>
        </tr>
        <tr>
          <td id="L3964" data-line-number="3964"></td>
          <td id="LC3964">		<span>::DragFinish</span>(hdrop);</td>
        </tr>
        <tr>
          <td id="L3965" data-line-number="3965"></td>
          <td id="LC3965">		<span><span>//</span> Put Notepad_plus to forefront</span></td>
        </tr>
        <tr>
          <td id="L3966" data-line-number="3966"></td>
          <td id="LC3966">		<span><span>//</span> May not work for Win2k, but OK for lower versions</span></td>
        </tr>
        <tr>
          <td id="L3967" data-line-number="3967"></td>
          <td id="LC3967">		<span><span>//</span> Note: how to drop a file to an iconic window?</span></td>
        </tr>
        <tr>
          <td id="L3968" data-line-number="3968"></td>
          <td id="LC3968">		<span><span>//</span> Actually, it is the Send To command that generates a drop.</span></td>
        </tr>
        <tr>
          <td id="L3969" data-line-number="3969"></td>
          <td id="LC3969">		<span>if</span> (::<span>IsIconic</span>(_pPublicInterface-&gt;<span>getHSelf</span>()))</td>
        </tr>
        <tr>
          <td id="L3970" data-line-number="3970"></td>
          <td id="LC3970">		{</td>
        </tr>
        <tr>
          <td id="L3971" data-line-number="3971"></td>
          <td id="LC3971">			<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_RESTORE);</td>
        </tr>
        <tr>
          <td id="L3972" data-line-number="3972"></td>
          <td id="LC3972">		}</td>
        </tr>
        <tr>
          <td id="L3973" data-line-number="3973"></td>
          <td id="LC3973">		<span>::SetForegroundWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L3974" data-line-number="3974"></td>
          <td id="LC3974">	}</td>
        </tr>
        <tr>
          <td id="L3975" data-line-number="3975"></td>
          <td id="LC3975">}</td>
        </tr>
        <tr>
          <td id="L3976" data-line-number="3976"></td>
          <td id="LC3976">
</td>
        </tr>
        <tr>
          <td id="L3977" data-line-number="3977"></td>
          <td id="LC3977"><span>void</span> <span>Notepad_plus::checkModifiedDocument</span>(<span>bool</span> bCheckOnlyCurrentBuffer)</td>
        </tr>
        <tr>
          <td id="L3978" data-line-number="3978"></td>
          <td id="LC3978">{</td>
        </tr>
        <tr>
          <td id="L3979" data-line-number="3979"></td>
          <td id="LC3979">	<span><span>//</span>this will trigger buffer updates. If the status changes, Notepad++ will be informed and can do its magic</span></td>
        </tr>
        <tr>
          <td id="L3980" data-line-number="3980"></td>
          <td id="LC3980">	MainFileManager.<span>checkFilesystemChanges</span>(bCheckOnlyCurrentBuffer);</td>
        </tr>
        <tr>
          <td id="L3981" data-line-number="3981"></td>
          <td id="LC3981">}</td>
        </tr>
        <tr>
          <td id="L3982" data-line-number="3982"></td>
          <td id="LC3982">
</td>
        </tr>
        <tr>
          <td id="L3983" data-line-number="3983"></td>
          <td id="LC3983"><span>void</span> <span>Notepad_plus::getMainClientRect</span>(RECT &amp;rc) <span>const</span></td>
        </tr>
        <tr>
          <td id="L3984" data-line-number="3984"></td>
          <td id="LC3984">{</td>
        </tr>
        <tr>
          <td id="L3985" data-line-number="3985"></td>
          <td id="LC3985">    _pPublicInterface-&gt;<span>getClientRect</span>(rc);</td>
        </tr>
        <tr>
          <td id="L3986" data-line-number="3986"></td>
          <td id="LC3986">	rc.<span>top</span> += _rebarTop.<span>getHeight</span>();</td>
        </tr>
        <tr>
          <td id="L3987" data-line-number="3987"></td>
          <td id="LC3987">	rc.<span>bottom</span> -= rc.<span>top</span> + _rebarBottom.<span>getHeight</span>() + _statusBar.<span>getHeight</span>();</td>
        </tr>
        <tr>
          <td id="L3988" data-line-number="3988"></td>
          <td id="LC3988">}</td>
        </tr>
        <tr>
          <td id="L3989" data-line-number="3989"></td>
          <td id="LC3989">
</td>
        </tr>
        <tr>
          <td id="L3990" data-line-number="3990"></td>
          <td id="LC3990"><span>void</span> <span>Notepad_plus::showView</span>(<span>int</span> whichOne)</td>
        </tr>
        <tr>
          <td id="L3991" data-line-number="3991"></td>
          <td id="LC3991">{</td>
        </tr>
        <tr>
          <td id="L3992" data-line-number="3992"></td>
          <td id="LC3992">	<span>if</span> (<span>viewVisible</span>(whichOne))	<span><span>//</span>no use making visible view visible</span></td>
        </tr>
        <tr>
          <td id="L3993" data-line-number="3993"></td>
          <td id="LC3993">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L3994" data-line-number="3994"></td>
          <td id="LC3994">
</td>
        </tr>
        <tr>
          <td id="L3995" data-line-number="3995"></td>
          <td id="LC3995">	<span>if</span> (_mainWindowStatus &amp; WindowUserActive)</td>
        </tr>
        <tr>
          <td id="L3996" data-line-number="3996"></td>
          <td id="LC3996">	{</td>
        </tr>
        <tr>
          <td id="L3997" data-line-number="3997"></td>
          <td id="LC3997">		 _pMainSplitter-&gt;<span>setWin0</span>(&amp;_subSplitter);</td>
        </tr>
        <tr>
          <td id="L3998" data-line-number="3998"></td>
          <td id="LC3998">		 _pMainWindow = _pMainSplitter;</td>
        </tr>
        <tr>
          <td id="L3999" data-line-number="3999"></td>
          <td id="LC3999">	}</td>
        </tr>
        <tr>
          <td id="L4000" data-line-number="4000"></td>
          <td id="LC4000">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4001" data-line-number="4001"></td>
          <td id="LC4001">	{</td>
        </tr>
        <tr>
          <td id="L4002" data-line-number="4002"></td>
          <td id="LC4002">		_pMainWindow = &amp;_subSplitter;</td>
        </tr>
        <tr>
          <td id="L4003" data-line-number="4003"></td>
          <td id="LC4003">	}</td>
        </tr>
        <tr>
          <td id="L4004" data-line-number="4004"></td>
          <td id="LC4004">
</td>
        </tr>
        <tr>
          <td id="L4005" data-line-number="4005"></td>
          <td id="LC4005">	<span>if</span> (whichOne == MAIN_VIEW)</td>
        </tr>
        <tr>
          <td id="L4006" data-line-number="4006"></td>
          <td id="LC4006">	{</td>
        </tr>
        <tr>
          <td id="L4007" data-line-number="4007"></td>
          <td id="LC4007">		_mainEditView.<span>display</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L4008" data-line-number="4008"></td>
          <td id="LC4008">		_mainDocTab.<span>display</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L4009" data-line-number="4009"></td>
          <td id="LC4009">	}</td>
        </tr>
        <tr>
          <td id="L4010" data-line-number="4010"></td>
          <td id="LC4010">	<span>else</span> <span>if</span> (whichOne == SUB_VIEW)</td>
        </tr>
        <tr>
          <td id="L4011" data-line-number="4011"></td>
          <td id="LC4011">	{</td>
        </tr>
        <tr>
          <td id="L4012" data-line-number="4012"></td>
          <td id="LC4012">		_subEditView.<span>display</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L4013" data-line-number="4013"></td>
          <td id="LC4013">		_subDocTab.<span>display</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L4014" data-line-number="4014"></td>
          <td id="LC4014">	}</td>
        </tr>
        <tr>
          <td id="L4015" data-line-number="4015"></td>
          <td id="LC4015">	_pMainWindow-&gt;<span>display</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L4016" data-line-number="4016"></td>
          <td id="LC4016">
</td>
        </tr>
        <tr>
          <td id="L4017" data-line-number="4017"></td>
          <td id="LC4017">	_mainWindowStatus |= (whichOne==MAIN_VIEW)?WindowMainActive:WindowSubActive;</td>
        </tr>
        <tr>
          <td id="L4018" data-line-number="4018"></td>
          <td id="LC4018">
</td>
        </tr>
        <tr>
          <td id="L4019" data-line-number="4019"></td>
          <td id="LC4019">	<span><span>//</span>Send sizing info to make windows fit</span></td>
        </tr>
        <tr>
          <td id="L4020" data-line-number="4020"></td>
          <td id="LC4020">	<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L4021" data-line-number="4021"></td>
          <td id="LC4021">}</td>
        </tr>
        <tr>
          <td id="L4022" data-line-number="4022"></td>
          <td id="LC4022">
</td>
        </tr>
        <tr>
          <td id="L4023" data-line-number="4023"></td>
          <td id="LC4023"><span>bool</span> <span>Notepad_plus::viewVisible</span>(<span>int</span> whichOne)</td>
        </tr>
        <tr>
          <td id="L4024" data-line-number="4024"></td>
          <td id="LC4024">{</td>
        </tr>
        <tr>
          <td id="L4025" data-line-number="4025"></td>
          <td id="LC4025">	<span>int</span> viewToCheck = (whichOne == SUB_VIEW?WindowSubActive:WindowMainActive);</td>
        </tr>
        <tr>
          <td id="L4026" data-line-number="4026"></td>
          <td id="LC4026">	<span>return</span> (_mainWindowStatus &amp; viewToCheck) != <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L4027" data-line-number="4027"></td>
          <td id="LC4027">}</td>
        </tr>
        <tr>
          <td id="L4028" data-line-number="4028"></td>
          <td id="LC4028">
</td>
        </tr>
        <tr>
          <td id="L4029" data-line-number="4029"></td>
          <td id="LC4029"><span>void</span> <span>Notepad_plus::hideCurrentView</span>()</td>
        </tr>
        <tr>
          <td id="L4030" data-line-number="4030"></td>
          <td id="LC4030">{</td>
        </tr>
        <tr>
          <td id="L4031" data-line-number="4031"></td>
          <td id="LC4031">	<span>hideView</span>(<span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L4032" data-line-number="4032"></td>
          <td id="LC4032">}</td>
        </tr>
        <tr>
          <td id="L4033" data-line-number="4033"></td>
          <td id="LC4033">
</td>
        </tr>
        <tr>
          <td id="L4034" data-line-number="4034"></td>
          <td id="LC4034"><span>void</span> <span>Notepad_plus::hideView</span>(<span>int</span> whichOne)</td>
        </tr>
        <tr>
          <td id="L4035" data-line-number="4035"></td>
          <td id="LC4035">{</td>
        </tr>
        <tr>
          <td id="L4036" data-line-number="4036"></td>
          <td id="LC4036">	<span>if</span> (!(<span>bothActive</span>()))	<span><span>//</span>cannot close if not both views visible</span></td>
        </tr>
        <tr>
          <td id="L4037" data-line-number="4037"></td>
          <td id="LC4037">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4038" data-line-number="4038"></td>
          <td id="LC4038">
</td>
        </tr>
        <tr>
          <td id="L4039" data-line-number="4039"></td>
          <td id="LC4039">	Window * windowToSet = (whichOne == MAIN_VIEW)?&amp;_subDocTab:&amp;_mainDocTab;</td>
        </tr>
        <tr>
          <td id="L4040" data-line-number="4040"></td>
          <td id="LC4040">	<span>if</span> (_mainWindowStatus &amp; WindowUserActive)</td>
        </tr>
        <tr>
          <td id="L4041" data-line-number="4041"></td>
          <td id="LC4041">	{</td>
        </tr>
        <tr>
          <td id="L4042" data-line-number="4042"></td>
          <td id="LC4042">		_pMainSplitter-&gt;<span>setWin0</span>(windowToSet);</td>
        </tr>
        <tr>
          <td id="L4043" data-line-number="4043"></td>
          <td id="LC4043">	}</td>
        </tr>
        <tr>
          <td id="L4044" data-line-number="4044"></td>
          <td id="LC4044">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4045" data-line-number="4045"></td>
          <td id="LC4045">	{</td>
        </tr>
        <tr>
          <td id="L4046" data-line-number="4046"></td>
          <td id="LC4046">		<span><span>//</span> otherwise the main window is the spltter container that we just created</span></td>
        </tr>
        <tr>
          <td id="L4047" data-line-number="4047"></td>
          <td id="LC4047">		_pMainWindow = windowToSet;</td>
        </tr>
        <tr>
          <td id="L4048" data-line-number="4048"></td>
          <td id="LC4048">	}</td>
        </tr>
        <tr>
          <td id="L4049" data-line-number="4049"></td>
          <td id="LC4049">
</td>
        </tr>
        <tr>
          <td id="L4050" data-line-number="4050"></td>
          <td id="LC4050">	_subSplitter.<span>display</span>(<span>false</span>);	<span><span>//</span>hide splitter</span></td>
        </tr>
        <tr>
          <td id="L4051" data-line-number="4051"></td>
          <td id="LC4051">	<span><span>//</span>hide scintilla and doctab</span></td>
        </tr>
        <tr>
          <td id="L4052" data-line-number="4052"></td>
          <td id="LC4052">	<span>if</span> (whichOne == MAIN_VIEW)</td>
        </tr>
        <tr>
          <td id="L4053" data-line-number="4053"></td>
          <td id="LC4053">	{</td>
        </tr>
        <tr>
          <td id="L4054" data-line-number="4054"></td>
          <td id="LC4054">		_mainEditView.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4055" data-line-number="4055"></td>
          <td id="LC4055">		_mainDocTab.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4056" data-line-number="4056"></td>
          <td id="LC4056">	}</td>
        </tr>
        <tr>
          <td id="L4057" data-line-number="4057"></td>
          <td id="LC4057">	<span>else</span> <span>if</span> (whichOne == SUB_VIEW)</td>
        </tr>
        <tr>
          <td id="L4058" data-line-number="4058"></td>
          <td id="LC4058">	{</td>
        </tr>
        <tr>
          <td id="L4059" data-line-number="4059"></td>
          <td id="LC4059">		_subEditView.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4060" data-line-number="4060"></td>
          <td id="LC4060">		_subDocTab.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4061" data-line-number="4061"></td>
          <td id="LC4061">	}</td>
        </tr>
        <tr>
          <td id="L4062" data-line-number="4062"></td>
          <td id="LC4062">
</td>
        </tr>
        <tr>
          <td id="L4063" data-line-number="4063"></td>
          <td id="LC4063">	<span><span>//</span> resize the main window</span></td>
        </tr>
        <tr>
          <td id="L4064" data-line-number="4064"></td>
          <td id="LC4064">	<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L4065" data-line-number="4065"></td>
          <td id="LC4065">
</td>
        </tr>
        <tr>
          <td id="L4066" data-line-number="4066"></td>
          <td id="LC4066">	<span>switchEditViewTo</span>(otherFromView(whichOne));</td>
        </tr>
        <tr>
          <td id="L4067" data-line-number="4067"></td>
          <td id="LC4067">	<span>int</span> viewToDisable = (whichOne == SUB_VIEW?WindowSubActive:WindowMainActive);</td>
        </tr>
        <tr>
          <td id="L4068" data-line-number="4068"></td>
          <td id="LC4068">	_mainWindowStatus &amp;= ~viewToDisable;</td>
        </tr>
        <tr>
          <td id="L4069" data-line-number="4069"></td>
          <td id="LC4069">}</td>
        </tr>
        <tr>
          <td id="L4070" data-line-number="4070"></td>
          <td id="LC4070">
</td>
        </tr>
        <tr>
          <td id="L4071" data-line-number="4071"></td>
          <td id="LC4071"><span>bool</span> <span>Notepad_plus::loadStyles</span>()</td>
        </tr>
        <tr>
          <td id="L4072" data-line-number="4072"></td>
          <td id="LC4072">{</td>
        </tr>
        <tr>
          <td id="L4073" data-line-number="4073"></td>
          <td id="LC4073">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L4074" data-line-number="4074"></td>
          <td id="LC4074">	<span>return</span> nppParam.<span>reloadStylers</span>();</td>
        </tr>
        <tr>
          <td id="L4075" data-line-number="4075"></td>
          <td id="LC4075">}</td>
        </tr>
        <tr>
          <td id="L4076" data-line-number="4076"></td>
          <td id="LC4076">
</td>
        </tr>
        <tr>
          <td id="L4077" data-line-number="4077"></td>
          <td id="LC4077"><span>bool</span> <span>Notepad_plus::canHideView</span>(<span>int</span> whichOne)</td>
        </tr>
        <tr>
          <td id="L4078" data-line-number="4078"></td>
          <td id="LC4078">{</td>
        </tr>
        <tr>
          <td id="L4079" data-line-number="4079"></td>
          <td id="LC4079">	<span>if</span> (!<span>viewVisible</span>(whichOne))</td>
        </tr>
        <tr>
          <td id="L4080" data-line-number="4080"></td>
          <td id="LC4080">		<span>return</span> <span>false</span>;	<span><span>//</span>cannot hide hidden view</span></td>
        </tr>
        <tr>
          <td id="L4081" data-line-number="4081"></td>
          <td id="LC4081">	<span>if</span> (!<span>bothActive</span>())</td>
        </tr>
        <tr>
          <td id="L4082" data-line-number="4082"></td>
          <td id="LC4082">		<span>return</span> <span>false</span>;	<span><span>//</span>cannot hide only window</span></td>
        </tr>
        <tr>
          <td id="L4083" data-line-number="4083"></td>
          <td id="LC4083">	DocTabView * tabToCheck = (whichOne == MAIN_VIEW)?&amp;_mainDocTab:&amp;_subDocTab;</td>
        </tr>
        <tr>
          <td id="L4084" data-line-number="4084"></td>
          <td id="LC4084">	Buffer * buf = MainFileManager.<span>getBufferByID</span>(tabToCheck-&gt;<span>getBufferByIndex</span>(<span>0</span>));</td>
        </tr>
        <tr>
          <td id="L4085" data-line-number="4085"></td>
          <td id="LC4085">	<span>bool</span> canHide = ((tabToCheck-&gt;<span>nbItem</span>() == <span>1</span>) &amp;&amp; !buf-&gt;<span>isDirty</span>() &amp;&amp; buf-&gt;<span>isUntitled</span>());</td>
        </tr>
        <tr>
          <td id="L4086" data-line-number="4086"></td>
          <td id="LC4086">	<span>return</span> canHide;</td>
        </tr>
        <tr>
          <td id="L4087" data-line-number="4087"></td>
          <td id="LC4087">}</td>
        </tr>
        <tr>
          <td id="L4088" data-line-number="4088"></td>
          <td id="LC4088">
</td>
        </tr>
        <tr>
          <td id="L4089" data-line-number="4089"></td>
          <td id="LC4089"><span>bool</span> <span>Notepad_plus::isEmpty</span>()</td>
        </tr>
        <tr>
          <td id="L4090" data-line-number="4090"></td>
          <td id="LC4090">{</td>
        </tr>
        <tr>
          <td id="L4091" data-line-number="4091"></td>
          <td id="LC4091">	<span>if</span> (<span>bothActive</span>()) <span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4092" data-line-number="4092"></td>
          <td id="LC4092">
</td>
        </tr>
        <tr>
          <td id="L4093" data-line-number="4093"></td>
          <td id="LC4093">	DocTabView * tabToCheck = (_mainWindowStatus &amp; WindowMainActive) ? &amp;_mainDocTab : &amp;_subDocTab;</td>
        </tr>
        <tr>
          <td id="L4094" data-line-number="4094"></td>
          <td id="LC4094">	</td>
        </tr>
        <tr>
          <td id="L4095" data-line-number="4095"></td>
          <td id="LC4095">	Buffer * buf = MainFileManager.<span>getBufferByID</span>(tabToCheck-&gt;<span>getBufferByIndex</span>(<span>0</span>));</td>
        </tr>
        <tr>
          <td id="L4096" data-line-number="4096"></td>
          <td id="LC4096">	<span>bool</span> isEmpty = ((tabToCheck-&gt;<span>nbItem</span>() == <span>1</span>) &amp;&amp; !buf-&gt;<span>isDirty</span>() &amp;&amp; buf-&gt;<span>isUntitled</span>());</td>
        </tr>
        <tr>
          <td id="L4097" data-line-number="4097"></td>
          <td id="LC4097">	<span>return</span> isEmpty;</td>
        </tr>
        <tr>
          <td id="L4098" data-line-number="4098"></td>
          <td id="LC4098">}</td>
        </tr>
        <tr>
          <td id="L4099" data-line-number="4099"></td>
          <td id="LC4099">
</td>
        </tr>
        <tr>
          <td id="L4100" data-line-number="4100"></td>
          <td id="LC4100"><span>void</span> <span>Notepad_plus::loadBufferIntoView</span>(BufferID id, <span>int</span> whichOne, <span>bool</span> dontClose)</td>
        </tr>
        <tr>
          <td id="L4101" data-line-number="4101"></td>
          <td id="LC4101">{</td>
        </tr>
        <tr>
          <td id="L4102" data-line-number="4102"></td>
          <td id="LC4102">	DocTabView * tabToOpen = (whichOne == MAIN_VIEW)?&amp;_mainDocTab:&amp;_subDocTab;</td>
        </tr>
        <tr>
          <td id="L4103" data-line-number="4103"></td>
          <td id="LC4103">	ScintillaEditView * viewToOpen = (whichOne == MAIN_VIEW)?&amp;_mainEditView:&amp;_subEditView;</td>
        </tr>
        <tr>
          <td id="L4104" data-line-number="4104"></td>
          <td id="LC4104">
</td>
        </tr>
        <tr>
          <td id="L4105" data-line-number="4105"></td>
          <td id="LC4105">	<span><span>//</span>check if buffer exists</span></td>
        </tr>
        <tr>
          <td id="L4106" data-line-number="4106"></td>
          <td id="LC4106">	<span>int</span> <span>index</span> = tabToOpen-&gt;<span>getIndexByBuffer</span>(id);</td>
        </tr>
        <tr>
          <td id="L4107" data-line-number="4107"></td>
          <td id="LC4107">	<span>if</span> (<span>index</span> != -<span>1</span>)	<span><span>//</span>already open, done</span></td>
        </tr>
        <tr>
          <td id="L4108" data-line-number="4108"></td>
          <td id="LC4108">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4109" data-line-number="4109"></td>
          <td id="LC4109">
</td>
        </tr>
        <tr>
          <td id="L4110" data-line-number="4110"></td>
          <td id="LC4110">	BufferID idToClose = BUFFER_INVALID;</td>
        </tr>
        <tr>
          <td id="L4111" data-line-number="4111"></td>
          <td id="LC4111">	<span><span>//</span>Check if the tab has a single clean buffer. Close it if so</span></td>
        </tr>
        <tr>
          <td id="L4112" data-line-number="4112"></td>
          <td id="LC4112">	<span>if</span> (!dontClose &amp;&amp; tabToOpen-&gt;<span>nbItem</span>() == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L4113" data-line-number="4113"></td>
          <td id="LC4113">	{</td>
        </tr>
        <tr>
          <td id="L4114" data-line-number="4114"></td>
          <td id="LC4114">		idToClose = tabToOpen-&gt;<span>getBufferByIndex</span>(<span>0</span>);</td>
        </tr>
        <tr>
          <td id="L4115" data-line-number="4115"></td>
          <td id="LC4115">		Buffer * buf = MainFileManager.<span>getBufferByID</span>(idToClose);</td>
        </tr>
        <tr>
          <td id="L4116" data-line-number="4116"></td>
          <td id="LC4116">		<span>if</span> (buf-&gt;<span>isDirty</span>() || !buf-&gt;<span>isUntitled</span>())</td>
        </tr>
        <tr>
          <td id="L4117" data-line-number="4117"></td>
          <td id="LC4117">		{</td>
        </tr>
        <tr>
          <td id="L4118" data-line-number="4118"></td>
          <td id="LC4118">			idToClose = BUFFER_INVALID;</td>
        </tr>
        <tr>
          <td id="L4119" data-line-number="4119"></td>
          <td id="LC4119">		}</td>
        </tr>
        <tr>
          <td id="L4120" data-line-number="4120"></td>
          <td id="LC4120">	}</td>
        </tr>
        <tr>
          <td id="L4121" data-line-number="4121"></td>
          <td id="LC4121">
</td>
        </tr>
        <tr>
          <td id="L4122" data-line-number="4122"></td>
          <td id="LC4122">	MainFileManager.<span>addBufferReference</span>(id, viewToOpen);</td>
        </tr>
        <tr>
          <td id="L4123" data-line-number="4123"></td>
          <td id="LC4123">
</td>
        </tr>
        <tr>
          <td id="L4124" data-line-number="4124"></td>
          <td id="LC4124">	<span><span>//</span>close clean doc. Use special logic to prevent flicker of tab showing then hiding</span></td>
        </tr>
        <tr>
          <td id="L4125" data-line-number="4125"></td>
          <td id="LC4125">	<span>if</span> (idToClose != BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L4126" data-line-number="4126"></td>
          <td id="LC4126">	{</td>
        </tr>
        <tr>
          <td id="L4127" data-line-number="4127"></td>
          <td id="LC4127">		tabToOpen-&gt;<span>setBuffer</span>(<span>0</span>, id);	<span><span>//</span>index 0 since only one open</span></td>
        </tr>
        <tr>
          <td id="L4128" data-line-number="4128"></td>
          <td id="LC4128">		<span>activateBuffer</span>(id, whichOne);	<span><span>//</span>activate. DocTab already activated but not a problem</span></td>
        </tr>
        <tr>
          <td id="L4129" data-line-number="4129"></td>
          <td id="LC4129">		MainFileManager.<span>closeBuffer</span>(idToClose, viewToOpen);	<span><span>//</span>delete the buffer</span></td>
        </tr>
        <tr>
          <td id="L4130" data-line-number="4130"></td>
          <td id="LC4130">		<span>if</span> (_pDocumentListPanel)</td>
        </tr>
        <tr>
          <td id="L4131" data-line-number="4131"></td>
          <td id="LC4131">			_pDocumentListPanel-&gt;<span>closeItem</span>(idToClose, whichOne);</td>
        </tr>
        <tr>
          <td id="L4132" data-line-number="4132"></td>
          <td id="LC4132">	}</td>
        </tr>
        <tr>
          <td id="L4133" data-line-number="4133"></td>
          <td id="LC4133">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4134" data-line-number="4134"></td>
          <td id="LC4134">	{</td>
        </tr>
        <tr>
          <td id="L4135" data-line-number="4135"></td>
          <td id="LC4135">		tabToOpen-&gt;<span>addBuffer</span>(id);</td>
        </tr>
        <tr>
          <td id="L4136" data-line-number="4136"></td>
          <td id="LC4136">	}</td>
        </tr>
        <tr>
          <td id="L4137" data-line-number="4137"></td>
          <td id="LC4137">}</td>
        </tr>
        <tr>
          <td id="L4138" data-line-number="4138"></td>
          <td id="LC4138">
</td>
        </tr>
        <tr>
          <td id="L4139" data-line-number="4139"></td>
          <td id="LC4139"><span>bool</span> <span>Notepad_plus::removeBufferFromView</span>(BufferID id, <span>int</span> whichOne)</td>
        </tr>
        <tr>
          <td id="L4140" data-line-number="4140"></td>
          <td id="LC4140">{</td>
        </tr>
        <tr>
          <td id="L4141" data-line-number="4141"></td>
          <td id="LC4141">	DocTabView * tabToClose = (whichOne == MAIN_VIEW) ? &amp;_mainDocTab : &amp;_subDocTab;</td>
        </tr>
        <tr>
          <td id="L4142" data-line-number="4142"></td>
          <td id="LC4142">	ScintillaEditView * viewToClose = (whichOne == MAIN_VIEW) ? &amp;_mainEditView : &amp;_subEditView;</td>
        </tr>
        <tr>
          <td id="L4143" data-line-number="4143"></td>
          <td id="LC4143">
</td>
        </tr>
        <tr>
          <td id="L4144" data-line-number="4144"></td>
          <td id="LC4144">	<span><span>//</span>check if buffer exists</span></td>
        </tr>
        <tr>
          <td id="L4145" data-line-number="4145"></td>
          <td id="LC4145">	<span>int</span> <span>index</span> = tabToClose-&gt;<span>getIndexByBuffer</span>(id);</td>
        </tr>
        <tr>
          <td id="L4146" data-line-number="4146"></td>
          <td id="LC4146">	<span>if</span> (<span>index</span> == -<span>1</span>)        <span><span>//</span>doesn&#39;t exist, done</span></td>
        </tr>
        <tr>
          <td id="L4147" data-line-number="4147"></td>
          <td id="LC4147">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4148" data-line-number="4148"></td>
          <td id="LC4148">
</td>
        </tr>
        <tr>
          <td id="L4149" data-line-number="4149"></td>
          <td id="LC4149">	Buffer * buf = MainFileManager.<span>getBufferByID</span>(id);</td>
        </tr>
        <tr>
          <td id="L4150" data-line-number="4150"></td>
          <td id="LC4150">
</td>
        </tr>
        <tr>
          <td id="L4151" data-line-number="4151"></td>
          <td id="LC4151">	<span><span>//</span>Cannot close doc if last and clean</span></td>
        </tr>
        <tr>
          <td id="L4152" data-line-number="4152"></td>
          <td id="LC4152">	<span>if</span> (tabToClose-&gt;<span>nbItem</span>() == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L4153" data-line-number="4153"></td>
          <td id="LC4153">	{</td>
        </tr>
        <tr>
          <td id="L4154" data-line-number="4154"></td>
          <td id="LC4154">		<span>if</span> (!buf-&gt;<span>isDirty</span>() &amp;&amp; buf-&gt;<span>isUntitled</span>())</td>
        </tr>
        <tr>
          <td id="L4155" data-line-number="4155"></td>
          <td id="LC4155">		{</td>
        </tr>
        <tr>
          <td id="L4156" data-line-number="4156"></td>
          <td id="LC4156">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4157" data-line-number="4157"></td>
          <td id="LC4157">		}</td>
        </tr>
        <tr>
          <td id="L4158" data-line-number="4158"></td>
          <td id="LC4158">	}</td>
        </tr>
        <tr>
          <td id="L4159" data-line-number="4159"></td>
          <td id="LC4159">
</td>
        </tr>
        <tr>
          <td id="L4160" data-line-number="4160"></td>
          <td id="LC4160">	<span>int</span> active = tabToClose-&gt;<span>getCurrentTabIndex</span>();</td>
        </tr>
        <tr>
          <td id="L4161" data-line-number="4161"></td>
          <td id="LC4161">	<span>if</span> (active == <span>index</span>) <span><span>//</span>need an alternative (close real doc, put empty one back)</span></td>
        </tr>
        <tr>
          <td id="L4162" data-line-number="4162"></td>
          <td id="LC4162">	{</td>
        </tr>
        <tr>
          <td id="L4163" data-line-number="4163"></td>
          <td id="LC4163">		<span>if</span> (tabToClose-&gt;<span>nbItem</span>() == <span>1</span>)  <span><span>//</span>need alternative doc, add new one. Use special logic to prevent flicker of adding new tab then closing other</span></td>
        </tr>
        <tr>
          <td id="L4164" data-line-number="4164"></td>
          <td id="LC4164">		{</td>
        </tr>
        <tr>
          <td id="L4165" data-line-number="4165"></td>
          <td id="LC4165">			BufferID newID = MainFileManager.<span>newEmptyDocument</span>();</td>
        </tr>
        <tr>
          <td id="L4166" data-line-number="4166"></td>
          <td id="LC4166">			MainFileManager.<span>addBufferReference</span>(newID, viewToClose);</td>
        </tr>
        <tr>
          <td id="L4167" data-line-number="4167"></td>
          <td id="LC4167">			tabToClose-&gt;<span>setBuffer</span>(<span>0</span>, newID);        <span><span>//</span>can safely use id 0, last (only) tab open</span></td>
        </tr>
        <tr>
          <td id="L4168" data-line-number="4168"></td>
          <td id="LC4168">			<span>activateBuffer</span>(newID, whichOne);        <span><span>//</span>activate. DocTab already activated but not a problem</span></td>
        </tr>
        <tr>
          <td id="L4169" data-line-number="4169"></td>
          <td id="LC4169">		}</td>
        </tr>
        <tr>
          <td id="L4170" data-line-number="4170"></td>
          <td id="LC4170">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L4171" data-line-number="4171"></td>
          <td id="LC4171">		{</td>
        </tr>
        <tr>
          <td id="L4172" data-line-number="4172"></td>
          <td id="LC4172">			<span>int</span> toActivate = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L4173" data-line-number="4173"></td>
          <td id="LC4173">			<span><span>//</span>activate next doc, otherwise prev if not possible</span></td>
        </tr>
        <tr>
          <td id="L4174" data-line-number="4174"></td>
          <td id="LC4174">			<span>if</span> (<span>size_t</span>(active) == tabToClose-&gt;<span>nbItem</span>() - <span>1</span>) <span><span>//</span>prev</span></td>
        </tr>
        <tr>
          <td id="L4175" data-line-number="4175"></td>
          <td id="LC4175">			{</td>
        </tr>
        <tr>
          <td id="L4176" data-line-number="4176"></td>
          <td id="LC4176">				toActivate = active - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L4177" data-line-number="4177"></td>
          <td id="LC4177">			}</td>
        </tr>
        <tr>
          <td id="L4178" data-line-number="4178"></td>
          <td id="LC4178">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L4179" data-line-number="4179"></td>
          <td id="LC4179">			{</td>
        </tr>
        <tr>
          <td id="L4180" data-line-number="4180"></td>
          <td id="LC4180">				toActivate = active;    <span><span>//</span>activate the &#39;active&#39; index. Since we remove the tab first, the indices shift (on the right side)</span></td>
        </tr>
        <tr>
          <td id="L4181" data-line-number="4181"></td>
          <td id="LC4181">			}</td>
        </tr>
        <tr>
          <td id="L4182" data-line-number="4182"></td>
          <td id="LC4182">
</td>
        </tr>
        <tr>
          <td id="L4183" data-line-number="4183"></td>
          <td id="LC4183">			<span>if</span> (<span>NppParameters::getInstance</span>().<span>getNppGUI</span>().<span>_styleMRU</span>)</td>
        </tr>
        <tr>
          <td id="L4184" data-line-number="4184"></td>
          <td id="LC4184">			{</td>
        </tr>
        <tr>
          <td id="L4185" data-line-number="4185"></td>
          <td id="LC4185">				<span><span>//</span> After closing a file choose the file to activate based on MRU list and not just last file in the list.</span></td>
        </tr>
        <tr>
          <td id="L4186" data-line-number="4186"></td>
          <td id="LC4186">				TaskListInfo taskListInfo;</td>
        </tr>
        <tr>
          <td id="L4187" data-line-number="4187"></td>
          <td id="LC4187">				<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_GETTASKLISTINFO, reinterpret_cast&lt;WPARAM&gt;(&amp;taskListInfo), 0);</td>
        </tr>
        <tr>
          <td id="L4188" data-line-number="4188"></td>
          <td id="LC4188">				<span>size_t</span> i, n = taskListInfo._tlfsLst.size();</td>
        </tr>
        <tr>
          <td id="L4189" data-line-number="4189"></td>
          <td id="LC4189">				<span>for</span> (i = <span>0</span>; i &lt; n; i++)</td>
        </tr>
        <tr>
          <td id="L4190" data-line-number="4190"></td>
          <td id="LC4190">				{</td>
        </tr>
        <tr>
          <td id="L4191" data-line-number="4191"></td>
          <td id="LC4191">					TaskLstFnStatus&amp; tfs = taskListInfo.<span>_tlfsLst</span>[i];</td>
        </tr>
        <tr>
          <td id="L4192" data-line-number="4192"></td>
          <td id="LC4192">					<span>if</span> (tfs.<span>_iView</span> != whichOne || tfs.<span>_bufID</span> == id)</td>
        </tr>
        <tr>
          <td id="L4193" data-line-number="4193"></td>
          <td id="LC4193">						<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L4194" data-line-number="4194"></td>
          <td id="LC4194">					toActivate = tfs.<span>_docIndex</span> &gt;= active ? tfs.<span>_docIndex</span> - <span>1</span> : tfs.<span>_docIndex</span>;</td>
        </tr>
        <tr>
          <td id="L4195" data-line-number="4195"></td>
          <td id="LC4195">					<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L4196" data-line-number="4196"></td>
          <td id="LC4196">				}</td>
        </tr>
        <tr>
          <td id="L4197" data-line-number="4197"></td>
          <td id="LC4197">			}</td>
        </tr>
        <tr>
          <td id="L4198" data-line-number="4198"></td>
          <td id="LC4198">
</td>
        </tr>
        <tr>
          <td id="L4199" data-line-number="4199"></td>
          <td id="LC4199">			tabToClose-&gt;<span>deletItemAt</span>((<span>size_t</span>)<span>index</span>); <span><span>//</span>delete first</span></td>
        </tr>
        <tr>
          <td id="L4200" data-line-number="4200"></td>
          <td id="LC4200">			_isFolding = <span>true</span>; <span><span>//</span> So we can ignore events while folding is taking place</span></td>
        </tr>
        <tr>
          <td id="L4201" data-line-number="4201"></td>
          <td id="LC4201">			<span>activateBuffer</span>(tabToClose-&gt;<span>getBufferByIndex</span>(toActivate), whichOne);     <span><span>//</span>then activate. The prevent jumpy tab behaviour</span></td>
        </tr>
        <tr>
          <td id="L4202" data-line-number="4202"></td>
          <td id="LC4202">			_isFolding = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4203" data-line-number="4203"></td>
          <td id="LC4203">		}</td>
        </tr>
        <tr>
          <td id="L4204" data-line-number="4204"></td>
          <td id="LC4204">	}</td>
        </tr>
        <tr>
          <td id="L4205" data-line-number="4205"></td>
          <td id="LC4205">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4206" data-line-number="4206"></td>
          <td id="LC4206">	{</td>
        </tr>
        <tr>
          <td id="L4207" data-line-number="4207"></td>
          <td id="LC4207">		tabToClose-&gt;<span>deletItemAt</span>((<span>size_t</span>)<span>index</span>);</td>
        </tr>
        <tr>
          <td id="L4208" data-line-number="4208"></td>
          <td id="LC4208">	}</td>
        </tr>
        <tr>
          <td id="L4209" data-line-number="4209"></td>
          <td id="LC4209">
</td>
        </tr>
        <tr>
          <td id="L4210" data-line-number="4210"></td>
          <td id="LC4210">	MainFileManager.<span>closeBuffer</span>(id, viewToClose);</td>
        </tr>
        <tr>
          <td id="L4211" data-line-number="4211"></td>
          <td id="LC4211">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4212" data-line-number="4212"></td>
          <td id="LC4212">}</td>
        </tr>
        <tr>
          <td id="L4213" data-line-number="4213"></td>
          <td id="LC4213">
</td>
        </tr>
        <tr>
          <td id="L4214" data-line-number="4214"></td>
          <td id="LC4214"><span>int</span> <span>Notepad_plus::switchEditViewTo</span>(<span>int</span> gid)</td>
        </tr>
        <tr>
          <td id="L4215" data-line-number="4215"></td>
          <td id="LC4215">{</td>
        </tr>
        <tr>
          <td id="L4216" data-line-number="4216"></td>
          <td id="LC4216">	<span>if</span> (<span>currentView</span>() == gid)</td>
        </tr>
        <tr>
          <td id="L4217" data-line-number="4217"></td>
          <td id="LC4217">	{</td>
        </tr>
        <tr>
          <td id="L4218" data-line-number="4218"></td>
          <td id="LC4218">		<span><span>//</span>make sure focus is ok, then leave</span></td>
        </tr>
        <tr>
          <td id="L4219" data-line-number="4219"></td>
          <td id="LC4219">		_pEditView-&gt;<span>getFocus</span>();	<span><span>//</span>set the focus</span></td>
        </tr>
        <tr>
          <td id="L4220" data-line-number="4220"></td>
          <td id="LC4220">		<span>return</span> gid;</td>
        </tr>
        <tr>
          <td id="L4221" data-line-number="4221"></td>
          <td id="LC4221">	}</td>
        </tr>
        <tr>
          <td id="L4222" data-line-number="4222"></td>
          <td id="LC4222">
</td>
        </tr>
        <tr>
          <td id="L4223" data-line-number="4223"></td>
          <td id="LC4223">	<span>if</span> (!<span>viewVisible</span>(gid))</td>
        </tr>
        <tr>
          <td id="L4224" data-line-number="4224"></td>
          <td id="LC4224">		<span>return</span> <span>currentView</span>();	<span><span>//</span>cannot activate invisible view</span></td>
        </tr>
        <tr>
          <td id="L4225" data-line-number="4225"></td>
          <td id="LC4225">
</td>
        </tr>
        <tr>
          <td id="L4226" data-line-number="4226"></td>
          <td id="LC4226">	<span>int</span> oldView = <span>currentView</span>();</td>
        </tr>
        <tr>
          <td id="L4227" data-line-number="4227"></td>
          <td id="LC4227">	<span>int</span> newView = <span>otherView</span>();</td>
        </tr>
        <tr>
          <td id="L4228" data-line-number="4228"></td>
          <td id="LC4228">
</td>
        </tr>
        <tr>
          <td id="L4229" data-line-number="4229"></td>
          <td id="LC4229">	_activeView = newView;</td>
        </tr>
        <tr>
          <td id="L4230" data-line-number="4230"></td>
          <td id="LC4230">	<span><span>//</span>Good old switcheroo</span></td>
        </tr>
        <tr>
          <td id="L4231" data-line-number="4231"></td>
          <td id="LC4231">	<span>std::swap</span>(_pDocTab, _pNonDocTab);</td>
        </tr>
        <tr>
          <td id="L4232" data-line-number="4232"></td>
          <td id="LC4232">	<span>std::swap</span>(_pEditView, _pNonEditView);</td>
        </tr>
        <tr>
          <td id="L4233" data-line-number="4233"></td>
          <td id="LC4233">
</td>
        </tr>
        <tr>
          <td id="L4234" data-line-number="4234"></td>
          <td id="LC4234">	_pEditView-&gt;<span>beSwitched</span>();</td>
        </tr>
        <tr>
          <td id="L4235" data-line-number="4235"></td>
          <td id="LC4235">    _pEditView-&gt;<span>getFocus</span>();	<span><span>//</span>set the focus</span></td>
        </tr>
        <tr>
          <td id="L4236" data-line-number="4236"></td>
          <td id="LC4236">
</td>
        </tr>
        <tr>
          <td id="L4237" data-line-number="4237"></td>
          <td id="LC4237">	<span>if</span> (_pDocMap)</td>
        </tr>
        <tr>
          <td id="L4238" data-line-number="4238"></td>
          <td id="LC4238">	{</td>
        </tr>
        <tr>
          <td id="L4239" data-line-number="4239"></td>
          <td id="LC4239">		_pDocMap-&gt;<span>initWrapMap</span>();</td>
        </tr>
        <tr>
          <td id="L4240" data-line-number="4240"></td>
          <td id="LC4240">	}</td>
        </tr>
        <tr>
          <td id="L4241" data-line-number="4241"></td>
          <td id="LC4241">
</td>
        </tr>
        <tr>
          <td id="L4242" data-line-number="4242"></td>
          <td id="LC4242">	<span>if</span> (<span>NppParameters::getInstance</span>().<span>getNppGUI</span>().<span>isSnapshotMode</span>())</td>
        </tr>
        <tr>
          <td id="L4243" data-line-number="4243"></td>
          <td id="LC4243">	{</td>
        </tr>
        <tr>
          <td id="L4244" data-line-number="4244"></td>
          <td id="LC4244">		<span><span>//</span> Before switching off, synchronize backup file</span></td>
        </tr>
        <tr>
          <td id="L4245" data-line-number="4245"></td>
          <td id="LC4245">		MainFileManager.<span>backupCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L4246" data-line-number="4246"></td>
          <td id="LC4246">	}</td>
        </tr>
        <tr>
          <td id="L4247" data-line-number="4247"></td>
          <td id="LC4247">
</td>
        </tr>
        <tr>
          <td id="L4248" data-line-number="4248"></td>
          <td id="LC4248">	<span>notifyBufferActivated</span>(_pEditView-&gt;<span>getCurrentBufferID</span>(), <span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L4249" data-line-number="4249"></td>
          <td id="LC4249">	<span>return</span> oldView;</td>
        </tr>
        <tr>
          <td id="L4250" data-line-number="4250"></td>
          <td id="LC4250">}</td>
        </tr>
        <tr>
          <td id="L4251" data-line-number="4251"></td>
          <td id="LC4251">
</td>
        </tr>
        <tr>
          <td id="L4252" data-line-number="4252"></td>
          <td id="LC4252"><span>void</span> <span>Notepad_plus::dockUserDlg</span>()</td>
        </tr>
        <tr>
          <td id="L4253" data-line-number="4253"></td>
          <td id="LC4253">{</td>
        </tr>
        <tr>
          <td id="L4254" data-line-number="4254"></td>
          <td id="LC4254">    <span>if</span> (!_pMainSplitter)</td>
        </tr>
        <tr>
          <td id="L4255" data-line-number="4255"></td>
          <td id="LC4255">    {</td>
        </tr>
        <tr>
          <td id="L4256" data-line-number="4256"></td>
          <td id="LC4256">        _pMainSplitter = <span>new</span> SplitterContainer;</td>
        </tr>
        <tr>
          <td id="L4257" data-line-number="4257"></td>
          <td id="LC4257">		_pMainSplitter-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L4258" data-line-number="4258"></td>
          <td id="LC4258">
</td>
        </tr>
        <tr>
          <td id="L4259" data-line-number="4259"></td>
          <td id="LC4259">        Window *pWindow;</td>
        </tr>
        <tr>
          <td id="L4260" data-line-number="4260"></td>
          <td id="LC4260">		<span>if</span> (_mainWindowStatus &amp; (WindowMainActive | WindowSubActive))</td>
        </tr>
        <tr>
          <td id="L4261" data-line-number="4261"></td>
          <td id="LC4261">            pWindow = &amp;_subSplitter;</td>
        </tr>
        <tr>
          <td id="L4262" data-line-number="4262"></td>
          <td id="LC4262">        <span>else</span></td>
        </tr>
        <tr>
          <td id="L4263" data-line-number="4263"></td>
          <td id="LC4263">            pWindow = _pDocTab;</td>
        </tr>
        <tr>
          <td id="L4264" data-line-number="4264"></td>
          <td id="LC4264">		<span>int</span> splitterSizeDyn = <span>NppParameters::getInstance</span>().<span>_dpiManager</span>.<span>scaleX</span>(splitterSize);</td>
        </tr>
        <tr>
          <td id="L4265" data-line-number="4265"></td>
          <td id="LC4265">        _pMainSplitter-&gt;<span>create</span>(pWindow, <span>ScintillaEditView::getUserDefineDlg</span>(), splitterSizeDyn, SplitterMode::RIGHT_FIX, <span>45</span>);</td>
        </tr>
        <tr>
          <td id="L4266" data-line-number="4266"></td>
          <td id="LC4266">    }</td>
        </tr>
        <tr>
          <td id="L4267" data-line-number="4267"></td>
          <td id="LC4267">
</td>
        </tr>
        <tr>
          <td id="L4268" data-line-number="4268"></td>
          <td id="LC4268">    <span>if</span> (<span>bothActive</span>())</td>
        </tr>
        <tr>
          <td id="L4269" data-line-number="4269"></td>
          <td id="LC4269">        _pMainSplitter-&gt;<span>setWin0</span>(&amp;_subSplitter);</td>
        </tr>
        <tr>
          <td id="L4270" data-line-number="4270"></td>
          <td id="LC4270">    <span>else</span></td>
        </tr>
        <tr>
          <td id="L4271" data-line-number="4271"></td>
          <td id="LC4271">        _pMainSplitter-&gt;<span>setWin0</span>(_pDocTab);</td>
        </tr>
        <tr>
          <td id="L4272" data-line-number="4272"></td>
          <td id="LC4272">
</td>
        </tr>
        <tr>
          <td id="L4273" data-line-number="4273"></td>
          <td id="LC4273">    _pMainSplitter-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L4274" data-line-number="4274"></td>
          <td id="LC4274">
</td>
        </tr>
        <tr>
          <td id="L4275" data-line-number="4275"></td>
          <td id="LC4275">    _mainWindowStatus |= WindowUserActive;</td>
        </tr>
        <tr>
          <td id="L4276" data-line-number="4276"></td>
          <td id="LC4276">    _pMainWindow = _pMainSplitter;</td>
        </tr>
        <tr>
          <td id="L4277" data-line-number="4277"></td>
          <td id="LC4277">
</td>
        </tr>
        <tr>
          <td id="L4278" data-line-number="4278"></td>
          <td id="LC4278">	<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L4279" data-line-number="4279"></td>
          <td id="LC4279">}</td>
        </tr>
        <tr>
          <td id="L4280" data-line-number="4280"></td>
          <td id="LC4280">
</td>
        </tr>
        <tr>
          <td id="L4281" data-line-number="4281"></td>
          <td id="LC4281"><span>void</span> <span>Notepad_plus::undockUserDlg</span>()</td>
        </tr>
        <tr>
          <td id="L4282" data-line-number="4282"></td>
          <td id="LC4282">{</td>
        </tr>
        <tr>
          <td id="L4283" data-line-number="4283"></td>
          <td id="LC4283">    <span><span>//</span> a cause de surchargement de &#34;display&#34;</span></td>
        </tr>
        <tr>
          <td id="L4284" data-line-number="4284"></td>
          <td id="LC4284">    <span>::ShowWindow</span>(_pMainSplitter-&gt;<span>getHSelf</span>(), SW_HIDE);</td>
        </tr>
        <tr>
          <td id="L4285" data-line-number="4285"></td>
          <td id="LC4285">
</td>
        </tr>
        <tr>
          <td id="L4286" data-line-number="4286"></td>
          <td id="LC4286">    <span>if</span> (bothActive())</td>
        </tr>
        <tr>
          <td id="L4287" data-line-number="4287"></td>
          <td id="LC4287">        _pMainWindow = &amp;_subSplitter;</td>
        </tr>
        <tr>
          <td id="L4288" data-line-number="4288"></td>
          <td id="LC4288">    <span>else</span></td>
        </tr>
        <tr>
          <td id="L4289" data-line-number="4289"></td>
          <td id="LC4289">        _pMainWindow = _pDocTab;</td>
        </tr>
        <tr>
          <td id="L4290" data-line-number="4290"></td>
          <td id="LC4290">
</td>
        </tr>
        <tr>
          <td id="L4291" data-line-number="4291"></td>
          <td id="LC4291">    <span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L4292" data-line-number="4292"></td>
          <td id="LC4292">
</td>
        </tr>
        <tr>
          <td id="L4293" data-line-number="4293"></td>
          <td id="LC4293">    _mainWindowStatus &amp;= ~WindowUserActive;</td>
        </tr>
        <tr>
          <td id="L4294" data-line-number="4294"></td>
          <td id="LC4294">    (ScintillaEditView::getUserDefineDlg())-&gt;display();</td>
        </tr>
        <tr>
          <td id="L4295" data-line-number="4295"></td>
          <td id="LC4295">}</td>
        </tr>
        <tr>
          <td id="L4296" data-line-number="4296"></td>
          <td id="LC4296">
</td>
        </tr>
        <tr>
          <td id="L4297" data-line-number="4297"></td>
          <td id="LC4297"><span>void</span> <span>Notepad_plus::docOpenInNewInstance</span>(FileTransferMode mode, <span>int</span> x, <span>int</span> y)</td>
        </tr>
        <tr>
          <td id="L4298" data-line-number="4298"></td>
          <td id="LC4298">{</td>
        </tr>
        <tr>
          <td id="L4299" data-line-number="4299"></td>
          <td id="LC4299">	BufferID bufferID = _pEditView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L4300" data-line-number="4300"></td>
          <td id="LC4300">	Buffer * buf = MainFileManager.<span>getBufferByID</span>(bufferID);</td>
        </tr>
        <tr>
          <td id="L4301" data-line-number="4301"></td>
          <td id="LC4301">	<span>if</span> (buf-&gt;<span>isUntitled</span>() || buf-&gt;<span>isDirty</span>())</td>
        </tr>
        <tr>
          <td id="L4302" data-line-number="4302"></td>
          <td id="LC4302">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4303" data-line-number="4303"></td>
          <td id="LC4303">
</td>
        </tr>
        <tr>
          <td id="L4304" data-line-number="4304"></td>
          <td id="LC4304">	TCHAR nppName[MAX_PATH];</td>
        </tr>
        <tr>
          <td id="L4305" data-line-number="4305"></td>
          <td id="LC4305">	<span>::GetModuleFileName</span>(<span>NULL</span>, nppName, MAX_PATH);</td>
        </tr>
        <tr>
          <td id="L4306" data-line-number="4306"></td>
          <td id="LC4306">	generic_string command = <span>TEXT</span>(<span><span>&#34;</span><span>\&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4307" data-line-number="4307"></td>
          <td id="LC4307">	command += nppName;</td>
        </tr>
        <tr>
          <td id="L4308" data-line-number="4308"></td>
          <td id="LC4308">	command += <span>TEXT</span>(<span><span>&#34;</span><span>\&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4309" data-line-number="4309"></td>
          <td id="LC4309">	command += <span>TEXT</span>(<span><span>&#34;</span> <span>\&#34;</span>$(FULL_CURRENT_PATH)<span>\&#34;</span> -multiInst -nosession<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4310" data-line-number="4310"></td>
          <td id="LC4310">
</td>
        </tr>
        <tr>
          <td id="L4311" data-line-number="4311"></td>
          <td id="LC4311">	<span>if</span> (x)</td>
        </tr>
        <tr>
          <td id="L4312" data-line-number="4312"></td>
          <td id="LC4312">	{</td>
        </tr>
        <tr>
          <td id="L4313" data-line-number="4313"></td>
          <td id="LC4313">		TCHAR pX[<span>10</span>];</td>
        </tr>
        <tr>
          <td id="L4314" data-line-number="4314"></td>
          <td id="LC4314">		<span>generic_itoa</span>(x, pX, <span>10</span>);</td>
        </tr>
        <tr>
          <td id="L4315" data-line-number="4315"></td>
          <td id="LC4315">		command += <span>TEXT</span>(<span><span>&#34;</span> -x<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4316" data-line-number="4316"></td>
          <td id="LC4316">		command += pX;</td>
        </tr>
        <tr>
          <td id="L4317" data-line-number="4317"></td>
          <td id="LC4317">	}</td>
        </tr>
        <tr>
          <td id="L4318" data-line-number="4318"></td>
          <td id="LC4318">
</td>
        </tr>
        <tr>
          <td id="L4319" data-line-number="4319"></td>
          <td id="LC4319">	<span>if</span> (y)</td>
        </tr>
        <tr>
          <td id="L4320" data-line-number="4320"></td>
          <td id="LC4320">	{</td>
        </tr>
        <tr>
          <td id="L4321" data-line-number="4321"></td>
          <td id="LC4321">		TCHAR pY[<span>10</span>];</td>
        </tr>
        <tr>
          <td id="L4322" data-line-number="4322"></td>
          <td id="LC4322">		<span>generic_itoa</span>(y, pY, <span>10</span>);</td>
        </tr>
        <tr>
          <td id="L4323" data-line-number="4323"></td>
          <td id="LC4323">		command += <span>TEXT</span>(<span><span>&#34;</span> -y<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4324" data-line-number="4324"></td>
          <td id="LC4324">		command += pY;</td>
        </tr>
        <tr>
          <td id="L4325" data-line-number="4325"></td>
          <td id="LC4325">	}</td>
        </tr>
        <tr>
          <td id="L4326" data-line-number="4326"></td>
          <td id="LC4326">
</td>
        </tr>
        <tr>
          <td id="L4327" data-line-number="4327"></td>
          <td id="LC4327">	LangType lt = buf-&gt;<span>getLangType</span>();</td>
        </tr>
        <tr>
          <td id="L4328" data-line-number="4328"></td>
          <td id="LC4328">
</td>
        </tr>
        <tr>
          <td id="L4329" data-line-number="4329"></td>
          <td id="LC4329">	<span><span>//</span> In case of UDL, &#34;-lLANG&#34; argument part is ignored.</span></td>
        </tr>
        <tr>
          <td id="L4330" data-line-number="4330"></td>
          <td id="LC4330">	<span><span>//</span> We let new instance detect the user lang type via file extension -</span></td>
        </tr>
        <tr>
          <td id="L4331" data-line-number="4331"></td>
          <td id="LC4331">	<span><span>//</span> it works in the most of case, except if user applies an UDL manually. </span></td>
        </tr>
        <tr>
          <td id="L4332" data-line-number="4332"></td>
          <td id="LC4332">	<span><span>//</span> For example,  this workaround won&#39;t work under the following situation:</span></td>
        </tr>
        <tr>
          <td id="L4333" data-line-number="4333"></td>
          <td id="LC4333">	<span><span>//</span> user applies Markdown to a file named &#34;myMarkdown.abc&#34;.</span></td>
        </tr>
        <tr>
          <td id="L4334" data-line-number="4334"></td>
          <td id="LC4334">	<span>if</span> (lt != L_USER)</td>
        </tr>
        <tr>
          <td id="L4335" data-line-number="4335"></td>
          <td id="LC4335">	{</td>
        </tr>
        <tr>
          <td id="L4336" data-line-number="4336"></td>
          <td id="LC4336">		command += <span>TEXT</span>(<span><span>&#34;</span> -l<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4337" data-line-number="4337"></td>
          <td id="LC4337">		command += ScintillaEditView::_langNameInfoArray[lt].<span>_langName</span>;</td>
        </tr>
        <tr>
          <td id="L4338" data-line-number="4338"></td>
          <td id="LC4338">	}</td>
        </tr>
        <tr>
          <td id="L4339" data-line-number="4339"></td>
          <td id="LC4339">	command += <span>TEXT</span>(<span><span>&#34;</span> -n<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4340" data-line-number="4340"></td>
          <td id="LC4340">	command += <span>to_wstring</span>(_pEditView-&gt;<span>getCurrentLineNumber</span>() + <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L4341" data-line-number="4341"></td>
          <td id="LC4341">	command += <span>TEXT</span>(<span><span>&#34;</span> -c<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4342" data-line-number="4342"></td>
          <td id="LC4342">	command += <span>to_wstring</span>(_pEditView-&gt;<span>getCurrentColumnNumber</span>() + <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L4343" data-line-number="4343"></td>
          <td id="LC4343">
</td>
        </tr>
        <tr>
          <td id="L4344" data-line-number="4344"></td>
          <td id="LC4344">	Command <span>cmd</span>(command);</td>
        </tr>
        <tr>
          <td id="L4345" data-line-number="4345"></td>
          <td id="LC4345">	cmd.<span>run</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L4346" data-line-number="4346"></td>
          <td id="LC4346">	<span>if</span> (mode == TransferMove)</td>
        </tr>
        <tr>
          <td id="L4347" data-line-number="4347"></td>
          <td id="LC4347">	{</td>
        </tr>
        <tr>
          <td id="L4348" data-line-number="4348"></td>
          <td id="LC4348">		<span>doClose</span>(bufferID, <span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L4349" data-line-number="4349"></td>
          <td id="LC4349">		<span>if</span> (<span>noOpenedDoc</span>())</td>
        </tr>
        <tr>
          <td id="L4350" data-line-number="4350"></td>
          <td id="LC4350">			<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_CLOSE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L4351" data-line-number="4351"></td>
          <td id="LC4351">	}</td>
        </tr>
        <tr>
          <td id="L4352" data-line-number="4352"></td>
          <td id="LC4352">}</td>
        </tr>
        <tr>
          <td id="L4353" data-line-number="4353"></td>
          <td id="LC4353">
</td>
        </tr>
        <tr>
          <td id="L4354" data-line-number="4354"></td>
          <td id="LC4354"><span>void</span> <span>Notepad_plus::docGotoAnotherEditView</span>(FileTransferMode mode)</td>
        </tr>
        <tr>
          <td id="L4355" data-line-number="4355"></td>
          <td id="LC4355">{</td>
        </tr>
        <tr>
          <td id="L4356" data-line-number="4356"></td>
          <td id="LC4356">	<span><span>//</span> Test if it&#39;s only doc to transfer on the hidden view</span></td>
        </tr>
        <tr>
          <td id="L4357" data-line-number="4357"></td>
          <td id="LC4357">	<span><span>//</span> If so then do nothing</span></td>
        </tr>
        <tr>
          <td id="L4358" data-line-number="4358"></td>
          <td id="LC4358">	<span>if</span> (mode == TransferMove)</td>
        </tr>
        <tr>
          <td id="L4359" data-line-number="4359"></td>
          <td id="LC4359">	{</td>
        </tr>
        <tr>
          <td id="L4360" data-line-number="4360"></td>
          <td id="LC4360">		<span>if</span> (_pDocTab-&gt;<span>nbItem</span>() == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L4361" data-line-number="4361"></td>
          <td id="LC4361">		{</td>
        </tr>
        <tr>
          <td id="L4362" data-line-number="4362"></td>
          <td id="LC4362">			ScintillaEditView *pOtherView = <span>NULL</span>;</td>
        </tr>
        <tr>
          <td id="L4363" data-line-number="4363"></td>
          <td id="LC4363">			<span>if</span> (_pEditView == &amp;_mainEditView)</td>
        </tr>
        <tr>
          <td id="L4364" data-line-number="4364"></td>
          <td id="LC4364">			{</td>
        </tr>
        <tr>
          <td id="L4365" data-line-number="4365"></td>
          <td id="LC4365">				pOtherView = &amp;_subEditView;</td>
        </tr>
        <tr>
          <td id="L4366" data-line-number="4366"></td>
          <td id="LC4366">			}</td>
        </tr>
        <tr>
          <td id="L4367" data-line-number="4367"></td>
          <td id="LC4367">			<span>else</span> <span>if</span> (_pEditView == &amp;_subEditView)</td>
        </tr>
        <tr>
          <td id="L4368" data-line-number="4368"></td>
          <td id="LC4368">			{</td>
        </tr>
        <tr>
          <td id="L4369" data-line-number="4369"></td>
          <td id="LC4369">				pOtherView = &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L4370" data-line-number="4370"></td>
          <td id="LC4370">			}</td>
        </tr>
        <tr>
          <td id="L4371" data-line-number="4371"></td>
          <td id="LC4371">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L4372" data-line-number="4372"></td>
          <td id="LC4372">				<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4373" data-line-number="4373"></td>
          <td id="LC4373">
</td>
        </tr>
        <tr>
          <td id="L4374" data-line-number="4374"></td>
          <td id="LC4374">			<span>if</span> (!pOtherView-&gt;<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L4375" data-line-number="4375"></td>
          <td id="LC4375">				<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4376" data-line-number="4376"></td>
          <td id="LC4376">		}</td>
        </tr>
        <tr>
          <td id="L4377" data-line-number="4377"></td>
          <td id="LC4377">	}</td>
        </tr>
        <tr>
          <td id="L4378" data-line-number="4378"></td>
          <td id="LC4378">
</td>
        </tr>
        <tr>
          <td id="L4379" data-line-number="4379"></td>
          <td id="LC4379">	<span><span>//</span>First put the doc in the other view if not present (if it is, activate it).</span></td>
        </tr>
        <tr>
          <td id="L4380" data-line-number="4380"></td>
          <td id="LC4380">	<span><span>//</span>Then if needed close in the original tab</span></td>
        </tr>
        <tr>
          <td id="L4381" data-line-number="4381"></td>
          <td id="LC4381">	BufferID current = _pEditView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L4382" data-line-number="4382"></td>
          <td id="LC4382">	<span>int</span> viewToGo = <span>otherView</span>();</td>
        </tr>
        <tr>
          <td id="L4383" data-line-number="4383"></td>
          <td id="LC4383">	<span>int</span> indexFound = _pNonDocTab-&gt;<span>getIndexByBuffer</span>(current);</td>
        </tr>
        <tr>
          <td id="L4384" data-line-number="4384"></td>
          <td id="LC4384">	<span>if</span> (indexFound != -<span>1</span>)	<span><span>//</span>activate it</span></td>
        </tr>
        <tr>
          <td id="L4385" data-line-number="4385"></td>
          <td id="LC4385">	{</td>
        </tr>
        <tr>
          <td id="L4386" data-line-number="4386"></td>
          <td id="LC4386">		<span>activateBuffer</span>(current, <span>otherView</span>());</td>
        </tr>
        <tr>
          <td id="L4387" data-line-number="4387"></td>
          <td id="LC4387">	}</td>
        </tr>
        <tr>
          <td id="L4388" data-line-number="4388"></td>
          <td id="LC4388">	<span>else</span>	<span><span>//</span>open the document, also copying the position</span></td>
        </tr>
        <tr>
          <td id="L4389" data-line-number="4389"></td>
          <td id="LC4389">	{</td>
        </tr>
        <tr>
          <td id="L4390" data-line-number="4390"></td>
          <td id="LC4390">		<span><span>//</span> If both the views are visible then first save the position of non-edit view</span></td>
        </tr>
        <tr>
          <td id="L4391" data-line-number="4391"></td>
          <td id="LC4391">		<span><span>//</span> So that moving document between views does not lose caret position</span></td>
        </tr>
        <tr>
          <td id="L4392" data-line-number="4392"></td>
          <td id="LC4392">		<span><span>//</span> How it works =&gt;</span></td>
        </tr>
        <tr>
          <td id="L4393" data-line-number="4393"></td>
          <td id="LC4393">		<span><span>//</span>		non-edit view becomes edit view as document from edit view is sent to non edit view</span></td>
        </tr>
        <tr>
          <td id="L4394" data-line-number="4394"></td>
          <td id="LC4394">		<span><span>//</span>		restoreCurrentPos is called on non-edit view, which will restore the position of</span></td>
        </tr>
        <tr>
          <td id="L4395" data-line-number="4395"></td>
          <td id="LC4395">		<span><span>//</span>		active document/tab on non-edit view  (whatever position we set in below if condition)</span></td>
        </tr>
        <tr>
          <td id="L4396" data-line-number="4396"></td>
          <td id="LC4396">		<span>if</span> (_pEditView-&gt;<span>isVisible</span>() &amp;&amp; _pNonEditView-&gt;<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L4397" data-line-number="4397"></td>
          <td id="LC4397">		{</td>
        </tr>
        <tr>
          <td id="L4398" data-line-number="4398"></td>
          <td id="LC4398">			_pNonEditView-&gt;<span>saveCurrentPos</span>();</td>
        </tr>
        <tr>
          <td id="L4399" data-line-number="4399"></td>
          <td id="LC4399">		}</td>
        </tr>
        <tr>
          <td id="L4400" data-line-number="4400"></td>
          <td id="LC4400">
</td>
        </tr>
        <tr>
          <td id="L4401" data-line-number="4401"></td>
          <td id="LC4401">		<span>loadBufferIntoView</span>(current, viewToGo);</td>
        </tr>
        <tr>
          <td id="L4402" data-line-number="4402"></td>
          <td id="LC4402">		Buffer *buf = MainFileManager.<span>getBufferByID</span>(current);</td>
        </tr>
        <tr>
          <td id="L4403" data-line-number="4403"></td>
          <td id="LC4403">		_pEditView-&gt;<span>saveCurrentPos</span>();	<span><span>//</span>allow copying of position</span></td>
        </tr>
        <tr>
          <td id="L4404" data-line-number="4404"></td>
          <td id="LC4404">		buf-&gt;<span>setPosition</span>(buf-&gt;<span>getPosition</span>(_pEditView), _pNonEditView);</td>
        </tr>
        <tr>
          <td id="L4405" data-line-number="4405"></td>
          <td id="LC4405">		_pNonEditView-&gt;<span>restoreCurrentPosPreStep</span>();	<span><span>//</span>set position</span></td>
        </tr>
        <tr>
          <td id="L4406" data-line-number="4406"></td>
          <td id="LC4406">		<span>activateBuffer</span>(current, viewToGo);</td>
        </tr>
        <tr>
          <td id="L4407" data-line-number="4407"></td>
          <td id="LC4407">	}</td>
        </tr>
        <tr>
          <td id="L4408" data-line-number="4408"></td>
          <td id="LC4408">
</td>
        </tr>
        <tr>
          <td id="L4409" data-line-number="4409"></td>
          <td id="LC4409">	<span><span>//</span>Open the view if it was hidden</span></td>
        </tr>
        <tr>
          <td id="L4410" data-line-number="4410"></td>
          <td id="LC4410">	<span>int</span> viewToOpen = (viewToGo == SUB_VIEW?WindowSubActive:WindowMainActive);</td>
        </tr>
        <tr>
          <td id="L4411" data-line-number="4411"></td>
          <td id="LC4411">	<span>if</span> (!(_mainWindowStatus &amp; viewToOpen))</td>
        </tr>
        <tr>
          <td id="L4412" data-line-number="4412"></td>
          <td id="LC4412">	{</td>
        </tr>
        <tr>
          <td id="L4413" data-line-number="4413"></td>
          <td id="LC4413">		<span>showView</span>(viewToGo);</td>
        </tr>
        <tr>
          <td id="L4414" data-line-number="4414"></td>
          <td id="LC4414">	}</td>
        </tr>
        <tr>
          <td id="L4415" data-line-number="4415"></td>
          <td id="LC4415">
</td>
        </tr>
        <tr>
          <td id="L4416" data-line-number="4416"></td>
          <td id="LC4416">	<span>bool</span> monitoringWasOn = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4417" data-line-number="4417"></td>
          <td id="LC4417">
</td>
        </tr>
        <tr>
          <td id="L4418" data-line-number="4418"></td>
          <td id="LC4418">	<span><span>//</span>Close the document if we transfered the document instead of cloning it</span></td>
        </tr>
        <tr>
          <td id="L4419" data-line-number="4419"></td>
          <td id="LC4419">	<span>if</span> (mode == TransferMove)</td>
        </tr>
        <tr>
          <td id="L4420" data-line-number="4420"></td>
          <td id="LC4420">	{</td>
        </tr>
        <tr>
          <td id="L4421" data-line-number="4421"></td>
          <td id="LC4421">		Buffer *buf = MainFileManager.<span>getBufferByID</span>(current);</td>
        </tr>
        <tr>
          <td id="L4422" data-line-number="4422"></td>
          <td id="LC4422">		monitoringWasOn = buf-&gt;<span>isMonitoringOn</span>();</td>
        </tr>
        <tr>
          <td id="L4423" data-line-number="4423"></td>
          <td id="LC4423">
</td>
        </tr>
        <tr>
          <td id="L4424" data-line-number="4424"></td>
          <td id="LC4424">		<span><span>//</span>just close the activate document, since thats the one we moved (no search)</span></td>
        </tr>
        <tr>
          <td id="L4425" data-line-number="4425"></td>
          <td id="LC4425">		<span>doClose</span>(_pEditView-&gt;<span>getCurrentBufferID</span>(), <span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L4426" data-line-number="4426"></td>
          <td id="LC4426">	} <span><span>//</span> else it was cone, so leave it</span></td>
        </tr>
        <tr>
          <td id="L4427" data-line-number="4427"></td>
          <td id="LC4427">
</td>
        </tr>
        <tr>
          <td id="L4428" data-line-number="4428"></td>
          <td id="LC4428">	<span><span>//</span>Activate the other view since thats where the document went</span></td>
        </tr>
        <tr>
          <td id="L4429" data-line-number="4429"></td>
          <td id="LC4429">	<span>switchEditViewTo</span>(viewToGo);</td>
        </tr>
        <tr>
          <td id="L4430" data-line-number="4430"></td>
          <td id="LC4430">
</td>
        </tr>
        <tr>
          <td id="L4431" data-line-number="4431"></td>
          <td id="LC4431">	<span>if</span> (monitoringWasOn)</td>
        </tr>
        <tr>
          <td id="L4432" data-line-number="4432"></td>
          <td id="LC4432">	{</td>
        </tr>
        <tr>
          <td id="L4433" data-line-number="4433"></td>
          <td id="LC4433">		<span>command</span>(IDM_VIEW_MONITORING);</td>
        </tr>
        <tr>
          <td id="L4434" data-line-number="4434"></td>
          <td id="LC4434">	}</td>
        </tr>
        <tr>
          <td id="L4435" data-line-number="4435"></td>
          <td id="LC4435">}</td>
        </tr>
        <tr>
          <td id="L4436" data-line-number="4436"></td>
          <td id="LC4436">
</td>
        </tr>
        <tr>
          <td id="L4437" data-line-number="4437"></td>
          <td id="LC4437"><span>bool</span> <span>Notepad_plus::activateBuffer</span>(BufferID id, <span>int</span> whichOne, <span>bool</span> forceApplyHilite)</td>
        </tr>
        <tr>
          <td id="L4438" data-line-number="4438"></td>
          <td id="LC4438">{</td>
        </tr>
        <tr>
          <td id="L4439" data-line-number="4439"></td>
          <td id="LC4439">	NppGUI&amp; nppGui = <span>NppParameters::getInstance</span>().<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L4440" data-line-number="4440"></td>
          <td id="LC4440">	<span>bool</span> isSnapshotMode = nppGui.<span>isSnapshotMode</span>();</td>
        </tr>
        <tr>
          <td id="L4441" data-line-number="4441"></td>
          <td id="LC4441">	<span>if</span> (isSnapshotMode)</td>
        </tr>
        <tr>
          <td id="L4442" data-line-number="4442"></td>
          <td id="LC4442">	{</td>
        </tr>
        <tr>
          <td id="L4443" data-line-number="4443"></td>
          <td id="LC4443">		<span><span>//</span> Before switching off, synchronize backup file</span></td>
        </tr>
        <tr>
          <td id="L4444" data-line-number="4444"></td>
          <td id="LC4444">		MainFileManager.<span>backupCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L4445" data-line-number="4445"></td>
          <td id="LC4445">	}</td>
        </tr>
        <tr>
          <td id="L4446" data-line-number="4446"></td>
          <td id="LC4446">	Buffer * pBuf = MainFileManager.<span>getBufferByID</span>(id);</td>
        </tr>
        <tr>
          <td id="L4447" data-line-number="4447"></td>
          <td id="LC4447">	<span>bool</span> reload = pBuf-&gt;<span>getNeedReload</span>();</td>
        </tr>
        <tr>
          <td id="L4448" data-line-number="4448"></td>
          <td id="LC4448">	<span>if</span> (reload)</td>
        </tr>
        <tr>
          <td id="L4449" data-line-number="4449"></td>
          <td id="LC4449">	{</td>
        </tr>
        <tr>
          <td id="L4450" data-line-number="4450"></td>
          <td id="LC4450">		MainFileManager.<span>reloadBuffer</span>(id);</td>
        </tr>
        <tr>
          <td id="L4451" data-line-number="4451"></td>
          <td id="LC4451">		pBuf-&gt;<span>setNeedReload</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4452" data-line-number="4452"></td>
          <td id="LC4452">	}</td>
        </tr>
        <tr>
          <td id="L4453" data-line-number="4453"></td>
          <td id="LC4453">	<span>if</span> (whichOne == MAIN_VIEW)</td>
        </tr>
        <tr>
          <td id="L4454" data-line-number="4454"></td>
          <td id="LC4454">	{</td>
        </tr>
        <tr>
          <td id="L4455" data-line-number="4455"></td>
          <td id="LC4455">		<span>if</span> (_mainDocTab.<span>activateBuffer</span>(id))	<span><span>//</span>only activate if possible</span></td>
        </tr>
        <tr>
          <td id="L4456" data-line-number="4456"></td>
          <td id="LC4456">		{</td>
        </tr>
        <tr>
          <td id="L4457" data-line-number="4457"></td>
          <td id="LC4457">			_isFolding = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4458" data-line-number="4458"></td>
          <td id="LC4458">			_mainEditView.<span>activateBuffer</span>(id, forceApplyHilite);</td>
        </tr>
        <tr>
          <td id="L4459" data-line-number="4459"></td>
          <td id="LC4459">			_isFolding = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4460" data-line-number="4460"></td>
          <td id="LC4460">		}</td>
        </tr>
        <tr>
          <td id="L4461" data-line-number="4461"></td>
          <td id="LC4461">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L4462" data-line-number="4462"></td>
          <td id="LC4462">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4463" data-line-number="4463"></td>
          <td id="LC4463">	}</td>
        </tr>
        <tr>
          <td id="L4464" data-line-number="4464"></td>
          <td id="LC4464">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4465" data-line-number="4465"></td>
          <td id="LC4465">	{</td>
        </tr>
        <tr>
          <td id="L4466" data-line-number="4466"></td>
          <td id="LC4466">		<span>if</span> (_subDocTab.<span>activateBuffer</span>(id))</td>
        </tr>
        <tr>
          <td id="L4467" data-line-number="4467"></td>
          <td id="LC4467">		{</td>
        </tr>
        <tr>
          <td id="L4468" data-line-number="4468"></td>
          <td id="LC4468">			_isFolding = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4469" data-line-number="4469"></td>
          <td id="LC4469">			_subEditView.<span>activateBuffer</span>(id, forceApplyHilite);</td>
        </tr>
        <tr>
          <td id="L4470" data-line-number="4470"></td>
          <td id="LC4470">			_isFolding = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4471" data-line-number="4471"></td>
          <td id="LC4471">		}</td>
        </tr>
        <tr>
          <td id="L4472" data-line-number="4472"></td>
          <td id="LC4472">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L4473" data-line-number="4473"></td>
          <td id="LC4473">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4474" data-line-number="4474"></td>
          <td id="LC4474">	}</td>
        </tr>
        <tr>
          <td id="L4475" data-line-number="4475"></td>
          <td id="LC4475">
</td>
        </tr>
        <tr>
          <td id="L4476" data-line-number="4476"></td>
          <td id="LC4476">	<span>if</span> (reload)</td>
        </tr>
        <tr>
          <td id="L4477" data-line-number="4477"></td>
          <td id="LC4477">	{</td>
        </tr>
        <tr>
          <td id="L4478" data-line-number="4478"></td>
          <td id="LC4478">		<span>performPostReload</span>(whichOne);</td>
        </tr>
        <tr>
          <td id="L4479" data-line-number="4479"></td>
          <td id="LC4479">	}</td>
        </tr>
        <tr>
          <td id="L4480" data-line-number="4480"></td>
          <td id="LC4480">
</td>
        </tr>
        <tr>
          <td id="L4481" data-line-number="4481"></td>
          <td id="LC4481">	<span>notifyBufferActivated</span>(id, whichOne);</td>
        </tr>
        <tr>
          <td id="L4482" data-line-number="4482"></td>
          <td id="LC4482">
</td>
        </tr>
        <tr>
          <td id="L4483" data-line-number="4483"></td>
          <td id="LC4483">	<span>bool</span> isCurrBuffDetection = (nppGui.<span>_fileAutoDetection</span> &amp; cdEnabledNew) ? <span>true</span> : <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4484" data-line-number="4484"></td>
          <td id="LC4484">	<span>if</span> (!reload &amp;&amp; isCurrBuffDetection)</td>
        </tr>
        <tr>
          <td id="L4485" data-line-number="4485"></td>
          <td id="LC4485">	{</td>
        </tr>
        <tr>
          <td id="L4486" data-line-number="4486"></td>
          <td id="LC4486">		<span><span>//</span> Buffer has been activated, now check for file modification</span></td>
        </tr>
        <tr>
          <td id="L4487" data-line-number="4487"></td>
          <td id="LC4487">		<span><span>//</span> If enabled for current buffer</span></td>
        </tr>
        <tr>
          <td id="L4488" data-line-number="4488"></td>
          <td id="LC4488">		pBuf-&gt;<span>checkFileState</span>();</td>
        </tr>
        <tr>
          <td id="L4489" data-line-number="4489"></td>
          <td id="LC4489">	}</td>
        </tr>
        <tr>
          <td id="L4490" data-line-number="4490"></td>
          <td id="LC4490">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4491" data-line-number="4491"></td>
          <td id="LC4491">}</td>
        </tr>
        <tr>
          <td id="L4492" data-line-number="4492"></td>
          <td id="LC4492">
</td>
        </tr>
        <tr>
          <td id="L4493" data-line-number="4493"></td>
          <td id="LC4493"><span>void</span> <span>Notepad_plus::performPostReload</span>(<span>int</span> whichOne)</td>
        </tr>
        <tr>
          <td id="L4494" data-line-number="4494"></td>
          <td id="LC4494">{</td>
        </tr>
        <tr>
          <td id="L4495" data-line-number="4495"></td>
          <td id="LC4495">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L4496" data-line-number="4496"></td>
          <td id="LC4496">	<span>const</span> NppGUI &amp; nppGUI = nppParam.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L4497" data-line-number="4497"></td>
          <td id="LC4497">	<span>bool</span> toEnd = (nppGUI.<span>_fileAutoDetection</span> &amp; cdGo2end) ? <span>true</span> : <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4498" data-line-number="4498"></td>
          <td id="LC4498">	<span>if</span> (!toEnd)</td>
        </tr>
        <tr>
          <td id="L4499" data-line-number="4499"></td>
          <td id="LC4499">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4500" data-line-number="4500"></td>
          <td id="LC4500">	<span>if</span> (whichOne == MAIN_VIEW)</td>
        </tr>
        <tr>
          <td id="L4501" data-line-number="4501"></td>
          <td id="LC4501">	{</td>
        </tr>
        <tr>
          <td id="L4502" data-line-number="4502"></td>
          <td id="LC4502">		_mainEditView.<span>setPositionRestoreNeeded</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4503" data-line-number="4503"></td>
          <td id="LC4503">		_mainEditView.<span>execute</span>(SCI_DOCUMENTEND);</td>
        </tr>
        <tr>
          <td id="L4504" data-line-number="4504"></td>
          <td id="LC4504">	}</td>
        </tr>
        <tr>
          <td id="L4505" data-line-number="4505"></td>
          <td id="LC4505">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4506" data-line-number="4506"></td>
          <td id="LC4506">	{</td>
        </tr>
        <tr>
          <td id="L4507" data-line-number="4507"></td>
          <td id="LC4507">		_subEditView.<span>setPositionRestoreNeeded</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4508" data-line-number="4508"></td>
          <td id="LC4508">		_subEditView.<span>execute</span>(SCI_DOCUMENTEND);</td>
        </tr>
        <tr>
          <td id="L4509" data-line-number="4509"></td>
          <td id="LC4509">	}</td>
        </tr>
        <tr>
          <td id="L4510" data-line-number="4510"></td>
          <td id="LC4510">}</td>
        </tr>
        <tr>
          <td id="L4511" data-line-number="4511"></td>
          <td id="LC4511">
</td>
        </tr>
        <tr>
          <td id="L4512" data-line-number="4512"></td>
          <td id="LC4512"><span>void</span> <span>Notepad_plus::bookmarkNext</span>(<span>bool</span> forwardScan)</td>
        </tr>
        <tr>
          <td id="L4513" data-line-number="4513"></td>
          <td id="LC4513">{</td>
        </tr>
        <tr>
          <td id="L4514" data-line-number="4514"></td>
          <td id="LC4514">	<span>size_t</span> lineno = _pEditView-&gt;<span>getCurrentLineNumber</span>();</td>
        </tr>
        <tr>
          <td id="L4515" data-line-number="4515"></td>
          <td id="LC4515">	<span>int</span> sci_marker = SCI_MARKERNEXT;</td>
        </tr>
        <tr>
          <td id="L4516" data-line-number="4516"></td>
          <td id="LC4516">	<span>size_t</span> lineStart = lineno + <span>1</span>;	<span><span>//</span>Scan starting from next line</span></td>
        </tr>
        <tr>
          <td id="L4517" data-line-number="4517"></td>
          <td id="LC4517">	<span>intptr_t</span> lineRetry = <span>0</span>;				<span><span>//</span>If not found, try from the beginning</span></td>
        </tr>
        <tr>
          <td id="L4518" data-line-number="4518"></td>
          <td id="LC4518">	<span>if</span> (!forwardScan)</td>
        </tr>
        <tr>
          <td id="L4519" data-line-number="4519"></td>
          <td id="LC4519">    {</td>
        </tr>
        <tr>
          <td id="L4520" data-line-number="4520"></td>
          <td id="LC4520">		lineStart = lineno - <span>1</span>;		<span><span>//</span>Scan starting from previous line</span></td>
        </tr>
        <tr>
          <td id="L4521" data-line-number="4521"></td>
          <td id="LC4521">		lineRetry = _pEditView-&gt;<span>execute</span>(SCI_GETLINECOUNT);	<span><span>//</span>If not found, try from the end</span></td>
        </tr>
        <tr>
          <td id="L4522" data-line-number="4522"></td>
          <td id="LC4522">		sci_marker = SCI_MARKERPREVIOUS;</td>
        </tr>
        <tr>
          <td id="L4523" data-line-number="4523"></td>
          <td id="LC4523">	}</td>
        </tr>
        <tr>
          <td id="L4524" data-line-number="4524"></td>
          <td id="LC4524">	<span>intptr_t</span> nextLine = _pEditView-&gt;<span>execute</span>(sci_marker, lineStart, <span>1</span> &lt;&lt; MARK_BOOKMARK);</td>
        </tr>
        <tr>
          <td id="L4525" data-line-number="4525"></td>
          <td id="LC4525">	<span>if</span> (nextLine &lt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L4526" data-line-number="4526"></td>
          <td id="LC4526">		nextLine = _pEditView-&gt;<span>execute</span>(sci_marker, lineRetry, <span>1</span> &lt;&lt; MARK_BOOKMARK);</td>
        </tr>
        <tr>
          <td id="L4527" data-line-number="4527"></td>
          <td id="LC4527">
</td>
        </tr>
        <tr>
          <td id="L4528" data-line-number="4528"></td>
          <td id="LC4528">	<span>if</span> (nextLine &lt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L4529" data-line-number="4529"></td>
          <td id="LC4529">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4530" data-line-number="4530"></td>
          <td id="LC4530">
</td>
        </tr>
        <tr>
          <td id="L4531" data-line-number="4531"></td>
          <td id="LC4531">    _pEditView-&gt;<span>execute</span>(SCI_ENSUREVISIBLEENFORCEPOLICY, nextLine);</td>
        </tr>
        <tr>
          <td id="L4532" data-line-number="4532"></td>
          <td id="LC4532">	_pEditView-&gt;<span>execute</span>(SCI_GOTOLINE, nextLine);</td>
        </tr>
        <tr>
          <td id="L4533" data-line-number="4533"></td>
          <td id="LC4533">}</td>
        </tr>
        <tr>
          <td id="L4534" data-line-number="4534"></td>
          <td id="LC4534">
</td>
        </tr>
        <tr>
          <td id="L4535" data-line-number="4535"></td>
          <td id="LC4535"><span>void</span> <span>Notepad_plus::staticCheckMenuAndTB</span>() <span>const</span></td>
        </tr>
        <tr>
          <td id="L4536" data-line-number="4536"></td>
          <td id="LC4536">{</td>
        </tr>
        <tr>
          <td id="L4537" data-line-number="4537"></td>
          <td id="LC4537">	<span><span>//</span> Visibility of invisible characters</span></td>
        </tr>
        <tr>
          <td id="L4538" data-line-number="4538"></td>
          <td id="LC4538">	<span>bool</span> wsTabShow = _pEditView-&gt;<span>isInvisibleCharsShown</span>();</td>
        </tr>
        <tr>
          <td id="L4539" data-line-number="4539"></td>
          <td id="LC4539">	<span>bool</span> eolShow = _pEditView-&gt;<span>isEolVisible</span>();</td>
        </tr>
        <tr>
          <td id="L4540" data-line-number="4540"></td>
          <td id="LC4540">
</td>
        </tr>
        <tr>
          <td id="L4541" data-line-number="4541"></td>
          <td id="LC4541">	<span>bool</span> onlyWS = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4542" data-line-number="4542"></td>
          <td id="LC4542">	<span>bool</span> onlyEOL = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4543" data-line-number="4543"></td>
          <td id="LC4543">	<span>bool</span> bothWSEOL = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4544" data-line-number="4544"></td>
          <td id="LC4544">	<span>if</span> (wsTabShow)</td>
        </tr>
        <tr>
          <td id="L4545" data-line-number="4545"></td>
          <td id="LC4545">	{</td>
        </tr>
        <tr>
          <td id="L4546" data-line-number="4546"></td>
          <td id="LC4546">		<span>if</span> (eolShow)</td>
        </tr>
        <tr>
          <td id="L4547" data-line-number="4547"></td>
          <td id="LC4547">		{</td>
        </tr>
        <tr>
          <td id="L4548" data-line-number="4548"></td>
          <td id="LC4548">			bothWSEOL = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4549" data-line-number="4549"></td>
          <td id="LC4549">		}</td>
        </tr>
        <tr>
          <td id="L4550" data-line-number="4550"></td>
          <td id="LC4550">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L4551" data-line-number="4551"></td>
          <td id="LC4551">		{</td>
        </tr>
        <tr>
          <td id="L4552" data-line-number="4552"></td>
          <td id="LC4552">			onlyWS = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4553" data-line-number="4553"></td>
          <td id="LC4553">		}</td>
        </tr>
        <tr>
          <td id="L4554" data-line-number="4554"></td>
          <td id="LC4554">	}</td>
        </tr>
        <tr>
          <td id="L4555" data-line-number="4555"></td>
          <td id="LC4555">	<span>else</span> <span>if</span> (eolShow)</td>
        </tr>
        <tr>
          <td id="L4556" data-line-number="4556"></td>
          <td id="LC4556">	{</td>
        </tr>
        <tr>
          <td id="L4557" data-line-number="4557"></td>
          <td id="LC4557">		onlyEOL = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4558" data-line-number="4558"></td>
          <td id="LC4558">	}</td>
        </tr>
        <tr>
          <td id="L4559" data-line-number="4559"></td>
          <td id="LC4559">
</td>
        </tr>
        <tr>
          <td id="L4560" data-line-number="4560"></td>
          <td id="LC4560">	<span>checkMenuItem</span>(IDM_VIEW_TAB_SPACE, onlyWS);</td>
        </tr>
        <tr>
          <td id="L4561" data-line-number="4561"></td>
          <td id="LC4561">	<span>checkMenuItem</span>(IDM_VIEW_EOL, onlyEOL);</td>
        </tr>
        <tr>
          <td id="L4562" data-line-number="4562"></td>
          <td id="LC4562">	<span>checkMenuItem</span>(IDM_VIEW_ALL_CHARACTERS, bothWSEOL);</td>
        </tr>
        <tr>
          <td id="L4563" data-line-number="4563"></td>
          <td id="LC4563">	_toolBar.<span>setCheck</span>(IDM_VIEW_ALL_CHARACTERS, bothWSEOL);</td>
        </tr>
        <tr>
          <td id="L4564" data-line-number="4564"></td>
          <td id="LC4564">
</td>
        </tr>
        <tr>
          <td id="L4565" data-line-number="4565"></td>
          <td id="LC4565">	<span><span>//</span> Visibility of the indentation guide line</span></td>
        </tr>
        <tr>
          <td id="L4566" data-line-number="4566"></td>
          <td id="LC4566">	<span>bool</span> b = _pEditView-&gt;<span>isShownIndentGuide</span>();</td>
        </tr>
        <tr>
          <td id="L4567" data-line-number="4567"></td>
          <td id="LC4567">	<span>checkMenuItem</span>(IDM_VIEW_INDENT_GUIDE, b);</td>
        </tr>
        <tr>
          <td id="L4568" data-line-number="4568"></td>
          <td id="LC4568">	_toolBar.<span>setCheck</span>(IDM_VIEW_INDENT_GUIDE, b);</td>
        </tr>
        <tr>
          <td id="L4569" data-line-number="4569"></td>
          <td id="LC4569">
</td>
        </tr>
        <tr>
          <td id="L4570" data-line-number="4570"></td>
          <td id="LC4570">
</td>
        </tr>
        <tr>
          <td id="L4571" data-line-number="4571"></td>
          <td id="LC4571">	<span><span>//</span> Wrap</span></td>
        </tr>
        <tr>
          <td id="L4572" data-line-number="4572"></td>
          <td id="LC4572">	b = _pEditView-&gt;<span>isWrap</span>();</td>
        </tr>
        <tr>
          <td id="L4573" data-line-number="4573"></td>
          <td id="LC4573">	<span>checkMenuItem</span>(IDM_VIEW_WRAP, b);</td>
        </tr>
        <tr>
          <td id="L4574" data-line-number="4574"></td>
          <td id="LC4574">	_toolBar.<span>setCheck</span>(IDM_VIEW_WRAP, b);</td>
        </tr>
        <tr>
          <td id="L4575" data-line-number="4575"></td>
          <td id="LC4575">	<span>checkMenuItem</span>(IDM_VIEW_WRAP_SYMBOL, _pEditView-&gt;<span>isWrapSymbolVisible</span>());</td>
        </tr>
        <tr>
          <td id="L4576" data-line-number="4576"></td>
          <td id="LC4576">}</td>
        </tr>
        <tr>
          <td id="L4577" data-line-number="4577"></td>
          <td id="LC4577">
</td>
        </tr>
        <tr>
          <td id="L4578" data-line-number="4578"></td>
          <td id="LC4578">
</td>
        </tr>
        <tr>
          <td id="L4579" data-line-number="4579"></td>
          <td id="LC4579"><span>void</span> <span>Notepad_plus::dynamicCheckMenuAndTB</span>() <span>const</span></td>
        </tr>
        <tr>
          <td id="L4580" data-line-number="4580"></td>
          <td id="LC4580">{</td>
        </tr>
        <tr>
          <td id="L4581" data-line-number="4581"></td>
          <td id="LC4581">	<span><span>//</span>Format conversion</span></td>
        </tr>
        <tr>
          <td id="L4582" data-line-number="4582"></td>
          <td id="LC4582">	<span>enableConvertMenuItems</span>(_pEditView-&gt;<span>getCurrentBuffer</span>()-&gt;<span>getEolFormat</span>());</td>
        </tr>
        <tr>
          <td id="L4583" data-line-number="4583"></td>
          <td id="LC4583">	<span>checkUnicodeMenuItems</span>();</td>
        </tr>
        <tr>
          <td id="L4584" data-line-number="4584"></td>
          <td id="LC4584">}</td>
        </tr>
        <tr>
          <td id="L4585" data-line-number="4585"></td>
          <td id="LC4585">
</td>
        </tr>
        <tr>
          <td id="L4586" data-line-number="4586"></td>
          <td id="LC4586">
</td>
        </tr>
        <tr>
          <td id="L4587" data-line-number="4587"></td>
          <td id="LC4587"><span>void</span> <span>Notepad_plus::enableConvertMenuItems</span>(EolType format) <span>const</span></td>
        </tr>
        <tr>
          <td id="L4588" data-line-number="4588"></td>
          <td id="LC4588">{</td>
        </tr>
        <tr>
          <td id="L4589" data-line-number="4589"></td>
          <td id="LC4589">	<span>enableCommand</span>(IDM_FORMAT_TODOS, (format != EolType::windows), MENU);</td>
        </tr>
        <tr>
          <td id="L4590" data-line-number="4590"></td>
          <td id="LC4590">	<span>enableCommand</span>(IDM_FORMAT_TOUNIX, (format != EolType::unix), MENU);</td>
        </tr>
        <tr>
          <td id="L4591" data-line-number="4591"></td>
          <td id="LC4591">	<span>enableCommand</span>(IDM_FORMAT_TOMAC, (format != EolType::macos), MENU);</td>
        </tr>
        <tr>
          <td id="L4592" data-line-number="4592"></td>
          <td id="LC4592">}</td>
        </tr>
        <tr>
          <td id="L4593" data-line-number="4593"></td>
          <td id="LC4593">
</td>
        </tr>
        <tr>
          <td id="L4594" data-line-number="4594"></td>
          <td id="LC4594">
</td>
        </tr>
        <tr>
          <td id="L4595" data-line-number="4595"></td>
          <td id="LC4595"><span>void</span> <span>Notepad_plus::checkUnicodeMenuItems</span>() <span>const</span></td>
        </tr>
        <tr>
          <td id="L4596" data-line-number="4596"></td>
          <td id="LC4596">{</td>
        </tr>
        <tr>
          <td id="L4597" data-line-number="4597"></td>
          <td id="LC4597">	Buffer *buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L4598" data-line-number="4598"></td>
          <td id="LC4598">	UniMode um = buf-&gt;<span>getUnicodeMode</span>();</td>
        </tr>
        <tr>
          <td id="L4599" data-line-number="4599"></td>
          <td id="LC4599">	<span>int</span> encoding = buf-&gt;<span>getEncoding</span>();</td>
        </tr>
        <tr>
          <td id="L4600" data-line-number="4600"></td>
          <td id="LC4600">
</td>
        </tr>
        <tr>
          <td id="L4601" data-line-number="4601"></td>
          <td id="LC4601">	<span>int</span> id = -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L4602" data-line-number="4602"></td>
          <td id="LC4602">	<span>switch</span> (um)</td>
        </tr>
        <tr>
          <td id="L4603" data-line-number="4603"></td>
          <td id="LC4603">	{</td>
        </tr>
        <tr>
          <td id="L4604" data-line-number="4604"></td>
          <td id="LC4604">		<span>case</span> uniUTF8   : id = IDM_FORMAT_UTF_8; <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L4605" data-line-number="4605"></td>
          <td id="LC4605">		<span>case</span> uni16BE   : id = IDM_FORMAT_UTF_16BE; <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L4606" data-line-number="4606"></td>
          <td id="LC4606">		<span>case</span> uni16LE   : id = IDM_FORMAT_UTF_16LE; <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L4607" data-line-number="4607"></td>
          <td id="LC4607">		<span>case</span> uniCookie : id = IDM_FORMAT_AS_UTF_8; <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L4608" data-line-number="4608"></td>
          <td id="LC4608">		<span>case</span> uni8Bit   : id = IDM_FORMAT_ANSI; <span>break</span>;</td>
        </tr>
        <tr>
          <td id="L4609" data-line-number="4609"></td>
          <td id="LC4609">
</td>
        </tr>
        <tr>
          <td id="L4610" data-line-number="4610"></td>
          <td id="LC4610">		<span>case</span> uni7Bit:</td>
        </tr>
        <tr>
          <td id="L4611" data-line-number="4611"></td>
          <td id="LC4611">		<span>case</span> uni16BE_NoBOM:</td>
        </tr>
        <tr>
          <td id="L4612" data-line-number="4612"></td>
          <td id="LC4612">		<span>case</span> uni16LE_NoBOM:</td>
        </tr>
        <tr>
          <td id="L4613" data-line-number="4613"></td>
          <td id="LC4613">		<span>case</span> uniEnd:</td>
        </tr>
        <tr>
          <td id="L4614" data-line-number="4614"></td>
          <td id="LC4614">		<span>default</span>:</td>
        </tr>
        <tr>
          <td id="L4615" data-line-number="4615"></td>
          <td id="LC4615">			<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L4616" data-line-number="4616"></td>
          <td id="LC4616">	}</td>
        </tr>
        <tr>
          <td id="L4617" data-line-number="4617"></td>
          <td id="LC4617">
</td>
        </tr>
        <tr>
          <td id="L4618" data-line-number="4618"></td>
          <td id="LC4618">	<span>if</span> (encoding == -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L4619" data-line-number="4619"></td>
          <td id="LC4619">	{</td>
        </tr>
        <tr>
          <td id="L4620" data-line-number="4620"></td>
          <td id="LC4620">		<span><span>//</span> Uncheck all in the sub encoding menu</span></td>
        </tr>
        <tr>
          <td id="L4621" data-line-number="4621"></td>
          <td id="LC4621">        HMENU _formatMenuHandle = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_FORMAT);</td>
        </tr>
        <tr>
          <td id="L4622" data-line-number="4622"></td>
          <td id="LC4622">        <span>doCheck</span>(_formatMenuHandle, -<span>1</span>);</td>
        </tr>
        <tr>
          <td id="L4623" data-line-number="4623"></td>
          <td id="LC4623">
</td>
        </tr>
        <tr>
          <td id="L4624" data-line-number="4624"></td>
          <td id="LC4624">		<span>if</span> (id == -<span>1</span>) <span><span>//</span>um == uni16BE_NoBOM || um == uni16LE_NoBOM</span></td>
        </tr>
        <tr>
          <td id="L4625" data-line-number="4625"></td>
          <td id="LC4625">		{</td>
        </tr>
        <tr>
          <td id="L4626" data-line-number="4626"></td>
          <td id="LC4626">			<span><span>//</span> Uncheck all in the main encoding menu</span></td>
        </tr>
        <tr>
          <td id="L4627" data-line-number="4627"></td>
          <td id="LC4627">			<span>::CheckMenuRadioItem</span>(_mainMenuHandle, IDM_FORMAT_ANSI, IDM_FORMAT_AS_UTF_8, IDM_FORMAT_ANSI, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L4628" data-line-number="4628"></td>
          <td id="LC4628">			<span>::CheckMenuItem</span>(_mainMenuHandle, IDM_FORMAT_ANSI, MF_UNCHECKED | MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L4629" data-line-number="4629"></td>
          <td id="LC4629">		}</td>
        </tr>
        <tr>
          <td id="L4630" data-line-number="4630"></td>
          <td id="LC4630">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L4631" data-line-number="4631"></td>
          <td id="LC4631">		{</td>
        </tr>
        <tr>
          <td id="L4632" data-line-number="4632"></td>
          <td id="LC4632">			<span>::CheckMenuRadioItem</span>(_mainMenuHandle, IDM_FORMAT_ANSI, IDM_FORMAT_AS_UTF_8, id, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L4633" data-line-number="4633"></td>
          <td id="LC4633">		}</td>
        </tr>
        <tr>
          <td id="L4634" data-line-number="4634"></td>
          <td id="LC4634">	}</td>
        </tr>
        <tr>
          <td id="L4635" data-line-number="4635"></td>
          <td id="LC4635">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4636" data-line-number="4636"></td>
          <td id="LC4636">	{</td>
        </tr>
        <tr>
          <td id="L4637" data-line-number="4637"></td>
          <td id="LC4637">		EncodingMapper&amp; em = <span>EncodingMapper::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L4638" data-line-number="4638"></td>
          <td id="LC4638">		<span>int</span> cmdID = em.<span>getIndexFromEncoding</span>(encoding);</td>
        </tr>
        <tr>
          <td id="L4639" data-line-number="4639"></td>
          <td id="LC4639">		<span>if</span> (cmdID == -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L4640" data-line-number="4640"></td>
          <td id="LC4640">		{</td>
        </tr>
        <tr>
          <td id="L4641" data-line-number="4641"></td>
          <td id="LC4641">			<span><span>//</span>printStr(TEXT(&#34;Encoding problem. Encoding is not added in encoding_table?&#34;));</span></td>
        </tr>
        <tr>
          <td id="L4642" data-line-number="4642"></td>
          <td id="LC4642">			<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L4643" data-line-number="4643"></td>
          <td id="LC4643">		}</td>
        </tr>
        <tr>
          <td id="L4644" data-line-number="4644"></td>
          <td id="LC4644">		cmdID += IDM_FORMAT_ENCODE;</td>
        </tr>
        <tr>
          <td id="L4645" data-line-number="4645"></td>
          <td id="LC4645">
</td>
        </tr>
        <tr>
          <td id="L4646" data-line-number="4646"></td>
          <td id="LC4646">		<span><span>//</span> Uncheck all in the main encoding menu</span></td>
        </tr>
        <tr>
          <td id="L4647" data-line-number="4647"></td>
          <td id="LC4647">		<span>::CheckMenuRadioItem</span>(_mainMenuHandle, IDM_FORMAT_ANSI, IDM_FORMAT_AS_UTF_8, IDM_FORMAT_ANSI, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L4648" data-line-number="4648"></td>
          <td id="LC4648">		<span>::CheckMenuItem</span>(_mainMenuHandle, IDM_FORMAT_ANSI, MF_UNCHECKED | MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L4649" data-line-number="4649"></td>
          <td id="LC4649">
</td>
        </tr>
        <tr>
          <td id="L4650" data-line-number="4650"></td>
          <td id="LC4650">		<span><span>//</span> Check the encoding item</span></td>
        </tr>
        <tr>
          <td id="L4651" data-line-number="4651"></td>
          <td id="LC4651">        HMENU _formatMenuHandle = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_FORMAT);</td>
        </tr>
        <tr>
          <td id="L4652" data-line-number="4652"></td>
          <td id="LC4652">        <span>doCheck</span>(_formatMenuHandle, cmdID);</td>
        </tr>
        <tr>
          <td id="L4653" data-line-number="4653"></td>
          <td id="LC4653">	}</td>
        </tr>
        <tr>
          <td id="L4654" data-line-number="4654"></td>
          <td id="LC4654">}</td>
        </tr>
        <tr>
          <td id="L4655" data-line-number="4655"></td>
          <td id="LC4655">
</td>
        </tr>
        <tr>
          <td id="L4656" data-line-number="4656"></td>
          <td id="LC4656"><span>void</span> <span>Notepad_plus::showAutoComp</span>()</td>
        </tr>
        <tr>
          <td id="L4657" data-line-number="4657"></td>
          <td id="LC4657">{</td>
        </tr>
        <tr>
          <td id="L4658" data-line-number="4658"></td>
          <td id="LC4658">	<span>bool</span> isFromPrimary = _pEditView == &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L4659" data-line-number="4659"></td>
          <td id="LC4659">	AutoCompletion * autoC = isFromPrimary?&amp;_autoCompleteMain:&amp;_autoCompleteSub;</td>
        </tr>
        <tr>
          <td id="L4660" data-line-number="4660"></td>
          <td id="LC4660">	autoC-&gt;<span>showApiComplete</span>();</td>
        </tr>
        <tr>
          <td id="L4661" data-line-number="4661"></td>
          <td id="LC4661">}</td>
        </tr>
        <tr>
          <td id="L4662" data-line-number="4662"></td>
          <td id="LC4662">
</td>
        </tr>
        <tr>
          <td id="L4663" data-line-number="4663"></td>
          <td id="LC4663"><span>void</span> <span>Notepad_plus::showPathCompletion</span>()</td>
        </tr>
        <tr>
          <td id="L4664" data-line-number="4664"></td>
          <td id="LC4664">{</td>
        </tr>
        <tr>
          <td id="L4665" data-line-number="4665"></td>
          <td id="LC4665">	<span>bool</span> isFromPrimary = _pEditView == &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L4666" data-line-number="4666"></td>
          <td id="LC4666">	AutoCompletion * autoC = isFromPrimary?&amp;_autoCompleteMain:&amp;_autoCompleteSub;</td>
        </tr>
        <tr>
          <td id="L4667" data-line-number="4667"></td>
          <td id="LC4667">	autoC-&gt;<span>showPathCompletion</span>();</td>
        </tr>
        <tr>
          <td id="L4668" data-line-number="4668"></td>
          <td id="LC4668">}</td>
        </tr>
        <tr>
          <td id="L4669" data-line-number="4669"></td>
          <td id="LC4669">
</td>
        </tr>
        <tr>
          <td id="L4670" data-line-number="4670"></td>
          <td id="LC4670"><span>void</span> <span>Notepad_plus::autoCompFromCurrentFile</span>(<span>bool</span> autoInsert)</td>
        </tr>
        <tr>
          <td id="L4671" data-line-number="4671"></td>
          <td id="LC4671">{</td>
        </tr>
        <tr>
          <td id="L4672" data-line-number="4672"></td>
          <td id="LC4672">	<span>bool</span> isFromPrimary = _pEditView == &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L4673" data-line-number="4673"></td>
          <td id="LC4673">	AutoCompletion * autoC = isFromPrimary?&amp;_autoCompleteMain:&amp;_autoCompleteSub;</td>
        </tr>
        <tr>
          <td id="L4674" data-line-number="4674"></td>
          <td id="LC4674">	autoC-&gt;<span>showWordComplete</span>(autoInsert);</td>
        </tr>
        <tr>
          <td id="L4675" data-line-number="4675"></td>
          <td id="LC4675">}</td>
        </tr>
        <tr>
          <td id="L4676" data-line-number="4676"></td>
          <td id="LC4676">
</td>
        </tr>
        <tr>
          <td id="L4677" data-line-number="4677"></td>
          <td id="LC4677"><span>void</span> <span>Notepad_plus::showFunctionComp</span>()</td>
        </tr>
        <tr>
          <td id="L4678" data-line-number="4678"></td>
          <td id="LC4678">{</td>
        </tr>
        <tr>
          <td id="L4679" data-line-number="4679"></td>
          <td id="LC4679">	<span>bool</span> isFromPrimary = _pEditView == &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L4680" data-line-number="4680"></td>
          <td id="LC4680">	AutoCompletion * autoC = isFromPrimary?&amp;_autoCompleteMain:&amp;_autoCompleteSub;</td>
        </tr>
        <tr>
          <td id="L4681" data-line-number="4681"></td>
          <td id="LC4681">	autoC-&gt;<span>showFunctionComplete</span>();</td>
        </tr>
        <tr>
          <td id="L4682" data-line-number="4682"></td>
          <td id="LC4682">}</td>
        </tr>
        <tr>
          <td id="L4683" data-line-number="4683"></td>
          <td id="LC4683">
</td>
        </tr>
        <tr>
          <td id="L4684" data-line-number="4684"></td>
          <td id="LC4684"><span>void</span> <span>Notepad_plus::showFunctionNextHint</span>(<span>bool</span> isNext)</td>
        </tr>
        <tr>
          <td id="L4685" data-line-number="4685"></td>
          <td id="LC4685">{</td>
        </tr>
        <tr>
          <td id="L4686" data-line-number="4686"></td>
          <td id="LC4686">	<span>bool</span> isFromPrimary = _pEditView == &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L4687" data-line-number="4687"></td>
          <td id="LC4687">	AutoCompletion* autoC = isFromPrimary ? &amp;_autoCompleteMain : &amp;_autoCompleteSub;</td>
        </tr>
        <tr>
          <td id="L4688" data-line-number="4688"></td>
          <td id="LC4688">	<span>if</span> (isNext)</td>
        </tr>
        <tr>
          <td id="L4689" data-line-number="4689"></td>
          <td id="LC4689">		autoC-&gt;<span>callTipClick</span>(<span>2</span>);</td>
        </tr>
        <tr>
          <td id="L4690" data-line-number="4690"></td>
          <td id="LC4690">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4691" data-line-number="4691"></td>
          <td id="LC4691">		autoC-&gt;<span>callTipClick</span>(<span>1</span>);</td>
        </tr>
        <tr>
          <td id="L4692" data-line-number="4692"></td>
          <td id="LC4692">}</td>
        </tr>
        <tr>
          <td id="L4693" data-line-number="4693"></td>
          <td id="LC4693">
</td>
        </tr>
        <tr>
          <td id="L4694" data-line-number="4694"></td>
          <td id="LC4694"><span>static</span> generic_string <span>extractSymbol</span>(TCHAR firstChar, TCHAR secondChar, <span>const</span> TCHAR *str2extract)</td>
        </tr>
        <tr>
          <td id="L4695" data-line-number="4695"></td>
          <td id="LC4695">{</td>
        </tr>
        <tr>
          <td id="L4696" data-line-number="4696"></td>
          <td id="LC4696">	<span>bool</span> found = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4697" data-line-number="4697"></td>
          <td id="LC4697">	<span>const</span> <span>size_t</span> extractedLen = <span>128</span>;</td>
        </tr>
        <tr>
          <td id="L4698" data-line-number="4698"></td>
          <td id="LC4698">	TCHAR extracted[extractedLen] = {<span><span>&#39;</span><span>\0</span><span>&#39;</span></span>};</td>
        </tr>
        <tr>
          <td id="L4699" data-line-number="4699"></td>
          <td id="LC4699">
</td>
        </tr>
        <tr>
          <td id="L4700" data-line-number="4700"></td>
          <td id="LC4700">	<span>for</span> (<span>size_t</span> i = <span>0</span>, j = <span>0</span>, len = <span>lstrlen</span>(str2extract) ; i &lt; len &amp;&amp; j &lt; extractedLen - <span>1</span>; ++i)</td>
        </tr>
        <tr>
          <td id="L4701" data-line-number="4701"></td>
          <td id="LC4701">	{</td>
        </tr>
        <tr>
          <td id="L4702" data-line-number="4702"></td>
          <td id="LC4702">		<span>if</span> (found)</td>
        </tr>
        <tr>
          <td id="L4703" data-line-number="4703"></td>
          <td id="LC4703">		{</td>
        </tr>
        <tr>
          <td id="L4704" data-line-number="4704"></td>
          <td id="LC4704">			<span>if</span> (!str2extract[i] || str2extract[i] == <span><span>&#39;</span> <span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L4705" data-line-number="4705"></td>
          <td id="LC4705">			{</td>
        </tr>
        <tr>
          <td id="L4706" data-line-number="4706"></td>
          <td id="LC4706">				extracted[j] = <span><span>&#39;</span><span>\0</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L4707" data-line-number="4707"></td>
          <td id="LC4707">				<span>return</span> <span>generic_string</span>(extracted);</td>
        </tr>
        <tr>
          <td id="L4708" data-line-number="4708"></td>
          <td id="LC4708">			}</td>
        </tr>
        <tr>
          <td id="L4709" data-line-number="4709"></td>
          <td id="LC4709">			extracted[j++] = str2extract[i];</td>
        </tr>
        <tr>
          <td id="L4710" data-line-number="4710"></td>
          <td id="LC4710">		}</td>
        </tr>
        <tr>
          <td id="L4711" data-line-number="4711"></td>
          <td id="LC4711">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L4712" data-line-number="4712"></td>
          <td id="LC4712">		{</td>
        </tr>
        <tr>
          <td id="L4713" data-line-number="4713"></td>
          <td id="LC4713">			<span>if</span> (!str2extract[i])</td>
        </tr>
        <tr>
          <td id="L4714" data-line-number="4714"></td>
          <td id="LC4714">				<span>return</span> <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4715" data-line-number="4715"></td>
          <td id="LC4715">
</td>
        </tr>
        <tr>
          <td id="L4716" data-line-number="4716"></td>
          <td id="LC4716">			<span>if</span> (str2extract[i] == firstChar &amp;&amp; str2extract[i+<span>1</span>] == secondChar)</td>
        </tr>
        <tr>
          <td id="L4717" data-line-number="4717"></td>
          <td id="LC4717">			{</td>
        </tr>
        <tr>
          <td id="L4718" data-line-number="4718"></td>
          <td id="LC4718">				found = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4719" data-line-number="4719"></td>
          <td id="LC4719">				++i;</td>
        </tr>
        <tr>
          <td id="L4720" data-line-number="4720"></td>
          <td id="LC4720">			}</td>
        </tr>
        <tr>
          <td id="L4721" data-line-number="4721"></td>
          <td id="LC4721">		}</td>
        </tr>
        <tr>
          <td id="L4722" data-line-number="4722"></td>
          <td id="LC4722">	}</td>
        </tr>
        <tr>
          <td id="L4723" data-line-number="4723"></td>
          <td id="LC4723">	<span>return</span>  <span>generic_string</span>(extracted);</td>
        </tr>
        <tr>
          <td id="L4724" data-line-number="4724"></td>
          <td id="LC4724">}</td>
        </tr>
        <tr>
          <td id="L4725" data-line-number="4725"></td>
          <td id="LC4725">
</td>
        </tr>
        <tr>
          <td id="L4726" data-line-number="4726"></td>
          <td id="LC4726"><span>bool</span> <span>Notepad_plus::doBlockComment</span>(comment_mode currCommentMode)</td>
        </tr>
        <tr>
          <td id="L4727" data-line-number="4727"></td>
          <td id="LC4727">{</td>
        </tr>
        <tr>
          <td id="L4728" data-line-number="4728"></td>
          <td id="LC4728">	Buffer * buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L4729" data-line-number="4729"></td>
          <td id="LC4729">	<span><span>//</span> Avoid side-effects (e.g. cursor moves number of comment-characters) when file is read-only.</span></td>
        </tr>
        <tr>
          <td id="L4730" data-line-number="4730"></td>
          <td id="LC4730">	<span>if</span> (buf-&gt;<span>isReadOnly</span>())</td>
        </tr>
        <tr>
          <td id="L4731" data-line-number="4731"></td>
          <td id="LC4731">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4732" data-line-number="4732"></td>
          <td id="LC4732">
</td>
        </tr>
        <tr>
          <td id="L4733" data-line-number="4733"></td>
          <td id="LC4733">	<span><span>//</span>-- BlockToStreamComment:</span></td>
        </tr>
        <tr>
          <td id="L4734" data-line-number="4734"></td>
          <td id="LC4734">	<span>const</span> TCHAR *commentStart;</td>
        </tr>
        <tr>
          <td id="L4735" data-line-number="4735"></td>
          <td id="LC4735">	<span>const</span> TCHAR *commentEnd;</td>
        </tr>
        <tr>
          <td id="L4736" data-line-number="4736"></td>
          <td id="LC4736">	generic_string symbolStart;</td>
        </tr>
        <tr>
          <td id="L4737" data-line-number="4737"></td>
          <td id="LC4737">	generic_string symbolEnd;</td>
        </tr>
        <tr>
          <td id="L4738" data-line-number="4738"></td>
          <td id="LC4738">
</td>
        </tr>
        <tr>
          <td id="L4739" data-line-number="4739"></td>
          <td id="LC4739">	<span>const</span> TCHAR *commentLineSymbol;</td>
        </tr>
        <tr>
          <td id="L4740" data-line-number="4740"></td>
          <td id="LC4740">	generic_string symbol;</td>
        </tr>
        <tr>
          <td id="L4741" data-line-number="4741"></td>
          <td id="LC4741">
</td>
        </tr>
        <tr>
          <td id="L4742" data-line-number="4742"></td>
          <td id="LC4742">	<span><span>//</span>Single Line Comment/Uncomment/Toggle can have two modes:</span></td>
        </tr>
        <tr>
          <td id="L4743" data-line-number="4743"></td>
          <td id="LC4743">	<span><span>//</span> * a NORMAL MODE which uses a commentLineSymbol to comment/uncomment code per line, and</span></td>
        </tr>
        <tr>
          <td id="L4744" data-line-number="4744"></td>
          <td id="LC4744">	<span><span>//</span> * an ADVANCED MODE which uses commentStart and commentEnd symbols to comment/uncomment code per line.</span></td>
        </tr>
        <tr>
          <td id="L4745" data-line-number="4745"></td>
          <td id="LC4745">	<span><span>//</span>The NORMAL MODE is used for all Lexers which have a commentLineSymbol defined.</span></td>
        </tr>
        <tr>
          <td id="L4746" data-line-number="4746"></td>
          <td id="LC4746">	<span><span>//</span>The ADVANCED MODE is only available for Lexers which do not have a commentLineSymbol but commentStreamSymbols (start/end) defined.</span></td>
        </tr>
        <tr>
          <td id="L4747" data-line-number="4747"></td>
          <td id="LC4747">	<span><span>//</span>The ADVANCED MODE behaves the same way as the NORMAL MODE (comment/uncomment every single line in the selection range separately)</span></td>
        </tr>
        <tr>
          <td id="L4748" data-line-number="4748"></td>
          <td id="LC4748">	<span><span>//</span>but uses two symbols to accomplish this.</span></td>
        </tr>
        <tr>
          <td id="L4749" data-line-number="4749"></td>
          <td id="LC4749">	<span>bool</span> isSingleLineAdvancedMode = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4750" data-line-number="4750"></td>
          <td id="LC4750">
</td>
        </tr>
        <tr>
          <td id="L4751" data-line-number="4751"></td>
          <td id="LC4751">	<span>if</span> (buf-&gt;<span>getLangType</span>() == L_USER)</td>
        </tr>
        <tr>
          <td id="L4752" data-line-number="4752"></td>
          <td id="LC4752">	{</td>
        </tr>
        <tr>
          <td id="L4753" data-line-number="4753"></td>
          <td id="LC4753">		UserLangContainer * userLangContainer = <span>NppParameters::getInstance</span>().<span>getULCFromName</span>(buf-&gt;<span>getUserDefineLangName</span>());</td>
        </tr>
        <tr>
          <td id="L4754" data-line-number="4754"></td>
          <td id="LC4754">		<span>if</span> (!userLangContainer)</td>
        </tr>
        <tr>
          <td id="L4755" data-line-number="4755"></td>
          <td id="LC4755">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4756" data-line-number="4756"></td>
          <td id="LC4756">
</td>
        </tr>
        <tr>
          <td id="L4757" data-line-number="4757"></td>
          <td id="LC4757">		symbol = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>0<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L4758" data-line-number="4758"></td>
          <td id="LC4758">		commentLineSymbol = symbol.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L4759" data-line-number="4759"></td>
          <td id="LC4759">		<span><span>//</span> BlockToStreamComment: Needed to decide, if stream-comment can be called below!</span></td>
        </tr>
        <tr>
          <td id="L4760" data-line-number="4760"></td>
          <td id="LC4760">		symbolStart = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>3<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L4761" data-line-number="4761"></td>
          <td id="LC4761">		commentStart = symbolStart.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L4762" data-line-number="4762"></td>
          <td id="LC4762">		symbolEnd = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>4<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L4763" data-line-number="4763"></td>
          <td id="LC4763">		commentEnd = symbolEnd.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L4764" data-line-number="4764"></td>
          <td id="LC4764">	}</td>
        </tr>
        <tr>
          <td id="L4765" data-line-number="4765"></td>
          <td id="LC4765">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L4766" data-line-number="4766"></td>
          <td id="LC4766">	{</td>
        </tr>
        <tr>
          <td id="L4767" data-line-number="4767"></td>
          <td id="LC4767">		commentLineSymbol = buf-&gt;<span>getCommentLineSymbol</span>();</td>
        </tr>
        <tr>
          <td id="L4768" data-line-number="4768"></td>
          <td id="LC4768">		<span><span>//</span> BlockToStreamComment: Needed to decide, if stream-comment can be called below!</span></td>
        </tr>
        <tr>
          <td id="L4769" data-line-number="4769"></td>
          <td id="LC4769">		commentStart = buf-&gt;<span>getCommentStart</span>();</td>
        </tr>
        <tr>
          <td id="L4770" data-line-number="4770"></td>
          <td id="LC4770">		commentEnd = buf-&gt;<span>getCommentEnd</span>();</td>
        </tr>
        <tr>
          <td id="L4771" data-line-number="4771"></td>
          <td id="LC4771">	}</td>
        </tr>
        <tr>
          <td id="L4772" data-line-number="4772"></td>
          <td id="LC4772">
</td>
        </tr>
        <tr>
          <td id="L4773" data-line-number="4773"></td>
          <td id="LC4773">	<span>if</span> ((!commentLineSymbol) || (!commentLineSymbol[<span>0</span>]) || (commentLineSymbol == <span>NULL</span>))</td>
        </tr>
        <tr>
          <td id="L4774" data-line-number="4774"></td>
          <td id="LC4774">	{</td>
        </tr>
        <tr>
          <td id="L4775" data-line-number="4775"></td>
          <td id="LC4775">	<span><span>//</span> BlockToStreamComment: If there is no block-comment symbol, try the stream comment:</span></td>
        </tr>
        <tr>
          <td id="L4776" data-line-number="4776"></td>
          <td id="LC4776">		<span>if</span> (!(!commentStart || !commentStart[<span>0</span>] || commentStart == <span>NULL</span> || !commentEnd || !commentEnd[<span>0</span>] || commentEnd == <span>NULL</span>))</td>
        </tr>
        <tr>
          <td id="L4777" data-line-number="4777"></td>
          <td id="LC4777">		{</td>
        </tr>
        <tr>
          <td id="L4778" data-line-number="4778"></td>
          <td id="LC4778">			<span>if</span> (currCommentMode == cm_comment)</td>
        </tr>
        <tr>
          <td id="L4779" data-line-number="4779"></td>
          <td id="LC4779">			{</td>
        </tr>
        <tr>
          <td id="L4780" data-line-number="4780"></td>
          <td id="LC4780">				<span><span>//</span>Do an advanced &#34;Single Line Comment&#34; by using stream-comment symbols (start/end) per line in this case.</span></td>
        </tr>
        <tr>
          <td id="L4781" data-line-number="4781"></td>
          <td id="LC4781">				isSingleLineAdvancedMode = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4782" data-line-number="4782"></td>
          <td id="LC4782">				<span><span>//</span>return doStreamComment(); //Use &#34;Block Comment&#34; for this.</span></td>
        </tr>
        <tr>
          <td id="L4783" data-line-number="4783"></td>
          <td id="LC4783">			}</td>
        </tr>
        <tr>
          <td id="L4784" data-line-number="4784"></td>
          <td id="LC4784">			<span>else</span> <span>if</span> (currCommentMode == cm_uncomment)</td>
        </tr>
        <tr>
          <td id="L4785" data-line-number="4785"></td>
          <td id="LC4785">			{</td>
        </tr>
        <tr>
          <td id="L4786" data-line-number="4786"></td>
          <td id="LC4786">				<span><span>//</span>&#34;undoStreamComment()&#34; can be more flexible than &#34;isSingleLineAdvancedMode = true&#34;, </span></td>
        </tr>
        <tr>
          <td id="L4787" data-line-number="4787"></td>
          <td id="LC4787">				<span><span>//</span>since it can uncomment more embedded levels at once and the commentEnd symbol can be located everywhere. </span></td>
        </tr>
        <tr>
          <td id="L4788" data-line-number="4788"></td>
          <td id="LC4788">				<span><span>//</span>But, depending on the selection start/end position, the first/last selected line may not be uncommented properly!</span></td>
        </tr>
        <tr>
          <td id="L4789" data-line-number="4789"></td>
          <td id="LC4789">				<span>return</span> <span>undoStreamComment</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L4790" data-line-number="4790"></td>
          <td id="LC4790">				<span><span>//</span>isSingleLineAdvancedMode = true;</span></td>
        </tr>
        <tr>
          <td id="L4791" data-line-number="4791"></td>
          <td id="LC4791">			}</td>
        </tr>
        <tr>
          <td id="L4792" data-line-number="4792"></td>
          <td id="LC4792">			<span>else</span> <span>if</span> (currCommentMode == cm_toggle)</td>
        </tr>
        <tr>
          <td id="L4793" data-line-number="4793"></td>
          <td id="LC4793">			{</td>
        </tr>
        <tr>
          <td id="L4794" data-line-number="4794"></td>
          <td id="LC4794">				<span><span>//</span>Do an advanced &#34;Toggle Single Line Comment&#34; by using stream-comment symbols (start/end) per line in this case.</span></td>
        </tr>
        <tr>
          <td id="L4795" data-line-number="4795"></td>
          <td id="LC4795">				isSingleLineAdvancedMode = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L4796" data-line-number="4796"></td>
          <td id="LC4796">			}</td>
        </tr>
        <tr>
          <td id="L4797" data-line-number="4797"></td>
          <td id="LC4797">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L4798" data-line-number="4798"></td>
          <td id="LC4798">				<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4799" data-line-number="4799"></td>
          <td id="LC4799">		}</td>
        </tr>
        <tr>
          <td id="L4800" data-line-number="4800"></td>
          <td id="LC4800">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L4801" data-line-number="4801"></td>
          <td id="LC4801">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L4802" data-line-number="4802"></td>
          <td id="LC4802">	}</td>
        </tr>
        <tr>
          <td id="L4803" data-line-number="4803"></td>
          <td id="LC4803">
</td>
        </tr>
        <tr>
          <td id="L4804" data-line-number="4804"></td>
          <td id="LC4804">	<span><span>//</span>For Single Line NORMAL MODE</span></td>
        </tr>
        <tr>
          <td id="L4805" data-line-number="4805"></td>
          <td id="LC4805">	generic_string comment;</td>
        </tr>
        <tr>
          <td id="L4806" data-line-number="4806"></td>
          <td id="LC4806">	<span>size_t</span> comment_length = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L4807" data-line-number="4807"></td>
          <td id="LC4807">
</td>
        </tr>
        <tr>
          <td id="L4808" data-line-number="4808"></td>
          <td id="LC4808">	<span><span>//</span>For Single Line ADVANCED MODE</span></td>
        </tr>
        <tr>
          <td id="L4809" data-line-number="4809"></td>
          <td id="LC4809">	generic_string advCommentStart;</td>
        </tr>
        <tr>
          <td id="L4810" data-line-number="4810"></td>
          <td id="LC4810">	generic_string advCommentEnd;</td>
        </tr>
        <tr>
          <td id="L4811" data-line-number="4811"></td>
          <td id="LC4811">	<span>size_t</span> advCommentStart_length = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L4812" data-line-number="4812"></td>
          <td id="LC4812">	<span>size_t</span> advCommentEnd_length = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L4813" data-line-number="4813"></td>
          <td id="LC4813">
</td>
        </tr>
        <tr>
          <td id="L4814" data-line-number="4814"></td>
          <td id="LC4814">	<span>const</span> TCHAR aSpace[] { <span>TEXT</span>(<span><span>&#34;</span> <span>&#34;</span></span>) };</td>
        </tr>
        <tr>
          <td id="L4815" data-line-number="4815"></td>
          <td id="LC4815">
</td>
        </tr>
        <tr>
          <td id="L4816" data-line-number="4816"></td>
          <td id="LC4816">	<span><span>//</span>Only values that have passed through will be assigned, to be sure they are valid!</span></td>
        </tr>
        <tr>
          <td id="L4817" data-line-number="4817"></td>
          <td id="LC4817">	<span>if</span> (!isSingleLineAdvancedMode)</td>
        </tr>
        <tr>
          <td id="L4818" data-line-number="4818"></td>
          <td id="LC4818">	{</td>
        </tr>
        <tr>
          <td id="L4819" data-line-number="4819"></td>
          <td id="LC4819">		comment = commentLineSymbol;</td>
        </tr>
        <tr>
          <td id="L4820" data-line-number="4820"></td>
          <td id="LC4820">
</td>
        </tr>
        <tr>
          <td id="L4821" data-line-number="4821"></td>
          <td id="LC4821">		<span>if</span> (!(buf-&gt;<span>getLangType</span>() == L_BAANC)) <span><span>//</span> BaanC standardization - no space.</span></td>
        </tr>
        <tr>
          <td id="L4822" data-line-number="4822"></td>
          <td id="LC4822">			comment += aSpace;</td>
        </tr>
        <tr>
          <td id="L4823" data-line-number="4823"></td>
          <td id="LC4823">
</td>
        </tr>
        <tr>
          <td id="L4824" data-line-number="4824"></td>
          <td id="LC4824">		comment_length = comment.<span>length</span>();</td>
        </tr>
        <tr>
          <td id="L4825" data-line-number="4825"></td>
          <td id="LC4825">	}</td>
        </tr>
        <tr>
          <td id="L4826" data-line-number="4826"></td>
          <td id="LC4826">	<span>else</span> <span><span>//</span> isSingleLineAdvancedMode</span></td>
        </tr>
        <tr>
          <td id="L4827" data-line-number="4827"></td>
          <td id="LC4827">	{</td>
        </tr>
        <tr>
          <td id="L4828" data-line-number="4828"></td>
          <td id="LC4828">		advCommentStart = commentStart;</td>
        </tr>
        <tr>
          <td id="L4829" data-line-number="4829"></td>
          <td id="LC4829">		advCommentStart += aSpace;</td>
        </tr>
        <tr>
          <td id="L4830" data-line-number="4830"></td>
          <td id="LC4830">		advCommentEnd = aSpace;</td>
        </tr>
        <tr>
          <td id="L4831" data-line-number="4831"></td>
          <td id="LC4831">		advCommentEnd += commentEnd;</td>
        </tr>
        <tr>
          <td id="L4832" data-line-number="4832"></td>
          <td id="LC4832">
</td>
        </tr>
        <tr>
          <td id="L4833" data-line-number="4833"></td>
          <td id="LC4833">		advCommentStart_length = advCommentStart.<span>length</span>();</td>
        </tr>
        <tr>
          <td id="L4834" data-line-number="4834"></td>
          <td id="LC4834">		advCommentEnd_length = advCommentEnd.<span>length</span>();</td>
        </tr>
        <tr>
          <td id="L4835" data-line-number="4835"></td>
          <td id="LC4835">	}</td>
        </tr>
        <tr>
          <td id="L4836" data-line-number="4836"></td>
          <td id="LC4836">
</td>
        </tr>
        <tr>
          <td id="L4837" data-line-number="4837"></td>
          <td id="LC4837">    <span>size_t</span> selectionStart = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONSTART);</td>
        </tr>
        <tr>
          <td id="L4838" data-line-number="4838"></td>
          <td id="LC4838">    <span>size_t</span> selectionEnd = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEND);</td>
        </tr>
        <tr>
          <td id="L4839" data-line-number="4839"></td>
          <td id="LC4839">    <span>size_t</span> caretPosition = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L4840" data-line-number="4840"></td>
          <td id="LC4840">    <span><span>//</span> checking if caret is located in _beginning_ of selected block</span></td>
        </tr>
        <tr>
          <td id="L4841" data-line-number="4841"></td>
          <td id="LC4841">    <span>bool</span> move_caret = caretPosition &lt; selectionEnd;</td>
        </tr>
        <tr>
          <td id="L4842" data-line-number="4842"></td>
          <td id="LC4842">	<span>intptr_t</span> selStartLine = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, selectionStart);</td>
        </tr>
        <tr>
          <td id="L4843" data-line-number="4843"></td>
          <td id="LC4843">	<span>intptr_t</span> selEndLine = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, selectionEnd);</td>
        </tr>
        <tr>
          <td id="L4844" data-line-number="4844"></td>
          <td id="LC4844">	<span>intptr_t</span> lines = selEndLine - selStartLine;</td>
        </tr>
        <tr>
          <td id="L4845" data-line-number="4845"></td>
          <td id="LC4845">    <span><span>//</span> &#34;caret return&#34; is part of the last selected line</span></td>
        </tr>
        <tr>
          <td id="L4846" data-line-number="4846"></td>
          <td id="LC4846">    <span>if</span> ((lines &gt; <span>0</span>) &amp;&amp; (selectionEnd == <span>static_cast</span>&lt;<span>size_t</span>&gt;(_pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, selEndLine))))</td>
        </tr>
        <tr>
          <td id="L4847" data-line-number="4847"></td>
          <td id="LC4847">		selEndLine--;</td>
        </tr>
        <tr>
          <td id="L4848" data-line-number="4848"></td>
          <td id="LC4848">	<span><span>//</span> count lines which were un-commented to decide if undoStreamComment() shall be called.</span></td>
        </tr>
        <tr>
          <td id="L4849" data-line-number="4849"></td>
          <td id="LC4849">	<span>int</span> nUncomments = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L4850" data-line-number="4850"></td>
          <td id="LC4850">	<span><span>//</span>Some Lexers need line-comments at the beginning of a line.</span></td>
        </tr>
        <tr>
          <td id="L4851" data-line-number="4851"></td>
          <td id="LC4851">	<span>const</span> <span>bool</span> avoidIndent = (buf-&gt;<span>getLangType</span>() == L_FORTRAN_77 || buf-&gt;<span>getLangType</span>() == L_BAANC);</td>
        </tr>
        <tr>
          <td id="L4852" data-line-number="4852"></td>
          <td id="LC4852">	<span><span>//</span>Some Lexers comment blank lines, per their standards.</span></td>
        </tr>
        <tr>
          <td id="L4853" data-line-number="4853"></td>
          <td id="LC4853">	<span>const</span> <span>bool</span> commentEmptyLines = (buf-&gt;<span>getLangType</span>() == L_BAANC);</td>
        </tr>
        <tr>
          <td id="L4854" data-line-number="4854"></td>
          <td id="LC4854">
</td>
        </tr>
        <tr>
          <td id="L4855" data-line-number="4855"></td>
          <td id="LC4855">    _pEditView-&gt;<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L4856" data-line-number="4856"></td>
          <td id="LC4856">
</td>
        </tr>
        <tr>
          <td id="L4857" data-line-number="4857"></td>
          <td id="LC4857">    <span>for</span> (<span>intptr_t</span> i = selStartLine; i &lt;= selEndLine; ++i)</td>
        </tr>
        <tr>
          <td id="L4858" data-line-number="4858"></td>
          <td id="LC4858">	{</td>
        </tr>
        <tr>
          <td id="L4859" data-line-number="4859"></td>
          <td id="LC4859">		<span>size_t</span> lineStart = _pEditView-&gt;<span>execute</span>(SCI_POSITIONFROMLINE, i);</td>
        </tr>
        <tr>
          <td id="L4860" data-line-number="4860"></td>
          <td id="LC4860">		<span>size_t</span> lineIndent = _pEditView-&gt;<span>execute</span>(SCI_GETLINEINDENTPOSITION, i);</td>
        </tr>
        <tr>
          <td id="L4861" data-line-number="4861"></td>
          <td id="LC4861">		<span>size_t</span> lineEnd = _pEditView-&gt;<span>execute</span>(SCI_GETLINEENDPOSITION, i);</td>
        </tr>
        <tr>
          <td id="L4862" data-line-number="4862"></td>
          <td id="LC4862">
</td>
        </tr>
        <tr>
          <td id="L4863" data-line-number="4863"></td>
          <td id="LC4863">		<span><span>//</span> empty lines are not commented, unless required by the language.</span></td>
        </tr>
        <tr>
          <td id="L4864" data-line-number="4864"></td>
          <td id="LC4864">		<span>if</span> (lineIndent == lineEnd &amp;&amp; !commentEmptyLines)</td>
        </tr>
        <tr>
          <td id="L4865" data-line-number="4865"></td>
          <td id="LC4865">			<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L4866" data-line-number="4866"></td>
          <td id="LC4866">
</td>
        </tr>
        <tr>
          <td id="L4867" data-line-number="4867"></td>
          <td id="LC4867">		<span>if</span> (avoidIndent)</td>
        </tr>
        <tr>
          <td id="L4868" data-line-number="4868"></td>
          <td id="LC4868">			lineIndent = lineStart;</td>
        </tr>
        <tr>
          <td id="L4869" data-line-number="4869"></td>
          <td id="LC4869">
</td>
        </tr>
        <tr>
          <td id="L4870" data-line-number="4870"></td>
          <td id="LC4870">		<span>size_t</span> linebufferSize = lineEnd - lineIndent + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L4871" data-line-number="4871"></td>
          <td id="LC4871">		TCHAR* linebuf = <span>new</span> TCHAR[linebufferSize];</td>
        </tr>
        <tr>
          <td id="L4872" data-line-number="4872"></td>
          <td id="LC4872">
</td>
        </tr>
        <tr>
          <td id="L4873" data-line-number="4873"></td>
          <td id="LC4873">		_pEditView-&gt;<span>getGenericText</span>(linebuf, linebufferSize, lineIndent, lineEnd);</td>
        </tr>
        <tr>
          <td id="L4874" data-line-number="4874"></td>
          <td id="LC4874">
</td>
        </tr>
        <tr>
          <td id="L4875" data-line-number="4875"></td>
          <td id="LC4875">        generic_string linebufStr = linebuf;</td>
        </tr>
        <tr>
          <td id="L4876" data-line-number="4876"></td>
          <td id="LC4876">		<span>delete []</span> linebuf;</td>
        </tr>
        <tr>
          <td id="L4877" data-line-number="4877"></td>
          <td id="LC4877">
</td>
        </tr>
        <tr>
          <td id="L4878" data-line-number="4878"></td>
          <td id="LC4878">   		<span>if</span> (currCommentMode != cm_comment) <span><span>//</span> uncomment/toggle</span></td>
        </tr>
        <tr>
          <td id="L4879" data-line-number="4879"></td>
          <td id="LC4879">		{</td>
        </tr>
        <tr>
          <td id="L4880" data-line-number="4880"></td>
          <td id="LC4880">			<span>if</span> (!isSingleLineAdvancedMode)</td>
        </tr>
        <tr>
          <td id="L4881" data-line-number="4881"></td>
          <td id="LC4881">			{</td>
        </tr>
        <tr>
          <td id="L4882" data-line-number="4882"></td>
          <td id="LC4882">				<span><span>//</span> In order to do get case insensitive comparison use strnicmp() instead case-sensitive comparison.</span></td>
        </tr>
        <tr>
          <td id="L4883" data-line-number="4883"></td>
          <td id="LC4883">				<span><span>//</span>      Case insensitive comparison is needed e.g. for &#34;REM&#34; and &#34;rem&#34; in Batchfiles.</span></td>
        </tr>
        <tr>
          <td id="L4884" data-line-number="4884"></td>
          <td id="LC4884">				<span>if</span> (<span>generic_strnicmp</span>(linebufStr.<span>c_str</span>(), comment.<span>c_str</span>(), !(buf-&gt;<span>getLangType</span>() == L_BAANC) ? comment_length - <span>1</span> : comment_length) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L4885" data-line-number="4885"></td>
          <td id="LC4885">				{</td>
        </tr>
        <tr>
          <td id="L4886" data-line-number="4886"></td>
          <td id="LC4886">					<span>size_t</span> len = linebufStr[comment_length - <span>1</span>] == aSpace[<span>0</span>] ? comment_length : !(buf-&gt;<span>getLangType</span>() == L_BAANC) ? comment_length - <span>1</span> : comment_length;</td>
        </tr>
        <tr>
          <td id="L4887" data-line-number="4887"></td>
          <td id="LC4887">
</td>
        </tr>
        <tr>
          <td id="L4888" data-line-number="4888"></td>
          <td id="LC4888">					_pEditView-&gt;<span>execute</span>(SCI_SETSEL, lineIndent, lineIndent + len);</td>
        </tr>
        <tr>
          <td id="L4889" data-line-number="4889"></td>
          <td id="LC4889">					_pEditView-&gt;<span>replaceSelWith</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4890" data-line-number="4890"></td>
          <td id="LC4890">
</td>
        </tr>
        <tr>
          <td id="L4891" data-line-number="4891"></td>
          <td id="LC4891">					<span><span>//</span> SELECTION RANGE ADJUSTMENT .......................</span></td>
        </tr>
        <tr>
          <td id="L4892" data-line-number="4892"></td>
          <td id="LC4892">					<span>if</span> (i == selStartLine) <span><span>//</span> first selected line</span></td>
        </tr>
        <tr>
          <td id="L4893" data-line-number="4893"></td>
          <td id="LC4893">					{</td>
        </tr>
        <tr>
          <td id="L4894" data-line-number="4894"></td>
          <td id="LC4894">						<span>if</span> (selectionStart &gt; lineIndent + len)</td>
        </tr>
        <tr>
          <td id="L4895" data-line-number="4895"></td>
          <td id="LC4895">							selectionStart -= len;</td>
        </tr>
        <tr>
          <td id="L4896" data-line-number="4896"></td>
          <td id="LC4896">						<span>else</span> <span>if</span> (selectionStart &gt; lineIndent)</td>
        </tr>
        <tr>
          <td id="L4897" data-line-number="4897"></td>
          <td id="LC4897">							selectionStart = lineIndent;</td>
        </tr>
        <tr>
          <td id="L4898" data-line-number="4898"></td>
          <td id="LC4898">					} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L4899" data-line-number="4899"></td>
          <td id="LC4899">					<span>if</span> (i == selEndLine) <span><span>//</span> last selected line</span></td>
        </tr>
        <tr>
          <td id="L4900" data-line-number="4900"></td>
          <td id="LC4900">					{</td>
        </tr>
        <tr>
          <td id="L4901" data-line-number="4901"></td>
          <td id="LC4901">						<span>if</span> (selectionEnd &gt; lineIndent + len)</td>
        </tr>
        <tr>
          <td id="L4902" data-line-number="4902"></td>
          <td id="LC4902">							selectionEnd -= len;</td>
        </tr>
        <tr>
          <td id="L4903" data-line-number="4903"></td>
          <td id="LC4903">						<span>else</span> <span>if</span> (selectionEnd &gt; lineIndent)</td>
        </tr>
        <tr>
          <td id="L4904" data-line-number="4904"></td>
          <td id="LC4904">						{</td>
        </tr>
        <tr>
          <td id="L4905" data-line-number="4905"></td>
          <td id="LC4905">							selectionEnd = lineIndent;</td>
        </tr>
        <tr>
          <td id="L4906" data-line-number="4906"></td>
          <td id="LC4906">							<span>if</span> (lineIndent == lineStart &amp;&amp; i != selStartLine)</td>
        </tr>
        <tr>
          <td id="L4907" data-line-number="4907"></td>
          <td id="LC4907">								++selectionEnd; <span><span>//</span> avoid caret return in this case</span></td>
        </tr>
        <tr>
          <td id="L4908" data-line-number="4908"></td>
          <td id="LC4908">						}</td>
        </tr>
        <tr>
          <td id="L4909" data-line-number="4909"></td>
          <td id="LC4909">					} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L4910" data-line-number="4910"></td>
          <td id="LC4910">					<span>else</span> <span><span>//</span> every iteration except the last selected line</span></td>
        </tr>
        <tr>
          <td id="L4911" data-line-number="4911"></td>
          <td id="LC4911">						selectionEnd -= len;</td>
        </tr>
        <tr>
          <td id="L4912" data-line-number="4912"></td>
          <td id="LC4912">					<span><span>//</span> ..................................................</span></td>
        </tr>
        <tr>
          <td id="L4913" data-line-number="4913"></td>
          <td id="LC4913">
</td>
        </tr>
        <tr>
          <td id="L4914" data-line-number="4914"></td>
          <td id="LC4914">					++nUncomments;</td>
        </tr>
        <tr>
          <td id="L4915" data-line-number="4915"></td>
          <td id="LC4915">					<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L4916" data-line-number="4916"></td>
          <td id="LC4916">				}</td>
        </tr>
        <tr>
          <td id="L4917" data-line-number="4917"></td>
          <td id="LC4917">			}</td>
        </tr>
        <tr>
          <td id="L4918" data-line-number="4918"></td>
          <td id="LC4918">			<span>else</span> <span><span>//</span> isSingleLineAdvancedMode</span></td>
        </tr>
        <tr>
          <td id="L4919" data-line-number="4919"></td>
          <td id="LC4919">			{</td>
        </tr>
        <tr>
          <td id="L4920" data-line-number="4920"></td>
          <td id="LC4920">				<span>if</span> ((<span>generic_strnicmp</span>(linebufStr.<span>c_str</span>(), advCommentStart.<span>c_str</span>(), advCommentStart_length - <span>1</span>) == <span>0</span>) &amp;&amp;</td>
        </tr>
        <tr>
          <td id="L4921" data-line-number="4921"></td>
          <td id="LC4921">					(<span>generic_strnicmp</span>(linebufStr.<span>substr</span>(linebufStr.<span>length</span>() - advCommentEnd_length + <span>1</span>, advCommentEnd_length - <span>1</span>).<span>c_str</span>(), advCommentEnd.<span>substr</span>(<span>1</span>, advCommentEnd_length - <span>1</span>).<span>c_str</span>(), advCommentEnd_length - <span>1</span>) == <span>0</span>))</td>
        </tr>
        <tr>
          <td id="L4922" data-line-number="4922"></td>
          <td id="LC4922">				{</td>
        </tr>
        <tr>
          <td id="L4923" data-line-number="4923"></td>
          <td id="LC4923">					<span>size_t</span> startLen = linebufStr[advCommentStart_length - <span>1</span>] == aSpace[<span>0</span>] ? advCommentStart_length : advCommentStart_length - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L4924" data-line-number="4924"></td>
          <td id="LC4924">					<span>size_t</span> endLen = linebufStr[linebufStr.<span>length</span>() - advCommentEnd_length] == aSpace[<span>0</span>] ? advCommentEnd_length : advCommentEnd_length - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L4925" data-line-number="4925"></td>
          <td id="LC4925">
</td>
        </tr>
        <tr>
          <td id="L4926" data-line-number="4926"></td>
          <td id="LC4926">					_pEditView-&gt;<span>execute</span>(SCI_SETSEL, lineIndent, lineIndent + startLen);</td>
        </tr>
        <tr>
          <td id="L4927" data-line-number="4927"></td>
          <td id="LC4927">					_pEditView-&gt;<span>replaceSelWith</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4928" data-line-number="4928"></td>
          <td id="LC4928">					_pEditView-&gt;<span>execute</span>(SCI_SETSEL, lineEnd - startLen - endLen, lineEnd - startLen);</td>
        </tr>
        <tr>
          <td id="L4929" data-line-number="4929"></td>
          <td id="LC4929">					_pEditView-&gt;<span>replaceSelWith</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L4930" data-line-number="4930"></td>
          <td id="LC4930">
</td>
        </tr>
        <tr>
          <td id="L4931" data-line-number="4931"></td>
          <td id="LC4931">					<span><span>//</span> SELECTION RANGE ADJUSTMENT .......................</span></td>
        </tr>
        <tr>
          <td id="L4932" data-line-number="4932"></td>
          <td id="LC4932">					<span>if</span> (i == selStartLine) <span><span>//</span> first selected line</span></td>
        </tr>
        <tr>
          <td id="L4933" data-line-number="4933"></td>
          <td id="LC4933">					{</td>
        </tr>
        <tr>
          <td id="L4934" data-line-number="4934"></td>
          <td id="LC4934">						<span>if</span> (selectionStart &gt; lineEnd - endLen)</td>
        </tr>
        <tr>
          <td id="L4935" data-line-number="4935"></td>
          <td id="LC4935">							selectionStart = lineEnd - startLen - endLen;</td>
        </tr>
        <tr>
          <td id="L4936" data-line-number="4936"></td>
          <td id="LC4936">						<span>else</span> <span>if</span> (selectionStart &gt; lineIndent + startLen)</td>
        </tr>
        <tr>
          <td id="L4937" data-line-number="4937"></td>
          <td id="LC4937">							selectionStart -= startLen;</td>
        </tr>
        <tr>
          <td id="L4938" data-line-number="4938"></td>
          <td id="LC4938">						<span>else</span> <span>if</span> (selectionStart &gt; lineIndent)</td>
        </tr>
        <tr>
          <td id="L4939" data-line-number="4939"></td>
          <td id="LC4939">							selectionStart = lineIndent;</td>
        </tr>
        <tr>
          <td id="L4940" data-line-number="4940"></td>
          <td id="LC4940">					} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L4941" data-line-number="4941"></td>
          <td id="LC4941">					<span>if</span> (i == selEndLine) <span><span>//</span> last selected line</span></td>
        </tr>
        <tr>
          <td id="L4942" data-line-number="4942"></td>
          <td id="LC4942">					{</td>
        </tr>
        <tr>
          <td id="L4943" data-line-number="4943"></td>
          <td id="LC4943">						<span>if</span> (selectionEnd &gt; lineEnd)</td>
        </tr>
        <tr>
          <td id="L4944" data-line-number="4944"></td>
          <td id="LC4944">							selectionEnd -= (startLen + endLen);</td>
        </tr>
        <tr>
          <td id="L4945" data-line-number="4945"></td>
          <td id="LC4945">						<span>else</span> <span>if</span> (selectionEnd &gt; lineEnd - endLen)</td>
        </tr>
        <tr>
          <td id="L4946" data-line-number="4946"></td>
          <td id="LC4946">							selectionEnd = lineEnd - startLen - endLen;</td>
        </tr>
        <tr>
          <td id="L4947" data-line-number="4947"></td>
          <td id="LC4947">						<span>else</span> <span>if</span> (selectionEnd &gt; lineIndent + startLen)</td>
        </tr>
        <tr>
          <td id="L4948" data-line-number="4948"></td>
          <td id="LC4948">							selectionEnd -= startLen;</td>
        </tr>
        <tr>
          <td id="L4949" data-line-number="4949"></td>
          <td id="LC4949">						<span>else</span> <span>if</span> (selectionEnd &gt; lineIndent)</td>
        </tr>
        <tr>
          <td id="L4950" data-line-number="4950"></td>
          <td id="LC4950">						{</td>
        </tr>
        <tr>
          <td id="L4951" data-line-number="4951"></td>
          <td id="LC4951">							selectionEnd = lineIndent;</td>
        </tr>
        <tr>
          <td id="L4952" data-line-number="4952"></td>
          <td id="LC4952">							<span>if</span> (lineIndent == lineStart &amp;&amp; i != selStartLine)</td>
        </tr>
        <tr>
          <td id="L4953" data-line-number="4953"></td>
          <td id="LC4953">								++selectionEnd; <span><span>//</span> avoid caret return in this case</span></td>
        </tr>
        <tr>
          <td id="L4954" data-line-number="4954"></td>
          <td id="LC4954">						}</td>
        </tr>
        <tr>
          <td id="L4955" data-line-number="4955"></td>
          <td id="LC4955">					} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L4956" data-line-number="4956"></td>
          <td id="LC4956">					<span>else</span> <span><span>//</span> every iteration except the last selected line</span></td>
        </tr>
        <tr>
          <td id="L4957" data-line-number="4957"></td>
          <td id="LC4957">						selectionEnd -= (startLen + endLen);</td>
        </tr>
        <tr>
          <td id="L4958" data-line-number="4958"></td>
          <td id="LC4958">					<span><span>//</span> ..................................................</span></td>
        </tr>
        <tr>
          <td id="L4959" data-line-number="4959"></td>
          <td id="LC4959">
</td>
        </tr>
        <tr>
          <td id="L4960" data-line-number="4960"></td>
          <td id="LC4960">					++nUncomments;</td>
        </tr>
        <tr>
          <td id="L4961" data-line-number="4961"></td>
          <td id="LC4961">					<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L4962" data-line-number="4962"></td>
          <td id="LC4962">				}</td>
        </tr>
        <tr>
          <td id="L4963" data-line-number="4963"></td>
          <td id="LC4963">			}</td>
        </tr>
        <tr>
          <td id="L4964" data-line-number="4964"></td>
          <td id="LC4964">		} <span><span>//</span> uncomment/toggle</span></td>
        </tr>
        <tr>
          <td id="L4965" data-line-number="4965"></td>
          <td id="LC4965">
</td>
        </tr>
        <tr>
          <td id="L4966" data-line-number="4966"></td>
          <td id="LC4966">		<span>if</span> (currCommentMode != cm_uncomment) <span><span>//</span> comment/toggle</span></td>
        </tr>
        <tr>
          <td id="L4967" data-line-number="4967"></td>
          <td id="LC4967">		{</td>
        </tr>
        <tr>
          <td id="L4968" data-line-number="4968"></td>
          <td id="LC4968">			<span>if</span> (!isSingleLineAdvancedMode)</td>
        </tr>
        <tr>
          <td id="L4969" data-line-number="4969"></td>
          <td id="LC4969">			{</td>
        </tr>
        <tr>
          <td id="L4970" data-line-number="4970"></td>
          <td id="LC4970">				_pEditView-&gt;<span>insertGenericTextFrom</span>(lineIndent, comment.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L4971" data-line-number="4971"></td>
          <td id="LC4971">
</td>
        </tr>
        <tr>
          <td id="L4972" data-line-number="4972"></td>
          <td id="LC4972">				<span><span>//</span> SELECTION RANGE ADJUSTMENT .......................</span></td>
        </tr>
        <tr>
          <td id="L4973" data-line-number="4973"></td>
          <td id="LC4973">				<span>if</span> (i == selStartLine) <span><span>//</span> first selected line</span></td>
        </tr>
        <tr>
          <td id="L4974" data-line-number="4974"></td>
          <td id="LC4974">				{</td>
        </tr>
        <tr>
          <td id="L4975" data-line-number="4975"></td>
          <td id="LC4975">					<span>if</span> (selectionStart &gt;= lineIndent)</td>
        </tr>
        <tr>
          <td id="L4976" data-line-number="4976"></td>
          <td id="LC4976">						selectionStart += comment_length;</td>
        </tr>
        <tr>
          <td id="L4977" data-line-number="4977"></td>
          <td id="LC4977">				} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L4978" data-line-number="4978"></td>
          <td id="LC4978">				<span>if</span> (i == selEndLine) <span><span>//</span> last selected line</span></td>
        </tr>
        <tr>
          <td id="L4979" data-line-number="4979"></td>
          <td id="LC4979">				{</td>
        </tr>
        <tr>
          <td id="L4980" data-line-number="4980"></td>
          <td id="LC4980">					<span>if</span> (selectionEnd &gt;= lineIndent)</td>
        </tr>
        <tr>
          <td id="L4981" data-line-number="4981"></td>
          <td id="LC4981">						selectionEnd += comment_length;</td>
        </tr>
        <tr>
          <td id="L4982" data-line-number="4982"></td>
          <td id="LC4982">				} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L4983" data-line-number="4983"></td>
          <td id="LC4983">				<span>else</span> <span><span>//</span> every iteration except the last selected line</span></td>
        </tr>
        <tr>
          <td id="L4984" data-line-number="4984"></td>
          <td id="LC4984">					selectionEnd += comment_length;</td>
        </tr>
        <tr>
          <td id="L4985" data-line-number="4985"></td>
          <td id="LC4985">				<span><span>//</span> ..................................................</span></td>
        </tr>
        <tr>
          <td id="L4986" data-line-number="4986"></td>
          <td id="LC4986">			}</td>
        </tr>
        <tr>
          <td id="L4987" data-line-number="4987"></td>
          <td id="LC4987">			<span>else</span> <span><span>//</span> isSingleLineAdvancedMode</span></td>
        </tr>
        <tr>
          <td id="L4988" data-line-number="4988"></td>
          <td id="LC4988">			{</td>
        </tr>
        <tr>
          <td id="L4989" data-line-number="4989"></td>
          <td id="LC4989">				_pEditView-&gt;<span>insertGenericTextFrom</span>(lineIndent, advCommentStart.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L4990" data-line-number="4990"></td>
          <td id="LC4990">				_pEditView-&gt;<span>insertGenericTextFrom</span>(lineEnd + advCommentStart_length, advCommentEnd.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L4991" data-line-number="4991"></td>
          <td id="LC4991">
</td>
        </tr>
        <tr>
          <td id="L4992" data-line-number="4992"></td>
          <td id="LC4992">				<span><span>//</span> SELECTION RANGE ADJUSTMENT .......................</span></td>
        </tr>
        <tr>
          <td id="L4993" data-line-number="4993"></td>
          <td id="LC4993">				<span>if</span> (i == selStartLine) <span><span>//</span> first selected line</span></td>
        </tr>
        <tr>
          <td id="L4994" data-line-number="4994"></td>
          <td id="LC4994">				{</td>
        </tr>
        <tr>
          <td id="L4995" data-line-number="4995"></td>
          <td id="LC4995">					<span>if</span> (selectionStart &gt;= lineIndent)</td>
        </tr>
        <tr>
          <td id="L4996" data-line-number="4996"></td>
          <td id="LC4996">						selectionStart += advCommentStart_length;</td>
        </tr>
        <tr>
          <td id="L4997" data-line-number="4997"></td>
          <td id="LC4997">				} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L4998" data-line-number="4998"></td>
          <td id="LC4998">				<span>if</span> (i == selEndLine) <span><span>//</span> last selected line</span></td>
        </tr>
        <tr>
          <td id="L4999" data-line-number="4999"></td>
          <td id="LC4999">				{</td>
        </tr>
        <tr>
          <td id="L5000" data-line-number="5000"></td>
          <td id="LC5000">					<span>if</span> (selectionEnd &gt; lineEnd)</td>
        </tr>
        <tr>
          <td id="L5001" data-line-number="5001"></td>
          <td id="LC5001">						selectionEnd += (advCommentStart_length + advCommentEnd_length);</td>
        </tr>
        <tr>
          <td id="L5002" data-line-number="5002"></td>
          <td id="LC5002">					<span>else</span> <span>if</span> (selectionEnd &gt;= lineIndent)</td>
        </tr>
        <tr>
          <td id="L5003" data-line-number="5003"></td>
          <td id="LC5003">						selectionEnd += advCommentStart_length;</td>
        </tr>
        <tr>
          <td id="L5004" data-line-number="5004"></td>
          <td id="LC5004">				} <span><span>//</span> ................................................</span></td>
        </tr>
        <tr>
          <td id="L5005" data-line-number="5005"></td>
          <td id="LC5005">				<span>else</span> <span><span>//</span> every iteration except the last selected line</span></td>
        </tr>
        <tr>
          <td id="L5006" data-line-number="5006"></td>
          <td id="LC5006">					selectionEnd += (advCommentStart_length + advCommentEnd_length);</td>
        </tr>
        <tr>
          <td id="L5007" data-line-number="5007"></td>
          <td id="LC5007">				<span><span>//</span> ..................................................</span></td>
        </tr>
        <tr>
          <td id="L5008" data-line-number="5008"></td>
          <td id="LC5008">			}</td>
        </tr>
        <tr>
          <td id="L5009" data-line-number="5009"></td>
          <td id="LC5009">		} <span><span>//</span> comment/toggle</span></td>
        </tr>
        <tr>
          <td id="L5010" data-line-number="5010"></td>
          <td id="LC5010">	} <span><span>//</span> for (...)</span></td>
        </tr>
        <tr>
          <td id="L5011" data-line-number="5011"></td>
          <td id="LC5011">
</td>
        </tr>
        <tr>
          <td id="L5012" data-line-number="5012"></td>
          <td id="LC5012">    <span>if</span> (move_caret)</td>
        </tr>
        <tr>
          <td id="L5013" data-line-number="5013"></td>
          <td id="LC5013">	{</td>
        </tr>
        <tr>
          <td id="L5014" data-line-number="5014"></td>
          <td id="LC5014">        <span><span>//</span> moving caret to the beginning of selected block</span></td>
        </tr>
        <tr>
          <td id="L5015" data-line-number="5015"></td>
          <td id="LC5015">        _pEditView-&gt;<span>execute</span>(SCI_GOTOPOS, selectionEnd);</td>
        </tr>
        <tr>
          <td id="L5016" data-line-number="5016"></td>
          <td id="LC5016">        _pEditView-&gt;<span>execute</span>(SCI_SETCURRENTPOS, selectionStart);</td>
        </tr>
        <tr>
          <td id="L5017" data-line-number="5017"></td>
          <td id="LC5017">    }</td>
        </tr>
        <tr>
          <td id="L5018" data-line-number="5018"></td>
          <td id="LC5018">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L5019" data-line-number="5019"></td>
          <td id="LC5019">	{</td>
        </tr>
        <tr>
          <td id="L5020" data-line-number="5020"></td>
          <td id="LC5020">        _pEditView-&gt;<span>execute</span>(SCI_SETSEL, selectionStart, selectionEnd);</td>
        </tr>
        <tr>
          <td id="L5021" data-line-number="5021"></td>
          <td id="LC5021">    }</td>
        </tr>
        <tr>
          <td id="L5022" data-line-number="5022"></td>
          <td id="LC5022">    _pEditView-&gt;<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L5023" data-line-number="5023"></td>
          <td id="LC5023">
</td>
        </tr>
        <tr>
          <td id="L5024" data-line-number="5024"></td>
          <td id="LC5024">	<span><span>//</span> undoStreamComment: If there were no block-comments to un-comment try uncommenting of stream-comment.</span></td>
        </tr>
        <tr>
          <td id="L5025" data-line-number="5025"></td>
          <td id="LC5025">	<span>if</span> ((currCommentMode == cm_uncomment) &amp;&amp; (nUncomments == <span>0</span>))</td>
        </tr>
        <tr>
          <td id="L5026" data-line-number="5026"></td>
          <td id="LC5026">	{</td>
        </tr>
        <tr>
          <td id="L5027" data-line-number="5027"></td>
          <td id="LC5027">		<span>return</span> <span>undoStreamComment</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5028" data-line-number="5028"></td>
          <td id="LC5028">	}</td>
        </tr>
        <tr>
          <td id="L5029" data-line-number="5029"></td>
          <td id="LC5029">    <span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5030" data-line-number="5030"></td>
          <td id="LC5030">}</td>
        </tr>
        <tr>
          <td id="L5031" data-line-number="5031"></td>
          <td id="LC5031">
</td>
        </tr>
        <tr>
          <td id="L5032" data-line-number="5032"></td>
          <td id="LC5032"><span>bool</span> <span>Notepad_plus::doStreamComment</span>()</td>
        </tr>
        <tr>
          <td id="L5033" data-line-number="5033"></td>
          <td id="LC5033">{</td>
        </tr>
        <tr>
          <td id="L5034" data-line-number="5034"></td>
          <td id="LC5034">	<span>const</span> TCHAR *commentStart;</td>
        </tr>
        <tr>
          <td id="L5035" data-line-number="5035"></td>
          <td id="LC5035">	<span>const</span> TCHAR *commentEnd;</td>
        </tr>
        <tr>
          <td id="L5036" data-line-number="5036"></td>
          <td id="LC5036">
</td>
        </tr>
        <tr>
          <td id="L5037" data-line-number="5037"></td>
          <td id="LC5037">	generic_string symbolStart;</td>
        </tr>
        <tr>
          <td id="L5038" data-line-number="5038"></td>
          <td id="LC5038">	generic_string symbolEnd;</td>
        </tr>
        <tr>
          <td id="L5039" data-line-number="5039"></td>
          <td id="LC5039">
</td>
        </tr>
        <tr>
          <td id="L5040" data-line-number="5040"></td>
          <td id="LC5040">	<span><span>//</span> BlockToStreamComment:</span></td>
        </tr>
        <tr>
          <td id="L5041" data-line-number="5041"></td>
          <td id="LC5041">	<span>const</span> TCHAR *commentLineSymbol;</td>
        </tr>
        <tr>
          <td id="L5042" data-line-number="5042"></td>
          <td id="LC5042">	generic_string symbol;</td>
        </tr>
        <tr>
          <td id="L5043" data-line-number="5043"></td>
          <td id="LC5043">
</td>
        </tr>
        <tr>
          <td id="L5044" data-line-number="5044"></td>
          <td id="LC5044">	Buffer * buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L5045" data-line-number="5045"></td>
          <td id="LC5045">	<span><span>//</span> Avoid side-effects (e.g. cursor moves number of comment-characters) when file is read-only.</span></td>
        </tr>
        <tr>
          <td id="L5046" data-line-number="5046"></td>
          <td id="LC5046">	<span>if</span> (buf-&gt;<span>isReadOnly</span>())</td>
        </tr>
        <tr>
          <td id="L5047" data-line-number="5047"></td>
          <td id="LC5047">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5048" data-line-number="5048"></td>
          <td id="LC5048">
</td>
        </tr>
        <tr>
          <td id="L5049" data-line-number="5049"></td>
          <td id="LC5049">	<span>if</span> (buf-&gt;<span>getLangType</span>() == L_USER)</td>
        </tr>
        <tr>
          <td id="L5050" data-line-number="5050"></td>
          <td id="LC5050">	{</td>
        </tr>
        <tr>
          <td id="L5051" data-line-number="5051"></td>
          <td id="LC5051">		UserLangContainer * userLangContainer = <span>NppParameters::getInstance</span>().<span>getULCFromName</span>(buf-&gt;<span>getUserDefineLangName</span>());</td>
        </tr>
        <tr>
          <td id="L5052" data-line-number="5052"></td>
          <td id="LC5052">
</td>
        </tr>
        <tr>
          <td id="L5053" data-line-number="5053"></td>
          <td id="LC5053">		<span>if</span> (!userLangContainer)</td>
        </tr>
        <tr>
          <td id="L5054" data-line-number="5054"></td>
          <td id="LC5054">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5055" data-line-number="5055"></td>
          <td id="LC5055">
</td>
        </tr>
        <tr>
          <td id="L5056" data-line-number="5056"></td>
          <td id="LC5056">		<span><span>//</span> BlockToStreamComment: Next two lines needed to decide, if block-comment can be called below!</span></td>
        </tr>
        <tr>
          <td id="L5057" data-line-number="5057"></td>
          <td id="LC5057">		symbol = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>0<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L5058" data-line-number="5058"></td>
          <td id="LC5058">		commentLineSymbol = symbol.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L5059" data-line-number="5059"></td>
          <td id="LC5059">
</td>
        </tr>
        <tr>
          <td id="L5060" data-line-number="5060"></td>
          <td id="LC5060">		symbolStart = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>3<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L5061" data-line-number="5061"></td>
          <td id="LC5061">		commentStart = symbolStart.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L5062" data-line-number="5062"></td>
          <td id="LC5062">		symbolEnd = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>4<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L5063" data-line-number="5063"></td>
          <td id="LC5063">		commentEnd = symbolEnd.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L5064" data-line-number="5064"></td>
          <td id="LC5064">	}</td>
        </tr>
        <tr>
          <td id="L5065" data-line-number="5065"></td>
          <td id="LC5065">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L5066" data-line-number="5066"></td>
          <td id="LC5066">	{</td>
        </tr>
        <tr>
          <td id="L5067" data-line-number="5067"></td>
          <td id="LC5067">		<span><span>//</span> BlockToStreamComment: Next line needed to decide, if block-comment can be called below!</span></td>
        </tr>
        <tr>
          <td id="L5068" data-line-number="5068"></td>
          <td id="LC5068">		commentLineSymbol = buf-&gt;<span>getCommentLineSymbol</span>();</td>
        </tr>
        <tr>
          <td id="L5069" data-line-number="5069"></td>
          <td id="LC5069">		commentStart = buf-&gt;<span>getCommentStart</span>();</td>
        </tr>
        <tr>
          <td id="L5070" data-line-number="5070"></td>
          <td id="LC5070">		commentEnd = buf-&gt;<span>getCommentEnd</span>();</td>
        </tr>
        <tr>
          <td id="L5071" data-line-number="5071"></td>
          <td id="LC5071">	}</td>
        </tr>
        <tr>
          <td id="L5072" data-line-number="5072"></td>
          <td id="LC5072">
</td>
        </tr>
        <tr>
          <td id="L5073" data-line-number="5073"></td>
          <td id="LC5073">	<span><span>//</span> BlockToStreamComment: If there is no stream-comment symbol, try the block comment:</span></td>
        </tr>
        <tr>
          <td id="L5074" data-line-number="5074"></td>
          <td id="LC5074">	<span>if</span> ((!commentStart) || (!commentStart[<span>0</span>]) || (commentStart == <span>NULL</span>) || (!commentEnd) || (!commentEnd[<span>0</span>]) || (commentEnd == <span>NULL</span>))</td>
        </tr>
        <tr>
          <td id="L5075" data-line-number="5075"></td>
          <td id="LC5075">	{</td>
        </tr>
        <tr>
          <td id="L5076" data-line-number="5076"></td>
          <td id="LC5076">		<span>if</span> (!(!commentLineSymbol || !commentLineSymbol[<span>0</span>] || commentLineSymbol == <span>NULL</span>))</td>
        </tr>
        <tr>
          <td id="L5077" data-line-number="5077"></td>
          <td id="LC5077">			<span>return</span> <span>doBlockComment</span>(cm_comment);</td>
        </tr>
        <tr>
          <td id="L5078" data-line-number="5078"></td>
          <td id="LC5078">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L5079" data-line-number="5079"></td>
          <td id="LC5079">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5080" data-line-number="5080"></td>
          <td id="LC5080">	}</td>
        </tr>
        <tr>
          <td id="L5081" data-line-number="5081"></td>
          <td id="LC5081">
</td>
        </tr>
        <tr>
          <td id="L5082" data-line-number="5082"></td>
          <td id="LC5082">	generic_string <span>start_comment</span>(commentStart);</td>
        </tr>
        <tr>
          <td id="L5083" data-line-number="5083"></td>
          <td id="LC5083">	generic_string <span>end_comment</span>(commentEnd);</td>
        </tr>
        <tr>
          <td id="L5084" data-line-number="5084"></td>
          <td id="LC5084">	generic_string <span>white_space</span>(<span>TEXT</span>(<span><span>&#34;</span> <span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L5085" data-line-number="5085"></td>
          <td id="LC5085">
</td>
        </tr>
        <tr>
          <td id="L5086" data-line-number="5086"></td>
          <td id="LC5086">	start_comment += white_space;</td>
        </tr>
        <tr>
          <td id="L5087" data-line-number="5087"></td>
          <td id="LC5087">	white_space += end_comment;</td>
        </tr>
        <tr>
          <td id="L5088" data-line-number="5088"></td>
          <td id="LC5088">	end_comment = white_space;</td>
        </tr>
        <tr>
          <td id="L5089" data-line-number="5089"></td>
          <td id="LC5089">	<span>size_t</span> start_comment_length = start_comment.<span>length</span>();</td>
        </tr>
        <tr>
          <td id="L5090" data-line-number="5090"></td>
          <td id="LC5090">	<span>size_t</span> selectionStart = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONSTART);</td>
        </tr>
        <tr>
          <td id="L5091" data-line-number="5091"></td>
          <td id="LC5091">	<span>size_t</span> selectionEnd = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEND);</td>
        </tr>
        <tr>
          <td id="L5092" data-line-number="5092"></td>
          <td id="LC5092">	<span>size_t</span> caretPosition = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L5093" data-line-number="5093"></td>
          <td id="LC5093">	<span><span>//</span> checking if caret is located in _beginning_ of selected block</span></td>
        </tr>
        <tr>
          <td id="L5094" data-line-number="5094"></td>
          <td id="LC5094">	<span>bool</span> move_caret = caretPosition &lt; selectionEnd;</td>
        </tr>
        <tr>
          <td id="L5095" data-line-number="5095"></td>
          <td id="LC5095">
</td>
        </tr>
        <tr>
          <td id="L5096" data-line-number="5096"></td>
          <td id="LC5096">	<span><span>//</span> if there is no selection?</span></td>
        </tr>
        <tr>
          <td id="L5097" data-line-number="5097"></td>
          <td id="LC5097">	<span>if</span> (selectionEnd - selectionStart &lt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L5098" data-line-number="5098"></td>
          <td id="LC5098">	{</td>
        </tr>
        <tr>
          <td id="L5099" data-line-number="5099"></td>
          <td id="LC5099">		<span>auto</span> selLine = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, selectionStart);</td>
        </tr>
        <tr>
          <td id="L5100" data-line-number="5100"></td>
          <td id="LC5100">		selectionStart = _pEditView-&gt;<span>execute</span>(SCI_GETLINEINDENTPOSITION, selLine);</td>
        </tr>
        <tr>
          <td id="L5101" data-line-number="5101"></td>
          <td id="LC5101">		selectionEnd = _pEditView-&gt;<span>execute</span>(SCI_GETLINEENDPOSITION, selLine);</td>
        </tr>
        <tr>
          <td id="L5102" data-line-number="5102"></td>
          <td id="LC5102">	}</td>
        </tr>
        <tr>
          <td id="L5103" data-line-number="5103"></td>
          <td id="LC5103">	_pEditView-&gt;<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L5104" data-line-number="5104"></td>
          <td id="LC5104">	_pEditView-&gt;<span>insertGenericTextFrom</span>(selectionStart, start_comment.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L5105" data-line-number="5105"></td>
          <td id="LC5105">	selectionEnd += start_comment_length;</td>
        </tr>
        <tr>
          <td id="L5106" data-line-number="5106"></td>
          <td id="LC5106">	selectionStart += start_comment_length;</td>
        </tr>
        <tr>
          <td id="L5107" data-line-number="5107"></td>
          <td id="LC5107">	_pEditView-&gt;<span>insertGenericTextFrom</span>(selectionEnd, end_comment.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L5108" data-line-number="5108"></td>
          <td id="LC5108">	<span>if</span> (move_caret)</td>
        </tr>
        <tr>
          <td id="L5109" data-line-number="5109"></td>
          <td id="LC5109">	{</td>
        </tr>
        <tr>
          <td id="L5110" data-line-number="5110"></td>
          <td id="LC5110">		<span><span>//</span> moving caret to the beginning of selected block</span></td>
        </tr>
        <tr>
          <td id="L5111" data-line-number="5111"></td>
          <td id="LC5111">		_pEditView-&gt;<span>execute</span>(SCI_GOTOPOS, selectionEnd);</td>
        </tr>
        <tr>
          <td id="L5112" data-line-number="5112"></td>
          <td id="LC5112">		_pEditView-&gt;<span>execute</span>(SCI_SETCURRENTPOS, selectionStart);</td>
        </tr>
        <tr>
          <td id="L5113" data-line-number="5113"></td>
          <td id="LC5113">	}</td>
        </tr>
        <tr>
          <td id="L5114" data-line-number="5114"></td>
          <td id="LC5114">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L5115" data-line-number="5115"></td>
          <td id="LC5115">	{</td>
        </tr>
        <tr>
          <td id="L5116" data-line-number="5116"></td>
          <td id="LC5116">		_pEditView-&gt;<span>execute</span>(SCI_SETSEL, selectionStart, selectionEnd);</td>
        </tr>
        <tr>
          <td id="L5117" data-line-number="5117"></td>
          <td id="LC5117">	}</td>
        </tr>
        <tr>
          <td id="L5118" data-line-number="5118"></td>
          <td id="LC5118">	_pEditView-&gt;<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L5119" data-line-number="5119"></td>
          <td id="LC5119">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5120" data-line-number="5120"></td>
          <td id="LC5120">}</td>
        </tr>
        <tr>
          <td id="L5121" data-line-number="5121"></td>
          <td id="LC5121">
</td>
        </tr>
        <tr>
          <td id="L5122" data-line-number="5122"></td>
          <td id="LC5122"><span>void</span> <span>Notepad_plus::saveScintillasZoom</span>()</td>
        </tr>
        <tr>
          <td id="L5123" data-line-number="5123"></td>
          <td id="LC5123">{</td>
        </tr>
        <tr>
          <td id="L5124" data-line-number="5124"></td>
          <td id="LC5124">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L5125" data-line-number="5125"></td>
          <td id="LC5125">	ScintillaViewParams &amp; svp = (ScintillaViewParams &amp;)nppParam.<span>getSVP</span>();</td>
        </tr>
        <tr>
          <td id="L5126" data-line-number="5126"></td>
          <td id="LC5126">	svp.<span>_zoom</span> = _mainEditView.<span>execute</span>(SCI_GETZOOM);</td>
        </tr>
        <tr>
          <td id="L5127" data-line-number="5127"></td>
          <td id="LC5127">	svp.<span>_zoom2</span> = _subEditView.<span>execute</span>(SCI_GETZOOM);</td>
        </tr>
        <tr>
          <td id="L5128" data-line-number="5128"></td>
          <td id="LC5128">}</td>
        </tr>
        <tr>
          <td id="L5129" data-line-number="5129"></td>
          <td id="LC5129">
</td>
        </tr>
        <tr>
          <td id="L5130" data-line-number="5130"></td>
          <td id="LC5130"><span>bool</span> <span>Notepad_plus::addCurrentMacro</span>()</td>
        </tr>
        <tr>
          <td id="L5131" data-line-number="5131"></td>
          <td id="LC5131">{</td>
        </tr>
        <tr>
          <td id="L5132" data-line-number="5132"></td>
          <td id="LC5132">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L5133" data-line-number="5133"></td>
          <td id="LC5133">	vector&lt;MacroShortcut&gt; &amp; theMacros = nppParams.<span>getMacroList</span>();</td>
        </tr>
        <tr>
          <td id="L5134" data-line-number="5134"></td>
          <td id="LC5134">
</td>
        </tr>
        <tr>
          <td id="L5135" data-line-number="5135"></td>
          <td id="LC5135">	<span>int</span> nbMacro = <span>static_cast</span>&lt;<span>int32_t</span>&gt;(theMacros.<span>size</span>());</td>
        </tr>
        <tr>
          <td id="L5136" data-line-number="5136"></td>
          <td id="LC5136">
</td>
        </tr>
        <tr>
          <td id="L5137" data-line-number="5137"></td>
          <td id="LC5137">	<span>int</span> cmdID = ID_MACRO + nbMacro;</td>
        </tr>
        <tr>
          <td id="L5138" data-line-number="5138"></td>
          <td id="LC5138">	MacroShortcut <span>ms</span>(<span>Shortcut</span>(), _macro, cmdID);</td>
        </tr>
        <tr>
          <td id="L5139" data-line-number="5139"></td>
          <td id="LC5139">	ms.<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L5140" data-line-number="5140"></td>
          <td id="LC5140">
</td>
        </tr>
        <tr>
          <td id="L5141" data-line-number="5141"></td>
          <td id="LC5141">	<span>if</span> (ms.<span>doDialog</span>() != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5142" data-line-number="5142"></td>
          <td id="LC5142">	{</td>
        </tr>
        <tr>
          <td id="L5143" data-line-number="5143"></td>
          <td id="LC5143">		HMENU hMacroMenu = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_MACRO);</td>
        </tr>
        <tr>
          <td id="L5144" data-line-number="5144"></td>
          <td id="LC5144">		<span>int</span> <span>const</span> posBase = <span>6</span>;	<span><span>//</span>separator at index 5</span></td>
        </tr>
        <tr>
          <td id="L5145" data-line-number="5145"></td>
          <td id="LC5145">		<span>if</span> (nbMacro == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L5146" data-line-number="5146"></td>
          <td id="LC5146">		{</td>
        </tr>
        <tr>
          <td id="L5147" data-line-number="5147"></td>
          <td id="LC5147">			<span>::InsertMenu</span>(hMacroMenu, posBase-<span>1</span>, MF_BYPOSITION, <span>static_cast</span>&lt;UINT&gt;(-<span>1</span>), 0);	<span><span>//</span>no separator yet, add one</span></td>
        </tr>
        <tr>
          <td id="L5148" data-line-number="5148"></td>
          <td id="LC5148">
</td>
        </tr>
        <tr>
          <td id="L5149" data-line-number="5149"></td>
          <td id="LC5149">            <span><span>//</span> Insert the separator and modify/delete command</span></td>
        </tr>
        <tr>
          <td id="L5150" data-line-number="5150"></td>
          <td id="LC5150">			<span>::InsertMenu</span>(hMacroMenu, posBase + nbMacro + <span>1</span>, MF_BYPOSITION, <span>static_cast</span>&lt;UINT&gt;(-<span>1</span>), 0);</td>
        </tr>
        <tr>
          <td id="L5151" data-line-number="5151"></td>
          <td id="LC5151">
</td>
        </tr>
        <tr>
          <td id="L5152" data-line-number="5152"></td>
          <td id="LC5152">			NativeLangSpeaker *pNativeLangSpeaker = nppParams.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L5153" data-line-number="5153"></td>
          <td id="LC5153">			generic_string nativeLangShortcutMapperMacro = pNativeLangSpeaker-&gt;<span>getNativeLangMenuString</span>(IDM_SETTING_SHORTCUT_MAPPER_MACRO);</td>
        </tr>
        <tr>
          <td id="L5154" data-line-number="5154"></td>
          <td id="LC5154">			<span>if</span> (nativeLangShortcutMapperMacro == <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>))</td>
        </tr>
        <tr>
          <td id="L5155" data-line-number="5155"></td>
          <td id="LC5155">				nativeLangShortcutMapperMacro = <span>TEXT</span>(<span><span>&#34;</span>Modify Shortcut/Delete Macro...<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L5156" data-line-number="5156"></td>
          <td id="LC5156">
</td>
        </tr>
        <tr>
          <td id="L5157" data-line-number="5157"></td>
          <td id="LC5157">			<span>::InsertMenu</span>(hMacroMenu, posBase + nbMacro + <span>2</span>, MF_BYCOMMAND, IDM_SETTING_SHORTCUT_MAPPER_MACRO, nativeLangShortcutMapperMacro.c_str());</td>
        </tr>
        <tr>
          <td id="L5158" data-line-number="5158"></td>
          <td id="LC5158">        }</td>
        </tr>
        <tr>
          <td id="L5159" data-line-number="5159"></td>
          <td id="LC5159">		theMacros.<span>push_back</span>(ms);</td>
        </tr>
        <tr>
          <td id="L5160" data-line-number="5160"></td>
          <td id="LC5160">		<span>::InsertMenu</span>(hMacroMenu, posBase + nbMacro, MF_BYPOSITION, cmdID, ms.toMenuItemString().c_str());</td>
        </tr>
        <tr>
          <td id="L5161" data-line-number="5161"></td>
          <td id="LC5161">		_accelerator.<span>updateShortcuts</span>();</td>
        </tr>
        <tr>
          <td id="L5162" data-line-number="5162"></td>
          <td id="LC5162">		nppParams.<span>setShortcutDirty</span>();</td>
        </tr>
        <tr>
          <td id="L5163" data-line-number="5163"></td>
          <td id="LC5163">		<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5164" data-line-number="5164"></td>
          <td id="LC5164">	}</td>
        </tr>
        <tr>
          <td id="L5165" data-line-number="5165"></td>
          <td id="LC5165">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5166" data-line-number="5166"></td>
          <td id="LC5166">}</td>
        </tr>
        <tr>
          <td id="L5167" data-line-number="5167"></td>
          <td id="LC5167">
</td>
        </tr>
        <tr>
          <td id="L5168" data-line-number="5168"></td>
          <td id="LC5168"><span>bool</span> <span>Notepad_plus::switchToFile</span>(BufferID id)</td>
        </tr>
        <tr>
          <td id="L5169" data-line-number="5169"></td>
          <td id="LC5169">{</td>
        </tr>
        <tr>
          <td id="L5170" data-line-number="5170"></td>
          <td id="LC5170">	<span>int</span> i = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5171" data-line-number="5171"></td>
          <td id="LC5171">	<span>int</span> iView = <span>currentView</span>();</td>
        </tr>
        <tr>
          <td id="L5172" data-line-number="5172"></td>
          <td id="LC5172">	<span>if</span> (id == BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L5173" data-line-number="5173"></td>
          <td id="LC5173">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5174" data-line-number="5174"></td>
          <td id="LC5174">
</td>
        </tr>
        <tr>
          <td id="L5175" data-line-number="5175"></td>
          <td id="LC5175">	<span>if</span> ((i = _pDocTab-&gt;<span>getIndexByBuffer</span>(id)) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5176" data-line-number="5176"></td>
          <td id="LC5176">	{</td>
        </tr>
        <tr>
          <td id="L5177" data-line-number="5177"></td>
          <td id="LC5177">		iView = <span>currentView</span>();</td>
        </tr>
        <tr>
          <td id="L5178" data-line-number="5178"></td>
          <td id="LC5178">	}</td>
        </tr>
        <tr>
          <td id="L5179" data-line-number="5179"></td>
          <td id="LC5179">	<span>else</span> <span>if</span> ((i = _pNonDocTab-&gt;<span>getIndexByBuffer</span>(id)) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5180" data-line-number="5180"></td>
          <td id="LC5180">	{</td>
        </tr>
        <tr>
          <td id="L5181" data-line-number="5181"></td>
          <td id="LC5181">		iView = <span>otherView</span>();</td>
        </tr>
        <tr>
          <td id="L5182" data-line-number="5182"></td>
          <td id="LC5182">	}</td>
        </tr>
        <tr>
          <td id="L5183" data-line-number="5183"></td>
          <td id="LC5183">
</td>
        </tr>
        <tr>
          <td id="L5184" data-line-number="5184"></td>
          <td id="LC5184">	<span>if</span> (i != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5185" data-line-number="5185"></td>
          <td id="LC5185">	{</td>
        </tr>
        <tr>
          <td id="L5186" data-line-number="5186"></td>
          <td id="LC5186">		<span>switchEditViewTo</span>(iView);</td>
        </tr>
        <tr>
          <td id="L5187" data-line-number="5187"></td>
          <td id="LC5187">		<span>activateBuffer</span>(id, <span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L5188" data-line-number="5188"></td>
          <td id="LC5188">		<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5189" data-line-number="5189"></td>
          <td id="LC5189">	}</td>
        </tr>
        <tr>
          <td id="L5190" data-line-number="5190"></td>
          <td id="LC5190">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5191" data-line-number="5191"></td>
          <td id="LC5191">}</td>
        </tr>
        <tr>
          <td id="L5192" data-line-number="5192"></td>
          <td id="LC5192">
</td>
        </tr>
        <tr>
          <td id="L5193" data-line-number="5193"></td>
          <td id="LC5193"><span>void</span> <span>Notepad_plus::getTaskListInfo</span>(TaskListInfo *tli)</td>
        </tr>
        <tr>
          <td id="L5194" data-line-number="5194"></td>
          <td id="LC5194">{</td>
        </tr>
        <tr>
          <td id="L5195" data-line-number="5195"></td>
          <td id="LC5195">	<span>int</span> currentNbDoc = <span>static_cast</span>&lt;<span>int32_t</span>&gt;(_pDocTab-&gt;<span>nbItem</span>());</td>
        </tr>
        <tr>
          <td id="L5196" data-line-number="5196"></td>
          <td id="LC5196">	<span>int</span> nonCurrentNbDoc = <span>static_cast</span>&lt;<span>int32_t</span>&gt;(_pNonDocTab-&gt;<span>nbItem</span>());</td>
        </tr>
        <tr>
          <td id="L5197" data-line-number="5197"></td>
          <td id="LC5197">
</td>
        </tr>
        <tr>
          <td id="L5198" data-line-number="5198"></td>
          <td id="LC5198">	tli-&gt;<span>_currentIndex</span> = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5199" data-line-number="5199"></td>
          <td id="LC5199">
</td>
        </tr>
        <tr>
          <td id="L5200" data-line-number="5200"></td>
          <td id="LC5200">	<span>if</span> (!<span>viewVisible</span>(<span>otherView</span>()))</td>
        </tr>
        <tr>
          <td id="L5201" data-line-number="5201"></td>
          <td id="LC5201">		nonCurrentNbDoc = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5202" data-line-number="5202"></td>
          <td id="LC5202">
</td>
        </tr>
        <tr>
          <td id="L5203" data-line-number="5203"></td>
          <td id="LC5203">	<span>for</span> (<span>int</span> i = <span>0</span> ; i &lt; currentNbDoc ; ++i)</td>
        </tr>
        <tr>
          <td id="L5204" data-line-number="5204"></td>
          <td id="LC5204">	{</td>
        </tr>
        <tr>
          <td id="L5205" data-line-number="5205"></td>
          <td id="LC5205">		BufferID bufID = _pDocTab-&gt;<span>getBufferByIndex</span>(i);</td>
        </tr>
        <tr>
          <td id="L5206" data-line-number="5206"></td>
          <td id="LC5206">		Buffer * b = MainFileManager.<span>getBufferByID</span>(bufID);</td>
        </tr>
        <tr>
          <td id="L5207" data-line-number="5207"></td>
          <td id="LC5207">		<span>int</span> status = b-&gt;<span>isMonitoringOn</span>()?tb_monitored:(b-&gt;<span>isReadOnly</span>()?tb_ro:(b-&gt;<span>isDirty</span>()?tb_unsaved:tb_saved));</td>
        </tr>
        <tr>
          <td id="L5208" data-line-number="5208"></td>
          <td id="LC5208">		tli-&gt;<span>_tlfsLst</span>.<span>push_back</span>(<span>TaskLstFnStatus</span>(<span>currentView</span>(), i, b-&gt;<span>getFullPathName</span>(), status, (<span>void</span> *)bufID));</td>
        </tr>
        <tr>
          <td id="L5209" data-line-number="5209"></td>
          <td id="LC5209">	}</td>
        </tr>
        <tr>
          <td id="L5210" data-line-number="5210"></td>
          <td id="LC5210">	<span>for</span> (<span>int</span> i = <span>0</span> ; i &lt; nonCurrentNbDoc ; ++i)</td>
        </tr>
        <tr>
          <td id="L5211" data-line-number="5211"></td>
          <td id="LC5211">	{</td>
        </tr>
        <tr>
          <td id="L5212" data-line-number="5212"></td>
          <td id="LC5212">		BufferID bufID = _pNonDocTab-&gt;<span>getBufferByIndex</span>(i);</td>
        </tr>
        <tr>
          <td id="L5213" data-line-number="5213"></td>
          <td id="LC5213">		Buffer * b = MainFileManager.<span>getBufferByID</span>(bufID);</td>
        </tr>
        <tr>
          <td id="L5214" data-line-number="5214"></td>
          <td id="LC5214">		<span>int</span> status = b-&gt;<span>isMonitoringOn</span>()?tb_monitored:(b-&gt;<span>isReadOnly</span>()?tb_ro:(b-&gt;<span>isDirty</span>()?tb_unsaved:tb_saved));</td>
        </tr>
        <tr>
          <td id="L5215" data-line-number="5215"></td>
          <td id="LC5215">		tli-&gt;<span>_tlfsLst</span>.<span>push_back</span>(<span>TaskLstFnStatus</span>(<span>otherView</span>(), i, b-&gt;<span>getFullPathName</span>(), status, (<span>void</span> *)bufID));</td>
        </tr>
        <tr>
          <td id="L5216" data-line-number="5216"></td>
          <td id="LC5216">	}</td>
        </tr>
        <tr>
          <td id="L5217" data-line-number="5217"></td>
          <td id="LC5217">}</td>
        </tr>
        <tr>
          <td id="L5218" data-line-number="5218"></td>
          <td id="LC5218">
</td>
        </tr>
        <tr>
          <td id="L5219" data-line-number="5219"></td>
          <td id="LC5219">
</td>
        </tr>
        <tr>
          <td id="L5220" data-line-number="5220"></td>
          <td id="LC5220"><span>bool</span> <span>Notepad_plus::goToPreviousIndicator</span>(<span>int</span> indicID2Search, <span>bool</span> isWrap) <span>const</span></td>
        </tr>
        <tr>
          <td id="L5221" data-line-number="5221"></td>
          <td id="LC5221">{</td>
        </tr>
        <tr>
          <td id="L5222" data-line-number="5222"></td>
          <td id="LC5222">    <span>auto</span> position = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L5223" data-line-number="5223"></td>
          <td id="LC5223">	<span>auto</span> docLen = _pEditView-&gt;<span>getCurrentDocLen</span>();</td>
        </tr>
        <tr>
          <td id="L5224" data-line-number="5224"></td>
          <td id="LC5224">
</td>
        </tr>
        <tr>
          <td id="L5225" data-line-number="5225"></td>
          <td id="LC5225">    <span>bool</span> isInIndicator = _pEditView-&gt;<span>execute</span>(SCI_INDICATORVALUEAT, indicID2Search,  position) != <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5226" data-line-number="5226"></td>
          <td id="LC5226">    <span>size_t</span> posStart = _pEditView-&gt;<span>execute</span>(SCI_INDICATORSTART, indicID2Search,  position);</td>
        </tr>
        <tr>
          <td id="L5227" data-line-number="5227"></td>
          <td id="LC5227">    <span>size_t</span> posEnd = _pEditView-&gt;<span>execute</span>(SCI_INDICATOREND, indicID2Search,  position);</td>
        </tr>
        <tr>
          <td id="L5228" data-line-number="5228"></td>
          <td id="LC5228">
</td>
        </tr>
        <tr>
          <td id="L5229" data-line-number="5229"></td>
          <td id="LC5229">	<span><span>//</span> pre-condition</span></td>
        </tr>
        <tr>
          <td id="L5230" data-line-number="5230"></td>
          <td id="LC5230">	<span>if</span> ((posStart == <span>0</span>) &amp;&amp; (posEnd == docLen - <span>1</span>))</td>
        </tr>
        <tr>
          <td id="L5231" data-line-number="5231"></td>
          <td id="LC5231">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5232" data-line-number="5232"></td>
          <td id="LC5232">
</td>
        </tr>
        <tr>
          <td id="L5233" data-line-number="5233"></td>
          <td id="LC5233">    <span>if</span> (posStart &lt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L5234" data-line-number="5234"></td>
          <td id="LC5234">	{</td>
        </tr>
        <tr>
          <td id="L5235" data-line-number="5235"></td>
          <td id="LC5235">		<span>if</span> (!isWrap)</td>
        </tr>
        <tr>
          <td id="L5236" data-line-number="5236"></td>
          <td id="LC5236">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5237" data-line-number="5237"></td>
          <td id="LC5237">
</td>
        </tr>
        <tr>
          <td id="L5238" data-line-number="5238"></td>
          <td id="LC5238">		isInIndicator = _pEditView-&gt;<span>execute</span>(SCI_INDICATORVALUEAT, indicID2Search,  docLen - <span>1</span>) != <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5239" data-line-number="5239"></td>
          <td id="LC5239">		posStart = _pEditView-&gt;<span>execute</span>(SCI_INDICATORSTART, indicID2Search,  docLen - <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L5240" data-line-number="5240"></td>
          <td id="LC5240">	}</td>
        </tr>
        <tr>
          <td id="L5241" data-line-number="5241"></td>
          <td id="LC5241">
</td>
        </tr>
        <tr>
          <td id="L5242" data-line-number="5242"></td>
          <td id="LC5242">    <span>if</span> (isInIndicator) <span><span>//</span> try to get out of indicator</span></td>
        </tr>
        <tr>
          <td id="L5243" data-line-number="5243"></td>
          <td id="LC5243">    {</td>
        </tr>
        <tr>
          <td id="L5244" data-line-number="5244"></td>
          <td id="LC5244">        posStart = _pEditView-&gt;<span>execute</span>(SCI_INDICATORSTART, indicID2Search, posStart - <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L5245" data-line-number="5245"></td>
          <td id="LC5245">        <span>if</span> (posStart &lt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L5246" data-line-number="5246"></td>
          <td id="LC5246">		{</td>
        </tr>
        <tr>
          <td id="L5247" data-line-number="5247"></td>
          <td id="LC5247">			<span>if</span> (!isWrap)</td>
        </tr>
        <tr>
          <td id="L5248" data-line-number="5248"></td>
          <td id="LC5248">				<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5249" data-line-number="5249"></td>
          <td id="LC5249">			posStart = _pEditView-&gt;<span>execute</span>(SCI_INDICATORSTART, indicID2Search,  docLen - <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L5250" data-line-number="5250"></td>
          <td id="LC5250">		}</td>
        </tr>
        <tr>
          <td id="L5251" data-line-number="5251"></td>
          <td id="LC5251">	}</td>
        </tr>
        <tr>
          <td id="L5252" data-line-number="5252"></td>
          <td id="LC5252">
</td>
        </tr>
        <tr>
          <td id="L5253" data-line-number="5253"></td>
          <td id="LC5253">    <span>auto</span> newPos = posStart - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L5254" data-line-number="5254"></td>
          <td id="LC5254">    posStart = _pEditView-&gt;<span>execute</span>(SCI_INDICATORSTART, indicID2Search, newPos);</td>
        </tr>
        <tr>
          <td id="L5255" data-line-number="5255"></td>
          <td id="LC5255">    posEnd = _pEditView-&gt;<span>execute</span>(SCI_INDICATOREND, indicID2Search, newPos);</td>
        </tr>
        <tr>
          <td id="L5256" data-line-number="5256"></td>
          <td id="LC5256">
</td>
        </tr>
        <tr>
          <td id="L5257" data-line-number="5257"></td>
          <td id="LC5257">	<span><span>//</span> found</span></td>
        </tr>
        <tr>
          <td id="L5258" data-line-number="5258"></td>
          <td id="LC5258">	<span>if</span> (_pEditView-&gt;<span>execute</span>(SCI_INDICATORVALUEAT, indicID2Search, posStart))</td>
        </tr>
        <tr>
          <td id="L5259" data-line-number="5259"></td>
          <td id="LC5259">	{</td>
        </tr>
        <tr>
          <td id="L5260" data-line-number="5260"></td>
          <td id="LC5260">		NppGUI &amp; nppGUI = (<span>NppParameters::getInstance</span>()).<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L5261" data-line-number="5261"></td>
          <td id="LC5261">		nppGUI.<span>_disableSmartHiliteTmp</span> = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5262" data-line-number="5262"></td>
          <td id="LC5262">
</td>
        </tr>
        <tr>
          <td id="L5263" data-line-number="5263"></td>
          <td id="LC5263">        <span>auto</span> currentline = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, posEnd);</td>
        </tr>
        <tr>
          <td id="L5264" data-line-number="5264"></td>
          <td id="LC5264">	    _pEditView-&gt;<span>execute</span>(SCI_ENSUREVISIBLE, currentline);	<span><span>//</span> make sure target line is unfolded</span></td>
        </tr>
        <tr>
          <td id="L5265" data-line-number="5265"></td>
          <td id="LC5265">
</td>
        </tr>
        <tr>
          <td id="L5266" data-line-number="5266"></td>
          <td id="LC5266">		_pEditView-&gt;<span>execute</span>(SCI_SETSEL, posEnd, posStart);</td>
        </tr>
        <tr>
          <td id="L5267" data-line-number="5267"></td>
          <td id="LC5267">		_pEditView-&gt;<span>execute</span>(SCI_SCROLLCARET);</td>
        </tr>
        <tr>
          <td id="L5268" data-line-number="5268"></td>
          <td id="LC5268">		<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5269" data-line-number="5269"></td>
          <td id="LC5269">	}</td>
        </tr>
        <tr>
          <td id="L5270" data-line-number="5270"></td>
          <td id="LC5270">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5271" data-line-number="5271"></td>
          <td id="LC5271">}</td>
        </tr>
        <tr>
          <td id="L5272" data-line-number="5272"></td>
          <td id="LC5272">
</td>
        </tr>
        <tr>
          <td id="L5273" data-line-number="5273"></td>
          <td id="LC5273"><span>bool</span> <span>Notepad_plus::goToNextIndicator</span>(<span>int</span> indicID2Search, <span>bool</span> isWrap) <span>const</span></td>
        </tr>
        <tr>
          <td id="L5274" data-line-number="5274"></td>
          <td id="LC5274">{</td>
        </tr>
        <tr>
          <td id="L5275" data-line-number="5275"></td>
          <td id="LC5275">    <span>size_t</span> position = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L5276" data-line-number="5276"></td>
          <td id="LC5276">	<span>size_t</span> docLen = _pEditView-&gt;<span>getCurrentDocLen</span>();</td>
        </tr>
        <tr>
          <td id="L5277" data-line-number="5277"></td>
          <td id="LC5277">
</td>
        </tr>
        <tr>
          <td id="L5278" data-line-number="5278"></td>
          <td id="LC5278">    <span>bool</span> isInIndicator = _pEditView-&gt;<span>execute</span>(SCI_INDICATORVALUEAT, indicID2Search,  position) != <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5279" data-line-number="5279"></td>
          <td id="LC5279">    <span>size_t</span> posStart = _pEditView-&gt;<span>execute</span>(SCI_INDICATORSTART, indicID2Search,  position);</td>
        </tr>
        <tr>
          <td id="L5280" data-line-number="5280"></td>
          <td id="LC5280">    <span>size_t</span> posEnd = _pEditView-&gt;<span>execute</span>(SCI_INDICATOREND, indicID2Search,  position);</td>
        </tr>
        <tr>
          <td id="L5281" data-line-number="5281"></td>
          <td id="LC5281">
</td>
        </tr>
        <tr>
          <td id="L5282" data-line-number="5282"></td>
          <td id="LC5282">	<span><span>//</span> pre-condition</span></td>
        </tr>
        <tr>
          <td id="L5283" data-line-number="5283"></td>
          <td id="LC5283">	<span>if</span> ((posStart == <span>0</span>) &amp;&amp; (posEnd == docLen - <span>1</span>))</td>
        </tr>
        <tr>
          <td id="L5284" data-line-number="5284"></td>
          <td id="LC5284">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5285" data-line-number="5285"></td>
          <td id="LC5285">
</td>
        </tr>
        <tr>
          <td id="L5286" data-line-number="5286"></td>
          <td id="LC5286">    <span>if</span> (posEnd &gt;= docLen)</td>
        </tr>
        <tr>
          <td id="L5287" data-line-number="5287"></td>
          <td id="LC5287">	{</td>
        </tr>
        <tr>
          <td id="L5288" data-line-number="5288"></td>
          <td id="LC5288">		<span>if</span> (!isWrap)</td>
        </tr>
        <tr>
          <td id="L5289" data-line-number="5289"></td>
          <td id="LC5289">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5290" data-line-number="5290"></td>
          <td id="LC5290">
</td>
        </tr>
        <tr>
          <td id="L5291" data-line-number="5291"></td>
          <td id="LC5291">		isInIndicator = _pEditView-&gt;<span>execute</span>(SCI_INDICATORVALUEAT, indicID2Search,  <span>0</span>) != <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5292" data-line-number="5292"></td>
          <td id="LC5292">		posEnd = _pEditView-&gt;<span>execute</span>(SCI_INDICATOREND, indicID2Search, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L5293" data-line-number="5293"></td>
          <td id="LC5293">	}</td>
        </tr>
        <tr>
          <td id="L5294" data-line-number="5294"></td>
          <td id="LC5294">
</td>
        </tr>
        <tr>
          <td id="L5295" data-line-number="5295"></td>
          <td id="LC5295">    <span>if</span> (isInIndicator) <span><span>//</span> try to get out of indicator</span></td>
        </tr>
        <tr>
          <td id="L5296" data-line-number="5296"></td>
          <td id="LC5296">    {</td>
        </tr>
        <tr>
          <td id="L5297" data-line-number="5297"></td>
          <td id="LC5297">        posEnd = _pEditView-&gt;<span>execute</span>(SCI_INDICATOREND, indicID2Search, posEnd);</td>
        </tr>
        <tr>
          <td id="L5298" data-line-number="5298"></td>
          <td id="LC5298">
</td>
        </tr>
        <tr>
          <td id="L5299" data-line-number="5299"></td>
          <td id="LC5299">        <span>if</span> (posEnd &gt;= docLen)</td>
        </tr>
        <tr>
          <td id="L5300" data-line-number="5300"></td>
          <td id="LC5300">		{</td>
        </tr>
        <tr>
          <td id="L5301" data-line-number="5301"></td>
          <td id="LC5301">			<span>if</span> (!isWrap)</td>
        </tr>
        <tr>
          <td id="L5302" data-line-number="5302"></td>
          <td id="LC5302">				<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5303" data-line-number="5303"></td>
          <td id="LC5303">			posEnd = _pEditView-&gt;<span>execute</span>(SCI_INDICATOREND, indicID2Search, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L5304" data-line-number="5304"></td>
          <td id="LC5304">		}</td>
        </tr>
        <tr>
          <td id="L5305" data-line-number="5305"></td>
          <td id="LC5305">    }</td>
        </tr>
        <tr>
          <td id="L5306" data-line-number="5306"></td>
          <td id="LC5306">    <span>auto</span> newPos = posEnd;</td>
        </tr>
        <tr>
          <td id="L5307" data-line-number="5307"></td>
          <td id="LC5307">    posStart = _pEditView-&gt;<span>execute</span>(SCI_INDICATORSTART, indicID2Search, newPos);</td>
        </tr>
        <tr>
          <td id="L5308" data-line-number="5308"></td>
          <td id="LC5308">    posEnd = _pEditView-&gt;<span>execute</span>(SCI_INDICATOREND, indicID2Search, newPos);</td>
        </tr>
        <tr>
          <td id="L5309" data-line-number="5309"></td>
          <td id="LC5309">
</td>
        </tr>
        <tr>
          <td id="L5310" data-line-number="5310"></td>
          <td id="LC5310">	<span><span>//</span> found</span></td>
        </tr>
        <tr>
          <td id="L5311" data-line-number="5311"></td>
          <td id="LC5311">	<span>if</span> (_pEditView-&gt;<span>execute</span>(SCI_INDICATORVALUEAT, indicID2Search, posStart))</td>
        </tr>
        <tr>
          <td id="L5312" data-line-number="5312"></td>
          <td id="LC5312">	{</td>
        </tr>
        <tr>
          <td id="L5313" data-line-number="5313"></td>
          <td id="LC5313">		NppGUI &amp; nppGUI = (<span>NppParameters::getInstance</span>()).<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L5314" data-line-number="5314"></td>
          <td id="LC5314">		nppGUI.<span>_disableSmartHiliteTmp</span> = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5315" data-line-number="5315"></td>
          <td id="LC5315">
</td>
        </tr>
        <tr>
          <td id="L5316" data-line-number="5316"></td>
          <td id="LC5316">        <span>auto</span> currentline = _pEditView-&gt;<span>execute</span>(SCI_LINEFROMPOSITION, posEnd);</td>
        </tr>
        <tr>
          <td id="L5317" data-line-number="5317"></td>
          <td id="LC5317">	    _pEditView-&gt;<span>execute</span>(SCI_ENSUREVISIBLE, currentline);	<span><span>//</span> make sure target line is unfolded</span></td>
        </tr>
        <tr>
          <td id="L5318" data-line-number="5318"></td>
          <td id="LC5318">
</td>
        </tr>
        <tr>
          <td id="L5319" data-line-number="5319"></td>
          <td id="LC5319">		_pEditView-&gt;<span>execute</span>(SCI_SETSEL, posStart, posEnd);</td>
        </tr>
        <tr>
          <td id="L5320" data-line-number="5320"></td>
          <td id="LC5320">		_pEditView-&gt;<span>execute</span>(SCI_SCROLLCARET);</td>
        </tr>
        <tr>
          <td id="L5321" data-line-number="5321"></td>
          <td id="LC5321">		<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5322" data-line-number="5322"></td>
          <td id="LC5322">	}</td>
        </tr>
        <tr>
          <td id="L5323" data-line-number="5323"></td>
          <td id="LC5323">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5324" data-line-number="5324"></td>
          <td id="LC5324">}</td>
        </tr>
        <tr>
          <td id="L5325" data-line-number="5325"></td>
          <td id="LC5325">
</td>
        </tr>
        <tr>
          <td id="L5326" data-line-number="5326"></td>
          <td id="LC5326"><span>void</span> <span>Notepad_plus::fullScreenToggle</span>()</td>
        </tr>
        <tr>
          <td id="L5327" data-line-number="5327"></td>
          <td id="LC5327">{</td>
        </tr>
        <tr>
          <td id="L5328" data-line-number="5328"></td>
          <td id="LC5328">	<span>if</span> (!_beforeSpecialView.<span>_isFullScreen</span>)	<span><span>//</span>toggle fullscreen on</span></td>
        </tr>
        <tr>
          <td id="L5329" data-line-number="5329"></td>
          <td id="LC5329">	{</td>
        </tr>
        <tr>
          <td id="L5330" data-line-number="5330"></td>
          <td id="LC5330">		_beforeSpecialView.<span>_winPlace</span>.<span>length</span> = <span>sizeof</span>(_beforeSpecialView.<span>_winPlace</span>);</td>
        </tr>
        <tr>
          <td id="L5331" data-line-number="5331"></td>
          <td id="LC5331">		<span>::GetWindowPlacement</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), &amp;_beforeSpecialView._winPlace);</td>
        </tr>
        <tr>
          <td id="L5332" data-line-number="5332"></td>
          <td id="LC5332">
</td>
        </tr>
        <tr>
          <td id="L5333" data-line-number="5333"></td>
          <td id="LC5333">		RECT fullscreenArea{};		<span><span>//</span>RECT used to calculate window fullscreen size</span></td>
        </tr>
        <tr>
          <td id="L5334" data-line-number="5334"></td>
          <td id="LC5334">		<span><span>//</span>Preset view area, in case something fails, primary monitor values</span></td>
        </tr>
        <tr>
          <td id="L5335" data-line-number="5335"></td>
          <td id="LC5335">		fullscreenArea.top = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5336" data-line-number="5336"></td>
          <td id="LC5336">		fullscreenArea.left = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5337" data-line-number="5337"></td>
          <td id="LC5337">		fullscreenArea.right = GetSystemMetrics(SM_CXSCREEN);</td>
        </tr>
        <tr>
          <td id="L5338" data-line-number="5338"></td>
          <td id="LC5338">		fullscreenArea.<span>bottom</span> = <span>GetSystemMetrics</span>(SM_CYSCREEN);</td>
        </tr>
        <tr>
          <td id="L5339" data-line-number="5339"></td>
          <td id="LC5339">
</td>
        </tr>
        <tr>
          <td id="L5340" data-line-number="5340"></td>
          <td id="LC5340">		<span><span>//</span>if (_winVersion != WV_NT)</span></td>
        </tr>
        <tr>
          <td id="L5341" data-line-number="5341"></td>
          <td id="LC5341">		{</td>
        </tr>
        <tr>
          <td id="L5342" data-line-number="5342"></td>
          <td id="LC5342">			HMONITOR currentMonitor;	<span><span>//</span>Handle to monitor where fullscreen should go</span></td>
        </tr>
        <tr>
          <td id="L5343" data-line-number="5343"></td>
          <td id="LC5343">			MONITORINFO mi{};				<span><span>//</span>Info of that monitor</span></td>
        </tr>
        <tr>
          <td id="L5344" data-line-number="5344"></td>
          <td id="LC5344">			<span><span>//</span>Caution, this will not work on windows 95, so probably add some checking of some sorts like Unicode checks, IF 95 were to be supported</span></td>
        </tr>
        <tr>
          <td id="L5345" data-line-number="5345"></td>
          <td id="LC5345">			currentMonitor = ::<span>MonitorFromWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), MONITOR_DEFAULTTONEAREST);	<span><span>//</span>should always be valid monitor handle</span></td>
        </tr>
        <tr>
          <td id="L5346" data-line-number="5346"></td>
          <td id="LC5346">			mi.<span>cbSize</span> = <span>sizeof</span>(MONITORINFO);</td>
        </tr>
        <tr>
          <td id="L5347" data-line-number="5347"></td>
          <td id="LC5347">			<span>if</span> (::<span>GetMonitorInfo</span>(currentMonitor, &amp;mi) != <span>FALSE</span>)</td>
        </tr>
        <tr>
          <td id="L5348" data-line-number="5348"></td>
          <td id="LC5348">			{</td>
        </tr>
        <tr>
          <td id="L5349" data-line-number="5349"></td>
          <td id="LC5349">				fullscreenArea = mi.<span>rcMonitor</span>;</td>
        </tr>
        <tr>
          <td id="L5350" data-line-number="5350"></td>
          <td id="LC5350">				fullscreenArea.<span>right</span> -= fullscreenArea.<span>left</span>;</td>
        </tr>
        <tr>
          <td id="L5351" data-line-number="5351"></td>
          <td id="LC5351">				fullscreenArea.<span>bottom</span> -= fullscreenArea.<span>top</span>;</td>
        </tr>
        <tr>
          <td id="L5352" data-line-number="5352"></td>
          <td id="LC5352">			}</td>
        </tr>
        <tr>
          <td id="L5353" data-line-number="5353"></td>
          <td id="LC5353">		}</td>
        </tr>
        <tr>
          <td id="L5354" data-line-number="5354"></td>
          <td id="LC5354">
</td>
        </tr>
        <tr>
          <td id="L5355" data-line-number="5355"></td>
          <td id="LC5355">		<span><span>//</span>Setup GUI</span></td>
        </tr>
        <tr>
          <td id="L5356" data-line-number="5356"></td>
          <td id="LC5356">        <span>int</span> bs = buttonStatus_fullscreen;</td>
        </tr>
        <tr>
          <td id="L5357" data-line-number="5357"></td>
          <td id="LC5357">		<span>if</span> (_beforeSpecialView.<span>_isPostIt</span>)</td>
        </tr>
        <tr>
          <td id="L5358" data-line-number="5358"></td>
          <td id="LC5358">        {</td>
        </tr>
        <tr>
          <td id="L5359" data-line-number="5359"></td>
          <td id="LC5359">            bs |= buttonStatus_postit;</td>
        </tr>
        <tr>
          <td id="L5360" data-line-number="5360"></td>
          <td id="LC5360">        }</td>
        </tr>
        <tr>
          <td id="L5361" data-line-number="5361"></td>
          <td id="LC5361">        <span>else</span></td>
        </tr>
        <tr>
          <td id="L5362" data-line-number="5362"></td>
          <td id="LC5362">		{</td>
        </tr>
        <tr>
          <td id="L5363" data-line-number="5363"></td>
          <td id="LC5363">			<span><span>//</span>only change the GUI if not already done by postit</span></td>
        </tr>
        <tr>
          <td id="L5364" data-line-number="5364"></td>
          <td id="LC5364">			_beforeSpecialView.<span>_isMenuShown</span> = ::<span>SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_ISMENUHIDDEN, <span>0</span>, <span>0</span>) != <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L5365" data-line-number="5365"></td>
          <td id="LC5365">			<span>if</span> (_beforeSpecialView.<span>_isMenuShown</span>)</td>
        </tr>
        <tr>
          <td id="L5366" data-line-number="5366"></td>
          <td id="LC5366">				<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDEMENU, 0, TRUE);</td>
        </tr>
        <tr>
          <td id="L5367" data-line-number="5367"></td>
          <td id="LC5367">
</td>
        </tr>
        <tr>
          <td id="L5368" data-line-number="5368"></td>
          <td id="LC5368">			<span><span>//</span>Hide rebar</span></td>
        </tr>
        <tr>
          <td id="L5369" data-line-number="5369"></td>
          <td id="LC5369">			_rebarTop.display(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5370" data-line-number="5370"></td>
          <td id="LC5370">			_rebarBottom.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5371" data-line-number="5371"></td>
          <td id="LC5371">		}</td>
        </tr>
        <tr>
          <td id="L5372" data-line-number="5372"></td>
          <td id="LC5372">        _restoreButton.<span>setButtonStatus</span>(bs);</td>
        </tr>
        <tr>
          <td id="L5373" data-line-number="5373"></td>
          <td id="LC5373">
</td>
        </tr>
        <tr>
          <td id="L5374" data-line-number="5374"></td>
          <td id="LC5374">		<span><span>//</span>Hide window so windows can properly update it</span></td>
        </tr>
        <tr>
          <td id="L5375" data-line-number="5375"></td>
          <td id="LC5375">		<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_HIDE);</td>
        </tr>
        <tr>
          <td id="L5376" data-line-number="5376"></td>
          <td id="LC5376">
</td>
        </tr>
        <tr>
          <td id="L5377" data-line-number="5377"></td>
          <td id="LC5377">		<span><span>//</span>Set popup style for fullscreen window and store the old style</span></td>
        </tr>
        <tr>
          <td id="L5378" data-line-number="5378"></td>
          <td id="LC5378">		<span>if</span> (!_beforeSpecialView._isPostIt)</td>
        </tr>
        <tr>
          <td id="L5379" data-line-number="5379"></td>
          <td id="LC5379">		{</td>
        </tr>
        <tr>
          <td id="L5380" data-line-number="5380"></td>
          <td id="LC5380">			_beforeSpecialView.<span>_preStyle</span> = ::<span>SetWindowLongPtr</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), GWL_STYLE, WS_POPUP);</td>
        </tr>
        <tr>
          <td id="L5381" data-line-number="5381"></td>
          <td id="LC5381">			<span>if</span> (!_beforeSpecialView.<span>_preStyle</span>)</td>
        </tr>
        <tr>
          <td id="L5382" data-line-number="5382"></td>
          <td id="LC5382">			{</td>
        </tr>
        <tr>
          <td id="L5383" data-line-number="5383"></td>
          <td id="LC5383">				<span><span>//</span>something went wrong, use default settings</span></td>
        </tr>
        <tr>
          <td id="L5384" data-line-number="5384"></td>
          <td id="LC5384">				_beforeSpecialView.<span>_preStyle</span> = WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN;</td>
        </tr>
        <tr>
          <td id="L5385" data-line-number="5385"></td>
          <td id="LC5385">			}</td>
        </tr>
        <tr>
          <td id="L5386" data-line-number="5386"></td>
          <td id="LC5386">		}</td>
        </tr>
        <tr>
          <td id="L5387" data-line-number="5387"></td>
          <td id="LC5387">
</td>
        </tr>
        <tr>
          <td id="L5388" data-line-number="5388"></td>
          <td id="LC5388">		<span><span>//</span>Set fullscreen window, highest non-top z-order, show the window and redraw it (refreshing the windowmanager cache aswell)</span></td>
        </tr>
        <tr>
          <td id="L5389" data-line-number="5389"></td>
          <td id="LC5389">		<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L5390" data-line-number="5390"></td>
          <td id="LC5390">		<span>::SetWindowPos</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), HWND_TOP, fullscreenArea.left, fullscreenArea.top, fullscreenArea.right, fullscreenArea.bottom, SWP_NOZORDER|SWP_DRAWFRAME|SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L5391" data-line-number="5391"></td>
          <td id="LC5391">		<span>::SetForegroundWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L5392" data-line-number="5392"></td>
          <td id="LC5392">
</td>
        </tr>
        <tr>
          <td id="L5393" data-line-number="5393"></td>
          <td id="LC5393">        <span><span>//</span> show restore button</span></td>
        </tr>
        <tr>
          <td id="L5394" data-line-number="5394"></td>
          <td id="LC5394">        _restoreButton.doDialog(_nativeLangSpeaker.isRTL());</td>
        </tr>
        <tr>
          <td id="L5395" data-line-number="5395"></td>
          <td id="LC5395">
</td>
        </tr>
        <tr>
          <td id="L5396" data-line-number="5396"></td>
          <td id="LC5396">        RECT rect;</td>
        </tr>
        <tr>
          <td id="L5397" data-line-number="5397"></td>
          <td id="LC5397">        <span>GetWindowRect</span>(_restoreButton.getHSelf(), &amp;rect);</td>
        </tr>
        <tr>
          <td id="L5398" data-line-number="5398"></td>
          <td id="LC5398">	    <span>int</span> w = rect.right - rect.left;</td>
        </tr>
        <tr>
          <td id="L5399" data-line-number="5399"></td>
          <td id="LC5399">	    <span>int</span> h = rect.bottom - rect.top;</td>
        </tr>
        <tr>
          <td id="L5400" data-line-number="5400"></td>
          <td id="LC5400">
</td>
        </tr>
        <tr>
          <td id="L5401" data-line-number="5401"></td>
          <td id="LC5401">        RECT nppRect;</td>
        </tr>
        <tr>
          <td id="L5402" data-line-number="5402"></td>
          <td id="LC5402">        <span>GetWindowRect</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), &amp;nppRect);</td>
        </tr>
        <tr>
          <td id="L5403" data-line-number="5403"></td>
          <td id="LC5403">        <span>int</span> x = nppRect.right - w;</td>
        </tr>
        <tr>
          <td id="L5404" data-line-number="5404"></td>
          <td id="LC5404">        <span>int</span> y = nppRect.top;</td>
        </tr>
        <tr>
          <td id="L5405" data-line-number="5405"></td>
          <td id="LC5405">        <span>::MoveWindow</span>(_restoreButton.getHSelf(), x, y, w, h, FALSE);</td>
        </tr>
        <tr>
          <td id="L5406" data-line-number="5406"></td>
          <td id="LC5406">
</td>
        </tr>
        <tr>
          <td id="L5407" data-line-number="5407"></td>
          <td id="LC5407">        _pEditView-&gt;<span>getFocus</span>();</td>
        </tr>
        <tr>
          <td id="L5408" data-line-number="5408"></td>
          <td id="LC5408">	}</td>
        </tr>
        <tr>
          <td id="L5409" data-line-number="5409"></td>
          <td id="LC5409">	<span>else</span>	<span><span>//</span>toggle fullscreen off</span></td>
        </tr>
        <tr>
          <td id="L5410" data-line-number="5410"></td>
          <td id="LC5410">	{</td>
        </tr>
        <tr>
          <td id="L5411" data-line-number="5411"></td>
          <td id="LC5411">		<span><span>//</span>Hide window for updating, restore style and menu then restore position and Z-Order</span></td>
        </tr>
        <tr>
          <td id="L5412" data-line-number="5412"></td>
          <td id="LC5412">		<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_HIDE);</td>
        </tr>
        <tr>
          <td id="L5413" data-line-number="5413"></td>
          <td id="LC5413">
</td>
        </tr>
        <tr>
          <td id="L5414" data-line-number="5414"></td>
          <td id="LC5414">        _restoreButton.setButtonStatus(buttonStatus_fullscreen ^ _restoreButton.getButtonStatus());</td>
        </tr>
        <tr>
          <td id="L5415" data-line-number="5415"></td>
          <td id="LC5415">        _restoreButton.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5416" data-line-number="5416"></td>
          <td id="LC5416">
</td>
        </tr>
        <tr>
          <td id="L5417" data-line-number="5417"></td>
          <td id="LC5417">		<span><span>//</span>Setup GUI</span></td>
        </tr>
        <tr>
          <td id="L5418" data-line-number="5418"></td>
          <td id="LC5418">		<span>if</span> (!_beforeSpecialView.<span>_isPostIt</span>)</td>
        </tr>
        <tr>
          <td id="L5419" data-line-number="5419"></td>
          <td id="LC5419">		{</td>
        </tr>
        <tr>
          <td id="L5420" data-line-number="5420"></td>
          <td id="LC5420">			<span><span>//</span>only change the GUI if postit isnt active</span></td>
        </tr>
        <tr>
          <td id="L5421" data-line-number="5421"></td>
          <td id="LC5421">			<span>if</span> (_beforeSpecialView.<span>_isMenuShown</span>)</td>
        </tr>
        <tr>
          <td id="L5422" data-line-number="5422"></td>
          <td id="LC5422">				<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDEMENU, 0, FALSE);</td>
        </tr>
        <tr>
          <td id="L5423" data-line-number="5423"></td>
          <td id="LC5423">
</td>
        </tr>
        <tr>
          <td id="L5424" data-line-number="5424"></td>
          <td id="LC5424">			<span><span>//</span>Show rebar</span></td>
        </tr>
        <tr>
          <td id="L5425" data-line-number="5425"></td>
          <td id="LC5425">			_rebarTop.display(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L5426" data-line-number="5426"></td>
          <td id="LC5426">			_rebarBottom.<span>display</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L5427" data-line-number="5427"></td>
          <td id="LC5427">		}</td>
        </tr>
        <tr>
          <td id="L5428" data-line-number="5428"></td>
          <td id="LC5428">
</td>
        </tr>
        <tr>
          <td id="L5429" data-line-number="5429"></td>
          <td id="LC5429">		<span><span>//</span>Set old style if not fullscreen</span></td>
        </tr>
        <tr>
          <td id="L5430" data-line-number="5430"></td>
          <td id="LC5430">		<span>if</span> (!_beforeSpecialView.<span>_isPostIt</span>)</td>
        </tr>
        <tr>
          <td id="L5431" data-line-number="5431"></td>
          <td id="LC5431">		{</td>
        </tr>
        <tr>
          <td id="L5432" data-line-number="5432"></td>
          <td id="LC5432">			<span>::SetWindowLongPtr</span>( _pPublicInterface-&gt;<span>getHSelf</span>(), GWL_STYLE, _beforeSpecialView._preStyle);</td>
        </tr>
        <tr>
          <td id="L5433" data-line-number="5433"></td>
          <td id="LC5433">			<span><span>//</span>Redraw the window and refresh windowmanager cache, dont do anything else, sizing is done later on</span></td>
        </tr>
        <tr>
          <td id="L5434" data-line-number="5434"></td>
          <td id="LC5434">			<span>::SetWindowPos</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), HWND_TOP,0,0,0,0,SWP_NOMOVE|SWP_NOSIZE|SWP_NOZORDER|SWP_DRAWFRAME|SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L5435" data-line-number="5435"></td>
          <td id="LC5435">			<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L5436" data-line-number="5436"></td>
          <td id="LC5436">		}</td>
        </tr>
        <tr>
          <td id="L5437" data-line-number="5437"></td>
          <td id="LC5437">
</td>
        </tr>
        <tr>
          <td id="L5438" data-line-number="5438"></td>
          <td id="LC5438">		<span>if</span> (_beforeSpecialView._winPlace.length)</td>
        </tr>
        <tr>
          <td id="L5439" data-line-number="5439"></td>
          <td id="LC5439">		{</td>
        </tr>
        <tr>
          <td id="L5440" data-line-number="5440"></td>
          <td id="LC5440">			<span>if</span> (_beforeSpecialView.<span>_winPlace</span>.<span>showCmd</span> == SW_SHOWMAXIMIZED)</td>
        </tr>
        <tr>
          <td id="L5441" data-line-number="5441"></td>
          <td id="LC5441">			{</td>
        </tr>
        <tr>
          <td id="L5442" data-line-number="5442"></td>
          <td id="LC5442">				<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOWMAXIMIZED);</td>
        </tr>
        <tr>
          <td id="L5443" data-line-number="5443"></td>
          <td id="LC5443">			}</td>
        </tr>
        <tr>
          <td id="L5444" data-line-number="5444"></td>
          <td id="LC5444">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L5445" data-line-number="5445"></td>
          <td id="LC5445">			{</td>
        </tr>
        <tr>
          <td id="L5446" data-line-number="5446"></td>
          <td id="LC5446">				<span>::SetWindowPlacement</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), &amp;_beforeSpecialView._winPlace);</td>
        </tr>
        <tr>
          <td id="L5447" data-line-number="5447"></td>
          <td id="LC5447">			}</td>
        </tr>
        <tr>
          <td id="L5448" data-line-number="5448"></td>
          <td id="LC5448">		}</td>
        </tr>
        <tr>
          <td id="L5449" data-line-number="5449"></td>
          <td id="LC5449">		<span>else</span>	<span><span>//</span>fallback</span></td>
        </tr>
        <tr>
          <td id="L5450" data-line-number="5450"></td>
          <td id="LC5450">		{</td>
        </tr>
        <tr>
          <td id="L5451" data-line-number="5451"></td>
          <td id="LC5451">			<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L5452" data-line-number="5452"></td>
          <td id="LC5452">		}</td>
        </tr>
        <tr>
          <td id="L5453" data-line-number="5453"></td>
          <td id="LC5453">	}</td>
        </tr>
        <tr>
          <td id="L5454" data-line-number="5454"></td>
          <td id="LC5454">	<span><span>//</span>::SetForegroundWindow(_pPublicInterface-&gt;getHSelf());</span></td>
        </tr>
        <tr>
          <td id="L5455" data-line-number="5455"></td>
          <td id="LC5455">	_beforeSpecialView._isFullScreen = !_beforeSpecialView._isFullScreen;</td>
        </tr>
        <tr>
          <td id="L5456" data-line-number="5456"></td>
          <td id="LC5456">	<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L5457" data-line-number="5457"></td>
          <td id="LC5457">    <span>if</span> (_beforeSpecialView._isPostIt)</td>
        </tr>
        <tr>
          <td id="L5458" data-line-number="5458"></td>
          <td id="LC5458">    {</td>
        </tr>
        <tr>
          <td id="L5459" data-line-number="5459"></td>
          <td id="LC5459">        <span><span>//</span> show restore button on the right position</span></td>
        </tr>
        <tr>
          <td id="L5460" data-line-number="5460"></td>
          <td id="LC5460">        RECT rect;</td>
        </tr>
        <tr>
          <td id="L5461" data-line-number="5461"></td>
          <td id="LC5461">        <span>GetWindowRect</span>(_restoreButton.<span>getHSelf</span>(), &amp;rect);</td>
        </tr>
        <tr>
          <td id="L5462" data-line-number="5462"></td>
          <td id="LC5462">        <span>int</span> w = rect.<span>right</span> - rect.<span>left</span>;</td>
        </tr>
        <tr>
          <td id="L5463" data-line-number="5463"></td>
          <td id="LC5463">        <span>int</span> h = rect.<span>bottom</span> - rect.<span>top</span>;</td>
        </tr>
        <tr>
          <td id="L5464" data-line-number="5464"></td>
          <td id="LC5464">
</td>
        </tr>
        <tr>
          <td id="L5465" data-line-number="5465"></td>
          <td id="LC5465">        RECT nppRect;</td>
        </tr>
        <tr>
          <td id="L5466" data-line-number="5466"></td>
          <td id="LC5466">        <span>GetWindowRect</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), &amp;nppRect);</td>
        </tr>
        <tr>
          <td id="L5467" data-line-number="5467"></td>
          <td id="LC5467">        <span>int</span> x = nppRect.<span>right</span> - w - w;</td>
        </tr>
        <tr>
          <td id="L5468" data-line-number="5468"></td>
          <td id="LC5468">        <span>int</span> y = nppRect.<span>top</span> + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L5469" data-line-number="5469"></td>
          <td id="LC5469">        <span>::MoveWindow</span>(_restoreButton.getHSelf(), x, y, w, h, FALSE);</td>
        </tr>
        <tr>
          <td id="L5470" data-line-number="5470"></td>
          <td id="LC5470">    }</td>
        </tr>
        <tr>
          <td id="L5471" data-line-number="5471"></td>
          <td id="LC5471">}</td>
        </tr>
        <tr>
          <td id="L5472" data-line-number="5472"></td>
          <td id="LC5472">
</td>
        </tr>
        <tr>
          <td id="L5473" data-line-number="5473"></td>
          <td id="LC5473"><span>void</span> <span>Notepad_plus::postItToggle</span>()</td>
        </tr>
        <tr>
          <td id="L5474" data-line-number="5474"></td>
          <td id="LC5474">{</td>
        </tr>
        <tr>
          <td id="L5475" data-line-number="5475"></td>
          <td id="LC5475">	<span>if</span> (!_beforeSpecialView.<span>_isPostIt</span>)	<span><span>//</span> PostIt disabled, enable it</span></td>
        </tr>
        <tr>
          <td id="L5476" data-line-number="5476"></td>
          <td id="LC5476">	{</td>
        </tr>
        <tr>
          <td id="L5477" data-line-number="5477"></td>
          <td id="LC5477">		NppGUI &amp; nppGUI = <span>NppParameters::getInstance</span>().<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L5478" data-line-number="5478"></td>
          <td id="LC5478">		<span><span>//</span> get current status before switch to postIt</span></td>
        </tr>
        <tr>
          <td id="L5479" data-line-number="5479"></td>
          <td id="LC5479">		<span><span>//</span>check these always</span></td>
        </tr>
        <tr>
          <td id="L5480" data-line-number="5480"></td>
          <td id="LC5480">		{</td>
        </tr>
        <tr>
          <td id="L5481" data-line-number="5481"></td>
          <td id="LC5481">			_beforeSpecialView.<span>_isAlwaysOnTop</span> = ::<span>GetMenuState</span>(_mainMenuHandle, IDM_VIEW_ALWAYSONTOP, MF_BYCOMMAND) == MF_CHECKED;</td>
        </tr>
        <tr>
          <td id="L5482" data-line-number="5482"></td>
          <td id="LC5482">			_beforeSpecialView.<span>_isTabbarShown</span> = ::<span>SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_ISTABBARHIDDEN, <span>0</span>, <span>0</span>) != <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L5483" data-line-number="5483"></td>
          <td id="LC5483">			_beforeSpecialView.<span>_isStatusbarShown</span> = nppGUI.<span>_statusBarShow</span>;</td>
        </tr>
        <tr>
          <td id="L5484" data-line-number="5484"></td>
          <td id="LC5484">			<span>if</span> (nppGUI.<span>_statusBarShow</span>)</td>
        </tr>
        <tr>
          <td id="L5485" data-line-number="5485"></td>
          <td id="LC5485">				<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDESTATUSBAR, 0, TRUE);</td>
        </tr>
        <tr>
          <td id="L5486" data-line-number="5486"></td>
          <td id="LC5486">			<span>if</span> (_beforeSpecialView._isTabbarShown)</td>
        </tr>
        <tr>
          <td id="L5487" data-line-number="5487"></td>
          <td id="LC5487">				::SendMessage(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDETABBAR, 0, TRUE);</td>
        </tr>
        <tr>
          <td id="L5488" data-line-number="5488"></td>
          <td id="LC5488">			<span>if</span> (!_beforeSpecialView._isAlwaysOnTop)</td>
        </tr>
        <tr>
          <td id="L5489" data-line-number="5489"></td>
          <td id="LC5489">				::SendMessage(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_COMMAND, IDM_VIEW_ALWAYSONTOP, 0);</td>
        </tr>
        <tr>
          <td id="L5490" data-line-number="5490"></td>
          <td id="LC5490">		}</td>
        </tr>
        <tr>
          <td id="L5491" data-line-number="5491"></td>
          <td id="LC5491">		<span><span>//</span>Only check these if not fullscreen</span></td>
        </tr>
        <tr>
          <td id="L5492" data-line-number="5492"></td>
          <td id="LC5492">        <span>int</span> bs = buttonStatus_postit;</td>
        </tr>
        <tr>
          <td id="L5493" data-line-number="5493"></td>
          <td id="LC5493">		<span>if</span> (_beforeSpecialView._isFullScreen)</td>
        </tr>
        <tr>
          <td id="L5494" data-line-number="5494"></td>
          <td id="LC5494">        {</td>
        </tr>
        <tr>
          <td id="L5495" data-line-number="5495"></td>
          <td id="LC5495">            bs |= buttonStatus_fullscreen;</td>
        </tr>
        <tr>
          <td id="L5496" data-line-number="5496"></td>
          <td id="LC5496">        }</td>
        </tr>
        <tr>
          <td id="L5497" data-line-number="5497"></td>
          <td id="LC5497">        <span>else</span></td>
        </tr>
        <tr>
          <td id="L5498" data-line-number="5498"></td>
          <td id="LC5498">		{</td>
        </tr>
        <tr>
          <td id="L5499" data-line-number="5499"></td>
          <td id="LC5499">			_beforeSpecialView.<span>_isMenuShown</span> = ::<span>SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_ISMENUHIDDEN, <span>0</span>, <span>0</span>) != <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L5500" data-line-number="5500"></td>
          <td id="LC5500">			<span>if</span> (_beforeSpecialView.<span>_isMenuShown</span>)</td>
        </tr>
        <tr>
          <td id="L5501" data-line-number="5501"></td>
          <td id="LC5501">				<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDEMENU, 0, TRUE);</td>
        </tr>
        <tr>
          <td id="L5502" data-line-number="5502"></td>
          <td id="LC5502">
</td>
        </tr>
        <tr>
          <td id="L5503" data-line-number="5503"></td>
          <td id="LC5503">			<span><span>//</span>Hide rebar</span></td>
        </tr>
        <tr>
          <td id="L5504" data-line-number="5504"></td>
          <td id="LC5504">			_rebarTop.display(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5505" data-line-number="5505"></td>
          <td id="LC5505">			_rebarBottom.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5506" data-line-number="5506"></td>
          <td id="LC5506">		}</td>
        </tr>
        <tr>
          <td id="L5507" data-line-number="5507"></td>
          <td id="LC5507">        _restoreButton.<span>setButtonStatus</span>(bs);</td>
        </tr>
        <tr>
          <td id="L5508" data-line-number="5508"></td>
          <td id="LC5508">
</td>
        </tr>
        <tr>
          <td id="L5509" data-line-number="5509"></td>
          <td id="LC5509">		<span><span>//</span> PostIt!</span></td>
        </tr>
        <tr>
          <td id="L5510" data-line-number="5510"></td>
          <td id="LC5510">
</td>
        </tr>
        <tr>
          <td id="L5511" data-line-number="5511"></td>
          <td id="LC5511">		<span><span>//</span>Set popup style for fullscreen window and store the old style</span></td>
        </tr>
        <tr>
          <td id="L5512" data-line-number="5512"></td>
          <td id="LC5512">		<span>if</span> (!_beforeSpecialView.<span>_isFullScreen</span>)</td>
        </tr>
        <tr>
          <td id="L5513" data-line-number="5513"></td>
          <td id="LC5513">		{</td>
        </tr>
        <tr>
          <td id="L5514" data-line-number="5514"></td>
          <td id="LC5514">			<span><span>//</span>Hide window so windows can properly update it</span></td>
        </tr>
        <tr>
          <td id="L5515" data-line-number="5515"></td>
          <td id="LC5515">			<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_HIDE);</td>
        </tr>
        <tr>
          <td id="L5516" data-line-number="5516"></td>
          <td id="LC5516">			_beforeSpecialView._preStyle = ::SetWindowLongPtr( _pPublicInterface-&gt;<span>getHSelf</span>(), GWL_STYLE, WS_POPUP );</td>
        </tr>
        <tr>
          <td id="L5517" data-line-number="5517"></td>
          <td id="LC5517">			<span>if</span> (!_beforeSpecialView._preStyle)</td>
        </tr>
        <tr>
          <td id="L5518" data-line-number="5518"></td>
          <td id="LC5518">			{</td>
        </tr>
        <tr>
          <td id="L5519" data-line-number="5519"></td>
          <td id="LC5519">				<span><span>//</span>something went wrong, use default settings</span></td>
        </tr>
        <tr>
          <td id="L5520" data-line-number="5520"></td>
          <td id="LC5520">				_beforeSpecialView.<span>_preStyle</span> = WS_OVERLAPPEDWINDOW | WS_CLIPCHILDREN;</td>
        </tr>
        <tr>
          <td id="L5521" data-line-number="5521"></td>
          <td id="LC5521">			}</td>
        </tr>
        <tr>
          <td id="L5522" data-line-number="5522"></td>
          <td id="LC5522">			<span><span>//</span>Redraw the window and refresh windowmanager cache, dont do anything else, sizing is done later on</span></td>
        </tr>
        <tr>
          <td id="L5523" data-line-number="5523"></td>
          <td id="LC5523">			<span>::SetWindowPos</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), HWND_TOPMOST,0,0,0,0,SWP_NOMOVE|SWP_NOSIZE|SWP_NOZORDER|SWP_DRAWFRAME|SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L5524" data-line-number="5524"></td>
          <td id="LC5524">			<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L5525" data-line-number="5525"></td>
          <td id="LC5525">		}</td>
        </tr>
        <tr>
          <td id="L5526" data-line-number="5526"></td>
          <td id="LC5526">
</td>
        </tr>
        <tr>
          <td id="L5527" data-line-number="5527"></td>
          <td id="LC5527">        <span><span>//</span> show restore button</span></td>
        </tr>
        <tr>
          <td id="L5528" data-line-number="5528"></td>
          <td id="LC5528">        _restoreButton.doDialog(_nativeLangSpeaker.isRTL());</td>
        </tr>
        <tr>
          <td id="L5529" data-line-number="5529"></td>
          <td id="LC5529">
</td>
        </tr>
        <tr>
          <td id="L5530" data-line-number="5530"></td>
          <td id="LC5530">        RECT rect;</td>
        </tr>
        <tr>
          <td id="L5531" data-line-number="5531"></td>
          <td id="LC5531">        <span>GetWindowRect</span>(_restoreButton.getHSelf(), &amp;rect);</td>
        </tr>
        <tr>
          <td id="L5532" data-line-number="5532"></td>
          <td id="LC5532">	    <span>int</span> w = rect.right - rect.left;</td>
        </tr>
        <tr>
          <td id="L5533" data-line-number="5533"></td>
          <td id="LC5533">	    <span>int</span> h = rect.bottom - rect.top;</td>
        </tr>
        <tr>
          <td id="L5534" data-line-number="5534"></td>
          <td id="LC5534">
</td>
        </tr>
        <tr>
          <td id="L5535" data-line-number="5535"></td>
          <td id="LC5535">        RECT nppRect;</td>
        </tr>
        <tr>
          <td id="L5536" data-line-number="5536"></td>
          <td id="LC5536">        <span>GetWindowRect</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), &amp;nppRect);</td>
        </tr>
        <tr>
          <td id="L5537" data-line-number="5537"></td>
          <td id="LC5537">        <span>int</span> x = nppRect.right - w - w;</td>
        </tr>
        <tr>
          <td id="L5538" data-line-number="5538"></td>
          <td id="LC5538">        <span>int</span> y = nppRect.top + <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L5539" data-line-number="5539"></td>
          <td id="LC5539">        <span>::MoveWindow</span>(_restoreButton.getHSelf(), x, y, w, h, FALSE);</td>
        </tr>
        <tr>
          <td id="L5540" data-line-number="5540"></td>
          <td id="LC5540">
</td>
        </tr>
        <tr>
          <td id="L5541" data-line-number="5541"></td>
          <td id="LC5541">        _pEditView-&gt;<span>getFocus</span>();</td>
        </tr>
        <tr>
          <td id="L5542" data-line-number="5542"></td>
          <td id="LC5542">	}</td>
        </tr>
        <tr>
          <td id="L5543" data-line-number="5543"></td>
          <td id="LC5543">	<span>else</span>	<span><span>//</span>PostIt enabled, disable it</span></td>
        </tr>
        <tr>
          <td id="L5544" data-line-number="5544"></td>
          <td id="LC5544">	{</td>
        </tr>
        <tr>
          <td id="L5545" data-line-number="5545"></td>
          <td id="LC5545">        _restoreButton.<span>setButtonStatus</span>(buttonStatus_postit ^ _restoreButton.<span>getButtonStatus</span>());</td>
        </tr>
        <tr>
          <td id="L5546" data-line-number="5546"></td>
          <td id="LC5546">        _restoreButton.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5547" data-line-number="5547"></td>
          <td id="LC5547">
</td>
        </tr>
        <tr>
          <td id="L5548" data-line-number="5548"></td>
          <td id="LC5548">		<span><span>//</span>Setup GUI</span></td>
        </tr>
        <tr>
          <td id="L5549" data-line-number="5549"></td>
          <td id="LC5549">		<span>if</span> (!_beforeSpecialView.<span>_isFullScreen</span>)</td>
        </tr>
        <tr>
          <td id="L5550" data-line-number="5550"></td>
          <td id="LC5550">		{</td>
        </tr>
        <tr>
          <td id="L5551" data-line-number="5551"></td>
          <td id="LC5551">			<span><span>//</span>only change the these parts of GUI if not already done by fullscreen</span></td>
        </tr>
        <tr>
          <td id="L5552" data-line-number="5552"></td>
          <td id="LC5552">			<span>if</span> (_beforeSpecialView.<span>_isMenuShown</span>)</td>
        </tr>
        <tr>
          <td id="L5553" data-line-number="5553"></td>
          <td id="LC5553">				<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDEMENU, 0, FALSE);</td>
        </tr>
        <tr>
          <td id="L5554" data-line-number="5554"></td>
          <td id="LC5554">
</td>
        </tr>
        <tr>
          <td id="L5555" data-line-number="5555"></td>
          <td id="LC5555">			<span><span>//</span>Show rebar</span></td>
        </tr>
        <tr>
          <td id="L5556" data-line-number="5556"></td>
          <td id="LC5556">			_rebarTop.display(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L5557" data-line-number="5557"></td>
          <td id="LC5557">			_rebarBottom.<span>display</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L5558" data-line-number="5558"></td>
          <td id="LC5558">		}</td>
        </tr>
        <tr>
          <td id="L5559" data-line-number="5559"></td>
          <td id="LC5559">		<span><span>//</span>Do this GUI config always</span></td>
        </tr>
        <tr>
          <td id="L5560" data-line-number="5560"></td>
          <td id="LC5560">		<span>if</span> (_beforeSpecialView.<span>_isStatusbarShown</span>)</td>
        </tr>
        <tr>
          <td id="L5561" data-line-number="5561"></td>
          <td id="LC5561">			<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDESTATUSBAR, 0, FALSE);</td>
        </tr>
        <tr>
          <td id="L5562" data-line-number="5562"></td>
          <td id="LC5562">		<span>if</span> (_beforeSpecialView._isTabbarShown)</td>
        </tr>
        <tr>
          <td id="L5563" data-line-number="5563"></td>
          <td id="LC5563">			::SendMessage(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_HIDETABBAR, 0, FALSE);</td>
        </tr>
        <tr>
          <td id="L5564" data-line-number="5564"></td>
          <td id="LC5564">		<span>if</span> (!_beforeSpecialView._isAlwaysOnTop)</td>
        </tr>
        <tr>
          <td id="L5565" data-line-number="5565"></td>
          <td id="LC5565">			::SendMessage(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_COMMAND, IDM_VIEW_ALWAYSONTOP, 0);</td>
        </tr>
        <tr>
          <td id="L5566" data-line-number="5566"></td>
          <td id="LC5566">
</td>
        </tr>
        <tr>
          <td id="L5567" data-line-number="5567"></td>
          <td id="LC5567">		<span><span>//</span>restore window style if not fullscreen</span></td>
        </tr>
        <tr>
          <td id="L5568" data-line-number="5568"></td>
          <td id="LC5568">		<span>if</span> (!_beforeSpecialView._isFullScreen)</td>
        </tr>
        <tr>
          <td id="L5569" data-line-number="5569"></td>
          <td id="LC5569">		{</td>
        </tr>
        <tr>
          <td id="L5570" data-line-number="5570"></td>
          <td id="LC5570">			<span><span>//</span>dwStyle |= (WS_CAPTION | WS_SIZEBOX);</span></td>
        </tr>
        <tr>
          <td id="L5571" data-line-number="5571"></td>
          <td id="LC5571">			<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_HIDE);</td>
        </tr>
        <tr>
          <td id="L5572" data-line-number="5572"></td>
          <td id="LC5572">			<span>::SetWindowLongPtr</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), GWL_STYLE, _beforeSpecialView._preStyle);</td>
        </tr>
        <tr>
          <td id="L5573" data-line-number="5573"></td>
          <td id="LC5573">
</td>
        </tr>
        <tr>
          <td id="L5574" data-line-number="5574"></td>
          <td id="LC5574">			<span><span>//</span>Redraw the window and refresh windowmanager cache, dont do anything else, sizing is done later on</span></td>
        </tr>
        <tr>
          <td id="L5575" data-line-number="5575"></td>
          <td id="LC5575">			<span>::SetWindowPos</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), HWND_NOTOPMOST,0,0,0,0,SWP_NOMOVE|SWP_NOSIZE|SWP_NOZORDER|SWP_DRAWFRAME|SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L5576" data-line-number="5576"></td>
          <td id="LC5576">			<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L5577" data-line-number="5577"></td>
          <td id="LC5577">		}</td>
        </tr>
        <tr>
          <td id="L5578" data-line-number="5578"></td>
          <td id="LC5578">	}</td>
        </tr>
        <tr>
          <td id="L5579" data-line-number="5579"></td>
          <td id="LC5579">
</td>
        </tr>
        <tr>
          <td id="L5580" data-line-number="5580"></td>
          <td id="LC5580">	_beforeSpecialView._isPostIt = !_beforeSpecialView._isPostIt;</td>
        </tr>
        <tr>
          <td id="L5581" data-line-number="5581"></td>
          <td id="LC5581">	<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_SIZE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L5582" data-line-number="5582"></td>
          <td id="LC5582">}</td>
        </tr>
        <tr>
          <td id="L5583" data-line-number="5583"></td>
          <td id="LC5583">
</td>
        </tr>
        <tr>
          <td id="L5584" data-line-number="5584"></td>
          <td id="LC5584"><span><span>//</span> Distraction Free mode uses full screen mode + post-it mode + setting padding on the both left &amp; right sides.</span></td>
        </tr>
        <tr>
          <td id="L5585" data-line-number="5585"></td>
          <td id="LC5585"><span><span>//</span> In order to keep the coherence of data, when full screen mode or (and) post-it mode is (are) active,</span></td>
        </tr>
        <tr>
          <td id="L5586" data-line-number="5586"></td>
          <td id="LC5586"><span><span>//</span> Distraction Free mode should be innaccible, and vice versa.</span></td>
        </tr>
        <tr>
          <td id="L5587" data-line-number="5587"></td>
          <td id="LC5587"><span>void</span> <span>Notepad_plus::distractionFreeToggle</span>()</td>
        </tr>
        <tr>
          <td id="L5588" data-line-number="5588"></td>
          <td id="LC5588">{</td>
        </tr>
        <tr>
          <td id="L5589" data-line-number="5589"></td>
          <td id="LC5589">	<span><span>//</span> Toggle Distraction Free Mode</span></td>
        </tr>
        <tr>
          <td id="L5590" data-line-number="5590"></td>
          <td id="LC5590">	<span>fullScreenToggle</span>();</td>
        </tr>
        <tr>
          <td id="L5591" data-line-number="5591"></td>
          <td id="LC5591">	<span>postItToggle</span>();</td>
        </tr>
        <tr>
          <td id="L5592" data-line-number="5592"></td>
          <td id="LC5592">
</td>
        </tr>
        <tr>
          <td id="L5593" data-line-number="5593"></td>
          <td id="LC5593">	<span><span>//</span> Get padding info</span></td>
        </tr>
        <tr>
          <td id="L5594" data-line-number="5594"></td>
          <td id="LC5594">	<span>const</span> ScintillaViewParams&amp; svp = <span>NppParameters::getInstance</span>().<span>getSVP</span>();</td>
        </tr>
        <tr>
          <td id="L5595" data-line-number="5595"></td>
          <td id="LC5595">	<span>int</span> paddingLeft = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5596" data-line-number="5596"></td>
          <td id="LC5596">	<span>int</span> paddingRight = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5597" data-line-number="5597"></td>
          <td id="LC5597">	</td>
        </tr>
        <tr>
          <td id="L5598" data-line-number="5598"></td>
          <td id="LC5598">
</td>
        </tr>
        <tr>
          <td id="L5599" data-line-number="5599"></td>
          <td id="LC5599">	<span><span>//</span> Enable or disable Distraction Free Mode</span></td>
        </tr>
        <tr>
          <td id="L5600" data-line-number="5600"></td>
          <td id="LC5600">	<span>if</span> (_beforeSpecialView.<span>_isDistractionFree</span>) <span><span>//</span> disable it</span></td>
        </tr>
        <tr>
          <td id="L5601" data-line-number="5601"></td>
          <td id="LC5601">	{</td>
        </tr>
        <tr>
          <td id="L5602" data-line-number="5602"></td>
          <td id="LC5602">		<span><span>//</span> restore another view if 2 views mode was on</span></td>
        </tr>
        <tr>
          <td id="L5603" data-line-number="5603"></td>
          <td id="LC5603">		<span>if</span> (_beforeSpecialView.<span>_was2ViewModeOn</span>)</td>
        </tr>
        <tr>
          <td id="L5604" data-line-number="5604"></td>
          <td id="LC5604">		{</td>
        </tr>
        <tr>
          <td id="L5605" data-line-number="5605"></td>
          <td id="LC5605">			<span>showView</span>(<span>otherView</span>());</td>
        </tr>
        <tr>
          <td id="L5606" data-line-number="5606"></td>
          <td id="LC5606">			_beforeSpecialView.<span>_was2ViewModeOn</span> = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5607" data-line-number="5607"></td>
          <td id="LC5607">		}</td>
        </tr>
        <tr>
          <td id="L5608" data-line-number="5608"></td>
          <td id="LC5608">
</td>
        </tr>
        <tr>
          <td id="L5609" data-line-number="5609"></td>
          <td id="LC5609">		<span><span>//</span> restore dockable panels</span></td>
        </tr>
        <tr>
          <td id="L5610" data-line-number="5610"></td>
          <td id="LC5610">		<span>for</span> (<span>auto</span> i : _beforeSpecialView.<span>_pVisibleDockingContainers</span>)</td>
        </tr>
        <tr>
          <td id="L5611" data-line-number="5611"></td>
          <td id="LC5611">		{</td>
        </tr>
        <tr>
          <td id="L5612" data-line-number="5612"></td>
          <td id="LC5612">			i-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L5613" data-line-number="5613"></td>
          <td id="LC5613">		}</td>
        </tr>
        <tr>
          <td id="L5614" data-line-number="5614"></td>
          <td id="LC5614">		_dockingManager.<span>resize</span>();</td>
        </tr>
        <tr>
          <td id="L5615" data-line-number="5615"></td>
          <td id="LC5615">
</td>
        </tr>
        <tr>
          <td id="L5616" data-line-number="5616"></td>
          <td id="LC5616">		<span><span>//</span> restore padding</span></td>
        </tr>
        <tr>
          <td id="L5617" data-line-number="5617"></td>
          <td id="LC5617">		paddingLeft = svp.<span>_paddingLeft</span>;</td>
        </tr>
        <tr>
          <td id="L5618" data-line-number="5618"></td>
          <td id="LC5618">		paddingRight = svp.<span>_paddingRight</span>;</td>
        </tr>
        <tr>
          <td id="L5619" data-line-number="5619"></td>
          <td id="LC5619">
</td>
        </tr>
        <tr>
          <td id="L5620" data-line-number="5620"></td>
          <td id="LC5620">		<span><span>//</span> hide restore button</span></td>
        </tr>
        <tr>
          <td id="L5621" data-line-number="5621"></td>
          <td id="LC5621">		_restoreButton.<span>setButtonStatus</span>(<span>0</span>);</td>
        </tr>
        <tr>
          <td id="L5622" data-line-number="5622"></td>
          <td id="LC5622">		_restoreButton.<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5623" data-line-number="5623"></td>
          <td id="LC5623">	}</td>
        </tr>
        <tr>
          <td id="L5624" data-line-number="5624"></td>
          <td id="LC5624">	<span>else</span> <span><span>//</span> enable it</span></td>
        </tr>
        <tr>
          <td id="L5625" data-line-number="5625"></td>
          <td id="LC5625">	{</td>
        </tr>
        <tr>
          <td id="L5626" data-line-number="5626"></td>
          <td id="LC5626">		<span><span>//</span> check if 2 views mode is on</span></td>
        </tr>
        <tr>
          <td id="L5627" data-line-number="5627"></td>
          <td id="LC5627">		ScintillaEditView &amp; nonFocusedView = (<span>otherView</span>() == MAIN_VIEW) ? _mainEditView : _subEditView;</td>
        </tr>
        <tr>
          <td id="L5628" data-line-number="5628"></td>
          <td id="LC5628">		<span>if</span> (nonFocusedView.<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L5629" data-line-number="5629"></td>
          <td id="LC5629">		{</td>
        </tr>
        <tr>
          <td id="L5630" data-line-number="5630"></td>
          <td id="LC5630">			<span>hideView</span>(<span>otherView</span>());</td>
        </tr>
        <tr>
          <td id="L5631" data-line-number="5631"></td>
          <td id="LC5631">			_beforeSpecialView.<span>_was2ViewModeOn</span> = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5632" data-line-number="5632"></td>
          <td id="LC5632">		}</td>
        </tr>
        <tr>
          <td id="L5633" data-line-number="5633"></td>
          <td id="LC5633">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L5634" data-line-number="5634"></td>
          <td id="LC5634">		{</td>
        </tr>
        <tr>
          <td id="L5635" data-line-number="5635"></td>
          <td id="LC5635">			_beforeSpecialView.<span>_was2ViewModeOn</span> = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5636" data-line-number="5636"></td>
          <td id="LC5636">		}</td>
        </tr>
        <tr>
          <td id="L5637" data-line-number="5637"></td>
          <td id="LC5637">
</td>
        </tr>
        <tr>
          <td id="L5638" data-line-number="5638"></td>
          <td id="LC5638">		<span><span>//</span> check if any dockable panel is visible</span></td>
        </tr>
        <tr>
          <td id="L5639" data-line-number="5639"></td>
          <td id="LC5639">		std::vector&lt;DockingCont*&gt; &amp; container = _dockingManager.<span>getContainerInfo</span>();</td>
        </tr>
        <tr>
          <td id="L5640" data-line-number="5640"></td>
          <td id="LC5640">		_beforeSpecialView.<span>_pVisibleDockingContainers</span>.<span>clear</span>();</td>
        </tr>
        <tr>
          <td id="L5641" data-line-number="5641"></td>
          <td id="LC5641">		<span>for</span> (<span>auto</span> i : container)</td>
        </tr>
        <tr>
          <td id="L5642" data-line-number="5642"></td>
          <td id="LC5642">		{</td>
        </tr>
        <tr>
          <td id="L5643" data-line-number="5643"></td>
          <td id="LC5643">			<span>if</span> (i-&gt;<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L5644" data-line-number="5644"></td>
          <td id="LC5644">			{</td>
        </tr>
        <tr>
          <td id="L5645" data-line-number="5645"></td>
          <td id="LC5645">				_beforeSpecialView.<span>_pVisibleDockingContainers</span>.<span>push_back</span>(i);</td>
        </tr>
        <tr>
          <td id="L5646" data-line-number="5646"></td>
          <td id="LC5646">			}</td>
        </tr>
        <tr>
          <td id="L5647" data-line-number="5647"></td>
          <td id="LC5647">		}</td>
        </tr>
        <tr>
          <td id="L5648" data-line-number="5648"></td>
          <td id="LC5648">		</td>
        </tr>
        <tr>
          <td id="L5649" data-line-number="5649"></td>
          <td id="LC5649">		<span>for</span> (<span>auto</span> i : _beforeSpecialView.<span>_pVisibleDockingContainers</span>)</td>
        </tr>
        <tr>
          <td id="L5650" data-line-number="5650"></td>
          <td id="LC5650">		{</td>
        </tr>
        <tr>
          <td id="L5651" data-line-number="5651"></td>
          <td id="LC5651">			i-&gt;<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5652" data-line-number="5652"></td>
          <td id="LC5652">		}</td>
        </tr>
        <tr>
          <td id="L5653" data-line-number="5653"></td>
          <td id="LC5653">		_dockingManager.<span>resize</span>();</td>
        </tr>
        <tr>
          <td id="L5654" data-line-number="5654"></td>
          <td id="LC5654">
</td>
        </tr>
        <tr>
          <td id="L5655" data-line-number="5655"></td>
          <td id="LC5655">		<span><span>//</span> set padding</span></td>
        </tr>
        <tr>
          <td id="L5656" data-line-number="5656"></td>
          <td id="LC5656">		paddingLeft = paddingRight = svp.<span>getDistractionFreePadding</span>(_pEditView-&gt;<span>getWidth</span>());</td>
        </tr>
        <tr>
          <td id="L5657" data-line-number="5657"></td>
          <td id="LC5657">
</td>
        </tr>
        <tr>
          <td id="L5658" data-line-number="5658"></td>
          <td id="LC5658">		<span><span>//</span> set state of restore button (it&#39;s already shown by fullScreen &amp; postIt toggling)</span></td>
        </tr>
        <tr>
          <td id="L5659" data-line-number="5659"></td>
          <td id="LC5659">		_restoreButton.<span>setButtonStatus</span>(buttonStatus_distractionFree);</td>
        </tr>
        <tr>
          <td id="L5660" data-line-number="5660"></td>
          <td id="LC5660">	}</td>
        </tr>
        <tr>
          <td id="L5661" data-line-number="5661"></td>
          <td id="LC5661">
</td>
        </tr>
        <tr>
          <td id="L5662" data-line-number="5662"></td>
          <td id="LC5662">	_beforeSpecialView.<span>_isDistractionFree</span> = !_beforeSpecialView.<span>_isDistractionFree</span>;</td>
        </tr>
        <tr>
          <td id="L5663" data-line-number="5663"></td>
          <td id="LC5663">
</td>
        </tr>
        <tr>
          <td id="L5664" data-line-number="5664"></td>
          <td id="LC5664">	<span><span>//</span> set Distraction Free Mode paddin or restore the normal padding</span></td>
        </tr>
        <tr>
          <td id="L5665" data-line-number="5665"></td>
          <td id="LC5665">	_pEditView-&gt;<span>execute</span>(SCI_SETMARGINLEFT, <span>0</span>, paddingLeft);</td>
        </tr>
        <tr>
          <td id="L5666" data-line-number="5666"></td>
          <td id="LC5666">	_pEditView-&gt;<span>execute</span>(SCI_SETMARGINRIGHT, <span>0</span>, paddingRight);</td>
        </tr>
        <tr>
          <td id="L5667" data-line-number="5667"></td>
          <td id="LC5667">}</td>
        </tr>
        <tr>
          <td id="L5668" data-line-number="5668"></td>
          <td id="LC5668">
</td>
        </tr>
        <tr>
          <td id="L5669" data-line-number="5669"></td>
          <td id="LC5669"><span>void</span> <span>Notepad_plus::doSynScorll</span>(HWND whichView)</td>
        </tr>
        <tr>
          <td id="L5670" data-line-number="5670"></td>
          <td id="LC5670">{</td>
        </tr>
        <tr>
          <td id="L5671" data-line-number="5671"></td>
          <td id="LC5671">	<span>intptr_t</span> column = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5672" data-line-number="5672"></td>
          <td id="LC5672">	<span>intptr_t</span> line = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L5673" data-line-number="5673"></td>
          <td id="LC5673">	ScintillaEditView *pView;</td>
        </tr>
        <tr>
          <td id="L5674" data-line-number="5674"></td>
          <td id="LC5674">
</td>
        </tr>
        <tr>
          <td id="L5675" data-line-number="5675"></td>
          <td id="LC5675">	<span><span>//</span> var for Line</span></td>
        </tr>
        <tr>
          <td id="L5676" data-line-number="5676"></td>
          <td id="LC5676">	<span>intptr_t</span> mainCurrentLine, subCurrentLine;</td>
        </tr>
        <tr>
          <td id="L5677" data-line-number="5677"></td>
          <td id="LC5677">
</td>
        </tr>
        <tr>
          <td id="L5678" data-line-number="5678"></td>
          <td id="LC5678">	<span><span>//</span> var for Column</span></td>
        </tr>
        <tr>
          <td id="L5679" data-line-number="5679"></td>
          <td id="LC5679">	<span>intptr_t</span> mxoffset, sxoffset;</td>
        </tr>
        <tr>
          <td id="L5680" data-line-number="5680"></td>
          <td id="LC5680">	<span>intptr_t</span> pixel;</td>
        </tr>
        <tr>
          <td id="L5681" data-line-number="5681"></td>
          <td id="LC5681">	<span>intptr_t</span> mainColumn, subColumn;</td>
        </tr>
        <tr>
          <td id="L5682" data-line-number="5682"></td>
          <td id="LC5682">
</td>
        </tr>
        <tr>
          <td id="L5683" data-line-number="5683"></td>
          <td id="LC5683">	<span>if</span> (whichView == _mainEditView.<span>getHSelf</span>())</td>
        </tr>
        <tr>
          <td id="L5684" data-line-number="5684"></td>
          <td id="LC5684">	{</td>
        </tr>
        <tr>
          <td id="L5685" data-line-number="5685"></td>
          <td id="LC5685">		<span>if</span> (_syncInfo.<span>_isSynScollV</span>)</td>
        </tr>
        <tr>
          <td id="L5686" data-line-number="5686"></td>
          <td id="LC5686">		{</td>
        </tr>
        <tr>
          <td id="L5687" data-line-number="5687"></td>
          <td id="LC5687">			<span><span>//</span> Compute for Line</span></td>
        </tr>
        <tr>
          <td id="L5688" data-line-number="5688"></td>
          <td id="LC5688">			mainCurrentLine = _mainEditView.<span>execute</span>(SCI_GETFIRSTVISIBLELINE);</td>
        </tr>
        <tr>
          <td id="L5689" data-line-number="5689"></td>
          <td id="LC5689">			subCurrentLine = _subEditView.<span>execute</span>(SCI_GETFIRSTVISIBLELINE);</td>
        </tr>
        <tr>
          <td id="L5690" data-line-number="5690"></td>
          <td id="LC5690">			line = mainCurrentLine - _syncInfo.<span>_line</span> - subCurrentLine;</td>
        </tr>
        <tr>
          <td id="L5691" data-line-number="5691"></td>
          <td id="LC5691">		}</td>
        </tr>
        <tr>
          <td id="L5692" data-line-number="5692"></td>
          <td id="LC5692">		<span>if</span> (_syncInfo.<span>_isSynScollH</span>)</td>
        </tr>
        <tr>
          <td id="L5693" data-line-number="5693"></td>
          <td id="LC5693">		{</td>
        </tr>
        <tr>
          <td id="L5694" data-line-number="5694"></td>
          <td id="LC5694">			<span><span>//</span> Compute for Column</span></td>
        </tr>
        <tr>
          <td id="L5695" data-line-number="5695"></td>
          <td id="LC5695">			mxoffset = _mainEditView.<span>execute</span>(SCI_GETXOFFSET);</td>
        </tr>
        <tr>
          <td id="L5696" data-line-number="5696"></td>
          <td id="LC5696">			pixel = _mainEditView.<span>execute</span>(SCI_TEXTWIDTH, STYLE_DEFAULT, <span>reinterpret_cast</span>&lt;LPARAM&gt;(<span><span>&#34;</span>P<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L5697" data-line-number="5697"></td>
          <td id="LC5697">			mainColumn = mxoffset/pixel;</td>
        </tr>
        <tr>
          <td id="L5698" data-line-number="5698"></td>
          <td id="LC5698">
</td>
        </tr>
        <tr>
          <td id="L5699" data-line-number="5699"></td>
          <td id="LC5699">			sxoffset = _subEditView.<span>execute</span>(SCI_GETXOFFSET);</td>
        </tr>
        <tr>
          <td id="L5700" data-line-number="5700"></td>
          <td id="LC5700">			pixel = _subEditView.<span>execute</span>(SCI_TEXTWIDTH, STYLE_DEFAULT, <span>reinterpret_cast</span>&lt;LPARAM&gt;(<span><span>&#34;</span>P<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L5701" data-line-number="5701"></td>
          <td id="LC5701">			subColumn = sxoffset/pixel;</td>
        </tr>
        <tr>
          <td id="L5702" data-line-number="5702"></td>
          <td id="LC5702">			column = mainColumn - _syncInfo.<span>_column</span> - subColumn;</td>
        </tr>
        <tr>
          <td id="L5703" data-line-number="5703"></td>
          <td id="LC5703">		}</td>
        </tr>
        <tr>
          <td id="L5704" data-line-number="5704"></td>
          <td id="LC5704">		pView = &amp;_subEditView;</td>
        </tr>
        <tr>
          <td id="L5705" data-line-number="5705"></td>
          <td id="LC5705">	}</td>
        </tr>
        <tr>
          <td id="L5706" data-line-number="5706"></td>
          <td id="LC5706">	<span>else</span> <span>if</span> (whichView == _subEditView.<span>getHSelf</span>())</td>
        </tr>
        <tr>
          <td id="L5707" data-line-number="5707"></td>
          <td id="LC5707">	{</td>
        </tr>
        <tr>
          <td id="L5708" data-line-number="5708"></td>
          <td id="LC5708">		<span>if</span> (_syncInfo.<span>_isSynScollV</span>)</td>
        </tr>
        <tr>
          <td id="L5709" data-line-number="5709"></td>
          <td id="LC5709">		{</td>
        </tr>
        <tr>
          <td id="L5710" data-line-number="5710"></td>
          <td id="LC5710">			<span><span>//</span> Compute for Line</span></td>
        </tr>
        <tr>
          <td id="L5711" data-line-number="5711"></td>
          <td id="LC5711">			mainCurrentLine = _mainEditView.<span>execute</span>(SCI_GETFIRSTVISIBLELINE);</td>
        </tr>
        <tr>
          <td id="L5712" data-line-number="5712"></td>
          <td id="LC5712">			subCurrentLine = _subEditView.<span>execute</span>(SCI_GETFIRSTVISIBLELINE);</td>
        </tr>
        <tr>
          <td id="L5713" data-line-number="5713"></td>
          <td id="LC5713">			line = subCurrentLine + _syncInfo.<span>_line</span> - mainCurrentLine;</td>
        </tr>
        <tr>
          <td id="L5714" data-line-number="5714"></td>
          <td id="LC5714">		}</td>
        </tr>
        <tr>
          <td id="L5715" data-line-number="5715"></td>
          <td id="LC5715">		<span>if</span> (_syncInfo.<span>_isSynScollH</span>)</td>
        </tr>
        <tr>
          <td id="L5716" data-line-number="5716"></td>
          <td id="LC5716">		{</td>
        </tr>
        <tr>
          <td id="L5717" data-line-number="5717"></td>
          <td id="LC5717">			<span><span>//</span> Compute for Column</span></td>
        </tr>
        <tr>
          <td id="L5718" data-line-number="5718"></td>
          <td id="LC5718">			mxoffset = _mainEditView.<span>execute</span>(SCI_GETXOFFSET);</td>
        </tr>
        <tr>
          <td id="L5719" data-line-number="5719"></td>
          <td id="LC5719">			pixel = _mainEditView.<span>execute</span>(SCI_TEXTWIDTH, STYLE_DEFAULT, <span>reinterpret_cast</span>&lt;LPARAM&gt;(<span><span>&#34;</span>P<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L5720" data-line-number="5720"></td>
          <td id="LC5720">			mainColumn = mxoffset/pixel;</td>
        </tr>
        <tr>
          <td id="L5721" data-line-number="5721"></td>
          <td id="LC5721">
</td>
        </tr>
        <tr>
          <td id="L5722" data-line-number="5722"></td>
          <td id="LC5722">			sxoffset = _subEditView.<span>execute</span>(SCI_GETXOFFSET);</td>
        </tr>
        <tr>
          <td id="L5723" data-line-number="5723"></td>
          <td id="LC5723">			pixel = _subEditView.<span>execute</span>(SCI_TEXTWIDTH, STYLE_DEFAULT, <span>reinterpret_cast</span>&lt;LPARAM&gt;(<span><span>&#34;</span>P<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L5724" data-line-number="5724"></td>
          <td id="LC5724">			subColumn = sxoffset/pixel;</td>
        </tr>
        <tr>
          <td id="L5725" data-line-number="5725"></td>
          <td id="LC5725">			column = subColumn + _syncInfo.<span>_column</span> - mainColumn;</td>
        </tr>
        <tr>
          <td id="L5726" data-line-number="5726"></td>
          <td id="LC5726">		}</td>
        </tr>
        <tr>
          <td id="L5727" data-line-number="5727"></td>
          <td id="LC5727">		pView = &amp;_mainEditView;</td>
        </tr>
        <tr>
          <td id="L5728" data-line-number="5728"></td>
          <td id="LC5728">	}</td>
        </tr>
        <tr>
          <td id="L5729" data-line-number="5729"></td>
          <td id="LC5729">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L5730" data-line-number="5730"></td>
          <td id="LC5730">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L5731" data-line-number="5731"></td>
          <td id="LC5731">
</td>
        </tr>
        <tr>
          <td id="L5732" data-line-number="5732"></td>
          <td id="LC5732">	pView-&gt;<span>scroll</span>(column, line);</td>
        </tr>
        <tr>
          <td id="L5733" data-line-number="5733"></td>
          <td id="LC5733">}</td>
        </tr>
        <tr>
          <td id="L5734" data-line-number="5734"></td>
          <td id="LC5734">
</td>
        </tr>
        <tr>
          <td id="L5735" data-line-number="5735"></td>
          <td id="LC5735"><span>bool</span> <span>Notepad_plus::getIntegralDockingData</span>(tTbData &amp; dockData, <span>int</span> &amp; iCont, <span>bool</span> &amp; isVisible)</td>
        </tr>
        <tr>
          <td id="L5736" data-line-number="5736"></td>
          <td id="LC5736">{</td>
        </tr>
        <tr>
          <td id="L5737" data-line-number="5737"></td>
          <td id="LC5737">	DockingManagerData &amp; dockingData = (DockingManagerData &amp;)(<span>NppParameters::getInstance</span>()).<span>getNppGUI</span>().<span>_dockingData</span>;</td>
        </tr>
        <tr>
          <td id="L5738" data-line-number="5738"></td>
          <td id="LC5738">
</td>
        </tr>
        <tr>
          <td id="L5739" data-line-number="5739"></td>
          <td id="LC5739">	<span>for</span> (<span>size_t</span> i = <span>0</span>, len = dockingData.<span>_pluginDockInfo</span>.<span>size</span>(); i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L5740" data-line-number="5740"></td>
          <td id="LC5740">	{</td>
        </tr>
        <tr>
          <td id="L5741" data-line-number="5741"></td>
          <td id="LC5741">		<span>const</span> PluginDlgDockingInfo &amp; pddi = dockingData.<span>_pluginDockInfo</span>[i];</td>
        </tr>
        <tr>
          <td id="L5742" data-line-number="5742"></td>
          <td id="LC5742">
</td>
        </tr>
        <tr>
          <td id="L5743" data-line-number="5743"></td>
          <td id="LC5743">		<span>if</span> (!<span>generic_stricmp</span>(pddi.<span>_name</span>.<span>c_str</span>(), dockData.<span>pszModuleName</span>) &amp;&amp; (pddi.<span>_internalID</span> == dockData.<span>dlgID</span>))</td>
        </tr>
        <tr>
          <td id="L5744" data-line-number="5744"></td>
          <td id="LC5744">		{</td>
        </tr>
        <tr>
          <td id="L5745" data-line-number="5745"></td>
          <td id="LC5745">			iCont				= pddi.<span>_currContainer</span>;</td>
        </tr>
        <tr>
          <td id="L5746" data-line-number="5746"></td>
          <td id="LC5746">			isVisible			= pddi.<span>_isVisible</span>;</td>
        </tr>
        <tr>
          <td id="L5747" data-line-number="5747"></td>
          <td id="LC5747">			dockData.<span>iPrevCont</span>	= pddi.<span>_prevContainer</span>;</td>
        </tr>
        <tr>
          <td id="L5748" data-line-number="5748"></td>
          <td id="LC5748">
</td>
        </tr>
        <tr>
          <td id="L5749" data-line-number="5749"></td>
          <td id="LC5749">			<span>if</span> (dockData.<span>iPrevCont</span> != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5750" data-line-number="5750"></td>
          <td id="LC5750">			{</td>
        </tr>
        <tr>
          <td id="L5751" data-line-number="5751"></td>
          <td id="LC5751">				<span>int</span> cont = (pddi.<span>_currContainer</span> &lt; DOCKCONT_MAX ? pddi.<span>_prevContainer</span> : pddi.<span>_currContainer</span>);</td>
        </tr>
        <tr>
          <td id="L5752" data-line-number="5752"></td>
          <td id="LC5752">				RECT rc;</td>
        </tr>
        <tr>
          <td id="L5753" data-line-number="5753"></td>
          <td id="LC5753">				<span>if</span> (dockingData.<span>getFloatingRCFrom</span>(cont, rc))</td>
        </tr>
        <tr>
          <td id="L5754" data-line-number="5754"></td>
          <td id="LC5754">					dockData.<span>rcFloat</span> = rc;</td>
        </tr>
        <tr>
          <td id="L5755" data-line-number="5755"></td>
          <td id="LC5755">			}</td>
        </tr>
        <tr>
          <td id="L5756" data-line-number="5756"></td>
          <td id="LC5756">			<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5757" data-line-number="5757"></td>
          <td id="LC5757">		}</td>
        </tr>
        <tr>
          <td id="L5758" data-line-number="5758"></td>
          <td id="LC5758">	}</td>
        </tr>
        <tr>
          <td id="L5759" data-line-number="5759"></td>
          <td id="LC5759">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5760" data-line-number="5760"></td>
          <td id="LC5760">}</td>
        </tr>
        <tr>
          <td id="L5761" data-line-number="5761"></td>
          <td id="LC5761">
</td>
        </tr>
        <tr>
          <td id="L5762" data-line-number="5762"></td>
          <td id="LC5762">
</td>
        </tr>
        <tr>
          <td id="L5763" data-line-number="5763"></td>
          <td id="LC5763"><span>void</span> <span>Notepad_plus::getCurrentOpenedFiles</span>(Session &amp; session, <span>bool</span> includUntitledDoc)</td>
        </tr>
        <tr>
          <td id="L5764" data-line-number="5764"></td>
          <td id="LC5764">{</td>
        </tr>
        <tr>
          <td id="L5765" data-line-number="5765"></td>
          <td id="LC5765">	_mainEditView.<span>saveCurrentPos</span>();	<span><span>//</span>save position so itll be correct in the session</span></td>
        </tr>
        <tr>
          <td id="L5766" data-line-number="5766"></td>
          <td id="LC5766">	_subEditView.<span>saveCurrentPos</span>();	<span><span>//</span>both views</span></td>
        </tr>
        <tr>
          <td id="L5767" data-line-number="5767"></td>
          <td id="LC5767">	session.<span>_activeView</span> = <span>currentView</span>();</td>
        </tr>
        <tr>
          <td id="L5768" data-line-number="5768"></td>
          <td id="LC5768">	session.<span>_activeMainIndex</span> = _mainDocTab.<span>getCurrentTabIndex</span>();</td>
        </tr>
        <tr>
          <td id="L5769" data-line-number="5769"></td>
          <td id="LC5769">	session.<span>_activeSubIndex</span> = _subDocTab.<span>getCurrentTabIndex</span>();</td>
        </tr>
        <tr>
          <td id="L5770" data-line-number="5770"></td>
          <td id="LC5770">
</td>
        </tr>
        <tr>
          <td id="L5771" data-line-number="5771"></td>
          <td id="LC5771">	<span><span>//</span>Use _invisibleEditView to temporarily open documents to retrieve markers</span></td>
        </tr>
        <tr>
          <td id="L5772" data-line-number="5772"></td>
          <td id="LC5772">	Document oldDoc = _invisibleEditView.<span>execute</span>(SCI_GETDOCPOINTER);</td>
        </tr>
        <tr>
          <td id="L5773" data-line-number="5773"></td>
          <td id="LC5773">	<span>const</span> <span>int</span> nbElem = <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L5774" data-line-number="5774"></td>
          <td id="LC5774">	DocTabView* docTab[nbElem]{};</td>
        </tr>
        <tr>
          <td id="L5775" data-line-number="5775"></td>
          <td id="LC5775">	docTab[<span>0</span>] = &amp;_mainDocTab;</td>
        </tr>
        <tr>
          <td id="L5776" data-line-number="5776"></td>
          <td id="LC5776">	docTab[<span>1</span>] = &amp;_subDocTab;</td>
        </tr>
        <tr>
          <td id="L5777" data-line-number="5777"></td>
          <td id="LC5777">	<span>for</span> (<span>size_t</span> k = <span>0</span>; k &lt; nbElem; ++k)</td>
        </tr>
        <tr>
          <td id="L5778" data-line-number="5778"></td>
          <td id="LC5778">	{</td>
        </tr>
        <tr>
          <td id="L5779" data-line-number="5779"></td>
          <td id="LC5779">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = docTab[k]-&gt;<span>nbItem</span>(); i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L5780" data-line-number="5780"></td>
          <td id="LC5780">		{</td>
        </tr>
        <tr>
          <td id="L5781" data-line-number="5781"></td>
          <td id="LC5781">			BufferID bufID = docTab[k]-&gt;<span>getBufferByIndex</span>(i);</td>
        </tr>
        <tr>
          <td id="L5782" data-line-number="5782"></td>
          <td id="LC5782">			ScintillaEditView *editView = k == <span>0</span> ? &amp;_mainEditView : &amp;_subEditView;</td>
        </tr>
        <tr>
          <td id="L5783" data-line-number="5783"></td>
          <td id="LC5783">			<span>size_t</span> activeIndex = k == <span>0</span> ? session.<span>_activeMainIndex</span> : session.<span>_activeSubIndex</span>;</td>
        </tr>
        <tr>
          <td id="L5784" data-line-number="5784"></td>
          <td id="LC5784">			vector&lt;sessionFileInfo&gt; *viewFiles = (vector&lt;sessionFileInfo&gt; *)(k == <span>0</span>?&amp;(session.<span>_mainViewFiles</span>):&amp;(session.<span>_subViewFiles</span>));</td>
        </tr>
        <tr>
          <td id="L5785" data-line-number="5785"></td>
          <td id="LC5785">
</td>
        </tr>
        <tr>
          <td id="L5786" data-line-number="5786"></td>
          <td id="LC5786">			Buffer * buf = MainFileManager.<span>getBufferByID</span>(bufID);</td>
        </tr>
        <tr>
          <td id="L5787" data-line-number="5787"></td>
          <td id="LC5787">
</td>
        </tr>
        <tr>
          <td id="L5788" data-line-number="5788"></td>
          <td id="LC5788">			<span>if</span> (buf-&gt;<span>isUntitled</span>() &amp;&amp; buf-&gt;<span>docLength</span>() == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L5789" data-line-number="5789"></td>
          <td id="LC5789">				<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L5790" data-line-number="5790"></td>
          <td id="LC5790">
</td>
        </tr>
        <tr>
          <td id="L5791" data-line-number="5791"></td>
          <td id="LC5791">			<span>if</span> (!includUntitledDoc)</td>
        </tr>
        <tr>
          <td id="L5792" data-line-number="5792"></td>
          <td id="LC5792">				<span>if</span> (!<span>PathFileExists</span>(buf-&gt;<span>getFullPathName</span>()))</td>
        </tr>
        <tr>
          <td id="L5793" data-line-number="5793"></td>
          <td id="LC5793">					<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L5794" data-line-number="5794"></td>
          <td id="LC5794">
</td>
        </tr>
        <tr>
          <td id="L5795" data-line-number="5795"></td>
          <td id="LC5795">
</td>
        </tr>
        <tr>
          <td id="L5796" data-line-number="5796"></td>
          <td id="LC5796">			generic_string	languageName = <span>getLangFromMenu</span>(buf);</td>
        </tr>
        <tr>
          <td id="L5797" data-line-number="5797"></td>
          <td id="LC5797">			<span>const</span> TCHAR *langName = languageName.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L5798" data-line-number="5798"></td>
          <td id="LC5798">			sessionFileInfo <span>sfi</span>(buf-&gt;<span>getFullPathName</span>(), langName, buf-&gt;<span>getEncoding</span>(), buf-&gt;<span>getUserReadOnly</span>(), buf-&gt;<span>getPosition</span>(editView), buf-&gt;<span>getBackupFileName</span>().<span>c_str</span>(), buf-&gt;<span>getLastModifiedTimestamp</span>(), buf-&gt;<span>getMapPosition</span>());</td>
        </tr>
        <tr>
          <td id="L5799" data-line-number="5799"></td>
          <td id="LC5799">
</td>
        </tr>
        <tr>
          <td id="L5800" data-line-number="5800"></td>
          <td id="LC5800">			sfi.<span>_isMonitoring</span> = buf-&gt;<span>isMonitoringOn</span>();</td>
        </tr>
        <tr>
          <td id="L5801" data-line-number="5801"></td>
          <td id="LC5801">			sfi.<span>_individualTabColour</span> = docTab[<span>0</span>]-&gt;<span>getIndividualTabColour</span>(<span>static_cast</span>&lt;<span>int</span>&gt;(i));</td>
        </tr>
        <tr>
          <td id="L5802" data-line-number="5802"></td>
          <td id="LC5802">
</td>
        </tr>
        <tr>
          <td id="L5803" data-line-number="5803"></td>
          <td id="LC5803">			_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, buf-&gt;<span>getDocument</span>());</td>
        </tr>
        <tr>
          <td id="L5804" data-line-number="5804"></td>
          <td id="LC5804">			<span>size_t</span> maxLine = <span>static_cast</span>&lt;<span>size_t</span>&gt;(_invisibleEditView.<span>execute</span>(SCI_GETLINECOUNT));</td>
        </tr>
        <tr>
          <td id="L5805" data-line-number="5805"></td>
          <td id="LC5805">
</td>
        </tr>
        <tr>
          <td id="L5806" data-line-number="5806"></td>
          <td id="LC5806">			<span>for</span> (<span>size_t</span> j = <span>0</span> ; j &lt; maxLine ; ++j)</td>
        </tr>
        <tr>
          <td id="L5807" data-line-number="5807"></td>
          <td id="LC5807">			{</td>
        </tr>
        <tr>
          <td id="L5808" data-line-number="5808"></td>
          <td id="LC5808">				<span>if</span> ((_invisibleEditView.<span>execute</span>(SCI_MARKERGET, j) &amp; (<span>1</span> &lt;&lt; MARK_BOOKMARK)) != <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L5809" data-line-number="5809"></td>
          <td id="LC5809">				{</td>
        </tr>
        <tr>
          <td id="L5810" data-line-number="5810"></td>
          <td id="LC5810">					sfi.<span>_marks</span>.<span>push_back</span>(j);</td>
        </tr>
        <tr>
          <td id="L5811" data-line-number="5811"></td>
          <td id="LC5811">				}</td>
        </tr>
        <tr>
          <td id="L5812" data-line-number="5812"></td>
          <td id="LC5812">			}</td>
        </tr>
        <tr>
          <td id="L5813" data-line-number="5813"></td>
          <td id="LC5813">
</td>
        </tr>
        <tr>
          <td id="L5814" data-line-number="5814"></td>
          <td id="LC5814">			<span>if</span> (i == activeIndex)</td>
        </tr>
        <tr>
          <td id="L5815" data-line-number="5815"></td>
          <td id="LC5815">			{</td>
        </tr>
        <tr>
          <td id="L5816" data-line-number="5816"></td>
          <td id="LC5816">				editView-&gt;<span>getCurrentFoldStates</span>(sfi.<span>_foldStates</span>);</td>
        </tr>
        <tr>
          <td id="L5817" data-line-number="5817"></td>
          <td id="LC5817">			}</td>
        </tr>
        <tr>
          <td id="L5818" data-line-number="5818"></td>
          <td id="LC5818">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L5819" data-line-number="5819"></td>
          <td id="LC5819">			{</td>
        </tr>
        <tr>
          <td id="L5820" data-line-number="5820"></td>
          <td id="LC5820">				sfi.<span>_foldStates</span> = buf-&gt;<span>getHeaderLineState</span>(editView);</td>
        </tr>
        <tr>
          <td id="L5821" data-line-number="5821"></td>
          <td id="LC5821">			}</td>
        </tr>
        <tr>
          <td id="L5822" data-line-number="5822"></td>
          <td id="LC5822">			viewFiles-&gt;<span>push_back</span>(sfi);</td>
        </tr>
        <tr>
          <td id="L5823" data-line-number="5823"></td>
          <td id="LC5823">		}</td>
        </tr>
        <tr>
          <td id="L5824" data-line-number="5824"></td>
          <td id="LC5824">	}</td>
        </tr>
        <tr>
          <td id="L5825" data-line-number="5825"></td>
          <td id="LC5825">	_invisibleEditView.<span>execute</span>(SCI_SETDOCPOINTER, <span>0</span>, oldDoc);</td>
        </tr>
        <tr>
          <td id="L5826" data-line-number="5826"></td>
          <td id="LC5826">}</td>
        </tr>
        <tr>
          <td id="L5827" data-line-number="5827"></td>
          <td id="LC5827">
</td>
        </tr>
        <tr>
          <td id="L5828" data-line-number="5828"></td>
          <td id="LC5828"><span>bool</span> <span>Notepad_plus::str2Cliboard</span>(<span>const</span> generic_string &amp; str2cpy)</td>
        </tr>
        <tr>
          <td id="L5829" data-line-number="5829"></td>
          <td id="LC5829">{</td>
        </tr>
        <tr>
          <td id="L5830" data-line-number="5830"></td>
          <td id="LC5830">	<span>return</span> <span>str2Clipboard</span>(str2cpy, _pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L5831" data-line-number="5831"></td>
          <td id="LC5831">}</td>
        </tr>
        <tr>
          <td id="L5832" data-line-number="5832"></td>
          <td id="LC5832">
</td>
        </tr>
        <tr>
          <td id="L5833" data-line-number="5833"></td>
          <td id="LC5833"><span><span>//</span>ONLY CALL IN CASE OF EMERGENCY: EXCEPTION</span></td>
        </tr>
        <tr>
          <td id="L5834" data-line-number="5834"></td>
          <td id="LC5834"><span><span>//</span>This function is destructive</span></td>
        </tr>
        <tr>
          <td id="L5835" data-line-number="5835"></td>
          <td id="LC5835"><span>bool</span> <span>Notepad_plus::emergency</span>(<span>const</span> generic_string&amp; emergencySavedDir)</td>
        </tr>
        <tr>
          <td id="L5836" data-line-number="5836"></td>
          <td id="LC5836">{</td>
        </tr>
        <tr>
          <td id="L5837" data-line-number="5837"></td>
          <td id="LC5837">    <span>::CreateDirectory</span>(emergencySavedDir.c_str(), NULL);</td>
        </tr>
        <tr>
          <td id="L5838" data-line-number="5838"></td>
          <td id="LC5838">	<span>return</span> <span>dumpFiles</span>(emergencySavedDir.<span>c_str</span>(), <span>TEXT</span>(<span><span>&#34;</span>File<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L5839" data-line-number="5839"></td>
          <td id="LC5839">}</td>
        </tr>
        <tr>
          <td id="L5840" data-line-number="5840"></td>
          <td id="LC5840">
</td>
        </tr>
        <tr>
          <td id="L5841" data-line-number="5841"></td>
          <td id="LC5841"><span>bool</span> <span>Notepad_plus::dumpFiles</span>(<span>const</span> TCHAR * outdir, <span>const</span> TCHAR * fileprefix)</td>
        </tr>
        <tr>
          <td id="L5842" data-line-number="5842"></td>
          <td id="LC5842">{</td>
        </tr>
        <tr>
          <td id="L5843" data-line-number="5843"></td>
          <td id="LC5843">	<span><span>//</span>start dumping unsaved files to recovery directory</span></td>
        </tr>
        <tr>
          <td id="L5844" data-line-number="5844"></td>
          <td id="LC5844">	<span>bool</span> somethingsaved = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5845" data-line-number="5845"></td>
          <td id="LC5845">	<span>bool</span> somedirty = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5846" data-line-number="5846"></td>
          <td id="LC5846">	TCHAR savePath[MAX_PATH] = { <span><span>&#39;</span><span>\0</span><span>&#39;</span></span> };</td>
        </tr>
        <tr>
          <td id="L5847" data-line-number="5847"></td>
          <td id="LC5847">
</td>
        </tr>
        <tr>
          <td id="L5848" data-line-number="5848"></td>
          <td id="LC5848">	<span><span>//</span>rescue primary</span></td>
        </tr>
        <tr>
          <td id="L5849" data-line-number="5849"></td>
          <td id="LC5849">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; MainFileManager.<span>getNbBuffers</span>(); ++i)</td>
        </tr>
        <tr>
          <td id="L5850" data-line-number="5850"></td>
          <td id="LC5850">	{</td>
        </tr>
        <tr>
          <td id="L5851" data-line-number="5851"></td>
          <td id="LC5851">		Buffer * docbuf = MainFileManager.<span>getBufferByIndex</span>(i);</td>
        </tr>
        <tr>
          <td id="L5852" data-line-number="5852"></td>
          <td id="LC5852">		<span>if</span> (!docbuf-&gt;<span>isDirty</span>())	<span><span>//</span>skip saved documents</span></td>
        </tr>
        <tr>
          <td id="L5853" data-line-number="5853"></td>
          <td id="LC5853">			<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L5854" data-line-number="5854"></td>
          <td id="LC5854">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L5855" data-line-number="5855"></td>
          <td id="LC5855">			somedirty = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L5856" data-line-number="5856"></td>
          <td id="LC5856">
</td>
        </tr>
        <tr>
          <td id="L5857" data-line-number="5857"></td>
          <td id="LC5857">		<span>const</span> TCHAR * unitext = (docbuf-&gt;<span>getUnicodeMode</span>() != uni8Bit)?<span>TEXT</span>(<span><span>&#34;</span>_utf8<span>&#34;</span></span>):<span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L5858" data-line-number="5858"></td>
          <td id="LC5858">		<span>wsprintf</span>(savePath, <span>TEXT</span>(<span><span>&#34;</span>%s<span>\\</span>%s%03d%s.dump<span>&#34;</span></span>), outdir, fileprefix, <span>static_cast</span>&lt;<span>int</span>&gt;(i), unitext);</td>
        </tr>
        <tr>
          <td id="L5859" data-line-number="5859"></td>
          <td id="LC5859">
</td>
        </tr>
        <tr>
          <td id="L5860" data-line-number="5860"></td>
          <td id="LC5860">		SavingStatus res = MainFileManager.<span>saveBuffer</span>(docbuf-&gt;<span>getID</span>(), savePath);</td>
        </tr>
        <tr>
          <td id="L5861" data-line-number="5861"></td>
          <td id="LC5861">
</td>
        </tr>
        <tr>
          <td id="L5862" data-line-number="5862"></td>
          <td id="LC5862">		somethingsaved |= (res == SavingStatus::SaveOK);</td>
        </tr>
        <tr>
          <td id="L5863" data-line-number="5863"></td>
          <td id="LC5863">	}</td>
        </tr>
        <tr>
          <td id="L5864" data-line-number="5864"></td>
          <td id="LC5864">
</td>
        </tr>
        <tr>
          <td id="L5865" data-line-number="5865"></td>
          <td id="LC5865">	<span>return</span> somethingsaved || !somedirty;</td>
        </tr>
        <tr>
          <td id="L5866" data-line-number="5866"></td>
          <td id="LC5866">}</td>
        </tr>
        <tr>
          <td id="L5867" data-line-number="5867"></td>
          <td id="LC5867">
</td>
        </tr>
        <tr>
          <td id="L5868" data-line-number="5868"></td>
          <td id="LC5868"><span>void</span> <span>Notepad_plus::drawTabbarColoursFromStylerArray</span>()</td>
        </tr>
        <tr>
          <td id="L5869" data-line-number="5869"></td>
          <td id="LC5869">{</td>
        </tr>
        <tr>
          <td id="L5870" data-line-number="5870"></td>
          <td id="LC5870">	<span>Style</span> *stActText = <span>getStyleFromName</span>(TABBAR_ACTIVETEXT);</td>
        </tr>
        <tr>
          <td id="L5871" data-line-number="5871"></td>
          <td id="LC5871">	<span>if</span> (stActText &amp;&amp; <span>static_cast</span>&lt;<span>long</span>&gt;(stActText-&gt;<span>_fgColor</span>) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5872" data-line-number="5872"></td>
          <td id="LC5872">		<span>TabBarPlus::setColour</span>(stActText-&gt;<span>_fgColor</span>, TabBarPlus::activeText);</td>
        </tr>
        <tr>
          <td id="L5873" data-line-number="5873"></td>
          <td id="LC5873">
</td>
        </tr>
        <tr>
          <td id="L5874" data-line-number="5874"></td>
          <td id="LC5874">	<span>Style</span> *stActfocusTop = <span>getStyleFromName</span>(TABBAR_ACTIVEFOCUSEDINDCATOR);</td>
        </tr>
        <tr>
          <td id="L5875" data-line-number="5875"></td>
          <td id="LC5875">	<span>if</span> (stActfocusTop &amp;&amp; <span>static_cast</span>&lt;<span>long</span>&gt;(stActfocusTop-&gt;<span>_fgColor</span>) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5876" data-line-number="5876"></td>
          <td id="LC5876">		<span>TabBarPlus::setColour</span>(stActfocusTop-&gt;<span>_fgColor</span>, TabBarPlus::activeFocusedTop);</td>
        </tr>
        <tr>
          <td id="L5877" data-line-number="5877"></td>
          <td id="LC5877">
</td>
        </tr>
        <tr>
          <td id="L5878" data-line-number="5878"></td>
          <td id="LC5878">	<span>Style</span> *stActunfocusTop = <span>getStyleFromName</span>(TABBAR_ACTIVEUNFOCUSEDINDCATOR);</td>
        </tr>
        <tr>
          <td id="L5879" data-line-number="5879"></td>
          <td id="LC5879">	<span>if</span> (stActunfocusTop &amp;&amp; <span>static_cast</span>&lt;<span>long</span>&gt;(stActunfocusTop-&gt;<span>_fgColor</span>) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5880" data-line-number="5880"></td>
          <td id="LC5880">		<span>TabBarPlus::setColour</span>(stActunfocusTop-&gt;<span>_fgColor</span>, TabBarPlus::activeUnfocusedTop);</td>
        </tr>
        <tr>
          <td id="L5881" data-line-number="5881"></td>
          <td id="LC5881">
</td>
        </tr>
        <tr>
          <td id="L5882" data-line-number="5882"></td>
          <td id="LC5882">	<span>Style</span> *stInact = <span>getStyleFromName</span>(TABBAR_INACTIVETEXT);</td>
        </tr>
        <tr>
          <td id="L5883" data-line-number="5883"></td>
          <td id="LC5883">	<span>if</span> (stInact &amp;&amp; <span>static_cast</span>&lt;<span>long</span>&gt;(stInact-&gt;<span>_fgColor</span>) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5884" data-line-number="5884"></td>
          <td id="LC5884">		<span>TabBarPlus::setColour</span>(stInact-&gt;<span>_fgColor</span>, TabBarPlus::inactiveText);</td>
        </tr>
        <tr>
          <td id="L5885" data-line-number="5885"></td>
          <td id="LC5885">	<span>if</span> (stInact &amp;&amp; <span>static_cast</span>&lt;<span>long</span>&gt;(stInact-&gt;<span>_bgColor</span>) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5886" data-line-number="5886"></td>
          <td id="LC5886">		<span>TabBarPlus::setColour</span>(stInact-&gt;<span>_bgColor</span>, TabBarPlus::inactiveBg);</td>
        </tr>
        <tr>
          <td id="L5887" data-line-number="5887"></td>
          <td id="LC5887">}</td>
        </tr>
        <tr>
          <td id="L5888" data-line-number="5888"></td>
          <td id="LC5888">
</td>
        </tr>
        <tr>
          <td id="L5889" data-line-number="5889"></td>
          <td id="LC5889"><span>void</span> <span>Notepad_plus::drawAutocompleteColoursFromTheme</span>(COLORREF fgColor, COLORREF bgColor)</td>
        </tr>
        <tr>
          <td id="L5890" data-line-number="5890"></td>
          <td id="LC5890">{</td>
        </tr>
        <tr>
          <td id="L5891" data-line-number="5891"></td>
          <td id="LC5891">	<span>if</span> (bgColor == <span>0xFFFFFF</span>)</td>
        </tr>
        <tr>
          <td id="L5892" data-line-number="5892"></td>
          <td id="LC5892">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L5893" data-line-number="5893"></td>
          <td id="LC5893">
</td>
        </tr>
        <tr>
          <td id="L5894" data-line-number="5894"></td>
          <td id="LC5894">	<span>int</span> rbv = <span>GetRValue</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L5895" data-line-number="5895"></td>
          <td id="LC5895">	<span>int</span> gbv = <span>GetGValue</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L5896" data-line-number="5896"></td>
          <td id="LC5896">	<span>int</span> bbv = <span>GetBValue</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L5897" data-line-number="5897"></td>
          <td id="LC5897">
</td>
        </tr>
        <tr>
          <td id="L5898" data-line-number="5898"></td>
          <td id="LC5898">	<span>int</span> rfv = <span>GetRValue</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L5899" data-line-number="5899"></td>
          <td id="LC5899">	<span>int</span> gfv = <span>GetGValue</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L5900" data-line-number="5900"></td>
          <td id="LC5900">	<span>int</span> bfv = <span>GetBValue</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L5901" data-line-number="5901"></td>
          <td id="LC5901">
</td>
        </tr>
        <tr>
          <td id="L5902" data-line-number="5902"></td>
          <td id="LC5902">	COLORREF bgDarker = <span>RGB</span>(rbv - <span>20</span> &lt;= <span>0</span> ? <span>0</span> : rbv - <span>20</span>, gbv - <span>20</span> &lt;= <span>0</span> ? <span>0</span> : gbv - <span>20</span>, bbv - <span>20</span> &lt;= <span>0</span> ? <span>0</span> : bbv - <span>20</span>);</td>
        </tr>
        <tr>
          <td id="L5903" data-line-number="5903"></td>
          <td id="LC5903">
</td>
        </tr>
        <tr>
          <td id="L5904" data-line-number="5904"></td>
          <td id="LC5904">	<span>if</span> (bgColor == <span>RGB</span>(<span>0</span>, <span>0</span>, <span>0</span>)) <span><span>//</span> if the bg is pure black</span></td>
        </tr>
        <tr>
          <td id="L5905" data-line-number="5905"></td>
          <td id="LC5905">		bgDarker = <span>RGB</span>(<span>20</span>, <span>20</span>, <span>20</span>); <span><span>//</span> make bgDarker lighter for distinguishing between both</span></td>
        </tr>
        <tr>
          <td id="L5906" data-line-number="5906"></td>
          <td id="LC5906">
</td>
        </tr>
        <tr>
          <td id="L5907" data-line-number="5907"></td>
          <td id="LC5907">	COLORREF fgDarker = <span>RGB</span>(rfv - <span>20</span> &lt;= <span>0</span> ? <span>0</span> : rfv - <span>20</span>, gfv - <span>20</span> &lt;= <span>0</span> ? <span>0</span> : gfv - <span>20</span>, bfv - <span>20</span> &lt;= <span>0</span> ? <span>0</span> : bfv - <span>20</span>);</td>
        </tr>
        <tr>
          <td id="L5908" data-line-number="5908"></td>
          <td id="LC5908">	COLORREF fgLigher = <span>RGB</span>(rfv + <span>20</span> &gt;= <span>255</span> ? <span>255</span> : rfv + <span>20</span>, gfv + <span>20</span> &gt;= <span>255</span> ? <span>255</span> : gfv + <span>20</span>, bfv + <span>20</span> &gt;= <span>255</span> ? <span>255</span> : bfv + <span>20</span>);</td>
        </tr>
        <tr>
          <td id="L5909" data-line-number="5909"></td>
          <td id="LC5909">
</td>
        </tr>
        <tr>
          <td id="L5910" data-line-number="5910"></td>
          <td id="LC5910">	<span>AutoCompletion::setColour</span>(bgDarker, AutoCompletion::AutocompleteColorIndex::autocompleteBg);</td>
        </tr>
        <tr>
          <td id="L5911" data-line-number="5911"></td>
          <td id="LC5911">	<span>AutoCompletion::setColour</span>(bgColor, AutoCompletion::AutocompleteColorIndex::selectedBg);</td>
        </tr>
        <tr>
          <td id="L5912" data-line-number="5912"></td>
          <td id="LC5912">	<span>AutoCompletion::setColour</span>(fgDarker, AutoCompletion::AutocompleteColorIndex::autocompleteText);</td>
        </tr>
        <tr>
          <td id="L5913" data-line-number="5913"></td>
          <td id="LC5913">	<span>AutoCompletion::setColour</span>(fgColor, AutoCompletion::AutocompleteColorIndex::selectedText);</td>
        </tr>
        <tr>
          <td id="L5914" data-line-number="5914"></td>
          <td id="LC5914">
</td>
        </tr>
        <tr>
          <td id="L5915" data-line-number="5915"></td>
          <td id="LC5915">	<span>AutoCompletion::setColour</span>(bgDarker, AutoCompletion::AutocompleteColorIndex::calltipBg);</td>
        </tr>
        <tr>
          <td id="L5916" data-line-number="5916"></td>
          <td id="LC5916">	<span>AutoCompletion::setColour</span>(fgDarker, AutoCompletion::AutocompleteColorIndex::calltipText);</td>
        </tr>
        <tr>
          <td id="L5917" data-line-number="5917"></td>
          <td id="LC5917">	<span>AutoCompletion::setColour</span>(fgLigher, AutoCompletion::AutocompleteColorIndex::calltipHighlight);</td>
        </tr>
        <tr>
          <td id="L5918" data-line-number="5918"></td>
          <td id="LC5918">	</td>
        </tr>
        <tr>
          <td id="L5919" data-line-number="5919"></td>
          <td id="LC5919">}</td>
        </tr>
        <tr>
          <td id="L5920" data-line-number="5920"></td>
          <td id="LC5920">
</td>
        </tr>
        <tr>
          <td id="L5921" data-line-number="5921"></td>
          <td id="LC5921"><span>void</span> <span>Notepad_plus::drawDocumentMapColoursFromStylerArray</span>()</td>
        </tr>
        <tr>
          <td id="L5922" data-line-number="5922"></td>
          <td id="LC5922">{</td>
        </tr>
        <tr>
          <td id="L5923" data-line-number="5923"></td>
          <td id="LC5923">	<span>Style</span>* docMap = <span>getStyleFromName</span>(VIEWZONE_DOCUMENTMAP);</td>
        </tr>
        <tr>
          <td id="L5924" data-line-number="5924"></td>
          <td id="LC5924">	<span>if</span> (docMap &amp;&amp; <span>static_cast</span>&lt;<span>long</span>&gt;(docMap-&gt;<span>_fgColor</span>) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5925" data-line-number="5925"></td>
          <td id="LC5925">		<span>ViewZoneDlg::setColour</span>(docMap-&gt;<span>_fgColor</span>, ViewZoneDlg::ViewZoneColorIndex::focus);</td>
        </tr>
        <tr>
          <td id="L5926" data-line-number="5926"></td>
          <td id="LC5926">	<span>if</span> (docMap &amp;&amp; <span>static_cast</span>&lt;<span>long</span>&gt;(docMap-&gt;<span>_bgColor</span>) != -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5927" data-line-number="5927"></td>
          <td id="LC5927">		<span>ViewZoneDlg::setColour</span>(docMap-&gt;<span>_bgColor</span>, ViewZoneDlg::ViewZoneColorIndex::frost);</td>
        </tr>
        <tr>
          <td id="L5928" data-line-number="5928"></td>
          <td id="LC5928">}</td>
        </tr>
        <tr>
          <td id="L5929" data-line-number="5929"></td>
          <td id="LC5929">
</td>
        </tr>
        <tr>
          <td id="L5930" data-line-number="5930"></td>
          <td id="LC5930"><span>void</span> <span>Notepad_plus::prepareBufferChangedDialog</span>(Buffer * buffer)</td>
        </tr>
        <tr>
          <td id="L5931" data-line-number="5931"></td>
          <td id="LC5931">{</td>
        </tr>
        <tr>
          <td id="L5932" data-line-number="5932"></td>
          <td id="LC5932">	<span><span>//</span> immediately show window if it was minimized before</span></td>
        </tr>
        <tr>
          <td id="L5933" data-line-number="5933"></td>
          <td id="LC5933">	<span>if</span> (::<span>IsIconic</span>(_pPublicInterface-&gt;<span>getHSelf</span>()))</td>
        </tr>
        <tr>
          <td id="L5934" data-line-number="5934"></td>
          <td id="LC5934">		<span>::ShowWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), SW_RESTORE);</td>
        </tr>
        <tr>
          <td id="L5935" data-line-number="5935"></td>
          <td id="LC5935">
</td>
        </tr>
        <tr>
          <td id="L5936" data-line-number="5936"></td>
          <td id="LC5936">	<span><span>//</span> switch to the file that changed</span></td>
        </tr>
        <tr>
          <td id="L5937" data-line-number="5937"></td>
          <td id="LC5937">	<span>int</span> index = _pDocTab-&gt;<span>getIndexByBuffer</span>(buffer-&gt;<span>getID</span>());</td>
        </tr>
        <tr>
          <td id="L5938" data-line-number="5938"></td>
          <td id="LC5938">	<span>int</span> iView = currentView();</td>
        </tr>
        <tr>
          <td id="L5939" data-line-number="5939"></td>
          <td id="LC5939">	<span>if</span> (index == -<span>1</span>)</td>
        </tr>
        <tr>
          <td id="L5940" data-line-number="5940"></td>
          <td id="LC5940">		iView = otherView();</td>
        </tr>
        <tr>
          <td id="L5941" data-line-number="5941"></td>
          <td id="LC5941">	<span>activateBuffer</span>(buffer-&gt;<span>getID</span>(), iView);	<span><span>//</span>activate the buffer in the first view possible</span></td>
        </tr>
        <tr>
          <td id="L5942" data-line-number="5942"></td>
          <td id="LC5942">
</td>
        </tr>
        <tr>
          <td id="L5943" data-line-number="5943"></td>
          <td id="LC5943">	<span><span>//</span> prevent flickering issue by &#34;manually&#34; clicking and activating the _pEditView</span></td>
        </tr>
        <tr>
          <td id="L5944" data-line-number="5944"></td>
          <td id="LC5944">	<span><span>//</span> (mouse events seem to get lost / improperly handled when showing the dialog)</span></td>
        </tr>
        <tr>
          <td id="L5945" data-line-number="5945"></td>
          <td id="LC5945">	<span>auto</span> curPos = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L5946" data-line-number="5946"></td>
          <td id="LC5946">	<span>::PostMessage</span>(_pEditView-&gt;<span>getHSelf</span>(), WM_LBUTTONDOWN, 0, 0);</td>
        </tr>
        <tr>
          <td id="L5947" data-line-number="5947"></td>
          <td id="LC5947">	<span>::PostMessage</span>(_pEditView-&gt;<span>getHSelf</span>(), WM_LBUTTONUP, 0, 0);</td>
        </tr>
        <tr>
          <td id="L5948" data-line-number="5948"></td>
          <td id="LC5948">	<span>::PostMessage</span>(_pEditView-&gt;<span>getHSelf</span>(), SCI_SETSEL, curPos, curPos);</td>
        </tr>
        <tr>
          <td id="L5949" data-line-number="5949"></td>
          <td id="LC5949">}</td>
        </tr>
        <tr>
          <td id="L5950" data-line-number="5950"></td>
          <td id="LC5950">
</td>
        </tr>
        <tr>
          <td id="L5951" data-line-number="5951"></td>
          <td id="LC5951"><span>void</span> <span>Notepad_plus::notifyBufferChanged</span>(Buffer * buffer, <span>int</span> mask)</td>
        </tr>
        <tr>
          <td id="L5952" data-line-number="5952"></td>
          <td id="LC5952">{</td>
        </tr>
        <tr>
          <td id="L5953" data-line-number="5953"></td>
          <td id="LC5953">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L5954" data-line-number="5954"></td>
          <td id="LC5954">	<span>const</span> NppGUI &amp; nppGUI = nppParam.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L5955" data-line-number="5955"></td>
          <td id="LC5955">
</td>
        </tr>
        <tr>
          <td id="L5956" data-line-number="5956"></td>
          <td id="LC5956">	_mainEditView.<span>bufferUpdated</span>(buffer, mask);</td>
        </tr>
        <tr>
          <td id="L5957" data-line-number="5957"></td>
          <td id="LC5957">	_subEditView.<span>bufferUpdated</span>(buffer, mask);</td>
        </tr>
        <tr>
          <td id="L5958" data-line-number="5958"></td>
          <td id="LC5958">	_mainDocTab.<span>bufferUpdated</span>(buffer, mask);</td>
        </tr>
        <tr>
          <td id="L5959" data-line-number="5959"></td>
          <td id="LC5959">	_subDocTab.<span>bufferUpdated</span>(buffer, mask);</td>
        </tr>
        <tr>
          <td id="L5960" data-line-number="5960"></td>
          <td id="LC5960">
</td>
        </tr>
        <tr>
          <td id="L5961" data-line-number="5961"></td>
          <td id="LC5961">	<span>bool</span> mainActive = (_mainEditView.<span>getCurrentBuffer</span>() == buffer);</td>
        </tr>
        <tr>
          <td id="L5962" data-line-number="5962"></td>
          <td id="LC5962">	<span>bool</span> subActive = (_subEditView.<span>getCurrentBuffer</span>() == buffer);</td>
        </tr>
        <tr>
          <td id="L5963" data-line-number="5963"></td>
          <td id="LC5963">
</td>
        </tr>
        <tr>
          <td id="L5964" data-line-number="5964"></td>
          <td id="LC5964">	<span><span>//</span>Only event that applies to non-active Buffers</span></td>
        </tr>
        <tr>
          <td id="L5965" data-line-number="5965"></td>
          <td id="LC5965">	<span>if</span> (mask &amp; BufferChangeStatus)</td>
        </tr>
        <tr>
          <td id="L5966" data-line-number="5966"></td>
          <td id="LC5966">	{	<span><span>//</span>reload etc</span></td>
        </tr>
        <tr>
          <td id="L5967" data-line-number="5967"></td>
          <td id="LC5967">		<span>switch</span>(buffer-&gt;<span>getStatus</span>())</td>
        </tr>
        <tr>
          <td id="L5968" data-line-number="5968"></td>
          <td id="LC5968">		{</td>
        </tr>
        <tr>
          <td id="L5969" data-line-number="5969"></td>
          <td id="LC5969">			<span>case</span> DOC_UNNAMED: 	<span><span>//</span>nothing todo</span></td>
        </tr>
        <tr>
          <td id="L5970" data-line-number="5970"></td>
          <td id="LC5970">			<span>case</span> DOC_REGULAR: 	<span><span>//</span>nothing todo</span></td>
        </tr>
        <tr>
          <td id="L5971" data-line-number="5971"></td>
          <td id="LC5971">			{</td>
        </tr>
        <tr>
          <td id="L5972" data-line-number="5972"></td>
          <td id="LC5972">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L5973" data-line-number="5973"></td>
          <td id="LC5973">			}</td>
        </tr>
        <tr>
          <td id="L5974" data-line-number="5974"></td>
          <td id="LC5974">			<span>case</span> DOC_MODIFIED:	<span><span>//</span>ask for reloading</span></td>
        </tr>
        <tr>
          <td id="L5975" data-line-number="5975"></td>
          <td id="LC5975">			{</td>
        </tr>
        <tr>
          <td id="L5976" data-line-number="5976"></td>
          <td id="LC5976">				<span><span>//</span> Since it is being monitored DOC_NEEDRELOAD is going to handle the change.</span></td>
        </tr>
        <tr>
          <td id="L5977" data-line-number="5977"></td>
          <td id="LC5977">				<span>if</span> (buffer-&gt;<span>isMonitoringOn</span>())</td>
        </tr>
        <tr>
          <td id="L5978" data-line-number="5978"></td>
          <td id="LC5978">					<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L5979" data-line-number="5979"></td>
          <td id="LC5979">
</td>
        </tr>
        <tr>
          <td id="L5980" data-line-number="5980"></td>
          <td id="LC5980">				<span>bool</span> autoUpdate = (nppGUI.<span>_fileAutoDetection</span> &amp; cdAutoUpdate) ? <span>true</span> : <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L5981" data-line-number="5981"></td>
          <td id="LC5981">				<span>if</span> (!autoUpdate || buffer-&gt;<span>isDirty</span>())</td>
        </tr>
        <tr>
          <td id="L5982" data-line-number="5982"></td>
          <td id="LC5982">				{</td>
        </tr>
        <tr>
          <td id="L5983" data-line-number="5983"></td>
          <td id="LC5983">					<span>prepareBufferChangedDialog</span>(buffer);</td>
        </tr>
        <tr>
          <td id="L5984" data-line-number="5984"></td>
          <td id="LC5984">
</td>
        </tr>
        <tr>
          <td id="L5985" data-line-number="5985"></td>
          <td id="LC5985">					<span><span>//</span> Then we ask user to update</span></td>
        </tr>
        <tr>
          <td id="L5986" data-line-number="5986"></td>
          <td id="LC5986">					<span>if</span> (<span>doReloadOrNot</span>(buffer-&gt;<span>getFullPathName</span>(), buffer-&gt;<span>isDirty</span>()) != IDYES)</td>
        </tr>
        <tr>
          <td id="L5987" data-line-number="5987"></td>
          <td id="LC5987">					{</td>
        </tr>
        <tr>
          <td id="L5988" data-line-number="5988"></td>
          <td id="LC5988">						<span><span>//</span> Since the file content has changed but the user doesn&#39;t want to reload it, set state to dirty</span></td>
        </tr>
        <tr>
          <td id="L5989" data-line-number="5989"></td>
          <td id="LC5989">						buffer-&gt;<span>setDirty</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L5990" data-line-number="5990"></td>
          <td id="LC5990">
</td>
        </tr>
        <tr>
          <td id="L5991" data-line-number="5991"></td>
          <td id="LC5991">						<span><span>//</span> buffer in Notepad++ is not syncronized anymore with the file on disk</span></td>
        </tr>
        <tr>
          <td id="L5992" data-line-number="5992"></td>
          <td id="LC5992">						buffer-&gt;<span>setUnsync</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L5993" data-line-number="5993"></td>
          <td id="LC5993">
</td>
        </tr>
        <tr>
          <td id="L5994" data-line-number="5994"></td>
          <td id="LC5994">						<span>break</span>;	<span><span>//</span>abort</span></td>
        </tr>
        <tr>
          <td id="L5995" data-line-number="5995"></td>
          <td id="LC5995">					}</td>
        </tr>
        <tr>
          <td id="L5996" data-line-number="5996"></td>
          <td id="LC5996">				}</td>
        </tr>
        <tr>
          <td id="L5997" data-line-number="5997"></td>
          <td id="LC5997">				<span><span>//</span> Set _isLoadedDirty false so when the document clean state is reached the icon will be set to blue</span></td>
        </tr>
        <tr>
          <td id="L5998" data-line-number="5998"></td>
          <td id="LC5998">				buffer-&gt;<span>setLoadedDirty</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L5999" data-line-number="5999"></td>
          <td id="LC5999">
</td>
        </tr>
        <tr>
          <td id="L6000" data-line-number="6000"></td>
          <td id="LC6000">				<span><span>//</span> buffer in Notepad++ is syncronized with the file on disk</span></td>
        </tr>
        <tr>
          <td id="L6001" data-line-number="6001"></td>
          <td id="LC6001">				buffer-&gt;<span>setUnsync</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L6002" data-line-number="6002"></td>
          <td id="LC6002">
</td>
        </tr>
        <tr>
          <td id="L6003" data-line-number="6003"></td>
          <td id="LC6003">				<span>doReload</span>(buffer-&gt;<span>getID</span>(), <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L6004" data-line-number="6004"></td>
          <td id="LC6004">				<span>if</span> (mainActive || subActive)</td>
        </tr>
        <tr>
          <td id="L6005" data-line-number="6005"></td>
          <td id="LC6005">				{</td>
        </tr>
        <tr>
          <td id="L6006" data-line-number="6006"></td>
          <td id="LC6006">					<span>performPostReload</span>(mainActive?MAIN_VIEW:SUB_VIEW);</td>
        </tr>
        <tr>
          <td id="L6007" data-line-number="6007"></td>
          <td id="LC6007">				}</td>
        </tr>
        <tr>
          <td id="L6008" data-line-number="6008"></td>
          <td id="LC6008">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L6009" data-line-number="6009"></td>
          <td id="LC6009">			}</td>
        </tr>
        <tr>
          <td id="L6010" data-line-number="6010"></td>
          <td id="LC6010">			<span>case</span> DOC_NEEDRELOAD: <span><span>//</span> by log monitoring</span></td>
        </tr>
        <tr>
          <td id="L6011" data-line-number="6011"></td>
          <td id="LC6011">			{</td>
        </tr>
        <tr>
          <td id="L6012" data-line-number="6012"></td>
          <td id="LC6012">				<span>doReload</span>(buffer-&gt;<span>getID</span>(), <span>false</span>);</td>
        </tr>
        <tr>
          <td id="L6013" data-line-number="6013"></td>
          <td id="LC6013">
</td>
        </tr>
        <tr>
          <td id="L6014" data-line-number="6014"></td>
          <td id="LC6014">				<span><span>//</span> not only test main view</span></td>
        </tr>
        <tr>
          <td id="L6015" data-line-number="6015"></td>
          <td id="LC6015">				<span>if</span> (buffer == _mainEditView.<span>getCurrentBuffer</span>())</td>
        </tr>
        <tr>
          <td id="L6016" data-line-number="6016"></td>
          <td id="LC6016">				{</td>
        </tr>
        <tr>
          <td id="L6017" data-line-number="6017"></td>
          <td id="LC6017">					_mainEditView.<span>setPositionRestoreNeeded</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L6018" data-line-number="6018"></td>
          <td id="LC6018">					_mainEditView.<span>execute</span>(SCI_DOCUMENTEND);</td>
        </tr>
        <tr>
          <td id="L6019" data-line-number="6019"></td>
          <td id="LC6019">				}</td>
        </tr>
        <tr>
          <td id="L6020" data-line-number="6020"></td>
          <td id="LC6020">				<span><span>//</span> but also test sub-view, because the buffer could be clonned</span></td>
        </tr>
        <tr>
          <td id="L6021" data-line-number="6021"></td>
          <td id="LC6021">				<span>if</span> (buffer == _subEditView.<span>getCurrentBuffer</span>())</td>
        </tr>
        <tr>
          <td id="L6022" data-line-number="6022"></td>
          <td id="LC6022">				{</td>
        </tr>
        <tr>
          <td id="L6023" data-line-number="6023"></td>
          <td id="LC6023">					_subEditView.<span>setPositionRestoreNeeded</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L6024" data-line-number="6024"></td>
          <td id="LC6024">					_subEditView.<span>execute</span>(SCI_DOCUMENTEND);</td>
        </tr>
        <tr>
          <td id="L6025" data-line-number="6025"></td>
          <td id="LC6025">				}</td>
        </tr>
        <tr>
          <td id="L6026" data-line-number="6026"></td>
          <td id="LC6026">
</td>
        </tr>
        <tr>
          <td id="L6027" data-line-number="6027"></td>
          <td id="LC6027">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L6028" data-line-number="6028"></td>
          <td id="LC6028">			}</td>
        </tr>
        <tr>
          <td id="L6029" data-line-number="6029"></td>
          <td id="LC6029">			<span>case</span> DOC_DELETED: 	<span><span>//</span>ask for keep</span></td>
        </tr>
        <tr>
          <td id="L6030" data-line-number="6030"></td>
          <td id="LC6030">			{</td>
        </tr>
        <tr>
          <td id="L6031" data-line-number="6031"></td>
          <td id="LC6031">				<span>prepareBufferChangedDialog</span>(buffer);</td>
        </tr>
        <tr>
          <td id="L6032" data-line-number="6032"></td>
          <td id="LC6032">
</td>
        </tr>
        <tr>
          <td id="L6033" data-line-number="6033"></td>
          <td id="LC6033">				SCNotification scnN{};</td>
        </tr>
        <tr>
          <td id="L6034" data-line-number="6034"></td>
          <td id="LC6034">				scnN.<span>nmhdr</span>.<span>code</span> = NPPN_FILEDELETED;</td>
        </tr>
        <tr>
          <td id="L6035" data-line-number="6035"></td>
          <td id="LC6035">				scnN.<span>nmhdr</span>.<span>hwndFrom</span> = _pPublicInterface-&gt;<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L6036" data-line-number="6036"></td>
          <td id="LC6036">				scnN.<span>nmhdr</span>.<span>idFrom</span> = (<span>uptr_t</span>)buffer-&gt;<span>getID</span>();</td>
        </tr>
        <tr>
          <td id="L6037" data-line-number="6037"></td>
          <td id="LC6037">				_pluginsManager.<span>notify</span>(&amp;scnN);</td>
        </tr>
        <tr>
          <td id="L6038" data-line-number="6038"></td>
          <td id="LC6038">
</td>
        </tr>
        <tr>
          <td id="L6039" data-line-number="6039"></td>
          <td id="LC6039">				<span>int</span> doCloseDoc = <span>doCloseOrNot</span>(buffer-&gt;<span>getFullPathName</span>()) == IDNO;</td>
        </tr>
        <tr>
          <td id="L6040" data-line-number="6040"></td>
          <td id="LC6040">				<span>if</span> (doCloseDoc)</td>
        </tr>
        <tr>
          <td id="L6041" data-line-number="6041"></td>
          <td id="LC6041">				{</td>
        </tr>
        <tr>
          <td id="L6042" data-line-number="6042"></td>
          <td id="LC6042">					<span><span>//</span>close in both views, doing current view last since that has to remain opened</span></td>
        </tr>
        <tr>
          <td id="L6043" data-line-number="6043"></td>
          <td id="LC6043">					<span>bool</span> isSnapshotMode = nppGUI.<span>isSnapshotMode</span>();</td>
        </tr>
        <tr>
          <td id="L6044" data-line-number="6044"></td>
          <td id="LC6044">					<span>doClose</span>(buffer-&gt;<span>getID</span>(), <span>otherView</span>(), isSnapshotMode);</td>
        </tr>
        <tr>
          <td id="L6045" data-line-number="6045"></td>
          <td id="LC6045">					<span>doClose</span>(buffer-&gt;<span>getID</span>(), <span>currentView</span>(), isSnapshotMode);</td>
        </tr>
        <tr>
          <td id="L6046" data-line-number="6046"></td>
          <td id="LC6046">					<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L6047" data-line-number="6047"></td>
          <td id="LC6047">				}</td>
        </tr>
        <tr>
          <td id="L6048" data-line-number="6048"></td>
          <td id="LC6048">				<span>else</span></td>
        </tr>
        <tr>
          <td id="L6049" data-line-number="6049"></td>
          <td id="LC6049">				{</td>
        </tr>
        <tr>
          <td id="L6050" data-line-number="6050"></td>
          <td id="LC6050">					<span><span>//</span> buffer in Notepad++ is not syncronized anymore with the file on disk</span></td>
        </tr>
        <tr>
          <td id="L6051" data-line-number="6051"></td>
          <td id="LC6051">					buffer-&gt;<span>setUnsync</span>(<span>true</span>);</td>
        </tr>
        <tr>
          <td id="L6052" data-line-number="6052"></td>
          <td id="LC6052">				}</td>
        </tr>
        <tr>
          <td id="L6053" data-line-number="6053"></td>
          <td id="LC6053">
</td>
        </tr>
        <tr>
          <td id="L6054" data-line-number="6054"></td>
          <td id="LC6054">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L6055" data-line-number="6055"></td>
          <td id="LC6055">			}</td>
        </tr>
        <tr>
          <td id="L6056" data-line-number="6056"></td>
          <td id="LC6056">		}</td>
        </tr>
        <tr>
          <td id="L6057" data-line-number="6057"></td>
          <td id="LC6057">	}</td>
        </tr>
        <tr>
          <td id="L6058" data-line-number="6058"></td>
          <td id="LC6058">
</td>
        </tr>
        <tr>
          <td id="L6059" data-line-number="6059"></td>
          <td id="LC6059">    <span>if</span> (mask &amp; (BufferChangeReadonly))</td>
        </tr>
        <tr>
          <td id="L6060" data-line-number="6060"></td>
          <td id="LC6060">	{</td>
        </tr>
        <tr>
          <td id="L6061" data-line-number="6061"></td>
          <td id="LC6061">		<span>checkDocState</span>();</td>
        </tr>
        <tr>
          <td id="L6062" data-line-number="6062"></td>
          <td id="LC6062">
</td>
        </tr>
        <tr>
          <td id="L6063" data-line-number="6063"></td>
          <td id="LC6063">		<span>bool</span> isSysReadOnly = buffer-&gt;<span>getFileReadOnly</span>();</td>
        </tr>
        <tr>
          <td id="L6064" data-line-number="6064"></td>
          <td id="LC6064">		<span>bool</span> isUserReadOnly = buffer-&gt;<span>getUserReadOnly</span>();</td>
        </tr>
        <tr>
          <td id="L6065" data-line-number="6065"></td>
          <td id="LC6065">		<span>bool</span> isDirty = buffer-&gt;<span>isDirty</span>();</td>
        </tr>
        <tr>
          <td id="L6066" data-line-number="6066"></td>
          <td id="LC6066">
</td>
        </tr>
        <tr>
          <td id="L6067" data-line-number="6067"></td>
          <td id="LC6067">		<span><span>//</span> To notify plugins ro status is changed</span></td>
        </tr>
        <tr>
          <td id="L6068" data-line-number="6068"></td>
          <td id="LC6068">		SCNotification scnN{};</td>
        </tr>
        <tr>
          <td id="L6069" data-line-number="6069"></td>
          <td id="LC6069">		scnN.<span>nmhdr</span>.<span>hwndFrom</span> = (<span>void</span> *)buffer-&gt;<span>getID</span>();</td>
        </tr>
        <tr>
          <td id="L6070" data-line-number="6070"></td>
          <td id="LC6070">		scnN.<span>nmhdr</span>.<span>idFrom</span> = (<span>uptr_t</span>)  ((isSysReadOnly || isUserReadOnly? DOCSTATUS_READONLY : <span>0</span>) | (isDirty ? DOCSTATUS_BUFFERDIRTY : <span>0</span>));</td>
        </tr>
        <tr>
          <td id="L6071" data-line-number="6071"></td>
          <td id="LC6071">		scnN.<span>nmhdr</span>.<span>code</span> = NPPN_READONLYCHANGED;</td>
        </tr>
        <tr>
          <td id="L6072" data-line-number="6072"></td>
          <td id="LC6072">		_pluginsManager.<span>notify</span>(&amp;scnN);</td>
        </tr>
        <tr>
          <td id="L6073" data-line-number="6073"></td>
          <td id="LC6073">
</td>
        </tr>
        <tr>
          <td id="L6074" data-line-number="6074"></td>
          <td id="LC6074">	}</td>
        </tr>
        <tr>
          <td id="L6075" data-line-number="6075"></td>
          <td id="LC6075">
</td>
        </tr>
        <tr>
          <td id="L6076" data-line-number="6076"></td>
          <td id="LC6076">	<span>if</span> (_pDocumentListPanel)</td>
        </tr>
        <tr>
          <td id="L6077" data-line-number="6077"></td>
          <td id="LC6077">		_pDocumentListPanel-&gt;<span>setItemIconStatus</span>(buffer);</td>
        </tr>
        <tr>
          <td id="L6078" data-line-number="6078"></td>
          <td id="LC6078">
</td>
        </tr>
        <tr>
          <td id="L6079" data-line-number="6079"></td>
          <td id="LC6079">	<span>if</span> (!mainActive &amp;&amp; !subActive)</td>
        </tr>
        <tr>
          <td id="L6080" data-line-number="6080"></td>
          <td id="LC6080">	{</td>
        </tr>
        <tr>
          <td id="L6081" data-line-number="6081"></td>
          <td id="LC6081">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L6082" data-line-number="6082"></td>
          <td id="LC6082">	}</td>
        </tr>
        <tr>
          <td id="L6083" data-line-number="6083"></td>
          <td id="LC6083">
</td>
        </tr>
        <tr>
          <td id="L6084" data-line-number="6084"></td>
          <td id="LC6084">	<span>if</span> (mask &amp; (BufferChangeLanguage))</td>
        </tr>
        <tr>
          <td id="L6085" data-line-number="6085"></td>
          <td id="LC6085">	{</td>
        </tr>
        <tr>
          <td id="L6086" data-line-number="6086"></td>
          <td id="LC6086">		<span>if</span> (mainActive)</td>
        </tr>
        <tr>
          <td id="L6087" data-line-number="6087"></td>
          <td id="LC6087">			_autoCompleteMain.<span>setLanguage</span>(buffer-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6088" data-line-number="6088"></td>
          <td id="LC6088">		<span>if</span> (subActive)</td>
        </tr>
        <tr>
          <td id="L6089" data-line-number="6089"></td>
          <td id="LC6089">			_autoCompleteSub.<span>setLanguage</span>(buffer-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6090" data-line-number="6090"></td>
          <td id="LC6090">	}</td>
        </tr>
        <tr>
          <td id="L6091" data-line-number="6091"></td>
          <td id="LC6091">
</td>
        </tr>
        <tr>
          <td id="L6092" data-line-number="6092"></td>
          <td id="LC6092">	<span>if</span> ((<span>currentView</span>() == MAIN_VIEW) &amp;&amp; !mainActive)</td>
        </tr>
        <tr>
          <td id="L6093" data-line-number="6093"></td>
          <td id="LC6093">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L6094" data-line-number="6094"></td>
          <td id="LC6094">
</td>
        </tr>
        <tr>
          <td id="L6095" data-line-number="6095"></td>
          <td id="LC6095">	<span>if</span> ((<span>currentView</span>() == SUB_VIEW) &amp;&amp; !subActive)</td>
        </tr>
        <tr>
          <td id="L6096" data-line-number="6096"></td>
          <td id="LC6096">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L6097" data-line-number="6097"></td>
          <td id="LC6097">
</td>
        </tr>
        <tr>
          <td id="L6098" data-line-number="6098"></td>
          <td id="LC6098">	<span>if</span> (mask &amp; (BufferChangeDirty|BufferChangeFilename))</td>
        </tr>
        <tr>
          <td id="L6099" data-line-number="6099"></td>
          <td id="LC6099">	{</td>
        </tr>
        <tr>
          <td id="L6100" data-line-number="6100"></td>
          <td id="LC6100">		<span>if</span> (mask &amp; BufferChangeFilename)</td>
        </tr>
        <tr>
          <td id="L6101" data-line-number="6101"></td>
          <td id="LC6101">			<span>command</span>(IDM_VIEW_REFRESHTABAR);</td>
        </tr>
        <tr>
          <td id="L6102" data-line-number="6102"></td>
          <td id="LC6102">		<span>checkDocState</span>();</td>
        </tr>
        <tr>
          <td id="L6103" data-line-number="6103"></td>
          <td id="LC6103">		<span>setTitle</span>();</td>
        </tr>
        <tr>
          <td id="L6104" data-line-number="6104"></td>
          <td id="LC6104">		generic_string <span>dir</span>(buffer-&gt;<span>getFullPathName</span>());</td>
        </tr>
        <tr>
          <td id="L6105" data-line-number="6105"></td>
          <td id="LC6105">		<span>PathRemoveFileSpec</span>(dir);</td>
        </tr>
        <tr>
          <td id="L6106" data-line-number="6106"></td>
          <td id="LC6106">		<span>setWorkingDir</span>(dir.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6107" data-line-number="6107"></td>
          <td id="LC6107">	}</td>
        </tr>
        <tr>
          <td id="L6108" data-line-number="6108"></td>
          <td id="LC6108">
</td>
        </tr>
        <tr>
          <td id="L6109" data-line-number="6109"></td>
          <td id="LC6109">	<span>if</span> (mask &amp; (BufferChangeLanguage))</td>
        </tr>
        <tr>
          <td id="L6110" data-line-number="6110"></td>
          <td id="LC6110">	{</td>
        </tr>
        <tr>
          <td id="L6111" data-line-number="6111"></td>
          <td id="LC6111">		<span>checkLangsMenu</span>(-<span>1</span>);	<span><span>//</span>let N++ do search for the item</span></td>
        </tr>
        <tr>
          <td id="L6112" data-line-number="6112"></td>
          <td id="LC6112">		<span>setLangStatus</span>(buffer-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6113" data-line-number="6113"></td>
          <td id="LC6113">		<span>if</span> (_mainEditView.<span>getCurrentBuffer</span>() == buffer)</td>
        </tr>
        <tr>
          <td id="L6114" data-line-number="6114"></td>
          <td id="LC6114">			_autoCompleteMain.<span>setLanguage</span>(buffer-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6115" data-line-number="6115"></td>
          <td id="LC6115">		<span>else</span> <span>if</span> (_subEditView.<span>getCurrentBuffer</span>() == buffer)</td>
        </tr>
        <tr>
          <td id="L6116" data-line-number="6116"></td>
          <td id="LC6116">			_autoCompleteSub.<span>setLanguage</span>(buffer-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6117" data-line-number="6117"></td>
          <td id="LC6117">
</td>
        </tr>
        <tr>
          <td id="L6118" data-line-number="6118"></td>
          <td id="LC6118">		SCNotification scnN{};</td>
        </tr>
        <tr>
          <td id="L6119" data-line-number="6119"></td>
          <td id="LC6119">		scnN.<span>nmhdr</span>.<span>code</span> = NPPN_LANGCHANGED;</td>
        </tr>
        <tr>
          <td id="L6120" data-line-number="6120"></td>
          <td id="LC6120">		scnN.<span>nmhdr</span>.<span>hwndFrom</span> = _pPublicInterface-&gt;<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L6121" data-line-number="6121"></td>
          <td id="LC6121">		scnN.<span>nmhdr</span>.<span>idFrom</span> = (<span>uptr_t</span>)_pEditView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L6122" data-line-number="6122"></td>
          <td id="LC6122">		_pluginsManager.<span>notify</span>(&amp;scnN);</td>
        </tr>
        <tr>
          <td id="L6123" data-line-number="6123"></td>
          <td id="LC6123">	}</td>
        </tr>
        <tr>
          <td id="L6124" data-line-number="6124"></td>
          <td id="LC6124">
</td>
        </tr>
        <tr>
          <td id="L6125" data-line-number="6125"></td>
          <td id="LC6125">	<span>if</span> (mask &amp; (BufferChangeFormat|BufferChangeLanguage|BufferChangeUnicode))</td>
        </tr>
        <tr>
          <td id="L6126" data-line-number="6126"></td>
          <td id="LC6126">	{</td>
        </tr>
        <tr>
          <td id="L6127" data-line-number="6127"></td>
          <td id="LC6127">		<span>updateStatusBar</span>();</td>
        </tr>
        <tr>
          <td id="L6128" data-line-number="6128"></td>
          <td id="LC6128">		<span>checkUnicodeMenuItems</span>(<span><span>/*</span>buffer-&gt;getUnicodeMode()<span>*/</span></span>);</td>
        </tr>
        <tr>
          <td id="L6129" data-line-number="6129"></td>
          <td id="LC6129">		<span>setUniModeText</span>();</td>
        </tr>
        <tr>
          <td id="L6130" data-line-number="6130"></td>
          <td id="LC6130">		<span>setDisplayFormat</span>(buffer-&gt;<span>getEolFormat</span>());</td>
        </tr>
        <tr>
          <td id="L6131" data-line-number="6131"></td>
          <td id="LC6131">		<span>enableConvertMenuItems</span>(buffer-&gt;<span>getEolFormat</span>());</td>
        </tr>
        <tr>
          <td id="L6132" data-line-number="6132"></td>
          <td id="LC6132">	}</td>
        </tr>
        <tr>
          <td id="L6133" data-line-number="6133"></td>
          <td id="LC6133">}</td>
        </tr>
        <tr>
          <td id="L6134" data-line-number="6134"></td>
          <td id="LC6134">
</td>
        </tr>
        <tr>
          <td id="L6135" data-line-number="6135"></td>
          <td id="LC6135"><span>void</span> <span>Notepad_plus::notifyBufferActivated</span>(BufferID bufid, <span>int</span> view)</td>
        </tr>
        <tr>
          <td id="L6136" data-line-number="6136"></td>
          <td id="LC6136">{</td>
        </tr>
        <tr>
          <td id="L6137" data-line-number="6137"></td>
          <td id="LC6137">	Buffer * buf = MainFileManager.<span>getBufferByID</span>(bufid);</td>
        </tr>
        <tr>
          <td id="L6138" data-line-number="6138"></td>
          <td id="LC6138">	buf-&gt;<span>increaseRecentTag</span>();</td>
        </tr>
        <tr>
          <td id="L6139" data-line-number="6139"></td>
          <td id="LC6139">
</td>
        </tr>
        <tr>
          <td id="L6140" data-line-number="6140"></td>
          <td id="LC6140">	<span>if</span> (view == MAIN_VIEW)</td>
        </tr>
        <tr>
          <td id="L6141" data-line-number="6141"></td>
          <td id="LC6141">	{</td>
        </tr>
        <tr>
          <td id="L6142" data-line-number="6142"></td>
          <td id="LC6142">		_autoCompleteMain.<span>setLanguage</span>(buf-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6143" data-line-number="6143"></td>
          <td id="LC6143">	}</td>
        </tr>
        <tr>
          <td id="L6144" data-line-number="6144"></td>
          <td id="LC6144">	<span>else</span> <span>if</span> (view == SUB_VIEW)</td>
        </tr>
        <tr>
          <td id="L6145" data-line-number="6145"></td>
          <td id="LC6145">	{</td>
        </tr>
        <tr>
          <td id="L6146" data-line-number="6146"></td>
          <td id="LC6146">		_autoCompleteSub.<span>setLanguage</span>(buf-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6147" data-line-number="6147"></td>
          <td id="LC6147">	}</td>
        </tr>
        <tr>
          <td id="L6148" data-line-number="6148"></td>
          <td id="LC6148">
</td>
        </tr>
        <tr>
          <td id="L6149" data-line-number="6149"></td>
          <td id="LC6149">	<span>if</span> (view != <span>currentView</span>())</td>
        </tr>
        <tr>
          <td id="L6150" data-line-number="6150"></td>
          <td id="LC6150">		<span>return</span>;	<span><span>//</span>dont care if another view did something</span></td>
        </tr>
        <tr>
          <td id="L6151" data-line-number="6151"></td>
          <td id="LC6151">
</td>
        </tr>
        <tr>
          <td id="L6152" data-line-number="6152"></td>
          <td id="LC6152">
</td>
        </tr>
        <tr>
          <td id="L6153" data-line-number="6153"></td>
          <td id="LC6153">	<span>checkDocState</span>();</td>
        </tr>
        <tr>
          <td id="L6154" data-line-number="6154"></td>
          <td id="LC6154">	<span>dynamicCheckMenuAndTB</span>();</td>
        </tr>
        <tr>
          <td id="L6155" data-line-number="6155"></td>
          <td id="LC6155">	<span>setLangStatus</span>(buf-&gt;<span>getLangType</span>());</td>
        </tr>
        <tr>
          <td id="L6156" data-line-number="6156"></td>
          <td id="LC6156">	<span>updateStatusBar</span>();</td>
        </tr>
        <tr>
          <td id="L6157" data-line-number="6157"></td>
          <td id="LC6157">	<span>checkUnicodeMenuItems</span>(<span><span>/*</span>buf-&gt;getUnicodeMode()<span>*/</span></span>);</td>
        </tr>
        <tr>
          <td id="L6158" data-line-number="6158"></td>
          <td id="LC6158">	<span>setUniModeText</span>();</td>
        </tr>
        <tr>
          <td id="L6159" data-line-number="6159"></td>
          <td id="LC6159">	<span>setDisplayFormat</span>(buf-&gt;<span>getEolFormat</span>());</td>
        </tr>
        <tr>
          <td id="L6160" data-line-number="6160"></td>
          <td id="LC6160">	<span>enableConvertMenuItems</span>(buf-&gt;<span>getEolFormat</span>());</td>
        </tr>
        <tr>
          <td id="L6161" data-line-number="6161"></td>
          <td id="LC6161">	generic_string <span>dir</span>(buf-&gt;<span>getFullPathName</span>());</td>
        </tr>
        <tr>
          <td id="L6162" data-line-number="6162"></td>
          <td id="LC6162">	<span>PathRemoveFileSpec</span>(dir);</td>
        </tr>
        <tr>
          <td id="L6163" data-line-number="6163"></td>
          <td id="LC6163">	<span>setWorkingDir</span>(dir.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6164" data-line-number="6164"></td>
          <td id="LC6164">	<span>setTitle</span>();</td>
        </tr>
        <tr>
          <td id="L6165" data-line-number="6165"></td>
          <td id="LC6165">	<span><span>//</span>Make sure the colors of the tab controls match</span></td>
        </tr>
        <tr>
          <td id="L6166" data-line-number="6166"></td>
          <td id="LC6166">	<span>::InvalidateRect</span>(_mainDocTab.getHSelf(), NULL, FALSE);</td>
        </tr>
        <tr>
          <td id="L6167" data-line-number="6167"></td>
          <td id="LC6167">	<span>::InvalidateRect</span>(_subDocTab.getHSelf(), NULL, FALSE);</td>
        </tr>
        <tr>
          <td id="L6168" data-line-number="6168"></td>
          <td id="LC6168">
</td>
        </tr>
        <tr>
          <td id="L6169" data-line-number="6169"></td>
          <td id="LC6169">	SCNotification scnN{};</td>
        </tr>
        <tr>
          <td id="L6170" data-line-number="6170"></td>
          <td id="LC6170">	scnN.<span>nmhdr</span>.<span>code</span> = NPPN_BUFFERACTIVATED;</td>
        </tr>
        <tr>
          <td id="L6171" data-line-number="6171"></td>
          <td id="LC6171">	scnN.<span>nmhdr</span>.<span>hwndFrom</span> = _pPublicInterface-&gt;<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L6172" data-line-number="6172"></td>
          <td id="LC6172">	scnN.<span>nmhdr</span>.<span>idFrom</span> = (<span>uptr_t</span>)bufid;</td>
        </tr>
        <tr>
          <td id="L6173" data-line-number="6173"></td>
          <td id="LC6173">	_pluginsManager.<span>notify</span>(&amp;scnN);</td>
        </tr>
        <tr>
          <td id="L6174" data-line-number="6174"></td>
          <td id="LC6174">
</td>
        </tr>
        <tr>
          <td id="L6175" data-line-number="6175"></td>
          <td id="LC6175">	<span>if</span> (_pDocumentListPanel)</td>
        </tr>
        <tr>
          <td id="L6176" data-line-number="6176"></td>
          <td id="LC6176">	{</td>
        </tr>
        <tr>
          <td id="L6177" data-line-number="6177"></td>
          <td id="LC6177">		_pDocumentListPanel-&gt;<span>activateItem</span>(bufid, <span>currentView</span>());</td>
        </tr>
        <tr>
          <td id="L6178" data-line-number="6178"></td>
          <td id="LC6178">	}</td>
        </tr>
        <tr>
          <td id="L6179" data-line-number="6179"></td>
          <td id="LC6179">
</td>
        </tr>
        <tr>
          <td id="L6180" data-line-number="6180"></td>
          <td id="LC6180">	<span>if</span> (_pDocMap &amp;&amp; (!_pDocMap-&gt;<span>isClosed</span>()) &amp;&amp; _pDocMap-&gt;<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L6181" data-line-number="6181"></td>
          <td id="LC6181">	{</td>
        </tr>
        <tr>
          <td id="L6182" data-line-number="6182"></td>
          <td id="LC6182">		_pDocMap-&gt;<span>reloadMap</span>();</td>
        </tr>
        <tr>
          <td id="L6183" data-line-number="6183"></td>
          <td id="LC6183">		_pDocMap-&gt;<span>setSyntaxHiliting</span>();</td>
        </tr>
        <tr>
          <td id="L6184" data-line-number="6184"></td>
          <td id="LC6184">	}</td>
        </tr>
        <tr>
          <td id="L6185" data-line-number="6185"></td>
          <td id="LC6185">
</td>
        </tr>
        <tr>
          <td id="L6186" data-line-number="6186"></td>
          <td id="LC6186">	<span>if</span> (_pFuncList &amp;&amp; (!_pFuncList-&gt;<span>isClosed</span>()) &amp;&amp; _pFuncList-&gt;<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L6187" data-line-number="6187"></td>
          <td id="LC6187">	{</td>
        </tr>
        <tr>
          <td id="L6188" data-line-number="6188"></td>
          <td id="LC6188">		_pFuncList-&gt;<span>reload</span>();</td>
        </tr>
        <tr>
          <td id="L6189" data-line-number="6189"></td>
          <td id="LC6189">	}</td>
        </tr>
        <tr>
          <td id="L6190" data-line-number="6190"></td>
          <td id="LC6190">
</td>
        </tr>
        <tr>
          <td id="L6191" data-line-number="6191"></td>
          <td id="LC6191">	_linkTriggered = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L6192" data-line-number="6192"></td>
          <td id="LC6192">}</td>
        </tr>
        <tr>
          <td id="L6193" data-line-number="6193"></td>
          <td id="LC6193">
</td>
        </tr>
        <tr>
          <td id="L6194" data-line-number="6194"></td>
          <td id="LC6194">std::vector&lt;generic_string&gt; <span>Notepad_plus::loadCommandlineParams</span>(<span>const</span> TCHAR * commandLine, <span>const</span> CmdLineParamsDTO * pCmdParams)</td>
        </tr>
        <tr>
          <td id="L6195" data-line-number="6195"></td>
          <td id="LC6195">{</td>
        </tr>
        <tr>
          <td id="L6196" data-line-number="6196"></td>
          <td id="LC6196">	<span>if</span> (!commandLine || ! pCmdParams)</td>
        </tr>
        <tr>
          <td id="L6197" data-line-number="6197"></td>
          <td id="LC6197">		<span>return</span> std::vector&lt;generic_string&gt;();</td>
        </tr>
        <tr>
          <td id="L6198" data-line-number="6198"></td>
          <td id="LC6198">
</td>
        </tr>
        <tr>
          <td id="L6199" data-line-number="6199"></td>
          <td id="LC6199">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6200" data-line-number="6200"></td>
          <td id="LC6200">	<span>const</span> NppGUI&amp; nppGUI = nppParams.<span>getNppGUI</span>();</td>
        </tr>
        <tr>
          <td id="L6201" data-line-number="6201"></td>
          <td id="LC6201">	FileNameStringSplitter <span>fnss</span>(commandLine);</td>
        </tr>
        <tr>
          <td id="L6202" data-line-number="6202"></td>
          <td id="LC6202">
</td>
        </tr>
        <tr>
          <td id="L6203" data-line-number="6203"></td>
          <td id="LC6203">	<span><span>//</span> loading file as session file is allowed only when there is only one file</span></td>
        </tr>
        <tr>
          <td id="L6204" data-line-number="6204"></td>
          <td id="LC6204">	<span>if</span> (pCmdParams-&gt;<span>_isSessionFile</span> &amp;&amp; fnss.<span>size</span>() == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L6205" data-line-number="6205"></td>
          <td id="LC6205">	{</td>
        </tr>
        <tr>
          <td id="L6206" data-line-number="6206"></td>
          <td id="LC6206">		Session session2Load;</td>
        </tr>
        <tr>
          <td id="L6207" data-line-number="6207"></td>
          <td id="LC6207">		<span>if</span> (nppParams.<span>loadSession</span>(session2Load, fnss.<span>getFileName</span>(<span>0</span>)))</td>
        </tr>
        <tr>
          <td id="L6208" data-line-number="6208"></td>
          <td id="LC6208">		{</td>
        </tr>
        <tr>
          <td id="L6209" data-line-number="6209"></td>
          <td id="LC6209">			<span>const</span> <span>bool</span> isSnapshotMode = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L6210" data-line-number="6210"></td>
          <td id="LC6210">			<span>const</span> <span>bool</span> shouldLoadFileBrowser = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L6211" data-line-number="6211"></td>
          <td id="LC6211">
</td>
        </tr>
        <tr>
          <td id="L6212" data-line-number="6212"></td>
          <td id="LC6212">			<span>if</span> ((nppGUI.<span>_multiInstSetting</span> == multiInstOnSession) || (nppGUI.<span>_multiInstSetting</span> == multiInst))</td>
        </tr>
        <tr>
          <td id="L6213" data-line-number="6213"></td>
          <td id="LC6213">				nppParams.<span>setLoadedSessionFilePath</span>(fnss.<span>getFileName</span>(<span>0</span>));</td>
        </tr>
        <tr>
          <td id="L6214" data-line-number="6214"></td>
          <td id="LC6214">			<span>loadSession</span>(session2Load, isSnapshotMode, shouldLoadFileBrowser);</td>
        </tr>
        <tr>
          <td id="L6215" data-line-number="6215"></td>
          <td id="LC6215">		}</td>
        </tr>
        <tr>
          <td id="L6216" data-line-number="6216"></td>
          <td id="LC6216">		<span>return</span> std::vector&lt;generic_string&gt;();</td>
        </tr>
        <tr>
          <td id="L6217" data-line-number="6217"></td>
          <td id="LC6217">	}</td>
        </tr>
        <tr>
          <td id="L6218" data-line-number="6218"></td>
          <td id="LC6218">
</td>
        </tr>
        <tr>
          <td id="L6219" data-line-number="6219"></td>
          <td id="LC6219"> 	LangType lt = pCmdParams-&gt;<span>_langType</span>;</td>
        </tr>
        <tr>
          <td id="L6220" data-line-number="6220"></td>
          <td id="LC6220">	generic_string udl = pCmdParams-&gt;<span>_udlName</span>;</td>
        </tr>
        <tr>
          <td id="L6221" data-line-number="6221"></td>
          <td id="LC6221">	<span>intptr_t</span> lineNumber =  pCmdParams-&gt;<span>_line2go</span>;</td>
        </tr>
        <tr>
          <td id="L6222" data-line-number="6222"></td>
          <td id="LC6222">	<span>intptr_t</span> columnNumber = pCmdParams-&gt;<span>_column2go</span>;</td>
        </tr>
        <tr>
          <td id="L6223" data-line-number="6223"></td>
          <td id="LC6223">	<span>intptr_t</span> positionNumber = pCmdParams-&gt;<span>_pos2go</span>;</td>
        </tr>
        <tr>
          <td id="L6224" data-line-number="6224"></td>
          <td id="LC6224">	<span>bool</span> recursive = pCmdParams-&gt;<span>_isRecursive</span>;</td>
        </tr>
        <tr>
          <td id="L6225" data-line-number="6225"></td>
          <td id="LC6225">	<span>bool</span> readOnly = pCmdParams-&gt;<span>_isReadOnly</span>;</td>
        </tr>
        <tr>
          <td id="L6226" data-line-number="6226"></td>
          <td id="LC6226">	<span>bool</span> openFoldersAsWorkspace = pCmdParams-&gt;<span>_openFoldersAsWorkspace</span>;</td>
        </tr>
        <tr>
          <td id="L6227" data-line-number="6227"></td>
          <td id="LC6227">	<span>bool</span> monitorFiles = pCmdParams-&gt;<span>_monitorFiles</span>;</td>
        </tr>
        <tr>
          <td id="L6228" data-line-number="6228"></td>
          <td id="LC6228">
</td>
        </tr>
        <tr>
          <td id="L6229" data-line-number="6229"></td>
          <td id="LC6229">	<span>if</span> (openFoldersAsWorkspace)</td>
        </tr>
        <tr>
          <td id="L6230" data-line-number="6230"></td>
          <td id="LC6230">	{</td>
        </tr>
        <tr>
          <td id="L6231" data-line-number="6231"></td>
          <td id="LC6231">		<span><span>//</span> All the filepath in argument will be used as folder in workspace</span></td>
        </tr>
        <tr>
          <td id="L6232" data-line-number="6232"></td>
          <td id="LC6232">		<span><span>//</span> call launchFileBrowser later with fnss</span></td>
        </tr>
        <tr>
          <td id="L6233" data-line-number="6233"></td>
          <td id="LC6233">		<span>return</span> fnss.<span>getFileNames</span>();</td>
        </tr>
        <tr>
          <td id="L6234" data-line-number="6234"></td>
          <td id="LC6234">	}</td>
        </tr>
        <tr>
          <td id="L6235" data-line-number="6235"></td>
          <td id="LC6235">
</td>
        </tr>
        <tr>
          <td id="L6236" data-line-number="6236"></td>
          <td id="LC6236">	BufferID lastOpened = BUFFER_INVALID;</td>
        </tr>
        <tr>
          <td id="L6237" data-line-number="6237"></td>
          <td id="LC6237">	<span>for</span> (<span>int</span> i = <span>0</span>, len = fnss.<span>size</span>(); i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L6238" data-line-number="6238"></td>
          <td id="LC6238">	{</td>
        </tr>
        <tr>
          <td id="L6239" data-line-number="6239"></td>
          <td id="LC6239">		<span>const</span> TCHAR *pFn = fnss.<span>getFileName</span>(i);</td>
        </tr>
        <tr>
          <td id="L6240" data-line-number="6240"></td>
          <td id="LC6240">		<span>if</span> (!pFn) <span>return</span> std::vector&lt;generic_string&gt;();</td>
        </tr>
        <tr>
          <td id="L6241" data-line-number="6241"></td>
          <td id="LC6241">
</td>
        </tr>
        <tr>
          <td id="L6242" data-line-number="6242"></td>
          <td id="LC6242">		BufferID bufID = <span>doOpen</span>(pFn, recursive, readOnly);</td>
        </tr>
        <tr>
          <td id="L6243" data-line-number="6243"></td>
          <td id="LC6243">		<span>if</span> (bufID == BUFFER_INVALID)	<span><span>//</span>cannot open file</span></td>
        </tr>
        <tr>
          <td id="L6244" data-line-number="6244"></td>
          <td id="LC6244">			<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L6245" data-line-number="6245"></td>
          <td id="LC6245">
</td>
        </tr>
        <tr>
          <td id="L6246" data-line-number="6246"></td>
          <td id="LC6246">		lastOpened = bufID;</td>
        </tr>
        <tr>
          <td id="L6247" data-line-number="6247"></td>
          <td id="LC6247">		Buffer* pBuf = MainFileManager.<span>getBufferByID</span>(bufID);</td>
        </tr>
        <tr>
          <td id="L6248" data-line-number="6248"></td>
          <td id="LC6248">
</td>
        </tr>
        <tr>
          <td id="L6249" data-line-number="6249"></td>
          <td id="LC6249">		<span>if</span> (!udl.<span>empty</span>())</td>
        </tr>
        <tr>
          <td id="L6250" data-line-number="6250"></td>
          <td id="LC6250">		{</td>
        </tr>
        <tr>
          <td id="L6251" data-line-number="6251"></td>
          <td id="LC6251">			pBuf-&gt;<span>setLangType</span>(L_USER, udl.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6252" data-line-number="6252"></td>
          <td id="LC6252">		}</td>
        </tr>
        <tr>
          <td id="L6253" data-line-number="6253"></td>
          <td id="LC6253">		<span>else</span> <span>if</span> (lt != L_EXTERNAL &amp;&amp; lt &lt; nppParams.<span>L_END</span>)</td>
        </tr>
        <tr>
          <td id="L6254" data-line-number="6254"></td>
          <td id="LC6254">		{</td>
        </tr>
        <tr>
          <td id="L6255" data-line-number="6255"></td>
          <td id="LC6255">			pBuf-&gt;<span>setLangType</span>(lt);</td>
        </tr>
        <tr>
          <td id="L6256" data-line-number="6256"></td>
          <td id="LC6256">		}</td>
        </tr>
        <tr>
          <td id="L6257" data-line-number="6257"></td>
          <td id="LC6257">
</td>
        </tr>
        <tr>
          <td id="L6258" data-line-number="6258"></td>
          <td id="LC6258">		<span>if</span> (lineNumber &gt;= <span>0</span> || positionNumber &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L6259" data-line-number="6259"></td>
          <td id="LC6259">		{</td>
        </tr>
        <tr>
          <td id="L6260" data-line-number="6260"></td>
          <td id="LC6260">			<span><span>//</span>we have to move the cursor manually</span></td>
        </tr>
        <tr>
          <td id="L6261" data-line-number="6261"></td>
          <td id="LC6261">			<span>int</span> iView = <span>currentView</span>();	<span><span>//</span>store view since fileswitch can cause it to change</span></td>
        </tr>
        <tr>
          <td id="L6262" data-line-number="6262"></td>
          <td id="LC6262">			<span>switchToFile</span>(bufID);	<span><span>//</span>switch to the file. No deferred loading, but this way we can easily move the cursor to the right position</span></td>
        </tr>
        <tr>
          <td id="L6263" data-line-number="6263"></td>
          <td id="LC6263">
</td>
        </tr>
        <tr>
          <td id="L6264" data-line-number="6264"></td>
          <td id="LC6264">			<span>if</span> (positionNumber &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L6265" data-line-number="6265"></td>
          <td id="LC6265">			{</td>
        </tr>
        <tr>
          <td id="L6266" data-line-number="6266"></td>
          <td id="LC6266">				<span>if</span> (positionNumber &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L6267" data-line-number="6267"></td>
          <td id="LC6267">				{</td>
        </tr>
        <tr>
          <td id="L6268" data-line-number="6268"></td>
          <td id="LC6268">					<span><span>//</span> make sure not jumping into the middle of a multibyte character</span></td>
        </tr>
        <tr>
          <td id="L6269" data-line-number="6269"></td>
          <td id="LC6269">					<span><span>//</span> or into the middle of a CR/LF pair for Windows files</span></td>
        </tr>
        <tr>
          <td id="L6270" data-line-number="6270"></td>
          <td id="LC6270">					<span>auto</span> before = _pEditView-&gt;<span>execute</span>(SCI_POSITIONBEFORE, positionNumber);</td>
        </tr>
        <tr>
          <td id="L6271" data-line-number="6271"></td>
          <td id="LC6271">					positionNumber = _pEditView-&gt;<span>execute</span>(SCI_POSITIONAFTER, before);</td>
        </tr>
        <tr>
          <td id="L6272" data-line-number="6272"></td>
          <td id="LC6272">				}</td>
        </tr>
        <tr>
          <td id="L6273" data-line-number="6273"></td>
          <td id="LC6273">				_pEditView-&gt;<span>execute</span>(SCI_GOTOPOS, positionNumber);</td>
        </tr>
        <tr>
          <td id="L6274" data-line-number="6274"></td>
          <td id="LC6274">			}</td>
        </tr>
        <tr>
          <td id="L6275" data-line-number="6275"></td>
          <td id="LC6275">			<span>else</span> <span>if</span> (columnNumber &lt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L6276" data-line-number="6276"></td>
          <td id="LC6276">			{</td>
        </tr>
        <tr>
          <td id="L6277" data-line-number="6277"></td>
          <td id="LC6277">				_pEditView-&gt;<span>execute</span>(SCI_GOTOLINE, lineNumber - <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L6278" data-line-number="6278"></td>
          <td id="LC6278">			}</td>
        </tr>
        <tr>
          <td id="L6279" data-line-number="6279"></td>
          <td id="LC6279">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L6280" data-line-number="6280"></td>
          <td id="LC6280">			{</td>
        </tr>
        <tr>
          <td id="L6281" data-line-number="6281"></td>
          <td id="LC6281">				<span>auto</span> pos = _pEditView-&gt;<span>execute</span>(SCI_FINDCOLUMN, lineNumber - <span>1</span>, columnNumber - <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L6282" data-line-number="6282"></td>
          <td id="LC6282">				_pEditView-&gt;<span>execute</span>(SCI_GOTOPOS, pos);</td>
        </tr>
        <tr>
          <td id="L6283" data-line-number="6283"></td>
          <td id="LC6283">			}</td>
        </tr>
        <tr>
          <td id="L6284" data-line-number="6284"></td>
          <td id="LC6284">
</td>
        </tr>
        <tr>
          <td id="L6285" data-line-number="6285"></td>
          <td id="LC6285">			_pEditView-&gt;<span>scrollPosToCenter</span>(_pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS));</td>
        </tr>
        <tr>
          <td id="L6286" data-line-number="6286"></td>
          <td id="LC6286">
</td>
        </tr>
        <tr>
          <td id="L6287" data-line-number="6287"></td>
          <td id="LC6287">			<span>switchEditViewTo</span>(iView);	<span><span>//</span>restore view</span></td>
        </tr>
        <tr>
          <td id="L6288" data-line-number="6288"></td>
          <td id="LC6288">		}</td>
        </tr>
        <tr>
          <td id="L6289" data-line-number="6289"></td>
          <td id="LC6289">
</td>
        </tr>
        <tr>
          <td id="L6290" data-line-number="6290"></td>
          <td id="LC6290">		<span>if</span> (monitorFiles)</td>
        </tr>
        <tr>
          <td id="L6291" data-line-number="6291"></td>
          <td id="LC6291">		{</td>
        </tr>
        <tr>
          <td id="L6292" data-line-number="6292"></td>
          <td id="LC6292">			<span>monitoringStartOrStopAndUpdateUI</span>(pBuf, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L6293" data-line-number="6293"></td>
          <td id="LC6293">			<span>createMonitoringThread</span>(pBuf);</td>
        </tr>
        <tr>
          <td id="L6294" data-line-number="6294"></td>
          <td id="LC6294">		}</td>
        </tr>
        <tr>
          <td id="L6295" data-line-number="6295"></td>
          <td id="LC6295">	}</td>
        </tr>
        <tr>
          <td id="L6296" data-line-number="6296"></td>
          <td id="LC6296">	<span>if</span> (lastOpened != BUFFER_INVALID)</td>
        </tr>
        <tr>
          <td id="L6297" data-line-number="6297"></td>
          <td id="LC6297">    {</td>
        </tr>
        <tr>
          <td id="L6298" data-line-number="6298"></td>
          <td id="LC6298">		<span>switchToFile</span>(lastOpened);</td>
        </tr>
        <tr>
          <td id="L6299" data-line-number="6299"></td>
          <td id="LC6299">	}</td>
        </tr>
        <tr>
          <td id="L6300" data-line-number="6300"></td>
          <td id="LC6300">
</td>
        </tr>
        <tr>
          <td id="L6301" data-line-number="6301"></td>
          <td id="LC6301">	<span>return</span> fnss.<span>getFileNames</span>();</td>
        </tr>
        <tr>
          <td id="L6302" data-line-number="6302"></td>
          <td id="LC6302">}</td>
        </tr>
        <tr>
          <td id="L6303" data-line-number="6303"></td>
          <td id="LC6303">
</td>
        </tr>
        <tr>
          <td id="L6304" data-line-number="6304"></td>
          <td id="LC6304">
</td>
        </tr>
        <tr>
          <td id="L6305" data-line-number="6305"></td>
          <td id="LC6305"><span>void</span> <span>Notepad_plus::setFindReplaceFolderFilter</span>(<span>const</span> TCHAR *dir, <span>const</span> TCHAR *filter)</td>
        </tr>
        <tr>
          <td id="L6306" data-line-number="6306"></td>
          <td id="LC6306">{</td>
        </tr>
        <tr>
          <td id="L6307" data-line-number="6307"></td>
          <td id="LC6307">	generic_string fltr;</td>
        </tr>
        <tr>
          <td id="L6308" data-line-number="6308"></td>
          <td id="LC6308">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6309" data-line-number="6309"></td>
          <td id="LC6309">	FindHistory &amp; findHistory = nppParam.<span>getFindHistory</span>();</td>
        </tr>
        <tr>
          <td id="L6310" data-line-number="6310"></td>
          <td id="LC6310">
</td>
        </tr>
        <tr>
          <td id="L6311" data-line-number="6311"></td>
          <td id="LC6311">	<span><span>//</span> get current directory in case it&#39;s not provided.</span></td>
        </tr>
        <tr>
          <td id="L6312" data-line-number="6312"></td>
          <td id="LC6312">	<span>if</span> (!dir &amp;&amp; findHistory.<span>_isFolderFollowDoc</span>)</td>
        </tr>
        <tr>
          <td id="L6313" data-line-number="6313"></td>
          <td id="LC6313">	{</td>
        </tr>
        <tr>
          <td id="L6314" data-line-number="6314"></td>
          <td id="LC6314">		dir = nppParam.<span>getWorkingDir</span>();</td>
        </tr>
        <tr>
          <td id="L6315" data-line-number="6315"></td>
          <td id="LC6315">	}</td>
        </tr>
        <tr>
          <td id="L6316" data-line-number="6316"></td>
          <td id="LC6316">
</td>
        </tr>
        <tr>
          <td id="L6317" data-line-number="6317"></td>
          <td id="LC6317">	<span><span>//</span> get current language file extensions in case it&#39;s not provided.</span></td>
        </tr>
        <tr>
          <td id="L6318" data-line-number="6318"></td>
          <td id="LC6318">	<span>if</span> (!filter &amp;&amp; findHistory.<span>_isFilterFollowDoc</span>)</td>
        </tr>
        <tr>
          <td id="L6319" data-line-number="6319"></td>
          <td id="LC6319">	{</td>
        </tr>
        <tr>
          <td id="L6320" data-line-number="6320"></td>
          <td id="LC6320">		<span><span>//</span> Get current language file extensions</span></td>
        </tr>
        <tr>
          <td id="L6321" data-line-number="6321"></td>
          <td id="LC6321">		<span>const</span> TCHAR *ext = <span>NULL</span>;</td>
        </tr>
        <tr>
          <td id="L6322" data-line-number="6322"></td>
          <td id="LC6322">		LangType lt = _pEditView-&gt;<span>getCurrentBuffer</span>()-&gt;<span>getLangType</span>();</td>
        </tr>
        <tr>
          <td id="L6323" data-line-number="6323"></td>
          <td id="LC6323">
</td>
        </tr>
        <tr>
          <td id="L6324" data-line-number="6324"></td>
          <td id="LC6324">		<span>if</span> (lt == L_USER)</td>
        </tr>
        <tr>
          <td id="L6325" data-line-number="6325"></td>
          <td id="LC6325">		{</td>
        </tr>
        <tr>
          <td id="L6326" data-line-number="6326"></td>
          <td id="LC6326">			Buffer * buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L6327" data-line-number="6327"></td>
          <td id="LC6327">			UserLangContainer * userLangContainer = nppParam.<span>getULCFromName</span>(buf-&gt;<span>getUserDefineLangName</span>());</td>
        </tr>
        <tr>
          <td id="L6328" data-line-number="6328"></td>
          <td id="LC6328">			<span>if</span> (userLangContainer)</td>
        </tr>
        <tr>
          <td id="L6329" data-line-number="6329"></td>
          <td id="LC6329">				ext = userLangContainer-&gt;<span>getExtention</span>();</td>
        </tr>
        <tr>
          <td id="L6330" data-line-number="6330"></td>
          <td id="LC6330">		}</td>
        </tr>
        <tr>
          <td id="L6331" data-line-number="6331"></td>
          <td id="LC6331">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L6332" data-line-number="6332"></td>
          <td id="LC6332">		{</td>
        </tr>
        <tr>
          <td id="L6333" data-line-number="6333"></td>
          <td id="LC6333">			ext = nppParam.<span>getLangExtFromLangType</span>(lt);</td>
        </tr>
        <tr>
          <td id="L6334" data-line-number="6334"></td>
          <td id="LC6334">		}</td>
        </tr>
        <tr>
          <td id="L6335" data-line-number="6335"></td>
          <td id="LC6335">
</td>
        </tr>
        <tr>
          <td id="L6336" data-line-number="6336"></td>
          <td id="LC6336">		<span>if</span> (ext &amp;&amp; ext[<span>0</span>])</td>
        </tr>
        <tr>
          <td id="L6337" data-line-number="6337"></td>
          <td id="LC6337">		{</td>
        </tr>
        <tr>
          <td id="L6338" data-line-number="6338"></td>
          <td id="LC6338">			fltr = <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6339" data-line-number="6339"></td>
          <td id="LC6339">			vector&lt;generic_string&gt; vStr;</td>
        </tr>
        <tr>
          <td id="L6340" data-line-number="6340"></td>
          <td id="LC6340">			<span>cutString</span>(ext, vStr);</td>
        </tr>
        <tr>
          <td id="L6341" data-line-number="6341"></td>
          <td id="LC6341">			<span>for</span> (<span>size_t</span> i = <span>0</span> ,len = vStr.<span>size</span>(); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L6342" data-line-number="6342"></td>
          <td id="LC6342">			{</td>
        </tr>
        <tr>
          <td id="L6343" data-line-number="6343"></td>
          <td id="LC6343">				fltr += <span>TEXT</span>(<span><span>&#34;</span>*.<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6344" data-line-number="6344"></td>
          <td id="LC6344">				fltr += vStr[i] + <span>TEXT</span>(<span><span>&#34;</span> <span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6345" data-line-number="6345"></td>
          <td id="LC6345">			}</td>
        </tr>
        <tr>
          <td id="L6346" data-line-number="6346"></td>
          <td id="LC6346">		}</td>
        </tr>
        <tr>
          <td id="L6347" data-line-number="6347"></td>
          <td id="LC6347">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L6348" data-line-number="6348"></td>
          <td id="LC6348">		{</td>
        </tr>
        <tr>
          <td id="L6349" data-line-number="6349"></td>
          <td id="LC6349">			fltr = <span>TEXT</span>(<span><span>&#34;</span>*.*<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6350" data-line-number="6350"></td>
          <td id="LC6350">		}</td>
        </tr>
        <tr>
          <td id="L6351" data-line-number="6351"></td>
          <td id="LC6351">		filter = fltr.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L6352" data-line-number="6352"></td>
          <td id="LC6352">	}</td>
        </tr>
        <tr>
          <td id="L6353" data-line-number="6353"></td>
          <td id="LC6353">	_findReplaceDlg.<span>setFindInFilesDirFilter</span>(dir, filter);</td>
        </tr>
        <tr>
          <td id="L6354" data-line-number="6354"></td>
          <td id="LC6354">}</td>
        </tr>
        <tr>
          <td id="L6355" data-line-number="6355"></td>
          <td id="LC6355">
</td>
        </tr>
        <tr>
          <td id="L6356" data-line-number="6356"></td>
          <td id="LC6356">vector&lt;generic_string&gt; <span>Notepad_plus::addNppComponents</span>(<span>const</span> TCHAR *destDir, <span>const</span> TCHAR *extFilterName, <span>const</span> TCHAR *extFilter)</td>
        </tr>
        <tr>
          <td id="L6357" data-line-number="6357"></td>
          <td id="LC6357">{</td>
        </tr>
        <tr>
          <td id="L6358" data-line-number="6358"></td>
          <td id="LC6358">	CustomFileDialog <span>fDlg</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L6359" data-line-number="6359"></td>
          <td id="LC6359">	<span>fDlg</span>.<span>setExtFilter</span>(extFilterName, extFilter);</td>
        </tr>
        <tr>
          <td id="L6360" data-line-number="6360"></td>
          <td id="LC6360">
</td>
        </tr>
        <tr>
          <td id="L6361" data-line-number="6361"></td>
          <td id="LC6361">    vector&lt;generic_string&gt; copiedFiles;</td>
        </tr>
        <tr>
          <td id="L6362" data-line-number="6362"></td>
          <td id="LC6362">
</td>
        </tr>
        <tr>
          <td id="L6363" data-line-number="6363"></td>
          <td id="LC6363">	<span>const</span> <span>auto</span>&amp; fns = <span>fDlg</span>.<span>doOpenMultiFilesDlg</span>();</td>
        </tr>
        <tr>
          <td id="L6364" data-line-number="6364"></td>
          <td id="LC6364">    <span>if</span> (!fns.<span>empty</span>())</td>
        </tr>
        <tr>
          <td id="L6365" data-line-number="6365"></td>
          <td id="LC6365">    {</td>
        </tr>
        <tr>
          <td id="L6366" data-line-number="6366"></td>
          <td id="LC6366">        <span><span>//</span> Get plugins dir</span></td>
        </tr>
        <tr>
          <td id="L6367" data-line-number="6367"></td>
          <td id="LC6367">		generic_string destDirName = (<span>NppParameters::getInstance</span>()).<span>getNppPath</span>();</td>
        </tr>
        <tr>
          <td id="L6368" data-line-number="6368"></td>
          <td id="LC6368">        <span>pathAppend</span>(destDirName, destDir);</td>
        </tr>
        <tr>
          <td id="L6369" data-line-number="6369"></td>
          <td id="LC6369">
</td>
        </tr>
        <tr>
          <td id="L6370" data-line-number="6370"></td>
          <td id="LC6370">        <span>if</span> (!::<span>PathFileExists</span>(destDirName.<span>c_str</span>()))</td>
        </tr>
        <tr>
          <td id="L6371" data-line-number="6371"></td>
          <td id="LC6371">        {</td>
        </tr>
        <tr>
          <td id="L6372" data-line-number="6372"></td>
          <td id="LC6372">            <span>::CreateDirectory</span>(destDirName.c_str(), NULL);</td>
        </tr>
        <tr>
          <td id="L6373" data-line-number="6373"></td>
          <td id="LC6373">        }</td>
        </tr>
        <tr>
          <td id="L6374" data-line-number="6374"></td>
          <td id="LC6374">
</td>
        </tr>
        <tr>
          <td id="L6375" data-line-number="6375"></td>
          <td id="LC6375">        destDirName += <span>TEXT</span>(<span><span>&#34;</span><span>\\</span><span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6376" data-line-number="6376"></td>
          <td id="LC6376">
</td>
        </tr>
        <tr>
          <td id="L6377" data-line-number="6377"></td>
          <td id="LC6377">        <span>size_t</span> sz = fns.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L6378" data-line-number="6378"></td>
          <td id="LC6378">        <span>for</span> (<span>size_t</span> i = <span>0</span> ; i &lt; sz ; ++i)</td>
        </tr>
        <tr>
          <td id="L6379" data-line-number="6379"></td>
          <td id="LC6379">        {</td>
        </tr>
        <tr>
          <td id="L6380" data-line-number="6380"></td>
          <td id="LC6380">            <span>if</span> (::<span>PathFileExists</span>(fns.<span>at</span>(i).<span>c_str</span>()))</td>
        </tr>
        <tr>
          <td id="L6381" data-line-number="6381"></td>
          <td id="LC6381">            {</td>
        </tr>
        <tr>
          <td id="L6382" data-line-number="6382"></td>
          <td id="LC6382">                <span><span>//</span> copy to plugins directory</span></td>
        </tr>
        <tr>
          <td id="L6383" data-line-number="6383"></td>
          <td id="LC6383">                generic_string destName = destDirName;</td>
        </tr>
        <tr>
          <td id="L6384" data-line-number="6384"></td>
          <td id="LC6384">                destName += ::<span>PathFindFileName</span>(fns.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6385" data-line-number="6385"></td>
          <td id="LC6385">                <span>if</span> (::<span>CopyFile</span>(fns.<span>at</span>(i).<span>c_str</span>(), destName.<span>c_str</span>(), <span>FALSE</span>))</td>
        </tr>
        <tr>
          <td id="L6386" data-line-number="6386"></td>
          <td id="LC6386">                    copiedFiles.<span>push_back</span>(destName.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6387" data-line-number="6387"></td>
          <td id="LC6387">            }</td>
        </tr>
        <tr>
          <td id="L6388" data-line-number="6388"></td>
          <td id="LC6388">        }</td>
        </tr>
        <tr>
          <td id="L6389" data-line-number="6389"></td>
          <td id="LC6389">    }</td>
        </tr>
        <tr>
          <td id="L6390" data-line-number="6390"></td>
          <td id="LC6390">    <span>return</span> copiedFiles;</td>
        </tr>
        <tr>
          <td id="L6391" data-line-number="6391"></td>
          <td id="LC6391">}</td>
        </tr>
        <tr>
          <td id="L6392" data-line-number="6392"></td>
          <td id="LC6392">
</td>
        </tr>
        <tr>
          <td id="L6393" data-line-number="6393"></td>
          <td id="LC6393">vector&lt;generic_string&gt; <span>Notepad_plus::addNppPlugins</span>(<span>const</span> TCHAR *extFilterName, <span>const</span> TCHAR *extFilter)</td>
        </tr>
        <tr>
          <td id="L6394" data-line-number="6394"></td>
          <td id="LC6394">{</td>
        </tr>
        <tr>
          <td id="L6395" data-line-number="6395"></td>
          <td id="LC6395">	CustomFileDialog <span>fDlg</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L6396" data-line-number="6396"></td>
          <td id="LC6396">    <span>fDlg</span>.<span>setExtFilter</span>(extFilterName, extFilter);</td>
        </tr>
        <tr>
          <td id="L6397" data-line-number="6397"></td>
          <td id="LC6397">
</td>
        </tr>
        <tr>
          <td id="L6398" data-line-number="6398"></td>
          <td id="LC6398">    vector&lt;generic_string&gt; copiedFiles;</td>
        </tr>
        <tr>
          <td id="L6399" data-line-number="6399"></td>
          <td id="LC6399">
</td>
        </tr>
        <tr>
          <td id="L6400" data-line-number="6400"></td>
          <td id="LC6400">	<span>const</span> <span>auto</span>&amp; fns = <span>fDlg</span>.<span>doOpenMultiFilesDlg</span>();</td>
        </tr>
        <tr>
          <td id="L6401" data-line-number="6401"></td>
          <td id="LC6401">	<span>if</span> (!fns.<span>empty</span>())</td>
        </tr>
        <tr>
          <td id="L6402" data-line-number="6402"></td>
          <td id="LC6402">    {</td>
        </tr>
        <tr>
          <td id="L6403" data-line-number="6403"></td>
          <td id="LC6403">        <span><span>//</span> Get plugins dir</span></td>
        </tr>
        <tr>
          <td id="L6404" data-line-number="6404"></td>
          <td id="LC6404">		generic_string destDirName = (<span>NppParameters::getInstance</span>()).<span>getPluginRootDir</span>();</td>
        </tr>
        <tr>
          <td id="L6405" data-line-number="6405"></td>
          <td id="LC6405">
</td>
        </tr>
        <tr>
          <td id="L6406" data-line-number="6406"></td>
          <td id="LC6406">        <span>if</span> (!::<span>PathFileExists</span>(destDirName.<span>c_str</span>()))</td>
        </tr>
        <tr>
          <td id="L6407" data-line-number="6407"></td>
          <td id="LC6407">        {</td>
        </tr>
        <tr>
          <td id="L6408" data-line-number="6408"></td>
          <td id="LC6408">            <span>::CreateDirectory</span>(destDirName.c_str(), NULL);</td>
        </tr>
        <tr>
          <td id="L6409" data-line-number="6409"></td>
          <td id="LC6409">        }</td>
        </tr>
        <tr>
          <td id="L6410" data-line-number="6410"></td>
          <td id="LC6410">
</td>
        </tr>
        <tr>
          <td id="L6411" data-line-number="6411"></td>
          <td id="LC6411">        <span>size_t</span> sz = fns.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L6412" data-line-number="6412"></td>
          <td id="LC6412">        <span>for</span> (<span>size_t</span> i = <span>0</span> ; i &lt; sz ; ++i)</td>
        </tr>
        <tr>
          <td id="L6413" data-line-number="6413"></td>
          <td id="LC6413">        {</td>
        </tr>
        <tr>
          <td id="L6414" data-line-number="6414"></td>
          <td id="LC6414">            <span>if</span> (::<span>PathFileExists</span>(fns.<span>at</span>(i).<span>c_str</span>()))</td>
        </tr>
        <tr>
          <td id="L6415" data-line-number="6415"></td>
          <td id="LC6415">            {</td>
        </tr>
        <tr>
          <td id="L6416" data-line-number="6416"></td>
          <td id="LC6416">                <span><span>//</span> copy to plugins directory</span></td>
        </tr>
        <tr>
          <td id="L6417" data-line-number="6417"></td>
          <td id="LC6417">                generic_string destName = destDirName;</td>
        </tr>
        <tr>
          <td id="L6418" data-line-number="6418"></td>
          <td id="LC6418">				</td>
        </tr>
        <tr>
          <td id="L6419" data-line-number="6419"></td>
          <td id="LC6419">				generic_string nameExt = ::<span>PathFindFileName</span>(fns.<span>at</span>(i).<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6420" data-line-number="6420"></td>
          <td id="LC6420">				<span>auto</span> pos = nameExt.<span>find_last_of</span>(<span>TEXT</span>(<span><span>&#34;</span>.<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L6421" data-line-number="6421"></td>
          <td id="LC6421">				<span>if</span> (pos == generic_string::npos)</td>
        </tr>
        <tr>
          <td id="L6422" data-line-number="6422"></td>
          <td id="LC6422">					<span>continue</span>;</td>
        </tr>
        <tr>
          <td id="L6423" data-line-number="6423"></td>
          <td id="LC6423">
</td>
        </tr>
        <tr>
          <td id="L6424" data-line-number="6424"></td>
          <td id="LC6424">				generic_string name = nameExt.<span>substr</span>(<span>0</span>, pos);</td>
        </tr>
        <tr>
          <td id="L6425" data-line-number="6425"></td>
          <td id="LC6425">				<span>pathAppend</span>(destName, name);</td>
        </tr>
        <tr>
          <td id="L6426" data-line-number="6426"></td>
          <td id="LC6426">				<span>if</span> (!::<span>PathFileExists</span>(destName.<span>c_str</span>()))</td>
        </tr>
        <tr>
          <td id="L6427" data-line-number="6427"></td>
          <td id="LC6427">				{</td>
        </tr>
        <tr>
          <td id="L6428" data-line-number="6428"></td>
          <td id="LC6428">					<span>::CreateDirectory</span>(destName.c_str(), NULL);</td>
        </tr>
        <tr>
          <td id="L6429" data-line-number="6429"></td>
          <td id="LC6429">				}</td>
        </tr>
        <tr>
          <td id="L6430" data-line-number="6430"></td>
          <td id="LC6430">				<span>pathAppend</span>(destName, nameExt);</td>
        </tr>
        <tr>
          <td id="L6431" data-line-number="6431"></td>
          <td id="LC6431">
</td>
        </tr>
        <tr>
          <td id="L6432" data-line-number="6432"></td>
          <td id="LC6432">                <span>if</span> (::<span>CopyFile</span>(fns.<span>at</span>(i).<span>c_str</span>(), destName.<span>c_str</span>(), <span>FALSE</span>))</td>
        </tr>
        <tr>
          <td id="L6433" data-line-number="6433"></td>
          <td id="LC6433">                    copiedFiles.<span>push_back</span>(destName.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6434" data-line-number="6434"></td>
          <td id="LC6434">            }</td>
        </tr>
        <tr>
          <td id="L6435" data-line-number="6435"></td>
          <td id="LC6435">        }</td>
        </tr>
        <tr>
          <td id="L6436" data-line-number="6436"></td>
          <td id="LC6436">    }</td>
        </tr>
        <tr>
          <td id="L6437" data-line-number="6437"></td>
          <td id="LC6437">    <span>return</span> copiedFiles;</td>
        </tr>
        <tr>
          <td id="L6438" data-line-number="6438"></td>
          <td id="LC6438">}</td>
        </tr>
        <tr>
          <td id="L6439" data-line-number="6439"></td>
          <td id="LC6439">
</td>
        </tr>
        <tr>
          <td id="L6440" data-line-number="6440"></td>
          <td id="LC6440"><span>void</span> <span>Notepad_plus::setWorkingDir</span>(<span>const</span> TCHAR *dir)</td>
        </tr>
        <tr>
          <td id="L6441" data-line-number="6441"></td>
          <td id="LC6441">{</td>
        </tr>
        <tr>
          <td id="L6442" data-line-number="6442"></td>
          <td id="LC6442">	NppParameters&amp; params = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6443" data-line-number="6443"></td>
          <td id="LC6443">	<span>if</span> (params.<span>getNppGUI</span>().<span>_openSaveDir</span> == dir_last)</td>
        </tr>
        <tr>
          <td id="L6444" data-line-number="6444"></td>
          <td id="LC6444">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L6445" data-line-number="6445"></td>
          <td id="LC6445">	<span>if</span> (params.<span>getNppGUI</span>().<span>_openSaveDir</span> == dir_userDef)</td>
        </tr>
        <tr>
          <td id="L6446" data-line-number="6446"></td>
          <td id="LC6446">	{</td>
        </tr>
        <tr>
          <td id="L6447" data-line-number="6447"></td>
          <td id="LC6447">		params.<span>setWorkingDir</span>(<span>NULL</span>);</td>
        </tr>
        <tr>
          <td id="L6448" data-line-number="6448"></td>
          <td id="LC6448">	}</td>
        </tr>
        <tr>
          <td id="L6449" data-line-number="6449"></td>
          <td id="LC6449">	<span>else</span> <span>if</span> (dir &amp;&amp; <span>PathIsDirectory</span>(dir))</td>
        </tr>
        <tr>
          <td id="L6450" data-line-number="6450"></td>
          <td id="LC6450">	{</td>
        </tr>
        <tr>
          <td id="L6451" data-line-number="6451"></td>
          <td id="LC6451">		params.<span>setWorkingDir</span>(dir);</td>
        </tr>
        <tr>
          <td id="L6452" data-line-number="6452"></td>
          <td id="LC6452">	}</td>
        </tr>
        <tr>
          <td id="L6453" data-line-number="6453"></td>
          <td id="LC6453">}</td>
        </tr>
        <tr>
          <td id="L6454" data-line-number="6454"></td>
          <td id="LC6454">
</td>
        </tr>
        <tr>
          <td id="L6455" data-line-number="6455"></td>
          <td id="LC6455"><span>int</span> <span>Notepad_plus::getLangFromMenuName</span>(<span>const</span> TCHAR * langName)</td>
        </tr>
        <tr>
          <td id="L6456" data-line-number="6456"></td>
          <td id="LC6456">{</td>
        </tr>
        <tr>
          <td id="L6457" data-line-number="6457"></td>
          <td id="LC6457">	<span>int</span>	id	= <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L6458" data-line-number="6458"></td>
          <td id="LC6458">	<span>const</span> <span>int</span> menuSize = <span>64</span>;</td>
        </tr>
        <tr>
          <td id="L6459" data-line-number="6459"></td>
          <td id="LC6459">	TCHAR menuLangName[menuSize];</td>
        </tr>
        <tr>
          <td id="L6460" data-line-number="6460"></td>
          <td id="LC6460">
</td>
        </tr>
        <tr>
          <td id="L6461" data-line-number="6461"></td>
          <td id="LC6461">	<span>for</span> ( <span>int</span> i = IDM_LANG_C; i &lt;= IDM_LANG_USER; ++i )</td>
        </tr>
        <tr>
          <td id="L6462" data-line-number="6462"></td>
          <td id="LC6462">		<span>if</span> ( ::<span>GetMenuString</span>( _mainMenuHandle, i, menuLangName, menuSize, MF_BYCOMMAND ) )</td>
        </tr>
        <tr>
          <td id="L6463" data-line-number="6463"></td>
          <td id="LC6463">			<span>if</span> ( !<span>lstrcmp</span>( langName, menuLangName ) )</td>
        </tr>
        <tr>
          <td id="L6464" data-line-number="6464"></td>
          <td id="LC6464">			{</td>
        </tr>
        <tr>
          <td id="L6465" data-line-number="6465"></td>
          <td id="LC6465">				id	= i;</td>
        </tr>
        <tr>
          <td id="L6466" data-line-number="6466"></td>
          <td id="LC6466">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L6467" data-line-number="6467"></td>
          <td id="LC6467">			}</td>
        </tr>
        <tr>
          <td id="L6468" data-line-number="6468"></td>
          <td id="LC6468">
</td>
        </tr>
        <tr>
          <td id="L6469" data-line-number="6469"></td>
          <td id="LC6469">	<span>if</span> ( id == <span>0</span> )</td>
        </tr>
        <tr>
          <td id="L6470" data-line-number="6470"></td>
          <td id="LC6470">	{</td>
        </tr>
        <tr>
          <td id="L6471" data-line-number="6471"></td>
          <td id="LC6471">		<span>for</span> ( <span>int</span> i = IDM_LANG_USER + <span>1</span>; i &lt;= IDM_LANG_USER_LIMIT; ++i )</td>
        </tr>
        <tr>
          <td id="L6472" data-line-number="6472"></td>
          <td id="LC6472">			<span>if</span> ( ::<span>GetMenuString</span>( _mainMenuHandle, i, menuLangName, menuSize, MF_BYCOMMAND ) )</td>
        </tr>
        <tr>
          <td id="L6473" data-line-number="6473"></td>
          <td id="LC6473">				<span>if</span> ( !<span>lstrcmp</span>( langName, menuLangName ) )</td>
        </tr>
        <tr>
          <td id="L6474" data-line-number="6474"></td>
          <td id="LC6474">				{</td>
        </tr>
        <tr>
          <td id="L6475" data-line-number="6475"></td>
          <td id="LC6475">					id	= i;</td>
        </tr>
        <tr>
          <td id="L6476" data-line-number="6476"></td>
          <td id="LC6476">					<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L6477" data-line-number="6477"></td>
          <td id="LC6477">				}</td>
        </tr>
        <tr>
          <td id="L6478" data-line-number="6478"></td>
          <td id="LC6478">	}</td>
        </tr>
        <tr>
          <td id="L6479" data-line-number="6479"></td>
          <td id="LC6479">
</td>
        </tr>
        <tr>
          <td id="L6480" data-line-number="6480"></td>
          <td id="LC6480">	<span>return</span> id;</td>
        </tr>
        <tr>
          <td id="L6481" data-line-number="6481"></td>
          <td id="LC6481">}</td>
        </tr>
        <tr>
          <td id="L6482" data-line-number="6482"></td>
          <td id="LC6482">
</td>
        </tr>
        <tr>
          <td id="L6483" data-line-number="6483"></td>
          <td id="LC6483">generic_string <span>Notepad_plus::getLangFromMenu</span>(<span>const</span> Buffer * buf)</td>
        </tr>
        <tr>
          <td id="L6484" data-line-number="6484"></td>
          <td id="LC6484">{</td>
        </tr>
        <tr>
          <td id="L6485" data-line-number="6485"></td>
          <td id="LC6485">
</td>
        </tr>
        <tr>
          <td id="L6486" data-line-number="6486"></td>
          <td id="LC6486">	<span>int</span>	id;</td>
        </tr>
        <tr>
          <td id="L6487" data-line-number="6487"></td>
          <td id="LC6487">	generic_string userLangName;</td>
        </tr>
        <tr>
          <td id="L6488" data-line-number="6488"></td>
          <td id="LC6488">	<span>const</span> <span>int</span> nbChar = <span>32</span>;</td>
        </tr>
        <tr>
          <td id="L6489" data-line-number="6489"></td>
          <td id="LC6489">	TCHAR menuLangName[nbChar];</td>
        </tr>
        <tr>
          <td id="L6490" data-line-number="6490"></td>
          <td id="LC6490">
</td>
        </tr>
        <tr>
          <td id="L6491" data-line-number="6491"></td>
          <td id="LC6491">	id = (<span>NppParameters::getInstance</span>()).<span>langTypeToCommandID</span>( buf-&gt;<span>getLangType</span>() );</td>
        </tr>
        <tr>
          <td id="L6492" data-line-number="6492"></td>
          <td id="LC6492">	<span>if</span> ( ( id != IDM_LANG_USER ) || !( buf-&gt;<span>isUserDefineLangExt</span>() ) )</td>
        </tr>
        <tr>
          <td id="L6493" data-line-number="6493"></td>
          <td id="LC6493">	{</td>
        </tr>
        <tr>
          <td id="L6494" data-line-number="6494"></td>
          <td id="LC6494">		<span>::GetMenuString</span>(_mainMenuHandle, id, menuLangName, nbChar-<span>1</span>, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L6495" data-line-number="6495"></td>
          <td id="LC6495">		userLangName = menuLangName;</td>
        </tr>
        <tr>
          <td id="L6496" data-line-number="6496"></td>
          <td id="LC6496">	}</td>
        </tr>
        <tr>
          <td id="L6497" data-line-number="6497"></td>
          <td id="LC6497">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L6498" data-line-number="6498"></td>
          <td id="LC6498">	{</td>
        </tr>
        <tr>
          <td id="L6499" data-line-number="6499"></td>
          <td id="LC6499">		userLangName = buf-&gt;<span>getUserDefineLangName</span>();</td>
        </tr>
        <tr>
          <td id="L6500" data-line-number="6500"></td>
          <td id="LC6500">	}</td>
        </tr>
        <tr>
          <td id="L6501" data-line-number="6501"></td>
          <td id="LC6501">	<span>return</span>	userLangName;</td>
        </tr>
        <tr>
          <td id="L6502" data-line-number="6502"></td>
          <td id="LC6502">}</td>
        </tr>
        <tr>
          <td id="L6503" data-line-number="6503"></td>
          <td id="LC6503">
</td>
        </tr>
        <tr>
          <td id="L6504" data-line-number="6504"></td>
          <td id="LC6504"><span>Style</span> * <span>Notepad_plus::getStyleFromName</span>(<span>const</span> TCHAR *styleName)</td>
        </tr>
        <tr>
          <td id="L6505" data-line-number="6505"></td>
          <td id="LC6505">{</td>
        </tr>
        <tr>
          <td id="L6506" data-line-number="6506"></td>
          <td id="LC6506">	<span>return</span> <span>NppParameters::getInstance</span>().<span>getMiscStylerArray</span>().<span>findByName</span>(styleName);</td>
        </tr>
        <tr>
          <td id="L6507" data-line-number="6507"></td>
          <td id="LC6507">}</td>
        </tr>
        <tr>
          <td id="L6508" data-line-number="6508"></td>
          <td id="LC6508">
</td>
        </tr>
        <tr>
          <td id="L6509" data-line-number="6509"></td>
          <td id="LC6509"><span>bool</span> <span>Notepad_plus::noOpenedDoc</span>() <span>const</span></td>
        </tr>
        <tr>
          <td id="L6510" data-line-number="6510"></td>
          <td id="LC6510">{</td>
        </tr>
        <tr>
          <td id="L6511" data-line-number="6511"></td>
          <td id="LC6511">	<span>if</span> (_mainDocTab.<span>isVisible</span>() &amp;&amp; _subDocTab.<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L6512" data-line-number="6512"></td>
          <td id="LC6512">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L6513" data-line-number="6513"></td>
          <td id="LC6513">	<span>if</span> (_pDocTab-&gt;<span>nbItem</span>() == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L6514" data-line-number="6514"></td>
          <td id="LC6514">	{</td>
        </tr>
        <tr>
          <td id="L6515" data-line-number="6515"></td>
          <td id="LC6515">		BufferID buffer = _pDocTab-&gt;<span>getBufferByIndex</span>(<span>0</span>);</td>
        </tr>
        <tr>
          <td id="L6516" data-line-number="6516"></td>
          <td id="LC6516">		Buffer * buf = MainFileManager.<span>getBufferByID</span>(buffer);</td>
        </tr>
        <tr>
          <td id="L6517" data-line-number="6517"></td>
          <td id="LC6517">		<span>if</span> (!buf-&gt;<span>isDirty</span>() &amp;&amp; buf-&gt;<span>isUntitled</span>())</td>
        </tr>
        <tr>
          <td id="L6518" data-line-number="6518"></td>
          <td id="LC6518">			<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L6519" data-line-number="6519"></td>
          <td id="LC6519">	}</td>
        </tr>
        <tr>
          <td id="L6520" data-line-number="6520"></td>
          <td id="LC6520">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L6521" data-line-number="6521"></td>
          <td id="LC6521">}</td>
        </tr>
        <tr>
          <td id="L6522" data-line-number="6522"></td>
          <td id="LC6522">
</td>
        </tr>
        <tr>
          <td id="L6523" data-line-number="6523"></td>
          <td id="LC6523"><span>bool</span> <span>Notepad_plus::reloadLang</span>()</td>
        </tr>
        <tr>
          <td id="L6524" data-line-number="6524"></td>
          <td id="LC6524">{</td>
        </tr>
        <tr>
          <td id="L6525" data-line-number="6525"></td>
          <td id="LC6525">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6526" data-line-number="6526"></td>
          <td id="LC6526">
</td>
        </tr>
        <tr>
          <td id="L6527" data-line-number="6527"></td>
          <td id="LC6527">	<span>if</span> (!nppParam.<span>reloadLang</span>())</td>
        </tr>
        <tr>
          <td id="L6528" data-line-number="6528"></td>
          <td id="LC6528">	{</td>
        </tr>
        <tr>
          <td id="L6529" data-line-number="6529"></td>
          <td id="LC6529">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L6530" data-line-number="6530"></td>
          <td id="LC6530">	}</td>
        </tr>
        <tr>
          <td id="L6531" data-line-number="6531"></td>
          <td id="LC6531">
</td>
        </tr>
        <tr>
          <td id="L6532" data-line-number="6532"></td>
          <td id="LC6532">	TiXmlDocumentA *nativeLangDocRootA = nppParam.<span>getNativeLangA</span>();</td>
        </tr>
        <tr>
          <td id="L6533" data-line-number="6533"></td>
          <td id="LC6533">	<span>if</span> (!nativeLangDocRootA)</td>
        </tr>
        <tr>
          <td id="L6534" data-line-number="6534"></td>
          <td id="LC6534">	{</td>
        </tr>
        <tr>
          <td id="L6535" data-line-number="6535"></td>
          <td id="LC6535">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L6536" data-line-number="6536"></td>
          <td id="LC6536">	}</td>
        </tr>
        <tr>
          <td id="L6537" data-line-number="6537"></td>
          <td id="LC6537">
</td>
        </tr>
        <tr>
          <td id="L6538" data-line-number="6538"></td>
          <td id="LC6538">    _nativeLangSpeaker.<span>init</span>(nativeLangDocRootA, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L6539" data-line-number="6539"></td>
          <td id="LC6539">
</td>
        </tr>
        <tr>
          <td id="L6540" data-line-number="6540"></td>
          <td id="LC6540">    nppParam.<span>reloadContextMenuFromXmlTree</span>(_mainMenuHandle, _pluginsManager.<span>getMenuHandle</span>());</td>
        </tr>
        <tr>
          <td id="L6541" data-line-number="6541"></td>
          <td id="LC6541">
</td>
        </tr>
        <tr>
          <td id="L6542" data-line-number="6542"></td>
          <td id="LC6542">	_nativeLangSpeaker.<span>changeMenuLang</span>(_mainMenuHandle);</td>
        </tr>
        <tr>
          <td id="L6543" data-line-number="6543"></td>
          <td id="LC6543">    <span>::DrawMenuBar</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L6544" data-line-number="6544"></td>
          <td id="LC6544">
</td>
        </tr>
        <tr>
          <td id="L6545" data-line-number="6545"></td>
          <td id="LC6545">	<span><span>//</span> Update scintilla context menu strings</span></td>
        </tr>
        <tr>
          <td id="L6546" data-line-number="6546"></td>
          <td id="LC6546">	vector&lt;MenuItemUnit&gt; &amp; tmp = nppParam.getContextMenuItems();</td>
        </tr>
        <tr>
          <td id="L6547" data-line-number="6547"></td>
          <td id="LC6547">	<span>size_t</span> len = tmp.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L6548" data-line-number="6548"></td>
          <td id="LC6548">	TCHAR menuName[<span>64</span>];</td>
        </tr>
        <tr>
          <td id="L6549" data-line-number="6549"></td>
          <td id="LC6549">	<span>for</span> (<span>size_t</span> i = <span>0</span> ; i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L6550" data-line-number="6550"></td>
          <td id="LC6550">	{</td>
        </tr>
        <tr>
          <td id="L6551" data-line-number="6551"></td>
          <td id="LC6551">		<span>if</span> (tmp[i].<span>_itemName</span> == <span>TEXT</span>(<span><span>&#34;</span><span>&#34;</span></span>))</td>
        </tr>
        <tr>
          <td id="L6552" data-line-number="6552"></td>
          <td id="LC6552">		{</td>
        </tr>
        <tr>
          <td id="L6553" data-line-number="6553"></td>
          <td id="LC6553">			<span>::GetMenuString</span>(_mainMenuHandle, tmp[i]._cmdID, menuName, <span>64</span>, MF_BYCOMMAND);</td>
        </tr>
        <tr>
          <td id="L6554" data-line-number="6554"></td>
          <td id="LC6554">			tmp[i].<span>_itemName</span> = <span>purgeMenuItemString</span>(menuName);</td>
        </tr>
        <tr>
          <td id="L6555" data-line-number="6555"></td>
          <td id="LC6555">		}</td>
        </tr>
        <tr>
          <td id="L6556" data-line-number="6556"></td>
          <td id="LC6556">	}</td>
        </tr>
        <tr>
          <td id="L6557" data-line-number="6557"></td>
          <td id="LC6557">
</td>
        </tr>
        <tr>
          <td id="L6558" data-line-number="6558"></td>
          <td id="LC6558">	<span>updateCommandShortcuts</span>();</td>
        </tr>
        <tr>
          <td id="L6559" data-line-number="6559"></td>
          <td id="LC6559">
</td>
        </tr>
        <tr>
          <td id="L6560" data-line-number="6560"></td>
          <td id="LC6560">	_accelerator.<span>updateFullMenu</span>();</td>
        </tr>
        <tr>
          <td id="L6561" data-line-number="6561"></td>
          <td id="LC6561">
</td>
        </tr>
        <tr>
          <td id="L6562" data-line-number="6562"></td>
          <td id="LC6562">	_scintaccelerator.<span>updateKeys</span>();</td>
        </tr>
        <tr>
          <td id="L6563" data-line-number="6563"></td>
          <td id="LC6563">
</td>
        </tr>
        <tr>
          <td id="L6564" data-line-number="6564"></td>
          <td id="LC6564">
</td>
        </tr>
        <tr>
          <td id="L6565" data-line-number="6565"></td>
          <td id="LC6565">	<span>if</span> (_tabPopupMenu.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6566" data-line-number="6566"></td>
          <td id="LC6566">	{</td>
        </tr>
        <tr>
          <td id="L6567" data-line-number="6567"></td>
          <td id="LC6567">		_nativeLangSpeaker.<span>changeLangTabContextMenu</span>(_tabPopupMenu.<span>getMenuHandle</span>());</td>
        </tr>
        <tr>
          <td id="L6568" data-line-number="6568"></td>
          <td id="LC6568">	}</td>
        </tr>
        <tr>
          <td id="L6569" data-line-number="6569"></td>
          <td id="LC6569">	<span>if</span> (_tabPopupDropMenu.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6570" data-line-number="6570"></td>
          <td id="LC6570">	{</td>
        </tr>
        <tr>
          <td id="L6571" data-line-number="6571"></td>
          <td id="LC6571">		_nativeLangSpeaker.<span>changeLangTabDrapContextMenu</span>(_tabPopupDropMenu.<span>getMenuHandle</span>());</td>
        </tr>
        <tr>
          <td id="L6572" data-line-number="6572"></td>
          <td id="LC6572">	}</td>
        </tr>
        <tr>
          <td id="L6573" data-line-number="6573"></td>
          <td id="LC6573">	<span>if</span> (_fileSwitcherMultiFilePopupMenu.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6574" data-line-number="6574"></td>
          <td id="LC6574">	{</td>
        </tr>
        <tr>
          <td id="L6575" data-line-number="6575"></td>
          <td id="LC6575">		<span><span>//</span>_nativeLangSpeaker.changeLangTabDrapContextMenu(_fileSwitcherMultiFilePopupMenu.getMenuHandle());</span></td>
        </tr>
        <tr>
          <td id="L6576" data-line-number="6576"></td>
          <td id="LC6576">	}</td>
        </tr>
        <tr>
          <td id="L6577" data-line-number="6577"></td>
          <td id="LC6577">	<span>if</span> (_preference.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6578" data-line-number="6578"></td>
          <td id="LC6578">	{</td>
        </tr>
        <tr>
          <td id="L6579" data-line-number="6579"></td>
          <td id="LC6579">		_nativeLangSpeaker.<span>changePrefereceDlgLang</span>(_preference);</td>
        </tr>
        <tr>
          <td id="L6580" data-line-number="6580"></td>
          <td id="LC6580">	}</td>
        </tr>
        <tr>
          <td id="L6581" data-line-number="6581"></td>
          <td id="LC6581">
</td>
        </tr>
        <tr>
          <td id="L6582" data-line-number="6582"></td>
          <td id="LC6582">	<span>if</span> (_configStyleDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6583" data-line-number="6583"></td>
          <td id="LC6583">	{</td>
        </tr>
        <tr>
          <td id="L6584" data-line-number="6584"></td>
          <td id="LC6584">        _nativeLangSpeaker.<span>changeConfigLang</span>(_configStyleDlg.<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L6585" data-line-number="6585"></td>
          <td id="LC6585">	}</td>
        </tr>
        <tr>
          <td id="L6586" data-line-number="6586"></td>
          <td id="LC6586">
</td>
        </tr>
        <tr>
          <td id="L6587" data-line-number="6587"></td>
          <td id="LC6587">	<span>if</span> (_findReplaceDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6588" data-line-number="6588"></td>
          <td id="LC6588">	{</td>
        </tr>
        <tr>
          <td id="L6589" data-line-number="6589"></td>
          <td id="LC6589">		_nativeLangSpeaker.<span>changeFindReplaceDlgLang</span>(_findReplaceDlg);</td>
        </tr>
        <tr>
          <td id="L6590" data-line-number="6590"></td>
          <td id="LC6590">	}</td>
        </tr>
        <tr>
          <td id="L6591" data-line-number="6591"></td>
          <td id="LC6591">
</td>
        </tr>
        <tr>
          <td id="L6592" data-line-number="6592"></td>
          <td id="LC6592">	<span>if</span> (_goToLineDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6593" data-line-number="6593"></td>
          <td id="LC6593">	{</td>
        </tr>
        <tr>
          <td id="L6594" data-line-number="6594"></td>
          <td id="LC6594">		_nativeLangSpeaker.<span>changeDlgLang</span>(_goToLineDlg.<span>getHSelf</span>(), <span><span>&#34;</span>GoToLine<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6595" data-line-number="6595"></td>
          <td id="LC6595">	}</td>
        </tr>
        <tr>
          <td id="L6596" data-line-number="6596"></td>
          <td id="LC6596">
</td>
        </tr>
        <tr>
          <td id="L6597" data-line-number="6597"></td>
          <td id="LC6597">	<span>if</span> (_runDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6598" data-line-number="6598"></td>
          <td id="LC6598">	{</td>
        </tr>
        <tr>
          <td id="L6599" data-line-number="6599"></td>
          <td id="LC6599">		_nativeLangSpeaker.<span>changeDlgLang</span>(_runDlg.<span>getHSelf</span>(), <span><span>&#34;</span>Run<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6600" data-line-number="6600"></td>
          <td id="LC6600">	}</td>
        </tr>
        <tr>
          <td id="L6601" data-line-number="6601"></td>
          <td id="LC6601">
</td>
        </tr>
        <tr>
          <td id="L6602" data-line-number="6602"></td>
          <td id="LC6602">	<span>if</span> (_md5FromFilesDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6603" data-line-number="6603"></td>
          <td id="LC6603">	{</td>
        </tr>
        <tr>
          <td id="L6604" data-line-number="6604"></td>
          <td id="LC6604">		_nativeLangSpeaker.<span>changeDlgLang</span>(_md5FromFilesDlg.<span>getHSelf</span>(), <span><span>&#34;</span>MD5FromFilesDlg<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6605" data-line-number="6605"></td>
          <td id="LC6605">	}</td>
        </tr>
        <tr>
          <td id="L6606" data-line-number="6606"></td>
          <td id="LC6606">
</td>
        </tr>
        <tr>
          <td id="L6607" data-line-number="6607"></td>
          <td id="LC6607">	<span>if</span> (_md5FromTextDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6608" data-line-number="6608"></td>
          <td id="LC6608">	{</td>
        </tr>
        <tr>
          <td id="L6609" data-line-number="6609"></td>
          <td id="LC6609">		_nativeLangSpeaker.<span>changeDlgLang</span>(_md5FromTextDlg.<span>getHSelf</span>(), <span><span>&#34;</span>MD5FromTextDlg<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6610" data-line-number="6610"></td>
          <td id="LC6610">	}</td>
        </tr>
        <tr>
          <td id="L6611" data-line-number="6611"></td>
          <td id="LC6611">
</td>
        </tr>
        <tr>
          <td id="L6612" data-line-number="6612"></td>
          <td id="LC6612">	<span>if</span> (_sha2FromFilesDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6613" data-line-number="6613"></td>
          <td id="LC6613">	{</td>
        </tr>
        <tr>
          <td id="L6614" data-line-number="6614"></td>
          <td id="LC6614">		_nativeLangSpeaker.<span>changeDlgLang</span>(_sha2FromFilesDlg.<span>getHSelf</span>(), <span><span>&#34;</span>SHA256FromFilesDlg<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6615" data-line-number="6615"></td>
          <td id="LC6615">	}</td>
        </tr>
        <tr>
          <td id="L6616" data-line-number="6616"></td>
          <td id="LC6616">
</td>
        </tr>
        <tr>
          <td id="L6617" data-line-number="6617"></td>
          <td id="LC6617">	<span>if</span> (_sha2FromTextDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6618" data-line-number="6618"></td>
          <td id="LC6618">	{</td>
        </tr>
        <tr>
          <td id="L6619" data-line-number="6619"></td>
          <td id="LC6619">		_nativeLangSpeaker.<span>changeDlgLang</span>(_sha2FromTextDlg.<span>getHSelf</span>(), <span><span>&#34;</span>SHA256FromTextDlg<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6620" data-line-number="6620"></td>
          <td id="LC6620">	}</td>
        </tr>
        <tr>
          <td id="L6621" data-line-number="6621"></td>
          <td id="LC6621">
</td>
        </tr>
        <tr>
          <td id="L6622" data-line-number="6622"></td>
          <td id="LC6622">	<span>if</span> (_runMacroDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6623" data-line-number="6623"></td>
          <td id="LC6623">	{</td>
        </tr>
        <tr>
          <td id="L6624" data-line-number="6624"></td>
          <td id="LC6624">		_nativeLangSpeaker.<span>changeDlgLang</span>(_runMacroDlg.<span>getHSelf</span>(), <span><span>&#34;</span>MultiMacro<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6625" data-line-number="6625"></td>
          <td id="LC6625">	}</td>
        </tr>
        <tr>
          <td id="L6626" data-line-number="6626"></td>
          <td id="LC6626">
</td>
        </tr>
        <tr>
          <td id="L6627" data-line-number="6627"></td>
          <td id="LC6627">	<span>if</span> (_incrementFindDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6628" data-line-number="6628"></td>
          <td id="LC6628">	{</td>
        </tr>
        <tr>
          <td id="L6629" data-line-number="6629"></td>
          <td id="LC6629">		_nativeLangSpeaker.<span>changeDlgLang</span>(_incrementFindDlg.<span>getHSelf</span>(), <span><span>&#34;</span>IncrementalFind<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6630" data-line-number="6630"></td>
          <td id="LC6630">	}</td>
        </tr>
        <tr>
          <td id="L6631" data-line-number="6631"></td>
          <td id="LC6631">
</td>
        </tr>
        <tr>
          <td id="L6632" data-line-number="6632"></td>
          <td id="LC6632">	<span>if</span> (_findCharsInRangeDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6633" data-line-number="6633"></td>
          <td id="LC6633">	{</td>
        </tr>
        <tr>
          <td id="L6634" data-line-number="6634"></td>
          <td id="LC6634">		_nativeLangSpeaker.<span>changeDlgLang</span>(_findCharsInRangeDlg.<span>getHSelf</span>(), <span><span>&#34;</span>FindCharsInRange<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6635" data-line-number="6635"></td>
          <td id="LC6635">	}</td>
        </tr>
        <tr>
          <td id="L6636" data-line-number="6636"></td>
          <td id="LC6636">
</td>
        </tr>
        <tr>
          <td id="L6637" data-line-number="6637"></td>
          <td id="LC6637">	<span>if</span> (_colEditorDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6638" data-line-number="6638"></td>
          <td id="LC6638">	{</td>
        </tr>
        <tr>
          <td id="L6639" data-line-number="6639"></td>
          <td id="LC6639">        _nativeLangSpeaker.<span>changeDlgLang</span>(_colEditorDlg.<span>getHSelf</span>(), <span><span>&#34;</span>ColumnEditor<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6640" data-line-number="6640"></td>
          <td id="LC6640">	}</td>
        </tr>
        <tr>
          <td id="L6641" data-line-number="6641"></td>
          <td id="LC6641">
</td>
        </tr>
        <tr>
          <td id="L6642" data-line-number="6642"></td>
          <td id="LC6642">	<span>if</span> (_pluginsAdminDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6643" data-line-number="6643"></td>
          <td id="LC6643">	{</td>
        </tr>
        <tr>
          <td id="L6644" data-line-number="6644"></td>
          <td id="LC6644">		_nativeLangSpeaker.<span>changePluginsAdminDlgLang</span>(_pluginsAdminDlg);</td>
        </tr>
        <tr>
          <td id="L6645" data-line-number="6645"></td>
          <td id="LC6645">	}</td>
        </tr>
        <tr>
          <td id="L6646" data-line-number="6646"></td>
          <td id="LC6646">
</td>
        </tr>
        <tr>
          <td id="L6647" data-line-number="6647"></td>
          <td id="LC6647">	UserDefineDialog *udd = _pEditView-&gt;<span>getUserDefineDlg</span>();</td>
        </tr>
        <tr>
          <td id="L6648" data-line-number="6648"></td>
          <td id="LC6648">	<span>if</span> (udd-&gt;<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L6649" data-line-number="6649"></td>
          <td id="LC6649">	{</td>
        </tr>
        <tr>
          <td id="L6650" data-line-number="6650"></td>
          <td id="LC6650">		_nativeLangSpeaker.<span>changeUserDefineLang</span>(udd);</td>
        </tr>
        <tr>
          <td id="L6651" data-line-number="6651"></td>
          <td id="LC6651">	}</td>
        </tr>
        <tr>
          <td id="L6652" data-line-number="6652"></td>
          <td id="LC6652">
</td>
        </tr>
        <tr>
          <td id="L6653" data-line-number="6653"></td>
          <td id="LC6653">	_lastRecentFileList.<span>setLangEncoding</span>(_nativeLangSpeaker.<span>getLangEncoding</span>());</td>
        </tr>
        <tr>
          <td id="L6654" data-line-number="6654"></td>
          <td id="LC6654">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L6655" data-line-number="6655"></td>
          <td id="LC6655">}</td>
        </tr>
        <tr>
          <td id="L6656" data-line-number="6656"></td>
          <td id="LC6656">
</td>
        </tr>
        <tr>
          <td id="L6657" data-line-number="6657"></td>
          <td id="LC6657">
</td>
        </tr>
        <tr>
          <td id="L6658" data-line-number="6658"></td>
          <td id="LC6658"><span>void</span> <span>Notepad_plus::launchClipboardHistoryPanel</span>()</td>
        </tr>
        <tr>
          <td id="L6659" data-line-number="6659"></td>
          <td id="LC6659">{</td>
        </tr>
        <tr>
          <td id="L6660" data-line-number="6660"></td>
          <td id="LC6660">	NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6661" data-line-number="6661"></td>
          <td id="LC6661">	<span>if</span> (!_pClipboardHistoryPanel)</td>
        </tr>
        <tr>
          <td id="L6662" data-line-number="6662"></td>
          <td id="LC6662">	{</td>
        </tr>
        <tr>
          <td id="L6663" data-line-number="6663"></td>
          <td id="LC6663">		_pClipboardHistoryPanel = <span>new</span> <span>ClipboardHistoryPanel</span>();</td>
        </tr>
        <tr>
          <td id="L6664" data-line-number="6664"></td>
          <td id="LC6664">
</td>
        </tr>
        <tr>
          <td id="L6665" data-line-number="6665"></td>
          <td id="LC6665">		_pClipboardHistoryPanel-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>(), &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L6666" data-line-number="6666"></td>
          <td id="LC6666">
</td>
        </tr>
        <tr>
          <td id="L6667" data-line-number="6667"></td>
          <td id="LC6667">		NativeLangSpeaker *pNativeSpeaker = nppParams.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L6668" data-line-number="6668"></td>
          <td id="LC6668">		<span>bool</span> isRTL = pNativeSpeaker-&gt;<span>isRTL</span>();</td>
        </tr>
        <tr>
          <td id="L6669" data-line-number="6669"></td>
          <td id="LC6669">		tTbData	data = {};</td>
        </tr>
        <tr>
          <td id="L6670" data-line-number="6670"></td>
          <td id="LC6670">		_pClipboardHistoryPanel-&gt;<span>create</span>(&amp;data, isRTL);</td>
        </tr>
        <tr>
          <td id="L6671" data-line-number="6671"></td>
          <td id="LC6671">
</td>
        </tr>
        <tr>
          <td id="L6672" data-line-number="6672"></td>
          <td id="LC6672">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_MODELESSDIALOG, MODELESSDIALOGREMOVE, reinterpret_cast&lt;LPARAM&gt;(_pClipboardHistoryPanel-&gt;<span>getHSelf</span>()));</td>
        </tr>
        <tr>
          <td id="L6673" data-line-number="6673"></td>
          <td id="LC6673">		<span><span>//</span> define the default docking behaviour</span></td>
        </tr>
        <tr>
          <td id="L6674" data-line-number="6674"></td>
          <td id="LC6674">		data.uMask = DWS_DF_CONT_RIGHT | DWS_ICONTAB | DWS_USEOWNDARKMODE;</td>
        </tr>
        <tr>
          <td id="L6675" data-line-number="6675"></td>
          <td id="LC6675">
</td>
        </tr>
        <tr>
          <td id="L6676" data-line-number="6676"></td>
          <td id="LC6676">		<span>int</span> icoID = IDR_CLIPBOARDPANEL_ICO;</td>
        </tr>
        <tr>
          <td id="L6677" data-line-number="6677"></td>
          <td id="LC6677">		<span>if</span> (NppDarkMode::isEnabled())</td>
        </tr>
        <tr>
          <td id="L6678" data-line-number="6678"></td>
          <td id="LC6678">			icoID = IDR_CLIPBOARDPANEL_ICO_DM;</td>
        </tr>
        <tr>
          <td id="L6679" data-line-number="6679"></td>
          <td id="LC6679">		<span>else</span> <span>if</span> (nppParams.getNppGUI()._toolBarStatus != TB_STANDARD)</td>
        </tr>
        <tr>
          <td id="L6680" data-line-number="6680"></td>
          <td id="LC6680">			icoID = IDR_CLIPBOARDPANEL_ICO2;</td>
        </tr>
        <tr>
          <td id="L6681" data-line-number="6681"></td>
          <td id="LC6681">
</td>
        </tr>
        <tr>
          <td id="L6682" data-line-number="6682"></td>
          <td id="LC6682">		data.<span>hIconTab</span> = (HICON)::<span>LoadImage</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(icoID), IMAGE_ICON, <span>14</span>, <span>14</span>, LR_LOADMAP3DCOLORS | LR_LOADTRANSPARENT);</td>
        </tr>
        <tr>
          <td id="L6683" data-line-number="6683"></td>
          <td id="LC6683">		data.<span>pszModuleName</span> = NPP_INTERNAL_FUCTION_STR;</td>
        </tr>
        <tr>
          <td id="L6684" data-line-number="6684"></td>
          <td id="LC6684">
</td>
        </tr>
        <tr>
          <td id="L6685" data-line-number="6685"></td>
          <td id="LC6685">		<span><span>//</span> the dlgDlg should be the index of funcItem where the current function pointer is</span></td>
        </tr>
        <tr>
          <td id="L6686" data-line-number="6686"></td>
          <td id="LC6686">		<span><span>//</span> in this case is DOCKABLE_DEMO_INDEX</span></td>
        </tr>
        <tr>
          <td id="L6687" data-line-number="6687"></td>
          <td id="LC6687">		<span><span>//</span> In the case of Notepad++ internal function, it&#39;ll be the command ID which triggers this dialog</span></td>
        </tr>
        <tr>
          <td id="L6688" data-line-number="6688"></td>
          <td id="LC6688">		data.<span>dlgID</span> = IDM_EDIT_CLIPBOARDHISTORY_PANEL;</td>
        </tr>
        <tr>
          <td id="L6689" data-line-number="6689"></td>
          <td id="LC6689">
</td>
        </tr>
        <tr>
          <td id="L6690" data-line-number="6690"></td>
          <td id="LC6690">		generic_string title_temp = pNativeSpeaker-&gt;<span>getAttrNameStr</span>(CH_PROJECTPANELTITLE, <span><span>&#34;</span>ClipboardHistory<span>&#34;</span></span>, <span><span>&#34;</span>PanelTitle<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6691" data-line-number="6691"></td>
          <td id="LC6691">		<span>static</span> TCHAR title[<span>32</span>];</td>
        </tr>
        <tr>
          <td id="L6692" data-line-number="6692"></td>
          <td id="LC6692">		<span>if</span> (title_temp.<span>length</span>() &lt; <span>32</span>)</td>
        </tr>
        <tr>
          <td id="L6693" data-line-number="6693"></td>
          <td id="LC6693">		{</td>
        </tr>
        <tr>
          <td id="L6694" data-line-number="6694"></td>
          <td id="LC6694">			<span>wcscpy_s</span>(title, title_temp.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6695" data-line-number="6695"></td>
          <td id="LC6695">			data.<span>pszName</span> = title;</td>
        </tr>
        <tr>
          <td id="L6696" data-line-number="6696"></td>
          <td id="LC6696">		}</td>
        </tr>
        <tr>
          <td id="L6697" data-line-number="6697"></td>
          <td id="LC6697">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_DMMREGASDCKDLG, 0, reinterpret_cast&lt;LPARAM&gt;(&amp;data));</td>
        </tr>
        <tr>
          <td id="L6698" data-line-number="6698"></td>
          <td id="LC6698">
</td>
        </tr>
        <tr>
          <td id="L6699" data-line-number="6699"></td>
          <td id="LC6699">		COLORREF fgColor = nppParams.getCurrentDefaultFgColor();</td>
        </tr>
        <tr>
          <td id="L6700" data-line-number="6700"></td>
          <td id="LC6700">		COLORREF bgColor = nppParams.<span>getCurrentDefaultBgColor</span>();</td>
        </tr>
        <tr>
          <td id="L6701" data-line-number="6701"></td>
          <td id="LC6701">
</td>
        </tr>
        <tr>
          <td id="L6702" data-line-number="6702"></td>
          <td id="LC6702">		_pClipboardHistoryPanel-&gt;<span>setBackgroundColor</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L6703" data-line-number="6703"></td>
          <td id="LC6703">		_pClipboardHistoryPanel-&gt;<span>setForegroundColor</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L6704" data-line-number="6704"></td>
          <td id="LC6704">	}</td>
        </tr>
        <tr>
          <td id="L6705" data-line-number="6705"></td>
          <td id="LC6705">
</td>
        </tr>
        <tr>
          <td id="L6706" data-line-number="6706"></td>
          <td id="LC6706">	_pClipboardHistoryPanel-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L6707" data-line-number="6707"></td>
          <td id="LC6707">}</td>
        </tr>
        <tr>
          <td id="L6708" data-line-number="6708"></td>
          <td id="LC6708">
</td>
        </tr>
        <tr>
          <td id="L6709" data-line-number="6709"></td>
          <td id="LC6709">
</td>
        </tr>
        <tr>
          <td id="L6710" data-line-number="6710"></td>
          <td id="LC6710"><span>void</span> <span>Notepad_plus::launchDocumentListPanel</span>()</td>
        </tr>
        <tr>
          <td id="L6711" data-line-number="6711"></td>
          <td id="LC6711">{</td>
        </tr>
        <tr>
          <td id="L6712" data-line-number="6712"></td>
          <td id="LC6712">	<span>if</span> (!_pDocumentListPanel)</td>
        </tr>
        <tr>
          <td id="L6713" data-line-number="6713"></td>
          <td id="LC6713">	{</td>
        </tr>
        <tr>
          <td id="L6714" data-line-number="6714"></td>
          <td id="LC6714">		NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6715" data-line-number="6715"></td>
          <td id="LC6715">		<span>int</span> tabBarStatus = nppParams.<span>getNppGUI</span>().<span>_tabStatus</span>;</td>
        </tr>
        <tr>
          <td id="L6716" data-line-number="6716"></td>
          <td id="LC6716">
</td>
        </tr>
        <tr>
          <td id="L6717" data-line-number="6717"></td>
          <td id="LC6717">		_pDocumentListPanel = <span>new</span> VerticalFileSwitcher;</td>
        </tr>
        <tr>
          <td id="L6718" data-line-number="6718"></td>
          <td id="LC6718">		HIMAGELIST hImgLst = ((tabBarStatus &amp; TAB_ALTICONS) ? _docTabIconListAlt.<span>getHandle</span>() : <span>NppDarkMode::isEnabled</span>() ? _docTabIconListDarkMode.<span>getHandle</span>() : _docTabIconList.<span>getHandle</span>());</td>
        </tr>
        <tr>
          <td id="L6719" data-line-number="6719"></td>
          <td id="LC6719">		_pDocumentListPanel-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>(), hImgLst);</td>
        </tr>
        <tr>
          <td id="L6720" data-line-number="6720"></td>
          <td id="LC6720">		NativeLangSpeaker *pNativeSpeaker = nppParams.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L6721" data-line-number="6721"></td>
          <td id="LC6721">		<span>bool</span> isRTL = pNativeSpeaker-&gt;<span>isRTL</span>();</td>
        </tr>
        <tr>
          <td id="L6722" data-line-number="6722"></td>
          <td id="LC6722">		tTbData	data = {};</td>
        </tr>
        <tr>
          <td id="L6723" data-line-number="6723"></td>
          <td id="LC6723">		_pDocumentListPanel-&gt;<span>create</span>(&amp;data, isRTL);</td>
        </tr>
        <tr>
          <td id="L6724" data-line-number="6724"></td>
          <td id="LC6724">
</td>
        </tr>
        <tr>
          <td id="L6725" data-line-number="6725"></td>
          <td id="LC6725">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_MODELESSDIALOG, MODELESSDIALOGREMOVE, reinterpret_cast&lt;LPARAM&gt;(_pDocumentListPanel-&gt;<span>getHSelf</span>()));</td>
        </tr>
        <tr>
          <td id="L6726" data-line-number="6726"></td>
          <td id="LC6726">		<span><span>//</span> define the default docking behaviour</span></td>
        </tr>
        <tr>
          <td id="L6727" data-line-number="6727"></td>
          <td id="LC6727">		data.uMask = DWS_DF_CONT_LEFT | DWS_ICONTAB | DWS_USEOWNDARKMODE;</td>
        </tr>
        <tr>
          <td id="L6728" data-line-number="6728"></td>
          <td id="LC6728">
</td>
        </tr>
        <tr>
          <td id="L6729" data-line-number="6729"></td>
          <td id="LC6729">		<span>int</span> icoID = IDR_DOCLIST_ICO;</td>
        </tr>
        <tr>
          <td id="L6730" data-line-number="6730"></td>
          <td id="LC6730">		<span>if</span> (NppDarkMode::isEnabled())</td>
        </tr>
        <tr>
          <td id="L6731" data-line-number="6731"></td>
          <td id="LC6731">			icoID = IDR_DOCLIST_ICO_DM;</td>
        </tr>
        <tr>
          <td id="L6732" data-line-number="6732"></td>
          <td id="LC6732">		<span>else</span> <span>if</span> (nppParams.getNppGUI()._toolBarStatus != TB_STANDARD)</td>
        </tr>
        <tr>
          <td id="L6733" data-line-number="6733"></td>
          <td id="LC6733">			icoID = IDR_DOCLIST_ICO2;</td>
        </tr>
        <tr>
          <td id="L6734" data-line-number="6734"></td>
          <td id="LC6734">
</td>
        </tr>
        <tr>
          <td id="L6735" data-line-number="6735"></td>
          <td id="LC6735">		data.<span>hIconTab</span> = (HICON)::<span>LoadImage</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(icoID), IMAGE_ICON, <span>14</span>, <span>14</span>, LR_LOADMAP3DCOLORS | LR_LOADTRANSPARENT);</td>
        </tr>
        <tr>
          <td id="L6736" data-line-number="6736"></td>
          <td id="LC6736">		data.<span>pszModuleName</span> = NPP_INTERNAL_FUCTION_STR;</td>
        </tr>
        <tr>
          <td id="L6737" data-line-number="6737"></td>
          <td id="LC6737">
</td>
        </tr>
        <tr>
          <td id="L6738" data-line-number="6738"></td>
          <td id="LC6738">		<span><span>//</span> the dlgDlg should be the index of funcItem where the current function pointer is</span></td>
        </tr>
        <tr>
          <td id="L6739" data-line-number="6739"></td>
          <td id="LC6739">		<span><span>//</span> in this case is DOCKABLE_DEMO_INDEX</span></td>
        </tr>
        <tr>
          <td id="L6740" data-line-number="6740"></td>
          <td id="LC6740">		<span><span>//</span> In the case of Notepad++ internal function, it&#39;ll be the command ID which triggers this dialog</span></td>
        </tr>
        <tr>
          <td id="L6741" data-line-number="6741"></td>
          <td id="LC6741">		data.<span>dlgID</span> = IDM_VIEW_DOCLIST;</td>
        </tr>
        <tr>
          <td id="L6742" data-line-number="6742"></td>
          <td id="LC6742">
</td>
        </tr>
        <tr>
          <td id="L6743" data-line-number="6743"></td>
          <td id="LC6743">		generic_string title_temp = pNativeSpeaker-&gt;<span>getAttrNameStr</span>(FS_PROJECTPANELTITLE, <span><span>&#34;</span>DocList<span>&#34;</span></span>, <span><span>&#34;</span>PanelTitle<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6744" data-line-number="6744"></td>
          <td id="LC6744">		<span>static</span> TCHAR title[<span>32</span>];</td>
        </tr>
        <tr>
          <td id="L6745" data-line-number="6745"></td>
          <td id="LC6745">		<span>if</span> (title_temp.<span>length</span>() &lt; <span>32</span>)</td>
        </tr>
        <tr>
          <td id="L6746" data-line-number="6746"></td>
          <td id="LC6746">		{</td>
        </tr>
        <tr>
          <td id="L6747" data-line-number="6747"></td>
          <td id="LC6747">			<span>wcscpy_s</span>(title, title_temp.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6748" data-line-number="6748"></td>
          <td id="LC6748">			data.<span>pszName</span> = title;</td>
        </tr>
        <tr>
          <td id="L6749" data-line-number="6749"></td>
          <td id="LC6749">		}</td>
        </tr>
        <tr>
          <td id="L6750" data-line-number="6750"></td>
          <td id="LC6750">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_DMMREGASDCKDLG, 0, reinterpret_cast&lt;LPARAM&gt;(&amp;data));</td>
        </tr>
        <tr>
          <td id="L6751" data-line-number="6751"></td>
          <td id="LC6751">
</td>
        </tr>
        <tr>
          <td id="L6752" data-line-number="6752"></td>
          <td id="LC6752">		COLORREF fgColor = nppParams.getCurrentDefaultFgColor();</td>
        </tr>
        <tr>
          <td id="L6753" data-line-number="6753"></td>
          <td id="LC6753">		COLORREF bgColor = nppParams.<span>getCurrentDefaultBgColor</span>();</td>
        </tr>
        <tr>
          <td id="L6754" data-line-number="6754"></td>
          <td id="LC6754">
</td>
        </tr>
        <tr>
          <td id="L6755" data-line-number="6755"></td>
          <td id="LC6755">		_pDocumentListPanel-&gt;<span>setBackgroundColor</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L6756" data-line-number="6756"></td>
          <td id="LC6756">		_pDocumentListPanel-&gt;<span>setForegroundColor</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L6757" data-line-number="6757"></td>
          <td id="LC6757">	}</td>
        </tr>
        <tr>
          <td id="L6758" data-line-number="6758"></td>
          <td id="LC6758">	_pDocumentListPanel-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L6759" data-line-number="6759"></td>
          <td id="LC6759">}</td>
        </tr>
        <tr>
          <td id="L6760" data-line-number="6760"></td>
          <td id="LC6760">
</td>
        </tr>
        <tr>
          <td id="L6761" data-line-number="6761"></td>
          <td id="LC6761">
</td>
        </tr>
        <tr>
          <td id="L6762" data-line-number="6762"></td>
          <td id="LC6762"><span>void</span> <span>Notepad_plus::launchAnsiCharPanel</span>()</td>
        </tr>
        <tr>
          <td id="L6763" data-line-number="6763"></td>
          <td id="LC6763">{</td>
        </tr>
        <tr>
          <td id="L6764" data-line-number="6764"></td>
          <td id="LC6764">	<span>if</span> (!_pAnsiCharPanel)</td>
        </tr>
        <tr>
          <td id="L6765" data-line-number="6765"></td>
          <td id="LC6765">	{</td>
        </tr>
        <tr>
          <td id="L6766" data-line-number="6766"></td>
          <td id="LC6766">		_pAnsiCharPanel = <span>new</span> <span>AnsiCharPanel</span>();</td>
        </tr>
        <tr>
          <td id="L6767" data-line-number="6767"></td>
          <td id="LC6767">		_pAnsiCharPanel-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>(), &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L6768" data-line-number="6768"></td>
          <td id="LC6768">		</td>
        </tr>
        <tr>
          <td id="L6769" data-line-number="6769"></td>
          <td id="LC6769">		NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6770" data-line-number="6770"></td>
          <td id="LC6770">
</td>
        </tr>
        <tr>
          <td id="L6771" data-line-number="6771"></td>
          <td id="LC6771">		NativeLangSpeaker *pNativeSpeaker = nppParams.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L6772" data-line-number="6772"></td>
          <td id="LC6772">		<span>bool</span> isRTL = pNativeSpeaker-&gt;<span>isRTL</span>();</td>
        </tr>
        <tr>
          <td id="L6773" data-line-number="6773"></td>
          <td id="LC6773">		tTbData	data = {};</td>
        </tr>
        <tr>
          <td id="L6774" data-line-number="6774"></td>
          <td id="LC6774">		_pAnsiCharPanel-&gt;<span>create</span>(&amp;data, isRTL);</td>
        </tr>
        <tr>
          <td id="L6775" data-line-number="6775"></td>
          <td id="LC6775">
</td>
        </tr>
        <tr>
          <td id="L6776" data-line-number="6776"></td>
          <td id="LC6776">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_MODELESSDIALOG, MODELESSDIALOGREMOVE, reinterpret_cast&lt;LPARAM&gt;(_pAnsiCharPanel-&gt;<span>getHSelf</span>()));</td>
        </tr>
        <tr>
          <td id="L6777" data-line-number="6777"></td>
          <td id="LC6777">		<span><span>//</span> define the default docking behaviour</span></td>
        </tr>
        <tr>
          <td id="L6778" data-line-number="6778"></td>
          <td id="LC6778">		data.uMask = DWS_DF_CONT_RIGHT | DWS_ICONTAB | DWS_USEOWNDARKMODE;</td>
        </tr>
        <tr>
          <td id="L6779" data-line-number="6779"></td>
          <td id="LC6779">
</td>
        </tr>
        <tr>
          <td id="L6780" data-line-number="6780"></td>
          <td id="LC6780">		<span>int</span> icoID = IDR_ASCIIPANEL_ICO;</td>
        </tr>
        <tr>
          <td id="L6781" data-line-number="6781"></td>
          <td id="LC6781">		<span>if</span> (NppDarkMode::isEnabled())</td>
        </tr>
        <tr>
          <td id="L6782" data-line-number="6782"></td>
          <td id="LC6782">			icoID = IDR_ASCIIPANEL_ICO_DM;</td>
        </tr>
        <tr>
          <td id="L6783" data-line-number="6783"></td>
          <td id="LC6783">		<span>else</span> <span>if</span> (nppParams.getNppGUI()._toolBarStatus != TB_STANDARD)</td>
        </tr>
        <tr>
          <td id="L6784" data-line-number="6784"></td>
          <td id="LC6784">			icoID = IDR_ASCIIPANEL_ICO2;</td>
        </tr>
        <tr>
          <td id="L6785" data-line-number="6785"></td>
          <td id="LC6785">
</td>
        </tr>
        <tr>
          <td id="L6786" data-line-number="6786"></td>
          <td id="LC6786">		data.<span>hIconTab</span> = (HICON)::<span>LoadImage</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(icoID), IMAGE_ICON, <span>14</span>, <span>14</span>, LR_LOADMAP3DCOLORS | LR_LOADTRANSPARENT);</td>
        </tr>
        <tr>
          <td id="L6787" data-line-number="6787"></td>
          <td id="LC6787">		data.<span>pszModuleName</span> = NPP_INTERNAL_FUCTION_STR;</td>
        </tr>
        <tr>
          <td id="L6788" data-line-number="6788"></td>
          <td id="LC6788">
</td>
        </tr>
        <tr>
          <td id="L6789" data-line-number="6789"></td>
          <td id="LC6789">		<span><span>//</span> the dlgDlg should be the index of funcItem where the current function pointer is</span></td>
        </tr>
        <tr>
          <td id="L6790" data-line-number="6790"></td>
          <td id="LC6790">		<span><span>//</span> in this case is DOCKABLE_DEMO_INDEX</span></td>
        </tr>
        <tr>
          <td id="L6791" data-line-number="6791"></td>
          <td id="LC6791">		<span><span>//</span> In the case of Notepad++ internal function, it&#39;ll be the command ID which triggers this dialog</span></td>
        </tr>
        <tr>
          <td id="L6792" data-line-number="6792"></td>
          <td id="LC6792">		data.<span>dlgID</span> = IDM_EDIT_CHAR_PANEL;</td>
        </tr>
        <tr>
          <td id="L6793" data-line-number="6793"></td>
          <td id="LC6793">
</td>
        </tr>
        <tr>
          <td id="L6794" data-line-number="6794"></td>
          <td id="LC6794">		generic_string title_temp = pNativeSpeaker-&gt;<span>getAttrNameStr</span>(AI_PROJECTPANELTITLE, <span><span>&#34;</span>AsciiInsertion<span>&#34;</span></span>, <span><span>&#34;</span>PanelTitle<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6795" data-line-number="6795"></td>
          <td id="LC6795">		<span>static</span> TCHAR title[<span>85</span>];</td>
        </tr>
        <tr>
          <td id="L6796" data-line-number="6796"></td>
          <td id="LC6796">		<span>if</span> (title_temp.<span>length</span>() &lt; <span>85</span>)</td>
        </tr>
        <tr>
          <td id="L6797" data-line-number="6797"></td>
          <td id="LC6797">		{</td>
        </tr>
        <tr>
          <td id="L6798" data-line-number="6798"></td>
          <td id="LC6798">			<span>wcscpy_s</span>(title, title_temp.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6799" data-line-number="6799"></td>
          <td id="LC6799">			data.<span>pszName</span> = title;</td>
        </tr>
        <tr>
          <td id="L6800" data-line-number="6800"></td>
          <td id="LC6800">		}</td>
        </tr>
        <tr>
          <td id="L6801" data-line-number="6801"></td>
          <td id="LC6801">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_DMMREGASDCKDLG, 0, reinterpret_cast&lt;LPARAM&gt;(&amp;data));</td>
        </tr>
        <tr>
          <td id="L6802" data-line-number="6802"></td>
          <td id="LC6802">
</td>
        </tr>
        <tr>
          <td id="L6803" data-line-number="6803"></td>
          <td id="LC6803">		COLORREF fgColor = nppParams.getCurrentDefaultFgColor();</td>
        </tr>
        <tr>
          <td id="L6804" data-line-number="6804"></td>
          <td id="LC6804">		COLORREF bgColor = nppParams.<span>getCurrentDefaultBgColor</span>();</td>
        </tr>
        <tr>
          <td id="L6805" data-line-number="6805"></td>
          <td id="LC6805">
</td>
        </tr>
        <tr>
          <td id="L6806" data-line-number="6806"></td>
          <td id="LC6806">		_pAnsiCharPanel-&gt;<span>setBackgroundColor</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L6807" data-line-number="6807"></td>
          <td id="LC6807">		_pAnsiCharPanel-&gt;<span>setForegroundColor</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L6808" data-line-number="6808"></td>
          <td id="LC6808">	}</td>
        </tr>
        <tr>
          <td id="L6809" data-line-number="6809"></td>
          <td id="LC6809">
</td>
        </tr>
        <tr>
          <td id="L6810" data-line-number="6810"></td>
          <td id="LC6810">	_pAnsiCharPanel-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L6811" data-line-number="6811"></td>
          <td id="LC6811">}</td>
        </tr>
        <tr>
          <td id="L6812" data-line-number="6812"></td>
          <td id="LC6812">
</td>
        </tr>
        <tr>
          <td id="L6813" data-line-number="6813"></td>
          <td id="LC6813"><span>void</span> <span>Notepad_plus::launchFileBrowser</span>(<span>const</span> vector&lt;generic_string&gt; &amp; folders, <span>const</span> generic_string&amp; selectedItemPath, <span>bool</span> fromScratch)</td>
        </tr>
        <tr>
          <td id="L6814" data-line-number="6814"></td>
          <td id="LC6814">{</td>
        </tr>
        <tr>
          <td id="L6815" data-line-number="6815"></td>
          <td id="LC6815">	<span>if</span> (!_pFileBrowser)</td>
        </tr>
        <tr>
          <td id="L6816" data-line-number="6816"></td>
          <td id="LC6816">	{</td>
        </tr>
        <tr>
          <td id="L6817" data-line-number="6817"></td>
          <td id="LC6817">		_pFileBrowser = <span>new</span> FileBrowser;</td>
        </tr>
        <tr>
          <td id="L6818" data-line-number="6818"></td>
          <td id="LC6818">		_pFileBrowser-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L6819" data-line-number="6819"></td>
          <td id="LC6819">
</td>
        </tr>
        <tr>
          <td id="L6820" data-line-number="6820"></td>
          <td id="LC6820">		tTbData	data = {};</td>
        </tr>
        <tr>
          <td id="L6821" data-line-number="6821"></td>
          <td id="LC6821">		_pFileBrowser-&gt;<span>create</span>(&amp;data, _nativeLangSpeaker.<span>isRTL</span>());</td>
        </tr>
        <tr>
          <td id="L6822" data-line-number="6822"></td>
          <td id="LC6822">		data.<span>pszName</span> = <span>TEXT</span>(<span><span>&#34;</span>ST<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6823" data-line-number="6823"></td>
          <td id="LC6823">
</td>
        </tr>
        <tr>
          <td id="L6824" data-line-number="6824"></td>
          <td id="LC6824">		NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6825" data-line-number="6825"></td>
          <td id="LC6825">
</td>
        </tr>
        <tr>
          <td id="L6826" data-line-number="6826"></td>
          <td id="LC6826">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_MODELESSDIALOG, MODELESSDIALOGREMOVE, reinterpret_cast&lt;LPARAM&gt;(_pFileBrowser-&gt;<span>getHSelf</span>()));</td>
        </tr>
        <tr>
          <td id="L6827" data-line-number="6827"></td>
          <td id="LC6827">		<span><span>//</span> define the default docking behaviour</span></td>
        </tr>
        <tr>
          <td id="L6828" data-line-number="6828"></td>
          <td id="LC6828">		data.uMask = DWS_DF_CONT_LEFT | DWS_ICONTAB | DWS_USEOWNDARKMODE;</td>
        </tr>
        <tr>
          <td id="L6829" data-line-number="6829"></td>
          <td id="LC6829">		</td>
        </tr>
        <tr>
          <td id="L6830" data-line-number="6830"></td>
          <td id="LC6830">		<span>int</span> icoID = IDR_FILEBROWSER_ICO;</td>
        </tr>
        <tr>
          <td id="L6831" data-line-number="6831"></td>
          <td id="LC6831">		<span>if</span> (NppDarkMode::isEnabled())</td>
        </tr>
        <tr>
          <td id="L6832" data-line-number="6832"></td>
          <td id="LC6832">			icoID = IDR_FILEBROWSER_ICO_DM;</td>
        </tr>
        <tr>
          <td id="L6833" data-line-number="6833"></td>
          <td id="LC6833">		<span>else</span> <span>if</span> (nppParams.getNppGUI()._toolBarStatus != TB_STANDARD)</td>
        </tr>
        <tr>
          <td id="L6834" data-line-number="6834"></td>
          <td id="LC6834">			icoID = IDR_FILEBROWSER_ICO2;</td>
        </tr>
        <tr>
          <td id="L6835" data-line-number="6835"></td>
          <td id="LC6835">
</td>
        </tr>
        <tr>
          <td id="L6836" data-line-number="6836"></td>
          <td id="LC6836">		data.<span>hIconTab</span> = (HICON)::<span>LoadImage</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(icoID), IMAGE_ICON, <span>14</span>, <span>14</span>, LR_LOADMAP3DCOLORS | LR_LOADTRANSPARENT);</td>
        </tr>
        <tr>
          <td id="L6837" data-line-number="6837"></td>
          <td id="LC6837">		data.<span>pszModuleName</span> = NPP_INTERNAL_FUCTION_STR;</td>
        </tr>
        <tr>
          <td id="L6838" data-line-number="6838"></td>
          <td id="LC6838">
</td>
        </tr>
        <tr>
          <td id="L6839" data-line-number="6839"></td>
          <td id="LC6839">		<span><span>//</span> the dlgDlg should be the index of funcItem where the current function pointer is</span></td>
        </tr>
        <tr>
          <td id="L6840" data-line-number="6840"></td>
          <td id="LC6840">		<span><span>//</span> in this case is DOCKABLE_DEMO_INDEX</span></td>
        </tr>
        <tr>
          <td id="L6841" data-line-number="6841"></td>
          <td id="LC6841">		<span><span>//</span> In the case of Notepad++ internal function, it&#39;ll be the command ID which triggers this dialog</span></td>
        </tr>
        <tr>
          <td id="L6842" data-line-number="6842"></td>
          <td id="LC6842">		data.<span>dlgID</span> = IDM_VIEW_FILEBROWSER;</td>
        </tr>
        <tr>
          <td id="L6843" data-line-number="6843"></td>
          <td id="LC6843">
</td>
        </tr>
        <tr>
          <td id="L6844" data-line-number="6844"></td>
          <td id="LC6844">		NativeLangSpeaker *pNativeSpeaker = nppParams.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L6845" data-line-number="6845"></td>
          <td id="LC6845">		generic_string title_temp = pNativeSpeaker-&gt;<span>getAttrNameStr</span>(FB_PANELTITLE, FOLDERASWORKSPACE_NODE, <span><span>&#34;</span>PanelTitle<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6846" data-line-number="6846"></td>
          <td id="LC6846">
</td>
        </tr>
        <tr>
          <td id="L6847" data-line-number="6847"></td>
          <td id="LC6847">		<span>static</span> TCHAR title[<span>32</span>];</td>
        </tr>
        <tr>
          <td id="L6848" data-line-number="6848"></td>
          <td id="LC6848">		<span>if</span> (title_temp.<span>length</span>() &lt; <span>32</span>)</td>
        </tr>
        <tr>
          <td id="L6849" data-line-number="6849"></td>
          <td id="LC6849">		{</td>
        </tr>
        <tr>
          <td id="L6850" data-line-number="6850"></td>
          <td id="LC6850">			<span>wcscpy_s</span>(title, title_temp.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L6851" data-line-number="6851"></td>
          <td id="LC6851">			data.<span>pszName</span> = title;</td>
        </tr>
        <tr>
          <td id="L6852" data-line-number="6852"></td>
          <td id="LC6852">		}</td>
        </tr>
        <tr>
          <td id="L6853" data-line-number="6853"></td>
          <td id="LC6853">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_DMMREGASDCKDLG, 0, reinterpret_cast&lt;LPARAM&gt;(&amp;data));</td>
        </tr>
        <tr>
          <td id="L6854" data-line-number="6854"></td>
          <td id="LC6854">
</td>
        </tr>
        <tr>
          <td id="L6855" data-line-number="6855"></td>
          <td id="LC6855">		COLORREF fgColor = nppParams.getCurrentDefaultFgColor();</td>
        </tr>
        <tr>
          <td id="L6856" data-line-number="6856"></td>
          <td id="LC6856">		COLORREF bgColor = nppParams.<span>getCurrentDefaultBgColor</span>();</td>
        </tr>
        <tr>
          <td id="L6857" data-line-number="6857"></td>
          <td id="LC6857">
</td>
        </tr>
        <tr>
          <td id="L6858" data-line-number="6858"></td>
          <td id="LC6858">		_pFileBrowser-&gt;<span>setBackgroundColor</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L6859" data-line-number="6859"></td>
          <td id="LC6859">		_pFileBrowser-&gt;<span>setForegroundColor</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L6860" data-line-number="6860"></td>
          <td id="LC6860">	}</td>
        </tr>
        <tr>
          <td id="L6861" data-line-number="6861"></td>
          <td id="LC6861">
</td>
        </tr>
        <tr>
          <td id="L6862" data-line-number="6862"></td>
          <td id="LC6862">	<span>if</span> (fromScratch)</td>
        </tr>
        <tr>
          <td id="L6863" data-line-number="6863"></td>
          <td id="LC6863">	{</td>
        </tr>
        <tr>
          <td id="L6864" data-line-number="6864"></td>
          <td id="LC6864">		_pFileBrowser-&gt;<span>deleteAllFromTree</span>();</td>
        </tr>
        <tr>
          <td id="L6865" data-line-number="6865"></td>
          <td id="LC6865">	}</td>
        </tr>
        <tr>
          <td id="L6866" data-line-number="6866"></td>
          <td id="LC6866">
</td>
        </tr>
        <tr>
          <td id="L6867" data-line-number="6867"></td>
          <td id="LC6867">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt;folders.<span>size</span>(); ++i)</td>
        </tr>
        <tr>
          <td id="L6868" data-line-number="6868"></td>
          <td id="LC6868">	{</td>
        </tr>
        <tr>
          <td id="L6869" data-line-number="6869"></td>
          <td id="LC6869">		_pFileBrowser-&gt;<span>addRootFolder</span>(folders[i]);</td>
        </tr>
        <tr>
          <td id="L6870" data-line-number="6870"></td>
          <td id="LC6870">	}</td>
        </tr>
        <tr>
          <td id="L6871" data-line-number="6871"></td>
          <td id="LC6871">
</td>
        </tr>
        <tr>
          <td id="L6872" data-line-number="6872"></td>
          <td id="LC6872">	_pFileBrowser-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L6873" data-line-number="6873"></td>
          <td id="LC6873">	_pFileBrowser-&gt;<span>selectItemFromPath</span>(selectedItemPath);</td>
        </tr>
        <tr>
          <td id="L6874" data-line-number="6874"></td>
          <td id="LC6874">
</td>
        </tr>
        <tr>
          <td id="L6875" data-line-number="6875"></td>
          <td id="LC6875">	<span>checkMenuItem</span>(IDM_VIEW_FILEBROWSER, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L6876" data-line-number="6876"></td>
          <td id="LC6876">	_toolBar.<span>setCheck</span>(IDM_VIEW_FILEBROWSER, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L6877" data-line-number="6877"></td>
          <td id="LC6877">	_pFileBrowser-&gt;<span>setClosed</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L6878" data-line-number="6878"></td>
          <td id="LC6878">}</td>
        </tr>
        <tr>
          <td id="L6879" data-line-number="6879"></td>
          <td id="LC6879">
</td>
        </tr>
        <tr>
          <td id="L6880" data-line-number="6880"></td>
          <td id="LC6880"><span>void</span> <span>Notepad_plus::checkProjectMenuItem</span>()</td>
        </tr>
        <tr>
          <td id="L6881" data-line-number="6881"></td>
          <td id="LC6881">{</td>
        </tr>
        <tr>
          <td id="L6882" data-line-number="6882"></td>
          <td id="LC6882">	HMENU viewMenu = ::<span>GetSubMenu</span>(_mainMenuHandle, MENUINDEX_VIEW);</td>
        </tr>
        <tr>
          <td id="L6883" data-line-number="6883"></td>
          <td id="LC6883">	<span>int</span> viewMenuCount = ::<span>GetMenuItemCount</span>(viewMenu);</td>
        </tr>
        <tr>
          <td id="L6884" data-line-number="6884"></td>
          <td id="LC6884">	<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; viewMenuCount; i++)</td>
        </tr>
        <tr>
          <td id="L6885" data-line-number="6885"></td>
          <td id="LC6885">	{</td>
        </tr>
        <tr>
          <td id="L6886" data-line-number="6886"></td>
          <td id="LC6886">		HMENU subMenu = ::<span>GetSubMenu</span>(viewMenu, i);</td>
        </tr>
        <tr>
          <td id="L6887" data-line-number="6887"></td>
          <td id="LC6887">		<span>if</span> (subMenu)</td>
        </tr>
        <tr>
          <td id="L6888" data-line-number="6888"></td>
          <td id="LC6888">		{</td>
        </tr>
        <tr>
          <td id="L6889" data-line-number="6889"></td>
          <td id="LC6889">			<span>int</span> subMenuCount = ::<span>GetMenuItemCount</span>(subMenu);</td>
        </tr>
        <tr>
          <td id="L6890" data-line-number="6890"></td>
          <td id="LC6890">			<span>bool</span> found = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L6891" data-line-number="6891"></td>
          <td id="LC6891">			<span>bool</span> checked = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L6892" data-line-number="6892"></td>
          <td id="LC6892">			<span>for</span> (<span>int</span> j = <span>0</span>; j &lt; subMenuCount; j++)</td>
        </tr>
        <tr>
          <td id="L6893" data-line-number="6893"></td>
          <td id="LC6893">			{</td>
        </tr>
        <tr>
          <td id="L6894" data-line-number="6894"></td>
          <td id="LC6894">				UINT <span>const</span> ids [] = {IDM_VIEW_PROJECT_PANEL_1, IDM_VIEW_PROJECT_PANEL_2, IDM_VIEW_PROJECT_PANEL_3};</td>
        </tr>
        <tr>
          <td id="L6895" data-line-number="6895"></td>
          <td id="LC6895">				UINT id = <span>GetMenuItemID</span> (subMenu, j);</td>
        </tr>
        <tr>
          <td id="L6896" data-line-number="6896"></td>
          <td id="LC6896">				<span>for</span> (<span>size_t</span> k = <span>0</span>; k &lt; <span>_countof</span>(ids); k++)</td>
        </tr>
        <tr>
          <td id="L6897" data-line-number="6897"></td>
          <td id="LC6897">				{</td>
        </tr>
        <tr>
          <td id="L6898" data-line-number="6898"></td>
          <td id="LC6898">					<span>if</span> (id == ids [k])</td>
        </tr>
        <tr>
          <td id="L6899" data-line-number="6899"></td>
          <td id="LC6899">					{</td>
        </tr>
        <tr>
          <td id="L6900" data-line-number="6900"></td>
          <td id="LC6900">						found = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L6901" data-line-number="6901"></td>
          <td id="LC6901">						UINT s = <span>GetMenuState</span>(subMenu, j, MF_BYPOSITION);</td>
        </tr>
        <tr>
          <td id="L6902" data-line-number="6902"></td>
          <td id="LC6902">						<span>if</span> (s &amp; MF_CHECKED)</td>
        </tr>
        <tr>
          <td id="L6903" data-line-number="6903"></td>
          <td id="LC6903">						{</td>
        </tr>
        <tr>
          <td id="L6904" data-line-number="6904"></td>
          <td id="LC6904">							checked = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L6905" data-line-number="6905"></td>
          <td id="LC6905">							<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L6906" data-line-number="6906"></td>
          <td id="LC6906">						}</td>
        </tr>
        <tr>
          <td id="L6907" data-line-number="6907"></td>
          <td id="LC6907">					}</td>
        </tr>
        <tr>
          <td id="L6908" data-line-number="6908"></td>
          <td id="LC6908">				}</td>
        </tr>
        <tr>
          <td id="L6909" data-line-number="6909"></td>
          <td id="LC6909">			}</td>
        </tr>
        <tr>
          <td id="L6910" data-line-number="6910"></td>
          <td id="LC6910">			<span>if</span> (found)</td>
        </tr>
        <tr>
          <td id="L6911" data-line-number="6911"></td>
          <td id="LC6911">			{</td>
        </tr>
        <tr>
          <td id="L6912" data-line-number="6912"></td>
          <td id="LC6912">				<span>CheckMenuItem</span>(viewMenu, i, (checked ? MF_CHECKED : MF_UNCHECKED) | MF_BYPOSITION);</td>
        </tr>
        <tr>
          <td id="L6913" data-line-number="6913"></td>
          <td id="LC6913">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L6914" data-line-number="6914"></td>
          <td id="LC6914">			}</td>
        </tr>
        <tr>
          <td id="L6915" data-line-number="6915"></td>
          <td id="LC6915">		}</td>
        </tr>
        <tr>
          <td id="L6916" data-line-number="6916"></td>
          <td id="LC6916">	}</td>
        </tr>
        <tr>
          <td id="L6917" data-line-number="6917"></td>
          <td id="LC6917">}</td>
        </tr>
        <tr>
          <td id="L6918" data-line-number="6918"></td>
          <td id="LC6918">
</td>
        </tr>
        <tr>
          <td id="L6919" data-line-number="6919"></td>
          <td id="LC6919"><span>void</span> <span>Notepad_plus::launchProjectPanel</span>(<span>int</span> cmdID, ProjectPanel ** pProjPanel, <span>int</span> panelID)</td>
        </tr>
        <tr>
          <td id="L6920" data-line-number="6920"></td>
          <td id="LC6920">{</td>
        </tr>
        <tr>
          <td id="L6921" data-line-number="6921"></td>
          <td id="LC6921">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6922" data-line-number="6922"></td>
          <td id="LC6922">	<span>if</span> (!(*pProjPanel))</td>
        </tr>
        <tr>
          <td id="L6923" data-line-number="6923"></td>
          <td id="LC6923">	{</td>
        </tr>
        <tr>
          <td id="L6924" data-line-number="6924"></td>
          <td id="LC6924">		(*pProjPanel) = <span>new</span> ProjectPanel;</td>
        </tr>
        <tr>
          <td id="L6925" data-line-number="6925"></td>
          <td id="LC6925">		(*pProjPanel)-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>(), panelID);</td>
        </tr>
        <tr>
          <td id="L6926" data-line-number="6926"></td>
          <td id="LC6926">		(*pProjPanel)-&gt;<span>setWorkSpaceFilePath</span>(nppParam.<span>getWorkSpaceFilePath</span>(panelID));</td>
        </tr>
        <tr>
          <td id="L6927" data-line-number="6927"></td>
          <td id="LC6927">		NativeLangSpeaker *pNativeSpeaker = nppParam.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L6928" data-line-number="6928"></td>
          <td id="LC6928">		<span>bool</span> isRTL = pNativeSpeaker-&gt;<span>isRTL</span>();</td>
        </tr>
        <tr>
          <td id="L6929" data-line-number="6929"></td>
          <td id="LC6929">		tTbData	data = {};</td>
        </tr>
        <tr>
          <td id="L6930" data-line-number="6930"></td>
          <td id="LC6930">		(*pProjPanel)-&gt;<span>create</span>(&amp;data, isRTL);</td>
        </tr>
        <tr>
          <td id="L6931" data-line-number="6931"></td>
          <td id="LC6931">		data.<span>pszName</span> = <span>TEXT</span>(<span><span>&#34;</span>ST<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L6932" data-line-number="6932"></td>
          <td id="LC6932">
</td>
        </tr>
        <tr>
          <td id="L6933" data-line-number="6933"></td>
          <td id="LC6933">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_MODELESSDIALOG, MODELESSDIALOGREMOVE, reinterpret_cast&lt;LPARAM&gt;((*pProjPanel)-&gt;getHSelf()));</td>
        </tr>
        <tr>
          <td id="L6934" data-line-number="6934"></td>
          <td id="LC6934">		<span><span>//</span> define the default docking behaviour</span></td>
        </tr>
        <tr>
          <td id="L6935" data-line-number="6935"></td>
          <td id="LC6935">		data.uMask = DWS_DF_CONT_LEFT | DWS_ICONTAB | DWS_USEOWNDARKMODE;</td>
        </tr>
        <tr>
          <td id="L6936" data-line-number="6936"></td>
          <td id="LC6936">
</td>
        </tr>
        <tr>
          <td id="L6937" data-line-number="6937"></td>
          <td id="LC6937">		<span>int</span> icoID = IDR_PROJECTPANEL_ICO;</td>
        </tr>
        <tr>
          <td id="L6938" data-line-number="6938"></td>
          <td id="LC6938">		<span>if</span> (NppDarkMode::isEnabled())</td>
        </tr>
        <tr>
          <td id="L6939" data-line-number="6939"></td>
          <td id="LC6939">			icoID = IDR_PROJECTPANEL_ICO_DM;</td>
        </tr>
        <tr>
          <td id="L6940" data-line-number="6940"></td>
          <td id="LC6940">		<span>else</span> <span>if</span> (nppParam.<span>getNppGUI</span>().<span>_toolBarStatus</span> != TB_STANDARD)</td>
        </tr>
        <tr>
          <td id="L6941" data-line-number="6941"></td>
          <td id="LC6941">			icoID = IDR_PROJECTPANEL_ICO2;</td>
        </tr>
        <tr>
          <td id="L6942" data-line-number="6942"></td>
          <td id="LC6942">
</td>
        </tr>
        <tr>
          <td id="L6943" data-line-number="6943"></td>
          <td id="LC6943">		data.<span>hIconTab</span> = (HICON)::<span>LoadImage</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(icoID), IMAGE_ICON, <span>14</span>, <span>14</span>, LR_LOADMAP3DCOLORS | LR_LOADTRANSPARENT);</td>
        </tr>
        <tr>
          <td id="L6944" data-line-number="6944"></td>
          <td id="LC6944">		data.<span>pszModuleName</span> = NPP_INTERNAL_FUCTION_STR;</td>
        </tr>
        <tr>
          <td id="L6945" data-line-number="6945"></td>
          <td id="LC6945">
</td>
        </tr>
        <tr>
          <td id="L6946" data-line-number="6946"></td>
          <td id="LC6946">		<span><span>//</span> the dlgDlg should be the index of funcItem where the current function pointer is</span></td>
        </tr>
        <tr>
          <td id="L6947" data-line-number="6947"></td>
          <td id="LC6947">		<span><span>//</span> in this case is DOCKABLE_DEMO_INDEX</span></td>
        </tr>
        <tr>
          <td id="L6948" data-line-number="6948"></td>
          <td id="LC6948">		<span><span>//</span> In the case of Notepad++ internal function, it&#39;ll be the command ID which triggers this dialog</span></td>
        </tr>
        <tr>
          <td id="L6949" data-line-number="6949"></td>
          <td id="LC6949">		data.<span>dlgID</span> = cmdID;</td>
        </tr>
        <tr>
          <td id="L6950" data-line-number="6950"></td>
          <td id="LC6950">
</td>
        </tr>
        <tr>
          <td id="L6951" data-line-number="6951"></td>
          <td id="LC6951">		generic_string title_no = <span>to_wstring</span> (panelID + <span>1</span>);</td>
        </tr>
        <tr>
          <td id="L6952" data-line-number="6952"></td>
          <td id="LC6952">		generic_string title_temp = pNativeSpeaker-&gt;<span>getAttrNameStr</span>(PM_PROJECTPANELTITLE, <span><span>&#34;</span>ProjectManager<span>&#34;</span></span>, <span><span>&#34;</span>PanelTitle<span>&#34;</span></span>) + <span>TEXT</span>(<span><span>&#34;</span> <span>&#34;</span></span>) + title_no;</td>
        </tr>
        <tr>
          <td id="L6953" data-line-number="6953"></td>
          <td id="LC6953">		(*pProjPanel)-&gt;<span>setPanelTitle</span>(title_temp);</td>
        </tr>
        <tr>
          <td id="L6954" data-line-number="6954"></td>
          <td id="LC6954">		data.<span>pszName</span> = (*pProjPanel)-&gt;<span>getPanelTitle</span>();</td>
        </tr>
        <tr>
          <td id="L6955" data-line-number="6955"></td>
          <td id="LC6955">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_DMMREGASDCKDLG, 0, reinterpret_cast&lt;LPARAM&gt;(&amp;data));</td>
        </tr>
        <tr>
          <td id="L6956" data-line-number="6956"></td>
          <td id="LC6956">
</td>
        </tr>
        <tr>
          <td id="L6957" data-line-number="6957"></td>
          <td id="LC6957">		COLORREF fgColor = nppParam.getCurrentDefaultFgColor();</td>
        </tr>
        <tr>
          <td id="L6958" data-line-number="6958"></td>
          <td id="LC6958">		COLORREF bgColor = nppParam.<span>getCurrentDefaultBgColor</span>();</td>
        </tr>
        <tr>
          <td id="L6959" data-line-number="6959"></td>
          <td id="LC6959">
</td>
        </tr>
        <tr>
          <td id="L6960" data-line-number="6960"></td>
          <td id="LC6960">		(*pProjPanel)-&gt;<span>setBackgroundColor</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L6961" data-line-number="6961"></td>
          <td id="LC6961">		(*pProjPanel)-&gt;<span>setForegroundColor</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L6962" data-line-number="6962"></td>
          <td id="LC6962">	}</td>
        </tr>
        <tr>
          <td id="L6963" data-line-number="6963"></td>
          <td id="LC6963">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L6964" data-line-number="6964"></td>
          <td id="LC6964">	{</td>
        </tr>
        <tr>
          <td id="L6965" data-line-number="6965"></td>
          <td id="LC6965">		(*pProjPanel)-&gt;<span>openWorkSpace</span>(nppParam.<span>getWorkSpaceFilePath</span>(panelID));</td>
        </tr>
        <tr>
          <td id="L6966" data-line-number="6966"></td>
          <td id="LC6966">	}</td>
        </tr>
        <tr>
          <td id="L6967" data-line-number="6967"></td>
          <td id="LC6967">	(*pProjPanel)-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L6968" data-line-number="6968"></td>
          <td id="LC6968">
</td>
        </tr>
        <tr>
          <td id="L6969" data-line-number="6969"></td>
          <td id="LC6969">	<span>checkMenuItem</span>(cmdID, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L6970" data-line-number="6970"></td>
          <td id="LC6970">	<span>checkProjectMenuItem</span>();</td>
        </tr>
        <tr>
          <td id="L6971" data-line-number="6971"></td>
          <td id="LC6971">	(*pProjPanel)-&gt;<span>setClosed</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L6972" data-line-number="6972"></td>
          <td id="LC6972">}</td>
        </tr>
        <tr>
          <td id="L6973" data-line-number="6973"></td>
          <td id="LC6973">
</td>
        </tr>
        <tr>
          <td id="L6974" data-line-number="6974"></td>
          <td id="LC6974">
</td>
        </tr>
        <tr>
          <td id="L6975" data-line-number="6975"></td>
          <td id="LC6975"><span>void</span> <span>Notepad_plus::launchDocMap</span>()</td>
        </tr>
        <tr>
          <td id="L6976" data-line-number="6976"></td>
          <td id="LC6976">{</td>
        </tr>
        <tr>
          <td id="L6977" data-line-number="6977"></td>
          <td id="LC6977">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L6978" data-line-number="6978"></td>
          <td id="LC6978">	<span>if</span> (!nppParam.<span>isTransparentAvailable</span>())</td>
        </tr>
        <tr>
          <td id="L6979" data-line-number="6979"></td>
          <td id="LC6979">	{</td>
        </tr>
        <tr>
          <td id="L6980" data-line-number="6980"></td>
          <td id="LC6980">		_nativeLangSpeaker.<span>messageBox</span>(<span><span>&#34;</span>PrehistoricSystemDetected<span>&#34;</span></span>,</td>
        </tr>
        <tr>
          <td id="L6981" data-line-number="6981"></td>
          <td id="LC6981">			_pPublicInterface-&gt;<span>getHSelf</span>(),</td>
        </tr>
        <tr>
          <td id="L6982" data-line-number="6982"></td>
          <td id="LC6982">			<span>TEXT</span>(<span><span>&#34;</span>It seems you still use a prehistoric system. This feature works only on a modern system, sorry.<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L6983" data-line-number="6983"></td>
          <td id="LC6983">			<span>TEXT</span>(<span><span>&#34;</span>Prehistoric system detected<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L6984" data-line-number="6984"></td>
          <td id="LC6984">			MB_OK);</td>
        </tr>
        <tr>
          <td id="L6985" data-line-number="6985"></td>
          <td id="LC6985">
</td>
        </tr>
        <tr>
          <td id="L6986" data-line-number="6986"></td>
          <td id="LC6986">		<span>return</span>;</td>
        </tr>
        <tr>
          <td id="L6987" data-line-number="6987"></td>
          <td id="LC6987">	}</td>
        </tr>
        <tr>
          <td id="L6988" data-line-number="6988"></td>
          <td id="LC6988">
</td>
        </tr>
        <tr>
          <td id="L6989" data-line-number="6989"></td>
          <td id="LC6989">	<span>if</span> (!_pDocMap)</td>
        </tr>
        <tr>
          <td id="L6990" data-line-number="6990"></td>
          <td id="LC6990">	{</td>
        </tr>
        <tr>
          <td id="L6991" data-line-number="6991"></td>
          <td id="LC6991">		_pDocMap = <span>new</span> <span>DocumentMap</span>();</td>
        </tr>
        <tr>
          <td id="L6992" data-line-number="6992"></td>
          <td id="LC6992">		_pDocMap-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>(), &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L6993" data-line-number="6993"></td>
          <td id="LC6993">
</td>
        </tr>
        <tr>
          <td id="L6994" data-line-number="6994"></td>
          <td id="LC6994">		tTbData	data = {};</td>
        </tr>
        <tr>
          <td id="L6995" data-line-number="6995"></td>
          <td id="LC6995">		_pDocMap-&gt;<span>create</span>(&amp;data);</td>
        </tr>
        <tr>
          <td id="L6996" data-line-number="6996"></td>
          <td id="LC6996">
</td>
        </tr>
        <tr>
          <td id="L6997" data-line-number="6997"></td>
          <td id="LC6997">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_MODELESSDIALOG, MODELESSDIALOGREMOVE, reinterpret_cast&lt;LPARAM&gt;(_pDocMap-&gt;<span>getHSelf</span>()));</td>
        </tr>
        <tr>
          <td id="L6998" data-line-number="6998"></td>
          <td id="LC6998">		<span><span>//</span> define the default docking behaviour</span></td>
        </tr>
        <tr>
          <td id="L6999" data-line-number="6999"></td>
          <td id="LC6999">		data.uMask = DWS_DF_CONT_RIGHT | DWS_ICONTAB | DWS_USEOWNDARKMODE;</td>
        </tr>
        <tr>
          <td id="L7000" data-line-number="7000"></td>
          <td id="LC7000">
</td>
        </tr>
        <tr>
          <td id="L7001" data-line-number="7001"></td>
          <td id="LC7001">		<span>int</span> icoID = IDR_DOCMAP_ICO;</td>
        </tr>
        <tr>
          <td id="L7002" data-line-number="7002"></td>
          <td id="LC7002">		<span>if</span> (NppDarkMode::isEnabled())</td>
        </tr>
        <tr>
          <td id="L7003" data-line-number="7003"></td>
          <td id="LC7003">			icoID = IDR_DOCMAP_ICO_DM;</td>
        </tr>
        <tr>
          <td id="L7004" data-line-number="7004"></td>
          <td id="LC7004">		<span>else</span> <span>if</span> (nppParam.getNppGUI()._toolBarStatus != TB_STANDARD)</td>
        </tr>
        <tr>
          <td id="L7005" data-line-number="7005"></td>
          <td id="LC7005">			icoID = IDR_DOCMAP_ICO2;</td>
        </tr>
        <tr>
          <td id="L7006" data-line-number="7006"></td>
          <td id="LC7006">
</td>
        </tr>
        <tr>
          <td id="L7007" data-line-number="7007"></td>
          <td id="LC7007">		data.<span>hIconTab</span> = (HICON)::<span>LoadImage</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(icoID), IMAGE_ICON, <span>14</span>, <span>14</span>, LR_LOADMAP3DCOLORS | LR_LOADTRANSPARENT);</td>
        </tr>
        <tr>
          <td id="L7008" data-line-number="7008"></td>
          <td id="LC7008">		data.<span>pszModuleName</span> = NPP_INTERNAL_FUCTION_STR;</td>
        </tr>
        <tr>
          <td id="L7009" data-line-number="7009"></td>
          <td id="LC7009">
</td>
        </tr>
        <tr>
          <td id="L7010" data-line-number="7010"></td>
          <td id="LC7010">		<span><span>//</span> the dlgDlg should be the index of funcItem where the current function pointer is</span></td>
        </tr>
        <tr>
          <td id="L7011" data-line-number="7011"></td>
          <td id="LC7011">		<span><span>//</span> in this case is DOCKABLE_DEMO_INDEX</span></td>
        </tr>
        <tr>
          <td id="L7012" data-line-number="7012"></td>
          <td id="LC7012">		<span><span>//</span> In the case of Notepad++ internal function, it&#39;ll be the command ID which triggers this dialog</span></td>
        </tr>
        <tr>
          <td id="L7013" data-line-number="7013"></td>
          <td id="LC7013">		data.<span>dlgID</span> = IDM_VIEW_DOC_MAP;</td>
        </tr>
        <tr>
          <td id="L7014" data-line-number="7014"></td>
          <td id="LC7014">
</td>
        </tr>
        <tr>
          <td id="L7015" data-line-number="7015"></td>
          <td id="LC7015">		NativeLangSpeaker *pNativeSpeaker = nppParam.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L7016" data-line-number="7016"></td>
          <td id="LC7016">		generic_string title_temp = pNativeSpeaker-&gt;<span>getAttrNameStr</span>(DM_PANELTITLE, <span><span>&#34;</span>DocumentMap<span>&#34;</span></span>, <span><span>&#34;</span>PanelTitle<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L7017" data-line-number="7017"></td>
          <td id="LC7017">		<span>static</span> TCHAR title[<span>32</span>];</td>
        </tr>
        <tr>
          <td id="L7018" data-line-number="7018"></td>
          <td id="LC7018">		<span>if</span> (title_temp.<span>length</span>() &lt; <span>32</span>)</td>
        </tr>
        <tr>
          <td id="L7019" data-line-number="7019"></td>
          <td id="LC7019">		{</td>
        </tr>
        <tr>
          <td id="L7020" data-line-number="7020"></td>
          <td id="LC7020">			<span>wcscpy_s</span>(title, title_temp.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L7021" data-line-number="7021"></td>
          <td id="LC7021">			data.<span>pszName</span> = title;</td>
        </tr>
        <tr>
          <td id="L7022" data-line-number="7022"></td>
          <td id="LC7022">		}</td>
        </tr>
        <tr>
          <td id="L7023" data-line-number="7023"></td>
          <td id="LC7023">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_DMMREGASDCKDLG, 0, reinterpret_cast&lt;LPARAM&gt;(&amp;data));</td>
        </tr>
        <tr>
          <td id="L7024" data-line-number="7024"></td>
          <td id="LC7024">	}</td>
        </tr>
        <tr>
          <td id="L7025" data-line-number="7025"></td>
          <td id="LC7025">
</td>
        </tr>
        <tr>
          <td id="L7026" data-line-number="7026"></td>
          <td id="LC7026">	_pDocMap-&gt;<span>initWrapMap</span>();</td>
        </tr>
        <tr>
          <td id="L7027" data-line-number="7027"></td>
          <td id="LC7027">	_pDocMap-&gt;<span>wrapMap</span>();</td>
        </tr>
        <tr>
          <td id="L7028" data-line-number="7028"></td>
          <td id="LC7028">	_pDocMap-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L7029" data-line-number="7029"></td>
          <td id="LC7029">
</td>
        </tr>
        <tr>
          <td id="L7030" data-line-number="7030"></td>
          <td id="LC7030">	_pEditView-&gt;<span>getFocus</span>();</td>
        </tr>
        <tr>
          <td id="L7031" data-line-number="7031"></td>
          <td id="LC7031">}</td>
        </tr>
        <tr>
          <td id="L7032" data-line-number="7032"></td>
          <td id="LC7032">
</td>
        </tr>
        <tr>
          <td id="L7033" data-line-number="7033"></td>
          <td id="LC7033">
</td>
        </tr>
        <tr>
          <td id="L7034" data-line-number="7034"></td>
          <td id="LC7034"><span>void</span> <span>Notepad_plus::launchFunctionList</span>()</td>
        </tr>
        <tr>
          <td id="L7035" data-line-number="7035"></td>
          <td id="LC7035">{</td>
        </tr>
        <tr>
          <td id="L7036" data-line-number="7036"></td>
          <td id="LC7036">	<span>if</span> (!_pFuncList)</td>
        </tr>
        <tr>
          <td id="L7037" data-line-number="7037"></td>
          <td id="LC7037">	{</td>
        </tr>
        <tr>
          <td id="L7038" data-line-number="7038"></td>
          <td id="LC7038">		_pFuncList = <span>new</span> <span>FunctionListPanel</span>();</td>
        </tr>
        <tr>
          <td id="L7039" data-line-number="7039"></td>
          <td id="LC7039">		_pFuncList-&gt;<span>init</span>(_pPublicInterface-&gt;<span>getHinst</span>(), _pPublicInterface-&gt;<span>getHSelf</span>(), &amp;_pEditView);</td>
        </tr>
        <tr>
          <td id="L7040" data-line-number="7040"></td>
          <td id="LC7040">
</td>
        </tr>
        <tr>
          <td id="L7041" data-line-number="7041"></td>
          <td id="LC7041">		tTbData	data = {};</td>
        </tr>
        <tr>
          <td id="L7042" data-line-number="7042"></td>
          <td id="LC7042">		_pFuncList-&gt;<span>create</span>(&amp;data);</td>
        </tr>
        <tr>
          <td id="L7043" data-line-number="7043"></td>
          <td id="LC7043">
</td>
        </tr>
        <tr>
          <td id="L7044" data-line-number="7044"></td>
          <td id="LC7044">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_MODELESSDIALOG, MODELESSDIALOGREMOVE, reinterpret_cast&lt;LPARAM&gt;(_pFuncList-&gt;<span>getHSelf</span>()));</td>
        </tr>
        <tr>
          <td id="L7045" data-line-number="7045"></td>
          <td id="LC7045">		<span><span>//</span> define the default docking behaviour</span></td>
        </tr>
        <tr>
          <td id="L7046" data-line-number="7046"></td>
          <td id="LC7046">		data.uMask = DWS_DF_CONT_RIGHT | DWS_ICONTAB | DWS_USEOWNDARKMODE;</td>
        </tr>
        <tr>
          <td id="L7047" data-line-number="7047"></td>
          <td id="LC7047">		</td>
        </tr>
        <tr>
          <td id="L7048" data-line-number="7048"></td>
          <td id="LC7048">		NppParameters&amp; nppParam = NppParameters::getInstance();</td>
        </tr>
        <tr>
          <td id="L7049" data-line-number="7049"></td>
          <td id="LC7049">
</td>
        </tr>
        <tr>
          <td id="L7050" data-line-number="7050"></td>
          <td id="LC7050">		<span>int</span> icoID = IDR_FUNC_LIST_ICO;</td>
        </tr>
        <tr>
          <td id="L7051" data-line-number="7051"></td>
          <td id="LC7051">		<span>if</span> (NppDarkMode::isEnabled())</td>
        </tr>
        <tr>
          <td id="L7052" data-line-number="7052"></td>
          <td id="LC7052">			icoID = IDR_FUNC_LIST_ICO_DM;</td>
        </tr>
        <tr>
          <td id="L7053" data-line-number="7053"></td>
          <td id="LC7053">		<span>else</span> <span>if</span> (nppParam.<span>getNppGUI</span>().<span>_toolBarStatus</span> != TB_STANDARD)</td>
        </tr>
        <tr>
          <td id="L7054" data-line-number="7054"></td>
          <td id="LC7054">			icoID = IDR_FUNC_LIST_ICO2;</td>
        </tr>
        <tr>
          <td id="L7055" data-line-number="7055"></td>
          <td id="LC7055">
</td>
        </tr>
        <tr>
          <td id="L7056" data-line-number="7056"></td>
          <td id="LC7056">		data.<span>hIconTab</span> = (HICON)::<span>LoadImage</span>(_pPublicInterface-&gt;<span>getHinst</span>(), <span>MAKEINTRESOURCE</span>(icoID), IMAGE_ICON, <span>14</span>, <span>14</span>, LR_LOADMAP3DCOLORS | LR_LOADTRANSPARENT);</td>
        </tr>
        <tr>
          <td id="L7057" data-line-number="7057"></td>
          <td id="LC7057">		data.<span>pszModuleName</span> = NPP_INTERNAL_FUCTION_STR;</td>
        </tr>
        <tr>
          <td id="L7058" data-line-number="7058"></td>
          <td id="LC7058">
</td>
        </tr>
        <tr>
          <td id="L7059" data-line-number="7059"></td>
          <td id="LC7059">		<span><span>//</span> the dlgDlg should be the index of funcItem where the current function pointer is</span></td>
        </tr>
        <tr>
          <td id="L7060" data-line-number="7060"></td>
          <td id="LC7060">		<span><span>//</span> in this case is DOCKABLE_DEMO_INDEX</span></td>
        </tr>
        <tr>
          <td id="L7061" data-line-number="7061"></td>
          <td id="LC7061">		<span><span>//</span> In the case of Notepad++ internal function, it&#39;ll be the command ID which triggers this dialog</span></td>
        </tr>
        <tr>
          <td id="L7062" data-line-number="7062"></td>
          <td id="LC7062">		data.<span>dlgID</span> = IDM_VIEW_FUNC_LIST;</td>
        </tr>
        <tr>
          <td id="L7063" data-line-number="7063"></td>
          <td id="LC7063">
</td>
        </tr>
        <tr>
          <td id="L7064" data-line-number="7064"></td>
          <td id="LC7064">		NativeLangSpeaker *pNativeSpeaker = nppParam.<span>getNativeLangSpeaker</span>();</td>
        </tr>
        <tr>
          <td id="L7065" data-line-number="7065"></td>
          <td id="LC7065">		generic_string title_temp = pNativeSpeaker-&gt;<span>getAttrNameStr</span>(FL_PANELTITLE, FL_FUCTIONLISTROOTNODE, <span><span>&#34;</span>PanelTitle<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L7066" data-line-number="7066"></td>
          <td id="LC7066">
</td>
        </tr>
        <tr>
          <td id="L7067" data-line-number="7067"></td>
          <td id="LC7067">		<span>static</span> TCHAR title[<span>32</span>];</td>
        </tr>
        <tr>
          <td id="L7068" data-line-number="7068"></td>
          <td id="LC7068">		<span>if</span> (title_temp.<span>length</span>() &lt; <span>32</span>)</td>
        </tr>
        <tr>
          <td id="L7069" data-line-number="7069"></td>
          <td id="LC7069">		{</td>
        </tr>
        <tr>
          <td id="L7070" data-line-number="7070"></td>
          <td id="LC7070">			<span>wcscpy_s</span>(title, title_temp.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L7071" data-line-number="7071"></td>
          <td id="LC7071">			data.<span>pszName</span> = title;</td>
        </tr>
        <tr>
          <td id="L7072" data-line-number="7072"></td>
          <td id="LC7072">		}</td>
        </tr>
        <tr>
          <td id="L7073" data-line-number="7073"></td>
          <td id="LC7073">
</td>
        </tr>
        <tr>
          <td id="L7074" data-line-number="7074"></td>
          <td id="LC7074">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_DMMREGASDCKDLG, 0, reinterpret_cast&lt;LPARAM&gt;(&amp;data));</td>
        </tr>
        <tr>
          <td id="L7075" data-line-number="7075"></td>
          <td id="LC7075">		COLORREF fgColor = nppParam.getCurrentDefaultFgColor();</td>
        </tr>
        <tr>
          <td id="L7076" data-line-number="7076"></td>
          <td id="LC7076">		COLORREF bgColor = nppParam.<span>getCurrentDefaultBgColor</span>();</td>
        </tr>
        <tr>
          <td id="L7077" data-line-number="7077"></td>
          <td id="LC7077">
</td>
        </tr>
        <tr>
          <td id="L7078" data-line-number="7078"></td>
          <td id="LC7078">		_pFuncList-&gt;<span>setBackgroundColor</span>(bgColor);</td>
        </tr>
        <tr>
          <td id="L7079" data-line-number="7079"></td>
          <td id="LC7079">		_pFuncList-&gt;<span>setForegroundColor</span>(fgColor);</td>
        </tr>
        <tr>
          <td id="L7080" data-line-number="7080"></td>
          <td id="LC7080">	}</td>
        </tr>
        <tr>
          <td id="L7081" data-line-number="7081"></td>
          <td id="LC7081">
</td>
        </tr>
        <tr>
          <td id="L7082" data-line-number="7082"></td>
          <td id="LC7082">	_pFuncList-&gt;<span>display</span>();</td>
        </tr>
        <tr>
          <td id="L7083" data-line-number="7083"></td>
          <td id="LC7083">}</td>
        </tr>
        <tr>
          <td id="L7084" data-line-number="7084"></td>
          <td id="LC7084">
</td>
        </tr>
        <tr>
          <td id="L7085" data-line-number="7085"></td>
          <td id="LC7085">
</td>
        </tr>
        <tr>
          <td id="L7086" data-line-number="7086"></td>
          <td id="LC7086"><span>struct</span> <span>TextPlayerParams</span></td>
        </tr>
        <tr>
          <td id="L7087" data-line-number="7087"></td>
          <td id="LC7087">{</td>
        </tr>
        <tr>
          <td id="L7088" data-line-number="7088"></td>
          <td id="LC7088">	HWND _nppHandle = <span>nullptr</span>;</td>
        </tr>
        <tr>
          <td id="L7089" data-line-number="7089"></td>
          <td id="LC7089">	ScintillaEditView* _pCurrentView = <span>nullptr</span>;</td>
        </tr>
        <tr>
          <td id="L7090" data-line-number="7090"></td>
          <td id="LC7090">	QuoteParams* _quotParams = <span>nullptr</span>;</td>
        </tr>
        <tr>
          <td id="L7091" data-line-number="7091"></td>
          <td id="LC7091">};</td>
        </tr>
        <tr>
          <td id="L7092" data-line-number="7092"></td>
          <td id="LC7092">
</td>
        </tr>
        <tr>
          <td id="L7093" data-line-number="7093"></td>
          <td id="LC7093"><span>struct</span> <span>TextTrollerParams</span></td>
        </tr>
        <tr>
          <td id="L7094" data-line-number="7094"></td>
          <td id="LC7094">{</td>
        </tr>
        <tr>
          <td id="L7095" data-line-number="7095"></td>
          <td id="LC7095">	ScintillaEditView *_pCurrentView;</td>
        </tr>
        <tr>
          <td id="L7096" data-line-number="7096"></td>
          <td id="LC7096">	<span>const</span> <span>wchar_t</span>*_text2display;</td>
        </tr>
        <tr>
          <td id="L7097" data-line-number="7097"></td>
          <td id="LC7097">	BufferID _targetBufID;</td>
        </tr>
        <tr>
          <td id="L7098" data-line-number="7098"></td>
          <td id="LC7098">	HANDLE _mutex;</td>
        </tr>
        <tr>
          <td id="L7099" data-line-number="7099"></td>
          <td id="LC7099">};</td>
        </tr>
        <tr>
          <td id="L7100" data-line-number="7100"></td>
          <td id="LC7100">
</td>
        </tr>
        <tr>
          <td id="L7101" data-line-number="7101"></td>
          <td id="LC7101">
</td>
        </tr>
        <tr>
          <td id="L7102" data-line-number="7102"></td>
          <td id="LC7102"><span>static</span> <span>const</span> QuoteParams quotes[] =</td>
        </tr>
        <tr>
          <td id="L7103" data-line-number="7103"></td>
          <td id="LC7103">{</td>
        </tr>
        <tr>
          <td id="L7104" data-line-number="7104"></td>
          <td id="LC7104">	{<span>TEXT</span>(<span><span>&#34;</span>Notepad++<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The creation of Notepad++ is due to my need for a decent editor to edit the source code of Notepad++<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7105" data-line-number="7105"></td>
          <td id="LC7105">	{<span>TEXT</span>(<span><span>&#34;</span>Notepad++ #1<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I hate reading other people&#39;s code.<span>\n</span>So I wrote mine, made it as open source project, and watch others suffer.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7106" data-line-number="7106"></td>
          <td id="LC7106">	{<span>TEXT</span>(<span><span>&#34;</span>Notepad++ #2<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Good programmers use Notepad++ to code.<span>\n</span>Extreme programmers use MS Word to code, in Comic Sans, center aligned.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7107" data-line-number="7107"></td>
          <td id="LC7107">	{<span>TEXT</span>(<span><span>&#34;</span>Notepad++ #3<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The best things in life are free.<span>\n</span>Notepad++ is free.<span>\n</span>So Notepad++ is the best.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7108" data-line-number="7108"></td>
          <td id="LC7108">	{<span>TEXT</span>(<span><span>&#34;</span>Richard Stallman<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If I&#39;m the Father of Open Source, it was conceived through artificial insemination using stolen sperm without my knowledge or consent.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7109" data-line-number="7109"></td>
          <td id="LC7109">	{<span>TEXT</span>(<span><span>&#34;</span>Martin Golding<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7110" data-line-number="7110"></td>
          <td id="LC7110">	{<span>TEXT</span>(<span><span>&#34;</span>L. Peter Deutsch<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>To iterate is human, to recurse divine.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7111" data-line-number="7111"></td>
          <td id="LC7111">	{<span>TEXT</span>(<span><span>&#34;</span>Seymour Cray<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The trouble with programmers is that you can never tell what a programmer is doing until it&#39;s too late.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7112" data-line-number="7112"></td>
          <td id="LC7112">	{<span>TEXT</span>(<span><span>&#34;</span>Brian Kernighan<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7113" data-line-number="7113"></td>
          <td id="LC7113">	{<span>TEXT</span>(<span><span>&#34;</span>Alan Kay<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Most software today is very much like an Egyptian pyramid with millions of bricks piled on top of each other, with no structural integrity, but just done by brute force and thousands of slaves.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7114" data-line-number="7114"></td>
          <td id="LC7114">	{<span>TEXT</span>(<span><span>&#34;</span>Bill Gates<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Measuring programming progress by lines of code is like measuring aircraft building progress by weight.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7115" data-line-number="7115"></td>
          <td id="LC7115">	{<span>TEXT</span>(<span><span>&#34;</span>Christopher Thompson<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Sometimes it pays to stay in bed on Monday, rather than spending the rest of the week debugging Monday&#39;s code.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7116" data-line-number="7116"></td>
          <td id="LC7116">	{<span>TEXT</span>(<span><span>&#34;</span>Vidiu Platon<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I don&#39;t care if it works on your machine! We are not shipping your machine!<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7117" data-line-number="7117"></td>
          <td id="LC7117">	{<span>TEXT</span>(<span><span>&#34;</span>Edward V Berard<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Walking on water and developing software from a specification are easy if both are frozen.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7118" data-line-number="7118"></td>
          <td id="LC7118">	{<span>TEXT</span>(<span><span>&#34;</span>pixadel<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Fine, Java MIGHT be a good example of what a programming language should be like.<span>\n</span>But Java applications are good examples of what applications SHOULDN&#39;T be like.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7119" data-line-number="7119"></td>
          <td id="LC7119">	{<span>TEXT</span>(<span><span>&#34;</span>Oktal<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I think Microsoft named .Net so it wouldn&#39;t show up in a Unix directory listing.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7120" data-line-number="7120"></td>
          <td id="LC7120">	{<span>TEXT</span>(<span><span>&#34;</span>Bjarne Stroustrup<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>In C++ it&#39;s harder to shoot yourself in the foot, but when you do, you blow off your whole leg.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7121" data-line-number="7121"></td>
          <td id="LC7121">	{<span>TEXT</span>(<span><span>&#34;</span>Mosher&#39;s Law of Software Engineering<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Don&#39;t worry if it doesn&#39;t work right. If everything did, you&#39;d be out of a job.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7122" data-line-number="7122"></td>
          <td id="LC7122">	{<span>TEXT</span>(<span><span>&#34;</span>Bob Gray<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Writing in C or C++ is like running a chain saw with all the safety guards removed.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7123" data-line-number="7123"></td>
          <td id="LC7123">	{<span>TEXT</span>(<span><span>&#34;</span>Roberto Waltman<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>In the one and only true way. The object-oriented version of <span>\&#34;</span>Spaghetti code<span>\&#34;</span> is, of course, <span>\&#34;</span>Lasagna code<span>\&#34;</span>. (Too many layers)<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7124" data-line-number="7124"></td>
          <td id="LC7124">	{<span>TEXT</span>(<span><span>&#34;</span>Gavin Russell Baker<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>C++ : Where friends have access to your private members.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7125" data-line-number="7125"></td>
          <td id="LC7125">	{<span>TEXT</span>(<span><span>&#34;</span>Linus Torvalds<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Software is like sex: It&#39;s better when it&#39;s free.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7126" data-line-number="7126"></td>
          <td id="LC7126">	{<span>TEXT</span>(<span><span>&#34;</span>Cult of vi<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Emacs is a great operating system, lacking only a decent editor.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7127" data-line-number="7127"></td>
          <td id="LC7127">	{<span>TEXT</span>(<span><span>&#34;</span>Church of Emacs<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>vi has two modes - <span>\&#34;</span>beep repeatedly<span>\&#34;</span> and <span>\&#34;</span>break everything<span>\&#34;</span>.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7128" data-line-number="7128"></td>
          <td id="LC7128">	{<span>TEXT</span>(<span><span>&#34;</span>Steve Jobs<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Picasso had a saying: <span>\&#34;</span>Good artists copy, great artists steal.<span>\&#34;</span>.<span>\n</span>We have always been shameless about stealing great ideas.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7129" data-line-number="7129"></td>
          <td id="LC7129">	{<span>TEXT</span>(<span><span>&#34;</span>brotips #1001<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Do everything for greatness, not money. Money follows greatness.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7130" data-line-number="7130"></td>
          <td id="LC7130">	{<span>TEXT</span>(<span><span>&#34;</span>Robin Williams<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>God gave men both a penis and a brain, but unfortunately not enough blood supply to run both at the same time.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7131" data-line-number="7131"></td>
          <td id="LC7131">	{<span>TEXT</span>(<span><span>&#34;</span>Darth Vader<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Strong people don&#39;t put others down.<span>\n</span>They lift them up.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7132" data-line-number="7132"></td>
          <td id="LC7132">	{<span>TEXT</span>(<span><span>&#34;</span>Darth Vader #2<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>You don&#39;t get to 500 million star systems without making a few enemies.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7133" data-line-number="7133"></td>
          <td id="LC7133">	{<span>TEXT</span>(<span><span>&#34;</span>Doug Linder<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A good programmer is someone who always looks both ways before crossing a one-way street.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7134" data-line-number="7134"></td>
          <td id="LC7134">	{<span>TEXT</span>(<span><span>&#34;</span>Jean-Claude van Damme<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A cookie has no soul, it&#39;s just a cookie. But before it was milk and eggs.<span>\n</span>And in eggs there&#39;s the potential for life.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7135" data-line-number="7135"></td>
          <td id="LC7135">	{<span>TEXT</span>(<span><span>&#34;</span>Michael Feldman<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Java is, in many ways, C++--.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7136" data-line-number="7136"></td>
          <td id="LC7136">	{<span>TEXT</span>(<span><span>&#34;</span>Don Ho<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Je mange donc je chie.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7137" data-line-number="7137"></td>
          <td id="LC7137">	{<span>TEXT</span>(<span><span>&#34;</span>Don Ho #2<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>RTFM is the true path of every developer.<span>\n</span>But it would happen only if there&#39;s no way out.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7138" data-line-number="7138"></td>
          <td id="LC7138">	{<span>TEXT</span>(<span><span>&#34;</span>Don Ho #3<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Smartphone is the best invention of 21st century for avoiding the eyes contact while crossing people you know on the street.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7139" data-line-number="7139"></td>
          <td id="LC7139">	{<span>TEXT</span>(<span><span>&#34;</span>Don Ho #4<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Poor countries&#39; museums vs. rich countries&#39; museums:<span>\n</span>The first show what they have left.<span>\n</span>The second show what they have stolen.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7140" data-line-number="7140"></td>
          <td id="LC7140">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #1<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>An opinion without 3.14 is just an onion.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7141" data-line-number="7141"></td>
          <td id="LC7141">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #2<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Before sex, you help each other get naked, after sex you only dress yourself.<span>\n</span>Moral of the story: in life no one helps you once you&#39;re fucked.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7142" data-line-number="7142"></td>
          <td id="LC7142">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #3<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I&#39;m not totally useless. I can be used as a bad example.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7143" data-line-number="7143"></td>
          <td id="LC7143">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #4<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Life is too short to remove USB safely.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7144" data-line-number="7144"></td>
          <td id="LC7144">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #5<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span><span>\&#34;</span>SEX<span>\&#34;</span> is not the answer.<span>\n</span>Sex is the question, <span>\&#34;</span>YES<span>\&#34;</span> is the answer.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7145" data-line-number="7145"></td>
          <td id="LC7145">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #6<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Going to McDonald&#39;s for a salad is like going to a whore for a hug.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7146" data-line-number="7146"></td>
          <td id="LC7146">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #7<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I need a six month holiday, TWICE A YEAR!<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7147" data-line-number="7147"></td>
          <td id="LC7147">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #8<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Everything is a knife if you&#39;re strong enough.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7148" data-line-number="7148"></td>
          <td id="LC7148">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #9<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I&#39;M A FUCKING ANIMAL IN BED.<span>\n</span>More specifically a koala.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7149" data-line-number="7149"></td>
          <td id="LC7149">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #10<span>&#34;</span></span>), QuoteParams::slow, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Etc.<span>\n\n</span>(Abb.) End of Thinking Capacity.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7150" data-line-number="7150"></td>
          <td id="LC7150">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #11<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>We stopped checking for monsters under our bed, when we realized they were inside us.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7151" data-line-number="7151"></td>
          <td id="LC7151">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #12<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I would rather check my facebook than face my checkbook.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7152" data-line-number="7152"></td>
          <td id="LC7152">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #13<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Whoever says Paper beats Rock is an idiot. Next time I see someone say that I will throw a rock at them while they hold up a sheet of paper.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7153" data-line-number="7153"></td>
          <td id="LC7153">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #14<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A better world is where chickens can cross the road without having their motives questioned.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7154" data-line-number="7154"></td>
          <td id="LC7154">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #15<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If I didn&#39;t drink, how would my friends know I love them at 2 AM?<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7155" data-line-number="7155"></td>
          <td id="LC7155">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #16<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Q: How do you generate a random string?<span>\n</span>A: Put a Windows user in front of vi, and tell him to exit.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7156" data-line-number="7156"></td>
          <td id="LC7156">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #17<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Pros and cons of making food.<span>\n</span>Pros: food<span>\n</span>Cons : making<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7157" data-line-number="7157"></td>
          <td id="LC7157">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #18<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Never get into fights with ugly people, they have nothing to lose.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7158" data-line-number="7158"></td>
          <td id="LC7158">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #19<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>People who say they give 110%<span>\n</span>don&#39;t really understand how percentages work.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7159" data-line-number="7159"></td>
          <td id="LC7159">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #20<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Never make eye contact while eating a banana.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7160" data-line-number="7160"></td>
          <td id="LC7160">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #21<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I love my sixpack so much, I protect it with a layer of fat.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7161" data-line-number="7161"></td>
          <td id="LC7161">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #22<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span><span>\&#34;</span>It&#39;s impossible.<span>\&#34;</span> said pride.<span>\n\&#34;</span>It&#39;s risky.<span>\&#34;</span> said experience.<span>\n\&#34;</span>It&#39;s pointless.<span>\&#34;</span> said reason.<span>\n\&#34;</span>Give it a try.<span>\&#34;</span> whispered the heart.<span>\n</span>...<span>\n\&#34;</span>What the hell was that?!?!?!?!?!<span>\&#34;</span> shouted the anus two minutes later.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7162" data-line-number="7162"></td>
          <td id="LC7162">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #23<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A programmer is told to <span>\&#34;</span>go to hell<span>\&#34;</span>.<span>\n</span>He finds the worst part of that statement is the <span>\&#34;</span>go to<span>\&#34;</span>.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7163" data-line-number="7163"></td>
          <td id="LC7163">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #24<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>An Architect&#39;s dream is an Engineer&#39;s nightmare.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7164" data-line-number="7164"></td>
          <td id="LC7164">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #25<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>In a way, I feel sorry for the kids of this generation.<span>\n</span>They&#39;ll have parents who know how to check browser history.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7165" data-line-number="7165"></td>
          <td id="LC7165">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #26<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Q: What&#39;s the difference between git and github?<span>\n</span>A: It&#39;s the difference between porn and pornhub.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7166" data-line-number="7166"></td>
          <td id="LC7166">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #27<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I don&#39;t have a problem with caffeine.<span>\n</span>I have a problem without caffeine.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7167" data-line-number="7167"></td>
          <td id="LC7167">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #28<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Why 6 afraid of 7?<span>\n</span>Because 7 8 9 while 6 and 9 were flirting.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7168" data-line-number="7168"></td>
          <td id="LC7168">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #29<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>How do you comfort a JavaScript bug?<span>\n</span>You console it.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7169" data-line-number="7169"></td>
          <td id="LC7169">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #30<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Why do Java developers wear glasses?<span>\n</span>Because they don&#39;t C#.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7170" data-line-number="7170"></td>
          <td id="LC7170">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #31<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A baby&#39;s laughter is one of the most beautiful sounds you will ever hear. Unless it&#39;s 3 AM. And you&#39;re home alone. And you don&#39;t have a baby.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7171" data-line-number="7171"></td>
          <td id="LC7171">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #32<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Two bytes meet. The first byte asks, <span>\&#34;</span>You look terrible. Are you OK?<span>\&#34;\n</span>The second byte replies, <span>\&#34;</span>No, just feeling a bit off.<span>\&#34;</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7172" data-line-number="7172"></td>
          <td id="LC7172">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #33<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Programmer - an organism that turns coffee into software.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7173" data-line-number="7173"></td>
          <td id="LC7173">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #34<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>It&#39;s not a bug - it&#39;s an undocumented feature.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7174" data-line-number="7174"></td>
          <td id="LC7174">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #35<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Should array index start at 0 or 1?<span>\n</span>My compromised solution is 0.5<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7175" data-line-number="7175"></td>
          <td id="LC7175">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #36<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Every single time when I&#39;m about to hug someone extremely sexy, I hit the mirror.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7176" data-line-number="7176"></td>
          <td id="LC7176">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #37<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>My software never has bugs. It just develops random features.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7177" data-line-number="7177"></td>
          <td id="LC7177">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #38<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>LISP = Lots of Irritating Silly Parentheses.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7178" data-line-number="7178"></td>
          <td id="LC7178">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #39<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Perl, the only language that looks the same before and after RSA encryption.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7179" data-line-number="7179"></td>
          <td id="LC7179">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #40<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>People ask me why, as an atheist, I still say: OH MY GOD.<span>\n</span>It makes perfect sense: We say <span>\&#34;</span>Oh my God<span>\&#34;</span> when something is UNBELIEVABLE.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7180" data-line-number="7180"></td>
          <td id="LC7180">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #41<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>1. Dig a hole.<span>\n</span>2. Name it love.<span>\n</span>3. Watch people falling in love.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7181" data-line-number="7181"></td>
          <td id="LC7181">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #42<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Don&#39;t think of yourself as an ugly person.<span>\n</span>Think of yourself as a beautiful monkey.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7182" data-line-number="7182"></td>
          <td id="LC7182">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #43<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Afraid to die alone?<span>\n</span>Become a bus driver.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7183" data-line-number="7183"></td>
          <td id="LC7183">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #44<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The first 5 days after the weekend are always the hardest.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7184" data-line-number="7184"></td>
          <td id="LC7184">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #45<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Rhinos are just fat unicorns.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7185" data-line-number="7185"></td>
          <td id="LC7185">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #46<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Sometimes when I&#39;m writing Javascript I want to throw up my hands and say <span>\&#34;</span>this is bullshit!<span>\&#34;\n</span>but I can never remember what <span>\&#34;</span>this<span>\&#34;</span> refers to.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7186" data-line-number="7186"></td>
          <td id="LC7186">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #47<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Kids are like farts.<span>\n</span>You can only stand yours.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7187" data-line-number="7187"></td>
          <td id="LC7187">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #48<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you were born in Israel, you&#39;d probably be Jewish.<span>\n</span>If you were born in Saudi Arabia, you&#39;d probably be Muslim.<span>\n</span>If you were born in India, you&#39;d probably be Hindu.<span>\n</span>But because you were born in North America, you&#39;re Christian.<span>\n</span>Your faith is not inspired by some divine, constant truth.<span>\n</span>It&#39;s simply geography.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7188" data-line-number="7188"></td>
          <td id="LC7188">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #49<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>There are 2 types of people in this world:<span>\n</span>People who say they pee in the shower, and the dirty fucking liars.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7189" data-line-number="7189"></td>
          <td id="LC7189">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #50<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>London 2012 Olympic Games - A bunch of countries coming across the ocean to put their flags in Britain and try to get a bunch of gold... it&#39;s like history but opposite.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7190" data-line-number="7190"></td>
          <td id="LC7190">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #51<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I don&#39;t need a stable relationship,<span>\n</span>I just need a stable Internet connection.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7191" data-line-number="7191"></td>
          <td id="LC7191">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #52<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>What&#39;s the difference between religion and bullshit?<span>\n</span>The bull.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7192" data-line-number="7192"></td>
          <td id="LC7192">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #53<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Today, as I was waiting for my girlfriend in the street, I saw a woman who looked a lot like her. I ran towards her, my arms in the air ready to give her a hug, only to realise it wasn&#39;t her. I then had to pass the woman, my arms in the air, still running. FML<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7193" data-line-number="7193"></td>
          <td id="LC7193">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #54<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Decimal: 1 + 1 = 2<span>\n</span>Binary:  1 + 1 = 10<span>\n</span>Boolean: 1 + 1 = 1<span>\n</span>JavaScript(hold my beer) : 1 + 1 = 11<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7194" data-line-number="7194"></td>
          <td id="LC7194">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #55<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Don&#39;t be ashamed of who you are.<span>\n</span>That&#39;s your parents job.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7195" data-line-number="7195"></td>
          <td id="LC7195">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #56<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Religion is like circumcision.<span>\n</span>If you wait until someone is 21 to tell them about it they probably won&#39;t be interested.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7196" data-line-number="7196"></td>
          <td id="LC7196">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #57<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>No, no, no, I&#39;m not insulting you.<span>\n</span>I&#39;m describing you.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7197" data-line-number="7197"></td>
          <td id="LC7197">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #58<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I bought a dog once. Named him <span>\&#34;</span>Stay<span>\&#34;</span>.<span>\n\&#34;</span>Come here, Stay.<span>\&#34;\n</span>He&#39;s insane now.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7198" data-line-number="7198"></td>
          <td id="LC7198">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #59<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Law of Software Quality:<span>\n</span>	errors = (more code)<span>\n</span>e = mc<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7199" data-line-number="7199"></td>
          <td id="LC7199">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #60<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Yesterday I named my Wifi network <span>\&#34;</span>hack me if you can<span>\&#34;\n</span>Today when I woke up it was changed to <span>\&#34;</span>challenge accepted<span>\&#34;</span>.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7200" data-line-number="7200"></td>
          <td id="LC7200">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #61<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Your mother is so fat,<span>\n</span>the recursive function computing her mass causes a stack overflow.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7201" data-line-number="7201"></td>
          <td id="LC7201">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #62<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Oral sex makes my day, but anal sex makes my hole weak.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7202" data-line-number="7202"></td>
          <td id="LC7202">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #63<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I&#39;m not saying I am Batman, I am just saying no one has ever seen me and Batman in the same room together.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7203" data-line-number="7203"></td>
          <td id="LC7203">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #64<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I took a taxi today.<span>\n</span>The driver told me <span>\&#34;</span>I love my job, I own this car, I&#39;ve got my own business, I&#39;m my own boss, NO ONE tells me what to do!<span>\&#34;\n</span>I said <span>\&#34;</span>TURN LEFT HERE<span>\&#34;</span>.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7204" data-line-number="7204"></td>
          <td id="LC7204">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #65<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A man without God is like a fish without a bicycle.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7205" data-line-number="7205"></td>
          <td id="LC7205">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #66<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I hate how spiders just sit there on the walls and act like they pay rent!<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7206" data-line-number="7206"></td>
          <td id="LC7206">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #67<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Whenever someone starts a sentence by saying <span>\&#34;</span>I&#39;m not racist...<span>\&#34;</span>),they are about to say something super racist.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7207" data-line-number="7207"></td>
          <td id="LC7207">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #68<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I&#39;m not laughing at you, I&#39;m laughing with you, you&#39;re just not laughing.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7208" data-line-number="7208"></td>
          <td id="LC7208">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #69<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Women need a reason to have sex. Men just need a place.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7209" data-line-number="7209"></td>
          <td id="LC7209">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #70<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If abortion is murder then are condoms kidnapping?<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7210" data-line-number="7210"></td>
          <td id="LC7210">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #71<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Men also have feelings.<span>\n</span>For example, they can feel hungry.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7211" data-line-number="7211"></td>
          <td id="LC7211">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #72<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Project Manager:<span>\n</span>A person who thinks 9 women can deliver a baby in 1 month.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7212" data-line-number="7212"></td>
          <td id="LC7212">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #73<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you try and don&#39;t succeed, cheat. Repeat until caught. Then lie.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7213" data-line-number="7213"></td>
          <td id="LC7213">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #74<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Olympics is the stupidest thing.<span>\n</span>People are so proud to be competing for their country.<span>\n</span>They play their stupid song and raise some dumb flags.<span>\n</span>I&#39;d love to see no flags raised, no song, no mention of country.<span>\n</span>Only people.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7214" data-line-number="7214"></td>
          <td id="LC7214">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #75<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I think therefore I am<span>\n</span>not religious.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7215" data-line-number="7215"></td>
          <td id="LC7215">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #76<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Even if being gay were a choice, so what?<span>\n</span>People choose to be assholes and they can get married.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7216" data-line-number="7216"></td>
          <td id="LC7216">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #77<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Governments are like diapers.<span>\n</span>They should be changed often, and for the same reason.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7217" data-line-number="7217"></td>
          <td id="LC7217">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #78<span>&#34;</span></span>), QuoteParams::slow, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Mathmatiquement, un cocu est un entier qui partage sa moiti avec un tiers.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7218" data-line-number="7218"></td>
          <td id="LC7218">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #79<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I&#39;m a creationist.<span>\n</span>I believe man created God.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7219" data-line-number="7219"></td>
          <td id="LC7219">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #80<span>&#34;</span></span>), QuoteParams::slow, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Let&#39;s eat kids.<span>\n</span>Let&#39;s eat, kids.<span>\n\n</span>Use a comma.<span>\n</span>Save lives.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7220" data-line-number="7220"></td>
          <td id="LC7220">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #81<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A male engineering student was crossing a road one day when a frog called out to him and said, <span>\&#34;</span>If you kiss me, I&#39;ll turn into a beautiful princess.<span>\&#34;</span> He bent over, picked up the frog, and put it in his pocket.<span>\n\n</span>The frog spoke up again and said, <span>\&#34;</span>If you kiss me and turn me back into a beautiful princess, I will stay with you for one week.<span>\&#34;</span> The engineering student took the frog out of his pocket, smiled at it; and returned it to his pocket.<span>\n\n</span>The frog then cried out, <span>\&#34;</span>If you kiss me and turn me back into a princess, I&#39;ll stay with you and do ANYTHING you want.<span>\&#34;</span> Again the boy took the frog out, smiled at it, and put it back into his pocket.<span>\n\n</span>Finally, the frog asked, <span>\&#34;</span>What is the matter? I&#39;ve told you I&#39;m a beautiful princess, that I&#39;ll stay with you for a week and do anything you want. Why won&#39;t you kiss me?<span>\&#34;</span> The boy said, <span>\&#34;</span>Look I&#39;m an engineer. I don&#39;t have time for a girlfriend, but a talking frog is cool.<span>\&#34;\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7221" data-line-number="7221"></td>
          <td id="LC7221">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #82<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Gamers never die.<span>\n</span>They just go offline.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7222" data-line-number="7222"></td>
          <td id="LC7222">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #83<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Copy from one, it&#39;s plagiarism.<span>\n</span>Copy from two, it&#39;s research.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7223" data-line-number="7223"></td>
          <td id="LC7223">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #84<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Saying that Java is nice because it works on all OSes is like saying that anal sex is nice because it works on all genders.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7224" data-line-number="7224"></td>
          <td id="LC7224">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #85<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Race, religion, ethnic pride and nationalism etc... does nothing but teach you how to hate people that you&#39;ve never met.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7225" data-line-number="7225"></td>
          <td id="LC7225">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #86<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Farts are just the ghosts of the things we eat.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7226" data-line-number="7226"></td>
          <td id="LC7226">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #87<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I promised I would never kill someone who had my blood.<span>\n</span>But that mosquito made me break my word.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7227" data-line-number="7227"></td>
          <td id="LC7227">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #88<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Si un jour une chaise te dit que t&#39;as un joli cul, tu trouveras a bizarre mais c&#39;est juste un compliment d&#39;objet direct.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7228" data-line-number="7228"></td>
          <td id="LC7228">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #89<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The biggest step in any relationship isn&#39;t the first kiss.<span>\n</span>It&#39;s the first fart.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7229" data-line-number="7229"></td>
          <td id="LC7229">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #90<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Clapping:<span>\n</span>(verb)<span>\n</span>Repeatedly high-fiving yourself for someone else&#39;s accomplishments.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7230" data-line-number="7230"></td>
          <td id="LC7230">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #91<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>CV: ctrl-C, ctrl-V<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7231" data-line-number="7231"></td>
          <td id="LC7231">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #92<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Mondays are not so bad.<span>\n</span>It&#39;s your job that sucks.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7232" data-line-number="7232"></td>
          <td id="LC7232">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #93<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>[In a job interview]<span>\n</span>Interviewer: What&#39;s your greatest weakness?<span>\n</span>Candidate: Honesty.<span>\n</span>Interviewer: I don&#39;t think honesty is a weakness.<span>\n</span>Candidate: I don&#39;t give a fuck what you think.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7233" data-line-number="7233"></td>
          <td id="LC7233">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #94<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Hey, I just met you<span>\n</span>And this is crazy<span>\n</span>Here&#39;s my number 127.0.0.1<span>\n</span>Ping me maybe?<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7234" data-line-number="7234"></td>
          <td id="LC7234">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #95<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>What if the spider you killed in your house had spent his entire life thinking you were his roommate?<span>\n</span>Ever think about that?<span>\n</span>No. You only think about yourself.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7235" data-line-number="7235"></td>
          <td id="LC7235">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #96<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Code for 6 minutes, debug for 6 hours.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7236" data-line-number="7236"></td>
          <td id="LC7236">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #97<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Real Programmers don&#39;t comment their code.<span>\n</span>If it was hard to write, it should be hard to read.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7237" data-line-number="7237"></td>
          <td id="LC7237">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #98<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>My neighbours listen to good music.<span>\n</span>Whether they like it or not.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7238" data-line-number="7238"></td>
          <td id="LC7238">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #99<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I&#39;ve been using Vim for about 2 years now,<span>\n</span>mostly because I can&#39;t figure out how to exit it.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7239" data-line-number="7239"></td>
          <td id="LC7239">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #100<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Dear YouTube,<span>\n</span>I can deal with Ads.<span>\n</span>I can deal with Buffer.<span>\n</span>But when Ads buffer, I suffer.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7240" data-line-number="7240"></td>
          <td id="LC7240">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #101<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>It&#39;s always sad when a man and his dick share only one brain...<span>\n</span>and it turns out to be the dick&#39;s.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7241" data-line-number="7241"></td>
          <td id="LC7241">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #102<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If IE is brave enough to ask you to set it as your default browser,<span>\n</span>don&#39;t tell me you dare not ask a girl out.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7242" data-line-number="7242"></td>
          <td id="LC7242">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #104<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The main idea of <span>\&#34;</span>Inception<span>\&#34;</span>:<span>\n</span>if you run a VM inside a VM inside a VM inside a VM inside a VM,<span>\n</span>everything will be very slow.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7243" data-line-number="7243"></td>
          <td id="LC7243">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #105<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The best antivirus is common sense.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7244" data-line-number="7244"></td>
          <td id="LC7244">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #106<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>When I die, I want to go peacefully like my grandfather did, in his sleep<span>\n</span>- not screaming, like the passengers in his car.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7245" data-line-number="7245"></td>
          <td id="LC7245">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #107<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Remember, YOUR God is real.<span>\n</span>All those other Gods are ridiculous, made-up nonsense.<span>\n</span>But not yours.<span>\n</span>Your God is real. Whichever one that is.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7246" data-line-number="7246"></td>
          <td id="LC7246">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #108<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_CSS, <span>TEXT</span>(<span><span>&#34;</span>#your-mom {<span>\n</span>	width: 100000000000000000000px;<span>\n</span>	float: nope;<span>\n</span>}<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7247" data-line-number="7247"></td>
          <td id="LC7247">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #109<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>What&#39;s the best thing about UDP jokes?<span>\n</span>I don&#39;t care if you get them.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7248" data-line-number="7248"></td>
          <td id="LC7248">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #110<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A programmer had a problem, so he decided to use threads.<span>\n</span>Now 2 has. He problems<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7249" data-line-number="7249"></td>
          <td id="LC7249">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #111<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I&#39;VE NEVER BEEN VERY GOOD AT GEOGRAPHY.<span>\n</span>BUT I CAN NAME AT LEAST ONE CITY IN FRANCE, WHICH IS NICE.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7250" data-line-number="7250"></td>
          <td id="LC7250">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #112<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_CSS, <span>TEXT</span>(<span><span>&#34;</span>#hulk {<span>\n</span>    height: 200%;<span>\n</span>    width: 200%;<span>\n</span>    color: green;<span>\n</span>}<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7251" data-line-number="7251"></td>
          <td id="LC7251">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #113<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A colon can completely change the meaning of a sentence. For example:<span>\n</span>- Jane ate her friend&#39;s sandwich.<span>\n</span>- Jane ate her friend&#39;s colon.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7252" data-line-number="7252"></td>
          <td id="LC7252">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #114<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>How can you face your problem if your problem is your face?<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7253" data-line-number="7253"></td>
          <td id="LC7253">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #115<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>YOLOLO:<span>\n</span>You Only LOL Once.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7254" data-line-number="7254"></td>
          <td id="LC7254">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #116<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Every exit is an entrance to new experiences.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7255" data-line-number="7255"></td>
          <td id="LC7255">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #117<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A Native American was asked:<span>\n\&#34;</span>Do you celebrate Columbus day?<span>\&#34;\n</span>He replied:<span>\n\&#34;</span>I don&#39;t know, do Jews celebrate Hitler&#39;s birthday?<span>\&#34;</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7256" data-line-number="7256"></td>
          <td id="LC7256">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #118<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I love necrophilia, but i can&#39;t stand the awkward silences.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7257" data-line-number="7257"></td>
          <td id="LC7257">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #119<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span><span>\&#34;</span>I&#39;m gonna Google that. BING that, Bing that, sorry.<span>\&#34;\n</span>- The CEO of Bing (many times per day still)<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7258" data-line-number="7258"></td>
          <td id="LC7258">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #120<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>GRAMMAR<span>\n</span>The difference between knowing your shit and knowing you&#39;re shit.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7259" data-line-number="7259"></td>
          <td id="LC7259">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #121<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>5 out of 6 people agree that Russian roulette is completely safe.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7260" data-line-number="7260"></td>
          <td id="LC7260">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #122<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Nerd?<span>\n</span>I prefer the term <span>\&#34;</span>Intellectual badass<span>\&#34;</span>.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7261" data-line-number="7261"></td>
          <td id="LC7261">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #123<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I know every digit of ,<span>\n</span>just not in the right order.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7262" data-line-number="7262"></td>
          <td id="LC7262">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #124<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>You don&#39;t need religion to have morals.<span>\n</span>If you can&#39;t determine right from wrong then you lack empathy, not religion.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7263" data-line-number="7263"></td>
          <td id="LC7263">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #125<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Pooping with the door opened is the meaning of true freedom.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7264" data-line-number="7264"></td>
          <td id="LC7264">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #126<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Social media does not make people stupid.<span>\n</span>It just makes stupid people more visible.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7265" data-line-number="7265"></td>
          <td id="LC7265">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #127<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_SQL, <span>TEXT</span>(<span><span>&#34;</span>SELECT finger<span>\n</span>FROM hand<span>\n</span>WHERE id = 2 ;<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7266" data-line-number="7266"></td>
          <td id="LC7266">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #128<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>3 men are on a boat. They have 4 cigarettes, but nothing to light them with.<span>\n</span>So they throw a cigarette overboard and the whole boat becomes a cigarette lighter.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7267" data-line-number="7267"></td>
          <td id="LC7267">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #129<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>What is the most used language in programming?<span>\n\n</span>Profanity<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7268" data-line-number="7268"></td>
          <td id="LC7268">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #130<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Common sense is so rare, it&#39;s kinda like a superpower...<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7269" data-line-number="7269"></td>
          <td id="LC7269">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #131<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The best thing about a boolean is even if you are wrong, you are only off by a bit.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7270" data-line-number="7270"></td>
          <td id="LC7270">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #132<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Benchmarks don&#39;t lie, but liars do benchmarks.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7271" data-line-number="7271"></td>
          <td id="LC7271">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #133<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Multitasking: Screwing up several things at once.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7272" data-line-number="7272"></td>
          <td id="LC7272">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #134<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Linux is user friendly.<span>\n</span>It&#39;s just picky about its friends.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7273" data-line-number="7273"></td>
          <td id="LC7273">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #135<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Theory is when you know something, but it doesn&#39;t work.<span>\n</span>Practice is when something works, but you don&#39;t know why.<span>\n</span>Programmers combine theory and practice: nothing works and they don&#39;t know why.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7274" data-line-number="7274"></td>
          <td id="LC7274">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #136<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Documentation is like sex:<span>\n</span>when it&#39;s good, it&#39;s very, very good;<span>\n</span>when it&#39;s bad, it&#39;s better than nothing.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7275" data-line-number="7275"></td>
          <td id="LC7275">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #137<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Home is where you poop most comfortably.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7276" data-line-number="7276"></td>
          <td id="LC7276">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #138<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Laptop Speakers problem: too quiet for music, too loud for porn.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7277" data-line-number="7277"></td>
          <td id="LC7277">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #139<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Chinese food to go: $16<span>\n</span>Gas to go get the food: $2<span>\n</span>Drove home just to realize they forgot one of your containers: RICELESS<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7278" data-line-number="7278"></td>
          <td id="LC7278">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #140<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>MS Windows is like religion to most people: they are born into it, accept it as default, never consider switching to another.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7279" data-line-number="7279"></td>
          <td id="LC7279">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #141<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>To most religious people, the holy books are like a software license (EULA).<span>\n</span>Nobody actually reads it. They just scroll to the bottom and click <span>\&#34;</span>I agree<span>\&#34;</span>.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7280" data-line-number="7280"></td>
          <td id="LC7280">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #142<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>You are nothing but a number of days,<span>\n</span>whenever each day passes then part of you has gone.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7281" data-line-number="7281"></td>
          <td id="LC7281">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #143<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If 666 is evil, does that make 25.8069758011 the root of all evil?<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7282" data-line-number="7282"></td>
          <td id="LC7282">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #144<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I don&#39;t want to sound like a badass but<span>\n</span>I eject my USB drive without removing it safely.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7283" data-line-number="7283"></td>
          <td id="LC7283">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #145<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>feet  (noun)<span>\n</span>a device used for finding legos in the dark<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7284" data-line-number="7284"></td>
          <td id="LC7284">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #146<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Buy a sheep<span>\n</span>Name it <span>\&#34;</span>Relation<span>\&#34;\n</span>Now you have a Relationsheep<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7285" data-line-number="7285"></td>
          <td id="LC7285">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #147<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I dig, you dig, we dig,<span>\n</span>he dig, she dig, they dig...<span>\n\n</span>It&#39;s not a beautiful poem,<span>\n</span>but it&#39;s very deep.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7286" data-line-number="7286"></td>
          <td id="LC7286">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #148<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_BASH, <span>TEXT</span>(<span><span>&#34;</span># UNIX command line Russian roulette:<span>\n</span>[ $[ $RANDOM % 6 ] == 0 ] &amp;&amp; rm -rf /* || echo *Click*<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7287" data-line-number="7287"></td>
          <td id="LC7287">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #149<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>unzip, strip, top, less, touch, finger, grep, mount, fsck, more, yes, fsck, fsck, fsck, umount, sleep.<span>\n\n</span>No, it&#39;s not porn. It&#39;s Unix.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7288" data-line-number="7288"></td>
          <td id="LC7288">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #150<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>To understand what recursion is, you must first understand recursion.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7289" data-line-number="7289"></td>
          <td id="LC7289">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #151<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Q: What&#39;s the object-oriented way to become wealthy?<span>\n</span>A: Inheritance.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7290" data-line-number="7290"></td>
          <td id="LC7290">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #152<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A SQL query goes into a bar, walks up to two tables and asks, <span>\&#34;</span>Can I join you?<span>\&#34;</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7291" data-line-number="7291"></td>
          <td id="LC7291">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #153<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>You are not fat, you are just more visible.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7292" data-line-number="7292"></td>
          <td id="LC7292">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #154<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Minimalist<span>\n</span> (.   .)<span>\n</span>  )   (<span>\n</span> (  Y  )<span>\n</span>ASCII Art<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7293" data-line-number="7293"></td>
          <td id="LC7293">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #155<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Parallel lines have so much in common...<span>\n</span>It&#39;s a shame that they&#39;ll never meet.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7294" data-line-number="7294"></td>
          <td id="LC7294">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #156<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Declare variables, not war.<span>\n</span>Execute programs, not people.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7295" data-line-number="7295"></td>
          <td id="LC7295">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #157<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I can&#39;t see an end. I have no control and I don&#39;t think there&#39;s any escape. I don&#39;t even have a home anymore.<span>\n</span>I think it&#39;s time for a new keyboard.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7296" data-line-number="7296"></td>
          <td id="LC7296">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #158<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>6.9<span>\n</span>A little fun interrupted by a period.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7297" data-line-number="7297"></td>
          <td id="LC7297">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #159<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I love anal<span>\n</span>-yzing all data before making assumptions.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7298" data-line-number="7298"></td>
          <td id="LC7298">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #160<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>So my wife said<span>\n\&#34;</span>take off my shirt<span>\&#34;</span>.<span>\n</span>I did as she said and take off her shirt.<span>\n</span>Then she said,<span>\n\&#34;</span>Take off my skirt.<span>\&#34;\n</span>I took off her skirt.<span>\n\&#34;</span>Take off my shoes.<span>\&#34;\n</span>I took off her shoes.<span>\n\&#34;</span>Now take off my bra and panties.<span>\&#34;\n</span>and so I took them off.<span>\n</span>Then she looked at me and said<span>\n\&#34;</span>I don&#39;t want to catch you wearing my things ever again.<span>\&#34;</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7299" data-line-number="7299"></td>
          <td id="LC7299">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #161<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Do you know:<span>\n</span>Spiders are the only web developers in the world that enjoy finding bugs.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7300" data-line-number="7300"></td>
          <td id="LC7300">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #162<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Psychologist: Lie down please.<span>\n</span>8: No, thank you. If I do, this session will never reach the end.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7301" data-line-number="7301"></td>
          <td id="LC7301">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #163<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I love the way the earth rotates,<span>\n</span>it really makes my day.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7302" data-line-number="7302"></td>
          <td id="LC7302">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #164<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Homonyms are a waist of thyme.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7303" data-line-number="7303"></td>
          <td id="LC7303">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #165<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>What&#39;s the difference between a police officer and a bullet?<span>\n</span>When a bullet kills someone else, you know it&#39;s been fired.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7304" data-line-number="7304"></td>
          <td id="LC7304">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #166<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>What has 4 letters<span>\n</span>sometimes 9 letters<span>\n</span>but never has 5 letters<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7305" data-line-number="7305"></td>
          <td id="LC7305">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #167<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The &#39;h&#39; in <span>\&#34;</span>software development<span>\&#34;</span> stands for <span>\&#34;</span>happiness<span>\&#34;</span>.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7306" data-line-number="7306"></td>
          <td id="LC7306">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #168<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Never let your computer know that you are in a hurry.<span>\n</span>Computers can smell fear.<span>\n</span>They slow down if they know that you are running out of time.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7307" data-line-number="7307"></td>
          <td id="LC7307">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #169<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>JavaScript is not a language.<span>\n</span>It&#39;s a programming jokes generator.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7308" data-line-number="7308"></td>
          <td id="LC7308">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #170<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A journalist asked Linus Torvalds what makes code bad.<span>\n</span>He replied : No comment.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7309" data-line-number="7309"></td>
          <td id="LC7309">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #171<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you spell <span>\&#34;</span>Nothing<span>\&#34;</span> backwards, it becomes <span>\&#34;</span>Gnihton<span>\&#34;</span> which also means nothing.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7310" data-line-number="7310"></td>
          <td id="LC7310">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #172<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Programming in Javascript is like looking both ways before you cross the street, and then getting hit by an airplane.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7311" data-line-number="7311"></td>
          <td id="LC7311">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #173<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Q: Why do we need a backend, why not just connect front end to database???<span>\n\n</span>A: Yeah! And why do we eat and go to the bathroom while we can throw the food directly in the toilet? Because stuff needs to get processed. ;)<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7312" data-line-number="7312"></td>
          <td id="LC7312">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #174<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Someday, once humans are extinct from covid-19. I hope whatever species rules Earth makes chicken nuggets in the shape of us, like we did for dinosaurs.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7313" data-line-number="7313"></td>
          <td id="LC7313">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #175<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Linkedin is basically a reversed Tinder.<span>\n</span>Hot girls write to nerd guys and they didn&#39;t reply.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7314" data-line-number="7314"></td>
          <td id="LC7314">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #176<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>A vegan said to me, <span>\&#34;</span>people who sell meat are gross!<span>\&#34;\n</span>I said, <span>\&#34;</span>people who sell fruits and vegetables are grocer.<span>\&#34;\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7315" data-line-number="7315"></td>
          <td id="LC7315">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #177<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Documentation is a love letter that you write to your future self.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7316" data-line-number="7316"></td>
          <td id="LC7316">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #178<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>When I die, I hope it&#39;s early in the morning so I don&#39;t have to go to work that day for no reason.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7317" data-line-number="7317"></td>
          <td id="LC7317">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #179<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Workers plaay football<span>\n</span>Managers play tennis<span>\n</span>CEOs play golf<span>\n\n</span>Higher the function, smaller the balls.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7318" data-line-number="7318"></td>
          <td id="LC7318">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #180<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Friends are just like trees.<span>\n</span>They fall down when you hit them multiple times with an axe.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7319" data-line-number="7319"></td>
          <td id="LC7319">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #181<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>I met a magical Genie. He gave me one wish.<span>\n</span>I said: <span>\&#34;</span>I wish I could be you.<span>\&#34;\n</span>The Genue saud: <span>\&#34;</span>Weurd wush but U wull grant ut.<span>\&#34;\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7320" data-line-number="7320"></td>
          <td id="LC7320">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #182<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_CPP, <span>TEXT</span>(<span><span>&#34;</span>printf(<span>\&#34;</span>%s%s<span>\&#34;</span>, <span>\&#34;\\\\</span>o/<span>\\</span>n| |<span>\\</span>n| |8=<span>\&#34;</span>, <span>\&#34;</span>=D<span>\\</span>n/ <span>\\\\\\</span>n<span>\&#34;</span>);<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7321" data-line-number="7321"></td>
          <td id="LC7321">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #183<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Dear Optimist, Pessimist and Realist,<span>\n\n</span>While you guys were busy arguing about<span>\n</span>the glass of water, I drank it!<span>\n\n\n</span>					Sincerely,<span>\n</span>					The Opportunist<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7322" data-line-number="7322"></td>
          <td id="LC7322">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #184<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Dance like nobody&#39;s watching.<span>\n</span>Encrypt like everyone is.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7323" data-line-number="7323"></td>
          <td id="LC7323">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #185<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Me: <span>\&#34;</span>I&#39;m 45 years old but I&#39;ve got a 19 year-old young man&#39;s body<span>\&#34;\n</span>Her: <span>\&#34;</span>Show me<span>\&#34;\n</span>I opened the freezer to show her the body.<span>\n</span>She screamed.<span>\n</span>Me too.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7324" data-line-number="7324"></td>
          <td id="LC7324">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #186<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Everyone complains about the weather,<span>\n</span>but no one wants to sacrifice a virgin to change it.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7325" data-line-number="7325"></td>
          <td id="LC7325">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #187<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you are alone at home and feel lonely:<span>\n</span>Turn off the lights, turn on the TV and watch a horror movie.<span>\n</span>Then you will have feeling that there are someone hidden in the kitchen, in the toilet<span>\n</span>and even under your bed.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7326" data-line-number="7326"></td>
          <td id="LC7326">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #188<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>*Knock knock*<span>\n\&#34;</span>Race condition<span>\&#34;\n\&#34;</span>Who&#39;s there?<span>\&#34;\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7327" data-line-number="7327"></td>
          <td id="LC7327">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #189<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The two most difficult programming challenges are naming things, cache invalidation, and off-by-one errors.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7328" data-line-number="7328"></td>
          <td id="LC7328">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #190<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The greatest security vulnerability in any computer system is located between the keyboard and the chair.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7329" data-line-number="7329"></td>
          <td id="LC7329">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #191<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>My biggest talent is always being able to tell what&#39;s in a wrapped present.<span>\n\n</span>It&#39;s a gift.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7330" data-line-number="7330"></td>
          <td id="LC7330">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #192<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>You can&#39;t force someone to love you.<span>\n</span>But you can lock this person in the basement and wait for him/her to develop Stockholm syndrome.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7331" data-line-number="7331"></td>
          <td id="LC7331">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #193<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Do you know:<span>\n</span>there are more airplanes in the oceans, than submarines in the sky?<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7332" data-line-number="7332"></td>
          <td id="LC7332">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #194<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you hold a Unix shell up to your ear,<span>\n</span>you might just be able to hear the C.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7333" data-line-number="7333"></td>
          <td id="LC7333">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #195<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Why do programmers always mix up Halloween and Christmas?<span>\n</span>Because Oct 31 == Dec 25<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7334" data-line-number="7334"></td>
          <td id="LC7334">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #196<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>What happened to the function that ran away?<span>\n</span>It never returned.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7335" data-line-number="7335"></td>
          <td id="LC7335">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #197<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>When I am tasked with sorting through a stack of rsums, I throw about half of them in the garbage.<span>\n</span>I do not want unlucky people working in our company.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7336" data-line-number="7336"></td>
          <td id="LC7336">	{<span>TEXT</span>(<span><span>&#34;</span>Anonymous #198<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>The reason why we write SQL commands all in CAPITAL letters is because it stands for Screaming Query Language.<span>\n</span><span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7337" data-line-number="7337"></td>
          <td id="LC7337">	{<span>TEXT</span>(<span><span>&#34;</span>xkcd<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Never have I felt so close to another soul<span>\n</span>And yet so helplessly alone<span>\n</span>As when I Google an error<span>\n</span>And there&#39;s one result<span>\n</span>A thread by someone with the same problem<span>\n</span>And no answer<span>\n</span>Last posted to in 2003<span>\n\n\&#34;</span>Who were you, DenverCoder9?<span>\&#34;\n\&#34;</span>What did you see?!<span>\&#34;\n\n</span>(ref: https://xkcd.com/979/)<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7338" data-line-number="7338"></td>
          <td id="LC7338">	{<span>TEXT</span>(<span><span>&#34;</span>A developer<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>No hugs &amp; kisses.<span>\n</span>Only bugs &amp; fixes.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7339" data-line-number="7339"></td>
          <td id="LC7339">	{<span>TEXT</span>(<span><span>&#34;</span>Elon Musk<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Don&#39;t set your password as your child&#39;s name.<span>\n</span>Name your child after your password.<span>&#34;</span></span>) },</td>
        </tr>
        <tr>
          <td id="L7340" data-line-number="7340"></td>
          <td id="LC7340">	{<span>TEXT</span>(<span><span>&#34;</span>OOP<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you want to treat women as objects,<span>\n</span>do it with class.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7341" data-line-number="7341"></td>
          <td id="LC7341">	{<span>TEXT</span>(<span><span>&#34;</span>Internet #404<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Quote not Found<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7342" data-line-number="7342"></td>
          <td id="LC7342">	{<span>TEXT</span>(<span><span>&#34;</span>Mary Oliver<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Someone I loved once gave me a box full of darkness.<span>\n</span>It took me years to understand that this, too, was a gift.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7343" data-line-number="7343"></td>
          <td id="LC7343">	{<span>TEXT</span>(<span><span>&#34;</span>Floor<span>&#34;</span></span>), QuoteParams::slow, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you fall, I will be there.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7344" data-line-number="7344"></td>
          <td id="LC7344">	{<span>TEXT</span>(<span><span>&#34;</span>Simon Amstell<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>If you have some problem in your life and need to deal with it, then use religion, that&#39;s fine.<span>\n</span>I use Google.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7345" data-line-number="7345"></td>
          <td id="LC7345">	{<span>TEXT</span>(<span><span>&#34;</span>Albert Einstein<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Only 3 things are infinite:<span>\n</span>1. Universe.<span>\n</span>2. Human Stupidity.<span>\n</span>3. Winrar&#39;s free trial.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7346" data-line-number="7346"></td>
          <td id="LC7346">	{<span>TEXT</span>(<span><span>&#34;</span>Terry Pratchett<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Artificial Intelligence is no match for natural stupidity.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7347" data-line-number="7347"></td>
          <td id="LC7347">	{<span>TEXT</span>(<span><span>&#34;</span>Stewart Brand<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Once a new technology starts rolling, if you&#39;re not part of the steamroller,<span>\n</span>you&#39;re part of the road.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7348" data-line-number="7348"></td>
          <td id="LC7348">	{<span>TEXT</span>(<span><span>&#34;</span>Sam Redwine<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Software and cathedrals are much the same - first we build them, then we pray.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7349" data-line-number="7349"></td>
          <td id="LC7349">	{<span>TEXT</span>(<span><span>&#34;</span>Jan L. A. van de Snepscheut<span>&#34;</span></span>),  QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>In theory, there is no difference between theory and practice. But, in practice, there is.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7350" data-line-number="7350"></td>
          <td id="LC7350">	{<span>TEXT</span>(<span><span>&#34;</span>Jessica Gaston<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>One man&#39;s crappy software is another man&#39;s full time job.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7351" data-line-number="7351"></td>
          <td id="LC7351">	{<span>TEXT</span>(<span><span>&#34;</span>Raymond Devos<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Mon pied droit est jaloux de mon pied gauche. Quand l&#39;un avance, l&#39;autre veut le dpasser.<span>\n</span>Et moi, comme un imbcile, je marche !<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7352" data-line-number="7352"></td>
          <td id="LC7352">	{<span>TEXT</span>(<span><span>&#34;</span>xkcd.com<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_C, <span>TEXT</span>(<span><span>&#34;</span>int getRandomNumber()<span>\n</span>{<span>\n</span>    return 4; //chosen by fair dice roll, guaranteed to be random.<span>\n</span>}<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7353" data-line-number="7353"></td>
          <td id="LC7353">	{<span>TEXT</span>(<span><span>&#34;</span>Gandhi<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Earth provides enough to satisfy every man&#39;s need, but not every man&#39;s greed.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7354" data-line-number="7354"></td>
          <td id="LC7354">	{<span>TEXT</span>(<span><span>&#34;</span>R. D. Laing<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Life is a sexually transmitted disease and the mortality rate is one hundred percent.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7355" data-line-number="7355"></td>
          <td id="LC7355">	{<span>TEXT</span>(<span><span>&#34;</span>Hustle Man<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Politicians are like sperm.<span>\n</span>One in a million turn out to be an actual human being.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7356" data-line-number="7356"></td>
          <td id="LC7356">	{<span>TEXT</span>(<span><span>&#34;</span>Mark Twain<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Censorship is telling a man he can&#39;t have a steak just because a baby can&#39;t chew it.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7357" data-line-number="7357"></td>
          <td id="LC7357">	{<span>TEXT</span>(<span><span>&#34;</span>Friedrich Nietzsche<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>There is not enough love and goodness in the world to permit giving any of it away to imaginary beings.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7358" data-line-number="7358"></td>
          <td id="LC7358">	{<span>TEXT</span>(<span><span>&#34;</span>Dhalsim<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Pain is a state of mind and I don&#39;t mind your pain.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7359" data-line-number="7359"></td>
          <td id="LC7359">	{<span>TEXT</span>(<span><span>&#34;</span>Elie Wiesel<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Human beings can be beautiful or more beautiful,<span>\n</span>they can be fat or skinny, they can be right or wrong,<span>\n</span>but illegal? How can a human being be illegal?<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7360" data-line-number="7360"></td>
          <td id="LC7360">	{<span>TEXT</span>(<span><span>&#34;</span>Dennis Ritchie<span>&#34;</span></span>), QuoteParams::rapid, <span>true</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Empty your memory, with a free(), like a pointer.<span>\n</span>If you cast a pointer to a integer, it becomes the integer.<span>\n</span>If you cast a pointer to a struct, it becomes the struct.<span>\n</span>The pointer can crash, and can overflow.<span>\n</span>Be a pointer my friend.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7361" data-line-number="7361"></td>
          <td id="LC7361">	{<span>TEXT</span>(<span><span>&#34;</span>Chewbacca<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Uuuuuuuuuur Ahhhhrrrrrr<span>\n</span>Uhrrrr Ahhhhrrrrrr<span>\n</span>Aaaarhg...<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7362" data-line-number="7362"></td>
          <td id="LC7362">	{<span>TEXT</span>(<span><span>&#34;</span>Alexandria Ocasio-Cortez<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>No one ever makes a billion dollars.<span>\n</span>You TAKE a billion dollars.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7363" data-line-number="7363"></td>
          <td id="LC7363">	{<span>TEXT</span>(<span><span>&#34;</span>Freddy Krueger<span>&#34;</span></span>), QuoteParams::slow, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Never stop dreaming.<span>\n</span><span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7364" data-line-number="7364"></td>
          <td id="LC7364">	{<span>TEXT</span>(<span><span>&#34;</span>Ricky Gervais<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Feel free to mock my lack of belief in any Gods.<span>\n</span>It won&#39;t hurt my feelings.<span>\n</span>It won&#39;t damage my faith in reason.<span>\n</span>And I won&#39;t kill you for it.<span>&#34;</span></span>)},</td>
        </tr>
        <tr>
          <td id="L7365" data-line-number="7365"></td>
          <td id="LC7365">	{TEXT(&#34;Francis bacon&#34;), QuoteParams::rapid, false, SC_CP_UTF8, L_TEXT, TEXT(&#34;Knowledge is power. France is bacon.\n\nWhen I was young my father said to me: \&#34;Knowledge is power, Francis Bacon.\&#34; I understood it as \&#34;Knowledge is power, France is bacon.\&#34;\n\nFor more than a decade I wondered over the meaning of the second part and what was the surreal linkage between the two. If I said the quote to someone, \&#34;Knowledge is power, France is Bacon\&#34;, they nodded knowingly. Or someone might say, \&#34;Knowledge is power\&#34; and I&#39;d finish the quote \&#34;France is Bacon\&#34; and they wouldn&#39;t look at me like I&#39;d said something very odd, but thoughtfully agree. I did ask a teacher what did \&#34;Knowledge is power, France is bacon\&#34; mean and got a full 10-minute explanation of the \&#34;knowledge is power\&#34; bit but nothing on \&#34;France is bacon\&#34;. When I prompted further explanation by saying \&#34;France is bacon?\&#34; in a questioning tone I just got a \&#34;yes\&#34;. At 12 I didn&#39;t have the confidence to press it further. I just accepted it as something I&#39;d never understand.\n\nIt wasn&#39;t until years later I saw it written down that the penny dropped.\n&#34;)},</td>
        </tr>
        <tr>
          <td id="L7366" data-line-number="7366"></td>
          <td id="LC7366">	{TEXT(&#34;Space Invaders&#34;), QuoteParams::speedOfLight, false, SC_CP_UTF8, L_TEXT, TEXT(&#34;\n\n       \n                     \n                     \n                      \n                       \n\n                          \n                               \n                             \n                                \n\n                   \n                   \n                   \n                    \n\n                        \n                          \n                              \n                              \n\n&#34;) },</td>
        </tr>
        <tr>
          <td id="L7367" data-line-number="7367"></td>
          <td id="LC7367">	{<span>TEXT</span>(<span><span>&#34;</span>#JeSuisCharlie<span>&#34;</span></span>), QuoteParams::rapid, <span>false</span>, SC_CP_UTF8, L_TEXT, <span>TEXT</span>(<span><span>&#34;</span>Freedom of expression is like the air we breathe, we don&#39;t feel it, until people take it away from us.<span>\n\n</span>For this reason, Je suis Charlie, not because I endorse everything they published, but because I cherish the right to speak out freely without risk even when it offends others.<span>\n</span>And no, you cannot just take someone&#39;s life for whatever he/she expressed.<span>\n\n</span>Hence this <span>\&#34;</span>Je suis Charlie<span>\&#34;</span> edition.<span>\n</span><span>&#34;</span></span>)}</td>
        </tr>
        <tr>
          <td id="L7368" data-line-number="7368"></td>
          <td id="LC7368">};</td>
        </tr>
        <tr>
          <td id="L7369" data-line-number="7369"></td>
          <td id="LC7369">
</td>
        </tr>
        <tr>
          <td id="L7370" data-line-number="7370"></td>
          <td id="LC7370">
</td>
        </tr>
        <tr>
          <td id="L7371" data-line-number="7371"></td>
          <td id="LC7371">
</td>
        </tr>
        <tr>
          <td id="L7372" data-line-number="7372"></td>
          <td id="LC7372"><span>const</span> <span>int</span> nbWtf = <span>5</span>;</td>
        </tr>
        <tr>
          <td id="L7373" data-line-number="7373"></td>
          <td id="LC7373"><span>const</span> <span>wchar_t</span>* wtf[nbWtf] =</td>
        </tr>
        <tr>
          <td id="L7374" data-line-number="7374"></td>
          <td id="LC7374">{</td>
        </tr>
        <tr>
          <td id="L7375" data-line-number="7375"></td>
          <td id="LC7375">	<span>TEXT</span>(<span><span>&#34;</span>WTF?!<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L7376" data-line-number="7376"></td>
          <td id="LC7376">	<span>TEXT</span>(<span><span>&#34;</span>lol<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L7377" data-line-number="7377"></td>
          <td id="LC7377">	<span>TEXT</span>(<span><span>&#34;</span>ROFL<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L7378" data-line-number="7378"></td>
          <td id="LC7378">	<span>TEXT</span>(<span><span>&#34;</span>OMFG<span>&#34;</span></span>),</td>
        </tr>
        <tr>
          <td id="L7379" data-line-number="7379"></td>
          <td id="LC7379">	<span>TEXT</span>(<span><span>&#34;</span>Husband is not an ATM machine!!!<span>&#34;</span></span>)</td>
        </tr>
        <tr>
          <td id="L7380" data-line-number="7380"></td>
          <td id="LC7380">};</td>
        </tr>
        <tr>
          <td id="L7381" data-line-number="7381"></td>
          <td id="LC7381">
</td>
        </tr>
        <tr>
          <td id="L7382" data-line-number="7382"></td>
          <td id="LC7382"><span>const</span> <span>int</span> nbIntervalTime = <span>5</span>;</td>
        </tr>
        <tr>
          <td id="L7383" data-line-number="7383"></td>
          <td id="LC7383"><span>int</span> intervalTimeArray[nbIntervalTime] = {<span>30</span>,<span>30</span>,<span>30</span>,<span>30</span>,<span>200</span>};</td>
        </tr>
        <tr>
          <td id="L7384" data-line-number="7384"></td>
          <td id="LC7384"><span>const</span> <span>int</span> nbPauseTime = <span>3</span>;</td>
        </tr>
        <tr>
          <td id="L7385" data-line-number="7385"></td>
          <td id="LC7385"><span>int</span> pauseTimeArray[nbPauseTime] = {<span>200</span>,<span>400</span>,<span>600</span>};</td>
        </tr>
        <tr>
          <td id="L7386" data-line-number="7386"></td>
          <td id="LC7386">
</td>
        </tr>
        <tr>
          <td id="L7387" data-line-number="7387"></td>
          <td id="LC7387"><span>const</span> <span>int</span> act_doNothing = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L7388" data-line-number="7388"></td>
          <td id="LC7388"><span>const</span> <span>int</span> act_trolling = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7389" data-line-number="7389"></td>
          <td id="LC7389"><span>const</span> <span>int</span> nbAct = <span>30</span>;</td>
        </tr>
        <tr>
          <td id="L7390" data-line-number="7390"></td>
          <td id="LC7390"><span>int</span> actionArray[nbAct] = {<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>1</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>};</td>
        </tr>
        <tr>
          <td id="L7391" data-line-number="7391"></td>
          <td id="LC7391"><span>const</span> <span>int</span> maxRange = <span>200</span>;</td>
        </tr>
        <tr>
          <td id="L7392" data-line-number="7392"></td>
          <td id="LC7392">
</td>
        </tr>
        <tr>
          <td id="L7393" data-line-number="7393"></td>
          <td id="LC7393">
</td>
        </tr>
        <tr>
          <td id="L7394" data-line-number="7394"></td>
          <td id="LC7394"><span>int</span> <span>Notepad_plus::getRandomAction</span>(<span>int</span> ranNum)</td>
        </tr>
        <tr>
          <td id="L7395" data-line-number="7395"></td>
          <td id="LC7395">{</td>
        </tr>
        <tr>
          <td id="L7396" data-line-number="7396"></td>
          <td id="LC7396">	<span>return</span> actionArray[ranNum % nbAct];</td>
        </tr>
        <tr>
          <td id="L7397" data-line-number="7397"></td>
          <td id="LC7397">}</td>
        </tr>
        <tr>
          <td id="L7398" data-line-number="7398"></td>
          <td id="LC7398">
</td>
        </tr>
        <tr>
          <td id="L7399" data-line-number="7399"></td>
          <td id="LC7399">
</td>
        </tr>
        <tr>
          <td id="L7400" data-line-number="7400"></td>
          <td id="LC7400"><span>bool</span> <span>isInList</span>(<span>int</span> elem, vector&lt;<span>int</span>&gt; elemList)</td>
        </tr>
        <tr>
          <td id="L7401" data-line-number="7401"></td>
          <td id="LC7401">{</td>
        </tr>
        <tr>
          <td id="L7402" data-line-number="7402"></td>
          <td id="LC7402">	<span>for</span> (<span>size_t</span> i = <span>0</span>, len = elemList.<span>size</span>(); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L7403" data-line-number="7403"></td>
          <td id="LC7403">	{</td>
        </tr>
        <tr>
          <td id="L7404" data-line-number="7404"></td>
          <td id="LC7404">		<span>if</span> (elem == elemList[i])</td>
        </tr>
        <tr>
          <td id="L7405" data-line-number="7405"></td>
          <td id="LC7405">			<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L7406" data-line-number="7406"></td>
          <td id="LC7406">	}</td>
        </tr>
        <tr>
          <td id="L7407" data-line-number="7407"></td>
          <td id="LC7407">	<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L7408" data-line-number="7408"></td>
          <td id="LC7408">}</td>
        </tr>
        <tr>
          <td id="L7409" data-line-number="7409"></td>
          <td id="LC7409">
</td>
        </tr>
        <tr>
          <td id="L7410" data-line-number="7410"></td>
          <td id="LC7410">
</td>
        </tr>
        <tr>
          <td id="L7411" data-line-number="7411"></td>
          <td id="LC7411">DWORD WINAPI <span>Notepad_plus::threadTextPlayer</span>(<span>void</span> *params)</td>
        </tr>
        <tr>
          <td id="L7412" data-line-number="7412"></td>
          <td id="LC7412">{</td>
        </tr>
        <tr>
          <td id="L7413" data-line-number="7413"></td>
          <td id="LC7413">	<span><span>//</span> random seed generation needs only one time.</span></td>
        </tr>
        <tr>
          <td id="L7414" data-line-number="7414"></td>
          <td id="LC7414">	<span>srand</span>(<span>static_cast</span>&lt;UINT&gt;(<span>time</span>(<span>NULL</span>)));</td>
        </tr>
        <tr>
          <td id="L7415" data-line-number="7415"></td>
          <td id="LC7415">
</td>
        </tr>
        <tr>
          <td id="L7416" data-line-number="7416"></td>
          <td id="LC7416">	TextPlayerParams* textPlayerParams = <span>static_cast</span>&lt;TextPlayerParams*&gt;(params);</td>
        </tr>
        <tr>
          <td id="L7417" data-line-number="7417"></td>
          <td id="LC7417">	HWND hNpp = textPlayerParams-&gt;<span>_nppHandle</span>;</td>
        </tr>
        <tr>
          <td id="L7418" data-line-number="7418"></td>
          <td id="LC7418">	ScintillaEditView *pCurrentView = textPlayerParams-&gt;<span>_pCurrentView</span>;</td>
        </tr>
        <tr>
          <td id="L7419" data-line-number="7419"></td>
          <td id="LC7419">	QuoteParams* qParams = textPlayerParams-&gt;<span>_quotParams</span>;</td>
        </tr>
        <tr>
          <td id="L7420" data-line-number="7420"></td>
          <td id="LC7420">	<span>const</span> <span>wchar_t</span>* text2display = qParams-&gt;<span>_quote</span>;</td>
        </tr>
        <tr>
          <td id="L7421" data-line-number="7421"></td>
          <td id="LC7421">	<span>bool</span> shouldBeTrolling = qParams-&gt;<span>_shouldBeTrolling</span>;</td>
        </tr>
        <tr>
          <td id="L7422" data-line-number="7422"></td>
          <td id="LC7422">
</td>
        </tr>
        <tr>
          <td id="L7423" data-line-number="7423"></td>
          <td id="LC7423">	<span><span>//</span> Open a new document</span></td>
        </tr>
        <tr>
          <td id="L7424" data-line-number="7424"></td>
          <td id="LC7424">    <span>::SendMessage</span>(hNpp, NPPM_MENUCOMMAND, <span>0</span>, IDM_FILE_NEW);</td>
        </tr>
        <tr>
          <td id="L7425" data-line-number="7425"></td>
          <td id="LC7425">
</td>
        </tr>
        <tr>
          <td id="L7426" data-line-number="7426"></td>
          <td id="LC7426">	<span>if</span> (qParams-&gt;<span>_encoding</span> == SC_CP_UTF8)</td>
        </tr>
        <tr>
          <td id="L7427" data-line-number="7427"></td>
          <td id="LC7427">		<span>::SendMessage</span>(hNpp, NPPM_MENUCOMMAND, <span>0</span>, IDM_FORMAT_AS_UTF_8);</td>
        </tr>
        <tr>
          <td id="L7428" data-line-number="7428"></td>
          <td id="LC7428">	<span>else</span> <span>if</span> (qParams-&gt;<span>_encoding</span> &gt;= <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L7429" data-line-number="7429"></td>
          <td id="LC7429">		pCurrentView-&gt;<span>execute</span>(SCI_SETCODEPAGE, qParams-&gt;<span>_encoding</span>);</td>
        </tr>
        <tr>
          <td id="L7430" data-line-number="7430"></td>
          <td id="LC7430">
</td>
        </tr>
        <tr>
          <td id="L7431" data-line-number="7431"></td>
          <td id="LC7431">	<span>int</span> langMenuId = (<span>NppParameters::getInstance</span>()).<span>langTypeToCommandID</span>(qParams-&gt;<span>_lang</span>);</td>
        </tr>
        <tr>
          <td id="L7432" data-line-number="7432"></td>
          <td id="LC7432">	<span>::SendMessage</span>(hNpp, NPPM_MENUCOMMAND, <span>0</span>, langMenuId);</td>
        </tr>
        <tr>
          <td id="L7433" data-line-number="7433"></td>
          <td id="LC7433">
</td>
        </tr>
        <tr>
          <td id="L7434" data-line-number="7434"></td>
          <td id="LC7434">	<span>int</span> x = <span>2</span>, y = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7435" data-line-number="7435"></td>
          <td id="LC7435">	<span>if</span> (qParams-&gt;<span>_speed</span> == QuoteParams::slow)</td>
        </tr>
        <tr>
          <td id="L7436" data-line-number="7436"></td>
          <td id="LC7436">	{</td>
        </tr>
        <tr>
          <td id="L7437" data-line-number="7437"></td>
          <td id="LC7437">		x = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7438" data-line-number="7438"></td>
          <td id="LC7438">		y = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7439" data-line-number="7439"></td>
          <td id="LC7439">	}</td>
        </tr>
        <tr>
          <td id="L7440" data-line-number="7440"></td>
          <td id="LC7440">	<span>else</span> <span>if</span> (qParams-&gt;<span>_speed</span> == QuoteParams::rapid)</td>
        </tr>
        <tr>
          <td id="L7441" data-line-number="7441"></td>
          <td id="LC7441">	{</td>
        </tr>
        <tr>
          <td id="L7442" data-line-number="7442"></td>
          <td id="LC7442">		x = <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L7443" data-line-number="7443"></td>
          <td id="LC7443">		y = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7444" data-line-number="7444"></td>
          <td id="LC7444">	}</td>
        </tr>
        <tr>
          <td id="L7445" data-line-number="7445"></td>
          <td id="LC7445">	<span>else</span> <span>if</span> (qParams-&gt;<span>_speed</span> == QuoteParams::speedOfLight)</td>
        </tr>
        <tr>
          <td id="L7446" data-line-number="7446"></td>
          <td id="LC7446">	{</td>
        </tr>
        <tr>
          <td id="L7447" data-line-number="7447"></td>
          <td id="LC7447">		x = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7448" data-line-number="7448"></td>
          <td id="LC7448">		y = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L7449" data-line-number="7449"></td>
          <td id="LC7449">	}</td>
        </tr>
        <tr>
          <td id="L7450" data-line-number="7450"></td>
          <td id="LC7450">
</td>
        </tr>
        <tr>
          <td id="L7451" data-line-number="7451"></td>
          <td id="LC7451">	<span>static</span> TextTrollerParams trollerParams;</td>
        </tr>
        <tr>
          <td id="L7452" data-line-number="7452"></td>
          <td id="LC7452">	trollerParams.<span>_pCurrentView</span> = pCurrentView;</td>
        </tr>
        <tr>
          <td id="L7453" data-line-number="7453"></td>
          <td id="LC7453">	BufferID targetBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7454" data-line-number="7454"></td>
          <td id="LC7454">	trollerParams.<span>_targetBufID</span> = targetBufID;</td>
        </tr>
        <tr>
          <td id="L7455" data-line-number="7455"></td>
          <td id="LC7455">	HANDLE mutex = ::<span>CreateMutex</span>(<span>NULL</span>, <span>false</span>, <span>TEXT</span>(<span><span>&#34;</span>nppTextWriter<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L7456" data-line-number="7456"></td>
          <td id="LC7456">	trollerParams.<span>_mutex</span> = mutex;</td>
        </tr>
        <tr>
          <td id="L7457" data-line-number="7457"></td>
          <td id="LC7457">
</td>
        </tr>
        <tr>
          <td id="L7458" data-line-number="7458"></td>
          <td id="LC7458">    <span><span>//</span> Get the current scintilla</span></td>
        </tr>
        <tr>
          <td id="L7459" data-line-number="7459"></td>
          <td id="LC7459">    HWND curScintilla = pCurrentView-&gt;<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L7460" data-line-number="7460"></td>
          <td id="LC7460">	<span>const</span> <span>int</span> nbMaxTrolling = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7461" data-line-number="7461"></td>
          <td id="LC7461">	<span>int</span> nbTrolling = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L7462" data-line-number="7462"></td>
          <td id="LC7462">	vector&lt;<span>int</span>&gt; generatedRans;</td>
        </tr>
        <tr>
          <td id="L7463" data-line-number="7463"></td>
          <td id="LC7463">	<span>wchar_t</span> previousChar = <span><span>&#39;</span><span>\0</span><span>&#39;</span></span>;</td>
        </tr>
        <tr>
          <td id="L7464" data-line-number="7464"></td>
          <td id="LC7464">
</td>
        </tr>
        <tr>
          <td id="L7465" data-line-number="7465"></td>
          <td id="LC7465">	<span>for</span> (<span>size_t</span> i = <span>0</span>, len = <span>lstrlen</span>(text2display); i &lt; len ; ++i)</td>
        </tr>
        <tr>
          <td id="L7466" data-line-number="7466"></td>
          <td id="LC7466">    {</td>
        </tr>
        <tr>
          <td id="L7467" data-line-number="7467"></td>
          <td id="LC7467">		<span>int</span> ranNum = <span>getRandomNumber</span>(maxRange);</td>
        </tr>
        <tr>
          <td id="L7468" data-line-number="7468"></td>
          <td id="LC7468">		<span>int</span> action = act_doNothing;</td>
        </tr>
        <tr>
          <td id="L7469" data-line-number="7469"></td>
          <td id="LC7469">
</td>
        </tr>
        <tr>
          <td id="L7470" data-line-number="7470"></td>
          <td id="LC7470">		<span>if</span> (shouldBeTrolling &amp;&amp; (i &gt; <span>20</span> &amp;&amp; previousChar == <span><span>&#39;</span> <span>&#39;</span></span>) &amp;&amp; nbTrolling &lt; nbMaxTrolling)</td>
        </tr>
        <tr>
          <td id="L7471" data-line-number="7471"></td>
          <td id="LC7471">		{</td>
        </tr>
        <tr>
          <td id="L7472" data-line-number="7472"></td>
          <td id="LC7472">			action = <span>getRandomAction</span>(ranNum);</td>
        </tr>
        <tr>
          <td id="L7473" data-line-number="7473"></td>
          <td id="LC7473">			<span><span>//</span>char toto[64];</span></td>
        </tr>
        <tr>
          <td id="L7474" data-line-number="7474"></td>
          <td id="LC7474">			<span><span>//</span>sprintf(toto, &#34;i == %d    action : %d    current char == %c&#34;, i, action, text2display[i]);</span></td>
        </tr>
        <tr>
          <td id="L7475" data-line-number="7475"></td>
          <td id="LC7475">			<span><span>//</span>writeLog(TEXT(&#34;c:\\tmp\\log.txt&#34;), toto);</span></td>
        </tr>
        <tr>
          <td id="L7476" data-line-number="7476"></td>
          <td id="LC7476">		}</td>
        </tr>
        <tr>
          <td id="L7477" data-line-number="7477"></td>
          <td id="LC7477">
</td>
        </tr>
        <tr>
          <td id="L7478" data-line-number="7478"></td>
          <td id="LC7478">		<span>if</span> (action == act_trolling)</td>
        </tr>
        <tr>
          <td id="L7479" data-line-number="7479"></td>
          <td id="LC7479">		{</td>
        </tr>
        <tr>
          <td id="L7480" data-line-number="7480"></td>
          <td id="LC7480">			<span>int</span> wtfIndex = <span>getRandomNumber</span>() % nbWtf;</td>
        </tr>
        <tr>
          <td id="L7481" data-line-number="7481"></td>
          <td id="LC7481">			<span>if</span> (!<span>isInList</span>(wtfIndex, generatedRans))</td>
        </tr>
        <tr>
          <td id="L7482" data-line-number="7482"></td>
          <td id="LC7482">			{</td>
        </tr>
        <tr>
          <td id="L7483" data-line-number="7483"></td>
          <td id="LC7483">				<span><span>//</span>writeLog(TEXT(&#34;c:\\tmp\\log.txt&#34;), &#34;trolling begin&#34;);</span></td>
        </tr>
        <tr>
          <td id="L7484" data-line-number="7484"></td>
          <td id="LC7484">				generatedRans.<span>push_back</span>(wtfIndex);</td>
        </tr>
        <tr>
          <td id="L7485" data-line-number="7485"></td>
          <td id="LC7485">				++nbTrolling;</td>
        </tr>
        <tr>
          <td id="L7486" data-line-number="7486"></td>
          <td id="LC7486">				trollerParams.<span>_text2display</span> = wtf[wtfIndex];</td>
        </tr>
        <tr>
          <td id="L7487" data-line-number="7487"></td>
          <td id="LC7487">
</td>
        </tr>
        <tr>
          <td id="L7488" data-line-number="7488"></td>
          <td id="LC7488">				<span>ReleaseMutex</span>(mutex);</td>
        </tr>
        <tr>
          <td id="L7489" data-line-number="7489"></td>
          <td id="LC7489">
</td>
        </tr>
        <tr>
          <td id="L7490" data-line-number="7490"></td>
          <td id="LC7490">				HANDLE hThread = ::<span>CreateThread</span>(<span>NULL</span>, <span>0</span>, threadTextTroller, &amp;trollerParams, <span>0</span>, <span>NULL</span>);</td>
        </tr>
        <tr>
          <td id="L7491" data-line-number="7491"></td>
          <td id="LC7491">
</td>
        </tr>
        <tr>
          <td id="L7492" data-line-number="7492"></td>
          <td id="LC7492">				<span>int</span> sleepTime = <span>1000</span> / x * y;</td>
        </tr>
        <tr>
          <td id="L7493" data-line-number="7493"></td>
          <td id="LC7493">				<span>::Sleep</span>(sleepTime);</td>
        </tr>
        <tr>
          <td id="L7494" data-line-number="7494"></td>
          <td id="LC7494">
</td>
        </tr>
        <tr>
          <td id="L7495" data-line-number="7495"></td>
          <td id="LC7495">				<span>WaitForSingleObject</span>(mutex, INFINITE);</td>
        </tr>
        <tr>
          <td id="L7496" data-line-number="7496"></td>
          <td id="LC7496">
</td>
        </tr>
        <tr>
          <td id="L7497" data-line-number="7497"></td>
          <td id="LC7497">				<span>::CloseHandle</span>(hThread);</td>
        </tr>
        <tr>
          <td id="L7498" data-line-number="7498"></td>
          <td id="LC7498">				<span><span>//</span>writeLog(TEXT(&#34;c:\\tmp\\log.txt&#34;), &#34;trolling end&#34;);</span></td>
        </tr>
        <tr>
          <td id="L7499" data-line-number="7499"></td>
          <td id="LC7499">			}</td>
        </tr>
        <tr>
          <td id="L7500" data-line-number="7500"></td>
          <td id="LC7500">		}</td>
        </tr>
        <tr>
          <td id="L7501" data-line-number="7501"></td>
          <td id="LC7501">
</td>
        </tr>
        <tr>
          <td id="L7502" data-line-number="7502"></td>
          <td id="LC7502">
</td>
        </tr>
        <tr>
          <td id="L7503" data-line-number="7503"></td>
          <td id="LC7503">		<span>if</span> (text2display[i] == <span><span>&#39;</span> <span>&#39;</span></span> || text2display[i] == <span><span>&#39;</span>.<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L7504" data-line-number="7504"></td>
          <td id="LC7504">		{</td>
        </tr>
        <tr>
          <td id="L7505" data-line-number="7505"></td>
          <td id="LC7505">			<span>int</span> sleepTime = (ranNum + pauseTimeArray[ranNum%nbPauseTime]) / x * y;</td>
        </tr>
        <tr>
          <td id="L7506" data-line-number="7506"></td>
          <td id="LC7506">			<span>Sleep</span>(sleepTime);</td>
        </tr>
        <tr>
          <td id="L7507" data-line-number="7507"></td>
          <td id="LC7507">		}</td>
        </tr>
        <tr>
          <td id="L7508" data-line-number="7508"></td>
          <td id="LC7508">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L7509" data-line-number="7509"></td>
          <td id="LC7509">		{</td>
        </tr>
        <tr>
          <td id="L7510" data-line-number="7510"></td>
          <td id="LC7510">			<span>int</span> sleepTime = (ranNum + intervalTimeArray[ranNum%nbIntervalTime]) / x * y;</td>
        </tr>
        <tr>
          <td id="L7511" data-line-number="7511"></td>
          <td id="LC7511">			<span>Sleep</span>(sleepTime);</td>
        </tr>
        <tr>
          <td id="L7512" data-line-number="7512"></td>
          <td id="LC7512">		}</td>
        </tr>
        <tr>
          <td id="L7513" data-line-number="7513"></td>
          <td id="LC7513">
</td>
        </tr>
        <tr>
          <td id="L7514" data-line-number="7514"></td>
          <td id="LC7514">		BufferID currentBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7515" data-line-number="7515"></td>
          <td id="LC7515">		<span>if</span> (currentBufID != targetBufID)</td>
        </tr>
        <tr>
          <td id="L7516" data-line-number="7516"></td>
          <td id="LC7516">			<span>return</span> <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L7517" data-line-number="7517"></td>
          <td id="LC7517">
</td>
        </tr>
        <tr>
          <td id="L7518" data-line-number="7518"></td>
          <td id="LC7518">		<span>char</span> charToShow[<span>4</span>] = { <span><span>&#39;</span><span>\0</span><span>&#39;</span></span> };</td>
        </tr>
        <tr>
          <td id="L7519" data-line-number="7519"></td>
          <td id="LC7519">		<span>::WideCharToMultiByte</span>(CP_UTF8, <span>0</span>, text2display + i, <span>1</span>, charToShow, <span>sizeof</span>(charToShow), NULL, NULL);</td>
        </tr>
        <tr>
          <td id="L7520" data-line-number="7520"></td>
          <td id="LC7520">		<span>::SendMessage</span>(curScintilla, SCI_APPENDTEXT, strlen(charToShow), reinterpret_cast&lt;LPARAM&gt;(charToShow));</td>
        </tr>
        <tr>
          <td id="L7521" data-line-number="7521"></td>
          <td id="LC7521">		<span>::SendMessage</span>(curScintilla, SCI_GOTOPOS, ::SendMessage(curScintilla, SCI_GETLENGTH, <span>0</span>, <span>0</span>), 0);</td>
        </tr>
        <tr>
          <td id="L7522" data-line-number="7522"></td>
          <td id="LC7522">
</td>
        </tr>
        <tr>
          <td id="L7523" data-line-number="7523"></td>
          <td id="LC7523">		previousChar = text2display[i];</td>
        </tr>
        <tr>
          <td id="L7524" data-line-number="7524"></td>
          <td id="LC7524">		<span><span>//</span>char ch[64];</span></td>
        </tr>
        <tr>
          <td id="L7525" data-line-number="7525"></td>
          <td id="LC7525">		<span><span>//</span>sprintf(ch, &#34;writing char == %c&#34;, text2display[i]);</span></td>
        </tr>
        <tr>
          <td id="L7526" data-line-number="7526"></td>
          <td id="LC7526">		<span><span>//</span>writeLog(TEXT(&#34;c:\\tmp\\log.txt&#34;), ch);</span></td>
        </tr>
        <tr>
          <td id="L7527" data-line-number="7527"></td>
          <td id="LC7527">    }</td>
        </tr>
        <tr>
          <td id="L7528" data-line-number="7528"></td>
          <td id="LC7528">
</td>
        </tr>
        <tr>
          <td id="L7529" data-line-number="7529"></td>
          <td id="LC7529">	<span><span>//</span>writeLog(TEXT(&#34;c:\\tmp\\log.txt&#34;), &#34;\n\n\n\n&#34;);</span></td>
        </tr>
        <tr>
          <td id="L7530" data-line-number="7530"></td>
          <td id="LC7530">	<span>const</span> <span>wchar_t</span>* quoter = qParams-&gt;<span>_quoter</span>;</td>
        </tr>
        <tr>
          <td id="L7531" data-line-number="7531"></td>
          <td id="LC7531">	wstring quoter_str = quoter;</td>
        </tr>
        <tr>
          <td id="L7532" data-line-number="7532"></td>
          <td id="LC7532">	<span>size_t</span> pos = quoter_str.<span>find</span>(<span>TEXT</span>(<span><span>&#34;</span>Anonymous<span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L7533" data-line-number="7533"></td>
          <td id="LC7533">	<span>if</span> (pos == string::npos)</td>
        </tr>
        <tr>
          <td id="L7534" data-line-number="7534"></td>
          <td id="LC7534">	{</td>
        </tr>
        <tr>
          <td id="L7535" data-line-number="7535"></td>
          <td id="LC7535">		<span>::SendMessage</span>(curScintilla, SCI_APPENDTEXT, <span>3</span>, <span>reinterpret_cast</span>&lt;LPARAM&gt;(<span><span>&#34;</span><span>\n</span>- <span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L7536" data-line-number="7536"></td>
          <td id="LC7536">		<span>::SendMessage</span>(curScintilla, SCI_GOTOPOS, ::SendMessage(curScintilla, SCI_GETLENGTH, <span>0</span>, <span>0</span>), 0);</td>
        </tr>
        <tr>
          <td id="L7537" data-line-number="7537"></td>
          <td id="LC7537">
</td>
        </tr>
        <tr>
          <td id="L7538" data-line-number="7538"></td>
          <td id="LC7538">		<span><span>//</span> Display quoter</span></td>
        </tr>
        <tr>
          <td id="L7539" data-line-number="7539"></td>
          <td id="LC7539">		<span>for</span> (<span>size_t</span> i = <span>0</span>, len = <span>lstrlen</span>(quoter); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L7540" data-line-number="7540"></td>
          <td id="LC7540">		{</td>
        </tr>
        <tr>
          <td id="L7541" data-line-number="7541"></td>
          <td id="LC7541">			<span>int</span> ranNum = <span>getRandomNumber</span>(maxRange);</td>
        </tr>
        <tr>
          <td id="L7542" data-line-number="7542"></td>
          <td id="LC7542">
</td>
        </tr>
        <tr>
          <td id="L7543" data-line-number="7543"></td>
          <td id="LC7543">			<span>int</span> sleepTime = (ranNum + intervalTimeArray[ranNum%nbIntervalTime]) / x * y;</td>
        </tr>
        <tr>
          <td id="L7544" data-line-number="7544"></td>
          <td id="LC7544">			<span>Sleep</span>(sleepTime);</td>
        </tr>
        <tr>
          <td id="L7545" data-line-number="7545"></td>
          <td id="LC7545">
</td>
        </tr>
        <tr>
          <td id="L7546" data-line-number="7546"></td>
          <td id="LC7546">			BufferID currentBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7547" data-line-number="7547"></td>
          <td id="LC7547">			<span>if</span> (currentBufID != targetBufID)</td>
        </tr>
        <tr>
          <td id="L7548" data-line-number="7548"></td>
          <td id="LC7548">				<span>return</span> <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L7549" data-line-number="7549"></td>
          <td id="LC7549">
</td>
        </tr>
        <tr>
          <td id="L7550" data-line-number="7550"></td>
          <td id="LC7550">			<span>char</span> charToShow[<span>4</span>] = { <span><span>&#39;</span><span>\0</span><span>&#39;</span></span> };</td>
        </tr>
        <tr>
          <td id="L7551" data-line-number="7551"></td>
          <td id="LC7551">			<span>::WideCharToMultiByte</span>(CP_UTF8, <span>0</span>, quoter + i, <span>1</span>, charToShow, <span>sizeof</span>(charToShow), NULL, NULL);</td>
        </tr>
        <tr>
          <td id="L7552" data-line-number="7552"></td>
          <td id="LC7552">
</td>
        </tr>
        <tr>
          <td id="L7553" data-line-number="7553"></td>
          <td id="LC7553">			<span>::SendMessage</span>(curScintilla, SCI_APPENDTEXT, <span>1</span>, <span>reinterpret_cast</span>&lt;LPARAM&gt;(charToShow));</td>
        </tr>
        <tr>
          <td id="L7554" data-line-number="7554"></td>
          <td id="LC7554">			<span>::SendMessage</span>(curScintilla, SCI_GOTOPOS, ::SendMessage(curScintilla, SCI_GETLENGTH, <span>0</span>, <span>0</span>), 0);</td>
        </tr>
        <tr>
          <td id="L7555" data-line-number="7555"></td>
          <td id="LC7555">
</td>
        </tr>
        <tr>
          <td id="L7556" data-line-number="7556"></td>
          <td id="LC7556">		}</td>
        </tr>
        <tr>
          <td id="L7557" data-line-number="7557"></td>
          <td id="LC7557">	}</td>
        </tr>
        <tr>
          <td id="L7558" data-line-number="7558"></td>
          <td id="LC7558">
</td>
        </tr>
        <tr>
          <td id="L7559" data-line-number="7559"></td>
          <td id="LC7559">    <span>return</span> <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L7560" data-line-number="7560"></td>
          <td id="LC7560">}</td>
        </tr>
        <tr>
          <td id="L7561" data-line-number="7561"></td>
          <td id="LC7561">
</td>
        </tr>
        <tr>
          <td id="L7562" data-line-number="7562"></td>
          <td id="LC7562">
</td>
        </tr>
        <tr>
          <td id="L7563" data-line-number="7563"></td>
          <td id="LC7563">DWORD WINAPI <span>Notepad_plus::threadTextTroller</span>(<span>void</span> *params)</td>
        </tr>
        <tr>
          <td id="L7564" data-line-number="7564"></td>
          <td id="LC7564">{</td>
        </tr>
        <tr>
          <td id="L7565" data-line-number="7565"></td>
          <td id="LC7565">	TextTrollerParams *textTrollerParams = <span>static_cast</span>&lt;TextTrollerParams *&gt;(params);</td>
        </tr>
        <tr>
          <td id="L7566" data-line-number="7566"></td>
          <td id="LC7566">	<span>WaitForSingleObject</span>(textTrollerParams-&gt;<span>_mutex</span>, INFINITE);</td>
        </tr>
        <tr>
          <td id="L7567" data-line-number="7567"></td>
          <td id="LC7567">
</td>
        </tr>
        <tr>
          <td id="L7568" data-line-number="7568"></td>
          <td id="LC7568">	<span><span>//</span> random seed generation needs only one time.</span></td>
        </tr>
        <tr>
          <td id="L7569" data-line-number="7569"></td>
          <td id="LC7569">	<span>srand</span>(<span>static_cast</span>&lt;UINT&gt;(<span>time</span>(<span>NULL</span>)));</td>
        </tr>
        <tr>
          <td id="L7570" data-line-number="7570"></td>
          <td id="LC7570">
</td>
        </tr>
        <tr>
          <td id="L7571" data-line-number="7571"></td>
          <td id="LC7571">	ScintillaEditView *pCurrentView = textTrollerParams-&gt;<span>_pCurrentView</span>;</td>
        </tr>
        <tr>
          <td id="L7572" data-line-number="7572"></td>
          <td id="LC7572">	<span>const</span> <span>wchar_t</span>* text2display = textTrollerParams-&gt;<span>_text2display</span>;</td>
        </tr>
        <tr>
          <td id="L7573" data-line-number="7573"></td>
          <td id="LC7573">	HWND curScintilla = pCurrentView-&gt;<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L7574" data-line-number="7574"></td>
          <td id="LC7574">	BufferID targetBufID = textTrollerParams-&gt;<span>_targetBufID</span>;</td>
        </tr>
        <tr>
          <td id="L7575" data-line-number="7575"></td>
          <td id="LC7575">
</td>
        </tr>
        <tr>
          <td id="L7576" data-line-number="7576"></td>
          <td id="LC7576">	<span>for</span> (<span>size_t</span> i = <span>0</span>, len = <span>lstrlen</span>(text2display); i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L7577" data-line-number="7577"></td>
          <td id="LC7577">    {</td>
        </tr>
        <tr>
          <td id="L7578" data-line-number="7578"></td>
          <td id="LC7578">        <span>int</span> ranNum = <span>getRandomNumber</span>(maxRange);</td>
        </tr>
        <tr>
          <td id="L7579" data-line-number="7579"></td>
          <td id="LC7579">		<span>if</span> (text2display[i] == <span><span>&#39;</span> <span>&#39;</span></span> || text2display[i] == <span><span>&#39;</span>.<span>&#39;</span></span>)</td>
        </tr>
        <tr>
          <td id="L7580" data-line-number="7580"></td>
          <td id="LC7580">			<span>Sleep</span>(ranNum + pauseTimeArray[ranNum%nbPauseTime]);</td>
        </tr>
        <tr>
          <td id="L7581" data-line-number="7581"></td>
          <td id="LC7581">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L7582" data-line-number="7582"></td>
          <td id="LC7582">			<span>Sleep</span>(ranNum + intervalTimeArray[ranNum%nbIntervalTime]);</td>
        </tr>
        <tr>
          <td id="L7583" data-line-number="7583"></td>
          <td id="LC7583">
</td>
        </tr>
        <tr>
          <td id="L7584" data-line-number="7584"></td>
          <td id="LC7584">		BufferID currentBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7585" data-line-number="7585"></td>
          <td id="LC7585">		<span>if</span> (currentBufID != targetBufID)</td>
        </tr>
        <tr>
          <td id="L7586" data-line-number="7586"></td>
          <td id="LC7586">		{</td>
        </tr>
        <tr>
          <td id="L7587" data-line-number="7587"></td>
          <td id="LC7587">			<span>ReleaseMutex</span>(textTrollerParams-&gt;<span>_mutex</span>);</td>
        </tr>
        <tr>
          <td id="L7588" data-line-number="7588"></td>
          <td id="LC7588">			<span>return</span> <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L7589" data-line-number="7589"></td>
          <td id="LC7589">		}</td>
        </tr>
        <tr>
          <td id="L7590" data-line-number="7590"></td>
          <td id="LC7590">
</td>
        </tr>
        <tr>
          <td id="L7591" data-line-number="7591"></td>
          <td id="LC7591">		<span>char</span> charToShow[<span>64</span>] = { <span><span>&#39;</span><span>\0</span><span>&#39;</span></span> };</td>
        </tr>
        <tr>
          <td id="L7592" data-line-number="7592"></td>
          <td id="LC7592">		<span>::WideCharToMultiByte</span>(CP_UTF8, <span>0</span>, text2display + i, <span>1</span>, charToShow, <span>sizeof</span>(charToShow), NULL, NULL);</td>
        </tr>
        <tr>
          <td id="L7593" data-line-number="7593"></td>
          <td id="LC7593">		<span>::SendMessage</span>(curScintilla, SCI_APPENDTEXT, <span>1</span>, <span>reinterpret_cast</span>&lt;LPARAM&gt;(charToShow));</td>
        </tr>
        <tr>
          <td id="L7594" data-line-number="7594"></td>
          <td id="LC7594">		<span>::SendMessage</span>(curScintilla, SCI_GOTOPOS, ::SendMessage(curScintilla, SCI_GETLENGTH, <span>0</span>, <span>0</span>), 0);</td>
        </tr>
        <tr>
          <td id="L7595" data-line-number="7595"></td>
          <td id="LC7595">    }</td>
        </tr>
        <tr>
          <td id="L7596" data-line-number="7596"></td>
          <td id="LC7596">	<span><span>//</span>writeLog(TEXT(&#34;c:\\tmp\\log.txt&#34;), text2display);</span></td>
        </tr>
        <tr>
          <td id="L7597" data-line-number="7597"></td>
          <td id="LC7597">	<span>int</span> n = <span>getRandomNumber</span>();</td>
        </tr>
        <tr>
          <td id="L7598" data-line-number="7598"></td>
          <td id="LC7598">	<span>int</span> delMethod = n%<span>4</span>;</td>
        </tr>
        <tr>
          <td id="L7599" data-line-number="7599"></td>
          <td id="LC7599">	<span>if</span> (delMethod == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L7600" data-line-number="7600"></td>
          <td id="LC7600">	{</td>
        </tr>
        <tr>
          <td id="L7601" data-line-number="7601"></td>
          <td id="LC7601">		<span>size_t</span> len = <span>lstrlen</span>(text2display);</td>
        </tr>
        <tr>
          <td id="L7602" data-line-number="7602"></td>
          <td id="LC7602">		<span>for</span> (<span>size_t</span> j = <span>0</span>; j &lt; len; ++j)</td>
        </tr>
        <tr>
          <td id="L7603" data-line-number="7603"></td>
          <td id="LC7603">		{</td>
        </tr>
        <tr>
          <td id="L7604" data-line-number="7604"></td>
          <td id="LC7604">			<span>if</span> (!<span>deleteBack</span>(pCurrentView, targetBufID))</td>
        </tr>
        <tr>
          <td id="L7605" data-line-number="7605"></td>
          <td id="LC7605">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7606" data-line-number="7606"></td>
          <td id="LC7606">		}</td>
        </tr>
        <tr>
          <td id="L7607" data-line-number="7607"></td>
          <td id="LC7607">	}</td>
        </tr>
        <tr>
          <td id="L7608" data-line-number="7608"></td>
          <td id="LC7608">	<span>else</span> <span>if</span> (delMethod == <span>1</span>)</td>
        </tr>
        <tr>
          <td id="L7609" data-line-number="7609"></td>
          <td id="LC7609">	{</td>
        </tr>
        <tr>
          <td id="L7610" data-line-number="7610"></td>
          <td id="LC7610">		<span>size_t</span> len = <span>lstrlen</span>(text2display);</td>
        </tr>
        <tr>
          <td id="L7611" data-line-number="7611"></td>
          <td id="LC7611">		<span>::SendMessage</span>(curScintilla, SCI_GOTOPOS, ::SendMessage(curScintilla, SCI_GETLENGTH, <span>0</span>, <span>0</span>) - len, 0);</td>
        </tr>
        <tr>
          <td id="L7612" data-line-number="7612"></td>
          <td id="LC7612">		<span>for</span> (<span>size_t</span> j = <span>0</span>; j &lt; len; ++j)</td>
        </tr>
        <tr>
          <td id="L7613" data-line-number="7613"></td>
          <td id="LC7613">		{</td>
        </tr>
        <tr>
          <td id="L7614" data-line-number="7614"></td>
          <td id="LC7614">			<span>if</span> (!<span>deleteForward</span>(pCurrentView, targetBufID))</td>
        </tr>
        <tr>
          <td id="L7615" data-line-number="7615"></td>
          <td id="LC7615">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7616" data-line-number="7616"></td>
          <td id="LC7616">		}</td>
        </tr>
        <tr>
          <td id="L7617" data-line-number="7617"></td>
          <td id="LC7617">	}</td>
        </tr>
        <tr>
          <td id="L7618" data-line-number="7618"></td>
          <td id="LC7618">	<span>else</span> <span>if</span> (delMethod == <span>2</span>)</td>
        </tr>
        <tr>
          <td id="L7619" data-line-number="7619"></td>
          <td id="LC7619">	{</td>
        </tr>
        <tr>
          <td id="L7620" data-line-number="7620"></td>
          <td id="LC7620">		<span>for</span> (<span>size_t</span> j = <span>0</span>, len = <span>lstrlen</span>(text2display); j &lt; len; ++j)</td>
        </tr>
        <tr>
          <td id="L7621" data-line-number="7621"></td>
          <td id="LC7621">		{</td>
        </tr>
        <tr>
          <td id="L7622" data-line-number="7622"></td>
          <td id="LC7622">			<span>if</span> (!<span>selectBack</span>(pCurrentView, targetBufID))</td>
        </tr>
        <tr>
          <td id="L7623" data-line-number="7623"></td>
          <td id="LC7623">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7624" data-line-number="7624"></td>
          <td id="LC7624">		}</td>
        </tr>
        <tr>
          <td id="L7625" data-line-number="7625"></td>
          <td id="LC7625">		<span>int</span> ranNum = <span>getRandomNumber</span>(maxRange);</td>
        </tr>
        <tr>
          <td id="L7626" data-line-number="7626"></td>
          <td id="LC7626">		<span>::Sleep</span>(ranNum + pauseTimeArray[ranNum%nbPauseTime]);</td>
        </tr>
        <tr>
          <td id="L7627" data-line-number="7627"></td>
          <td id="LC7627">		<span>::SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_DELETEBACK, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7628" data-line-number="7628"></td>
          <td id="LC7628">	}</td>
        </tr>
        <tr>
          <td id="L7629" data-line-number="7629"></td>
          <td id="LC7629">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L7630" data-line-number="7630"></td>
          <td id="LC7630">	{</td>
        </tr>
        <tr>
          <td id="L7631" data-line-number="7631"></td>
          <td id="LC7631">		<span>auto</span> currentPos = ::<span>SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_GETSELECTIONSTART, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L7632" data-line-number="7632"></td>
          <td id="LC7632">		<span>::SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_SETSELECTION, currentPos, currentPos - lstrlen(text2display));</td>
        </tr>
        <tr>
          <td id="L7633" data-line-number="7633"></td>
          <td id="LC7633">		BufferID currentBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7634" data-line-number="7634"></td>
          <td id="LC7634">		<span>if</span> (currentBufID != targetBufID)</td>
        </tr>
        <tr>
          <td id="L7635" data-line-number="7635"></td>
          <td id="LC7635">			return TRUE;</td>
        </tr>
        <tr>
          <td id="L7636" data-line-number="7636"></td>
          <td id="LC7636">		<span>int</span> ranNum = <span>getRandomNumber</span>(maxRange);</td>
        </tr>
        <tr>
          <td id="L7637" data-line-number="7637"></td>
          <td id="LC7637">		<span>::Sleep</span>(ranNum + pauseTimeArray[ranNum%nbPauseTime]);</td>
        </tr>
        <tr>
          <td id="L7638" data-line-number="7638"></td>
          <td id="LC7638">		<span>::SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_DELETEBACK, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7639" data-line-number="7639"></td>
          <td id="LC7639">	}</td>
        </tr>
        <tr>
          <td id="L7640" data-line-number="7640"></td>
          <td id="LC7640">
</td>
        </tr>
        <tr>
          <td id="L7641" data-line-number="7641"></td>
          <td id="LC7641">	<span>ReleaseMutex</span>(textTrollerParams-&gt;_mutex);</td>
        </tr>
        <tr>
          <td id="L7642" data-line-number="7642"></td>
          <td id="LC7642">	<span>return</span> <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L7643" data-line-number="7643"></td>
          <td id="LC7643">}</td>
        </tr>
        <tr>
          <td id="L7644" data-line-number="7644"></td>
          <td id="LC7644">
</td>
        </tr>
        <tr>
          <td id="L7645" data-line-number="7645"></td>
          <td id="LC7645">
</td>
        </tr>
        <tr>
          <td id="L7646" data-line-number="7646"></td>
          <td id="LC7646"><span>bool</span> <span>Notepad_plus::deleteBack</span>(ScintillaEditView *pCurrentView, BufferID targetBufID)</td>
        </tr>
        <tr>
          <td id="L7647" data-line-number="7647"></td>
          <td id="LC7647">{</td>
        </tr>
        <tr>
          <td id="L7648" data-line-number="7648"></td>
          <td id="LC7648">	<span>int</span> ranNum = <span>getRandomNumber</span>(maxRange - <span>100</span>);</td>
        </tr>
        <tr>
          <td id="L7649" data-line-number="7649"></td>
          <td id="LC7649">	BufferID currentBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7650" data-line-number="7650"></td>
          <td id="LC7650">	<span>Sleep</span>(ranNum);</td>
        </tr>
        <tr>
          <td id="L7651" data-line-number="7651"></td>
          <td id="LC7651">	<span>if</span> (currentBufID != targetBufID)</td>
        </tr>
        <tr>
          <td id="L7652" data-line-number="7652"></td>
          <td id="LC7652">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L7653" data-line-number="7653"></td>
          <td id="LC7653">	<span>::SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_DELETEBACK, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7654" data-line-number="7654"></td>
          <td id="LC7654">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L7655" data-line-number="7655"></td>
          <td id="LC7655">}</td>
        </tr>
        <tr>
          <td id="L7656" data-line-number="7656"></td>
          <td id="LC7656">
</td>
        </tr>
        <tr>
          <td id="L7657" data-line-number="7657"></td>
          <td id="LC7657">
</td>
        </tr>
        <tr>
          <td id="L7658" data-line-number="7658"></td>
          <td id="LC7658"><span>bool</span> <span>Notepad_plus::deleteForward</span>(ScintillaEditView *pCurrentView, BufferID targetBufID)</td>
        </tr>
        <tr>
          <td id="L7659" data-line-number="7659"></td>
          <td id="LC7659">{</td>
        </tr>
        <tr>
          <td id="L7660" data-line-number="7660"></td>
          <td id="LC7660">	<span>int</span> ranNum = <span>getRandomNumber</span>(maxRange - <span>100</span>);</td>
        </tr>
        <tr>
          <td id="L7661" data-line-number="7661"></td>
          <td id="LC7661">	BufferID currentBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7662" data-line-number="7662"></td>
          <td id="LC7662">	<span>Sleep</span>(ranNum);</td>
        </tr>
        <tr>
          <td id="L7663" data-line-number="7663"></td>
          <td id="LC7663">	<span>if</span> (currentBufID != targetBufID)</td>
        </tr>
        <tr>
          <td id="L7664" data-line-number="7664"></td>
          <td id="LC7664">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L7665" data-line-number="7665"></td>
          <td id="LC7665">	<span>::SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_GOTOPOS, ::SendMessage(pCurrentView-&gt;<span>getHSelf</span>(), SCI_GETCURRENTPOS, 0, 0) + 1, 0);</td>
        </tr>
        <tr>
          <td id="L7666" data-line-number="7666"></td>
          <td id="LC7666">	<span>::SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_DELETEBACK, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7667" data-line-number="7667"></td>
          <td id="LC7667">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L7668" data-line-number="7668"></td>
          <td id="LC7668">}</td>
        </tr>
        <tr>
          <td id="L7669" data-line-number="7669"></td>
          <td id="LC7669">
</td>
        </tr>
        <tr>
          <td id="L7670" data-line-number="7670"></td>
          <td id="LC7670">
</td>
        </tr>
        <tr>
          <td id="L7671" data-line-number="7671"></td>
          <td id="LC7671"><span>bool</span> <span>Notepad_plus::selectBack</span>(ScintillaEditView *pCurrentView, BufferID targetBufID)</td>
        </tr>
        <tr>
          <td id="L7672" data-line-number="7672"></td>
          <td id="LC7672">{</td>
        </tr>
        <tr>
          <td id="L7673" data-line-number="7673"></td>
          <td id="LC7673">	<span>int</span> ranNum = <span>getRandomNumber</span>(maxRange - <span>100</span>);</td>
        </tr>
        <tr>
          <td id="L7674" data-line-number="7674"></td>
          <td id="LC7674">	BufferID currentBufID = pCurrentView-&gt;<span>getCurrentBufferID</span>();</td>
        </tr>
        <tr>
          <td id="L7675" data-line-number="7675"></td>
          <td id="LC7675">	<span>auto</span> currentPos = ::<span>SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_GETSELECTIONSTART, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L7676" data-line-number="7676"></td>
          <td id="LC7676">	<span>auto</span> currentAnchor = ::<span>SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_GETSELECTIONEND, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L7677" data-line-number="7677"></td>
          <td id="LC7677">	<span>Sleep</span>(ranNum + intervalTimeArray[ranNum%nbIntervalTime]);</td>
        </tr>
        <tr>
          <td id="L7678" data-line-number="7678"></td>
          <td id="LC7678">	<span>if</span> (currentBufID != targetBufID)</td>
        </tr>
        <tr>
          <td id="L7679" data-line-number="7679"></td>
          <td id="LC7679">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L7680" data-line-number="7680"></td>
          <td id="LC7680">
</td>
        </tr>
        <tr>
          <td id="L7681" data-line-number="7681"></td>
          <td id="LC7681">	<span>::SendMessage</span>(pCurrentView-&gt;<span>getHSelf</span>(), SCI_SETSELECTION, currentAnchor, --currentPos);</td>
        </tr>
        <tr>
          <td id="L7682" data-line-number="7682"></td>
          <td id="LC7682">	<span>return</span> <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L7683" data-line-number="7683"></td>
          <td id="LC7683">}</td>
        </tr>
        <tr>
          <td id="L7684" data-line-number="7684"></td>
          <td id="LC7684">
</td>
        </tr>
        <tr>
          <td id="L7685" data-line-number="7685"></td>
          <td id="LC7685">
</td>
        </tr>
        <tr>
          <td id="L7686" data-line-number="7686"></td>
          <td id="LC7686"><span>int</span> <span>Notepad_plus::getQuoteIndexFrom</span>(<span>const</span> <span>wchar_t</span>* quoter) <span>const</span></td>
        </tr>
        <tr>
          <td id="L7687" data-line-number="7687"></td>
          <td id="LC7687">{</td>
        </tr>
        <tr>
          <td id="L7688" data-line-number="7688"></td>
          <td id="LC7688">	<span>if</span> (!quoter)</td>
        </tr>
        <tr>
          <td id="L7689" data-line-number="7689"></td>
          <td id="LC7689">		<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7690" data-line-number="7690"></td>
          <td id="LC7690">
</td>
        </tr>
        <tr>
          <td id="L7691" data-line-number="7691"></td>
          <td id="LC7691">	<span>if</span> (<span>wcsicmp</span>(quoter, <span>TEXT</span>(<span><span>&#34;</span>Get them all!!!<span>&#34;</span></span>)) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L7692" data-line-number="7692"></td>
          <td id="LC7692">		<span>return</span> -<span>2</span>;</td>
        </tr>
        <tr>
          <td id="L7693" data-line-number="7693"></td>
          <td id="LC7693">
</td>
        </tr>
        <tr>
          <td id="L7694" data-line-number="7694"></td>
          <td id="LC7694">	<span>int</span> nbQuote = <span>sizeof</span>(quotes) / <span>sizeof</span>(QuoteParams);</td>
        </tr>
        <tr>
          <td id="L7695" data-line-number="7695"></td>
          <td id="LC7695">	<span>if</span> (<span>wcsicmp</span>(quoter, <span>TEXT</span>(<span><span>&#34;</span>random<span>&#34;</span></span>)) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L7696" data-line-number="7696"></td>
          <td id="LC7696">	{</td>
        </tr>
        <tr>
          <td id="L7697" data-line-number="7697"></td>
          <td id="LC7697">		<span>srand</span>(<span>static_cast</span>&lt;UINT&gt;(<span>time</span>(<span>NULL</span>)));</td>
        </tr>
        <tr>
          <td id="L7698" data-line-number="7698"></td>
          <td id="LC7698">		<span>return</span> <span>getRandomNumber</span>(nbQuote);</td>
        </tr>
        <tr>
          <td id="L7699" data-line-number="7699"></td>
          <td id="LC7699">	}</td>
        </tr>
        <tr>
          <td id="L7700" data-line-number="7700"></td>
          <td id="LC7700">
</td>
        </tr>
        <tr>
          <td id="L7701" data-line-number="7701"></td>
          <td id="LC7701">	<span>for</span> (<span>int</span> i = <span>0</span>; i &lt; nbQuote; ++i)</td>
        </tr>
        <tr>
          <td id="L7702" data-line-number="7702"></td>
          <td id="LC7702">	{</td>
        </tr>
        <tr>
          <td id="L7703" data-line-number="7703"></td>
          <td id="LC7703">		<span>if</span> (<span>wcsicmp</span>(quotes[i].<span>_quoter</span>, quoter) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L7704" data-line-number="7704"></td>
          <td id="LC7704">			<span>return</span> i;</td>
        </tr>
        <tr>
          <td id="L7705" data-line-number="7705"></td>
          <td id="LC7705">	}</td>
        </tr>
        <tr>
          <td id="L7706" data-line-number="7706"></td>
          <td id="LC7706">	<span>return</span> -<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L7707" data-line-number="7707"></td>
          <td id="LC7707">}</td>
        </tr>
        <tr>
          <td id="L7708" data-line-number="7708"></td>
          <td id="LC7708">
</td>
        </tr>
        <tr>
          <td id="L7709" data-line-number="7709"></td>
          <td id="LC7709">
</td>
        </tr>
        <tr>
          <td id="L7710" data-line-number="7710"></td>
          <td id="LC7710"><span>void</span> <span>Notepad_plus::showAllQuotes</span>() <span>const</span></td>
        </tr>
        <tr>
          <td id="L7711" data-line-number="7711"></td>
          <td id="LC7711">{</td>
        </tr>
        <tr>
          <td id="L7712" data-line-number="7712"></td>
          <td id="LC7712">}</td>
        </tr>
        <tr>
          <td id="L7713" data-line-number="7713"></td>
          <td id="LC7713">
</td>
        </tr>
        <tr>
          <td id="L7714" data-line-number="7714"></td>
          <td id="LC7714">
</td>
        </tr>
        <tr>
          <td id="L7715" data-line-number="7715"></td>
          <td id="LC7715"><span>void</span> <span>Notepad_plus::showQuoteFromIndex</span>(<span>int</span> index) <span>const</span></td>
        </tr>
        <tr>
          <td id="L7716" data-line-number="7716"></td>
          <td id="LC7716">{</td>
        </tr>
        <tr>
          <td id="L7717" data-line-number="7717"></td>
          <td id="LC7717">	<span>int</span> nbQuote = <span>sizeof</span>(quotes) / <span>sizeof</span>(QuoteParams);</td>
        </tr>
        <tr>
          <td id="L7718" data-line-number="7718"></td>
          <td id="LC7718">	<span>if</span> (<span>index</span> &lt; <span>0</span> || <span>index</span> &gt;= nbQuote) <span>return</span>;</td>
        </tr>
        <tr>
          <td id="L7719" data-line-number="7719"></td>
          <td id="LC7719">	<span>showQuote</span>(&amp;quotes[<span>index</span>]);</td>
        </tr>
        <tr>
          <td id="L7720" data-line-number="7720"></td>
          <td id="LC7720">}</td>
        </tr>
        <tr>
          <td id="L7721" data-line-number="7721"></td>
          <td id="LC7721">
</td>
        </tr>
        <tr>
          <td id="L7722" data-line-number="7722"></td>
          <td id="LC7722"><span>void</span> <span>Notepad_plus::showQuote</span>(<span>const</span> QuoteParams* quote) <span>const</span></td>
        </tr>
        <tr>
          <td id="L7723" data-line-number="7723"></td>
          <td id="LC7723">{</td>
        </tr>
        <tr>
          <td id="L7724" data-line-number="7724"></td>
          <td id="LC7724">	<span>static</span> TextPlayerParams params;</td>
        </tr>
        <tr>
          <td id="L7725" data-line-number="7725"></td>
          <td id="LC7725">	params.<span>_quotParams</span> = <span>const_cast</span>&lt;QuoteParams*&gt;(quote);</td>
        </tr>
        <tr>
          <td id="L7726" data-line-number="7726"></td>
          <td id="LC7726">	params.<span>_nppHandle</span> = Notepad_plus::_pPublicInterface-&gt;<span>getHSelf</span>();</td>
        </tr>
        <tr>
          <td id="L7727" data-line-number="7727"></td>
          <td id="LC7727">	params.<span>_pCurrentView</span> = _pEditView;</td>
        </tr>
        <tr>
          <td id="L7728" data-line-number="7728"></td>
          <td id="LC7728">
</td>
        </tr>
        <tr>
          <td id="L7729" data-line-number="7729"></td>
          <td id="LC7729">	HANDLE hThread = ::<span>CreateThread</span>(<span>NULL</span>, <span>0</span>, threadTextPlayer, &amp;params, <span>0</span>, <span>NULL</span>);</td>
        </tr>
        <tr>
          <td id="L7730" data-line-number="7730"></td>
          <td id="LC7730">	<span>if</span> (hThread)</td>
        </tr>
        <tr>
          <td id="L7731" data-line-number="7731"></td>
          <td id="LC7731">		<span>::CloseHandle</span>(hThread);</td>
        </tr>
        <tr>
          <td id="L7732" data-line-number="7732"></td>
          <td id="LC7732">}</td>
        </tr>
        <tr>
          <td id="L7733" data-line-number="7733"></td>
          <td id="LC7733">
</td>
        </tr>
        <tr>
          <td id="L7734" data-line-number="7734"></td>
          <td id="LC7734"><span>void</span> <span>Notepad_plus::minimizeDialogs</span>()</td>
        </tr>
        <tr>
          <td id="L7735" data-line-number="7735"></td>
          <td id="LC7735">{</td>
        </tr>
        <tr>
          <td id="L7736" data-line-number="7736"></td>
          <td id="LC7736">	<span>static</span> StaticDialog* modelessDlgs[] = {&amp;_findReplaceDlg, &amp;_aboutDlg, &amp;_debugInfoDlg, &amp;_runDlg, &amp;_goToLineDlg, &amp;_colEditorDlg, &amp;_configStyleDlg,\</td>
        </tr>
        <tr>
          <td id="L7737" data-line-number="7737"></td>
          <td id="LC7737">		&amp;_preference, &amp;_pluginsAdminDlg, &amp;_findCharsInRangeDlg, &amp;_md5FromFilesDlg, &amp;_md5FromTextDlg, &amp;_sha2FromFilesDlg, &amp;_sha2FromTextDlg, &amp;_runMacroDlg};</td>
        </tr>
        <tr>
          <td id="L7738" data-line-number="7738"></td>
          <td id="LC7738">	</td>
        </tr>
        <tr>
          <td id="L7739" data-line-number="7739"></td>
          <td id="LC7739">	<span>static</span> <span>size_t</span> nbModelessDlg = <span>sizeof</span>(modelessDlgs) / <span>sizeof</span>(StaticDialog*);</td>
        </tr>
        <tr>
          <td id="L7740" data-line-number="7740"></td>
          <td id="LC7740">
</td>
        </tr>
        <tr>
          <td id="L7741" data-line-number="7741"></td>
          <td id="LC7741">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; nbModelessDlg; ++i)</td>
        </tr>
        <tr>
          <td id="L7742" data-line-number="7742"></td>
          <td id="LC7742">	{</td>
        </tr>
        <tr>
          <td id="L7743" data-line-number="7743"></td>
          <td id="LC7743">		StaticDialog* pDlg = modelessDlgs[i];</td>
        </tr>
        <tr>
          <td id="L7744" data-line-number="7744"></td>
          <td id="LC7744">		<span>if</span> (pDlg-&gt;<span>isCreated</span>() &amp;&amp; pDlg-&gt;<span>isVisible</span>())</td>
        </tr>
        <tr>
          <td id="L7745" data-line-number="7745"></td>
          <td id="LC7745">		{</td>
        </tr>
        <tr>
          <td id="L7746" data-line-number="7746"></td>
          <td id="LC7746">			pDlg-&gt;<span>display</span>(<span>false</span>);</td>
        </tr>
        <tr>
          <td id="L7747" data-line-number="7747"></td>
          <td id="LC7747">			_sysTrayHiddenHwnd.<span>push_back</span>(pDlg-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L7748" data-line-number="7748"></td>
          <td id="LC7748">		}</td>
        </tr>
        <tr>
          <td id="L7749" data-line-number="7749"></td>
          <td id="LC7749">	}</td>
        </tr>
        <tr>
          <td id="L7750" data-line-number="7750"></td>
          <td id="LC7750">}</td>
        </tr>
        <tr>
          <td id="L7751" data-line-number="7751"></td>
          <td id="LC7751">
</td>
        </tr>
        <tr>
          <td id="L7752" data-line-number="7752"></td>
          <td id="LC7752"><span>void</span> <span>Notepad_plus::restoreMinimizeDialogs</span>()</td>
        </tr>
        <tr>
          <td id="L7753" data-line-number="7753"></td>
          <td id="LC7753">{</td>
        </tr>
        <tr>
          <td id="L7754" data-line-number="7754"></td>
          <td id="LC7754">	<span>size_t</span> nbDialogs = _sysTrayHiddenHwnd.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L7755" data-line-number="7755"></td>
          <td id="LC7755">	<span>for</span> (<span>int</span> i = (<span>static_cast</span>&lt;<span>int</span>&gt;(nbDialogs) - <span>1</span>); i &gt;= <span>0</span>; i--)</td>
        </tr>
        <tr>
          <td id="L7756" data-line-number="7756"></td>
          <td id="LC7756">	{</td>
        </tr>
        <tr>
          <td id="L7757" data-line-number="7757"></td>
          <td id="LC7757">		<span>::ShowWindow</span>(_sysTrayHiddenHwnd[i], SW_SHOW);</td>
        </tr>
        <tr>
          <td id="L7758" data-line-number="7758"></td>
          <td id="LC7758">		_sysTrayHiddenHwnd.<span>erase</span>(_sysTrayHiddenHwnd.<span>begin</span>() + i);</td>
        </tr>
        <tr>
          <td id="L7759" data-line-number="7759"></td>
          <td id="LC7759">	}</td>
        </tr>
        <tr>
          <td id="L7760" data-line-number="7760"></td>
          <td id="LC7760">}</td>
        </tr>
        <tr>
          <td id="L7761" data-line-number="7761"></td>
          <td id="LC7761">
</td>
        </tr>
        <tr>
          <td id="L7762" data-line-number="7762"></td>
          <td id="LC7762"><span>void</span> <span>Notepad_plus::refreshDarkMode</span>(<span>bool</span> resetStyle)</td>
        </tr>
        <tr>
          <td id="L7763" data-line-number="7763"></td>
          <td id="LC7763">{</td>
        </tr>
        <tr>
          <td id="L7764" data-line-number="7764"></td>
          <td id="LC7764">	<span>if</span> (resetStyle)</td>
        </tr>
        <tr>
          <td id="L7765" data-line-number="7765"></td>
          <td id="LC7765">	{</td>
        </tr>
        <tr>
          <td id="L7766" data-line-number="7766"></td>
          <td id="LC7766">		NppParameters&amp; nppParams = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L7767" data-line-number="7767"></td>
          <td id="LC7767">
</td>
        </tr>
        <tr>
          <td id="L7768" data-line-number="7768"></td>
          <td id="LC7768">		<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_SETEDITORBORDEREDGE, 0, nppParams.getSVP()._showBorderEdge);</td>
        </tr>
        <tr>
          <td id="L7769" data-line-number="7769"></td>
          <td id="LC7769">
</td>
        </tr>
        <tr>
          <td id="L7770" data-line-number="7770"></td>
          <td id="LC7770">		<span>::SendMessage</span>(_subEditView.getHSelf(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7771" data-line-number="7771"></td>
          <td id="LC7771">		<span>::SendMessage</span>(_mainEditView.getHSelf(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7772" data-line-number="7772"></td>
          <td id="LC7772">
</td>
        </tr>
        <tr>
          <td id="L7773" data-line-number="7773"></td>
          <td id="LC7773">		<span>::SendMessage</span>(_mainDocTab.getHSelf(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7774" data-line-number="7774"></td>
          <td id="LC7774">		<span>::SendMessage</span>(_subDocTab.getHSelf(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7775" data-line-number="7775"></td>
          <td id="LC7775">
</td>
        </tr>
        <tr>
          <td id="L7776" data-line-number="7776"></td>
          <td id="LC7776">		<span>::SendMessage</span>(_findInFinderDlg.getHSelf(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7777" data-line-number="7777"></td>
          <td id="LC7777">		<span>::RedrawWindow</span>(_findInFinderDlg.getHSelf(), nullptr, nullptr, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN);</td>
        </tr>
        <tr>
          <td id="L7778" data-line-number="7778"></td>
          <td id="LC7778">
</td>
        </tr>
        <tr>
          <td id="L7779" data-line-number="7779"></td>
          <td id="LC7779">		<span>::SendMessage</span>(_incrementFindDlg.getHSelf(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7780" data-line-number="7780"></td>
          <td id="LC7780">		<span>::RedrawWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), nullptr, nullptr, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN);</td>
        </tr>
        <tr>
          <td id="L7781" data-line-number="7781"></td>
          <td id="LC7781">
</td>
        </tr>
        <tr>
          <td id="L7782" data-line-number="7782"></td>
          <td id="LC7782">		<span>if</span> (_pProjectPanel_1)</td>
        </tr>
        <tr>
          <td id="L7783" data-line-number="7783"></td>
          <td id="LC7783">		{</td>
        </tr>
        <tr>
          <td id="L7784" data-line-number="7784"></td>
          <td id="LC7784">			<span>::SendMessage</span>(_pProjectPanel_1-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7785" data-line-number="7785"></td>
          <td id="LC7785">		}</td>
        </tr>
        <tr>
          <td id="L7786" data-line-number="7786"></td>
          <td id="LC7786">		<span>if</span> (_pProjectPanel_2)</td>
        </tr>
        <tr>
          <td id="L7787" data-line-number="7787"></td>
          <td id="LC7787">		{</td>
        </tr>
        <tr>
          <td id="L7788" data-line-number="7788"></td>
          <td id="LC7788">			<span>::SendMessage</span>(_pProjectPanel_2-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7789" data-line-number="7789"></td>
          <td id="LC7789">		}</td>
        </tr>
        <tr>
          <td id="L7790" data-line-number="7790"></td>
          <td id="LC7790">		<span>if</span> (_pProjectPanel_3)</td>
        </tr>
        <tr>
          <td id="L7791" data-line-number="7791"></td>
          <td id="LC7791">		{</td>
        </tr>
        <tr>
          <td id="L7792" data-line-number="7792"></td>
          <td id="LC7792">			<span>::SendMessage</span>(_pProjectPanel_3-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7793" data-line-number="7793"></td>
          <td id="LC7793">		}</td>
        </tr>
        <tr>
          <td id="L7794" data-line-number="7794"></td>
          <td id="LC7794">		<span>if</span> (_pFuncList)</td>
        </tr>
        <tr>
          <td id="L7795" data-line-number="7795"></td>
          <td id="LC7795">		{</td>
        </tr>
        <tr>
          <td id="L7796" data-line-number="7796"></td>
          <td id="LC7796">			<span>::SendMessage</span>(_pFuncList-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7797" data-line-number="7797"></td>
          <td id="LC7797">		}</td>
        </tr>
        <tr>
          <td id="L7798" data-line-number="7798"></td>
          <td id="LC7798">		<span>if</span> (_pFileBrowser)</td>
        </tr>
        <tr>
          <td id="L7799" data-line-number="7799"></td>
          <td id="LC7799">		{</td>
        </tr>
        <tr>
          <td id="L7800" data-line-number="7800"></td>
          <td id="LC7800">			<span>::SendMessage</span>(_pFileBrowser-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7801" data-line-number="7801"></td>
          <td id="LC7801">		}</td>
        </tr>
        <tr>
          <td id="L7802" data-line-number="7802"></td>
          <td id="LC7802">
</td>
        </tr>
        <tr>
          <td id="L7803" data-line-number="7803"></td>
          <td id="LC7803">		<span>if</span> (_pAnsiCharPanel)</td>
        </tr>
        <tr>
          <td id="L7804" data-line-number="7804"></td>
          <td id="LC7804">		{</td>
        </tr>
        <tr>
          <td id="L7805" data-line-number="7805"></td>
          <td id="LC7805">			<span>::SendMessage</span>(_pAnsiCharPanel-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7806" data-line-number="7806"></td>
          <td id="LC7806">		}</td>
        </tr>
        <tr>
          <td id="L7807" data-line-number="7807"></td>
          <td id="LC7807">		<span>if</span> (_pDocumentListPanel)</td>
        </tr>
        <tr>
          <td id="L7808" data-line-number="7808"></td>
          <td id="LC7808">		{</td>
        </tr>
        <tr>
          <td id="L7809" data-line-number="7809"></td>
          <td id="LC7809">			<span>::SendMessage</span>(_pDocumentListPanel-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7810" data-line-number="7810"></td>
          <td id="LC7810">		}</td>
        </tr>
        <tr>
          <td id="L7811" data-line-number="7811"></td>
          <td id="LC7811">
</td>
        </tr>
        <tr>
          <td id="L7812" data-line-number="7812"></td>
          <td id="LC7812">		<span>if</span> (_pClipboardHistoryPanel)</td>
        </tr>
        <tr>
          <td id="L7813" data-line-number="7813"></td>
          <td id="LC7813">		{</td>
        </tr>
        <tr>
          <td id="L7814" data-line-number="7814"></td>
          <td id="LC7814">			<span>::SendMessage</span>(_pClipboardHistoryPanel-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7815" data-line-number="7815"></td>
          <td id="LC7815">		}</td>
        </tr>
        <tr>
          <td id="L7816" data-line-number="7816"></td>
          <td id="LC7816">
</td>
        </tr>
        <tr>
          <td id="L7817" data-line-number="7817"></td>
          <td id="LC7817">		<span>bool</span> isChecked = _preference._generalSubDlg.isCheckedOrNot(IDC_CHECK_TAB_ALTICONS);</td>
        </tr>
        <tr>
          <td id="L7818" data-line-number="7818"></td>
          <td id="LC7818">		<span>if</span> (!isChecked)</td>
        </tr>
        <tr>
          <td id="L7819" data-line-number="7819"></td>
          <td id="LC7819">		{</td>
        </tr>
        <tr>
          <td id="L7820" data-line-number="7820"></td>
          <td id="LC7820">			<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), NPPM_INTERNAL_CHANGETABBAEICONS, 0, NppDarkMode::isEnabled() ? 2 : 0);</td>
        </tr>
        <tr>
          <td id="L7821" data-line-number="7821"></td>
          <td id="LC7821">		}</td>
        </tr>
        <tr>
          <td id="L7822" data-line-number="7822"></td>
          <td id="LC7822">
</td>
        </tr>
        <tr>
          <td id="L7823" data-line-number="7823"></td>
          <td id="LC7823">		toolBarStatusType state = _toolBar.getState();</td>
        </tr>
        <tr>
          <td id="L7824" data-line-number="7824"></td>
          <td id="LC7824">		<span>switch</span> (state)</td>
        </tr>
        <tr>
          <td id="L7825" data-line-number="7825"></td>
          <td id="LC7825">		{</td>
        </tr>
        <tr>
          <td id="L7826" data-line-number="7826"></td>
          <td id="LC7826">			<span>case</span> TB_SMALL:</td>
        </tr>
        <tr>
          <td id="L7827" data-line-number="7827"></td>
          <td id="LC7827">				_toolBar.<span>reduce</span>();</td>
        </tr>
        <tr>
          <td id="L7828" data-line-number="7828"></td>
          <td id="LC7828">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7829" data-line-number="7829"></td>
          <td id="LC7829">
</td>
        </tr>
        <tr>
          <td id="L7830" data-line-number="7830"></td>
          <td id="LC7830">			<span>case</span> TB_LARGE:</td>
        </tr>
        <tr>
          <td id="L7831" data-line-number="7831"></td>
          <td id="LC7831">				_toolBar.<span>enlarge</span>();</td>
        </tr>
        <tr>
          <td id="L7832" data-line-number="7832"></td>
          <td id="LC7832">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7833" data-line-number="7833"></td>
          <td id="LC7833">
</td>
        </tr>
        <tr>
          <td id="L7834" data-line-number="7834"></td>
          <td id="LC7834">			<span>case</span> TB_SMALL2:</td>
        </tr>
        <tr>
          <td id="L7835" data-line-number="7835"></td>
          <td id="LC7835">				_toolBar.<span>reduceToSet2</span>();</td>
        </tr>
        <tr>
          <td id="L7836" data-line-number="7836"></td>
          <td id="LC7836">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7837" data-line-number="7837"></td>
          <td id="LC7837">
</td>
        </tr>
        <tr>
          <td id="L7838" data-line-number="7838"></td>
          <td id="LC7838">			<span>case</span> TB_LARGE2:</td>
        </tr>
        <tr>
          <td id="L7839" data-line-number="7839"></td>
          <td id="LC7839">				_toolBar.<span>enlargeToSet2</span>();</td>
        </tr>
        <tr>
          <td id="L7840" data-line-number="7840"></td>
          <td id="LC7840">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7841" data-line-number="7841"></td>
          <td id="LC7841">
</td>
        </tr>
        <tr>
          <td id="L7842" data-line-number="7842"></td>
          <td id="LC7842">			<span>case</span> TB_STANDARD:</td>
        </tr>
        <tr>
          <td id="L7843" data-line-number="7843"></td>
          <td id="LC7843">				<span><span>//</span> Force standard colorful icon to Fluent UI small icon in dark mode</span></td>
        </tr>
        <tr>
          <td id="L7844" data-line-number="7844"></td>
          <td id="LC7844">				<span>if</span> (<span>NppDarkMode::isEnabled</span>())</td>
        </tr>
        <tr>
          <td id="L7845" data-line-number="7845"></td>
          <td id="LC7845">					_toolBar.<span>reduce</span>();</td>
        </tr>
        <tr>
          <td id="L7846" data-line-number="7846"></td>
          <td id="LC7846">				<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7847" data-line-number="7847"></td>
          <td id="LC7847">		}</td>
        </tr>
        <tr>
          <td id="L7848" data-line-number="7848"></td>
          <td id="LC7848">
</td>
        </tr>
        <tr>
          <td id="L7849" data-line-number="7849"></td>
          <td id="LC7849">		ThemeSwitcher&amp; themeSwitcher = nppParams.<span>getThemeSwitcher</span>();</td>
        </tr>
        <tr>
          <td id="L7850" data-line-number="7850"></td>
          <td id="LC7850">		generic_string themePath;</td>
        </tr>
        <tr>
          <td id="L7851" data-line-number="7851"></td>
          <td id="LC7851">		generic_string themeName;</td>
        </tr>
        <tr>
          <td id="L7852" data-line-number="7852"></td>
          <td id="LC7852">		<span>const</span> TCHAR darkModeXmlFileName[] = <span>TEXT</span>(<span><span>&#34;</span>DarkModeDefault.xml<span>&#34;</span></span>);</td>
        </tr>
        <tr>
          <td id="L7853" data-line-number="7853"></td>
          <td id="LC7853">		<span>if</span> (<span>NppDarkMode::isEnabled</span>())</td>
        </tr>
        <tr>
          <td id="L7854" data-line-number="7854"></td>
          <td id="LC7854">		{</td>
        </tr>
        <tr>
          <td id="L7855" data-line-number="7855"></td>
          <td id="LC7855">			themePath = themeSwitcher.<span>getThemeDirPath</span>();</td>
        </tr>
        <tr>
          <td id="L7856" data-line-number="7856"></td>
          <td id="LC7856">			<span>pathAppend</span>(themePath, darkModeXmlFileName);</td>
        </tr>
        <tr>
          <td id="L7857" data-line-number="7857"></td>
          <td id="LC7857">
</td>
        </tr>
        <tr>
          <td id="L7858" data-line-number="7858"></td>
          <td id="LC7858">			themeName = themeSwitcher.<span>getThemeFromXmlFileName</span>(themePath.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L7859" data-line-number="7859"></td>
          <td id="LC7859">		}</td>
        </tr>
        <tr>
          <td id="L7860" data-line-number="7860"></td>
          <td id="LC7860">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L7861" data-line-number="7861"></td>
          <td id="LC7861">		{</td>
        </tr>
        <tr>
          <td id="L7862" data-line-number="7862"></td>
          <td id="LC7862">			<span><span>//</span>use _stylerPath;</span></td>
        </tr>
        <tr>
          <td id="L7863" data-line-number="7863"></td>
          <td id="LC7863">
</td>
        </tr>
        <tr>
          <td id="L7864" data-line-number="7864"></td>
          <td id="LC7864">			pair&lt;generic_string, generic_string&gt;&amp; themeInfo = themeSwitcher.<span>getElementFromIndex</span>(<span>0</span>);</td>
        </tr>
        <tr>
          <td id="L7865" data-line-number="7865"></td>
          <td id="LC7865">			themePath = themeInfo.<span>second</span>;</td>
        </tr>
        <tr>
          <td id="L7866" data-line-number="7866"></td>
          <td id="LC7866">			themeName = themeSwitcher.<span>getDefaultThemeLabel</span>();</td>
        </tr>
        <tr>
          <td id="L7867" data-line-number="7867"></td>
          <td id="LC7867">		}</td>
        </tr>
        <tr>
          <td id="L7868" data-line-number="7868"></td>
          <td id="LC7868">
</td>
        </tr>
        <tr>
          <td id="L7869" data-line-number="7869"></td>
          <td id="LC7869">		<span>if</span> (::<span>PathFileExists</span>(themePath.<span>c_str</span>()))</td>
        </tr>
        <tr>
          <td id="L7870" data-line-number="7870"></td>
          <td id="LC7870">		{</td>
        </tr>
        <tr>
          <td id="L7871" data-line-number="7871"></td>
          <td id="LC7871">			nppParams.<span>getNppGUI</span>().<span>_themeName</span> = themePath;</td>
        </tr>
        <tr>
          <td id="L7872" data-line-number="7872"></td>
          <td id="LC7872">
</td>
        </tr>
        <tr>
          <td id="L7873" data-line-number="7873"></td>
          <td id="LC7873">			<span>if</span> (_configStyleDlg.<span>isCreated</span>())</td>
        </tr>
        <tr>
          <td id="L7874" data-line-number="7874"></td>
          <td id="LC7874">			{</td>
        </tr>
        <tr>
          <td id="L7875" data-line-number="7875"></td>
          <td id="LC7875">				_configStyleDlg.<span>selectThemeByName</span>(themeName.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L7876" data-line-number="7876"></td>
          <td id="LC7876">			}</td>
        </tr>
        <tr>
          <td id="L7877" data-line-number="7877"></td>
          <td id="LC7877">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L7878" data-line-number="7878"></td>
          <td id="LC7878">			{</td>
        </tr>
        <tr>
          <td id="L7879" data-line-number="7879"></td>
          <td id="LC7879">				nppParams.<span>reloadStylers</span>(themePath.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L7880" data-line-number="7880"></td>
          <td id="LC7880">				<span>::SendMessage</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), WM_UPDATESCINTILLAS, 0, 0);</td>
        </tr>
        <tr>
          <td id="L7881" data-line-number="7881"></td>
          <td id="LC7881">			}</td>
        </tr>
        <tr>
          <td id="L7882" data-line-number="7882"></td>
          <td id="LC7882">		}</td>
        </tr>
        <tr>
          <td id="L7883" data-line-number="7883"></td>
          <td id="LC7883">
</td>
        </tr>
        <tr>
          <td id="L7884" data-line-number="7884"></td>
          <td id="LC7884">		<span>if</span> (NppDarkMode::isExperimentalSupported())</td>
        </tr>
        <tr>
          <td id="L7885" data-line-number="7885"></td>
          <td id="LC7885">		{</td>
        </tr>
        <tr>
          <td id="L7886" data-line-number="7886"></td>
          <td id="LC7886">			<span>NppDarkMode::allowDarkModeForApp</span>(<span>NppDarkMode::isEnabled</span>());</td>
        </tr>
        <tr>
          <td id="L7887" data-line-number="7887"></td>
          <td id="LC7887">
</td>
        </tr>
        <tr>
          <td id="L7888" data-line-number="7888"></td>
          <td id="LC7888">			<span>NppDarkMode::setDarkTitleBar</span>(_pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L7889" data-line-number="7889"></td>
          <td id="LC7889">			<span>::SetWindowPos</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), nullptr, 0, 0, 0, 0, SWP_NOMOVE | SWP_NOSIZE | SWP_NOZORDER | SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L7890" data-line-number="7890"></td>
          <td id="LC7890">
</td>
        </tr>
        <tr>
          <td id="L7891" data-line-number="7891"></td>
          <td id="LC7891">			<span>for</span> (<span>auto</span>&amp; docCont : _dockingManager.getContainerInfo())</td>
        </tr>
        <tr>
          <td id="L7892" data-line-number="7892"></td>
          <td id="LC7892">			{</td>
        </tr>
        <tr>
          <td id="L7893" data-line-number="7893"></td>
          <td id="LC7893">				<span>auto</span> hwndDocCont = docCont-&gt;<span>getCaptionWnd</span>();</td>
        </tr>
        <tr>
          <td id="L7894" data-line-number="7894"></td>
          <td id="LC7894">				<span>NppDarkMode::setDarkTitleBar</span>(hwndDocCont);</td>
        </tr>
        <tr>
          <td id="L7895" data-line-number="7895"></td>
          <td id="LC7895">				<span>::SetWindowPos</span>(hwndDocCont, <span>nullptr</span>, <span>0</span>, <span>0</span>, <span>0</span>, <span>0</span>, SWP_NOMOVE | SWP_NOSIZE | SWP_NOZORDER | SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L7896" data-line-number="7896"></td>
          <td id="LC7896">			}</td>
        </tr>
        <tr>
          <td id="L7897" data-line-number="7897"></td>
          <td id="LC7897">
</td>
        </tr>
        <tr>
          <td id="L7898" data-line-number="7898"></td>
          <td id="LC7898">			<span>for</span> (<span>auto</span>&amp; hwndDlg : _hModelessDlgs)</td>
        </tr>
        <tr>
          <td id="L7899" data-line-number="7899"></td>
          <td id="LC7899">			{</td>
        </tr>
        <tr>
          <td id="L7900" data-line-number="7900"></td>
          <td id="LC7900">				<span>NppDarkMode::setDarkTitleBar</span>(hwndDlg);</td>
        </tr>
        <tr>
          <td id="L7901" data-line-number="7901"></td>
          <td id="LC7901">				<span>::SendMessage</span>(hwndDlg, NPPM_INTERNAL_REFRESHDARKMODE, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L7902" data-line-number="7902"></td>
          <td id="LC7902">				<span>::RedrawWindow</span>(hwndDlg, <span>nullptr</span>, <span>nullptr</span>, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN);</td>
        </tr>
        <tr>
          <td id="L7903" data-line-number="7903"></td>
          <td id="LC7903">				<span>::SetWindowPos</span>(hwndDlg, <span>nullptr</span>, <span>0</span>, <span>0</span>, <span>0</span>, <span>0</span>, SWP_NOMOVE | SWP_NOSIZE | SWP_NOZORDER | SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L7904" data-line-number="7904"></td>
          <td id="LC7904">			}</td>
        </tr>
        <tr>
          <td id="L7905" data-line-number="7905"></td>
          <td id="LC7905">
</td>
        </tr>
        <tr>
          <td id="L7906" data-line-number="7906"></td>
          <td id="LC7906">			<span>NppDarkMode::setDarkTitleBar</span>(_findInFinderDlg.<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L7907" data-line-number="7907"></td>
          <td id="LC7907">			<span>::SetWindowPos</span>(_findInFinderDlg.getHSelf(), nullptr, 0, 0, 0, 0, SWP_NOMOVE | SWP_NOSIZE | SWP_NOZORDER | SWP_FRAMECHANGED);</td>
        </tr>
        <tr>
          <td id="L7908" data-line-number="7908"></td>
          <td id="LC7908">		}</td>
        </tr>
        <tr>
          <td id="L7909" data-line-number="7909"></td>
          <td id="LC7909">	}</td>
        </tr>
        <tr>
          <td id="L7910" data-line-number="7910"></td>
          <td id="LC7910">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L7911" data-line-number="7911"></td>
          <td id="LC7911">	{</td>
        </tr>
        <tr>
          <td id="L7912" data-line-number="7912"></td>
          <td id="LC7912">		<span>for</span> (<span>auto</span>&amp; docCont : _dockingManager.<span>getContainerInfo</span>())</td>
        </tr>
        <tr>
          <td id="L7913" data-line-number="7913"></td>
          <td id="LC7913">		{</td>
        </tr>
        <tr>
          <td id="L7914" data-line-number="7914"></td>
          <td id="LC7914">			<span>auto</span> hwndDocCont = docCont-&gt;<span>getCaptionWnd</span>();</td>
        </tr>
        <tr>
          <td id="L7915" data-line-number="7915"></td>
          <td id="LC7915">			<span>::RedrawWindow</span>(hwndDocCont, <span>nullptr</span>, <span>nullptr</span>, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN);</td>
        </tr>
        <tr>
          <td id="L7916" data-line-number="7916"></td>
          <td id="LC7916">		}</td>
        </tr>
        <tr>
          <td id="L7917" data-line-number="7917"></td>
          <td id="LC7917">
</td>
        </tr>
        <tr>
          <td id="L7918" data-line-number="7918"></td>
          <td id="LC7918">		<span>for</span> (<span>auto</span>&amp; hwndDlg : _hModelessDlgs)</td>
        </tr>
        <tr>
          <td id="L7919" data-line-number="7919"></td>
          <td id="LC7919">		{</td>
        </tr>
        <tr>
          <td id="L7920" data-line-number="7920"></td>
          <td id="LC7920">			<span><span>//</span>::SendMessage(hwndDlg, NPPM_INTERNAL_REFRESHDARKMODE, 0, 0);</span></td>
        </tr>
        <tr>
          <td id="L7921" data-line-number="7921"></td>
          <td id="LC7921">			<span>::RedrawWindow</span>(hwndDlg, <span>nullptr</span>, <span>nullptr</span>, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN);</td>
        </tr>
        <tr>
          <td id="L7922" data-line-number="7922"></td>
          <td id="LC7922">		}</td>
        </tr>
        <tr>
          <td id="L7923" data-line-number="7923"></td>
          <td id="LC7923">
</td>
        </tr>
        <tr>
          <td id="L7924" data-line-number="7924"></td>
          <td id="LC7924">		<span>::RedrawWindow</span>(_findInFinderDlg.getHSelf(), nullptr, nullptr, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN);</td>
        </tr>
        <tr>
          <td id="L7925" data-line-number="7925"></td>
          <td id="LC7925">		<span>::RedrawWindow</span>(_pPublicInterface-&gt;<span>getHSelf</span>(), nullptr, nullptr, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN);</td>
        </tr>
        <tr>
          <td id="L7926" data-line-number="7926"></td>
          <td id="LC7926">	}</td>
        </tr>
        <tr>
          <td id="L7927" data-line-number="7927"></td>
          <td id="LC7927">}</td>
        </tr>
        <tr>
          <td id="L7928" data-line-number="7928"></td>
          <td id="LC7928">
</td>
        </tr>
        <tr>
          <td id="L7929" data-line-number="7929"></td>
          <td id="LC7929"><span>void</span> <span>Notepad_plus::launchDocumentBackupTask</span>()</td>
        </tr>
        <tr>
          <td id="L7930" data-line-number="7930"></td>
          <td id="LC7930">{</td>
        </tr>
        <tr>
          <td id="L7931" data-line-number="7931"></td>
          <td id="LC7931">	HANDLE hThread = ::<span>CreateThread</span>(<span>NULL</span>, <span>0</span>, backupDocument, <span>NULL</span>, <span>0</span>, <span>NULL</span>);</td>
        </tr>
        <tr>
          <td id="L7932" data-line-number="7932"></td>
          <td id="LC7932">	<span>if</span> (hThread)</td>
        </tr>
        <tr>
          <td id="L7933" data-line-number="7933"></td>
          <td id="LC7933">		<span>::CloseHandle</span>(hThread);</td>
        </tr>
        <tr>
          <td id="L7934" data-line-number="7934"></td>
          <td id="LC7934">}</td>
        </tr>
        <tr>
          <td id="L7935" data-line-number="7935"></td>
          <td id="LC7935">
</td>
        </tr>
        <tr>
          <td id="L7936" data-line-number="7936"></td>
          <td id="LC7936">
</td>
        </tr>
        <tr>
          <td id="L7937" data-line-number="7937"></td>
          <td id="LC7937">DWORD WINAPI <span>Notepad_plus::backupDocument</span>(<span>void</span> * <span><span>/*</span>param<span>*/</span></span>)</td>
        </tr>
        <tr>
          <td id="L7938" data-line-number="7938"></td>
          <td id="LC7938">{</td>
        </tr>
        <tr>
          <td id="L7939" data-line-number="7939"></td>
          <td id="LC7939">	<span>bool</span> isSnapshotMode = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L7940" data-line-number="7940"></td>
          <td id="LC7940">	<span>while</span> (isSnapshotMode)</td>
        </tr>
        <tr>
          <td id="L7941" data-line-number="7941"></td>
          <td id="LC7941">	{</td>
        </tr>
        <tr>
          <td id="L7942" data-line-number="7942"></td>
          <td id="LC7942">		NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L7943" data-line-number="7943"></td>
          <td id="LC7943">
</td>
        </tr>
        <tr>
          <td id="L7944" data-line-number="7944"></td>
          <td id="LC7944">		<span>size_t</span> timer = nppParam.<span>getNppGUI</span>().<span>_snapshotBackupTiming</span>;</td>
        </tr>
        <tr>
          <td id="L7945" data-line-number="7945"></td>
          <td id="LC7945">		<span>if</span> (timer &lt; <span>1000</span>)</td>
        </tr>
        <tr>
          <td id="L7946" data-line-number="7946"></td>
          <td id="LC7946">			timer = <span>1000</span>;</td>
        </tr>
        <tr>
          <td id="L7947" data-line-number="7947"></td>
          <td id="LC7947">
</td>
        </tr>
        <tr>
          <td id="L7948" data-line-number="7948"></td>
          <td id="LC7948">		<span>::Sleep</span>(DWORD(timer));</td>
        </tr>
        <tr>
          <td id="L7949" data-line-number="7949"></td>
          <td id="LC7949">
</td>
        </tr>
        <tr>
          <td id="L7950" data-line-number="7950"></td>
          <td id="LC7950">		isSnapshotMode = nppParam.<span>getNppGUI</span>().<span>isSnapshotMode</span>();</td>
        </tr>
        <tr>
          <td id="L7951" data-line-number="7951"></td>
          <td id="LC7951">		<span>if</span> (!isSnapshotMode)</td>
        </tr>
        <tr>
          <td id="L7952" data-line-number="7952"></td>
          <td id="LC7952">			<span>break</span>;</td>
        </tr>
        <tr>
          <td id="L7953" data-line-number="7953"></td>
          <td id="LC7953">
</td>
        </tr>
        <tr>
          <td id="L7954" data-line-number="7954"></td>
          <td id="LC7954">		<span>::PostMessage</span>(Notepad_plus_Window::<span>gNppHWND</span>, NPPM_INTERNAL_SAVEBACKUP, <span>0</span>, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L7955" data-line-number="7955"></td>
          <td id="LC7955">	}</td>
        </tr>
        <tr>
          <td id="L7956" data-line-number="7956"></td>
          <td id="LC7956">	<span>return</span> <span>TRUE</span>;</td>
        </tr>
        <tr>
          <td id="L7957" data-line-number="7957"></td>
          <td id="LC7957">}</td>
        </tr>
        <tr>
          <td id="L7958" data-line-number="7958"></td>
          <td id="LC7958">
</td>
        </tr>
        <tr>
          <td id="L7959" data-line-number="7959"></td>
          <td id="LC7959">
</td>
        </tr>
        <tr>
          <td id="L7960" data-line-number="7960"></td>
          <td id="LC7960">#<span>ifdef</span> _MSC_VER</td>
        </tr>
        <tr>
          <td id="L7961" data-line-number="7961"></td>
          <td id="LC7961">#<span>pragma</span> warning( disable : 4127 )</td>
        </tr>
        <tr>
          <td id="L7962" data-line-number="7962"></td>
          <td id="LC7962">#<span>endif</span></td>
        </tr>
        <tr>
          <td id="L7963" data-line-number="7963"></td>
          <td id="LC7963"><span><span>//</span>-- undoStreamComment: New function to undo stream comment around or within selection end-points.</span></td>
        </tr>
        <tr>
          <td id="L7964" data-line-number="7964"></td>
          <td id="LC7964"><span>bool</span> <span>Notepad_plus::undoStreamComment</span>(<span>bool</span> tryBlockComment)</td>
        </tr>
        <tr>
          <td id="L7965" data-line-number="7965"></td>
          <td id="LC7965">{</td>
        </tr>
        <tr>
          <td id="L7966" data-line-number="7966"></td>
          <td id="LC7966">	<span>const</span> TCHAR *commentStart;</td>
        </tr>
        <tr>
          <td id="L7967" data-line-number="7967"></td>
          <td id="LC7967">	<span>const</span> TCHAR *commentEnd;</td>
        </tr>
        <tr>
          <td id="L7968" data-line-number="7968"></td>
          <td id="LC7968">	<span>const</span> TCHAR *commentLineSymbol;</td>
        </tr>
        <tr>
          <td id="L7969" data-line-number="7969"></td>
          <td id="LC7969">
</td>
        </tr>
        <tr>
          <td id="L7970" data-line-number="7970"></td>
          <td id="LC7970">	generic_string symbolStart;</td>
        </tr>
        <tr>
          <td id="L7971" data-line-number="7971"></td>
          <td id="LC7971">	generic_string symbolEnd;</td>
        </tr>
        <tr>
          <td id="L7972" data-line-number="7972"></td>
          <td id="LC7972">	generic_string symbol;</td>
        </tr>
        <tr>
          <td id="L7973" data-line-number="7973"></td>
          <td id="LC7973">
</td>
        </tr>
        <tr>
          <td id="L7974" data-line-number="7974"></td>
          <td id="LC7974">	<span>const</span> <span>int</span> charbufLen = <span>10</span>;</td>
        </tr>
        <tr>
          <td id="L7975" data-line-number="7975"></td>
          <td id="LC7975">    TCHAR charbuf[charbufLen];</td>
        </tr>
        <tr>
          <td id="L7976" data-line-number="7976"></td>
          <td id="LC7976">
</td>
        </tr>
        <tr>
          <td id="L7977" data-line-number="7977"></td>
          <td id="LC7977">	<span>bool</span> retVal = <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L7978" data-line-number="7978"></td>
          <td id="LC7978">
</td>
        </tr>
        <tr>
          <td id="L7979" data-line-number="7979"></td>
          <td id="LC7979">	Buffer * buf = _pEditView-&gt;<span>getCurrentBuffer</span>();</td>
        </tr>
        <tr>
          <td id="L7980" data-line-number="7980"></td>
          <td id="LC7980">	<span><span>//</span>-- Avoid side-effects (e.g. cursor moves number of comment-characters) when file is read-only.</span></td>
        </tr>
        <tr>
          <td id="L7981" data-line-number="7981"></td>
          <td id="LC7981">	<span>if</span> (buf-&gt;<span>isReadOnly</span>())</td>
        </tr>
        <tr>
          <td id="L7982" data-line-number="7982"></td>
          <td id="LC7982">		<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L7983" data-line-number="7983"></td>
          <td id="LC7983">	<span>if</span> (buf-&gt;<span>getLangType</span>() == L_USER)</td>
        </tr>
        <tr>
          <td id="L7984" data-line-number="7984"></td>
          <td id="LC7984">	{</td>
        </tr>
        <tr>
          <td id="L7985" data-line-number="7985"></td>
          <td id="LC7985">		UserLangContainer * userLangContainer = <span>NppParameters::getInstance</span>().<span>getULCFromName</span>(buf-&gt;<span>getUserDefineLangName</span>());</td>
        </tr>
        <tr>
          <td id="L7986" data-line-number="7986"></td>
          <td id="LC7986">		<span>if</span> (!userLangContainer)</td>
        </tr>
        <tr>
          <td id="L7987" data-line-number="7987"></td>
          <td id="LC7987">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L7988" data-line-number="7988"></td>
          <td id="LC7988">
</td>
        </tr>
        <tr>
          <td id="L7989" data-line-number="7989"></td>
          <td id="LC7989">		symbol = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>0<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L7990" data-line-number="7990"></td>
          <td id="LC7990">		commentLineSymbol = symbol.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L7991" data-line-number="7991"></td>
          <td id="LC7991">		symbolStart = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>3<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L7992" data-line-number="7992"></td>
          <td id="LC7992">		commentStart = symbolStart.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L7993" data-line-number="7993"></td>
          <td id="LC7993">		symbolEnd = <span>extractSymbol</span>(<span><span>&#39;</span>0<span>&#39;</span></span>, <span><span>&#39;</span>4<span>&#39;</span></span>, userLangContainer-&gt;<span>_keywordLists</span>[SCE_USER_KWLIST_COMMENTS]);</td>
        </tr>
        <tr>
          <td id="L7994" data-line-number="7994"></td>
          <td id="LC7994">		commentEnd = symbolEnd.<span>c_str</span>();</td>
        </tr>
        <tr>
          <td id="L7995" data-line-number="7995"></td>
          <td id="LC7995">	}</td>
        </tr>
        <tr>
          <td id="L7996" data-line-number="7996"></td>
          <td id="LC7996">	<span>else</span></td>
        </tr>
        <tr>
          <td id="L7997" data-line-number="7997"></td>
          <td id="LC7997">	{</td>
        </tr>
        <tr>
          <td id="L7998" data-line-number="7998"></td>
          <td id="LC7998">		commentLineSymbol = buf-&gt;<span>getCommentLineSymbol</span>();</td>
        </tr>
        <tr>
          <td id="L7999" data-line-number="7999"></td>
          <td id="LC7999">		commentStart = buf-&gt;<span>getCommentStart</span>();</td>
        </tr>
        <tr>
          <td id="L8000" data-line-number="8000"></td>
          <td id="LC8000">		commentEnd = buf-&gt;<span>getCommentEnd</span>();</td>
        </tr>
        <tr>
          <td id="L8001" data-line-number="8001"></td>
          <td id="LC8001">	}</td>
        </tr>
        <tr>
          <td id="L8002" data-line-number="8002"></td>
          <td id="LC8002">
</td>
        </tr>
        <tr>
          <td id="L8003" data-line-number="8003"></td>
          <td id="LC8003">
</td>
        </tr>
        <tr>
          <td id="L8004" data-line-number="8004"></td>
          <td id="LC8004">	<span><span>//</span> BlockToStreamComment: If there is no stream-comment symbol and we came not from doBlockComment, try the block comment:</span></td>
        </tr>
        <tr>
          <td id="L8005" data-line-number="8005"></td>
          <td id="LC8005">	<span>if</span> ((!commentStart) || (!commentStart[<span>0</span>]) || (commentStart == <span>NULL</span>) || (!commentEnd) || (!commentEnd[<span>0</span>]) || (commentEnd == <span>NULL</span>))</td>
        </tr>
        <tr>
          <td id="L8006" data-line-number="8006"></td>
          <td id="LC8006">	{</td>
        </tr>
        <tr>
          <td id="L8007" data-line-number="8007"></td>
          <td id="LC8007">		<span>if</span> (!(!commentLineSymbol || !commentLineSymbol[<span>0</span>] || commentLineSymbol == <span>NULL</span>) &amp;&amp; tryBlockComment)</td>
        </tr>
        <tr>
          <td id="L8008" data-line-number="8008"></td>
          <td id="LC8008">			<span>return</span> <span>doBlockComment</span>(cm_uncomment);</td>
        </tr>
        <tr>
          <td id="L8009" data-line-number="8009"></td>
          <td id="LC8009">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L8010" data-line-number="8010"></td>
          <td id="LC8010">			<span>return</span> <span>false</span>;</td>
        </tr>
        <tr>
          <td id="L8011" data-line-number="8011"></td>
          <td id="LC8011">	}</td>
        </tr>
        <tr>
          <td id="L8012" data-line-number="8012"></td>
          <td id="LC8012">
</td>
        </tr>
        <tr>
          <td id="L8013" data-line-number="8013"></td>
          <td id="LC8013">	generic_string <span>start_comment</span>(commentStart);</td>
        </tr>
        <tr>
          <td id="L8014" data-line-number="8014"></td>
          <td id="LC8014">	generic_string <span>end_comment</span>(commentEnd);</td>
        </tr>
        <tr>
          <td id="L8015" data-line-number="8015"></td>
          <td id="LC8015">	generic_string <span>white_space</span>(<span>TEXT</span>(<span><span>&#34;</span> <span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L8016" data-line-number="8016"></td>
          <td id="LC8016">	<span>size_t</span> start_comment_length = start_comment.<span>length</span>();</td>
        </tr>
        <tr>
          <td id="L8017" data-line-number="8017"></td>
          <td id="LC8017">	<span>size_t</span> end_comment_length = end_comment.<span>length</span>();</td>
        </tr>
        <tr>
          <td id="L8018" data-line-number="8018"></td>
          <td id="LC8018">
</td>
        </tr>
        <tr>
          <td id="L8019" data-line-number="8019"></td>
          <td id="LC8019">	<span><span>//</span> do as long as stream-comments are within selection</span></td>
        </tr>
        <tr>
          <td id="L8020" data-line-number="8020"></td>
          <td id="LC8020">	<span>do</span></td>
        </tr>
        <tr>
          <td id="L8021" data-line-number="8021"></td>
          <td id="LC8021">	{</td>
        </tr>
        <tr>
          <td id="L8022" data-line-number="8022"></td>
          <td id="LC8022">		<span>auto</span> selectionStart = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONSTART);</td>
        </tr>
        <tr>
          <td id="L8023" data-line-number="8023"></td>
          <td id="LC8023">		<span>auto</span> selectionEnd = _pEditView-&gt;<span>execute</span>(SCI_GETSELECTIONEND);</td>
        </tr>
        <tr>
          <td id="L8024" data-line-number="8024"></td>
          <td id="LC8024">		<span>auto</span> caretPosition = _pEditView-&gt;<span>execute</span>(SCI_GETCURRENTPOS);</td>
        </tr>
        <tr>
          <td id="L8025" data-line-number="8025"></td>
          <td id="LC8025">		<span>auto</span> docLength = _pEditView-&gt;<span>execute</span>(SCI_GETLENGTH);</td>
        </tr>
        <tr>
          <td id="L8026" data-line-number="8026"></td>
          <td id="LC8026">
</td>
        </tr>
        <tr>
          <td id="L8027" data-line-number="8027"></td>
          <td id="LC8027">		<span><span>//</span> checking if caret is located in _beginning_ of selected block</span></td>
        </tr>
        <tr>
          <td id="L8028" data-line-number="8028"></td>
          <td id="LC8028">		<span>bool</span> move_caret = caretPosition &lt; selectionEnd;</td>
        </tr>
        <tr>
          <td id="L8029" data-line-number="8029"></td>
          <td id="LC8029">
</td>
        </tr>
        <tr>
          <td id="L8030" data-line-number="8030"></td>
          <td id="LC8030">		<span><span>//</span>-- Note: The caretPosition is either at selectionEnd or at selectionStart!! selectionStart is always before (smaller) than selectionEnd!!</span></td>
        </tr>
        <tr>
          <td id="L8031" data-line-number="8031"></td>
          <td id="LC8031">
</td>
        </tr>
        <tr>
          <td id="L8032" data-line-number="8032"></td>
          <td id="LC8032">		<span><span>//</span>-- First, search all start_comment and end_comment before and after the selectionStart and selectionEnd position.</span></td>
        </tr>
        <tr>
          <td id="L8033" data-line-number="8033"></td>
          <td id="LC8033">		<span>const</span> <span>int</span> iSelStart=<span>0</span>, iSelEnd=<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L8034" data-line-number="8034"></td>
          <td id="LC8034">		<span>const</span> <span>size_t</span> N_CMNT = <span>2</span>;</td>
        </tr>
        <tr>
          <td id="L8035" data-line-number="8035"></td>
          <td id="LC8035">		<span>intptr_t</span> posStartCommentBefore[N_CMNT], posEndCommentBefore[N_CMNT], posStartCommentAfter[N_CMNT], posEndCommentAfter[N_CMNT];</td>
        </tr>
        <tr>
          <td id="L8036" data-line-number="8036"></td>
          <td id="LC8036">		<span>bool</span> blnStartCommentBefore[N_CMNT], blnEndCommentBefore[N_CMNT], blnStartCommentAfter[N_CMNT], blnEndCommentAfter[N_CMNT];</td>
        </tr>
        <tr>
          <td id="L8037" data-line-number="8037"></td>
          <td id="LC8037">		<span>intptr_t</span> posStartComment, posEndComment;</td>
        </tr>
        <tr>
          <td id="L8038" data-line-number="8038"></td>
          <td id="LC8038">		<span>intptr_t</span> selectionStartMove, selectionEndMove;</td>
        </tr>
        <tr>
          <td id="L8039" data-line-number="8039"></td>
          <td id="LC8039">		<span>int</span> flags;</td>
        </tr>
        <tr>
          <td id="L8040" data-line-number="8040"></td>
          <td id="LC8040">
</td>
        </tr>
        <tr>
          <td id="L8041" data-line-number="8041"></td>
          <td id="LC8041">		<span><span>//</span>-- Directly use Scintilla-Functions</span></td>
        </tr>
        <tr>
          <td id="L8042" data-line-number="8042"></td>
          <td id="LC8042">		<span><span>//</span>   rather than _findReplaceDlg.processFindNext()which does not return the find-position and is not quiet!</span></td>
        </tr>
        <tr>
          <td id="L8043" data-line-number="8043"></td>
          <td id="LC8043">		flags = SCFIND_WORDSTART;</td>
        </tr>
        <tr>
          <td id="L8044" data-line-number="8044"></td>
          <td id="LC8044">		_pEditView-&gt;<span>execute</span>(SCI_SETSEARCHFLAGS, flags);</td>
        </tr>
        <tr>
          <td id="L8045" data-line-number="8045"></td>
          <td id="LC8045">		<span><span>//</span>-- Find all start- and end-comments before and after the selectionStart position.</span></td>
        </tr>
        <tr>
          <td id="L8046" data-line-number="8046"></td>
          <td id="LC8046">		<span><span>//</span>-- When searching upwards the start-position for searching must be moved one after the current position</span></td>
        </tr>
        <tr>
          <td id="L8047" data-line-number="8047"></td>
          <td id="LC8047">		<span><span>//</span>   to find a search-string just starting before the current position!</span></td>
        </tr>
        <tr>
          <td id="L8048" data-line-number="8048"></td>
          <td id="LC8048">		<span><span>//</span>-- Direction DIR_UP ---</span></td>
        </tr>
        <tr>
          <td id="L8049" data-line-number="8049"></td>
          <td id="LC8049">		posStartCommentBefore[iSelStart] = _pEditView-&gt;<span>searchInTarget</span>(start_comment.<span>c_str</span>(), start_comment_length, selectionStart, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L8050" data-line-number="8050"></td>
          <td id="LC8050">		(posStartCommentBefore[iSelStart] == -<span>1</span> ? blnStartCommentBefore[iSelStart] = <span>false</span> : blnStartCommentBefore[iSelStart] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8051" data-line-number="8051"></td>
          <td id="LC8051">		posEndCommentBefore[iSelStart] = _pEditView-&gt;<span>searchInTarget</span>(end_comment.<span>c_str</span>(), end_comment_length, selectionStart, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L8052" data-line-number="8052"></td>
          <td id="LC8052">		(posEndCommentBefore[iSelStart] == -<span>1</span> ? blnEndCommentBefore[iSelStart] = <span>false</span> : blnEndCommentBefore[iSelStart] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8053" data-line-number="8053"></td>
          <td id="LC8053">		<span><span>//</span>-- Direction DIR_DOWN ---</span></td>
        </tr>
        <tr>
          <td id="L8054" data-line-number="8054"></td>
          <td id="LC8054">		posStartCommentAfter[iSelStart] = _pEditView-&gt;<span>searchInTarget</span>(start_comment.<span>c_str</span>(), start_comment_length, selectionStart, docLength);</td>
        </tr>
        <tr>
          <td id="L8055" data-line-number="8055"></td>
          <td id="LC8055">		(posStartCommentAfter[iSelStart] == -<span>1</span> ? blnStartCommentAfter[iSelStart] = <span>false</span> : blnStartCommentAfter[iSelStart] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8056" data-line-number="8056"></td>
          <td id="LC8056">		posEndCommentAfter[iSelStart] = _pEditView-&gt;<span>searchInTarget</span>(end_comment.<span>c_str</span>(), end_comment_length, selectionStart, docLength);</td>
        </tr>
        <tr>
          <td id="L8057" data-line-number="8057"></td>
          <td id="LC8057">		(posEndCommentAfter[iSelStart] == -<span>1</span> ? blnEndCommentAfter[iSelStart] = <span>false</span> : blnEndCommentAfter[iSelStart] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8058" data-line-number="8058"></td>
          <td id="LC8058">
</td>
        </tr>
        <tr>
          <td id="L8059" data-line-number="8059"></td>
          <td id="LC8059">		<span><span>//</span>-- Check, if selectionStart or selectionEnd is within a stream comment -----</span></td>
        </tr>
        <tr>
          <td id="L8060" data-line-number="8060"></td>
          <td id="LC8060">		<span><span>//</span>   or if the selection includes a complete stream-comment!! ----------------</span></td>
        </tr>
        <tr>
          <td id="L8061" data-line-number="8061"></td>
          <td id="LC8061">
</td>
        </tr>
        <tr>
          <td id="L8062" data-line-number="8062"></td>
          <td id="LC8062">		<span><span>//</span>-- First, check if there is a stream-comment around the selectionStart position:</span></td>
        </tr>
        <tr>
          <td id="L8063" data-line-number="8063"></td>
          <td id="LC8063">		<span>if</span> ((blnStartCommentBefore[iSelStart] &amp;&amp; blnEndCommentAfter[iSelStart])</td>
        </tr>
        <tr>
          <td id="L8064" data-line-number="8064"></td>
          <td id="LC8064">			&amp;&amp; (!blnEndCommentBefore[iSelStart] || (posStartCommentBefore[iSelStart] &gt;= posEndCommentBefore[iSelStart]))</td>
        </tr>
        <tr>
          <td id="L8065" data-line-number="8065"></td>
          <td id="LC8065">			&amp;&amp; (!blnStartCommentAfter[iSelStart] || (posEndCommentAfter[iSelStart] &lt;= posStartCommentAfter[iSelStart])))</td>
        </tr>
        <tr>
          <td id="L8066" data-line-number="8066"></td>
          <td id="LC8066">		{</td>
        </tr>
        <tr>
          <td id="L8067" data-line-number="8067"></td>
          <td id="LC8067">				posStartComment = posStartCommentBefore[iSelStart];</td>
        </tr>
        <tr>
          <td id="L8068" data-line-number="8068"></td>
          <td id="LC8068">				posEndComment   = posEndCommentAfter[iSelStart];</td>
        </tr>
        <tr>
          <td id="L8069" data-line-number="8069"></td>
          <td id="LC8069">		}</td>
        </tr>
        <tr>
          <td id="L8070" data-line-number="8070"></td>
          <td id="LC8070">		<span>else</span> <span><span>//</span>-- Second, check if there is a stream-comment around the selectionEnd position:</span></td>
        </tr>
        <tr>
          <td id="L8071" data-line-number="8071"></td>
          <td id="LC8071">		{</td>
        </tr>
        <tr>
          <td id="L8072" data-line-number="8072"></td>
          <td id="LC8072">			<span><span>//</span>-- Find all start- and end-comments before and after the selectionEnd position.</span></td>
        </tr>
        <tr>
          <td id="L8073" data-line-number="8073"></td>
          <td id="LC8073">			<span><span>//</span>-- Direction DIR_UP ---</span></td>
        </tr>
        <tr>
          <td id="L8074" data-line-number="8074"></td>
          <td id="LC8074">			posStartCommentBefore[iSelEnd] = _pEditView-&gt;<span>searchInTarget</span>(start_comment.<span>c_str</span>(), start_comment_length, selectionEnd, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L8075" data-line-number="8075"></td>
          <td id="LC8075">			(posStartCommentBefore[iSelEnd] == -<span>1</span> ? blnStartCommentBefore[iSelEnd] = <span>false</span> : blnStartCommentBefore[iSelEnd] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8076" data-line-number="8076"></td>
          <td id="LC8076">			posEndCommentBefore[iSelEnd] = _pEditView-&gt;<span>searchInTarget</span>(end_comment.<span>c_str</span>(), end_comment_length, selectionEnd, <span>0</span>);</td>
        </tr>
        <tr>
          <td id="L8077" data-line-number="8077"></td>
          <td id="LC8077">			(posEndCommentBefore[iSelEnd] == -<span>1</span> ? blnEndCommentBefore[iSelEnd] = <span>false</span> : blnEndCommentBefore[iSelEnd] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8078" data-line-number="8078"></td>
          <td id="LC8078">			<span><span>//</span>-- Direction DIR_DOWN ---</span></td>
        </tr>
        <tr>
          <td id="L8079" data-line-number="8079"></td>
          <td id="LC8079">			posStartCommentAfter[iSelEnd] = _pEditView-&gt;<span>searchInTarget</span>(start_comment.<span>c_str</span>(), start_comment_length, selectionEnd, docLength);</td>
        </tr>
        <tr>
          <td id="L8080" data-line-number="8080"></td>
          <td id="LC8080">			(posStartCommentAfter[iSelEnd] == -<span>1</span> ? blnStartCommentAfter[iSelEnd] = <span>false</span> : blnStartCommentAfter[iSelEnd] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8081" data-line-number="8081"></td>
          <td id="LC8081">			posEndCommentAfter[iSelEnd] = _pEditView-&gt;<span>searchInTarget</span>(end_comment.<span>c_str</span>(), end_comment_length, selectionEnd, docLength);</td>
        </tr>
        <tr>
          <td id="L8082" data-line-number="8082"></td>
          <td id="LC8082">			(posEndCommentAfter[iSelEnd] == -<span>1</span> ? blnEndCommentAfter[iSelEnd] = <span>false</span> : blnEndCommentAfter[iSelEnd] = <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8083" data-line-number="8083"></td>
          <td id="LC8083">
</td>
        </tr>
        <tr>
          <td id="L8084" data-line-number="8084"></td>
          <td id="LC8084">			<span>if</span> ((blnStartCommentBefore[iSelEnd] &amp;&amp; blnEndCommentAfter[iSelEnd])</td>
        </tr>
        <tr>
          <td id="L8085" data-line-number="8085"></td>
          <td id="LC8085">				&amp;&amp; (!blnEndCommentBefore[iSelEnd] || (posStartCommentBefore[iSelEnd] &gt;= posEndCommentBefore[iSelEnd]))</td>
        </tr>
        <tr>
          <td id="L8086" data-line-number="8086"></td>
          <td id="LC8086">				&amp;&amp; (!blnStartCommentAfter[iSelEnd] || (posEndCommentAfter[iSelEnd] &lt;= posStartCommentAfter[iSelEnd])))</td>
        </tr>
        <tr>
          <td id="L8087" data-line-number="8087"></td>
          <td id="LC8087">			{</td>
        </tr>
        <tr>
          <td id="L8088" data-line-number="8088"></td>
          <td id="LC8088">					posStartComment = posStartCommentBefore[iSelEnd];</td>
        </tr>
        <tr>
          <td id="L8089" data-line-number="8089"></td>
          <td id="LC8089">					posEndComment   = posEndCommentAfter[iSelEnd];</td>
        </tr>
        <tr>
          <td id="L8090" data-line-number="8090"></td>
          <td id="LC8090">			}</td>
        </tr>
        <tr>
          <td id="L8091" data-line-number="8091"></td>
          <td id="LC8091">			<span><span>//</span>-- Third, check if there is a stream-comment within the selected area:</span></td>
        </tr>
        <tr>
          <td id="L8092" data-line-number="8092"></td>
          <td id="LC8092">			<span>else</span> <span>if</span> ( (blnStartCommentAfter[iSelStart] &amp;&amp; (posStartCommentAfter[iSelStart] &lt; selectionEnd))</td>
        </tr>
        <tr>
          <td id="L8093" data-line-number="8093"></td>
          <td id="LC8093">				&amp;&amp; (blnEndCommentBefore[iSelEnd] &amp;&amp; (posEndCommentBefore[iSelEnd] &gt;  selectionStart)))</td>
        </tr>
        <tr>
          <td id="L8094" data-line-number="8094"></td>
          <td id="LC8094">			{</td>
        </tr>
        <tr>
          <td id="L8095" data-line-number="8095"></td>
          <td id="LC8095">					<span><span>//</span>-- If there are more than one stream-comment within the selection, take the first one after selectionStart!!</span></td>
        </tr>
        <tr>
          <td id="L8096" data-line-number="8096"></td>
          <td id="LC8096">					posStartComment = posStartCommentAfter[iSelStart];</td>
        </tr>
        <tr>
          <td id="L8097" data-line-number="8097"></td>
          <td id="LC8097">					posEndComment   = posEndCommentAfter[iSelStart];</td>
        </tr>
        <tr>
          <td id="L8098" data-line-number="8098"></td>
          <td id="LC8098">			}</td>
        </tr>
        <tr>
          <td id="L8099" data-line-number="8099"></td>
          <td id="LC8099">			<span><span>//</span>-- Finally, if there is no stream-comment, return</span></td>
        </tr>
        <tr>
          <td id="L8100" data-line-number="8100"></td>
          <td id="LC8100">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L8101" data-line-number="8101"></td>
          <td id="LC8101">				<span>return</span> retVal;</td>
        </tr>
        <tr>
          <td id="L8102" data-line-number="8102"></td>
          <td id="LC8102">		}</td>
        </tr>
        <tr>
          <td id="L8103" data-line-number="8103"></td>
          <td id="LC8103">
</td>
        </tr>
        <tr>
          <td id="L8104" data-line-number="8104"></td>
          <td id="LC8104">		<span><span>//</span>-- Ok, there are valid start-comment and valid end-comment around the caret-position.</span></td>
        </tr>
        <tr>
          <td id="L8105" data-line-number="8105"></td>
          <td id="LC8105">		<span><span>//</span>   Now, un-comment stream-comment:</span></td>
        </tr>
        <tr>
          <td id="L8106" data-line-number="8106"></td>
          <td id="LC8106">		retVal = <span>true</span>;</td>
        </tr>
        <tr>
          <td id="L8107" data-line-number="8107"></td>
          <td id="LC8107">		<span>intptr_t</span> startCommentLength = start_comment_length;</td>
        </tr>
        <tr>
          <td id="L8108" data-line-number="8108"></td>
          <td id="LC8108">		<span>intptr_t</span> endCommentLength = end_comment_length;</td>
        </tr>
        <tr>
          <td id="L8109" data-line-number="8109"></td>
          <td id="LC8109">
</td>
        </tr>
        <tr>
          <td id="L8110" data-line-number="8110"></td>
          <td id="LC8110">		<span><span>//</span>-- First delete end-comment, so that posStartCommentBefore does not change!</span></td>
        </tr>
        <tr>
          <td id="L8111" data-line-number="8111"></td>
          <td id="LC8111">		<span><span>//</span>-- Get character before end-comment to decide, if there is a white character before the end-comment, which will be removed too!</span></td>
        </tr>
        <tr>
          <td id="L8112" data-line-number="8112"></td>
          <td id="LC8112">		_pEditView-&gt;<span>getGenericText</span>(charbuf, charbufLen, posEndComment-<span>1</span>, posEndComment);</td>
        </tr>
        <tr>
          <td id="L8113" data-line-number="8113"></td>
          <td id="LC8113">		<span>if</span> (<span>generic_strncmp</span>(charbuf, white_space.<span>c_str</span>(), white_space.<span>length</span>()) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L8114" data-line-number="8114"></td>
          <td id="LC8114">		{</td>
        </tr>
        <tr>
          <td id="L8115" data-line-number="8115"></td>
          <td id="LC8115">			endCommentLength +=<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L8116" data-line-number="8116"></td>
          <td id="LC8116">			posEndComment-=<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L8117" data-line-number="8117"></td>
          <td id="LC8117">		}</td>
        </tr>
        <tr>
          <td id="L8118" data-line-number="8118"></td>
          <td id="LC8118">		<span><span>//</span>-- Delete end stream-comment string ---------</span></td>
        </tr>
        <tr>
          <td id="L8119" data-line-number="8119"></td>
          <td id="LC8119">		_pEditView-&gt;<span>execute</span>(SCI_BEGINUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L8120" data-line-number="8120"></td>
          <td id="LC8120">		_pEditView-&gt;<span>execute</span>(SCI_SETSEL, posEndComment, posEndComment + endCommentLength);</td>
        </tr>
        <tr>
          <td id="L8121" data-line-number="8121"></td>
          <td id="LC8121">		_pEditView-&gt;<span>execute</span>(SCI_REPLACESEL, <span>0</span>, <span>reinterpret_cast</span>&lt;LPARAM&gt;(<span><span>&#34;</span><span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L8122" data-line-number="8122"></td>
          <td id="LC8122">
</td>
        </tr>
        <tr>
          <td id="L8123" data-line-number="8123"></td>
          <td id="LC8123">		<span><span>//</span>-- Get character after start-comment to decide, if there is a white character after the start-comment, which will be removed too!</span></td>
        </tr>
        <tr>
          <td id="L8124" data-line-number="8124"></td>
          <td id="LC8124">		_pEditView-&gt;<span>getGenericText</span>(charbuf, charbufLen, posStartComment+startCommentLength, posStartComment+startCommentLength+<span>1</span>);</td>
        </tr>
        <tr>
          <td id="L8125" data-line-number="8125"></td>
          <td id="LC8125">		<span>if</span> (<span>generic_strncmp</span>(charbuf, white_space.<span>c_str</span>(), white_space.<span>length</span>()) == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L8126" data-line-number="8126"></td>
          <td id="LC8126">			startCommentLength +=<span>1</span>;</td>
        </tr>
        <tr>
          <td id="L8127" data-line-number="8127"></td>
          <td id="LC8127">
</td>
        </tr>
        <tr>
          <td id="L8128" data-line-number="8128"></td>
          <td id="LC8128">		<span><span>//</span>-- Delete starting stream-comment string ---------</span></td>
        </tr>
        <tr>
          <td id="L8129" data-line-number="8129"></td>
          <td id="LC8129">		_pEditView-&gt;<span>execute</span>(SCI_SETSEL, posStartComment, posStartComment + startCommentLength);</td>
        </tr>
        <tr>
          <td id="L8130" data-line-number="8130"></td>
          <td id="LC8130">		_pEditView-&gt;<span>execute</span>(SCI_REPLACESEL, <span>0</span>, <span>reinterpret_cast</span>&lt;LPARAM&gt;(<span><span>&#34;</span><span>&#34;</span></span>));</td>
        </tr>
        <tr>
          <td id="L8131" data-line-number="8131"></td>
          <td id="LC8131">		_pEditView-&gt;<span>execute</span>(SCI_ENDUNDOACTION);</td>
        </tr>
        <tr>
          <td id="L8132" data-line-number="8132"></td>
          <td id="LC8132">
</td>
        </tr>
        <tr>
          <td id="L8133" data-line-number="8133"></td>
          <td id="LC8133">		<span><span>//</span>-- Reset selection before calling the routine</span></td>
        </tr>
        <tr>
          <td id="L8134" data-line-number="8134"></td>
          <td id="LC8134">		<span><span>//</span>-- Determine selection movement</span></td>
        </tr>
        <tr>
          <td id="L8135" data-line-number="8135"></td>
          <td id="LC8135">		<span><span>//</span>   selectionStart</span></td>
        </tr>
        <tr>
          <td id="L8136" data-line-number="8136"></td>
          <td id="LC8136">		<span>if</span> (selectionStart &gt; posStartComment)</td>
        </tr>
        <tr>
          <td id="L8137" data-line-number="8137"></td>
          <td id="LC8137">		{</td>
        </tr>
        <tr>
          <td id="L8138" data-line-number="8138"></td>
          <td id="LC8138">			<span>if</span> (selectionStart &gt;= posStartComment+startCommentLength)</td>
        </tr>
        <tr>
          <td id="L8139" data-line-number="8139"></td>
          <td id="LC8139">				selectionStartMove = -startCommentLength;</td>
        </tr>
        <tr>
          <td id="L8140" data-line-number="8140"></td>
          <td id="LC8140">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L8141" data-line-number="8141"></td>
          <td id="LC8141">				selectionStartMove = -selectionStart - posStartComment;</td>
        </tr>
        <tr>
          <td id="L8142" data-line-number="8142"></td>
          <td id="LC8142">		}</td>
        </tr>
        <tr>
          <td id="L8143" data-line-number="8143"></td>
          <td id="LC8143">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L8144" data-line-number="8144"></td>
          <td id="LC8144">			selectionStartMove = <span>0</span>;</td>
        </tr>
        <tr>
          <td id="L8145" data-line-number="8145"></td>
          <td id="LC8145">
</td>
        </tr>
        <tr>
          <td id="L8146" data-line-number="8146"></td>
          <td id="LC8146">		<span><span>//</span>   selectionEnd</span></td>
        </tr>
        <tr>
          <td id="L8147" data-line-number="8147"></td>
          <td id="LC8147">		<span>if</span> (selectionEnd &gt;= posEndComment+endCommentLength)</td>
        </tr>
        <tr>
          <td id="L8148" data-line-number="8148"></td>
          <td id="LC8148">			selectionEndMove = -startCommentLength+endCommentLength;</td>
        </tr>
        <tr>
          <td id="L8149" data-line-number="8149"></td>
          <td id="LC8149">		<span>else</span> <span>if</span> (selectionEnd &lt;= posEndComment)</td>
        </tr>
        <tr>
          <td id="L8150" data-line-number="8150"></td>
          <td id="LC8150">			selectionEndMove = -startCommentLength;</td>
        </tr>
        <tr>
          <td id="L8151" data-line-number="8151"></td>
          <td id="LC8151">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L8152" data-line-number="8152"></td>
          <td id="LC8152">			selectionEndMove = -startCommentLength + (selectionEnd - posEndComment);</td>
        </tr>
        <tr>
          <td id="L8153" data-line-number="8153"></td>
          <td id="LC8153">
</td>
        </tr>
        <tr>
          <td id="L8154" data-line-number="8154"></td>
          <td id="LC8154">		<span><span>//</span>-- Reset selection of text without deleted stream-comment-string</span></td>
        </tr>
        <tr>
          <td id="L8155" data-line-number="8155"></td>
          <td id="LC8155">		<span>if</span> (move_caret)</td>
        </tr>
        <tr>
          <td id="L8156" data-line-number="8156"></td>
          <td id="LC8156">		{</td>
        </tr>
        <tr>
          <td id="L8157" data-line-number="8157"></td>
          <td id="LC8157">			<span><span>//</span> moving caret to the beginning of selected block</span></td>
        </tr>
        <tr>
          <td id="L8158" data-line-number="8158"></td>
          <td id="LC8158">			_pEditView-&gt;<span>execute</span>(SCI_GOTOPOS, selectionEnd+selectionEndMove);</td>
        </tr>
        <tr>
          <td id="L8159" data-line-number="8159"></td>
          <td id="LC8159">			_pEditView-&gt;<span>execute</span>(SCI_SETCURRENTPOS, selectionStart+selectionStartMove);</td>
        </tr>
        <tr>
          <td id="L8160" data-line-number="8160"></td>
          <td id="LC8160">		}</td>
        </tr>
        <tr>
          <td id="L8161" data-line-number="8161"></td>
          <td id="LC8161">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L8162" data-line-number="8162"></td>
          <td id="LC8162">		{</td>
        </tr>
        <tr>
          <td id="L8163" data-line-number="8163"></td>
          <td id="LC8163">			_pEditView-&gt;<span>execute</span>(SCI_SETSEL, selectionStart+selectionStartMove, selectionEnd+selectionEndMove);</td>
        </tr>
        <tr>
          <td id="L8164" data-line-number="8164"></td>
          <td id="LC8164">		}</td>
        </tr>
        <tr>
          <td id="L8165" data-line-number="8165"></td>
          <td id="LC8165">	}</td>
        </tr>
        <tr>
          <td id="L8166" data-line-number="8166"></td>
          <td id="LC8166">	<span>while</span> (<span>1</span>); <span><span>//</span>do as long as stream-comments are within selection</span></td>
        </tr>
        <tr>
          <td id="L8167" data-line-number="8167"></td>
          <td id="LC8167">}</td>
        </tr>
        <tr>
          <td id="L8168" data-line-number="8168"></td>
          <td id="LC8168">
</td>
        </tr>
        <tr>
          <td id="L8169" data-line-number="8169"></td>
          <td id="LC8169"><span>void</span> <span>Notepad_plus::monitoringStartOrStopAndUpdateUI</span>(Buffer* pBuf, <span>bool</span> isStarting)</td>
        </tr>
        <tr>
          <td id="L8170" data-line-number="8170"></td>
          <td id="LC8170">{</td>
        </tr>
        <tr>
          <td id="L8171" data-line-number="8171"></td>
          <td id="LC8171">	<span>if</span> (pBuf)</td>
        </tr>
        <tr>
          <td id="L8172" data-line-number="8172"></td>
          <td id="LC8172">	{</td>
        </tr>
        <tr>
          <td id="L8173" data-line-number="8173"></td>
          <td id="LC8173">		<span>if</span> (isStarting)</td>
        </tr>
        <tr>
          <td id="L8174" data-line-number="8174"></td>
          <td id="LC8174">			pBuf-&gt;<span>startMonitoring</span>();</td>
        </tr>
        <tr>
          <td id="L8175" data-line-number="8175"></td>
          <td id="LC8175">		<span>else</span></td>
        </tr>
        <tr>
          <td id="L8176" data-line-number="8176"></td>
          <td id="LC8176">			pBuf-&gt;<span>stopMonitoring</span>();</td>
        </tr>
        <tr>
          <td id="L8177" data-line-number="8177"></td>
          <td id="LC8177">
</td>
        </tr>
        <tr>
          <td id="L8178" data-line-number="8178"></td>
          <td id="LC8178">		<span>checkMenuItem</span>(IDM_VIEW_MONITORING, isStarting);</td>
        </tr>
        <tr>
          <td id="L8179" data-line-number="8179"></td>
          <td id="LC8179">		_toolBar.<span>setCheck</span>(IDM_VIEW_MONITORING, isStarting);</td>
        </tr>
        <tr>
          <td id="L8180" data-line-number="8180"></td>
          <td id="LC8180">		pBuf-&gt;<span>setUserReadOnly</span>(isStarting);</td>
        </tr>
        <tr>
          <td id="L8181" data-line-number="8181"></td>
          <td id="LC8181">	}</td>
        </tr>
        <tr>
          <td id="L8182" data-line-number="8182"></td>
          <td id="LC8182">}</td>
        </tr>
        <tr>
          <td id="L8183" data-line-number="8183"></td>
          <td id="LC8183">
</td>
        </tr>
        <tr>
          <td id="L8184" data-line-number="8184"></td>
          <td id="LC8184"><span>void</span> <span>Notepad_plus::createMonitoringThread</span>(Buffer* pBuf)</td>
        </tr>
        <tr>
          <td id="L8185" data-line-number="8185"></td>
          <td id="LC8185">{</td>
        </tr>
        <tr>
          <td id="L8186" data-line-number="8186"></td>
          <td id="LC8186">	MonitorInfo *monitorInfo = <span>new</span> <span>Notepad_plus::MonitorInfo</span>(pBuf, _pPublicInterface-&gt;<span>getHSelf</span>());</td>
        </tr>
        <tr>
          <td id="L8187" data-line-number="8187"></td>
          <td id="LC8187">	HANDLE hThread = ::<span>CreateThread</span>(<span>NULL</span>, <span>0</span>, monitorFileOnChange, (<span>void</span> *)monitorInfo, <span>0</span>, <span>NULL</span>); <span><span>//</span> will be deallocated while quitting thread</span></td>
        </tr>
        <tr>
          <td id="L8188" data-line-number="8188"></td>
          <td id="LC8188">	<span>::CloseHandle</span>(hThread);</td>
        </tr>
        <tr>
          <td id="L8189" data-line-number="8189"></td>
          <td id="LC8189">}</td>
        </tr>
        <tr>
          <td id="L8190" data-line-number="8190"></td>
          <td id="LC8190">
</td>
        </tr>
        <tr>
          <td id="L8191" data-line-number="8191"></td>
          <td id="LC8191"><span><span>//</span> Fill names into the shortcut list.</span></td>
        </tr>
        <tr>
          <td id="L8192" data-line-number="8192"></td>
          <td id="LC8192"><span><span>//</span> Each command shortcut has two names:</span></td>
        </tr>
        <tr>
          <td id="L8193" data-line-number="8193"></td>
          <td id="LC8193"><span><span>//</span> - The menu name, to be displayed in the menu</span></td>
        </tr>
        <tr>
          <td id="L8194" data-line-number="8194"></td>
          <td id="LC8194"><span><span>//</span> - The shortcut name, to be displayed in the shortcut list</span></td>
        </tr>
        <tr>
          <td id="L8195" data-line-number="8195"></td>
          <td id="LC8195"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L8196" data-line-number="8196"></td>
          <td id="LC8196"><span><span>//</span> The names are filled in with the following priorities:</span></td>
        </tr>
        <tr>
          <td id="L8197" data-line-number="8197"></td>
          <td id="LC8197"><span><span>//</span> * Menu name</span></td>
        </tr>
        <tr>
          <td id="L8198" data-line-number="8198"></td>
          <td id="LC8198"><span><span>//</span>   1. From xml Menu/Main/Commands section</span></td>
        </tr>
        <tr>
          <td id="L8199" data-line-number="8199"></td>
          <td id="LC8199"><span><span>//</span>   2. From menu resource in Notepad_plus.rc</span></td>
        </tr>
        <tr>
          <td id="L8200" data-line-number="8200"></td>
          <td id="LC8200"><span><span>//</span>   3. From winKeyDefs[] table in Parameter.cpp</span></td>
        </tr>
        <tr>
          <td id="L8201" data-line-number="8201"></td>
          <td id="LC8201"><span><span>//</span>   We don&#39;t use xml ShortCutMapper/MainCommandNames here</span></td>
        </tr>
        <tr>
          <td id="L8202" data-line-number="8202"></td>
          <td id="LC8202"><span><span>//</span></span></td>
        </tr>
        <tr>
          <td id="L8203" data-line-number="8203"></td>
          <td id="LC8203"><span><span>//</span> * Shortcut name</span></td>
        </tr>
        <tr>
          <td id="L8204" data-line-number="8204"></td>
          <td id="LC8204"><span><span>//</span>   1. From xml ShortCutMapper/MainCommandNames section</span></td>
        </tr>
        <tr>
          <td id="L8205" data-line-number="8205"></td>
          <td id="LC8205"><span><span>//</span>   2. From xml file Menu/Main/Commands section</span></td>
        </tr>
        <tr>
          <td id="L8206" data-line-number="8206"></td>
          <td id="LC8206"><span><span>//</span>   3. From the winKeyDefs[] table in Parameter.cpp</span></td>
        </tr>
        <tr>
          <td id="L8207" data-line-number="8207"></td>
          <td id="LC8207"><span><span>//</span>   4. From the menu resource in Notepad_plus.rc</span></td>
        </tr>
        <tr>
          <td id="L8208" data-line-number="8208"></td>
          <td id="LC8208">
</td>
        </tr>
        <tr>
          <td id="L8209" data-line-number="8209"></td>
          <td id="LC8209"><span>void</span> <span>Notepad_plus::updateCommandShortcuts</span>()</td>
        </tr>
        <tr>
          <td id="L8210" data-line-number="8210"></td>
          <td id="LC8210">{</td>
        </tr>
        <tr>
          <td id="L8211" data-line-number="8211"></td>
          <td id="LC8211">	NppParameters&amp; nppParam = <span>NppParameters::getInstance</span>();</td>
        </tr>
        <tr>
          <td id="L8212" data-line-number="8212"></td>
          <td id="LC8212">	vector&lt;CommandShortcut&gt; &amp; shortcuts = nppParam.<span>getUserShortcuts</span>();</td>
        </tr>
        <tr>
          <td id="L8213" data-line-number="8213"></td>
          <td id="LC8213">	<span>size_t</span> len = shortcuts.<span>size</span>();</td>
        </tr>
        <tr>
          <td id="L8214" data-line-number="8214"></td>
          <td id="LC8214">
</td>
        </tr>
        <tr>
          <td id="L8215" data-line-number="8215"></td>
          <td id="LC8215">	<span>for</span> (<span>size_t</span> i = <span>0</span>; i &lt; len; ++i)</td>
        </tr>
        <tr>
          <td id="L8216" data-line-number="8216"></td>
          <td id="LC8216">	{</td>
        </tr>
        <tr>
          <td id="L8217" data-line-number="8217"></td>
          <td id="LC8217">		CommandShortcut &amp; csc = shortcuts[i];</td>
        </tr>
        <tr>
          <td id="L8218" data-line-number="8218"></td>
          <td id="LC8218">		<span>unsigned</span> <span>long</span> id = csc.<span>getID</span>();</td>
        </tr>
        <tr>
          <td id="L8219" data-line-number="8219"></td>
          <td id="LC8219">		generic_string localizedMenuName = _nativeLangSpeaker.<span>getNativeLangMenuString</span>(id);</td>
        </tr>
        <tr>
          <td id="L8220" data-line-number="8220"></td>
          <td id="LC8220">		generic_string menuName = localizedMenuName;</td>
        </tr>
        <tr>
          <td id="L8221" data-line-number="8221"></td>
          <td id="LC8221">		generic_string shortcutName = _nativeLangSpeaker.<span>getShortcutNameString</span>(id);</td>
        </tr>
        <tr>
          <td id="L8222" data-line-number="8222"></td>
          <td id="LC8222">
</td>
        </tr>
        <tr>
          <td id="L8223" data-line-number="8223"></td>
          <td id="LC8223">		<span>if</span> (menuName.<span>length</span>() == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L8224" data-line-number="8224"></td>
          <td id="LC8224">		{</td>
        </tr>
        <tr>
          <td id="L8225" data-line-number="8225"></td>
          <td id="LC8225">			TCHAR szMenuName[<span>64</span>];</td>
        </tr>
        <tr>
          <td id="L8226" data-line-number="8226"></td>
          <td id="LC8226">			<span>if</span> (::<span>GetMenuString</span>(_mainMenuHandle, csc.<span>getID</span>(), szMenuName, <span>_countof</span>(szMenuName), MF_BYCOMMAND))</td>
        </tr>
        <tr>
          <td id="L8227" data-line-number="8227"></td>
          <td id="LC8227">				menuName = <span>purgeMenuItemString</span>(szMenuName, <span>true</span>);</td>
        </tr>
        <tr>
          <td id="L8228" data-line-number="8228"></td>
          <td id="LC8228">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L8229" data-line-number="8229"></td>
          <td id="LC8229">				menuName = csc.<span>getShortcutName</span>();</td>
        </tr>
        <tr>
          <td id="L8230" data-line-number="8230"></td>
          <td id="LC8230">		}</td>
        </tr>
        <tr>
          <td id="L8231" data-line-number="8231"></td>
          <td id="LC8231">
</td>
        </tr>
        <tr>
          <td id="L8232" data-line-number="8232"></td>
          <td id="LC8232">		<span>if</span> (shortcutName.<span>length</span>() == <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L8233" data-line-number="8233"></td>
          <td id="LC8233">		{</td>
        </tr>
        <tr>
          <td id="L8234" data-line-number="8234"></td>
          <td id="LC8234">			<span>if</span> (localizedMenuName.<span>length</span>() &gt; <span>0</span>)</td>
        </tr>
        <tr>
          <td id="L8235" data-line-number="8235"></td>
          <td id="LC8235">				shortcutName = localizedMenuName;</td>
        </tr>
        <tr>
          <td id="L8236" data-line-number="8236"></td>
          <td id="LC8236">			<span>else</span> <span>if</span> (csc.<span>getShortcutName</span>()[<span>0</span>])</td>
        </tr>
        <tr>
          <td id="L8237" data-line-number="8237"></td>
          <td id="LC8237">				shortcutName = csc.<span>getShortcutName</span>();</td>
        </tr>
        <tr>
          <td id="L8238" data-line-number="8238"></td>
          <td id="LC8238">			<span>else</span></td>
        </tr>
        <tr>
          <td id="L8239" data-line-number="8239"></td>
          <td id="LC8239">				shortcutName = menuName;</td>
        </tr>
        <tr>
          <td id="L8240" data-line-number="8240"></td>
          <td id="LC8240">		}</td>
        </tr>
        <tr>
          <td id="L8241" data-line-number="8241"></td>
          <td id="LC8241">
</td>
        </tr>
        <tr>
          <td id="L8242" data-line-number="8242"></td>
          <td id="LC8242">		csc.<span>setName</span>(menuName.<span>c_str</span>(), shortcutName.<span>c_str</span>());</td>
        </tr>
        <tr>
          <td id="L8243" data-line-number="8243"></td>
          <td id="LC8243">	}</td>
        </tr>
        <tr>
          <td id="L8244" data-line-number="8244"></td>
          <td id="LC8244">}</td>
        </tr>
        <tr>
          <td id="L8245" data-line-number="8245"></td>
          <td id="LC8245">
</td>
        </tr>
        <tr>
          <td id="L8246" data-line-number="8246"></td>
          <td id="LC8246">HBITMAP <span>Notepad_plus::generateSolidColourMenuItemIcon</span>(COLORREF colour)</td>
        </tr>
        <tr>
          <td id="L8247" data-line-number="8247"></td>
          <td id="LC8247">{</td>
        </tr>
        <tr>
          <td id="L8248" data-line-number="8248"></td>
          <td id="LC8248">	HDC hDC = <span>GetDC</span>(<span>NULL</span>);</td>
        </tr>
        <tr>
          <td id="L8249" data-line-number="8249"></td>
          <td id="LC8249">	<span>const</span> <span>int</span> bitmapXYsize = <span>16</span>;</td>
        </tr>
        <tr>
          <td id="L8250" data-line-number="8250"></td>
          <td id="LC8250">	HBITMAP hNewBitmap = <span>CreateCompatibleBitmap</span>(hDC, bitmapXYsize, bitmapXYsize);</td>
        </tr>
        <tr>
          <td id="L8251" data-line-number="8251"></td>
          <td id="LC8251">	HDC hDCn = <span>CreateCompatibleDC</span>(hDC);</td>
        </tr>
        <tr>
          <td id="L8252" data-line-number="8252"></td>
          <td id="LC8252">	HBITMAP hOldBitmap = <span>static_cast</span>&lt;HBITMAP&gt;(<span>SelectObject</span>(hDCn, hNewBitmap));</td>
        </tr>
        <tr>
          <td id="L8253" data-line-number="8253"></td>
          <td id="LC8253">	RECT rc = { <span>0</span>, <span>0</span>, bitmapXYsize, bitmapXYsize };</td>
        </tr>
        <tr>
          <td id="L8254" data-line-number="8254"></td>
          <td id="LC8254">
</td>
        </tr>
        <tr>
          <td id="L8255" data-line-number="8255"></td>
          <td id="LC8255">	<span><span>//</span> paint full-size black square</span></td>
        </tr>
        <tr>
          <td id="L8256" data-line-number="8256"></td>
          <td id="LC8256">	HBRUSH hBlackBrush = <span>CreateSolidBrush</span>(<span>RGB</span>(<span>0</span>,<span>0</span>,<span>0</span>));</td>
        </tr>
        <tr>
          <td id="L8257" data-line-number="8257"></td>
          <td id="LC8257">	<span>FillRect</span>(hDCn, &amp;rc, hBlackBrush);</td>
        </tr>
        <tr>
          <td id="L8258" data-line-number="8258"></td>
          <td id="LC8258">	<span>DeleteObject</span>(hBlackBrush);</td>
        </tr>
        <tr>
          <td id="L8259" data-line-number="8259"></td>
          <td id="LC8259">
</td>
        </tr>
        <tr>
          <td id="L8260" data-line-number="8260"></td>
          <td id="LC8260">	<span><span>//</span> overpaint a slightly smaller colored square</span></td>
        </tr>
        <tr>
          <td id="L8261" data-line-number="8261"></td>
          <td id="LC8261">	rc.<span>left</span> = rc.<span>top</span> = <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L8262" data-line-number="8262"></td>
          <td id="LC8262">	rc.<span>right</span> = rc.<span>bottom</span> = bitmapXYsize - <span>1</span>;</td>
        </tr>
        <tr>
          <td id="L8263" data-line-number="8263"></td>
          <td id="LC8263">	HBRUSH hColorBrush = <span>CreateSolidBrush</span>(colour);</td>
        </tr>
        <tr>
          <td id="L8264" data-line-number="8264"></td>
          <td id="LC8264">	<span>FillRect</span>(hDCn, &amp;rc, hColorBrush);</td>
        </tr>
        <tr>
          <td id="L8265" data-line-number="8265"></td>
          <td id="LC8265">	<span>DeleteObject</span>(hColorBrush);</td>
        </tr>
        <tr>
          <td id="L8266" data-line-number="8266"></td>
          <td id="LC8266">
</td>
        </tr>
        <tr>
          <td id="L8267" data-line-number="8267"></td>
          <td id="LC8267">	<span><span>//</span> restore old bitmap so we can delete it to avoid leak</span></td>
        </tr>
        <tr>
          <td id="L8268" data-line-number="8268"></td>
          <td id="LC8268">	<span>SelectObject</span>(hDCn, hOldBitmap);</td>
        </tr>
        <tr>
          <td id="L8269" data-line-number="8269"></td>
          <td id="LC8269">	<span>DeleteDC</span>(hDCn);</td>
        </tr>
        <tr>
          <td id="L8270" data-line-number="8270"></td>
          <td id="LC8270">
</td>
        </tr>
        <tr>
          <td id="L8271" data-line-number="8271"></td>
          <td id="LC8271">	<span>return</span> hNewBitmap;</td>
        </tr>
        <tr>
          <td id="L8272" data-line-number="8272"></td>
          <td id="LC8272">}</td>
        </tr>
  </tbody></div></div>
  </body>
</html>
