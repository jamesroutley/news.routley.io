<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://developer.nvidia.com/blog/nvidia-releases-open-source-gpu-kernel-modules/">Original</a>
    <h1>Nvidia releases open-source GPU kernel modules</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>NVIDIA is now publishing Linux GPU kernel modules as open source with dual GPL/MIT license, starting with the R515 driver release. You can find the source code for these kernel modules in the <a rel="noreferrer noopener nofollow external" href="https://github.com/NVIDIA/open-gpu-kernel-modules" target="_blank" data-wpel-link="external">NVIDIA/open-gpu-kernel-modules</a> GitHub page</p>



<p>This release is a significant step toward improving the experience of using NVIDIA GPUs in Linux, for tighter integration with the OS, and for developers to debug, integrate, and contribute back. For Linux distribution providers, the open-source modules increase ease of use. They also improve the out-of-the-box user experience to sign and distribute the NVIDIA GPU driver. Canonical and SUSE can immediately package the open kernel modules with Ubuntu and SUSE Linux Enterprise Distributions. </p>



<p>You can trace into code paths and see how kernel event scheduling is interacting with your workload, for faster root-cause debugging. In addition, enterprise software developers can now integrate the driver seamlessly into the customized Linux kernel configured for their project.</p>



<p>This helps improve NVIDIA GPU driver quality and security with input and reviews from the Linux end-user community.</p>



<p>With each new driver release, NVIDIA publishes a snapshot of the source code on the <a rel="noreferrer noopener nofollow external" href="https://github.com/NVIDIA/open-gpu-kernel-modules" target="_blank" data-wpel-link="external"></a><a rel="noreferrer noopener" href="https://github.com/NVIDIA/open-gpu-kernel-modules" target="_blank">NVIDIA/open-gpu-kernel-modules</a> GitHub page. Community submitted patches are reviewed and if approved, integrated into a future driver release. </p>



<p>For more information, see the NVIDIA <a href="https://github.com/NVIDIA/open-gpu-kernel-modules/blob/main/README.md" target="_blank" rel="noreferrer noopener nofollow external" data-wpel-link="external">contribution guidelines</a> and overview of the driver <a href="https://docs.nvidia.com/datacenter/tesla/drivers/index.html#lifecycle" target="_self" rel="noreferrer noopener" data-wpel-link="internal">release cadence and lifecycle</a> documentation.</p>



<h2>Supported functionality</h2>



<p>The first release of the open GPU kernel modules is R515. Along with the source code, fully built and packaged versions of the drivers are provided.</p>



<p>For data center GPUs in the NVIDIA Turing and NVIDIA Ampere architecture families, this code is production-ready. This was made possible by the phased rollout of the <a href="https://download.nvidia.com/XFree86/Linux-x86_64/510.39.01/README/gsp.html" data-wpel-link="internal" target="_self" rel="noopener noreferrer">GSP driver architecture</a> over the past year, designed to make the transition easy for NVIDIA customers. We focused on testing across a wide variety of workloads to ensure feature and performance parity with the proprietary kernel-mode driver.</p>



<p>In the future, functionality such as HMM will be a foundational component for <a rel="noreferrer noopener" href="https://www.nvidia.com/en-us/data-center/solutions/confidential-computing/" target="_self" data-wpel-link="internal">confidential computing</a> on the <a rel="noreferrer noopener" href="https://developer.nvidia.com/blog/nvidia-hopper-architecture-in-depth/" target="_self" data-wpel-link="internal">NVIDIA Hopper architecture</a>.</p>



<p>In this open-source release, support for GeForce and Workstation GPUs is alpha-quality. GeForce and Workstation users can use this driver on NVIDIA Turing and NVIDIA Ampere Architecture GPUs to run Linux desktops and use features such as multiple displays, G-SYNC, and NVIDIA RTX ray tracing in Vulkan and NVIDIA OptiX. </p>



<p>You can <a href="http://us.download.nvidia.com/XFree86/Linux-x86_64/515.43.04/README/kernel_open.html" target="_self" rel="noreferrer noopener" data-wpel-link="internal">opt in using the kernel module parameter <code>NVreg_OpenRmEnableUnsupportedGpus=1</code></a>. More robust and fully featured GeForce and Workstation support will follow in subsequent releases and the NVIDIA Open Kernel Modules will eventually supplant the closed-source driver. </p>



<p>Customers with NVIDIA Turing and NVIDIA Ampere Architecture GPUs can choose which modules to install. Pre-Turing customers will continue to run the closed source modules.</p>



<p>The open-source kernel-mode driver works with the same firmware and the same user-mode stacks such as CUDA, OpenGL, and Vulkan. However, all components of the driver stack must match versions within a release. For instance, you cannot take a release of the source code, build, and run it with the user-mode stack from a previous or future release. </p>



<p>For more information about installing the right versions and additional troubleshooting steps, see the driver <a href="http://us.download.nvidia.com/XFree86/Linux-x86_64/515.43.04/README/kernel_open.html" data-wpel-link="internal" target="_self" rel="noopener noreferrer">README</a>.</p>



<h2>Installation opt-in</h2>



<p>The R515 release contains precompiled versions of both the closed-source driver and the open-source kernel modules. These versions are mutually exclusive, and you can make the choice at install time. The default option ensures that silent installs pick the optimal path for NVIDIA Volta and older GPUs compared to NVIDIA Turing+ GPUs.</p>



<p>You can build kernel modules from the source code and install them with the relevant user-mode drivers.</p>



<div><figure><a href="https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1.png" data-wpel-link="internal" target="_self" rel="noopener noreferrer"><img loading="lazy" width="625" height="223" src="https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-625x223.png" alt="Diagram with gray Installer ellipse pointing to two green rectangles showing how the CUDA R515 driver software is packaged with both binary and source modules." data-lazy-srcset="https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-625x223.png 625w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-300x107.png 300w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-179x64.png 179w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-768x274.png 768w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-1536x548.png 1536w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-500x178.png 500w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-160x57.png 160w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-362x129.png 362w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-309x110.png 309w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-1024x365.png 1024w, https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1.png 1557w" data-lazy-sizes="(max-width: 625px) 100vw, 625px" data-lazy-src="https://developer-blogs.nvidia.com/wp-content/uploads/2022/05/OpenRM-Fig-1-Large-1-625x223.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a><figcaption><em>Figure 1. Installation options for opting in to open GPU kernel modules and the default path of closed source modules</em></figcaption></figure></div>



<h2>Partner ecosystem</h2>



<p>NVIDIA has been working with Canonical, Red Hat, and SUSE for better packaging, deployment, and support models for our mutual customers.</p>



<h3>Canonical</h3>



<p>“The new NVIDIA open-source GPU kernel modules will simplify installs and increase security for Ubuntu users, whether they’re AI/ML developers, gamers, or cloud users,” commented Cindy Goldberg, VP of Silicon alliances at Canonical. “As the makers of Ubuntu, the most popular Linux-based operating system for developers, we can now provide even better support to developers working at the cutting edge of AI and ML by enabling even closer integration with NVIDIA GPUs on Ubuntu.”</p>



<p>In the coming months, the NVIDIA Open GPU kernel modules will make their way into the recently launched Canonical Ubuntu 22.04 LTS.</p>



<h3>SUSE</h3>



<p>“We at SUSE are excited that NVIDIA is releasing their GPU kernel-mode driver as open source. This is a true milestone for the open-source community and accelerated computing. SUSE is proud to be the first major Linux distribution to deliver this breakthrough with SUSE Linux Enterprise 15 SP4 in June. Together, NVIDIA and SUSE power your GPU-accelerated computing needs across cloud, data center, and edge with a secure software supply chain and excellence in support.” — Markus Noga, General Manager, Business Critical Linux at SUSE</p>



<h3>Red Hat</h3>



<p>“Enterprise open source can spur innovation and improve customers’ experience, something that Red Hat has always championed. We applaud NVIDIA’s decision to open source its GPU kernel driver. Red Hat has collaborated with NVIDIA for many years, and we are excited to see them take this next step. We look forward to bringing these capabilities to our customers and to improve interoperability with NVIDIA hardware.” — Mike McGrath, Vice President, Linux Engineering at Red Hat</p>



<h2>Upstream approach</h2>



<p>NVIDIA GPU drivers have been designed over the years to share code across operating systems, GPUs and Jetson SOCs so that we can provide a consistent experience across all our supported platforms. The current codebase does not conform to the Linux kernel design conventions and is not a candidate for Linux upstream.</p>



<p>There are plans to work on an upstream approach with the Linux kernel community and partners such as Canonical, Red Hat, and SUSE. </p>



<p>In the meantime, published source code serves as a reference to help improve the Nouveau driver. Nouveau can leverage the same firmware used by the NVIDIA driver, exposing many GPU functionalities, such as clock management and thermal management, bringing new features to the in-tree Nouveau driver.</p>



<p>Stay tuned for more developments in future driver releases and collaboration on GitHub. </p>



<h2>Frequently asked questions</h2>



<h3>Where can I download the R515 driver?</h3>



<p>You can download the R515 development driver as part of <a href="https://developer.nvidia.com/cuda-downloads" target="_self" rel="noreferrer noopener" data-wpel-link="internal">CUDA Toolkit 11.7</a>, or from the <a href="https://www.nvidia.com/en-us/drivers/unix/" target="_self" rel="noreferrer noopener" data-wpel-link="internal">driver downloads page</a> under “Beta” drivers. The R515 data center driver will follow in subsequent releases per our usual cadence.</p>



<h3>Can open GPU kernel modules be distributed?</h3>



<p>Yes, the NVIDIA open kernel modules are licensed under a dual GPL/MIT license and the terms of licenses govern the distribution and repackaging grants. </p>



<h3>Will the source for user-mode drivers such as CUDA be published?</h3>



<p>These changes are for the kernel modules, while the user-mode components are untouched. The user-mode remains closed source and is published with prebuilt binaries in the driver and the CUDA toolkit.</p>



<h3>Which GPUs are supported by open GPU kernel modules?</h3>



<p>Open kernel modules support all NVIDIA Ampere and Turing architecture GPUs. Datacenter GPUs are supported for production, and support for GeForce and Workstation GPUs is alpha quality. For more information, see the Datacenter, NVIDIA RTX, and GeForce <a href="https://developer.nvidia.com/cuda-gpus" target="_self" rel="noreferrer noopener" data-wpel-link="internal">CUDA GPUs product tables</a> (NVIDIA Turing and later GPUs have compute capability of 7.5 or greater).</p>



<h3>How to report bugs</h3>



<p>Problems can be reported through the <a href="https://github.com/NVIDIA/open-gpu-kernel-modules/issues" target="_blank" rel="noreferrer noopener nofollow external" data-wpel-link="external">GitHub repository issue tracker</a> or through our existing <a href="https://forums.developer.nvidia.com/c/gpu-graphics/linux/148" target="_self" rel="noreferrer noopener" data-wpel-link="internal">end-user support forum</a>. Please report security issues through the channels listed on the <a href="https://github.com/NVIDIA/open-gpu-kernel-modules/security/policy" target="_blank" rel="noreferrer noopener nofollow external" data-wpel-link="external">GitHub repository security policy</a>.</p>



<h3>What is the process for patch submission and SLA/CLA for patches?</h3>



<p>We encourage community submissions through pull requests on the GitHub page. The submitted patches will be reviewed and if approved, integrated with possible modifications into a future driver release. For more information, see the <a href="https://docs.nvidia.com/datacenter/tesla/drivers/index.html#lifecycle" data-wpel-link="internal" target="_self" rel="noopener noreferrer">NVIDIA driver lifecycle</a> document.</p>



<p>The published source code is a snapshot generated from a shared codebase, so contributions may not be reflected as separate Git commits in the GitHub repo. We are working on a process for acknowledging community contributions. We also advise against making significant reformatting of the code for the same reasons.</p>



<p>The process for submitting pull requests is described on the <a rel="noreferrer noopener nofollow external" href="https://github.com/NVIDIA/open-gpu-kernel-modules" target="_blank" data-wpel-link="external">NVIDIA/open-gpu-kernel-modules</a> GitHub page<a href="https://github.com/NVIDIA/open-gpu-kernel-modules" data-wpel-link="external" target="_blank" rel="nofollow external noopener noreferrer"></a> and such contributions are covered under the <a href="https://cla-assistant.io/NVIDIA/open-gpu-kernel-modules" target="_blank" rel="noreferrer noopener nofollow external" data-wpel-link="external">Contributor License Agreement</a>.</p>



<p>For more information, see the open GPU kernel modules <a rel="noreferrer noopener nofollow external" href="https://github.com/NVIDIA/open-gpu-kernel-modules" target="_blank" data-wpel-link="external">NVIDIA/open-gpu-kernel-modules</a> GitHub page.</p>
</div></div>
  </body>
</html>
