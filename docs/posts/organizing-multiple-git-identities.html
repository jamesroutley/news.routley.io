<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://garrit.xyz/posts/2023-10-13-organizing-multiple-git-identities">Original</a>
    <h1>Organizing multiple Git identities</h1>
    
    <div id="readability-page-1" class="page"><div><p>Here&#39;s a quick tip on how to manage multiple Git identities (e.g. personal, work, client1, client2).</p>
<p>I organize my Git repos in three levels. My personal projects live in a <code>~/sources</code> directory. All my work projects live in <code>~/work</code>. This is the first level.</p>
<p>Level 2 is the client, e.g. <code>~/work/client1</code>. Naturally, level 3 is the project repository: <code>~/work/client1/foo-api</code>.</p>
<p>This is how my work directory is organized:</p>
<pre><code>/Users/garrit/work
├── client1
│   ├── foo-api
│   ├── foo-ios
│   └── foo-android
└── client2
    ├── bar-ios
    └── bar-middleware
</code></pre>
<p>Now, say that <code>client2</code> demands that we commit with a different identity than our default work email. Besides that, you probably also have a personal email address for your own projects. How do you manage that?</p>
<h2 id=".gitconfig-includes">.gitconfig includes</h2>
<p>The global configuration file for Git is <code>~/.gitconfig</code>. If you&#39;ve ever set a parameter like <code>git config user.name &#34;Foo Bar&#34;</code>: this is where it ended up.</p>
<p>One awesome feature of the .gitconfig file is that you can <strong>conditionally include other config files</strong>, and this is what does the trick. Here&#39;s my <code>~/.gitconfig</code> file:</p>
<pre><code>[user]
    name = Garrit Franke
    email = garrit@slashdev.space

[includeIf &#34;gitdir:~/work/&#34;]
    path = ~/.gitconfig-work

[includeIf &#34;gitdir:~/work/client2/&#34;]
    path = ~/.gitconfig-client2

[includeIf &#34;gitdir:~/sources/&#34;]
    path = ~/.gitconfig-personal

# ...
</code></pre>
<p>By default, my name and email are always set to my personal identity. I also store some other global settings here, but those are not relevant for this post. If the repository is located inside the <code>~/work</code> directory, a file named <code>~/.gitconfig-work</code> is included. This is just another gitconfig file. This is what that looks like in my case:</p>
<pre><code>[user]
    name = Garrit Franke
    signingkey = 12345678
    email = garrit@work.de

[commit]
    gpgsign = true
</code></pre>
<p>I hope you&#39;ll see where this is going. For every identity, you keep a separate gitconfig file and include it in the main <code>~/.gitconfig</code>. Crucially, this requires you to organize your repositories grouped by client.</p>
<p>This trick has simplified my project onboarding quite a bit. No more &#34;You forgot to update your Email Address&#34; requests from clients!</p>
<hr/>
<p>This is post 083 of <a href="https://100daystooffload.com/">#100DaysToOffload</a>.</p><hr/><p><a href="mailto:garrit@slashdev.space?subject=Re: Organizing%20multiple%20Git%20identities">Reply via E-Mail</a></p><p><a href="https://www.buymeacoffee.com/garrit" target="_blank"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug=garrit&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=ffffff"/></a></p><p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><a href="https://garrit.xyz/posts?tags=100DaysToOffload">#<!-- -->100DaysToOffload</a><a href="https://garrit.xyz/posts?tags=guide">#<!-- -->guide</a><a href="https://garrit.xyz/posts?tags=note">#<!-- -->note</a><a href="https://garrit.xyz/posts?tags=til">#<!-- -->til</a><a href="https://garrit.xyz/posts?tags=git">#<!-- -->git</a><a href="https://garrit.xyz/posts?tags=tech">#<!-- -->tech</a></p><hr/><h2>Continue Reading</h2></div></div>
  </body>
</html>
