<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ggerganov/llama.cpp/pull/1773">Original</a>
    <h1>Llama: Add grammar-based sampling</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
      <div>
        <article>
          <section><p><em>This was also sent out as a <a href="https://tinyletter.com/jimkang/letters/sleep-funnels">newsletter</a>. If you’d like to get project updates like this as email, you can <a href="https://tinyletter.com/jimkang/">subscribe</a>.</em></p>

<p>
Here is a new <span>EP</span> for you!</p>
<p><a href="https://jimkang.bandcamp.com/album/sleep-funnels">https://jimkang.bandcamp.com/album/sleep-funnels</a></p>



<p>It is about sleep, but it is not <em>for</em> sleep, at least not by design like the things produced by the sleep utility industry (10 Hours of Continuous Rain Sounds, Sleepy Piano, etc.). I did try to put it on as falling-asleep music, but my partner asked me to not do that.</p>
<p>However! For people who are into sleep music, I think it could work. Certainly, the first track, <a href="https://jimkang.bandcamp.com/track/float-nebula">Float Nebula</a>, will give you no jolts. The rest of it does have drums and dynamics, though.</p>
<p>I had trouble deciding on how far to go with the dynamics. I made sure that the loud parts go no louder than -4 db <span>FS</span> (and mostly no louder than -6 db FS), so as not to cause any unpleasant shocks. But a consequence of that is that the really quiet parts ended up being around -40 db FS.</p>
<p>I think that if you’re listening in a relatively normal sound environment, you’ll have no problem hearing it, but I did worry that it would be missed. So, I did compress things at some point, but backed off of that because I actually really did want the quiet parts to be quiet. And if people hear it as silence, that could be a good experience, too.</p>

<p>I hit another mastering problem when I listened to it in the car. Because I had <span>EQ</span>’d out some noisy parts of the trumpets, the road noise made them seem inarticulate and like a bunch of random honking. So, I brought some (but not all) of the grit back. Now the listener has something to grip when things get busy.</p>
<p>But I probably didn’t solve the articulation-in-road-noise issue. It just might not be destined to be a road jam. (And no matter how much articulation there is, there is no guarantee that it won’t come off as random honking.)</p>
<p>I’m sure that if I listen to them again tomorrow, I’ll find more <em>Concerns</em>, which is why I’m releasing it now. This is because musical perception outcomes are determined not only but what signals are sent by the cochlear nerve, but also by the entire state of the brain.</p>
<p>The state of the brain is determined by Many Factors and cannot be locked down, as far as I know.</p>

<p>These songs have been around for a while, going through several morphing and hibernation cycles. Float Nebula was 50 minutes long at some point. Sleep Funnels is at least <a href="https://soundcloud.com/isilence/operating-damaged-disquiet0488">two years old</a>, and after a lot of manual <span>DAW</span> work, I eventually had to write a <a href="https://github.com/jimkang/phasesmash/">looping tool</a> to get what I wanted. (Sleep Funnels is <a href="https://en.wikipedia.org/wiki/Phase_music">phase music</a> and takes advantage of metric superimposition, the way Meshuggah and Steve Reich do.)</p>
<p><img src="http://jimkang.com/weblog/articles/sleep-funnels/phasesmash-screenshot.png" alt="A picture of Phasesmash"/>
<em>It’s ugly, it did make it easy for me to loop 30 samples in various periods.</em></p>
<p>To make the cover, I wrote a drawing program that generates spines for funnels as a series of points that make a line, then for each point, generates an ellipse to go around that point.</p>
<p><img src="http://jimkang.com/weblog/articles/sleep-funnels/sleep-funnels-cover-purple.png" alt="Sleep Funnels cover"/></p>
<p>You can try the program here and make your own funnel pictures:</p>
<p><a href="https://jimkang.com/funnels/">https://jimkang.com/funnels/</a></p>
<p>Messing with the settings in the url with changes what gets generated. <code>seed</code> and <code>funnelCount</code> are fun ones to mess with. I wish I had put color control in the url, but I didn’t and just tried color schemes out in <a href="https://github.com/jimkang/funnels/">code</a>.</p>

<p>Regardess of what you think of the various makeshift tools to make it, I hope you enjoy Sleep Funnels for your sleeping, concentration, or even your art-experience needs. Since this message is so long, you may have forgotten the <span>URL</span>! So here it is:</p>
<p><a href="https://jimkang.bandcamp.com/album/sleep-funnels">https://jimkang.bandcamp.com/album/sleep-funnels</a></p>
<p>Jim</p>
</section>
        </article>
      </div>
    </div></div>
  </body>
</html>
