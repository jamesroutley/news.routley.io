<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://cube.dev/blog/dewitt-clause-or-can-you-benchmark-a-database">Original</a>
    <h1>DeWitt Clause, or can you benchmark %database% and get away with it</h1>
    
    <div id="readability-page-1" class="page"><div><section><img src="https://cubedev-blog-images.s3.us-east-2.amazonaws.com/6085d428-2114-4ee0-a312-b92e54ac475a.png" alt="DeWitt Clause, or Can You Benchmark %DATABASE% and Get Away With It" loading="lazy"/><article><p>About 6 months ago, we witnessed what Andy Pavlo <a href="https://twitter.com/andy_pavlo/status/1459251061085118465">wittily characterised</a> as an &#34;old school database benchmark gang war&#34;. The timeline of events goes like this:</p>
<ul>
<li><a href="https://databricks.com">Databricks</a>, a data lakehouse company founded by the creators of Apache Spark, published a <a href="https://databricks.com/blog/2021/11/02/databricks-sets-official-data-warehousing-performance-record.html">blog post</a> claiming that it set a new data warehousing performance record in 100 TB <a href="https://www.tpc.org/tpcds/">TPC-DS benchmark</a>. It was also mentioned that Databricks was 2.7x faster and 12x better in terms of price performance compared to Snowflake.</li>
<li><a href="https://snowflake.com">Snowflake</a>, a data warehousing company founded by ex-Oracle and ex-VectorWise experts, responded with a <a href="https://www.snowflake.com/blog/industry-benchmarks-and-competing-with-integrity/">blog post</a> that critically reviewed Databricks&#39; findings, reported different results for the same benchmark, and claimed comparable price/performance to Databricks.</li>
<li>After two days, Databricks followed up with another <a href="https://databricks.com/blog/2021/11/15/snowflake-claims-similar-price-performance-to-databricks-but-not-so-fast.html">blog post</a> that confirmed that they stand by the initially reported results.</li>
</ul>
<p>While this back-and-forth between respected data vendors was informative and amusing, its collateral damage was even more substantial. Databricks shared that they have <a href="https://databricks.com/blog/2021/11/08/eliminating-the-dewitt-clause-for-database-benchmarking.html">eliminated the anti-competitive <em>DeWitt clause</em></a> from their service terms. Snowflake followed up with a <a href="https://www.snowflake.com/blog/industry-benchmarks-and-competing-with-integrity/">similar update</a> to their acceptable use policy.</p>
<p>But what is the <em>DeWitt clause</em>?</p>
<p>More importantly, why would you need to know if a DeWitt clause is included in terms of service in case you&#39;d like to do and publish a performance benchmark? Let&#39;s explore.</p>
<h2 id="backstory-of-the-dewitt-clause">Backstory of the DeWitt Clause</h2>
<p>In 1982, at the very inception of relational databases, <a href="https://www.linkedin.com/in/david-dewitt-30189b50/">David DeWitt</a>, a researcher at the Department of Computer Sciences at the University of Wisconsin-Madison, was working on measuring database performance. His team wrote the Wisconsin Benchmark, tested a number of databases, and <a href="https://pages.cs.wisc.edu/~dewitt/includes/benchmarking/vldb83.pdf">published the results</a>.</p>
<p>Apparently, some folks were displeased with the results. <a href="https://en.wikipedia.org/wiki/Michael_Stonebraker">Michael Stonebraker</a>, a researcher at the UC Berkeley and co-creator of Ingres, called DeWitt and expressed how upset he was. However, they remained friends anyway as DeWitt recounts: in his <a href="https://www.youtube.com/watch?v=-TIUGC4X2q8&amp;t=420s">talk on YouTube</a>:</p>
<iframe width="800" height="500" src="https://www.youtube.com/embed/-TIUGC4X2q8?start=420" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
<p>Oracle also didn‚Äôt perform very well and reacted hastily. <a href="https://www.eweek.com/development/db-test-pioneer-makes-history/">According to DeWitt</a>, Oracle CEO Larry Ellison was so displeased that he called the department chair and insisted, &#34;You have to fire this guy.‚Äù Oracle also inserted a clause in their terms of use that boiled down to the fact that one can‚Äôt publish benchmarks without getting an explicit approval from Oracle.</p>
<h2 id="dewitt-clause-vs-dewitt-embrace-clause">DeWitt Clause vs. DeWitt Embrace Clause</h2>
<p>Nowadays, the DeWitt clause is a common provision in end-user license agreements for proprietary software that prevents from publishing information about the software without an explicit approval from the vendor. Over time, it have become widespread in the software industry and its implications are drastic:</p>
<ul>
<li>People avoid publishing benchmarks about software products with the DeWitt clause.</li>
<li>Moreover, some won‚Äôt even bother doing a benchmark knowing they won‚Äôt be able to publish the results.</li>
</ul>
<p>There are debates whether DeWitt clauses are <a href="https://www.dwheeler.com/essays/dewitt-clause.html">moral or legal</a> because of the implications above as well as the overall corrosive effect they have on the industry. Once one supplier adds a DeWitt clause, the others can feel that they are at a disadvantage without one. We&#39;re lucky it can also work the other way round, like in the Databricks and Snowflake case. However, open source software (OSS) licenses don‚Äôt and can&#39;t have DeWitt clauses, meaning that the OSS can be legally critiqued, but not their proprietary competitors.</p>
<p>At the same time, some vendors do quite the opposite to the inclusion of a DeWitt clause. Instead, they change their license to the DeWitt Embrace Clause meaning that if you disclose benchmark results for them, you automatically allow them to do the same with you. In a way, DeWitt Embrace Clause is like copyleft for the DeWitt Clause.</p>
<h2 id="can-you-benchmark-database">Can You Benchmark %DATABASE%?</h2>
<p>Now, do you wonder whether some vendor has or hasn&#39;t a DeWitt clause?</p>
<p>Shortly after the Databricks and Snowflake debate, <a href="https://twitter.com/MarkCallaghanDB">Mark Callaghan</a>, an ex-MongoDB and ex-Rockset database expert, checked if some database and public cloud vendors have DeWitt clauses in their terms of use.</p>
<p>In this blog post, I try to extend <a href="http://smalldatum.blogspot.com/2021/11/dewitt-clause-vs-public-cloud.html">his research</a> and maintain an ever-green list of database and similar vendors with regard to the DeWitt clause. (If you spot any inaccuracy, which is totally possible, please get in touch via <a href="mailto:igor@cube.dev?subject=DeWitt">igor@cube.dev</a>, I&#39;ll be happy to update the post.)</p>
<p><em>Last updated: June 2, 2022.</em></p>
<h3 id="-open-source-vendors-without-the-dewitt-clause">üòá Open-source vendors (without the DeWitt clause)</h3>
<p>Open source licenses usually grant users permission to <a href="https://opensource.org/docs/osd">use open source software for any purpose</a>. So, by definition, open source software can&#39;t contain DeWitt clauses (because if it did, it wouldn&#39;t be open source).</p>
<p>Yes, you can benchmark any of these tools:</p>
<ul>
<li>Apache <a href="https://github.com/apache/drill">Drill</a>, <a href="https://github.com/apache/druid/">Druid</a>, <a href="https://github.com/apache/flink">Flink</a>, <a href="https://github.com/apache/hive">Hive</a>, <a href="https://kafka.apache.org">Kafka</a>, <a href="https://github.com/apache/spark">Spark</a></li>
<li><a href="https://github.com/appwrite/appwrite">appwrite</a></li>
<li><a href="https://github.com/ClickHouse/ClickHouse">ClickHouse</a> (they even maintain a <a href="https://github.com/ClickHouse/ClickHouse/issues/22398">list of benchmarks</a> on GitHub)</li>
<li><a href="https://github.com/cockroachdb/cockroach">CockroachDB</a> (licensed under BSL, not <a href="https://opensource.org/licenses/alphabetical">OSI-approved</a>)</li>
<li><a href="https://github.com/dremio/dremio-oss">Dremio</a></li>
<li><a href="https://github.com/elastic/elasticsearch">Elasticsearch</a> (licensed under SSPL, not OSI-approved)</li>
<li><a href="https://ksqldb.io">ksqlDB</a></li>
<li><a href="https://github.com/MaterializeInc/materialize">Materialize</a> (licensed under BSL, not OSI-approved)</li>
<li><a href="https://github.com/mongodb/mongo">MongoDB</a> (licensed under SSPL, not OSI-approved)</li>
<li><a href="https://www.postgresql.org">PostgreSQL</a></li>
<li><a href="https://github.com/prestodb/presto">Presto</a></li>
<li><a href="https://github.com/redpanda-data/redpanda">Redpanda</a> (licensed under BSL, not OSI-approved)</li>
<li><a href="https://github.com/questdb/questdb">QuestDB</a></li>
<li><a href="https://github.com/timescale/timescaledb">TimescaleDB</a></li>
<li><a href="https://github.com/trinodb/trino">Trino</a></li>
</ul>
<p>Also, some open-source vendors collaboratively maintain benchmarking suites such as <a href="https://github.com/timescale/tsbs">Time Series Benchmark Suite</a> to help choose the best tools for particular workloads.</p>
<h3 id="-vendors-without-the-dewitt-clause">üòá Vendors without the DeWitt clause</h3>
<p>Cloud vendors can restrict you from benchmarking their services but sometimes they choose not to have the DeWitt clause.</p>
<p>Yes, you can benchmark any of these services:</p>
<ul>
<li><a href="https://ahana.io/terms-of-service/">Ahana Cloud</a></li>
<li><a href="https://altinity.com/legal/">Altinity Cloud</a></li>
<li><a href="https://appwrite.io/cloud">appwrite Cloud</a> (not launched to GA yet)</li>
<li><a href="https://clickhouse.com/cloud/">ClickHouse Cloud</a> (not launched to GA yet)</li>
<li><a href="https://assets.confluent.io/m/103033bdcb9b3fcd/original/20220201-Confluent_Cloud_Services_Agreement.pdf">Confluent Cloud</a></li>
<li><a href="https://d7umqicpi7263.cloudfront.net/eula/product/28a79f78-8008-4c02-a971-54ef6d8ed904/898eb1bc-7c2a-4829-b479-67f5a18a51ff.pdf">Firebolt</a></li>
<li><a href="https://materialize.com/terms-and-conditions/">Materialize Cloud</a></li>
<li><a href="https://www.mongodb.com/cloud-terms-and-conditions">MongoDB Cloud</a></li>
<li><a href="https://questdb.io/terms/">QuestDB Cloud</a> (not launched to GA yet)</li>
<li><a href="https://redpanda.com/cloud/">Redpanda Cloud</a></li>
<li><a href="https://www.snowflake.com/legal/acceptable-use-policy/">Snowflake</a></li>
<li><a href="https://www.starburst.io/terms/galaxy-terms-of-service/">Starburst Galaxy</a></li>
<li><a href="https://supabase.com/docs/company/terms">Supabase</a></li>
<li><a href="https://www.timescale.com/legal/timescale-cloud-terms-of-service">Timescale Cloud</a></li>
</ul>
<p>However, many of these cloud vendors disallow <em>abusive benchmarking</em> in their acceptable use policies. So be careful and please don&#39;t get banned.</p>
<h3 id="-vendors-with-the-dewitt-embrace-clause">üôÉ Vendors with the DeWitt Embrace clause</h3>
<p>Some cloud vendors permit you to benchmark their service but require reciprocity: you must make the benchmark reproducible and allow benchmarking of your own service or tool in response.</p>
<p>Yes, you can benchmark any of these services and probably get away with it:</p>
<ul>
<li><a href="https://aws.amazon.com/service-terms/">Amazon Web Services</a>, including <a href="https://aws.amazon.com/athena/">Athena</a>, <a href="https://aws.amazon.com/rds/aurora/">Aurora</a>, and <a href="https://aws.amazon.com/redshift/">Redshift</a>. <em>You may perform benchmarks or comparative tests or evaluations (each, a ‚ÄúBenchmark‚Äù) of the Services. If you perform or disclose, or direct or permit any third party to perform or disclose, any Benchmark of any of the Services, you (i) will include in any disclosure, and will disclose to us, all information necessary to replicate such Benchmark, and (ii) agree that we may perform and disclose the results of Benchmarks of your products or services, irrespective of any restrictions on Benchmarks in the terms governing your products or services.</em></li>
<li><a href="https://www.cockroachlabs.com/acceptable-use-policy/">CockroachDB Serverless</a>. <em>You can only disclose benchmarking tests if you (i) provide us the necessary information to replicate the tests, (ii) disclose the methodology for the benchmarking tests along with the results, and (iii) allow us to run our own benchmarking tests against your products and services at our discretion.</em></li>
<li><a href="https://databricks.com/blog/2021/11/08/eliminating-the-dewitt-clause-for-database-benchmarking.html">Databricks</a>. <em>You may perform benchmarks or comparative tests or evaluations (each, a ‚ÄúBenchmark‚Äù) of the Platform Services and may disclose the results of the Benchmark other than for Beta Services. If you perform or disclose, or direct or permit any third party to perform or disclose, any Benchmark of any of the Platform Services, you (i) will include in any disclosure, and will disclose to us, all information necessary to replicate such Benchmark, and (ii) agree that we may perform and disclose the results of Benchmarks of your products or services, irrespective of any restrictions on Benchmarks in the terms governing your products or services.</em></li>
<li><a href="https://www.singlestore.com/blog/eliminating-the-dewitt-clause-for-greater-transparency-in-benchmarking/">SingleStore</a>. <em>Customer may perform industry standard benchmarks, comparative tests or evaluations (each, a &#34;Performance Report&#34;) of the Managed Service. If Customer performs or discloses, or directs or permits any third party to perform or disclose, any Performance Report of any of the Managed Service, Customer (i) will include in any disclosure, and will disclose to SingleStore all information necessary to replicate such Performance Report and the data from the Performance Report, and (il) agree that SingleStore may perform and disclose the results of the Performance Report of Customer&#39;s products or services, irrespective of any restrictions on Performance Report.</em></li>
</ul>
<h3 id="-vendors-with-the-dewitt-clause">ü§¨ Vendors with the DeWitt clause</h3>
<p>These vendors chose to restrict benchmarks with DeWitt clauses.</p>
<p>No, you can&#39;t benchmark any of these tools and get away with it:</p>
<ul>
<li><a href="https://www.cloudera.com/legal/terms-and-conditions/cloudera-online-services-terms.html">Cloudera Data Platform</a>. <em>Restrictions. Customer may not: [...] access or use the Services for purposes of monitoring availability, performance or functionality of the Services, or for any benchmarking or competitive purposes.</em></li>
<li><a href="https://www.decodable.co/legal/tos">Decodable</a>. <em>Restrictions. Customer may not, and may not cause or permit others to: [...] disclose results of any benchmark tests or performance tests of the Decodable services hereunder without Decodable‚Äôs prior written consent.</em></li>
<li><a href="https://www.dremio.com/legal/terms-of-service/">Dremio Cloud</a>. <em>Restrictions. Customer shall not, and shall not cause or allow any Authorized User or third party to: [...] except with Dremio‚Äôs prior written permission, publish any performance or benchmark tests or analysis relating to Dremio Cloud.</em></li>
<li><a href="https://www.elastic.co/agreements/global/cloud-services-monthly">Elastic Cloud</a>. <em>Restrictions [...] You shall not: [...] access or use any Cloud Service for purposes of monitoring its availability, performance or functionality, or for any other benchmarking or competitive purposes, including, without limitation, for the purpose of designing and/or developing any competitive services.</em></li>
<li><a href="https://cloud.google.com/terms/service-terms">Google Cloud Platform</a>, including <a href="https://cloud.google.com/bigquery">BigQuery</a> &amp; <a href="https://firebase.google.com">Firebase</a>. <em>Benchmarking. Customer may conduct benchmark tests of the Services (each a &#34;Test&#34;). Customer may only publicly disclose the results of such Tests if it (a) obtains Google&#39;s prior written consent, (b) provides Google all necessary information to replicate the Tests, and (c) allows Google to conduct benchmark tests of Customer&#39;s publicly available products or services and publicly disclose the results of such tests. Notwithstanding the foregoing, Customer may not do either of the following on behalf of a hyperscale public cloud provider without Google&#39;s prior written consent: (i) conduct (directly or through a third party) any Test of the Services or (ii) disclose the results of any such Test.</em></li>
<li><a href="https://www.influxdata.com/legal/terms-of-use/">InfluxDB Cloud</a>. <em>Restrictions. Customer will not: [...] publish or provide any benchmark, comparison or performance test results.</em></li>
<li><a href="https://legal.mariadb.com/agreements/skysql/SkySQL_Terms_of_Service_V2_2020-12-16.pdf">MariaDB SkySQL</a> and <a href="https://legal.mariadb.com/agreements/xpand/xpand-license-terms-v2-2021-02-24.pdf">MariaDB Xpand</a>. <em>Benchmarking. Customer may perform benchmarks or comparative tests or evaluations (each, a &#34;Benchmark&#34;) of the SkySQL Services. However, Customer must obtain MariaDB&#39;s prior written approval to disclose to a third party the results of any Benchmark of the SkySQL Services.</em></li>
<li><a href="https://www.microsoft.com/en-us/sql-server/">Microsoft SQL Server</a>. <em>BENCHMARK TESTING. You must obtain Microsoft‚Äôs prior written approval to disclose to a third party the results of any benchmark test of the software.</em></li>
<li><a href="https://www.oracle.com/us/corporate/contracts/lic-online-toma-ph-de-eng-2817945.pdf">Oracle</a>. <em>RESTRICTIONS. [...] You may not: [...] disclose results of any Program benchmark tests without Oracle&#39;s prior written consent.</em></li>
<li><a href="https://planetscale.com/legal/aup">PlanetScale</a>. <em>Customer will not, and will ensure that its End Users do not: [...] access any portion of the Product for the purpose of building a similar or competitive product or service, or monitor the Product for any benchmarking or competitive purpose.</em></li>
</ul>
<h3 id="-vendors-for-which-the-author-didnt-find-the-data">üò∂ Vendors for which the author didn&#39;t find the data</h3>
<p>I wasn&#39;t able to identify where a few vendors stand with regard to the DeWitt clause:</p>
<ul>
<li><a href="https://www.mysql.com/cloud/">MySQL HeatWave</a></li>
<li><a href="https://www.yellowbrick.com/">Yellowbrick Data</a></li>
</ul>
<p>If you can provide any pointers, please get in touch via <a href="mailto:igor@cube.dev?subject=DeWitt">igor@cube.dev</a>, I&#39;ll be happy to update the post. Also, please reach out if you&#39;d like more databases to be featured here.</p>
<h2 id="what-about-cube">What about Cube?</h2>
<p><a href="https://cube.dev">Cube</a> is an open-source <a href="https://cube.dev/blog/headless-bi">headless BI</a> platform that <a href="https://cube.dev/docs/config/databases">integrates with a lot of data sources</a>: cloud data warehouses, query engines, and databases. Many of them are designed for low latency and some of them can provide high concurrency. However, sometimes they don&#39;t; you can read our <a href="https://cube.dev/blog/data-warehouse-performance-and-how-cube-can-help">blog post</a> about that.</p>
<p>In any case, Cube will have no problem delivering your data, with sub-second latency and high concurrency, to any <a href="https://cube.dev/docs/config/downstream">data consumer</a> out there: BI tools, data notebooks, front-end apps, etc. Thanks to <a href="https://cube.dev/blog/introducing-cubestore">Cube Store</a>, Cube&#39;s REST, GraphQL, and SQL APIs are able to respond to any request within 200-300 milliseconds and allow for 100+ concurrent requests‚Äîand that can scale.</p>
<p>Please explore how Cube integrates with <a href="https://cube.dev/blog/category/data">databases and other tools</a> in the data space in our blog. Also, don&#39;t hesitate to try <a href="https://cubecloud.dev/auth/signup">Cube Cloud</a>, join our large <a href="http://slack.cube.dev">Slack community</a>, and give Cube a <a href="https://github.com/cube-js/cube.js">star on GitHub</a> üåü</p></article></section></div></div>
  </body>
</html>
