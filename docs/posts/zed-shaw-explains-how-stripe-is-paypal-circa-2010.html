<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://learnjsthehardway.com/blog/18-stripe-is-paypal-circa-2010/">Original</a>
    <h1>Zed Shaw Explains How Stripe Is PayPal Circa 2010</h1>
    
    <div id="readability-page-1" class="page"><div><!-- HTML_TAG_START --><p>I just finished integrating Stripe into this site and it was a massive pain. I honestly do not understand the belief that Stripe is better than Paypal. Everyone who begged me for an &#34;alternative to Paypal&#34; would recommend Stripe but my experience so far, and that of other people, is that Stripe is not better than Paypal. They&#39;re both moderately terrible. This review is an attempt to make sense of why Stripe&#39;s documentation doesn&#39;t work, why it&#39;s the same for Paypal, and how Stripe&#39;s only real advantage now is mostly smoke and mirrors. Hopefully this helps people who are running straight to Stripe avoid a painful lesson.</p><h2 id="my-history-with-stripe">My History with Stripe</h2><p>I used Stripe about 10 years ago and stopped because Stripe kept charging me for Chargebacks even though I offered to refund. I not only lost the original money--which is perfectly fine and what I wanted anyway--but was also forced to pay an additional $15 with no option but to contest the chargeback. I quickly ditched Stripe for Paypal after a string of false charges and paying back hundreds of dollars in fees for chargebacks I didn&#39;t want to contest.</p><p>My reason for ditching Stripe was both to avoid these attempts to force $15 out of me, but also because Stripe clearly didn&#39;t care about fraud prevention. I did a quick analysis of the fraudulent charges and realized that if Stripe <em>only</em> compared the IP address GeoIP to Zip codes they could block 90% of them. Meanwhile, Paypal&#39;s fraud prevention is so strong I handled maybe 2 or 3 fraudulent charges a <em>year</em> and Paypal would let me offer a refund rather then contest the charge. Stripe&#39;s answer at the time was to tell <em>me</em> to use GeoIP to identify fraud...while they controlled the customer&#39;s Zip code...so I could...not do that?</p><h2 id="paypal-pros-cons">Paypal Pros / Cons</h2><p>I switched to Paypal and it had many advantages and disadvantages, but overall I didn&#39;t have to deal with fraud, and they offered really great loan terms that helped smooth out the volatility in my kind of business. Paypal had a lot of advantages and disadvantages over Stripe at the time:</p><ol><li>Paypal&#39;s fraud prevention is top notch. Like I said, I very rarely dealt with fraud when using Paypal.</li><li>Their refund and chargeback policy is reasonable, with customers able to simply request a refund and I simply give it. I think I&#39;ve never paid a chargeback fee on Paypal.</li><li>Paypal uses my transactions to determine a loan amount I can use to smooth out the volatility in my business. They also simply take a percentage of each payment to pay back the loan, so no risks in forgetting to pay or coming up short on the loan. The terms are also reasonable and they don&#39;t snoop on my <em>banking</em> transactions, which is important for later.</li><li>Paypal&#39;s UI has vastly improved over the years, and their API to integrate is moderately easy to use.</li><li>After several lawsuits and years of backlash Paypal has stopped seizing people&#39;s money illegally. I still have no idea how this was not full on totally illegal, but I&#39;m sure someone can explain to me how payment companies get away with keeping money that is clearly not theirs.</li><li>They actually answer support requests, and even call me on the phone now when I need help. Imagine that.</li><li>They finally implemented real 2FA and various other security features that were desperately needed for years.</li></ol><p>Paypal these days simply just works, but it does have an equal number of problems when compared to Stripe:</p><ol><li>People really, <em>really</em>, hate Peter Thiel and Elon Musk. So much so that they will refuse to give my small business money if it goes through Paypal on the off chance that those two guys might get some of it.</li><li>Paypal makes me pay $30/month to let me give people the option to pay with a credit card and not signup for Paypal. In some countries they simply do not offer this option.</li><li>A few countries really, <em>really</em>, hate Paypal and their citizens can&#39;t use it. I have no idea why they hate Paypal, and when I ask what to use these customers generally don&#39;t have an answer other than &#34;Stripe&#34;, which I don&#39;t get because Stripe is still a US payments company.</li><li>Paypal&#39;s fraud prevention can hell ban your customers, which will prevent purchases and <em>provide zero feedback to the users</em>. In fact, Paypal gets the UI feedback so wrong it seems like deliberate sabotage.</li></ol><p>It&#39;s this last disadvantage that prompted me to revisit my relationship with Stripe and make sure I can use it as a payment method.</p><h2 id="the-paypal-hellban">The Paypal Hellban</h2><p>I started getting weird emails from potential customers saying they can&#39;t submit a credit card for purchase. I couldn&#39;t figure out what was going on until a customer sent me a video showing an attempted purchase, and Paypal&#39;s UI just sitting there doing nothing. They looked in the Console for me and there was an error about the address being wrong, but it looked correct. After watching their video probably 20 times I suddenly saw what was going on:</p><ol><li>The customer filled out all the usual credit card info of name, country, zip, card, CVC, etc.</li><li>They hit submit to pay, and the form would appear to submit.</li><li>After the submit nothing would happen. No error messages, or red indicating a field was wrong.</li><li>Watching carefully I saw Paypal silently slip in a single Address form field with <em>no error indicators or messages saying this was now required</em>. It was so sneaky nobody would notice it even in a video recording.</li><li>All attempts to keep submitting would be ignored, with no indication they need to fill out the Street Address.</li></ol><figure><img src="https://learnjsthehardway.com/images/blog/18-mysterious-street-address.png" alt="Paypal payment UI."/></figure><p>It was so bizarre I couldn&#39;t imagine it was a simple mistake. I could see maybe they didn&#39;t apply the error condition to the address field on accident, but what made me feel this was secretly done on purpose is the following:</p><ol><li>Repeated submits wouldn&#39;t report any errors.</li><li>There were a few <code>ppxo_inline_guest_unhandled_error</code> error messages in the console indicating the street address was needed, so they clearly received the error.</li><li>When Paypal&#39;s developers are pressed on this error message, they give weird responses of, &#34;We aren&#39;t able to give the browser access to that Error because it&#39;s only for Errors.&#34; I&#39;m not kidding, it&#39;s a weird double speak reply.</li><li>Even after explaining that this has nothing to do with <em>my app</em> getting an error, and everything to do with <em>Paypal&#39;s UI</em> not showing the error they go silent.</li><li>When I sent this customer an invoice separately through Paypal they had to call Paypal to get their card unblocked.</li></ol><p>I wanted to cause this error so I can find a way to test for it, and I <em>finally</em> managed to cause it by using one of Paypal&#39;s test card numbers in the Live Environment. When I enter one of these fake cards the Paypal form reports the same error and then shows the address field, which is weird because these card numbers are entirely fake. There should be a solid error message stating invalid card, not, &#34;Hey buddy, what&#39;s your address for that fake card that&#39;s clearly fake?&#34;</p><p>All of this combined tells me that Paypal is using some kind of passive aggressive fraud prevention scheme that involves hellbanning bad cards and getting them to continually enter in a street address. I have no idea why on earth they thought that was a good strategy but it&#39;s their money. At least...until it became <em>my</em> money.</p><h2 id="the-move-to-stripe">The Move to Stripe</h2><p>This poor UI error design, silently adding form fields, and using that for some weird hellban fraud mechanism, was my motivation for adding Stripe back to my site. After 10 years I thought maybe Stripe had improved and I wouldn&#39;t deal with their idiotic fraud system...or lack of a fraud system. I logged back into my account and started going through the docs, and immediately thought, &#34;This is an awful lot like Paypal now.&#34;</p><p>The more I used Stripe&#39;s API the more it reminded me of Paypal&#39;s API around 2005-2010. It has the same complexity, multiple redirects, convoluted data responses, and almost everything that Stripe touted as terrible about Paypal in 2010. It isn&#39;t terrible, and isn&#39;t great, it&#39;s just...Paypal.</p><p>As I implemented all of the required Stripe integrations I found they did some things really well:</p><ol><li>Amazingly my account was still active with all transactions and everything working like I&#39;d never left.</li><li>Stripe <em>even</em> allowed me to keep using the same API version from <em>10 years ago</em>. That&#39;s incredible, although it was unexpected and took me a while to figure out I was accidentally on an old version.</li><li>The Stripe documentation is incredibly thorough with half-decent code samples for almost everything in almost every language.</li><li>Stripe doesn&#39;t try to sign up users at all. <em>This</em> is their primary advantage, and I&#39;ll talk about this more later.</li></ol><p>Sounds great right? Despite these nice positives there were quite a few serious negatives:</p><ol><li>While the documentation for Stripe (and Paypal) is very thorough, it&#39;s completely disorganized. There isn&#39;t a single cohesive curriculum path that takes you from nothing to a <em>fully functional app that covers every error condition</em>. Instead it&#39;s all information that&#39;s aimed at someone who already knows all of Stripe&#39;s secret issues and just needs to lookup an API here or there.</li><li>The recommended integration path is incredibly onerous compared to Paypal. In fact, the new <code>PaymentIntents</code> system reminds me of Paypal before Stripe started to compete with Paypal. Stripe&#39;s big selling point was simple integration with just a little JavaScript, and now I&#39;m writing multiple backend handlers, front end integrations, handling huge numbers of possible events, juggling multiple rotating IDs for every event, and required handling of webhooks.</li><li>There&#39;s almost no advice on error conditions and how to deal with them. Take <code>payment_intent.failed</code> for example. The <a href="https://stripe.com/docs/api/events/types#event_types-payment_intent.payment_failed">description is just</a> &#34;Occurs when a PaymentIntent has failed the attempt to create a payment method or a payment.&#34; Holy Tautology Batman! Alright so what do I do? Does Stripe not show users this common failure and expect me to show them an error? Now I have to coordinate an asynchronous webhook to my backend and show an error to the browser? That&#39;s nuts.</li><li>The JSON data you get from all requests is a mess, and seems like they&#39;re just dumping a GraphQL in your face with no real design behind it. For example, every event has its own ID, and there&#39;s no advice on whether I need to keep these IDs in my database for later. PaymentIntents get an ID, Charges get an ID, Instruments gets an ID, nearly every event has its own ID. I think if you were to handle every ID you&#39;d need about 20 database fields to store them, and it&#39;s not clear for how long.</li><li>The API now uses an old-school HTTP redirect to complete payments. Even the <a href="https://stripe.com/docs/stripe-js/react#elements-consumer">React documentation</a> says there&#39;s a redirect URL. In a normal old school circa 2010 web application this isn&#39;t a big deal because all HTML is generated on the server. In a modern React/Vue/Svelte app this means your entire application is being reloaded just so Stripe can handle a few weird payment methods that require quadruple redirects to verification systems. There is an option to only redirect when that&#39;s necessary, but this option is surrounded by scary admonishments that make it seem like a terrible idea.</li><li>Stripe still doesn&#39;t do fraud prevention by default, and instead charges 4% extra on all transactions to use their <a href="https://stripe.com/radar">Radar</a> feature. I guess slapping the words &#34;machine learning&#34; on something makes it more expensive, but with Paypal fraud prevention is simply included in the fees I already pay. Another way to put this is Paypal&#39;s inclusion of fraud prevention makes it about 50% cheaper than Stripe with Radar. Factor into that your forced $15 payment to Stripe on every chargeback and Stripe becomes way more expensive.</li><li>Stripe uses something called MX to snoop on all of my banking transactions. If you&#39;re a seller and you value your privacy then Stripe is <em>not</em> the best option.</li></ol><p>One response I got to these complaints is the classic canard of, &#34;It&#39;s for SECURITAY!&#34; I don&#39;t buy it. Plenty of other payment processors--including Paypal--charge credit cards without all this insane complexity and they don&#39;t have rampant security issues. In fact, making something <em>more</em> complex is how you <em>reduce</em> security, not improve it. They also claim all of this work prevents double spends but I still don&#39;t buy it. Given the randomly rotating IDs for nearly every event and the disorganization of the JSON data I suspect this is more to do with improving Stripe&#39;s backend performance than anything else they claim.</p><p>Then again, the documentation is so fragmented that there may be some clear explanation of everything hidden somewhere. If that&#39;s the case then why isn&#39;t this just a first course so I know this clear explanation. If it&#39;s hidden in the middle of a random paragraph then, no, it is not &#34;documented.&#34; It&#39;s &#34;mentioned.&#34;</p><h2 id="just-use-client-only">Just Use Client Only?</h2><p>I think most people use Stripe&#39;s <a href="https://stripe.com/docs/payments/checkout/client">client only</a> checkout but Stripe has this huge warning at the top, and most of what I&#39;ve read online says they&#39;re eventually phasing this out:</p><blockquote><p>Client-only Checkout does not support many of the features available with a <a href="https://stripe.com/docs/payments/accept-a-payment?integration=checkout">client &amp; server integration</a> and <a href="https://stripe.com/docs/payments/payment-links">Payment Links</a>, which may better fit your use case.</p></blockquote><p>This &#34;client only&#34; option also still does redirects to complete transactions, so...I&#39;m not sure why this is called &#34;client only&#34; at all. You still have to deal with webhooks, and that means you&#39;re dealing with multiple IDs for every event. It really isn&#39;t buying you much, and smacks of Stripe phasing out the option by coating it with &#34;syntactic vinegar.&#34;</p><p>What I suspect is Stripe wants people to actually gravitate toward <a href="https://stripe.com/docs/payments/payment-links">Payment Links</a> so they <em>can</em> start capturing user accounts just like Paypal, get in on that &#34;no code&#34; craze, or increase lock-in with merchants.</p><h2 id="stripe-freezing-accounts">Stripe Freezing Accounts</h2><p>After I started the integration a couple students and several people on Twitter messaged me to warn me about Stripe freezing their accounts. I remember one reason for Stripe&#39;s success is their marketing that they didn&#39;t freeze accounts like Paypal. For those of you too young to know what&#39;s going on, Paypal used to pull this definitely illegal scam:</p><ol><li>Let people sign up for Paypal with marketing of &#34;Safe, Easy, Secure payments.&#34;</li><li>Wait for the person to have any reasonable amount in their account.</li><li>Use any number of &#34;fraud&#34; claims to lock the account.</li><li>Refuse to give the money to either the payee or payer for 6 months or more, sometimes forever.</li></ol><p>It&#39;s the 4th part of the scam that got <a href="https://arstechnica.com/tech-policy/2022/01/paypal-stole-users-money-after-freezing-seizing-funds-lawsuit-alleges/">Paypal sued</a> for fraud and racketeering, <a href="https://www.law.com/legalnewswire/news/?id=2988194">for violating Unfair Business Practices Law</a>, and investigated by the FTC. I&#39;m really not sure how they got away with it for so long. In my mind this money is either the payee&#39;s or the payer&#39;s, and not Paypal&#39;s at all. There is no contract or click-wrap EULA that invalidates the law regarding theft, and keeping money that&#39;s not yours is clearly theft. In the event of fraud Paypal should have either given the payee the money and closed the account, <em>or</em> refunded all of the payments to the payers then closed the account. Keeping the money indefinitely with no recourse is the literal definition of fraud and theft.</p><p>Eventually this caught up to Paypal because companies like Stripe used this theft scam as a main marketing pitch to new customers. <a href="https://techcrunch.com/2010/10/26/wepay-ice-paypal/">WePay even pulled a prank</a> dropping 600lbs of ice in front of Paypal&#39;s conference in 2010. The promise from companies like Stripe and WePay was they wouldn&#39;t freeze your accounts, and they were easier to use.</p><p>Now Stripe is doing everything Paypal was doing in 2010. Not only are the Stripe APIs just as complex as Paypal 2010, but Stripe also arbitrarily freezes accounts and steals money just like Paypal. One of my Students told me this story (used with permission):</p><blockquote><p>Honestly f$ck stripe, I sell digital games and physical copies and 4 days into opening my account and making $600 in sales, they asked for all my ID which I provided, then froze my account until I took photos of my inventory, which I did and linked an ebay account with them all listed and submitted it. 2 Days later they told me my account was deemed high risk and they shut it down, and will be holding my $600 in sales until the end of Feb 2023.</p></blockquote><p>This isn&#39;t the only report of Stripe doing this, and just to be clear:</p><ol><li>It is perfectly within Stripe&#39;s rights to shut down anyone they think is committing fraud.</li><li>They do have legal obligations with Know Your Customer laws to prevent money laundering and sales of illegal merchandise. If they think you&#39;re selling counterfeit items they can stop you.</li><li>What&#39;s at issue is Stripe <em>keeping the money</em>. That is what&#39;s entirely illegal. That money either belongs to the payer or payee, and in the case of fraud they should be obligated to refund it back to the payer.</li></ol><p>Based on these reports I&#39;m convinced that Stripe is now as evil as Paypal was circa 2010, and that fact makes me very cautious about adding Stripe to my site.</p><h2 id="stripes-huge-advantage">Stripe&#39;s Huge Advantage</h2><p>If Stripe is so risky compared to Paypal why bother using it? Stripe has one massive but entirely arbitrary advantage over Paypal:</p><blockquote><p>Stripe only tries to charge cards. Paypal tries to coopt my users to boost their user count.</p></blockquote><p>Originally Stripe&#39;s big selling point was their superior API usability and documentation. Their original startup name was even &#34;/dev/payments&#34; with a direction of focusing on developer usability to attract people to their platform. Paypal has done a lot to catch up on that front, and Stripe has done a lot to get worse for developers, which means they&#39;re both pleasantly mediocre. Both Stripe and Paypal are about the same in terms of API complexity, thorough but disorganized documentation, and a lack of clear guided curriculum.</p><p>Where Stripe beats Paypal is in the UI presented to the users, and I&#39;m not talking about arbitrary design elements like font and line style. I&#39;m talking about Paypal shows you two buttons to choose &#34;Paypal&#34; or &#34;Credit Card&#34;, followed by this massive form:</p><figure><img src="https://learnjsthehardway.com/images/blog/18-initial-paypal-page.png" alt="Paypal payment UI."/></figure><p>Meanwhile, Stripe only shows the bare minimum needed to charge a card:</p><figure><img src="https://learnjsthehardway.com/images/blog/18-stripe-ui.png" alt="Stripe payment UI."/></figure><p>It is stupid, but Paypal&#39;s insistence on trying to capture new users means they add two additional points of friction <em>and</em> tout to all of my users that Paypal is involved. This drives users away who either have issues with Paypal or are simply frustrated by the process and obvious demands for their data.</p><p>Stripe however just wants to charge that card and collect that fee. In the screenshot you wouldn&#39;t even know Stripe was involved. <em>I decided to add text stating I used Stripe to give people confidence I&#39;m not taking their information.</em> Without it, a customer would have to inspect the console to see it was Stripe, and most won&#39;t bother doing that. Stripe also does the bare minimum necessary to charge the card while Paypal is trying to collect everything possible.</p><p>This one small difference in strategy drives a significant advantage for Stripe. Paypal&#39;s obsession with User Acquisition is ironically giving their competitors a completely arbitrary advantage, and based on how much money their competitors make I can&#39;t see this User Acquisition focus actually being more lucrative.</p><h2 id="recommendation-paypal-thin">Recommendation: Paypal Thin</h2><p>If Paypal had a new UI that looked exactly like Stripe&#39;s I believe they could turn the tables on Stripe&#39;s marketing. I&#39;d call the product &#34;Paypal Thin&#34; and simply position it as:</p><blockquote><p>Paypal Thin is simplified credit card only processing with no mention of Paypal or any attempts to get your users to sign up. With Paypal Thin, nobody would even know you&#39;re using Paypal.</p></blockquote><p>Paypal could even start a marketing campaign that makes fun of Stripe&#39;s claims of being more secure, being easier to use, and their freezing of accounts. Paypal could double up this marketing by showing how they don&#39;t need to freeze accounts anymore because their fraud prevention is so good they don&#39;t even need to charge you extra for it (unlike Stripe).</p><p>Will they ever do this? Hell no. Paypal comes from the old school startup world where you write everything in CamelCaseJava that&#39;s impossible to change and you base all of your value on users not money. The fact that they can&#39;t even put a red box around an address field that&#39;s wrong tells me they couldn&#39;t make this UI if their life depended on it. Not to mention this would be a <em>huge</em> shift in philosophy for the company that would probably require firing 20% of the C-suite and most of the VPs.</p><p>There&#39;s simply no way they&#39;d stop trying to collect signups, but if you think about it logically it is literally the only advantage Stripe has over them. Stripe freezes accounts too. Stipe&#39;s API is more complicated than Paypal&#39;s now. Stripe and Paypal&#39;s documentation is equally thorough but disorganized. Paypal&#39;s fees are even lower once you factor in the extra fees to get mediocre fraud protection from Stripe Radar.</p><p>Stripe&#39;s simply showing users a better UI because they have a slightly different idea about what constitutes success.</p><h2 id="the-danger-in-this-blog-post">The Danger in This Blog Post</h2><p>I believe one way that all of these companies fail is in protecting users from malicious internal employees. Everyone operates under this delusion that employees working at companies like Stripe and Paypal don&#39;t access your account and information. The reality is most companies give employees completely unrestricted access to any user&#39;s information, and many low level employees are easily bribed.</p><p>Take the <a href="https://www.engadget.com/only-fans-finding-itself-at-the-centre-of-a-social-media-blacklist-lawsuit-113620306.html">Onlyfans and Facebook lawsuit</a> as a recent example (of many). Allegedly OnlyFans partnered with Facebook/Instagram to get competing porn actors flagged as &#34;terrorists&#34; in the Global Internet Forum to Counter Terrorism (<a href="https://www.engadget.com/2017-06-26-facebook-twitter-and-others-band-together-to-fight-online-extre.html">GIFCT</a>). The lawsuit claims that 35,000 Instagram accounts were erroneously listed, which effectively blocks that content across multiple companies, not just Facebook and Instagram. Either Facebook and OnlyFans did conspire together, <em>or</em> OnlyFans just bribed some employees at Instagram or the GIFCT to flag the content.</p><p>You also have the recent reports from Twitter Whistleblower Peiter &#34;Mudge&#34; Zatko that <a href="https://www.documentcloud.org/documents/22186683-twitter-whistleblower-disclosure">claimed Twitter had zero security preventing employees</a> from accessing any user&#39;s accounts:</p><blockquote><p>2011 FTC Complaint: In 2011, the FTC had filed a complaint against Twitter for its failure to properly protect nonpublic consumer information, which included users” email addresses, Internet Protocol (“IP”) addresses, telephone numbers, and nonpublic information exchanged on the platform.” The complaint alleged that, from 2006 to 2009, far too many Twitter employees exercised administrative (“God mode”) control within Twitter&#39;s intemal systems and user data, thereby allowing anyattacker with access to an employee account to easily compromise Twitter systems. And Twitter&#39;s systems were, and are, full of highly sensitive personal user data that enable a hostile government to find precise geo-location(s) for a specific user or group, and target them for arrest or violence.</p></blockquote><p>This was exploited by <a href="https://www.justice.gov/opa/pr/former-twitter-employee-found-guilty-acting-agent-foreign-government-and-unlawfully-sharing">two former Twitter employees</a> who used their access to hack people&#39;s accounts for the Kingdom of Saudi Arabia and its Royal Family. Then there was the <a href="https://www.npr.org/2020/07/31/897815039/florida-teen-charged-as-mastermind-of-massive-twitter-hack">hack by 17 year old kids</a> that immediately gave them total control of every account by simply phishing a few low level employees.</p><p>These are easily not the only incidents, and technology companies have been sued repeatedly for user privacy invasions by employees. In fact, I&#39;d wager that 99% of startups have zero protection against rogue employees until they&#39;re sued by the FTC.</p><p>Why do I bring this up? Because it&#39;s entirely possible that some employee at Stripe or Paypal will read this and angrily click two buttons in some screen to disable my account. There&#39;s no way for me to know this--since we don&#39;t have laws requiring disclosure of employee access--but if my accounts suddenly have problems I&#39;m positive this is the case. Criticizing these giant powerful companies comes with the risk that a random rogue employee will exercise their powers to block my access.</p><p>This is why I advocate to people to be ready to switch payment processing at a moment&#39;s notice. Right now I could flip two options and I&#39;d be back on Paypal. If I was pressed I could probably implement any other payment processor in about a week or a day. The ability to quickly switch payments is your <em>only</em> defense against frozen accounts, fraud, and rogue employees.</p><!-- HTML_TAG_END --></div></div>
  </body>
</html>
