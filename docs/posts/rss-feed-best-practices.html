<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://kevincox.ca/2022/05/06/rss-feed-best-practices/">Original</a>
    <h1>RSS Feed Best Practices</h1>
    
    <div id="readability-page-1" class="page"><div><p>Posted <time datetime="2022-05-06T19:01:00-04:00">on 2022-05-06</time></p><p>These are some <strong>technical</strong> tips for publishing a blog. These have nothing to do with good content, just how to share that content. The recommendations are roughly in order of importance and have rationale for why they are that important.</p>

<h2 id="formats"><a href="#formats">Formats</a></h2>

<p>People generally call feeds “RSS Feeds” but usually they aren’t specifically talking about RSS. RSS isn’t the only, or even the best format. Using a standardized format is critical to your feed being understood by the widest variety of readers and search engines.</p>

<p>You should use <a href="https://validator.w3.org/feed/docs/rss2.html">RSS 2</a> or <a href="https://datatracker.ietf.org/doc/html/rfc4287">Atom</a>. These formats are very widely supported. Other common formats are earlier RSS standards and <a href="https://www.jsonfeed.org/">JSON Feed</a> or <a href="https://microformats.org/wiki/h-feed">Microformats h-feed</a>. I would avoid using these—or even less common formats—as they are less widely supported.</p>

<p>If you don’t have a feed yet I would highly recommend Atom. The specification has much less ambiguity, so you are less likely to have compatibility issues with the wide variety of clients in use. The specification is also simpler and more clear overall. If you already have an RSS 2 feed there is little reason to upgrade.</p>

<p>A minimal Atom template is below. For full details see <a href="https://datatracker.ietf.org/doc/html/rfc5023">the spec</a>. If you need an example you can look at <a href="https://kevincox.ca/feed.atom">my feed</a>.</p>

<div><pre><code><span>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span>&lt;feed</span> <span>xmlns=</span><span>&#34;http://www.w3.org/2005/Atom&#34;</span><span>&gt;</span>
	<span>&lt;title&gt;</span>{{FEED_NAME}}<span>&lt;/title&gt;</span>
	<span>&lt;id&gt;</span>{{HOMEPAGE_URL}}<span>&lt;/id&gt;</span>
	<span>&lt;link</span> <span>rel=</span><span>&#34;alternate&#34;</span> <span>href=</span><span>&#34;HOMEPAGE_URL&#34;</span><span>/&gt;</span>
	<span>&lt;link</span> <span>href=</span><span>&#34;FEED_URL&#34;</span> <span>rel=</span><span>&#34;self&#34;</span><span>/&gt;</span>
	<span>&lt;updated&gt;</span>{{LAST_UPDATE_TIME in RFC3339 format}}<span>&lt;/updated&gt;</span>
	<span>&lt;author&gt;</span>
		<span>&lt;name&gt;</span>{{AUTHOR_NAME}}<span>&lt;/name&gt;</span>
	<span>&lt;/author&gt;</span>
	<span>&lt;entry&gt;</span>
		<span>&lt;title&gt;</span>{{ENTRY.TITLE}}<span>&lt;/title&gt;</span>
		<span>&lt;link</span> <span>rel=</span><span>&#34;alternate&#34;</span> <span>type=</span><span>&#34;text/html&#34;</span> <span>href=</span><span>&#34;{{ENTRY.HTML_URL}}&#34;</span><span>/&gt;</span>
		<span>&lt;id&gt;</span>{{ENTRY.PERMALINK}}<span>&lt;/id&gt;</span>
		<span>&lt;published&gt;</span>{{ENTRY.FIRST_POST_TIME in RFC3339 format}}<span>&lt;/published&gt;</span>
		<span>&lt;updated&gt;</span>{{ENTRY.LAST_UPDATE_TIME in RFC3339 format}}<span>&lt;/updated&gt;</span>
		<span>&lt;content</span> <span>type=</span><span>&#34;html&#34;</span><span>&gt;</span>{{ENTRY.HTML}}<span>&lt;/content&gt;</span>
	<span>&lt;/entry&gt;</span>
<span>&lt;/feed&gt;</span>
</code></pre></div>
<p>There is very little reason to provide feeds in multiple formats. If you have an Atom feed you don’t need to provide an RSS feed as well.</p>

<p>Changing feed format is safe. Very few readers will be confused if a feed switches between Atom and RSS. This can be done either by changing the feed at the same URL or by redirecting new a new URL. (Just be sure to update the <a href="#content-type">content type</a>)</p>

<h2 id="content-type"><a href="#content-type">Content Type</a></h2>

<p>Be sure to set the <code>Content-Type</code> header properly.</p>

<ul>
  <li>Atom: <code>Content-Type: application/atom+xml</code></li>
  <li>RSS: <code>Content-Type: application/rss+xml</code></li>
  <li>JSON Feed: <code>Content-Type: application/feed+json</code></li>
</ul>

<p>You will see other values used in the wild but these are the standard values and have the widest support.</p>

<h2 id="absolute-urls"><a href="#absolute-urls">Absolute URLs</a></h2>

<p>Every URL in your feed should be absolute. While Atom has clearly specified how to resolve relative URLs they are rarely implemented correctly. In order to ensure that your feed can be understood by all readers use only absolute URLs (starting with <code>https://</code>).</p>

<p>This includes all <code><span>&lt;link&gt;</span></code> elements and the summary and body of posts (including in the HTML).</p>

<h2 id="discovery"><a href="#discovery">Discovery</a></h2>

<p>On all of your blog pages and likely every page of your site you should include metadata to advertise you feed. This will allow readers and search engines to subscribe and become aware of your new content. This is as simple as providing the following in your HTML:</p>

<div><pre><code><span>&lt;link</span> <span>rel=</span><span>alternate</span> <span>title=</span><span>&#34;Blog Posts&#34;</span> <span>type=</span><span>application/atom+xml</span> <span>href=</span><span>&#34;/feed.atom&#34;</span><span>&gt;</span>
</code></pre></div>
<p>If you have multiple feeds you can advertise them all with appropriate titles.</p>

<div><pre><code><span>&lt;link</span> <span>rel=</span><span>alternate</span> <span>title=</span><span>&#34;All Posts&#34;</span> <span>type=</span><span>application/atom+xml</span> <span>href=</span><span>&#34;/feed.atom&#34;</span><span>&gt;</span>
<span>&lt;link</span> <span>rel=</span><span>alternate</span> <span>title=</span><span>&#39;Posts in the &#34;Social&#34; category&#39;</span> <span>type=</span><span>application/atom+xml</span> <span>href=</span><span>&#34;/feeds/social.atom&#34;</span><span>&gt;</span>
<span>&lt;link</span> <span>rel=</span><span>alternate</span> <span>title=</span><span>&#34;Comments on this Post&#34;</span> <span>type=</span><span>application/atom+xml</span> <span>href=</span><span>&#34;/post/hello-world/comments.atom&#34;</span><span>&gt;</span>
</code></pre></div>
<p>Make sure that you use the correct <code>type</code> for your feed. The examples provided are for Atom feeds.</p>

<p>You can validate that this is working correctly by putting your website URL into the <a href="https://validator.w3.org/feed/">W3C Feed Validation Service</a>. If your links are set up correctly it should detect and validate your feed. Try out a few different pages to make sure that you have discovery working everywhere. Try your homepage, post lists page and an individual post page.</p>

<p>If it is difficult to modify the HTML a <code>Link</code> header in the HTTP response can be used. However, this isn’t as widely supported. Using HTML <code><span>&lt;link&gt;</span></code> tags is preferred for wider compatibility.</p>

<div><pre><code>Link: /feed.atom; rel=&#34;alternate&#34;; type=&#34;application/atom+xml&#34;
</code></pre></div>
<p>You should also include a link with an RSS logo <img src="https://cloudflare-ipfs.com/ipfs/QmNcCNqGsFkLTauwYfHaAsivPitjiAKjjWVzgmbdzVwyqz/rss.svg" alt="rss logo" crossorigin=""/> for users without another feed indicator.</p>

<h2 id="https"><a href="#https">HTTPS</a></h2>

<p><a href="https://en.wikipedia.org/wiki/HTTPS">HTTPS</a> is key to security and privacy on the internet. Providing feeds over HTTPS ensures user privacy and ensures that your feed is not modified by a malicious actor.</p>

<ol>
  <li>Reference all embedded media (such as images) over HTTPS. Many readers will run in a secure context where HTTP requests are not allowed.</li>
  <li>Provide the feed over HTTPS.</li>
  <li>Ensure that your <a href="#self-link">self link</a> is HTTPS.</li>
  <li>Redirect HTTP requests to HTTPS.</li>
  <li>Consider using <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security"><code>Strict-Transport-Security</code></a>.</li>
</ol>

<h2 id="full-content"><a href="#full-content">Full Content</a></h2>

<p>It is generally recommended to provide the full content of your posts in the feed. This is what most readers prefer. Atom has both <a href="https://datatracker.ietf.org/doc/html/rfc4287#section-4.2.13"><code>&lt;summary&gt;</code></a> element for readers that prefer it. For RSS and the Atom <a href="https://datatracker.ietf.org/doc/html/rfc4287#section-4.1.3"><code>&lt;content&gt;</code></a> element the full article should be included.</p>

<p>Of course sharing full content in feeds is unacceptable to some publications due to the difficulty of monetizing these views. First, consider that this may be a reader that would leave if they can’t view the full content in their feed reader. Even if they don’t see your ads they may share your content with friends or on news aggregators. Likely it is still more valuable for you to have this reader than to lose them.</p>

<p>If your content is paid consider allowing users to generate private links by providing an auth token. For example <code>/feed.atom?user=peruserauthtoken</code>. You can also use <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication">basic auth</a> like <code>https://fred:peruserauthtoken@blog.example/feed.atom</code> however this is supported by fewer readers than providing a token in the URL path or query string.</p>

<h2 id="entry-ids"><a href="#entry-ids">Entry IDs</a></h2>

<p>Entry IDs are the primary way to identify and differentiate different entries in your feed. If your entry IDs change or repeat, readers will miss entries or receive duplicate entries.</p>

<ol>
  <li>Never change your Entry IDs for an existing article.
    <ul>
      <li>If you change your ID scheme, ensure that it only applies to new entries.</li>
    </ul>
  </li>
  <li>Never reuse Entry IDs for different articles.</li>
  <li>Prefer to use article permalinks for Entry IDs.</li>
  <li>Prefer to make your Entry IDs globally unique across all feeds in existence.
    <ul>
      <li>Some readers will merge feeds together, unique IDs help ensure there are no issues.</li>
      <li>The easiest way to accomplish this is to use a URL on a domain that you control. If that isn’t possible you can use a <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> such as <code>urn:uuid:f4a3ca5b-5799-44e8-aaaa-e40728f037d3</code>.</li>
    </ul>
  </li>
</ol>

<h2 id="dates"><a href="#dates">Dates</a></h2>

<p>Both Atom and RSS differentiate between time of publication (the time the entry first appeared in the feed) and the time of last update (the last time the entry was changed). Be sure to handle these correctly.</p>

<ol>
  <li>Include a publication time.</li>
  <li>The publication time should never change. An entry can only be published once.</li>
  <li>Prefer making the publication time roughly match when the entry appeared on the feed. Some readers will ignore entires that were published in the far past. Strongly avoid having entries appear in the feed in different orders than their publication time suggests.</li>
  <li>Avoid future publication times. If a publication time is too far in the future many readers will ignore it as a bug.</li>
  <li>Update time should be greater than or equal to the publication time. New entires should have these two be the same.</li>
  <li>Update time should only change on <strong>significant</strong> updates. Slight formatting changes or typo fixes probably shouldn’t change the last update time. Most readers ignore the update time, some will resurface your article as “updated”.</li>
</ol>

<h2 id="styling"><a href="#styling">Styling</a></h2>

<p>Feel free to use CSS in your feed! However, keep in mind that many feed readers don’t use modern browser engines and may be limited in what they can render. Additionally, many feed readers will sanitize your feed so uncommon elements and custom CSS may be partially or completely stripped. But don’t let that stop you! Using HTML and CSS can greatly improve the experience for users with good readers. Consider the following tips:</p>

<ol>
  <li>Consider what will happen if any CSS doesn’t apply. For example if you set <code><span>background</span><span>:</span> <span>black</span><span>;</span> <span>color</span><span>:</span> <span>white</span></code> and one of the two rules is stripped you will have unreadable text. In generally prefer to make small adjustments rather than relying on CSS for dramatic changes.</li>
  <li>Prefer inline CSS <code>style</code> attributes to separate <code><span>&lt;style&gt;</span></code> blocks. They have wider compatibility.</li>
  <li>Prefer semantic elements such as <code><span>&lt;p&gt;</span></code>, <code><span>&lt;h1&gt;</span></code>, <code><span>&lt;pre&gt;</span></code> and <code><span>&lt;code&gt;</span></code> over emulating their style on <code><span>&lt;div&gt;</span></code>s and <code><span>&lt;span&gt;</span></code>s.</li>
  <li>Don’t rely on JavaScript, almost no readers support it.</li>
  <li>Provide fallbacks for <code><span>&lt;audio&gt;</span></code>, <code><span>&lt;video&gt;</span></code> and <code><span>&lt;iframe&gt;</span></code> tags. Support isn’t common.</li>
  <li>Avoid form and input elements. Support is rare and incompatible.</li>
</ol>

<p>Unfortunately there is no substitute for testing here.</p>

<h2 id="self-link"><a href="#self-link">Self Link</a></h2>

<p>Ensure that the self-link for your feed is accurate.</p>

<div><pre><code><span>&lt;link</span> <span>rel=</span><span>&#34;self&#34;</span> <span>href=</span><span>&#34;https://kevincox.ca/feed.atom&#34;</span><span>/&gt;</span>
</code></pre></div>
<p>This provides the following benefits:</p>

<ol>
  <li>Allows you to move your feed. Some readers will update the feed URL if they get a permanent redirect and the redirect target contains a self link that points to itself.</li>
  <li>Improve cache hits. It is common for users to find slight variations of your feed URL. For example <code>http:</code> instead of <code>https:</code>, <code>/feed</code> vs <code>/feed/</code>, <code>www.example.com</code> vs <code>example.com</code>, <code>feed.atom?tracker=lookatme</code> or <code>?category=rant&amp;content=full</code> vs <code>?content=full&amp;category=rant</code>. By providing a canonicalized self link you can merge these to reduce variance and increase you cache hit rate.</li>
  <li>Required for <a href="#websub">WebSub</a>.</li>
</ol>

<h2 id="caching"><a href="#caching">Caching</a></h2>

<p>Feeds are followed by constant polling. This can create a decent amount of load on your server. Setting cache headers can help control the readers. If you don’t provide any guidance every client will pick their own value, which may be too fast or slow for your feed. If you make a suggestion some will follow it. Try to pick a reasonable value based on when you post. If your blog updates monthly than it probably makes sense to cache for at least an hour. However, if you are posting many times a day, maybe a 5 minute cache is more suitable.</p>

<p>Example cache headers:</p>
<ul>
  <li>5 min: <code>Cache-Control: max-age=300</code></li>
  <li>15 min: <code>Cache-Control: max-age=900</code></li>
  <li>1 h: <code>Cache-Control: max-age=3600</code></li>
</ul>

<p>If you use scheduled posts and want to get very fancy you can vary the cache time based on when the next post will go live. But a static cache time is sufficient.</p>



<h2 id="conditional-requests"><a href="#conditional-requests">Conditional Requests</a></h2>

<p>Support conditional requests on your feed. This makes polling more efficient for both you and your users.</p>

<p>Return an <code>ETag</code> and/or <code>Last-Modified</code> header. Then return a <code>304</code> response if the feed hasn’t changed. See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests">HTTP conditional requests on MDN</a> for more details.</p>

<h2 id="websub"><a href="#websub">WebSub</a></h2>

<p><a href="https://www.w3.org/TR/websub/">WebSub</a> is a standard for real-time feed updates. Not only does it push your updates out faster, but it also reduces load on your server.</p>

<p>You can use a <a href="https://pubsubhubbub.appspot.com/">public</a> <a href="https://pubsubhubbub.superfeedr.com/">hub</a> or run your own. Note that a hub can modify or inject content into your feed, so be sure you trust the hub you pick.</p>

<p>I can’t find good generic setup instructions but the <a href="https://pubsubhubbub.appspot.com/">Google hub</a> has basic instructions on their homepage. Maybe I’ll write a guide one day…</p>

<h2 id="bot-access"><a href="#bot-access">Bot Access</a></h2>

<p>If you use any bot-blocking technology be sure to turn it off (or turn it way down) for your feeds. They are intended to be consumed by bots! Otherwise users will have trouble accessing your feed and will not know about your new content.</p>

<p>Many <a href="https://blog.cloudflare.com/">popular</a> <a href="https://medium.com">sites</a> have problems here. <a href="https://kevincox.ca/2021/12/07/cloudflare-bot-block-failures/">I’ve written about this in the past</a>. Make sure that you aren’t hurt by defaults of various services.</p>

<h2 id="categories"><a href="#categories">Categories</a></h2>

<p>Categories are a reliable way to filter items in feeds. It is far better to let someone subscribe for one category—or all categories but one—than to lose a subscriber because they were annoyed by a subset of your content.</p>

<p>For Atom feeds adding categories is as simple as one element. For example this post contains the following markup in my feed:</p>

<div><pre><code><span>&lt;category</span> <span>term=</span><span>&#34;RSS&#34;</span><span>/&gt;</span>
<span>&lt;category</span> <span>term=</span><span>&#34;Guide&#34;</span><span>/&gt;</span>
</code></pre></div>
<p>For RSS 2 the syntax is just slightly different:</p>

<div><pre><code><span>&lt;category&gt;</span>Rant<span>&lt;/category&gt;</span>
</code></pre></div>
<p>Some readers don’t support categories, so you may wish to consider generating different feeds for different categories or providing a URL parameter to your feed to filter by category. Personally I wouldn’t worry about this.</p>

<h2 id="changing-url"><a href="#changing-url">Changing URL</a></h2>

<p>As much as possible you should avoid changing your feed’s URL. But if you need to do it here is how to do it without losing many subscribers.</p>

<ol>
  <li>Make the feed available at the new URL in addition to the old URL.</li>
  <li>Make sure the self link of the new feed points at the new URL.</li>
  <li>If you use WebSub, start pinging your hub for both URLs whenever you post.</li>
  <li>Redirect the old URL to the new one with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308">308 Permanent Redirect</a>.</li>
  <li>If you use WebSub you should continue pinging the old URL for at least 3 months or the max subscription lifetime of your hub (whichever is greater).</li>
</ol>

<p>Remember that that some subscribers will not move. Try to keep the redirect alive as long as possible. After an extended period of time you may consider replacing the redirect with a feed that has an entry informing readers of the new location. But an ounce of prevention is worth a pound of cure, try picking a good URL (that you control) from the start.</p>

<h2 id="performance"><a href="#performance">Performance</a></h2>

<p>While small and local feed readers tend to use simple poll rates many larger services use a variety of heuristics to determine when to check your feed. If you don’t support WebSub you should aim to respond to feed requests in less than 1s. If your feed is slower, especially if it is slower than 3 s polling will likely be slowed down and you readers will get updates slower.</p>

<hr/>

<p>The items below this point are relatively unimportant. They are a good idea if you are creating a product or feed generator but likely not worth the time if you are just making a feed for your own blog.</p>

<h2 id="summaries"><a href="#summaries">Summaries</a></h2>

<p>Some readers will display short snippets as an article preview. Providing a summary in your feed gives them high quality content for a good user experience. If you don’t provide an explicit summary they will likely use your first paragraph or first couple of sentences of your main content.</p>



<p>Pagination is a useful tool for keeping your feed archive available while keeping the size of your recent items small. Unfortunately, few clients have support. However, adding support in your feed doesn’t have any downsides, so it is still a good idea.</p>

<p>Pagination is very easy. Just add the following link to your feed.</p>

<div><pre><code><span>&lt;link</span> <span>href=</span><span>&#34;https://kevincox.ca/feed/2022-03-05.atom&#34;</span> <span>rel=</span><span>&#34;next&#34;</span><span>/&gt;</span>
</code></pre></div>
<p>Then on subsequent pages also include a <code>prev</code> link. Of course the last page won’t have a <code>next</code> link.</p>

<div><pre><code><span>&lt;link</span> <span>href=</span><span>&#34;https://kevincox.ca/feed.atom&#34;</span> <span>rel=</span><span>&#34;prev&#34;</span><span>/&gt;</span>
<span>&lt;link</span> <span>href=</span><span>&#34;https://kevincox.ca/feed/2022-01-21.atom&#34;</span> <span>rel=</span><span>&#34;next&#34;</span><span>/&gt;</span>
</code></pre></div>
<p>When deciding how large to make your pages remember that not all clients will support pagination, so you don’t want to move new entires off your first page too quickly. I provide the following recommendations. Note that these are just general rules and should be applied judiciously. For example if you post 20 times a day you probably don’t need to keep 7 days of content in your feed. Similarly, if your posts are only a paragraph or two you can probably keep a few more on the first page.</p>

<ol>
  <li>Ensure your <strong>newest</strong> items are on the first page.</li>
  <li>Try to keep items in the feed for at least a day. Some clients check quite infrequently. If reasonable, keep items for at least a week.</li>
  <li>Avoid making the feed too large, well under a megabyte is recommended.</li>
</ol>
<h2>Discuss this Article</h2><p><a href="https://feedmail.org/subscriptions/new?url=https://kevincox.ca">Subscribe via Email</a> - <a href="mailto:kevincox+blog@kevincox.ca?subject=RSS%20Feed%20Best%20Practises">Send Private Feedback</a></p></div></div>
  </body>
</html>
