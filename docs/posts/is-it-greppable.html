<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://mrcoles.com/is-it-greppable/">Original</a>
    <h1>Is it greppable?</h1>
    
    <div id="readability-page-1" class="page"><div id="post-154">
        
        <div><p><img alt="is it greppable?" src="https://mrcoles.com/media/img/is-it-greppable@2x.png"/></p>
<p>Here’s a useful question to keep in mind when seeking to write maintainable code: “is it greppable?”</p>
<p>Grep is the ubiquitous command-line search utility, which was the seed for <a href="https://mrcoles.com/grep/">a meandering conversation</a> last week.</p>
<p>The purpose of the question is, if I return to this code in the future, can I find a function name, string constant, class, or variable by doing a simple grep for it? If so, then it will be easier to understand the landscape of the project and to make updates more safely. However, if I’m getting cute with metaprogramming or going over-the-top making things <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>, then I might not. In this case, I’ll have a harder time piecing the code back together and I might miss something important in a refactor. Code that’s too DRY (pun incoming) is prone to cracking.</p>
<p>As a trivial example, here are a bunch of similar strings in Python:</p>
<div><pre><span></span><code><span># GOOD</span>
<span>STATUS_ACTIVE</span> <span>=</span> <span>&#39;status_active&#39;</span>
<span>STATUS_INACTIVE</span> <span>=</span> <span>&#39;status_inactive&#39;</span>
<span>STATUS_TRIALING</span> <span>=</span> <span>&#39;status_trialing&#39;</span>
</code></pre></div>

<p>a well-intending, but misguided developer could take care of that shared prefix as such:</p>
<div><pre><span></span><code><span># BAD - NOT GREPPABLE</span>
<span>_PRE</span> <span>=</span> <span>&#39;status_&#39;</span>
<span>STATUS_ACTIVE</span> <span>=</span> <span>f</span><span>&#39;</span><span>{</span><span>_PRE</span><span>}</span><span>active&#39;</span>
<span>STATUS_INACTIVE</span> <span>=</span> <span>f</span><span>&#39;</span><span>{</span><span>_PRE</span><span>}</span><span>inactive&#39;</span>
<span>STATUS_TRIALING</span> <span>=</span> <span>f</span><span>&#39;</span><span>{</span><span>_PRE</span><span>}</span><span>trialing&#39;</span>
</code></pre></div>

<p>While the variable names will be easy to find, if someone searches for one of the strings, it could easily be missed. Furthermore the code is harder to read. In some ways, contending with this question can help offset tendencies to <em>elegantly complicate</em> code.</p>
<p>This matters a lot for dynamic typed programming languages (Python, JavaScript, Ruby, etc.) where you can’t rely on static types when refactoring or searching for references, but I think it’s helpful when writing in any language. For example, it came up in the comment discussion when I was reasoning through <a href="https://mrcoles.com/learning-typescript-and-enums/">enums in Typescript</a>.</p>
<p>Of course this isn’t a new idea, for a deeper dive—along with a look at edge cases—check out: <a href="http://jamie-wong.com/2013/07/12/grep-test/">“Grep test” by Jamie Wong</a>.</p></div>
    </div></div>
  </body>
</html>
