<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://cloud.google.com/blog/products/networking/speed-scale-reliability-25-years-of-data-center-networking">Original</a>
    <h1>Speed, scale and reliability: 25 years of Google datacenter networking evolution</h1>
    
    <div id="readability-page-1" class="page"><div jsname="tx2NYc"><section><span jsaction="rcuQ6b:npT2md" jscontroller="YSybTb" data-track-type="" soy-skip="" ssk="5:kbe95"><p><span>Rome wasn’t built in a day, and neither was Google’s network. But 25 years in, we’ve built out network infrastructure with scale and technical sophistication that’s nothing short of remarkable.</span></p>
<p><span>It’s all the more impressive because in the beginning, Google’s network infrastructure was relatively simple. But as our user base and the demand for our services grew exponentially, we realized that we needed a network that could handle an unprecedented scale of data and traffic, and that could adapt to dynamic traffic patterns as our workloads changed over time. This ignited a 25-year journey marked by numerous engineering innovations and milestones, ultimately leading to our current fifth-generation </span><a href="https://cloud.google.com/blog/topics/systems/the-evolution-of-googles-jupiter-data-center-network?e=48754805"><span>Jupiter data center network</span></a><span> architecture, which now scales to 13 Petabits/sec of bisectional bandwidth. To put this data rate in perspective, this network could support a video call (@1.5 Mb/s) for all 8 billion people on Earth! </span></p>
<p><span>Today, we have hundreds of Jupiter fabrics deployed around the world, simultaneously supporting hundreds of services, billions of active daily users, all of our Google Cloud customers, and some of the largest ML training and serving infrastructures in the world. I would like to share more about our journey as we look ahead to the next generation of data center network infrastructure.</span></p></span></section><section></section><section><span jsaction="rcuQ6b:npT2md" jscontroller="YSybTb" data-track-type="" soy-skip="" ssk="5:kbe95"><h3><strong>Guiding principles</strong></h3>
<p><span>Our network evolution has been guided by a few key principles:</span></p>
<ul>
<li><strong>Anything, anywhere: </strong><span>Our data center networks support efficiency and simplicity by allowing large-scale jobs to be placed anywhere among 100k+ servers within the same network fabric, with high-speed access to needed storage and support services. This scale improves application performance for internal and external workloads and eliminates internal fragmentation. </span></li>
<li>
<p><strong>Predictable, low latency: </strong><span>We prioritize consistent performance and minimizing tail latency by provisioning bandwidth headroom, maintaining 99.999% network availability, and proactively managing congestion through end-host and fabric cooperation.</span></p>
</li>
<li>
<p><strong>Software-defined and systems-centric:</strong><span> Leveraging software-defined networking (SDN) for flexibility and agility, we qualify and globally release dozens of new features every two weeks across our global network.</span></p>
</li>
<li>
<p><strong>Incremental evolution and dynamic topology: </strong><span>Incremental evolution helps us to refresh the network granularly (rather than bringing it down wholesale), while dynamic topology helps us to continuously adapt to changing workload demands. The combination of optical circuit switching and SDN supports in-place physical upgrades and an ever-evolving, heterogeneous network that supports multiple hardware generations in a single fabric.</span></p>
</li>
<li>
<p><strong>Traffic engineering and application-centric QoS:</strong><span> Optimizing traffic flows and ensuring Quality of Service helps us tailor the network to each application&#39;s needs.</span></p>
</li>
</ul>
<p><span>Integrating across the above principles is the foundation for our work. The network is the foundation of reliability for all other compute services, from storage to AI. As such, the network must fail last and fail least. To support this foundational responsibility, we rigorously define and monitor every </span><span>bad minute<sup>1</sup></span><span> across hundreds of clusters and millions of ports across our global network. Our progress on reliability is such that our in-house, software-defined Jupiter networks deliver a factor of </span><a href="https://research.google/pubs/orion-googles-software-defined-networking-control-plane/" rel="noopener" target="_blank"><span>50x more reliability</span></a><span> than prior versions of our data center networks. </span></p>
<h3><strong>2015 - Jupiter, the first Petabit network </strong></h3>
<p><span>In a seminal paper, we</span><span> </span><a href="https://research.google/pubs/jupiter-rising-a-decade-of-clos-topologies-and-centralized-control-in-googles-datacenter-network/" rel="noopener" target="_blank"><span>showed</span></a><span> </span><span>that</span><span> </span><span>Jupiter data center networks scaled to 1.3 Pb/s of aggregate bandwidth by leveraging merchant switch silicon, Clos topologies and Software Defined Networking (SDN). This generation of Jupiter was the culmination of five generations of data center networks developed in house by the Google networking team. At that time, this data rate — in </span><span>one</span><span> Google data center — was more than the estimated aggregate IP traffic data rate for the global internet. </span></p>
<h3><strong>2022 - Enabling 6 Petabit per second</strong></h3>
<p><span>In 2022 we</span><span> </span><a href="https://cloud.google.com/blog/topics/systems/the-evolution-of-googles-jupiter-data-center-network"><span>announced</span></a><span> </span><span>that our Jupiter networks scaled to over 6 Pb/s, with deep integration of optical circuit switching (OCS), wave division multiplexing (WDM), and a highly scalable </span><a href="https://www.usenix.org/conference/nsdi21/presentation/ferguson" rel="noopener" target="_blank"><span>Orion</span></a><span> SDN controller. These technologies unlocked a range of advancements, including incremental network builds, enhanced performance, reduced costs, lower power consumption, dynamic traffic management, and seamless upgrades.</span></p>
<h3><strong>2023 - 13 Petabit per second network</strong></h3>
<p><span>We have further enhanced Jupiter to support native 400 Gb/s link speeds in the network core. The fundamental building block of Jupiter networks (called the </span><span>aggregation block</span><span>) now consists of 512 ports of 400 Gb/s of connectivity both to end hosts and to the rest of the data center, for an aggregate of 204.8 Tb/s of bidirectional non-blocking bandwidth per block. We support 64 such blocks for a total bisection bandwidth of 64*204.8 Tb/s = 13.1 Pb/s. This technology has been powering Google&#39;s production data centers for over a year, fueling the rapid advancement of artificial intelligence, machine learning, web search, and other data-intensive applications.</span></p>
<h3><strong>2024 and beyond - Extreme networking in the age of AI</strong></h3>
<p><span>While celebrating over two decades of innovation in data center networking, we’re already charting the course for the next generation of network infrastructure to support the age of AI. For example, our teams are busy working on networking infrastructure needs for our upcoming </span><a href="https://cloud.google.com/blog/products/compute/trillium-sixth-generation-tpu-is-in-preview"><span>A3 Ultra VMs</span></a><span>, that feature NVIDIA ConnectX-7 networking, </span><span> supports non-blocking 3.2 Tbps per server of GPU-to-GPU traffic over RoCE (RDMA over converged ethernet) and our future offerings based on </span><a href="https://www.nvidia.com/en-us/data-center/gb200-nvl72/" rel="noopener" target="_blank"><span>NVIDIA GB200 NVL72</span></a><span>. </span></p>
<p><span>Over the next few years, we will deliver significant advances in network scale and bandwidth, both per-port and network-wide. We will continue to push the boundaries of end-host integration, including the transport and congestion control stack, and streamline network stages to achieve even lower latency with tighter tails. Real-time topology engineering, deeper integration with the compute and storage stacks, and continued refinements to host-based load balancing techniques will further enhance network reliability and latency. With these innovations, our network will remain a cornerstone for the transformative applications and services that enrich the lives of our users throughout the world while simultaneously supporting the groundbreaking AI capabilities that power both our internal services and Google Cloud products.</span></p>
<p><span>We are excited to take on these challenges and opportunities to see what the next 25 years hold for Google networking!</span></p>
<h3><strong>Further resources</strong></h3>
<ul>
<li>
<p><span>Jupiter Rising: A Decade of Clos Topologies and Centralized Control in Google’s Datacenter Network, SIGCOMM ‘15 [</span><a href="https://research.google/pubs/jupiter-rising-a-decade-of-clos-topologies-and-centralized-control-in-googles-datacenter-network/" rel="noopener" target="_blank"><span>paper</span></a><span>]</span></p>
</li>
<ul>
<li>
<p><span>Journey of the first Jupiter datacenter network leveraging merchant switch silicon, Clos topologies and Software Defined Networking (SDN).</span></p>
</li>
<li>
<p><span>First deployed in production in 2012.</span></p>
</li>
</ul>
<li>
<p><span>Mission Apollo: Landing Optical Circuit Switching at Datacenter Scale, </span><a href="http://arxiv.org" rel="noopener" target="_blank"><span>arxiv.org</span></a><span>, 2022 [</span><a href="https://arxiv.org/abs/2208.10041" rel="noopener" target="_blank"><span>paper</span></a><span>]</span></p>
</li>
<ul>
<li>
<p><span>First deployed in production in 2013.</span></p>
</li>
</ul>
<li>
<p><span>Orion: Google&#39;s Software-Defined Networking Control Plane. NSDI ‘21 [</span><a href="https://research.google/pubs/orion-googles-software-defined-networking-control-plane/" rel="noopener" target="_blank"><span>paper</span></a><span>]</span></p>
</li>
<ul>
<li>
<p><span>Google&#39;s high-performance, scalable, intent-based distributed SDN platform used in both datacenter and wide area networks.</span></p>
</li>
<li>
<p><span>First deployed in production in 2016.</span></p>
</li>
</ul>
<li>
<p><span>Jupiter Evolving: Transforming Google&#39;s Datacenter Network via Optical Circuit Switches and Software-Defined Networking, SIGCOMM ’22 [</span><a href="https://research.google/pubs/jupiter-evolving-transforming-googles-datacenter-network-via-optical-circuit-switches-and-software-defined-networking/" rel="noopener" target="_blank"><span>paper</span></a><span>]</span></p>
</li>
<ul>
<li>
<p><span>Enabling technologies: OCS (2013), Orion SDN (2016), 200Gbps networking (2020), direct-connect topology (2017), dynamic traffic engineering (2018), dynamic topology engineering (2021).</span></p>
</li>
</ul>
<li>
<p><span>Swift: Delay is Simple and Effective for Congestion Control in the Datacenter, SIGCOMM ‘20 [</span><a href="https://research.google/pubs/swift-delay-is-simple-and-effective-for-congestion-control-in-the-datacenter/" rel="noopener" target="_blank"><span>paper</span></a><span>]</span></p>
</li>
<ul>
<li>
<p><span>Swift, a congestion control protocol using hardware timestamps and AIMD control with a delay target, delivers excellent performance in Google datacenters with low flow completion times for short RPCs and high throughput for long RPCs.</span></p>
</li>
<li>
<p><span>First deployed in production in 2017</span></p>
</li>
</ul>
<li>
<p><span>PLB: Congestion Signals are Simple and Effective for Network Load Balancing, SIGCOMM ‘22 [</span><a href="https://research.google/pubs/plb-congestion-signals-are-simple-and-effective-for-network-load-balancing/" rel="noopener" target="_blank"><span>paper</span></a><span>]</span></p>
</li>
<ul>
<li>
<p><span>Protective Load Balancing (PLB) is a simple, effective host-based load balancing design that reduces network congestion and improves performance by randomly changing paths for congested connections, preferring to repath after idle periods to minimize packet reordering.</span></p>
</li>
<li>
<p><span>First deployed in production in 2020</span></p>
</li>
</ul>
</ul>
<hr/>
<p><sup><em><span>1. Any minute where a statistically significant number of network flows in the data center network experience a total or partial outage above a defined threshold.</span></em></sup></p></span></section><section><section><span>Posted in</span><ul><li><a href="https://cloud.google.com/blog/products/networking" track-metadata-position="body" track-metadata-eventdetail="cloud.google.com/blog/products/networking" track-metadata-module="tag list" track-metadata-module_headline="posted in">Networking</a></li><li><a href="https://cloud.google.com/blog/topics/systems" track-metadata-position="body" track-metadata-eventdetail="cloud.google.com/blog/topics/systems" track-metadata-module="tag list" track-metadata-module_headline="posted in">Systems</a></li></ul></section></section></div></div>
  </body>
</html>
