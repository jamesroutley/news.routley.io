<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/davidlattimore/wild">Original</a>
    <h1>Wild – A fast linker for Linux</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Wild is a linker with the goal of being very fast for iterative development.</p>
<p dir="auto">The plan is to eventually make it incremental, however that isn&#39;t yet implemented. It is however
already pretty fast even without incremental linking.</p>
<p dir="auto">For production builds, its recommended to use a more mature linker like GNU ld or LLD.</p>
<p dir="auto">During development, if you&#39;d like faster warm build times, then you could give Wild a try. It&#39;s at
the point now where it should be usable for development purposes provided you&#39;re developing on
x86-64 Linux. If you hit any issues, please file a bug report.</p>

<p dir="auto">To install a pre-built binary, you can copy and paste the command from the <a href="https://github.com/davidlattimore/wild/releases">releases
page</a>. Alternatively, you can download the tarball
and manually copy the <code>wild</code> binary somewhere on your path.</p>
<p dir="auto">To build and install, you can run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo install --locked --bin wild --git https://github.com/davidlattimore/wild.git wild"><pre>cargo install --locked --bin wild --git https://github.com/davidlattimore/wild.git wild</pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">Using as your default linker</h2><a id="user-content-using-as-your-default-linker" aria-label="Permalink: Using as your default linker" href="#using-as-your-default-linker"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you&#39;d like to use Wild as your default linker for building Rust code, you can put the following
in <code>~/.cargo/config.toml</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="[target.x86_64-unknown-linux-gnu]
linker = &#34;clang&#34;
rustflags = [&#34;-C&#34;, &#34;link-arg=--ld-path=wild&#34;]"><pre>[<span>target</span>.<span>x86_64-unknown-linux-gnu</span>]
<span>linker</span> = <span><span>&#34;</span>clang<span>&#34;</span></span>
<span>rustflags</span> = [<span><span>&#34;</span>-C<span>&#34;</span></span>, <span><span>&#34;</span>link-arg=--ld-path=wild<span>&#34;</span></span>]</pre></div>


<p dir="auto">Mold is already very fast, however it doesn&#39;t do incremental linking and the author has stated that
they don&#39;t intend to. Wild doesn&#39;t do incremental linking yet, but that is the end-goal. By writing
Wild in Rust, it&#39;s hoped that the complexity of incremental linking will be achievable.</p>

<p dir="auto">The following platforms / architectures are currently supported:</p>
<ul dir="auto">
<li>x86-64 on Linux</li>
</ul>
<p dir="auto">The following is working with the caveat that there may be bugs:</p>
<ul dir="auto">
<li>Output to statically linked, non-relocatable binaries</li>
<li>Output to statically linked, position-independent binaries (static-PIE)</li>
<li>Output to dynamically linked binaries</li>
<li>Output to shared objects (.so files)</li>
<li>Rust proc-macros, when linked with Wild work</li>
<li>Most of the top downloaded crates on crates.io have been tested with Wild and pass their tests</li>
<li>Debug info</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">What isn&#39;t yet supported?</h3><a id="user-content-what-isnt-yet-supported" aria-label="Permalink: What isn&#39;t yet supported?" href="#what-isnt-yet-supported"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Lots of stuff. Here are some of the larger things that aren&#39;t yet done, roughly sorted by current
priority:</p>
<ul dir="auto">
<li>Incremental linking</li>
<li>Support for architectures other than x86-64</li>
<li>Support for a wider range of linker flags</li>
<li>Linker scripts</li>
<li>Mac support</li>
<li>Windows support</li>
<li>LTO</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">How can I verify that Wild was used to link a binary?</h3><a id="user-content-how-can-i-verify-that-wild-was-used-to-link-a-binary" aria-label="Permalink: How can I verify that Wild was used to link a binary?" href="#how-can-i-verify-that-wild-was-used-to-link-a-binary"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Install <code>readelf</code>, then run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="readelf  -p .comment my-executable"><pre>readelf  -p .comment my-executable</pre></div>
<p dir="auto">Look for a line like:</p>
<div data-snippet-clipboard-copy-content="Linker: Wild version 0.1.0"><pre><code>Linker: Wild version 0.1.0
</code></pre></div>
<p dir="auto">Or if you don&#39;t want to install readelf, you can probably get away with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="strings my-executable | grep &#39;Linker:&#39;"><pre>strings my-executable <span>|</span> grep <span><span>&#39;</span>Linker:<span>&#39;</span></span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Where did the name come from?</h3><a id="user-content-where-did-the-name-come-from" aria-label="Permalink: Where did the name come from?" href="#where-did-the-name-come-from"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">It&#39;s somewhat of a tradition for linkers to end with the letters &#34;ld&#34;. e.g. &#34;GNU ld, &#34;gold&#34;, &#34;lld&#34;,
&#34;mold&#34;. Since the end-goal is for the linker to be incremental, an &#34;I&#34; is added. Let&#39;s say the &#34;W&#34;
stands for &#34;Wild&#34;, since recursive acronyms are popular in open-source projects.</p>

<p dir="auto">The goal of Wild is to eventually be very fast via incremental linking. However, we also want to be
as fast as we can be for non-incremental linking and for the initial link when incremental linking
is enabled.</p>
<p dir="auto">These benchmark were run on David Lattimore&#39;s laptop (2020 model System76 Lemur pro), which has 4
cores (8 threads) and 42 GB of RAM.</p>
<p dir="auto">The following times are for linking rustc-driver, which is a shared object that contains most of the
code of the Rust compiler. Linking was done with with <code>--strip-debug</code> and <code>--build-id=none</code>.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Linker</th>
<th>Time (ms)</th>
<th>± Standard deviation (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>GNU ld (2.38)</td>
<td>20774</td>
<td>855</td>
</tr>
<tr>
<td>gold (2.38)</td>
<td>6796</td>
<td>58</td>
</tr>
<tr>
<td>lld (18.1.8)</td>
<td>1601</td>
<td>24</td>
</tr>
<tr>
<td>mold (2.34.1)</td>
<td>946</td>
<td>17</td>
</tr>
<tr>
<td>wild (2024-11-30)</td>
<td>486</td>
<td>19</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">The following times are for linking the C compiler, clang without debug info.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Linker</th>
<th>Time (ms)</th>
<th>± Standard deviation (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>GNU ld (2.38)</td>
<td>8784</td>
<td>42</td>
</tr>
<tr>
<td>gold (2.38)</td>
<td>2528</td>
<td>37</td>
</tr>
<tr>
<td>lld (18.1.8)</td>
<td>1679</td>
<td>23</td>
</tr>
<tr>
<td>mold (2.34.1)</td>
<td>429</td>
<td>2</td>
</tr>
<tr>
<td>wild (2024-11-30)</td>
<td>244</td>
<td>6</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Next, let&#39;s add debug info (remove <code>--strip-debug</code>). First rustc-driver:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Linker</th>
<th>Time (ms)</th>
<th>± Standard deviation (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>GNU ld (2.38)</td>
<td>23224</td>
<td>1030</td>
</tr>
<tr>
<td>gold (2.38)</td>
<td>8840</td>
<td>879</td>
</tr>
<tr>
<td>lld (18.1.8)</td>
<td>2741</td>
<td>1403</td>
</tr>
<tr>
<td>mold (2.34.1)</td>
<td>3514</td>
<td>2102</td>
</tr>
<tr>
<td>wild (2024-11-30)</td>
<td>3158</td>
<td>1616</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Now clang with debug info:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Linker</th>
<th>Time (ms)</th>
<th>± Standard deviation (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>GNU ld (2.38)</td>
<td>139985</td>
<td>9871</td>
</tr>
<tr>
<td>gold (2.38)</td>
<td>92147</td>
<td>7287</td>
</tr>
<tr>
<td>lld (18.1.8)</td>
<td>30549</td>
<td>9819</td>
</tr>
<tr>
<td>mold (2.34.1)</td>
<td>16933</td>
<td>5359</td>
</tr>
<tr>
<td>wild (2024-11-30)</td>
<td>31540</td>
<td>7133</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">So Wild performs pretty well without debug info, but with debug info, it&#39;s performing less well at
the moment.</p>
<p dir="auto">See <a href="https://github.com/davidlattimore/wild/blob/main/BENCHMARKING.md">BENCHMARKING.md</a> for more details on benchmarking.</p>

<p dir="auto">The following is a <code>cargo test</code> command-line that can be used to build and test a crate using Wild.
This has been run successfully on a few popular crates (e.g. ripgrep, serde, tokio, rand, bitflags).
It assumes that the &#34;wild&#34; binary is on your path. It also depends on the Clang compiler being
installed, since GCC doesn&#39;t allow using an arbitrary linker.</p>
<div dir="auto" data-snippet-clipboard-copy-content="RUSTFLAGS=&#34;-Clinker=clang -Clink-args=--ld-path=wild&#34; cargo test"><pre>RUSTFLAGS=<span><span>&#34;</span>-Clinker=clang -Clink-args=--ld-path=wild<span>&#34;</span></span> cargo <span>test</span></pre></div>

<p dir="auto">For more information on contributing to <code>wild</code> see <a href="https://github.com/davidlattimore/wild/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a></p>

<p dir="auto">If you&#39;d like to <a href="https://github.com/sponsors/davidlattimore">sponsor this work</a>, that would be very
much appreciated. The more sponsorship I get the longer I can continue to work on this project full
time.</p>

<p dir="auto">Licensed under either of <a href="https://github.com/davidlattimore/wild/blob/main/LICENSE-APACHE">Apache License, Version 2.0</a> or <a href="https://github.com/davidlattimore/wild/blob/main/LICENSE-MIT">MIT license</a>
at your option.</p>
<p dir="auto">Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in
Wild by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any
additional terms or conditions.</p>
</article></div></div>
  </body>
</html>
