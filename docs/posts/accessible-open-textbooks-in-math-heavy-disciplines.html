<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://richardzach.org/2025/03/accessible-open-textbooks-in-math-heavy-disciplines/">Original</a>
    <h1>Accessible open textbooks in math-heavy disciplines</h1>
    
    <div id="readability-page-1" class="page"><div>
		
<h2>The challenge</h2>



<p>The authoring platform of choice in many math-heavy disciplines is <a href="https://www.latex-project.org/">LaTeX</a>. It produces typeset documents of excellent quality and handles formulas and mathematical diagrams extremely well. Practically every researcher or instructor in mathematics, physics, and computer science is adept at using it, and it has a wide user base outside these core disciplines as well (e.g., philosophy and economics).</p>



<p>Unfortunately, it only produces PDF output. PDF is not an accessible format: it does not scale well to display on tablets or phones, text does not reflow, it contains no semantic information (e.g., what’s a heading or what’s a list), images, formulas, and diagrams are only visually accessible. This creates difficulties for readers who rely on alternative presentations of material (in other colors, text sizes, fonts, or in non-visual formats, i.e., audio or Braille) or who simply want to access the material on a device not the size of a printed page (e.g., on a smartphone or small e-reader).</p>



<p>A partial solution is to provide the content in HTML. HTML deals with accessibility much better than PDF, and technology that converts HTML to other formats is widely available. HTML is also accessible to <a href="https://en.wikipedia.org/wiki/Screen_reader">screen reader software</a> specifically designed for users with low or no vision, and simpler text-to-speech (TTS) software which many sighted users also rely on (e.g., those with dyslexia or ADHD). In math-heavy disciplines, the widespread reliance on LaTeX and PDF only for producing OERs poses a unique challenge (e.g., only about half of the textbooks on the <a href="https://textbooks.aimath.org/textbooks/approved-textbooks/">American Institute for Mathematics list</a> are provided in HTML).</p>



<p>The availability of material in HTML format to ensure accessibility is a desideratum for all OER. For math-heavy disciplines, the presentation of mathematical formulas in an HTML version of the material poses a second and difficult challenge. Mathematical formulas have long caused problems for display on web pages. Early solutions included displaying pictures or recreating formulas as text with special formatting and fonts. The modern solution is <a href="https://www.w3.org/Math/">MathML</a>, a special format for representing mathematical formulas that can be included in HTML documents. MathML is not universally supported by web browsers. The most widespread solution is for a webpage to include the <a href="https://en.wikipedia.org/wiki/Polyfill_(programming)">polyfill</a> browser extension <a href="https://www.mathjax.org/">MathJax</a> in the webpage, which displays MathML to the user. MathML is a low-level format and not a suitable format for humans to write formulas in. However, good conversion utilities from LaTeX formula notation to MathML exist, and MathJax can also directly display LaTeX formulas embedded in webpages. For instance, the code <code>\int_{x=0}^\infty \frac{1}{x^2} dx</code> produces: $$\int_{x=0}^\infty \frac{1}{x^2}$$ whereas the MathML representation is unintelligble (right-click on the formula, select “Show Math As &gt; MathML Code” to see it). MathJax can display the formulas itself, display the LaTeX code used to generate it, or produce code in some other format that it lets the browser render (e.g., MathML, HTML, or SVG; right-click on the formula, select “Math Settings &gt; Math Renderer” to see the differences).</p>







<h2>Alternatives to LaTeX</h2>



<p>One option is to avoid LaTeX as the authoring platform from the start, or to convert existing LaTeX code to a format that is itself more easily converted into HTML. The following are three options, which all allow the use of LaTeX notation for entering mathematical symbols and formulas. </p>







<ul>
<li><a href="https://pressbooks.pub/"><strong>Pressbooks</strong></a> is a web-based authoring and publishing tool for OERs, which <a href="https://guide.pressbooks.com/chapter/add-mathematical-notation/">supports LaTeX formulas</a> and support for <a href="https://guide.pressbooks.com/chapter/pdf-export-options/">export to PDF</a> for printing. It is built on top of WordPress, so in a sense it is web-first. While it is possible to use mathematical formulas in a Pressbooks project, it is not a popular option for math-heavy disciplines. Example: <a href="https://milnepublishing.geneseo.edu/concise-introduction-to-logic/">A Concise Introduction to Logic</a> (note that formal proofs are displayed as images, images have no ALT tags, and stand-alone formulas don’t use MathML or even unicode characters, e.g., the logical and symbol is presented as a caret ^ and the logical or as the letter “v”).</li>



<li><a href="https://pretextbook.org/"><strong>PreTeXt</strong></a> is a platform for authoring mathematics textbooks in XML, and converts the XML source to other formats (including LaTeX for printing, HTML for display on a web browser, and ePub for display on e-readers such as Kindle). PreTeXt is one of the oldest open publishing solutions and popular with with mathematicians. For open textbooks, <a href="https://pretextbook.org/conversions.html">free help for conversion to PreTeXt</a> is available. Example: <a href="https://openmathbooks.org/aatar/aata.html">Abstract Algebra</a></li>



<li><a href="https://en.wikipedia.org/wiki/Markdown"><strong>Markdown</strong></a> is a simple markup language that can easily be converted to other formats (including HTML, LaTeX, PDF, and Word) using the <a href="https://pandoc.org/">pandoc</a> package. <a href="https://rmarkdown.rstudio.com/">R Markdown</a> (and its extension/successor <a href="https://quarto.org/" data-type="link" data-id="https://quarto.org/">Quarto</a>) and <a href="https://bookdown.org/">Bookdown</a> are popular interfaces for authoring and publishing Markdown documents (and use pandoc and LaTeX “under the hood”). Mathematical formulas and symbols can be included using simplified LaTeX code. Because of the close connection to the statistics package R, this option is popular with statisticians, economists, psychologists, and data scientists. <a href="https://bookdown.org/home/tags/textbook/">Examples</a>, e.g.: <a href="https://bookdown.org/gregcox7/ims_psych/index.html">Modern Statistical Methods for Psychology</a>, <a href="https://jonathanweisberg.org/vip/">Odds &amp; Ends</a></li>
</ul>



<p>All of the above come with advantages and drawbacks. Depending on the scope and complexity of the project, and the functionality required, converting an existing project to, e.g., Markdown or PreTeXt may be a viable option, and should be considered especially for new projects. A significant advantage of Markdown is that it can be easily converted to other formats (including LaTeX). </p>



<p>An obvious barrier to use of the above is that authors have to learn a new system and/or language and the use of unfamiliar tools. A more significant disadvantage is that the LaTeX ecosystem is huge. LaTeX (or at least its predecessor, TeX) has been around for almost half a century. There are numerous <a href="https://ctan.org/pkg/">packages</a> that aid in the production of documents, from sophisticated citation managers to packages for the production of specialized diagrams and complex layout of mathematical formulas. LaTeX is also easily extensible; authors can define their own macros quite easily. Very few of these features are available to documents authored in Markdown or PreTeXt, and almost none in Pressbooks. Converting an entire existing textbook will usually require a substantial amount of work, in part because many things that LaTeX does easily will have to be recreated from scratch.</p>



<h2>LaTeX to HTML conversion</h2>



<p>A second option is to use software to automatically convert a LaTeX project to HTML. Because of the complexity and variability of LaTeX projects, there are few good conversion utilities. The solution I prefer is <a href="https://dlmf.nist.gov/LaTeXML/">LaTeXML</a>. It is a reimplementation of LaTeX, but outputs to XML instead of to PDF, and can compile mathematical formulas to MathML. LaTeXML is what <a href="https://ar5iv.labs.arxiv.org/">ar5iv</a> uses: a project to compile everything on the <a href="https://arxiv.org/">arXiv</a> to HTML.</p>



<p>Because LaTeXML simulates what LaTeX is actually doing, it can (to a large extent) deal with packages and LaTeX programming directly. It does natively support a large number of popular packages and classes, but packages it does not support can be loaded and “compiled” using the <code>--includestyles</code> flag. This support is not perfect (e.g., many newer packages that rely in turn on the <code><a href="https://ctan.org/pkg/expl3">expl3</a></code> package <a href="https://github.com/brucemiller/LaTeXML/issues/2064">cannot yet</a> be compiled.) LaTeXML is under active development and is likely to keep improving and be supported for the foreseeable future. In any case, because many commonly used packages are supported already or work with the <code>--includestyles</code> flag, LaTeXML is probably the best candidate for a tool to convert an existing LaTeX project to HTML.</p>



<p>The output produced by LaTeXML directly is not terribly visually appealing. Since the HTML output will  not just be used by screen readers (where visual presentation is secondary), some effort is required to <em>style</em> the HTML produced by LaTeXML using <a href="https://en.wikipedia.org/wiki/CSS">CSS</a> to produce webpages that look attractive and display well on a range of devices and browsers (i.e., <a href="https://en.wikipedia.org/wiki/Responsive_web_design">responsive</a> web pages). </p>



<p>One available and simple solution is <a href="https://vlmantova.github.io/bookml/">BookML</a>, developed by mathematician Vincenzo Mantova at the University of Leeds. BookML uses LaTeXML to produce webpages that use a style modified from that used by Bookdown. LaTeXML and BookML provide additional features to authors to provide different code depending on whether LaTeX is used to produce a PDF, or LaTeXML to produce HTML. BookML extends this capability, e.g., by adding the possibility of directly adding HTML code into the webpages produced, or adding alt text to images produced other than by LaTeX’s <code>\includegraphics</code> command. BookML also automatically produces a <a href="https://scorm.com/scorm-explained/one-minute-scorm-overview/">SCORM</a> bundle of the project that can be uploaded to a learning management system (such as Brightspace, Canvas, or Moodle). This is especially useful for authors who don’t have an easy way of hosting the resulting website on a server. LaTeXML (but not yet BookML) can also produce ePub.</p>



<h2>Case study: An open textbook on formal logic</h2>



<p>The University of Calgary Department of Philosophy teaches symbolic logic in its PHIL 279 course to over 700 students (mainly Computer Science majors). With support from the Taylor Institute for teaching and Learning, we adapted the open textbook <em><a href="https://www.fecundity.com/logic/">forall x</a></em> by P.D. Magnus; the resulting open textbook <em><a href="https://forallx.openlogicproject.org/">forall x: Calgary</a></em> has been in use in PHIL 279 since 2017. The Calgary version is now also widely adopted and has been translated to German and Portuguese.</p>



<p>I converted this text to HTML in 2024 using LaTeXML and BookML. The basic (error-free) conversion to HTML was simple, and required about a day of work. It involved mainly changing bits of LaTeX code that LaTeXML couldn’t handle. Approximately another week of work was required to fine-tune the LaTeX code and CSS so that it produced better HTML and visual output. E.g., markup to produce lists sometimes resulted in odd spacing on the resulting web page. LaTeX’s mechanisms for producing links also sometimes didn’t work (produced incorrect links or link text when run through LaTeXML). Many of these issues were caused by oddities of the legacy LaTeX code from which we started, and wouldn’t be necessary for a LaTeX project with clean source code that uses standard packages.</p>



<p>The impetus for carrying out the conversion was a request from the University of Cincinnati Accessibility Center who needed to accommodate a blind student in a course using this textbook. I took this as an opportunity to make the HTML version as accessible as possible, specifically, to make it work well with screen readers.</p>



<ul>
<li>Add <code>ALT</code> text to all diagrams and images.</li>



<li>Provide accessible alternatives to some text elements (e.g., we use a long underline to indicate a blank in a sentence, but this long underline cannot be interpreted by screen readers).</li>



<li>Switch the language on foreign terms and names so that screen readers can pronounce them in the right voice.</li>



<li>Develop a non-visual representation of formal proofs and rewrite the code to produce them so that LaTeXML and BookML could a) display them on the HTML version cleanly using CSS and b) screen readers could provide the missing visual information in textual (i.e., auditory) form. The proofs in PDF are produced with the <code><a href="https://ctan.org/pkg/fitch">fitch</a></code> package. When run through LaTeXML/BookML they are produced using <code>fitchml.sty</code> and styled with CSS with <code>fitchml.css</code> in the <a href="https://github.com/rzach/forallx-yyc/tree/master">project source</a>. The non-visual presentation is <a href="https://forallx.openlogicproject.org/html/A4.html">described</a> in the accessibility notes for <em>forall x</em>. (Thanks to Patrick Girard and Audrey Yap for discussions on how to present proofs non-visually. The image at the top of this post is an example.)</li>
</ul>



<p>There is still work to be done, and the results haven’t been tested by actual students with low or no vision, on their own or in the context of using the materials in a course.</p>



<h2>Pitfalls and tricks</h2>



<p>It is difficult to test web versions of OER for accessibility. There are basic tools (e.g., <a href="https://wave.webaim.org/">WAVE</a>) that automatically check for various things, e.g., that contrast and colors are suitable for colorblind readers, images have <code>ALT</code> tags, etc. Code produced by LaTeXML generally does well on everything that can be automatically checked (the developers have accessibility in mind), and anything the available resources for OER authors provide guidance on (e.g., the BCcampus Open <a href="https://opentextbc.ca/accessibilitytoolkit/">Accessibility Toolkit</a>). But detailed testing is a challenge for an author with no accessibility training or experience.</p>



<p>What might work in the screen reader you have (say, VoiceOver on MacOS or Narrator on Windows) may not work with others, may work on one version but not others, and any hacks used to make it work might break on others. Testing on a wide range of assistive technologies for non-experts is near impossible: you’d need several different computers and ability to install various assistive technologies on them, some of them are not free. Testing Braille requires at least knowledge of Braille if not separate hardware.</p>



<p>That said, it’s usually best to use documented best practice. (E.g., I originally used the <code>aria-label</code> tag to provide explicit hints for how things should be pronounced. But support of <code>aria-label</code> is inconsistent.)</p>



<p>I felt pulled in competing directions when fine-tuning code and deciding on various settings, between providing an optimal experience for readers using TTS extensions casually and not degrading the experience for users relying on true screen readers like JAWS and NVDA. TTS extensions tend to have poor support for pronouncing unicode characters, MathML with assistive alternative text, and tables. Dong things one way might get VoiceOver on Macs or Windows Narrator to read out formulas and special symbols, but then prevent NVDA from working properly. I also had a hard time maneuvering accessibility advice and was unable to obtain advice or support from on-campus sources like our accessibility service center. </p>



<p>Tricking screen readers into pronouncing things the right way is in any case a fool’s errand and may have unintended side effects. (See <a href="https://benmyers.dev/blog/overriding-screenreader-pronunciations/">The Curious Case of “iff” and Overriding Screenreader Pronunciations</a> by Ben Myers). It’s usually best to “leave things be” but provide guidance in a page on accessibility (here is the one for <em><a href="https://forallx.openlogicproject.org/html/A4.html">forall x</a></em>). Screen reader users are accustomed to changing the settings of their preferred software to fix things. You can help by letting them know what to watch for. A good screen reader can replace text with other text that produces better pronunciation. E.g., depending on the voice synthesizer, the letter “A” in a formula might be pronounces as a schwa (i.e., like “uh”). MathJax will tell the screen reader to read a symbol “A” as “upper A”, and the user can replace this everywhere with “upper Eh”.</p>



<h2>Links</h2>



<ul>
<li><a href="https://www.accessiblemath.info/accessible_math_documentation_page.html">Accessible Mathematics</a></li>



<li><a href="https://richardzach.org/2023/07/converting-latex-to-html-technical-notes/">Converting LaTeX to HTML: technical notes</a></li>



<li><a href="https://philarchive.org/rec/GIRTLT">Teaching logic to blind students</a></li>



<li>Sample output of <em>forall x</em> with screen readers:
<ul>
<li><a href="https://www.youtube.com/watch?v=pWQmljRGOa0">NVDA</a></li>



<li><a href="https://www.youtube.com/watch?v=wAgm5YJhawI">Windows Narrator</a></li>
</ul>
</li>
</ul>




			</div></div>
  </body>
</html>
