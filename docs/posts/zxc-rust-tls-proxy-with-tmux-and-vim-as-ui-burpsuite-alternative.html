<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/hail-hydrant/zxc">Original</a>
    <h1>Show HN: Zxc – Rust TLS proxy with tmux and Vim as UI, BurpSuite alternative</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">Terminal based intercepting proxy written in rust with <code>tmux</code> and <code>vim</code> as user
interface.</p>

<details>
  <summary><b>Table of Contents</b></summary>
  <ol dir="auto">
    <li><a href="#about-the-project">About The Project</a></li>
    <li><a href="#Features">Features</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#installation">Installation</a></li>
    <ul dir="auto">
        <li><a href="#make">Make</a></li>
        <li><a href="#manual-installation">Manual Installation</a></li>
        <li><a href="#Add-CA">Add CA</a></li>
    </ul>
    <li><a href="#usage">Usage</a></li>
    <ul dir="auto">
        <li><a href="#options">Options</a></li>
    </ul>
    <li><a href="#windows">Windows</a></li>
    <ul dir="auto">
        <li><a href="#interceptor">Interceptor</a></li>
        <li><a href="#history">History</a></li>
        <li><a href="#repeater">Repeater</a></li>
        <li><a href="#addons">Addons</a></li>
        <ul dir="auto">
            <li><a href="#add-new-addons">Add new addons</a></li>
        </ul>
    </ul>
    <li><a href="#file-types">Filetypes</a></li>
        <ul dir="auto">
            <li><a href="#his-http-history">his</a></li>
            <ul dir="auto">
                <li><a href="#conceal">conceal</a></li>
            </ul>
            <li><a href="#req-http-request">req</a></li>
            <ul dir="auto">
                <li><a href="#variables">Variables</a></li>
                <li><a href="#extended-attributes">Extended Attributes</a></li>
            </ul>
            <li><a href="#res-http-response">res</a></li>
            <li><a href="#whis-all-websocket-history">whis</a></li>
            <li><a href="#wsess-single-websocket-session-history">wsess</a></li>
            <li><a href="#wreq-websocket-request">wreq</a></li>
            <li><a href="#popup-popup-window">popup</a></li>
        </ul>
    <li><a href="#search">Search</a></li>
    <li><a href="#encoding-and-decoding">Encoding and Decoding</a></li>
    <li><a href="#configuration">Configuration</a></li>
    <ul dir="auto">
        <li><a href="#tmux-config">Tmux Config</a></li>
        <li><a href="#zxc-config">Zxc Config</a></li>
        <ul dir="auto">
            <li><a href="#global">Global Config</a></li>
            <li><a href="#local">Local Config</a></li>
            <ul dir="auto">
                <li><a href="#edit-local-config">Edit Local Config</a></li>
            </ul>
        </ul>
        <li><a href="#vim-config">Vim Config</a></li>
    </ul>
    <li><a href="#highlight-groups">Highlight Groups</a></li>
    <li><a href="#logging">Logging</a></li>
    <li><a href="#debugging">Debugging</a></li>
    <li><a href="#roadmap">Roadmap</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#social">Social</a></li>
  </ol>
</details>

<details>
<summary><b>Screenshots</b></summary>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/interceptor.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/interceptor.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/interceptor_showq.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/interceptor_showq.png"/></a>
  <div dir="auto"><h3 tabindex="-1" dir="auto">History with 100k+ entries</h3><a id="user-content-history-with-100k-entries" aria-label="Permalink: History with 100k+ entries" href="#history-with-100k-entries"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_edit_host_scope.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_edit_host_scope.png"/></a>
  <div dir="auto"><h3 tabindex="-1" dir="auto">History edit status code scope</h3><a id="user-content-history-edit-status-code-scope" aria-label="Permalink: History edit status code scope" href="#history-edit-status-code-scope"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_edit_scode_scope.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_edit_scode_scope.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_edit_uri_scope.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_edit_uri_scope.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_show_host_scope.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_show_host_scope.png"/></a>
  <div dir="auto"><h3 tabindex="-1" dir="auto">History show status code scope</h3><a id="user-content-history-show-status-code-scope" aria-label="Permalink: History show status code scope" href="#history-show-status-code-scope"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_show_scode_scope.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_show_scode_scope.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_show_uri_scope.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_show_uri_scope.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_show_filters.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_show_filters.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/history_apply_filters.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/history_apply_filters.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/repeater.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/repeater.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/repeater_websocket.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/repeater_websocket.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/addon_ffuf.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/addon_ffuf.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/addon_sqlmap.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/addon_sqlmap.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/edit_bufvar.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/edit_bufvar.png"/></a>
  <div dir="auto"><h3 tabindex="-1" dir="auto">Edit Local Config in popup</h3><a id="user-content-edit-local-config-in-popup" aria-label="Permalink: Edit Local Config in popup" href="#edit-local-config-in-popup"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/edit_local_config.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/edit_local_config.png"/></a>
  
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/assets/log.png"><img src="https://github.com/hail-hydrant/zxc/raw/main/assets/log.png"/></a>
</details>

<p dir="auto">The tool requires <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc.vim"><img src="https://github.com/hail-hydrant/zxc.vim" alt="zxc.vim"/></a> vim plugin which enables vim to function
as a user interface. Each window and filetype has its own set of keybindings
and commands.</p>
<p dir="auto">The following windows are present in zxc:</p>
<ul dir="auto">
<li><a href="#interceptor">Interceptor</a></li>
<li><a href="#history">History</a></li>
<li><a href="#repeater">Repeater</a></li>
<li><a href="#addons">Addons</a></li>
</ul>
<p dir="auto">When <b>zxc</b> is called a list of bash <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/config/alias"><img src="https://github.com/hail-hydrant/zxc/raw/main/config/alias" alt="alias"/></a> is used to spawn vim
with specific window name which loads corresponding vim config. All windows are
vim instances which communicate with <b>zxc</b> binary via unixsocket channel.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Alias</th>
<th>Window</th>
</tr>
</thead>
<tbody>
<tr>
<td>interceptor</td>
<td>Interceptor</td>
</tr>
<tr>
<td>vhistory</td>
<td>History</td>
</tr>
<tr>
<td>repeater</td>
<td>Repeater</td>
</tr>
<tr>
<td>addons</td>
<td>Addons</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">The windows (except history which halts recording) can be closed and reopened
using their respective aliases.</p>
<div data-snippet-clipboard-copy-content="                        ┌─────────────┐
       ┌───────────────►│  zxc binary │◄────┬───────────────┐
       │                └┬────────────┘     │               │
       │                 │                  │               │
       │                 │    unix socket   │               │
       │                 │                  │               │
┌──────▼──────┐   ┌──────▼──────┐   ┌───────▼─────┐   ┌─────▼──────┐
│ Interceptor │   │   History   │   │   Repeater  │   │  Addons    │
└─────────────┘   └─────────────┘   └─────────────┘   └────────────┘"><pre><code>                        ┌─────────────┐
       ┌───────────────►│  zxc binary │◄────┬───────────────┐
       │                └┬────────────┘     │               │
       │                 │                  │               │
       │                 │    unix socket   │               │
       │                 │                  │               │
┌──────▼──────┐   ┌──────▼──────┐   ┌───────▼─────┐   ┌─────▼──────┐
│ Interceptor │   │   History   │   │   Repeater  │   │  Addons    │
└─────────────┘   └─────────────┘   └─────────────┘   └────────────┘
</code></pre></div>

<ul dir="auto">
<li>tmux and vim as user interface.</li>
<li>Disk based storage.</li>
<li>Custom http/1.1 parser to send malformed requests.</li>
<li>http/1.1 and websocket support.</li>
</ul>

<ul dir="auto">
<li>getfattr</li>
<li>tmux</li>
<li>vim (&gt; 8.2.4684) with the following features
<ul dir="auto">
<li>channel</li>
<li>terminal</li>
<li>timers</li>
</ul>
</li>
<li>ffuf</li>
<li>sqlmap</li>
<li>column (optional for indenting history files)</li>
</ul>

<div data-snippet-clipboard-copy-content="attr tmux vim ffuf sqlmap bsdmainutils"><pre><code>attr tmux vim ffuf sqlmap bsdmainutils
</code></pre></div>


<ul dir="auto">
<li>cargo msrv 1.86.0</li>
<li>make</li>
<li>openssl</li>
</ul>




<p dir="auto">copy the <code>zxc</code> binary from ./target/release to $PATH. Install <a href="#vim-plugin">vim
plugin</a>.</p>

<ol dir="auto">
<li>Copy config files</li>
</ol>
<div data-snippet-clipboard-copy-content="mkdir $HOME/.config/zxc
cp ./config/{alias,config.toml,tmux.conf} $HOME/.config/zxc"><pre><code>mkdir $HOME/.config/zxc
cp ./config/{alias,config.toml,tmux.conf} $HOME/.config/zxc
</code></pre></div>
<ol start="2" dir="auto">
<li>Generate private key</li>
</ol>
<div data-snippet-clipboard-copy-content="openssl genrsa -out $HOME/.config/zxc/private.key 2048"><pre><code>openssl genrsa -out $HOME/.config/zxc/private.key 2048
</code></pre></div>
<ol start="3" dir="auto">
<li>Generate CA certificate using ./mkscripts/CA.cnf as CA config.</li>
</ol>
<div data-snippet-clipboard-copy-content="openssl req -x509 -new -nodes -key $HOME/.config/zxc/private.key -sha256 -days 1024 -out $HOME/.config/zxc/zxca.crt -extensions v3_req -config ./mkscripts/CA.cnf"><pre><code>openssl req -x509 -new -nodes -key $HOME/.config/zxc/private.key -sha256 -days 1024 -out $HOME/.config/zxc/zxca.crt -extensions v3_req -config ./mkscripts/CA.cnf
</code></pre></div>
<ol start="4" dir="auto">
<li>Copy vim config</li>
</ol>
<div data-snippet-clipboard-copy-content="mkdir -p $HOME/.vim/plugin
cp ./config/example/zxc.vim $HOME/.vim/plugin"><pre><code>mkdir -p $HOME/.vim/plugin
cp ./config/example/zxc.vim $HOME/.vim/plugin
</code></pre></div>
<ol start="5" dir="auto">
<li>Copy filetype plugins (optional)</li>
</ol>
<div data-snippet-clipboard-copy-content="cp -r ./config/example/ftplugin $HOME/.vim"><pre><code>cp -r ./config/example/ftplugin $HOME/.vim
</code></pre></div>
<ol start="6" dir="auto">
<li>Build zxc or download from release.</li>
</ol>


<p dir="auto">Install <a href="https://github.com/hail-hydrant/zxc.vim">zxc.vim</a> plugin.</p>
<div data-snippet-clipboard-copy-content="mkdir -p $HOME/.vim/pack/git-plugins/start/
git clone --depth 1 https://github.com/hail-hydrant/zxc.vim $HOME/.vim/pack/git-plugins/start/zxc.vim"><pre><code>mkdir -p $HOME/.vim/pack/git-plugins/start/
git clone --depth 1 https://github.com/hail-hydrant/zxc.vim $HOME/.vim/pack/git-plugins/start/zxc.vim
</code></pre></div>

<p dir="auto">Add CA certificate from <code>$HOME/.config/zxc/zxca.crt</code> to your trusted CA
or browser.</p>



<div data-snippet-clipboard-copy-content="  -n, --new-name &lt;NEW_NAME&gt;         Session name to create
  -a, --attach &lt;ATTACH_NAME&gt;        Attach to existing session
  -p, --port &lt;PORT&gt;                 Proxy port to use [default: 8080]
  -i, --include &lt;INCLUDED_DOMAINS&gt;  List of domains to proxy
  -e, --exclude &lt;EXCLUDED_DOMAINS&gt;  List of domains to relay
      --no-ws                       Relay ws connections
  -d, --debug                       Debug mode
  -h, --help                        Print help"><pre><code>  -n, --new-name &lt;NEW_NAME&gt;         Session name to create
  -a, --attach &lt;ATTACH_NAME&gt;        Attach to existing session
  -p, --port &lt;PORT&gt;                 Proxy port to use [default: 8080]
  -i, --include &lt;INCLUDED_DOMAINS&gt;  List of domains to proxy
  -e, --exclude &lt;EXCLUDED_DOMAINS&gt;  List of domains to relay
      --no-ws                       Relay ws connections
  -d, --debug                       Debug mode
  -h, --help                        Print help
</code></pre></div>
<p dir="auto"><code>-i</code> and <code>-e</code> are mutually exclusive . The values should be in format
<code>domain:port</code>.</p>
<p dir="auto">For example, to intercept all domains except https://<i></i>example.com,</p>

<p dir="auto">The flags also support wildcard. For example, to intercept all sub domains of
http://*.example.com</p>

<p dir="auto">The domains can be comma separated list of values.</p>
<div data-snippet-clipboard-copy-content="zxc -i example.com:80,example.com:443"><pre><code>zxc -i example.com:80,example.com:443
</code></pre></div>


<p dir="auto">Displays intercepted requests and responses. Each request or response is added
as buffer.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>InterToggle</td>
<td>Toggle Interception</td>
</tr>
<tr>
<td>InterForward</td>
<td>Forward current request/response</td>
</tr>
<tr>
<td>InterForwardAll</td>
<td>Forward all requests and responses in queue</td>
</tr>
<tr>
<td>InterForwardWithRes</td>
<td>Forward Request + Intercept Response</td>
</tr>
<tr>
<td>Showq</td>
<td>Show interception queue with their respective scheme and host</td>
</tr>
<tr>
<td>DropMsg</td>
<td>Drop current request/response</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Displays the following history files,</p>
<ul dir="auto">
<li>http history (<a href="#his-http-history">his</a>)</li>
<li>all websocket history (<a href="#whis-all-websocket-history">whis</a>)</li>
<li>single websocket session history (<a href="#wsess-single-websocket-session-history">wsess</a>)</li>
</ul>
<p dir="auto">Performs history recording. Closing it halts recording. In case of closing the
window accidentally reopen it by calling <code>vhistory</code> to resume recording. If zxc
is existed without history window, a state file <code>.history.state</code> is created to
resume logging the next time zxc is attached to this session.</p>

<p dir="auto">Window is non modifiable and read only.</p>

<p dir="auto">Repeater window is used to repeat requests. The original request is copied to a
folder named <code>r-$id</code> for http and <code>r-ws-$id</code> for websocket within the
specific history folder.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
<th>Availability</th>
</tr>
</thead>
<tbody>
<tr>
<td>RepeaterSend</td>
<td>Send Request</td>
<td><code>.req</code> and <code>scratch.wreq</code></td>
</tr>
<tr>
<td>WsEstablish</td>
<td>Establish Websocket Connection</td>
<td><code>.req</code> in ws repeater</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">To repeat a websocket request,</p>
<ol dir="auto">
<li>In a websocket request (<code>wreq</code>) file, call <code>WsSendToRepeater</code>.</li>
<li>In repeater window, http request corresponding to the websocket handshake is
displayed in top-left.</li>
<li>Call <code>WsEstablish</code> in the request(<code>req</code>) window to establish a websocket connection.</li>
<li>Write the data in <code>scratch.wreq</code> in bottom left and call <code>RepeaterSend</code> to
send.</li>
</ol>

<p dir="auto">Addons window is used to run additional tools. The original request is copied
to a folder named <code>addons/$addon_prefix-$id.req</code> within the specific history
folder with prefix specific to the addon being called. The request is displayed
in the top window and a terminal with addon cmd and arguments is displayed in
bottom split. Currently, <code>ffuf</code> and <code>sqlmap</code> are available.</p>

<p dir="auto">Refer to <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/config/config.toml"><img src="https://github.com/hail-hydrant/zxc/raw/main/config/config.toml" alt="global config"/></a> for example addon integration.</p>

<p dir="auto">Define a new table in <code>$HOME/.config/zxc/config.toml</code> file.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Name of the binary to be called</td>
</tr>
<tr>
<td>prefix</td>
<td>Prefix for resulting file used by the addon</td>
</tr>
<tr>
<td>request_flag</td>
<td>Flag used by the addon to identify the request file</td>
</tr>
<tr>
<td>http_flag</td>
<td>Flag used by the addon to identify http scheme</td>
</tr>
<tr>
<td>https_flag</td>
<td>Flag used by the addon to identify https scheme</td>
</tr>
<tr>
<td>add_flag</td>
<td>Additional flags that will be added to the end of the command</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">If the binary by default uses https, skip http_flag and vice versa.</p>

<p dir="auto">The addon can be called from request <code>.req</code> file by calling <code>RequestToAddon</code>
function</p>
<div data-snippet-clipboard-copy-content="call RequestToAddon(&#34;addon_name&#34;)"><pre><code>call RequestToAddon(&#34;addon_name&#34;)
</code></pre></div>
<p dir="auto">Calling from history <code>.his</code> file, by calling <code>HistoryToAddon</code> function</p>
<div data-snippet-clipboard-copy-content="call HistoryToAddon(&#34;addon_name&#34;)"><pre><code>call HistoryToAddon(&#34;addon_name&#34;)
</code></pre></div>

<p dir="auto">Add command or keymap via the ftplugin for <code>req</code> and <code>his</code>.</p>
<p dir="auto">Example Command
for <code>.req</code></p>
<div data-snippet-clipboard-copy-content="command RequestToAddon_Name :call RequestToAddon(&#34;addon_name&#34;)"><pre><code>command RequestToAddon_Name :call RequestToAddon(&#34;addon_name&#34;)
</code></pre></div>
<p dir="auto">For <code>.his</code></p>
<div data-snippet-clipboard-copy-content="command HistoryToAddon_Name :call HistoryToAddon(&#34;addon_name&#34;)"><pre><code>command HistoryToAddon_Name :call HistoryToAddon(&#34;addon_name&#34;)
</code></pre></div>
<p dir="auto">Example Keymap
for <code>.req</code></p>
<div data-snippet-clipboard-copy-content="nnoremap &lt;silent&gt; &lt;Leader&gt;q :call RequestToAddon(&#34;addon_name&#34;)"><pre><code>nnoremap &lt;silent&gt; &lt;Leader&gt;q :call RequestToAddon(&#34;addon_name&#34;)
</code></pre></div>
<p dir="auto">For <code>.his</code></p>
<div data-snippet-clipboard-copy-content="nnoremap &lt;silent&gt; &lt;Leader&gt;q :call HistoryToAddon(&#34;addon_name&#34;)"><pre><code>nnoremap &lt;silent&gt; &lt;Leader&gt;q :call HistoryToAddon(&#34;addon_name&#34;)
</code></pre></div>

<p dir="auto">The following file types are available in zxc.</p>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>HistoryView</td>
<td>View highlighted history</td>
</tr>
<tr>
<td>HistoryIndent</td>
<td>Indent history</td>
</tr>
<tr>
<td>HistoryToRepeater</td>
<td>Send to Repeater</td>
</tr>
<tr>
<td>HistoryToFuzz</td>
<td>Send to Ffuf addon</td>
</tr>
<tr>
<td>HistoryToSql</td>
<td>Send to Sqlmap addon</td>
</tr>
<tr>
<td>ApplyFilters</td>
<td>Apply filters</td>
</tr>
<tr>
<td>ShowFilters</td>
<td>Show filters in popup</td>
</tr>
<tr>
<td>ClearFilters</td>
<td>Clear all filters</td>
</tr>
<tr>
<td>AddToHostScope</td>
<td>Add host in current line to view scope</td>
</tr>
<tr>
<td>ClearHostScope</td>
<td>Clear host view scope list</td>
</tr>
<tr>
<td>EditHostScope</td>
<td>Edit host scope in popup</td>
</tr>
<tr>
<td>ShowHostScope</td>
<td>Show host scope in popup</td>
</tr>
<tr>
<td>AddScode </td>
<td>Add Command argument to status code scope</td>
</tr>
<tr>
<td>ClearScode</td>
<td>Clear status code scope</td>
</tr>
<tr>
<td>EditScode</td>
<td>Edit status code scope in popup</td>
</tr>
<tr>
<td>ShowScode</td>
<td>Show status code scope in popup</td>
</tr>
<tr>
<td>AddToUriScope</td>
<td>Add uri in current line to view scope</td>
</tr>
<tr>
<td>ClearUriScope</td>
<td>Clear uri view scope list</td>
</tr>
<tr>
<td>EditUriScope</td>
<td>Edit uri scope in a popup</td>
</tr>
<tr>
<td>ShowUriScope</td>
<td>Show uri scope list in a popup</td>
</tr>
<tr>
<td>EditConfig</td>
<td>Edit local config in popup </td>
</tr>
<tr>
<td>ReloadConfig</td>
<td>Manually Reload config</td>
</tr>
<tr>
<td>ConcealUri</td>
<td>Conceal URI column</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<ul dir="auto">
<li>
<p dir="auto">Vim fold is used to apply filters. Use <code>zR</code> to open all folds.</p>
</li>
<li>
<p dir="auto">The <code>HistoryIndent</code> command uses the <code>column</code> shell command and can be
resource intensive on large files. Use sparingly.</p>
</li>
<li>
<p dir="auto">HostScope and UriScope support vim regex. Prefix the entry with <code>/r </code> to
match as regex. For example to match all subdomains of google.com, <code>/r .*.google.com</code></p>
</li>
</ul>

<p dir="auto">For <code>his</code> filetype, the URI can be concealed. Set <code>g:conceal</code> variable in
<code>.his</code> ftplugin to the number of characters to be concealed. Set the
<code>conceallevel</code> in your vimrc to enable this feature.</p>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>EditBufVar</td>
<td>Edit buffer variables in a popup</td>
</tr>
<tr>
<td>RequestToFuzz</td>
<td>Send to Ffuf addon</td>
</tr>
<tr>
<td>RequestToRepeater</td>
<td>Send to Repeater</td>
</tr>
<tr>
<td>RequestToSql</td>
<td>Send to Sqlmap addon</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto"><code>req</code> filetype has specific set of variables which can be modified to customize
request handling. <code>EditBufVar</code> command can be used to edit buffer variables in
a popup. Save and quit popup to reflect changes. The following variables are
available in <code>interceptor</code> and <code>repeater</code> windows.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Variable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>b:host</td>
<td>string</td>
<td>Host to send request to (ignore port for scheme specific default)</td>
</tr>
<tr>
<td>b:scheme</td>
<td>string</td>
<td>http/https</td>
</tr>
<tr>
<td>b:sni</td>
<td>string</td>
<td>SNI to use in TLS handshake (only when b:scheme is https)</td>
</tr>
<tr>
<td>b:update</td>
<td>bool</td>
<td>Whether request should be updated according to RFC.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">The following extended attributes are set to the <code>.req</code> filetype for users to
identify the destination for a request outside of zxc.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>user.host</td>
<td>Host to which request was sent (ignore port for scheme specific default)</td>
</tr>
<tr>
<td>user.http</td>
<td>Set to &#34;1&#34; when scheme is http.</td>
</tr>
<tr>
<td>user.sni</td>
<td>Set when scheme is https and host != sni</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Only variable <code>b:update</code> available.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">whis [All websocket history]</h3><a id="user-content-whis-all-websocket-history" aria-label="Permalink: whis [All websocket history]" href="#whis-all-websocket-history"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ViewWsHistory</td>
<td>View highlighted ws flow.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto"><h3 tabindex="-1" dir="auto">wsess [Single websocket session history]</h3><a id="user-content-wsess-single-websocket-session-history" aria-label="Permalink: wsess [Single websocket session history]" href="#wsess-single-websocket-session-history"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ViewWsSessionHistory</td>
<td>View highlighted ws req/res in split.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Binary Frames are indicated by &#39;b&#39; in right corner of status line.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>WsSendToRepeater</td>
<td>Send ws request to Repeater</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">The popup window can be customised by setting <code>g:popup_options</code> with vim&#39;s
<code>popup_create-arguments</code> option in users <code>zxc.vim</code> file.</p>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>FileType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>wres</td>
<td>websocket response</td>
</tr>
<tr>
<td>popup</td>
<td>popup window</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">The following commands search and fill their respective lists.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Quickfix-list</th>
<th>Location-list</th>
<th>Filetypes searched</th>
</tr>
</thead>
<tbody>
<tr>
<td>Greq</td>
<td>LGreq</td>
<td><code>.req</code></td>
</tr>
<tr>
<td>Gres</td>
<td>LGres</td>
<td><code>.res</code></td>
</tr>
<tr>
<td>Greb</td>
<td>LGreb</td>
<td>both <code>.req</code> and <code>.res</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">The following commands are available in <code>VISUAL</code> mode for encoding and decoding
in <code>interceptor</code> and <code>repeater</code> windows.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>EBase64</td>
<td>Base64 encode</td>
</tr>
<tr>
<td>DBase64</td>
<td>Base64 decode</td>
</tr>
<tr>
<td>EUrl</td>
<td>URL encode</td>
</tr>
<tr>
<td>DUrl</td>
<td>URL decode</td>
</tr>
<tr>
<td>EUrlAll</td>
<td>URL encode all characters</td>
</tr>
<tr>
<td>DUrlAll</td>
<td>URL decode all characters</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">register x is used to store the selected text.</p>


<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/config/tmux.conf"><img src="https://github.com/hail-hydrant/zxc/raw/main/config/tmux.conf" alt="tmux.conf"/></a> is used to set up session aliases. In addition it
sources user&#39;s tmux.conf file from</p>
<ol dir="auto">
<li>$HOME/.tmux.conf</li>
<li>$HOME/.config/tmux/tmux.conf</li>
<li>$XDG_CONFIG_HOME/tmux/tmux.conf</li>
</ol>
<p dir="auto">If the tmux.conf is in custom location add the location to zxc&#39;s tmux.conf file
in <code>$HOME/.config/zxc/tmux.conf</code></p>
<div data-snippet-clipboard-copy-content="source-file /path/to/tmux.conf"><pre><code>source-file /path/to/tmux.conf
</code></pre></div>

<p dir="auto">There are two types of config files, Global and per session local config. Local
config is given preference over global config.</p>

<p dir="auto">Global Config file is located in <code>$HOME/.config/zxc/config.toml</code>. Default
<a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/config/config.toml"><img src="https://github.com/hail-hydrant/zxc/raw/main/config/config.toml" alt="global config"/></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Keys</th>
<th>Description</th>
<th>Possible Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>excluded_domains</td>
<td>List of domains to be relayed</td>
<td>string list</td>
</tr>
<tr>
<td>excluded_content_types</td>
<td>List of content types to be relayed</td>
<td>list of:</td>
</tr>
<tr>
<td>excluded_extensions</td>
<td>List of extensions to be relayed</td>
<td>string list</td>
</tr>
<tr>
<td>with_ws</td>
<td>Whether to proxy websocket requests</td>
<td>bool (default true)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Per session config is created in <code>$session/config.toml</code> based on user flags.
Only if any flag is used, local config is created. Example <a target="_blank" rel="noopener noreferrer" href="https://github.com/hail-hydrant/zxc/blob/main/config/example/local_config.toml"><img src="https://github.com/hail-hydrant/zxc/raw/main/config/example/local_config.toml" alt="local config"/></a>.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Keys</th>
<th>Description</th>
<th>Possible Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>included_domains</td>
<td>List of domains to proxy</td>
<td>string list</td>
</tr>
<tr>
<td>excluded_domains</td>
<td>List of domains to relay</td>
<td>string list</td>
</tr>
<tr>
<td>no_ws</td>
<td>Whether to relay websocket requests</td>
<td>bool (default false)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Include and exclude lists are mutually exclusive. If both lists are present
Include list is given preference. Supports wildcard.</p>

<p dir="auto"><code>EditConfig</code> command in history window will open local config file in a popup
window. On quitting the window if the file is modified the configuration will be
reloaded automatically. If the file is edited outside of history window, call
<code>ReloadConfig</code> in history window.</p>

<p dir="auto">Each window and filetype has its own set of commands. Filetypes can be
configured in their respective ftplugin. The commands are further explained in
<code>:h zxc.txt</code>.</p>
<p dir="auto">The following global variables are available</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Variables</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>g:popup_options</td>
<td>Options passed to vim&#39;s <code>popup_create-arguments</code>.</td>
</tr>
<tr>
<td>g:timeout</td>
<td>The time to wait for a response from zxc when blocking.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Example ftplugin links</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Link</th>
<th>For</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/hail-hydrant/zxc/blob/main/config/example/zxc.vim">zxc</a></td>
<td>interceptor, repeater, Addons, Encoding, Decoding</td>
</tr>
<tr>
<td><a href="https://github.com/hail-hydrant/zxc/blob/main/config/example/ftplugin/his.vim">his</a></td>
<td><code>his</code> filetype.</td>
</tr>
<tr>
<td><a href="https://github.com/hail-hydrant/zxc/blob/main/config/example/ftplugin/req.vim">req</a></td>
<td><code>req</code> filetype.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Each filetype has its own set of highlight groups. Use <code>:h zxc-highlight-groups</code> to list available highlight groups. A gist of available
highlight groups can be found <a href="https://github.com/hail-hydrant/zxc/blob/main/config/example/zxcolor.vim">here</a>.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>FileType</th>
<th>Highlight Group Help</th>
</tr>
</thead>
<tbody>
<tr>
<td>history</td>
<td>zxc-hl-his</td>
</tr>
<tr>
<td>req</td>
<td>zxc-hl-req</td>
</tr>
<tr>
<td>res</td>
<td>zxc-hl-res</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">The log is written to <code>$session/log.txt</code>. The log can be viewed in tmux popup
using tmux command <code>zxcl</code> or <code>bind-key e</code> shortcut.</p>

<p dir="auto">By default, tmux command-alias of index 1000 is used to store the command. In
case of conflict change the index to some unassigned value in
<code>$HOME/.config/zxc/tmux.conf</code>.</p>

<p dir="auto">Run zxc with <code>-d</code> flag to enable debugging. The proxy debug info from binary is
written to <code>$session/log/proxy.log</code>. The channel log for each window is written
to <code>$session/log/$window_chan.log</code>. The windows have the following debug
commands.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PrintDebug</td>
<td>Prints debug info</td>
</tr>
<tr>
<td>WriteDebug</td>
<td>Writes debug info to a file named $window_debug.log in $session/log directory</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<ul dir="auto">
<li>Configuration based host redirection.</li>
<li>Follow redirects in repeater.</li>
<li>Nvim support.</li>
<li>Socks support.</li>
<li>http/2 and http/3 support.</li>
</ul>

<p dir="auto">Feel free to report issues and PR&#39;s. Feature requests are most welcome.</p>

<p dir="auto"><a href="https://bsky.app/profile/zxc-proxy.bsky.social" rel="nofollow"><img src="https://camo.githubusercontent.com/2c170e6bf060bc8786d71f2f42037714491b3fbec48c85d65d96ab7833f789e8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f426c7565736b792d3032383546463f6c6f676f3d626c7565736b79266c6f676f436f6c6f723d666666267374796c653d666f722d7468652d6261646765" alt="Bluesky" data-canonical-src="https://img.shields.io/badge/Bluesky-0285FF?logo=bluesky&amp;logoColor=fff&amp;style=for-the-badge"/></a>
<a href="https://www.reddit.com/r/zxc_proxy/" rel="nofollow"><img src="https://camo.githubusercontent.com/dc40fe26dee82d718b8103f337b85ed2f404933c0abc818d823fc63badc384c7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5265646469742d4646343530303f7374796c653d666f722d7468652d6261646765266c6f676f3d726564646974266c6f676f436f6c6f723d626c61636b" alt="Reddit" data-canonical-src="https://img.shields.io/badge/Reddit-FF4500?style=for-the-badge&amp;logo=reddit&amp;logoColor=black"/></a>
<a href="https://x.com/zxc_proxy" rel="nofollow"><img src="https://camo.githubusercontent.com/8c709aaebc7feee6050eba44984b294d9da3ace3353bd5eed8b499dd04af3c06/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f582d3030303030303f7374796c653d666f722d7468652d6261646765266c6f676f3d78266c6f676f436f6c6f723d7768697465" alt="X" data-canonical-src="https://img.shields.io/badge/X-000000?style=for-the-badge&amp;logo=x&amp;logoColor=white"/></a></p>
</article></div></div>
  </body>
</html>
