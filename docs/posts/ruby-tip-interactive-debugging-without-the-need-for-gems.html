<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://a-chacon.com/en/ruby/irb/tip/2023/11/20/ruby-tip-binding-irb.html">Original</a>
    <h1>Ruby Tip ‚Äì Interactive debugging without the need for gems</h1>
    
    <div id="readability-page-1" class="page"><div>
<div id="post">

<div>
<p>Andr√©s</p>
<p>‚Ä¢</p>
<p>20 November 2023</p>
</div>

<p><img src="https://a-chacon.com/assets/images/ruby-debugging.avif" alt="üíéRuby Tipüíé Interactive debugging without the need for gems."/>
<strong>Discover a simple and fast way to debug in Ruby without installing additional gems. With the Binding class and the integrated IRB console, you can explore and modify the execution context to resolve errors efficiently.</strong></p><div>
<p>There are different popular gems in the Ruby universe with various functionalities and different syntaxes to perform interactive debugging. Some of these gems can be <a href="https://github.com/deivid-rodriguez/byebug">byebug</a> or <a href="https://github.com/ruby/debug">debug</a>. The problem with these gems is that sometimes they need to be installed, configured and have their own commands to learn. This takes some time and many times there is no need for something so complex for such a small bug.</p>
<p>For those cases, we will have the option of using the <a href="https://docs.ruby-lang.org/en/master/Binding.html">Binding</a> class. This allows us to encapsulate the execution context at a given point and return it for future use. Binding objects can be created by calling the <code>Kernel#binding</code> method and the console will be raised using the public instance method <code>irb</code>.</p>
<p>With a little bit of code it will be more than clear:</p>
<div><div><pre><code><span># door.rb</span>
<span>class</span> <span>Door</span>
  <span>def</span> <span>initialize</span>
    <span>@open</span> <span>=</span> <span>false</span>
    <span>binding</span><span>.</span><span>irb</span>
    <span>puts</span> <span>&#34;Is the door open: </span><span>#{</span><span>@open</span><span>}</span><span>&#34;</span>
  <span>end</span>
<span>end</span>

<span>Door</span><span>.</span><span>new</span>
</code></pre></div></div>
<p>Running our small script will open an IRB session with which you can review the context and modify it:</p>
<div><div><pre><code><span>Documentos</span><span>/</span><span>scripts</span><span>/</span><span>ruby</span> <span>via</span> <span>üíé</span> <span>v3</span><span>.</span><span>2.2</span>
<span>‚ùØ</span> <span>ruby</span> <span>door</span><span>.</span><span>rb</span>

<span>From</span><span>:</span> <span>door</span><span>.</span><span>rb</span> <span>@</span> <span>line</span> <span>4</span> <span>:</span>

    <span>1</span><span>:</span> <span>class</span> <span>Door</span>
    <span>2</span><span>:</span>   <span>def</span> <span>initialize</span>
    <span>3</span><span>:</span>     <span>@open</span> <span>=</span> <span>false</span>
 <span>=&gt;</span> <span>4</span><span>:</span>     <span>binding</span><span>.</span><span>irb</span>
    <span>5</span><span>:</span>     <span>puts</span> <span>&#34;Is the door open: </span><span>#{</span><span>@open</span><span>}</span><span>&#34;</span>
    <span>6</span><span>:</span>   <span>end</span>
    <span>7</span><span>:</span> <span>end</span>
    <span>8</span><span>:</span>
    <span>9</span><span>:</span> <span>Door</span><span>.</span><span>new</span>

<span>irb</span><span>(</span><span>#&lt;Door:0x00007fa9a0f367a8&gt;):001&gt; @open</span>
<span>=&gt;</span> <span>false</span>
<span>irb</span><span>(</span><span>#&lt;Door:0x00007fa9a0f367a8&gt;):002&gt; @open=true</span>
<span>=&gt;</span> <span>true</span>
<span>irb</span><span>(</span><span>#&lt;Door:0x00007fa9a0f367a8&gt;):003&gt; exit</span>
<span>Is</span> <span>the</span> <span>door</span> <span>open: </span><span>true</span>

</code></pre></div></div>
<p>And that‚Äôs it, you can use it to debug your scripts, web scrappers or whatever you are building.</p>
<p>To learn more about using IRB you can visit <a href="https://docs.ruby-lang.org/en/master/IRB.html#module-IRB-label-Usage">this documentation</a></p>
<p>If you liked it feel free to say hi in the comments, I‚Äôll be watching.</p>
<p>Happy coding!</p>
</div>




</div>
</div></div>
  </body>
</html>
