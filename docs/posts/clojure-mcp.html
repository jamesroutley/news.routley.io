<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/bhauman/clojure-mcp">Original</a>
    <h1>Clojure MCP</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<blockquote>
<p dir="auto"><strong><g-emoji alias="warning">‚ö†Ô∏è</g-emoji> Alpha Software - Work in Progress</strong></p>
<p dir="auto">This project is in early development and rapidly evolving. While I&#39;ve found it invaluable for working with Clojure projects and it has significantly improved my development workflow, expect breaking changes, rough edges, and incomplete documentation.</p>
<p dir="auto"><strong>ü§ù Help Wanted!</strong> If you find this useful, please consider contributing:</p>
<ul dir="auto">
<li>Report bugs and issues you encounter</li>
<li>Suggest improvements or new features</li>
<li>Submit pull requests for fixes or enhancements</li>
<li>Share your configuration patterns and workflows</li>
<li>Help improve documentation and examples</li>
</ul>
<p dir="auto">Your feedback and contributions will help make this tool better for the entire Clojure community!</p>
</blockquote>
<p dir="auto">A Model Context Protocol (MCP) server for Clojure that provides a
complete set of tools to aid in the development of Clojure projects.</p>

<p dir="auto">This project implements an MCP server that connects AI models to a
Clojure nREPL, and Specialized Clojure editing tools enabling a unique
Clojure develop experience.</p>
<p dir="auto">Clojure MCP provides a superset of the tools that Claude Code uses,
so you can use it to work on Clojure <strong>without any other tools</strong>.  I
highly recommend using it with Claude Desktop to start.  It&#39;s
prettier and there are <strong>no api charges!</strong> Claude Desktop also let&#39;s you
have quick access to <strong>your own prompts</strong> and other resources provided
by the clojure-mcp server. Having a stack of your own prompts
available in a UI menu is pretty nice.</p>

<ul dir="auto">
<li><strong>Clojure REPL Connection</strong></li>
<li><strong>Clojure Aware editing</strong> - Using clj-kondo, parinfer, cljfmt, and clj-rewrite</li>
<li><strong>Optimized set of tools for Clojure Development</strong> superset of Claude Code</li>
<li><strong>Emacs edit highlighting</strong> - alpha</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">Why REPL-Driven Development with AI?</h3><a id="user-content-why-repl-driven-development-with-ai" aria-label="Permalink: Why REPL-Driven Development with AI?" href="#why-repl-driven-development-with-ai"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This approach enables:</p>
<ul dir="auto">
<li><strong>Immediate feedback</strong> - Validate code by running it in a stateful REPL, not just statically analyzing it</li>
<li><strong>Incremental development</strong> - Build solutions in small, verified steps</li>
<li><strong>Human oversight</strong> - Keep the programmer in the loop for guidance</li>
<li><strong>Functional approach</strong> - Encourage pure functions that are easier to understand and test</li>
</ul>


<ul dir="auto">
<li><a href="https://clojure.org/guides/install_clojure" rel="nofollow">Clojure</a> (1.11 or later)</li>
<li><a href="https://openjdk.org/" rel="nofollow">Java</a> (JDK 11 or later)</li>
<li><a href="https://claude.ai/desktop" rel="nofollow">Claude Desktop</a> (for the best experience)</li>
</ul>

<div dir="auto"><h4 tabindex="-1" dir="auto">Step 1: Get the Clojure MCP Server</h4><a id="user-content-step-1-get-the-clojure-mcp-server" aria-label="Permalink: Step 1: Get the Clojure MCP Server" href="#step-1-get-the-clojure-mcp-server"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Clone this repository to your development machine</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/bhauman/clojure-mcp.git"><pre>git clone https://github.com/bhauman/clojure-mcp.git</pre></div>
<p dir="auto">or use it as git dep in your <code>deps.edn</code></p>
<div dir="auto" data-snippet-clipboard-copy-content="{:deps {bhauman/clojure-mcp {:git/url &#34;https://github.com/bhauman/clojure-mcp.git&#34;
                             :git/sha &#34;latest-main-branch-sha&#34;}}"><pre>{<span>:deps</span> {bhauman/clojure-mcp {<span>:git/url</span> <span><span>&#34;</span>https://github.com/bhauman/clojure-mcp.git<span>&#34;</span></span>
                             <span>:git/sha</span> <span><span>&#34;</span>latest-main-branch-sha<span>&#34;</span></span>}}</pre></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Step 2: Configure Your Target Project</h4><a id="user-content-step-2-configure-your-target-project" aria-label="Permalink: Step 2: Configure Your Target Project" href="#step-2-configure-your-target-project"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In the Clojure project where you want AI assistance, add MCP server configuration to your <code>deps.edn</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{:aliases {
  ;; nREPL server for AI to connect to
  :nrepl {:extra-paths [&#34;test&#34;] 
          :extra-deps {nrepl/nrepl {:mvn/version &#34;1.3.1&#34;}
                       ch.qos.logback/logback-classic {:mvn/version &#34;1.4.14&#34;}}
          :jvm-opts [&#34;-Djdk.attach.allowAttachSelf&#34;]						 
          :main-opts [&#34;-m&#34; &#34;nrepl.cmdline&#34; &#34;--port&#34; &#34;7888&#34;]}
  
  ;; MCP server configuration (for reference)
  :mcp {:extra-deps {org.slf4j/slf4j-nop {:mvn/version &#34;2.0.16&#34;}
                     clojure-mcp/clojure-mcp {:local/root &#34;/path/to/clojure-mcp&#34;}}
        :exec-fn clojure-mcp.main/start-mcp-server
        :exec-args {:port 7888}}}}"><pre>{<span>:aliases</span> {
  <span><span>;</span>; nREPL server for AI to connect to</span>
  <span>:nrepl</span> {<span>:extra-paths</span> [<span><span>&#34;</span>test<span>&#34;</span></span>] 
          <span>:extra-deps</span> {nrepl/nrepl {<span>:mvn/version</span> <span><span>&#34;</span>1.3.1<span>&#34;</span></span>}
                       ch.qos.logback/logback-classic {<span>:mvn/version</span> <span><span>&#34;</span>1.4.14<span>&#34;</span></span>}}
          <span>:jvm-opts</span> [<span><span>&#34;</span>-Djdk.attach.allowAttachSelf<span>&#34;</span></span>]						 
          <span>:main-opts</span> [<span><span>&#34;</span>-m<span>&#34;</span></span> <span><span>&#34;</span>nrepl.cmdline<span>&#34;</span></span> <span><span>&#34;</span>--port<span>&#34;</span></span> <span><span>&#34;</span>7888<span>&#34;</span></span>]}
  
  <span><span>;</span>; MCP server configuration (for reference)</span>
  <span>:mcp</span> {<span>:extra-deps</span> {org.slf4j/slf4j-nop {<span>:mvn/version</span> <span><span>&#34;</span>2.0.16<span>&#34;</span></span>}
                     clojure-mcp/clojure-mcp {<span>:local/root</span> <span><span>&#34;</span>/path/to/clojure-mcp<span>&#34;</span></span>}}
        <span>:exec-fn</span> clojure-mcp.main/start-mcp-server
        <span>:exec-args</span> {<span>:port</span> <span>7888</span>}}}}</pre></div>
<p dir="auto"><strong>Important</strong>: Replace <code>/path/to/clojure-mcp</code> with the actual path to your cloned repository.</p>
<blockquote>
<p dir="auto">IMPORTANT NOTE: the mcp server can run in any directory and DOES NOT
have to run in your project.  The mcp server looks to the nREPL
connection for context.  The root directory of the project that is
running the nREPL server becomes the root directory of all the mcp
tool invocations. Currently the nREPL must run on the same machine
as the MCP server as there is an assumption of a shared file system
between the nREPL server and the MCP server.</p>
</blockquote>
<div dir="auto"><h4 tabindex="-1" dir="auto">Step 3: Configure Claude Desktop</h4><a id="user-content-step-3-configure-claude-desktop" aria-label="Permalink: Step 3: Configure Claude Desktop" href="#step-3-configure-claude-desktop"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Edit your Claude Desktop configuration file:</p>
<ul dir="auto">
<li><strong>Location</strong>: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="{
    &#34;mcpServers&#34;: {
        &#34;clojure-mcp&#34;: {
            &#34;command&#34;: &#34;/bin/sh&#34;,
            &#34;args&#34;: [
                &#34;-c&#34;,
                &#34;cd /path/to/your/clojure/project &amp;&amp; PATH=/your/bin-or-nix/path:$PATH &amp;&amp; clojure -X:mcp :port 7888&#34;
            ]
        }
    }
}"><pre>{
    <span>&#34;mcpServers&#34;</span>: {
        <span>&#34;clojure-mcp&#34;</span>: {
            <span>&#34;command&#34;</span>: <span><span>&#34;</span>/bin/sh<span>&#34;</span></span>,
            <span>&#34;args&#34;</span>: [
                <span><span>&#34;</span>-c<span>&#34;</span></span>,
                <span><span>&#34;</span>cd /path/to/your/clojure/project &amp;&amp; PATH=/your/bin-or-nix/path:$PATH &amp;&amp; clojure -X:mcp :port 7888<span>&#34;</span></span>
            ]
        }
    }
}</pre></div>
<p dir="auto"><strong>Replace these paths</strong>:</p>
<ul dir="auto">
<li><code>/path/to/clojure-mcp</code> ‚Üí Your cloned repository location</li>
<li><code>/your/bin/path</code> ‚Üí Your system&#39;s binary path (e.g., <code>/Users/username/.nix-profile/bin</code>)</li>
</ul>

<ol dir="auto">
<li>
<p dir="auto"><strong>Start nREPL</strong> in your target project:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cd /path/to/your/project
clojure -M:nrepl"><pre><span>cd</span> /path/to/your/project
clojure -M:nrepl</pre></div>
<p dir="auto">You should see: <code>nREPL server started on port 7888...</code></p>
</li>
<li>
<p dir="auto"><strong>Restart Claude Desktop</strong> (required after config changes)</p>
</li>
<li>
<p dir="auto"><strong>Verify connection</strong>: In Claude Desktop, click the <code>+</code> button in the chat area. You should see &#34;Add from clojure-mcp&#34; in the menu.</p>
</li>
</ol>
<div dir="auto"><h4 tabindex="-1" dir="auto">Starting a new conversation</h4><a id="user-content-starting-a-new-conversation" aria-label="Permalink: Starting a new conversation" href="#starting-a-new-conversation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In Claude Desktop click the <code>+</code> tools and optionally add</p>
<ul dir="auto">
<li>resource <code>PROJECT_SUMMARY.md</code>  - (have the LLM create this) see below</li>
<li>resource <code>Clojure Project Info</code> - which introspects the nREPL connected project</li>
<li>resource <code>LLM_CODE_STYLE.md</code> - Which is your personal coding style instructions (copy the one in this repo)</li>
<li>prompt <code>clojure_repl_system_prompt</code> - instructions on how to code - cribbed a bunch from Clod Code</li>
</ul>
<p dir="auto">Then start the chat.</p>
<p dir="auto">I would start by stating a problem and then chatting with the LLM to
interactively design a solution. You can ask Claude to &#34;propose&#34; a
solution to a problem.</p>
<p dir="auto">Iterate on that a bit then have it either:</p>
<p dir="auto">A. code and validate the idea in the REPL.</p>
<blockquote>
<p dir="auto">Don&#39;t underestimate LLMs abilities to use the REPL! Current LLMs are
absolutely fantastic at using the Clojure REPL.</p>
</blockquote>
<p dir="auto">B. ask the LLM to make the changes to the source code and then have it validate the code in the REPL after file editing.</p>
<p dir="auto">C. ask to run the tests.
D. ask to commit the changes.</p>
<blockquote>
<p dir="auto">Make a branch and have the LLM commit often so that it doesn&#39;t ruin good work by going in a bad direction.</p>
</blockquote>
<div dir="auto"><h2 tabindex="-1" dir="auto">Project Summary Management</h2><a id="user-content-project-summary-management" aria-label="Permalink: Project Summary Management" href="#project-summary-management"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This project includes a workflow for maintaining an LLM-friendly <code>PROJECT_SUMMARY.md</code> that helps assistants quickly understand the codebase structure.</p>

<ol dir="auto">
<li>
<p dir="auto"><strong>Creating the Summary</strong>: To generate or update the PROJECT_SUMMARY.md file, use the MCP prompt in the <code>+</code> &gt; <code>clojure-mcp</code> menu <code>create-project-summary</code>. This prompt will:</p>
<ul dir="auto">
<li>Analyze the codebase structure</li>
<li>Document key files, dependencies, and available tools</li>
<li>Generate comprehensive documentation in a format optimized for LLM assistants</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Using the Summary</strong>: When starting a new conversation with an assistant:</p>
<ul dir="auto">
<li>The &#34;Project Summary&#34; resource automatically loads PROJECT_SUMMARY.md</li>
<li>This gives the assistant immediate context about the project structure</li>
<li>The assistant can provide more accurate help without lengthy exploration</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Keeping It Updated</strong>: At the end of a productive session where new features or components were added:</p>
<ul dir="auto">
<li>Invoke the <code>create-project-summary</code> prompt again</li>
<li>The system will update the PROJECT_SUMMARY.md with newly added functionality</li>
<li>This ensures the summary stays current with ongoing development</li>
</ul>
</li>
</ol>
<p dir="auto">This workflow creates a virtuous cycle where each session builds on the accumulated knowledge of previous sessions, making the assistant increasingly effective as your project evolves.</p>

<blockquote>
<p dir="auto">This is NOT required to use the Clojure MCP server.</p>
</blockquote>
<p dir="auto">There are a few MCP tools provided that are agents unto themselves and they need API keys to function.</p>
<p dir="auto">To use the agent tools, you&#39;ll need API keys from one or more of these providers:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong><code>GEMINI_API_KEY</code></strong> - For Google Gemini models</p>
<ul dir="auto">
<li>Get your API key at: <a href="https://makersuite.google.com/app/apikey" rel="nofollow">https://makersuite.google.com/app/apikey</a></li>
<li>Used by: <code>dispatch_agent</code>, <code>architect</code>, <code>code_critique</code></li>
</ul>
</li>
<li>
<p dir="auto"><strong><code>OPENAI_API_KEY</code></strong> - For GPT models</p>
<ul dir="auto">
<li>Get your API key at: <a href="https://platform.openai.com/api-keys" rel="nofollow">https://platform.openai.com/api-keys</a></li>
<li>Used by: <code>dispatch_agent</code>, <code>architect</code>, <code>code_critique</code></li>
</ul>
</li>
<li>
<p dir="auto"><strong><code>ANTHROPIC_API_KEY</code></strong> - For Claude models</p>
<ul dir="auto">
<li>Get your API key at: <a href="https://console.anthropic.com/" rel="nofollow">https://console.anthropic.com/</a></li>
<li>Used by: <code>dispatch_agent</code></li>
</ul>
</li>
</ul>
<div dir="auto"><h4 tabindex="-1" dir="auto">Setting Environment Variables</h4><a id="user-content-setting-environment-variables" aria-label="Permalink: Setting Environment Variables" href="#setting-environment-variables"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Option 1: Export in your shell</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="export ANTHROPIC_API_KEY=&#34;your-anthropic-api-key-here&#34;
export OPENAI_API_KEY=&#34;your-openai-api-key-here&#34;
export GEMINI_API_KEY=&#34;your-gemini-api-key-here&#34;"><pre><span>export</span> ANTHROPIC_API_KEY=<span><span>&#34;</span>your-anthropic-api-key-here<span>&#34;</span></span>
<span>export</span> OPENAI_API_KEY=<span><span>&#34;</span>your-openai-api-key-here<span>&#34;</span></span>
<span>export</span> GEMINI_API_KEY=<span><span>&#34;</span>your-gemini-api-key-here<span>&#34;</span></span></pre></div>
<p dir="auto"><strong>Option 2: Add to your shell profile</strong> (<code>.bashrc</code>, <code>.zshrc</code>, etc.)</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Add these lines to your shell profile
export ANTHROPIC_API_KEY=&#34;your-anthropic-api-key-here&#34;
export OPENAI_API_KEY=&#34;your-openai-api-key-here&#34;
export GEMINI_API_KEY=&#34;your-gemini-api-key-here&#34;"><pre><span><span>#</span> Add these lines to your shell profile</span>
<span>export</span> ANTHROPIC_API_KEY=<span><span>&#34;</span>your-anthropic-api-key-here<span>&#34;</span></span>
<span>export</span> OPENAI_API_KEY=<span><span>&#34;</span>your-openai-api-key-here<span>&#34;</span></span>
<span>export</span> GEMINI_API_KEY=<span><span>&#34;</span>your-gemini-api-key-here<span>&#34;</span></span></pre></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Configuring Claude Desktop</h4><a id="user-content-configuring-claude-desktop" aria-label="Permalink: Configuring Claude Desktop" href="#configuring-claude-desktop"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">When setting up Claude Desktop, ensure it can access your environment variables by updating your config.</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
    &#34;mcpServers&#34;: {
        &#34;clojure-mcp&#34;: {
            &#34;command&#34;: &#34;/bin/sh&#34;,
            &#34;args&#34;: [
                &#34;-c&#34;,
                &#34;cd /path/to/your/workspace/project &amp;&amp; PATH=/your/bin/path:$PATH &amp;&amp; clojure -X:mcp :port 7888&#34;
            ],
            &#34;env&#34;: {
                &#34;ANTHROPIC_API_KEY&#34;: &#34;$ANTHROPIC_API_KEY&#34;,
                &#34;OPENAI_API_KEY&#34;: &#34;$OPENAI_API_KEY&#34;, 
                &#34;GEMINI_API_KEY&#34;: &#34;$GEMINI_API_KEY&#34;
            }
        }
    }
}"><pre>{
    <span>&#34;mcpServers&#34;</span>: {
        <span>&#34;clojure-mcp&#34;</span>: {
            <span>&#34;command&#34;</span>: <span><span>&#34;</span>/bin/sh<span>&#34;</span></span>,
            <span>&#34;args&#34;</span>: [
                <span><span>&#34;</span>-c<span>&#34;</span></span>,
                <span><span>&#34;</span>cd /path/to/your/workspace/project &amp;&amp; PATH=/your/bin/path:$PATH &amp;&amp; clojure -X:mcp :port 7888<span>&#34;</span></span>
            ],
            <span>&#34;env&#34;</span>: {
                <span>&#34;ANTHROPIC_API_KEY&#34;</span>: <span><span>&#34;</span>$ANTHROPIC_API_KEY<span>&#34;</span></span>,
                <span>&#34;OPENAI_API_KEY&#34;</span>: <span><span>&#34;</span>$OPENAI_API_KEY<span>&#34;</span></span>, 
                <span>&#34;GEMINI_API_KEY&#34;</span>: <span><span>&#34;</span>$GEMINI_API_KEY<span>&#34;</span></span>
            }
        }
    }
}</pre></div>
<p dir="auto">Personally I <code>source</code> them right in bash command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
    &#34;mcpServers&#34;: {
        &#34;clojure-mcp&#34;: {
            &#34;command&#34;: &#34;/bin/sh&#34;,
            &#34;args&#34;: [
                &#34;-c&#34;,
                &#34;source ~/.api_credentials.sh &amp;&amp; cd /path/to/your/mcp-server/home &amp;&amp; PATH=/your/bin/path:$PATH &amp;&amp; clojure -X:mcp :port 7888&#34;
            ]
        }
    }
}"><pre>{
    <span>&#34;mcpServers&#34;</span>: {
        <span>&#34;clojure-mcp&#34;</span>: {
            <span>&#34;command&#34;</span>: <span><span>&#34;</span>/bin/sh<span>&#34;</span></span>,
            <span>&#34;args&#34;</span>: [
                <span><span>&#34;</span>-c<span>&#34;</span></span>,
                <span><span>&#34;</span>source ~/.api_credentials.sh &amp;&amp; cd /path/to/your/mcp-server/home &amp;&amp; PATH=/your/bin/path:$PATH &amp;&amp; clojure -X:mcp :port 7888<span>&#34;</span></span>
            ]
        }
    }
}</pre></div>
<blockquote>
<p dir="auto"><strong>Note</strong>: The agent tools will work with any available API key. You don&#39;t need all three - just set up the ones you have access to. The tools will automatically select from available models. For now the ANTHROPIC API is limited to the displatch_agent.</p>
</blockquote>

<blockquote>
<p dir="auto">This tool has a learning curve. You may in practice have to remind
the LLM to develop in the REPL.  You may also have to remind the LLM
to use the <code>clojure_edit</code> family of tools which have linters build
in to prevent unbalanced parens and the like.</p>
</blockquote>

<p dir="auto">The default tools included in <code>main.clj</code> are organized by category to support different workflows:</p>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Tool Name</th>
<th>Description</th>
<th>Example Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>LS</code></td>
<td>Returns a recursive tree view of files and directories</td>
<td>Exploring project structure</td>
</tr>
<tr>
<td><code>read_file</code></td>
<td>Smart file reader with pattern-based exploration for Clojure files</td>
<td>Reading files with collapsed view, pattern matching</td>
</tr>
<tr>
<td><code>fs_grep</code></td>
<td>Fast content search using regular expressions</td>
<td>Finding files containing specific patterns</td>
</tr>
<tr>
<td><code>glob_files</code></td>
<td>Pattern-based file finding</td>
<td>Finding files by name patterns like <code>*.clj</code></td>
</tr>
<tr>
<td><code>think</code></td>
<td>Log thoughts for complex reasoning and brainstorming</td>
<td>Planning approaches, organizing thoughts</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Tool Name</th>
<th>Description</th>
<th>Example Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clojure_eval</code></td>
<td>Evaluates Clojure code in the current namespace</td>
<td>Testing expressions like <code>(+ 1 2)</code></td>
</tr>
<tr>
<td><code>bash</code></td>
<td>Execute shell commands on the host system</td>
<td>Running tests, git commands, file operations</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Tool Name</th>
<th>Description</th>
<th>Example Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>clojure_edit</code></td>
<td>Structure-aware editing of Clojure forms</td>
<td>Replacing/inserting functions, handling defmethod</td>
</tr>
<tr>
<td><code>clojure_edit_replace_sexp</code></td>
<td>Modify expressions within functions</td>
<td>Changing specific s-expressions</td>
</tr>
<tr>
<td><code>file_edit</code></td>
<td>Edit files by replacing text strings</td>
<td>Simple text replacements</td>
</tr>
<tr>
<td><code>file_write</code></td>
<td>Write complete files with safety checks</td>
<td>Creating new files, overwriting with validation</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto"><h3 tabindex="-1" dir="auto">Agent Tools (Require API Keys)</h3><a id="user-content-agent-tools-require-api-keys" aria-label="Permalink: Agent Tools (Require API Keys)" href="#agent-tools-require-api-keys"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Tool Name</th>
<th>Description</th>
<th>Example Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dispatch_agent</code></td>
<td>Launch agents with read-only tools for complex searches</td>
<td>Multi-step file exploration and analysis</td>
</tr>
<tr>
<td><code>architect</code></td>
<td>Technical planning and implementation guidance</td>
<td>System design, architecture decisions</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Tool Name</th>
<th>Description</th>
<th>Example Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code_critique</code></td>
<td>Interactive code review and improvement suggestions</td>
<td>Iterative code quality improvement</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<div dir="auto"><h4 tabindex="-1" dir="auto">Smart File Reading (<code>read_file</code>)</h4><a id="user-content-smart-file-reading-read_file" aria-label="Permalink: Smart File Reading (read_file)" href="#smart-file-reading-read_file"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><strong>Collapsed View</strong>: Shows only function signatures for large Clojure files</li>
<li><strong>Pattern Matching</strong>: Use <code>name_pattern</code> to find functions by name, <code>content_pattern</code> to search content</li>
<li><strong>defmethod Support</strong>: Handles dispatch values like <code>&#34;area :rectangle&#34;</code> or vector dispatches</li>
<li><strong>Multi-language</strong>: Clojure files get smart features, other files show raw content</li>
</ul>
<div dir="auto"><h4 tabindex="-1" dir="auto">Structure-Aware Editing (<code>clojure_edit</code>)</h4><a id="user-content-structure-aware-editing-clojure_edit" aria-label="Permalink: Structure-Aware Editing (clojure_edit)" href="#structure-aware-editing-clojure_edit"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><strong>Form-based Operations</strong>: Target functions by type and identifier, not text matching</li>
<li><strong>Multiple Operations</strong>: Replace, insert_before, insert_after</li>
<li><strong>Syntax Validation</strong>: Built-in linting prevents unbalanced parentheses</li>
<li><strong>defmethod Handling</strong>: Works with qualified names and dispatch values</li>
</ul>
<div dir="auto"><h4 tabindex="-1" dir="auto">Code Evaluation (<code>clojure_eval</code>)</h4><a id="user-content-code-evaluation-clojure_eval" aria-label="Permalink: Code Evaluation (clojure_eval)" href="#code-evaluation-clojure_eval"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><strong>REPL Integration</strong>: Executes in the connected nREPL session</li>
<li><strong>Helper Functions</strong>: Built-in namespace and symbol exploration tools</li>
<li><strong>Multiple Expressions</strong>: Evaluates and partitions multiple expressions</li>
</ul>
<div dir="auto"><h4 tabindex="-1" dir="auto">Agent System (<code>dispatch_agent</code>)</h4><a id="user-content-agent-system-dispatch_agent" aria-label="Permalink: Agent System (dispatch_agent)" href="#agent-system-dispatch_agent"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><strong>Autonomous Search</strong>: Handles complex, multi-step exploration tasks</li>
<li><strong>Read-only Access</strong>: Agents have read only tool access</li>
<li><strong>Detailed Results</strong>: Returns analysis and findings</li>
</ul>

<p dir="auto">The Clojure MCP server is designed for easy customization. The codebase separates the core MCP server API from the specific implementation:</p>
<ul dir="auto">
<li><strong><code>src/clojure_mcp/core.clj</code></strong> - Provides the reusable API for building MCP servers</li>
<li><strong><code>src/clojure_mcp/main.clj</code></strong> - Example implementation showing how to use the API</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">Using main.clj as a Template</h3><a id="user-content-using-mainclj-as-a-template" aria-label="Permalink: Using main.clj as a Template" href="#using-mainclj-as-a-template"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The <code>main.clj</code> file demonstrates the recommended patterns for creating your own customized MCP server:</p>
<div dir="auto"><h4 tabindex="-1" dir="auto">1. Define Your Resources (<code>my-resources</code> function)</h4><a id="user-content-1-define-your-resources-my-resources-function" aria-label="Permalink: 1. Define Your Resources (my-resources function)" href="#1-define-your-resources-my-resources-function"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="(defn my-resources [nrepl-client-map working-dir]
  (keep identity
    [(resources/create-file-resource
       &#34;custom://project-summary&#34;
       &#34;PROJECT_SUMMARY.md&#34;
       &#34;Project summary for LLM context&#34;
       &#34;text/markdown&#34;
       (str working-dir &#34;/PROJECT_SUMMARY.md&#34;))
     ;; Add more resources here
     ]))"><pre>(<span>defn</span> <span>my-resources</span> [nrepl-client-map working-dir]
  (<span>keep</span> identity
    [(<span>resources/create-file-resource</span>
       <span><span>&#34;</span>custom://project-summary<span>&#34;</span></span>
       <span><span>&#34;</span>PROJECT_SUMMARY.md<span>&#34;</span></span>
       <span><span>&#34;</span>Project summary for LLM context<span>&#34;</span></span>
       <span><span>&#34;</span>text/markdown<span>&#34;</span></span>
       (<span>str</span> working-dir <span><span>&#34;</span>/PROJECT_SUMMARY.md<span>&#34;</span></span>))
     <span><span>;</span>; Add more resources here</span>
     ]))</pre></div>
<p dir="auto">Resources provide context documents to the AI assistant. Common resources include:</p>
<ul dir="auto">
<li>Project documentation (README, PROJECT_SUMMARY)</li>
<li>Code style guides</li>
<li>Project structure information</li>
<li>Configuration files</li>
</ul>
<div dir="auto"><h4 tabindex="-1" dir="auto">2. Define Your Prompts (<code>my-prompts</code> function)</h4><a id="user-content-2-define-your-prompts-my-prompts-function" aria-label="Permalink: 2. Define Your Prompts (my-prompts function)" href="#2-define-your-prompts-my-prompts-function"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="(defn my-prompts [working-dir]
  [{:name &#34;my_custom_prompt&#34;
    :description &#34;Custom prompt for specific workflows&#34;
    :arguments []
    :prompt-fn (prompts/simple-content-prompt-fn
                &#34;Custom Prompt&#34;
                &#34;Your custom prompt content here&#34;)}])"><pre>(<span>defn</span> <span>my-prompts</span> [working-dir]
  [{<span>:name</span> <span><span>&#34;</span>my_custom_prompt<span>&#34;</span></span>
    <span>:description</span> <span><span>&#34;</span>Custom prompt for specific workflows<span>&#34;</span></span>
    <span>:arguments</span> []
    <span>:prompt-fn</span> (<span>prompts/simple-content-prompt-fn</span>
                <span><span>&#34;</span>Custom Prompt<span>&#34;</span></span>
                <span><span>&#34;</span>Your custom prompt content here<span>&#34;</span></span>)}])</pre></div>
<p dir="auto">Prompts provide pre-configured instructions and workflows for the AI assistant.</p>
<div dir="auto"><h4 tabindex="-1" dir="auto">3. Select Your Tools (<code>my-tools</code> function)</h4><a id="user-content-3-select-your-tools-my-tools-function" aria-label="Permalink: 3. Select Your Tools (my-tools function)" href="#3-select-your-tools-my-tools-function"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="(defn my-tools [nrepl-client-atom]
  [;; Read-only tools
   (directory-tree-tool/directory-tree-tool nrepl-client-atom)
   (unified-read-file-tool/unified-read-file-tool nrepl-client-atom)
   
   ;; Evaluation tools
   (eval-tool/eval-code nrepl-client-atom)
   
   ;; Editing tools
   (combined-edit-tool/unified-form-edit-tool nrepl-client-atom)
   (file-write-tool/file-write-tool nrepl-client-atom)
   
   ;; Add your custom tools here
   ])"><pre>(<span>defn</span> <span>my-tools</span> [nrepl-client-atom]
  [<span><span>;</span>; Read-only tools</span>
   (<span>directory-tree-tool/directory-tree-tool</span> nrepl-client-atom)
   (<span>unified-read-file-tool/unified-read-file-tool</span> nrepl-client-atom)
   
   <span><span>;</span>; Evaluation tools</span>
   (<span>eval-tool/eval-code</span> nrepl-client-atom)
   
   <span><span>;</span>; Editing tools</span>
   (<span>combined-edit-tool/unified-form-edit-tool</span> nrepl-client-atom)
   (<span>file-write-tool/file-write-tool</span> nrepl-client-atom)
   
   <span><span>;</span>; Add your custom tools here</span>
   ])</pre></div>
<p dir="auto">Tools are organized by category:</p>
<ul dir="auto">
<li><strong>Read-only</strong>: File exploration, project inspection</li>
<li><strong>Evaluation</strong>: Code execution and testing</li>
<li><strong>Editing</strong>: File modification and code generation</li>
<li><strong>Agents</strong>: Advanced AI-powered tools</li>
<li><strong>Experimental</strong>: Cutting-edge features</li>
</ul>
<div dir="auto"><h4 tabindex="-1" dir="auto">4. Wire Everything Together (<code>start-mcp-server</code> function)</h4><a id="user-content-4-wire-everything-together-start-mcp-server-function" aria-label="Permalink: 4. Wire Everything Together (start-mcp-server function)" href="#4-wire-everything-together-start-mcp-server-function"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="(defn start-mcp-server [nrepl-args]
  (let [nrepl-client-map (core/create-and-start-nrepl-connection nrepl-args)
        working-dir (config/get-nrepl-user-dir nrepl-client-map)
        mcp (core/mcp-server)]
    
    (reset! core/nrepl-client-atom (assoc nrepl-client-map ::mcp-server mcp))
    
    ;; Register your customizations
    (doseq [resource (my-resources nrepl-client-map working-dir)]
      (core/add-resource mcp resource))
    (doseq [tool (my-tools core/nrepl-client-atom)]
      (core/add-tool mcp tool))
    (doseq [prompt (my-prompts working-dir)]
      (core/add-prompt mcp prompt))))"><pre>(<span>defn</span> <span>start-mcp-server</span> [nrepl-args]
  (<span>let</span> [nrepl-client-map (<span>core/create-and-start-nrepl-connection</span> nrepl-args)
        working-dir (<span>config/get-nrepl-user-dir</span> nrepl-client-map)
        mcp (<span>core/mcp-server</span>)]
    
    (<span>reset!</span> core/nrepl-client-atom (<span>assoc</span> nrepl-client-map <span>::mcp-server</span> mcp))
    
    <span><span>;</span>; Register your customizations</span>
    (<span>doseq</span> [resource (<span>my-resources</span> nrepl-client-map working-dir)]
      (<span>core/add-resource</span> mcp resource))
    (<span>doseq</span> [tool (<span>my-tools</span> core/nrepl-client-atom)]
      (<span>core/add-tool</span> mcp tool))
    (<span>doseq</span> [prompt (<span>my-prompts</span> working-dir)]
      (<span>core/add-prompt</span> mcp prompt))))</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Creating Your Custom Server</h3><a id="user-content-creating-your-custom-server" aria-label="Permalink: Creating Your Custom Server" href="#creating-your-custom-server"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li><strong>Copy <code>main.clj</code></strong> as a starting point for your custom server</li>
<li><strong>Modify the functions</strong> to include only the tools/resources/prompts you need</li>
<li><strong>Add requires</strong> for any additional tools you want to include</li>
<li><strong>Update your <code>deps.edn</code></strong> to point to your custom server function</li>
</ol>
<p dir="auto">Example <code>deps.edn</code> configuration:</p>
<div dir="auto" data-snippet-clipboard-copy-content=":mcp {:exec-fn my.custom.server/start-mcp-server
      :exec-args {:port 7888}}"><pre>:mcp {<span>:exec-fn</span> my.custom.server/start-mcp-server
      <span>:exec-args</span> {<span>:port</span> <span>7888</span>}}</pre></div>

<p dir="auto">To add tools not included in the default set:</p>
<ol dir="auto">
<li><strong>Find the tool namespace</strong> in <code>src/clojure_mcp/tools/</code></li>
<li><strong>Add the require</strong> to your namespace</li>
<li><strong>Add the tool function call</strong> to your <code>my-tools</code> function</li>
</ol>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="(:require [clojure-mcp.tools.my-new-tool.tool :as my-new-tool])

;; In my-tools function:
(my-new-tool/my-new-tool nrepl-client-atom)"><pre>(<span>:require</span> [clojure-mcp.tools.my-new-tool.tool <span>:as</span> my-new-tool])

<span><span>;</span>; In my-tools function:</span>
(<span>my-new-tool/my-new-tool</span> nrepl-client-atom)</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Tool Categories and Selection</h3><a id="user-content-tool-categories-and-selection" aria-label="Permalink: Tool Categories and Selection" href="#tool-categories-and-selection"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Choose tools based on your workflow needs:</p>
<ul dir="auto">
<li><strong>For exploration only</strong>: Include read-only and evaluation tools</li>
<li><strong>For active development</strong>: Add editing and file manipulation tools</li>
<li><strong>For AI-assisted workflows</strong>: Include agent and experimental tools</li>
<li><strong>For testing</strong>: Include bash tool for running tests</li>
</ul>
<p dir="auto">This modular approach lets you create focused, efficient MCP servers tailored to specific development workflows.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">üîß Extending with Custom Tools</h2><a id="user-content--extending-with-custom-tools" aria-label="Permalink: üîß Extending with Custom Tools" href="#-extending-with-custom-tools"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Want to create your own MCP tools?</p>
<p dir="auto"><strong>üìñ <a href="https://github.com/bhauman/clojure-mcp/blob/main/CUSTOM_TOOLS.md">Custom Tools Development Guide</a></strong></p>

<p dir="auto">The Clojure MCP server supports project-specific configuration through a <code>.clojure-mcp/config.edn</code> file in your project&#39;s root directory. This configuration provides security controls and customization options for the MCP server.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Configuration File Location</h3><a id="user-content-configuration-file-location" aria-label="Permalink: Configuration File Location" href="#configuration-file-location"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Create a <code>.clojure-mcp/config.edn</code> file in your project root:</p>
<div data-snippet-clipboard-copy-content="your-project/
‚îú‚îÄ‚îÄ .clojure-mcp/
‚îÇ   ‚îî‚îÄ‚îÄ config.edn
‚îú‚îÄ‚îÄ src/
‚îú‚îÄ‚îÄ deps.edn
‚îî‚îÄ‚îÄ ..."><pre><code>your-project/
‚îú‚îÄ‚îÄ .clojure-mcp/
‚îÇ   ‚îî‚îÄ‚îÄ config.edn
‚îú‚îÄ‚îÄ src/
‚îú‚îÄ‚îÄ deps.edn
‚îî‚îÄ‚îÄ ...
</code></pre></div>


<p dir="auto">Controls which directories the MCP tools can access for security. Paths can be relative (resolved from project root) or absolute.</p>

<p dir="auto">Boolean flag to enable Emacs integration notifications.</p>
<p dir="auto"><strong>Prerequisites for Emacs Integration:</strong></p>
<ul dir="auto">
<li><code>emacsclient</code> must be available in your system PATH</li>
<li>Emacs server must be running (start with <code>M-x server-start</code> or add <code>(server-start)</code> to your init file)</li>
<li>The integration allows the MCP server to communicate with your Emacs editor for enhanced development workflows</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="{:allowed-directories [&#34;.&#34;
                       &#34;src&#34; 
                       &#34;test&#34; 
                       &#34;resources&#34;
                       &#34;dev&#34;
                       &#34;/absolute/path/to/shared/code&#34;
                       &#34;../sibling-project&#34;]
 :emacs-notify false}"><pre>{<span>:allowed-directories</span> [<span><span>&#34;</span>.<span>&#34;</span></span>
                       <span><span>&#34;</span>src<span>&#34;</span></span> 
                       <span><span>&#34;</span>test<span>&#34;</span></span> 
                       <span><span>&#34;</span>resources<span>&#34;</span></span>
                       <span><span>&#34;</span>dev<span>&#34;</span></span>
                       <span><span>&#34;</span>/absolute/path/to/shared/code<span>&#34;</span></span>
                       <span><span>&#34;</span>../sibling-project<span>&#34;</span></span>]
 <span>:emacs-notify</span> <span>false</span>}</pre></div>

<p dir="auto"><strong>Path Resolution</strong>:</p>
<ul dir="auto">
<li>Relative paths (like <code>&#34;src&#34;</code>, <code>&#34;../other-project&#34;</code>) are resolved relative to your project root</li>
<li>Absolute paths (like <code>&#34;/home/user/shared&#34;</code>) are used as-is</li>
<li>The project root directory is automatically included in allowed directories</li>
</ul>
<p dir="auto"><strong>Security</strong>:</p>
<ul dir="auto">
<li>Tools validate all file operations against the allowed directories</li>
<li>Attempts to access files outside allowed directories will fail with an error</li>
<li>This prevents accidental access to sensitive system files</li>
<li>the Bash tool doesn&#39;t respect these boundaries so be wary</li>
</ul>
<p dir="auto"><strong>Default Behavior</strong>:</p>
<ul dir="auto">
<li>Without a config file, only the project directory and its subdirectories are accessible</li>
<li>The nREPL working directory is automatically added to allowed directories</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">Common Configuration Patterns</h3><a id="user-content-common-configuration-patterns" aria-label="Permalink: Common Configuration Patterns" href="#common-configuration-patterns"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<div dir="auto" data-snippet-clipboard-copy-content="{:allowed-directories [&#34;.&#34; 
                       &#34;src&#34; 
                       &#34;test&#34; 
                       &#34;dev&#34; 
                       &#34;resources&#34;
                       &#34;docs&#34;]
 :emacs-notify false}"><pre>{<span>:allowed-directories</span> [<span><span>&#34;</span>.<span>&#34;</span></span> 
                       <span><span>&#34;</span>src<span>&#34;</span></span> 
                       <span><span>&#34;</span>test<span>&#34;</span></span> 
                       <span><span>&#34;</span>dev<span>&#34;</span></span> 
                       <span><span>&#34;</span>resources<span>&#34;</span></span>
                       <span><span>&#34;</span>docs<span>&#34;</span></span>]
 <span>:emacs-notify</span> <span>false</span>}</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="{:allowed-directories [&#34;.&#34;
                       &#34;../shared-utils&#34;
                       &#34;../common-config&#34;
                       &#34;/home/user/reference-code&#34;]
 :emacs-notify false}"><pre>{<span>:allowed-directories</span> [<span><span>&#34;</span>.<span>&#34;</span></span>
                       <span><span>&#34;</span>../shared-utils<span>&#34;</span></span>
                       <span><span>&#34;</span>../common-config<span>&#34;</span></span>
                       <span><span>&#34;</span>/home/user/reference-code<span>&#34;</span></span>]
 <span>:emacs-notify</span> <span>false</span>}</pre></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Restricted Mode (Extra Security)</h4><a id="user-content-restricted-mode-extra-security" aria-label="Permalink: Restricted Mode (Extra Security)" href="#restricted-mode-extra-security"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="{:allowed-directories [&#34;src&#34; 
                       &#34;test&#34;]
 :emacs-notify false}"><pre>{<span>:allowed-directories</span> [<span><span>&#34;</span>src<span>&#34;</span></span> 
                       <span><span>&#34;</span>test<span>&#34;</span></span>]
 <span>:emacs-notify</span> <span>false</span>}</pre></div>
<p dir="auto"><strong>Note</strong>: Configuration is loaded when the MCP server starts. Restart the server after making configuration changes.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">üìú Development Practices</h2><a id="user-content--development-practices" aria-label="Permalink: üìú Development Practices" href="#-development-practices"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<ol dir="auto">
<li><strong>Express the problem</strong> - Clearly state what you want to solve</li>
<li><strong>Develop in the REPL</strong> - Work through solutions incrementally</li>
<li><strong>Validate step-by-step</strong> - Test each expression before moving on</li>
<li><strong>Save to files</strong> - When the solution is working, save it properly</li>
<li><strong>Reload and verify</strong> - Make sure the saved code works</li>
</ol>

<ul dir="auto">
<li><strong>Small steps</strong> - Prefer many small, valid steps over a few large steps</li>
<li><strong>Human guidance</strong> - Provide feedback to keep development on track</li>
<li><strong>Test early</strong> - Validate ideas directly in the REPL before committing to them</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Run tests
clojure -X:test

# Run specific test
clojure -X:test :dirs &#39;[&#34;test&#34;]&#39; :include &#39;&#34;repl_tools_test&#34;&#39;

# Run linter
clojure -M:lint"><pre><span><span>#</span> Run tests</span>
clojure -X:test

<span><span>#</span> Run specific test</span>
clojure -X:test :dirs <span><span>&#39;</span>[&#34;test&#34;]<span>&#39;</span></span> :include <span><span>&#39;</span>&#34;repl_tools_test&#34;<span>&#39;</span></span>

<span><span>#</span> Run linter</span>
clojure -M:lint</pre></div>

<p dir="auto">The core philosophy of this project is that:</p>
<ol dir="auto">
<li><strong>Tiny steps with rich feedback</strong> lead to better quality code</li>
<li><strong>REPL-driven development</strong> provides the highest quality feedback loop</li>
<li><strong>Keeping humans in the loop</strong> ensures discernment and maintainable code</li>
</ol>

<p dir="auto">GNU Affero General Public License v3.0</p>
<p dir="auto">Copyright (c) 2025 Bruce Hauman</p>
<p dir="auto">This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p dir="auto">This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.</p>
<p dir="auto">You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <a href="https://www.gnu.org/licenses/" rel="nofollow">https://www.gnu.org/licenses/</a>.</p>

<ul dir="auto">
<li>‚úÖ <strong>Use freely</strong> for personal projects, internal business tools, and development</li>
<li>‚úÖ <strong>Modify and distribute</strong> - improvements and forks are welcome</li>
<li>‚úÖ <strong>Commercial use</strong> - businesses can use this internally without restrictions</li>
<li><g-emoji alias="warning">‚ö†Ô∏è</g-emoji> <strong>Network copyleft</strong> - if you offer this as a service to others, you must open source your entire service stack</li>
<li>üì§ <strong>Share improvements</strong> - modifications must be shared under the same license</li>
</ul>
<p dir="auto">This license ensures the project remains open source while preventing commercial exploitation without contribution back to the community.</p>
</article></div></div>
  </body>
</html>
