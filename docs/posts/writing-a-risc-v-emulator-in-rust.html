<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://book.rvemu.app/">Original</a>
    <h1>Writing a RISC-V Emulator in Rust</h1>
    
    <div id="readability-page-1" class="page">
        <!-- Provide site root to javascript -->
        

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        

        <!-- Set the theme before any content is loaded, prevents flash -->
        

        <!-- Hide / unhide sidebar before it is displayed -->
        

        <nav id="sidebar" aria-label="Table of contents">
            
            
        </nav>

        <div id="page-wrapper">

            <div class="page">
                
                
                

                
                
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                

                <div id="content">
                    <main>
                        
<p><strong>NOTE: This project is actively ongoing. Pages are not perfect yet and it possible to change dramatically.</strong></p>
<h2><a href="#introduction" id="introduction">Introduction</a></h2>
<p>This is the book for writing a 64-bit RISC-V emulator from scratch in Rust. You can run <a href="https://github.com/mit-pdos/xv6-riscv">xv6</a>, a simple Unix-like OS, in your emulator once you finish the book.</p>
<p>You&#39;ll learn the basic computer architecture such as ISA, previleged architecture, exceptions, interrupts, peripheral devices, and virtual memory system from making an emulator.</p>
<p>The source code used in this book is available at <a href="https://github.com/d0iasm/rvemu-for-book">d0iasm/rvemu-for-book</a>.</p>
<h2><a href="#chapter-1" id="chapter-1">Chapter 1</a></h2>
<p><a href="https://book.rvemu.app/hardware-components/index.html">Chapter 1</a> shows all hardward components we need to implement for running <code>xv6</code>.</p>
<ol>
<li><a href="https://book.rvemu.app/hardware-components/01-cpu.html">CPU with Two Instructions</a></li>
<li><a href="https://book.rvemu.app/hardware-components/02-memory.html">Memory and System Bus</a></li>
<li><a href="https://book.rvemu.app/hardware-components/03-csrs.html">Control and Status Registers</a></li>
<li>Privileged Architecture</li>
<li>Exceptions</li>
<li>PLIC (a platform-level interrupt controller) and CLINT (a core-local interrupter)</li>
<li>UART (a universal asynchronous receiver-transmitter)</li>
<li>Interrupts</li>
<li>Virtio</li>
<li>Virtual Memory System</li>
</ol>
<h2><a href="#chapter-2" id="chapter-2">Chapter 2</a></h2>
<p><a href="https://book.rvemu.app/instruction-set/index.html">Chapter 2</a> shows all ISAs we need to implement for running <code>xv6</code>.</p>
<ul>
<li><a href="https://book.rvemu.app/instruction-set/01-rv64i.html">RV64I Base Integer Instruction Set</a></li>
<li>&#34;M&#34; Standard Extension for Integer Multiplication and Division</li>
<li>&#34;A&#34; Standard Extension for AtomicInstructions</li>
</ul>
<h2><a href="#outcome" id="outcome">Outcome</a></h2>
<p>Once you read this book and implement the emulator, you will be able to run xv6 in your emulator!</p>
<p><img src="https://book.rvemu.app/img/2020-08-16-rvemu-for-book-xv6.png" alt="Demo for running xv6 on the emulator"/></p>
<h2><a href="#contact" id="contact">Contact</a></h2>
<p>The author is <a href="https://twitter.com/d0iasm">@d0iasm</a> and please feel free to ask and request anything to me via <a href="https://twitter.com/d0iasm">Twitter</a> or <a href="https://github.com/d0iasm/rvemu-for-book/issues">GitHub issues</a>!</p>

                    </main>

                    <nav aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        
                            <a rel="next" href="https://book.rvemu.app/hardware-components/index.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i></i>
                            </a>
                        

                        
                    </nav>
                </div>
            </div>

            <nav aria-label="Page navigation">
                

                
                    <a rel="next" href="https://book.rvemu.app/hardware-components/index.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        
        

        

        
        
        
        
        

        
        
        

        <!-- Custom JS scripts -->
        

        

    

</div>
  </body>
</html>
