<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://kevingal.com/blog/rc1.html">Original</a>
    <h1>Recurse Center, week 1</h1>
    
    <div id="readability-page-1" class="page">
    <header>
        
    </header>


<h3>2024-01-05</h3>
<h3>A weekly log of my activity at the Recurse Center, a 12-week programming retreat.</h3>
<p>Tags: <a href="https://kevingal.com/blog/tag/rc.html">rc</a> </p>
<hr/>
<h3 id="day-1-wednesday-january-3rd">Day 1 (Wednesday, January 3rd)</h3>
<p>Started with some presentations about the philosophy of the Recurse Center and how to get the most out of the experience. There&#39;s lots to learn about how RC works, from Zulip (their messaging system) to Virtual RC (a &#34;virtual space&#34; where you can move around your avatar and interact with other RCers). We also did some Chat Roulette-style meet-and-greets. Met maybe 15 people from my batch, but there are many others! Keeping a list of people with shared interests and who I think would be interesting to pair with. </p>
<p>Between Zoom calls, I watched the first video in <a href="https://www.youtube.com/watch?v=4b4MUYve_U8&amp;list=PLoROMvodv4rMiGQp3WXShtMGgzqpfVfbU&amp;index=2">Andrew Ng&#39;s machine learning course</a> on 2x speed. I&#39;m not sure yet if I want to work through that course while at RC, but it seemed like a fun way to spend an hour. Considering whether to do the homework exercises in J, but not very confident in my J skillz.</p>
<p>Feeling tempted by people talking about their programming language projects, makes me want to dive into the <em>Crafting Interpreters</em> book, or maybe <em>Engineering a Compiler</em>.</p>
<h3 id="day-2-thursday-january-4th">Day 2 (Thursday, January 4th)</h3>
<p>Started the day with a workshop on pair programming, which they&#39;re strongly encouraging us to do. I paired up with Reed to work on a Mastermind clone in JavaScript. He shared some of his JavaScript philosophy, and made some analogies between the DOM and the sorta environment you&#39;d have in Smalltalk/Erlang... both of which are languages I wanna try out. Consider function calls as &#34;messages&#34; to elements in the DOM. We made a pretty-looking board with some interactivity, but didn&#39;t implement the game logic. Reed is good at this JavaScript thing! He also showed me a cool Emacs package for interactively writing regex, I will definitely add it to my Emacs config.</p>
<figure>
<img src="https://kevingal.com/static/img/recurse/mastermind.png" alt="Our basic interface for the Mastermind boardgame, with round coloured circles for pegs and a submit button."/>
<figcaption>Our Mastermind clone.</figcaption>
</figure>

<p>I&#39;m going to fill in this blog post as I go along, seems easier than trying to remember everything at the end of the week.</p>
<p>Next up, I wanted to get my feet wet and actually start a programming project. What better for that than a small generative art piece! I got the gist of how to visualise the Lorenz attractor from a <a href="https://thecodingtrain.com/challenges/12-lorenz-attractor">Coding Train</a> video, which I then went ahead and did.</p>
<p>The only stumbling block was figuring out whether I could draw it in 2d, given that <a href="https://github.com/vydd/sketch">sketch</a>, the Common Lisp drawing framework I use, does not support 3d and that The Coding Train&#39;s version is in 3d. I realised I could just ignore the z dimension when drawing, and I could use the z value to determine the colour of the line.</p>
<figure>
<video width="400" height="400" controls="">
    <source src="/static/video/recurse/lorenz.mp4" type="video/mp4"/>
</video>
<figcaption>The Lorenz attractor!</figcaption>
</figure>

<p>I made it so that pressing the space key resets the drawing and randomises the parameters. It was kinda awkward to record this video, though -- I had to rush to press the &#39;record&#39; button after starting the animation. So tomorrow I think I&#39;ll work on adding to sketch the ability to save a video of an animation, probably by piping video output to ffmpeg.</p>
<p>I ended the day by starting to read about the <a href="http://www.bittorrent.org/beps/bep_0003.html">BitTorrent protocol</a>, since I want to implement it in order to learn more about computer networking.</p>
<h3 id="day-3-friday-january-5th">Day 3 (Friday, January 5th)</h3>
<p>Tried to catch up with all the messages on Zulip -- there are a lot! At some point I&#39;ll have to filter everything down to make it more manageable. For now, I&#39;m rolling with the chaos.</p>
<p>Started my BitTorrent client project. Found that <a href="https://github.com/andrei-dubovik/centrality">someone else</a> has already implemented such a client in Common Lisp. I don&#39;t intend to use their code, but it will be useful to have a reference and to see what packages they used.</p>
<p>After skimming the <a href="http://www.bittorrent.org/beps/bep_0003.html">specification</a>, I jumped into writing a parser for the bencoding text format. It has integers like &#34;i123e&#34; and strings like &#34;4:spam&#34;, as well as lists and dictionaries. I&#39;ve been meaning to try out <a href="https://github.com/scymtym/esrap">esrap</a> for parsing in Common Lisp, and this seemed like the perfect opportunity! It uses the idea of parser generators, which I think are like composable building blocks for parsing.</p>
<p>I ran into some early trouble with esrap due to an annoying technical issue. Basically, I was trying to use the &#39;?&#39; symbol from the esrap package without having access to it. This was frustrating because it felt like I was squandering my day on a trivial issue.</p>
<p>There are edge cases in even the simplest of tasks, like parsing bencoded integers: &#34;i0e&#34; is valid, &#34;i01e&#34; is invalid, and &#34;i-0e&#34; is invalid. On that note, esrap has nice error messages!</p>
<div><pre><span></span><code><span>BENCODE&gt;</span><span> </span><span>(</span><span>parse</span><span> </span><span>&#39;benteger</span><span> </span><span>&#34;i01e&#34;</span><span>)</span><span></span>

<span>[...]</span><span></span>

<span>At</span><span></span>

<span>  </span><span>i01e</span><span></span>
<span>    </span><span>^</span><span> </span><span>(</span><span>Line</span><span> </span><span>1</span><span>,</span><span> </span><span>Column</span><span> </span><span>2</span><span>,</span><span> </span><span>Position</span><span> </span><span>2</span><span>)</span><span></span>

<span>In</span><span> </span><span>context</span><span> </span><span>INTEGER:</span><span></span>

<span>While</span><span> </span><span>parsing</span><span> </span><span>INTEGER.</span><span> </span><span>Expected:</span><span></span>

<span>     </span><span>the</span><span> </span><span>character</span><span> </span><span>e</span><span> </span><span>(</span><span>LATIN_SMALL_LETTER_E</span><span>)</span><span></span>
<span>   </span><span>[Condition</span><span> </span><span>of</span><span> </span><span>type</span><span> </span><span>ESRAP-PARSE-ERROR]</span><span></span>
</code></pre></div>

<p>Here&#39;s a taste of what the DSL looks like for defining grammar rules! Courtesy of macros. Maybe I should give a presentation on macros, even though I&#39;m still learning about them.</p>
<div><pre><span></span><code><span>(</span><span>defrule</span><span> </span><span>benteger</span><span></span>
<span>    </span><span>(</span><span>and</span><span> </span><span>#\i</span><span></span>
<span>         </span><span>(</span><span>or</span><span> </span><span>&#34;0&#34;</span><span></span>
<span>             </span><span>(</span><span>and</span><span> </span><span>(</span><span>?</span><span> </span><span>#\-</span><span>)</span><span></span>
<span>                  </span><span>nonzero</span><span></span>
<span>                  </span><span>(</span><span>*</span><span> </span><span>digit</span><span>)))</span><span></span>
<span>         </span><span>#\e</span><span>))</span><span></span>
</code></pre></div>

<p>Parsing bencoded strings is a little tricky, because the length of the string is determined by the integer prefix. I had to go outside the constraints of the <code>defrule</code> syntax and write a custom <code>parse-bencoded-string</code> function, which, thankfully, integrates well with esrap parsing. I was then able to define the rest of the parser in 4 lines of code:</p>
<div><pre><span></span><code><span>(</span><span>defrule</span><span> </span><span>str</span><span> </span><span>(</span><span>function</span><span> </span><span>parse-bencoded-string</span><span>))</span><span></span>
<span>(</span><span>defrule</span><span> </span><span>ben</span><span> </span><span>(</span><span>or</span><span> </span><span>str</span><span> </span><span>benteger</span><span> </span><span>list</span><span> </span><span>dict</span><span>))</span><span></span>
<span>(</span><span>defrule</span><span> </span><span>list</span><span> </span><span>(</span><span>and</span><span> </span><span>&#34;l&#34;</span><span> </span><span>(</span><span>*</span><span> </span><span>ben</span><span>)</span><span> </span><span>&#34;e&#34;</span><span>)</span><span> </span><span>(</span><span>:function</span><span> </span><span>second</span><span>))</span><span></span>
<span>(</span><span>defrule</span><span> </span><span>dict</span><span> </span><span>(</span><span>and</span><span> </span><span>&#34;d&#34;</span><span> </span><span>(</span><span>*</span><span> </span><span>(</span><span>and</span><span> </span><span>str</span><span> </span><span>ben</span><span>))</span><span> </span><span>&#34;e&#34;</span><span>)</span><span> </span><span>(</span><span>:function</span><span> </span><span>second</span><span>))</span><span></span>
</code></pre></div>

<p>Testing:</p>
<div><pre><span></span><code><span>BENCODE&gt;</span><span> </span><span>(</span><span>parse</span><span> </span><span>&#39;list</span><span> </span><span>&#34;l4:spam4:eggse&#34;</span><span>)</span><span></span>
<span>(</span><span>&#34;spam&#34;</span><span> </span><span>&#34;eggs&#34;</span><span>)</span><span></span>
<span>BENCODE&gt;</span><span> </span><span>(</span><span>parse</span><span> </span><span>&#39;dict</span><span> </span><span>&#34;d3:cow3:moo4:spam4:eggse&#34;</span><span>)</span><span></span>
<span>((</span><span>&#34;cow&#34;</span><span> </span><span>&#34;moo&#34;</span><span>)</span><span> </span><span>(</span><span>&#34;spam&#34;</span><span> </span><span>&#34;eggs&#34;</span><span>))</span><span></span>
</code></pre></div>

<p>Pretty neat! <a href="https://github.com/Kevinpgalligan/cl-torrent">Here&#39;s the code so far</a>. Next week I&#39;ll come back to this and write unit tests to make sure I&#39;ve covered all the edge cases. I haven&#39;t done unit testing in Common Lisp before, so it&#39;ll require some effort to set up. Seems like a good candidate for pair programming!</p>
<p>I&#39;m trying to reach out to people with similar interests, but it&#39;s hard to keep track of everyone. I&#39;ll start attending the daily check-ins next week, and also some of the meetings like &#34;Creative Coding&#34; and Emulators + VMs&#34;, which will hopefully lead to new connections.</p>
<p>To finish the week, I made a 2-line <a href="https://github.com/vydd/sketch/pull/133">pull request</a> to <a href="https://github.com/vydd/sketch">sketch</a> (don&#39;t draw a border around images by default!) and described my proposal to the other developers about how to fix a tricky bug where the first render call gets lost due to the window getting resized.</p>
<p>Posting this now because I want my weeks to start on a Monday and end on a Friday. Hopefully I&#39;m not being too verbose!</p>
<hr/>
<ul>
<li><a href="https://kevingal.com/blog.html">Back to blog</a></li>
<li><a href="https://kevingal.com/feed.xml">RSS feed</a></li>
</ul>
<p>I&#39;d be happy to hear from you at <i>galligankevinp@gmail.com</i>.</p>


</div>
  </body>
</html>
