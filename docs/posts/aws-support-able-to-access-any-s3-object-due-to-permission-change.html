<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/QuinnyPig/status/1473705669517791253">Original</a>
    <h1>AWS Support able to access any S3 object due to permission change</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-50748" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473705669517791253" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="28" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:23:06.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:23:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="mainEntityOfPage"/><meta content="https://twitter.com/0xdabbad00/status/1473448889948598275" itemprop="isBasedOn"/><div><article aria-labelledby="id__7d5rpth9o3w id__kxt5kc8cd7o id__ge6pdv2ppjr id__aowle65chln id__wvi47cqbiep id__636ek4vh7f id__z9i868tlbv id__sh8ep1t1gi id__7pin35y5i9g id__brbil868uls id__vdupxfv8vmb id__chlgn47vktr id__cv714tw88tp" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><div lang="en" dir="auto" id="id__7pin35y5i9g"><p><span>Just to be clear here, this means that for a time </span></p><p><span> support was able to read all of your S3 data. There is no mitigation; this role is mandatory. 

If you had CloudTrail data events enabled, you can audit. If you didnâ€™t, it may be time to declare a security incident.</span></p></div></div></div></div><div><div aria-labelledby="id__w9dolrwnhu id__w7q2tzlywro" id="id__brbil868uls"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/FHOnfp1WYAUSkqA?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div><div><div id="id__w9dolrwnhu"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>AWSSupportServiceRolePolicy just got s3:GetObject. </span><img alt="ðŸ˜±" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f631.svg"/><span> That role is supposed to only have metadata visibility. </span><span><span dir="ltr">@AWSSecurityInfo</span></span><span> you need to roll that back. twitter.com/mamip_aws/statâ€¦</span></p><p><span>Show this thread</span></p></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473887418973446146" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="5" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-23T05:25:18.000Z" itemprop="dateCreated"/><meta content="2021-12-23T05:25:18.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473887418973446146" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__p6rysahmgi id__7656g99yag3 id__8q542rwzpjl id__7pyp96chbw id__k1svw5tg5a id__ev5ug7v8mve id__yiqja3c4jcs id__9bd0yleuafw id__fgpn2sc8g4u id__s74bz2kr9te id__2kph1rcjg08 id__i9fnc98fe4o id__tde2e165bb" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__fgpn2sc8g4u"><p><span>If </span></p><p><span> doesnâ€™t comment on this, I absolutely will. 

You owe your customers a response. Donâ€™t pull an </span></p><p><span> on this one.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706710288244741" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:27:14.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:27:14.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__s4726zj0w8k id__98m7mom2f4e id__d44n3ubfnwq id__kk8kgan8ife id__3w3jwh4fran id__2kxlkbmolzm id__m6gvkderfz id__j0qxpsvnk0p id__2xoc0cjce4d id__7j5ly2j05pd id__ny0mbybr6i id__jkf8p8lqbnk id__8zo4ugglk9t" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>AFAIK one could override the &#34;allow&#34; with an explicit deny (resource policy), or by deleting the role, or by SCPs. But I don&#39;t think average AWS users do this (since they trust AWS not to mess around)</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707708415156230" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:31:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:31:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473707708415156230" itemprop="url"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isBasedOn"/><div><article aria-labelledby="id__yqj77zektup id__lva78afqecj id__xnbpnhazmx id__i1ax2qkm09e id__mppzduq85w id__3ffzgnf013t id__rp1h3s8rdsp id__w1ilsjahhpq id__rv4vplk7rv id__q1yq00apsz9 id__fuy4mxpfb7h id__sks1tonb51e id__87hx9tdzzyo" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Ah, TIL SCPs don&#39;t affect service-linked roles...</span></p></div></div><div><div aria-labelledby="id__bzw7l7yit4 id__l89663vo1d" id="id__q1yq00apsz9"><div><div id="id__bzw7l7yit4"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @QuinnyPig <span>and</span> @awscloud</p><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed. </span><span dir="ltr"><span aria-hidden="true">https://</span>twitter.com/0xdabbad00/sta<span aria-hidden="true">tus/1316910366249652227</span><span aria-hidden="true">â€¦</span></span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706952375115777" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:28:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:28:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__lbc9ltw98nn id__do81hxkswl id__otl6orstyo id__t0vhog3anfc id__r09llwyci49 id__4mc0bx5vrsw id__yyggqm61e id__f1bcs0jo22 id__51pe45epvi4 id__dxuz2czsp7t id__yrowd48m7ze id__vjt7obqtze id__u0nsclw9ooe" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/grhmc" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1428169731475918852/PvkrpMOw_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Would objects encrypted with KMS be fetchable by support too?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707300036689924" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:35.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/EmilyGorcenski/status/1473707300036689924" itemprop="url"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="isPartOf"/><div><article aria-labelledby="id__jrbpj3wt3o id__ys3i0p4rkr id__tz49ar3st4 id__1lqp93l0c2z id__4x4f09ij1ry id__ripurgwc33 id__e1t0wqpoxr id__bbhdv3282qn id__mwoum22a0gl id__3syk58alzld id__jsj534ps6zd id__kjsfku0kof id__v6hkczdhyn" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/EmilyGorcenski" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1411586357781204992/1Bq162C2_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Yes but not readable, Iâ€™d imagine</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707159825301514" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1316910366249652227" itemprop="isBasedOn"/><div><article aria-labelledby="id__a2gzksmtwxv id__zpwi5oce8z9 id__v9sxa609coj id__tsmt0xvblmg id__20l5oa3vg7s id__plc4anl4zk id__dp3swxwqqqp id__nthemd4wqrm id__33fiwl9ufkh id__ufmf0iv8r6g id__66w5fejh0qs id__wabo9smcsl id__ezy6hoiwizw" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/0xdabbad00" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1467570136034918404/NtJIHkgn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed.</span></p></div></div><div><div aria-labelledby="id__jd1hu05ihub id__88ba13i7736" id="id__ufmf0iv8r6g"><div><div id="id__jd1hu05ihub"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>ReadOnlyAccess just had 83 privileges deleted from it. </span><img alt="ðŸ˜®" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f62e.svg"/><span> That&#39;s abnormal. Hope this doesn&#39;t break anything. Also apparently there were 3 changes in the past 4 hours to that policy. twitter.com/mamip_aws/statâ€¦</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473708325107871751" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:33:39.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:33:39.000Z" itemprop="datePublished"/><meta content="https://twitter.com/marekq/status/1473708325107871751" itemprop="url"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isPartOf"/><div><article aria-labelledby="id__go4ftkrjvpl id__kozpygr46km id__joafumtvr0f id__3od9bmkzafi id__aka9ueeclg id__31koyjdoqiu id__ip5zds2mur id__r1fz4kzsrta id__e9ibx4avk7b id__yf3bjpa49lm id__yw01dby5lzl id__9hki9oyet7j id__bzui2m1lrx" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/marekq" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1451484887144337426/IHZIvEfU_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__e9ibx4avk7b"><p><span>I would love to see </span></p><p><span> &#39;s thoughts about this. I don&#39;t think there&#39;s a change log or anything else where we can understand what AWS is doing here.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707161469530120" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:02.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:02.000Z" itemprop="datePublished"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__27re81qhuvn id__dihbl8rnx4f id__4zhgwzlhfud id__o1ey2psioh id__zqjukzlql8a id__tyblt7268um id__tsr36cagsmt id__cipo9gz6g1 id__zn19fzzoza id__ogi7z6gwxqo id__048ru83i03r7 id__1ty2jr69b86 id__wl2fd200ugm" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/michaelasmith" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/612778074157903872/vuKTjoHD_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Hold on what if it&#39;s KMS encrypted?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473711038478573569" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:44:26.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:44:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/keefybabe/status/1473711038478573569" itemprop="url"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="isPartOf"/><div><article aria-labelledby="id__via9b27bwvo id__ysxc47ge6r8 id__wgmsae3egoa id__5o3zlmdegb id__49mku9o30a5 id__cjodd80jwow id__4vqtucjqo9d id__tf3jo3dkhk8 id__slm38od7lm id__rhxtegxxvg id__g623r244e55 id__5kp6e9a72mg id__kre51x2c7ld" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/keefybabe" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1440943956695691264/6JoG2xky_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>That&#39;s a fair question, do they have KMS read access too? If not, it could be custom key time for people.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473710357369831429" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:41:44.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:41:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__7s4ezinr45w id__kyq81ihbjse id__4zb8ji97awg id__0ougtk6zis id__szshabqql5f id__mlojbl0kvvn id__tqrw77ydy3h id__8y87qejyd9e id__r36gqt97rnp id__pvjgvh0hgpj id__jdvg7xdjgil id__8lg0u53qelk id__6rve9f5ecfq" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/DazedProgrammer" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/960998618865065984/WN-nHeGn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Does GovCloud use this role as well? Inquiring minds want to know.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473717476559097866" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T18:10:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T18:10:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/donnyspi/status/1473717476559097866" itemprop="url"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="isPartOf"/><div><article aria-labelledby="id__5xuojlpn1nt id__4qzdxnsljr id__goi4qxcekoq id__n2xz5jkxfr8 id__c90g7l8wvf8 id__od8c0mhkesf id__4jtqm8o6geu id__3dp7ovyo2ic id__87fmk32bqld id__24vj0inlxjm id__lzp3s3d1w1 id__98fs4k07nor id__wpyom1q744r" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/donnyspi" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/857025278152978434/Q5093ESW_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>i just checked and that role in GovCloud does not have s3:GetObject</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
