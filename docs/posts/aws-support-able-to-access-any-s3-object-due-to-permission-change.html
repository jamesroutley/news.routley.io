<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/QuinnyPig/status/1473705669517791253">Original</a>
    <h1>AWS Support able to access any S3 object due to permission change</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-162766" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473705669517791253" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="34" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:23:06.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:23:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="mainEntityOfPage"/><meta content="https://twitter.com/0xdabbad00/status/1473448889948598275" itemprop="isBasedOn"/><div><article aria-labelledby="id__ojr2vh9zjji id__0omj0jatxzxf id__9od17xiopbj id__qgaqhuguyha id__mz0muqambw id__7lg01tl5fch id__fx0j16y4hrd id__g0draaaxzq id__z5fgavghfrg id__pgmgszvzwi id__qo49l727xl id__6y3c055wggg id__h528z3my8f5" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><div lang="en" dir="auto" id="id__z5fgavghfrg"><p><span>Just to be clear here, this means that for a time </span></p><p><span> support was able to read all of your S3 data. There is no mitigation; this role is mandatory. 

If you had CloudTrail data events enabled, you can audit. If you didnâ€™t, it may be time to declare a security incident.</span></p></div></div></div></div><div><div aria-labelledby="id__coufguf1mws id__l1qj0849lbp" id="id__pgmgszvzwi"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/FHOnfp1WYAUSkqA?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div><div><div id="id__coufguf1mws"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>AWSSupportServiceRolePolicy just got s3:GetObject. </span><img alt="ðŸ˜±" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f631.svg"/><span> That role is supposed to only have metadata visibility. </span><span><span dir="ltr">@AWSSecurityInfo</span></span><span> you need to roll that back. twitter.com/mamip_aws/statâ€¦</span></p><p><span>Show this thread</span></p></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473887418973446146" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="5" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-23T05:25:18.000Z" itemprop="dateCreated"/><meta content="2021-12-23T05:25:18.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473887418973446146" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__iht4sy92wzn id__2bi0wpqa1kc id__j5f1j4zhwv id__zh1amx54o6b id__ekbe0ikewb id__r4gvf2g3xoa id__mkjfdk4ztjb id__u2hukiasvkm id__228fxc5l1u4 id__voluhi6g5q8 id__ubn6mpg4hbl id__wozdyjciero id__kqpchsi5wqa" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__228fxc5l1u4"><p><span>If </span></p><p><span> doesnâ€™t comment on this, I absolutely will. 

You owe your customers a response. Donâ€™t pull an </span></p><p><span> on this one.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706710288244741" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:27:14.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:27:14.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__3af2h9ag7uu id__hmuhd1bqv2v id__eh34oj6xq9r id__xfqiwgo2uc id__2nlhbpri5ss id__kjofft6zxth id__fwa8slwjk1 id__hyn78ha8nmt id__rrphs7xphm id__98hqgsqy9wp id__luzxy079vfo id__5qjerpr5lhd id__plm2i4tsob" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>AFAIK one could override the &#34;allow&#34; with an explicit deny (resource policy), or by deleting the role, or by SCPs. But I don&#39;t think average AWS users do this (since they trust AWS not to mess around)</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707708415156230" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:31:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:31:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473707708415156230" itemprop="url"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isBasedOn"/><div><article aria-labelledby="id__j5xfkt21dd7 id__7b5kw98m1dt id__fghxmm86ld id__rekgaq25p1c id__qphup5qwn0o id__nq1xuzvfzp id__c60wbm421e7 id__ngxhvqrqkt id__nzb1xd8j9b id__diom6voo1fr id__l8tgr5ukq4o id__0uma3zcrntgi id__k370i6jdzj" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Ah, TIL SCPs don&#39;t affect service-linked roles...</span></p></div></div><div><div aria-labelledby="id__7x5jqglt76o id__2adyfkdr8tl" id="id__diom6voo1fr"><div><div id="id__7x5jqglt76o"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @QuinnyPig <span>and</span> @awscloud</p><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed. </span><span dir="ltr"><span aria-hidden="true">https://</span>twitter.com/0xdabbad00/sta<span aria-hidden="true">tus/1316910366249652227</span><span aria-hidden="true">â€¦</span></span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706952375115777" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:28:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:28:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__bgi30gkyuhg id__becybj1888b id__139totk54cel id__c8p19owdfhc id__l6tdbm7vu6d id__baooue6wuqk id__p04h42p5g7i id__4fl4hws7pjn id__145fkqgvjh3e id__8smtpxqjnvf id__fg0zirgxkt4 id__ngz9hqehye id__sl3m4nihzth" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/grhmc" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1428169731475918852/PvkrpMOw_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Would objects encrypted with KMS be fetchable by support too?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707300036689924" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:35.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/EmilyGorcenski/status/1473707300036689924" itemprop="url"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="isPartOf"/><div><article aria-labelledby="id__5ebdwx079ge id__11hd47qxwmem id__rxmhwqgiika id__spb1vhd6u8t id__0k60pbtnsmm9 id__fi193c10vqj id__g4sjfo2kwau id__ixgc8by81tq id__vi9lf93bfuj id__12xht6jl35i id__if0px9ihnl9 id__lzabl7r5a4 id__khf532alqoh" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/EmilyGorcenski" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1411586357781204992/1Bq162C2_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Yes but not readable, Iâ€™d imagine</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707159825301514" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1316910366249652227" itemprop="isBasedOn"/><div><article aria-labelledby="id__cbwa42awxtq id__tvfauruoqln id__zif66esmvz id__tacrbucsv9 id__t8ujczgmz8f id__8q3u312khr4 id__3ferghabtnq id__r1cd7sqcoe id__ly5sdl9gemo id__olp5lhqmi1k id__vz8jfu3npi7 id__5lx93k3jj34 id__iyf973lrbqp" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/0xdabbad00" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1467570136034918404/NtJIHkgn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed.</span></p></div></div><div><div aria-labelledby="id__karbvuagfj id__t4cq221ikah" id="id__olp5lhqmi1k"><div><div id="id__karbvuagfj"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>ReadOnlyAccess just had 83 privileges deleted from it. </span><img alt="ðŸ˜®" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f62e.svg"/><span> That&#39;s abnormal. Hope this doesn&#39;t break anything. Also apparently there were 3 changes in the past 4 hours to that policy. twitter.com/mamip_aws/statâ€¦</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473708325107871751" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:33:39.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:33:39.000Z" itemprop="datePublished"/><meta content="https://twitter.com/marekq/status/1473708325107871751" itemprop="url"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isPartOf"/><div><article aria-labelledby="id__f9kogoad827 id__m6camxvvu7a id__bz4yb5bfpi id__cce6azktj9c id__fr17b4jo5zm id__9nx6kl9ati id__h3ygs1n8ozc id__q3acfu0sma id__8bmpsx1d15 id__g2dialx9cm7 id__l34rf8wo64 id__55daryf2irn id__yh5q5vul2c9" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/marekq" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1451484887144337426/IHZIvEfU_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__8bmpsx1d15"><p><span>I would love to see </span></p><p><span> &#39;s thoughts about this. I don&#39;t think there&#39;s a change log or anything else where we can understand what AWS is doing here.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707161469530120" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:02.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:02.000Z" itemprop="datePublished"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__reypz23trs id__x5af8x65eo id__honddrhluc id__1bahkj2nqbq id__ctkvn4rcsd id__jyhzs4tbl0h id__eeff114avbo id__qn18d2wbzo8 id__axu9n791cus id__ih39jrcfeb id__r51w842i7md id__k863l2s654 id__6am3cdn8zok" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/michaelasmith" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/612778074157903872/vuKTjoHD_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Hold on what if it&#39;s KMS encrypted?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473711038478573569" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:44:26.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:44:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/keefybabe/status/1473711038478573569" itemprop="url"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="isPartOf"/><div><article aria-labelledby="id__dqr6k2wb394 id__wxgjiot3ww id__ceexn4bov46 id__9zjxmojidn5 id__uylwy890j1m id__ojfgmrqxif id__18xllk1lhk6 id__qm7z3osk7op id__uesiirsmv8g id__pp4cngtgoa id__yer2n802ffm id__1xwhyqan05f id__trw2ifx69p9" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/keefybabe" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1440943956695691264/6JoG2xky_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>That&#39;s a fair question, do they have KMS read access too? If not, it could be custom key time for people.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473710357369831429" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:41:44.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:41:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__3ep1bob36i id__augh2qv2d3b id__0tpsrecx6ya id__dvrbcmldssw id__vg00gtx4w0h id__8szchu6y6d4 id__2n709o1scxa id__fqmyx0eorwi id__ws1e1c9180g id__8xa51sib2ef id__zxi3zvq7n0b id__r9ahwyj44oe id__cngrwpskjap" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/DazedProgrammer" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/960998618865065984/WN-nHeGn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Does GovCloud use this role as well? Inquiring minds want to know.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473717476559097866" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T18:10:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T18:10:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/donnyspi/status/1473717476559097866" itemprop="url"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="isPartOf"/><div><article aria-labelledby="id__ivbh6j1qxj id__876ahp31f1p id__3li215s084o id__vmun2ucn9hf id__3rw22xjnz6g id__fxskcmx3ceu id__bdt651lv4j id__84wfg1w1woh id__8btlg4fn7up id__5utklh9uqpd id__m7qwxj75lc id__2o0eea9m09g id__n92no0mqk6" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/donnyspi" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/857025278152978434/Q5093ESW_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>i just checked and that role in GovCloud does not have s3:GetObject</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
