<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/QuinnyPig/status/1473705669517791253">Original</a>
    <h1>AWS Support able to access any S3 object due to permission change</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-44266" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473705669517791253" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="30" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:23:06.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:23:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="mainEntityOfPage"/><meta content="https://twitter.com/0xdabbad00/status/1473448889948598275" itemprop="isBasedOn"/><div><article aria-labelledby="id__3s365y75glr id__1kcrli3nubu id__4ui7lpqnkcy id__sggoxat77tf id__1f44zbg09l4 id__g1vy0xtd775 id__62rxfmn6ni id__4n1m0g9dwra id__u3pvvewc64 id__rrk09k3ply id__1wsybl0jbhf id__ki7ioj38rjc id__6l8nq31qbys" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><div lang="en" dir="auto" id="id__u3pvvewc64"><p><span>Just to be clear here, this means that for a time </span></p><p><span> support was able to read all of your S3 data. There is no mitigation; this role is mandatory. 

If you had CloudTrail data events enabled, you can audit. If you didnâ€™t, it may be time to declare a security incident.</span></p></div></div></div></div><div><div aria-labelledby="id__nge3c5n5nx id__z42l8bgfq1" id="id__rrk09k3ply"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/FHOnfp1WYAUSkqA?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div><div><div id="id__nge3c5n5nx"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>AWSSupportServiceRolePolicy just got s3:GetObject. </span><img alt="ðŸ˜±" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f631.svg"/><span> That role is supposed to only have metadata visibility. </span><span><span dir="ltr">@AWSSecurityInfo</span></span><span> you need to roll that back. twitter.com/mamip_aws/statâ€¦</span></p><p><span>Show this thread</span></p></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473887418973446146" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="5" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-23T05:25:18.000Z" itemprop="dateCreated"/><meta content="2021-12-23T05:25:18.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473887418973446146" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__1mxxgoyiq3c id__45ba8xafzkr id__fqjmel57qp id__uznt5f92rrp id__imp8qq9ida id__evt54clwzqq id__4plp5mc2xiu id__xfmskwwwn9k id__ueg43vffni9 id__z1t184nu9s id__vxyls5w0wi id__svsbjwaca6o id__zcbd10rvlid" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__ueg43vffni9"><p><span>If </span></p><p><span> doesnâ€™t comment on this, I absolutely will. 

You owe your customers a response. Donâ€™t pull an </span></p><p><span> on this one.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706710288244741" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:27:14.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:27:14.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__5nx7i773mt7 id__x2w1zw8jgqg id__zatpa5x7ie9 id__6zf014td95p id__5s1xyefhagk id__44esgqnqzp5 id__3x1l2ooam9z id__5fck4k34tw3 id__mssy0mvia8r id__p9l5va0w51 id__y5tb0ro6d9 id__vhe7hzr6l0j id__at83nzn7dxw" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>AFAIK one could override the &#34;allow&#34; with an explicit deny (resource policy), or by deleting the role, or by SCPs. But I don&#39;t think average AWS users do this (since they trust AWS not to mess around)</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707708415156230" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:31:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:31:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473707708415156230" itemprop="url"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isBasedOn"/><div><article aria-labelledby="id__7b3tfg59jfr id__fzfzlazycrg id__hnc6httbei id__z37k50eaqbo id__dy19rig5rl4 id__w5s388ubi2r id__3fn86zlwg5y id__r0yu46snfv id__o2chlr2jqsf id__dn5masjb6d id__hgi4fwr9qy id__pi3nih8on8b id__sphgu2mnrj8" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Ah, TIL SCPs don&#39;t affect service-linked roles...</span></p></div></div><div><div aria-labelledby="id__4iy8k4hnbh3 id__lssze6xlvzh" id="id__dn5masjb6d"><div><div id="id__4iy8k4hnbh3"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @QuinnyPig <span>and</span> @awscloud</p><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed. </span><span dir="ltr"><span aria-hidden="true">https://</span>twitter.com/0xdabbad00/sta<span aria-hidden="true">tus/1316910366249652227</span><span aria-hidden="true">â€¦</span></span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706952375115777" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:28:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:28:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__tt4i3ownpn id__22w57zzxlyi id__v2erisv109 id__54q3l1jmndn id__94xjfijetem id__30p93oh3a0q id__aeda2lzw2tj id__n2ejpx24ji id__bgq94gheai id__bym3u9gp1zf id__e1vg9a2zvcu id__pgwk6qic06k id__w5o47kxrvvt" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/grhmc" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1428169731475918852/PvkrpMOw_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Would objects encrypted with KMS be fetchable by support too?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707300036689924" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:35.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/EmilyGorcenski/status/1473707300036689924" itemprop="url"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="isPartOf"/><div><article aria-labelledby="id__xes19y6e2sp id__ulsu53upvrq id__djh3wx92zd8 id__lit9s8encwg id__4mfmw237giy id__8eo20cxabol id__2911d1osutl id__munombp0bq id__vd02gr3rsl id__6e54h12cyga id__8q1cohq661v id__er6wcac5nji id__re5o4bw3t" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/EmilyGorcenski" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1411586357781204992/1Bq162C2_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Yes but not readable, Iâ€™d imagine</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707159825301514" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1316910366249652227" itemprop="isBasedOn"/><div><article aria-labelledby="id__rqktjeyx7k8 id__ot10944c9oh id__os884z71gd id__c0a0pgvb93o id__odrivxg391 id__w0bypn6w3n id__e2s1looc4vh id__lrn49c9iro id__2unuzt8uzi2 id__w6d6dloll3s id__0n504xqfc9ki id__5fhr4asyun id__4m6f5ululg3" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/0xdabbad00" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1467570136034918404/NtJIHkgn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed.</span></p></div></div><div><div aria-labelledby="id__dq8miv8yxtg id__o07omgabwyg" id="id__w6d6dloll3s"><div><div id="id__dq8miv8yxtg"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>ReadOnlyAccess just had 83 privileges deleted from it. </span><img alt="ðŸ˜®" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f62e.svg"/><span> That&#39;s abnormal. Hope this doesn&#39;t break anything. Also apparently there were 3 changes in the past 4 hours to that policy. twitter.com/mamip_aws/statâ€¦</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473708325107871751" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:33:39.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:33:39.000Z" itemprop="datePublished"/><meta content="https://twitter.com/marekq/status/1473708325107871751" itemprop="url"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isPartOf"/><div><article aria-labelledby="id__c5b3w3u9719 id__d2pk49o7xv id__ch7vfwk1he id__qr8hmxiwcx id__zjxugo8wnn id__h78lr0lai8r id__7nt901gdmg id__152b0ybn53i id__q03e0xx3jft id__jltfhkmraxi id__d2xmxu99x44 id__shci0qpbylj id__l12djqr5o5" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/marekq" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1451484887144337426/IHZIvEfU_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__q03e0xx3jft"><p><span>I would love to see </span></p><p><span> &#39;s thoughts about this. I don&#39;t think there&#39;s a change log or anything else where we can understand what AWS is doing here.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707161469530120" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:02.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:02.000Z" itemprop="datePublished"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__kjzobzfkpe id__svins4496t id__yspmpv4icnn id__d0vm0bmap6p id__2p3oyvbukjq id__j8v9akrbk3k id__qhj0o8oe5u id__du3scbk46hb id__qs8pulfmn6m id__2a6zw81o2yr id__6tpd3qnsfo id__10tv62vk262 id__15ny8rxpad5" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/michaelasmith" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/612778074157903872/vuKTjoHD_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Hold on what if it&#39;s KMS encrypted?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473711038478573569" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:44:26.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:44:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/keefybabe/status/1473711038478573569" itemprop="url"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="isPartOf"/><div><article aria-labelledby="id__ox9hv1gyxh id__jt8g4e08m7n id__tihlgdhxts id__t2apstcgwbl id__zp176jhpq2s id__ju4m9d02uz id__hynenih0ff id__pwpg2h0707f id__1sbhoeyq6zh id__jfppc9w56o id__wr6nhorrl1 id__2286t5li1fd id__7av0bjd9r6" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/keefybabe" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1440943956695691264/6JoG2xky_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>That&#39;s a fair question, do they have KMS read access too? If not, it could be custom key time for people.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473710357369831429" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:41:44.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:41:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__wesmsysn7m id__c5x0hl8j295 id__vcfmwxmcye id__ubviu4tskyn id__dvai62r9gyq id__itroy933kgl id__c1tuu6y8xrb id__3qumujqsq8c id__zx158trk8pd id__ri2ex65av69 id__fforewq5ia9 id__1qznduin57a id__knypqba496j" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/DazedProgrammer" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/960998618865065984/WN-nHeGn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Does GovCloud use this role as well? Inquiring minds want to know.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473717476559097866" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T18:10:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T18:10:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/donnyspi/status/1473717476559097866" itemprop="url"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="isPartOf"/><div><article aria-labelledby="id__mgnue31ldv id__9y9t3kn9f2r id__zxo6g92qwl id__ik6bzc7ilg id__rmn9fnjajsj id__w3t73seph6q id__jblhgvf3pg id__vmz9q27zm6 id__g6zo5eaad59 id__29hl98h3euw id__uvzbvvhcc0c id__hrc79v8zqz9 id__s4f5vb31bvd" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/donnyspi" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/857025278152978434/Q5093ESW_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>i just checked and that role in GovCloud does not have s3:GetObject</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
