<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/QuinnyPig/status/1473705669517791253">Original</a>
    <h1>AWS Support able to access any S3 object due to permission change</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-59267" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473705669517791253" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="28" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:23:06.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:23:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="mainEntityOfPage"/><meta content="https://twitter.com/0xdabbad00/status/1473448889948598275" itemprop="isBasedOn"/><div><article aria-labelledby="id__2dcq52ajhae id__jecgkjbfu2 id__j7mlwz1qmy id__xndnu0g0oco id__thnlbff6wxk id__dfw38fvgel id__uorp3o9xdbl id__3tvj8li6y4v id__2dsz8tlhqi id__w8sjnnz8um id__h9vnmwygtnt id__w5c2erxf7fj id__uwtzp87jjz" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><div lang="en" dir="auto" id="id__2dsz8tlhqi"><p><span>Just to be clear here, this means that for a time </span></p><p><span> support was able to read all of your S3 data. There is no mitigation; this role is mandatory. 

If you had CloudTrail data events enabled, you can audit. If you didnâ€™t, it may be time to declare a security incident.</span></p></div></div></div></div><div><div aria-labelledby="id__m5ea7ko6jx id__ed8d18ksqkt" id="id__w8sjnnz8um"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/FHOnfp1WYAUSkqA?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div><div><div id="id__m5ea7ko6jx"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>AWSSupportServiceRolePolicy just got s3:GetObject. </span><img alt="ðŸ˜±" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f631.svg"/><span> That role is supposed to only have metadata visibility. </span><span><span dir="ltr">@AWSSecurityInfo</span></span><span> you need to roll that back. twitter.com/mamip_aws/statâ€¦</span></p><p><span>Show this thread</span></p></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473887418973446146" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="4" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-23T05:25:18.000Z" itemprop="dateCreated"/><meta content="2021-12-23T05:25:18.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473887418973446146" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__rf7o2ezuh1 id__g6pwan7swu id__rc6yw3j89a9 id__f4f2dyexevo id__gd2layjr5u9 id__lvev8k8e619 id__uum7ymz2gzl id__njjlapw1mo id__0kpw5li6k26b id__7obqho3jnxm id__5iui0sileci id__651lm1if83s id__qvqo0g2kmj" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__0kpw5li6k26b"><p><span>If </span></p><p><span> doesnâ€™t comment on this, I absolutely will. 

You owe your customers a response. Donâ€™t pull an </span></p><p><span> on this one.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706710288244741" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:27:14.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:27:14.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__81qsmos5rqm id__voevjky513b id__qejftw8ot7m id__abj43dz6y8r id__jhrrr5dfnhb id__csfdet6kx7k id__34m8lh5cjcc id__keamlifbjxs id__q1lsz14zzbq id__syf2a3w3hgn id__07i91i71c9hm id__xdjztp8qntq id__nozzombfylp" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>AFAIK one could override the &#34;allow&#34; with an explicit deny (resource policy), or by deleting the role, or by SCPs. But I don&#39;t think average AWS users do this (since they trust AWS not to mess around)</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707708415156230" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:31:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:31:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473707708415156230" itemprop="url"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isBasedOn"/><div><article aria-labelledby="id__wm9o9i2totb id__lpv0hn0tby id__ibl787o6n2i id__f11vxujwbwe id__mmyc113x9ad id__map9x7out id__t0rj61pcqze id__1k9sy3zris4 id__n0pncny298m id__7nu5qalezbt id__ei9otmlsbel id__x6w0fs01myd id__4eflisfze" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Ah, TIL SCPs don&#39;t affect service-linked roles...</span></p></div></div><div><div aria-labelledby="id__pikzmj9zxd9 id__m0csqho9d9" id="id__7nu5qalezbt"><div><div id="id__pikzmj9zxd9"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @QuinnyPig <span>and</span> @awscloud</p><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed. </span><span dir="ltr"><span aria-hidden="true">https://</span>twitter.com/0xdabbad00/sta<span aria-hidden="true">tus/1316910366249652227</span><span aria-hidden="true">â€¦</span></span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706952375115777" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:28:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:28:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__oq8i8cvm9z id__xmz09pku33s id__lmfr3bxb9si id__z2grh69tl2 id__vyhyvev9kjk id__qca2ri8dg2n id__mbsh7izk21s id__72b90x37qov id__1jpa0wpa8ski id__49ed6horu5q id__j4nzeuqb9x id__s98t8fnntdn id__ggm1fvlsnhi" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/grhmc" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1428169731475918852/PvkrpMOw_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Would objects encrypted with KMS be fetchable by support too?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707300036689924" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:35.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/EmilyGorcenski/status/1473707300036689924" itemprop="url"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="isPartOf"/><div><article aria-labelledby="id__jommcbb0oqj id__mqduy97eejt id__96r1kt9p6ja id__uk02enzoa3q id__pg7aq8j37i id__a15bqh9h1xw id__i9t1h36mt id__23b4wrz4x9b id__x49ffstbxfd id__bs15m7q8d0f id__bsjkb3gzs0m id__ncln6w78trp id__f2ra8fw7s1" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/EmilyGorcenski" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1411586357781204992/1Bq162C2_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Yes but not readable, Iâ€™d imagine</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707159825301514" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1316910366249652227" itemprop="isBasedOn"/><div><article aria-labelledby="id__6pixexvvp5 id__f8jw0murbiv id__dgtchqq7c38 id__xfhl6f28jck id__z20dg6fhpub id__m72hbno3oel id__t21gm7in8gp id__91ygnwb1s0j id__tif5aegnc id__o67linrtq5 id__nweic8fghx9 id__n4mt2vguoxg id__w2t2lbtr2h" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/0xdabbad00" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1467570136034918404/NtJIHkgn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed.</span></p></div></div><div><div aria-labelledby="id__q2vuhkv9j4h id__7xs5ep0l54f" id="id__o67linrtq5"><div><div id="id__q2vuhkv9j4h"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>ReadOnlyAccess just had 83 privileges deleted from it. </span><img alt="ðŸ˜®" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f62e.svg"/><span> That&#39;s abnormal. Hope this doesn&#39;t break anything. Also apparently there were 3 changes in the past 4 hours to that policy. twitter.com/mamip_aws/statâ€¦</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473708325107871751" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:33:39.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:33:39.000Z" itemprop="datePublished"/><meta content="https://twitter.com/marekq/status/1473708325107871751" itemprop="url"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isPartOf"/><div><article aria-labelledby="id__1zeth2smcur id__qj4bhtno5 id__3db9be6ooc9 id__ei26qxze3zb id__01vstrrhkhpt id__649gm2d39ii id__ggwk5kj51y id__9x0v9gygro id__dkmwnt14jn id__21amq8fm0hm id__f0ijeyvkwt id__uts05roxzxh id__8ymxjtch91i" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/marekq" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1451484887144337426/IHZIvEfU_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__dkmwnt14jn"><p><span>I would love to see </span></p><p><span> &#39;s thoughts about this. I don&#39;t think there&#39;s a change log or anything else where we can understand what AWS is doing here.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707161469530120" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:02.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:02.000Z" itemprop="datePublished"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__x0y3pwt365o id__9qs5bat56z id__kstnk0ds7o id__mervh1vcavs id__hjtki7hi2yv id__19sgztnnq2j id__or9nrehbk78 id__nyqxiaez1tl id__ysn80rh2zyi id__w3dluv9tcz9 id__hap432xzboa id__p2h0ucve27o id__rnirboraesi" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/michaelasmith" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/612778074157903872/vuKTjoHD_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Hold on what if it&#39;s KMS encrypted?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473711038478573569" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:44:26.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:44:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/keefybabe/status/1473711038478573569" itemprop="url"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="isPartOf"/><div><article aria-labelledby="id__xh3c4mikwt id__ywap9yj1mzs id__hclxtiuq9m9 id__2t48tlw9eq6 id__r8dcg2rmd8h id__gvj87ph32uw id__pctouhp3i0a id__vsf580zy4x id__4aa13mhy5xp id__vszbn8cs4l id__let7cnulcp id__t7vefiicrh7 id__q2h0embcywl" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/keefybabe" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1440943956695691264/6JoG2xky_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>That&#39;s a fair question, do they have KMS read access too? If not, it could be custom key time for people.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473710357369831429" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:41:44.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:41:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__fj906nyc07l id__9a22q90lqc7 id__y9vezma84rp id__v91o0j8lk8k id__idjs2gsm4z id__nsdjthzlq8 id__hayp9mmkfdj id__hc8dxb6n209 id__yc2esxk2vkj id__5cn17jl5lv5 id__1sxv29dj4cq id__bd2e4ddfqtl id__mi4odd74dm" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/DazedProgrammer" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/960998618865065984/WN-nHeGn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Does GovCloud use this role as well? Inquiring minds want to know.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473717476559097866" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T18:10:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T18:10:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/donnyspi/status/1473717476559097866" itemprop="url"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="isPartOf"/><div><article aria-labelledby="id__mhon0vo7g4n id__wnn7sxveg8 id__4yt00ff31io id__7dp15bqoj1 id__h1i70c145m9 id__h5ovpv51eem id__55ckead0bc id__qlvkiispbwf id__9rqyshy4zlv id__can584d9ia6 id__tejatsa225 id__daw2n1gtka id__9ui1pezoqf" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/donnyspi" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/857025278152978434/Q5093ESW_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>i just checked and that role in GovCloud does not have s3:GetObject</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
