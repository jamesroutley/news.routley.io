<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/QuinnyPig/status/1473705669517791253">Original</a>
    <h1>AWS Support able to access any S3 object due to permission change</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-1963" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473705669517791253" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="32" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:23:06.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:23:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="mainEntityOfPage"/><meta content="https://twitter.com/0xdabbad00/status/1473448889948598275" itemprop="isBasedOn"/><div><article aria-labelledby="id__cmoa7rtzww7 id__e4x0ca9155m id__bx6hkndo37 id__7aad7vj9inp id__9784hx20zsh id__vowu7g7x7a id__1wkaaeasf2r id__enxlk7pui2v id__eqjtquda3e id__9mo9lls1dwm id__1n02c4kfnxs id__5ttq46xig9s id__ciptevogqe" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><div lang="en" dir="auto" id="id__eqjtquda3e"><p><span>Just to be clear here, this means that for a time </span></p><p><span> support was able to read all of your S3 data. There is no mitigation; this role is mandatory. 

If you had CloudTrail data events enabled, you can audit. If you didnâ€™t, it may be time to declare a security incident.</span></p></div></div></div></div><div><div aria-labelledby="id__8rthbiqresa id__3velipftbm2" id="id__9mo9lls1dwm"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Image" data-testid="tweetPhoto"><p><img alt="Image" draggable="true" src="https://pbs.twimg.com/media/FHOnfp1WYAUSkqA?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div><div><div id="id__8rthbiqresa"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>AWSSupportServiceRolePolicy just got s3:GetObject. </span><img alt="ðŸ˜±" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f631.svg"/><span> That role is supposed to only have metadata visibility. </span><span><span dir="ltr">@AWSSecurityInfo</span></span><span> you need to roll that back. twitter.com/mamip_aws/statâ€¦</span></p><p><span>Show this thread</span></p></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473887418973446146" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="5" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-23T05:25:18.000Z" itemprop="dateCreated"/><meta content="2021-12-23T05:25:18.000Z" itemprop="datePublished"/><meta content="https://twitter.com/QuinnyPig/status/1473887418973446146" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__k0l7c0w8zz id__2195cbr3wrk id__gwl48p19bpb id__nt44qln9h4a id__evh28pvazt id__lo0kam8mcqa id__f86ath40r8j id__lkmc87jzd5n id__eqjp8wktmhv id__eutpro01zg id__tn1vsn9q6l id__x9jmm7a32d id__tcafwfkaovc" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/QuinnyPig" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1431046769262006274/7GJFLo-A_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__eqjp8wktmhv"><p><span>If </span></p><p><span> doesnâ€™t comment on this, I absolutely will. 

You owe your customers a response. Donâ€™t pull an </span></p><p><span> on this one.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706710288244741" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:27:14.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:27:14.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__t3gzioo23uc id__80oxmj3j1s id__x2vcce5ds6 id__0tus5i2clo89 id__vup0we329sq id__cz3a936byp9 id__15frt04ojbo id__hcmwk3l1cx id__4r29t0yhf5g id__xlrqhnutq6 id__up3jp5zgvnk id__j880tr9nzt id__fyjh15go53a" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>AFAIK one could override the &#34;allow&#34; with an explicit deny (resource policy), or by deleting the role, or by SCPs. But I don&#39;t think average AWS users do this (since they trust AWS not to mess around)</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707708415156230" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:31:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:31:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/s0enke/status/1473707708415156230" itemprop="url"/><meta content="https://twitter.com/s0enke/status/1473706710288244741" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isBasedOn"/><div><article aria-labelledby="id__0tn90oewu2li id__ogjqyqmlppn id__ycznu4l2sen id__o2rqc5n5yk id__busc1wrr1qe id__9rgkci8flnh id__3jbrhu2zoui id__hp0jws1yiqb id__c41rtitvcqe id__j9ucoh4j2d id__m77qi8j7th id__763qi2vpy1v id__ov9zr1n2enp" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/s0enke" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1466540691555864579/AheepaTT_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Ah, TIL SCPs don&#39;t affect service-linked roles...</span></p></div></div><div><div aria-labelledby="id__v9ua7juo90r id__5kkgti28rsa" id="id__j9ucoh4j2d"><div><div id="id__v9ua7juo90r"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @QuinnyPig <span>and</span> @awscloud</p><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed. </span><span dir="ltr"><span aria-hidden="true">https://</span>twitter.com/0xdabbad00/sta<span aria-hidden="true">tus/1316910366249652227</span><span aria-hidden="true">â€¦</span></span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473706952375115777" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:28:12.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:28:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__sfz8awes7mc id__9buxj6qrwq id__4qvst8unfvs id__8keil8jvijj id__ombthnev2r9 id__r13bjnhbgcs id__ysyjxubu0yb id__4e1xy7b4xkt id__j6nv8qfh5e id__tocgqrbrmrr id__gih9epgb9k9 id__dmbwyfbp1q id__dslv88bz22" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/grhmc" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1428169731475918852/PvkrpMOw_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Would objects encrypted with KMS be fetchable by support too?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707300036689924" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:35.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/EmilyGorcenski/status/1473707300036689924" itemprop="url"/><meta content="https://twitter.com/grhmc/status/1473706952375115777" itemprop="isPartOf"/><div><article aria-labelledby="id__pjfu9ni7l7a id__45xuxzjdd7t id__qp3bpv78i8d id__frf81n23gmw id__4f55ti3lx72 id__g2io21p2xam id__kxwg0q3cnq id__nz8otr0ivpo id__zyvq99jd3fs id__z42c6ip9id9 id__gad6t6hf0uh id__asoh74uot2q id__mnoyitcb8m" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/EmilyGorcenski" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1411586357781204992/1Bq162C2_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Yes but not readable, Iâ€™d imagine</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707159825301514" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><meta content="https://twitter.com/0xdabbad00/status/1316910366249652227" itemprop="isBasedOn"/><div><article aria-labelledby="id__y30q9gpj1l id__uidjjxeb8om id__k6zezg8hi1o id__umoxa31nht id__iid5sxjuvj id__u40o3fdvj0g id__mhqkz4f9tjb id__wgesnqcq82r id__jqq2rbezrl id__17bsrxw8ykw id__1na8fsnosf4 id__f7ozi5ogvgg id__alut2bhoao6" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/0xdabbad00" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1467570136034918404/NtJIHkgn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>And because this is a &#34;service linked role&#34;, even SCPs cannot impact it. 

AWS has shown again and again that they have insufficient change controls on managed policies. Worst previous example was ReadOnlyAccess being completely changed.</span></p></div></div><div><div aria-labelledby="id__hhavcs2kcj5 id__kfl16eukj6" id="id__17bsrxw8ykw"><div><div id="id__hhavcs2kcj5"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span>ReadOnlyAccess just had 83 privileges deleted from it. </span><img alt="ðŸ˜®" draggable="false" src="https://abs-0.twimg.com/emoji/v2/svg/1f62e.svg"/><span> That&#39;s abnormal. Hope this doesn&#39;t break anything. Also apparently there were 3 changes in the past 4 hours to that policy. twitter.com/mamip_aws/statâ€¦</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473708325107871751" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:33:39.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:33:39.000Z" itemprop="datePublished"/><meta content="https://twitter.com/marekq/status/1473708325107871751" itemprop="url"/><meta content="https://twitter.com/0xdabbad00/status/1473707159825301514" itemprop="isPartOf"/><div><article aria-labelledby="id__9bgv3n32vjp id__kus0n5nocjn id__6sxgkvskc9 id__2l3ruargkge id__kqz0hdn3uz id__ruya218l8g id__curjl8sd4fq id__hb1h1v8drck id__ju7znajc5t id__dmrg2nd3gvu id__v7t7zwbuvqi id__mety2febj3 id__dynbnput6da" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/marekq" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1451484887144337426/IHZIvEfU_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><div lang="en" dir="auto" id="id__ju7znajc5t"><p><span>I would love to see </span></p><p><span> &#39;s thoughts about this. I don&#39;t think there&#39;s a change log or anything else where we can understand what AWS is doing here.</span></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473707161469530120" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:29:02.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:29:02.000Z" itemprop="datePublished"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__ibp8785wz6k id__qm0jhep92a id__dkzl7d8ufqd id__oigvh2abx4 id__c7jhbc80hq id__v8kicdksf1 id__nq5j3twr07 id__br3d4s3shs6 id__tnjt43458co id__9pora6aov95 id__ma43qjkz9u id__o99mnt7vjd id__vvcvzbr9q6" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/michaelasmith" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/612778074157903872/vuKTjoHD_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Hold on what if it&#39;s KMS encrypted?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473711038478573569" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:44:26.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:44:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/keefybabe/status/1473711038478573569" itemprop="url"/><meta content="https://twitter.com/michaelasmith/status/1473707161469530120" itemprop="isPartOf"/><div><article aria-labelledby="id__mx9f4syswx id__kz4s46o8fcc id__4xtub91kdyi id__cybmshm1lei id__p0vqzhi7y7l id__8fccuazetp id__8sxvxtjklh id__ezf9ri7t4rb id__664bl0nm72w id__y1b3ofo6j4 id__misttqv0cpk id__rluptzrcumd id__7yga8jdhxjp" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/keefybabe" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1440943956695691264/6JoG2xky_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>That&#39;s a fair question, do they have KMS read access too? If not, it could be custom key time for people.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473710357369831429" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T17:41:44.000Z" itemprop="dateCreated"/><meta content="2021-12-22T17:41:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="url"/><meta content="https://twitter.com/QuinnyPig/status/1473705669517791253" itemprop="isPartOf"/><div><article aria-labelledby="id__zswz6ioggsg id__rmxqpfixnel id__jv0qepintk id__pffdfqjrmke id__yt916haunc id__sdm29uqxeu8 id__enorvq8oaqw id__a0xy3jnvmof id__ebujxt9sxns id__cx05vnd3xkp id__v9injt7fx7m id__xe0vpkhjslc id__ca4ugpjqr7" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/DazedProgrammer" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/960998618865065984/WN-nHeGn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Does GovCloud use this role as well? Inquiring minds want to know.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1473717476559097866" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-22T18:10:01.000Z" itemprop="dateCreated"/><meta content="2021-12-22T18:10:01.000Z" itemprop="datePublished"/><meta content="https://twitter.com/donnyspi/status/1473717476559097866" itemprop="url"/><meta content="https://twitter.com/DazedProgrammer/status/1473710357369831429" itemprop="isPartOf"/><div><article aria-labelledby="id__fljzpqvq9e7 id__jnbk9asbcls id__fhxqrgkbhx7 id__gos5ceqvolf id__ll0pw5ufzfc id__2ct5qa54oye id__15fo3n4kndx id__qhgrdkxudig id__tyvzg3dbu2n id__tes7mu8i27l id__db2reuue15 id__lkcopclia6q id__ze5orxizkzr" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/donnyspi" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/857025278152978434/Q5093ESW_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>i just checked and that role in GovCloud does not have s3:GetObject</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
