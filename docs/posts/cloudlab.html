<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://figbert.com/projects/cloudlab/">Original</a>
    <h1>Cloudlab</h1>
    
    <div id="readability-page-1" class="page"><div><p>In the vast apparatus of the internet, I have my own little hideaway: an <a rel="noopener nofollow noreferrer" href="https://www.alpinelinux.org/" target="_blank">Alpine Linux</a> box hosted on <a rel="noopener nofollow noreferrer" href="https://www.hetzner.com/" target="_blank">Hetzner</a>. The website you’re reading lives on this very server, alongside numerous other personal services. Running these myself allows me to be completely independent of major service providers like Google, a choice with serious benefits for my privacy. It has also helped me accrue real-world experience with system administration—and <a href="https://figbert.com/posts/backups-update-internet-celebrity/">the crises</a> that occaisionally entails. Finally, owning a fixed amount of hardware means that there is zero marginal cost for additional services crammed into my alloted resources: this means the monthly cost of running my many programs remains well below market price.</p><p><img alt="Original todo item from Things.app" src="https://figbert.com/projects/cloudlab/things.png"/></p><p>My server setup would historically have been best described as a rickety shack, barely standing, upon which I would occaisionally try and haphazardly tack new services while hoping the whole thing wouldn’t come crashing down. This was sufficient for <a href="https://figbert.com/posts/i-wrote-this-three/#self-hosting">at least five years</a>. But at <a href="https://www.recurse.com/scout/click?t=0d85c06dc14f97552f2130471d4e3086" rel="noopener nofollow noreferrer" target="_blank">Recurse</a>, I became fed up with the status quo.</p><p>I explored a few radically different systems. <a rel="noopener nofollow noreferrer" href="https://www.frankchiarulli.com/" target="_blank">Frank</a> pointed me in the direction of <a rel="noopener nofollow noreferrer" href="https://www.talos.dev/" target="_blank">Talos</a>, and I played around with setting up a one-machine cluster. But <a rel="noopener nofollow noreferrer" href="https://wolfesoftware.com/" target="_blank">Josh</a> asked me if I really needed all that baggage, and truth be told I didn’t. So I returned my focus to trusty <a rel="noopener nofollow noreferrer" href="https://docs.docker.com/compose/" target="_blank">Docker Compose</a>—and toward minimalism, pattern, and clear structure.</p><p>That structure employs a number of axioms: “All services are run in containers” (<a rel="noopener nofollow noreferrer" href="https://syncthing.net/" target="_blank">file storage</a> and <a rel="noopener nofollow noreferrer" href="https://www.tarsnap.com/" target="_blank">backups</a> having been the big exceptions previously), “configuration and <a rel="noopener nofollow noreferrer" href="https://getsops.io/" target="_blank">secrets</a> get committed”, “no building images on the server”… Really, I can’t say it better than <a rel="noopener nofollow noreferrer" href="https://github.com/FIGBERT/cloudlab/commit/cf37f4b3e0f4a7e014cb57e252d6e65860143469" target="_blank">I already did</a> during development, when I wrote long commit messages and thorough documentation.</p><p><img alt="Me, feeling very confident in a Zulip check-in" src="https://figbert.com/projects/cloudlab/zulip.png"/></p><p>I also upgraded my server during this transition. I investigated a move to the United States, but found that resources prices here vastly outpaced the rest of the world. So I made a different move: to the ARM architecture. Miraculously, I now get double my old resources at the same price. More than enough for my email, calendar, websites, and anything else I’ve thought of throwing at it over the years.</p><p>There is still room for improvement in this setup. As part of a renewed commitment to elegance, I dropped my janky self-hosted <code>git</code> setup and do not yet have <a href="https://figbert.com/posts/ideating-tragit/">a good alternative</a>. And getting the server prepared entailed some minor setup work which should be controlled in a declarative and versioned fashion alongside the rest. But <a rel="noopener nofollow noreferrer" href="https://nixos.org/" target="_blank">that rabbit hole</a> seems too deep for even me at the moment… It will have to wait until next summer.</p><p>Check out <a rel="noopener nofollow noreferrer" href="https://github.com/figbert/cloudlab" target="_blank">the code</a> for your own self-hosting inspiration!</p></div></div>
  </body>
</html>
