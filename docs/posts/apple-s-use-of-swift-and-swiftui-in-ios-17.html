<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.timac.org/2023/1019-state-of-swift-and-swiftui-ios17/">Original</a>
    <h1>Apple&#39;s use of Swift and SwiftUI in iOS 17</h1>
    
    <div id="readability-page-1" class="page"><div>
    <p>Now that iOS 17 is available, let’s analyze its built-in apps to answer a few questions: How many binaries are in iOS 17? Which programming languages are used to develop these apps? How many apps are written with Swift? What is the percentage of apps using SwiftUI versus UIKit?</p>

<p>The methodology and tools to create this article have been detailed in my previous posts. If you are interested, please refer to:</p>
<ul>
<li><a href="https://blog.timac.org/2022/0818-state-of-appkit-catalyst-swiftui-mac/">Apple’s use of AppKit, Mac Catalyst and SwiftUI in macOS</a></li>
<li><a href="https://blog.timac.org/2020/1019-evolution-of-the-programming-languages-from-iphone-os-to-ios-14/">Evolution of the programming languages from iPhone OS 1.0 to iOS 14</a></li>
<li><a href="https://blog.timac.org/2016/1101-apples-use-of-swift-in-ios-10-1-and-macos-10-12/">Apple’s use of Swift in iOS 10.1 and macOS 10.12</a>.</li>
</ul>
<p>Before jumping into the details, let’s clarify a few points:</p>
<ul>
<li>
<p>I only analyzed what is commonly called ‘iOS’, i.e. everything above the kernel. The XNU kernel and low-level firmwares are not included. Note that this year, I analyzed the Secure Enclave.</p>
</li>
<li>
<p>I counted the frameworks located inside the dyld shared cache, a mechanism introduced in iPhone OS 3.1.</p>
</li>
<li>
<p>Keep in mind that a developer can mix different programming languages to create one binary. One example is a Mac app I developed, <a href="https://apps.apple.com/app/dependencies/id1538972026">Dependencies</a>, where I use Swift, Objective-C, C++, and C, the most appropriate programming language used to solve each specific problem. In this article, an app containing a single line of Swift code will be counted as using Swift.</p>
</li>
<li>
<p>You will see mentions of Objective-C and C++ but you might notice the absence of Objective-C++. The approach used here can’t really detect binaries built with Objective-C++. Such binaries are counted as using both Objective-C and C++.</p>
</li>
<li>
<p>Finally, you should take this analysis with a grain of salt. While I believe the overall picture to be accurate, my approach has some limitations because I don’t have access to the iOS source code and relied on imprecise compilation artifacts.</p>
</li>
</ul>

<p>Let’s first answer a simple question: How many binaries are in iOS 17? The number of binaries composing iOS continues to increase: iOS 17 contains 6030 binaries, up from 5403 in iOS 16. That’s 627 new binaries.</p>



<p>Unsurprisingly, there has been a significant increase in the number of apps adopting SwiftUI this year. Notable mentions include:</p>
<ul>
<li>The Preferences app with several of its bundles (StorageSettingsUI, WallpaperSettings, MultitaskingAndGesturesSettings, ThirdPartyApplicationSettings, ActionButtonSettings, …)</li>
<li>Several binaries related to Health (Health.app, HealthUI, MentalHealthUI, WorkoutUI, …)</li>
<li>The Home app, which appears to have undergone some major changes (Home.app, HomeEnergyUI, HomeUICommon, HomeDataModel, HomeAccessoryControlUI, …)</li>
<li>The support for the new Action button (ActionButtonSettings, ActionButtonConfigurationUI, …)</li>
<li>Additionally, several other important apps, such as Calendar and Reminders, are now using SwiftUI</li>
</ul>
<p>In iOS 16, only 4 apps used the SwiftUI-based app lifecycle. In iOS 17, this figure has grown to 14 apps:</p>
<pre><code>/Applications/Batteries.app/Batteries
/Applications/ClarityCamera.app/ClarityCamera
/Applications/ClarityPhotos.app/ClarityPhotos
/Applications/FinanceUIService.app/FinanceUIService
/Applications/FTMInternal-4.app/FTMInternal-4
/Applications/MusicRecognition.app/MusicRecognition
/Applications/PASViewService.app/PASViewService
/Applications/Preferences.app/Preferences
/Applications/SafetyMonitorApp.app/SafetyMonitorApp
/Applications/ShazamEventsApp.app/ShazamEventsApp
/Applications/WorkoutRemoteViewService.app/WorkoutRemoteViewService
/private/var/staged_system_apps/Weather.app/Weather
/System/Library/CoreServices/AegirProxyApp.app/AegirProxyApp
/System/Library/CoreServices/ShortcutsActions.app/ShortcutsActions
</code></pre>
<p>The Swift and SwiftUI adoption continues its climb: iOS 17 now contains 385 binaries using SwiftUI. Likewise the number of binaries containing at least one line of Swift code increased by 50% between iOS 16 and iOS 17:</p>



<p>By analyzing all major releases of iOS from iPhone OS 1.0 to iOS 17, we can see the evolution of the programming languages used by iOS. Again please note that a single binary can be counted multiple times, so the sum of the binaries in this graph is greater than the total number of binaries:</p>


<p>Some trends can be better visualized by displaying percentages:</p>


<p>What can we learn from these graphs?</p>
<ul>
<li>Objective-C is still at the core of iOS and is used directly or indirectly by most apps</li>
<li>The adoption of Swift and SwiftUI continues to grow rapidly</li>
<li>The share of Objective-C, C and C++ continues to decrease</li>
</ul>

<p>Up until now, we compared SwiftUI to all binaries. SwiftUI being a UI framework, it would be fairer to compare it to other binaries displaying some UI. Native iOS apps can be built with 2 different UI frameworks: UIKit and SwiftUI (note that it is possible to mix both). My approach to count the number of binaries containing UI is not perfect but should give an approximate trend: I simply check if the binaries link against the UIKit or SwiftUI frameworks.</p>
<p>For the first time, the number of binaries exclusively using UIKit has decreased in comparison to the previous year:</p>


<p>By displaying percentages, we can confirm that SwiftUI is clearly increasing in Apple’s own apps:</p>



<p>The Secure Enclave is a hardware-based security component, isolated from the main processor to provide an extra layer of security. It was initially introduced with the iPhone 5S to ensure the security of sensitive user data, playing a critical role for Touch ID, Face ID, and Apple Pay.</p>
<p>In the <a href="https://developer.apple.com/videos/play/wwdc2022/110354/"><code>What&#39;s new in Swift</code> session (5:35)</a> of the WWDC22, Apple stated that Swift is now suitable for restricted environments like the Secure Enclave Processor:</p>
<p><img src="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/WWDC2022.png" alt=""/></p>
<p>In iOS 17, the Secure Enclave contains 19 binaries, and to my surprise, none of them are using Swift:</p>


<p>So is Swift used in the Secure Enclave? Yes! It turns out that the <code>hibernation</code> binary in macOS Ventura is using Swift:</p>



<p>You can download below the raw data I generated for all major releases of iOS from iPhone OS 1.0 to iOS 17.0.</p>
<table>
<thead>
<tr>
<th>Version</th>
<th>Device</th>
<th>Raw Data</th>
</tr>
</thead>
<tbody>
<tr>
<td>iOS 17.0.2 (21A350)</td>
<td>iPhone 15 Pro</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS17.txt">iOS17.txt</a></td>
</tr>
<tr>
<td>iOS 16.0.2 (20A380)</td>
<td>iPhone 14 Pro</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS16.txt">iOS16.txt</a></td>
</tr>
<tr>
<td>iOS 15.0 (19A346)</td>
<td>iPhone 13 Pro</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS15.txt">iOS15.txt</a></td>
</tr>
<tr>
<td>iOS 14.0 (18A373)</td>
<td>iPhone X</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS14.txt">iOS14.txt</a></td>
</tr>
<tr>
<td>iOS 13.1 (17A844)</td>
<td>iPhone X</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS13.txt">iOS13.txt</a></td>
</tr>
<tr>
<td>iOS 12.0 (16A366)</td>
<td>iPhone X</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS12.txt">iOS12.txt</a></td>
</tr>
<tr>
<td>iOS 11.1 (15B93)</td>
<td>iPhone X</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS11.txt">iOS11.txt</a></td>
</tr>
<tr>
<td>iOS 10.1 (14B72)</td>
<td>iPhone 5s</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS10.txt">iOS10.txt</a></td>
</tr>
<tr>
<td>iOS 9.0 (13A344)</td>
<td>iPhone 5s</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS9.txt">iOS9.txt</a></td>
</tr>
<tr>
<td>iOS 8.0 (12A365)</td>
<td>iPhone 5s</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS8.txt">iOS8.txt</a></td>
</tr>
<tr>
<td>iOS 7.0.1 (11A470a)</td>
<td>iPhone 5s</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS7.txt">iOS7.txt</a></td>
</tr>
<tr>
<td>iOS 6.0 (10A403)</td>
<td>iPhone 3GS</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS6.txt">iOS6.txt</a></td>
</tr>
<tr>
<td>iOS 5.0 (9A334)</td>
<td>iPhone 3GS</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS5.txt">iOS5.txt</a></td>
</tr>
<tr>
<td>iOS 4.0 (8A293)</td>
<td>iPhone 3GS</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS4.txt">iOS4.txt</a></td>
</tr>
<tr>
<td>iPhone OS 3.0 (7A341)</td>
<td>iPhone 3GS</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS3.txt">iOS3.txt</a></td>
</tr>
<tr>
<td>iPhone OS 2.0 (5A347)</td>
<td>iPhone 2G</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS2.txt">iOS2.txt</a></td>
</tr>
<tr>
<td>iPhone OS 1.0 (1A543a)</td>
<td>iPhone 2G</td>
<td><a href="https://jakelazaroff.com/words/making-crdts-98-percent-more-efficient/iOS1.txt">iOS1.txt</a></td>
</tr>
</tbody>
</table>

<p>Even though we don’t have access to the iOS source code, we can determine the programming languages used to create the built-in apps in iOS and we can measure the evolution of these languages from iPhone OS 1.0 to iOS 17.</p>
<p>Swift and SwiftUI adoptions continue their growth: the number of binaries using these frameworks increased by 50% between iOS 16 and iOS 17. Another good sign of dogfooding is the more widespread use of the SwiftUI-based app lifecycle. Also for the first time, the number of binaries exclusively using UIKit has decreased in comparison to the previous year.</p>
<p>In the upcoming years, it will be interesting to observe whether Swift begins to spread into low-level firmware, such as the Secure Enclave. Currently, Swift is absent from the Secure Enclave in iOS, although macOS does incorporate it.</p>
<p>As previously mentioned, this approach has obviously some limits and while I believe the overall picture to be accurate, I can’t guarantee that the results are perfectly exact. If you think that I missed something, please <a href="https://mastodon.social/@timac">reach out to me on Mastodon @timac@mastodon.social</a>.</p>
</div></div>
  </body>
</html>
