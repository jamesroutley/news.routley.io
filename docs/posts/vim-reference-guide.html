<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://learnbyexample.github.io/vim_reference/Introduction.html">Original</a>
    <h1>Show HN: Vim Reference Guide</h1>
    
    <div id="readability-page-1" class="page"><nav id="sidebar" aria-label="Table of contents"></nav><div id="page-wrapper"><div class="page"><div id="content"><main><p>Back in 2007, I had a rough beginning as a design engineer at a semiconductor company in terms of software tools. Linux command line, Vim and Perl were all new to me. I distinctly remember progressing from <kbd>dd</kbd> (delete current line) to <kbd>d↓</kbd> (delete current line as well as the line below) and feeling happy that it reduced time spent on editing. Since I was learning on the job, I didn&#39;t know about count prefix or the various ways I could&#39;ve deleted all the lines from the beginning of the file to the line containing a specific phrase. Or even better, I could&#39;ve automated editing multiple files if I had been familiar with <code>sed</code> or progressed that far with Perl.</p><p>I also remember that we got a two-sided printed cheatsheet that we kept pinned to our cabins. That was one of the ways I kept adding commands to my repertoire. But, I didn&#39;t have a good insight to Vim&#39;s philosophy and I didn&#39;t know how to apply many of the cheatsheet commands. At some point, I decided to read the <a href="http://www.oualline.com/vim-book.html">Vim book by Steve Oualline</a> and that helped a lot, but it was also too long and comprehensive for me to read it all. My memory is hazy after that, and I don&#39;t recall what other resources I used. However, I&#39;m sure I didn&#39;t effectively utilize built-in help. Nor did I know about <a href="https://stackoverflow.com/questions/tagged/vim">stackoverflow</a> or <a href="https://www.reddit.com/r/vim/">/r/vim</a> until after I left my job in 2014.</p><p>Still, I knew enough to conduct a few Vim learning sessions for my colleagues. That came in handy when I got chances to teach Vim as part of scripting course for college students. From 2016 to 2018, I started maintaining my tutorials on Linux command line, Vim and scripting languages as GitHub repos. As you might guess, I then started polishing these materials and <a href="https://learnbyexample.github.io/books/">published them as ebooks</a>. This is an ongoing process, with <strong>Vim Reference Guide</strong> being the twelfth ebook.</p><h2 id="why-vim"><a href="#why-vim">Why Vim?</a></h2><p>You&#39;ve probably already heard that Vim is a text editor, powerful one at that. Vim&#39;s editing features feel like a programming language and you can customize the editor using scripting languages. Apart from plethora of editing commands and support for regular expressions, you can also incorporate external commands. To sum it up, most editing tasks can be managed from within Vim itself instead of having to write a script.</p><p>Now, you might wonder, what is all this need for complicated editing features? Why does a text editor require programming capabilities? Why is there even a requirement to <em>learn</em> how to use a text editor? Isn&#39;t it enough to have the ability to enter text, use Backspace/Delete/Home/End/Arrow/etc, menu and toolbar, some shortcuts, a search and replace feature and so on? A simple and short answer — to reduce repetitive manual task.</p><p>What I like the most about Vim:</p><ul><li>Lightweight and fast</li><li>Modal editing helps me to think logically based on the type of editing task</li><li>Composing commands and the ability to record them for future use</li><li>Settings customization and creating new commands</li><li>Integration with shell commands</li></ul><p>There&#39;s a huge ecosystem of plugins, packages and colorschemes as well, but I haven&#39;t used them much. I&#39;ve used Vim for a long time, but not really a power user. I prefer using GVim, tab pages, mouse, arrow keys, etc. So, if you come across tutorials and books suggesting you should avoid using them, remember that they are subjective preferences.</p><p>Here are some more opinions by those who enjoy using Vim:</p><ul><li><a href="https://stackoverflow.com/q/597077/4082052">stackoverflow: What are the benefits of learning Vim?</a></li><li><a href="https://www.jakeworth.com/why-vim/">Why Vim</a></li><li><a href="https://rudism.com/vim-creep/">Vim Creep</a></li></ul><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/warning.svg" alt="warning"/> Should everybody use Vim? Is it suitable for all kinds of editing tasks? I&#39;d say no. There are plenty of other well established text editors and new ones are coming up all the time. The learning curve isn&#39;t worth it for everybody. If Vim wasn&#39;t being used at job, I probably wouldn&#39;t have bothered with it. <a href="https://gist.github.com/romainl/6b952db7a6138b48657ba0fbb9d65370">Don&#39;t use Vim for the wrong reasons</a> article discusses this topic in more detail.</p></blockquote><h2 id="installation"><a href="#installation">Installation</a></h2><p>I use the following command on Ubuntu (a Linux distribution):</p><pre><code>sudo apt install vim vim-gui-common
</code></pre><ul><li><a href="https://vimhelp.org/usr_90.txt.html">:h usr_90.txt</a> — user manual for installation on different platforms, common issues, upgrading, uninstallation, etc</li><li><a href="https://vi.stackexchange.com/q/10817/1616">vi.stackexchange: How can I get a newer version of Vim?</a> — building from source, using distribution packages, etc</li></ul><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> See also <a href="https://github.com/vim/vim">https://github.com/vim/vim</a> for source code and other details.</p></blockquote><h2 id="ice-breaker"><a href="#ice-breaker">Ice Breaker</a></h2><p>Open a terminal and follow these steps:</p><ul><li><code>gvim ip.txt</code> opens a file named <code>ip.txt</code> for editing <ul><li>You can also use <code>vim</code> if you prefer terminal instead of GUI, or if <code>gvim</code> is not available</li></ul></li><li>Press <kbd>i</kbd> key (yes, the lowercase alphabet <code>i</code>, not some alien key)</li><li>Start typing, for example <kbd>What a weird editor</kbd></li><li>Press <kbd>Esc</kbd> key</li><li>Press <kbd>:</kbd> key</li><li>Type <kbd>wq</kbd></li><li>Press <kbd>Enter</kbd> key</li><li><code>cat ip.txt</code> — sanity check to see what you typed is saved or not</li></ul><p>Phew, what a complicated procedure to write a simple line of text, isn&#39;t it? This is the most challenging and confusing part for a Vim newbie. Here&#39;s a brief explanation of the above steps:</p><ul><li>Vim is a <strong>modal editor</strong>. You have to be aware which mode you are in and use commands or type text accordingly</li><li>When you first launch Vim, it starts in <strong>Normal mode</strong> (primarily used for editing and moving around)</li><li>Pressing <kbd>i</kbd> key is one of the ways to enter <strong>Insert mode</strong> (where you type the text you want to save in a file)</li><li>After you&#39;ve entered the text, you need to save the file. To do so, you have to go back to Normal mode first by pressing the <kbd>Esc</kbd> key</li><li>Then, you have to go to yet another mode! Pressing <kbd>:</kbd> key brings up the <strong>Command-line mode</strong> and awaits further instruction</li><li><kbd>wq</kbd> is a combination of <strong>write</strong> and <strong>quit</strong> commands <ul><li>use <kbd>wq ip.txt</kbd> if you forgot to specify the filename while launching Vim, or perhaps if you opened Vim from Start menu instead of a terminal</li></ul></li><li><kbd>Enter</kbd> key completes the command you&#39;ve typed</li></ul><p>If you launched GVim, you&#39;ll likely have <strong>Menu</strong> and <strong>Tool</strong> bars, which would&#39;ve helped with operations like saving, quitting, etc. Nothing wrong with using them, but this book will not discuss those operations. In fact, you&#39;ll learn how to configure Vim to hide them in the <a href="https://learnbyexample.github.io/vim_reference/Customizing-Vim.html#gui-options">Customizing Vim</a> chapter.</p><p>Don&#39;t proceed any further if you aren&#39;t comfortable with the above steps. Take help of <a href="https://www.youtube.com/results?search_query=vim+editor">youtube videos</a> if you must. Master this basic procedure and you will be ready for Vim awesomeness that&#39;ll be discussed in the coming sections and chapters.</p><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> Material presented here is based on GVim (GUI), which has a few subtle differences compared to Vim (TUI). See this <a href="https://stackoverflow.com/q/22517896/4082052">stackoverflow thread</a> for more details.</p></blockquote><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> Options and details related to opening Vim from the command line will be discussed in the <a href="https://learnbyexample.github.io/vim_reference/CLI-options.html">CLI options</a> chapter.</p></blockquote><h2 id="built-in-tutor"><a href="#built-in-tutor">Built-in tutor</a></h2><ul><li><code>gvimtutor</code> command that opens a tutorial session with lessons to get started with Vim <ul><li>don&#39;t worry if something goes wrong as you&#39;ll be working with a temporary file</li><li>use <code>vimtutor</code> if <code>gvim</code> is not available</li><li><strong>pro-tip</strong>: go through this short tutorial multiple times, spread over multiple days</li></ul></li></ul><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> Next step is <a href="https://vimhelp.org/usr_02.txt.html">:h usr_02.txt</a>, which provides enough information about editing files with Vim.</p></blockquote><h2 id="built-in-help"><a href="#built-in-help">Built-in help</a></h2><p>Vim comes with comprehensive user and reference manuals. The user manual reads like a text book and reference manual has more details than you are likely to need. There&#39;s also an online site with these help contents, which will be linked as appropriate throughout this book.</p><ul><li>You can access built-in help in several ways: <ul><li>type <kbd>:help</kbd> from Normal mode (or just the <kbd>:h</kbd> short form)</li><li>GVim has a <code>Help</code> menu</li><li>press <kbd>F1</kbd> key from Normal mode</li></ul></li><li><a href="https://vimhelp.org/usr_toc.txt.html">:h usr_toc.txt</a> table of contents for User Manual <ul><li>Task oriented explanations, from simple to complex. Reads from start to end like a book</li></ul></li><li><a href="https://vimhelp.org/#reference_toc">:h reference_toc</a> table of contents for Reference Manual <ul><li>Precise description of how everything in Vim works</li></ul></li><li><a href="https://vimhelp.org/quickref.txt.html">:h quickref</a> quick reference guide</li><li><a href="https://vimhelp.org/usr_02.txt.html#help-summary">:h help-summary</a> effectively using help depending on the topic/feature you are interested in <ul><li>See also <a href="https://vi.stackexchange.com/q/2136/1616">vi.stackexchange: guideline to use help</a></li></ul></li></ul><p>Here&#39;s a neat table from <a href="https://vimhelp.org/#help-context">:h help-context</a>:<table><thead><tr><th>WHAT</th><th>PREPEND</th><th>EXAMPLE</th></tr></thead><tbody><tr><td>Normal mode command</td><td></td><td><code>:help x</code></td></tr><tr><td>Visual mode command</td><td><code>v_</code></td><td><code>:help v_u</code></td></tr><tr><td>Insert mode command</td><td><code>i_</code></td><td><code>:help i_&lt;Esc&gt;</code></td></tr><tr><td>Command-line command</td><td><code>: </code></td><td><code>:help :quit</code></td></tr><tr><td>Command-line editing</td><td><code>c_</code></td><td><code>:help c_&lt;Del&gt;</code></td></tr><tr><td>Vim command argument</td><td><code>- </code></td><td><code>:help -r</code></td></tr><tr><td>Option</td><td><code>&#39; </code></td><td><code>:help &#39;textwidth&#39;</code></td></tr><tr><td>Regular expression</td><td><code>/ </code></td><td><code>:help /[</code></td></tr></tbody></table></p><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> You can go through a copy of the documentation online at <a href="https://vimhelp.org/">https://vimhelp.org/</a>. As shown above, all the <kbd>:h</kbd> hints in this book will also be linked to the appropriate online help section.</p></blockquote><h2 id="vim-learning-resources"><a href="#vim-learning-resources">Vim learning resources</a></h2><p>As mentioned in the <a href="https://learnbyexample.github.io/vim_reference/preface.html">Preface</a> chapter, this <strong>Vim Reference Guide</strong> is more like a cheatsheet instead of a typical book for learning Vim. In addition to built-in features already mentioned in the previous sections, here are some resources you can use:</p><p><strong>Tutorials</strong></p><ul><li><a href="https://danielmiessler.com/study/vim/">Vim primer</a> — learn Vim in a way that will stay with you for life</li><li><a href="https://github.com/mhinz/vim-galore/blob/master/README.md">Vim galore</a> — everything you need to know about Vim</li><li><a href="https://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/">Learn Vim progressively</a> — short introduction that covers a lot</li><li><a href="https://thevaluable.dev/vim-commands-beginner/">Vim from the ground up</a> — article series for beginners to expert users</li></ul><p><strong>Books</strong></p><ul><li><a href="https://pragprog.com/book/dnvim2/practical-vim-second-edition">Practical Vim</a></li><li><a href="https://jovicailic.org/mastering-vim-quickly/">Mastering Vim Quickly</a></li><li><a href="https://github.com/iggredible/Learn-Vim">Learn Vim (the Smart Way)</a></li></ul><p><strong>Interactive</strong></p><ul><li><a href="https://www.openvim.com/tutorial.html">OpenVim</a> — interactive tutorial</li><li><a href="https://vim-adventures.com/">Vim Adventures</a> — learn Vim by playing a game</li><li><a href="https://vimmer.io/">vimmer.io</a> — master Vim from the comfort of your web browser</li><li><a href="https://www.vim.so/">vim.so</a> — interactive lessons designed to help you get better at Vim faster</li></ul><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> See my <a href="https://learnbyexample.github.io/curated_resources/vim.html">Vim curated list</a> for a more complete list of learning resources, cheatsheets, tips, tricks, forums, etc.</p></blockquote><h2 id="modes-of-operation"><a href="#modes-of-operation">Modes of Operation</a></h2><p>As mentioned earlier, Vim is a <strong>modal editor</strong>. This book will mainly discuss these four modes:</p><ul><li>Insert mode</li><li>Normal mode</li><li>Visual mode</li><li>Command-line mode</li></ul><p>This section provides a brief description for these modes. Separate chapters will discuss their features in more detail.</p><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> For a complete list of modes, see <a href="https://vimhelp.org/intro.txt.html#vim-modes-intro">:h vim-modes-intro</a> and <a href="https://vimhelp.org/intro.txt.html#mode-switching">:h mode-switching</a>.</p></blockquote><p><strong>Insert mode</strong></p><p>This is the mode where the required text is typed. There are also commands available for moving around, deleting, autocompletion, etc.</p><p>Pressing the <kbd>Esc</kbd> key takes you back to Normal mode.</p><p><strong>Normal mode</strong></p><p>This is the default mode when Vim is opened. This mode is used to run commands for operations like cut, copy, paste, recording, moving around, etc. This is also known as the Command mode.</p><p><strong>Visual mode</strong></p><p>Visual mode is used to edit text by selecting them first. Selection can either be done using mouse or using visual commands.</p><p>Pressing the <kbd>Esc</kbd> key takes you back to the Normal mode.</p><p><strong>Command-line mode</strong></p><p>This mode is used to perform file operations like save, quit, search, replace, execute shell commands, etc. Any operation is completed by pressing the <kbd>Enter</kbd> key after which the mode changes back to the Normal mode. The <kbd>Esc</kbd> key can be used to ignore whatever is typed and return to the Normal mode.</p><p>The space at the end of the file used for this mode is referred to as Command-line area. It is usually a single line, but can expand for cases like auto completion, shell commands, etc.</p><h2 id="identifying-current-mode"><a href="#identifying-current-mode">Identifying current mode</a></h2><ul><li>In Insert mode, you get a blinking <code>|</code> cursor <ul><li>also, <code>-- INSERT --</code> can be seen on the left hand side of the Command-line area</li></ul></li><li>In Normal mode, you get a blinking rectangular block cursor, something like this █</li><li>In Visual mode, the Command-line area shows <code>-- VISUAL --</code> or <code>-- VISUAL LINE --</code> or <code>-- VISUAL BLOCK --</code> according to the visual command used</li><li>In Command-line mode, the cursor is of course in the Command-line area</li></ul><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> See also <a href="https://vimhelp.org/options.txt.html#%27showmode%27">:h &#39;showmode&#39;</a> setting.</p></blockquote><h2 id="vim-philosophy-and-features"><a href="#vim-philosophy-and-features">Vim philosophy and features</a></h2><blockquote><p><img src="https://learnbyexample.github.io/vim_reference/images/info.svg" alt="info"/> Commands discussed in this section will be covered again in later chapters. The idea here is to give you a brief introduction to modes and notable Vim features. See also:</p><ul><li><a href="https://stackoverflow.com/a/1220118/4082052">Best introduction to Vi and its core editing concepts explained as a language</a> (this stackoverflow thread also has numerous Vim tips and tricks)</li><li><a href="https://www.moolenaar.net/habits.html">Seven habits of effective text editing</a></li></ul></blockquote><p>As a programmer, I love how composable Vim commands are. For example, you can do this in Normal mode:</p><ul><li><kbd>dG</kbd> delete from the current line to the end of the file <ul><li>where <code>d</code> is the delete command awaiting further instruction</li><li>and <code>G</code> is a motion command to move to the last line of the file</li></ul></li><li><kbd>yG</kbd> copy from the current line to the end of the file <ul><li>where <code>y</code> is the yank (copy) command awaiting further instruction</li></ul></li></ul><p>Most Normal mode commands accept a count prefix. For example:</p><ul><li><kbd>3p</kbd> paste the copied content three times</li><li><kbd>5x</kbd> delete the character under the cursor and 4 characters to its right (total 5 characters)</li><li><kbd>3</kbd> followed by <kbd>Ctrl</kbd>+<kbd>a</kbd> add <code>3</code> to the number under the cursor</li></ul><p>There are context aware operations too. For example:</p><ul><li><kbd>diw</kbd> delete a word regardless of where the cursor is on that word</li><li><kbd>ya}</kbd> copy all characters within <code>{}</code> including the <code>{}</code> characters</li></ul><p>If you are a fan of selecting text before editing them, you can use the Visual mode. There are several commands you can use to start Visual mode. If enabled, you can even use mouse to select the required portions.</p><ul><li><kbd>~</kbd> invert the case of the visually selected text (i.e. lowercase becomes UPPERCASE and vice versa)</li><li><kbd>g</kbd> followed by <kbd>Ctrl</kbd>+<kbd>a</kbd> for visually selected lines, increment number by <code>1</code> for the first line, by <code>2</code> for the second line, by <code>3</code> for the third line and so on</li></ul><p>The Command-line mode is useful for file level operations, search and replace, changing Vim configurations, talking to external commands and so on.</p><ul><li><kbd>/searchpattern</kbd> search the given pattern in the forward direction</li><li><kbd>:g/call/d</kbd> delete all lines containing <code>call</code></li><li><kbd>:g/cat/ s/animal/mammal/g</kbd> replace <code>animal</code> with <code>mammal</code> only for the lines containing <code>cat</code></li><li><kbd>:3,8! sort</kbd> sort only lines <code>3</code> to <code>8</code> (uses external command <code>sort</code>)</li><li><kbd>:set incsearch</kbd> highlights current match as you type the search pattern</li></ul><p>Changes to Vim configurations from the Command-line mode are applicable only for that particular session. You can use the <code>vimrc</code> file to load the settings at startup.</p><ul><li><kbd>colorscheme murphy</kbd> use a dark theme</li><li><kbd>set tabstop=4</kbd> width for the tab character (default is <code>8</code>)</li><li><kbd>nnoremap &lt;F5&gt; :%y+&lt;CR&gt;</kbd> map <kbd>F5</kbd> key to copy everything to system clipboard in Normal mode</li><li><kbd>inoreabbrev teh the</kbd> automatically correct <code>teh</code> to <code>the</code> in Insert mode</li></ul><p>There are many more Vim features that&#39;d help you with text processing and customizing the editor to your needs, some of which you&#39;ll get to know in the coming chapters.</p><p>Finally, you can apply your Vim skills elsewhere too. Vim-like features have been adopted across a huge variety of applications and plugins, for example:</p><ul><li><a href="https://www.mankier.com/1/less">less</a> command supports vim-like navigation</li><li><a href="https://www.emacswiki.org/emacs/Evil">Extensible vi layer for Emacs</a></li><li><a href="https://vimium.github.io/">Vimium (browser extension)</a>, <a href="https://qutebrowser.org/">qutebrowser (keyboard-driven browser with vim-like navigation)</a>, etc</li><li><a href="https://plugins.jetbrains.com/plugin/164-ideavim">JetBrains IdeaVim</a>, <a href="https://marketplace.visualstudio.com/items?itemName=vscodevim.vim">VSCodeVim</a>, etc</li><li><a href="https://vim.reversed.top/">Huge list of Vim-like applications and plugins</a></li></ul><h2 id="vims-history"><a href="#vims-history">Vim&#39;s history</a></h2><p>See <a href="https://twobithistory.org/2018/08/05/where-vim-came-from.html">Where Vim Came From</a> if you are interested in knowing Vim&#39;s history that traces back to the 1960s with <code>qed</code>, <code>ed</code>, etc.</p><h2 id="chapters"><a href="#chapters">Chapters</a></h2><p>Here&#39;s the list of remaining chapters:</p><ul><li><a href="https://learnbyexample.github.io/vim_reference/Insert-mode.html">Insert mode</a></li><li><a href="https://learnbyexample.github.io/vim_reference/Normal-mode.html">Normal mode</a></li><li><a href="https://learnbyexample.github.io/vim_reference/Command-line-mode.html">Command-line mode</a></li><li><a href="https://learnbyexample.github.io/vim_reference/Visual-mode.html">Visual mode</a></li><li><a href="https://learnbyexample.github.io/vim_reference/Regular-Expressions.html">Regular Expressions</a></li><li><a href="https://learnbyexample.github.io/vim_reference/Macro.html">Macro</a></li><li><a href="https://learnbyexample.github.io/vim_reference/Customizing-Vim.html">Customizing Vim</a></li><li><a href="https://learnbyexample.github.io/vim_reference/CLI-options.html">CLI options</a></li></ul></main><nav aria-label="Page navigation"><a rel="prev" href="https://learnbyexample.github.io/vim_reference/preface.html" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left"> <i></i> </a><a rel="next" href="https://learnbyexample.github.io/vim_reference/Insert-mode.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right"> <i></i> </a></nav></div></div><nav aria-label="Page navigation"><a rel="prev" href="https://learnbyexample.github.io/vim_reference/preface.html" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left"> <i></i> </a><a rel="next" href="https://learnbyexample.github.io/vim_reference/Insert-mode.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right"> <i></i> </a></nav></div></div>
  </body>
</html>
