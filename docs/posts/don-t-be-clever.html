<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://stitcher.io/blog/dont-be-clever">Original</a>
    <h1>Don&#39;t Be Clever</h1>
    
    <div id="readability-page-1" class="page"><p>
        Running an outdated Laravel application? Get instant, automated Laravel upgrades with <a href="https://aggregate.stitcher.io/links/79d1077e-f67a-41a9-841e-98aa604f2aa8">Laravel Shift</a>
    </p><article>
        

                    
        
        
                                                                                            
        <p>Ten years ago, I wrote the most beautiful, clever, over-engineered piece of code ever. I was building a REST API for a startup, and discovered lots of repetition between controllers: I was building the same kind of actions and copying code over and over again. So I came up with a solution: <em>The CRUDController™</em>.</p>
<p>It was a beautifully complex, abstract class that integrated with Doctrine (the ORM that I was using back then). It had every possible CRUD operation you could think of — not just for entities, but also for child- and has many relations; there were automatic overviews, filtering, pagination, validation, data persistence, routing, and whatnot.</p>
<p>And the only thing I had to do was to create a new controller, extend from my amazing <em>CRUDController™</em>, provide an entity class, and be done.</p>
<pre><code data-lang="php"><span><span>class</span> <span>TimesheetController</span> <span>extends</span> <span>CRUDController</span>
</span>{
    <span>public</span> <span><span>function</span> <span>getEntity</span><span>()</span>: <span>string</span>
    </span>{
        <span>return</span> <span>Timesheet</span>::class;
    }
}</code></pre>
<p>Such a blast!</p>
<p>Except, of course: exceptions started to emerge. Not the programming kind, but the business kind. <em>Some</em> controllers had to do <em>some</em> things a little differently. It was small things at first: different URL schemes, different kinds of validation; but soon, things grew more and more complex: support for nested entities or complex filtering, to name a few.</p>
<p>And young me? I just kept going. Adding the proverbial knobs and pulls to my abstract class (which was growing into a <em>set</em> of classes by now).</p>
<p>In the end, I created a monster; and — ironically — it had taken more time than if I had simply copied code between controllers over and over again. On top of that: I was leaving the startup, and no one really understood how more than 50 controllers actually worked.</p>
<p>You might assume I understood, but let me be clear: I didn&#39;t really know how much of it worked anymore.</p>
<p>Yes, I had failed to see the proper solution: a class generator — so that I didn&#39;t have to manually copy code again. It actually existed back then, I simply didn&#39;t know about it, no one told me about it, and I wasn&#39;t smart enough to question myself once I started going down a certain path.</p>
<p>It&#39;s such a classic example, many of you probably recognise it. I wouldn&#39;t say my coding skills were bad, by the way. No, I didn&#39;t question myself enough, I lacked self-reflection and wasn&#39;t able to critically look at my own ideas.</p>
<p>I wish I could show you <em>The CRUDController™</em>&#39;s source code; but I don&#39;t have access to it anymore, unfortunately. Luckily, the memory still exists. And it&#39;s a memory I remind myself of very often when I&#39;m going down the path of abstractions and complications. It&#39;s often enough to hold me back and look for better solutions.</p>
<div><p>
    Noticed a tpyo? You can <a href="https://github.com/brendt/stitcher.io" target="_blank" rel="noopener noreferrer">submit a PR</a> to fix it.

    If you want to stay up to date about what&#39;s happening on this blog, you can follow me
    on <a href="https://mobile.twitter.com/brendt_gd" target="_blank" rel="noopener noreferrer">Twitter</a> or subscribe to my newsletter:

    </p>
</div>



                    
        
            </article></div>
  </body>
</html>
