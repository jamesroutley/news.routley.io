<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://interwebalchemy.com/posts/building-a-chess-tutor">Original</a>
    <h1>Chess Tutoring in the Age of ChatGPT</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>As part of a recent interview process, I had to build an <a href="https://github.com/dvdagames/chess-tutor">LLM-powered Chess app</a> using <a href="https://nextjs.org/">Next.js</a>, <a href="https://github.com/jhlywa/chess.js">chess.js</a>, and <a href="https://github.com/Clariity/react-chessboard">react-chessboard</a>. I&#39;m not one to let a good project go to waste, especially when it combines two domains that interest me: Chess and Generative AI.</p>
<p>It&#39;s never been easier to learn new skills and to augment your existing knowledge in almost any area, and the <a href="https://en.wikipedia.org/wiki/Chess_or_the_King%27s_Game">&#34;King&#39;s Game&#34;</a>, Chess, is no different. There are nearly limitless possibilities from <a href="https://www.gothamchess.com/my-book">books</a> to <a href="https://youtu.be/Ao9iOeK_jvU">tutorials</a> to <a href="https://lichess.org/training">puzzles</a> and <a href="https://chessly.com/">courses</a>.</p>
<p>But, in our <a href="https://danielmiessler.com/blog/6-phases-post-gpt-world">post-ChatGPT world</a>, can we leverage <a href="https://youtu.be/wJzSHRNyspg">the chess capabilities of Generative AI</a> to improve at chess?</p>
<p>If you already have a higher-than-average <a href="https://en.wikipedia.org/wiki/Elo_rating_system">Elo</a>? Maybe not. But if you&#39;re a beginner stuck in the 500s like me? Maybe.</p>
<h2 id="llm-powered-chess-tutoring"><a aria-hidden="true" tabindex="-1" href="#llm-powered-chess-tutoring"><span></span></a>LLM-Powered Chess Tutoring</h2>
<p>The goal of this tutor is to help players analyze and understand the impact of each move they make by combining features from the post-game analysis of tools like <a href="https://www.chess.com/analysis?tab=analysis">chess.com</a> or <a href="https://lichess.org/analysis">lichess</a> into the real-time play of a game of chess against a bot.</p>
<p>If you find yourself missing an attack from an opponent&#39;s knight after you move, in this tutoring environment, you can make your move and then check the legal moves for your opponent&#39;s knights before you commit.</p>
<h3 id="primary-learning-features"><a aria-hidden="true" tabindex="-1" href="#primary-learning-features"><span></span></a>Primary Learning Features</h3>
<ul>
<li><strong>Positional Help</strong>: a lost player can right-click on a piece to ask the tutor if moving that piece is a good idea based on the current position</li>
<li><strong>Outcome Analysis</strong>: explore the legal moves of the opponent&#39;s pieces before committing to their move - the player can take back their move and try another one any number of times before committing to it</li>
<li><strong>Real-time Evaluation</strong>: the Stockfish evaluation of the position updates in real-time as each player moves pieces instead of waiting for the game to be over to see what the engine thinks about each position and how it changes over time</li>
<li><strong>Commentary and Analysis</strong>: the tutor can be configured to provide an automatic, running commentary as the game progresses or provide commentary only when asked or when the game comes to an end</li>
</ul>
<h2 id="generative-chess"><a aria-hidden="true" tabindex="-1" href="#generative-chess"><span></span></a>Generative Chess</h2>
<p>In a somewhat-related upcoming project, I want to explore Generative AI&#39;s ability to play chess, so instead of playing against a standard engine, like <a href="https://stockfishchess.org/">Stockfish</a>, I originally integrated <a href="https://platform.openai.com/docs/models#gpt-3-5-turbo">OpenAI&#39;s</a> previous-generation <a href="https://www.clarifai.com/blog/gpt-3.5-turbo-instruct-model-from-openai"><code>gpt-3.5-turbo-instruct</code></a> model, because allegedly <a href="https://dynomight.net/chess/">GPT-3.5 Turbo Instruct is pretty good at chess</a>.</p>
<p>Unfortunately, despite my best efforts to follow and improve upon the existing <a href="https://dynomight.net/more-chess/">chess prompt engineering</a>, it continued to frequently suggest illegal moves. So, I switched to <a href="https://platform.openai.com/docs/models#gpt-4o-mini"><code>gpt-4o-mini</code></a> and included a list of the legal moves from <a href="https://github.com/jhlywa/chess.js">chess.js</a> in the user&#39;s messages. In my experience, the model almost always chooses a legal move and often plays like an opponent I would expect to encounter on chess.com. <strong>Update 2025-01-03</strong>: After more experimentation, it appears that <code>gpt-4o-mini</code> frequently plays the same game, and that game often involves risky early queen moves that lead to unlikely positions, so it has been replaced with <code>gpt-4o</code> for the time being while other models are investigated.</p>
<p>There are ongoing experiments to test other models, like <a href="https://platform.openai.com/docs/models#o1"><code>o1-mini</code></a>, <a href="https://mistral.ai/news/mistral-large-2407/"><code>mistral-large</code></a>, <a href="https://mistral.ai/news/ministraux/"><code>ministral-8b</code></a>, <a href="https://www.anthropic.com/news/3-5-models-and-computer-use"><code>claude-3-5-sonnet</code></a>, and <a href="https://www.anthropic.com/news/3-5-models-and-computer-use"><code>claude-3-5-haiku</code></a> with some tweaked prompt engineering to find an <a href="https://blog.mathieuacher.com/GPTsChessEloRatingLegalMoves/">optimal opponent</a> for the chess tutoring app.</p>
<p>We don&#39;t want a perfect player, but we do want a reasonable approximation of a real player.</p>
<h2 id="conclusions"><a aria-hidden="true" tabindex="-1" href="#conclusions"><span></span></a>Conclusions</h2>
<p>It&#39;s still too early to know how much this tool might help, but I plan to use it as a supplement to my current chess learning, which mostly involves solving puzzles and analyzing games that go particularly well or particularly poorly.</p>
<p>Like the folks who have already explored the topic of Generative AI Chess, I don&#39;t think we&#39;ll ever see a model that can compete with something like Stockfish, but we might be able to simulate human opponents, which could be more valuable for low-Elo players.</p>
<p>This is a new tool with lots of room for improvement - in functionality and in user interface and user experience - but it has already helped me start to think about my chess moves in a more strategic way, and I&#39;m looking forward to exploring more features and seeing how much I can level up my chess skills and how far we can push the integration of Generative AI and existing chess tools</p>
<p>P.S. - If you want to try it out for yourself, here&#39;s the <a href="https://github.com/DVDAGames/chess-tutor">Chess Tutor GitHub Repo</a>. You&#39;ll need to bring your own OpenAI API key, though, because tokens get expensive. Support for a <code>BASE_URL</code> in case you want to use <a href="https://openrouter.ai/">OpenRouter</a> or another OpenAI-compatible API, like <a href="https://docs.together.ai/docs/openai-api-compatibility">Together</a> and support for switching from <code>gpt-4o</code> to other hosted (and local models running through <a href="https://ollama.com/blog/openai-compatibility">Ollama</a>, <a href="https://lmstudio.ai/">LM Studio</a>, etc.) is coming soon.</p></div></div></div>
  </body>
</html>
