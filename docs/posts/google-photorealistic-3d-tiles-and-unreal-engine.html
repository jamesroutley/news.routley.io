<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nilsbakker.nl/portfolio/3d-tiles/">Original</a>
    <h1>Google Photorealistic 3D Tiles and Unreal Engine</h1>
    
    <div id="readability-page-1" class="page"><div id="main" role="main">
	<div id="content">
		<div id="primary">

			
				
<article id="post-1196">

	<!-- .entry-header -->

	<div>

		
<p>Using the power of Unreal Engine 5.1, I embarked on a technical adventure when the <a rel="noreferrer noopener" href="https://cloud.google.com/blog/products/maps-platform/create-immersive-3d-map-experiences-photorealistic-3d-tiles" data-type="URL" data-id="https://cloud.google.com/blog/products/maps-platform/create-immersive-3d-map-experiences-photorealistic-3d-tiles" target="_blank">Google Maps 3D tiles API</a> was released. With an ambitious goal in mind, I challenged myself to complete this project within a tight one-week deadline. On this page I try sharing the process behind creating this interactive experience.</p>



<figure><p>
<iframe title="Unreal Engine 5 with Google Photorealistic 3D Tiles." width="996" height="560" src="https://www.youtube.com/embed/_cziz3qYT4Q?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p></figure>



<p>Combining the Google 3D tiles and ChatGPT APIs, I harnessed the capabilities of Unreal Engine to create an immersive experience that pushes the boundaries of what’s possible. Leveraging the flexibility of blueprints in Unreal, I seamlessly integrated the ChatGPT API, enabling users to enter prompts and receive dynamic responses. </p>



<p><em>The Prompt:</em></p>



<pre><code>Answer the following question in the following format. 

&lt;&lt; Latitude, Longitude &gt;&gt; ((City Name)) [Country name] ^^a fun fact about this place^^

nothing else. Use that format include the &lt;, &gt; and {} and ().

[USER INPUT]</code></pre>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/image.png" data-slb-active="1" data-slb-asset="1017443733" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="1024" height="723" src="https://nilsbakker.nl/wp-content/uploads/2023/05/image-1024x723.png" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/image-1024x723.png 1024w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-300x212.png 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-768x542.png 768w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-738x521.png 738w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-996x703.png 996w, https://nilsbakker.nl/wp-content/uploads/2023/05/image.png 1106w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>Every time a user enters a prompt, it triggers a specific function with the provided prompt. The answer provided by ChatGPT is then split into four sections: XY coordinates, city name, country, and an interesting fact about the location. This data is then first parsed into 3D text and placed in the virtual world.</p>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/image-1.png" data-slb-active="1" data-slb-asset="820931818" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="1024" height="375" src="https://nilsbakker.nl/wp-content/uploads/2023/05/image-1-1024x375.png" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/image-1-1024x375.png 1024w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-1-300x110.png 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-1-768x281.png 768w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-1-738x270.png 738w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-1-996x365.png 996w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-1.png 1098w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x.jpg" data-slb-active="1" data-slb-asset="547845498" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="1024" height="565" src="https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-1024x565.jpg" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-1024x565.jpg 1024w, https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-300x165.jpg 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-768x424.jpg 768w, https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-1536x847.jpg 1536w, https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-738x407.jpg 738w, https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-1458x804.jpg 1458w, https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-996x549.jpg 996w, https://nilsbakker.nl/wp-content/uploads/2023/05/HighresScreenshot00004@0.5x-1992x1099.jpg 1992w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>But how do we bring this virtual world to life with accurate location data? Here’s where the Google Maps API comes into play. I utilized another function to translate the XY coordinates obtained from the prompt to retrieve the location data through the Google Maps API. The location data is then used to fetch the 3D geometry, thanks to the remarkable Cesium platform and plugin for Unreal Engine.</p>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/image-2.png" data-slb-active="1" data-slb-asset="1698750944" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="750" height="400" src="https://nilsbakker.nl/wp-content/uploads/2023/05/image-2.png" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/image-2.png 750w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-2-300x160.png 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-2-738x394.png 738w" sizes="(max-width: 750px) 100vw, 750px"/></a></figure>



<p>Once the location and geometry data are gathered, the 3D geometry is loaded onto the designated location. To seamlessly transition the user from their current position to the new location. I used the Niagara particle system to create a portal mechanism that cleverly hides the transition process.</p>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/image-3.png" data-slb-active="1" data-slb-asset="413920425" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="1015" height="650" src="https://nilsbakker.nl/wp-content/uploads/2023/05/image-3.png" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/image-3.png 1015w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-3-300x192.png 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-3-768x492.png 768w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-3-738x473.png 738w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-3-996x638.png 996w" sizes="(max-width: 1015px) 100vw, 1015px"/></a></figure>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-3@0.5x.jpg" data-slb-active="1" data-slb-asset="1498887686" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="800" height="441" src="https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-3@0.5x.jpg" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-3@0.5x.jpg 800w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-3@0.5x-300x165.jpg 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-3@0.5x-768x423.jpg 768w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-3@0.5x-738x407.jpg 738w" sizes="(max-width: 800px) 100vw, 800px"/></a></figure>



<p>Of course, we can’t forget about the practicalities of teleportation. Since ground levels vary across the world, we need to ensure that the player doesn’t spawn underground or high above the ground level. By checking for ground collision, we make certain that the player spawns at an appropriate height above the ground. Additionally, to enhance the user experience, we position the player slightly backward from the intended location, providing them with a clear view of the destination upon arrival.</p>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/image-5.png" data-slb-active="1" data-slb-asset="1689677982" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="1024" height="327" src="https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-1024x327.png" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-1024x327.png 1024w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-300x96.png 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-768x245.png 768w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-1536x490.png 1536w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-738x235.png 738w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-1458x465.png 1458w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-996x318.png 996w, https://nilsbakker.nl/wp-content/uploads/2023/05/image-5-1992x635.png 1992w" sizes="(max-width: 1024px) 100vw, 1024px"/></a><figcaption><em>Blueprint function that detects the ground level</em>.</figcaption></figure>



<figure><a href="https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x.jpg" data-slb-active="1" data-slb-asset="633783108" data-slb-internal="0" data-slb-group="1196"><img decoding="async" loading="lazy" width="1024" height="564" src="https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x-1024x564.jpg" alt="" srcset="https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x-1024x564.jpg 1024w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x-300x165.jpg 300w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x-768x423.jpg 768w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x-738x406.jpg 738w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x-996x548.jpg 996w, https://nilsbakker.nl/wp-content/uploads/2023/05/Untitled-2@0.5x.jpg 1199w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>During the teleportation process, we also set the time of the location. Although the current implementation generates a random value for time, the original plan was to retrieve actual time and weather data from another API. However, given the time constraints of the project, that feature will have to wait for future development.</p>



<p>This project has been an incredibly fun and rewarding experience. It showcases the immense power of Unreal Engine and demonstrates the endless possibilities that arise from integrating tools like Google 3D tiles and ChatGPT. If you have any questions about this project, don’t hesitate to reach out. I’d be more than happy to share more insights!</p>

		
	</div><!-- .entry-content -->

</article><!-- #post-## -->

				
	
				
			
		</div><!-- #primary -->
	</div><!-- #content -->
</div></div>
  </body>
</html>
