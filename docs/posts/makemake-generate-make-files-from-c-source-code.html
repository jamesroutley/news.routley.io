<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/quelsolaar/makemake">Original</a>
    <h1>MakeMake: Generate make files from C source code</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto"><a id="user-content-makemake" aria-hidden="true" tabindex="-1" href="#makemake"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>MakeMake</h2>
<p dir="auto">MakeMake is a tool for generateing and running make files from C code. It does so by parsing the .c and .h files in the same directory as a starting file (usualy the C file containging main), and determains recursivly what files are required to build the project. make make does this by looking for any function declaration using extern, and the searches for the corresponding function definition.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-building-makemake" aria-hidden="true" tabindex="-1" href="#building-makemake"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>building MakeMake:</h3>
<p dir="auto">To build makemake on unix platform you can use the shellscript MakeMakeMake, it will not only build makemake, it will also run it, and it therefor takes the same parameters as MakeMake. To build makemake:</p>
<div data-snippet-clipboard-copy-content="chmod -x makemakemake.sh
./makemakemake.sh"><pre><code>chmod -x makemakemake.sh
./makemakemake.sh
</code></pre></div>
<p dir="auto">If make a MakeMakeMake is given options it will run makemake and pass on the options to MakeMake. The MakeMakeMake script there for takes the exact same options as MakeMake. Once MakeMakeMake has built MakeMake you can call it directly.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-running-makemake" aria-hidden="true" tabindex="-1" href="#running-makemake"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Running MakeMake</h3>
<p dir="auto">To run MakeMake the comandline format is
makemake  &lt;options ...&gt;</p>
<p dir="auto">The C file path will be used to identify the starting C file and the path where it resides. This path is the path that will be searched for other .c and .h files for possible inclution in the build.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-options" aria-hidden="true" tabindex="-1" href="#options"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Options:</h3>
<p dir="auto">MakeMake can be given opetions in two ways, either using the comand line, or as pragmas in the .c and .h files. Each option consists of key-value pair, the name of the option and what the option is set to. The available options are:</p>
<p dir="auto">-name  Name of the executable.
-makefile  Name of the make file (or stdout).
-compilerflag  Custom compiler flags.
-platform  Platform define.
-dynamiclib  builds the application as a dynamicly linked library.
-lib  Library dependency.
-define  Adds a define.</p>
<p dir="auto">To use the options on the comand line use &#34;-&#34; followed by the option name and option.</p>
<div data-snippet-clipboard-copy-content="Example: To build project with a specifird name you may call:
./makemake ./example.c -name my_example"><pre><code>Example: To build project with a specifird name you may call:
./makemake ./example.c -name my_example
</code></pre></div>
<p dir="auto">To use options from within a .c or .h file, add MakeMake pragma in the following format:</p>
<div data-snippet-clipboard-copy-content="#pragma makemake &lt;option name&gt; &lt;option value&gt; &lt;optional platform&gt;"><pre><code>#pragma makemake &lt;option name&gt; &lt;option value&gt; &lt;optional platform&gt;
</code></pre></div>
<p dir="auto">If for instanc you have a .c file that depends on PTreads on posix platforms, you may add the pragma:</p>
<div data-snippet-clipboard-copy-content="#pragma makemake lib lpthread posix"><pre><code>#pragma makemake lib lpthread posix
</code></pre></div>
<p dir="auto">The MakeMake can also generate the MakeMakeMake script by calling:</p>
<div data-snippet-clipboard-copy-content="./makemake makemakemakemake"><pre><code>./makemake makemakemakemake
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-platforms" aria-hidden="true" tabindex="-1" href="#platforms"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Platforms</h3>
<p dir="auto">you can define as many platfroms as you want, if you do not define platforms on the command line, MakeMake will assume you are building for the platform you are on. For the following platforms, the pre defined platforms are:</p>
<div data-snippet-clipboard-copy-content="Linux: linux posix
Windows: win32
MacOS: macosx apple posix
Android: android posix"><pre><code>Linux: linux posix
Windows: win32
MacOS: macosx apple posix
Android: android posix
</code></pre></div>
<p dir="auto">pragma directives with a given platform will only operate of that platform is defined. You can define your own platforms for setting options this way.</p>
<p dir="auto">Make make has been tested on Linux, MacOS, and Windows (Make files have been generated on windows, but not tested on windows)</p>
<p dir="auto">Thanks to the work of Felix Klinge, MakeMake supports Android and the plan is to add iOS support.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-test-project" aria-hidden="true" tabindex="-1" href="#test-project"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Test project</h3>
<p dir="auto">MakeMake comes with a simple &#34;hello world&#34; test project, called makemake_test... consisiting of 3 files. To test them call:</p>
<div data-snippet-clipboard-copy-content="chmod -x makemakemake.sh
./makemakemake.sh ./makemake_test_one.c"><pre><code>chmod -x makemakemake.sh
./makemakemake.sh ./makemake_test_one.c
</code></pre></div>
<p dir="auto">The file makemake_test_one.c, will include makemake_test_two.h that declares a funtion defined in makemake_test_three.c</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-about-the-project" aria-hidden="true" tabindex="-1" href="#about-the-project"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>About the project</h3>
<p dir="auto">MakeMake was designed to solve my problem (Im a C developer that develops protable C programs using VisualStudio, and I do not want to maintain up todate make files for all projects and platforms). There are ways to write C code that makemake will not be able to parse, but for me that is a feature not a bug as it requires me to keep my code clean and simple.</p>
<p dir="auto">The main motivation for releasig MakeMake is to serve as a n inspiration for developers that they can wit relativly little effort build their own tooling, especially with a simple language like C. Feel free to be inspired by, use or fork the project.</p>
<p dir="auto">You can find my work on <a href="http://www.quelsolaar.com" rel="nofollow">www.quelsolaar.com</a> and at @quelsolaar @eskilsteenberg, and <a href="https://www.youtube.com/@eskilsteenberg" rel="nofollow">https://www.youtube.com/@eskilsteenberg</a> you can also reach me at eskil at quelsolaar dot com.</p>
</article>
          </div></div>
  </body>
</html>
