<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://grossack.site/2021/12/22/qe-competition.html">Original</a>
    <h1>Slaughtering Competition Problems with Quantifier Elimination (2021)</h1>
    
    <div id="readability-page-1" class="page"><div>
      <div>
  
  <h3>
  22 Dec 2021 
  
  
  - Tags: 
    
    
    <a href="https://grossack.site/tags/sage">sage</a>  
    
    
    , <a href="https://grossack.site/tags/featured">featured</a>  
    
    
  
  </h3>

  <p>Anytime I see questions on mse that ask something “simple”, I feel a
powerful urge to chime in with “a computer can do this for you!”. 
Obviously if you’re a researching mathematician you shouldn’t waste your
time with something a computer can do for you, but when you’re still 
learning techniques (or, as is frequently the case on mse, 
solving homework problems), it’s not a particularly useful comment
(so I usually abstain). The urge is <em>particularly</em> powerful when it 
comes to the contrived inequalities that show up in a lot of competition math, 
and today I saw <a href="https://math.stackexchange.com/questions/4339599/prove-15ab-ge1714-sqrt2ab">a question</a> that <em>really</em> made me want to say something
about this! I still feel like it would be a bit inappropriate for mse, but
thankfully I have a blog where I can talk about whatever I please :P
So today, let’s see how to hit these problems with the proverbial nuke 
that is <a href="https://en.wikipedia.org/wiki/Quantifier_elimination">quantifier elimination</a>!</p>

<p>I want this to be a fairly quick post, so I won’t go into too much detail. 
The gist is the following powerful theorem from <a href="https://en.wikipedia.org/wiki/Model_theory">model theory</a>:</p>

<div>
  <p><span>Tarski-Seidenberg Theorem</span><sup id="fnref:1"><a href="#fn:1" rel="footnote" role="doc-noteref">1</a></sup></p>

  <p>If  is any formula of the form</p>

  <ul>
    <li>, for </li>
    <li>, for </li>
    <li>combinations of the above using , , , </li>
    <li>combinations of the above using  and </li>
  </ul>

  <p>Then  is equivalent to a formula <em>without</em> quantifiers.</p>
</div>

<p>I’m legally required to give the following example:</p>

<p>The formula  (which has a quantifier)
is equivalent to the formula </p>

<p>As a more complicated example, we have</p>



<p>is equivalent to</p>



<p>Of course, this means if we want to know whether the above formula really 
is true for some choice of , we can just plug into
this quantifier free formula and check!</p>

<p>Now, you might be wondering: “How did you find this quantifier free expression?”,
and the answer is, of course, <a href="https://sagemath.org">sage</a>!
Sage has <a href="https://wiki.sagemath.org/Interfaces">interfaces</a> with a lot of pre-existing software, and for us
the relevant interface is to <a href="https://www.usna.edu/CS/qepcadweb/B/QEPCAD.html">QEPCAD</a>, which will actually <em>do</em>
quantifier elimination for us!</p>

<p>To get started, you have to make sure you have qepcad installed in a way
that sage can access. You’ll want to run <code>sage -i qepcad</code> just in case
(it wasn’t installed for me).</p>

<p>Next, let’s see how we eliminated quantifiers from the “more complicted example”
above!</p>

<div>


<div>
    <div><div><p><img src="https://sagecell.sagemath.org/static/spinner.gif" alt="Loading"/></p></div></div>
    
</div></div>

<p>Yup. It’s <em>that</em> easy!</p>

<p>If you’re interested in reading more about this, you should check out
<a href="https://doc.sagemath.org/html/en/reference/interfaces/sage/interfaces/qepcad.html#sage.interfaces.qepcad.qepcad">the documentation</a>, but I’m also going to give a handful of examples
in the next section<sup id="fnref:2"><a href="#fn:2" rel="footnote" role="doc-noteref">2</a></sup>!</p>

<hr/>

<p>So then, let’s slaughter some competition problems<sup id="fnref:3"><a href="#fn:3" rel="footnote" role="doc-noteref">3</a></sup>!</p>

<p>First, the problem that made me write this post in the first place
(<a href="https://math.stackexchange.com/questions/4339599/prove-15ab-ge1714-sqrt2ab">here</a> is the mse link again)</p>



<p>This isn’t given to us as polynomials, but of course it’s easy for us to
fix that by rewriting it as</p>



<p>then we simply ask sage<sup id="fnref:4"><a href="#fn:4" rel="footnote" role="doc-noteref">4</a></sup>:</p>

<div>


<div>
    <div><div><p><img src="https://sagecell.sagemath.org/static/spinner.gif" alt="Loading"/></p></div></div>
    
</div></div>

<p>We can extend this too. The asker conjectures that  and 
are the only choices of  for which we get equality. As a bonus, 
we can check this:</p>

<div>


<div>
    <div><div><p><img src="https://sagecell.sagemath.org/static/spinner.gif" alt="Loading"/></p></div></div>
    
</div></div>

<p>So we see that these really <em>are</em> the only points where equality holds!</p>

<hr/>

<p>Let’s take another example I remember seeing recently 
(the original mse link is <a href="https://math.stackexchange.com/questions/4303525/proving-an-inequality-with-3-variables/4303737#4303737">here</a>):</p>

<div>
  <p>Let  be positive real numbers. Show</p>

  
</div>

<p>Again, we cannot plug this into sage directly, because it’s not a 
<em>polynomial</em> inequality. But multiplying through by  on both sides
solves that issue.</p>

<div>


<div>
    <div><div><p><img src="https://sagecell.sagemath.org/static/spinner.gif" alt="Loading"/></p></div></div>
    
</div></div>

<p>and even though the asker doesn’t mention it, one thing that Steele makes
very clear in the (excellent) book <em>The Cauchy-Schwarz Masterclass</em> is that
whenever working with a new inequality, we should ask where it’s sharp.</p>

<p>So we ask sage!</p>

<p>It turns out this inequality is sharp at infinitely many points, so 
instead of asking for the list of all points, we ask for a geometric 
description of the solution set.</p>

<div>


<div>
    <div><div><p><img src="https://sagecell.sagemath.org/static/spinner.gif" alt="Loading"/></p></div></div>
    
</div></div>

<p>Now, this admits some simplification, since we know that  by the
second line. I’ll leave it to you to figure out exactly what set this is
if you’re interested.</p>

<div>
  <p>As an exercise, you should be on the lookout for places to use this tool!</p>

  <p>Next time somebody is asking about some wacky inequality, or really
<em>any</em> question about sets definable by polynomial (in)equations in
, you should think about whether you can slaughter 
the problem without much thought by asking a computer!</p>

  <p>As a more concrete exercise to show the flexibility of this method, 
pick your favorite theorem in euclidean geometry. Rephrase it using
coordinates, then ask sage if it’s true!</p>

  <p>As a <em>very</em> concrete exercise, can you do this with <a href="https://en.wikipedia.org/wiki/Ptolemy%27s_theorem">Ptolemy’s Theorem</a>?</p>
</div>

<p>Also, if you find yourself using this, definitely come back and let me know!
I would love to hear about places where this comes up in the wild!</p>

<p>Also also, if you have other (possibly surprising) uses for sage or other
programs that automatically answer ceretain problems, definitely let me know!
This is one of the parts of mathematical logic that I get most geeky about!</p>

<p>See you next time ^_^</p>

<hr/>



</div>



    </div></div>
  </body>
</html>
