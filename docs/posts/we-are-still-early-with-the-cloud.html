<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://erikbern.com/2022/10/19/we-are-still-early-with-the-cloud.html">Original</a>
    <h1>We are still early with the cloud</h1>
    
    <div id="readability-page-1" class="page"><article>
  
  <time datetime="2022-10-19T00:00:00Z">2022-10-19</time>
  <p>This is is in many respects a successor to a
<a href="https://erikbern.com/2021/04/19/software-infrastructure-2.0-a-wishlist.html">blog post I wrote last year</a>
about what I want from software infrastructure, but the ideas morphed in my head into something sort of wider.</p>
<h2 id="the-genesis">The genesis</h2>
<p>I encountered AWS in 2006 or 2007 and remember thinking that it&#39;s crazy — why would anyone want to put their stuff in someone else&#39;s data center?
But only a couple of years later, I was running a bunch of stuff on top of AWS.</p>
<p>Back then, AWS had something like two services: EC2 and S3. Today, that number is closer to 350: <sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>
<p><img src="https://erikbern.com/assets/aws_services.png" alt="aws services"/></p>
<p>And today, the cloud is obviously here… I mean, despite
<a href="https://a16z.com/2021/05/27/cost-of-cloud-paradox-market-cap-cloud-lifecycle-scale-growth-repatriation-optimization/">what some people may think</a> about cloud adoption <sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>
it&#39;s clear that building technology is vastly different today than it was a decade ago, and the cloud deserves a big part of the credits for it.</p>
<h2 id="i-think-we-might-be-early-though">I think we might be early though?</h2>
<p>In some sort of theoretical abstract platonic form type thing, the cloud should offer us</p>
<ul>
<li>Infinite scalability</li>
<li>Less time spent on infrastructure</li>
<li>Fewer constraints</li>
<li>Lower costs.</li>
</ul>
<p>Here&#39;s a random assortment of things I feel like we <em>should</em> have, if the cloud had truly delivered. But we don&#39;t:</p>
<ul>
<li>When I compile code, I want to fire up 1000 serverless container and compile tiny parts of my code in parallel.</li>
<li>When I run tests, I want to parallelize all of them. Or define a grid with a 1000 combinations of parameters, or whatever.</li>
<li>I never ever again want to think about IP rules. I want to tell the cloud to connect service A and B!</li>
<li>Why is Bob in the ops team sending the engineers a bunch of shell commands they need to run to update their dev environment to support the latest Frobnicator version? For the third time this month?</li>
<li>Why do I need to SSH into a CI runner to debug some test failure that I can&#39;t repro locally?</li>
</ul>
<p>I could go on!</p>
<p>The current state doesn&#39;t strike me as a slam dunk improvement along every axis. Most egregiously, why have the feedback loops writing code become <em>longer</em>? And the environment difference between local and prod <em>larger</em>? I don&#39;t know…I look at modern programming and cloud computing and it feels like we have most of the building blocks, but we&#39;re still so far from it? I can&#39;t help but getting the feeling that we basically just did this thing so far: <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p>
<p><img src="https://erikbern.com/assets/docker.jpeg" alt="docker"/></p>
<p>Docker is an incredible piece of technology for many reasons.
But just using it the way the meme above implies, seems as if we didn&#39;t fundamentally change development to take advantage of this new magic technology, we just sort of just think of it as an <em>adapter</em>. We&#39;ve seen Cloud 1.0 and maybe <a href="https://www.jeremydaly.com/is-learning-serverless-really-that-hard/">Cloud 1.5</a> but there&#39;s a lot more remaining for us to reach Cloud 2.0.</p>
<h2 id="adapters-and-toys">Adapters and toys</h2>
<p>I spent seven years at Spotify so let me tell you a story. It might seem tangential but hear me out:</p>
<p>Music consumption in 2008 was going in two directions. iTunes had successfully shifted the consumption of music from physical to the cloud, but the consumption model of <em>owning</em> content remained the same.
At the same time, Napster et. al. showed the promise of the cloud but was unable to license content and do it the legal way.</p>
<p>Increasing broadband penetration initially enabled music downloading, but quickly also made the location of the music bits irrelevant.</p>
<p>Spotify then (imo!) pulled off a massive Pareto improvement — they offered a service that were <em>both</em> better than iTunes and piracy for consumers, and somehow also had a business model that was sufficiently producer friendly. I remember the magic moment from the first time I tried Spotify — it was like having 30M tracks <em>on my own computer.</em></p>
<p><img src="https://erikbern.com/assets/locomotive.jpeg" alt="locomotive"/>
<em>A steam locomotive pulling horse carriages:</em> <sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup></p>
<p>I find this useful to illustrate how music consumption went through a couple of shifts in rapid succession:</p>
<p>The first shift is trying to put the old stuff into the new thing. This is the “lift and shift” or “adapter” type approach. These things take advantage of the new tech to some extent, but only partially, and are stuck with legacy technology. The second shift involves products that are native to the new technology, but look like “toys”. Maybe there&#39;s no obvious business model, or the tool solves just one particular use case. But it gives some conceptual insight into what&#39;s coming.</p>
<p>The exciting thing happens when the toys evolve into something that is obviously better than the legacy technology, and also better than the adapters. Online streaming services basically represents a third and final shift: take the toys but turn it mainstream.</p>
<h2 id="cloud-is-coming-for-your-workflow">Cloud is coming for your workflow</h2>
<p>Somewhat ironically, software development is one of a vanishingly small subset of knowledge jobs for which the main work tool hasn&#39;t moved to the cloud. We still write code locally, thus we&#39;re constrained to things that work in the same way both locally and in the cloud. Thus, adapter tools like Docker.</p>
<p>I get this. I <em>love</em> writing code just on my laptop because of the fast feedback loops it creates. My laptop is full of weird-ass scripts and half-finished projects, and I haven&#39;t encountered any other tool that lets me iterate on these things as quickly, maybe with the exception of <code>ssh</code> into a devbox, which is something we&#39;ve done for about 50 years now: <sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup></p>
<p><img src="https://erikbern.com/assets/remote_login.jpeg" alt="remote login"/></p>
<p>We could of course put the whole development environment in a VM in the cloud, but I&#39;m not sure that&#39;s much more than the “lift and shift” I already talked about — in the sense that we&#39;re not taking advantage of all the cloud stuff — scaling up/down (including to zero), flexible resource needs, pay-as-you-go, etc. I think we&#39;re overdue for some larger change in how we develop, deploy, and run code.</p>
<p>That doesn&#39;t mean someone is confiscating your beloved local development environment! Or I mean, it sort of does, but it won&#39;t happen until the new tools are <em>better</em> — which frankly is not the case today, outside of a few use cases. Like I said, the fast feedback loop of local coding is hard to beat <em>today</em>, but there&#39;s a lot of good reasons why an environment native to the cloud would let you iterate faster eventually. And there are other benefits too, like reducing/removing big environment differences which represent a massive tax on productivity.</p>
<h2 id="to-be-free-we-need-to-break-free-of-our-past">To be free, we need to break free of our past</h2>
<p>Our stacks are based on 50 years of technology. On top of that, we also have a lot of legacy portability needs: where we needed the same software to run in the cloud, locally, and on-prem. These complex interdependencies will take a while to break free of.</p>
<p>Rethinking these abstractions to be native to the new world let&#39;s us start over and redefine the abstractions for what we need? Do we need IP addresses, CIDR blocks, and NATs, or can we focus on which services have access to what resources? Do we need to reserve resources advance (like having a cluster of n workers, each having x GB of RAM), or can we let the runtime expand/shrink in a split second? You can probably guess which option I would put my money on.</p>
<p>These low-level primitives will still be there of course, under the hood, and some people will still think about hardware interrupts and dangling pointers. But just like most developers don&#39;t think about these things, the abstraction layers will keep moving up. I&#39;m excited for a world where a normal software developer doesn&#39;t  need to know about CIDR blocks to <a href="https://twitter.com/bernhardsson/status/1575546247519166464">connect a Lambda with an RDS instance</a>.</p>
<h2 id="vertical-toys">Vertical toys</h2>
<p>Building and running software was convoluted enough pre-cloud, and has gotten a lot more complex over the years. I think it&#39;s quite likely that the easiest way to start over is to focus on particular use cases and optimize end-to-end for the experience. “Repackage the cloud” for different end users, be it frontend developers, data scientists, and so one. I mean, I&#39;m extremely biased here, but I&#39;m essentialy <a href="https://modal.com">doing this for data teams</a>, so I&#39;m obviously a believer in this.</p>
<p>You don&#39;t have to look far to see some pockets of this. Analytics engineers who run all their SQL in a runtime in the cloud (the data warehouse). Data scientists who develop all their code in notebooks in the cloud. Some (very small subset of) backend developers who run all their code in Lambda containers, even during development. The broad userbase of people building and hosting apps on tools like Replit.</p>
<p>You might look at them and think of them as examples of “toys”, or niche use cases, but that&#39;s sort of the point that I&#39;m making — it might look insignificant to the larger set of software engineers. It might not look like the software engineering <em>you</em> are doing, and it probably won&#39;t quite look like what software development will look like in the future. But it&#39;s very possible these people are in fact ahead of the curve.</p>
<h2 id="welcome-cloud-20">Welcome, Cloud 2.0</h2>
<p>This was just a long way of saying: the clouds are here, and a lot has already happened, but the bulk of what it means for building software is yet to come.</p>
<p>I also want to point out that I wrote a whole blog post about how we&#39;re early with the cloud, and I didn&#39;t even mention the massive amount of companies that aren&#39;t even in the cloud. Besides the massive changes to the cloud itself, there&#39;s so much growth just there. And there&#39;s something like an order of magnitude <em>more software engineers</em> today than 20 years ago, which will further drive demand, etc etc etc. It&#39;s going to be a fun decade for tech!</p>
<section role="doc-endnotes">
<hr/>
<ol>
<li id="fn:1" role="doc-endnote">
<p>This chart is pretty crude — I just looked at the earliest version number for each service in <a href="https://github.com/boto/botocore">botocore</a>. But it&#39;s a bit imprecise, e.g. EC2 was launched in 2006, but the oldest API version is from 2014. <a href="#fnref:1" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>And despite <a href="https://world.hey.com/dhh/why-we-re-leaving-the-cloud-654b47e0">some companies</a> with <a href="https://twitter.com/bernhardsson/status/1582761705469534208">different margin structures</a> <a href="#fnref:2" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>Would <em>love</em> to give proper credit to whomever made this first… if anyone knows who, let me know! <a href="#fnref:3" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p>Credit to <a href="https://twitter.com/paulg/status/1580174713656995840">Paul Graham</a> for tweeting this. <a href="#fnref:4" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:5" role="doc-endnote">
<p>Credit to <a href="https://twitter.com/cyndemoya/status/1172289968137392128">Cynde Moya</a> for tweeting this. <a href="#fnref:5" role="doc-backlink">↩︎</a></p>
</li>
</ol>
</section>


  
<strong>

    Tagged with: 
    <a href="https://erikbern.com/tags/software.html">software</a>, <a href="https://erikbern.com/tags/cloud.html">cloud</a>
</strong>

</article></div>
  </body>
</html>
