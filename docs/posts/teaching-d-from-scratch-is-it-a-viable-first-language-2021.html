<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dlang.org/blog/2021/12/23/teaching-d-from-scratch-is-it-a-viable-first-language/">Original</a>
    <h1>Teaching D from Scratch: Is it a viable first language? (2021)</h1>
    
    <div id="readability-page-1" class="page"><div>
			<p><img src="https://dlang.org/blog/wp-content/uploads/2021/12/gettyimages-1249804112-612x612-1-200x200.jpg" alt="" width="200" height="200" srcset="https://dlang.org/blog/wp-content/uploads/2021/12/gettyimages-1249804112-612x612-1-200x200.jpg 200w, https://dlang.org/blog/wp-content/uploads/2021/12/gettyimages-1249804112-612x612-1-300x300.jpg 300w, https://dlang.org/blog/wp-content/uploads/2021/12/gettyimages-1249804112-612x612-1.jpg 612w" sizes="(max-width: 200px) 100vw, 200px"/></p>
<p>About two-and-a-half years ago, one of my son’s homeschooling friends asked if I would teach a coding class. Both of my kids have shown interest <a href="https://scratch.mit.edu/">in coding via Scratch</a>, and I also need to pull my weight when it comes to homeschooling them (my wife doing most of the instruction). So I thought, surely, this can’t be too hard. The challenges I would encounter over the course of the last few years surprised me more often than I would have expected!</p>
<p>First, a bit about my background. I’ve been writing software professionally for over 20 years, about half using system languages and half doing web development. I’ve dabbled in a lot of programming projects, including embedded microcontrollers with 256 bytes of RAM, collaborative video systems using high-end Unix workstations, and automating a factory testing rack-mounted appliances. What I haven’t ever done to any official degree is teach programming. For sure, this is a challenge that is novel to me, and also one that I have found very satisfying.</p>
<p>A bit about the kids. I had ten students, aged 9 – 15, all of whom had very little experience writing real software. Since this class was going to be a side project for me on top of my normal job, we went rather slowly, meeting once every two weeks.</p>
<p>One of the goals of my class was to try <em>not</em> to dumb down coding into an abstraction. I wanted the kids to experience real programming without too much of a pre-built hand-holding framework, and I believed they could do it. I’ve seen many (and purchased some) online resources for teaching to code that hide most of the real work and just focus on using custom libraries or simplified languages to learn the “basics”, while not actually teaching to be productive in a standard environment. I also witnessed firsthand my own kids getting bored when the material was presented too slowly or too abstractly.</p>
<p><em>Note: you can see some of my homework assignments and review pages <a href="https://codingcat.club">on a dedicated website</a> that I created for this class</em></p>
<h2 id="firsttry:javascriptandlua">First Try: Javascript and Lua</h2>
<p>The first language we worked with, because many of the kids didn’t have actual full-blown computers to work on (this was pre-Covid so it was at my house), was Javascript. Javascript is possible to develop in a browser, using a tablet or a Chromebook, so all the kids I was teaching could participate. My focus in these early days was basic concepts like loops, branching, and basic statements. I think Javascript can be a great first language, though the things you can do with it as a beginner are a bit bland, and to do anything exciting you have to start learning the DOM (including how objects and methods work).</p>
<p>After half a year we moved on to our second language: Lua, specifically in <a href="https://www.roblox.com/">the video game system Roblox</a>. I almost wish we had skipped this one because it was a bit too advanced for these students, and I was not familiar with the language and the system to begin with. The kids did have fun with the model-building UI. However, I can see an experienced teacher finding good ways to instruct using this environment. Roblox, with its pre-built rendering and physics engines, has the nice benefit of allowing one to generate a really cool game with relatively little code—something new coders quite enjoy.</p>
<h2 id="justused">Just use D</h2>
<p>And that leads us to the second year, where I decided to just try teaching what I know best: the D programming language. Since all the kids have a keen interest in building games, I searched for a simple library I could use to build games. I have to give a shout-out to <a href="https://www.raylib.com/">the library I discovered, Raylib</a>, and <a href="https://www.youtube.com/c/KiRill-kr">the YouTuber Ki Rill</a>, whose very straightforward and well-made videos gave me the confidence that this also would be something I could teach.</p>
<p><em>For a quick demo of what Raylib looks like, <a href="https://github.com/schveiguy/dman">here is a program</a> I wrote in a few minutes that bounces a Raylib-drawn D-man around the window.</em></p>
<p>Everyone in the class is using Windows, so the toolchain that I am having them use is the stock DMD compiler and the <a href="https://code.visualstudio.com/">Visual Studio Code</a> development environment <a href="https://github.com/Pure-D/code-d">with the code-d extension</a>. Throughout the last year-and-a-half, I have had the kids build such classics as <a href="https://codingcat.club/d_homework2.html">hangman</a> and <a href="https://codingcat.club/d_homework3.html">tic-tac-toe</a> using text-based “graphics”. After that came the <a href="https://codingcat.club/d_homework4.html">introduction to 2D graphics</a> and Raylib, where we built a brick-breaking game similar to Arkanoid and others.</p>
<figure>
<img src="https://user-images.githubusercontent.com/580778/143625571-e125324c-baac-4c8c-aff9-fed5f4271fe5.png" alt="Bricker"/><br/>
</figure>
<p>Finally, I let the students pick what they wanted for the last project, and their pick was a rock-paper-scissors online tournament game. I’m not sure of the lasting power of that one…</p>
<p>Keep in mind that my goal was to teach them programming, not necessarily D. Working through all these projects allowed me to introduce a lot of the typical programming concepts (branching, looping, functions, data types, arrays, etc.). This year we are focusing on aggregates (<a href="https://codingcat.club/d_homework2021_2.html">specifically arrays and structs</a>), and how they can be useful to encapsulate your coding solution into pieces that are easier to deal with. The game we are writing this year is a snake clone. I’m hoping to wrap things up on that by the end of the year, and then next year add in networking to have the game playable between the students (all the kids these days are into online tournament-style games).</p>
<figure>
<img src="https://user-images.githubusercontent.com/580778/143627263-73243753-2bac-4af9-a356-22b60bd08fd7.png" alt="Snake"/><br/>
</figure>
<h2 id="mytakeonteachingwithd">My Take on Teaching With D</h2>
<p>So how is D as a beginner’s programming language? I can say with confidence that the kids understand the flavor of D that I have taught just as well as the other languages. What flavor is that you may ask? Why vanilla of course! As D was the first <em>typed</em> language they were exposed to, I had to first explain types and why they are important. I also had to pick and choose which concepts in D I did <em>not</em> want to confuse them with. To that end, I’ve left out a lot of the advanced features (so far), such as:</p>
<ul>
<li> Templates</li>
<li> Type inference</li>
<li> Operator overloading</li>
<li> Overloading in general!</li>
<li> <code>__traits</code></li>
<li> Classes/Interfaces/OOP</li>
<li> Pointers/references (mostly)</li>
<li> Memory management in general (thank you GC!)</li>
</ul>
<p>This means that a lot of language features are missing from “Vanilla D”, and a lot of those are pieces I like. I had to force myself to avoid those things while teaching so as not to confuse them. I also try to avoid shortcuts if I can, as I want them to master the basic concepts before learning how to do it quicker or less verbosely. I tried hard to always use curly braces for scope blocks, for instance, instead of just writing single statements without them.</p>
<p>The features that I found the kids handled well were basic types like <code>int</code>s and <code>string</code>s (though what a funny name “string” is, that took a while to sink in), <code>if</code> statements and <code>foreach</code>/<code>while</code> loops, <code>struct</code>s, and functions. They had a harder time understanding arrays and associative arrays, which might be due to my lack of experience teaching. I’ll also note that teaching virtually has some significant challenges—there’s just no substitute to being able to walk over to a student’s computer and observe and help their progress or draw out on a whiteboard how data is laid out. One surprising thing (to me anyway) that they handled completely in stride, was nested functions. That’s a nice D feature that is not available in C, barely in C++, and something that I personally took a while to get used to.</p>
<h2 id="whatcouldgowrong">What Could Go Wrong?</h2>
<p>The challenges were numerous. First I had to try and remember what it’s like to know nothing about programming. I did not take any classes on teaching programming and did not look up the “proper” way to teach it, I just went with what I thought would be the next best thing to do based on their skills and experience. Having class only once every two weeks is a big drawback since the students’ brains tend to garbage-collect some of the stuff we worked on last time. For sure, a daily or maybe twice-weekly class schedule would improve the situation, but that would mean I’d have to generate material to teach that many classes, which I unfortunately don’t have the time for.</p>
<p>Secondly, I previously had no experience with games programming. Raylib made this pretty easy, and as long as you can understand event loops, it’s pretty straightforward (and fun—I wish I had learned it sooner).</p>
<p>Aside from my personal and environmental shortcomings, I have some suggestions for the D language and community that would make D a much better “first language”. In no particular order:</p>
<h3 id="errormessages">Error Messages</h3>
<p>Error messages in D are sometimes esoteric, and I’m not just talking about templates. The most common error the students make is bad punctuation. This leads to some of the worst messages. Most of the time, I need to explain what is happening, but even when explaining it myself, I am sometimes thwarted by the compiler. For instance, if you forget a semicolon:</p>
<pre>void main()
{
    import std.stdio;
    int x = 5
    writeln(x); // line 5
}</pre>
<p>The resulting error is:</p>
<pre>foo.d(5): Error: semicolon expected, not `writeln`</pre>
<p>But wait, there <em>is</em> a semicolon on line 5! So why is it having a problem? Technically, putting an extra semicolon just before the <code>writeln</code> call on line 5 would solve the error (after all, D doesn’t have significant whitespace). But really, the compiler shouldn’t be suggesting that.</p>
<p>I’d rather see something like:</p>
<pre>foo.d(5): Error: previous statement not terminated, perhaps you need 
a semicolon on line 4?</pre>
<p>What if you are missing a brace or have an extra one? That spits out a lot of error vomit that is sometimes really difficult to decipher. I know this isn’t as easy a problem to solve, but since the compiler is not even to the tricky semantic parts, what if it used some other hints of the source to try and tease out a suggested solution? Like maybe taking cues from the indentation.</p>
<p>A great feature of the D compiler is the spelling correction suggestions. But sometimes it’s not easy to see what has changed in the suggested spelling correction (especially when it’s just different capitalization). Why not highlight the changed letters? Since D has gained colorized output for errors, things have become much clearer in my opinion.</p>
<p>I do have to relay a comment from one of my students, who said he appreciated the ability of VS Code to jump to the line that the compiler error is referencing. This helps put into perspective where their mindset is.</p>
<h3 id="debuggeronvscodeforwindows">Debugger on VSCode for Windows</h3>
<p>Another challenge I’ve faced is the lack of a good debugging experience for VS Code on Windows. The C debugger for VS Code displays, for example, a string as a length and a C string (which might have trailing garbage). I’d rather not confuse them with this. I have read that Visual D has a better debugging experience, but I need dub support for these projects, and Visual D focuses on Visual Studio integration, something I don’t necessarily want to deal with in teaching these kids. I’m hoping that a recent focus on debugging (e.g., the LLDB integration project) will help.</p>
<p>I think WebFreak has done a great job on the VS Code plugin, and for the most part, it works amazingly well. Thank you! I know debugging is a piece that is hard to get right.</p>
<h3 id="linkingexternallibraries">Linking External Libraries</h3>
<p>My next challenge is using dub for linking. Dub is great if you are only doing things with D and OS-supplied libraries. As soon as you need to depend on an external C library that is not part of your OS (such as Raylib), now you are not just adding dependencies but downloading pre-built libraries, or trying to build them yourself. I’m not sure if I have great suggestions on this, but I would like some way for dub to be told where to download these libs or have a central place to put them where the linker can find them outside of specifying the location in your dub.json file. Many libraries are released on GitHub, which makes it a prime candidate for downloading and installing external libraries (maybe even <a href="https://dlang.org/spec/importc.html">when ImportC becomes viable</a>, it can automatically generate the bindings as well).</p>
<p>I spend an inordinate amount of time helping the kids set up their build environments, and having this built-in to the IDE or dub would be immensely helpful for using D for learning.</p>
<h2 id="suggestionsforthefuture">Suggestions for the Future</h2>
<p>I am confident that D can be a viable first language. I have students that, prior to my class, had never before written real code now creating 2D games using D and Raylib (with a lot of hand-holding, darn it!). What I think D needs for this success to be scalable is a set of resources that assumes no programming experience. Most of D’s learning resources are aimed at teaching experienced programmers how D works in terms of their existing knowledge. They answer the question, “How do I do &lt;insert feature&gt; from &lt;insert language&gt; in D?” What we need is to answer the question, “How do I write code?”, that just happens to be using D.</p>
<p><em>Editor’s Note:</em>Some readers may be thinking at this point of <a href="https://ddili.org/ders/d.en/index.html">Ali Çehreli’s Programming in D</a>. Though written for beginner-level programmers, it’s focused more on teaching the language than teaching to program generally.</p>
<p>This shouldn’t be too hard to create, as there are a ton of resources on learning to program in C already. D is so similar you could almost just replace C with D and call it a day. In fact, I’m considering creating a YouTube series on the topic with the experience I’ve gained. One important tool that needs creating is a map of D features and where they fall on the difficulty scale. This allows one to write D tutorials that follow a gradual introduction of features. Broaching the subject of complex features is probably needed early, as they will experience some of them (you are using a template whenever you use <code>writeln</code>, or <code>to</code>), but explanation of the entire feature may be deferred to a later level.</p>
<p>And finally, such materials should be engaging! I can’t stress enough how important it is to be doing something <em>fun</em> when you are learning to program. The kids definitely are more engaged since we are creating games that they might actually want to play vs. simple hello world examples or even Javascript web pages. A nice way to proceed might be to write a game in Vanilla D and then introduce features that allow you to refine and improve the code.</p>
<p>I hope this becomes a reality because I think this area of development has been relegated to either frameworks that attempt to water down programming to get kids engaged or sterile hello world-style programming that is intended for rote instruction or reference. I think we can show the full potential of D and, at the same time, engage eager learners with interesting and fun projects to trick them into learning code with our favorite language!</p>
					</div></div>
  </body>
</html>
