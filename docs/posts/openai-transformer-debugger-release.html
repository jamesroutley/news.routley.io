<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/openai/transformer-debugger">Original</a>
    <h1>OpenAI – transformer debugger release</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Transformer Debugger (TDB) is a tool developed by OpenAI&#39;s <a href="https://openai.com/blog/introducing-superalignment" rel="nofollow">Superalignment
team</a> with the goal of
supporting investigations into specific behaviors of small language models. The tool combines
<a href="https://openai.com/research/language-models-can-explain-neurons-in-language-models" rel="nofollow">automated interpretability</a>
techniques with <a href="https://transformer-circuits.pub/2023/monosemantic-features" rel="nofollow">sparse autoencoders</a>.</p>
<p dir="auto">TDB enables rapid exploration before needing to write code, with the ability to intervene in the
forward pass and see how it affects a particular behavior. It can be used to answer questions like,
&#34;Why does the model output token A instead of token B for this prompt?&#34; or &#34;Why does attention head
H to attend to token T for this prompt?&#34; It does so by identifying specific components (neurons,
attention heads, autoencoder latents) that contribute to the behavior, showing automatically
generated explanations of what causes those components to activate most strongly, and tracing
connections between components to help discover circuits.</p>
<p dir="auto">These videos give an overview of TDB and show how it can be used to investigate <a href="https://arxiv.org/abs/2211.00593" rel="nofollow">indirect object
identification in GPT-2 small</a>:</p>
<ul dir="auto">
<li><a href="https://www.loom.com/share/721244075f12439496db5d53439d2f84?sid=8445200e-c49e-4028-8b8e-3ea8d361dec0" rel="nofollow">Introduction</a></li>
<li><a href="https://www.loom.com/share/21b601b8494b40c49b8dc7bfd1dc6829?sid=ee23c00a-9ede-4249-b9d7-c2ba15993556" rel="nofollow">Neuron viewer pages</a></li>
<li><a href="https://www.loom.com/share/3478057cec484a1b85471585fef10811?sid=b9c3be4b-7117-405a-8d31-0f9e541dcfb6" rel="nofollow">Example: Investigating name mover heads</a></li>
<li><a href="https://www.loom.com/share/6bd8c6bde84b42a98f9a26a969d4a3ad?sid=4a09ac29-58a2-433e-b55d-762414d9a7fa" rel="nofollow">Example: Beyond name mover heads</a></li>
</ul>

<ul dir="auto">
<li><a href="https://github.com/openai/transformer-debugger/blob/main/neuron_viewer/README.md">Neuron viewer</a>: A React app that hosts TDB as well as pages with information about individual model components (MLP neurons, attention heads and autoencoder latents for both).</li>
<li><a href="https://github.com/openai/transformer-debugger/blob/main/neuron_explainer/activation_server/README.md">Activation server</a>: A backend server that performs inference on a subject model to provide data for TDB. It also reads and serves data from public Azure buckets.</li>
<li><a href="https://github.com/openai/transformer-debugger/blob/main/neuron_explainer/models/README.md">Models</a>: A simple inference library for GPT-2 models and their autoencoders, with hooks to grab activations.</li>
<li><a href="https://github.com/openai/transformer-debugger/blob/main/datasets.md">Collated activation datasets</a>: top-activating dataset examples for MLP neurons, attention heads and autoencoder latents.</li>
</ul>

<p dir="auto">Follow these steps to install the repo.  You&#39;ll first need python/pip, as well as node/npm.</p>
<p dir="auto">Though optional, we recommend you use a virtual environment or equivalent:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# If you&#39;re already in a venv, deactivate it.
deactivate
# Create a new venv.
python -m venv ~/.virtualenvs/transformer-debugger
# Activate the new venv.
source ~/.virtualenvs/transformer-debugger/bin/activate"><pre><span><span>#</span> If you&#39;re already in a venv, deactivate it.</span>
deactivate
<span><span>#</span> Create a new venv.</span>
python -m venv <span>~</span>/.virtualenvs/transformer-debugger
<span><span>#</span> Activate the new venv.</span>
<span>source</span> <span>~</span>/.virtualenvs/transformer-debugger/bin/activate</pre></div>
<p dir="auto">Once your environment is set up, follow the following steps:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone git@github.com:openai/transformer-debugger.git
cd transformer-debugger

# Install neuron_explainer
pip install -e .

# Set up the pre-commit hooks.
pre-commit install

# Install neuron_viewer.
cd neuron_viewer
npm install
cd .."><pre>git clone git@github.com:openai/transformer-debugger.git
<span>cd</span> transformer-debugger

<span><span>#</span> Install neuron_explainer</span>
pip install -e <span>.</span>

<span><span>#</span> Set up the pre-commit hooks.</span>
pre-commit install

<span><span>#</span> Install neuron_viewer.</span>
<span>cd</span> neuron_viewer
npm install
<span>cd</span> ..</pre></div>
<p dir="auto">To run the TDB app, you&#39;ll then need to follow the instructions to set up the <a href="https://github.com/openai/transformer-debugger/blob/main/neuron_explainer/activation_server/README.md">activation server backend</a> and <a href="https://github.com/openai/transformer-debugger/blob/main/neuron_viewer/README.md">neuron viewer frontend</a>.</p>

<p dir="auto">To validate changes:</p>
<ul dir="auto">
<li>Run <code>pytest</code></li>
<li>Run <code>mypy --config=mypy.ini .</code></li>
<li>Run activation server and neuron viewer and confirm that basic functionality like TDB and neuron
viewer pages is still working</li>
</ul>

<ul dir="auto">
<li><a href="https://github.com/openai/transformer-debugger/blob/main/terminology.md">Terminology</a></li>
</ul>

<p dir="auto">Please cite as:</p>
<div data-snippet-clipboard-copy-content="Mossing, et al., “Transformer Debugger”, GitHub, 2024."><pre><code>Mossing, et al., “Transformer Debugger”, GitHub, 2024.
</code></pre></div>
<p dir="auto">BibTex citation:</p>
<div data-snippet-clipboard-copy-content="@misc{mossing2024tdb,
  title={Transformer Debugger},
  author={Mossing, Dan and Bills, Steven and Tillman, Henk and Dupré la Tour, Tom and Cammarata, Nick and Gao, Leo and Achiam, Joshua and Yeh, Catherine and Leike, Jan and Wu, Jeff and Saunders, William},
  year={2024},
  publisher={GitHub},
  howpublished={\url{https://github.com/openai/transformer-debugger}},
}"><pre><code>@misc{mossing2024tdb,
  title={Transformer Debugger},
  author={Mossing, Dan and Bills, Steven and Tillman, Henk and Dupré la Tour, Tom and Cammarata, Nick and Gao, Leo and Achiam, Joshua and Yeh, Catherine and Leike, Jan and Wu, Jeff and Saunders, William},
  year={2024},
  publisher={GitHub},
  howpublished={\url{https://github.com/openai/transformer-debugger}},
}
</code></pre></div>
</article></div></div>
  </body>
</html>
