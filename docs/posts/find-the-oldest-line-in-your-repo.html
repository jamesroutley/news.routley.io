<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://milofultz.com/2025-01-26-find-the-oldest-line-in-your-repo.html">Original</a>
    <h1>Find the oldest line in your repo</h1>
    
    <div id="readability-page-1" class="page"><div id="main"><p>This is how all my projects go. I get a wild hare and then figure out how I can make a shell script to do it. Thanks to some help from people online, I was able to make a script that listed out the oldest lines in a git repo. Kind of fun to see what legacy stuff is still around.</p><p><a href="https://stackoverflow.com/questions/68340670/find-oldest-line-of-code-in-git-repository">Stack Overflow question that was helpful</a></p><p><a href="https://gist.github.com/tclavier/b2991b7836fffbfdb99aa2946c2c5817">`git` gist I used as a starting point</a></p><pre><code>#!/bin/bash

# the `grep` call is to only match non-binary files
for file in $(find $1 -type f -not -path &#39;./node_modules/*&#39; -not -path &#39;./.git/*&#39; -exec grep -I -q . {} \; -print); do
  # this is to only do a blame on files that are tracked
  git ls-files --error-unmatch &#34;$file&#34; &amp;&gt;/dev/null
  if [[ $? == 0 ]]; then
    git blame --date=format:%Y%m%d -f $file
  fi
# I made the `match` call only search for years that start with `20`, so needs modification if commits precede 2000
done | awk $&#39;{ match($0, /20[0-2][0-9]{5}/); print substr($0, RSTART, RLENGTH) &#34;\t&#34; $0 }&#39; | sort -r | tail
</code></pre></div></div>
  </body>
</html>
