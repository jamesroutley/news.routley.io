<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://wiki.qemu.org/ChangeLog/6.2">Original</a>
    <h1>QEMU 6.2</h1>
    
    <div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div>

<h2><span id="System_emulation">System emulation</span></h2>
<h3><span id="Incompatible_changes">Incompatible changes</span></h3>
<p>Consult the <a rel="nofollow" href="https://qemu-project.gitlab.io/qemu/about/removed-features.html">&#39;Removed features&#39; </a> page for details of suggested replacement functionality
</p>
<h3><span id="New_deprecated_options_and_features">New deprecated options and features</span></h3>
<p>Consult the <a rel="nofollow" href="https://qemu-project.gitlab.io/qemu/about/deprecated.html">&#34;Deprecated Features&#34;</a> chapter of the QEMU System Emulation User&#39;s Guide for further details of the deprecations and their suggested replacements.
</p>
<h3><span id="68k">68k</span></h3>
<ul><li>Improved support for Apple&#39;s Nubus, including the ability to load declaration ROMs and slot IRQ support</li>
<li>The macfb framebuffer device now supports the same video modes found on a real Quadra 800</li></ul>
<h3><span id="Alpha">Alpha</span></h3>
<h3><span id="Arm">Arm</span></h3>
<ul><li>On macOS hosts with Apple Silicon CPUs we now support the &#39;hvf&#39; accelerator for running AArch64 guests</li>
<li>M-profile CPUs now emulate trapping on division by zero via CCR.DIV_0_TRP</li>
<li>The pl011 UART model now supports sending &#39;break&#39;</li>
<li>The Fujitsu A64FX processor model is now supported in TCG (&#39;-cpu a64fx&#39;)</li>
<li>The M-profile MVE extension is now supported, and enabled in the Cortex-M55</li>
<li>The deprecated machine names &#39;raspi2&#39; and &#39;raspi3&#39; have been removed; use &#39;raspi2b&#39; and &#39;raspi3b&#39; instead</li>
<li>The &#39;virt&#39; machine now supports an emulated ITS</li>
<li>New machine type: kudo-bmc</li>
<li>The xlnx-zcu102 and xlnx-versal-virt machines now support BBRAM and eFUSE devices</li>
<li>The &#39;virt&#39; machine now supports more than 123 CPUs in TCG emulation mode</li>
<li>The pl031 real-time clock device now supports sending RTC_CHANGE QMP events</li></ul>
<h3><span id="AVR">AVR</span></h3>
<h3><span id="Hexagon">Hexagon</span></h3>
<h3><span id="HPPA">HPPA</span></h3>
<h3><span id="Microblaze">Microblaze</span></h3>
<h3><span id="MIPS">MIPS</span></h3>
<h3><span id="Nios2">Nios2</span></h3>
<h3><span id="OpenRISC">OpenRISC</span></h3>
<h3><span id="PowerPC">PowerPC</span></h3>
<ul><li>Improved POWER10 support for the &#39;powernv&#39; machine</li>
<li>Initial support for POWER10 DD2.0 CPU added</li>
<li>Added support for FORM2 PAPR NUMA descriptions in the &#34;pseries&#34; machine type
<ul><li>With a guest kernel that also has support, this allows for asymmetric and other complex NUMA tolopogies which previously couldn&#39;t be communicated to the guest</li></ul></li>
<li>Maintainer changed from David Gibson &amp; Greg Kurz, to Cédric le Goater &amp; Daniel Henrique Barboza</li></ul>
<h3><span id="Renesas_RX">Renesas RX</span></h3>
<h3><span id="Renesas_SH">Renesas SH</span></h3>
<h3><span id="RISC-V">RISC-V</span></h3>
<ul><li>Add Zb[abcs] instruction support</li>
<li>Remove RVB support</li>
<li>Fixup virt flash node</li>
<li>Don&#39;t override users supplied ISA version</li>
<li>Fixup some CSR accesses</li>
<li>Fix an overflow in the SiFive CLINT (<a rel="nofollow" href="https://gitlab.com/qemu-project/qemu/-/issues/493">https://gitlab.com/qemu-project/qemu/-/issues/493</a>)</li>
<li>ePMP CSR address updates</li>
<li>SiFive PWM support</li>
<li>Support for RISC-V ACLINT</li>
<li>Support vhost-user and numa mem options on all boards</li>
<li>mstatus.SD bug fix for hypervisor extensions</li>
<li>OpenTitan fix for USB dev address</li>
<li>OpenTitan update to latest bitstream build</li>
<li>Remove the Ibex PLIC</li>
<li>Bug fix of setting mstatus_hs.[SD|FS] bits</li>
<li>Fixes for sifive PDMA</li>
<li>Mark shakti_c as not user creatable</li>
<li>Add support for the experimental J extension</li>
<li>Update the fmin/fmax handling</li>
<li>Fixup VS interrupt forwarding</li></ul>
<h3><span id="s390x">s390x</span></h3>
<ul><li>Improved storage key emulation (e.g. fixed address handling, lazy storage key enablement for TCG, ...)</li>
<li>New gen16 CPU features are now enabled automatically in the latest machine type</li></ul>
<h3><span id="SPARC">SPARC</span></h3>
<ul><li>Fix for booting sun4m machines with more than 1 CPU</li></ul>
<h3><span id="Tricore">Tricore</span></h3>
<h3><span id="x86">x86</span></h3>
<ul><li>New Snowridge-v4 CPU model, with split-lock-detect feature disabled</li></ul>
<h4><span id="KVM">KVM</span></h4>
<ul><li>Support for SGX in the virtual machine, using the /dev/sgx_vepc device on the host and the &#34;memory-backend-epc&#34; backend in QEMU.</li>
<li>New &#34;hv-apicv&#34; CPU property (aliased to &#34;hv-avic&#34;) sets the HV_DEPRECATING_AEOI_RECOMMENDED bit in CPUID[0x40000004].EAX.</li></ul>
<h4><span id="x86_64">x86_64</span></h4>
<h4><span id="AMD_SEV">AMD SEV</span></h4>
<ul><li>Measured launch with direct kernel boot is now possible by setting the &#39;kernel-hashes=on&#39; property to the &#39;sev-guest&#39; object. This requires a correspondingly new enough firmware to handle the hashes.</li></ul>
<h3><span id="Xtensa">Xtensa</span></h3>
<h3><span id="Device_emulation_and_assignment">Device emulation and assignment</span></h3>
<h4><span id="ACPI">ACPI</span></h4>
<h4><span id="Audio">Audio</span></h4>
<h4><span id="Block_devices">Block devices</span></h4>
<h4><span id="Graphics">Graphics</span></h4>
<h4><span id="I2C">I2C</span></h4>
<h4><span id="Input_devices">Input devices</span></h4>
<h4><span id="IPMI">IPMI</span></h4>
<h4><span id="Multi-process_QEMU">Multi-process QEMU</span></h4>
<h4><span id="Network_devices">Network devices</span></h4>
<h4><span id="NVDIMM">NVDIMM</span></h4>
<h4><span id="NVMe">NVMe</span></h4>
<h5><span id="Emulated_NVMe_Controller">Emulated NVMe Controller</span></h5>
<h4><span id="PCI/PCIe"></span><span id="PCI.2FPCIe">PCI/PCIe</span></h4>
<h4><span id="SCSI">SCSI</span></h4>
<h4><span id="SD_card">SD card</span></h4>
<h4><span id="SMBIOS">SMBIOS</span></h4>
<h4><span id="TPM">TPM</span></h4>
<h4><span id="USB">USB</span></h4>
<h4><span id="VFIO">VFIO</span></h4>
<h4><span id="virtio">virtio</span></h4>
<ul><li>virtio-mem
<ul><li>QEMU now fully supports guest memory dumps with virtio-mem.</li>
<li>QEMU now cleanly supports precopy migration, postcopy migration and background snapshots with virtio-mem.</li></ul></li></ul>
<h4><span id="Xen">Xen</span></h4>
<h4><span id="fw_cfg">fw_cfg</span></h4>
<h4><span id="9pfs">9pfs</span></h4>
<ul><li>Fixed an occasional <a rel="nofollow" href="https://lists.gnu.org/archive/html/qemu-devel/2021-09/msg00320.html">crash when handling &#39;Twalk&#39;</a> requests; thus bug was introduced in QEMU 6.1.0.</li>
<li>Fixed sub-optimal I/O performance on guest due to incorrect IOUNIT which happened with certain applications like &#39;cat&#39; which retrieve stat&#39;s st_blksize at runtime to determine their read/write buffer size.</li></ul>
<h4><span id="virtiofs">virtiofs</span></h4>
<h4><span id="Semihosting">Semihosting</span></h4>
<h3><span id="Audio_2">Audio</span></h3>
<h3><span id="Character_devices">Character devices</span></h3>
<ul><li>ESCC reset fixes</li></ul>
<h3><span id="Crypto_subsystem">Crypto subsystem</span></h3>
<h3></h3>
<h3><span id="GUI">GUI</span></h3>
<h3><span id="GDBStub">GDBStub</span></h3>
<ul><li>we now support Txxthread:yyyy; replies instead of a plain Sxx for signals arriving at a thread</li>
<li>a bug with watchpoints and icount has been fixed</li></ul>
<h3><span id="TCG_Plugins">TCG Plugins</span></h3>
<h3><span id="Host_support">Host support</span></h3>
<h3><span id="Memory_backends">Memory backends</span></h3>
<h3><span id="Migration">Migration</span></h3>
<h3><span id="Monitor">Monitor</span></h3>
<h4><span id="QMP">QMP</span></h4>
<ul><li>New event DEVICE_UNPLUG_GUEST_ERROR, which allows guest-reported failures of hot unplugs to be reported to the user or management layer
<ul><li>Since this relies on the guest, an event can&#39;t be guaranteed and only some hotplug mechanisms can generate it at all</li>
<li>This will eventually replace MEM_UNPLUG_ERROR which reported the same thing, but only for memory unplug</li></ul></li></ul>
<h4><span id="HMP">HMP</span></h4>
<h3><span id="Network">Network</span></h3>
<h3><span id="Block_device_backends_and_tools">Block device backends and tools</span></h3>
<ul><li><i>qemu-nbd</i> now defaults to writeback caching, rather than writethrough, to match the defaults of <i>qemu-img</i>. While this has better performance, it may affect correctness if you were previously relying on writethrough semantics without explicit use of the &#39;--cache=&#39; option.</li>
<li><i>qemu-nbd</i> now has a <i>--selinux-label</i> option for setting the SELinux label of a Unix socket.</li></ul>
<h3><span id="Tracing">Tracing</span></h3>
<h3><span id="Miscellaneous">Miscellaneous</span></h3>
<h2><span id="User-mode_emulation">User-mode emulation</span></h2>
<h3><span id="binfmt_misc">binfmt_misc</span></h3>
<h3><span id="Hexagon_2">Hexagon</span></h3>
<h2><span id="TCG">TCG</span></h2>
<ul><li>plugins now have a bool arg parsing helper and cleaned up argument syntax</li>
<li>the cache plugin is now multi-core aware</li></ul>
<h2><span id="Guest_agent">Guest agent</span></h2>
<h2><span id="Build_Information">Build Information</span></h2>
<ul><li>the --enable-git-update and --disable-git-update options to configure were removed</li>
<li>the --disable-blobs option to configure is deprecated and should be replaced with --disable-install-blobs</li>
<li>the --enable-trace-backend to configure is deprecated and should be replaced with --enable-trace-backends</li>
<li>the --enable-jemalloc to configure is deprecated and should be replaced with --enable-malloc=jemalloc</li>
<li>the --enable-tcmalloc to configure is deprecated and should be replaced with --enable-malloc=tcmalloc</li>
<li>versions 5.2 to 6.1 of QEMU didn&#39;t fully obey the configure options --extra-cflags and --extra-ldflags, so you could have some latent bugs if you were using them (and hoping that they would work).  In particular, note that passing <tt>--extra-cflags=&#39;-Wall&#39;</tt> will override QEMU&#39;s choice of which warnings need to be disabled, and might cause the build to fail if using <tt>-Werror</tt>.</li></ul>
<h3><span id="Python">Python</span></h3>
<h3><span id="GIT_submodules">GIT submodules</span></h3>
<h3><span id="Container_Based_Builds">Container Based Builds</span></h3>
<h3><span id="VM_Based_Builds">VM Based Builds</span></h3>
<h3><span id="Build_Dependencies">Build Dependencies</span></h3>
<h3><span id="Windows">Windows</span></h3>
<h3><span id="Testing_and_CI">Testing and CI</span></h3>
<ul><li>The <b>tests/acceptance</b> folder was never used to store acceptance tests in terms of software engineering. This naming could confuse developers adding tests using the Avocado Framework to this folder. The folder name change to <b>tests/avocado</b> also changed the <b>make</b> target from <b>check-acceptance</b> to <b>check-avocado</b>. In this case, the use of the <b>check-acceptance</b> target is deprecated.</li></ul>
<h2><span id="Known_issues">Known issues</span></h2>
<ul><li>see <a href="https://wiki.qemu.org/Planning/6.2" title="Planning/6.2">Planning/6.2</a></li></ul>
<!-- 
NewPP limit report
Cached time: 20211215195420
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.084 seconds
Real time usage: 0.086 seconds
Preprocessor visited node count: 246/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key qemu_mediawiki:pcache:idhash:1432-0!canonical and timestamp 20211215195420 and revision id 10709
 -->
</div></div></div>
  </body>
</html>
