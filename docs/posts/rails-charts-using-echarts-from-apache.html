<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/railsjazz/rails_charts">Original</a>
    <h1>Rails Charts Using ECharts from Apache</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://www.railsjazz.com" rel="nofollow"><img src="https://github.com/igorkasyanchuk/rails_time_travel/raw/main/docs/my_other.svg?raw=true" alt="RailsJazz"/></a></p>
<p dir="auto"><a href="https://buymeacoffee.com/igorkasyanchuk" rel="nofollow"><img src="https://github.com/igorkasyanchuk/get-smart/raw/main/docs/snapshot-bmc-button-small.png?raw=true" alt="&#34;Buy Me A Coffee&#34;"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/all.jpg"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/all.jpg" alt="Charts"/></a></p>
<p dir="auto">One more gem to build nice charts for your Ruby on Rails application.</p>
<p dir="auto">With it you can build various types of charts <a href="https://echarts.apache.org/" rel="nofollow">Apache eCharts</a> library (v. 5.4.0). This gem simplifies interface and adding few helpers to start adding charts in your app with just a few lines of code.</p>
<p dir="auto">What you can build with it:</p>
<ul dir="auto">
<li><a href="#area-chart">area chart</a></li>
<li><a href="#line-chart">line chart</a></li>
<li><a href="#bar-chart">bar chart</a></li>
<li><a href="#donut-chart">donut chart</a></li>
<li><a href="#pie-chart">pie chart</a></li>
<li><a href="#radar-chart">radar chart</a></li>
<li><a href="#calendar-chart">calendar chart</a></li>
<li><a href="#candlestick-chart">candlestick chart</a></li>
<li><a href="#funnel-chart">funnel chart</a></li>
<li><a href="#gauge-chart">gauge chart</a></li>
<li><a href="#parallel-chart">parallel chart</a></li>
<li><a href="#sankey-chart">sankey chart</a></li>
<li><a href="#scatter-chart">scatter chart</a></li>
<li><a href="#stacked-bar-chart">stacked bar chart</a></li>
<li><a href="#custom-chart">custom chart</a></li>
</ul>
<p dir="auto">In most cases with one line of code you can have a nice chart. The idea of this gem was inspired by <a href="https://github.com/ankane/chartkick">Chartkick</a> gem which is great and allows you to build charts very quickly. It works best in cooperation with <a href="https://github.com/ankane/groupdate">groupdate</a> gem. Unfortunatelly it&#39;s missing many needed types of charts or other customization options.</p>
<p dir="auto">This implementation have more options and similar &#34;interface&#34; for building charts.</p>

<p dir="auto">Add gem to your application&#39;s Gemfile:</p>

<p dir="auto">Then execute:</p>

<p dir="auto">You can install ECharts with installation command</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ ./bin/rails rails_charts:install"><pre>$ ./bin/rails rails_charts:install</pre></div>
<p dir="auto">or do it manualy</p>

<ol dir="auto">
<li>add eCharts in main JS bundle, e.g. <code>app/assets/javascripts/application.js</code></li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="//= require echarts.min.js
//= require echarts/theme/dark.js"><pre><span>//= require echarts.min.js</span>
<span>//= require echarts/theme/dark.js</span></pre></div>
<ol start="3" dir="auto">
<li>add your first chart e.g.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= line_chart User.group(:age).count %&gt;"><pre>&lt;%= <span>line_chart</span> <span>User</span><span>.</span><span>group</span><span>(</span><span>:age</span><span>)</span><span>.</span><span>count</span> %&gt;</pre></div>
<ol start="4" dir="auto">
<li>customize charts if needed. See available options or <a href="https://echarts.apache.org/examples/en/index.html" rel="nofollow">official documentation</a>.</li>
</ol>

<ol dir="auto">
<li>Run:</li>
</ol>


<ol start="2" dir="auto">
<li>In <code>app/javascript/application.js</code> add this:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="import * as echarts from &#39;echarts&#39;;
import &#39;echarts/theme/dark&#39;;

window.echarts = echarts;"><pre><span>import</span> <span>*</span> <span>as</span> <span>echarts</span> <span>from</span> <span>&#39;echarts&#39;</span><span>;</span>
<span>import</span> <span>&#39;echarts/theme/dark&#39;</span><span>;</span>

<span>window</span><span>.</span><span>echarts</span> <span>=</span> <span>echarts</span><span>;</span></pre></div>

<ol start="2" dir="auto">
<li>In <code>app/javascript/packs/application.js</code> add this:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="import * as echarts from &#39;echarts&#39;;
import &#39;echarts/theme/dark&#39;;

window.echarts = echarts;"><pre><span>import</span> <span>*</span> <span>as</span> <span>echarts</span> <span>from</span> <span>&#39;echarts&#39;</span><span>;</span>
<span>import</span> <span>&#39;echarts/theme/dark&#39;</span><span>;</span>

<span>window</span><span>.</span><span>echarts</span> <span>=</span> <span>echarts</span><span>;</span></pre></div>
<ol start="3" dir="auto">
<li>add your first chart e.g.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= line_chart User.group(:age).count %&gt;"><pre>&lt;%= <span>line_chart</span> <span>User</span><span>.</span><span>group</span><span>(</span><span>:age</span><span>)</span><span>.</span><span>count</span> %&gt;</pre></div>
<ol start="4" dir="auto">
<li>customize charts if needed. See available options or <a href="https://echarts.apache.org/examples/en/index.html" rel="nofollow">official documentation</a>.</li>
</ol>

<ol dir="auto">
<li>change <code>config/importmap.rb</code></li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="pin &#34;echarts&#34;, to: &#34;echarts.min.js&#34;
pin &#34;echarts/theme/dark&#34;, to: &#34;echarts/theme/dark.js&#34;"><pre><span>pin</span> <span>&#34;echarts&#34;</span><span>,</span> <span>to</span>: <span>&#34;echarts.min.js&#34;</span>
<span>pin</span> <span>&#34;echarts/theme/dark&#34;</span><span>,</span> <span>to</span>: <span>&#34;echarts/theme/dark.js&#34;</span></pre></div>
<ol start="2" dir="auto">
<li>add eCharts in main JS</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="import &#34;echarts&#34;
import &#34;echarts/theme/dark&#34;"><pre><span>import</span> <span>&#34;echarts&#34;</span>
<span>import</span> <span>&#34;echarts/theme/dark&#34;</span></pre></div>
<ol start="3" dir="auto">
<li>add your first chart e.g.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= line_chart User.group(:age).count %&gt;"><pre>&lt;%= <span>line_chart</span> <span>User</span><span>.</span><span>group</span><span>(</span><span>:age</span><span>)</span><span>.</span><span>count</span> %&gt;</pre></div>
<ol start="4" dir="auto">
<li>customize charts if needed. See available options or <a href="https://echarts.apache.org/examples/en/index.html" rel="nofollow">official documentation</a>.</li>
</ol>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= line_chart data, {
  width: &#39;250px&#39;,
  height: &#39;250px&#39;,
  theme: &#39;dark&#39;,
  class: &#39;chart-container-class&#39;,
  style: &#39;padding: 10px&#39;
} %&gt;"><pre>&lt;%= <span>line_chart</span> <span>data</span><span>,</span> <span>{</span>
  <span>width</span>: <span>&#39;250px&#39;</span><span>,</span>
  <span>height</span>: <span>&#39;250px&#39;</span><span>,</span>
  <span>theme</span>: <span>&#39;dark&#39;</span><span>,</span>
  <span>class</span>: <span>&#39;chart-container-class&#39;</span><span>,</span>
  <span>style</span>: <span>&#39;padding: 10px&#39;</span>
<span>}</span> %&gt;</pre></div>
<p dir="auto">Available options:</p>
<div dir="auto" data-snippet-clipboard-copy-content="width: specify width of the chart
height: specify height of the chart
theme: specify theme of the chart (available themes examples https://echarts.apache.org/en/download-theme.html)
class: specify container&#39;s CSS class
id: specify container&#39;s ID
style: add inline style
debug: for gem development useful if you want to pause somewhere in the code
vertical: applicable for some types of charts
code: to see output code what is generated to see the chart, useful for debugging
options: {...}, nested hash, specify additional eCharts options"><pre><span>width</span>: <span>specify width of the chart</span>
<span>height</span>: <span>specify height of the chart</span>
<span>theme</span>: <span>specify theme of the chart (available themes examples https://echarts.apache.org/en/download-theme.html)</span>
<span>class</span>: <span>specify container&#39;s CSS class</span>
<span>id</span>: <span>specify container&#39;s ID</span>
<span>style</span>: <span>add inline style</span>
<span>debug</span>: <span>for gem development useful if you want to pause somewhere in the code</span>
<span>vertical</span>: <span>applicable for some types of charts</span>
<span>code</span>: <span>to see output code what is generated to see the chart, useful for debugging</span>
<span>options</span>: <span>{...}, nested hash, specify additional eCharts options</span></pre></div>
<p dir="auto">Apache eCharts options - <a href="https://echarts.apache.org/en/option.html#title" rel="nofollow">https://echarts.apache.org/en/option.html#title</a>.</p>
<p dir="auto">If you need to format tooltip (or other javascript function as an option) you can pass a JS function, but you need to wrap it like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="  options: {
    tooltip: {
      valueFormatter: RailsCharts.js(&#34;(value) =&gt; &#39;$&#39; + Math.round(value)&#34;)
    }
  }"><pre>  <span>options</span>: <span>{</span>
    <span>tooltip</span>: <span>{</span>
      <span>valueFormatter</span>: <span>RailsCharts</span><span>.</span><span>js</span><span>(</span><span>&#34;(value) =&gt; &#39;$&#39; + Math.round(value)&#34;</span><span>)</span>
    <span>}</span>
  <span>}</span></pre></div>

<p dir="auto">All examples available in <a href="https://github.com/railsjazz/rails_charts/tree/main/test/dummy/app/views/home">https://github.com/railsjazz/rails_charts/tree/main/test/dummy/app/views/home</a>. You can see more examples if you clone this repo and start a dummy app.</p>
<p dir="auto">Every chart has a built in default configuration for tooltips, or other options (sample <a href="https://github.com/railsjazz/rails_charts/blob/main/lib/rails_charts/line_chart.rb#L64-L75">https://github.com/railsjazz/rails_charts/blob/main/lib/rails_charts/line_chart.rb#L64-L75</a>). This is just to simplify usage of this gem. In the future the plan is to have it configured in initializer.</p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/area_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/area_chart.png" alt="Area Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= area_chart User.distinct.pluck(:role).map{|e| {name: e, data: User.where(role: e).group_by_day(:created_at).count} } %&gt;"><pre>&lt;%= <span>area_chart</span> <span>User</span><span>.</span><span>distinct</span><span>.</span><span>pluck</span><span>(</span><span>:role</span><span>)</span><span>.</span><span>map</span><span>{</span>|<span>e</span>| <span>{</span><span>name</span>: <span>e</span><span>,</span> <span>data</span>: <span>User</span><span>.</span><span>where</span><span>(</span><span>role</span>: <span>e</span><span>)</span><span>.</span><span>group_by_day</span><span>(</span><span>:created_at</span><span>)</span><span>.</span><span>count</span><span>}</span> <span>}</span> %&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/line_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/line_chart.png" alt="Line Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= line_chart User.group(:age).count, class: &#39;box&#39;,
  options: {
    title: {
      text: &#34;People count by age&#34;,
      left: &#39;center&#39;
    },
  }
%&gt;"><pre>&lt;%= <span>line_chart</span> <span>User</span><span>.</span><span>group</span><span>(</span><span>:age</span><span>)</span><span>.</span><span>count</span><span>,</span> <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>title</span>: <span>{</span>
      <span>text</span>: <span>&#34;People count by age&#34;</span><span>,</span>
      <span>left</span>: <span>&#39;center&#39;</span>
    <span>}</span><span>,</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/bar_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/bar_chart.png" alt="Bar Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= bar_chart User.group(:role).average(:age),
  class: &#39;box&#39;,
  theme: &#39;sakura&#39;,
  options: {
    series: {
      barWidth: &#39;50%&#39;
    },
    tooltip: {
      valueFormatter: RailsCharts.js(&#34;(value) =&gt; &#39;$&#39; + Math.round(value)&#34;)
    }
  }
%&gt;"><pre>&lt;%= <span>bar_chart</span> <span>User</span><span>.</span><span>group</span><span>(</span><span>:role</span><span>)</span><span>.</span><span>average</span><span>(</span><span>:age</span><span>)</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>theme</span>: <span>&#39;sakura&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>series</span>: <span>{</span>
      <span>barWidth</span>: <span>&#39;50%&#39;</span>
    <span>}</span><span>,</span>
    <span>tooltip</span>: <span>{</span>
      <span>valueFormatter</span>: <span>RailsCharts</span><span>.</span><span>js</span><span>(</span><span>&#34;(value) =&gt; &#39;$&#39; + Math.round(value)&#34;</span><span>)</span>
    <span>}</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/calendar_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/calendar_chart.png" alt="Calendar Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= calendar_chart Commit.for_calendar_chart,
  class: &#39;box&#39;,
  options: {
    visualMap: {
      show: true,
      min: 0,
      max: 40,
      orient: &#39;horizontal&#39;
    },
    calendar: [{
      range: &#39;2021&#39;,
    },]
  }
%&gt;
"><pre>&lt;%= <span>calendar_chart</span> <span>Commit</span><span>.</span><span>for_calendar_chart</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>visualMap</span>: <span>{</span>
      <span>show</span>: <span>true</span><span>,</span>
      <span>min</span>: <span>0</span><span>,</span>
      <span>max</span>: <span>40</span><span>,</span>
      <span>orient</span>: <span>&#39;horizontal&#39;</span>
    <span>}</span><span>,</span>
    <span>calendar</span>: <span>[</span><span>{</span>
      <span>range</span>: <span>&#39;2021&#39;</span><span>,</span>
    <span>}</span><span>,</span><span>]</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/candlestick_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/candlestick_chart.png" alt="Candlestick Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= candlestick_chart({
    &#39;2017-10-24&#39; =&gt; [20, 34, 10, 38],
    &#39;2017-10-25&#39; =&gt; [40, 35, 30, 50],
    &#39;2017-10-26&#39; =&gt; [31, 38, 33, 44],
    &#39;2017-10-27&#39; =&gt; [38, 15, 5, 42]
  },
  class: &#39;box&#39;,
  theme: &#39;roma&#39;,
  options: {
    xAxis: {
      axisTick: {
        alignWithLabel: true
      }
    }
  })
%&gt;"><pre>&lt;%= <span>candlestick_chart</span><span>(</span><span>{</span>
    <span>&#39;2017-10-24&#39;</span> <span>=&gt;</span> <span>[</span><span>20</span><span>,</span> <span>34</span><span>,</span> <span>10</span><span>,</span> <span>38</span><span>]</span><span>,</span>
    <span>&#39;2017-10-25&#39;</span> <span>=&gt;</span> <span>[</span><span>40</span><span>,</span> <span>35</span><span>,</span> <span>30</span><span>,</span> <span>50</span><span>]</span><span>,</span>
    <span>&#39;2017-10-26&#39;</span> <span>=&gt;</span> <span>[</span><span>31</span><span>,</span> <span>38</span><span>,</span> <span>33</span><span>,</span> <span>44</span><span>]</span><span>,</span>
    <span>&#39;2017-10-27&#39;</span> <span>=&gt;</span> <span>[</span><span>38</span><span>,</span> <span>15</span><span>,</span> <span>5</span><span>,</span> <span>42</span><span>]</span>
  <span>}</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>theme</span>: <span>&#39;roma&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>xAxis</span>: <span>{</span>
      <span>axisTick</span>: <span>{</span>
        <span>alignWithLabel</span>: <span>true</span>
      <span>}</span>
    <span>}</span>
  <span>}</span><span>)</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/funnel_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/funnel_chart.png" alt="Funnel Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= funnel_chart User.get_funnel_sample_data,
  class: &#39;box&#39;,
  height: &#39;400px&#39;,
  options: {
    title: {
      text: &#39;Demo&#39;,
      left: &#39;center&#39;
    }
  }
%&gt;"><pre>&lt;%= <span>funnel_chart</span> <span>User</span><span>.</span><span>get_funnel_sample_data</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>height</span>: <span>&#39;400px&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>title</span>: <span>{</span>
      <span>text</span>: <span>&#39;Demo&#39;</span><span>,</span>
      <span>left</span>: <span>&#39;center&#39;</span>
    <span>}</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/gauge_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/gauge_chart.png" alt="Gauge Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= gauge_chart User.get_gauge_sample_data,
  class: &#39;box&#39;,
  height: &#39;400px&#39;,
  options: {
    title: {
      text: &#39;Demo&#39;,
      left: &#39;center&#39;
    }
  }
%&gt;"><pre>&lt;%= <span>gauge_chart</span> <span>User</span><span>.</span><span>get_gauge_sample_data</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>height</span>: <span>&#39;400px&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>title</span>: <span>{</span>
      <span>text</span>: <span>&#39;Demo&#39;</span><span>,</span>
      <span>left</span>: <span>&#39;center&#39;</span>
    <span>}</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/parallel_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/parallel_chart.png" alt="Parallel Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;div class=&#34;box&#34;&gt;
  &lt;%= parallel_chart [
    [1, 2, 1, &#34;Ruby&#34;],
    [2, 3, 2, &#34;JavaScript&#34;],
    [3, 1, 3, &#34;C#&#34;]
  ], {
    options: {
      parallelAxis: [
        { dim: 0, name: &#39;2019&#39;, inverse: true, minInterval: 1, min: 1, nameTextStyle: { fontSize: 16 }, axisLabel: { fontSize: 16 } },
        { dim: 1, name: &#39;2020&#39;, inverse: true, minInterval: 1, min: 1, nameTextStyle: { fontSize: 16 }, axisLabel: { fontSize: 16 } },
        { dim: 2, name: &#39;2021&#39;, inverse: true, minInterval: 1, min: 1, nameTextStyle: { fontSize: 16 }, axisLabel: { fontSize: 16 } },
        { dim: 3, type: &#34;category&#34;, name: &#39;Language&#39;, data: [&#34;Ruby&#34;, &#34;JavaScript&#34;, &#34;C#&#34;], inverse: true, nameTextStyle: { fontSize: 16 }, axisLabel: { fontSize: 14 } },
      ]
    }
  }
  %&gt;
&lt;/div&gt;"><pre>&lt;<span>div</span> <span>class</span><span>=</span><span>&#34;box&#34;</span>&gt;
  &lt;%= <span>parallel_chart</span> <span>[</span>
    <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>1</span><span>,</span> <span>&#34;Ruby&#34;</span><span>]</span><span>,</span>
    <span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>2</span><span>,</span> <span>&#34;JavaScript&#34;</span><span>]</span><span>,</span>
    <span>[</span><span>3</span><span>,</span> <span>1</span><span>,</span> <span>3</span><span>,</span> <span>&#34;C#&#34;</span><span>]</span>
  <span>]</span><span>,</span> <span>{</span>
    <span>options</span>: <span>{</span>
      <span>parallelAxis</span>: <span>[</span>
        <span>{</span> <span>dim</span>: <span>0</span><span>,</span> <span>name</span>: <span>&#39;2019&#39;</span><span>,</span> <span>inverse</span>: <span>true</span><span>,</span> <span>minInterval</span>: <span>1</span><span>,</span> <span>min</span>: <span>1</span><span>,</span> <span>nameTextStyle</span>: <span>{</span> <span>fontSize</span>: <span>16</span> <span>}</span><span>,</span> <span>axisLabel</span>: <span>{</span> <span>fontSize</span>: <span>16</span> <span>}</span> <span>}</span><span>,</span>
        <span>{</span> <span>dim</span>: <span>1</span><span>,</span> <span>name</span>: <span>&#39;2020&#39;</span><span>,</span> <span>inverse</span>: <span>true</span><span>,</span> <span>minInterval</span>: <span>1</span><span>,</span> <span>min</span>: <span>1</span><span>,</span> <span>nameTextStyle</span>: <span>{</span> <span>fontSize</span>: <span>16</span> <span>}</span><span>,</span> <span>axisLabel</span>: <span>{</span> <span>fontSize</span>: <span>16</span> <span>}</span> <span>}</span><span>,</span>
        <span>{</span> <span>dim</span>: <span>2</span><span>,</span> <span>name</span>: <span>&#39;2021&#39;</span><span>,</span> <span>inverse</span>: <span>true</span><span>,</span> <span>minInterval</span>: <span>1</span><span>,</span> <span>min</span>: <span>1</span><span>,</span> <span>nameTextStyle</span>: <span>{</span> <span>fontSize</span>: <span>16</span> <span>}</span><span>,</span> <span>axisLabel</span>: <span>{</span> <span>fontSize</span>: <span>16</span> <span>}</span> <span>}</span><span>,</span>
        <span>{</span> <span>dim</span>: <span>3</span><span>,</span> <span>type</span>: <span>&#34;category&#34;</span><span>,</span> <span>name</span>: <span>&#39;Language&#39;</span><span>,</span> <span>data</span>: <span>[</span><span>&#34;Ruby&#34;</span><span>,</span> <span>&#34;JavaScript&#34;</span><span>,</span> <span>&#34;C#&#34;</span><span>]</span><span>,</span> <span>inverse</span>: <span>true</span><span>,</span> <span>nameTextStyle</span>: <span>{</span> <span>fontSize</span>: <span>16</span> <span>}</span><span>,</span> <span>axisLabel</span>: <span>{</span> <span>fontSize</span>: <span>14</span> <span>}</span> <span>}</span><span>,</span>
      <span>]</span>
    <span>}</span>
  <span>}</span>
  <span>%&gt;</span>
<span>&lt;/div&gt;</span></pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/donut_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/donut_chart.png" alt="Donut Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= donut_chart User.group(:role).count,
  class: &#39;box&#39;,
  options: {
    legend: {
      bottom: &#39;0&#39;
    },
    emphasis: {
      itemStyle: {
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowColor: &#39;rgba(0, 0, 0, 0.5)&#39;
      }
    }
  }
%&gt;"><pre>&lt;%= <span>donut_chart</span> <span>User</span><span>.</span><span>group</span><span>(</span><span>:role</span><span>)</span><span>.</span><span>count</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>legend</span>: <span>{</span>
      <span>bottom</span>: <span>&#39;0&#39;</span>
    <span>}</span><span>,</span>
    <span>emphasis</span>: <span>{</span>
      <span>itemStyle</span>: <span>{</span>
        <span>shadowBlur</span>: <span>10</span><span>,</span>
        <span>shadowOffsetX</span>: <span>0</span><span>,</span>
        <span>shadowColor</span>: <span>&#39;rgba(0, 0, 0, 0.5)&#39;</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/pie_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/pie_chart.png" alt="Pie Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= pie_chart User.group(:role).count,
  class: &#39;box&#39;,
  options: {
    legend: { orient: &#39;vertical&#39;, left: &#39;left&#39; }
  }
%&gt;"><pre>&lt;%= <span>pie_chart</span> <span>User</span><span>.</span><span>group</span><span>(</span><span>:role</span><span>)</span><span>.</span><span>count</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>legend</span>: <span>{</span> <span>orient</span>: <span>&#39;vertical&#39;</span><span>,</span> <span>left</span>: <span>&#39;left&#39;</span> <span>}</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/radar_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/radar_chart.png" alt="Radar Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= radar_chart User.get_data_for_radar_chart,
  class: &#39;box&#39;,
  options: {
    legend: {
      data: [&#39;Average Salaries&#39;, &#39;Maximum Salary&#39;],
      orient: &#39;vertical&#39;,
      left: &#39;20%&#39;
    }
  }
%&gt;"><pre>&lt;%= <span>radar_chart</span> <span>User</span><span>.</span><span>get_data_for_radar_chart</span><span>,</span>
  <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
  <span>options</span>: <span>{</span>
    <span>legend</span>: <span>{</span>
      <span>data</span>: <span>[</span><span>&#39;Average Salaries&#39;</span><span>,</span> <span>&#39;Maximum Salary&#39;</span><span>]</span><span>,</span>
      <span>orient</span>: <span>&#39;vertical&#39;</span><span>,</span>
      <span>left</span>: <span>&#39;20%&#39;</span>
    <span>}</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/sankey_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/sankey_chart.png" alt="Sankey Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= sankey_chart({
    data: [
      {name: &#39;Ruby&#39;}, {name: &#39;HTML&#39;}, {name: &#39;JS&#39;}, {name: &#39;Good&#39;}, {name: &#39;Bad&#39;}, {name: &#39;CSS&#39;}, {name: &#39;PHP&#39;}, {name: &#39;Frontend&#39;}, {name: &#39;Backend&#39;}
    ],
    links: [
      {
        source: &#39;Ruby&#39;,
        target: &#39;Good&#39;,
        value: 1
      },
      {
        source: &#39;HTML&#39;,
        target: &#39;Good&#39;,
        value: 1
      },
      {
        source: &#39;JS&#39;,
        target: &#39;Good&#39;,
        value: 1
      },
      {
        source: &#39;CSS&#39;,
        target: &#39;Good&#39;,
        value: 1
      },
      {
        source: &#39;PHP&#39;,
        target: &#39;Bad&#39;,
        value: 1
      },
      {
        source: &#39;Good&#39;,
        target: &#39;Backend&#39;,
        value: 1
      },
      {
        source: &#39;Good&#39;,
        target: &#39;Frontend&#39;,
        value: 3
      },
      {
        source: &#39;Bad&#39;,
        target: &#39;Backend&#39;,
        value: 1
      },
    ]
  }, {
    options: {

    }
  })
  %&gt;"><pre>&lt;%= <span>sankey_chart</span><span>(</span><span>{</span>
    <span>data</span>: <span>[</span>
      <span>{</span><span>name</span>: <span>&#39;Ruby&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;HTML&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;JS&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;Good&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;Bad&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;CSS&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;PHP&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;Frontend&#39;</span><span>}</span><span>,</span> <span>{</span><span>name</span>: <span>&#39;Backend&#39;</span><span>}</span>
    <span>]</span><span>,</span>
    <span>links</span>: <span>[</span>
      <span>{</span>
        <span>source</span>: <span>&#39;Ruby&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Good&#39;</span><span>,</span>
        <span>value</span>: <span>1</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>source</span>: <span>&#39;HTML&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Good&#39;</span><span>,</span>
        <span>value</span>: <span>1</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>source</span>: <span>&#39;JS&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Good&#39;</span><span>,</span>
        <span>value</span>: <span>1</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>source</span>: <span>&#39;CSS&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Good&#39;</span><span>,</span>
        <span>value</span>: <span>1</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>source</span>: <span>&#39;PHP&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Bad&#39;</span><span>,</span>
        <span>value</span>: <span>1</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>source</span>: <span>&#39;Good&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Backend&#39;</span><span>,</span>
        <span>value</span>: <span>1</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>source</span>: <span>&#39;Good&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Frontend&#39;</span><span>,</span>
        <span>value</span>: <span>3</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>source</span>: <span>&#39;Bad&#39;</span><span>,</span>
        <span>target</span>: <span>&#39;Backend&#39;</span><span>,</span>
        <span>value</span>: <span>1</span>
      <span>}</span><span>,</span>
    <span>]</span>
  <span>}</span><span>,</span> <span>{</span>
    <span>options</span>: <span>{</span>

    <span>}</span>
  <span>}</span><span>)</span>
  %&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/scatter_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/scatter_chart.png" alt="Scatter Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= scatter_chart [
    { name: &#39;John&#39;, data: User.random_scatter_chart(500, 200) },
    { name: &#39;Bob&#39;, data: User.random_scatter_chart(500, 1000) },
  ],
  {
    class: &#39;box&#39;,
    options: {
      xAxis: {
        name: &#39;Distance&#39;
      },
      yAxis: {
        name: &#39;Sales&#39;
      },
      legend: {
        data: [
          {name: &#39;John&#39;},
          {name: &#39;Bob&#39;},
        ]
      },
    },
  }
%&gt;"><pre>&lt;%= <span>scatter_chart</span> <span>[</span>
    <span>{</span> <span>name</span>: <span>&#39;John&#39;</span><span>,</span> <span>data</span>: <span>User</span><span>.</span><span>random_scatter_chart</span><span>(</span><span>500</span><span>,</span> <span>200</span><span>)</span> <span>}</span><span>,</span>
    <span>{</span> <span>name</span>: <span>&#39;Bob&#39;</span><span>,</span> <span>data</span>: <span>User</span><span>.</span><span>random_scatter_chart</span><span>(</span><span>500</span><span>,</span> <span>1000</span><span>)</span> <span>}</span><span>,</span>
  <span>]</span><span>,</span>
  <span>{</span>
    <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
    <span>options</span>: <span>{</span>
      <span>xAxis</span>: <span>{</span>
        <span>name</span>: <span>&#39;Distance&#39;</span>
      <span>}</span><span>,</span>
      <span>yAxis</span>: <span>{</span>
        <span>name</span>: <span>&#39;Sales&#39;</span>
      <span>}</span><span>,</span>
      <span>legend</span>: <span>{</span>
        <span>data</span>: <span>[</span>
          <span>{</span><span>name</span>: <span>&#39;John&#39;</span><span>}</span><span>,</span>
          <span>{</span><span>name</span>: <span>&#39;Bob&#39;</span><span>}</span><span>,</span>
        <span>]</span>
      <span>}</span><span>,</span>
    <span>}</span><span>,</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/stacked_bar_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/stacked_bar_chart.png" alt="Stacked bar Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= stacked_bar_chart [
    { name: &#39;high priority&#39;, data: Account.group_by_month(:created_at, format: &#34;%b %Y&#34;).count },
    { name: &#39;low priority&#39;, data: Account.group_by_month(:created_at, format: &#34;%b %Y&#34;).count }
  ],
  {
    options: {
      title: {
        text: &#34;Popular vs Unpopular&#34;
      },
    },
    class: &#39;box&#39;,
    vertical: true
  }
%&gt;"><pre>&lt;%= <span>stacked_bar_chart</span> <span>[</span>
    <span>{</span> <span>name</span>: <span>&#39;high priority&#39;</span><span>,</span> <span>data</span>: <span>Account</span><span>.</span><span>group_by_month</span><span>(</span><span>:created_at</span><span>,</span> <span>format</span>: <span>&#34;%b %Y&#34;</span><span>)</span><span>.</span><span>count</span> <span>}</span><span>,</span>
    <span>{</span> <span>name</span>: <span>&#39;low priority&#39;</span><span>,</span> <span>data</span>: <span>Account</span><span>.</span><span>group_by_month</span><span>(</span><span>:created_at</span><span>,</span> <span>format</span>: <span>&#34;%b %Y&#34;</span><span>)</span><span>.</span><span>count</span> <span>}</span>
  <span>]</span><span>,</span>
  <span>{</span>
    <span>options</span>: <span>{</span>
      <span>title</span>: <span>{</span>
        <span>text</span>: <span>&#34;Popular vs Unpopular&#34;</span>
      <span>}</span><span>,</span>
    <span>}</span><span>,</span>
    <span>class</span>: <span>&#39;box&#39;</span><span>,</span>
    <span>vertical</span>: <span>true</span>
  <span>}</span>
%&gt;</pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://suhith.mataroa.blog/railsjazz/rails_charts/blob/main/docs/custom_chart.png"><img src="https://suhith.mataroa.blog/railsjazz/rails_charts/raw/main/docs/custom_chart.png" alt="Custom Chart"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;%= custom_chart {...raw JS options ...} %&gt;"><pre>&lt;%= <span>custom_chart</span> <span>{</span>...<span>raw</span> <span>JS</span> <span>options</span> ...<span>}</span> %&gt;</pre></div>

<p dir="auto">You are welcome to contributes. Some open tasks:</p>
<ul dir="auto">
<li>support turbo streams?</li>
<li>add more specs</li>
<li>add more examples to the dummy app</li>
<li>customization, options overides, default values?</li>
<li>every &#34;5sec&#34; refresh</li>
<li>remote data</li>
<li>how to access chart from JS</li>
<li>better documentation how to specify theme, locale, etc</li>
<li>more examples with data structure</li>
<li>add github actions</li>
<li>add info about initializer and it&#39;s configuration</li>
<li>specify info about default configs per chart</li>
<li>add support for CSP similar to <a href="https://github.com/ankane/chartkick/blob/master/lib/chartkick/helper.rb#L55">https://github.com/ankane/chartkick/blob/master/lib/chartkick/helper.rb#L55</a></li>
<li>example of how to build multiple-chart charts</li>
</ul>

<ul dir="auto">
<li>download ZIP file</li>
<li>unpack it</li>
<li>replace files in <code>app/assets/javascripts/echarts.min.js</code> and other related files inside echarts folder (from root folder of unpacked ZIP file).</li>
</ul>

<p dir="auto"><code>test/dummy/bin/rails s</code> - to start dummy app.</p>
<p dir="auto"><code>rspec</code> - to run specs.</p>
<p dir="auto">Prepare test data:</p>
<p dir="auto"><code>rails c</code></p>


<p dir="auto">The gem is available as open source under the terms of the <a href="https://opensource.org/licenses/MIT" rel="nofollow">MIT License</a>.</p>
<p dir="auto">Gem is using <a href="https://echarts.apache.org/" rel="nofollow">https://echarts.apache.org/</a> to build charts.</p>
<p dir="auto"><a href="https://www.railsjazz.com/?utm_source=github&amp;utm_medium=bottom&amp;utm_campaign=rails_charts" rel="nofollow"><img src="https://github.com/igorkasyanchuk/rails_time_travel/raw/main/docs/more_gems.png?raw=true"/></a></p>
<p dir="auto"><a href="https://buymeacoffee.com/igorkasyanchuk" rel="nofollow"><img src="https://github.com/igorkasyanchuk/get-smart/raw/main/docs/snapshot-bmc-button.png?raw=true" alt="&#34;Buy Me A Coffee&#34;"/></a></p>
</article></div></div>
  </body>
</html>
