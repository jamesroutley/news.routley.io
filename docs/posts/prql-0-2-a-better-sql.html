<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/prql/prql">Original</a>
    <h1>Show HN: PRQL 0.2 â€“ a better SQL</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 dir="auto"><a id="user-content---monday-2022-06-27-after-several-months-of-building-prql-is-ready-to-use-check-out-the-02-release-notes--" aria-hidden="true" href="#--monday-2022-06-27-after-several-months-of-building-prql-is-ready-to-use-check-out-the-02-release-notes--"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png">ðŸŽ‰</g-emoji> <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png">ðŸŽ‰</g-emoji> <strong>Monday 2022-06-27: After several months of building, PRQL is ready to use! Check out the <a href="https://github.com/prql/prql/releases/tag/0.2.0">0.2 Release Notes</a>!</strong> <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png">ðŸŽ‰</g-emoji> <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png">ðŸŽ‰</g-emoji></h2>
<hr/>


<p dir="auto"><a href="https://prql-lang.org" rel="nofollow"><img src="https://camo.githubusercontent.com/feaeedcb04fbf603d7d2f3827eb9e04c575f94b7843717cf1d074c3d5724f2a0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f444f43532d4c414e47554147452d626c75653f7374796c653d666f722d7468652d6261646765" alt="Language Docs" data-canonical-src="https://img.shields.io/badge/DOCS-LANGUAGE-blue?style=for-the-badge"/></a>
<a href="https://discord.gg/eQcfaCmsNc" rel="nofollow"><img src="https://camo.githubusercontent.com/3d5cec0c7f1816c3d516aa343bba76dd86bbfaa93a3d7c3436e23756b3cf9555/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3933363732383131363731323331363938393f6c6162656c3d646973636f726425323063686174267374796c653d666f722d7468652d6261646765" alt="Discord" data-canonical-src="https://img.shields.io/discord/936728116712316989?label=discord%20chat&amp;style=for-the-badge"/></a>
<a href="https://twitter.com/prql_lang" rel="nofollow"><img src="https://camo.githubusercontent.com/cfa665b7704aaabe2f01eba37a13b4d28771766103fc1fa52d3436d684763e3e/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f7072716c5f6c616e673f636f6c6f723d253233314441314632267374796c653d666f722d7468652d6261646765" alt="Twitter" data-canonical-src="https://img.shields.io/twitter/follow/prql_lang?color=%231DA1F2&amp;style=for-the-badge"/></a></p>

<p dir="auto"><a href="https://github.com/prql/prql/actions?query=workflow:tests"><img src="https://camo.githubusercontent.com/ea2c76331cfee724ccbf6649d51429a70c966f236b5b4dea7e2333bfad6b1ca8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f7072716c2f7072716c2f74657374733f6c6f676f3d676974687562267374796c653d666f722d7468652d6261646765" alt="GitHub CI Status" data-canonical-src="https://img.shields.io/github/workflow/status/prql/prql/tests?logo=github&amp;style=for-the-badge"/></a>
<a href="https://github.com/prql/prql/graphs/contributors"><img src="https://camo.githubusercontent.com/c26b196a04102a15b1e1318a5ca15b25e37219ab1cc8c3632f40a432cb58cfe3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f7072716c2f7072716c3f7374796c653d666f722d7468652d6261646765" alt="GitHub contributors" data-canonical-src="https://img.shields.io/github/contributors/prql/prql?style=for-the-badge"/></a>
<a href="https://github.com/prql/prql/stargazers"><img src="https://camo.githubusercontent.com/4ed818be437db486e05e1bfec58c99ed33b93bc2bd9b0db7c5f670bc8f687e9c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f7072716c2f7072716c3f7374796c653d666f722d7468652d6261646765" alt="Stars" data-canonical-src="https://img.shields.io/github/stars/prql/prql?style=for-the-badge"/></a></p>
<p dir="auto"><strong>P</strong>ipelined <strong>R</strong>elational <strong>Q</strong>uery <strong>L</strong>anguage, pronounced &#34;Prequel&#34;.</p>
<p dir="auto">PRQL is a modern language for transforming data â€” a simple, powerful, pipelined
SQL replacement. Like SQL, it&#39;s readable, explicit and declarative. Unlike SQL, it forms a
logical pipeline of transformations, and supports abstractions such as variables
and functions. It can be used with any database that uses SQL, since it
transpiles to SQL.</p>
<p dir="auto">PRQL can be as simple as:</p>
<div data-snippet-clipboard-copy-content="from employees
filter country == &#34;USA&#34;                       # Each line transforms the previous result.
aggregate [                                   # `aggregate` reduces column to a value.
  max salary,
  min salary,
  count,                                      # Closing commas are allowed :)
]"><pre><span>from </span>employees
<span>filter </span>country <span>==</span> <span><span>&#34;</span>USA<span>&#34;</span></span>                       # <span>Each</span> line transforms the previous result<span>.</span>
<span>aggregate </span><span><span>[</span></span>                                   # <span>`aggregate`</span> reduces column to a value<span>.</span>
  max salary<span><span>,</span></span>
  min salary<span><span>,</span></span>
  count<span><span>,</span></span>                                      # <span>Closing</span> commas are allowed <span>:</span><span>)</span>
<span><span>]</span></span></pre></div>
<p dir="auto">Here&#39;s a fuller example of the language;</p>
<div data-snippet-clipboard-copy-content="from employees
filter start_date &gt; @2021-01-01               # Clear date syntax.
derive [                                      # `derive` adds columns / variables.
  gross_salary = salary + (tax ?? 0),         # Terse coalesce
  gross_cost = gross_salary + benefits_cost,  # Variables can use other variables.
]
filter gross_cost &gt; 0
group [title, country] (                      # `group` runs a pipeline over each group.
  aggregate [                                 # `aggregate` reduces each group to a row.
    average gross_salary,
    sum_gross_cost = sum gross_cost,          # `=` sets a column name.
  ]
)
filter sum_gross_cost &gt; 100000                # Identical syntax for SQL&#39;s `WHERE` &amp; `HAVING`.
derive id = f&#34;{title}_{country}&#34;              # F-strings like python.
sort [sum_gross_cost, -country]               # `-country` means descending order.
take 1..20                                    # Range expressions (also valid here as `take 20`)."><pre><span>from </span>employees
<span>filter </span>start_date <span>&gt;</span> @<span>2021</span><span>-</span><span>01</span><span>-</span><span>01</span>               # <span>Clear</span> date syntax<span>.</span>
<span>derive </span><span><span>[</span></span>                                      # <span>`derive`</span> adds columns <span>/</span> variables<span>.</span>
  gross_salary <span>=</span> salary <span>+</span> <span>(</span>tax <span>??</span> <span>0</span><span>)</span><span><span>,</span></span>         # <span>Terse</span> coalesce
  gross_cost <span>=</span> gross_salary <span>+</span> benefits_cost<span><span>,</span></span>  # <span>Variables</span> can use other variables<span>.</span>
<span><span>]</span></span>
<span>filter </span>gross_cost <span>&gt;</span> <span>0</span>
<span>group </span><span><span>[</span></span>title<span><span>,</span></span> country<span><span>]</span></span> <span>(</span>                      # <span>`group`</span> runs a pipeline over each group<span>.</span>
  aggregate <span><span>[</span></span>                                 # <span>`aggregate`</span> reduces each group to a row<span>.</span>
    average gross_salary<span><span>,</span></span>
    sum_gross_cost <span>=</span> sum gross_cost<span><span>,</span></span>          # `<span>=</span>` sets a column name<span>.</span>
  <span><span>]</span></span>
<span>)</span>
<span>filter </span>sum_gross_cost <span>&gt;</span> <span>100000</span>                # <span>Identical</span> syntax for <span>SQL</span>&#39;s <span>`WHERE`</span> <span>&amp;</span> <span>`HAVING`</span><span>.</span>
<span>derive </span>id <span>=</span> f<span><span>&#34;</span>{title}_{country}<span>&#34;</span></span>              # <span>F</span><span>-</span>strings like python<span>.</span>
<span>sort </span><span><span>[</span></span>sum_gross_cost<span><span>,</span></span> <span>-</span>country<span><span>]</span></span>               # `<span>-</span>country` means descending order<span>.</span>
<span>take </span><span>1</span><span>..</span><span>20</span>                                    # <span>Range</span> expressions <span>(</span>also valid here <span>as </span>`take <span>20</span>`<span>)</span><span>.</span></pre></div>
<p dir="auto">For more on the language, more examples &amp; comparisons with SQL, visit
<a href="https://prql-lang.org" rel="nofollow">prql-lang.org</a>. To experiment with PRQL in the browser, check out
<a href="https://prql-lang.org/playground" rel="nofollow">PRQL Playground</a>.</p>
<h2 dir="auto"><a id="user-content-get-involved" aria-hidden="true" href="#get-involved"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Get involved</h2>
<p dir="auto">To stay in touch with PRQL:</p>
<ul dir="auto">
<li>Follow us on <a href="https://twitter.com/prql_lang" rel="nofollow">Twitter</a></li>
<li>Join us on <a href="https://discord.gg/eQcfaCmsNc" rel="nofollow">Discord</a></li>
<li>Star this repo</li>
<li><a href="https://github.com/prql/prql/blob/main/CONTRIBUTING.md">Contribute</a> â€”Â join us in building PRQL, through writing
code or inspiring others to use it. We&#39;re a really friendly community!</li>
</ul>
<h2 dir="auto"><a id="user-content-explore" aria-hidden="true" href="#explore"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Explore</h2>
<ul dir="auto">
<li><a href="https://prql-lang.org/playground" rel="nofollow">PRQL Playground</a> â€”Â experiment with PRQL in the browser.</li>
<li><a href="https://prql-lang.org/book" rel="nofollow">PRQL Book</a> â€” the language documentation.</li>
<li><a href="https://github.com/prql/dbt-prql">dbt-prql</a> â€” write PRQL in dbt models.</li>
<li><a href="https://pyprql.readthedocs.io/en/latest/magic_readme.html" rel="nofollow">Jupyter magic</a> â€”
run PRQL in Jupyter, either against a DB, or a Pandas DataFrame / CSV /
Parquet file through DuckDB.</li>
<li><a href="https://pyprql.readthedocs.io" rel="nofollow">PyPRQL Docs</a> â€” the PyPRQL documentation, the
python bindings to PRQL, including Jupyter magic.</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=prql.prql" rel="nofollow">PRQL VSCode Extension</a></li>
<li><a href="https://www.npmjs.com/package/prql-js" rel="nofollow">PRQL-js</a> â€”Â JavaScript bindings for PRQL.</li>
</ul>
<h3 dir="auto"><a id="user-content-contributors" aria-hidden="true" href="#contributors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributors</h3>
<p dir="auto">Many thanks to those who&#39;ve made our progress possible:</p>
<p dir="auto"><a href="https://github.com/prql/prql/graphs/contributors"><img src="https://camo.githubusercontent.com/4428abc05dbc6f46ded00aa4667c68b8bbf06ae79b58b71870e79c039edb629b/68747470733a2f2f636f6e747269622e726f636b732f696d6167653f7265706f3d7072716c2f7072716c" alt="Contributors" data-canonical-src="https://contrib.rocks/image?repo=prql/prql"/></a></p>
<h3 dir="auto"><a id="user-content-core-developers" aria-hidden="true" href="#core-developers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Core developers</h3>
<p dir="auto">We have core developers who are responsible for reviewing code, making decisions
on the direction of the language, and project administration:</p>
<ul dir="auto">
<li><a href="https://github.com/aljazerzen"><strong>@aljazerzen</strong></a> â€” AljaÅ¾ Mur ErÅ¾en</li>
<li><a href="https://github.com/max-sixty"><strong>@max-sixty</strong></a> â€” Maximilian Roos</li>
<li><a href="https://github.com/charlie-sanders"><strong>@charlie-sanders</strong></a> â€” Charlie Sanders</li>
</ul>
<p dir="auto">We welcome others to join who have a track record of contributions.</p>
</article>
          </div></div>
  </body>
</html>
