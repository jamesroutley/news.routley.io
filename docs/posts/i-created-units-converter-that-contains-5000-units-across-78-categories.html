<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.kodytools.com/units">Original</a>
    <h1>Show HN: I created Units Converter that contains 5000 units across 78 categories</h1>
    
    <div id="readability-page-1" class="page"><div><p>Over the last month or so I&#39;ve been experimenting with Tailscale as a replacement for ZeroTier for maintaining an internal network of devices. My inspiration for the experiment came from <a href="https://changelog.complete.org/archives/10478-easily-accessing-all-your-stuff-with-a-zero-trust-mesh-vpn">this blog post</a> from John Goerzen, which goes over a few of the different options for mesh networks and seemed to imply Tailscale was the way to go. He even explicitly mentions ZeroTier as a lesser option:</p><blockquote><p> Frankly I don‚Äôt see much reason to use Zerotier. The ‚Äúvirtual Ethernet‚Äù model seems to be a weird hybrid that doesn‚Äôt bring much value. </p></blockquote><p>Given that review I wanted to jot down a few notes about what went wrong with my Tailscale experiment and what has me going back to ZeroTier.<a href="#fn-1" id="fnref1"><sup>1</sup></a></p><h2>iOS battery life issues</h2><p>This is probably the biggest reason I&#39;m switching away from Tailscale. The iOS app has some kind of bug that causes it to drain your battery if left enabled. It seems like the best solution that they had to offer was from <a href="https://old.reddit.com/r/Tailscale/comments/109ytq5/is_tailscale_actively_working_on_ios_battery/">this Reddit thread</a> which offers a workaround of making a Shortcut for quickly enabling/disabling Tailscale. I ran with this solution for a while but found it to be a pain. I didn&#39;t want to have to think about whether or not I was connected before trying to open my RSS reader. This was especially painful since I knew that I was previously able to leave ZeroTier&#39;s app on all day at the cost of ~2% battery drain.</p><h2>Difficulties in locking down web services</h2><p>I&#39;m not sure if I missed some important detail or if this is actually a problem, but I found it much more difficult to lock down my web services to only respond to requests that came from my Tailscale network.</p><p>Previously with ZeroTier, I could add a little clause to my <a href="https://caddyserver.com/">Caddy</a> hosts that would act as complete protection against anyone connecting from outside my private network:</p><pre><code>http://service.internal.stevegattuso.me {
    @remoteUsers {
        not remote_ip 10.0.50.0/16
    }

    route @remoteUsers {
        respond &#34;Unauthorized&#34; 401
    }

    reverse_proxy myservice:3000
}
</code></pre><p>Adding this restriction was straightforward because I knew that the only way nodes on my private network could access this server would be by connecting through the IP address range, <code>10.0.50.0/24</code> that I had configured for the network.</p><p>Tailscale doesn&#39;t offer quite the same guarantee. According to <a href="https://tailscale.com/kb/1033/ip-and-dns-addresses/">their docs</a>, IP addresses will be assigned in the <code>100.0.0.0/8</code> range, but this range is shared amongst all networks. This makes it difficult to configure your web server if you&#39;re connected to multiple Tailscale networks. Restricting based on the <code>100.0.0.0/8</code> range can help you target Tailscale vs non-Tailscale traffic, but it gives you no indication of which Tailscale network the traffic is coming from.</p><p>I found <a href="https://github.com/tailscale/caddy-tailscale">this Caddy plugin</a> which appears to address this exact problem, however setting this up would require building and maintaining a new docker image for my Caddy server which felt far too costly, especially since I knew how much easier this was to do with ZeroTier.</p><p>It&#39;s also worth mentioning that I haven&#39;t done much exploration of setting up HTTPS within my private network, as I assume that the transport-layer encryption that I get from using either ZeroTier or Tailscale is more than enough security for my use case.</p><h2>Why not Yggdrasil?</h2><p>While switching back to ZeroTier solves both of these issues, there is still the longstanding issue that it is a service coming from a VC-backed company. I would vastly prefer to use an open-source project like <a href="https://yggdrasil-network.github.io/">Yggdrasil</a> to connect all of my devices together, however there were a couple of points that I couldn&#39;t get over just yet.</p><p>Firstly, the iOS app is still in TestFlight, which makes me feel like it might be half-baked/unstable to use on a daily basis. This may is misguided, so please ping me on Mastodon if you have experience with it worth sharing.</p><p>Secondly, while it appears possible to create a private network, it also appears relatively easy to misconfigure one node and accidentally join the full Yggdrasil network. This implies exposing all of my devices to a public network, which is the exact opposite of what I&#39;m looking to do. A properly configured firewall is the real solution to this problem, however I&#39;m not confident enough in my ability to configure ip6tables properly on all of my devices to go down this route.</p><h2>Discourse welcome</h2><p>Just to be clear, I&#39;m not saying Tailscale is a bad solution to private networking overall, just that I had a couple of issues that ended up being dealbreakers for my particular use-case. Your mileage may vary!</p><p>If you&#39;re reading through any of this and screaming to yourself &#34;this internet person is wrong!!!!&#34; please don&#39;t hesitate to reach out with <a href="mailto:steve@stevegattuso.me">email</a> or <a href="https://merveilles.town/@vesto">Mastodon</a>. If I hear anything interesting or to the contrary of anything I&#39;ve written above I&#39;ll happily update this post to include the new information.</p><ol><li id="fn-1">Just for reference, I don&#39;t have any sort of association to Tailscale nor ZeroTier. I&#39;m writing this as a hobbyist looking to solve a problem üôÇ.<a href="#fnref1">‚Ü©</a></li></ol></div></div>
  </body>
</html>
