<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/cavi-au/Consent-O-Matic">Original</a>
    <h1>Consent-O-Matic: Automatic handling of GDPR consent forms</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<ul dir="auto">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#further-reading">Further reading</a></li>
<li><a href="#compatible-cmps">Compatible CMPs</a></li>
<li><a href="#extending-consent-o-matic">Extending Consent-O-Matic</a></li>
<li><a href="#basic-structure">Basic Structure</a>
<ul dir="auto">
<li><a href="#detectors">Detectors</a></li>
<li><a href="#methods">Methods</a></li>
</ul>
</li>
<li><a href="#dom-selection">DOM Selection</a></li>
<li><a href="#actions">Actions</a>
<ul dir="auto">
<li><a href="#click">Click</a></li>
<li><a href="#list">List</a></li>
<li><a href="#consent">Consent</a></li>
<li><a href="#slide">Slide</a></li>
<li><a href="#if-css">If Css</a></li>
<li><a href="#wait-for-css">Wait For Css</a></li>
<li><a href="#for-each">For Each</a></li>
<li><a href="#wait">Wait</a></li>
<li><a href="#hide">Hide</a></li>
<li><a href="#close">Close</a></li>
</ul>
</li>
<li><a href="#matchers">Matchers</a>
<ul dir="auto">
<li><a href="#css">Css</a></li>
<li><a href="#checkbox">Checkbox</a></li>
</ul>
</li>
<li><a href="#consent-1">Consent</a>
<ul dir="auto">
<li><a href="#consent-categories">Consent Categories</a></li>
</ul>
</li>
<li><a href="#full-example">Full example</a></li>
</ul>
<h2 dir="auto"><a id="user-content-introduction" aria-hidden="true" href="#introduction"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Introduction</h2>
<p dir="auto">You like websites to respect your right to privacy, and your browser clears cookies when you close it.
Consequently, you get the same cookie-consent box each and every time you visit the same websites. And you got tired of submitting the same information over and over. If only there was a way to automate your way out of this pickle? Lucky for you, Consent-O-Matic exists.</p>
<p dir="auto">Consent-O-Matic is a browser extension (available for <a href="https://chrome.google.com/webstore/detail/consent-o-matic/mdjildafknihdffpkfmmpnpoiajfjnjd" rel="nofollow">Chrome</a>, <a href="https://addons.mozilla.org/firefox/addon/consent-o-matic/" rel="nofollow">Firefox</a>, Edge and Safari on iOS/MacOS) that recognizes a great deal of those CMP (Consent Management Provider) pop-ups that we&#39;ve all grown to both love and hate. But since you&#39;ve told it your preference in cookies upon installation, it will autofill those forms for you when it encounters them. And let you know that it did so, with a satisfying little checkmark next to its icon. Nice.</p>
<p dir="auto">And since, it&#39;s an open project by the Centre for Advanced Visualisation and Interaction (CAVI) at Aarhus University, regular people can contribute by adding new rules, updating old rules, or even adding to the documentation (like these very paragraphs you&#39;re reading now, written by someone who just happened to discover the project and wanted to help.) to make the extension even easier for others to use.</p>
<h3 dir="auto"><a id="user-content-further-reading" aria-hidden="true" href="#further-reading"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Further reading</h3>
<p dir="auto">Paper: <a href="https://doi.org/10.1145/3313831.3376321" rel="nofollow">Dark Patterns After the GDPR</a></p>
<p dir="auto">PDF: <a href="https://arxiv.org/pdf/2001.02479.pdf" rel="nofollow">Dark Patterns After the GDPR</a></p>
<p dir="auto">Press: <a href="https://www.prosa.dk/artikel/virksomheder-narrer-brugerne-til-mere-dataovervaagning/" rel="nofollow">Virksomheder narrer brugerne til mere dataoverv√•gning (PROSA, March 2020, in Danish)</a><sup><a href="https://web.archive.org/web/20200511044414/https://www.prosa.dk/artikel/virksomheder-narrer-brugerne-til-mere-dataovervaagning/" rel="nofollow">[Internet Archive]</a></sup></p>
<h2 dir="auto"><a id="user-content-compatible-cmps" aria-hidden="true" href="#compatible-cmps"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Compatible CMPs</h2>
<p dir="auto">Consent-O-Matic currently works with these CMPs:</p>
<ul dir="auto">
<li>Autodesk</li>
<li>EvidonBanner</li>
<li>EvidonIFrame</li>
<li>consentmanager.net</li>
<li>cookieLab</li>
<li>cookiebar</li>
<li>cookiebot</li>
<li>cookiecontrolcivic</li>
<li>cookieinformation</li>
<li>didomi.io</li>
<li>dr.dk</li>
<li>ez-cookie</li>
<li>future</li>
<li>ikeaToast</li>
<li>lemonde.fr</li>
<li>oil</li>
<li>onetrust</li>
<li>optanon</li>
<li>optanon-alternative</li>
<li>quantcast</li>
<li>quantcast2</li>
<li>sharethis</li>
<li>sourcepoint</li>
<li>sourcepointframe</li>
<li>sourcepointpopup</li>
<li>tealium.com</li>
<li>theGuardian</li>
<li>trustarcbar</li>
<li>trustarcframe</li>
<li>umf.dk</li>
<li>uniconsent</li>
<li>wordpressgdpr</li>
<li>chandago</li>
<li>SFR</li>
<li>Webedia</li>
<li>springer</li>
</ul>
<h2 dir="auto"><a id="user-content-extending-consent-o-matic" aria-hidden="true" href="#extending-consent-o-matic"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Extending Consent-O-Matic</h2>
<p dir="auto">If your favorite CMP is missing from the current list, feel free to either create a custom list that you can add (click the extension icon in your browser, click &#34;More add-on settings&#34;, click &#34;Rule lists&#34;, and enter the URL of your custom list.). If you <strong>really</strong> want to want to contribute, feel free to create a Pull Request while you&#39;re at it.</p>
<h2 dir="auto"><a id="user-content-basic-structure" aria-hidden="true" href="#basic-structure"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Basic Structure</h2>
<p dir="auto">A rule list for Consent-O-Matic is a JSON structure that contains the rules for detecting a CMP (Consent Management Provider), and
dealing with the CMP popup when it is detected.</p>
<p dir="auto">Each CMP is a named entry and contains 2 parts, <code>detectors</code> and <code>methods</code>.</p>
<div data-snippet-clipboard-copy-content="{
   &#34;myCMP&#34;: {
      &#34;detectors&#34;: [ ... ],
      &#34;methods&#34;: [ ... ]
   },
   &#34;anotherCMP&#34;: {
      &#34;detectors&#34;: [ ... ],
      &#34;methods&#34;: [ ... ]
   },
}"><pre><code>{
   &#34;myCMP&#34;: {
      &#34;detectors&#34;: [ ... ],
      &#34;methods&#34;: [ ... ]
   },
   &#34;anotherCMP&#34;: {
      &#34;detectors&#34;: [ ... ],
      &#34;methods&#34;: [ ... ]
   },
}
</code></pre></div>
<h3 dir="auto"><a id="user-content-detectors" aria-hidden="true" href="#detectors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Detectors</h3>
<p dir="auto">Detectors are the part that detects if a certain rule set should be applied. Basically, if a detector triggers, the methods will be applied.</p>
<p dir="auto">Detector structure:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;presentMatcher&#34;: { ... },
   &#34;showingMatcher&#34;: { ... }
}"><pre><code>{
   &#34;presentMatcher&#34;: { ... },
   &#34;showingMatcher&#34;: { ... }
}
</code></pre></div>
<p dir="auto">The present matcher is used to detect if the CMP is present on the page.</p>
<p dir="auto">Some CMPs still insert the popup HTML into the DOM even when re-visiting a page where you have already given consent earlier. We only want to handle the consent form if its actually showing on the page. This is what the showing matcher is used for.</p>
<p dir="auto">Both the present and showing matcher follow the common structure of <a href="#matchers"><code>Matchers</code></a>.</p>
<h3 dir="auto"><a id="user-content-methods" aria-hidden="true" href="#methods"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Methods</h3>
<p dir="auto">Methods are collections of actions. There are 4 methods supported by Consent-O-Matic. <code>OPEN_OPTIONS</code>, <code>DO_CONSENT</code>, <code>SAVE_CONSENT</code>, <code>HIDE_CMP</code></p>
<p dir="auto">All the methods are optional, and if present the methods will be run in the order given below, when a detector is triggered.</p>
<div data-snippet-clipboard-copy-content="HIDE_CMP
OPEN_OPTIONS
HIDE_CMP
DO_CONSENT
SAVE_CONSENT"><pre><code>HIDE_CMP
OPEN_OPTIONS
HIDE_CMP
DO_CONSENT
SAVE_CONSENT
</code></pre></div>
<p dir="auto">Methods take on the form:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;name&#34;: &#34; ... &#34;,
   &#34;action&#34;: { ... }
}"><pre><code>{
   &#34;name&#34;: &#34; ... &#34;,
   &#34;action&#34;: { ... }
}
</code></pre></div>
<p dir="auto">Where the name is one of the 4 supported methods, and action is the <a href="#actions">action</a> to execute.</p>
<h2 dir="auto"><a id="user-content-dom-selection" aria-hidden="true" href="#dom-selection"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>DOM Selection</h2>
<p dir="auto">Most actions and matchers have some target that they apply to. For this reason Consent-O-Matic has a DOM selection mechanism that can easily help with selecting the correct dom element.</p>
<div data-snippet-clipboard-copy-content="&#34;parent&#34;: {
   &#34;selector&#34;: &#34;.some.css.selector&#34;,
   &#34;textFilter&#34;: &#34;someTextFilter&#34;,
   &#34;styleFilter&#34;: {
      &#34;option&#34;: &#34;someStyleOption&#34;,
      &#34;value&#34;: &#34;someStyleValue&#34;,
      &#34;negated&#34;: false
   },
   &#34;displayFilter&#34;: true,
   &#34;iframeFilter&#34;: false,
   &#34;childFilter&#34;: {}
},
&#34;target&#34;: {
   &#34;selector&#34;: &#34;.some.css.selector&#34;,
   &#34;textFilter&#34;: &#34;someTextFilter&#34;,
   &#34;styleFilter&#34;: {
      &#34;option&#34;: &#34;someStyleOption&#34;,
      &#34;value&#34;: &#34;someStyleValue&#34;,
      &#34;negated&#34;: false
   },
   &#34;displayFilter&#34;: true,
   &#34;iframeFilter&#34;: false,
   &#34;childFilter&#34;: {}
}"><pre><span>&#34;parent&#34;</span>: {
   <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.some.css.selector<span>&#34;</span></span>,
   <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>someTextFilter<span>&#34;</span></span>,
   <span>&#34;styleFilter&#34;</span>: {
      <span>&#34;option&#34;</span>: <span><span>&#34;</span>someStyleOption<span>&#34;</span></span>,
      <span>&#34;value&#34;</span>: <span><span>&#34;</span>someStyleValue<span>&#34;</span></span>,
      <span>&#34;negated&#34;</span>: <span>false</span>
   },
   <span>&#34;displayFilter&#34;</span>: <span>true</span>,
   <span>&#34;iframeFilter&#34;</span>: <span>false</span>,
   <span>&#34;childFilter&#34;</span>: {}
},
<span>&#34;target&#34;</span>: {
   <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.some.css.selector<span>&#34;</span></span>,
   <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>someTextFilter<span>&#34;</span></span>,
   <span>&#34;styleFilter&#34;</span>: {
      <span>&#34;option&#34;</span>: <span><span>&#34;</span>someStyleOption<span>&#34;</span></span>,
      <span>&#34;value&#34;</span>: <span><span>&#34;</span>someStyleValue<span>&#34;</span></span>,
      <span>&#34;negated&#34;</span>: <span>false</span>
   },
   <span>&#34;displayFilter&#34;</span>: <span>true</span>,
   <span>&#34;iframeFilter&#34;</span>: <span>false</span>,
   <span>&#34;childFilter&#34;</span>: {}
}</pre></div>
<p dir="auto">There are 2 parts, <code>parent</code> and <code>target</code>. The <code>parent</code> is optional but if it exists it will be resolved first, and used as the starting point for <code>target</code>. This allows you to construct very complicated selections of elements that wouldn&#39;t otherwise be possible with a single plain CSS selector.</p>
<p dir="auto">All the parameters to <code>parent</code> and <code>target</code> except <code>selector</code> are optional.</p>
<p dir="auto">The selection method works by using the css selector from <code>selector</code> and then filtering the resulting DOM nodes via the various available filters:</p>
<ul dir="auto">
<li>
<p dir="auto"><code>textFilter</code> filters all nodes that does not include the given text. It can also be given as an array <code>&#34;textFilter&#34;:[&#34;filter1&#34;, &#34;filter2&#34;]</code> and then it filters all nodes that does not include one of the given text filters.</p>
</li>
<li>
<p dir="auto"><code>styleFilter</code> filters based on computedStyles. <code>option</code> is the style option to compare for example <code>position</code>, <code>value</code> is the value to compare against and <code>negated</code> sets if the option value should match or not match the given value.</p>
</li>
<li>
<p dir="auto"><code>displayFilter</code> can be used to filter nodes based on if they are display hidden or not.</p>
</li>
<li>
<p dir="auto"><code>iframeFilter</code> filters nodes based on if they are inside an iframe or not.</p>
</li>
<li>
<p dir="auto"><code>childFilter</code> is a fully new DOM selection, that then filters on the original selection, based on if a selection was made by <code>childFilter</code> or not.</p>
</li>
</ul>
<p dir="auto">Here is an example DOM selection:</p>
<div data-snippet-clipboard-copy-content="&#34;parent&#34;: {
   &#34;selector&#34;: &#34;.myParent&#34;,
   &#34;iframeFilter&#34;: true,
   &#34;childFilter&#34;: {
      &#34;target&#34;: {
         &#34;selector&#34;: &#34;.myChild&#34;,
         &#34;textFilter&#34;: &#34;Gregor&#34;
      }
   }
},
&#34;target&#34;: {
   &#34;selector&#34;: &#34;.myTarget&#34;
}"><pre><span>&#34;parent&#34;</span>: {
   <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myParent<span>&#34;</span></span>,
   <span>&#34;iframeFilter&#34;</span>: <span>true</span>,
   <span>&#34;childFilter&#34;</span>: {
      <span>&#34;target&#34;</span>: {
         <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myChild<span>&#34;</span></span>,
         <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>Gregor<span>&#34;</span></span>
      }
   }
},
<span>&#34;target&#34;</span>: {
   <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myTarget<span>&#34;</span></span>
}</pre></div>
<p dir="auto">This selector first tries to find the <code>parent</code> which is a DOM element with the class <code>myParent</code> that is inside an iframe and has a child DOM element with the class <code>myChild</code> that contains the text &#34;Gregor&#34;.</p>
<p dir="auto">Then using this parent as &#34;root&#34; it tries to find a DOM element with the class <code>myTarget</code>.</p>
<p dir="auto">This could then be the target of an action or matcher.</p>
<h2 dir="auto"><a id="user-content-actions" aria-hidden="true" href="#actions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Actions</h2>
<p dir="auto">Actions are the part of Consent-O-Matic that actually do stuff. Some actions do something to a target selection, others have to do with control flow.</p>
<h3 dir="auto"><a id="user-content-click" aria-hidden="true" href="#click"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Click</h3>
<p dir="auto">This action simulates a mouse click on its target.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;click&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;.myButton&#34;,
      &#34;textFilter&#34;: &#34;Save settings&#34;
   },
   &#34;openInTab&#34;: false
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myButton<span>&#34;</span></span>,
      <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>Save settings<span>&#34;</span></span>
   },
   <span>&#34;openInTab&#34;</span>: <span>false</span>
}</pre></div>
<p dir="auto"><code>openInTab</code> if set to true, will trigger a ctrl+shift+click instead of a click. Which should make the link, if any, open in a new tab, and focus that tab.</p>
<p dir="auto">In this example we only use a simple <code>target</code> with a <code>textFilter</code> but full <a href="#dom-selection">DOM selection</a> is supported.</p>
<h3 dir="auto"><a id="user-content-list" aria-hidden="true" href="#list"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>List</h3>
<p dir="auto">This action runs a list of actions in order.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;list&#34;,
   &#34;actions&#34;: []
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>list<span>&#34;</span></span>,
   <span>&#34;actions&#34;</span>: []
}</pre></div>
<p dir="auto"><code>actions</code> is an array of actions that will all be run in order.</p>
<h3 dir="auto"><a id="user-content-consent" aria-hidden="true" href="#consent"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Consent</h3>
<p dir="auto">The consent action takes an array of consents, and tries to apply the users consent selections.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;consent&#34;,
   &#34;consents&#34;: []
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>consent<span>&#34;</span></span>,
   <span>&#34;consents&#34;</span>: []
}</pre></div>
<p dir="auto"><code>consents</code> is an array of <a href="#consent-1">Consent</a> types</p>
<h3 dir="auto"><a id="user-content-slide" aria-hidden="true" href="#slide"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Slide</h3>
<p dir="auto">Some consent forms use a slider to set a consent level, this action supports simulating sliding with such a slider.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;slide&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;.mySliderKnob&#34;
   },
   &#34;dragTarget&#34;: {
      &#34;target&#34;: {
         &#34;selector&#34;: &#34;.myChoosenOption&#34;
      }
   },
   &#34;axis&#34;: &#34;y&#34;
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>slide<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.mySliderKnob<span>&#34;</span></span>
   },
   <span>&#34;dragTarget&#34;</span>: {
      <span>&#34;target&#34;</span>: {
         <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myChoosenOption<span>&#34;</span></span>
      }
   },
   <span>&#34;axis&#34;</span>: <span><span>&#34;</span>y<span>&#34;</span></span>
}</pre></div>
<p dir="auto"><code>target</code> is the target DOM element to simulate the slide motion on.</p>
<p dir="auto"><code>dragTarget</code> is the DOM element to use for slide distance.</p>
<p dir="auto"><code>axis</code> selects if the slider should go horizontal &#34;x&#34; or vertical &#34;y&#34;.</p>
<p dir="auto">The slide event will simulate that the mouse dragged <code>target</code> the distance from <code>target</code> to <code>dragTarget</code> on the given <code>axis</code>.</p>
<h3 dir="auto"><a id="user-content-if-css" aria-hidden="true" href="#if-css"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>If Css</h3>
<p dir="auto">This action is used as control flow, running another action depending on of a DOM selection finds an element or not.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;ifcss&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;&#34;,
   },
   &#34;trueAction&#34;: {
      &#34;type&#34;: &#34;click&#34;,
      &#34;target&#34;: {
         &#34;selector&#34;: &#34;.myTrueButton&#34;
      }  
   },
   &#34;falseAction&#34;: {
      &#34;type&#34;: &#34;click&#34;,
      &#34;target&#34;: {
         &#34;selector&#34;: &#34;.myFalseButton&#34;
      }
   }
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>ifcss<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span><span>&#34;</span></span>,
   },
   <span>&#34;trueAction&#34;</span>: {
      <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
      <span>&#34;target&#34;</span>: {
         <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myTrueButton<span>&#34;</span></span>
      }  
   },
   <span>&#34;falseAction&#34;</span>: {
      <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
      <span>&#34;target&#34;</span>: {
         <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myFalseButton<span>&#34;</span></span>
      }
   }
}</pre></div>
<p dir="auto"><code>trueAction</code> is an action that will be run of the DOM selection finds an element.
<code>falseAction</code> will be run when the DOM selection does not find an element.</p>
<h3 dir="auto"><a id="user-content-wait-for-css" aria-hidden="true" href="#wait-for-css"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Wait For Css</h3>
<p dir="auto">This action waits until the DOM selector finds a dom element that matches. Mostly used if something in the consent form loads slowly and needs to be waited for.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;waitcss&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;.myWaitTarget&#34;
   },
   &#34;retries&#34;: 10,
   &#34;waitTime&#34;: 200,
   &#34;negated&#34;: false
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>waitcss<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myWaitTarget<span>&#34;</span></span>
   },
   <span>&#34;retries&#34;</span>: <span>10</span>,
   <span>&#34;waitTime&#34;</span>: <span>200</span>,
   <span>&#34;negated&#34;</span>: <span>false</span>
}</pre></div>
<p dir="auto"><code>retries</code> is the number of times to check for the target dom element. Deafults to 10.</p>
<p dir="auto"><code>waitTime</code> determines the time between retry attempts. Defaults to 250.</p>
<p dir="auto"><code>negated</code> makes wait for css wait until the target is NOT found.</p>
<h3 dir="auto"><a id="user-content-for-each" aria-hidden="true" href="#for-each"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>For Each</h3>
<p dir="auto">If some set of actions needs to be run several times, but with different DOM nodes as root, the for each action can be used. It runs its action 1 time for each DOM element that is selected by its DOM selection, all actions run inside the for each loop, will see the DOM as starting from the currently selected node.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;foreach&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;.loopElement&#34;
   },
   &#34;action&#34;: {}
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>foreach<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.loopElement<span>&#34;</span></span>
   },
   <span>&#34;action&#34;</span>: {}
}</pre></div>
<p dir="auto"><code>action</code> is the action to run for each found DOM element.</p>
<h3 dir="auto"><a id="user-content-wait" aria-hidden="true" href="#wait"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Wait</h3>
<p dir="auto">This action waits the given amount of milliseconds before continuing.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;wait&#34;,
   &#34;waitTime&#34;: 250
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>wait<span>&#34;</span></span>,
   <span>&#34;waitTime&#34;</span>: <span>250</span>
}</pre></div>
<h3 dir="auto"><a id="user-content-hide" aria-hidden="true" href="#hide"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Hide</h3>
<p dir="auto">This action sets css class &#39;ConsentOMatic-CMP-Hider&#39; on the DOM selection. The default css rules will then set opacity to 0 on the element.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;hide&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;.myHiddenClass&#34;
   }
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>hide<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myHiddenClass<span>&#34;</span></span>
   }
}</pre></div>
<h3 dir="auto"><a id="user-content-close" aria-hidden="true" href="#close"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Close</h3>
<p dir="auto">This action closes the current tab, usefull for consent providers like Evidon, that likes to open new tabs with the consent dahsboard inside.</p>
<p dir="auto">Example:</p>

<h2 dir="auto"><a id="user-content-matchers" aria-hidden="true" href="#matchers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Matchers</h2>
<p dir="auto">Matchers are used to check for the presence of some DOM selection, or the state of some DOM selection.</p>
<h3 dir="auto"><a id="user-content-css" aria-hidden="true" href="#css"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Css</h3>
<p dir="auto">This matcher checks for the presence of a DOM selection, and return that it matches if it exists.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;css&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;.myMatchingClass&#34;
   }
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>css<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myMatchingClass<span>&#34;</span></span>
   }
}</pre></div>
<h3 dir="auto"><a id="user-content-checkbox" aria-hidden="true" href="#checkbox"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Checkbox</h3>
<p dir="auto">This matcher checks the state of an <code>&lt;input type=&#39;checkbox&#39; /&gt;</code> and returns that it matches if the checkbox is checked.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;checkbox&#34;,
   &#34;target&#34;: {
      &#34;selector&#34;: &#34;.myInputCheckbox&#34;
   }
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>checkbox<span>&#34;</span></span>,
   <span>&#34;target&#34;</span>: {
      <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.myInputCheckbox<span>&#34;</span></span>
   }
}</pre></div>
<h2 dir="auto"><a id="user-content-consent-1" aria-hidden="true" href="#consent-1"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Consent</h2>
<p dir="auto">This is what is used inside <a href="#consent">Consent Actions</a> and defines the actual consent that the user should be giving or not giving.</p>
<p dir="auto">Each consent has a type, that matches the consent categories inside Consent-O-Matic, so if a user has toggled the first consent category to ON, (Type A) and the consent is of type &#34;A&#34;, then the consent will be enabled.</p>
<p dir="auto">Usually the consent is given either as a toggle, or a set of buttons on/off. Therefore <code>consent</code> has mechanism for both these cases.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;type&#34;: &#34;A&#34;,
   &#34;toggleAction&#34;: {},
   &#34;matcher&#34;: {},
   &#34;trueAction&#34;: {},
   &#34;falseAction&#34;: {}
}"><pre>{
   <span>&#34;type&#34;</span>: <span><span>&#34;</span>A<span>&#34;</span></span>,
   <span>&#34;toggleAction&#34;</span>: {},
   <span>&#34;matcher&#34;</span>: {},
   <span>&#34;trueAction&#34;</span>: {},
   <span>&#34;falseAction&#34;</span>: {}
}</pre></div>
<p dir="auto"><code>type</code> is the type of consent category this rule defines and determines if this consent should be on or off depending on the users selection for that type of category.</p>
<p dir="auto"><code>toggleAction</code> this action is used to select consent if the popup uses a toggle or a switch to communicate consent. The action will be run if the matcher says the consent is in a state different from what the user has asked it to be, otherwise it will not be run.</p>
<p dir="auto"><code>matcher</code> is the matcher used to check which state the consent is in. For a <a href="#checkbox">checkbox matcher</a>, the consent is given if the checkbox is checked. For a <a href="#css">css matcher</a> the consent is given if the matcher finds a DOM selection.</p>
<p dir="auto"><code>trueAction</code> and <code>falseAction</code> are actions used if consent instead has to be given by pressing one of two buttons, rather than being toggled on/off. These will be run depending on the users selection of consent. If the user has given consent for this category type, the <code>trueAction</code> will be run, and <code>falseAction</code> will be run if the user has not given consent to this category type.</p>
<p dir="auto">If <code>toggleAction</code> and <code>matcher</code> is present on the content config, toggleAction will be used, if one of them is missing, <code>trueAction</code>/<code>falseAction</code> will be used instead.</p>
<h3 dir="auto"><a id="user-content-consent-categories" aria-hidden="true" href="#consent-categories"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Consent Categories</h3>
<p dir="auto">As seen in the addon settings, in the same order:</p>
<ul dir="auto">
<li>D: Information Storage and Access</li>
<li>A: Preferences and Functionality</li>
<li>B: Performance and Analytics</li>
<li>E: Content selection, delivery, and reporting</li>
<li>F: Ad selection, delivery, and reporting</li>
<li>X: Other Purposes</li>
</ul>
<h2 dir="auto"><a id="user-content-full-example" aria-hidden="true" href="#full-example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Full example</h2>
<p dir="auto">Putting it all together, here is a full example of a CMP &#34;myCMP&#34; that has 2 consent categories to toggle.</p>
<div data-snippet-clipboard-copy-content="{
   &#34;myCMP&#34;: {
      &#34;detectors&#34;: [
         {
            &#34;presentMatcher&#34;: {
               &#34;type&#34;: &#34;css&#34;,
               &#34;target&#34;: {
                  &#34;selector&#34;: &#34;#theCMP&#34;
               }
            },
            &#34;showingMatcher&#34;: {
               &#34;target&#34;: {
                  &#34;selector&#34;: &#34;#theCMP.isShowing&#34;
               }
            }
         }
      ],
      &#34;methods&#34;: [
         {
            &#34;name&#34;: &#34;OPEN_OPTIONS&#34;,
            &#34;action&#34;: {
               &#34;type&#34;: &#34;click&#34;,
               &#34;target&#34;: {
                  &#34;selector&#34;: &#34;.button&#34;,
                  &#34;textFilter&#34;: &#34;Change settings&#34;
               }
            }
         },
         {
            &#34;name&#34;: &#34;DO_CONSENT&#34;,
            &#34;action&#34;: {
               &#34;type&#34;: &#34;list&#34;,
               &#34;actions&#34;: [
                  {
                     &#34;type&#34;: &#34;click&#34;,
                     &#34;target&#34;: {
                        &#34;selector&#34;: &#34;.menu-vendors&#34;
                     }
                  },
                  {
                     &#34;type&#34;: &#34;consent&#34;,
                     &#34;consents&#34;: [
                        {
                           &#34;type&#34;: &#34;A&#34;,
                           &#34;matcher&#34;: {
                              &#34;type&#34;: &#34;checkbox&#34;,
                              &#34;parent&#34;: {
                                 &#34;selector&#34;: &#34;.vendor-item&#34;,
                                 &#34;textFilter&#34;: &#34;Functional cookies&#34;
                              },
                              &#34;target&#34;: {
                                 &#34;selector&#34;: &#34;input&#34;
                              }
                           },
                           &#34;toggleAction&#34;: {
                              &#34;type&#34;: &#34;click&#34;,
                              &#34;parent&#34;: {
                                 &#34;selector&#34;: &#34;.vendor-item&#34;,
                                 &#34;textFilter&#34;: &#34;Functional cookies&#34;
                              },
                              &#34;target&#34;: {
                                 &#34;selector&#34;: &#34;label&#34;
                              }
                           }
                        },
                        {
                           &#34;type&#34;: &#34;F&#34;,
                           &#34;matcher&#34;: {
                              &#34;type&#34;: &#34;checkbox&#34;,
                              &#34;parent&#34;: {
                                 &#34;selector&#34;: &#34;.vendor-item&#34;,
                                 &#34;textFilter&#34;: &#34;Advertisement cookies&#34;
                              },
                              &#34;target&#34;: {
                                 &#34;selector&#34;: &#34;input&#34;
                              }
                           },
                           &#34;toggleAction&#34;: {
                              &#34;type&#34;: &#34;click&#34;,
                              &#34;parent&#34;: {
                                 &#34;selector&#34;: &#34;.vendor-item&#34;,
                                 &#34;textFilter&#34;: &#34;Advertisement cookies&#34;
                              },
                              &#34;target&#34;: {
                                 &#34;selector&#34;: &#34;label&#34;
                              }
                           }
                        }
                     ]
                  }
               ]
            }
         },
         {
            &#34;name&#34;: &#34;SAVE_CONSENT&#34;,
            &#34;action&#34;: {
               &#34;type&#34;: &#34;click&#34;,
               &#34;target&#34;: {
                  &#34;selector&#34;: &#34;.save-consent-btn&#34;
               }
            }
         }
      ]
   }
}"><pre>{
   <span>&#34;myCMP&#34;</span>: {
      <span>&#34;detectors&#34;</span>: [
         {
            <span>&#34;presentMatcher&#34;</span>: {
               <span>&#34;type&#34;</span>: <span><span>&#34;</span>css<span>&#34;</span></span>,
               <span>&#34;target&#34;</span>: {
                  <span>&#34;selector&#34;</span>: <span><span>&#34;</span>#theCMP<span>&#34;</span></span>
               }
            },
            <span>&#34;showingMatcher&#34;</span>: {
               <span>&#34;target&#34;</span>: {
                  <span>&#34;selector&#34;</span>: <span><span>&#34;</span>#theCMP.isShowing<span>&#34;</span></span>
               }
            }
         }
      ],
      <span>&#34;methods&#34;</span>: [
         {
            <span>&#34;name&#34;</span>: <span><span>&#34;</span>OPEN_OPTIONS<span>&#34;</span></span>,
            <span>&#34;action&#34;</span>: {
               <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
               <span>&#34;target&#34;</span>: {
                  <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.button<span>&#34;</span></span>,
                  <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>Change settings<span>&#34;</span></span>
               }
            }
         },
         {
            <span>&#34;name&#34;</span>: <span><span>&#34;</span>DO_CONSENT<span>&#34;</span></span>,
            <span>&#34;action&#34;</span>: {
               <span>&#34;type&#34;</span>: <span><span>&#34;</span>list<span>&#34;</span></span>,
               <span>&#34;actions&#34;</span>: [
                  {
                     <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
                     <span>&#34;target&#34;</span>: {
                        <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.menu-vendors<span>&#34;</span></span>
                     }
                  },
                  {
                     <span>&#34;type&#34;</span>: <span><span>&#34;</span>consent<span>&#34;</span></span>,
                     <span>&#34;consents&#34;</span>: [
                        {
                           <span>&#34;type&#34;</span>: <span><span>&#34;</span>A<span>&#34;</span></span>,
                           <span>&#34;matcher&#34;</span>: {
                              <span>&#34;type&#34;</span>: <span><span>&#34;</span>checkbox<span>&#34;</span></span>,
                              <span>&#34;parent&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.vendor-item<span>&#34;</span></span>,
                                 <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>Functional cookies<span>&#34;</span></span>
                              },
                              <span>&#34;target&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>input<span>&#34;</span></span>
                              }
                           },
                           <span>&#34;toggleAction&#34;</span>: {
                              <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
                              <span>&#34;parent&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.vendor-item<span>&#34;</span></span>,
                                 <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>Functional cookies<span>&#34;</span></span>
                              },
                              <span>&#34;target&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>label<span>&#34;</span></span>
                              }
                           }
                        },
                        {
                           <span>&#34;type&#34;</span>: <span><span>&#34;</span>F<span>&#34;</span></span>,
                           <span>&#34;matcher&#34;</span>: {
                              <span>&#34;type&#34;</span>: <span><span>&#34;</span>checkbox<span>&#34;</span></span>,
                              <span>&#34;parent&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.vendor-item<span>&#34;</span></span>,
                                 <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>Advertisement cookies<span>&#34;</span></span>
                              },
                              <span>&#34;target&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>input<span>&#34;</span></span>
                              }
                           },
                           <span>&#34;toggleAction&#34;</span>: {
                              <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
                              <span>&#34;parent&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.vendor-item<span>&#34;</span></span>,
                                 <span>&#34;textFilter&#34;</span>: <span><span>&#34;</span>Advertisement cookies<span>&#34;</span></span>
                              },
                              <span>&#34;target&#34;</span>: {
                                 <span>&#34;selector&#34;</span>: <span><span>&#34;</span>label<span>&#34;</span></span>
                              }
                           }
                        }
                     ]
                  }
               ]
            }
         },
         {
            <span>&#34;name&#34;</span>: <span><span>&#34;</span>SAVE_CONSENT<span>&#34;</span></span>,
            <span>&#34;action&#34;</span>: {
               <span>&#34;type&#34;</span>: <span><span>&#34;</span>click<span>&#34;</span></span>,
               <span>&#34;target&#34;</span>: {
                  <span>&#34;selector&#34;</span>: <span><span>&#34;</span>.save-consent-btn<span>&#34;</span></span>
               }
            }
         }
      ]
   }
}</pre></div>
</article>
        </div></div>
  </body>
</html>
