<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/orgs/community/discussions/20273">Original</a>
    <h1>Part of my code makes Copilot crash</h1>
    
    <div id="readability-page-1" class="page"><div data-paste-markdown-skip="">
    <tbody>
        <tr>
          <td>
              <p dir="auto">I was using copilot, it was working great and then 2 minutes later there is no suggestions anymore. I had the same issue yesterday but it somehow worked again this morning... Now it&#39;s not working again.</p>
<p dir="auto">I found out that after i wrote certain part of my code copilot doesn&#39;t suggest anything anymore.</p>
<p dir="auto"><strong>I tried :</strong></p>
<ul dir="auto">
<li>try the get suggestion on other files/languages</li>
<li>log out/ log in from the extension</li>
<li>reload it</li>
<li>reinstall it</li>
<li>restart vs code</li>
<li>restart the computer</li>
</ul>
<p dir="auto">Here is the log when I press enter (when there should have a suggestions)</p>
<div data-snippet-clipboard-copy-content="[INFO] [default] [2022-07-10T07:59:07.641Z] [fetchCompletions] engine https://copilot-proxy.githubusercontent.com/v1/engines/copilot-codex
[INFO] [default] [2022-07-10T07:59:07.737Z] request.response: [https://copilot-proxy.githubusercontent.com/v1/engines/copilot-codex/completions] took 96 ms"><pre><code>[INFO] [default] [2022-07-10T07:59:07.641Z] [fetchCompletions] engine https://copilot-proxy.githubusercontent.com/v1/engines/copilot-codex
[INFO] [default] [2022-07-10T07:59:07.737Z] request.response: [https://copilot-proxy.githubusercontent.com/v1/engines/copilot-codex/completions] took 96 ms
</code></pre></div>
<p dir="auto">For a bit of contexte, here is the code</p>
<div data-snippet-clipboard-copy-content="//descriptions is a global object 

export function description(name,age,gender,stats)
{
    var descriptionGenerated=&#34;&#34;;
    //wealth category
    var familyType=&#34;&#34;;
    if (stats.wealth&gt;=8) familyType=&#34;rich&#34;;
    else if(stats.wealth&gt;=6) familyType=&#34;aisée&#34;;
    else if(stats.wealth&gt;=4) familyType=&#34;modeste&#34;;
    else familyType=&#34;pauvre&#34;;

    //baby description 
    if(age&lt;=3)
    {
        //get random baby description
        var descriptionId = Math.floor(Math.random()*descriptions.template.baby[gender].length);
        descriptionGenerated = formated(descriptions.template.baby[gender][descriptionId],{name:name,age:2,face:&#34;test&#34;,eyes:&#34;&#34;,familyWealth:familyType,future:&#34;nul&#34;});
    }


    //standard description 

    return descriptionGenerated;
    
}"><pre><span>//descriptions is a global object </span>

<span>export</span> <span>function</span> <span>description</span><span>(</span><span>name</span><span>,</span><span>age</span><span>,</span><span>gender</span><span>,</span><span>stats</span><span>)</span>
<span>{</span>
    <span>var</span> <span>descriptionGenerated</span><span>=</span><span>&#34;&#34;</span><span>;</span>
    <span>//wealth category</span>
    <span>var</span> <span>familyType</span><span>=</span><span>&#34;&#34;</span><span>;</span>
    <span>if</span> <span>(</span><span>stats</span><span>.</span><span>wealth</span><span>&gt;=</span><span>8</span><span>)</span> <span>familyType</span><span>=</span><span>&#34;rich&#34;</span><span>;</span>
    <span>else</span> <span>if</span><span>(</span><span>stats</span><span>.</span><span>wealth</span><span>&gt;=</span><span>6</span><span>)</span> <span>familyType</span><span>=</span><span>&#34;aisée&#34;</span><span>;</span>
    <span>else</span> <span>if</span><span>(</span><span>stats</span><span>.</span><span>wealth</span><span>&gt;=</span><span>4</span><span>)</span> <span>familyType</span><span>=</span><span>&#34;modeste&#34;</span><span>;</span>
    <span>else</span> <span>familyType</span><span>=</span><span>&#34;pauvre&#34;</span><span>;</span>

    <span>//baby description </span>
    <span>if</span><span>(</span><span>age</span><span>&lt;=</span><span>3</span><span>)</span>
    <span>{</span>
        <span>//get random baby description</span>
        <span>var</span> <span>descriptionId</span> <span>=</span> <span>Math</span><span>.</span><span>floor</span><span>(</span><span>Math</span><span>.</span><span>random</span><span>(</span><span>)</span><span>*</span><span>descriptions</span><span>.</span><span>template</span><span>.</span><span>baby</span><span>[</span><span>gender</span><span>]</span><span>.</span><span>length</span><span>)</span><span>;</span>
        <span>descriptionGenerated</span> <span>=</span> <span>formated</span><span>(</span><span>descriptions</span><span>.</span><span>template</span><span>.</span><span>baby</span><span>[</span><span>gender</span><span>]</span><span>[</span><span>descriptionId</span><span>]</span><span>,</span><span>{</span><span>name</span>:<span>name</span><span>,</span><span>age</span>:<span>2</span><span>,</span><span>face</span>:<span>&#34;test&#34;</span><span>,</span><span>eyes</span>:<span>&#34;&#34;</span><span>,</span><span>familyWealth</span>:<span>familyType</span><span>,</span><span>future</span>:<span>&#34;nul&#34;</span><span>}</span><span>)</span><span>;</span>
    <span>}</span>


    <span>//standard description </span>

    <span>return</span> <span>descriptionGenerated</span><span>;</span>
    
<span>}</span></pre></div>
<p dir="auto">and here is the part of code that make copilot crash</p>
<div data-snippet-clipboard-copy-content="//baby description 
if(age&lt;=3)
{
    //get random baby description
    var descriptionId = Math.floor(Math.random()*descriptions.template.baby[gender].length);
    descriptionGenerated = formated(descriptions.template.baby[gender][descriptionId],{name:name,age:2,face:&#34;test&#34;,eyes:&#34;&#34;,familyWealth:familyType,future:&#34;nul&#34;});
}"><pre><span>//baby description </span>
<span>if</span><span>(</span><span>age</span><span>&lt;=</span><span>3</span><span>)</span>
<span>{</span>
    <span>//get random baby description</span>
    <span>var</span> <span>descriptionId</span> <span>=</span> <span>Math</span><span>.</span><span>floor</span><span>(</span><span>Math</span><span>.</span><span>random</span><span>(</span><span>)</span><span>*</span><span>descriptions</span><span>.</span><span>template</span><span>.</span><span>baby</span><span>[</span><span>gender</span><span>]</span><span>.</span><span>length</span><span>)</span><span>;</span>
    <span>descriptionGenerated</span> <span>=</span> <span>formated</span><span>(</span><span>descriptions</span><span>.</span><span>template</span><span>.</span><span>baby</span><span>[</span><span>gender</span><span>]</span><span>[</span><span>descriptionId</span><span>]</span><span>,</span><span>{</span><span>name</span>:<span>name</span><span>,</span><span>age</span>:<span>2</span><span>,</span><span>face</span>:<span>&#34;test&#34;</span><span>,</span><span>eyes</span>:<span>&#34;&#34;</span><span>,</span><span>familyWealth</span>:<span>familyType</span><span>,</span><span>future</span>:<span>&#34;nul&#34;</span><span>}</span><span>)</span><span>;</span>
<span>}</span></pre></div>
          </td>
        </tr>
    </tbody>
  </div></div>
  </body>
</html>
