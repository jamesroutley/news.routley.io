<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ianthehenry.com/posts/peggi/">Original</a>
    <h1>A different kind of keyboard (2021)</h1>
    
    <div id="readability-page-1" class="page"><article>

<div><a href="http://bensch.ac/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_1536x1536_fit_box_3.png"><picture><source type="image/webp" srcset="/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_768x768_fit_q75_h2_box_3.webp 768w,
/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_1536x1536_fit_q75_h2_box_3.webp 1536w,
/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_375x375_fit_q75_h2_box_3.webp 375w,
/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_750x750_fit_q75_h2_box_3.webp 750w" sizes="(max-width: 400px) 375px, 768px"/><img srcset="/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_768x768_fit_box_3.png 768w,
/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_1536x1536_fit_box_3.png 1536w,
/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_375x375_fit_box_3.png 375w,
/posts/peggi/hero_hu5960a19faa377da20f4594896a697490_4812201_750x750_fit_box_3.png 750w" alt="A photograph of an iPhone laying face-down on a wooden table. There is a small keyboard attached to the back of it, with eight keys arranged in a two by four grid." title="A photograph of an iPhone laying face-down on a wooden table. There is a small keyboard attached to the back of it, with eight keys arranged in a two by four grid." sizes="(max-width: 400px) 375px, 768px" width="768" height="530"/></picture></a>
<p>I’ve always been attracted to chording keyboards <em>in theory</em>, but I lack whatever childhood musical training is required to wrap my fingers around them.</p>
<p>So I made something else: an arpeggio keyboard.</p>
<p>Peggi is an eight-key keyboard that fits on the back of your phone. While chording keyboards require you to press multiple keys at the same time, arpeggio keyboards only ask that you type multiple keys in sequence.</p>
<div><table>
<thead>
<tr><th colspan="2">P</th></tr>
</thead>
<tbody>
<tr><td>↘</td><td></td></tr>
<tr><td></td><td>•</td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">E</th></tr>
</thead>
<tbody>
<tr><td></td><td>•</td></tr>
<tr><td></td><td>↑</td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">G</th></tr>
</thead>
<tbody>
<tr><td>↓</td><td></td></tr>
<tr><td>•</td><td></td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">G</th></tr>
</thead>
<tbody>
<tr><td>↓</td><td></td></tr>
<tr><td>•</td><td></td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">I</th></tr>
</thead>
<tbody>
<tr><td>•</td><td></td></tr>
<tr><td>↑</td><td></td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
</div>
<p>Peggi has six “regular” keys, one space key, and one modifier key. Each finger is locked to a particular key: fingers never move across the keyboard.</p>
<p>You can type all lower-case letters and some common punctuation characters with exactly two keypresses. Upper-case letters and other symbols require three keypresses, and numbers and rarely-used symbols require holding the modifier key. Yeah, yeah, it’s sort of a chord. But like not <em>really</em>.</p>

<p>I made a demo that preserves the same finger-key correspondence as the Peggi, but laid out across the qwerty home row. So instead of a 2x4 grid, it’s a 1x8 line. It sort of breaks my brain to type on it after using the real thing, but since you’ve never used the real thing, it should give you an okay idea of how it feels.</p>
<p>Try focusing the textarea below, and pressing the following keys on your keyboard:</p>
<pre tabindex="0"><code>FFL KJ JL JL JF
KS A
FFK KJ FD FD DF LLL
</code></pre><p>(If you press the wrong initial key, press <code>;</code> to discard it. If you need to backspace, hold <code>;</code> and press <code>A</code>. If you’re on a phone… well, I dunno; maybe email yourself this URL and try it out later…)</p>


<p>I picture each arpeggio as a motion across a two-dimensional grid. I didn’t want to draw a fancy SVG, so content yourself with this janky table instead:</p>
<div>
<table>
<thead>
<tr><th colspan="2">T</th></tr>
</thead>
<tbody>
<tr><td></td><td></td></tr>
<tr><td>•</td><td></td></tr>
<tr><td>↑</td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">H</th></tr>
</thead>
<tbody>
<tr><td>↘</td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td>•</td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">E</th></tr>
</thead>
<tbody>
<tr><td></td><td>•</td></tr>
<tr><td></td><td>↑</td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
</div>
<p>I bring this up because the motions “across” the keyboard feel more natural to me on the two dimensional grid than they do on the linear layout in the demo above.</p>
<div>
<table>
<thead>
<tr><th colspan="2">C</th></tr>
</thead>
<tbody>
<tr><td></td><td></td></tr>
<tr><td>•</td><td>←</td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">O</th></tr>
</thead>
<tbody>
<tr><td>•</td><td>←</td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">O</th></tr>
</thead>
<tbody>
<tr><td>•</td><td>←</td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
</tbody>
</table>
<table>
<thead>
<tr><th colspan="2">L</th></tr>
</thead>
<tbody>
<tr><td></td><td>↓</td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td>•</td></tr>
</tbody>
</table>
</div>
<p>I will also add that I think the cupped shape of the hands makes the pinky keys a lot more comfortable than the demo implies. Having the space and modifier keys on the pinkies feels fine on the Peggi, but it feels a little weird on <code>A</code> and <code>;</code>. So… withhold some judgement there, maybe.</p>

<ul>
<li>If you didn’t grow up playing the piano, it’s probably easier to press one key after another than to press multiple keys at the same time – you’ve been doing it all your life, on a regular keyboard.</li>
<li>Characters are entered on keydown, not on keyup, just like a traditional keyboard. This makes the keyboard feel a little more responsive – and a lot more familiar.</li>
<li>Because the order that you press keys matters, you can get by with fewer total keys. Six keys gives you 15 two-finger chords, but 30 two-finger arpeggios – enough to accommodate every letter in a commonly used alphabet.</li>
</ul>

<p>The obvious downside is that you’re submitting twice as many inputs as you would be on a chording keyboard… sort of. Typing two letters requires four keypresses, instead of two chordpresses, but you can usually begin pressing the next key before you finish pressing the previous key. Meanwhile, a chording keyboard requires you to release all keys before you can begin typing the next chord, so entering two letters on a chording keyboard is sort of four “input events” as well: keydown, keyup, keydown, keyup.</p>

<p>Another downside is that certain typos – either missing a key, or typing an extra key – can result in an entire word being mistyped: as soon as you’re “off by one,” every subsequent arpeggio you type will actually enter the wrong character. This is part of the reason why pressing space always presses space, regardless of the current sequence you’re typing: if you make a mistake, it will only last until the end of the current word.</p>
<p>I thought this would be a big problem with the design, but in practice this… almost never happens? At least at the speeds I can type at. My brain very much thinks about letters as pairs (or really as “motions” between keys), so you’d only really get off-by-one if a key press didn’t register. But because your fingers never move around, this is actually very rare.</p>

<p>It’s not amazing.</p>
<p>I thought it was clever to put keys on the back of a phone: it leaves your thumbs free to reposition the cursor or do other navigationy things; it keeps the overall form factor relatively compact and pocket-friendly.</p>
<p>But in reality, your thumbs are kind of useless. I found that the most comfortable way to hold the phone is in landscape mode with your thumbs resting across the top edge – holding the phone such that they can actually reach the screen requires sticking the keyboard down and pinching just the corner of your screen with your palms.</p>
<a href="http://bensch.ac/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_1536x1536_fit_box_3.png"><picture><source type="image/webp" srcset="/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_768x768_fit_q75_h2_box_3.webp 768w,
/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_1536x1536_fit_q75_h2_box_3.webp 1536w,
/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_375x375_fit_q75_h2_box_3.webp 375w,
/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_750x750_fit_q75_h2_box_3.webp 750w" sizes="(max-width: 400px) 375px, 768px"/><img srcset="/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_768x768_fit_box_3.png 768w,
/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_1536x1536_fit_box_3.png 1536w,
/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_375x375_fit_box_3.png 375w,
/posts/peggi/overhead_hu76001ab6b57f0da9b0132a3841bc1747_4243157_750x750_fit_box_3.png 750w" alt="A picture of a white man&#39;s hands, cupped around the back of an iPhone, fingers resting on the keyboard attached to the back of it. You can&#39;t see his face, but you can tell that he looks mostly comfortable with the position. He did not do his nails for this photo shoot." title="A picture of a white man&#39;s hands, cupped around the back of an iPhone, fingers resting on the keyboard attached to the back of it. You can&#39;t see his face, but you can tell that he looks mostly comfortable with the position. He did not do his nails for this photo shoot." sizes="(max-width: 400px) 375px, 768px" width="768" height="350"/></picture></a>
<p>This isn’t really as bad as it sounds. Peggi is designed for text entry; it isn’t well-suited for text editing. Occasionally making some awkward thumb contortions to move the cursor isn’t a huge deal.</p>
<p>And yeah, it really doesn’t work in portrait. I’ve tried. It’s awful.</p>
<a href="http://bensch.ac/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_1536x1536_fit_box_3.png"><picture><source type="image/webp" srcset="/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_768x768_fit_q75_h2_box_3.webp 768w,
/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_1536x1536_fit_q75_h2_box_3.webp 1536w,
/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_375x375_fit_q75_h2_box_3.webp 375w,
/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_750x750_fit_q75_h2_box_3.webp 750w" sizes="(max-width: 400px) 375px, 768px"/><img srcset="/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_768x768_fit_box_3.png 768w,
/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_1536x1536_fit_box_3.png 1536w,
/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_375x375_fit_box_3.png 375w,
/posts/peggi/portrait_hud12db8b2dbcd9b247c546eafdf55e26b_6313735_750x750_fit_box_3.png 750w" alt="The same pallid hands hold the keyboard, but this time the phone is upright in portrait mode. You can&#39;t see his face, but you can tell that he is contorting his thumbs uncomfortably in order to barely grasp the edge of the phone while still reaching the keys on the back." title="The same pallid hands hold the keyboard, but this time the phone is upright in portrait mode. You can&#39;t see his face, but you can tell that he is contorting his thumbs uncomfortably in order to barely grasp the edge of the phone while still reaching the keys on the back." sizes="(max-width: 400px) 375px, 768px" width="768" height="400"/></picture></a>
<p>Even though the photograph at the top of this post <em>showed the keyboard in portrait orientation</em>. That was a lie. That was a trick. It just photographs much better that way, because the keyboard is a little bit taller than my phone is wide, and it looks really goofy:</p>
<a href="http://bensch.ac/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_1536x1536_fit_box_3.png"><picture><source type="image/webp" srcset="/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_768x768_fit_q75_h2_box_3.webp 768w,
/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_1536x1536_fit_q75_h2_box_3.webp 1536w,
/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_375x375_fit_q75_h2_box_3.webp 375w,
/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_750x750_fit_q75_h2_box_3.webp 750w" sizes="(max-width: 400px) 375px, 768px"/><img srcset="/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_768x768_fit_box_3.png 768w,
/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_1536x1536_fit_box_3.png 1536w,
/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_375x375_fit_box_3.png 375w,
/posts/peggi/landscape-hero_hu4cfcd692ba34d2cac1188593b43314c2_4304458_750x750_fit_box_3.png 750w" alt="An iPhone sits face down on a table. It looks sad; dejected. There is a keyboard on the back of it, but it&#39;s hanging off the edges because it&#39;s too long, and the wires coming out of the keyboard and into the phone are at a dumb angle. You can tell that this would not make a good hero image for a blog post." title="An iPhone sits face down on a table. It looks sad; dejected. There is a keyboard on the back of it, but it&#39;s hanging off the edges because it&#39;s too long, and the wires coming out of the keyboard and into the phone are at a dumb angle. You can tell that this would not make a good hero image for a blog post." sizes="(max-width: 400px) 375px, 768px" width="768" height="379"/></picture></a>
<p>I could say that the keyboard <em>swivels</em>, so you can convert between portrait mode (so it fits in your pocket) and landscape mode (so you can actually use it), but I feel that I’ve lied enough to you already. I didn’t build a swively thing. I don’t know how. My knowledge of making physical things stops at, like, buying a USB cable.</p>

<p>I did not do a fancy statistical analysis to figure out what the optimal layout would be to minimize double-presses, or to maximize total comfort level given some heuristics, or anything like that.</p>
<p>I laid it out by hand, putting common letters in the most (subjectively!) comfortable positions, and trying to avoid as many double-presses as possible.</p>
<p>For example, I find it very easy to roll my fingers “up,” and comparably harder to roll them “down” – in other words, I can type <code>asdf</code> more easily than <code>fdsa</code> on a qwerty keyboard.</p>
<p>So I started by making the most common word in English – “the” – a roll of all of the fingers up, starting on the left hand and then moving to the right hand. From the home row: <code>SDFLKJ</code>. This puts <code>e</code> – the most frequent letter in English – on what is in my opinion the easiest sequence to type (<code>KJ</code> on a qwerty keyboard). From there I placed other letters according to their frequency and comfort, trying to prevent common words and bigrams from requiring double presses. And then I tweaked it a ton over time as I actually used it.</p>
<p>I won’t claim that the key layout I settled on is <em>optimal</em>, but it stopped annoying me, and at some point I had to stop tweaking so I could actually spend some time learning to use it. If you want to make your own arpeggio keyboard, I would recommend doing a bit more science to optimize the layout than I did.</p>

<p>Since the most commonly typed key is space, and it remains a single keypress, the “average” number of keypresses per character – taking capitals into account – is around 1.8.</p>
<p>I can type around 90wpm on my regular keyboard. Theoretically, that means I should be able to type around 50wpm on Peggi, because math.</p>
<p>But I also don’t have to move my fingers. Typing on Peggi is like typing exclusively from the home row, without even needing to stretch a pinky to reach for shift. So perhaps I can reach speeds even faster than 50wpm.</p>
<p>But I am also much more likely to “stall” – to have to press the same key multiple times in a row. And that’s much slower, because I can’t just press-press – I actually need to press, release, then press again. So perhaps 50wpm is optimistic.</p>
<p>Or perhaps the advantage from my fingers staying in the same place exactly counteracts the disadvantage from pressing repeat keys, and 50wpm is the correct estimate.</p>
<p>I have no idea. Let’s try an empirical measurement.</p>

<p>I’m lucky if I hit 10wpm.</p>

<p>Peggi appealed to me when I lived in New York City, because I wanted a good way to write during my long commute on the subway. I actually built a prototype Peggi years ago – out of a cheap Bluetooth numpad that wasn’t reprogrammable. It only worked with a custom iOS app I wrote that listened to the individual keypress events and synthetically “typed” the corresponding letters into a <code>UITextView</code>. It was janky, but it worked, and the app also showed the key mappings that updated as I typed the first character in a sequence, which was very helpful as I tried to learn my own layout.</p>
<p>I wrote it off as an interesting experiment, partly because the numpad I used was <em>so bad</em> that it would miss half the keys I typed, and I haven’t really had an occasion to think about it since. I don’t live in New York City anymore, and I don’t really have a reason to write <em>on the go</em> these days.</p>
<p>But then I randomly stumbled across the <a href="https://www.gboards.ca/product/faunchpad">Faunchpad</a>, an eight-key macropad flashed with QMK. “My gosh,” I thought. “That would be perfect for another Peggi prototype.” So I ordered one, and wrote the firmware, and flashed it.</p>
<p>And here we are. It was a fun experiment, and it was nice to make another prototype, but I don’t think it’s really very useful – for me, at least. So my Peggi speed is probably going to stay at 10wpm, and that’s okay.</p>
<p>But I’m writing this because I think it’s an interesting idea and – while I’m sure I’m not the first to try it – I’ve never heard of any examples of keyboards like this. Maybe it will inspire you to make your own?</p>

<p>The <a href="https://gkos.com/gkos/index-gkos-com.html">GKOS</a> inspired the “put a keyboard on the back of your phone” form factor.</p>
<p>I built the Peggi out of a <a href="https://www.gboards.ca/product/faunchpad">Faunchpad that I purchased for $45 from g Heavy Industries</a>. They also sell full stenographic keyboards like the <a href="https://www.gboards.ca/product/georgi">Georgi</a>, either as kits or pre-assembled.</p>
<p>The QMK <a href="https://github.com/ianthehenry/qmk_firmware/blob/master/keyboards/peggi/keymaps/default/keymap.c">firmware for Peggi is on GitHub</a>.</p>
<p><a href="https://asetniop.com/">ASETNIOP</a> is a nice minimal ten-key chorded layout with stenography that you can try in your browser.</p>
<p>The <a href="https://twiddler.tekgear.com/">Twiddler</a> is a commercial one-handed chorded keyboard with built-in mouse. I’ve never <em>actually</em> used one, but the Twiddler v1 might have been the first chording keyboard I ever heard of, so it has a special place in my heart for getting me interested in the world of alternative input devices.</p></div>
</article></div>
  </body>
</html>
