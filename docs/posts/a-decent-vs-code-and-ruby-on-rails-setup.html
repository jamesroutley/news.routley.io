<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://railsnotes.xyz/blog/vscode-rails-setup">Original</a>
    <h1>A decent VS Code and Ruby on Rails setup</h1>
    
    <div id="readability-page-1" class="page"><div><blockquote><p>Setting up VS Code for Ruby on Rails development can be tricky, so I wrote this article to help. Plus, I&#39;ve turned the extensions in this article into a <a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=RailsNotes.railsnotes-ruby-on-rails-extension-pack">VS Code Extension Pack.</a> Use it to install all the extensions from this article in 1-click, to get started quickly with VS Code + Ruby on Rails.</p></blockquote><details open=""><summary>Table of Contents</summary></details><p><strong>Using VS Code as a Ruby on Rails editor shouldn&#39;t be so hard!</strong> It&#39;s tricky deciding which extensions to use, and a bunch of them are outdated or in a state of disrepair.</p><p>I&#39;m hoping this short article will make it easier to setup VS Code for Ruby on Rails — I&#39;ve collected the core extensions I use for all my Ruby on Rails editing, and even bundled them into a <a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=RailsNotes.railsnotes-ruby-on-rails-extension-pack">handy extension pack</a> so you can install them all at once.</p><p>I&#39;ve grouped the extensions in this article into four categories — language servers, other LSPs, formatters/linters, and ERB formatters and language tools.</p><h2 id="language-server-ruby-lsp-and-solargraph"><a href="#language-server-ruby-lsp-and-solargraph" aria-hidden="true" tabindex="-1"><span></span></a>Language Server (Ruby LSP... and Solargraph)</h2><p>The language server is the bread-and-butter of an editing experience. It powers things like autocomplete, error-checking, jump-to-definition and more. <strong>In the Ruby on Rails world, we&#39;ve got two Language Servers — the <a target="_blank" rel="noopener noreferrer" href="https://github.com/Shopify/vscode-ruby-lsp">Shopify Ruby LSP</a> (newer), and <a target="_blank" rel="noopener noreferrer" href="https://github.com/castwide/solargraph">Solargraph</a> (older); I run both!</strong></p><figure><img alt="Language servers give you variable suggestions, goto definiton and more. This is an area that Ruby extensions have typically struggled in (compared to other languages)" sizes="100vw" srcset="/_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=3840&amp;q=75 3840w" src="https://railsnotes.xyz/_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Flanguage-server.gif&amp;w=3840&amp;q=75" width="0" height="0" decoding="async" data-nimg="1" loading="lazy"/><figcaption>Language servers give you variable suggestions, goto definiton and more. This is an area that Ruby extensions have typically struggled in (compared to other languages)</figcaption></figure><p>The Shopify Ruby LSP is an awesome project and improving every day (literally, there are updates to the extension every few days), but after nearly 2 years of development, it still doesn&#39;t <em>entirely</em> replace Solargraph. <strong>I find that Solargraph is still better at autocompleting variables and method names, so I just run both (they play nicely together).</strong></p><p>I&#39;m <em>hoping</em> that <em>one day</em>, the Shopify Ruby LSP will overtake Solargraph in features and we&#39;ll be able to just run a single Language Server, but it won&#39;t happen for a while. Until then though, you can safely run both Language Servers together without any trouble.</p><blockquote><p>Language Server Extensions:</p><ul><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=Shopify.ruby-lsp">Shopify Ruby LSP (VS Code Extension Marketplace)</a></p></li><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=castwide.solargraph">Solargraph (VS Code Extension Marketplace)</a></p></li></ul></blockquote><h2 id="other-lsp-integrations-stimulus-lsp-and-rails-lsp"><a href="#other-lsp-integrations-stimulus-lsp-and-rails-lsp" aria-hidden="true" tabindex="-1"><span></span></a>Other LSP Integrations (Stimulus LSP and Rails LSP)</h2><p>The introduction of the <a target="_blank" rel="noopener noreferrer" href="https://microsoft.github.io/language-server-protocol/">LSP protocol</a> paved the way for full-fledged LSPs like the <a target="_blank" rel="noopener noreferrer" href="https://github.com/Shopify/ruby-lsp">Ruby LSP</a> from above, but it&#39;s also made it easy for smaller, bespoke LSPs to integrate with VS Code. There are currently two key LSPs worth checking out — <a target="_blank" rel="noopener noreferrer" href="https://github.com/marcoroth/stimulus-lsp">Stimulus LSP</a> and <a target="_blank" rel="noopener noreferrer" href="https://github.com/Shopify/ruby-lsp-rails">Rails LSP</a>. Both are great!</p><p>The Stimulus LSP from <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/marcoroth_">Marco Roth</a> gives you editor suggestions for <a target="_blank" rel="noopener noreferrer" href="https://stimulus.hotwired.dev">Stimulus controllers</a>, and the Rails LSP from Shopify lets you hover over models in your app to view their schema.</p><p>If you&#39;re using the Rails LSP, make sure to follow the <a target="_blank" rel="noopener noreferrer" href="https://github.com/Shopify/ruby-lsp-rails?tab=readme-ov-file#installation">installation instructions</a> by adding it to your Gemfile —</p><div><pre><code><span>group <span>:development</span> <span>do</span>
</span><span>  gem <span><span>&#34;ruby-lsp-rails&#34;</span></span>
</span><span><span>end</span>
</span></code></pre></div><blockquote><p>Note: the Rails LSP sits on top of the Ruby LSP extension. You don&#39;t need to install an extra extension, just the gem.</p></blockquote><p>The Stimulus LSP gets updated pretty frequently and is shaping up to be a really handy tool for building Stimulus controllers; The Rails LSP is pretty barebones right now, but I&#39;m hoping that once Shopify has the Ruby LSP in a good place, they&#39;ll shift their focus to enhancing the Rails LSP.</p><blockquote><p>Other LSP Extensions:</p><ul><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=marcoroth.stimulus-lsp">Stimulus LSP (VS Code Extension Marketplace)</a></p></li><li><p>Rails LSP (just add the gem to your <code>Gemfile</code>)</p></li></ul></blockquote><h2 id="ruby-linter--formatter-rubocop-standard-and-rufo"><a href="#ruby-linter--formatter-rubocop-standard-and-rufo" aria-hidden="true" tabindex="-1"><span></span></a>Ruby Linter &amp; Formatter (Rubocop, Standard and Rufo)</h2><p>Linters and formatters tend to go hand-in-hand, despite being slightly different — linters correct code <em>style (like how you structure conditionals)</em>, whereas formatters correct code <em>formatting (like whether to insert a space inside hashes)</em>.</p><p>Both are typically must-haves for any non-trivial project — they keep your code consistent between files and projects, and between teammates too.</p><p>The linter/formatter you pick just comes down to preference. Do you want to:</p><ul><li>use heavyweight <a target="_blank" rel="noopener noreferrer" href="https://github.com/rubocop/rubocop">Rubocop</a> and tweak it until you&#39;re happy,</li><li>choose <a target="_blank" rel="noopener noreferrer" href="https://github.com/standardrb/standard">Standard</a> as a prescriptive linter + formatter,</li><li>forgo linting altogether and use <a target="_blank" rel="noopener noreferrer" href="https://github.com/jnbt/vscode-rufo">Rufo</a> for formatting?</li></ul><p>I use Rufo in all my side-projects, and Standard at work — I like how prescriptive they are (compared to Rubocop), and I find that for side-projects I&#39;m fine giving up linting for my preferred formatter, Rufo.</p><figure><img alt="Formatting some odd looking Ruby code with the Rufo extension" sizes="100vw" srcset="/_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=3840&amp;q=75 3840w" src="https://railsnotes.xyz/_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Frufo.gif&amp;w=3840&amp;q=75" width="0" height="0" decoding="async" data-nimg="1" loading="lazy"/><figcaption>Formatting some odd looking Ruby code with the Rufo extension</figcaption></figure><blockquote><p>Note: make sure you&#39;ve got the <code>rubocop</code>, <code>standard</code> or <code>rufo</code> gems available in your <code>PATH</code> (depending on which one you choose). You&#39;ll probably need to run one of:</p><ul><li><code>bundle add rubocop</code></li><li><code>bundle add standard</code></li><li><code>bundle add rufo</code></li></ul></blockquote><blockquote><p>Ruby Linter &amp; Formatter extensions:</p><ul><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=rubocop.vscode-rubocop">Rubocop (VS Code Extension Marketplace)</a></p></li><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=testdouble.vscode-standard-ruby">Standard Ruby (VS Code Extension Marketplace)</a></p></li><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=jnbt.vscode-rufo">Rufo - Ruby formatter (VS Code Extension Marketplace)</a></p></li></ul></blockquote><p>Finally, you&#39;ll need a separate set of extensions to handle Rails view templates. ERB is the most popular, and it&#39;s what I use, so I&#39;ve included ERB-related extensions (you&#39;ll need to find your own extensions for HAML or Slim).</p><p>I use two ERB extensions for VS Code — the first is <a target="_blank" rel="noopener noreferrer" href="https://github.com/vortizhe/vscode-ruby-erb">Simple Ruby ERB</a>. It&#39;s <em>terribly</em> maintained (last updated: 7 years ago), and I only really use it for the <code>ctrl + shift + ,</code> shortcut to insert and cycle through ERB tags (<code>&lt;%%&gt; --&gt; &lt;%=%&gt; --&gt; &lt;%#%&gt;</code>). It does also have some basic helpers for <code>if/else</code> blocks, <code>link_to</code> etc. which I <em>occasionally</em> use (full list <a target="_blank" rel="noopener noreferrer" href="https://github.com/vortizhe/vscode-ruby-erb/blob/master/snippets/erb.json">here</a>).</p><p>The other ERB extension I use is <a target="_blank" rel="noopener noreferrer" href="https://github.com/aliariff/vscode-erb-beautify">ERB Formatter/Beautify</a>; it&#39;s a formatter for <code>.erb</code> template files (duh!). It works pretty well, although I prefer how <a target="_blank" rel="noopener noreferrer" href="https://github.com/jnbt/vscode-rufo">Rufo</a> formats Ruby within ERB files so I usually run both across a file.</p><figure><img alt="Using a snippet from Simple Ruby ERB, then formatting HTML and ERB with the ERB Formatter/Beautify extension" sizes="100vw" srcset="/_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=3840&amp;q=75 3840w" src="https://railsnotes.xyz/_next/image?url=%2Fstatic%2Fimages%2Fvscode-rails-setup%2Ferb-format.gif&amp;w=3840&amp;q=75" width="0" height="0" decoding="async" data-nimg="1" loading="lazy"/><figcaption>Using a snippet from Simple Ruby ERB, then formatting HTML and ERB with the ERB Formatter/Beautify extension</figcaption></figure><p>There are a bunch more ERB extensions that you can try out (for things like code snippet suggestions), but I&#39;m pretty happy with these two and find them to be enough.</p><blockquote><p>Ruby Linter &amp; Formatter extensions:</p><ul><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=aliariff.vscode-erb-beautify">ERB Formatter/Beautify (VS Code Extension Marketplace)</a></p></li><li><p><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=vortizhe.simple-ruby-erb">Simple Ruby ERB (VS Code Extension Marketplace)</a></p></li></ul></blockquote><h2 id="conclusion"><a href="#conclusion" aria-hidden="true" tabindex="-1"><span></span></a>Conclusion</h2><p>That&#39;s it! I try to keep my set of VS Code extensions pretty lightweight, but I&#39;m sure there are a bunch more great ones out there.</p><p>I hope my <a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=RailsNotes.railsnotes-ruby-on-rails-extension-pack">Ruby on Rails VS Code extension pack</a> is handy to you! I think it&#39;s a great way to get VS Code installed with a solid baseline set of extensions to cover all your bases.</p></div></div>
  </body>
</html>
