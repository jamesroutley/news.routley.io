<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/barddoo/zedis">Original</a>
    <h1>Show HN: Zedis â€“ A Redis clone I&#39;m writing in Zig</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">A Redis-compatible in-memory data store written in <a href="https://ziglang.org/" rel="nofollow">Zig</a>, designed for learning and experimentation. Zedis implements the core Redis protocol and data structures with a focus on simplicity, performance, and thread safety.</p>

<ul dir="auto">
<li><strong>Redis Protocol Compatibility</strong>: Supports the Redis Serialization Protocol (RESP)locks</li>
<li><strong>Multiple Data Types</strong>: String and integer value storage with automatic type conversion</li>
<li><strong>Core Commands</strong>: Essential Redis commands including GET, SET, INCR, DECR, DEL, EXISTS, and TYPE</li>
<li><strong>High Performance</strong>: Written in Zig for optimal performance and memory safety</li>
<li><strong>Connection Management</strong>: Handles multiple concurrent client connections</li>
<li><strong>Disk persistence (RDB)</strong>: Point-in-time snapshots of your dataset.</li>
<li><strong>Pub/Sub</strong>: Decoupled communication between services. <strong>(lastest feature)</strong></li>
</ul>

<ul>
<li> Add <a href="https://rdb.fnordig.de/file_format.html#string-encoding" rel="nofollow">RDB snapshots</a></li>
<li> Implement pub/sub functionality</li>
<li> Implement AOF (Append Only File) logging</li>
<li> Implement more Redis commands</li>
<li> Add support for lists and sets</li>
<li> Add configuration file support</li>
<li> Implement key expiration</li>
<li> Add clustering support</li>
<li> Performance benchmarking suite</li>
</ul>


<ul dir="auto">
<li><a href="https://ziglang.org/download/" rel="nofollow">Zig</a> (minimum version 0.15.1)</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Clone the repository
git clone https://github.com/barddoo/zedis.git
cd zedis

# Build the project
zig build

# Run the server
zig build run"><pre><span><span>#</span> Clone the repository</span>
git clone https://github.com/barddoo/zedis.git
<span>cd</span> zedis

<span><span>#</span> Build the project</span>
zig build

<span><span>#</span> Run the server</span>
zig build run</pre></div>
<p dir="auto">The server will start on <code>127.0.0.1:6379</code> by default.</p>

<p dir="auto">You can test Zedis using the standard <code>redis-cli</code> or any Redis client:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Connect to Zedis
redis-cli -h 127.0.0.1 -p 6379

# Try some commands
127.0.0.1:6379&gt; SET mykey &#34;Hello, Zedis!&#34;
OK
127.0.0.1:6379&gt; GET mykey
&#34;Hello, Zedis!&#34;
127.0.0.1:6379&gt; INCR counter
(integer) 1
127.0.0.1:6379&gt; TYPE mykey
string"><pre><span><span>#</span> Connect to Zedis</span>
redis-cli -h 127.0.0.1 -p 6379

<span><span>#</span> Try some commands</span>
127.0.0.1:<span>6379&gt;</span> SET mykey <span><span>&#34;</span>Hello, Zedis!<span>&#34;</span></span>
OK
127.0.0.1:<span>6379&gt;</span> GET mykey
<span><span>&#34;</span>Hello, Zedis!<span>&#34;</span></span>
127.0.0.1:<span>6379&gt;</span> INCR counter
(integer) 1
127.0.0.1:<span>6379&gt;</span> TYPE mykey
string</pre></div>


<p dir="auto">The codebase follows Zig conventions with clear separation of concerns:</p>
<ul dir="auto">
<li>Type-safe operations with compile-time guarantees</li>
<li>Explicit error handling throughout</li>
<li>Memory safety with RAII patterns</li>
<li>Comprehensive logging for debugging</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Build in debug mode (default)
zig build -Doptimize=Debug

# Build optimized release
zig build -Doptimize=ReleaseFast

# Run tests (when available)
zig build test"><pre><span><span>#</span> Build in debug mode (default)</span>
zig build -Doptimize=Debug

<span><span>#</span> Build optimized release</span>
zig build -Doptimize=ReleaseFast

<span><span>#</span> Run tests (when available)</span>
zig build <span>test</span></pre></div>

<ol dir="auto">
<li>Implement the command handler in the appropriate file under <code>src/commands/</code></li>
<li>Register the command in the command registry</li>
<li>Add tests for the new functionality</li>
</ol>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pub fn myCommand(client: *Client, args: []const Value) !void {
    // Command implementation
    try client.writeSimpleString(&#34;OK&#34;);
}"><pre><span>pub</span> <span>fn</span> <span>myCommand</span>(<span>client</span>: <span>*</span><span>Client</span>, <span>args</span>: []<span>const</span> <span>Value</span>) <span>!</span><span>void</span> {
    <span>// Command implementation</span>
    <span>try</span> <span>client</span>.<span>writeSimpleString</span>(<span>&#34;OK&#34;</span>);
}</pre></div>

<ul dir="auto">
<li>Follow Zig&#39;s standard formatting (<code>zig fmt</code>)</li>
<li>Add comprehensive error handling</li>
<li>Include documentation comments for public APIs</li>
<li>Write tests for new functionality</li>
</ul>

<ul dir="auto">
<li>GitHub: <a href="https://github.com/barddoo">@barddoo</a></li>
<li>Project Link: <a href="https://github.com/barddoo/zedis">https://github.com/barddoo/zedis</a></li>
</ul>
<hr/>
<p dir="auto"><strong>Zedis</strong> - Learning Redis internals through Zig! ðŸ¦Žâš¡</p>
</article></div></div>
  </body>
</html>
