<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ignore.pl/you_can_serve_static_data_over_http.html">Original</a>
    <h1>You can serve static data over HTTP</h1>
    
    <div id="readability-page-1" class="page"><article>

<p>Published on 2022-01-27 20:00:00+01:00
</p><p>This will be short. I need to let some steam off and flush this thing out of my mind because it&#39;s already hanging
around for too long. The story goes like this: we&#39;re prototyping small tool for whatever and we&#39;re at the point where
there is a visible need to store some (most likely) static data. Oh, the thing is in JavaScript by the way.
</p><p>&#34;Yeah, let&#39;s just put it into a JSON file and serve it over web server.&#34;
</p><p>Said me naively but turns out that there is a legitimate confusion on the other side of the trench.
</p><p>&#34;Do you mean a database?&#34;
</p><p>Let&#39;s end the flashback here, we already have enough background for what will follow. Now, hear me out, <em>your API
endpoint is just pretending to be a file.</em>
</p><p>You don&#39;t need a full blown web application back-end. You don&#39;t need an over-featured database engine that can
provide its own REST API endpoints with data. And you don&#39;t need a complex ORM library and couple your data model to it
and write your own endpoints. You don&#39;t need any of these and possibly others.
</p><p>You <em>may</em> need them, but never let your habits decide your designs.
</p><p>It&#39;s not illegal to use static files and it does work. Moreover, with a limited set of data it gives huge freedom to
developer to try out things and break them. It&#39;s suited for rapid prototyping but it also has its own place in
production environment (e.g., git).</p>
<img src="https://ignore.pl/you_can_serve_static_data_over_http-1.png" alt="free junk"/>
<h2>Is it possible to learn this power?</h2>
<p>Not from a modern developer. You need to jump down the rabbit hole of the history of solid and proven solutions.
</p><p>First off, create some files. In my example we needed some static data for JavaScript, so we used JSON:
</p><pre>[
	{&#34;type&#34;: 1, &#34;name&#34;: &#34;a&#34;},
	{&#34;type&#34;: 1, &#34;name&#34;: &#34;b&#34;}
]
</pre>
<p>Now, save it as a file called <code>things</code> without any extension at all. Something like this will do:
</p><pre>$ pwd
/home/ignore/public

$ ls
things
</pre>
<p>It&#39;s ready to be served to the client. Start up your favourite server that can handle static data and position it at
the directory that you&#39;ve selected:
</p><pre>$ python3 -m http.server
Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...
</pre>
<p>It can now be accessed at <code>http://localhost:8000/things</code>. If you are working with JS as I did that time,
shift the <code>public</code> content a bit to also serve the client application:
</p><pre>$ ls . api
.:
index.html  style.css  main.js  api/

api:
things
</pre>
<p>Dead simple, right? Now you know. Hey, you can even mock more complex APIs with a help of symlinks and creativity.
And if you worry about whether it works - just try it out. If it has some problems - force the server to set correct
mime type for files without extensions.
</p><p>Hopefully, next post will be more interesting, but this had to be done. Just had to. I may rest now.
<!--
Don't worry or go "ha ha, this guy got triggered by such thing" - you've been bamboozled. It's all have been an act.
Without it the whole post would be not only basic but also boring. One thing remains true: for some reason the idea of
this post was following me for quite a while now and I just wanted to get rid off it.
-->
</p></article></div>
  </body>
</html>
