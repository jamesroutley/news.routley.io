<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://zed.dev/blog/bring-your-own-agent-to-zed">Original</a>
    <h1>Bring Your Own Agent to Zed – Featuring Gemini CLI</h1>
    
    <div id="readability-page-1" class="page"><article><p>You can now interact with third-party agents directly within Zed. To make this possible, we created the <a href="http://agentclientprotocol.com">Agent Client Protocol (ACP)</a>, and we&#39;ve partnered with Google to integrate <a href="https://cloud.google.com/gemini/docs/codeassist/gemini-cli">Gemini CLI</a> as the initial reference implementation.</p>
<p>Because software developers rely on diverse tools in a variety of different tech stacks, we see room for multiple agents competing to solve problems in different domains. Just as the Language Server Protocol unbundled language intelligence from monolithic IDEs, our goal with the Agent Client Protocol is to enable you to switch between multiple agents without switching your editor. If you&#39;re an agent developer, we&#39;re also giving you a fast and convenient user interface inside an IDE, so you can focus on building the best possible agent rather than forking VS Code.</p>
<h2 id="gemini-cli-in-zed"><a href="#gemini-cli-in-zed" aria-label="Copy heading link"><span><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg></span><span>Gemini CLI in Zed</span></a></h2>
<p><figure><video src="https://customer-snccc0j9v3kfzkif.cloudflarestream.com/da3716b5effeea5452db7928145f3540/downloads/default.mp4" width="3840" height="2160" poster="/img/post/extensible-agents/video-poster.webp" controls=""></video><figcaption>A walkthrough of Gemini CLI in Zed.</figcaption></figure></p>
<p>After shipping agentic editing earlier this year, the next big task on our roadmap was making that experience extensible. As luck would have it, that&#39;s around the time when Google decided to reach out. The Gemini CLI team was having a great experience using their agent in Zed&#39;s integrated terminal, and they wanted to explore what deeper integration could look like. As an open-source project with a ton of early traction, Gemini CLI seemed like a perfect way to drive the design of extensible agents in Zed with a concrete use case.</p>
<p>Command-line agents are cool because their simplicity makes them easy to run anywhere—including as a subprocess of another application. Zed was already running Gemini CLI inside our embedded terminal emulator, but we needed a more structured way of communicating than ANSI escape codes. So we defined a minimal set of JSON-RPC endpoints to relay user requests to the agent and render its responses. The result is the Agent Client Protocol, a lean framework that lets any client talk to any agent, as long as they follow the schema.</p>
<p>By running the same Gemini CLI as a subprocess speaking ACP, we surface the same underlying capabilities of the terminal-based experience, but tightly integrated into an environment that&#39;s purpose-built for software development. This unlocks features that are difficult to achieve outside of an editor, such as real-time edit visualization, multi-buffer reviews, and fluid navigation between code and agent interactions.</p>
<h2 id="introducing-the-agent-client-protocol"><a href="#introducing-the-agent-client-protocol" aria-label="Copy heading link"><span><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg></span><span>Introducing the Agent Client Protocol</span></a></h2>
<div><figure><img src="https://zed.dev/img/acp/banner-dark.webp" alt="The Agent Client Protocol logo."/><figcaption>The Agent Client Protocol logo.</figcaption></figure></div>
<p>ACP lets developers choose the tools that work best for their workflow. Any agent that speaks ACP can plug into a powerful UI, where the user can follow the agent around the codebase as it works, control its access to tools and MCP servers, and review all of its changes in a multi-buffer with full syntax highlighting and language server support. When you interact with third-party agents, nothing touches our servers, and we don&#39;t have access to your code. As with all Zed features and services, we never store or train on your data without your explicit consent.</p>
<p>The protocol is open-source under the Apache license; any agent can implement it, potentially building on Gemini CLI&#39;s implementation as a starting point. The protocol is also open for other clients to adopt, and we really hope to see uptake from other editors. That&#39;s why we worked with Oli Morris of <a href="https://github.com/olimorris/codecompanion.nvim">Code Companion</a> to bring support for ACP-compatible agents to Neovim users.</p>
<p>We have also updated Zed’s own in-process agent to use the same code paths as third-party agents, ensuring that any UI primitives we develop for our own agent can also be made available to external agents. Cleanly separating UI from the core of our agent has already improved our shipping velocity, and we&#39;re excited for you to try the new experience. Check out <a href="https://github.com/zed-industries/zed">the source code</a>, or <a href="https://zed.dev/download">download Zed to try it yourself</a>.</p>
<h2 id="build-with-us"><a href="#build-with-us" aria-label="Copy heading link"><span><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg></span><span>Build with Us</span></a></h2>
<p>We believe the best tools come from openness. Just as the Language Server Protocol opened up IDEs to specialized tools, ACP creates space for an ecosystem of agents tailored to every developer&#39;s workflow. We appreciate Google’s open approach with Gemini CLI, which made this collaboration possible, and we&#39;re committed to the same. We intend to maintain enough control over the Agent Client Protocol to continue to push it forward quickly, while also evolving and versioning it carefully to encourage an ecosystem of agents and clients to develop.</p>
<p>We welcome contributions and feedback on ACP. We hope to see a lot more agents in Zed. We also hope to see other editors adopt the protocol. We&#39;re excited to see how our community experiments, innovates, and builds what&#39;s next in Zed.</p><hr/><div><h3 id="looking-for-a-better-editor">Looking for a better editor?</h3>
<p>You can try Zed today on macOS or Linux. <a href="https://zed.dev/download">Download now</a>!</p><hr/><h3 id="we-are-hiring">We are hiring!</h3>
<p>If you&#39;re passionate about the topics we cover on our blog, please consider <a href="https://zed.dev/jobs">joining our team</a> to help us ship the future of software development.</p></div></article></div>
  </body>
</html>
