<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.esri.com/arcgis-blog/products/arcgis-pro/aec/super-resolution-image-to-image-translation-using-deep-learning-in-arcgis-pro/">Original</a>
    <h1>Super Resolution: Image-to-Image Translation Using Deep Learning in ArcGIS Pro</h1>
    
    <div id="readability-page-1" class="page"><div>
		<p>In this blog, we are going to discuss the Image-to-Image Translation model architectures available in ArcGIS. As an example, we will provide you with detailed steps for  Super Resolution, which is one of the Image-to-Image translation model architectures. So, before we jump in to the Super Resolution workflow, let’s understand what is Image-to-Image Translation.</p>
<p>Image-to-Image translation is defined as the task of translating from one possible representation or style of the scene to another, given the amount of training data from two set of scenes. For example: black &amp; white to color images, aerial images to topographic style map images, and low resolution images to high resolution images.</p>
<p>There are many Image-to-Image translation techniques available in ArcGIS like PIX2PIX, CycleGAN but in this blog we will be talk about enhancing the resolution of images or Super Resolution.</p>
<p>Super Resolution is an image transformation technique with the help of which we can improve the quality of image and recover high resolution image from a given low resolution image as shown in Figure 1. It allows us to remove the compression artifacts and transform the blurred images to sharper images by modifying the pixels. Super Resolution is used in many fields like surveillance, medical industry, forensic and satellite imaging applications. Deep Learning has been fairly successful had solving a lot of these problems. In this blog we will explore how you can use ArcGIS and it Super Resolution Deep Learning capabilities to achieve these goals.</p>

<figure>
	        <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/how-superresolution-works-1.png" alt="Recovering high resolution image from low resolution" title="Recovering high resolution image from low resolution"/>
        </p>
        <figcaption>Figure 1: Recovering high resolution image from low resolution</figcaption>
		</figure>
<p>This model architecture uses deep learning to add texture and detail to low resolution satellite imagery and turn it into higher resolution imagery. The model training requires pairs of high and low resolution imagery of the same area. In order to train the model, we only require high resolution imagery. The Train Deep Learning tool will use the prepare_data function from arcgis.learn to degrade the high resolution imagery in order to simulate low resolution image for training the model. The downsample factor to generate labels for training. It takes high resolution images and uses methods such as bilinear interpolation to reduce the size and degrade the quality of the image. For example: Image of dimensions 256×256 is converted to 64×64 with downsample factor of 4. For more details on the Super Resolution model architecture, please see this <a href="https://developers.arcgis.com/python/guide/how-superresolution-works/" target="_blank" rel="noopener">web-documentation</a>.</p>
<p>As you know, any deep learning projects involves three steps:</p>
<ol>
<li>Data Preparation</li>
<li>Training Deep Learning Model</li>
<li>Inferencing</li>
</ol>

<h2>Data Preparation</h2>
<p>For data preparation, we just need a high resolution image. For this we will use the Export Training Data For Deep Learning tool available in ArcGIS Pro and ArcGIS Image Server. The input to the tool will be our high resolution image, for this example we used the following parameters:</p>


<figure>
	        <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/Export-Training-Data-For-Deep-Learning.png" alt="Export Training Data For Deep Learning Tool" title="Export Training Data For Deep Learning Tool"/>
        </p>
        <figcaption>Figure 2: Export Training Data For Deep Learning Tool</figcaption>
		</figure>
<p><strong>Training Deep Learning Model</strong></p>
<p>Now, that our data is ready, we will train our model using the Train Deep Learning Model tool available in ArcGIS Pro and ArcGIS Enterprise. The Input training data will be the data we exported out in the previous step. We will specify our output location and name for the model. Below screenshot of the tool shows parameters that we used. More specifically note that we used number of epochs = 25, Mode Type = Super Resolution, Batch size = 2 (you can use a bigger batch size if your machine has a powerful GPU). For Model Arguments,  we are going to use downsample_factor = 4. We will accept the default values for the remaining parameters and run the tool.</p>

<figure>
	        <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/Training-Deep-Learning-Model.png" alt="Training Deep Learning Model Tool" title="Training Deep Learning Model Tool"/>
        </p>
        <figcaption>Figure 3: Training Deep Learning Model Tool</figcaption>
		</figure>
<p>Once our model is trained we can review its quality by reviewing the model_metrics.html report that’s created with the report.</p>
<p><strong>Training and Validation loss</strong></p>
<p>On this plot we can see the training and the validation loss. We can see the model is doing well on both training and validation images.</p>

<figure>
	        <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/Training-and-Validation-loss.png" alt="Training and Validation loss" title="Training and Validation loss"/>
        </p>
        <figcaption>Figure 4: Training and Validation loss</figcaption>
		</figure>
<p><strong>Sample Results</strong></p>
<p>This displays the chips from the validation dataset with downsampled chips (left), predicted chips (middle) and ground truth (right). This visual analysis helps in assessing the qualitative results of the trained model.</p>

<figure>
	        <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/Sample-Results.png" alt="Sample Results" title="Sample Results"/>
        </p>
        <figcaption>Figure 5: Sample Results</figcaption>
		</figure>
<h2>Inferencing</h2>
<p>Now that we are satisfied with the model, we can transform our low resolution images to high resolution images. To do that, we will use the Classify Pixel for Deep Learning tool. We will input our low resolution image, make sure the parameters look good, and run the tool.</p>


<figure>
	        <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/Classify-Pixels-for-Deep-Learning-tool.png" alt="Classify Pixels for Deep Learning tool" title="Classify Pixels for Deep Learning tool"/>
        </p>
        <figcaption>Figure 6: Classify Pixels for Deep Learning tool</figcaption>
		</figure>
<h2>Result</h2>
<p>Below we are showing an example of our input and output.</p>


<figure>
	        <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2022/08/DeepLearning_Pro28_SR_GIF.gif" alt="" title=""/>
        </p>
        <figcaption>Figure 7: Result</figcaption>
		</figure>


<h3>Here are more examples of Image-to-Image Translation</h3>
<p><a href="https://www.esri.com/arcgis-blog/products/arcgis-pro/design-planning/colorizing-historic-black-and-white-aerial-imagery-using-deep-learning/">Colorizing Historic Black and White Aerial Imagery using Deep Learning</a></p>
<p><a href="https://www.esri.com/arcgis-blog/products/api-python/imagery/sar-to-rgb-translation-using-cyclegan/">SAR to RGB Translation using CycleGAN</a></p>


    <div>
        <h2>
	        About the authors        </h2>
		                <div aria-labelledby="n-article-author-254042">

				                    <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2021/07/pavan-e1627671794282-213x200.jpg" alt="" width="75" height="75"/></p>
                <p>
					Pavan Yadav is a product engineer with the ArcGIS Imagery team. He is passionate about Geospatial AI and Deep Learning, and applying them to solve GIS, Image Analysis, and Image processing problems.                </p>
				    <p><span>
			Connect:
		</span>
        <span>
			                <a href="https://www.linkedin.com/in/pavan-yadav-1846606/" target="_blank"></a>
                		</span>
    </p>

			            </div>
		                <div aria-labelledby="n-article-author-178852">

				                    <p><img src="https://www.esri.com/arcgis-blog/wp-content/uploads/2021/07/Sangeet-213x200.jpg" alt="" width="75" height="75"/></p><h3 id="n-article-author-178852">
					Sangeet Mathew                </h3>
                <p>
					Senior Product Engineer on the Imagery team at Esri, with a focus on AI &amp; Image Analysis.                </p>
				    <p><span>
			Connect:
		</span>
        <span>
			                <a href="https://www.linkedin.com/in/sangeet-mathew/" target="_blank"></a>
                		</span>
    </p>

			            </div>
		    </div>


</div></div>
  </body>
</html>
