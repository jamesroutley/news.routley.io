<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.righto.com/2022/04/the-digital-ranging-system-that.html">Original</a>
    <h1>The digital ranging system that measured the distance to the Apollo spacecraft</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-5760416618008403066" itemprop="description articleBody">


<p>During the Apollo missions to the Moon, a critical task for NASA was determining the spacecraft&#39;s position.
To accomplish this, they developed a digital ranging system that could determine the distance to the spacecraft, hundreds of thousands of kilometers away,
with an accuracy of about 1 meter.</p>
<p>The basic idea was to send a radio signal to the spacecraft and determine how long it takes to return.
Since the signal traveled at the speed of light, the time delay gives the distance.
The main problem is that due to the extreme distance to the spacecraft, a radar-like return pulse would be too weak.<span id="fnref:radar"><a href="#fn:radar">2</a></span>
The ranging system solved this in two ways.
First, a complex transponder on the spacecraft sent back an amplified signal.
Second, instead of sending a pulse, the system transmitted a long pseudorandom bit sequence.
By correlating this sequence over multiple seconds, a weak signal could be extracted from the noise.<span id="fnref:gps"><a href="#fn:gps">1</a></span></p>
<p>In this blog post I explain this surprisingly-complex ranging system.
Generating and correlating pseudorandom sequences was difficult with the transistor circuitry of the 1960s.
The ranging codes had to be integrated with Apollo&#39;s &#34;Unified S-Band&#34; communication system, which used high-frequency microwave signals.
Onboard the spacecraft, a special frequency-multiplying transponder supported Doppler speed measurements.
Finally, communicating with the spacecraft required a complex network of ground stations spanning the globe.</p>
<p><a href="https://static.righto.com/images/ranging/transponder.jpg"><img alt="The Apollo Service Module&#39;s transponder with the lid removed, showing the circuitry inside. The transponder returned the ranging signal to Earth, multiplying the frequency by exactly 240/221." height="367" src="https://static.righto.com/images/ranging/transponder-w600.jpg" title="The Apollo Service Module&#39;s transponder with the lid removed, showing the circuitry inside. The transponder returned the ranging signal to Earth, multiplying the frequency by exactly 240/221." width="600"/></a></p><p>The Apollo Service Module&#39;s transponder with the lid removed, showing the circuitry inside. The transponder returned the ranging signal to Earth, multiplying the frequency by exactly 240/221.</p>
<h2>The ranging system</h2>
<p>The ranging system measured how long a signal takes to travel to the spacecraft and back.<span id="fnref:history"><a href="#fn:history">3</a></span>
As shown below, the ranging system transmitted a pseudorandom bit sequence to the spacecraft.
The spacecraft&#39;s transponder returned the signal to the ground receiver.
The returned signal was correlated against the original signal to determine the time shift, and thus the distance.
Meanwhile, a Doppler measurement (described later) provided the speed of the spacecraft.<span id="fnref:doppler-adjustment"><a href="#fn:doppler-adjustment">4</a></span></p>
<p><a href="https://static.righto.com/images/ranging/ranging-block-diagram.jpg"><img alt="Block diagram of the Apollo ranging subsystem. Redrawn from A study of the JPL Mark I ranging subsystem" height="349" src="https://static.righto.com/images/ranging/ranging-block-diagram-w500.jpg" title="Block diagram of the Apollo ranging subsystem. Redrawn from A study of the JPL Mark I ranging subsystem" width="500"/></a></p>
<p>The key step was to correlate the transmitted and received signals to determine the time delay.
When the two signals were aligned with the proper delay,
the bits matched.
Because the sequence is pseudorandom, if the two signals were misaligned, the bits didn&#39;t match (except randomly).<span id="fnref:anticorrelation"><a href="#fn:anticorrelation">5</a></span>
Thus, by testing how many bits match (i.e. the correlation) for different delays, the proper delay could be determined.
Since the signals could be correlated over long time intervals (multiple seconds), the range could
be determined even if the signal was extremely weak and hidden by noise.</p>
<p>The code sequence needed to be very long in order to unambiguously determine the range;
the system uses a pseudorandom sequence that is 5,456,682 bits long.
Since the code is sent at 1 megahertz, it repeats every 5.46 seconds.
A radio signal can travel 800,000 kilometers and back in this time, while the 
Moon is about 384,000 kilometers away, so the system can unambiguously measure over twice the distance to the Moon.
Note that at one megahertz, one bit of the signal corresponds to 150 meters of range.
The system achieved more accuracy by comparing the phase of the signals.</p>
<p>Conceptually, the transmitted and received sequences were shifted until they match, and the amount of shift gave the delay, and thus the distance.
However, it&#39;s impractical to try 5 million different shifts to match the sequence, especially with the technology of the 1960s.
To solve the matching problem, the sequence was constructed from several shorter codes, from 2 to 127 bits long.
These &#34;sub-codes&#34; were short enough that they could be matched by brute force. The overall delay could then be determined by the delays of the sub-codes.
The system used four sub-codes—sub-code A had a length of 31 bits, B was 63 bits, C was 127 bits, and X was 11 bits—along with a two-valued clock CL.
Since these lengths are prime, the combined sequence has an overall length equal to the product: 5,456,682.
The important concept is that a very long code could be generated and matched using hardware, since the sub-codes were short.</p>
<p><a href="https://static.righto.com/images/ranging/30-foot.jpg"><img alt="A 30-foot antenna. From Apollo Unified S-Band Technical Conference." height="487" src="https://static.righto.com/images/ranging/30-foot-w400.jpg" title="A 30-foot antenna. From Apollo Unified S-Band Technical Conference." width="400"/></a></p>
<p>I made an
<a href="https://righto.com/apollo/ranging-xor.html">interactive page</a> that demonstrates how the sub-code sequences were created.
The sub-code sequences of lengths 31, 63, and 127 were generated with a well-known technique called the linear-feedback shift register (LFSR).
In this technique, a shift register of length N holds bits. In each step, a new bit is generated from the exclusive-or of two bits in the shift
register.
The new bit is shifted in, and an old bit is shifted out, providing a code bit.
This technique can generate a pseudorandom sequence of length 2<sup>N</sup>-1 with good statistical properties.
In order to generate a sub-code of length 11, the X codes were generated from a <a href="https://en.wikipedia.org/wiki/Legendre_symbol">Legendre sequence</a>.<span id="fnref:legendre"><a href="#fn:legendre">7</a></span></p>
<p><a href="https://static.righto.com/images/ranging/c-code.jpg"><img alt="The C sub-code is generated from a 7-bit delay line (black). The last two bits are fed into an XOR gate to produce a new bit (red). Part of the pseudorandom sequence is shown below the gate." height="135" src="https://static.righto.com/images/ranging/c-code-w326.jpg" title="The C sub-code is generated from a 7-bit delay line (black). The last two bits are fed into an XOR gate to produce a new bit (red). Part of the pseudorandom sequence is shown below the gate." width="326"/></a></p><p>The C sub-code is generated from a 7-bit delay line (black). The last two bits are fed into an XOR gate to produce a new bit (red). Part of the pseudorandom sequence is shown below the gate.</p>
<p>Combining the sub-codes to form the overall code isn&#39;t as straightforward as you might think, since each sub-code must be individually recognizable in the result.
The A, B, and C sub-codes were combined with the majority function <code>maj(A,B,C)</code>, which returns the most common bit out of the three inputs.<span id="fnref:majority"><a href="#fn:majority">6</a></span>
The complete formula for the bit sequence was
(<span>X</span>·maj(A,B,C))⊕CL.</p>
<h3>Construction of the ranging system</h3>
<p>The ranging process was implemented by the &#34;Mark I ranging subsystem&#34; below.
Although this was called a &#34;special-purpose binary digital computer&#34;, it&#39;s not really a computer in the modern sense, but more
of a state machine that moved through the necessary steps.
First, the ground station sent the code sequence to the spacecraft and synchronized to the received signal.
Next, the ranging system tested the different offsets for the X sub-code and found the offset with the best correlation.
It repeated the process for the A, B, and C sub-codes.
The digital circuitry performed some tricky modulo arithmetic<span id="fnref:remainder"><a href="#fn:remainder">8</a></span> to compute the range from the sub-code offsets.
Finally, the Doppler subsystem determined the spacecraft&#39;s speed and constantly added this to the range to keep the range up to date as the spacecraft
moved.
I&#39;ve made an <a href="https://righto.com/apollo/ranging.html">interactive page</a> that demonstrates these steps.</p>
<p><a href="https://static.righto.com/images/ranging/ranging-box.jpg"><img alt="The Mark I ranging subsystem. From Apollo Unified S-Band System." height="549" src="https://static.righto.com/images/ranging/ranging-box-w300.jpg" title="The Mark I ranging subsystem. From Apollo Unified S-Band System." width="300"/></a></p>
<!-- proceedings p99 -->

<p>The ranging system was built from &#34;T-Pac modules&#34;, boards that used transistors and other discrete components to build simple digital
components such as logic gates and flip flops.<span id="fnref:ddp-116"><a href="#fn:ddp-116">9</a></span>
The T-Pac modules were introduced by Computer Control Company in 1958 and were designed for quick and efficient implementation of a digital system, running
at 1 MHz.
Groups of 32 T-Pac cards were mounted in a &#34;T-BLOC&#34; rack-mounted chassis, and 10 T-BLOCs were installed in two racks.
The cards were connected by plugging wires and taper pins into a large grid.</p>
<p>One module was the T-Pac LE-10 &#34;logic element&#34; module, below, implementing four AND gates. It cost $98 in 1961 (about $700 in current dollars), showing how expensive
digital logic was at the time.
The ranging system used about 300 digital modules, so the digital circuitry for ranging would have cost hundreds of thousands of (current) dollars,
a cost repeated at each ground station.</p>
<p><a href="https://static.righto.com/images/ranging/tpac.jpg"><img alt="A T-Pac module. This is the LE-10 &#34;logic element&#34;." height="363" src="https://static.righto.com/images/ranging/tpac-w400.jpg" title="A T-Pac module. This is the LE-10 &#34;logic element&#34;." width="400"/></a></p><p>A T-Pac module. This is the LE-10 &#34;logic element&#34;.</p>
<p>Tasks that we nowadays consider trivial were difficult with the technology of the time.
For instance, the range was stored as a 31-bit binary value. But instead of a register, the value was stored in a <a href="https://en.wikipedia.org/wiki/Delay-line_memory#Magnetostrictive_delay_lines">magnetorestrictive delay line</a>, as torsion pulses in a long nickel wire.
To add a value to the range, the circuitry used a single-bit serial adder, adding bits one at a time as they exited the nickel wire, and then cycling the
bits back into the wire.</p>
<p>One interesting circuit is the correlation level detector that tests for correlation between a particular sub-code and the received signal.
The correlation started as an analog voltage, which was converted to a digital value by a &#34;<a href="https://archive.org/details/TNM_Voldicon_voltage_digitizers_-_Adage_20180309_0636">Voldicon</a>.
The correlation was integrated over time by summing the binary values using another 31-bit storage/adder circuit.
The number of summed samples could range from 1 to 2<sup>19</sup> samples, user-settable through &#34;Digiswitch&#34; thumbwheel switches.
By integrating the correlation over a long time interval, an extremely weak signal could be detected in the presence of noise.
The system kept track of the best offset, storing the value in another delay line.
The total ranging time varied from 1.6 seconds for a strong signal to 30 seconds at lunar distance.</p>
<h3>Determining the speed with Doppler</h3>
<p>The ranging system could also measure the spacecraft&#39;s speed by measuring the Doppler shift of the returned signal.
If the spacecraft was moving away from Earth, the waves would be stretched out, lowering the frequency.
Conversely, the frequency would increase if the spacecraft was moving towards Earth.<span id="fnref:perpendicular"><a href="#fn:perpendicular">10</a></span>
By measuring the frequency shift, the spacecraft&#39;s speed could be accurately determined.<span id="fnref:doppler-delay"><a href="#fn:doppler-delay">12</a></span></p>
<p><a href="https://static.righto.com/images/ranging/doppler.png"><img alt="A moving source causes the wavelength to be decreased if the source is moving closer or increased if the source is moving away. Diagram by Tkarcher." height="98" src="https://static.righto.com/images/ranging/doppler-w350.png" title="A moving source causes the wavelength to be decreased if the source is moving closer or increased if the source is moving away. Diagram by Tkarcher." width="350"/></a></p><p>A moving source causes the wavelength to be decreased if the source is moving closer or increased if the source is moving away. Diagram by <a href="https://en.wikipedia.org/wiki/Pulse-Doppler_radar#/media/File:Doppler_effect_diagrammatic.png">Tkarcher</a>.</p>
<p>The Doppler measurement impacted the radio system&#39;s design in two ways.
First, the spacecraft couldn&#39;t simply receive and retransmit the signal, because the Doppler shift from the upwards journey would be lost.
Instead, a complex frequency-multiplying transponder system was used, so the downlink signal&#39;s frequency was exactly 240/221 times the received uplink frequency.<span id="fnref:ratio"><a href="#fn:ratio">11</a></span>
Second, the spacecraft used phase modulation (PM) instead of the common frequency modulation (FM) for most communication:
since frequency modulation changes the signal&#39;s frequency, it would have interfered with the Doppler measurements.</p>
<h2>The Apollo radio system</h2>
<p>Apollo used a complex radio system called the Unified S-Band System that included voice, telemetry, scientific data, television, and the ranging data.
These signals were combined and transmitted over a single carrier frequency in the S-band frequency range.
The diagrams below show how the spectrum was allocated for the signal up to the spacecraft (transmitted at 2.10640625 GHz), and the down-link spectrum
at 2.2875 GHz.
These two frequencies are in the exact ratio of 240/221, which turns out to be important.
Notice that the voice and data are on fairly narrow subcarriers, while the pseudorandom ranging data has a lower, but very
wide spectrum. (The ranging signal looks a lot like white noise due to its randomness.)
The wide spectrum makes the ranging signal easier to detect at low levels with noise.
Even though the ranging spectrum overlaps with the voice and data subcarriers, they don&#39;t interfere too much because the ranging spectrum is spread out.</p>
<p><a href="https://static.righto.com/images/ranging/spectrum.png"><img alt="The spectrum used by the Apollo radio system." height="484" src="https://static.righto.com/images/ranging/spectrum-w600.png" title="The spectrum used by the Apollo radio system." width="600"/></a></p><p>The spectrum used by the Apollo radio system.</p>
<h3>The transponder</h3>
<p>The S-band transponder onboard the spacecraft had a critical role in both ranging and for communications in general.
From the outside, the transponder (built by Motorola) is a plain blue-gray box, weighing about 32 pounds.
The connectors at the right linked the transponder to other parts of the radio system.
Internally, the transponder was crammed full of radio circuitry: phase modulators for voice data, a detector for received uplink data, and an FM transmitter for
video.<span id="fnref:transponder-block-diagram"><a href="#fn:transponder-block-diagram">14</a></span></p>
<p><a href="https://static.righto.com/images/ranging/transponder-box.jpg"><img alt="The S-band transponder." height="246" src="https://static.righto.com/images/ranging/transponder-box-w500.jpg" title="The S-band transponder." width="500"/></a></p><p>The S-band transponder.</p>
<p>The block diagram below shows the role of the transponder (red) in the communications system.
Once the spacecraft was outside of VHF range (about 1500 miles), all communication used the S-band and went through the transponder.
The transponder was connected to a <a href="https://www.righto.com/2021/07/inside-20-watt-traveling-wave-tube.html">traveling-wave tube amplifier</a> and then
the spacecraft&#39;s antennas.</p>
<p><a href="https://static.righto.com/images/ranging/communications-diagram.jpg"><img alt="Diagram of the communications system used in Apollo. The transponder is highlighted in red. Click this (or any image) for a larger version.
From &#34;Apollo Logistics Training&#34;, courtesy of Spaceaholic." height="372" src="https://static.righto.com/images/ranging/communications-diagram-w600.jpg" title="Diagram of the communications system used in Apollo. The transponder is highlighted in red. Click this (or any image) for a larger version.
From &#34;Apollo Logistics Training&#34;, courtesy of Spaceaholic." width="600"/></a></p><p>Diagram of the communications system used in Apollo. The transponder is highlighted in red. Click this (or any image) for a larger version.
From &#34;Apollo Logistics Training&#34;, courtesy of <a href="http://spaceaholic.com/">Spaceaholic</a>.</p>
<p>The photo below shows a closeup of the circuitry inside the transponder. The transponder is constructed of multiple modules, connected by tiny coaxial cables.
The frequency multiplier, mixer, IF amplifier, and wide band detector modules are visible.
Most of the modules are duplicated on the other side of the transponder to provide redundancy, since a failure of the transponder would jeopardize the mission. </p>
<p><a href="https://static.righto.com/images/ranging/transponder-closeup.jpg"><img alt="Closeup of the transponder." height="283" src="https://static.righto.com/images/ranging/transponder-closeup-w500.jpg" title="Closeup of the transponder." width="500"/></a></p><p>Closeup of the transponder.</p>
<p>The most complex part of the transponder is how it received the ranging data from Earth and echos it back.
To avoid interference, the retransmitted data is at a different frequency from the received data.
But in order to preserve the Doppler shift information, the transmitted frequency had to vary with the received frequency, so it couldn&#39;t be fixed.
Instead, the transponder multiplied the received frequency by exactly 240/221 to generate the retransmission frequency,
using a complex phase-locked loop circuit.</p>
<p>A phase-locked loop is a widely-used circuit that allows an oscillator to be locked to another frequency source, even in the presence of noise.
It uses a voltage-controlled oscillator whose output is compared to the input.
If the output is falling behind, the oscillator is sped up. If the input is falling behind, the oscillator is slowed down.
Eventually, the oscillator will lock onto the input signal and will track it.
The transponder uses a more complex circuit, so the output frequency tracks a multiple of the input frequency, specifically the output
frequency is 240/221× the input (uplink) frequency.<span id="fnref:multiplication"><a href="#fn:multiplication">15</a></span></p>
<p>The transponder was one of many electronics boxes crammed into the Command Module. The diagram below shows its position in
the equipment racks.</p>
<p><a href="https://static.righto.com/images/ranging/capsule.png"><img alt="This diagram of the Apollo Command Module shows the position of the S-band transponder, along with the traveling-wave-tube amplifier and the Apollo Guidance Computer." height="453" src="https://static.righto.com/images/ranging/capsule-w600.png" title="This diagram of the Apollo Command Module shows the position of the S-band transponder, along with the traveling-wave-tube amplifier and the Apollo Guidance Computer." width="600"/></a></p><p>This diagram of the Apollo Command Module shows the position of the S-band transponder, along with the traveling-wave-tube amplifier and the Apollo Guidance Computer.</p>
<p>The console of the Command Module (below) was extremely complicated, with many controls and switches.
The astronauts used the highlighted switches to control the transponder and to turn ranging on and off.</p>
<p><a href="https://static.righto.com/images/ranging/csm-console.jpg"><img alt="Astronauts controlled ranging through a switch on the console. Diagram from Command/Service Module Systems Handbook p208." height="334" src="https://static.righto.com/images/ranging/csm-console-w600.jpg" title="Astronauts controlled ranging through a switch on the console. Diagram from Command/Service Module Systems Handbook p208." width="600"/></a></p>
<h3>Ground stations</h3>
<p>Communication with Apollo required powerful ground stations with large antennas.<span id="fnref:ground"><a href="#fn:ground">17</a></span>
These stations needed to be situated around the world to maintain constant communication with Apollo as the Earth rotated.
The three main stations had 85-foot (26-meter) parabolic antennas and were located in Goldstone, California; Canberra, Australia; and Madrid, Spain, part of the
Manned Space Flight Network (MSFN).
Other stations had smaller 30-foot antennas.
Coverage gaps were filled by special ships with 30-foot antennas as well as special Apollo Range Instrumentation Aircraft (<a href="https://afspacemuseum.org/facilities/advanced-range-instrumentation-aircraft-aria/">ARIA</a>), based on C-135 cargo aircraft.</p>
<!--
In the late 1950s, NASA started constructing a system of radio stations called the Deep Space Instrumentation Facility (DSIF), run by JPL.
The first 85-foot antenna was constructed at Goldstone Station in California in 1958.
[JPL Research Summary 36-1](https://www.google.com/books/edition/Research_Summary/bXIjAQAAMAAJ?hl=en&gbpv=0), 1960
Lots of details in this document.
Correlation ranging system discussed on p52
-->

<p><a href="https://static.righto.com/images/ranging/honeysuckle-antenna.jpg"><img alt="NASA&#39;s 26-meter antenna at Honeysuckle Creek, Australia. Photo from NASA." height="385" src="https://static.righto.com/images/ranging/honeysuckle-antenna-w500.jpg" title="NASA&#39;s 26-meter antenna at Honeysuckle Creek, Australia. Photo from NASA." width="500"/></a></p><p>NASA&#39;s 26-meter antenna at Honeysuckle Creek, Australia. Photo from <a href="https://www.nasa.gov/directorates/heo/scan/images/history/February1985.html">NASA</a>.</p>
<p>The block diagram below gives a hint of the complexity of a ground station, with signal processing equipment as well as computers<span id="fnref:computers"><a href="#fn:computers">16</a></span> and networking
to Mission Control and other sites.
The &#34;Ranging Circuitry&#34; block has the most relevance to this discussion,
but I&#39;d also like to point out the &#34;angle channel receivers&#34;.
The antennas were servo-positioned to lock onto the spacecraft&#39;s signal.
This provided an angle measurement of the spacecraft&#39;s position, which was combined with the range to yield the spacecraft&#39;s 3-D position in space.</p>
<p><a href="https://static.righto.com/images/ranging/ground-station-block-diagram.jpg"><img alt="Block diagram of a Unified S-Band ground station. From Apollo Unified S-Band System." height="402" src="https://static.righto.com/images/ranging/ground-station-block-diagram-w600.jpg" title="Block diagram of a Unified S-Band ground station. From Apollo Unified S-Band System." width="600"/></a></p>
<p>The photo below shows the ground station&#39;s transmitter/receiver cabinets that handled the unified S-Band signals.
These cabinets were the connection between the microwave equipment (amplifiers and antennas) and the radio-frequency subsystems for voice, data, instrumentation, ranging,
and so forth.
The photo zooms in on the ranging receiver control panel.
This ranging circuitry performed the analog tasks: it demodulated the received ranging signal, tracked the frequency, extracted the clock and the Doppler signal, and measured the correlation.
These signals were provided to the digital ranging subsystem described earlier.</p>
<p><a href="https://static.righto.com/images/ranging/receiver-subsystem.jpg"><img alt="The receiver-exciter subsystem of the ground station, with a closeup of the ranging receiver. From Apollo Unified S-Band System." height="683" src="https://static.righto.com/images/ranging/receiver-subsystem-w600.jpg" title="The receiver-exciter subsystem of the ground station, with a closeup of the ranging receiver. From Apollo Unified S-Band System." width="600"/></a></p><p>The receiver-exciter subsystem of the ground station, with a closeup of the ranging receiver. From <a href="https://ntrs.nasa.gov/citations/19660018739">Apollo Unified S-Band System</a>.</p>
<!-- proceedings p70 -->

<!--
Communication between the ground station and the spacecraft is difficult because of the frequency multiplication setup.
First, the spacecraft must lock to the frequency it receives from the ground.
The spacecraft starts transmitting on the locked frequency, scaled by 240/221.
Finally, the ground station locks to the spacecraft's frequency.
At this point, communication can take place as well as Doppler measurements.
-->

<h2>Conclusion</h2>
<p>The ranging system provided the distance to the spacecraft, the Doppler provided the spacecraft&#39;s (radial) velocity, and the
position of the receiving antenna provided the spacecraft&#39;s angular position.
The system provides a great deal of accuracy for distance and speed: 1.5-meter range resolution and 0.1 meter/sec speed resolution.
Because the angular measurement depended on the physical positioning of the antenna, angular resolution was much worse: 0.025°, which corresponds to over 150 kilometers at the distance of the Moon.</p>
<!-- accuracy from TM-X55492 p20 -->

<p>The ranging system illustrates the complexity of Apollo.
Even though ranging was a small part of Apollo&#39;s navigation, it required complex racks of hardware distributed to sites around the world, specialized algorithms,
and an advanced transponder onboard the spacecraft. 
Almost every part of Apollo has this sort of fractal complexity, where a seemingly-simple requirement such as finding the distance to the spacecraft
required numerous innovations.
The S-band communication system alone required a 1965 conference with 317 pages of <a href="https://www.hq.nasa.gov/alsj/NASA-SP-87.pdf">proceedings</a>.</p>
<!--
Ranging also shows the multiple levels of redundancy that Apollo used for safety.
Multiple ground stations provided redundancy on the ground, while the spacecraft had multiple antennas, amplifiers, and redundant circuits for communication.
Moreover, the Apollo Guidance Computer provided independent ranging data from inertial navigation and star positions.
-->

<p>The ranging system is hard to understand from a text description, so I&#39;ve made two interactive pages that demonstrate it.
The <a href="https://righto.com/apollo/ranging-xor.html">first page</a> shows how linear-feedback shift registers (LFSR) and XOR gates generate the subcodes,
and how the subcodes create the transmitted signal.
The <a href="https://righto.com/apollo/ranging.html">second page</a> shows how the correlations are determined for the various subcodes and how the
range is computed from these values.</p>
<p>I&#39;ve implemented the <a href="https://github.com/shirriff/apollo-ranging">ranging codes on a Teensy</a>, so the next step is to transmit the codes through an actual Apollo transponder.
I announce my latest blog posts on Twitter, so follow me <a href="https://twitter.com/kenshirriff">@kenshirriff</a> for updates. I also have an <a href="https://www.righto.com/feeds/posts/default">RSS feed</a>.
Thanks to <a href="https://twitter.com/FutureJurvetson">Steve Jurvetson</a> for providing the S-band transponder and the traveling-wave tube amplifier.
Thanks to Mike Stewart for extensive information on the Apollo hardware and <a href="https://www.youtube.com/channel/UC3bosUr3WlKYm4sBaLs-Adw">CuriousMarc</a>
for driving the transponder restoration.</p>
<h2>Notes and references</h2>


</div></div>
  </body>
</html>
