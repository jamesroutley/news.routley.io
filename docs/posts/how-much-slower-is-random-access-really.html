<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://samestep.com/blog/random-access/">Original</a>
    <h1>How much slower is random access, really?</h1>
    
    <div id="readability-page-1" class="page"><div>
        <p>
          You may know that, because your computer has different caches (L1, L2,
          L3...), and memory operations operate on cache lines of about 64 bytes
          each, you should write programs that exhibit
          <a href="https://en.wikipedia.org/wiki/Locality_of_reference">locality</a>
          to get maximum performance.
        </p>
        <p>
          <svg viewBox="0 0 300 400" height="400">
            <defs>
              <linearGradient id="ramFill" x1="0" x2="0" y1="0" y2="1">
                <stop offset="0%" stop-color="hsl(0 50% 50%)"></stop>
                <stop offset="100%" stop-color="hsl(0 50% 50% / 0%)"></stop>
              </linearGradient>
              <linearGradient id="ramStroke" x1="0" x2="0" y1="0" y2="1">
                <stop offset="0%" stop-color="#666"></stop>
                <stop offset="100%" stop-color="#6660"></stop>
              </linearGradient>
            </defs>
            <text x="25" y="12" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
              L1
            </text>
            <line x1="4" y1="16" x2="46" y2="16" stroke="#666" stroke-width="3"></line>
            <text x="75" y="12" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
              L1
            </text>
            <line x1="54" y1="16" x2="96" y2="16" stroke="#666" stroke-width="3"></line>
            <text x="125" y="12" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
              L1
            </text>
            <line x1="104" y1="16" x2="146" y2="16" stroke="#666" stroke-width="3"></line>
            <text x="175" y="12" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
              L1
            </text>
            <line x1="154" y1="16" x2="196" y2="16" stroke="#666" stroke-width="3"></line>
            <text x="225" y="12" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
              L1
            </text>
            <line x1="204" y1="16" x2="246" y2="16" stroke="#666" stroke-width="3"></line>
            <text x="275" y="12" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
              L1
            </text>
            <line x1="254" y1="16" x2="296" y2="16" stroke="#666" stroke-width="3"></line>
            <rect x="4" y="24" width="42" height="16" fill="hsl(111 50% 50%)" stroke="#666" stroke-width="2"></rect>
            <text x="25" y="32" fill="white" text-anchor="middle" dominant-baseline="central">
              L2
            </text>
            <rect x="54" y="24" width="42" height="16" fill="hsl(111 50% 50%)" stroke="#666" stroke-width="2"></rect>
            <text x="75" y="32" fill="white" text-anchor="middle" dominant-baseline="central">
              L2
            </text>
            <rect x="104" y="24" width="42" height="16" fill="hsl(111 50% 50%)" stroke="#666" stroke-width="2"></rect>
            <text x="125" y="32" fill="white" text-anchor="middle" dominant-baseline="central">
              L2
            </text>
            <rect x="154" y="24" width="42" height="16" fill="hsl(111 50% 50%)" stroke="#666" stroke-width="2"></rect>
            <text x="175" y="32" fill="white" text-anchor="middle" dominant-baseline="central">
              L2
            </text>
            <rect x="204" y="24" width="42" height="16" fill="hsl(111 50% 50%)" stroke="#666" stroke-width="2"></rect>
            <text x="225" y="32" fill="white" text-anchor="middle" dominant-baseline="central">
              L2
            </text>
            <rect x="254" y="24" width="42" height="16" fill="hsl(111 50% 50%)" stroke="#666" stroke-width="2"></rect>
            <text x="275" y="32" fill="white" text-anchor="middle" dominant-baseline="central">
              L2
            </text>
            <rect x="4" y="48" width="292" height="248" fill="hsl(222 50% 50%)" stroke="#666" stroke-width="2"></rect>
            <text x="150" y="172" fill="white" text-anchor="middle" dominant-baseline="central">
              L3
            </text>
            <polyline points="296,396 296,304 4,304 4,396" fill="url(#ramFill)" stroke="url(#ramStroke)" stroke-width="2"></polyline>
            <text x="150" y="350" fill="white" text-anchor="middle" dominant-baseline="central">
              RAM
            </text>
          </svg>
        </p>
        <p>(Disk not shown, of course.)</p>
        <p>
          But <strong>how well</strong> do you understand this idea? For
          instance, let&#39;s say you have an array of floating-point numbers, and
          an array of all the indices of the first array. You have a program
          that adds up the numbers from the first array in the order given by
          the second array. So, for this example, we&#39;d add
          <code>ε + α + δ + ζ + β + γ</code> in that order:
        </p>
        <p>
          <svg viewBox="0 0 300 150" height="150">
            <rect x="5" y="5" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="25" y="25" fill="white" text-anchor="middle" dominant-baseline="central">
              4
            </text>
            <path d="M 25 50 C 25 75, 225 75, 225 100" fill="none" stroke="white" stroke-width="2"></path>
            <rect x="55" y="5" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="75" y="25" fill="white" text-anchor="middle" dominant-baseline="central">
              0
            </text>
            <path d="M 75 50 C 75 75, 25 75, 25 100" fill="none" stroke="white" stroke-width="2"></path>
            <rect x="105" y="5" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="125" y="25" fill="white" text-anchor="middle" dominant-baseline="central">
              3
            </text>
            <path d="M 125 50 C 125 75, 175 75, 175 100" fill="none" stroke="white" stroke-width="2"></path>
            <rect x="155" y="5" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="175" y="25" fill="white" text-anchor="middle" dominant-baseline="central">
              5
            </text>
            <path d="M 175 50 C 175 75, 275 75, 275 100" fill="none" stroke="white" stroke-width="2"></path>
            <rect x="205" y="5" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="225" y="25" fill="white" text-anchor="middle" dominant-baseline="central">
              1
            </text>
            <path d="M 225 50 C 225 75, 75 75, 75 100" fill="none" stroke="white" stroke-width="2"></path>
            <rect x="255" y="5" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="275" y="25" fill="white" text-anchor="middle" dominant-baseline="central">
              2
            </text>
            <path d="M 275 50 C 275 75, 125 75, 125 100" fill="none" stroke="white" stroke-width="2"></path>
            <rect x="5" y="105" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="25" y="125" fill="white" text-anchor="middle" dominant-baseline="central">
              α
            </text>
            <rect x="55" y="105" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="75" y="125" fill="white" text-anchor="middle" dominant-baseline="central">
              β
            </text>
            <rect x="105" y="105" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="125" y="125" fill="white" text-anchor="middle" dominant-baseline="central">
              γ
            </text>
            <rect x="155" y="105" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="175" y="125" fill="white" text-anchor="middle" dominant-baseline="central">
              δ
            </text>
            <rect x="205" y="105" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="225" y="125" fill="white" text-anchor="middle" dominant-baseline="central">
              ε
            </text>
            <rect x="255" y="105" width="40" height="40" fill="none" stroke="white" stroke-width="2"></rect>
            <text x="275" y="125" fill="white" text-anchor="middle" dominant-baseline="central">
              ζ
            </text>
          </svg>
        </p>
        <p>
          Let&#39;s just consider the two cases where the indices are in
          <strong>first-to-last order</strong> or in
          <strong>random order</strong>. Before I wrote this post, I couldn&#39;t
          answer any of the following questions:
        </p>
        <ol>
          <li>
            How big of an array do you need before you see a difference in
            performance between the two orderings?
          </li>
          <li>
            How much time does the first-to-last ordering take per element, on
            average?
          </li>
          <li>
            How much slower is random order than first-to-last order for arrays
            that fit in RAM?
          </li>
          <li>
            How much slower is random order than first-to-last order for arrays
            that don&#39;t fit in RAM?
          </li>
          <li>
            To construct these shuffled index arrays for the random ordering, is
            standard Fisher-Yates sufficient?
          </li>
          <li>
            How much slower is first-to-last order for arrays that don&#39;t fit in
            RAM, when using memory-mapped files?
          </li>
          <li>Are memory-mapped files as fast as you can get?</li>
        </ol>
        <p>
          If you already know the answers to all these questions, sweet!
          Otherwise, make your guesses and check them when you reach the bottom
          of this post :)
        </p>
        <h2>Setup</h2>
        <p>
          All the code to reproduce the measurements in this blog post can be
          found in a
          <a href="https://github.com/samestep/random-access/tree/5db7cd58bd07f511a92de62adb65178dac3e659b">supplementary GitHub repository</a>.
        </p>
        <p>
          Because the indices are just stored in an array, they should use the
          <em>exact same machine code</em> for both first-to-last order and
          random order, we&#39;ve chosen the precisions for our floating-point and
          integer data types. That means the performance should be entirely
          determined by <em>dynamic</em> behavior in the CPU based on the data
          we&#39;re using, along with other dynamic behavior by the operating system
          like memory paging and swap space.
        </p>
        <details>
          <summary>Expand this to see some Rust code.</summary>
          <pre><code><span>use</span> std::ops::{AddAssign, Index};

<span>use</span> num::{Float, Num, traits::ToBytes};

<span>trait</span> <span>Number</span>: <span>Sized</span> + <span>Copy</span> + <span>Into</span>&lt;<span>f64</span>&gt; + AddAssign + Num + Float + ToBytes {}

<span>impl</span> <span>Number</span> <span>for</span> <span>f32</span> {}

<span>impl</span> <span>Number</span> <span>for</span> <span>f64</span> {}

<span>fn</span> <span>sum</span>&lt;T: Number, I: <span>Copy</span>&gt;(floats: &amp;[T], indices: &amp;[I]) <span>-&gt;</span> T
<span>where</span>
    [T]: Index&lt;I, Output = T&gt;,
{
    <span>let</span> <span>mut </span><span>total</span> = T::<span>zero</span>();
    <span>for</span> &amp;i <span>in</span> indices {
        total += floats[i];
    }
    total
}

<span>#[test]</span>
<span>fn</span> <span>test_sum_f64_usize_not_associative</span>() {
    <span>let</span> <span>floats</span>: &amp;[<span>f64</span>] = &amp;[<span>0.1</span>, <span>0.2</span>, <span>0.3</span>];
    <span>let</span> <span>forward</span>: &amp;[<span>usize</span>] = &amp;[<span>0</span>, <span>1</span>, <span>2</span>];
    <span>let</span> <span>backward</span>: &amp;[<span>usize</span>] = &amp;[<span>2</span>, <span>1</span>, <span>0</span>];
    <span>assert_eq!</span>(<span>sum</span>(floats, forward), <span>0.6000000000000001</span>);
    <span>assert_eq!</span>(<span>sum</span>(floats, backward), <span>0.6</span>);
}
</code></pre>
        </details>
        <p>
          Now we need to generate some random data. For the floating-point
          numbers we can just use a
          <a href="https://en.wikipedia.org/wiki/Normal_distribution">normal distribution</a>, and for the integer indices we can just take the list of integers
          up to the length of our array, and shuffle it to get a random
          permutation via
          <a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle">Fisher-Yates</a>, a standard algorithm that shuffles the data in a single pass.
        </p>
        <p>
          Or rather, that&#39;s what I thought at first. Small spoiler: further down
          we&#39;re going to do some experiments with arrays too big to fit in
          memory, and for those, Fisher-Yates turned out to be way too slow. So
          instead I implemented a
          <a href="https://blog.janestreet.com/how-to-shuffle-a-big-dataset/">two-pass shuffle</a>
          which first partitions the array into chunks that are about a gigabyte
          each.
        </p>
        <details>
          <summary>Code to generate our random data.</summary>
          <pre><code><span>use</span> std::{
    fmt, fs,
    io::{<span>self</span>, Read, Seek, Write},
};

<span>use</span> rand::Rng;
<span>use</span> rand_distr::{Distribution, Normal, StandardNormal};
<span>use</span> tempfile::tempfile;

<span>trait</span> <span>Int</span>: TryFrom&lt;<span>usize</span>, Error: fmt::<span>Debug</span>&gt; + ToBytes {}

<span>impl</span> <span>Int</span> <span>for</span> <span>u32</span> {}

<span>impl</span> <span>Int</span> <span>for</span> <span>u64</span> {}

<span>trait</span> <span>Progress</span> {
    <span>fn</span> <span>new</span>(len: <span>usize</span>) <span>-&gt;</span> <span>Self</span>;

    <span>fn</span> <span>step</span>(&amp;<span>mut</span> <span>self</span>);
}

<span>fn</span> <span>random_floats</span>&lt;T: Number, P: Progress&gt;(rng: &amp;<span>mut</span> <span>impl</span> <span>Rng</span>, <span>mut</span> writer: <span>impl</span> <span>Write</span>, n: <span>usize</span>)
<span>where</span>
    StandardNormal: Distribution&lt;T&gt;,
{
    <span>let</span> <span>mut </span><span>progress</span> = P::<span>new</span>(n);
    <span>let</span> <span>normal</span> = Normal::&lt;T&gt;::<span>new</span>(T::<span>zero</span>(), T::<span>one</span>()).<span>unwrap</span>();
    <span>for</span> <span>_</span> <span>in</span> <span>0</span>..n {
        <span>let</span> <span>x</span> = normal.<span>sample</span>(rng);
        writer.<span>write_all</span>(x.<span>to_ne_bytes</span>().<span>as_ref</span>()).<span>unwrap</span>();
        progress.<span>step</span>();
    }
}

<span>fn</span> <span>first_to_last</span>&lt;I: Int, P: Progress&gt;(<span>mut</span> writer: <span>impl</span> <span>Write</span>, n: <span>usize</span>) {
    <span>let</span> <span>mut </span><span>progress</span> = P::<span>new</span>(n);
    <span>for</span> <span>i</span> <span>in</span> <span>0</span>..n {
        writer
            .<span>write_all</span>(I::<span>try_from</span>(i).<span>unwrap</span>().<span>to_ne_bytes</span>().<span>as_ref</span>())
            .<span>unwrap</span>();
        progress.<span>step</span>();
    }
}

<span>fn</span> <span>permutation</span>&lt;I: Int, P: Progress&gt;(rng: &amp;<span>mut</span> <span>impl</span> <span>Rng</span>, <span>mut</span> writer: <span>impl</span> <span>Write</span>, n: <span>usize</span>) {
    <span>let</span> <span>m</span> = (n * size_of::&lt;I&gt;()).<span>div_ceil</span>(<span>1</span> &lt;&lt; <span>30</span>);
    <span>let</span> <span>mut </span><span>progress</span> = P::<span>new</span>(<span>2</span> * n);
    <span>let</span> <span>mut </span><span>files</span>: <span>Vec</span>&lt;fs::File&gt; = (<span>0</span>..m).<span>map</span>(|_| <span>tempfile</span>().<span>unwrap</span>()).<span>collect</span>();
    {
        <span>let</span> <span>mut </span><span>writers</span>: <span>Vec</span>&lt;io::BufWriter&lt;_&gt;&gt; = files.<span>iter_mut</span>().<span>map</span>(io::BufWriter::new).<span>collect</span>();
        <span>for</span> <span>i</span> <span>in</span> <span>0</span>..n {
            <span>let</span> <span>j</span> = rng.<span>random_range</span>(<span>0</span>..m);
            writers[j]
                .<span>write_all</span>(I::<span>try_from</span>(i).<span>unwrap</span>().<span>to_ne_bytes</span>().<span>as_ref</span>())
                .<span>unwrap</span>();
            progress.<span>step</span>();
        }
    }
    <span>for</span> <span>mut</span> file <span>in</span> files {
        <span>let</span> <span>mut </span><span>bytes</span> = <span>Vec</span>::<span>new</span>();
        file.<span>seek</span>(io::SeekFrom::<span>Start</span>(<span>0</span>)).<span>unwrap</span>();
        file.<span>read_to_end</span>(&amp;<span>mut</span> bytes).<span>unwrap</span>();
        <span>let</span> (prefix, values, suffix) = <span>unsafe</span> { bytes.align_to_mut::&lt;I&gt;() };
        <span>assert!</span>(prefix.<span>is_empty</span>());
        <span>assert!</span>(suffix.<span>is_empty</span>());
        <span>for</span> <span>i</span> <span>in</span> <span>0</span>..values.<span>len</span>() {
            <span>let</span> <span>j</span> = rng.<span>random_range</span>(..=i);
            values.<span>swap</span>(i, j);
            progress.<span>step</span>();
        }
        writer.<span>write_all</span>(&amp;bytes).<span>unwrap</span>();
    }
}
</code></pre>
        </details>
        <p>
          Next we just need to use this to make a bunch of files with data of
          different sizes. We&#39;ll just do all the powers of two up whatever fits
          comfortably on our SSD.
        </p>
        <details>
          <summary>Code for bulk data generation into files.</summary>
          <pre><code><span>use</span> std::{ops::RangeInclusive, path::Path};

<span>use</span> indicatif::ProgressBar;
<span>use</span> rand::SeedableRng;

<span>impl</span> <span>Progress</span> <span>for</span> <span>ProgressBar</span> {
    <span>fn</span> <span>new</span>(len: <span>usize</span>) <span>-&gt;</span> <span>Self</span> {
        <span>let</span> <span>bar</span> = ProgressBar::<span>new</span>(len <span>as</span> <span>u64</span>);
        bar.<span>set_position</span>(<span>0</span>);
        bar
    }

    <span>fn</span> <span>step</span>(&amp;<span>mut</span> <span>self</span>) {
        <span>self</span>.<span>inc</span>(<span>1</span>);
    }
}

<span>fn</span> <span>make_rng</span>(seed: <span>u64</span>) <span>-&gt;</span> <span>impl</span> <span>Rng</span> {
    rand_pcg::Pcg64Mcg::<span>seed_from_u64</span>(seed)
}

<span>fn</span> <span>generate_file</span>(dir_name: &amp;<span>str</span>, file_name: &amp;<span>str</span>, f: <span>impl</span> <span>FnOnce</span>(io::BufWriter&lt;fs::File&gt;)) {
    <span>let</span> <span>dir</span> = Path::<span>new</span>(dir_name);
    <span>let</span> <span>path</span> = dir.<span>join</span>(file_name);
    <span>println!</span>(<span>&#34;generating {}&#34;</span>, path.<span>display</span>());
    fs::<span>create_dir_all</span>(dir).<span>unwrap</span>();
    <span>f</span>(io::BufWriter::<span>new</span>(fs::File::<span>create</span>(path).<span>unwrap</span>()));
}

<span>struct</span> <span>Options</span> {
    <span>f32</span>: <span>bool</span>,
    <span>f64</span>: <span>bool</span>,
    <span>u32</span>: <span>bool</span>,
    <span>u64</span>: <span>bool</span>,
}

<span>const</span> FLOAT32: &amp;<span>str</span> = <span>&#34;float32&#34;</span>;
<span>const</span> FLOAT64: &amp;<span>str</span> = <span>&#34;float64&#34;</span>;
<span>const</span> UNSHUFFLED32: &amp;<span>str</span> = <span>&#34;unshuffled32&#34;</span>;
<span>const</span> SHUFFLED32: &amp;<span>str</span> = <span>&#34;shuffled32&#34;</span>;
<span>const</span> UNSHUFFLED64: &amp;<span>str</span> = <span>&#34;unshuffled64&#34;</span>;
<span>const</span> SHUFFLED64: &amp;<span>str</span> = <span>&#34;shuffled64&#34;</span>;

<span>fn</span> <span>generate</span>(exponents: RangeInclusive&lt;<span>usize</span>&gt;, options: Options) {
    <span>for</span> <span>exponent</span> <span>in</span> exponents {
        <span>let</span> <span>n</span> = <span>1</span> &lt;&lt; exponent;
        <span>let</span> <span>name</span> = <span>format!</span>(<span>&#34;{exponent}.dat&#34;</span>);
        <span>if</span> options.<span>f32</span> {
            <span>generate_file</span>(FLOAT32, &amp;name, |writer| {
                random_floats::&lt;<span>f32</span>, ProgressBar&gt;(&amp;<span>mut</span> <span>make_rng</span>(<span>0</span>), writer, n);
            });
        }
        <span>if</span> options.<span>f64</span> {
            <span>generate_file</span>(FLOAT64, &amp;name, |writer| {
                random_floats::&lt;<span>f64</span>, ProgressBar&gt;(&amp;<span>mut</span> <span>make_rng</span>(<span>1</span>), writer, n);
            });
        }
        <span>if</span> options.<span>u32</span> {
            <span>generate_file</span>(UNSHUFFLED32, &amp;name, |writer| {
                first_to_last::&lt;<span>u32</span>, ProgressBar&gt;(writer, n);
            });
            <span>generate_file</span>(SHUFFLED32, &amp;name, |writer| {
                permutation::&lt;<span>u32</span>, ProgressBar&gt;(&amp;<span>mut</span> <span>make_rng</span>(<span>2</span>), writer, n);
            });
        }
        <span>if</span> options.<span>u64</span> {
            <span>generate_file</span>(UNSHUFFLED64, &amp;name, |writer| {
                first_to_last::&lt;<span>u64</span>, ProgressBar&gt;(writer, n);
            });
            <span>generate_file</span>(SHUFFLED64, &amp;name, |writer| {
                permutation::&lt;<span>u64</span>, ProgressBar&gt;(&amp;<span>mut</span> <span>make_rng</span>(<span>3</span>), writer, n);
            });
        }
    }
}
</code></pre>
        </details>
        <h2>Results</h2>
        <p>
          Alrighty, now that we have all these files, let&#39;s run our code on
          them!
        </p>
        <details>
          <summary>Code to calculate sums of our generated data.</summary>
          <pre><code><span>use</span> std::time::Instant;

<span>use</span> serde::Serialize;

<span>trait</span> <span>Reader</span>: <span>AsRef</span>&lt;[<span>u8</span>]&gt; {
    <span>fn</span> <span>new</span>(path: &amp;Path) <span>-&gt;</span> <span>Self</span>;
}

<span>impl</span> <span>Reader</span> <span>for</span> <span>Vec</span>&lt;<span>u8</span>&gt; {
    <span>fn</span> <span>new</span>(path: &amp;Path) <span>-&gt;</span> <span>Self</span> {
        fs::<span>read</span>(path).<span>unwrap</span>()
    }
}

<span>#[derive(Serialize)]</span>
<span>struct</span> <span>Measurement</span>&lt;<span>&#39;a</span>&gt; {
    floats: &amp;<span>&#39;a</span> <span>str</span>,
    indices: &amp;<span>&#39;a</span> <span>str</span>,
    exponent: <span>usize</span>,
    iteration: <span>usize</span>,
    output: <span>f64</span>,
    seconds: <span>f64</span>,
}

<span>#[derive(Clone, Copy)]</span>
<span>struct</span> <span>Index32</span>(<span>u32</span>);

<span>#[derive(Clone, Copy)]</span>
<span>struct</span> <span>Index64</span>(<span>u64</span>);

<span>impl</span>&lt;T&gt; Index&lt;Index32&gt; <span>for</span> [T] {
    <span>type</span> <span>Output</span> = T;

    <span>fn</span> <span>index</span>(&amp;<span>self</span>, index: Index32) <span>-&gt;</span> &amp;<span>Self</span>::Output {
        <span>unsafe</span> { <span>self</span>.<span>get_unchecked</span>(index.<span>0</span> <span>as</span> <span>usize</span>) }
    }
}

<span>impl</span>&lt;T&gt; Index&lt;Index64&gt; <span>for</span> [T] {
    <span>type</span> <span>Output</span> = T;

    <span>fn</span> <span>index</span>(&amp;<span>self</span>, index: Index64) <span>-&gt;</span> &amp;<span>Self</span>::Output {
        <span>unsafe</span> { <span>self</span>.<span>get_unchecked</span>(index.<span>0</span> <span>as</span> <span>usize</span>) }
    }
}

<span>unsafe</span> <span>fn</span> <span>reinterpret</span>&lt;T&gt;(bytes: &amp;[<span>u8</span>]) <span>-&gt;</span> &amp;[T] {
    <span>let</span> (prefix, values, suffix) = <span>unsafe</span> { bytes.align_to::&lt;T&gt;() };
    <span>assert!</span>(prefix.<span>is_empty</span>());
    <span>assert!</span>(suffix.<span>is_empty</span>());
    values
}

<span>fn</span> <span>measure_files</span>&lt;R: Reader, T: Number, I: <span>Copy</span>&gt;(
    dir_floats: &amp;<span>str</span>,
    dir_indices: &amp;<span>str</span>,
    exponent: <span>usize</span>,
    repeat: <span>usize</span>,
) <span>where</span>
    [T]: Index&lt;I, Output = T&gt;,
{
    <span>let</span> <span>name</span> = <span>format!</span>(<span>&#34;{exponent}.dat&#34;</span>);
    <span>let</span> <span>bytes_floats</span> = R::<span>new</span>(&amp;Path::<span>new</span>(dir_floats).<span>join</span>(&amp;name));
    <span>let</span> <span>bytes_indices</span> = R::<span>new</span>(&amp;Path::<span>new</span>(dir_indices).<span>join</span>(&amp;name));
    <span>let</span> <span>floats</span> = <span>unsafe</span> { reinterpret::&lt;T&gt;(bytes_floats.<span>as_ref</span>()) };
    <span>let</span> <span>indices</span> = <span>unsafe</span> { reinterpret::&lt;I&gt;(bytes_indices.<span>as_ref</span>()) };
    <span>for</span> <span>iteration</span> <span>in</span> <span>0</span>..repeat {
        <span>let</span> <span>start</span> = Instant::<span>now</span>();
        <span>let</span> <span>total</span> = <span>sum</span>(floats, indices);
        <span>let</span> <span>duration</span> = start.<span>elapsed</span>();
        <span>let</span> <span>measurement</span> = Measurement {
            floats: dir_floats,
            indices: dir_indices,
            exponent,
            iteration,
            output: total.<span>into</span>(),
            seconds: duration.<span>as_secs_f64</span>(),
        };
        <span>println!</span>(<span>&#34;{}&#34;</span>, serde_json::<span>to_string</span>(&amp;measurement).<span>unwrap</span>());
    }
}

<span>fn</span> <span>measure</span>&lt;R: Reader&gt;(exponents: RangeInclusive&lt;<span>usize</span>&gt;, options: Options, repeat: <span>usize</span>) {
    <span>for</span> <span>exponent</span> <span>in</span> exponents {
        <span>if</span> options.<span>f32</span> {
            <span>if</span> options.<span>u32</span> {
                measure_files::&lt;R, <span>f32</span>, Index32&gt;(FLOAT32, UNSHUFFLED32, exponent, repeat);
                measure_files::&lt;R, <span>f32</span>, Index32&gt;(FLOAT32, SHUFFLED32, exponent, repeat);
            }
            <span>if</span> options.<span>u64</span> {
                measure_files::&lt;R, <span>f32</span>, Index64&gt;(FLOAT32, UNSHUFFLED64, exponent, repeat);
                measure_files::&lt;R, <span>f32</span>, Index64&gt;(FLOAT32, SHUFFLED64, exponent, repeat);
            }
        }
        <span>if</span> options.<span>f64</span> {
            <span>if</span> options.<span>u32</span> {
                measure_files::&lt;R, <span>f64</span>, Index32&gt;(FLOAT64, UNSHUFFLED32, exponent, repeat);
                measure_files::&lt;R, <span>f64</span>, Index32&gt;(FLOAT64, SHUFFLED32, exponent, repeat);
            }
            <span>if</span> options.<span>u64</span> {
                measure_files::&lt;R, <span>f64</span>, Index64&gt;(FLOAT64, UNSHUFFLED64, exponent, repeat);
                measure_files::&lt;R, <span>f64</span>, Index64&gt;(FLOAT64, SHUFFLED64, exponent, repeat);
            }
        }
    }
}
</code></pre>
        </details>
        <p>I ran these experiments on two different machines:</p>
        <ul>
          <li>
            A 2020 MacBook Pro with M1 chip, 16 GiB of RAM, and a 1 TB SSD.
          </li>
          <li>
            A Linux desktop with an AMD Ryzen 5 3600X, 24 GiB of Corsair
            Vengeance LPX DDR4 3000MHz DRAM, and a Western Digital 1 TB 3D NAND
            SATA SSD.
          </li>
        </ul>
        <p>
          For each data point (given a choice of floating-point type and integer
          type, and an array size), I ran the summation at least ten times (up
          to a hundred times for some of the smaller arrays), dropped the first
          two (while caches were still warming up), and computed the mean of the
          remaining times.
        </p>
        <h3>MacBook</h3>
        <div>
          <p>
              Here are the
              <span>unshuffled</span> and
              <span>shuffled</span> results with
              <strong>single-precision floating-point</strong> and
              <strong>32-bit integer indices</strong> (use the toggles to select
              other configurations):
            </p>
          <p>
              Here are the
              <span>unshuffled</span> and
              <span>shuffled</span> results with
              <strong>single-precision floating-point</strong> and
              <strong>64-bit integer indices</strong> (use the toggles to select
              other configurations):
            </p>
          <p>
              Here are the
              <span>unshuffled</span> and
              <span>shuffled</span> results with
              <strong>double-precision floating-point</strong> and
              <strong>32-bit integer indices</strong> (use the toggles to select
              other configurations):
            </p>
          <p>
              Here are the
              <span>unshuffled</span> and
              <span>shuffled</span> results with
              <strong>double-precision floating-point</strong> and
              <strong>64-bit integer indices</strong> (use the toggles to select
              other configurations):
            </p>
        </div>
        
        <div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,84.76084762171904 62.27272727272727,73.82346285648393 69.54545454545455,96.55951040968502 76.81818181818181,124.7014828628081 84.0909090909091,148.86845905143002 91.36363636363637,161.49487923017895 98.63636363636363,163.6383515611318 105.9090909090909,170.56910467292656 113.18181818181819,170.80880083670468 120.45454545454545,175.08523628948305 127.72727272727273,174.33765742405387 135,178.5150349462379 142.27272727272725,178.67704834286513 149.54545454545453,181.4649079882375 156.8181818181818,183.50042334586178 164.0909090909091,185.56419145289834 171.36363636363637,186.22936974134353 178.63636363636363,186.58997095050697 185.9090909090909,187.46040480930796 193.18181818181816,187.7198270042876 200.45454545454547,187.8265362238533 207.72727272727272,187.45992066204082 215,162.5283170427328 222.27272727272725,147.71286230466652 229.54545454545453,143.3132187763631 236.8181818181818,139.97815892705262 244.09090909090907,138.16116904152346 251.36363636363635,137.24089395848415 258.6363636363636,135.67168254111016 265.9090909090909,134.1326184674931 273.1818181818182,133.44217439713043" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,80.09413077672491 62.27272727272727,106.19262121401042 69.54545454545455,95.29086785119789 76.81818181818181,125.96695540173093 84.0909090909091,150.97023637343688 91.36363636363637,160.5083560233753 98.63636363636363,165.04262083401403 105.9090909090909,170.278982574277 113.18181818181819,171.4216315058388 120.45454545454545,175.18891862992106 127.72727272727273,175.30022030586588 135,178.605468617523 142.27272727272725,178.6769139055203 149.54545454545453,181.0494030286474 156.8181818181818,183.60856637561193 164.0909090909091,186.21925835885068 171.36363636363637,186.03006504850495 178.63636363636363,186.89510873310147 185.9090909090909,187.3402219237734 193.18181818181816,187.77427503773325 200.45454545454547,187.48077790276977 207.72727272727272,187.55708152252103 215,187.86846088984822 222.27272727272725,187.9744195215394 229.54545454545453,188.12419081811012 236.8181818181818,188.0414934956908 244.09090909090907,187.85544490292992 251.36363636363635,187.86127122164774 258.6363636363636,187.93379023632488 265.9090909090909,187.9466192813708 273.1818181818182,188.48658353120524" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,81.98652726150632 62.27272727272727,74.590882302036 69.54545454545455,100.31965738449341 76.81818181818181,122.22545534443564 84.0909090909091,147.9722190209851 91.36363636363637,174.27973734907374 98.63636363636363,163.86839927157223 105.9090909090909,169.3839200543448 113.18181818181819,170.9875464476614 120.45454545454545,175.0040621189646 127.72727272727273,178.3436722061012 135,178.49858184075165 142.27272727272725,180.42438072627166 149.54545454545453,180.8501704771329 156.8181818181818,185.89261808707073 164.0909090909091,185.79996145481812 171.36363636363637,186.16904517842445 178.63636363636363,186.86099926292462 185.9090909090909,187.52515054842706 193.18181818181816,187.70044063972145 200.45454545454547,187.76335112646592 207.72727272727272,186.7319445255327 215,158.61502598477682 222.27272727272725,146.88245090414222 229.54545454545453,142.855489614639 236.8181818181818,139.34329669460243 244.09090909090907,137.83798274468217 251.36363636363635,136.82366056693598 258.6363636363636,135.45828485754149 265.9090909090909,133.72219710147488 273.1818181818182,111.11765890565732" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,81.41706024207983 62.27272727272727,73.76706932417639 69.54545454545455,99.16907138644214 76.81818181818181,121.09617813001593 84.0909090909091,150.64466949210134 91.36363636363637,174.21932217732143 98.63636363636363,163.746252125598 105.9090909090909,170.4862007257343 113.18181818181819,170.99011903856092 120.45454545454545,175.08717137567078 127.72727272727273,174.7868635107727 135,178.53189761980437 142.27272727272725,181.32392677641735 149.54545454545453,181.45272380091546 156.8181818181818,183.5745769258092 164.0909090909091,185.66516506561914 171.36363636363637,185.6735122232424 178.63636363636363,187.0359852773169 185.9090909090909,187.32819271897574 193.18181818181816,187.70574678864483 200.45454545454547,187.68742541856935 207.72727272727272,187.9579521284609 215,187.9813859736994 222.27272727272725,188.0416890102858 229.54545454545453,188.05656787863674 236.8181818181818,187.95492023400146 244.09090909090907,187.8108866088304 251.36363636363635,187.84957505035732 258.6363636363636,187.93506410146287 265.9090909090909,187.92661609294908 273.1818181818182,137.761902777917" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,84.10934323224897 62.27272727272727,71.49106414244261 69.54545454545455,101.16505388553607 76.81818181818181,128.80691081032143 84.0909090909091,149.4599641970844 91.36363636363637,173.318416654395 98.63636363636363,162.83849875994028 105.9090909090909,169.65986334732293 113.18181818181819,173.31841665439504 120.45454545454545,175.2715094103521 127.72727272727273,176.03943127262593 135,178.6215709673858 142.27272727272725,181.454036856352 149.54545454545453,183.6985013569348 156.8181818181818,186.1019203013842 164.0909090909091,186.0044057605234 171.36363636363637,186.1184824605273 178.63636363636363,186.895103381167 185.9090909090909,187.42510448567356 193.18181818181816,187.79270483446032 200.45454545454547,187.31338672458472 207.72727272727272,160.60615642193696 215,147.0617914105266 222.27272727272725,141.39882219288535 229.54545454545453,139.52999189511803 236.8181818181818,137.92281094433832 244.09090909090907,137.18118345247865 251.36363636363635,135.7251656787045 258.6363636363636,134.07343535851123 265.9090909090909,133.21865881828535 273.1818181818182,122.59465498119361" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,87.83906405009995 62.27272727272727,72.77984553056802 69.54545454545455,103.6461805987339 76.81818181818181,126.51773707371271 84.0909090909091,150.67482340540369 91.36363636363637,177.14899108489817 98.63636363636363,164.5595311771704 105.9090909090909,169.80861803614764 113.18181818181819,171.31323805268562 120.45454545454545,172.21111882610575 127.72727272727273,178.48855337173455 135,178.56564811753185 142.27272727272725,179.73561075612855 149.54545454545453,183.21175588494978 156.8181818181818,186.21357170164544 164.0909090909091,185.38245325573138 171.36363636363637,185.89598018972987 178.63636363636363,186.78325314364315 185.9090909090909,187.4887058344487 193.18181818181816,187.7008386577542 200.45454545454547,187.56687354932762 207.72727272727272,187.9270481713258 215,187.06867399846104 222.27272727272725,187.9880547458801 229.54545454545453,188.07849789985073 236.8181818181818,187.8251986381501 244.09090909090907,187.78703239623266 251.36363636363635,187.83504347255695 258.6363636363636,187.92064891847087 265.9090909090909,187.92930890142728 273.1818181818182,188.03188152015997" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,84.16032561830465 62.27272727272727,70.30591958810635 69.54545454545455,102.96612160233842 76.81818181818181,130.79661735848165 84.0909090909091,149.79635325332168 91.36363636363637,158.43677743046317 98.63636363636363,168.17709663065511 105.9090909090909,169.8616660765071 113.18181818181819,174.88218278879592 120.45454545454545,174.18727029811186 127.72727272727273,178.3319593342608 135,178.51610534317516 142.27272727272725,180.53063022493978 149.54545454545453,183.6206165214038 156.8181818181818,186.0703976587488 164.0909090909091,185.45067190486333 171.36363636363637,186.29963436031312 178.63636363636363,186.8592295977407 185.9090909090909,187.34050932142048 193.18181818181816,186.46096682896524 200.45454545454547,186.12809327625567 207.72727272727272,158.84292702796358 215,146.61515820566854 222.27272727272725,142.02856028859395 229.54545454545453,139.21954374114375 236.8181818181818,137.68938887509944 244.09090909090907,136.9679521969055 251.36363636363635,135.43587814711896 258.6363636363636,133.77258915978342 265.9090909090909,132.71808933304757 273.1818181818182,1.0729334977622784" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,85.44275819626962 62.27272727272727,73.51755871411581 69.54545454545455,101.17908976155493 76.81818181818181,130.42909071487009 84.0909090909091,150.697456431468 91.36363636363637,170.10976857571063 98.63636363636363,168.71815254041883 105.9090909090909,169.71598297659364 113.18181818181819,175.04220912954057 120.45454545454545,175.26761827645748 127.72727272727273,178.50058789012488 135,178.5883011925308 142.27272727272725,180.94144805326857 149.54545454545453,183.69366971311246 156.8181818181818,186.12710927940208 164.0909090909091,185.47935501895185 171.36363636363637,186.00421286779368 178.63636363636363,186.82181556312295 185.9090909090909,187.49034930891744 193.18181818181816,187.09749754685234 200.45454545454547,187.6262637278878 207.72727272727272,187.31067853465606 215,188.07356380523416 222.27272727272725,188.138653330778 229.54545454545453,187.8664158831853 236.8181818181818,187.71367347282794 244.09090909090907,187.79195261464528 251.36363636363635,187.85950490980503 258.6363636363636,187.90490816868703 265.9090909090909,185.1874971135467 273.1818181818182,56.08356726911316" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
        </div>
        <p>
          Note that both the
          <span><span><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true"><span></span><span></span><span><span>x</span></span></span></span>-axis and the
          <span><span><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span aria-hidden="true"><span></span><span></span><span><span>y</span></span></span></span>-axis are on a log scale. As you can see, it levels out at about a
          nanosecond per element, until the array of floating-point numbers
          becomes too large to fit in the system-level cache (SLC), which is 8
          MiB. Then first-to-last order stays the same, but random order goes up
          to about four nanoseconds. Finally, when the arrays become too large
          to fit in RAM, both times shoot up; more on that later.
        </p>
        <h3>Linux desktop</h3>
        <div>
          <p>
              Here are the results with
              <strong>single-precision floating-point</strong> and
              <strong>32-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>single-precision floating-point</strong> and
              <strong>64-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>double-precision floating-point</strong> and
              <strong>32-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>double-precision floating-point</strong> and
              <strong>64-bit integer indices</strong>:
            </p>
        </div>
        
        <div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,77.14800730476009 62.27272727272727,100.94126557989419 69.54545454545455,122.70509961460687 76.81818181818181,144.15554962823398 84.0909090909091,162.52162276631333 91.36363636363637,153.0001435991349 98.63636363636363,159.20130543890207 105.9090909090909,173.30556084448256 113.18181818181819,171.75942916131612 120.45454545454545,173.90763255450682 127.72727272727273,173.43249543656134 135,197.80560619520924 142.27272727272725,198.76737480292746 149.54545454545453,198.25890075337543 156.8181818181818,179.02956977595366 164.0909090909091,194.31789342642338 171.36363636363637,196.82251601446265 178.63636363636363,194.8653194510776 185.9090909090909,192.9601666908619 193.18181818181816,195.7018572559485 200.45454545454547,195.40880296820146 207.72727272727272,168.49389722509517 215,135.96733996039848 222.27272727272725,131.25885444809933 229.54545454545453,127.33932252297043 236.8181818181818,125.01859355669814 244.09090909090907,122.8329682593457 251.36363636363635,120.26098996896893 258.6363636363636,117.6277818080907 265.9090909090909,108.25478667741912 273.1818181818182,81.36346825888424 280.45454545454544,60.916440563552385" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,77.16184295429659 62.27272727272727,100.81602998344658 69.54545454545455,124.73659070094425 76.81818181818181,144.18045481326016 84.0909090909091,167.85968263137275 91.36363636363637,170.14990150531295 98.63636363636363,164.6362512259855 105.9090909090909,169.74407762128564 113.18181818181819,172.6860239864115 120.45454545454545,173.7584365526934 127.72727272727273,197.55218622008385 135,197.8396334874406 142.27272727272725,198.41832743897191 149.54545454545453,198.52786409507678 156.8181818181818,179.06573972486453 164.0909090909091,197.8796562308587 171.36363636363637,198.45690194612774 178.63636363636363,198.12668927449613 185.9090909090909,198.1371350940247 193.18181818181816,198.43492019565633 200.45454545454547,198.04225436641178 207.72727272727272,191.80223498386457 215,195.69286277998688 222.27272727272725,194.70302700885526 229.54545454545453,193.95624074909296 236.8181818181818,193.94533842273074 244.09090909090907,194.3448803272406 251.36363636363635,194.47278360409123 258.6363636363636,194.6334992228108 265.9090909090909,194.8617093779166 273.1818181818182,194.68722107147863 280.45454545454544,192.72673620185682" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,79.12737331688496 62.27272727272727,101.77389937210454 69.54545454545455,123.67159239114605 76.81818181818181,147.75007824841427 84.0909090909091,161.62479047051215 91.36363636363637,154.09168858733176 98.63636363636363,184.24495509183652 105.9090909090909,166.9416106050744 113.18181818181819,170.4372303302563 120.45454545454545,173.23219232687842 127.72727272727273,195.1784908166112 135,196.96282875155623 142.27272727272725,197.1058566858926 149.54545454545453,198.30243183416144 156.8181818181818,179.54178280181975 164.0909090909091,192.56795978009046 171.36363636363637,197.44608415294056 178.63636363636363,195.49820179643788 185.9090909090909,191.57572178711496 193.18181818181816,193.70662477168298 200.45454545454547,184.5226930605877 207.72727272727272,153.16896504754402 215,135.71657548376794 222.27272727272725,130.16458355825802 229.54545454545453,126.5023463841328 236.8181818181818,123.40312759317523 244.09090909090907,121.33481692931724 251.36363636363635,119.28293237424508 258.6363636363636,117.21350572473665 265.9090909090909,107.4209332968743 273.1818181818182,80.16419804514615 280.45454545454544,34.14555386546988" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,78.10191803341132 62.27272727272727,101.2352913731809 69.54545454545455,122.31037696164626 76.81818181818181,144.31776091050247 84.0909090909091,160.96482770223204 91.36363636363637,151.06928143386875 98.63636363636363,160.16001134550703 105.9090909090909,167.5870744622157 113.18181818181819,164.94487720002564 120.45454545454545,173.5682325110817 127.72727272727273,172.84936140779143 135,197.08284382181884 142.27272727272725,198.78134842935347 149.54545454545453,198.0673579743904 156.8181818181818,179.25332254900064 164.0909090909091,197.94795309410463 171.36363636363637,198.3749102709197 178.63636363636363,198.4796084543513 185.9090909090909,198.29108524701425 193.18181818181816,198.05094944611758 200.45454545454547,195.1669278429522 207.72727272727272,185.28222016680064 215,185.88176984719576 222.27272727272725,186.93211800404072 229.54545454545453,187.39372605203044 236.8181818181818,187.52154250475797 244.09090909090907,188.19427148560618 251.36363636363635,187.97042749406722 258.6363636363636,188.07547723108274 265.9090909090909,188.63000754056137 273.1818181818182,188.8362494409472 280.45454545454544,44.38955395304893" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,77.8044568856638 62.27272727272727,102.99572977313657 69.54545454545455,123.45442561661262 76.81818181818181,148.26600246565013 84.0909090909091,160.7510434961502 91.36363636363637,150.94742080250876 98.63636363636363,159.9636128711311 105.9090909090909,169.67470951666868 113.18181818181819,170.3075472593609 120.45454545454545,172.51651624454942 127.72727272727273,197.2218520654906 135,197.69219220611674 142.27272727272725,181.07529124947885 149.54545454545453,198.2662019347976 156.8181818181818,196.20918221086987 164.0909090909091,193.3283124502164 171.36363636363637,198.08585344965869 178.63636363636363,194.72591167648022 185.9090909090909,192.21633963218375 193.18181818181816,193.99802293996663 200.45454545454547,166.56505063011065 207.72727272727272,131.8967540699526 215,130.09725408133755 222.27272727272725,127.03853153294494 229.54545454545453,124.62311033287911 236.8181818181818,122.62363365149642 244.09090909090907,120.23071131087029 251.36363636363635,117.46122523242995 258.6363636363636,108.48631019914365 265.9090909090909,81.45592523234828 273.1818181818182,61.28773304469064 280.45454545454544,30.593307290519732" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,76.80393618890557 62.27272727272727,104.0486292406145 69.54545454545455,124.08256309685288 76.81818181818181,149.30749659416645 84.0909090909091,163.409852377081 91.36363636363637,153.98759232155646 98.63636363636363,159.06584150388295 105.9090909090909,167.31048181036476 113.18181818181819,171.1853461080397 120.45454545454545,172.00329283676044 127.72727272727273,196.55200387709883 135,196.20957654424 142.27272727272725,198.48127233902096 149.54545454545453,196.9615616263587 156.8181818181818,197.93833405737223 164.0909090909091,197.75613256163652 171.36363636363637,198.59133742405103 178.63636363636363,198.5466198017792 185.9090909090909,198.12712701406477 193.18181818181816,197.86905455486746 200.45454545454547,195.58902416985052 207.72727272727272,188.246605996255 215,190.72513056963885 222.27272727272725,190.59153699188408 229.54545454545453,191.49644430142575 236.8181818181818,192.13923213445665 244.09090909090907,192.537068676385 251.36363636363635,193.20256951464748 258.6363636363636,193.4761802279486 265.9090909090909,193.58977260690486 273.1818181818182,193.3916166637125 280.45454545454544,37.8913326502159" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,75.9787544107219 62.27272727272727,101.68828579414341 69.54545454545455,125.67681888618463 76.81818181818181,149.5838938990748 84.0909090909091,162.27660283846765 91.36363636363637,156.76746986088926 98.63636363636363,158.25243041177717 105.9090909090909,169.6796596830162 113.18181818181819,171.05020157458193 120.45454545454545,172.51337687620276 127.72727272727273,197.44358663995197 135,196.91586155563522 142.27272727272725,197.76925360131426 149.54545454545453,197.49602915710858 156.8181818181818,196.52253997790402 164.0909090909091,196.4315228425504 171.36363636363637,193.19293450217037 178.63636363636363,189.8534325629602 185.9090909090909,196.5834263126039 193.18181818181816,192.23534862758655 200.45454545454547,151.91738964308328 207.72727272727272,129.96815650541856 215,127.55440624728809 222.27272727272725,126.32421940850617 229.54545454545453,122.75251282738267 236.8181818181818,121.29971020305564 244.09090909090907,119.11586101490232 251.36363636363635,117.08527960069225 258.6363636363636,107.19182824561065 265.9090909090909,80.08074212688891 273.1818181818182,60.88679650407158" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,73.98060490948015 62.27272727272727,102.26316432032928 69.54545454545455,126.36261525464383 76.81818181818181,149.54010232258494 84.0909090909091,162.0649701974532 91.36363636363637,155.82410041832492 98.63636363636363,159.3324453463187 105.9090909090909,167.65541019876684 113.18181818181819,171.40947421325404 120.45454545454545,172.8568354305734 127.72727272727273,197.71809547836685 135,197.71550426148087 142.27272727272725,188.01584742662476 149.54545454545453,198.29560208594006 156.8181818181818,197.646997143141 164.0909090909091,197.7164464992811 171.36363636363637,198.4277451985963 178.63636363636363,198.27492277022554 185.9090909090909,197.60193920607378 193.18181818181816,197.01915288148973 200.45454545454547,185.0849356650856 207.72727272727272,181.95300120862004 215,182.71907736504 222.27272727272725,181.73091072810172 229.54545454545453,181.01994841993388 236.8181818181818,182.69575418857033 244.09090909090907,182.49377467767687 251.36363636363635,182.8549999633442 258.6363636363636,182.93631427813222 265.9090909090909,183.25635870971377 273.1818181818182,180.71946602855644" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
        </div>
        <p>
          A bit noisier data for those smaller arrays! Looks like first-to-last
          order is actually only about half a nanosecond per element on this
          CPU. But even though this L3 cache is 32 MiB, random order starts to
          become slower when the floating-point array is bigger than 4 MiB; not
          sure why. The ratio here is starker here, ranging from four to about
          eight nanoseconds per element after divergence from the first-to-last
          curve.
        </p>
        <p>
          Just like the MacBook, there&#39;s a huge spike when there&#39;s too much to
          fit everything in RAM, but the interesting difference here is that
          random-order performance starts to degrade sharply even before
          reaching that point, while first-to-last order stays relatively
          stable. Even though I have 24 GiB of RAM, floating-point arrays over a
          gigabyte in size start to reach twenty or thirty nanoseconds per
          element.
        </p>
        <h2>Memory mapping</h2>
        <p>
          After running the above, I wasn&#39;t sure whether the spike in the
          right-hand part of the graph was just because I was trying to read the
          <em>entire</em> file into memory before doing any work. Here are some
          results using
          <a href="https://en.wikipedia.org/wiki/Memory-mapped_file">memory-mapped files</a>
          instead. To my disappointment, though, the results look more or less
          the same (although at least this time it didn&#39;t freeze up my computer
          on the really big arrays).
        </p>
        <details>
          <summary>Code to memory-map files.</summary>
          <pre><code><span>use</span> memmap2::Mmap;

<span>impl</span> <span>Reader</span> <span>for</span> <span>Mmap</span> {
    <span>fn</span> <span>new</span>(path: &amp;Path) <span>-&gt;</span> <span>Self</span> {
        <span>unsafe</span> { Mmap::<span>map</span>(&amp;fs::File::<span>open</span>(path).<span>unwrap</span>()) }.<span>unwrap</span>()
    }
}
</code></pre>
        </details>
        <h3>MacBook</h3>
        <div>
          <p>
              Here are the results with
              <strong>single-precision floating-point</strong> and
              <strong>32-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>single-precision floating-point</strong> and
              <strong>64-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>double-precision floating-point</strong> and
              <strong>32-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>double-precision floating-point</strong> and
              <strong>64-bit integer indices</strong>:
            </p>
        </div>
        
        <div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,39.414982643331 62.27272727272727,71.27512714165874 69.54545454545455,95.79624369425134 76.81818181818181,145.4237496230959 84.0909090909091,143.11965911939774 91.36363636363637,157.6265551424578 98.63636363636363,160.74596976986206 105.9090909090909,166.37549506197863 113.18181818181819,167.33203370076947 120.45454545454545,167.46511140966135 127.72727272727273,171.67641419720815 135,169.54317610995295 142.27272727272725,175.68713534061757 149.54545454545453,178.5362819485498 156.8181818181818,181.2745834825767 164.0909090909091,186.2692096577127 171.36363636363637,186.21948920269483 178.63636363636363,187.00811004415053 185.9090909090909,187.67153686822556 193.18181818181816,187.9207090635682 200.45454545454547,188.05332832547026 207.72727272727272,187.64186831823517 215,157.08707430518785 222.27272727272725,148.4804933456945 229.54545454545453,143.26739208386442 236.8181818181818,139.72611119879363 244.09090909090907,137.924717177053 251.36363636363635,137.21866962170753 258.6363636363636,136.49162323809344 265.9090909090909,134.76445637286622 273.1818181818182,133.51413843798775 280.45454545454544,94.37092569713838" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,40.75655687661853 62.27272727272727,71.54379771497241 69.54545454545455,94.07932202692663 76.81818181818181,150.72765729259532 84.0909090909091,143.6305887282797 91.36363636363637,155.22812561825808 98.63636363636363,159.11657715113614 105.9090909090909,166.63398186502252 113.18181818181819,167.20599539501538 120.45454545454545,167.33588369291024 127.72727272727273,171.71165432941422 135,170.63990232407315 142.27272727272725,175.62060188179112 149.54545454545453,175.5144617156467 156.8181818181818,180.7220110492947 164.0909090909091,185.41526963463832 171.36363636363637,185.9440837927042 178.63636363636363,186.95593441659256 185.9090909090909,187.52065551070388 193.18181818181816,187.97988838291508 200.45454545454547,187.95007327266924 207.72727272727272,187.9594845610934 215,188.17170043440154 222.27272727272725,188.15667184768301 229.54545454545453,188.1785538638867 236.8181818181818,188.2892385720537 244.09090909090907,188.10532036573662 251.36363636363635,187.87930674754475 258.6363636363636,188.42893847200423 265.9090909090909,188.52904824476335 273.1818181818182,188.22635773499334 280.45454545454544,78.0510320616134" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,42.97736846589186 62.27272727272727,71.30422767123176 69.54545454545455,100.37445282119864 76.81818181818181,133.36916663026102 84.0909090909091,150.68991041261555 91.36363636363637,155.02605409679683 98.63636363636363,159.81767318670336 105.9090909090909,165.77009950817504 113.18181818181819,167.2075296322382 120.45454545454545,171.53429335067494 127.72727272727273,171.58596434522974 135,171.9006257999902 142.27272727272725,175.6410030898274 149.54545454545453,178.2872081467434 156.8181818181818,183.5391088226013 164.0909090909091,186.2324084671174 171.36363636363637,186.32572838347448 178.63636363636363,186.90035671091738 185.9090909090909,187.56850955318822 193.18181818181816,187.83253849099168 200.45454545454547,187.71035891343473 207.72727272727272,186.59079225820312 215,157.9982506192199 222.27272727272725,147.49885707602638 229.54545454545453,142.78069441789825 236.8181818181818,139.25278898874416 244.09090909090907,137.8054991198881 251.36363636363635,136.54160148923387 258.6363636363636,136.21958059180224 265.9090909090909,134.10081985957368 273.1818181818182,84.15248814246038 280.45454545454544,79.20445032160788" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,42.391001988111014 62.27272727272727,72.28480691840497 69.54545454545455,102.37204637348277 76.81818181818181,153.31659978390098 84.0909090909091,148.85416007663224 91.36363636363637,155.1979535180334 98.63636363636363,160.02564147748518 105.9090909090909,166.51952398414522 113.18181818181819,167.0483392052459 120.45454545454545,169.01257321207927 127.72727272727273,171.6394623161353 135,167.67426555621643 142.27272727272725,175.66399986891204 149.54545454545453,178.58806654179358 156.8181818181818,181.9309929225075 164.0909090909091,186.1315046207889 171.36363636363637,186.32440741768715 178.63636363636363,187.11927179462154 185.9090909090909,187.73176748541746 193.18181818181816,187.7384213422719 200.45454545454547,187.77763824255686 207.72727272727272,187.9981121063045 215,188.13076022212513 222.27272727272725,187.97694649365863 229.54545454545453,187.91335181460954 236.8181818181818,188.25791587932324 244.09090909090907,187.95600802961275 251.36363636363635,187.8583304853782 258.6363636363636,188.30852542352505 265.9090909090909,188.32212920200058 273.1818181818182,80.02698597970985 280.45454545454544,78.85189342466134" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,50.006796761618574 62.27272727272727,71.9983430608496 69.54545454545455,126.4807389603303 76.81818181818181,123.03757794013364 84.0909090909091,149.09806561300584 91.36363636363637,155.96923379572286 98.63636363636363,160.34501597631657 105.9090909090909,166.57519869374704 113.18181818181819,166.233565504672 120.45454545454545,171.5482389493379 127.72727272727273,171.7304932517529 135,173.17681250179322 142.27272727272725,175.2591079757602 149.54545454545453,178.4790624834932 156.8181818181818,183.60773079829625 164.0909090909091,185.60062523297094 171.36363636363637,186.15510268051267 178.63636363636363,186.88876460713954 185.9090909090909,187.59547488396873 193.18181818181816,187.74737247004757 200.45454545454547,187.592955278403 207.72727272727272,162.9099152979161 215,148.43516594366235 222.27272727272725,142.2915678827506 229.54545454545453,139.28682128713803 236.8181818181818,137.65662358840353 244.09090909090907,137.20224763229845 251.36363636363635,136.24097364932265 258.6363636363636,134.86907191576194 265.9090909090909,133.5250082365173 273.1818181818182,94.68167614538385" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,50.28151109692985 62.27272727272727,68.88853887753478 69.54545454545455,109.4434612457544 76.81818181818181,121.617648254537 84.0909090909091,148.5623506703921 91.36363636363637,157.80752541059923 98.63636363636363,160.23489174131464 105.9090909090909,166.56917540212532 113.18181818181819,167.04604864199072 120.45454545454545,171.58749168922043 127.72727272727273,171.85979973842356 135,169.6337951675407 142.27272727272725,175.6615395761998 149.54545454545453,178.53631541888606 156.8181818181818,183.58677036786574 164.0909090909091,185.7098723616504 171.36363636363637,186.3487403800958 178.63636363636363,186.94723912324275 185.9090909090909,187.64530580301843 193.18181818181816,187.86149369585613 200.45454545454547,187.83986285263774 207.72727272727272,187.97557910917095 215,188.11158505672782 222.27272727272725,188.18935334669007 229.54545454545453,188.16037682241006 236.8181818181818,188.04934221059338 244.09090909090907,187.95729519789032 251.36363636363635,187.86411362594092 258.6363636363636,188.2043006874393 265.9090909090909,188.18822940316397 273.1818181818182,79.83837514286787 280.45454545454544,80.03315155027008" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,50.237657559470506 62.27272727272727,72.78592736623204 69.54545454545455,122.38895515800226 76.81818181818181,124.130835397456 84.0909090909091,150.37448288684408 91.36363636363637,156.4799063936662 98.63636363636363,165.88795663782426 105.9090909090909,166.75488223560725 113.18181818181819,167.0216255795487 120.45454545454545,171.66088513418106 127.72727272727273,169.26613810198504 135,175.55910380011767 142.27272727272725,175.6257624746901 149.54545454545453,179.61985851492108 156.8181818181818,182.9248940206866 164.0909090909091,186.03313294426385 171.36363636363637,186.40584018989034 178.63636363636363,186.92511691201918 185.9090909090909,187.62529958369322 193.18181818181816,187.54536990293647 200.45454545454547,186.76861456854076 207.72727272727272,158.9604210800092 215,146.63530915424187 222.27272727272725,141.76238126576467 229.54545454545453,139.02375437052186 236.8181818181818,137.66945056301847 244.09090909090907,136.85729160757705 251.36363636363635,135.84967595010318 258.6363636363636,134.53781504883574 265.9090909090909,133.1392312916778 273.1818181818182,78.66892247997853" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,49.96950737778684 62.27272727272727,71.54966206078785 69.54545454545455,129.73831001842782 76.81818181818181,125.02585284665453 84.0909090909091,150.6220716221879 91.36363636363637,157.83079665691267 98.63636363636363,162.16268632123365 105.9090909090909,166.45343486196924 113.18181818181819,166.99112144102534 120.45454545454545,171.63946231613528 127.72727272727273,169.99694022261963 135,175.65674251822875 142.27272727272725,175.6717509566729 149.54545454545453,178.5811953465658 156.8181818181818,183.57545051404983 164.0909090909091,185.91814098194308 171.36363636363637,186.10427835987866 178.63636363636363,187.15938577700345 185.9090909090909,187.7840377311295 193.18181818181816,187.53963535163595 200.45454545454547,187.6188585316732 207.72727272727272,187.83768425907908 215,188.1205975994373 222.27272727272725,188.16321056145983 229.54545454545453,188.11863496337875 236.8181818181818,188.0211630442017 244.09090909090907,187.77563410122696 251.36363636363635,187.87258523427272 258.6363636363636,188.3950580656544 265.9090909090909,187.46284324235953 273.1818181818182,73.84690933396206" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
        </div>
        <p>
          Looks pretty much the same as before, but this time we were able to
          run it on bigger inputs. As you can see, for large enough arrays,
          shuffling the indices seems to have basically no effect on
          performance; both approaches end up taking over twenty nanoseconds per
          element on average. I wonder if this is a macOS-specific phenomenon.
        </p>
        <h3>Linux desktop</h3>
        <div>
          <p>
              Here are the results with
              <strong>single-precision floating-point</strong> and
              <strong>32-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>single-precision floating-point</strong> and
              <strong>64-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>double-precision floating-point</strong> and
              <strong>32-bit integer indices</strong>:
            </p>
          <p>
              Here are the results with
              <strong>double-precision floating-point</strong> and
              <strong>64-bit integer indices</strong>:
            </p>
        </div>
        
        <div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,76.17981580208681 62.27272727272727,102.98092245963329 69.54545454545455,114.91134074419446 76.81818181818181,136.5384740003845 84.0909090909091,152.9597848193625 91.36363636363637,178.21001316360284 98.63636363636363,187.22582100819264 105.9090909090909,160.42281858593321 113.18181818181819,195.42332155004087 120.45454545454545,196.63358952349517 127.72727272727273,197.27575489696517 135,197.66513263013678 142.27272727272725,197.9138319118847 149.54545454545453,197.97596609023728 156.8181818181818,198.1303701881469 164.0909090909091,194.6795211132112 171.36363636363637,193.12816107958875 178.63636363636363,192.9599891216531 185.9090909090909,192.70535314885493 193.18181818181816,193.57931251646016 200.45454545454547,192.26029485339382 207.72727272727272,171.64374304497517 215,136.59318492230057 222.27272727272725,130.43583343320245 229.54545454545453,127.73779709030289 236.8181818181818,125.15733405208967 244.09090909090907,122.54974506009295 251.36363636363635,120.62764442884756 258.6363636363636,117.43760986030178 265.9090909090909,108.7451924280431 273.1818181818182,80.9288768217576 280.45454545454544,60.93228515192163 287.72727272727275,49.786816077249256" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,78.37331419719047 62.27272727272727,98.49439141334526 69.54545454545455,126.28899612869944 76.81818181818181,133.91713277697386 84.0909090909091,151.16096485399964 91.36363636363637,172.69954909410146 98.63636363636363,186.5084952919055 105.9090909090909,172.46229084411712 113.18181818181819,194.55728455290912 120.45454545454545,196.5351642319202 127.72727272727273,194.67165979465435 135,189.47940758946254 142.27272727272725,197.16803469119768 149.54545454545453,197.58126744875466 156.8181818181818,197.88573695587417 164.0909090909091,197.85459029097686 171.36363636363637,196.41341100384815 178.63636363636363,198.11617776938976 185.9090909090909,198.14012020438452 193.18181818181816,198.70950154565213 200.45454545454547,198.17279329270514 207.72727272727272,195.79768023830795 215,194.40301640298154 222.27272727272725,195.44753727949404 229.54545454545453,195.9119272021188 236.8181818181818,195.81627112887915 244.09090909090907,195.7896482400657 251.36363636363635,196.58151973589065 258.6363636363636,196.42218884131236 265.9090909090909,196.7749313687954 273.1818181818182,196.86563308732136 280.45454545454544,196.34756198624532 287.72727272727275,93.73596314297357" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,71.25767879089275 62.27272727272727,98.23595266472113 69.54545454545455,114.70160411362632 76.81818181818181,136.7179761172497 84.0909090909091,153.2758632307487 91.36363636363637,178.31200352275323 98.63636363636363,184.956933122874 105.9090909090909,191.61506556412564 113.18181818181819,194.9840636006892 120.45454545454545,196.42704358554514 127.72727272727273,197.5859603036274 135,197.67477748314874 142.27272727272725,197.95840521431785 149.54545454545453,197.3008186469064 156.8181818181818,197.01949453585328 164.0909090909091,192.4561844253381 171.36363636363637,196.60706122401282 178.63636363636363,191.83332984104942 185.9090909090909,195.61584221781936 193.18181818181816,194.63132598676538 200.45454545454547,186.43001088253322 207.72727272727272,155.26522135855876 215,134.9468466079065 222.27272727272725,130.16017559285626 229.54545454545453,125.86492904774322 236.8181818181818,123.65970177683667 244.09090909090907,121.87643021008924 251.36363636363635,119.7921527820197 258.6363636363636,117.09312852722528 265.9090909090909,107.45746595125313 273.1818181818182,80.01939609494093 280.45454545454544,57.225779117188296 287.72727272727275,47.327559268795625" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,51.03582205430564 62.27272727272727,98.80713772380973 69.54545454545455,115.05893126220693 76.81818181818181,136.34013416842237 84.0909090909091,152.25721332070108 91.36363636363637,177.5461188781808 98.63636363636363,185.91765217603822 105.9090909090909,190.19659832957456 113.18181818181819,195.12519594919675 120.45454545454545,196.35636097265802 127.72727272727273,197.21488811723188 135,197.32904478124453 142.27272727272725,198.09593125161288 149.54545454545453,197.7202157120423 156.8181818181818,197.82347217825614 164.0909090909091,196.63544343056094 171.36363636363637,198.27170878253597 178.63636363636363,198.08049943890697 185.9090909090909,197.69118443850311 193.18181818181816,197.89301565471035 200.45454545454547,193.89798558654292 207.72727272727272,187.12773189865217 215,185.99711398854728 222.27272727272725,186.0069262963936 229.54545454545453,188.34031199552626 236.8181818181818,186.62208320318678 244.09090909090907,187.27441256875596 251.36363636363635,187.550533378084 258.6363636363636,188.3449431969242 265.9090909090909,188.4633221813029 273.1818181818182,188.72674892696705 280.45454545454544,105.26695361326898 287.72727272727275,79.8712007442592" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,75.65951288226984 62.27272727272727,96.97247352353534 69.54545454545455,115.04836777506146 76.81818181818181,140.1891408361662 84.0909090909091,160.14754732272408 91.36363636363637,164.68464554978064 98.63636363636363,186.2225322910196 105.9090909090909,184.87421418905637 113.18181818181819,176.42572864739807 120.45454545454545,185.04893590331307 127.72727272727273,197.81009395451923 135,197.98653072249422 142.27272727272725,193.9030017997529 149.54545454545453,197.83969259227058 156.8181818181818,197.9716046869919 164.0909090909091,182.69708426689886 171.36363636363637,191.84663781332273 178.63636363636363,188.80190826502678 185.9090909090909,191.04407830437975 193.18181818181816,192.0449784186555 200.45454545454547,156.6437319046573 207.72727272727272,131.50802358280515 215,129.03653525764474 222.27272727272725,126.76257177392652 229.54545454545453,124.35862939325395 236.8181818181818,122.19589176341425 244.09090909090907,119.8140884124724 251.36363636363635,117.79359730829583 258.6363636363636,108.47252564809862 265.9090909090909,80.68506555244721 273.1818181818182,60.54083389394307 280.45454545454544,49.95526879899219" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,74.88724122000525 62.27272727272727,100.49806691329614 69.54545454545455,115.42005983475836 76.81818181818181,138.7896763930347 84.0909090909091,156.4664864426442 91.36363636363637,176.0882261097156 98.63636363636363,186.48141450413658 105.9090909090909,191.44544632103896 113.18181818181819,188.05915413158087 120.45454545454545,187.0622698748207 127.72727272727273,197.69030910259266 135,194.89376840116338 142.27272727272725,198.10581844307134 149.54545454545453,196.66235073959623 156.8181818181818,193.70151649771947 164.0909090909091,195.28241315996664 171.36363636363637,196.84837375081793 178.63636363636363,196.3443756705788 185.9090909090909,197.9198206384949 193.18181818181816,197.0791808385221 200.45454545454547,195.08288264241577 207.72727272727272,190.02219860971115 215,190.67341325026567 222.27272727272725,188.79237672839386 229.54545454545453,189.90400759623003 236.8181818181818,191.67051281269897 244.09090909090907,190.20093680634886 251.36363636363635,192.24507114896085 258.6363636363636,192.71052987865966 265.9090909090909,192.65420084467308 273.1818181818182,193.21682113803226 280.45454545454544,106.18948204195839 287.72727272727275,79.86224817293675" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="55,75.76559348631093 62.27272727272727,102.4812787931732 69.54545454545455,112.99911767264632 76.81818181818181,141.315140110161 84.0909090909091,157.9193731746141 91.36363636363637,170.96954376830698 98.63636363636363,186.69321982469182 105.9090909090909,191.85523396408814 113.18181818181819,192.46642465038684 120.45454545454545,192.33027565632514 127.72727272727273,189.59752114875954 135,197.91015959567008 142.27272727272725,196.6468257866379 149.54545454545453,197.71320766640707 156.8181818181818,188.73519756003466 164.0909090909091,185.25147347484426 171.36363636363637,194.82845559812299 178.63636363636363,192.6859181382917 185.9090909090909,190.94241427279434 193.18181818181816,190.56711219438904 200.45454545454547,151.34842888983803 207.72727272727272,130.9330839134484 215,127.67661737770536 222.27272727272725,126.00508393174522 229.54545454545453,122.73753689434827 236.8181818181818,121.33580548284402 244.09090909090907,119.7975811428055 251.36363636363635,117.16936271131391 258.6363636363636,107.93107422179546 265.9090909090909,78.47415084965436 273.1818181818182,60.47903407925841 280.45454545454544,47.40973693966342" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,76.31452139817222 62.27272727272727,97.89015240103404 69.54545454545455,115.61281233436961 76.81818181818181,144.68243461746906 84.0909090909091,158.13478363959442 91.36363636363637,168.86282856138104 98.63636363636363,186.4814145041366 105.9090909090909,191.2392783426719 113.18181818181819,183.83809731833546 120.45454545454545,184.31154839269013 127.72727272727273,196.00693075005435 135,197.7862447736117 142.27272727272725,198.10963114160987 149.54545454545453,197.4408994627752 156.8181818181818,196.05293657538775 164.0909090909091,189.09652494251188 171.36363636363637,196.53756735267442 178.63636363636363,195.15378853549078 185.9090909090909,196.63057892283763 193.18181818181816,195.92799402135617 200.45454545454547,183.68212002529103 207.72727272727272,181.68961303628177 215,181.854290759768 222.27272727272725,181.94132382220005 229.54545454545453,184.11192361675327 236.8181818181818,183.69049418442845 244.09090909090907,183.62698680231523 251.36363636363635,184.25778178026547 258.6363636363636,184.19457574905255 265.9090909090909,184.02932879478428 273.1818181818182,184.3207446837226 280.45454545454544,70.16378482770588" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
        </div>
        <p>
          Not much new to see here. Still, it is interesting that performance
          for random order seems to degrade much more gradually than performance
          for first-to-last order; the latter pretty look almost like a step
          function after reaching a billion elements.
        </p>
        <h2>&#34;Direct&#34; summation</h2>
        <p>
          Just one last experiment, I swear! I was still curious how much of the
          performance cliff for large arrays was simply due to memory bandwidth
          versus SSD bandwidth, and how much was due to how the operating system
          handles memory-mapped files. So I tried a separate implementation that
          just reads the file of floating-point numbers a chunk at a time, sums
          up that chunk, then moves to the next chunk.
        </p>
        <details>
          <summary>Code to sum more directly from a file.</summary>
          <pre><code><span>use</span> std::io::BufRead;

<span>fn</span> <span>sum_buffered</span>&lt;T: Number&gt;(dir_floats: &amp;<span>str</span>, exponent: <span>usize</span>, repeat: <span>usize</span>) {
    <span>let</span> <span>name</span> = <span>format!</span>(<span>&#34;{exponent}.dat&#34;</span>);
    <span>for</span> <span>iteration</span> <span>in</span> <span>0</span>..repeat {
        <span>let</span> <span>mut </span><span>reader</span> =
            io::BufReader::<span>new</span>(fs::File::<span>open</span>(Path::<span>new</span>(dir_floats).<span>join</span>(&amp;name)).<span>unwrap</span>());
        <span>let</span> <span>start</span> = Instant::<span>now</span>();
        <span>let</span> <span>mut </span><span>total</span> = T::<span>zero</span>();
        <span>loop</span> {
            <span>let</span> <span>buffer</span> = reader.<span>fill_buf</span>().<span>unwrap</span>();
            <span>if</span> buffer.<span>is_empty</span>() {
                <span>break</span>;
            }
            <span>let</span> <span>floats</span> = <span>unsafe</span> { reinterpret::&lt;T&gt;(buffer) };
            <span>for</span> &amp;float <span>in</span> floats {
                total += float;
            }
            <span>let</span> <span>bytes</span> = buffer.<span>len</span>();
            reader.<span>consume</span>(bytes);
        }
        <span>let</span> <span>duration</span> = start.<span>elapsed</span>();
        <span>let</span> <span>measurement</span> = Measurement {
            floats: dir_floats,
            indices: <span>&#34;unshuffled64&#34;</span>,
            exponent,
            iteration,
            output: total.<span>into</span>(),
            seconds: duration.<span>as_secs_f64</span>(),
        };
        <span>println!</span>(<span>&#34;{}&#34;</span>, serde_json::<span>to_string</span>(&amp;measurement).<span>unwrap</span>());
    }
}

<span>fn</span> <span>measure_buffered</span>(exponents: RangeInclusive&lt;<span>usize</span>&gt;, options: Options, repeat: <span>usize</span>) {
    <span>for</span> <span>exponent</span> <span>in</span> exponents {
        <span>if</span> options.<span>f32</span> {
            sum_buffered::&lt;<span>f32</span>&gt;(FLOAT32, exponent, repeat);
        }
        <span>if</span> options.<span>f64</span> {
            sum_buffered::&lt;<span>f64</span>&gt;(FLOAT64, exponent, repeat);
        }
    }
}
</code></pre>
        </details>
        <p>
          Note that this is not an apples-to-apples comparison like the above
          experiments were, since it uses a completely different implementation
          to compute the sum. That&#39;s why I put it here in its own section.
        </p>
        <h3>MacBook</h3>
        <div>
          <p>Here are the <strong>single-precision</strong> results.</p>
          <p>Here are the <strong>double-precision</strong> results.</p>
        </div>
        
        <div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,-51.420943326720305 62.27272727272727,-27.69386037965711 69.54545454545455,-3.650939034714497 76.81818181818181,19.466286801981795 84.0909090909091,23.91747041679065 91.36363636363637,66.43576560926536 98.63636363636363,77.50433725997993 105.9090909090909,107.9444655191201 113.18181818181819,117.30454759271637 120.45454545454545,144.90719064378044 127.72727272727273,139.10943585636494 135,167.516650250383 142.27272727272725,169.06975923275778 149.54545454545453,169.15742041415666 156.8181818181818,158.08857187183145 164.0909090909091,164.83472005520946 171.36363636363637,171.08014170071547 178.63636363636363,176.89271581069931 185.9090909090909,177.899659981818 193.18181818181816,178.42430883277606 200.45454545454547,178.23586692439426 207.72727272727272,177.05864979960532 215,174.60628269288713 222.27272727272725,174.1325021403805 229.54545454545453,174.0845596019526 236.8181818181818,174.07919690150834 244.09090909090907,174.18750389711818 251.36363636363635,174.27748586229694 258.6363636363636,174.270181051632 265.9090909090909,174.13507388045844 273.1818181818182,174.37567980264757 280.45454545454544,164.49213339380663 287.72727272727275,164.46064123406987 295,164.5877151187754" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,-83.09019904136278 62.27272727272727,-27.018051798653715 69.54545454545455,-3.314575333295096 76.81818181818181,20.227119109250992 84.0909090909091,42.9442098206045 91.36363636363637,66.96322481981153 98.63636363636363,85.30780450682511 105.9090909090909,108.21164210402664 113.18181818181819,126.85955778937863 120.45454545454545,144.5509285842076 127.72727272727273,157.87665859743663 135,160.13804657957712 142.27272727272725,148.2143955181887 149.54545454545453,160.37611170430375 156.8181818181818,158.31073377102646 164.0909090909091,159.81703684840014 171.36363636363637,167.24238928166255 178.63636363636363,170.06992103654025 185.9090909090909,170.65157230484718 193.18181818181816,170.68292005249089 200.45454545454547,169.07180902667358 207.72727272727272,165.12971535658554 215,163.8053819609051 222.27272727272725,164.1305097350422 229.54545454545453,164.12832934928701 236.8181818181818,164.1863534225633 244.09090909090907,164.27232301287685 251.36363636363635,164.39330423949343 258.6363636363636,164.13424094194323 265.9090909090909,164.378496751199 273.1818181818182,147.73986269837005 280.45454545454544,147.20188027609447 287.72727272727275,147.08692054708814 295,147.17017009483584" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
        </div>
        <p>
          This pretty much confirms my suspicion: it looks like memory-mapping
          was just not being very smart. Even if you doubled these times, you&#39;d
          still only end up with a few nanoseconds per element on average, which
          is much faster than the over twenty nanoseconds per element we were
          seeing earlier for larger arrays.
        </p>
        <h3>Linux desktop</h3>
        <div>
          <p>Here are the <strong>single-precision</strong> results.</p>
          <p>Here are the <strong>double-precision</strong> results.</p>
        </div>
        
        <div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,-61.508687928672316 62.27272727272727,-40.05108052755446 69.54545454545455,-17.09046174548618 76.81818181818181,7.203443211697191 84.0909090909091,37.90929895643106 91.36363636363637,60.96954643811969 98.63636363636363,80.8808655869245 105.9090909090909,100.31773259096066 113.18181818181819,119.87498618503832 120.45454545454545,143.84017799835107 127.72727272727273,163.77016113364584 135,169.72527642498036 142.27272727272725,171.14564001945303 149.54545454545453,171.2305770895246 156.8181818181818,178.99515153728572 164.0909090909091,167.5128038924651 171.36363636363637,171.9907081172364 178.63636363636363,172.82156060166545 185.9090909090909,174.31336273292152 193.18181818181816,174.27884973944603 200.45454545454547,174.97299279237114 207.72727272727272,174.86431795105221 215,174.9456691222986 222.27272727272725,175.1670114068485 229.54545454545453,176.13709219222818 236.8181818181818,176.92021680138166 244.09090909090907,177.5971466006899 251.36363636363635,177.56388809807905 258.6363636363636,177.97544127039677 265.9090909090909,177.5466500276742 273.1818181818182,175.83956449455602 280.45454545454544,118.30289261253714 287.72727272727275,124.18130552443391 295,120.5649811423784" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
          <div>
            <p>
              <svg viewBox="0 0 300 250" height="250">
                <text x="0" y="110" fill="white" text-anchor="middle" dominant-baseline="hanging" transform="rotate(-90 0 110)">
                  time per element
                </text>
                <text x="50" y="186.47058823529412" fill="white" text-anchor="end" dominant-baseline="central">
                  1ns
                </text>
                <text x="50" y="162.94117647058823" fill="white" text-anchor="end" dominant-baseline="central">
                  2ns
                </text>
                <text x="50" y="139.41176470588238" fill="white" text-anchor="end" dominant-baseline="central">
                  4ns
                </text>
                <text x="50" y="115.88235294117648" fill="white" text-anchor="end" dominant-baseline="central">
                  8ns
                </text>
                <text x="50" y="92.35294117647058" fill="white" text-anchor="end" dominant-baseline="central">
                  16ns
                </text>
                <text x="50" y="68.82352941176472" fill="white" text-anchor="end" dominant-baseline="central">
                  32ns
                </text>
                <text x="50" y="45.29411764705884" fill="white" text-anchor="end" dominant-baseline="central">
                  64ns
                </text>
                <text x="50" y="21.764705882352956" fill="white" text-anchor="end" dominant-baseline="central">
                  128ns
                </text>
                <line x1="62.27272727272727" y1="10" x2="62.27272727272727" y2="210" stroke="#444"></line>
                <line x1="69.54545454545455" y1="10" x2="69.54545454545455" y2="210" stroke="#444"></line>
                <line x1="76.81818181818181" y1="10" x2="76.81818181818181" y2="210" stroke="#444"></line>
                <line x1="84.0909090909091" y1="10" x2="84.0909090909091" y2="210" stroke="#444"></line>
                <line x1="91.36363636363637" y1="10" x2="91.36363636363637" y2="210" stroke="#444"></line>
                <line x1="98.63636363636363" y1="10" x2="98.63636363636363" y2="210" stroke="#444"></line>
                <line x1="105.9090909090909" y1="10" x2="105.9090909090909" y2="210" stroke="#444"></line>
                <line x1="113.18181818181819" y1="10" x2="113.18181818181819" y2="210" stroke="#444"></line>
                <line x1="120.45454545454545" y1="10" x2="120.45454545454545" y2="210" stroke="#444"></line>
                <line x1="127.72727272727273" y1="10" x2="127.72727272727273" y2="210" stroke="#444"></line>
                <line x1="135" y1="10" x2="135" y2="210" stroke="#444"></line>
                <line x1="142.27272727272725" y1="10" x2="142.27272727272725" y2="210" stroke="#444"></line>
                <line x1="149.54545454545453" y1="10" x2="149.54545454545453" y2="210" stroke="#444"></line>
                <line x1="156.8181818181818" y1="10" x2="156.8181818181818" y2="210" stroke="#444"></line>
                <line x1="164.0909090909091" y1="10" x2="164.0909090909091" y2="210" stroke="#444"></line>
                <line x1="171.36363636363637" y1="10" x2="171.36363636363637" y2="210" stroke="#444"></line>
                <line x1="178.63636363636363" y1="10" x2="178.63636363636363" y2="210" stroke="#444"></line>
                <line x1="185.9090909090909" y1="10" x2="185.9090909090909" y2="210" stroke="#444"></line>
                <line x1="193.18181818181816" y1="10" x2="193.18181818181816" y2="210" stroke="#444"></line>
                <line x1="200.45454545454547" y1="10" x2="200.45454545454547" y2="210" stroke="#444"></line>
                <line x1="207.72727272727272" y1="10" x2="207.72727272727272" y2="210" stroke="#444"></line>
                <line x1="215" y1="10" x2="215" y2="210" stroke="#444"></line>
                <line x1="222.27272727272725" y1="10" x2="222.27272727272725" y2="210" stroke="#444"></line>
                <line x1="229.54545454545453" y1="10" x2="229.54545454545453" y2="210" stroke="#444"></line>
                <line x1="236.8181818181818" y1="10" x2="236.8181818181818" y2="210" stroke="#444"></line>
                <line x1="244.09090909090907" y1="10" x2="244.09090909090907" y2="210" stroke="#444"></line>
                <line x1="251.36363636363635" y1="10" x2="251.36363636363635" y2="210" stroke="#444"></line>
                <line x1="258.6363636363636" y1="10" x2="258.6363636363636" y2="210" stroke="#444"></line>
                <line x1="265.9090909090909" y1="10" x2="265.9090909090909" y2="210" stroke="#444"></line>
                <line x1="273.1818181818182" y1="10" x2="273.1818181818182" y2="210" stroke="#444"></line>
                <line x1="280.45454545454544" y1="10" x2="280.45454545454544" y2="210" stroke="#444"></line>
                <line x1="287.72727272727275" y1="10" x2="287.72727272727275" y2="210" stroke="#444"></line>
                <line x1="55" y1="186.47058823529412" x2="295" y2="186.47058823529412" stroke="#444"></line>
                <line x1="55" y1="162.94117647058823" x2="295" y2="162.94117647058823" stroke="#444"></line>
                <line x1="55" y1="139.41176470588238" x2="295" y2="139.41176470588238" stroke="#444"></line>
                <line x1="55" y1="115.88235294117648" x2="295" y2="115.88235294117648" stroke="#444"></line>
                <line x1="55" y1="92.35294117647058" x2="295" y2="92.35294117647058" stroke="#444"></line>
                <line x1="55" y1="68.82352941176472" x2="295" y2="68.82352941176472" stroke="#444"></line>
                <line x1="55" y1="45.29411764705884" x2="295" y2="45.29411764705884" stroke="#444"></line>
                <line x1="55" y1="21.764705882352956" x2="295" y2="21.764705882352956" stroke="#444"></line>
                <polyline points="" fill="none" stroke="hsl(42 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <polyline points="55,-63.62426589248713 62.27272727272727,-40.50899240986166 69.54545454545455,-16.783032989249733 76.81818181818181,14.56215995950322 84.0909090909091,37.94578426630093 91.36363636363637,60.84309890416961 98.63636363636363,81.89095019507724 105.9090909090909,82.31802209676164 113.18181818181819,110.20622733045784 120.45454545454545,146.87261200128515 127.72727272727273,160.36444991750514 135,156.2454032286759 142.27272727272725,158.64932105592428 149.54545454545453,161.3469607328844 156.8181818181818,167.074226153214 164.0909090909091,160.39904026400774 171.36363636363637,156.60596396660947 178.63636363636363,159.88354686938447 185.9090909090909,160.53023932869712 193.18181818181816,161.0516139660719 200.45454545454547,161.07563636749853 207.72727272727272,160.99561537113482 215,161.23878628010326 222.27272727272725,162.38024527797856 229.54545454545453,162.2026278508622 236.8181818181818,164.08617880112774 244.09090909090907,164.29654900269253 251.36363636363635,164.2263581516347 258.6363636363636,164.24145630066045 265.9090909090909,94.65115763703415 273.1818181818182,94.70839747485452 280.45454545454544,94.6997219296302 287.72727272727275,94.7084851371801 295,94.35848499027192" fill="none" stroke="hsl(222 100% 75%)" stroke-width="2" stroke-linejoin="round"></polyline>
                <text x="127.4784311611788" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1K
                </text>
                <text x="199.9568623223576" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1M
                </text>
                <text x="272.43529348353644" y="215" fill="white" text-anchor="middle" dominant-baseline="hanging">
                  1B
                </text>
                <text x="175" y="245" fill="white" text-anchor="middle" dominant-baseline="text-bottom">
                  number of elements
                </text>
                <polyline points="55,10 55,210 295,210" fill="none" stroke="white" stroke-width="2"></polyline>
              </svg>
            </p>
          </div>
        </div>
        <p>
          A very different story on Linux! These numbers actually look pretty
          comparable to what we were seeing earlier, especially once you double
          them to account for the fact that here we only need to read one file
          instead of two. My best guess is that the SSD I have for my Linux
          machine has lower bandwidth than my MacBook SSD, but the Linux
          operating system handles memory-mapped files more intelligently than
          macOS does. Hard to say for sure without trying the same experiment
          with different operating systems on the same hardware, though.
        </p>
        <h2>Conclusion</h2>
        <p>
          And there you have it! Here are the answers we learned for the
          questions posed at the start of the post:
        </p>
        <ol>
          <li>
            Summing numbers is fairly memory-bound, so there&#39;s basically no
            difference for arrays smaller than a million elements (the size of a
            typical L3 cache). On my Linux machine, though, there doesn&#39;t seem
            to be a direct correspondence between this cutoff point and the
            actual L3 cache size.
          </li>
          <li>
            In first-to-last order, the average time per element levels out to
            about a nanosecond on my MacBook, or about half a nanosecond on my
            Linux desktop.
          </li>
          <li>
            For arrays too big for the L3 cache but under about a gigabyte,
            random order is about 4x slower on my MacBook, and about 8-16x
            slower on my Linux desktop.
          </li>
          <li>
            On Linux, random order starts getting even slower for arrays over a
            gigabyte, becoming more than 50x slower than first-to-last order; in
            contrast, random order on the MacBook seems to just level out as
            long as everything fits in RAM.
          </li>
          <li>
            Fisher-Yates is way too slow for data too big to fit in memory! Use
            a two-pass shuffle instead.
          </li>
          <li>
            Memory-mapped files are not magic: for data too big to fit in RAM,
            first-to-last order finally gets slower, by about 20x. After this
            point, random order still seems to be slower on Linux, but seems
            about the same speed as first-to-last order on the MacBook.
          </li>
          <li>
            Interestingly, while that effect stays when switching to a more
            direct approach on Linux, it seems to magically go away on macOS;
            perhaps due to a difference in how the two OSes handle memory-mapped
            files?
          </li>
        </ol>
        <p>Let me know if I got anything wrong! And I hope you enjoyed.</p>
      </div></div>
  </body>
</html>
