<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.alisoneroman.com/recipes/osso-buco-ragu/">Original</a>
    <h1>Osso Buco Ragu</h1>
    
    <div id="readability-page-1" class="page"><section>
            <!-- buttondown-editor-mode: plaintext -->
<p>Dependabot is a noise machine. It makes you feel like you’re doing work, but you’re actually discouraging more useful work. This is <em>especially</em> true for security alerts in the Go ecosystem.</p>
<p>I recommend turning it off and replacing it with a pair of scheduled GitHub Actions, one running govulncheck, and the other running your test suite against the latest version of your dependencies.</p>
<h2 id="a-little-case-study">A little case study</h2>
<p>On Tuesday, I <a href="https://github.com/FiloSottile/edwards25519/security/advisories/GHSA-fw7p-63qq-7hpr">published a security fix</a> for <a href="https://filippo.io/edwards25519">filippo.io/edwards25519</a>. The <code>(*Point).MultiScalarMult</code> method would produce invalid results if the receiver was not the identity point.</p>
<p>A lot of the Go ecosystem depends on filippo.io/edwards25519, mostly through <a href="https://github.com/go-sql-driver/mysql">github.com/go-sql-driver/mysql</a> (228k dependents only on GitHub). <a href="https://github.com/search?q=%22filippo.io%2Fedwards25519%22+%2F%5C.MultiScalarMult%2F+language%3AGo+-path%3A*_test.go&amp;type=code">Essentially no one uses <code>(*Point).MultiScalarMult</code>.</a></p>
<p>Yesterday, Dependabot opened <a href="https://github.com/search?q=%22d1c650a+extra%3A+initialize+receiver+in+MultiScalarMult%22&amp;type=pullrequests">thousands of PRs</a> against unaffected repositories to update filippo.io/edwards25519. These PRs were accompanied by a security alert with <a href="https://github.com/advisories/GHSA-fw7p-63qq-7hpr">a nonsensical, made up CVSS v4 score</a> and by a worrying <a href="https://github.com/C2SP/wycheproof/pull/220">73% compatibility score</a>, allegedly based on the breakage the update is causing in the ecosystem. Note that the diff between v1.1.0 and v1.1.1 is <a href="https://github.com/FiloSottile/edwards25519/compare/v1.1.0...v1.1.1#diff-0d9d6ab39182b0d5344623ba5d70c2db0e05607b28b9f77067a7120d1ccdeb49">one line in the method no one uses</a>.</p>
<p><img alt="the Dependabot alert" src="https://assets.buttondown.email/images/e10daca1-9504-4b3e-bbf5-71b3262b55a1.png?w=960&amp;fit=max"/></p>
<p>We even got <a href="https://github.com/C2SP/wycheproof/pull/220">one of these alerts</a> for the Wycheproof repository, which <em>does not import the affected filippo.io/edwards25519 package at all</em>. Instead, it only imports the unaffected filippo.io/edwards25519/field package.</p>
<pre><code>$ go mod why -m filippo.io/edwards25519
# filippo.io/edwards25519
github.com/c2sp/wycheproof/tools/twistcheck
filippo.io/edwards25519/field
</code></pre>
<p>We have turned Dependabot off.</p>
<h2 id="use-a-serious-vulnerability-scanner-instead">Use a serious vulnerability scanner instead</h2>
<p>But isn’t this toil unavoidable, to prevent attackers from exploiting old vulnerabilities in your dependencies? Absolutely not!</p>
<p>Computers are perfectly capable of doing the work of filtering out these irrelevant alerts for you. The <a href="https://go.dev/doc/security/vuln/">Go Vulnerability Database</a> has rich version, package, <em>and symbol</em> metadata for all Go vulnerabilities.</p>
<p>Here’s <a href="https://pkg.go.dev/vuln/GO-2026-4503">the entry for the filippo.io/edwards25519 vulnerability</a>, also available in <a href="https://vuln.go.dev/ID/GO-2026-4503.json">standard OSV format</a>.</p>
<pre><code>modules:
    - module: filippo.io/edwards25519
      versions:
        - fixed: 1.1.1
      vulnerable_at: 1.1.0
      packages:
        - package: filippo.io/edwards25519
          symbols:
            - Point.MultiScalarMult
summary: Invalid result or undefined behavior in filippo.io/edwards25519
description: |-
    Previously, if MultiScalarMult was invoked on an
    initialized point who was not the identity point, MultiScalarMult
    produced an incorrect result. If called on an
    uninitialized point, MultiScalarMult exhibited undefined behavior.
cves:
    - CVE-2026-26958
credits:
    - shaharcohen1
    - WeebDataHoarder
references:
    - advisory: https://github.com/FiloSottile/edwards25519/security/advisories/GHSA-fw7p-63qq-7hpr
    - fix: https://github.com/FiloSottile/edwards25519/commit/d1c650afb95fad0742b98d95f2eb2cf031393abb
source:
    id: go-security-team
    created: 2026-02-17T14:45:04.271552-05:00
review_status: REVIEWED
</code></pre>
<p>Any decent vulnerability scanner will <em>at the very least</em> filter based on the package, which requires a simple <code>go list -deps ./...</code>. This already silences a lot of noise, because it’s common and good practice for modules to separate functionality relevant to different dependents into different sub-packages.<sup id="fnref:pkgdeps"><a href="#fn:pkgdeps">1</a></sup> For example, it would have avoided the false alert against the Wycheproof repository.</p>
<p>If you use a third-party vulnerability scanner, you should demand at least package-level filtering.</p>
<p><em>Good</em> vulnerability scanners will go further, though, and filter based on the reachability of the vulnerable <em>symbol</em> using static analysis. That’s what <a href="https://go.dev/doc/tutorial/govulncheck">govulncheck</a> does!</p>
<pre><code>$ go mod why -m filippo.io/edwards25519
# filippo.io/edwards25519
filippo.io/sunlight/internal/ctlog
github.com/google/certificate-transparency-go/trillian/ctfe
github.com/go-sql-driver/mysql
filippo.io/edwards25519

$ govulncheck ./...
=== Symbol Results ===

No vulnerabilities found.

Your code is affected by 0 vulnerabilities.
This scan also found 1 vulnerability in packages you import and 2
vulnerabilities in modules you require, but your code doesn&#39;t appear to call
these vulnerabilities.
Use &#39;-show verbose&#39; for more details.
</code></pre>
<p>govulncheck noticed that my project indirectly depends on filippo.io/edwards25519 through github.com/go-sql-driver/mysql, which does not make the vulnerable symbol reachable, so it chose not to notify me.</p>
<p>If you want, you can tell it to show the package- and module-level matches.</p>
<pre><code>$ govulncheck -show verbose,color ./...
Fetching vulnerabilities from the database...

Checking the code against the vulnerabilities...

The package pattern matched the following 16 root packages:
  filippo.io/sunlight
  filippo.io/sunlight/internal/stdlog
  [...]
Govulncheck scanned the following 54 modules and the go1.26.0 standard library:
  filippo.io/sunlight
  crawshaw.io/sqlite@v0.3.3-0.20220618202545-d1964889ea3c
  filippo.io/bigmod@v0.0.3
  filippo.io/edwards25519@v1.1.0
  filippo.io/keygen@v0.0.0-20240718133620-7f162efbbd87
  filippo.io/torchwood@v0.8.0
  [...]

=== Symbol Results ===

No vulnerabilities found.

=== Package Results ===

Vulnerability #1: GO-2026-4503
    Invalid result or undefined behavior in filippo.io/edwards25519
  More info: https://pkg.go.dev/vuln/GO-2026-4503
  Module: filippo.io/edwards25519
    Found in: filippo.io/edwards25519@v1.1.0
    Fixed in: filippo.io/edwards25519@v1.1.1

=== Module Results ===

Vulnerability #1: GO-2025-4135
    Malformed constraint may cause denial of service in
    golang.org/x/crypto/ssh/agent
  More info: https://pkg.go.dev/vuln/GO-2025-4135
  Module: golang.org/x/crypto
    Found in: golang.org/x/crypto@v0.44.0
    Fixed in: golang.org/x/crypto@v0.45.0

Vulnerability #2: GO-2025-4134
    Unbounded memory consumption in golang.org/x/crypto/ssh
  More info: https://pkg.go.dev/vuln/GO-2025-4134
  Module: golang.org/x/crypto
    Found in: golang.org/x/crypto@v0.44.0
    Fixed in: golang.org/x/crypto@v0.45.0

Your code is affected by 0 vulnerabilities.
This scan also found 1 vulnerability in packages you import and 2
vulnerabilities in modules you require, but your code doesn&#39;t appear to call
these vulnerabilities.
</code></pre>
<p>It’s easy to integrate govulncheck into your processes or scanners, either using the <code>govulncheck -json</code> CLI or the <a href="https://pkg.go.dev/golang.org/x/vuln/scan">golang.org/x/vuln/scan</a> Go API.</p>
<h3 id="replace-dependabot-with-a-govulncheck-github-action">Replace Dependabot with a govulncheck GitHub Action</h3>
<p>You can replace Dependabot security alerts with this GitHub Action.</p>
<pre><code>name: govulncheck
on:
  push:
  pull_request:
  schedule: # daily at 10:22 UTC
    - cron: &#39;22 10 * * *&#39;
  workflow_dispatch:
permissions:
  contents: read
jobs:
  govulncheck:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v5
        with:
          persist-credentials: false
      - uses: actions/setup-go@v6
        with:
          go-version-file: go.mod
      - run: |
          go run golang.org/x/vuln/cmd/govulncheck@latest ./...
</code></pre>
<p>It will run every day and only notify you if there is an actual vulnerability you should pay attention to.</p>
<h3 id="the-cost-of-alert-fatigue">The cost of alert fatigue</h3>
<p>False positive alerts are not only a waste of time, they also reduce security by causing alert fatigue and making proper triage impractical.</p>
<p>A security vulnerability should be assessed for its impact: production might need to be updated, secrets rotated, users notified! A business-as-usual dependency bump is a woefully insufficient remediation for an actual vulnerability, but it’s the only practical response to the constant stream of low-value Dependabot alerts.</p>
<p>This is why as Go Security Team lead back in 2020–2021 I insisted the team invest in staffing the Go Vulnerability Database and implement a vulnerability scanner with static analysis filtering.</p>
<p>The govulncheck Action will not automatically open a PR for you, and that’s a good thing! Now that security alerts are not mostly noise, you can afford to actually look at them and take them seriously, including any required remediation.</p>
<p>Noisy vulnerability scanners also impact the open source ecosystem. I often get issues and PRs demanding I update the dependencies of my projects due to vulnerabilities that don’t affect them, because someone’s scanner is failing to filter them. That’s extra toil dropped at the feet of open source maintainers, which is unsustainable. The maintainer’s <a href="https://geomys.org/standard-of-care">responsibility</a> is making sure projects are not affected by security vulnerabilities. The responsibility of scanning tools is making sure they don’t disturb their users with false positives.</p>
<h2 id="test-against-latest-instead-of-updating">Test against latest instead of updating</h2>
<p>The other purpose of Dependabot is to keep dependencies up to date, regardless of security vulnerabilities. Your practices and requirements will vary, but I find this misguided, too.</p>
<p>Dependencies should be updated according to <em>your</em> development cycle, not the cycle of each of your dependencies. For example you might want to update dependencies all at once when you begin a release development cycle, as opposed to when each dependency completes theirs.</p>
<p>There are two benefits to quick updates, though: first, you can notice and report (or fix) breakage more rapidly, instead of being stalled by an incompatibility that could have been addressed a year prior; second, you reduce your patch delta <em>in case</em> you need to update due to a security vulnerability, reducing the risk of having to rush through a refactor or unrelated fixes.</p>
<p>You can capture both of those benefits without actually updating the dependencies by simply running CI against the latest versions of your dependencies every day. You just need to run <code>go get -u -t ./...</code> before your test suite. In the npm ecosystem, you just run <code>npm update</code> instead of <code>npm ci</code>.</p>
<p>This way, you will still be alerted quickly of any potential issues, without having to pay attention to unproblematic updates, which you can defer to whenever fits your project best.</p>
<p>This is a lot safer, too, because malicious code recently added to a dependency will not rapidly reach users or production, but only CI. Supply chain attacks have a short half-life! You can further mitigate the risk by using a CI sandboxing mechanism like <a href="https://github.com/geomys/sandboxed-step">geomys/sandboxed-step</a>, which uses gVisor to remove <a href="https://words.filippo.io/compromise-survey/#readwrite-ci-permissions-0-root-2-contributing">the ambient authority that GitHub Actions grants every workflow, including supposedly read-only ones</a>.</p>
<pre><code>name: Go tests
on:
  push:
  pull_request:
  schedule: # daily at 10:22 UTC
    - cron: &#39;22 10 * * *&#39;
  workflow_dispatch:
permissions:
  contents: read
jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        go:
          - { go-version: stable }
          - { go-version-file: go.mod }
        deps:
          - locked
          - latest
    steps:
      - uses: actions/checkout@v5
        with:
          persist-credentials: false
      - uses: actions/setup-go@v6
        with:
          go-version: ${{ matrix.go.go-version }}
          go-version-file: ${{ matrix.go.go-version-file }}
      - uses: geomys/sandboxed-step@v1.2.1
        with:
          run: |
            if [ &#34;${{ matrix.deps }}&#34; = &#34;latest&#34; ]; then
              go get -u -t ./...
            fi
            go test -v ./...
</code></pre>
<p>For more spicy open source opinions, follow me on Bluesky at <a href="https://bsky.app/profile/filippo.abyssdomain.expert">@filippo.abyssdomain.expert</a> or on Mastodon at <a href="https://abyssdomain.expert/@filippo">@filippo@abyssdomain.expert</a>.</p>
<h2 id="the-picture">The picture</h2>
<p>The Tevere has overflowed its lower banks, so a lot of previously familiar landscapes have changed slightly, almost eerily. This is the first picture I took after being able to somewhat safely descend onto (part of) the river’s banks.</p>
<p><img alt="A tall embankment wall rises on the left, a river on the right, and a cobblestone road in the middle. Trees are partially submerged on the edge of the river. In the distance, Roman bridge ruins." src="https://assets.buttondown.email/images/9bea93bf-77e5-44cf-9ae5-ada68918cf6a.jpeg?w=960&amp;fit=max"/></p>
<p>My work is made possible by <a href="https://geomys.org">Geomys</a>, an organization of professional Go maintainers, which is funded by <a href="https://www.avalabs.org/">Ava Labs</a>, <a href="https://goteleport.com/">Teleport</a>, <a href="https://tailscale.com/">Tailscale</a>, and <a href="https://sentry.io/">Sentry</a>. Through our retainer contracts they ensure the sustainability and reliability of our open source maintenance work and get a direct line to my expertise and that of the other Geomys maintainers. (Learn more in the <a href="https://words.filippo.io/geomys">Geomys announcement</a>.)
Here are a few words from some of them!</p>
<p>Teleport — For the past five years, attacks and compromises have been shifting from traditional malware and security breaches to identifying and compromising valid user accounts and credentials with social engineering, credential theft, or phishing. <a href="https://goteleport.com/platform/identity/?utm=filippo">Teleport Identity</a> is designed to eliminate weak access patterns through access monitoring, minimize attack surface with access requests, and purge unused permissions via mandatory access reviews.</p>
<p>Ava Labs — We at <a href="https://www.avalabs.org">Ava Labs</a>, maintainer of <a href="https://github.com/ava-labs/avalanchego">AvalancheGo</a> (the most widely used client for interacting with the <a href="https://www.avax.network">Avalanche Network</a>), believe the sustainable maintenance and development of open source cryptographic protocols is critical to the broad adoption of blockchain technology. We are proud to support this necessary and impactful work through our ongoing sponsorship of Filippo and his team.</p>
<div>
<hr/>
<ol>
<li id="fn:pkgdeps">
<p>This also makes it possible to prune the tree of dependencies only imported by packages that are not relevant to a specific dependent, which has a large security benefit. <a href="#fnref:pkgdeps" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
        </section></div>
  </body>
</html>
