<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.datadoodad.com/recurse%20center/RC17/">Original</a>
    <h1>RC17. Pascal’s Triangle in Lisp</h1>
    
    <div id="readability-page-1" class="page"><div>
      
        <header>
          
          

  <p>
    
      
      <span>
        <i aria-hidden="true"></i>
        
        <time datetime="2023-06-07T00:00:00-07:00">June 7, 2023</time>
      </span>
    

    <span></span>

    
      
      

      <span>
        <i aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section itemprop="text">
        

        
        <p><i>Daily dispatches from my 12 weeks at the Recurse Center in Summer 2023
</i></p>
        
        <p>I was stumped on implementing a procedure that computes a given element in Pascal’s triangle using Lisp but finally figured it out thanks to a little help from a mathematician.</p>

<p>Here’s Pascal’s triangle:</p>

<div><div><pre><code>        1

      1   1

    1   2   1 

  1   3   3   1

1   4   6   4   1

etc.
</code></pre></div></div>

<p>The pattern is simple enough: each number is the sum of the two numbers above it. But how to implement this simply? What was stumping me was sorting out how to retain a given row so that the following row could be, somehow, computed from it.</p>

<p>Turns out it’s a lot simpler than this.</p>

<p>First of all, let’s redraw the triangle in terms of each value’s row and column number:</p>

<div><div><pre><code>                       1
                    (0, 0)
                    
                  1         1
               (1, 0)    (1, 1)
             
             1         2         1
          (2, 0)    (2, 1)    (2, 2)
       
        1         3         3         1
     (3, 0)    (3, 1)    (3, 2)    (3, 3)
     
   1         4         6         4         1
(4, 0)    (4, 1)    (4, 2)    (4, 3)    (4, 4)
</code></pre></div></div>

<p>Thanks to this new format, we can make a few important observations about the pattern:
seeing the pyramid in this format, Here are three observations that we can now thanks to the following observations about the pattern.</p>
<ul>
  <li>If the column is 0, then the value is 1 (that’s the left-hand edge of the triangle)</li>
  <li>If the column is equal to the current row, then the value is also 1 (that’s the right-hand edge of the triangle)</li>
  <li>Otherwise, we need to compute the current value from the numbers above, which is to say from the previous row (<code>row - 1</code>). And here there’s another pattern, since the two numbers directly above are at columns <code>col - 1</code> and <code>col</code>.</li>
</ul>

<p>At that point, implementing this suddenly becomes straightforward, since we have our base cases (<code>col = 0</code> and <code>col = row</code>, in which case the resulting value is 1) and we have our recursive case.</p>

<p>Here’s how it would look:</p>

<div><div><pre><code><span>(</span><span>define</span> <span>(</span><span>pascal</span> <span>row</span> <span>col</span><span>)</span>
    <span>((</span><span>cond</span><span>)</span>
        <span>(</span><span>=</span> <span>col</span> <span>0</span><span>)</span> <span>1</span>         <span>; base case 1: left edge of triangle</span>
        <span>(</span><span>=</span> <span>col</span> <span>row</span><span>)</span> <span>1</span>       <span>; base case 2: right edge of triangle</span>
        <span>(</span><span>else</span>               <span>; recursive case: sum left and right parent</span>
            <span>(</span><span>+</span> <span>(</span><span>pascal</span> <span>(</span><span>-</span> <span>row</span> <span>1</span><span>)</span> <span>(</span><span>-</span> <span>col</span> <span>1</span><span>))</span> 
               <span>(</span><span>pascal</span> <span>(</span><span>-</span> <span>row</span> <span>1</span><span>)</span> <span>col</span><span>))))</span>
</code></pre></div></div>

<p>Thus is we call, for instance:</p>



<p>we will get</p>





<ul>
  <li>Continued yesterday’s brain melt pairing on some leetcode stumpers</li>
  <li>Drew out a bunch of program counter schematics</li>
  <li>Weekly nand2tetris meeting</li>
  <li>Quick pairing session to sort out the above procedure</li>
</ul>



          

        

        
      </section>

      

      

      
  

    </div></div>
  </body>
</html>
