<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/NyuB/ocli">Original</a>
    <h1>Show HN: I made a git rebase TUI editor</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/NyuB/ocli/actions/workflows/ci.yml/badge.svg"><img src="https://github.com/NyuB/ocli/actions/workflows/ci.yml/badge.svg" alt="ci status badge"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/ca427f381d8c9d3a952536916708874f7db5768fa39af7b879cf9f823f6d7dac/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6d6d6974732d73696e63652f4e7975422f6f636c692f6c61746573742f6d61696e"><img src="https://camo.githubusercontent.com/ca427f381d8c9d3a952536916708874f7db5768fa39af7b879cf9f823f6d7dac/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6d6d6974732d73696e63652f4e7975422f6f636c692f6c61746573742f6d61696e" alt="commits since last release" data-canonical-src="https://img.shields.io/github/commits-since/NyuB/ocli/latest/main"/></a></p>


<ul dir="auto">
<li>
<p dir="auto"><a href="https://theleo.zone/NyuB/ocli/blob/main/demo/demo_main.ml">demo_tty</a>, a sample of all implemented ansi features and a quick way to visually check the behaviour of the framework on a given terminal.
<a target="_blank" rel="noopener noreferrer" href="https://theleo.zone/NyuB/ocli/blob/main/docs/tty.gif"><img src="https://theleo.zone/NyuB/ocli/raw/main/docs/tty.gif" alt="tty demo gif" data-animated-image=""/></a></p>
</li>
<li>
<p dir="auto"><a href="https://theleo.zone/NyuB/ocli/blob/main/demo/demo_boiling.ml">demo_boiling</a>, ongoing sandbox on ascii animation
<a target="_blank" rel="noopener noreferrer" href="https://theleo.zone/NyuB/ocli/blob/main/docs/boiling.gif"><img src="https://theleo.zone/NyuB/ocli/raw/main/docs/boiling.gif" alt="boiling demo gif" data-animated-image=""/></a></p>
</li>
</ul>

<p dir="auto"><a href="https://theleo.zone/NyuB/ocli/blob/main/rebase/rebase_edit.ml">rebase_edit</a>, an interactive git rebase editor, and it&#39;s associated <a href="https://theleo.zone/NyuB/ocli/blob/main/rebase/newbase.t/newbase">newbase</a> script, intended as a drop-in replacement for <code>git rebase -i</code>
<a target="_blank" rel="noopener noreferrer" href="https://theleo.zone/NyuB/ocli/blob/main/docs/newbase.gif"><img src="https://theleo.zone/NyuB/ocli/raw/main/docs/newbase.gif" alt="rebase demo gif" data-animated-image=""/></a>
You can browse the usage guide <a href="https://theleo.zone/NyuB/ocli/blob/main/rebase/usage.md">here</a></p>
<p dir="auto">To get <code>rebase_edit</code> and <code>newbase</code>, you can <a href="#install-newbase-from-source">install them from source</a> or get them from the <a href="https://github.com/NyuB/ocli/releases/latest/">github release</a>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ wget https://github.com/NyuB/ocli/releases/latest/download/newbase
$ wget https://github.com/NyuB/ocli/releases/latest/download/rebase_edit
$ chmod +x newbase rebase_edit
$ # Supposing ~/bin is in your PATH, replace with the desired installation root
$ mv newbase ~/bin/ 
$ mv rebase_edit ~/bin/"><pre>$ <span>wget https://github.com/NyuB/ocli/releases/latest/download/newbase</span>
$ <span>wget https://github.com/NyuB/ocli/releases/latest/download/rebase_edit</span>
$ <span>chmod +x newbase rebase_edit</span>
$ <span><span><span>#</span> Supposing ~/bin is in your PATH, replace with the desired installation root</span></span>
$ <span>mv newbase <span>~</span>/bin/ </span>
$ <span>mv rebase_edit <span>~</span>/bin/</span></pre></div>

<ul dir="auto">
<li><a href="https://theleo.zone/NyuB/ocli/blob/main/tea/tea.mli">tea</a>, Elm-inspired application structure</li>
<li><a href="https://theleo.zone/NyuB/ocli/blob/main/tty/tty.mli">tty</a>
<ul dir="auto">
<li>Wrappers around OCaml Stdlib termios functions</li>
<li>Wrappers around ANSI terminal control sequences</li>
<li><a href="https://theleo.zone/NyuB/ocli/blob/main/tty/components.mli">components</a>, composable ansi widgets</li>
</ul>
</li>
</ul>

<ul dir="auto">
<li><a href="https://theleo.zone/NyuB/ocli/blob/main/ppx_cross_match/ppx_cross_match.ml">ppx_cross_match</a>, a ppx to generate a sinle pattern from the cardinal_product of pattern tuples</li>
<li><a href="https://theleo.zone/NyuB/ocli/blob/main/qol/qol.ml">qol</a> various quality-of-life helpers</li>
</ul>


<ul dir="auto">
<li>Linux</li>
<li>opam</li>
<li>terminal with termios support</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="opam install . --deps-only --with-test
dune build"><pre>opam install <span>.</span> --deps-only --with-test
dune build</pre></div>


<p dir="auto"><strong>NB:</strong> the demo includes indications to check if it is behaving correctly on your terminal</p>

<p dir="auto">Run the tests:</p>

<p dir="auto">Update acceptance tests with the current outputs:</p>

<div dir="auto"><h3 tabindex="-1" dir="auto">Install newbase from source</h3><a id="user-content-install-newbase-from-source" aria-label="Permalink: Install newbase from source" href="#install-newbase-from-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://theleo.zone/NyuB/ocli/blob/main/rebase">rebase</a> provides two binaries:</p>
<ul dir="auto">
<li><a href="https://theleo.zone/NyuB/ocli/blob/main/rebase/rebase_edit.ml">rebase_edit</a> is the interactive rebase editor, meant to be called by git with the rebase file.</li>
<li><a href="https://theleo.zone/NyuB/ocli/blob/main/rebase/newbase.t/newbase">newbase</a> is a bash wrapper around <code>git rebase</code>. Its main purpose is to point git to rebase_edit as rebase editor along few other convenience features.</li>
</ul>

<p dir="auto">Installation root can be chosen with the INSTALL_ROOT variable (defaults to <code>$HOME/bin</code>). <code>rebase_edit</code> and <code>newbase</code> will be placed at <code>${INSTALL_ROOT}/rebase_edit</code> and <code>${INSTALL_ROOT}/newbase</code></p>
<div data-snippet-clipboard-copy-content="make install-newbase INSTALL_ROOT=/somewhere/in/your/path"><pre><code>make install-newbase INSTALL_ROOT=/somewhere/in/your/path
</code></pre></div>
</article></div></div>
  </body>
</html>
