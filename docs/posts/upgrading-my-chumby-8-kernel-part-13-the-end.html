<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.downtowndougbrown.com/2024/08/upgrading-my-chumby-8-kernel-part-13-the-end/">Original</a>
    <h1>Upgrading my Chumby 8 kernel part 13: the end</h1>
    
    <div id="readability-page-1" class="page"><div>
				
<p>This is the final post in my blog series about getting my Chumby 8 from 2011 working on a modern 6.x Linux kernel, as opposed to the stock 2.6.28 kernel it came with. Here are links to all of the previous articles where I went into detail about the various obstacles I had to overcome: <a href="https://www.downtowndougbrown.com/2022/12/upgrading-my-old-chumby-8-linux-kernel-part-1-u-boot/" data-type="post" data-id="2063" target="_blank" rel="noreferrer noopener">1</a>, <a href="https://www.downtowndougbrown.com/2022/12/upgrading-my-chumby-8-kernel-part-2-initial-linux-boot/" data-type="post" data-id="2200" target="_blank" rel="noreferrer noopener">2</a>, <a href="https://www.downtowndougbrown.com/2023/01/upgrading-my-chumby-8-kernel-part-3-wi-fi/" data-type="post" data-id="2265" target="_blank" rel="noreferrer noopener">3</a>, <a href="https://www.downtowndougbrown.com/2023/03/upgrading-my-chumby-8-kernel-part-4-reboot-poweroff/" data-type="post" data-id="2751" target="_blank" rel="noreferrer noopener">4</a>, <a href="https://www.downtowndougbrown.com/2023/06/upgrading-my-chumby-8-kernel-part-5-graphics/" data-type="post" data-id="3156" target="_blank" rel="noreferrer noopener">5</a>, <a href="https://www.downtowndougbrown.com/2023/08/upgrading-my-chumby-8-kernel-part-6-pwm-backlight/" data-type="post" data-id="3360" target="_blank" rel="noreferrer noopener">6</a>, <a href="https://www.downtowndougbrown.com/2023/11/upgrading-my-chumby-8-kernel-part-7-touchscreen/" data-type="post" data-id="3564" target="_blank" rel="noreferrer noopener">7</a>, <a href="https://www.downtowndougbrown.com/2024/04/upgrading-my-chumby-8-kernel-part-8-audio/" data-type="post" data-id="4911" target="_blank" rel="noreferrer noopener">8</a>, <a href="https://www.downtowndougbrown.com/2024/04/why-is-my-cpu-usage-always-100-upgrading-my-chumby-8-kernel-part-9/" data-type="post" data-id="5170" target="_blank" rel="noreferrer noopener">9</a>, <a href="https://www.downtowndougbrown.com/2024/06/upgrading-my-chumby-8-kernel-part-10-rtc/" data-type="post" data-id="5375" target="_blank" rel="noreferrer noopener">10</a>, <a href="https://www.downtowndougbrown.com/2024/06/upgrading-my-chumby-8-kernel-part-11-sd-cf-card-reader/" data-type="post" data-id="5810" target="_blank" rel="noreferrer noopener">11</a>, and <a href="https://www.downtowndougbrown.com/2024/07/upgrading-my-chumby-8-kernel-part-12-uart-woes/" data-type="post" data-id="5925" target="_blank" rel="noreferrer noopener">12</a>. I guess we’ll finish it off with lucky number 13.</p>



<p>It has been over two years since that fateful day when I started trying to get a newer U-Boot working on my Chumby to kick off this whole process! I haven’t been working nonstop on the Chumby this whole time though. I completed most of my work on this project by early 2023, and since then I’ve just been trying to catch up on writing these posts and also fixing little issues as they’ve come up. It’ll probably never be fully completed though. I will likely run into various problems in the future as new kernel versions come out and things inevitably break.</p>



<p>I’m not going to cover U-Boot as part of this. If you’re curious about that, check out the first post in the series. Most of the work I did was in Linux. Let’s start by looking at everything I accomplished in the kernel, grouped by subsystem. We’ll see the commits that are in the mainline kernel versus the commits that I haven’t submitted upstream for whatever reason. I’m also linking to all of the original patches on <a href="https://lore.kernel.org/" target="_blank" rel="noreferrer noopener">lore.kernel.org</a> in case you want to see the related code review and discussion.</p>



<h3>clk</h3>



<p>Mainlined commits (series <a href="https://lore.kernel.org/all/20220612192937.162952-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>):</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a5ff3d8c85ab3c5677e2b4bba3cc1f0068063e5d" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: add additional register defines</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a77a1e2f1b00ec3385523283b8fcbd56ed166797" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: fix incorrect dividers</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=260d2f347b765422584a5fa5209b8ecd17d773b4" target="_blank" rel="noreferrer noopener">dt-bindings: marvell,pxa168: add clock ids for additional dividers</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ac1d62c948d063ec99b3b23d02af8260bba4660c" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: add new clocks for peripherals</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e2fd64dd472bea0da332da0cc8e8946d2d3294c4" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: fix const-correctness</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=30c0368207b1efa3bbcafcdca0b1749a375f86e3" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: fix incorrect parent clocks</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7fad6b755fcb5fd4fe9127662cf41eb84d02fdb8" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: add muxes for more peripherals</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=d4161f7e7358eb3f20e6b82fa2ace19712ea5e6e" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: fix GPIO clock enable bits</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ca41820b9d569d92162ee470610564ec6bc5012c" target="_blank" rel="noreferrer noopener">dt-bindings: marvell,pxa168: add clock id for SDH3</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=69ec86917c00b035b56e86d6a453940943f975da" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: add clocks for SDH2 and SDH3</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=238e73edcea557b1aef35113cf4333b41ebe35d9" target="_blank" rel="noreferrer noopener">dt-bindings: marvell,pxa168: add clock ids for SDH AXI clocks</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e11a47f52098dc88d82c2a22f165ac9f4f7a5997" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: control shared SDH bits with separate clock</a></li>
</ul>



<p>Commits only in my branch:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/281df5a9f9d9b5b03311df4f5a59c99c2a796b4a" target="_blank" rel="noreferrer noopener">Control reset bits of SSP clock register</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/6c57adfeb9020f1280c0a5ad7b5040a8758e674a" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: only control functional bit on PWM peripherals</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/9a91f4125da58b5c69ac1f237cb16abc75572490" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: fix TWSI mux bits</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/e6fa920d6033221041b9ff7f803b2f83619fb9c0" target="_blank" rel="noreferrer noopener">clk: mmp: pxa168: add basic clock for GC300 GPU</a></li>
</ul>



<p>I might have gone overboard making a bunch of tiny commits in the stuff that I submitted upstream, but basically I added several missing clocks and fixed a few mistakes. This was needed pretty early on because I couldn’t set up the peripherals if I couldn’t hook up their clocks in the device tree. The SDHCI controller clocks in particular were a pain to deal with because each pair of controllers has some shared bits that weren’t represented correctly in the existing code at all.</p>



<p>The SSP and TWSI commits haven’t been upstreamed purely out of laziness. They are both good fixes and would likely be easily accepted. The SSP one needs to have its title fixed though. The GC300 and PWM peripherals are both a bit weird to turn on, and I’m currently handling their clock enablement in U-Boot. I’d probably need to come up with a cleaner way to handle them in Linux if I submitted them upstream.</p>



<h3>etnaviv</h3>



<p>Mainlined commits (series <a href="https://lore.kernel.org/all/20220903060558.55167-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>, <a href="https://lore.kernel.org/all/20220907024719.36478-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V2</a>, <a href="https://lore.kernel.org/all/20220910202939.31010-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V3</a>):</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=cc7d3fb446a91f24978a6aa59cbb578f92e22242" target="_blank" rel="noreferrer noopener">drm/etnaviv: add missing quirks for GC300</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=61a6920bb604df3a0e389a2a9479e1e233e4461d" target="_blank" rel="noreferrer noopener">drm/etnaviv: fix power register offset on GC300</a></li>
</ul>



<p>This was all I needed to do in the kernel in order to get the GC300 2D GPU working. It simply entailed porting over some quirks found in the original Vivante driver which hadn’t made their way to the open-source etnaviv driver. Of course, there was a bunch of userspace work involved too.</p>



<h3>ASoC</h3>



<p>Mainlined commits (series <a href="https://lore.kernel.org/all/20221001200039.21049-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>, <a href="https://lore.kernel.org/all/20221003032414.248326-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V2</a>):</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b9b0d88d87e5565e8d12bcf22ec601e8b4658dc6" target="_blank" rel="noreferrer noopener">ASoC: dt-bindings: add schema for WM8961</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c96851ee8195c820b765c6a7effcec79c81eb9c6" target="_blank" rel="noreferrer noopener">ASoC: wm8961: add support for devicetree</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=74a6a948c8fc28c8937e24178739979b3cd2ce14" target="_blank" rel="noreferrer noopener">ASoC: codecs: allow WM8961 to be selected by the user</a></li>
</ul>



<p>Commits only in my branch:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/48c923b731aad93665b26730a28219205a196e5b" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: allow use on MMP arch</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/aede2443993063bfe1fbb5a29b4d9bfe91ad6f03" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: setup DMA data in probe</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/16c7c10e3dc825a4d6bc8827822d0a9898efd19c" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: fix minor spacing/tabbing issue</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/792aa525feb3415ca8cc6df8259a402843f82470" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: use 32-bit transfers for 2-channel 16-bit</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/26f906b0038c2993d9f7944a38905655c8694b3f" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: add support for LEFT_J format</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/26465a9d0d8338885e1bcca5a95fb2582e3a26b8" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: prepare for custom DAI driver structs</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/7a809886b67dd307b6566e692fe5909ca9103df0" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: add preliminary support for PXA168</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/a293268de158fbcd44cffdb1097a6c95a4a4cd9b" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: enable MCLK immediately on PXA168</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/787120bca5951e682f0c12810a1fd98a57ef9522" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: remove hw_free from PXA168</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/741312cf885a31b7012f3dbe67ebc7b5519a3ffb" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: invert LRCLK</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/a9beeeef3fd7d7d782dcb08ad1649e471d372131" target="_blank" rel="noreferrer noopener">ASoC: pxa: pxa-ssp: switch to network mode for PXA168</a></li>
</ul>



<p>If you’re not familiar with ASoC, it stands for ALSA System on Chip and has to do with audio support. The mainlined commits added support for the WM8961 codec to be used with device tree. I was worried that if I didn’t at least submit them upstream, the driver would eventually be stripped out because nothing was still using it.</p>



<p>All of the custom stuff still in my branch is the work I did to get the pxa-ssp audio driver working on the PXA16x. It started out with fixing a null pointer access bug, eventually involved porting over some unfinished work I found on old mailing list posts for PXA16x compatibility, and then concluded with a bunch of tweak commits to make it fully work.</p>



<p>Most of these commits would require significant cleanup before I would ever consider submitting them upstream. Some of the later commits are fixing mistakes I made in the earlier commits. I’m unsure if my fixes actually work correctly on other PXA architectures too. The “switch to network mode” commit is also interesting because it fixed a weird problem I ran into that caused random static noise to be played in certain situations after I had used the microphone, but this driver was intentionally switched <em>away</em> from using network mode over a decade ago. I didn’t particularly want to go any further down that rabbit hole, so these commits will likely stay in my branch forever.</p>



<h3>dma</h3>



<p>Mainlined commits (patch <a href="https://lore.kernel.org/all/20220906000709.52705-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>):</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b3d726cb8497c6b12106fd617d46eef11763ea86" target="_blank" rel="noreferrer noopener">dmaengine: pxa_dma: use platform_get_irq_optional</a></li>
</ul>



<p>Amazingly enough, this is the only change I made to DMA stuff. The DMA just worked out of the box. I didn’t really need to make this change; it just inhibited a bunch of annoying warnings during the boot process.</p>



<p>I did make a silly mistake in this patch and forgot to add a closing “)” at the end of my Fixes: tag, which made it through to linux-next before being spotted. Luckily <a href="https://lore.kernel.org/all/Y2nmDQYfrMvlVYwV@matsya/" target="_blank" rel="noreferrer noopener">the dmaengine maintainer fixed it for me</a>!</p>



<h3>ARM</h3>



<p>Mainlined commits:</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7b3e7df92a061d0196f20e35ceef559eb8dd98a0" target="_blank" rel="noreferrer noopener">ARM: dts: pxa168: add timer reset and clock</a> (<a href="https://lore.kernel.org/all/20220612194811.165874-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">patch V1</a>, <a href="https://lore.kernel.org/all/20221204005117.53452-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">series resend</a>)</li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e348b4014c31041e13ff370669ba3348c4d385e3" target="_blank" rel="noreferrer noopener">ARM: mmp: fix timer_read delay</a> (<a href="https://lore.kernel.org/all/20220905200804.438049-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">patch V1</a>, <a href="https://lore.kernel.org/all/20221204005117.53452-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">series resend</a>)</li>
</ul>



<p>Commits only in my branch:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/6df2b8a6f2ad22b99a40da4a4d608aa032b9b7fe" target="_blank" rel="noreferrer noopener">ARM: dts: pxa168: add SDHC peripherals</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/8fef5351a792cf27c96f86d3c90803b19aef248d" target="_blank" rel="noreferrer noopener">ARM: dts: pxa168: add USB host support</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/1f513c55b83904fbf99415ca843aad49cd3576c3" target="_blank" rel="noreferrer noopener">Add pinctrl to pxa168</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/d0a02a3c2ee6258f116143e8fb75dbe3b882e149" target="_blank" rel="noreferrer noopener">Give name to GPIO peripheral on PXA168</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/ca60c5bc697d241f6aa8839778a8af2321170603" target="_blank" rel="noreferrer noopener">pxa168: add SSP peripherals</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/d3357dc7a26c06db354cae7b9b099ddf8a892464" target="_blank" rel="noreferrer noopener">ARM: dts: pxa168: add PWM support</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/554409892455894c25dc578c7961d00532635864" target="_blank" rel="noreferrer noopener">ARM: dts: pxa168: add DMA support</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/e39e8cd4b6c30956325cf6864342bad1e5d7506c" target="_blank" rel="noreferrer noopener">ARM: dts: pxa168: add LCD controller and GC300</a></li>
</ul>



<p>The two mainlined commits fix a couple of showstopper bugs. The first one made it so the kernel wouldn’t hang when it disabled unused clocks. The second one fixed an issue that caused top to erroneously report 100% CPU usage.</p>



<p>All of the other commits are just inserting peripherals into the device tree include file. Most of them could definitely be submitted upstream to fill out pxa168.dtsi and demonstrate how many drivers are working now. Some of them were lazily titled and would need to be cleaned up first. I probably wouldn’t submit the LCD controller one though — more on that in a bit.</p>



<p>The main thing dissuading me from submitting most of these is that when I first tried to submit those top two patches, they went completely ignored. I had to go out of my way to pester the SoC subsystem, not even marked as the actual maintainer, to get them accepted. If my initial experience dealing with this stuff had gone the same way as all the other subsystems, I probably would have put more effort into cleaning most of these up and submitting them upstream.</p>



<p>I’m not upset about any of this though. I think the reason for my trouble here is this is an old ARM SoC and there isn’t much interest in it. I feel like if I were doing the same thing for a more modern system that is still actively maintained, it would be a much more positive experience. Who knows, I might eventually muster up the motivation to clean up and submit some of these just to show the world how many peripherals are working in the PXA16x now.</p>



<h3>pwm</h3>



<p>Mainlined commits (series <a href="https://lore.kernel.org/all/20221002061552.45479-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>, <a href="https://lore.kernel.org/all/20221003015546.202308-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V2</a>, <a href="https://lore.kernel.org/all/20221113233639.24244-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V3</a>):</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f956b838934ab06deeee2ce9d5c8dfe64e4beb24" target="_blank" rel="noreferrer noopener">pwm: pxa: Remove pxa_pwm_enable/disable</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=152f2d1def5e4b974947877126ff292a68a8c521" target="_blank" rel="noreferrer noopener">pwm: pxa: Set duty cycle to 0 when disabling PWM</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=939d002b7501128640aaeffe175d6331dcce2ca6" target="_blank" rel="noreferrer noopener">pwm: pxa: Remove clk enable/disable from pxa_pwm_config</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=092c2ef4571cbc7e5f466bc241ff054723c41973" target="_blank" rel="noreferrer noopener">pwm: pxa: Use abrupt shutdown mode</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8ba2725ffac351a1b80063ac7eb362832fae16a2" target="_blank" rel="noreferrer noopener">pwm: pxa: Add reference manual link and limitations</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=958f03074980e8ae1b0c257a732fe467069ec267" target="_blank" rel="noreferrer noopener">pwm: pxa: Enable for MMP platform</a></li>
</ul>



<p>Working on this driver was a pretty fun experience. My goal here was to get the PWM backlight for the display working correctly. It went through a few rounds of code review. The existing code had a serious issue that didn’t affect me and I wasn’t even trying to fix, but ended up fixing anyway during the review process: it wasn’t resetting the duty cycle to 0 when you stopped it, so if you tried to restart it with a different duty cycle, it would still have the old setting for a brief moment. You can’t configure it without clocking it, and as soon as it’s clocked it will start outputting whatever you last had it configured for.</p>



<h3>mmc</h3>



<p>Mainlined commits (series <a href="https://lore.kernel.org/all/20221128024407.224393-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>, <a href="https://lore.kernel.org/all/20221202031330.94130-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V2</a>, <a href="https://lore.kernel.org/all/20221229200411.295339-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V3</a>, <a href="https://lore.kernel.org/all/20230112022416.8474-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V4</a>, <a href="https://lore.kernel.org/all/20230116194401.20372-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V5</a>):</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=dfe9746aed2d1267f00b880ae232170d7d9e4202" target="_blank" rel="noreferrer noopener">mmc: sdhci-pxav2: add initial support for PXA168 V1 controller</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e764395080184544aa963b0dead24c01d1ca3b0e" target="_blank" rel="noreferrer noopener">mmc: sdhci-pxav2: enable CONFIG_MMC_SDHCI_IO_ACCESSORS</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7f7a201ad1fcd916526d10b21685690a35aa8d7a" target="_blank" rel="noreferrer noopener">mmc: sdhci-pxav2: add register workaround for PXA168 silicon bug</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c7c60bf62820abfbfc7d154ade06a6043be0b479" target="_blank" rel="noreferrer noopener">mmc: sdhci-pxav2: change clock name to match DT bindings</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e41c48b4bcb3ceee43a101ba7d514483271fb2fb" target="_blank" rel="noreferrer noopener">mmc: sdhci-pxav2: add optional core clock</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=24552ccb4f1e0a9bf961056057aa8bd4c0d8dfe8" target="_blank" rel="noreferrer noopener">mmc: sdhci-pxav2: add SDIO card IRQ workaround for PXA168 V1 controller</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f35ca223882aa6faa25f39b9412066e33d8b6963" target="_blank" rel="noreferrer noopener">mmc: sdhci-pxav2: add optional pinctrl for SDIO IRQ workaround</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c6ecb0f849fee1ebe5e4bee354e9e16e508f0de9" target="_blank" rel="noreferrer noopener">dt-bindings: mmc: sdhci-pxa: add pxav1</a></li>



<li>mmc: sdhci-pxav2: Remove unnecessary null pointer check (patch <a href="https://lore.kernel.org/all/20240714155510.48880-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>)</li>
</ul>



<p>I really enjoyed working on the SDHCI driver as well. It’s fully working in the mainline kernel and I’m proud of it. This was another case where at least one old patch already existed, but for some reason Marvell never pushed it across the finish line. Coming up with the IRQ workaround on my own (with the help of a suggestion from the SDHCI maintainer) was pretty enjoyable too.</p>



<p>The most recent commit is from last month and involved fixing a static analysis warning that was reported to me. I was unnecessarily checking if a pointer was null in a place where it’s already known to not be null. It is likely to be included in Linux 6.11 since it was accepted into mmc’s “next” branch. I only linked to my patch submission because it’s not in Linus’s tree yet as of this writing.</p>



<h3>wifi</h3>



<p>Mainlined commits (series <a href="https://lore.kernel.org/all/20230102234714.169831-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>, <a href="https://lore.kernel.org/all/20230108013016.222494-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V2</a>, <a href="https://lore.kernel.org/all/20230116202126.50400-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V3</a>, <a href="https://lore.kernel.org/all/20230123053132.30710-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V4</a>):</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=53d3a735875e35ccaf7a21b643feb167229515f1" target="_blank" rel="noreferrer noopener">wifi: libertas: fix code style in Marvell structs</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=57db1ba357368b4de0ed3ede334a83929febb5d0" target="_blank" rel="noreferrer noopener">wifi: libertas: only add RSN/WPA IE in lbs_add_wpa_tlv</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5fb2a7854a9e6cad3f665cf290864c858cbc68d5" target="_blank" rel="noreferrer noopener">wifi: libertas: add new TLV type for WPS enrollee IE</a></li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e6a1c4b9884f1c917e505e5663bdeff489ff1c36" target="_blank" rel="noreferrer noopener">wifi: libertas: add support for WPS enrollee IE in probe requests</a></li>
</ul>



<p>This was a fun driver to work on too. I fixed a serious problem with the libertas driver that prevented it from working with modern versions of wpa_supplicant. Now it works great! I also took the opportunity to improve WPS support, at the suggestion of the driver’s previous maintainer.</p>



<h3>serial</h3>



<p>Mainlined commits:</p>



<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5208e7ced520a813b4f4774451fbac4e517e78b2" target="_blank" rel="noreferrer noopener">serial: 8250_pxa: Configure tx_loadsz to match FIFO IRQ level</a> (patch <a href="https://lore.kernel.org/all/20240519191929.122202-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>)</li>



<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c5603e2a621dac10c5e21cc430848ebcfa6c7e01" target="_blank" rel="noreferrer noopener">Revert “serial: core: only stop transmit when HW fifo is empty”</a> (series <a href="https://lore.kernel.org/all/20240519193109.122466-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>, <a href="https://lore.kernel.org/all/20240606195632.173255-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V2</a>)</li>
</ul>



<p>These two commits are actually very recent and were discussed in part 12. I fixed two different drivers for the PXA UART that were failing in different ways. Now they both work fine. In the case of the second “revert” commit, my V2 series also included two other patches developed by the original author of that commit to fix the original issue in a different way that wouldn’t break the pxa and omap serial drivers.</p>



<p>I haven’t submitted anything upstream for the rest of the subsystems I’m going to talk about (with one exception where my patch was ignored):</p>



<h3>power</h3>



<p>Commits only in my branch:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/b6ce823da0f71fcb20adb3aff97ce5929893f407" target="_blank" rel="noreferrer noopener">power: reset: new driver chumby8-reboot</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/d72bb5b37a1fb2c0296b7dd46313118c26d2f688" target="_blank" rel="noreferrer noopener">power: reset: chumby8: switch to ioremap(), ignore conflicts</a></li>
</ul>



<p>This is a driver that enables the reboot and shutdown commands to work properly by forwarding those requests onto the STM32 coprocessor. I added the new driver, and more recently I realized that I had accidentally coded it in a way that made it try to take exclusive control of the UART’s I/O range, but the UART driver also needs access to it during normal system operation. Without that last fix, this driver wouldn’t load alongside the 8250_pxa driver because the 8250_pxa driver had already taken over the I/O range. I switched to using ioremap() so I could ignore the conflict.</p>



<p>I would probably squash these two commits together into one if I attempted to upstream this driver. I didn’t bother submitting it upstream because it’s only useful for the Chumby and I don’t even have a board file for the Chumby in the mainline kernel. I think I would only submit this if I got to the point that there was actually a Chumby device tree board file upstreamed.</p>



<h3>spi</h3>



<p>Commits only in my branch:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/2e2614fcdb43e2c56dffd8335b356a752ff4eb92" target="_blank" rel="noreferrer noopener">spi-pxa2xx: add support for PXA168</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/8e7ce962419fd34951a1eaa201ae454655790cf2" target="_blank" rel="noreferrer noopener">spi-pxa2xx: increase the minimum DMA size</a></li>
</ul>



<p>These would probably both be easy to submit. I would need to add a commit updating the DT bindings though. The PXA168’s SSP peripheral is almost the same as the existing one supported by this driver, but it doesn’t have support for a clock divider, so the driver needs to be told about that. The DMA size thing ensures that we don’t waste a bunch of time setting up DMA if there’s a transfer of only a few bytes. This drastically improved performance with the touchscreen driver I ported/created. Speaking of which:</p>



<h3>touchscreen</h3>



<p>Commits only in my branch:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/afe2cc141c50a4dbc032b5ec8b17ec67811e3d3c" target="_blank" rel="noreferrer noopener">chumby8-ts: new touchscreen driver</a></li>
</ul>



<p>I haven’t submitted this upstream for the same reason as the power/reset driver. Without a Chumby .dts file being in the kernel, I feel like it wouldn’t make much sense. I guess I would get the benefit of the driver being updated by others whenever something about the API changed, but I’m not sure it’s worth it. If this upgraded Chumby kernel had more than a few users, maybe I would consider it.</p>



<h3>drm</h3>



<p>Commits not created by me (and not mainlined) that I depend on:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/87cb61b786a39f82de0673b262609d40c2158f57" target="_blank" rel="noreferrer noopener">drm/armada: add reserved memory support</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/8dd12b038f5127d68827f634c25c2ecf98afedab" target="_blank" rel="noreferrer noopener">drm/armada: add detection of DT LCD controllers for probing</a></li>
</ul>



<p>Commits only in my branch:</p>



<ul>
<li><a href="https://github.com/dougg3/silvermoon-linux/commit/355c4be05561508fd842dcad5510f398fe3a1ba1" target="_blank" rel="noreferrer noopener">drm/panel: simple: Add AUO A080SN01 R8 panel</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/c6dd09f276722513e15e6ef0ac60c130755cd234" target="_blank" rel="noreferrer noopener">drm/armada: add support for PXA168 LCD controller</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/d3dca20a600ae8d5bb9521440621590feee34af5" target="_blank" rel="noreferrer noopener">drm/armada: fix DT support to work with panels</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/b38cff70ba90d3f451cbd66b15b98c1a69e79fd9" target="_blank" rel="noreferrer noopener">drm/armada: make output format and pin allocation configurable</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/9059984f0ae17936d647c8e452295d3a9123b382" target="_blank" rel="noreferrer noopener">drm/armada: add optional ability to preserve existing framebuffer</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/c946d0967e4d9f150edec15c5effea727620ca0b" target="_blank" rel="noreferrer noopener">drm/armada: optionally enable peripheral clock automatically</a></li>



<li><a href="https://github.com/dougg3/silvermoon-linux/commit/6b719e92946aaaa077d66a0670c843e517ee51aa" target="_blank" rel="noreferrer noopener">drm/armada: Fill in GEM object for each color plane</a> (patch <a href="https://lore.kernel.org/all/20221126190001.157800-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">V1</a>, <a href="https://lore.kernel.org/all/20230309230930.43142-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">resend</a>)</li>
</ul>



<p>The armada driver hasn’t been updated in mainline for device tree support. Russell King actually made progress on this, but it seems like <a href="https://lore.kernel.org/dri-devel/20180710102344.GH17271@n2100.armlinux.org.uk/" target="_blank" rel="noreferrer noopener">his changes slipped through the cracks and were never merged</a>. I found these commits in his ARM linux tree on <a href="https://www.arm.linux.org.uk/developer/git-arm.php" target="_blank" rel="noreferrer noopener">armlinux.org.uk</a>. I feel like most of these commits would be worth submitting upstream (maybe not the “preserve existing framebuffer” and “automatically enable the peripheral clock” commits though), but I can’t because they’re useless without the DT support that Russell’s commits added.</p>



<p>I suppose I could submit them myself as part of a series, but I think it would be a lost cause. I actually have tried multiple times to submit that last GEM object fix to mainline, but it has been ignored every time. I might be doing it wrong, but it fixes a bug I ran into that prevented video playback from working. I think this driver is in a weird state where it’s marked as being maintained but it’s not really being maintained. For that reason, these changes will likely remain in my branch for the foreseeable future.</p>



<p>That’s a summary of everything that I accomplished as part of this kernel upgrade project. What do I actually have to show for it now? Well, I have a Chumby 8 and an Insignia Infocast NS-DP8CH that both start up with a Chumby logo, eventually go to a white screen, and then sit forever waiting for me to do something.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2024/08/chumbylogo.jpg" target="_blank" rel="noreferrer noopener"><img fetchpriority="high" decoding="async" width="300" height="237" src="https://www.downtowndougbrown.com/wp-content/uploads/2024/08/chumbylogo-300x237.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2024/08/chumbylogo-300x237.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2024/08/chumbylogo-768x607.jpg 768w, https://www.downtowndougbrown.com/wp-content/uploads/2024/08/chumbylogo.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px"/></a></figure>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2024/08/whitescreen.jpg" target="_blank" rel="noreferrer noopener"><img decoding="async" width="300" height="233" src="https://www.downtowndougbrown.com/wp-content/uploads/2024/08/whitescreen-300x233.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2024/08/whitescreen-300x233.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2024/08/whitescreen-768x597.jpg 768w, https://www.downtowndougbrown.com/wp-content/uploads/2024/08/whitescreen.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px"/></a></figure>



<p>It doesn’t look like much, but lots of stuff is going on under the hood. It loads an X server, connects to Wi-Fi, syncs up with an NTP server, saves the date and time, and is capable of playing small simple videos, playing and recording audio, displaying graphics, and recognizing touchscreen presses. I could make a simple Qt app for something like a clock or displaying pictures or whatever, and it would work fine with my modern kernel. I haven’t decided what I want to do with it yet!</p>



<p>Let’s finish this post off by looking at how I got to this point, even before the Chumby 8 was a thing. I’ve been tinkering with embedded ARM Linux devices since around 2007. Back then, I was working on a product that used the Cirrus Logic EP9302 and ran Linux 2.4. Yes, even though Linux 2.6 had been out for years at that point, I was still using 2.4 because it was what the board vendor provided and it was what I had to work with. I was also very much a newbie so I didn’t have the knowledge required to upgrade to something newer.</p>



<p>In 2011, I started developing a different product that used the Texas Instruments AM3517. Unfortunately, TI didn’t do much toward mainlining drivers on these chips, so once again I was stuck with an old vendor kernel version: 2.6.37. I think the work I did on this product was what really started piquing my interest in playing with embedded Linux at home, which is why I originally bought my Chumby 8.</p>



<p>When I found out the Chumby was also running a custom old vendor kernel (2.6.28), I think this was my breaking point where I started wondering why everybody was using vendor kernels instead of getting everything working in the upstream kernel. I was genuinely curious. In 2013 after I was a little more seasoned with my AM3517 experience, I started tinkering with the Chumby to see if I could understand how much effort it would be to run a newer kernel (3.13-rc3 at the time).</p>



<p>Why didn’t my <a href="https://github.com/dougg3/chumby8-linux-patches" target="_blank" rel="noreferrer noopener">Chumby kernel upgrade attempt in 2013</a>, back when there were more users and it was still a fairly new architecture, really get anywhere? I think there are a number of reasons. Most importantly, I just didn’t have the time to truly commit to it. If I had infinite time, I feel like there would be so many cool things I could accomplish. But time is our most precious resource and we have to spend it wisely.</p>



<p>Another reason I failed in 2013 was because it was right in the middle of the process of everything being converted to device tree. I didn’t understand anything about device tree at the time. All of my professional projects didn’t involve it. I was doomed to fail until I gained a little more experience, and I think I needed to wait for things to stabilize a little more in the kernel anyway.</p>



<p>By the time 2022 rolled around, I had way more experience in all facets of embedded Linux development. I had learned that compiling all of your packages by hand is insane and you should really be using a build system like buildroot or Yocto to do it for you. I had also worked extensively with device tree at this point on multiple products and architectures, including the Xilinx/AMD Zynq-7000, ST STM32MP1, and also tinkering with QEMU. I still didn’t know much about submitting kernel patches, but I had successfully sent a <a href="https://lore.kernel.org/all/14794808425325@kroah.com/" target="_blank" rel="noreferrer noopener">simple patch for adding a device ID to the ftdi_sio driver</a> in 2016 and an <a href="https://lore.kernel.org/all/20210212052754.11271-1-doug@schmorgal.com/" target="_blank" rel="noreferrer noopener">AppleTalk fix in 2021</a>.</p>



<p>One more thing that I think was vital to this project’s success was gaining a better understanding of Git. In 2013 I didn’t really know what I was doing with Git. I knew about adding and committing and pushing, but I was mostly using Subversion at work. I feel like in order to do Linux kernel development it really helps to have a good foundation for how to use Git. In particular, the concepts that really changed my life were learning how to use “git add -p” to stage smaller chunks of my changes at a time and “git rebase -i” to interactively rearrange and squash commits after the fact. Before I got comfortable with those two commands, I never really felt like I understood how to tell Git exactly what I wanted to do.</p>



<p>So in summary: in order to succeed with this project, I needed more experience in the kernel, a better understanding of device tree, a better build environment, and a lot more experience with Git. With all of these skills gained, I was finally ready to start actually pushing forward with getting these fixes upstreamed.</p>



<p>As you have seen above, I still have a bunch of commits that live only in my fork. For a cleaner view through GitHub, <a href="https://github.com/dougg3/silvermoon-linux/commits/v6.10-chumby8/" target="_blank" rel="noreferrer noopener">here are the commits from my fork’s Linux 6.10 branch</a>. Essentially I have created my own vendor kernel at this point! My whole goal was to mainline things, and where I’ve left off is I have my own vendor fork. This kind of seems like the opposite of what I was trying to accomplish.</p>



<p>So how do I feel about vendor forked kernels versus mainline kernels after doing this project? To be honest, I think forks are inevitable. At the very least, the chip manufacturers need a place to stage their changes prior to submitting them upstream, so they will always exist in some form. Additionally, it takes a lot of extra work to get your changes accepted in the mainline kernel. You have to go back and forth with maintainers and reviewers to ensure your code meets their requirements, which is actually an amazing experience and definitely increases the code quality of the kernel, but it also means the success of your patches is tied to the schedule of the busy kernel developers.</p>



<p>I can see why some vendors have historically skirted the process and just kept their own forks. My outside opinion is that the mainline situation now is definitely better than it was in 2013, but I’m not sure I’m qualified to comment. It also probably depends on which vendor’s chips you’re using. Ideally it makes sense that the vendors should be striving toward making their forks totally unnecessary as everything gets merged upstream, but as we can see it doesn’t always happen in practice. I wish it did though!</p>



<p>With some of the hacky stuff I did like my changes to the audio driver, I felt it would have been a nightmare to go back and try to do it correctly so that it would be accepted upstream. Especially since the driver is also used on other PXAxxx SoCs. How would I know for sure that my changes were correct for all SoCs and not just mine? How would I justify reverting a previous decision about how the PXA audio driver works? Is “I couldn’t figure out why the PXA166 was outputting a screeching sound and going back to the old method fixed it” a good enough reason to give to the maintainer? At some point the effort probably wouldn’t be worth it considering how unpopular these SoCs are — both from my standpoint and the maintainer’s standpoint. I don’t want to waste anyone’s time.</p>



<p>If this were a more popular architecture, it would make sense that the vendor would still be actively supporting it and figuring out what was really causing such a problem so they could confidently state a root cause. They would be capable of making sure it worked correctly on all SoC variants that use the driver. In my case, I’m just a guy who has one board that uses this chip, so I don’t have the resources to figure that all out by myself. It’s also just one small piece of a much larger project so would I really want to spend weeks on it?</p>



<p>I guess the overall point I’m trying to make here is that for newer, actively-used architectures, I can see how it makes perfect sense for the SoC vendors to upstream everything that they can. Now that this particular Marvell chip is well over a decade old, doesn’t have many users, and the employees who worked on it have moved onto different companies, it is definitely more difficult to get changes tested and accepted in certain places. Like I said, I don’t think the effort required to fully mainline everything would actually be worth it for an old, practically dead, SoC.</p>



<p>That leads me to the last big thing I want to discuss. I do want to point out that this old Chumby won’t necessarily be supported by Linux forever. Older ARM variants end up being a pain to support not only for the ARM kernel developers, but also for the GCC developers. <a href="https://lore.kernel.org/linux-arm-kernel/2831c5a6-cfbf-4fe0-b51c-0396e5b0aeb7@app.fastmail.com/T/#u" data-type="link" data-id="https://lore.kernel.org/linux-arm-kernel/2831c5a6-cfbf-4fe0-b51c-0396e5b0aeb7@app.fastmail.com/T/#u" target="_blank" rel="noreferrer noopener">Here’s an interesting recent post to the linux-arm-kernel mailing list</a> discussing when support for various old architectures and features can be dropped. It doesn’t look like the ARMv5TE used in the PXA168 is at risk of being dropped in the immediate future, but the iWMMXt instruction set is slated to go away soon because it’s not known to have any users, not to mention it was marked as deprecated in GCC 14 and will likely be removed in GCC 15. I don’t think this will really change anything for my purposes. As far I know I’m not using it. If I had decided to put more effort into improving H.264 decoding performance, though, it’s likely that this deprecation plan would have interfered with it. I’m glad I didn’t attempt anything!</p>



<p>In conclusion, I still think this project was totally a success even if every commit wasn’t mainlined. Some of it was out of my control. Even so, I still fixed many issues in the mainline kernel, developed a few new drivers in my fork, and obtained a ton of valuable experience submitting patches. I definitely have a working modern development foundation for my Chumby 8 even if it doesn’t really <em>do anything</em> yet. I guess now I need to make some real userspace software for it, and sit back and enjoy it!</p>
			  
			</div></div>
  </body>
</html>
