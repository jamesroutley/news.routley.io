<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/kormax/apple-device-as-access-card">Original</a>
    <h1>Using your Apple device as an access card in unsupported systems</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/IPHONE.STATIC.UID.DEMO.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/IPHONE.STATIC.UID.DEMO.webp" alt="![Static UID demo]" width="250px"/></a>
</p>  
<sub> Pay attention to the UID value </sub>

<p dir="auto">This repository describes general status on the topic and a possible solution to allow you to use your device as an access card in UID-based access systems (<strong>without cloning, consent on behalf of maintainer will be required</strong>).</p>

<p dir="auto">Many people have been beating their heads against the wall trying to use their Apple device as an access card.</p>
<p dir="auto">Sadly, due to closed NFC and Wallet ecosystem, such a thing is not possibe to do on your own without any explicit support on the behalf of Apple and access system provider.</p>
<p dir="auto">The search for a potential bypass had lead some people into the topics of <a href="https://github.com/kormax/apple-vas">VAS</a>, <a href="http://github.com/kormax/apple-enhanced-contactless-polling">ECP</a> and HCE API (which actually exists in IOS, but is private, used by VAS), but those solutions don&#39;t work with existing reader infrastructures.</p>

<p dir="auto">May be deemed more elegant than some people could expect.</p>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/WALLET.INFO.TUNION.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/WALLET.INFO.TUNION.webp" alt="![T-Union card in wallet]" width="250px"/></a>
</p>  
<p dir="auto">At first look there&#39;s nothing special about this card type, it has the same charachteristics as any transit card in Wallet:</p>
<ul dir="auto">
<li>It has a viewable balance;</li>
<li>It has configurable express mode;</li>
<li>It can be freely moved between devices.</li>
</ul>
<p dir="auto">What makes this card powerful, lies in the way it changes how NFC behaves on your device when it&#39;s set as a default transit card:</p>
<ul dir="auto">
<li>Your device stops randomizing the UID on each tap;</li>
<li>Your device begins responding to all NFC readers as if they were express-transit enabled, just like on Android;</li>
<li>Also this card does not change its serial number and UID when moving to other devices, unlike most other ones.</li>
</ul>
<p dir="auto">All those properties are unique to this card type and cannot be replicated with any other card type, and coincidentally <strong>they make it ideal for usage in access systems that use the UID of the card as the only means of authentication</strong>.</p>
<p dir="auto">Now, it&#39;s time to talk about the downsides. This is a point that might break the hopes for a lot of people:</p>
<ul dir="auto">
<li>Thing is, UID-only authentication is deemed <strong>very unsecure</strong>, and thus is uncommon in real-life installations. Some installations allow UID auth in a fallback/compatability mode, which is more common.</li>
<li>You cannot control the UID of the card that will be generated for you, this means that you&#39;ll still need to ask permission of the system owner to add your UID into it, a chance of getting a collision would be too little and too expensive to verify.</li>
</ul>
<p dir="auto">Following systems are known to have UID-based authentication:</p>
<ul dir="auto">
<li><a href="https://wiki.ui.com/2-0/docs/ua-nfc-cards" rel="nofollow">UniFi Access</a> with the &#34;UniFi Access Credentials Only&#34; setting disabled;</li>
<li>[Needs expanding].</li>
</ul>
<p dir="auto">In case the stars align in your case, a next question would be how to aquire such a card. Next section tries to answer that question.</p>

<p dir="auto">China T-Union cards are quite hard to get, as if you&#39;ve tried adding one straight from Wallet, you&#39;ve probably encountered an error message telling you that you have to have a Chinese UnionPay card. Emphasis on Chinese, as global variants aren&#39;t accepted too.</p>
<p dir="auto">To overcome this problem, you have to have following prerequisites:</p>
<ul dir="auto">
<li><a href="https://en.wikipedia.org/wiki/Biometric_passport" rel="nofollow">A Biometric travel document</a>;</li>
<li>A valid Mastercard or Visa.</li>
</ul>
<p dir="auto">(NOTE) Google says that many people are having issues with SMS verification, so this method might not be working now. In this case the only thing left is to wait for this issue to resolve.</p>
<p dir="auto">If you have everything, follow the next steps:</p>
<ol dir="auto">
<li>
<p dir="auto">Install the AliPay app;</p>
</li>
<li>
<p dir="auto">Register inside the AliPay app:</p>
<ul dir="auto">
<li>Verify your mobile phone;</li>
<li>When asked, set up the PIN. <strong>Warning</strong> it is very important not to forget any of the codes, as you&#39;ll irreversibly lose access to your account;</li>
</ul>
</li>
<li>
<p dir="auto">Verify your identity:</p>
<ol dir="auto">
<li>Select &#34;Account&#34; tab;</li>
<li>Tap on the profile avatar;</li>
<li>Select &#34;My Namecard&#34;;</li>
<li>Press &#34;Verify identity&#34;;</li>
<li>Choose &#34;Complete verification&#34;.</li>
</ol>
<p dir="auto">After that, you&#39;ll be presented with a couple of possible age verification methods.</p>
 <p dir="auto">
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.IDENTITY.VERIFICATION.SELECT.METHOD.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.IDENTITY.VERIFICATION.SELECT.METHOD.webp" alt="![Age verification method selection]" width="200px"/></a>
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.IDENTITY.VERIFICATION.READ.DOCUMENT.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.IDENTITY.VERIFICATION.READ.DOCUMENT.webp" alt="![Scanning a biometric pasport]" width="200px"/></a>
 </p> 
 <sub>Thanks to @ihrapsa for providing images and directions for this step</sub>
</li>
<li>
<p dir="auto">On the main page, tap on a search bar, search for &#34;NFC&#34;. An icon with &#34;NFC&#34; should appear, tap on it;</p>
 <p dir="auto">
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.SEARCH.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.SEARCH.webp" alt="![Searching for NFC in AliPay]" width="200px"/></a>
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.SEARCH.NFC.ENTRY.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.SEARCH.NFC.ENTRY.webp" alt="![Searching for NFC in AliPay]" width="200px"/></a>
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.SEARCH.NFC.RESULTS.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.SEARCH.NFC.RESULTS.webp" alt="![NFC search results in AliPay]" width="200px"/></a>
 </p>  
</li>
<li>
<p dir="auto">Follow the onboarding screens. In case you&#39;re unsure about the UI elements, make a screenshot and feed it into a translator app;</p>
 <p dir="auto">
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.NFC.ONBOARDING.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.NFC.ONBOARDING.webp" alt="![Onboarding screen]" width="200px"/></a>
 </p>  
</li>
<li>
<p dir="auto">When reaching the screen with card selection, choose any. Beware that some have different minimum topup amounts.</p>
 <p dir="auto">
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.NFC.SELECTION.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.NFC.SELECTION.webp" alt="![Selecting a card]" width="200px"/></a>
 </p>  
</li>
<li>
<p dir="auto">After selection, choose topup amount, pay for a card. Go to the next screen;</p>
 <p dir="auto">
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/ALIPAY.NFC.PURCHASE.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/ALIPAY.NFC.PURCHASE.webp" alt="![Selecting a card]" width="200px"/></a>
 </p>  
</li>
<li>
<p dir="auto">Apple Wallet UI should appear, inviting you to provision the new card. Follow the steps as usual.</p>
 <p dir="auto">
 <a target="_blank" rel="noopener noreferrer" href="https://vinayak.io/kormax/apple-device-as-access-card/blob/main/assets/WALLET.PROVISIONING.TUNION.webp"><img src="https://vinayak.io/kormax/apple-device-as-access-card/raw/main/assets/WALLET.PROVISIONING.TUNION.webp" alt="![Provisioning T-Union card into wallet]" width="250px"/></a>
 </p>  
</li>
</ol>
<p dir="auto">Having done all these steps, you should have a magic card in your Wallet. Use as you see fit. Good luck!</p>

<ul dir="auto">
<li>If you find any mistakes/typos or have extra information to add, feel free to raise an issue or create a pull request.</li>
</ul>

<ul dir="auto">
<li>Resources that helped with research:
<ul dir="auto">
<li>Access systems that support the lifehack:
<ul dir="auto">
<li><a href="https://wiki.ui.com/2-0/docs/ua-nfc-cards" rel="nofollow">UniFi Access</a> - with the &#34;UniFi Access Credentials Only&#34; setting disabled;</li>
</ul>
</li>
<li>Officially supported access systems:
<ul dir="auto">
<li><a href="https://campaigns.hidglobal.com/employee-badge" rel="nofollow">HID</a>;</li>
<li><a href="https://www.brivo.com/applewallet/" rel="nofollow">Brivo</a>;</li>
<li><a href="https://www.wavelynxtech.com/credentials/apple-wallet" rel="nofollow">WaveLynx</a>;</li>
<li><a href="https://support.saltosystems.com/nebula/user-guide/keyholder/apple-wallet-keys/" rel="nofollow">Salto</a>;</li>
<li><a href="https://www.assaabloyglobalsolutions.com/en/hospitality-solutions/mobile-access-for-hospitality/apple-wallet" rel="nofollow">Assa Abloy</a>;</li>
<li><a href="https://www.nedapsecurity.com/news-blog/nedap-teams-up-with-apple-access-badge-in-apple-wallet-coming-soon/" rel="nofollow">Nedap</a>;</li>
<li><a href="https://www.getkisi.com/guides/apple-wallet-access" rel="nofollow">Kisi</a>.</li>
</ul>
</li>
<li>Other links:
<ul dir="auto">
<li><a href="https://en.wikipedia.org/wiki/Biometric_passport" rel="nofollow">Biometric documents</a>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</article></div></div>
  </body>
</html>
