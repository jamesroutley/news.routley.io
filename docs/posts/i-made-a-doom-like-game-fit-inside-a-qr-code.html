<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Kuberwastaken/backdooms">Original</a>
    <h1>Show HN: I made a Doom-like game fit inside a QR code</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/Kuberwastaken/backdooms/blob/main/qrcode.png"><img src="https://github.com/Kuberwastaken/backdooms/raw/main/qrcode.png" alt="QR Code for The Backdooms"/></a>
</p>
<p dir="auto">
    Yes, this is literally the entire game. You can <a href="https://scanqr.org/" rel="nofollow">scan it</a> to play.
</p>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/1fa4cef0c40c141ac0ed954ecdb8d2119b7b110a222d5feef9b9ff01e3363977/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4b7562657277617374616b656e266d6573736167653d4261636b646f6f6d7326636f6c6f723d626c61636b266c6f676f3d676974687562"><img src="https://camo.githubusercontent.com/1fa4cef0c40c141ac0ed954ecdb8d2119b7b110a222d5feef9b9ff01e3363977/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4b7562657277617374616b656e266d6573736167653d4261636b646f6f6d7326636f6c6f723d626c61636b266c6f676f3d676974687562" alt="Kuberwastaken - Backdooms" data-canonical-src="https://img.shields.io/static/v1?label=Kuberwastaken&amp;message=Backdooms&amp;color=black&amp;logo=github"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/90d2eb9460dae650d20e525e61ffe4973f067ee0dde23e1e5b706b5630d039e9/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f76657273696f6e2d31332e302d626c61636b"><img src="https://camo.githubusercontent.com/90d2eb9460dae650d20e525e61ffe4973f067ee0dde23e1e5b706b5630d039e9/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f76657273696f6e2d31332e302d626c61636b" alt="Version 13.0" data-canonical-src="https://img.shields.io/badge/version-13.0-black"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/56265e049c38cb332bf7419805d7c1d985832a34e869aef4801771fe9b416133/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d626c61636b"><img src="https://camo.githubusercontent.com/56265e049c38cb332bf7419805d7c1d985832a34e869aef4801771fe9b416133/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d626c61636b" alt="License MIT" data-canonical-src="https://img.shields.io/badge/License-MIT-black"/></a>
</p>

<p dir="auto"><strong>The Backdooms</strong> is a compressed, self-extracting and infinitely generating HTML game inspired by DOOM 1993 and The Backrooms that can be launched and played in a web browser directly from a QR code.</p>
<p dir="auto">This project was a week-long study I performed (now slightly longer) designed to push the limits of QR code storage and compression, to demonstrate an innovative method of hosting lightweight web applications entirely within a QR code.</p>
<hr/>
<p dir="auto">
    <a href="https://kuberwastaken.github.io/backdooms" rel="nofollow">Play a slightly less compressed version of this game here</a>
    </p>
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/945f242de77e20e89fa20d1fc5d90d28e2a4e7b1237cbe7a43f987f029939728/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f6b7562657277617374616b656e2f6261636b646f6f6d732f7075626c69632f47616d65706c61792d4749462e676966"><img src="https://camo.githubusercontent.com/945f242de77e20e89fa20d1fc5d90d28e2a4e7b1237cbe7a43f987f029939728/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f6b7562657277617374616b656e2f6261636b646f6f6d732f7075626c69632f47616d65706c61792d4749462e676966" alt="Gameplay Demo" data-animated-image="" data-canonical-src="https://cdn.jsdelivr.net/gh/kuberwastaken/backdooms/public/Gameplay-GIF.gif"/></a>
</p>
<hr/>

<p dir="auto">‚úÖ <strong>Fully Offline:</strong> No internet connection is required to play the game after scanning the QR code. The URL basically has the ENTIRE code to the game</p>
<p dir="auto">‚úÖ <strong>Extreme Compression:</strong> Utilizes a combination of Zlib compression with Gzip Decompression stream along with base64 encoding to make the final result extremely compressed.</p>
<p dir="auto">‚úÖ <strong>Self-Extracting Webpage:</strong> Uses the <code>DecompressionStream</code> API to dynamically decompress and execute the game within the browser.</p>
<p dir="auto">‚úÖ <strong>Mobile Compatible:</strong> Works on modern mobile browsers that support the Decompressionstream APIs (Edge, Yandex, Opera) <code>[NEW]</code></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">üì¶ Installation &amp; Dependencies</h2><a id="user-content--installation--dependencies" aria-label="Permalink: üì¶ Installation &amp; Dependencies" href="#-installation--dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Well, technically speaking, just a modern web browser.</p>
<p dir="auto">But if we do get into the nitty gritty of generating a QR code of a ‚âà 2.5kb game:</p>

<ul dir="auto">
<li><strong>Python 3.7+</strong></li>
<li><code>qrcode</code> library (for generating QR codes)</li>
<li><code>pillow</code> (for QR code image handling)</li>
</ul>


<hr/>

<div dir="auto"><h3 tabindex="-1" dir="auto">1Ô∏è‚É£ Convert Your Game to a QR Code</h3><a id="user-content-1Ô∏è‚É£-convert-your-game-to-a-qr-code" aria-label="Permalink: 1Ô∏è‚É£ Convert Your Game to a QR Code" href="#1Ô∏è‚É£-convert-your-game-to-a-qr-code"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Run the script with the following command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="python3 QRGEN.py &lt;your-game.html&gt; &lt;output-qrcode.png&gt;"><pre>python3 QRGEN.py <span>&lt;</span>your-game.html<span>&gt;</span> <span>&lt;</span>output-qrcode.png<span>&gt;</span></pre></div>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="python3 QRGEN.py EVEN-SMALLER-SLAMMER-BACKROOMS.html qrcode.png"><pre>python3 QRGEN.py EVEN-SMALLER-SLAMMER-BACKROOMS.html qrcode.png</pre></div>

<p dir="auto">Use a smartphone or QR scanner to open the game directly in a web browser.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">3Ô∏è‚É£ Play Instantly üéÆ</h3><a id="user-content-3Ô∏è‚É£-play-instantly-" aria-label="Permalink: 3Ô∏è‚É£ Play Instantly üéÆ" href="#3Ô∏è‚É£-play-instantly-"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Enjoy <em>The Backdooms</em> without needing to download or install anything!</p>
<hr/>


<section data-identity="5ca75464-5a12-41dd-83b8-29eb1f58f9ca" data-host="https://viewscreen.githubusercontent.com" data-src="https://viewscreen.githubusercontent.com/markdown/mermaid?docs_host=https%3A%2F%2Fdocs.github.com" data-type="mermaid" aria-label="mermaid rendered output container">
  <div data-json="{&#34;data&#34;:&#34;flowchart TD\n    A[Read Input HTML] --&amp;gt; B[Compress with Zlib]\n    B --&amp;gt;|wbits=15| C[Base64 Encode]\n    C --&amp;gt; D[Embed in HTML Wrapper]\n    \n    subgraph browser[Browser Processing]\n        D --&amp;gt; E[DecompressionStream &#39;gzip&#39;]\n        E --&amp;gt; F{Format Mismatch}\n    end\n    \n    F --&amp;gt; G[Convert to Data URI]\n    G --&amp;gt; H{Fits QR Code?}\n    H --&amp;gt;|Yes| I[Generate QR]\n    H --&amp;gt;|No| J[Reduce HTML Size]\n    J --&amp;gt; A\n&#34;}" data-plain="flowchart TD
    A[Read Input HTML] --&gt; B[Compress with Zlib]
    B --&gt;|wbits=15| C[Base64 Encode]
    C --&gt; D[Embed in HTML Wrapper]
    
    subgraph browser[Browser Processing]
        D --&gt; E[DecompressionStream &#39;gzip&#39;]
        E --&gt; F{Format Mismatch}
    end
    
    F --&gt; G[Convert to Data URI]
    G --&gt; H{Fits QR Code?}
    H --&gt;|Yes| I[Generate QR]
    H --&gt;|No| J[Reduce HTML Size]
    J --&gt; A
" dir="auto">
    <div dir="auto">
      <pre lang="mermaid" aria-label="Raw mermaid code">flowchart TD
    A[Read Input HTML] --&gt; B[Compress with Zlib]
    B --&gt;|wbits=15| C[Base64 Encode]
    C --&gt; D[Embed in HTML Wrapper]
    
    subgraph browser[Browser Processing]
        D --&gt; E[DecompressionStream &#39;gzip&#39;]
        E --&gt; F{Format Mismatch}
    end
    
    F --&gt; G[Convert to Data URI]
    G --&gt; H{Fits QR Code?}
    H --&gt;|Yes| I[Generate QR]
    H --&gt;|No| J[Reduce HTML Size]
    J --&gt; A
</pre>
    </div>
  </div>
  <span role="presentation">
    <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>    <span>Loading</span>
</span>
  </span>
</section>

<p dir="auto"><strong>Read Input HTML:</strong> The process starts by reading the given HTML content from a file or input source.</p>
<p dir="auto"><strong>Zlib Compression + GZip decompression:</strong> The HTML is compressed using Zlib and uses Decompressionstream from GZip for best compression</p>
<p dir="auto"><strong>Base64 Encoding:</strong> The compressed data is encoded in Base64, ensuring that it remains text-based and can be embedded in an HTML file safely.</p>
<p dir="auto"><strong>Embedding in HTML Wrapper:</strong> A JavaScript-based self-extracting HTML wrapper is created. This wrapper includes a DecompressionStream API function that automatically decompresses the content when opened in a browser.</p>
<p dir="auto"><strong>Data URI Conversion:</strong> The entire HTML is converted into a data:text/html;base64,... format, allowing it to be stored and shared easily without a physical file.</p>

<p dir="auto">The system first tries to generate the smallest possible QR version using qr.make(fit=True), which dynamically adjusts the QR size based on content length.</p>
<p dir="auto">If the required version exceeds 40 (the QR code standard limit), it forces version 40 with fit=False.</p>
<p dir="auto">The lowest error correction level L (which allows the maximum data capacity) is used to fit as much data as possible.</p>
<p dir="auto">If the data is still too large for QR v40 with level L, the process fails, and an error is returned.</p>

<p dir="auto">If successful, a QR code is generated and displayed.</p>
<p dir="auto">If not, the process terminates with an error message indicating that the data is too large to be encoded in a QR code.</p>
<hr/>
<div dir="auto"><h2 tabindex="-1" dir="auto">Understand the Frustration and Trial and Error</h2><a id="user-content-understand-the-frustration-and-trial-and-error" aria-label="Permalink: Understand the Frustration and Trial and Error" href="#understand-the-frustration-and-trial-and-error"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Read about the development journey on my blog <a href="https://kuberwastaken.github.io/blog/Projects/How-I-Managed-To-Get-Doom-In-A-QR-Code" rel="nofollow">MindDump</a></p>
<hr/>

<p dir="auto">This project is released under the <strong>MIT License</strong>‚Äîfree to use, modify, and share.
It would make me EXTREMELY happy to see other QR games or even seeing better versions of DOOM in a QR code, given there&#39;s so little resources related to this</p>
<hr/>

<ul dir="auto">
<li>id Software for Developing DOOM</li>
<li>matttkc for putting this idea in my head 5 years ago</li>
<li>Toby Fox for the amazing music in Undertale, this game&#39;s GitHub hosted version uses an 8 bit version of Bonetrousle</li>
</ul>
<p dir="auto">Developed by <strong>Kuber Mehta</strong> :)</p>
</article></div></div>
  </body>
</html>
