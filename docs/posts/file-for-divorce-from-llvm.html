<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ziglang/zig/issues/16270">Original</a>
    <h1>File for divorce from LLVM</h1>
    
    <div id="readability-page-1" class="page"><div>
    


      

      <div data-gid="IC_kwDOAmaRMs5gMjr3">
  
      
<div data-gid="IC_kwDOAmaRMs5gMjr3" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMjr3/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/xdBronch/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/xdBronch"><img src="https://avatars.githubusercontent.com/u/51252236?s=80&amp;v=4" width="40" height="40" alt="@xdBronch"/></a>

</p>


  <div id="issuecomment-1613904631">

    <div data-body-version="4cbdcf323b237dbd5541f03c66064f5778987ccdb67f0532eef1cd7adfaee870">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I see the 1.0.0 milestone for this, is it meant to be a blocker for 1.0? or simply the goal</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMj9d">
  
      
<div data-gid="IC_kwDOAmaRMs5gMj9d" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMj9d/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/andrewrk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/andrewrk"><img src="https://avatars.githubusercontent.com/u/106511?s=80&amp;u=c5381a852bb5385fb4380496a39ab46106b2b6dd&amp;v=4" width="40" height="40" alt="@andrewrk"/></a>

</p>


  <div id="issuecomment-1613905757">

    <div data-body-version="f21a06ae3e59fa70e88931d44eb03b191e47730848270d32b3a422e620475528">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">The milestone, on an issue labeled &#34;proposal&#34;, means that a decision must be made to accept or reject that proposal before tagging the release corresponding to that milestone.</p>
<p dir="auto">For an issue labeled &#34;accepted&#34;, the milestone means that it must be implemented by then. So, if this proposal is accepted, then I will evaluate at that time which milestone to move it to.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMmem">
  
      
<div data-gid="IC_kwDOAmaRMs5gMmem" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMmem/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Jarred-Sumner/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Jarred-Sumner"><img src="https://avatars.githubusercontent.com/u/709451?s=80&amp;u=c72c2dd8b0368dc63bf2278e0f4f2ff290449cfb&amp;v=4" width="40" height="40" alt="@Jarred-Sumner"/></a>

</p>


  <div id="issuecomment-1613916070">

    <div data-body-version="b52684d3b14e2668c3da267bc06a4703eb4d1aab4620404349b2dec7cb590be8">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">In the near term, the machine code generated by Zig will become less competitive. Long-term, it may catch up or even surpass LLVM and GCC.</p>
</blockquote>
<p dir="auto">IMO, this is the biggest question. One of the most compelling reasons to use Zig is runtime performance of software written in Zig. Without LLVM&#39;s optimization passes, what will that look like?</p>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-4c5786ec-b954-4ad3-9634-e95bec3516bf" for="reactions--reaction_button_component-b151cc" data-direction="n" data-type="description" data-view-component="true">anacrolix, vjpr, fabiospampinato, and GoWind reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-f35ec261-93d3-4922-9ba0-2a3d9f393cfd" for="reactions--reaction_button_component-650b55" data-direction="n" data-type="description" data-view-component="true">scheibo, pdeva, bryanhelmig, chiumichael, maxzhao, candrewlee14, except, a-tarasyuk, mohsinhijazee, gilice, and 18 more reacted with heart emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMocp">
  
      
<div data-gid="IC_kwDOAmaRMs5gMocp" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMocp/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/nektro/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nektro"><img src="https://avatars.githubusercontent.com/u/5464072?s=80&amp;u=a84ae9f68c3b0567fe276def3ab932d2f2f6703f&amp;v=4" width="40" height="40" alt="@nektro"/></a>

</p>


  <div id="issuecomment-1613924137">

    <div data-body-version="0589cbb7e0f17fb5b5a722706df82214681649ad93ddd095fcc93769050ebaea">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Long-term, it may catch up or even surpass LLVM and GCC.</p>
</blockquote>
<blockquote>
<p dir="auto">We can implement our own optimization passes that push the state of the art of computing forward.</p>
</blockquote>
<p dir="auto">Zig will continue to implement optimization passes of its own over time and get faster.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMrIg">
  
      
<div data-gid="IC_kwDOAmaRMs5gMrIg" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMrIg/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/mlarouche/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mlarouche"><img src="https://avatars.githubusercontent.com/u/112917?s=80&amp;u=5d22efededa6d764b2f64e0899939276ebb4be6d&amp;v=4" width="40" height="40" alt="@mlarouche"/></a>

</p>


  <div id="issuecomment-1613935136">

    <div data-body-version="90aa1f5576cc82b1b2d9ccde04e4a548a244aa20d50d67ebcc0ce990fd87d6ce">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1613935136-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since July 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">So here the projects that depend on the ability to compile C++ that I currently developing:</p>
<ul dir="auto">
<li><a href="https://github.com/Cold-Bytes-Games/wwise-zig">https://github.com/Cold-Bytes-Games/wwise-zig</a>: I am using the C++ ability to compile glue code to create a C binding.  I plan to use this for audio in my game BioMech Catalyst written in Zig.</li>
<li><a href="https://github.com/Cold-Bytes-Games/wwise-zig-demo">https://github.com/Cold-Bytes-Games/wwise-zig-demo</a>: Using previous mentioned library plus <a href="https://github.com/michal-z/zig-gamedev/tree/main/libs/zgui">zgui</a> that does a nice Zig binding on top of Dear IMGUI</li>
<li>Still planning to use <code>zgui</code> for my game editor in the future.</li>
</ul>
<p dir="auto">And also some NDA game platform that have C++ only API that will require some C++-to-C glue code to be compiled, but obviously not implemented.</p>
<p dir="auto">To me, the ability to seamlessly build any C, C++ and Obj-C is a big selling point of the Zig toolchain even if it is behind a optional flag to enable LLVM and Clang when compiling Zig. A part of the hype momentum around Zig is due to that fact.</p>
<p dir="auto">If this happens, I think I will remove my donation to the Zig Software Foundation.</p>
<p dir="auto">TL;DR: Lots of libraries in the game development world (closed or open source) require the ability to compile C++.</p>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-c9d9f9a3-5916-4293-993d-fa75ec7e3b47" for="reactions--reaction_button_component-32497b" data-direction="n" data-type="description" data-view-component="true">InKryption, feenor, foxnne, scheibo, GeffDev, yalopov, wub, directionless, nornagon, serxka, and 42 more reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-befc764e-4918-4a8e-9cd4-780a7b6b2892" for="reactions--reaction_button_component-37cca8" data-direction="n" data-type="description" data-view-component="true">andrewrk, butera-simone, and MKRhere reacted with eyes emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMruB">
  
      
<div data-gid="IC_kwDOAmaRMs5gMruB" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMruB/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/MasterQ32/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MasterQ32"><img src="https://avatars.githubusercontent.com/u/3932972?s=80&amp;u=2893028da897d46ed12f55aa05a935a80e7c119b&amp;v=4" width="40" height="40" alt="@MasterQ32"/></a>

</p>


  <div id="issuecomment-1613937537">

    <div data-body-version="44d7d9610a9f4335099e8860882c5939dde6a5683e762dfc8a79d6ea0321d42e">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I think this proposal would hurt the Zig ecosystem more than it would help it, due to several reasons:</p>
<ul dir="auto">
<li>Adoption of compilers and languages in the embedded is basically driven by the code generation quality in terms of size. We have to be on-par or better than GCC and LLVM to be even considered tmto be adopted. 2%-5% bigger code is often not an annoyance, but a technical  problem.</li>
<li>A lot of projects use C++ code and might benefit from build.zig &#34;as is&#34;. This could lead to adoption of Zig, with the build system as a kick-start. Removing support for C++ will hurt adoption a lot, because now the build of C++ projects with some additional Zig code will be even worse than just adding more cmake. Thus, a lot of projects wouldnt benefit from Zig in terms of quality of life, as it is yet another build tool.</li>
<li>Zig is with its &#34;batteries included&#34; cross-compilation the best toolchain for doing native development. We would basically downgrade our toolchain to something Go where we rely on external tools to successfully build more complex projects. Even in the current state, its often so much easier to yeet zig at something to get it to build than even trying to get a cross-build running with existing tools</li>
<li>Considering the scenario i have at work, introducing Zig as a build environment for several million lines of C++ would make a lot of people happy, as the builds would be faster, easier maintainable and trivially portable to other OS. With C++ and LLVM support removed, i dont see any chance of Zig adoption at this company</li>
</ul>
<p dir="auto">Imho, this proposal strongly violates the</p>
<blockquote>
<p dir="auto">Together we serve end users</p>
</blockquote>
<p dir="auto">idea, as the current direction we&#39;re heading is a really good unified native build environment based on a single static executable that can serve projects in arbitrar, sizes, shipping compilers for several major languages, a huge ass support for targets and a build system, making work in systems programming fun, even if one doesnt use Zig as a language.</p>
<p dir="auto">We are on a good way to replace a huge list of tools with a single executable, making contributions to projects build on Zig fun, easy and platform independent.</p>
<p dir="auto">When this proposal is accepted, in addition to Zig one will need to have the following tools installed:</p>
<ul dir="auto">
<li>(GNU) Make</li>
<li>premake</li>
<li>meson</li>
<li>CMake</li>
<li>ninja</li>
<li>
<math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="ccd9384df2c6eb6727c175cb892db27c">$(arch)-$</math-renderer>(os)-$(abi)-gcc</li>
<li>llvm/clang</li>
<li>GNU autotools</li>
<li>m4</li>
<li>vcpkg</li>
<li>gradle</li>
<li>conan</li>
<li>qmake</li>
<li>SCons</li>
<li>maven</li>
<li>...</li>
</ul>
<p dir="auto">We can potentially replace all of those tools wit a single, equally powerful executable, making the live easier for all native devs out there</p>
<p dir="auto">personal projects that would be affected:</p>
<ul dir="auto">
<li>
<a href="https://github.com/MasterQ32/cg-workbench">https://github.com/MasterQ32/cg-workbench</a> (fully written in C++)</li>
<li>
<a href="https://github.com/MasterQ32/zero-graphics">https://github.com/MasterQ32/zero-graphics</a> (Scintilla is written in C++)</li>
<li>
<a href="https://github.com/MasterQ32/zig-assimp">https://github.com/MasterQ32/zig-assimp</a> (Assimp is the de-facto standard solution for generic 3D model loading, written in C++)</li>
</ul>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-7accfef6-43f1-4075-a1cd-870ad36e6d10" for="reactions--reaction_button_component-a69c2b" data-direction="n" data-type="description" data-view-component="true">InKryption, foxnne, feenor, scheibo, GeffDev, pdeva, wub, mattnite, teburd, andrevoget, and 44 more reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-b19f8b2d-5fb6-4637-a341-568d8951278c" for="reactions--reaction_button_component-203255" data-direction="n" data-type="description" data-view-component="true">lin72h and strager reacted with thumbs down emoji</tool-tip>
          <tool-tip id="tooltip-a4cfdbbe-b21c-49f7-aebd-e9934fb054d9" for="reactions--reaction_button_component-9c9272" data-direction="n" data-type="description" data-view-component="true">mlarouche, xdBronch, foxnne, feenor, wub, a-tarasyuk, fabioarnold, mohsinhijazee, SoraTenshi, moenie99, and 2 more reacted with heart emoji</tool-tip>
          <tool-tip id="tooltip-14a17fa2-97e4-4f40-89d6-3bc493e55f4d" for="reactions--reaction_button_component-524de8" data-direction="n" data-type="description" data-view-component="true">andrewrk and moenie99 reacted with eyes emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMt3I">
  
      
<div data-gid="IC_kwDOAmaRMs5gMt3I" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMt3I/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/foxnne/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/foxnne"><img src="https://avatars.githubusercontent.com/u/49629865?s=80&amp;u=7c8b1b5554e9cb7d7a317f1dd2b28c7daa852116&amp;v=4" width="40" height="40" alt="@foxnne"/></a>

</p>


  <div id="issuecomment-1613946312">

    <div data-body-version="d4534901db9334d02527f44e9d5b99ccf970c3ae20c5b9b01a0d9c84f7f5988b">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I&#39;m still a beginner I believe, but if it is at all worth it for me to give my point of view, Zig&#39;s ability to replace all of the build tools mentioned above is a big reason I was interested in Zig in the first place. I struggled a lot with all the different build systems and Zig is a really refreshing breath of fresh air.</p>
<p dir="auto">I have two personal projects that use <a href="https://github.com/michal-z/zig-gamedev/tree/main/libs/zgui">zgui</a> heavily and I had planned on continuing.</p>
<ul dir="auto">
<li><a href="https://github.com/foxnne/pixi">Pixi</a></li>
<li><a href="https://github.com/foxnne/aftersun">Aftersun</a></li>
</ul>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMvBB">
  
      
<div data-gid="IC_kwDOAmaRMs5gMvBB" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMvBB/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slimsag/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slimsag"><img src="https://avatars.githubusercontent.com/u/3173176?s=80&amp;u=38ff1955ff35f0882e77048d78221ea82fb9c5db&amp;v=4" width="40" height="40" alt="@slimsag"/></a>

</p>


  <div id="issuecomment-1613951041">

    <div data-body-version="3cff0d8e0d48c9fa2e91f65e3ec6076761c83c222013bcb092d72e4811188933">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1613951041-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since October 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">With <a href="https://machengine.org" rel="nofollow">Mach engine</a> we have two dependencies that would be very, very painful to remove (would set us back years):</p>
<ol dir="auto">
<li>DirectXShaderCompiler (DXC) - a Microsoft fork of LLVM 3.7, which generates DXIR (LLVM IR) which is what direct3d graphics drivers consume. Microsoft is trying to upstream support for emitting DXIR (specifically LLVM v3.7 IR) to the latest LLVM/clang version.</li>
<li>Calling into Apple&#39;s Metal shader compiler - which converts Metal&#39;s text shading language into (yet another fork) LLVM IR bytecode, which is what the Metal API consumes - only this one is proprietary and undocumented. Obj-C is the only way to invoke it, I believe.</li>
</ol>
<p dir="auto">It will be a long time before Zig&#39;s SPIRV backend is capable enough to generate non-GPGPU <em>shaders</em> for graphics APIs (if ever, since it would likely require major language changes) - so I don&#39;t see a way for us to escape these aside from replicating what these two projects -- LLVM forks -- do on our side.</p>
<p dir="auto">Every other C++ dependency I believe we could safely escape from.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMv8O">
  
      
<div data-gid="IC_kwDOAmaRMs5gMv8O" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMv8O/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slimsag/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slimsag"><img src="https://avatars.githubusercontent.com/u/3173176?s=80&amp;u=38ff1955ff35f0882e77048d78221ea82fb9c5db&amp;v=4" width="40" height="40" alt="@slimsag"/></a>

</p>


  <div id="issuecomment-1613954830">

    <div data-body-version="9502671b73db24cf078926ef26d92399ecedec0d4970a62b193d968ac789a3bd">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1613954830-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since October 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">A positive long-term effect of this change is that it would push us as a community away from wrapping C++ code and towards more pure-Zig solutions.</p>
<p dir="auto">Many of the comments in this thread are about people using zgui, wwise, zig-gamedev, assimp, and other C++ libraries wrapped with Zig. It gives you a leg up in the short term, but I worry in the long-term that people&#39;s gamedev experiences coming to Zig will be &#39;initially I saw a nice language... then I encountered the guts of the libraries I was told to use were large, clunky C++ codebases&#39;</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMwts">
  
      
<div data-gid="IC_kwDOAmaRMs5gMwts" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMwts/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/GeffDev/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GeffDev"><img src="https://avatars.githubusercontent.com/u/88239718?s=80&amp;u=17af9aca065bb6a5461e240bd621b92964afdb2f&amp;v=4" width="40" height="40" alt="@GeffDev"/></a>

</p>


  <div id="issuecomment-1613957996">

    <div data-body-version="f612c771078586ddb654db67d22da44d5339d4806068cb035e739227e7808bc0">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Also a beginner, but I think being able to use Zig as a C++ build system (which is what I use for all my private C++ projects) is an invaluable feature to me and I believe many other people. The simplicity of Zig, having a compiler and a build system contained within a single executable (with the added bonus of being easily cross platform), is really cool, and it would be kinda unfortunate to see that feature be removed as an effect of removing clang and friends. However, if this does go through, the ability to fallback to generating <code>.bc</code> files and invoking clang is nice.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMzHR">
  
      
<div data-gid="IC_kwDOAmaRMs5gMzHR" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMzHR/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/yujiri8/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yujiri8"><img src="https://avatars.githubusercontent.com/u/16864184?s=80&amp;u=a2a190160cac5d040938ab8e9a595de177c7f25a&amp;v=4" width="40" height="40" alt="@yujiri8"/></a>

</p>


  <div id="issuecomment-1613967825">

    <div data-body-version="bab0ca2ec852b4d4c04c777137ea26480e4e71eeea0ff5ef29e288654e3cdc5d">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">One of my friends pointed out that nothing stops you from invoking clang in a build.zig to compile C++ dependencies, even if Zig stops including clang. I wonder how much of a problem that would really be for these projects?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMznc">
  
      
<div data-gid="IC_kwDOAmaRMs5gMznc" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMznc/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/xdBronch/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/xdBronch"><img src="https://avatars.githubusercontent.com/u/51252236?s=80&amp;v=4" width="40" height="40" alt="@xdBronch"/></a>

</p>


  <div id="issuecomment-1613969884">

    <div data-body-version="3b2ee87966b945dc818ff43ea0e9c69373f5d2c4b5e83754e90762eb5727ee03">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">doing that would be an additional dependency without the ease of zigs cross compilation</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM5l5">
  
      
<div data-gid="IC_kwDOAmaRMs5gM5l5" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM5l5/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/yujiri8/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yujiri8"><img src="https://avatars.githubusercontent.com/u/16864184?s=80&amp;u=a2a190160cac5d040938ab8e9a595de177c7f25a&amp;v=4" width="40" height="40" alt="@yujiri8"/></a>

</p>


  <div id="issuecomment-1613994361">

    <div data-body-version="e1b9aea97dfc8f1d1c7e9a647938bdec355f60a3a4ed3ce91073334c11513f3c">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Hmm, the more I think about this proposal the less I like it. I&#39;m feeling it would be better to make the LLVM backend non-default (that is, switch <code>-fno-LLVM</code> for <code>-fLLVM</code> or something) but not remove it. It seems like this would solve <em>most</em> of the issues: the existence of many bugs that are LLVM&#39;s fault, and the slow compile speed, aren&#39;t strong reasons to <em>remove</em> the LLVM backend so much as make it non-default. It wouldn&#39;t solve the issues of the binary size of the zig compiler or difficulties with building it, of course.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM5rF">
  
      
<div data-gid="IC_kwDOAmaRMs5gM5rF" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM5rF/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/musi-musi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/musi-musi"><img src="https://avatars.githubusercontent.com/u/96550473?s=80&amp;u=8ce8b443e5e54558badb829080a901f96c913b88&amp;v=4" width="40" height="40" alt="@musi-musi"/></a>

</p>


  <div id="issuecomment-1613994693">

    <div data-body-version="b0e91ee364e6033b273647e61d7d3d4d7d2da25d0fbe8c341ef13d0da3e0f7a7">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I think I can speak for all gamedevs by saying that removing C++ compilation would be a disaster. Too many amazing existing gamedev libraries and tools are built on C++ that disallowing easy use would strangle adoption in that field, as well as complicate existing projects. dear imgui is the obvious example but it&#39;s not the only one.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM6Oc">
  
      
<div data-gid="IC_kwDOAmaRMs5gM6Oc" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM6Oc/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/musi-musi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/musi-musi"><img src="https://avatars.githubusercontent.com/u/96550473?s=80&amp;u=8ce8b443e5e54558badb829080a901f96c913b88&amp;v=4" width="40" height="40" alt="@musi-musi"/></a>

</p>


  <div id="issuecomment-1613996956">

    <div data-body-version="a0711b06bd1f32c0009f3390cd047f2ddf4a8ce338e46765e8a7ce920476cd35">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">It&#39;s easy to imagine that in the long term, this change will push us towards &#34;rewrite it in zig&#34; with all the benefits that would entail, but the downside is that the existing corpus becomes inaccessible; limiting our options heavily even once zigs ecosystem matures</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM6To">
  
      
<div data-gid="IC_kwDOAmaRMs5gM6To" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM6To/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Jack-Ji/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Jack-Ji"><img src="https://avatars.githubusercontent.com/u/1416077?s=80&amp;u=b507276927df9cfb5a72b4a36ad61374827b8a5a&amp;v=4" width="40" height="40" alt="@Jack-Ji"/></a>

</p>


  <div id="issuecomment-1613997288">

    <div data-body-version="1cdb282a9e682b36a10536377f7e54cbb2a0b9cb6e0141ea09c4a61db481938f">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I think llvm is needed until ecosystem of pure-zig library is very very mature and rich.</p>
<p dir="auto">Yeah we want faster compiling speed and smaller tarball, but not at the risk of losing one-zig-to-rule-all.</p>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-473342d7-5ac4-443f-8c15-2e644695d2c3" for="reactions--reaction_button_component-16df02" data-direction="n" data-type="description" data-view-component="true">yujiri8, fifty-six, lacc97, strager, TeddyDD, zhangyoufu, seandewar, lwwmanning, cassepipe, ssnailed, and 2 more reacted with thumbs up emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM839">
  
      
<div data-gid="IC_kwDOAmaRMs5gM839" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM839/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/ethernetsellout/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ethernetsellout"><img src="https://avatars.githubusercontent.com/u/70680796?s=80&amp;u=0b97a012e6710a04c2e5bbab534a979c36038f5d&amp;v=4" width="40" height="40" alt="@ethernetsellout"/></a>

</p>


  <div id="issuecomment-1614007805">

    <div data-body-version="eef426dc62c119d49cefc782edd860d203b95e694f3c906503bf4c680a9ec3a6">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I love the ambition of this proposal, but to reiterate what has already been stated, losing c++ compilation would be losing one of the main selling points of zig. I was drawn to zig in part because it reduces the hellishness of depending on c/c++ projects. Zig having a c++ compiler inside it also has the benefit of there being less c++ to have to deal with, less python to have to deal with, less cmake to have to deal with.</p>
<p dir="auto">On the other hand, the core of this proposal has too many benefits for it to be rejected entirely. I think reducing the scope would be beneficial. How about:</p>
<ul dir="auto">
<li>Eliminate dependencies on LLVM &amp; LLD</li>
<li>Keep clang as an optional dependency for easy cross-compilation</li>
</ul>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM861">
  
      
<div data-gid="IC_kwDOAmaRMs5gM861" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM861/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/alexrp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexrp"><img src="https://avatars.githubusercontent.com/u/44076?s=80&amp;u=0310879472e1e159b5f89ac6e1c289306eda4e70&amp;v=4" width="40" height="40" alt="@alexrp"/></a>

</p>


  <div id="issuecomment-1614007989">

    <div data-body-version="ef3a3cf010f60a0b6e24a43811ef9d9891fb71a12ca69e2ad293074e51e9944d">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I totally get the desire to get rid of huge third-party dependencies that bring a lot of baggage. There&#39;s also something to be said for avoiding an LLVM monoculture in the programming language space.</p>
<p dir="auto">Even so, I see this as a net negative for users. What drew me to Zig in the first place was the pragmatic approach of acknowledging that there is a world outside of Zig that needs to be interoperated with for the foreseeable future <em>and</em> even providing a best-in-class cross-compilation experience along with that. I built my <a href="https://github.com/vezel-dev/zig-sdk">project</a> integrating Zig build support with the .NET/MSBuild ecosystem on that selling point.</p>
<p dir="auto">On the whole, I think this proposal would be an unfortunate (if well-intentioned) bait-and-switch, considering the Zig website for a while has advertised this:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/44076/249965883-f3ab333f-3a39-42c9-a41d-166baaab5716.png"><img src="https://user-images.githubusercontent.com/44076/249965883-f3ab333f-3a39-42c9-a41d-166baaab5716.png" alt="image"/></a></p>
<p dir="auto">In addition, these blog posts drove a lot of attention to Zig in the past:</p>
<ul dir="auto">
<li><a href="https://andrewkelley.me/post/zig-cc-powerful-drop-in-replacement-gcc-clang.html" rel="nofollow"><code>zig cc</code>: a Powerful Drop-In Replacement for GCC/Clang</a></li>
<li><a href="https://kristoff.it/blog/maintain-it-with-zig" rel="nofollow">Maintain it With Zig</a></li>
</ul>
<p dir="auto">Just to be super clear: I don&#39;t mean to insinuate bad faith or anything of the sort here. But I think it&#39;s fair to say that you have to contend with the fact that this proposal would pull features that are not only usable today, but are also prominently advertised.</p>
<hr/>
<p dir="auto">All that said... assuming this is even remotely practical, maybe there&#39;s a potential middle ground: Would it be possible for Zig to continue to use the Clang frontend to provide C-family support, but rip out the LLVM IR lowering and replace it with lowering to ZIR/AIR? (I guess this is more or less how Aro would be integrated too?)</p>
<p dir="auto">If this could be done, the codegen dependency on LLVM could be killed, achieving at least some of the goals of this proposal. There&#39;s probably also no reason to keep LLD support around as long as zld can catch up, so that eventually goes too. And users remain happy. Some of the build and distro woes would remain, of course, but, that&#39;s compromise.</p>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-6d85e310-228c-4f95-b34a-7371a35dabf5" for="reactions--reaction_button_component-e1dc4c" data-direction="n" data-type="description" data-view-component="true">ccapitalK, axojhf, mitchellh, mlarouche, ethernetsellout, wedow, truemedian, candrewlee14, jnbooth, smasher164, and 27 more reacted with thumbs up emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNClb">
  
      
<div data-gid="IC_kwDOAmaRMs5gNClb" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNClb/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/AdamGoertz/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/AdamGoertz"><img src="https://avatars.githubusercontent.com/u/36753247?s=80&amp;v=4" width="40" height="40" alt="@AdamGoertz"/></a>

</p>


  <div id="issuecomment-1614031195">

    <div data-body-version="bee800cc3355a60dce95a5c8144fde8cdbf0baed7658c6e8e4aed763e08ca259">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I’m fully in favor of making it <em>possible</em> to use Zig without any LLVM components, but I agree with many of the comments here that it’s important for Zig to maintain the capabilities that it currently has in terms of cross-compilation, compiling C/C++ code seamlessly, and generating maximally performant binaries.</p>
<p dir="auto">These factors are big drivers of Zig’s adoption, and I fear that damaging them (even temporarily as in the case of code generation quality) would seriously hurt Zig’s future.</p>
<p dir="auto">Personally, I work in the robotics space, where C++ is the dominant language for many libraries and frameworks. I think Zig has a lot of potential in this space, but being able to integrate with existing libraries is absolutely essential for adoption.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNDvL">
  
      
<div data-gid="IC_kwDOAmaRMs5gNDvL" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNDvL/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/hryx/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/hryx"><img src="https://avatars.githubusercontent.com/u/1066883?s=80&amp;v=4" width="40" height="40" alt="@hryx"/></a>

</p>


  <div id="issuecomment-1614035915">

    <div data-body-version="89ec23272047b776fe22e7dad9175f367fa12919636d210e8696bb744a971363">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1614035915-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since July 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Is there a story in this proposal for JIT compilation? I have a Zig project with currently relies on LLVM&#39;s Orc to JIT-compile audio DSP functions. I&#39;m not particularly stoked about or attached to Orc itself, but it does give me in-process compilation with low-milliseconds latency, something I&#39;d need for dynamic real-time audio applications.</p>
<p dir="auto">WebAssembly would not be an issue here because I wrote the Wasm compiler myself, but for x86_64 and friends I would need a replacement. Passing LLVM bitcode to a separate process might work but would feel like a downgrade. Vendoring and embedding the Zig compiler source might be the best option in that case.</p>
<p dir="auto">(Aside: I have started work on reading and writing LLVM bitcode from Zig, and if this is accepted would be happy to resume work on that.)</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNKWP">
  
      
<div data-gid="IC_kwDOAmaRMs5gNKWP" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNKWP/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/mitchellh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mitchellh"><img src="https://avatars.githubusercontent.com/u/1299?s=80&amp;u=cc88a733b0c95bdfd323ec661c0da4c6768c4e4b&amp;v=4" width="40" height="40" alt="@mitchellh"/></a>

</p>


  <div id="issuecomment-1614062991">

    <div data-body-version="72433de1b269bd94c0ec2f6856fd27f075871340be72c4b5ad5faa1550110a08">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1614062991-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since February 2022" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I&#39;ll start by stating my opinion: the C language frontends are super important to me for Zig to maintain.</p>
<p dir="auto">I agree with others on the point that Zig being a C/C++ compiler is a big point of attraction that brought me to the language. I started with loving that idea, and ultimately fell in the love with the language, and now I use both. I don&#39;t have anything more to add to that that the others above haven&#39;t.</p>
<p dir="auto">I&#39;ll add my own personal experience. I have many personal Zig projects, but my biggest one that people tend to know about in the community is my terminal emulator. There are two important dependencies that would be impacted by this:</p>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://github.com/harfbuzz/harfbuzz">Harfbuzz</a> - The far and away single most complete cross platform text shaping engine. Text shaping for those that don&#39;t know is the process of laying out text, processing things like multi-codepoint emoji into single glyphs, Asian language handling, etc. This is not something you want to really maintain in your own language (i.e. write natively in Zig) because Harfbuzz is <em>so good</em> and <em>so well supported</em>. This is shipped as a single large C++ file with no other dependencies. Without access to Harfbuzz, gaming and manual-GUI applications (not using a mega framework) would surely suffer.</p>
</li>
<li>
<p dir="auto">Objective-C for Mac work. Admittedly, this is probably deprecated over the long term since Apple is pushing very hard into Swift. Still, I use Zig&#39;s ability to compile Objective-C files to augment my native Zig Mac applications. I&#39;ve personally written Zig objective-C bindings using the C API, but I also still like to just write some ObjC sometimes which would otherwise take a big mess of Zig/ObjC-runtime code. Again, I think I could find a way around this one, but I think its worth noting for now that ObjC is still a part of [low-level] macOS GUI development.</p>
</li>
</ul>
<p dir="auto">Andrew, your dislike of C++ is well known! I don&#39;t love it either (to put it kindly). If, as an audacious goal, you wanted Zig to lower C++ usage, I think Zig being able to compile existing projects and enable iterative migration away from C++ to Zig is the way to do it. I think if Zig doesn&#39;t support C++, the C++ &#34;people&#34; would just avoid Zig altogether.</p>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-5a552b28-1d48-486b-8fd8-eedc1746d254" for="reactions--reaction_button_component-7aa012" data-direction="n" data-type="description" data-view-component="true">mlarouche, axojhf, shepherdjerred, jiacai2050, tamalsaha, zacksiri, PT600, candrewlee14, yujiri8, rcousens, and 27 more reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-f8a8e1a6-0a6c-4f6a-89f6-b9db390dd9fb" for="reactions--reaction_button_component-51b176" data-direction="n" data-type="description" data-view-component="true">anacrolix reacted with laugh emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNSJH">
  
      
<div data-gid="IC_kwDOAmaRMs5gNSJH" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNSJH/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/TUSF/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/TUSF"><img src="https://avatars.githubusercontent.com/u/8594356?s=80&amp;v=4" width="40" height="40" alt="@TUSF"/></a>

</p>


  <div id="issuecomment-1614094919">

    <div data-body-version="c5bd0a4caeb6d7189d35310fa1f38630f70fb585f826a374e81ffb9558064cc9">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Main gripe seems to be the need/desire to be able to compile C++ due to the mountain of pre-existing libraries that are already being used in the Zig ecosystem. For this proposal to satisfy people and not to break a huge selling point for Zig, a C++ (and ObjC?) compiler in Zig would have to be up-streamed.</p>
<p dir="auto">Dunno what madman will be the one to write that tho.</p>
<p dir="auto">At the very least, any kind of serious effort towards removing LLVM should be done <em>after</em> reaching 1.0.</p>
<p dir="auto">That said, I don&#39;t think divorcing from LLVM itself is a bad idea, if the Zig toolchain itself can slowly grow to replace its functionality, just so long as it sticks around until opting out of it doesn&#39;t result in Zig losing out on its existing features.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNVCm">
  
      
<div data-gid="IC_kwDOAmaRMs5gNVCm" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNVCm/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/presentfactory/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/presentfactory"><img src="https://avatars.githubusercontent.com/u/6422030?s=80&amp;u=39dc74c1cfcff8bdb7789c7f5b955a2e15d2b38b&amp;v=4" width="40" height="40" alt="@presentfactory"/></a>

</p>


  <div id="issuecomment-1614106790">

    <div data-body-version="f581599afd35e682e896debd0eece71c5ea046e92b579e49c03ceb66c6879759">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">While I can see this being a good thing in theory I like others have concerns over what it will do more short term. Zig to me is expected to be a highly performant language competitive with languages like C, if it is not performant then it impacts my ability to use it for writing the projects I am making in it because it simply will be a worse option in practice for such things.</p>
<p dir="auto">Perhaps this could be mitigated if the C backend becomes fully functional to allow projects to compile to C code and have those compile with typical C compilers for when performance is needed, but otherwise I do not think this would be well-advised until some sort of reasonable performance guarantee can be made. Even with the Zig-&gt;C-&gt;Machine Code process I feel like you&#39;d be losing some optimization potential as no longer would Zig be able to annotate LLVM IR directly and would instead be confined by whatever C can express language wise so that might not even be a foolproof option either (though at the very least it&#39;d hopefully put it on the level of C for most things).</p>
<p dir="auto">Edit: Apparently I&#39;ve been told this is what the bitcode support could be used for, I&#39;ve never used LLVM bitcode stuff myself before but yeah if that&#39;s a supported target and still gets focus knowing people will be using it to generate higher quality optimized code until Zig can compete maybe this is less of an issue, albeit a bit more convoluted in how a project would have to be compiled.</p>
<p dir="auto">Frankly with how insanely complex x86 is and how much work has gone into LLVM over the years I am doubtful Zig would ever reach the same standard of performance. Other larger languages like Rust which aren&#39;t even as entangled with C++ haven&#39;t tackled this sort of challenge yet either for instance despite the some similar motivation to and more developer resources at their disposal, and to me that is not a very promising sign for its feasibility (though of course Zig could always be the first thing to prove this long-held mindset of LLVM being impossible to replace wrong...).</p>
<p dir="auto">Also as an aside while I am not as invested in the C++ compilation support as others may be I do think that it&#39;d hurt a lot of projects. Being a gamedev myself losing the ability to use ImGui would be unfortunate as others have mentioned, and personally I also use <a href="https://github.com/wolfpld/tracy">Tracy</a> in some of my Zig projects which is also C++-based. It wouldn&#39;t be too hard to just compile these libraries and link to their binaries (or use a system library I suppose) but still that just makes Zig a bit more pain to interface with this stuff.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNX4s">
  
      
<div data-gid="IC_kwDOAmaRMs5gNX4s" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNX4s/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/xdBronch/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/xdBronch"><img src="https://avatars.githubusercontent.com/u/51252236?s=80&amp;v=4" width="40" height="40" alt="@xdBronch"/></a>

</p>


  <div id="issuecomment-1614118444">

    <div data-body-version="d0221cf031f68fc6351201e74bd0b781e21edcba28eed5eaf564f48c6c95fdbd">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Another thing that I don&#39;t think has been mentioned/considered yet, if this proposal were to go through, and that were to happen around or after the time that 1.0 is released, it could cause a split in the zig community.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNd-i">
  
      
<div data-gid="IC_kwDOAmaRMs5gNd-i" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNd-i/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/XVilka/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/XVilka"><img src="https://avatars.githubusercontent.com/u/203261?s=80&amp;u=1f62654dd929e7c04961142f54d270675289da7f&amp;v=4" width="40" height="40" alt="@XVilka"/></a>

</p>


  <div id="issuecomment-1614143394">

    <div data-body-version="6884936c3cba883bf7af0fb125b7c70d269b3d14c4b1504d0de505ababe10ac0">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I agree that apart from the mentioned problems with LLVM, it also struggles with the a baggage of legacy code, e.g. in TableGen modules, in how Clang is tied to LLVM compared to the newer compilers that use middle-level intermediate languages, how story of migration from FastISel and SelectionDAG to GlobalISel stalled for many years and isn&#39;t really progressing for all supported architectures, and so on and so forth. Using C++ language for writing such a complex piece of software doesn&#39;t help either. But even Rust didn&#39;t dare to get rid of it just yet. Thus, I think it would be prematurely to do that for Zig either. Long-term it might be a worthy goal, but definitely not in the upcoming 5 years or so, in my opinion. Just my 2c.</p>
<p dir="auto">I second <a data-hovercard-type="user" data-hovercard-url="/users/yujiri8/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yujiri8">@yujiri8</a> here, having optional LLVM target for many years while working on the Zig backends would be a perfect strategy, reducing the maintenance of LLVM parts and providing room for experimentation and optimization of the mainstream targets directly in the Zig code: ARM64 and x86_64, probably RISC-V in the future, if it really takes off. GHC (Haskell) uses the similar approach for at least a decade already, it seems to work for them.</p>
<p dir="auto">P.S. Why PE format is not in the list for linker?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNe09">
  
      
<div data-gid="IC_kwDOAmaRMs5gNe09" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNe09/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/PhilippWendel/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/PhilippWendel"><img src="https://avatars.githubusercontent.com/u/41269321?s=80&amp;u=77dea5bdb66a163fab6fb22dd04ce2a3a9ea6db5&amp;v=4" width="40" height="40" alt="@PhilippWendel"/></a>

</p>


  <div id="issuecomment-1614146877">

    <div data-body-version="d8c403c901cf69d692a075821ae6094025e4b752038c07c57a4d3bc297dd3ba1">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Maybe the best long-term solution would be to offer some kind of plugin system for the zig compiler.</p>
<p dir="auto">Pros:</p>
<ul dir="auto">
<li>The compiler itself could take advantage of  all the stuff listed by Andrew</li>
<li>Stuff that the community considers important, like compiling c++ could still be supported</li>
<li>You only &#34;pay&#34; for what you are actually using</li>
<li>We need some way to interact with different compilers/tool anyway to take full advantage of the c-backend, e.g. compiling zig code for some exotic platform that only has an compiler for c. This could be a more stable approach than just scripting with build.zig.</li>
<li>It would make it easier for people to add interoperability for even more languages than just c/c++ and experimenting with features in general</li>
<li>Could result in some federation. While a second implementation of zig compiler is a long time away, having a plugin system would allow different implementation of parts by the community, e.g. clang and arocc</li>
</ul>
<p dir="auto">Cons:</p>
<ul dir="auto">
<li>Duck tons of work</li>
<li>Even more stuff breaking when a new compiler version releases</li>
</ul>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNkVg">
  
      
<div data-gid="IC_kwDOAmaRMs5gNkVg" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNkVg/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/ducktype/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ducktype"><img src="https://avatars.githubusercontent.com/u/122023?s=80&amp;v=4" width="40" height="40" alt="@ducktype"/></a>

</p>


  <div id="issuecomment-1614169440">

    <div data-body-version="8000e526e6cb495596483a3b6c45c7a81f8d3df7b268ada84e5b1f4034481a75">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">At least create a new external project to mantain the goodness of &#34;zig cc&#34; likes embedded platform SDK .h and cross compilation!!</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      



        <div data-gid="IC_kwDOAmaRMs5gNsHS">
  
      
<div data-gid="IC_kwDOAmaRMs5gNsHS" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNsHS/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/breakin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/breakin"><img src="https://avatars.githubusercontent.com/u/4445503?s=80&amp;u=1d440c5ca90cbaa73f14fcdf5c9665e2ad0ed71f&amp;v=4" width="40" height="40" alt="@breakin"/></a>

</p>


  <div id="issuecomment-1614201298">

    <div data-body-version="6f1471d75a39fe8fd863282f5a20b1c584cfeb5dd4480d5660c0895a69510c65">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">There are a lot of people worried that loosing C++-support would be a problem.</p>
<p dir="auto">I am curious how much of those problems would still remain if Aro (or something else) somehow over the year gained C++-parsing support. Would that help 50% of the worried people? 100%? 0%? There is a difference between parsing C++ and making libraries that are binary compatible with it so it might be harder that just parsing it so that is why I am curious!</p>
<p dir="auto">An alternative idea here might be to try to remove LLVM/clang over time and also add C++-parsing support to Aro (or something else) such that when the switch actually happens, nothing goes away (or at least C++ doesn&#39;t go away).</p>
<p dir="auto">Zig has ended up in a weird situation where on one hand it is a language but then maybe people like it because of how good it is at cross-compiling and mixing languages.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gNxmg">
  
      
<div data-gid="IC_kwDOAmaRMs5gNxmg" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNxmg/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/rohlem/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rohlem"><img src="https://avatars.githubusercontent.com/u/9973386?s=80&amp;v=4" width="40" height="40" alt="@rohlem"/></a>

</p>


  <div id="issuecomment-1614223776">

    <div data-body-version="1e226e8dae10258feb64f81b313c8e7dc783edff7bd53638d77476873174b259">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">With my limited insight into the project, the fundamental reason for removing LLVM integration doesn&#39;t quite make sense to me.</p>
<p dir="auto">An alternative to full removal would be to make LLVM integration less of a priority:</p>
<ul dir="auto">
<li>Shift LLVM maintenance to dedicated team members / dedicated resource and time budget.</li>
<li>Reduce the scope of expectations - &#34;LLVM is only tested/verified for these targets&#34; and declare bug fixing for anything beyond out-of-scope.
<ul dir="auto">
<li>Maybe people would come together to set up their own independent funding around this.</li>
</ul>
</li>
</ul>
<p dir="auto">Moreover, the current Zig compiler already has a fully modular structure.</p>
<ul dir="auto">
<li>Is the current structure not working or suboptimal in some regard?</li>
<li>Do we have some rough sketch of time investment with LLVM vs without to reach some goal post result X?
<ul dir="auto">
<li>Zig as a whole already looks so mature, and the integration already works so well for so many use cases, that it&#39;s a bit surprising to consider this part of the project (as opposed to self-hosted components) to require that much additional time investment going forward.</li>
</ul>
</li>
</ul>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        

        <div data-gid="IC_kwDOAmaRMs5gN0dB">
  
      
<div data-gid="IC_kwDOAmaRMs5gN0dB" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gN0dB/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/ecstrema/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ecstrema"><img src="https://avatars.githubusercontent.com/u/35939574?s=80&amp;u=0d6a8abd5beb2564f320e74492247a385437f04a&amp;v=4" width="40" height="40" alt="@ecstrema"/></a>

</p>


  <div id="issuecomment-1614235457">

    <div data-body-version="fb13b104ae95f733a9f9d9917df29c2bc429cad52dfede4932ab2c60c7eb83d2">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Too many hours of work have been put into LLVM. The optimization passes, the IR and everything are really the best on the market right now and are constantly being improved. While I&#39;m sure that zig&#39;s own passes could get to an incredibly good state, in the long term, improving LLVM instead is probably still what would provide optimal executable performance, and would also benefit the whole ecosystem.</p>
<p dir="auto">If dropping LLVM dramatically improves compilation speed, then it could be used during development, for projects that don&#39;t require C++ or objective-C, in order to keep a fast development feedback cycle.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gN7PF">
  
      
<div data-gid="IC_kwDOAmaRMs5gN7PF" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gN7PF/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/asiekierka/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/asiekierka"><img src="https://avatars.githubusercontent.com/u/113514?s=80&amp;u=e952f43b9ccbaa265bef0921c7fc5c3dbf60985c&amp;v=4" width="40" height="40" alt="@asiekierka"/></a>

</p>


  <div id="issuecomment-1614263237">

    <div data-body-version="6692ed807bca1458912d1bea4f53679ad6b67fef13721c78bc0d50be7f074fb5">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Long-term, Zig plans to have Contributor-Friendly IR, or something equivalent, to optimize for low maintenance for supporting many targets that LLVM would never even dream of, for example MOS <a data-error-text="Failed to load title" data-id="713639525" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/6502" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/6502/hovercard" href="https://github.com/ziglang/zig/issues/6502">#6502</a>.</p>
</blockquote>
<p dir="auto">I&#39;m not sure that&#39;s a great argument given there&#39;s a fairly stable and performance-competitive <a href="https://llvm-mos.org/wiki/Welcome" rel="nofollow">port of LLVM to the MOS 6502</a>, actually... It even supports Rust! While it is not upstream, it hopes to be upstreamed at some point in the distant future.</p>
<p dir="auto">As a bystander, my opinion is: Removing dependency on LLVM, sure; removing any support for LLVM backends, I&#39;m skeptical (though it appears that this may not be the case -&gt; <a data-error-text="Failed to load title" data-id="1419469979" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/13265" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/13265/hovercard" href="https://github.com/ziglang/zig/issues/13265">#13265</a> ). Even languages which have maintained their own backends for decades, like Free Pascal, <a href="https://wiki.freepascal.org/LLVM" rel="nofollow">are adding LLVM as a target</a>.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gN9FQ">
  
      
<div data-gid="IC_kwDOAmaRMs5gN9FQ" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gN9FQ/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/photex/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/photex"><img src="https://avatars.githubusercontent.com/u/301903?s=80&amp;u=71190eaf8ed3a53ff257fc1934ecf3ec54f20eb6&amp;v=4" width="40" height="40" alt="@photex"/></a>

</p>


  <div id="issuecomment-1614270800">

    <div data-body-version="61a376cab4df25f514c36a0b729d2bb0b28c2e3682f1aac2823695eda33afdb4">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">And here I was trying to figure a good way to also get <code>zig lldb</code> going so that a zig toolchain is a one-stop shop for developers.</p>
<p dir="auto">I&#39;m new to Zig, but the pragmatic acceptance of reality that lead to having &#39;zig cc&#39; and &#39;zig c++&#39; come to be is what convinced me to take Zig seriously and consider it as the foundation for a lot work. I&#39;m now reconsidering and likely to put Zig back on the shelf.</p>
<p dir="auto">But I look forward to seeing how things turn out! I&#39;m pretty sure things will work themselves out for the better eventually.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOEXf">
  
      
<div data-gid="IC_kwDOAmaRMs5gOEXf" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOEXf/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/lorenzogatti/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/lorenzogatti"><img src="https://avatars.githubusercontent.com/u/166091?s=80&amp;v=4" width="40" height="40" alt="@lorenzogatti"/></a>

</p>


  <div id="issuecomment-1614300639">

    <div data-body-version="997e160aff048bdc41a33073d043d927e23ae3eed1a48241571f5a3b15365439">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/slimsag/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slimsag">@slimsag</a></p>
<blockquote>
<p dir="auto">Many of the comments in this thread are about people using zgui, wwise, zig-gamedev, assimp, and other C++ libraries wrapped with Zig. It gives you a leg up in the short term, but I worry in the long-term that people&#39;s gamedev experiences coming to Zig will be &#39;initially I saw a nice language... then I encountered the guts of the libraries I was told to use were large, clunky C++ codebases&#39;</p>
</blockquote>
<p dir="auto">Isn&#39;t it (mostly) the other way round? &#34;Initially I set up my project with good C and C++ libraries, then I wrote my stuff in Zig, and having a polyglot project never caused trouble&#34;? Particularly for a game, the guts of libraries are a rarely visited place and the long term perspective is another project with its own set of libraries.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOHYV">
  
      
<div data-gid="IC_kwDOAmaRMs5gOHYV" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOHYV/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/floooh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/floooh"><img src="https://avatars.githubusercontent.com/u/1699414?s=80&amp;u=78fddd83a07cf36de9d44ad3dd06bbea3aa773b1&amp;v=4" width="40" height="40" alt="@floooh"/></a>

</p>


  <div id="issuecomment-1614312981">

    <div data-body-version="c403396ad568d6ff42ad0e37c0231972856de91acc4bf553d9ec3123cd411459">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Oh man, this makes Zig suddenly a lot less attractive because integrated C++ and ObjC support is one of Zig&#39;s killer features to me. Without that it&#39;s &#34;just another better C&#34;.</p>
<p dir="auto">I don&#39;t care about LLVM specifically, but about losing C++ and ObjC capabilities with <code>zig cc</code>. Pretty much all of my projects integrate C++ libraries (like Dear ImGui) and on macOS some ObjC code for talking to system frameworks. If I need to suddenly deal with another compiler toolchain to compile this code then it becomes the same mess as other compilers that can&#39;t handle C++ and ObjC out of the box.</p>
<p dir="auto">At least consider including a separate clang executable in the standard Zig distribution, and call that from <code>zig cc</code>, so that we don&#39;t loose any functionality from a user&#39;s point of view.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOLoS">
  
      
<div data-gid="IC_kwDOAmaRMs5gOLoS" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOLoS/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/steeve/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/steeve"><img src="https://avatars.githubusercontent.com/u/137467?s=80&amp;v=4" width="40" height="40" alt="@steeve"/></a>

</p>


  <div id="issuecomment-1614330386">

    <div data-body-version="875c0336d26ef22997dc77ceac23f49c79e87c27285c375699667d1c4d67187e">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Adding to the quire. We are investigating writing CUDA kernels in Zig (yes, it works) and removing LLVM support would be a massive showstopper. LLVM support (and zig cc/c++) is a big reason why we want to invest heavily on Zig.</p>
<p dir="auto">It also makes Zig the actual escape hatch from C/C++ for HPC. An area in which Rust still struggles to get into in term of penetration.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOL3E">
  
      
<div data-gid="IC_kwDOAmaRMs5gOL3E" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOL3E/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/kubkon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kubkon"><img src="https://avatars.githubusercontent.com/u/1519747?s=80&amp;u=242eb0dcd1841303f3f48919c2f5120d35900f50&amp;v=4" width="40" height="40" alt="@kubkon"/></a>

</p>


  <div id="issuecomment-1614331332">

    <div data-body-version="e2e019072dc892ff888427444576a76eb369dea33e6d6b45fadd127835a4dbe6">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">And here I was trying to figure a good way to also get <code>zig lldb</code> going so that a zig toolchain is a one-stop shop for developers.</p>
<p dir="auto">I&#39;m new to Zig, but the pragmatic acceptance of reality that lead to having &#39;zig cc&#39; and &#39;zig c++&#39; come to be is what convinced me to take Zig seriously and consider it as the foundation for a lot work. I&#39;m now reconsidering and likely to put Zig back on the shelf.</p>
<p dir="auto">But I look forward to seeing how things turn out! I&#39;m pretty sure things will work themselves out for the better eventually.</p>
</blockquote>
<p dir="auto">That one is close to my heart and I would rather write a replacement than expose lldb.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gONwq">
  
      
<div data-gid="IC_kwDOAmaRMs5gONwq" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gONwq/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/gwenzek/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/gwenzek"><img src="https://avatars.githubusercontent.com/u/5920036?s=80&amp;v=4" width="40" height="40" alt="@gwenzek"/></a>

</p>


  <div id="issuecomment-1614339114">

    <div data-body-version="c29757f19791e2b5e8cb4de7b75663e369ddbfef675b983048391459e5869ae1">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Hi Andrew, thanks for your thoughts.</p>
<p dir="auto">Is there an estimate of how much time you or the core team is spending on LLVM related issues?</p>
<p dir="auto">Post 1.0 there is also the question of how to handle LLVM versions. Will Zig need to be frequently updated to work with last LLVM or will it ship with an old LLVM version? Dropping LLVM avoids that question.</p>
<p dir="auto">Removing LLVM will be a set back in the number of supported target (I&#39;m thinking Nvidia GPU, but I&#39;m sure there are more).</p>
<p dir="auto">Zig code seems to be easier to optimize than C++ so maybe some custom optimizations could go a long way. Is there someone working on adding some basic optimization passes in Zig?</p>
<p dir="auto">In general I&#39;m concerned this will set back Zig 1.0 a few years back. Do you think dropping LLVM will help you move faster?  Can some of the LLVM associated churn be offloaded ?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        

        <div data-gid="IC_kwDOAmaRMs5gOTal">
  
      
<div data-gid="IC_kwDOAmaRMs5gOTal" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOTal/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/floooh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/floooh"><img src="https://avatars.githubusercontent.com/u/1699414?s=80&amp;u=78fddd83a07cf36de9d44ad3dd06bbea3aa773b1&amp;v=4" width="40" height="40" alt="@floooh"/></a>

</p>


  <div id="issuecomment-1614362277">

    <div data-body-version="f02c3167ab087c4226d529fff9c1f5d91f05fd0d97a899aac6e4552cc3d27e40">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/lorenzogatti/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/lorenzogatti">@lorenzogatti</a></p>
<blockquote>
<p dir="auto">Particularly for a game, the guts of libraries are a rarely visited place and the long term perspective is another project with its own set of libraries.</p>
</blockquote>
<p dir="auto">Exactly, it makes little sense to replicate established popular C++ libraries like Dear ImGui or Jolt Physics in another language, it will always make more sense to use them via a bindings shim to benefit from fixes, optimizations and feature development.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOch5">
  
      
<div data-gid="IC_kwDOAmaRMs5gOch5" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOch5/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/matpow2/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/matpow2"><img src="https://avatars.githubusercontent.com/u/735782?s=80&amp;u=f899287146cc3259dd865a51604b5ae24e288962&amp;v=4" width="40" height="40" alt="@matpow2"/></a>

</p>


  <div id="issuecomment-1614399609">

    <div data-body-version="cbee01358346474cb31e4e30d03aabb75b26d77a50d32efa1f4df2e9726d086f">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Just to add another datapoint: We have found <code>zig cc</code> to be an excellent cross-compiler for C++, and we currently ship multiple games (like Baba Is You) using it.</p>
<p dir="auto">To be honest, my impression was that <code>zig cc</code> was meant to be one of Zig&#39;s killer features, so it would definitely be a shame to see it go.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOc8f">
  
      
<div data-gid="IC_kwDOAmaRMs5gOc8f" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOc8f/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Sahnvour/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Sahnvour"><img src="https://avatars.githubusercontent.com/u/1806407?s=80&amp;u=ccfe1e85aea29abea0ba270064a93e6f187e5444&amp;v=4" width="40" height="40" alt="@Sahnvour"/></a>

</p>


  <div id="issuecomment-1614401311">

    <div data-body-version="cd551555f4af3027a9fd614913c2bd2c7445ed7446cc2523c5dfd81515484a4e">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/slimsag/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slimsag">@slimsag</a></p>
<blockquote>
<p dir="auto">Many of the comments in this thread are about people using zgui, wwise, zig-gamedev, assimp, and other C++ libraries wrapped with Zig. It gives you a leg up in the short term, but I worry in the long-term that people&#39;s gamedev experiences coming to Zig will be &#39;initially I saw a nice language... then I encountered the guts of the libraries I was told to use were large, clunky C++ codebases&#39;</p>
</blockquote>
<p dir="auto">While this is true, there are other incentives than &#34;removing C++ support&#34; for writing better libraries natively in Zig, so I wouldn&#39;t worry much about this. It&#39;s expected that this early in the life of a language, the main source of libraries are bindings.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOeWs">
  
      
<div data-gid="IC_kwDOAmaRMs5gOeWs" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOeWs/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/photex/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/photex"><img src="https://avatars.githubusercontent.com/u/301903?s=80&amp;u=71190eaf8ed3a53ff257fc1934ecf3ec54f20eb6&amp;v=4" width="40" height="40" alt="@photex"/></a>

</p>


  <div id="issuecomment-1614407084">

    <div data-body-version="b602f9b2c3711cd1829de319da633324d27d279277297f382cd48bce3ab1f634">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/kubkon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kubkon">@kubkon</a></p>
<blockquote>
<p dir="auto">That one is close to my heart and I would rather write a replacement than expose lldb.</p>
</blockquote>
<p dir="auto">I&#39;m all in favor of that myself and would love to work towards that! lldb was more of a practical matter (liblldb as a place to start). &#39;zig dbg&#39; could have been the command instead. :D</p>
<p dir="auto">The complication of python being involved with lldb was kind of mucky anyway. I just thought that it was worth starting from something that exists, learn some lessons, rinse and regroup.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOeXS">
  
      
<div data-gid="IC_kwDOAmaRMs5gOeXS" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOeXS/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/floooh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/floooh"><img src="https://avatars.githubusercontent.com/u/1699414?s=80&amp;u=78fddd83a07cf36de9d44ad3dd06bbea3aa773b1&amp;v=4" width="40" height="40" alt="@floooh"/></a>

</p>


  <div id="issuecomment-1614407122">

    <div data-body-version="72da4ff808021982f0a284f76711a2331befc38f288ed74071ad855b82c87cb3">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Assimp and friends are massive dependencies with a lot of historical cruft and bloat...</p>
</blockquote>
<p dir="auto">...but also decades of bugfixes and solid support for even obscure asset file formats. An alternative rewritten in another language will most likely take the same time, but more likely will be abandoned before it reaches the same level of maturity.</p>
<p dir="auto">I&#39;m not a fan at all of each language being its own library ecosystem island. We should strive for more language interoperability and mixed-language projects, not less.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOfrE">
  
      
<div data-gid="IC_kwDOAmaRMs5gOfrE" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOfrE/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/photex/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/photex"><img src="https://avatars.githubusercontent.com/u/301903?s=80&amp;u=71190eaf8ed3a53ff257fc1934ecf3ec54f20eb6&amp;v=4" width="40" height="40" alt="@photex"/></a>

</p>


  <div id="issuecomment-1614412484">

    <div data-body-version="a0fc32faead1f95fc36f582edd7341afe97c450dcdc0d189a7b6aa6488d6bd82">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">I&#39;m not a fan at all of each language being its own library ecosystem island. We should strive for more language interoperability and mixed-language projects, not less.</p>
</blockquote>
<p dir="auto">Amen brother.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOAmaRMs5gOgI3">
  
      
<div data-gid="IC_kwDOAmaRMs5gOgI3" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gOgI3/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Sahnvour/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Sahnvour"><img src="https://avatars.githubusercontent.com/u/1806407?s=80&amp;u=ccfe1e85aea29abea0ba270064a93e6f187e5444&amp;v=4" width="40" height="40" alt="@Sahnvour"/></a>

</p>


  <div id="issuecomment-1614414391">

    <div data-body-version="18d5650b2950719016c6694d0e1b9f33dde05d0f1b7f2a9907af448163949d1f">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">I&#39;m not a fan at all of each language being its own library ecosystem island. We should strive for more language interoperability and mixed-language projects, not less.</p>
</blockquote>
<p dir="auto">Absolutely, my point is that people who want to have pure Zig libraries will always be able to, and that it shouldn&#39;t be an argument to drop C++ support.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>




  <!-- Rendered timeline since 2023-06-30 02:48:56 -->
  
</div></div>
  </body>
</html>
