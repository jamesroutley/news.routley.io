<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ziglang/zig/issues/16270">Original</a>
    <h1>File for Divorce from LLVM</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="">
      <div data-gid="I_kwDOAmaRMs5qMRal" data-url="/ziglang/zig/issues/16270/partials/body?issue=16270" data-channel="eyJjIjoiaXNzdWU6MTc4MTYwMTk1NyIsInQiOjE2ODgwOTUxODd9--a1ac47852f1bdb333a9abcbeed0c10ba93187a376024a5b314ebebf14a38d774">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/andrewrk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/andrewrk"><img src="https://avatars.githubusercontent.com/u/106511?s=80&amp;u=c5381a852bb5385fb4380496a39ab46106b2b6dd&amp;v=4" width="40" height="40" alt="@andrewrk"/></a>

</p>

  <div id="issue-1781601957">

    <div data-body-version="fda852b6f2a56450ba57f2936b855d1476959df01f88a920766aa89b7e404365">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I&#39;m sorry honey, it&#39;s <a href="https://github.com/ziglang/zig/issues?q=is%3Aissue++label%3Abug+label%3Aupstream+LLVM">just not</a> <a href="https://github.com/ziglang/zig/issues?q=is%3Aissue++LLVM+%22unable+to+build%22">working out</a>. Our relationship worked when we were younger, but we&#39;re both older now and <a href="https://kristoff.it/blog/zig-new-relationship-llvm/" rel="nofollow">we&#39;ve grown apart</a>.</p>
<p dir="auto">This issue is to fully eliminate LLVM, Clang, and LLD <em>libraries</em> from the Zig project. The remaining ties to these projects are as follows:</p>
<ul>
<li> LLD
<ul>
<li> Mach-O (maintained by <a data-hovercard-type="user" data-hovercard-url="/users/kubkon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kubkon">@kubkon</a>)</li>
<li> ELF (<a href="https://github.com/kubkon/zld/">work in progress</a> by <a data-hovercard-type="user" data-hovercard-url="/users/kubkon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kubkon">@kubkon</a>)</li>
<li> COFF</li>
<li> WebAssembly (work in progress by <a data-hovercard-type="user" data-hovercard-url="/users/Luukdegram/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Luukdegram">@Luukdegram</a>)</li>
</ul>
</li>
<li> LLVM
<ul>
<li> <span><svg title="Open" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg><a data-error-text="Failed to load title" data-id="1419469979" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/13265" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/13265/hovercard" href="https://github.com/ziglang/zig/issues/13265">directly output LLVM bitcode rather than using LLVM&#39;s IRBuilder API<span> #13265</span></a></span></li>
<li> C backend (99% done) (<a data-hovercard-type="user" data-hovercard-url="/users/jacobly0/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jacobly0">@jacobly0</a> et al.)</li>
<li> x86 backend (90% done) (<a data-hovercard-type="user" data-hovercard-url="/users/jacobly0/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jacobly0">@jacobly0</a>, <a data-hovercard-type="user" data-hovercard-url="/users/kubkon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kubkon">@kubkon</a>, et all.)</li>
<li> wasm backend (87% done) (<a data-hovercard-type="user" data-hovercard-url="/users/Luukdegram/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Luukdegram">@Luukdegram</a>)</li>
<li> aarch64 backend</li>
<li> optimization passes</li>
</ul>
</li>
<li> Clang
<ul>
<li> <span><svg title="Open" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg><a data-error-text="Failed to load title" data-id="1781575315" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/16268" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/16268/hovercard" href="https://github.com/ziglang/zig/issues/16268">upstream Aro and use it for translate-c instead of clang<span> #16268</span></a></span></li>
<li> <span><svg title="Open" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg><a data-error-text="Failed to load title" data-id="1781582649" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/16269" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/16269/hovercard" href="https://github.com/ziglang/zig/issues/16269">use Aro to compile C code instead of clang<span> #16269</span></a></span></li>
<li> C++ source files in zig&#39;s repository are built by clang when bootstrapping
<ul>
<li> <span><svg title="Draft" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 14a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM14 7.5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm0-4.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z"></path></svg><a data-error-text="Failed to load title" data-id="1705535228" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/15657" data-hovercard-type="pull_request" data-hovercard-url="/ziglang/zig/pull/15657/hovercard" href="https://github.com/ziglang/zig/pull/15657">[WIP] src/windows_sdk.cpp: port to Zig<span> #15657</span></a></span></li>
</ul>
</li>
<li> compiling assembly files</li>
</ul>
</li>
<li> <span><svg title="Open" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg><a data-error-text="Failed to load title" data-id="1005796980" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/9828" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/9828/hovercard" href="https://github.com/ziglang/zig/issues/9828">zig ar: a drop-in llvm-ar replacement<span> #9828</span></a></span></li>
</ul>
<p dir="auto">This will remove C++, Objective-C, and Objective-C++ compilation capabilities from Zig. In the near term, the machine code generated by Zig will become less competitive. Long-term, it may catch up or even surpass LLVM and GCC.</p>
<p dir="auto">In the near term it would also reduce the number of targets Zig supports, since LLVM has a nice laundry list. However, LLVM supports fewer targets than you think... we are constantly running into bugs and <a href="https://github.com/llvm/llvm-project/blob/release/16.x/llvm/lib/Target/Mips/MCTargetDesc/MipsELFObjectWriter.cpp#L461-L495">embarrassing O(N^2) code</a> for pretty much every target except x86, aarch64, and webassembly. Long-term, Zig plans to have Contributor-Friendly IR, or something equivalent, to optimize for low maintenance for supporting many targets that LLVM would never even dream of, for example MOS <a data-error-text="Failed to load title" data-id="713639525" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/6502" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/6502/hovercard" href="https://github.com/ziglang/zig/issues/6502">#6502</a>.</p>
<p dir="auto">Note that there would still be an LLVM backend for outputting <code>.bc</code> files (<a data-error-text="Failed to load title" data-id="1419469979" data-permission-text="Title is private" data-url="https://github.com/ziglang/zig/issues/13265" data-hovercard-type="issue" data-hovercard-url="/ziglang/zig/issues/13265/hovercard" href="https://github.com/ziglang/zig/issues/13265">#13265</a>), but the Zig compiler would lack the capability to compile .bc files into object files. LLVM or Clang would need to be installed and invoked separately for that use case.</p>
<p dir="auto">In exchange, Zig gains these benefits:</p>
<ul dir="auto">
<li>All our bugs are belong to us.</li>
<li>The compiler becomes trivial to build from source and to bootstrap with only a C compiler on the host system.</li>
<li>We stop dealing with annoying problems introduced by Linux distributions and package managers such as Homebrew related to LLVM, Clang, and LLD. There have been and continue to be <a href="https://github.com/ziglang/zig/issues?q=is%3Aissue+homebrew+">many</a>.</li>
<li>The Zig compiler binary goes from about 150 MiB to 5 MiB.</li>
<li>Compilation speed is increased by orders of magnitude.</li>
<li>We can implement our own optimization passes that push the state of the art of computing forward.</li>
<li>We can attract research projects such as <a href="https://github.com/AliveToolkit/alive2">alive2</a></li>
<li>We can attract direct contributions from Intel, ARM, RISC-V chip manufacturers, etc., who have a vested interest in making our machine code better on their CPUs.</li>
</ul>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-1b65c9b3-63ba-4fe8-8c80-ee9f579c24d9" for="reactions--reaction_button_component-b63864" data-direction="n" data-type="description" data-view-component="true">InKryption, alichraghi, Beyley, r00ster91, yaymalaga, Mindgibber, jtriley-eth, imlodinu, foucist, watsy0007, and 4 more reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-fb8eb976-5a03-4b27-a52a-55b8d1bfa067" for="reactions--reaction_button_component-bc5a18" data-direction="n" data-type="description" data-view-component="true">jvyden, viriw, and andrewschaaf reacted with laugh emoji</tool-tip>
          <tool-tip id="tooltip-5ee5b406-b921-437b-8fa1-012f3bdf411d" for="reactions--reaction_button_component-d96850" data-direction="n" data-type="description" data-view-component="true">scheibo, Jarred-Sumner, pdeva, Phalangers, zekexiao, and RohanKapurDEV reacted with confused emoji</tool-tip>
          <tool-tip id="tooltip-dc474f15-7cde-4c62-a9e3-53cf4810d5d6" for="reactions--reaction_button_component-9e0707" data-direction="n" data-type="description" data-view-component="true">mlugg, alichraghi, theoparis, Beyley, ianprime0509, batiati, usdogu, r00ster91, Mindgibber, jtriley-eth, and 7 more reacted with heart emoji</tool-tip>
          <tool-tip id="tooltip-67331427-cb4f-4b67-87e9-b70e5bf31347" for="reactions--reaction_button_component-c5b0f4" data-direction="n" data-type="description" data-view-component="true">mlugg, travisstaloch, r00ster91, alichraghi, imlodinu, achille-roussel, GithubPrankster, foucist, andrewschaaf, and artob reacted with rocket emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


      <div>
    


      

      <div data-gid="IC_kwDOAmaRMs5gMjr3">
  
      
<div data-gid="IC_kwDOAmaRMs5gMjr3" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMjr3/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/xdBronch/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/xdBronch"><img src="https://avatars.githubusercontent.com/u/51252236?s=80&amp;v=4" width="40" height="40" alt="@xdBronch"/></a>

</p>


  <div id="issuecomment-1613904631">

    <div data-body-version="4cbdcf323b237dbd5541f03c66064f5778987ccdb67f0532eef1cd7adfaee870">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I see the 1.0.0 milestone for this, is it meant to be a blocker for 1.0? or simply the goal</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMj9d">
  
      
<div data-gid="IC_kwDOAmaRMs5gMj9d" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMj9d/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/andrewrk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/andrewrk"><img src="https://avatars.githubusercontent.com/u/106511?s=80&amp;u=c5381a852bb5385fb4380496a39ab46106b2b6dd&amp;v=4" width="40" height="40" alt="@andrewrk"/></a>

</p>


  <div id="issuecomment-1613905757">

    <div data-body-version="f21a06ae3e59fa70e88931d44eb03b191e47730848270d32b3a422e620475528">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">The milestone, on an issue labeled &#34;proposal&#34;, means that a decision must be made to accept or reject that proposal before tagging the release corresponding to that milestone.</p>
<p dir="auto">For an issue labeled &#34;accepted&#34;, the milestone means that it must be implemented by then. So, if this proposal is accepted, then I will evaluate at that time which milestone to move it to.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMmem">
  
      
<div data-gid="IC_kwDOAmaRMs5gMmem" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMmem/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Jarred-Sumner/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Jarred-Sumner"><img src="https://avatars.githubusercontent.com/u/709451?s=80&amp;u=c72c2dd8b0368dc63bf2278e0f4f2ff290449cfb&amp;v=4" width="40" height="40" alt="@Jarred-Sumner"/></a>

</p>


  <div id="issuecomment-1613916070">

    <div data-body-version="b52684d3b14e2668c3da267bc06a4703eb4d1aab4620404349b2dec7cb590be8">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">In the near term, the machine code generated by Zig will become less competitive. Long-term, it may catch up or even surpass LLVM and GCC.</p>
</blockquote>
<p dir="auto">IMO, this is the biggest question. One of the most compelling reasons to use Zig is runtime performance of software written in Zig. Without LLVM&#39;s optimization passes, what will that look like?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMocp">
  
      
<div data-gid="IC_kwDOAmaRMs5gMocp" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMocp/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/nektro/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nektro"><img src="https://avatars.githubusercontent.com/u/5464072?s=80&amp;u=a84ae9f68c3b0567fe276def3ab932d2f2f6703f&amp;v=4" width="40" height="40" alt="@nektro"/></a>

</p>


  <div id="issuecomment-1613924137">

    <div data-body-version="0589cbb7e0f17fb5b5a722706df82214681649ad93ddd095fcc93769050ebaea">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Long-term, it may catch up or even surpass LLVM and GCC.</p>
</blockquote>
<blockquote>
<p dir="auto">We can implement our own optimization passes that push the state of the art of computing forward.</p>
</blockquote>
<p dir="auto">Zig will continue to implement optimization passes of its own over time and get faster.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMrIg">
  
      
<div data-gid="IC_kwDOAmaRMs5gMrIg" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMrIg/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/mlarouche/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mlarouche"><img src="https://avatars.githubusercontent.com/u/112917?s=80&amp;u=5d22efededa6d764b2f64e0899939276ebb4be6d&amp;v=4" width="40" height="40" alt="@mlarouche"/></a>

</p>


  <div id="issuecomment-1613935136">

    <div data-body-version="90aa1f5576cc82b1b2d9ccde04e4a548a244aa20d50d67ebcc0ce990fd87d6ce">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1613935136-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since July 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">So here the projects that depend on the ability to compile C++ that I currently developing:</p>
<ul dir="auto">
<li><a href="https://github.com/Cold-Bytes-Games/wwise-zig">https://github.com/Cold-Bytes-Games/wwise-zig</a>: I am using the C++ ability to compile glue code to create a C binding.  I plan to use this for audio in my game BioMech Catalyst written in Zig.</li>
<li><a href="https://github.com/Cold-Bytes-Games/wwise-zig-demo">https://github.com/Cold-Bytes-Games/wwise-zig-demo</a>: Using previous mentioned library plus <a href="https://github.com/michal-z/zig-gamedev/tree/main/libs/zgui">zgui</a> that does a nice Zig binding on top of Dear IMGUI</li>
<li>Still planning to use <code>zgui</code> for my game editor in the future.</li>
</ul>
<p dir="auto">And also some NDA game platform that have C++ only API that will require some C++-to-C glue code to be compiled, but obviously not implemented.</p>
<p dir="auto">To me, the ability to seamlessly build any C, C++ and Obj-C is a big selling point of the Zig toolchain even if it is behind a optional flag to enable LLVM and Clang when compiling Zig. A part of the hype momentum around Zig is due to that fact.</p>
<p dir="auto">If this happens, I think I will remove my donation to the Zig Software Foundation.</p>
<p dir="auto">TL;DR: Lots of libraries in the game development world (closed or open source) require the ability to compile C++.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMruB">
  
      
<div data-gid="IC_kwDOAmaRMs5gMruB" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMruB/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/MasterQ32/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MasterQ32"><img src="https://avatars.githubusercontent.com/u/3932972?s=80&amp;u=2893028da897d46ed12f55aa05a935a80e7c119b&amp;v=4" width="40" height="40" alt="@MasterQ32"/></a>

</p>


  <div id="issuecomment-1613937537">

    <div data-body-version="44d7d9610a9f4335099e8860882c5939dde6a5683e762dfc8a79d6ea0321d42e">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I think this proposal would hurt the Zig ecosystem more than it would help it, due to several reasons:</p>
<ul dir="auto">
<li>Adoption of compilers and languages in the embedded is basically driven by the code generation quality in terms of size. We have to be on-par or better than GCC and LLVM to be even considered tmto be adopted. 2%-5% bigger code is often not an annoyance, but a technical  problem.</li>
<li>A lot of projects use C++ code and might benefit from build.zig &#34;as is&#34;. This could lead to adoption of Zig, with the build system as a kick-start. Removing support for C++ will hurt adoption a lot, because now the build of C++ projects with some additional Zig code will be even worse than just adding more cmake. Thus, a lot of projects wouldnt benefit from Zig in terms of quality of life, as it is yet another build tool.</li>
<li>Zig is with its &#34;batteries included&#34; cross-compilation the best toolchain for doing native development. We would basically downgrade our toolchain to something Go where we rely on external tools to successfully build more complex projects. Even in the current state, its often so much easier to yeet zig at something to get it to build than even trying to get a cross-build running with existing tools</li>
<li>Considering the scenario i have at work, introducing Zig as a build environment for several million lines of C++ would make a lot of people happy, as the builds would be faster, easier maintainable and trivially portable to other OS. With C++ and LLVM support removed, i dont see any chance of Zig adoption at this company</li>
</ul>
<p dir="auto">Imho, this proposal strongly violates the</p>
<blockquote>
<p dir="auto">Together we serve end users</p>
</blockquote>
<p dir="auto">idea, as the current direction we&#39;re heading is a really good unified native build environment based on a single static executable that can serve projects in arbitrar, sizes, shipping compilers for several major languages, a huge ass support for targets and a build system, making work in systems programming fun, even if one doesnt use Zig as a language.</p>
<p dir="auto">We are on a good way to replace a huge list of tools with a single executable, making contributions to projects build on Zig fun, easy and platform independent.</p>
<p dir="auto">When this proposal is accepted, in addition to Zig one will need to have the following tools installed:</p>
<ul dir="auto">
<li>(GNU) Make</li>
<li>premake</li>
<li>meson</li>
<li>CMake</li>
<li>ninja</li>
<li>
<math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="ccd9384df2c6eb6727c175cb892db27c">$(arch)-$</math-renderer>(os)-$(abi)-gcc</li>
<li>llvm/clang</li>
<li>GNU autotools</li>
<li>m4</li>
<li>vcpkg</li>
<li>gradle</li>
<li>conan</li>
<li>qmake</li>
<li>SCons</li>
<li>maven</li>
<li>...</li>
</ul>
<p dir="auto">We can potentially replace all of those tools wit a single, equally powerful executable, making the live easier for all native devs out there</p>
<p dir="auto">personal projects that would be affected:</p>
<ul dir="auto">
<li>
<a href="https://github.com/MasterQ32/cg-workbench">https://github.com/MasterQ32/cg-workbench</a> (fully written in C++)</li>
<li>
<a href="https://github.com/MasterQ32/zero-graphics">https://github.com/MasterQ32/zero-graphics</a> (Scintilla is written in C++)</li>
<li>
<a href="https://github.com/MasterQ32/zig-assimp">https://github.com/MasterQ32/zig-assimp</a> (Assimp is the de-facto standard solution for generic 3D model loading, written in C++)</li>
</ul>
      </div>
</task-lists>


        <div>

            <div>
              <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/ziglang/zig/reactions" accept-charset="UTF-8" method="post">
    
      
    <div>
          <tool-tip id="tooltip-0d0e9935-f2f2-4c01-9284-af18a1c765e9" for="reactions--reaction_button_component-1cd6b3" data-direction="n" data-type="description" data-view-component="true">InKryption, foxnne, feenor, scheibo, GeffDev, pdeva, wub, and mattnite reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-daeed937-2952-4c6e-85fe-368b014a234e" for="reactions--reaction_button_component-92301e" data-direction="n" data-type="description" data-view-component="true">mlarouche, xdBronch, foxnne, feenor, and wub reacted with heart emoji</tool-tip>
          <tool-tip id="tooltip-eb2cf540-69e5-4f3e-8c78-8ac9e3a025a7" for="reactions--reaction_button_component-f0d05c" data-direction="n" data-type="description" data-view-component="true">andrewrk reacted with eyes emoji</tool-tip>
      
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMt3I">
  
      
<div data-gid="IC_kwDOAmaRMs5gMt3I" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMt3I/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/foxnne/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/foxnne"><img src="https://avatars.githubusercontent.com/u/49629865?s=80&amp;u=7c8b1b5554e9cb7d7a317f1dd2b28c7daa852116&amp;v=4" width="40" height="40" alt="@foxnne"/></a>

</p>


  <div id="issuecomment-1613946312">

    <div data-body-version="d4534901db9334d02527f44e9d5b99ccf970c3ae20c5b9b01a0d9c84f7f5988b">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I&#39;m still a beginner I believe, but if it is at all worth it for me to give my point of view, Zig&#39;s ability to replace all of the build tools mentioned above is a big reason I was interested in Zig in the first place. I struggled a lot with all the different build systems and Zig is a really refreshing breath of fresh air.</p>
<p dir="auto">I have two personal projects that use <a href="https://github.com/michal-z/zig-gamedev/tree/main/libs/zgui">zgui</a> heavily and I had planned on continuing.</p>
<ul dir="auto">
<li><a href="https://github.com/foxnne/pixi">Pixi</a></li>
<li><a href="https://github.com/foxnne/aftersun">Aftersun</a></li>
</ul>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMvBB">
  
      
<div data-gid="IC_kwDOAmaRMs5gMvBB" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMvBB/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slimsag/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slimsag"><img src="https://avatars.githubusercontent.com/u/3173176?s=80&amp;u=38ff1955ff35f0882e77048d78221ea82fb9c5db&amp;v=4" width="40" height="40" alt="@slimsag"/></a>

</p>


  <div id="issuecomment-1613951041">

    <div data-body-version="3cff0d8e0d48c9fa2e91f65e3ec6076761c83c222013bcb092d72e4811188933">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1613951041-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since October 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">With <a href="https://machengine.org" rel="nofollow">Mach engine</a> we have two dependencies that would be very, very painful to remove (would set us back years):</p>
<ol dir="auto">
<li>DirectXShaderCompiler (DXC) - a Microsoft fork of LLVM 3.7, which generates DXIR (LLVM IR) which is what direct3d graphics drivers consume. Microsoft is trying to upstream support for emitting DXIR (specifically LLVM v3.7 IR) to the latest LLVM/clang version.</li>
<li>Calling into Apple&#39;s Metal shader compiler - which converts Metal&#39;s text shading language into (yet another fork) LLVM IR bytecode, which is what the Metal API consumes - only this one is proprietary and undocumented. Obj-C is the only way to invoke it, I believe.</li>
</ol>
<p dir="auto">It will be a long time before Zig&#39;s SPIRV backend is capable enough to generate non-GPGPU <em>shaders</em> for graphics APIs (if ever, since it would likely require major language changes) - so I don&#39;t see a way for us to escape these aside from replicating what these two projects -- LLVM forks -- do on our side.</p>
<p dir="auto">Every other C++ dependency I believe we could safely escape from.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMv8O">
  
      
<div data-gid="IC_kwDOAmaRMs5gMv8O" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMv8O/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slimsag/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slimsag"><img src="https://avatars.githubusercontent.com/u/3173176?s=80&amp;u=38ff1955ff35f0882e77048d78221ea82fb9c5db&amp;v=4" width="40" height="40" alt="@slimsag"/></a>

</p>


  <div id="issuecomment-1613954830">

    <div data-body-version="9502671b73db24cf078926ef26d92399ecedec0d4970a62b193d968ac789a3bd">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1613954830-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since October 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">A positive long-term effect of this change is that it would push us as a community away from wrapping C++ code and towards more pure-Zig solutions.</p>
<p dir="auto">Many of the comments in this thread are about people using zgui, wwise, zig-gamedev, assimp, and other C++ libraries wrapped with Zig. It gives you a leg up in the short term, but I worry in the long-term that people&#39;s gamedev experiences coming to Zig will be &#39;initially I saw a nice language... then I encountered the guts of the libraries I was told to use were large, clunky C++ codebases&#39;</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMwts">
  
      
<div data-gid="IC_kwDOAmaRMs5gMwts" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMwts/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/GeffDev/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GeffDev"><img src="https://avatars.githubusercontent.com/u/88239718?s=80&amp;u=17af9aca065bb6a5461e240bd621b92964afdb2f&amp;v=4" width="40" height="40" alt="@GeffDev"/></a>

</p>


  <div id="issuecomment-1613957996">

    <div data-body-version="f612c771078586ddb654db67d22da44d5339d4806068cb035e739227e7808bc0">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Also a beginner, but I think being able to use Zig as a C++ build system (which is what I use for all my private C++ projects) is an invaluable feature to me and I believe many other people. The simplicity of Zig, having a compiler and a build system contained within a single executable (with the added bonus of being easily cross platform), is really cool, and it would be kinda unfortunate to see that feature be removed as an effect of removing clang and friends. However, if this does go through, the ability to fallback to generating <code>.bc</code> files and invoking clang is nice.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMzHR">
  
      
<div data-gid="IC_kwDOAmaRMs5gMzHR" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMzHR/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/yujiri8/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yujiri8"><img src="https://avatars.githubusercontent.com/u/16864184?s=80&amp;u=a2a190160cac5d040938ab8e9a595de177c7f25a&amp;v=4" width="40" height="40" alt="@yujiri8"/></a>

</p>


  <div id="issuecomment-1613967825">

    <div data-body-version="bab0ca2ec852b4d4c04c777137ea26480e4e71eeea0ff5ef29e288654e3cdc5d">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">One of my friends pointed out that nothing stops you from invoking clang in a build.zig to compile C++ dependencies, even if Zig stops including clang. I wonder how much of a problem that would really be for these projects?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gMznc">
  
      
<div data-gid="IC_kwDOAmaRMs5gMznc" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gMznc/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/xdBronch/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/xdBronch"><img src="https://avatars.githubusercontent.com/u/51252236?s=80&amp;v=4" width="40" height="40" alt="@xdBronch"/></a>

</p>


  <div id="issuecomment-1613969884">

    <div data-body-version="3b2ee87966b945dc818ff43ea0e9c69373f5d2c4b5e83754e90762eb5727ee03">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">doing that would be an additional dependency without the ease of zigs cross compilation</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM5l5">
  
      
<div data-gid="IC_kwDOAmaRMs5gM5l5" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM5l5/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/yujiri8/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yujiri8"><img src="https://avatars.githubusercontent.com/u/16864184?s=80&amp;u=a2a190160cac5d040938ab8e9a595de177c7f25a&amp;v=4" width="40" height="40" alt="@yujiri8"/></a>

</p>


  <div id="issuecomment-1613994361">

    <div data-body-version="e1b9aea97dfc8f1d1c7e9a647938bdec355f60a3a4ed3ce91073334c11513f3c">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Hmm, the more I think about this proposal the less I like it. I&#39;m feeling it would be better to make the LLVM backend non-default (that is, switch <code>-fno-LLVM</code> for <code>-fLLVM</code> or something) but not remove it. It seems like this would solve <em>most</em> of the issues: the existence of many bugs that are LLVM&#39;s fault, and the slow compile speed, aren&#39;t strong reasons to <em>remove</em> the LLVM backend so much as make it non-default. It wouldn&#39;t solve the issues of the binary size of the zig compiler or difficulties with building it, of course.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM5rF">
  
      
<div data-gid="IC_kwDOAmaRMs5gM5rF" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM5rF/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/musi-musi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/musi-musi"><img src="https://avatars.githubusercontent.com/u/96550473?s=80&amp;u=8ce8b443e5e54558badb829080a901f96c913b88&amp;v=4" width="40" height="40" alt="@musi-musi"/></a>

</p>


  <div id="issuecomment-1613994693">

    <div data-body-version="b0e91ee364e6033b273647e61d7d3d4d7d2da25d0fbe8c341ef13d0da3e0f7a7">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I think I can speak for all gamedevs by saying that removing C++ compilation would be a disaster. Too many amazing existing gamedev libraries and tools are built on C++ that disallowing easy use would strangle adoption in that field, as well as complicate existing projects. dear imgui is the obvious example but it&#39;s not the only one.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM6Oc">
  
      
<div data-gid="IC_kwDOAmaRMs5gM6Oc" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM6Oc/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/musi-musi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/musi-musi"><img src="https://avatars.githubusercontent.com/u/96550473?s=80&amp;u=8ce8b443e5e54558badb829080a901f96c913b88&amp;v=4" width="40" height="40" alt="@musi-musi"/></a>

</p>


  <div id="issuecomment-1613996956">

    <div data-body-version="a0711b06bd1f32c0009f3390cd047f2ddf4a8ce338e46765e8a7ce920476cd35">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">It&#39;s easy to imagine that in the long term, this change will push us towards &#34;rewrite it in zig&#34; with all the benefits that would entail, but the downside is that the existing corpus becomes inaccessible; limiting our options heavily even once zigs ecosystem matures</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM6To">
  
      
<div data-gid="IC_kwDOAmaRMs5gM6To" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM6To/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Jack-Ji/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Jack-Ji"><img src="https://avatars.githubusercontent.com/u/1416077?s=80&amp;u=b507276927df9cfb5a72b4a36ad61374827b8a5a&amp;v=4" width="40" height="40" alt="@Jack-Ji"/></a>

</p>


  <div id="issuecomment-1613997288">

    <div data-body-version="1cdb282a9e682b36a10536377f7e54cbb2a0b9cb6e0141ea09c4a61db481938f">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I think llvm is needed until ecosystem of pure-zig library is very very mature and rich.</p>
<p dir="auto">Yeah we want faster compiling speed and smaller tarball, but not at the risk of losing one-zig-to-rule-all.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM839">
  
      
<div data-gid="IC_kwDOAmaRMs5gM839" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM839/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/ethernetsellout/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ethernetsellout"><img src="https://avatars.githubusercontent.com/u/70680796?s=80&amp;u=0b97a012e6710a04c2e5bbab534a979c36038f5d&amp;v=4" width="40" height="40" alt="@ethernetsellout"/></a>

</p>


  <div id="issuecomment-1614007805">

    <div data-body-version="eef426dc62c119d49cefc782edd860d203b95e694f3c906503bf4c680a9ec3a6">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I love the ambition of this proposal, but to reiterate what has already been stated, losing c++ compilation would be losing one of the main selling points of zig. I was drawn to zig in part because it reduces the hellishness of depending on c/c++ projects. Zig having a c++ compiler inside it also has the benefit of there being less c++ to have to deal with, less python to have to deal with, less cmake to have to deal with.</p>
<p dir="auto">On the other hand, the core of this proposal has too many benefits for it to be rejected entirely. I think reducing the scope would be beneficial. How about:</p>
<ul dir="auto">
<li>Eliminate dependencies on LLVM &amp; LLD</li>
<li>Keep clang as an optional dependency for easy cross-compilation</li>
</ul>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gM861">
  
      
<div data-gid="IC_kwDOAmaRMs5gM861" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gM861/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/alexrp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexrp"><img src="https://avatars.githubusercontent.com/u/44076?s=80&amp;u=0310879472e1e159b5f89ac6e1c289306eda4e70&amp;v=4" width="40" height="40" alt="@alexrp"/></a>

</p>


  <div id="issuecomment-1614007989">

    <div data-body-version="ef3a3cf010f60a0b6e24a43811ef9d9891fb71a12ca69e2ad293074e51e9944d">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I totally get the desire to get rid of huge third-party dependencies that bring a lot of baggage. There&#39;s also something to be said for avoiding an LLVM monoculture in the programming language space.</p>
<p dir="auto">Even so, I see this as a net negative for users. What drew me to Zig in the first place was the pragmatic approach of acknowledging that there is a world outside of Zig that needs to be interoperated with for the foreseeable future <em>and</em> even providing a best-in-class cross-compilation experience along with that. I built my <a href="https://github.com/vezel-dev/zig-sdk">project</a> integrating Zig build support with the .NET/MSBuild ecosystem on that selling point.</p>
<p dir="auto">On the whole, I think this proposal would be an unfortunate (if well-intentioned) bait-and-switch, considering the Zig website for a while has advertised this:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/44076/249965883-f3ab333f-3a39-42c9-a41d-166baaab5716.png"><img src="https://user-images.githubusercontent.com/44076/249965883-f3ab333f-3a39-42c9-a41d-166baaab5716.png" alt="image"/></a></p>
<p dir="auto">In addition, these blog posts drove a lot of attention to Zig in the past:</p>
<ul dir="auto">
<li><a href="https://andrewkelley.me/post/zig-cc-powerful-drop-in-replacement-gcc-clang.html" rel="nofollow"><code>zig cc</code>: a Powerful Drop-In Replacement for GCC/Clang</a></li>
<li><a href="https://kristoff.it/blog/maintain-it-with-zig" rel="nofollow">Maintain it With Zig</a></li>
</ul>
<p dir="auto">Just to be super clear: I don&#39;t mean to insinuate bad faith or anything of the sort here. But I think it&#39;s fair to say that you have to contend with the fact that this proposal would pull features that are not only usable today, but are also prominently advertised.</p>
<hr/>
<p dir="auto">All that said... assuming this is even remotely practical, maybe there&#39;s a potential middle ground: Would it be possible for Zig to continue to use the Clang frontend to provide C-family support, but rip out the LLVM IR lowering and replace it with lowering to ZIR/AIR? (I guess this is more or less how Aro would be integrated too?)</p>
<p dir="auto">If this could be done, the codegen dependency on LLVM could be killed, achieving at least some of the goals of this proposal. There&#39;s probably also no reason to keep LLD support around as long as zld can catch up, so that eventually goes too. And users remain happy. Some of the build and distro woes would remain, of course, but, that&#39;s compromise.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNClb">
  
      
<div data-gid="IC_kwDOAmaRMs5gNClb" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNClb/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/AdamGoertz/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/AdamGoertz"><img src="https://avatars.githubusercontent.com/u/36753247?s=80&amp;v=4" width="40" height="40" alt="@AdamGoertz"/></a>

</p>


  <div id="issuecomment-1614031195">

    <div data-body-version="bee800cc3355a60dce95a5c8144fde8cdbf0baed7658c6e8e4aed763e08ca259">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I’m fully in favor of making it <em>possible</em> to use Zig without any LLVM components, but I agree with many of the comments here that it’s important for Zig to maintain the capabilities that it currently has in terms of cross-compilation, compiling C/C++ code seamlessly, and generating maximally performant binaries.</p>
<p dir="auto">These factors are big drivers of Zig’s adoption, and I fear that damaging them (even temporarily as in the case of code generation quality) would seriously hurt Zig’s future.</p>
<p dir="auto">Personally, I work in the robotics space, where C++ is the dominant language for many libraries and frameworks. I think Zig has a lot of potential in this space, but being able to integrate with existing libraries is absolutely essential for adoption.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOAmaRMs5gNDvL">
  
      
<div data-gid="IC_kwDOAmaRMs5gNDvL" data-url="/ziglang/zig/comments/IC_kwDOAmaRMs5gNDvL/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/hryx/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/hryx"><img src="https://avatars.githubusercontent.com/u/1066883?s=80&amp;v=4" width="40" height="40" alt="@hryx"/></a>

</p>


  <div id="issuecomment-1614035915">

    <div data-body-version="89ec23272047b776fe22e7dad9175f367fa12919636d210e8696bb744a971363">
      <div data-morpheus-enabled="false">
  <p>
    <details>
        <summary data-view-component="true">    <span>
      <span><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
    </span>
</summary>  

      <details-menu src="" preload="">
          <clipboard-copy aria-label="Copy link" for="issuecomment-1614035915-permalink" role="menuitem" data-view-component="true">
    
            Copy link

</clipboard-copy>      </details-menu>
    </details>
  </p>

  <p><span aria-label="ziglang&#39;s sponsor since July 2020" data-view-component="true">
  <span data-view-component="true">Sponsor</span>
</span>

      

  <span aria-label="This user has previously committed to the zig repository." data-view-component="true">
    <span data-view-component="true">Contributor</span>
</span>

      

  </p>

  <h3>
    

  </h3>
</div>


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Is there a story in this proposal for JIT compilation? I have a Zig project with currently relies on LLVM&#39;s Orc to JIT-compile audio DSP functions. I&#39;m not particularly stoked about or attached to Orc itself, but it does give me in-process compilation with low-milliseconds latency, something I&#39;d need for dynamic real-time audio applications.</p>
<p dir="auto">WebAssembly would not be an issue here because I wrote the Wasm compiler myself, but for x86_64 and friends I would need a replacement. Passing LLVM bitcode to a separate process might work but would feel like a downgrade. Vendoring and embedding the Zig compiler source might be the best option in that case.</p>
<p dir="auto">(Aside: I have started work on reading and writing LLVM bitcode from Zig, and if this is accepted would be happy to resume work on that.)</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>






  <!-- Rendered timeline since 2023-06-29 19:41:31 -->
  
</div>


  </div></div>
  </body>
</html>
