<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.evalapply.org/posts/shite-the-static-sites-from-shell-part-1/">Original</a>
    <h1>shite: static sites from shell: part 1/2</h1>
    
    <div id="readability-page-1" class="page"><div><div>
<p>This primer is for people like me, who long dreamed of lovingly hand-crafting
our own home on the Internet. We would make it ultramodern yet ultralight,
simple yet beautiful. Something <em>not</em> WordPress because that’s so last century.
(Seriously, just go to WordPress.)</p>
<p>No. We were committed. We would do it for the sake of craftsmanship and the
environment and World Peace. And that’s how we found ourselves awake at 2 A.M.,
having absurd conversations <sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> with Distant Internet Strangers…</p>
<blockquote>
<p>You (loudly): <em>“BOOTSTRAP? Yes, I want to bootstrap my website.&#34;</em></p>
<p>D.I.S. (miming): <em>“No, no. You. <strong>Need.</strong> Bootstrap.&#34;</em></p>
<p>You: “<em>I whaaat?</em>”</p>
<p>D.I.S.: <em>”… aaannd NODE JAY ESS too…&#34;</em></p>
</blockquote>
<p>You can’t fathom <em>why</em> there are a jillion “CMSes”, fifty “build tools”, and
nine dozen “static site generators”, each with their own bespoke “templating
system”.</p>
<p>You are <em>this close</em> to DM-ing the first person who green-dots in your
current Slack; “<em>Please, can you help me?</em> I didn’t know. I’m so sorry. For
<em>everything</em>. I just wanted a website… <em>Please???</em>.”.</p>
<p>Okay, then…</p>
<ul>
<li><a href="#screw-that-gimme-a-site-already">“Screw that, gimme a site already”</a></li>
<li><a href="#what-s-the-plan">What’s the plan?</a></li>
<li><a href="#what-is-a-static-website">What is a static website?</a></li>
<li><a href="#hello-world-dot">Hello, world.</a></li>
<li><a href="#peeking-under-the-browser-s-hood">Peeking under the browser’s hood</a></li>
<li><a href="#the-hello-world-is-not-enough">The hello-world is not enough</a></li>
<li><a href="#harness-html-dot-energy-to-model-our-would-be-site">Harness html.energy to model our would-be site</a></li>
<li><a href="#flip-the-model-into-a-full-website">Flip the model into a full website</a></li>
<li><a href="#what-next">What next?</a></li>
</ul>
<hr/>
<h2 id="screw-that-gimme-a-site-already">“Screw that, gimme a site already”<a href="#screw-that-gimme-a-site-already" arialabel="Anchor">⌗</a> </h2>
<p>Certainly!</p>
<ul>
<li>
<p><em><strong><a href="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/demo-2/index.html">site template</a></strong>, hand-rolled and infused with pure html.energy</em>.
Just save each page and use any text editor to modify it.</p>
</li>
<li>
<p><em><strong><a href="https://github.com/adityaathalye/shite">shite</a></strong>, the tiny static site builder from shell.</em>
When the copy-pasta gets too much, a tiny Shell script can go a long way.</p>
</li>
</ul>
<p>TL;DR? Copy, use, modify at will.</p>
<p>L;R? Follow me and I’ll show you how deep the rabbit hole goes.</p>
<figure>
<img src="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/morpheus-red-blue-pill.jpg"/>
</figure>
<h2 id="what-s-the-plan">What’s the plan?<a href="#what-s-the-plan" arialabel="Anchor">⌗</a> </h2>
<p>To your credit, you will struggle and muddle and slap together a reasonable
site. I know I did. But you may also feel uneasy about the magic you used.
I know I did.</p>
<p>Not today, though. Today we simplify, demystify, flow effortlessly, and end
up with…</p>
<p>Part 1: This blog:</p>
<ul>
<li>devise a decent, dead-simple HTML page template that you can fully grok,
and copy away to website success</li>
</ul>
<p>Part 2: Next blog:</p>
<ul>
<li>
<p>grasp the problem space of making a static website (or, a website),</p>
</li>
<li>
<p>make <em>shite: the website generator from Shell</em>, to automate the boring parts,</p>
</li>
<li>
<p>do nothing that will surprise a Perl/PHP gentleperson hacker from the last
century. ‘twas a far more civilized time <sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. I know because I’m from
the last century.</p>
</li>
</ul>
<blockquote>
<p><em>“Be water, my friend.&#34;</em></p>
<ul>
<li>Bruce Lee.</li>
</ul>
</blockquote>
<h2 id="what-is-a-static-website">What is a static website?<a href="#what-is-a-static-website" arialabel="Anchor">⌗</a> </h2>
<p>Static simply means <em>as-is</em>. Its inverse is “dynamic”, meaning in-transit.
The “static” part of “static website” corresponds to stored information. The
“website” part corresponds to where from and <em>how</em>, the information gets to
one’s computer. A web-site is literally a place (site) on the World Wide Web,
whence our computer has to fetch the information we want.</p>
<p>Fetching information, such as a web page, over the Internet is “dynamic” by
definition. Even just opening a file on your own computer’s disk is “dynamic”.
The very act of reading a digital file, and/or transmitting it, means copying
its bits from one place and showing them in another place <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>.</p>
<p>The <em>Ultimate Static Site</em>, is a file that once written never changes. Thus,
once-received we never have to fetch it again (unless we lose it). Reality
is of course not so simple. But we will work with the “static means never
changing” mental model, because we can go pretty far with just that.</p>
<p>We explore the <em>making</em> of the “static” part; viz. the web pages. What could
these web pages convey? Well, any collection of words. A blog series.
A resume. A single essay. A tutorial. A presentation. A collection of books.
A portfolio. An artist’s statement. Or even a simple “Hello, world” message.
Your site, you choose!</p>
<h2 id="hello-world-dot">Hello, world.<a href="#hello-world-dot" arialabel="Anchor">⌗</a> </h2>
<p>One of the simplest possible “static” websites is just a plain old text file
with a <code>.html</code> file extension. Type a little ‘<em>Hello, world</em>’ message into
a text file (in Notepad or some other such text editor). Save it as <em>hello.html</em>.
Open the file in a browser. Sure enough, we’ll see our little piece of text.</p>
<div><pre tabindex="0"><code data-lang="html">Hello, world! I am @random on Twitter, Insta, FB, and LinkedIn. Look me up!
</code></pre></div><p>If we put hello.html on a web server and have it serve the file as-is, well,
we just published a static website on the Internet.</p>
<p>Some people enjoy these simple joys of life.</p>
<p>For example, Adam Kelly <sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>, m’colleague from the <a href="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/#footer">Recurse Center</a>
community, thinks their website <a href="https://www.cthulahoops.org/">cthulahoops.org</a>
is just fine.</p>
<p>And it is.</p>
<figure>
<img src="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/plain-static-website-cthulahoops.png"/>
<figcaption>Figure 1: Adam &#34;Cthulahoops&#34; Kelly makes you grin with just one line. (Retrieved Thu, 03 March, 2022).</figcaption>
</figure>
<p>But you and I want more.</p>
<h2 id="peeking-under-the-browser-s-hood">Peeking under the browser’s hood<a href="#peeking-under-the-browser-s-hood" arialabel="Anchor">⌗</a> </h2>
<p>Right now, let’s ignore this “server” business entirely. The <em>Ultimate Static
Site</em> is usable from our computer, as-is. So let’s focus on the contents of
the site, and a general approach to assembling one.</p>
<p>Our browser’s “View source” feature provides the first little clue. We see
something more than the plain text we typed into hello.html.</p>
<p>The text of the ‘<em>Hello, world</em>’ message renders as:</p>
<div><pre tabindex="0"><code data-lang="html">&lt;<span>html</span>&gt;
  &lt;<span>head</span>&gt;&lt;/<span>head</span>&gt;
  &lt;<span>body</span>&gt;
    Hello, world! I am @random on Twitter, Insta, FB, and LinkedIn. Look me up!
  &lt;/<span>body</span>&gt;
&lt;/<span>html</span>&gt;
</code></pre></div>
<figure>
<img src="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/plain-static-website-cthulahoops-view-source.png"/>
<figcaption>Figure 2: Inside Adam&#39;s website.</figcaption>
</figure>
<p>This immediately suggests a lesson, viz…</p>
<h2 id="the-hello-world-is-not-enough">The hello-world is not enough<a href="#the-hello-world-is-not-enough" arialabel="Anchor">⌗</a> </h2>
<p>The browser actually needs well-formed Hyper-Text Markup Language (HTML), to
correctly interpret and display content. But browsers also guess at content
type and apply rules to show content as sensibly as possible. In our dead-simple
case, the browser chose to wrap the plain text in the appropriate HTML tags.</p>
<p>Unfortunately, typing plain text paragraphs into our hello.html file doesn’t
cut it because, to a browser, the whole thing is just one text node. It will
flatten the entire text file into single line. Browsers are clever in a very
narrow sense. Also there’s the small matter that a web server may refuse to
send HTML that it thinks is incomplete (malformed). So we’ll fix that first.</p>
<p>So the next-simplest evolution of our static site would be to put appropriate
HTML around our text. <code>&lt;p&gt;&lt;/p&gt;</code> (paragraph) tags for instance, like a civilized
person from the last century would do.</p>
<div><pre tabindex="0"><code data-lang="text">&lt;p&gt;Hello, world.&lt;/p&gt;
&lt;p&gt;I am @random on Twitter, Insta, FB, and LinkedIn.&lt;/p&gt;
&lt;p&gt;Look me up!&lt;/p&gt;
</code></pre></div><p>As before, the browser helpfully enclosed our incomplete html in the document
level tags (html, body).</p>
<div><pre tabindex="0"><code data-lang="html">&lt;<span>html</span>&gt;
  &lt;<span>head</span>&gt;&lt;/<span>head</span>&gt;
  &lt;<span>body</span>&gt;
    &lt;<span>p</span>&gt;Hello, world.&lt;/<span>p</span>&gt;
    &lt;<span>p</span>&gt;I am @random on Twitter, Insta, FB, and LinkedIn.&lt;/<span>p</span>&gt;
    &lt;<span>p</span>&gt;Look me up!&lt;/<span>p</span>&gt;
  &lt;/<span>body</span>&gt;
&lt;/<span>html</span>&gt;
</code></pre></div><p>The browser somehow renders our text as neat paragraphs. That’s because it
automatically applies default style information to HTML elements it recognizes.
We can see this in the “Styles” tab when we “view source” (in Firefox).</p>
<div><pre tabindex="0"><code data-lang="css"><span>p</span> {
  <span>display</span>: <span>block</span>;
  margin-block-start: <span>1</span><span>em</span>;
  margin-block-end: <span>1</span><span>em</span>;
  margin-inline-start: <span>0</span><span>px</span>;
  margin-inline-end: <span>0</span><span>px</span>;
}
</code></pre></div><p>It’s not magic. Have a look at the default style sheets to render HTML <sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup>:</p>
<ul>
<li>in the Chromium project: <a href="https://chromium.googlesource.com/chromium/blink/+/master/Source/core/css/html.css">core/css/html.css</a></li>
<li>in the Firefox project: <a href="https://searchfox.org/mozilla-central/source/layout/style/res/html.css">layout/style/res/html.css</a></li>
</ul>
<p>So there it is. In the simplest case, we need only worry about the bare
essential content and HTML formatting, and rely on the browser to supply the
rest; wrapper HTML, and CSS style information.</p>
<p>Further, even in this crude form, the browser has already planted the seed of
an idea in our minds. If <em>we</em> supply just the content, <em>something else</em> could
mechanically add in the boilerplate/repetitive HTML + CSS. A templating system.</p>
<p>But we’re getting ahead of ourselves. If we want browsers to show our content
the way we intended, then we must remove guesswork by wrapping the content in
well-formed HTML syntax.</p>
<h2 id="harness-html-dot-energy-to-model-our-would-be-site">Harness html.energy to model our would-be site<a href="#harness-html-dot-energy-to-model-our-would-be-site" arialabel="Anchor">⌗</a> </h2>
<p>The web is meant to be a publishing medium. HTML, its lingua franca, has become
a highly standardized, feature-rich, and expressive language.</p>
<p>Modern HTML aims to be “semantic”, i.e. it allows us to organize and describe
various parts of our website in HTML tags that are well-accepted <strong>and</strong> machine-
friendly <strong>and</strong> meaningful to humans. A lot can be done with very little <sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup>.</p>
<p>CSS too has evolved a lot. But we will focus more on the HTML bits, because
that’s at the heart of all web layouts and we can rely on browsers to supply
reasonable styling information automatically.</p>
<p>So, we may rifle through the HTML reference page and come up with some sort
of a model of our would-be site.
See the <a href="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/demo/index.html">live demo</a> and compare with the markup anatomy
described below.</p>
<figure>
<img src="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/shite-demo-1.png"/>
<figcaption>Figure 3: a model page for the shite</figcaption>
</figure>
<p>Note: I used the HTML and CSS I did simply because I picked up a few tricks
after reading half a book. You may do it differently. The important thing is
to construct a <em>good enough model</em> to help us think.</p>
<div>
<p>
<label for="938741265">
<span>html</span>
<span>Anatomy of the markup</span>
<span data-label-expand="Show" data-label-collapse="Hide"></span>
</label></p><pre><code>
  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
      &lt;head&gt;
          &lt;!-- Some basic hygiene meta-data --&gt;
          &lt;meta charset=&#34;utf-8&#34;&gt;
          &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1&#34;&gt;
          &lt;title&gt;A Shtatic Shite&lt;/title&gt;
          &lt;meta name=&#34;author&#34; content=&#34;Yours Truly&#34;&gt;
          &lt;meta name=&#34;description&#34; content=&#34;In which we work our way to world domination the hard way.&#34;&gt;
          &lt;!-- Some bare bones style information. Ignore details, it&#39;s just for show. --&gt;
          &lt;!-- Read &lt;https://every-layout.dev&gt; for true CSS enlightenment. --&gt;
          &lt;style&gt;
           :root {
               color: #1a2639;
               background-color: #f0ece2;
               font-family: sans-serif;
           }
           ,\* {
               background-color: lightyellow;
           }
           a {
               color: darkred;
           }
           body {
               _\* Constrain body width. \*_
               max-width: 72ch;
               _\* Prevent content from sticking to inside edges of body. \*_
               padding: 1.5rem;
               _\* Position body in the middle of the screen. \*_
               margin-top: 1.5rem;
               margin-left: auto;
               margin-right: auto;
           }
           nav {
               display: flex;
               gap: 1rem;
               margin-top: 1rem;
               margin-bottom: 1rem;
           }
          &lt;/style&gt;
      &lt;/head&gt;
      &lt;body&gt;
          &lt;header id=&#34;site-header&#34;&gt;
              &lt;h1&gt;A &#34;Hello, World&#34; website by Yours Truly.&lt;/h1&gt;
              &lt;nav&gt;
                  &lt;span&gt;&lt;a href=&#34;index.html&#34;&gt;Blog&lt;/a&gt;&lt;/span&gt;
                  &lt;span&gt;&lt;a href=&#34;about.html&#34;&gt;About&lt;/a&gt;&lt;/span&gt;
                  &lt;span&gt;&lt;a href=&#34;resume.html&#34;&gt;Resume&lt;/a&gt;&lt;/span&gt;
              &lt;/nav&gt;
              &lt;hr&gt;
          &lt;/header&gt;
          &lt;main&gt;
              &lt;h1&gt;Blog posts&lt;/h1&gt;
              &lt;article id=&#34;article-hello-world&#34;&gt;
                  &lt;h2&gt;Hello, world.&lt;/h2&gt;
                  &lt;details&gt;
                      &lt;summary&gt;
                          In which we greet the world.
                      &lt;/summary&gt;
                      &lt;p&gt;Hello, world.&lt;/p&gt;
                      &lt;p&gt;I&#39;m here.&lt;/p&gt;
                      &lt;p&gt;And I&#39;m going to take you head-on...&lt;/p&gt;
                      &lt;nav&gt;
                          &lt;span&gt;&lt;sub&gt;^ &lt;a href=&#34;#article-hello-world&#34;&gt;title&lt;/a&gt;&lt;/sub&gt;&lt;/span&gt;
                          &lt;span&gt;&lt;sub&gt;^ &lt;a href=&#34;#site-header&#34;&gt;menu&lt;/a&gt;&lt;/sub&gt;&lt;/span&gt;
                      &lt;/nav&gt;
                  &lt;/details&gt;
              &lt;/article&gt;
              &lt;article id=&#34;article-wtf-world&#34;&gt;
                  &lt;h2&gt;Wtf, world?!&lt;/h2&gt;
                  &lt;details&gt;
                      &lt;summary&gt;
                          In which we marvel at the various insanties of life and the living.
                      &lt;/summary&gt;
                      &lt;p&gt;Wtf, world.&lt;/p&gt;
                      &lt;p&gt;I&#39;m here.&lt;/p&gt;
                      &lt;p&gt;And I&#39;m just... How do you even work?&lt;/p&gt;
                      &lt;nav&gt;
                          &lt;span&gt;&lt;sub&gt;^ &lt;a href=&#34;#article-hello-world&#34;&gt;title&lt;/a&gt;&lt;/sub&gt;&lt;/span&gt;
                          &lt;span&gt;&lt;sub&gt;^ &lt;a href=&#34;#site-header&#34;&gt;menu&lt;/a&gt;&lt;/sub&gt;&lt;/span&gt;
                      &lt;/nav&gt;
                  &lt;/details&gt;
              &lt;/article&gt;
              &lt;article id=&#34;article-goodbye-world&#34;&gt;
                  &lt;h2&gt;Goodybe, world.&lt;/h2&gt;
                  &lt;details&gt;
                      &lt;summary&gt;
                          In which we bid adieu to the world.
                      &lt;/summary&gt;
                      &lt;p&gt;Goodbye, world.&lt;/p&gt;
                      &lt;p&gt;It was nice being here.&lt;/p&gt;
                      &lt;p&gt;I hope we meet again...&lt;/p&gt;
                      &lt;nav&gt;
                          &lt;span&gt;&lt;sub&gt;^ &lt;a href=&#34;#article-goodbye-world&#34;&gt;title&lt;/a&gt;&lt;/sub&gt;&lt;/span&gt;
                          &lt;span&gt;&lt;sub&gt;^ &lt;a href=&#34;#site-header&#34;&gt;menu&lt;/a&gt;&lt;/sub&gt;&lt;/span&gt;
                      &lt;/nav&gt;
                  &lt;/details&gt;
              &lt;/article&gt;
          &lt;/main&gt;
          &lt;footer&gt;
              &lt;hr&gt;
              &lt;p&gt;Copyright, Yours Truly.&lt;/p&gt;
              &lt;p&gt;All content is MIT licensed, except where specified otherwise.&lt;/p&gt;
          &lt;/footer&gt;
      &lt;/body&gt;
  &lt;/html&gt;
</code></pre>
</div>
<p>Our model already contains much html.energy. We’re almost done.</p>
<h2 id="flip-the-model-into-a-full-website">Flip the model into a full website<a href="#flip-the-model-into-a-full-website" arialabel="Anchor">⌗</a> </h2>
<p>In all honesty, the above structure could serve you well for many blog posts
and pages. You can just copy-paste the HTML and modify the content, styles,
meta —anything, really— to create new pages.</p>
<p>Like this <a href="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/demo-2/index.html">other live demo</a>.</p>
<p>See? Cute, right? (Fine, I also made <em>just one</em> little tweak for colour effect.
I couldn’t help it, OK?).</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/shite-demo-2-index.png" alt=""/></td>
<td><img src="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/shite-demo-2-about.png" alt=""/></td>
<td><img src="https://lwn.net/SubscriberLink/887097/7ca69c6bfa3584c0/shite-demo-2-resume.png" alt=""/></td>
</tr>
</tbody>
</table>
<h2 id="what-next">What next?<a href="#what-next" arialabel="Anchor">⌗</a> </h2>
<p>Well, you can…</p>
<ul>
<li>write a pleasantly styled private diary that lives just on your computer, or</li>
<li>email any page, or the whole thing to anyone you like, or</li>
<li>share the site via dropbox or suchlike, with close friends and family, or</li>
<li>publish it to the WWW <sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup> for all to behold</li>
</ul>
<p>But why stop here? I wish you and your site grow ever richer. And why stop
at one? I wish your ambition grows to make many sites of all shapes and sizes.</p>
<p>Either way, may the copy pasta stop being cute very fast. May it cause you
to seek ways to automate away the tedious bits of site-building. Because it’s
too much fun!</p>
<p>In next and concluding part, I draw a blueprint you could crib from, should
you choose this virtuous adventure in artisanal automation. Something dead-simple.
That you <em>fully</em> grok. That you can change at will. That is therefore timeless.</p>

</div></div></div>
  </body>
</html>
