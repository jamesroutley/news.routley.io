<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://codingcafe.jp/posts/signal-5yrs">Original</a>
    <h1>I spent five years building a webapp and got my first $1 (2022)</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>This is the story of five years spent wandering around the JavaScript tech stack, wasting time, getting lost, and finally taking off.</p>
<h2>Self Introduction</h2>
<p>Nice to meet you. I&#39;m an engineer who runs a small mobile app development company.</p>
<p>Since about the same time I started programming, I have been composing music as a hobby.</p>
<p>The standard way to compose music today is to use a large size software called DAW. However, I was frustrated by the large number of plug-ins I had to install on my machine and the lack of ready-to-use composition software, so I preferred to use lightweight MIDI sequencer applications.</p>
<p>However, many of them have been around since the days of Windows 2000 and have not been updated, and since Windows 10, MIDI audio is no longer properly supported.</p>
<p>To solve this problem, I started to develop a minimalist, ultra-lightweight, out-of-the-box composition app.</p>
<h2>2014</h2>
<p>It was November 2014 when I started writing code. First I started implementing the GUI framework, as anyone would. This, now that I think about it, is a clear sign of failure, or rather, of a long-term project.</p>
<p>Nevertheless, the audio engine and GUI framework, implemented in C++, started to build up nicely. Piano rolls were displayed and sounds could be played. Fonts are rendered, and it can be built on a Mac.</p>
<p>Four months later, in March 2015, I was still implementing the scrollbars. No matter how skilled you are, you should not just start developing from GUI frameworks.</p>
<h2>2015</h2>
<p>And in May 2015, I turned my attention to the then-popular &#34;Electron&#34;, a cool technology used in Slack.
At that time, my company was still using HipChat. You remember HipChat?</p>
<p>Yes, you guessed it, let&#39;s go with Electron and CoffeeScript. I was confident that this was the right technology stack.
Webpack isn&#39;t that popular yet. Back in the days of downloading libraries as js files, there was no cooler technology than CoffeeScript.
(I&#39;m still a fan of CoffeeScript&#39;s &#34;List Comprehensions&#34;.)</p>
<p>I used a library called coffee-react and wrote components with <code>React.createClass</code>. It&#39;s not that bad.</p>
<p>At that time, performance was not so good because the sound was still being played by generating the <code>Audio</code> class. And of course, the UI was incomplete.</p>
<h2>2016</h2>
<p>It&#39;s been three years now, and with a sense of urgency that this would never be completed, I finally set up a concept. Let&#39;s take a look at README.md from back then.</p>
<p><code>Make an app that allows you to concentrate on composing music without being distracted by choosing sound sources or adjusting effects</code>.</p>
<p>That&#39;s great. This is still being followed today.</p>
<p>And let&#39;s take a look at the code. The main tech stack is still CoffeeScript, but we changed the UI framework from React to Riot.js.
This, in retrospect, is clearly the biggest time waster. (Riot.js is a very nice library.)</p>
<p>Riot.js, have you heard of it? It&#39;s like Vue now. I&#39;ve been writing a lot of .tag files for templates.
I&#39;ve installed Babel, Mocha, ESLint, and added libraries via npm. It&#39;s actually pretty cool, don&#39;t you think? It was also around this time that I created the repository.</p>
<p>https://github.com/ryohey/signal</p>
<p>If there is one major detour here, it is that I created a state management library.</p>
<p>That&#39;s right. Everyone creates their own state management library. I am no exception. This was just made out of an idea, so don&#39;t worry about it.</p>
<p>https://github.com/ryohey/shinjuku</p>
<p>And now the time has come. &#34;ES6&#34; is here.</p>
<p>Arrow functions, map, filter, and all the cool features of CoffeeScript have come to JavaScript. I&#39;ve rewritten my entire code base from CoffeeScript to ES6. There&#39;s nothing cooler than a new standard.</p>
<p>And for about six months, the implementation in Riot.js progressed nicely. The application is almost ready to go.
We&#39;ve been modularizing the code and evolving it into an infinitely cleaner code base.</p>
<p>This idea in itself is not bad, because React is still popular in 2022. But as a project, it was the worst thing we could have done. But as a project, it was the worst thing we could have done, because we couldn&#39;t release the app until 2021.</p>
<h2>2017</h2>
<p>From here on, I just worked on the implementation. I spent a lot of time changing the screen layout, refactoring the handling of dragging notes with the mouse, and adjusting minor behavior.
Of course, I&#39;m also obsessed with colors. There was even a function to switch themes.
At that time, the quality of the app had reached a viable level. Why didn&#39;t they just release it? Now, I would advise me to release it now.</p>
<p>But then came the reasons for not releasing it: the introduction of MobX, a state management library, and the introduction of Flow, a type checking system. My own Store has had to be rewritten significantly (and in a much cooler fashion).</p>
<h2>2018</h2>
<p>A super huge revolution is coming.&#34; TypeScript&#34;. Should you publish a web app that is filled with tons of non-type-safe JavaScript code? Of course not (as far as I&#39;m concerned at the time).</p>
<p>So I rewrote everything in TypeScript, including my own libraries.
Eliminating <code>any</code> is the biggest mission of 2018.</p>
<h2>2019.</h2>
<p>I didn&#39;t get to write much code this year, but there is work to be done. It&#39; s Material-UI.
Ever since Bootstrap, we&#39;ve been obsessed with cool UI kits.
(In 2022, I now think the unstyled UI library is very cool, but is that a danger sign?)</p>
<p>Anyway, I&#39;ll be replacing my own components like <code>Button</code> and <code>Toolbar</code> with Material-UI ones. It&#39;s also cool to have less proprietary code and feel like you&#39;re riding on the shoulders of giants.</p>
<p>At this time, the UI is almost complete, but what about when you really try to use it for songwriting? The piano roll is heavy. Do you know that it is very difficult to create a light web app that renders a lot of elements like these notes in React?</p>
<p>There&#39;s no way I could publish such a slow app. I&#39;ve made all kinds of performance improvements.</p>
<h2>2020</h2>
<p>I just couldn&#39;t improve the heavy piano roll behavior. Want to know the history of the drawing method? Here&#39;s a timeline below.</p>
<p>|Year|Drawing method|
|---|---|
|2016.3|Drawing with <code>&lt;div&gt;</code> tags|
|2016.4|Drawing with <code>&lt;canvas&gt;</code> tags|
|2016.5|Introduce EaselJS|
|2016.8|Introduce React|
|2016.9|Quit using EaselJS|
|2020.6|Introduce react-pixi|
|2021.3|Drop react-pixi, use WebGL directly|</p>
<p>Yes, the issue wasn&#39;t resolved until 2021. My advice? If you want to draw a lot of stuff, WebGL is the way to go.</p>
<p>And then there was a movement in state management libraries and React: Hooks came along.
HoC is old school. It&#39;s time to rewrite everything to <code>useXXX</code>. But did you know that in 2021, MobX recommends HoC instead of hooks? lol</p>
<p>Oh, and there&#39;s one more thing. <code>.css</code> is not cool. It&#39;s time to rewrite everything to <code>styled-components</code>.</p>
<p>We have a lot of work to do, but the app is steadily getting more and more functional. Finally, it was time to launch.
Let&#39;s launch it and submit it to Hacker News.</p>
<h2>2 days before the release</h2>
<p>By submitting to Hacker News, of course the web app would buzz and I would get a massive amount of attention for my work over the past five years. Then it would be a shame if there was no way to monetize it.
So I applied to become a GitHub Sponsor.</p>
<p>On the GitHub Sponsors request page, there is a checklist and various preparations. When you finish everything, the application button will be enabled and you can apply.
First I needed to create a Stripe account for the payment. It was a bit tedious to take a picture of my driver&#39;s license and send it to them, but I was approved in about 15 minutes.</p>
<p>Then, I had to fill out some documents related to US taxes. Since I live in Japan, I am not used to this kind of paperwork. There were only a few sections, but I had to look them up as I filled them out, so it was tedious.</p>
<p>Finally, I set up my profile, Tier, and other information. I sent my request to GitHub, and it was approved in about an hour.</p>
<p>I also translated the README.md into English.</p>
<h2>Just before the release</h2>
<p>I made the landing page in about three hours. If we had done it at this speed from the beginning, it wouldn&#39;t have taken five years. On the landing page, I included information about supported browsers and a bug report form.</p>
<p>And it needs to be deployed. Well, I spent five years on the web app, and to be honest, I&#39;ve never deployed it to the Internet. Even it&#39; s a <strong>web</strong> app.</p>
<p>I decided to use Vercel, which I had heard was cool, and it deployed in less than 10 minutes. Vercel is really really cool.</p>
<p>And finally, I copied and pasted the Google Analytics code.</p>
<p>Show HN is now ready.</p>
<h2>Finally, it&#39;s time</h2>
<p>This is my post for Hacker News.</p>
<p>https://news.ycombinator.com/item?id=24599679</p>
<p>Immediately after I posted it, three users accessed it, which I thought was great.</p>
<p>However, I forgot to put <code>Show HN: </code> in the title at first, so I changed it later. Right after I changed it, the number of users temporarily dropped to about 1 at constant. Thankfully, I got an email from a moderator afterwards saying that there wasn&#39;t much of a reaction, so I&#39;d post it on the top page again later.</p>
<p>The traffic was 70% mobile and 30% PC, so I quickly made the landing page mobile-ready (just a little override in media query in CSS).</p>
<p>I got about 5 comments on HN right away. To be honest, it wasn&#39;t so much a buzz, but it was the first response I got, so I was really happy.</p>
<p>I was looking at Google Analytics all the time. I could see that the access locations were moving along with the rotation of the earth, and I could see that people were accessing the website from all over the world.</p>
<p><img src="https://i.imgur.com/DFOGwVPl.png" alt="Google Analytics"/></p>
<h2>The next day</h2>
<p>I got about 15 constant accesses from HN in the morning, and about 10 constant accesses in the afternoon, and about 50 Favs when I announced it on Twitter. For a while, the traffic was about equally on Twitter and HN, but it gradually decreased and became more via HN.</p>
<p>I responded to a lot of comments on HN, and it got 50 points and went up to 20th place on the top page. After a few hours, the number of comments did not increase, but it went up to 57 points, and the ranking went down to 23.</p>
<h2>The next night</h2>
<p>There were 13 users constantly accessing the site, no more access from Twitter, and one report on GitHub issue.</p>
<h2>The next next day</h2>
<p>The number of favs on Twitter reached 90, and the number of stars on GitHub reached 99.</p>
<p>And I got a GitHub Sponsor! It was only a dollar a month, but I was happy about it.</p>
<p>It disappeared from the top page of HN, and the number of accesses dropped to about 1 or 2 constantly.</p>
<h2>2022</h2>
<p>It&#39;s been a year since launch. The number of users per month is slowly growing towards 10,000.</p>
<p>Performance improvements continue. I have re-written the audio processing from scratch, which has greatly improved performance.</p>
<p>I have 299 Stars and 2 GitHub Sponsors.
I also added ads from Carbon, a tech-focused advertising platform that brings in about $100 a year.
Gitter is active, sometimes there are new issues on GitHub, and Contributors have appeared.
No buzz, nothing life-changing happened, but I finished (sort of) the web app I&#39;d been working on for 5 years, and got my first little finger-tip of glory.</p>
<h2>Future</h2>
<p>I didn&#39;t write about it so far, but actually the goal of this app is &#34; Build a sequencer app for multi-person composition&#34;.</p>
<p>However, none of the collaboration features have been included yet.
So even though it took 5 years, it&#39;s not finished at all and we still have a long way to go.</p>
<p>But the launch is great. It&#39;s already here, a web app that you can open and use whenever you want to compose. For everyone else, it hasn&#39;t existed at all for the past five years.
Anyway, set a goal and sum it up for the launch.</p>
<h2>Online collaboration in music composition</h2>
<p>Wouldn&#39;t it be cool if someone wrote a song with just a melody, and someone else added chords or derived a completely different genre, and it all happened on the web?</p>
<p>It would be like a music version of CodePen.</p>
<p>How about using GitHub&#39;s Pull-Request feature to allow multiple people to compose a single song? This is exactly what I&#39;ve wanted to do for years.</p>
<p>I&#39;m finally at the starting point of such a vision, maximizing the advantages of being on the Web to enable collaboration in composition.</p>
<h2>signal</h2>
<p>A completely open source online music composition application. You can start composing right away without installing anything.</p>
<p>https://signal.vercel.app/</p>
<p>If you enjoy the article, please Star it on GitHub, and more sponsors would be great.</p>
<p>https://github.com/ryohey/signal</p>
</div></div></div>
  </body>
</html>
