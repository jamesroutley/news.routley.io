<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://proclamations.nebcorp-hias.com/sundries/jocalsend/">Original</a>
    <h1>Jocalsend: actually useful software if you&#39;re a weirdo like me</h1>
    
    <div id="readability-page-1" class="page"><section>
            
<p>Recently, I released a program called
<a href="https://git.kittencollective.com/nebkor/joecalsend"><code>jocalsend</code></a>, which is a play on
&#34;<a href="https://localsend.org/">LocalSend</a>&#34;. LocalSend is, in its own words, &#34;a free,
open-source app that allows you to securely share files and messages with nearby devices over your
local network without needing an internet connection.&#34; You can think of it as a sort of &#34;we have
<a href="https://en.wikipedia.org/wiki/AirDrop">AirDrop</a> at home&#34;, where &#34;home&#34; is non-Apple devices and
computers. I happen to be a person without any Apple devices, and basically the only thing I ever
envy about those unlike me is AirDrop, since I often want to transfer files or bits of text back and
forth between my phone and computer.</p>
<p>LocalSend comes in the form of a cross-platform graphical app that runs on both mobile and desktop.
On my Android phone, it works great, and does exactly what I&#39;d hope it would do. On my Linux
desktop, however, it requires a lot more fiddly mousing than I like to do, plus launching a GUI for
what&#39;s supposed to be a low-friction, ad-hoc sharing activity is, frankly, a drag. I&#39;ve always been
a fan of terminal-based programs, and the terminal has been my primary interface for many, many
years. It seemed natural to write a TUI version of LocalSend, and so here we are.</p>
<h2 id="so-what-s-it-good-for">So, what&#39;s it good for?</h2>
<p>Has this ever happened to you? Someone sends you a text message on your phone, and it contains a
URL. You go to check it out, but it looks completely terrible on mobile, or tries to force you to
install an app, or whatever; you want to use your desktop or laptop computer to look at it. But now
what? Send yourself an email? Paste it into a Google Doc? Maybe you have Signal desktop so you can
send yourself a Signal message then read it there. Or maybe you have an image or something on your
desktop computer that you&#39;d like to get onto your phone; your choices are basically the same as with
a bit of text.</p>
<p>You know what all those choices have in common? They all <em>fucking suck ass</em>. Primarily because they
require a round-trip from your local network out to a corporate data center, which means you need to
be connected to the public internet. What if your internet connection is down? Well, maybe you&#39;d be
able to do something with your phone, but that means you might want to get things from your regular
computer to the phone, which you can&#39;t do now. But they&#39;re also all just kinda obnoxious,
aesthetically. It would be nice to just be able to directly beam the data from one thing to another,
and that&#39;s what LocalSend does.</p>
<p>Something else that&#39;s nice about LocalSend is that they published <a href="https://github.com/localsend/protocol">a protocol
spec</a>, which means that anyone can make their own compatible
implementation, which is where jocalsend comes in. I plan on writing a follow-up
about the design and implementation of jocalsend, but that&#39;s going to be a much longer and
even-more-niche-interest post, so I&#39;ll just skip that for now. Stay tuned, though, if that&#39;s a
boat-floater for ya!</p>
<h2 id="how-do-i-install-it">How do I install it?</h2>
<h3 id="via-cargo">Via cargo</h3>
<p>Jocalsend is written in <a href="https://www.rust-lang.org/">Rust</a>, a programming language released by
Mozilla about ten years ago, and meant to be used for writing high-performance software in a way
that was easier to do safely than in other languages like C++, but <a href="https://doc.rust-lang.org/book/foreword.html">its aegis has
expanded</a> to encompass basically any and all types of
software. Installing Rust on your computer is <a href="https://rustup.rs/">very simple</a>.</p>
<p>One nice thing that Rust provides out of the box is a package manager called &#34;cargo&#34;, and I
think this fact alone is responsible for a big portion of Rust&#39;s success and popularity. You can use
cargo to install any published Rust package that&#39;s on <a href="https://crates.io">crates.io</a>, the official
Rust package site. Jocalsend has been <a href="https://crates.io/crates/jocalsend">published to crates.io</a>,
so if you have Rust installed, just run,</p>
<pre><code><span>cargo install jocalsend
</span></code></pre>
<p>which will install the <code>jocalsend</code> program to <code>$HOME/.cargo/bin</code>; add that directory to your <code>$PATH</code>
and then you can run <code>jocalsend</code> from the command line:</p>
<pre><code><span>$ jocalsend -h
</span><span>A TUI for LocalSend
</span><span>
</span><span>Usage: jocalsend [OPTIONS]
</span><span>
</span><span>Options:
</span><span>  -f, --file &lt;FILE&gt;  File to pre-select for sending
</span><span>  -t, --text &lt;TEXT&gt;  Text string to send
</span><span>  -h, --help         Print help
</span><span>  -V, --version      Print version
</span></code></pre>
<h3 id="from-nixpkgs">From nixpkgs</h3>
<p>If you use <a href="https://nixos.org/">NixOS</a> or otherwise use nixpkgs, you can also get it from there:</p>
<pre><code><span>nix-shell -p jocalsend
</span></code></pre>
<p>and it&#39;ll do what you expect.</p>
<h2 id="how-do-i-use-it">How do I use it?</h2>
<p>When you first run it, you&#39;ll be on the main screen. Clockwise from the bottom, the lower left contains information about the
network it&#39;s on, the lower right has a list of any LocalSend peers it discovered, the upper right
has log output from jocalsend, and finally the upper left will show any incoming transfer requests,
with possible text preview:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./main_screen.png" alt="main screen"/></p>
<p>Here we can see that my phone is already available as a peer.</p>
<h3 id="receiving-files-and-text">Receiving files and text</h3>
<p>I can use my phone to send some text to my computer, and it will show a preview of the text even in
the main screen:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./main_screen_txt_rx_request.png" alt="main screen receiving text"/></p>
<p>If I hit <code>r</code>, I&#39;ll be taken to the receiving screen, where I can approve or deny the incoming
transfer request, with <code>a</code> or <code>d</code> respectively:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./receiving_text_from_phone.png" alt="receiving screen, with text preview"/></p>
<p>If the incoming content is not plain text, no preview will be shown:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./receiving_file_from_phone.png" alt="receiving screen, no preview"/></p>
<p>From nearly any screen, hitting the <code>esc</code> key will take you to whatever screen you were in
previously.</p>
<h3 id="sending-files-and-text">Sending files and text</h3>
<p>Hitting the <code>s</code> key will take you to the sending screen. By default, it will show a list of files
from your current directory in the upper left, with log output on the right, and peers on the
bottom:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./picking_file_sending.png" alt="sending files with arrow-based picking"/></p>
<p>Hit <code>/</code> to do fuzzy filename selection by entering text:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./fuzzy_file_sending.png" alt="sending files with fuzzy filename selection"/></p>
<p>Regardless of whether or not you&#39;re doing fuzzy filename search, the up and down arrow keys will
move the selection up or down, respectively.</p>
<p>If you&#39;d like to send text, hit <code>t</code>:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./sending_text_to_phone.png" alt="sending text"/></p>
<p>then <code>enter</code> to send, and you can see a preview on the mobile device:</p>
<p><img src="https://proclamations.nebcorp-hias.com/sundries/jocalsend/./receiving_text_on_phone.png" alt="receiving text on the mobile app"/></p>
<p>And that&#39;s pretty much all there is!</p>
<h2 id="wrapping-up">Wrapping up</h2>
<p>Anyway, I&#39;ve had fun making jocalsend. I now use it daily, and every time I do, I&#39;m pretty
darned pleased with myself. If you&#39;re a weirdo like me who doesn&#39;t use Apple stuff, maybe this would
be useful for you, too.</p>
<hr/>





        </section></div>
  </body>
</html>
