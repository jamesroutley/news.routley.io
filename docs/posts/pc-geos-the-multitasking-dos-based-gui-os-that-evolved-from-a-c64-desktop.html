<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/bluewaysw/pcgeos">Original</a>
    <h1>PC GEOS: the multitasking DOS-based GUI OS that evolved from a C64 desktop</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">This repository is the offical place to hold all the source codes around the PC/GEOS graphical user
interface and its sophisticated applications. It is the source to build SDK and release version of PC/GEOS.
It is the place to collaborate on further developments.</p>
<p dir="auto">The base of this repository is the source code used to build Breadbox Ensemble 4.13 reduced by some modules identified as critical in regard to the license choosen for the repository.</p>
<p dir="auto">While now the WATCOM is used to compile the C parts, the full SDK is available for Windows and Linux.</p>

<h2 tabindex="-1" dir="auto"><a id="user-content-prerequisites" aria-hidden="true" tabindex="-1" href="#prerequisites"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Prerequisites</h2>
<p dir="auto">The SDK requires &#34;sed&#34; (<a href="https://en.wikipedia.org/wiki/Sed" rel="nofollow">https://en.wikipedia.org/wiki/Sed</a>) and &#34;perl&#34; (<a href="https://en.wikipedia.org/wiki/Perl" rel="nofollow">https://en.wikipedia.org/wiki/Perl</a>) to be installed. Both are pre-installed in most Linux-distributions. Windows-users should install &#34;sed&#34; by adding the usr/bin of the official git distribution (<a href="https://git-scm.com" rel="nofollow">https://git-scm.com</a>) to the path (or Cygwin), and should use the perl-variant &#34;Strawberry Perl&#34; (<a href="http://strawberryperl.com/" rel="nofollow">http://strawberryperl.com/</a>).</p>
<p dir="auto">On Linux if you want to use swat for debugging with good system integration is is required to install xdotools package. It ensures swat receives the keyboard focus once needed.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-install-watcom-and-set-environment" aria-hidden="true" tabindex="-1" href="#install-watcom-and-set-environment"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Install WATCOM and set environment</h2>
<ul dir="auto">
<li>
<p dir="auto">Unzip WATCOM tools from the latest <a href="https://github.com/open-watcom/open-watcom-v2/releases/download/2020-12-01-Build/ow-snapshot.tar.gz">release-tar-gz</a> for instance to <code>C:\WATCOM-V2</code></p>
</li>
<li>
<p dir="auto">add WATCOM env variable: <code>WATCOM=c:\WATCOM-V2</code></p>
</li>
<li>
<p dir="auto">set <code>BASEBOX=basebox</code> to use the advanced emulator backend from <a href="https://github.com/bluewaysw/pcgeos-basebox/tags">pcgeos-basebox</a> if it is on the executable path, alternatively you may provide the full path to the executable as well</p>
</li>
<li>
<p dir="auto">set <code>ROOT_DIR</code> to the root of the checkout</p>
</li>
<li>
<p dir="auto">set <code>LOCAL_ROOT</code> to a local working directory (can be empty at first, but should be under <code>pcgeos</code>, so you can use it for development of your own apps as well)</p>
</li>
<li>
<p dir="auto">add <code>C:\WATCOM-V2\binnt</code> to your system path variable</p>
</li>
<li>
<p dir="auto">add bin of the checkout of this repo to path variable</p>
</li>
<li>
<p dir="auto">add sed and perl to path variable - note the order to avoid loading the wrong Perl version. Example:</p>
<div data-snippet-clipboard-copy-content="  set WATCOM=c:\WATCOM-V2
  set ROOT_DIR=C:\Geos\pcgeos
  set LOCAL_ROOT=c:\Geos\pcgeos\Local
  set BASEBOX=basebox
  PATH %WATCOM%\binnt;%ROOT_DIR%\bin;C:\Geos\pcgeos-basebox\binnt;%PATH%;c:\Program Files\Git\usr\bin"><pre><code>  set WATCOM=c:\WATCOM-V2
  set ROOT_DIR=C:\Geos\pcgeos
  set LOCAL_ROOT=c:\Geos\pcgeos\Local
  set BASEBOX=basebox
  PATH %WATCOM%\binnt;%ROOT_DIR%\bin;C:\Geos\pcgeos-basebox\binnt;%PATH%;c:\Program Files\Git\usr\bin
</code></pre></div>
</li>
</ul>
<p dir="auto">Document is work in progress.... stay tuned!</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-building-pcgeos-sdk" aria-hidden="true" tabindex="-1" href="#building-pcgeos-sdk"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Building PC/GEOS SDK</h2>
<p dir="auto">Build pmake tool:</p>
<ul dir="auto">
<li><code>cd %ROOT_DIR%/Tools/pmake/pmake</code></li>
<li><code>wmake install</code></li>
</ul>
<p dir="auto">Build all the other SDK Tools:</p>
<ul dir="auto">
<li><code>cd %ROOT_DIR%/Installed/Tools</code></li>
<li><code>pmake install</code></li>
</ul>
<p dir="auto">Build all PC/GEOS (target) components:</p>
<ul dir="auto">
<li><code>cd %ROOT_DIR%/Installed</code></li>
<li><code>pmake</code></li>
</ul>
<p dir="auto">Build the target environment:</p>
<ul dir="auto">
<li><code>cd %ROOT_DIR%/Tools/build/product/bbxensem/Scripts</code></li>
<li><code>perl -I. buildbbx.pl</code>
<ul dir="auto">
<li>the answers to the questions from the above perl-script are:
<ul dir="auto">
<li>nt (for the platform)</li>
<li>y (for the EC version)</li>
<li>n (for the DBCS)</li>
<li>y (for the geodes)</li>
<li>n (for the VM files)</li>
<li>and then you&#39;ll have to enter the path to a &#34;gbuild&#34;-folder in your LOCAL_ROOT-folder.</li>
</ul>
</li>
<li>BTW: It&#39;s expected that the current version of the perl-script creates several &#34;Could not find file <em>name</em> in any of the source trees.&#34;-messages.</li>
</ul>
</li>
</ul>
<p dir="auto">Launch the target environment in dosbox:</p>
<ul dir="auto">
<li>make sure dosbox is added to your path variable, or <a href="https://github.com/bluewaysw/pcgeos-basebox/tags">pcgeos-basebox</a> is installed and configured using BASEBOX environmental variable</li>
<li><code>%ROOT_DIR%/bin/target</code>
<ul dir="auto">
<li>the &#34;swat&#34; debugger stops immediately after the first stage of the boot process</li>
<li>enter <code>quit</code> at the &#34;=&gt;&#34; prompt to detach the debugger and launch PC/GEOS stand-alone
<ul dir="auto">
<li>or: enter <code>c</code> to launch with the debugger running in the background (slower)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-customize-target-environment" aria-hidden="true" tabindex="-1" href="#customize-target-environment"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Customize target environment</h2>
<p dir="auto">If you want to customize the target environment settings only for yourself, you should not change the file %ROOT_DIR%/bin/basbox.conf.</p>
<ul dir="auto">
<li>Create a file called basebox_user.conf in %LOCAL_ROOT% folder.</li>
<li>Enter the new settings here. These settings overwrite those from basebox.conf. Example:
<ul dir="auto">
<li>[cpu]</li>
<li>cycles=55000</li>
</ul>
</li>
</ul>

<p dir="auto">PC/GEOS comes with extensive technical documentation that describes tools, programming languages and API calls from the perspective of an SDK user. This documentation can be found in the <code>TechDocs</code> folder and is available in Markdown format.</p>
<p dir="auto">You can find a browseable, searchable version of the documentation here: <a href="https://bluewaysw.github.io/pcgeos/" rel="nofollow">https://bluewaysw.github.io/pcgeos/</a></p>

<p dir="auto">We are on <a href="https://bluewaysw.slack.com/" rel="nofollow">https://bluewaysw.slack.com/</a> for more efficient collaboration. Please register at <a href="https://blog.bluewaysw.de" rel="nofollow">https://blog.bluewaysw.de</a> for MyGEOS and use the Slack section and receive access to our developer community. Welcome!</p>
</article>
          </div></div>
  </body>
</html>
