<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://gianluca.ai/aimong-us-game/">Original</a>
    <h1>AImong Us: a reverse Turing Test game</h1>
    
    <div id="readability-page-1" class="page"><div><p>Repo: <a href="https://github.com/gianlucatruda/aimong-us">github.com/gianlucatruda/aimong-us</a></p><p><img loading="lazy" src="https://gianluca.ai/aimong-us-game/images/aimong-us-game-screenshot.png" alt="aimong-us-game-screenshot"/></p><h2 id="what-it-is">What it is</h2><p>A terminal-based game where you go undercover as a large language model (LLM) in an arena of actual LLMs, powered by OpenAI’s GPT-4o <sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.</p><p>You must remain undetected as the AI’s probe you (and each other) for clues about who the human impostor is. The more rounds you survive without being outed by majority vote, the higher your score.</p><h2 id="why-i-made-it">Why I made it</h2><p>I’ve been experimenting with LLMs interacting with one-another for a few years now. Back in early 2023, I created a few LLM-driven Discord bots and had them argue with one another in the same server. I’ve long wanted to extend that idea and obfuscate the distinctions between human agents and LLM agents.</p><p>So for this week’s <a href="https://gianluca.ai/rc-weeknotes-05">game jam at the Recurse Center</a>, where the theme was <em>claustrophobia</em>, I implemented a text-based game that inverts the <a href="https://en.wikipedia.org/wiki/Turing_test">Turing Test</a> and draws from the party game <a href="https://www.wikihow.com/Play-Werewolf-(Party-Game)">Werewolf</a>.</p><p>It was also a great opportunity for me to try out:</p><ul><li><a href="https://docs.astral.sh/uv/">uv</a>: a fast and ergonomic new package and project manager for Python</li><li><a href="https://rich.readthedocs.io/en/stable/">rich</a>: a handy Python package for building beautiful terminal user interfaces (TUIs).</li></ul><p>I can highly recommend both!</p><h2 id="how-it-works">How it works</h2><ul><li><strong>Agents</strong>: Each player (human or AI) as an <code>Agent</code> instance. None of the agents know which of the others are AI or human.</li><li><strong>Context</strong>: Each non-human agent is provided the context of the game with a system prompt explaining the rules and how it should behave <sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>, followed by a series of user messages (representing other agents’ messages) and assistant messages (representing their own past messages) with a rolling history window.</li><li><strong>Configuration</strong>: I arrived at a handy architecture whereby all the tunable aspects of the game: story text, LLM prompts, model parameters, etc. were separated from the code by importing them from a TOML file. This separates the big chunks of text from the logic, which made for a more seamless testing and versioning workflow.</li><li><strong>UI design</strong>: One of the biggest challenges with this game was not overwhelming the human player with an onslaught of rapidly-generated text as the rounds progress. Switching from vanilla <code>stdout</code> text to using <code>rich</code>-based formatting allowed for the necessary visual variety to distinguish different sources of text and clearly indicate which agent sent which message <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>.</li><li><strong>Logging</strong>: I made use of the excellent <a href="https://loguru.readthedocs.io/en/stable/overview.html">loguru</a> library for testing and debugging logs. <code>loguru</code> makes it easy to log to both standard output and a logfile. I used a command-line argument that lets me vary the logging level displayed to <code>stdout</code> at runtime.</li></ul><h2 id="how-to-try-it">How to try it</h2><p><code>uv</code> is awesome and it makes trying out Python projects like this a breeze. You can literally just clone <a href="https://github.com/gianlucatruda/aimong-us">the repo</a> and run <code>uv sync</code> inside it. That not only sets up the appropriate python environment (without nuking your system Python), but installs all the correct dependencies and contains them to just this project.</p><p>Then just run <code>uv run main.py</code></p><p>The biggest source of friction is that you’ll need an OpenAI API key of your own.</p><p>(See the <a href="https://github.com/gianlucatruda/aimong-us">README</a> for more details.)</p></div></div>
  </body>
</html>
