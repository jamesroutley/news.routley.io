<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tech.marksblogg.com/wyvern-open-data-feed.html">Original</a>
    <h1>Wyvern&#39;s Open Satellite Feed</h1>
    
    <div id="readability-page-1" class="page"><div id="article_text">
            <p>Last month, Wyvern, a 36-person start-up with $16M USD in funding in Edmonton, Canada launched an open data programme for their VNIR, 23 to 31-band hyperspectral satellite imagery.</p>
<p>The imagery was captured with one of their three Dragonette 6U CubeSat satellites. These satellites were built by AAC Clyde Space which has offices in the UK, Sweden and a few other countries. They orbit 517 - 550 KM above the Earth&#39;s surface and have a spatial resolution at nadir (GSD) of 5.3M.</p>
<p>SpaceX launched all three of their satellites from Vandenberg Space Force Base in California. They were launched on April 15th, June 12th and November 11th, 2023 respectively.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/brave_DUuxrudwQm.png">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/brave_DUuxrudwQm.png"/>
</a></p><p>There are ~130 GB of GeoTIFFs being hosted in their AWS S3 bucket in Montreal. The 33 images posted were taken between June and two weeks ago.</p>
<p>In this post, I&#39;ll examine Wyvern&#39;s open data feed.</p>
<div id="my-workstation">
<h2>My Workstation</h2>
<p>I&#39;m using a 5.7 GHz AMD Ryzen 9 9950X CPU. It has 16 cores and 32 threads and 1.2 MB of L1, 16 MB of L2 and 64 MB of L3 cache. It has a liquid cooler attached and is housed in a spacious, full-sized Cooler Master HAF 700 computer case.</p>
<p>The system has 96 GB of DDR5 RAM clocked at 4,800 MT/s and a 5th-generation, Crucial T700 4 TB NVMe M.2 SSD which can read at speeds up to 12,400 MB/s. There is a heatsink on the SSD to help keep its temperature down. This is my system&#39;s C drive.</p>
<p>The system is powered by a 1,200-watt, fully modular Corsair Power Supply and is sat on an ASRock X870E Nova 90 Motherboard.</p>
<p>I&#39;m running Ubuntu 24 LTS via Microsoft&#39;s Ubuntu for Windows on Windows 11 Pro. In case you&#39;re wondering why I don&#39;t run a Linux-based desktop as my primary work environment, I&#39;m still using an Nvidia GTX 1080 GPU which has better driver support on Windows and I use ArcGIS Pro from time to time which only supports Windows natively.</p>
</div>
<div id="installing-prerequisites">
<h2>Installing Prerequisites</h2>
<p>I&#39;ll use GDAL 3.9.3, Python 3.12.3 and a few other tools to help analyse the data in this post.</p>
<div><pre><span></span>$<span> </span>sudo<span> </span>add-apt-repository<span> </span>ppa:deadsnakes/ppa
$<span> </span>sudo<span> </span>add-apt-repository<span> </span>ppa:ubuntugis/ubuntugis-unstable
$<span> </span>sudo<span> </span>apt<span> </span>update
$<span> </span>sudo<span> </span>apt<span> </span>install<span> </span><span>\</span>
<span>    </span>gdal-bin<span> </span><span>\</span>
<span>    </span>jq<span> </span><span>\</span>
<span>    </span>libimage-exiftool-perl<span> </span><span>\</span>
<span>    </span>libtiff-tools<span> </span><span>\</span>
<span>    </span>python3-pip<span> </span><span>\</span>
<span>    </span>python3.12-venv
</pre></div>
<p>I&#39;ll set up a Python Virtual Environment and install some dependencies.</p>
<div><pre><span></span>$<span> </span>python3<span> </span>-m<span> </span>venv<span> </span>~/.wyvern
$<span> </span><span>source</span><span> </span>~/.wyvern/bin/activate
$<span> </span>python3<span> </span>-m<span> </span>pip<span> </span>install<span> </span><span>\</span>
<span>    </span>astropy<span> </span><span>\</span>
<span>    </span>geocoder<span> </span><span>\</span>
<span>    </span>pystac<span> </span><span>\</span>
<span>    </span>rich<span> </span><span>\</span>
<span>    </span>shapely<span> </span><span>\</span>
<span>    </span>sgp4
</pre></div>
<p>I&#39;ll use my GeoTIFFs <a href="https://github.com/marklit/geotiffs">analysis utility</a> in this post.</p>
<div><pre><span></span>$<span> </span>git<span> </span>clone<span> </span>https://github.com/marklit/geotiffs<span> </span><span>\</span>
<span>    </span>~/geotiffs
$<span> </span>python3<span> </span>-m<span> </span>pip<span> </span>install<span> </span><span>\</span>
<span>          </span>-r<span> </span>~/geotiffs/requirements.txt
</pre></div>
<p>I&#39;ll use DuckDB, along with its <a href="https://github.com/isaacbrodsky/h3-duckdb">H3</a>, <a href="https://duckdb.org/docs/extensions/json">JSON</a>, <a href="https://community-extensions.duckdb.org/extensions/lindel.html">Lindel</a>, <a href="https://duckdb.org/docs/data/parquet/overview">Parquet</a> and <a href="https://duckdb.org/docs/extensions/spatial.html">Spatial</a> extensions, in this post.</p>
<div><pre><span></span>$<span> </span><span>cd</span><span> </span>~
$<span> </span>wget<span> </span>-c<span> </span>https://github.com/duckdb/duckdb/releases/download/v1.1.3/duckdb_cli-linux-amd64.zip
$<span> </span>unzip<span> </span>-j<span> </span>duckdb_cli-linux-amd64.zip
$<span> </span>chmod<span> </span>+x<span> </span>duckdb
$<span> </span>~/duckdb
</pre></div>
<div><pre><span></span><span>INSTALL</span><span> </span><span>h3</span><span> </span><span>FROM</span><span> </span><span>community</span><span>;</span>
<span>INSTALL</span><span> </span><span>lindel</span><span> </span><span>FROM</span><span> </span><span>community</span><span>;</span>
<span>INSTALL</span><span> </span><span>json</span><span>;</span>
<span>INSTALL</span><span> </span><span>parquet</span><span>;</span>
<span>INSTALL</span><span> </span><span>spatial</span><span>;</span>
</pre></div>
<p>I&#39;ll set up DuckDB to load every installed extension each time it launches.</p>

<div><pre><span></span>.timer on
.width 180
LOAD h3;
LOAD lindel;
LOAD json;
LOAD parquet;
LOAD spatial;
</pre></div>
<p>The maps in this post were rendered with <a href="https://www.qgis.org/en/site/forusers/download.html">QGIS</a> version 3.42. QGIS is a desktop application that runs on Windows, macOS and Linux. The application has grown in popularity in recent years and has ~15M application launches from users all around the world each month.</p>
<p>I used QGIS&#39; <a href="https://github.com/marklit/tile_plus">Tile+ plugin</a> to add geospatial context with Bing&#39;s Virtual Earth Basemap as well as CARTO&#39;s to the maps. The dark, non-satellite imagery maps are mostly made up of vector data from Natural Earth and Overture.</p>
</div>
<div id="dragonette-s-satellites">
<h2>Dragonette&#39;s Satellites</h2>
<p>Below is <a href="https://scope.pulseorbital.com/">PulseOrbital</a>&#39;s list of estimated Tallinn flyovers by Wyvern&#39;s Dragonette constellation for March 8th and 9th, 2025.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/brave_FCOC1Fpnif.png">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/brave_FCOC1Fpnif.png"/>
</a></p><p>Below I&#39;ll try to estimate the current locations of each of their three satellites. I found the <a href="https://en.wikipedia.org/wiki/Two-line_element_set">Two-line elements</a> (TLE) details on <a href="https://www.n2yo.com/satellite/?s=56225">n2yo</a>.</p>
<p>I ran the following on March 10th, 2025. It produced a CSV file with names and estimated locations of their three satellites.</p>

<div><pre><span></span><span>from</span>   <span>datetime</span>            <span>import</span> <span>datetime</span><span>,</span> <span>UTC</span>
<span>import</span> <span>json</span>

<span>from</span>   <span>astropy</span>             <span>import</span> <span>units</span> <span>as</span> <span>u</span>
<span>from</span>   <span>astropy.time</span>        <span>import</span> <span>Time</span>
<span>from</span>   <span>astropy.coordinates</span> <span>import</span> <span>ITRS</span><span>,</span> \
                                  <span>TEME</span><span>,</span> \
                                  <span>CartesianDifferential</span><span>,</span> \
                                  <span>CartesianRepresentation</span>
<span>from</span>   <span>sgp4.api</span>            <span>import</span> <span>Satrec</span>
<span>from</span>   <span>sgp4.api</span>            <span>import</span> <span>SGP4_ERRORS</span>


<span>tles</span> <span>=</span> <span>&#39;&#39;&#39;AAC-HSI-SAT1</span>
<span>          1 56225U 23054AZ  25068.93354999  .00004447  00000-0  28073-3 0  9998</span>
<span>          2 56225  97.4339 315.2974 0008749 291.1678  68.8616 15.09548670105253</span>
<span>          AAC-HSI-SAT2</span>
<span>          1 56995U 23084BX  25069.13857882  .00006243  00000-0  33207-3 0  9998</span>
<span>          2 56995  97.7590 200.5235 0013312 352.0602   8.0417 15.15565025 95939</span>
<span>          AAC-HSI-SAT3</span>
<span>          1 58848U 23174DH  25068.89805865  .00005229  00000-0  30564-3 0  9999</span>
<span>          2 58848  97.4007 137.8776 0011809 171.1785 188.9655 15.12246107 73641</span>
<span>          &#39;&#39;&#39;</span><span>.</span><span>strip</span><span>()</span><span>.</span><span>splitlines</span><span>()</span>

<span>with</span> <span>open</span><span>(</span><span>&#39;locations.csv&#39;</span><span>,</span> <span>&#39;w&#39;</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>while</span> <span>tles</span><span>:</span>
        <span>name</span>  <span>=</span> <span>tles</span><span>.</span><span>pop</span><span>(</span><span>0</span><span>)</span><span>.</span><span>strip</span><span>()</span>
        <span>line1</span> <span>=</span> <span>tles</span><span>.</span><span>pop</span><span>(</span><span>0</span><span>)</span><span>.</span><span>strip</span><span>()</span>
        <span>line2</span> <span>=</span> <span>tles</span><span>.</span><span>pop</span><span>(</span><span>0</span><span>)</span><span>.</span><span>strip</span><span>()</span>

        <span>satellite</span> <span>=</span> <span>Satrec</span><span>.</span><span>twoline2rv</span><span>(</span><span>line1</span><span>,</span> <span>line2</span><span>)</span>

        <span>t</span> <span>=</span> <span>Time</span><span>(</span><span>datetime</span><span>.</span><span>now</span><span>(</span><span>UTC</span><span>)</span><span>.</span><span>isoformat</span><span>()</span><span>.</span><span>split</span><span>(</span><span>&#39;+&#39;</span><span>)[</span><span>0</span><span>],</span>
                 <span>format</span><span>=</span><span>&#39;isot&#39;</span><span>,</span>
                 <span>scale</span><span>=</span><span>&#39;utc&#39;</span><span>)</span>

        <span>error_code</span><span>,</span> <span>teme_p</span><span>,</span> <span>teme_v</span> <span>=</span> <span>satellite</span><span>.</span><span>sgp4</span><span>(</span><span>t</span><span>.</span><span>jd1</span><span>,</span> <span>t</span><span>.</span><span>jd2</span><span>)</span> <span># in km and km/s</span>

        <span>if</span> <span>error_code</span> <span>!=</span> <span>0</span><span>:</span>
            <span>raise</span> <span>RuntimeError</span><span>(</span><span>SGP4_ERRORS</span><span>[</span><span>error_code</span><span>])</span>

        <span>teme_p</span> <span>=</span> <span>CartesianRepresentation</span><span>(</span><span>teme_p</span> <span>*</span> <span>u</span><span>.</span><span>km</span><span>)</span>
        <span>teme_v</span> <span>=</span> <span>CartesianDifferential</span><span>(</span><span>teme_v</span> <span>*</span> <span>u</span><span>.</span><span>km</span> <span>/</span> <span>u</span><span>.</span><span>s</span><span>)</span>
        <span>teme</span> <span>=</span> <span>TEME</span><span>(</span><span>teme_p</span><span>.</span><span>with_differentials</span><span>(</span><span>teme_v</span><span>),</span> <span>obstime</span><span>=</span><span>t</span><span>)</span>

        <span>itrs_geo</span> <span>=</span> <span>teme</span><span>.</span><span>transform_to</span><span>(</span><span>ITRS</span><span>(</span><span>obstime</span><span>=</span><span>t</span><span>))</span>
        <span>location</span> <span>=</span> <span>itrs_geo</span><span>.</span><span>earth_location</span>
        <span>loc</span> <span>=</span> <span>location</span><span>.</span><span>geodetic</span>

        <span>f</span><span>.</span><span>write</span><span>(</span><span>&#39;&#34;</span><span>%s</span><span>&#34;, &#34;POINT (</span><span>%f</span><span> </span><span>%f</span><span>)&#34;</span><span>\n</span><span>&#39;</span> <span>%</span> <span>(</span><span>name</span><span>,</span>
                                             <span>loc</span><span>.</span><span>lon</span><span>.</span><span>deg</span><span>,</span>
                                             <span>loc</span><span>.</span><span>lat</span><span>.</span><span>deg</span><span>))</span>
</pre></div>
<p>Below is a rendering of the above CSV data in QGIS.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/qgis-bin_JmwpJdX0SF.jpg">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/qgis-bin_JmwpJdX0SF.jpg"/>
</a>
</p></div>
<div id="open-data-feed">
<h2>Open Data Feed</h2>
<p>Wyvern have a STAC catalog listing the imagery locations and metadata around their capture. I&#39;ll download this metadata and get each image&#39;s address details with Mapbox&#39;s reverse geocoding service. Mapbox offer 100K geocoding searches per month with their free tier.</p>

<div><pre><span></span><span>import</span> <span>json</span>

<span>import</span> <span>geocoder</span>
<span>from</span>   <span>pystac</span>           <span>import</span> <span>Catalog</span>
<span>from</span>   <span>rich.progress</span>    <span>import</span> <span>track</span>
<span>from</span>   <span>shapely.geometry</span> <span>import</span> <span>shape</span>


<span>mapbox_key</span> <span>=</span> <span>&#39;...&#39;</span> <span># WIP: Replace with your key</span>
<span>root</span> <span>=</span> <span>Catalog</span><span>.</span><span>from_file</span><span>(</span><span>href</span><span>=</span><span>&#39;https://wyvern-prod-public-open-data-program.s3.ca-central-1.amazonaws.com/catalog.json&#39;</span><span>)</span>

<span>seen</span> <span>=</span> <span>set</span><span>()</span>

<span>with</span> <span>open</span><span>(</span><span>&#39;enriched.json&#39;</span><span>,</span> <span>&#39;w&#39;</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>for</span> <span>item</span> <span>in</span> <span>track</span><span>(</span><span>list</span><span>(</span><span>root</span><span>.</span><span>get_items</span><span>(</span><span>recursive</span><span>=</span><span>True</span><span>))):</span>
        <span>if</span> <span>item</span><span>.</span><span>assets</span><span>[</span><span>&#39;Cloud optimized GeoTiff&#39;</span><span>]</span><span>.</span><span>href</span> <span>in</span> <span>seen</span><span>:</span>
            <span>continue</span>

        <span>seen</span><span>.</span><span>add</span><span>(</span><span>item</span><span>.</span><span>assets</span><span>[</span><span>&#39;Cloud optimized GeoTiff&#39;</span><span>]</span><span>.</span><span>href</span><span>)</span>
        <span>centroid_</span> <span>=</span> <span>shape</span><span>(</span><span>item</span><span>.</span><span>geometry</span><span>)</span><span>.</span><span>centroid</span>
        <span>resp</span> <span>=</span> <span>geocoder</span><span>.</span><span>mapbox</span><span>([</span><span>centroid_</span><span>.</span><span>y</span><span>,</span> <span>centroid_</span><span>.</span><span>x</span><span>],</span>
                               <span>key</span><span>=</span><span>mapbox_key</span><span>,</span>
                               <span>method</span><span>=</span><span>&#39;reverse&#39;</span><span>)</span>
        <span>assert</span> <span>resp</span><span>.</span><span>ok</span> <span>is</span> <span>True</span><span>,</span> <span>resp</span><span>.</span><span>status</span>

        <span>f</span><span>.</span><span>write</span><span>(</span><span>json</span><span>.</span><span>dumps</span><span>(</span>
            <span>{</span><span>&#39;properties&#39;</span><span>:</span>    <span>item</span><span>.</span><span>properties</span><span>,</span>
             <span>&#39;geom&#39;</span><span>:</span>          <span>shape</span><span>(</span><span>item</span><span>.</span><span>geometry</span><span>)</span><span>.</span><span>wkt</span><span>,</span>
             <span>&#39;id&#39;</span><span>:</span>            <span>item</span><span>.</span><span>id</span><span>,</span>
             <span>&#39;bbox&#39;</span><span>:</span>          <span>item</span><span>.</span><span>bbox</span><span>,</span>
             <span>&#39;assets&#39;</span><span>:</span>        <span>{</span><span>k</span><span>.</span><span>lower</span><span>()</span><span>.</span><span>replace</span><span>(</span><span>&#39; &#39;</span><span>,</span> <span>&#39;_&#39;</span><span>):</span> <span>v</span><span>.</span><span>href</span>
                               <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>item</span><span>.</span><span>assets</span><span>.</span><span>items</span><span>()},</span>
             <span>&#39;mapbox&#39;</span><span>:</span>        <span>resp</span><span>.</span><span>current_result</span><span>.</span><span>__dict__</span><span>,</span>
             <span>&#39;collection_id&#39;</span><span>:</span> <span>item</span><span>.</span><span>collection_id</span><span>},</span>
            <span>sort_keys</span><span>=</span><span>True</span><span>)</span> <span>+</span> <span>&#39;</span><span>\n</span><span>&#39;</span><span>)</span>
</pre></div>
<p>The above produced a 33-line JSONL file. Below is an example record.</p>
<div><pre><span></span>$<span> </span>head<span> </span>-n1<span> </span>enriched.json<span> </span><span>|</span><span> </span>jq<span> </span>-S<span> </span>.
</pre></div>
<div><pre><span></span><span>{</span>
<span>  </span><span>&#34;assets&#34;</span><span>:</span><span> </span><span>{</span>
<span>    </span><span>&#34;cloud_optimized_geotiff&#34;</span><span>:</span><span> </span><span>&#34;https://wyvern-prod-public-open-data-program.s3.ca-central-1.amazonaws.com/wyvern_dragonette-001_20240703T171837_4c406dd3/wyvern_dragonette-001_20240703T171837_4c406dd3.tiff&#34;</span><span>,</span>
<span>    </span><span>&#34;data_mask&#34;</span><span>:</span><span> </span><span>&#34;https://wyvern-prod-public-open-data-program.s3.ca-central-1.amazonaws.com/wyvern_dragonette-001_20240703T171837_4c406dd3/wyvern_dragonette-001_20240703T171837_4c406dd3_data_mask.tiff&#34;</span><span>,</span>
<span>    </span><span>&#34;overview_image&#34;</span><span>:</span><span> </span><span>&#34;https://wyvern-prod-public-open-data-program.s3.ca-central-1.amazonaws.com/wyvern_dragonette-001_20240703T171837_4c406dd3/wyvern_dragonette-001_20240703T171837_4c406dd3_preview.png&#34;</span><span>,</span>
<span>    </span><span>&#34;pixel_quality_mask&#34;</span><span>:</span><span> </span><span>&#34;https://wyvern-prod-public-open-data-program.s3.ca-central-1.amazonaws.com/wyvern_dragonette-001_20240703T171837_4c406dd3/wyvern_dragonette-001_20240703T171837_4c406dd3_pixel_quality_mask.tiff&#34;</span><span>,</span>
<span>    </span><span>&#34;thumbnail_image&#34;</span><span>:</span><span> </span><span>&#34;https://wyvern-prod-public-open-data-program.s3.ca-central-1.amazonaws.com/wyvern_dragonette-001_20240703T171837_4c406dd3/wyvern_dragonette-001_20240703T171837_4c406dd3_thumbnail.png&#34;</span>
<span>  </span><span>},</span>
<span>  </span><span>&#34;bbox&#34;</span><span>:</span><span> </span><span>[</span>
<span>    </span><span>-117.14246656709959</span><span>,</span>
<span>    </span><span>48.26920917388883</span><span>,</span>
<span>    </span><span>-116.64844506075083</span><span>,</span>
<span>    </span><span>48.6222705607206</span>
<span>  </span><span>],</span>
<span>  </span><span>&#34;collection_id&#34;</span><span>:</span><span> </span><span>&#34;2024&#34;</span><span>,</span>
<span>  </span><span>&#34;geom&#34;</span><span>:</span><span> </span><span>&#34;POLYGON ((-117.09090885825756 48.570741224333794, -117.09090885825756 48.57083115336763, -117.09070614118478 48.570876117884545, -117.08948983874814 48.57110094046913, -117.08847625338427 48.5712807985368, -117.07421848593255 48.57370888245031, -117.04800041118719 48.57816036962509, -117.03975658356107 48.57955426964951, -117.02671511854598 48.58175753097844, -117.01522781775549 48.58369100520587, -117.00319993810427 48.58571440846713, -116.98792858528867 48.5882773859314, -116.96988676581184 48.59129000856483, -116.9558317154329 48.593628163444514, -116.9458310065094 48.59529185057044, -116.93900619839269 48.596415963493364, -116.89765191554693 48.60320560554782, -116.89461115945532 48.60370021523391, -116.8650144668304 48.60851141854402, -116.85089184409387 48.61080460890678, -116.84812137743262 48.61125425407595, -116.84589148963212 48.61161397021129, -116.81298375148523 48.616919783207486, -116.81237560026692 48.616919783207486, -116.81217288319415 48.6164251735214, -116.81183502140618 48.61552588318306, -116.81122687018787 48.61390716057405, -116.80784825230832 48.60486929267375, -116.78994157754666 48.556667330538794, -116.77967057919281 48.52901415263488, -116.77095374506355 48.50554267480424, -116.76811570604472 48.49789870692836, -116.70905746551009 48.33845452994091, -116.70371924926037 48.324020920010575, -116.7027732362541 48.32145794254631, -116.70250294682374 48.32069354575872, -116.70250294682374 48.32042375865722, -116.70257051918134 48.320378794140304, -116.7035841045452 48.320198936072636, -116.70412468340592 48.3201090070388, -116.97833331051073 48.275054561088034, -116.98002261945051 48.27478477398653, -116.9801577641657 48.27478477398653, -116.98022533652329 48.27482973850345, -116.98036048123846 48.275054561088034, -116.98049562595365 48.27541427722337, -116.98069834302642 48.27595385142637, -116.99819958364253 48.32267198450307, -117.03381021609304 48.417906831333134, -117.0373239786878 48.42730441536877, -117.0754347883692 48.529238975219464, -117.07881340624874 48.53827684311977, -117.08861139809946 48.56449115648234, -117.09003041760887 48.56831314042028, -117.09084128589997 48.57051640174921, -117.09090885825756 48.570741224333794))&#34;</span><span>,</span>
<span>  </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;wyvern_dragonette-001_20240703T171837_4c406dd3&#34;</span><span>,</span>
<span>  </span><span>&#34;mapbox&#34;</span><span>:</span><span> </span><span>{</span>
<span>    </span><span>&#34;_geometry&#34;</span><span>:</span><span> </span><span>{</span>
<span>      </span><span>&#34;coordinates&#34;</span><span>:</span><span> </span><span>[</span>
<span>        </span><span>-116.89724</span><span>,</span>
<span>        </span><span>48.44575</span>
<span>      </span><span>],</span>
<span>      </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;Point&#34;</span>
<span>    </span><span>},</span>
<span>    </span><span>&#34;fieldnames&#34;</span><span>:</span><span> </span><span>[</span>
<span>      </span><span>&#34;accuracy&#34;</span><span>,</span>
<span>      </span><span>&#34;address&#34;</span><span>,</span>
<span>      </span><span>&#34;bbox&#34;</span><span>,</span>
<span>      </span><span>&#34;city&#34;</span><span>,</span>
<span>      </span><span>&#34;confidence&#34;</span><span>,</span>
<span>      </span><span>&#34;country&#34;</span><span>,</span>
<span>      </span><span>&#34;housenumber&#34;</span><span>,</span>
<span>      </span><span>&#34;lat&#34;</span><span>,</span>
<span>      </span><span>&#34;lng&#34;</span><span>,</span>
<span>      </span><span>&#34;ok&#34;</span><span>,</span>
<span>      </span><span>&#34;postal&#34;</span><span>,</span>
<span>      </span><span>&#34;quality&#34;</span><span>,</span>
<span>      </span><span>&#34;raw&#34;</span><span>,</span>
<span>      </span><span>&#34;state&#34;</span><span>,</span>
<span>      </span><span>&#34;status&#34;</span><span>,</span>
<span>      </span><span>&#34;street&#34;</span>
<span>    </span><span>],</span>
<span>    </span><span>&#34;json&#34;</span><span>:</span><span> </span><span>{</span>
<span>      </span><span>&#34;address&#34;</span><span>:</span><span> </span><span>&#34;38 Miller Gulch, Priest River, Idaho 83821, United States&#34;</span><span>,</span>
<span>      </span><span>&#34;city&#34;</span><span>:</span><span> </span><span>&#34;Priest River&#34;</span><span>,</span>
<span>      </span><span>&#34;country&#34;</span><span>:</span><span> </span><span>&#34;United States&#34;</span><span>,</span>
<span>      </span><span>&#34;housenumber&#34;</span><span>:</span><span> </span><span>&#34;38&#34;</span><span>,</span>
<span>      </span><span>&#34;lat&#34;</span><span>:</span><span> </span><span>48.44575</span><span>,</span>
<span>      </span><span>&#34;lng&#34;</span><span>:</span><span> </span><span>-116.89724</span><span>,</span>
<span>      </span><span>&#34;ok&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>      </span><span>&#34;postal&#34;</span><span>:</span><span> </span><span>&#34;83821&#34;</span><span>,</span>
<span>      </span><span>&#34;quality&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>      </span><span>&#34;raw&#34;</span><span>:</span><span> </span><span>{</span>
<span>        </span><span>&#34;address&#34;</span><span>:</span><span> </span><span>&#34;38&#34;</span><span>,</span>
<span>        </span><span>&#34;center&#34;</span><span>:</span><span> </span><span>[</span>
<span>          </span><span>-116.89724</span><span>,</span>
<span>          </span><span>48.44575</span>
<span>        </span><span>],</span>
<span>        </span><span>&#34;context&#34;</span><span>:</span><span> </span><span>[</span>
<span>          </span><span>{</span>
<span>            </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;postcode.8128753314501880&#34;</span><span>,</span>
<span>            </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;83821&#34;</span>
<span>          </span><span>},</span>
<span>          </span><span>{</span>
<span>            </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;place.268052716&#34;</span><span>,</span>
<span>            </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzpEL29vN0E&#34;</span><span>,</span>
<span>            </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Priest River&#34;</span><span>,</span>
<span>            </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q1517705&#34;</span>
<span>          </span><span>},</span>
<span>          </span><span>{</span>
<span>            </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;district.1885932&#34;</span><span>,</span>
<span>            </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzpITWJz&#34;</span><span>,</span>
<span>            </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Bonner County&#34;</span><span>,</span>
<span>            </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q483932&#34;</span>
<span>          </span><span>},</span>
<span>          </span><span>{</span>
<span>            </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;region.58604&#34;</span><span>,</span>
<span>            </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzo1T3c&#34;</span><span>,</span>
<span>            </span><span>&#34;short_code&#34;</span><span>:</span><span> </span><span>&#34;US-ID&#34;</span><span>,</span>
<span>            </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Idaho&#34;</span><span>,</span>
<span>            </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q1221&#34;</span>
<span>          </span><span>},</span>
<span>          </span><span>{</span>
<span>            </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;country.8940&#34;</span><span>,</span>
<span>            </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzpJdXc&#34;</span><span>,</span>
<span>            </span><span>&#34;short_code&#34;</span><span>:</span><span> </span><span>&#34;us&#34;</span><span>,</span>
<span>            </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;United States&#34;</span><span>,</span>
<span>            </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q30&#34;</span>
<span>          </span><span>}</span>
<span>        </span><span>],</span>
<span>        </span><span>&#34;country&#34;</span><span>:</span><span> </span><span>&#34;United States&#34;</span><span>,</span>
<span>        </span><span>&#34;district&#34;</span><span>:</span><span> </span><span>&#34;Bonner County&#34;</span><span>,</span>
<span>        </span><span>&#34;geometry&#34;</span><span>:</span><span> </span><span>{</span>
<span>          </span><span>&#34;coordinates&#34;</span><span>:</span><span> </span><span>[</span>
<span>            </span><span>-116.89724</span><span>,</span>
<span>            </span><span>48.44575</span>
<span>          </span><span>],</span>
<span>          </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;Point&#34;</span>
<span>        </span><span>},</span>
<span>        </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;address.8128753314501880&#34;</span><span>,</span>
<span>        </span><span>&#34;place&#34;</span><span>:</span><span> </span><span>&#34;Priest River&#34;</span><span>,</span>
<span>        </span><span>&#34;place_name&#34;</span><span>:</span><span> </span><span>&#34;38 Miller Gulch, Priest River, Idaho 83821, United States&#34;</span><span>,</span>
<span>        </span><span>&#34;place_type&#34;</span><span>:</span><span> </span><span>[</span>
<span>          </span><span>&#34;address&#34;</span>
<span>        </span><span>],</span>
<span>        </span><span>&#34;postcode&#34;</span><span>:</span><span> </span><span>&#34;83821&#34;</span><span>,</span>
<span>        </span><span>&#34;properties&#34;</span><span>:</span><span> </span><span>{</span>
<span>          </span><span>&#34;accuracy&#34;</span><span>:</span><span> </span><span>&#34;point&#34;</span><span>,</span>
<span>          </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieGFkcjplYWRmMWVhNi03MDg3LTQzNjUtOWNkNi05NGFjMWNlZTA5NDg&#34;</span>
<span>        </span><span>},</span>
<span>        </span><span>&#34;region&#34;</span><span>:</span><span> </span><span>&#34;Idaho&#34;</span><span>,</span>
<span>        </span><span>&#34;relevance&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>        </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Miller Gulch&#34;</span><span>,</span>
<span>        </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;Feature&#34;</span>
<span>      </span><span>},</span>
<span>      </span><span>&#34;state&#34;</span><span>:</span><span> </span><span>&#34;Idaho&#34;</span><span>,</span>
<span>      </span><span>&#34;status&#34;</span><span>:</span><span> </span><span>&#34;OK&#34;</span>
<span>    </span><span>},</span>
<span>    </span><span>&#34;northeast&#34;</span><span>:</span><span> </span><span>[],</span>
<span>    </span><span>&#34;northwest&#34;</span><span>:</span><span> </span><span>[],</span>
<span>    </span><span>&#34;raw&#34;</span><span>:</span><span> </span><span>{</span>
<span>      </span><span>&#34;address&#34;</span><span>:</span><span> </span><span>&#34;38&#34;</span><span>,</span>
<span>      </span><span>&#34;center&#34;</span><span>:</span><span> </span><span>[</span>
<span>        </span><span>-116.89724</span><span>,</span>
<span>        </span><span>48.44575</span>
<span>      </span><span>],</span>
<span>      </span><span>&#34;context&#34;</span><span>:</span><span> </span><span>[</span>
<span>        </span><span>{</span>
<span>          </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;postcode.8128753314501880&#34;</span><span>,</span>
<span>          </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;83821&#34;</span>
<span>        </span><span>},</span>
<span>        </span><span>{</span>
<span>          </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;place.268052716&#34;</span><span>,</span>
<span>          </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzpEL29vN0E&#34;</span><span>,</span>
<span>          </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Priest River&#34;</span><span>,</span>
<span>          </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q1517705&#34;</span>
<span>        </span><span>},</span>
<span>        </span><span>{</span>
<span>          </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;district.1885932&#34;</span><span>,</span>
<span>          </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzpITWJz&#34;</span><span>,</span>
<span>          </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Bonner County&#34;</span><span>,</span>
<span>          </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q483932&#34;</span>
<span>        </span><span>},</span>
<span>        </span><span>{</span>
<span>          </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;region.58604&#34;</span><span>,</span>
<span>          </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzo1T3c&#34;</span><span>,</span>
<span>          </span><span>&#34;short_code&#34;</span><span>:</span><span> </span><span>&#34;US-ID&#34;</span><span>,</span>
<span>          </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Idaho&#34;</span><span>,</span>
<span>          </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q1221&#34;</span>
<span>        </span><span>},</span>
<span>        </span><span>{</span>
<span>          </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;country.8940&#34;</span><span>,</span>
<span>          </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieHBsYzpJdXc&#34;</span><span>,</span>
<span>          </span><span>&#34;short_code&#34;</span><span>:</span><span> </span><span>&#34;us&#34;</span><span>,</span>
<span>          </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;United States&#34;</span><span>,</span>
<span>          </span><span>&#34;wikidata&#34;</span><span>:</span><span> </span><span>&#34;Q30&#34;</span>
<span>        </span><span>}</span>
<span>      </span><span>],</span>
<span>      </span><span>&#34;country&#34;</span><span>:</span><span> </span><span>&#34;United States&#34;</span><span>,</span>
<span>      </span><span>&#34;district&#34;</span><span>:</span><span> </span><span>&#34;Bonner County&#34;</span><span>,</span>
<span>      </span><span>&#34;geometry&#34;</span><span>:</span><span> </span><span>{</span>
<span>        </span><span>&#34;coordinates&#34;</span><span>:</span><span> </span><span>[</span>
<span>          </span><span>-116.89724</span><span>,</span>
<span>          </span><span>48.44575</span>
<span>        </span><span>],</span>
<span>        </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;Point&#34;</span>
<span>      </span><span>},</span>
<span>      </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;address.8128753314501880&#34;</span><span>,</span>
<span>      </span><span>&#34;place&#34;</span><span>:</span><span> </span><span>&#34;Priest River&#34;</span><span>,</span>
<span>      </span><span>&#34;place_name&#34;</span><span>:</span><span> </span><span>&#34;38 Miller Gulch, Priest River, Idaho 83821, United States&#34;</span><span>,</span>
<span>      </span><span>&#34;place_type&#34;</span><span>:</span><span> </span><span>[</span>
<span>        </span><span>&#34;address&#34;</span>
<span>      </span><span>],</span>
<span>      </span><span>&#34;postcode&#34;</span><span>:</span><span> </span><span>&#34;83821&#34;</span><span>,</span>
<span>      </span><span>&#34;properties&#34;</span><span>:</span><span> </span><span>{</span>
<span>        </span><span>&#34;accuracy&#34;</span><span>:</span><span> </span><span>&#34;point&#34;</span><span>,</span>
<span>        </span><span>&#34;mapbox_id&#34;</span><span>:</span><span> </span><span>&#34;dXJuOm1ieGFkcjplYWRmMWVhNi03MDg3LTQzNjUtOWNkNi05NGFjMWNlZTA5NDg&#34;</span>
<span>      </span><span>},</span>
<span>      </span><span>&#34;region&#34;</span><span>:</span><span> </span><span>&#34;Idaho&#34;</span><span>,</span>
<span>      </span><span>&#34;relevance&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>      </span><span>&#34;text&#34;</span><span>:</span><span> </span><span>&#34;Miller Gulch&#34;</span><span>,</span>
<span>      </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;Feature&#34;</span>
<span>    </span><span>},</span>
<span>    </span><span>&#34;southeast&#34;</span><span>:</span><span> </span><span>[],</span>
<span>    </span><span>&#34;southwest&#34;</span><span>:</span><span> </span><span>[]</span>
<span>  </span><span>},</span>
<span>  </span><span>&#34;properties&#34;</span><span>:</span><span> </span><span>{</span>
<span>    </span><span>&#34;constellation&#34;</span><span>:</span><span> </span><span>&#34;Dragonette&#34;</span><span>,</span>
<span>    </span><span>&#34;created&#34;</span><span>:</span><span> </span><span>&#34;2024-11-01T23:03:41Z&#34;</span><span>,</span>
<span>    </span><span>&#34;datetime&#34;</span><span>:</span><span> </span><span>&#34;2024-07-03T17:18:40.010328Z&#34;</span><span>,</span>
<span>    </span><span>&#34;end_datetime&#34;</span><span>:</span><span> </span><span>&#34;2024-07-03T17:18:42.438451Z&#34;</span><span>,</span>
<span>    </span><span>&#34;eo:cloud_cover&#34;</span><span>:</span><span> </span><span>5.63</span><span>,</span>
<span>    </span><span>&#34;gsd&#34;</span><span>:</span><span> </span><span>5.26</span><span>,</span>
<span>    </span><span>&#34;instruments&#34;</span><span>:</span><span> </span><span>[</span>
<span>      </span><span>&#34;VNIR Hyperspectral Imaging Sensor&#34;</span>
<span>    </span><span>],</span>
<span>    </span><span>&#34;license&#34;</span><span>:</span><span> </span><span>&#34;other&#34;</span><span>,</span>
<span>    </span><span>&#34;platform&#34;</span><span>:</span><span> </span><span>&#34;Dragonette-001&#34;</span><span>,</span>
<span>    </span><span>&#34;processing:facility&#34;</span><span>:</span><span> </span><span>&#34;Wyvern&#34;</span><span>,</span>
<span>    </span><span>&#34;processing:level&#34;</span><span>:</span><span> </span><span>&#34;L1B&#34;</span><span>,</span>
<span>    </span><span>&#34;processing:version&#34;</span><span>:</span><span> </span><span>&#34;1.3&#34;</span><span>,</span>
<span>    </span><span>&#34;product_type&#34;</span><span>:</span><span> </span><span>&#34;hyperspectral&#34;</span><span>,</span>
<span>    </span><span>&#34;proj:code&#34;</span><span>:</span><span> </span><span>&#34;EPSG:4326&#34;</span><span>,</span>
<span>    </span><span>&#34;proj:shape&#34;</span><span>:</span><span> </span><span>[</span>
<span>      </span><span>7311</span><span>,</span>
<span>      </span><span>7852</span>
<span>    </span><span>],</span>
<span>    </span><span>&#34;providers&#34;</span><span>:</span><span> </span><span>[</span>
<span>      </span><span>{</span>
<span>        </span><span>&#34;name&#34;</span><span>:</span><span> </span><span>&#34;Wyvern Inc.&#34;</span><span>,</span>
<span>        </span><span>&#34;roles&#34;</span><span>:</span><span> </span><span>[</span>
<span>          </span><span>&#34;licensor&#34;</span><span>,</span>
<span>          </span><span>&#34;producer&#34;</span><span>,</span>
<span>          </span><span>&#34;processor&#34;</span>
<span>        </span><span>],</span>
<span>        </span><span>&#34;url&#34;</span><span>:</span><span> </span><span>&#34;https://www.wyvern.space/&#34;</span>
<span>      </span><span>}</span>
<span>    </span><span>],</span>
<span>    </span><span>&#34;sat:platform_international_designator&#34;</span><span>:</span><span> </span><span>&#34;2023-054AZ&#34;</span><span>,</span>
<span>    </span><span>&#34;sensor_mode&#34;</span><span>:</span><span> </span><span>&#34;strip&#34;</span><span>,</span>
<span>    </span><span>&#34;sensor_type&#34;</span><span>:</span><span> </span><span>&#34;optical&#34;</span><span>,</span>
<span>    </span><span>&#34;start_datetime&#34;</span><span>:</span><span> </span><span>&#34;2024-07-03T17:18:37.582204Z&#34;</span><span>,</span>
<span>    </span><span>&#34;updated&#34;</span><span>:</span><span> </span><span>&#34;2024-11-01T23:03:41Z&#34;</span><span>,</span>
<span>    </span><span>&#34;view:azimuth&#34;</span><span>:</span><span> </span><span>65.36472836367665</span><span>,</span>
<span>    </span><span>&#34;view:incidence_angle&#34;</span><span>:</span><span> </span><span>2.106011989129783</span><span>,</span>
<span>    </span><span>&#34;view:off_nadir&#34;</span><span>:</span><span> </span><span>2.6882806109241932</span><span>,</span>
<span>    </span><span>&#34;view:sun_azimuth&#34;</span><span>:</span><span> </span><span>116.34019361959561</span><span>,</span>
<span>    </span><span>&#34;view:sun_elevation&#34;</span><span>:</span><span> </span><span>50.52691114712514</span><span>,</span>
<span>    </span><span>&#34;wyvern:radiometric_resolution&#34;</span><span>:</span><span> </span><span>&#34;12&#34;</span>
<span>  </span><span>}</span>
<span>}</span>
</pre></div>
</div>
<div id="data-fluency">
<h2>Data Fluency</h2>
<p>I&#39;ll load their imagery metadata into DuckDB for analysis.</p>

<div><pre><span></span><span>CREATE</span><span> </span><span>OR</span><span> </span><span>REPLACE</span><span> </span><span>TABLE</span><span> </span><span>imagery</span><span> </span><span>AS</span>
<span>    </span><span>FROM</span><span> </span><span>READ_JSON</span><span>(</span><span>&#39;enriched.json&#39;</span><span>);</span>
</pre></div>
<p>Below are the image counts by country and city. Some areas are rural and Mapbox didn&#39;t attribute any city to the image footprint&#39;s location.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>COUNT</span><span>(</span><span>*</span><span>),</span>
<span>         </span><span>mapbox</span><span>.</span><span>json</span><span>.</span><span>country</span><span>,</span>
<span>         </span><span>mapbox</span><span>.</span><span>json</span><span>.</span><span>city</span>
<span>FROM</span><span>     </span><span>imagery</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span><span>;</span>
</pre></div>
<div><pre><span></span>┌──────────────┬──────────────────────┬──────────────────────┐
│ count_star() │       country        │         city         │
│    int64     │       varchar        │       varchar        │
├──────────────┼──────────────────────┼──────────────────────┤
│            1 │ Australia            │ Jervois              │
│            1 │ Australia            │ Norwin               │
│            1 │ Australia            │ Ord River            │
│            1 │ Australia            │ Skeleton Rock        │
│            1 │ Australia            │ Yellabinna           │
│            1 │ Bahrain              │                      │
│            1 │ Botswana             │                      │
│            1 │ Canada               │ Beaverdell           │
│            1 │ Canada               │ Jasper               │
│            1 │ Chile                │ Antofagasta          │
│            1 │ Chile                │ San Pedro de Atacama │
│            1 │ China                │                      │
│            1 │ Côte d&#39;Ivoire        │                      │
│            2 │ Egypt                │ Al Ganaeen           │
│            2 │ Egypt                │ Al Qantara East      │
│            1 │ India                │ Gurh                 │
│            1 │ Iran                 │                      │
│            1 │ Iraq                 │                      │
│            1 │ Italy                │                      │
│            1 │ Kazakhstan           │                      │
│            1 │ Mexico               │ Altamira             │
│            1 │ Oman                 │                      │
│            1 │ Saudi Arabia         │                      │
│            1 │ Spain                │ Barcelona            │
│            1 │ United Arab Emirates │                      │
│            1 │ United States        │ Eureka               │
│            2 │ United States        │ Los Angeles          │
│            1 │ United States        │ New York             │
│            1 │ United States        │ Pasadena             │
│            1 │ United States        │ Priest River         │
├──────────────┴──────────────────────┴──────────────────────┤
│ 30 rows                                          3 columns │
└────────────────────────────────────────────────────────────┘
</pre></div>
<p>Below are the locations of the images.</p>
<div><pre><span></span><span>COPY</span><span> </span><span>(</span>
<span>    </span><span>SELECT</span><span>   </span><span>ST_CENTROID</span><span>(</span><span>geom</span><span>::</span><span>GEOMETRY</span><span>)</span><span> </span><span>geom</span>
<span>    </span><span>FROM</span><span>     </span><span>imagery</span>
<span>)</span><span> </span><span>TO</span><span> </span><span>&#39;centroids.gpkg&#39;</span>
<span>    </span><span>WITH</span><span> </span><span>(</span><span>FORMAT</span><span> </span><span>GDAL</span><span>,</span>
<span>          </span><span>DRIVER</span><span> </span><span>&#39;GPKG&#39;</span><span>,</span>
<span>          </span><span>LAYER_CREATION_OPTIONS</span><span> </span><span>&#39;WRITE_BBOX=YES&#39;</span><span>);</span>
</pre></div>
<p><a href="https://antiantihuman.com/theme/images/wyvern/qgis-bin_v2cucUh6HR.png">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/qgis-bin_v2cucUh6HR.png"/>
</a></p><p>These are the months in which the imagery was captured.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>COUNT</span><span>(</span><span>*</span><span>),</span>
<span>         </span><span>STRFTIME</span><span>(</span><span>properties</span><span>.</span><span>created</span><span>,</span><span> </span><span>&#39;%Y-%m&#39;</span><span>)</span><span> </span><span>month_</span>
<span>FROM</span><span>     </span><span>imagery</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>2</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span>;</span>
</pre></div>
<div><pre><span></span>┌──────────────┬─────────┐
│ count_star() │ month_  │
│    int64     │ varchar │
├──────────────┼─────────┤
│            1 │ 2024-10 │
│           11 │ 2024-11 │
│            2 │ 2024-12 │
│           14 │ 2025-01 │
│            5 │ 2025-02 │
└──────────────┴─────────┘
</pre></div>
<p>The majority of imagery is from their first satellite but there are four images from their third. Their second and third satellites can collect a wider spectral range, with more spectral bands at a greater spectral resolution.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>COUNT</span><span>(</span><span>*</span><span>),</span>
<span>         </span><span>properties</span><span>.</span><span>platform</span><span>,</span>
<span>         </span><span>properties</span><span>.</span><span>gsd</span>
<span>FROM</span><span>     </span><span>imagery</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>1</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌──────────────┬────────────────┬────────┐
│ count_star() │    platform    │  gsd   │
│    int64     │    varchar     │ double │
├──────────────┼────────────────┼────────┤
│           29 │ Dragonette-001 │   5.26 │
│            4 │ Dragonette-003 │   5.22 │
└──────────────┴────────────────┴────────┘
</pre></div>
<p>All of the imagery has been processed to level L1B and, with the exception of one image, to version 1.3.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>COUNT</span><span>(</span><span>*</span><span>),</span>
<span>         </span><span>properties</span><span>.</span><span>&#34;processing:level&#34;</span><span>,</span>
<span>         </span><span>properties</span><span>.</span><span>&#34;processing:version&#34;</span>
<span>FROM</span><span>     </span><span>imagery</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>1</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌──────────────┬──────────────────┬────────────────────┐
│ count_star() │ processing:level │ processing:version │
│    int64     │     varchar      │      varchar       │
├──────────────┼──────────────────┼────────────────────┤
│           32 │ L1B              │ 1.3                │
│            1 │ L1B              │ 1.2                │
└──────────────┴──────────────────┴────────────────────┘
</pre></div>
<p>Below I&#39;ll bucket the amount of cloud cover in their imagery to the nearest 10%.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>COUNT</span><span>(</span><span>*</span><span>),</span>
<span>         </span><span>ROUND</span><span>(</span><span>properties</span><span>.</span><span>&#34;eo:cloud_cover&#34;</span><span> </span><span>/</span><span> </span><span>10</span><span>)</span><span> </span><span>*</span><span> </span><span>10</span><span> </span><span>AS</span><span> </span><span>cloud_cover</span>
<span>FROM</span><span>     </span><span>imagery</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>2</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span>;</span>
</pre></div>
<div><pre><span></span>┌──────────────┬─────────────┐
│ count_star() │ cloud_cover │
│    int64     │   double    │
├──────────────┼─────────────┤
│           17 │         0.0 │
│            7 │        10.0 │
│            6 │        20.0 │
│            1 │        30.0 │
│            1 │        40.0 │
│            1 │        50.0 │
└──────────────┴─────────────┘
</pre></div>
</div>
<div id="stacked-geotiffs">
<h2>Stacked GeoTIFFs</h2>
<p>The imagery Wyvern delivers are <a href="https://blog.maxar.com/earth-intelligence/2018/cloud-optimized-geotiffs-and-the-path-to-accessible-satellite-imagery-analytics">Cloud-Optimised GeoTIFF</a> containers. These files contain <a href="https://iipimage.sourceforge.io/documentation/images">Tiled Multi-Resolution TIFFs</a>  / Tiled Pyramid TIFFs. This means there are several versions of the same image at different resolutions within the GeoTIFF file.</p>
<p>These files are structured so it&#39;s easy to only read a portion of a file for any one resolution you&#39;re interested in. A file might be 100 MB but a JavaScript-based Web Application might only need to download 2 MB of data from that file in order to render its lowest resolution.</p>
<p>The following downloaded 130 GB of GeoTIFFs from their feed.</p>
<div><pre><span></span>$<span> </span>jq<span> </span>.assets.cloud_optimized_geotiff<span> </span>enriched.json<span> </span><span>\</span>
<span>    </span><span>|</span><span> </span>xargs<span> </span>-P4<span> </span><span>\</span>
<span>            </span>-I%<span> </span><span>\</span>
<span>            </span>wget<span> </span>-c<span> </span>%
</pre></div>
<p>Below you can see the five resolutions of imagery with the following GeoTIFF. These range from 6161-pixels wide down to 385-pixels wide.</p>
<div><pre><span></span>$<span> </span>python3<span> </span>~/geotiffs/main.py<span> </span><span>\</span>
<span>    </span>stack<span> </span><span>\</span>
<span>    </span>wyvern_dragonette-001_20250124T171659_0bb0a026.tiff
</pre></div>
<div><pre><span></span><span>[</span>
<span>    </span><span>{</span>
<span>        </span><span>&#34;Bits/Sample&#34;</span><span>:</span><span> </span><span>&#34;32&#34;</span><span>,</span>
<span>        </span><span>&#34;Compression Scheme&#34;</span><span>:</span><span> </span><span>&#34;LZW&#34;</span><span>,</span>
<span>        </span><span>&#34;Extra Samples&#34;</span><span>:</span><span> </span><span>&#34;22&lt;unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified&gt;&#34;</span><span>,</span>
<span>        </span><span>&#34;GDAL Metadata&#34;</span><span>:</span><span> </span><span>&#34;&lt;GDALMetadata&gt;&#34;</span><span>,</span>
<span>        </span><span>&#34;GDAL NoDataValue&#34;</span><span>:</span><span> </span><span>&#34;-9999&#34;</span><span>,</span>
<span>        </span><span>&#34;Photometric Interpretation&#34;</span><span>:</span><span> </span><span>&#34;min-is-black&#34;</span><span>,</span>
<span>        </span><span>&#34;Planar Configuration&#34;</span><span>:</span><span> </span><span>&#34;single image plane&#34;</span><span>,</span>
<span>        </span><span>&#34;Predictor&#34;</span><span>:</span><span> </span><span>&#34;none 1 (0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;Sample Format&#34;</span><span>:</span><span> </span><span>&#34;IEEE floating point&#34;</span><span>,</span>
<span>        </span><span>&#34;Samples/Pixel&#34;</span><span>:</span><span> </span><span>&#34;17&#34;</span><span>,</span>
<span>        </span><span>&#34;stack_num&#34;</span><span>:</span><span> </span><span>2</span><span>,</span>
<span>        </span><span>&#34;width&#34;</span><span>:</span><span> </span><span>6161</span>
<span>    </span><span>},</span>
<span>    </span><span>{</span>
<span>        </span><span>&#34;Bits/Sample&#34;</span><span>:</span><span> </span><span>&#34;32&#34;</span><span>,</span>
<span>        </span><span>&#34;Compression Scheme&#34;</span><span>:</span><span> </span><span>&#34;LZW&#34;</span><span>,</span>
<span>        </span><span>&#34;Extra Samples&#34;</span><span>:</span><span> </span><span>&#34;22&lt;unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified&gt;&#34;</span><span>,</span>
<span>        </span><span>&#34;GDAL NoDataValue&#34;</span><span>:</span><span> </span><span>&#34;-9999&#34;</span><span>,</span>
<span>        </span><span>&#34;Photometric Interpretation&#34;</span><span>:</span><span> </span><span>&#34;min-is-black&#34;</span><span>,</span>
<span>        </span><span>&#34;Planar Configuration&#34;</span><span>:</span><span> </span><span>&#34;single image plane&#34;</span><span>,</span>
<span>        </span><span>&#34;Predictor&#34;</span><span>:</span><span> </span><span>&#34;none 1 (0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;Sample Format&#34;</span><span>:</span><span> </span><span>&#34;IEEE floating point&#34;</span><span>,</span>
<span>        </span><span>&#34;Samples/Pixel&#34;</span><span>:</span><span> </span><span>&#34;17&#34;</span><span>,</span>
<span>        </span><span>&#34;Subfile Type&#34;</span><span>:</span><span> </span><span>&#34;reduced-resolution image (1 = 0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;stack_num&#34;</span><span>:</span><span> </span><span>3</span><span>,</span>
<span>        </span><span>&#34;width&#34;</span><span>:</span><span> </span><span>3080</span>
<span>    </span><span>},</span>
<span>    </span><span>{</span>
<span>        </span><span>&#34;Bits/Sample&#34;</span><span>:</span><span> </span><span>&#34;32&#34;</span><span>,</span>
<span>        </span><span>&#34;Compression Scheme&#34;</span><span>:</span><span> </span><span>&#34;LZW&#34;</span><span>,</span>
<span>        </span><span>&#34;Extra Samples&#34;</span><span>:</span><span> </span><span>&#34;22&lt;unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified&gt;&#34;</span><span>,</span>
<span>        </span><span>&#34;GDAL NoDataValue&#34;</span><span>:</span><span> </span><span>&#34;-9999&#34;</span><span>,</span>
<span>        </span><span>&#34;Photometric Interpretation&#34;</span><span>:</span><span> </span><span>&#34;min-is-black&#34;</span><span>,</span>
<span>        </span><span>&#34;Planar Configuration&#34;</span><span>:</span><span> </span><span>&#34;single image plane&#34;</span><span>,</span>
<span>        </span><span>&#34;Predictor&#34;</span><span>:</span><span> </span><span>&#34;none 1 (0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;Sample Format&#34;</span><span>:</span><span> </span><span>&#34;IEEE floating point&#34;</span><span>,</span>
<span>        </span><span>&#34;Samples/Pixel&#34;</span><span>:</span><span> </span><span>&#34;17&#34;</span><span>,</span>
<span>        </span><span>&#34;Subfile Type&#34;</span><span>:</span><span> </span><span>&#34;reduced-resolution image (1 = 0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;stack_num&#34;</span><span>:</span><span> </span><span>4</span><span>,</span>
<span>        </span><span>&#34;width&#34;</span><span>:</span><span> </span><span>1540</span>
<span>    </span><span>},</span>
<span>    </span><span>{</span>
<span>        </span><span>&#34;Bits/Sample&#34;</span><span>:</span><span> </span><span>&#34;32&#34;</span><span>,</span>
<span>        </span><span>&#34;Compression Scheme&#34;</span><span>:</span><span> </span><span>&#34;LZW&#34;</span><span>,</span>
<span>        </span><span>&#34;Extra Samples&#34;</span><span>:</span><span> </span><span>&#34;22&lt;unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified&gt;&#34;</span><span>,</span>
<span>        </span><span>&#34;GDAL NoDataValue&#34;</span><span>:</span><span> </span><span>&#34;-9999&#34;</span><span>,</span>
<span>        </span><span>&#34;Photometric Interpretation&#34;</span><span>:</span><span> </span><span>&#34;min-is-black&#34;</span><span>,</span>
<span>        </span><span>&#34;Planar Configuration&#34;</span><span>:</span><span> </span><span>&#34;single image plane&#34;</span><span>,</span>
<span>        </span><span>&#34;Predictor&#34;</span><span>:</span><span> </span><span>&#34;none 1 (0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;Sample Format&#34;</span><span>:</span><span> </span><span>&#34;IEEE floating point&#34;</span><span>,</span>
<span>        </span><span>&#34;Samples/Pixel&#34;</span><span>:</span><span> </span><span>&#34;17&#34;</span><span>,</span>
<span>        </span><span>&#34;Subfile Type&#34;</span><span>:</span><span> </span><span>&#34;reduced-resolution image (1 = 0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;stack_num&#34;</span><span>:</span><span> </span><span>5</span><span>,</span>
<span>        </span><span>&#34;width&#34;</span><span>:</span><span> </span><span>769</span>
<span>    </span><span>},</span>
<span>    </span><span>{</span>
<span>        </span><span>&#34;Bits/Sample&#34;</span><span>:</span><span> </span><span>&#34;32&#34;</span><span>,</span>
<span>        </span><span>&#34;Compression Scheme&#34;</span><span>:</span><span> </span><span>&#34;LZW&#34;</span><span>,</span>
<span>        </span><span>&#34;Extra Samples&#34;</span><span>:</span><span> </span><span>&#34;22&lt;unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified, unspecified&gt;&#34;</span><span>,</span>
<span>        </span><span>&#34;GDAL NoDataValue&#34;</span><span>:</span><span> </span><span>&#34;-9999&#34;</span><span>,</span>
<span>        </span><span>&#34;Photometric Interpretation&#34;</span><span>:</span><span> </span><span>&#34;min-is-black&#34;</span><span>,</span>
<span>        </span><span>&#34;Planar Configuration&#34;</span><span>:</span><span> </span><span>&#34;single image plane&#34;</span><span>,</span>
<span>        </span><span>&#34;Predictor&#34;</span><span>:</span><span> </span><span>&#34;none 1 (0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;Sample Format&#34;</span><span>:</span><span> </span><span>&#34;IEEE floating point&#34;</span><span>,</span>
<span>        </span><span>&#34;Samples/Pixel&#34;</span><span>:</span><span> </span><span>&#34;17&#34;</span><span>,</span>
<span>        </span><span>&#34;Subfile Type&#34;</span><span>:</span><span> </span><span>&#34;reduced-resolution image (1 = 0x1)&#34;</span><span>,</span>
<span>        </span><span>&#34;stack_num&#34;</span><span>:</span><span> </span><span>6</span><span>,</span>
<span>        </span><span>&#34;width&#34;</span><span>:</span><span> </span><span>385</span>
<span>    </span><span>}</span>
<span>]</span>
</pre></div>
</div>
<div id="spectral-bands">
<h2>Spectral Bands</h2>
<p>Below is a 23 x 30 KM image of Los Angeles.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/qgis-bin_pbqARpUBYs.jpg">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/qgis-bin_pbqARpUBYs.jpg"/>
</a></p><p>This is its metadata for reference.</p>
<div><pre><span></span>$<span> </span><span>echo</span><span> </span><span>&#34;SELECT id,</span>
<span>               mapbox.json.address AS mapbox,</span>
<span>               properties::JSON AS properties</span>
<span>        FROM   imagery</span>
<span>        WHERE  assets::JSON LIKE &#39;%001_20250124T171659_0bb0a026%&#39;&#34;</span><span> </span><span>\</span>
<span>    </span><span>|</span><span> </span>~/duckdb<span> </span>-json<span> </span>wyvern.duckdb<span> </span><span>\</span>
<span>    </span><span>|</span><span> </span>jq<span> </span>-S<span> </span>.
</pre></div>
<div><pre><span></span><span>[</span>
<span>  </span><span>{</span>
<span>    </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;wyvern_dragonette-001_20250124T171659_0bb0a026&#34;</span><span>,</span>
<span>    </span><span>&#34;mapbox&#34;</span><span>:</span><span> </span><span>&#34;1330 Riviera Drive, Pasadena, California 91107, United States&#34;</span><span>,</span>
<span>    </span><span>&#34;properties&#34;</span><span>:</span><span> </span><span>{</span>
<span>      </span><span>&#34;constellation&#34;</span><span>:</span><span> </span><span>&#34;Dragonette&#34;</span><span>,</span>
<span>      </span><span>&#34;created&#34;</span><span>:</span><span> </span><span>&#34;2025-01-26 03:03:59&#34;</span><span>,</span>
<span>      </span><span>&#34;datetime&#34;</span><span>:</span><span> </span><span>&#34;2025-01-24T17:17:01.576537Z&#34;</span><span>,</span>
<span>      </span><span>&#34;end_datetime&#34;</span><span>:</span><span> </span><span>&#34;2025-01-24T17:17:03.752084Z&#34;</span><span>,</span>
<span>      </span><span>&#34;eo:cloud_cover&#34;</span><span>:</span><span> </span><span>45.79</span><span>,</span>
<span>      </span><span>&#34;gsd&#34;</span><span>:</span><span> </span><span>5.26</span><span>,</span>
<span>      </span><span>&#34;instruments&#34;</span><span>:</span><span> </span><span>[</span>
<span>        </span><span>&#34;VNIR Hyperspectral Imaging Sensor&#34;</span>
<span>      </span><span>],</span>
<span>      </span><span>&#34;license&#34;</span><span>:</span><span> </span><span>&#34;other&#34;</span><span>,</span>
<span>      </span><span>&#34;platform&#34;</span><span>:</span><span> </span><span>&#34;Dragonette-001&#34;</span><span>,</span>
<span>      </span><span>&#34;processing:facility&#34;</span><span>:</span><span> </span><span>&#34;Wyvern&#34;</span><span>,</span>
<span>      </span><span>&#34;processing:level&#34;</span><span>:</span><span> </span><span>&#34;L1B&#34;</span><span>,</span>
<span>      </span><span>&#34;processing:version&#34;</span><span>:</span><span> </span><span>&#34;1.3&#34;</span><span>,</span>
<span>      </span><span>&#34;product_type&#34;</span><span>:</span><span> </span><span>&#34;hyperspectral&#34;</span><span>,</span>
<span>      </span><span>&#34;proj:code&#34;</span><span>:</span><span> </span><span>&#34;EPSG:4326&#34;</span><span>,</span>
<span>      </span><span>&#34;proj:shape&#34;</span><span>:</span><span> </span><span>[</span>
<span>        </span><span>6161</span><span>,</span>
<span>        </span><span>7459</span>
<span>      </span><span>],</span>
<span>      </span><span>&#34;providers&#34;</span><span>:</span><span> </span><span>[</span>
<span>        </span><span>{</span>
<span>          </span><span>&#34;name&#34;</span><span>:</span><span> </span><span>&#34;Wyvern Inc.&#34;</span><span>,</span>
<span>          </span><span>&#34;roles&#34;</span><span>:</span><span> </span><span>[</span>
<span>            </span><span>&#34;licensor&#34;</span><span>,</span>
<span>            </span><span>&#34;producer&#34;</span><span>,</span>
<span>            </span><span>&#34;processor&#34;</span>
<span>          </span><span>],</span>
<span>          </span><span>&#34;url&#34;</span><span>:</span><span> </span><span>&#34;https://www.wyvern.space/&#34;</span>
<span>        </span><span>}</span>
<span>      </span><span>],</span>
<span>      </span><span>&#34;sat:platform_international_designator&#34;</span><span>:</span><span> </span><span>&#34;2023-054AZ&#34;</span><span>,</span>
<span>      </span><span>&#34;sensor_mode&#34;</span><span>:</span><span> </span><span>&#34;strip&#34;</span><span>,</span>
<span>      </span><span>&#34;sensor_type&#34;</span><span>:</span><span> </span><span>&#34;optical&#34;</span><span>,</span>
<span>      </span><span>&#34;start_datetime&#34;</span><span>:</span><span> </span><span>&#34;2025-01-24T17:16:59.400989Z&#34;</span><span>,</span>
<span>      </span><span>&#34;updated&#34;</span><span>:</span><span> </span><span>&#34;2025-01-26 03:03:59&#34;</span><span>,</span>
<span>      </span><span>&#34;view:azimuth&#34;</span><span>:</span><span> </span><span>71.35445795857429</span><span>,</span>
<span>      </span><span>&#34;view:incidence_angle&#34;</span><span>:</span><span> </span><span>16.779941471046186</span><span>,</span>
<span>      </span><span>&#34;view:off_nadir&#34;</span><span>:</span><span> </span><span>18.07630168998292</span><span>,</span>
<span>      </span><span>&#34;view:sun_azimuth&#34;</span><span>:</span><span> </span><span>136.73398188349992</span><span>,</span>
<span>      </span><span>&#34;view:sun_elevation&#34;</span><span>:</span><span> </span><span>23.83740809718757</span><span>,</span>
<span>      </span><span>&#34;wyvern:radiometric_resolution&#34;</span><span>:</span><span> </span><span>&#34;12&#34;</span>
<span>    </span><span>}</span>
<span>  </span><span>}</span>
<span>]</span>
</pre></div>
<p>The following bands are present in the above image.</p>
<div><pre><span></span>Band_503nm  green   float32 0,0201 μm
Band_510nm  green   float32 0,0204 μm
Band_519nm  green   float32 0,0208 μm
Band_535nm  green   float32 0,0214 μm
Band_549nm  green   float32 0,022 μm
Band_570nm  green   float32 0,0228 μm
Band_584nm  yellow  float32 0,0234 μm
Band_600nm  yellow  float32 0,024 μm
Band_614nm  yellow  float32 0,0246 μm
Band_635nm  red     float32 0,0254 μm
Band_649nm  red     float32 0,026 μm
Band_660nm  red     float32 0,0264 μm
Band_669nm  red     float32 0,0268 μm
Band_679nm  red     float32 0,0272 μm
Band_690nm  red     float32 0,0276 μm
Band_699nm  red     float32 0,028 μm
Band_711nm  rededge float32 0,0284 μm
Band_722nm  rededge float32 0,0289 μm
Band_734nm  rededge float32 0,0294 μm
Band_750nm  rededge float32 0,03 μm
Band_764nm  rededge float32 0,0306 μm
Band_782nm  rededge float32 0,0313 μm
Band_799nm  nir     float32 0,032 μm
</pre></div>
<p>Most images contain 23 bands of data though there are four images in this feed that contain 31 bands.</p>
<div><pre><span></span>$<span> </span><span>for</span><span> </span>FILENAME<span> </span><span>in</span><span> </span>*.tiff<span>;</span><span> </span><span>do</span>
<span>      </span><span>echo</span><span> </span><span>`</span>gdalinfo<span> </span>-json<span> </span><span>$FILENAME</span><span> </span><span>|</span><span> </span>jq<span> </span>-S<span> </span><span>&#39;.stac.&#34;eo:bands&#34;|length&#39;</span><span>`</span>,<span> </span><span>$FILENAME</span>
<span>  </span><span>done</span>
</pre></div>
<div><pre><span></span>23, wyvern_dragonette-001_20240608T144036_fa4c4f71.tiff
23, wyvern_dragonette-001_20240614T043114_805f0bb7.tiff
23, wyvern_dragonette-001_20240620T145630_2d5d0eef.tiff
23, wyvern_dragonette-001_20240628T062939_5fce57a3.tiff
23, wyvern_dragonette-001_20240703T171837_4c406dd3.tiff
23, wyvern_dragonette-001_20240709T145146_1e79473a.tiff
23, wyvern_dragonette-001_20240728T084002_5e95f389.tiff
23, wyvern_dragonette-001_20240802T063254_fe587307.tiff
23, wyvern_dragonette-001_20240806T172508_6b59089b.tiff
23, wyvern_dragonette-001_20240808T073501_51b92993.tiff
23, wyvern_dragonette-001_20240808T171453_20e65134.tiff
23, wyvern_dragonette-001_20240811T083914_08c61457.tiff
23, wyvern_dragonette-001_20240816T065054_0e692903.tiff
23, wyvern_dragonette-001_20240823T172127_4ef5c7ec.tiff
23, wyvern_dragonette-001_20240902T015820_c8ba843e.tiff
23, wyvern_dragonette-001_20240924T043743_be250f77.tiff
23, wyvern_dragonette-001_20240924T060726_6131fb18.tiff
23, wyvern_dragonette-001_20240930T070744_08fd7f5a.tiff
23, wyvern_dragonette-001_20241003T001114_b9b1a0b8.tiff
23, wyvern_dragonette-001_20241024T092200_c874e0e3.tiff
23, wyvern_dragonette-001_20241026T073007_1f933ec9.tiff
23, wyvern_dragonette-001_20241104T173856_870d7461.tiff
23, wyvern_dragonette-001_20241107T060700_4e89ebe5.tiff
23, wyvern_dragonette-001_20241219T073000_833394ce.tiff
23, wyvern_dragonette-001_20250101T072826_f3aa9cc0.tiff
23, wyvern_dragonette-001_20250123T172439_ec97451b.tiff
23, wyvern_dragonette-001_20250124T171659_0bb0a026.tiff
23, wyvern_dragonette-001_20250127T021633_c94c1fd6.tiff
23, wyvern_dragonette-001_20250202T013329_a6b233a1.tiff
31, wyvern_dragonette-003_20241224T002812_069c301b.tiff
31, wyvern_dragonette-003_20241229T103412_4fb7ca06.tiff
31, wyvern_dragonette-003_20241229T165203_12324bcb.tiff
31, wyvern_dragonette-003_20250128T005455_e8a5c3ba.tiff
</pre></div>
</div>
<div id="remapping-bands">
<h2>Remapping Bands</h2>
<p>If you open the properties for the above image&#39;s layer in QGIS and select the &#34;Symbology&#34; tab, you can re-map the bands being used for the red, green and blue channels being rendered. Try the following:</p>
<ul>
<li>Red band: &#34;Band 15: Band_690&#34;</li>
<li>Green band: &#34;Band 08: Band_600&#34;</li>
<li>Blue band: &#34;Band 03: Band_519&#34;</li>
</ul>
<p>Under the &#34;Min / Max Value Settings&#34; section, check the radio button next to &#34;Min / max&#34;.</p>
<p>Below is what the settings should look like:</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/qgis-bin_nNSNCNuaZl.png">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/qgis-bin_nNSNCNuaZl.png"/>
</a></p><p>Hit &#34;Apply&#34; and the image should look more natural.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/qgis-bin_wdup7xFYy8.jpg">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/qgis-bin_wdup7xFYy8.jpg"/>
</a></p><p>Below is a comparison to Bing&#39;s imagery for this area.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/bing.jpg">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/bing.jpg"/>
</a></p><p>Below is a comparison to Esri&#39;s imagery for this area.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/esri.jpg">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/esri.jpg"/>
</a></p><p>Below is a comparison to Google&#39;s imagery for this area.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/google.jpg">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/google.jpg"/>
</a></p><p>Below is a comparison to Yandex&#39;s imagery for this area.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/yandex.jpg">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/yandex.jpg"/>
</a>
</p></div>
<div id="stac-support-in-qgis">
<h2>STAC Support in QGIS</h2>
<p>QGIS 3.42 was released a few weeks ago and now has STAC catalog integration.</p>
<p>From the Layer Menu, click Add Layer -&gt; Add Layer from STAC Catalog.</p>
<p>Give the layer the name &#34;wyvern&#34; and paste in the following URL:</p>
<div><pre><span></span>https://wyvern-prod-public-open-data-program.s3.ca-central-1.amazonaws.com/catalog.json
</pre></div>
<p>Below is what the fields should look like.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/qgis-bin_RhyN7xgOik.png">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/qgis-bin_RhyN7xgOik.png"/>
</a></p><p>Click OK, then Close on the next dialog and return to the main UI. Don&#39;t click the connect button as you&#39;ll receive an error message and it isn&#39;t needed for this feed.</p>
<p>Click the View Menu -&gt; Panels -&gt; Browser Panel. You should see a STAC item appear in that panel and underneath you should be able to browse the various collections Wyvern offer.</p>
<p><a href="https://antiantihuman.com/theme/images/wyvern/qgis-bin_Alvxkn7NkY.png">
<img alt="Wyvern" src="https://antiantihuman.com/theme/images/wyvern/qgis-bin_Alvxkn7NkY.png"/>
</a></p><p>Right clicking any asset lets you both see a preview and details on the imagery. You can also download the imagery to your machine and into your QGIS project.</p>
</div>

        </div><p>
            Thank you for taking the time to read this post. I offer both consulting and hands-on development services to clients in North America and Europe. If you&#39;d like to discuss how my offerings can help your business please contact me via <a href="https://uk.linkedin.com/in/marklitwintschik/">LinkedIn</a>.
        </p></div>
  </body>
</html>
