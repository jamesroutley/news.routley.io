<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.pagetable.com/?p=1673">Original</a>
    <h1>PostScript Cartridge Plus for HP LaserJet III</h1>
    
    <div id="readability-page-1" class="page"><div id="page">
		<div id="content">
			
	<div id="primary">
		<main id="main">
			
<article id="post-1673" itemtype="https://schema.org/CreativeWork" itemscope="">
	<div>
		
		<!-- .entry-header -->

		
		<div itemprop="text">
			<p>The HP LaserJet III laser printer from 1990 used the “Printer Command Language” PCL 5 by default, but could be upgraded with the “HP PostScript Cartridge Plus” cartridge, which contained 2 MB of ROM with Adobe’s PostScript Level 2 rasterizer. Let’s look at the ROM contents and some of its hidden gems.</p>
<p><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case.jpg"><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case.jpg" height="303" width="403" alt=""/></a></p>
<h2 id="cartridge">Cartridge</h2>
<p>The cartridge is about 9×14 cm in size.</p>
<p><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case_front.jpg"><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case_front.jpg" height="380" width="269" alt=""/></a><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case_back.jpg"><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case_back.jpg" height="391" width="270" alt=""/></a></p>
<p><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case_side.jpg"><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_case_side.jpg" height="52" width="270" alt=""/></a></p>
<p>The front says</p>
<blockquote>
<p>HEWLETT PACKARD</p>
<p>PostScript Cartridge Plus</p>
<p>ITC Avant Garde Gothic®</p>
<p>HP</p>
</blockquote>
<p>The back says</p>
<blockquote>
<p>Adobe and PostScript are registered trademark of Adobe Systems</p>
</blockquote>
<h2 id="board">Board</h2>
<p><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_board_front.jpg"><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/postscript_cartridge_plus_board_front.jpg" height="247" width="377" alt=""/></a></p>
<p>The board contains 6 74-series logic chips:</p>
<ul>
<li>1x SN74ALS139N: Dual 2-to-4 Decoder/Demultiplexer</li>
<li>4x SN74ALS244BN: Octal Buffer and Line Driver with 3-State Output</li>
<li>1x SN74LS32N: Quadruple 2-Input Positive-Or Gates [marked as HP part number 1820-1208]</li>
</ul>
<p>and four 512 KB mask ROM chips of the type Fujitsu MB834200B-15 (27C400 pinout). They are all marked with</p>
<blockquote>
<p>© 1991 HP-BOISE</p>
</blockquote>
<h2 id="rom">ROM</h2>
<p>These are the verbatim dumps (adjacent bytes are swapped):</p>
<ul>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/1818-5336_16a.bin">1818-5336 / 16A AA</a>, MD5 258464faa19a1ff78bbb57270eec8835</li>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/1818-5318_03a.bin">1818-5318 / 03A AA</a>, MD5 da113b6c6c53e21858b30a71c7be017c</li>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/1818-5319_04a.bin">1818-5319 / 04A AA</a>, MD5 f6e368806aa8caf22b4c28d235a2df1d</li>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/1818-5320_05a.bin">1818-5320 / 05A AA</a>, MD5 ed1700895daeac733f80ce20278c4a64</li>
</ul>
<p>This is the combined (<a href="https://www.pagetable.com/docs/postscript_cartridge_plus/byteswap.py">byte-swapped</a>) 2 MB ROM image:</p>
<p><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/c2089a.bin">HP PostScript Cartridge Plus C2089A ROM</a>, MD5 8a5d1f66ab1624e7188fc07154f4224d</p>
<p>The ROM image starts with a signature of “SYST” and the following messages at 0x30:</p>
<blockquote>
<p>V9H-18f PSCRIPT</p>
</blockquote>
<p>The ROM contains Adobe’s PostScript Level 2 rasterizer compiled for the 68000 CPU, the PostScript base fonts as well as some LaserJet-specific software (messages, errors and settings texts for the 15 char display in several languages).</p>
<h2 id="postscript-files">PostScript Files</h2>
<p>There is also some PostScript source code in the ROMs!</p>
<ul>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/fontpage.ps">fontpage.ps</a></li>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/test_page.ps">test_page.ps</a></li>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/startup_page.ps">startup_page.ps</a></li>
</ul>
<p>(The missing <code>%!</code> file header has been added to the downloads.)</p>
<p>Since this is printer-specific PostScript code, it may not work with computer-based rasterizers, so let’s go over them one by one.</p>
<h3 id="fontpage">FONTPAGE</h3>
<p>This is “FONTPAGE” converted to PDF using GPL GhostScript:</p>
<p><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/fontpage.pdf">fontpage.pdf</a></p>
<p><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/fontpage.png" width="319" height="413"/></p>
<p>The PostScript code contains the <code>product</code> operator, which returns the name of the printer, so the second line – “GPL Ghostscript printer” – would read “HP LaserJet III printer” on an actual LaserJet.</p>
<h3 id="test-page">TEST PAGE</h3>
<p>“TEST PAGE” prints various internal printer settings which are unsupported by computer-based PostScript rasterizers, so some lines had to be removed for the file to work. These are the files hacked for different rasterizers:</p>

<p>(The almost identical contents of Acrobat Distiller 5.0 and Apple’s PS to PDF converter built into macOS (down to the internal version number!) is no coincidence: Apple’s converter is in fact a licensed “Adobe Normalizer 5.0”<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>, the same engine powering Distiller 5.0.)</p>
<p>There is a second page which only prints if the <code>product</code> is “HP LaserJet IIP” or “HP LaserJet IIIP”:</p>
<ul>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/test_cleaning.ps">test_cleaning.ps</a></li>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/test_cleaning.pdf">test_cleaning.pdf</a></li>
</ul>
<p><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/test_cleaning.png" width="319" height="413"/></p>
<h3 id="startup-page">STARTUP PAGE</h3>
<ul>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/startup_page.ps">startup_page.ps</a></li>
<li><a href="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/startup_page.pdf">startup_page.pdf</a></li>
</ul>
<p><img src="https://www.pagetable.com/docs/postscript_cartridge_plus/ps/startup_page.png" width="319" height="413"/></p>
<p>There is no such device as a “LaserJet IIx” – this is what the PostScript code falls back to if the <code>product</code> is none of these:</p>
<ul>
<li>“HP LaserJet IID”</li>
<li>“HP LaserJet IIP”</li>
<li>“HP LaserJet III”</li>
<li>“HP LaserJet IIID”</li>
<li>“HP LaserJet IIIP”</li>
</ul>
<p>Tests for these can be found across all PostScript code in the ROM. The IIID (“duplex”) and IIIP (“personal”) and variants of the LaserJet III. HP never offered PostScript for the LaserJet II series, so it is unknown why these product names show up in the ROM.</p>
<h2 id="future-work">Future Work</h2>
<p>There are several open questions that might be interesting:</p>
<ul>
<li>What’s up with PostScript for the LaserJet II?</li>
<li>Did the cartridge extend the printer’s internal ROM or replace it?</li>
<li>What other PostScript features are supported that are not official API?</li>
<li>What is the computer inside the LaserJet III like? Can we emulate it and run this rasterizer on a computer?</li>
<li>What is the pinout of the cartridge connector?</li>
</ul>

		</div><!-- .entry-content -->

					<!-- .entry-meta -->
			</div><!-- .inside-article -->
</article><!-- #post-## -->

					

							</main><!-- #main -->
	</div><!-- #primary -->

	<!-- #secondary -->

	</div><!-- #content -->
</div></div>
  </body>
</html>
