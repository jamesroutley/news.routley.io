<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://console.cloud.google.com/vertex-ai/publishers/google/model-garden/gemini-3.1-pro-preview?pli=1">Original</a>
    <h1>Gemini 3.1 Pro Preview</h1>
    
    <div id="readability-page-1" class="page"><div>
     <p>Hello! After <a href="https://jvns.ca/blog/2026/01/08/a-data-model-for-git/">spending some time working on the Git man pages</a> last year,
I’ve been thinking a little more about what makes a good man page.</p>
<p>I’ve spent a lot of time writing cheat sheets for tools (tcpdump, git, dig, etc)
which have a man page as their primary documentation. This is because I often
find the man pages hard to navigate to get the information I want.</p>
<p>Lately I’ve wondering – could the man page <em>itself</em> have an amazing cheat sheet
in it? What might make a man page easier to use?
I’m still very early in thinking about this but I wanted to write down some quick notes.</p>
<p>I <a href="https://social.jvns.ca/@b0rk/116092583707187579">asked some people on Mastodon</a> for their favourite man pages, and here
are some examples of interesting things I saw on those man pages.</p>
<h3 id="an-options-summary">
    <a href="#an-options-summary">
      an OPTIONS SUMMARY
    </a>
</h3>
<p>If you’ve read a lot of man pages you’ve probably seen something like this in
the <code>SYNOPSIS</code>: once you’re listing almost the entire alphabet, it’s hard</p>
<pre><code>ls [-@ABCFGHILOPRSTUWabcdefghiklmnopqrstuvwxy1%,]

grep [-abcdDEFGHhIiJLlMmnOopqRSsUVvwXxZz]
</code></pre>
<p>The <a href="https://download.samba.org/pub/rsync/rsync.1">rsync man page</a>
has a solution I’ve never seen before: it keeps its SYNOPSIS very terse, like this:</p>
<pre><code> Local:
     rsync [OPTION...] SRC... [DEST]
</code></pre>
<p>and then has an “OPTIONS SUMMARY” section with a 1-line summary of each option, like this:</p>
<pre><code>--verbose, -v            increase verbosity
--info=FLAGS             fine-grained informational verbosity
--debug=FLAGS            fine-grained debug verbosity
--stderr=e|a|c           change stderr output mode (default: errors)
--quiet, -q              suppress non-error messages
--no-motd                suppress daemon-mode MOTD
</code></pre>
<p>Then later there’s the usual OPTIONS section with a full description of each option.</p>
<h3 id="an-options-section-organized-by-category">
    <a href="#an-options-section-organized-by-category">
      an OPTIONS section organized by category
    </a>
</h3>
<p>The <a href="https://man7.org/linux/man-pages/man1/strace.1.html">strace man page</a>
organizes its options by category (like “General”, “Startup”, “Tracing”, and
“Filtering”, “Output Format”) instead of alphabetically.</p>
<p>As an experiment I tried to take the <code>grep</code> man page and make an
“OPTIONS SUMMARY” section grouped by category, you can <a href="https://gist.github.com/jvns/9f5966633875a4758e0d947a5b4dbdcf">see the results
here</a>. I’m not
sure what I think of the results but it was a fun exercise. When I was writing
that I was thinking about how I can never remember the name of the <code>-l</code> grep
option. It always takes me what feels like forever to find it in the man page
and I was trying to think of what structure would make it easier for me to find.
Maybe categories?</p>
<h3 id="a-cheat-sheet">
    <a href="#a-cheat-sheet">
      a cheat sheet
    </a>
</h3>
<p>A couple of people pointed me to the suite of Perl man pages (<code>perlfunc</code>, <code>perlre</code>, etc), and one thing I
noticed was <a href="https://linux.die.net/man/1/perlcheat">man perlcheat</a>, which has
cheat sheet sections like this:</p>
<pre><code> SYNTAX
 foreach (LIST) { }     for (a;b;c) { }
 while   (e) { }        until (e)   { }
 if      (e) { } elsif (e) { } else { }
 unless  (e) { } elsif (e) { } else { }
 given   (e) { when (e) {} default {} }
</code></pre>
<p>I think this is so cool and it makes me wonder if there are other ways to
write condensed ASCII 80-character-wide cheat sheets for use in man pages.</p>
<h3 id="examples-are-very-popular">
    <a href="#examples-are-very-popular">
      examples are very popular
    </a>
</h3>
<p>A common comment was something to the effect of “I like any man page that has
examples”. Someone mentioned the OpenBSD man pages, and the <a href="https://man.openbsd.org/tail">openbsd tail</a> man page has examples of
the exact 2 ways I use tail at the end.</p>
<p>I think I’ve most often seen the EXAMPLES section at the
end of the man page, but some man pages (like the <a href="https://download.samba.org/pub/rsync/rsync.1">rsync man page</a> from earlier) start with
the examples. When I was working on the <a href="https://git-scm.com/docs/git-add">git-add</a> and <a href="https://git-scm.com/docs/git-rebase">git rebase</a>
man pages I put a short example at the beginning.</p>
<h3 id="a-table-of-contents-and-links-between-sections">
    <a href="#a-table-of-contents-and-links-between-sections">
      a table of contents, and links between sections
    </a>
</h3>
<p>This isn’t a property of the man page itself, but one issue with man pages in
the terminal is it’s hard to know what sections the man page has.</p>
<p>When working on the Git man pages, one thing Marie and I did was to
<a href="https://git-scm.com/docs/git-rebase">add a table of contents</a> to the sidebar of
the HTML versions of the man pages hosted on the Git site.</p>
<p>I’d also like to add more hyperlinks to the HTML versions of the Git man pages
at some point, so that you can click on “INCOMPATIBLE OPTIONS” to get to that
section. It’s very easy to add links like this in the Git project since Git’s
man pages are generated with AsciiDoc.</p>
<p>I think adding a table of contents and adding internal hyperlinks is kind of a
nice middle ground where we can make some improvements to the man page format
(in the HTML version of the man page at least) without maintaining a totally
different form of documentation. Though for this to work you do need to set up a
toolchain like Git’s AsciiDoc system.</p>
<p>It would be amazing if there were some kind of universal system to make it easy
to look up a specific option in a man page (“what does -a do?”).
The best trick I know is use the man pager to search for something like <code>^ *-a</code>
but I never remember to do it and instead just end up going through
every instance of <code>-a</code> in the man page until I find what I’m looking for.</p>
<h3 id="examples-for-every-option">
    <a href="#examples-for-every-option">
      examples for every option
    </a>
</h3>
<p>The <a href="https://curl.se/docs/manpage.html">curl man page</a> has examples for every
option, and there’s also a table of contents on the HTML version so you can more
easily jump to the option you’re interested in.</p>
<p>For instance the example for <code>--cert</code> makes it easy to see that you likely also want to pass the <code>--key</code> option, like this:</p>
<pre><code>  curl --cert certfile --key keyfile https://example.com
</code></pre>
<p>The way they implement this is that there’s [one file for each option](<a href="https://github.com/curl/curl/blob/dc08922a61efe546b318daf964514ffbf41583">https://github.com/curl/curl/blob/dc08922a61efe546b318daf964514ffbf41583</a> 25/docs/cmdline-opts/append.md) and there’s an “Example” field in that file.</p>
<h3 id="formatting-data-in-a-table">
    <a href="#formatting-data-in-a-table">
      formatting data in a table
    </a>
</h3>
<p>Quite a few people said that <a href="https://www.man7.org/linux/man-pages/man7/ascii.7.html">man ascii</a> was their
favourite man page, which looks like this:</p>
<pre><code> Oct   Dec   Hex   Char                     
 ───────────────────────────────────────────
 000   0     00    NUL &#39;\0&#39; (null character)
 001   1     01    SOH (start of heading)   
 002   2     02    STX (start of text)      
 003   3     03    ETX (end of text)        
 004   4     04    EOT (end of transmission)
 005   5     05    ENQ (enquiry)            
 006   6     06    ACK (acknowledge)        
 007   7     07    BEL &#39;\a&#39; (bell)          
 010   8     08    BS  &#39;\b&#39; (backspace)     
 011   9     09    HT  &#39;\t&#39; (horizontal tab)
 012   10    0A    LF  &#39;\n&#39; (new line)      
</code></pre>
<p>Obviously <code>man ascii</code> is an unusual man page but I think what’s cool about this man page (other than the fact that it’s always
useful to have an ASCII reference) is it’s very easy to scan to find the
information you need because of the table format. It makes me wonder if there
are more opportunities to display information in a “table” in a man page to make
it easier to scan.</p>
<h3 id="the-gnu-approach">
    <a href="#the-gnu-approach">
      the GNU approach
    </a>
</h3>
<p>When I talk about man
pages it often comes up that the GNU coreutils man pages
(for example <a href="https://man7.org/linux/man-pages/man1/tail.1.html">man tail</a>)
don’t have examples, unlike the OpenBSD man pages, which <a href="https://man.openbsd.org/tail">do have examples</a>.</p>
<p>I’m not going to get into this too much because it seems like a fairly political
topic and I definitely can’t do it justice here, but here are some things I
believe to be true:</p>
<ul>
<li>The GNU project prefers to maintain documentation in “info” manuals instead of man pages. <a href="https://www.gnu.org/software/coreutils/manual/coreutils.html">This page</a> says “the man pages are no longer being maintained”.</li>
<li>There are 3 ways to read “info” manuals: their HTML version, in Emacs, or with a standalone <code>info</code> tool. I’ve heard from some Emacs users that they like the Emacs info browser. I don’t think I’ve ever talked to anyone who uses the standalone <code>info</code> tool.</li>
<li>The <a href="https://www.gnu.org/software/coreutils/manual/html_node/tail-invocation.html">info manual entry for tail</a> is linked at the bottom of the man page, and it does have examples</li>
<li>The FSF used to <a href="https://www.fsf.org/gnu-press">sell print books</a> of the GNU software manuals (and maybe they <a href="https://shop.fsf.org/">still do</a> sometimes?)</li>
</ul>
<p>After a certain level of complexity a man page gets really hard to navigate: while I’ve never used the coreutils info manual and probably won’t, I would almost certainly prefer to use the
<a href="https://www.gnu.org/software/bash/manual/bash.html">GNU Bash reference manual</a> or the <a href="https://sourceware.org/glibc/manual/latest/html_mono/libc.html">The GNU C Library Reference Manual</a> via their HTML documentation rather than through a man page.</p>
<h3 id="a-few-more-man-page-adjacent-things">
    <a href="#a-few-more-man-page-adjacent-things">
      a few more man-page-adjacent things
    </a>
</h3>
<p>Here are some tools I think are interesting:</p>
<ul>
<li><a href="https://fishshell.com/">The fish shell</a> comes with a <a href="https://github.com/fish-shell/fish-shell/blob/master/share/tools/create_manpage_completions.py">Python script</a> to automatically generate tab  completions from man pages</li>
<li><a href="https://tldr.sh">tldr.sh</a> is a community maintained database of examples, for example you can run it as <code>tldr grep</code>. Lots of people have told me they find it useful.</li>
<li>the <a href="https://kapeli.com/dash">Dash</a> Mac docs browser has a nice man page viewer in it. I still use the terminal man page viewer but I like that it includes a table of contents, it looks like this:</li>
</ul>
<img src="https://jvns.ca/images/dash.webp"/>
<h3 id="it-s-interesting-to-think-about-a-constrained-format">
    <a href="#it-s-interesting-to-think-about-a-constrained-format">
      it’s interesting to think about a constrained format
    </a>
</h3>
<p>Man pages are such a constrained format and it’s fun to think about what you can
do with such limited formatting options.</p>
<p>Even though I’m very into writing I’ve always had a bad habit of never reading
documentation and so it’s a little bit hard for me to think about what I
actually find useful in man pages, I’m not sure whether I think most of the
things in this post would improve my experience or not. (Except for examples, I
LOVE examples)</p>
<p>So I’d be interested to hear about other man pages that you think are well
designed and what you like about them,
the <a href="https://comments.jvns.ca/post/116093529820975727">comments section is here</a>.</p>

</div></div>
  </body>
</html>
