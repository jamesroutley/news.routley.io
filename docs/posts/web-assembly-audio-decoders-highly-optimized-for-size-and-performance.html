<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/eshaz/wasm-audio-decoders">Original</a>
    <h1>Web Assembly audio decoders highly optimized for size and performance</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">WASM Audio Decoders is a collection of Web Assembly audio decoder libraries that are highly optimized for browser use. Each module supports synchronous decoding on the main thread as well as asynchronous (threaded) decoding through a built in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API" rel="nofollow">Web Worker</a> implementation.</p>
<p dir="auto">Web Assembly is a binary instruction format for a stack-based virtual machine that allows for near native code execution speed inside of a web browser. In practice, these decoders are just as fast, and in some cases faster, than the browser implementation.</p>


<p dir="auto">Each decoder is built with inline WASM to reduce bundling complexity with transpilers like Webpack. The inlined WASM is encoded using yEnc for efficient binary encoding and is gzip compressed for reduced file size.</p>
<p dir="auto">Pre-built minified JS files are available from NPM and in each decoder&#39;s <code>dist</code> folder.</p>

<p dir="auto">Decodes MPEG Layer I/II/III into PCM</p>
<ul dir="auto">
<li>84.6 KiB minified bundle size</li>
<li>Browser and NodeJS support</li>
<li>Built in Web Worker support</li>
<li>Based on <a href="https://www.mpg123.de/" rel="nofollow"><code>mpg123</code></a></li>
<li>Install using <a href="https://www.npmjs.com/package/mpg123-decoder" rel="nofollow">NPM</a></li>
</ul>

<p dir="auto">Decodes FLAC and Ogg FLAC data into PCM</p>
<ul dir="auto">
<li>65.3 KiB minified bundle size</li>
<li>Browser and NodeJS support</li>
<li>Built in Web Worker support</li>
<li>Multichannel decoding (up to 8 channels)</li>
<li>Supports full FLAC bit depth and sample rate.</li>
<li>Based on <a href="https://github.com/xiph/flac"><code>libFLAC</code></a> and <a href="https://github.com/eshaz/codec-parser"><code>codec-parser</code></a></li>
<li>Install using <a href="https://www.npmjs.com/package/@wasm-audio-decoders/flac" rel="nofollow">NPM</a></li>
</ul>

<p dir="auto">Decodes Ogg Opus data into PCM</p>
<ul dir="auto">
<li>108.9 KiB minified bundle size</li>
<li>Browser and NodeJS support</li>
<li>Built in Web Worker support</li>
<li>Multichannel decoding (up to 255 channels)</li>
<li>Based on <a href="https://github.com/xiph/opus"><code>libopus</code></a> and <a href="https://github.com/eshaz/codec-parser"><code>codec-parser</code></a></li>
<li>Install using <a href="https://www.npmjs.com/package/ogg-opus-decoder" rel="nofollow">NPM</a></li>
</ul>

<p dir="auto">Decodes raw Opus audio frames into PCM</p>
<ul dir="auto">
<li>85.0 KiB minified bundle size</li>
<li>Browser and NodeJS support</li>
<li>Built in Web Worker support</li>
<li>Multichannel decoding (up to 255 channels)</li>
<li>Intended for users that already have Opus frames extracted from a container, i.e. (Ogg, Matroska (WEBM), or ISOBMFF (mp4))</li>
<li>Based on <a href="https://github.com/xiph/opus"><code>libopus</code></a></li>
<li>Install using <a href="https://www.npmjs.com/package/opus-decoder" rel="nofollow">NPM</a></li>
</ul>

<p dir="auto">Decodes Ogg Vorbis data into PCM</p>
<ul dir="auto">
<li>97.9 KiB minified bundle size</li>
<li>Browser and NodeJS support</li>
<li>Built in Web Worker support</li>
<li>Multichannel decoding (up to 255 channels)</li>
<li>Supports full Vorbis sample rate.</li>
<li>Based on <a href="https://github.com/xiph/vorbis"><code>libvorbis</code></a> and <a href="https://github.com/eshaz/codec-parser"><code>codec-parser</code></a></li>
<li>Install using <a href="https://www.npmjs.com/@wasm-audio-decoders/ogg-vorbis" rel="nofollow">NPM</a></li>
</ul>


<ol dir="auto">
<li>Linux, or a Linux-like environment to build (i.e. WSL).</li>
<li>NodeJS 18.x or higher.</li>
<li>Emscripten 3.1.51
<ul dir="auto">
<li>Install by following these <a href="https://kripken.github.io/emscripten-site/docs/getting_started/downloads.html#installation-instructions" rel="nofollow">instructions</a>.</li>
</ul>
</li>
</ol>

<ol dir="auto">
<li>Clone this repo.</li>
<li>Change directory to this repo and run <code>git submodule update --init</code> to clone the git sub-modules.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/eshaz/wasm-audio-decoders.git
cd wasm-audio-decoders
git submodule update --init"><pre>git clone https://github.com/eshaz/wasm-audio-decoders.git
<span>cd</span> wasm-audio-decoders
git submodule update --init</pre></div>

<ol dir="auto">
<li>Run <code>npm install</code> to install the build dependencies.</li>
<li>Run <code>npm run install-decoders</code> to install the dependencies for each decoder.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="npm install
npm run install-decoders"><pre>npm install
npm run install-decoders</pre></div>

<ol dir="auto">
<li><code>source</code> the Emscripten path in the terminal you want build in.
<ul dir="auto">
<li>i.e. <code>$ source path_to_your_emscripten_installation/emsdk_env.sh</code></li>
</ul>
</li>
<li>Run <code>npm run configure</code> to configure the libraries. (only required for first time build, or after updating the <code>Makefile</code>)</li>
<li>Run <code>npm run build</code> to build the libraries.
<ul dir="auto">
<li>The builds will be located in each library&#39;s <code>dist</code> folder.</li>
</ul>
</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="# only required for first time build, OR after updating the `Makefile`
npm run configure
# builds the project
npm run build"><pre><span><span>#</span> only required for first time build, OR after updating the `Makefile`</span>
npm run configure
<span><span>#</span> builds the project</span>
npm run build</pre></div>

<ol dir="auto">
<li>Run <code>npm run test</code> to run the test suite.</li>
</ol>


<ol dir="auto">
<li>Make your changes</li>
<li>If you updated any dependencies, make sure to <a href="#installing-dependencies">install</a> them.</li>
<li>If you updated any configuration in the <code>Makefile</code>, make sure to <a href="https://gianluca.ai/eshaz/wasm-audio-decoders/blob/master">configure</a> the project.</li>
<li><a href="#building">Rebuild</a> the project.</li>
<li>Ensure the tests still pass by running <code>npm run test</code>.</li>
</ol>

<p dir="auto">All contributions are welcome!</p>

<ul dir="auto">
<li>Questions / comments should be entered into an issue.</li>
<li>Changes should be entered into a PR.</li>
<li>Please read through the existing issues to check if your question / comment has already been addressed, but don&#39;t hesitate to reach out if you still have unanswered questions.</li>
<li>Please make sure to clearly describe your question / comment, or the feature / fix you wish to contribute.
<ul dir="auto">
<li>Sharing sample data as a demonstration is usually the best way to do this.</li>
</ul>
</li>
<li>Adding test cases for new features or fixes is highly appreciated.</li>
</ul>
<p dir="auto">All contributes / interactions with this repository must follow the <a href="https://gianluca.ai/eshaz/wasm-audio-decoders/blob/master/docs/CODE_OF_CONDUCT.md">code of conduct</a>.</p>

<ul dir="auto">
<li>Show your support by &#39;starring&#39; this repo, contributing, or donating through Github sponsors.</li>
</ul>

<ul dir="auto">
<li><code>OggOpusDecoder</code> was originally based on <a href="https://github.com/AnthumChris/opus-stream-decoder">AnthumChris/opus-stream-decoder</a>.
<ul dir="auto">
<li>This version has been optimized for size and for simple bundling in web applications:
<ul dir="auto">
<li>Everything is bundled in a single minified Javascript file for ease of use.</li>
<li>Multichannel decoding (all 255 Opus channels) is supported.</li>
<li>WASM binary is encoded inline using yEnc binary encoding and compressed using DEFLATE to significantly reduce bundle size.</li>
<li>WASM compiler, minifier, and bundler options are tuned for best possible size and performance.</li>
</ul>
</li>
</ul>
</li>
<li><code>puff</code> is included as a WASM build from <a href="https://github.com/madler/zlib/tree/master/contrib/puff">madler/zlib</a> and is used to decompress the WASM binary.</li>
</ul>

<p dir="auto">The source code that originates in this project is licensed under the MIT license. Please note that any external source code included by repository, such as the decoding libraries included as git submodules and compiled into the dist files, may have different licensing terms.</p>
</article></div></div>
  </body>
</html>
