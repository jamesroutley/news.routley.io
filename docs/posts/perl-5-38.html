<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://perldoc.perl.org/perl5380delta">Original</a>
    <h1>Perl 5.38</h1>
    
    <div id="readability-page-1" class="page"><div id="wrapperlicious">
      <div id="perldocdiv">
        
        
                  <ul>
              <li>
                <a href="#NAME">NAME</a>
              </li>
              <li>
                <a href="#DESCRIPTION">DESCRIPTION</a>
              </li>
              <li>
                <a href="#Core-Enhancements">Core Enhancements</a>
                            <ul>
              <li>
                <a href="#New-class-Feature">New class Feature</a>
              </li>
              <li>
                <a href="#Unicode-15.0-is-supported">Unicode 15.0 is supported</a>
              </li>
              <li>
                <a href="#Deprecation-warnings-now-have-specific-subcategories">Deprecation warnings now have specific subcategories</a>
              </li>
              <li>
                <a href="#%25%7B%5EHOOK%7D-API-introduced">%{^HOOK} API introduced</a>
              </li>
              <li>
                <a href="#PERL_RAND_SEED">PERL_RAND_SEED</a>
              </li>
              <li>
                <a href="#Defined-or-and-logical-or-assignment-default-expressions-in-signatures">Defined-or and logical-or assignment default expressions in signatures</a>
              </li>
              <li>
                <a href="#@INC-Hook-Enhancements-and-$INC-and-INCDIR">@INC Hook Enhancements and $INC and INCDIR</a>
              </li>
              <li>
                <a href="#Forbidden-control-flow-out-of-defer-or-finally-now-detected-at-compile-time">Forbidden control flow out of defer or finally now detected at compile-time</a>
              </li>
              <li>
                <a href="#Optimistic-Eval-in-Patterns">Optimistic Eval in Patterns</a>
              </li>
              <li>
                <a href="#REG_INF-has-been-raised-from-65,536-to-2,147,483,647">REG_INF has been raised from 65,536 to 2,147,483,647</a>
              </li>
              <li>
                <a href="#New-API-functions-optimize_optree-and-finalize_optree">New API functions optimize_optree and finalize_optree</a>
              </li>
              <li>
                <a href="#Some-gotos-are-now-permitted-in-defer-and-finally-blocks">Some gotos are now permitted in defer and finally blocks</a>
              </li>
              <li>
                <a href="#New-regexp-variable-$%7B%5ELAST_SUCCESSFUL_PATTERN%7D">New regexp variable ${^LAST_SUCCESSFUL_PATTERN}</a>
              </li>
              <li>
                <a href="#Locale-category-LC_NAME-now-supported-on-participating-platforms">Locale category LC_NAME now supported on participating platforms</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Incompatible-Changes">Incompatible Changes</a>
                            <ul>
              <li>
                <a href="#readline()-no-longer-clears-the-stream-error-and-eof-flags">readline() no longer clears the stream error and eof flags</a>
              </li>
              <li>
                <a href="#INIT-blocks-no-longer-run-after-an-exit()-in-BEGIN">INIT blocks no longer run after an exit() in BEGIN</a>
              </li>
              <li>
                <a href="#Syntax-errors-no-longer-produce-%22phantom-error-messages%22">Syntax errors no longer produce &#34;phantom error messages&#34;</a>
              </li>
              <li>
                <a href="#utf8::upgrade()">utf8::upgrade()</a>
              </li>
              <li>
                <a href="#Changes-to-%22thread-safe%22-locales">Changes to &#34;thread-safe&#34; locales</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Deprecations">Deprecations</a>
                            <ul>
              <li>
                <a href="#Use-of-&#39;-as-a-package-name-separator-is-deprecated">Use of &#39; as a package name separator is deprecated</a>
              </li>
              <li>
                <a href="#Switch-and-Smart-Match-operator">Switch and Smart Match operator</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Performance-Enhancements">Performance Enhancements</a>
              </li>
              <li>
                <a href="#Modules-and-Pragmata">Modules and Pragmata</a>
                            <ul>
              <li>
                <a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Documentation">Documentation</a>
                            <ul>
              <li>
                <a href="#New-Documentation">New Documentation</a>
                            <ul>
              <li>
                <a href="#perlclass">perlclass</a>
              </li>
              <li>
                <a href="#perlclassguts">perlclassguts</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Changes-to-Existing-Documentation">Changes to Existing Documentation</a>
                            <ul>
              <li>
                <a href="#perlapi">perlapi</a>
              </li>
              <li>
                <a href="#perldeprecation">perldeprecation</a>
              </li>
              <li>
                <a href="#perlintern">perlintern</a>
              </li>
              <li>
                <a href="#perlexperiment">perlexperiment</a>
              </li>
              <li>
                <a href="#perlfunc">perlfunc</a>
              </li>
              <li>
                <a href="#perlhacktips">perlhacktips</a>
              </li>
              <li>
                <a href="#perlop">perlop</a>
              </li>
              <li>
                <a href="#perlvar">perlvar</a>
              </li>
          </ul>

              </li>
          </ul>

              </li>
              <li>
                <a href="#Diagnostics">Diagnostics</a>
                            <ul>
              <li>
                <a href="#New-Diagnostics">New Diagnostics</a>
                            <ul>
              <li>
                <a href="#New-Errors">New Errors</a>
              </li>
              <li>
                <a href="#New-Warnings">New Warnings</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Changes-to-Existing-Diagnostics">Changes to Existing Diagnostics</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Configuration-and-Compilation">Configuration and Compilation</a>
              </li>
              <li>
                <a href="#Testing">Testing</a>
              </li>
              <li>
                <a href="#Platform-Support">Platform Support</a>
                            <ul>
              <li>
                <a href="#Discontinued-Platforms">Discontinued Platforms</a>
              </li>
              <li>
                <a href="#Platform-Specific-Notes">Platform-Specific Notes</a>
              </li>
          </ul>

              </li>
              <li>
                <a href="#Internal-Changes">Internal Changes</a>
              </li>
              <li>
                <a href="#Selected-Bug-Fixes">Selected Bug Fixes</a>
              </li>
              <li>
                <a href="#Acknowledgements">Acknowledgements</a>
              </li>
              <li>
                <a href="#Reporting-Bugs">Reporting Bugs</a>
              </li>
              <li>
                <a href="#Give-Thanks">Give Thanks</a>
              </li>
              <li>
                <a href="#SEE-ALSO">SEE ALSO</a>
              </li>
          </ul>

      

<p>perldelta - what is new for perl v5.38.0</p>



<p>This document describes differences between the 5.36.0 release and the 5.38.0 release.</p>



<h2 id="New-class-Feature"><a href="#New-class-Feature">#</a><a id="New"></a>New <code>class</code> Feature</h2>

<p>A new <b>experimental</b> syntax is now available for defining object classes, where per-instance data is stored in &#34;field&#34; variables that behave like lexicals.</p>

<pre><code>use feature &#39;class&#39;;

class Point
{
    field $x;
    field $y;

    method zero { $x = $y = 0; }
}</code></pre>

<p>This is described in more detail in <a href="https://perldoc.perl.org/perlclass">perlclass</a>. Notes on the internals of its implementation and other related details can be found in <a href="https://perldoc.perl.org/perlclassguts">perlclassguts</a>.</p>

<p>This remains a new and experimental feature, and is very much still under development. It will be the subject of much further addition, refinement and alteration in future releases. As it is experimental, it yields warnings in the <code>experimental::class</code> category. These can be silenced by a <code>no warnings</code> statement.</p>

<pre><code>use feature &#39;class&#39;;
no warnings &#39;experimental::class&#39;;</code></pre>

<h2 id="Unicode-15.0-is-supported"><a href="#Unicode-15.0-is-supported">#</a><a id="Unicode"></a>Unicode 15.0 is supported</h2>

<p>See <a href="https://www.unicode.org/versions/Unicode15.0.0/">https://www.unicode.org/versions/Unicode15.0.0/</a> for details.</p>

<h2 id="Deprecation-warnings-now-have-specific-subcategories"><a href="#Deprecation-warnings-now-have-specific-subcategories">#</a><a id="Deprecation"></a>Deprecation warnings now have specific subcategories</h2>

<p>All deprecation warnings now have their own specific deprecation category which can be disabled individually. You can see a list of all deprecated features in <a href="https://perldoc.perl.org/perldeprecation">perldeprecation</a>, and in <a href="https://perldoc.perl.org/warnings">warnings</a>. The following list is from <a href="https://perldoc.perl.org/warnings">warnings</a>:</p>

<pre><code>+- deprecated ----+
|                 |
|                 +- deprecated::apostrophe_as_package_separator
|                 |
|                 +- deprecated::delimiter_will_be_paired
|                 |
|                 +- deprecated::dot_in_inc
|                 |
|                 +- deprecated::goto_construct
|                 |
|                 +- deprecated::smartmatch
|                 |
|                 +- deprecated::unicode_property_name
|                 |
|                 +- deprecated::version_downgrade</code></pre>

<p>It is still possible to disable all deprecation warnings in a single statement with</p>

<pre><code>no warnings &#39;deprecated&#39;;</code></pre>

<p>but now is possible to have a finer grained control. As has historically been the case these warnings are automatically enabled with</p>

<pre><code>use warnings;</code></pre>

<h2 id="%{^HOOK}-API-introduced"><a href="#%25%7B%5EHOOK%7D-API-introduced">#</a><a id="HOOK-API-introduced"></a>%{^HOOK} API introduced</h2>

<p>For various reasons it can be difficult to create subroutine wrappers for some of perls keywords. Any keyword which has an undefined prototype simply cannot be wrapped with a subroutine, and some keywords which perl permits to be wrapped are in practice very tricky to wrap. For example <code>require</code> is tricky to wrap, it is possible but doing so changes the stack depth, and the standard methods of exporting assume that they will be exporting to a package at certain stack depth up the stack, and the wrapper will thus change where functions are exported to unless implemented with a great deal of care. This can be very awkward to deal with.</p>

<p>Accordingly we have introduced a new hash called <code>%{^HOOK}</code> which is intended to facilitate such cases. When a keyword supports any kind of special hook then the hook will live in this new hash. Hooks in this hash will be named after the function they are called by, followed by two underbars and then the phase they are executed in, currently either before or after the keyword is executed.</p>

<p>In this initial release we support two hooks <code>require__before</code> and <code>require__after</code>. These are provided to make it easier to perform tasks before and after a require statement.</p>

<p>See <a href="https://perldoc.perl.org/perlvar">perlvar</a> for more details.</p>

<h2 id="PERL_RAND_SEED"><a href="#PERL_RAND_SEED">#</a>PERL_RAND_SEED</h2>

<p>Added a new environment variable <code>PERL_RAND_SEED</code> which can be used to cause a perl program which uses <code>rand</code> without using <code>srand()</code> explicitly or which uses <code>srand()</code> with no arguments to be repeatable. See <a href="https://perldoc.perl.org/perlrun">perlrun</a>. This feature can be disabled at compile time by passing</p>

<pre><code>-Accflags=-DNO_PERL_RAND_SEED</code></pre>

<p>to <i>Configure</i> during the build process.</p>

<h2 id="Defined-or-and-logical-or-assignment-default-expressions-in-signatures"><a href="#Defined-or-and-logical-or-assignment-default-expressions-in-signatures">#</a><a id="Defined"></a>Defined-or and logical-or assignment default expressions in signatures</h2>

<p>The default expression for a subroutine signature parameter can now be assigned using the <code>//=</code> or <code>||=</code> operators, to apply the defaults whenever the caller provided an undefined or false value (respectively), rather than simply when the parameter is missing entirely. For more detail see the documentation in <a href="https://perldoc.perl.org/perlsub">perlsub</a>.</p>

<h2 id="@INC-Hook-Enhancements-and-$INC-and-INCDIR"><a href="#@INC-Hook-Enhancements-and-$INC-and-INCDIR">#</a><a id="INC-Hook-Enhancements-and-INC-and-INCDIR"></a>@INC Hook Enhancements and $INC and INCDIR</h2>

<p>The internals for <code>@INC</code> hooks have been hardened to handle various edge cases and should no longer segfault or throw assert failures when hooks modify <code>@INC</code> during a require operation. As part of this we now ensure that any given hook is executed at most once during a require call, and that any duplicate directories do not trigger additional directory probes.</p>

<p>To provide developers more control over dynamic module lookup, a new hook method <code>INCDIR</code> is now supported. An object supporting this method may be injected into the <code>@INC</code> array, and when it is encountered in the module search process it will be executed, just like how INC hooks are executed, and its return value used as a list of directories to search for the module. Returning an empty list acts as a no-op. Note that since any references returned by this hook will be stringified and used as strings, you may not return a hook to be executed later via this API.</p>

<p>When an <code>@INC</code> hook (either <code>INC</code> or <code>INCDIR</code>) is called during require, the <code>$INC</code> variable will be localized to be the value of the index of <code>@INC</code> that the hook came from. If the hook wishes to override what the &#34;next&#34; index in <code>@INC</code> should be it may update <code>$INC</code> to be one less than the desired index (<code>undef</code> is equivalent to <code>-1</code>). This allows an <code>@INC</code> hook to completely rewrite the <code>@INC</code> array and have perl restart its directory probes from the beginning of <code>@INC</code>.</p>

<p>Blessed CODE references in <code>@INC</code> that do not support the <code>INC</code> or <code>INCDIR</code> methods will no longer trigger an exception, and instead will be treated the same as unblessed coderefs are, and executed as though they were an <code>INC</code> hook.</p>

<h2 id="Forbidden-control-flow-out-of-defer-or-finally-now-detected-at-compile-time"><a href="#Forbidden-control-flow-out-of-defer-or-finally-now-detected-at-compile-time">#</a><a id="Forbidden"></a>Forbidden control flow out of <code>defer</code> or <code>finally</code> now detected at compile-time</h2>

<p>It is forbidden to attempt to leave a <code>defer</code> or <code>finally</code> block by means of control flow such as <code>return</code> or <code>goto</code>. Previous versions of perl could only detect this when actually attempted at runtime.</p>

<p>This version of perl adds compile-time detection for many cases that can be statically determined. This may mean that code which compiled successfully on a previous version of perl is now reported as a compile-time error with this one. This only happens in cases where it would have been an error to actually execute the code anyway; the error simply happens at an earlier time.</p>

<h2 id="Optimistic-Eval-in-Patterns"><a href="#Optimistic-Eval-in-Patterns">#</a><a id="Optimistic"></a>Optimistic Eval in Patterns</h2>

<p>The use of <code>(?{ ... })</code> and <code>(??{ ... })</code> in a pattern disables various optimisations globally in that pattern. This may or may not be desired by the programmer. This release adds the <code>(*{ ... })</code> equivalent. The only difference is that it does not and will never disable any optimisations in the regex engine. This may make it more unstable in the sense that it may be called more or less times in the future, however the number of times it executes will truly match how the regex engine functions. For example, certain types of optimisation are disabled when <code>(?{ ... })</code> is included in a pattern, so that patterns which are O(N) in normal use become O(N*N) with a <code>(?{ ... })</code> pattern in them. Switching to <code>(*{ ... })</code> means the pattern will stay O(N).</p>

<h2 id="REG_INF-has-been-raised-from-65,536-to-2,147,483,647"><a href="#REG_INF-has-been-raised-from-65,536-to-2,147,483,647">#</a><a id="REG_INF"></a><a id="REG_INF-has-been-raised-from-65-536-to-2-147-483-647"></a>REG_INF has been raised from 65,536 to 2,147,483,647</h2>

<p>Many regex quantifiers used to be limited to <code>U16_MAX</code> in the past, but are now limited to <code>I32_MAX</code>, thus it is now possible to write <code>/(?:word){1000000}/</code> for example. Note that doing so may cause the regex engine to run longer and use more memory.</p>

<h2 id="New-API-functions-optimize_optree-and-finalize_optree"><a href="#New-API-functions-optimize_optree-and-finalize_optree">#</a><a id="New1"></a>New API functions optimize_optree and finalize_optree</h2>

<p>There are two new API functions for operating on optree fragments, ensuring you can invoke the required parts of the optree-generation process that might otherwise not get invoked (e.g. when creating a custom LOGOP). To get access to these functions, you first need to set a <code>#define</code> to opt-in to using these functions.</p>

<pre><code>#define PERL_USE_VOLATILE_API</code></pre>

<p>These functions are closely tied to the internals of how the interpreter works, and could be altered or removed at any time if other internal changes make that necessary.</p>

<h2 id="Some-gotos-are-now-permitted-in-defer-and-finally-blocks"><a href="#Some-gotos-are-now-permitted-in-defer-and-finally-blocks">#</a><a id="Some"></a>Some <code>goto</code>s are now permitted in <code>defer</code> and <code>finally</code> blocks</h2>

<p>Perl version 5.36.0 added <code>defer</code> blocks and permitted the <code>finally</code> keyword to also add similar behaviour to <code>try</code>/<code>catch</code> syntax. These did not permit any <code>goto</code> expression within the body, as it could have caused control flow to jump out of the block. Now, some <code>goto</code> expressions are allowed, if they have a constant target label, and that label is found within the block.</p>

<pre><code>use feature &#39;defer&#39;;

defer {
  goto LABEL;
  print &#34;This does not execute\n&#34;;
  LABEL: print &#34;This does\n&#34;;
}</code></pre>

<h2 id="New-regexp-variable-${^LAST_SUCCESSFUL_PATTERN}"><a href="#New-regexp-variable-$%7B%5ELAST_SUCCESSFUL_PATTERN%7D">#</a><a id="New2"></a><a id="New-regexp-variable-LAST_SUCCESSFUL_PATTERN"></a>New regexp variable ${^LAST_SUCCESSFUL_PATTERN}</h2>

<p>This allows access to the last succesful pattern that matched in the current scope. Many aspects of the regex engine refer to the &#34;last successful pattern&#34;. The empty pattern reuses it, and all of the magic regex vars relate to it. This allows access to its pattern. The following code</p>

<pre><code>if (m/foo/ || m/bar/) {
    s//PQR/;
}</code></pre>

<p>can be rewritten as follows</p>

<pre><code>if (m/foo/ || m/bar/) {
    s/${^LAST_SUCCESSFUL_PATTERN}/PQR/;
}</code></pre>

<p>and it will do the exactly same thing.</p>

<h2 id="Locale-category-LC_NAME-now-supported-on-participating-platforms"><a href="#Locale-category-LC_NAME-now-supported-on-participating-platforms">#</a><a id="Locale"></a>Locale category LC_NAME now supported on participating platforms</h2>

<p>On platforms that have the GNU extension <code>LC_NAME</code> category, you may now use it as the category parameter to <a href="https://perldoc.perl.org/POSIX#setlocale">&#34;setlocale&#34; in POSIX</a> to set and query its locale.</p>



<h2 id="readline()-no-longer-clears-the-stream-error-and-eof-flags"><a href="#readline()-no-longer-clears-the-stream-error-and-eof-flags">#</a><a id="readline"></a><a id="readline-no-longer-clears-the-stream-error-and-eof-flags"></a>readline() no longer clears the stream error and eof flags</h2>

<p><code>readline()</code>, also spelled <code>&lt;&gt;</code>, would clear the handle&#39;s error and eof flags after an error occurred on the stream.</p>

<p>In nearly all cases this clear is no longer done, so the error and eof flags now properly reflect the status of the stream after readline().</p>

<p>Since the error flag is no longer cleared calling close() on the stream may fail and if the stream was not explicitly closed, the implicit close of the stream may produce a warning.</p>

<p>This has resulted in two main types of problems in downstream CPAN modules, and these may also occur in your code:</p>

<ul>

<li><p>If your code reads to end of file, and then rebinds the handle to a new file descriptor, previously since the eof flag wasn&#39;t set you could continue to read from the stream. You now need to clear the eof flag yourself with <code>$handle-&gt;clearerr()</code> to continue reading.</p>

</li>
<li><p>If your code encounters an error on the stream while reading with readline() you will need to call <code>$handle-&gt;clearerr</code> to continue reading. The one case this occurred the underlying file descriptor was marked non-blocking, so the read() system call was failing with <code>EAGAIN</code>, which resulted in the error flag being set on the stream.</p>

</li>
</ul>

<p>The only case where error and eof flags continue to cleared on error is when reading from the child process for glob() in <i>miniperl</i>. This allows it to correctly report errors from the child process on close(). This is unlikely to be an issue during normal perl development.</p>

<p>[<a href="https://github.com/Perl/perl5/issues/20060">GH #20060</a>]</p>

<h2 id="INIT-blocks-no-longer-run-after-an-exit()-in-BEGIN"><a href="#INIT-blocks-no-longer-run-after-an-exit()-in-BEGIN">#</a><a id="INIT"></a><a id="INIT-blocks-no-longer-run-after-an-exit-in-BEGIN"></a><code>INIT</code> blocks no longer run after an <code>exit()</code> in <code>BEGIN</code></h2>

<p><code>INIT</code> blocks will no longer run after an <code>exit()</code> performed inside of a <code>BEGIN</code>. This means that the combination of the <code>-v</code> option and the <code>-c</code> option no longer executes a compile check as well as showing the perl version. The <code>-v</code> option executes an exit(0) after printing the version information inside of a <code>BEGIN</code> block, and the <code>-c</code> check is implemented by using <code>INIT</code> hooks, resulting in the <code>-v</code> option taking precedence.</p>

<p>[<a href="https://github.com/Perl/perl5/issues/1537">GH #1537</a>] [<a href="https://github.com/Perl/perl5/issues/20181">GH #20181</a>]</p>

<h2 id="Syntax-errors-no-longer-produce-&#34;phantom-error-messages&#34;"><a href="#Syntax-errors-no-longer-produce-%22phantom-error-messages%22">#</a><a id="Syntax"></a><a id="Syntax-errors-no-longer-produce-phantom-error-messages"></a>Syntax errors no longer produce &#34;phantom error messages&#34;</h2>

<p>Generally perl will continue parsing the source code even after encountering a compile error. In many cases this is helpful, for instance with misspelled variable names it is helpful to show as many examples of the error as possible. But in the case of syntax errors continuing often produces bizarre error messages and may even cause segmentation faults during the compile process. In this release the compiler will halt at the first syntax error encountered. This means that any code expecting to see the specific error messages we used to produce will be broken. The error that is emitted will be one of the diagnostics that used to be produced, but in some cases some messages that used to be produced will no longer be displayed.</p>

<p>See <a href="#Changes-to-Existing-Diagnostics">&#34;Changes to Existing Diagnostics&#34;</a> for more details.</p>

<h2 id="utf8::upgrade()"><a href="#utf8::upgrade()">#</a><a id="utf8"></a><a id="utf8::upgrade"></a><a href="https://perldoc.perl.org/utf8#Utility-functions"><code>utf8::upgrade()</code></a></h2>

<p>Starting in this release, if the input string is <code>undef</code>, it remains <code>undef</code>. Previously it would be changed into a defined, zero-length string.</p>

<h2 id="Changes-to-&#34;thread-safe&#34;-locales"><a href="#Changes-to-%22thread-safe%22-locales">#</a><a id="Changes"></a><a id="Changes-to-thread-safe-locales"></a>Changes to &#34;thread-safe&#34; locales</h2>

<p>Perl 5.28 introduced &#34;thread-safe&#34; locales on systems that supported them, namely modern Windows, and systems supporting POSIX 2008 locale operations. These systems accomplish this by having per-thread locales, while continuing to support the older global locale operations for code that doesn&#39;t take the steps necessary to use the newer per-thread ones.</p>

<p>It turns out that some POSIX 2008 platforms have or have had buggy implementations, which forced perl to not use them. The <code>${^SAFE_LOCALES}</code> scalar variable contains 0 or 1 to indicate whether or not the current platform is considered by perl to have a working thread-safe implementation. Some implementations have been fixed already, but FreeBSD and Cygwin have been newly discovered to be sufficiently buggy that the thread-safe operations are no longer used by perl, starting in this release. Hence, <code>${^SAFE_LOCALES}</code> is now 0 for them. Older versions of perl can be configured to avoid these buggy implementations by adding the <i>Configure</i> option <code>-DNO_POSIX_2008_LOCALE</code>.</p>

<p>And v5.38 fixes a bug in all previous perls that led to locales not being fully thread-safe. The first thread that finishes caused the main thread (named <code>thread0</code>) to revert to the global locale in effect at startup, discarding whatever the thread&#39;s locale had been previously set to. If any other thread had switched to the global locale by calling <code>switch_to_global_locale()</code> in XS code, those threads would all share the global locale, and <code>thread0</code> would not be thread-safe.</p>



<h2 id="Use-of-&#39;-as-a-package-name-separator-is-deprecated"><a href="#Use-of-&#39;-as-a-package-name-separator-is-deprecated">#</a><a id="Use"></a><a id="Use-of-as-a-package-name-separator-is-deprecated"></a>Use of <code>&#39;</code> as a package name separator is deprecated</h2>

<p>Using <code>&#39;</code> as package separator in a variable named in a double-quoted string has warned since 5.28. It is now deprecated in both string interpolation and non-interpolated contexts, and will be removed in Perl 5.42.</p>

<h2 id="Switch-and-Smart-Match-operator"><a href="#Switch-and-Smart-Match-operator">#</a><a id="Switch"></a>Switch and Smart Match operator</h2>

<p>The &#34;switch&#34; feature and the smartmatch operator, <code>~~</code>, were introduced in v5.10. Their behavior was significantly changed in v5.10.1. When the &#34;experiment&#34; system was added in v5.18.0, switch and smartmatch were retroactively declared experimental. Over the years, proposals to fix or supplement the features have come and gone.</p>

<p>In v5.38.0, we are declaring the experiment a failure. Some future system may take the conceptual place of smartmatch, but it has not yet been designed or built.</p>

<p>These features will be entirely removed from perl in v5.42.0.</p>



<ul>

<li><p>Additional optree optimizations for common OP patterns. For example, multiple simple OPs replaced by a single streamlined OP, so as to be more efficient at runtime. [<a href="https://github.com/Perl/perl5/pull/19943">GH #19943</a>], [<a href="https://github.com/Perl/perl5/pull/20063">GH #20063</a>], [<a href="https://github.com/Perl/perl5/pull/20077">GH #20077</a>].</p>

</li>
<li><p>Creating an anonymous sub no longer generates an <code>srefgen</code> op, the reference generation is now done in the <code>anoncode</code> or <code>anonconst</code> op, saving runtime. [<a href="https://github.com/Perl/perl5/pull/20290">GH #20290</a>]</p>

</li>
</ul>



<h2 id="Updated-Modules-and-Pragmata"><a href="#Updated-Modules-and-Pragmata">#</a><a id="Updated"></a>Updated Modules and Pragmata</h2>

<ul>

<li><p>Added the <code>is_tainted()</code> builtin function. [<a href="https://github.com/Perl/perl5/issues/19854">GH #19854</a>]</p>

</li>
<li><p>Added the <code>export_lexically()</code> builtin function as per <a href="https://github.com/Perl/PPCs/blob/main/ppcs/ppc0020-lexical-export.md">PPC 0020</a>. [<a href="https://github.com/Perl/perl5/issues/19895">GH #19895</a>]</p>

</li>
<li><p>Support for <a href="https://github.com/Perl/PPCs/blob/main/ppcs/ppc0018-module-true.md">PPC 0018</a>, <code>use feature &#34;module_true&#34;;</code> has been added to the default feature bundle for v5.38 and later. It may also be used explicitly. When enabled inside of a module the module does not need to return true explicitly, and in fact the return will be forced to a simple true value regardless of what it originally was.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Attribute::Handlers">Attribute::Handlers</a> has been upgraded from version 1.02 to 1.03.</p>

</li>
<li><p><a href="https://perldoc.perl.org/attributes">attributes</a> has been upgraded from version 0.34 to 0.35.</p>

</li>
<li><p><a href="https://perldoc.perl.org/autodie">autodie</a> has been upgraded from version 2.34 to 2.36.</p>

</li>
<li><p><a href="https://perldoc.perl.org/B">B</a> has been upgraded from version 1.83 to 1.88.</p>

</li>
<li><p><a href="https://perldoc.perl.org/B::Concise">B::Concise</a> has been upgraded from version 1.006 to 1.007.</p>

</li>
<li><p><a href="https://perldoc.perl.org/B::Deparse">B::Deparse</a> has been upgraded from version 1.64 to 1.74.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Benchmark">Benchmark</a> has been upgraded from version 1.23 to 1.24.</p>

</li>
<li><p><a href="https://perldoc.perl.org/bignum">bignum</a> has been upgraded from version 0.65 to 0.66.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Carp">Carp</a> has been upgraded from version 1.52 to 1.54.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Class::Struct">Class::Struct</a> has been upgraded from version 0.66 to 0.68.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Compress::Raw::Bzip2">Compress::Raw::Bzip2</a> has been upgraded from version 2.103 to 2.204_001.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Compress::Raw::Zlib">Compress::Raw::Zlib</a> has been upgraded from version 2.105 to 2.204_001.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Config::Perl::V">Config::Perl::V</a> has been upgraded from version 0.33 to 0.36.</p>

</li>
<li><p><a href="https://perldoc.perl.org/CPAN">CPAN</a> has been upgraded from version 2.33 to 2.36.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Data::Dumper">Data::Dumper</a> has been upgraded from version 2.184 to 2.188.</p>

</li>
<li><p><a href="https://perldoc.perl.org/DB_File">DB_File</a> has been upgraded from version 1.857 to 1.858.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Devel::Peek">Devel::Peek</a> has been upgraded from version 1.32 to 1.33.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Devel::PPPort">Devel::PPPort</a> has been upgraded from version 3.68 to 3.71.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Digest::MD5">Digest::MD5</a> has been upgraded from version 2.58 to 2.58_01.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Digest::SHA">Digest::SHA</a> has been upgraded from version 6.02 to 6.04.</p>

</li>
<li><p><a href="https://perldoc.perl.org/DynaLoader">DynaLoader</a> has been upgraded from version 1.52 to 1.54.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Encode">Encode</a> has been upgraded from version 3.17 to 3.19.</p>

</li>
<li><p><a href="https://perldoc.perl.org/encoding::warnings">encoding::warnings</a> has been upgraded from version 0.13 to 0.14.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Env">Env</a> has been upgraded from version 1.05 to 1.06.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Errno">Errno</a> has been upgraded from version 1.36 to 1.37.</p>

</li>
<li><p><a href="https://perldoc.perl.org/experimental">experimental</a> has been upgraded from version 0.028 to 0.031.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ExtUtils::CBuilder">ExtUtils::CBuilder</a> has been upgraded from version 0.280236 to 0.280238.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ExtUtils::Install">ExtUtils::Install</a> has been upgraded from version 2.20 to 2.22.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ExtUtils::MakeMaker">ExtUtils::MakeMaker</a> has been upgraded from version 7.64 to 7.70.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ExtUtils::Miniperl">ExtUtils::Miniperl</a> has been upgraded from version 1.11 to 1.13.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ExtUtils::ParseXS">ExtUtils::ParseXS</a> has been upgraded from version 3.45 to 3.51.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ExtUtils::PL2Bat">ExtUtils::PL2Bat</a> has been upgraded from version 0.004 to 0.005.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ExtUtils::Typemaps">ExtUtils::Typemaps</a> has been upgraded from version 3.45 to 3.51.</p>

</li>
<li><p><a href="https://perldoc.perl.org/feature">feature</a> has been upgraded from version 1.72 to 1.82.</p>

</li>
<li><p><a href="https://perldoc.perl.org/File::Basename">File::Basename</a> has been upgraded from version 2.85 to 2.86.</p>

</li>
<li><p><a href="https://perldoc.perl.org/File::Copy">File::Copy</a> has been upgraded from version 2.39 to 2.41.</p>

</li>
<li><p><a href="https://perldoc.perl.org/File::Find">File::Find</a> has been upgraded from version 1.40 to 1.43.</p>

</li>
<li><p><a href="https://perldoc.perl.org/File::Glob">File::Glob</a> has been upgraded from version 1.37 to 1.40.</p>

</li>
<li><p><a href="https://perldoc.perl.org/File::Spec">File::Spec</a> has been upgraded from version 3.84 to 3.89.</p>

</li>
<li><p><a href="https://perldoc.perl.org/File::stat">File::stat</a> has been upgraded from version 1.12 to 1.13.</p>

</li>
<li><p><a href="https://perldoc.perl.org/FileHandle">FileHandle</a> has been upgraded from version 2.03 to 2.05.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Filter::Util::Call">Filter::Util::Call</a> has been upgraded from version 1.60 to 1.64.</p>

</li>
<li><p><a href="https://perldoc.perl.org/GDBM_File">GDBM_File</a> has been upgraded from version 1.23 to 1.24.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Getopt::Long">Getopt::Long</a> has been upgraded from version 2.52 to 2.54.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Hash::Util">Hash::Util</a> has been upgraded from version 0.28 to 0.30.</p>

</li>
<li><p><a href="https://perldoc.perl.org/HTTP::Tiny">HTTP::Tiny</a> has been upgraded from version 0.080 to 0.083.</p>

</li>
<li><p><a href="https://perldoc.perl.org/I18N::Langinfo">I18N::Langinfo</a> has been upgraded from version 0.21 to 0.22.</p>

</li>
<li><p><a href="https://perldoc.perl.org/IO">IO</a> has been upgraded from version 1.50 to 1.52.</p>

</li>
<li><p>IO-Compress has been upgraded from version 2.106 to 2.204.</p>

</li>
<li><p><a href="https://perldoc.perl.org/IO::Socket::IP">IO::Socket::IP</a> has been upgraded from version 0.41 to 0.41_01.</p>

<p>On DragonflyBSD, detect setsockopt() not actually clearing <code>IPV6_V6ONLY</code> even when setsockopt() returns success. [<a href="https://rt.cpan.org/Ticket/Display.html?id=148293">cpan #148293</a>]</p>

</li>
<li><p><a href="https://perldoc.perl.org/IO::Zlib">IO::Zlib</a> has been upgraded from version 1.11 to 1.14.</p>

</li>
<li><p><a href="https://perldoc.perl.org/JSON::PP">JSON::PP</a> has been upgraded from version 4.07 to 4.16.</p>

</li>
<li><p>libnet has been upgraded from version 3.14 to 3.15.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Locale::Maketext">Locale::Maketext</a> has been upgraded from version 1.31 to 1.33.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Math::BigInt">Math::BigInt</a> has been upgraded from version 1.999830 to 1.999837.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Math::BigInt::FastCalc">Math::BigInt::FastCalc</a> has been upgraded from version 0.5012 to 0.5013.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Math::BigRat">Math::BigRat</a> has been upgraded from version 0.2621 to 0.2624.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Math::Complex">Math::Complex</a> has been upgraded from version 1.5902 to 1.62.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Memoize">Memoize</a> has been upgraded from version 1.03_01 to 1.16.</p>

</li>
<li><p><a href="https://perldoc.perl.org/MIME::Base64">MIME::Base64</a> has been upgraded from version 3.16 to 3.16_01.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Module::CoreList">Module::CoreList</a> has been upgraded from version 5.20220520 to 5.20230520.</p>

</li>
<li><p><a href="https://perldoc.perl.org/mro">mro</a> has been upgraded from version 1.26 to 1.28.</p>

</li>
<li><p><a href="https://perldoc.perl.org/NDBM_File">NDBM_File</a> has been upgraded from version 1.15 to 1.16.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Net::Ping">Net::Ping</a> has been upgraded from version 2.74 to 2.76.</p>

</li>
<li><p><a href="https://perldoc.perl.org/ODBM_File">ODBM_File</a> has been upgraded from version 1.17 to 1.18.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Opcode">Opcode</a> has been upgraded from version 1.57 to 1.64.</p>

</li>
<li><p><a href="https://perldoc.perl.org/overload">overload</a> has been upgraded from version 1.35 to 1.37.</p>

</li>
<li><p><a href="https://perldoc.perl.org/parent">parent</a> has been upgraded from version 0.238 to 0.241.</p>

</li>
<li><p><a href="https://perldoc.perl.org/PerlIO::via::QuotedPrint">PerlIO::via::QuotedPrint</a> has been upgraded from version 0.09 to 0.10.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Pod::Checker">Pod::Checker</a> has been upgraded from version 1.74 to 1.75.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Pod::Html">Pod::Html</a> has been upgraded from version 1.33 to 1.34.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Pod::Usage">Pod::Usage</a> has been upgraded from version 2.01 to 2.03.</p>

</li>
<li><p><a href="https://perldoc.perl.org/podlators">podlators</a> has been upgraded from version 4.14 to 5.01.</p>

</li>
<li><p><a href="https://perldoc.perl.org/POSIX">POSIX</a> has been upgraded from version 2.03 to 2.13.</p>

</li>
<li><p><a href="https://perldoc.perl.org/re">re</a> has been upgraded from version 0.43 to 0.44.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Safe">Safe</a> has been upgraded from version 2.43 to 2.44.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Scalar::Util">Scalar::Util</a> has been upgraded from version 1.62 to 1.63.</p>

</li>
<li><p><a href="https://perldoc.perl.org/SDBM_File">SDBM_File</a> has been upgraded from version 1.15 to 1.17.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Socket">Socket</a> has been upgraded from version 2.033 to 2.036.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Storable">Storable</a> has been upgraded from version 3.26 to 3.32.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Sys::Hostname">Sys::Hostname</a> has been upgraded from version 1.24 to 1.25.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Term::Cap">Term::Cap</a> has been upgraded from version 1.17 to 1.18.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Test::Simple">Test::Simple</a> has been upgraded from version 1.302190 to 1.302194.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Text::Balanced">Text::Balanced</a> has been upgraded from version 2.04 to 2.06.</p>

</li>
<li><p><a href="https://perldoc.perl.org/threads">threads</a> has been upgraded from version 2.27 to 2.36.</p>

</li>
<li><p><a href="https://perldoc.perl.org/threads::shared">threads::shared</a> has been upgraded from version 1.64 to 1.68.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Tie::File">Tie::File</a> has been upgraded from version 1.06 to 1.07.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Time::HiRes">Time::HiRes</a> has been upgraded from version 1.9770 to 1.9775.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Time::Piece">Time::Piece</a> has been upgraded from version 1.3401 to 1.3401_01.</p>

</li>
<li><p><a href="https://perldoc.perl.org/Unicode::Normalize">Unicode::Normalize</a> has been upgraded from version 1.31 to 1.32.</p>

</li>
<li><p><a href="https://perldoc.perl.org/UNIVERSAL">UNIVERSAL</a> has been upgraded from version 1.14 to 1.15.</p>

</li>
<li><p><a href="https://perldoc.perl.org/User::grent">User::grent</a> has been upgraded from version 1.03 to 1.04.</p>

</li>
<li><p><a href="https://perldoc.perl.org/User::pwent">User::pwent</a> has been upgraded from version 1.01 to 1.02.</p>

</li>
<li><p><a href="https://perldoc.perl.org/utf8">utf8</a> has been upgraded from version 1.24 to 1.25.</p>

</li>
<li><p><a href="https://perldoc.perl.org/warnings">warnings</a> has been upgraded from version 1.58 to 1.65.</p>

</li>
<li><p><a href="https://perldoc.perl.org/XS::APItest">XS::APItest</a> has been upgraded from version 1.22 to 1.32.</p>

</li>
<li><p><a href="https://perldoc.perl.org/XSLoader">XSLoader</a> has been upgraded from version 0.31 to 0.32.</p>

</li>
</ul>



<h2 id="New-Documentation"><a href="#New-Documentation">#</a><a id="New3"></a>New Documentation</h2>

<h3 id="perlclass"><a href="#perlclass">#</a><a href="https://perldoc.perl.org/perlclass">perlclass</a></h3>

<p>Describes the new <code>class</code> feature.</p>

<h3 id="perlclassguts"><a href="#perlclassguts">#</a><a href="https://perldoc.perl.org/perlclassguts">perlclassguts</a></h3>

<p>Describes the internals of the new <code>class</code> feature.</p>

<h2 id="Changes-to-Existing-Documentation"><a href="#Changes-to-Existing-Documentation">#</a><a id="Changes1"></a>Changes to Existing Documentation</h2>

<p>We have attempted to update the documentation to reflect the changes listed in this document. If you find any we have missed, open an issue at <a href="https://github.com/Perl/perl5/issues">https://github.com/Perl/perl5/issues</a>.</p>

<p>Additionally, the following selected changes have been made:</p>

<h3 id="perlapi"><a href="#perlapi">#</a><a href="https://perldoc.perl.org/perlapi">perlapi</a></h3>

<ul>

<li><p>Documented <a href="https://perldoc.perl.org/perlapi#hv_ksplit"><code>hv_ksplit</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#hv_name_set"><code>hv_name_set</code></a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perlapi#hv_store"><code>hv_store</code></a> and <a href="https://perldoc.perl.org/perlapi#hv_stores"><code>hv_stores</code></a> documentation have been greatly improved.</p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#gv_autoload_pv"><code>gv_autoload_pv</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#gv_autoload_pvn"><code>gv_autoload_pvn</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#gv_autoload_sv"><code>gv_autoload_sv</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#gv_name_set"><code>gv_name_set</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#start_subparse"><code>start_subparse</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#SV_CHECK_THINKFIRST_COW_DROP"><code>SV_CHECK_THINKFIRST_COW_DROP</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#SV_CHECK_THINKFIRST"><code>SV_CHECK_THINKFIRST</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#SvPV_shrink_to_cur"><code>SvPV_shrink_to_cur</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#save_aelem"><code>save_aelem</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#save_aelem_flags"><code>save_aelem_flags</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#save_helem"><code>save_helem</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlapi#save_helem_flags"><code>save_helem_flags</code></a></p>

</li>
</ul>

<h3 id="perldeprecation"><a href="#perldeprecation">#</a><a href="https://perldoc.perl.org/perldeprecation">perldeprecation</a></h3>

<ul>

<li><p>Added information about unscheduled deprecations and their categories.</p>

</li>
<li><p>Added category information for existing scheduled deprecations.</p>

</li>
<li><p>Added smartmatch and apostrophe as a package separator deprecation data.</p>

</li>
</ul>

<h3 id="perlintern"><a href="#perlintern">#</a><a href="https://perldoc.perl.org/perlintern">perlintern</a></h3>

<ul>

<li><p>Documented <a href="https://perldoc.perl.org/perlintern#save_pushptr"><code>save_pushptr</code></a></p>

</li>
<li><p>Documented <a href="https://perldoc.perl.org/perlintern#save_scalar_at"><code>save_scalar_at</code></a></p>

</li>
<li><p>Entries have been added to <a href="https://perldoc.perl.org/perlguts">perlguts</a> for the new <code>newAV_alloc_x</code>, <code>newAV_alloc_xz</code> and <code>*_simple</code> functions.</p>

</li>
<li><p>References to the now-defunct PrePAN service have been removed from <a href="https://perldoc.perl.org/perlcommunity">perlcommunity</a> and <a href="https://perldoc.perl.org/perlmodstyle">perlmodstyle</a>.</p>

</li>
<li><p>A section on symbol naming has been added to <a href="https://perldoc.perl.org/perlhacktips">perlhacktips</a>.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perlexperiment">perlexperiment</a> has been edited to properly reference the warning categories for the defer block modifier and extra paired delimiters for quote-like operators.</p>

</li>
</ul>

<h3 id="perlexperiment"><a href="#perlexperiment">#</a><a href="https://perldoc.perl.org/perlexperiment">perlexperiment</a></h3>

<ul>

<li><p>Smartmatch has been moved from experimental status to deprecated status. Unfortunately the experiment did not work out.</p>

</li>
</ul>

<h3 id="perlfunc"><a href="#perlfunc">#</a><a href="https://perldoc.perl.org/perlfunc">perlfunc</a></h3>

<ul>

<li><p>Some wording improvements have been made for the <code>ucfirst</code>, <code>push</code>, <code>unshift</code> and <code>bless</code> functions, as well as additional examples added.</p>

</li>
</ul>

<h3 id="perlhacktips"><a href="#perlhacktips">#</a>perlhacktips</h3>

<ul>

<li><p>A new section, <a href="https://perldoc.perl.org/perlhacktips#Writing-safer-macros">&#34;Writing safer macros&#34; in perlhacktips</a> has been added to discuss pitfalls and solutions to using C macros in C and XS code.</p>

</li>
<li><p>A new section, <a href="https://perldoc.perl.org/perlhacktips#Choosing-good-symbol-names">&#34;Choosing good symbol names&#34; in perlhacktips</a>, has been added to discuss unexpected gotchas with names.</p>

</li>
</ul>

<h3 id="perlop"><a href="#perlop">#</a><a href="https://perldoc.perl.org/perlop">perlop</a></h3>

<ul>

<li><p>Document the behavior of matching the empty pattern better and specify its relationship to the new <code>${^LAST_SUCCESSFUL_PATTERN}</code> properly.</p>

</li>
</ul>

<h3 id="perlvar"><a href="#perlvar">#</a><a href="https://perldoc.perl.org/perlvar">perlvar</a></h3>

<ul>

<li><p>Added a section on &#34;Scoping Rules of Regex Variables&#34;, and other wording improvements made throughout.</p>

</li>
<li><p>Added information on the new <code>%{^HOOK}</code> interface, and the new <code>require__before</code> and <code>require__after</code> hooks which it exposes.</p>

</li>
<li><p>Correct information on the regex variables <code>${^PREMATCH}</code>, <code>${^MATCH}</code> and <code>${^POSTMATCH}</code>, all of which were incorrectly documented due to an oversight. Specifically they only work properly after a regex operation that used the /p modifier to enable them.</p>

</li>
<li><p>Added information on the new regex variable <code>${^LAST_SUCCESSFUL_PATTERN}</code>, which represents the pattern of the last successful regex match in scope.</p>

</li>
</ul>



<p>The following additions or changes have been made to diagnostic output, including warnings and fatal error messages. For the complete list of diagnostic messages, see <a href="https://perldoc.perl.org/perldiag">perldiag</a>.</p>

<h2 id="New-Diagnostics"><a href="#New-Diagnostics">#</a><a id="New4"></a>New Diagnostics</h2>

<h3 id="New-Errors"><a href="#New-Errors">#</a><a id="New5"></a>New Errors</h3>

<ul>

<li><p>A new syntax error has been added for the error that a <code>catch</code> block does not have its required variable declaration. See <a href="https://perldoc.perl.org/perldiag#catch-block-requires-a-%28VAR%29">catch block requires a (VAR)</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Too-many-nested-BEGIN-blocks%2C-maximum-of-%25d-allowed">Too many nested BEGIN blocks, maximum of %d allowed</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Execution-of-%25s-aborted-due-to-compilation-errors.">Execution of %s aborted due to compilation errors.</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Can%27t-locate-object-method-%22INC%22%2C-nor-%22INCDIR%22-nor-string-overload-via-package-%22%25s%22-%25s-in-%40INC">Can&#39;t locate object method &#34;INC&#34;, nor &#34;INCDIR&#34; nor string overload via package &#34;%s&#34; %s in @INC</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Attempt-to-bless-into-a-class">Attempt to bless into a class</a></p>

<p>(F) You are attempting to call <code>bless</code> with a package name that is a new-style <code>class</code>. This is not necessary, as instances created by the constructor are already in the correct class. Instances cannot be created by other means, such as <code>bless</code>.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Cannot-assign-%3Aparam%28%25s%29-to-field-%25s-because-that-name-is-already-in-use">Cannot assign :param(%s) to field %s because that name is already in use</a></p>

<p>(F) An attempt was made to apply a parameter name to a field, when the name is already being used by another field in the same class, or one of its parent classes. This would cause a name clash so is not allowed.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Cannot-create-class-%25s-as-it-already-has-a-non-empty-%40ISA">Cannot create class %s as it already has a non-empty @ISA</a></p>

<p>(F) An attempt was made to create a class out of a package that already has an <code>@ISA</code> array, and the array is not empty. This is not permitted, as it would lead to a class with inconsistent inheritance.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Cannot-invoke-a-method-of-%22%25s%22-on-an-instance-of-%22%25s%22">Cannot invoke a method of &#34;%s&#34; on an instance of &#34;%s&#34;</a></p>

<p>(F) You tried to directly call a <code>method</code> subroutine of one class by passing in a value that is an instance of a different class. This is not permitted, as the method would not have access to the correct instance fields.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Cannot-invoke-method-on-a-non-instance">Cannot invoke method on a non-instance</a></p>

<p>(F) You tried to directly call a <code>method</code> subroutine of a class by passing in a value that is not an instance of that class. This is not permitted, as the method would not then have access to its instance fields.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Cannot-%27%25s%27-outside-of-a-%27class%27">Cannot &#39;%s&#39; outside of a &#39;class&#39;</a></p>

<p>(F) You attempted to use one of the keywords that only makes sense inside a <code>class</code> definition, at a location that is not inside such a class.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Cannot-reopen-existing-class-%22%25s%22">Cannot reopen existing class &#34;%s&#34;</a></p>

<p>(F) You tried to begin a <code>class</code> definition for a class that already exists. A class may only have one definition block.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Can%27t-bless-an-object-reference">Can&#39;t bless an object reference</a></p>

<p>(F) You attempted to call <code>bless</code> on a value that already refers to a real object instance.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#can%27t-convert-empty-path">can&#39;t convert empty path</a></p>

<p>(F) On Cygwin, you called a path conversion function with an empty path. Only non-empty paths are legal.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Class-already-has-a-superclass%2C-cannot-add-another">Class already has a superclass, cannot add another</a></p>

<p>(F) You attempted to specify a second superclass for a <code>class</code> by using the <code>:isa</code> attribute, when one is already specified. Unlike classes whose instances are created with <code>bless</code>, classes created via the <code>class</code> keyword cannot have more than one superclass.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Class-attribute-%25s-requires-a-value">Class attribute %s requires a value</a></p>

<p>(F) You specified an attribute for a class that would require a value to be passed in parentheses, but did not provide one. Remember that whitespace is <b>not</b> permitted between the attribute name and its value; you must write this as</p>

<pre><code>class Example::Class :attr(VALUE) ...</code></pre>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Class-%3Aisa-attribute-requires-a-class-but-%22%25s%22-is-not-one">Class :isa attribute requires a class but &#34;%s&#34; is not one</a></p>

<p>(F) When creating a subclass using the <code>class</code> <code>:isa</code> attribute, the named superclass must also be a real class created using the <code>class</code> keyword.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Field-already-has-a-parameter-name%2C-cannot-add-another">Field already has a parameter name, cannot add another</a></p>

<p>(F) A field may have at most one application of the <code>:param</code> attribute to assign a parameter name to it; once applied a second one is not allowed.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Field-attribute-%25s-requires-a-value">Field attribute %s requires a value</a></p>

<p>(F) You specified an attribute for a field that would require a value to be passed in parentheses, but did not provide one. Remember that whitespace is <b>not</b> permitted between the attribute name and its value; you must write this as</p>

<pre><code>field $var :attr(VALUE) ...</code></pre>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Field-%25s-is-not-accessible-outside-a-method">Field %s is not accessible outside a method</a></p>

<p>(F) An attempt was made to access a field variable of a class from code that does not appear inside the body of a <code>method</code> subroutine. This is not permitted, as only methods will have access to the fields of an instance.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Field-%25s-of-%22%25s%22-is-not-accessible-in-a-method-of-%22%25s%22">Field %s of &#34;%s&#34; is not accessible in a method of &#34;%s&#34;</a></p>

<p>(F) An attempt was made to access a field variable of a class, from a method of another class nested inside the one that actually defined it. This is not permitted, as only methods defined by a given class are permitted to access fields of that class.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Only-scalar-fields-can-take-a-%3Aparam-attribute">Only scalar fields can take a :param attribute</a></p>

<p>(F) You tried to apply the <code>:param</code> attribute to an array or hash field. Currently this is not permitted.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Required-parameter-%27%25s%27-is-missing-for-%25s-constructor">Required parameter &#39;%s&#39; is missing for %s constructor</a></p>

<p>(F) You called the constructor for a class that has a required named parameter, but did not pass that parameter at all.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Unexpected-characters-while-parsing-class-%3Aisa-attribute%3A-%25s">Unexpected characters while parsing class :isa attribute: %s</a></p>

<p>(F) You tried to specify something other than a single class name with an optional trailing version number as the value for a <code>class</code> <code>:isa</code> attribute. This confused the parser.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Unrecognized-class-attribute-%25s">Unrecognized class attribute %s</a></p>

<p>(F) You attempted to add a named attribute to a <code>class</code> definition, but perl does not recognise the name of the requested attribute.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Unrecognized-field-attribute-%25s">Unrecognized field attribute %s</a></p>

<p>(F) You attempted to add a named attribute to a <code>field</code> definition, but perl does not recognise the name of the requested attribute.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#%24%7B%5EHOOK%7D%7B%25s%7D-may-only-be-a-CODE-reference-or-undef">${^HOOK}{%s} may only be a CODE reference or undef</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Attempt-to-set-unknown-hook-%27%25s%27-in-%25%7B%5EHOOK%7D">Attempt to set unknown hook &#39;%s&#39; in %{^HOOK}</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Missing-or-undefined-argument-to-%25s-via-%25%7B%5EHOOK%7D%7Brequire__before%7D">Missing or undefined argument to %s via %{^HOOK}{require__before}</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Too-many-capture-groups-%28limit-is-%25d%29-in-regex-m%2F%25s%2F">Too many capture groups (limit is %d) in regex m/%s/</a></p>

</li>
</ul>

<h3 id="New-Warnings"><a href="#New-Warnings">#</a><a id="New6"></a>New Warnings</h3>

<ul>

<li><p><a href="https://perldoc.perl.org/perldiag#Unknown-locale-category-%25d">Unknown locale category %d</a></p>

<p>This is a shortened form of an already existing diagnostic, for use when there is no new locale being switched to. The previous diagnostic was misleading in such circumstances.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Locale-%27%25s%27-is-unsupported%2C-and-may-crash-the-interpreter.">Locale &#39;%s&#39; is unsupported, and may crash the interpreter.</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Treating-%25s%3A%3AINIT-block-as-BEGIN-block-as-workaround">Treating %s::INIT block as BEGIN block as workaround</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Filehandle-STD%25s-reopened-as-%25s-only-for-input">Filehandle STD%s reopened as %s only for input</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#%25s-on-BEGIN-block-ignored">%s on BEGIN block ignored</a></p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#ADJUST-is-experimental">ADJUST is experimental</a></p>

<p>(S experimental::class) This warning is emitted if you use the <code>ADJUST</code> keyword of <code>use feature &#39;class&#39;</code>. This keyword is currently experimental and its behaviour may change in future releases of Perl.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#class-is-experimental">class is experimental</a></p>

<p>(S experimental::class) This warning is emitted if you use the <code>class</code> keyword of <code>use feature &#39;class&#39;</code>. This keyword is currently experimental and its behaviour may change in future releases of Perl.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Method-%25s-redefined">Method %s redefined</a></p>

<p>(W redefine) You redefined a method. To suppress this warning, say</p>

<pre><code>{
   no warnings &#39;redefine&#39;;
   *name = method { ... };
}</code></pre>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Odd-number-of-elements-in-hash-field-initialization">Odd number of elements in hash field initialization</a></p>

<p>(W misc) You specified an odd number of elements to initialise a hash field of an object. Hashes are initialised from a list of key/value pairs so there must be a corresponding value to every key. The final missing value will be filled in with undef instead.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Old-package-separator-%22%27%22-deprecated">Old package separator &#34;&#39;&#34; deprecated</a></p>

<p>(W deprecated, syntax) You used the old package separator &#34;&#39;&#34; in a variable, subroutine or package name. Support for the old package separator will be removed in Perl 5.40.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#field-is-experimental">field is experimental</a></p>

<p>(S experimental::class) This warning is emitted if you use the <code>field</code> keyword of <code>use feature &#39;class&#39;</code>. This keyword is currently experimental and its behaviour may change in future releases of Perl.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#method-is-experimental">method is experimental</a></p>

<p>(S experimental::class) This warning is emitted if you use the <code>method</code> keyword of <code>use feature &#39;class&#39;</code>. This keyword is currently experimental and its behaviour may change in future releases of Perl.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Can%27t-call-destructor-for-0x%25p-in-global-destruction">Can&#39;t call destructor for 0x%p in global destruction</a></p>

</li>
</ul>

<h2 id="Changes-to-Existing-Diagnostics"><a href="#Changes-to-Existing-Diagnostics">#</a><a id="Changes2"></a>Changes to Existing Diagnostics</h2>

<ul>

<li><p>The compiler will now stop parsing on the first syntax error it encounters. Historically the compiler would attempt to &#34;skip past&#34; the error and continue parsing so that it could list multiple errors. For things like undeclared variables under strict this makes sense. For syntax errors however it has been found that continuing tends to result in a storm of unrelated or bizarre errors that mostly just obscure the true error. In extreme cases it can even lead to segfaults and other incorrect behavior.</p>

<p>Therefore we have reformed the continuation logic so that the parse will stop after the first seen syntax error. Semantic errors like undeclared variables will not stop the parse, so you may still see multiple errors when compiling code. However if there is a syntax error it will be the last error message reported by perl and all of the errors that you see will be something that actually needs to be fixed.</p>

</li>
<li><p>Error messages that output class or package names have been modified to output double quoted strings with various characters escaped so as to make the exact value clear to a reader. The exact rules on which characters are escaped may change over time but currently are that printable ASCII codepoints, with the exception of <code>&#34;</code> and <code>\</code>, and unicode word characters whose codepoint is over 255 are output raw, and any other symbols are escaped much as Data::Dumper might escape them, using <code>\n</code> for newline and <code>\&#34;</code> for double quotes, etc. Codepoints in the range 128-255 are always escaped as they can cause trouble on unicode terminals when output raw.</p>

<p>In older versions of perl the one liner</p>

<pre><code>$ perl -le&#39;&#34;thing\n&#34;-&gt;foo()&#39;</code></pre>

<p>would output the following error message exactly as shown here, with text spread over multiple lines because the &#34;\n&#34; would be emitted as a raw newline character:</p>

<pre><code>Can&#39;t locate object method &#34;foo&#34; via package &#34;thing
&#34; (perhaps you forgot to load &#34;thing
&#34;?) at -e line 1.</code></pre>

<p>As of this release we would output this instead (as one line):</p>

<pre><code>Can&#39;t locate object method &#34;foo&#34; via package &#34;thing\n&#34;
  (perhaps you forgot to load &#34;thing\n&#34;?) at -e line 1.</code></pre>

<p>Notice the newline in the package name has been quoted and escaped, and thus the error message is a single line. The text is shown here wrapped to two lines only for readability.</p>

</li>
<li><p>When package or class names in errors are very large the middle excess portion will be elided from the message. As of this release error messages will show only up to the first 128 characters and the last 128 characters in a package or class name in error messages. For example</p>

<pre><code>$ perl -le&#39;(&#34;Foo&#34; x 1000)-&gt;new()&#39;</code></pre>

<p>will output the following as one line:</p>

<pre><code>Can&#39;t locate object method &#34;new&#34; via package &#34;FooFooFooFooFooFooFoo
FooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFoo
FooFooFooFooFooFooFooFooFooFooFooFooFooFo&#34;...&#34;oFooFooFooFooFooFooFoo
FooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFoo
FooFooFooFooFooFooFooFooFooFooFooFooFoo&#34; (perhaps you forgot to load
&#34;FooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFoo
FooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFo&#34;...
&#34;oFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFoo
FooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFooFoo&#34;?)
at -e line 1.</code></pre>

<p>Notice the <code> &#34;prefix&#34;...&#34;suffix&#34; </code> form of the package name in this case. In previous versions of perl the complete string would have been shown making the error message over 6k long and there was no upper limit on the length of the error message at all. If you accidentally used a 1MB string as a class name then the error message would be over 2MB long. In this perl the upper limit should be around 2k when eliding and escaping are taken into account.</p>

</li>
<li><p>Removed <code>Complex regular subexpression recursion limit (%d) exceeded</code></p>

<p>The regular expresion engine has not used recursion in some time. This warning no longer makes sense.</p>

<p>See [<a href="https://github.com/Perl/perl5/pull/19636">GH #19636</a>].</p>

</li>
<li><p>Various warnings that used to produce parenthesized hints underneath the main warning message and after its &#34;location data&#34; were chanaged to put the hint inline with the main message. For instance:</p>

<pre><code>Bareword found where operator expected at -e line 1, near &#34;foo bar&#34;
    (Do you need to predeclare foo?)</code></pre>

<p>will now look like this but as one line:</p>

<pre><code>Bareword found where operator expected (Do you need to predeclare
foo?) at -e line 1, near &#34;foo bar&#34;</code></pre>

<p>as a result such warnings will no longer trigger <code>$SIG{__WARN__}</code> twice, and the hint will be visible when fatal warnings is in effect.</p>

</li>
<li><p>The error message that is produced when a <code>require</code> or <code>use</code> statement fails has been changed. It used to contain the words <code>@INC contains:</code>, and it used to show the state of <code>@INC</code> *after* the require had completed and failed. The error message has been changed to say <code>@INC entries checked:</code> and to reflect the actual directories or hooks that were executed during the require statement. For example:</p>

<pre><code>perl -e&#39;push @INC, sub {@INC=()}; eval &#34;require Frobnitz&#34;
    or die $@&#39;
Can&#39;t locate Frobnitz.pm in @INC (you may need to install the
Frobnitz module) (@INC contains:) at (eval 1) line 1.</code></pre>

<p>Will change to (with some output elided for clarity):</p>

<pre><code>perl -e&#39;push @INC, sub {@INC=()}; eval &#34;require Frobnitz&#34;
    or die $@&#39;
Can&#39;t locate Frobnitz.pm in @INC (you may need to install the
Frobnitz module) (@INC entries checked:
.../site_perl/5.38.0/x86_64-linux .../site_perl/5.38.0
.../5.38.0/x86_64-linux .../5.38.0 CODE(0x562745e684b8))
at (eval 1) line 1.</code></pre>

<p>thus showing the actual directories checked. Code that checks for <code>@INC contains:</code> in error messages should be hardened against any future wording changes between the <code>@INC</code> and <code>:</code>, for instance use <code>qr/\@INC[ \w]+:/</code> instead of using <code>qr/\@INC contains:/</code> or <code>qr/\@INC entries checked:/</code> in tests as this will ensure both forward and backward compatibility.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Old-package-separator-used-in-string">Old package separator used in string</a></p>

<p>This diagnostic is now also part of the <code>deprecated</code> category.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#given-is-deprecated">given is deprecated</a> replaces <code>given is experimental</code>.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#when-is-deprecated">when is deprecated</a> replaces <code>when is experimental</code>.</p>

</li>
<li><p><a href="https://perldoc.perl.org/perldiag#Smartmatch-is-deprecated">Smartmatch is deprecated</a> replaces <code>Smartmatch is experimental</code>.</p>

</li>
</ul>



<ul>

<li><p><code>make -j6 minitest</code> could fail due to a build conflict in building <code>$(MINIPERL_EXE)</code> between the main make process and a child process. [<a href="https://github.com/Perl/perl5/issues/19829">GH #19829</a>]</p>

</li>
<li><p>Properly populate osvers on Dragonfly BSD when the hostname isn&#39;t set.</p>

</li>
<li><p>Fix typos for C99 macro name <code>PRIX64</code>.</p>

</li>
<li><p>Remove ancient and broken GCC for VMS support</p>

</li>
<li><p>Remove vestigial reference to <code>/VAXC</code> qualifier</p>

</li>
<li><p>Remove sharedperl option on VMS</p>

</li>
<li><p>VMS now has mkostemp</p>

</li>
<li><p><code>Configure</code> now properly handles quoted elements outputted by gcc. [<a href="https://github.com/Perl/perl5/issues/20606">GH #20606</a>]</p>

</li>
<li><p><code>Configure</code> probed for the return type of malloc() and free() by testing whether declarations for those functions produced a function type mismatch with the implementation. On Solaris, with a C++ compiler, this check always failed, since Solaris instead imports malloc() and free() from <code>std::</code> with <code>using</code> for C++ builds. Since the return types of malloc() and free() are well defined by the C standard, skip probing for them. <code>Configure</code> command-line arguments and hints can still override these type in the unlikely case that is needed. [<a href="https://github.com/Perl/perl5/issues/20806">GH #20806</a>]</p>

</li>
</ul>



<p>Tests were added and changed to reflect the other additions and changes in this release. Furthermore, these significant changes were made:</p>

<ul>

<li><p>Unicode normalization tests have been added.</p>

</li>
<li><p>t/test.pl: Add ability to cancel an watchdog timer</p>

</li>
</ul>



<h2 id="Discontinued-Platforms"><a href="#Discontinued-Platforms">#</a><a id="Discontinued"></a>Discontinued Platforms</h2>

<dl>

<dt id="Ultrix"><a href="#Ultrix">#</a>Ultrix</dt>
<dd>

<p>Support code for DEC Ultrix has been removed. Ultrix was the native Unix-like operating system for various Digital Equipment Corporation machines. Its final release was in 1995.</p>

</dd>
</dl>

<h2 id="Platform-Specific-Notes"><a href="#Platform-Specific-Notes">#</a><a id="Platform1"></a>Platform-Specific Notes</h2>

<dl>

<dt id="DragonflyBSD"><a href="#DragonflyBSD">#</a>DragonflyBSD</dt>
<dd>

<p>Skip tests to workaround an apparent bug in <code>setproctitle()</code>. [<a href="https://github.com/Perl/perl5/issues/19894">GH #19894</a>]</p>

</dd>
<dt id="FreeBSD"><a href="#FreeBSD">#</a>FreeBSD</dt>
<dd>

<p>FreeBSD no longer uses thread-safe locale operations, to avoid <a href="https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=265950">a bug in FreeBSD</a></p>

<p>Replace the first part of archname with <code>uname -p</code> [<a href="https://github.com/Perl/perl5/issues/19791">GH #19791</a>]</p>

</dd>
<dt id="Solaris"><a href="#Solaris">#</a>Solaris</dt>
<dd>

<p>Avoid some compiler and compilation issues on NetBSD/Solaris from regexec.c and regcomp.c.</p>

</dd>
<dt id="Synology"><a href="#Synology">#</a>Synology</dt>
<dd>

<p>Update Synology Readme for DSM 7.</p>

</dd>
<dt id="Windows"><a href="#Windows">#</a>Windows</dt>
<dd>

<p>Fix win32 memory alignment needed for gcc-12 from vmem.h.</p>

<p>utimes() on Win32 would print a message to stderr if it failed to convert a supplied <code>time_t</code> to to a <code>FILETIME</code>. [<a href="https://github.com/Perl/perl5/issues/19668">GH #19668</a>]</p>

<p>In some cases, timestamps returned by <a href="https://perldoc.perl.org/perlfunc#stat">stat()</a> and <a href="https://perldoc.perl.org/perlfunc#lstat">lstat()</a> failed to take daylight saving time into account. [<a href="https://github.com/Perl/perl5/issues/20018">GH #20018</a>] [<a href="https://github.com/Perl/perl5/issues/20061">GH #20061</a>]</p>

<p>stat() now works on <code>AF_UNIX</code> socket files. [<a href="https://github.com/Perl/perl5/issues/20204">GH #20204</a>]</p>

<p>readlink() now returns the <code>PrintName</code> from a symbolic link reparse point instead of the <code>SubstituteName</code>, which should make it better match the name the link was created with. [<a href="https://github.com/Perl/perl5/pull/20271">GH #20271</a>]</p>

<p>lstat() on Windows now returns the length of the link target as the size of the file, as it does on POSIX systems. [<a href="https://github.com/Perl/perl5/issues/20476">GH #20476</a>]</p>

<p>symlink() on Windows now replaces any <code>/</code> in the target with <code>\</code>, since Windows does not recognise <code>/</code> in symbolic links. The reverse translation is <b>not</b> done by readlink(). [<a href="https://github.com/Perl/perl5/issues/20506">GH #20506</a>]</p>

<p>symlink() where the target was an absolute path to a directory was incorrectly created as a file symbolic link. [<a href="https://github.com/Perl/perl5/issues/20533">GH #20533</a>]</p>

<p><code>POSIX::dup2</code> no longer creates broken sockets. [<a href="https://github.com/Perl/perl5/issues/20920">GH #20920</a>]</p>

<p>Closing a busy pipe could cause Perl to hang. [<a href="https://github.com/Perl/perl5/issues/19963">GH #19963</a>]</p>

</dd>
</dl>



<ul>

<li><p>Removed many deprecated C functions.</p>

<p>These have been deprecated for a long time. See <a href="https://github.com/perl/perl5/commit/7008caa915ad99e650acf2aea40612b5e48b7ba2">https://github.com/perl/perl5/commit/7008caa915ad99e650acf2aea40612b5e48b7ba2</a> for a full list.</p>

</li>
<li><p><code>get_op_descs</code>, <code>get_op_names</code>, <code>get_opargs</code>, <code>get_no_modify</code> and <code>get_ppaddr</code> have been marked deprecated.</p>

</li>
<li><p><code>hv_free_ent</code> has been marked as internal API.</p>

</li>
<li><p><code>save_pushptr</code>, <code>save_pushptrptr</code>, and <code>save_pushi32ptr</code> have been marked as internal API.</p>

</li>
<li><p>New bool related functions and macros have been added to complement the new bool type introduced in 5.36:</p>

<p>The functions are:</p>

<dl>

<dt id="newSVbool(const-bool-bool_val)"><a href="#newSVbool(const-bool-bool_val)">#</a><a id="newSVbool"></a><a id="newSVbool-const-bool-bool_val"></a><a href="https://perldoc.perl.org/perlapi#newSVbool"><code>newSVbool(const bool bool_val)</code></a></dt>
<dd>

</dd>
<dt id="newSV_true()"><a href="#newSV_true()">#</a><a id="newSV_true"></a><a href="https://perldoc.perl.org/perlapi#newSV_true"><code>newSV_true()</code></a></dt>
<dd>

</dd>
<dt id="newSV_false()"><a href="#newSV_false()">#</a><a id="newSV_false"></a><a href="https://perldoc.perl.org/perlapi#newSV_false"><code>newSV_false()</code></a></dt>
<dd>

</dd>
<dt id="sv_set_true(SV-*sv)"><a href="#sv_set_true(SV-*sv)">#</a><a id="sv_set_true"></a><a id="sv_set_true-SV-sv"></a><a href="https://perldoc.perl.org/perlapi#sv_set_true"><code>sv_set_true(SV *sv)</code></a></dt>
<dd>

</dd>
<dt id="sv_set_false(SV-*sv)"><a href="#sv_set_false(SV-*sv)">#</a><a id="sv_set_false"></a><a id="sv_set_false-SV-sv"></a><a href="https://perldoc.perl.org/perlapi#sv_set_false"><code>sv_set_false(SV *sv)</code></a></dt>
<dd>

</dd>
<dt id="sv_set_bool(SV-*sv,-const-bool-bool_val)"><a href="#sv_set_bool(SV-*sv,-const-bool-bool_val)">#</a><a id="sv_set_bool"></a><a id="sv_set_bool-SV-sv-const-bool-bool_val"></a><a href="https://perldoc.perl.org/perlapi#sv_set_bool"><code>sv_set_bool(SV *sv, const bool bool_val)</code></a></dt>
<dd>

</dd>
</dl>

<p>The macros are:</p>

<dl>

<dt id="SvIandPOK(sv)"><a href="#SvIandPOK(sv)">#</a><a id="SvIandPOK"></a><a id="SvIandPOK-sv"></a><a href="https://perldoc.perl.org/perlapi#SvIandPOK"><code>SvIandPOK(sv)</code></a></dt>
<dd>

</dd>
<dt id="SvIandPOK_off(sv)"><a href="#SvIandPOK_off(sv)">#</a><a id="SvIandPOK_off"></a><a id="SvIandPOK_off-sv"></a><a href="https://perldoc.perl.org/perlapi#SvIandPOK_off"><code>SvIandPOK_off(sv)</code></a></dt>
<dd>

</dd>
<dt id="SvIandPOK_on"><a href="#SvIandPOK_on">#</a><a href="https://perldoc.perl.org/perlapi#SvIandPOK_on"><code>SvIandPOK_on</code></a></dt>
<dd>

</dd>
</dl>

</li>
<li><p>Perl is no longer manipulating the <code>environ</code> array directly. The variable <code>PL_use_safe_putenv</code> has been removed and <code>PERL_USE_SAFE_PUTENV</code> is always defined. This means XS modules can now call <code>setenv</code> and <code>putenv</code> without causing segfaults. [<a href="https://github.com/Perl/perl5/issues/19399">perl #19399</a>]</p>

</li>
<li><p>Internal C API functions are now hidden with <code>__attribute__((hidden))</code> on the platforms that support it. This means they are no longer callable from XS modules on those platforms.</p>

<p>It should be noted that those functions have always been hidden on Windows. This change merely brings that to the other platforms. [<a href="https://github.com/Perl/perl5/pull/19655">perl #19655</a>]</p>

</li>
<li><p>New formatting symbols were added for printing values declared as <code>U32</code> or <code>I32</code>:</p>

<dl>

<dt id="I32df-Like-%d"><a href="#I32df-Like-%25d">#</a><a id="I32df"></a><a id="I32df----Like-d"></a>I32df -- Like %d</dt>
<dd>

</dd>
<dt id="U32of-Like-%o"><a href="#U32of-Like-%25o">#</a><a id="U32of"></a><a id="U32of----Like-o"></a>U32of -- Like %o</dt>
<dd>

</dd>
<dt id="U32uf-Like-%u"><a href="#U32uf-Like-%25u">#</a><a id="U32uf"></a><a id="U32uf----Like-u"></a>U32uf -- Like %u</dt>
<dd>

</dd>
<dt id="U32xf-Like-%x"><a href="#U32xf-Like-%25x">#</a><a id="U32xf"></a><a id="U32xf----Like-x"></a>U32xf -- Like %x</dt>
<dd>

</dd>
<dt id="U32Xf-Like-%X"><a href="#U32Xf-Like-%25X">#</a><a id="U32Xf"></a><a id="U32Xf----Like-X"></a>U32Xf -- Like %X</dt>
<dd>

</dd>
</dl>

<p>These are used in the same way already existing similar symbols, such as <code>IVdf</code>, are used. See <a href="https://perldoc.perl.org/perlapi#I%2FO-Formats">&#34;I/O Formats&#34; in perlapi</a>.</p>

</li>
<li><p>new &#39;HvHasAUX&#39; macro</p>

</li>
<li><p>regexec.c: Add some branch predictions reorder conds</p>

</li>
<li><p>locale: Change macro name to be C conformant</p>

</li>
<li><p>Rename the <code>PADNAMEt_*</code> constants to <code>PADNAMEf_*</code></p>

</li>
<li><p>Changes all the API macros that retrieve a PV into a call to an inline function so as to evaluate the parameter just once.</p>

</li>
<li><p>regexec.c: multiple code refactor to make the code more readable</p>

</li>
<li><p>perl.h: Change macro name to be C conformant (remove leading _ from NOT_IN_NUMERIC macros)</p>

</li>
<li><p>regcomp.h: add new <code>BITMAP_BIT</code> macro in addition to the existing <code>BITMAP_BYTE</code> and <code>BITMAP_TEST</code> ones.</p>

</li>
<li><p>Create new regnode type ANYOFH. populate_ANYOF_from_invlist was renamed to populate_bitmap_from_invlist</p>

</li>
<li><p>regex: Refactor bitmap vs non-bitmap of qr/[]/</p>

</li>
<li><p>regcomp.c: add new functions to convert from an inversion list to a bitmap (and vice versa) <code>populate_bitmap_from_invlist</code> and <code>populate_invlist_from_bitmap</code>.</p>

</li>
<li><p>Add <code>newAVav()</code> to create an AV from an existing AV. Add <code>newAVhv()</code> to create an AV using keys and values from an existing HV.</p>

</li>
<li><p>Fix definition of <code>Perl_atof</code>.</p>

</li>
<li><p>Fix undefined behavior with overflow related <code>OPTIMIZE_INFTY</code> and delta in <i>regcomp.c</i>.</p>

</li>
<li><p>Fix regnode pointer alignment issue in <i>regcomp.h</i>.</p>

</li>
<li><p>The <code>CVf_METHOD</code> CV flag and associated <code>CvMETHOD</code> macro has been renamed to <code>CVf_NOWARN_AMBIGUOUS</code> and <code>CvNOWARN_AMBIGUOUS</code>. This closer reflects its actual behaviour (it suppresses a warning that would otherwise be generated about ambiguous names), in order to be less confusing with <code>CvIsMETHOD</code>, which indicates that a CV is a <code>method</code> subroutine relating to the <code>class</code> feature.</p>

</li>
<li><p>The <code>OPf_SPECIAL</code> flag is no longer set on the <code>OP_ENTERSUB</code> op constructed to call the <code>VERSION</code>, <code>import</code> and <code>unimport</code> methods as part of a <code>use</code> statement and attribute application, nor when assigning to an <code>:lvalue</code> subroutine.</p>

</li>
<li><p>A new CV flag <code>CVf_REFCOUNTED_ANYSV</code> has been added, which indicates that the CV is an XSUB and stores an SV pointer in the <code>CvXSUBANY.any_sv</code> union field. Perl core operations such as cloning or destroying the CV will maintain the reference count of the pointed-to SV, destroying it when required.</p>

</li>
<li><p>A new API function <a href="https://perldoc.perl.org/perlapi#Perl_localeconv">&#34;<code>Perl_localeconv</code>&#34; in perlapi</a> is added. This is the same as <a href="https://perldoc.perl.org/POSIX#localeconv"><code>POSIX::localeconv</code></a> (returning a hash of the <code>localeconv()</code> fields), but directly callable from XS code.</p>

</li>
<li><p>A new API function, <a href="https://perldoc.perl.org/perlapi#Perl_langinfo8">&#34;<code>Perl_langinfo8</code>&#34; in perlapi</a> is added. This is the same as plain <a href="https://perldoc.perl.org/perlapi#Perl_langinfo">&#34;<code>Perl_langinfo</code>&#34; in perlapi</a>, but with an extra parameter that allows the caller to simply and reliably know if the returned string is UTF-8.</p>

</li>
<li><p>We have introduced a limit on the number of nested <code>eval EXPR</code>/<code>BEGIN</code> blocks and <code>require</code>/<code>BEGIN</code> (and thus <code>use</code> statements as well) to prevent C stack overflows. This variable can also be used to forbid <code>BEGIN</code> blocks from executing during <code>eval EXPR</code> compilation. The limit defaults to <code>1000</code> but can be overridden by setting the <code>${^MAX_NESTED_EVAL_BEGIN_BLOCKS}</code> variable. The default itself can be changed at compile time with</p>

<pre><code>-Accflags=&#39;-DPERL_MAX_NESTED_EVAL_BEGIN_BLOCKS_DEFAULT=12345&#39;</code></pre>

<p>Note that this value relates to the size of your C stack and if you choose an inappropriately large value Perl may segfault, be conservative about what you choose.</p>

</li>
<li><p>A new magic type <code>PERL_MAGIC_extvalue</code> has been added. This is available for use like <code>PERL_MAGIC_ext</code>, but is a value magic: upon localization the new value will not be magical.</p>

</li>
<li><p>The <code>SSNEW()</code>, <code>SSNEWt()</code>, <code>SSNEWa()</code> and <code>SSNEWat()</code> APIs now return a <code>SSize_t</code> value. The <code>SSPTR()</code> and <code>SSPTRt()</code> macros now expect a <code>SSize_t</code> parameter, and enforce that on debugging builds. [<a href="https://github.com/Perl/perl5/issues/20411">GH #20411</a>]</p>

</li>
<li><p>Filenames in cops are now refcounted under threads. Under threads we were copying the filenames into each opcode. This is because in theory opcodes created in one thread can be destroyed in another. The change adds a new struct/type <code>RCPV</code>, which is a refcounted string using shared memory. This is implemented in such a way that code that previously used a char * can continue to do so, as the refcounting data is located a specific offset before the char * pointer itself.</p>

</li>
<li><p>Added <code>HvNAMEf</code> and <code>HvNAMEf_QUOTEDPREFIX</code> special formats. They take an <code>HV *</code> as an argument and use <code>HvNAME()</code> and related macros to determine the string, its length, and whether it is utf8.</p>

</li>
<li><p>The underlying <code>Perl_dowantarray</code> function implementing the long-deprecated <a href="https://perldoc.perl.org/perlapi#GIMME"><code>GIMME</code></a> macro has been marked as deprecated, so that use of the macro emits a compile-time warning. <code>GIMME</code> has been documented as deprecated in favour of <a href="https://perldoc.perl.org/perlapi#GIMME_V"><code>GIMME_V</code></a> since Perl v5.6.0, but had not previously issued a warning.</p>

</li>
<li><p>The API function <a href="https://perldoc.perl.org/perlapi#utf8_length">&#34;utf8_length&#34; in perlapi</a> is now more efficient.</p>

</li>
<li><p>Added <code>SAVERCPV()</code> and <code>SAVEFREERCPV()</code> for better support for working with <code>RCPV</code> (reference counted string/pointer value) structures which currently are used in opcodes to share filename and warning bit data in a memory efficient manner.</p>

</li>
<li><p>Added <code>MORTALSVFUNC_SV()</code> and <code>MORTALDESTRUCTOR_SV()</code> macros, which make it possible to create a destructor which is fired at the end of the current statement. This uses the <code>PERL_MAGIC_destruct</code> magic to use &#34;free&#34; magic to trigger an action when a variable is freed. The action can be specified as a C function or as a Perl code reference.</p>

</li>
<li><p>Added the <code>%{^HOOK}</code> api and related <code>PERL_MAGIC_hook</code> and <code>PERL_MAGIC_hookelem</code> for providing ways to hook selected perl functions which for one reason or another are problematic to wrap with a customized subroutine.</p>

</li>
<li><p>Added support for <code>${^HOOK}{require__before}</code> which can be used to rewrite the filename that <code>require</code> will try to load, and also to block <code>require</code> from loading a specific module, even via fully qualified filename. The hook can also be used to perform &#34;pre-require&#34; and &#34;post-require&#34; actions.</p>

</li>
<li><p>Added support for <code>${^HOOK}{require__after}</code> which can be used to track what modules have been required after the fact.</p>

</li>
<li><p>Regular expression opcodes (regops) now use a standardized structure layout that uses unions to expose data in different format. This means it should be much easier to extend or modify regops to use more memory. This has been used to make a number of regops track how many parens they contain.</p>

</li>
</ul>



<ul>

<li><p>Avoid recursion and stack overflow parsing &#39;pack&#39; template</p>

<p>[<a href="https://github.com/Perl/perl5/issues/16319">GH #16319</a>]</p>

</li>
<li><p>An eval() as the last statement in a regex code block could trigger an interpreter panic; e.g.</p>

<pre><code>/(?{ ...; eval {....}; })/</code></pre>

<p>[<a href="https://github.com/Perl/perl5/issues/19680">GH #19680</a>]</p>

</li>
<li><p>Disabling the <code>bareword_filehandles</code> feature no longer treats <code>print Class-&gt;method</code> as an error. [<a href="https://github.com/Perl/perl5/issues/19704">GH #19704</a>]</p>

</li>
<li><p>When a Perl subroutine tail-calls an XS subroutine using <code>goto &amp;xs_sub</code>, the XS subroutine can now correctly determine its calling context. Previously it was always reported as scalar.</p>

<p>In addition, where the Perl subroutine is freed at the same time:</p>

<pre><code>sub foo { *foo = sub {}; goto &amp;xs_sub }</code></pre>

<p>this formerly could lead to crashes if the XS subroutine tried to use the value of <code>PL_op</code>, since this was being set to NULL. This is now fixed.</p>

<p>[<a href="https://github.com/Perl/perl5/issues/19936">GH #19936</a>]</p>

</li>
<li><p>setsockopt() now uses the mechanism added in 5.36 to better distinguish between numeric and string values supplied as the <code>OPTVAL</code> parameter. [<a href="https://github.com/Perl/perl5/issues/18761">GH #18761</a>]</p>

</li>
<li><p>4-argument <code>select()</code> now rejects strings with code points above 255. Additionally, for code points 128-255, this operator will now always give the corresponding octet to the OS, regardless of how Perl stores such code points in memory. (Previously Perl leaked its internal string storage to the OS.) [<a href="https://github.com/Perl/perl5/issues/19882">GH #19882</a>]</p>

</li>
<li><p>Fix panic issue from <code>val {} inside /(?{...})/</code> [<a href="https://github.com/Perl/perl5/issues/19390">GH #19390</a>]</p>

</li>
<li><p>Fix multiple compiler warnings from <i>regexp.c</i>, <i>locale.c</i> [<a href="https://github.com/Perl/perl5/issues/19915">GH #19915</a>]</p>

</li>
<li><p>Fix a bug with querying locales on platforms that don&#39;t have <code>LC_NUMERIC</code> [<a href="https://github.com/Perl/perl5/issues/19890">GH #19890</a>]</p>

</li>
<li><p>Prevent undefined behaviour in <code>S_maybe_multideref()</code>.</p>

</li>
<li><p>Avoid signed integer overflow in <code>use integer</code> ops.</p>

</li>
<li><p>Avoid adding an offset to a NULL pointer in <code>hv_delete_common</code>.</p>

</li>
<li><p>PerlIO::get_layers will now accept IO references too</p>

<p>Previously it would only take glob references or names of globs. Now it will also accept IO references.</p>

</li>
<li><p>Fixes to memory handling for <code>PL_splitstr</code>:</p>

<ul>

<li><p>If a thread was created the allocated string would be freed twice.</p>

</li>
<li><p>If two <code>-F</code> switches were supplied the memory allocated for the first switch wouldn&#39;t be freed.</p>

</li>
</ul>

</li>
<li><p>Correctly handle <code>OP_ANONCODE</code> ops generated by CPAN modules that don&#39;t include the OPf_REF flag when propagating lvalue context. [<a href="https://github.com/Perl/perl5/pull/20532">GH #20532</a>]</p>

</li>
<li><p><a href="https://perldoc.perl.org/POSIX#strxfrm">POSIX::strxfrm</a> now uses the <code>LC_CTYPE</code> locale category to specify its collation, ignoring any differing <code>LC_COLLATE</code>. It doesn&#39;t make sense for a string to be encoded in one locale (say, ISO-8859-6, Arabic) and to collate it based on another (like ISO-8859-7, Greek). Perl assumes that the current <code>LC_CTYPE</code> locale correctly represents the encoding, and collates accordingly.</p>

<p>Also, embedded <code>NUL</code> characters are now allowed in the input.</p>

<p>If locale collation is not enabled on the platform (<code>LC_COLLATE</code>), the input is returned unchanged.</p>

</li>
<li><p>Double FETCH during stringification of tied scalars returning an overloaded object have been fixed. The FETCH method should only be called once, but prior to this release was actually called twice. [<a href="https://github.com/Perl/perl5/pull/20574">GH #20574</a>]</p>

</li>
<li><p>Writing to a magic variables associated with the selected output handle, <code>$^</code>, <code>$~</code>, <code>$=</code>, <code>$-</code> and <code>$%</code>, no longer crashes perl if the IO object has been cleared from the selected output handle. [<a href="https://github.com/Perl/perl5/issues/20733">GH #20733</a>]</p>

</li>
<li><p>Redefining a <code>use constant</code> list constant with <code>use constant</code> now properly warns. This changes the behaviour of <code>use constant</code> but is a core change, not a change to <i>constant.pm</i>. [<a href="https://github.com/Perl/perl5/issues/20742">GH #20742</a>]</p>

</li>
<li><p>Redefining a <code>use constant</code> list constant with an empty prototype constant sub would result in an assertion failure. [<a href="https://github.com/Perl/perl5/issues/20742">GH #20742</a>]</p>

</li>
<li><p>Fixed a regression where the <code>INC</code> method for objects in <code>@INC</code> would not be resolved by <code>AUTOLOAD</code>, while it was in 5.36. The <code>INCDIR</code> method for objects in <code>@INC</code> cannot be resolved by <code>AUTOLOAD</code> as <code>INC</code> would have been resolved first. [<a href="https://github.com/Perl/perl5/issues/20665">GH #20665</a>]</p>

</li>
<li><p><code>$SIG{__DIE__}</code> will now be called from eval when the code dies during compilation regardless of how it dies. This means that code expecting to be able to upgrade <code>$@</code> into an object will be called consistently. In earlier versions of perl <code>$SIG{__DIE__}</code> would not be called for certain compilation errors, for instance undeclared variables. For other errors it might be called if there were more than a certain number of errors, but not if there were less. Now you can expect that it will be called in every case.</p>

</li>
<li><p>Compilation of code with errors used to inconsistently stop depending on the count and type of errors encountered. The intent was that after 10 errors compilation would halt, but bugs in this logic meant that certain types of error would be counted, but would not trigger the threshold check to stop compilation. Other errors would. With this release after at most 10 errors compilation will terminate, regardless of what type of error they were.</p>

<p>Note that you can change the maximum count by defining <code>PERL_STOP_PARSING_AFTER_N_ERRORS</code> to be something else during the configuration process. For instance</p>

<pre><code>./Configure ... -Accflags=&#39;-DPERL_STOP_PARSING_AFTER_N_ERRORS=100&#39;</code></pre>

<p>would allow up to 100 errors.</p>

</li>
<li><p>The API function <a href="https://perldoc.perl.org/perlapi#my_snprintf">&#34;my_snprintf&#34; in perlapi</a> now prints a non-dot decimal point if the perl code it ultimately is called from is in the scope of <code>use locale</code> and the locale in effect calls for that.</p>

</li>
<li><p>A number of bugs related to capture groups in quantified groups in regular expression have been fixed, especially in alternations. For example in a pattern like:</p>

<pre><code>&#34;foobazfoobar&#34; =~ /((foo)baz|foo(bar))+/</code></pre>

<p>the regex variable <code>$2</code> will not be &#34;foo&#34; as it once was, it will be undef.</p>

</li>
<li><p>Bugs with regex backreference operators that are inside of a capture group have been fixed. For instance:</p>

<pre><code>&#34;xa=xaaa&#34; =~ /^(xa|=?\1a){2}\z/</code></pre>

<p>will now correctly not match. [<a href="https://github.com/Perl/perl5/issues/10073">GH #10073</a>]</p>

</li>
<li><p><code>SSGROW()</code> and <code>SSCHECK()</code> have been reworked to ensure that the requested space is actually allocated. <code>SSCHECK()</code> is now an alias for <code>SSGROW()</code>.</p>

</li>
</ul>



<p>Perl 5.38.0 represents approximately 12 months of development since Perl 5.36.0 and contains approximately 290,000 lines of changes across 1,500 files from 100 authors.</p>

<p>Excluding auto-generated files, documentation and release tools, there were approximately 190,000 lines of changes to 970 .pm, .t, .c and .h files.</p>

<p>Perl continues to flourish into its fourth decade thanks to a vibrant community of users and developers. The following people are known to have contributed the improvements that became Perl 5.38.0:</p>

<p>Alex, Alexander Nikolov, Alex Davies, Andreas König, Andrew Fresh, Andrew Ruthven, Andy Lester, Aristotle Pagaltzis, Arne Johannessen, A. Sinan Unur, Bartosz Jarzyna, Bart Van Assche, Benjamin Smith, Bram, Branislav Zahradník, Brian Greenfield, Bruce Gray, Chad Granum, Chris &#39;BinGOs&#39; Williams, chromatic, Clemens Wasser, Craig A. Berry, Dagfinn Ilmari Mannsåker, Dan Book, danielnachun, Dan Jacobson, Dan Kogai, David Cantrell, David Golden, David Mitchell, E. Choroba, Ed J, Ed Sabol, Elvin Aslanov, Eric Herman, Felipe Gasper, Ferenc Erki, Firas Khalil Khana, Florian Weimer, Graham Knop, Håkon Hægland, Harald Jörg, H.Merijn Brand, Hugo van der Sanden, James E Keenan, James Raspass, jkahrman, Joe McMahon, Johan Vromans, Jonathan Stowe, Jon Gentle, Karen Etheridge, Karl Williamson, Kenichi Ishigaki, Kenneth Ölwing, Kurt Fitzner, Leon Timmermans, Li Linjie, Loren Merritt, Lukas Mai, Marcel Telka, Mark Jason Dominus, Mark Shelor, Matthew Horsfall, Matthew O. Persico, Mattia Barbon, Max Maischein, Mohammad S Anwar, Nathan Mills, Neil Bowers, Nicholas Clark, Nicolas Mendoza, Nicolas R, Paul Evans, Paul Marquess, Peter John Acklam, Peter Levine, Philippe Bruhat (BooK), Reini Urban, Renee Baecker, Ricardo Signes, Richard Leach, Russ Allbery, Scott Baker, Sevan Janiyan, Sidney Markowitz, Sisyphus, Steve Hay, TAKAI Kousuke, Todd Rinaldo, Tomasz Konojacki, Tom Stellard, Tony Cook, Tsuyoshi Watanabe, Unicode Consortium, vsfos, Yves Orton, Zakariyya Mughal, Zefram, 小鸡.</p>

<p>The list above is almost certainly incomplete as it is automatically generated from version control history. In particular, it does not include the names of the (very much appreciated) contributors who reported issues to the Perl bug tracker.</p>

<p>Many of the changes included in this version originated in the CPAN modules included in Perl&#39;s core. We&#39;re grateful to the entire CPAN community for helping Perl to flourish.</p>

<p>For a more complete list of all of Perl&#39;s historical contributors, please see the <i>AUTHORS</i> file in the Perl source distribution.</p>



<p>If you find what you think is a bug, you might check the perl bug database at <a href="https://github.com/Perl/perl5/issues">https://github.com/Perl/perl5/issues</a>. There may also be information at <a href="http://www.perl.org/">http://www.perl.org/</a>, the Perl Home Page.</p>

<p>If you believe you have an unreported bug, please open an issue at <a href="https://github.com/Perl/perl5/issues">https://github.com/Perl/perl5/issues</a>. Be sure to trim your bug down to a tiny but sufficient test case.</p>

<p>If the bug you are reporting has security implications which make it inappropriate to send to a public issue tracker, then see <a href="https://perldoc.perl.org/perlsec#SECURITY-VULNERABILITY-CONTACT-INFORMATION">&#34;SECURITY VULNERABILITY CONTACT INFORMATION&#34; in perlsec</a> for details of how to report the issue.</p>



<p>If you wish to thank the Perl 5 Porters for the work we had done in Perl 5, you can do so by running the <code>perlthanks</code> program:</p>

<pre><code>perlthanks</code></pre>

<p>This will send an email to the Perl 5 Porters list with your show of thanks.</p>



<p>The <i>Changes</i> file for an explanation of how to view exhaustive details on what changed.</p>

<p>The <i>INSTALL</i> file for how to build Perl.</p>

<p>The <i>README</i> file for general stuff.</p>

<p>The <i>Artistic</i> and <i>Copying</i> files for copyright information.</p>


      </div>
      
    </div></div>
  </body>
</html>
