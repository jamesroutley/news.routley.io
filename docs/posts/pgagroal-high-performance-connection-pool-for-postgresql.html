<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/agroal/pgagroal">Original</a>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto"><code>pgagroal</code> is a high-performance protocol-native connection pool for <a href="https://www.postgresql.org" rel="nofollow">PostgreSQL</a>.</p>
<p dir="auto">Pronounced: p-g-a-gro-al, named after <a href="https://www.visitportugal.com/en/content/praia-fluvial-do-agroal" rel="nofollow">A</a><a href="https://www.google.com/maps/place/Agroal,+Portugal/@39.6775431,-8.4486056,14z/" rel="nofollow">gro</a><a href="https://www.infatima.pt/en/nearby/sun-sea/fluvial-beaches/agroal/" rel="nofollow">al</a> in Portugal.</p>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<ul dir="auto">
<li>High performance</li>
<li>Connection pool</li>
<li>Limit connections for users and databases</li>
<li>Prefill support</li>
<li>Remove idle connections</li>
<li>Perform connection validation</li>
<li>Enable / disable database access</li>
<li>Graceful / fast shutdown</li>
<li>Prometheus support</li>
<li>Grafana 8 dashboard</li>
<li>Remote management</li>
<li>Authentication query support</li>
<li>Failover support</li>
<li>Transport Layer Security (TLS) v1.2+ support</li>
<li>Daemon mode</li>
<li>User vault</li>
</ul>
<p dir="auto">See <a href="https://github.com/agroal/pgagroal/blob/master/doc/GETTING_STARTED.md">Getting Started</a> on how to get started with <code>pgagroal</code>.</p>
<p dir="auto">See <a href="https://github.com/agroal/pgagroal/blob/master/doc/CONFIGURATION.md">Configuration</a> on how to configure <code>pgagroal</code>.</p>
<p dir="auto">See <a href="https://github.com/agroal/pgagroal/blob/master/doc/PERFORMANCE.md">Performance</a> for a performance run.</p>
<h2 dir="auto"><a id="user-content-overview" aria-hidden="true" href="#overview"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Overview</h2>
<p dir="auto"><code>pgagroal</code> makes use of</p>
<ul dir="auto">
<li>Process model</li>
<li>Shared memory model across processes</li>
<li><a href="http://software.schmorp.de/pkg/libev.html" rel="nofollow">libev</a> for fast network interactions</li>
<li><a href="https://en.cppreference.com/w/c/atomic" rel="nofollow">Atomic operations</a> are used to keep track of state</li>
<li>The <a href="https://www.postgresql.org" rel="nofollow">PostgreSQL</a> native protocol
<a href="https://www.postgresql.org/docs/11/protocol-message-formats.html" rel="nofollow">v3</a> for its communication</li>
</ul>
<p dir="auto"><code>pgagroal</code> will work with any <a href="https://www.postgresql.org" rel="nofollow">PostgreSQL</a> compliant driver, for example
<a href="https://jdbc.postgresql.org/" rel="nofollow">pgjdbc</a>, <a href="https://www.npgsql.org/" rel="nofollow">Npgsql</a> and <a href="https://github.com/lib/pq">pq</a>.</p>
<p dir="auto">See <a href="https://github.com/agroal/pgagroal/blob/master/doc/ARCHITECTURE.md">Architecture</a> for the architecture of <code>pgagroal</code>.</p>
<h2 dir="auto"><a id="user-content-tested-platforms" aria-hidden="true" href="#tested-platforms"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tested platforms</h2>
<ul dir="auto">
<li><a href="https://getfedora.org/" rel="nofollow">Fedora</a> 28+</li>
<li><a href="https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux" rel="nofollow">RHEL</a> 7.x with
<a href="https://access.redhat.com/solutions/3358" rel="nofollow">EPEL</a> and
<a href="https://developers.redhat.com/products/developertoolset/overview" rel="nofollow">DevTools</a> 8+</li>
<li><a href="https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux" rel="nofollow">RHEL</a> 8.x with
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/installing_managing_and_removing_user-space_components/using-appstream_using-appstream" rel="nofollow">AppStream</a></li>
</ul>
<h2 dir="auto"><a id="user-content-compiling-the-source" aria-hidden="true" href="#compiling-the-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Compiling the source</h2>
<p dir="auto"><code>pgagroal</code> requires</p>
<ul dir="auto">
<li><a href="https://gcc.gnu.org" rel="nofollow">gcc 8+</a> (C17)</li>
<li><a href="https://cmake.org" rel="nofollow">cmake</a></li>
<li><a href="https://www.gnu.org/software/make/" rel="nofollow">make</a></li>
<li><a href="http://software.schmorp.de/pkg/libev.html" rel="nofollow">libev</a></li>
<li><a href="http://www.openssl.org/" rel="nofollow">OpenSSL</a></li>
<li><a href="https://www.freedesktop.org/wiki/Software/systemd/" rel="nofollow">systemd</a></li>
<li><a href="https://docutils.sourceforge.io/" rel="nofollow">rst2man</a></li>
</ul>
<div data-snippet-clipboard-copy-content="dnf install git gcc cmake make libev libev-devel openssl openssl-devel systemd systemd-devel python3-docutils
"><pre>dnf install git gcc cmake make libev libev-devel openssl openssl-devel systemd systemd-devel python3-docutils</pre></div>
<p dir="auto">Alternative <a href="https://clang.llvm.org/" rel="nofollow">clang 8+</a> can be used.</p>
<h3 dir="auto"><a id="user-content-release-build" aria-hidden="true" href="#release-build"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Release build</h3>
<p dir="auto">The following commands will install <code>pgagroal</code> in the <code>/usr/local</code> hierarchy
and run the default configuration.</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/agroal/pgagroal.git
cd pgagroal
mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=/usr/local ..
make
sudo make install
/usr/local/bin/pgagroal -c /usr/local/etc/pgagroal/pgagroal.conf -a /usr/local/etc/pgagroal/pgagroal_hba.conf
"><pre>git clone https://github.com/agroal/pgagroal.git
<span>cd</span> pgagroal
mkdir build
<span>cd</span> build
cmake -DCMAKE_INSTALL_PREFIX=/usr/local ..
make
sudo make install
/usr/local/bin/pgagroal -c /usr/local/etc/pgagroal/pgagroal.conf -a /usr/local/etc/pgagroal/pgagroal_hba.conf</pre></div>
<p dir="auto">See <a href="https://github.com/agroal/pgagroal/blob/master/doc/RPM.md">RPM</a> for how to build a RPM of <code>pgagroal</code>.</p>
<h3 dir="auto"><a id="user-content-debug-build" aria-hidden="true" href="#debug-build"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Debug build</h3>
<p dir="auto">The following commands will create a <code>DEBUG</code> version of <code>pgagroal</code>.</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/agroal/pgagroal.git
cd pgagroal
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Debug ..
make
cd src
cp ../../doc/etc/*.conf .
./pgagroal -c pgagroal.conf -a pgagroal_hba.conf
"><pre>git clone https://github.com/agroal/pgagroal.git
<span>cd</span> pgagroal
mkdir build
<span>cd</span> build
cmake -DCMAKE_BUILD_TYPE=Debug ..
make
<span>cd</span> src
cp ../../doc/etc/<span>*</span>.conf <span>.</span>
./pgagroal -c pgagroal.conf -a pgagroal_hba.conf</pre></div>
<p dir="auto">Remember to set the <code>log_level</code> configuration option to <code>debug5</code>.</p>
<h2 dir="auto"><a id="user-content-contributing" aria-hidden="true" href="#contributing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributing</h2>
<p dir="auto">Contributions to <code>pgagroal</code> are managed on <a href="https://github.com/agroal/pgagroal/">GitHub.com</a></p>
<ul dir="auto">
<li><a href="https://github.com/agroal/pgagroal/discussions">Ask a question</a></li>
<li><a href="https://github.com/agroal/pgagroal/issues">Raise an issue</a></li>
<li><a href="https://github.com/agroal/pgagroal/issues">Feature request</a></li>
<li><a href="https://github.com/agroal/pgagroal/pulls">Code submission</a></li>
</ul>
<p dir="auto">Contributions are most welcome !</p>
<p dir="auto">Please, consult our <a href="https://github.com/agroal/pgagroal/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a> policies for interacting in our
community.</p>
<p dir="auto">Consider giving the project a <a href="https://github.com/agroal/pgagroal/stargazers">star</a> on
<a href="https://github.com/agroal/pgagroal/">GitHub</a> if you find it useful. And, feel free to follow
the project on <a href="https://twitter.com/pgagroal/" rel="nofollow">Twitter</a> as well.</p>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto"><a href="https://opensource.org/licenses/BSD-3-Clause" rel="nofollow">BSD-3-Clause</a></p>
</article>
        </div></div>
  </body>
</html>
