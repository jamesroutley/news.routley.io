<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dotat.at/@/2023-05-26-whence-time.html">Original</a>
    <h1>Where does my computer get the time from?</h1>
    
    <div id="readability-page-1" class="page"><div>
  <p>This week I was in Rotterdam for <a href="https://ripe86.ripe.net/">a RIPE meeting</a>.
On Friday morning I gave a lightning talk called <a href="https://ripe86.ripe.net/archives/video/1126/">where does my
computer get the time from?</a>
The RIPE meeting website has a copy of my slides and a video of the
talk; this is a blogified low-res version of the slides with a rough
and inexact transcript.</p>
<blockquote>
<p>I wrote a follow-up note, <a href="https://dotat.at/@/2023-05-28-whence-whence-time.html">“Where does ‘where does my computer get
the time from?’ come from?”</a> about some things I left
out of the talk.</p>
</blockquote>

<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.001.jpeg" alt="Where does my computer get the time from?"/></p>
<p>Where does my computer get the time from?</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.002.jpeg" alt="from NTP"/></p>
<p>from NTP - here’s a picture of an NTP packet</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.003.jpeg" alt="David Mills surrounded by clocks"/></p>
<p>and here’s a picture of David Mills who invented NTP</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.004.jpeg" alt="Where does my computer get the time from? NTP"/></p>
<p>simple question, easy answer, end of talk? No!</p>
<p>let’s peel off some layers…</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.005.jpeg" alt="Where does NTP get the time from? NTP"/></p>
<p>stratum 3 NTP servers get the time from stratum 2 NTP servers,</p>
<p>stratum 2 NTP servers get the time from stratum 1 NTP servers,</p>
<p>stratum 1 NTP servers get the time from some reference clock</p>
<p>maybe a radio signal such as MSF in Britain or DCF77 in Germany</p>
<p>but in most cases the reference clock is probably a GPS receiver</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.006.jpeg" alt="Where does NTP get the time from? GPS"/></p>
<p>here’s a GPS timing receiver</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.007.jpeg" alt="Where does NTP get the time from? GPS"/></p>
<p>and here’s a GPS satellite</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.008.jpeg" alt="Where does GPS get the time from?"/></p>
<p>where does GPS get the time from?</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.009.jpeg" alt="Schriever space force base entrance sign"/></p>
<p>Schriever Space Force Base in Colorado</p>
<p>they look after a lot of different top secret satellites and other
stuff at Schriever, as you can see from all the mission logos</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.010.jpeg" alt="Schriever space force base aerial photo"/></p>
<p>so you can’t get close enough to take a nice photo</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.011.jpeg" alt="Where does Schriever SFB get the time from?"/></p>
<p>Where does Schriever SFB get the time from?</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.012.jpeg" alt="racks of time-keeping equipment with smart blue blanking panels"/></p>
<p>the US Naval Observatory Alternate Master Clock
is on site at Schriever in Colorado</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.013.jpeg" alt="the USNO main building"/></p>
<p>the US Naval Observatory Alternate Master Clock
gets the time from the US Naval Observatory in Washington DC</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.014.jpeg" alt="where does the USNO get the time from?"/></p>
<p>there are three answers</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.015.jpeg" alt="USNO atomic clocks"/></p>
<p>the first answer is atomic clocks, lots of atomic clocks</p>
<p>in the background there are dozens of rack mounted caesium beam clocks</p>
<p>in the foreground the black boxes house hydrogen masers</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.016.jpeg" alt="more USNO atomic clocks"/></p>
<p>these shiny cylinders are <a href="https://www.cnmoc.usff.navy.mil/Our-Commands/United-States-Naval-Observatory/Precise-Time-Department/The-USNO-Master-Clock/The-USNO-Master-Clock/Rubidium-Fountain-Clocks/">rubidium fountains</a></p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.017.jpeg" alt="aerial photograph of the USNO campus, which is a perfect circle"/></p>
<p>the USNO has so many atomic clocks they have entire buildings dedicated to them</p>
<p>When I was preparing this talk I noticed on Apple Maps that there’s a
huge building site in the middle of the USNO campus. It turns out they
are building a fancy new clock house; the main limit on the accuracy
of their clocks is environmental stability: temperature, humidity,
etc. so the new building will have serious air handling.</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.018.jpeg" alt="where does the USNO get the time from?"/></p>
<p>the second answer is that UTC is a horrible compromise between time
from atomic clocks and time from earth rotation</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.019.jpeg" alt="the Paris observatory"/></p>
<p>so the USNO gets the time from the international earth rotation
service, which is based at the Paris Observatory</p>
<p>twice a year the IERS sends out
<a href="https://datacenter.iers.org/availableVersions.php?id=16">Bulletin C</a>,
which says whether or not there will be a leap second in six months
time; leap seconds are added (or maybe removed) from UTC to keep it in
sync with earth rotation</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.020.jpeg" alt="where does the IERS get the time from?"/></p>
<p>the IERS is spread across several organizations which contribute
to its scientific work</p>
<p>for example, you can subscribe to <a href="https://datacenter.iers.org/availableVersions.php?id=6">IERS Bulletin A</a>,
which is a weekly notice with precise details of the earth orientation parameters</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.021.jpeg" alt="the USNO main building"/></p>
<p>Bulletin A is sent out by the US Naval observatory</p>
<p>they need to know the exact orientation of the earth under the GPS
satellites, so they can provide precise positioning</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.022.jpeg" alt="where does the USNO get the time from?"/></p>
<p>the third answer is, how does the USNO know its atomic clocks are working well?</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.023.jpeg" alt="the pavillion de breteuil"/></p>
<p>that information comes from the international bureau of weights and
measures in Paris, who maintain the global standard UTC</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.024.jpeg" alt="where does the BIPM get the time from?"/></p>
<p>how does the BIPM determine what UTC is?</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.025.jpeg" alt="Circular T"/></p>
<p>the BIPM collects time measurements from national timing laboratories
around the world, and uses those measurements to determine official
UTC</p>
<p>periodically they send out <a href="https://www.bipm.org/en/time-ftp/circular-t">Circular T</a>
which has information about the discrepencies between official UTC and
UTC from the various national time labs</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.026.jpeg" alt="diagram of the new SI"/></p>
<p>the BIPM is responsible for maintaining the international system of
units, which is defined by the general conference on weights and
measures</p>
<p>the CGPM is an international treaty organization established by the
metre convention of 1875</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.027.jpeg" alt="diagram of the SI highlighting the second"/></p>
<p>UTC is an implementation of the SI unit of time, based on quantum
measurements of caesium atoms</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.028.jpeg" alt="where did the CGPM get the time from?"/></p>
<p>where did this magic number, about 9.2 GHz, come from?</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.029.jpeg" alt="Essen and Parry standing next to their atomic clock"/></p>
<p>in 1955, Louis Essen (on the right) and Jack Parry (left) built
the first caesium atomic clock</p>
<p>the current definition of the second came from the calibration of this clock</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.030.jpeg" alt="where did Essen and Parry get the time from?"/></p>
<p>before atomic clocks, the definition of the second was based on
astronomy, so Essen and Parry needed help from astronomers to find out
how fast their clock ticks according to the existing standard of time</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.031.jpeg" alt="the USNO main building"/></p>
<p>they got help from the astronomers at the US Naval Observatory</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.032.jpeg" alt="Markowitz and Essen"/></p>
<p>the way it worked was William Markowitz measured time by looking at
the skies, and Louis Essen measured time by looking at his atomic
clock, and to correlate their measurements, they both listened to the
WWV radio time signal broadcast by the national bureau of standards in
Washington DC</p>
<p>this project took 3 years, 1955 - 1958</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.033.jpeg" alt="where did Markowitz get the time from?"/></p>
<p>Markowitz was measuring the “ephemeris second”</p>
<p>in 1952 the international astronomical union changed the definition of
time so that instead of being based on the rotation of the earth about
its axis, it was based on the orbit of the earth around the sun</p>
<p>in the 1930s they had discovered that the earth’s rotation is not
perfectly even: it slows down and speeds up slightly</p>
<p>clocks were now more precise than the rotation of the earth, so the
ephemeris second was a new more precise standard of time</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.034.jpeg" alt="where did the IAU get the time from?"/></p>
<p>the ephemeris second is based on an astronomical ephemeris, which is a
mathematical model of the solar system</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.035.jpeg" alt="tables of the motion of the earth on its axis and around the sun"/></p>
<p>the standard ephemeris was produced by Simon Newcomb in the late 1800s</p>
<p>he collected a vast amount of historical astronomical data to create
his mathematical model</p>
<p>it remained the standard until the mid 1980s</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.036.jpeg" alt="Simon Newcomb"/></p>
<p>here’s a picture of Simon Newcomb</p>
<p>he is a fine-looking Victorian gentleman</p>
<p>where did he work?</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.037.jpeg" alt="the USNO main building"/></p>
<p>at the US naval observatory!</p>
<p>(and the US nautical almanac office)</p>
<hr/>
<p><img src="https://dotat.at/@/2023-04-whence-time.038.jpeg" alt="the Royal Greenwich Observatory"/></p>
<p>I have now run out of layers: before this point, clocks were set more
straightforwardly by watching stars cross the sky</p>
<p>so, to summarise my talk, where does my computer get the time from?</p>
<p>it does <em>not</em> get it from the Royal Greenwich Observatory!</p>

</div></div>
  </body>
</html>
