<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Cinnamon/kotaemon">Original</a>
    <h1>Kotaemon: An open-source RAG-based tool for chatting with your documents</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">


<p dir="auto">This project serves as a functional RAG UI for both end users who want to do QA on their
documents and developers who want to build their own RAG pipeline.
<br/></p>
<div dir="auto" data-snippet-clipboard-copy-content="+----------------------------------------------------------------------------+
| End users: Those who use apps built with `kotaemon`.                       |
| (You use an app like the one in the demo above)                            |
|     +----------------------------------------------------------------+     |
|     | Developers: Those who built with `kotaemon`.                   |     |
|     | (You have `import kotaemon` somewhere in your project)         |     |
|     |     +----------------------------------------------------+     |     |
|     |     | Contributors: Those who make `kotaemon` better.    |     |     |
|     |     | (You make PR to this repo)                         |     |     |
|     |     +----------------------------------------------------+     |     |
|     +----------------------------------------------------------------+     |
+----------------------------------------------------------------------------+"><pre><span>+----------------------------------------------------------------------------+</span>
<span>| End users</span>: <span>Those who use apps built with `kotaemon`.                       |</span>
<span>| (You use an app like the one in the demo above)                            |</span>
<span>|     +----------------------------------------------------------------+     |</span>
<span>|     | Developers</span>: <span>Those who built with `kotaemon`.                   |     |</span>
<span>|     | (You have `import kotaemon` somewhere in your project)         |     |</span>
<span>|     |     +----------------------------------------------------+     |     |</span>
<span>|     |     | Contributors</span>: <span>Those who make `kotaemon` better.    |     |     |</span>
<span>|     |     | (You make PR to this repo)                         |     |     |</span>
<span>|     |     +----------------------------------------------------+     |     |</span>
<span>|     +----------------------------------------------------------------+     |</span>
<span>+----------------------------------------------------------------------------+</span></pre></div>

<ul dir="auto">
<li><strong>Clean &amp; Minimalistic UI</strong>: A user-friendly interface for RAG-based QA.</li>
<li><strong>Support for Various LLMs</strong>: Compatible with LLM API providers (OpenAI, AzureOpenAI, Cohere, etc.) and local LLMs (via <code>ollama</code> and <code>llama-cpp-python</code>).</li>
<li><strong>Easy Installation</strong>: Simple scripts to get you started quickly.</li>
</ul>

<ul dir="auto">
<li><strong>Framework for RAG Pipelines</strong>: Tools to build your own RAG-based document QA pipeline.</li>
<li><strong>Customizable UI</strong>: See your RAG pipeline in action with the provided UI, built with <a href="https://github.com/gradio-app/gradio">Gradio <img src="https://camo.githubusercontent.com/0aad2cc35d9b929ec7344ece3bbe7884c9618b501d29c029fffc324932e3f50d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f67726164696f2d6170702f67726164696f" data-canonical-src="https://img.shields.io/github/stars/gradio-app/gradio"/></a>.</li>
<li><strong>Gradio Theme</strong>: If you use Gradio for development, check out our theme here: <a href="https://github.com/lone17/kotaemon-gradio-theme">kotaemon-gradio-theme</a>.</li>
</ul>

<ul dir="auto">
<li>
<p dir="auto"><strong>Host your own document QA (RAG) web-UI</strong>: Support multi-user login, organize your files in private/public collections, collaborate and share your favorite chat with others.</p>
</li>
<li>
<p dir="auto"><strong>Organize your LLM &amp; Embedding models</strong>: Support both local LLMs &amp; popular API providers (OpenAI, Azure, Ollama, Groq).</p>
</li>
<li>
<p dir="auto"><strong>Hybrid RAG pipeline</strong>: Sane default RAG pipeline with hybrid (full-text &amp; vector) retriever and re-ranking to ensure best retrieval quality.</p>
</li>
<li>
<p dir="auto"><strong>Multi-modal QA support</strong>: Perform Question Answering on multiple documents with figures and tables support. Support multi-modal document parsing (selectable options on UI).</p>
</li>
<li>
<p dir="auto"><strong>Advanced citations with document preview</strong>: By default the system will provide detailed citations to ensure the correctness of LLM answers. View your citations (incl. relevant score) directly in the <em>in-browser PDF viewer</em> with highlights. Warning when retrieval pipeline return low relevant articles.</p>
</li>
<li>
<p dir="auto"><strong>Support complex reasoning methods</strong>: Use question decomposition to answer your complex/multi-hop question. Support agent-based reasoning with <code>ReAct</code>, <code>ReWOO</code> and other agents.</p>
</li>
<li>
<p dir="auto"><strong>Configurable settings UI</strong>: You can adjust most important aspects of retrieval &amp; generation process on the UI (incl. prompts).</p>
</li>
<li>
<p dir="auto"><strong>Extensible</strong>: Being built on Gradio, you are free to customize or add any UI elements as you like. Also, we aim to support multiple strategies for document indexing &amp; retrieval. <code>GraphRAG</code> indexing pipeline is provided as an example.</p>
</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/preview.png"><img src="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/preview.png" alt="Preview"/></a></p>

<blockquote>
<p dir="auto">If you are not a developer and just want to use the app, please check out our easy-to-follow <a href="https://cinnamon.github.io/kotaemon/" rel="nofollow">User Guide</a>. Download the <code>.zip</code> file from the <a href="https://github.com/Cinnamon/kotaemon/releases/latest">latest release</a> to get all the newest features and bug fixes.</p>
</blockquote>

<ol dir="auto">
<li><a href="https://www.python.org/downloads/" rel="nofollow">Python</a> &gt;= 3.10</li>
<li><a href="https://www.docker.com/" rel="nofollow">Docker</a>: optional, if you <a href="#with-docker-recommended">install with Docker</a></li>
<li><a href="https://docs.unstructured.io/open-source/installation/full-installation#full-installation" rel="nofollow">Unstructured</a> if you want to process files other than <code>.pdf</code>, <code>.html</code>, <code>.mhtml</code>, and <code>.xlsx</code> documents. Installation steps differ depending on your operating system. Please visit the link and follow the specific instructions provided there.</li>
</ol>
<div dir="auto"><h3 tabindex="-1" dir="auto">With Docker (recommended)</h3><a id="user-content-with-docker-recommended" aria-label="Permalink: With Docker (recommended)" href="#with-docker-recommended"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>
<p dir="auto">We support both <code>lite</code> &amp; <code>full</code> version of Docker images. With <code>full</code>, the extra packages of <code>unstructured</code> will be installed as well, it can support additional file types (<code>.doc</code>, <code>.docx</code>, ...) but the cost is larger docker image size. For most users, the <code>lite</code> image should work well in most cases.</p>
<ul dir="auto">
<li>
<p dir="auto">To use the <code>lite</code> version.</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker run \
-e GRADIO_SERVER_NAME=0.0.0.0 \
-e GRADIO_SERVER_PORT=7860 \
-p 7860:7860 -it --rm \
ghcr.io/cinnamon/kotaemon:main-lite"><pre>docker run \
-e GRADIO_SERVER_NAME=0.0.0.0 \
-e GRADIO_SERVER_PORT=7860 \
-p 7860:7860 -it --rm \
ghcr.io/cinnamon/kotaemon:main-lite</pre></div>
</li>
<li>
<p dir="auto">To use the <code>full</code> version.</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker run \
-e GRADIO_SERVER_NAME=0.0.0.0 \
-e GRADIO_SERVER_PORT=7860 \
-p 7860:7860 -it --rm \
ghcr.io/cinnamon/kotaemon:main-full"><pre>docker run \
-e GRADIO_SERVER_NAME=0.0.0.0 \
-e GRADIO_SERVER_PORT=7860 \
-p 7860:7860 -it --rm \
ghcr.io/cinnamon/kotaemon:main-full</pre></div>
</li>
</ul>
</li>
<li>
<p dir="auto">We currently support and test two platforms: <code>linux/amd64</code> and <code>linux/arm64</code> (for newer Mac). You can specify the platform by passing <code>--platform</code> in the <code>docker run</code> command. For example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# To run docker with platform linux/arm64
docker run \
-e GRADIO_SERVER_NAME=0.0.0.0 \
-e GRADIO_SERVER_PORT=7860 \
-p 7860:7860 -it --rm \
--platform linux/arm64 \
ghcr.io/cinnamon/kotaemon:main-lite"><pre><span><span>#</span> To run docker with platform linux/arm64</span>
docker run \
-e GRADIO_SERVER_NAME=0.0.0.0 \
-e GRADIO_SERVER_PORT=7860 \
-p 7860:7860 -it --rm \
--platform linux/arm64 \
ghcr.io/cinnamon/kotaemon:main-lite</pre></div>
</li>
<li>
<p dir="auto">Once everything is set up correctly, you can go to <code>http://localhost:7860/</code> to access the WebUI.</p>
</li>
<li>
<p dir="auto">We use <a href="https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry">GHCR</a> to store docker images, all images can be found <a href="https://github.com/Cinnamon/kotaemon/pkgs/container/kotaemon">here.</a></p>
</li>
</ol>

<ol dir="auto">
<li>
<p dir="auto">Clone and install required packages on a fresh python environment.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# optional (setup env)
conda create -n kotaemon python=3.10
conda activate kotaemon

# clone this repo
git clone https://github.com/Cinnamon/kotaemon
cd kotaemon

pip install -e &#34;libs/kotaemon[all]&#34;
pip install -e &#34;libs/ktem&#34;"><pre><span><span>#</span> optional (setup env)</span>
conda create -n kotaemon python=3.10
conda activate kotaemon

<span><span>#</span> clone this repo</span>
git clone https://github.com/Cinnamon/kotaemon
<span>cd</span> kotaemon

pip install -e <span><span>&#34;</span>libs/kotaemon[all]<span>&#34;</span></span>
pip install -e <span><span>&#34;</span>libs/ktem<span>&#34;</span></span></pre></div>
</li>
<li>
<p dir="auto">Create a <code>.env</code> file in the root of this project. Use <code>.env.example</code> as a template</p>
<p dir="auto">The <code>.env</code> file is there to serve use cases where users want to pre-config the models before starting up the app (e.g. deploy the app on HF hub). The file will only be used to populate the db once upon the first run, it will no longer be used in consequent runs.</p>
</li>
<li>
<p dir="auto">(Optional) To enable in-browser <code>PDF_JS</code> viewer, download <a href="https://github.com/mozilla/pdf.js/releases/download/v4.0.379/pdfjs-4.0.379-dist.zip">PDF_JS_DIST</a> then extract it to <code>libs/ktem/ktem/assets/prebuilt</code></p>
</li>
</ol>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/pdf-viewer-setup.png"><img src="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/pdf-viewer-setup.png" alt="pdf-setup" width="300"/></a></p>
<ol start="4" dir="auto">
<li>
<p dir="auto">Start the web server:</p>

<ul dir="auto">
<li>The app will be automatically launched in your browser.</li>
<li>Default username and password are both <code>admin</code>. You can set up additional users directly through the UI.</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/chat-tab.png"><img src="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/chat-tab.png" alt="Chat tab"/></a></p>
</li>
<li>
<p dir="auto">Check the <code>Resources</code> tab and <code>LLMs and Embeddings</code> and ensure that your <code>api_key</code> value is set correctly from your <code>.env</code> file. If it is not set, you can set it there.</p>
</li>
</ol>

<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p dir="auto">Official MS GraphRAG indexing only works with OpenAI or Ollama API.
We recommend most users to use NanoGraphRAG implementation for straightforward integration with Kotaemon.</p>
</div>
<details>
<summary>Setup Nano GRAPHRAG</summary>
<ul dir="auto">
<li>Install nano-GraphRAG: <code>pip install nano-graphrag</code></li>
<li><code>nano-graphrag</code> install might introduce version conflicts, see <a href="https://github.com/Cinnamon/kotaemon/issues/440" data-hovercard-type="issue" data-hovercard-url="/Cinnamon/kotaemon/issues/440/hovercard">this issue</a>
<ul dir="auto">
<li>To quickly fix: <code>pip uninstall hnswlib chroma-hnswlib &amp;&amp; pip install chroma-hnswlib</code></li>
</ul>
</li>
<li>Launch Kotaemon with <code>USE_NANO_GRAPHRAG=true</code> environment variable.</li>
<li>Set your default LLM &amp; Embedding models in Resources setting and it will be recognized automatically from NanoGraphRAG.</li>
</ul>
</details>
<details>
<summary>Setup LIGHTRAG</summary>
<ul dir="auto">
<li>Install LightRAG: <code>pip install git+https://github.com/HKUDS/LightRAG.git</code></li>
<li><code>LightRAG</code> install might introduce version conflicts, see <a href="https://github.com/Cinnamon/kotaemon/issues/440" data-hovercard-type="issue" data-hovercard-url="/Cinnamon/kotaemon/issues/440/hovercard">this issue</a>
<ul dir="auto">
<li>To quickly fix: <code>pip uninstall hnswlib chroma-hnswlib &amp;&amp; pip install chroma-hnswlib</code></li>
</ul>
</li>
<li>Launch Kotaemon with <code>USE_LIGHTRAG=true</code> environment variable.</li>
<li>Set your default LLM &amp; Embedding models in Resources setting and it will be recognized automatically from LightRAG.</li>
</ul>
</details>
<details>
<summary>Setup MS GRAPHRAG</summary>
<ul dir="auto">
<li>
<p dir="auto"><strong>Non-Docker Installation</strong>: If you are not using Docker, install GraphRAG with the following command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pip install &#34;graphrag&lt;=0.3.6&#34; future"><pre>pip install <span><span>&#34;</span>graphrag&lt;=0.3.6<span>&#34;</span></span> future</pre></div>
</li>
<li>
<p dir="auto"><strong>Setting Up API KEY</strong>: To use the GraphRAG retriever feature, ensure you set the <code>GRAPHRAG_API_KEY</code> environment variable. You can do this directly in your environment or by adding it to a <code>.env</code> file.</p>
</li>
<li>
<p dir="auto"><strong>Using Local Models and Custom Settings</strong>: If you want to use GraphRAG with local models (like <code>Ollama</code>) or customize the default LLM and other configurations, set the <code>USE_CUSTOMIZED_GRAPHRAG_SETTING</code> environment variable to true. Then, adjust your settings in the <code>settings.yaml.example</code> file.</p>
</li>
</ul>
</details>
<div dir="auto"><h3 tabindex="-1" dir="auto">Setup Local Models (for local/private RAG)</h3><a id="user-content-setup-local-models-for-localprivate-rag" aria-label="Permalink: Setup Local Models (for local/private RAG)" href="#setup-local-models-for-localprivate-rag"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">See <a href="https://words.filippo.io/Cinnamon/kotaemon/blob/main/docs/local_model.md">Local model setup</a>.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Setup multimodal document parsing (OCR, table parsing, figure extraction)</h3><a id="user-content-setup-multimodal-document-parsing-ocr-table-parsing-figure-extraction" aria-label="Permalink: Setup multimodal document parsing (OCR, table parsing, figure extraction)" href="#setup-multimodal-document-parsing-ocr-table-parsing-figure-extraction"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">These options are available:</p>
<ul dir="auto">
<li><a href="https://azure.microsoft.com/en-us/products/ai-services/ai-document-intelligence" rel="nofollow">Azure Document Intelligence (API)</a></li>
<li><a href="https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/" rel="nofollow">Adobe PDF Extract (API)</a></li>
<li><a href="https://github.com/DS4SD/docling">Docling (local, open-source)</a>
<ul dir="auto">
<li>To use Docling, first install required dependencies: <code>pip install docling</code></li>
</ul>
</li>
</ul>
<p dir="auto">Select corresponding loaders in <code>Settings -&gt; Retrieval Settings -&gt; File loader</code></p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Customize your application</h3><a id="user-content-customize-your-application" aria-label="Permalink: Customize your application" href="#customize-your-application"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">By default, all application data is stored in the <code>./ktem_app_data</code> folder. You can back up or copy this folder to transfer your installation to a new machine.</p>
</li>
<li>
<p dir="auto">For advanced users or specific use cases, you can customize these files:</p>
<ul dir="auto">
<li><code>flowsettings.py</code></li>
<li><code>.env</code></li>
</ul>
</li>
</ul>

<p dir="auto">This file contains the configuration of your application. You can use the example
<a href="https://words.filippo.io/Cinnamon/kotaemon/blob/main/flowsettings.py">here</a> as the starting point.</p>
<details>
<summary>Notable settings</summary>
<div dir="auto" data-snippet-clipboard-copy-content="# setup your preferred document store (with full-text search capabilities)
KH_DOCSTORE=(Elasticsearch | LanceDB | SimpleFileDocumentStore)

# setup your preferred vectorstore (for vector-based search)
KH_VECTORSTORE=(ChromaDB | LanceDB | InMemory | Qdrant)

# Enable / disable multimodal QA
KH_REASONINGS_USE_MULTIMODAL=True

# Setup your new reasoning pipeline or modify existing one.
KH_REASONINGS = [
    &#34;ktem.reasoning.simple.FullQAPipeline&#34;,
    &#34;ktem.reasoning.simple.FullDecomposeQAPipeline&#34;,
    &#34;ktem.reasoning.react.ReactAgentPipeline&#34;,
    &#34;ktem.reasoning.rewoo.RewooAgentPipeline&#34;,
]"><pre><span># setup your preferred document store (with full-text search capabilities)</span>
<span>KH_DOCSTORE</span><span>=</span>(<span>Elasticsearch</span> <span>|</span> <span>LanceDB</span> <span>|</span> <span>SimpleFileDocumentStore</span>)

<span># setup your preferred vectorstore (for vector-based search)</span>
<span>KH_VECTORSTORE</span><span>=</span>(<span>ChromaDB</span> <span>|</span> <span>LanceDB</span> <span>|</span> <span>InMemory</span> <span>|</span> <span>Qdrant</span>)

<span># Enable / disable multimodal QA</span>
<span>KH_REASONINGS_USE_MULTIMODAL</span><span>=</span><span>True</span>

<span># Setup your new reasoning pipeline or modify existing one.</span>
<span>KH_REASONINGS</span> <span>=</span> [
    <span>&#34;ktem.reasoning.simple.FullQAPipeline&#34;</span>,
    <span>&#34;ktem.reasoning.simple.FullDecomposeQAPipeline&#34;</span>,
    <span>&#34;ktem.reasoning.react.ReactAgentPipeline&#34;</span>,
    <span>&#34;ktem.reasoning.rewoo.RewooAgentPipeline&#34;</span>,
]</pre></div>
</details>

<p dir="auto">This file provides another way to configure your models and credentials.</p>
<details>
<summary>Configure model via the .env file</summary>
<ul dir="auto">
<li>
<p dir="auto">Alternatively, you can configure the models via the <code>.env</code> file with the information needed to connect to the LLMs. This file is located in the folder of the application. If you don&#39;t see it, you can create one.</p>
</li>
<li>
<p dir="auto">Currently, the following providers are supported:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>OpenAI</strong></p>
<p dir="auto">In the <code>.env</code> file, set the <code>OPENAI_API_KEY</code> variable with your OpenAI API key in order
to enable access to OpenAI&#39;s models. There are other variables that can be modified,
please feel free to edit them to fit your case. Otherwise, the default parameter should
work for most people.</p>
<div dir="auto" data-snippet-clipboard-copy-content="OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_API_KEY=&lt;your OpenAI API key here&gt;
OPENAI_CHAT_MODEL=gpt-3.5-turbo
OPENAI_EMBEDDINGS_MODEL=text-embedding-ada-002"><pre>OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_API_KEY=<span>&lt;</span>your OpenAI API key here<span>&gt;</span>
OPENAI_CHAT_MODEL=gpt-3.5-turbo
OPENAI_EMBEDDINGS_MODEL=text-embedding-ada-002</pre></div>
</li>
<li>
<p dir="auto"><strong>Azure OpenAI</strong></p>
<p dir="auto">For OpenAI models via Azure platform, you need to provide your Azure endpoint and API
key. Your might also need to provide your developments&#39; name for the chat model and the
embedding model depending on how you set up Azure development.</p>
<div dir="auto" data-snippet-clipboard-copy-content="AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-35-turbo
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT=text-embedding-ada-002"><pre>AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-35-turbo
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT=text-embedding-ada-002</pre></div>
</li>
<li>
<p dir="auto"><strong>Local Models</strong></p>
<ul dir="auto">
<li>
<p dir="auto">Using <code>ollama</code> OpenAI compatible server:</p>
<ul dir="auto">
<li>
<p dir="auto">Install <a href="https://github.com/ollama/ollama">ollama</a> and start the application.</p>
</li>
<li>
<p dir="auto">Pull your model, for example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ollama pull llama3.1:8b
ollama pull nomic-embed-text"><pre>ollama pull llama3.1:8b
ollama pull nomic-embed-text</pre></div>
</li>
<li>
<p dir="auto">Set the model names on web UI and make it as default:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/models.png"><img src="https://raw.githubusercontent.com/Cinnamon/kotaemon/main/docs/images/models.png" alt="Models"/></a></p>
</li>
</ul>
</li>
<li>
<p dir="auto">Using <code>GGUF</code> with <code>llama-cpp-python</code></p>
<p dir="auto">You can search and download a LLM to be ran locally from the <a href="https://huggingface.co/models" rel="nofollow">Hugging Face Hub</a>. Currently, these model formats are supported:</p>
<ul dir="auto">
<li>
<p dir="auto">GGUF</p>
<p dir="auto">You should choose a model whose size is less than your device&#39;s memory and should leave
about 2 GB. For example, if you have 16 GB of RAM in total, of which 12 GB is available,
then you should choose a model that takes up at most 10 GB of RAM. Bigger models tend to
give better generation but also take more processing time.</p>
<p dir="auto">Here are some recommendations and their size in memory:</p>
</li>
<li>
<p dir="auto"><a href="https://huggingface.co/Qwen/Qwen1.5-1.8B-Chat-GGUF/resolve/main/qwen1_5-1_8b-chat-q8_0.gguf?download=true" rel="nofollow">Qwen1.5-1.8B-Chat-GGUF</a>: around 2 GB</p>
<p dir="auto">Add a new LlamaCpp model with the provided model name on the web UI.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li></ul></details>


<div dir="auto"><h3 tabindex="-1" dir="auto">Adding your own RAG pipeline</h3><a id="user-content-adding-your-own-rag-pipeline" aria-label="Permalink: Adding your own RAG pipeline" href="#adding-your-own-rag-pipeline"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Custom Reasoning Pipeline</h4><a id="user-content-custom-reasoning-pipeline" aria-label="Permalink: Custom Reasoning Pipeline" href="#custom-reasoning-pipeline"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>Check the default pipeline implementation in <a href="https://words.filippo.io/Cinnamon/kotaemon/blob/main/libs/ktem/ktem/reasoning/simple.py">here</a>. You can make quick adjustment to how the default QA pipeline work.</li>
<li>Add new <code>.py</code> implementation in <code>libs/ktem/ktem/reasoning/</code> and later include it in <code>flowssettings</code> to enable it on the UI.</li>
</ol>

<ul dir="auto">
<li>Check sample implementation in <code>libs/ktem/ktem/index/file/graph</code></li>
</ul>
<blockquote>
<p dir="auto">(more instruction WIP).</p>
</blockquote>


<p dir="auto">Please cite this project as</p>
<div dir="auto" data-snippet-clipboard-copy-content="@misc{kotaemon2024,
    title = {Kotaemon - An open-source RAG-based tool for chatting with any content.},
    author = {The Kotaemon Team},
    year = {2024},
    howpublished = {\url{https://github.com/Cinnamon/kotaemon}},
}"><pre><span>@misc</span>{<span>kotaemon2024</span>,
    <span>title</span> = <span><span>{</span>Kotaemon - An open-source RAG-based tool for chatting with any content.<span>}</span></span>,
    <span>author</span> = <span><span>{</span>The Kotaemon Team<span>}</span></span>,
    <span>year</span> = <span><span>{</span>2024<span>}</span></span>,
    <span>howpublished</span> = <span><span>{</span>\url{https://github.com/Cinnamon/kotaemon}<span>}</span></span>,
}</pre></div>

<a href="https://star-history.com/#Cinnamon/kotaemon&amp;Date" rel="nofollow">
 <themed-picture data-catalyst-inline="true"><picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://camo.githubusercontent.com/d6e6c5960af197ed61e6044420334d16442c6cb52fa2158e4b73011bba8b0401/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d43696e6e616d6f6e2f6b6f7461656d6f6e26747970653d44617465267468656d653d6461726b" data-canonical-src="https://api.star-history.com/svg?repos=Cinnamon/kotaemon&amp;type=Date&amp;theme=dark"/>
   <source media="(prefers-color-scheme: light)" srcset="https://camo.githubusercontent.com/e6f13a803d251249632a5197bd7999214046b0c7674468eb1566c2211d4a13d9/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d43696e6e616d6f6e2f6b6f7461656d6f6e26747970653d44617465" data-canonical-src="https://api.star-history.com/svg?repos=Cinnamon/kotaemon&amp;type=Date"/>
   <img alt="Star History Chart" src="https://camo.githubusercontent.com/e6f13a803d251249632a5197bd7999214046b0c7674468eb1566c2211d4a13d9/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d43696e6e616d6f6e2f6b6f7461656d6f6e26747970653d44617465" data-canonical-src="https://api.star-history.com/svg?repos=Cinnamon/kotaemon&amp;type=Date"/>
 </picture></themed-picture>
</a>

<p dir="auto">Since our project is actively being developed, we greatly value your feedback and contributions. Please see our <a href="https://github.com/Cinnamon/kotaemon/blob/main/CONTRIBUTING.md">Contributing Guide</a> to get started. Thank you to all our contributors!</p>
<a href="https://github.com/Cinnamon/kotaemon/graphs/contributors">
  <img src="https://camo.githubusercontent.com/da2a9847dfe9724f21bfd485cc9180cd8247fa9d01fb849ae1f3724d8c7b7a93/68747470733a2f2f636f6e747269622e726f636b732f696d6167653f7265706f3d43696e6e616d6f6e2f6b6f7461656d6f6e" data-canonical-src="https://contrib.rocks/image?repo=Cinnamon/kotaemon"/>
</a>
</article></div></div>
  </body>
</html>
