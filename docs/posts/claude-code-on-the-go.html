<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://granda.org/en/2026/01/02/claude-code-on-the-go/">Original</a>
    <h1>Claude Code On-the-Go</h1>
    
    <div id="readability-page-1" class="page"><article><p>I run six Claude Code agents in parallel from my phone. No laptop, no desktop—just Termius on iOS and a cloud VM.</p><h2 id="the-setup">The Setup</h2><pre tabindex="0"><code data-lang="mermaid">flowchart LR
    A[Phone] --&gt;|Termius + mosh| B[Tailscale VPN]
    B --&gt; C[Vultr VM]
    C --&gt; D[Claude Code]
    D --&gt;|PreToolUse hook| E[Poke webhook]
    E --&gt;|Push notification| A
</code></pre><p>The loop is: kick off a task, pocket the phone, get notified when Claude needs input. Async development from anywhere.</p><h2 id="infrastructure">Infrastructure</h2><p>A Vultr VM in Silicon Valley:</p><table><thead><tr><th>Spec</th><th>Value</th></tr></thead><tbody><tr><td>Instance</td><td>vhf-8c-32gb</td></tr><tr><td>Cost</td><td>$0.29/hr (~$7/day when running)</td></tr><tr><td>Access</td><td>Tailscale-only (no public SSH)</td></tr></tbody></table><p>I pay only when working. Two scripts handle lifecycle:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>vm-start   <span># Start VM, wait for Tailscale, connect via mosh</span>
</span></span><span><span>vm-stop    <span># Halt VM</span>
</span></span></code></pre></div><p>I also have an iOS Shortcut that calls the Vultr API directly—start the VM from my phone before I even open Termius.</p><p>The VM’s public IP has no SSH listener. All access goes through Tailscale’s private network. Defense in depth: cloud firewall blocks everything except Tailscale coordination, local nftables as backup, fail2ban for good measure.</p><h2 id="mobile-terminal">Mobile Terminal</h2><p>Termius handles SSH and mosh on iOS/Android. Mosh is the key—it survives network transitions. Switch from WiFi to cellular, walk through a dead zone, put the phone to sleep. The connection persists.</p><p>One gotcha: mosh doesn’t forward SSH agent. For git operations that need GitHub auth, I use regular SSH inside tmux.</p><h2 id="session-persistence">Session Persistence</h2><p>The shell auto-attaches to tmux on login. Close Termius, reopen hours later, everything’s still there.</p><div><pre tabindex="0"><code data-lang="bash"><span><span><span># In .zshrc</span>
</span></span><span><span><span>if</span> <span>[[</span> -z <span>&#34;</span><span>$TMUX</span><span>&#34;</span> <span>]]</span><span>;</span> <span>then</span>
</span></span><span><span>    tmux attach -t main 2&gt;/dev/null <span>||</span> tmux new -s main
</span></span><span><span><span>fi</span>
</span></span></code></pre></div><p>Multiple Claude agents run in parallel windows. <code>C-a c</code> for new window, <code>C-a n</code> to cycle. Works well on a phone keyboard.</p><h2 id="push-notifications">Push Notifications</h2><p>This is what makes mobile development practical. Without notifications, you’d constantly check the terminal. With them, you can walk away.</p><p>The hook in <code>~/.claude/settings.json</code>:</p><div><pre tabindex="0"><code data-lang="json"><span><span><span>{</span>
</span></span><span><span>  <span>&#34;hooks&#34;</span><span>:</span> <span>{</span>
</span></span><span><span>    <span>&#34;PreToolUse&#34;</span><span>:</span> <span>[{</span>
</span></span><span><span>      <span>&#34;matcher&#34;</span><span>:</span> <span>&#34;AskUserQuestion&#34;</span><span>,</span>
</span></span><span><span>      <span>&#34;hooks&#34;</span><span>:</span> <span>[{</span>
</span></span><span><span>        <span>&#34;type&#34;</span><span>:</span> <span>&#34;command&#34;</span><span>,</span>
</span></span><span><span>        <span>&#34;command&#34;</span><span>:</span> <span>&#34;~/.claude/hooks/poke-notify.sh question&#34;</span>
</span></span><span><span>      <span>}]</span>
</span></span><span><span>    <span>}]</span>
</span></span><span><span>  <span>}</span>
</span></span><span><span><span>}</span>
</span></span></code></pre></div><p>When Claude calls <code>AskUserQuestion</code>, the hook fires. A simple script extracts the question and POSTs to Poke’s webhook:</p><div><pre tabindex="0"><code data-lang="bash"><span><span><span>QUESTION</span><span>=</span><span>$(</span><span>echo</span> <span>&#34;</span><span>$EVENT_DATA</span><span>&#34;</span> <span>|</span> jq -r <span>&#39;.tool_input.questions[0].question&#39;</span><span>)</span>
</span></span><span><span><span>MESSAGE</span><span>=</span><span>&#34;</span><span>$PROJECT_NAME</span><span>: Claude needs input - </span><span>$QUESTION</span><span>&#34;</span>
</span></span><span><span>curl -X POST <span>&#34;</span><span>$API_URL</span><span>&#34;</span> -d <span>&#34;{\&#34;message\&#34;: \&#34;</span><span>$MESSAGE</span><span>\&#34;}&#34;</span>
</span></span></code></pre></div><p>Phone buzzes. Notification shows the question. Tap, respond, continue.</p><h2 id="trust-model">Trust Model</h2><p>I run Claude Code in permissive mode. The VM is isolated—no access to production systems, no secrets beyond what’s needed for development. Worst case: Claude does something unexpected on a disposable VM.</p><p>Cost control adds another layer. The VM costs $0.29/hr. Even if something runs away, the daily cap is bounded.</p><h2 id="parallel-development">Parallel Development</h2><p>Git worktrees let me run multiple features simultaneously:</p><pre tabindex="0"><code>~/Code/myproject/              # main
~/Code/myproject-sidebar/      # feature branch
~/Code/myproject-dark-mode/    # another feature
</code></pre><p>Each worktree gets its own tmux window with a Claude agent. Port allocation is hash-based—deterministic from branch name, no conflicts:</p><div><pre tabindex="0"><code data-lang="python"><span><span><span>hash_val</span> <span>=</span> <span>sum</span><span>(</span><span>ord</span><span>(</span><span>c</span><span>)</span> <span>for</span> <span>c</span> <span>in</span> <span>branch_name</span><span>)</span>
</span></span><span><span><span>django_port</span> <span>=</span> <span>8001</span> <span>+</span> <span>(</span><span>hash_val</span> <span>%</span> <span>99</span><span>)</span>
</span></span></code></pre></div><p>Six agents, six features, one phone.</p><h2 id="what-this-enables">What This Enables</h2><p>Review PRs while waiting for coffee. Kick off a refactor on the train. Fix a bug from the couch while watching TV.</p><p>The pattern: start a task that will take Claude 10-20 minutes, do something else, get notified, respond, repeat. Development fits into the gaps of the day instead of requiring dedicated desk time.</p><h2 id="the-components">The Components</h2><table><thead><tr><th>Tool</th><th>Purpose</th></tr></thead><tbody><tr><td>Vultr</td><td>Cloud VM ($0.29/hr, pay-per-use)</td></tr><tr><td>Tailscale</td><td>Private network, secure access</td></tr><tr><td>Termius</td><td>iOS/Android SSH client</td></tr><tr><td>mosh</td><td>Network-resilient shell</td></tr><tr><td>tmux</td><td>Session persistence</td></tr><tr><td>Poke</td><td>Push notifications via webhook</td></tr><tr><td>Claude Code</td><td>The actual work</td></tr></tbody></table><p>The setup took one Claude Code session to build—gave it my Vultr API key and access to <code>gh</code>, asked for a secure dev VM. Now I code from my phone.</p></article></div>
  </body>
</html>
