<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://functionallyimperative.com/p/the-bigger-the-interface-the-weaker">Original</a>
    <h1>The bigger the interface, the weaker the abstraction</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div class=""><div><div dir="auto"><p>It’s really easy to put a lot of extra requirements as prerequisites for doing what we want to do. It might be tempting to make a contract with yourself that outlines the three, five, or even ten things you know you “should” be, bind them together, and carry them around. You might want to write a book, be a more patient parent, lose some weight, or get stronger. So you list all the things that the ideal version of yourself must have and a long list of things you must do. But to make any progress on your goal, you have the cognitive load of keeping track of all the requirements you’ve put on yourself. I speculate that this is why many New Year’s resolutions fail; the abstraction for building your future self is weak.</p><p>Let’s say you want to write a book. Before you get deep into the weeds of picking a publisher to pitch to and what your book cover might look like, let me ask you a question: Are you actually writing? </p><p><span>Writers write. </span></p><p>Instead of creating complex contracts with an outcome in mind, making tightly scoped contracts with yourself make it much easier to accomplish your goals.</p><p>Do you want to be a writer? It’s simple. Write. Want to be a runner? Run. Don’t worry about the outcome yet. Build a simple interface to engage in the activity you value, and then you can apply that action to what you want to accomplish. </p><p><span>Then you can pass this contract to what you want to </span><strong>do</strong><span> with that ability. The tighter the scope of abstraction of what you do, the more valuable it is as an approach to doing that thing. </span></p><p>I had two New Year’s resolutions this year, and I’ve stuck with both of them:</p><ul><li><p>Take an indefinite hiatus from drinking.</p></li><li><p>Get more sleep.</p></li></ul><p>I didn’t set up any fancy rules or prerequisites; I just made tightly scoped interfaces for engaging with both. When it came to being a NotDrinker, I had one task: NotDrink. When it came to being a Sleeper, my job was to Sleep.</p><p>No matter the situation, it made it simple, “I’m not drinking right now” is my answer to anything that requires me to weigh in on having a drink: no complex rules, just a simple interface to any situation involving alcohol. </p><p>When it comes to sleeping, I asked myself: what was getting in the way of my sleep? Alcohol was regularly getting in the way of the best sleep I could get, but luckily I already have an interface for dealing with that. I could try to go to bed earlier, but I’m a night owl, and that didn’t interest me. Instead, I quit going to my 5:30 AM workout classes, and I stopped using an alarm to wake up in the morning. Sleepers sleep.</p><p>These two simple actions have profoundly impacted me this year, and I think that has come down to how simple I’ve made my interface with both activities. </p><p>But what is all this talk about “narrowly scoped interfaces”? Well, I stole this idea from a talk given on a programming language in 2015.</p><p><span>I’ve been writing software in </span><a href="https://go.dev/" rel="">the Go Programming Language</a><span> since 2013.  After all these years, it is still my favorite programming language. What attracted me to the language was how easy it was to pick up and how productive I felt in it. But what made me fall in love with the language was the thoughtfulness that went into building the patterns and tools that make Go, “Go.”</span></p><p><span>In the mid-2010s </span><a href="https://en.wikipedia.org/wiki/Rob_Pike" rel="">Rob Pike</a><span>, one of the language creators (go was co-created by Rob Pike,  </span><a href="https://en.wikipedia.org/wiki/Robert_Griesemer" rel="">Robert Griesemer</a><span>, and </span><a href="https://en.wikipedia.org/wiki/Ken_Thompson" rel="">Ken Thompson</a><span>), was very active in giving talks about patterns and a concept core to Go. His talk </span><a href="https://www.youtube.com/watch?v=oV9rvDllKEg" rel="">Concurrency is not Parallelism</a><span> (2012) greatly impacted me when I first learned the language in 2013. But it was his 2015 talk, </span><a href="https://www.youtube.com/watch?v=PAAkCSZUG1c" rel="">Go Proverbs</a><span>, that had a lasting impact, not only on my approach to the language but to problem-solving in general. Rob Pike is a philosopher, and his words hold a lot of wisdom that I’ve had to sit and chew on over time to appreciate. </span></p><p><span>The Go Proverbs has </span><a href="https://go-proverbs.github.io/" rel="">its own website</a><span> to make it easy to read (each proverb links to the section in the original video). I have no intention of covering all of them, but I will cover my favorites over time.</span></p><p><span>In the</span><a href="https://go.dev/" rel=""> </a><span>Go, interfaces are a way of abstracting a contract for what something </span><strong>does</strong><span> without knowing what that thing </span><strong>is</strong><span>. If I were to graph the size of the interface with the strength of its abstraction, it would look like the example below.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg" width="1299" height="976" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:976,&#34;width&#34;:1299,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:229615,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/jpeg&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9be6fc96-97a5-4e63-87e8-4785dad25b99_1299x976.jpeg 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>Interfaces are an essential concept in go, and they can seem a bit abstract and paradoxical, but when understood, they are powerful (and, I’d argue, beautiful).</p><p>You can think of an Interface in Go as a behavior contract. When you write code, you say, “I don’t know what you might give me, but as long as you meet my requirements, we’re good.” </p><p><span>So if you require an “empty” interface, you have zero requirements; you’ll take anything. This is another go proverb: </span><a href="https://www.youtube.com/watch?v=PAAkCSZUG1c&amp;t=456s" rel="">The empty interface says nothing</a><span>. </span></p><p><span>In modern go, the empty interface has a name: </span><strong>any</strong></p><pre><code>type any interface{}</code></pre><p>While this can be useful in its own right, it can also be easily misused and is something misused by many beginners in the language who write functions that are too permissive. </p><p><span>So you can </span><strong>fill</strong><span> interfaces with methods that put constraints on how the interface must behave. Methods are functions that are scoped to a type. A type is a description of the nature of a </span><strong>thing</strong><span>.  (If this seems obtuse, don’t worry, it’s pretty abstract, don’t worry, you can think of them as things you require your interface to do). So let’s make a verbose interface that describes what we expect an Author to do.</span></p><pre><code>type Author interface {
    Writer
    Marketer
    SignBook() string
    WriteBlurb() string
    Procrastinate() error
    Tweet(cleverIdea string) error
    SpeakWithPublisher()
    BrainStorm()
}</code></pre><p>The issue is that filling an interface up with a bunch of stuff makes the interface very cumbersome. Our Author interface comes with a lot of expectations and requirements. What happens if I’m an Author that doesn’t tweet? Or what if I don’t write blurbs for other books? This makes interacting with the Author cumbersome and unwieldy.</p><p><span>The sweet spot with an interface is a single-method interface. In Go, this relationship shows up beautifully in the </span><strong><a href="https://pkg.go.dev/io" rel="">io package</a></strong><span>. </span></p><pre><code>type Reader interface {
	Read(p []byte) (n int, err error)
}

type Writer interface {
	Write(p []byte) (n int, err error)
}</code></pre><p><span>The code snippets above are the real-world interfaces in Go, and these two interfaces are two of the most powerful interfaces in the entire language. What’s impressive about this is that you see things like </span><strong>io.Writer</strong><span> shows up everywhere, from Web servers to file systems. Because the Reader Reads and the Writer Writes, this “contract” context is super flexible. I can write code that expects a Writer to have this specific method without knowing </span><strong>what</strong><span> I might be writing to, which doesn’t matter. Maybe you are writing to a file, a fax machine, or instructions to the </span><a href="https://www.jwst.nasa.gov/" rel="">JWST</a><span>. </span></p><p data-attrs="{&#34;url&#34;:&#34;https://functionallyimperative.com/p/the-bigger-the-interface-the-weaker?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share&#34;,&#34;action&#34;:null,&#34;class&#34;:null}" data-component-name="ButtonCreateButton"><a href="https://functionallyimperative.com/p/the-bigger-the-interface-the-weaker?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p><p>I don’t know why it took me ten years to apply this little nugget of wisdom to my life more broadly, but I’m glad I did. Powerful ideas transcend mediums. </p><p>Give it a try in your life. How could you narrowly scope your interfaces so that you get more clarity, focus, and flexibility in your life?</p><div id="youtube2-PAAkCSZUG1c" data-attrs="{&#34;videoId&#34;:&#34;PAAkCSZUG1c&#34;,&#34;startTime&#34;:&#34;317s&#34;,&#34;endTime&#34;:null}" data-component-name="Youtube2ToDOM"><p><iframe src="https://www.youtube-nocookie.com/embed/PAAkCSZUG1c?start=317s&amp;rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0" frameborder="0" loading="lazy" gesture="media" allow="autoplay; fullscreen" allowautoplay="true" allowfullscreen="true" width="728" height="409"></iframe></p></div><p>Of course, the Gopherfest 2015 talk Go Proverbs has to be on the list. Lots of great stuff in here.</p><div id="youtube2-CdC1vrwvysU" data-attrs="{&#34;videoId&#34;:&#34;CdC1vrwvysU&#34;,&#34;startTime&#34;:null,&#34;endTime&#34;:null}" data-component-name="Youtube2ToDOM"><p><iframe src="https://www.youtube-nocookie.com/embed/CdC1vrwvysU?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0" frameborder="0" loading="lazy" gesture="media" allow="autoplay; fullscreen" allowautoplay="true" allowfullscreen="true" width="728" height="409"></iframe></p></div><p><span>You might have seen Marc Ribbellet’s video </span><a href="https://www.youtube.com/watch?v=enYdAxVcNZA" rel="">Your New Morning Alarm</a><span> 2 years ago, if you were lucky. Well, I stumbled on his live performances in random places and they are amazing. His interactions with folks is beautiful.</span></p></div></div></div></article></div></div></div>
  </body>
</html>
