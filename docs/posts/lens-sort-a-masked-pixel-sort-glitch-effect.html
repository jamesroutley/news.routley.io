<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/BernardZhao/lenssort">Original</a>
    <h1>Lens sort, a masked pixel sort glitch effect</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Using facial recognition and pixelsorting on images to create glitched, Snapchat-like lenses.</p>
<p dir="auto">Utilizes <a href="https://github.com/satyarth/pixelsort">pixelsort</a>, another project I am involved in. Make sure to check it out!</p>

<p dir="auto">With Docker:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/BernardZhao/lenssort.git
cd lenssort
docker-compose up
# Make sure to include the -o flag, previews won&#39;t show up in the container.
docker-compose run lenssort python -m lenssort examples/example1.jpg -m face -o example_result.png"><pre>git clone https://github.com/BernardZhao/lenssort.git
<span>cd</span> lenssort
docker-compose up
<span><span>#</span> Make sure to include the -o flag, previews won&#39;t show up in the container.</span>
docker-compose run lenssort python -m lenssort examples/example1.jpg -m face -o example_result.png</pre></div>
<p dir="auto">Manually:</p>
<p dir="auto">Requires Python 3.6 &gt;=.
Make sure you have <a href="https://gist.github.com/ageitgey/629d75c1baac34dfa5ca2a1928a7aeaf">dlib Python bindings</a> installed!</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/BernardZhao/lenssort.git
cd lenssort

# Can skip virtual environment if desired
python -m venv venv 
source venv/bin/activate

pip install -r requirements.txt

python -m lenssort %PathToImage% [mask_type] [params]"><pre>git clone https://github.com/BernardZhao/lenssort.git
<span>cd</span> lenssort

<span><span>#</span> Can skip virtual environment if desired</span>
python -m venv venv 
<span>source</span> venv/bin/activate

pip install -r requirements.txt

python -m lenssort %PathToImage% [mask_type] [params]</pre></div>

<table>
<thead>
<tr>
<th>Mask name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>eyes</code></td>
<td>Sort the eyes.</td>
</tr>
<tr>
<td><code>face</code></td>
<td>Sort the face, within the brows and chin.</td>
</tr>
<tr>
<td><code>shuffle</code></td>
<td>Sort a polygon randomly generated over facial features.</td>
</tr>
<tr>
<td><code>censored</code></td>
<td>Sort the eye area with a thick bar.</td>
</tr>
<tr>
<td><code>facemask</code></td>
<td>Sort the area of the face under the eyes.</td>
</tr>
<tr>
<td><code>tears</code></td>
<td>Sort tear-like lines below the eyes.</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Invert</td>
<td><code>-i</code></td>
<td>Inverts the mask. May produce cool results.</td>
</tr>
<tr>
<td>Angle</td>
<td><code>-a</code></td>
<td>Sorting angle. Overrides internal default for the mask.</td>
</tr>
<tr>
<td>Output path</td>
<td><code>-o</code></td>
<td>File output path. Previews image if not provided.</td>
</tr>
</tbody>
</table>

<p dir="auto"><code>python -m lenssort examples/example1.jpg -m face</code></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/BernardZhao/lenssort/blob/master/examples/results/example1_face.png"><img src="https://github.com/BernardZhao/lenssort/raw/master/examples/results/example1_face.png" alt="example1_face_i_a90"/></a></p>
<p dir="auto"><code>python -m lenssort examples/example1.jpg -m face -i -a 90</code></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/BernardZhao/lenssort/blob/master/examples/results/example1_face_i_a90.png"><img src="https://github.com/BernardZhao/lenssort/raw/master/examples/results/example1_face_i_a90.png" alt="example1_face_i_a90"/></a></p>
<p dir="auto"><code>python -m lenssort examples/example1.jpg -m eyes -i</code></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/BernardZhao/lenssort/blob/master/examples/results/example1_eyes_i.png"><img src="https://github.com/BernardZhao/lenssort/raw/master/examples/results/example1_eyes_i.png" alt="example1_eyes_i"/></a></p>
<p dir="auto"><code>python -m lenssort examples/example3.jpg -m facemask</code></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/BernardZhao/lenssort/blob/master/examples/results/example3_facemask.png"><img src="https://github.com/BernardZhao/lenssort/raw/master/examples/results/example3_facemask.png" alt="example1_eyes_i"/></a></p>
<p dir="auto"><code>python -m lenssort examples/example3.jpg -m shuffle</code></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/BernardZhao/lenssort/blob/master/examples/results/example3_shuffle.png"><img src="https://github.com/BernardZhao/lenssort/raw/master/examples/results/example3_shuffle.png" alt="example1_eyes_i"/></a></p>
<p dir="auto"><code>python -m lenssort examples/example2.jpg -m censored</code></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/BernardZhao/lenssort/blob/master/examples/results/example2_censored.png"><img src="https://github.com/BernardZhao/lenssort/raw/master/examples/results/example2_censored.png" alt="example1_eyes_i"/></a></p>

<ul>
<li> Expose pixelsort args: sorting function, interval function, etc.</li>
<li> Validate mask: No out of bounds</li>
<li> Mask compositions: Ex: (face - eyes + ...)</li>
</ul>
<p dir="auto">And more masks ofc ðŸ˜ª</p>
</article></div></div>
  </body>
</html>
