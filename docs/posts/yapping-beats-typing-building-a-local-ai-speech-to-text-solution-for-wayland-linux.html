<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bugwhisperer.dev/blog/murmur-yapping-beats-typing/">Original</a>
    <h1>Yapping Beats Typing: Building a Local AI Speech-to-Text Solution for Wayland Linux</h1>
    
    <div id="readability-page-1" class="page"><div id="main-content"><p><span><a href="https://www.anthropic.com/tags/local-ai">local-AI</a></span> <span><a href="https://www.anthropic.com/tags/accessibility">accessibility</a></span> <span><a href="https://www.anthropic.com/tags/os">os</a></span> <span><a href="https://www.anthropic.com/tags/clang">clang</a></span></p><hr/><blockquote><span>&#34;</span>If a machine can think, it might think more intelligently than we do, and then where should we be?&#34;</blockquote><hr/><p>I have a dark secret to confess. I never learned to touch type properly despite computer classes in grade school requiring it and a long career working with <del>magic boxes</del> computers.</p><p>My fingers just can‚Äôt seem to work with the keyboard in the ‚Äúproper‚Äù home row way of typing. I have a Frankenstein-like system, wherein most letters are typed by my left hand, leaving my right to handle punctuation, return and a few letters. Just enough muscle memory to be dangerous, with a need to keep glancing at the keyboard periodically, and yet fast enough that I don‚Äôt feel compelled to fix it, but slow enough that extended writing sessions leave me frustrated and fatigued. Error-prone typing turns what should be quick note-taking into a slog of backspacing and retyping.</p><p>My interest was piqued when I read <a href="https://hamy.xyz/blog/2026-01_speech-to-text-fedora" rel="noopener" target="_blank">a great post</a> last week. Hamilton, the author, was trying to run speech-to-text(STT) on Fedora Linux. He wanted a better, faster way to get words from their brain into their computer. It made sense! Because, for most of us, we can talk faster than we can type. Their solution worked by leveraging Google Docs, enabling dictation with a shortcut, speaking their thoughts, then copy-pasting the results wherever they actually needed them. They concluded by saying they‚Äôd love a proper local-first solution that could output text directly at their cursor, but hadn‚Äôt found one yet and weren‚Äôt quite ready to build it themselves. They had articulated exactly what I needed, but unfortunately their workaround would never work for me, having no Google account. Surely someone had solved this for Linux?!</p><span id="continue-reading"></span><p>After a bit of digging around I found <a href="https://github.com/cjams/whispertux" rel="noopener" target="_blank">WhisperTux</a>. It was soooo dang close to what I wanted and needed. A local Whisper model handled the transcription via whisper.cpp for the STT engine. This meant:</p><ol><li>my data was private (I didn‚Äôt want my random thoughts on OpenAI‚Äôs or any other server)</li><li>no internet dependency (I pay for bandwidth usage where I live and try to minimize use)</li></ol><p>I installed it, set it up and tested it. It was simple to set up and was a matter of making a pyenv environment to install everything in and downloading a local AI model. I ended up settling on the <a href="https://huggingface.co/openai/whisper-small" rel="noopener" target="_blank">Whisper Small model</a> after trying a few other sizes. It seemed like a good mix between speed transcription and accuracy. For a brief moment I thought my search was over.</p><p>Cracks appeared once I stopped working with the GUI. The Sway Wayland clipboard integration was broken, so I had to copy/paste to where I need it. Not a total deal-breaker, but super annoying as someone who lives and works in terminal and CLI interfaces. It did prove that local STT works on Linux though, which was huge!</p><p>Whisper.cpp, the engine used by WhisperTux, was pretty straightforward seeming. As I read through its documentation I couldn‚Äôt help but wonder if I stripped away the Python scaffolding and built something simpler to interact with it and also with Wayland? A small, focused C program that tied directly into whisper.cpp without the baggage. ü§î Something that fit into my non-GUI based setup, yet still could work for folks that use and love GUI envs (no shade!). That‚Äôs how Murmur was born!</p><p><a href="https://git.sr.ht/~bugwhisperer/murmur" rel="noopener" target="_blank">Murmur</a> aims to strip away all the GUI parts, GTK dependencies to deliver as small and lightweight a package as possible. It has a config file wherein users can supply custom settings like, what local AI model to use, how many threads to allow whisper.cc and more. There‚Äôs two executables build as part of the <code>make</code> process for Murmur. A daemon (<code>murmur-daemon</code>) which starts as a user service on login. The other (<code>murmur-toggle</code>) calls to the daemon and starts/stops transcription recordings. This toggling can be invoked from the terminal manually or, more realistically, whenever a shortcut key is pressed.</p><p>It tries to be as flexible as possible, leaving keybindings as something the user‚Äôs OS can handle, vs trying to set that from a config setting and manage that ourselves. As an example, for my setup, I use my Sway config file startup the <code>murmur-daemon</code> once at login and then use a keybinding to execute the <code>murmur-toggle</code> binary:</p><pre><code><span>########################
</span><span>###    Murmur ST  T    ###
</span><span>########################
</span><span>exec murmur-daemon
</span><span>## Toggle Yap-mode (recording start/stop)
</span><span>bindsym $mod+Shift+y exec murmur-toggle
</span></code></pre><p>Notifications automagically keep me informed at to when to start yapping, when my data‚Äôs being crunched, and when it‚Äôs done and waiting to <code>Ctrl-v</code> to where I need it; all via Wayland‚Äôs <code>notify-send</code>. I think working to improve the auto-injection (via something like <code>ydotool</code> and/or <code>dotool</code>) could make it perfect and most widely supported. Last idea for improving and expanding the feature set on this project would be to try to clear the clipboard after pasting automatically (for privacy purposes) OR more generally it could clear after N seconds regardless of if auto-pasting is used.</p><p>For now, I‚Äôm super happy with it!! üíñ‚ú® I have a low-resource footprint, local STT tool that sits quietly in the background for when I need it. It‚Äôs helped a ton already with writing this blog post, doing a lot of the typing and leaving me to handle the editing, proofreading and refinement! Feel free to check out <a href="https://git.sr.ht/~bugwhisperer/murmur" rel="noopener" target="_blank">Murmur</a>! Let me know if it works for you, if it doesn‚Äôt work, if you have ideas to improve it, or if you want to help develop it.</p></div></div>
  </body>
</html>
