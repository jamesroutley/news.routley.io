<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://threedots.ovh/blog/2022/03/open-source-drivers-according-to-habana/">Original</a>
    <h1>Open-source drivers according to Habana</h1>
    
    <div id="readability-page-1" class="page"><article id="post-301">

	<!-- .entry-header -->

	<div>
		
<p>Habana is an Intel company that designs machine learning accelerators for both training and inference. Their kernel driver is available upstream in the Linux kernel.</p>



<p>This resulted in <a href="https://lwn.net/Articles/867168/" target="_blank" rel="noreferrer noopener">issues</a> with the Linux kernel community in the past, resulting in the release of an open-source <em>very minimally functional</em> user-mode driver stack.</p>



<p>Does that mean that the software stack for that silicon is open-source? No, definitely not.</p>



<p>Let’s look at that repository: <a href="https://github.com/HabanaAI/SynapseAI_Core" target="_blank" rel="noreferrer noopener">https://github.com/HabanaAI/SynapseAI_Core</a></p>



<p>The limitation section is pretty huge, and is full of dealbreakers for any kind of production use. For illustrative purposes, we’ll pick two of them:</p>



<blockquote><p>This version of the library doesn’t implement any operations itself. This means for an operation like reshape or split, the user has to resolve it themselves, or write a TPC kernel to perform it.</p></blockquote>



<p>This means that the actual <em>MMA</em> machine learning accelerators will not be used, with the general-purpose TPCs being used for all operators instead.</p>



<blockquote><p>The implementation is limited to single-node graphs. Calling synNodeCreate on a graph that already contains a node will fail.</p></blockquote>



<p>Enough said, this means that this open-source user-mode driver stack is not suitable for any kind of production use whatsoever.</p>



<p>The release of that stack was announced <a rel="noreferrer noopener" href="https://lkml.iu.edu/hypermail/linux/kernel/2109.1/03495.html" target="_blank">on the LKML</a>, which had this gem in the message:</p>



<blockquote><p>SynapseAI Core contains all the necessary building blocks to run Deep Learning training on Gaudi, although not as optimized as the closed-source library.</p></blockquote>



<p>What an understatement.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>
  </body>
</html>
