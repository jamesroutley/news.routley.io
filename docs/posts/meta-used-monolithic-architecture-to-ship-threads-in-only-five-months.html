<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.infoq.com/news/2024/04/meta-threads-instagram-5-months/">Original</a>
    <h1>Meta Used Monolithic Architecture to Ship Threads in Only Five Months</h1>
    
    <div id="readability-page-1" class="page"><div>
								<p>Zahan Malkani <a href="https://qconlondon.com/presentation/apr2024/0-1-shipping-threads-5-months">talked during QCon London 2024 about Meta&#39;s journey</a> from identifying the opportunity in the market to shipping the Threads application only five months later. The company leveraged Instagram&#39;s existing monolithic architecture and quickly iterated to create a new text-first microblogging service in record time.</p>

<p>Soon after Elon Musk acquired Twitter, Meta saw an opportunity to create a competing service but had little time to launch it to attract existing Twitter users, who were looking for alternatives. The company initially tested whether better support for text-based posts on Instagram would be sufficient to sway some Twitter users over to Meta&#39;s products, but these efforts didn’t attract enough new users.</p>

<p>Meta formed a small team to devise an approach to delivering a new service that would directly compete with Twitter in just a few months. <a href="https://www.linkedin.com/in/zahanm">Zahan Malkani</a>, a software engineer at Meta, shared how his team was able to reuse the existing Instagram backend components, data stores, and large parts of the existing infrastructure stack but customize them to offer functionality comparable to what now is X.</p>

<p><img alt="" data-src="news/2024/04/meta-threads-instagram-5-months/en/resources/1meta-instagram-arch-1712608215163.jpeg" src="https://imgopt.infoq.com/fit-in/3000x4000/filters:quality(85)/filters:no_upscale()/news/2024/04/meta-threads-instagram-5-months/en/resources/1meta-instagram-arch-1712608215163.jpeg" rel="share"/></p>

<p><em>Instagram / Threads High-Level Architecture (Source: <a href="https://www.linkedin.com/posts/danielbryantuk_qconlondon-ugcPost-7183060633251147776-a6Fx?utm_source=share&amp;utm_medium=member_desktop">Daniel Bryant’s LinkedIn post</a>)</em></p>

<p>Theads&#39;s technology stack is almost identical to Instagram&#39;s, consisting of a few monolithic application components and dedicated data stores. The main backend component is a large Python codebase using a custom version of the <a href="https://www.djangoproject.com/">Django Framework</a>, named Distillery, that integrates with an older PHP component called WWW. The data is stored in <a href="https://engineering.fb.com/2013/06/25/core-infra/tao-the-power-of-the-graph/">TAO</a>, a write-though cache that operates on a <a href="https://en.wikipedia.org/wiki/Graph_database">graph data model</a>, which in turn uses UDB, a sharded <a href="https://www.mysql.com/">MySQL</a> deployment, that stores all the data. Additionally, the <a href="https://engineering.fb.com/2021/08/06/core-infra/zippydb/">ZippyDB</a> key-value cache stores transient data, and <a href="https://engineering.fb.com/2020/08/17/production-engineering/async/">Async</a>, a serverless function compute platform, is used to execute asynchronous jobs outside of peak hours.</p>

<p>While working on Threads, the team used a <a href="https://www.apollographql.com/docs/technotes/TN0032-sdui-basics">Server-Driven UI (SDUI)</a> approach to enable a quick experimentation cycle in the early days of the project, using thousands of company employees for feedback.</p>

<p>Despite the apparent advantages of reusing Instagram&#39;s platform for Threads (much faster delivery time), Malkani admitted the company introduced a substantial amount of technical debt that must be addressed in the future. The team is working on gradually separating the data models from Instagram&#39;s as the Threads service gains new functionality so that both platforms can be separated, but the process will take some time.</p>

<p>Malkani recounted the stressful period when Threads launched in July 2023, including a few mishaps, like when users in Southeast Asia and other time zones were able to download the mobile app before the US team was ready to allow traffic in, due to the time zone confusion. Engineers also had to improve scalability of some processes to allow for importing followers from Instagram. The team has been working tirelessly to address any issues and ensure the stability of the platform, which saw unprecedented adoption. Ten million users downloaded the app on the first day, and 100 million in the first five days.</p>

<p>Since the launch, the team delivered new features like the &#34;following&#34; feed, trending conversations, and the limited availability of API access for reading and writing posts. Threads team is also actively working on adopting <a href="https://www.w3.org/TR/activitypub/">the ActivityPub protocol</a>, allowing users to share their posts to other social networks that support the protocol.</p>

								









  
    

							</div></div>
  </body>
</html>
