<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/OpenXiangShan/XiangShan">Original</a>
    <h1>XiangShan – open-source high performance RISC-V processor</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">XiangShan (香山) is an open-source high-performance RISC-V processor project.</p>
<p dir="auto">中文说明<a href="https://github.com/OpenXiangShan/XiangShan/blob/master/readme.zh-cn.md">在此</a>。</p>
<p dir="auto">Copyright 2020-2022 by Institute of Computing Technology, Chinese Academy of Sciences.</p>
<p dir="auto">Copyright 2020-2022 by Peng Cheng Laboratory.</p>

<p dir="auto"><a href="https://github.com/OpenXiangShan/XiangShan-doc">XiangShan-doc</a> is our official documentation repository. It contains design spec., technical slides, tutorials and more.</p>
<ul dir="auto">
<li>Micro-architecture documentation of XiangShan has been published. Please check out <a href="https://xiangshan-doc.readthedocs.io" rel="nofollow">https://xiangshan-doc.readthedocs.io</a></li>
</ul>

<div dir="auto"><h3 tabindex="-1" dir="auto">MICRO 2022: Towards Developing High Performance RISC-V Processors Using Agile Methodology</h3><a id="user-content-micro-2022-towards-developing-high-performance-risc-v-processors-using-agile-methodology" aria-label="Permalink: MICRO 2022: Towards Developing High Performance RISC-V Processors Using Agile Methodology" href="#micro-2022-towards-developing-high-performance-risc-v-processors-using-agile-methodology"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Our paper introduces XiangShan and the practice of agile development methodology on high performance RISC-V processors.
It covers some representative tools we have developed and used to accelerate the chip development process, including design, functional verification, debugging, performance validation, etc.
This paper is awarded all three available badges for artifact evaluation (Available, Functional, and Reproduced).</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenXiangShan/XiangShan-doc/raw/main/publications/images/artifacts_available_dl.jpg"><img src="https://github.com/OpenXiangShan/XiangShan-doc/raw/main/publications/images/artifacts_available_dl.jpg" alt="Artifacts Available"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenXiangShan/XiangShan-doc/raw/main/publications/images/artifacts_evaluated_functional_dl.jpg"><img src="https://github.com/OpenXiangShan/XiangShan-doc/raw/main/publications/images/artifacts_evaluated_functional_dl.jpg" alt="Artifacts Evaluated — Functional"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenXiangShan/XiangShan-doc/raw/main/publications/images/results_reproduced_dl.jpg"><img src="https://github.com/OpenXiangShan/XiangShan-doc/raw/main/publications/images/results_reproduced_dl.jpg" alt="Results Reproduced"/></a></p>
<p dir="auto"><a href="https://github.com/OpenXiangShan/XiangShan-doc/blob/main/publications/micro2022-xiangshan.pdf">Paper PDF</a> | <a href="https://ieeexplore.ieee.org/abstract/document/9923860" rel="nofollow">IEEE Xplore</a> | <a href="https://github.com/OpenXiangShan/XiangShan-doc/blob/main/publications/micro2022-xiangshan.bib">BibTeX</a> | <a href="https://github.com/OpenXiangShan/XiangShan-doc/blob/main/publications/micro2022-xiangshan-slides.pdf">Presentation Slides</a> | <a href="https://www.bilibili.com/video/BV1FB4y1j7Jy" rel="nofollow">Presentation Video</a></p>

<p dir="auto">Wechat/微信：香山开源处理器</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenXiangShan/XiangShan/blob/master/images/wechat.png"><img width="340" height="117" src="https://github.com/OpenXiangShan/XiangShan/raw/master/images/wechat.png"/></a></p>
<p dir="auto">Zhihu/知乎：<a href="https://www.zhihu.com/people/openxiangshan" rel="nofollow">香山开源处理器</a></p>
<p dir="auto">Weibo/微博：<a href="https://weibo.com/u/7706264932" rel="nofollow">香山开源处理器</a></p>
<p dir="auto">You can contact us through <a href="mailto:xiangshan-all@ict.ac.cn">our mailing list</a>. All mails from this list will be archived <a href="https://www.mail-archive.com/xiangshan-all@ict.ac.cn/" rel="nofollow">here</a>.</p>

<p dir="auto">The first stable micro-architecture of XiangShan is called Yanqihu (雁栖湖) and is <a href="https://github.com/OpenXiangShan/XiangShan/tree/yanqihu">on the yanqihu branch</a>, which has been developed since June 2020.</p>
<p dir="auto">The second stable micro-architecture of XiangShan is called Nanhu (南湖) and is <a href="https://github.com/OpenXiangShan/XiangShan/tree/nanhu">on the nanhu branch</a>.</p>
<p dir="auto">The current version of XiangShan, also known as Kunminghu (昆明湖), is still under development on the master branch.</p>
<p dir="auto">The micro-architecture overview of Kunminghu (昆明湖) is shown below.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenXiangShan/XiangShan/blob/master/images/xs-arch-kunminghu.svg"><img src="https://github.com/OpenXiangShan/XiangShan/raw/master/images/xs-arch-kunminghu.svg" alt="xs-arch-kunminghu"/></a></p>

<p dir="auto">Some of the key directories are shown below.</p>
<div data-snippet-clipboard-copy-content=".
├── src
│   └── main/scala         # design files
│       ├── device         # virtual device for simulation
│       ├── system         # SoC wrapper
│       ├── top            # top module
│       ├── utils          # utilization code
│       └── xiangshan      # main design code
│           └── transforms # some useful firrtl transforms
├── scripts                # scripts for agile development
├── fudian                 # floating unit submodule of XiangShan
├── huancun                # L2/L3 cache submodule of XiangShan
├── difftest               # difftest co-simulation framework
└── ready-to-run           # pre-built simulation images"><pre><code>.
├── src
│   └── main/scala         # design files
│       ├── device         # virtual device for simulation
│       ├── system         # SoC wrapper
│       ├── top            # top module
│       ├── utils          # utilization code
│       └── xiangshan      # main design code
│           └── transforms # some useful firrtl transforms
├── scripts                # scripts for agile development
├── fudian                 # floating unit submodule of XiangShan
├── huancun                # L2/L3 cache submodule of XiangShan
├── difftest               # difftest co-simulation framework
└── ready-to-run           # pre-built simulation images
</code></pre></div>






<ul dir="auto">
<li>Run <code>make verilog</code> to generate verilog code. The output file is <code>build/XSTop.v</code>.</li>
<li>Refer to <code>Makefile</code> for more information.</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Run Programs by Simulation</h2><a id="user-content-run-programs-by-simulation" aria-label="Permalink: Run Programs by Simulation" href="#run-programs-by-simulation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<ul dir="auto">
<li>Set environment variable <code>NEMU_HOME</code> to the <strong>absolute path</strong> of the <a href="https://github.com/OpenXiangShan/NEMU">NEMU project</a>.</li>
<li>Set environment variable <code>NOOP_HOME</code> to the <strong>absolute path</strong> of the XiangShan project.</li>
<li>Set environment variable <code>AM_HOME</code> to the <strong>absolute path</strong> of the <a href="https://github.com/OpenXiangShan/nexus-am">AM project</a>.</li>
<li>Install <code>mill</code>. Refer to <a href="https://mill-build.org/mill/0.11.11/Scala_Installation_IDE_Support.html#_bootstrap_scripts" rel="nofollow">the Manual section in this guide</a>.</li>
<li>Clone this project and run <code>make init</code> to initialize submodules.</li>
</ul>

<ul dir="auto">
<li>Install <a href="https://verilator.org/guide/latest/" rel="nofollow">Verilator</a>, the open-source Verilog simulator.</li>
<li>Run <code>make emu</code> to build the C++ simulator <code>./build/emu</code> with Verilator.</li>
<li>Refer to <code>./build/emu --help</code> for run-time arguments of the simulator.</li>
<li>Refer to <code>Makefile</code> and <code>verilator.mk</code> for more information.</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make emu CONFIG=MinimalConfig EMU_THREADS=2 -j10
./build/emu -b 0 -e 0 -i ./ready-to-run/coremark-2-iteration.bin --diff ./ready-to-run/riscv64-nemu-interpreter-so"><pre>make emu CONFIG=MinimalConfig EMU_THREADS=2 -j10
./build/emu -b 0 -e 0 -i ./ready-to-run/coremark-2-iteration.bin --diff ./ready-to-run/riscv64-nemu-interpreter-so</pre></div>

<p dir="auto"><a href="https://github.com/OpenXiangShan/XiangShan/wiki/Troubleshooting-Guide">Troubleshooting Guide</a></p>

<p dir="auto">The implementation of XiangShan is inspired by several key papers. We list these papers in XiangShan document, see: <a href="https://docs.xiangshan.cc/zh-cn/latest/acknowledgments/" rel="nofollow">Acknowledgements</a>. We very much encourage and expect that more academic innovations can be realised based on XiangShan in the future.</p>
</article></div></div>
  </body>
</html>
