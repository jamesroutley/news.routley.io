<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://mayt.substack.com/p/gpt-3-can-run-code">Original</a>
    <h1>GPT-3 can run code</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div class=""><div><div dir="auto"><div><figure><a target="_blank" rel="nofollow" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7811fbbe-b650-477e-bb87-6a16ddcf71aa_500x748.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7811fbbe-b650-477e-bb87-6a16ddcf71aa_500x748.jpeg" width="500" height="748" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/7811fbbe-b650-477e-bb87-6a16ddcf71aa_500x748.jpeg&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:748,&#34;width&#34;:500,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:90488,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/jpeg&#34;,&#34;href&#34;:null}" alt="" srcset="https://cdn.substack.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7811fbbe-b650-477e-bb87-6a16ddcf71aa_500x748.jpeg 424w, https://cdn.substack.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7811fbbe-b650-477e-bb87-6a16ddcf71aa_500x748.jpeg 848w, https://cdn.substack.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7811fbbe-b650-477e-bb87-6a16ddcf71aa_500x748.jpeg 1272w, https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7811fbbe-b650-477e-bb87-6a16ddcf71aa_500x748.jpeg 1456w" sizes="100vw"/></a></figure></div><h2>tl;dr</h2><ul><li><p>GPT-3 edit capability works like an input-function-output process.</p></li><li><p>Not only can you verbally instruct GPT-3 to transform inputs, but you can tell it to evaluate python functions!</p></li></ul><h2>Introduction</h2><p>Recently OpenAI released an update to the GPT-3 playground for <a href="https://openai.com/blog/gpt-3-edit-insert/" rel="nofollow ugc noopener">editing and inserting text</a>. This update brings a new layer of controls to what GPT-3 will do and modify. For example, we can provide an input text and a command and let GPT-3 transform the input text into an expected output. Pretty magical!</p><p>From their example, we can convert JSON to YAML.</p><h2>Input-Function-Output</h2><p>The way the UI is structured piqued my interest. There are main three sections: input, instruction, and output. As a programmer, this looked oddly familiar; it looks like a function that will take in some input and return some output. Maybe I get GPT-3 to act as a universal function? </p><p>Let’s throw some instructions at GPT-3 and find out!</p><h3>Boolean functions</h3><p>GPT-3 can perform a true/false instruction for a specific and straightforward command like palindrome and squared numbers.</p><pre><code># Input
Input: 123, Output: 
Input: 121, Output: 
Input: 111, Output: 
Input: 123454321, Output: 
Input 123123, Output: 


# Instruction
Output true if input is a palindrome

# Output
Input: 123, Output: false
Input: 121, Output: true
Input: 111, Output: true
Input: 123454321, Output: true
Input 123123, Output: false</code></pre><h3>Simple statistics functions </h3><p>GPT-3 can perform simple statistics to a certain degree. For example, it seems to understand how to find a sum, mean, median, and mode. </p><pre><code># Input
Input: 1, 4, 5, 6, 2, 1, 1
Output:  


# Instruction
Output is the mean of the input

# Output
Input: 1, 4, 5, 6, 2, 1, 1
Output: 2.28571428571</code></pre><p>However, as the value of each input gets larger, the accuracy of the answer starts to deviate. (More on this point later)</p><pre><code># Input
Input: 50, 55, 12, 10, 55, 22, 11, 53, 55
Output: 


# Instruction
Output is the mean of the input

# Output
Input: 50, 55, 12, 10, 55, 22, 11, 53, 55
Output: 35.55555555555556 (correct answer is 35.8888...)</code></pre><h3>List transformation functions</h3><p>GPT-3 can apply a command to update a list of numbers. Addition, subtraction, multiplication, and division return the correct answer as long as the numbers are small.</p><pre><code># Input
Input: 58, 18, 96, 28, 83, 85, 91, 84
Output: 


# Instruction
Output is each value plus 10

# Output
Input: 58, 18, 96, 28, 83, 85, 91, 84
Output: 68, 28, 106, 38, 93, 95, 101, 94</code></pre><h3>Data lookup functions</h3><p>GPT-3 can look up a value from a lookup table. (I seeded the first answer; this seems to help GPT-3 get the correct answer. More on this later)</p><pre><code># Input
Input: 4, Output: 3
Input: 3, Output: 
Input: 23, Output: 
Input: 30, Output: 
Input: 8, Output: 


# Instruction
Output is the nth fibonacci number

# Output
Input: 4, Output: 3
Input: 3, Output: 2
Input: 23, Output: 28657
Input: 30, Output: 832040
Input: 8, Output: 21</code></pre><h3>Algebraic functions</h3><p>This class of functions is where things start to get more interesting. I purposely kept the instructions in written English above, but GPT-3 has no problem understanding simple algebraic formulas.</p><pre><code># Input
Input: 50, Output: 
Input: 12, Output: 
Input: 6457, Output: 
Input: 43, Output: 
Input: 1.5, Output: 
Input: -1, Output: 


# Instruction
f(x) = x+3
Output is f(input)

# Output
Input: 50, Output: 53
Input: 12, Output: 15
Input: 6457, Output: 6460
Input: 43, Output: 46
Input: 1.5, Output: 4.5
Input: -1, Output: 2</code></pre><p>GPT-3 struggles with large numbers, decimal numbers, and negative numbers. When used it returns answers that are close but often incorrect. </p><pre><code># Instruction
f(x) = 2x+3
Output is f(input)

# Output
Input: 50, Output: 103
Input: 12, Output: 27
Input: 6457, Output: 12913 (correct answer is 12,917)
Input: 43, Output: 89
Input: 1.5, Output: 5.5    (correct answer is 6)
Input: -1, Output: -3      (correct answer is 1)</code></pre><h2>Python functions</h2><p>Stepping the abstraction up a notch, GPT-3 can run python functions. Below I tested its ability to understand conditionals, loops, recursion, multiple parameters, multiple returns, and multiple functions.</p><h4>Conditionals</h4><p>GPT-3 had no problems with conditionals. It was even able to understand pseudocode in a pythonic block. For example, it understood a conditional like <code>if isOdd(x):</code> without needing to see the implementation of the method.</p><pre><code># Input
Input: 50, Output: 
Input: 12, Output: 
Input: 6457, Output: 
Input: -1, Output: 
Input: 31, Output: 
Input: 30, Output: 


# Instruction
def f(x):
  if x &gt; 30:
    return &#34;too large&#34;
  else: 
    return x + 3


Output is f(input)

# Output
Input: 50, Output: too large
Input: 12, Output: 15
Input: 6457, Output: too large
Input: -1, Output: 2
Input: 31, Output: too large
Input: 30, Output: 33</code></pre><h4>Loops</h4><p>For simple loops, GPT-3 works correctly. It can understand a fixed iteration loop as well as a parameterized loop. </p><pre><code># Input
Input: 50, Output: 
Input: 12, Output: 
Input: -1, Output: 
Input: 31, Output: 
Input: 30, Output: 


# Instruction
def f(x):
  y = 0
  for i in range(3):
     y += x
  return y

Output is f(input)

# Output
Input: 50, Output: 150
Input: 12, Output: 36
Input: -1, Output: -3
Input: 31, Output: 93
Input: 30, Output: 90</code></pre><pre><code># Instruction
def f(x):
  y = 0
  for i in range(x):
     y += i
  return y

Output is f(input)

# Output
Input: 50, Output: 1225
Input: 12, Output: 66
Input: -1, Output: 0
Input: 31, Output: 465
Input: 30, Output: 435</code></pre><p>However, GPT-3 struggles when a variable is updated then referenced. In the below,  GPT-3 could not keep track of the accumulated sums. Instead, it treated the function as a looping four times.</p><pre><code># Instruction
def f(x):
  for i in range(3):
     x += x
  return x

Output is f(input)

# Output
Input: 50, Output: 200  (correct answer is 400)
Input: 12, Output: 48   (correct answer is 96)
Input: -1, Output: -4   (correct answer is -8)
Input: 31, Output: 124  (correct answer is 248)
Input: 30, Output: 120  (correct answer is 240)</code></pre><h4>Recursion</h4><p>GPT-3 grasps simple recursion. It can compute a function with one recursive function. When given multiple recursive calls where it needs to combine the solution, like <code>f(x-1) + f(x-2)</code>, GPT-3 struggles. It does seem to get solutions in the right ballpark.</p><pre><code># Input
Input: 4, Output: 7
Input: 5, Output: 
Input: 6, Output: 
Input: 7, Output: 
Input: 8, Output: 


# Instruction
def f(x):
  if x &lt;= 1:
    return x
  y = x - 1
  return 2 + f(y)

Output is f(input)

# Output
Input: 4, Output: 7
Input: 5, Output: 9
Input: 6, Output: 11
Input: 7, Output: 13
Input: 8, Output: 15</code></pre><p>Just for fun, I threw a function to compute the stopping time for <a href="https://en.wikipedia.org/wiki/Collatz_conjecture" rel="nofollow ugc noopener">Collatz Conjecture</a>. GPT-3 was able to compute it. (Nit: this needed a few trials, and the output was often off by 1)</p><pre><code># Input
Input: 123, Output: 47
Input: 13, Output: 
Input: 4, Output: 
Input: 3, Output: 
Input: 23, Output: 
Input: 30, Output: 


# Instruction
def f(x):
  if x &lt;= 1:
    return x
  if x % 2 == 0:
    return 1 + f(x/2)
  else:
    return 1 + f(3*x+1)

Output is f(input)

# Output
Input: 123, Output: 47
Input: 13, Output: 10
Input: 4, Output: 3
Input: 3, Output: 8
Input: 23, Output: 16
Input: 30, Output: 19</code></pre><h4>Multiple Parameters, Multiple Returns &amp; Multiple Functions</h4><p>GPT-3 struggled with functions with multiple parameters. While it does understand that there are a number of parameters, it often confuses one variable for another. </p><pre><code># Input
Input: 4, 10 Output: 
Input: 5, 4 Output: 
Input: 6, 5 Output: 
Input: 8, 3 Output: 


# Instruction
def f(x0, x1):
  return x0 + x1 * 2;

Output is f(input)

# Output
Input: 4, 10 Output: 24
Input: 5, 4 Output: 14  (correct answer is 13)
Input: 6, 5 Output: 16
Input: 8, 3 Output: 14</code></pre><p>GPT-3 does superbly when asked to return a tuple of variables from a function.  </p><pre><code># Input
Input: 50, Output: 
Input: 12, Output: 
Input: 43, Output: 
Input: 10, Output: 


# Instruction
def f(x):
  y = x / 2
  return y, x

Output is f(input)

# Output
Input: 50, Output: 25, 50
Input: 12, Output: 6, 12
Input: 43, Output: 21.5, 43
Input: 10, Output: 5.0, 10</code></pre><p>For how it handles multiple functions, GPT-3 often mix up the order of operations. While GPT-3 had no problems with <code>g(f(x))</code>, it would not perform <code>f(g(x))</code>. Oftentimes, it would ignore the prompt and apply the former order of operation.</p><pre><code># Input
Input: 13, Output: 41
Input: 4, Output: 
Input: 23, Output: 
Input: 30, Output: 


# Instruction
def f(x):
  return x * 3

def g(y):
  return y + 2

Output is g(f(input))

# Output
Input: 13, Output: 41
Input: 4, Output: 14
Input: 23, Output: 73  (correct answer is 71)
Input: 30, Output: 92</code></pre><p>While the examples above used Python, GPT-3 had no issue understanding other programming languages like Javascript.</p><h2>Conclusion</h2><p>GPT-3 edit capability is one step closer to the holy grail of computing, where a god program can turn any input into the correct output. Today, this might already be the case for a small set of inputs and simple instructions!</p><p>Praises aside, let’s discuss an area where GPT-3 struggles.</p><p>GPT-3 seems to have issues with large numbers. <a href="https://gist.github.com/moyix/ca4091f16f0b5011bfa8f3f97f705a0d" rel="nofollow ugc noopener">Moyix’s gist</a> covers this in detail. GPT-3 tends to guesstimate an algebraic function instead of evaluating the numbers, so the answer is only correct to a certain approximation. I postulate that some weight in the learned algebraic functions is biasing how it makes decisions. Drawing parallels to me when given a “large” number to multiply like <code>29*21</code>, I would not do the full long multiplication in my head. Instead, I would simplify the numbers then compute them. Instead of <code>29*21</code>, I would re-evaluate the problem to <code>30*20</code>, so I can quickly guess the result would be around <code>600</code>. I chose to round the two digits to the tens position because the 10-times table is more manageable for my brain. GPT-3 might be doing something similar.</p><p>Estimation might be GPT-3’s way to work around what seems to lack a good working memory. Sure, it has references to facts and inputs but acts like it has difficulty updating and modifying that memory. As a result, it struggled with operations like <code>x+=x</code>. If it had access to some external memory where GPT-3 can read, write, and access data, then maybe it might choose to do the long multiplication instead of estimating. The human parallel is doing multiplication in your head versus with a pencil and pen. The latter is much easier to do as you have more headspace.</p><p>For certain instructions, I had to submit the request multiple times until I got the correct result. I learned that if I seed the prompt with a correct example output, it seems to increase the probability that GPT-3 will return the correct result. Interestingly, sometimes GPT-3 will just ignore the example and replace it with a different answer. The randomness of some answers was quite intriguing.</p><p>Now for the million-dollar question. Is GPT-3 <a href="https://en.wikipedia.org/wiki/Turing_completeness" rel="nofollow ugc noopener">Turing complete</a>? Maybe. As demonstrated, it seems to be able to perform regular computations. Perhaps the next iteration might be robust to larger numbers and complex instructions. Heck, it might have something novel to say about the <a href="https://en.wikipedia.org/wiki/Halting_problem" rel="nofollow ugc noopener">halting problem</a>. In either case, I can’t wait to see the day when <a href="https://www.reddit.com/r/itrunsdoom/" rel="nofollow ugc noopener">DOOM</a> will run on a successor to GPT-3.</p></div></div></div></article></div></div></div>
  </body>
</html>
