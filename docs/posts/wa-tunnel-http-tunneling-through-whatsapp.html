<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/aleixrodriala/wa-tunnel">Original</a>
    <h1>Show HN: Wa-tunnel â€“ HTTP Tunneling through Whatsapp</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5e1c678bcfb31c67034bc99695cefe38b2905c9189ee201c22e46961ea780d60/68747470733a2f2f692e696d6775722e636f6d2f666939584b436f2e676966"><img src="https://camo.githubusercontent.com/5e1c678bcfb31c67034bc99695cefe38b2905c9189ee201c22e46961ea780d60/68747470733a2f2f692e696d6775722e636f6d2f666939584b436f2e676966" alt="" data-animated-image="" data-canonical-src="https://i.imgur.com/fi9XKCo.gif"/></a></p>
<p dir="auto">This is a <a href="https://github.com/adiwajshing/Baileys">Baileys</a> based piece of code that lets you tunnel TCP data through two Whatsapp accounts.</p>
<p dir="auto">This can be usable in different situations, for example network carriers that give unlimited whatsapp data or airplanes where you also get unlimited social network data.</p>
<p dir="auto">It&#39;s using Baileys since it&#39;s a WS based multi-device whatsapp library and therefore could be used in android in the future, using Termux for example.</p>
<p dir="auto">The idea is to use it with a proxy setup on the server like this: [Client (restricted access) -&gt; Whatsapp -&gt; Server (proxy) -&gt; Internet]</p>
<p dir="auto">Apologizes in advance since Javascript it&#39;s not one of my primary coding languages :/</p>
<p dir="auto">Use only for educational purpose.</p>

<p dir="auto">While travelling through South America network data on carriers is usually restricted to not many GBs but WhatsApp is usually unlimited, I tried to create this library since I didn&#39;t find any usable at the date.</p>

<p dir="auto">You must have access to two Whatsapp accounts, one for the server and one for the client.</p>
<p dir="auto">You can forward a local port or use an external proxy.</p>
<h2 dir="auto"><a id="user-content-server-side" aria-hidden="true" href="#server-side"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Server side</h2>
<p dir="auto">Clone the repository on your server and install node dependencies.</p>
<ol dir="auto">
<li><code>cd path/to/wa-tunnel</code></li>
<li><code>npm install</code></li>
</ol>
<p dir="auto">Then you can start the server with the following command where <strong>port</strong> is the proxy port and <strong>host</strong> is the proxy host you want to forward. And <strong>number</strong> is the client WhatsApp number with the country code alltogether and without +.</p>
<div data-snippet-clipboard-copy-content="node server.js host port number"><pre><code>node server.js host port number
</code></pre></div>
<p dir="auto">You can use a local proxy server like follows:</p>
<div data-snippet-clipboard-copy-content="node server.js localhost 3128 12345678901"><pre><code>node server.js localhost 3128 12345678901
</code></pre></div>
<p dir="auto">Or you can use a normal proxy server like follows:</p>
<div data-snippet-clipboard-copy-content="node server.js 192.168.0.1 3128 12345678901"><pre><code>node server.js 192.168.0.1 3128 12345678901
</code></pre></div>
<h2 dir="auto"><a id="user-content-client-side" aria-hidden="true" href="#client-side"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Client Side</h2>
<p dir="auto">Clone the repository on your server and install node dependencies.</p>
<ol dir="auto">
<li><code>cd path/to/wa-tunnel</code></li>
<li><code>npm install</code></li>
</ol>
<p dir="auto">Then you can start the server with the following command where <strong>port</strong> is the local port where you will connect and <strong>number</strong> is the server WhatsApp number with the country code alltogether and without +.</p>
<div data-snippet-clipboard-copy-content="node client.js port number"><pre><code>node client.js port number
</code></pre></div>
<p dir="auto">For example</p>
<div data-snippet-clipboard-copy-content="node client.js 8080 1234567890"><pre><code>node client.js 8080 1234567890
</code></pre></div>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">The first time you open the script Baileys will ask you to scan the QR code with the whatsapp app, after that the session is saved for later usage.</p>
<p dir="auto">It may crash, that&#39;s normal after that just restart the script and you will have your client/server ready!</p>
<p dir="auto">It splits network packages to not get timed out by WhatsApp, at the moment it&#39;s hardcoded in <strong>wasocket.js</strong>, by default it&#39;s limited at 20k characters per message, I have done multiple tests and anything below that may get you banned for sending too many messages and any above 80k may timeout.</p>
<p dir="auto">Once you have both client and server ready you can test using curl and see the magic happen.</p>
<div data-snippet-clipboard-copy-content="curl -v -x proxyHost:proxyPort https://httpbin.org/ip"><pre><code>curl -v -x proxyHost:proxyPort https://httpbin.org/ip
</code></pre></div>
<p dir="auto">With the example commands would be:</p>
<div data-snippet-clipboard-copy-content="curl -v -x localhost:8080 https://httpbin.org/ip"><pre><code>curl -v -x localhost:8080 https://httpbin.org/ip
</code></pre></div>
<p dir="auto">It has been tested also with a normal browser like Firefox, it&#39;s slow but can be used.</p>
<h2 dir="auto"><a id="user-content-disclaimer" aria-hidden="true" href="#disclaimer"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Disclaimer</h2>
<p dir="auto">Using this library may get your WhatsApp account banned, use with a temporary number or at your own risk.</p>
<h2 dir="auto"><a id="user-content-to-do" aria-hidden="true" href="#to-do"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>TO-DO</h2>
<ul dir="auto">
<li>Make an Android script to install node dependencies on termux</li>
<li>Documentation</li>
</ul>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto"><a href="https://github.com/aleixrodriala/wa-tunnel/blob/master/LICENSE">MIT</a></p>
</article>
          </div></div>
  </body>
</html>
