<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/livingbio/typed-ffmpeg">Original</a>
    <h1>Show HN: Typed-FFmpeg 3.0–Typed Interface to FFmpeg and Visual Filter Editor</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://github.com/livingbio/typed-ffmpeg/actions?query=workflow%3Aci-package"><img src="https://github.com/livingbio/typed-ffmpeg/actions/workflows/ci-package.yml/badge.svg" alt="CI Package"/></a>
<a href="https://livingbio.github.io/typed-ffmpeg/" rel="nofollow"><img src="https://camo.githubusercontent.com/5a4414aacd5db4051f8ae830d1eca85ffd60e261f2855e432d7e3b7f210bb0af/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6d6b646f63732532306d6174657269616c2d626c75652e7376673f7374796c653d666c6174" alt="Documentation" data-canonical-src="https://img.shields.io/badge/docs-mkdocs%20material-blue.svg?style=flat"/></a>
<a href="https://pypi.org/project/typed-ffmpeg/" rel="nofollow"><img src="https://camo.githubusercontent.com/afd329fb15a52d6e6b60b2e1b302be4823ae665e5555e848075599f6af367443/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f74797065642d66666d7065672e737667" alt="PyPI Version" data-canonical-src="https://img.shields.io/pypi/v/typed-ffmpeg.svg"/></a>
<a href="https://codecov.io/gh/livingbio/typed-ffmpeg" rel="nofollow"><img src="https://camo.githubusercontent.com/8fd3d468cf99ef7221b9000544bf1e7df476dcb551634338fd03525f0307839d/68747470733a2f2f636f6465636f762e696f2f67682f6c6976696e6762696f2f74797065642d66666d7065672f67726170682f62616467652e7376673f746f6b656e3d42393550523632394c50" alt="codecov" data-canonical-src="https://codecov.io/gh/livingbio/typed-ffmpeg/graph/badge.svg?token=B95PR629LP"/></a></p>
<p dir="auto"><strong>typed-ffmpeg</strong> offers a modern, Pythonic interface to FFmpeg, providing extensive support for complex filters with detailed typing and documentation. Inspired by <code>ffmpeg-python</code>, this package enhances functionality by addressing common limitations, such as lack of IDE integration and comprehensive typing, while also introducing new features like JSON serialization of filter graphs and automatic FFmpeg validation.</p>
<hr/>

<ul dir="auto">
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#quick-usage">Quick Usage</a></li>
<li><a href="https://livingbio.github.io/typed-ffmpeg/" rel="nofollow">Documentation</a></li>
<li><a href="#interactive-playground">Interactive Playground</a></li>
<li><a href="#acknowledgements">Acknowledgements</a></li>
</ul>
<hr/>

<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/autocomplete.png"><img src="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/autocomplete.png" alt="typed-ffmpeg"/></a></p>
<ul dir="auto">
<li><strong>Zero Dependencies:</strong> Built purely with the Python standard library, ensuring maximum compatibility and security.</li>
<li><strong>User-Friendly:</strong> Simplifies the construction of filter graphs with an intuitive Pythonic interface.</li>
<li><strong>Comprehensive FFmpeg Filter Support:</strong> Out-of-the-box support for most FFmpeg filters, with IDE auto-completion.</li>
<li><strong>Integrated Documentation:</strong> In-line docstrings provide immediate reference for filter usage, reducing the need to consult external documentation.</li>
<li><strong>Robust Typing:</strong> Offers static and dynamic type checking, enhancing code reliability and development experience.</li>
<li><strong>Filter Graph Serialization:</strong> Enables saving and reloading of filter graphs in JSON format for ease of use and repeatability.</li>
<li><strong>Graph Visualization:</strong> Leverages <code>graphviz</code> for visual representation, aiding in understanding and debugging.</li>
<li><strong>Validation and Auto-correction:</strong> Assists in identifying and fixing errors within filter graphs.</li>
<li><strong>Input and Output Options Support:</strong> Provide a more comprehensive interface for input and output options, including support for additional codecs and formats.</li>
<li><strong>Partial Evaluation:</strong> Enhance the flexibility of filter graphs by enabling partial evaluation, allowing for modular construction and reuse.</li>
</ul>

<p dir="auto">Please note that the following features are under consideration or development for future releases:</p>
<ul dir="auto">
<li><strong>Extended FFmpeg Version Support:</strong> While <code>typed-ffmpeg</code> is currently built with FFmpeg version 6.0 in mind, we are working to ensure compatibility across different FFmpeg versions. Feedback and issue reports are welcome to improve version support.</li>
<li><strong>Additional Filter Support:</strong> We aim to expand the range of FFmpeg filters supported by <code>typed-ffmpeg</code>. Continuous updates will be made to include more complex and varied filters.</li>
</ul>
<hr/>

<p dir="auto">To install <code>typed-ffmpeg</code>, simply use pip:</p>

<p dir="auto">Note: FFmpeg must be installed on your system.</p>
<p dir="auto">Note: If you need to install <code>ffmpeg-python</code> at the same time, use <code>pip install typed-ffmpeg-compatible</code> to prevent conflicts with the module name.​</p>

<p dir="auto">To enable graph visualization features:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pip install &#39;typed-ffmpeg[graph]&#39;"><pre>pip install <span><span>&#39;</span>typed-ffmpeg[graph]<span>&#39;</span></span></pre></div>
<p dir="auto">Note: This requires Graphviz to be installed on your system.</p>
<hr/>

<p dir="auto">Here&#39;s how to quickly start using <code>typed-ffmpeg</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="import ffmpeg

# Flip video horizontally and output
f = (
    ffmpeg
    .input(filename=&#39;input.mp4&#39;)
    .hflip()
    .output(filename=&#39;output.mp4&#39;)
)
f"><pre><span>import</span> <span>ffmpeg</span>

<span># Flip video horizontally and output</span>
<span>f</span> <span>=</span> (
    <span>ffmpeg</span>
    .<span>input</span>(<span>filename</span><span>=</span><span>&#39;input.mp4&#39;</span>)
    .<span>hflip</span>()
    .<span>output</span>(<span>filename</span><span>=</span><span>&#39;output.mp4&#39;</span>)
)
<span>f</span></pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/README_files/README_1_0.svg"><img src="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/README_files/README_1_0.svg" alt="svg"/></a></p>
<p dir="auto">For a more complex example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="import ffmpeg.filters
import ffmpeg

# Complex filter graph example
in_file = ffmpeg.input(&#34;input.mp4&#34;)
overlay_file = ffmpeg.input(&#34;overlay.png&#34;)

f = (
    ffmpeg.filters
    .concat(
        in_file.trim(start_frame=10, end_frame=20),
        in_file.trim(start_frame=30, end_frame=40),
    )
    .video(0)
    .overlay(overlay_file.hflip())
    .drawbox(x=&#34;50&#34;, y=&#34;50&#34;, width=&#34;120&#34;, height=&#34;120&#34;, color=&#34;red&#34;, thickness=&#34;5&#34;)
    .output(filename=&#34;out.mp4&#34;)
)
f"><pre><span>import</span> <span>ffmpeg</span>.<span>filters</span>
<span>import</span> <span>ffmpeg</span>

<span># Complex filter graph example</span>
<span>in_file</span> <span>=</span> <span>ffmpeg</span>.<span>input</span>(<span>&#34;input.mp4&#34;</span>)
<span>overlay_file</span> <span>=</span> <span>ffmpeg</span>.<span>input</span>(<span>&#34;overlay.png&#34;</span>)

<span>f</span> <span>=</span> (
    <span>ffmpeg</span>.<span>filters</span>
    .<span>concat</span>(
        <span>in_file</span>.<span>trim</span>(<span>start_frame</span><span>=</span><span>10</span>, <span>end_frame</span><span>=</span><span>20</span>),
        <span>in_file</span>.<span>trim</span>(<span>start_frame</span><span>=</span><span>30</span>, <span>end_frame</span><span>=</span><span>40</span>),
    )
    .<span>video</span>(<span>0</span>)
    .<span>overlay</span>(<span>overlay_file</span>.<span>hflip</span>())
    .<span>drawbox</span>(<span>x</span><span>=</span><span>&#34;50&#34;</span>, <span>y</span><span>=</span><span>&#34;50&#34;</span>, <span>width</span><span>=</span><span>&#34;120&#34;</span>, <span>height</span><span>=</span><span>&#34;120&#34;</span>, <span>color</span><span>=</span><span>&#34;red&#34;</span>, <span>thickness</span><span>=</span><span>&#34;5&#34;</span>)
    .<span>output</span>(<span>filename</span><span>=</span><span>&#34;out.mp4&#34;</span>)
)
<span>f</span></pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/README_files/README_3_0.svg"><img src="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/README_files/README_3_0.svg" alt="svg"/></a></p>
<p dir="auto">See the <a href="https://livingbio.github.io/typed-ffmpeg/usage/typed/" rel="nofollow">Usage</a> section in our documentation for more examples and detailed guides.</p>
<hr/>

<p dir="auto">Try out <code>typed-ffmpeg</code> directly in your browser with our <a href="https://livingbio.github.io/typed-ffmpeg-playground/" rel="nofollow">Interactive Playground</a>! The playground provides a live environment where you can:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/playground-screenshot.png"><img src="https://raw.githubusercontent.com/livingbio/typed-ffmpeg/main/docs/media/playground-screenshot.png" alt="Interactive Playground"/></a></p>
<ul dir="auto">
<li>Experiment with FFmpeg filters and commands</li>
<li>Visualize filter graphs in real-time</li>
<li>Test different input/output configurations</li>
<li>Learn through interactive examples</li>
<li>Share your filter graphs with others</li>
</ul>
<p dir="auto">The playground is perfect for learning and prototyping FFmpeg filter chains without setting up a local environment.</p>
<hr/>

<p dir="auto">This project was initially inspired by the capabilities of GPT-3, with the original concept focusing on using GPT-3 to generate an FFmpeg filter SDK directly from the FFmpeg documentation. However, during the development process, I encountered limitations with GPT-3&#39;s ability to fully automate this task.</p>
<p dir="auto">As a result, I shifted to traditional code generation methods to complete the SDK, ensuring a more robust and reliable tool. Despite this change in approach, both GitHub Copilot and GPT-3 were instrumental in accelerating the development process, providing valuable insights and saving significant time.</p>
<p dir="auto">I would also like to extend my gratitude to the <code>ffmpeg-python</code> project, which inspired this project significantly. The API style and design ideas from <code>ffmpeg-python</code> have been influential, and I have utilized these aspects to shape the development of our SDK.</p>
<p dir="auto">This project is dedicated to my son, Austin, on his seventh birthday (February 24, 2024), whose curiosity and zest for life continually inspire me.</p>
<hr/>
<p dir="auto">Feel free to check the <a href="https://livingbio.github.io/typed-ffmpeg/" rel="nofollow">Documentation</a> for detailed information and more advanced features.</p>
</article></div></div>
  </body>
</html>
