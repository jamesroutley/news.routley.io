<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.replit.com/building-my-first-slack-bot">Original</a>
    <h1>I’m not a programmer, and I used AI to build my first bot</h1>
    
    <div id="readability-page-1" class="page">
   
    
    <section>
      

<!-- trying to understand some of this code made my mental state slowly deteriorate, as you can see through my comments. -p -->
<nav>
    
   
    
</nav>
      <!-- hardlinks bad smh -->
      
      <!-- <a class="repl-link" href="/__repl?fileName=posts/building-my-first-slack-bot.md">Edit on Replit</a>
 -->

      <section>
        <!-- all of this shows the categories bar at the top of a post -->
        
      </section>
      
      <!-- end of categories bar -->
<!--       <div style="margin-top: 10px;">Educators, join us at <a href="join.replit.com/edfest" style="color: var(--primary-color);">EdFest</a> July 20-22.</div>
 -->
      


  


<!-- this basically shows the same thing but with some slight differences depending on whether this post is being displayed as a card on the main blog page, or as the main article on the blog page 
  Yes i know this is a horrible way, but im just trying to fix what was already cursed lol
  
~ Bookie0
  -->
<div>
 
  <article id="building-my-first-slack-bot">
      
    
      <h3>
        Thu Oct 5 2023 by Jeff Burke
      </h3>
      <div>
        <p><img src="https://blog.replit.com/images/slack-bot/building-my-first-slack-bot.jpg?v=1696534367000" alt=""/></p>
<p>Before I joined Replit, I had never written a line of code.</p>

<p>A few weeks ago, I built a Slack Bot that uses Google LLMs to provide daily channel summaries. You can <a href="https://replit.com/@jeff/SlackBot?v=1">fork the template</a> or <a href="https://replit.com/learn/100-days-of-python">get started with 100 Days of Code</a>.</p>
<p>None of this was possible without Replit. Let me explain why:</p>
<ol>
<li>Getting started with no setup</li>
<li>Using Replit AI capabilities</li>
<li>Learning LLMs with ModelFarm</li>
<li>Simple hosting and deployments</li>
</ol>
<h2 id="getting-started-with-no-setup">Getting started with no setup</h2>
<p>I studied Finance, Marketing, and Math. I never took a single Computer Science class. During my time playing professional baseball, I tried to learn to code to earn some money to support my training. At Boston Consulting Group, I attempted to learn Python to automate some basic data manipulation and scraping tasks we did.</p>
<p>Every time, I would get stuck early on. It would take far too long to see any output. The process was too slow, high-friction, and boring. Half of my time felt like it was just spent getting set up.</p>
<p>Fast forward to last year, and <a href="https://replit.com/learn/100-days-of-python">we released 100 Days of Code on Replit</a>. It was the best experience I had ever had:</p>
<ul>
<li>No wasted time to set up my development environment</li>
<li>Daily, digestible lessons</li>
<li>Video and written content directly in the editor, so there was no tab and context switching</li>
<li>Ghostwriter helped with the boilerplate code to make me super efficient in later lessons</li>
</ul>
<p>Within days and weeks, I was building legit projects, and I was using these skills to improve my day-to-day work at Replit. </p>
<p>Once you learn how easy getting started can be, you won’t go anywhere else. Replit is the only place I will ever code.</p>
<h2 id="using-replit-ai-capabilities">Using Replit AI capabilities</h2>
<p>Replit’s AI helped me learn in 100 Days of Code faster, but it is also super helpful with creating new projects and understanding other projects. For example, for my Slack bot, I began with a simple prompt:</p>
<p><code>Generate code that allows me to call on the Slack API and log the messages from a specific Slack channel</code></p>
<p>I knew nothing about the Slack API. I had not visited the docs yet. I wanted to start with Ghostwriter.</p>
<pre><code><span>import</span> os
<span>from</span> slack_sdk <span>import</span> WebClient
<span>from</span> slack_sdk.errors <span>import</span> SlackApiError

<span># use your own oauth token that you receive from Slack, remember not to reveal it to others</span>
slack_token = os.environ[<span>&#34;SLACK_API_TOKEN&#34;</span>]
client = WebClient(token=slack_token)

channel_id = <span>&#39;your_channel_id&#39;</span> <span># insert your channel id here</span>

<span>try</span>:
    result = client.conversations_history(channel=channel_id)
    messages = result.data[<span>&#39;messages&#39;</span>]
    <span>for</span> msg <span>in</span> messages:
        print(msg)
<span>except</span> SlackApiError <span>as</span> e:
    <span>assert</span> e.response[<span>&#34;ok&#34;</span>] <span>is</span> <span>False</span>
    <span>assert</span> e.response[<span>&#34;error&#34;</span>]
    print(<span>f&#34;Got an error: <span>{e.response[<span>&#39;error&#39;</span>]}</span>&#34;</span>)</code></pre>
<p>This was a great starting point, and instead of copy and pasting from another tab, I was able to just one click insert into the development environment. </p>

<p>One of the tricky components of Slack is managing the bot permissions. You can read the docs, but in this case, I just asked:</p>
<p><img src="https://blog.replit.com/images/slack-bot/ghostwriter-prompt.png?v=1696534367000" alt=""/></p>
<p>Replit’s AI was able to give a pretty clear answer, so I simply added those permissions. </p>

<p>I was able to use Edit Code to make small adjustments like change the message logging to only messages for that day. In cases where I generated new code, I was also able to ask the AI to explain specific lines, which helped me learn.</p>
<p>For someone who was building this project alone, Replit’s AI was basically able to not only speed up the process but also act like a tutor.</p>
<h2 id="learning-llms-with-modelfarm">Learning LLMs with ModelFarm</h2>
<p>I wanted this Slack bot to provide utility. For me, I am a part of so many Slack channels at Replit, and it is a struggle to track them all. Summarizing the channels would provide a lot of utility. To do that, I would need to use LLMs.</p>
<p><a href="https://blog.replit.com/modelfarm">Replit recently launched the ModelFarm</a>, and for a month, the cost of the Google Vertex models is free. So I decided to use these for summaries.</p>
<pre><code><span># Only log today&#39;s messages</span>
          <span>if</span> message_timestamp.date() == date.today():
            user_id = message.get(<span>&#39;user&#39;</span>, <span>&#39;N/A&#39;</span>)
            user_info = client.users_info(user=user_id)
            user_name = user_info[<span>&#34;user&#34;</span>][<span>&#34;name&#34;</span>]
            timestamp_str = message_timestamp.strftime(<span>&#39;%Y-%m-%d %H:%M:%S&#39;</span>)
            message_content = <span>f&#34;<span>{user_name}</span> said <span>{message[<span>&#39;text&#39;</span>]}</span>&#34;</span>
            channel_content += <span>f&#34;<span>{message_content}</span>\n&#34;</span></code></pre>
<p>This block of code:</p>
<ul>
<li>Logs every message from that day</li>
<li>Reformats to say “{username} said {message}” (ex., “Jeff said I am OOO”)</li>
<li>Combines into one massive message labeled <code>channel_content</code></li>
</ul>
<p>Then we had one paragraph of all the messages. Using Model Farm, I created this:</p>
<pre><code>  response: TextGenerationResponse = model.predict(
      <span>f&#34;Read all of the text in <span>{channel_content}</span>. Please make sure to include which user said each discussion point. Then provide a summary in bullets on all the main discussion points&#34;</span>,
      temperature=<span>0.8</span>,
      top_p=<span>0.8</span>,
      top_k=<span>40</span>,
      max_output_tokens=<span>256</span>)
  response_text = response.text
  print(response_text)</code></pre>
<p>This is a fascinating part of LLMs. With all of my messages stored in <code>channel_content</code>, I now want to send them to the model. But within this prompt, I wanted to give the Vertex model clear instructions, so I just embedded a prompt that basically says:</p>
<ul>
<li>Read all of the messages in <code>channel_content</code></li>
<li>Include the username</li>
<li>Provide a summary of main points</li>
<li>And format with bullets</li>
</ul>
<p>So the input included some long messages from my peers:</p>
<p><img src="https://blog.replit.com/images/slack-bot/slack-channel-messages.png?v=1696534367000" alt=""/></p>
<p>And when I click run, the Vertex model produced:</p>
<p><img src="https://blog.replit.com/images/slack-bot/vertex-output.png?v=1696534367000" alt=""/></p>
<p>Much cleaner and more concise. Way easier and faster to digest. </p>
<h2 id="simple-hosting-and-deployments">Simple hosting and deployments</h2>
<p>Once I completed my Slack Bot, the question was… how do I share it? There are a variety of cloud providers, but I have never used them. And Googling them leads to more questions than answers. Everyone labels everything differently.</p>
<p>Finally, most of them function off Git. Replit can use Git too, so that is not a huge issue, except for the fact that I do not know how to use Git. </p>

<p>This is where Replit deployments comes in. I can deploy directly from the editor. No need for other vendors. Now that I have done the hard work (creating the project), sharing is made easy. And because I have Replit Pro, I already have allocation for Autoscale deployments, so I do not need to pay anything additional.</p>
<p>This is WAY easier than anywhere else. Plus, it includes analytics and more. </p>
<p>You can fork <a href="https://replit.com/@jeff/SlackBot?v=1">this template</a>, and if you add your Slack API Keys (in secrets), it will work right away. No API keys for the models required. And it&#39;s free!</p>
<p>I also attached some dummy data, so people are not seeing our internal Replit conversations. But it works! If you’d like to try it out, reach out to me directly on <a href="https://twitter.com/Jeff_Burke14">X (@Jeff_Burke14)</a>, and I will get you set up.</p>
<h2 id="helpful-resources">Helpful resources</h2>
<ul>
<li><a href="https://replit.com/learn/100-days-of-python">Start 100 Days of Code</a></li>
<li><a href="https://replit.com/@jeff/SlackBot?v=1">Fork the template</a></li>
</ul>

      </div>
  </article>

</div>

    </section>

    <center>
      <section id="follow-cta">
          
      </section>
    </center>

    




  






</div>
  </body>
</html>
