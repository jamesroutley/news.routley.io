<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.righto.com/2023/01/reverse-engineering-airspeedmach.html">Original</a>
    <h1>Reverse-engineering an airspeed/Mach indicator from 1977</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-4620624825163473376" itemprop="description articleBody">


<p>How does a vintage airspeed indicator work? CuriousMarc picked one up for a project, but it didn&#39;t have any documentation, so I
reverse-engineered it.
This indicator
was used in the cockpit panel for business jets such as the
Gulfstream G-III, Cessna Citation, and Bombardier Challenger CL600.
It was probably manufactured in 1977 based on the dates on its transistors.</p>
<p>You might expect that the indicators on an aircraft control panel are simple dials.
But behind this dial is a large, 2.8-pound box
with a complex system of motors, gears, and feedback potentiometers, controlled by two boards of electronics.
But for all this complexity, the indicator doesn&#39;t have any smarts: the pointers just indicate voltages fed into it from an air data computer.
This is a quick blog post to summarize what I found.</p>
<p><a href="https://static.righto.com/images/mach-meter/front.jpg"><img alt="Front view of the indicator." height="293" src="https://static.righto.com/images/mach-meter/front-w300.jpg" title="Front view of the indicator." width="300"/></a></p><p>Front view of the indicator.</p>
<p>The dial has two rotating pointers:
the white pointer indicates airspeed in knots while
the striped pointer indicates the maximum airspeed (which varies depending on altitude).
The &#34;digital&#34; indicator at the top shows Mach number from 0.10 to 0.99, implemented with rotating digit wheels.
When the unit is operating, the OFF indicator flag switches to black. The flag switches to a bright V<sub>MO</sub> warning if
the pilot exceeds the maximum airspeed.<span id="fnref:maximum"><a href="#fn:maximum">1</a></span>
On the rim of the dial, two small markers called &#34;bugs&#34; can be manually moved to indicate critical speeds such as takeoff speed.</p>
<!--
Challenger CL601: https://www.psilabs.com/airframe_capabilities/airframe%20_capabilities.pdf
Challenger CL600 https://www.aerosales.co.uk/for-sale/light-aircraft/1983-challenger-cl-600-for-sale_i4274
Gulfstream G-III photo https://www.hangar67.com/aircraft/1984-gulfstream-giii/25408?psrc=8591#gallery-8
Cessna Citation https://adsavionics.com/cessna-citation/
-->



<p>In use, the indicator is connected to a Sperry air data computer and receives voltage signals to control the dial positions.<span id="fnref:connector"><a href="#fn:connector">3</a></span>
The air data computer measures the static and dynamic air pressure from pitot tubes and determines the airspeed, Mach number, altitude,
and other parameters. (These calculations become nontrival near Mach 1 as air compresses and the fluid dynamics change.)
Since we didn&#39;t have the air data computer or its specifications, I needed to figure out the connections from the computer to the display.</p>
<p>With the unit&#39;s cover removed, you can see the internal mechanisms and circuitry.
Each of the three indicators is controlled by a small DC motor with a potentiometer providing feedback.
To the right, two circuit boards provide the electronics to drive the indicators.<span id="fnref:boards"><a href="#fn:boards">4</a></span>
At the upper right, the black blob is a 26-volt 400-Hertz transformer to power the unit.
Some power supply components are in front of it.
Below the transformer is an orangish flexible printed-circuit board, which seems advanced for the timeframe.
This flexible ribbon connects the transformer, the external connector, and the printed-circuit board sockets, providing the backplane for the system.</p>
<p><a href="https://static.righto.com/images/mach-meter/opened-side.jpg"><img alt="A side view of the unit shows the gears to control the indicators." height="291" src="https://static.righto.com/images/mach-meter/opened-side-w600.jpg" title="A side view of the unit shows the gears to control the indicators." width="600"/></a></p><p>A side view of the unit shows the gears to control the indicators.</p>
<p>The diagram below shows the principle behind the servo mechanism that controls each indicator.
The goal is to rotate the indicator to a position corresponding to the input voltage.
A feedback loop is used to achieve this.
The potentiometer provides a voltage proportional to its rotation.
The input voltage and the feedback voltage are inputs to an op amp, which generates an error signal based on the difference between the inputs.
The error signal rotates the DC motor in the appropriate direction until the potentiometer voltage matches
the input voltage. Because the indicator and the potentiometer are geared together, the indicator will be in the correct position.
As the input voltage changes, the system will continuously track the changes and keep the indicator updated.</p>
<p><a href="https://static.righto.com/images/mach-meter/servo.jpg"><img alt="A diagram illustrating the servo feedback loop." height="195" src="https://static.righto.com/images/mach-meter/servo-w500.jpg" title="A diagram illustrating the servo feedback loop." width="500"/></a></p><p>A diagram illustrating the servo feedback loop.</p>
<p>Because the DC motor spins much faster than the dial moves, reduction gears slow the rotation.
The photo below shows the gear train in the unit. A potentiometer is at the upper-right with three wires attached.</p>
<p><a href="https://static.righto.com/images/mach-meter/gears.jpg"><img alt="A closeup of the gear train. A potentiometer is on the right." height="232" src="https://static.righto.com/images/mach-meter/gears-w400.jpg" title="A closeup of the gear train. A potentiometer is on the right." width="400"/></a></p><p>A closeup of the gear train. A potentiometer is on the right.</p>
<p>The Mach number has additional gearing to rotate the numbered wheels. When the low-digit wheel cycles around, it advances the high-digit wheel, similar to an odometer.</p>
<p><a href="https://static.righto.com/images/mach-meter/numbers.jpg"><img alt="The mechanism to rotate the digit wheels for the Mach number." height="188" src="https://static.righto.com/images/mach-meter/numbers-w400.jpg" title="The mechanism to rotate the digit wheels for the Mach number." width="400"/></a></p><p>The mechanism to rotate the digit wheels for the Mach number.</p>
<h2>Fault checking</h2>
<p>One interesting feature of the indicator unit is that it implements fault checking to alert the pilot if something goes wrong.
The front panel has a three-position flag. By default it&#39;s in the OFF position. Powering the coil in one direction rotates the
flag to the blank side. Powering the coil in the other direction rotates the flag to the &#34;V<sub>MO</sub>&#34; position which indicates that the pilot has
exceeded the maximum operating speed.</p>
<p>I figured that powering up the unit would move the flag out of the OFF position, but it&#39;s more complicated than that.
First, the unit checks that the air data computer is providing a suitable reference voltage.
Second, the unit verifies that the motor voltages for the two needles are within limits;
this ensures that the servo loop is operating successfully.
Third, the unit checks that signals are received on status pins K and L.
The unit only moves out of the OFF state if all these conditions are satisfied.<span id="fnref:lpin"><a href="#fn:lpin">5</a></span>
Thus, if the unit receives bad signals or is malfunctioning, the pilot will be alerted by the OFF indicator, rather than trusting the faulty display.</p>
<h2>The circuitry</h2>
<p>The unit is powered by 26 volts, 400 Hz, a standard voltage for aviation.
A small transformer provides multiple outputs for the various internal voltages.
The unit has four power supplies: three on the first board and one on the back wall of the unit.
One power supply is for the status indicator, one is for the op amps, one powers the 41.7V motors, and
the fourth provides other power.</p>
<p>One subtlety is how the feedback potentiometers are powered.
The servo loop compares the potentiometer voltage with the input voltage.
But this only works if the potentiometer and the input voltage are using the same reference.
One solution would be for the indicator unit and the air data computer to contain matching precision voltage regulators.[reference]
Instead, the system uses a simpler, more reliable approach: the air data computer provides a reference voltage that the
indicator unit uses to power the potentiometers.<span id="fnref:reference"><a href="#fn:reference">6</a></span>
With this approach, the air data computer&#39;s voltage reference can fluctuate and the indicator will still reach the right position.
(In other words, a 5V input with a 10V reference and a 6V input with a 12V reference are both 50%.)</p>
<p>The diagram below shows the board with the servo circuitry.
The board uses dual op-amp integrated circuits,
packaged in 10-pin metal cans that protected against interference.<span id="fnref:ics"><a href="#fn:ics">7</a></span>
The ICs and some of the other components have obscure military part numbers; I don&#39;t know if this unit was built for military use or if
military-grade parts were used for reliability.</p>
<p><a href="https://static.righto.com/images/mach-meter/board2-labeled.jpg"><img alt="The servo board is full of transistors, resistors, capacitors, diodes, and op-amp integrated circuits." height="432" src="https://static.righto.com/images/mach-meter/board2-labeled-w500.jpg" title="The servo board is full of transistors, resistors, capacitors, diodes, and op-amp integrated circuits." width="500"/></a></p><p>The servo board is full of transistors, resistors, capacitors, diodes, and op-amp integrated circuits.</p>
<p>The circuitry in the lower-left corner handles the reference voltage from the air data computer.
The board buffers this voltage with an op amp to power the three
feedback potentiometers.
The op amp also ensures that the reference voltage is at least 10 volts. If not, the indicator unit shows the &#34;OFF&#34; flag to alert the pilot.</p>
<p>The schematic below shows one of the servo circuits; the three circuits are roughly the same.
The heart of the circuit is the error op amp in the center. It compares the voltage from the potentiometer with the input voltage and
generates an error output that moves the motor appropriately.
A positive error output will turn on the upper transistor, driving the motor with a positive voltage.
Conversely, a negative error output will turn on the lower transistor, driving the motor with a negative voltage.
The motor drive circuit has clamp diodes to limit the transistor base voltages.</p>
<p><a href="https://static.righto.com/images/mach-meter/servo-schematic.jpg"><img alt="Schematic of one of the servo circuits." height="459" src="https://static.righto.com/images/mach-meter/servo-schematic-w700.jpg" title="Schematic of one of the servo circuits." width="700"/></a></p><p>Schematic of one of the servo circuits.</p>
<p>The op amp also receives a feedback signal from the motor output. I don&#39;t entirely understand this signal, which goes through a filter
circuit with resistors, diodes, and a capacitor. I think it dampens the motor signal so the motor doesn&#39;t overshoot the desired position.
I think it also keeps the transistor drive signal biased relative to the emitter voltage (i.e. the motor output).</p>
<p>On the input side, the potentiometer voltage goes through an op amp follower buffer, which simply outputs its input voltage.
This may seem pointless, but the op amp provides a high-impedance input so the
potentiometer&#39;s voltage doesn&#39;t get distorted.</p>
<p>The external input voltage goes through a resistor/capacitor circuit to scale it and filter out noise.
Curiously, the circuit board was modified by cutting a trace and adding a resistor and capacitor to change the input circuit for one of the inputs.
In the photo below, you can see the added resistor and capacitor; the cut trace is just to the right of the capacitor.
I don&#39;t know if this modification changed the scale factor or if it filtered out noise.
A label on the box says that Honeywell performed a modification on November 8, 1991, which presumably was this circuit.</p>
<p><a href="https://static.righto.com/images/mach-meter/modification.jpg"><img alt="A closeup of the circuit board showing the modification." height="276" src="https://static.righto.com/images/mach-meter/modification-w400.jpg" title="A closeup of the circuit board showing the modification." width="400"/></a></p><p>A closeup of the circuit board showing the modification.</p>
<p>The second board implements three power supplies as well as the circuitry for the OFF/V<sub>MO</sub> flag.
The power supplies are simple and unregulated, just diode bridges to convert AC to DC, along with filter capacitors.
Most of the circuitry on the board controls the status flag.
Two dual op amps check the motor voltages against upper and lower limits to ensure that the motors are tracking the inputs.
These outputs, along with other logic status signals, are combined with diode-transistor logic to determine the flag status.
Driver transistors provide +18 or -18 volts to the flag&#39;s coil to drive it to the desired position.</p>
<p><a href="https://static.righto.com/images/mach-meter/board1-labeled.jpg"><img alt="This board has power supply circuitry and the control circuitry for the indicator flag." height="557" src="https://static.righto.com/images/mach-meter/board1-labeled-w500.jpg" title="This board has power supply circuitry and the control circuitry for the indicator flag." width="500"/></a></p><p>This board has power supply circuitry and the control circuitry for the indicator flag.</p>
<!--
https://aerospace.honeywell.com.cn/content/dam/aerobt/en/documents/learn/products/sensors/brochures/C61-0308-000-001-AirDataComputer-bro.pdf
http://www.privatejettrading.com/aircraft/226/specs.html
https://www.ebay.com/itm/134144499925
https://myduncan.aero/online/parts/list/search/AZ-242
https://opposite-lock.com/topic/7358/flightline-113-c-11a-shuttle-training-aircraft
-->

<h2>Conclusions</h2>
<p>After reverse-engineering the pinout, I connected the airspeed indicator to a stack of power supplies and succeeded in getting the indicators to operate (<a href="https://twitter.com/kenshirriff/status/1613605588272807949">video</a>).
This unit is much more complex than I expected for a simple display, with servoed motors controlled by two boards of electronics.
Air safety regulations probably account for much of the complexity, ensuring that the display provides the pilot with accurate information.
For all that complexity, the unit is essentially a voltmeter, indicating three voltages on its display.
This airspeed indicator is a bit different from most of the hardware I examine, but hopefully you found this look at its internal circuitry interesting.</p>
<p><a href="https://static.righto.com/images/mach-meter/meter-opened.jpg"><img alt="With the case removed, the internal circuitry is visible." height="523" src="https://static.righto.com/images/mach-meter/meter-opened-w350.jpg" title="With the case removed, the internal circuitry is visible." width="350"/></a></p><p>With the case removed, the internal circuitry is visible.</p>
<p>You can follow me on Twitter <a href="https://twitter.com/kenshirriff">@kenshirriff</a> or <a href="https://www.righto.com/feeds/posts/default">rss</a>.
I&#39;ve also started experimenting with mastodon recently as <a href="https://oldbytes.space/@kenshirriff">@<span data-cfemail="bfd0d3dbddc6cbdacc91cccfdedcdaffd4dad1ccd7d6cdcdd6d9d9">[email protected]</span></a>.</p>
<h2>Notes and references</h2>


</div></div>
  </body>
</html>
