<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://gist.github.com/ilyakurdyukov/f514418f3affd677e1ac408ec0c09188">Original</a>
    <h1>Show HN: 10-40% faster LZMA decoder using x86 CMOVcc</h1>
    
    <div id="readability-page-1" class="page"><div>
		<p>In 2009, I quit my first programming job after college to work on a startup. That startup eventually became <a href="https://parse.ly">Parse.ly</a>. I’ve written about Parse.ly’s startup beginnings and evolution elsewhere on this blog, including:</p>
<ul>
<li><a href="https://amontalenti.com/2010/10/23/the-startup-diet">“The Startup Diet”</a></li>
<li><a href="https://amontalenti.com/2010/10/16/what-one-does">“What One Does”</a></li>
<li><a href="https://amontalenti.com/2011/04/02/not-for-the-faint-of-heart">“Startups: Not for the faint of heart”</a></li>
<li><a href="https://amontalenti.com/2012/10/03/why-startups-die">“Why Startups Die”</a></li>
<li><a href="https://amontalenti.com/2019/04/03/shipping-the-second-system">“Shipping the Second System”</a></li>
</ul>
<p>It is 2021 now, more than 12 years since the company’s original founding. And much has changed.</p>
<p><img src="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-logo.png" alt="" width="978" height="785" srcset="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-logo.png 978w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-logo-300x241.png 300w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-logo-768x616.png 768w" sizes="(max-width: 978px) 100vw, 978px"/>
</p>
<p>Parse.ly “the startup” was a rollercoaster, like all startups are, but it was, ultimately, a success. In 2009, we were a tiny 3-person team hacking away on prototypes at a startup accelarator in Philadelphia. In 2012, Parse.ly had its first handful of customers for the content analytics system that became our core product, and shifted into enterprise SaaS as a business model. In 2013, we raised “Series A” style financing to pursue the ambition of defining and leading the content analytics category.</p>
<p>By 2017, it was clear that Parse.ly had done just that: we had built a valuable product in the market and a beautiful SaaS business model, where our R&amp;D efforts were aligned with our customer needs. There was only a question of total market size. As a result, in 2018 we shifted our efforts to expanding Parse.ly’s market — acting as a content measurement layer not just for major media and entertainment companies, but for all content management systems and all content-rich websites.</p>
<p>By the end of 2019 and heading into early 2020, it was clear that Parse.ly was succeeding in this new vision, and was going to be a SaaS company “in it for the long-term”, serving our customers for years to come.</p>

<p>As with any change of product vision, the road to that evolution was not completely smooth, but it was, ultimately, necessary — and the outcome spoke for itself. By February 2020, we had a stable and growing roster of customers (250+ enterprises); a profitable SaaS business model (millions in revenue); an install base of over 5,000 high-traffic premium sites/domains; loads of 5-star software reviews on <a href="https://www.g2.com/products/parse-ly/reviews">G2</a> / <a href="https://www.trustradius.com/products/parse-ly/reviews">TrustRadius</a>; a real competitive edge and innovative product shipping culture; a passionate and motivated team of ~50 people, who had shared 20+ five-out-of-five-star reviews of working at the company <a href="https://en.wikipedia.org/wiki/Glassdoor">on Glassdoor</a>.</p>
<p>I had also made an important personal and professional transition. I was Parse.ly’s technical co-founder and thus its founding CTO, and I had run product and engineering for years. My biggest technical contribution as a leader, however, was fading in the rear-view mirror; it was the <a href="https://amontalenti.com/2019/04/03/shipping-the-second-system">“Second System” re-engineering work</a> I wrote about on this blog. I realized a lot of my attention had turned away from engineering and toward how our product fit into the wider market. And so, in February 2020, I transitioned the CTO responsibilities to a long-time senior engineer and VP Engineering, Keith Bourgoin, and <a href="https://www.linkedin.com/posts/andrewmontalenti_content-analytics-for-web-mobile-more-activity-6633041564048388097-wzUt/">promoted him to CTO</a>. Meanwhile, I carved out a new role for myself as Chief Product Officer (CPO), focusing on product strategy and product management, rather than purely on engineering.</p>
<p>Heading into February 2020, we had this wonderfully gelled executive team including two founders (me as CPO, and Sachin as CEO), a great CTO (Keith), a passionate CRO (Nick), a prudent/wise CFO (Jason), and a long-time executive assistant (Bethie), all of whom had an intense passion for the product &amp; business, an impressive professionalism, a winning pro-sports-team-like “we are the best in the business” attitude, and a deep sense of obligation to the staff and customers. We all worked so smoothly together as a nimble and aligned executive group. As we headed into our board meeting, we proposed one of our more ambitious growth plans ever. We had a plan to fuel our company’s growth in 2020 with a brand new approach to sales/marketing and snug product/market fit in our growing category.</p>
<p><a href="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-dashboard.png" target="_blank"><img src="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-dashboard.png" alt="" width="1384" height="681" srcset="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-dashboard.png 1384w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-dashboard-300x148.png 300w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-dashboard-768x378.png 768w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-dashboard-1024x504.png 1024w" sizes="(max-width: 1384px) 100vw, 1384px"/></a>
</p>
<p><small><em>How the Parse.ly dashboard looks to our typical customers upon login. Click to embiggen.</em></small></p>
<p>Then, of course, the year from hell began — thanks to Covid-19. We had to tear up our playbook coming out of that board meeting, and start from scratch. (This, mere weeks after “approving” the plan.) As a lean company who had <a href="https://blog.parse.ly/why-we-said-no-vc-money/">turned down huge VC financing rounds</a> to grow the customer-focused way, we didn’t have a massive cash reserve. And the macroeconomic climate suddenly became rather bleak, for us, and for everyone. As a result, the gelled executive team described above went into a kind of “war mode”. Our goal wasn’t any longer to pursue an ambitious growth plan. It was, instead, to ensure we kept 100% of our staff employed (we succeeded); that we served and retained our customers despite the challenging macroeconomic headwinds (we succeeded), and that we built up a cash buffer for what seemed increasingly likely to be “rainy days ahead” (we succeeded, and the rainy days never truly came).</p>
<p>Though we scaled back our growth plans, we didn’t scale back our innovative zeal or our ambition. As a result, the customer success, sales, and support teams all pulled together to retain nearly all of our customers through the year. To our surprise, many of those customers even wanted to spend <em>more</em> money with us. Our engineering colleagues found significant savings in our public cloud bills and data center infrastructure, through a combination of clever engineering, performance tuning, and cost optimization. This created a cash buffer for the business we could tap on a rainy day.</p>
<p>As for our product? Well, it started to get pulled, rather organically, into the market we originally targeted in 2018 and 2019 (as summarized in <a href="https://parsely.wistia.com/medias/tbv33sc8sh">this 1-minute market positioning video</a>). Since event marketing and field marketing were out (essentially cancelled by the pandemic), digital and content marketing were in (always important, but more important now, than ever). As a result, we found that our sales were stronger than we expected, even though we didn’t give them the huge boost from marketing we had expected to do in our original pre-pandemic plans. Our executive “war mode” for 2020 meant we ran the company prudently and confidently. But simple good fortune granted us the reward of a market acceleration into the need for precisely our software (as summarized by <a href="https://parsely.wistia.com/medias/ezubpibu0l">this 1-minute product overview video</a>). As the old aphorism goes, “fortune favors the bold”.</p>
<p>By the end of 2020, it was clear Parse.ly could be the leader of a newly-important content analytics SaaS category — we were going to do <a href="https://www.tbd.community/en/a/zebra-movement-starting-a-revolution">“zebra-style” profitable growth</a> from the foundation of a 50-person team, product/market leadership, and a now recession-battle-tested revenue retention model.</p>
<p>As November 2020 rolled around along with the US Thanksgiving holiday, I felt I had a lot for which to be thankful. Great colleagues, wonderful customers, a successful software company, and one that would survive even the harshest macroeconomic treatment. I thought for certain that 2021 was going to be Parse.ly’s best year ever — a true year of independent growth and scaling.</p>
<p>Then, right around Thanksgiving and heading into the December holiday period, my world got turned somewhat upside down, as M&amp;A discussions started, first in earnest, and then, as these things happen, quite seriously and quite rapidly. 2021 was going to be a great year, but for different reasons altogether.</p>
<p>After a whirlwind few months of deep multi-day conversations among simpatico management teams and a laborious business and technical due diligence process, in February 2021, we decided to perform our most ambitious act of scaling yet: Parse.ly <a href="https://www.wsj.com/articles/wordpress-vip-buying-content-analytics-firm-parse-ly-11612788609">was acquired</a> by <a href="https://automattic.com/about/">Automattic</a>, the creators of WordPress.com and WooCommerce.com, and the company founded, over 15 years ago, by <a href="https://ma.tt/about/">the creator</a> of one of the web’s most popular open source projects, <a href="https://wordpress.org/about/">WordPress</a>.</p>
<p>For me, it is a rather fascinating “homecoming”, as Automattic is always a company I admired and respected from the outside, it being one of the few “scaled” fully distributed teams (with no central office, and with 1,800 Automatticians as of this writing, and counting). And WordPress was always one of my favorite pieces of software — in fact, it has powered this blog since my earliest days publishing on the web, since 2005 or so.</p>
<p>It is also not a surprise that this is the best home for Parse.ly in the wider ecosystem: our most popular way to install our content analytics software was via our freely available WordPress plugin, a fact made obvious by the power law dynamics at play in the CMS market, where 40%+ of high- and medium-traffic content sites are powered by WordPress — nearly 10x more marketshare than the next open source competitor. I had also been a long-time Jetpack and Akismet user for my blogs, and even a long-time personal user of Simplenote for notetaking. All of which are great products.</p>
<p><img src="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/automattic-logos.png" alt="" width="2400" height="1256" srcset="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/automattic-logos.png 2400w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/automattic-logos-300x157.png 300w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/automattic-logos-768x402.png 768w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/automattic-logos-1024x536.png 1024w" sizes="(max-width: 2400px) 100vw, 2400px"/>
</p>
<p>Parse.ly joined Automattic’s enterprise software division, <a href="https://wpvip.com">WPVIP</a>, to bring content analytics to all sites and all enterprises. You can think of WPVIP as the division that turns fully managed and supported WordPress hosting into a modern SaaS offering, along with other content-oriented SaaS add-ons, and delivers all of this to mid-market and large enterprises. Parse.ly was Automattic’s “largest acquisition by cost and revenue” (<a href="https://www.wsj.com/articles/wordpress-vip-buying-content-analytics-firm-parse-ly-11612788609">source</a>), and it was the capstone of Parse.ly’s 12 years as a standalone software company.</p>
<p>As was <a href="https://www.techmeme.com/210208/p12#a210208p12">reported elsewhere in the press</a>, all of Parse.ly’s staff came along to Automattic; I was put in charge of Parse.ly’s product and Sachin was put in charge of Parse.ly’s go-to-market efforts — both as <a href="https://www.parse.ly/overview">a standalone content analytics system</a>, and as <a href="https://wpvip.com/content-analytics/">an add-on offering</a> for WPVIP’s existing customers with <a href="https://wpvip.com/wordpress-platform/">its enterprise WordPress hosting platform</a>. Sachin also wrote <a href="https://blog.parse.ly/wpvip-acquisition/">a nice note</a> about why the companies fit so well together.</p>
<p>In September 2021, <a href="https://wpvip.com/2021/08/30/parse-ly-is-now-a-core-part-of-wordpress-vips-platform/">I was proud to announce</a> that Parse.ly had completed its technical integration with WPVIP. This meant that Parse.ly infrastructure and technology was “rolled out” (via an improved version of the WordPress plugin described above) to all of WPVIP’s customers. Within the span of a few weeks, this increased Parse.ly overall traffic by over 30% and doubled the product’s enterprise installbase.</p>
<p>This is the beginning of making Parse.ly not just the #1 content analytics system in the world, but also a foundational piece of SaaS infrastructure for users of any CMS. This will also help WPVIP move beyond serving enterprise WordPress users exclusively, and toward a broader vision of serving enterprise content teams of all sorts, regardless of the CMS they happen to run. Parse.ly’s underlying cloud data platform and APIs will also bring key improvements to the core WordPress VIP product in the future, in areas like smart content tagging, CMS-integrated analytics, and personalized recommendations.</p>
<p>Despite all the process chaos and staff commotion that is inevitably caused by a company acquisition, the acquisition went very smoothly this year. I think the staff felt it was a great cultural fit due to the history of <a href="https://distributed.blog/about/">both</a> <a href="https://speakerdeck.com/amontalenti/fully-distributed-and-asynchronous-building-eventually-coordinated-teams-that-ship">companies</a> being fully distributed teams (inspired by open source) long before the world was forced to go remote. We also got so many wonderful messages from customers, old and new alike, about how excited they were to see our company get a renewed level of investment from a parent company with so much mission alignment. A “perfect fit” in so many respects.</p>
<p><img src="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-toast.png" alt="" width="1863" height="1059" srcset="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-toast.png 1863w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-toast-300x171.png 300w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-toast-768x437.png 768w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-toast-1024x582.png 1024w" sizes="(max-width: 1863px) 100vw, 1863px"/>
</p>
<p><small><em>A toast! Well, a virtual toast over Zoom. This, when the acquisition was announced internally to the staff.</em></small></p>
<p>This year, despite all those “distractions”, we also continued to ship important new features to our customers, as planned, including innovative improvements to <a href="https://blog.parse.ly/smart-tags-content-tagging-made-easy/">Smart Tags</a> and our <a href="https://blog.parse.ly/content-conversions-faster/">Content Conversions</a> engine. Continuing to ship at your pre-acquisition pace is trickier than it seems, when everyone’s communication tools have changed (<a href="https://wordpress.com/p2/">hello, P2!</a>) and when we also have new HR/payroll/whatever systems, as well as a few hundred new colleagues to meet, an entire new SaaS business to learn about (WPVIP’s), and a hiring backlog to fill (hello, all new Automatticians joining as Parse.ly sprigs!). But, we managed to do it — mostly by doubling down on some of our classic tried-and-true techniques for <a href="https://amontalenti.com/2017/10/27/skeptics">product and engineering focus on shipping</a>!</p>
<p>We also had record-breaking quarters of growth and revenue achievement, thanks to a newly-invigorated sales team. Our marketing and support teams also stepped up their game, and saw many of their earlier investments in process, hires, or tooling during late 2020 come to fruition in mid-to-late 2021. As US Thanksgiving passed again this year, I felt I had a lot — quite a lot indeed — for which to be thankful. Parse.ly is, quite simply, a kick-ass company in the best shape of its life.</p>
<p>It’s also no longer “my company”. That leads to all sorts of interesting emotions — similar, I think, to a devoted parent sending their now-grown adult child to college. But, in much the same way as a parent might, though I feel a little loss inside, my top emotion is a warm and encouraging pride. Parse.ly grew up and turned out so well.</p>
<p><img src="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-founding.png" alt="" width="814" height="654" srcset="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-founding.png 814w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-founding-300x241.png 300w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-founding-768x617.png 768w" sizes="(max-width: 814px) 100vw, 814px"/>
</p>
<p><small><em>Parse.ly original founding team at the Dreamit Ventures offices in Philly in Summer 2009. Background-to-foreground on the left are Didier Deshommes (long-time backend engineer at Parse.ly), myself (founding CTO), and Sachin Kamdar (founding CEO). The office is empty because we were working late.</em></small></p>
<p>I once wrote on this blog, “It may sound lofty, but a startup is your life’s work. You have to think about your company as a ten year project.” I started this company over 12 years ago. In our new-thing-obsessed Silicon Valley culture, that means the company is downright ancient (and Automattic moreso). But, we always took the long view on the company, and I’m glad that we did. Parse.ly is definitely one of the web’s lasting SaaS companies, and content analytics will be a lasting category of software. And there is still so much work to do in the category, and Automattic is a great place for that work to happen.</p>
<p>Automattic is also a company that has taken the long view — on open source, on <a href="https://amontalenti.com/2012/05/14/distributed-teams">fully distributed teams</a>, on content + commerce as the cornerstones of the modern open web. I’m excited to see what we can do together, as Parse.ly receives continued R&amp;D investment by its new parent company in 2021 and beyond. I am also personally excited to see the dream of Parse.ly’s scaled technology come true — scaling from just a few sites, to thousands of sites, to tens of thousands, and to, perhaps, one day, millions of sites. This awe-inspiring scale means a new opportunity to build our products and offerings to endure beyond the <em>next</em> decade. This has me quite personally excited as a product leader.</p>
<p>To see this outcome of continued scale is also quite the joy for me as <a href="https://amontalenti.com/2018/08/26/sicp-expanding">an engineer and builder</a>, as someone who started out with a blank <a href="https://github.com/amontalenti/home#editor">vim</a> code editor and some JavaScript and Python prototype code, making the earliest deploys to a hand-built 1U rackmount server, running a hand-configured build of Linux, reading about <a href="https://www.djangoproject.com/">Django</a> and <a href="https://blog.parse.ly/lucene/">Lucene</a> and <a href="https://amontalenti.com/2019/08/10/javascript-the-modern-parts">browser APIs</a> in my spare time. It must also be a joy for all the engineers, designers, and product managers who joined us along the way, whether they were still here in February 2021 (as some were!), or whether they had moved on to other codebases and companies.</p>
<p>The best lesson I learned in the last 12 years is that nothing matters more — nothing — than the people you work with and how you treat them. If we worked together at any point in the last 12 years, and I haven’t already thanked you personally, then please get in touch.</p>
<p><img src="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-people.png" alt="" width="1600" height="1200" srcset="https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-people.png 1600w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-people-300x225.png 300w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-people-768x576.png 768w, https://amontalenti.com/wordpress/wp-content/uploads/2021/12/parsely-people-1024x768.png 1024w" sizes="(max-width: 1600px) 100vw, 1600px"/>
</p>
<p><small><em>Drone photo of the full Parse.ly team in 2018 at an all-company retreat in Rensselaerville, NY.</em></small></p>
<p>Most of all, I am thankful for the opportunity we had, and we continue to have, to faithfully serve our customers, to give them more visibility into their audience, visitors, content, and traffic every single day. Parse.ly will continue to be there for those customers over the long term. Our product made the invisible visible. But, our customers made the impossible possible.</p>
	</div></div>
  </body>
</html>
