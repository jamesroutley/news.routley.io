<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/riquito/tuc">Original</a>
    <h1>Show HN: Tuc – When cut doesn’t cut it</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a href="https://crates.io/crates/tuc" rel="nofollow"><img src="https://camo.githubusercontent.com/2cf3d9adf031374f63d1551e09eb059fc494e3f0a33ca985de0c66535821de2c/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f7475632e737667" alt="version" data-canonical-src="https://img.shields.io/crates/v/tuc.svg"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/riquito/tuc/actions/workflows/ci.yml/badge.svg"><img src="https://github.com/riquito/tuc/actions/workflows/ci.yml/badge.svg" alt="ci"/></a>
<a href="https://crates.io/crates/tuc" rel="nofollow"><img src="https://camo.githubusercontent.com/82e5be51ec45c727f69cfbffa064140b996e750a6589573438d67e4c3f44511f/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f6c2f7475632e737667" alt="license" data-canonical-src="https://img.shields.io/crates/l/tuc.svg"/></a></p>
<p dir="auto">You want to <code>cut</code> on more than just a character, perhaps using negative indexes
or format the selected fields as you want...
Maybe you want to cut on lines (ever needed to drop first and last line?)...
That&#39;s where <code>tuc</code> can help.</p>
<h2 dir="auto"><a id="user-content-install" aria-hidden="true" href="#install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Install</h2>
<p dir="auto">Download one of the <a href="https://github.com/riquito/tuc/releases">prebuilt binaries</a></p>
<p dir="auto">or run</p>
<div data-snippet-clipboard-copy-content="# requires rustc &gt;= 1.61.0
cargo install tuc # append `--features regex` if you want regex support"><pre><span><span>#</span> requires rustc &gt;= 1.61.0</span>
cargo install tuc <span><span>#</span> append `--features regex` if you want regex support</span></pre></div>
<h2 dir="auto"><a id="user-content-help" aria-hidden="true" href="#help"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Help</h2>
<div data-snippet-clipboard-copy-content="tuc 0.11.0 [UNRELEASED]
Cut text (or bytes) where a delimiter matches, then keep the desired parts.

The data is read from standard input.

USAGE:
    tuc [FLAGS] [OPTIONS]

FLAGS:
    -g, --greedy-delimiter        Match consecutive delimiters as if it was one
    -p, --compress-delimiter      Print only the first delimiter of a sequence
    -s, --only-delimited          Print only lines containing the delimiter
    -V, --version                 Print version information
    -z, --zero-terminated         Line delimiter is NUL (\0), not LF (\n)
    -h, --help                    Print this help and exit
    -m, --complement              Invert fields (e.g. &#39;2&#39; becomes &#39;1,3:&#39;)
    -j, --(no-)join               Print selected parts with delimiter inbetween

OPTIONS:
    -f, --fields &lt;bounds&gt;         Fields to keep, 1-indexed, comma separated.
                                  Use colon to include everything in a range.
                                  Fields can be negative (-1 is the last field).
                                  [default 1:]

                                  e.g. cutting on &#39;-&#39; the string &#39;a-b-c-d&#39;
                                    1     =&gt; a
                                    1:    =&gt; a-b-c-d
                                    1:3   =&gt; a-b-c
                                    3,2   =&gt; cb
                                    3,1:2 =&gt; ca-b
                                    -3:-2 =&gt; b-c

                                  To re-apply the delimiter add -j, to replace
                                  it add -r (followed by the new delimiter).

                                  You can also format the output using {} syntax
                                  e.g.
                                  &#39;[&#34;{1}&#34;, &#34;{2}&#34;]&#39; =&gt; [&#34;a&#34;, &#34;b&#34;]

                                  You can escape { and } using {{ and }}.

    -b, --bytes &lt;bounds&gt;          Same as --fields, but it keeps bytes
    -c, --characters &lt;bounds&gt;     Same as --fields, but it keeps characters
    -l, --lines &lt;bounds&gt;          Same as --fields, but it keeps lines
                                  Implies --join. To merge lines, use --no-join
    -d, --delimiter &lt;delimiter&gt;   Delimiter used by --fields to cut the text
                                  [default: \t]
    -e, --regex                   Use a regular expression as delimiter
    -r, --replace-delimiter &lt;new&gt; Replace the delimiter with the provided text
    -t, --trim &lt;type&gt;             Trim the delimiter (greedy). Valid values are
                                  (l|L)eft, (r|R)ight, (b|B)oth

Options precedence:
    --trim and --compress-delimiter are applied before --fields or similar

Memory consumption:
    --characters and --fields read and allocate memory one line at a time

    --lines allocate memory one line at a time as long as the requested fields
    are ordered and non-negative (e.g. -l 1,3:4,4,7), otherwise it allocates
    the whole input in memory (it also happens when -p or -m are being used)

    --bytes allocate the whole input in memory"><pre><code>tuc 0.11.0 [UNRELEASED]
Cut text (or bytes) where a delimiter matches, then keep the desired parts.

The data is read from standard input.

USAGE:
    tuc [FLAGS] [OPTIONS]

FLAGS:
    -g, --greedy-delimiter        Match consecutive delimiters as if it was one
    -p, --compress-delimiter      Print only the first delimiter of a sequence
    -s, --only-delimited          Print only lines containing the delimiter
    -V, --version                 Print version information
    -z, --zero-terminated         Line delimiter is NUL (\0), not LF (\n)
    -h, --help                    Print this help and exit
    -m, --complement              Invert fields (e.g. &#39;2&#39; becomes &#39;1,3:&#39;)
    -j, --(no-)join               Print selected parts with delimiter inbetween

OPTIONS:
    -f, --fields &lt;bounds&gt;         Fields to keep, 1-indexed, comma separated.
                                  Use colon to include everything in a range.
                                  Fields can be negative (-1 is the last field).
                                  [default 1:]

                                  e.g. cutting on &#39;-&#39; the string &#39;a-b-c-d&#39;
                                    1     =&gt; a
                                    1:    =&gt; a-b-c-d
                                    1:3   =&gt; a-b-c
                                    3,2   =&gt; cb
                                    3,1:2 =&gt; ca-b
                                    -3:-2 =&gt; b-c

                                  To re-apply the delimiter add -j, to replace
                                  it add -r (followed by the new delimiter).

                                  You can also format the output using {} syntax
                                  e.g.
                                  &#39;[&#34;{1}&#34;, &#34;{2}&#34;]&#39; =&gt; [&#34;a&#34;, &#34;b&#34;]

                                  You can escape { and } using {{ and }}.

    -b, --bytes &lt;bounds&gt;          Same as --fields, but it keeps bytes
    -c, --characters &lt;bounds&gt;     Same as --fields, but it keeps characters
    -l, --lines &lt;bounds&gt;          Same as --fields, but it keeps lines
                                  Implies --join. To merge lines, use --no-join
    -d, --delimiter &lt;delimiter&gt;   Delimiter used by --fields to cut the text
                                  [default: \t]
    -e, --regex                   Use a regular expression as delimiter
    -r, --replace-delimiter &lt;new&gt; Replace the delimiter with the provided text
    -t, --trim &lt;type&gt;             Trim the delimiter (greedy). Valid values are
                                  (l|L)eft, (r|R)ight, (b|B)oth

Options precedence:
    --trim and --compress-delimiter are applied before --fields or similar

Memory consumption:
    --characters and --fields read and allocate memory one line at a time

    --lines allocate memory one line at a time as long as the requested fields
    are ordered and non-negative (e.g. -l 1,3:4,4,7), otherwise it allocates
    the whole input in memory (it also happens when -p or -m are being used)

    --bytes allocate the whole input in memory
</code></pre></div>
<h2 dir="auto"><a id="user-content-examples" aria-hidden="true" href="#examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h2>
<div data-snippet-clipboard-copy-content="# Cut and rearrange fields...
❯ echo &#34;foo bar baz&#34; | tuc -d &#39; &#39; -f 3,2,1
bazbarfoo"><pre><span><span>#</span> Cut and rearrange fields...</span>
❯ <span>echo</span> <span><span>&#34;</span>foo bar baz<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span> <span>&#39;</span></span> -f 3,2,1
bazbarfoo</pre></div>
<div data-snippet-clipboard-copy-content="# ...and apply back the delimiter...
❯ echo &#34;foo bar baz&#34; | tuc -j -d &#39; &#39; -f 3,2,1
baz bar foo"><pre><span><span>#</span> ...and apply back the delimiter...</span>
❯ <span>echo</span> <span><span>&#34;</span>foo bar baz<span>&#34;</span></span> <span>|</span> tuc -j -d <span><span>&#39;</span> <span>&#39;</span></span> -f 3,2,1
baz bar foo</pre></div>
<div data-snippet-clipboard-copy-content="# ...or replace it
❯ echo &#34;foo bar baz&#34; | tuc -j -r &#39; ➡ &#39; -d &#39; &#39; -f 3,2,1
baz ➡ bar ➡ foo"><pre><span><span>#</span> ...or replace it</span>
❯ <span>echo</span> <span><span>&#34;</span>foo bar baz<span>&#34;</span></span> <span>|</span> tuc -j -r <span><span>&#39;</span> ➡ <span>&#39;</span></span> -d <span><span>&#39;</span> <span>&#39;</span></span> -f 3,2,1
baz ➡ bar ➡ foo</pre></div>
<div data-snippet-clipboard-copy-content="# Keep ranges
❯ echo &#34;foo bar    baz&#34; | tuc -d &#39; &#39; -f 2:
bar    baz"><pre><span><span>#</span> Keep ranges</span>
❯ <span>echo</span> <span><span>&#34;</span>foo bar    baz<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span> <span>&#39;</span></span> -f 2:
bar    baz</pre></div>
<div data-snippet-clipboard-copy-content="# Cut using a greedy delimiter
❯ echo &#34;foo    bar&#34; | tuc -g -d &#39; &#39; -f 1,2
foobar"><pre><span><span>#</span> Cut using a greedy delimiter</span>
❯ <span>echo</span> <span><span>&#34;</span>foo    bar<span>&#34;</span></span> <span>|</span> tuc -g -d <span><span>&#39;</span> <span>&#39;</span></span> -f 1,2
foobar</pre></div>
<div data-snippet-clipboard-copy-content="# Format output
❯ echo &#34;foo bar baz&#34; | tuc -d &#39; &#39; -f &#39;{1}, {2} and lastly {3}&#39;
foo, bar and lastly baz
# Support \n
❯ echo &#34;100Kb README.txt 2049-02-01&#34; | tuc -d &#39; &#39; -f &#39;{2}\n├── {1}\n└── {3}&#39;
README.txt
├── 100Kb
└── 2049-02-01"><pre><span><span>#</span> Format output</span>
❯ <span>echo</span> <span><span>&#34;</span>foo bar baz<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span> <span>&#39;</span></span> -f <span><span>&#39;</span>{1}, {2} and lastly {3}<span>&#39;</span></span>
foo, bar and lastly baz
<span><span>#</span> Support \n</span>
❯ <span>echo</span> <span><span>&#34;</span>100Kb README.txt 2049-02-01<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span> <span>&#39;</span></span> -f <span><span>&#39;</span>{2}\n├── {1}\n└── {3}<span>&#39;</span></span>
README.txt
├── 100Kb
└── 2049-02-01</pre></div>
<div data-snippet-clipboard-copy-content="# Cut lines (e.g. drop first and last line)
❯ printf &#34;a\nb\nc\nd\ne&#34; | tuc -l 2:-2
b
c
d"><pre><span><span>#</span> Cut lines (e.g. drop first and last line)</span>
❯ <span>printf</span> <span><span>&#34;</span>a\nb\nc\nd\ne<span>&#34;</span></span> <span>|</span> tuc -l 2:-2
b
c
d</pre></div>
<div data-snippet-clipboard-copy-content="# Concatenate lines
❯ printf &#34;a\nb\nc\nd\ne&#34; | tuc -l 1,2 --no-join
ab"><pre><span><span>#</span> Concatenate lines</span>
❯ <span>printf</span> <span><span>&#34;</span>a\nb\nc\nd\ne<span>&#34;</span></span> <span>|</span> tuc -l 1,2 --no-join
ab</pre></div>
<div data-snippet-clipboard-copy-content="# Compress delimiters after cut
❯ echo &#34;foo    bar   baz&#34; | tuc -d &#39; &#39; -f 2: -p
bar baz"><pre><span><span>#</span> Compress delimiters after cut</span>
❯ <span>echo</span> <span><span>&#34;</span>foo    bar   baz<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span> <span>&#39;</span></span> -f 2: -p
bar baz</pre></div>
<div data-snippet-clipboard-copy-content="# Replace remaining delimiters with something else
❯ echo &#34;foo    bar   baz&#34; | tuc -d &#39; &#39; -f 2: -p -r &#39; -&gt; &#39;
bar -&gt; baz"><pre><span><span>#</span> Replace remaining delimiters with something else</span>
❯ <span>echo</span> <span><span>&#34;</span>foo    bar   baz<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span> <span>&#39;</span></span> -f 2: -p -r <span><span>&#39;</span> -&gt; <span>&#39;</span></span>
bar -<span>&gt;</span> baz</pre></div>
<div data-snippet-clipboard-copy-content="# Indexes can be negative and rearranged
❯ echo &#34;a b c&#34; | tuc -d &#39; &#39; -f -1,-2,-3
cba"><pre><span><span>#</span> Indexes can be negative and rearranged</span>
❯ <span>echo</span> <span><span>&#34;</span>a b c<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span> <span>&#39;</span></span> -f -1,-2,-3
cba</pre></div>
<div data-snippet-clipboard-copy-content="# Cut using regular expressions (requires a release with regex features enabled)
❯ echo &#34;a,b, c&#34; | tuc -e &#39;[, ]+&#39; -f 1,3
ac"><pre><span><span>#</span> Cut using regular expressions (requires a release with regex features enabled)</span>
❯ <span>echo</span> <span><span>&#34;</span>a,b, c<span>&#34;</span></span> <span>|</span> tuc -e <span><span>&#39;</span>[, ]+<span>&#39;</span></span> -f 1,3
ac</pre></div>
<div data-snippet-clipboard-copy-content="# Delimiters can be any number of characters long
❯ echo &#34;a&lt;sep&gt;b&lt;sep&gt;c&#34; | tuc -d &#39;&lt;sep&gt;&#39; -f 1,3
ac"><pre><span><span>#</span> Delimiters can be any number of characters long</span>
❯ <span>echo</span> <span><span>&#34;</span>a&lt;sep&gt;b&lt;sep&gt;c<span>&#34;</span></span> <span>|</span> tuc -d <span><span>&#39;</span>&lt;sep&gt;<span>&#39;</span></span> -f 1,3
ac</pre></div>
<div data-snippet-clipboard-copy-content="# Cut characters (expects UTF-8 input)
❯ echo &#34;😁🤩😝😎&#34; | tuc -c 4,3,2,1
😎😝🤩😁"><pre><span><span>#</span> Cut characters (expects UTF-8 input)</span>
❯ <span>echo</span> <span><span>&#34;</span>😁🤩😝😎<span>&#34;</span></span> <span>|</span> tuc -c 4,3,2,1
😎😝🤩😁</pre></div>
<div data-snippet-clipboard-copy-content="# Cut bytes (the following emoji are 4 bytes each)
❯ echo &#34;😁🤩😝😎&#34; | tuc -b 5:8
🤩"><pre><span><span>#</span> Cut bytes (the following emoji are 4 bytes each)</span>
❯ <span>echo</span> <span><span>&#34;</span>😁🤩😝😎<span>&#34;</span></span> <span>|</span> tuc -b 5:8
🤩</pre></div>
<div data-snippet-clipboard-copy-content="# Keep non-matching fields
❯ echo &#34;a b c&#34; | tuc --complement -d &#39; &#39; -f 2
ac"><pre><span><span>#</span> Keep non-matching fields</span>
❯ <span>echo</span> <span><span>&#34;</span>a b c<span>&#34;</span></span> <span>|</span> tuc --complement -d <span><span>&#39;</span> <span>&#39;</span></span> -f 2
ac</pre></div>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>LICENSE</h2>
<p dir="auto">Tuc is distributed under the GNU GPL license (version 3 or any later version).</p>
<p dir="auto">See <a href="https://github.com/riquito/tuc/blob/master/LICENSE">LICENSE</a> file for details.</p>
</article>
          </div></div>
  </body>
</html>
