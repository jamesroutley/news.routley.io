<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://astrobe.com/Modula2/">Original</a>
    <h1>Lilith and Modula-2</h1>
    
    <div id="readability-page-1" class="page"><article>
        <h4>
            Introduction</h4>
        <p>
            The programming language Modula-2 was authored by Professor Niklaus Wirth of the
                    Institut fur Informatik of the Swiss Federal Institute of Technology (ETH) in 1979.
                    A joint software / hardware project, in conjunction with the language development
                    produced the advanced programmers&#39; workstation Lilith in 1980. Software developed
                    for the Lilith computer included a compiler, operating system, text and graphic
                    editors and other support software:
        </p>
        <ul>
            <li><i>ETH Report Nr 40 - The Personal Computer Lilith (The Yellow Report)</i>. Apr 1981. N. Wirth</li>
        </ul>
        <h4>Multi-Pass Modula-2 Compiler Sources (Lilith M-code)</h4>
        <p>
            Professor Niklaus Wirth has kindly given us permission to make the following items
                    publicly available here:
        </p>
        <ul>
            <li><i>M2M Compiler Sources</i>. Modula Research Institute. Oct 1983</li>
        </ul>
        <p>
            The first Modula-2 compiler was completed in 1979 and ran on the DEC PDP-11. This
                    is the source code of the PC version of the second Modula-2 compiler. It generates
                    M-code for the Lilith and can be compiled and run on a PC using the M2M-PC System
                    (see below). The following text document files are included with the sources:
        </p>
        <ul>
            <li>Overview of the Modula-2 Compiler M2M</li>
            <li>Files on Tape for M2M Compiler</li>
            <li>The M-code interpreter (Appendix 1 of the Yellow Report)</li>
        </ul>
        <p>
            The appendix includes a table of the M-Code instructions and the Modula-2 source
                    of the M-Code intepreter providing a high-level definition of the Lilith computer&#39;s
                    instruction set and architecture.
        </p>
        <ul>
            <li><i>The M2M-PC System - v1.35 for MS-DOS</i>. Modula Research Institute. Feb 1984
                        </li>
        </ul>
        <p>
            The M2M-PC System is an M-code interpreter which allows the Lilith Modula-2 compiler
                    and its output to be executed on the IBM-PC running MS-DOS 2.0 or later. Refer to the Modula-2 Handbook
                    for instructions on how to use the system:
        </p>
        <ul>
            <li><i>The Modula-2 Handbook - A Guide for Modula-2 Users and Programmers</i>. Nov 1983.
                        Modula Research Institute 
                        </li>
        </ul>
        <a href="#Contents"></a>
        <h4>Single-Pass Modula-2 Compiler Source Code (Lilith M-code)</h4>
        <ul>
            <li><em>A Single-pass Modula-2 Compiler for Lilith, </em>N.Wirth, Nov 1985 </li>
        </ul>
        <p>
            The third Lilith Modula-2 compiler was released in 1985. It is a single-pass compiler developed by 
            J. Gutknecht and N. Wirth and compiles about four times faster than the earlier multi-pass compiler. 
            The single-pass compiler is also significantly smaller than the older 4/5 pass compiler:</p>
        <table>
            <tbody><tr>
                <th> </th>
                <th>Modules</th>
                <th>Lines of code</th>
            </tr>
            <tr>
                <td>Single-pass</td>
                <td>11</td>
                <td>~ 4,300</td>
            </tr>
            <tr>
                <td>Multi-pass</td>
                <td>46</td>
                <td>~ 14,900</td>
            </tr>
        </tbody></table>
        <p>
            The source code went missing for many years but was <a href="https://groups.google.com/g/comp.lang.modula2/c/MOrSzVeRBXA">eventually located in Nov 2021</a> by Jos Dreesen, the designer of the remarkable Lilith emulator <em>EmuLith</em>. </p>
        <p>
            An executable version of this compiler named <em>SYS.compile.OBJ</em> exists on several of the disk images (e.g. <em>Dsk1.img</em>)<em> </em>included with EmuLith.<em> </em>It can be used to compile these sources using the Medos commandfile<em> M2SP.COM </em>that accompanies the source files.</p>
        <h4>Single-Pass Modula-2 Compiler Source Code (Mac 68000)</h4>
        <ul>
            <li><em>MacMeth Compiler Sources</em>. Copyright 1992 Departement Informatik ETH Zuerich
                        </li>
        </ul>
        <p>
            This source code is of a version of the single-pass compiler which generates native
                    code for the Motorola MC68000 and MC68040 microprocessors. Refer to the file <em>copyright
                    </em>contained in the zip file for the relevant licensing conditions.
        </p>
        <p>
            Two versions of the compiler are included. They correspond to the versions of the
                    language as described in the Third (1985) and Fourth Editions (1988) of the reference:
        </p>
        <p>
            <em>   Programming in Modula-2</em>, N. Wirth, published by Springer-Verlag.
        </p>
        <p>
            These compilers are used in the Apple Macintosh Modula-2 system MacMETH. The MacMETH
                    User Manual contains detailed operational information about the compilers:
        </p>
        <p>
            <em>   MacMETH 3.2. A Fast Modula-2 Language System For the Apple Macintosh
                        - User Manual.</em></p>
        <p>
            A copy of this manual can be downloaded from the <a target="_blank" href="http://www.sysecol2.ethz.ch/RAMSES/MacMETH.html">MacMeth website</a>
        </p>
        <h4>
            Related Dissertations</h4>
        <ul>
            <li><i>Code Generation and the Lilith Architecture, </i>C. Jacobi. ETH Zurich, 1982.
                         
                        </li>
             <li><i>Separate Compilation in Modula-2 and the Structure of the Modula-2 Compiler on
                        the Personal Computer Lilith, </i>L. Geissmann. ETH Zurich, 1983.  
                        </li>
        </ul>
        <h4>
            Further Reading</h4>
        <ul>
            <li><i>Programming in Modula-2</i>, N. Wirth, <i></i>Springer-Verlag, 1982, ISBN 3-540-12206-0.
                This is the reference document for the original version of Modula-2.<br/>
            </li>
            <li>Modula-2 and Lilith-related Publications at the <a href="https://www.inf.ethz.ch/utils/search.html?search=modula-2&amp;language=en">ETH Zurich Department of Computer Science</a></li>
            <li><em>The School of Niklaus Wirth, &#34;The Art of Simplicity&#34;, </em>
                László Böszörményi,
                Jürg Gutknecht, Gustav Pomberger (Eds.):  Morgan-Kaufmann 2000, ISBN 3-932588-85-1
                There are many references to Lilith and Modula-2 throughout this book, but chapters
                of particular interest are:
        </li></ul>
        <blockquote>
            <ul>
                <li>Medos in Retrospect</li>
                <li>Lilith Meets the World of Business</li>
                <li>The Chip Company that Made $100M with Modula-2</li>
            </ul>
        </blockquote>
        <h4>
            Related Links</h4>
        <ul>
            <li><a href="ftp://ftp.dreesen.ch/Emulith/" target="_blank">ftp://ftp.dreesen.ch/Emulith/</a> - Jos Dreesen&#39;s Lilith Emulator </li>
            <li><a target="_blank" href="https://www.ethistory.ethz.ch/rueckblicke/departemente/dinfk/forschung/weitere_seiten/lilith/index_EN/popupfriendly/index_EN.html">ETHistory</a> - Lilith Workstation</li>
            <li><a href="https://astrobe.com/Modula2/X68000.htm">X68000</a> - A Modula-2 MC68000 Cross-Assembler</li>
            <li><a href="https://astrobe.com/Modula2/Repertoire.htm">Repertoire</a> - Modula-2 Components by PMI</li>            
            <li><a href="https://astrobe.com/Modula2/Modus.htm">Modus and The Modula-2 News</a> - Extracts from the newsletters</li>
        </ul>
    </article></div>
  </body>
</html>
