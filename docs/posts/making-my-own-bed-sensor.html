<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.homeautomationguy.io/blog/making-my-own-bed-sensor">Original</a>
    <h1>Making my own bed sensor</h1>
    
    <div id="readability-page-1" class="page"><div id="page" role="main">
        
          
<article id="sections" data-page-sections="640350396f7f413d978a46a5">
  
  
    
    


  


<section data-test="page-section" data-section-theme="" data-section-id="640350396f7f413d978a46a4" data-controller="SectionWrapperController" data-current-styles="{
                    &#34;imageOverlayOpacity&#34;: 0.15,
                    &#34;backgroundWidth&#34;: &#34;background-width--full-bleed&#34;,
                    &#34;sectionHeight&#34;: &#34;section-height--medium&#34;,
                    &#34;customSectionHeight&#34;: 10,
                    &#34;horizontalAlignment&#34;: &#34;horizontal-alignment--center&#34;,
                    &#34;verticalAlignment&#34;: &#34;vertical-alignment--middle&#34;,
                    &#34;contentWidth&#34;: &#34;content-width--wide&#34;,
                    &#34;customContentWidth&#34;: 50,
                    &#34;backgroundColor&#34;: &#34;&#34;,
                    &#34;sectionTheme&#34;: &#34;&#34;,
                    &#34;sectionAnimation&#34;: &#34;none&#34;,
                    &#34;backgroundMode&#34;: &#34;image&#34;
                  }" data-current-context="{
                    &#34;video&#34;: {
                      &#34;playbackSpeed&#34;: 0.5,
                      &#34;filter&#34;: 1,
                      &#34;filterStrength&#34;: 0,
                      &#34;zoom&#34;: 0,
                      &#34;videoSourceProvider&#34;: &#34;none&#34;
                    },
                    &#34;backgroundImageId&#34;: null,
                    &#34;backgroundMediaEffect&#34;: null,
                    &#34;divider&#34;: null,
                    &#34;typeName&#34;: &#34;blog-side-by-side&#34;
                  }" data-animation="none">
  
  <div>
    <div>
      
      
      
      
      
      
      <div data-content-field="main-content" data-item-id="">
  <article id="article-">
  
    <div>
      

      <div>
        <div><div data-layout-label="Post Body" data-type="item" id="item-64ef56a0384e5519066eb888"><div><div><div data-block-type="2" id="block-c217fda8e0a0abec3774"><div>

<p>I recently created some “bed sensors” for my smart home that detect if one of us, or both of us, is in bed.  I use a couple of pressure mats that detect when weight is applied to them, and stuck then under our mattress at around hip level and these tell my Home Assistant home automation platform if someone is lying on top of that part of the bed.</p>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_3379"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg" data-image-dimensions="1920x1080" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg" width="1920" height="1080" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be74e130-01ea-47c4-9b15-c8529663218b/PXL_20230806_085643631.TS_exported_1739_1692366175497.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_4325"><div>

<div>
  <p>I originally thought that these would be more of a gimmick, than actually useful, but this turned out to be totally wrong!  These now form an integral part of my smart home and I use them to not only trigger certain automations, but also prevent other automations from running if someone is in bed.  For example, I don’t want the ceiling lights coming on in the bedroom if someone is in bed having a sleep!</p><p>This article shows you two ways I went about making one of these bed sensors.  If you want to see the full end to end build process, check out my video about it!</p><h3>Equipment Needed</h3><p>The first thing you’ll need is a pressure mat, or pressure sensor.  I used one I <a href="https://www.amazon.co.uk/gp/product/B07P5Z7L77" target="_blank">sourced from Amazon</a>, and it costs less than $25. You can also <a href="https://www.switchelectronics.co.uk/products/large-pressure-alarm-switch-mat-720-x-390mm-pm156?currency=GBP&amp;variant=45392025387317">buy them from here</a>, and they&#39;re much cheaper. These are pretty basic things, and are essentially just pressure switches - if weight is applied to the mat, it completes the circuit.  Make sure you get one with these exposed wires, so you can wire it up to the rest of the sensor.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_6767"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/3583404f-62a1-47ab-bc58-a56aec47a750/Pressure+Mat.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_15605"><div>

<div>
  <p>You will need to identify which of the wires you need use in your sensor.  Two of these wires loop together to make contact when you press down on the pad, and the other two… well I have NFI what they do.</p><p>Using a multimeter on continuity mode you can hold the wires to the two probes and press down on the mat.  If you’ve got the right wires the meter should beep indicating that contact has been made when you press down.  These are the wires you need to use, so make a note of them with some tape or something.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_16506"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5ac07690-0c4e-4270-9443-ae41d71e9b10/Multimeter.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
          
          <figcaption>
            <p>BEEEEEP!</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_7827"><div>

<div>
  <p>As I mentioned, there are two ways you can make these sensors.  </p><h4>Using an Aqara Leak Sensor</h4><p>The first way is the easiest and uses a <a href="https://www.aqara.com/en/product/water-sensor/" target="_blank">Zigbee Aqara Leak Sensor</a>.  You can buy these in a lot of places, and they conveniently have two removable terminals on the back that you can attach the wires from the pressure mat to.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_9165"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/7c3a0ec7-7cbb-4f80-b8d1-142fc97413a3/Leak+Sensor.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_11153"><div>

<div>
  <h4>Using ESPHome</h4><p>You can also create a bed sensor using an <a href="https://en.wikipedia.org/wiki/ESP32" target="_blank">ESP Device</a>, and <a href="https://esphome.io" target="_blank">ESPHome</a>.  ESP Devices are small Bluetooth and WiFi enabled microcomputers, and when you combine them with the ESPHome software platform you can create almost any type of smart home sensor you want.</p><p>I figured that this project was the perfect way for me to get started with, and learn more about, ESPHome. If you want to take this route, you’ll need to buy an ESP Device.  I recommend <a href="https://www.amazon.co.uk/gp/product/B08DR5T897" target="_blank">these ESP32s</a>, and to make life easier I suggest getting these <a href="https://www.amazon.co.uk/gp/product/B0BCWBW4SR/" target="_blank">green companion development boards</a> which let you screw cables into terminals for testing and prototyping - so you don’t need to bother with all that soldering.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_13469"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c22d926e-8940-4d9d-be2e-32b3a9ff291a/Dev+Board.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_14991"><div>

<div>
  <h3>The Build - Easy Mode</h3><p>All you really need to do is attach the two wires you identified previously to the terminals on the back of the Leak Sensor. You can use a small Allen Key to remove the terminals and then just shove the wires underneath and tighten them up.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_18173"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg" data-image-dimensions="4032x2268" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg" width="4032" height="2268" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/bd205a28-3b1b-4bc1-a8e1-b55470ab4028/PXL_20230830_151553267.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_19324"><div>

<div>
  <p>Now pair the leak sensors with your favourite smart home platform, like the Aqara Hub, HomeKit, or Home Assistant using ZHA or Zigbee2MQTT.</p><p>When you now press down on the pad, you should see that smart home platform tell you that a leak has been detected!</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_19870"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/cd457f24-98d4-416e-a0fb-27278dd378d8/Leak.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_20737"><div>

<div>
  <p>You could use this sensor in your automations right now, triggering any automation when the sensor goes from dry to wet… but do you really want your bed sensor telling you that you’ve leaked into the bed? No, probably not.</p><p>In Home Assistant you can go to the settings of that entity, and change the Show As part from Moisture to Occupancy.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_21511"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/8d2c6b71-6a38-411d-b3d4-ae16e7f1fbd9/Occupancy.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_22495"><div>

<p>Now, Home Assistant will report Clear or Detected, instead of Dry and Wet when you press down on the pressure mat</p>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_22914"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/753d1216-2f9b-430c-b083-676f579c2715/Sequence+01.00_05_02_12.Still007.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_24001"><div>

<div>
  <p>And you’re done, you now have your very own pressure sensor that you can put under your mattress, under a sofa, wherever you want to know if something, or someone, has been placed on top of it!</p><h3>The Build - ESPHome</h3><p>A bed sensor is a very simple binary sensor, it’s either ON (Someone is in bed) or OFF (No-one is in the bed).  For me, this was the perfect project to use to learn more about <a href="https://en.wikipedia.org/wiki/ESP32" target="_blank">ESP devices</a> and <a href="https://esphome.io/index.html" target="_blank">ESPHome</a>.</p><p>The concept is pretty much the same:  When pressure is applied to the mat, it closes the connection and completes the circuit, so we can use ESPHome to detect that and tell Home Assistant.</p><h4>Wire it up</h4><p>To get started, we screw the same two wires from the pressure mat to the ESP Device.  One of the wires needs to connect to the Ground terminal (GND), and the other to one of the GPIO Pins.  I’ve chosen GPIO13, because it happens to be the one that’s next to the GND terminal on my device.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_26355"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c600cc75-e8f7-4455-82e3-32fd246094c1/Pinout+Guide.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
          
          <figcaption>
            
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-aspect-ratio="56.24461670973299" data-block-type="5" id="block-yui_3_17_2_1_1693407040632_27780"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/9ae8808b-ae3b-45b1-835b-4b175485569b/ESP+Device+Connected.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_29798"><div>

<div>
  <h4>Install the ESPHome firmware</h4><p>Once you’ve wired up the device, plug it into a PC using a USB data cable.  The key term there is DATA CABLE. So many times I’ve plugged them into my PC using a generic USB charging cable that has no data wires inside it, and then I pull my hair out wondering why it won’t connect.</p><p>Then open up <a href="https://web.esphome.io">https://web.esphome.io</a> and click the connect button.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_31176"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png" data-image-dimensions="2161x1304" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png" width="2161" height="1304" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4b1d61ae-5e01-4f11-ae54-5be031c9fd14/ESPHome1.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_32239"><div>

<div>
  <p>Click on the device in the list, and click connect.  </p><p><strong>If you get a message saying that no compatible devices could be found</strong> then click Cancel, and follow the troubleshooting steps.  Most likely you will need to install the drivers for the ESP devices, and there are links in the pop up message for your operating system.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_33219"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png" data-image-dimensions="2114x1098" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png" width="2114" height="1098" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/d1e6381e-2345-430c-a1a2-a48de09cce42/ESPHome2.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_34193"><div>

<p>Once you’ve checked the drivers and cable, you can click Connect again and hopefully the devices is found.  Connect to it and then you can press Prepare for First Use, which will install the default ESPHome firmware onto it.</p>






















</div></div><div data-aspect-ratio="56.23100303951368" data-block-type="5" id="block-yui_3_17_2_1_1693407040632_34719"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/74219529-9bff-42b3-bcc4-6635bea63008/First+ESP+Install.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_35846"><div>

<p>Once it is installed, connect it to your Wifi network and you’re ready for the next step.</p>






















</div></div><div data-aspect-ratio="56.12968591691996" data-block-type="5" id="block-yui_3_17_2_1_1693407040632_36246"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/c95708d8-de14-43ba-9aab-5ca9e695d59a/Install+Wifi.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_37367"><div>

<div>
  <h4>Connect ESPHome to Home Assistant</h4><p>Now pop over to Home Assistant and go to the Add Ons section.  Here you’ll need to install the ESPHome Add On, which acts as the control center for all your ESPHome devices.</p>
</div>






















</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693412965287_32126"><div>

<p>If you aren’t using Home Assistant Operating System, you can install the ESPHome control center using Docker.  The ESPHome website has <a href="https://esphome.io/guides/getting_started_command_line.html" target="_blank">all the instructions you need</a>.</p>






















</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693412965287_32229"><div>

<p>Once you’ve installed it, go to the ESPHome Add On web interface and hopefully you see the new ESPDevice auto discovered.</p>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_38615"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/35fdae25-d80e-4cb1-9f08-43631f037628/ESP+Device+Detected.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_39774"><div>

<div>
  <p>Click the Adopt button, give the device a name, and click Install.  This will make it yours and install the default configuration on it for your Home Assistant.</p><p>You can now start programming the device by adding some configuration to it!</p><h4>Configuring the ESPHome device as a bed sensor</h4><p>You can now click Edit on that device’s card, which should bring up the default configuration for it.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_41367"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5add3652-fe4b-40cb-ba18-9398009afcad/Default+Config.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_42423"><div>

<div>
  <p>Scroll to the bottom of the configuration, and add the following lines under the captive_portal: area.</p><pre><code>binary_sensor:</code></pre><pre><code>  - platform: gpio</code></pre><pre><code>    pin:</code></pre><pre><code>      number: 13</code></pre><pre><code>      inverted: true</code></pre><pre><code>      mode:</code></pre><pre><code>        input: true</code></pre><pre><code>        pullup: true</code></pre><pre><code>    name: Bed Occupancy Sensor</code></pre><pre><code>    device_class: occupancy</code></pre><pre><code>    filters:</code></pre><pre><code>      - delayed_on: 5s</code></pre><pre><code>      - delayed_off: 30s</code></pre><p>This creates a new binary sensor using the Pin 13 GPIO port.  If you used a different pin for yours, then you will need to change this value here.</p><p>The <strong>inverted, input </strong>and<strong> pullup </strong>attributes tell ESPHome that you are using a switch that is ON when closed.  I’m not 100% familiar with the specifics of this as I’m still learning, but it is all <a href="https://esphome.io/components/binary_sensor/gpio.html" target="_blank">documented right here</a> on the ESPHome documentation page.</p><p>The name attribute should be pretty obvious, it’s the name that you have given your sensor and what will be listed in Home Assistant.  </p><p>The device class tells Home Assistant that this is an occupancy sensor.  You can make contact sensors, motion sensors, leak sensors, any number of things really.</p><p>Finally, the filters helped me make these sensors more accurate and useful.  </p><p>The delayed_on attribute means that the sensor won’t trigger as ON until pressure has been applied to the mat for at least 5 seconds.  The delayed_off attribute means that the sensor won’t be triggered as OFF until someone has gotten out of bed for at least 30 seconds.</p><p>Without these values I saw the sensor flip flopping between on and off all night as I rolled around in the bed asleep, and adding the values made it much more consistent and accurate.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_53003"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/5d1e9065-0c66-4ba5-a29e-3c58498731c2/Accuracy.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_54117"><div>

<div>
  <p>Now click Save and Install in the top right of that screen to push these new sensor changes to the ESP device over the Wifi.</p><p>Once it’s done you should see in the logs screen that the sensor is online and ready.  If we now push down on the mat for more than 5 seconds, you should see the binary sensor flipping to ON in the logs.</p>
</div>






















</div></div><div data-aspect-ratio="56.23100303951368" data-block-type="5" id="block-yui_3_17_2_1_1693407040632_55213"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/4e193233-e57c-48f0-a8ae-1a72e7cc0243/Sensor+ON.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_56363"><div>

<p>When you then lift off the sensor for more than 30 seconds, the logs should reflect this by telling you the sensor is OFF.</p>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_56799"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/a6e38c83-2948-471a-97df-3ae266490174/Sensor+Off.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_57743"><div>

<p>This sensor should also now have been autodiscovered in your integrations section, and if you add it to Home Assistant you should see these same states update in that entity when you press down and release the pad for the required time.</p>






















</div></div><div data-aspect-ratio="56.23100303951368" data-block-type="5" id="block-yui_3_17_2_1_1693407040632_58133"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/6e16a254-072b-45f7-88b2-04fdd65c3b63/HA+Sensor.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_61450"><div>

<div>
  <p>Congratulations! You’ve built an ESPHome Bed Sensor!</p><p>The best part about using these ESP devices is that you can now connect a second pressure sensor to the same GND port, and the other wire to GPIO port 12, and create a two zone bed sensor - one for each side of the bed.  Just go to the ESPHome control panel, edit the config of that device, and copy and paste the configuration from the first sensor and paste it below.  You’ll need to give them both unique names, and modify the config to make sure you’re using the correct pins, but everything else should be the same.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_63094"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/af2b9dc7-aa41-4114-83d9-0fffe3798fa8/Double+Sensor.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_64208"><div>

<p>Save and re-install this configuration and you should see two bed sensors entities inside that ESPDevice in Home Assistant.</p>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_64735"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/16f3178a-fe85-4642-a25d-9bf96cbeb7f7/Two+sensors+in+HA.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_65717"><div>

<div>
  <h3>Combining two bed sensors into one</h3><p>In my house I’m using two pads connected into the same ESP device to create two independent bed sensors in Home Assistant.  My partner and I have our own sides of the bed that we sleep on each night, and I combine these two bed sensors into two more sensors for use in my automations.  This same theory can be used if you create two independent bed sensors out of two Aqara leak detectors.</p><p>One sensor is called <strong>Main Bed Occupied</strong> and the other is <strong>Both in Bed.</strong></p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_67055"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg" data-image-dimensions="3840x2160" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg" width="3840" height="2160" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/b391f79f-c9e2-4157-bfb9-1bee7bacde28/Sensors+in+HA.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_68246"><div>

<div>
  <p>The Main Bed Occupied sensor tells Home Assistant if SOMEONE is in bed.  I use this in certain automations, for example as a condition in my Automated Lights automation to make sure that the ceiling lights don’t turn on when someone is having a sleep.</p><p>This is a Home Assistant <a href="https://www.home-assistant.io/integrations/group/" target="_blank">binary sensor group helper</a> that has both my bed sensors as group members.  I then make sure that the All Entities toggle at the bottom is OFF.  This will make the sensor turn ON if any ONE of the bed sensors turns to ON.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_69375"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png" data-image-dimensions="892x1130" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png" width="892" height="1130" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/afae9954-97bf-483a-b8a6-c555e3353f3b/Main+Bed+Occupied.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1693407040632_70318"><div>

<div>
  <p>The Both in Bed sensor is turned on when both bed sensors are triggered.  This is usually because we’ve both gone to bed in the evening.  I use this sensor to automatically turn on Night Mode for our house, which powers down all my smart plugs, sonos devices, our work desks, the TV cabinet, and it arms our home alarm into Night mode</p><p>This is also a Home Assistant Group sensor, and is almost identical to the previous one - with one exception - the All Entities Toggle is set to ON.  This means that ALL the bed sensors need to be triggered to on before the helper group gets set to ON.</p>
</div>






















</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1693407040632_71159"><div>










































  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png" data-image="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png" data-image-dimensions="862x1129" data-image-focal-point="0.5,0.5" alt="" data-load="false" elementtiming="system-image-block" src="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png" width="862" height="1129" alt="" sizes="(max-width: 640px) 100vw, (max-width: 767px) 100vw, 100vw" onload="this.classList.add(&#34;loaded&#34;)" srcset="https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6403432da91078458f6aeec2/be9a00e8-03cb-4081-abac-e73d66b1cdab/Both+in+Bed.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs"/>

            </p>
          </div>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div></div></div>

        

        
        
          
        
      </div>

      
    </div>
  
</article>

</div>
    </div>
  
  </div>
  
</section>

  
</article>


          

          
            
              

            
          
        
      </div></div>
  </body>
</html>
