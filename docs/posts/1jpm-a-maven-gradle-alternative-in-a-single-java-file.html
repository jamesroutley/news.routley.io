<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Osiris-Team/1JPM">Original</a>
    <h1>1JPM: A Maven/Gradle alternative in a single Java file</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">1 Java Project Manager (1JPM), is a Maven/Gradle alternative with a twist.
It&#39;s a single Java file itself, which should be edited by you to configure your project.</p>
<p dir="auto">Meaning instead of writing XML (Maven) or Groovy (Gradle), your build file is Java code too.
<strong>To be more exact, you <a href="https://github.com/Osiris-Team/1JPM/releases/">download/copy the JPM.java file</a> into your project, open a terminal and execute:</strong></p>
<ul dir="auto">
<li>Java 11 and above: <code>java JPM.java build</code></li>
<li>Java 8 to 10:  <code>javac JPM.java &amp;&amp; java -cp . JPM build</code></li>
<li>Earlier Java versions are not supported</li>
</ul>
<p dir="auto">to build your project (<code>build</code> is a task, which compiles and creates a jar file from your code).
If you want to include dependencies in the jar run <code>build-fat</code> instead.</p>
<p dir="auto">1JPM works in a very similar way to Gradle, however
everything in 1JPM is a plugin (even all its tasks),
and third-party plugins can be added simply by appending their Java code at the bottom of the JPM class
(must be written in Java 8 and not use external dependencies).</p>
<div dir="auto" data-snippet-clipboard-copy-content="class ThisProject extends JPM.Project {
  static{
    JPM.ROOT.pluginsAfter.add(new JPM.Plugin(&#34;deploy&#34;).withExecute((project) -&gt; { // Register custom task
      //deployToServer(project); // If it throws an exception the whole build stops
    }));
    JPM.Build.GET.pluginsAfter.add(new JPM.Plugin(&#34;&#34;).withExecute((project) -&gt; {
      // Run something after/before another task, in this case after the &#34;build&#34; task
    }));
  }

  public ThisProject(List&lt;String&gt; argList) {
    // Override default configurations
    this.groupId = &#34;com.mycompany&#34;;
    this.artifactId = &#34;my-project&#34;;
    this.version = &#34;1.0.0&#34;;
    this.mainClass = &#34;com.mycompany.MyMainClass&#34;;
    this.jarName = &#34;my-project.jar&#34;;
    this.fatJarName = &#34;my-project-with-dependencies.jar&#34;;

    // Add some example dependencies
    addDependency(&#34;junit&#34;, &#34;junit&#34;, &#34;4.13.2&#34;);
    addDependency(&#34;org.apache.commons&#34;, &#34;commons-lang3&#34;, &#34;3.12.0&#34;);
    //implementation(&#34;org.apache.commons:commons-lang3:3.12.0&#34;); // Same as above but similar to Gradle DSL

    // Add some compiler arguments
    addCompilerArg(&#34;-Xlint:unchecked&#34;);
    addCompilerArg(&#34;-Xlint:deprecation&#34;);
  }
}


// 1JPM version 1.0.2 by Osiris-Team
public class JPM {
  //...
}"><pre><span>class</span> <span>ThisProject</span> <span>extends</span> <span>JPM</span>.<span>Project</span> {
  <span>static</span>{
    <span>JPM</span>.<span>ROOT</span>.<span>pluginsAfter</span>.<span>add</span>(<span>new</span> <span>JPM</span>.<span>Plugin</span>(<span>&#34;deploy&#34;</span>).<span>withExecute</span>((<span>project</span>) -&gt; { <span>// Register custom task</span>
      <span>//deployToServer(project); // If it throws an exception the whole build stops</span>
    }));
    <span>JPM</span>.<span>Build</span>.<span>GET</span>.<span>pluginsAfter</span>.<span>add</span>(<span>new</span> <span>JPM</span>.<span>Plugin</span>(<span>&#34;&#34;</span>).<span>withExecute</span>((<span>project</span>) -&gt; {
      <span>// Run something after/before another task, in this case after the &#34;build&#34; task</span>
    }));
  }

  <span>public</span> <span>ThisProject</span>(<span>List</span>&lt;<span>String</span>&gt; <span>argList</span>) {
    <span>// Override default configurations</span>
    <span>this</span>.<span>groupId</span> = <span>&#34;com.mycompany&#34;</span>;
    <span>this</span>.<span>artifactId</span> = <span>&#34;my-project&#34;</span>;
    <span>this</span>.<span>version</span> = <span>&#34;1.0.0&#34;</span>;
    <span>this</span>.<span>mainClass</span> = <span>&#34;com.mycompany.MyMainClass&#34;</span>;
    <span>this</span>.<span>jarName</span> = <span>&#34;my-project.jar&#34;</span>;
    <span>this</span>.<span>fatJarName</span> = <span>&#34;my-project-with-dependencies.jar&#34;</span>;

    <span>// Add some example dependencies</span>
    <span>addDependency</span>(<span>&#34;junit&#34;</span>, <span>&#34;junit&#34;</span>, <span>&#34;4.13.2&#34;</span>);
    <span>addDependency</span>(<span>&#34;org.apache.commons&#34;</span>, <span>&#34;commons-lang3&#34;</span>, <span>&#34;3.12.0&#34;</span>);
    <span>//implementation(&#34;org.apache.commons:commons-lang3:3.12.0&#34;); // Same as above but similar to Gradle DSL</span>

    <span>// Add some compiler arguments</span>
    <span>addCompilerArg</span>(<span>&#34;-Xlint:unchecked&#34;</span>);
    <span>addCompilerArg</span>(<span>&#34;-Xlint:deprecation&#34;</span>);
  }
}


<span>// 1JPM version 1.0.2 by Osiris-Team</span>
<span>public</span> <span>class</span> <span>JPM</span> {
  <span>//...</span>
}</pre></div>

<p dir="auto">1JPM is a comparatively new project, thus does not contain all the functionalities of the other
major build tools like Maven and Gradle, however should provide the basic and most used functions.</p>
<p dir="auto">Below you can see some Gradle tasks that are available in 1JPM (or planned).</p>

<ul dir="auto">
<li><strong><code>clean</code></strong>: ✅ Deletes the build directory.</li>
<li><strong><code>compileJava</code></strong>: ✅ Compiles Java source files.
<ul dir="auto">
<li>Sub-task: <code>compileJava.options.compilerArgs</code>: ✅ Configures Java compiler arguments.</li>
</ul>
</li>
<li><strong><code>processResources</code></strong>: ✅ Processes resource files (e.g., copying them to the output directory).
<ul dir="auto">
<li>Sub-task: <code>processResources.expand(project.properties)</code>: ✅ Expands placeholders in resource files.</li>
</ul>
</li>
<li><strong><code>classes</code></strong>: ✅ Assembles the compiled classes (depends on <code>compileJava</code> and <code>processResources</code>).</li>
<li><strong><code>compileTestJava</code></strong>: Compiles test Java source files.</li>
<li><strong><code>processTestResources</code></strong>: Processes test resource files.</li>
<li><strong><code>testClasses</code></strong>: Assembles the compiled test classes (depends on <code>compileTestJava</code> and <code>processTestResources</code>).</li>
<li><strong><code>test</code></strong>: Runs the unit tests (depends on <code>testClasses</code>).
<ul dir="auto">
<li>Sub-task: <code>test.useJUnitPlatform()</code>: Configures JUnit Platform for testing.</li>
</ul>
</li>
<li><strong><code>jar</code></strong>: ✅ Assembles the JAR file.
<ul dir="auto">
<li>Sub-task: <code>jar.manifest</code>: ✅ Configures the JAR manifest.</li>
</ul>
</li>
<li><strong><code>javadoc</code></strong>: Generates Javadoc for the main source code.</li>
<li><strong><code>assemble</code></strong>: ✅ Assembles the outputs of the project (depends on <code>classes</code> and <code>jar</code>).</li>
<li><strong><code>check</code></strong>: Runs all checks (depends on <code>test</code>).</li>
<li><strong><code>build</code></strong>: ✅ Aggregates all tasks needed to build the project (depends on <code>assemble</code> and <code>check</code>).</li>
</ul>

<ul dir="auto">
<li><strong><code>clean</code></strong>: ✅ Deletes the build directory.</li>
<li><strong><code>cleanTask</code></strong>: Deletes the output of a specific task (e.g., <code>cleanJar</code>, <code>cleanTest</code>).</li>
</ul>

<ul dir="auto">
<li><strong><code>compileTestJava</code></strong>: Compiles test Java source files.</li>
<li><strong><code>processTestResources</code></strong>: Processes test resource files.</li>
<li><strong><code>testClasses</code></strong>: Assembles the compiled test classes.</li>
<li><strong><code>test</code></strong>: Runs the unit tests.
<ul dir="auto">
<li>Sub-task: <code>test.include</code>: Specifies which test classes to run.</li>
<li>Sub-task: <code>test.exclude</code>: Specifies which test classes to exclude.</li>
</ul>
</li>
<li><strong><code>integrationTest</code></strong>: Runs integration tests (custom task, needs configuration).</li>
</ul>

<ul dir="auto">
<li><strong><code>compileJava</code></strong>: ✅ Compiles Java source files.</li>
<li><strong><code>processResources</code></strong>: ✅ Processes resource files.</li>
<li><strong><code>classes</code></strong>: ✅ Assembles the compiled classes.</li>
<li><strong><code>jar</code></strong>: ✅ Assembles the JAR file.</li>
<li><strong><code>fatJar</code></strong>: ✅ Creates a fat JAR with all dependencies (requires Shadow plugin).</li>
<li><strong><code>assemble</code></strong>: ✅ Aggregates <code>classes</code> and <code>jar</code> tasks.</li>
</ul>

<ul dir="auto">
<li><strong><code>compileTestJava</code></strong>: Compiles test Java source files.</li>
<li><strong><code>processTestResources</code></strong>: Processes test resource files.</li>
<li><strong><code>testClasses</code></strong>: Assembles the compiled test classes.</li>
<li><strong><code>test</code></strong>: Runs the unit tests.</li>
<li><strong><code>checkstyle</code></strong>: Runs Checkstyle for code style checks (requires Checkstyle plugin).</li>
<li><strong><code>pmdMain</code></strong>: Runs PMD for static code analysis (requires PMD plugin).</li>
<li><strong><code>spotbugsMain</code></strong>: Runs SpotBugs for bug detection (requires SpotBugs plugin).</li>
<li><strong><code>check</code></strong>: Aggregates all verification tasks, including <code>test</code>, <code>checkstyle</code>, <code>pmdMain</code>, and <code>spotbugsMain</code>.</li>
</ul>

<ul dir="auto">
<li><strong><code>dependencies</code></strong>: ✅ Displays the dependencies of the project.</li>
<li><strong><code>dependencyInsight</code></strong>: Shows insight into a specific dependency.</li>
<li><strong><code>dependencyUpdates</code></strong>: ✅ Checks for dependency updates.</li>
</ul>

<ul dir="auto">
<li><strong><code>help</code></strong>: ✅ Displays help information about the available tasks and command-line options.</li>
<li><strong><code>components</code></strong>: Displays the components produced by the project.</li>
</ul>

<ul dir="auto">
<li><strong><code>tasks</code></strong>: ✅ Lists the tasks in the project.</li>
<li><strong><code>tasks --all</code></strong>: Lists all tasks, including task dependencies.</li>
</ul>

<ul dir="auto">
<li><strong><code>compileJava</code></strong>: ✅ Compiles Java source files.</li>
<li><strong><code>processResources</code></strong>: ✅ Processes resource files.</li>
<li><strong><code>classes</code></strong>: ✅ Assembles the compiled classes.</li>
<li><strong><code>jar</code></strong>: ✅ Assembles the JAR file.
<ul dir="auto">
<li>Sub-task: <code>jar.manifest.attributes</code>: Sets manifest attributes.</li>
<li>Sub-task: <code>jar.from</code>: Includes additional files in the JAR.</li>
</ul>
</li>
</ul>

<ul dir="auto">
<li><strong><code>generatePomFileForMavenPublication</code></strong>: Generates the POM file for Maven publication.</li>
<li><strong><code>publishMavenPublicationToMavenLocal</code></strong>: Publishes to the local Maven repository.</li>
<li><strong><code>publishMavenPublicationToMavenRepository</code></strong>: Publishes to a remote Maven repository.</li>
<li><strong><code>publish</code></strong>: Aggregates all publishing tasks.</li>
</ul>

<ul dir="auto">
<li><strong><code>eclipseClasspath</code></strong>: Generates the Eclipse classpath file.</li>
<li><strong><code>eclipseJdt</code></strong>: Generates the Eclipse JDT settings.</li>
<li><strong><code>eclipseProject</code></strong>: Generates the Eclipse project file.</li>
<li><strong><code>eclipse</code></strong>: Aggregates all Eclipse tasks.</li>
</ul>

<ul dir="auto">
<li><strong><code>ideaModule</code></strong>: Generates the IntelliJ IDEA module files.</li>
<li><strong><code>ideaProject</code></strong>: Generates the IntelliJ IDEA project file.</li>
<li><strong><code>ideaWorkspace</code></strong>: Generates the IntelliJ IDEA workspace file.</li>
<li><strong><code>idea</code></strong>: Aggregates all IDEA tasks.</li>
</ul>

<ul dir="auto">
<li><strong><code>compileJava</code></strong>: Compiles Java source files.</li>
<li><strong><code>processResources</code></strong>: Processes resource files.</li>
<li><strong><code>classes</code></strong>: Assembles the compiled classes.</li>
<li><strong><code>run</code></strong>: Runs a Java application.
<ul dir="auto">
<li>Sub-task: <code>run.main</code>: Specifies the main class to run.</li>
<li>Sub-task: <code>run.args</code>: Specifies command-line arguments.</li>
</ul>
</li>
</ul>
</article></div></div>
  </body>
</html>
