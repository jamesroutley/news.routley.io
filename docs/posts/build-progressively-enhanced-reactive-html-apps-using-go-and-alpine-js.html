<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://livefir.fly.dev/">Original</a>
    <h1>Show HN: Build progressively enhanced reactive HTML apps using Go and Alpine.js</h1>
    
    <div id="readability-page-1" class="page"><div>
                <div x-data="">
                    
                    <p>
                        Later we use fir&#39;s alpinejs plugin to enhance the form
                        submission and receive the re-rendered template as an
                        event. The event is handled by the
                        <code>$fir.replace()</code> helper function which
                        updates the inner content of the div on which the event
                        listener is declared. Click the buttons below to see
                        reactivity in action.
                    </p>

                    
                    <p>
                        As you can notice, the count value is updated without a
                        page reload. The server side code remains unchanged.
                    </p>
                    <div><p>
                        Fir&#39;s magic expression
                        <code>
                            @fir:event-name:event-state::template-name
                        </code>
                        piggybacks on
                        <a href="https://alpinejs.dev/directives/on#custom-events">alpinejs event binding syntax</a>
                        to declare
                        <a href="https://pkg.go.dev/html/template">html/templates</a>
                        to be re-rendered on the server.
                    </p></div>
                    <div>
                        <div>
                            <figure>
                                <img src="https://livefir.fly.dev/static/images/fir_magic.png" alt="fir&#39;s magic
                            expression "/>
                            </figure>
                        </div>
                        <p>
                                If the handler response for event
                                <code>inc</code> is <code> ok </code> then
                                re-render the template named
                                <code>count</code> on the server and return the
                                html output to the event listener as a
                                <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent">
                                    CustomEvent</a>. The
                                <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail">CustomEvent.detail</a>
                                property is used by the alpinejs plugin helper
                                <code> $fir.replace() </code> to update the div
                                on which the listener is declared.
                            </p>
                    </div>
                    <div><p>
                        Go the the directory where you have these files and run:
                        </p><pre><code>go run counter.go</code></pre>
                    </div>

                    <p>
                        Open your browser and go to
                        <a href="http://localhost:9867">http://localhost:9867</a>
                        to see the reactive counter in action.
                    </p>
                </div>
            </div></div>
  </body>
</html>
