<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/robinmoisson/staticrypt">Original</a>
    <h1>Password protect a static HTML page</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://reserialised.routley.io/robinmoisson/staticrypt/blob/main/preview.png"><img src="https://reserialised.routley.io/robinmoisson/staticrypt/raw/main/preview.png" alt="password prompt preview" width="480"/></a></p>

<p dir="auto">StatiCrypt uses AES-256 to encrypt your HTML file with your passphrase and return a static page including a password prompt and the javascript decryption logic that you can safely upload anywhere (see <a href="https://robinmoisson.github.io/staticrypt/example/example_encrypted.html" rel="nofollow">what the page looks like</a>).</p>
<p dir="auto">This means you can <strong>password protect the content of your <em>public</em> static HTML file, without any back-end</strong> - serving it over Netlify, GitHub pages, etc. (see the detail of <a href="#how-staticrypt-works">how it works</a>).</p>
<p dir="auto">You can encrypt a file online in your browser (client side) at <a href="https://robinmoisson.github.io/staticrypt" rel="nofollow">https://robinmoisson.github.io/staticrypt</a>, or use the CLI to do it in your build process.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-cli" aria-hidden="true" href="#cli"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>CLI</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h3>
<p dir="auto">Staticrypt is available through npm as a CLI, install with</p>

<p dir="auto">You can then run it with <code>npx staticrypt ...</code>. You can also install globally with <code>npm install -g staticrypt</code> and then just call <code>staticrypt ...</code>.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-examples" aria-hidden="true" href="#examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h3>
<blockquote>
<p dir="auto">These will create a <code>.staticrypt.json</code> file in the current directory, see the FAQ as to why. You can prevent it by setting the <code>--config</code> flag to &#34;false&#34;.</p>
</blockquote>
<p dir="auto"><strong>Encrypt a file:</strong> Encrypt <code>test.html</code> and create a <code>test_encrypted.html</code> file (add <code>-o my_encrypted_file.html</code> to change the name of the output file):</p>
<div dir="auto" data-snippet-clipboard-copy-content="staticrypt test.html MY_PASSPHRASE"><pre>staticrypt test.html MY_PASSPHRASE</pre></div>
<p dir="auto"><strong>Encrypt a file with the passphrase in an environment variable:</strong> set your passphrase in the <code>STATICRYPT_PASSWORD</code> environment variable (<a href="https://www.npmjs.com/package/dotenv#usage" rel="nofollow"><code>.env</code> files</a> are supported):</p>
<div dir="auto" data-snippet-clipboard-copy-content="# the passphrase is in the STATICRYPT_PASSWORD env variable
staticrypt test.html"><pre><span><span>#</span> the passphrase is in the STATICRYPT_PASSWORD env variable</span>
staticrypt test.html</pre></div>
<p dir="auto"><strong>Encrypt a file and get a shareable link containing the hashed password</strong> - you can include your file URL or leave blank:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# you can also pass &#39;--share&#39; without specifying the URL to get the `?staticrypt_pwd=...` 
staticrypt test.html MY_PASSPHRASE --share https://example.com/test_encrypted.html
# =&gt; https://example.com/test_encrypted.html?staticrypt_pwd=5bfbf1343c7257cd7be23ecd74bb37fa2c76d041042654f358b6255baeab898f"><pre><span><span>#</span> you can also pass &#39;--share&#39; without specifying the URL to get the `?staticrypt_pwd=...` </span>
staticrypt test.html MY_PASSPHRASE --share https://example.com/test_encrypted.html
<span><span>#</span> =&gt; https://example.com/test_encrypted.html?staticrypt_pwd=5bfbf1343c7257cd7be23ecd74bb37fa2c76d041042654f358b6255baeab898f</span></pre></div>
<p dir="auto"><strong>Encrypt all html files in a directory</strong> and replace them with encrypted versions (<code>{}</code> will be replaced with each file name by the <code>find</code> command - if you wanted to move the encrypted files to an <code>encrypted/</code> directory, you could use <code>-o encrypted/{}</code>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="find . -type f -name &#34;*.html&#34; -exec staticrypt {} MY_PASSPHRASE -o {} \;"><pre>find <span>.</span> -type f -name <span><span>&#34;</span>*.html<span>&#34;</span></span> -exec staticrypt {} MY_PASSPHRASE -o {} <span>\;</span></pre></div>
<p dir="auto"><strong>Encrypt all html files in a directory except</strong> the ones ending in <code>_encrypted.html</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="find . -type f -name &#34;*.html&#34; -not -name &#34;*_encrypted.html&#34; -exec staticrypt {} MY_PASSPHRASE \;"><pre>find <span>.</span> -type f -name <span><span>&#34;</span>*.html<span>&#34;</span></span> -not -name <span><span>&#34;</span>*_encrypted.html<span>&#34;</span></span> -exec staticrypt {} MY_PASSPHRASE <span>\;</span></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-cli-reference" aria-hidden="true" href="#cli-reference"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>CLI Reference</h3>
<p dir="auto">The passphrase argument is optional if <code>STATICRYPT_PASSWORD</code> is set in the environment or <code>.env</code> file.</p>
<div data-snippet-clipboard-copy-content="Usage: staticrypt &lt;filename&gt; [&lt;passphrase&gt;] [options]

Options:
      --help                    Show help                              [boolean]
      --version                 Show version number                    [boolean]
  -c, --config                  Path to the config file. Set to &#34;false&#34; to
                                disable.  [string] [default: &#34;.staticrypt.json&#34;]
      --decrypt-button          Label to use for the decrypt button. Default:
                                &#34;DECRYPT&#34;.         [string] [default: &#34;DECRYPT&#34;]
  -e, --embed                   Whether or not to embed crypto-js in the page
                                (or use an external CDN).
                                                       [boolean] [default: true]
  -f, --file-template           Path to custom HTML template with passphrase
                                prompt.
                               [string] [default: &#34;/lib/password_template.html&#34;]
  -i, --instructions            Special instructions to display to the user.
                                                          [string] [default: &#34;&#34;]
      --label-error             Error message to display on entering wrong
                                passphrase.  [string] [default: &#34;Bad password!&#34;]
      --noremember              Set this flag to remove the &#34;Remember me&#34;
                                checkbox.             [boolean] [default: false]
  -o, --output                  File name/path for the generated encrypted file.
                                                        [string] [default: null]
      --passphrase-placeholder  Placeholder to use for the passphrase input.
                                                  [string] [default: &#34;Password&#34;]
  -r, --remember                Expiration in days of the &#34;Remember me&#34; checkbox
                                that will save the (salted + hashed) passphrase
                                in localStorage when entered by the user.
                                Default: &#34;0&#34;, no expiration.
                                                           [number] [default: 0]
      --remember-label          Label to use for the &#34;Remember me&#34; checkbox.
                                               [string] [default: &#34;Remember me&#34;]
  -s, --salt                    Set the salt manually. It should be set if you
                                want to use &#34;Remember me&#34; through multiple
                                pages. It needs to be a 32-character-long
                                hexadecimal string.
                                Include the empty flag to generate a random salt
                                you can use: &#34;statycrypt -s&#34;.           [string]
      --share                   Get a link containing your hashed password that
                                will auto-decrypt the page. Pass your URL as a
                                value to append &#34;?staticrypt_pwd=&lt;hashed_pwd&gt;&#34;,
                                or leave empty to display the hash to append.
                                                                        [string]
  -t, --title                   Title for the output HTML page."><pre><code>Usage: staticrypt &lt;filename&gt; [&lt;passphrase&gt;] [options]

Options:
      --help                    Show help                              [boolean]
      --version                 Show version number                    [boolean]
  -c, --config                  Path to the config file. Set to &#34;false&#34; to
                                disable.  [string] [default: &#34;.staticrypt.json&#34;]
      --decrypt-button          Label to use for the decrypt button. Default:
                                &#34;DECRYPT&#34;.         [string] [default: &#34;DECRYPT&#34;]
  -e, --embed                   Whether or not to embed crypto-js in the page
                                (or use an external CDN).
                                                       [boolean] [default: true]
  -f, --file-template           Path to custom HTML template with passphrase
                                prompt.
                               [string] [default: &#34;/lib/password_template.html&#34;]
  -i, --instructions            Special instructions to display to the user.
                                                          [string] [default: &#34;&#34;]
      --label-error             Error message to display on entering wrong
                                passphrase.  [string] [default: &#34;Bad password!&#34;]
      --noremember              Set this flag to remove the &#34;Remember me&#34;
                                checkbox.             [boolean] [default: false]
  -o, --output                  File name/path for the generated encrypted file.
                                                        [string] [default: null]
      --passphrase-placeholder  Placeholder to use for the passphrase input.
                                                  [string] [default: &#34;Password&#34;]
  -r, --remember                Expiration in days of the &#34;Remember me&#34; checkbox
                                that will save the (salted + hashed) passphrase
                                in localStorage when entered by the user.
                                Default: &#34;0&#34;, no expiration.
                                                           [number] [default: 0]
      --remember-label          Label to use for the &#34;Remember me&#34; checkbox.
                                               [string] [default: &#34;Remember me&#34;]
  -s, --salt                    Set the salt manually. It should be set if you
                                want to use &#34;Remember me&#34; through multiple
                                pages. It needs to be a 32-character-long
                                hexadecimal string.
                                Include the empty flag to generate a random salt
                                you can use: &#34;statycrypt -s&#34;.           [string]
      --share                   Get a link containing your hashed password that
                                will auto-decrypt the page. Pass your URL as a
                                value to append &#34;?staticrypt_pwd=&lt;hashed_pwd&gt;&#34;,
                                or leave empty to display the hash to append.
                                                                        [string]
  -t, --title                   Title for the output HTML page.
</code></pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-staticrypt-works" aria-hidden="true" href="#how-staticrypt-works"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>HOW STATICRYPT WORKS</h2>
<p dir="auto">So, how can you password protect html without a back-end?</p>
<p dir="auto">StatiCrypt uses the <a href="https://github.com/brix/crypto-js">crypto-js</a> library to generate a static, password protected page that can be decrypted in-browser. You can then just send or upload the generated page to a place serving static content (github pages, for example) and you&#39;re done: the page will prompt users for a password, and the javascript will decrypt and load your HTML, all done in the browser.</p>
<p dir="auto">So it basically encrypts your page and puts everything in a user-friendly way to use a password in the new file.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-faq" aria-hidden="true" href="#faq"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>FAQ</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-is-it-secure" aria-hidden="true" href="#is-it-secure"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Is it secure?</h3>
<p dir="auto">Simple answer: your file content has been encrypted with AES-256 (CBC), a popular and strong encryption algorithm, you can now upload it in any public place and no one will be able to read it without the password. So yes, if you used a good password it should be pretty secure.</p>
<p dir="auto">That being said, actual security always depends on a number of factors and on the threat model you want to protect against. Because your full encrypted file is accessible client side, brute-force/dictionary attacks would be trivial to do at a really fast pace: <strong>use a long, unusual password</strong>. You can read a discussion on CBC mode and how appropriate it is in the context of StatiCrypt in <a href="https://github.com/robinmoisson/staticrypt/issues/19" data-hovercard-type="issue" data-hovercard-url="/robinmoisson/staticrypt/issues/19/hovercard">#19</a>.</p>
<p dir="auto"><strong>Also, disclaimer:</strong> I am not a cryptographer - the concept is simple and I try my best to implement it correctly but please adjust accordingly: if you are an at-risk activist or have sensitive crypto data to protect, you might want to use something else.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-can-i-customize-the-password-prompt" aria-hidden="true" href="#can-i-customize-the-password-prompt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Can I customize the password prompt?</h3>
<p dir="auto">Yes! Just copy <code>lib/password_template.html</code>, modify it to suit your style and point to your template file with the <code>-f path/to/my/file.html</code> flag. Be careful to not break the encrypting javascript part, the variables replaced by StatiCrypt are between curly brackets: <code>{salt}</code>.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-can-i-remove-the-remember-me-checkbox" aria-hidden="true" href="#can-i-remove-the-remember-me-checkbox"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Can I remove the &#34;Remember me&#34; checkbox?</h3>
<p dir="auto">If you don&#39;t want the checkbox to be included, you can add the <code>--noremember</code> flag to disable it.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-why-do-we-embed-the-whole-crypto-js-library-in-each-encrypted-file-by-default" aria-hidden="true" href="#why-do-we-embed-the-whole-crypto-js-library-in-each-encrypted-file-by-default"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why do we embed the whole crypto-js library in each encrypted file by default?</h3>
<p dir="auto">Some adblockers used to see the <code>crypto-js.min.js</code> served by CDN, think that&#39;s a crypto miner and block it. If you don&#39;t want to include it and serve from a CDN instead, you can add <code>--embed false</code>.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-why-does-staticrypt-create-a-config-file" aria-hidden="true" href="#why-does-staticrypt-create-a-config-file"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why does StatiCrypt create a config file?</h3>
<p dir="auto">The &#34;Remember me&#34; feature stores the user password hashed and salted in the browser&#39;s localStorage, so it needs the salt to be the same each time you encrypt otherwise the user would be logged out when you encrypt the page again. The config file is a way to store the salt in between runs, so you don&#39;t have to remember it and pass it manually.</p>
<p dir="auto">When deciding what salt to use, StatiCrypt will first look for a <code>--salt</code> flag, then try to get the salt from the config file, and if it still doesn&#39;t find a salt it will generate a random one. It then saves the salt in the config file.</p>
<p dir="auto">If you don&#39;t want StatiCrypt to create or use the config file, you can set <code>--config false</code> to disable it.</p>
<p dir="auto">The salt isn&#39;t secret, so you don&#39;t need to worry about hiding the config file.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-how-does-the-remember-me-checkbox-work" aria-hidden="true" href="#how-does-the-remember-me-checkbox-work"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How does the &#34;Remember me&#34; checkbox work?</h3>
<p dir="auto">The CLI will add a &#34;Remember me&#34; checkbox on the password prompt by default (<code>--noremember</code> to disable). If the user checks it, the (salted + hashed) passphrase will be stored in their browser&#39;s localStorage and the page will attempt to auto-decrypt when they come back.</p>
<p dir="auto">If no value is provided the stored passphrase doesn&#39;t expire, you can also give it a value in days for how long should the store value be kept with <code>-r NUMBER_OF_DAYS</code>. If the user reconnects to the page after the expiration date the stored value will be cleared.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-logging-out" aria-hidden="true" href="#logging-out"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>&#34;Logging out&#34;</h4>
<p dir="auto">You can clear StatiCrypt values in localStorage (effectively &#34;logging out&#34;) at any time by appending <code>staticrypt_logout</code> to the URL query parameters (<code>mysite.com?staticrypt_logout</code>).</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-encrypting-multiple-pages" aria-hidden="true" href="#encrypting-multiple-pages"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Encrypting multiple pages</h4>
<p dir="auto">This allows encrypting multiple page on a single domain with the same password: if you check &#34;Remember me&#34;, you&#39;ll have to enter your password once then all the pages on that domain will automatically decrypt their content. Because the hashed value is stored in the browser&#39;s localStorage, this will only work if all the pages are on the same domain name.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-is-the-remember-me-checkbox-secure" aria-hidden="true" href="#is-the-remember-me-checkbox-secure"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Is the &#34;Remember me&#34; checkbox secure?</h4>
<p dir="auto">In case the value stored in the browser becomes compromised an attacker can decrypt the page, but because it&#39;s stored salted and hashed this should still protect against password reuse attacks if you&#39;ve used the passphrase on other websites (of course, please use a unique passphrase nonetheless).</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-contributing" aria-hidden="true" href="#contributing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributing</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content--thank-you" aria-hidden="true" href="#-thank-you"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><g-emoji alias="pray" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f64f.png">🙏</g-emoji> Thank you!</h3>
<ul dir="auto">
<li><a href="https://github.com/AaronCoplan">@AaronCoplan</a> for bringing the CLI to life</li>
<li><a href="https://github.com/epicfaace">@epicfaace</a> &amp; <a href="https://github.com/thomasmarr">@thomasmarr</a> for sparking the caching of the passphrase in localStorage (allowing the &#34;Remember me&#34; checkbox)</li>
<li><a href="https://github.com/hurrymaplelad">@hurrymaplelad</a> for refactoring a lot of the code and making the project much more pleasant to work with</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-opening-prs-and-issues" aria-hidden="true" href="#opening-prs-and-issues"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Opening PRs and issues</h3>
<p dir="auto">You&#39;re free to open PRs if you&#39;re ok with having no response for a (possibly very) long time and me possibly ending up getting inspiration from your proposal but merging something different myself (I&#39;ll try to credit you though). Apologies in advance for the delay, and thank you!</p>
<p dir="auto">It&#39;s fine to open issues with suggestions and bug reports.</p>
<p dir="auto">If you find a serious security bug please open an issue, I&#39;ll try to fix it relatively quickly.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-guidelines-to-contributing" aria-hidden="true" href="#guidelines-to-contributing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Guidelines to contributing</h3>
<h4 tabindex="-1" dir="auto"><a id="user-content-source-map" aria-hidden="true" href="#source-map"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Source map</h4>
<ul dir="auto">
<li><code>cli/</code> - The command-line interface published to NPM.</li>
<li><code>example/</code> - Example encrypted files, used as an example in the public website and for manual testing.</li>
<li><code>lib/</code> - Files shared across www and cli.</li>
<li><code>scripts/</code> - Build, test, deploy, CI, etc. See <code>npm run-script</code>.</li>
<li><code>index.html</code> - The root of the in-browser encryption site hosted at <a href="https://robinmoisson.github.io/staticrypt" rel="nofollow">https://robinmoisson.github.io/staticrypt</a>. Kept in the root of the repo for easy deploys to GitHub Pages.</li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-build" aria-hidden="true" href="#build"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Build</h4>
<p dir="auto">Built assets are committed to main. Run build before submitting a PR or publishing to npm.</p>
<div data-snippet-clipboard-copy-content="npm install
npm run build"><pre><code>npm install
npm run build
</code></pre></div>
<h4 tabindex="-1" dir="auto"><a id="user-content-test" aria-hidden="true" href="#test"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Test</h4>
<p dir="auto">The testing is done manually for now - run <a href="#build">build</a>, then open <code>example/example_encypted.html</code> and check everything works correctly.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-community-and-alternatives" aria-hidden="true" href="#community-and-alternatives"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Community and alternatives</h2>
<p dir="auto">Here are some other projects and community resources you might find interesting (this is included as an informative section, I haven&#39;t personally vetted any of those).</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-alternatives-to-staticrypt" aria-hidden="true" href="#alternatives-to-staticrypt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Alternatives to StatiCrypt</h3>
<p dir="auto"><a href="https://github.com/MaxLaumeister/PageCrypt">MaxLaumeister/PageCrypt</a> is a project with similar features in a different style (I think it was created before StatiCrypt).</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-based-on-staticrypt" aria-hidden="true" href="#based-on-staticrypt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Based on StatiCrypt</h3>
<p dir="auto"><strong>WebCrypto:</strong> <a href="https://github.com/tarpdalton/staticrypt/tree/webcrypto">https://github.com/tarpdalton/staticrypt/tree/webcrypto</a> is a fork that uses the WebCrypto browser api to encrypt and decrypt the page, which removes the need for <code>crypto-js</code>. There&#39;s a PR open towards here which I haven&#39;t checked in detail yet. WebCrypto is only available in HTTPS context (which <a href="https://github.com/w3c/webcrypto/issues/28" data-hovercard-type="issue" data-hovercard-url="/w3c/webcrypto/issues/28/hovercard">is annoying people</a>) so it won&#39;t work if you&#39;re on HTTP.</p>
<p dir="auto"><strong>Template to host an encrypted single page website with Github Pages:</strong> <a href="https://github.com/a-nau/password-protected-website-template">a-nau/password-protected-website-template</a> is a demonstration of how to build a protected page on Github Pages, integrating with Github Actions</p>
</article>
          </div></div>
  </body>
</html>
