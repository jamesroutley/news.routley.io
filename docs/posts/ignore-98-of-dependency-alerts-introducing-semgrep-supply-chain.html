<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://r2c.dev/blog/2022/introducing-semgrep-supply-chain/">Original</a>
    <h1>Ignore 98% of dependency alerts: introducing Semgrep Supply Chain</h1>
    
    <div id="readability-page-1" class="page"><section><div><div><div><p>Have you ever gotten a &#34;critical vulnerability in dependency&#34; alert and when you look at it, it&#39;s something like “XML parser vulnerability in some buried transitive library that you <em>actually</em> use for parsing JSON and therefore aren’t affected by at all?”</p>
<p>We’re excited to launch <a href="https://semgrep.dev/products/semgrep-supply-chain?utm_source=blog&amp;utm_medium=website&amp;utm_campaign=ssc-launch" target="_blank" rel="noopener">Semgrep Supply Chain</a>, a high-signal dependency scanner that cuts through the noise of false positives. Let’s be honest: those of us that use a Software Composition Analysis (SCA) tool are already ignoring &gt; 90% of its alerts. By combining <a href="https://github.com/returntocorp/semgrep" target="_blank" rel="noopener">Semgrep’s</a> first party code analysis with dependency analysis, Semgrep Supply Chain prioritizes the 2% of vulnerabilities that are <a href="https://r2c.dev/blog/2022/software-supply-chain-security-is-hard/" target="_blank" rel="noopener">reachable from your code</a>.</p>
<p>Application security teams are in a tough spot: staffing is short, tools are noisy, and political capital is scarce. Organizations need security improvements, but that work cannot reduce velocity. When AppSec engineers and developers work together to fix a vulnerability, it must be a real issue with real consequences if left unattended. Cry wolf too many times, and people stop listening. So vulnerabilities must be triaged to filter out false positives before making their way to the engineering backlog.</p>
<p><span>
      <a href="https://r2c.dev/static/a0432278d251b4d3f28c7761c9750122/91608/semgrep-supply-chain-bar-chart-dark-background.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Total vulnerabilities vs. reachable vulnerabilities" title="Total vulnerabilities vs. reachable vulnerabilities" src="https://r2c.dev/static/a0432278d251b4d3f28c7761c9750122/1132d/semgrep-supply-chain-bar-chart-dark-background.png" srcset="/static/a0432278d251b4d3f28c7761c9750122/139a5/semgrep-supply-chain-bar-chart-dark-background.png 290w,
/static/a0432278d251b4d3f28c7761c9750122/c08bc/semgrep-supply-chain-bar-chart-dark-background.png 579w,
/static/a0432278d251b4d3f28c7761c9750122/1132d/semgrep-supply-chain-bar-chart-dark-background.png 1158w,
/static/a0432278d251b4d3f28c7761c9750122/91608/semgrep-supply-chain-bar-chart-dark-background.png 1251w" sizes="(max-width: 1158px) 100vw, 1158px" loading="lazy"/>
  </a>
    </span></p>
<p>Our research[1] shows that &gt;98% of vulnerabilities are unreachable and the vulnerable dependencies are being used safely. Existing SCA tools don’t filter out that noise; in fact, they run up the score, alerting users of every package with a vulnerability as though it were a massive security event. It’s an open secret that these false positives make existing tools practically unusable.</p>
<p>A 98% false positive rate is a pretty large haystack in which to find the needle. As a result, we’ve found that many security teams fall into one of two camps:</p>
<ol>
<li>Some teams decide that running a real SCA program isn’t high enough value. But since it’s a compliance requirement, someone turns on a tool to show the auditor and check the compliance box.</li>
<li>Other teams, often at companies with sensitive or valuable data, decide that the risk is unacceptable, that the needle is too dangerous. The security support rotation becomes a slog of never ending toil, manually triaging the infinite pile of vulnerabilities in order to find the rare impactful issue.</li>
</ol>
<p>This is a <em>terrible</em> choice, one that we think security teams should not have to make.</p>
<p>Ask a security team if they’re in favor of vulnerability scanning tools and they will agree. Ask them if those tools meaningfully and practically improve security, and you will get a few laughs.</p>
<p>To combat this problem, we are introducing Semgrep Supply Chain, a high signal vulnerability scanner that leverages the Semgrep engine’s first party code analysis to identify dangerous usage of vulnerable packages - we call this reachability analysis.</p>
<h3 id="how-it-works"><a href="#how-it-works" aria-label="how it works permalink"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How it works</h3>
<p><img src="https://r2c.dev/adc2e3f779daf9e5187535b81f7ec88c/semgrep-supply-chain-managing-vulns.gif" alt="Managing readchable vulnerabilities in Semgrep Supply Chain" title="Managing readchable vulnerabilities in Semgrep Supply Chain"/></p>
<p>Semgrep Supply Chain scans lockfiles in order to answer the question “are you using a package at a version known to be vulnerable?” It then uses the Semgrep engine’s first party code analysis capabilities to search for code that reaches the vulnerability in the package.</p>
<p>This analysis is powered by rules produced by our security research team. When new vulnerabilities are disclosed, they investigate and produce rules that find dangerous uses of the vulnerable package. Our team curates these rules so that they are run with the next scan for all Semgrep Supply Chain customers.</p>
<p>Semgrep Supply Chain still shows you unreachable vulnerabilities. We want you to have full visibility into the state of your supply chain. And in a perfect world, you might even get around to fixing them. But if you’re like most security teams, trying to get out from under the deluge of vulnerabilities, you should prioritize the reachable vulnerabilities and ignore the rest.</p>
<h3 id="an-example-lodash"><a href="#an-example-lodash" aria-label="an example lodash permalink"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>An example: Lodash</h3>
<p>Lodash is a great example of why first party code analysis is crucial for a vulnerability management tool. It’s a hugely popular library of JavaScript utility functions.</p>
<p>Lodash has a known vulnerability below version 14.17.21 that makes prototype pollution possible if untrusted data is passed into <code>merge</code>, <code>mergeDeep</code>, or a few other functions. However, lodash also has over 200 other functions that are totally safe to use with untrusted input, even at the vulnerable version.</p>
<p>That means that engineers can use a “vulnerable” version of lodash completely safely, since the vulnerability is benign unless some code calls the vulnerable function. Sure, in a perfect world, it’s good to upgrade to a version past the vulnerability. But we live in a messy world, where upgrades often come with breaking changes, and security teams must prioritize vulnerabilities that are a real danger to the organization <em>today</em>. In this world, pragmatic security teams use reachable analysis to focus on real issues and prioritize critical fixes.</p>
<h3 id="supported-languages"><a href="#supported-languages" aria-label="supported languages permalink"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supported languages</h3>
<p>At launch, Semgrep Supply Chain has general availability (GA) support for Go, JavaScript/TypeScript, Python, and Ruby, with beta support for Java, and more on the way!</p>
<h3 id="wrapping-up"><a href="#wrapping-up" aria-label="wrapping up permalink"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wrapping up</h3>
<p>Through reachability analysis, Semgrep Supply Chain can take you from hundreds or thousands of alerts, to <strong>tens</strong> of high quality findings. It cuts through the noise, reduces the toil of manual triage, and helps you stay focused on high impact work.</p>
<p>Want to scan your dependencies with Semgrep Supply Chain? <a href="https://semgrep.dev/contact-us?utm_source=blog&amp;utm_medium=website&amp;utm_campaign=ssc-launch" target="_blank" rel="noopener">Contact us to get started</a>.</p>
<p>[1] We’ll be sharing more details about this work later in October. Stay tuned!</p></div></div></div></section></div>
  </body>
</html>
