<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.memorysafety.org/blog/rustls-performance-outperforms/">Original</a>
    <h1>Rustls Outperforms OpenSSL and BoringSSL</h1>
    
    <div id="readability-page-1" class="page"><div><div><header><p>Josh Aas, Joe Birr-Pixton, and Daniel McCarney</p></header><article><p>ISRG has been investing heavily in the <a href="https://github.com/rustls/rustls">Rustls TLS library</a> over the past few years. Our goal is to create a library that is both memory safe and a leader in performance.</p><p>Back in January of this year we published a <a href="https://www.memorysafety.org/blog/rustls-performance/">post</a> about the start of our performance journey. We&#39;ve come a long way since then and we&#39;re excited to share an update on Rustls performance today.</p><h2 id="what-is-rustls">What is Rustls?</h2><p>Rustls is a memory safe TLS implementation with a focus on performance. It is production ready and used in a wide range of applications. You can read more about its history on <a href="https://en.wikipedia.org/wiki/Rustls">Wikipedia</a>.</p><p>It comes with a C API and <a href="https://www.memorysafety.org/blog/rustls-with-aws-crypto-back-end-and-fips/">FIPS support</a> so that we can bring both memory safety and performance to a broad range of existing programs. This is important because OpenSSL and its derivatives, widely used across the Internet, have a long history of memory safety vulnerabilities with more being found this year. It&#39;s time for the Internet to move away from C-based TLS.</p><h2 id="handshake-performance">Handshake Performance</h2><p>The first metric we&#39;ll look at is the number of handshakes that can be completed per second on the same hardware with the same resource constraints. These tests connect one client to one server over a memory buffer, and then measure the time elapsed in client and server processing â€” therefore, they give an upper bound on performance given no network latency or system call overhead.</p><p><img src="https://www.memorysafety.org/images/blog/blog-2024-10-22-chart1.png" alt=""/></p><p><img src="https://www.memorysafety.org/images/blog/blog-2024-10-22-chart2.png" alt=""/></p><p>Rustls leads in every scenario tested.</p><h2 id="throughput-performance">Throughput Performance</h2><p>The next metric we&#39;ll look at is throughput on the same hardware with the same resource constraints, in terms of megabytes per second:</p><p><img src="https://www.memorysafety.org/images/blog/blog-2024-10-22-chart3.png" alt=""/></p><p>Rustls leads across the board in throughput as well.</p><h2 id="testing-methodology">Testing Methodology</h2><p>Tests were performed using Debian Linux on a bare-metal Intel Xeon E-2386G CPU with hyper-threading disabled, dynamic frequency scaling disabled, and the CPU scaling governor set to performance for all cores. More details are available <a href="https://gist.github.com/ctz/deaab7601f20831d0f9d4bf5f3ac734a">here</a>.</p><h2 id="try-rustls">Try Rustls!</h2><p>Rustls is ready for production use today and we encourage folks to <a href="https://github.com/rustls/rustls">try it out</a>. In addition to memory safety and great performance, it offers:</p><ul><li>C and Rust APIs</li><li>FIPS Support</li><li>Post-quantum key exchange (updated algorithms coming soon)</li><li>Encrypted Client Hello (client side)</li><li>OS trust verifier support</li></ul><h2 id="thank-you">Thank You</h2><p>Rustls uses the <a href="https://github.com/aws/aws-lc-rs">aws-lc-rs</a> cryptographic library by default. We&#39;d like to thank the aws-lc-rs team at AWS for helping us reach our performance goals, and for being generally helpful with our adoption of their library. We couldn&#39;t have asked for better partners in this.</p><p>We&#39;d also like to thank Intel for helping with AVX-512 optimizations for aws-lc-rs recently. This was an important part of achieving our performance goals.</p><p>We would not be able to do this work without our funders. Thank you to Sovereign Tech Fund, Alpha-Omega, Google, Fly.io, and Amazon Web Services for their support.</p></article></div></div></div>
  </body>
</html>
