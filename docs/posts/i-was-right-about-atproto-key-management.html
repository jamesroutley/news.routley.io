<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://notes.nora.codes/atproto-again/">Original</a>
    <h1>I was right about ATProto key management</h1>
    
    <div id="readability-page-1" class="page">
    <header>
      <span>I Was Right About ATProto Key Management</span>
      <nav>
        <a href="https://notes.nora.codes/">home</a> |
        <a href="https://nora.codes">main website</a>
      </nav>
      <hr/>
    </header>
    
      <p>So, a while ago, I wrote a post called <a href="https://notes.nora.codes/atproto">“Key Management, ATProto, and Decentralization”</a> in which I complained about ATProto’s approach to decentralization. Since then, Blacksky has spun up an AppView, which makes it theoretically possible to have an actually decentralized experience on Bluesky. This was my line in the sand, stated many times; I would make an account when and only when it was possible to do so without using anything running on Bluesky-the-company’s hardware.</p>
<p>So, today, I tried that. Let’s walk through the process:</p>
<ol>
<li>
<p>Set up the PDS software on a server I control. Because I use NixOS, this was basically trivial.</p>
</li>
<li>
<p>Create a did:web. This means creating a public-private keypair; I initially tried following <a href="https://blog.lapyst.dev/posts/14-how-to-create-a-completely-independent-bluesky-atproto-account">this tutorial</a> from Mai Lapyst, but it’s very out of date, and doesn’t include a critical step, as we’ll see.</p>
</li>
<li>
<p>With that did:web, upload the <code>did.json</code> document to my webserver and set the appropriate DNS entries. Easy enough, except that I also had to set the CORS header for the <code>did.json</code>.</p>
</li>
<li>
<p>Create an account on my shiny new PDS. I was able to get an invite and create an account, but it was in the “deactivated” status, and I couldn’t activate it. It was very frustrating, because I was making requests manually with <code>curl</code> and reading the error outcomes in the PDS’s logs on my server.</p>
<p>Oh, and by the way, none of this is documented. Sure, the individual endpoints are - kind of - but the only place the whole process is collected in one place is in the comments to <a href="https://github.com/bluesky-social/atproto/issues/3143">this GitHub issue</a>… which is closed as WONTFIX.</p>
</li>
<li>
<p>Seek help in the ATProto Touchers Discord server, and at their advice delete the account (foreshadowing!).</p>
</li>
<li>
<p>Start over and re-create everything from scratch, finally noticing the comment line in the comment on the closed GitHub issue telling me to replace the public key in my DID with the public key from <code>getRecommendedDidCredentials</code>.</p>
<p>The documentation for that endpoint, by the way, reads in full:</p>
<blockquote>
<p>Describe the credentials that should be included in the DID doc of an account that is migrating to this service.</p>
</blockquote>
<p>Note that I am <strong>not</strong> “migrating”; this account is new. Plus, the JSON keys it returns are almost, but not quite, the same as those in a DID document, and the key it returns actually has to be edited by hand in order to be usable.</p>
</li>
<li>
<p>Update the DID document with the correct key.</p>
</li>
<li>
<p>Log into Bluesky (bsky.app) and see the brave new world of… never mind, I get a “Profile does not exist error.”</p>
</li>
</ol>
<p>It was at this point that I found <a href="https://github.com/bluesky-social/atproto/issues/3455">this GitHub issue</a>, which seems to imply that, since I deleted my (completely empty and unused) account, my did:web is blacklisted from the remaining mostly-centralized bit of the system, the AppView. The term for this, apparently, is being “burned”.</p>
<p>Asking in the Discord again, I was told as much, and that my best bet is to reach out to support. Support from the company that I am supposedly free from using. Ugh!</p>
<p>I feel that this completely vindicates my view in my other post that asking users - even pretty technical ones - to handle their own PKI without any tooling or even really any documentation is completely untenable. As a long time Fedi admin friend of mine said, this is somehow harder and more error-prone than setting up a Mastodon instance in 2017 - and you expect each and every user to choose between this and centralization?</p>
<p>ATProto may be decentralized, but Bluesky - the social network and social protocol on top of it - is not, at least not in a way anyone can actually use.</p>
<section id="Coda">
<h3>Coda</h3>
<p>If you’ve been drinking the coolaid, ask yourself this: why is a centralized “burn” able to completely prevent me from interacting with people using Bluesky?</p>
<p>It’s no secret that I don’t like ATProto, but I do actually want to use Bluesky.
I find Blacksky really interesting, and I have several friends who post exclusively there.
I would love to use Bluesky, with my own domain name, from my own PDS, but I’m not allowed to - because of a centralized authority.</p>
<p>You may be aware that Mastodon has a similar system. If you set up a Mastodon server and then delete the database, anyone you’ve already federated with won’t federate with you again, because you can’t prove you’re the same instance. It’s a genuine issue - but it wouldn’t have resulted in this, because I hadn’t even made a post on my now-burned did:web identity, nor followed anyone.</p>
<p>Even if I had, though, that would have burned <strong>a</strong> connection, not <strong>all</strong> connections. 
My experience would be degraded, but not ruined, and I could work with the admins of the affected servers to remediate it.
You could say the same here, of course; maybe (maybe) support will get back to me some day, but it’s just that - support. There is only, really, one connection that matters; maybe two, if you count Blacksky, but their AppView is not generally available yet.</p>
<p>That’s centralization. I don’t understand how you could call it anything else.</p>
</section>

    
    
  

</div>
  </body>
</html>
