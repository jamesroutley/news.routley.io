<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lwn.net//Articles/965434/">Original</a>
    <h1>Managing Linux Servers with Cockpit</h1>
    
    <div id="readability-page-1" class="page"><div>
<center>
           <div><b>This article brought to you by LWN subscribers</b><p>Subscribers to LWN.net made this article — and everything that
       surrounds it — possible.  If you appreciate our content, please
       <a href="https://jvns.ca/subscribe/">buy a subscription</a> and make the next
       set of articles possible.</p></div>
           </center>
           
<p><a href="https://cockpit-project.org/">Cockpit</a> is an interesting
project for web-based Linux administration that has received
relatively little attention over the years. Part of that may be due to
the project&#39;s strategy of minor releases roughly every two weeks,
rather than larger releases with many new features. While the strategy
has done little to garner headlines, it has delivered a useful and
extensible tool to observe, manage, and troubleshoot Linux servers.</p>

<h4>Overview</h4>

<p>The Cockpit project started in 2013, sponsored by Red Hat. It
was primarily targeted at system administrators new to Linux, such
as Windows administrators who were having to adapt to Linux&#39;s
increasing presence in the server market. It is designed to be
distribution-independent, and is available for and
tested on many popular Linux distributions including Arch Linux, Debian, Fedora,
openSUSE Tumbleweed, and Red Hat Enterprise Linux (RHEL) and its
derivatives. See the full list on the <a href="https://cockpit-project.org/running.html#installation--setup">running
Cockpit</a> page.</p>

<p>The project&#39;s goal is to provide a coherent, discoverable GUI to
manage systems and make use of tools already present on the
system without getting in the way of or conflicting with other tools.
Cockpit doesn&#39;t save configuration state independently of the system;
that is, if an administrator uses Cockpit to make changes to a system
firewall and then makes further changes to the firewall using another
tool like <a href="https://www.ansible.com/community">Ansible</a>,
Cockpit won&#39;t try to automatically revert Ansible&#39;s changes down the road.</p>

<p>One of the project&#39;s <a href="https://cockpit-project.org/ideals.html">ideals</a> is that
people should &#34;<q>feel they are interacting with the underlying Server
OS</q>&#34;, and that its user interface should show the server name or
operating system name rather than Cockpit branding. As a matter of
fact, users <em>are</em> interacting with the underlying
operating system when using Cockpit: it uses standard system tools
behind the scenes for its tasks if they are available.</p>

<p>While Cockpit is meant to be distribution-independent, its heritage
does show through a bit in its choices of default tools. Cockpit uses <a href="https://cockpit-project.org/guide/latest/feature-networkmanager">NetworkManager</a>
to manage network configurations, <a href="https://cockpit-project.org/guide/latest/feature-firewall.html">firewalld</a>
to manage a system&#39;s firewall, <a href="https://cockpit-project.org/guide/latest/feature-storaged.html">storaged</a>
for working with system storage, <a href="https://cockpit-project.org/guide/latest/feature-sosreport.html">SOS
report</a> for creating diagnostic reports, 

and <a href="https://cockpit-project.org/guide/latest/features.html">so
forth</a> if they&#39;re present on the system.

If a distribution defaults to <a href="https://github.com/cockpit-project/cockpit/issues/17040">networkd
instead of NetworkManager</a>, then the options are to install
NetworkManager, forego using Cockpit for network administration, or
<a href="https://github.com/cockpit-project/cockpit/issues/19405#issuecomment-1740320659">do
the work and contribute the feature</a> to the Cockpit project. For
the most part, though, few users contribute features to the project—the majority of contributions to
Cockpit come from a handful of Red Hat employees.</p>

<p>If one looks at the <a href="https://github.com/cockpit-project/cockpit/graphs/contributors?from=2022-03-08&amp;to=2024-03-08&amp;type=c">past
two years</a> of activity in the main <a href="https://github.com/cockpit-project/cockpit">Cockpit 
repository</a>, the majority of commits come from Martin Pitt, Allison
Karlitskaya, Jelle van der Waa, Marius Vollmer, and Katerina Koukiou,
who are all Red Hat employees. This is not to say that contributions are
unwelcome. The project has made a respectable attempt to encourage
contributions, or at least make it possible for others to reuse its
work. Cockpit has a detailed <a href="https://cockpit-project.org/external/wiki/Contributing.html">contribution
guide</a> and a <a href="https://cockpit-project.org/guide/latest/development">developer
guide</a> for those interested in contributing to or reusing
Cockpit&#39;s components.</p>

<h4>Cockpit architecture</h4>

<p>Cockpit is licensed under the <a href="https://opensource.org/license/lgpl-2-1">LGPL v2.1</a> (or
later) and consists of the web frontend, along with a <a href="https://cockpit-project.org/guide/latest/cockpit-ws.8.html">web
service</a> for communication between the frontend and <tt><a href="https://cockpit-project.org/guide/latest/cockpit-bridge.1.html">cockpit-bridge</a></tt>. The
<tt>cockpit-bridge</tt> program is responsible for relaying commands
via DBus to systemd, storaged, NetworkManager, and the other system tools
used by Cockpit. Its web components are written in JavaScript,
with the other components largely written in C or Python.
The <tt>cockpit-bridge</tt> component has implementations in C
and Python. The Python bridge was introduced in June 2023, in the <a href="https://cockpit-project.org/blog/cockpit-294.html">Cockpit
294</a> release. Recent RHEL-based distributions and Fedora have switched
to the Python implementation, while Debian 12 and Ubuntu 22.04 are
still on the C version of <tt>cockpit-bridge</tt>.</p>

<p>Once Cockpit is installed and running on a system, its web
interface is available on port 9090 by default. The port can be <a href="https://cockpit-project.org/guide/latest/listen">changed</a>, if needed,
or the web service can be turned off entirely and Cockpit clients can connect over SSH by using 
a <a href="https://flathub.org/apps/org.cockpit_project.CockpitClient">desktop
client</a>, a <a href="https://quay.io/repository/cockpit/ws">container</a> that runs
the Cockpit web service, or by logging into another server running
Cockpit and then <a href="https://cockpit-project.org/guide/latest/authentication.html#secondary-auth">connecting
to a secondary server</a>.</p>

<p>One might expect problems when mixing and matching versions of
Cockpit, but because it is used on so many Linux distributions with
varying release schedules, backward compatibility is another of the
project&#39;s ideals. If a user is running Cockpit on Debian Bookworm,
they should be still be able to connect to a server running Fedora
Rawhide without problems, or vice versa. Having used Cockpit for years
on a variety of systems running Alma Linux, CentOS, Debian, Fedora,
RHEL, and Ubuntu, I can confirm that the project does a fine job of
maintaining compatibility between releases.</p>

<p>The project recommends using Firefox or Chrome, and has automated
tests to ensure compatibility with both browsers. The project also states that it
&#34;<q>periodically</q>&#34; tests Edge, Safari, and GNOME&#39;s Epiphany web
browser. Users trying to connect to Cockpit with Safari on iOS,
iPadOS, and Arm-based Macs (at least of this writing), may have a bit
of difficulty. Safari on those platforms <a href="https://cockpit-project.org/running/safari.html">is missing
support</a> for the self-signed certificates that Cockpit uses by
default. Users can work around this, or just use a supported browser.</p>

<p>Releases come out roughly every two weeks. The release numbering
for the project is somewhat unusual. In 2016 Cockpit <a href="https://lists.fedorahosted.org/archives/list/cockpit-devel@lists.fedorahosted.org/thread/UTSBRX6XQ2GJY4EHNY7DFOVE5OBITICN/">adopted
a new scheme</a> and started with version 118, with subsequent
versions being 119, 120, etc. Note that some releases receive
subsequent bugfix releases of their own, such as the 310 release that
received a <a href="https://github.com/cockpit-project/cockpit/releases/tag/310.1">310.1</a>
release to fix a race condition, and <a href="https://github.com/cockpit-project/cockpit/releases/tag/310.2">310.2</a>
with fixes for curl and SELinux. The most recent release
as of this writing is <a href="https://github.com/cockpit-project/cockpit/releases/tag/313">Cockpit
313</a>, which comes with a note saying that it contains &#34;<q>assorted bug fixes and
improvements</q>&#34; on its release page. The project&#39;s <a href="https://cockpit-project.org/blog/">blog</a> usually has more
descriptive posts that advertise new features such as <a href="https://cockpit-project.org/blog/cockpit-309.html">Btrfs
support</a> for 309 or the addition of <a href="https://cockpit-project.org/blog/cockpit-304.html">LVM2 RAID layout</a> support
in 304.</p>

<p>The project has a <a href="https://lists.fedorahosted.org/archives/list/cockpit-devel@lists.fedorahosted.org/">mailing
list</a> for development but it is not a lively list. Two messages
have been sent in 2024, one in January and one in February. The GitHub
<a href="https://github.com/cockpit-project/cockpit/discussions">discussions</a>
page is more lively, and most of the work happens in Cockpit&#39;s <a href="https://github.com/cockpit-project/cockpit/issues">issue
tracker</a> on GitHub.</p>

<p>The fast pace of releases means that the upstream version of Cockpit may be
significantly newer than the version packaged for stable or long-term
support (LTS) versions of Debian and Ubuntu. The project <a href="https://cockpit-project.org/running.html#debian">recommends</a>
installing from the <a href="https://backports.debian.org/">Debian
backports</a> or <a href="https://help.ubuntu.com/community/UbuntuBackports">Ubuntu
backports</a> repositories to use a more up-to-date version if
possible.</p>

<h4>Taking the controls</h4>

<p>Cockpit can be set up to use standard system password or
Kerberos authentication when logging in directly. It can use SSH key-based
authentication when connecting over SSH to secondary servers.
Unlike tools like <a href="https://webmin.com/">Webmin</a>,
Cockpit doesn&#39;t maintain a set of users independently of the system,
users log in as themselves, and have the same <a href="https://cockpit-project.org/guide/latest/privileges.html">permissions
and privileges</a> as if they had connected via SSH or logged in at the
console. Users can also gain administrative access if they have sudo
privileges on the host.</p>

<p>After logging in, users will see a system overview page with
a dashboard displaying system health, CPU and memory usage, basic
system information, and navigation to pages for working with
user accounts, system logs, system services, networking, and other tools.
The exact services available via Cockpit will vary based on the services
available on the host OS and which optional components are
installed. This makes it simple to log in and see, at a glance,
whether a system has any pending software updates, whether it has
logged any errors to be concerned about, and much more.</p>

<blockquote>
<a href="https://jvns.ca/Articles/965616/"><img src="https://static.lwn.net/images/2024/cockpit-dashboard-sm.png" alt="[The Cockpit
dashboard]" title="The Cockpit dashboard"/></a>
</blockquote>

<p>Drilling down into the metrics and history page, Cockpit offers a
more detailed set of metrics about the system&#39;s load, which
applications are consuming the most memory, the disk usage and
throughput, and network interfaces and bandwidth consumption. Note that
Cockpit&#39;s memory-usage information <a href="https://github.com/cockpit-project/cockpit/issues/17930">comes
from control groups</a> (cgroups) to provide a quick overview of
system usage rather than a full accounting of resident set and virtual
memory by process. For historical data, Cockpit uses <a href="https://cockpit-project.org/guide/latest/feature-pcp.html">Performance
Co-Pilot</a> (PCP) if it&#39;s available. If it isn&#39;t available, Cockpit
provides an option to install PCP to begin collecting
metrics and then display system usage and load over time. Cockpit will
even note spikes in load or I/O, with links to logs from that
timeframe that might help shed light on the cause.</p>

<p>The services tab allows an administrator to browse the available systemd
<a href="https://www.freedesktop.org/software/systemd/man/latest/systemd.service.html">services</a>,
<a href="https://www.freedesktop.org/software/systemd/man/latest/systemd.target.html">targets</a>,
<a href="https://www.freedesktop.org/software/systemd/man/latest/systemd.timer.html">timers</a>,
<a href="https://www.freedesktop.org/software/systemd/man/latest/systemd.socket.html">sockets</a>,
or <a href="https://www.freedesktop.org/software/systemd/man/latest/systemd.path.html">paths</a>. From
there, administrators can manage the various systemd services, see their
relationships with other services, and view their logs. If relevant to
a service, Cockpit will also show its memory usage. As an example,
browsing the <tt>apache2.service</tt> on my Debian server running a
few WordPress blogs shows 628MB memory in use.</p>

<p>As one might expect, Cockpit&#39;s accounts tab will let administrators view
users on the system and work with users and groups. In addition to the
basic operations like adding or removing users, changing passwords,
managing a users&#39; groups, administrators can also browse a users&#39; login
history and manage authorized SSH keys.</p>

<h4>Extending Cockpit</h4>

<p>Cockpit also has number of <a href="https://cockpit-project.org/applications">additional
applications</a> one might want to install, depending on what
workloads a system is running. For instance, the Cockpit project has
applications for working with virtual machines,
managing containers with Podman, managing OSTree updates, working with
SELinux, and a number of others. There are also third-party
application add-ons like the Navigator file browser for Cockpit,
another to manage Samba and NFS file sharing, a ZFS on Linux administration utility,
and more. If none of the available applications fit the bill, users can create
their own <a href="https://cockpit-project.org/blog/creating-plugins-for-the-cockpit-user-interface.html">custom
applications</a> and add them to Cockpit&#39;s navigation.</p>

<p>Even with the array of third-party applications for Cockpit, the
odds are that eventually one will need to do some system task that
isn&#39;t doable via its interface. Even then, all is not lost: when all
else fails, Cockpit has a web-based terminal for quick and easy access
to the command line.</p>

<p>As noted, the Cockpit team churns out releases on a
regular basis. The developers don&#39;t tend to make much noise about the
releases, so the project goes unnoticed by a lot of the users who
would benefit most from it. It&#39;s a handy, deceptively useful tool
that&#39;s well worth a look as part of a well-balanced administrator&#39;s
diet.</p></div></div>
  </body>
</html>
