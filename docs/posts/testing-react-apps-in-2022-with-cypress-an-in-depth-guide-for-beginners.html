<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://profy.dev/article/cypress-react">Original</a>
    <h1>Testing React Apps in 2022 with Cypress: An In-Depth Guide for Beginners</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>You know that you should write tests for your React applications.</p><p>But reality shows that most Junior developers never have written a test. And to be honest, it doesn’t feel easy to start. You have to decide between a gazillion tools. <strong>Writing tests feels very different than writing your normal frontend code.</strong> It’s awkward. And frustrating. Strange errors everywhere that you don’t know how to debug.</p><p><strong>But once you get used to it you won’t wanna miss it.</strong> You’ll feel much safer because code changes won’t break your app. No need for endless manual tests anymore. Not only that: Writing tests is best practice in many companies and <a href="https://profy.dev/article/react-projects-for-your-portfolio#application-logic">lets you stand out as a candidate if you’re looking for your first developer job</a>.</p><p><strong>And turns out, it doesn’t have to be that hard. If you pick the right tools to start with and get a bit of guidance.</strong></p><p>On this page, you can find exactly that:</p><ul><li>We cover why Cypress is a great tool (especially for developers who are new to testing).</li><li>We  start by writing a few simple UI tests.</li><li>We move on to more complex tests involving data from API requests.</li><li>Finally we learn how to debug our way through problems.</li></ul><p>But hold on. <strong>This is not a theoretical lesson</strong> where you simply lean back and enjoy the content. I prepared a project that you can use to follow along. It’s a Next.js app that needs some testing love. We’ll write a few tests together but in the end, I’ll leave a few test cases for you to implement on your own.</p><p>The goal is that you leave this tutorial with the skills to start testing your own applications. This is your chance to get hands-on testing experience! I hope you’re thrilled.</p><p><a href="#nl-5776319l5j5l8">Click here to get the source code for this tutorial</a></p><nav aria-label="Table of contents"><p>Table of Contents</p><ul></ul></nav><h2 id="introduction">Introduction</h2><h3 id="why-cypress">Why Cypress</h3><p>As with everything JavaScript, there are tons of testing tools in the React and web dev ecosystem. Some are outdated (like Enzyme). Some are super popular but somewhat hard on beginners (like React Testing Library). And <strong>one testing tool is popular in real-world projects AND has a relatively low learning curve</strong>:</p><p><strong>Cypress</strong></p><p>The big advantage and reason why I recommend it to beginners is the level of visual feedback and interactivity.</p><p>The problem with other testing frameworks like RTL is that</p><ol><li>Writing tests feels different from your usual frontend code.</li><li>All the output is in the terminal while you’re used to looking at the browser for feedback.</li><li>The debugging experience is vastly different. More like debugging Node.js servers than React apps.</li></ol><p><strong>With Cypress, you only have the first point.</strong></p><p>Once you get used to writing tests you can transfer this knowledge to other frameworks like RTL and get comfortable with the debugging experience there. And that’s surely a good idea since most tests are likely written with React Testing Library nowadays.</p><p>But one step at a time. <strong>Let me show you why Cypress is so powerful.</strong> On your local machine, it has a separate UI where all the tests are run. Next to a browser window where you can watch your tests step by step! </p><p>You can click on each step of the tests and get some additional information. You can even open the Chrome dev tools in the browser, read the console output, inspect elements, and use the debugger.</p><p>I hope the advantages are clear. You’re likely used to a lot of this stuff already. So it’s mostly Cypress and its API that you have to get used to. On top of that <a href="https://docs.cypress.io/guides/getting-started/installing-cypress">Cypress is super easy to set up</a>. In your project you can simply run</p><pre><p><span>npm</span><span> </span><span>install</span><span> --save-dev cypress</span></p></pre><p>That&#39;s it.</p><h3 id="the-project-used-in-this-tutorial">The Project Used In This Tutorial</h3><p>As I mentioned, I created a Next.js app that we&#39;ll use as an existing codebase to cover with tests on this page. It&#39;s an error tracking tool similar to Sentry or Rollbar. You can find <a href="https://prolog.profy.dev/dashboard">the running app here</a>.</p><blockquote><p>The app belongs to the <a href="https://profy.dev">React Job Simulator program</a> where you can learn and apply professional React dev skills like testing.</p></blockquote><p>I personally am a learning-by-doing type. So <strong>I highly recommend following along with this tutorial</strong>. From my experience just reading only gets you this far. But applying the newly gained knowledge will make it stick. To get the source code drop your email below.</p><h3 id="what-to-test">What To Test</h3><p>In this tutorial we will test two things: The navigation bar (see screenshot below) and a list of issues that <a href="https://prolog.profy.dev/dashboard/issues">you can see here</a>. </p><p>Let’s start with the navigation bar.</p><p>With Cypress (as well as React Testing Library) we typically test an application the same way a user would interact with it. For example, we click on an element and see if the browser shows the correct result. </p><p><strong>The purpose of a test is to ensure that a feature works correctly.</strong> Not that a component gets the right props or a certain callback was run. That’s not what the user sees or is interested in. Shortly it’s irrelevant. </p><p>There are lots of things that we could potentially test. But <strong>it’s a good idea to focus on the important parts of a feature’s functionality</strong>.</p><p>In this case, the sidebar navigation serves its purpose if</p><ul><li>the links send the user to the correct page</li><li>the navigation bar is collapsible.</li></ul><p>These are relatively simple UI tests that we&#39;ll implement in the following two sections. Testing the issues page is a bit more complex as it involves API requests. We&#39;ll have a look at that in the 4th section.</p><h2 id="testing-navigation-links">Testing Navigation Links</h2><p>First, let&#39;s focus on the links in the navigation. Here is one way of testing them:</p><ol><li>We get the links in the navigation.</li><li>We click each link.</li><li>We check the URL to ensure that the correct page has opened.</li></ol><h3 id="opening-a-url-with-cypress">Opening A URL With Cypress</h3><p>First, we need to do some setting up. Before each test, we need to open the application from within Cypress (here the home page works well). This is done via the <a href="https://docs.cypress.io/api/commands/visit">cy.visit()</a> command.</p><p>Open the file <code>cypress/integration/navigation.spec.ts</code> and add the following code:</p><pre><p><span>describe</span><span>(</span><span>&#34;Sidebar Navigation&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>beforeEach</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    cy</span><span>.</span><span>visit</span><span>(</span><span>&#34;http://localhost:3000/dashboard&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>But how do we get the links? First, it’s a good idea to get an overview of the navigation DOM structure. In our normal browser, we can open the dev tools and inspect the navigation.</p><h3 id="accessing-an-element-globally">Accessing An Element Globally</h3><p>All the links are grouped in a <code>nav</code> tag.</p><p>Since there are other links on the page it’s smart to start with that group. We can access an element with the <a href="https://docs.cypress.io/api/commands/get">cy.get()</a> command. This command accepts a selector as a parameter (the tag <code>nav</code> here) and returns all corresponding elements on the website.</p><pre><p><span>describe</span><span>(</span><span>&#34;Sidebar Navigation&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>beforeEach</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    cy</span><span>.</span><span>visit</span><span>(</span><span>&#34;http://localhost:3000/dashboard&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>it</span><span>(</span><span>&#34;links are working&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>Easy. Now let’s double-check that everything’s working fine.</p><p>In the Cypress UI, we click on <code>navigation.spec.ts</code>. This should run the tests which looks like this:</p><p><strong>If Cypress doesn’t find the element in question it throws an error.</strong> But the test passes so everything is alright. Accessing the <code>nav</code> element via <code>cy.get(&#34;nav&#34;)</code> worked.</p><h3 id="switching-viewports">Switching Viewports</h3><p>But wait. Where is the navigation bar?</p><p>Have a close look at the Cypress browser. This is the mobile view. And on mobile the navigation is hidden.</p><p>That means we first need to set the viewport to desktop. That can be done with the <a href="https://docs.cypress.io/api/commands/viewport">cy.viewport()</a> command.</p><pre><p><span>describe</span><span>(</span><span>&#34;Sidebar Navigation&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>beforeEach</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    cy</span><span>.</span><span>viewport</span><span>(</span><span>1025</span><span>,</span><span> </span><span>900</span><span>)</span><span>;</span><span></span></p><p><span>    cy</span><span>.</span><span>visit</span><span>(</span><span>&#34;http://localhost:3000/dashboard&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>it</span><span>(</span><span>&#34;links are working&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>When you save the file the test should automatically re-run. Now our Cypress UI should show this:</p><h3 id="accessing-a-specific-element-by-text">Accessing A Specific Element By Text</h3><p>Now let’s test the first link. Since the “Projects” link points to the route <code>/</code> (which is the current route) we test the “Issues” link first.</p><p>The problem is that there are multiple links in the navigation. The <code>cy.get()</code> command that we used before doesn&#39;t work well in this case. It would get all links on the whole page. But we want a specific one. The one inside the navigation that says “Issues”.</p><p>To get an element by its text content we can use the <a href="https://docs.cypress.io/api/commands/contains">contains()</a> command. To make it even more specific we can chain it with the <code>get()</code> command. </p><pre><p><span>it</span><span>(</span><span>&#34;links are working&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// check that issues link leads to the right page</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Issues&#34;</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><h3 id="interacting-with-elements---clicking">Interacting With Elements - Clicking</h3><p>Now we should have access to the &#34;Issues&#34; link and can interact with it. To click the link we can simply use the <a href="https://docs.cypress.io/api/commands/click">click()</a> command.</p><pre><p><span>it</span><span>(</span><span>&#34;links are working&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// check that issues link leads to the right page</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Issues&#34;</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>The test should run again and hopefully pass.</p><h3 id="cypress-helps-with-debugging">Cypress Helps With Debugging</h3><p>It’s time for some Cypress magic. In the screenshot above do you see what happens when you hover over the “click” step on the left? It highlights the element that was clicked in the browser.</p><p>This is super helpful to understand what’s going on and debug issues.</p><h3 id="accessing-the-url">Accessing The URL</h3><p>OK, looks like everything is fine for now.</p><p>The last step to test the link is to check that the correct page is opened. As mentioned above we can simply check the URL. We can use the <a href="https://docs.cypress.io/api/commands/url">cy.url()</a> command and test its value with the <a href="https://docs.cypress.io/api/commands/should">should()</a> command.</p><pre><p><span>it</span><span>(</span><span>&#34;links are working&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// check that issues link leads to the right page</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Issues&#34;</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  cy</span><span>.</span><span>url</span><span>(</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;eq&#34;</span><span>,</span><span> </span><span>&#34;http://localhost:3000/dashboard/issues&#34;</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>The test passes. Everything is as expected, yay!</p><h3 id="exercise">Exercise</h3><p>Now is your chance to get your hands dirty. We created a test for the first link here. But there are a few links that need to be tested as well:</p><ul><li>Projects</li><li>Alerts</li><li>Users</li><li>Settings</li></ul><p>Note: You can add all these tests to the same <code>it(&#34;links are working&#34;, ...)</code> test case.</p><h2 id="testing-that-the-navigation-is-collapsible">Testing That The Navigation Is Collapsible</h2><p>Now let’s test a dynamic part of the sidebar navigation. When you click the”Collapse” button at the bottom left (either on your local machine or <a href="https://prolog.profy.dev/">here</a>) you should see the navigation bar collapse.</p><h3 id="clicking-a-button">Clicking A Button</h3><p>We start with another <code>it(...)</code> wrapper. Same as in the tests before we get the <code>nav</code> element and find the “Collapse” button inside using <code>cy.get()</code> and <code>cy.contains()</code>. Finally we click it.</p><pre><p><span>it</span><span>(</span><span>&#34;is collapsible&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// collapse navigation</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Collapse&#34;</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>When you check the Cypress UI the test passes and the navigation is collapsed. Everything seems to work fine. Again you can hover on each of the steps on the left to see what happened in the UI.</p><h3 id="what-to-test-1">What To Test</h3><p>Now how do we test that the navigation is collapsed and ensure that it works? There are two things that seem sufficient to me:</p><ol><li>Check that all links are rendered and work correctly.</li><li>Check that the text next to the icon is hidden.</li></ol><h3 id="testing-the-links">Testing The Links</h3><p>Let’s start with the links. Since we tested each link’s target in the previous test I don’t think we need to do that again. Instead we can check that the correct number of links is rendered and that any of these is works correctly.</p><p>To get all links, we can use the <a href="https://docs.cypress.io/api/commands/find">cy.find()</a> command.</p><pre><p><span>it</span><span>(</span><span>&#34;is collapsible&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// collapse navigation</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Collapse&#34;</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>// check that links still exist</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>find</span><span>(</span><span>&#34;a&#34;</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;have.length&#34;</span><span>,</span><span> </span><span>5</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>Now we can take any one of these links and check that it still leads the user to the correct page. To access a specific element from an array Cypress provides the <a href="https://docs.cypress.io/api/commands/first">first()</a>, <a href="https://docs.cypress.io/api/commands/eq">eq()</a>, or <a href="https://docs.cypress.io/api/commands/last">last()</a> commands. </p><p><code>cy.first()</code> doesn’t work in our case since that would be the “Projects” link which is the current page. The test would pass even if the link didn’t do anything. <code>cy.last()</code> seems a bit more fragile. It would break if we’d add another link to the navigation. </p><p>So let’s settle for <code>cy.eq()</code>. This would still break if we change the order of the links but seems like the least fragile option. </p><pre><p><span>it</span><span>(</span><span>&#34;is collapsible&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// collapse navigation</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Collapse&#34;</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>// check that links still exist and are functional</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>find</span><span>(</span><span>&#34;a&#34;</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;have.length&#34;</span><span>,</span><span> </span><span>5</span><span>)</span><span>.</span><span>eq</span><span>(</span><span>1</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  cy</span><span>.</span><span>url</span><span>(</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;eq&#34;</span><span>,</span><span> </span><span>&#34;http://localhost:3000/dashboard/issues&#34;</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><h3 id="testing-that-elements-are-hidden">Testing That Elements Are Hidden</h3><p>Finally, let’s check that the user only sees the icons and not the text next to them. Testing one link should be the same as they’re handled by a single component. So let’s use the “Issues” link.</p><pre><p><span>it</span><span>(</span><span>&#34;is collapsible&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// collapse navigation</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Collapse&#34;</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>// check that links still exist and are functional</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>find</span><span>(</span><span>&#34;a&#34;</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;have.length&#34;</span><span>,</span><span> </span><span>5</span><span>)</span><span>.</span><span>eq</span><span>(</span><span>1</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  cy</span><span>.</span><span>url</span><span>(</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;eq&#34;</span><span>,</span><span> </span><span>&#34;http://localhost:3000/dashboard/issues&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>// check that text is not rendered</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;nav&#34;</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Issues&#34;</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;not.exist&#34;</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>Great, we added our first simple UI tests. There are other things that we could test (like the navigation on mobile devices). But more on that later. Let’s continue with testing data-driven components.</p><h2 id="testing-pages-with-api-requests">Testing Pages With API Requests</h2><p>If you <a href="https://prolog.profy.dev">visit the app’s projects page</a> and look carefully (or with a sufficiently slow internet connection) you can see this loading state. This indicates that the page loads data from an API.</p><p>To be fair, this is not the best loading indicator but that’s a task for the React Job Simulator.</p><p>Once the data is loaded we see the projects rendered on the page.</p><h3 id="what-to-test-2">What To Test</h3><p>Now, how do we test this data?</p><p>Again like a user would use the app. We get the elements on the page (here the project cards) and check that the correct values are rendered.</p><p>First, let&#39;s again get an overview of the DOM structure. When you inspect the first project card in your dev tools you’ll see this:</p><p>We can see that each project card is wrapped in a <code>li</code> tag. This seems like a good selector for our tests.</p><h3 id="accessing-elements-within-a-parent">Accessing Elements Within A Parent</h3><p>The problem is that we know from the previous tests that there are <code>li</code> elements in the navigation bar as well. So when we try to access the project cards we need to be careful not to grab the navigation links.</p><p>The easiest way to prevent this is to identify a suitable parent element of the project cards and access this first. Here the <code>main</code> element seems like a good fit since the navigation is rendered outside of it.</p><p>That’s enough information for now. Open the file <code>cypress/integration/project-list.spec.ts</code> and add the following code.</p><pre><p><span>describe</span><span>(</span><span>&#34;Project List&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>beforeEach</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    cy</span><span>.</span><span>viewport</span><span>(</span><span>1025</span><span>,</span><span> </span><span>900</span><span>)</span><span>;</span><span></span></p><p><span>    cy</span><span>.</span><span>visit</span><span>(</span><span>&#34;http://localhost:3000/dashboard&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>it</span><span>(</span><span>&#34;renders the projects&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>// get all project cards</span><span></span></p><p><span>    cy</span><span>.</span><span>get</span><span>(</span><span>&#34;main&#34;</span><span>)</span><span></span></p><p><span>      </span><span>.</span><span>find</span><span>(</span><span>&#34;li&#34;</span><span>)</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><h3 id="iterating-over-a-list-of-elements">Iterating Over A List Of Elements</h3><p>Now we can make use of the <a href="https://docs.cypress.io/api/commands/each">each($el ⇒ …)</a> command to iterate through this list. The first parameter <code>$el</code> of the callback function allows us to access each element. </p><p>So to test that e.g. the first card contains the project title “Frontend - Web” it makes sense to simply try to write <code>$el.contains(&#34;Frontend - Web&#34;)</code>. Unfortunately, this gives us an error.</p><p>The type of the parameter <code>$el</code> is <code>JQuery&lt;HTMLElement&gt;</code>. And this doesn’t support the Cypress commands like <code>contains()</code>. </p><p>Looking at the docs there is a simple solution though: we can just wrap <code>$el</code> with <a href="https://docs.cypress.io/api/commands/wrap">cy.wrap()</a> and access all Cypress commands as we’re used to.</p><p>So let’s test the first project card. For now, we simply hard-code the expected values.</p><pre><p><span>describe</span><span>(</span><span>&#34;Project List&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>beforeEach</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    cy</span><span>.</span><span>viewport</span><span>(</span><span>1025</span><span>,</span><span> </span><span>900</span><span>)</span><span>;</span><span></span></p><p><span>    cy</span><span>.</span><span>visit</span><span>(</span><span>&#34;http://localhost:3000/dashboard&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>it</span><span>(</span><span>&#34;renders the projects&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>// get all project cards</span><span></span></p><p><span>    cy</span><span>.</span><span>get</span><span>(</span><span>&#34;main&#34;</span><span>)</span><span></span></p><p><span>      </span><span>.</span><span>find</span><span>(</span><span>&#34;li&#34;</span><span>)</span><span></span></p><p><span>      </span><span>.</span><span>each</span><span>(</span><span>(</span><span>$el</span><span>,</span><span> index</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>          </span><span>// only test the first project card</span><span></span></p><p><span>          </span><span>if</span><span> </span><span>(</span><span>index </span><span>===</span><span> </span><span>0</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>            cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Frontend - Web&#34;</span><span>)</span><span>;</span><span></span></p><p><span>            cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;React&#34;</span><span>)</span><span>;</span><span></span></p><p><span>            cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;73&#34;</span><span>)</span><span>;</span><span></span></p><p><span>            cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;12&#34;</span><span>)</span><span>;</span><span></span></p><p><span>            cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>&#34;Error&#34;</span><span>)</span><span>;</span><span></span></p><p><span>            cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>find</span><span>(</span><span>&#34;a&#34;</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;have.attr&#34;</span><span>,</span><span> </span><span>&#34;href&#34;</span><span>,</span><span> </span><span>&#34;/issues&#34;</span><span>)</span><span>;</span><span></span></p><p><span>          </span><span>}</span><span></span></p><p><span>      </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>Ok, all tests pass. That tells us that the overall approach works. But obviously hard-coding the expected data and wrapping it in an <code>if</code> clause isn’t really an option. There are two problems:</p><ol><li>The tests would get unnecessarily long.</li><li>What happens when the data returned by the server changes? The tests would fail.</li></ol><h3 id="detour-different-types-of-testing">Detour: Different Types Of Testing</h3><p>In order to make these tests pass reliably, <strong>we need to always have the same data</strong>. There are two ways of achieving that</p><ul><li>we have a server that always delivers the expected data</li><li>we mock the responses</li></ul><p>In larger projects, you often find test environments that include databases, servers, and so on. This is a great way to test the application from the database to the frontend. <strong>These tests are also called “end-to-end test”.</strong></p><p>Here we don’t have such a test server so we’ll mock the responses. This way we only test the frontend isolated from the rest of the system. <strong>This is called an integration test.</strong></p><p>If you want to read more about the different types of testing and their advantages <a href="https://kentcdodds.com/blog/write-tests">read this awesome blog post by Kent C. Dodds</a>. As a summary, he argues that <strong>integration tests usually get you the most bang for the buck</strong>. They are relatively performant (better than end-to-end tests but worse than unit tests) and give you good confidence that your application is functioning (less than e2e but more than unit tests).</p><p>Note that Cypress is probably not the best tool to use for perfomant tests. That would rather be Jest + React Testing Library. But as I said earlier, it’s a better option for beginners due to the easy setup and visual feedback.</p><h3 id="mocking-requestsresponses-with-cypress">Mocking Requests/Responses With Cypress</h3><p>So we decided to write integration tests by mocking out our API requests. The first step is preparing our mock data. There are a few options:</p><ul><li>Write the data by hand.</li><li>Use a tool to create random data from a schema.</li><li>Use existing API data.</li></ul><p>In our case, we already have a working API. So we can simply copy our mock data from one of the requests. The easiest way to access this data is via the browser’s dev tools:</p><p>To get data from any request in Chrome simply follow these steps:</p><ol><li>Open the “Network” tab.</li><li>Filter the requests by “Fetch/XHR”.</li><li>Click on the “project” request.</li><li>Open the “Preview” tab.</li><li>Right-click below the data and click “Copy object”.</li></ol><p>Cypress has a separate folder for mock data at <code>cypress/fixtures</code>. <a href="https://stackoverflow.com/questions/12071344/what-are-fixtures-in-programming">A fixture in our case is simply the mock data that makes our tests repeatable.</a> Create a file in that folder called <code>projects.json</code> and paste the data you copied above there.</p><p>Mocking the response to this request is now simple with the <a href="https://docs.cypress.io/api/commands/intercept">cy.intercept()</a> command. You can get the URL of the API endpoint again from the network tab in the browser’s dev tools.</p><pre><p><span>beforeEach</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>// setup request mock</span><span></span></p><p><span>  cy</span><span>.</span><span>intercept</span><span>(</span><span>&#34;GET&#34;</span><span>,</span><span> </span><span>&#34;https://prolog-api.profy.dev/project&#34;</span><span>,</span><span> </span><span>{</span><span></span></p><p><span>    fixture</span><span>:</span><span> </span><span>&#34;projects.json&#34;</span><span>,</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>.</span><span>as</span><span>(</span><span>&#34;getProjects&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>// set desktop viewport</span><span></span></p><p><span>  cy</span><span>.</span><span>viewport</span><span>(</span><span>1025</span><span>,</span><span> </span><span>900</span><span>)</span><span>;</span><span></span></p><p><span>  cy</span><span>.</span><span>visit</span><span>(</span><span>&#34;http://localhost:3000/dashboard&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>// wait for the projects response</span><span></span></p><p><span>  cy</span><span>.</span><span>wait</span><span>(</span><span>&#34;@getProjects&#34;</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>In the above code we also use the <a href="https://docs.cypress.io/api/commands/as">as()</a> command to create an alias. We can use this alias to <a href="https://docs.cypress.io/api/commands/wait">wait</a> for the response before the tests start. This is useful to prevent the tests from randomly failing due to timing issues (aka making them less “flaky”).</p><p>When you re-run the test now you should receive the mock data. You can double-check that the test doesn’t send real requests either by </p><ul><li>changing something inside the mock data or</li><li>checking the request in the Cypress UI (as shown in the screenshot below).</li></ul><h3 id="asserting-against-the-mock-data">Asserting Against The Mock Data</h3><p>Remember that we hard-coded the expected data for the first project card in the test? Now we can replace it with the data from our fixture.</p><pre><p><span>import</span><span> capitalize </span><span>from</span><span> </span><span>&#34;lodash/capitalize&#34;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> mockProjects </span><span>from</span><span> </span><span>&#34;../fixtures/projects.json&#34;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> </span><span>ProjectLanguage</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;features/projects/types/project.types&#34;</span><span>;</span><span></span></p><p><span></span><span>describe</span><span>(</span><span>&#34;Project List&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>beforeEach</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>// setup request mock</span><span></span></p><p><span>    cy</span><span>.</span><span>intercept</span><span>(</span><span>&#34;GET&#34;</span><span>,</span><span> </span><span>&#34;https://prolog-api.profy.dev/project&#34;</span><span>,</span><span> </span><span>{</span><span></span></p><p><span>      fixture</span><span>:</span><span> </span><span>&#34;projects.json&#34;</span><span>,</span><span></span></p><p><span>    </span><span>}</span><span>)</span><span>.</span><span>as</span><span>(</span><span>&#34;getProjects&#34;</span><span>)</span><span>;</span><span></span></p><p><span>    cy</span><span>.</span><span>viewport</span><span>(</span><span>1025</span><span>,</span><span> </span><span>900</span><span>)</span><span>;</span><span></span></p><p><span>    cy</span><span>.</span><span>visit</span><span>(</span><span>&#34;http://localhost:3000/dashboard&#34;</span><span>)</span><span>;</span><span></span></p><p><span>    cy</span><span>.</span><span>wait</span><span>(</span><span>&#34;@getProjects&#34;</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>it</span><span>(</span><span>&#34;renders the projects&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>const</span><span> languageNames </span><span>=</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>[</span><span>ProjectLanguage</span><span>.</span><span>react</span><span>]</span><span>:</span><span> </span><span>&#34;React&#34;</span><span>,</span><span></span></p><p><span>      </span><span>[</span><span>ProjectLanguage</span><span>.</span><span>node</span><span>]</span><span>:</span><span> </span><span>&#34;Node.js&#34;</span><span>,</span><span></span></p><p><span>      </span><span>[</span><span>ProjectLanguage</span><span>.</span><span>python</span><span>]</span><span>:</span><span> </span><span>&#34;Python&#34;</span><span>,</span><span></span></p><p><span>    </span><span>}</span><span>;</span><span></span></p><p><span>    </span><span>// get all project cards</span><span></span></p><p><span>    cy</span><span>.</span><span>get</span><span>(</span><span>&#34;main&#34;</span><span>)</span><span></span></p><p><span>      </span><span>.</span><span>find</span><span>(</span><span>&#34;li&#34;</span><span>)</span><span></span></p><p><span>      </span><span>.</span><span>each</span><span>(</span><span>(</span><span>$el</span><span>,</span><span> index</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>        </span><span>const</span><span> projectLanguage </span><span>=</span><span> mockProjects</span><span>[</span><span>index</span><span>]</span><span>.</span><span>language </span><span>as</span><span> </span><span>ProjectLanguage</span><span>;</span><span></span></p><p><span>        </span><span>// check that project data is rendered</span><span></span></p><p><span>        cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>mockProjects</span><span>[</span><span>index</span><span>]</span><span>.</span><span>name</span><span>)</span><span>;</span><span></span></p><p><span>        cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>languageNames</span><span>[</span><span>projectLanguage</span><span>]</span><span>)</span><span>;</span><span></span></p><p><span>        cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>mockProjects</span><span>[</span><span>index</span><span>]</span><span>.</span><span>numIssues</span><span>)</span><span>;</span><span></span></p><p><span>        cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>mockProjects</span><span>[</span><span>index</span><span>]</span><span>.</span><span>numEvents24h</span><span>)</span><span>;</span><span></span></p><p><span>        cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>capitalize</span><span>(</span><span>mockProjects</span><span>[</span><span>index</span><span>]</span><span>.</span><span>status</span><span>)</span><span>)</span><span>;</span><span></span></p><p><span>        cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>find</span><span>(</span><span>&#34;a&#34;</span><span>)</span><span>.</span><span>should</span><span>(</span><span>&#34;have.attr&#34;</span><span>,</span><span> </span><span>&#34;href&#34;</span><span>,</span><span> </span><span>&#34;/issues&#34;</span><span>)</span><span>;</span><span></span></p><p><span>      </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>Note that we need to add some additional logic. The reason is that in some cases, the data is changed by the frontend before displaying it to the user. For example, the project language can be <code>node</code> in the response data but will be displayed as <code>Node.js</code>.</p><h2 id="debugging-broken-tests">Debugging Broken Tests</h2><p>When you write your own tests you will run into problems at some point. So it’s important that you know how to debug your tests.</p><p>I prepared an example for a failing test in the file <code>cypress/integration/issue-list.spec.ts</code> for us to debug together.</p><pre><p><span>it</span><span>(</span><span>&#34;renders the issues&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;main&#34;</span><span>)</span><span></span></p><p><span>    </span><span>.</span><span>find</span><span>(</span><span>&#34;tr&#34;</span><span>)</span><span></span></p><p><span>    </span><span>.</span><span>each</span><span>(</span><span>(</span><span>$el</span><span>,</span><span> index</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>const</span><span> issue </span><span>=</span><span> mockIssues1</span><span>.</span><span>items</span><span>[</span><span>index</span><span>]</span><span>;</span><span></span></p><p><span>      </span><span>const</span><span> firstLineOfStackTrace </span><span>=</span><span> issue</span><span>.</span><span>stack</span><span>.</span><span>split</span><span>(</span><span>&#34;\n&#34;</span><span>)</span><span>[</span><span>1</span><span>]</span><span>.</span><span>trim</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>issue</span><span>.</span><span>name</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>issue</span><span>.</span><span>message</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>issue</span><span>.</span><span>numEvents</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>firstLineOfStackTrace</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>This looks pretty similar to the test for the project pages. It’s supposed to check that the data inside the issues table is rendered correctly.</p><p>But when you run it you’ll see that there’s an error:</p><blockquote><p>Note: you can tell Cypress to only run a certain test or set of tests by appending <code>.only</code> to <code>describe</code> or <code>it</code>. This way you don’t have to wait for all tests to run while you’re working on a single test. In our case, we can write <code>it.only(&#34;renders the issues&#34;, () =&gt; {</code>.</p></blockquote><p>The error above looks strange: <code>Cannot read properties of undefined (reading &#39;stack&#39;)</code>. It’s not immediately clear what that means.</p><p>So let’s dig deeper. But how to debug your tests?</p><h3 id="using-chrome-dev-tools">Using Chrome Dev Tools</h3><p>The answer is simple: You can do the same things that you can do in your normal Chrome browser as well. For example:</p><ul><li>Inspect DOM elements</li><li>Print out variables with console.log() from either your code or your tests</li><li>Add breakpoints to stop code execution</li></ul><p>In our case, we can start by investigating the test file. We could add <code>console.log()</code> statements in the code. But let’s be a bit more professional and use the debugger.</p><h3 id="setting-breakpoints">Setting Breakpoints</h3><p>First, open the dev tools inside your Cypress UI. You can do that either with your usual key combination or by right-clicking somewhere in the browser window and clicking “Inspect”</p><p>Next click on the “Sources” tab. You should see a hint on how to open a file (in my case <strong>⌘</strong> + P).</p><p>Now you start typing the file name you want to investigate. In this case, “issue-list” should be sufficient to get the correct results.</p><blockquote><p>Note that you can also open the React component (”issue-list.tsx”) which means you can also debug your application code</p></blockquote><p>Once you opened the file you can add a breakpoint. The error message at the left of the Cypress UI tells us that something is wrong in the <code>.each</code> loop. So let’s start there:</p><p>Note that I only added one breakpoint. The second appeared by itself. I guess that’s because internally we debug a JS file that is mapped back to its original TS source.</p><p>Now we can re-run the test by pressing the refresh button inside the top bar. The code execution should stop within the <code>.each()</code> loop.</p><h3 id="inpsecting-variables">Inpsecting Variables</h3><p>Now isn’t this magic? </p><p>We can inspect the variables (specifically <code>$el</code> ) in the right-side menu. We can already see from the class name that this is the header row of the table. But when we hover over the class name it even highlights the element in the UI above. 🤯</p><p>The problem is clear now (at least to me since I wrote the test): We wanted to test that the data inside the table is rendered correctly. But the first item we get is the header row which doesn’t contain any data.</p><h3 id="inspecting-dom-elements">Inspecting DOM Elements</h3><p>As we’ve done before we need to narrow down the search for the correct elements. Let’s look at the DOM structure again to see our options. When you inspect the table with your dev tools you can see this:</p><p>The table rows that contain the data are wrapped in a <code>&lt;tbody&gt;</code> tag. So we can use this information to filter out the table header row from our test:</p><pre><p><span>it</span><span>(</span><span>&#34;renders the issues&#34;</span><span>,</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  cy</span><span>.</span><span>get</span><span>(</span><span>&#34;main&#34;</span><span>)</span><span></span></p><p><span>    </span><span>.</span><span>find</span><span>(</span><span>&#34;tbody&#34;</span><span>)</span><span></span></p><p><span>    </span><span>.</span><span>find</span><span>(</span><span>&#34;tr&#34;</span><span>)</span><span></span></p><p><span>    </span><span>.</span><span>each</span><span>(</span><span>(</span><span>$el</span><span>,</span><span> index</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>const</span><span> issue </span><span>=</span><span> mockIssues1</span><span>.</span><span>items</span><span>[</span><span>index</span><span>]</span><span>;</span><span></span></p><p><span>      </span><span>const</span><span> firstLineOfStackTrace </span><span>=</span><span> issue</span><span>.</span><span>stack</span><span>.</span><span>split</span><span>(</span><span>&#34;\n&#34;</span><span>)</span><span>[</span><span>1</span><span>]</span><span>.</span><span>trim</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>issue</span><span>.</span><span>name</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>issue</span><span>.</span><span>message</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>issue</span><span>.</span><span>numEvents</span><span>)</span><span>;</span><span></span></p><p><span>      cy</span><span>.</span><span>wrap</span><span>(</span><span>$el</span><span>)</span><span>.</span><span>contains</span><span>(</span><span>firstLineOfStackTrace</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>)</span><span>;</span></p></pre><p>The test should pass now.</p><h2 id="your-turn---more-exercises">Your Turn - More Exercises</h2><p>If your fingers are itchy and you want to try this stuff out yourself here is the good news: There are a few test cases left that you can implement yourself.</p><ol><li>The issue list has a pagination at the bottom. You can test that the buttons are working correctly and that the right data is rendered.</li><li>The page number of this pagination should persist after a refresh.</li><li>On mobile devices, the sidebar navigation should not be visible initially and be toggled by the menu button in the header.</li></ol><p>Note that the last test is a bit more complex. Cypress doesn’t have a native way to test if an element is outside the viewport. <a href="https://github.com/cypress-io/cypress/issues/877">I found this GitHub issue to be helpful</a>.</p><p>If you want to try these exercises you can either implement the tests against the deployed version of the app that I shared at the beginning of the page. Or you drop you email below to get access to the source code. There you can also find my implementations of these tests.</p></div></div></div>
  </body>
</html>
