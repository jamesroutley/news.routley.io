<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://celso.io/retrocomputing/2022/12/27/c64-from-scratch">Original</a>
    <h1>Building a Frankenstein 64</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody">
<p>Last year, I decided that I was going to build a <a href="https://en.wikipedia.org/wiki/Commodore_64">Commodore 64</a> from scratch. This is the blog documenting the project.</p>
<p>It’s no secret that I love <a href="https://celso.io/retrocomputing/2019/12/23/c64-assembly.html">fiddling with retro computers</a>, especially those I owned when I was a kid. When I revisit ancient technologies and hardware that were part of my younger years, I’m overwhelmed with that warm nostalgia feeling. But it’s not only that. Understanding how old computers work is also educational and helps me look at the modern world with a wiser perspective.</p>
<p>The C64 was a big part of my youth. On one 80s summer, during the school holidays, I worked hard on a job and accumulated some money. My parents helped with the remaining, and I finally bought the classic <a href="https://en.wikipedia.org/wiki/Commodore_64">breadbin C64</a>, a <a href="https://en.wikipedia.org/wiki/Commodore_Datasette">Datasette</a>, and an <a href="https://collection.sciencemuseumgroup.org.uk/objects/co8088528/epson-lx80-printer-printer">LX-80</a> Epson printer. It was a significant upgrade over the <a href="https://en.wikipedia.org/wiki/Timex_Sinclair_1000">Timex Sinclar 1000</a> and <a href="https://en.wikipedia.org/wiki/ZX_Spectrum">ZX Spectrum</a> 48K I owned before. Day and night. It was fast, had gorgeous graphics and sprites, stunning sound, and two joystick ports. I remember thinking that the games were out of this world.</p>
<p>Because its design was so clever and powerful for an affordable 8-bit home computer, it quickly became the most-sold computer in the world (<a href="https://www.guinnessworldrecords.com/world-records/72695-most-computer-sales">Guinness record here</a>). Almost 40 years later, there is still a massive community of retro-computing hobbyists doing all sorts of things with C64s: <a href="https://csdb.dk/browse.php">writing software</a>, building <a href="https://retrorewind.ca/c64-wifi-modem">new peripherals</a> and accessories, <a href="https://accentual.com/vicii-kawari/">reverse engineering</a> MOS’s custom chips and creating modern alternatives, selling <a href="https://www.tindie.com/products/bobsbits/sixtyclone-commodore-64-replica-pcbs/">replacement PCBs</a> or <a href="https://icomp.de/shop-icomp/en/produkt-details/product/c64c-case.html">plastic cases</a> from the old injection molds, you name it.</p>
<p><strong>As for me, I wanted to build a Commodore 64 replica from scratch.</strong></p>
<p>The requirements for this project were:</p>
<ul>
<li>Build a C64 to last. I wanted to use as many new components as possible, like transistors, resistors, inductors, capacitors, voltage regulators, connectors, and other parts.</li>
<li>Make it easier to repair or modify in the future, using ICs sockets everywhere, for example.</li>
<li>Replace some of the custom MOS chips with reverse-engineered modern alternatives for fun.</li>
<li>Pimp up the final product, and make it beautiful and collectible.</li>
</ul>
<h3 id="a-new-pcb">A new PCB</h3>
<p>I first bought a brand new beautiful <a href="https://www.tindie.com/products/bobsbits/sixtyclone-commodore-64-replica-pcbs/">SixtyClone</a> replica PCB in Bob’s Bits Tindie shop. The C64s went through a few PCB revisions making them more reliable and cheaper to produce over time. I ended up choosing the first, most famous one: the <a href="https://www.breadbox64.com/c64-hardware/commodore-64/assy-250407-rev-c/">Assy 250407 Rev. C</a>. Black soldermask because it’s just gorgeous.</p>
<p><img src="https://celso.io/assets/sixtyclonepcb.jpg?raw=true" alt=""/></p>
<p>Look how it compares with the same PCB on my other original, still working, C64.</p>
<p><img src="https://celso.io/assets/c64-250407-original.jpg?raw=true" alt=""/></p>
<h3 id="the-c64-chips">The C64 chips</h3>
<p>I’m calling this project the <strong>Frankenstein 64</strong> because I will use a mix of old MOS chips and brand-new replacements where I feel they’re appropriate. The goal is to find a good balance between keeping it faithful to the original and improving it and building it to last.</p>
<p>Of course, not all chips have modern replacements (subject to change, depending on when you read this). I will use some original chips salvaged from my own non-working original C64 PCBs and others bought online.</p>
<p>After some research, I ended up buying the <a href="https://retro8bitshop.com/product/commodore-64-full-parts-kit/">“Commodore 64 parts kit”</a> from the Reotro8BITshop store online. The kit includes new resistors, capacitors, passive semiconductors, board connectors, common logic chips, and good-quality IC sockets. It answers most of my requirements, has good reviews, and mentions the SixtyClone boards in the description. The full BOM list can be <a href="https://docs.google.com/spreadsheets/d/1F1f845GtDTo7qghqq3VSkQ0MavED8hhZf9GccOchMIM/edit#gid=0">found here</a>.</p>
<p><img src="https://celso.io/assets/c64componentsrestore.jpg?raw=true" alt=""/></p>
<p><a href="https://retro8bitshop.com/product-category/hardware/chips/">Retro8BITshop</a> also has all the MOS chips and others you need if you don’t have them in your stash. Another good place to find good deals on old C64 chips is <a href="https://www.ebay.com/sch/i.html?_nkw=c64+chip">eBay</a>, but make sure to choose sellers with good reputation scores though; it’s not uncommon to get chips that weren’t tested and are faulty.</p>
<h3 id="old-chips">Old chips</h3>
<p>Some chips are regular 74(LS) TTL logic that you can buy brand new, but the others aren’t manufactured anymore. Here’s the list of the original old chips I will be using:</p>
<ul>
<li>Two <a href="http://archive.6502.org/datasheets/mos_6526_cia_recreated.pdf">MOS 6526</a>, aka the Complex Interface Adapter chips. The CIAs serve as the I/O port controllers. They do parallel, serial, and interval timers and have an integrated “Time Of Day” clock with alarms that almost no software uses. Things like the user ports, disk drives, joysticks, keyboard scanning, and even the blinking cursor depend on the CIAs. The 6526 is a unique chip, but as I write, there is a modern <a href="https://1nt3r.net/j-cia/">FPGA-based replacement</a> in the beta testing phase, but I didn’t consider it.</li>
</ul>
<p><strong><em>Fun fact: the <a href="https://en.wikipedia.org/wiki/Amiga">Commodore Amigas</a> would later use the improved MOS 8520/8521 chips, which are drop-in compatible with the 6526 (with a few <a href="https://www.lemon64.com/forum/viewtopic.php?t=73742&amp;sid=06f0e0107f7e70eb29eecf33e0ed9fc9">subtle differences</a>).</em></strong></p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/7/76/CIA_MOS_6526A.jpg" alt=""/></p>
<ul>
<li>Three ROMs. Two <a href="http://archive.6502.org/datasheets/mos_2364_rom_feb_1980.pdf">MOS 2364</a> ROMs for the <a href="https://www.c64-wiki.com/wiki/BASIC-ROM">Basic interpreter</a> and the <a href="https://www.c64-wiki.com/wiki/Kernal">Kernal</a>, and one <a href="http://archive.6502.org/datasheets/mos_2332_rom_feb_1980.pdf">MOS 2332</a> ROM for the <a href="https://www.c64-wiki.com/wiki/Character_set">Character Set</a>. These chips can easily be replaced with EPROMS burned with the same ROM dumps. More on this later in this blog.</li>
</ul>
<p><img src="https://celso.io/assets/c64charrom.jpg?raw=true" alt=""/></p>
<ul>
<li>The <a href="http://archive.6502.org/datasheets/mos_6510_mpu.pdf">MOS 6510</a> microprocessor, aka the C64 CPU. A successor to the wildly successful 6502 chip used in the <a href="https://en.wikipedia.org/wiki/Commodore_PET">PET</a>, <a href="https://en.wikipedia.org/wiki/VIC-20">VIC20</a>, <a href="https://en.wikipedia.org/wiki/Atari_8-bit_family">8-bit Ataris</a>, <a href="https://en.wikipedia.org/wiki/Apple_II">Apple II</a>, and even the <a href="https://en.wikipedia.org/wiki/BBC_Micro">BBC Micro</a> (you have to check out <a href="https://www.team6502.org/">this website</a> if you want to learn more about the fascinating story of the 6502).</li>
</ul>
<p><strong><em>Fun fact: believe it or not, there are <a href="https://eu.mouser.com/datasheet/2/436/w65c02s-2572.pdf">6502 variants</a> still being <a href="https://www.westerndesigncenter.com/">manufactured</a> today, but the 6510 is not. However, some adaptors can take a 6502 compatible chip and add the 6510 extra functions using discrete logic. See the <a href="https://github.com/monotech/MOS_CPU_Replacer">MOS CPU replacer</a>. And, of course, someone is working on an <a href="https://1nt3r.net/j-cpu/">FPGA-based replacement</a>, but it’s not quite there yet.</em></strong></p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/8/85/KL_MOS_6510.jpg" alt=""/></p>
<ul>
<li>The <a href="http://archive.6502.org/datasheets/mos_6567_vic_ii_preliminary.pdf">MOS 6569</a>, aka the Video Interface Chip II. The <a href="https://en.wikipedia.org/wiki/MOS_Technology_VIC-II">VIC-II</a> is the graphics chip of the C64, which was revolutionary at the time (some will say that it played a big part in the C64 huge success.) This chip generates the video signals and can do character graphics, bitmaps, sprites, smooth scrolling, raster interrupts, and other tricks that make the C64 games look and feel vastly superior to the ones from other 8-bit systems. There are PAL and NTSC variants. Again, after many years of development, there is now an <a href="http://accentual.com/vicii-kawari/">FPGA-based replacement</a> (<a href="https://github.com/randyrossi/vicii-kawari">github</a>), but it’s still new, buggy, and expensive, and I didn’t consider it.</li>
</ul>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/e/e9/MOS6569R3_chtaube061229.jpg" alt=""/></p>
<ul>
<li>
<p>Eight <a href="https://www.c64-wiki.com/wiki/RAM">4164 DRAM chips</a>. Each chip has 65,536 words of one bit. RAM chips are often the source of C64 malfunctions, so you must ensure they’ve been tested and have a few spares around, just in case. <a href="https://www.protovision.games/shop/product_info.php?products_id=255">SaRuMan-64</a> is relatively a cheap, modern static RAM replacement for these chips, but it only works with the 250466 and 250469 PCBs that have 64k x 4 bits DRAMs, so I didn’t consider it.</p>
</li>
<li>
<p>One <a href="https://www.farnell.com/datasheets/63420.pdf">Motorola MC4044</a> chip, a phase-frequency detector used on the Assy 250407 PCB clock circuit. We will talk a lot more about the clock circuit later.</p>
</li>
</ul>
<p><img src="https://celso.io/assets/c64chips.jpg?raw=true" alt=""/></p>
<h3 id="modern-alternatives">Modern alternatives</h3>
<p>Now let’s look at the chips that I replaced with modern alternatives.</p>
<h4 id="pla">PLA</h4>
<p>The first one is the 906114-01 <a href="https://www.c64-wiki.com/wiki/PLA_(C64_chip)">Programmable Logic Array</a> (PLA), a hardware programmable chip that does combinatorial logic. The PLA is responsible for doing “<a href="https://www.c64-wiki.com/wiki/Bank_Switching">bank switching</a>” on the C64, a critical part of its architecture. Between the standard 64KB RAM, ROMs (Basic, Kernal, Characters = ~20KB), color RAM, and other RAM or ROM coming from expansion ports, the C64 has much more addressable memory than the 6510 CPU can handle (the 6510 has 16 address lines = 2^16 = 65536 bytes.) To allow the CPU to access all this memory, the PLA has “latches” that the CPU can use to connect or disconnect the different memory systems to the 16-bit address bus.</p>
<p>PLAs are very sensitive and one of the first chips to go when things age and fail. Fortunately, Thomas ’skoe’ Giesel <a href="http://skoe.de/docs/c64-dissected/pla/c64_pla_dissected_a4ds.pdf">literally dissected</a> the C64 PLA and reverse-engineered it in 2012 and opened doors to a few modern drop-in alternatives that you can use. I chose the <a href="https://www.freepascal.org/~daniel/c64pla/">PLA20V8</a>, which uses two programmable logic chips from Lattice Semiconductor, also known as <a href="https://www.latticesemi.com/-/media/LatticeSemi/Documents/DataSheets/GAL/GAL20V8DataSheet.ashx&#39;">GAL chips</a>. You can either build your own or buy one pre-assembled on <a href="https://www.ebay.com/sch/i.html?_nkw=PLA20V8">eBay</a>.</p>
<p><img src="https://celso.io/assets/pla20v8.jpg?raw=true" alt=""/></p>
<p>Other fancier alternatives are the <a href="https://retro8bitshop.com/product/plankton-ev/">PLAnkton</a>, the <a href="https://github.com/1c3d1v3r/neatPLA">neatPLA</a>, or the <a href="https://www.polyplay.xyz/J-PLA-C64-PLA-Replacement">J-PLA</a>.</p>
<h4 id="sid">SID</h4>
<p>The <a href="https://en.wikipedia.org/wiki/MOS_Technology_6581">MOS 6581</a> Sound Interface Device. The SID is a hybrid chip containing both analog and digital circuitry. It features three independent voices which can be programmed using different waveforms and had multiple revisions over time; they say that no two SID chips sound the same.</p>
<p>Like the VIC II, this chip was also ahead of its time and played a significant role in the C64 success. It helped popularize the <a href="https://en.wikipedia.org/wiki/Chiptune">chiptune</a> culture and kickstarted a global community of <a href="https://www.youtube.com/watch?v=m1pchpDD5EU">musicians</a> and <a href="https://www.hvsc.c64.org/">listeners</a> that still exists today.</p>
<p>Due to its analog nature the SID is very failure-prone, hence rare, hence expensive. So rare that a lot of eBay sellers have the SID chips removed the C64s and sell them separately for maximum profit.</p>
<p>It isn’t easy to emulate the perfect SID sound in software, but the chip is so popular even today, and there’s been so much research around it that there are a few good modern alternatives worth exploring today.</p>
<p>One of the best, most faithful options is the <a href="https://retrocomp.cz/produkt?id=2">ARMSID</a>. It has an ARM Cortex M4 processor and flash memory and can be configured or upgraded with newer firmware versions using software tools <a href="https://www.nobomi.cz/8bit/armsid/index_en.php">provided by the author</a>.</p>
<p><img src="https://celso.io/assets/armsid.jpg?raw=true" alt=""/></p>
<h3 id="assembling-the-sixtyclone">Assembling the SixtyClone</h3>
<p>Alright, I have everything I need to make this happen. It’s time to turn my <a href="https://www.hakko.com/english/products/hakko_fx888d.html">Hakko soldering station</a> on and start populating the PCB. Soldering is one of the most relaxing and satisfying parts of any electronics project for me; I love doing it.</p>
<p>A great resource to keep open on a browser tab while assembling your board is the <a href="https://arananet.net/c64pl/">C64 PCB locator</a>; you can use it to choose your board revision, select any component and make it blink, and find where and how it fits in the PCB.</p>
<p><img src="https://celso.io/assets/c64pcblocator.gif?raw=true" alt=""/></p>
<p>There is some science as to <a href="https://www.digikey.com/en/maker/blogs/2021/how-to-populate-a-pcb">how to populate a PCB</a>. The rule of thumb says you should start with the short components first and leave the tallest to last so that the PCB stays flat and unobstructed for as long as possible.</p>
<p>I will use high-quality gold-plated round pin sockets for all the integrated circuits. Let’s start with them.</p>
<p><img src="https://celso.io/assets/c64sockets1.jpg?raw=true" alt=""/></p>
<p><img src="https://celso.io/assets/c64sockets2.jpg?raw=true" alt=""/></p>
<p>Not so bad eh?</p>
<p>Let’s move to the resistors, capacitors, crystal, regulators, diodes, transistors and some connectors next.</p>
<p><img src="https://celso.io/assets/c64rescapst.jpg?raw=true" alt=""/></p>
<p>I have a few VIC II chips with different revisions lying around on various boards that I can use, but I think I will choose the oldest, most genuine, and most beautiful one: the 6569R1 in the ceramic package. Clearly a form-over-function kind of decision that I will probably regret of. The R1 has the looks, but later revisions of the VIC II are improved. For instance, the R1 only has <a href="https://ilesj.wordpress.com/2016/03/30/old-vic-ii-colors-and-color-blending/">five luminance</a> levels.</p>
<p><img src="https://celso.io/assets/c64vic2ceramic.jpg?raw=true" alt=""/></p>
<p>Finally, let’s populate the big electrolytic capacitors, the rest of the connectors, and an <a href="https://en.wikipedia.org/wiki/RF_modulator">RF modulator</a> from an old board (I will replace this later) and squeeze all the ICs into their sockets.</p>
<p><img src="https://celso.io/assets/c64fullypop.jpg?raw=true" alt=""/></p>
<h3 id="powering-it-on">Powering it on?</h3>
<p>Before turning the board on, I need two things.</p>
<h4 id="the-power-supply">The power supply</h4>
<p>Oddly, the C64 needs two inputs:</p>
<ul>
<li>The 5V DC rectified and regulated to power the most chips directly.</li>
<li>The 9V AC.</li>
</ul>
<p>Why AC, you ask? The 9V AC line generates the baseline 50Hz (PAL) or 60Hz (NTSC) signal for the CIA TOD clock (which almost no software uses) and is then rectified and regulated on the PCB internally to generate 12V DC to power the SID chip.</p>
<p>Funny enough, if you don’t need the TOD function or sound (the C64 boots and works fine without the SID chip), the C64 can actually be <a href="https://ilkerf.tripod.com/c64tower/powc64c.html">powered up with 5V DC</a> alone.</p>
<p>The original <a href="https://www.c64-wiki.com/wiki/Power_Supply">power brick</a> is bulky, inefficient by today’s standards, and occasionally catches fire. In fact, they were affectionately known as the “<a href="https://www.lemon64.com/forum/viewtopic.php?t=70345">The Commodore Brick of Death</a>.” Luckily, there are open-hardware <a href="https://github.com/jamarju/c64-psu">alternatives</a>.</p>
<p>I ended up buying a modern alternative from <a href="https://www.ebay.es/itm/353653088992">eBay</a> that works just fine.</p>
<p><img src="https://celso.io/assets/c64psuoled.jpg?raw=true" alt=""/></p>
<h4 id="the-modulator">The modulator</h4>
<p>The modulator in the C64 amplifies the luminance and chrominance signals from the VIC II and outputs RF composite S-Video signals.</p>
<p>I started this project by retrofitting an original modulator from another board. Still, its quality was terrible, so fast forward to a few weeks later, after a few bumps on the road I will describe next, I did another upgrade and replaced it with a “<a href="https://videogameperfection.com/products/c64-svideo-bypass/">C64/C128 S-Video Bypass/RF kit</a>.” There are <a href="https://www.breadbox64.com/blog/c64-rf-modulator-battle/">other options</a>.</p>
<p><img src="https://celso.io/assets/c64modulator.jpg?raw=true" alt=""/></p>
<h4 id="the-monitor">The monitor</h4>
<p>The perfect monitor for the C64, Amigas, and other retro-computers with S-Video/RGB outputs, is, undisputably, the <a href="https://www.c64-wiki.com/wiki/Commodore_1084">Commodore 1084</a>S (S is for the stereo version). It supports composite, S-Video, RGB, and stereo sound; you can adjust the screen position and height/width, and it’s just perfect. I have an old 1084S myself.</p>
<h4 id="first-attempt">First attempt</h4>
<p><strong>I think we’re ready now. I connected the power supply and the cables to use S-Video with the 1084S and powered on the Frankenstein 64 for the first time.</strong></p>
<p>The good news: it didn’t blow up, nothing smells funny, and the little red power LED is on. I put my hands on the chips; they’re all getting warm but not alarmingly hot. This thing might actually be working.</p>
<p>The bad news: the 1084 isn’t showing the signature C64 BASIC boot screen as it should. Or at least it can’t pick up and synchronize the video signal.</p>
<p><img src="https://celso.io/assets/c64outofsync.gif?raw=true" alt=""/></p>
<p>Ok, this isn’t so bad. The video is out-of-sync for some reason, but I think I can see the boot sequence and the blinking cursor in there if I try hard. This tells me that the important stuff, power, CPU, RAM, ROMs, PLA, and CIAs, are all working, and that’s a big win for me already.</p>
<p>What I immediately think might be faulty is either the VIC II chip or something in the clock circuit. I replaced the VIC II chip with another one I tested on a working C64 breadbin. It wasn’t it.</p>
<p>It’s definetely something in the clock circuit.</p>
<h4 id="the-clock-circuit">The clock circuit</h4>
<p><img src="https://celso.io/assets/c64clock.png?raw=true" alt=""/></p>
<p>The C64 clock circuit creates the color clock from the Y1 crystal oscillator needed for the video color bursts (PAL: 17.734475MHz, NTSC: 14.31818MHz) and then multiplies it by four and divides it by either 9 (PAL) or 7 (NTSC) to create the dot clock (PAL: 7.882MHz, NTSC: 8.1818MHz). The VIC II operates at the dot clock speed and then divides it by eight to feed the 6510 CPU (PAL: 7881984 Hz, 8181816 Hz).</p>
<p><a href="https://codebase64.org/doku.php?id=base:cpu_clocking">This page</a> provides more details if you’re interested.</p>
<p>This circuit has a variable resistor R27 that allows fine-tuning the color clock. I played with it, but no luck—still an out-of-sync video.</p>
<p>Then I started getting suspicious about the C86 capacitor since its value didn’t match the schematics I was reading or the same capacitor I had on other boards. I changed it to different values.</p>
<p>At some point, I managed to get the video synchronized and get a picture on the 1084 monitor, which made me jump off the chair in excitement, only to realize that:</p>
<ul>
<li>The video signal was noisy and unstable.</li>
<li>The C64 was not running at normal speed, and the SID wasn’t working.</li>
<li>It needed constant adjustments on the R27 pot, or the video would easily lose sync again.</li>
</ul>
<p>That wasn’t it. I needed to get my hands dirty and go old school deeper.</p>
<p>The next step was getting my <a href="https://www.seeedstudio.com/DSO-Quad-Aluminium-Alloy-Silver-p-1033.html">DSO quad</a> oscilloscope on and starting probing the lines in the board, trying to find anomalies and their probable source. To help with that, I used two resources:</p>
<ul>
<li>A good C64 running in parallel. Unfortunately, that board is a newer revision with a slightly different clock circuit, but the same principles apply.</li>
<li>This page from <a href="http://tech.guitarsite.de/c64_scope.html">Sven’s Techsite</a> documented good scope readings from the C64 boards, which I could use as a reference.</li>
</ul>
<p>Plus, my friend <a href="https://luiscorreia.pt/">Luis Correia</a> was helping me with suggestions online, which was fun.</p>
<p><img src="https://celso.io/assets/c64scopedebug.jpg?raw=true" alt=""/></p>
<p><img src="https://celso.io/assets/c64debugscope2.jpg?raw=true" alt=""/></p>
<p>I quickly realized that my clock circuit wasn’t generating the correct frequencies or signal amplitudes. It was all messed up, but I couldn’t find why.</p>
<p>Next up, I started replacing everything I could: the crystal oscillator, the MC4044, the 74LS193, the 74LS629, the 74LS74, and the 2222A transistor. Still, no luck.</p>
<h4 id="frustration-big-pause-and-eureka">Frustration, big pause and eureka</h4>
<p>I could have easily solved the issue by bypassing the clock circuit using something <a href="http://www.lemmini.de/C64-PLL-Replacement/C64-PLL-Replacement.html">like this</a>, but the stubborn in me had to find the root cause or die trying. This went on for a few days until I lost patience.</p>
<p>So I used another strategy that usually works for me: I shelved the project for a while and made sure I forgot about it. Putting apparently unsolvable problems to rest for some time is a great way to find solutions when you return to them with a fresh mind, without the frustration.</p>
<p>This pause ended up taking longer than I anticipated. <strong>I didn’t touch the PCB for months.</strong></p>
<p>However, recently, I bought something that I was enamored with for a while, a <a href="https://www.hakko.com/english/products/hakko_fr301.html">Hakko FR-301</a> desoldering tool, which instantly made me a professional at desoldering otherwise impossible chips from old PCBs.</p>
<p>I took the opportunity and desoldered a few more chips from a damaged C64 board I had lying around. Some of those chips were from the clock circuit, so I thought, what if I replace the SixtyClone chips again with these?</p>
<ul>
<li>
<p>I replaced the MC4044 phase-frequency detector, but nothing.</p>
</li>
<li>
<p>I replaced the 74LS629 voltage-controlled oscillator, but nothing.</p>
</li>
<li>
<p>I replaced the 74LS193 divider and BAM! I get a nice, clear, crisp picture on the monitor.</p>
</li>
</ul>
<p>I couldn’t believe it. I plugged my <a href="https://github.com/bwack/Versa64Cart">Versa64Cart-based</a> diagnostic test cartridge into the <a href="https://www.c64-wiki.com/wiki/Expansion_Port">expansion port</a> and ran the test; it gave me a 100% working C64 without issues.</p>
<p><img src="https://celso.io/assets/c64versa.jpg?raw=true" alt=""/></p>
<p><img src="https://celso.io/assets/c64ok.jpg?raw=true" alt=""/></p>
<p>Eureka!</p>
<p>So, yes, it was the 74LS193 the whole time, a perfectly common TTL IC that I initially bought as new, which I can swear I had already replaced in the first round of troubleshooting.</p>
<p>Sigh.</p>
<p>Time to wrap up this project and enjoy it.</p>
<h3 id="the-case">The case</h3>
<p>Remember the “Pimp up the final product, and make it beautiful and collectible.” requirement? The case is important. Of course, the purists will say the “bread box” (aka breadbin) is the way to go because it’s the classic. I wouldn’t usually disagree, but I have other ideas.</p>
<p>Here’s another funny story.</p>
<p>In 2014, Dallas Moore <a href="https://hackaday.com/2015/03/11/hackaday-retro-edition-a-new-commodore-64-case/">was attending</a> an auction for an injection molding company and accidentally found the lost original molds for some of the C64 models. He did a successful <a href="https://www.kickstarter.com/projects/1670214687/original-commodore-64c-computer-housing-in-new-coo">Kickstarter campaign</a> and used the funds to buy the molds and produce an initial batch of new cases. Later, in 2016, Jens Schönfeld and Tommes from <a href="https://en.wikipedia.org/wiki/Individual_Computers">Individual Computers</a> <a href="https://www.lemon64.com/forum/viewtopic.php?t=60038&amp;highlight=">bought the molds from Dallas</a>, brought them to Europe, and are now regularly producing new batches of cases in different colors and <a href="https://icomp.de/shop-icomp/en/produkt-details/product/c64c-case.html">selling them online</a>.</p>
<p>In my opinion, the coolest C64 case is the transparent version. It’s as beautiful as the original (it comes from the same molds), and it allows you the peek inside the electronics, which in themselves, are a work of art. So I bought one.</p>
<p><img src="https://celso.io/assets/c64case1.jpg?raw=true" alt=""/></p>
<p><img src="https://celso.io/assets/c64case2.jpg?raw=true" alt=""/></p>
<h3 id="the-keyboard">The keyboard</h3>
<p>I like the original <a href="https://www.c64-wiki.com/wiki/Keyboard">C64 keyboard</a>; it’s iconic and robust. I have no plans to use any alternative here. I have a few that I can use, but I need to clean one first.</p>
<p>I started taking the keycaps out. It’s an easy process if you use a <a href="https://www.amazon.com/s?k=keycap+puller">keycap puller tool</a> (or <a href="https://imgur.com/a/URSsg">two zip ties</a> if you don’t have the tool.)</p>
<p>It’s a known fact that computer keyboards, in general, can accumulate piles of dirt between the keys, but there is a special place in hell for this one.</p>
<p><img src="https://celso.io/assets/c64keys3.jpg?raw=true" alt=""/></p>
<p>I washed the keys with soap and warm water and rinsed them a few times until all the dirt came off, and then I had them dried with a hair drier.</p>
<p><img src="https://celso.io/assets/c64keys1.jpg?raw=true" alt=""/></p>
<p><img src="https://celso.io/assets/c64keys5.jpg?raw=true" alt=""/></p>
<p>Then I cleaned the board.</p>
<p><img src="https://celso.io/assets/c64keys4.jpg?raw=true" alt=""/></p>
<p>And then, I finally reassembled the keycaps into the keyboard. Here’s a <a href="https://upload.wikimedia.org/wikipedia/commons/e/e9/Commodore-64-Computer-FL.jpg">layout picture</a> to help you find all the key positions.</p>
<p><img src="https://celso.io/assets/c64keys2.jpg?raw=true" alt=""/></p>
<p>Nice and clean!</p>
<h3 id="1084s-power-switch">1084S power switch</h3>
<p>One last thing. The Commodore 1084(S) and some Philips monitors used a special power switch that was famous for failing after some use. At some point in time, they would stop holding their position when clicked in for powering on. A bit of duct tape around the button would quickly solve the problem, but it’d still be annoying to use the mains cable to turn the monitor on and off.</p>
<p>Fortunately for me, this is a widespread issue; a few people are <a href="https://www.ebay.com/itm/334572640907">selling identical replacement switches</a> online. I also have a <a href="https://www.hakko.com/english/products/hakko_fr301.html">good desoldering gun</a> now, so it’s time to fix this problem once and for all.</p>
<p><img src="https://celso.io/assets/1084s1.jpg?raw=true" alt=""/></p>
<p><img src="https://celso.io/assets/1084s2.jpg?raw=true" alt=""/></p>
<p><strong>Disclaimer:</strong> CRTs can hold thousands of volts in their flyback circuits. If you don’t know how to <a href="https://www.youtube.com/watch?v=0X28FX_XxtU">discharge the tube</a> or what you’re doing in general, you should not even take the plastic cover off. A CRT that has been powered off for an extended period won’t be safe either, as it builds static over time. Also, there are high-voltage capacitors in the electronics that, depending on whether there are bleeding circuits, can hold energy for a long time.</p>
<p><img src="https://celso.io/assets/1084s6.jpg?raw=true" alt=""/></p>
<p>I removed the back steel panel that holds the external video and power connectors and then desoldered the power switch.</p>
<p><img src="https://celso.io/assets/1084s3.jpg?raw=true" alt=""/></p>
<p>Tested the new switch with the multimeter to ensure it was working and soldered it back on the PCB.</p>
<p><img src="https://celso.io/assets/1084s5.jpg?raw=true" alt=""/></p>
<p>Looks good to me. I reassembled everything together and closed the case. The 1084S was working perfectly now; the problem was solved.</p>
<p><img src="https://celso.io/assets/1084s4.jpg?raw=true" alt=""/></p>
<h3 id="its-done">It’s done</h3>
<p>This project is now complete. I plugged in my <a href="https://ide64.org/">IDE64 adaptor</a> and loaded a few games, and they all ran flawlessly. The SIDARM sounds excellent too, I can’t tell the difference from an original SID chip. The C64 looks beautiful and works perfectly.</p>
<p><img src="https://celso.io/assets/c64final2.jpg?raw=true" alt=""/></p>
<p><a href="https://www.youtube.com/watch?v=jAyDCti2XAc">Monty On The Run</a>, of course. It has one of the best C64 soundtracks, the one that made <a href="https://en.wikipedia.org/wiki/Rob_Hubbard">Rob Hubbard</a> famous (though some will say that the <a href="https://www.youtube.com/watch?v=ITEOcqnTt38">Commando soundtrack</a> is his masterpiece).</p>
<p><img src="https://celso.io/assets/c64final1.jpg?raw=true" alt=""/></p>
<p>One minor final detail: I had to buy a rectangular LED for this new C64C case (the breadbin case uses a round LED).</p>
<p><img src="https://celso.io/assets/c64final3.jpg?raw=true" alt=""/></p>
<p>And here it is, fully assembled, final work.</p>
<p><img src="https://celso.io/assets/c64final4.jpg?raw=true" alt=""/></p>
<p>❤️</p>
<h3 id="final-words-and-future-enhancements">Final words and future enhancements</h3>
<p>I hope you enjoyed this write-up; this was one of the most fun and educational projects I ever did. I tried to include as much information and as many links as possible in the hope this will inspire others to do it too, which I definitely recommend. You might also be interested in my “<a href="https://celso.io/retrocomputing/2019/12/23/c64-assembly.html">Writing a C64 Asssembly Demo</a>” blog.</p>
<p>This was not about owning a working Commodore C64; you can buy one off eBay if that’s what you want, and it will come off much cheaper than what this project cost me. Frankenstein 64 was about building one from scratch, going through all the hurdles, learning how everything works, solving the problems and having fun.</p>
<p>I still want to make a few enhancements to this machine at some point in the future. One of them is inspired by <a href="https://www.youtube.com/watch?v=GPq5xnJRw2w">this video</a> from Adrian Black: a kernal switcher using an EPROM and Arduino and making use of keyboard combinations.</p>
</div></div>
  </body>
</html>
