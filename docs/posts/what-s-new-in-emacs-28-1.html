<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.masteringemacs.org/article/whats-new-in-emacs-28-1">Original</a>
    <h1>What’s New in Emacs 28.1</h1>
    
    <div id="readability-page-1" class="page"><div>
        <article>
        
        
        
            
        
        
            
        
        
            
                
            
            <img src="https://www.masteringemacs.org/static/img/fleuron2.gif"/>
            
<p>It’s that time again: there’s a new major version of Emacs and, with it, a treasure trove of new features and changes.</p><p>Notable features include the formal inclusion of <em>native compilation</em>, a technique that will greatly speed up your Emacs experience.</p><p>A critical issue surrounding the <a href="https://www.masteringemacs.org/article/unicode-ligatures-color-emoji">use of ligatures</a> also fixed; without it, you couldn’t use ligatures in Emacs 27 without crashes. So that’s good news indeed also.</p><p>Right. Onwards with the NEWS commentary!</p><h2 id="startup-changes-in-emacs-28.1">Startup Changes in Emacs 28.1</h2><pre><code>In GTK builds, Emacs now supports startup notification.
This means that Emacs won&#39;t steal keyboard focus upon startup
(when started via the Desktop) if the user is typing into another
application.</code></pre><p>That’s a nice little addition. I’ve never noticed that problem with Emacs myself, but I can definitely think of lots of other applications that <em>do</em> do that, and it’s very annoying.</p><pre><code>Errors in &#39;kill-emacs-hook&#39; no longer prevent Emacs from shutting down.
If a function in that hook signals an error in an interactive Emacs,
the user will be prompted on whether to continue.  If the user doesn&#39;t
answer within five seconds, Emacs will continue shutting down anyway.</code></pre><p>I don’t know if I’ve ever been a victim of this issue, but my <code>kill-emacs-hook</code> variable has about a dozen different hooked functions, many of them complex (tramp, lsp, etc.) — so I can imagine this is likely to silently benefit people who’d otherwise wonder why their Emacs won’t exit properly.</p><pre><code>Emacs now supports loading a Secure Computing filter.
This is supported only on capable GNU/Linux systems.  To activate,
invoke Emacs with the &#39;--seccomp=FILE&#39; command-line option.  FILE must
name a binary file containing an array of &#39;struct sock_filter&#39;
structures.  Emacs will then install that list of Secure Computing
filters into its own process early during the startup process.  You
can use this functionality to put an Emacs process in a sandbox to
avoid security issues when executing untrusted code.  See the manual
page for &#39;seccomp&#39; system call, for details about Secure Computing
filters.</code></pre><p>Seccomp is a kernel-level security sandbox you can opt into. For the security paranoid, or people desperate to run an Emacs honeypot facing the internet directly, this might at the very least hold off a dedicated attacker for a little while. I’m curious, though, what prompted the inclusion of this in the first place.</p><pre><code>Emacs can support 24-bit color TTY without terminfo database.
If your text-mode terminal supports 24-bit true color, but your system
lacks the terminfo database, you can instruct Emacs to support 24-bit
true color by setting &#39;COLORTERM=truecolor&#39; in the environment.  This is
useful on systems such as FreeBSD which ships only with &#34;etc/termcap&#34;.</code></pre><p>It’s probably useful even for people with a rich termcap file. If you were struggling to get true-color support in Emacs, try setting that environment variable and type <code>M-x list-colors-display</code>. If you see a litany of colors, it’s probably working.</p><pre><code>File names given on the command line are now be pushed onto history.
The file names will be pushed onto &#39;file-name-history&#39;, like the names
of files visited via &#39;C-x C-f&#39; and other commands.</code></pre><p>Neat little feature. If you regularly open files with the emacs binary from the CLI, those file(s) will now appear in the find file history.</p><h2 id="changes-in-emacs-28.1">Changes in Emacs 28.1</h2><pre><code>Emacs now supports Unicode Standard version 14.0.</code></pre><pre><code>Improved support for Emoji.
On capable systems, Emacs now correctly displays Emoji and Emoji
sequences by default, provided that a suitable font is available to
Emacs.  With a few exceptions, all of the Emoji sequences specified by
Unicode 14.0 are automatically composed and displayed as a single
colorful glyph.  This is achieved by changes in the Emacs font
configuration, and by additional character-composition rules for the
Emoji codepoints that follow from the Unicode-defined sequences.

If your system lacks a suitable font, we recommend to install &#34;Noto
Color Emoji&#34;; Emacs will use it automatically if it&#39;s installed.  If
you prefer to use another font for Emoji, customize your fontset like
this:

    (set-fontset-font t &#39;emoji
                      &#39;(&#34;My New Emoji Font&#34; . &#34;iso10646-1&#34;) nil &#39;prepend)

The Emoji characters are now assigned to a special script, &#39;emoji&#39;, so
as to make it easier to customize fontsets for Emoji display, as in
the above example.  (Previously, the Emoji characters were assigned to
the &#39;symbol&#39; script, together with other symbol and punctuation
characters.)</code></pre><p>I used to recommend the <code>unicode-fonts</code> package as it did a lot of tidying up and included a number of sensible unicode fontset configurations. So if your system had any one of a number of emoji-supporting fonts, your Emacs would work. However it does not seem to work well in Emacs 28. You should instead use the snippet above as a starting point.</p><pre><code>&#39;glyphless-char-display-control&#39; now applies to Variation Selectors.
VS-1 through VS-16 are now displayed as &#39;thin-space&#39; by default when
not composed with previous characters (typically, as part of Emoji
sequences).</code></pre><p>Variation selectors are used to modify certain unicode code points, like changing their appearance.</p><pre><code>New command &#39;execute-extended-command-for-buffer&#39;.
This new command, bound to &#39;M-S-x&#39;, works like
&#39;execute-extended-command&#39;, but limits the set of commands to the
commands that have been determined to be particularly useful with the
current mode.</code></pre><p>This deceptively simple description belies a fairly radical shift in how Emacs groups and presents commands to users.</p><p>Typing <code>M-x</code> and activating the completion mechanism (<code>TAB</code> usually) would – depending on the completion tools you’re using, etc. etc. – show a list of extended commands with little regard for context. You’d see useless mode-related internals mixed in with useful ones.</p><p>With <code>M-S-x</code> you are instead shown a human-curated set of commands that is pertinent, hopefully, to you the user.</p><p>In a perfect world this should improve discoverability of mode-related commands. Because it’s contextual, its output depends on the modes active in your current buffer.</p><p>You should absolutely check it out.</p><pre><code>New user option &#39;read-extended-command-predicate&#39;.
This user option controls how &#39;M-x&#39; performs completion of commands when
you type &#39;TAB&#39;.  By default, any command that matches what you have
typed is considered a completion candidate, but you can customize this
option to exclude commands that are not applicable to the current
buffer&#39;s major and minor modes, and respect the command&#39;s completion
predicate (if any).</code></pre><p>As a corollary to the above, this customizable option lets you instead toggle unrelated inputs in your normal <code>M-x</code> command list.</p><pre><code>Completion on &#39;M-x&#39; shows key bindings for commands.
When &#39;suggest-key-bindings&#39; is non-nil (as it is by default), the
completion list popped up by &#39;M-x&#39; shows the key bindings for all the
commands shown in the list of candidate completions that have a key
binding.</code></pre><p>Useful. You’ll see key bindings next to the completion matches and their names. Good default.</p><pre><code>New user option &#39;completions-detailed&#39;.
When non-nil, some commands like &#39;describe-symbol&#39; show more detailed
completions with more information in completion prefix and suffix.
The default is nil.</code></pre><p>This adds additional detail like the summary description of the symbol along with whether it’s a function, variable, etc.</p><p>I recommend you customize it and enable it. It adds a lot of value, especially if you’re a casual user of <code>describe-xxxxx</code> and its many friends.</p><pre><code>&#39;c-s&#39; in &#39;M-x&#39; now once again searches over completions.
In Emacs 23, typing &#39;M-x&#39; (&#39;read-extended-command&#39;) and then &#39;C-s&#39; (to
do an interactive search) would search over possible completions.
This was lost in Emacs 24, but is now back again.</code></pre><p>I do not use the default completion mechanism so I never noticed this regression and, seemingly, nor did a lot of other people. Still, this is a welcome return to form. Isearch is a great searcher and the key binding is unlikely to offend anyone, as it’s the default Isearch binding.</p><pre><code>User option &#39;completions-format&#39; supports a new value &#39;one-column&#39;.</code></pre><p>If you use the default completer, you should customize this and try out the different modes to see which one you like the most.</p><pre><code>New system for displaying documentation for groups of functions.
This can either be used by saying &#39;M-x shortdoc-display-group&#39; and
choosing a group, or clicking a button in the &#34;*Help*&#34; buffers when
looking at the doc string of a function that belongs to one of these
groups.</code></pre><p>Wow, this is a great addition for casual and serious elisp hackers alike. It is, basically, a cheat sheet. Type the command and you’ll be asked to pick a category. After picking a category you’ll see a list of common functions and examples of how to use them. Picking an option jumps to the info manual for that function.</p><p>The next step is updating third-party libs, like <code>dash</code>, so they also support it.</p><pre><code>New minor mode &#39;context-menu-mode&#39; for context menus popped by &#39;mouse-3&#39;.
When this mode is enabled, clicking &#39;down-mouse-3&#39; (usually, the
right mouse button) anywhere in the buffer pops up a menu whose
contents depends on surrounding context near the mouse click.
You can change the order of the default sub-menus in the context menu
by customizing the user option &#39;context-menu-functions&#39;.  You can also
invoke the context menu by pressing &#39;S-&lt;F10&gt;&#39; or, on macOS, by
clicking &#39;C-down-mouse-1&#39;.</code></pre><p>I know it’s fun to hate on the mouse, but it has its place. Adding right-click context menus is a natural extension to Emacs’s already-extensive support for the mouse (even if a lot of people don’t use it.)</p><pre><code>A new keymap for buffer actions has been added.
The &#39;C-x x&#39; keymap now holds keystrokes for various buffer-oriented
commands.  The new keystrokes are &#39;C-x x g&#39; (&#39;revert-buffer-quick&#39;),
&#39;C-x x r&#39; (&#39;rename-buffer&#39;), &#39;C-x x u&#39; (&#39;rename-uniquely&#39;), &#39;C-x x n&#39;
(&#39;clone-buffer&#39;), &#39;C-x x i&#39; (&#39;insert-buffer&#39;), &#39;C-x x t&#39;
(&#39;toggle-truncate-lines&#39;) and &#39;C-x x f&#39; (&#39;font-lock-update&#39;).</code></pre><p>An excellent addition. Reverting and renaming buffers is a common enough task for most of us that we know about them already.</p><pre><code>Modifiers now go outside angle brackets in pretty-printed key bindings.
For example, &#39;RET&#39; with Control and Meta modifiers is now shown as
&#39;C-M-&lt;return&gt;&#39; instead of &#39;&lt;C-M-return&gt;&#39;.  Either variant can be used
as input; functions such as &#39;kbd&#39; and &#39;read-kbd-macro&#39; accept both
styles as equivalent (they have done so for a long time).</code></pre><p>The angle bracket notation around key names is one that most of us have internalized for a long time, so making the use of the former notation instead of the latter is a sensible decision, particularly for users new to Emacs. Though I don’t think I ever picked up on the inconsistency myself though.</p><pre><code>&#39;eval-expression&#39; no longer signals an error on incomplete expressions.
Previously, typing &#39;M-: ( RET&#39; would result in Emacs saying &#34;End of
file during parsing&#34; and dropping out of the minibuffer.  The user
would have to type &#39;M-: M-p&#39; to edit and redo the expression.  Now
Emacs will echo the message and allow the user to continue editing.</code></pre><p>Yep. Been there, done that. A nice UX change.</p><pre><code>&#39;eval-last-sexp&#39; now handles &#39;defvar&#39;/&#39;defcustom&#39;/&#39;defface&#39; specially.
This command would previously not redefine values defined by these
forms, but this command has now been changed to work more like
&#39;eval-defun&#39;, and reset the values as specified.</code></pre><p>Ah, the eval trap. I have had a disclaimer in <a href="https://www.masteringemacs.org/article/evaluating-elisp-emacs">Evaluating elisp</a> article for more than a decade warning about that. Basically you couldn’t use <code>C-x C-e</code> to re-evaluate already-set <code>defvar</code> forms; it would silently ignore the attempt.</p><p>At long last, it’s fixed.</p><pre><code>New user option &#39;use-short-answers&#39;.
When non-nil, the function &#39;y-or-n-p&#39; is used instead of
&#39;yes-or-no-p&#39;.  This eliminates the need to define an alias that maps
one to another in the init file.  The same user option also controls
whether the function &#39;read-answer&#39; accepts short answers.</code></pre><p>When I was new to Emacs I cargo culted a line that disabled the long answer prompt. And I’m sure millions of other Emacs users did also.</p><p>Now, at least, we can customize it directly instead of hacking it.</p><pre><code>New user option &#39;kill-buffer-delete-auto-save-files&#39;.
If non-nil, killing a buffer that has an auto-save file will prompt
the user for whether that auto-save file should be deleted.  (Note
that &#39;delete-auto-save-files&#39;, if non-nil, was previously documented
to result in deletion of auto-save files when killing a buffer without
unsaved changes, but this has apparently not worked for several
decades, so the documented semantics of this variable has been changed
to match the behavior.)</code></pre><p>Heh, you know, there’s something funny about a latent bug that has persisted for decades, with people being mostly none the wiser about it. But whether you want this feature or not is down to how much you rely on auto save to bail you out of trouble.</p><pre><code>New user option &#39;next-error-message-highlight&#39;.
In addition to a fringe arrow, &#39;next-error&#39; error may now optionally
highlight the current error message in the &#39;next-error&#39; buffer.
This user option can be also customized to keep highlighting on all
visited errors, so you can have an overview what errors were already visited.</code></pre><p>Another no-brainer you should enable.</p><p>The naming of this feature is, however, regrettable; it no doubt started out as a feature for reporting errors (probably output from <code>M-x compile</code>) it does in fact work with things that are enumerable lists of <em>things</em>, like: <code>M-x occur</code>, <code>M-x rgrep</code> &amp; friends, etc. etc.</p><p>Use <code>M-g M-n/M-p</code> to navigate up or down. With this new option enabled, you’ll see a highlighted line of the “error” you just jumped to.</p><pre><code>New choice &#39;next-error-quit-window&#39; for &#39;next-error-found-function&#39;.
When &#39;next-error-found-function&#39; is customized to &#39;next-error-quit-window&#39;,
then typing the numeric prefix argument 0 before the command &#39;next-error&#39;
will quit the source window after visiting the next occurrence.</code></pre><p>I cannot think of anything that presently sets this – well, possibly third-party packages – so if you want to experiment with it, you can. I do not know how useful it is to <em>me</em>, though, as I regularly leave hundreds of buffers I no longer need languish in obscurity without killing them.</p><pre><code>New user option &#39;file-preserve-symlinks-on-save&#39;.
This controls what Emacs does when saving buffers that visit files via
symbolic links, and &#39;file-precious-flag&#39; is non-nil.</code></pre><p>Unless you’ve mucked around with <code>file-precious-flag</code> (why would you?) you don’t need to worry about Emacs overwriting your symlinks with actual files.</p><pre><code>New user option &#39;copy-directory-create-symlink&#39;.
If non-nil, will make &#39;copy-directory&#39; (when used on a symbolic
link) copy the link instead of following the link.  The default is
nil, so the default behavior is unchanged.</code></pre><p>Useful to those who really need this; it feels like the sort of thing you’d gate behind a command though, instead of making it a permanent switch.</p><pre><code>New user option &#39;ignored-local-variable-values&#39;.
This is the opposite of &#39;safe-local-variable-values&#39; -- it&#39;s an alist
of variable-value pairs that are to be ignored when reading a
local-variables section of a file.</code></pre><p>I imagine the primary use case is configuring this in a directory-local file so that file-local changes are ignored. Indentation settings, possibly; or other things?</p><pre><code>Specific warnings can now be disabled from the warning buffer.
When a warning is displayed to the user, the resulting buffer now has
buttons which allow making permanent changes to the treatment of that
warning.  Automatic showing of the warning can be disabled (although
it is still logged to the &#34;*Messages*&#34; buffer), or the warning can be
disabled entirely.</code></pre><p>A handy feature, but I would caution against disabling warnings unless you really, really know what you are doing. You absolutely will 100% forget you’ve disabled a warning.</p><pre><code>&#34;.dir-locals.el&#34; now supports setting &#39;auto-mode-alist&#39;.
The new &#39;auto-mode-alist&#39; specification in &#34;.dir-locals.el&#34; files can
now be used to override the global &#39;auto-mode-alist&#39; in the current
directory tree.</code></pre><p>Useful if you’re using specialist modes for common files and you can’t use file-local variables like <code>-*- mode: foo; -*-</code>.</p><pre><code>User option &#39;uniquify-buffer-name-style&#39; can now be a function.
This user option can be one of the predefined styles or a function to
personalize the uniquified buffer name.</code></pre><p>I guess this means you can use <code>propertize</code> to add color and other decorations to buffer names in addition to, of course, fully customizing the name of the buffer.</p><pre><code>&#39;remove-hook&#39; is now an interactive command.</code></pre><p>This is… more useful than you might think. If you’re (<em>cough</em>) one of those ones who adds lambdas to <code>add-hook</code> you can safely and easily remove them with this command as you’re prompted for the one to remove.</p><pre><code>&#39;expand-file-name&#39; now checks for null bytes in filenames.
The function will now check for null bytes in both NAME and
DEFAULT-DIRECTORY arguments, as well as in the &#39;default-directory&#39;
buffer-local variable, when its value is used.  If null bytes are
found, &#39;expand-file-name&#39; will signal an error.
This means that practically all file-related operations will now check
file names for null bytes, thus avoiding subtle bugs with silently
using only the part of file name up to the first null byte.</code></pre><p>Null bytes are illegal in POSIX file systems, so I guess this is mostly about dealing with file systems that may have them in the file names, and on platforms that don’t mind nulls.</p><h3 id="frames">Frames</h3><pre><code>The key prefix &#39;C-x 5 5&#39; displays next command buffer in a new frame.
It&#39;s bound to the command &#39;other-frame-prefix&#39; that requests the buffer
of the next command to be displayed in a new frame.</code></pre><p>This asks for a command to run and then runs it in a new frame. If you use frames, this is a fine way to tell Emacs “go run this thing in a new frame”. This cuts down on the tedium of first spawning a frame and then running the command.</p><pre><code>New command &#39;clone-frame&#39; (bound to &#39;C-x 5 c&#39;).
This is like &#39;C-x 5 2&#39;, but uses the window configuration and frame
parameters of the current frame instead of &#39;default-frame-alist&#39;.
When called interactively with a prefix arg, the window configuration
is not cloned.</code></pre><p>This is equally useful. If you have a nice setup – windows split, buffers in just the right order – you can run this to get an exact clone. If you often struggle with window workflow, this could be a way of resolving that.</p><p>You can also use the tab bar <code>C-x t n</code> which does much the same: you clone your setup into a new tab.</p><pre><code>Default values of &#39;frame-title-format&#39; and &#39;icon-title-format&#39; have changed.
These variables are used to display the title bar of visible frames
and the title bar of an iconified frame.  They now show the name of
the current buffer and the text &#34;GNU Emacs&#34; instead of the value of
&#39;invocation-name&#39;.  To get the old behavior back, add the following to
your init file:

    (setq frame-title-format &#39;(multiple-frames &#34;%b&#34;
                              (&#34;&#34; invocation-name &#34;@&#34; system-name)))</code></pre><p>I changed my title bar format nearly two decades ago to show the active file and I never looked back.</p><pre><code>New frame parameter &#39;drag-with-tab-line&#39;.
This parameter, similar to &#39;drag-with-header-line&#39;, allows moving frames
by dragging the tab lines of their topmost windows with the mouse.</code></pre><p>This works fine, but you don’t get a visual indicator of the position it’s dragged to, like you would in say your web browser.</p><pre><code>New optional behavior of &#39;delete-other-frames&#39;.
When invoked with a prefix argument, &#39;delete-other-frames&#39; now
iconifies frames, rather than deleting them.</code></pre><p>If you use a tiling window manager this might be a useful way of reclaiming your desktop space but without killing the frames. I’d experiment with this if you do use a tiling WM.</p><pre><code>Commands &#39;set-frame-width&#39; and &#39;set-frame-height&#39; now prompt for values.
These commands now prompt for the value via the minibuffer, instead of
requiring the user to specify the value via the prefix argument.</code></pre><p>Minor UX improvement, but a good one.</p><h3 id="windows">Windows</h3><pre><code>The key prefix &#39;C-x 4 1&#39; displays next command buffer in the same window.
It&#39;s bound to the command &#39;same-window-prefix&#39; that requests the buffer
of the next command to be displayed in the same window.</code></pre><pre><code>The key prefix &#39;C-x 4 4&#39; displays next command buffer in a new window.
It&#39;s bound to the command &#39;other-window-prefix&#39; that requests the buffer
of the next command to be displayed in a new window.</code></pre><p>Like with the frames above, the next command feature is actually really powerful. You should definitely try it out; being able to tell Emacs “go do this thing somewhere else” is a nice time saver.</p><pre><code>New command &#39;recenter-other-window&#39;, bound to &#39;S-M-C-l&#39;.
Like &#39;recenter-top-bottom&#39;, but acting on the other window.</code></pre><p>It’s a little-known fact of Emacs that a handful of commands operate on <em>other</em> windows, like <code>C-M-v</code> and <code>C-M-S-v</code>.</p><pre><code>New user option &#39;delete-window-choose-selected&#39;.
This allows specifying how Emacs chooses which window will be the
frame&#39;s selected window after the currently selected window is
deleted.</code></pre><p>I’ve not really been able to get this to work properly. The docstring says you should use the symbol <code>pos</code> also. Though, with the rate that I destroy windows, I would find the intervention frustrating, I think.</p><pre><code>New argument NO-OTHER for some window functions.
&#39;get-lru-window&#39;, &#39;get-mru-window&#39; and &#39;get-largest-window&#39; now accept a
new optional argument NO-OTHER which, if non-nil, avoids returning a
window whose &#39;no-other-window&#39; parameter is non-nil.</code></pre><p>Clearly intended for library writers.</p><pre><code>New &#39;display-buffer&#39; function &#39;display-buffer-use-least-recent-window&#39;.
This is like &#39;display-buffer-use-some-window&#39;, but won&#39;t reuse the
current window, and when called repeatedly will try not to reuse a
previously selected window.</code></pre><p>One use case for this switch might be if you regularly open up transient buffers, like help buffers, as you may interact with them their windows than other buffers’.</p><pre><code>New function &#39;window-bump-use-time&#39;.
This updates the use time of a window.</code></pre><h3 id="minibuffer">Minibuffer</h3><pre><code>Minibuffer scrolling is now conservative by default.
This is controlled by the new variable &#39;scroll-minibuffer-conservatively&#39;.
It is t by default; setting it to nil will cause scrolling in the
minibuffer obey the value of &#39;scroll-conservatively&#39;.</code></pre><pre><code>Improved handling of minibuffers on switching frames.
By default, when you switch to another frame, an active minibuffer now
moves to the newly selected frame.  Nevertheless, the effect of what
you type in the minibuffer happens in the frame where the minibuffer
was first activated.  An alternative behavior is available by
customizing &#39;minibuffer-follows-selected-frame&#39; to nil.  Here, the
minibuffer stays in the frame where you first opened it, and you must
switch back to this frame to continue or abort its command.  The old
behavior, which mixed these two, can be approximated by customizing
&#39;minibuffer-follows-selected-frame&#39; to a value which is neither nil
nor t.</code></pre><p>Another benefit for frame users. Switching to another frame is a mental context switch, so if you want the (active) minibuffer to follow you around, you’d expect the context under which it executes the command to follow also.</p><pre><code>New user option &#39;read-minibuffer-restore-windows&#39;.
When customized to nil, it uses &#39;minibuffer-restore-windows&#39; in
&#39;minibuffer-exit-hook&#39; to remove only the window showing the
&#34;*Completions*&#34; buffer, but keeps all other windows created
while the minibuffer was active.</code></pre><p>If you regularly activate your minibuffer only to <code>C-x o</code> out of it and do something else, you may find that when the time comes to finish the minibuffer command that you’ve changed your window layout. The minibuffer remembers the window state of when you activated it, and it snaps back to that when you exit.</p><p>It’s very annoying, so I’m definitely enabling this!</p><pre><code>New variable &#39;redisplay-adhoc-scroll-in-resize-mini-windows&#39;.
Customizing it to nil will disable the ad-hoc auto-scrolling of
minibuffer text shown in mini-windows when resizing those windows.
The default heuristics of that scrolling can be counter productive in
some corner cases, though the cure might be worse than the disease.
This said, the effect should be negligible in the vast majority of
cases anyway.</code></pre><h3 id="mode-line">Mode Line</h3><pre><code>New user option &#39;mode-line-compact&#39;.
If non-nil, repeating spaces are compressed into a single space.  If
&#39;long&#39;, this is only done when the mode line is longer than the
current window width (in columns).</code></pre><p>Worth trying if you find the minibuffer takes up more space than it should.</p><pre><code>New user options to control format of line/column numbers in the mode line.
&#39;mode-line-position-line-format&#39; is the line number format (when
&#39;line-number-mode&#39; is on), &#39;mode-line-position-column-format&#39; is
the column number format (when &#39;column-number-mode&#39; is on), and
&#39;mode-line-position-column-line-format&#39; is the combined format (when
both modes are on).</code></pre><h3 id="tab-bars-and-tab-lines">Tab Bars and Tab Lines</h3><pre><code>The prefix key &#39;C-x t t&#39; can be used to display a buffer in a new tab.
Typing &#39;C-x t t&#39; before a command will cause the buffer shown by that
command to be displayed in a new tab.  &#39;C-x t t&#39; is bound to the
command &#39;other-tab-prefix&#39;.</code></pre><p>This is the same as the window and frame commands above: you can yeet a command into a new tab.</p><pre><code>New command &#39;C-x t C-r&#39; to open file read-only in the other tab.</code></pre><pre><code>The tab bar now supports more mouse commands.
Clicking &#39;mouse-2&#39; closes the tab, &#39;mouse-3&#39; displays the context menu
with items that operate on the clicked tab.  Dragging the tab with
&#39;mouse-1&#39; moves it to another position on the tab bar.  Mouse wheel
scrolling switches to the previous/next tab, and holding the Shift key
during scrolling moves the tab to the left/right.</code></pre><p>Makes the tab bar behave the way mouse users of other software would expect it to.</p><pre><code>Frame-specific appearance of the tab bar when &#39;tab-bar-show&#39; is a number.
When &#39;tab-bar-show&#39; is a number, the tab bar on different frames can
be shown or hidden independently, as determined by the number of tabs
on each frame compared to the numerical value of &#39;tab-bar-show&#39;.</code></pre><p>That’s rather niche…</p><pre><code>New command &#39;toggle-frame-tab-bar&#39;.
It can be used to enable/disable the tab bar on the currently selected
frame regardless of the values of &#39;tab-bar-mode&#39; and &#39;tab-bar-show&#39;.
This allows enabling/disabling the tab bar independently on different
frames.</code></pre><p>Useful, perhaps especially, for transient frames used by various popup mechanisms.</p><pre><code>New user option &#39;tab-bar-format&#39; defines a list of tab bar items.
When it contains &#39;tab-bar-format-global&#39; (possibly appended after
&#39;tab-bar-format-align-right&#39;), then after enabling &#39;display-time-mode&#39;
(or any other mode that uses &#39;global-mode-string&#39;) it displays time
aligned to the right on the tab bar instead of on the mode line.
When &#39;tab-bar-format-tabs&#39; is replaced with &#39;tab-bar-format-tabs-groups&#39;,
the tab bar displays tab groups.</code></pre><p>There is a lot to unpack here. a) You can use tab groups now; and b) You can configure the tab bar to display additional information in the blank, disused space to the right of the tab bar items themselves.</p><pre><code>New optional key binding for &#39;tab-last&#39;.
If you customize the user option &#39;tab-bar-select-tab-modifiers&#39; to
allow selecting tabs using their index numbers, the &#39;&lt;MODIFIER&gt;-9&#39; key
is bound to &#39;tab-last&#39;, and switches to the last tab.  Here &lt;MODIFIER&gt;
is any of the modifiers in the list that is the value of
&#39;tab-bar-select-tab-modifiers&#39;.  You can also use positive indices,
which count from the last tab: 1 is the last tab, 2 the one before
that, etc.</code></pre><p>This is another feature that I am sure will bring joy to a lot of IDE users as that’s how it works in a lot of other editors. But I recommend you choose with care which modifier keys you override: the digit key system is bound to <code>M-</code>, <code>C-M-</code>, etc. are all useful.</p><pre><code>New command &#39;tab-duplicate&#39; bound to &#39;C-x t n&#39;.</code></pre><p>As I explained above, this duplicates the exact layout of your current tab. Very useful.</p><pre><code>&#39;C-x t N&#39; creates a new tab at the specified absolute position.
The position is provided as prefix arg, and specifies an index that
starts at 1.  Negative values count from the end of the tab bar.</code></pre><pre><code>&#39;C-x t M&#39; moves the current tab to the specified absolute position.
The position is provided as prefix arg, whose interpretation is as in
&#39;C-x t N&#39;.</code></pre><p>If you rely on exact positioning of certain tabs, then this is welcome news to you.</p><pre><code>&#39;C-x t G&#39; assigns a tab to a named group of tabs.
&#39;tab-close-group&#39; closes all tabs that belong to the selected group.
The user option &#39;tab-bar-new-tab-group&#39; defines the default group of
new tabs.  After customizing &#39;tab-bar-tab-post-change-group-functions&#39;
to &#39;tab-bar-move-tab-to-group&#39;, changing the group of a tab will also
move it closer to other tabs in the same group.</code></pre><p>Tab groups don’t immediately display unless you also follow the advice from earlier about customizing <code>tab-bar-format</code>.</p><pre><code>New user option &#39;tab-bar-tab-name-format-function&#39;.</code></pre><pre><code>New user option &#39;tab-line-tab-name-format-function&#39;.</code></pre><pre><code>The tabs in the tab line can now be scrolled using horizontal scroll.
If your mouse or trackpad supports it, you can now scroll tabs when
the mouse pointer is in the tab line by scrolling left or right.</code></pre><p>For all the talk of using the mouse, don’t forget you can use <code>M-x tab-bar-switch-to-tab</code> to search by name for the tab you want.</p><pre><code>New tab-line faces and user options.
The face &#39;tab-line-tab-special&#39; is used for tabs whose buffers are
special, i.e. buffers that don&#39;t visit a file.  The face
&#39;tab-line-tab-modified&#39; is used to display modified, file-backed
buffers.  The face &#39;tab-line-tab-inactive-alternate&#39; is used to
display inactive tabs with an alternating background color, making
them easier to distinguish, especially if the face &#39;tab-line-tab&#39; is
configured to not display with a box; this alternate face is only
applied when the user option &#39;tab-line-tab-face-functions&#39; is so
configured.  That option may also be used to customize tab-line faces
in other ways.</code></pre><p>These are all very useful; especially the modified one.</p><h3 id="mouse-wheel">Mouse wheel</h3><pre><code>Mouse wheel scrolling now defaults to one line at a time.</code></pre><pre><code>Mouse wheel scrolling now works on more parts of frame&#39;s display.
When using &#39;mouse-wheel-mode&#39;, the mouse wheel will now scroll also when
the mouse cursor is on the scroll bars, fringes, margins, header line,
and mode line.  (&#39;mouse-wheel-mode&#39; is enabled by default on most graphical
displays.)</code></pre><pre><code>Mouse wheel scrolling with Shift modifier now scrolls horizontally.
This works in text buffers and over images.  Typing a numeric prefix arg
(e.g. &#39;M-5&#39;) before starting horizontal scrolling changes its step value.
The value is saved in the user option &#39;mouse-wheel-scroll-amount-horizontal&#39;.</code></pre><p>These are all beneficial changes for mouse users. And let’s be honest, a large number of us <em>do</em> use the mouse to scroll when we’re reading more than writing — I certainly do!</p><h3 id="customize">Customize</h3><pre><code>Customize buffers can now be reverted with &#39;C-x x g&#39;.</code></pre><p>Note that reverting has always been possible – and surely one of the great things about Customize, as you can undo changes easily – but this is just a key binding for what used to be a button and a command.</p><pre><code>Most customize commands now hide obsolete user options.
Obsolete user options are no longer shown in the listings produced by
the commands &#39;customize&#39;, &#39;customize-group&#39;, &#39;customize-apropos&#39; and
&#39;customize-changed&#39;.

To customize obsolete user options, use &#39;customize-option&#39; or
&#39;customize-saved&#39;.</code></pre><pre><code>New SVG icons for checkboxes and arrows.
They will be used automatically instead of the old icons.  If Emacs is
built without SVG support, the old icons will be used instead.</code></pre><p>Excellent news, especially for users with high dpi screens. SVGs are vector graphics and scale perfectly, unlike the old bitmaps.</p><h3 id="help">Help</h3><pre><code>The order of things displayed in the &#34;*Help*&#34; buffer has been changed.
The indented &#34;administrative&#34; block (containing the &#34;probably
introduced&#34; and &#34;other relevant functions&#34; (and similar things) has
been moved to after the doc string.</code></pre><p>I’ve no strong opinions about that, but the “introduced in” feature is still handy for elisp writers, even if it is not perfect.</p><pre><code>New command &#39;describe-command&#39; shows help for a command.
This can be used instead of &#39;describe-function&#39; for interactive
commands and is globally bound to &#39;C-h x&#39;.</code></pre><p>Very beneficial to beginners especially, as the functions serve distractions.</p><pre><code>New command &#39;describe-keymap&#39; describes keybindings in a keymap.</code></pre><p>Very handy! Lots of packages use many mode maps for different things, and getting a clear view of them (without resorting to source code, to say nothing about the ones that’re dynamically set) was never easy. Very useful for discovery!</p><pre><code>New command &#39;apropos-function&#39;.
This works like &#39;C-u M-x apropos-command&#39; but is more discoverable.</code></pre><p>Seems marginally better than the usual way of doing it.</p><pre><code>New keybinding &#39;C-h R&#39; prompts for an Info manual and displays it.</code></pre><p>Ah sweet heavens. Having to instruct users how to open a particular Info manual was fraught with too many complications. This is nice and simple.</p><pre><code>Keybindings in &#39;help-mode&#39; use the new &#39;help-key-binding&#39; face.
This face is added by &#39;substitute-command-keys&#39; to any &#34;\[command]&#34;
substitution.  The return value of that function should consequently
be assumed to be a propertized string.  To prevent the function from
adding the &#39;help-key-binding&#39; face, call &#39;substitute-command-keys&#39;
with the new optional argument NO-FACE non-nil.

Note that the new face will also be used in tooltips.  When using the
GTK toolkit, this is only true if &#39;x-gtk-use-system-tooltips&#39; is t.</code></pre><p>More usability improvements.</p><pre><code>New user option &#39;help-enable-symbol-autoload&#39;.
If non-nil, displaying help for an autoloaded function whose
&#39;autoload&#39; form provides no documentation string will try to load the
file it&#39;s from.  This will give more extensive help for such
functions.</code></pre><p>Another useful feature. It’s a set-and-forget switch.</p><pre><code>The &#39;help-for-help&#39; (&#39;C-h C-h&#39;) screen has been redesigned.</code></pre><p>It sure has. It seems better, and yet it’s using that awful “electric” mode that hijacks your keybindings so you can’t switch out of the minibuffer without killing the buffer. The workaround, at least, is to type <code>C-s</code>.</p><pre><code>New convenience commands with short keys in the &#34;*Help*&#34; buffer.
New command &#39;help-view-source&#39; (&#39;s&#39;) will view the source file (if
any) of the current help topic.  New command &#39;help-goto-info&#39; (&#39;i&#39;)
will look up the current symbol (if any) in Info.  New command
&#39;help-customize&#39; (&#39;c&#39;) will customize the user option or the face
(if any) whose doc string is being shown in the &#34;*Help*&#34; buffer.</code></pre><p>Wow, these are all great. I can’t believe I never knew I wanted these!</p><pre><code>New user option &#39;describe-bindings-outline&#39;.
It enables outlines in the output buffer of &#39;describe-bindings&#39; that
can provide a better overview in a long list of available bindings.</code></pre><p>This should be enabled by default; scrolling through a litany of key bindings and having to guess the modes they belong to? Not fun.</p><pre><code>New commands to describe buttons and widgets.
&#39;widget-describe&#39; (on a widget) will pop up the &#34;*Help*&#34; buffer and
give a description of the properties.  Likewise &#39;button-describe&#39; does
the same for a button.</code></pre><pre><code>Improved &#34;find definition&#34; feature of &#34;*Help*&#34; buffers.
Now clicking on the link to find the definition of functions generated
by &#39;cl-defstruct&#39;, or variables generated by &#39;define-derived-mode&#39;,
for example, will go to the exact place where they are defined.</code></pre><p>Another quality of life improvement.</p><pre><code>New commands &#39;apropos-next-symbol&#39; and &#39;apropos-previous-symbol&#39;.
These new navigation commands are bound to &#39;n&#39; and &#39;p&#39; in
&#39;apropos-mode&#39;.</code></pre><pre><code>The command &#39;view-lossage&#39; can now be invoked from the menu bar.
The menu bar &#34;Help&#34; menu now has a &#34;Show Recent Inputs&#34; item under the
&#34;Describe&#34; sub-menu.</code></pre><p>View lossage is an underrated command. Combine it with <code>kmacro-edit-lossage</code> and you can turn your recent inputs into a macro with a little bit of work.</p><pre><code>New command &#39;lossage-size&#39;.
It allows users to change the maximum number of keystrokes and
commands recorded for the purpose of &#39;view-lossage&#39;.</code></pre><pre><code>Closing the &#34;*Help*&#34; buffer from the toolbar now buries the buffer.
In previous Emacs versions, the &#34;*Help*&#34; buffer was killed instead when
clicking the &#34;X&#34; icon in the tool bar.</code></pre><pre><code>&#39;g&#39; (&#39;revert-buffer&#39;) in &#39;help-mode&#39; no longer requires confirmation.</code></pre><p>Ah thank gods for that.</p><h3 id="file-locks">File Locks</h3><pre><code>New user option &#39;lock-file-name-transforms&#39;.
This option allows controlling where lock files are written.  It uses
the same syntax as &#39;auto-save-file-name-transforms&#39;.</code></pre><p>Such an obnoxious feature. Well-meaning, but ends up causing trouble with linter tools or services that watch for directory changes; if you ever had a problem with <code>.#somefile.txt</code> appearing, this is the cause. <code>create-lockfiles</code> set to nil turns it off permanently.</p><p>If you regularly edit the same file with other users or across multiple distinct Emacs instances, you may want to leave it on, or configure the sorely-needed <code>lock-file-name-transforms</code>.</p><pre><code>New user option &#39;remote-file-name-inhibit-locks&#39;.
When non-nil, this option suppresses lock files for remote files.
Default is nil.</code></pre><pre><code>New minor mode &#39;lock-file-mode&#39;.
This command, called interactively, toggles the local value of
&#39;create-lockfiles&#39; in the current buffer.</code></pre><h3 id="emacs-server">Emacs Server</h3><pre><code>New user option &#39;server-client-instructions&#39;.
When emacsclient connects, Emacs will (by default) output a message
about how to exit the client frame.  If &#39;server-client-instructions&#39;
is set to nil, this message is inhibited.</code></pre><pre><code>New command &#39;server-edit-abort&#39;.
This command (not bound to any key by default) can be used to abort
an edit instead of marking it as &#34;Done&#34; (which the &#39;C-x #&#39; command
does).  The &#39;emacsclient&#39; program exits with an abnormal status as
result of this command.</code></pre><p>Useful, and should probably have its own key binding.</p><pre><code>New desktop integration for connecting to the server.
If your operating system&#39;s desktop environment is
freedesktop.org-compatible (which is true of most GNU/Linux and other
recent Unix-like desktops), you may use the new &#34;Emacs (Client)&#34;
desktop menu entry to open files in an existing Emacs instance rather
than starting a new one.  The daemon starts if it is not already
running.</code></pre><p>Nice. Should encourage the adoption of the client mode for those who are unaware of its existence.</p><h3 id="miscellaneous">Miscellaneous</h3><pre><code>New command &#39;font-lock-update&#39;, bound to &#39;C-x x f&#39;.
This command updates the syntax highlighting in this buffer.</code></pre><pre><code>New command &#39;memory-report&#39;.
This command opens a new buffer called &#34;*Memory Report*&#34; and gives a
summary of where Emacs is using memory currently.</code></pre><pre><code>New command &#39;submit-emacs-patch&#39;.
This works like &#39;report-emacs-bug&#39;, but is more geared towards sending
patches to the Emacs issue tracker.</code></pre><p>If you encounter a <em>bug</em> in Emacs, you should definitely report it with <code>M-x report-emacs-bug</code></p><pre><code>New face &#39;apropos-button&#39;.
Applies to buttons that indicate a face.</code></pre><pre><code>New face &#39;font-lock-doc-markup-face&#39;.
Intended for documentation mark-up syntax and tags inside text that
uses &#39;font-lock-doc-face&#39;, which it should appropriately stand out
against and harmonize with.  It would typically be used in structured
documentation comments in program source code by language-specific
modes, for mark-up conventions like Haddock, Javadoc or Doxygen.  By
default this face inherits from &#39;font-lock-constant-face&#39;.</code></pre><p>Much-needed for all the many languages with specialized notation for this sort of thing. Adding your own face – as many modes ended up doing – is far worse than having a standardized one.</p><pre><code>New face box style &#39;flat-button&#39;.
This is a plain 2D button, but uses the background color instead of
the foreground color.</code></pre><pre><code>New faces &#39;shortdoc-heading&#39; and &#39;shortdoc-section&#39;.
Applied to shortdoc headings and sections.</code></pre><pre><code>New face &#39;separator-line&#39;.
This is used by &#39;make-separator-line&#39; (see below).</code></pre><pre><code>&#39;redisplay-skip-fontification-on-input&#39; helps Emacs keep up with fast input.
This is another attempt to solve the problem of handling high key repeat rate
and other &#34;slow scrolling&#34; situations.  It is hoped it behaves better
than &#39;fast-but-imprecise-scrolling&#39; and &#39;jit-lock-defer-time&#39;.
It is not enabled by default.</code></pre><p>If you suffer from either, give it a try.</p><pre><code>Obsolete aliases are no longer hidden from command completion.
Completion of command names now considers obsolete aliases as
candidates, if they were marked obsolete in the current major version
of Emacs.  Invoking a command via an obsolete alias now mentions the
obsolescence fact and shows the new name of the command.</code></pre><pre><code>Support for &#39;(box . SIZE)&#39; &#39;cursor-type&#39;.
By default, &#39;box&#39; cursor always has a filled box shape.  But if you
specify &#39;cursor-type&#39; to be &#39;(box . SIZE)&#39;, the cursor becomes a hollow
box if the point is on an image larger than SIZE pixels in any
dimension.</code></pre><pre><code>The user can now customize how &#34;default&#34; values are prompted for.
The new utility function &#39;format-prompt&#39; has been added which uses the
new &#39;minibuffer-default-prompt-format&#39; user option to format &#34;default&#34;
prompts.  This means that prompts that look like &#34;Enter a number
(default 10)&#34; can be customized to look like, for instance, &#34;Enter a
number [10]&#34;, or not have the default displayed at all, like &#34;Enter a
number&#34;.  (This only affects callers that were altered to use
&#39;format-prompt&#39;.)</code></pre><pre><code>New help window when Emacs prompts before opening a large file.
Commands like &#39;find-file&#39; or &#39;visit-tags-table&#39; ask to visit a file
normally or literally when the file is larger than a certain size (by
default, 9.5 MiB).  Press &#39;?&#39; or &#39;C-h&#39; in that prompt to read more
about the different options to visit a file, how you can disable the
prompt, and how you can tweak the file size threshold.</code></pre><pre><code>Emacs now defaults to UTF-8 instead of ISO-8859-1.
This is only for the default, where the user has set no &#39;LANG&#39; (or
similar) variable or environment.  This change should lead to no
user-visible changes for normal usage.</code></pre><p>A good change indeed — UTF-8 is a de facto standard for a lot of people nowadays, so this is a good change, I think. And, if you dislike it, you’re probably using another you chose yourself locale anyway!</p><pre><code>&#39;global-display-fill-column-indicator-mode&#39; skips some buffers.
By default, turning on &#39;global-display-fill-column-indicator-mode&#39;
doesn&#39;t turn on &#39;display-fill-column-indicator-mode&#39; in special-mode
buffers.  This can be controlled by customizing the user option
&#39;global-display-fill-column-indicator-modes&#39;.</code></pre><pre><code>&#39;nobreak-char-display&#39; now also affects all non-ASCII space characters.
Previously, this was limited only to &#39;NO-BREAK SPACE&#39; and hyphen
characters.  Now it also covers the rest of the non-ASCII Unicode
space characters.  Also, unlike in previous versions of Emacs, the
non-ASCII characters are displayed as themselves when
&#39;nobreak-char-display&#39; is t, i.e. they are not replaced on display
with the ASCII space and hyphen characters.</code></pre><p>If you regularly use characters like NON-BREAKING SPACE, it used to be, well, hidden? Or rather just shown as the character itself (a space)? That would make it all but impossible to see and distinguish from a regular whitespace character. This, I believe, also helps prevent certain types of phishing attacks, through creative (ab)use of unicode code points, by revealing the use of those characters.</p><pre><code>New backward compatibility variable &#39;nobreak-char-ascii-display&#39;.
This variable is nil by default, and non-ASCII space and hyphen
characters are displayed as themselves, even if &#39;nobreak-char-display&#39;
is non-nil.  If &#39;nobreak-char-ascii-display&#39; is set to a non-nil
value, the non-ASCII space and hyphen characters are instead displayed
as their ASCII counterparts: spaces and ASCII hyphen (a.k.a. &#34;dash&#34;)
characters.  This provides backward compatibility feature for the
change described above, where the non-ASCII characters are no longer
replaced with their ASCII counterparts when &#39;nobreak-char-display&#39; is
t
You may need this on text-mode terminals that produce messed up
display when non-ASCII spaces and hyphens are written to the display.
(This variable is only effective when &#39;nobreak-char-display&#39; is t.)</code></pre><pre><code>Improved support for terminal emulators that encode the Meta flag.
Some terminal emulators set the 8th bit of Meta characters, and then
encode the resulting character code as if it were non-ASCII character
above codepoint 127.  Previously, the only way of using these in Emacs
was to set up the terminal emulator to use the &#39;ESC&#39; characters to send
Meta characters to Emacs, e.g., send &#34;ESC x&#34; when the user types
&#39;M-x&#39;.  You can now avoid the need for this setup of such terminal
emulators by using the new input-meta-mode with the special value
&#39;encoded&#39; with these terminal emulators.</code></pre><p>I do not use Emacs in a terminal unless I have to, and this is one of those reasons. If you have this problem, try out the new setting.</p><pre><code>&#39;auto-composition-mode&#39; can now be selectively disabled on some TTYs.
Some text-mode terminals produce display glitches trying to compose
characters.  The &#39;auto-composition-mode&#39; can now have a string value
that names a terminal type; if the value returned by the &#39;tty-type&#39;
function compares equal with that string, automatic composition will
be disabled in windows shown on that terminal.  The Linux terminal
sets this up by default.</code></pre><pre><code>Support for the &#39;strike-through&#39; face attribute on TTY frames.
If your terminal&#39;s termcap or terminfo database entry has the &#39;smxx&#39;
capability defined, Emacs will now emit the prescribed escape
sequences necessary to render faces with the &#39;strike-through&#39;
attribute on TTY frames.</code></pre><pre><code>TTY menu navigation is now supported in &#39;xterm-mouse-mode&#39;.
TTY menus support mouse navigation and selection when &#39;xterm-mouse-mode&#39;
is active.  When run on a terminal, clicking on the menu bar with the
mouse now pops up a TTY menu by default instead of running the command
&#39;tmm-menubar&#39;.  To restore the old behavior, set the user option
&#39;tty-menu-open-use-tmm&#39; to non-nil.</code></pre><p>Another useful change for mouse users who use terminal Emacs.</p><pre><code>&#39;M-x report-emacs-bug&#39; will no longer include &#34;Recent messages&#34; section.
These were taken from the &#34;*Messages*&#34; buffer, and may inadvertently
leak information from the reporting user.</code></pre><pre><code>&#39;C-u M-x dig&#39; will now prompt for a query type to use.</code></pre><p>And, actually, along with <code>M-x dig</code>, there’s <a href="https://masteringemacs.org/article/network-utilities-emacs">support for many other common CLI tools</a></p><pre><code>Rudimentary support for the &#39;st&#39; terminal emulator.
Emacs now supports 256 color display on the &#39;st&#39; terminal emulator.</code></pre><pre><code>Update IRC-related references to point to Libera.Chat.
The Free Software Foundation and the GNU Project have moved their
official IRC channels from the Freenode network to Libera.Chat.  For the
original announcement and the follow-up update, including more details,
see:

https://lists.gnu.org/archive/html/info-gnu/2021-06/msg00005.html
https://lists.gnu.org/archive/html/info-gnu/2021-06/msg00007.html

Given the relocation of GNU and FSF&#39;s official IRC channels, as well
as #emacs and various other Emacs-themed channels (see the link below)
to Libera.Chat, IRC-related references in the Emacs repository have
now been updated to point to Libera.Chat.

https://lists.gnu.org/archive/html/info-gnu-emacs/2021-06/msg00000.html</code></pre><h2 id="installation-changes-in-emacs-28.1">Installation Changes in Emacs 28.1</h2><pre><code>Emacs now optionally supports native compilation of Lisp files.
To enable this, configure Emacs with the &#39;--with-native-compilation&#39; option.
This requires the libgccjit library to be installed and functional,
and also requires GCC and Binutils to be available when Lisp code is
natively compiled.  See the Info node &#34;(elisp) Native Compilation&#34; for
more details.

If you build Emacs with native compilation, but without zlib, be sure
to configure with the &#39;--without-compress-install&#39; option, so that the
installed &#34;*.el&#34; files are not compressed; otherwise, you will not be
able to use JIT native compilation of the installed &#34;*.el&#34; files.

Note that JIT native compilation is done in a fresh session of Emacs
that is run in a subprocess, so it can legitimately report some
warnings and errors that aren&#39;t uncovered by byte-compilation.  We
recommend examining any such warnings before you decide they are
false.</code></pre><p>You’ll still need the libgccjit setup, so if you’re unsure how to pull that off on Linux, you can check out <a href="https://www.masteringemacs.org/article/speed-up-emacs-libjansson-native-elisp-compilation">my article about how to do this</a>. I give an example using an Ubuntu docker image, but you can literally cut-and-paste the commands into your own Linux setup to repeat the procedure without Docker.</p><pre><code>The Cairo graphics library is now used by default if present.
&#39;--with-cairo&#39; is now the default, if the appropriate development
files are found by &#39;configure&#39;.  Building with Cairo is known to cause
some problems with bitmap fonts.  This may require you to adjust your
font settings, or to build with Xft support instead.

Note also that &#39;FontBackend&#39; settings in &#34;.Xdefaults&#34; or
&#34;.Xresources&#34;, or &#39;font-backend&#39; frame parameter settings in your init
files, may need to be adjusted, as &#39;xft&#39; is no longer a valid backend
when using Cairo.  Use &#39;ftcrhb&#39; if your Emacs was built with HarfBuzz
text shaping support, and &#39;ftcr&#39; otherwise.  You can determine this by
checking &#39;system-configuration-features&#39;.  The &#39;ftcr&#39; backend will
still be available when HarfBuzz is supported, but will not be used by
default.  We strongly recommend building with HarfBuzz support.  &#39;x&#39; is
still a valid backend.</code></pre><p>I’ve been using Cairo for a long time now, and, as far as I can tell, I’ve never had a problem on my Ubuntu installs.</p><pre><code>&#39;configure&#39; now warns about building with libXft support.
libXft is unmaintained, and causes a number of problems with modern
fonts including but not limited to crashes; support for it may be
removed in a future version of Emacs.  Please consider using
Cairo + HarfBuzz instead.</code></pre><p>Yep. If you want ligatures you’ll need this dynamic duo for all of that to work. I don’t honestly know how many people have strong opinions on libXft <em>vs</em> anything else, though.</p><pre><code>&#39;configure&#39; now warns about not using HarfBuzz if using Cairo.
We want to encourage people to use the most modern font features
available, and this is the Cairo graphics library + HarfBuzz for font
shaping, so &#39;configure&#39; now recommends that combination.</code></pre><pre><code>Building without double buffering support.
&#39;configure --with-xdbe=no&#39; can now be used to disable double buffering
at build time.</code></pre><pre><code>The configure option &#39;--without-makeinfo&#39; has been removed.
This was only ever relevant when building from a repository checkout.
This now requires makeinfo, which is part of the texinfo package.</code></pre><pre><code>New configure option &#39;--disable-year2038&#39;.
This causes Emacs to use only 32-bit time_t on platforms that have
both 32- and 64-bit time_t.  This may help when linking Emacs with a
library with an ABI requiring traditional 32-bit time_t.  This option
currently affects only 32-bit ARM and x86 running GNU/Linux with glibc
2.34 and later.  Emacs now defaults to 64-bit time_t on these
platforms.</code></pre><p>The <a href="https://en.wikipedia.org/wiki/Year_2038_problem">Year 2038 problem</a> (though I prefer the term <em>epochalypse</em>) looks rather terrifying.</p><pre><code>Support for building with &#39;-fcheck-pointer-bounds&#39; has been removed.
GCC has withdrawn the &#39;-fcheck-pointer-bounds&#39; option and support for
its implementation has been removed from the Linux kernel.</code></pre><pre><code>The ftx font backend driver has been removed.
It was declared obsolete in Emacs 27.1.</code></pre><pre><code>Emacs no longer supports old OpenBSD systems.
OpenBSD 5.3 and older releases are no longer supported, as they lack
proper pty support that Emacs needs.</code></pre><blockquote><p>Incompatible Editing Changes in Emacs 28.1</p></blockquote><hr/><pre><code>&#39;toggle-truncate-lines&#39; now disables &#39;visual-line-mode&#39;.
This is for symmetry with &#39;visual-line-mode&#39;, which disables
&#39;truncate-lines&#39;.</code></pre><pre><code>&#39;electric-indent-mode&#39; now also indents inside strings and comments.
(This only happens when indentation function also supports this.)

To recover the previous behavior you can use:

  (add-hook &#39;electric-indent-functions
  (lambda (_) (if (nth 8 (syntax-ppss)) &#39;no-indent)))</code></pre><pre><code>The &#39;M-o&#39; (&#39;facemenu-keymap&#39;) global binding has been removed.
To restore the old binding, say something like:

(require &#39;facemenu)
(define-key global-map &#34;\M-o&#34; &#39;facemenu-keymap)
(define-key facemenu-keymap &#34;\es&#34; &#39;center-line)
(define-key facemenu-keymap &#34;\eS&#34; &#39;center-paragraph)

The last two lines are not strictly necessary if you don&#39;t care about
having those two commands on the &#39;M-o&#39; keymap; see the next section.</code></pre><pre><code>The &#39;M-o M-s&#39; and &#39;M-o M-S&#39; global bindings have been removed.
Use &#39;M-x center-line&#39; and &#39;M-x center-paragraph&#39; instead.  See the
previous section for how to get back the old bindings.  Alternatively,
if you only want these two commands to have the global bindings they
had before, you can add the following to your init file:

(define-key global-map &#34;\M-o\M-s&#34; &#39;center-line)
(define-key global-map &#34;\M-o\M-S&#34; &#39;center-paragraph)</code></pre><pre><code>The &#39;M-o M-o&#39; global binding has been removed.
Use &#39;M-x font-lock-fontify-block&#39; instead, or the new &#39;C-x x f&#39;
command, which updates the syntax highlighting in the current buffer.</code></pre><p>Good riddance. I bind <code>M-o</code> to <code>other-window</code> as it’s easier to type than <code>C-x o</code>.</p><pre><code>The escape sequence &#39;\e[29~&#39; in Xterm is now mapped to &#39;menu&#39;.
Xterm sends this sequence for both &#39;F16&#39; and &#39;Menu&#39; keys
It used to be mapped to &#39;print&#39; but we couldn&#39;t find a terminal
that uses this sequence for any kind of &#39;Print&#39; key.
This makes the Menu key (see https://en.wikipedia.org/wiki/Menu_key)
work for &#39;context-menu-mode&#39; in Xterm.</code></pre><pre><code>New user option &#39;xterm-store-paste-on-kill-ring&#39;.
If non-nil (the default), Emacs pushes pasted text onto the kill ring
(if using an xterm-like terminal that supports bracketed paste).
Setting this to nil inhibits that.</code></pre><pre><code>&#39;vc-print-branch-log&#39; shows the change log from its root directory.
It previously used to use the default directory.</code></pre><pre><code>&#39;project-shell&#39; and &#39;shell&#39; now use &#39;pop-to-buffer-same-window&#39;.
This is to keep the same behavior as Eshell.</code></pre><p>This means Emacs will, where possible, prefer the selected window for <code>M-x shell</code></p><pre><code>In &#39;nroff-mode&#39;, &#39;center-line&#39; is no longer bound to a key.
The original key binding was &#39;M-s&#39;, which interfered with Isearch,
since the latter uses &#39;M-s&#39; as a prefix key of the search prefix map.</code></pre><pre><code>In &#39;f90-mode&#39;, the backslash character (&#39;\&#39;) no longer escapes.
For about a decade, the backslash character has no longer had a
special escape syntax in Fortran F90.  To get the old behavior back,
say something like:

(modify-syntax-entry ?\\ &#34;\\&#34; f90-mode-syntax-table)</code></pre><pre><code>Setting &#39;fill-column&#39; to nil is obsolete.
This undocumented use of &#39;fill-column&#39; is now obsolete.  To disable
auto filling, turn off &#39;auto-fill-mode&#39; instead.

For instance, you could add something like the following to your init
file:

 (add-hook &#39;foo-mode-hook (lambda () (auto-fill-mode -1))</code></pre><blockquote><p>Editing Changes in Emacs 28.1</p></blockquote><hr/><h3 id="input-methods">Input methods</h3><pre><code>Emacs now supports &#34;transient&#34; input methods.
A transient input method is enabled for inserting a single character,
and is then automatically disabled.  &#39;C-x \&#39; temporarily enables the
selected transient input method.  Use &#39;C-u C-x \&#39; to select a
transient input method (which can be different from the input method
enabled by &#39;C-\&#39;).  For example, &#39;C-u C-x \ compose RET&#39; selects the
&#39;compose&#39; input method; then typing &#39;C-x \ 1 2&#39; will insert the
character &#39;½&#39;, and disable the &#39;compose&#39; input method afterwards.
You can use &#39;C-x \&#39; in incremental search to insert a single character
to the search string.</code></pre><p>I’ve talked about <a href="https://masteringemacs.org/article/diacritics-in-emacs">input methods</a> before. If you regularly converse in other languages, or need to insert diacritics or symbols from another language, you should try input methods. Transient input methods are merely a way, now, of inserting just a single character and then have the input method turn itself off again.</p><pre><code>New input method &#39;compose&#39; based on X Multi_key sequences.</code></pre><p>If you use, and have it enabled, you can combine the compose key in X with Emacs’ input methods, if you specifically switch to it. Which is again a cool use-case I hadn’t considered pairing.</p><pre><code>New input method &#39;iso-transl&#39; with the same keys as &#39;C-x 8&#39;.
After selecting it as a transient input method with &#39;C-u C-x \
iso-transl RET&#39;, it supports the same key sequences as &#39;C-x 8&#39;,
so e.g. like &#39;C-x 8 [&#39; inserts a left single quotation mark,
&#39;C-x \ [&#39; does the same.</code></pre><p>Most common symbols you’d infrequently want to use are found in <code>C-x 8</code>. Check it out (see article above) for more info.</p><pre><code>New user option &#39;read-char-by-name-sort&#39;.
It defines the sorting order of characters for completion of &#39;C-x 8 RET TAB&#39;
and can be customized to sort them by codepoints instead of character names.
Additionally, you can group characters by Unicode blocks after customizing
&#39;completions-group&#39; and &#39;completions-group-sort&#39;.</code></pre><pre><code>Improved language transliteration in Malayalam input methods.
Added a new Mozhi scheme.  The inapplicable ITRANS scheme is now
deprecated.  Errors in the Inscript method were corrected.</code></pre><pre><code>New input method &#39;cham&#39;.
There&#39;s also a Cham greeting in &#34;etc/HELLO&#34;.</code></pre><pre><code>New input methods for Lakota language orthographies.
Two orthographies are represented here, the Suggested Lakota
Orthography and what is known as the White Hat Orthography.  Input
methods &#39;lakota-slo-prefix&#39;, &#39;lakota-slo-postfix&#39;, and
&#39;lakota-white-hat-postfix&#39; have been added.  There is also a Lakota
greeting in &#34;etc/HELLO&#34;.</code></pre><pre><code>Standalone &#39;M-y&#39; allows interactive selection from previous kills.
&#39;M-y&#39; can now be typed after a command that is not a yank command.
When invoked like that, it prompts in the minibuffer for one of the
previous kills, offering completion and minibuffer-history navigation
through previous kills recorded in the kill ring.  A similar feature
in Isearch can be invoked if you bind &#39;C-s M-y&#39; to the command
&#39;isearch-yank-pop&#39;.  When the user option &#39;yank-from-kill-ring-rotate&#39;
is nil the kill ring is not rotated after &#39;yank-from-kill-ring&#39;.</code></pre><p>This is another top-notch addition that you’d ordinarily need a third-party package (or elisp code) to accomplish easily. If you regularly want to pull things out of your kill ring, out of order, you can; type <code>M-y</code> and you’re shown a list of recent kill ring entries. Picking one of them inserts it into the buffer.</p><pre><code>New user option &#39;word-wrap-by-category&#39;.
When word-wrap is enabled, and this option is non-nil, that allows
Emacs to break lines after more characters than just whitespace
characters.  In particular, this significantly improves word-wrapping
for CJK text mixed with Latin text.</code></pre><pre><code>New command &#39;undo-redo&#39;.
It undoes previous undo commands, but doesn&#39;t record itself as an
undoable command.  It is bound to &#39;C-?&#39; and &#39;C-M-_&#39;, the first binding
works well in graphical mode, and the second one is easy to hit on tty.

For full conventional undo/redo behavior, you can also customize the
user option &#39;undo-no-redo&#39; to t.</code></pre><p>If you ever get confused by undoing the undoes, then try this command instead. I like the default system, and I think it’s worth learning. But if you disagree, this might help you out.</p><pre><code>New commands &#39;copy-matching-lines&#39; and &#39;kill-matching-lines&#39;.
These commands are similar to the command &#39;flush-lines&#39;,
but add the matching lines to the kill ring as a single string,
including the newlines that separate the lines.</code></pre><p>Both <code>M-x flush-lines</code> and <code>M-x keep-lines</code> are hidden super powers; use them to quickly eject or keep lines of text in a buffer that match a regular expression. I use it all the time. Now you can simply kill or copy matches without having to first flush/keep the text and then kill or copy it. Very nice!</p><pre><code>New user option &#39;kill-transform-function&#39;.
This can be used to transform (and suppress) strings from entering the
kill ring.</code></pre><p>I guess if you regularly kill or copy text you could, say, strip annoying timestamp fields and what have you from them.</p><pre><code>&#39;save-interprogram-paste-before-kill&#39; can now be a number.
In that case, it&#39;s interpreted as a limit on the size of the clipboard
data that will be saved to the &#39;kill-ring&#39; prior to killing text: if
the size of the clipboard data is greater than or equal to the limit,
it will not be saved.</code></pre><pre><code>New user option &#39;tab-first-completion&#39;.
If &#39;tab-always-indent&#39; is &#39;complete&#39;, this new user option can be used to
further tweak whether to complete or indent.</code></pre><p>This allows for granular control over how and when TAB should do more than just indent (or complete.). If you like the TAB key to intelligent gauge when you want one or the other, you should give this a try.</p><pre><code>&#39;indent-tabs-mode&#39; is now a global minor mode instead of just a variable.</code></pre><pre><code>New choice &#39;permanent&#39; for &#39;shift-select-mode&#39;.
When the mark was activated by shifted motion keys, non-shifted motion
keys don&#39;t deactivate the mark after customizing &#39;shift-select-mode&#39;
to &#39;permanent&#39;.  Similarly, the active mark will not be deactivated by
typing shifted motion keys.</code></pre><pre><code>The &#34;Edit =&gt; Clear&#34; menu item now obeys a rectangular region.</code></pre><pre><code>New command &#39;revert-buffer-with-fine-grain&#39;.
Revert a buffer trying to be as non-destructive as possible,
preserving markers, properties and overlays.  The new variable
&#39;revert-buffer-with-fine-grain-max-seconds&#39; specifies the maximum
number of seconds that &#39;revert-buffer-with-fine-grain&#39; should spend
trying to be non-destructive, with a default value of 2 seconds.</code></pre><p>Useful if you regularly use <code>M-x auto-revert-tail-mode</code> with highlights and other embedded properties or overlays. If you use <code>M-x compilation-minor-mode</code> you may find it useful also.</p><pre><code>New command &#39;revert-buffer-quick&#39;.
This is bound to &#39;C-x x g&#39; and is like &#39;revert-buffer&#39;, but prompts
less.</code></pre><p>Handy. Though I have had <code>F6</code> bound to this for decades:</p><pre><code>(defun revert-this-buffer ()
  (interactive)
  (revert-buffer nil t t)
  (message (concat &#34;Reverted buffer &#34; (buffer-name))))</code></pre><pre><code>New user option &#39;revert-buffer-quick-short-answers&#39;.
This controls how the new &#39;revert-buffer-quick&#39; (&#39;C-x x g&#39;) command
prompts.  A non-nil value will make it use &#39;y-or-n-p&#39; rather than
&#39;yes-or-no-p&#39;.  Defaults to nil.</code></pre><pre><code>New user option &#39;query-about-changed-file&#39;.
If non-nil (the default), Emacs prompts as before when re-visiting a
file that has changed externally after it was visited the first time.
If nil, Emacs does not prompt, but instead shows the buffer with its
contents before the change, and provides instructions how to revert
the buffer.</code></pre><p>If you modify files Emacs is visiting outside of Emacs, you will see this prompt. If you prefer to do stuff like Git outside of Emacs, you can at least switch Emacs to a mode where it’ll tell you the changes and whether to keep them or not.</p><pre><code>New value &#39;save-some-buffers-root&#39; of &#39;save-some-buffers-default-predicate&#39;.
When using this predicate, only buffers under the current project root
will be considered when saving buffers with &#39;save-some-buffers&#39;.</code></pre><p>One issue with Emacs – despite having had an ever-increasing number of project management tools built in over the last 25 years – is the unfortunate lack of “project awareness” in most parts of Emacs. This is another such example: if you want to compile a project, you’d want to save <em>those</em> files and not a bunch of unrelated files.</p><p>If you use Emacs’s project feature, try it out.</p><pre><code>New user option &#39;save-place-abbreviate-file-names&#39;.
This can simplify sharing the &#39;save-place-file&#39; file across
different hosts.</code></pre><pre><code>New user options &#39;copy-region-blink-delay&#39; and &#39;delete-pair-blink-delay&#39;.
&#39;copy-region-blink-delay&#39; specifies a delay to indicate the region
copied by &#39;kill-ring-save&#39;.  &#39;delete-pair-blink-delay&#39; specifies
a delay to show the paired character to delete.</code></pre><pre><code>&#39;zap-up-to-char&#39; now uses &#39;read-char-from-minibuffer&#39;.
This allows navigating through the history of characters that have
been input.  This is mostly useful for characters that have complex
input methods where inputting the character again may involve many
keystrokes.</code></pre><p><code>M-z</code> calls <code>zap-to-char</code>. This does the same, but up to and excluding the char your pick. I’d never considered that the default reader couldn’t handle complex input methods. So this is a welcome change.</p><pre><code>Input history for &#39;goto-line&#39; can now be made local to every buffer.
In any event, line numbers used with &#39;goto-line&#39; are kept in their own
history list.  This should help make faster the process of finding
line numbers that were previously jumped to.  By default, all buffers
share a single history list.  To make every buffer have its own
history list, customize the user option &#39;goto-line-history-local&#39;.</code></pre><p>I’ve never needed this. In fact I don’t know if I’ve ever really thought about goto line having a history.</p><pre><code>New command &#39;goto-line-relative&#39; for use in a narrowed buffer.
It moves point to the line relative to the accessible portion of the
narrowed buffer.  &#39;M-g M-g&#39; in Info is rebound to this command.
When &#39;widen-automatically&#39; is non-nil, &#39;goto-line&#39; widens the narrowed
buffer to be able to move point to the inaccessible portion.
&#39;goto-line-relative&#39; is bound to &#39;C-x n g&#39;.</code></pre><p>This seems rife for a unified command that jumps relatively when narrowed and absolutely when not.</p><pre><code>&#39;goto-char&#39; prompts for the character position.
When called interactively, &#39;goto-char&#39; now offers the position at
point as the default.</code></pre><p>Mostly of use to elisp hackers I would think.</p><pre><code>Auto-saving via &#39;auto-save-visited-mode&#39; can now be inhibited.
Set the user option &#39;auto-save-visited-mode&#39; buffer-locally to nil to
achieve that.</code></pre><pre><code>New command &#39;kdb-macro-redisplay&#39; to force redisplay in keyboard macros.
This command is bound to &#39;C-x C-k d&#39;.</code></pre><pre><code>&#39;blink-cursor-mode&#39; is now enabled by default regardless of the UI.
It used to be enabled when Emacs is started in GUI mode but not when started
in text mode.  The cursor still only actually blinks in GUI frames.</code></pre><p>I keep forgetting Emacs’s cursor blinks — because I turned it off a long, long time ago.</p><pre><code>&#39;show-paren-mode&#39; is now enabled by default.
To go back to the previous behavior, customize the user option of the
same name to nil.</code></pre><p>Another thing I set and forget. Most of these things bring a lot of benefit to new Emacs users and yet remain obscure enough that you’d only really learn about it by accident.</p><pre><code>New minor mode &#39;show-paren-local-mode&#39;.
It serves as a local counterpart for &#39;show-paren-mode&#39;, allowing you
to toggle it separately in different buffers.  To use it only in
programming modes, for example, add the following to your init file:

(add-hook &#39;prog-mode-hook #&#39;show-paren-local-mode)</code></pre><blockquote><p>Changes in Specialized Modes and Packages in Emacs 28.1</p></blockquote><hr/><h3 id="isearch-and-replace">Isearch and Replace</h3><pre><code>Interactive regular expression search now uses faces for sub-groups.
E.g., &#39;C-M-s foo-\([0-9]+\)&#39; will now use the &#39;isearch-group-1&#39; face
on the part of the regexp that matches the sub-expression &#34;[0-9]+&#34;.
By default, there are two faces for sub-group highlighting, but you
can define more faces whose names are of the form &#39;isearch-group-N&#39;,
where N are successive numbers above 2.

This is controlled by the &#39;search-highlight-submatches&#39; user option.
This feature is available only on terminals that have enough colors to
distinguish between sub-expression highlighting.</code></pre><pre><code>Interactive regular expression replace now uses faces for sub-groups.
Like &#39;search-highlight-submatches&#39;, this is controlled by the new user option
&#39;query-replace-highlight-submatches&#39;.</code></pre><p>That’s pretty cool!</p><pre><code>New key &#39;M-s M-.&#39; starts isearch looking for the thing at point.
This key is bound to the new command &#39;isearch-forward-thing-at-point&#39;.
The new user option &#39;isearch-forward-thing-at-point&#39; defines
a list of symbols to try to get the &#34;thing&#34; at point.  By default,
the first element of the list is &#39;region&#39; that tries to yank
the currently active region to the search string.</code></pre><p>With the thing at point function being customizable, it’s definitely something that would benefit from integration with tree-sitter-like tools that infer context at point. Nice new feature.</p><pre><code>New user option &#39;isearch-wrap-pause&#39; defines how to wrap the search.
There are choices to disable wrapping completely and to wrap immediately.
When wrapping immediately, it consistently handles the numeric arguments
of &#39;C-s&#39; (&#39;isearch-repeat-forward&#39;) and &#39;C-r&#39; (&#39;isearch-repeat-backward&#39;),
continuing with the remaining count after wrapping.</code></pre><p>I like wrapping isearch, but some do not. If you don’t, you can at last disable it.</p><pre><code>New user option &#39;isearch-repeat-on-direction-change&#39;.
When this option is set, direction changes in Isearch move to another
search match, if there is one, instead of moving point to the other
end of the current match.</code></pre><pre><code>New user option &#39;isearch-allow-motion&#39;.
When &#39;isearch-allow-motion&#39; is set, the commands &#39;beginning-of-buffer&#39;,
&#39;end-of-buffer&#39;, &#39;scroll-up-command&#39; and &#39;scroll-down-command&#39;, when
invoked during Isearch, move respectively to the first occurrence of
the current search string in the buffer, the last one, the first one
after the current window, and the last one before the current window.
Additionally, users can change the meaning of other motion commands
during Isearch by using their &#39;isearch-motion&#39; property.  The user
option &#39;isearch-motion-changes-direction&#39; controls whether the
direction of the search changes after a motion command.</code></pre><p>That seems useful. I will have to experiment with this to see if I can fit it into my workflow. As it stands, you have little opportunity to influence isearch beyond up or down, so this is an interesting development.</p><pre><code>New user option &#39;lazy-highlight-no-delay-length&#39;.
Lazy highlighting of matches in Isearch now starts immediately if the
search string is at least this long.  &#39;lazy-highlight-initial-delay&#39;
still applies for shorter search strings, which avoids flicker in the
search buffer due to too many matches being highlighted.</code></pre><p>Mostly of interest to people with slow computers or large collections of text that Emacs may have to highlight.</p><pre><code>The default &#39;search-whitespace-regexp&#39; value has changed.
This used to be &#34;\\s-+&#34;, which meant that it was mode-dependent whether
newlines were included in the whitespace set.  This has now been
changed to only match spaces and tab characters.</code></pre><h3 id="dired">Dired</h3><pre><code>New user option &#39;dired-kill-when-opening-new-dired-buffer&#39;.
If non-nil, Dired will kill the current buffer when selecting a new
directory to display.</code></pre><p>Tired of dired littering your Emacs with dozens of buffers as you navigate through a directory tree? This solves it.</p><pre><code>Behavior change on &#39;dired-do-chmod&#39;.
As a security precaution, Dired&#39;s &#39;M&#39; command no longer follows
symbolic links.  Instead, it changes the symbolic link&#39;s own mode;
this always fails on platforms where such modes are immutable.</code></pre><pre><code>Behavior change on &#39;dired-clean-confirm-killing-deleted-buffers&#39;.
Previously, if &#39;dired-clean-up-buffers-too&#39; was non-nil, and
&#39;dired-clean-confirm-killing-deleted-buffers&#39; was nil, the buffers
wouldn&#39;t be killed.  This combination will now kill the buffers.</code></pre><pre><code>New user option &#39;dired-switches-in-mode-line&#39;.
This user option controls how &#39;ls&#39; switches are displayed in the mode
line, and allows truncating them (to preserve space on the mode line)
or showing them literally, either instead of, or in addition to,
displaying &#34;by name&#34; or &#34;by date&#34; sort order.</code></pre><p>If you’d rather see the underlying <code>ls</code> command Emacs uses to populate your dired buffer.</p><p>And yes, dired is just a <em>literal</em> <code>ls</code> listing (or a builtin facsimile on platforms without <code>ls</code>) with added highlighting and interactivity. Indeed, this is how almost all of these tools work: <code>M-x rgrep</code>, <code>M-x find-name-dired</code>, etc.</p><pre><code>New user option &#39;dired-compress-directory-default-suffix&#39;.
This user option controls the default suffix for compressing a
directory.  If it&#39;s nil, &#34;.tar.gz&#34; will be used.  Refer to
&#39;dired-compress-files-alist&#39; for a list of supported suffixes.</code></pre><pre><code>New user option &#39;dired-compress-file-default-suffix&#39;.
This user option controls the default suffix for compressing files.
If it&#39;s nil, &#34;.gz&#34; will be used.  Refer to &#39;dired-compress-file-alist&#39;
for a list of supported suffixes.</code></pre><p>Handy if you prefer other compression schemes than the default; particularly if you’re on windows, or prefer zip or 7z.</p><pre><code>Broken and circular links are shown with the &#39;dired-broken-symlink&#39; face.</code></pre><p>Super useful!</p><pre><code>&#39;=&#39; (&#39;dired-diff&#39;) will now put all backup files into the &#39;M-n&#39; history.
When using &#39;=&#39; on a file with backup files, the default file to use
for diffing is the newest backup file.  You can now use &#39;M-n&#39; to quickly
select a different backup file instead.</code></pre><p>Most users never use backup files as an archive of changes, but you <em>can</em> do that.</p><pre><code>New user option &#39;dired-maybe-use-globstar&#39;.
If set, enables globstar (recursive globbing) in shells that support
this feature, but have it turned off by default.  This allows producing
directory listings with files matching a wildcard in all the
subdirectories of a given directory.  The new variable
&#39;dired-enable-globstar-in-shell&#39; lists which shells can have globstar
enabled, and how to enable it.</code></pre><pre><code>New user option &#39;dired-copy-dereference&#39;.
If set to non-nil, Dired will dereference symbolic links when copying.
This can be switched off on a per-usage basis by providing
&#39;dired-do-copy&#39; with a &#39;C-u&#39; prefix.</code></pre><pre><code>New user option &#39;dired-do-revert-buffer&#39;.
Non-nil reverts the destination Dired buffer after performing one
of these operations: &#39;dired-do-copy&#39;, &#39;dired-do-rename&#39;,
&#39;dired-do-symlink&#39;, &#39;dired-do-hardlink&#39;.</code></pre><p>Worth enabling, I think. You can use <code>dired-auto-revert-buffer</code> if you want dired to auto revert when it detects <em>any</em> change.</p><pre><code>New user option &#39;dired-mark-region&#39;.
This option affects all Dired commands that mark files.  When non-nil
and the region is active in Transient Mark mode, then Dired commands
operate only on files in the active region.  The values &#39;file&#39; and
&#39;line&#39; of this user option define the details of marking the file at
the end of the region.</code></pre><p>That’s a cool addition.</p><pre><code>State changing VC operations are supported in Dired.
These operations are supported on files and directories via the new
command &#39;dired-vc-next-action&#39;.</code></pre><pre><code>&#39;dired-jump&#39; and &#39;dired-jump-other-window&#39; moved from &#39;dired-x&#39; to &#39;dired&#39;.
The &#39;dired-jump&#39; and &#39;dired-jump-other-window&#39; commands have been
moved from the &#39;dired-x&#39; package to &#39;dired&#39;.  The user option
&#39;dired-bind-jump&#39; no longer has any effect and is now obsolete.
The commands are now bound to &#39;C-x C-j&#39; and &#39;C-x 4 C-j&#39; by default.

To get the old behavior of &#39;dired-bind-jump&#39; back and unbind the above
keys, add the following to your init file:

(global-set-key &#34;\C-x\C-j&#34; nil)
(global-set-key &#34;\C-x4\C-j&#34; nil)</code></pre><p>dired-x is like a utility cupboard of random dired features. Some are quite intrusive; but I never much cared for dired-jump. <code>C-x d</code> already did what jump proposes, albeit by first asking you if you want to open the buffer’s <code>default-directory</code> first.</p><pre><code>&#39;dired-query&#39; now uses &#39;read-char-from-minibuffer&#39;.
Using it instead of &#39;read-char-choice&#39; allows using &#39;C-x o&#39;
to switch to the help window displayed after typing &#39;C-h&#39;.</code></pre><pre><code>Emacs 28.1 comes with Org v9.5.
See the file ORG-NEWS for user-visible changes in Org.</code></pre><p>If you love org, you should probably use its package repository to stay abreast of org mode changes.</p><h3 id="outline">Outline</h3><pre><code>New commands to cycle heading visibility.
Typing &#39;TAB&#39; on a heading line cycles the current section between
&#34;hide all&#34;, &#34;subheadings&#34;, and &#34;show all&#34; states.  Typing &#39;S-TAB&#39;
anywhere in the buffer cycles the whole buffer between &#34;only top-level
headings&#34;, &#34;all headings and subheadings&#34;, and &#34;show all&#34; states.</code></pre><pre><code>New user option &#39;outline-minor-mode-cycle&#39;.
This user option customizes &#39;outline-minor-mode&#39;, with the difference
that &#39;TAB&#39; and &#39;S-TAB&#39; on heading lines cycle heading visibility.
Typing &#39;TAB&#39; on a heading line cycles the current section between
&#34;hide all&#34;, &#34;subheadings&#34;, and &#34;show all&#34; states.  Typing &#39;S-TAB&#39; on a
heading line cycles the whole buffer between &#34;only top-level
headings&#34;, &#34;all headings and subheadings&#34;, and &#34;show all&#34; states.</code></pre><pre><code>New user option &#39;outline-minor-mode-highlight&#39;.
This user option customizes &#39;outline-minor-mode&#39;.  It puts
highlighting on heading lines using standard outline faces.  This
works well only when there are no conflicts with faces used by the
major mode.</code></pre><h3 id="ispell">Ispell</h3><pre><code>&#39;ispell-comments-and-strings&#39; now accepts START and END arguments.
These arguments default to the active region when used interactively.</code></pre><pre><code>New command &#39;ispell-comment-or-string-at-point&#39;.</code></pre><pre><code>New user option &#39;ispell-help-timeout&#39;.
This controls how long the ispell help (on the &#39;?&#39; key) is displayed.</code></pre><h3 id="flyspell-mode">Flyspell mode</h3><pre><code>Corrections and actions menu can be optionally bound to &#39;mouse-3&#39;.
When Flyspell mode highlights a word as misspelled, you can click on
it to display a menu of possible corrections and actions.  You can now
easily bind this menu to &#39;down-mouse-3&#39; (usually the right mouse button)
instead of &#39;mouse-2&#39; (the default) by enabling &#39;context-menu-mode&#39;.</code></pre><p>Like spell check functionality in most word processors</p><pre><code>The current dictionary is now displayed in the minor mode lighter.
Clicking the dictionary name changes the current dictionary.</code></pre><h3 id="package">Package</h3><pre><code>The new NonGNU ELPA archive is enabled by default alongside GNU ELPA.
Thus, packages on NonGNU ELPA will appear by default in the list shown
by &#39;list-packages&#39;.</code></pre><p>This should ease the pressure of getting packages into ELPA due to contribution rules around signing over rights to GNU.</p><pre><code>&#39;/ s&#39; (&#39;package-menu-filter-by-status&#39;) changed parameter handling.
The command was documented to take a comma-separated list of statuses
to filter by, but instead it used the parameter as a regexp.  The
command has been changed so that it now works as documented, and
checks statuses not as a regexp, but instead an exact match from the
comma-separated list.</code></pre><pre><code>New command &#39;package-browse-url&#39; and keystroke &#39;w&#39;.</code></pre><pre><code>New commands to filter the package list.
The filter commands are bound to the following keys:

key             binding
---             -------
/ a             package-menu-filter-by-archive
/ d             package-menu-filter-by-description
/ k             package-menu-filter-by-keyword
/ N             package-menu-filter-by-name-or-description
/ n             package-menu-filter-by-name
/ s             package-menu-filter-by-status
/ v             package-menu-filter-by-version
/ m             package-menu-filter-marked
/ u             package-menu-filter-upgradable
/ /             package-menu-clear-filter</code></pre><p>This is most welcome. I normally use occur or isearch to crudely filter</p><pre><code>Option to automatically native-compile packages upon installation.
Customize the user option &#39;package-native-compile&#39; to enable automatic
native compilation of packages when they are installed.  That option
is nil by default; if set non-nil, and if your Emacs was built with
native-compilation support, each package will be natively compiled
when it is installed, by invoking an asynchronous Emacs subprocess to
run the native-compilation of the package files.  (Be sure to leave
Emacs running until these asynchronous subprocesses exit, or else the
native-compilation will be aborted when you exit Emacs.)</code></pre><pre><code>Column widths in &#39;list-packages&#39; display can now be customized.
See the new user options &#39;package-name-column-width&#39;,
&#39;package-version-column-width&#39;, &#39;package-status-column-width&#39;, and
&#39;package-archive-column-width&#39;.</code></pre><h3 id="info">Info</h3><pre><code>New user option &#39;Info-warn-on-index-alternatives-wrap&#39;.
This option affects what happens when using the &#39;,&#39; command after
looking up an entry with &#39;i&#39; in info buffers.  If non-nil (the
default), the &#39;,&#39; command will now display a warning when proceeding
beyond the final index match, and tapping &#39;,&#39; once more will then take
you to the first match.</code></pre><h3 id="abbrev-mode">Abbrev mode</h3><pre><code>Emacs can now suggest to use an abbrev based on text you type.
A new user option, &#39;abbrev-suggest&#39;, enables the new abbrev suggestion
feature.  When enabled, if a user manually types a piece of text that
could have saved enough typing by using an abbrev, a hint will be
displayed in the echo area, mentioning the abbrev that could have been
used instead.</code></pre><p>Sounds useful in theory, but I find that abbrevs are best used for minor typo corrections rather than complex replacement of sentences. But your mileage may vary.</p><h3 id="bookmarks">Bookmarks</h3><p>Bookmarks are one of those secret sauce features in Emacs. You can bookmark almost everything; remote tramp connection paths; Info locations; files and dired buffers; you name it.</p><pre><code>Bookmarks can now be targets for new tabs.
When the bookmark.el library is loaded, a customize choice is added
to &#39;tab-bar-new-tab-choice&#39; for new tabs to show the bookmark list.</code></pre><pre><code>New user option &#39;bookmark-set-fringe-mark&#39;.
If non-nil, setting a bookmark will set a fringe mark on the current
line, and jumping to a bookmark will also set this mark.</code></pre><pre><code>New user option &#39;bookmark-menu-confirm-deletion&#39;.
In Bookmark Menu mode, Emacs by default does not prompt for
confirmation when you type &#39;x&#39; to execute the deletion of bookmarks
that have been marked for deletion.  However, if this new option is
non-nil then Emacs will require confirmation with &#39;yes-or-no-p&#39; before
deleting.</code></pre><pre><code>The &#39;list-bookmarks&#39; menu is now based on &#39;tabulated-list-mode&#39;.
The interactive bookmark list will now benefit from features in
&#39;tabulated-list-mode&#39; like sorting columns or changing column width.

Support for the optional &#34;inline&#34; header line, allowing for a
header without using &#39;header-line-format&#39;, has been dropped.
The variables &#39;bookmark-bmenu-use-header-line&#39; and
&#39;bookmark-bmenu-inline-header-height&#39; are now obsolete.</code></pre><h3 id="recentf">Recentf</h3><p>I always keep recentf around. It’s useful.</p><pre><code>The recentf files are no longer backed up.</code></pre><pre><code>&#39;recentf-auto-cleanup&#39; now repeats daily when set to a time string.
When &#39;recentf-auto-cleanup&#39; is set to a time string, it now repeats
every day, rather than only running once after the mode is turned on.</code></pre><h3 id="calc">Calc</h3><pre><code>The behavior when doing forward-delete has been changed.
Previously, using the &#39;C-d&#39; command would delete the final number in
the input field, no matter where point was.  This has been changed to
work more traditionally, with &#39;C-d&#39; deleting the next character.
Likewise, point isn&#39;t moved to the end of the string before inserting
digits.</code></pre><pre><code>Setting the word size to zero disables word clipping.
The word size normally clips the results of certain bit-oriented
operations such as shifts and bitwise XOR.  A word size of zero, set
by &#39;b w&#39;, makes the operation have effect on the whole argument values
and the result is not truncated in any way.</code></pre><pre><code>The &#39;/&#39; operator now has higher precedence in (La)TeX input mode.
It no longer has lower precedence than &#39;+&#39; and &#39;-&#39;.</code></pre><pre><code>New user option &#39;calc-make-windows-dedicated&#39;.
When this user option is non-nil, Calc will mark its windows as
dedicated.</code></pre><p>If you use calc a lot, you want this. If you try to switch the buffer in a calc window, it will instead change another window as they are now <em>dedicated</em> to calc.</p><h3 id="calendar">Calendar</h3><pre><code>New user option &#39;calendar-time-zone-style&#39;.
If &#39;numeric&#39;, calendar functions (eg &#39;calendar-sunrise-sunset&#39;) that display
time zones will use a form like &#34;+0100&#34; instead of &#34;CET&#34;.</code></pre><pre><code>New user option &#39;imenu-max-index-time&#39;.
If creating the imenu index takes longer than specified by this
option (default 5 seconds), imenu indexing is stopped.</code></pre><h3 id="ido">Ido</h3><pre><code>Switching on &#39;ido-mode&#39; now also overrides &#39;ffap-file-finder&#39;.</code></pre><pre><code>Killing virtual ido buffers interactively will make them go away.
Previously, killing a virtual ido buffer with &#39;ido-kill-buffer&#39; didn&#39;t
do anything.  This has now been changed, and killing virtual buffers
with that command will remove the buffer from recentf.</code></pre><h3 id="so-long">So Long</h3><p>So long mode is an optional mode that tries to detect when ultra long lines might tank Emacs’s performance.</p><pre><code>New &#39;so-long-predicate&#39; function &#39;so-long-statistics-excessive-p&#39;.
It efficiently detects the presence of a long line anywhere in the
buffer using &#39;buffer-line-statistics&#39; (see above).  This is now the
default predicate (replacing &#39;so-long-detected-long-line-p&#39;).</code></pre><pre><code>Default values &#39;so-long-threshold&#39; and &#39;so-long-max-lines&#39; increased.
The values of these user options have been raised to 10000 bytes and 500
lines respectively, to reduce the likelihood of false-positives when
&#39;global-so-long-mode&#39; is enabled.  The latter value is now only used
by the old predicate, as the new predicate knows the longest line in
the entire buffer.</code></pre><pre><code>&#39;so-long-target-modes&#39; now includes &#39;fundamental-mode&#39; by default.
This means that &#39;global-so-long-mode&#39; will also process files which were
not recognised.  (This only has an effect if &#39;set-auto-mode&#39; chooses
&#39;fundamental-mode&#39;; buffers which are simply in &#39;fundamental-mode&#39; by
default are unaffected.)</code></pre><pre><code>New user options to preserve modes and variables.
The new options &#39;so-long-mode-preserved-minor-modes&#39; and
&#39;so-long-mode-preserved-variables&#39; allow specified mode and variable
states to be maintained if &#39;so-long-mode&#39; replaces the original major
mode.  By default, these new options support &#39;view-mode&#39;.</code></pre><h3 id="grep">Grep</h3><pre><code>New user option &#39;grep-match-regexp&#39; matches grep markers to highlight.
Grep emits SGR ANSI escape sequences to color its output.  The new
user option &#39;grep-match-regexp&#39; holds the regular expression to match
the appropriate markers in order to provide highlighting in the source
buffer.  The user option can be customized to accommodate other
grep-like tools.</code></pre><pre><code>The &#39;lgrep&#39; command now ignores directories.
On systems where the grep command supports it, directories will be
skipped.</code></pre><pre><code>Commands that use &#39;grep-find&#39; now follow symlinks for command-line args.
This is because the default value of &#39;grep-find-template&#39; now includes
the &#39;find&#39; option &#39;-H&#39;.  Commands that use that variable, including
indirectly via a call to &#39;xref-matches-in-directory&#39;, might be
affected.  In particular, there should be no need anymore to ensure
any directory names on the &#39;find&#39; command lines end in a slash.
This change is for better compatibility with old versions of non-GNU
&#39;find&#39;, such as the one used on macOS.</code></pre><pre><code>New utility function &#39;grep-file-at-point&#39;.
This returns the name of the file at point (if any) in &#39;grep-mode&#39;
buffers.</code></pre><h3 id="shell">Shell</h3><pre><code>New command in &#39;shell-mode&#39;: &#39;shell-narrow-to-prompt&#39;.
This is bound to &#39;C-x n d&#39; in &#39;shell-mode&#39; buffers, and narrows to the
command line under point (and any following output).</code></pre><p>Seems vaguely useful. If you want to narrow a buffer to a command prompt and its output, this does just that.</p><pre><code>New user option &#39;shell-has-auto-cd&#39;.
If non-nil, &#39;shell-mode&#39; handles implicit &#34;cd&#34; commands, changing the
directory if the command is a directory.  Useful for shells like &#34;zsh&#34;
that has this feature.</code></pre><h3 id="term-mode">Term mode</h3><pre><code>New user option &#39;term-scroll-snap-to-bottom&#39;.
By default, &#39;term&#39; and &#39;ansi-term&#39; will now recenter the buffer so
that the prompt is on the final line in the window.  Setting this new
user option to nil inhibits this behavior.</code></pre><pre><code>New user option &#39;term-set-terminal-size&#39;.
If non-nil, the &#39;LINES&#39; and &#39;COLUMNS&#39; environment variables will be set
based on the current window size.  In previous versions of Emacs, this
was always done (and that could lead to odd displays when resizing the
window after starting).  This variable defaults to nil.</code></pre><pre><code>&#39;term-mode&#39; now supports &#34;bright&#34; color codes.
&#34;Bright&#34; ANSI color codes are now displayed using the color values
defined in &#39;term-color-bright-*&#39;.  In addition, bold text with regular
ANSI colors can be displayed as &#34;bright&#34; if &#39;ansi-color-bold-is-bright&#39;
is non-nil.</code></pre><h3 id="eshell">Eshell</h3><pre><code>&#39;eshell-hist-ignoredups&#39; can now also be used to mimic &#34;erasedups&#34; in bash.</code></pre><pre><code>Environment variable &#39;INSIDE_EMACS&#39; is now copied to subprocesses.
Its value contains the result of evaluating &#39;(format &#34;%s,eshell&#34;
emacs-version)&#39;.  Other package names, like &#34;tramp&#34;, could also be included.</code></pre><pre><code>Eshell no longer re-initializes its keymap every call.
This allows users to use &#39;(define-key eshell-mode-map ...)&#39; as usual.
Some modules have their own minor mode now to account for these
changes.</code></pre><p>Useful change to bring it more in line with how you’d expect it to work.</p><pre><code>Support for bookmark.el.
The command &#39;bookmark-set&#39; (bound to &#39;C-x r m&#39;) is now supported, and
will create a bookmark that opens the current directory in Eshell.</code></pre><p>Another +1 for bookmarks in Emacs. They’re stellar.</p><h3 id="archive-mode">Archive mode</h3><p>Emacs is able to transparently open and browse a large number of archive formats.</p><pre><code>Archive mode can now parse &#34;.squashfs&#34; files.</code></pre><pre><code>Can now modify members of &#39;ar&#39; archives.</code></pre><pre><code>Display of summaries is unified between backends.</code></pre><pre><code>New user option and command to control displayed columns.
New user option &#39;archive-hidden-columns&#39; and new command
&#39;archive-hideshow-column&#39; let you control which columns are displayed
and which are kept hidden.</code></pre><pre><code>New command bound to &#39;C&#39;: &#39;archive-copy-file&#39;.
This command extracts the file at point and writes its data to a
file.</code></pre><p>Great for pulling out key files from archives that might need. Being able to interact with archives is a rather underrated feature of Emacs.</p><h3 id="browse-url">Browse URL</h3><pre><code>Added support for custom URL handlers.
There is a new variable &#39;browse-url-default-handlers&#39; and a user
option &#39;browse-url-handlers&#39; being alists with &#39;(REGEXP-OR-PREDICATE
. FUNCTION)&#39; entries allowing to define different browsing FUNCTIONs
depending on the URL to be browsed.  The variable is for default
handlers provided by Emacs itself or external packages, the user
option is for the user (and allows for overriding the default
handlers).

Formerly, one could do the same by setting
&#39;browse-url-browser-function&#39; to such an alist.  This usage is still
supported but deprecated.</code></pre><pre><code>Categorization of browsing commands into internal vs. external.
All standard browsing commands such as &#39;browse-url-firefox&#39;,
&#39;browse-url-mail&#39;, or &#39;eww&#39; have been categorized into internal (URL
is browsed in Emacs) or external (an external application is spawned
with the URL).  This is done by adding a &#39;browse-url-browser-kind&#39;
symbol property to the browsing commands.  With a new command
&#39;browse-url-with-browser-kind&#39;, an URL can explicitly be browsed with
either an internal or external browser.</code></pre><p>Good. The old way was a bit inconsistent.</p><pre><code>Support for browsing of remote files.
If a remote file is specified, a local temporary copy of that file is
passed to the browser.</code></pre><pre><code>Support for the conkeror browser is now obsolete.</code></pre><pre><code>Support for the Mosaic browser has been removed.
This support has been obsolete since 25.1.</code></pre><h3 id="completion-list-mode">Completion list mode</h3><pre><code>Improved navigation in the &#34;*Completions*&#34; buffer.
New key bindings have been added to &#39;completion-list-mode&#39;: &#39;n&#39; and
&#39;p&#39; now navigate completions, and &#39;M-g M-c&#39; switches to the
minibuffer and back to the completion list buffer.</code></pre><p>I’ve never considered that people would want to navigate, directly anyway, the completions buffer. With this change, that behavior is officially supported now.</p><pre><code>Profiler
The results displayed by &#39;profiler-report&#39; now have the usage figures
at the left hand side followed by the function name.  This is intended
to make better use of the horizontal space, in particular eliminating
the truncation of function names.  There is no way to get the former
layout back.</code></pre><h3 id="icomplete">Icomplete</h3><pre><code>New user option &#39;icomplete-matches-format&#39;.
This allows controlling the current/total number of matches for the
prompt prefix.</code></pre><pre><code>New minor modes &#39;icomplete-vertical-mode&#39; and &#39;fido-vertical-mode&#39;.
These modes modify Icomplete (&#39;icomplete-mode&#39;) and Fido
(&#39;fido-mode&#39;), to display completion candidates vertically instead of
horizontally.  In Icomplete, completions are rotated and selection
kept at the top.  In Fido, completions scroll like a typical dropdown
widget.  Both these new minor modes will turn on their non-vertical
counterparts first, if they are not on already.</code></pre><p>If you prefer vertical modes, then FIDO, the ‘unofficial’ successor to IDO, now supports it.</p><pre><code>Default value of &#39;icomplete-compute-delay&#39; has been changed to 0.15 s.</code></pre><pre><code>Default value of &#39;icomplete-max-delay-chars&#39; has been changed to 2.</code></pre><pre><code>Reduced blinking while completing the next completions set.
Icomplete doesn&#39;t hide the hint with the previously computed
completions anymore when compute delay is in effect, or the previous
computation has been aborted by input.  Instead it shows the previous
completions until the new ones are ready.</code></pre><pre><code>Change in meaning of &#39;icomplete-show-matches-on-no-input&#39;.
Previously, choosing a different completion with commands like &#39;C-.&#39;
and then hitting &#39;RET&#39; would choose the default completion.  Doing this
will now choose the completion under point instead.  Also when this option
is nil, completions are not shown when the minibuffer reads a file name
with initial input as the default directory.</code></pre><h3 id="windmove">Windmove</h3><p>Windmoves adds directional movement commands so you can change the selected window with left, right, up, or down.</p><pre><code>New user options to customize windmove keybindings.
These options include &#39;windmove-default-keybindings&#39;,
&#39;windmove-display-default-keybindings&#39;,
&#39;windmove-delete-default-keybindings&#39;,
&#39;windmove-swap-states-default-keybindings&#39;.
Also new mode &#39;windmove-mode&#39; enables the customized keybindings.</code></pre><h3 id="occur-mode">Occur mode</h3><p>Occur mode’s awesome. <a href="https://masteringemacs.org/article/searching-buffers-occur-mode">I’ve written about it here</a>.</p><pre><code>New bindings in &#39;occur-mode&#39;.
The command &#39;next-error-no-select&#39; is now bound to &#39;n&#39; and
&#39;previous-error-no-select&#39; is bound to &#39;p&#39;.</code></pre><pre><code>New command &#39;recenter-current-error&#39;.
It is bound to &#39;l&#39; in Occur or compilation buffers, and recenters the
current displayed occurrence/error.</code></pre><p>If you’re scrolling through a big buffer and want to return to the currently selected item, use <code>l</code>. Recenter in general is very useful for this.</p><pre><code>Matches in target buffers are now highlighted as in &#39;compilation-mode&#39;.
The method of highlighting is specified by the user options
&#39;next-error-highlight&#39; and &#39;next-error-highlight-no-select&#39;.</code></pre><pre><code>A fringe arrow in the &#34;*Occur*&#34; buffer indicates the selected match.</code></pre><pre><code>Occur mode may use a different type for &#39;occur-target&#39; property values.
The value was previously always a marker set to the start of the first
match on the line but can now also be a list of &#39;(BEGIN . END)&#39; pairs
of markers delimiting each match on the line.
This is a fully compatible change to the internal &#39;occur-mode&#39;
implementation, and code creating their own &#39;occur-mode&#39; buffers will
work as before.</code></pre><h3 id="emacs-lisp-mode">Emacs Lisp mode</h3><pre><code>The mode-line now indicates whether we&#39;re using lexical or dynamic scoping.</code></pre><pre><code>A space between an open paren and a symbol changes the indentation rule.
The presence of a space between an open paren and a symbol now is
taken as a statement by the programmer that this should be indented
as a data list rather than as a piece of code.</code></pre><h3 id="lisp-mode">Lisp mode</h3><pre><code>New minor mode &#39;cl-font-lock-built-in-mode&#39; for &#39;lisp-mode&#39;.
The mode provides refined highlighting of built-in functions, types,
and variables.</code></pre><pre><code>Lisp mode now uses &#39;common-lisp-indent-function&#39;.
To revert to the previous behavior,
&#39;(setq lisp-indent-function &#39;lisp-indent-function)&#39; from &#39;lisp-mode-hook&#39;.</code></pre><h3 id="change-logs-and-vc">Change Logs and VC</h3><p>Although magit is excellent for Git, the builtin VC mode works with Git and pretty much every other source control system under the sun. With its unified interface, it’s generally a better way of interfacing with VCS. I still prefer <code>C-x v =</code> and <code>C-x v l</code> for quick diffs and log views of the current buffer to Magits’ equivalent.</p><pre><code>&#39;vc-revert-show-diff&#39; now has a third possible value: &#39;kill&#39;.
If this user option is &#39;kill&#39;, then the diff buffer will be killed
after the &#39;vc-revert&#39; action instead of buried.</code></pre><pre><code>More VC commands can be used from non-file buffers.
The relevant commands are those that don&#39;t change the VC state.
The non-file buffers which can use VC commands are those that have
their &#39;default-directory&#39; under VC.</code></pre><pre><code>New face &#39;log-view-commit-body&#39;.
This is used when expanding commit messages from &#39;vc-print-root-log&#39;
and similar commands.</code></pre><pre><code>New faces for &#39;vc-dir&#39; buffers.
Those are: &#39;vc-dir-header&#39;, &#39;vc-dir-header-value&#39;, &#39;vc-dir-directory&#39;,
&#39;vc-dir-file&#39;, &#39;vc-dir-mark-indicator&#39;, &#39;vc-dir-status-warning&#39;,
&#39;vc-dir-status-edited&#39;, &#39;vc-dir-status-up-to-date&#39;,
&#39;vc-dir-status-ignored&#39;.</code></pre><pre><code>The responsible VC backend is now the most specific one.
&#39;vc-responsible-backend&#39; loops over the backends in
&#39;vc-handled-backends&#39; to determine which backend is responsible for a
specific (unregistered) file.  Previously, the first matching backend
was chosen, but now the one with the most specific path is chosen (in
case there&#39;s a directory handled by one backend inside another).</code></pre><pre><code>New command &#39;vc-dir-root&#39; uses the root directory without asking.</code></pre><pre><code>New commands &#39;vc-dir-mark-registered-files&#39; (bound to &#39;* r&#39;) and
&#39;vc-dir-mark-unregistered-files&#39;.</code></pre><pre><code>Support for bookmark.el.
Bookmark locations can refer to VC directory buffers.</code></pre><pre><code>New user option &#39;vc-hg-create-bookmark&#39;.
It controls whether a bookmark or branch will be created when you
invoke &#39;C-u C-x v s&#39; (&#39;vc-create-tag&#39;).</code></pre><pre><code>&#39;vc-hg&#39; now uses &#39;hg summary&#39; to populate extra &#39;vc-dir&#39; headers.</code></pre><pre><code>New user option &#39;vc-git-revision-complete-only-branches&#39;.
If non-nil, only branches and remotes are considered when doing
completion over Git branch names.  The default is nil, which causes
tags to be considered as well.</code></pre><pre><code>New user option &#39;vc-git-log-switches&#39;.
String or list of strings specifying switches for Git log under VC.</code></pre><pre><code>Command &#39;vc-switch-backend&#39; is now obsolete.
If you are still using it with any regularity, please file a bug
report with some details.</code></pre><pre><code>New variable &#39;vc-git-use-literal-pathspecs&#39;.
The Git backend&#39;s function now treat all file names &#34;literally&#34;, where
some of them previously could interpret file names (pathspecs) as
globs when they contain appropriate characters.  Functions can bind
the aforementioned variable to nil locally to avoid this.</code></pre><h3 id="gnus">Gnus</h3><p>GNUS is a lifestyle masquerading as a news- and mail reader.</p><pre><code>New user option &#39;gnus-topic-display-predicate&#39;.
This can be used to inhibit the display of some topics completely.</code></pre><pre><code>nnimap now supports the oauth2.el library.</code></pre><pre><code>New Summary buffer sort options for extra headers.
The extra header sort option (&#39;C-c C-s C-x&#39;) prompts for a header
and fails if no sort function has been defined.  Sorting by
Newsgroups (&#39;C-c C-s C-u&#39;) has been pre-defined.</code></pre><pre><code>The &#39;#&#39; command in the Group and Summary buffer now toggles,
instead of sets, the process mark.</code></pre><pre><code>New user option &#39;gnus-process-mark-toggle&#39;.
If non-nil (the default), the &#39;#&#39; command in the Group and Summary
buffers will toggle, instead of set, the process mark.</code></pre><pre><code>New user option &#39;gnus-registry-register-all&#39;.
If non-nil (the default), create registry entries for all messages.
If nil, don&#39;t automatically create entries, they must be created
manually.</code></pre><pre><code>New user options to customise the summary line specs &#34;%[&#34; and &#34;%]&#34;.
Four new options introduced in customisation group
&#39;gnus-summary-format&#39;.  These are &#39;gnus-sum-opening-bracket&#39;,
&#39;gnus-sum-closing-bracket&#39;, &#39;gnus-sum-opening-bracket-adopted&#39;, and
&#39;gnus-sum-closing-bracket-adopted&#39;.  Their default values are &#34;[&#34;, &#34;]&#34;,
&#34;&lt;&#34;, &#34;&gt;&#34; respectively.  These options control the appearance of &#34;%[&#34;
and &#34;%]&#34; specs in the summary line format.  &#34;%[&#34; will normally display
the value of &#39;gnus-sum-opening-bracket&#39;, but can also be
&#39;gnus-sum-opening-bracket-adopted&#39; for the adopted articles.  &#34;%]&#34; will
normally display the value of &#39;gnus-sum-closing-bracket&#39;, but can also
be &#39;gnus-sum-closing-bracket-adopted&#39; for the adopted articles.</code></pre><pre><code>New user option &#39;gnus-paging-select-next&#39;.
This controls what happens when using commands like &#39;SPC&#39; and &#39;DEL&#39; to
page the current article.  If non-nil (the default), go to the
next/prev article, but if nil, do nothing at the end/start of the article.</code></pre><pre><code>New gnus-search library.
A new unified search syntax which can be used across multiple
supported search engines.  Set &#39;gnus-search-use-parsed-queries&#39; to
non-nil to enable.</code></pre><pre><code>New value for user option &#39;smiley-style&#39;.
Smileys can now be rendered with emojis instead of small images when
using the new &#39;emoji&#39; value in &#39;smiley-style&#39;.</code></pre><pre><code>New user option &#39;gnus-agent-eagerly-store-articles&#39;.
If non-nil (which is the default), the Gnus Agent will store all read
articles in the Agent cache.</code></pre><pre><code>New user option &#39;gnus-global-groups&#39;.
Gnus handles private groups differently from public (i.e., NNTP-like)
groups.  Most importantly, Gnus doesn&#39;t download external images from
mail-like groups.  This can be overridden by putting group names in
&#39;gnus-global-groups&#39;: Any group present in that list will be treated
like a public group.</code></pre><pre><code>New scoring types for the Date header.
You can now score based on the relative age of an article with the new
&#39;&lt;&#39; and &#39;&gt;&#39; date scoring types.</code></pre><pre><code>User-defined scoring is now possible.
The new type is &#39;score-fn&#39;.  More information in the Gnus manual node
&#34;(gnus) Score File Format&#34;.</code></pre><pre><code>New backend &#39;nnselect&#39;.
The newly added &#39;nnselect&#39; backend allows creating groups from an
arbitrary list of articles that may come from multiple groups and
servers.  These groups generally behave like any other group: they may
be ephemeral or persistent, and allow article marking, moving,
deletion, etc.  &#39;nnselect&#39; groups may be created like any other group,
but there are three convenience functions for the common case of
obtaining the list of articles as a result of a search:
&#39;gnus-group-make-search-group&#39; (&#39;G g&#39;) that will prompt for an &#39;nnir&#39;
search query and create a persistent group for that search;
&#39;gnus-group-read-ephemeral-search-group&#39; (&#39;G G&#39;) that will prompt for
an &#39;nnir&#39; search query and create an ephemeral group for that search;
and &#39;gnus-summary-make-group-from-search&#39; (&#39;C-c C-p&#39;) that will create
a persistent group with the search parameters of a current ephemeral
search group.

As part of this addition, the user option &#39;nnir-summary-line-format&#39;
has been removed; its functionality is now available directly in the
&#39;gnus-summary-line-format&#39; specs &#39;%G&#39; and &#39;%g&#39;.  The user option
&#39;gnus-refer-thread-use-nnir&#39; has been renamed to
&#39;gnus-refer-thread-use-search&#39;.</code></pre><pre><code>New user option &#39;gnus-dbus-close-on-sleep&#39;.
On systems with D-Bus support, it is now possible to register a signal
to close all Gnus servers before the system sleeps.</code></pre><pre><code>The key binding of &#39;gnus-summary-search-article-forward&#39; has changed.
This command was previously on &#39;M-s&#39; and shadowed the global &#39;M-s&#39;
search prefix.  The command has now been moved to &#39;M-s M-s&#39;.  (For
consistency, the &#39;M-s M-r&#39; key binding has been added for the
&#39;gnus-summary-search-article-backward&#39; command.)</code></pre><pre><code>The value for &#34;all&#34; in the &#39;large-newsgroup-initial&#39; group parameter has changed.
It was previously nil, which didn&#39;t work, because nil is
indistinguishable from not being present.  The new value for &#34;all&#34; is
the symbol &#39;all&#39;.</code></pre><pre><code>The name of dependent Gnus sessions has changed from &#34;slave&#34; to &#34;child&#34;.
The names of the commands &#39;gnus-slave&#39;, &#39;gnus-slave-no-server&#39; and
&#39;gnus-slave-unplugged&#39; have changed to &#39;gnus-child&#39;,
&#39;gnus-child-no-server&#39; and &#39;gnus-child-unplugged&#39; respectively.</code></pre><pre><code>The &#39;W Q&#39; summary mode command now takes a numerical prefix to
allow adjusting the fill width.</code></pre><pre><code>New variable &#39;mm-inline-font-lock&#39;.
This variable is supposed to be bound by callers to determine whether
inline MIME parts (that support it) are supposed to be font-locked or
not.</code></pre><h3 id="message">Message</h3><p>Message is Emacs’s builtin email writer mode. It’s actually quite nice.</p><pre><code>Respect &#39;message-forward-ignored-headers&#39; more.
Previously, this user option would not be consulted if
&#39;message-forward-show-mml&#39; was nil and forwarding as MIME.</code></pre><pre><code>New user option &#39;message-forward-included-mime-headers&#39;.
This is used when forwarding messages as MIME, but not using MML.</code></pre><pre><code>Message now supports the OpenPGP header.
To generate these headers, add the new function
&#39;message-add-openpgp-header&#39; to &#39;message-send-hook&#39;.  The header will
be generated according to the new &#39;message-openpgp-header&#39; user
option.</code></pre><pre><code>A change to how &#34;Mail-Copies-To: never&#34; is handled.
If a user has specified &#34;Mail-Copies-To: never&#34;, and Message was asked
to do a &#34;wide reply&#34;, some other arbitrary recipient would end up in
the resulting &#34;To&#34; header, while the remaining recipients would be put
in the &#34;Cc&#34; header.  This is somewhat misleading, as it looks like
you&#39;re responding to a specific person in particular.  This has been
changed so that all the recipients are put in the &#34;To&#34; header in these
instances.</code></pre><pre><code>New command to start Emacs in Message mode to send an email.
Emacs can be defined as a handler for the &#34;x-scheme-handler/mailto&#34;
MIME type with the following command: &#34;emacs -f message-mailto %u&#34;.
An &#34;emacs-mail.desktop&#34; file has been included, suitable for
installing in desktop directories like &#34;/usr/share/applications&#34; or
&#34;~/.local/share/applications&#34;.
Clicking on a &#39;mailto:&#39; link in other applications will then open
Emacs with headers filled out according to the link, e.g.
&#34;mailto:larsi@gnus.org?subject=This+is+a+test&#34;.  If you prefer
emacsclient, use &#34;emacsclient -e &#39;(message-mailto &#34;%u&#34;)&#39;&#34;
or &#34;emacsclient-mail.desktop&#34;.</code></pre><pre><code>Change to default value of &#39;message-draft-headers&#39; user option.
The &#39;Date&#39; symbol has been removed from the default value, meaning that
draft or delayed messages will get a date reflecting when the message
was sent.  To restore the original behavior of dating a message
from when it is first saved or delayed, add the symbol &#39;Date&#39; back to
this user option.</code></pre><pre><code>New command to take screenshots.
In Message mode buffers, the &#39;C-c C-p&#39; (&#39;message-insert-screenshot&#39;)
command has been added.  It depends on using an external program to
take the actual screenshot, and defaults to &#34;ImageMagick import&#34;.</code></pre><h3 id="smtpmail">Smtpmail</h3><pre><code>smtpmail now supports using the oauth2.el library.</code></pre><pre><code>New user option &#39;smtpmail-store-queue-variables&#39;.
If non-nil, SMTP variables will be stored together with the queued
messages, and will then be used when sending with command
&#39;smtpmail-send-queued-mail&#39;.</code></pre><pre><code>Allow direct selection of smtp authentication mechanism.
A server entry retrieved by auth-source can request a desired smtp
authentication mechanism by setting a value for the key &#39;smtp-auth&#39;.</code></pre><h3 id="eldoc">ElDoc</h3><p>Eldoc display echo area documentation hints as you navigate a buffer.</p><pre><code>New user option &#39;eldoc-echo-area-display-truncation-message&#39;.
If non-nil (the default), eldoc will display a message saying
something like &#34;(Documentation truncated.  Use `M-x eldoc-doc-buffer&#39;
to see rest)&#34; when a message has been truncated.  If nil, truncated
messages will be marked with just &#34;...&#34; at the end.</code></pre><p>Truncation is not super interesting, but <code>M-x eldoc-doc-buffer</code> <em>is</em>. If you’ve ever struggled to read text output, you can tell Eldoc to also display the whole shebang in its own buffer</p><pre><code>New hook &#39;eldoc-documentation-functions&#39;.
This hook is intended to be used for registering doc string functions.
These functions don&#39;t need to produce the doc string right away, they
may arrange for it to be produced asynchronously.  The results of all
doc string functions are accessible to the user through the user
option &#39;eldoc-documentation-strategy&#39;.</code></pre><p><em>Sorely</em> needed. In today’s world of multiple things fighting to display contextual code hints, eldoc was lagging behind. It was hard to coordinate multiple sources of information and have Eldoc handle it properly. This will go a long way towards making that better.</p><pre><code>New hook &#39;eldoc-display-functions&#39;.
This hook is intended to be used for displaying doc strings.  The
functions receive the doc string composed according to
&#39;eldoc-documentation-strategy&#39; and are tasked with displaying it to
the user.  Examples of such functions would use the echo area, a
separate buffer, or a tooltip.</code></pre><pre><code>New user option &#39;eldoc-documentation-strategy&#39;.
The built-in choices available for this user option let users compose
the results of &#39;eldoc-documentation-functions&#39; in various ways, even
if some of those functions are synchronous and some asynchronous.
The user option replaces &#39;eldoc-documentation-function&#39;, which is now
obsolete.</code></pre><pre><code>&#39;eldoc-echo-area-use-multiline-p&#39; is now handled by ElDoc.
The user option &#39;eldoc-echo-area-use-multiline-p&#39; is now handled
by the ElDoc library itself.  Functions in
&#39;eldoc-documentation-functions&#39; don&#39;t need to worry about consulting
it when producing a doc string.</code></pre><h3 id="tramp">Tramp</h3><p>TRAMP is one of Emacs’s coolest features. Transparently editing remote files – and more; it works with transparently with eshell and bash and dired and compile and … – is a game changer, and it’ll connect to just about anything your computer can connect to.</p><pre><code>New connection method &#34;mtp&#34;.
It allows accessing media devices like cell phones, tablets or
cameras.</code></pre><pre><code>New connection method &#34;sshfs&#34;.
It allows accessing remote files via a file system mounted with
&#39;sshfs&#39;.</code></pre><p>Yet more protocols.</p><pre><code>Tramp supports SSH authentication via a hardware security key now.
This requires at least OpenSSH 8.2, and a FIDO U2F compatible
security key, like yubikey, solokey, or nitrokey.</code></pre><p>Essential if your remote hosts are locked down with 2FA.</p><pre><code>Trashed remote files are moved to the local trash directory.
All remote files that are trashed are moved to the local trash
directory, except remote encrypted files, which are always deleted.</code></pre><pre><code>New command &#39;tramp-crypt-add-directory&#39;.
This command marks a remote directory to contain only encrypted files.
See the &#34;(tramp) Keeping files encrypted&#34; node of the Tramp manual for
details.  This feature is experimental.</code></pre><p>Interesting development… I’ll have to play around with it to see how it works in practice.</p><pre><code>Support of direct asynchronous process invocation.
When Tramp connection property &#34;direct-async-process&#34; is set to
non-nil for a given connection, &#39;make-process&#39; and &#39;start-file-process&#39;
calls are performed directly as in &#34;ssh ... &lt;command&gt;&#34;.  This avoids
initialization performance penalties.  See the &#34;(tramp) Improving
performance of asynchronous remote processes&#34; node of the Tramp manual
for details, and also for a discussion or restrictions.  This feature
is experimental.</code></pre><p>One complaint is the sometimes “poor” performance with TRAMP. I’ve never really found it bad, but others clearly do.</p><pre><code>New user option &#39;tramp-debug-to-file&#39;.
When non-nil, this user option instructs Tramp to mirror the debug
buffer to a file under the &#34;/tmp/&#34; directory.  This is useful, if (in
rare cases) Tramp blocks Emacs, and we need further debug information.</code></pre><pre><code>Tramp supports lock files now.
In order to deactivate this, set user option
&#39;remote-file-name-inhibit-locks&#39; to t.</code></pre><pre><code>Writing sensitive data locally requires confirmation.
Writing auto-save, backup or lock files to the local temporary
directory must be confirmed.  In order to suppress this confirmation,
set user option &#39;tramp-allow-unsafe-temporary-files&#39; to t.</code></pre><pre><code>&#39;make-directory&#39; of a remote directory honors the default file modes.</code></pre><h3 id="gdbmi">GDB/MI</h3><pre><code>New user option &#39;gdb-registers-enable-filter&#39;.
If non-nil, apply a register filter based on
&#39;gdb-registers-filter-pattern-list&#39;.</code></pre><pre><code>gdb-mi can now save and restore window configurations.
Use &#39;gdb-save-window-configuration&#39; to save window configuration to a
file and &#39;gdb-load-window-configuration&#39; to load from a file.  These
commands can also be accessed through the menu bar under &#34;Gud =&gt;
GDB-Windows&#34;.  &#39;gdb-default-window-configuration-file&#39;, when non-nil,
is loaded when GDB starts up.</code></pre><pre><code>gdb-mi can now restore window configuration after quitting.
Set &#39;gdb-restore-window-configuration-after-quit&#39; to non-nil and Emacs
will remember the window configuration before GDB started and restore
it after GDB quits.  A toggle button is also provided under &#34;Gud =&gt;
GDB-Windows&#34; menu item.</code></pre><pre><code>gdb-mi now has a better logic for displaying source buffers.
Now GDB only uses one source window to display source file by default.
Customize &#39;gdb-max-source-window-count&#39; to use more than one window.
Control source file display by &#39;gdb-display-source-buffer-action&#39;.</code></pre><pre><code>The default value of &#39;gdb-mi-decode-strings&#39; is now t.
This means that the default coding-system is now used to decode strings
and source file names from GDB.</code></pre><h3 id="compilation-mode">Compilation mode</h3><p>Despite its name, it’s useful for just about anything that emits structured output, like linters or tools with well-formatted error messages. Compilation mode’s got a million different patterns it recognizes, and it adds hyperlinks to the affected file(s) references in the error messages.</p><p>Try <code>M-x compilation-shell-minor-mode</code> in <code>M-x shell</code> if you want errors highlighted.</p><pre><code>New function &#39;ansi-color-compilation-filter&#39;.
This function is meant to be used in &#39;compilation-filter-hook&#39;.</code></pre><p>Yes, at long last. Lots of work-arounds exist because this filter did not exist.</p><pre><code>New user option &#39;ansi-color-for-compilation-mode&#39;.
This controls what &#39;ansi-color-compilation-filter&#39; does.</code></pre><pre><code>Regexp matching of messages is now case-sensitive by default.
The variable &#39;compilation-error-case-fold-search&#39; can be set for
case-insensitive matching of messages when the old behavior is
required, but the recommended solution is to use a correctly matching
regexp instead.</code></pre><pre><code>New user option &#39;compilation-search-all-directories&#39;.
When doing parallel builds, directories and compilation errors may
arrive in the &#34;*compilation*&#34; buffer out-of-order.  If this option is
non-nil (the default), Emacs will now search backwards in the buffer
for any directory the file with errors may be in.  If nil, this won&#39;t
be done (and this restores how this previously worked).</code></pre><pre><code>Messages from ShellCheck are now recognized.</code></pre><pre><code>Messages from Visual Studio that mention column numbers are now recognized.</code></pre><h3 id="hi-lock-mode">Hi Lock mode</h3><p>Hi-lock is automatic highlighting using file-local variables. Super handy if you want to highlight patterns when you open a file.</p><pre><code>Matching in &#39;hi-lock-mode&#39; can be case-sensitive.
The matching is case-sensitive when a regexp contains upper case
characters and &#39;search-upper-case&#39; is non-nil.  &#39;highlight-phrase&#39;
also uses &#39;search-whitespace-regexp&#39; to substitute spaces in regexp
search.</code></pre><pre><code>The default value of &#39;hi-lock-highlight-range&#39; was enlarged.
The new default value is 2000000 (2 megabytes).</code></pre><h3 id="whitespace-mode">Whitespace mode</h3><p>Great for tracking down pernicious whitespace and tab characters, and everything between. You don’t always need it, but when you do, you’ll be glad it’s there.</p><pre><code>New style &#39;missing-newline-at-eof&#39;.
If present in &#39;whitespace-style&#39; (as it is by default), the final
character in the buffer will be highlighted if the buffer doesn&#39;t end
with a newline.</code></pre><pre><code>The default &#39;whitespace-enable-predicate&#39; predicate has changed.
It used to check elements in the list version of
&#39;whitespace-global-modes&#39; with &#39;eq&#39;, but now uses &#39;derived-mode-p&#39;.</code></pre><h3 id="texinfo">Texinfo</h3><pre><code>New user option &#39;texinfo-texi2dvi-options&#39;.
This is used when invoking &#39;texi2dvi&#39; from &#39;texinfo-tex-buffer&#39;.</code></pre><pre><code>New commands for moving in and between environments.
An &#34;environment&#34; is something that ends with &#39;@end&#39;.  The commands are
&#39;C-c C-c C-f&#39; (next end), &#39;C-c C-c C-b&#39; (previous end),
&#39;C-c C-c C-n&#39; (next start) and &#39;C-c C-c C-p&#39; (previous start), as well
as &#39;C-c .&#39;, which will alternate between the start and the end of the
current environment.</code></pre><h3 id="rmail">Rmail</h3><pre><code>New user option &#39;rmail-re-abbrevs&#39;.
Its default value matches localized abbreviations of the &#34;reply&#34;
prefix on the Subject line in various languages.</code></pre><pre><code>New user option &#39;rmail-show-message-set-modified&#39;.
If set non-nil, showing an unseen message will set the Rmail buffer&#39;s
modified flag.  The default is nil, to preserve the old behavior.</code></pre><h3 id="cc-mode">CC mode</h3><pre><code>Added support for Doxygen documentation style.
&#39;doxygen&#39; is now a valid &#39;c-doc-comment-style&#39; which recognises all
comment styles supported by Doxygen (namely &#39;///&#39;, &#39;//!&#39;, &#39;/** … */&#39;
and &#39;/*! … */&#39;.  &#39;gtkdoc&#39; remains the default for C and C++ modes; to
use &#39;doxygen&#39; by default one might evaluate:

(setq-default c-doc-comment-style
              &#39;((java-mode . javadoc)
                (pike-mode . autodoc)
                (c-mode    . doxygen)
                (c++-mode  . doxygen)))

or use it in a custom &#39;c-style&#39;.</code></pre><p>CC-mode’s really for more than just C. As the example alludes to, it has a role in most C-like languages.</p><pre><code>Added support to line up &#39;?&#39; and &#39;:&#39; of a ternary operator.
The new &#39;c-lineup-ternary-bodies&#39; function can be used as a lineup
function to align question mark and colon which are part of a ternary
operator (&#39;?:&#39;).  For example:

return arg % 2 == 0 ? arg / 2
                    : (3 * arg + 1);

To enable, add it to appropriate entries in &#39;c-offsets-alist&#39;, e.g.:

    (c-set-offset &#39;arglist-cont &#39;(c-lineup-ternary-bodies
                                  c-lineup-gcc-asm-reg))
    (c-set-offset &#39;arglist-cont-nonempty &#39;(c-lineup-ternary-bodies
                                           c-lineup-gcc-asm-reg
                                           c-lineup-arglist))
    (c-set-offset &#39;statement-cont &#39;(c-lineup-ternary-bodies +))</code></pre><p>The C indentation engine’s very flexible and, ah, fiendishly hard to configure.</p><h3 id="images">Images</h3><pre><code>You can explicitly specify base_uri for svg images.
&#39;:base-uri&#39; image property can be used to explicitly specify base_uri
for embedded images into svg.  &#39;:base-uri&#39; is supported for both file
and data svg images.</code></pre><pre><code>&#39;svg-embed-base-uri-image&#39; added to embed images.
&#39;svg-embed-base-uri-image&#39; can be used to embed images located
relatively to &#39;file-name-directory&#39; of the &#39;:base-uri&#39; svg image property.
This works much faster than &#39;svg-embed&#39;.</code></pre><pre><code>New function &#39;image-cache-size&#39;.
This function returns the size of the current image cache, in bytes.</code></pre><pre><code>Animated images stop automatically under high CPU pressure sooner.
Previously, an animated image would stop animating if any single image
took more than two seconds to display.  The new algorithm maintains a
decaying average of delays, and if this number gets too high, the
animation is stopped.</code></pre><pre><code>The &#39;n&#39; and &#39;p&#39; commands (next/previous image) now respect Dired order.
These commands would previously display the next/previous image in
lexicographic order, but will now find the &#34;parent&#34; Dired buffer and
select the next/previous image file according to how the files are
sorted there.  The commands have also been extended to work when the
&#34;parent&#34; buffer is an archive mode (i.e., zip file or the like) or tar
mode buffer.</code></pre><p>Emacs’s image dired support is excellent. I use it frequently.</p><pre><code>&#39;image-converter&#39; is now restricted to formats in &#39;auto-mode-alist&#39;.
When using external image converters, the external program is queried
for what formats it supports.  This list may contain formats that are
problematic in some contexts (like PDFs), so this list is now filtered
based on &#39;auto-mode-alist&#39;.  Only file names that map to &#39;image-mode&#39;
are now supported.</code></pre><pre><code>The background and foreground of images now default to face colors.
When an image doesn&#39;t specify a foreground or background color, Emacs
now uses colors from the face used to draw the surrounding text
instead of the frame&#39;s default colors.

 To load images with the default frame colors use the &#39;:foreground&#39; and
 &#39;:background&#39; image attributes, for example:

     (create-image &#34;filename&#34; nil nil
                   :foreground (face-attribute &#39;default :foreground)
                   :background (face-attribute &#39;default :background))

 This change only affects image types that support foreground and
 background colors or transparency, such as xbm, pbm, svg, png and gif.</code></pre><pre><code>Image smoothing can now be explicitly enabled or disabled.
Smoothing applies a bilinear filter while scaling or rotating an image
to prevent aliasing and other unwanted effects.  The new image
property &#39;:transform-smoothing&#39; can be set to t to force smoothing
and nil to disable smoothing.

The default behavior of smoothing on down-scaling and not smoothing
on up-scaling remains unchanged.</code></pre><pre><code>New user option &#39;image-transform-smoothing&#39;.
This controls whether to use smoothing or not for an image.  Values
include nil (no smoothing), t (do smoothing) or a predicate function
that&#39;s called with the image object and should return nil/t.</code></pre><pre><code>SVG images now support user stylesheets.
The &#39;:css&#39; image attribute can be used to override the default CSS
stylesheet for an image.  The default sets &#39;font-family&#39; and
&#39;font-size&#39; to match the current face, so an image with &#39;height=&#34;1em&#34;&#39;
will match the font size in use where it is embedded.

This feature relies on librsvg 2.48 or above being available.</code></pre><pre><code>Image properties support &#39;em&#39; sizes.
Size image properties, for example &#39;:height&#39;, &#39;:max-height&#39;, etc., can
be given a cons of the form &#39;(SIZE . em)&#39;, where SIZE is an integer or
float which is multiplied by the font size to calculate the image
size, and &#39;em&#39; is a symbol.</code></pre><h3 id="eww">EWW</h3><p>EWW is Emacs’s builtin browser—or rather, the Emacs Web Wowser.</p><pre><code>New user option &#39;eww-use-browse-url&#39;.
This is a regexp that can be set to alter how links are followed in eww.</code></pre><pre><code>New user option &#39;eww-retrieve-command&#39;.
This can be used to download data via an external command.  If nil
(the default), then &#39;url-retrieve&#39; is used.  When &#39;sync&#39;, then
&#39;url-retrieve-synchronously&#39; is used.  A list of strings specifies
an external program with parameters.</code></pre><pre><code>New Emacs command line convenience command.
The &#39;eww-browse&#39; command has been added, which allows you to register
Emacs as a MIME handler for &#34;text/x-uri&#34;, and will call &#39;eww&#39; on the
supplied URL.  Usage example: &#34;emacs -f eww-browse https://gnu.org&#34;.</code></pre><pre><code>&#39;eww-download-directory&#39; will now use the XDG location, if defined.
However, if &#34;~/Downloads/&#34; already exists, that will continue to be
used.</code></pre><pre><code>The command &#39;eww-follow-link&#39; now supports custom &#39;mailto:&#39; handlers.
The function that is invoked when clicking on or otherwise following a
&#39;mailto:&#39; link in an EWW buffer can now be customized.  For more
information, see the related entry about &#39;shr-browse-url&#39; below.</code></pre><pre><code>Support for bookmark.el.
The command &#39;bookmark-set&#39; (bound to &#39;C-x r m&#39;) is now supported, and
will create a bookmark that opens the current URL in EWW.</code></pre><p><em>Finally</em>. EWW bookmarks existed in their own little world, bereft from any benefit of using Emacs’s builtin bookmark system. I am glad that is finally fixed.</p><h3 id="shr">SHR</h3><p>SHR is the backend HTML rendering engine. EWW uses it to render.</p><pre><code>The command &#39;shr-browse-url&#39; now supports custom &#39;mailto:&#39; handlers.
Clicking on or otherwise following a &#39;mailto:&#39; link in an HTML buffer
rendered by SHR previously invoked the command &#39;browse-url-mail&#39;.
This is still the case by default, but if you customize
&#39;browse-url-mailto-function&#39; or &#39;browse-url-handlers&#39; to call some
other function, it will now be called instead of the default.</code></pre><pre><code>New user option &#39;shr-offer-extend-specpdl&#39;.
If this is nil, rendering of HTML that requires enlarging
&#39;max-specpdl-size&#39;, the number of Lisp variable bindings, will be
aborted, and Emacs will not ask you whether to enlarge
&#39;max-specpdl-size&#39; to complete the rendering.  The default is t, which
preserves the original behavior.</code></pre><pre><code>New user option &#39;shr-max-width&#39;.
If this user option is non-nil, and &#39;shr-width&#39; is nil, then SHR will
use the value of &#39;shr-max-width&#39; to limit the width of the rendered
HTML.  The default is 120 characters, so even if you have very wide
frames, HTML text will be rendered more narrowly, which usually leads
to a more readable text.  Customize it to nil to get the previous
behavior of rendering as wide as the &#39;window-width&#39; allows.  If
&#39;shr-width&#39; is non-nil, it overrides this option.</code></pre><pre><code>New faces for heading elements.
Those are &#39;shr-h1&#39;, &#39;shr-h2&#39;, &#39;shr-h3&#39;, &#39;shr-h4&#39;, &#39;shr-h5&#39;, &#39;shr-h6&#39;.</code></pre><p>Good stuff. Being able to override the heading faces is great for EWW’s reader mode.</p><h3 id="project">Project</h3><p>Project is Emacs’s, ah, definitive, I hope, project management solution. It’s good. If you’re using projectile or something else, start switching over; this is the new default target for all other integrations.</p><p>It also has a very nice API that makes it easy to design new project definitions.</p><pre><code>New user option &#39;project-vc-merge-submodules&#39;.</code></pre><pre><code>Project commands now have their own history.
Previously used project directories are now suggested by all commands
that prompt for a project directory.</code></pre><p>Good. Not much to say about it than that!</p><pre><code>New prefix keymap &#39;project-prefix-map&#39;.
Key sequences that invoke project-related commands start with the
prefix &#39;C-x p&#39;.  Type &#39;C-x p C-h&#39; to show the full list.</code></pre><p>Sorely needed and, arguably, should’ve been there from day one.</p><pre><code>New commands &#39;project-dired&#39;, &#39;project-vc-dir&#39;, &#39;project-shell&#39;,
&#39;project-eshell&#39;.  These commands run Dired/VC-Dir and Shell/Eshell in
a project&#39;s root directory, respectively.</code></pre><pre><code>New command &#39;project-compile&#39;.
This command runs compilation in the current project&#39;s root directory.</code></pre><pre><code>New commands &#39;project-shell-command&#39; and &#39;project-async-shell-command&#39;.
These commands run &#39;shell-command&#39; and &#39;async-shell-command&#39; in a
project&#39;s root directory, respectively.</code></pre><p>These are all the sort of commands people switch to project management solutions for.</p><pre><code>New command &#39;project-switch-project&#39;.
This command lets you &#34;switch&#34; to another project and run a project
command chosen from a dispatch menu.</code></pre><p>Very useful. Bound to <code>C-x p p</code>, so it’s quick to type. After picking a project you can follow it up with single-char key (a la magit or dired) like <code>f</code> for find file</p><pre><code>New user option &#39;project-list-file&#39;.
This specifies the file in which to save the list of known projects.</code></pre><pre><code>New command &#39;project-remember-projects-under&#39;.
This command can automatically locate and index projects in a
directory and optionally also its subdirectories, storing them in
&#39;project-list-file&#39;.</code></pre><pre><code>New commands &#39;project-forget-project&#39; and &#39;project-forget-projects-under&#39;.
These commands let you interactively remove entries from the list of projects
in &#39;project-list-file&#39;.</code></pre><pre><code>New command &#39;project-forget-zombie-projects&#39;.
This command detects indexed projects that have since been deleted,
and removes them from the list of known projects in &#39;project-list-file&#39;.</code></pre><p>These all make it much easier to switch between projects, as Emacs tracks the ones you use.</p><pre><code>&#39;project-find-file&#39; now accepts non-existent file names.
This is to allow easy creation of files inside some nested
sub-directory.</code></pre><p>Makes it behave like normal find file. Good.</p><pre><code>&#39;project-find-file&#39; doesn&#39;t use the string at point as default input.
Now it&#39;s only suggested as part of the &#34;future history&#34;, accessible
via &#39;M-n&#39;.</code></pre><pre><code>New command &#39;project-find-dir&#39; runs Dired in a directory inside project.</code></pre><h3 id="xref">Xref</h3><p>Xref’s the unified interface for finding cross-referenced data. Like find definition at point etc. If you used TAGS before, it’s now a backend to xref. LSP and friends plug into it, as does dumb-jump.</p><pre><code>New user options to automatically show the first Xref match.
The new user option &#39;xref-auto-jump-to-first-definition&#39; controls the
behavior of &#39;xref-find-definitions&#39; and its variants, like
&#39;xref-find-definitions-other-window&#39;: if it&#39;s t or &#39;show&#39;, the first
match is automatically displayed; if it&#39;s &#39;move&#39;, point in the
&#34;*xref*&#34; buffer is automatically moved to the first match without
displaying it.
The new user option &#39;xref-auto-jump-to-first-xref&#39; changes the
behavior of Xref commands such as &#39;xref-find-references&#39;,
&#39;xref-find-apropos&#39;, and &#39;project-find-regexp&#39;, which are expected to
display many matches that the user would like to
visit.  &#39;xref-auto-jump-to-first-xref&#39; changes their behavior much in
the same way as &#39;xref-auto-jump-to-first-definition&#39; affects the
&#39;xref-find-definitions*&#39; commands.</code></pre><p>Excellent. I want this behavior, controversial though it is. So I’m happy it’s a switch.</p><pre><code>New user options &#39;xref-search-program&#39; and &#39;xref-search-program-alist&#39;.
So far &#39;grep&#39; and &#39;ripgrep&#39; are supported.  &#39;ripgrep&#39; seems to offer better
performance in certain cases, in particular for case-insensitive
searches.</code></pre><p>I am a big ripgrep fan – combined with dumb-jump especially – and with xref supporting both regular grep and ripgrep, this is a good addition.</p><pre><code>New commands &#39;xref-prev-group&#39; and &#39;xref-next-group&#39;.
These commands are bound respectively to &#39;P&#39; and &#39;N&#39;, and navigate to
the first item of the previous or next group in the &#34;*xref*&#34; buffer.</code></pre><pre><code>New alternative value for &#39;xref-show-definitions-function&#39;:
&#39;xref-show-definitions-completing-read&#39;.</code></pre><pre><code>The two existing alternatives for &#39;xref-show-definitions-function&#39;
have been renamed to have &#34;proper&#34; public names and documented
(&#39;xref-show-definitions-buffer&#39; and
&#39;xref-show-definitions-buffer-at-bottom&#39;).</code></pre><pre><code>New command &#39;xref-quit-and-pop-marker-stack&#39;.
This command is bound to &#39;M-,&#39; in &#34;*xref*&#34; buffers.  This combination
is easy to press semi-accidentally if the user wants to go back in the
middle of choosing the exact definition to go to, and this should do
TRT.</code></pre><p>Oh yes indeed. I fumble both <code>M-.</code> and <code>M-,</code>, and this will at least help a little with that.</p><pre><code>New value &#39;project-relative&#39; for &#39;xref-file-name-display&#39;.
If chosen, file names in &#34;*xref*&#34; buffers will be displayed relative
to the &#39;project-root&#39; of the current project, when available.</code></pre><pre><code>Prefix arg of &#39;xref-goto-xref&#39; quits the &#34;*xref*&#34; buffer.
So typing &#39;C-u RET&#39; in the &#34;*xref*&#34; buffer quits its window
before navigating to the selected location.</code></pre><pre><code>The &#39;TAB&#39; key binding in &#34;*xref*&#34; buffers is obsolete.
Use &#39;C-u RET&#39; instead.  The &#39;TAB&#39; binding in &#34;*xref*&#34; buffers is still
supported, but we plan on removing it in a future version; at that
time, the command &#39;xref-quit-and-goto-xref&#39; will no longer have a key
binding in &#39;xref--xref-buffer-mode-map&#39;.</code></pre><pre><code>New user option &#39;etags-xref-prefer-current-file&#39;.
When non-nil, matches for identifiers in the file visited by the
current buffer will be shown first in the &#34;*xref*&#34; buffer.</code></pre><pre><code>The etags Xref backend now honors &#39;tags-apropos-additional-actions&#39;.
You can customize it to augment the output of &#39;xref-find-apropos&#39;,
like it affected the output of &#39;tags-apropos&#39;, which is obsolete since
Emacs 25.1.</code></pre><h3 id="battery">Battery</h3><pre><code>UPower is now the default battery status backend when available.
UPower support via the function &#39;battery-upower&#39; was added in Emacs
26.1, but was disabled by default.  It is now the default value of
&#39;battery-status-function&#39; when the system provides a UPower D-Bus
service.  The user options &#39;battery-upower-device&#39; and
&#39;battery-upower-subscribe&#39; control which power sources to query and
whether to respond to status change notifications in addition to
polling, respectively.</code></pre><pre><code>A richer syntax can be used to format battery status information.
The user options &#39;battery-mode-line-format&#39; and
&#39;battery-echo-area-format&#39; now support the full formatting syntax of
the function &#39;format-spec&#39; documented under node &#34;(elisp) Custom Format
Strings&#34;.  The new syntax includes specifiers for padding and
truncation, amongst other things.</code></pre><h3 id="bug-reference">Bug Reference</h3><pre><code>Bug reference mode uses auto-setup.
If &#39;bug-reference-mode&#39; or &#39;bug-reference-prog-mode&#39; have been
activated, their respective hook has been run, and both
&#39;bug-reference-bug-regexp&#39; and &#39;bug-reference-url-format&#39; are still
not set, it tries to guess appropriate values for those two variables.
There are three guessing mechanisms so far: based on version control
information of the current buffer&#39;s file, based on
newsgroup/mail-folder name and several news and mail message headers
in Gnus buffers, and based on IRC channel and network in rcirc and ERC
buffers.  All the mechanisms are extensible with custom rules, see the
variables &#39;bug-reference-setup-from-vc-alist&#39;,
&#39;bug-reference-setup-from-mail-alist&#39;, and
&#39;bug-reference-setup-from-irc-alist&#39;.</code></pre><h3 id="html-mode">HTML mode</h3><pre><code>A new skeleton for adding relative URLs has been added.
It&#39;s bound to the &#39;C-c C-c f&#39; keystroke, and prompts for a local file
name.</code></pre><h4 id="widget">Widget</h4><pre><code>&#39;widget-choose&#39; now supports menus in extended format.</code></pre><pre><code>The &#39;editable-list&#39; widget now supports moving items up and down.
You can now move items up and down by deleting and then reinserting
them, using the &#39;DEL&#39; and &#39;INS&#39; buttons respectively.  This is useful
in Custom buffers, for example, to change the order of the elements in
a list.</code></pre><h3 id="diff">Diff</h3><pre><code>New face &#39;diff-changed-unspecified&#39;.
This is used to highlight &#34;changed&#34; lines (those marked with &#39;!&#39;) in
context diffs, when &#39;diff-use-changed-face&#39; is non-nil.</code></pre><pre><code>New &#39;diff-mode&#39; font locking face &#39;diff-error&#39;.
This face is used for error messages from &#39;diff&#39;.</code></pre><pre><code>New command &#39;diff-refresh-hunk&#39;.
This new command (bound to &#39;C-c C-l&#39;) regenerates the current hunk.</code></pre><h3 id="thing-at-point">Thing at point</h3><p>Thing at point is a flexible tool that pulls out information, a <em>thing</em>, at point. It supports a very diverse set of things. It’s used in a staggering number of different contexts.</p><pre><code>New &#39;thing-at-point&#39; target: &#39;existing-filename&#39;.
This is like &#39;filename&#39;, but is a full path, and is nil if the file
doesn&#39;t exist.</code></pre><pre><code>New &#39;thing-at-point&#39; target: &#39;string&#39;.
If point is inside a string, it returns that string.</code></pre><pre><code>New variable &#39;thing-at-point-provider-alist&#39;.
This allows mode-specific alterations to how &#39;thing-at-point&#39; works.</code></pre><pre><code>&#39;thing-at-point&#39; now respects fields.
&#39;thing-at-point&#39; (and all functions that use it, like
&#39;symbol-at-point&#39;) will narrow to the current field (if any) before
trying to identify the thing at point.</code></pre><pre><code>New function &#39;thing-at-mouse&#39;.
This is like &#39;thing-at-point&#39;, but uses the mouse event position instead.</code></pre><h3 id="image-dired">Image Dired</h3><pre><code>New user option &#39;image-dired-thumb-visible-marks&#39;.
If non-nil (the default), use the new face &#39;image-dired-thumb-mark&#39;
for marked images.</code></pre><pre><code>New command &#39;image-dired-delete-marked&#39;.</code></pre><pre><code>&#39;image-dired-mouse-toggle-mark&#39; is now sensitive to the active region.
If the region is active, this command now toggles Dired marks of all
the thumbnails in the region.</code></pre><h3 id="flymake-mode">Flymake mode</h3><p>Flymake’s had a lot of TLC in the last 8-10 years since Flycheck emerged as a much nicer successor to it.</p><pre><code>New command &#39;flymake-show-project-diagnostics&#39;.
This lists all diagnostics for buffers in the currently active
project.  The listing is similar to the one obtained by
&#39;flymake-show-buffer-diagnostics&#39;, but adds a column for the
project-relative file name.  For backends which support it,
&#39;flymake-show-project-diagnostics&#39; also lists diagnostics for files
that have not yet been visited.</code></pre><pre><code>New user options to customize Flymake&#39;s mode-line.
The new user option &#39;flymake-mode-line-format&#39; is a mix of strings and
symbols like &#39;flymake-mode-line-title&#39;, &#39;flymake-mode-line-exception&#39;
and &#39;flymake-mode-line-counters&#39;.  The new user option
&#39;flymake-mode-line-counter-format&#39; is a mix of strings and symbols
like &#39;flymake-mode-line-error-counter&#39;,
&#39;flymake-mode-line-warning-counter&#39; and &#39;flymake-mode-line-note-counter&#39;.</code></pre><h3 id="time">Time</h3><pre><code>&#39;display-time-world&#39; has been renamed to &#39;world-clock&#39;.
&#39;world-clock&#39; creates a buffer with an updating time display using
several time zones.  It is hoped that the new names are more
discoverable.

The following commands have been renamed:

&#39;display-time-world&#39;         to &#39;world-clock&#39;
&#39;display-time-world-mode&#39;    to &#39;world-clock-mode&#39;
&#39;display-time-world-display&#39; to &#39;world-clock-display&#39;
&#39;display-time-world-timer&#39;   to &#39;world-clock-update&#39;

The following user options have been renamed:

&#39;display-time-world-list&#39;         to &#39;world-clock-list&#39;
&#39;display-time-world-time-format&#39;  to &#39;world-clock-time-format&#39;
&#39;display-time-world-buffer-name&#39;  to &#39;world-clock-buffer-name&#39;
&#39;display-time-world-timer-enable&#39; to &#39;world-clock-timer-enable&#39;
&#39;display-time-world-timer-second&#39; to &#39;world-clock-timer-second&#39;

The old names are now obsolete.</code></pre><pre><code>&#39;world-clock-mode&#39; can no longer be turned on interactively.
Use &#39;world-clock&#39; to turn on that mode.</code></pre><h3 id="python-mode">Python mode</h3><pre><code>New user option &#39;python-forward-sexp-function&#39;.
This allows the user easier customization of whether to use block-based
navigation or not.</code></pre><p>Someone decided to break s-exp navigation in Python mode and make it block-based by default. I had to hack this thing to make it behave in a sane manner; I’m glad it’s finally tweakable.</p><pre><code>&#39;python-shell-interpreter&#39; now defaults to python3 on systems with python3.</code></pre><p>Indeed. Python 2’s dead.</p><pre><code>&#39;C-c C-r&#39; can now be used on arbitrary regions.
The command previously extended the start of the region to the start
of the line, but will now actually send the marked region, as
documented.</code></pre><h3 id="ruby-mode">Ruby mode</h3><pre><code>&#39;ruby-use-smie&#39; is declared obsolete.
SMIE is now always enabled and &#39;ruby-use-smie&#39; only controls whether
indentation is done using SMIE or with the old ad-hoc code.</code></pre><pre><code>Indentation has changed when &#39;ruby-align-chained-calls&#39; is non-nil.
This previously used to align subsequent lines with the last sibling,
but it now aligns with the first sibling (which is the preferred style
in Ruby).</code></pre><h3 id="cperl-mode">CPerl mode</h3><pre><code>New face &#39;perl-heredoc&#39;, used for heredoc elements.</code></pre><pre><code>The command &#39;cperl-set-style&#39; offers the new value &#34;PBP&#34;.
This value customizes Emacs to use the style recommended in Damian
Conway&#39;s book &#34;Perl Best Practices&#34; for indentation and formatting
of conditionals.</code></pre><h3 id="perl-mode">Perl mode</h3><pre><code>New face &#39;perl-non-scalar-variable&#39;.
This is used to fontify non-scalar variables.</code></pre><h3 id="octave-mode">Octave mode</h3><pre><code>Line continuations in double-quoted strings now use a backslash.
Typing &#39;C-M-j&#39; (bound to &#39;octave-indent-new-comment-line&#39;) now follows
the behavior introduced in Octave 3.8 of using a backslash as a line
continuation marker within double-quoted strings, and an ellipsis
everywhere else.</code></pre><h3 id="easypg">EasyPG</h3><pre><code>GPG key servers can now be queried for keys with the
&#39;epa-search-keys&#39; command.  Keys can then be added to your
personal key ring.</code></pre><h3 id="etags">Etags</h3><pre><code>Etags now supports the Mercury programming language.
See https://mercurylang.org.</code></pre><pre><code>Etags command line option &#39;--declarations&#39; now has Mercury-specific behavior.
All Mercury declarations are tagged by default.  However, for
compatibility with &#39;etags&#39; support for Prolog, predicates and
functions appearing first in clauses will also be tagged if &#39;etags&#39; is
invoked with the &#39;--declarations&#39; command-line option.</code></pre><h3 id="comint">Comint</h3><pre><code>Support for OSC escape sequences.
Adding the new function &#39;comint-osc-process-output&#39; to
&#39;comint-output-filter-functions&#39; enables the interpretation of OSC
(&#34;Operating System Command&#34;) escape sequences in comint buffers.  By
default, only OSC 8, for hyperlinks, and OSC 7, for directory
tracking, are acted upon.  Adding more entries to
&#39;comint-osc-handlers&#39; allows a customized treatment of further escape
sequences.</code></pre><p>Big change. Directory tracking is, ah, an inexact science in <code>shell</code> and friends. With this, Emacs can use the OSC information, if present in your prompt, to track the actual directory. That’s</p><p>Read the docstring of <code>comint-osc-directory-tracker</code> for an example of what to do, and then update your <code>comint-output-filter-functions</code>:</p><pre><code>(add-hook &#39;comint-output-filter-functions #&#39;comint-osc-process-output)</code></pre><pre><code>&#39;comint-delete-output&#39; can now save deleted text in the kill-ring.
Interactively, &#39;C-u C-c C-o&#39; triggers this new optional behavior.</code></pre><p>There’s two separate commands – one that kills the last output, and one that deletes it – and this simply lets you combine delete and kill into one action.</p><h3 id="ansi-color">ANSI color</h3><pre><code>Colors are now defined by faces.
ANSI SGR codes now have corresponding faces to describe their
appearance, e.g. &#39;ansi-color-bold&#39;.</code></pre><pre><code>Support for &#34;bright&#34; color codes.
&#34;Bright&#34; ANSI color codes are now displayed when applying ANSI color
filters using the color values defined by the faces
&#39;ansi-color-bright-COLOR&#39;.  In addition, bold text with regular ANSI
colors can be displayed as &#34;bright&#34; if &#39;ansi-color-bold-is-bright&#39; is
non-nil.</code></pre><h3 id="erc">ERC</h3><p>The first of Emacs’s two IRC clients.</p><pre><code>Starting with Emacs 28.1 and ERC 5.4, see the ERC-NEWS file for
user-visible changes in ERC.</code></pre><h3 id="xwidget-webkit-mode">Xwidget Webkit mode</h3><p>I’ve never found much favor with xwidget webkit mode. It felt neglected for years and a bit buggy. Indeed, on my boring Ubuntu install, it crashed Emacs when I tried to use it again to test some of the new features. That’s most likely some ABI incompatibilities between Emacs and libwebkitgtk2 — but still.</p><pre><code>New xwidget commands.
&#39;xwidget-webkit-uri&#39; (return the current URL), &#39;xwidget-webkit-title&#39;
(return the current title), and &#39;xwidget-webkit-goto-history&#39; (goto a
point in history).</code></pre><pre><code>Downloading files from xwidget-webkit is now supported.
The new user option &#39;xwidget-webkit-download-dir&#39; says where to download to.</code></pre><pre><code>New command &#39;xwidget-webkit-clone-and-split-below&#39;.
Open a new window below displaying the current URL.</code></pre><pre><code>New command &#39;xwidget-webkit-clone-and-split-right&#39;.
Open a new window to the right displaying the current URL.</code></pre><pre><code>Pixel-based scrolling.
The &#39;xwidget-webkit-scroll-up&#39;, &#39;xwidget-webkit-scroll-down&#39; commands
now supports scrolling arbitrary pixel values.  It now treats the
optional 2nd argument as the pixel values to scroll.</code></pre><pre><code>New commands for scrolling.
The new commands &#39;xwidget-webkit-scroll-up-line&#39;,
&#39;xwidget-webkit-scroll-down-line&#39;, &#39;xwidget-webkit-scroll-forward&#39;,
&#39;xwidget-webkit-scroll-backward&#39; can be used to scroll webkit by the
height of lines or width of chars.</code></pre><pre><code>New user option &#39;xwidget-webkit-bookmark-jump-new-session&#39;.
When non-nil, use a new xwidget webkit session after bookmark jump.
Otherwise, it will use &#39;xwidget-webkit-last-session&#39;.</code></pre><h3 id="checkdoc">Checkdoc</h3><p>Checkdoc’s a linter for elisp code and docstrings.</p><pre><code>No longer warns about command substitutions by default.
Checkdoc used to warn about &#34;too many command substitutions&#34; (as in
&#34;\\[foo-command]&#34;), even if you only used ten of them in a docstring.
On modern machines, you can have hundreds or thousands of command
substitutions before it becomes a performance issue, so this warning
is now disabled by default.  To re-enable this warning, customize the
user option &#39;checkdoc-max-keyref-before-warn&#39;.</code></pre><pre><code>New user option &#39;checkdoc-column-zero-backslash-before-paren&#39;.
Checkdoc warns if there is a left parenthesis in column zero of a
documentation string.  That warning can now be disabled by customizing
this new user option to nil.  This is useful if you don&#39;t expect
your code to be edited with an Emacs older than version 27.1.</code></pre><pre><code>Now checks the prompt format for &#39;yes-or-no-p&#39;.
In addition to verifying the format of the prompt for &#39;y-or-n-p&#39;,
checkdoc will now check the format of &#39;yes-or-no-p&#39;.</code></pre><pre><code>New command &#39;checkdoc-dired&#39;.
This can be used to run checkdoc on files from a Dired buffer.</code></pre><pre><code>No longer checks for &#39;A-&#39; modifiers.
Checkdoc recommends usage of command substitutions (&#34;\\[foo-command]&#34;)
in favor of writing keybindings like &#39;C-c f&#39;.  It now no longer warns
about the &#39;A-&#39; modifier as it is not used very much in practice, and
this warning therefore mostly led to false positives.</code></pre><h3 id="enriched-mode">Enriched mode</h3><pre><code>&#39;C-a&#39; is by default no longer bound to &#39;beginning-of-line-text&#39;.
This is so &#39;C-a&#39; works as in other modes, and in particular holding
Shift while typing &#39;C-a&#39;, i.e. &#39;C-S-a&#39;, will now highlight the text.</code></pre><h3 id="gravatar">Gravatar</h3><pre><code>New user option &#39;gravatar-service&#39; for host to query for gravatars.
Defaults to &#39;gravatar&#39;, with &#39;unicornify&#39; and &#39;libravatar&#39; as options.</code></pre><h3 id="mh-e-mail-handler-for-emacs">MH-E mail handler for Emacs</h3><p>:</p><pre><code>Functions and variables related to handling junk mail have been
renamed to not associate color with sender quality.</code></pre><pre><code>New names for mh-junk interactive functions.
Function &#39;mh-junk-whitelist&#39; is renamed &#39;mh-junk-allowlist&#39;.
Function &#39;mh-junk-blacklist&#39; is renamed &#39;mh-junk-blocklist&#39;.</code></pre><pre><code>New binding for &#39;mh-junk-allowlist&#39;.
The key binding for &#39;mh-junk-allowlist&#39; is changed from &#39;J w&#39; to &#39;J a&#39;.
The old binding is supported but warns that it is obsolete.</code></pre><pre><code>New names for some hooks.
&#39;mh-whitelist-msg-hook&#39; is renamed &#39;mh-allowlist-msg-hook&#39;.
&#39;mh-blacklist-msg-hook&#39; is renamed &#39;mh-blocklist-msg-hook&#39;.</code></pre><pre><code>New names for some user options.
User option &#39;mh-whitelist-preserves-sequences-flag&#39; is renamed
&#39;mh-allowlist-preserves-sequences-flag&#39;.</code></pre><pre><code>New names for some faces.
Face &#39;mh-folder-blacklisted&#39; is renamed &#39;mh-folder-blocklisted&#39;.
Face &#39;mh-folder-whitelisted&#39; is renamed &#39;mh-folder-allowlisted&#39;.</code></pre><h3 id="rcirc">Rcirc</h3><p>The second of Emacs’s two IRC clients.</p><pre><code>rcirc now supports SASL authentication.</code></pre><pre><code>#emacs on Libera.chat has been added to &#39;rcirc-server-alist&#39;.</code></pre><pre><code>rcirc connects asynchronously.</code></pre><pre><code>Integrate formatting into &#39;rcirc-send-string&#39;.
The function now accepts a variable number of arguments.</code></pre><pre><code>Deprecate &#39;rcirc-command&#39; in favor of &#39;rcirc-define-command&#39;.
The new macro handles multiple and optional arguments.</code></pre><pre><code>Add basic IRCv3 support.
This includes support for the capabilities: &#39;server-time&#39;, &#39;batch&#39;,
&#39;message-ids&#39;, &#39;invite-notify&#39;, &#39;multi-prefix&#39; and &#39;standard-replies&#39;.</code></pre><pre><code>Add mouse property support to &#39;rcirc-track-minor-mode&#39;.</code></pre><pre><code>Improve support for IRC markup codes.</code></pre><pre><code>Check &#39;auth-sources&#39; for server passwords.</code></pre><pre><code>Implement repeated reconnection strategy.
See &#39;rcirc-reconnect-attempts&#39;.</code></pre><h3 id="mpc">MPC</h3><pre><code>New command &#39;mpc-goto-playing-song&#39;.
This command, bound to &#39;o&#39; in any &#39;mpc-mode&#39; buffer, moves point to
the currently playing song in the &#34;*MPC-Songs*&#34; buffer.</code></pre><pre><code>New user option &#39;mpc-cover-image-re&#39;.
If non-nil, it is a regexp that should match a valid cover image.</code></pre><h3 id="miscellaneous-1">Miscellaneous</h3><pre><code>&#39;shell-script-mode&#39; now supports &#39;outline-minor-mode&#39;.
The outline headings have lines that start with &#34;###&#34;.</code></pre><p>That’s quite neat. Outline-mode’s the predecessor to org. Indeed, I learnt about org mode when I quickly reached the limits of outline mode. But that was a long time ago, of course.</p><pre><code>fileloop will now skip missing files instead of signalling an error.</code></pre><pre><code>&#39;tabulated-list-mode&#39; can now restore original display order.
Many commands (like &#39;C-x C-b&#39;) are derived from &#39;tabulated-list-mode&#39;,
and that mode allows the user to sort on any column.  There was
previously no easy way to get back to the original displayed order
after sorting, but giving a -1 numerical prefix to the sorting command
will now restore the original order.</code></pre><p>Yeah that’s sorely needed. Tabulated-list-mode is used more and more in various parts of Emacs, so being able to return to the default “magic” sort order is a welcome change.</p><pre><code>&#39;M-left&#39; and &#39;M-right&#39; now move between columns in &#39;tabulated-list-mode&#39;.</code></pre><p>Nice.</p><pre><code>New variable &#39;hl-line-overlay-priority&#39;.
This can be used to change the priority of the hl-line overlays.</code></pre><pre><code>New command &#39;mailcap-view-file&#39;.
This command will open a viewer based on the file type, as determined
by &#34;~/.mailcap&#34; and related files and variables.</code></pre><pre><code>New user option &#39;remember-diary-regexp&#39;.</code></pre><pre><code>New user option &#39;remember-text-format-function&#39;.</code></pre><pre><code>New user option &#39;authinfo-hide-elements&#39;.
This can be set to nil to inhibit hiding passwords in &#34;.authinfo&#34; files.</code></pre><p>I wrote about <a href="https://www.masteringemacs.org/article/keeping-secrets-in-emacs-gnupg-auth-sources">keeping secrets in Emacs with GnuPG</a>.</p><p>A version or two ago they added an overlay that hides the password in the authinfo file when you’re visiting it — that way your coworkers won’t know you use the same password for everything. This merely lets you disable that overlay.</p><pre><code>&#39;hexl-mode&#39; scrolling commands now heed &#39;next-screen-context-lines&#39;.
Previously, &#39;hexl-scroll-down&#39; and &#39;hexl-scroll-up&#39; would scroll
up/down an entire window, but they now work more like the standard
scrolling commands.</code></pre><p>Hexl-mode is Emacs’s hex dump viewer and editor. It’s simple but not to be underestimated.</p><pre><code>New user option &#39;bibtex-unify-case-function&#39;.
This new option allows the user to customize how case is converted
when unifying entries.</code></pre><pre><code>The user option &#39;bibtex-maintain-sorted-entries&#39; now permits
user-defined sorting schemes.</code></pre><pre><code>New user option &#39;reveal-auto-hide&#39;.
If non-nil (the default), revealed text is automatically hidden when
point leaves the text.  If nil, the text is not hidden again.  Instead the
command &#39;reveal-hide-revealed&#39; can be used to hide all the revealed text.</code></pre><p>If you ever work with invisible overlays you can use reveal-mode to reveal them around point. It’s a niche use for sure.</p><pre><code>New user option &#39;ffap-file-name-with-spaces&#39;.
If non-nil, &#39;find-file-at-point&#39; and friends will try to guess more
expansively to identify a file name with spaces.  Default value is
nil.</code></pre><p>FFAP (find file at point) is the default mechanism that attemps to pluck filepaths under point. This flag is obviously intended for Windows users where whitespaced filenames are common.</p><pre><code>Two new commands for centering in &#39;doc-view-mode&#39;.
The new commands &#39;doc-view-center-page-horizontally&#39; (bound to &#39;c h&#39;)
and &#39;doc-view-center-page-vertically&#39; (bound to &#39;c v&#39;) center the page
horizontally and vertically, respectively.</code></pre><p>Doc view is Emacs’s PDF (and more) viewer.</p><pre><code>&#39;tempo-define-template&#39; can now re-assign templates to tags.
Previously, assigning a new template to an already defined tag had no
effect.</code></pre><p>One of several template completion tools that have been in Emacs since the Napoleonic era. Both tempo and skeletons use a s-exp-based mini language to define templates. I find them superior to yasnippet in many ways.</p><pre><code>The width of the buffer-name column in &#39;list-buffers&#39; is now dynamic.
The width now depends on the width of the window, but will never be
wider than the length of the longest buffer name, except that it will
never be narrower than 19 characters.</code></pre><p>That’s nice, but you should use <code>M-x ibuffer</code>.</p><pre><code>New diary sexp &#39;diary-offset&#39;.
It offsets another diary sexp by a number of days.  This is useful
when for example your organization has a committee meeting two days
after every monthly meeting which takes place on the third Thursday,
or if you would like to attend a virtual meeting scheduled in a
different timezone causing a difference in the date.</code></pre><pre><code>The old non-SMIE indentation of &#39;sh-mode&#39; has been removed.</code></pre><pre><code>&#39;mspools-show&#39; is now autoloaded.</code></pre><pre><code>Loading dunnet.el in batch mode doesn&#39;t start the game any more.
Instead you need to do &#34;emacs --batch -f dunnet&#34; to start the game in
batch mode.</code></pre><p>Dunnet’s Emacs builtin text adventure game. <code>M-x dunnet</code>. Though I wonder the turn of events that led to this bug report and its resolution. Rather niche, no?</p><blockquote><p>New Modes and Packages in Emacs 28.1</p></blockquote><hr/><pre><code>New mode &#39;repeat-mode&#39; to allow shorter key sequences.
Type &#39;M-x repeat-mode&#39; to enable this mode.  You can then type
&#39;C-x u u&#39; instead of &#39;C-x u C-x u&#39; to undo many changes, &#39;C-x o o&#39;
instead of &#39;C-x o C-x o&#39; to switch windows, &#39;C-x { { } } ^ ^ v v&#39; to
resize the selected window interactively, &#39;M-g n n p p&#39; to navigate
next-error matches.  Any other key exits this temporarily enabled
transient mode that supports shorter keys, and then after exiting from
this mode, the last typed key uses the default key binding.

The user option &#39;repeat-exit-key&#39; defines an additional key usable to
exit the mode like &#39;isearch-exit&#39; (&#39;RET&#39;).

The user option &#39;repeat-exit-timeout&#39; (default nil, which means
forever) specifies the number of seconds of idle time after which to
break the repetition chain automatically.

When user option &#39;repeat-keep-prefix&#39; is non-nil, the prefix arg of
the previous command is kept.  This can be used to e.g. reverse the
window navigation direction with &#39;C-x o M-- o o&#39; or to set a new step
with &#39;C-x { C-5 { { {&#39;, which will set the window resizing step to 5
columns.

Command &#39;describe-repeat-maps&#39; will display a buffer showing
which commands are repeatable in &#39;repeat-mode&#39;.</code></pre><p>Very neat. Basically Emacs has sooort-of had this for a few versions, but <em>ad hoc</em>. One example is kmacro: <code>C-x e</code> executes the last macro, and pressing <code>e</code> after that repeats it. It’s good that it has a formalized mode now; I look forward to seeing what people do with it.</p><pre><code>New themes &#39;modus-vivendi&#39; and &#39;modus-operandi&#39;.
These themes are designed to conform with the highest standard for
color-contrast accessibility (WCAG AAA).  You can load either of them
using &#39;M-x customize-themes&#39; or &#39;load-theme&#39; from your init file.
Consult the Modus Themes Info manual for more information on the user
options they provide.</code></pre><pre><code>Dictionary mode
This is a mode for searching a RFC 2229 dictionary server.
&#39;dictionary&#39; opens a buffer for starting operations.
&#39;dictionary-search&#39; performs a lookup for a word.  It also supports a
&#39;dictionary-tooltip-mode&#39; which performs a lookup of the word under
the mouse in &#39;dictionary-tooltip-dictionary&#39; (which must be customized
first).</code></pre><p>I did not know there was an RFC for dictionary servers, but I am not surprised. It looks really useful though, and if you don’t host your own server, Emacs’ll ask you to send your request to <code>dict.org</code>. No lie, this is very feature rich.</p><pre><code>Lisp Data mode
The new command &#39;lisp-data-mode&#39; enables a major mode for buffers
composed of Lisp symbolic expressions that do not form a computer
program.  The &#34;.dir-locals.el&#34; file is automatically set to use this
mode, as are other data files produced by Emacs.</code></pre><pre><code>New global mode &#39;global-goto-address-mode&#39;.
This will enable &#39;goto-address-mode&#39; in all buffers.</code></pre><p>I’ve never used it before, but this turns URLs and so on in your buffer into clickable buttons.</p><pre><code>transient.el
This library implements support for powerful keyboard-driven menus.
Such menus can be used as simple visual command dispatchers.  More
complex menus take advantage of infix arguments, which are somewhat
similar to prefix arguments, but are more flexible and discoverable.</code></pre><p>Emacs now ships with the popup key system that powers Magit. I expect that parts of Emacs – project mode interface at least – will adopt it officially. Perhaps VC mode also? Those are the two main areas I can think of.</p><p>Years ago I ripped out the popup system to try and bring it to other parts of Emacs (this was long before it was a standalone package like it is now.) I found it very helpful in dired and <code>M-s</code> in particular.</p><pre><code>hierarchy.el
This library can create, query, navigate and display hierarchical
structures.</code></pre><p>I’ve played around with this quite extensively before, and it’s pretty good, if basic. If you need tree-like structures in a buffer, this is one way to do it. The other way is the tree widget component, and whatever <em>Speedbar</em> uses.</p><pre><code>New major mode for displaying the &#34;etc/AUTHORS&#34; file.
This new &#39;etc-authors-mode&#39; provides font-locking for displaying the
&#34;etc/AUTHORS&#34; file from the Emacs distribution, and not much else.</code></pre><h3 id="json">JSON</h3><pre><code>JSON number parsing is now stricter.
Numbers with a leading plus sign, leading zeros, or a missing integer
component are now rejected by &#39;json-read&#39; and friends.  This makes
them more compliant with the JSON specification and consistent with
the native JSON parsing functions.</code></pre><pre><code>JSON functions support the semantics of RFC 8259.
The JSON functions &#39;json-serialize&#39;, &#39;json-insert&#39;,
&#39;json-parse-string&#39;, and &#39;json-parse-buffer&#39; now implement some of the
semantics of RFC 8259 instead of the earlier RFC 4627.  In particular,
these functions now accept top-level JSON values that are neither
arrays nor objects.</code></pre><pre><code>Some JSON encoding functions are now obsolete.
The functions &#39;json-encode-number&#39;, &#39;json-encode-hash-table&#39;,
&#39;json-encode-key&#39;, and &#39;json-encode-list&#39; are now obsolete.

The first two are kept as aliases of &#39;json-encode&#39;, which should be
used instead.  Uses of &#39;json-encode-list&#39; should be changed to call
one of &#39;json-encode&#39;, &#39;json-encode-alist&#39;, &#39;json-encode-plist&#39;, or
&#39;json-encode-array&#39; instead.</code></pre><pre><code>Native JSON functions now signal an error if libjansson is unavailable.
This affects &#39;json-serialize&#39;, &#39;json-insert&#39;, &#39;json-parse-string&#39;,
and &#39;json-parse-buffer&#39;.  This can happen if Emacs was compiled with
libjansson, but the DLL cannot be found and/or loaded by Emacs at run
time.  Previously, Emacs would display a message and return nil in
these cases.</code></pre><h3 id="edebug-changes">Edebug changes</h3><p>Edebug is Emacs’s builtin elisp debugger.</p><pre><code>&#39;get-edebug-spec&#39; is obsolete, replaced by &#39;edebug-get-spec&#39;.</code></pre><pre><code>The spec operator &#39;:name NAME&#39; is obsolete, use &#39;&amp;name&#39; instead.</code></pre><pre><code>The spec element &#39;function-form&#39; is obsolete, use &#39;form&#39; instead.</code></pre><pre><code>New function &#39;def-edebug-elem-spec&#39; to define Edebug spec elements.
These used to be defined with &#39;def-edebug-spec&#39; thus conflating the
two name spaces, which lead to name collisions.
The use of &#39;def-edebug-spec&#39; to define Edebug spec elements is
declared obsolete.</code></pre><pre><code>The sb-image.el library is now obsolete.
This was a compatibility kludge which is no longer needed.</code></pre><pre><code>Some libraries obsolete since Emacs 23 have been removed:
ledit.el, lmenu.el, lucid.el and old-whitespace.el.</code></pre><pre><code>Some functions and variables obsolete since Emacs 23 have been removed:
&#39;GOLD-map&#39;, &#39;advertised-xscheme-send-previous-expression&#39;,
&#39;allout-init&#39;, &#39;bookmark-jump-noselect&#39;,
&#39;bookmark-read-annotation-text-func&#39;, &#39;buffer-menu-mode-hook&#39;,
&#39;c-forward-into-nomenclature&#39;, &#39;char-coding-system-table&#39;,
&#39;char-valid-p&#39;, &#39;charset-bytes&#39;, &#39;charset-id&#39;, &#39;charset-list&#39;,
&#39;choose-completion-delete-max-match&#39;, &#39;complete-in-turn&#39;,
&#39;completion-base-size&#39;, &#39;completion-common-substring&#39;,
&#39;crm-minibuffer-complete&#39;, &#39;crm-minibuffer-complete-and-exit&#39;,
&#39;crm-minibuffer-completion-help&#39;, &#39;custom-mode&#39;, &#39;custom-mode-hook&#39;,
&#39;define-key-rebound-commands&#39;, &#39;define-mode-overload-implementation&#39;,
&#39;detect-coding-with-priority&#39;, &#39;dirtrack-debug&#39;,
&#39;dirtrack-debug-toggle&#39;, &#39;dynamic-completion-table&#39;,
&#39;easy-menu-precalculate-equivalent-keybindings&#39;,
&#39;epa-display-verify-result&#39;, &#39;epg-passphrase-callback-function&#39;,
&#39;erc-announced-server-name&#39;, &#39;erc-default-coding-system&#39;,
&#39;erc-process&#39;, &#39;erc-send-command&#39;, &#39;eshell-report-bug&#39;,
&#39;eval-next-after-load&#39;, &#39;exchange-dot-and-mark&#39;, &#39;ffap-bug&#39;,
&#39;ffap-submit-bug&#39;, &#39;ffap-version&#39;, &#39;file-cache-mouse-choose-completion&#39;,
&#39;forward-point&#39;, &#39;generic-char-p&#39;, &#39;global-highlight-changes&#39;,
&#39;hi-lock-face-history&#39;, &#39;hi-lock-regexp-history&#39;,
&#39;highlight-changes-active-string&#39;, &#39;highlight-changes-initial-state&#39;,
&#39;highlight-changes-passive-string&#39;,
&#39;icalendar--datetime-to-noneuropean-date&#39;, &#39;image-mode-maybe&#39;,
&#39;imenu-example--name-and-position&#39;, &#39;ispell-aspell-supports-utf8&#39;,
&#39;lisp-mode-auto-fill&#39;, &#39;locate-file-completion&#39;, &#39;make-coding-system&#39;,
&#39;menu-bar-files-menu&#39;, &#39;minibuffer-local-must-match-filename-map&#39;,
&#39;mouse-choose-completion&#39;, &#39;mouse-major-mode-menu&#39;,
&#39;mouse-popup-menubar&#39;, &#39;mouse-popup-menubar-stuff&#39;,
&#39;newsticker-groups-filename&#39;, &#39;nnir-swish-e-index-file&#39;,
&#39;nnmail-fix-eudora-headers&#39;, &#39;non-iso-charset-alist&#39;,
&#39;nonascii-insert-offset&#39;, &#39;nonascii-translation-table&#39;,
&#39;password-read-and-add&#39;, &#39;pre-abbrev-expand-hook&#39;, &#39;princ-list&#39;,
&#39;print-help-return-message&#39;, &#39;process-filter-multibyte-p&#39;,
&#39;read-file-name-predicate&#39;, &#39;remember-buffer&#39;, &#39;rmail-highlight-face&#39;,
&#39;rmail-message-filter&#39;, &#39;semantic-after-idle-scheduler-reparse-hooks&#39;,
&#39;semantic-after-toplevel-bovinate-hook&#39;,
&#39;semantic-before-idle-scheduler-reparse-hooks&#39;,
&#39;semantic-before-toplevel-bovination-hook&#39;,
&#39;semantic-bovinate-from-nonterminal-full&#39;,
&#39;semantic-bovinate-region-until-error&#39;, &#39;semantic-bovinate-toplevel&#39;,
&#39;semantic-bovination-working-type&#39;,
&#39;semantic-decorate-pending-decoration-hooks&#39;,
&#39;semantic-edits-incremental-reparse-failed-hooks&#39;,
&#39;semantic-eldoc-current-symbol-info&#39;, &#39;semantic-expand-nonterminal&#39;,
&#39;semantic-file-token-stream&#39;, &#39;semantic-find-dependency&#39;,
&#39;semantic-find-nonterminal&#39;, &#39;semantic-flex&#39;, &#39;semantic-flex-buffer&#39;,
&#39;semantic-flex-keyword-get&#39;, &#39;semantic-flex-keyword-p&#39;,
&#39;semantic-flex-keyword-put&#39;, &#39;semantic-flex-keywords&#39;,
&#39;semantic-flex-list&#39;, &#39;semantic-flex-make-keyword-table&#39;,
&#39;semantic-flex-map-keywords&#39;, &#39;semantic-flex-token-end&#39;,
&#39;semantic-flex-token-start&#39;, &#39;semantic-flex-token-text&#39;,
&#39;semantic-imenu-bucketize-type-parts&#39;,
&#39;semantic-imenu-expand-type-parts&#39;, &#39;semantic-imenu-expandable-token&#39;,
&#39;semantic-init-db-hooks&#39;, &#39;semantic-init-hooks&#39;,
&#39;semantic-init-mode-hooks&#39;, &#39;semantic-java-prototype-nonterminal&#39;,
&#39;semantic-nonterminal-abstract&#39;, &#39;semantic-nonterminal-full-name&#39;,
&#39;semantic-nonterminal-leaf&#39;, &#39;semantic-nonterminal-protection&#39;,
&#39;semantic-something-to-stream&#39;, &#39;semantic-tag-make-assoc-list&#39;,
&#39;semantic-token-type-parent&#39;, &#39;semantic-toplevel-bovine-cache&#39;,
&#39;semantic-toplevel-bovine-table&#39;, &#39;semanticdb-mode-hooks&#39;,
&#39;set-coding-priority&#39;, &#39;set-process-filter-multibyte&#39;,
&#39;shadows-compare-text-p&#39;, &#39;shell-dirtrack-toggle&#39;,
&#39;speedbar-navigating-speed&#39;, &#39;speedbar-update-speed&#39;, &#39;t-mouse-mode&#39;,
&#39;term-dynamic-simple-complete&#39;, &#39;tooltip-hook&#39;, &#39;tpu-have-ispell&#39;,
&#39;url-generate-unique-filename&#39;, &#39;url-temporary-directory&#39;,
&#39;vc-arch-command&#39;, &#39;vc-default-working-revision&#39; (variable),
&#39;vc-mtn-command&#39;, &#39;vc-revert-buffer&#39;, &#39;vc-workfile-version&#39;,
&#39;vcursor-toggle-vcursor-map&#39;, &#39;w32-focus-frame&#39;, &#39;w32-select-font&#39;,
&#39;wisent-lex-make-token-table&#39;.</code></pre><pre><code>Some functions and variables obsolete since Emacs 22 have been removed:
&#39;erc-current-network&#39;, &#39;gnus-article-hide-pgp-hook&#39;,
&#39;gnus-inews-mark-gcc-as-read&#39;, &#39;gnus-treat-display-xface&#39;,
&#39;gnus-treat-strip-pgp&#39;, &#39;nnmail-spool-file&#39;.</code></pre><pre><code>The obsolete function &#39;thread-alive-p&#39; has been removed.</code></pre><pre><code>The variable &#39;force-new-style-backquotes&#39; has been removed.
This removes the final remaining trace of old-style backquotes.</code></pre><pre><code>Some obsolete variable and function aliases in dbus.el have been removed.
In Emacs 24.3, the variable &#39;dbus-event-error-hooks&#39; was renamed to
&#39;dbus-event-error-functions&#39; and the function
&#39;dbus-call-method-non-blocking&#39; was renamed to &#39;dbus-call-method&#39;.
The old names, which were kept as obsolete aliases of the new names,
have now been removed.</code></pre><pre><code>&#39;find-function-source-path&#39; renamed and re-documented.
The &#39;find-function&#39; command (and various related commands) were
documented to respect &#39;find-function-source-path&#39;, and to search for
objects in files specified by that variable.  It&#39;s unclear when this
actually changed, but at some point (perhaps decades ago) these
commands started using &#39;load-history&#39; to determine where symbols had
been defined (which is much faster).  The doc strings of all the
affected function have been updated.  &#39;find-function-source-path&#39; was
still being used by &#39;find-library&#39; and related commands, so the
user option has been renamed to &#39;find-library-source-path&#39;, and
&#39;find-function-source-path&#39; is now an obsolete variable alias.</code></pre><pre><code>The macro &#39;vc-call&#39; no longer evaluates its second argument twice.</code></pre><pre><code>Xref migrated from EIEIO to &#39;cl-defstruct&#39; for its core objects.
This means that &#39;oref&#39; and &#39;with-slots&#39; no longer works on them, and
&#39;make-instance&#39; can no longer be used to create those instances (which
wasn&#39;t recommended anyway).  Packages should restrict themselves to
using functions like &#39;xref-make&#39;, &#39;xref-make-match&#39;,
&#39;xref-make-*-location&#39;, as well as accessor functions
&#39;xref-item-summary&#39; and &#39;xref-item-location&#39;.

Among the benefits are better performance (noticeable when there are a
lot of matches) and improved flexibility: &#39;xref-match-item&#39; instances
do not require that &#39;location&#39; inherits from &#39;xref-location&#39; anymore
(that class was removed), so packages can create new location types to
use with &#34;match items&#34; without adding EIEIO as a dependency.</code></pre><blockquote><p>Lisp Changes in Emacs 28.1</p></blockquote><hr/><pre><code>The &#39;interactive&#39; syntax has been extended to allow listing applicable modes.
Forms like &#39;(interactive &#34;p&#34; dired-mode)&#39; can be used to annotate the
commands as being applicable for modes derived from &#39;dired-mode&#39;,
or if the mode is a minor mode, when the current buffer has that
minor mode activated.  Note that using this form will create byte code
that is not compatible with byte code in previous Emacs versions.
Also note that by default these annotations have no effect, unless the
new user option &#39;read-extended-command-predicate&#39; option is customized
to call &#39;command-completion-default-include-p&#39; or a similar function.</code></pre><p>This is what mode writers must do to enable <code>M-S-x</code> support that I spoke about much earlier on.</p><pre><code>New &#39;declare&#39; forms to control completion of commands in &#39;M-x&#39;.
&#39;(declare (completion PREDICATE))&#39; can be used as a general predicate
to say whether the command should be considered a completion candidate
when completing with &#39;M-x TAB&#39;.

&#39;(declare (modes MODE...))&#39; can be used as a short-hand way of saying
that the command should be considered a completion candidate when
completing on commands from buffers in major modes derived from
MODE..., or, if it&#39;s a minor mode, when that minor mode is enabled in
the current buffer.

Note that these forms will only have their effect if the
&#39;read-extended-command-predicate&#39; user option is customized to call
&#39;command-completion-default-include-p&#39; or a similar function.  The
default value of &#39;read-extended-command-predicate&#39; is nil, which means
no commands that match what you have typed are excluded from being
completion candidates.</code></pre><pre><code>&#39;define-minor-mode&#39; now takes an &#39;:interactive&#39; argument.
This can be used for specifying which modes this minor mode is meant
for, or to make the new minor mode non-interactive.  The default value
is t.</code></pre><pre><code>&#39;define-derived-mode&#39; now takes an &#39;:interactive&#39; argument.
This can be used to control whether the defined mode is a command
or not, and is useful when defining commands that aren&#39;t meant to be
used by users directly.</code></pre><p>Both are useful. There’s an awful lot of secondary and tertiary minor and major modes that only apply in very specific cases. Being able to at least indicate that is a start.</p><pre><code>&#39;define-globalized-minor-mode&#39; now takes a &#39;:predicate&#39; parameter.
This can be used to control which major modes the minor mode should be
used in.</code></pre><pre><code>&#39;condition-case&#39; now allows for a success handler.
It is written as &#39;(:success BODY...)&#39; where BODY is executed
whenever the protected form terminates without error, with the
specified variable bound to the value of the protected form.</code></pre><pre><code>New function &#39;benchmark-call&#39; to measure the execution time of a function.
Additionally, the number of repetitions can be expressed as a minimal duration
in seconds.</code></pre><pre><code>The value thrown to the &#39;exit&#39; label can now be a function.
This is in addition to values t or nil.  If the value is a function,
the command loop will call it with zero arguments before returning.</code></pre><pre><code>The behavior of &#39;format-spec&#39; is now closer to that of &#39;format&#39;.
In order for the two functions to behave more consistently,
&#39;format-spec&#39; now pads and truncates based on string width rather than
length, and also supports format specifications that include a
truncating precision field, such as &#34;%.2a&#34;.</code></pre><pre><code>&#39;defvar&#39; detects the error of defining a variable currently lexically bound.
Such mixes are always signs that the outer lexical binding was an
error and should have used dynamic binding instead.</code></pre><pre><code>New variable &#39;inhibit-mouse-event-check&#39;.
If bound to non-nil, a command with &#39;(interactive &#34;e&#34;)&#39; doesn&#39;t signal
an error when invoked by input event that is not a mouse click (e.g.,
a key sequence).</code></pre><pre><code>New variable &#39;redisplay-skip-initial-frame&#39; to enable batch redisplay tests.
Setting it to nil forces the redisplay to do its job even in the
initial frame used in batch mode.</code></pre><pre><code>Doc strings can now link to customization groups.
Text like &#34;customization group `whitespace&#39;&#34; will be made into a
button.  When clicked, it will open a Custom buffer displaying that
customization group.</code></pre><p>I am in favor of anything that further connects disparate parts of Emacs’s self-documenting systems together.</p><pre><code>Doc strings can now link to man pages.
Text like &#34;man page `chmod(1)&#39;&#34; will be made into a button.  When
clicked, it will open a Man mode buffer displaying that man page.</code></pre><pre><code>Buffers can now be created with certain hooks disabled.
The functions &#39;get-buffer-create&#39; and &#39;generate-new-buffer&#39; accept a
new optional argument INHIBIT-BUFFER-HOOKS.  If non-nil, the new
buffer does not run the hooks &#39;kill-buffer-hook&#39;,
&#39;kill-buffer-query-functions&#39;, and &#39;buffer-list-update-hook&#39;.  This
avoids slowing down internal or temporary buffers that are never
presented to users or passed on to other applications.</code></pre><p>That seems like a very useful, if understated, change. Buffers with expensive hook calls can now start without them. I’m sure things like flymake, flycheck and lsp/eglot are already optimized to not start right away, but it’s still useful to know that we can now tell Emacs not to run hooks.</p><pre><code>New command &#39;make-directory-autoloads&#39;.
This does the same as the old command &#39;update-directory-autoloads&#39;,
but has different semantics: Instead of passing in the output file via
the dynamically bound &#39;generated-autoload-file&#39; variable, the output
file is now an explicit parameter.</code></pre><pre><code>Dragging a file into Emacs pushes the file name onto &#39;file-name-history&#39;.</code></pre><pre><code>The &#39;easymenu&#39; library is now preloaded.</code></pre><pre><code>The &#39;iso-transl&#39; library is now preloaded.
This means that keystrokes like &#39;Alt-[&#39; are defined by default,
instead of only becoming available after doing (for instance)
&#39;C-x 8 &lt;letter&gt;&#39;.</code></pre><pre><code>&#39;:safe&#39; settings in &#39;defcustom&#39; are now propagated to the loaddefs files.</code></pre><pre><code>New &#39;:type&#39; for &#39;defcustom&#39; for nonnegative integers.
The new &#39;natnum&#39; type can be used for options that should be
nonnegative integers.</code></pre><pre><code>ERT can now output more verbose test failure reports.
If the &#39;EMACS_TEST_VERBOSE&#39; environment variable is set, failure
summaries will include the failing condition.</code></pre><h3 id="byte-compiler-changes">Byte compiler changes</h3><pre><code>New byte-compiler check for missing dynamic variable declarations.
It is meant as an (experimental) aid for converting Emacs Lisp code
to lexical binding, where dynamic (special) variables bound in one
file can affect code in another.  For details, see the Info node
&#34;(elisp) Converting to Lexical Binding&#34;.</code></pre><pre><code>&#39;byte-recompile-directory&#39; can now compile symlinked &#34;*.el&#34; files.
This is achieved by giving a non-nil FOLLOW-SYMLINKS parameter.</code></pre><pre><code>The byte-compiler now warns about too wide documentation strings.
By default, it will warn if a documentation string is wider than the
largest of &#39;byte-compile-docstring-max-column&#39; or &#39;fill-column&#39;
characters.</code></pre><pre><code>&#39;byte-compile-file&#39; optional argument LOAD is now obsolete.
To load the file after byte-compiling, add a call to &#39;load&#39; from Lisp
or use &#39;M-x emacs-lisp-byte-compile-and-load&#39; interactively.</code></pre><h3 id="macroexp">Macroexp</h3><pre><code>New function &#39;macroexp-file-name&#39; to know the name of the current file.</code></pre><pre><code>New function &#39;macroexp-compiling-p&#39; to know if we&#39;re compiling.</code></pre><pre><code>New function &#39;macroexp-warn-and-return&#39; to help emit warnings.
This used to be named &#39;macroexp--warn-and-return&#39; and has proved useful
and well-behaved enough to lose the &#34;internal&#34; marker.</code></pre><h3 id="map.el">map.el</h3><pre><code>Alist keys are now consistently compared with &#39;equal&#39; by default.
Until now, &#39;map-elt&#39; and &#39;map-delete&#39; compared alist keys with &#39;eq&#39; by
default.  They now use &#39;equal&#39; instead, for consistency with
&#39;map-put!&#39; and &#39;map-contains-key&#39;.</code></pre><pre><code>Pcase &#39;map&#39; pattern added keyword symbols abbreviation.
A pattern like &#39;(map :sym)&#39; binds the map&#39;s value for &#39;:sym&#39; to &#39;sym&#39;,
equivalent to &#39;(map (:sym sym))&#39;.</code></pre><pre><code>The function &#39;map-copy&#39; now uses &#39;copy-alist&#39; on alists.
This is a slightly deeper copy than the previous &#39;copy-sequence&#39;.</code></pre><pre><code>The function &#39;map-contains-key&#39; now supports plists.</code></pre><pre><code>More consistent duplicate key handling in &#39;map-merge-with&#39;.
Until now, &#39;map-merge-with&#39; promised to call its function argument
whenever multiple maps contained &#39;eql&#39; keys.  However, this did not
always coincide with the keys that were actually merged, which could
be &#39;equal&#39; instead.  The function argument is now called whenever keys
are merged, for greater consistency with &#39;map-merge&#39; and &#39;map-elt&#39;.</code></pre><h3 id="pcase">Pcase</h3><pre><code>The &#39;or&#39; pattern now binds the union of the vars of its sub-patterns.
If a variable is not bound by the subpattern that matched, it gets bound
to nil.  This was already sometimes the case, but it is now guaranteed.</code></pre><pre><code>The &#39;pred&#39; pattern can now take the form &#39;(pred (not FUN))&#39;.
This is like &#39;(pred (lambda (x) (not (FUN x))))&#39; but results
in better code.</code></pre><pre><code>New function &#39;pcase-compile-patterns&#39; to write other macros.</code></pre><pre><code>Added &#39;cl-type&#39; pattern.
The new &#39;cl-type&#39; pattern compares types using &#39;cl-typep&#39;, which allows
comparing simple types like &#39;(cl-type integer)&#39;, as well as forms like
&#39;(cl-type (integer 0 10))&#39;.</code></pre><pre><code>New macro &#39;pcase-setq&#39;.
This macro is the &#39;setq&#39; equivalent of &#39;pcase-let&#39;, which allows for
destructuring patterns in a &#39;setq&#39; form.</code></pre><p>That seems especially useful! <code>pcase</code> is a powerful pattern matcher in Emacs.</p><h3 id="edebug">Edebug</h3><pre><code>Edebug specification lists can use some new keywords:</code></pre><pre><code>&#39;&amp;interpose SPEC FUN ARGS...&#39; lets FUN control parsing after SPEC.
More specifically, FUN is called with &#39;HEAD PF ARGS...&#39; where
PF is a parsing function that expects a single argument (the specs to
use) and HEAD is the code that matched SPEC.</code></pre><pre><code>&#39;&amp;error MSG&#39; unconditionally aborts the current edebug instrumentation.</code></pre><pre><code>&#39;&amp;name SPEC FUN&#39; extracts the current name from the code matching SPEC.</code></pre><h3 id="dynamic-modules-changes">Dynamic modules changes</h3><pre><code>Type aliases for module functions and finalizers.
The module header &#34;emacs-module.h&#34; now contains type aliases
&#39;emacs_function&#39; and &#39;emacs_finalizer&#39; for module functions and
finalizers, respectively.</code></pre><pre><code>Module functions can now be made interactive.
Use &#39;make_interactive&#39; to give a module function an interactive
specification.</code></pre><pre><code>Module functions can now install an optional finalizer.
The finalizer is called when the function object is garbage-collected.
Use &#39;set_function_finalizer&#39; to set the finalizer and
&#39;get_function_finalizer&#39; to retrieve it.</code></pre><pre><code>Modules can now open a channel to an existing pipe process.
Modules can use the new module function &#39;open_channel&#39; to do that.
On capable systems, modules can use this functionality to
asynchronously send data back to Emacs.</code></pre><pre><code>A new module API &#39;make_unibyte_string&#39;.
It can be used to create Lisp strings with arbitrary byte sequences
(a.k.a. &#34;raw bytes&#34;).</code></pre><h3 id="elisp">ELisp</h3><pre><code>Shorthands for Lisp symbols.
Shorthands are a general purpose namespacing system to make Emacs
Lisp&#39;s symbol-naming etiquette easier to use.  A shorthand is any
symbolic form found in Lisp source that &#34;abbreviates&#34; a symbol&#39;s print
name.  Among other applications, this feature can be used to avoid
name clashes and namespace pollution by renaming an entire file&#39;s
worth of symbols with proper and longer prefixes, without actually
touching the Lisp source.  For details, see the Info node &#34;(elisp)
Shorthands&#34;.</code></pre><p>One way of maybe cleaning up Emacs’s sprawling naming of symbols. The lack of namespacing does hurt Emacs; especially very old things, which are often inconsistently named.</p><pre><code>New function &#39;string-search&#39;.
This function takes two string parameters and returns the position of
the first instance of the former string in the latter.</code></pre><pre><code>New function &#39;string-replace&#39;.
This function works along the line of &#39;replace-regexp-in-string&#39;, but
it matches on fixed strings instead of regexps, and does not change
the global match state.</code></pre><pre><code>New function &#39;ensure-list&#39;.
This function makes a list of its object if it&#39;s not a list already.
If it&#39;s already a list, the list is returned as is.</code></pre><pre><code>New function &#39;split-string-shell-command&#39;.
This splits a shell command string into separate components,
respecting quoting with single (&#39;like this&#39;) and double (&#34;like this&#34;)
quotes, as well as backslash quoting (like\ this).</code></pre><pre><code>New function &#39;string-clean-whitespace&#39;.
This removes whitespace from a string.</code></pre><pre><code>New function &#39;string-fill&#39;.
Word-wrap a string so that no lines are longer that a specific length.</code></pre><pre><code>New function &#39;string-limit&#39;.
Return (up to) a specific substring length.</code></pre><pre><code>New function &#39;string-lines&#39;.
Return a list of strings representing the individual lines in a
string.</code></pre><pre><code>New function &#39;string-pad&#39;.
Pad a string to a specific length.</code></pre><pre><code>New function &#39;string-chop-newline&#39;.
Remove a trailing newline from a string.</code></pre><pre><code>New function &#39;replace-regexp-in-region&#39;.</code></pre><pre><code>New function &#39;replace-string-in-region&#39;.</code></pre><pre><code>New function &#39;file-name-with-extension&#39;.
This function allows a canonical way to set/replace the extension of a
file name.</code></pre><pre><code>New function &#39;file-modes-number-to-symbolic&#39; to convert a numeric
file mode specification into symbolic form.</code></pre><pre><code>New function &#39;file-name-concat&#39;.
This appends file name components to a directory name and returns the
result.</code></pre><pre><code>New function &#39;file-backup-file-names&#39;.
This function returns the list of file names of all the backup files
for the specified file.</code></pre><pre><code>New function &#39;directory-empty-p&#39;.
This predicate tests whether a given file name is an accessible
directory and whether it contains no other directories or files.</code></pre><pre><code>New function &#39;buffer-local-boundp&#39;.
This predicate says whether a symbol is bound in a specific buffer.</code></pre><pre><code>New function &#39;always&#39;.
This is identical to &#39;ignore&#39;, but returns t instead.</code></pre><pre><code>New function &#39;sxhash-equal-including-properties&#39;.
This is identical to &#39;sxhash-equal&#39; but also accounts for string
properties.</code></pre><pre><code>New function &#39;buffer-line-statistics&#39;.
This function returns some statistics about the line lengths in a buffer.</code></pre><pre><code>New function &#39;color-values-from-color-spec&#39;.
This can be used to parse RGB color specs in several formats and
convert them to a list &#39;(R G B)&#39; of primary color values.</code></pre><pre><code>New function &#39;custom-add-choice&#39;.
This function can be used by modes to add elements to the
&#39;choice&#39; customization type of a variable.</code></pre><pre><code>New function &#39;decoded-time-period&#39;.
It interprets a decoded time structure as a period and returns the
equivalent period in seconds.</code></pre><pre><code>New function &#39;dom-print&#39;.</code></pre><pre><code>New function &#39;dom-remove-attribute&#39;.</code></pre><pre><code>New function &#39;dns-query-asynchronous&#39;.
It takes the same parameters as &#39;dns-query&#39;, but adds a callback
parameter.</code></pre><pre><code>New function &#39;garbage-collect-maybe&#39; to trigger GC early.</code></pre><pre><code>New function &#39;get-locale-names&#39;.
This utility function returns a list of names of locales available on
the current system.</code></pre><pre><code>New function &#39;insert-into-buffer&#39;.
This inserts the contents of the current buffer into another buffer.</code></pre><pre><code>New function &#39;json-available-p&#39;.
This predicate returns non-nil if Emacs is built with libjansson
support, and it is available on the current system.</code></pre><pre><code>New function &#39;mail-header-parse-addresses-lax&#39;.
This takes a comma-separated string and returns a list of mail/name
pairs.</code></pre><pre><code>New function &#39;mail-header-parse-address-lax&#39;.
Parse a string as a mail address-like string.</code></pre><pre><code>New function &#39;make-separator-line&#39;.
Make a string appropriate for usage as a visual separator line.</code></pre><pre><code>New function &#39;num-processors&#39;.
Return the number of processors on the system.</code></pre><pre><code>New function &#39;object-intervals&#39;.
This function returns a copy of the list of intervals (i.e., text
properties) in the object in question (which must either be a string
or a buffer).</code></pre><pre><code>New function &#39;process-lines-ignore-status&#39;.
This is like &#39;process-lines&#39;, but does not signal an error if the
return status is non-zero.  &#39;process-lines-handling-status&#39; has also
been added, and takes a callback to handle the return status.</code></pre><pre><code>New function &#39;require-theme&#39;.
This function is like &#39;require&#39;, but searches &#39;custom-theme-load-path&#39;
instead of &#39;load-path&#39;.  It can be used by Custom themes to load
supporting Lisp files when &#39;require&#39; is unsuitable.</code></pre><pre><code>New function &#39;seq-union&#39;.
This function takes two sequences and returns a list of all elements
that appear in either of them, with no two elements that compare equal
appearing in the result.</code></pre><pre><code>New function &#39;syntax-class-to-char&#39;.
This does almost the opposite of &#39;string-to-syntax&#39; -- it returns the
syntax descriptor (a character) given a raw syntax descriptor (an
integer).</code></pre><pre><code>New functions &#39;null-device&#39; and &#39;path-separator&#39;.
These functions return the connection local value of the respective
variables.  This can be used for remote hosts.</code></pre><pre><code>New predicate functions &#39;length&lt;&#39;, &#39;length&gt;&#39; and &#39;length=&#39;.
Using these functions may be more efficient than using &#39;length&#39; (if
the length of a (long) list is being computed just to compare this
length to a number).</code></pre><pre><code>New macro &#39;dlet&#39; to dynamically bind variables.</code></pre><pre><code>New macro &#39;with-existing-directory&#39;.
This macro binds &#39;default-directory&#39; to some other existing directory
if &#39;default-directory&#39; doesn&#39;t exist, and then executes the body forms.</code></pre><pre><code>New variable &#39;current-minibuffer-command&#39;.
This is like &#39;this-command&#39;, but it is bound recursively when entering
the minibuffer.</code></pre><pre><code>New variable &#39;inhibit-interaction&#39; to make user prompts signal an error.
If this is bound to something non-nil, functions like
&#39;read-from-minibuffer&#39;, &#39;read-char&#39; (and related) will signal an
&#39;inhibited-interaction&#39; error.</code></pre><pre><code>New variable &#39;indent-line-ignored-functions&#39;.
This allows modes to cycle through a set of indentation functions
appropriate for those modes.</code></pre><pre><code>New variable &#39;print-integers-as-characters&#39; modifies integer printing.
If this variable is non-nil, character syntax is used for printing
numbers when this makes sense, such as &#39;?A&#39; for 65.</code></pre><pre><code>New variable &#39;tty-menu-calls-mouse-position-function&#39;.
This controls whether &#39;mouse-position-function&#39; is called by functions
that retrieve the mouse position when that happens during TTY menu
handling.  Lisp programs that set &#39;mouse-position-function&#39; should
also set this variable non-nil if they are compatible with the tty
menu handling.</code></pre><pre><code>New variables that hold default buffer names for shell output.
The new constants &#39;shell-command-buffer-name&#39; and
&#39;shell-command-buffer-name-async&#39; store the default buffer names
for the output of, respectively, synchronous and async shell
commands.</code></pre><pre><code>New variables &#39;read-char-choice-use-read-key&#39; and &#39;y-or-n-p-use-read-key&#39;.
When non-nil, then functions &#39;read-char-choice&#39; and &#39;y-or-n-p&#39;
(respectively) use the function &#39;read-key&#39; to read a character instead
of using the minibuffer.</code></pre><pre><code>New variable &#39;global-minor-modes&#39;.
This variable holds a list of currently enabled global minor modes (as
a list of symbols).</code></pre><pre><code>New buffer-local variable &#39;local-minor-modes&#39;.
This permanently buffer-local variable holds a list of currently
enabled non-global minor modes in the current buffer (as a list of
symbols).</code></pre><pre><code>New completion function &#39;affixation-function&#39; to add prefix/suffix.
It accepts a list of completions and should return a list where
each element is a list with three elements: a completion,
a prefix string, and a suffix string.</code></pre><pre><code>New completion function &#39;group-function&#39; for grouping candidates.
It takes two arguments: a completion candidate and a &#39;transform&#39; flag.</code></pre><pre><code>New error symbol &#39;minibuffer-quit&#39;.
Signaling it has almost the same effect as &#39;quit&#39; except that it
doesn&#39;t cause keyboard macro termination.</code></pre><pre><code>New error symbol &#39;remote-file-error&#39;, a subcategory of &#39;file-error&#39;.
It is signaled if a remote file operation fails due to internal
reasons, and could block Emacs.  It does not replace &#39;file-error&#39;
signals for the usual cases.  Timers, process filters and process
functions, which run remote file operations, shall protect themselves
against this error.

If such an error occurs, please report this as bug via &#39;M-x report-emacs-bug&#39;.
Until it is solved you could ignore such errors by performing

(setq debug-ignored-errors
(cons &#39;remote-file-error debug-ignored-errors))</code></pre><pre><code>New macro &#39;named-let&#39;.
It provides Scheme&#39;s &#34;named let&#34; looping construct.</code></pre><pre><code>Emacs now attempts to test for high-rate subprocess output more fairly.
When several subprocesses produce output simultaneously at high rate,
Emacs will now by default attempt to service them all in a round-robin
fashion.  Set the new variable &#39;process-prioritize-lower-fds&#39; to a
non-nil value to get back the old behavior, whereby after reading
from a subprocess, Emacs would check for output of other subprocesses
in a way that is likely to read from the same process again.</code></pre><pre><code>&#39;set-process-buffer&#39; now updates the process mark.
The mark will be set to point to the end of the new buffer.</code></pre><pre><code>&#39;unlock-buffer&#39; displays warnings instead of signaling.
Instead of signaling &#39;file-error&#39; conditions for file system level
errors, the function now calls &#39;display-warning&#39; and continues as if
the error did not occur.</code></pre><pre><code>&#39;read-char-from-minibuffer&#39; and &#39;y-or-n-p&#39; support &#39;help-form&#39;.
If you bind &#39;help-form&#39; to a non-nil value while calling these functions,
then pressing &#39;C-h&#39; (&#39;help-char&#39;) causes the function to evaluate &#39;help-form&#39;
and display the result.</code></pre><pre><code>&#39;read-number&#39; now has its own history variable.
Additionally, the function now accepts an optional HIST argument which
can be used to specify a custom history variable.</code></pre><pre><code>&#39;set-window-configuration&#39; now takes two optional parameters,
DONT-SET-FRAME and DONT-SET-MINIWINDOW.  The first of these, when
non-nil, instructs the function not to select the frame recorded in
the configuration.  The second prevents the current minibuffer being
replaced by the one stored in the configuration.</code></pre><pre><code>&#39;count-windows&#39; now takes an optional parameter ALL-FRAMES.
The semantics are as with &#39;walk-windows&#39;.</code></pre><pre><code>&#39;truncate-string-ellipsis&#39; now uses &#39;…&#39; by default.
Modes that use &#39;truncate-string-to-width&#39; with non-nil, non-string
argument ELLIPSIS, will now indicate truncation using &#39;…&#39; when
the selected frame can display it, and using &#34;...&#34; otherwise.</code></pre><pre><code>&#39;string-width&#39; now accepts two optional arguments FROM and TO.
This allows calculating the width of a substring without consing a
new string.</code></pre><pre><code>&#39;directory-files&#39; now takes an additional COUNT parameter.
The parameter makes &#39;directory-files&#39; return COUNT first file names
from a directory.  If MATCH is also given, the function will return
first COUNT file names that match the expression.  The same COUNT
parameter has been added to &#39;directory-files-and-attributes&#39;.</code></pre><pre><code>&#39;count-lines&#39; can now ignore invisible lines.
This is controlled by the optional parameter IGNORE-INVISIBLE-LINES.</code></pre><pre><code>&#39;count-words&#39; now crosses field boundaries.
Originally, &#39;count-words&#39; would stop counting at the first field
boundary it encountered; now it keeps counting all the way to the
region&#39;s (or buffer&#39;s) end.</code></pre><pre><code>File-related APIs can optionally follow symlinks.
The functions &#39;file-modes&#39;, &#39;set-file-modes&#39;, and &#39;set-file-times&#39; now
have an optional argument specifying whether to follow symbolic links.</code></pre><pre><code>&#39;format-seconds&#39; can now be used for sub-second times.
The new optional &#34;,&#34; parameter has been added, and
&#39;(format-seconds &#34;%mm %,1ss&#34; 66.4)&#39; will now result in &#34;1m 6.4s&#34;.</code></pre><pre><code>&#39;parse-time-string&#39; can now parse ISO 8601 format strings.
These have a format like &#34;2020-01-15T16:12:21-08:00&#34;.</code></pre><pre><code>&#39;lookup-key&#39; is more allowing when searching for extended menu items.
When looking for a menu item &#39;[menu-bar Foo-Bar]&#39;, first try to find
an exact match, then look for the lowercased &#39;[menu-bar foo-bar]&#39;.
It will only try to downcase ASCII characters in the range &#34;A-Z&#34;.
This improves backwards-compatibility when converting menus to use
&#39;easy-menu-define&#39;.</code></pre><pre><code>&#39;make-network-process&#39;, &#39;make-serial-process&#39; &#39;:coding&#39; behavior change.
Previously, passing &#39;:coding nil&#39; to either of these functions would
override any non-nil binding for &#39;coding-system-for-read&#39; and
&#39;coding-system-for-write&#39;.  For consistency with &#39;make-process&#39; and
&#39;make-pipe-process&#39;, passing &#39;:coding nil&#39; is now ignored.  No code in
Emacs depended on the previous behavior; if you really want the
process&#39; coding-system to be nil, use &#39;set-process-coding-system&#39;
after the process has been created, or pass in &#39;:coding &#39;(nil nil)&#39;.</code></pre><pre><code>&#39;open-network-stream&#39; now accepts a &#39;:coding&#39; argument.
This allows specifying the coding systems used by a network process
for encoding and decoding without having to bind
&#39;coding-system-for-{read,write}&#39; or call &#39;set-process-coding-system&#39;.</code></pre><pre><code>&#39;open-network-stream&#39; can now take a &#39;:capability-command&#39; that&#39;s a function.
The function is called with the greeting from the server as its only
parameter, and allows sending different TLS capability commands to the
server based on that greeting.</code></pre><pre><code>&#39;open-gnutls-stream&#39; now also accepts a &#39;:coding&#39; argument.</code></pre><pre><code>&#39;process-attributes&#39; now works under OpenBSD, too.</code></pre><pre><code>&#39;format-spec&#39; now takes an optional SPLIT parameter.
If non-nil, &#39;format-spec&#39; will split the resulting string into a list
of strings, based on where the format specs (and expansions) were.</code></pre><pre><code>&#39;unload-feature&#39; now also tries to undo additions to buffer-local hooks.</code></pre><pre><code>&#39;while-no-input-ignore-events&#39; accepts more special events.
The special events &#39;dbus-event&#39; and &#39;file-notify&#39; are now ignored in
&#39;while-no-input&#39; when added to this variable.</code></pre><pre><code>&#39;start-process-shell-command&#39; and &#39;start-file-process-shell-command&#39;
do not support the old calling conventions any longer.</code></pre><pre><code>&#39;yes-or-no-p&#39; and &#39;y-or-n-p&#39; PROMPT parameter no longer needs trailing space.
In other words, the prompt can now end with &#34;?&#34; instead of &#34;? &#34;.  This
has been the case since Emacs 24.4 but was not announced or documented
until now.  (Checkdoc has also been updated to accept this convention.)</code></pre><pre><code>The UNIQUIFY argument in &#39;auto-save-file-name-transforms&#39; can be a symbol.
If this symbol is one of the members of &#39;secure-hash-algorithms&#39;,
Emacs constructs the nondirectory part of the auto-save file name by
applying that &#39;secure-hash&#39; to the buffer file name.  This avoids any
risk of excessively long file names.</code></pre><pre><code>New user option &#39;process-file-return-signal-string&#39;.
It controls, whether &#39;process-file&#39; returns a string when a remote
process is interrupted by a signal.</code></pre><h3 id="eieio-changes">EIEIO Changes</h3><pre><code>The macro &#39;oref-default&#39; can now be used with &#39;setf&#39;.
It is now defined as a generalized variable that can be used with
&#39;setf&#39; to modify the value stored in a given class slot.</code></pre><pre><code>&#39;form&#39; in &#39;(eql form)&#39; specializers in &#39;cl-defmethod&#39; is now evaluated.
This corresponds to the behavior of defmethod in Common Lisp Object System.
For compatibility, &#39;(eql SYMBOL)&#39; does not evaluate SYMBOL, for now.</code></pre><h3 id="d-bus">D-Bus</h3><pre><code>Property values can be typed explicitly.
&#39;dbus-register-property&#39; and &#39;dbus-set-property&#39; accept now optional
type symbols.  Both functions propagate D-Bus errors.</code></pre><pre><code>Registered properties can have the new access type &#39;:write&#39;.</code></pre><pre><code>In case of problems, handlers can emit proper D-Bus error messages now.</code></pre><pre><code>D-Bus errors, which have been converted from incoming D-Bus error
messages, contain the error name of that message now.</code></pre><pre><code>D-Bus messages can be monitored with the new command &#39;dbus-monitor&#39;.</code></pre><pre><code>D-Bus events have changed their internal structure.
They carry now the destination and the error-name of an event.  They
also keep the type information of their arguments.  Use the
&#39;dbus-event-*&#39; accessor functions.</code></pre><h3 id="buttons">Buttons</h3><pre><code>New minor mode &#39;button-mode&#39;.
This minor mode does nothing except install &#39;button-buffer-map&#39; as
a minor mode map (which binds the &#39;TAB&#39; / &#39;S-TAB&#39; key bindings to navigate
to buttons), and can be used in any view-mode-like buffer that has
buttons in it.</code></pre><pre><code>New utility function &#39;button-buttonize&#39;.
This function takes a string and returns a string propertized in a way
that makes it a valid button.</code></pre><pre><code>&#39;text-scale-mode&#39; can now adjust font size of the header line.
When the new buffer local variable &#39;text-scale-remap-header-line&#39;
is non-nil, &#39;text-scale-adjust&#39; will also scale the text in the header
line when displaying that buffer.

This is useful for major modes that arrange their display in a tabular
form below the header line.  It is enabled by default in
&#39;tabulated-list-mode&#39; and its derived modes, and disabled by default
elsewhere.</code></pre><pre><code>&#39;ascii&#39; is now a coding system alias for &#39;us-ascii&#39;.</code></pre><pre><code>New coding-systems for EBCDIC variants.
New coding-systems &#39;ibm256&#39;, &#39;ibm273&#39;, &#39;ibm274&#39;, &#39;ibm277&#39;, &#39;ibm278&#39;,
&#39;ibm280&#39;, &#39;ibm281&#39;, &#39;ibm284&#39;, &#39;ibm285&#39;, &#39;ibm290&#39;, &#39;ibm297&#39;.  These are
variants of the EBCDIC encoding tailored to some European and Japanese
locales.  They are also available as aliases &#39;ebcdic-cp-*&#39; (e.g.,
&#39;ebcdic-cp-fi&#39; for the Finnish variant &#39;ibm278&#39;), and &#39;cp2xx&#39; (e.g.,
&#39;cp278&#39; for &#39;ibm278&#39;).  There are also new charsets &#39;ibm2xx&#39; to
support these coding-systems.</code></pre><pre><code>New &#34;Bindat type expression&#34; description language.
This new system is provided by the new macro &#39;bindat-type&#39; and
obsoletes the old data layout specifications.  It supports
arbitrary-size integers, recursive types, and more.  See the Info node
&#34;(elisp) Byte Packing&#34; in the ELisp manual for more details.</code></pre><pre><code>New macro &#39;with-environment-variables&#39;.
This macro allows setting environment variables temporarily when
executing a form.</code></pre><blockquote><p>Changes in Emacs 28.1 on Non-Free Operating Systems</p></blockquote><hr/><pre><code>On MS-Windows, Emacs can now use the native image API to display images.
Emacs can now use the MS-Windows GDI+ library to load and display
images in JPEG, PNG, GIF and TIFF formats.  This support is available
unless Emacs was configured &#39;--without-native-image-api&#39;.

This feature is experimental, and needs to be turned on to be used.
To turn this on, set the variable &#39;w32-use-native-image-API&#39; to a
non-nil value.  Please report any bugs you find while using the native
image API via &#39;M-x report-emacs-bug&#39;.</code></pre><pre><code>On MS-Windows, Emacs can now toggle the IME.
A new function &#39;w32-set-ime-open-status&#39; can now be used to disable
and enable the MS-Windows native Input Method Editor (IME) at run
time.  A companion function &#39;w32-get-ime-open-status&#39; returns the
current IME activation status.</code></pre><pre><code>On macOS, &#39;s-&lt;left&gt;&#39; and &#39;s-&lt;right&gt;&#39; are now bound to
&#39;move-beginning-of-line&#39; and &#39;move-end-of-line&#39; respectively.  The commands
to select previous/next frame are still bound to &#39;s-~&#39; and &#39;s-`&#39;.</code></pre><pre><code>On macOS, Emacs can now load dynamic modules with a &#34;.dylib&#34; suffix.
&#39;module-file-suffix&#39; now has the value &#34;.dylib&#34; on macOS, but the
&#34;.so&#34; suffix is supported as well.</code></pre><pre><code>On macOS, the user option &#39;make-pointer-invisible&#39; is now honored.</code></pre><pre><code>On macOS, Xwidget is now supported.
If Emacs was built with xwidget support, you can access the embedded
webkit browser with command &#39;xwidget-webkit-browse-url&#39;.  Viewing two
instances of xwidget webkit is not supported.</code></pre><pre><code>New user option &#39;xwidget-webkit-enable-plugins&#39;.
If non-nil, enable plugins in xwidget.  (This is only available on
macOS.)</code></pre><pre><code>New macOS Contacts back-end for EUDC.
This backend works on newer versions of macOS and is generally
preferred over the eudcb-mab.el backend.</code></pre><h2 id="incompatible-lisp-changes-in-emacs-28.1">Incompatible Lisp Changes in Emacs 28.1</h2><pre><code>Emacs now prints a backtrace when signaling an error in batch mode.
This makes debugging Emacs Lisp scripts run in batch mode easier.  To
get back the old behavior, set the new variable
&#39;backtrace-on-error-noninteractive&#39; to a nil value.</code></pre><pre><code>Some floating-point numbers are now handled differently by the Lisp reader.
In previous versions of Emacs, numbers with a trailing dot and an exponent
were read as integers and the exponent ignored: 2.e6 was interpreted as the
integer 2.  Such numerals are now read as floats with the exponent included:
2.e6 is now read as the floating-point value 2000000.0.
That is, &#39;(read-from-string &#34;1.e3&#34;)&#39; =&gt; &#39;(1000.0 . 4)&#39; now.</code></pre><pre><code>&#39;equal&#39; no longer examines some contents of window configurations.
Instead, it considers window configurations to be equal only if they
are &#39;eq&#39;.  To compare contents, use &#39;compare-window-configurations&#39;
instead.  This change helps fix a bug in &#39;sxhash-equal&#39;, which returned
incorrect hashes for window configurations and some other objects.</code></pre><pre><code>The &#39;lexical-binding&#39; local variable is always enabled.
Previously, if &#39;enable-local-variables&#39; was nil, a &#39;lexical-binding&#39;
local variable would not be heeded.  This has now changed, and a file
with a &#39;lexical-binding&#39; cookie is always heeded.  To revert to the
old behavior, set &#39;permanently-enabled-local-variables&#39; to nil.</code></pre><pre><code>&#39;&amp;rest&#39; in argument lists must always be followed by a variable name.
Omitting the variable name after &#39;&amp;rest&#39; was previously tolerated in
some cases but not consistently so; it could lead to crashes or
outright wrong results.  Since the utility was marginal at best, it is
now an error to omit the variable.</code></pre><pre><code>&#39;kill-all-local-variables&#39; has changed how it handles non-symbol hooks.
The function is documented to eliminate all buffer-local bindings
except variables with a &#39;permanent-local&#39; property, or hooks that
have elements with a &#39;permanent-local-hook&#39; property.  In addition, it
would also keep lambda expressions in hooks sometimes.  The latter has
now been changed: The function will now also remove these.</code></pre><pre><code>Temporary buffers no longer run certain buffer hooks.
The macros &#39;with-temp-buffer&#39; and &#39;with-temp-file&#39; no longer run the
hooks &#39;kill-buffer-hook&#39;, &#39;kill-buffer-query-functions&#39;, and
&#39;buffer-list-update-hook&#39; for the temporary buffers they create.  This
avoids slowing them down when a lot of these hooks are defined.</code></pre><pre><code>New face &#39;child-frame-border&#39; and frame parameter &#39;child-frame-border-width&#39;.
The face and width of child frames borders can now be determined
separately from those of normal frames.  To minimize backward
incompatibility, child frames without a &#39;child-frame-border-width&#39;
parameter will fall back to using &#39;internal-border-width&#39;.  However,
the new &#39;child-frame-border&#39; face does constitute a breaking change
since child frames&#39; borders no longer use the &#39;internal-border&#39; face.</code></pre><pre><code>&#39;run-at-time&#39; now tries harder to implement the t TIME parameter.
If TIME is t, the timer runs at an integral multiple of REPEAT.
(I.e., if given a REPEAT of 60, it&#39;ll run at 08:11:00, 08:12:00,
08:13:00.)  However, when a machine goes to sleep (or otherwise didn&#39;t
get a time slot to run when the timer was scheduled), the timer would
then fire every 60 seconds after the time the timer was fired.  This
has now changed, and the timer code now recomputes the integral
multiple every time it runs, which means that if the laptop wakes at
08:16:43, it&#39;ll fire at that time, but then at 08:17:00, 08:18:00...</code></pre><pre><code>&#39;parse-partial-sexp&#39; now signals an error if TO is smaller than FROM.
Previously, this would lead to the function interpreting FROM as TO and
vice versa, which would be confusing when passing in OLDSTATE, which
refers to the old state at FROM.</code></pre><pre><code>&#39;global-mode-string&#39; constructs should end with a space.
This was previously not formalized, which led to combinations of modes
displaying data &#34;smushed together&#34; on the mode line.</code></pre><pre><code>&#39;overlays-in&#39; now handles zero-length overlays slightly differently.
Previously, zero-length overlays at the end of the buffer were included
in the result (if the region queried for stopped at that position).
The same was not the case if the buffer had been narrowed to exclude
the real end of the buffer.  This has now been changed, and
zero-length overlays at &#39;point-max&#39; are always included in the results.</code></pre><pre><code>&#39;replace-match&#39; now runs modification hooks slightly later.
The function is documented to leave point after the replacement text,
but this was not always the case if a modification hook inserted text
in front of the replaced text -- &#39;replace-match&#39; would instead leave
point where the end of the inserted text would have been before the
hook ran.  &#39;replace-match&#39; now always leaves point after the
replacement text.</code></pre><pre><code>&#39;completing-read-default&#39; sets completion variables buffer-locally.
&#39;minibuffer-completion-table&#39; and related variables are now set buffer-locally
in the minibuffer instead of being set via a global let-binding.</code></pre><pre><code>XML serialization functions now reject invalid characters.
Previously, &#39;xml-print&#39; would produce invalid XML when given a string
with characters that are not valid in XML (see
https://www.w3.org/TR/xml/#charsets).  Now it rejects such strings.</code></pre><pre><code>The use of positional arguments in &#39;define-minor-mode&#39; is obsolete.
These were actually rendered obsolete in Emacs 21 but were never
marked as such.</code></pre><pre><code>&#39;pcomplete-ignore-case&#39; is now an obsolete alias of &#39;completion-ignore-case&#39;.</code></pre><pre><code>&#39;completions-annotations&#39; face is not used when the caller puts own face.
This affects the suffix specified by completion &#39;annotation-function&#39;.</code></pre><pre><code>An active minibuffer now has major mode &#39;minibuffer-mode&#39;.
This is instead of the erroneous &#39;minibuffer-inactive-mode&#39; it
formerly had.</code></pre><pre><code>&#39;make-text-button&#39; no longer modifies text properties of its first argument.
When its first argument is a string, &#39;make-text-button&#39; no longer
modifies the string&#39;s text properties; instead, it uses and returns
a copy of the string.  This helps avoid trouble when strings are
shared or constants.</code></pre><pre><code>Some properties from completion tables are now preserved.
If &#39;minibuffer-allow-text-properties&#39; is non-nil, doing completion
over a table of strings with properties will no longer remove all the
properties before returning.  This affects things like &#39;completing-read&#39;.</code></pre><pre><code>&#39;dns-query&#39; now consistently uses Lisp integers to represent integers.
Formerly it made an exception for integer components of SOA records,
because SOA serial numbers can exceed fixnum ranges on 32-bit platforms.
Emacs now supports bignums so this old glitch is no longer needed.</code></pre><pre><code>The &#39;&amp;define&#39; keyword in an Edebug specification now disables backtracking.
The implementation was buggy, and multiple &#39;&amp;define&#39; forms in an &#39;&amp;or&#39;
form should be exceedingly rare.  See the Info node &#34;(elisp) Backtracking&#34; in
the Emacs Lisp reference manual for background.</code></pre><pre><code>The error &#39;ftp-error&#39; belongs also to category &#39;remote-file-error&#39;.</code></pre><pre><code>The WHEN argument of &#39;make-obsolete&#39; and related functions is mandatory.
The use of those functions without a WHEN argument was marked obsolete
back in Emacs 23.1.  The affected functions are: &#39;make-obsolete&#39;,
&#39;define-obsolete-function-alias&#39;, &#39;make-obsolete-variable&#39;,
&#39;define-obsolete-variable-alias&#39;.</code></pre><pre><code>&#39;inhibit-nul-byte-detection&#39; is renamed to &#39;inhibit-null-byte-detection&#39;.</code></pre><pre><code>Some functions are no longer considered safe by &#39;unsafep&#39;:
&#39;replace-regexp-in-string&#39;, &#39;catch&#39;, &#39;throw&#39;, &#39;error&#39;, &#39;signal&#39;
and &#39;play-sound-file&#39;.</code></pre><pre><code>&#39;sql-*-statement-starters&#39; are no longer user options.
These variables describe facts about the SQL standard and
product-specific additions.  There should be no need for users to
customize them.</code></pre><pre><code>Some locale-related variables have been removed.
The Lisp variables &#39;previous-system-messages-locale&#39; and
&#39;previous-system-time-locale&#39; have been removed, as they were created
by mistake and were not useful to Lisp code.</code></pre><pre><code>Function &#39;lm-maintainer&#39; is replaced with &#39;lm-maintainers&#39;.
The former is now declared obsolete.</code></pre><pre><code>facemenu.el is no longer preloaded.
To use functions/variables from the package, you now have to say
&#39;(require &#39;facemenu)&#39; or similar.</code></pre><pre><code>&#39;facemenu-color-alist&#39; is now obsolete, and is not used.</code></pre><pre><code>The variable &#39;keyboard-type&#39; is obsolete and not dynamically scoped any more.</code></pre><pre><code>The &#39;values&#39; variable is now obsolete.
Using it just contributes to the growth of the Emacs memory
footprint.</code></pre><pre><code>The &#39;load-dangerous-libraries&#39; variable is now obsolete.
It was used to allow loading Lisp libraries compiled by XEmacs, a
modified version of Emacs which is no longer actively maintained.
This is no longer supported, and setting this variable has no effect.</code></pre><pre><code>The macro &#39;with-displayed-buffer-window&#39; is now obsolete.
Use macro &#39;with-current-buffer-window&#39; with action alist entry &#39;body-function&#39;.</code></pre><pre><code>The rfc2368.el library is now obsolete.
Use rfc6068.el instead.  The main difference is that
&#39;rfc2368-parse-mailto-url&#39; and &#39;rfc2368-unhexify-string&#39; assumed that
the strings were all-ASCII, while &#39;rfc6068-parse-mailto-url&#39; and
&#39;rfc6068-unhexify-string&#39; parse UTF-8 strings.</code></pre><pre><code>The inversion.el library is now obsolete.</code></pre><pre><code>The metamail.el library is now obsolete.</code></pre>

        
    </article>
      </div></div>
  </body>
</html>
