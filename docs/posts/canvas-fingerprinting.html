<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://browserleaks.com/canvas">Original</a>
    <h1>Canvas Fingerprinting</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
  

<header></header>

<p>The Canvas API, which is designed for drawing graphics via JavaScript and HTML, can also be used for online tracking via browser fingerprinting. This technique relies on variations in how canvas images are rendered on different web browsers and platforms to create a personalized digital fingerprint of a user&#39;s browser.</p>

<p>JavaScript Disabled</p>

<table id="canvas-data">
<tbody>
  <tr><td colspan="5"><h3>Canvas Support Detection</h3></td></tr>
  <tr><td>Canvas 2D API</td><td id="canvas-support-2d"></td></tr>
  <tr><td>Text API for Canvas</td><td id="canvas-support-text"></td></tr>
  <tr><td>Canvas toDataURL</td><td id="canvas-support-todataurl"></td></tr>
  <tr><td><h3>Canvas Fingerprint</h3></td></tr>
  <tr><td>Signature</td><td id="canvas-hash"></td></tr>
  <tr><td>Uniqueness</td><td id="canvas-ratio"></td></tr>
</tbody>
</table>



<table id="canvas-stats">
  <tbody><tr><td colspan="6"><h3>Signature Stats</h3></td></tr>
  <tr><td id="canvas-verdict">It&#39;s very likely that your web browser is <span id="canvas-verdict-ua">Web Browser</span> and your operating system is <span id="canvas-verdict-os">Operating System</span>.</td></tr>
</tbody></table>



<h3 id="how-does-it-work" name="how-does-it-work"><a href="#how-does-it-work" title="Click to expand">How Canvas Fingerprinting Works</a></h3>
<div>
  <p>The way an image is rendered on a canvas can vary based on the web browser, operating system, graphics card, and other factors, resulting in a unique image that can be used to create a fingerprint. The way that text is rendered on a canvas can also vary based on the font rendering settings and anti-aliasing algorithms used by different web browsers and operating systems.</p>
  <p>This small animated GIF illustrates the variability of canvas images among 35 different users. Although the JavaScript code remains the same, each frame is distinct due to differences in how the images are rendered on different systems:</p>
  <picture id="canvas-picture">
    <source srcset="/img/canvas/canvas-fingerprinting.png" type="image/apng"/>
    <source srcset="/img/canvas/canvas-fingerprinting.webp" type="image/webp"/>
    <img src="https://browserleaks.com/img/canvas/canvas-fingerprinting.gif" alt="Canvas Fingerprinting"/>
  </picture>
  <p>Here is the JavaScript code that creates our image:</p>
  <ol contenteditable="true" spellcheck="false">
    <li><span><span>// Text with lowercase/uppercase/punctuation symbols</span></span></li>
    <li><span><span>var</span> txt = <span>&#34;BrowserLeaks,com &lt;canvas&gt; 1.0&#34;</span>;</span></li>
    <li><span>ctx.textBaseline = <span>&#34;top&#34;</span>;</span></li>
    <li><span><span>// The most common type</span></span></li>
    <li><span>ctx.font = <span>&#34;14px &#39;Arial&#39;&#34;</span>;</span></li>
    <li><span>ctx.textBaseline = <span>&#34;alphabetic&#34;</span>;</span></li>
    <li><span>ctx.fillStyle = <span>&#34;#f60&#34;</span>;</span></li>
    <li><span>ctx.fillRect(125,1,62,20);</span></li>
    <li><span><span>// Some tricks for color mixing to increase the difference in rendering</span></span></li>
    <li><span>ctx.fillStyle = <span>&#34;#069&#34;</span>;</span></li>
    <li><span>ctx.fillText(txt, 2, 15);</span></li>
    <li><span>ctx.fillStyle = <span>&#34;rgba(102, 204, 0, 0.7)&#34;</span>;</span></li>
    <li><span>ctx.fillText(txt, 4, 17);</span></li>
  </ol>
  <p>To generate a signature from the canvas, we need to extract the pixels from the application&#39;s memory by calling the toDataURL() function. This function returns a base64-encoded string representing the binary image file. We can then compute an MD5 hash of this string to obtain the canvas fingerprint. Alternatively, we could extract the CRC checksum from the IDAT chunk, which is located 16 to 12 bytes from the end of every PNG file, and use it as our canvas fingerprint.</p>
</div>

<h3 id="further-reading" name="further-reading"><a href="#further-reading" title="Click to expand">Further Reading</a></h3>









</div></div>
  </body>
</html>
