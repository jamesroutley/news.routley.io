<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://notes.alinpanaitiu.com/Making%20macOS%20apps%20uninstallable">Original</a>
    <h1>Making macOS Apps Uninstallable</h1>
    
    <div id="readability-page-1" class="page"><div>
<div>
<p><a href="https://notes.alinpanaitiu.com/" title="Back to Notes">â—€ Back to Notes</a><span>Published on <strong>February 18, 2023</strong></span></p></div><article>

<p>There&#39;s this thing called <strong>Launchpad</strong> on macOS which shows you all the apps on your Mac in an iOS like manner.</p>
<p>You may already have it in the Dock, but you can also launch it as any other app. There&#39;s even a nifty trackpad gesture for it where you <em>pinch with thumb and three fingers</em>.</p>

<p>When holding <code>Option</code>, it wiggles the app icons and shows an <code>X</code> button for apps installed from Mac App Store <em>(MAS for short)</em>. Clicking on that button removes the app, along with its preferences and other files it created.</p>
<hr/>
<p>But hold on, why is <a href="https://lunar.fyi/">Lunar</a> having an <code>X</code> button in the first video though? Could it be that..</p>

<p>No no, it&#39;s not on the App Store, it would never have a chance in hell getting accepted there given the plethora of private APIs that it uses.</p>
<p>Turns out, there&#39;s a simple way to have that button show up for non-MAS apps as well.</p>
<pre><code><span><span>mkdir /Applications/Lunar.app/Contents/_MASReceipt
</span></span><span><span>touch /Applications/Lunar.app/Contents/_MASReceipt/receipt
</span></span></code></pre><p>Having an empty MAS receipt tricks the system to think the app was installed from App Store.</p>
<p>So what happens when I click that symbol now?</p>
<pre><code><span><span><span>&gt;</span> <span>fsevent_watch</span> <span>-</span><span>F</span> <span>/</span>
</span></span><span><span>
</span></span><span><span><span>215781385</span>   <span>0x00020200</span><span>=[</span><span>removed</span><span>]</span>    <span>/</span><span>Applications</span><span>/</span><span>Lunar</span><span>.</span><span>app</span>
</span></span><span><span><span>215781406</span>   <span>0x00020200</span><span>=[</span><span>removed</span><span>]</span>    <span>/</span><span>Users</span><span>/</span><span>alin</span><span>/</span><span>Library</span><span>/</span><span>Application</span> <span>Support</span><span>/</span><span>Lunar</span>
</span></span><span><span><span>215781409</span>   <span>0x00010200</span><span>=[</span><span>removed</span><span>]</span>    <span>/</span><span>Users</span><span>/</span><span>alin</span><span>/</span><span>Library</span><span>/</span><span>Preferences</span><span>/</span><span>fyi</span><span>.</span><span>lunar</span><span>.</span><span>Lunar</span><span>.</span><span>plist</span>
</span></span></code></pre><p>Well, looks like we got a working uninstaller with a good user experience for free.</p>
</article></div></div>
  </body>
</html>
