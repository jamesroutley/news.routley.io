<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rich-text-to-image.github.io/">Original</a>
    <h1>Expressive text-to-image generation with rich text</h1>
    
    <div id="readability-page-1" class="page">
  <section>
    <div>
      <div>
        <div>
          <div>
            
            <!-- <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="https://songweige.github.io/">Songwei Ge</a><sup>üê¢</sup>¬†</span>
              <span class="author-block">
                <a href="https://taesung.me/">Taesung Park</a><sup><img
                    src="assets/icons/Adobe_Corporate_Horizontal_Red_HEX.svg" width="14" /></sup>¬†
              </span>
              <span class="author-block">
                <a href="https://www.cs.cmu.edu/~junyanz/">Jun-Yan Zhu</a><sup><img
                    src="assets/icons/cmu-scotty-icon.png" width="14" /></sup>¬†</span>
              <span class="author-block">
                <a href="https://jbhuang0604.github.io/">Jia-Bin Huang</a><sup>üê¢</sup>¬†
              </span>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block"><sup>üê¢</sup>University of Maryland, College Park ¬†</span>
              <span class="author-block"><sup><img src="assets/icons/Adobe_Corporate_Horizontal_Red_HEX.svg"
                    width="14" /></sup>Adobe Research ¬†</span>
              <span class="author-block"><sup><img src="assets/icons/cmu-scotty-icon.png" width="14" /></sup>Carnegie
                Mellon University</span>
            </div> -->

            

            <p><span><sup>1</sup>University of Maryland, College Park
                ¬†</span>
              <span><sup>2</sup>Adobe Research ¬†</span>
              <span><sup>3</sup>Carnegie
                Mellon University</span>
            </p>

            <p>
              ICCV 2023
            </p>

            
          </div>
        </div>
        <p>
          <!-- <video id="dollyzoom" autoplay="" controls="" muted="" loop="" playsinline="" height="100%">
            <source src="./video_assets/workflow_demo.mp4" type="video/mp4">
          </video> -->
          <iframe width="960" height="540" src="https://www.youtube.com/embed/ihDbAUh0LXk?si=ASIzJd_Q2Tq1pwjq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
        </p>
      </div>
    </div>
  </section>
  <section>
    <div>
      <div>
        <!-- <h2 class="title is-3">Rich-text-to-image Generation</h2> -->
        <div>
          <p>
            We explore using versatile format information from rich text like font size, color, style, and
            footnote for text-to-image generation. Our framework enables intuitive local style control,
            precise color generation, and supplementary description for long prompts.
          </p>
          <br/>
        </div>
        <!-- row 1 -->
        <div>
          <div>
            <div>
              <div>
                <div id="juxtapose-embed1" data-startingposition="30%" data-animate="true">
                  <div>
                    
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/pizza_plain.png" alt="" data-label="Plain-text"/>
                    </p>
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/pizza_rich.png" alt="" data-label="Rich-text"/>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <p>
                <span>&#34;A pizza with mushrooms, pepperonis, and
                  <span>pineapples</span> on the top, 4k, photorealism.&#34;</span>
              </p>
          </div>
          <div>
            <div>
              <div>
                <div id="juxtapose-embed2" data-startingposition="30%" data-animate="true">
                  <div>
                    
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/sea_plain.png" alt="" data-label="Plain-text"/>
                    </p>
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/sea_rich.png" alt="" data-label="Rich-text"/>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <p>
                <span>&#34;A <span>night sky filled with stars</span> above <span>a turbulent sea</span> with giant waves.&#34;</span>
              </p>
              <p>
                <span>Styles: <span>Van Gogh</span>, <span>Ukiyo-e</span></span>
              </p>
            </div>
          </div>
          <div>
            <div>
              <div>
                <div id="juxtapose-embed1" data-startingposition="30%" data-animate="true">
                  <div>
                    
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/church_plain.png" alt="" data-label="Plain-text"/>
                    </p>
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/church_rich.png" alt="" data-label="Rich-text"/>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <p>
                <span>&#34;A Gothic <span>church</span> in the sunset with a beautiful landscape in the background.
                  &#34;</span>
              </p>
          </div>
        </div>
        <!-- row 2 -->
        <div>
          <div>
            <div>
              <div>
                <div id="juxtapose-embed1" data-startingposition="30%" data-animate="true">
                  <div>
                    
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/panda_plain.png" alt="" data-label="Plain-text"/>
                    </p>
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/panda_rich.png" alt="" data-label="Rich-text"/>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <p>
                <span>&#34;A panda<sup>1</sup> standing on a cliff by a waterfall.&#34;</span>
              </p>
              <p>
                <span><sup>1</sup>Happy kung fu panda, asian art, ultra detailede.</span>
              </p>
            </div>
          </div>
          <div>
            <div>
              <div>
                <div id="juxtapose-embed1" data-startingposition="30%" data-animate="true">
                  <div>
                    
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/duck_plain.png" alt="" data-label="Plain-text"/>
                    </p>
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/duck_rich.png" alt="" data-label="Rich-text"/>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <p>
                <span>&#34;A pixel art of a duck with a gun<sup>1</sup> in hand, wearing a hat<sup>2</sup>, minimalist, flat&#34;</span>
              </p>
              <p>
                <span><sup>1</sup>A bouquet of flowers.</span></p>
            </div>
          </div>
          <div>
            <div>
              <div>
                <div id="juxtapose-embed2" data-startingposition="30%" data-animate="true">
                  <div>
                    
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/girl_plain.png" alt="" data-label="Plain-text"/>
                    </p>
                    <p><img src="https://rich-text-to-image.github.io/image_assets/teaser/girl_rich.png" alt="" data-label="Rich-text"/>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <p>
                <span>&#34;A girl with <span>long hair</span> sitting in a cafe, by a table with coffee<sup>1</sup> on it, best quality, ultra detailed, dynamic pose.&#34;
              </span></p>
              <p>
                <span><sup>1</sup>Ceramic coffee cup with intricate design, a dance of earthy browns and delicate gold accents. The dark, velvety latte is in it.
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </section>

  <section>

    <!--/ Matting. -->
    <div>

      <!-- color -->
      <div>
        <div>
          <h2><span>F</span><span>o</span><span>n</span><span>t</span> <span>c</span><span>o</span><span>l</span><span>o</span><span>r</span> controls the precise color of
            objects</h2>
          <p><img src="https://rich-text-to-image.github.io/image_assets/color_tri.png" width="150%"/>
          </p>
          <p>
            <h4>
              Comparison with existing methods:
            </h4>
          </p>
          <p><img src="https://rich-text-to-image.github.io/image_assets/font_color.jpg" width="150%"/>
          </p>
        </div>
      </div>
      <!-- /color -->
      <hr/>
      <!-- style -->
      <div>
        <div>
          <h2><span>Font style</span> indicates the
            styles of local regions</h2>
          <p><img src="https://rich-text-to-image.github.io/image_assets/font_tri.png" width="150%"/>
          </p>
          <p>
            <h4>
              Comparison with existing methods:
            </h4>
          </p>
          <div>
            <p><img src="https://rich-text-to-image.github.io/image_assets/font/font_sep-1.jpg" width="150%"/></p><p>
              A small <u>pond</u> (Ukiyo-e) surrounded by
              <u>skyscraper</u> (Cubism).
            </p>
            <p><img src="https://rich-text-to-image.github.io/image_assets/font/font_sep-3.jpg" width="150%"/></p><p>
              A <u>night sky filled with stars</u> (Van Gogh) above a <u>turbulent sea with
                giant waves</u> (Ukiyo-e).
            </p>
          </div>
        </div>
      </div>
      <!-- /style -->
      <hr/>
      <!-- footnote -->
      <h2>Footnote provides supplementary descriptions, enabling complex text
        prompts </h2>
      <p><img src="https://rich-text-to-image.github.io/image_assets/footnote_tri.png" width="150%"/>
      </p>
      <p>
        <h4>
          Comparison with existing methods:
        </h4>
      </p>
      <ul id="prompt-view-ul">
        <li>Livingroom
        </li>
        <li>Cityscape
        </li>
      </ul>
      <ul id="method-view-ul">
        <li>Ours
        </li>
        <li>Stable
            Diffusion [4] (Plain-Text)</li>
        <li>Stable
            Diffusion [4] (Full-Text)</li>
        <li>Attend-and-Excite
            [3]</li>
        <li>InstructPix2Pix
            [2]</li>
        <li>Prompt-to-Prompt
            [1]</li>
      </ul>
      
      <div id="div_livingroom">
        <div>
          <p>
              <span>A coffee table<sup><span>1</span></sup> sits in front of
                a sofa<sup><span>2</span></sup> on a cozy carpet. A painting<sup><span>3</span></sup> on the wall. cinematic lighting, trending on artstation, 4k,
                hyperrealistic, focused, extreme details. </span>
              <span><sup><span>1</span></sup>A rustic wooden coffee table
                adorned with scented candles and many books.</span></p>
        </div>
        <div>
          <p><img src="https://rich-text-to-image.github.io/image_assets/footnote/livingroom/livingroom_ours.jpg" id="image_livingroom" width="99%"/>
          </p>
        </div>
      </div>
      <!-- /footnote -->
    </div>
  </section>

  <!-- Method & Workflow -->
  <section>
    <div>
      <div>
        <h2>Rich-text-to-image Generation Framework</h2>
        
        <p>
            The plain text prompt is first input to the diffusion model to collect the self-attention and cross-attention maps. Attention
            maps are averaged across different heads, layers, and time steps. The self-attention maps are then used to create the segmentation
            using spectral clustering and the cross-attention label each segment. 
            The rich text prompts obtained from the editor are stored in JSON format,
            providing attributes for each token span. According to the attributes of each token, corresponding controls
            are applied as denoising prompt or guidance on the regions indicated by the token maps.
            We preserve the structure and background from plain-text generation by injecting the features or blending the noised samples.<br/>
          </p>
        <!-- <hr>
        <h2 class="title is-3">Example Workflow with our Framework</h2>
        <div class="has-text-justified">
          <video id="dollyzoom" autoplay="" controls="" muted="" loop="" playsinline="" height="100%">
            <source src="./video_assets/workflow.mp4" type="video/mp4">
          </video>
        </div>
        Our framework can naturally be integrated into a rich text editor, enabling a tight, streamlined UI. -->
      </div>
    </div>
  </section>
  <!--/ Method & Workflow -->

  <section>
    <div>
      <div>
        <div>
          <div>
            

            <!-- Acknowledgements. -->
            <div>
              <div>
                <h2>Acknowledgment</h2>
                <p>
                    We thank Mia Tang, Aaron Hertzmann, Nupur Kumari, Gaurav Parmar, Ruihan Gao, and Aniruddha Mahapatra
                    for their helpful discussion, code reviewing, and paper reading. We thank AK, Radam√©s Ajna, and
                    other HuggingFace team members for their help and support with our online demo. This work is partly
                    supported by NSF award no. 239076, NSF grants no. IIS-1910132 and IIS-2213335.
                  </p>
              </div>
            </div>
            <!--/ Acknowledgements. -->

          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="BibTeX">
    <div>
      <h2><a id="bibtex">BibTeX</a></h2>
      <pre><code>@inproceedings{ge2023expressive,
      title={Expressive Text-to-Image Generation with Rich Text},
      author={Ge, Songwei and Park, Taesung and Zhu, Jun-Yan and Huang, Jia-Bin},
      booktitle={IEEE International Conference on Computer Vision (ICCV)},
      year={2023}
}</code></pre>
    </div>
  </section>


  


  

  
  
  
  
  
  
  
  

<grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration>

</div>
  </body>
</html>
