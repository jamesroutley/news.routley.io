<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/zumerlab/snapdom">Original</a>
    <h1>Show HN: I created snapDOM to capture DOM nodes as images with exceptional speed</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><strong>snapDOM</strong> is a high-fidelity DOM capture tool, developed as part of the animation engine I&#39;m developing for Zumly ‚Äî a framework for creating smooth zoom-based view transitions.</p>
<p dir="auto">It converts any HTML element into a scalable SVG image, preserving styles, fonts, backgrounds, shadow DOM content, pseudo-elements, and more.</p>
<ul dir="auto">
<li>üì∏ Full DOM capture</li>
<li>üé® Embedded styles, pseudo-elements, and fonts</li>
<li>üñºÔ∏è Export to SVG, PNG, JPG, WebP, or <code>canvas</code></li>
<li>‚ö° Lightweight, no dependencies</li>
<li>üì¶ 100% based on standard Web APIs</li>
</ul>

<p dir="auto">You can use <strong>snapDOM</strong> by including it via <strong>NPM</strong>, <strong>CDN</strong>, <strong>script tag</strong>, or by <strong>importing it as a module</strong>.</p>




<div dir="auto" data-snippet-clipboard-copy-content="&lt;script src=&#34;https://unpkg.com/@zumer/snapdom@latest/dist/snapdom.min.js&#34;&gt;&lt;/script&gt;"><pre><span>&lt;</span><span>script</span> <span>src</span>=&#34;<span>https://unpkg.com/@zumer/snapdom@latest/dist/snapdom.min.js</span>&#34;<span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;script src=&#34;snapdom.js&#34;&gt;&lt;/script&gt;"><pre><span>&lt;</span><span>script</span> <span>src</span>=&#34;<span>snapdom.js</span>&#34;<span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre></div>
<p dir="auto">The global object <code>snapdom</code> will be available.</p>

<div dir="auto" data-snippet-clipboard-copy-content="import { snapdom } from &#39;./snapdom.mjs&#39;;"><pre><span>import</span> <span>{</span> <span>snapdom</span> <span>}</span> <span>from</span> <span>&#39;./snapdom.mjs&#39;</span><span>;</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;script type=&#34;module&#34;&gt;
  import { snapdom } from &#39;https://unpkg.com/@zumer/snapdom@latest/dist/snapdom.mjs&#39;;
&lt;/script&gt;"><pre><span>&lt;</span><span>script</span> <span>type</span><span>=</span><span>&#34;module&#34;</span><span>&gt;</span>
  import <span>{</span> <span>snapdom</span> <span>}</span> from &#39;https://unpkg.com/@zumer/snapdom@latest/dist/snapdom.mjs&#39;;
<span>&lt;/</span><span>script</span><span>&gt;</span></pre></div>
<p dir="auto">Now you can call <code>snapdom(el)</code>, <code>snapdom.toPng(el)</code>, etc., directly in your JavaScript.</p>

<div dir="auto" data-snippet-clipboard-copy-content="// Capture an element as SVG Data URL
const svgDataUrl = await snapdom(document.querySelector(&#34;#myElement&#34;));

// Insert the captured image into the page
const img = new Image();
img.src = svgDataUrl;
document.body.appendChild(img);"><pre><span>// Capture an element as SVG Data URL</span>
<span>const</span> <span>svgDataUrl</span> <span>=</span> <span>await</span> <span>snapdom</span><span>(</span><span>document</span><span>.</span><span>querySelector</span><span>(</span><span>&#34;#myElement&#34;</span><span>)</span><span>)</span><span>;</span>

<span>// Insert the captured image into the page</span>
<span>const</span> <span>img</span> <span>=</span> <span>new</span> <span>Image</span><span>(</span><span>)</span><span>;</span>
<span>img</span><span>.</span><span>src</span> <span>=</span> <span>svgDataUrl</span><span>;</span>
<span>document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span><span>img</span><span>)</span><span>;</span></pre></div>

<p dir="auto">The main API is exposed as <code>snapdom</code> and offers multiple capture methods:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Returns</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>snapdom(el, scale?)</code></td>
<td>Captures as SVG Data URL</td>
<td><code>Promise&lt;string&gt;</code></td>
</tr>
<tr>
<td><code>snapdom.toImg(el, scale?)</code></td>
<td>Captures as <code>HTMLImageElement</code> (SVG)</td>
<td><code>Promise&lt;HTMLImageElement&gt;</code></td>
</tr>
<tr>
<td><code>snapdom.toCanvas(el, scale?)</code></td>
<td>Captures as <code>HTMLCanvasElement</code></td>
<td><code>Promise&lt;HTMLCanvasElement&gt;</code></td>
</tr>
<tr>
<td><code>snapdom.toPng(el, scale?)</code></td>
<td>Captures as PNG image (<code>Image</code>)</td>
<td><code>Promise&lt;HTMLImageElement&gt;</code></td>
</tr>
<tr>
<td><code>snapdom.toJpg(el, scale?, quality?)</code></td>
<td>Captures as JPG image (<code>Image</code>)</td>
<td><code>Promise&lt;HTMLImageElement&gt;</code></td>
</tr>
<tr>
<td><code>snapdom.toWebp(el, scale?, quality?)</code></td>
<td>Captures as WebP image (<code>Image</code>)</td>
<td><code>Promise&lt;HTMLImageElement&gt;</code></td>
</tr>
<tr>
<td><code>snapdom.toBlob(el, scale?)</code></td>
<td>Captures as SVG <code>Blob</code></td>
<td><code>Promise&lt;Blob&gt;</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><strong>Parameters:</strong></p>
<ul dir="auto">
<li><code>el</code>: DOM element to capture.</li>
<li><code>scale</code>: Scale factor (default is <code>1</code>).</li>
<li><code>quality</code>: Compression quality for JPG/WebP (range <code>0</code>‚Äì<code>1</code>).</li>
</ul>

<ul dir="auto">
<li><strong>Shadow DOM</strong>: Captures content inside Web Components and <code>shadowRoot</code>.</li>
<li><strong>Pseudo-elements</strong>: Captures <code>::before</code> and <code>::after</code>, including background images.</li>
<li><strong>Backgrounds and images</strong>: Inlines external images as Data URLs.</li>
<li><strong>Fonts</strong>: Replicates applied font families without needing external font files.</li>
<li><strong>Placeholder and Exclusion</strong>:
<ul dir="auto">
<li><code>data-capture=&#34;exclude&#34;</code>: Skips an element while preserving layout space.</li>
<li><code>data-capture=&#34;placeholder&#34;</code> + <code>data-placeholder-text=&#34;Text&#34;</code>: Replaces an element with decorative placeholder text.</li>
</ul>
</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="&lt;div id=&#34;captureMe&#34;&gt;
  &lt;h1 style=&#34;color: tomato;&#34;&gt;Hello World!&lt;/h1&gt;
  &lt;p&gt;This content will be captured.&lt;/p&gt;
&lt;/div&gt;

&lt;script type=&#34;module&#34;&gt;
  import { snapdom } from &#39;./snapdom.esm.js&#39;;

  const button = document.createElement(&#39;button&#39;);
  button.textContent = &#34;Capture&#34;;
  button.onclick = async () =&gt; {
    const img = await snapdom.toPng(document.getElementById(&#39;captureMe&#39;), 2);
    document.body.appendChild(img);
  };
  document.body.appendChild(button);
&lt;/script&gt;"><pre><span>&lt;</span><span>div</span> <span>id</span>=&#34;<span>captureMe</span>&#34;<span>&gt;</span>
  <span>&lt;</span><span>h1</span> <span>style</span>=&#34;<span>color: tomato;</span>&#34;<span>&gt;</span>Hello World!<span>&lt;/</span><span>h1</span><span>&gt;</span>
  <span>&lt;</span><span>p</span><span>&gt;</span>This content will be captured.<span>&lt;/</span><span>p</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span>

<span>&lt;</span><span>script</span> <span>type</span>=&#34;<span>module</span>&#34;<span>&gt;</span>
  <span>import</span> <span>{</span> <span>snapdom</span> <span>}</span> <span>from</span> <span>&#39;./snapdom.esm.js&#39;</span><span>;</span>

  <span>const</span> <span>button</span> <span>=</span> <span>document</span><span>.</span><span>createElement</span><span>(</span><span>&#39;button&#39;</span><span>)</span><span>;</span>
  <span>button</span><span>.</span><span>textContent</span> <span>=</span> <span>&#34;Capture&#34;</span><span>;</span>
  <span>button</span><span>.</span><span>onclick</span> <span>=</span> <span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> <span>img</span> <span>=</span> <span>await</span> <span>snapdom</span><span>.</span><span>toPng</span><span>(</span><span>document</span><span>.</span><span>getElementById</span><span>(</span><span>&#39;captureMe&#39;</span><span>)</span><span>,</span> <span>2</span><span>)</span><span>;</span>
    <span>document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span><span>img</span><span>)</span><span>;</span>
  <span>}</span><span>;</span>
  <span>document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span><span>button</span><span>)</span><span>;</span>
<span>&lt;/</span><span>script</span><span>&gt;</span></pre></div>

<ul dir="auto">
<li>External images must be CORS-accessible.</li>
<li>Fonts must be fully loaded before capturing (<code>document.fonts.ready</code> is automatically awaited).</li>
<li>Iframes are not captured.</li>
</ul>

<p dir="auto"><code>snapDOM</code> is not only highly accurate ‚Äî it&#39;s also <strong>extremely fast</strong> at capturing large or complex DOM structures.</p>
<p dir="auto">In benchmark tests against popular libraries:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Element Size</th>
<th>Winner</th>
<th>Compared to <code>modern-screenshot</code></th>
<th>Compared to <code>html2canvas</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>200√ó100 (Small)</td>
<td><code>modern-screenshot</code></td>
<td>1.18√ó faster</td>
<td>4.46√ó faster</td>
</tr>
<tr>
<td>400√ó300 (Modal)</td>
<td><code>snapDOM</code></td>
<td>1.04√ó faster</td>
<td>4.07√ó faster</td>
</tr>
<tr>
<td>1200√ó800 (Page view)</td>
<td><code>snapDOM</code></td>
<td>2.43√ó faster</td>
<td>5.74√ó faster</td>
</tr>
<tr>
<td>2000√ó1500 (Large scroll area)</td>
<td><code>snapDOM</code></td>
<td>5.02√ó faster</td>
<td>9.35√ó faster</td>
</tr>
<tr>
<td>4000√ó2000 (Very large)</td>
<td><code>snapDOM</code></td>
<td>11.35√ó faster</td>
<td>15.98√ó faster</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">‚úÖ <strong>Key insight</strong>:</p>
<p dir="auto">‚úÖ <strong>Perfect for:</strong></p>
<ul dir="auto">
<li>Capturing full-page views</li>
<li>Capturing modal windows</li>
<li>Complex layouts with custom fonts, backgrounds, or shadow DOM</li>
</ul>

<p dir="auto">MIT ¬© Juan Mart√≠n Muda - Zumerlab</p>
</article></div></div>
  </body>
</html>
