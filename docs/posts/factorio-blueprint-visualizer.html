<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/piebro/factorio-blueprint-visualizer">Original</a>
    <h1>Show HN: Factorio Blueprint Visualizer</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_08.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_08.svg" width="70%"/></a>
</p>
<p dir="auto">I love the game Factorio and I really like the look of factories after growing for many hours or blueprints after tweaking them for perfection. So I thought about visualizing the factories and blueprints.</p>
<p dir="auto">All factorio buildings with their bounding boxes and belt, pipe, inserter, wire and electricity connections can be visualized. Everything is drawn in vector graphics (SVG) to be able to view it in any resolution.</p>
<p dir="auto">The hardest part was writing the logic for connecting rails, belts and pipes. After many failed attempts with lots of bugs, I wrote a system that works pretty well. The next step was, to be able to be creative with drawing different connections and bounding boxes of buildings. Therefor, I created configurable drawing settings to experiment with and a random draw settings generator. After some tweaking, I got nice visualizations. To make the visualization tool easily accessible, I created an <a href="https://piebro.github.io/factorio-blueprint-visualizer/" rel="nofollow">online demo</a> that uses the original python code with <a href="https://github.com/pyodide/pyodide">pyodide</a> in the browser (that&#39;s why the website might take some time to load) and an easy-to-use notebook.</p>
<h2 dir="auto"><a id="user-content-examples" aria-hidden="true" href="#examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h2>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/random_0077.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/random_0077.svg" width="47%"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_06.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_06.svg" width="47%"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_12.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_12.svg" width="47%"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_23.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_23.svg" width="47%"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_24.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_24.svg" width="47%"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_21.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_21.svg" width="47%"/></a>
</p>
<p dir="auto">The last three blueprints are by Josh Ventura and can be found <a href="https://factorioprints.com/user/6QrnfqXIffQcWgHC6Xs4uHv1BGg2" rel="nofollow">here</a>.</p>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">You can visualize your own blueprint with random drawing settings at: <a href="https://piebro.github.io/factorio-blueprint-visualizer/" rel="nofollow">https://piebro.github.io/factorio-blueprint-visualizer</a> (You can use the arrow keys for going through the visualization). You can use the notebook, if you want to create your own drawing settings or tinker some more. For an easy setup, you can open the example notebook in <a href="https://colab.research.google.com/github/piebro/factorio-blueprint-visualizer/blob/master/notebook.ipynb" rel="nofollow">colab</a> or <a href="https://mybinder.org/v2/gh/piebro/factorio-blueprint-visualizer/HEAD?labpath=notebook.ipynb" rel="nofollow">binder</a>. You can find many blueprints at: <a href="https://factorioprints.com" rel="nofollow">https://factorioprints.com</a>.</p>
<p dir="auto"><a href="https://colab.research.google.com/github/piebro/factorio-blueprint-visualizer/blob/master/notebook.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/84f0493939e0c4de4e6dbe113251b4bfb5353e57134ffd9fcab6b8714514d4d1/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg"/></a>
<a href="https://mybinder.org/v2/gh/piebro/factorio-blueprint-visualizer/HEAD?labpath=notebook.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/581c077bdbc6ca6899c86d0acc6145ae85e9d80e6f805a1071793dbe48917982/68747470733a2f2f6d7962696e6465722e6f72672f62616467655f6c6f676f2e737667" alt="Binder" data-canonical-src="https://mybinder.org/badge_logo.svg"/></a></p>
<h3 dir="auto"><a id="user-content-drawing-settings" aria-hidden="true" href="#drawing-settings"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Drawing Settings</h3>
<p dir="auto">To visualize a blueprint you need drawing settings that define what is drawn, in which order and in what kind of style. Drawing settings are a list of option that are executed one after the other. You can decide which bounding box to draw with an allow or deny list of building names. You can also draw connected <code>belt</code>, <code>underground-belts</code>, <code>pipes</code>, <code>underground-pipes</code>, <code>inserter</code>, <code>rail</code>, <code>electricity</code>, <code>red-circuits</code> and <code>green-circuits</code>.</p>
<p dir="auto">Furthermore, you can define the style of each drawing command or set a new default drawing style. You can use <code>fill</code>, <code>stroke</code>, <code>stroke-width</code>, <code>stroke-linecap</code>, <code>stroke-opacity</code>, <code>fill-opacity</code>, <code>bbox-scale</code>, <code>bbox-rx</code> and <code>bbox-ry</code> as properties and every SVG tag should also work.</p>
<p dir="auto">Every visualization has the used drawing settings and blueprint saved with it, so you can check out the drawing settings of the examples blueprints inspiration.</p>
<h3 dir="auto"><a id="user-content-pen-plotting" aria-hidden="true" href="#pen-plotting"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Pen Plotting</h3>
<p dir="auto">I have a pen plotter, and one of my initial ideas was also to be able to plot my factories. You can create visualizations you can easily draw. I recommend using <a href="https://github.com/abey79/vpype">https://github.com/abey79/vpype</a> for merging lines together before plotting. An example of a visualization for plotting is here:</p>
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_25.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_25.svg" width="70%"/></a>
</p>
<h3 dir="auto"><a id="user-content-verilog2factorio" aria-hidden="true" href="#verilog2factorio"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>verilog2factorio</h3>
<p dir="auto">It&#39;s possible to use <a href="https://github.com/redcrafter/verilog2factorio">https://github.com/redcrafter/verilog2factorio</a> to create factorio verilog blueprints and visualize the buildings and wire connections like this.</p>
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/piebro/factorio-blueprint-visualizer/blob/master/example_svgs/example_19.svg"><img src="https://github.com/piebro/factorio-blueprint-visualizer/raw/master/example_svgs/example_19.svg" width="20%"/></a>
</p>
<h3 dir="auto"><a id="user-content-convert-to-pngs" aria-hidden="true" href="#convert-to-pngs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Convert to PNGs</h3>
<p dir="auto">To easily convert all SVGs in a folder, you can use a terminal and Inkscape like this.
<code>mkdir pngs; for f in *.svg; do inkscape -w 1000 &#34;$f&#34; -e &#34;pngs/${f::-3}png&#34;; done</code></p>
<h2 dir="auto"><a id="user-content-contribute" aria-hidden="true" href="#contribute"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contribute</h2>
<p dir="auto">Contributions to this project are welcome. Feel free to report bugs or post ideas you have.</p>
<p dir="auto">To update the python code for the website, you have to update the python wheel in the website folder. To update it, just run: <code>python setup.py bdist_wheel --universal --dist-dir=website</code></p>
</article>
        </div></div>
  </body>
</html>
