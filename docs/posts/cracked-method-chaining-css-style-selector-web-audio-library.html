<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/billorcutt/i_dropped_my_phone_the_screen_cracked">Original</a>
    <h1>Cracked - Method chaining/CSS-style selector web audio library</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto"><h2 tabindex="-1" dir="auto">I Dropped My Phone The Screen Cracked</h2><a id="user-content-i-dropped-my-phone-the-screen-cracked" aria-label="Permalink: I Dropped My Phone The Screen Cracked" href="#i-dropped-my-phone-the-screen-cracked"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><em>I Dropped My Phone The Screen Cracked</em> is a <a href="https://webaudio.github.io/web-audio-api/" rel="nofollow">web audio</a> library that uses method chaining and CSS-style selectors to simplify creating, configuring and connecting audio nodes in the browser. Here&#39;s hello world:</p>
<div dir="auto" data-snippet-clipboard-copy-content="//create and connect sine and system out. start the sine
__().sine().dac().play();"><pre><span>//create and connect sine and system out. start the sine</span>
<span>__</span><span>(</span><span>)</span><span>.</span><span>sine</span><span>(</span><span>)</span><span>.</span><span>dac</span><span>(</span><span>)</span><span>.</span><span>play</span><span>(</span><span>)</span><span>;</span></pre></div>
<p dir="auto">and a slightly more complex example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="//create and connect a sine oscillator (frequency of 180), lowpass,
//compressor and system output (level of .5).
__().sine(180).lowpass({frequency:160,q:5,id:&#34;lp1&#34;}).compressor().dac(.5);

//select the sine using its type and change the detune to 10
__(&#34;sine&#34;).detune(10);

//use the id to get a reference to the lowpass
//filter and set the frequency to 600
__(&#34;#lp1&#34;).frequency(600);

//create and connect a sawtooth oscillator, waveshaper &amp; compressor
//and connect the compressor to the existing dac we created above.
__().saw(800).waveshaper().compressor().connect(&#34;dac&#34;);

//change the ratio of both compressors to 12
__(&#34;compressor&#34;).attr(&#34;ratio&#34;,12);

//start the sine and the sawtooth
__(&#34;sine,saw&#34;).start();"><pre><span>//create and connect a sine oscillator (frequency of 180), lowpass,</span>
<span>//compressor and system output (level of .5).</span>
<span>__</span><span>(</span><span>)</span><span>.</span><span>sine</span><span>(</span><span>180</span><span>)</span><span>.</span><span>lowpass</span><span>(</span><span>{</span><span>frequency</span>:<span>160</span><span>,</span><span>q</span>:<span>5</span><span>,</span><span>id</span>:<span>&#34;lp1&#34;</span><span>}</span><span>)</span><span>.</span><span>compressor</span><span>(</span><span>)</span><span>.</span><span>dac</span><span>(</span><span>.5</span><span>)</span><span>;</span>

<span>//select the sine using its type and change the detune to 10</span>
<span>__</span><span>(</span><span>&#34;sine&#34;</span><span>)</span><span>.</span><span>detune</span><span>(</span><span>10</span><span>)</span><span>;</span>

<span>//use the id to get a reference to the lowpass</span>
<span>//filter and set the frequency to 600</span>
<span>__</span><span>(</span><span>&#34;#lp1&#34;</span><span>)</span><span>.</span><span>frequency</span><span>(</span><span>600</span><span>)</span><span>;</span>

<span>//create and connect a sawtooth oscillator, waveshaper &amp; compressor</span>
<span>//and connect the compressor to the existing dac we created above.</span>
<span>__</span><span>(</span><span>)</span><span>.</span><span>saw</span><span>(</span><span>800</span><span>)</span><span>.</span><span>waveshaper</span><span>(</span><span>)</span><span>.</span><span>compressor</span><span>(</span><span>)</span><span>.</span><span>connect</span><span>(</span><span>&#34;dac&#34;</span><span>)</span><span>;</span>

<span>//change the ratio of both compressors to 12</span>
<span>__</span><span>(</span><span>&#34;compressor&#34;</span><span>)</span><span>.</span><span>attr</span><span>(</span><span>&#34;ratio&#34;</span><span>,</span><span>12</span><span>)</span><span>;</span>

<span>//start the sine and the sawtooth</span>
<span>__</span><span>(</span><span>&#34;sine,saw&#34;</span><span>)</span><span>.</span><span>start</span><span>(</span><span>)</span><span>;</span></pre></div>
<p dir="auto">Audio node chains can be encapsulated as units using macros</p>
<div dir="auto" data-snippet-clipboard-copy-content="//define a simple macro named &#34;microsynth&#34;
__().begin(&#34;microsynth&#34;).sine().gain().end(&#34;microsynth&#34;).dac();

//change the frequency of the sine
__(&#34;microsynth&#34;).frequency(100);

//start it up
__(&#34;microsynth&#34;).start();"><pre><span>//define a simple macro named &#34;microsynth&#34;</span>
<span>__</span><span>(</span><span>)</span><span>.</span><span>begin</span><span>(</span><span>&#34;microsynth&#34;</span><span>)</span><span>.</span><span>sine</span><span>(</span><span>)</span><span>.</span><span>gain</span><span>(</span><span>)</span><span>.</span><span>end</span><span>(</span><span>&#34;microsynth&#34;</span><span>)</span><span>.</span><span>dac</span><span>(</span><span>)</span><span>;</span>

<span>//change the frequency of the sine</span>
<span>__</span><span>(</span><span>&#34;microsynth&#34;</span><span>)</span><span>.</span><span>frequency</span><span>(</span><span>100</span><span>)</span><span>;</span>

<span>//start it up</span>
<span>__</span><span>(</span><span>&#34;microsynth&#34;</span><span>)</span><span>.</span><span>start</span><span>(</span><span>)</span><span>;</span></pre></div>
<p dir="auto">and macros can be wrapped in simple factory functions to create plugins, making it possible
to instantiate instances, connect them to other nodes, address them individually or as a group,
nest them within other macros, etc.</p>
<div dir="auto" data-snippet-clipboard-copy-content="//define a plugin called microsynth
cracked.microsynth = function(params) {
    //pass any params to begin() so they can associated with the instance
    __().begin(&#34;microsynth&#34;,params).sine().gain(0).end(&#34;microsynth&#34;);
    //return cracked so we can chain methods
    return cracked;
}

//create two instances with different ids
__().microsynth({id:&#34;micro1&#34;}).lowpass().dac();
__().microsynth({id:&#34;micro2&#34;}).lowpass().connect(&#34;dac&#34;);

//change the frequency in the first
__(&#34;#micro1&#34;).frequency(1200);
//change the frequency in the second
__(&#34;#micro2&#34;).frequency(600);

//set the gain in both and start them
__(&#34;microsynth&#34;).volume(1).start();"><pre><span>//define a plugin called microsynth</span>
<span>cracked</span><span>.</span><span>microsynth</span> <span>=</span> <span>function</span><span>(</span><span>params</span><span>)</span> <span>{</span>
    <span>//pass any params to begin() so they can associated with the instance</span>
    <span>__</span><span>(</span><span>)</span><span>.</span><span>begin</span><span>(</span><span>&#34;microsynth&#34;</span><span>,</span><span>params</span><span>)</span><span>.</span><span>sine</span><span>(</span><span>)</span><span>.</span><span>gain</span><span>(</span><span>0</span><span>)</span><span>.</span><span>end</span><span>(</span><span>&#34;microsynth&#34;</span><span>)</span><span>;</span>
    <span>//return cracked so we can chain methods</span>
    <span>return</span> <span>cracked</span><span>;</span>
<span>}</span>

<span>//create two instances with different ids</span>
<span>__</span><span>(</span><span>)</span><span>.</span><span>microsynth</span><span>(</span><span>{</span><span>id</span>:<span>&#34;micro1&#34;</span><span>}</span><span>)</span><span>.</span><span>lowpass</span><span>(</span><span>)</span><span>.</span><span>dac</span><span>(</span><span>)</span><span>;</span>
<span>__</span><span>(</span><span>)</span><span>.</span><span>microsynth</span><span>(</span><span>{</span><span>id</span>:<span>&#34;micro2&#34;</span><span>}</span><span>)</span><span>.</span><span>lowpass</span><span>(</span><span>)</span><span>.</span><span>connect</span><span>(</span><span>&#34;dac&#34;</span><span>)</span><span>;</span>

<span>//change the frequency in the first</span>
<span>__</span><span>(</span><span>&#34;#micro1&#34;</span><span>)</span><span>.</span><span>frequency</span><span>(</span><span>1200</span><span>)</span><span>;</span>
<span>//change the frequency in the second</span>
<span>__</span><span>(</span><span>&#34;#micro2&#34;</span><span>)</span><span>.</span><span>frequency</span><span>(</span><span>600</span><span>)</span><span>;</span>

<span>//set the gain in both and start them</span>
<span>__</span><span>(</span><span>&#34;microsynth&#34;</span><span>)</span><span>.</span><span>volume</span><span>(</span><span>1</span><span>)</span><span>.</span><span>start</span><span>(</span><span>)</span><span>;</span></pre></div>
<p dir="auto">Generally, the goal of <em>I Dropped My Phone The Screen Cracked</em> is simplicity, brevity without obscurity and making audio coding as intuitive as patching a modular, so that noise makers can focus on keeping it weird and fun.</p>
<p dir="auto">If you&#39;re interested in knowing more, there&#39;s a one page <a href="https://github.com/billorcutt/i_dropped_my_phone_the_screen_cracked/blob/master/OVERVIEW.md">overview</a>, full source <a href="http://billorcutt.github.io/i_dropped_my_phone_the_screen_cracked/" rel="nofollow">documentation</a>, a <a href="https://www.reddit.com/r/WeAreTheMusicMakers/comments/4g6bic/cracked_is_an_opensource_coding_program_for/" rel="nofollow">Reddit interview</a>, some <a href="https://www.thewire.co.uk/news/41540/bill-orcutt-releases-open-source-audio-programme" rel="nofollow">press</a>, and a useful app for Mac or Linux to <a href="https://github.com/billorcutt/Cracked">try it all out</a>.</p>
<p dir="auto">Also <a href="http://idroppedmyphonethescreencracked.tumblr.com" rel="nofollow">cat pictures</a>.</p>
<p dir="auto">If you&#39;d like to contribute, you can send a comment to <a href="mailto:info@fastinversesquare.com">info@fastinversesquare.com</a>, open an <a href="https://github.com/billorcutt/i_dropped_my_phone_the_screen_cracked/issues">issue</a> for bugs or feature enhancements or best of all, submit a pull request.</p>
</article></div></div>
  </body>
</html>
