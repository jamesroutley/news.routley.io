<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://codeberg.org/smnx/promethee">Original</a>
    <h1>UEFI Bindings for JavaScript</h1>
    
    <div id="readability-page-1" class="page"><div id="readme">

	

	
	<div>
		
		<div>
			
				
<p dir="auto"><a href="https://codeberg.org/smnx/promethee/media/branch/trunk/promethee.jpeg" target="_blank" rel="nofollow noopener"><img src="https://codeberg.org/smnx/promethee/media/branch/trunk/promethee.jpeg" alt="Promethee" loading="lazy"/></a></p>
<h2 id="user-content-what-this-is" dir="auto">What this is</h2>
<p dir="auto">UEFI Bindings for JavaScript</p>
<h2 id="user-content-how-it-works" dir="auto">How it works</h2>
<p dir="auto">Promethee loads script.js from the boot volume and runs it. That script is your
bootloader. If you can do it with UEFI services, you can do it in JavaScript.</p>
<h2 id="user-content-quick-start" dir="auto">Quick start</h2>
<ol dir="auto">
<li>
<p dir="auto">Fetch dependencies:
./get-deps</p>
</li>
<li>
<p dir="auto">Build and run in QEMU:
make run</p>
</li>
</ol>
<p dir="auto">Your entrypoint is <a href="https://codeberg.org/smnx/promethee/src/branch/trunk/script.js" rel="nofollow">script.js</a>. The run target copies it to the UEFI
FAT volume as \script.js.</p>
<h2 id="user-content-tiny-example" dir="auto">Tiny example</h2>
<p dir="auto">In <a href="https://codeberg.org/smnx/promethee/src/branch/trunk/script.js" rel="nofollow">script.js</a>:</p>
<pre><code>var gop = efi.SystemTable.BootServices.LocateProtocol(efi.guid.GraphicsOutput);
if (gop) {
    var red = { r: 255, g: 0, b: 0 };
    gop.Blt(red, &#39;EfiBltVideoFill&#39;, 0, 0, 50, 50, 200, 120, 0);
}
</code></pre>
<h2 id="user-content-notes" dir="auto">Notes</h2>
<ul dir="auto">
<li>Duktape tooling requires Node.js (used to generate sources).</li>
<li>The build is freestanding; only minimal libc stubs are provided.</li>
<li>If this makes you grin, you are probably holding the torch.</li>
</ul>

			
		</div>
	</div>
</div></div>
  </body>
</html>
