<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dev.to/grahamthedev/bubble-sortin-pure-css-no-js-3bb1">Original</a>
    <h1>Bubble sort in pure CSS</h1>
    
    <div id="readability-page-1" class="page"><div data-article-id="1634649" id="article-body">
            <p>Imagine you are in an interview and you get asked &#34;can you implement bubble sort&#34;...and you answer the interviewer &#34;sure, do you want that in JavaScript or CSS&#34;.</p>

<p>What a <strong>flex</strong> would that be?</p>

<p>Now, I know what you are thinking. &#34;no interviewer will be impressed by you creating an animation that <em>simulates</em> bubble sort&#34;. And you would be right!</p>

<p>But what if we could create a <strong>functioning</strong> bubble sort algorithm...in pure CSS...and add visualisations to it?</p>

<p>Well, you have come to the right place!</p>

<h2>
  <a name="the-demo" href="#the-demo">
  </a>
  The Demo
</h2>

<p><strong>Instructions</strong>: There are 5 values at the top of the <code>:root</code> element:<br/>
</p>

<div>
<pre><code><span>:root</span><span>{</span>
    <span>--val1</span><span>:</span> <span>12</span><span>;</span>
    <span>--val2</span><span>:</span> <span>16</span><span>;</span>
    <span>--val3</span><span>:</span> <span>9</span><span>;</span>
    <span>--val4</span><span>:</span> <span>14</span><span>;</span>
    <span>--val5</span><span>:</span> <span>7</span><span>;</span>

</code></pre>
<div>
<p>
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</p>
</div>
</div>



<p>These are our unsorted array!</p>

<p>So the above represents: <code>[12,16,9,14,7]</code>.</p>

<p>And you can change those values (any value between 0 and 20) and then press &#34;run&#34; in the Codepen UI and it will actually sort them for you!</p>

<p><strong>warning:</strong> on mobile the last few animations <strong>might not play and just go blank. On PC your fan may spin up!</strong></p>

<p>This is a limitation of using so many calculations that rely on previous calculations...I am not sure if it runs out of memory or what, but I defo pushed the limits of CSS here!</p>

<p>Anyway, with the warnings out of the way, give it a go (you may need to press &#34;rerun&#34; in the bottom right as the animation only plays once)!</p>



<h2>
  <a name="explanation" href="#explanation">
  </a>
  Explanation
</h2>

<p>Look, this is silly, so I am not going to do a tutorial, but there are a couple of things that are interesting:</p>

<h3>
  <a name="getting-a-boolean-for-v2-gt-v1" href="#getting-a-boolean-for-v2-gt-v1">
  </a>
  Getting a boolean for v2 &gt; v1
</h3>



<div>
<pre><code><span>--is-1-greater-2-step-1</span><span>:</span> <span>Min</span><span>(</span><span>1</span><span>,</span> <span>Max</span><span>(</span><span>var</span><span>(</span><span>--arr1s0</span><span>)</span> <span>-</span> <span>var</span><span>(</span><span>--arr2s0</span><span>),</span> <span>0</span><span>));</span>
</code></pre>
<div>
<p>
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</p>
</div>
</div>



<p>Looks complicated, but it isn&#39;t, we are performing the following operations:</p>

<ul>
<li>subtract the value of position 2 from the value of position 1 in our array. (lets call this &#34;diff1and2&#34; for ease)</li>
<li>find the maximum of &#34;diff1and2&#34; and 0. We do this as a way of saying &#34;if 1 is bigger than 2, we want a positive value, but if 2 is bigger than 1 we want to return 0&#34;. Lets call the result of this &#34;1greaterOrZero&#34;.</li>
<li>then we take &#34;OneGreaterOrZero &#34; and make sure it is not greater than 1 by using <code>Min</code>. So if &#34;OneGreaterOrZero&#34; was 6, we would reduce that to 1, but if it was 0 then we would return 0.</li>
</ul>

<p>Still confused? Here it is in JS effectively:<br/>
</p>

<div>
<pre><code><span>let</span> <span>pos1</span> <span>=</span> <span>7</span><span>;</span>
<span>let</span> <span>pos2</span> <span>=</span> <span>15</span><span>;</span>

<span>let</span> <span>diff1and2</span> <span>=</span> <span>pos1</span> <span>-</span> <span>pos2</span><span>;</span> 
<span>//if &#34;diff1and2&#34; is negative the next step will change it to 0;</span>
<span>let</span> <span>OneGreaterOrZero</span> <span>=</span> <span>Math</span><span>.</span><span>max</span><span>(</span><span>diff1and2</span><span>,</span> <span>0</span><span>);</span>

<span>let</span> <span>result</span> <span>=</span> <span>Math</span><span>.</span><span>min</span><span>(</span><span>1</span><span>,</span> <span>OneGreaterOrZero</span><span>);</span>

<span>console</span><span>.</span><span>log</span><span>(</span><span>diff1and2</span><span>,</span> <span>OneGreaterOrZero</span><span>,</span> <span>result</span><span>);</span> <span>//always between 0 and 1 as false / true representation.</span>
</code></pre>
<div>
<p>
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</p>
</div>
</div>



<h3>
  <a name="swapping-array-positions" href="#swapping-array-positions">
  </a>
  swapping array positions
</h3>

<p>So how do we swap positions in our &#34;array&#34;? </p>

<p>For bubble sort to work we need to be able to swap 2 values if the first value is larger than the second.</p>

<p>We can&#39;t do any temp variable magic like we would in JS. </p>

<p>Well, that is what this is for:<br/>
</p>

<div>
<pre><code><span>--arr1s1</span><span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--is-2-greater-1-step-1</span><span>)</span> <span>*</span> <span>var</span><span>(</span><span>--arr1s0</span><span>)</span> <span>+</span> <span>var</span><span>(</span><span>--is-1-greater-2-step-1</span><span>)</span> <span>*</span> <span>var</span><span>(</span><span>--arr2s0</span><span>));</span>
<span>--arr2s1</span><span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--is-1-greater-2-step-1</span><span>)</span> <span>*</span> <span>var</span><span>(</span><span>--arr1s0</span><span>)</span> <span>+</span> <span>var</span><span>(</span><span>--is-2-greater-1-step-1</span><span>)</span> <span>*</span> <span>var</span><span>(</span><span>--arr2s0</span><span>));</span> 
</code></pre>
<div>
<p>
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</p>
</div>
</div>



<p>Yet again, looks complicated, is actually reasonably simple in principle.</p>

<p>In our previous &#34;function&#34;, we created a boolean to see if 1 was greater than 2. So we have either a 1 or a 0 there.</p>

<p>We can also easily get the inverse of this:<br/>
</p>

<div>
<pre><code><span>--is-2-greater-1-step-1</span><span>:</span> <span>(</span><span>1</span> <span>-</span> <span>var</span><span>(</span><span>--is-1-greater-2-step-1</span><span>));</span>
</code></pre>
<div>
<p>
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</p>
</div>
</div>



<p>The beauty of this is that we can now do the following trick:<br/>
</p>

<div>
<pre><code>
<span>// in bubble sort, if 1 </span>
<span>origArray</span> <span>=</span> <span>[</span><span>7</span><span>,</span><span>2</span><span>];</span>

<span>// we run our previous functions to get our 2 variables:</span>

<span>oneIsGreater</span> <span>=</span> <span>1</span><span>;</span>
<span>twoIsGreater</span> <span>=</span> <span>0</span><span>;</span>

<span>// we can now multiply the values together. If [2] is greater than one then we will return the same value. But if [1] is greater than [2] then we will swap the values.</span>

<span>newArray</span><span>[</span><span>0</span><span>]</span> <span>=</span> <span>(</span><span>twoIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>0</span><span>])</span> <span>+</span> <span>(</span><span>oneIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>1</span><span>]);</span>  
<span>newArray</span><span>[</span><span>1</span><span>]</span> <span>=</span> <span>(</span><span>oneIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>0</span><span>])</span> <span>+</span> <span>(</span><span>twoIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>1</span><span>]);</span> 

<span>// which is the same as this:</span>
<span>newArray</span><span>[</span><span>0</span><span>]</span> <span>=</span> <span>0</span> <span>*</span> <span>7</span> <span>+</span> <span>1</span> <span>*</span> <span>2</span><span>;</span>  <span>//2 </span>
<span>newArray</span><span>[</span><span>1</span><span>]</span> <span>=</span> <span>1</span> <span>*</span> <span>7</span> <span>+</span> <span>0</span> <span>*</span> <span>2</span><span>;</span>  <span>//7</span>

</code></pre>
<div>
<p>
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</p>
</div>
</div>



<p>Neat trick huh? and if <code>oneIsGreater</code> and <code>twoIsGreater</code> were swapped then it would just return the original values!<br/>
</p>

<div>
<pre><code><span>origArray</span> <span>=</span> <span>[</span><span>7</span><span>,</span><span>2</span><span>];</span>
<span>oneIsGreater</span> <span>=</span> <span>0</span><span>;</span>
<span>twoIsGreater</span> <span>=</span> <span>1</span><span>;</span>

<span>//same &#34;function&#34;</span>
<span>newArray</span><span>[</span><span>0</span><span>]</span> <span>=</span> <span>(</span><span>twoIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>0</span><span>])</span> <span>+</span> <span>(</span><span>oneIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>1</span><span>]);</span>  
<span>newArray</span><span>[</span><span>1</span><span>]</span> <span>=</span> <span>(</span><span>oneIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>0</span><span>])</span> <span>+</span> <span>(</span><span>twoIsGreater</span> <span>*</span> <span>origArray</span><span>[</span><span>1</span><span>]);</span> 

<span>// which is the same as this:</span>
<span>newArray</span><span>[</span><span>0</span><span>]</span> <span>=</span> <span>1</span> <span>*</span> <span>7</span> <span>+</span> <span>0</span> <span>*</span> <span>2</span><span>;</span>  <span>//7 </span>
<span>newArray</span><span>[</span><span>1</span><span>]</span> <span>=</span> <span>0</span> <span>*</span> <span>7</span> <span>+</span> <span>1</span> <span>*</span> <span>2</span><span>;</span>  <span>//2</span>

</code></pre>
<div>
<p>
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</p>
</div>
</div>



<p>And that is effectively all we need to do a bubble sort!</p>

<p>The only reason we have so much CSS is because we cannot do loops in vanilla CSS (yet). So we have to manually write out the swaps for each stage of bubble sort:</p>

<ul>
<li>check and if needed swap 1 and 2</li>
<li>check and if needed swap 2 and 3</li>
<li>check and if needed swap 3 and 4</li>
<li>check and if needed swap 4 and 5</li>
<li>check and if needed swap 1 and 2</li>
<li>check and if needed swap 2 and 3</li>
<li>check and if needed swap 3 and 4</li>
<li>check and if needed swap 1 and 2</li>
<li>check and if needed swap 2 and 3</li>
<li>check and if needed swap 1 and 2</li>
</ul>

<h2>
  <a name="thats-all-folks" href="#thats-all-folks">
  </a>
  That&#39;s all folks!
</h2>

<p>As I said, not a tutorial. But I did want to introduce some interesting CSS &#34;switches&#34; and &#34;booleans&#34; that may become useful in some strange scenario in the future for you!</p>

<p>I hope you enjoy my silliness.</p>

<p>Now I just have to wait for someone to ask me if I can implement Bubble sort so I can flex on them with my CSS silliness! ðŸ¤£ðŸ’—</p>


          </div></div>
  </body>
</html>
