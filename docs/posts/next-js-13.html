<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nextjs.org/blog/next-13">Original</a>
    <h1>Next.js 13</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>As we announced at <a href="https://nextjs.org/conf" rel="noopener noreferrer" target="_blank">Next.js Conf</a>, Next.js 13 lays the foundations to be dynamic without limits:</p><ul><li><a href="#app-directory-beta"><strong><code>app/</code> Directory (beta):</strong></a> Easier, faster, less client JS.<ul><li><a href="#layouts"><strong>Layouts</strong></a></li><li><a href="#server-components"><strong>React Server Components</strong></a></li><li><a href="#streaming"><strong>Streaming</strong></a></li></ul></li><li><strong><a href="#introducing-turbopack-alpha">Turbopack (alpha):</a></strong> Up to 700x faster Rust-based Webpack replacement.</li><li><strong><a href="#nextimage">New <code>next/image</code> (stable):</a></strong> Faster with native browser lazy loading.</li><li><strong><a href="#nextfont">New <code>@next/font</code> (beta):</a></strong> Automatic self-hosted fonts with zero layout shift.</li><li><strong><a href="#breaking-changes">Improved <code>next/link</code>:</a></strong> Simplified API with automatic <code>&lt;a&gt;</code>.</li></ul><p>Update today by running:</p><pre><pre><code><span>npm</span> i next@latest react@latest react-dom@latest eslint-config-next@latest
</code></pre></pre><h2 data-components-heading="true"><span id="app-directory-beta"></span><a href="#app-directory-beta"><code>app/</code> Directory (beta)</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p>One of the most-loved features of Next.js is our file-system-based router. Drop a file inside a folder, and you&#39;re able to instantly create routes in your application. No configuration required.</p><p>Today, we&#39;re improving routing and layouts in Next.js with the introduction of the <code>app/</code> directory (beta). This is the result of the <a href="https://nextjs.org/blog/layouts-rfc" rel="noopener noreferrer" target="_blank">Layouts RFC</a> previously published for community feedback. This includes support for:</p><ul><li><strong><a href="#layouts">Layouts:</a></strong> Easily share UI while preserving state and avoiding re-renders.</li><li><strong><a href="#server-components">Server Components:</a></strong> Making server-first the default for the most dynamic applications.</li><li><strong><a href="#streaming">Streaming:</a></strong> Display instant loading states and stream in updates.</li><li><strong><a href="#data-fetching">Suspense for Data Fetching:</a></strong> The new <code>use</code> hook enables component-level fetching.</li></ul><p>The <code>app/</code> directory can coexist with the existing <code>pages</code> directory for incremental adoption. While you <strong>don&#39;t need to use the <code>app/</code> directory</strong> when upgrading to Next.js 13, we&#39;re laying the foundations to build complex interfaces while shipping less JavaScript.</p><figure><img alt="" srcset="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fapp-folder.png&amp;w=3840&amp;q=75 1x" src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fapp-folder.png&amp;w=3840&amp;q=75" width="3596" height="1534" decoding="async" data-nimg="future" loading="lazy"/><figcaption>The app/ directory can be incrementally adopted from your existing pages/ directory.</figcaption></figure><h3 data-components-heading="true"><span id="layouts"></span><a href="#layouts">Layouts</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p>The <code>app/</code> directory makes it easy to lay out complex interfaces that maintain state across navigations, avoid expensive re-renders, and enable advanced routing patterns. Further, you can <strong>colocate application code</strong> with your routes, like components, tests, and styles.</p><p>Creating routes inside <code>app/</code> requires a single file, <code>page.js</code>:</p><pre><pre><code>

<span>export</span> <span>default</span> <span>function</span> <span><span>Page</span></span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span><span><span>&lt;</span>h1</span><span>&gt;</span></span><span>Hello, Next.js!</span><span><span><span>&lt;/</span>h1</span><span>&gt;</span></span><span>;</span>
<span>}</span>
</code></pre></pre><p>You can now also <strong>define layouts</strong> through the file system. Layouts share UI between multiple pages. On navigation, layouts preserve state, remain interactive, and do not re-render.</p><pre><pre><code>
<span>export</span> <span>default</span> <span>function</span> <span><span>BlogLayout</span></span><span>(</span><span><span>{</span> children <span>}</span></span><span>)</span> <span>{</span>
  <span>return</span> <span><span><span>&lt;</span>section</span><span>&gt;</span></span><span>{</span>children<span>}</span><span><span><span>&lt;/</span>section</span><span>&gt;</span></span><span>;</span>
<span>}</span>
</code></pre></pre><p><a href="https://beta.nextjs.org/docs/routing/fundamentals" rel="noopener noreferrer" target="_blank">Learn more about layouts and pages</a> or <a href="https://vercel.com/templates/next.js/app-directory" rel="noopener noreferrer" target="_blank">deploy an example to try it out</a>.</p><h3 data-components-heading="true"><span id="server-components"></span><a href="#server-components">Server Components</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p>The <code>app/</code> directory introduces support for React&#39;s new Server Components architecture. Server Components use the server and the client each for what they&#39;re best at, allowing you to build fast, highly-interactive apps with a single programming model that provides a great developer experience.</p><p>By using Server Components, you can <strong>reduce the amount of JavaScript sent to the client</strong>, enabling faster initial page loads.</p><p>When a route is loaded, the Next.js and React runtime will be loaded, which is <strong>cacheable</strong> and <strong>predictable</strong> in size. This runtime does <em>not</em> increase in size as your application grows. Further, the runtime is asynchronously loaded, enabling your HTML from the server to be progressively enhanced on the client.</p><p><a href="https://beta.nextjs.org/docs/rendering/server-and-client-components" rel="noopener noreferrer" target="_blank">Learn more about Server Components</a> or <a href="https://vercel.com/templates/next.js/app-directory" rel="noopener noreferrer" target="_blank">deploy an example to try it out</a>.</p><h3 data-components-heading="true"><span id="streaming"></span><a href="#streaming">Streaming</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p>The <code>app/</code> directory introduces the ability to progressively render and incrementally stream rendered units of the UI to the client.</p><p>With Server Components and <a href="https://beta.nextjs.org/docs/routing/pages-and-layouts" rel="noopener noreferrer" target="_blank">nested layouts</a> in Next.js, you&#39;re able instantly render parts of the page that do not specifically require data, and show a <a href="https://beta.nextjs.org/docs/routing/loading-ui" rel="noopener noreferrer" target="_blank">loading state</a> for parts of the page that are fetching data. With this approach, the user does not have to wait for the entire page to load before they can start interacting with it.</p><figure><img alt="" srcset="/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fstreaming.png&amp;w=3840&amp;q=75 1x" src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fstreaming.png&amp;w=3840&amp;q=75" width="3600" height="1648" decoding="async" data-nimg="future" loading="lazy"/><figcaption>The app/ directory supports Instant Loading UI with new loading.js special files that use React Suspense boundaries.</figcaption></figure><p>When deployed to Vercel, Next.js 13 applications that use the <code>app/</code> directory will stream responses by default in both the Node.js and Edge runtimes for improved performance.</p><p><a href="https://beta.nextjs.org/docs/data-fetching/fundamentals" rel="noopener noreferrer" target="_blank">Learn more about streaming</a> or <a href="https://vercel.com/templates/next.js/app-directory" rel="noopener noreferrer" target="_blank">deploy an example to try it out</a>.</p><h3 data-components-heading="true"><span id="data-fetching"></span><a href="#data-fetching">Data Fetching</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p>The <code>app/</code> directory introduces a <strong>powerful new way to fetch data</strong> built on top of React Suspense for Data Fetching. The new <code>use</code> hook replaces previous Next.js APIs like <code>getStaticProps</code> and <code>getServerSideProps</code> and aligns with the future of React.</p><pre><pre><code>
<span>import</span> <span><span>{</span> use <span>}</span></span> <span>from</span> <span>&#39;react&#39;</span><span>;</span>

<span>async</span> <span>function</span> <span>getData</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> res <span>=</span> <span>await</span> <span>fetch</span><span>(</span><span>&#39;...&#39;</span><span>)</span><span>;</span>
  <span>const</span> name<span>:</span> <span>string</span> <span>=</span> <span>await</span> res<span>.</span><span>json</span><span>(</span><span>)</span><span>;</span>
  <span>return</span> name<span>;</span>
<span>}</span>

<span>export</span> <span>default</span> <span>function</span> <span><span>Page</span></span><span>(</span><span>)</span> <span>{</span>
  
  
  
  <span>const</span> name <span>=</span> <span>use</span><span>(</span><span>getData</span><span>(</span><span>)</span><span>)</span><span>;</span>

  <span>return</span> <span>&#39;...&#39;</span><span>;</span>
<span>}</span>
</code></pre></pre><p>There is now one flexible way to <strong>fetch, cache, and revalidate data at the component level</strong>. This means all the benefits of Static Site Generation (SSG), Server-Side Rendering (SSR), Incremental Static Regeneration (ISR) are now available through React&#39;s <code>use</code> hook and by extending the Web <code>fetch</code> API:</p><pre><pre><code>


<span>fetch</span><span>(</span><span>URL</span><span>,</span> <span>{</span> cache<span>:</span> <span>&#39;force-cache&#39;</span> <span>}</span><span>)</span><span>;</span>



<span>fetch</span><span>(</span><span>URL</span><span>,</span> <span>{</span> cache<span>:</span> <span>&#39;no-store&#39;</span> <span>}</span><span>)</span><span>;</span>



<span>fetch</span><span>(</span><span>URL</span><span>,</span> <span>{</span> next<span>:</span> <span>{</span> revalidate<span>:</span> <span>10</span> <span>}</span> <span>}</span><span>)</span><span>;</span>
</code></pre></pre><p>In the <code>app</code> directory, you can fetch data inside <a href="https://beta.nextjs.org/docs/routing/pages-and-layouts" rel="noopener noreferrer" target="_blank">layouts, pages</a>, and components – including support for <a href="#streaming">streaming responses</a> from the server.</p><p>You can maintain rich, interactive client-side experiences all while shipping dramatically less JavaScript by default. As the number of Server Components grows in your application, the amount of client-side JavaScript needed <strong>remains constant</strong>.</p><p>With the <code>app/</code> directory, we&#39;re enabling ergonomic ways to handle loading and error states and stream in UI as it&#39;s rendered. In a future release, we&#39;ll be improving and simplifying data mutations, as well.</p><figure><img alt="" srcset="/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fstreaming.png&amp;w=3840&amp;q=75 1x" src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fstreaming.png&amp;w=3840&amp;q=75" width="3596" height="1980" decoding="async" data-nimg="future" loading="lazy"/><figcaption>With the app/ directory, you can use a new special file loading.js to automatically create Instant Loading UI with Suspense boundaries.</figcaption></figure><p>We&#39;re excited to work with the open-source community, package maintainers, and other companies contributing to the React ecosystem to build for this new era of React and Next.js. The ability to colocate data fetching inside components and ship less JavaScript to the client were two important pieces of community feedback we are excited to include with the <code>app/</code> directory.</p><p><a href="https://beta.nextjs.org/docs/data-fetching/fundamentals" rel="noopener noreferrer" target="_blank">Learn more about data fetching</a> or deploy an example to try it out.</p><h2 data-components-heading="true"><span id="introducing-turbopack-alpha"></span><a href="#introducing-turbopack-alpha">Introducing Turbopack (alpha)</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p>Next.js 13 includes <a href="https://vercel.com/blog/turbopack" rel="noopener noreferrer" target="_blank">Turbopack</a>, the new Rust-based successor to Webpack.</p><p>Webpack has been downloaded over <strong>3 billion times</strong>. While it&#39;s been an integral part of building the Web, we&#39;ve hit the limits of the maximum performance possible with JavaScript-based tooling.</p><p>In Next.js 12, we began our transition to native Rust-powered tooling. We started by migrating away from Babel, which resulted in 17x faster transpilation. Then, we replaced Terser, which resulted in 6x faster minification. It&#39;s time to go all-in on native for bundling.</p><p>Using the Turbopack alpha with Next.js 13 results in:</p><ul><li><strong>700x faster</strong> updates than Webpack</li><li><strong>10x faster</strong> updates than Vite</li><li><strong>4x faster</strong> cold starts than Webpack</li></ul><figure><img alt="" srcset="/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fturbopack.png&amp;w=2048&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fturbopack.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fturbopack.png&amp;w=3840&amp;q=75" width="2046" height="720" decoding="async" data-nimg="future" loading="lazy"/><figcaption>Turbopack is our Rust-based successor to Webpack, with 700x faster HMR for large applications.</figcaption></figure><p><a href="https://turbo.build/pack" rel="noopener noreferrer" target="_blank">Turbopack</a> only bundles the minimum assets required in development, so startup time is extremely fast. On an application with 3,000 modules, <strong>Turbopack takes 1.8 seconds</strong> to boot up. <strong>Vite takes 11.4 seconds</strong> and <strong>Webpack takes 16.5 seconds</strong>.</p><p>Turbopack has out-of-the-box support for Server Components, TypeScript, JSX, CSS, and more. During the alpha, <a href="https://turbo.build/pack/docs/features" rel="noopener noreferrer" target="_blank">many features</a> are not yet supported. We&#39;d love to hear your feedback on using Turbopack to speed up your local iterations.</p><blockquote><p><strong>Note:</strong> Turbopack in Next.js currently only supports <code>next dev</code>. View the <a href="https://turbo.build/pack/docs/features" rel="noopener noreferrer" target="_blank">supported features</a>. We are also working to add support for <code>next build</code> through Turbopack.</p></blockquote><p>Try out the Turbopack alpha today in Next.js 13 with <code>next dev --turbo</code>.</p><h2 data-components-heading="true"><span id="nextimage"></span><a href="#nextimage"><code>next/image</code></a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p>Next.js 13 introduces a <strong>powerful new Image component</strong>, allowing you to easily display images without layout shift and optimize files on-demand for increased performance.</p><p>During the Next.js Community Survey, <strong>70% of respondents</strong> told us they used the Next.js Image component in production, and in turn, saw <strong>improved Core Web Vitals</strong>. With Next.js 13, we&#39;re improving <code>next/image</code> even further.</p><p>The new Image component:</p><ul><li>Ships less client-side JavaScript</li><li>Easier to style and configure</li><li>More accessible requiring <code>alt</code> tags by default</li><li>Aligns with the Web platform</li><li>Faster because native lazy loading doesn&#39;t require hydration</li></ul><pre><pre><code><span>import</span> <span><span>Image</span></span> <span>from</span> <span>&#39;next/image&#39;</span><span>;</span>
<span>import</span> <span>avatar</span> <span>from</span> <span>&#39;./lee.png&#39;</span><span>;</span>

<span>function</span> <span><span>Home</span></span><span>(</span><span>)</span> <span>{</span>
  
  
  <span>return</span> <span><span><span>&lt;</span><span>Image</span></span> <span>alt</span><span><span>=</span><span>&#34;</span>leeerob<span>&#34;</span></span> <span>src</span><span><span>=</span><span>{</span>avatar<span>}</span></span> <span>placeholder</span><span><span>=</span><span>&#34;</span>blur<span>&#34;</span></span> <span>/&gt;</span></span><span>;</span>
<span>}</span>
</code></pre></pre><p><a href="https://nextjs.org/docs/basic-features/image-optimization" rel="noopener noreferrer" target="_blank">Learn more about the Image component</a> or <a href="https://vercel.com/templates/next.js/nextjs-boilerplate" rel="noopener noreferrer" target="_blank">deploy an example to try it out</a>.</p><h3 data-components-heading="true"><span id="upgrading-nextimage-to-nextjs-13"></span><a href="#upgrading-nextimage-to-nextjs-13">Upgrading <code>next/image</code> to Next.js 13</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p>The old Image component was renamed to <code>next/legacy/image</code>. We&#39;ve provided a codemod that will automatically update your existing usage of <code>next/image</code> to <code>next/legacy/image</code>. For example, this command would run the codemod on your <code>./pages</code> directory when run from the root:</p><pre><pre><code>npx @next/codemod next-image-to-legacy-image ./pages
</code></pre></pre><p><a href="https://nextjs.org/docs/advanced-features/codemods" rel="noopener noreferrer" target="_blank">Learn more about the codemod</a> or <a href="https://nextjs.org/docs/basic-features/image-optimization" rel="noopener noreferrer" target="_blank">check out the documentation</a>.</p><h2 data-components-heading="true"><span id="nextfont"></span><a href="#nextfont"><code>@next/font</code></a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p>Next.js 13 introduces a <strong>brand new font system</strong> that:</p><ul><li>Automatically optimizes your fonts, including custom fonts</li><li>Removes external network requests for improved privacy and performance</li><li>Built-in automatic self-hosting for any font file</li><li>Zero layout shift automatically using the CSS <a href="https://web.dev/css-size-adjust/" rel="noopener noreferrer" target="_blank"><code>size-adjust</code></a> property</li></ul><p>This new font system allows you to conveniently use all Google Fonts with performance and privacy in mind. CSS and font files are downloaded at build time and self-hosted with the rest of your static assets. <strong>No requests are sent to Google by the browser.</strong></p><pre><pre><code><span>import</span> <span><span>{</span> <span>Inter</span> <span>}</span></span> <span>from</span> <span>&#39;@next/font/google&#39;</span><span>;</span>

<span>const</span> inter <span>=</span> <span><span>Inter</span></span><span>(</span><span>)</span><span>;</span>

<span><span><span>&lt;</span>html</span> <span>className</span><span><span>=</span><span>{</span>inter<span>.</span><span>className</span><span>}</span></span><span>&gt;</span></span><span>
</span></code></pre></pre><p>Custom fonts are also supported, including support for automatic self-hosting, caching, and preloading of font files.</p><pre><pre><code><span>import</span> <span>localFont</span> <span>from</span> <span>&#39;@next/font/local&#39;</span><span>;</span>

<span>const</span> myFont <span>=</span> <span>localFont</span><span>(</span><span>{</span> <span>src</span><span>:</span> <span>&#39;./my-font.woff2&#39;</span> <span>}</span><span>)</span><span>;</span>

<span><span><span>&lt;</span>html</span> <span>className</span><span><span>=</span><span>{</span>myFont<span>.</span><span>className</span><span>}</span></span><span>&gt;</span></span><span>
</span></code></pre></pre><p>You can customize every part of the font loading experience while still ensuring great performance and no layout shift, including the <code>font-display</code>, preloading, fallbacks, and more.</p><p><a href="https://nextjs.org/docs/basic-features/font-optimization" rel="noopener noreferrer" target="_blank">Learn more about the new Font component</a> or <a href="" rel="noopener noreferrer" target="_blank">deploy an example to try it out</a>.</p><h2 data-components-heading="true"><span id="nextlink"></span><a href="#nextlink"><code>next/link</code></a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p><code>next/link</code> no longer requires manually adding <code>&lt;a&gt;</code> as a child.</p><p>This was added as an experimental option in <a href="https://nextjs.org/blog/next-12-2" rel="noopener noreferrer" target="_blank">12.2</a> and is now the default. In Next.js 13, <code>&lt;Link&gt;</code> always renders an <code>&lt;a&gt;</code> and allows you to forward props to the underlying tag. For example:</p><pre><pre><code><span>import</span> <span><span>Link</span></span> <span>from</span> <span>&#39;next/link&#39;</span>


<span><span><span>&lt;</span><span>Link</span></span> <span>href</span><span><span>=</span><span>&#34;</span>/about<span>&#34;</span></span><span>&gt;</span></span><span>
  </span><span><span><span>&lt;</span>a</span><span>&gt;</span></span><span>About</span><span><span><span>&lt;/</span>a</span><span>&gt;</span></span><span>
</span><span><span><span>&lt;/</span><span>Link</span></span><span>&gt;</span></span>


<span><span><span>&lt;</span><span>Link</span></span> <span>href</span><span><span>=</span><span>&#34;</span>/about<span>&#34;</span></span><span>&gt;</span></span><span>
  About
</span><span><span><span>&lt;/</span><span>Link</span></span><span>&gt;</span></span>
</code></pre></pre><p><a href="https://nextjs.org/docs/api-reference/next/link" rel="noopener noreferrer" target="_blank">Learn more about the improved Link component</a> or <a href="https://vercel.com/templates/next.js/nextjs-boilerplate" rel="noopener noreferrer" target="_blank">deploy an example to try it out</a>.</p><h3 data-components-heading="true"><span id="upgrading-nextlink-to-nextjs-13"></span><a href="#upgrading-nextlink-to-nextjs-13">Upgrading <code>next/link</code> to Next.js 13</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p>To upgrade your links to Next.js 13, we&#39;ve provided a codemod that will automatically update your codebase. For example, this command would run the codemod on your <code>./pages</code> directory when run from the root:</p><pre><pre><code>npx @next<span>/</span>codemod <span>new</span><span>-</span>link <span>.</span><span>/</span>pages
</code></pre></pre><p><a href="https://nextjs.org/docs/advanced-features/codemods" rel="noopener noreferrer" target="_blank">Learn more about the codemod</a> or check out the documentation.</p><h2 data-components-heading="true"><span id="og-image-generation"></span><a href="#og-image-generation">OG Image Generation</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p>Social cards, also known as open graph images, can massively increase the engagement rate of clicks on your content, with some experiments showing up to 40% better conversions.</p><p>Static social cards are time-consuming, error-prone, and hard to maintain. Because of this, social cards are often lacking or even skipped. Until today, dynamic social cards that need to be personalized and computed on the fly were difficult and expensive.</p><p>We&#39;ve created a new library <strong><code>@vercel/og</code></strong> that works seamlessly with Next.js to generate dynamic social cards.</p><pre><pre><code>

<span>import</span> <span><span>{</span> <span>ImageResponse</span> <span>}</span></span> <span>from</span> <span>&#39;@vercel/og&#39;</span><span>;</span>

<span>export</span> <span>const</span> config <span>=</span> <span>{</span>
  <span>runtime</span><span>:</span> <span>&#39;experimental-edge&#39;</span><span>,</span>
<span>}</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>new</span> <span>ImageResponse</span><span>(</span>
    <span>(</span>
      <span><span><span>&lt;</span>div</span>
        <span>style</span><span><span>=</span><span>{</span><span>{</span>
          <span>display</span><span>:</span> <span>&#39;flex&#39;</span><span>,</span>
          <span>fontSize</span><span>:</span> <span>128</span><span>,</span>
          <span>background</span><span>:</span> <span>&#39;white&#39;</span><span>,</span>
          <span>width</span><span>:</span> <span>&#39;100%&#39;</span><span>,</span>
          <span>height</span><span>:</span> <span>&#39;100%&#39;</span><span>,</span>
        <span>}</span><span>}</span></span>
      <span>&gt;</span></span><span>
        Hello, World!
      </span><span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
    <span>)</span><span>,</span>
  <span>)</span><span>;</span>
<span>}</span>
</code></pre></pre><p>This approach is <strong>5x faster</strong> than existing solutions by using Vercel Edge Functions, WebAssembly, and a brand new core library for converting HTML and CSS into images and leveraging the React component abstraction.</p><p><a href="https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation" rel="noopener noreferrer" target="_blank">Learn more about OG Image Generation</a> or <a href="https://vercel.com/new/clone?repository-url=https://github.com/vercel/examples/tree/main/edge-functions/vercel-og-nextjs&amp;project-name=vercel-og-nextjs&amp;repository-name=vercel-og-nextjs" rel="noopener noreferrer" target="_blank">deploy an example to try it out</a>.</p><h2 data-components-heading="true"><span id="middleware-api-updates"></span><a href="#middleware-api-updates">Middleware API Updates</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p>In Next.js 12, we introduced Middleware to enable full flexibility with the Next.js router. We&#39;ve heard your feedback on the initial API design and have added some additions to improve the developer experience and add powerful new functionality.</p><p>You can now more easily set headers on the request:</p><pre><pre><code>
<span>import</span> <span><span>{</span> <span>NextResponse</span> <span>}</span></span> <span>from</span> <span>&#39;next/server&#39;</span><span>;</span>
<span>import</span> <span>type</span> <span>{</span> <span>NextRequest</span> <span>}</span> <span>from</span> <span>&#39;next/server&#39;</span><span>;</span>

<span>export</span> <span>function</span> <span>middleware</span><span>(</span>request<span>:</span> <span>NextRequest</span><span>)</span> <span>{</span>
  
  <span>const</span> requestHeaders <span>=</span> <span>new</span> <span><span>Headers</span></span><span>(</span>request<span>.</span><span>headers</span><span>)</span><span>;</span>
  requestHeaders<span>.</span><span>set</span><span>(</span><span>&#39;x-version&#39;</span><span>,</span> <span>&#39;13&#39;</span><span>)</span><span>;</span>

  
  <span>const</span> response <span>=</span> <span>NextResponse</span><span>.</span><span>next</span><span>(</span><span>{</span>
    request<span>:</span> <span>{</span>
      
      headers<span>:</span> requestHeaders<span>,</span>
    <span>}</span><span>,</span>
  <span>}</span><span>)</span><span>;</span>

  
  response<span>.</span><span>headers</span><span>.</span><span>set</span><span>(</span><span>&#39;x-version&#39;</span><span>,</span> <span>&#39;13&#39;</span><span>)</span><span>;</span>
  <span>return</span> response<span>;</span>
<span>}</span>
</code></pre></pre><p>You can also now provide a response directly from Middleware, without having to <code>rewrite</code> or <code>redirect</code>.</p><pre><pre><code>
<span>import</span> <span><span>{</span> <span>NextRequest</span><span>,</span> <span>NextResponse</span> <span>}</span></span> <span>from</span> <span>&#39;next/server&#39;</span><span>;</span>
<span>import</span> <span><span>{</span> isAuthenticated <span>}</span></span> <span>from</span> <span>&#39;@lib/auth&#39;</span><span>;</span>


<span>export</span> <span>const</span> config <span>=</span> <span>{</span>
  matcher<span>:</span> <span>&#39;/api/:function*&#39;</span><span>,</span>
<span>}</span><span>;</span>

<span>export</span> <span>function</span> <span>middleware</span><span>(</span>request<span>:</span> <span>NextRequest</span><span>)</span> <span>{</span>
  
  <span>if</span> <span>(</span><span>!</span><span>isAuthenticated</span><span>(</span>request<span>)</span><span>)</span> <span>{</span>
    
    <span>return</span> <span>NextResponse</span><span>.</span><span>json</span><span>(</span>
      <span>{</span>
        success<span>:</span> <span>false</span><span>,</span>
        message<span>:</span> <span>&#39;Auth failed&#39;</span><span>,</span>
      <span>}</span><span>,</span>
      <span>{</span>
        status<span>:</span> <span>401</span><span>,</span>
      <span>}</span><span>,</span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre></pre><p>Sending responses from Middleware currently requires the <code>experimental.allowMiddlewareResponseBody</code> configuration option inside <code>next.config.js</code>.</p><h2 data-components-heading="true"><span id="breaking-changes"></span><a href="#breaking-changes">Breaking Changes</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><ul><li>The minimum React version has been bumped from 17.0.2 to 18.2.0.</li><li>The minimum Node.js version has been bumped from 12.22.0 to 14.0.0, since 12.x has reached end-of-life (<a href="https://github.com/vercel/next.js/pull/41482" rel="noopener noreferrer" target="_blank">PR</a>).</li><li>The <code>swcMinify</code> configuration property was changed from <code>false</code> to <code>true</code>. See <a href="https://www.notion.so/docs/advanced-features/compiler.md" rel="noopener noreferrer" target="_blank">Next.js Compiler</a> for more info.</li><li>The <code>next/image</code> import was renamed to <code>next/legacy/image</code>. The <code>next/future/image</code> import was renamed to <code>next/image</code>. A <a href="https://www.notion.so/docs/advanced-features/codemods.md#next-image-to-legacy-image" rel="noopener noreferrer" target="_blank">codemod is available</a> to safely and automatically rename your imports.</li><li>The <code>next/link</code> child can no longer be <code>&lt;a&gt;</code>. Add the <code>legacyBehavior</code> prop to use the legacy behavior or remove the <code>&lt;a&gt;</code> to upgrade. A <a href="https://www.notion.so/docs/advanced-features/codemods.md#new-link" rel="noopener noreferrer" target="_blank">codemod is available</a> to automatically upgrade your code.</li><li>Routes are no longer prefetched when the <code>User-Agent</code> is a bot.</li><li>The deprecated <code>target</code> option of <code>next.config.js</code> has been removed.</li><li>The supported browsers have been changed to drop Internet Explorer and target modern browsers. You can still use Browserslist to change targeted browsers.<ul><li>Chrome 64+</li><li>Edge 79+</li><li>Firefox 67+</li><li>Opera 51+</li><li>Safari 12+</li></ul></li></ul><p>To learn more, check out the <a href="https://nextjs.org/docs/upgrading" rel="noopener noreferrer" target="_blank">upgrade guide</a>.</p><h2 data-components-heading="true"><a href="#community">Community</a><span><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p>Six years ago, we released Next.js to the public. We set out to build a zero-configuration React framework that simplifies your developer experience. Looking back, it&#39;s incredible to see how the community has grown, and what we&#39;ve been able to ship together. Let&#39;s keep going.</p><p>Next.js is the result of the combined work of <strong>over 2,400 individual developers</strong>, industry partners like Google and Meta, and our core team. With over 3 million npm downloads per week and 94,000 GitHub stars, Next.js is one of the most popular ways of building the Web.</p><p>This release was brought to you by the contributions of: @ijjk, @huozhi, @HaNdTriX, @iKethavel, @timneutkens, @shuding, @rishabhpoddar, @hanneslund, @balazsorban44, @anthonyshew, @TomerAberbach, @philippbosch, @styfle, @mauriciomutte, @hayitsdavid, @abdennor, @Kikobeats, @cjdunteman, @Mr-Afonso, @kdy1, @jaril, @abdallah-nour, @North15, @feedthejim, @brunocrosier, @Schniz, @sedlukha, @hashlash, @Ethan-Arrowood, @fireairforce, @migueloller, @leerob, @janicklas-ralph, @Trystanr, @atilafassina, @nramkissoon, @kasperadk, @valcosmos, @henriqueholtz, @nip10, @jesstelford, @lorensr, @AviAvinav, @SukkaW, @jaycedotbin, @saurabhburade, @notrab, @kwonoj, @sanruiz, @angeloashmore, @falsepopsky, @fmontes, @Gebov, @UltiRequiem, @p13lgst, @Simek, @mrkldshv, @thomasballinger, @kyliau, @AdarshKonchady, @endymion1818, @pedro757, @perkinsjr, @gnoff, @jridgewell, @silvioprog, @mabels, @nialexsan, @feugy, @jackromo888, @crazyurus, @EarlGeorge, @MariaSolOs, @lforst, @maximbaz, @maxam2017, @teobler, @Nutlope, @sunwoo0706, @WestonThayer, @Brooooooklyn, @Nsttt, @charlypoly, @aprendendofelipe, @sviridoff, @jackton1, @nuta, @Rpaudel379, @marcialca, @MarDi66, @ismaelrumzan, @javivelasco, @eltociear, and @hiro0218.</p></div></div></div>
  </body>
</html>
