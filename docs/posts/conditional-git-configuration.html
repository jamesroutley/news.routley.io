<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.scottlowe.org/2023/12/15/conditional-git-configuration/">Original</a>
    <h1>Conditional Git Configuration</h1>
    
    <div id="readability-page-1" class="page"><div>
<div>
  
  <p><span><i aria-hidden="true"></i> Published on 15 Dec 2023 ·
    <i aria-hidden="true"></i> Filed in <a href="https://blog.scottlowe.org/categories/explanation">Explanation</a> ·
    <i aria-hidden="true"></i> 304 words (estimated 2 minutes to read)</span></p><p>Building on the earlier article on <a href="https://blog.scottlowe.org/2023/12/11/automatically-transforming-git-urls/">automatically transforming Git URLs</a>, I’m back with another article on a (potentially powerful) feature of <a href="https://www.git-scm.com">Git</a>—the ability to conditionally include Git configuration files. This means you can configure Git to be configured (and behave) differently based on certain conditions, simply by including or not including Git configuration files. Let’s look at a pretty straightforward example taken from my own workflow.</p>
<p>Here’s a configuration stanza from my own system-wide Git configuration:</p>
<div><pre tabindex="0"><code data-lang="toml"><span><span>[<span>includeIf</span> <span>&#34;gitdir:~/Work/Code/Repos/&#34;</span>]
</span></span><span><span>    <span>path</span> = <span>~/</span><span>Work</span><span>/</span><span>Code</span><span>/</span><span>Repos</span><span>/</span>.<span>gitconfig</span>
</span></span></code></pre></div><p>The key here is the <code>includeIf</code> keyword. In this case, Git will include the referenced configuration file specified by <code>path</code>, <em>if</em> the location of the Git repository matches the path specification after <code>gitdir</code>. Basically, what this means is that <em>all</em> repositories under <code>~/Work/Code/Repos</code> will trigger the inclusion of the additional configuration file.</p>
<p>Here’s the additional configuration file:</p>
<div><pre tabindex="0"><code data-lang="toml"><span><span>[<span>user</span>]
</span></span><span><span>    <span>email</span> = <span>name</span><span>@</span><span>work-domain</span>.<span>com</span>
</span></span><span><span>    <span>name</span> = <span>Scott</span> <span>Lowe</span>
</span></span><span><span>[<span>commit</span>]
</span></span><span><span>    <span>gpgsign</span> = <span>false</span>
</span></span></code></pre></div><p>As long as I group all work-relatd repositories in the specified directory path, these values override the system-wide values. This means I can specify my work e-mail address as the e-mail address to be associated with commits to work-related repositories while all others use a different e-mail address. This configuration also allows me to disable GPG signing of commits for work-related repositories (i.e., repositories in the specified path), since I don’t have a GPG key associated with my work e-mail address.</p>
<p>Could you do this with per-repository configuration settings? <em>Absolutely.</em> This configuration mechanism allows you to apply configuration settings to groups of repositories based on their filesystem location, instead of having to do the same thing on a per-repository basis.</p>
<p>I hope you find this information useful. Do feel free to hit me up—<a href="https://fosstodon.org/@scottslowe">on the Fediverse</a>, <a href="https://twitter.com/scott_lowe">on Twitter</a>, or in any of a variety of Slack communities—if you have any questions or any feedback!</p>

  <h3>Metadata and Navigation</h3>
  <p><span>
  <i aria-hidden="true"></i> <a href="https://blog.scottlowe.org/tags/git">Git</a> <i aria-hidden="true"></i> <a href="https://blog.scottlowe.org/tags/cli">CLI</a> 

  </span>

  <span>
  <p>Be social and share this post!</p>
  </span>
</p></div>

      </div></div>
  </body>
</html>
