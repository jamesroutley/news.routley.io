<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://eclecticlight.co/2025/12/04/the-anatomy-of-a-macos-app/">Original</a>
    <h1>The Anatomy of a macOS App</h1>
    
    <div id="readability-page-1" class="page"><article id="post-89629">
	
	<!-- .entry-header -->

	
		<div data-first_letter="P">
		<p>Programs running in windowing environments, <em>applications</em> as we used to know them, have more complicated requirements than those run from a command line. Rather than embed all the resources they require for windows, menus and the rest in a single file, Mac OS broke new ground by putting those into resources stored in the app’s resource fork.</p>
<p><a href="https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png"><img data-attachment-id="5530" data-permalink="https://eclecticlight.co/prefsresedit/" data-orig-file="https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png" data-orig-size="799,599" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="prefsresedit" data-image-description="" data-image-caption="&lt;p&gt;Back in Classic days: opening QuarkXPress to customise it, using ResEdit.&lt;/p&gt;
" data-medium-file="https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png?w=300" data-large-file="https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png?w=799" src="https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png?w=940" alt="prefsresedit" srcset="https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png 799w, https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png?w=150&amp;h=112 150w, https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png?w=300&amp;h=225 300w, https://eclecticlight.co/wp-content/uploads/2015/11/prefsresedit.png?w=768&amp;h=576 768w" sizes="(max-width: 799px) 100vw, 799px"/></a></p>
<p>This is QuarkXPress version 4.11 from around 2000, with its resources displayed in the resource editor ResEdit. Executable code was also stored in CODE resources, and every file contained type and creator information to support the illusions created by the Finder.</p>
<h4>Mac OS X</h4>
<p>When Mac OS X was designed, it switched to the bundle structure inherited from NeXTSTEP. Instead of this multitude of resources, apps consisted of a hierarchy of directories containing files of executable code, and those with what had in Mac OS been supporting resources. Those app bundles came to adopt a standard form, shown below.</p>
<p><span><a href="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg"><img data-attachment-id="89632" data-permalink="https://eclecticlight.co/2025/12/04/the-anatomy-of-a-macos-app/anatomyofapposx/" data-orig-file="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg" data-orig-size="1240,940" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="AnatomyOfAppOSX" data-image-description="" data-image-caption="" data-medium-file="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg?w=300" data-large-file="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg?w=940" src="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg" alt="" width="940" height="713" srcset="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg?w=940&amp;h=713 940w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg?w=150&amp;h=114 150w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg?w=300&amp;h=227 300w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg?w=768&amp;h=582 768w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg?w=1024&amp;h=776 1024w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapposx.jpg 1240w" sizes="(max-width: 940px) 100vw, 940px"/></a></span></p>
<p>The bundle name has the extension .app, and contains a single directory Contents. Within that, the executable code is in the MacOS directory, which may contain both the main executable for the GUI app and any bundled command tools provided. Another directory contains Resources, including the app’s custom icon, and components of its GUI. In some apps, there’s another directory of Frameworks containing dylibs (libraries).</p>
<p>There are also two important files, Info.plist and PkgInfo. The latter contains the same type and creator information inherited from Classic Mac OS, and apparently isn’t mandatory although it appears universal. The information property list is essential, as it specifies the names of the executable and its icon file in Resources, the minimum version of macOS required, type declarations of the app’s documents, version numbers, and more.</p>
<p>When running a command tool in macOS, its Mach-O executable is launched by <code>launchd</code>, whose purpose is to run code. Launching an app is more demanding, although the app’s executable is still launched by <code>launchd</code>. Before that can happen, macOS starts the launch process using LaunchServices and RunningBoard, which rely on information obtained from Info.plist and other components in the app bundle.</p>
<h4>macOS</h4>
<p>This structure remained stable until the introduction of code signatures in Mac OS X 10.5 Leopard in 2007. Accommodating those added a directory named _CodeSignature containing the signature in a CodeResources file. That includes code directory hashes (CDHashes) to check the integrity of the contents of the app bundle. Apps distributed by the App Store include a store receipt in another directory, _MASReceipt. Since 2018, when Apple introduced notarization, the ‘ticket’ issued by Apple can be ‘stapled’ into the app bundle as the file CodeResources.</p>
<p>Many apps come with additional items that might in the past have been installed by them in their Library/Application Support folders and elsewhere, but are now included in the app bundle. These can include the following directories:</p>
<ul>
<li>Library, containing folders of LaunchDaemons and LoginItems that would previously have been installed in either the main Library folder, or that in the user’s Home folder;</li>
<li>XPCServices, for executable code that the app uses to provide specific services;</li>
<li>Plugins, for some types of app extension (Appex);</li>
<li>Extensions, for other types of app extension, including app intents.</li>
</ul>
<p>You may also come across other components, including a version.plist in Apple’s apps.</p>
<p>This centralisation of components in the app bundle has brought several benefits. Being self-contained, apps are easier to install and update, and cleaner to remove. Their components are less likely to go missing, and most of all they’re held within the protection of the app’s signature and notarisation, an important improvement in security.</p>
<p>Assembling these into a diagram shows how the anatomy of an app has grown over the last few years.</p>
<p><span><a href="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg"><img data-attachment-id="89631" data-permalink="https://eclecticlight.co/2025/12/04/the-anatomy-of-a-macos-app/anatomyofapp26/" data-orig-file="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg" data-orig-size="3928,930" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="AnatomyOfApp26" data-image-description="" data-image-caption="" data-medium-file="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=300" data-large-file="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=940" src="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg" alt="" width="940" height="223" srcset="https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=940&amp;h=223 940w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=1880&amp;h=445 1880w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=150&amp;h=36 150w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=300&amp;h=71 300w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=768&amp;h=182 768w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=1024&amp;h=242 1024w, https://eclecticlight.co/wp-content/uploads/2025/12/anatomyofapp26.jpg?w=1440&amp;h=341 1440w" sizes="(max-width: 940px) 100vw, 940px"/></a></span></p>
<p>Components shown in pale yellow are either mandatory or essentially universal. Those shown in green are found in apps distributed through the App Store, while that shown in blue is the stapled notarisation ticket (optional). You will also see additional folders and components such as Automator workflows, scripts, and others.</p>
<p>There is no difference in structure between apps built for current Intel and Arm architectures. That’s because binaries in the MacOS folder (and executable code in other directories like Frameworks, XPCServices and Plugins) contain platform-specific code in a single Mach-O executable. Thus, an app that’s Universal and runs native on both architectures includes code for both in its single ‘fat’ code file, and they even have separate signatures stored within common files.</p>
	</div><!-- .entry-content -->

	
	<!-- .entry-footer -->

</article></div>
  </body>
</html>
