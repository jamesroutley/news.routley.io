<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/sandreas/tone">Original</a>
    <h1>Tone: Cross platform audio tagger and metadata editor</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><code>tone</code> is a cross platform audio tagger and metadata editor to dump and modify metadata for a wide variety of formats, including <code>mp3</code>, <code>m4b</code>, <code>flac</code> and more. It has no dependencies and can be downloaded as single binary for Windows, macOS, Linux and other common platforms.</p>
<p dir="auto">The code is written in pure <code>C#</code> and utilizes the awesome <a href="https://github.com/Zeugma440/atldotnet">atldotnet</a> library to provide full support for a wide variety of audio and metadata formats.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Features</h2>
<p dir="auto">The main purpose of <code>tone</code> is to tag <code>m4b</code> audio books for myself. It is planned as a successor to [m4b-tool].</p>
<ul dir="auto">
<li><code>dump</code> metadata of audio files
<ul dir="auto">
<li>different metadata formats (e.g. <code>chptfmtnative</code>, <code>ffmetadata</code>, etc.)</li>
<li>file information (bitrate, channels, duration, etc.)</li>
<li>support for filterable <code>json</code> output (similar to <code>jq</code>)</li>
<li>extensive list of supported tags (default fields like <em>album</em> or *artist as well as <em>custom fields</em>, <em>covers</em>, <em>chapters</em>, etc.)</li>
</ul>
</li>
<li><code>tag</code> audio files with different kinds of metadata
<ul dir="auto">
<li>different file formats (e.g. <code>mp3</code>, <code>m4b</code>, and <code>flac</code>)</li>
<li>extensive list of supported tags (default fields like <em>album</em> or *artist as well as <em>custom fields</em>, <em>covers</em>, <em>chapters</em>, etc.)</li>
<li>filename to tags via <code>--path-pattern</code> (see below)</li>
<li>custom javascript taggers via <code>--script</code> and <code>--script-tagger-parameter</code></li>
</ul>
</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-future-plans" aria-hidden="true" href="#future-plans"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Future plans</h3>
<ul>
<li> <code>split</code> large audio files into multiple smaller files (e.g. by chapters) using <code>ffmpeg</code>, <code>fdkaac</code> and <a href="https://github.com/Tyrrrz/CliWrap">CliWrap</a></li>
<li> <code>merge</code> multiple smaller audio files into large ones auto generating chapters using silence detection with <code>ffmpeg</code>, <code>fdkaac</code> and <a href="https://github.com/Tyrrrz/CliWrap">CliWrap</a></li>
<li> write unit tests and more detailed documentation</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-support-me-via-github-sponsors" aria-hidden="true" href="#support-me-via-github-sponsors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Support me via GitHub sponsors</h2>
<p dir="auto">If you are using any of my projects and find them helpful, please consider <a href="https://github.com/sponsors/sandreas">donating to support me</a>. I plan to use the money to support other open source projects or charitable purposes. Thank you!</p>
<p dir="auto">
<a href="https://github.com/sponsors/sandreas"><img src="https://the.scapegoat.dev/sandreas/tone/raw/main/assets/help.svg" width="300" alt="sponsor me and donate"/></a>
</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-tldr" aria-hidden="true" href="#tldr"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>TL;DR</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-dump-tags" aria-hidden="true" href="#dump-tags"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>dump tags</h3>
<div dir="auto" data-snippet-clipboard-copy-content="# show help
tone dump --help

# show all tags for single file (input.mp3)
tone dump input.mp3

# show title and artiest tag recursively for all files in directory with extension m4b in FFMETADATA format
tone dump audio-directory/ --include-extension m4b --format ffmetadata --include-property title --include-property artist

# show album only via json format and JSONPath query
tone dump &#34;input.mp3&#34; --format json --query &#34;$.meta.album&#34;

# show audio stream information via JSONPath query
tone dump &#34;input.mp3&#34; --format json --query &#34;$.audio&#34;
"><pre><span><span>#</span> show help</span>
tone dump --help

<span><span>#</span> show all tags for single file (input.mp3)</span>
tone dump input.mp3

<span><span>#</span> show title and artiest tag recursively for all files in directory with extension m4b in FFMETADATA format</span>
tone dump audio-directory/ --include-extension m4b --format ffmetadata --include-property title --include-property artist

<span><span>#</span> show album only via json format and JSONPath query</span>
tone dump <span><span>&#34;</span>input.mp3<span>&#34;</span></span> --format json --query <span><span>&#34;</span>$.meta.album<span>&#34;</span></span>

<span><span>#</span> show audio stream information via JSONPath query</span>
tone dump <span><span>&#34;</span>input.mp3<span>&#34;</span></span> --format json --query <span><span>&#34;</span>$.audio<span>&#34;</span></span>
</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-modify-tags" aria-hidden="true" href="#modify-tags"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>modify tags</h3>
<div dir="auto" data-snippet-clipboard-copy-content="# show help
tone tag --help

# change title tag
tone tag input.mp3 --meta-title &#34;a title&#34;

# change a custom field, auto-import covers nearby and show debug info on error (--dry-run simulation)
tone tag --debug --auto-import=covers --meta-additional-field &#34;©st3=testing&#34; input.m4b --dry-run

# recursively set tags genre, artist, series, part and title by path pattern (--dry-run simulation)
tone tag --auto-import=covers --auto-import=chapters --path-pattern=&#34;audiobooks/%g/%a/%s/%p - %n.m4b&#34; --path-pattern=&#34;audiobooks/%g/%a/%z/%n.m4b&#34; audiobooks/ --dry-run

# write your own custom JavaScript tagger and call this function with parameters to modify metadata on your own
tone tag &#34;harry-potter-1.m4b&#34; --taggers=&#34;musicbrainz&#34; --script=&#34;musicbrainz.js&#34; --script-tagger-parameter=&#34;e2310769-2e68-462f-b54f-25ac8e3f1a21&#34;"><pre><span><span>#</span> show help</span>
tone tag --help

<span><span>#</span> change title tag</span>
tone tag input.mp3 --meta-title <span><span>&#34;</span>a title<span>&#34;</span></span>

<span><span>#</span> change a custom field, auto-import covers nearby and show debug info on error (--dry-run simulation)</span>
tone tag --debug --auto-import=covers --meta-additional-field <span><span>&#34;</span>©st3=testing<span>&#34;</span></span> input.m4b --dry-run

<span><span>#</span> recursively set tags genre, artist, series, part and title by path pattern (--dry-run simulation)</span>
tone tag --auto-import=covers --auto-import=chapters --path-pattern=<span><span>&#34;</span>audiobooks/%g/%a/%s/%p - %n.m4b<span>&#34;</span></span> --path-pattern=<span><span>&#34;</span>audiobooks/%g/%a/%z/%n.m4b<span>&#34;</span></span> audiobooks/ --dry-run

<span><span>#</span> write your own custom JavaScript tagger and call this function with parameters to modify metadata on your own</span>
tone tag <span><span>&#34;</span>harry-potter-1.m4b<span>&#34;</span></span> --taggers=<span><span>&#34;</span>musicbrainz<span>&#34;</span></span> --script=<span><span>&#34;</span>musicbrainz.js<span>&#34;</span></span> --script-tagger-parameter=<span><span>&#34;</span>e2310769-2e68-462f-b54f-25ac8e3f1a21<span>&#34;</span></span></pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-setup" aria-hidden="true" href="#setup"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setup</h2>
<p dir="auto"><code>tone</code> is a terminal application and deployed as monolithic binary with no dependencies.
This means, that downloading a single file from the <a href="https://github.com/sandreas/tone/releases">releases</a> page.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-linux--macos" aria-hidden="true" href="#linux--macos"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Linux / macOS</h3>
<div dir="auto" data-snippet-clipboard-copy-content="
# linux-arm
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-linux-arm.tar.gz

# linux-arm64
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-linux-arm64.tar.gz

# linux-x64
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-linux-x64.tar.gz

# macos (m1) - not working atm, see issue #6
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-osx-arm64.tar.gz

# macos (intel)
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-osx-x64.tar.gz

# untar 
tar xzf tone-*.tar.gz

# install to your $PATH
sudo mv tone*/tone /usr/local/bin/

# test if tone is usable
tone --help"><pre><span><span>#</span> linux-arm</span>
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-linux-arm.tar.gz

<span><span>#</span> linux-arm64</span>
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-linux-arm64.tar.gz

<span><span>#</span> linux-x64</span>
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-linux-x64.tar.gz

<span><span>#</span> macos (m1) - not working atm, see issue #6</span>
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-osx-arm64.tar.gz

<span><span>#</span> macos (intel)</span>
wget https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-osx-x64.tar.gz

<span><span>#</span> untar </span>
tar xzf tone-<span>*</span>.tar.gz

<span><span>#</span> install to your $PATH</span>
sudo mv tone<span>*</span>/tone /usr/local/bin/

<span><span>#</span> test if tone is usable</span>
tone --help</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-windows" aria-hidden="true" href="#windows"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Windows</h3>
<div dir="auto" data-snippet-clipboard-copy-content="# download for windows (powershell)
iwr -outf tone-0.1.4-win-x64.zip https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-win-x64.zip

# extract tone
Expand-Archive -LiteralPath tone-0.1.4-win-x64.zip -DestinationPath .

# test if tone is usable
.\tone --help

# open directory in windows explorer to manually put tone in your %PATH%, e.g. C:\Windows
start ."><pre><span><span>#</span> download for windows (powershell)</span>
iwr -outf tone-0.1.4-win-x64.zip https://github.com/sandreas/tone/releases/download/v0.1.4/tone-0.1.4-win-x64.zip

<span><span>#</span> extract tone</span>
Expand-Archive -LiteralPath tone-0.1.4-win-x64.zip -DestinationPath <span>.</span>

<span><span>#</span> test if tone is usable</span>
.<span>\t</span>one --help

<span><span>#</span> open directory in windows explorer to manually put tone in your %PATH%, e.g. C:\Windows</span>
start <span>.</span></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-docker" aria-hidden="true" href="#docker"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Docker</h3>
<p dir="auto">Since <code>tone</code> is a monolith, it is probably not necessary to run it via <code>docker</code>, but since it is convenient to have a possibility to copy <code>tone</code> in your own image, I published an official variant on dockerhub. Since it is a <em>multiarch</em>  image, you can use it on <code>arm6</code>, <code>arm7</code>, <code>aarch64</code>, and <code>x64</code> images.</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker pull sandreas/tone:v0.1.4"><pre>docker pull sandreas/tone:v0.1.4</pre></div>
<p dir="auto">Or to use <code>tone</code> in your custom <code>Dockerfile</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Dockerfile
FROM sandreas/tone:v0.1.4 as tone
# ...
COPY --from=tone /usr/local/bin/tone /usr/local/bin/"><pre><span><span>#</span> Dockerfile</span>
<span>FROM</span> sandreas/tone:v0.1.4 as tone
<span><span>#</span> ...</span>
<span>COPY</span> --from=tone /usr/local/bin/tone /usr/local/bin/</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-reserved-fields-and-supported-formats" aria-hidden="true" href="#reserved-fields-and-supported-formats"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Reserved fields and supported formats</h2>
<p dir="auto"><code>tone</code> already supports some common input and output formats for metadata, as well as a <code>tone</code> specific one (<code>ToneJson</code>). Moreover <code>tone</code> also uses some <em>reserved metadata fields</em> to overcome issues when storing specific information.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-reserved-metadata-fields" aria-hidden="true" href="#reserved-metadata-fields"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Reserved metadata fields</h3>
<p dir="auto">The namespace <code>----:com.pilabor.tone</code> as well as the following fields are reserved for <code>tone</code> in <code>mp4</code> / <code>m4a</code> / <code>m4b</code> based file formats:</p>
<ul dir="auto">
<li><code>----:com.pilabor.tone:AUDIBLE_ASIN</code>: Since there is no official field for storing the audible ASIN, <code>tone</code> MAY use this custom field to store this piece information</li>
<li><code>----:com.pilabor.tone:PART</code>: Since the movement index is often used for a part of a series but only supports integers (e.g. <code>1</code>) it cannot store some series part names (e.g. <code>2.1</code> or roman numbers like <code>IV</code>)
<ul dir="auto">
<li><code>tone</code> supports <code>--meta-part</code> parameter being a fallback for storing non integer values while coincidentally storing <code>--meta-movement</code> only if it is an integer value</li>
<li>Therefore it is always recommended to use the <code>--meta-part</code> parameter instead of <code>--meta-movement</code> to set the part number of a series</li>
</ul>
</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-tonejson-format" aria-hidden="true" href="#tonejson-format"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>ToneJson format</h3>
<p dir="auto">The <em>ToneJson</em> format is specific for <code>tone</code>, can contain all supported metadata (including binary images) and looks similar to this example...</p>
<p dir="auto"><strong>Example</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;audio&#34;: {
    &#34;bitrate&#34;: 320,
    &#34;format&#34;: &#34;MPEG Audio (Layer III)&#34;,
    &#34;formatShort&#34;: &#34;MPEG&#34;,
    &#34;sampleRate&#34;: 44100.0,
    &#34;duration&#34;: 255920.0,
    &#34;channels&#34;: {
      &#34;count&#34;: 2,
      &#34;description&#34;: &#34;Joint Stereo&#34;
    },
    &#34;frames&#34;: {
      &#34;offset&#34;: 20749,
      &#34;length&#34;: 10236864
    },
    &#34;metaFormat&#34;: [
      &#34;id3V24&#34;
    ]
  },
  &#34;meta&#34;: {
    &#34;album&#34;: &#34;Back in Black&#34;,
    &#34;albumArtist&#34;: &#34;AC/DC&#34;,
    &#34;artist&#34;: &#34;AC/DC&#34;,
    &#34;discNumber&#34;: 1,
    &#34;discTotal&#34;: 1,
    &#34;encodedBy&#34;: &#34;LAME 3.99.5&#34;,
    &#34;genre&#34;: &#34;Hard Rock&#34;,
    &#34;itunesCompilation&#34;: &#34;no&#34;,
    &#34;publisher&#34;: &#34;Atlantic&#34;,
    &#34;recordingDate&#34;: &#34;1986-01-01T00:00:00&#34;,
    &#34;sortArtist&#34;: &#34;AC/DC&#34;,
    &#34;title&#34;: &#34;Back in Black&#34;,
    &#34;trackNumber&#34;: 6,
    &#34;trackTotal&#34;: 10,
    &#34;embeddedPictures&#34;: [
      {
        &#34;type&#34;: 2,
        &#34;code&#34;: 3,
        &#34;mimetype&#34;: &#34;image/jpeg&#34;,
        &#34;data&#34;: &#34;/9j/4AAQSkZJRgA...9k=&#34;
      }
    ],
    &#34;additionalFields&#34;: {
      &#34;grP1&#34;: &#34;5&#34;,
      &#34;tmed&#34;: &#34;CD&#34;,
      &#34;tlan&#34;: &#34;eng&#34;,
      &#34;tipl&#34;: &#34;arranger&#34;,
      &#34;tdor&#34;: &#34;1980-07-25&#34;,
      &#34;script&#34;: &#34;Latn&#34;,
      &#34;artist Credit&#34;: &#34;AC/DC&#34;,
      &#34;albumartistsort&#34;: &#34;AC/DC&#34;,
      &#34;catalognumber&#34;: &#34;16018-2&#34;,
      &#34;album Artist Credit&#34;: &#34;AC/DC&#34;,
      &#34;musicBrainz Album Type&#34;: &#34;album&#34;,
      &#34;replaygaiN_ALBUM_GAIN&#34;: &#34;-8.43 dB&#34;,
      &#34;replaygaiN_ALBUM_PEAK&#34;: &#34;1.064363&#34;,
      &#34;replaygaiN_TRACK_GAIN&#34;: &#34;-8.38 dB&#34;,
      &#34;replaygaiN_TRACK_PEAK&#34;: &#34;1.051585&#34;,
      &#34;musicBrainz Album Status&#34;: &#34;Official&#34;,
      &#34;musicBrainz Album Release Country&#34;: &#34;DE&#34;,
      &#34;acoustid Id&#34;: &#34;8b379144-9a9d-4fc1-897a-a7c0771f8ebb&#34;,
      &#34;musicBrainz Album Id&#34;: &#34;fdabb997-b984-4097-bd3b-89fafd5e2e75&#34;,
      &#34;ufid&#34;: &#34;http://musicbrainz.org\u0000ef71afb6-5e51-41df-999b-9e7c7306063a&#34;,
      &#34;musicBrainz Artist Id&#34;: &#34;66c662b6-6e2f-4930-8610-912e24c63ed1&#34;,
      &#34;musicBrainz Album Artist Id&#34;: &#34;66c662b6-6e2f-4930-8610-912e24c63ed1&#34;,
      &#34;musicBrainz Release Group Id&#34;: &#34;d3bc1a64-7561-3787-b680-0003aa50f8f1&#34;,
      &#34;musicBrainz Release Track Id&#34;: &#34;cf05ab29-27c7-47ed-9450-9f4de676cded&#34;,
      &#34;acoustid Fingerprint&#34;: &#34;AQADtE...oIIYgRUChBhABIEeWAA0AQR4hSDg&#34;,
      &#34;iTunNORM&#34;: &#34; 00001AE7 00001AE7 00004340 00004340 00000000 00000000 0000869A 0000869A 00000000 00000000&#34;
    }
  },
  &#34;file&#34;: {
    &#34;size&#34;: 10257613,
    &#34;created&#34;: &#34;2019-06-12T18:50:37.5527895+02:00&#34;,
    &#34;modified&#34;: &#34;2019-06-12T18:50:37.5527895+02:00&#34;,
    &#34;accessed&#34;: &#34;2023-02-14T09:21:29.2261032+01:00&#34;,
    &#34;path&#34;: &#34;music/album/AC_DC/Back in Black&#34;,
    &#34;name&#34;: &#34;06 - Back in Black.mp3&#34;
  }
}
"><pre>{
  <span>&#34;audio&#34;</span>: {
    <span>&#34;bitrate&#34;</span>: <span>320</span>,
    <span>&#34;format&#34;</span>: <span><span>&#34;</span>MPEG Audio (Layer III)<span>&#34;</span></span>,
    <span>&#34;formatShort&#34;</span>: <span><span>&#34;</span>MPEG<span>&#34;</span></span>,
    <span>&#34;sampleRate&#34;</span>: <span>44100.0</span>,
    <span>&#34;duration&#34;</span>: <span>255920.0</span>,
    <span>&#34;channels&#34;</span>: {
      <span>&#34;count&#34;</span>: <span>2</span>,
      <span>&#34;description&#34;</span>: <span><span>&#34;</span>Joint Stereo<span>&#34;</span></span>
    },
    <span>&#34;frames&#34;</span>: {
      <span>&#34;offset&#34;</span>: <span>20749</span>,
      <span>&#34;length&#34;</span>: <span>10236864</span>
    },
    <span>&#34;metaFormat&#34;</span>: [
      <span><span>&#34;</span>id3V24<span>&#34;</span></span>
    ]
  },
  <span>&#34;meta&#34;</span>: {
    <span>&#34;album&#34;</span>: <span><span>&#34;</span>Back in Black<span>&#34;</span></span>,
    <span>&#34;albumArtist&#34;</span>: <span><span>&#34;</span>AC/DC<span>&#34;</span></span>,
    <span>&#34;artist&#34;</span>: <span><span>&#34;</span>AC/DC<span>&#34;</span></span>,
    <span>&#34;discNumber&#34;</span>: <span>1</span>,
    <span>&#34;discTotal&#34;</span>: <span>1</span>,
    <span>&#34;encodedBy&#34;</span>: <span><span>&#34;</span>LAME 3.99.5<span>&#34;</span></span>,
    <span>&#34;genre&#34;</span>: <span><span>&#34;</span>Hard Rock<span>&#34;</span></span>,
    <span>&#34;itunesCompilation&#34;</span>: <span><span>&#34;</span>no<span>&#34;</span></span>,
    <span>&#34;publisher&#34;</span>: <span><span>&#34;</span>Atlantic<span>&#34;</span></span>,
    <span>&#34;recordingDate&#34;</span>: <span><span>&#34;</span>1986-01-01T00:00:00<span>&#34;</span></span>,
    <span>&#34;sortArtist&#34;</span>: <span><span>&#34;</span>AC/DC<span>&#34;</span></span>,
    <span>&#34;title&#34;</span>: <span><span>&#34;</span>Back in Black<span>&#34;</span></span>,
    <span>&#34;trackNumber&#34;</span>: <span>6</span>,
    <span>&#34;trackTotal&#34;</span>: <span>10</span>,
    <span>&#34;embeddedPictures&#34;</span>: [
      {
        <span>&#34;type&#34;</span>: <span>2</span>,
        <span>&#34;code&#34;</span>: <span>3</span>,
        <span>&#34;mimetype&#34;</span>: <span><span>&#34;</span>image/jpeg<span>&#34;</span></span>,
        <span>&#34;data&#34;</span>: <span><span>&#34;</span>/9j/4AAQSkZJRgA...9k=<span>&#34;</span></span>
      }
    ],
    <span>&#34;additionalFields&#34;</span>: {
      <span>&#34;grP1&#34;</span>: <span><span>&#34;</span>5<span>&#34;</span></span>,
      <span>&#34;tmed&#34;</span>: <span><span>&#34;</span>CD<span>&#34;</span></span>,
      <span>&#34;tlan&#34;</span>: <span><span>&#34;</span>eng<span>&#34;</span></span>,
      <span>&#34;tipl&#34;</span>: <span><span>&#34;</span>arranger<span>&#34;</span></span>,
      <span>&#34;tdor&#34;</span>: <span><span>&#34;</span>1980-07-25<span>&#34;</span></span>,
      <span>&#34;script&#34;</span>: <span><span>&#34;</span>Latn<span>&#34;</span></span>,
      <span>&#34;artist Credit&#34;</span>: <span><span>&#34;</span>AC/DC<span>&#34;</span></span>,
      <span>&#34;albumartistsort&#34;</span>: <span><span>&#34;</span>AC/DC<span>&#34;</span></span>,
      <span>&#34;catalognumber&#34;</span>: <span><span>&#34;</span>16018-2<span>&#34;</span></span>,
      <span>&#34;album Artist Credit&#34;</span>: <span><span>&#34;</span>AC/DC<span>&#34;</span></span>,
      <span>&#34;musicBrainz Album Type&#34;</span>: <span><span>&#34;</span>album<span>&#34;</span></span>,
      <span>&#34;replaygaiN_ALBUM_GAIN&#34;</span>: <span><span>&#34;</span>-8.43 dB<span>&#34;</span></span>,
      <span>&#34;replaygaiN_ALBUM_PEAK&#34;</span>: <span><span>&#34;</span>1.064363<span>&#34;</span></span>,
      <span>&#34;replaygaiN_TRACK_GAIN&#34;</span>: <span><span>&#34;</span>-8.38 dB<span>&#34;</span></span>,
      <span>&#34;replaygaiN_TRACK_PEAK&#34;</span>: <span><span>&#34;</span>1.051585<span>&#34;</span></span>,
      <span>&#34;musicBrainz Album Status&#34;</span>: <span><span>&#34;</span>Official<span>&#34;</span></span>,
      <span>&#34;musicBrainz Album Release Country&#34;</span>: <span><span>&#34;</span>DE<span>&#34;</span></span>,
      <span>&#34;acoustid Id&#34;</span>: <span><span>&#34;</span>8b379144-9a9d-4fc1-897a-a7c0771f8ebb<span>&#34;</span></span>,
      <span>&#34;musicBrainz Album Id&#34;</span>: <span><span>&#34;</span>fdabb997-b984-4097-bd3b-89fafd5e2e75<span>&#34;</span></span>,
      <span>&#34;ufid&#34;</span>: <span><span>&#34;</span>http://musicbrainz.org<span>\u0000</span>ef71afb6-5e51-41df-999b-9e7c7306063a<span>&#34;</span></span>,
      <span>&#34;musicBrainz Artist Id&#34;</span>: <span><span>&#34;</span>66c662b6-6e2f-4930-8610-912e24c63ed1<span>&#34;</span></span>,
      <span>&#34;musicBrainz Album Artist Id&#34;</span>: <span><span>&#34;</span>66c662b6-6e2f-4930-8610-912e24c63ed1<span>&#34;</span></span>,
      <span>&#34;musicBrainz Release Group Id&#34;</span>: <span><span>&#34;</span>d3bc1a64-7561-3787-b680-0003aa50f8f1<span>&#34;</span></span>,
      <span>&#34;musicBrainz Release Track Id&#34;</span>: <span><span>&#34;</span>cf05ab29-27c7-47ed-9450-9f4de676cded<span>&#34;</span></span>,
      <span>&#34;acoustid Fingerprint&#34;</span>: <span><span>&#34;</span>AQADtE...oIIYgRUChBhABIEeWAA0AQR4hSDg<span>&#34;</span></span>,
      <span>&#34;iTunNORM&#34;</span>: <span><span>&#34;</span> 00001AE7 00001AE7 00004340 00004340 00000000 00000000 0000869A 0000869A 00000000 00000000<span>&#34;</span></span>
    }
  },
  <span>&#34;file&#34;</span>: {
    <span>&#34;size&#34;</span>: <span>10257613</span>,
    <span>&#34;created&#34;</span>: <span><span>&#34;</span>2019-06-12T18:50:37.5527895+02:00<span>&#34;</span></span>,
    <span>&#34;modified&#34;</span>: <span><span>&#34;</span>2019-06-12T18:50:37.5527895+02:00<span>&#34;</span></span>,
    <span>&#34;accessed&#34;</span>: <span><span>&#34;</span>2023-02-14T09:21:29.2261032+01:00<span>&#34;</span></span>,
    <span>&#34;path&#34;</span>: <span><span>&#34;</span>music/album/AC_DC/Back in Black<span>&#34;</span></span>,
    <span>&#34;name&#34;</span>: <span><span>&#34;</span>06 - Back in Black.mp3<span>&#34;</span></span>
  }
}
</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-chptfmtnative-format-also-chpt_fmt_native" aria-hidden="true" href="#chptfmtnative-format-also-chpt_fmt_native"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>ChptFmtNative format (also CHPT_FMT_NATIVE)</h3>
<p dir="auto">The <em>ChptFmtNative</em> format was initially used in <code>mp4v2</code>, but never fully specified. However, there is a loose <a href="https://github.com/enzo1982/mp4v2/files/8103210/ToolGuide.txt">spec here</a>.</p>
<p dir="auto"><strong>Example</strong></p>
<div data-snippet-clipboard-copy-content="## artist: Cœur de pirate
## album: Blonde
##
## total-duration: 00:38:37.034
##
00:00:00.000 Lève les voiles
00:01:12.709 Adieu
00:03:40.346 Danse et danse
00:06:50.775 Golden Baby
00:09:57.772 Ava
00:13:14.657 Loin d&#39;ici
00:15:58.494 Les amours dévouées
00:18:26.443 Place de la république
00:22:37.664 Cap diamant
00:25:20.925 Verseau
00:29:14.722 Saint-Laurent
00:32:29.519 La petite mort
00:36:19.140 Hôtel amour"><pre><code>## artist: Cœur de pirate
## album: Blonde
##
## total-duration: 00:38:37.034
##
00:00:00.000 Lève les voiles
00:01:12.709 Adieu
00:03:40.346 Danse et danse
00:06:50.775 Golden Baby
00:09:57.772 Ava
00:13:14.657 Loin d&#39;ici
00:15:58.494 Les amours dévouées
00:18:26.443 Place de la république
00:22:37.664 Cap diamant
00:25:20.925 Verseau
00:29:14.722 Saint-Laurent
00:32:29.519 La petite mort
00:36:19.140 Hôtel amour
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-ffmetadata-format" aria-hidden="true" href="#ffmetadata-format"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>ffmetadata format</h3>
<p dir="auto">The <em>ffmetadata</em> format was designed for <code>ffmpeg</code>, a versatile media encoder and it is <a href="https://ffmpeg.org/ffmpeg-formats.html#toc-Metadata-1" rel="nofollow">specified here</a>.</p>
<p dir="auto"><strong>Example</strong></p>
<div data-snippet-clipboard-copy-content=";FFMETADATA1
title=Back in Black
artist=AC/DC
track=6/10
album=Back in Black
disc=1/1
date=1986
genre=Hard Rock
TBPM=0
compilation=0
TMED=CD
language=eng
album_artist=AC/DC
artist-sort=AC/DC
publisher=Atlantic
TIPL=arranger
TDOR=1980-07-25
encoded_by=LAME 3.99.5
Script=Latn
Artist Credit=AC/DC
ALBUMARTISTSORT=AC/DC
CATALOGNUMBER=16018-2"><pre><code>;FFMETADATA1
title=Back in Black
artist=AC/DC
track=6/10
album=Back in Black
disc=1/1
date=1986
genre=Hard Rock
TBPM=0
compilation=0
TMED=CD
language=eng
album_artist=AC/DC
artist-sort=AC/DC
publisher=Atlantic
TIPL=arranger
TDOR=1980-07-25
encoded_by=LAME 3.99.5
Script=Latn
Artist Credit=AC/DC
ALBUMARTISTSORT=AC/DC
CATALOGNUMBER=16018-2
</code></pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-commands" aria-hidden="true" href="#commands"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Commands</h2>
<p dir="auto">The features of <code>tone</code> are divided by commands. You can <code>dump</code> information or <code>tag</code> a file and so on. To do so, run</p>
<div dir="auto" data-snippet-clipboard-copy-content="tone &lt;command&gt; &lt;parameters&gt;"><pre>tone <span>&lt;</span>command<span>&gt;</span> <span>&lt;</span>parameters<span>&gt;</span></pre></div>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="tone dump &#34;my-audio-file.mp3&#34;"><pre><code>tone dump &#34;my-audio-file.mp3&#34;
</code></pre></div>
<p dir="auto"><strong>global options</strong></p>
<p dir="auto">There are some global options, that can be used to change the behaviour of the file iterator. These options apply for all commands:</p>
<ul dir="auto">
<li><code>--order-by</code>: Sort files by attribute (defaults to <code>path</code>, available options are <code>path</code>, <code>size</code>, <code>filename</code>, <code>extension</code>, <code>created</code>, <code>modified</code>, <code>accessed</code>, combine via <code>,</code>, descending via <code>!</code>), examples:
<ul dir="auto">
<li><code>--order-by=&#34;!created&#34;</code> - sort by create date descending</li>
<li><code>--order-by=&#34;extension,created&#34;</code> - sort by extension, then by created</li>
<li><code>--order-by=&#34;size,!extension,modified&#34;</code> - sort by size, then extension descending, then by modification date</li>
</ul>
</li>
<li><code>--limit</code>: Limit results
<ul dir="auto">
<li>one value (e.g. <code>--limit=10</code>) - top <code>10</code> results</li>
<li>two values with comma (e.g. <code>--limit=10,20</code>) - offset <code>10</code> fetch <code>20</code> results</li>
</ul>
</li>
<li><code>--include-extensions</code>: Filter for these extensions</li>
<li><code>--debug</code>: Enable debug mode (for development or issue reporting)</li>
<li><code>--force</code>: Try to force action (e.g. overwrite existing files, etc.)</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-dump---show-audio-metadata" aria-hidden="true" href="#dump---show-audio-metadata"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><code>dump</code> - show audio metadata</h3>
<p dir="auto">The <code>dump</code> command can be used to show metadata for a wide variety of audio files. You can either specify a single file or a directory,
which will be traversed recursively. Several output <code>--format</code> options are supported. By default a terminal user interface library is used,
but it is also possible to use <code>json</code> or <code>ffmetadata</code>.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-options-reference" aria-hidden="true" href="#options-reference"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Options reference</h4>
<div dir="auto" data-snippet-clipboard-copy-content="tone dump --help           
USAGE:
    tone dump [input] [OPTIONS]

EXAMPLES:
    tone dump --help
    tone dump input.mp3
    tone dump audio-directory/ --include-extension m4b --format ffmetadata --include-property title --include-property artist

ARGUMENTS:
    [input]    Input files or folders

OPTIONS:
    -h, --help                 Prints help information
        --debug                                       
        --force                                       
        --include-extension                           
        --order-by                                    
        --limit                                       
        --include-property                            
        --format                                      
        --query "><pre>tone dump --help           
USAGE:
    tone dump [input] [OPTIONS]

EXAMPLES:
    tone dump --help
    tone dump input.mp3
    tone dump audio-directory/ --include-extension m4b --format ffmetadata --include-property title --include-property artist

ARGUMENTS:
    [input]    Input files or folders

OPTIONS:
    -h, --help                 Prints <span>help</span> information
        --debug                                       
        --force                                       
        --include-extension                           
        --order-by                                    
        --limit                                       
        --include-property                            
        --format                                      
        --query </pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-tag---modify-audio-metadata" aria-hidden="true" href="#tag---modify-audio-metadata"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><code>tag</code> - modify audio metadata</h3>
<p dir="auto">The <code>tag</code> command can be used to modify audio metadata. Besides using predefined parameters like <code>--meta-album</code> it is also possible to
add or modify custom fields via <code>--meta-additional-field</code>, e.g. <code>--meta-additional-field &#34;©st3=testing&#34;</code> as well as pictures or chapters.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-the---taggers-option" aria-hidden="true" href="#the---taggers-option"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>The <code>--taggers</code> option</h4>
<p dir="auto">The <code>--taggers</code> option allows you to specify a custom set or a different order of internal taggers (NOT input formats), which are gonna be applied. In most cases
changing the order of the <em>taggers</em> does not make a huge difference, but fully understanding this option
requires a bit of technical knowledge. Lets go through a use case to see what you can do with it.</p>
<blockquote>
<p dir="auto">Note: Internal taggers are applied in a sane order by default and not meant for beginners. Most of the time you don&#39;t need to change the order and this usually is for very specific experts use cases. So if you don&#39;t fully understand this option, just leave it as is.</p>
</blockquote>
<p dir="auto"><em>Use case: re-tag <code>sorttitle</code> / <code>sortalbum</code></em>
The following taggers are relevant for this use case:</p>
<ul dir="auto">
<li><code>remove</code> - Removes metadata fields or sets it to an empty value</li>
<li><code>m4bfillup</code> - Fills up missing or relevant special fields for audio books (e.g. <code>sorttitle</code> / <code>sortalbum</code>)</li>
<li><code>*</code> - Represents all remaining taggers, that are not already provided by name</li>
</ul>
<p dir="auto">Usually, the <code>remove</code> tagger is applied at last. If you provide <code>--meta-remove-property=sorttitle</code>, this ensures an existing value will really be
removed after all taggers have been applied. The <code>m4bfillup</code> tagger will automatically generate <code>sorttitle</code> / <code>sortalbum</code> from <code>movementname</code>,
<code>movement</code> and <code>title</code> / <code>album</code> if AND ONLY IF the current value is empty.</p>
<p dir="auto">So if you change the <code>movementname</code> (e.g. <code>Harray Potter</code> to <code>Harry Potter</code> because of a typo), <code>sorttitle</code> / <code>sortalbum</code> will not be updated,
because these fields already have a value. If you <code>remove</code> the <code>sorttitle</code> / <code>sortalbum</code>, it will not be auto-updated but only removed,
since <code>remove</code> is applied after <code>m4bfillup</code>.</p>
<p dir="auto">This can be solved by reordering the taggers:</p>
<ul dir="auto">
<li>First apply <code>remove</code> tagger to remove <code>sorttitle</code> / <code>sortalbum</code> completely</li>
<li>Then apply <code>m4bfillup</code> to rebuild <code>sorttitle</code> / <code>sortalbum</code></li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="tone tag harry-potter-1.m4b --taggers=&#34;remove,m4bfillup&#34; --meta-movement-name=&#34;Harry Potter&#34; --meta-remove-property=&#34;sortalbum&#34; --meta-remove-property=&#34;sorttitle&#34;"><pre>tone tag harry-potter-1.m4b --taggers=<span><span>&#34;</span>remove,m4bfillup<span>&#34;</span></span> --meta-movement-name=<span><span>&#34;</span>Harry Potter<span>&#34;</span></span> --meta-remove-property=<span><span>&#34;</span>sortalbum<span>&#34;</span></span> --meta-remove-property=<span><span>&#34;</span>sorttitle<span>&#34;</span></span></pre></div>
<p dir="auto">As you see, most of the time, you only care about one special tagger to be applied first or last. This is why <code>tone</code> has an option to add all
remaining taggers to the list using a <code>*</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="tone tag harry-potter-1.m4b --taggers=&#34;remove,*&#34; --meta-movement-name=&#34;Harry Potter&#34; --meta-remove-property=&#34;sortalbum&#34; --meta-remove-property=&#34;sorttitle&#34;"><pre>tone tag harry-potter-1.m4b --taggers=<span><span>&#34;</span>remove,*<span>&#34;</span></span> --meta-movement-name=<span><span>&#34;</span>Harry Potter<span>&#34;</span></span> --meta-remove-property=<span><span>&#34;</span>sortalbum<span>&#34;</span></span> --meta-remove-property=<span><span>&#34;</span>sorttitle<span>&#34;</span></span></pre></div>
<p dir="auto">The following taggers are available at the moment (names can be applied case insensitive):</p>
<ul dir="auto">
<li><code>ToneJson</code> - sets metadata values from <code>tone.json</code> file</li>
<li><code>Metadata</code> - sets metadata values from input parameters <code>--meta-...</code></li>
<li><code>Cover</code> - sets cover from cover files</li>
<li><code>PathPattern</code> - sets metadata values from path pattern</li>
<li><code>ChptFmtNative</code> - sets chapters from <code>chapters.txt</code> file</li>
<li><code>Equate</code> - equates 2 or more metadata fields from <code>--meta-equate</code></li>
<li><code>M4BFillUp</code> - auto fill <code>album</code>, <code>title</code>, <code>iTunesMediaType</code> from existing fields if possible</li>
<li><code>PrependMovementToDescription</code> - prepends <code>movement</code> to all description fields, if set</li>
<li><code>Remove</code> - removes metadata values from input parameter <code>--meta-remove-property</code> and <code>--meta-remove-additional-field</code></li>
<li><code>ScriptTagger</code> - your personal custom JavaScript taggers (see below)</li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-options-reference-1" aria-hidden="true" href="#options-reference-1"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Options reference</h4>
<div dir="auto" data-snippet-clipboard-copy-content="tone tag --help                                                                                                                                                                     
USAGE:
    tone tag [input] [OPTIONS]

EXAMPLES:
    tone tag --help
    tone tag input.mp3 --meta-title &#34;a title&#34;
    tone tag --debug --auto-import=covers --meta-additional-field ©st3=testing input.m4b --dry-run
    tone tag --auto-import=covers --auto-import=chapters --path-pattern=&#34;audiobooks/%g/%a/%s/%p - %n.m4b&#34; --path-pattern=&#34;audiobooks/%g/%a/%z/%n.m4b&#34; audiobooks/ --dry-run
    tone tag input.mp3 --script musicbrainz.js --script-tagger-parameter e2310769-2e68-462f-b54f-25ac8e3f1a21

ARGUMENTS:
    [input]    Input files or folders

OPTIONS:
    -h, --help                               Prints help information
        --debug                                                     
        --force                                                     
        --include-extension                                         
        --order-by                                                  
        --limit                                                     
    -y, --assume-yes                                                
        --dry-run                                                   
        --taggers                                                   
        --script                                                    
        --script-tagger-parameter                                   
        --prepend-movement-to-description                           
        --meta-artist                                               
        --meta-album                                                
        --meta-album-artist                                         
        --meta-bpm                                                  
        --meta-chapters-table-description                           
        --meta-comment                                              
        --meta-composer                                             
        --meta-conductor                                            
        --meta-copyright                                            
        --meta-description                                          
        --meta-disc-number                                          
        --meta-disc-total                                           
        --meta-encoded-by                                           
        --meta-encoder-settings                                     
        --meta-encoding-tool                                        
        --meta-genre                                                
        --meta-group                                                
        --meta-itunes-compilation                                   
        --meta-itunes-media-type                                    
        --meta-itunes-play-gap                                      
        --meta-long-description                                     
        --meta-part                                                 
        --meta-movement                                             
        --meta-movement-name                                        
        --meta-narrator                                             
        --meta-original-album                                       
        --meta-original-artist                                      
        --meta-popularity                                           
        --meta-publisher                                            
        --meta-publishing-date                                      
        --meta-purchase-date                                        
        --meta-recording-date                                       
        --meta-sort-album                                           
        --meta-sort-album-artist                                    
        --meta-sort-artist                                          
        --meta-sort-composer                                        
        --meta-sort-title                                           
        --meta-subtitle                                             
        --meta-title                                                
        --meta-track-number                                         
        --meta-track-total                                          
        --meta-additional-field                                     
        --auto-import                                               
        --meta-chapters-file                                        
        --meta-cover-file                                           
        --meta-tone-json-file                                       
    -p, --path-pattern                                              
        --path-pattern-extension                                    
        --meta-equate                                               
        --meta-remove-additional-field                              
        --meta-remove-property"><pre>tone tag --help                                                                                                                                                                     
USAGE:
    tone tag [input] [OPTIONS]

EXAMPLES:
    tone tag --help
    tone tag input.mp3 --meta-title <span><span>&#34;</span>a title<span>&#34;</span></span>
    tone tag --debug --auto-import=covers --meta-additional-field ©st3=testing input.m4b --dry-run
    tone tag --auto-import=covers --auto-import=chapters --path-pattern=<span><span>&#34;</span>audiobooks/%g/%a/%s/%p - %n.m4b<span>&#34;</span></span> --path-pattern=<span><span>&#34;</span>audiobooks/%g/%a/%z/%n.m4b<span>&#34;</span></span> audiobooks/ --dry-run
    tone tag input.mp3 --script musicbrainz.js --script-tagger-parameter e2310769-2e68-462f-b54f-25ac8e3f1a21

ARGUMENTS:
    [input]    Input files or folders

OPTIONS:
    -h, --help                               Prints <span>help</span> information
        --debug                                                     
        --force                                                     
        --include-extension                                         
        --order-by                                                  
        --limit                                                     
    -y, --assume-yes                                                
        --dry-run                                                   
        --taggers                                                   
        --script                                                    
        --script-tagger-parameter                                   
        --prepend-movement-to-description                           
        --meta-artist                                               
        --meta-album                                                
        --meta-album-artist                                         
        --meta-bpm                                                  
        --meta-chapters-table-description                           
        --meta-comment                                              
        --meta-composer                                             
        --meta-conductor                                            
        --meta-copyright                                            
        --meta-description                                          
        --meta-disc-number                                          
        --meta-disc-total                                           
        --meta-encoded-by                                           
        --meta-encoder-settings                                     
        --meta-encoding-tool                                        
        --meta-genre                                                
        --meta-group                                                
        --meta-itunes-compilation                                   
        --meta-itunes-media-type                                    
        --meta-itunes-play-gap                                      
        --meta-long-description                                     
        --meta-part                                                 
        --meta-movement                                             
        --meta-movement-name                                        
        --meta-narrator                                             
        --meta-original-album                                       
        --meta-original-artist                                      
        --meta-popularity                                           
        --meta-publisher                                            
        --meta-publishing-date                                      
        --meta-purchase-date                                        
        --meta-recording-date                                       
        --meta-sort-album                                           
        --meta-sort-album-artist                                    
        --meta-sort-artist                                          
        --meta-sort-composer                                        
        --meta-sort-title                                           
        --meta-subtitle                                             
        --meta-title                                                
        --meta-track-number                                         
        --meta-track-total                                          
        --meta-additional-field                                     
        --auto-import                                               
        --meta-chapters-file                                        
        --meta-cover-file                                           
        --meta-tone-json-file                                       
    -p, --path-pattern                                              
        --path-pattern-extension                                    
        --meta-equate                                               
        --meta-remove-additional-field                              
        --meta-remove-property</pre></div>
<h4 tabindex="-1" dir="auto"><a id="user-content-filename-to-tag-via---path-pattern---p" aria-hidden="true" href="#filename-to-tag-via---path-pattern---p"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>filename to tag via <code>--path-pattern</code> / <code>-p</code></h4>
<p dir="auto">It is possible to use the <code>tag</code> subcommand with multiple <code>--path-pattern</code> arguments to read metadata from path names. Please note:</p>
<ul dir="auto">
<li>If multiple path patterns are present, the first matching one is preferred</li>
<li>Path patterns can be applied recursively for a whole directory tree as well as for single files</li>
<li>It is recommended use the <code>--dry-run</code> flag to see a diff before changing anything
<ul dir="auto">
<li>there is an <a href="https://github.com/spectreconsole/spectre.console/issues/825" data-hovercard-type="issue" data-hovercard-url="/spectreconsole/spectre.console/issues/825/hovercard">issue with flags</a> like <code>--dry-run</code>, that they sometimes not work depending on the position - sometimes shifting them around helps</li>
</ul>
</li>
<li>Path pattern matching is based on <a href="https://github.com/Marusyk/grok.net">grok.net</a>, so all metadata properties could be read from a path name and there are a lot of things yet to be documented
<ul dir="auto">
<li>For now it is recommended to use the short hands below</li>
</ul>
</li>
</ul>
<p dir="auto"><strong>short hands</strong></p>
<p dir="auto">All short hands are configured to match non-slash (<code>/</code>) or part numbers (<code>[0-9-.IVXLCDM]+</code>).</p>
<ul dir="auto">
<li><code>%a</code> -  <code>Artist</code></li>
<li><code>%A</code> -  <code>SortArtist</code></li>
<li><code>%c</code> -  <code>Comment</code></li>
<li><code>%C</code> -  <code>Copyright</code></li>
<li><code>%d</code> -  <code>Description</code></li>
<li><code>%D</code> -  <code>LongDescription</code></li>
<li><code>%g</code> -  <code>Genre</code></li>
<li><code>%m</code> -  <code>Album</code></li>
<li><code>%M</code> -  <code>SortAlbum</code></li>
<li><code>%n</code> -  <code>Title</code></li>
<li><code>%N</code> -  <code>SortTitle</code></li>
<li><code>%p</code> -  <code>Part</code> (only matching part numbers)</li>
<li><code>%s</code> -  <code>MovementName</code></li>
<li><code>%t</code> -  <code>AlbumArtist</code></li>
<li><code>%w</code> -  <code>Composer</code></li>
<li><code>%y</code> -  <code>ReleaseDate</code></li>
<li><code>%z</code> -  <code>IgnoreDummy</code></li>
<li><code>%Z</code> -  <code>IgnoreDummy</code> (only matching part numbers)</li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-custom-scripted-taggers-experimental" aria-hidden="true" href="#custom-scripted-taggers-experimental"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Custom scripted taggers (experimental)</h4>
<p dir="auto">With <code>tone v0.0.4</code> it is possible to use <em>scripted taggers</em>. Long story short: You can now use JavaScript
to hook into the tagging mechanism and write your own <em>extensions</em> for <code>tone</code>.</p>
<blockquote>
<p dir="auto">Note: script support is limited to a specific subset of JavaScript and does not support every feature that is supported in modern browsers. If you would like to know more, take a look at <a href="https://github.com/sebastienros/jint">jint</a></p>
</blockquote>
<h5 tabindex="-1" dir="auto"><a id="user-content-create-a-javascript-file" aria-hidden="true" href="#create-a-javascript-file"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>create a javascript file</h5>
<p dir="auto">Lets say you would like to consume an external API to set some tags, in our example we use <a href="http://musicbrainz.org" rel="nofollow">http://musicbrainz.org</a> to tag the audiobook <em>Harry Potter and the Philosopher�s Stone</em> :</p>
<div dir="auto" data-snippet-clipboard-copy-content="// musicbrainz.js
function musicbrainz(metadata, parameters) {
  // e2310769-2e68-462f-b54f-25ac8e3f1a21
  var id = parameters.length &gt; 0 ? parameters[0] : null;
  if(id === null) {
    console.log(&#34;Please provide a valid musicbrainz release id to use this tagger&#34;);
    return;
  }
  var url = &#34;http://musicbrainz.org/ws/2/release/&#34; + id + &#34;?inc=recordings&amp;fmt=json&#34;;
  console.log(&#34;fetching url:&#34;, url);
  
  // User-Agent header is required for musicbrainz to provide a response
  var json = tone.Fetch(url, {
      headers: {
        &#39;User-Agent&#39;: &#39;Mozilla/5.0 (iPad; U; CPU OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4&#39;
      }
  });
  // you could also read a text file in the base path of the audio file
  // json = tone.ReadTextFile(metadata.BasePath + &#34;/musicbrainz.json&#34;);
  
  var result = JSON.parse(json);
  metadata.Title = result.title;
  console.log(&#34;new title:&#34;, result.title);

  if(&#39;barcode&#39; in result) {
    metadata.AdditionalFields[&#34;ISBN&#34;] = result.barcode;
    console.log(&#34;new barcode:&#34;, result.barcode);
  }
}

// register your function name as tagger
tone.RegisterTagger(&#34;musicbrainz&#34;);"><pre><span>// musicbrainz.js</span>
<span>function</span> <span>musicbrainz</span><span>(</span><span>metadata</span><span>,</span> <span>parameters</span><span>)</span> <span>{</span>
  <span>// e2310769-2e68-462f-b54f-25ac8e3f1a21</span>
  <span>var</span> <span>id</span> <span>=</span> <span>parameters</span><span>.</span><span>length</span> <span>&gt;</span> <span>0</span> ? <span>parameters</span><span>[</span><span>0</span><span>]</span> : <span>null</span><span>;</span>
  <span>if</span><span>(</span><span>id</span> <span>===</span> <span>null</span><span>)</span> <span>{</span>
    <span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;Please provide a valid musicbrainz release id to use this tagger&#34;</span><span>)</span><span>;</span>
    <span>return</span><span>;</span>
  <span>}</span>
  <span>var</span> <span>url</span> <span>=</span> <span>&#34;http://musicbrainz.org/ws/2/release/&#34;</span> <span>+</span> <span>id</span> <span>+</span> <span>&#34;?inc=recordings&amp;fmt=json&#34;</span><span>;</span>
  <span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;fetching url:&#34;</span><span>,</span> <span>url</span><span>)</span><span>;</span>
  
  <span>// User-Agent header is required for musicbrainz to provide a response</span>
  <span>var</span> <span>json</span> <span>=</span> <span>tone</span><span>.</span><span>Fetch</span><span>(</span><span>url</span><span>,</span> <span>{</span>
      <span>headers</span>: <span>{</span>
        <span>&#39;User-Agent&#39;</span>: <span>&#39;Mozilla/5.0 (iPad; U; CPU OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4&#39;</span>
      <span>}</span>
  <span>}</span><span>)</span><span>;</span>
  <span>// you could also read a text file in the base path of the audio file</span>
  <span>// json = tone.ReadTextFile(metadata.BasePath + &#34;/musicbrainz.json&#34;);</span>
  
  <span>var</span> <span>result</span> <span>=</span> <span>JSON</span><span>.</span><span>parse</span><span>(</span><span>json</span><span>)</span><span>;</span>
  <span>metadata</span><span>.</span><span>Title</span> <span>=</span> <span>result</span><span>.</span><span>title</span><span>;</span>
  <span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;new title:&#34;</span><span>,</span> <span>result</span><span>.</span><span>title</span><span>)</span><span>;</span>

  <span>if</span><span>(</span><span>&#39;barcode&#39;</span> <span>in</span> <span>result</span><span>)</span> <span>{</span>
    <span>metadata</span><span>.</span><span>AdditionalFields</span><span>[</span><span>&#34;ISBN&#34;</span><span>]</span> <span>=</span> <span>result</span><span>.</span><span>barcode</span><span>;</span>
    <span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;new barcode:&#34;</span><span>,</span> <span>result</span><span>.</span><span>barcode</span><span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>// register your function name as tagger</span>
<span>tone</span><span>.</span><span>RegisterTagger</span><span>(</span><span>&#34;musicbrainz&#34;</span><span>)</span><span>;</span></pre></div>
<h5 tabindex="-1" dir="auto"><a id="user-content-run-your-tagger" aria-hidden="true" href="#run-your-tagger"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>run your tagger</h5>
<p dir="auto">Now you can use the <code>--script</code> parameter to load your custom <code>JavaScript</code> and furthermore
the <code>--script-tagger-parameter</code> to provide the <code>parameters</code> array used in the tagger function.
If you would like to prevent the default <code>tone</code> taggers to be applied, you can also limit the
them to your scripted one via <code>--taggers=musicbrainz</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="tone tag &#34;harry-potter-1.m4b&#34; --taggers=&#34;musicbrainz&#34; --script=&#34;musicbrainz.js&#34; --script-tagger-parameter=&#34;e2310769-2e68-462f-b54f-25ac8e3f1a21&#34;"><pre>tone tag <span><span>&#34;</span>harry-potter-1.m4b<span>&#34;</span></span> --taggers=<span><span>&#34;</span>musicbrainz<span>&#34;</span></span> --script=<span><span>&#34;</span>musicbrainz.js<span>&#34;</span></span> --script-tagger-parameter=<span><span>&#34;</span>e2310769-2e68-462f-b54f-25ac8e3f1a21<span>&#34;</span></span></pre></div>
<h5 tabindex="-1" dir="auto"><a id="user-content-tagger-api" aria-hidden="true" href="#tagger-api"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Tagger API</h5>
<p dir="auto">To get an overview of fields, that can be accessed or modified via the <code>metadata</code> object, you should take a look at the <a href="https://github.com/sandreas/tone/blob/main/tone/Metadata/IMetadata.cs"><code>IMetadata</code> interface</a>. Not all of them are primitive types, but there are API at least some helper methods to overcome this problem (more are planned):</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tone.RegisterTagger(string functionName):void</code></td>
<td>Registers a custom tagger function with <code>functionName</code></td>
<td>-</td>
</tr>
<tr>
<td><code>tone.Fetch(string url [, object? options]):string</code></td>
<td>Fetches remote <code>url</code> contents using <code>options</code> inspired by <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="nofollow">original fetch API</a></td>
<td>Only a small subset of options is implemented (mainly <code>method</code>, <code>body</code> and <code>headers</code>)</td>
</tr>
<tr>
<td><code>tone.Download(string url, string destinationPath [, object options]):bool</code></td>
<td>Downloads a remote <code>&lt;url&gt;</code> to <code>&lt;destinationFile&gt;</code> using <code>options</code> inspired by <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="nofollow">original fetch API</a></td>
<td>Returns <code>true</code> on success, <code>false</code> on error</td>
</tr>
<tr>
<td><code>tone.ReadTextFile(string path):string</code></td>
<td>Reads a text file completely as string</td>
<td>-</td>
</tr>
<tr>
<td><code>tone.WriteTextFile(string path, string content):void</code></td>
<td>Writes text to a file (create file if not exists, overwrite contents)</td>
<td>-</td>
</tr>
<tr>
<td><code>tone.AppendTextFile(string path, string content):void</code></td>
<td>Appends text to a file  (create file if not exists, append contents)</td>
<td>-</td>
</tr>
<tr>
<td><code>tone.LimitByteLength(string message, int maxLength):string</code></td>
<td>Limites text to byte length (not char length)</td>
<td>-</td>
</tr>
<tr>
<td><code>tone.CreateDateTime(string dateString):DateTime</code></td>
<td>Creates a <code>DateTime</code> value from string</td>
<td>e.g. for <code>metadata.PublishingDate</code></td>
</tr>
<tr>
<td><code>tone.CreateTimeSpan(number milliseconds):TimeSpan</code></td>
<td>Creates a <code>TimeSpan</code> value from string</td>
<td>e.g. for <code>metadata.TotalDuration</code></td>
</tr>
<tr>
<td><code>tone.CreatePicture(string path):PictureInfo</code></td>
<td>Creates a <code>PictureInfo</code> value from a path (refer to <code>Download</code>)</td>
<td>for <code>metadata.EmbeddedPictures</code></td>
</tr>
<tr>
<td><code>tone.CreateChapter(string title, number startMs, number lengthMs [, PictureInfo picture, string subtitle, string uniqueID]):ChapterInfo</code></td>
<td>Creates a <code>ChapterInfo</code></td>
<td>for <code>metadata.Chapters</code></td>
</tr>
</tbody>
</table>

<p dir="auto">The following issues are known, part of an external library and already reported:</p>
<ul dir="auto">
<li>flag options (e.g. <code>--dry-run</code>) cannot be followed by arguments (e.g. <code>tone tag --meta-album=&#34;album&#34; --dry-run input.mp3</code>) (<a href="https://github.com/spectreconsole/spectre.console/issues/825" data-hovercard-type="issue" data-hovercard-url="/spectreconsole/spectre.console/issues/825/hovercard">spectre.console 825</a>)
<ul dir="auto">
<li>workaround: append flag options at the end (<code>tone tag --meta-album=&#34;album&#34; input.mp3 --dry-run</code>)</li>
</ul>
</li>
<li><code>--meta-*</code> options cannot be set to empty values (<a href="https://github.com/spectreconsole/spectre.console/issues/842" data-hovercard-type="issue" data-hovercard-url="/spectreconsole/spectre.console/issues/842/hovercard">spectre.console 842</a>)
<ul dir="auto">
<li>workaround: use <code>--meta-remove-property</code> instead</li>
</ul>
</li>
<li>Value starting with <code>-</code> is mistreated as extra option (e.g. <code>--meta-description &#34;-5 degrees&#34;</code>)  (<a href="https://github.com/spectreconsole/spectre.console/issues/890" data-hovercard-type="issue" data-hovercard-url="/spectreconsole/spectre.console/issues/890/hovercard">spectre.console 890</a>)
<ul dir="auto">
<li>workaround: use <code>--meta-description=&#34;-5 degrees&#34;</code> instead (with <code>=</code>)</li>
</ul>
</li>
<li>Invalid handling of parameter values starting with double quotes (&#34;), e.g. <code>--meta-description&#39;&#34;quoted&#34; value&#39;</code> (<a href="https://github.com/spectreconsole/spectre.console/issues/891" data-hovercard-type="issue" data-hovercard-url="/spectreconsole/spectre.console/issues/891/hovercard">spectre.console 891</a>)</li>
<li>Invalid handling of <code>--meta-recording-date=&#34;2022-07-05&#34;</code> (<a href="https://github.com/Zeugma440/atldotnet/issues/155" data-hovercard-type="issue" data-hovercard-url="/Zeugma440/atldotnet/issues/155/hovercard">atldotnet 155</a>)</li>
</ul>
</article>
          </div></div>
  </body>
</html>
