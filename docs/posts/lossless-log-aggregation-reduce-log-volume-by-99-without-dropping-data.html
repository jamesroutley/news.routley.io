<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bit.kevinslin.com/p/lossless-log-aggregation">Original</a>
    <h1>Lossless Log Aggregation â€“ Reduce Log Volume by 99% Without Dropping Data</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div><div><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg" width="1024" height="1024" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1024,&#34;width&#34;:1024,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:&#34;Thomas Howard&#34;,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:false,&#34;topImage&#34;:true,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false}" alt="Thomas Howard" title="Thomas Howard" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4ba690c1-91cf-4cbd-9e76-39fe8f9625d1_1024x1024.jpeg 1456w" sizes="100vw" fetchpriority="high"/></picture></div></a></figure></div><p>On a rainy March day in 1538, Thomas Howard, the Duke of Norfolk, found himself confined within the cold stone walls of his grand estate. His fingers reluctantly penned a letter to sell his cherished lands to settle longstanding debts.</p><p>&#34;A man can not have his cake and eat his cake&#34;, he wrote, the words etched with the pain of having to confront a reality that he did not want to accept.</p><p>This was the earliest written record of the proverb &#34;you can&#39;t have your cake and eat it too&#34;. It&#39;s used in situations when we are forced to make tradeoffs that we&#39;d rather not make.</p><p>When it comes to logging, that tradeoff is one of volume vs cost. You want the volume necessary to observe all your systems and you want to not spend most of your infra budget on logs. But you often can&#39;t have both.</p><p>The common choice companies make when logging costs are high is to log less. It lowers the cost and also reduces the volume.</p><p><span>This could be deciding that you only need </span><code>ERROR</code><span> logs in production. Or deciding that certain services can do without logs at all. Or only keeping logs on the host and hoping it doesn&#39;t crash.</span></p><p>While this can reduce costs, it&#39;s often a temporary bandage, one with very real downsides.</p><p>The reason companies log in the first place is because logs are insurance. In the happy case, no one thinks about it (besides the CFO griping about the bill). In the other case, the one where things are on fire, logs are essential for engineers to properly diagnose and recover from an incident.</p><p><span>Incidents result in downtime and downtime impacts the business&#39;s bottom line. When Amazon went down for 40min in August 2013, a </span><a href="https://www.forbes.com/sites/kellyclay/2013/08/19/amazon-com-goes-down-loses-66240-per-minute/?sh=2554a3c4495c" rel="">Forbes article</a><span> estimated that Amazon lost $66,240 per minute during the outage</span></p><p>Dropping logs does decrease your costs. But you need to balance these savings with additional costs incurred by every extra second of downtime.</p><p>What if you didn&#39;t need to choose? What if you could store all your logs while lowering your costs? Enter Lossless Log Aggregation (LLA).</p><p>LLA is the process of aggregating similar logs into a larger aggregate log. Common metadata and values are deduplicated and merged during the aggregation. When done effectively, this can result in a 100X reduction in volume and a 40% reduction in size. Without dropping data.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg" width="1456" height="568" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:568,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:&#34;LLA&#34;,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false}" alt="LLA" title="LLA" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F051dffdc-6a40-497c-9a36-b25de6ba7a64_2922x1140.jpeg 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><blockquote><p>Illustration of LLA</p></blockquote><p>Three types of log groups are good candidates for LLA:</p><ol><li><p>Logs with common message patterns</p></li><li><p>Logs with common identifiers</p></li><li><p>Multi-line Logs</p></li></ol><p><span>To see before and after examples of each type, see the examples section of the </span><a href="https://docs.nimbus.dev/overview/examples" rel="">Nimbus Documentation</a><span>.</span></p><p>These are high-volume log events that repeat most of their content. For most applications most of the time, this will be the primary driver of log volume. Examples include health checks and heartbeat notifications.</p><p><span>These are logs that describe a sequence of related events. These sequences usually have some sort of common identifier like a </span><code>transactionId</code><span> or a </span><code>jobId</code><span>. Examples include a background job and business-specific user flows.</span></p><p>These are logs where the message body can be spread across multiple new lines. Unless you add special logic on the agent side, the default behavior is to emit each newline delimited message as a separate log event.</p><p>Below are logs from a load balancer performing health checks on a suite of targets.</p><pre><code><code>{&#34;timestamp&#34;:&#34;Tue Jan 10 09:15:16 2023&#34;,&#34;host&#34;:&#34;lb1.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web1&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;23ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:15:18 2023&#34;,&#34;host&#34;:&#34;lb2.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web2&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;57ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:15:25 2023&#34;,&#34;host&#34;:&#34;lb1.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web4&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;14ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:15:28 2023&#34;,&#34;host&#34;:&#34;lb2.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web5&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;38ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:16:01 2023&#34;,&#34;host&#34;:&#34;lb3.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web3&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;16ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:17:16 2023&#34;,&#34;host&#34;:&#34;lb1.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web1&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;19ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:17:18 2023&#34;,&#34;host&#34;:&#34;lb2.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web2&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;41ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:17:22 2023&#34;,&#34;host&#34;:&#34;lb3.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web3&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;32ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:17:25 2023&#34;,&#34;host&#34;:&#34;lb1.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web4&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;27ms&#34;,&#34;status&#34;:&#34;passed&#34;}
{&#34;timestamp&#34;:&#34;Tue Jan 10 09:17:28 2023&#34;,&#34;host&#34;:&#34;lb2.nimbus.dev:5678&#34;,&#34;target&#34;:&#34;web5&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;latency&#34;:&#34;62ms&#34;,&#34;status&#34;:&#34;passed&#34;}
// ... more logs
</code></code></pre><p><span>These are the same logs after applying LLA based on </span><code>host</code><span> and </span><code>status</code><span>:</span></p><pre><code><code>{&#34;host&#34;:&#34;lb1.nimbus.dev:5678&#34;,&#34;status&#34;:&#34;passed&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;data&#34;:[{&#34;target&#34;:&#34;web1&#34;,&#34;time&#34;:&#34;23ms&#34;},{&#34;target&#34;:&#34;web4&#34;,&#34;time&#34;:&#34;14ms&#34;},{&#34;target&#34;:&#34;web1&#34;,&#34;time&#34;:&#34;19ms&#34;},{&#34;target&#34;:&#34;web4&#34;,&#34;time&#34;:&#34;27ms&#34;}, ...], &#34;size&#34;:700, &#34;timestamp&#34;:&#34;Tue Jan 10 09:15:16 2023&#34;,&#34;timestamp_end&#34;:&#34;Tue Jan 10 09:17:28 2023&#34;}
{&#34;host&#34;:&#34;lb1.nimbus.dev:5678&#34;,&#34;status&#34;:&#34;passed&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;data&#34;:[{&#34;target&#34;:&#34;web1&#34;,&#34;time&#34;:&#34;23ms&#34;},{&#34;target&#34;:&#34;web4&#34;,&#34;time&#34;:&#34;14ms&#34;},{&#34;target&#34;:&#34;web1&#34;,&#34;time&#34;:&#34;19ms&#34;},{&#34;target&#34;:&#34;web4&#34;,&#34;time&#34;:&#34;27ms&#34;},...], &#34;size&#34;: 700, &#34;timestamp&#34;:&#34;Tue Jan 10 09:15:16 2023&#34;,&#34;timestamp_end&#34;:&#34;Tue Jan 10 09:17:28 2023&#34;}
{&#34;host&#34;:&#34;lb2.nimbus.dev:5678&#34;,&#34;status&#34;:&#34;passed&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;data&#34;:[{&#34;target&#34;:&#34;web2&#34;,&#34;time&#34;:&#34;57ms&#34;},{&#34;target&#34;:&#34;web5&#34;,&#34;time&#34;:&#34;38ms&#34;},{&#34;target&#34;:&#34;web2&#34;,&#34;time&#34;:&#34;41ms&#34;},{&#34;target&#34;:&#34;web5&#34;,&#34;time&#34;:&#34;62ms&#34;},...], &#34;size&#34;: 700, &#34;timestamp&#34;:&#34;Tue Jan 10 09:15:18 2023&#34;,&#34;timestamp_end&#34;:&#34;Tue Jan 10 09:17:28 2023&#34;}
{&#34;host&#34;:&#34;lb3.nimbus.dev:5678&#34;,&#34;status&#34;:&#34;passed&#34;,&#34;path&#34;:&#34;/health&#34;,&#34;data&#34;:[{&#34;target&#34;:&#34;web3&#34;,&#34;time&#34;:&#34;101ms&#34;},{&#34;target&#34;:&#34;web3&#34;,&#34;time&#34;:&#34;16ms&#34;},{&#34;target&#34;:&#34;web3&#34;,&#34;time&#34;:&#34;32ms&#34;},...],&#34;size&#34;: 700,&#34;timestamp&#34;:&#34;Tue Jan 10 09:15:22 2023&#34;,&#34;timestamp_end&#34;:&#34;Tue Jan 10 09:17:22 2023&#34;}
// ... more logs
</code></code></pre><p>Some things to note:</p><ul><li><p><span>a new attribute, </span><code>size</code><span>, has been added to indicate the number of logs aggregated</span></p></li><li><p><span>a new field, </span><code>timestamp_end</code><span>, has been introduced to mark the time of the last log in the aggregation</span></p></li><li><p><span>a new field, </span><code>data</code><span>, holds an array of the unique info of each log</span></p></li></ul><p>For the above example, we&#39;ve managed a 77% reduction in log size and a 99% reduction in log volume.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png" width="1456" height="452" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:452,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:&#34;Log Results&#34;,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false}" alt="Log Results" title="Log Results" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2ecf00c5-f851-4ce6-9c54-e8011be0f6b5_2454x762.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p><span>LLA can be implemented in an </span><a href="https://bit.kevinslin.com/p/first-mile-observability-and-the" rel="">observability pipeline</a><span> - these are data pipelines that are optimized for receiving, transforming, and sending observability data. Popular open-source pipeline solutions include the </span><a href="https://opentelemetry.io/docs/collector/" rel="">OTEL Collector</a><span> and </span><a href="https://vector.dev/" rel="">Vector</a><span>.</span></p><p>To configure a pipeline for LLA, you&#39;ll need to identify log groups, create forwarding rules, normalize log data before and after aggregation, as well as perform the aggregation itself over the correct fields.</p><p><span>You also need to pay attention to vendor-specific details - for example, Datadog has </span><a href="https://docs.datadoghq.com/api/latest/logs/#send-logs" rel="">limits</a><span> for maximum content size, array size, and the size of a single log. This means you need to be mindful of not exceeding any of these quotas when aggregating datadog logs or risk losing data.</span></p><p>Finally, as the pipeline itself is now part of your observability stack, you will need to operationalize it and make sure it can scale to handle traffic from all your services.</p><p><span>If you like the idea of LLA but not necessarily the toil, consider trying </span><a href="https://nimbus.dev/" rel="">Nimbus</a><span>. Nimbus is the first observability pipeline that automatically analyzes log traffic and can identify high-volume log groups as well as come up with LLAs to reduce their volume. On average, organizations save 60% off their logging costs within the first month of use.</span></p><p>It&#39;s 2024, and many companies find themselves at odds with their observability vendor - they want to ship all the logs necessary to provide a reliable service but cannot justify the expense to do so.</p><p>Like Duke Thomas, these organizations find themselves having to make the painful tradeoff of needing to part with something they need versus paying for something they cannot in good conscience afford.</p><p>But unlike in the Duke&#39;s time, there&#39;s a third choice - lossless log aggregations. Sometimes you don&#39;t have to choose, sometimes you can have your cake and eat it too!</p></div></div></div></article></div></div></div>
  </body>
</html>
