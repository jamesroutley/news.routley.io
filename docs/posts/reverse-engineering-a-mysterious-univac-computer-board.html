<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.righto.com/2022/04/reverse-engineering-mysterious-univac.html">Original</a>
    <h1>Reverse-engineering a mysterious Univac computer board</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-1881181010312484871" itemprop="description articleBody">


<p>The IBM 1401 team at the Computer History Museum accumulates a lot of mystery components from donations and other sources.
While going through a box, we came across the unusual circuit board below.
At first, it looked like an IBM SMS (<a href="https://www.righto.com/2015/03/a-database-of-sms-cards-technology.html">Standard Modular System</a>) card, the building block of IBM&#39;s computers of the late 1950s and early 1960s.<span id="fnref:chm"><a href="#fn:chm">1</a></span>
However,
this board is larger, has double-sided wiring, the connector is different, and the labeling is different.<span id="fnref:sms"><a href="#fn:sms">2</a></span></p>
<p><a href="https://static.righto.com/images/univac-board/board.jpg"><img alt="The circuit board is about 15cm×7.3cm." height="297" src="https://static.righto.com/images/univac-board/board-w600.jpg" title="The circuit board is about 15cm×7.3cm." width="600"/></a></p><p>The circuit board is about 15cm×7.3cm.</p>
<p>I asked around about the board and Robert Garner identified it as from the Univac 1004,
a plugboard-controlled data processing system from 1963.<span id="fnref:garner"><a href="#fn:garner">4</a></span>
The Univac 1004 was marketed as a &#34;Card Processor&#34; rather than a computer,<span id="fnref:cards"><a href="#fn:cards">3</a></span>
designed for business applications that read punch cards and producing output, but
still required calculation and logical decisions.
Typical applications were payroll, inventory, billing, or accounting.</p>
<p><a href="https://static.righto.com/images/univac-board/photo.jpg"><img alt="Photo of the Univac 1004. From bitsavers." height="323" src="https://static.righto.com/images/univac-board/photo-w500.jpg" title="Photo of the Univac 1004. From bitsavers." width="500"/></a></p><p>Photo of the Univac 1004. From <a href="http://www.bitsavers.org/pdf/univac/1004/photos/1004_2.jpg">bitsavers</a>.</p>
<p>The most unusual feature of the Univac 1004 was that it was programmed by a plugboard (below) instead of a stored program.
The system was programmed by plugging patch cords into a plugboard to indicate the desired action for each of the 31 program
steps.
While earlier electromechanical accounting machines used plugboards, they were pretty much obsolete by 1963, so I was
a bit surprised to see plugboards still in use.</p>
<p><a href="https://static.righto.com/images/univac-board/plugboard.jpg"><img alt="A plugboard for the Univac 1004. This board was used for payroll consolidation from 1965 to 1972. From Museums Victoria Collections, Copyright Museums Victoria / CC BY 4.0." height="379" src="https://static.righto.com/images/univac-board/plugboard-w600.jpg" title="A plugboard for the Univac 1004. This board was used for payroll consolidation from 1965 to 1972. From Museums Victoria Collections, Copyright Museums Victoria / CC BY 4.0." width="600"/></a></p><p>A plugboard for the Univac 1004. This board was used for payroll consolidation from 1965 to 1972. From <a href="https://collections.museumsvictoria.com.au/items/383697">Museums Victoria Collections</a>, Copyright Museums Victoria / <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</p>
<p>The computer&#39;s &#34;program&#34; consisted of 31 steps.
The operations for each step were specified by plugging wires into the board.
For instance, a data field could be moved from a punch card to memory, a value could be added or subtracted, or a line of output
could be configured for the printer.<span id="fnref:operations"><a href="#fn:operations">5</a></span>
The system even supported conditional branches.
The diagram below shows the structure of the plugboard.
The highlighted wire shows a subtraction operation, activated by the wire in the &#34;algebraic minus&#34; position.</p>
<p><a href="https://static.righto.com/images/univac-board/program.jpg"><img alt="Part of a program in the plugboard.  Click for a larger version. From the Reference Manual." height="419" src="https://static.righto.com/images/univac-board/program-w500.jpg" title="Part of a program in the plugboard.  Click for a larger version. From the Reference Manual." width="500"/></a></p><p>Part of a program in the plugboard.  Click for a larger version. From the <a href="http://www.bitsavers.org/pdf/univac/1004/UT2543_1004_Card_Processor_80_Column_Reference.pdf">Reference Manual</a>.</p>
<p>The computer had a small memory of 961 6-bit characters.
Like most computers of the era, it used magnetic core memory, storing each bit by magnetizing a tiny ferrite ring.
Note that since the computer was programmed through a wiring panel, none of the memory was used for program code.</p>
<p><a href="https://static.righto.com/images/univac-board/core.jpg"><img alt="A plane of magnetic core storage, from the Reference Manual." height="310" src="https://static.righto.com/images/univac-board/core-w500.jpg" title="A plane of magnetic core storage, from the Reference Manual." width="500"/></a></p>
<p>While the Univac 1004 was primitive for its time compared to even a low-end business computer like the IBM 1401, it had a few advantages.
First, it rented for $1900 a month, compared to $2500 a month for the IBM 1401 (about $18,000 vs $23,000 a month in current dollars).
Second, the Univac computer was compact (by 1960s standards), weighing 2500 pounds.
Finally, many customers found plugboard programming easier than programming with code, both because they were more familiar with it
and because it is visual and direct.</p>
<p>The Univac 1004 could be extended with peripherals such as tape drives, a card punch, or disk storage.
The photo below shows the Unidisc cartridge, which held one million characters.
Although it looks like an absurdly-large floppy disk, it was a removable hard disk.</p>
<p><a href="https://static.righto.com/images/univac-board/unidisc.jpg"><img alt="The Unidisc cartridge is 15¾ inches square and ⅝-inch thick. (source)." height="482" src="https://static.righto.com/images/univac-board/unidisc-w400.jpg" title="The Unidisc cartridge is 15¾ inches square and ⅝-inch thick. (source)." width="400"/></a></p><p>The Unidisc cartridge is 15¾ inches square and ⅝-inch thick. (<a href="https://archive.org/details/TNM_Univac_1004_and_1005_computers_Unidisc_random_20171120_0007/mode/2up">source</a>).</p>
<h2>Reverse-engineering the board</h2>
<p>The function of the board wasn&#39;t immediately obvious and we had various theories of what it might do.
To find out, I reverse-engineered the board by tracing out the circuitry.<span id="fnref:reverse-engineering"><a href="#fn:reverse-engineering">6</a></span>
The board has 32 diodes, which seems like a lot, as well as resistors, transistors, and capacitors.
The transistors are not silicon transistors, but germanium PNP transistors.</p>
<p><a href="https://static.righto.com/images/univac-board/board-closeup.jpg"><img alt="A closeup of the circuit board showing resistors and diodes." height="351" src="https://static.righto.com/images/univac-board/board-closeup-w500.jpg" title="A closeup of the circuit board showing resistors and diodes." width="500"/></a></p><p>A closeup of the circuit board showing resistors and diodes.</p>
<p>The board turned out to be a logic board implemented with <a href="https://en.wikipedia.org/wiki/AND-OR-invert">AND-OR-INVERT</a> logic.<span id="fnref:aoi"><a href="#fn:aoi">7</a></span>
That is, various inputs are ANDed together, the AND results are then ORed together, and finally the result is inverted.
The board is implemented with diode-transistor logic. One layer of diodes implements the AND gates and the second layer of
diodes implements the OR gates.
Finally, a transistor amplifies the result, inverting it in the process.
Diode-transistor logic (DTL) performed better than earlier resistor-transistor logic (RTL), but was soon replaced
by <a href="https://www.computerhistory.org/siliconengine/standard-logic-ic-families-introduced/">transistor-transistor logic</a>.</p>
<p>The diagram below explains how the AND-OR-INVERT logic was implemented.
This circuit has four inputs: two AND gates that are then ORed together and inverted.
(It&#39;s a bit confusing because the circuit uses active-low logic, so the voltage levels are all inverted.)
If the AND gates all have a 0 (high) input, a diode in the first stage will conduct and pull the AND node high.
This blocks the diodes in the second stage (which have the opposite orientation), so the OR node is also high.
In the INVERT stage, the +20V resistor will pull the transistor&#39;s base high, which turns it off (since it is PNP).
Finally, the -8V resistor will pull the output low (i.e. 1), providing the desired AND-OR-INVERT logic.</p>
<p><a href="https://static.righto.com/images/univac-board/dtl-a.jpg"><img alt="The AND-OR-INVERT logic producing a 1 output." height="336" src="https://static.righto.com/images/univac-board/dtl-a-w500.jpg" title="The AND-OR-INVERT logic producing a 1 output." width="500"/></a></p><p>The AND-OR-INVERT logic producing a 1 output.</p>
<p>The diagram below shows that if the first AND gate&#39;s inputs are 1 (low), the first diodes are blocked, so the -30V resistor
pulls the AND node low (1).
Now the second-stage diode conducts, pulling the OR node low (1).
This allows base current to flow through the PNP transistor, turning it on.
This pulls the output high (0).
(Note that ground is a high output compared to the low output of -8V.)
The gates on the board have more inputs, but use the same principle.</p>
<p><a href="https://static.righto.com/images/univac-board/dtl-b.jpg"><img alt="The AND-OR-INVERT logic producing a 0 output." height="309" src="https://static.righto.com/images/univac-board/dtl-b-w500.jpg" title="The AND-OR-INVERT logic producing a 0 output." width="500"/></a></p><p>The AND-OR-INVERT logic producing a 0 output.</p>
<p>After tracing out the board&#39;s logic, I recognized that it implemented a full adder.<span id="fnref:adder"><a href="#fn:adder">8</a></span>
That is, it adds two input bits along with a carry-in, producing a sum bit and a carry-out.
By connecting four full-adders in series, a 4-bit value can be added, allowing one decimal digit to be added.
Thus, the computer probably has four one-bit adder boards similar to this, along with circuitry to
convert the output from binary to binary-coded decimal.<span id="fnref:xs3"><a href="#fn:xs3">10</a></span></p>
<p>The board has a few additional circuits along with the full adder circuit.
It includes an inverter circuit.
The board also has 4 inputs that are ANDed, subject to the carry value.
Finally, the board also has a disable input that blocks the outputs.<span id="fnref:schematic"><a href="#fn:schematic">9</a></span>
Without knowing more about the circuitry, I can&#39;t determine the role of these circuits.</p>
<h2>Conclusion</h2>
<p>The mystery circuit board turned out to be from the Univac 1004.
Although this computer was produced in the 1960s, its technology occupies an interesting location between the electro-mechanical accounting machines of the 1940s and
the electronic business computers of the late 1950s.
The Univac computer used transistors and core memory, but it kept the earlier plugboard programming of the accounting machines,
rather than moving to stored-program computing (introduced in 1948).
Even though the Univac 1004 was technologically backward for 1963, businesses flocked to it, making it the second-most popular computer
at the time with 3400 installations.<span id="fnref2:garner"><a href="#fn:garner">4</a></span></p>
<p>This shows that progress isn&#39;t as linear as you might expect;
&#34;obsolete&#34; technologies can continue to thrive long after the introduction of &#34;superior&#34; alternatives
such as stored-program computing.
Instead, new systems can still be developed with supposedly-obsolete technologies, depending on the tradeoffs involved.</p>
<p>I announce my latest blog posts on Twitter, so follow me <a href="https://twitter.com/kenshirriff">@kenshirriff</a>. I also have an <a href="https://www.righto.com/feeds/posts/default">RSS feed</a>.</p>
<h2>Notes and references</h2>


</div></div>
  </body>
</html>
