<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rachelbythebay.com/w/2024/05/01/feedback/">Original</a>
    <h1>Reader feedback on autoconf and bugginess in general</h1>
    
    
<p>
It&#39;s time for some responses to reader feedback.
</p>
<p>
One person mentions that running git log with &#34;--full-history&#34; should 
show the change that&#39;s buried within the commit that also was a merge.  
Unfortunately, that&#39;s not it.  I tried that and a bunch of other things 
before landing on &#34;git show&#34; the other night.  They did mention that it 
might be some other flag.
</p>
<p>
That plus help from a friend who&#39;s clearly been down this road before 
turned up the right answer: you probably want to add -c or -cc.  Now, if 
you go looking for those in the actual manual for git log, you&#39;ll trip 
over the usual problem that searching for &#34;-c&#34; matches some other term 
that starts with c, in this case, clear-decorations.  So, if you then 
search for &#34; -c&#34; (note: leading space only), then you&#39;ll find this 
first:
</p>
<blockquote>
<p>
Note that unless one of --diff-merges variants (including short -m, -c,
and --cc options) is explicitly given, merge commits will not show a
diff, even if a diff format like --patch is selected, nor will they
match search options like -S. The exception is when --first-parent is
in use, in which case first-parent is the default format.
</p>
</blockquote>
<p>
... and now you&#39;re getting somewhere.
</p>
<p>
Why this isn&#39;t the default, I have no idea.  You&#39;re asking it to show a 
patch, so show a patch, already!
</p>
<p>
...
</p>
<p>
I saw some other comments saying that I should report some of the 
wacky brokenness that I tripped over, and I need to respond to that.
</p>
<p>
It&#39;s been made very clear to me that plenty of people don&#39;t give a shit 
about what I report as &#34;broken&#34; in their projects.  This isn&#39;t 
necessarily about the world of free software/open source, either.  It&#39;s 
happened plenty of times at actual jobs when I was there specifically to 
find badness.
</p>
<p>
Case in point: someone apparently had a conversation along the lines of 
&#34;hey, it would be bad if the &lt;redacted spooky people&gt; got their hands on 
this stuff and it didn&#39;t work, so let&#39;s have someone who isn&#39;t one of 
the devs test this out first&#34;.  Then they got a hold of me and ask me to 
Do some Stuff with their products.
</p>
<p>
I got my hands on the hardware and then the software, and in so doing, 
found all kinds of
<a href="https://rachelbythebay.com/w/2019/11/13/sdrlag/">crazy problems</a>
in it, almost like nobody had actually tried to use the full extent of 
the hardware with their driver software.
</p>
<p>
I started asking questions of the engineers, trying to figure out what 
they have done.  At some point they went radio-silent and I started
getting responses from their boss.  At that point I thought &#34;it&#39;s good 
to be a contractor&#34; and referred it to MY boss - the person who hired me 
for the gig.  It was clearly an internal matter and not anything for me 
to deal with.  (One of the rare perks of being a contractor, gotta 
say.)
</p>
<p>
So, back to what happened the other night.  Did I find some badness in 
pkg-config or pkgconf or whatever variant they&#39;re using?  I probably 
did!  Could it be exploited?  Maybe?  Probably?  Do I care that much?  
Not really.  Why?  Because *far too few people* actually give a shit 
about this kind of correctness.
</p>
<p>
This is fairly common when you set me loose in an ecosystem: I find all 
kinds of dumb &#34;mosquito bite&#34; things that make things less than pleasant 
for someone who isn&#39;t expecting it.  They&#39;re the things that experienced 
users know how to route around because they start accepting it as 
<a href="https://danluu.com/wat/">&#34;normal&#34;</a>.
</p>
<p>
If my &#34;trouble reports&#34; tend to be seen as more of a burden than a 
value, why would I keep generating them?
</p>
<p>
For those few people out there who truly care about this sort of thing, 
obviously I love and cherish you and people who do what you do.  Please 
don&#39;t think I&#39;m painting you with the same brush.  Just realize that you 
are very much in the minority, and I have no idea if I&#39;m going to 
encounter one of you (unlikely) or one of the others (very likely) when 
I file a report.
</p>
<p>
Another thing: I&#39;m not paying any of these people, so why should they 
listen to me?  There are exactly zero consequences for them if my stuff 
goes ignored.  They don&#39;t work for me, and it&#39;s not like I could fire 
them or somehow use some other leverage in order to make things happen.
</p>
<p>
...
</p>
<p>
I believe that really good products have at least one person behind them 
who&#39;s spotting all of the goofiness and is having some success in 
getting those things ironed out.  It&#39;s not enough to just notice them, 
and it&#39;s not enough to do the kind of gunky eng work it takes to find 
out why something happened or how it broke.
</p>
<p>
Whoever does this work has to actually have traction in the 
organization so that these problems will actually be fixed.  Otherwise, 
the first two parts have no real value, and only serve to burn out 
whoever&#39;s making the attempts.
</p>
<p>
I&#39;d love to do this kind of work for a place that truly cares about it, 
to the point of providing
<a href="https://rachelbythebay.com/w/2018/03/07/cover/">air cover</a>
to those who are tasked with finding the problems.  If the company 
doesn&#39;t actually care, that&#39;s &#34;fine&#34;.  Don&#39;t hire people who are tasked 
with trying to improve those things, then if there&#39;s a 
<a href="https://rachelbythebay.com/w/2020/05/23/gap/">hypocrisy gap</a>
in your engineering culture.
</p>
<p>
Also, I get that companies change, and what&#39;s valued today is not what 
will be valued tomorrow.  It seems like the least a good manager would 
do is *explicitly* say as much when that point arrives, so you can cut 
and run instead of trying to push back an unstoppable tide.  When the 
company shifts from engineering, reliability and delighting the  
customers to growth at all costs and exploiting the customers, it&#39;s 
probably time to go.
</p>
<p>
Is anyone actually doing this now?  I&#39;d love to hear about it if so.
</p>
<p>
...
</p>
<p>
Finally, to the handful of people who say that the results of 
./configure &#34;will change all the time&#34; because of the kernel or libc 
version changing... that&#39;s just wrong.  You&#39;re making that up based on a 
technicality that does not actually track with real-world use of our 
systems.
</p>
<p>
I&#39;m going to guess that most of the people who are saying this are going 
based on the fact that you CAN change the C library or kernel 
arbitrarily, but probably never have.  Meanwhile, I was there way back 
in the day when we first got ELF kernels in the 1.3 world and had to 
install a new compiler in order to link it in the first place, among 
plenty of other godawful things we had to do back in the 90s.  I&#39;ve 
been there, and I&#39;m telling you, this is not the way of the world right 
now.  Systems just don&#39;t change that often.  When they do change to 
that extent, it tends to be associated with a major version bump 
(unless someone&#39;s mighty clueless).
</p>
<p>
The whole point of having things set up for you by the OS builder is 
that it takes the kernel, C library, and other localizations into 
account.  If someone is changing those things to where syscalls and 
library calls are shifting materially, they are essentially signing up 
to maintain their own OS variant, and should update the &#34;how you do 
things on this OS&#34; data at the same time if it affects such things.
</p>
<p>
This *already* happens.  Companies take a base OS (like CentOS), and 
then they run a far newer kernel and/or glibc atop it for their own 
reasons.  This forces a whole raft of other changes to take advantage 
of the new stuff: new versions of perf, strace, ethtool, mcelog or 
whatever else.  I know this because I did this to help out as a certain 
employer went from CentOS 5 to 6 to 7 over the span of several years.
</p>
<p>
Their build systems already know how to build stuff on this hybrid 
environment, particularly to use the overlay glibc instead of the system 
one.  So, someone is maintaining this, and they track whatever changes 
when it actually matters.
</p>

  </body>
</html>
