<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.learningtypescript.com/articles/extreme-explorations-of-typescripts-type-system">Original</a>
    <h1>Extreme explorations of TypeScript&#39;s type system</h1>
    
    <div id="readability-page-1" class="page"><div id="post-content" itemprop="articleBody"><p><a href="https://github.com/microsoft/TypeScript/issues/14833" target="_blank" rel="noopener noreferrer">TypeScript&#39;s type system is Turing Complete</a>: meaning it has conditional branching (conditional types) and works with an arbitrary huge amount of memory.
As a result, you can use the type system as its own programming language complete with variables, functions, and recursion.
Developers have pushed the bounds of type operations possible in the type system to write some pretty incredible things!</p><p>This blog post is a starting list of nifty things TypeScript developers have pushed the type system to be able to do.
They range from binary arithmetic and rudimentary virtual machines to maze solvers and full programming languages.</p><h2 id="-this-is-not-normal">✋ This Is Not Normal<a href="#-this-is-not-normal" title="Direct link to heading">​</a></h2><p>Most applications try to get away with as few extreme type operations as possible.
Complex logic in the type system gets unreadable and hard to debug pretty quickly.
The <em>Learning TypeScript</em> book advises:</p><blockquote><p>If you do find a need to use type operations, please—for the sake of any developer who has to read your code, including a future you—try to keep them to a minimum if possible.
Use readable names that help readers understand the code as they read it.
Leave descriptive comments for anything you think future readers might struggle with.</p></blockquote><p>Please don&#39;t look at the following projects list and think you need to understand them to use TypeScript.
These projects are ridiculous.
They&#39;re the equivalent of <a href="https://en.wikipedia.org/wiki/Code_golf" target="_blank" rel="noopener noreferrer">code golf</a>: a fun activity for a select few, but not useful for most day-to-day work.</p><h2 id="projects-list">Projects List<a href="#projects-list" title="Direct link to heading">​</a></h2><p>Sorted oldest first.
All projects listed come with explanations explaining how they work.</p><h3 id="4-bit-virtual-machine"><a href="https://gist.github.com/acutmore/9d2ce837f019608f26ff54e0b1c23d6e" target="_blank" rel="noopener noreferrer">4-Bit Virtual Machine</a><a href="#4-bit-virtual-machine" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/acutmore/status/1175820877566492673" target="_blank" rel="noopener noreferrer">Ashley Claymore</a>, September 2019</p><blockquote><p>So...a joke with a colleague at work got a little bit out of hand. I wrote a 4-Bit Virtual Machine in @typescript, using just Types, no JavaScript.</p></blockquote><p>This well-documented set of types sets up a &#34;virtual machine&#34; that allows for manipulating a 4-bit stack.
Its exported <code>VM</code> type takes in an array of program instructions such as <code>&#34;push&#34;</code> and <code>&#34;peek&#34;</code>, and simulates manipulating the stack for each instruction.
It even comes with a <a href="https://en.wikipedia.org/wiki/Fizz_buzz" target="_blank" rel="noopener noreferrer">fizz buzz</a> implementation in 20 commands.
Very impressive.</p><h3 id="binary-arithmetic"><a href="https://blog.joshuakgoldberg.com/binary-arithmetic" target="_blank" rel="noopener noreferrer">Binary Arithmetic</a><a href="#binary-arithmetic" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/JoshuaKGoldberg/status/1182791917194530816" target="_blank" rel="noopener noreferrer">Josh Goldberg</a>, October 2019</p><blockquote><p><code>type Bit = 0 | 1;</code></p></blockquote><p>This project also implements low-level bit manipulation logic in the type system.
It&#39;s less extensive than the 4-bit VM, and &#34;just&#34; includes 8-bit integer manipulation instead.</p><h3 id="maze-solver-and-more"><a href="https://github.com/ronami/meta-typing" target="_blank" rel="noopener noreferrer">Maze Solver and More</a><a href="#maze-solver-and-more" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/ronenamiel/status/1232012684268392450" target="_blank" rel="noopener noreferrer">Ronen Amiel</a>, February 2020</p><blockquote><p>This project attempts to push TypeScript&#39;s type system to its limits by actually implementing various functions and algorithms, purely on top of the type system.</p></blockquote><p>Ronen made available not just a shortest-path maze solver in the type system, but also a whole suite of functions including number arithmetic, list operations, array sorting algorithms, and puzzle solving.
Its puzzle solutions in particular stand out as great, well-commented uses of many type system features.</p><h3 id="fizz-buzz"><a href="https://gal.hagever.com/posts/typing-the-technical-interview-in-typescript" target="_blank" rel="noopener noreferrer">Fizz Buzz</a><a href="#fizz-buzz" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/galstar/status/1230519810418761730" target="_blank" rel="noopener noreferrer">Gal Schlezinger</a>, February 2020</p><blockquote><p>This blogpost shows how to implement FizzBuzz in TypeScript using types only — with no runtime code whatsoever.</p></blockquote><p>This crafty approach walks through how to set up recursive logic and number arithmetic purely in the type system.
It ends with a full <a href="https://en.wikipedia.org/wiki/Fizz_buzz" target="_blank" rel="noopener noreferrer">FizzBuzz</a> implementation that works on numbers.</p><h3 id="txstate"><a href="https://github.com/devanshj/txstate" target="_blank" rel="noopener noreferrer">TXState</a><a href="#txstate" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/devanshj__/status/1297939517853196288" target="_blank" rel="noopener noreferrer">Devansh Jethmalani</a>, August 2020</p><blockquote><p>An effort to statically type xstate.</p></blockquote><p><a href="https://xstate.js.org" target="_blank" rel="noopener noreferrer">XState</a> is a popular library for state machines and state charts in JavaScript and TypeScript.
TXState manages to take those features and run them entirely in the type system.
The full Twitter thread shows Devansh&#39;s journey writing it over several months and links to some insightful discussions on various threads.</p><p>Devansh also has a fascinating type predicate eDSL project that makes heavy use of parsing in the type system: <a href="https://github.com/devanshj/sthir/tree/main/packages/predicate" target="_blank" rel="noopener noreferrer"><code>@sthir/predicate</code></a>.</p><h3 id="sql-database-engine"><a href="https://github.com/codemix/ts-sql" target="_blank" rel="noopener noreferrer">SQL Database Engine</a><a href="#sql-database-engine" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/c_pick/status/1307433762914009090" target="_blank" rel="noopener noreferrer">Charles Pick</a>, September 2020</p><blockquote><p>A SQL database implemented purely in TypeScript type annotations.</p></blockquote><p>The first entry in this list that extensively makes use of string parsing in the type system.
Queries are run by parsing raw SQL strings into statements that are then evaluated against the current state of the database.
It supports <code>SELECT</code> statements that return type system array of objects, as well as <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> statements that return new database contents as a type.</p><h3 id="language-interpreter"><a href="https://github.com/ronami/typelang" target="_blank" rel="noopener noreferrer">Language Interpreter</a><a href="#language-interpreter" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/ronenamiel/status/1321199372802183169" target="_blank" rel="noopener noreferrer">Ronen Amiel</a>, October 2020</p><blockquote><p>A tiny language interpreter implemented purely in TypeScript&#39;s type-system.</p></blockquote><p>Another fun project from Ronen: this time, an entire language!
It supports a Lisp-like syntax with commands such as <code>add</code>, <code>join</code>, and <code>or</code>, as well as functions and variables.
You have to wonder whether you could implement TypeScript itself in that language...</p><h3 id="tic-tac-toe"><a href="https://blog.joshuakgoldberg.com/type-system-game-engines" target="_blank" rel="noopener noreferrer">Tic Tac Toe</a><a href="#tic-tac-toe" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/JoshuaKGoldberg/status/1314610055963193344" target="_blank" rel="noopener noreferrer">Josh Goldberg</a>, October 2020</p><blockquote><p>[<!-- -->We&#39;ll figure<!-- -->]<!-- --> how to take a template string literal, simulate a Tic Tac Toe game on it, and determine out who the winner of that game is.</p></blockquote><p>This fun conference talk addition uses template literal string parsing to convert a description of game steps into a game board with pieces placed on it.
Checking for a game victory is done with a set of assignability checks on the board&#39;s tuples.</p><h3 id="tokenizer--parser--interpreter"><a href="https://github.com/anuraghazra/typelevel-parser" target="_blank" rel="noopener noreferrer">Tokenizer + Parser + Interpreter</a><a href="#tokenizer--parser--interpreter" title="Direct link to heading">​</a></h3><p><a href="https://twitter.com/anuraghazru/status/1512092136841543682" target="_blank" rel="noopener noreferrer">Anurag Hazra</a>, April 2022</p><blockquote><p>An experimental tokenizer/parser/interpreter written entirely on type-level to push the limits of TypeScript&#39;s type system.</p></blockquote><p>Each part of tokenization, parsing, and interpreting is impressive.
This project takes them all to the next level by implementing a fully working language in the type system.
Absolutely ridiculous.</p><p>Anurag has a collection of other great type system explorations on GitHub too: <a href="https://github.com/anuraghazra/type-trident" target="_blank" rel="noopener noreferrer">github.com/anuraghazra/type-trident</a>.</p><h2 id="more-resources">More Resources<a href="#more-resources" title="Direct link to heading">​</a></h2><p>If the explanations in projects aren&#39;t working out for you, I have two resources I&#39;d recommend:</p><ul><li>The <em>Learning TypeScript</em> book covers the foundations of the type system up through smaller uses of conditional and inferred types.</li><li><a href="https://twitter.com/he_zhenghao" target="_blank" rel="noopener noreferrer">Zhenghao He</a>&#39;s <a href="https://www.zhenghao.io/posts/type-programming" target="_blank" rel="noopener noreferrer">An Introduction To Type Programming In TypeScript</a> is a gentle but comprehensive walkthrough of techniques used by these projects.</li></ul><p>Additionally, the <a href="https://github.com/type-challenges/type-challenges" target="_blank" rel="noopener noreferrer">type-challenges repository on GitHub</a> contains a wonderful suite of type challenges starting with foundations and working up to gloriously complex metaprogramming.
I&#39;d highly recommend using them to work your way up to being able to make projects like the ones in this article.</p><div><p><h5><span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></p><p>Got a project you think should be listed?
Send it to <a href="https://twitter.com/LearningTSBook" target="_blank" rel="noopener noreferrer">@LearningTSBook</a> on Twitter!</p></div></div></div>
  </body>
</html>
