<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/jamespfennell/new-typesetting-system">Original</a>
    <h1>NTS (TeX reimplementation in Java from 2001) still compiles under Java 16</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">This is GitHub copy of <a href="https://ctan.org/tex-archive/systems/nts" rel="nofollow">the source code</a> of the
<a href="https://en.wikipedia.org/wiki/New_Typesetting_System" rel="nofollow">New Typesetting System</a>,
which is a Java reimplementation
of Donald Knuth&#39;s original version of TeX.</p>
<p dir="auto">This code was completed in 2001 and actually works!
However, for various reasons it was decided not to continue the project (i.e., support more modern flavors of TeX),
and there has been no further development on this code since.</p>
<p dir="auto">This copy exists to:</p>
<ol dir="auto">
<li>
<p dir="auto">Have a nice way to browse the source code of NTS, especially for those who are thinking of
developing new implementations of TeX.</p>
</li>
<li>
<p dir="auto">Ensure that the code can still be compiled in modern versions of Java so this artifact
lives on.</p>
</li>
</ol>
<div dir="auto"><h2 tabindex="-1" dir="auto">Compiling and running NTS</h2><a id="user-content-compiling-and-running-nts" aria-label="Permalink: Compiling and running NTS" href="#compiling-and-running-nts"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The code was written for Java 2 (aka 1.2) originally.
It has been successfully compiled with Java 16, and so should theoretically work for all
intermediate versions too.</p>
<p dir="auto"><strong>Compile</strong>: From the repo root,</p>
<div dir="auto" data-snippet-clipboard-copy-content="javac -classpath src -d build src/Nts.java
jar --create --file nts.jar --main-class=Nts -C build Nts.class build/nts"><pre>javac -classpath src -d build src/Nts.java
jar --create --file nts.jar --main-class=Nts -C build Nts.class build/nts</pre></div>
<p dir="auto">The compiled artifact is <code>nts.jar</code>.</p>
<p dir="auto"><strong>Run</strong>: Invoke <code>java -jar nts.jar &lt;tex file&gt;</code>.</p>
<p dir="auto">Note that NTS only provides the core TeX execution engine and needs to be combined with
some kind of &#34;TeX format&#34; to product anything meaningful.
A good place to start is <a href="https://ctan.org/pkg/plain?lang=en" rel="nofollow">Knuth&#39;s own plain TeX format</a>;
compiling <code>plain.tex</code> from that page yields an actual document!</p>

<ul dir="auto">
<li><strong>MacOS</strong>:
Install OpenJDK using brew (<code>brew install java</code>) and then perform the sym-linking
command as described in <code>brew info java</code>.</li>
</ul>

<p dir="auto">Running the tests is really easy. Because there are no tests, to run the tests you just do nothing.</p>

<p dir="auto">NTS has a custom open source license
with extremely strange clauses around modification.
Presumably it was inspired by Donald Knuth&#39;s own original &#34;license&#34; for TeX.</p>
<p dir="auto">The code as hosted here has small modifications versus the original that are fully detailed in the changelog.
Specifically,</p>
<ul dir="auto">
<li>The internal layout of the repository has been changed.</li>
<li>Some warnings issued by recent Java compilers have been resolved by tweaks to the Java code.</li>
<li>The code was formatted using the Google Java formatter.</li>
</ul>
</article></div></div>
  </body>
</html>
