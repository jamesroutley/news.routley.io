<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/AmpereComputing/Steam-on-Ampere">Original</a>
    <h1>Steam-on-Ampere</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://avatars2.githubusercontent.com/u/34519842?s=400&amp;u=1d29afaac44f477cbb0226139ec83f73faefe154&amp;v=4"><img src="https://avatars2.githubusercontent.com/u/34519842?s=400&amp;u=1d29afaac44f477cbb0226139ec83f73faefe154&amp;v=4" alt="Ampere Computing"/></a></p>

<h2 tabindex="-1" dir="auto"><a id="user-content-summary" aria-hidden="true" tabindex="-1" href="#summary"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Summary</h2>
<p dir="auto">This how-to explains running Vive Steam on Ampere platform via Box86/Box64. Much thanks to our <a href="https://www.ipi.wiki" rel="nofollow">ADLINK</a> friends for this! This is part of efforts for <a href="https://amperecomputing.com/home/edge" rel="nofollow">Ampere on Edge</a>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-running-steam-on-ampere-altra" aria-hidden="true" tabindex="-1" href="#running-steam-on-ampere-altra"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Running Steam on Ampere Altra</h2>
<p dir="auto">Steam is a video game digital distribution service and storefront from Valve. It was launched as a software client in September 2003 to provide game updates automatically for Valve&#39;s games, and expanded to distributing third-party titles in late 2005.
<a href="https://en.wikipedia.org/wiki/Steam_(service)" rel="nofollow">https://en.wikipedia.org/wiki/Steam_(service)</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AmpereComputing/Steam-on-Ampere/blob/main/Steam_install.assets/image-20230713175951524.png"><img src="https://github.com/AmpereComputing/Steam-on-Ampere/raw/main/Steam_install.assets/image-20230713175951524.png" alt="image-20230713175951524"/></a></p>
<p dir="auto">The bummer is that the Steam portal that runs on Linux is purely coded for x86/amd64 based system, that is why the Steam Deck is based on AMD.</p>
<p dir="auto">So could it work on arm64 at all ??</p>
<p dir="auto"><strong>Yes it can !!</strong></p>
<p dir="auto">And it runs quite stable on arm64 when using the x86 emulation tools available to us today.</p>
<p dir="auto">How to get it operational is the first step in this journey and how to get it optimized will be an ongoing story in this document</p>
<p dir="auto">For the system we have been using to try this out we started with a quite moderate configuration :</p>
<ul dir="auto">
<li><a href="https://www.ipi.wiki/products/ampere-altra-developer-platform" rel="nofollow">AADP32 with 2x 16GB DDR4</a></li>
<li>NVIDIA RTX 4080 (Ada), RTX A6000 (Ampere), RTX 3060 (Ampere), RTX 6000 (Turing)</li>
</ul>
<p dir="auto">The below software installation covers :</p>
<ul dir="auto">
<li>Getting a desktop on Ubuntu server</li>
<li>Manually installing Nvidia arm drivers</li>
<li>(correctly) Installing the x86 and amd64 emulation layers</li>
<li>Installing Steam</li>
</ul>
<p dir="auto">This will provide you with a setup that allows you to tryout games that are enabled for Linux (x86/amd64 that is)</p>
<p dir="auto">&#34;Soon&#34; to come</p>
<ul dir="auto">
<li>A list of programs that have been tested under the non-wine install : &#34; working / not working&#34;</li>
<li>Integration with wine to allow Windows games to run on Linux</li>
<li>Proton, other optimization ?</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-setting-up-the-gpu-accelerated-desktop" aria-hidden="true" tabindex="-1" href="#setting-up-the-gpu-accelerated-desktop"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setting up the GPU accelerated Desktop</h3>
<p dir="auto">Please follow instructions in this <a href="https://github.com/AmpereComputing/NVIDIA-GPU-Accelerated-Linux-Desktop-on-Ampere/">document</a> to setup Nvidia GPU enabled desktop.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-installing-box86-and-box64-emulation" aria-hidden="true" tabindex="-1" href="#installing-box86-and-box64-emulation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installing Box86 and Box64 emulation</h3>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AmpereComputing/Steam-on-Ampere/blob/main/Steam_install.assets/Box86_Logo.png"><img src="https://github.com/AmpereComputing/Steam-on-Ampere/raw/main/Steam_install.assets/Box86_Logo.png" alt="Box86_Logo"/></a></p>
<p dir="auto">Box86 is an emulator for x86 userspace tools on ARM Linux systems, allowing such systems to execute video games and other programs that have been compiled for x86 Linux systems. Box86 is an alternative to QEMU for user-mode emulation. Box86 also provides dynamic recompilation as well as functionality to intercept dynamic library calls and forward them to equivalent native libraries, allowing applications to run significantly faster than if they were fully emulated. <a href="https://en.wikipedia.org/wiki/Box86" rel="nofollow">https://en.wikipedia.org/wiki/Box86</a></p>
<p dir="auto">Very detailed instructions can be found on the github site of the developer   <a href="https://github.com/ptitSeb/box86">https://github.com/ptitSeb/box86</a></p>
<p dir="auto">Box 86  is an amazing achievement and although the focus for box86 and box64 is now on gaming it might have many more application down the road.</p>
<p dir="auto">Box86 homepage : <a href="https://box86.org/" rel="nofollow">https://box86.org/</a></p>
<p dir="auto">To keep it simple and easy to reproduce we choose here to install the online debs because there are too many dependencies to fulfill manually to compile box86, that depends on the <code>armhf</code> architecture and box64 that supposedly depends on the standard <code>arm64</code> architecture.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-box86" aria-hidden="true" tabindex="-1" href="#box86"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Box86</h4>
<p dir="auto">We use <a href="https://github.com/Itai-Nelken">@Itai-Nelken</a>&#39;s apt repository to install precompiled box86 debs, updated weekly.</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo wget https://itai-nelken.github.io/weekly-box86-debs/debian/box86.list -O /etc/apt/sources.list.d/box86.list
wget -qO- https://itai-nelken.github.io/weekly-box86-debs/debian/KEY.gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/box86-debs-archive-keyring.gpg
sudo dpkg --add-architecture armhf
sudo apt update
sudo apt install box86:armhf -y
# Run the following command if needed
# sudo apt --fix-broken install
"><pre>sudo wget https://itai-nelken.github.io/weekly-box86-debs/debian/box86.list -O /etc/apt/sources.list.d/box86.list
wget -qO- https://itai-nelken.github.io/weekly-box86-debs/debian/KEY.gpg <span>|</span> sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/box86-debs-archive-keyring.gpg
sudo dpkg --add-architecture armhf
sudo apt update
sudo apt install box86:armhf -y
<span><span>#</span> Run the following command if needed</span>
<span><span>#</span> sudo apt --fix-broken install</span>
</pre></div>
<p dir="auto">Note that we are installing <code>box86:armhf</code>, do not install <code>box86</code></p>
<h4 tabindex="-1" dir="auto"><a id="user-content-box64" aria-hidden="true" tabindex="-1" href="#box64"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Box64</h4>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AmpereComputing/Steam-on-Ampere/blob/main/Steam_install.assets/Box64_Logo.png"><img src="https://github.com/AmpereComputing/Steam-on-Ampere/raw/main/Steam_install.assets/Box64_Logo.png" alt="Box64_Logo"/></a></p>
<p dir="auto">We use <a href="https://github.com/ryanfortner">@ryanfortner</a>&#39;s apt repository to install precompiled box64 debs, updated every 24 hours.</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ sudo wget https://ryanfortner.github.io/box64-debs/box64.list -O /etc/apt/sources.list.d/box64.list
$ wget -qO- https://ryanfortner.github.io/box64-debs/KEY.gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/box64-debs-archive-keyring.gpg
$ sudo apt update &amp;&amp; sudo apt install box64-generic-arm -y
$ sudo systemctl restart systemd-binfmt"><pre>$ sudo wget https://ryanfortner.github.io/box64-debs/box64.list -O /etc/apt/sources.list.d/box64.list
$ wget -qO- https://ryanfortner.github.io/box64-debs/KEY.gpg <span>|</span> sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/box64-debs-archive-keyring.gpg
$ sudo apt update <span>&amp;&amp;</span> sudo apt install box64-generic-arm -y
$ sudo systemctl restart systemd-binfmt</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-installing-steam" aria-hidden="true" tabindex="-1" href="#installing-steam"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installing Steam</h3>
<p dir="auto">Use the following to install steam.</p>
<div data-snippet-clipboard-copy-content="$ git clone https://github.com/ptitSeb/box86
$ cd box86
$ ./install_steam.sh"><pre><code>$ git clone https://github.com/ptitSeb/box86
$ cd box86
$ ./install_steam.sh
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-run-steam" aria-hidden="true" tabindex="-1" href="#run-steam"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Run Steam</h3>
<p dir="auto">Start Steam with the following command and login to start Steam.</p>

<h3 tabindex="-1" dir="auto"><a id="user-content-enable-proton-for-playing-windows-only-games" aria-hidden="true" tabindex="-1" href="#enable-proton-for-playing-windows-only-games"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Enable Proton for Playing Windows-only games</h3>
<p dir="auto">To play Windows-only games, either wine emulator or proton emulator is needed. Steam comes with proton as such it is just a few click away to play Windows-only games.</p>
<p dir="auto">Open the setting dialog box.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AmpereComputing/Steam-on-Ampere/blob/main/images/steam-setting-menu.png"><img src="https://github.com/AmpereComputing/Steam-on-Ampere/raw/main/images/steam-setting-menu.png" alt="Open Setting"/></a></p>
<p dir="auto">Select <em>Compatibility</em> button at left panel and check <em>Enable Steam Play for all other titles</em>. Optionally, configure Proton version as desired.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AmpereComputing/Steam-on-Ampere/blob/main/images/steam-setting-compatibility.png"><img src="https://github.com/AmpereComputing/Steam-on-Ampere/raw/main/images/steam-setting-compatibility.png" alt="Open Setting"/></a></p>
</article>
          </div></div>
  </body>
</html>
