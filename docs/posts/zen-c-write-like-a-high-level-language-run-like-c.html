<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/z-libs/Zen-C">Original</a>
    <h1>Zen-C: Write like a high-level language, run like C</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto">

<p dir="auto"><strong>Modern Ergonomics. Zero Overhead. Pure C.</strong></p>
<p dir="auto"><a href="https://github.com/z-libs/Zen-C/blob/main"><img src="https://camo.githubusercontent.com/b0c6c6845a74cb65a7f0a32bdcfd8fbf80eeb40026c4029af424ab371c94b8bd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6275696c642d70617373696e672d627269676874677265656e" alt="Build Status" data-canonical-src="https://img.shields.io/badge/build-passing-brightgreen"/></a>
<a href="https://github.com/z-libs/Zen-C/blob/main"><img src="https://camo.githubusercontent.com/b8cadaa967891081f8f165695470689986c028821dd8a040132f6e661795dc0d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c7565" alt="License" data-canonical-src="https://img.shields.io/badge/license-MIT-blue"/></a>
<a href="https://github.com/z-libs/Zen-C/blob/main"><img src="https://camo.githubusercontent.com/380c38421a611d29ae9f8182f8f5a008e641e8ba8c2b8e45f6a1b7f7cd29d14d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f76657273696f6e2d302e312e302d6f72616e6765" alt="Version" data-canonical-src="https://img.shields.io/badge/version-0.1.0-orange"/></a>
<a href="https://github.com/z-libs/Zen-C/blob/main"><img src="https://camo.githubusercontent.com/ec3ffbe89f8d1f152dec06cd451833acef4ded894b500c724cb70033418ec0be/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f706c6174666f726d2d6c696e75782d6c6967687467726579" alt="Platform" data-canonical-src="https://img.shields.io/badge/platform-linux-lightgrey"/></a></p>
<p dir="auto"><em>Write like a high-level language, run like C.</em></p>
</div>
<hr/>

<p dir="auto"><strong>Zen C</strong> is a modern systems programming language that compiles to human-readable <code>GNU C</code>/<code>C11</code>. It provides a rich feature set including type inference, pattern matching, generics, traits, async/await, and manual memory management with RAII capabilities, all while maintaining 100% C ABI compatibility.</p>
<hr/>


<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/z-libs/Zen-C.git
cd Zen-C
make
sudo make install"><pre>git clone https://github.com/z-libs/Zen-C.git
<span>cd</span> Zen-C
make
sudo make install</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Compile and run
zc run hello.zc

# Build executable
zc build hello.zc -o hello

# Interactive Shell
zc repl"><pre><span><span>#</span> Compile and run</span>
zc run hello.zc

<span><span>#</span> Build executable</span>
zc build hello.zc -o hello

<span><span>#</span> Interactive Shell</span>
zc repl</pre></div>
<hr/>

<div dir="auto"><h3 tabindex="-1" dir="auto">1. Variables and Constants</h3><a id="user-content-1-variables-and-constants" aria-label="Permalink: 1. Variables and Constants" href="#1-variables-and-constants"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Zen C uses type inference by default.</p>
<div data-snippet-clipboard-copy-content="var x = 42;                 // Inferred as int
const PI = 3.14159;         // Compile-time constant
var explicit: float = 1.0;  // Explicit type"><pre lang="zc"><code>var x = 42;                 // Inferred as int
const PI = 3.14159;         // Compile-time constant
var explicit: float = 1.0;  // Explicit type
</code></pre></div>

<p dir="auto">By default, variables are mutable. You can enable <strong>Immutable by Default</strong> mode using a directive.</p>
<div data-snippet-clipboard-copy-content="//&gt; immutable-by-default

var x = 10;
// x = 20; // Error: x is immutable

var mut y = 10;
y = 20;    // OK"><pre lang="zc"><code>//&gt; immutable-by-default

var x = 10;
// x = 20; // Error: x is immutable

var mut y = 10;
y = 20;    // OK
</code></pre></div>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Type</th>
<th>C Equivalent</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int</code>, <code>uint</code></td>
<td><code>int</code>, <code>unsigned int</code></td>
<td>Platform standard integer</td>
</tr>
<tr>
<td><code>I8</code> .. <code>I128</code> or <code>i8</code> .. <code>i128</code></td>
<td><code>int8_t</code> .. <code>__int128_t</code></td>
<td>Signed fixed-width integers</td>
</tr>
<tr>
<td><code>U8</code> .. <code>U128</code> or <code>u8</code> .. <code>u128</code></td>
<td><code>uint8_t</code> .. <code>__uint128_t</code></td>
<td>Unsigned fixed-width integers</td>
</tr>
<tr>
<td><code>isize</code>, <code>usize</code></td>
<td><code>ptrdiff_t</code>, <code>size_t</code></td>
<td>Pointer-sized integers</td>
</tr>
<tr>
<td><code>byte</code></td>
<td><code>uint8_t</code></td>
<td>Alias for U8</td>
</tr>
<tr>
<td><code>F32</code>, <code>F64</code> or <code>f32</code>, <code>f64</code></td>
<td><code>float</code>, <code>double</code></td>
<td>Floating point numbers</td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>bool</code></td>
<td><code>true</code> or <code>false</code></td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>char</code></td>
<td>Single character</td>
</tr>
<tr>
<td><code>string</code></td>
<td><code>char*</code></td>
<td>C-string (null-terminated)</td>
</tr>
<tr>
<td><code>U0</code>, <code>u0</code>, <code>void</code></td>
<td><code>void</code></td>
<td>Empty type</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>


<p dir="auto">Fixed-size arrays with value semantics.</p>
<div data-snippet-clipboard-copy-content="var ints: int[5] = {1, 2, 3, 4, 5};
var zeros: [int; 5]; // Zero-initialized"><pre lang="zc"><code>var ints: int[5] = {1, 2, 3, 4, 5};
var zeros: [int; 5]; // Zero-initialized
</code></pre></div>

<p dir="auto">Group multiple values together.</p>
<div data-snippet-clipboard-copy-content="var pair = (1, &#34;Hello&#34;);
var x = pair.0;
var s = pair.1;"><pre lang="zc"><code>var pair = (1, &#34;Hello&#34;);
var x = pair.0;
var s = pair.1;
</code></pre></div>

<p dir="auto">Data structures with optional bitfields.</p>
<div data-snippet-clipboard-copy-content="struct Point {
    x: int;
    y: int;
}

// Struct initialization
var p = Point { x: 10, y: 20 };

// Bitfields
struct Flags {
    valid: U8 : 1;
    mode:  U8 : 3;
}"><pre lang="zc"><code>struct Point {
    x: int;
    y: int;
}

// Struct initialization
var p = Point { x: 10, y: 20 };

// Bitfields
struct Flags {
    valid: U8 : 1;
    mode:  U8 : 3;
}
</code></pre></div>

<p dir="auto">Tagged unions (Sum types) capable of holding data.</p>
<div data-snippet-clipboard-copy-content="enum Shape {
    Circle(float),      // Holds radius
    Rect(float, float), // Holds width, height
    Point               // No data
}"><pre lang="zc"><code>enum Shape {
    Circle(float),      // Holds radius
    Rect(float, float), // Holds width, height
    Point               // No data
}
</code></pre></div>

<p dir="auto">Standard C unions (unsafe access).</p>
<div data-snippet-clipboard-copy-content="union Data {
    i: int;
    f: float;
}"><pre lang="zc"><code>union Data {
    i: int;
    f: float;
}
</code></pre></div>


<div data-snippet-clipboard-copy-content="fn add(a: int, b: int) -&gt; int {
    return a + b;
}

// Named arguments supported in calls
add(a: 10, b: 20);"><pre lang="zc"><code>fn add(a: int, b: int) -&gt; int {
    return a + b;
}

// Named arguments supported in calls
add(a: 10, b: 20);
</code></pre></div>

<p dir="auto">Anonymous functions that can capture their environment.</p>
<div data-snippet-clipboard-copy-content="var factor = 2;
var double = x -&gt; x * factor;  // Arrow syntax
var full = fn(x: int) -&gt; int { return x * factor; }; // Block syntax"><pre lang="zc"><code>var factor = 2;
var double = x -&gt; x * factor;  // Arrow syntax
var full = fn(x: int) -&gt; int { return x * factor; }; // Block syntax
</code></pre></div>


<div data-snippet-clipboard-copy-content="if x &gt; 10 {
    print(&#34;Large&#34;);
} else if x &gt; 5 {
    print(&#34;Medium&#34;);
} else {
    print(&#34;Small&#34;);
}

// Ternary
var y = if x &gt; 10 ? 1 : 0;"><pre lang="zc"><code>if x &gt; 10 {
    print(&#34;Large&#34;);
} else if x &gt; 5 {
    print(&#34;Medium&#34;);
} else {
    print(&#34;Small&#34;);
}

// Ternary
var y = if x &gt; 10 ? 1 : 0;
</code></pre></div>

<p dir="auto">Powerful alternative to <code>switch</code>.</p>
<div data-snippet-clipboard-copy-content="match val {
    1 =&gt; print(&#34;One&#34;),
    2 | 3 =&gt; print(&#34;Two or Three&#34;),
    4..10 =&gt; print(&#34;Range&#34;),
    _ =&gt; print(&#34;Other&#34;)
}

// Destructuring Enums
match shape {
    Circle(r) =&gt; print(f&#34;Radius: {r}&#34;),
    Rect(w, h) =&gt; print(f&#34;Area: {w*h}&#34;),
    Point =&gt; print(&#34;Point&#34;)
}"><pre lang="zc"><code>match val {
    1 =&gt; print(&#34;One&#34;),
    2 | 3 =&gt; print(&#34;Two or Three&#34;),
    4..10 =&gt; print(&#34;Range&#34;),
    _ =&gt; print(&#34;Other&#34;)
}

// Destructuring Enums
match shape {
    Circle(r) =&gt; print(f&#34;Radius: {r}&#34;),
    Rect(w, h) =&gt; print(f&#34;Area: {w*h}&#34;),
    Point =&gt; print(&#34;Point&#34;)
}
</code></pre></div>

<div data-snippet-clipboard-copy-content="// Range
for i in 0..10 { ... }
for i in 0..10 step 2 { ... }

// Iterator/Collection
for item in vec { ... }

// While
while x &lt; 10 { ... }

// Infinite with label
outer: loop {
    if done { break outer; }
}

// Repeat
repeat 5 { ... }"><pre lang="zc"><code>// Range
for i in 0..10 { ... }
for i in 0..10 step 2 { ... }

// Iterator/Collection
for item in vec { ... }

// While
while x &lt; 10 { ... }

// Infinite with label
outer: loop {
    if done { break outer; }
}

// Repeat
repeat 5 { ... }
</code></pre></div>

<div data-snippet-clipboard-copy-content="// Guard: Execute else and return if condition is false
guard ptr != NULL else { return; }

// Unless: If not true
unless is_valid { return; }"><pre lang="zc"><code>// Guard: Execute else and return if condition is false
guard ptr != NULL else { return; }

// Unless: If not true
unless is_valid { return; }
</code></pre></div>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Function Mapping</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></td>
<td>Arithmetic</td>
<td><code>add</code>, <code>sub</code>, <code>mul</code>, <code>div</code>, <code>rem</code></td>
</tr>
<tr>
<td><code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code></td>
<td>Comparison</td>
<td><code>eq</code>, <code>neq</code>, <code>lt</code>, <code>gt</code></td>
</tr>
<tr>
<td><code>[]</code></td>
<td>Indexing</td>
<td><code>get</code>, <code>set</code></td>
</tr>
<tr>
<td><code>??</code></td>
<td>Null Coalescing (<code>val ?? default</code>)</td>
<td>-</td>
</tr>
<tr>
<td><code>??=</code></td>
<td>Null Assignment (<code>val ??= init</code>)</td>
<td>-</td>
</tr>
<tr>
<td><code>?.</code></td>
<td>Safe Navigation (<code>ptr?.field</code>)</td>
<td>-</td>
</tr>
<tr>
<td><code>?</code></td>
<td>Try Operator (<code>res?</code> returns error if present)</td>
<td>-</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Zen C allows manual memory management with ergonomic aids.</p>

<p dir="auto">Execute code when the current scope exits.</p>
<div data-snippet-clipboard-copy-content="var f = fopen(&#34;file.txt&#34;, &#34;r&#34;);
defer fclose(f);"><pre lang="zc"><code>var f = fopen(&#34;file.txt&#34;, &#34;r&#34;);
defer fclose(f);
</code></pre></div>

<p dir="auto">Automatically free the variable when scope exits.</p>
<div data-snippet-clipboard-copy-content="autofree var types = malloc(1024);"><pre lang="zc"><code>autofree var types = malloc(1024);
</code></pre></div>

<p dir="auto">Implement <code>Drop</code> to run cleanup logic automatically.</p>
<div data-snippet-clipboard-copy-content="impl Drop for MyStruct {
    fn drop(mut self) {
        free(self.data);
    }
}"><pre lang="zc"><code>impl Drop for MyStruct {
    fn drop(mut self) {
        free(self.data);
    }
}
</code></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">8. Object Oriented Programming</h3><a id="user-content-8-object-oriented-programming" aria-label="Permalink: 8. Object Oriented Programming" href="#8-object-oriented-programming"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<p dir="auto">Define methods on types using <code>impl</code>.</p>
<div data-snippet-clipboard-copy-content="impl Point {
    // Static method (constructor convention)
    fn new(x: int, y: int) -&gt; Point {
        return Point{x: x, y: y};
    }

    // Instance method
    fn dist(self) -&gt; float {
        return sqrt(self.x * self.x + self.y * self.y);
    }
}"><pre lang="zc"><code>impl Point {
    // Static method (constructor convention)
    fn new(x: int, y: int) -&gt; Point {
        return Point{x: x, y: y};
    }

    // Instance method
    fn dist(self) -&gt; float {
        return sqrt(self.x * self.x + self.y * self.y);
    }
}
</code></pre></div>

<p dir="auto">Define shared behavior.</p>
<div data-snippet-clipboard-copy-content="trait Drawable {
    fn draw(self);
}

impl Drawable for Circle {
    fn draw(self) { ... }
}"><pre lang="zc"><code>trait Drawable {
    fn draw(self);
}

impl Drawable for Circle {
    fn draw(self) { ... }
}
</code></pre></div>

<p dir="auto">Use <code>use</code> to mixin fields from another struct.</p>
<div data-snippet-clipboard-copy-content="struct Entity { id: int; }
struct Player {
    use Entity; // Adds &#39;id&#39; field
    name: string;
}"><pre lang="zc"><code>struct Entity { id: int; }
struct Player {
    use Entity; // Adds &#39;id&#39; field
    name: string;
}
</code></pre></div>

<p dir="auto">Type-safe templates for Structs and Functions.</p>
<div data-snippet-clipboard-copy-content="// Generic Struct
struct Box&lt;T&gt; {
    item: T;
}

// Generic Function
fn identity&lt;T&gt;(val: T) -&gt; T {
    return val;
}"><pre lang="zc"><code>// Generic Struct
struct Box&lt;T&gt; {
    item: T;
}

// Generic Function
fn identity&lt;T&gt;(val: T) -&gt; T {
    return val;
}
</code></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">10. Concurrency (Async/Await)</h3><a id="user-content-10-concurrency-asyncawait" aria-label="Permalink: 10. Concurrency (Async/Await)" href="#10-concurrency-asyncawait"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Built on pthreads.</p>
<div data-snippet-clipboard-copy-content="async fn fetch_data() -&gt; string {
    // Runs in background
    return &#34;Data&#34;;
}

fn main() {
    var future = fetch_data();
    var result = await future;
}"><pre lang="zc"><code>async fn fetch_data() -&gt; string {
    // Runs in background
    return &#34;Data&#34;;
}

fn main() {
    var future = fetch_data();
    var result = await future;
}
</code></pre></div>


<p dir="auto">Run code at compile-time to generate source or print messages.</p>
<div data-snippet-clipboard-copy-content="comptime {
    print(&#34;Compiling...&#34;);
}"><pre lang="zc"><code>comptime {
    print(&#34;Compiling...&#34;);
}
</code></pre></div>

<p dir="auto">Embed files as byte arrays.</p>
<div data-snippet-clipboard-copy-content="var png = embed &#34;assets/logo.png&#34;;"><pre lang="zc"><code>var png = embed &#34;assets/logo.png&#34;;
</code></pre></div>

<p dir="auto">Import compiler plugins to extend syntax.</p>
<div data-snippet-clipboard-copy-content="import plugin &#34;regex&#34;
var re = regex! { ^[a-z]+$ };"><pre lang="zc"><code>import plugin &#34;regex&#34;
var re = regex! { ^[a-z]+$ };
</code></pre></div>

<p dir="auto">Pass preprocessor macros through to C.</p>


<p dir="auto">Decorate functions and structs to modify compiler behavior.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Attribute</th>
<th>Scope</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@must_use</code></td>
<td>Fn</td>
<td>Warn if return value is ignored.</td>
</tr>
<tr>
<td><code>@deprecated(&#34;msg&#34;)</code></td>
<td>Fn/Struct</td>
<td>Warn on usage with message.</td>
</tr>
<tr>
<td><code>@inline</code></td>
<td>Fn</td>
<td>Hint compiler to inline.</td>
</tr>
<tr>
<td><code>@noinline</code></td>
<td>Fn</td>
<td>Prevent inlining.</td>
</tr>
<tr>
<td><code>@packed</code></td>
<td>Struct</td>
<td>Remove padding between fields.</td>
</tr>
<tr>
<td><code>@align(N)</code></td>
<td>Struct</td>
<td>Force alignment to N bytes.</td>
</tr>
<tr>
<td><code>@constructor</code></td>
<td>Fn</td>
<td>Run before main.</td>
</tr>
<tr>
<td><code>@destructor</code></td>
<td>Fn</td>
<td>Run after main exits.</td>
</tr>
<tr>
<td><code>@unused</code></td>
<td>Fn/Var</td>
<td>Suppress unused variable warnings.</td>
</tr>
<tr>
<td><code>@weak</code></td>
<td>Fn</td>
<td>Weak symbol linkage.</td>
</tr>
<tr>
<td><code>@section(&#34;name&#34;)</code></td>
<td>Fn</td>
<td>Place code in specific section.</td>
</tr>
<tr>
<td><code>@noreturn</code></td>
<td>Fn</td>
<td>Function does not return (e.g. exit).</td>
</tr>
<tr>
<td><code>@derived(...)</code></td>
<td>Struct</td>
<td>Auto-implement traits (e.g. <code>Debug</code>).</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Zen C provides first-class support for inline assembly, transpiling directly to GCC-style extended <code>asm</code>.</p>

<p dir="auto">Write raw assembly within <code>asm</code> blocks. Strings are concatenated automatically.</p>


<p dir="auto">Prevent the compiler from optimizing away assembly that has side effects.</p>


<p dir="auto">Zen C simplifies the complex GCC constraint syntax with named bindings.</p>
<div data-snippet-clipboard-copy-content="// Syntax: : out(var) : in(var) : clobber(reg)
// Uses {var} placeholder syntax for readability

fn add(a: int, b: int) -&gt; int {
    var result: int;
    asm {
        &#34;add {result}, {a}, {b}&#34;
        : out(result)
        : in(a), in(b)
        : clobber(&#34;cc&#34;)
    }
    return result;
}"><pre lang="zc"><code>// Syntax: : out(var) : in(var) : clobber(reg)
// Uses {var} placeholder syntax for readability

fn add(a: int, b: int) -&gt; int {
    var result: int;
    asm {
        &#34;add {result}, {a}, {b}&#34;
        : out(result)
        : in(a), in(b)
        : clobber(&#34;cc&#34;)
    }
    return result;
}
</code></pre></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Type</th>
<th>Syntax</th>
<th>GCC Equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Output</strong></td>
<td><code>: out(var)</code></td>
<td><code>&#34;=r&#34;(var)</code></td>
</tr>
<tr>
<td><strong>Input</strong></td>
<td><code>: in(var)</code></td>
<td><code>&#34;r&#34;(var)</code></td>
</tr>
<tr>
<td><strong>Clobber</strong></td>
<td><code>: clobber(&#34;rax&#34;)</code></td>
<td><code>&#34;rax&#34;</code></td>
</tr>
<tr>
<td><strong>Memory</strong></td>
<td><code>: clobber(&#34;memory&#34;)</code></td>
<td><code>&#34;memory&#34;</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<blockquote>
<p dir="auto"><strong>Note:</strong> When using Intel syntax (via <code>-masm=intel</code>), you must ensure your build is configured correctly (for example, <code>//&gt; cflags: -masm=intel</code>). TCC does not support Intel syntax assembly.</p>
</blockquote>
<hr/>
<div dir="auto"><h2 tabindex="-1" dir="auto">Compiler Support &amp; Compatibility</h2><a id="user-content-compiler-support--compatibility" aria-label="Permalink: Compiler Support &amp; Compatibility" href="#compiler-support--compatibility"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Zen C is designed to work with most C11 compilers. Some features rely on GNU C extensions, but these often work in other compilers. Use the <code>--cc</code> flag to switch backends.</p>
<div dir="auto" data-snippet-clipboard-copy-content="zc run app.zc --cc clang
zc run app.zc --cc zig"><pre>zc run app.zc --cc clang
zc run app.zc --cc zig</pre></div>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Compiler</th>
<th>Pass Rate</th>
<th>Supported Features</th>
<th>Known Limitations</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>GCC</strong></td>
<td><strong>100%</strong></td>
<td>All Features</td>
<td>None.</td>
</tr>
<tr>
<td><strong>Clang</strong></td>
<td><strong>100%</strong></td>
<td>All Features</td>
<td>None.</td>
</tr>
<tr>
<td><strong>Zig</strong></td>
<td><strong>100%</strong></td>
<td>All Features</td>
<td>None. Uses <code>zig cc</code> as a drop-in C compiler.</td>
</tr>
<tr>
<td><strong>TCC</strong></td>
<td><strong>~70%</strong></td>
<td>Basic Syntax, Generics, Traits</td>
<td>No <code>__auto_type</code>, No Intel ASM, No Nested Functions.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<blockquote>
<p dir="auto"><strong>Recommendation:</strong> Use <strong>GCC</strong>, <strong>Clang</strong>, or <strong>Zig</strong> for production builds. TCC is excellent for rapid prototyping due to its compilation speed but misses some advanced C extensions Zen C relies on for full feature support.</p>
</blockquote>

<p dir="auto">Zig&#39;s <code>zig cc</code> command provides a drop-in replacement for GCC/Clang with excellent cross-compilation support. To use Zig:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Compile and run a Zen C program with Zig
zc run app.zc --cc zig

# Build the Zen C compiler itself with Zig
make zig"><pre><span><span>#</span> Compile and run a Zen C program with Zig</span>
zc run app.zc --cc zig

<span><span>#</span> Build the Zen C compiler itself with Zig</span>
make zig</pre></div>
<hr/>

<p dir="auto">We welcome contributions! Whether it&#39;s fixing bugs, adding documentation, or proposing new features.</p>

<ol dir="auto">
<li><strong>Fork the Repository</strong>: standard GitHub workflow.</li>
<li><strong>Create a Feature Branch</strong>: <code>git checkout -b feature/NewThing</code>.</li>
<li><strong>Code Guidelines</strong>:
<ul dir="auto">
<li>Follow the existing C style.</li>
<li>Ensure all tests pass: <code>make test</code>.</li>
<li>Add new tests for your feature in <code>tests/</code>.</li>
</ul>
</li>
<li><strong>Submit a Pull Request</strong>: Describe your changes clearly.</li>
</ol>

<p dir="auto">The test suite is your best friend.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run all tests (GCC)
make test

# Run specific test
./zc run tests/test_match.zc

# Run with different compiler
./tests/run_tests.sh --cc clang
./tests/run_tests.sh --cc zig
./tests/run_tests.sh --cc tcc"><pre><span><span>#</span> Run all tests (GCC)</span>
make <span>test</span>

<span><span>#</span> Run specific test</span>
./zc run tests/test_match.zc

<span><span>#</span> Run with different compiler</span>
./tests/run_tests.sh --cc clang
./tests/run_tests.sh --cc zig
./tests/run_tests.sh --cc tcc</pre></div>

<ul dir="auto">
<li><strong>Parser</strong>: <code>src/parser/</code> - Recursive descent parser.</li>
<li><strong>Codegen</strong>: <code>src/codegen/</code> - Transpiler logic (Zen C -&gt; GNU C/C11).</li>
<li><strong>Standard Library</strong>: <code>std/</code> - Written in Zen C itself.</li>
</ul>
</article></div></div>
  </body>
</html>
