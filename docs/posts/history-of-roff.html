<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://man7.org/linux/man-pages/man7/roff.7.html#History">Original</a>
    <h1>History of roff</h1>
    
    <div id="readability-page-1" class="page">


<!--%%%TOP_BAR%%%-->
    

<hr/>

<!--%%%PAGE_START%%%-->





<!--%%%TEXT_START%%%-->
<pre><span>roff(7)             Miscellaneous Information Manual             roff(7)</span>
</pre>
<h2><a id="Name" href="#Name"></a>Name          <a href="#top_of_page"><span>top</span></a></h2><pre>       roff - concepts and history of roff typesetting
</pre>
<h2><a id="Description" href="#Description"></a>Description          <a href="#top_of_page"><span>top</span></a></h2><pre>       The term <i>roff</i> describes a family of document formatting systems
       known by names like <i>troff</i>, <i>nroff</i>, <i>ditroff</i>, and <i>groff</i>.  A <i>roff</i>
       system consists of an extensible text formatting language and a
       set of programs for printing and converting to other text
       formats.  Unix-like operating systems often distribute a <i>roff</i>
       system as a core package.

       The most common <i>roff</i> system today is GNU <i>roff</i>, <a href="https://man7.org/linux/man-pages/man1/groff.1.html">groff(1)</a>.  <i>groff</i>
       retains the input conventions and functionality of its ancestors,
       with many extensions.  The ancestry of <i>roff</i> is described in
       section “History” below.  In this document, the term <i>roff</i>
       generally refers to this class of programs, with the exception of
       a <b>roff</b>(1) command provided in early Unix systems.  In spite of
       its age, <i>roff</i> remains in wide use today; for example, the manual
       pages on Unix systems (“man pages”), books about software and
       programming, and technical memoranda are written in <i>roff</i>.

       This document describes the history of the development of the
       “roff system”, typographical concepts that form the common
       background of all <i>roff</i> implementations, details on the <i>roff</i>
       pipeline which is usually hidden behind front ends like <a href="https://man7.org/linux/man-pages/man1/groff.1.html">groff(1)</a>,
       a general overview of the formatting language, some tips for
       editing <i>roff</i> files, and many suggestions for further reading.
</pre>
<h2><a id="History" href="#History"></a>History          <a href="#top_of_page"><span>top</span></a></h2><pre>       Computer-driven document formatting dates back to the 1960s.  The
       <i>roff</i> system itself is intimately connected with the Unix
       operating system, but its roots go back to the earlier operating
       systems CTSS and Multics.

   <b>The predecessor—</b><i>RUNOFF</i>
       <i>roff</i>&#39;s ancestor <i>RUNOFF</i> was written in the MAD language by Jerry
       Saltzer to prepare his Ph.D. thesis using the Compatible Time
       Sharing System (CTSS), a project of the Massachusetts Institute
       of Technology (MIT).  The program is generally referred to in
       full capitals, both to distinguish it from its many descendants,
       and because bits were expensive in those days; five- and six-bit
       character encodings were still in widespread usage, and mixed-
       case alphabetics seen as a luxury.  <i>RUNOFF</i> introduced a syntax of
       inlining formatting directives amid document text, by beginning a
       line with a period (an unlikely occurrence in human-readable
       material) followed by a “control word”.  Control words with
       obvious meaning like “.line length <i>n</i>” were supported as well as
       an abbreviation system; the latter came to overwhelm the former
       in popular usage and later derivatives of the program.  A sample
       of control words from a <i>RUNOFF</i> manual of December 1966 
       ⟨<a href="http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.html">http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.html</a>⟩
       was documented as follows with only a slight update to parameter
       syntax.  They will be familiar to <i>roff</i> veterans.

                        Abbreviation   Control word
                                 <b>.ad   </b>.adjust
                                 <b>.bp   </b>.begin page
                                 <b>.br   </b>.break
                                 <b>.ce   </b>.center
                                 <b>.in   </b>.indent <i>n</i>
                                 <b>.ll   </b>.line length <i>n</i>
                                 <b>.nf   </b>.nofill
                                 <b>.pl   </b>.paper length <i>n</i>
                                 <b>.sp   </b>.space [<i>n</i>]

       In 1965, MIT&#39;s Project MAC teamed with Bell Telephone
       Laboratories and General Electric (GE) to inaugurate the Multics
       ⟨<a href="http://www.multicians.org">http://www.multicians.org</a>⟩ project.  After a few years, Bell
       Labs discontinued its participation in Multics, famously
       prompting the development of Unix.  Meanwhile, Saltzer&#39;s <i>RUNOFF</i>
       proved influential, seeing many ports and derivations elsewhere.

       In 1969, Doug McIlroy wrote one such reimplementation of <i>RUNOFF</i>
       in the BCPL language for a GE 645 running GECOS at the Bell Labs
       location in Murray Hill, New Jersey.  In its manual, the control
       commands were termed “requests”, their two-letter names were
       canonical, and the control character was configurable with a <b>.cc</b>
       request.  Other familiar requests emerged at this time; no-adjust
       (<b>.na</b>), need (<b>.ne</b>), page offset (<b>.po</b>), tab configuration (<b>.ta</b>,
       though it worked differently), temporary indent (<b>.ti</b>), character
       translation (<b>.tr</b>), and automatic underlining (<b>.ul</b>; on <i>RUNOFF</i> you
       had to backspace and underscore in the input yourself).  <b>.fi </b>to
       enable filling of output lines got the name it retains to this
       day.

   <b>Unix and </b><i>roff</i>
       By 1971, McIlroy&#39;s <i>runoff</i> had been rewritten in DEC PDP-11
       assembly language by Dennis Ritchie for the fledgling Unix
       operating system and seen its name shortened to <i>roff</i> (perhaps
       under the influence of Ken Thompson), but had added support for
       automatic hyphenation with <b>.hc </b>and <b>.hy </b>requests; a generalization
       of line spacing control with the <b>.ls </b>request; and what later
       <i>roff</i>s would call diversions, with “footnote” requests.  This <i>roff</i>
       indirectly funded operating systems research at Murray Hill, for
       it was used to prepare patent applications for AT&amp;T to the U.S.
       government.  This arrangement enabled the group to acquire the
       aforementioned PDP-11; <i>roff</i> promptly proved equal to the task of
       typesetting the first edition of the manual for what would later
       become known as “v1 Unix”, dated November 1971.

       Output from all of the foregoing programs was limited to line
       printers and paper terminals such the IBM 2471 (based on the
       Selectric line of typewriters) and the Teletype Corporation Model
       37.  Proportionally-spaced type was unknown.

   <b>New </b><i>roff</i> <b>and Typesetter </b><i>roff</i>
       The first years of Unix were spent in rapid evolution.  The
       practicalities of preparing standardized documents like patent
       applications (and Unix manual pages), combined with McIlroy&#39;s
       enthusiasm for macro languages, perhaps created an irresistible
       pressure to make <i>roff</i> extensible.  Joe Ossanna&#39;s <i>nroff</i>, literally
       a “new roff”, was the outlet for this pressure.  By the time of
       Version 3 Unix (February 1973)—and still in PDP-11 assembly
       language—it sported a swath of features now considered essential
       to <i>roff</i> systems; definition of macros (<b>.de</b>), diversion of text
       thence (<b>.di</b>), and removal thereof (<b>.rm</b>); trap planting (<b>.wh</b>;
       “when”) and relocation (<b>.ch</b>; “change”); conditional processing
       (<b>.if</b>); and environments (<b>.ev</b>).  Incremental improvements included
       assignment of the next page number (<b>.pn</b>); no-space mode (<b>.ns</b>) and
       restoration of vertical spacing (<b>.rs</b>); the saving (<b>.sv</b>) and
       output (<b>.os</b>) of vertical space; specification of replacement
       characters for tabs (<b>.tc</b>) and leaders (<b>.lc</b>); configuration of the
       no-break control character (<b>.c2</b>); shorthand to disable automatic
       hyphenation (<b>.nh</b>); a condensation of what were formerly six
       different requests for configuration of page “titles” (headers
       and footers) into one (<b>.tl</b>) with a length controlled separately
       from the line length (<b>.lt</b>); automatic line numbering (<b>.nm</b>);
       interactive input (<b>.rd</b>), which necessitated buffer-flushing
       (<b>.fl</b>), and was made convenient with early program cessation
       (<b>.ex</b>); source file inclusion in its modern form (<b>.so</b>; though
       <i>RUNOFF</i> had an “.append” control word for a similar purpose) and
       early advance to the next file argument (<b>.nx</b>); ignorable content
       (<b>.ig</b>); and programmable abort (<b>.ab</b>).

       Third Edition Unix also brought the <a href="https://man7.org/linux/man-pages/man2/pipe.2.html">pipe(2)</a> system call, the
       explosive growth of a componentized system based around it, and a
       “filter model” that remains perceptible today.  Around this time,
       Michael Lesk developed the <i>tbl</i> preprocessor for formatting
       tables.  Equally importantly, the Bell Labs site in Murray Hill
       acquired a Graphic Systems C/A/T phototypesetter, and with it
       came the necessity of expanding the capabilities of a <i>roff</i> system
       to cope with proportionally-spaced type, multiple point sizes,
       and a variety of fonts.  Ossanna wrote a parallel implementation
       of <i>nroff</i> for the C/A/T, dubbing it <i>troff</i> (for “typesetter roff”).
       Unfortunately, surviving documentation does not illustrate what
       requests were implemented at this time for C/A/T support; the
       <a href="https://man7.org/linux/man-pages/man1/troff.1.html">troff(1)</a> man page in Fourth Edition Unix (November 1973) does not
       feature a request list, unlike <a href="https://man7.org/linux/man-pages/man1/nroff.1.html">nroff(1)</a>.  Apart from typesetter-
       driven features, Version 4 Unix <i>roff</i>s added string definitions
       (<b>.ds</b>); made the escape character configurable (<b>.ec</b>); and enabled
       the user to write diagnostics to the standard error stream (<b>.tm</b>).
       Around 1974, empowered with multiple type sizes, italics, and a
       symbol font specially commissioned by Bell Labs from Graphic
       Systems, Brian Kernighan and Lorinda Cherry implemented <i>eqn</i> for
       typesetting mathematics.  In the same year, for Fifth Edition
       Unix, Ossanna combined and reimplemented the two <i>roff</i>s in C,
       using preprocessor conditions of that language to generate both
       from a single source tree.

       Ossanna documented the syntax of the input language to the <i>nroff</i>
       and <i>troff</i> programs in the “Troff User&#39;s Manual”, first published
       in 1976, with further revisions as late as 1992 by Kernighan.
       (The original version was entitled “Nroff/Troff User&#39;s Manual”,
       which may partially explain why <i>roff</i> practitioners have tended to
       refer to it by its AT&amp;T document identifier, “CSTR #54”.)  Its
       final revision serves as the <i>de facto</i> specification of AT&amp;T
       <i>troff</i>, and all subsequent implementors of <i>roff</i> systems have done
       so in its shadow.

       A small and simple set of <i>roff</i> macros was first used for the
       manual pages of Version 4 Unix and persisted for two further
       releases, but the first macro package to be formally described
       and installed was <i>ms</i> by Lesk in Version 6.  He also wrote a
       manual, “Typing Documents on the Unix System”, describing <i>ms</i> and
       basic <i>nroff</i>/<i>troff</i> usage, updating it as the package accrued
       features.

       For Version 7 Unix (January 1979), McIlroy designed, implemented,
       and documented the <i>man</i> macro package, introducing most of the
       macros described in <a href="https://man7.org/linux/man-pages/man7/groff_man.7.html">groff_man(7)</a> today, and edited volume 1 of
       the Version 7 manual using it.  Documents composed using <i>ms</i>
       featured in volume 2, edited by Kernighan.

       Ossanna had passed away unexpectedly in 1977, and after the
       release of Version 7, with the C/A/T typesetter becoming
       supplanted by alternative devices, Kernighan undertook a revision
       and rewrite of <i>troff</i> to generalize its design.  To implement this
       revised architecture, he developed the font and device
       description file formats and the device-independent output format
       that remain in use today.  He described these novelties in the
       article “A Typesetter-independent TROFF”, last revised in 1982,
       and like the <i>troff</i> manual itself, it is widely known by a
       shorthand, “CSTR #97”.

       Kernighan&#39;s innovations prepared <i>troff</i> well for the introduction
       of the Adobe PostScript language in 1982 and a vibrant market in
       laser printers with built-in interpreters for it.  An output
       driver for PostScript, <i>dpost</i>, was swiftly developed.  However,
       due to AT&amp;T software licensing practices, Ossanna&#39;s <i>troff</i>, with
       its tight coupling to the capabilities of the C/A/T, remained in
       parallel distribution with device-independent <i>troff</i> throughout
       the 1980s, leading some developers to contrive translators for
       C/A/T-formatted documents to other devices.  An example was
       <i>vtroff</i> for Versatec and Benson-Varian plotters.  Today, however,
       all actively maintained <i>troff</i>s follow Kernighan&#39;s device-
       independent design.

   <i>groff</i><b>—a free </b><i>roff</i> <b>from GNU</b>
       The most important free <i>roff</i> project historically has been <i>groff</i>,
       the GNU implementation of <i>troff</i>, developed from scratch by James
       Clark starting in 1989 and distributed under copyleft 
       ⟨<a href="http://www.gnu.org/copyleft">http://www.gnu.org/copyleft</a>⟩ licenses, ensuring to all the
       availability of source code and the freedom to modify and
       redistribute it, properties unprecedented in <i>roff</i> systems to that
       point.  <i>groff</i> rapidly attracted contributors, and has served as a
       complete replacement for almost all applications of AT&amp;T <i>troff</i>
       (exceptions include <i>mv</i>, a macro package for preparation of
       viewgraphs and slides, and the <i>ideal</i> preprocessor for producing
       diagrams from a constraint-based language).  Beyond that, it has
       added numerous features; see <a href="https://man7.org/linux/man-pages/man7/groff_diff.7.html">groff_diff(7)</a>.  Since its inception
       and for at least the following three decades, it has been used by
       practically all GNU/Linux and BSD operating systems.

       <i>groff</i> continues to be developed, is available for almost all
       operating systems in common use (along with several obscure
       ones), and it is free.  These factors make <i>groff</i> the <i>de facto</i>
       <i>roff</i> standard today.

   <b>Heirloom Doctools </b><i>troff</i>
       An alternative is <i>Gunnar Ritter&#39;s Heirloom roff project</i> 
       ⟨<a href="https://github.com/n-t-roff/heirloom-doctools">https://github.com/n-t-roff/heirloom-doctools</a>⟩ project, started
       in 2005, which provides enhanced versions of the various roff
       tools found in the OpenSolaris and Plan 9 operating systems, now
       available under free licenses.  You can get this package with the
       shell command:
              $ git clone <a href="https://github.com/n-t-roff/heirloom-doctools">https://github.com/n-t-roff/heirloom-doctools</a>

       Moreover, one finds there the <i>Original Documenter&#39;s Workbench</i>
       <i>Release 3.3</i> ⟨<a href="https://github.com/n-t-roff/DWB3.3">https://github.com/n-t-roff/DWB3.3</a>⟩.
</pre>
<h2><a id="Using_[22mroff[24m_[1m" href="#Using_[22mroff[24m_[1m"></a>Using [22mroff[24m [1m          <a href="#top_of_page"><span>top</span></a></h2><pre>       Many people use <i>roff</i> frequently without knowing it.  When you
       read a system manual page (man page), it is often a <i>roff</i> working
       in the background to render it.  But using a <i>roff</i> explicitly
       isn&#39;t difficult.

       Some <i>roff</i> implementations provide wrapper programs that make it
       easy to use the <i>roff</i> system from the shell&#39;s command line.  These
       can be specific to a macro package, like <a href="https://man7.org/linux/man-pages/man1/mmroff.1.html">mmroff(1)</a>, or more
       general.  <a href="https://man7.org/linux/man-pages/man1/groff.1.html">groff(1)</a> provides command-line options sparing the user
       from constructing the long, order-dependent pipelines familiar to
       AT&amp;T <i>troff</i> users.  Further, a heuristic program, <a href="https://man7.org/linux/man-pages/man1/grog.1.html">grog(1)</a>, is
       available to infer from a document&#39;s contents which <i>groff</i>
       arguments should be used to process it.

   <b>The </b><i>roff</i> <b>pipeline</b>
       Each <i>roff</i> system consists of preprocessors, one or more <i>roff</i>
       formatter programs, and a set of output drivers (or “device
       postprocessors”).  This arrangement is designed to take advantage
       of a landmark Unix innovation in inter-process communication: the
       pipe.  That is, a series of programs termed a “pipeline” is
       called together where the output of each program in the sequence
       is taken as the input for the next program, without (necessarily)
       passing through temporary files on a disk.  (On non-Unix systems,
       pipelines may have to be simulated.)

              $ <i>preproc1</i> <b>&lt; </b><i>input-file</i> <b>| </b><i>preproc2</i> <b>| </b>... <b>| troff [</b><i>option</i>  ...] <b>\</b>
                  <b>| </b><i>output-driver</i>

       One all preprocessors have run, they deliver a pure <i>roff</i> document
       to the formatter, which in turn generates intermediate output
       that is fed into an output driver for viewing, printing, or
       further processing.

       All of these parts use programming languages of their own; each
       language is totally unrelated to the other parts.  Moreover, <i>roff</i>
       macro packages that are tailored for special purposes can be
       included.

       Most <i>roff</i> input files use the macros of a document formatting
       package, intermixed with instructions for one or more
       preprocessors, seasoned with escape sequences and requests
       directly from the <i>roff</i> language.  Some documents are simpler
       still, since their formatting packages discourage direct use of
       <i>roff</i> requests; man pages are a prominent example.  The full power
       of the <i>roff</i> formatting language is seldom needed by users; only
       programmers of macro packages need a substantial command of it.

   <b>Preprocessors</b>
       A <i>roff</i> preprocessor is any program that generates output that
       syntactically obeys the rules of the <i>roff</i> formatting language.
       Each preprocessor defines a language of its own that is
       translated into <i>roff</i> code when run through the preprocessor
       program.  Parts written in these languages may be included within
       a <i>roff</i> document; they are identified by special <i>roff</i> requests or
       macros.  Each document that is enhanced by preprocessor code must
       be run through all corresponding preprocessors before it is fed
       into the actual <i>roff</i> formatter program, for the formatter just
       ignores all alien code.  The preprocessor programs extract and
       transform only the document parts that are determined for them.

       There are a lot of free and commercial <i>roff</i> preprocessors.  Some
       of them aren&#39;t available on each system, but there is a small set
       of preprocessors that are considered as an integral part of each
       <i>roff</i> system.  The classical preprocessors are

              <b>tbl      </b>for tables.
              <b>eqn      </b>for mathematical formulae.
              <b>pic      </b>for drawing diagrams.
              <b>refer    </b>for bibliographic references.
              <b>soelim   </b>for including macro files from standard locations.
              <b>chem     </b>for drawing chemical formulæ.

       Other known preprocessors that are not available on all systems
       include

              <b>grap   </b>for constructing graphical elements.
              <b>grn    </b>for including <b>gremlin</b>(1) pictures.

   <b>Formatter programs</b>
       In the context of <i>roff</i> systems, the formatter is the program that
       parses documents written in the <i>roff</i> language.  It generates
       intermediate output, which is intended to be fed into an output
       driver (also known as a device postprocessor), the identity of
       which must be known prior to processing.  The documents must
       already have been run through all necessary preprocessors to
       render correctly.

       The output produced by a <i>roff</i> formatter is represented in another
       language, termed the “intermediate output format”.  As noted in
       section “History” above, this language was first specified in
       CSTR #97; GNU extensions to it are documented in <a href="https://man7.org/linux/man-pages/man5/groff_out.5.html">groff_out(5)</a>.
       Intermediate output is in specialized in its parameters, but not
       its syntax, for the output driver used; the format is device-
       <i>independent</i>, but not device-<i>agnostic</i>.

       The formatter is the heart of the <i>roff</i> system.  AT&amp;T had two
       formatters: <i>nroff</i> for terminals, and <i>troff</i> for typesetters.

       Often, the name <i>troff</i> is used as a general term to refer to both
       formatters.  When speaking that generally, <i>groff</i> documentation
       prefers the term “<i>roff</i>”.

   <b>Devices and output drivers</b>
       To a <i>roff</i> system, a <i>device</i> is a hardware interface like a
       printer, a text or graphical terminal, or a standardized file
       format that unrelated software can interpret.

       A <i>roff</i> output driver is a program that parses the device-
       independent intermediate output format of <i>troff</i> and produces
       instructions specific to the device or file format it supports.

       The names of the devices and their driver programs are not
       standardized.  Technologies change; the devices used for document
       preparation have greatly changed since CSTR #54 was first written
       in the 1970s.  Such hardware is no longer used in production
       environments, and device capabilities (including resolution,
       color drawing, and font repertoire) have tended to increase.  The
       PostScript output driver <b>dpost</b>(1) from an AT&amp;T <i>troff</i> of 1980s
       vintage had a resolution of 720 units per inch, whereas <i>groff</i>&#39;s
       <a href="https://man7.org/linux/man-pages/man1/grops.1.html">grops(1)</a> uses 72 000.
</pre>
<i>roff</i><h2>programming </h2>
<pre>       Documents using <i>roff</i> are normal text files interleaved with <i>roff</i>
       formatting elements.  <i>roff</i> languages are powerful enough to
       support arbitrary computation and supply facilities that
       encourage their extension.  The primary such facility is macro
       definition; with this feature, macro packages have been developed
       that are tailored for particular applications.

   <b>Macro packages</b>
       Macro packages can have a much smaller vocabulary than <i>roff</i>
       itself; this trait combined with their domain-specific nature can
       make them easy to acquire and master.  The macro definitions of a
       package are typically kept in a file called <i>name</i><b>.tmac</b>
       (historically, <b>tmac.</b><i>name</i>).  All tmac files are stored in one or
       more directories at standardized positions.  Details on the
       naming of macro packages and their placement is found in
       <a href="https://man7.org/linux/man-pages/man5/groff_tmac.5.html">groff_tmac(5)</a>.

       A macro package anticipated for use in a document can be delcared
       to the formatter by the command-line option <b>-m</b>; see <i>troff</i>(1).  It
       can alternatively be specified within a document using the file
       inclusion requests of the <i>roff</i> language; see <a href="https://man7.org/linux/man-pages/man7/groff.7.html">groff(7)</a>.

       Well-known macro packages include <i>man</i> for traditional man pages
       and <i>mdoc</i> for BSD-style manual pages.  Macro packages for
       typesetting books, articles, and letters include <i>ms</i> (from
       “manuscript macros”), <i>me</i> (named by a system administrator from
       the first name of its creator, Eric Allman), <i>mm</i> (from “memorandum
       macros”), and <i>mom</i>, a punningly-named package exercising many
       <i>groff</i> extensions.

   <b>The </b><i>roff</i> <b>formatting language</b>
       The canonical reference for the AT&amp;T <i>troff</i> language is Ossanna&#39;s
       “Troff User&#39;s Manual”, CSTR #54, in its 1992 revision by
       Kernighan.  <i>roff</i> languages provide requests, escape sequences,
       macro definition facilities, string variables, registers for
       storage of numbers or dimensions, and control of execution flow.
       The theoretically-minded will observe that a <i>roff</i> is not a mere
       markup language, but Turing-complete, and would be even stripped
       of its macro-definition facility.  It has storage (registers); it
       can perform tests (as in conditional expressions like “<b>(\n[i] &gt;=</b>
       <b>1)</b>”); and it can jump or branch using the <b>.if </b>request.

       <i>Requests</i> and <i>escape sequences</i> are instructions, predefined parts
       of the language, that perform formatting operations or otherwise
       change the state of the parser.  The user can define their own
       request-like elements by composing together text, requests, and
       escape sequences <i>ad libitum</i>.  A document writer will not
       (usually) note any difference in usage for requests or macros;
       both are written on a line on their own starting with a dot.
       However, there is a distinction; requests take either a fixed
       number of arguments (sometimes zero), silently ignoring any
       excess, or consume the rest of the input line, whereas macros can
       take a variable number of arguments.  Since arguments are
       separated by spaces, macros require a means of embedding a space
       in an argument; in other words, of quoting it.  This then demands
       a mechanism of embedding the quoting character itself, in case <i>it</i>
       is needed literally in a macro argument.  AT&amp;T <i>troff</i> had complex
       rules involving the placement and repetition of the double quote
       to achieve both aims.  <i>groff</i> cuts this knot by supporting a
       special character escape sequence for the double quote, “<b>\[dq]</b>”<b>,</b>
       which never performs quoting in the typesetting language, but is
       simply a glyph, ‘<b>&#34;</b>’.

       <i>Escape sequences</i> start with a backslash, “<b>\</b>”.  They can appear
       almost anywhere, even in the midst of text on a line, and
       implement various features, including the insertion of special
       characters with “<b>\(</b>” or “<b>\[]</b>”, break suppression at input line
       endings with “<b>\c</b>”, font changes with “<b>\f</b>”, point size changes
       with “<b>\s</b>”, in-line comments with “<b>\&#34;</b>”, and many others.

       <i>Strings</i> are variables that can store a string.  A string is
       stored by the <b>.ds </b>request.  The stored string can be retrieved
       later by the <b>\* </b>escape sequence.

       <i>Registers</i> store numbers and sizes.  A register can be set with
       the request <b>.nr </b>and its value can be retrieved by the escape
       sequence <b>\n</b>.
</pre>
<h2><a id="File_name_extensions" href="#File_name_extensions"></a>File name extensions          <a href="#top_of_page"><span>top</span></a></h2><pre>       Manual pages (man pages) take the section number as a file name
       extension, e.g., the file name for this document is <i>roff.7</i>, i.e.,
       it is kept in section 7 of the man pages.

       The classical macro packages take the package name as an
       extension, e.g., file<i>.me</i> for a document using the <i>me</i> macro
       package, file<i>.mm</i> for <i>mm</i>, file<i>.ms</i> for <i>ms</i>, file<i>.pic</i> for <i>pic</i> files,
       and so on.

       There is no general naming scheme for <i>roff</i> documents, though
       file<i>.t</i> for “troff file” is seen now and then.

       File name extensions can be handy in conjunction with the <a href="https://man7.org/linux/man-pages/man1/less.1.html">less(1)</a>
       pager.  It provides the possibility to feed all input into a
       command-line pipe that is specified in the shell environment
       variable <i>LESSOPEN</i>.  This process is not well documented, so here
       is an example.

              LESSOPEN=&#39;|lesspipe %s&#39;

       where <i>lesspipe</i> is either a system-supplied command or a shell
       script of your own.

       See <i>groff_filenames</i>(5) for more on file name extensions.
</pre>
<h2><a id="Editing_[22mroff[24m_[1m" href="#Editing_[22mroff[24m_[1m"></a>Editing [22mroff[24m [1m          <a href="#top_of_page"><span>top</span></a></h2><pre>       All <i>roff</i> formatters provide automated line breaks and horizontal
       and vertical spacing.  In order to not disturb this, the
       following tips can be helpful.

       •      Never include empty or blank lines in a <i>roff</i> document.
              Instead, use the empty request (a line consisting of a dot
              only) or a line comment <b>.\&#34; </b>if a structuring element is
              needed.

       •      Never start a line with whitespace because this can lead
              to unexpected behavior.  Indented paragraphs can be
              constructed in a controlled way by <i>roff</i> requests.

       •      Start each sentence on a line of its own, for the spacing
              after a dot is handled differently depending on whether it
              terminates an abbreviation or a sentence.  To distinguish
              both cases, do a line break after each sentence.

       •      To additionally use the auto-fill mode in Emacs, it is
              best to insert an empty <i>roff</i> request (a line consisting of
              a dot only) after each sentence.

       The following example shows judicious line breaking in a <i>roff</i>
       input file.

              This is an example of a
              .I roff
              document that you can type into your text editor.
              .
              This is the next sentence in the same paragraph.
              .
              This is a longer sentence stretching over several input lines;
              abbreviations like cf. are easily identified because the dot is
              not followed by a line break.
              .
              In the output, this sentence continues the same paragraph.

   <b>Editing with Emacs</b>
       Official GNU doctrine holds that the best program for editing a
       <i>roff</i> document is Emacs; see <b>emacs</b>(1).  It provides an <i>nroff</i> major
       mode that is suitable for all kinds of <i>roff</i> dialects.  This mode
       can be activated by the following methods.

       When editing a file within Emacs the mode can be changed by
       typing ‘<i>M-x nroff-mode</i>’, where <b>M-x </b>means to hold down the <b>Meta</b>
       key (or <b>Alt</b>) and press the <b>x </b>key at the same time.

       But it is also possible to have the mode automatically selected
       when the file is loaded into the editor.

       •      The most general method is to include the following 3
              comment lines at the end of the file.

                     .\&#34; Local Variables:
                     .\&#34; mode: nroff
                     .\&#34; End:

       •      There is a set of file name extensions, e.g., the man
              pages that trigger the automatic activation of the <i>nroff</i>
              mode.

       •      Theoretically, it is possible to write the sequence

                     .\&#34; -*- nroff -*-

              as the first line of a file to have it started in <i>nroff</i>
              mode when loaded.  Unfortunately, some applications such
              as the <b>man </b>program are confused by this; so this is
              deprecated.

   <b>Editing with Vim</b>
       Besides Emacs, some other editors provide <i>nroff</i> style files too,
       e.g., <b>vim</b>(1), an extension of the <b>vi</b>(1) program.  Vim&#39;s
       highlighting can be made to recognize <i>roff</i> files by setting the
       <i>filetype</i> option in a Vim <i>modeline</i>.  For this feature to work,
       your copy of <i>vim</i> must be built with support for, and configured
       to enable, several features; consult the editor&#39;s online help
       topics “auto-setting”, “filetype”, and “syntax”.  Then put the
       following at the end of your <i>roff</i> files, after any Emacs
       configuration:

                     .\&#34; vim: set filetype=groff:

       Replace “groff” in the above with “nroff” if you want highlighing
       that does <i>not</i> recognize many of the GNU extensions to <i>roff</i>, such
       as request, register, and string names longer than two
       characters.
</pre>
<h2><a id="Authors" href="#Authors"></a>Authors          <a href="#top_of_page"><span>top</span></a></h2><pre>       This document was written by Bernd Warken ⟨groff-bernd.warken-72@
       web.de⟩, with the section “History” revised by G. Branden
       Robinson ⟨g.branden.robinson@gmail.com⟩.
</pre>
<h2><a id="See_also" href="#See_also"></a>See also          <a href="#top_of_page"><span>top</span></a></h2><pre>       There is a lot of documentation about <i>roff</i>.  The original papers
       describing AT&amp;T <i>troff</i> are still available, and all aspects of
       <i>groff</i> are documented in great detail.

   <b>Internet sites</b>
       <i>Unix Text Processing</i> 
       ⟨<a href="https://github.com/larrykollar/Unix-Text-Processing">https://github.com/larrykollar/Unix-Text-Processing</a>⟩, by Dale
       Dougherty and Tim O&#39;Reilly, 1987, Hayden Books.  This well-
       regarded text from 1987 brings the reader from a state of no
       knowledge of Unix or text editing (if necessary) to sophisticated
       computer-aided typesetting.  It has been placed under a free
       software license by its authors and updated by a team of <i>groff</i>
       contributors and enthusiasts.

       “History of Unix Manpages” ⟨<a href="http://manpages.bsd.lv/history.html">http://manpages.bsd.lv/history.html</a>⟩,
       an online article maintained by the mdocml project, provides an
       overview of <i>roff</i> development from Salzer&#39;s <i>RUNOFF</i> to 2008, with
       links to original documentation and recollections of the authors
       and their contemporaries.

       troff.org ⟨<a href="http://www.troff.org/">http://www.troff.org/</a>⟩, Ralph Corderoy&#39;s <i>troff</i> site,
       provides an overview and pointers to much historical <i>roff</i>
       information.

       Multicians ⟨<a href="http://www.multicians.org/">http://www.multicians.org/</a>⟩, a site by Multics
       enthusiasts, contains a lot of information on the MIT projects
       CTSS and Multics, including <i>RUNOFF</i>; it is especially useful for
       its glossary and the many links to historical documents.

       The Unix Archive ⟨<a href="http://www.tuhs.org/Archive/">http://www.tuhs.org/Archive/</a>⟩, curated by the
       Unix Heritage Society, provides the source code and some binaries
       of historical Unices (including the source code of some versions
       of <i>troff</i> and its documentation) contributed by their copyright
       holders.

       Jerry Saltzer&#39;s home page 
       ⟨<a href="http://web.mit.edu/Saltzer/www/publications/pubs.html">http://web.mit.edu/Saltzer/www/publications/pubs.html</a>⟩ stores
       some documents using the original <i>RUNOFF</i> formatting language.

       <i>groff</i> ⟨<a href="http://www.gnu.org/software/groff">http://www.gnu.org/software/groff</a>⟩, GNU <i>roff</i>&#39;s web site,
       provides convenient access to <i>groff</i>&#39;s source code repository, bug
       tracker, and mailing lists (including archives and the
       subscription interface).

   <b>Historical </b><i>roff</i> <b>documentation</b>
       Many AT&amp;T <i>troff</i> documents are available online, and can be found
       at Ralph Corderoy&#39;s site (see above) or via Internet search.

       Of foremost significance are two mentioned in section “History”
       above, describing the language and its device-independent
       implementation, respectively.

       “Troff User&#39;s Manual”; Computing Science Technical Report #54;
       Joseph F. Ossanna; AT&amp;T Bell Laboratories; 1976.  Revised by
       Brian Kernighan, November 1992.

       “A Typesetter-independent TROFF”; Computing Science Technical
       Report #97; Brian W. Kernighan; AT&amp;T Bell Laboratories; 1981.
       Revised March 1982.

       You can obtain many relevant Bell Labs papers in PDF from Bernd
       Warken&#39;s “roff classical” GitHub repository 
       ⟨<a href="https://github.com/bwarken/roff_classical.git">https://github.com/bwarken/roff_classical.git</a>⟩.

   <b>Manual pages</b>
       As a system of multiple components, a <i>roff</i> system potentially has
       many man pages, each describing an aspect of it.  Unfortunately,
       there is no general naming scheme for the documentation among the
       different <i>roff</i> implementations.

       For GNU <i>roff</i>, the <a href="https://man7.org/linux/man-pages/man1/groff.1.html">groff(1)</a> man page offers a survey of all the
       documentation distributed with the system.

       With other <i>roff</i>s, you are on your own, but <a href="https://man7.org/linux/man-pages/man1/troff.1.html">troff(1)</a> might be a
       good starting point.
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON          <a href="#top_of_page"><span>top</span></a></h2><pre>       This page is part of the <i>groff</i> (GNU troff) project.  Information
       about the project can be found at 
       ⟨<a href="http://www.gnu.org/software/groff/">http://www.gnu.org/software/groff/</a>⟩.  If you have a bug report
       for this manual page, see ⟨<a href="http://www.gnu.org/software/groff/">http://www.gnu.org/software/groff/</a>⟩.
       This page was obtained from the project&#39;s upstream Git repository
       ⟨<a href="https://git.savannah.gnu.org/git/groff.git">https://git.savannah.gnu.org/git/groff.git</a>⟩ on 2021-08-27.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2021-08-23.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org


</pre>

<hr/>
<p>Pages that refer to this page: 
    <a href="https://man7.org/linux/man-pages/man1/eqn.1.html">eqn(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/gdiffmk.1.html">gdiffmk(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/groff.1.html">groff(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/groffer.1.html">groffer(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/grog.1.html">grog(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/grohtml.1.html">grohtml(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/nroff.1.html">nroff(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/refer.1.html">refer(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/soelim.1.html">soelim(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/tbl.1.html">tbl(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man1/troff.1.html">troff(1)</a>,  
    <a href="https://man7.org/linux/man-pages/man5/groff_filenames.5.html">groff_filenames(5)</a>,  
    <a href="https://man7.org/linux/man-pages/man5/groff_out.5.html">groff_out(5)</a>,  
    <a href="https://man7.org/linux/man-pages/man5/groff_tmac.5.html">groff_tmac(5)</a>,  
    <a href="https://man7.org/linux/man-pages/man7/ditroff.7.html">ditroff(7)</a>,  
    <a href="https://man7.org/linux/man-pages/man7/groff.7.html">groff(7)</a>,  
    <a href="https://man7.org/linux/man-pages/man7/groff_diff.7.html">groff_diff(7)</a>
</p>
<hr/>

 








<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Default Statcounter code for man7.org/linux/man-pages
http://www.man7.org/linux/man-pages -->



<!-- End of Statcounter Code -->



<!-- Start of Google Analytics Code -->



<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->



</div>
  </body>
</html>
