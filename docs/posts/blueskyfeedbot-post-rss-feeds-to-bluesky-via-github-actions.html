<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/marketplace/actions/feed-to-bluesky">Original</a>
    <h1>Blueskyfeedbot: Post RSS Feeds to Bluesky via GitHub Actions</h1>
    
    <div id="readability-page-1" class="page"><div data-testid="markdown-body"><div>
<p dir="auto">Blueskyfeedbot is a bot that posts RSS feeds to Bluesky via GitHub Actions.</p>

<ol dir="auto">
<li>
<p dir="auto">Go to <a href="https://bsky.app/settings/app-passwords" rel="nofollow">https://bsky.app/settings/app-passwords</a> and add a new app password.</p>
<ul dir="auto">
<li>Name it whatever you want.</li>
<li>Save it and grab the app password.
For security reasons, you won&#39;t be able to view this again.
If you lose this app password, you&#39;ll need to generate a new one.</li>
</ul>
</li>
<li>
<p dir="auto">Create a new GitHub repository.</p>
</li>
<li>
<p dir="auto">Go to your repository settings at <code>https://github.com/${YOUR_REPO}/settings/secrets/actions/new</code>, and add a new
secret with the value of the access token.</p>
</li>
<li>
<p dir="auto">Add a file named <code>.github/workflows/blueskyfeedbot.yml</code> with the following content:</p>
<div dir="auto" data-snippet-clipboard-copy-content="name: FeedBot
on:
  schedule:
    # This will run every five minutes. Alter it using https://crontab.guru/.
    - cron: &#39;*/5 * * * *&#39;  
jobs:
  rss-to-bluesky:
    runs-on: ubuntu-latest
    steps:
      - name: Generate cache key
        uses: actions/github-script@v6
        id: generate-key
        with:
          script: |
            core.setOutput(&#39;cache-key&#39;, new Date().valueOf())
      - name: Retrieve cache
        uses: actions/cache@v3
        with:
          path: ${{ github.workspace }}/blueskyfeedbot
          key: feed-cache-${{ steps.generate-key.outputs.cache-key }}
          restore-keys: feed-cache-
      - name: GitHub
        uses: &#39;joschi/blueskyfeedbot@v1&#39;
        with:
          # This is the RSS feed you want to publish
          rss-feed: https://www.githubstatus.com/history.rss
          # Template of status posted to Bluesky (Handlebars)
          template: &#39;{{item.title}} {{item.link}}&#39;
          # This is your service URL (optional)
          service-url: https://bsky.social
          # This is the Bluesky username (example: username.bsky.social)
          username: ${{ secrets.BLUESKY_USERNAME }}
          # This is the app password you created earlier
          password: ${{ secrets.BLUESKY_PASSWORD }}
          # This is a path to the cache file, using the above cache path
          cache-file: ${{ github.workspace }}/blueskyfeedbot/cache.json"><pre><span>name</span>: <span>FeedBot</span>
<span>on</span>:
  <span>schedule</span>:
    <span><span>#</span> This will run every five minutes. Alter it using https://crontab.guru/.</span>
    - <span>cron</span>: <span><span>&#39;</span>*/5 * * * *<span>&#39;</span></span>  
<span>jobs</span>:
  <span>rss-to-bluesky</span>:
    <span>runs-on</span>: <span>ubuntu-latest</span>
    <span>steps</span>:
      - <span>name</span>: <span>Generate cache key</span>
        <span>uses</span>: <span>actions/github-script@v6</span>
        <span>id</span>: <span>generate-key</span>
        <span>with</span>:
          <span>script</span>: <span>|</span>
<span>            core.setOutput(&#39;cache-key&#39;, new Date().valueOf())</span>
<span></span>      - <span>name</span>: <span>Retrieve cache</span>
        <span>uses</span>: <span>actions/cache@v3</span>
        <span>with</span>:
          <span>path</span>: <span>${{ github.workspace }}/blueskyfeedbot</span>
          <span>key</span>: <span>feed-cache-${{ steps.generate-key.outputs.cache-key }}</span>
          <span>restore-keys</span>: <span>feed-cache-</span>
      - <span>name</span>: <span>GitHub</span>
        <span>uses</span>: <span><span>&#39;</span>joschi/blueskyfeedbot@v1<span>&#39;</span></span>
        <span>with</span>:
          <span><span>#</span> This is the RSS feed you want to publish</span>
          <span>rss-feed</span>: <span>https://www.githubstatus.com/history.rss</span>
          <span><span>#</span> Template of status posted to Bluesky (Handlebars)</span>
          <span>template</span>: <span><span>&#39;</span>{{item.title}} {{item.link}}<span>&#39;</span></span>
          <span><span>#</span> This is your service URL (optional)</span>
          <span>service-url</span>: <span>https://bsky.social</span>
          <span><span>#</span> This is the Bluesky username (example: username.bsky.social)</span>
          <span>username</span>: <span>${{ secrets.BLUESKY_USERNAME }}</span>
          <span><span>#</span> This is the app password you created earlier</span>
          <span>password</span>: <span>${{ secrets.BLUESKY_PASSWORD }}</span>
          <span><span>#</span> This is a path to the cache file, using the above cache path</span>
          <span>cache-file</span>: <span>${{ github.workspace }}/blueskyfeedbot/cache.json</span></pre></div>
</li>
<li>
<p dir="auto">Commit and publish your changes.</p>
</li>
</ol>

<p dir="auto">The status template (<code>status-template</code>) is using <a href="https://handlebarsjs.com/" rel="nofollow">Handlebars</a> as template engine.</p>
<p dir="auto">The action is passing in an instance of <code>FeedData</code> (field <code>feedData</code>) and the current <code>FeedEntry</code> (field <code>item</code>) into the template:</p>
<div dir="auto" data-snippet-clipboard-copy-content="export interface FeedEntry {
  link?: string;
  title?: string;
  description?: string;
  published?: Date;
}

export interface FeedData {
  link?: string;
  title?: string;
  description?: string;
  generator?: string;
  language?: string;
  published?: Date;
  entries?: Array&lt;FeedEntry&gt;;
}"><pre><span>export</span> <span>interface</span> <span>FeedEntry</span> <span>{</span>
  <span>link</span>?: <span>string</span><span>;</span>
  <span>title</span>?: <span>string</span><span>;</span>
  <span>description</span>?: <span>string</span><span>;</span>
  <span>published</span>?: <span>Date</span><span>;</span>
<span>}</span>

<span>export</span> <span>interface</span> <span>FeedData</span> <span>{</span>
  <span>link</span>?: <span>string</span><span>;</span>
  <span>title</span>?: <span>string</span><span>;</span>
  <span>description</span>?: <span>string</span><span>;</span>
  <span>generator</span>?: <span>string</span><span>;</span>
  <span>language</span>?: <span>string</span><span>;</span>
  <span>published</span>?: <span>Date</span><span>;</span>
  <span>entries</span>?: <span>Array</span><span>&lt;</span><span>FeedEntry</span><span>&gt;</span><span>;</span>
<span>}</span></pre></div>
</div></div></div>
  </body>
</html>
