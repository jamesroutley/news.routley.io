<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/zajo/appler">Original</a>
    <h1>Appler: Apple ][ emulator for IBM PC, written in 8088 assembly</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Alexander Patalenski | Emil Dotchevski</p>

<p dir="auto">Appler is an Apple ][ emulator for IBM PC, written in 8088 assembly, running on MS-DOS. It was developed in 1990, at a time when Apple IIe was still in production, which means that Appler is likely the first Apple ][ emulator ever made; it is probably the fastest also, although this distinction is no longer important.</p>
<p dir="auto">This distribution contains the executable binaries as well as the complete source code.</p>
<p dir="auto">At the time of this writing, Apple ][ is an antique and MS-DOS is obsolete. However, Appler still runs on <a href="https://www.dosbox.com/" rel="nofollow">DOSBOX</a> on Windows or on Mac. So now you can play Apple ][ games running on Appler running on DOSBOX running on MacOS. :)</p>

<p dir="auto">To download Appler, click the green <code>Code</code> button in GitHub, and in the drop-down menu select <code>Download ZIP</code>. Double-click the downloaded file to unzip it.</p>
<p dir="auto">Next, download and install DOSBOX from <a href="https://www.dosbox.com/" rel="nofollow">https://www.dosbox.com/</a>. Run DOSBOX, and on its command prompt enter the following commands (replacing <code>&lt;path-to-appler</code> with the location where you unzipped Appler):</p>
<div data-snippet-clipboard-copy-content="mount c &lt;path-to-appler&gt;
c:
cd bin
appler"><pre><code>mount c &lt;path-to-appler&gt;
c:
cd bin
appler
</code></pre></div>

<p dir="auto">Feel free to create GitHub issues, hopefully I can help.</p>
<p dir="auto">Appler&#39;s startup disk boots the classic Apple ][ game Lode Runner. A lot of Apple ][ software is available for download at:</p>
<ul dir="auto">
<li><a href="https://mirrors.apple2.org.za/ftp.apple.asimov.net/images/" rel="nofollow">https://mirrors.apple2.org.za/ftp.apple.asimov.net/images/</a></li>
<li><a href="https://apple2online.com/" rel="nofollow">https://apple2online.com/</a></li>
</ul>

<p dir="auto">Before talking about Appler, I should introduce the machine it emulates, the amazing Apple ][.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-the-humble-beginnings" aria-hidden="true" href="#the-humble-beginnings"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>The humble beginnings</h2>
<p dir="auto">Apple Computer started in Steve Wozniak&#39;s apartment. Here he is, next to the other, more famous Steve:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/wozniak-and-jobs.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/wozniak-and-jobs.jpg" alt="Steve Wozniak and Steve Jobs"/></a></p>
<p dir="auto">Wozniak designed and put together the Apple I, which was sold as a kit, meaning the computer was sold barebones, and had to be assembled by the buyer. This is a nice surviving example, mounted in a briefcase:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/Apple1.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/Apple1.jpg" alt="Apple I"/></a></p>
<p dir="auto">Notice the compact cassette player. Back in those days, when you booted up the computer, there was no software loaded on it. You either write the code every time you turn the power on, or else read it from a cassette tape.</p>
<p dir="auto">Next was the Apple ][, which had a yellowish skin:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/IMKO2.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/IMKO2.jpg" alt="IMKO2"/></a></p>
<p dir="auto">Curiously, it supported the Cyrillic alphabet right out of the box.</p>
<p dir="auto">I&#39;m kidding of course, the above is the Bulgarian-made clone of the Apple ][. If you read the screen, it says <code>ИМКО   2</code>. You probably wonder why its name contains 3 spaces, that&#39;s because the engineers hacked directly into the binary code of the original ROM, where they simply replaced the 8 bytes that spelled Apple ][.</p>
<p dir="auto">It is perhaps unfair to introduce the illegal clone before the original American masterpiece, but let me assure you, behind the commie skin the brilliance of Wozniak&#39;s design was intact, and it was built like a tank. The entire bottom of the case, on which everything else is bolted on, is a solid 2mm steel plate which doubles as a giant heat sink for 100% silent operation:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/PRAVETZ82.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/PRAVETZ82.jpg" alt="PRAVETZ 82"/></a></p>
<p dir="auto">I don&#39;t know how much one of these cost, because in Communist Bulgaria such things were considered &#34;means of production&#34; and nobody could own one. Instead, they were available for free use at schools and at public computing centers.</p>
<blockquote>
<p dir="auto">Interesting detail: the original Apple ][+ did not support lowercase letters in text mode. This design shortcomming worked out great for the Bulgarians, because it meant that Western software didn&#39;t generally attempt to display lowercase, so that section of the character set could be used to add Cyrillic letters in a backwards-compatible manner; it is as if Wozniak had reserved space for Cyrillic in the 7-bit character set.</p>
</blockquote>
<p dir="auto">But enough about this Commie business. Naturally, the actual Apple ][  looked a lot nicer:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/Apple2.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/Apple2.jpg" alt="Apple II"/></a></p>
<p dir="auto">The Apple ][ uses the 6502 CPU, which was designed by a team lead by Chuck Peddle. The team worked for Motorola and proposed an idea for a new, cheaper, faster CPU. The company rejected it, the entire team quit and joined MOS Technology, which produced what became known as the 6502 (the Bulgarians copied that too, making the 100% compatible CM630).</p>
<p dir="auto">But as great as the 6502 was, at the heart of Apple ][ is Wozniak&#39;s brilliant design. He alone designed the hardware as well as the system software.</p>
<p dir="auto">If one studied the overall system design, it became clear that Wozniak was driven by a simple principle: if there was a way to save 5c in production cost, at the expense of making the life of the programmer 100x more difficult, he&#39;d totally go for it.</p>
<p dir="auto">As an example, consider the floppy disk controller for Apple ][:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/IBM_PC_XT_Floppy_Controller.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/IBM_PC_XT_Floppy_Controller.jpg" alt="IBM PC/XT Floppy Disk Controller"/></a></p>
<p dir="auto">Just kidding. :) The above is the floppy disk controller for the IBM PC/XT. The Wozniak design is below (not to scale):</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/disk-ii-inteface-card.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/disk-ii-inteface-card.jpg" alt="Apple 2 Floppy Disk Controller"/></a></p>
<p dir="auto">If you wonder how can these two cards do the same thing, they really don&#39;t. The IBM controller has its own CPU, supports DMA, and does a lot of heavy lifting that makes it easy to write the software. In contrast, the Wozniak design does about 10% of what most reasonable people would consider sufficient for it to be called Disk ][ Interface Card, and yet there it was, and it worked beautifully.</p>
<p dir="auto">As another example, consider the Apple ][ speaker. Most other computers at least have a simple timer that lets you play a sound with a given frequency. But on the Apple ][, each access of address <code>$C030</code> inverts the polarity of the speaker, and that&#39;s all of the support you get from the hardware. And yet, Paul Lutus gave us <a href="https://arachnoid.com/electric_duet/index.html" rel="nofollow">The Electric Duet</a>, which plays two voice music (though it produced an audible 14,080 Hz noise as a side effect of duty cycle modulation; Alex wrote his own player from scratch to fix this, and hacked into the binary code to replace the original player. This improved Electric Duet sounded <a href="https://github.com/zajo/appler/blob/develop/images/jukebox.mp3">like this</a>).</p>
<p dir="auto">This minimalist approach seems counter-intuitive, but only if difficult to write software is seen as a downside; yet software -- unlike hardware -- is free to distribute. The result was a cheap, powerful and interesting machine.</p>
<p dir="auto">Besides, programmers love solving complex problems and take pride in exceptionally clever masterpieces. Wozniak himself set an example of what&#39;s possible, managing to fit in 12 KB of memory a Basic interpreter, a program editor, and a debugger.</p>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-in-popular-culture" aria-hidden="true" href="#in-popular-culture"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>In popular culture</h2>
<p dir="auto">The Hollywood blockbuster The Terminator featured some 6502 code for Apple ][ in several scenes, seen on the Terminator&#39;s HUD:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/terminator.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/terminator.jpg" alt="Terminator"/></a></p>

<h2 tabindex="-1" dir="auto"><a id="user-content-the-6502-emulator" aria-hidden="true" href="#the-6502-emulator"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>The 6502 Emulator</h2>
<p dir="auto">Most of the state of the emulated 6502 CPU is stored in 8086 registers:</p>
<ul dir="auto">
<li><code>A</code> =&gt; <code>dl</code></li>
<li><code>X</code> =&gt; <code>cx</code></li>
<li><code>Y</code> =&gt; <code>bp</code></li>
<li><code>PC</code> =&gt; <code>si</code></li>
</ul>
<p dir="auto">The <code>Z</code> and <code>N</code> flags are stored directly in the 8086 <code>ZF</code> and <code>SF</code>, while <code>dh</code> stores the <code>C</code> and the <code>O</code> flags. The stack pointer is stored in memory.</p>
<p dir="auto">The reason the <code>PC</code> register is stored in <code>si</code> is that this makes it possible to load the next opcode or 8-bit operand using <code>lodsb</code>, and of course 16-bit operands can be loaded via <code>lodsw</code>.</p>
<p dir="auto">All of the CPU emulation code occupies 64KB of contiguous memory, with the emulation routine for each opcode located at the beginning of each 256-byte segment. The <code>bl</code> register is kept at zero.</p>
<p dir="auto">With this arrangement, here is the complete implementation of the 6502 instruction <code>INX</code> (increment the <code>X</code> register):</p>
<div data-snippet-clipboard-copy-content="inc     cl
lodsb
mov     bh, al
jmp     bx"><pre><code>inc     cl
lodsb
mov     bh, al
jmp     bx
</code></pre></div>
<p dir="auto">Because incrementing <code>cl</code> leaves the <code>ZF</code> and <code>SF</code> in the correct state that matches the semantics of <code>INX</code>, there is no more work to do, we simply load and execute the next opcode.</p>
<p dir="auto">All of these acrobatics are no longer needed, but back when we wrote this code Appler achieved 75% of the speed of a physical Apple ][ (which runs at 1 MHz) on a 4.75 MHz PC/XT.</p>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-video-memory-and-io-memory" aria-hidden="true" href="#video-memory-and-io-memory"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Video Memory and I/O Memory</h2>
<p dir="auto">Depending on the selected video mode, writes to some 6502 memory addresses need to be visualized to emulate the Apple ][ video controller. This complicates memory access emulation in general, since each instruction may need to do extra work depending on the (dynamic) address it uses.</p>
<p dir="auto">This is implemented by individual emulation routines for each 256-byte page of the 6502 address space. These routines share the same instruction space used to implement the 6502 opcodes, occupying the second half of each 256-byte segment (so, the emulation routine for opcode $20 (<code>JSR</code>) shares the same segment as the emulation routines for reading and writing at addresses $2000...$20FF.</p>
<p dir="auto">Both 40x24 text mode and low graphics mode are mapped to the PC 40x25 text mode. High graphics mode (280x192) is emulated at double horizontal resolution. Mixed graphics/text is supported as well.</p>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-hgr-mode-emulation" aria-hidden="true" href="#hgr-mode-emulation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>HGR</code> Mode Emulation</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/akuma.png"><img src="https://github.com/zajo/appler/raw/develop/images/akuma.png" alt="Akuma"/></a></p>
<p dir="auto">The Apple ][ high resolution graphics mode is commonly referred to as <code>HGR</code>, named after the corresponding BASIC command. In that mode, there are 280x192 pixels. The high bit from each byte of video memory selects between two color palettes, and the rest of the bits control 7 individual pixels:</p>
<ul dir="auto">
<li>If a pixel-controlling bit is clear, the corresponding pixel is off.</li>
<li>If a pixel-controlling bit is set, the corresponding pixel is on. Depending on the color palette bit:
<ul dir="auto">
<li>Pixels at even-numbered screen columns are either purple or blue;</li>
<li>Pixels at odd-numbered screen columns are either green or orange;</li>
<li>If two neighboring pixels are on, they become white.</li>
</ul>
</li>
</ul>
<p dir="auto">So, there are two blacks and two whites, and to see any other color, every other bit (pixel) must be clear (off). Here are the 6 non-black <code>HGR</code> colors, surrounded by the two whites, as rendered by Appler:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/colors0.png"><img src="https://github.com/zajo/appler/raw/develop/images/colors0.png" alt="HGR colors"/></a></p>
<p dir="auto">But how could a simple video controller from the 1970s implement such complex logic in hardware? How would neighboring pixels know about each other so they can turn white if they&#39;re both on? In fact they don&#39;t, and it&#39;s really simple (after all, it is Wozniak design), but you need to consider half-pixels. Indeed, Appler emulates <code>HGR</code> mode at the sub-pixel level, using double the resolution horizontally. Here are the same 6 colors, but in smaller bands and turned at 90 degrees:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/colors1.png"><img src="https://github.com/zajo/appler/raw/develop/images/colors1.png" alt="HGR colors"/></a></p>
<p dir="auto">And now, the same image zoomed-in, so we can see the individual -- you guessed it -- not pixels, but sub-pixels:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/colors2.png"><img src="https://github.com/zajo/appler/raw/develop/images/colors2.png" alt="HGR colors"/></a></p>
<p dir="auto">Keep in mind, each vertical color line you see in this last image is half a pixel wide, two neighboring vertical lines making up a single vertical line of Apple ][ pixels. There are only 4 primary colors which are carefully selected so they combine together to produce the 6 perceived <code>HGR</code> colors; and there&#39;s no complex logic in hardware, if you light up two neighboring pixels, the colors &#34;automatically&#34; combine to produce white.</p>
<p dir="auto">At the time we wrote Appler we of course knew that the colors are supposed to be purple, blue, green, and orange, but we had never seen them displayed by an actual physical computer, because the Apple ][ displays that were available in Bulgaria were all monochrome-green. Alex looked at the schematics, and he used the actual resistor values of the DAC to calculate what the 4 primary colors should be. The values ended up in a table in the source code (because, sadly, they are not powers of two). So, when we first ran Appler on a color EGA display, it was very satisfying to see that the colors it displayed were indeed purple, blue, green and orange. :)</p>
<p dir="auto">As with everything else in Appler, the <code>HGR</code> emulation is extremely lean and mean, and there is a known issue (not a bug, since it was by design) that never got fixed. The way Alex wrote that code, bytes with the palette bit clear leave a half pixel artifact if cleared with <code>$80</code> (black 2), and vice versa. This doesn&#39;t seem to happen very often, but it happens a lot in some games. Mario Bros. by Atarisoft is one of them. These artifacts look like this:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/HGRissue.png"><img src="https://github.com/zajo/appler/raw/develop/images/HGRissue.png" alt="HGR Issue"/></a></p>
<p dir="auto">Since at this point speed isn&#39;t important at all, this can be fixed. Some other day. :)</p>
<blockquote>
<p dir="auto">(The very first version of Appler ran on a CGA display and it didn&#39;t have color. Also, for speed, each byte of video memory controlled 8, rather than 7 CGA pixels. At some point that code got discarded; Appler now requires EGA display).</p>
</blockquote>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-task-manager--appler-utilities" aria-hidden="true" href="#task-manager--appler-utilities"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task Manager / Appler Utilities</h2>
<p dir="auto">Appler has built-in Debugger, File Manager, Disk Manager, and Keyboard Setup utility. Like the emulation code itself, these utilities are written in 8086 assembly. Everything runs on a custom cooperative multi-tasking system, with a task manager switching between the Apple ][ emulator and the different utilities, without affecting their internal state (this is similar to the way multi-tasking is implemented in early versions of Macintosh OS and Windows).</p>
<p dir="auto">The debugger is quite handy, I have fond memories of my college roommate Ivo using it to disarm the clever copy protection of an Apple ][ game he wrote all by himself. I recently asked Ivo why did the game have copy protection at all, since I didn&#39;t think it was distributed commercially. His answer:</p>
<blockquote>
<p dir="auto">Well, I wrote a sector editor (Emil&#39;s note: that&#39;s a program used to break copy protections), and then I thought hm, I should come up with an awesome unbreakable copy protection, and then I thought OK, I should write a game that I can copy-protect, and this is how Space Warrior (Космически боец) was created. There were in fact many levels of the copy protection: using invalid 6502 instructions to throw off boot tracers;  non-standard 6&amp;2 system fields; sectors that were physically destroyed with a razor (the game checking that a specific area of the disk could not be read); half of each track written at a half-track offset (since the floppy disk motor could move the head at smaller than a single track increments) -- to name a few.</p>
</blockquote>

<p dir="auto">I&#39;ve created a <a href="https://github.com/zajo/TASM">GitHub repo</a> that contains a TASM installation that can be used with <a href="https://www.dosbox.com/" rel="nofollow">DOSBOX</a> to build Appler.</p>
<p dir="auto">In DOSBOX, you need to mount both the TASM repo and the Appler repo as logical drives, then set the system path so that the TASM build tools are accessible from anywhere:</p>
<div data-snippet-clipboard-copy-content="mount a &lt;PATH-TO-APPLER-REPO&gt;
mount t &lt;PATH-TO-TASM-REPO&gt;
PATH=%PATH%;T:\BIN"><pre><code>mount a &lt;PATH-TO-APPLER-REPO&gt;
mount t &lt;PATH-TO-TASM-REPO&gt;
PATH=%PATH%;T:\BIN
</code></pre></div>
<p dir="auto">Next, to build Appler, simply <code>cd</code> into the <code>SRC</code> directory and run <code>make</code>:</p>

<p dir="auto">This will produce <code>APPLER.EXE</code> in the current directory.</p>
<blockquote>
<p dir="auto">IMPORTANT: the Appler source files are stored in DOS (CP437) format, which is NOT compatible with UTF-8. A modern text editor may corrupt them on load or on save.</p>
</blockquote>

<p dir="auto">The <code>bin</code> directory contains the pre-build binary <code>APPLER.EXE</code>. On DOSBOX, you can <code>cd</code> into the <code>bin</code> directory and just type <code>appler</code> to run Appler.</p>
<p dir="auto">In addition, the <code>bin</code> directory contains:</p>
<ul dir="auto">
<li><code>APPLE.ROM</code>: The 12 KB ROM from Правец-82. This is the Bulgarian-made clone of Apple ][, though we replaced the commie text <code>ПРАВЕЦ</code> with the original <code>Apple ][</code>. I think the rest of it was a pristine copy of the original ROM, but I don&#39;t know that for a fact.</li>
<li><code>FLOPPY.ROM</code>: 256-bytes of pure Steve Wozniak genius, the Apple DOS bootstrap code, originally stored on the floppy disk controller. This was mapped at address $C600..$C6FF when the controller is inserted in slot 6 (by convention).</li>
<li><code>MONITOR.LAB</code>: A file that can be loaded in the Appler Debugger, to show the symbolic names of the standard Apple routines from <code>APPLE.ROM</code>.</li>
<li><code>APPLER.DSK</code>: A custom demo for Appler written in 6502 assembly by Ivo Beltchev, plus the Apple ][ classic Lode Runner.</li>
</ul>
<p dir="auto">At startup, Appler loads all <code>.ROM</code> files from its startup directory into memory. Usually, this is the two files <code>APPLE.ROM</code> and <code>FLOPPY.ROM</code>. If found, it will also &#34;insert&#34; <code>APPLER.DSK</code> into Drive 1.</p>
<p dir="auto">Next it executes the standard Apple ][ boot sequence. In the default configuration of the <code>bin</code> directory, this will boot <code>APPLER.DSK</code>, which will first play Ivo&#39;s demo, then <code>BRUN LR2+2</code> to execute Lode Runner. If you want to interrupt this sequence, as soon as you see the title <code>Apple ][</code>, hit <code>Ctrl+C</code> and wait. Once DOS loads, you&#39;ll hear a beep and you&#39;ll get the Apple Basic command prompt.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/LodeRunner.png"><img src="https://github.com/zajo/appler/raw/develop/images/LodeRunner.png" alt="Lode Runner"/></a></p>
<blockquote>
<p dir="auto">Note: <code>APPLER.DSK</code> is formatted with Eagle Software GraphExt DOS. This is a Bulgarian operating system, written by (I think) Orlin Shopov. It is compatible with DOS 3.3, but supports a few extra commmands: <code>TYPE</code>, <code>MAKE</code>, <code>BOOT</code>, <code>MODE</code>, <code>SOUND</code>, <code>GLOAD</code>, <code>GSAVE</code>; the last two work with a special file type <code>G</code>, which is used to save compressed HGR image files:</p>
</blockquote>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/EagleDos.png"><img src="https://github.com/zajo/appler/raw/develop/images/EagleDos.png" alt="Eagle DOS"/></a></p>

<ul dir="auto">
<li>The valid instructions of the 65C02 CPU</li>
<li>Memory: 48K RAM, 12K ROM, 16K additional RAM</li>
<li>I/O Memory:
<ul dir="auto">
<li>$C000, $C010 - keyboard</li>
<li>$C020 - sound output (using DAC on LPT1)</li>
<li>$C030 - internal speaker</li>
<li>$C050..$C057 - video mode switches</li>
<li>$C060, $C070 - joystick buttons &amp; timers</li>
<li>$C080..$C08F - additional RAM switches</li>
<li>$C0E0..$C0EF - floppy disk controller registers (on slot #6)</li>
</ul>
</li>
<li>Video modes (even mixed GR/TEXT modes)</li>
<li>Keyboard</li>
<li>Digital joystick (using arrow keys in Num Lock mode)</li>
<li>Floppy Disk Controller and two Floppy Disk Drives</li>
</ul>
<p dir="auto">I remember Alex wrote a program that attempted to execute, on the Apple ][, every invalid 6502 opcode. For the ones that didn&#39;t hang, we recorded as best as we could the change in the CPU state, and then he implemented a routine in Appler which acts according to our observations. &#34;It&#39;s the Apple ][&#34;, he said, &#34;people do all kinds of invalid things that work&#34;.</p>
<p dir="auto">Here is the output from an Apple ][ hardware detection program written in 2021 by Marc A. Golombeck, running on Appler:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/golombeck.jpg"><img src="https://github.com/zajo/appler/raw/develop/images/golombeck.jpg" alt="Detected Hardware"/></a></p>

<p dir="auto">Use the functional keys to access various Appler features:</p>
<ul dir="auto">
<li><code>F1</code> activates the built-in Debugger</li>
<li><code>F2</code> activates File Manager, which lets you browse for and load <code>.APL</code> and <code>.ROM</code> files.</li>
<li><code>F3</code> activates Disk Manager, which lets you browse for and load <code>.DSK</code> and <code>.NBL</code> files into either one of the two emulated disk drives.</li>
<li><code>F4</code> activates a simple Keyboard Setup utility.</li>
<li><code>F9</code> activates the About screen.</li>
<li><code>F10</code> activates the Help screen.</li>
<li><code>Alt+Esc</code> runs the DOS shell. Type <code>exit</code> to return to Appler.</li>
</ul>
<p dir="auto">To quit Appler, hit <code>Alt+X</code>.</p>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-debugger" aria-hidden="true" href="#debugger"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Debugger</h2>
<p dir="auto">The Appler Debugger visual design is inspired by AFD, a PC debugger developed by AdTec GmbH.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/F1-Debugger.png"><img src="https://github.com/zajo/appler/raw/develop/images/F1-Debugger.png" alt="Debugger"/></a></p>
<p dir="auto">The disassembler is able to scroll forward (towards increasing addresses) as well as back; the latter is tricky because figuring out the start addresses of prior instructions is ambiguous. It is also possible to define labels for known routines, so that they can be easily identified in the disassembled program. There is a built-in 6502 assembler as well.</p>
<p dir="auto">For a description of all commands supported on the command line in Debugger, see the Debugger commands section.</p>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-file-manager" aria-hidden="true" href="#file-manager"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>File Manager</h2>
<p dir="auto">Many Apple ][ games are stored as a single DOS 3.3 binary (<code>B</code>) file. File Manager can be used to extract them and save them on the PC file system, so they can be started without requiring to boot up the Apple DOS 3.3.</p>
<p dir="auto">To create an <code>.APL</code> file, first you need to load it in memory using <code>BLOAD</code> in Apple DOS 3.3 (which does support file names with spaces):</p>

<p dir="auto">DOS 3.3 saves the address of the loaded binary file in the two bytes at <code>$AA72</code> and <code>$AA73</code>, and its length in the two bytes at <code>$AA60</code> and <code>$AA61</code>. We can use the built-in Monitor program to look them up. To enter Monitor, type:</p>

<p dir="auto">The prompt will change from <code>]</code> to <code>*</code>. In Monitor, to read memory we just type an address. So, type <code>AA72</code> and hit <code>Enter</code> twice. Next, type <code>AA60</code> and hit <code>Enter</code> twice. Your screen should look like this:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/bload.png"><img src="https://github.com/zajo/appler/raw/develop/images/bload.png" alt="BLOAD"/></a></p>
<p dir="auto">This means that the most recently loaded binary file (<code>MARIO BROS.</code>) is at address <code>$0803</code>, and its length is <code>$7F4C</code> (to exit the Monitor program, press <code>Ctrl+C</code>, <code>Enter</code>).</p>
<p dir="auto">Now, hit <code>F2</code> to activate File Manager, and press <code>Alt+M</code> to highlight the <code>Memory</code> window. Select <code>&lt;New File&gt;</code> and give it a name (e.g. <code>MARIO.APL</code>). Enter the start address (e.g. <code>0803</code>) and the end address (e.g. <code>874E</code>, which is <code>0803+7F4C-1</code>). Press Enter, and Appler will save the file. Your screen should look like this:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/F2-FileManager.png"><img src="https://github.com/zajo/appler/raw/develop/images/F2-FileManager.png" alt="File Manager"/></a></p>
<p dir="auto">Next time you run Appler, you can simply highlight an <code>.APL</code> file in the <code>Directory</code> window in File Manager and hit <code>F1</code> to run it.</p>
<p dir="auto">File Manager is also able to save the complete Apple ][ state in a file. To do this, when you make a new file in the <code>Memory</code> window, select <code>status</code> for <code>Type</code>.</p>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-disk-manager" aria-hidden="true" href="#disk-manager"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Disk Manager</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/F3-DiskManager.png"><img src="https://github.com/zajo/appler/raw/develop/images/F3-DiskManager.png" alt="Disk Manager"/></a></p>
<p dir="auto">The most basic use of Disk Manager is to select a <code>.DSK</code> file in the <code>Directory</code> window, then hit <code>F1</code> to insert it into <code>Drive 1</code> and boot it. If you press <code>Enter</code> instead, the selected disk is inserted in the highlighted drive (use <code>Alt+1</code>/<code>Alt+2</code> to highlight a drive).</p>
<p dir="auto">To create a new <code>.DSK</code> file, select <code>&lt;New Disk&gt;</code> and give it a name. This is now an empty <code>.DSK</code> file, which must be formatted before it is used. If you have already booted DOS 3.3, you can use the following commands:</p>

<p dir="auto">This will format the disk and make it bootable.</p>
<p dir="auto">With <code>.DSK</code> files, Appler assumes 6&amp;2 encoding, which is used by most, but not all Apple ][ programs. When a program writes data, Appler attempts to decode the raw bytes, which will fail if the program uses a different encoding (for example, DOS 3.2 uses 5&amp;3 encoding). In this case Disk Manager is summoned, requesting user input. It is possible that the program uses 6&amp;2 encoding, but with non-standard values for various components of the sector image; in that case you can change the values in the <code>DOS 3.3 Sector Image</code> window, to help Appler decode (and encode) the data correctly.</p>
<p dir="auto">If the Apple ][ program uses a completely different encoding, you can use <code>.NBL</code> instead of <code>.DSK</code> disk images. In this case Appler will not attempt to decode the raw bytes, and will not encode them on read operations. <code>.NBL</code> files are bigger than <code>.DSK</code> files, but they enable you to run DOS 3.2 or other non-standard programs.</p>
<hr/>
<h2 tabindex="-1" dir="auto"><a id="user-content-keyboard-setup-utility" aria-hidden="true" href="#keyboard-setup-utility"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Keyboard Setup Utility</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/F4-KeyboardSetup.png"><img src="https://github.com/zajo/appler/raw/develop/images/F4-KeyboardSetup.png" alt="Keyboard Setup utility"/></a></p>
<p dir="auto">The primary use of the Keyboard Setup utility is to assign ASCII codes (the Apple ][ keyboard does not use scancodes) to your keys.</p>
<p dir="auto">Most Apple ][ games support joystick input. Appler emulates a digital joystick; its inputs can also be assigned to any key. Simply select one of the following non-ASCII codes (hex):</p>
<ul dir="auto">
<li><code>80</code> button 0</li>
<li><code>81</code> button 1</li>
<li><code>82</code> left</li>
<li><code>83</code> right</li>
<li><code>84</code> up</li>
<li><code>85</code> down</li>
</ul>
<p dir="auto">By default, the joystick inputs are assigned to the numeric keypad keys (when Num Lock is on).</p>

<h3 tabindex="-1" dir="auto"><a id="user-content-dsk" aria-hidden="true" href="#dsk"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>.DSK</code></h3>
<p dir="auto">A <code>.DSK</code> disk image simply stores raw bytes, 256 bytes per sector, 16 sectors per track, and up to 255 tracks (of course physical 5 1/4 floppies were limited to 35 tracks).</p>
<p dir="auto">Alex and I came up with the <code>.DSK</code> extension as well as the actual file format on our own. Since Appler is one of the very first Apple ][ emulators, it is possible that others adopted what was already an established format. It is also possible that it is a coincidence that all other emulators support this format, since both the format itself as well as the <code>.DSK</code> extension &#34;just make sense&#34;.</p>
<p dir="auto">Whatever the reason, there is a LOT of Apple ][ software available for download as <code>.DSK</code> files. Use Google, or try these links:</p>
<ul dir="auto">
<li><a href="https://mirrors.apple2.org.za/ftp.apple.asimov.net/images/" rel="nofollow">https://mirrors.apple2.org.za/ftp.apple.asimov.net/images/</a></li>
<li><a href="https://apple2online.com/" rel="nofollow">https://apple2online.com/</a></li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-nbl" aria-hidden="true" href="#nbl"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>.NBL</code></h3>
<p dir="auto">This is a low lever disk format which does not presume 6&amp;2 encoding. <code>.NBL</code> disks support non-standard I/O, for example you could &#34;format&#34; them with DOS 3.2 (which uses 5&amp;3 encoding).</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-apl" aria-hidden="true" href="#apl"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>.APL</code></h3>
<p dir="auto">These files contain Apple ][ binaries, e.g. games that consist of a single file rather than an entire disk image. The first two bytes specify the address at which the program is to be loaded, the second two bytes specify the number of bytes to load from the rest of the file. This mimics DOS 3.3 binary (<code>B</code>) files.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-rom" aria-hidden="true" href="#rom"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>.ROM</code></h3>
<p dir="auto">This format is identical to <code>.APL</code>, except <code>.ROM</code> files are auto-loaded at startup.</p>

<p dir="auto">At any point you can hit F1 to pause the current execution and enter the Appler Debugger. It features a command line that supports the following commands:</p>
<p dir="auto">reg</p>
<ul dir="auto">
<li>Format: <code>&lt;reg&gt; = &lt;value&gt;</code></li>
<li>Example: <code>pc = fbdd</code></li>
<li>Action: Changes a 65C02 register value.</li>
</ul>
<p dir="auto">regs</p>
<ul dir="auto">
<li>Format: <code>regs</code></li>
<li>Example: <code>regs</code></li>
<li>Action: Enters the 65C02 registers editor (you can use &lt;Alt+R&gt; instead).</li>
</ul>
<p dir="auto">asm</p>
<ul dir="auto">
<li>Format: <code>asm [&lt;addr&gt;]</code></li>
<li>Example: <code>asm @768</code></li>
<li>Action: Enters Assembler mode. If the address is missing, Debugger uses the address of the current (highlighted) instruction (you can use &lt;Alt+P&gt; instead).</li>
</ul>
<p dir="auto">ea</p>
<ul dir="auto">
<li>Format: <code>ea [&lt;addr&gt;]</code></li>
<li>Example: <code>ea 300</code></li>
<li>Action: Enters Memory Dump A editor. If the address is missing, Debugger uses the address of the current dump location (you can use &lt;Alt+M&gt; instead).</li>
</ul>
<p dir="auto">eb</p>
<ul dir="auto">
<li>Format: <code>eb [&lt;addr&gt;]</code></li>
<li>Example: <code>eb 300</code></li>
<li>Action: Enters Memory Dump B editor. If the address is missing, Debugger assumes address of the current dump location (you can use &lt;Alt+M&gt; instead).</li>
</ul>
<p dir="auto">d</p>
<ul dir="auto">
<li>Format: <code>d &lt;addr&gt;</code></li>
<li>Example: <code>d 300</code></li>
<li>Action: Changes the disassembler address. Use the arrow keys to browse the disassembled program.</li>
</ul>
<p dir="auto">da</p>
<ul dir="auto">
<li>Format: <code>da &lt;addr&gt;</code></li>
<li>Example: <code>da 300</code></li>
<li>Action: Changes the Memory Dump A address.</li>
</ul>
<p dir="auto">db</p>
<ul dir="auto">
<li>Format: <code>db &lt;addr&gt;</code></li>
<li>Example: <code>db 300</code></li>
<li>Action: Changes the Memory Dump B address.</li>
</ul>
<p dir="auto">[]</p>
<ul dir="auto">
<li>Format: <code>[&lt;addr1&gt;,&lt;addr2&gt;]</code></li>
<li>Example: <code>[ 300,3FF ]</code></li>
<li>Action: Specifies the memory block for <code>copy</code>, <code>compare</code> and <code>find</code>.</li>
</ul>
<p dir="auto">find</p>
<ul dir="auto">
<li>Format: <code>find [&lt;byte&gt;[,&lt;byte&gt;]][&#39;str&#39;][&#34;str&#34;]</code></li>
<li>Example: <code>find fa,&#34;ESD&#34;,@65,&#39;Alex&#39;</code></li>
<li>Action: Searches a string in the specified memory block. Enter strings and/or bytes to find. If any parameter is missing (e.g. you&#39;ve entered simply &#39;FIND&#39;), Debugger repeats the last search.</li>
</ul>
<p dir="auto">copy</p>
<ul dir="auto">
<li>Format: <code>copy &lt;addr&gt;[,f][,b]</code></li>
<li>Example: <code>copy 2000</code></li>
<li>Action: Copies the specified memory block to <code>addr</code>. Optionally, use the <code>f</code> or <code>b</code> parameter to specify the copying direction (Forward or Backward).</li>
</ul>
<p dir="auto">compare</p>
<ul dir="auto">
<li>Format: <code>compare &lt;addr&gt;</code></li>
<li>Example: <code>compare 4000</code></li>
<li>Action: Compares the specified memory block to the block at address <code>addr</code>. If the blocks are not identical, Memory Dump A shows the first different byte.</li>
</ul>
<p dir="auto">pdump</p>
<ul dir="auto">
<li>Format: <code>pdump [&lt;filename&gt;]</code></li>
<li>Example: <code>pdump esd.txt</code></li>
<li>Action: Prints a memory dump on the printer (if no filename is given) or in the specified file.</li>
</ul>
<p dir="auto">pasm</p>
<ul dir="auto">
<li>Format: <code>pasm [&lt;filename&gt;]</code></li>
<li>Example: <code>pasm esd.txt</code></li>
<li>Action: Prints the disassembled program on the printer (if no filename is given) or in the specified file.</li>
</ul>
<p dir="auto">break</p>
<ul dir="auto">
<li>Format: <code>break&lt;num&gt; [= &lt;addr&gt;]</code></li>
<li>Example: <code>break1 = @768</code></li>
<li>Action: Sets the breakpoint number <code>num</code> at address <code>addr</code>. Omit the address to simply toggle the breakpoint on and off.</li>
</ul>
<p dir="auto">go</p>
<ul dir="auto">
<li>Format: <code>go [&lt;start&gt;][,&lt;stop&gt;]</code></li>
<li>Example: <code>go 300,32B</code></li>
<li>Action: Starts the program at address <code>start</code> with optional breakpoint at address <code>stop</code>.</li>
</ul>
<p dir="auto">.</p>
<ul dir="auto">
<li>Format: . <code>&lt;identifier&gt; = &lt;value&gt;</code></li>
<li>Example: . <code>Lives = 468A</code></li>
<li>Action: Assigns value to a label. From now on, the disassembler will match the address operands of various instructions and substitute labels for addresses.</li>
</ul>
<p dir="auto">list</p>
<ul dir="auto">
<li>Format: <code>list</code></li>
<li>Example: <code>list</code></li>
<li>Action: Shows all of the defined defined labels.</li>
</ul>
<p dir="auto">dl</p>
<ul dir="auto">
<li>Format: <code>dl &lt;identifier&gt;</code></li>
<li>Example: <code>dl Lives</code></li>
<li>Action: Deletes a label.</li>
</ul>
<p dir="auto">labels</p>
<ul dir="auto">
<li>Format: <code>labels on|off</code></li>
<li>Example: <code>labels off</code></li>
<li>Action: Turns labels on or off.</li>
</ul>
<p dir="auto">sl</p>
<ul dir="auto">
<li>Format: <code>sl &lt;filename&gt;</code></li>
<li>Example: <code>sl monitor</code></li>
<li>Action: Save defined labels in file <code>filename</code>. If the extension is missing, Debugger assumes &#39;.LAB&#39;.</li>
</ul>
<p dir="auto">ll</p>
<ul dir="auto">
<li>Format: <code>ll &lt;filename&gt;</code></li>
<li>Example: <code>ll monitor</code></li>
<li>Action: Loads labels from file <code>filename</code>.</li>
</ul>
<p dir="auto">record</p>
<ul dir="auto">
<li>Format: <code>record [,f]</code></li>
<li>Example: <code>record</code></li>
<li>Action: Starts recording keystrokes. In this mode Appler stores all the keys you press in a buffer. Use &#39;,f&#39; parameter to ignore delays between the keystrokes.</li>
</ul>
<p dir="auto">stop</p>
<ul dir="auto">
<li>Format: <code>stop</code></li>
<li>Example: <code>stop</code></li>
<li>Action: Stops recording keystrokes.</li>
</ul>
<p dir="auto">play</p>
<ul dir="auto">
<li>Format: <code>play [&lt;filename&gt;]</code></li>
<li>Example: <code>play karateka</code></li>
<li>Action: Plays keystrokes in the buffer or from the specified file.</li>
</ul>
<p dir="auto">lm</p>
<ul dir="auto">
<li>Format: <code>lm &lt;filename&gt;</code></li>
<li>Example: <code>lm mario</code></li>
<li>Action: Loads keystrokes from the specified file.</li>
</ul>
<p dir="auto">sm</p>
<ul dir="auto">
<li>Format: <code>sm &lt;filename&gt;</code></li>
<li>Example: <code>sm mario</code></li>
<li>Action: Saves keystrokes in the specified file.</li>
</ul>
<p dir="auto">swap</p>
<ul dir="auto">
<li>Format: <code>swap &lt;timer_ticks&gt;</code></li>
<li>Example: <code>swap @18</code></li>
<li>Action: Sets the delay for screen swapping when tracing statements. When Debugger resumes program execution, it delays switching to the emulated display in case the debugger is activated again (e.g. by a breakpoint).</li>
</ul>
<p dir="auto">sound</p>
<ul dir="auto">
<li>Format: <code>sound on|off</code></li>
<li>Example: <code>sound off</code></li>
<li>Action: Turns Apple ][ sound on and off.</li>
</ul>
<p dir="auto">reset</p>
<ul dir="auto">
<li>Format: <code>reset</code></li>
<li>Example: <code>reset</code></li>
<li>Action: Cold RESET of the Apple ][.</li>
</ul>
<p dir="auto">?</p>
<ul dir="auto">
<li>Format: <code>? &lt;expression&gt;[,b][,d]</code></li>
<li>Example: <code>? 2+@58-%1001100/2*y,b</code></li>
<li>Action: Evaluates an expression. Use <code>b</code> or <code>d</code> to specify the result type - binary or decimal (hexadecimal by default).</li>
</ul>
<p dir="auto">When entering addresses or numbers, you can use simple mathematical expressions instead. The following operations are available: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>|</code> (bitwise or), <code>&amp;</code> (bitwise and), <code>^</code> (bitwise xor), <code>&lt;</code> (shift left), <code>&gt;</code> (shift right). There is no operator precedence and brackets are not supported -- the expression is evaluated from left to right. As usual, number entry is hexadecimal by default, the <code>@</code> prefix indicates decimal numbers, and the <code>%</code> prefix indicates binary.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/zajo/appler/blob/develop/images/karateka.png"><img src="https://github.com/zajo/appler/raw/develop/images/karateka.png" alt="KARATEKA"/></a></p>
</article>
          </div></div>
  </body>
</html>
