<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/pncnmnp/xpong">Original</a>
    <h1>Show HN: I taught AI to commentate Pong in real time</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/24948340/439543573-d3035aab-ad72-45cd-b84f-3b0a6d0a9541.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDYzNjUzNjcsIm5iZiI6MTc0NjM2NTA2NywicGF0aCI6Ii8yNDk0ODM0MC80Mzk1NDM1NzMtZDMwMzVhYWItYWQ3Mi00NWNkLWI4NGYtM2IwYTZkMGE5NTQxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA1MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNTA0VDEzMjQyN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPThjZTkyMjg0YmJmYjI3YWY2ZmJlYWUwM2MxMTE1ODY5YzI3MjE5MTQ1OTY3YThhYTllOGJlMzE0YjRiODViNWEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.x14Mq4E1aPL4zZo12nHKxWjC5CPBQ_npdrRSbtbAafI"><img src="https://private-user-images.githubusercontent.com/24948340/439543573-d3035aab-ad72-45cd-b84f-3b0a6d0a9541.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDYzNjUzNjcsIm5iZiI6MTc0NjM2NTA2NywicGF0aCI6Ii8yNDk0ODM0MC80Mzk1NDM1NzMtZDMwMzVhYWItYWQ3Mi00NWNkLWI4NGYtM2IwYTZkMGE5NTQxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA1MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNTA0VDEzMjQyN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPThjZTkyMjg0YmJmYjI3YWY2ZmJlYWUwM2MxMTE1ODY5YzI3MjE5MTQ1OTY3YThhYTllOGJlMzE0YjRiODViNWEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.x14Mq4E1aPL4zZo12nHKxWjC5CPBQ_npdrRSbtbAafI" alt="ChatGPT Image Apr 28, 2025, 12_15_40 AM"/></a></p>
<p dir="auto">As the name suggests, <strong>xPong</strong> is all about Pong — but with a twist: there’s LLM-based commentary generation integrated into the game.</p>
<p dir="auto">I’ve wanted to do this for the longest time — in fact, back in my undergrad days,
I used to carry around a GitHub Gist to store such ideas, and an entry for this one dates back to Feb 16 2020.
That’s five years!
Anyway, for the longest time we never had the right technology to pull this off in a cost-effective, near-realtime manner.</p>
<p dir="auto">However, late last month, with <a href="https://news.ycombinator.com/item?id=43426022" rel="nofollow">OpenAI’s <code>gpt-4o-mini-tts</code></a>, we finally have the resources to do it!
I envision a future where <code>gpt-4o-mini-tts</code>-like software is integrated on the edge.
When that happens, next-generation gaming consoles will leverage such technology, opening up a whole universe of possibilities in gaming, especially in sports-simulation titles.</p>
<p dir="auto">Hope you have a blast tinkering with this game and its source code!</p>

<p dir="auto"><a href="https://www.youtube.com/watch?v=i21wN6CDsE0" rel="nofollow"><img src="https://private-user-images.githubusercontent.com/24948340/439818033-00630705-d5e3-48e4-8137-69be10faca4e.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDYzNjUzNjcsIm5iZiI6MTc0NjM2NTA2NywicGF0aCI6Ii8yNDk0ODM0MC80Mzk4MTgwMzMtMDA2MzA3MDUtZDVlMy00OGU0LTgxMzctNjliZTEwZmFjYTRlLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA1MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNTA0VDEzMjQyN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTRkMjZiMDE1YTk5NjM0OTY3NGEwNGM4NWZhNTg3OTdkN2Y4ZDhmMmY1NmI0Y2JmMTQ4YzlmZTg3Y2RiMmUyNzkmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.u8o2TNubRwf5wFc_AeKy-nlo5HJHcXwGzkFhV03l1Ok" alt="Screenshot 2025-05-01 at 23-22-12 (1722) We taught an AI to commentate Pong in Real Time - YouTube" secured-asset-link=""/></a></p>

<p dir="auto">Before installing the dependencies, I encourage you to <a href="https://docs.python.org/3/library/venv.html" rel="nofollow">create and activate a virtual environment</a> - for example, run <code>python3 -m venv .venv</code> and then <code>source .venv/bin/activate</code> on macos/linux.</p>
<p dir="auto">To install the Python dependencies, use:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pip3 install -r requirements.txt"><pre>pip3 install -r requirements.txt</pre></div>
<p dir="auto">Next, create an API key in OpenAI’s dashboard.
For this, follow the steps in OpenAI’s <a href="https://platform.openai.com/docs/libraries#create-and-export-an-api-key" rel="nofollow">Create and export an API key</a> docs.
Once you have the key, store it in a <code>.env</code> file at the root of this repository:</p>
<div dir="auto" data-snippet-clipboard-copy-content="OPENAI_API_KEY=your-api-key"><pre><span>OPENAI_API_KEY</span><span>=</span><span>your-api-key</span></pre></div>
<p dir="auto">Because this code leverages an Electron-like library <a href="https://github.com/python-eel/Eel">Eel</a>, you will also need a <a href="https://www.chromium.org/getting-involved/download-chromium/" rel="nofollow">Chromium-based browser</a>.</p>
<p dir="auto">When everything is set up, run:</p>

<p dir="auto">Add <code>--cache</code> to cache LLM-generated player metadata for later runs, and <code>--no-opening</code> to skip the opening commentary.</p>

<p dir="auto">It’s packed with ideas!</p>
<ul dir="auto">
<li>There’s a tournament simulator that simulates 15 years&#39; worth of tournaments. Each year includes four majors — sixty events in all. Players and matches are simulated using <strong>Elo</strong>.</li>
<li>In the <strong>16th year</strong>, when the main match starts, the world’s top two players face off in the World Championship Final.</li>
<li>Two AIs are playing against each other in a game of Pong, with variations in their reaction times and shot speeds.</li>
<li>The commentary logic has <strong>three layers</strong> - opening commentary with a scorecard, in-game ball-by-ball commentary, and closing commentary.</li>
<li>Two commentators take turns talking to each other and the audience.</li>
<li>Commentary is interrupted when an important in-game event occurs, then resumes from where it left off afterward.</li>
<li>In-game commentary is driven by an <strong>event-based pipeline</strong>: actions are logged as events, periodically parsed into metrics,
those metrics are ranked by priority to decide which deserve mention next, and the resulting text is fed through TTS.</li>
<li>With 15 years of historical data, the game uses <strong>nearest-neighbor search</strong> to find similar past games and share insights.</li>
<li>It even goofs around - comparing the current playing style to past legends and sprinkling in a few locker-room whispers.</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">License and acknowledgements</h2><a id="user-content-license-and-acknowledgements" aria-label="Permalink: License and acknowledgements" href="#license-and-acknowledgements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This code is licensed under the <a href="https://github.com/pncnmnp/xpong/blob/main/LICENSE">MIT License</a>.</p>
<p dir="auto">The paddle-hitting sound was generated using SoundReality&#39;s <a href="https://pixabay.com/sound-effects/tennis-ball-hit-151257/" rel="nofollow">&#34;Tennis Ball Hit&#34;</a> sound.</p>
<p dir="auto">The filler sounds were generated with <a href="https://www.openai.fm/" rel="nofollow">https://www.openai.fm/</a> and abide by OpenAI&#39;s <a href="https://openai.com/policies/" rel="nofollow">terms and policies</a>.</p>
</article></div></div>
  </body>
</html>
