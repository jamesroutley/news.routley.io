<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ishadeed.com/article/figma-css/">Original</a>
    <h1>The CSS Behind Figma</h1>
    
    <div id="readability-page-1" class="page"><div>
		
		<p>While learning how to build a Figma plugin, I stumbled upon a few interesting usages of Flexbox and Grid in Figma. When I found them, I just got distracted and couldn’t resist digging more.</p>

<p>Flexbox and Grid have been providing us web developers with lots of new capabilities to build new layouts, and what I will show you in this article is just that.</p>

<p>To move along with this article, you don’t need to have a detailed knowledge of Flexbox or Grid, and I will try to explain most examples from the ground up.</p>

<p>Let’s get discovering.</p>

<h2 id="introduction">Introduction</h2>

<p>The purpose of this write-up is to show how powerful flexbox and grid are and to highlight those interesting use-cases for them. There might be a few bits that are focused on subtle UI details which I like very much.</p>

<h2 id="using-css-grid">Using CSS Grid</h2>

<p>On the right side of Figma, we have the default “Design” tab. When selecting an element on the canvas, we can see its x-axis, y-axis, width, and height values. This also can be different depending on the element being a text, group, frame, and more.</p>

<p>What I found interesting here is <strong>using CSS grid</strong> for each row in the design tab. I dig that so, so much.</p>

<p>Consider the following figure.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Notice how we have many lines. Those are for the 28 columns, yes! You read that right. Any row in the design tab is built on top of that grid.</p>

<p>Each column has a width of <code>8px</code>.</p>

<div><div><pre><code><span>.raw_components--_singleRow</span> <span>{</span>
  <span>display</span><span>:</span> <span>grid</span><span>;</span>
  <span>grid-template-columns</span><span>:</span> <span>repeat</span><span>(</span><span>28</span><span>,</span> <span>8px</span><span>);</span>
  <span>grid-template-rows</span><span>:</span> <span>32px</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Also, when controlling the details of a drop shadow, for example, the same grid is being used.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-2.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>For me, this is a <strong>perfect use</strong> for CSS grid, even though from the first glance you might think that those are little layouts, but again, it’s a <strong>very</strong> valid use of CSS grid.</p>

<h3 id="alignment-buttons">Alignment buttons</h3>

<p>In this usage, each alignment button is taking 4 columns (32px) of the grid. Notice how the icon itself is nicely centered too.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-1.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<div><div><pre><code><span>.raw_components--_singleRow</span> <span>{</span>
  <span>display</span><span>:</span> <span>grid</span><span>;</span>
  <span>grid-template-columns</span><span>:</span> <span>repeat</span><span>(</span><span>28</span><span>,</span> <span>8px</span><span>);</span>
  <span>grid-template-rows</span><span>:</span> <span>32px</span><span>;</span>
<span>}</span>

<span>.raw_components--_iconButton</span> <span>{</span>
  <span>grid-column-end</span><span>:</span> <span>span</span> <span>4</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<h3 id="element-position">Element position</h3>

<p>In this example, we see how the inputs for the x-axis and y-axis are divided, along with the newish “Absolute position” button.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-2.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<h3 id="auto-layout">Auto layout</h3>

<p>The bit that I found very interesting is the Auto Layout controls.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-3.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>We have a 28-column * 2 rows grid this time to accommodate for the controls that help us in aligning the child items within an Auto Layout container.</p>

<div><div><pre><code><span>.stack_panel_v4--doubleRow</span> <span>{</span>
  <span>display</span><span>:</span> <span>grid</span><span>;</span>
  <span>grid-template-columns</span><span>:</span> <span>repeat</span><span>(</span><span>28</span><span>,</span> <span>8px</span><span>);</span>
  <span>grid-template-rows</span><span>:</span> <span>repeat</span><span>(</span><span>2</span><span>,</span> <span>32px</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>Cool. Let’s dig into the details!</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-4.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>On the grid level, each element is positioned using <code>grid-column</code> or <code>grid-row</code> or both.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-4-2.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>The alignment dots you see are made of an SVG pattern. What a fantastic detail, and usage!</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-5-1.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>And not only that but there is a 3*3 grid that contains 9 grid items. I believe that those are here to serve as a clickable area for each alignment.</p>

<div><div><pre><code><span>.alignment_view_v4--tooltipGrid</span> <span>{</span>
  <span>display</span><span>:</span> <span>grid</span><span>;</span>
  <span>grid-template-rows</span><span>:</span> <span>repeat</span><span>(</span><span>3</span><span>,</span> <span>1</span><span>fr</span><span>);</span>
  <span>grid-template-columns</span><span>:</span> <span>repeat</span><span>(</span><span>3</span><span>,</span> <span>1</span><span>fr</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-5-2.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Next, is the indicator container where we have the icon that shows how the elements within an Auto Layout container are aligned.</p>

<p>To make things easier to understand, I divided that whole square into four parts:</p>

<ul>
  <li>Base backgrounds</li>
  <li>SVG dots</li>
  <li>The 3*3 grid where we have clickable areas</li>
  <li>Indicator container (the blue icon)</li>
</ul>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-5-3.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>We will focus on the indicator container for now. Let’s look at the base markup and CSS.</p>

<div><div><pre><code><span>&lt;!-- 60*60 container --&gt;</span>
<span>&lt;div</span> <span>class=</span><span>&#34;alignment_view_v4--indicatorContainer&#34;</span><span>&gt;</span>
  <span>&lt;!-- 20*20 icon (the blue one) --&gt;</span>
  <span>&lt;div</span> <span>class=</span><span>&#34;alignment_view_v4--indicatorGroup&#34;</span><span>&gt;</span>
    <span>&lt;div</span> <span>class=</span><span>&#34;alignment_view_v4--indicator&#34;</span><span>&gt;&lt;/div&gt;</span>
    <span>&lt;div</span> <span>class=</span><span>&#34;alignment_view_v4--indicator&#34;</span><span>&gt;&lt;/div&gt;</span>
    <span>&lt;div</span> <span>class=</span><span>&#34;alignment_view_v4--indicator&#34;</span><span>&gt;&lt;/div&gt;</span>
  <span>&lt;/div&gt;</span>
<span>&lt;/div&gt;</span>
</code></pre></div></div>

<p>In the above markup, we have both the indicator container, and the alignment icon. I liked that the icon itself is built <strong>and aligned</strong> with flexbox.</p>

<div><div><pre><code><span>/* Size is 60*60 */</span>
<span>.alignment_view_v4--indicatorContainer</span> <span>{</span>
  <span>position</span><span>:</span> <span>absolute</span><span>;</span>
  <span>top</span><span>:</span> <span>1px</span><span>;</span>
  <span>right</span><span>:</span> <span>1px</span><span>;</span>
  <span>bottom</span><span>:</span> <span>1px</span><span>;</span>
  <span>left</span><span>:</span> <span>1px</span><span>;</span>
  <span>display</span><span>:</span> <span>flex</span><span>;</span>
  <span>flex-direction</span><span>:</span> <span>column</span><span>;</span>
  <span>justify-content</span><span>:</span> <span>center</span><span>;</span>
  <span>align-items</span><span>:</span> <span>center</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>With that, we’ll have two Flexbox wrappers, once for the <code>indicatorContainer</code> element and the other for the icon itself.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-5-4.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Here is the styling for the blue icon. We have a flex container with <code>column</code> as a direction, then 3 items that represent the blue lines in their different sizes.</p>

<div><div><pre><code><span>.alignment_view_v4--indicatorGroup</span> <span>{</span>
  <span>display</span><span>:</span> <span>flex</span><span>;</span>
  <span>flex-direction</span><span>:</span> <span>column</span><span>;</span>
  <span>align-items</span><span>:</span> <span>center</span><span>;</span>
  <span>justify-content</span><span>:</span> <span>space-between</span><span>;</span>
  <span>width</span><span>:</span> <span>20px</span><span>;</span>
  <span>height</span><span>:</span> <span>20px</span><span>;</span>
<span>}</span>

<span>.alignment_view_v4--indicator</span> <span>{</span>
  <span>height</span><span>:</span> <span>4px</span><span>;</span>
  <span>border-radius</span><span>:</span> <span>1px</span><span>;</span>
<span>}</span>

<span>.alignment_view_v4--indicator</span><span>:nth-child</span><span>(</span><span>1</span><span>)</span> <span>{</span>
  <span>width</span><span>:</span> <span>10px</span><span>;</span>
<span>}</span>

<span>.alignment_view_v4--indicator</span><span>:nth-child</span><span>(</span><span>2</span><span>)</span> <span>{</span>
  <span>width</span><span>:</span> <span>16px</span><span>;</span>
<span>}</span>

<span>.alignment_view_v4--indicator</span><span>:nth-child</span><span>(</span><span>3</span><span>)</span> <span>{</span>
  <span>width</span><span>:</span> <span>7px</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>What amazes me here is that when we change the alignment for an Auto Layout element, both the <code>indicatorContainer</code> and <code>indicatorGroup</code> will reflect that.</p>

<p>Here is an example where Auto Layout is set to <strong>top left alignment</strong>.</p>

<div><div><pre><code><span>.alignment_view_v4--indicatorContainer</span> <span>{</span>
  <span>justify-content</span><span>:</span> <span>flex-start</span><span>;</span>
  <span>align-items</span><span>:</span> <span>flex-start</span><span>;</span>
<span>}</span>

<span>.alignment_view_v4--indicatorGroup</span> <span>{</span>
  <span>align-items</span><span>:</span> <span>flex-start</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-grid-eg-5-5.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<h2 id="using-flexbox">Using flexbox</h2>

<h3 id="for-the-layer-panel-rows">For the layer panel rows</h3>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-layers-panel.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>In the figure above, we have a main frame named “Sign up_001”, and within it, there are 3 nested items. The more the nesting, the more spacing we’ve from the left to make it clear that there is nesting.</p>

<p>Upon inspecting the rows, here is what I found:</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-layers-panel-outline.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Each row is a flex parent, thus I highlighted the <code>flex</code> tag next to the HTML parent.</p>

<p>See it in action in the following figure:</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-layers-panel-inspected-row.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Cool, but the question is: how the spacing works? I honestly expected it before inspecting it and wasn’t surprised. The spacing happens by adding <a href="https://ishadeed.com/article/spacing-in-css/#spacer-components">spacer components</a>.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-layers-panel-inspected-spacer.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Each spacer component has a width of <code>16px</code>, and all spaces have a <code>margin-right: 8px</code> except for the first one.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-layers-spacing-1.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>With more nesting in place, the rows will look like this.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-layers-spacing-2.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Now that the visual side is clear, let’s take a look at the markup and styles.</p>

<div><div><pre><code><span>&lt;div</span> <span>class=</span><span>&#34;object_row&#34;</span><span>&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--indents&#34;</span><span>&gt;</span>
    <span>&lt;span</span> <span>class=</span><span>&#34;object_row--indent&#34;</span><span>&gt;&lt;/span&gt;</span>
    <span>&lt;!-- The more indent items, the more nesting.. --&gt;</span>
  <span>&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--layerIcon&#34;</span><span>&gt;&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--rowText&#34;</span><span>&gt;&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--rowActions&#34;</span><span>&gt;</span>
    <span>&lt;span</span> <span>class=</span><span>&#34;object_row--lockIcon&#34;</span><span>&gt;&lt;/span&gt;</span>
    <span>&lt;span</span> <span>class=</span><span>&#34;object_row--visibleIcon&#34;</span><span>&gt;&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
<span>&lt;/div&gt;</span>
</code></pre></div></div>

<p>We have two flexbox parents, one for the whole row and the other for the spacer components (The team Figma called them indents, and I like that name).</p>

<div><div><pre><code><span>.object_row</span> <span>{</span>
  <span>display</span><span>:</span> <span>flex</span><span>;</span>
  <span>height</span><span>:</span> <span>32px</span><span>;</span>
<span>}</span>

<span>.object_row--indents</span> <span>{</span>
  <span>display</span><span>:</span> <span>flex</span><span>;</span>
  <span>height</span><span>:</span> <span>100%</span><span>;</span>
<span>}</span>

<span>.object_row--layerIcon</span> <span>{</span>
  <span>width</span><span>:</span> <span>16px</span><span>;</span>
<span>}</span>

<span>.object_row--rowText</span> <span>{</span>
  <span>width</span><span>:</span> <span>calc</span><span>(</span><span>100%</span> <span>-</span> <span>16px</span><span>);</span>
  <span>flex-shrink</span><span>:</span> <span>1</span><span>;</span>
<span>}</span>

<span>.object_row--rowActions</span> <span>{</span>
  <span>width</span><span>:</span> <span>0</span><span>;</span> <span>/* becomes width: auto on hover */</span>
<span>}</span>
</code></pre></div></div>

<p>With the above, the nesting will happen by adding a new spacer element.</p>

<p>Consider the following markup. We have two spacers which means that this row is the first one in its group.</p>

<div><div><pre><code><span>&lt;div</span> <span>class=</span><span>&#34;object_row&#34;</span><span>&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--indents&#34;</span><span>&gt;</span>
    <span>&lt;span</span> <span>class=</span><span>&#34;object_row--indent&#34;</span><span>&gt;&lt;/span&gt;</span>
    <span>&lt;span</span> <span>class=</span><span>&#34;object_row--indent&#34;</span><span>&gt;&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--layerIcon&#34;</span><span>&gt;&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--rowText&#34;</span><span>&gt;&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>&#34;object_row--rowActions&#34;</span><span>&gt;</span>
    <span>&lt;span</span> <span>class=</span><span>&#34;object_row--lockIcon&#34;</span><span>&gt;&lt;/span&gt;</span>
    <span>&lt;span</span> <span>class=</span><span>&#34;object_row--visibleIcon&#34;</span><span>&gt;&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
<span>&lt;/div&gt;</span>
</code></pre></div></div>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-layers-spacing-3.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>Isn’t that just interesting, and cool? Seeing my favorite design tool using my favorite CSS feature is just..amazing.</p>

<h2 id="other-flexbox-use-cases">Other Flexbox use-cases</h2>

<p>Flexbox is being used heavily for the little components. Let’s explore a few of them.</p>

<h3 id="stroke-details">Stroke details</h3>

<p>For colors, Flexbox is being used for controlling the color value and the opacity.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-flexbox-1.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<p>And on regards to the same context, when the user hovers over the dropdown menu, it will expand the text to the full available space by using <code>flex-grow: 1</code>.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-flexbox-2.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<h3 id="document-colors">Document colors</h3>

<p>In this example, it’s better to use Flexbox so we can get the benefit of the wrapping. Otherwise, using CSS grid won’t provide us with the same result.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-flexbox-3.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<h3 id="constraints-component">Constraints component</h3>

<p>We have multiple Flexbox containers here. The first one is for the top, middle, and bottom rows. The second one is for the middle item, which is a Flexbox container itself.</p>

<figure>
    
        <img src="https://ishadeed.com/assets/figma-css/figma-css-flexbox-4-1.png" alt=""/>
    
    
        <figcaption></figcaption>
    
</figure>

<h2 id="conclusion">Conclusion</h2>

<p>That’s it for this exploration. I enjoyed looking at such unique and fun usage for both Flexbox and Grid. It’s inspiring to see that in a tool we’ll use, and for me, it inspired me to explore even more use cases for the CSS tools we’ve.</p>

<p>If you’re into that type of articles, I published a deep-dive into my exploration on building the <a href="https://ishadeed.com/article/facebook-messenger-chat-component/">Facebook Messenger chat bubble</a>.</p>

<p>Thank you for reading.</p>

	</div></div>
  </body>
</html>
