<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://macwright.com/lonlat/">Original</a>
    <h1>Lon Lat Lon Lat</h1>
    
    <div id="readability-page-1" class="page"><div><p>Geospatial software has a fundamental inconsistency: which order we put longitude and latitude in. Below, a table of each format and technology&#39;s decision, and below that, some explanations.</p><table><tbody><tr><th>lon, lat</th><th>lat, lon</th></tr><tr><th>formats</th><th>formats</th></tr><tr><td><ul><li>GeoJSON <sup><a href="https://tools.ietf.org/html/rfc7946#section-3.1.1">ref</a></sup></li><li>KML <sup><a href="https://developers.google.com/kml/documentation/kmlreference#elements-specific-to-point">ref</a></sup></li><li>Shapefile <sup><a href="https://www.esri.com/library/whitepapers/pdfs/shapefile.pdf">ref</a></sup></li><li>WKT <sup><a href="https://docs.microsoft.com/en-us/bingmaps/v8-web-control/modules/well-known-text-module">ref</a></sup></li><li>WKB <sup><a href="https://www.ogc.org/standards/sfs">ref</a></sup></li><li>geobuf <sup><a href="https://github.com/mapbox/geobuf">ref</a></sup></li></ul></td><td><ul><li>GeoRSS <sup><a href="http://www.georss.org/simple.html">ref</a></sup></li><li>Encoded Polylines (Google) <sup><a href="https://developers.google.com/maps/documentation/utilities/polylinealgorithm">ref</a></sup></li></ul></td></tr><tr><th>javascript apis</th><th>javascript apis</th></tr><tr><td><ul><li>OpenLayers <sup><a href="https://openlayers.org/en/latest/apidoc/module-ol_coordinate.html#~Coordinate">ref</a></sup></li><li>d3 <sup><a href="https://github.com/d3/d3-geo#_projection">ref</a></sup></li><li>ArcGIS API for JavaScript <sup><a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Polygon.html#rings">ref</a></sup></li><li>Mapbox GL JS <sup><a href="https://docs.mapbox.com/mapbox-gl-js/api/map/">ref</a></sup></li></ul></td><td><ul><li>Leaflet <sup><a href="https://leafletjs.com/reference-1.6.0.html#latlng">ref</a></sup></li><li>Google Maps API <sup><a href="https://developers.google.com/maps/documentation/javascript/reference/coordinates">ref</a></sup></li></ul></td></tr><tr><th>mobile apis</th><th>mobile apis</th></tr><tr><td><ul><li>Tangram ES<sup><a href="https://github.com/tangrams/tangram-es/blob/master/core/src/util/types.h#L14">[1]</a></sup></li></ul></td><td><ul><li>Google Maps iOS/Android</li><li>Apple MapKit</li></ul></td></tr><tr><th>service specifications</th><th>service specifications</th></tr><tr><td><ul><li>WFS 1.0.0 <sup><a href="http://docs.geoserver.org/stable/en/user/services/wfs/basics.html">[1]</a></sup></li><li>WMS 1.1.1 <sup><a href="http://docs.geoserver.org/stable/en/user/services/wms/basics.html">[1]</a></sup></li></ul></td><td><ul><li>WFS 1.1.0 &amp; 2.0.0 <sup><a href="http://docs.geoserver.org/stable/en/user/services/wfs/basics.html">[1]</a></sup></li><li>WMS 1.3.0 <sup><a href="http://docs.geoserver.org/stable/en/user/services/wms/basics.html">[1]</a></sup></li></ul></td></tr><tr><th>misc</th><th>misc</th></tr><tr><td><ul><li>OSRM<sup><a href="https://github.com/Project-OSRM/osrm-backend/blob/master/CHANGELOG.md#500">[1]</a></sup></li><li>Redis<sup><a href="http://redis.io/commands/geoadd">[1]</a></sup></li></ul></td><td><ul></ul></td></tr></tbody></table><p>A frustrating inconsistency in geospatial (mapping) software is coordinate order. Coordinates are often represented as arrays, like <code>[-87.73, 41.83]</code>, instead of objects, like <code>{ lng: -87.73, lat: 41.83 }</code>. This leaves it up to the developer to determine whether -87.73 is the longitude or latitude. One choice places a point on Chicago, and the other a location deep in Antarctica.</p><p>There&#39;s some consensus growing around longitude, latitude order for geospatial formats, but still chaos for libraries and software. It&#39;s up to the developer to be aware of this issue and read the requisite documentation, and flip coordinates if necessary to translate between different systems.</p><h3>FAQ</h3><dl><dt>Which is right?</dt><dd>Neither. This is an opinion with no right answer. Geographical tradition favors lat, lon. Math and software prefer lon, lat.</dd><dt>What about GPX or OSM XML?</dt><dd>Formats that represent lat and lon with separate XML attributes don&#39;t enforce any coordinate order, because XML attributes are not ordered.</dd><dt>What about GML?</dt><dd>GML doesn&#39;t make any statement about coordinate order: it allows the datum to dictate the order, so some data may be longitude, latitude and other data the reverse.</dd><dt>Why is the cartographic tradition to put latitude first?</dt><dd>There are many theories. The most convincing is that <a href="https://en.wikipedia.org/wiki/History_of_longitude">since we were able to judge latitude much earlier than we could judge longitude, we put it first.</a></dd><dt>What about ISO 6709 - did the ISO standardize on lat, lon?</dt><dd>The ISO standard specifically only applies to form inputs, not storage mechanisms, software or formats.</dd><dt>Do you have a preference?</dt><dd>Yes I do: <a href="http://macwright.org/2016/07/15/longitude-latitude-is-the-right-way.html">longitude, latitude.</a></dd><dt>Why do you always write &#34;lon&#34; instead of &#34;long&#34;?</dt><dd><code>long</code> is a <a href="https://en.wikipedia.org/wiki/C_data_types">number type in the C and C++ languages</a>, and likely others. So if you were to write <code>float long;</code> to define a floating-point longitude value, it&#39;ll result in a syntax error. So I always use <code>lon</code>, which is not a keyword or built-in type in any language I&#39;ve encountered.</dd></dl></div></div>
  </body>
</html>
