<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://htmx.org/essays/hypermedia-driven-applications/">Original</a>
    <h1>The Hypermedia-Driven Application (HDA) Architecture</h1>
    
    <div id="readability-page-1" class="page"><div>
    <h2>Genesis</h2>
<blockquote>
<p>thesis: MPA - multi-page application</p>
<p>antithesis: SPA -  single-page application</p>
<p>synthesis: HDA - hypermedia-driven application</p>
<p>--<a href="https://twitter.com/htmx_org/status/1490318550170357760">@htmx_org</a></p>
</blockquote>
<h2>The Hypermedia-Driven Application Architecture</h2>
<p>The <strong>Hypermedia Driven Application (HDA)</strong> architecture is a new/old approach to building web applications.  It combines
the simplicity &amp; flexibility of traditional Multi-Page Applications (MPAs) with the better user experience of
<a href="https://en.wikipedia.org/wiki/Single-page_application">Single-Page Applications</a> (SPAs).</p>
<p>The HDA architecture achieves this goal by extending the existing HTML infrastructure of the web to allow hypermedia
developers to use more powerful hypermedia-driven interactions.</p>
<p>Two <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">constraints</a> characterize the HDA architecture:</p>
<ul>
<li>The application uses a <strong>declarative, HTML-embedded syntax</strong>, rather than imperative scripting, to achieve better front end interactivity</li>
<li>The application interacts with the server <strong>in terms of hypermedia</strong> (i.e. HTML) rather than a non-hypermedia format (e.g. JSON)</li>
</ul>
<p>The HDA architecture falls within the <strong>original <a href="https://developer.mozilla.org/en-US/docs/Glossary/REST">REST-ful</a>
architecture of the web</strong> in a way that contrasts with the SPA architecture.  In particular, HDAs make <strong>effective use
of <a href="https://htmx.org/essays/hateoas/">HATEOAS</a></strong> in a way that SPAs typically do not.</p>
<h2>An Example</h2>
<p>Consider the htmx <a href="https://htmx.org/examples/active-search">Active Search</a> example:</p>
<pre><code>&lt;h3&gt; 
  Search Contacts 
  &lt;span class=&#34;htmx-indicator&#34;&gt; 
    &lt;img src=&#34;/img/bars.svg&#34;/&gt; Searching... 
   &lt;/span&gt; 
&lt;/h3&gt;
&lt;input class=&#34;form-control&#34; type=&#34;search&#34; 
       name=&#34;search&#34; placeholder=&#34;Begin Typing To Search Users...&#34; 
       hx-post=&#34;/search&#34; 
       hx-trigger=&#34;keyup changed delay:500ms, search&#34; 
       hx-target=&#34;#search-results&#34; 
       hx-indicator=&#34;.htmx-indicator&#34;&gt;

&lt;table class=&#34;table&#34;&gt;
    &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;First Name&lt;/th&gt;
      &lt;th&gt;Last Name&lt;/th&gt;
      &lt;th&gt;Email&lt;/th&gt;
    &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody id=&#34;search-results&#34;&gt;
    &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>
<p>Here htmx is being used to achieve a UX pattern that would typically be associated with an SPA: as the user types,
after a slight pause, results will populate the result table below.</p>
<p>This example effectively demonstrates the essential characteristic of an HDA:</p>
<ul>
<li>The front end of the feature is specified entirely in <code>hx-</code> declarative attributes, directly in HTML</li>
<li>The interaction with the server is done via HTTP and HTML: an HTTP request is sent, HTML is returned and inserted into the DOM</li>
</ul>
<h2>The Place of Scripting In An HDA</h2>
<p><a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_7">Code-On-Demand</a> is an optional
constraint of the original REST-ful architecture of the web.</p>
<p>Similarly, the HDA architecture has a final, optional constraint:</p>
<ul>
<li>Code-On-Demand (i.e. scripting) should, as much as is practical, be done <em>directly in</em> the primary hypermedia</li>
</ul>
<p>This addresses the concern regarding Code-On-Demand mentioned in Fielding&#39;s thesis:</p>
<blockquote>
<p>However, it also reduces visibility, and thus is only an optional constraint within REST.</p>
</blockquote>
<p>By embedding Code-On-Demand (scripts) directly in HTML, you increase visibility and satisfy the
<a href="https://htmx.org/essays/locality-of-behaviour/">Locality of Behavior</a> design principle.</p>
<p>Three approaches to scripting that satisfy this constraint are <a href="https://hyperscript.org">hyperscript</a>, <a href="https://alpinejs.dev">AlpineJS</a>
and <a href="http://vanilla-js.com/">VanillaJS</a> (when embedded directly on HTML elements).</p>
<p>Here is an example of each demonstrating HDA-friendliness:</p>
<pre><code>&lt;!-- hyperscript --&gt;
&lt;button _=&#34;on click toggle .red-border&#34;&gt;
  Toggle Class
&lt;/button&gt;

&lt;!-- Alpine JS --&gt;
&lt;button @click=&#34;open = !open&#34; :class=&#34;{&#39;red-border&#39; : open, &#39;&#39; : !open}&#34;&gt;
  Toggle Class
&lt;/button&gt;

&lt;!-- VanillaJS --&gt;
&lt;button onclick=&#34;this.classList.toggle(&#39;red-border&#39;)&#34;&gt;
  Toggle Class
&lt;/button&gt;
</code></pre>
<p>Note that the hypermedia (HTML) is given primacy of place here: it is not an after-thought being produced by a client-side
templating engine.</p>
<p>The scripts <em>augment</em> the existing hypermedia but do not <em>supersede</em> it or subvert the fundamental REST-ful architecture
of the system.</p>
<h2>HDA-style libraries</h2>
<p>Some libraries that allow developers to build HDAs:</p>
<ul>
<li><a href="https://htmx.org">https://htmx.org</a></li>
<li><a href="https://unpoly.com/">https://unpoly.com/</a></li>
<li><a href="https://kasta-ua.github.io/twinspark-js/">https://kasta-ua.github.io/twinspark-js/</a></li>
<li><a href="https://turbo.dev">https://turbo.dev</a></li>
</ul>
<p>And some complementary, HDA-friendly scripting tools:</p>
<ul>
<li><a href="https://hyperscript.org">https://hyperscript.org</a></li>
<li><a href="https://alpinejs.dev/">https://alpinejs.dev/</a></li>
<li><a href="http://vanilla-js.com/">http://vanilla-js.com/</a> (embedded directly in HTML)</li>
</ul>
<h2>Conclusion</h2>
<p>The HDA architecture is a synthesis of two preceding architectures: the original Multi-Page Application (MPA) and the
(relatively) newer Single-Page Application.</p>
<p>It attempts to capture the advantages of both: the simplicity and reliability
of MPAs (due to the <a href="https://developer.mozilla.org/en-US/docs/Glossary/REST">REST-ful Architecture</a>, in particular by
returning to <a href="https://htmx.org/essays/hateoas/">Hypermedia As The Engine Of Application State</a>).</p>
<p>
&lt;/&gt;
</p>
</div></div>
  </body>
</html>
