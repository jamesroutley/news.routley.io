<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bumbershootsoft.wordpress.com/2025/02/15/the-8-bit-eras-weird-uncle-the-ti-99-4a/">Original</a>
    <h1>The 8-Bit Era&#39;s Weird Uncle: The TI-99/4A</h1>
    
    <div id="readability-page-1" class="page"><div>
			
<p>It’s been awhile since I’ve looked at an architecture that’s completely new to me, and I haven’t done <em>any</em> since creating my new scheme for dedicated platform guides. I’ve now gotten enough material together that I can kick off an exploration of a new platform for me: the <a href="https://en.wikipedia.org/wiki/TI-99/4A" target="_blank" rel="noreferrer noopener">Texas Instruments TI-99/4A</a>. For this new introduction, I’ll be splitting it into three parts, two of which go live today:</p>



<ul>
<li>This article, which will be a breezy tour of interacting with the system as a casual user of the time might. This tracks my tours of the <a href="https://bumbershootsoft.wordpress.com/2017/02/28/the-zx81-from-the-ground-up/" target="_blank" rel="noreferrer noopener">ZX81</a>, the <a href="https://bumbershootsoft.wordpress.com/2019/02/14/atari-800-stumbling-into-a-new-system/" target="_blank" rel="noreferrer noopener">Atari 800</a>, and the <a href="https://bumbershootsoft.wordpress.com/2022/06/02/a-new-friend-lets-play-amiga-workbench-1-3/" target="_blank" rel="noreferrer noopener">Amiga 500</a>.</li>



<li>The <a href="https://bumbershootsoft.wordpress.com/platform-guide-ti-99-4a/" target="_blank" rel="noreferrer noopener">new TI-99/4A platform guide</a>, as it presently exists. This page will retain my most up-to-date instructions for setting up emulation and cross-development, along with some simple test programs and an index of relevant articles.</li>



<li>Next week’s article, which will use the tools and resources in the platform guide to see how we can realize this week’s work as cartridge software running without support from BASIC.</li>
</ul>



<h2>Some History</h2>



<p>The TI-99/4 series was released over about the same timeframe as the Atari 800 and the Commodore VIC-20, and its capabilities were comfortably intermediate between the two. Entering when it did, it ended up in a price war that ultimately locked TI into a strategy of selling the base unit at a loss, then making it up on margins on their software. In the event, they ultimately locked out all third-party software for the platform and then didn’t release all that much first-party software either. TI crashes out of the home computer market in 1984 and never returns.</p>



<p>This would normally result in just being another forgotten also-ran like the Timex Sinclair 2068 (a ZX Spectrum variant for the US that was basically incompatible with all ZX Spectrum software), but it’s got three things going for it as a curiosity to revisit:</p>



<ul>
<li>Despite being a debacle for TI, it was a debacle because it <em>lost them a ton of money,</em> not because it wasn’t widely available and recognized. It was common enough that it still got program listings in computer magazines long after it was discontinued.</li>



<li>The architecture of the machine is absolutely wild. We’ll see more of that next week, but for now, we’ll just note that internal pressures at TI resulted in a project that started out both as a game console in the Atari 2600 vein and as a very compact implementation of their TI-990 minicomputer line. This dual nature is clearly visible in the architecture, once we get down into it.</li>



<li>Its game-console lineage turns out to be <em>really important and influential.</em> While the computer as a whole was an also-ran, its graphics and sound chips were sold separately for a <em>long</em> time afterwards and were very widely used. The TI-99’s sound chip, the SN76489, was not only in the ColecoVision and the 8-bit Sega consoles, it made it all the way to the Sega Genesis (where <a href="https://bumbershootsoft.wordpress.com/2018/03/24/genesis-the-z80-and-the-sn76489/" target="_blank" rel="noreferrer noopener">I actually programmed some songs into it</a>) and also found its way into the BBC Micro and the IBM PCjr. Its graphics chip, the TMS9918A, or its immediate successors were used in early Sega consoles (even the Sega Master System, which counts as “late” here, includes a full compatibility mode), the ColecoVision console, and the MSX hardware standard that was extremely popular outside of the US. The chip’s <em>design</em> was also widely influential, and its approach to sprites—in particular, a focus on providing a lot of very small sprites instead of a modest number of larger ones—ended up informing Nintendo’s approach to their own consoles as well. While the NES’s own graphics chip is clearly distinct from the TI, it’s also very clearly taking its design cues from it rather than from the <a href="https://bumbershootsoft.wordpress.com/2024/10/26/spritework-on-the-atari-800/" target="_blank" rel="noreferrer noopener">Atari 800’s player-missile system</a> or <a href="https://bumbershootsoft.wordpress.com/2019/07/01/c64-fat-sprite-workarounds/" target="_blank" rel="noreferrer noopener">the Commodore 64’s sparse but highly configurable movable object blocks</a>.</li>
</ul>



<p>Many of those graphics and sound features were conveniently exposed via BASIC, so today we’ll play around with the BASIC systems on the TI-99/4A and see what kind of stuff we can do with its tile graphics and its sprites.</p>



<h2>Starting Up BASIC</h2>



<p>I’ll be using Harmless Lion’s <a href="https://harmlesslion.com/software/classic99/" target="_blank" rel="noreferrer noopener">Classic99</a> emulator for this tour; it’s got licensed versions of TI’s console ROMs as well as much of the rest of their library, and it’s also got good support for disk drives and debugging. If you want to follow along but do not wish to install anything, the online <a href="https://js99er.net/" target="_blank" rel="noreferrer noopener">JS99’er</a> emulator is every bit as grab-and-go. As we power on, we are first greeted by the boot screen:</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png"><img data-attachment-id="4424" data-permalink="https://bumbershootsoft.wordpress.com/ti99_00_boot/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_00_boot" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png?w=544" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png" alt="The TI-99 4/A boot screen. Under the Texas Instruments logo, we see the text &#34;Texas Instruments Home Computer Ready - Press Any key to begin&#34; and some color bars." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_00_boot.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>Much like the Chicago font of the old monochrome Macs, this screen is something that I had at best glancing acquaintance with as a child, but nevertheless it produces <em>completely unreasonable</em> levels of nostalgia for me. Pushing a key to get past it takes us to the cartridge menu, which, with no cartridge installed, just offers the in-ROM BASIC:</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png"><img data-attachment-id="4425" data-permalink="https://bumbershootsoft.wordpress.com/ti99_01_empty_menu/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_01_empty_menu" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png?w=544" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png" alt="The TI-99 launch menu. The only option is &#34;Press 1 for TI BASIC&#34;." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_01_empty_menu.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>If we did have a game cartridge in there, we might have other options:</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png"><img data-attachment-id="4426" data-permalink="https://bumbershootsoft.wordpress.com/ti99_02_game_menu/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_02_game_menu" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png?w=544" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png" alt="The TI-99 launch menu, but now there are four entries: &#34;1 for TI BASIC, 2 for Hunt the Wumpus, and 3 and 4 for the French and German editions." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_02_game_menu.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>We are not here to play games, though, and if we <em>were</em> it would definitely be TI Invaders and not Hunt the Wumpus. We select <strong><code>TI BASIC</code></strong> and are greeted with the main prompt:</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png"><img data-attachment-id="4427" data-permalink="https://bumbershootsoft.wordpress.com/ti99_03_basic_ready/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_03_basic_ready" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png?w=544" loading="lazy" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png" alt="A &#34;TI BASIC READY&#34; prompt." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_03_basic_ready.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>From here, we can type in a program and run it. Most system-specific operations in TI BASIC are phrased of the form <strong><code>CALL FN</code></strong> for some <strong><code>FN</code></strong>. This includes even really simple things like clearing the screen (<strong><code>CALL CLEAR</code></strong>), but we may also just redefine any character’s pattern at will with <strong><code>CALL CHAR</code></strong> and set colors with <strong><code>CALL COLOR</code></strong>. Our first program will be more exciting than a simple “Hello, world”:</p>


<div><pre title="">10 CALL CHAR(97,&#34;030F1F3F7F7FFFFF&#34;)
20 CALL CHAR(98,&#34;C0F0F8F8F0E0C080&#34;)
30 CALL CHAR(99,&#34;FFFE7C7830000000&#34;)
40 CALL CHAR(104,&#34;80C0603018083800&#34;)
50 PRINT &#34;abcdefghijklmnopqrstuvwxyz&#34;
60 PRINT &#34;ch  BUMBERSHOOT SOFTWARE&#34;
70 CALL COLOR(9,5,1)
80 CALL COLOR(10,11,1)
90 GOTO 90
</pre></div>


<p>(This, as well as the other BASIC programs in this article, can be copy-pasted into Classic99 with the “Paste” option under the edit menu, or into JS99’er with Ctrl-V.)</p>



<p>Our first four lines here define four new characters at ASCII points 97-99 and 104. Those correspond to the lower-case letters <strong><code>a</code></strong>, <strong><code>b</code></strong>, <strong><code>c</code></strong>, and <strong><code>h</code></strong>. The second arguments are simple hex dumps, one byte wide, 8 bytes tall, for a standard 8×8 character cell. Lines 50 and 60 print out <em>all</em> the lower-case letters, and then write <strong><code>ch</code></strong> beneath the <strong><code>ab</code></strong> to arrange these four letters into a square graphic in its own right. We then see two <strong><code>CALL COLOR</code></strong> commands, which we’ll see in action shortly. Finally, the program goes into an infinite loop, waiting for the user to hit the CLEAR function (Fctn-4 on a real system, F4 in Classic99, and Alt-4 in JS99’er or Classic99). We get a cute little logo!</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png"><img data-attachment-id="4428" data-permalink="https://bumbershootsoft.wordpress.com/ti99_04_logo_basic/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_04_logo_basic" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png?w=544" loading="lazy" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png" alt="The program above, as entered into TI BASIC and run. The letters A, B, C, and H are replaced with bits of a graphic that, assembled, shows a small cartoon umbrella." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_04_logo_basic.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>… we also get the screen turning green, which a thing that TI BASIC does while a program is running unless we change the background color ourselves with <strong><code>CALL SCREEN</code></strong>. Once we CLEAR…</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png"><img data-attachment-id="4429" data-permalink="https://bumbershootsoft.wordpress.com/ti99_05_logo_aftermath/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_05_logo_aftermath" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png?w=544" loading="lazy" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png" alt="The program above, displayed in the usual character set." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_05_logo_aftermath.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>…the interpreter informs us <strong><code>BREAKPOINT AT 90</code></strong> and all the graphics return to their normal small-caps in black on cyan. This is actually why we need that infinite loop at the end; if we delete that line (enter the command <strong><code>90</code></strong> on its own line to do so) we’ll see the graphics appear and then vanish just as they’re finished.</p>



<p>But the thing to really notice here is the way the letters have changed colors. Letters <strong><code>a</code></strong> through <strong><code>g</code></strong> are blue, and then letters <strong><code>h</code></strong> through <strong><code>o</code></strong> are dark yellow. On pretty much every system I’ve looked at before this where multicolor text is possible <em>at all,</em> from the ZX Spectrum through the Commodore 64 and the NES to DOS machines, the colors of text are stored in a parallel matrix that applies color assignments to particular locations on the screen. (For <em>scrolling</em> screens like the NES, it’s applied to locations on the broader map of which the screen is a window.) Here on the TI, colors belong to <em>the characters themselves,</em> and they are assigned eight at a time. The <strong><code>CALL COLOR</code></strong> command takes three arguments; the first is a block of character codes, followed by color numbers for foreground and background. Our backgrounds here are “transparent”, so they inherit the green of the running system.</p>



<h2>A Nicer Display</h2>



<p>Now that we kind of know what we’re doing, let’s make a cooler display out of it:</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png"><img data-attachment-id="4430" data-permalink="https://bumbershootsoft.wordpress.com/ti99_06_fancy_banner/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_06_fancy_banner" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png?w=544" loading="lazy" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png" alt="A black box on a green screen, with an umbrella logo and the caption &#34;Bumbershoot Software: 16 more than your TI-83!&#34;" srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_06_fancy_banner.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>For the most part, this is just a question of defining and printing out more characters. Getting the colors to work right, though, poses a few challenges and a few opportunities.</p>



<ul>
<li>For the solid black background and white text, we can set the background for our custom graphics and the letters we use.</li>



<li>Since we want the full screen background to stay the same, we’ll need to leave color group 1 alone.</li>



<li>We need both a space and an exclamation point for our message and its box, though. We’ll have to copy the exclamation point graphic somewhere in the letter space at a point we don’t use.</li>



<li>We’ve got lots of punctuation we don’t use already, so we won’t need new color spaces for that; we can use character 94 (^) for the exclamation point just fine.</li>



<li>Instead of defining a blank character, we can <em>also</em> just define color group 11 (the lower-case letters <strong><code>p</code></strong> through <strong><code>w</code></strong>) to be black on black.</li>
</ul>



<p>I put in a couple more bells and whistles too, and this gives us the final program:</p>


<div><pre title="">10 CALL CLEAR
20 CALL CHAR(94,&#34;0010101010100010&#34;)
30 CALL CHAR(97,&#34;030F1F3F7F7FFFFF&#34;)
40 CALL CHAR(98,&#34;C0F0F8F8F0E0C080&#34;)
50 CALL CHAR(99,&#34;FFFE7C7830000000&#34;)
60 CALL CHAR(104,&#34;80C0603018083800&#34;)
70 FOR I=2 TO 8
80 CALL COLOR(I,16,2)
90 NEXT I
100 CALL COLOR(9,5,2)
110 CALL COLOR(10,11,2)
120 CALL COLOR(11,2,2)
130 PRINT &#34;pppppppppppppppppppppppppppp&#34;
140 PRINT &#34;pabppBUMBERSHOOTpSOFTWAREppp&#34;
150 PRINT &#34;pch16pMOREpTHANpYOURpTI-83^p&#34;
160 PRINT &#34;pppppppppppppppppppppppppppp&#34;
170 FOR I=1 TO 10
180 PRINT
190 NEXT I
200 CALL KEY(3,K,S)
210 IF S=0 THEN 200
220 CALL CLEAR
</pre></div>


<p>There’s two other things going on here that we haven’t seen before. The first is that it turns out that normal TI BASIC will only ever <strong><code>PRINT</code></strong> things at the bottom of the screen, so to get our banner into the <em>middle</em> of the screen we have to print out a bunch of blank lines afterwards. The second is that instead of forcing a breakpoint we might as well scan the keyboard normally and shut down cleanly when a key is pressed. That’s <strong><code>CALL KEY</code></strong>‘s job.</p>



<p>If we want to go further with exploring the hardware, though, we’ve hit the limits of the built-in BASIC. Fortunately, there is an expansion cartridge that provides quite a few more capabilities.</p>



<h2>On to Extended BASIC</h2>



<p>The Extended BASIC cartridge is available under the “Cartridge → Apps” menu options in Classic99, and directly under the “Software…” tab in JS99’er. It runs much faster, can make decent use of memory expansion hardware, and generally offers more capabilities. One of those is the ability to <em>read</em> character patterns instead of just writing them, so we can confirm that we did indeed get the exclamation point graphic right:</p>


<div><pre title="">CALL CHARPAT(33,E$)
PRINT E$
</pre></div>


<p>It also lets us conveniently write text or put character prompts anywhere on the screen with <strong><code>DISPLAY AT</code></strong> and <strong><code>ACCEPT AT</code></strong>, but even so there’s still no notion of a print cursor that can be placed anywhere on the screen; these are more like blitting strings to video memory.</p>



<p>Preexisting commands are also extended: multiple calls to <strong><code>CALL COLOR</code></strong> may be combined into one by concatenating their arguments, and we can put multiple statements on one BASIC line. Two colons are used to separate statements instead of the trdaitional one, but the colon is used as part of other commands inline, so it more or less works out. All of this lets us express the same program more compactly:</p>


<div><pre title="">10 CALL CLEAR :: CALL SCREEN(3)
20 CALL CHAR(94,&#34;0010101010100010&#34;)
30 CALL CHAR(97,&#34;030F1F3F7F7FFFFF&#34;)
40 CALL CHAR(98,&#34;C0F0F8F8F0E0C080&#34;)
50 CALL CHAR(99,&#34;FFFE7C7830000000&#34;)
60 CALL CHAR(104,&#34;80C0603018083800&#34;)
70 FOR I=2 TO 8 :: CALL COLOR(I,16,2) :: NEXT I
80 CALL COLOR(9,5,2,10,11,2,11,2,2)
90 DISPLAY AT(11,1):&#34;pppppppppppppppppppppppppppp&#34;
100 DISPLAY AT(12,1):&#34;pabppBUMBERSHOOTpSOFTWAREppp&#34;
110 DISPLAY AT(13,1):&#34;pch16pMOREpTHANpYOURpTI-83^p&#34;
120 DISPLAY AT(14,1):&#34;pppppppppppppppppppppppppppp&#34;
130 CALL KEY(3,K,S) :: IF S=0 THEN 130
140 CALL CLEAR
</pre></div>


<p>The one place where backwards compatibility breaks is that the screen doesn’t turn green on its own anymore, so we have to use <strong><code>CALL SCREEN</code></strong> to specifically request that.</p>



<h2>Sprites</h2>



<p>Extended BASIC also includes a collection of new commands centered around <strong><code>CALL SPRITE</code></strong>, which will give us access to the sprite hardware. This ends up looking looking quite a lot like a predecessor to the <a href="https://bumbershootsoft.wordpress.com/2022/03/28/lights-out-nes-sprite-graphics/" target="_blank" rel="noreferrer noopener">NES sprite system</a> because, as we noted, it kind of is; but coming out as it did when the Atari 800 did, it also bears the marks of that earlier era.</p>



<ul>
<li>Sprites aren’t unique objects like the Atari’s “players”; they use the same kinds pattern tables as the custom text characters, and sprites are generally one character wide and tall. This matches the NES’s relation of sprites to its own pattern tables. BASIC obliges us to use the same pattern tables for both text and sprites, but the underlying VDP graphics chip can target them independently.</li>



<li>Sprites can be made double-sized, both in the sense of “built out of 4 characters in a 2×2 grid instead of just one” and “each pixel of the defining patterns takes up a 2×2 pixel rectangle on the screen”, or both at once. This is comparable to the NES’s 8×16 sprite mode but can produce larger images.</li>



<li>There are 32 sprites available at once, and any given scanline can have four of them. This is exactly half the numbers the NES offers, though it evens up if you compare 16×16 sprites to the NES’s 8×16 ones used in pairs.</li>



<li>There is pixel-perfect collision detection—however, it’s only capable of reporting whether any sprites have collided and cannot tell you which ones did. This has no analogue on other systems, which tend to either be more fine-grained or lack this collision detection capability entirely. TI Extended BASIC provides some custom routines that produce finer-grained results in software.</li>
</ul>



<p>Double-sized sprites are a 2×2 character grid, which is great for our little umbrella graphic, but they also have to be only one color, which is unfortunate. We can just use two sprites, though. The four-sprites-per-scanline limit means that we can only render two umbrellas on the screen together, but that will do for now. The sprites also are presented column major (so, read the screen it would like like “ac” over “bd” instead of “ab” over “cd” like we did in our original case) so we also need to juggle the characters around a bit alongside making space for the handles. All the same, there’s not a lot of difference between this and our first tests:</p>


<div><pre title="">10 CALL CLEAR :: CALL SCREEN(3)
20 CALL CHAR(96,&#34;030F1F3F7F7FFFFF&#34;)
30 CALL CHAR(97,&#34;FFFE7C7830000000&#34;)
40 CALL CHAR(98,&#34;C0F0F8F8F0E0C080&#34;)
50 CALL CHAR(99,&#34;0000000000000000&#34;)
60 CALL CHAR(100,&#34;0000000000000000&#34;)
70 CALL CHAR(101,&#34;0000000000000000&#34;)
80 CALL CHAR(102,&#34;0000000000000000&#34;)
90 CALL CHAR(103,&#34;80C0603018083800&#34;)
100 CALL MAGNIFY(4)
110 CALL SPRITE(#1,96,5,60,80,#2,100,11,60,80)
120 CALL SPRITE(#3,96,2,160,140,#4,100,15,160,140)
130 CALL KEY(3,K,S) :: IF S=0 THEN 130
140 CALL CLEAR
</pre></div>


<p>This creates four sprites, each with its own color, and displays it on the screen. <strong><code>CALL MAGNIFY</code></strong> picks one of the four combinations of single/double size and single/double magnification, and <strong><code>CALL SPRITE</code></strong> assigns character, color, and X- and Y- coordinates. The display gives us some bigger umbrellas:</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png"><img data-attachment-id="4431" data-permalink="https://bumbershootsoft.wordpress.com/ti99_07_sprites/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_07_sprites" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png?w=544" loading="lazy" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png" alt="Two pixel umbrellas, twice as large as our first ones, and in different colors. These are sprites, not the custom characters of earlier designs." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_07_sprites.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>We can even add some extra arguments to <strong><code>CALL SPRITE</code></strong> to set a velocity, and the sprites will move smoothly in that direction without further minding by BASIC. That’s very handy since BASIC is pretty slow and won’t be able to animate sprites reasonably on their own.</p>


<div><pre title="">110 CALL SPRITE(#1,96,5,112,80.-40,20,#2,100,11,112,80,-40,20)
120 CALL SPRITE(#3,96,2,112,80,10,-20,#4,100,15,112,80,10,-20)
</pre></div>


<p>Unfortunately, synchronizing sprites like we have here to make a single multicolor object doesn’t work so well, because even Extended BASIC is slow enough that they fall seriously out of sync:</p>



<figure><a href="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png"><img data-attachment-id="4432" data-permalink="https://bumbershootsoft.wordpress.com/ti99_08_zoomies/" data-orig-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png" data-orig-size="544,416" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ti99_08_zoomies" data-image-description="" data-image-caption="" data-medium-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png?w=300" data-large-file="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png?w=544" loading="lazy" width="544" height="416" src="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png" alt="The previous two umbrellas, in different locations on the screen because they are moving. The handles started moving at different times, so they appear to be in the wrong places." srcset="https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png 544w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png?w=150&amp;h=115 150w, https://bumbershootsoft.wordpress.com/wp-content/uploads/2025/02/ti99_08_zoomies.png?w=300&amp;h=229 300w" sizes="(max-width: 544px) 100vw, 544px"/></a></figure>



<p>The period books I’d been reading about the TI suggested that sprite motion was actually provided by the graphics chip itself somehow, but I’m skeptical; everything I’ve seen about how to use it in machine language suggests that this is a being provided by some kind of system ROM routine, not the chip itself.</p>



<h2>What’s Next</h2>



<p>BASIC gave us a better tour of the core graphics capabilities here than I was expecting, to be honest. Next week we’ll dig into how cartridge software worked on the TI-99/4A and accomplish similar goals without relying on BASIC. The architecture of the system as a whole and the onboard system ROMs in particular are pretty strange, so it’ll be a more twisted path than we’d expect. By the time we’re done, though, we should have seen a worked example of <em>why</em> everything we do in the Platform Guide is there.</p>

			
								</div></div>
  </body>
</html>
