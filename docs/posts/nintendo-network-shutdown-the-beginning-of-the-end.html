<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://pretendo.network/blog/12-23-23">Original</a>
    <h1>Nintendo Network shutdown â€“ The beginning of the end</h1>
    
    <div id="readability-page-1" class="page"><div>
		<div>

			
			<div>
				<p><span>Published by</span></p><p><img src="https://www.github.com/jonbarrow.png" alt="Jon"/>
					<span>Jon</span>
				</p>
				<p><span>on
					<span>December 23, 2023</span>
				</span>
			</p></div>

			<h2 id="intro">Intro</h2>
<p>First, we would like to apologize for the lack of blog posts this year. We planned to do more, but other priorities kept getting in the way. We continued to provide updates through our Discord and social medias during this time, but we plan to use this blog more often now.</p>
<p>This blog post will be a bit more serious than previous posts, as the subject matter is rather somber. We apologize for the lack of energy and quips you may have enjoyed in previous posts. This post will have information regarding several aspects of the shutdown, some of which have been covered on other social media posts. Please use the table of contents below to jump to your desired section.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#the-shutdown">The Shutdown</a></li>
<li><a href="#super-mario-maker">Super Mario Maker</a></li>
<li><a href="#new-accounts-prerequisite">New Accounts (Prerequisite)</a></li>
<li><a href="#new-accounts">New Accounts</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<h2 id="the-shutdown">The Shutdown</h2>
<p>In October of 2023, Nintendo <a href="https://en-americas-support.nintendo.com/app/answers/detail/a_id/63227/~/announcement-of-discontinuation-of-online-services-for-nintendo-3ds-and-wii-u">announced the shutdown of Nintendo Network</a> for April of 2024. It was stated that a specific date and time would be announced later, and as of this post that has not happened yet. There have been no public announcements of any services shutting down early, though Nintendo stated they reserve they right to do so if:</p>
<blockquote>
<p><em>&#34;an event occurs that would make it difficult to continue online services for Nintendo 3DS and Wii U software&#34;</em></p>
</blockquote>
<p>However, it appears that Nintendo has begun a slow rollout of shutdowns. Intentional or not.</p>
<h2 id="super-mario-maker">Super Mario Maker</h2>
<p>This information was also detailed in a <a href="https://twitter.com/PretendoNetwork/status/1736325668412031255">Twitter thread</a>. You may read this there if you wish, or read the repost below.</p>
<p>Some time in early December 2023, Super Mario Maker began throwing error <code>106-0502</code> very often when trying to connect. It is unclear when this truly began, but the earliest occurrences we could find were around the 8th of December. Upon inspection, the cause for this error was clear: the server the game was attempting to connect to no longer existed. Our first assumption was that this was the beginning of the shutdown early, that Nintendo may have started turning off games without notice. After some more research, however, we discovered some users able to still connect.</p>
<p>Games on Nintendo Network function using 3 servers:</p>
<ol>
<li>The account server, which tells the client the location of the game&#39;s authentication server and provides the client with a token to connect with.</li>
<li>The game&#39;s authentication server, which logs the user in using the internal NEX account (details on this in the <a href="#new-accounts-prerequisite">New Accounts (Prerequisite)</a> section), and tells the client the location of the game&#39;s secure server.</li>
<li>The game&#39;s secure server, which is where all the game play content happens at.</li>
</ol>
<p>Every game on Nintendo Network uses the same 2 authentication servers. However each game has many dedicated secure servers. When logging in, the authentication server gives one of many randomly selected addresses to connect to. We believe this is some form of load balancing, splitting connections between many servers. The issue resulting in <code>106-0502</code> is that the authentication server is now giving clients addresses to dead servers. So far, we have only been able to identify a single working address for the game.</p>
<p>We believe this is due to Nintendo attempting to scale back how many servers are running for each game, to save on costs as the shutdown date approaches. They most likely made an error in their presumed load balancer to not remove these now dead servers from the pool of available addresses. We believe this was done completely unintentionally, however Nintendo shows no signs of fixing this error.</p>
<h2 id="new-accounts-prerequisite">New Accounts (Prerequisite)</h2>
<p>As briefly touched on in <a href="#super-mario-maker">Super Mario Maker</a>, Nintendo actually uses a series of internal accounts for several services. For games, these are called &#34;NEX accounts&#34;. Some background knowledge is required for this section, which will be gone over now.</p>
<p>NEX is the software Nintendo uses for all 3DS and WiiU games (and some Switch games). It is based on a library called Rendez-Vous, made by Canadian software company <a href="https://web.archive.org/web/20040610104624/http://www.quazal.com/modules.php?op=modload&amp;name=Sections&amp;file=index&amp;req=viewarticle&amp;artid=101&amp;page=1">Quazal</a>. Quazal, before being bought out by Ubisoft, would license Rendez-Vous to anyone. Many games, on many platforms, by many developers, all use some variation of Rendez-Vous as it was highly extensible. This is why our server libraries are <a href="https://twitter.com/PretendoNetwork/status/1727016210435641508">theoretically compatible with Ubisoft games</a>.</p>
<p>Nintendo licensed Rendez-Vous and modified it quite a bit, stripping out some more complex features and adding in some custom protocols, rebranding it to NEX. The important takeaway here is that Nintendo did not build this system from scratch, and instead modified a system made for generic game server usage.</p>
<h2 id="new-accounts">New Accounts</h2>
<p>Some time in late December 2023, new accounts could no longer go online in any games on both the WiiU and 3DS.</p>
<p>As mentioned in <a href="#new-accounts-prerequisite">New Accounts (Prerequisite)</a>, Nintendo did not make their game server software from scratch. Rendez-Vous comes with its own account system, likely due to it being designed for use in one-off games. At the time of its development, online multiplayer games were still very new and the concept of a unified account system (such as Nintendo Network or Uplay) spanning many different games made by the same company, was not a thing. Therefore, Nintendo needed to cope with this existing account system in some way.</p>
<p>On the 3DS, the console registers a new NEX account on the Friends server once during the console&#39;s setup process. Each 3DS, under normal circumstances, will only ever have a single account at a time (though this is not <em>always</em> true, but not relevant). This is why a NNID is not required to play most games online on the 3DS, as games use your NEX account to login to all game servers. Because of this, a new NEX account will never be created again unless the old one is removed using CFW or by factory resetting the console.</p>
<p>On the WiiU, a new NEX account is created automatically when the NNID is registered, and the NEX account is linked to this NNID. The console then alerts the Friends server of the new NEX account, much like 3DS. Despite using NNIDs, the WiiU also uses these NEX accounts to go online in all games.</p>
<p>Once a NEX account has been created, the Friends server synchronizes this account with all other game servers on Nintendo Network. This is due to the aforementioned account system provided by Rendez-Vous. Due to each game having their own server, and Rendez-Vous not having the concept of a unified account system, each game server has its own account system internally, which is synchronized with other games. It is actually possible to create accounts in other servers besides the Friends server if using a modified client, and those accounts will be usable in other games.</p>
<p>This synchronization process has been stopped. New NEX accounts are no longer being synchronized with any other servers on the network. This affects all games. Because of this, any attempt to connect to any game using an account made after this change was made will result in error <code>106-0303</code> on the WiiU and <code>006-0303</code> on the 3DS, internally called <code>RendezVous::InvalidUsername</code>.</p>
<p>It is not clear at this time whether this was intentional or not.</p>
<h2 id="conclusion">Conclusion</h2>
<p>We ask that you do not spam Nintendo&#39;s support lines with these issues. Doing so may cause Nintendo to pull the plug entirely early. There are only 3 possible scenarios:</p>
<ol>
<li>Nintendo is aware of these issues already, and spam would annoy them to the point of pulling the plug.</li>
<li>Nintendo is not aware of these issues, and alerting them may cause them to pull the plug. They have already stated that anything making things &#34;difficult&#34; may come with an early shutdown.</li>
<li>These issues were intentional, and spam would annoy them to the point of pulling the plug.</li>
</ol>


		</div>

	</div></div>
  </body>
</html>
