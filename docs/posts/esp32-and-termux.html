<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.gavide.dev/blog/esp32-and-termux">Original</a>
    <h1>ESP32 and Termux</h1>
    
    <div id="readability-page-1" class="page"><section>   <!----> <!----><main><!----><section><article><!----> <ol><li><a href="https://blog.gavide.dev/">Home</a></li> <li><a href="https://blog.gavide.dev/blog">blog</a></li> <li><a href="https://blog.gavide.dev/blog/esp32-and-termux">esp32-and-termux</a></li></ol>  <time datetime="9 October 2025">October 9, 2025</time> <hr/> <!--[!--><!--]--> <nav><ol><!--[--><li><a href="#requirements">Requirements</a></li><li><a href="#getting-started">Getting started</a></li><li><a href="#tcpuart-setup">TCPUART Setup</a></li><li><a href="#termux-setup">Termux setup</a></li><li><a href="#resetting-the-esp32">Resetting the ESP32</a></li><li><a href="#flashing-the-micropython-firmware">Flashing the Micropython firmware</a></li><li><a href="#next-steps">Next steps</a></li><li><a href="#conclusion">Conclusion</a></li><!--]--></ol></nav> <div><!----><figure><picture><source srcset="/_app/immutable/assets/thumbnail.Ckq2ef3x.avif 640w, /_app/immutable/assets/thumbnail.xAOCNc2F.avif 1280w" type="image/avif"/><source srcset="/_app/immutable/assets/thumbnail.M-jwy3Fp.webp 640w, /_app/immutable/assets/thumbnail.cqh0RY9c.webp 1280w" type="image/webp"/><source srcset="/_app/immutable/assets/thumbnail.DlEhUxEm.jpeg 640w, /_app/immutable/assets/thumbnail.BvZFKiW1.jpeg 1280w" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/thumbnail.BvZFKiW1.jpeg" alt="Screenshot of Termux showing the flash command" width="1280" height="1223"/></picture></figure> <p>If you‚Äôre like me, you might enjoy being able to do things on your phone that you might otherwise do from your computer.</p> <p>I wanted to play around with my <code>ESP32-WROOM-32</code> development board, but apparently there is no online guide specifically for Termux, so I want to document the steps that worked for me as a future reference for myself and others.</p> <blockquote><p>‚ö†Ô∏è <strong>DISCLAIMER</strong></p> <p><strong>I am not responsible for any damage</strong> that could occurr by following this guide. This is written for educational purposes.</p></blockquote> <h2 id="requirements"><a href="#requirements" aria-hidden="true" tabindex="-1"><span></span></a>Requirements</h2> <ul><li>any ESP32 development board will do, but in my case I will use a <code>ESP32-WROOM-32</code></li> <li>an <a href="https://en.wikipedia.org/wiki/USB_On-The-Go" rel="nofollow">OTG adapter</a></li> <li>a USB-A cable (in my case micro-USB, but it depends by your board)</li> <li>a phone with Termux installed, <a href="https://f-droid.org/packages/com.termux/" rel="nofollow">ideally from F-Droid</a></li></ul> <blockquote><p>‚ùóÔ∏è <strong>NOTE</strong></p> <p>Make sure that your USB-A cable supports data transfer. This is crucial.</p> <p>Many cables I tried either did not support data transfer or were not delivering the power correctly, <a href="https://en.wikipedia.org/wiki/Brownout_(electricity)" rel="nofollow">making the board brownout</a>.</p></blockquote> <h2 id="getting-started"><a href="#getting-started" aria-hidden="true" tabindex="-1"><span></span></a>Getting started</h2> <p>The first thing you need to do is installing <a href="https://play.google.com/store/apps/details?id=com.hardcodedjoy.tcpuart" rel="nofollow"><code>TCPUART transparent Bridge</code></a>. This application will act as a bridge between the android Serial USB API and Termux. It will expose a local two-way TCP server that will forward the data to and from <code>UART</code>.</p> <blockquote><p>Installing a third party application is not ideal. An alternative could have been using <code>termux-usb</code> through <a href="https://f-droid.org/packages/com.termux.api/" rel="nofollow"><code>Termux-API</code></a>, but I was facing constant disconnections and setup issues, so I settled for this app.</p></blockquote> <figure><div><div><picture><source srcset="/_app/immutable/assets/tcpuart1.BviF8zyu.avif 308w, /_app/immutable/assets/tcpuart1.Bpluqt7h.avif 616w" type="image/avif"/><source srcset="/_app/immutable/assets/tcpuart1.1pQSgd6F.webp 308w, /_app/immutable/assets/tcpuart1.Bmx1Mc16.webp 616w" type="image/webp"/><source srcset="/_app/immutable/assets/tcpuart1.Cq5J0Uuq.jpeg 308w, /_app/immutable/assets/tcpuart1.DEXX441a.jpeg 616w" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/tcpuart1.DEXX441a.jpeg" alt="tcpuart screenshot 1" width="616" height="1280"/></picture> <figcaption>TCPUART main screen</figcaption></div> <div><picture><source srcset="/_app/immutable/assets/tcpuart2.6yOoFfDj.avif 309w, /_app/immutable/assets/tcpuart2.BbH6TrOU.avif 618w" type="image/avif"/><source srcset="/_app/immutable/assets/tcpuart2.Cu9Ljbze.webp 309w, /_app/immutable/assets/tcpuart2.B1NT9BdP.webp 618w" type="image/webp"/><source srcset="/_app/immutable/assets/tcpuart2.CaQ6INC7.jpeg 309w, /_app/immutable/assets/tcpuart2.BAlb5hD5.jpeg 618w" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/tcpuart2.BAlb5hD5.jpeg" alt="tcpuart screenshot 2" width="618" height="1280"/></picture> <figcaption>After connecting the ESP32</figcaption></div> <div><picture><source srcset="/_app/immutable/assets/tcpuart3.CEU62hUI.avif 311w, /_app/immutable/assets/tcpuart3.D061Q9Dj.avif 621w" type="image/avif"/><source srcset="/_app/immutable/assets/tcpuart3.RPBJP1aO.webp 311w, /_app/immutable/assets/tcpuart3.DKOXtDBA.webp 621w" type="image/webp"/><source srcset="/_app/immutable/assets/tcpuart3.xyQP_Irx.jpeg 311w, /_app/immutable/assets/tcpuart3.BjKBOiYg.jpeg 621w" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/tcpuart3.BjKBOiYg.jpeg" alt="tcpuart screenshot 3" width="621" height="1280"/></picture> <figcaption>After starting the local TCP server</figcaption></div></div> <figcaption>TCPUART app screenshots</figcaption></figure> <h2 id="tcpuart-setup"><a href="#tcpuart-setup" aria-hidden="true" tabindex="-1"><span></span></a>TCPUART Setup</h2> <ul><li>Set Baud Rate to <code>115200</code></li> <li>Press the <code>Connect</code> button</li> <li>A prompt should appear (see the second screenshot). Click <code>OK</code></li> <li>Between <code>client</code> and <code>server</code>, choose <code>server</code></li> <li>Use <code>8080</code> as the port</li> <li>Click the <code>Start</code> button</li></ul> <h2 id="termux-setup"><a href="#termux-setup" aria-hidden="true" tabindex="-1"><span></span></a>Termux setup</h2> <p>Make sure you have the following termux packages installed. Run this command:</p> <pre><!----><code>pkg <span>install</span> <span>-y</span> python esptool mpremote socat</code><!----></pre> <p>We will then setup a TCP bridge virtual device file:</p> <pre><!----><code>socat pty,link<span>=</span><span>$HOME</span>/esp32,raw,echo<span>=</span><span>0</span> tcp:127.0.0.1:8080 <span>&amp;</span></code><!----></pre> <p>If it was executed successfully, the command should not print any output and <code>socat</code> will run in background. A file named <code>esp32</code> will be created in the Termux home folder.</p> <h2 id="resetting-the-esp32"><a href="#resetting-the-esp32" aria-hidden="true" tabindex="-1"><span></span></a>Resetting the ESP32</h2> <p>We need to reset the <code>ESP32</code> memory, so we need to reboot it into <strong>download mode</strong>.</p> <p><picture><source srcset="/_app/immutable/assets/ESP32-pinout-diagram.DqbqB8zk.avif 680w, /_app/immutable/assets/ESP32-pinout-diagram.CmOsjKus.avif 1360w" type="image/avif"/><source srcset="/_app/immutable/assets/ESP32-pinout-diagram.DNsYGDye.webp 680w, /_app/immutable/assets/ESP32-pinout-diagram.DpiCj4tj.webp 1360w" type="image/webp"/><source srcset="/_app/immutable/assets/ESP32-pinout-diagram.DeJN7J9r.jpeg 680w, /_app/immutable/assets/ESP32-pinout-diagram.JbPUU7p4.jpeg 1360w" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/ESP32-pinout-diagram.JbPUU7p4.jpeg" alt="ESP32 WROOM 32 Pinout diagram, from https://www.teachmemicro.com/wp-content/uploads/2023/12/ESP32-pinout-diagram.jpg" width="1360" height="979"/></picture></p> <ul><li>Hold the physical <code>BOOT</code> button on the board. The one on the bottom right in this image.</li> <li>Press and release the <code>EN</code>/<code>ENABLE</code>/<code>RST</code>/<code>RESET</code> button (basically the other button)</li> <li>Release the <code>BOOT</code> button</li> <li>The device is now in download mode</li></ul> <p>To reset the <code>ESP32</code>, run this command on Termux:</p> <pre><!----><code>esptool <span>--chip</span> esp32 <span>--port</span> <span>$HOME</span>/esp32 <span>--before</span> no-reset <span>--after</span> no-reset erase-flash</code><!----></pre> <figure><picture><source srcset="/_app/immutable/assets/erase.CZFwFrvS.avif 502w, /_app/immutable/assets/erase.BsdCr5Oo.avif 1003w" type="image/avif"/><source srcset="/_app/immutable/assets/erase.BTT1ZE-B.webp 502w, /_app/immutable/assets/erase.DqUkTtNz.webp 1003w" type="image/webp"/><source srcset="/_app/immutable/assets/erase.CsCzsHH3.jpeg 502w, /_app/immutable/assets/erase.v7TxFc-L.jpeg 1003w" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/erase.v7TxFc-L.jpeg" alt="Screenshot of Termux showing the socat and erase commands" width="1003" height="1280"/></picture></figure> <h2 id="flashing-the-micropython-firmware"><a href="#flashing-the-micropython-firmware" aria-hidden="true" tabindex="-1"><span></span></a>Flashing the Micropython firmware</h2> <p>We now need to flash <a href="https://micropython.org/" rel="nofollow">Micropython</a> on the <code>ESP32</code>.</p> <p>The firmware link is obtained from <a href="https://micropython.org/download/ESP32_GENERIC/" rel="nofollow">https://micropython.org/download/ESP32_GENERIC/</a>.</p> <p>Run these commands on Termux to download and flash the firmware. Remember to <strong>go into Download mode before running the second command</strong>:</p> <pre><!----><code>curl -L https://micropython.org/resources/firmware/ESP32_GENERIC-20250911-v1.26.1.bin -o esp32-micropython.bin

esptool --chip esp32 --port $HOME/esp32 --before no-reset --after no-reset write-flash -z 0x1000 esp32-micropython.bin</code><!----></pre> <blockquote><p>‚ùóÔ∏è <strong>IMPORTANT</strong></p> <p>After the flash is complete, press and release the <code>ENABLE</code>/<code>RESET</code> button in the board to exit download mode.</p></blockquote> <figure><picture><source srcset="/_app/immutable/assets/flash.CPa08Hzt.avif 1x, /_app/immutable/assets/flash.CU0s2_TP.avif 2x" type="image/avif"/><source srcset="/_app/immutable/assets/flash.DqcpzArx.webp 1x, /_app/immutable/assets/flash.Cjjmzjy6.webp 2x" type="image/webp"/><source srcset="/_app/immutable/assets/flash.D4sZPbzi.jpg 1x, /_app/immutable/assets/flash.DjBmRpmL.jpg 2x" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/flash.DjBmRpmL.jpg" alt="Screenshot of Termux showing the flash command" width="1080" height="2269"/></picture></figure> <h4 id="-success"><a href="#-success" aria-hidden="true" tabindex="-1"><span></span></a>üéâ Success</h4> <p>Congratulations, Micropython should now be flashed in your board.</p> <h2 id="next-steps"><a href="#next-steps" aria-hidden="true" tabindex="-1"><span></span></a>Next steps</h2> <p>If you want to try the Micropython REPL, run this command:</p> <pre><!----><code>mpremote connect port:<span>$HOME</span>/esp32 repl</code><!----></pre> <p>By the way, there is also <code>minicom</code> if you want to interact with the <code>REPL</code>:</p> <pre><!----><code>minicom <span>-D</span> <span>$HOME</span>/esp32 <span>-b</span> <span>115200</span>  </code><!----></pre> <p>If you want to upload a program that will run on the ESP32 boot, without the need for it to be connected to your phone:</p> <ul><li>Create a file named <code>program.py</code> with <code>nano</code> (or any other editor) and put it in your <code>$HOME</code> directory</li> <li>Inside it, write the code you want. The code I will be using is:</li></ul> <pre><!----><code><span>import</span> machine
<span>import</span> time


led <span>=</span> machine<span>.</span>Pin<span>(</span><span>2</span><span>,</span> machine<span>.</span>Pin<span>.</span>OUT<span>)</span>

<span>print</span><span>(</span><span>&#34;Starting LED blink...&#34;</span><span>)</span>
<span>print</span><span>(</span><span>&#34;Press Ctrl+C to stop&#34;</span><span>)</span>

<span>try</span><span>:</span>
    <span>while</span> <span>True</span><span>:</span>
        led<span>.</span>on<span>(</span><span>)</span>
        <span>print</span><span>(</span><span>&#34;LED ON&#34;</span><span>)</span>
        time<span>.</span>sleep<span>(</span><span>1</span><span>)</span>
        led<span>.</span>off<span>(</span><span>)</span>
        <span>print</span><span>(</span><span>&#34;LED OFF&#34;</span><span>)</span>
        time<span>.</span>sleep<span>(</span><span>1</span><span>)</span>
<span>except</span> KeyboardInterrupt<span>:</span>
    led<span>.</span>off<span>(</span><span>)</span>
    <span>print</span><span>(</span><span>&#34;Stopped&#34;</span><span>)</span></code><!----></pre> <p>It will blink the builtin LED on the board every second, and will output the logs in the UART serial connection.</p> <ul><li>Uploading the code:</li></ul> <pre><!----><code>mpremote connect port:<span>$HOME</span>/esp32 <span>cp</span> <span>$HOME</span>/program.py :main.py</code><!----></pre> <ul><li>To run it immediately:</li></ul> <pre><!----><code>mpremote connect port:<span>$HOME</span>/esp32 run <span>$HOME</span>/program.py</code><!----></pre> <figure><picture><source srcset="/_app/immutable/assets/run.DgcZm-DY.avif 501w, /_app/immutable/assets/run.B_Q95zAo.avif 1001w" type="image/avif"/><source srcset="/_app/immutable/assets/run.B2-o9MH2.webp 501w, /_app/immutable/assets/run.CIdHI6zN.webp 1001w" type="image/webp"/><source srcset="/_app/immutable/assets/run.CF7m_YEZ.jpeg 501w, /_app/immutable/assets/run.7lD1axBb.jpeg 1001w" type="image/jpeg"/><img src="https://blog.gavide.dev/_app/immutable/assets/run.7lD1axBb.jpeg" alt="Screenshot of Termux showing the micropython REPL" width="1001" height="1280"/></picture></figure> <h3 id="useful-mpremote-commands"><a href="#useful-mpremote-commands" aria-hidden="true" tabindex="-1"><span></span></a>Useful <code>mpremote</code> commands</h3> <h4 id="list-files"><a href="#list-files" aria-hidden="true" tabindex="-1"><span></span></a>List files</h4> <pre><!----><code>mpremote connect port:$HOME/esp32 fs ls</code><!----></pre> <h4 id="view-a-file"><a href="#view-a-file" aria-hidden="true" tabindex="-1"><span></span></a>View a file</h4> <pre><!----><code>mpremote connect port:$HOME/esp32 fs cat main.py</code><!----></pre> <h4 id="delete-a-file"><a href="#delete-a-file" aria-hidden="true" tabindex="-1"><span></span></a>Delete a file</h4> <pre><!----><code>mpremote connect port:$HOME/esp32 fs rm unwanted.py</code><!----></pre> <h4 id="interactive-repl"><a href="#interactive-repl" aria-hidden="true" tabindex="-1"><span></span></a>Interactive REPL</h4> <pre><!----><code>mpremote connect port:$HOME/esp32 repl</code><!----></pre> <h2 id="conclusion"><a href="#conclusion" aria-hidden="true" tabindex="-1"><span></span></a>Conclusion</h2> <p>Termux is linked against <a href="https://android.googlesource.com/platform/bionic/" rel="nofollow"><code>Bionic Libc</code></a>, and in my phone specifically it runs on <code>aarch64</code>, so many prebuilt binaries will not work. This means that I could not compile firmware binaries from scratch, as I could not setup a toolchain for it.</p> <p>What I tried that either did not work or I gave up on trying:</p> <ul><li>Running <code>PlatformIO</code>: the <code>xtensa-esp32-elf-g++</code> binary would not execute, as it is compiled for another architecture</li> <li>An Ubuntu proot with <code>PlatformIO</code></li> <li>Using <a href="https://github.com/espressif/esp-idf" rel="nofollow"><code>esp-idf</code></a></li> <li>Rust‚Äôs <code>espflash</code>, <code>espup</code>, <code>esp-rs</code></li> <li>To connect to the <code>UART</code> serial: <code>termux-usb</code> and <code>Termux: API</code>. It would disconnect often and get a new device identifier each time, requiring to accept the permission each time. It was not a very practical solution, and I did not even get to making the <code>UART</code> communicate.</li></ul> <p>I believe that there exists a better solution than using a third party app to use the <code>UART</code> serial connection. However, I was not able to make it work.</p><!----></div></article> <!--[--><!--]--></section><!----><!----> <!----></main><!----></section></div>
  </body>
</html>
