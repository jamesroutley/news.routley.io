<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/jdx/mise/discussions/6564">Original</a>
    <h1>Mise: Monorepo Tasks</h1>
    
    <div id="readability-page-1" class="page"><div role="presentation" data-paste-markdown-skip="">
    <tbody data-target-translation-id="8992188" data-target-translation-type="discussion">
        <tr>
    <td>
        <p dir="auto">We&#39;re excited to announce <strong>Monorepo Tasks</strong>, a powerful new feature that brings first-class monorepo support to mise tasks! ğŸš€</p>
<h2 dir="auto">What is it?</h2>
<p dir="auto">Monorepo Tasks allows you to manage tasks across multiple projects in a single repository, with each project maintaining its own tools, environment variables, and tasks. Think of it as bringing the power of tools like Bazel or Turborepo to mise&#39;s task system, but with mise&#39;s signature simplicity.</p>
<h2 dir="auto">Key Features</h2>
<h3 dir="auto">ğŸ¯ <strong>Unified Task Namespace</strong></h3>
<p dir="auto">All tasks across your monorepo are automatically discovered and prefixed with their location:</p>
<div dir="auto" data-snippet-clipboard-copy-content="mise //projects/frontend:build
mise //projects/backend:test
mise //services/api:deploy"><pre>mise //projects/frontend:build
mise //projects/backend:test
mise //services/api:deploy</pre></div>
<h3 dir="auto">ğŸŒ³ <strong>Smart Tool &amp; Environment Inheritance</strong></h3>
<p dir="auto">Define common tools at the root, override them where needed:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Root mise.toml
[tools]
node = &#34;20&#34;      # Inherited everywhere
python = &#34;3.12&#34;

# projects/legacy-app/mise.toml
[tools]
node = &#34;14&#34;      # Override just for this project
# python still inherited!"><pre><span><span>#</span> Root mise.toml</span>
[<span>tools</span>]
<span>node</span> = <span><span>&#34;</span>20<span>&#34;</span></span>      <span><span>#</span> Inherited everywhere</span>
<span>python</span> = <span><span>&#34;</span>3.12<span>&#34;</span></span>

<span><span>#</span> projects/legacy-app/mise.toml</span>
[<span>tools</span>]
<span>node</span> = <span><span>&#34;</span>14<span>&#34;</span></span>      <span><span>#</span> Override just for this project</span>
<span><span>#</span> python still inherited!</span></pre></div>
<h3 dir="auto">ğŸ­ <strong>Powerful Wildcard Patterns</strong></h3>
<p dir="auto">Run tasks across multiple projects with ease:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run tests in ALL projects
mise //...:test

# Run all build tasks under services/
mise //services/...:build

# Run ALL tasks in frontend (wildcards need quotes)
mise &#39;//projects/frontend:*&#39;

# Run all test:* tasks everywhere
mise &#39;//...:test:*&#39;"><pre><span><span>#</span> Run tests in ALL projects</span>
mise //...:test

<span><span>#</span> Run all build tasks under services/</span>
mise //services/...:build

<span><span>#</span> Run ALL tasks in frontend (wildcards need quotes)</span>
mise <span><span>&#39;</span>//projects/frontend:*<span>&#39;</span></span>

<span><span>#</span> Run all test:* tasks everywhere</span>
mise <span><span>&#39;</span>//...:test:*<span>&#39;</span></span></pre></div>
<h3 dir="auto">âœ¨ <strong>Consistent Execution Anywhere</strong></h3>
<p dir="auto">Run tasks from anywhere in the monorepo - they always execute with the correct context, tools, and environment from their config_root.</p>
<h3 dir="auto">ğŸ”’ <strong>Automatic Trust Propagation</strong></h3>
<p dir="auto">Trust your monorepo root once, and all descendant configs are automatically trusted.</p>
<h2 dir="auto">Quick Start</h2>
<p dir="auto"><strong>1. Enable the feature in your root <code>mise.toml</code>:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="experimental_monorepo_root = true

[tools]
node = &#34;20&#34;
python = &#34;3.12&#34;"><pre><span>experimental_monorepo_root</span> = <span>true</span>

[<span>tools</span>]
<span>node</span> = <span><span>&#34;</span>20<span>&#34;</span></span>
<span>python</span> = <span><span>&#34;</span>3.12<span>&#34;</span></span></pre></div>
<p dir="auto"><strong>2. Set the experimental flag:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="export MISE_EXPERIMENTAL=1"><pre><span>export</span> MISE_EXPERIMENTAL=1</pre></div>
<p dir="auto"><strong>3. Add tasks to your projects:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="# projects/frontend/mise.toml
[tasks.build]
run = &#34;npm run build&#34;

[tasks.test]
run = &#34;npm test&#34;"><pre><span><span>#</span> projects/frontend/mise.toml</span>
[<span>tasks</span>.<span>build</span>]
<span>run</span> = <span><span>&#34;</span>npm run build<span>&#34;</span></span>

[<span>tasks</span>.<span>test</span>]
<span>run</span> = <span><span>&#34;</span>npm test<span>&#34;</span></span></pre></div>
<p dir="auto"><strong>4. Run tasks from anywhere:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="mise //projects/frontend:build
mise //...:test  # Run tests in all projects!"><pre>mise //projects/frontend:build
mise //...:test  <span><span>#</span> Run tests in all projects!</span></pre></div>
<h2 dir="auto">Example Monorepo Structure</h2>
<div data-snippet-clipboard-copy-content="myproject/
â”œâ”€â”€ mise.toml (experimental_monorepo_root = true)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ api/mise.toml
â”‚   â”œâ”€â”€ worker/mise.toml
â”‚   â””â”€â”€ scheduler/mise.toml
â””â”€â”€ apps/
    â”œâ”€â”€ web/mise.toml
    â””â”€â”€ mobile/mise.toml"><pre><code>myproject/
â”œâ”€â”€ mise.toml (experimental_monorepo_root = true)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ api/mise.toml
â”‚   â”œâ”€â”€ worker/mise.toml
â”‚   â””â”€â”€ scheduler/mise.toml
â””â”€â”€ apps/
    â”œâ”€â”€ web/mise.toml
    â””â”€â”€ mobile/mise.toml
</code></pre></div>
<p dir="auto">Run all service builds: <code>mise //services/...:build</code></p>
<h2 dir="auto">Why This Matters</h2>
<p dir="auto">Managing monorepos is hard. Coordinating tools, tasks, and environments across dozens of projects is even harder. With Monorepo Tasks, you get:</p>
<ul dir="auto">
<li><strong>No more repetitive scripts</strong> - Define once, run anywhere</li>
<li><strong>Consistent environments</strong> - Each project gets exactly the tools it needs</li>
<li><strong>Powerful automation</strong> - Wildcards make CI/CD pipelines a breeze</li>
<li><strong>Better developer experience</strong> - Clear, discoverable task namespacing</li>
</ul>
<h2 dir="auto">How Does This Compare to Other Tools?</h2>
<p dir="auto">The monorepo ecosystem is rich with excellent tools, each with different strengths. Here&#39;s how mise&#39;s Monorepo Tasks compares:</p>
<h3 dir="auto">Simple Task Runners</h3>
<p dir="auto"><strong>Taskfile</strong> and <strong>Just</strong> are fantastic for single-project task automation. They&#39;re lightweight and easy to set up, but they weren&#39;t designed with monorepos in mind. While you can have multiple Taskfiles/Justfiles in a repo, they don&#39;t provide unified task discovery, cross-project wildcards, or automatic tool/environment inheritance across projects.</p>
<p dir="auto"><strong>mise&#39;s advantage:</strong> Automatic task discovery across the entire monorepo with a unified namespace and powerful wildcard patterns.</p>
<h3 dir="auto">JavaScript-Focused Tools</h3>
<p dir="auto"><strong>Nx</strong>, <strong>Turborepo</strong>, and <strong>Lerna</strong> are powerful tools specifically designed for JavaScript/TypeScript monorepos.</p>
<ul dir="auto">
<li><strong>Nx</strong> offers incredible features like dependency graph visualization, affected project detection, code generation, and computation caching. It has a massive plugin ecosystem and excels at frontend monorepos.</li>
<li><strong>Turborepo</strong> focuses on blazing-fast task caching and parallel execution with minimal configuration.</li>
<li><strong>Lerna</strong> pioneered JavaScript monorepo management with package versioning and publishing workflows.</li>
</ul>
<p dir="auto"><strong>mise&#39;s advantage:</strong> Language-agnostic support. While these tools excel in JS/TS ecosystems, mise works equally well with Rust, Go, Python, Ruby, or any mix of languages. You also get unified tool version management (not just tasks) and environment variables across your entire stack.</p>
<h3 dir="auto">Large-Scale Build Systems</h3>
<p dir="auto"><strong>Bazel</strong> (Google) and <strong>Buck2</strong> (Meta) are industrial-strength build systems designed for massive, multi-language monorepos at companies with thousands of engineers.</p>
<ul dir="auto">
<li><strong>Bazel</strong> offers incredible features like distributed caching, remote execution, and hermetic builds with fine-grained dependency tracking.</li>
<li><strong>Buck2</strong> is a modern rewrite with a clean architecture and impressive performance optimizations.</li>
</ul>
<p dir="auto">Both are extremely powerful but come with significant complexity:</p>
<ul dir="auto">
<li>Hermetic builds require strict isolation and complete dependency control</li>
<li>Steep learning curve with specialized DSLs (Starlark, etc.)</li>
<li>Complex configuration requiring dedicated build engineers</li>
<li>Heavy investment in infrastructure for remote caching</li>
<li>Stricter constraints on how you structure your code</li>
</ul>
<p dir="auto"><strong>mise&#39;s advantage:</strong> Simplicity through non-hermetic builds. mise doesn&#39;t try to control your entire build environment in isolation - instead, it manages tools and tasks in a flexible, practical way. This &#34;non-hermetic&#34; approach means you can use mise without restructuring your entire codebase or learning a new language. You get powerful monorepo task management with simple TOML configuration - enough power for most teams without the enterprise-level complexity that hermetic builds require.</p>
<h3 dir="auto">Other Notable Tools</h3>
<p dir="auto"><strong>Rush</strong> (Microsoft) offers strict dependency management and build orchestration for JavaScript monorepos, with a focus on safety and convention adherence.</p>
<p dir="auto"><strong>Moon</strong> is a newer Rust-based build system that aims to be developer-friendly while supporting multiple languages.</p>
<h3 dir="auto">The mise Sweet Spot</h3>
<p dir="auto">mise&#39;s Monorepo Tasks aims to hit the sweet spot between simplicity and power:</p>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th>Feature</th>
<th>Simple Runners</th>
<th>JS-Focused</th>
<th>Build Systems</th>
<th>mise</th>
</tr>
</thead>
<tbody>
<tr>
<td>Multi-language support</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr>
<td>Easy to learn</td>
<td>âœ…</td>
<td><g-emoji alias="warning">âš ï¸</g-emoji></td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td>Unified task discovery</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr>
<td>Wildcard patterns</td>
<td>âŒ</td>
<td><g-emoji alias="warning">âš ï¸</g-emoji></td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr>
<td>Tool version management</td>
<td>âŒ</td>
<td>âŒ</td>
<td><g-emoji alias="warning">âš ï¸</g-emoji></td>
<td>âœ…</td>
</tr>
<tr>
<td>Environment inheritance</td>
<td>âŒ</td>
<td><g-emoji alias="warning">âš ï¸</g-emoji></td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td>Minimal setup</td>
<td>âœ…</td>
<td><g-emoji alias="warning">âš ï¸</g-emoji></td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td>Task caching</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âŒ</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><strong>When to choose mise:</strong></p>
<ul dir="auto">
<li>âœ… Polyglot monorepos (multiple languages)</li>
<li>âœ… You want unified tool + task management</li>
<li>âœ… You prefer simplicity over maximum performance</li>
<li>âœ… You&#39;re already using mise for tool management</li>
</ul>
<p dir="auto"><strong>When to consider alternatives:</strong></p>
<ul dir="auto">
<li>You&#39;re exclusively JavaScript/TypeScript â†’ Nx or Turborepo might offer more JS-specific features</li>
<li>You&#39;re at Google/Meta scale with thousands of engineers â†’ Bazel or Buck2 offer distributed build infrastructure</li>
<li>You need advanced task caching â†’ Nx, Turborepo, or Bazel offer sophisticated caching systems</li>
</ul>
<p dir="auto">The best tool is the one that fits your team&#39;s needs. mise&#39;s Monorepo Tasks is designed for teams who want powerful monorepo management without the complexity overhead, especially when working across multiple languages.</p>
<h2 dir="auto">Try It Out!</h2>
<p dir="auto">This feature is <strong>experimental</strong>, which means:</p>
<ul dir="auto">
<li>âœ… It&#39;s fully functional and ready to use</li>
<li><g-emoji alias="warning">âš ï¸</g-emoji> The API might evolve based on feedback</li>
<li>ğŸ’¬ We&#39;d love to hear your thoughts!</li>
</ul>
<p dir="auto"><strong>Read the full documentation:</strong> <a href="https://mise.jdx.dev/tasks/monorepo.html" rel="nofollow">Monorepo Tasks Guide</a></p>
<h2 dir="auto">We Want Your Feedback!</h2>
<p dir="auto">Please try it out and let us know:</p>
<ul dir="auto">
<li>What works well?</li>
<li>What could be better?</li>
<li>What features are missing?</li>
<li>How are you using it?</li>
</ul>
<p dir="auto">Share your experience in the comments below! ğŸ‘‡</p>
<hr/>
<p dir="auto">Special shoutout to the mise community for the feedback and ideas that led to this feature. Happy building! ğŸ› ï¸</p>
    </td>
  </tr>

    </tbody>
  </div></div>
  </body>
</html>
