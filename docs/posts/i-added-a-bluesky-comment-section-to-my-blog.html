<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://micahcantor.com/blog/bluesky-comment-section.html">Original</a>
    <h1>I added a Bluesky comment section to my blog</h1>
    
    <div id="readability-page-1" class="page"><article><div><p><span>Published on <time datetime="Sat Jan 24 2026">January 24, 2026</time></span></p></div><p>You can now view replies to this blog post made on Bluesky directly on this website. <a href="https://micahcantor.com/blog/bluesky-comment-section#comments">Check it out here</a>!</p>
<p>I&#39;ve always wanted to host a comment section on my site, but it&#39;s difficult because the content is statically generated and hosted on a CDN.
I could host comments on a separate VPS or cloud service.
But maintaining a dynamic web service like this can be expensive and time-consuming â€” in general, I&#39;m not interested in being an unpaid, part-time DevOps engineer.</p>
<p>Recently, however, I read a blog post by <a href="https://www.coryzue.com/writing/bluesky-comments/">Cory Zue</a> about how he embedded a comment section from Bluesky on his blog.
I immediately understood to benefits of this approach. With this approach, Bluesky could handle all of the difficult work involved in managing a social media like account verification, hosting, storage, spam, and moderation. Meanwhile because Bluesky is an open platform with a public API, it&#39;s easy to directly embed comments on my own site.</p>
<p>There are other services that could be used for this purpose instead. Notably, I could embed replies from the social media formerly known as Twitter. Or I could use a platform like <a href="https://disqus.com/">Disqus</a> or even <a href="https://giscus.app/">giscus</a>, which hosts comments on GitHub Discussions. But I see Bluesky as a clearly superior choice among these options. For one, Bluesky is built on top of an open social media platform in AT Proto, meaning it can&#39;t easily be taken over by an authoritarian billionaire creep. Moreover, Bluesky is a full-fledged social media platform, which naturally makes it a better option for hosting a conversation than GitHub.</p>
<p>Zue published a standalone package called <a href="https://github.com/czue/bluesky-comments">bluesky-comments</a> that allows embedding comments in a React component as he did.
But I decided to build this feature myself instead. Mainly this is because I wanted to make a few styling changes anyway to match the rest of my site. But I also wanted to leave the option open to adding more features in the future, which would be easier to do if I wrote the code myself. The entire implementation is small regardless, amounting to only ~200 LOC between the UI components and API functions.</p>
<p>Initially, I planned to allow people to directly post on Bluesky via my site. This would work by providing an OAuth flow that gives my site permission to post on Bluesky on behalf of the user. I actually did get the auth flow working, but building out a UI for posting and replying to existing comments is difficult to do well. Going down this path quickly leads to building what is essentially a custom Bluesky client, which I didn&#39;t have the time or interest in doing right now. Moreover, because the user needs to go through the auth flow and sign-in to their Bluesky account, the process is not really much easier than posting directly on a linked Bluesky post.</p>
<p>Without the requirement of allowing others to directly post on my site, the implementation became much simpler. Essentially, my task was to specify a Bluesky post that corresponds to the article in the site&#39;s metadata. Then, when the page loads I fetch the replies to that post from Bluesky, parse the response, and display the results in a simple comment section UI.</p>
<p>As explained in <a href="https://micahcantor.com/blog/rsc-rewrite">my last post</a>, this site is built using React Server Components and Parcel. The content of my articles are written using MDX, an extension to Markdown that allows directly embedding JavaScript and JSX. In each post, I export a <code>metadata</code> object that I validate using a <a href="https://zod.dev">Zod</a> schema. For instance, the metadata for this post looks like this:</p>
<div data-bright-theme="github-dark"><pre><code><p><span><span>export const </span><span>metadata </span><span>=</span><span> {</span><br/></span></p><p><span><span>	title: </span><span>&#34;I added a Bluesky comment section to my blog&#34;</span><span>,</span><br/></span></p><p><span><span>	description:</span><br/></span></p><p><span><span>		&#34;How I embedded Bluesky replies directly on my site&#34;</span><span>,</span><br/></span></p><p><span><span>	date: </span><span>&#34;2026-01-24&#34;</span><span>,</span><br/></span></p><p><span><span>	bskyPostId: &lt;</span><span>post</span><span>-</span><span>id</span><span>&gt;,</span><br/></span></p><p><span><span>	tags: [</span><span>&#34;web-dev&#34;</span><span>],</span><br/></span></p><p><span><span>};</span><br/></span></p></code></pre></div>
<p>The value of <code>bskyPostId</code> references the Bluesky post from which I&#39;ll pull replies to display in the comment section. Because my project is built in TypeScript, it was easy to integrate with the Bluesky TypeScript SDK (<code>@bluesky/api</code> on NPM). Reading the Bluesky API documentation and Zue&#39;s implementation led me to the <a href="https://docs.bsky.app/docs/api/app-bsky-feed-get-post-thread"><code>getPostThread</code> endpoint</a>. Given an AT Protocol URI, this endpoint returns an object with data on the given post and its replies.</p>
<p>I could have interacted directly with the Bluesky API from my React component using <code>fetch</code> and <code>useEffect</code>. However, it can be a bit tricky to correctly handle loading and a error states, even for a simple feature like this. Because of this, I decided to use the <a href="https://tanstack.com/query/latest">Tanstack <code>react-query</code> package</a> to manage the API request/response cycle. This library takes care of the messy work of handling errors, retries, and loading states while I simply provide it a function to fetch the post data.</p>
<p>Once I obtain the Bluesky response, the next task is parsing out the content and metadata for the replies. Bluesky supports a rich content structure in its posts for representing markup, references, and attachments. Building out a UI that fully respects this rich content would be difficult. Instead, I decided to keep it simple by just pulling out the text content from each reply.</p>
<p>Even so, building a UI that properly displays threaded comments, particularly one that is formatted well on small mobile devices, can be tricky. For now, my approach was to again keep it simple. I indented each reply and added a left border to make it easier to follow reply threads. Otherwise, I mostly copied design elements for layout of the profile picture and post date from Bluesky.</p>
<p>Lastly, I added a UI component linking to the parent post on Bluesky, and encouraging people to add to the conversation there. With this, the read-only comment section implementation was complete. If there&#39;s interest, I could publish my version of Bluesky comments as a standalone package. But several of the choices I made were relatively specific to my own site. Moreover, the implementation is simple enough that others could probably build their own version from reading the source code, just as I did using Zue&#39;s version.</p>
<p>Let me know what you think by replying on Bluesky. Hopefully this can help increase engagement with my blog posts, but then again, my last article generated no replies, so maybe not ðŸ˜­.</p></article></div>
  </body>
</html>
