<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://alicegg.tech//2024/02/14/echarts.html">Original</a>
    <h1>A love letter to Apache Echarts</h1>
    
    <div id="readability-page-1" class="page"><div><div><pre><code><span>const</span> <span>candles</span> <span>=</span> <span>echarts</span><span>.</span><span>init</span><span>(</span><span>document</span><span>.</span><span>getElementById</span><span>(</span><span>&#39;candles&#39;</span><span>));</span>
<span>candles</span><span>.</span><span>setOption</span><span>({</span>
  <span>title</span><span>:</span> <span>{</span> <span>text</span><span>:</span> <span>&#39;Apple Inc. Week 6 2024&#39;</span> <span>},</span>
  <span>tooltip</span><span>:</span> <span>{},</span>
  <span>dataset</span><span>:</span> <span>{</span>
    <span>source</span><span>:</span> <span>[</span>
      <span>[</span><span>&#39;date&#39;</span><span>,</span> <span>&#39;close&#39;</span><span>,</span> <span>&#39;open&#39;</span><span>,</span> <span>&#39;lowest&#39;</span><span>,</span> <span>&#39;highest&#39;</span><span>,</span> <span>&#39;volume&#39;</span><span>,</span> <span>&#39;sma50&#39;</span><span>],</span>
      <span>[</span><span>&#39;2024-02-09&#39;</span><span>,</span> <span>188.85</span><span>,</span> <span>188.65</span><span>,</span> <span>188.00</span><span>,</span> <span>189.99</span><span>,</span> <span>45155216.0</span><span>,</span> <span>190.48</span><span>],</span>
      <span>[</span><span>&#39;2024-02-08&#39;</span><span>,</span> <span>188.32</span><span>,</span> <span>189.38</span><span>,</span> <span>187.35</span><span>,</span> <span>189.54</span><span>,</span> <span>40962047.0</span><span>,</span> <span>190.51</span><span>],</span>
      <span>[</span><span>&#39;2024-02-07&#39;</span><span>,</span> <span>189.41</span><span>,</span> <span>190.64</span><span>,</span> <span>188.61</span><span>,</span> <span>191.05</span><span>,</span> <span>53438961.0</span><span>,</span> <span>190.54</span><span>],</span>
      <span>[</span><span>&#39;2024-02-06&#39;</span><span>,</span> <span>189.30</span><span>,</span> <span>186.86</span><span>,</span> <span>186.77</span><span>,</span> <span>189.31</span><span>,</span> <span>43490762.0</span><span>,</span> <span>190.55</span><span>],</span>
      <span>[</span><span>&#39;2024-02-05&#39;</span><span>,</span> <span>187.68</span><span>,</span> <span>188.15</span><span>,</span> <span>185.84</span><span>,</span> <span>189.25</span><span>,</span> <span>69668812.0</span><span>,</span> <span>190.59</span><span>],</span>
    <span>],</span>
  <span>},</span>
  <span>xAxis</span><span>:</span> <span>{</span>
    <span>type</span><span>:</span> <span>&#39;time&#39;</span><span>,</span> <span>// automatically parses the dates</span>
  <span>},</span>
  <span>yAxis</span><span>:</span> <span>[</span>
    <span>// scaled axis for the price</span>
    <span>{</span> <span>name</span><span>:</span> <span>&#39;Price&#39;</span><span>,</span> <span>scale</span><span>:</span> <span>true</span> <span>},</span>
    <span>// hidden axis for the volume</span>
    <span>{</span>
      <span>max</span><span>:</span> <span>150000000</span><span>,</span>
      <span>scale</span><span>:</span> <span>true</span><span>,</span>
      <span>axisLabel</span><span>:</span> <span>{</span> <span>show</span><span>:</span> <span>false</span> <span>},</span>
      <span>axisLine</span><span>:</span> <span>{</span> <span>show</span><span>:</span> <span>false</span> <span>},</span>
      <span>splitLine</span><span>:</span> <span>{</span> <span>show</span><span>:</span> <span>false</span> <span>},</span>
    <span>},</span>
  <span>],</span>
  <span>series</span><span>:</span> <span>[</span>
    <span>// this creates a candlestick chart using cols [0-5]</span>
    <span>{</span>
      <span>type</span><span>:</span> <span>&#39;candlestick&#39;</span><span>,</span>
      <span>yAxisIndex</span><span>:</span> <span>0</span><span>,</span>
      <span>tooltip</span><span>:</span> <span>{</span>
	<span>formatter</span><span>:</span> <span>(</span><span>param</span><span>)</span> <span>=&gt;</span> <span>`
	  Date: </span><span>${</span><span>param</span><span>.</span><span>value</span><span>[</span><span>0</span><span>]}</span><span>&lt;br /&gt;
	  Open: </span><span>${</span><span>param</span><span>.</span><span>value</span><span>[</span><span>2</span><span>]}</span><span>&lt;br /&gt;
	  High: </span><span>${</span><span>param</span><span>.</span><span>value</span><span>[</span><span>4</span><span>]}</span><span>&lt;br /&gt;
	  Low: </span><span>${</span><span>param</span><span>.</span><span>value</span><span>[</span><span>3</span><span>]}</span><span>&lt;br /&gt;
	  Close: </span><span>${</span><span>param</span><span>.</span><span>value</span><span>[</span><span>1</span><span>]}</span><span>&lt;br /&gt;
	`</span><span>,</span>
      <span>},</span>
    <span>},</span>
    <span>// the volume gets mapped to a bar chart</span>
    <span>{</span>
      <span>type</span><span>:</span> <span>&#39;bar&#39;</span><span>,</span>
      <span>encode</span><span>:</span> <span>{</span> <span>x</span><span>:</span> <span>&#39;date&#39;</span><span>,</span> <span>y</span><span>:</span> <span>&#39;volume&#39;</span> <span>},</span>
      <span>yAxisIndex</span><span>:</span> <span>1</span><span>,</span>
      <span>tooltip</span><span>:</span> <span>{</span>
	<span>formatter</span><span>:</span> <span>(</span><span>param</span><span>)</span> <span>=&gt;</span> <span>`Volume: </span><span>${</span><span>param</span><span>.</span><span>value</span><span>[</span><span>5</span><span>]}</span><span>`</span><span>,</span>
      <span>},</span>
    <span>},</span>
    <span>// SMA line</span>
    <span>{</span>
      <span>type</span><span>:</span> <span>&#39;line&#39;</span><span>,</span>
      <span>encode</span><span>:</span> <span>{</span> <span>x</span><span>:</span> <span>&#39;date&#39;</span><span>,</span> <span>y</span><span>:</span> <span>&#39;sma50&#39;</span> <span>},</span>
      <span>yAxisIndex</span><span>:</span> <span>0</span><span>,</span>
      <span>tooltip</span><span>:</span> <span>{</span>
	<span>formatter</span><span>:</span> <span>(</span><span>param</span><span>)</span> <span>=&gt;</span> <span>`SMA50: </span><span>${</span><span>param</span><span>.</span><span>value</span><span>[</span><span>6</span><span>]}</span><span>`</span><span>,</span>
      <span>},</span>
    <span>},</span>
  <span>],</span>
<span>});</span>
</code></pre></div>  </div></div>
  </body>
</html>
