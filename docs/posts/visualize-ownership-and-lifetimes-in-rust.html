<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/cordx56/rustowl">Original</a>
    <h1>Visualize Ownership and Lifetimes in Rust</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto">
    
    <p dir="auto">
        Visualize ownership and lifetimes in Rust for debugging and optimization
    </p>
    <p dir="auto">
        <a target="_blank" rel="noopener noreferrer" href="https://github.com/cordx56/rustowl/blob/main/docs/readme-screenshot.png"><img src="https://github.com/cordx56/rustowl/raw/main/docs/readme-screenshot.png"/></a>
    </p>
</div>
<p dir="auto">RustOwl visualizes ownership movement and lifetimes of variables.
When you save Rust source code, it is analyzed, and the ownership and lifetimes of variables are visualized when you hover over a variable or function call.</p>
<p dir="auto">RustOwl visualizes those by using underlines:</p>
<ul dir="auto">
<li>ðŸŸ© green: variable&#39;s actual lifetime</li>
<li>ðŸŸ¦ blue: immutable borrowing</li>
<li>ðŸŸª purple: mutable borrowing</li>
<li>ðŸŸ§ orange: value moved / function call</li>
<li>ðŸŸ¥ red: lifetime error - diff of lifetime between actual and expected</li>
</ul>
<p dir="auto">Currently, we offer VSCode extension, Neovim plugin and Emacs package.
For these editors, move the text cursor over the variable or function call you want to inspect and wait for 2 seconds to visualize the information.
We implemented LSP server <code>cargo owlsp</code> with an extended protocol.
So, RustOwl can be used easily from other editor.</p>

<p dir="auto">Here we describe how to start using RustOwl with VSCode.</p>

<ul dir="auto">
<li><code>curl</code>, <code>rustup</code> and <code>cargo</code> installed</li>
<li>Visual Studio Code (VSCode) installed</li>
</ul>
<p dir="auto">We tested this guide on macOS Sequoia 15.2 on arm64 architecture with VSCode 1.96.4 and <code>rustup</code> 1.27.1.</p>
<p dir="auto">We also tested this guide on Ubuntu 25.04 on arm64 architecture with VSCode 1.96.4 and <code>rustup</code> 1.27.1.
On Ubuntu, you need to run <code>apt install build-essential</code> before installing.</p>
<p dir="auto">After installation, the extension will automatically run RustOwl when you save any Rust program in cargo workspace.
The initial analysis may take some time, but from the second run onward, compile caching is used to reduce the analysis time.</p>
<p dir="auto">We tested on Windows 11 Education 23H2 on amd64 architecture.
For Windows, please clone this repository and build RustOwl manually.</p>

<p dir="auto">To install RustOwl command, run the command below.</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -L &#34;https://github.com/cordx56/rustowl/releases/download/v0.1.1/install.sh&#34; | sh"><pre>curl -L <span><span>&#34;</span>https://github.com/cordx56/rustowl/releases/download/v0.1.1/install.sh<span>&#34;</span></span> <span>|</span> sh</pre></div>

<p dir="auto">You can install VSCode extension from <a href="https://marketplace.visualstudio.com/items?itemName=cordx56.rustowl-vscode" rel="nofollow">this link</a>.</p>
<p dir="auto">Also, you can download VSCode extension file ( <code>.vsix</code> ) from <a href="https://github.com/cordx56/rustowl/releases/download/v0.1.1/rustowl-vscode-0.1.1.vsix">this link</a>.</p>

<p dir="auto">We support Neovim and Emacs.
You can also create your own LSP client.</p>

<p dir="auto">Add to plugin manager:</p>
<div data-snippet-clipboard-copy-content="{ &#34;cordx56/rustowl&#34;, dependencies = { &#34;neovim/nvim-lspconfig&#34; } }"><pre><code>{ &#34;cordx56/rustowl&#34;, dependencies = { &#34;neovim/nvim-lspconfig&#34; } }
</code></pre></div>

<p dir="auto">Elpaca example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="(elpaca
  (rustowlsp
    :host github
    :repo &#34;cordx56/rustowl&#34;
    :files (:defaults &#34;emacs/*&#34;)))"><pre>(elpaca
  (rustowlsp
    <span>:host</span> github
    <span>:repo</span> <span><span>&#34;</span>cordx56/rustowl<span>&#34;</span></span>
    <span>:files</span> (<span>:defaults</span> <span><span>&#34;</span>emacs/*<span>&#34;</span></span>)))</pre></div>

<p dir="auto">Here, we describe manual install instructions from source code.</p>


<ul dir="auto">
<li><code>rustup</code> and <code>cargo</code> installed
<ul dir="auto">
<li>You can install <code>rustup</code> from <a href="https://rustup.rs/" rel="nofollow">this link</a>.</li>
<li>You need to set up the <code>PATH</code> environment variable. To do this, follow the instructions provided by the <code>rustup</code> installer. For example, in bash, run <code>export PATH=$HOME/.cargo/bin:$PATH</code>.</li>
</ul>
</li>
</ul>
<p dir="auto">RustOwl has been tested on macOS Sequoia 15.2 on arm64 architecture with <code>rustup</code> 1.27.1.
We have not tested the installation of dependencies from other package repositories, such as Homebrew.
You may need to uninstall any Rust-related packages installed through those repositories first.
Other dependencies are locked in the configuration files and will be installed automatically.</p>
<p dir="auto">We have also tested this on Ubuntu 25.04 on arm64 architecture with <code>rustup</code> 1.27.1.
Additional dependencies may be required.
We have confirmed that running <code>apt install build-essential</code> is necessary on a freshly installed Ubuntu for linking.</p>

<div dir="auto" data-snippet-clipboard-copy-content="cd rustowl
cargo install --path . --locked
cargo owlsp"><pre><span>cd</span> rustowl
cargo install --path <span>.</span> --locked
cargo owlsp</pre></div>


<ul dir="auto">
<li>VSCode installed
<ul dir="auto">
<li>You can install VSCode from <a href="https://code.visualstudio.com/" rel="nofollow">this link</a>.</li>
</ul>
</li>
<li>Node.js installed</li>
<li><code>yarn</code> installed
<ul dir="auto">
<li>After installing Node.js, You can install <code>yarn</code> by running <code>npm install -g yarn</code>.</li>
</ul>
</li>
</ul>
<p dir="auto">VSCode extension has been tested on macOS Sequoia 15.2 on arm64 architecture with Visual Studio Code 1.96.4, Node.js v20.16.0, and <code>yarn</code> 1.22.22.
Other dependencies are locked in the configuration files and will be installed automatically.</p>

<p dir="auto">First, install the dependencies.</p>
<div dir="auto" data-snippet-clipboard-copy-content="cd vscode
yarn install --frozen-lockfile"><pre><span>cd</span> vscode
yarn install --frozen-lockfile</pre></div>
<p dir="auto">Then open <code>vscode</code> directory in VSCode.</p>
<p dir="auto">A notification to install the recommended VSCode extension will appear in the bottom right corner of VSCode.
Click the install button, wait for the installation to finish, and then restart VSCode.</p>
<p dir="auto">Open <code>vscode</code> directory again, and press the <code>F5</code> key in the VSCode window.
A new VSCode window with the extension enabled will appear.</p>
<p dir="auto">Open cargo workspace directory in the new VSCode window.</p>
<p dir="auto">When you save Rust files, decoration indicating the movement of ownership and lifetimes will appear in the editor.</p>

<p dir="auto">In this tool, due to the limitations of VSCode&#39;s decoration specifications, characters with descenders, such as g or parentheses, may occasionally not display underlines properly.
Additionally, we observed that the <code>println!</code> macro sometimes produces extra output, though this does not affect usability in any significant way.</p>
</article></div></div>
  </body>
</html>
