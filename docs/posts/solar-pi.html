<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://george.mand.is/2024/10/solar-pi/">Original</a>
    <h1>Solar Pi</h1>
    
    <div id="readability-page-1" class="page"><div><article><section><header><p><time datetime="2024-10-13">October 13th, 2024</time> • ~600 words • 3 minute read</p></header><p>This weekend I cobbled together all the pieces to debut a truly MVP version of what I&#39;m dubbing <strong>Solar Pi</strong>:</p><ul><li><a href="https://solar.mandis.dev">https://solar.mandis.dev</a></li></ul><p>It&#39;s a solar-powered website! Please give it a spin.</p><p>There&#39;s not a lot there at the moment. It&#39;s quite meta, mostly reporting on how it&#39;s doing, the current weather and speculating about how well it&#39;s going to fare over the coming week.</p><p>You might be wondering where I&#39;m hosting this. Some forward-thinking, renewable-energy focused colocation startup in Brooklyn perhaps?</p><p>Oh my goodness, no.</p><p>The machine is just a <a href="https://www.raspberrypi.com/products/raspberry-pi-zero-2-w/">Raspberry Pi Zero</a> sitting outside on my terrace, shielded from the elements inside a <a href="https://www.amazon.com/dp/B0799CVNK5?th=1&amp;linkCode=ll1&amp;tag=georgemandis-20&amp;linkId=a2c1b2351ac8d2dc78cd4a938d2ea205&amp;language=en_US&amp;ref_=as_li_ss_tl">cute little potting table</a>, connected to a portable charger which is being kept alive by a <a href="https://www.amazon.com/dp/B0C4NCK9JP?th=1&amp;linkCode=ll1&amp;tag=georgemandis-20&amp;linkId=1dcca23160e9867f57a2e4d48e0b45fa&amp;language=en_US&amp;ref_=as_li_ss_tl">small solar panel</a>.</p><p>I was inspired by <a href="https://solar.lowtechmagazine.com">Low-tech Magazine</a> many years ago and finally got around to taking my own crack at the idea.</p><p>Here are some fun details about how it works:</p><ul><li>The server is <a href="http://caddyserver.com">Caddy</a> and I&#39;m using a <a href="https://github.com/cloudflare/cloudflared">Cloudflare Tunnel</a> to connect it to my domain and expose it to the internet.</li><li>The page is generated by a bash script that makes several <a href="https://elinux.org/RPI_vcgencmd_usage">vcgencmd</a> calls (among others) to try and get a read on the health of the system.</li><li>I&#39;m using the <a href="https://www.weather.gov/documentation/services-web-api">National Weather Service API</a> to pull forecast and recent data from the closet weather station to me. This was kind of fun!</li><li>I have <a href="https://shop.zimaboard.com">another little computer</a> hanging around that&#39;s periodically pinging the site to make sure it&#39;s still around. This is where the uptime metric is coming from.</li><li>It&#39;s a bit of a gimmick, but I couldn&#39;t resist piping the diagnostic and weather data into a could of <a href="https://llm.datasette.io/en/stable/">LLM</a> calls to generate a high-level summary of how it&#39;s faring and likely to fare. Yes, even my garden computer is not safe from AI.</li><li>The whole web page is generated from a single bash script that outputs Markdown and pipes it into <a href="https://pandoc.org">pandoc</a>, of all things. I&#39;ve been on a real pandoc kick lately.</li></ul><p>Here are some ideas about what I&#39;d like to do next:</p><ul><li>Figure out a more sophisticated battery situation.<ul><li>The current setup works, but I have no way of knowing how low the battery is short of walking out there and checking or noticing that the Solar Pi is starting to throttle.</li><li>It&#39;s actually a <em>little</em> dangerous for the Pi. Although I&#39;ve pulled the power cable directly out of my Pis enough times to feel comfortable with the risk, gracefully powering the thing down is safer.</li><li>There are a lot of options here: I could buy a fancier power bank possibly with Bluetooth connectivity that would let me programmatically monitor the battery status. I could also buy a cheap USB multimeter or a battery gauge. I haven&#39;t quite decided yet.</li><li>If I can build something that monitors the battery health I can power cycle the Solar Pi to try and conserve energy.</li></ul></li><li>Think about how to hyper-optimize the content being served to further reduce energy consumption. Is it more energy-efficient to serve a Brotli-compressed 1kb page or an uncompressed 2kb page? I know which one is <em>faster</em> but does that always translate to energy efficiency? I&#39;m not sure!</li><li>Setup fun little sensors to build my own little weather station right outside my door. Or maybe take a photo of the sunsets over downtow Brooklyn?</li><li>Build a cold frame greenhouse next to the table, buy more sensors and have the machine monitor my little outdoor garden?</li><li>Further inspired by the Low-tech Magazine, maybe I write content and post it there, but in a way that&#39;s distinctly separate from my blog.</li><li>Make it more of an interactive art project, encouraging people to post or share things there, but not back anything up and lean?</li></ul><p>I&#39;ll try to write a follow-up soon that&#39;s more instructional and include photos and code!</p></section></article></div></div>
  </body>
</html>
