<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://danielchasehooper.com/posts/cracked-sudoku/">Original</a>
    <h1>A new Sudoku layout with 81 uniquely shaped cells</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>March 12, 2025・5 minute read</p><div><p>Something productive finally came from my daily Sudoku habit: I invented a new type of puzzle that I call “Cracked Sudoku”. It’s named after <a href="https://duckduckgo.com/?t=h_&amp;q=cracked+dirt&amp;iax=images&amp;ia=images" target="_blank" rel="noopener">cracked dirt</a>:</p><p><a href="https://danielchasehooper.com/projects/cracked-sudoku"><img src="https://danielchasehooper.com/posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_675x0_resize_box_3.png" width="675" srcset="/posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_1200x0_resize_box_3.png 3x, /posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_1200x0_resize_box_3.png 2x, /posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_675x0_resize_box_3.png 1x" alt="A Cracked Sudoku puzzle"/></a></p><p>Even though it looks weird, the rules should feel familiar to Sudoku fans:</p><blockquote><p>Fill the cells with numbers 1-9 without repeating numbers in a dark-outlined group or along a colored run line.</p></blockquote><p>Give it a try:</p><p><a href="https://danielchasehooper.com/projects/cracked-sudoku/" target="_blank">Play Cracked Sudoku</a></p><h2 id="designing-the-ruleset">Designing the Ruleset</h2><p>Those of you with a life may be unaware that the past 10 years have seen an explosion of alternative Sudoku rules:</p><blockquote><p>German Whisper Lines, Dutch flat mates, Killer cages, Yin-yang (My favorite), Fog-of-war, Sum arrows, Even &amp; Odd squares, Thermometers, Black dots, White dots, Jigsaw Sudo, Renban lines, Nabner lines, Star Battle, Masyu loop, Inequality signs, Region sum lines</p></blockquote><p>Whew.</p><p>Despite all the innovation in <em>rules</em>, there has been comparatively little innovation in <em>layout</em>. Pretty much all Sudoku use a 9x9 grid. There are variants using hexagons or triangles, but they’re rare and the solving experience isn’t that different from a grid.</p><p>To address this, I realized that it’s possible to tweak Sudoku’s rules to allow for cells of any shape, which produces a different layout on every puzzle:</p><p><img src="https://danielchasehooper.com/posts/cracked-sudoku/layouts_hu0d6b0adbc60ad5fdacf3d9060a606c8b_283091_675x0_resize_box_3.png" width="675" srcset="/posts/cracked-sudoku/layouts_hu0d6b0adbc60ad5fdacf3d9060a606c8b_283091_1350x0_resize_box_3.png 3x, /posts/cracked-sudoku/layouts_hu0d6b0adbc60ad5fdacf3d9060a606c8b_283091_1350x0_resize_box_3.png 2x, /posts/cracked-sudoku/layouts_hu0d6b0adbc60ad5fdacf3d9060a606c8b_283091_675x0_resize_box_3.png 1x" alt="Examples of several Cracked Sudoku layouts"/></p><p>These layouts are generated from <a href="https://en.wikipedia.org/wiki/Voronoi_diagram" target="_blank" rel="noopener">Voronoi Diagrams</a>, but you could design a Cracked Sudoku other ways too.</p><p>They still have 81 cells in 9 groups just like classic Sudoku. However instead of “rows” and “columns” Cracked Sudoku have “runs”. Runs are a strip of 2 to 9 cells that can’t contain repeated numbers. Here’s one puzzle with its runs shown:</p><p><img src="https://danielchasehooper.com/posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_675x0_resize_box_3.png" width="675" srcset="/posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_1200x0_resize_box_3.png 3x, /posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_1200x0_resize_box_3.png 2x, /posts/cracked-sudoku/all-runs_hu882a44fb1927a5f398f2930029f3338e_310836_675x0_resize_box_3.png 1x" alt="All runs in a Cracked Sudoku"/></p><p>The randomly assigned line colors exist only to help distinguish separate runs<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.</p><p>The puzzle generator I wrote (more on that in a bit) creates runs based on the cell layout: Runs connect all neighboring cells and can continue through the opposite side to form a longer run. “Opposite” for a N-sided polygon means “two sides that are N/2 sides away from each other”. That’s a confusing explanation for something I hope you intuitively understand from the image above. Runs terminate on cells with an odd number of sides because the concept of “opposite sides” doesn’t work with an odd number of sides.</p><p>A human constructor could place runs wherever they like.</p><h2 id="weird-runs">Weird Runs</h2><p>Runs can form interesting structures. Here, the green and orange runs cross in more than one cell:</p><p><img src="https://danielchasehooper.com/posts/cracked-sudoku/crossed_hu6d6e418b89ee5fc74e24be076807f1e1_167828_675x0_resize_box_3.png" width="675" srcset="/posts/cracked-sudoku/crossed_hu6d6e418b89ee5fc74e24be076807f1e1_167828_1200x0_resize_box_3.png 3x, /posts/cracked-sudoku/crossed_hu6d6e418b89ee5fc74e24be076807f1e1_167828_1200x0_resize_box_3.png 2x, /posts/cracked-sudoku/crossed_hu6d6e418b89ee5fc74e24be076807f1e1_167828_675x0_resize_box_3.png 1x" alt="Two runs that cross in more than one cell"/></p><p>Theoretically my generator could produce a run forming a loop, but I didn’t encounter any. If my generator were to produce a loop under its run logic, it would need a layout like this:</p><p><img src="https://danielchasehooper.com/posts/cracked-sudoku/loop_hu412ef079766e4c5c2b277a9fd5f5dcaa_14045_675x0_resize_box_3.png" width="675" srcset="/posts/cracked-sudoku/loop_hu412ef079766e4c5c2b277a9fd5f5dcaa_14045_818x0_resize_box_3.png 3x, /posts/cracked-sudoku/loop_hu412ef079766e4c5c2b277a9fd5f5dcaa_14045_818x0_resize_box_3.png 2x, /posts/cracked-sudoku/loop_hu412ef079766e4c5c2b277a9fd5f5dcaa_14045_675x0_resize_box_3.png 1x" alt="A run forming a loop"/></p><h2 id="puzzle-generation">Puzzle Generation</h2><p>Human-designed puzzles are more interesting to solve than computer generated, so ideally I’d have a human designed Cracked Sudoku for you (and me!). Unfortunately I’m not an experienced puzzle constructor, so I wrote a puzzle generator.</p><p>It works in 4 phases:</p><ol><li>Layout generation: Randomly place 81 points and generate the Voronoi diagram for them. If the diagram has any runs longer than 9, restart step 1.</li><li>Make 9 groups of 9 cells. This loops through the groups, adding one cell each time, and backtracks if a group is “pinned in” by the other groups.</li><li>Fill cells with numbers. This picks random numbers for each cell and backtracks if a conflict is found. There is often no solution so I have to go all the way back to where I left off in step 2 to try a different grouping. After several failed groupings I give up and go back to step 1.</li><li>Reduce the given numbers. Loop through each cell, clearing it’s value and checking if the puzzle still has exactly one solution. If not, I put the value back.</li></ol><p>And with that, I could generate Cracked Sudoku. I left it running long enough generate thousands of puzzles – enough for several years of daily puzzles.</p><h2 id="future-work">Future work</h2><p>A few things I’d do if I kept working on this:</p><ol><li>Try other layouts: concave polygons. curved dividing lines. etc. My gut tells me the puzzle rules still work for concave polygons, but you’d have to use something other than Voronoi Diagrams to generate them.</li><li>Experiment with different group shapes. I think it be cool to make a puzzle where one group completely encircles another group</li><li>Ensure cells have a minimum area and edges a minimum length.</li><li>Make the generator produce puzzles with more long runs.</li><li>Prevent groupings from being too “jagged”, this is just a matter of taste.</li><li>Manually design a cracked Sudoku. I’d like to experiment with unique cell layouts to purposely create looped runs. I also think there is opportunity for a color-by-numbers puzzle that reveals something when you “color all even numbers brown” or whatever. Which leads me to…</li></ol><h2 id="a-call-for-puzzle-constructors">A Call for Puzzle Constructors</h2><p>Have you made a Sudoku that was featured by <a href="https://www.youtube.com/c/CrackingTheCryptic" target="_blank" rel="noopener">Cracking the Cryptic</a>? If so, I would love to coauthor a human-made Cracked Sudoku and have Cracking the Cryptic solve it (a nerd dream of mine). I don’t have enough construction experience to make a high quality one by myself. Email “daniel” at this website’s domain if you’re interested. For everyone else, subscribe to my newsletter to be alerted about the first human-made Cracked Sudoku.</p><h2 id="try-it">Try it</h2><p>You can play Cracked Sudoku <a href="https://danielchasehooper.com/projects/cracked-sudoku/">here</a>. It has a new puzzle every day, just like Wordle.</p><p><a href="https://danielchasehooper.com/projects/cracked-sudoku/">Play Cracked Sudoku</a></p></div><p>❖</p><div><p>Get notified about my next article:</p></div></div></div></div>
  </body>
</html>
