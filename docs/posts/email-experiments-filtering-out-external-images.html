<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.terracrypt.net/posts/email-experiments-image-filtering.html">Original</a>
    <h1>Email experiments: filtering out external images</h1>
    
    <div id="readability-page-1" class="page"><div><p>I had a realization the other day that, on almost every email in my inbox, my mail client has a &#34;show external images&#34; option. Most email I receive references externally loaded images via HTML. There are good reasons for this (not needing to send a copy of an image in every email on a newsletter) as well as nefarious reasons (the remote server can track where/when you load the image). So most mail clients I&#39;ve used don&#39;t load them by default for obvious privacy reasons.</p><p>This got me thinking about the reverse, though: what email do I receive that does <em>not</em> include external images? And the answer is, mostly, email sent manually by a real human! I&#39;m fairly certain I&#39;ve never sent an email to another person in my personal life with an externally loaded image in it. When I have, it&#39;s been work email with a standard corporate email signature (that I&#39;m sure was being tracked, natch). Mostly, when sending images to someone, they&#39;re sent as attachments to the email.</p><p>So I had a realization that, if I wanted to naturally filter email that was sent by hand from email sent from an automated system, this might be a decent proxy for that. Here&#39;s the sieve rule I landed on for now:</p><pre><code>if body :regex &#34;&lt;img[^&gt;]*src=\&#34;https&#34; {
  fileinto &#34;Inbox.Automated&#34;;
}</code></pre><p>(Yes, it&#39;s typically folly to regex on HTML. This is a simple enough match though that I hope it&#39;s fine!)</p><p>So far, after a day or so of usage, it&#39;s been shockingly effective. There&#39;s enough potentially important stuff in my Automated folder that I will need to check that fairly frequently, but the one email that&#39;s made it through this filter into my normal inbox is one sent by hand to a mailman list. Honestly, I&#39;ll take it! This makes the volume of email in my normal inbox much much more manageable, and I expect most mail that lands there will be things I actually do want to pay attention to.</p><p>Probably you&#39;ll want to have another rule that prevents you from running this for email from people in your contacts. I haven&#39;t done that yet, but that&#39;ll be a natural next step.</p><p>This is part of my <a href="https://www.terracrypt.net/posts/tags/da2025.html">December Adventure 2025 series</a>.</p></div></div>
  </body>
</html>
