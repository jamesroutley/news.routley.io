<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/aws/s2n-quic">Original</a>
    <h1>S2n-QUIC (Rust implementation of QUIC)</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto"><code>s2n-quic</code> is a Rust implementation of the <a href="https://quicwg.org/" rel="nofollow">IETF QUIC protocol</a>, featuring:</p>
<ul dir="auto">
<li>a simple, easy-to-use API. See <a href="https://github.com/aws/s2n-quic/blob/main/examples/echo/src/bin/quic_echo_server.rs">an example</a> of an s2n-quic echo server built with just a few API calls</li>
<li>high configurability using <a href="https://docs.rs/s2n-quic/latest/s2n_quic/provider/index.html" rel="nofollow">providers</a> for granular control of functionality</li>
<li>extensive automated testing, including fuzz testing, integration testing, unit testing, snapshot testing, efficiency testing, performance benchmarking, interopability testing and <a href="https://github.com/aws/s2n-quic/blob/main/docs/ci.md">more</a></li>
<li>integration with <a href="https://github.com/aws/s2n-tls">s2n-tls</a>, AWS&#39;s simple, small, fast and secure TLS implementation, as well as <a href="https://crates.io/crates/rustls" rel="nofollow">rustls</a></li>
<li>thorough <a href="https://github.com/aws/s2n-quic/blob/main/docs/ci.md#compliance">compliance coverage tracking</a> of normative language in relevant standards</li>
<li>and much more, including <a href="https://www.rfc-editor.org/rfc/rfc8312.html" rel="nofollow">CUBIC congestion controller</a> support, <a href="https://www.rfc-editor.org/rfc/rfc9002.html#name-pacing" rel="nofollow">packet pacing</a>, <a href="https://lwn.net/Articles/188489/" rel="nofollow">Generic Segmentation Offload</a> support, <a href="https://www.rfc-editor.org/rfc/rfc8899.html" rel="nofollow">Path MTU discovery</a>, and unique <a href="https://www.rfc-editor.org/rfc/rfc9000.html#name-connection-id" rel="nofollow">connection identifiers</a> detached from the address</li>
</ul>
<p dir="auto">See the <a href="https://docs.rs/s2n-quic" rel="nofollow">API documentation</a> and <a href="https://github.com/aws/s2n-quic/tree/main/examples">examples</a> to get started with <code>s2n-quic</code>.</p>
<p dir="auto"><a href="https://crates.io/crates/s2n-quic" rel="nofollow"><img src="https://camo.githubusercontent.com/6cb000e9a036cf556cbef623310e003eff9a17a7af817689b28b79edf5b918e8/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f73326e2d717569632e737667" alt="Crates.io" data-canonical-src="https://img.shields.io/crates/v/s2n-quic.svg"/></a>
<a href="https://docs.rs/s2n-quic" rel="nofollow"><img src="https://camo.githubusercontent.com/0ac9bc74207425ca742e206727e32586995a454a9a73da8e61fb8a31c3142905/68747470733a2f2f696d672e736869656c64732e696f2f646f637372732f73326e2d717569632e737667" alt="docs.rs" data-canonical-src="https://img.shields.io/docsrs/s2n-quic.svg"/></a>
<a href="https://aws.amazon.com/apache-2-0/" rel="nofollow"><img src="https://camo.githubusercontent.com/f1cfacc4ef872a2c99327e3d286764818e1835427fcd92da024d0d3ececa71f3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d6170616368652d626c75652e737667" alt="Apache 2.0 Licensed" data-canonical-src="https://img.shields.io/badge/license-apache-blue.svg"/></a>
<a href="https://github.com/aws/s2n-quic/actions/workflows/ci.yml?query=branch%3Amain"><img src="https://github.com/aws/s2n-quic/workflows/ci/badge.svg" alt="Build Status"/></a>
<a href="https://crates.io/crates/s2n-quic/dependencies" rel="nofollow"><img src="https://camo.githubusercontent.com/279d724dd3696533a2bc1b15373abae9def035f3cad992b9fa7a8d1fc7b4305b/68747470733a2f2f696d672e736869656c64732e696f2f6c6962726172696573696f2f72656c656173652f636172676f2f73326e2d717569632e737667" alt="Dependencies" data-canonical-src="https://img.shields.io/librariesio/release/cargo/s2n-quic.svg"/></a>
<a href="https://blog.rust-lang.org/2021/06/17/Rust-1.53.0.html" rel="nofollow"><img src="https://camo.githubusercontent.com/0c922f1a7c057c334d67dafad60c087c17c5527b501049e7697f8a270ee944e2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d5352562d312e35332e302d677265656e" alt="MSRV" data-canonical-src="https://img.shields.io/badge/MSRV-1.53.0-green"/></a></p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto"><code>s2n-quic</code> is available on <code>crates.io</code> and can be added to a project like so:</p>
<div data-snippet-clipboard-copy-content="[dependencies]
s2n-quic = &#34;1&#34;"><pre>[<span>dependencies</span>]
<span>s2n-quic</span> = <span><span>&#34;</span>1<span>&#34;</span></span></pre></div>
<p dir="auto"><strong>NOTE</strong>: On unix-like systems, <a href="https://github.com/aws/s2n-tls"><code>s2n-tls</code></a> will be used as the default TLS provider and requires a C compiler to be installed.</p>
<h2 dir="auto"><a id="user-content-example" aria-hidden="true" href="#example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example</h2>
<p dir="auto">The following implements a basic echo server and client. The client connects to the server and pipes its <code>stdin</code> on a stream. The server listens for new streams and pipes any data it receives back to the client. The client will then pipe all stream data to <code>stdout</code>.</p>
<h3 dir="auto"><a id="user-content-server" aria-hidden="true" href="#server"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Server</h3>
<div data-snippet-clipboard-copy-content="// src/bin/server.rs
use s2n_quic::Server;
use std::error::Error;

#[tokio::main]
async fn main() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let mut server = Server::builder()
        .with_tls((&#34;./path/to/cert.pem&#34;, &#34;./path/to/key.pem&#34;))?
        .with_io(&#34;127.0.0.1:4433&#34;)?
        .start()?;

    while let Some(mut connection) = server.accept().await {
        // spawn a new task for the connection
        tokio::spawn(async move {
            while let Ok(Some(mut stream)) = connection.accept_bidirectional_stream().await {
                // spawn a new task for the stream
                tokio::spawn(async move {
                    // echo any data back to the stream
                    while let Ok(Some(data)) = stream.receive().await {
                        stream.send(data).await.expect(&#34;stream should be open&#34;);
                    }
                });
            }
        });
    }

    Ok(())
}"><pre><span>// src/bin/server.rs</span>
<span>use</span> s2n_quic<span>::</span>Server;
<span>use</span> std<span>::</span>error<span>::</span>Error;

#[tokio::main]
<span>async</span> <span>fn</span> <span>main</span>() -&gt; <span>Result</span>&lt;(), <span>Box</span>&lt;<span>dyn</span> Error&gt;&gt; {
    <span>let</span> <span>mut</span> server <span>=</span> Server<span>::</span><span>builder</span>()
        .<span>with_tls</span>((<span>&#34;./path/to/cert.pem&#34;</span>, <span>&#34;./path/to/key.pem&#34;</span>))?
        .<span>with_io</span>(<span>&#34;127.0.0.1:4433&#34;</span>)?
        .<span>start</span>()?;

    <span>while</span> <span>let</span> <span>Some</span>(<span>mut</span> connection) <span>=</span> server.<span>accept</span>().<span>await</span> {
        <span>// spawn a new task for the connection</span>
        tokio<span>::</span><span>spawn</span>(<span>async</span> <span>move</span> {
            <span>while</span> <span>let</span> <span>Ok</span>(<span>Some</span>(<span>mut</span> stream)) <span>=</span> connection.<span>accept_bidirectional_stream</span>().<span>await</span> {
                <span>// spawn a new task for the stream</span>
                tokio<span>::</span><span>spawn</span>(<span>async</span> <span>move</span> {
                    <span>// echo any data back to the stream</span>
                    <span>while</span> <span>let</span> <span>Ok</span>(<span>Some</span>(data)) <span>=</span> stream.<span>receive</span>().<span>await</span> {
                        stream.<span>send</span>(data).<span>await</span>.<span>expect</span>(<span>&#34;stream should be open&#34;</span>);
                    }
                });
            }
        });
    }

    <span>Ok</span>(())
}</pre></div>
<h3 dir="auto"><a id="user-content-client" aria-hidden="true" href="#client"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Client</h3>
<div data-snippet-clipboard-copy-content="// src/bin/client.rs
use s2n_quic::{client::Connect, Client};
use std::{error::Error, net::SocketAddr};

#[tokio::main]
async fn main() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let client = Client::builder()
        .with_tls(CERT_PEM)?
        .with_io(&#34;0.0.0.0:0&#34;)?
        .start()?;

    let addr: SocketAddr = &#34;127.0.0.1:4433&#34;.parse()?;
    let connect = Connect::new(addr).with_server_name(&#34;localhost&#34;);
    let mut connection = client.connect(connect).await?;

    // ensure the connection doesn&#39;t time out with inactivity
    connection.keep_alive(true)?;

    // open a new stream and split the receiving and sending sides
    let stream = connection.open_bidirectional_stream().await?;
    let (mut receive_stream, mut send_stream) = stream.split();

    // spawn a task that copies responses from the server to stdout
    tokio::spawn(async move {
        let mut stdout = tokio::io::stdout();
        let _ = tokio::io::copy(&amp;mut receive_stream, &amp;mut stdout).await;
    });

    // copy data from stdin and send it to the server
    let mut stdin = tokio::io::stdin();
    tokio::io::copy(&amp;mut stdin, &amp;mut send_stream).await?;

    Ok(())
}"><pre><span>// src/bin/client.rs</span>
<span>use</span> s2n_quic<span>::</span>{client<span>::</span>Connect, Client};
<span>use</span> std<span>::</span>{error<span>::</span>Error, net<span>::</span>SocketAddr};

#[tokio::main]
<span>async</span> <span>fn</span> <span>main</span>() -&gt; <span>Result</span>&lt;(), <span>Box</span>&lt;<span>dyn</span> Error&gt;&gt; {
    <span>let</span> client <span>=</span> Client<span>::</span><span>builder</span>()
        .<span>with_tls</span>(CERT_PEM)?
        .<span>with_io</span>(<span>&#34;0.0.0.0:0&#34;</span>)?
        .<span>start</span>()?;

    <span>let</span> addr: SocketAddr <span>=</span> <span>&#34;127.0.0.1:4433&#34;</span>.<span>parse</span>()?;
    <span>let</span> connect <span>=</span> Connect<span>::</span><span>new</span>(addr).<span>with_server_name</span>(<span>&#34;localhost&#34;</span>);
    <span>let</span> <span>mut</span> connection <span>=</span> client.<span>connect</span>(connect).<span>await</span>?;

    <span>// ensure the connection doesn&#39;t time out with inactivity</span>
    connection.<span>keep_alive</span>(<span>true</span>)?;

    <span>// open a new stream and split the receiving and sending sides</span>
    <span>let</span> stream <span>=</span> connection.<span>open_bidirectional_stream</span>().<span>await</span>?;
    <span>let</span> (<span>mut</span> receive_stream, <span>mut</span> send_stream) <span>=</span> stream.<span>split</span>();

    <span>// spawn a task that copies responses from the server to stdout</span>
    tokio<span>::</span><span>spawn</span>(<span>async</span> <span>move</span> {
        <span>let</span> <span>mut</span> stdout <span>=</span> tokio<span>::</span>io<span>::</span><span>stdout</span>();
        <span>let</span> _ <span>=</span> tokio<span>::</span>io<span>::</span><span>copy</span>(<span>&amp;</span><span>mut</span> receive_stream, <span>&amp;</span><span>mut</span> stdout).<span>await</span>;
    });

    <span>// copy data from stdin and send it to the server</span>
    <span>let</span> <span>mut</span> stdin <span>=</span> tokio<span>::</span>io<span>::</span><span>stdin</span>();
    tokio<span>::</span>io<span>::</span><span>copy</span>(<span>&amp;</span><span>mut</span> stdin, <span>&amp;</span><span>mut</span> send_stream).<span>await</span>?;

    <span>Ok</span>(())
}</pre></div>
<h2 dir="auto"><a id="user-content-minimum-supported-rust-version-msrv" aria-hidden="true" href="#minimum-supported-rust-version-msrv"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Minimum Supported Rust Version (MSRV)</h2>
<p dir="auto"><code>s2n-quic</code> will maintain a rolling MSRV (minimum supported rust version) policy of at least 6 months. The current s2n-quic version is not guaranteed to build on Rust versions earlier than the MSRV.</p>
<p dir="auto">The current MSRV is <a href="https://blog.rust-lang.org/2021/06/17/Rust-1.53.0.html" rel="nofollow">1.53.0</a>.</p>
<h2 dir="auto"><a id="user-content-security-issue-notifications" aria-hidden="true" href="#security-issue-notifications"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Security issue notifications</h2>
<p dir="auto">If you discover a potential security issue in s2n-quic we ask that you notify
AWS Security via our <a href="http://aws.amazon.com/security/vulnerability-reporting/" rel="nofollow">vulnerability reporting page</a>. Please do <strong>not</strong> create a public github issue.</p>
<p dir="auto">If you package or distribute s2n-quic, or use s2n-quic as part of a large multi-user service, you may be eligible for pre-notification of future s2n-quic releases. Please contact <a href="mailto:s2n-pre-notification@amazon.com">s2n-pre-notification@amazon.com</a>.</p>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto">This project is licensed under the <a href="https://aws.amazon.com/apache-2-0/" rel="nofollow">Apache-2.0 License</a>.</p>
</article>
        </div></div>
  </body>
</html>
