<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/lharries/whatsapp-mcp">Original</a>
    <h1>Show HN: WhatsApp MCP Server</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">This is a Model Context Protocol (MCP) server for WhatsApp.</p>
<p dir="auto">With this you can search you personal Whatsapp messages, search your contacts and send messages to either individuals or groups.</p>
<p dir="auto">It connects to your <strong>personal WhatsApp account</strong> directly via the Whatsapp web multidevice API (using the <a href="https://github.com/tulir/whatsmeow">whatsmeow</a> library). All your messages are stored locally in a SQLite database and only sent to an LLM (such as Claude) when the agent accesses them through tools (which you control).</p>
<p dir="auto">Here&#39;s an example of what you can do when it&#39;s connected to Claude.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://www.bryanbraun.com/lharries/whatsapp-mcp/blob/main/example-use.png"><img src="https://www.bryanbraun.com/lharries/whatsapp-mcp/raw/main/example-use.png" alt="WhatsApp MCP"/></a></p>
<blockquote>
<p dir="auto">To get updates on this and other projects I work on <a href="https://docs.google.com/forms/d/1rTF9wMBTN0vPfzWuQa2BjfGKdKIpTbyeKxhPMcEzgyI/preview" rel="nofollow">enter your email here</a></p>
</blockquote>


<ul dir="auto">
<li>Go</li>
<li>Python 3.6+</li>
<li>Anthropic Claude Desktop app (or Cursor)</li>
<li>UV (Python package manager), install with <code>curl -LsSf https://astral.sh/uv/install.sh | sh</code></li>
</ul>

<ol dir="auto">
<li>
<p dir="auto"><strong>Clone this repository</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/lharries/whatsapp-mcp.git
cd whatsapp-mcp"><pre>git clone https://github.com/lharries/whatsapp-mcp.git
<span>cd</span> whatsapp-mcp</pre></div>
</li>
<li>
<p dir="auto"><strong>Run the WhatsApp bridge</strong></p>
<p dir="auto">Navigate to the whatsapp-bridge directory and run the Go application:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cd whatsapp-bridge
go run main.go"><pre><span>cd</span> whatsapp-bridge
go run main.go</pre></div>
<p dir="auto">The first time you run it, you will be prompted to scan a QR code. Scan the QR code with your WhatsApp mobile app to authenticate.</p>
<p dir="auto">After approximately 20 days, you will might need to re-authenticate.</p>
</li>
<li>
<p dir="auto"><strong>Connect to the the MCP server</strong></p>
<p dir="auto">Copy the below json with the appropriate {{PATH}} values:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;mcpServers&#34;: {
    &#34;whatsapp&#34;: {
      &#34;command&#34;: &#34;{{PATH}}/.local/bin/uv&#34;, // Run `which uv` and place the output here
      &#34;args&#34;: [
        &#34;--directory&#34;,
        &#34;{{PATH}}/whatsapp-mcp/whatsapp-mcp-server&#34;, // cd into the repo, run `pwd` and enter the output here + &#34;/whatsapp-mcp-server&#34;
        &#34;run&#34;,
        &#34;main.py&#34;
      ]
    }
  }
}"><pre>{
  <span>&#34;mcpServers&#34;</span>: {
    <span>&#34;whatsapp&#34;</span>: {
      <span>&#34;command&#34;</span>: <span><span>&#34;</span>{{PATH}}/.local/bin/uv<span>&#34;</span></span>, <span>// Run `which uv` and place the output here</span>
      <span>&#34;args&#34;</span>: [
        <span><span>&#34;</span>--directory<span>&#34;</span></span>,
        <span><span>&#34;</span>{{PATH}}/whatsapp-mcp/whatsapp-mcp-server<span>&#34;</span></span>, <span>// cd into the repo, run `pwd` and enter the output here + &#34;/whatsapp-mcp-server&#34;</span>
        <span><span>&#34;</span>run<span>&#34;</span></span>,
        <span><span>&#34;</span>main.py<span>&#34;</span></span>
      ]
    }
  }
}</pre></div>
<p dir="auto">For <strong>Claude</strong>, save this as <code>claude_desktop_config.json</code> in your Claude Desktop configuration directory at:</p>
<div data-snippet-clipboard-copy-content="~/Library/Application Support/Claude/claude_desktop_config.json"><pre><code>~/Library/Application Support/Claude/claude_desktop_config.json
</code></pre></div>
<p dir="auto">For <strong>Cursor</strong>, save this as <code>mcp.json</code> in your Cursor configuration directory at:</p>

</li>
<li>
<p dir="auto"><strong>Restart Claude Desktop / Cursor</strong></p>
<p dir="auto">Open Claude Desktop and you should now see WhatsApp as an available integration.</p>
<p dir="auto">Or restart Cursor.</p>
</li>
</ol>

<p dir="auto">This application consists of two main components:</p>
<ol dir="auto">
<li>
<p dir="auto"><strong>Go WhatsApp Bridge</strong> (<code>whatsapp-bridge/</code>): A Go application that connects to WhatsApp&#39;s web API, handles authentication via QR code, and stores message history in SQLite. It serves as the bridge between WhatsApp and the MCP server.</p>
</li>
<li>
<p dir="auto"><strong>Python MCP Server</strong> (<code>whatsapp-mcp-server/</code>): A Python server implementing the Model Context Protocol (MCP), which provides standardized tools for Claude to interact with WhatsApp data and send/receive messages.</p>
</li>
</ol>

<ul dir="auto">
<li>All message history is stored in a SQLite database within the <code>whatsapp-bridge/store/</code> directory</li>
<li>The database maintains tables for chats and messages</li>
<li>Messages are indexed for efficient searching and retrieval</li>
</ul>

<p dir="auto">Once connected, you can interact with your WhatsApp contacts through Claude, leveraging Claude&#39;s AI capabilities in your WhatsApp conversations.</p>

<p dir="auto">Claude can access the following tools to interact with WhatsApp:</p>
<ul dir="auto">
<li><strong>search_contacts</strong>: Search for contacts by name or phone number</li>
<li><strong>list_messages</strong>: Retrieve messages with optional filters and context</li>
<li><strong>list_chats</strong>: List available chats with metadata</li>
<li><strong>get_chat</strong>: Get information about a specific chat</li>
<li><strong>get_direct_chat_by_contact</strong>: Find a direct chat with a specific contact</li>
<li><strong>get_contact_chats</strong>: List all chats involving a specific contact</li>
<li><strong>get_last_interaction</strong>: Get the most recent message with a contact</li>
<li><strong>get_message_context</strong>: Retrieve context around a specific message</li>
<li><strong>send_message</strong>: Send a WhatsApp message to a specified phone number</li>
</ul>

<ol dir="auto">
<li>Claude sends requests to the Python MCP server</li>
<li>The MCP server queries the Go bridge for WhatsApp data or directly to the SQLite database</li>
<li>The Go accesses the WhatsApp API and keeps the SQLite database up to date</li>
<li>Data flows back through the chain to Claude</li>
<li>When sending messages, the request flows from Claude through the MCP server to the Go bridge and to WhatsApp</li>
</ol>

<ul dir="auto">
<li>If you encounter permission issues when running uv, you may need to add it to your PATH or use the full path to the executable.</li>
<li>Make sure both the Go application and the Python server are running for the integration to work properly.</li>
</ul>

<ul dir="auto">
<li><strong>QR Code Not Displaying</strong>: If the QR code doesn&#39;t appear, try restarting the authentication script. If issues persist, check if your terminal supports displaying QR codes.</li>
<li><strong>WhatsApp Already Logged In</strong>: If your session is already active, the Go bridge will automatically reconnect without showing a QR code.</li>
<li><strong>Device Limit Reached</strong>: WhatsApp limits the number of linked devices. If you reach this limit, you&#39;ll need to remove an existing device from WhatsApp on your phone (Settings &gt; Linked Devices).</li>
<li><strong>No Messages Loading</strong>: After initial authentication, it can take several minutes for your message history to load, especially if you have many chats.</li>
<li><strong>WhatsApp Out of Sync</strong>: If your WhatsApp messages get out of sync with the bridge, delete both database files (<code>whatsapp-bridge/store/messages.db</code> and <code>whatsapp-bridge/store/whatsapp.db</code>) and restart the bridge to re-authenticate.</li>
</ul>
<p dir="auto">For additional Claude Desktop integration troubleshooting, see the <a href="https://modelcontextprotocol.io/quickstart/server#claude-for-desktop-integration-issues" rel="nofollow">MCP documentation</a>. The documentation includes helpful tips for checking logs and resolving common issues.</p>
</article></div></div>
  </body>
</html>
