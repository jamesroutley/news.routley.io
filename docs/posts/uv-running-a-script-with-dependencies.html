<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://docs.astral.sh/uv/guides/scripts/#running-a-script-with-dependencies">Original</a>
    <h1>Uv: Running a script with dependencies</h1>
    
    <div id="readability-page-1" class="page"><article>
                
                  

  
  



<p>A Python script is a file intended for standalone execution, e.g., with <code>python &lt;script&gt;.py</code>. Using
uv to execute scripts ensures that script dependencies are managed without manually managing
environments.</p>
<div>
<p>Note</p>
<p>If you are not familiar with Python environments: every Python installation has an environment
that packages can be installed in. Typically, creating <a href="https://docs.python.org/3/library/venv.html"><em>virtual</em> environments</a> is recommended to
isolate packages required by each script. uv automatically manages virtual environments for you
and prefers a <a href="#declaring-script-dependencies">declarative</a> approach to dependencies.</p>
</div>
<h2 id="running-a-script-without-dependencies"><a href="#running-a-script-without-dependencies">Running a script without dependencies</a></h2>
<p>If your script has no dependencies, you can execute it with <code>uv run</code>:</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span>print</span><span>(</span><span>&#34;Hello world&#34;</span><span>)</span>
</code></pre></div>
<div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span>$ </span>uv<span> </span>run<span> </span>example.py
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span>Hello world</span>
</code></pre></div>
<!-- TODO(zanieb): Once we have a `python` shim, note you can execute it with `python` here -->

<p>Similarly, if your script depends on a module in the standard library, there&#39;s nothing more to do:</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span>import</span> <span>os</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span>print</span><span>(</span><span>os</span><span>.</span><span>path</span><span>.</span><span>expanduser</span><span>(</span><span>&#34;~&#34;</span><span>))</span>
</code></pre></div>
<div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span>$ </span>uv<span> </span>run<span> </span>example.py
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span>/Users/astral</span>
</code></pre></div>
<p>Arguments may be provided to the script:</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span>import</span> <span>sys</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span>print</span><span>(</span><span>&#34; &#34;</span><span>.</span><span>join</span><span>(</span><span>sys</span><span>.</span><span>argv</span><span>[</span><span>1</span><span>:]))</span>
</code></pre></div>
<div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span>$ </span>uv<span> </span>run<span> </span>example.py<span> </span><span>test</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span>test</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span>$ </span>uv<span> </span>run<span> </span>example.py<span> </span>hello<span> </span>world!
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span>hello world!</span>
</code></pre></div>
<p>Additionally, your script can be read directly from stdin:</p>
<div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span>$ </span><span>echo</span><span> </span><span>&#39;print(&#34;hello world!&#34;)&#39;</span><span> </span><span>|</span><span> </span>uv<span> </span>run<span> </span>-
</code></pre></div>
<p>Or, if your shell supports <a href="https://en.wikipedia.org/wiki/Here_document">here-documents</a>:</p>
<div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>uv<span> </span>run<span> </span>-<span> </span><span>&lt;&lt;EOF</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span>print(&#34;hello world!&#34;)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span>EOF</span>
</code></pre></div>
<p>Note that if you use <code>uv run</code> in a <em>project</em>, i.e., a directory with a <code>pyproject.toml</code>, it will
install the current project before running the script. If your script does not depend on the
project, use the <code>--no-project</code> flag to skip this:</p>
<div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span>$ </span><span># Note: the `--no-project` flag must be provided _before_ the script name.</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span>$ </span>uv<span> </span>run<span> </span>--no-project<span> </span>example.py
</code></pre></div>
<p>See the <a href="https://docs.astral.sh/uv/guides/projects/">projects guide</a> for more details on working in projects.</p>
<h2 id="running-a-script-with-dependencies"><a href="#running-a-script-with-dependencies">Running a script with dependencies</a></h2>
<p>When your script requires other packages, they must be installed into the environment that the
script runs in. uv prefers to create these environments on-demand instead of using a long-lived
virtual environment with manually managed dependencies. This requires explicit declaration of
dependencies that are required for the script. Generally, it&#39;s recommended to use a
<a href="https://docs.astral.sh/uv/guides/projects/">project</a> or <a href="#declaring-script-dependencies">inline metadata</a> to declare
dependencies, but uv supports requesting dependencies per invocation as well.</p>
<p>For example, the following script requires <code>rich</code>.</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span>import</span> <span>time</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span>from</span> <span>rich.progress</span> <span>import</span> <span>track</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span>for</span> <span>i</span> <span>in</span> <span>track</span><span>(</span><span>range</span><span>(</span><span>20</span><span>),</span> <span>description</span><span>=</span><span>&#34;For example:&#34;</span><span>):</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span>time</span><span>.</span><span>sleep</span><span>(</span><span>0.05</span><span>)</span>
</code></pre></div>
<p>If executed without specifying a dependency, this script will fail:</p>
<div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span>$ </span>uv<span> </span>run<span> </span>--no-project<span> </span>example.py
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span>Traceback (most recent call last):</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span>  File &#34;/Users/astral/example.py&#34;, line 2, in &lt;module&gt;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span>    from rich.progress import track</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span>ModuleNotFoundError: No module named &#39;rich&#39;</span>
</code></pre></div>
<p>Request the dependency using the <code>--with</code> option:</p>
<div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span>$ </span>uv<span> </span>run<span> </span>--with<span> </span>rich<span> </span>example.py
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span>For example: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:01</span>
</code></pre></div>
<p>Constraints can be added to the requested dependency if specific versions are needed:</p>
<div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span>$ </span>uv<span> </span>run<span> </span>--with<span> </span><span>&#39;rich&gt;12,&lt;13&#39;</span><span> </span>example.py
</code></pre></div>
<p>Multiple dependencies can be requested by repeating with <code>--with</code> option.</p>
<p>Note that if <code>uv run</code> is used in a <em>project</em>, these dependencies will be included <em>in addition</em> to
the project&#39;s dependencies. To opt-out of this behavior, use the <code>--no-project</code> flag.</p>
<h2 id="creating-a-python-script"><a href="#creating-a-python-script">Creating a Python script</a></h2>
<p>Python recently added a standard format for
<a href="https://packaging.python.org/en/latest/specifications/inline-script-metadata/#inline-script-metadata">inline script metadata</a>.
It allows for selecting Python versions and defining dependencies. Use <code>uv init --script</code> to
initialize scripts with the inline metadata:</p>
<div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span>$ </span>uv<span> </span>init<span> </span>--script<span> </span>example.py<span> </span>--python<span> </span><span>3</span>.12
</code></pre></div>
<h2 id="declaring-script-dependencies"><a href="#declaring-script-dependencies">Declaring script dependencies</a></h2>
<p>The inline metadata format allows the dependencies for a script to be declared in the script itself.</p>
<p>uv supports adding and updating inline script metadata for you. Use <code>uv add --script</code> to declare the
dependencies for the script:</p>
<div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span>$ </span>uv<span> </span>add<span> </span>--script<span> </span>example.py<span> </span><span>&#39;requests&lt;3&#39;</span><span> </span><span>&#39;rich&#39;</span>
</code></pre></div>
<p>This will add a <code>script</code> section at the top of the script declaring the dependencies using TOML:</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span># /// script</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span># dependencies = [</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span>#   &#34;requests&lt;3&#34;,</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span>#   &#34;rich&#34;,</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span># ]</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span># ///</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span>import</span> <span>requests</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span>from</span> <span>rich.pretty</span> <span>import</span> <span>pprint</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span>resp</span> <span>=</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>&#34;https://peps.python.org/api/peps.json&#34;</span><span>)</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span>data</span> <span>=</span> <span>resp</span><span>.</span><span>json</span><span>()</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span>pprint</span><span>([(</span><span>k</span><span>,</span> <span>v</span><span>[</span><span>&#34;title&#34;</span><span>])</span> <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>data</span><span>.</span><span>items</span><span>()][:</span><span>10</span><span>])</span>
</code></pre></div>
<p>uv will automatically create an environment with the dependencies necessary to run the script, e.g.:</p>
<div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span>$ </span>uv<span> </span>run<span> </span>example.py
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span>[</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span>│   (&#39;1&#39;, &#39;PEP Purpose and Guidelines&#39;),</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span>│   (&#39;2&#39;, &#39;Procedure for Adding New Modules&#39;),</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span>│   (&#39;3&#39;, &#39;Guidelines for Handling Bug Reports&#39;),</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span>│   (&#39;4&#39;, &#39;Deprecation of Standard Modules&#39;),</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span>│   (&#39;5&#39;, &#39;Guidelines for Language Evolution&#39;),</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span>│   (&#39;6&#39;, &#39;Bug Fix Releases&#39;),</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span>│   (&#39;7&#39;, &#39;Style Guide for C Code&#39;),</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span>│   (&#39;8&#39;, &#39;Style Guide for Python Code&#39;),</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span>│   (&#39;9&#39;, &#39;Sample Plaintext PEP Template&#39;),</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span>│   (&#39;10&#39;, &#39;Voting Guidelines&#39;)</span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span>]</span>
</code></pre></div>
<div>
<p>Important</p>
<p>When using inline script metadata, even if <code>uv run</code> is <a href="https://docs.astral.sh/uv/concepts/projects/run/">used in a <em>project</em></a>, the project&#39;s dependencies will be ignored. The <code>--no-project</code> flag is not required.</p>
</div>
<p>uv also respects Python version requirements:</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span># /// script</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span># requires-python = &#34;&gt;=3.12&#34;</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span># dependencies = []</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span># ///</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span># Use some syntax added in Python 3.12</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span>type</span> <span>Point</span> <span>=</span> <span>tuple</span><span>[</span><span>float</span><span>,</span> <span>float</span><span>]</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span>print</span><span>(</span><span>Point</span><span>)</span>
</code></pre></div>
<div>
<p>Note</p>
<p>The <code>dependencies</code> field must be provided even if empty.</p>
</div>
<p><code>uv run</code> will search for and use the required Python version. The Python version will download if it
is not installed — see the documentation on <a href="https://docs.astral.sh/uv/concepts/python-versions/">Python versions</a> for
more details.</p>
<h2 id="using-a-shebang-to-create-an-executable-file"><a href="#using-a-shebang-to-create-an-executable-file">Using a shebang to create an executable file</a></h2>
<p>A shebang can be added to make a script executable without using <code>uv run</code> — this makes it easy to
run scripts that are on your <code>PATH</code> or in the current folder.</p>
<p>For example, create a file called <code>greet</code> with the following contents</p>
<div><p><span>greet</span></p><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span>#!/usr/bin/env -S uv run --script</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span>print</span><span>(</span><span>&#34;Hello, world!&#34;</span><span>)</span>
</code></pre></div>
<p>Ensure that your script is executable, e.g., with <code>chmod +x greet</code>, then run the script:</p>

<p>Declaration of dependencies is also supported in this context, for example:</p>
<div><p><span>example</span></p><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span>#!/usr/bin/env -S uv run --script</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span>#</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span># /// script</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span># requires-python = &#34;&gt;=3.12&#34;</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span># dependencies = [&#34;httpx&#34;]</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span># ///</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span>import</span> <span>httpx</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span>print</span><span>(</span><span>httpx</span><span>.</span><span>get</span><span>(</span><span>&#34;https://example.com&#34;</span><span>))</span>
</code></pre></div>
<h2 id="using-alternative-package-indexes"><a href="#using-alternative-package-indexes">Using alternative package indexes</a></h2>
<p>If you wish to use an alternative <a href="https://docs.astral.sh/uv/concepts/indexes/">package index</a> to resolve dependencies,
you can provide the index with the <code>--index</code> option:</p>
<div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span>$ </span>uv<span> </span>add<span> </span>--index<span> </span><span>&#34;https://example.com/simple&#34;</span><span> </span>--script<span> </span>example.py<span> </span><span>&#39;requests&lt;3&#39;</span><span> </span><span>&#39;rich&#39;</span>
</code></pre></div>
<p>This will include the package data in the inline metadata:</p>
<div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span># [[tool.uv.index]]</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span># url = &#34;https://example.com/simple&#34;</span>
</code></pre></div>
<p>If you require authentication to access the package index, then please refer to the
<a href="https://docs.astral.sh/uv/concepts/indexes/">package index</a> documentation.</p>
<h2 id="locking-dependencies"><a href="#locking-dependencies">Locking dependencies</a></h2>
<p>uv supports locking dependencies for PEP 723 scripts using the <code>uv.lock</code> file format. Unlike with
projects, scripts must be explicitly locked using <code>uv lock</code>:</p>
<div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span>$ </span>uv<span> </span>lock<span> </span>--script<span> </span>example.py
</code></pre></div>
<p>Running <code>uv lock --script</code> will create a <code>.lock</code> file adjacent to the script (e.g.,
<code>example.py.lock</code>).</p>
<p>Once locked, subsequent operations like <code>uv run --script</code>, <code>uv add --script</code>, <code>uv export --script</code>,
and <code>uv tree --script</code> will reuse the locked dependencies, updating the lockfile if necessary.</p>
<p>If no such lockfile is present, commands like <code>uv export --script</code> will still function as expected,
but will not create a lockfile.</p>
<h2 id="improving-reproducibility"><a href="#improving-reproducibility">Improving reproducibility</a></h2>
<p>In addition to locking dependencies, uv supports an <code>exclude-newer</code> field in the <code>tool.uv</code> section
of inline script metadata to limit uv to only considering distributions released before a specific
date. This is useful for improving the reproducibility of your script when run at a later point in
time.</p>
<p>The date must be specified as an <a href="https://www.rfc-editor.org/rfc/rfc3339.html">RFC 3339</a> timestamp
(e.g., <code>2006-12-02T02:07:43Z</code>).</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span># /// script</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span># dependencies = [</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span>#   &#34;requests&#34;,</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span># ]</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span># [tool.uv]</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span># exclude-newer = &#34;2023-10-16T00:00:00Z&#34;</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span># ///</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span>import</span> <span>requests</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span>print</span><span>(</span><span>requests</span><span>.</span><span>__version__</span><span>)</span>
</code></pre></div>
<h2 id="using-different-python-versions"><a href="#using-different-python-versions">Using different Python versions</a></h2>
<p>uv allows arbitrary Python versions to be requested on each script invocation, for example:</p>
<div><p><span>example.py</span></p><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span>import</span> <span>sys</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span>print</span><span>(</span><span>&#34;.&#34;</span><span>.</span><span>join</span><span>(</span><span>map</span><span>(</span><span>str</span><span>,</span> <span>sys</span><span>.</span><span>version_info</span><span>[:</span><span>3</span><span>])))</span>
</code></pre></div>
<div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span>$ </span><span># Use the default Python version, may differ on your machine</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span>$ </span>uv<span> </span>run<span> </span>example.py
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span>3.12.6</span>
</code></pre></div>
<div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span>$ </span><span># Use a specific Python version</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span>$ </span>uv<span> </span>run<span> </span>--python<span> </span><span>3</span>.10<span> </span>example.py
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span>3.10.15</span>
</code></pre></div>
<p>See the <a href="https://docs.astral.sh/uv/concepts/python-versions/#requesting-a-version">Python version request</a> documentation
for more details on requesting Python versions.</p>
<h2 id="using-gui-scripts"><a href="#using-gui-scripts">Using GUI scripts</a></h2>
<p>On Windows <code>uv</code> will run your script ending with <code>.pyw</code> extension using <code>pythonw</code>:</p>
<div><p><span>example.pyw</span></p><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span>from</span> <span>tkinter</span> <span>import</span> <span>Tk</span><span>,</span> <span>ttk</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span>root</span> <span>=</span> <span>Tk</span><span>()</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span>root</span><span>.</span><span>title</span><span>(</span><span>&#34;uv&#34;</span><span>)</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span>frm</span> <span>=</span> <span>ttk</span><span>.</span><span>Frame</span><span>(</span><span>root</span><span>,</span> <span>padding</span><span>=</span><span>10</span><span>)</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span>frm</span><span>.</span><span>grid</span><span>()</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span>ttk</span><span>.</span><span>Label</span><span>(</span><span>frm</span><span>,</span> <span>text</span><span>=</span><span>&#34;Hello World&#34;</span><span>)</span><span>.</span><span>grid</span><span>(</span><span>column</span><span>=</span><span>0</span><span>,</span> <span>row</span><span>=</span><span>0</span><span>)</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span>root</span><span>.</span><span>mainloop</span><span>()</span>
</code></pre></div>

<p><img alt="Run Result" src="https://docs.astral.sh/uv/assets/uv_gui_script_hello_world.png"/></p>
<p>Similarly, it works with dependencies as well:</p>
<div><p><span>example_pyqt.pyw</span></p><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span>import</span> <span>sys</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span>from</span> <span>PyQt5.QtWidgets</span> <span>import</span> <span>QApplication</span><span>,</span> <span>QWidget</span><span>,</span> <span>QLabel</span><span>,</span> <span>QGridLayout</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span>app</span> <span>=</span> <span>QApplication</span><span>(</span><span>sys</span><span>.</span><span>argv</span><span>)</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span>widget</span> <span>=</span> <span>QWidget</span><span>()</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span>grid</span> <span>=</span> <span>QGridLayout</span><span>()</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span>text_label</span> <span>=</span> <span>QLabel</span><span>()</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span>text_label</span><span>.</span><span>setText</span><span>(</span><span>&#34;Hello World!&#34;</span><span>)</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span>grid</span><span>.</span><span>addWidget</span><span>(</span><span>text_label</span><span>)</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span>widget</span><span>.</span><span>setLayout</span><span>(</span><span>grid</span><span>)</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span>widget</span><span>.</span><span>setGeometry</span><span>(</span><span>100</span><span>,</span> <span>100</span><span>,</span> <span>200</span><span>,</span> <span>50</span><span>)</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span>widget</span><span>.</span><span>setWindowTitle</span><span>(</span><span>&#34;uv&#34;</span><span>)</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span>widget</span><span>.</span><span>show</span><span>()</span>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span>sys</span><span>.</span><span>exit</span><span>(</span><span>app</span><span>.</span><span>exec_</span><span>())</span>
</code></pre></div>
<div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span>PS&gt; uv run --with PyQt5 example_pyqt.pyw</span>
</code></pre></div>
<p><img alt="Run Result" src="https://docs.astral.sh/uv/assets/uv_gui_script_hello_world_pyqt.png"/></p>
<h2 id="next-steps"><a href="#next-steps">Next steps</a></h2>
<p>To learn more about <code>uv run</code>, see the <a href="https://docs.astral.sh/uv/reference/cli/#uv-run">command reference</a>.</p>
<p>Or, read on to learn how to <a href="https://docs.astral.sh/uv/guides/tools/">run and install tools</a> with uv.</p>

  
    
  
  


  


  




                
              </article></div>
  </body>
</html>
