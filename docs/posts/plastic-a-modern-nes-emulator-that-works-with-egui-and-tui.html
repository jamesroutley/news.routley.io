<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Amjad50/plastic">Original</a>
    <h1>Plastic â€“ A Modern NES Emulator That Works with EGUI and TUI</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  
  <a href="https://github.com/Amjad50/plastic"><img alt="plastic" src="https://raw.githubusercontent.com/Amjad50/plastic/refs/heads/master/images/logo.svg" width="60%"/></a>
  </p><p dir="auto">NES emulator in <em>Rust</em></p>

<p dir="auto"><a href="https://actions-badge.atrox.dev/Amjad50/plastic/goto" rel="nofollow"><img src="https://github.com/Amjad50/plastic/workflows/Rust/badge.svg" alt="Build status"/></a>
<a href="https://codecov.io/gh/Amjad50/plastic" rel="nofollow"><img src="https://camo.githubusercontent.com/85df5e831a67fb25ff6c8edb32b84c04120cc87838f360b3f785cc89bdfea437/68747470733a2f2f636f6465636f762e696f2f67682f416d6a616435302f706c61737469632f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/Amjad50/plastic/branch/master/graph/badge.svg"/></a>
<a href="https://deps.rs/repo/github/Amjad50/plastic" rel="nofollow"><img src="https://camo.githubusercontent.com/5cee4bad74d8887530f1a80c2bee146aaf31d350e7e2496bede856a6c4eceecb/68747470733a2f2f646570732e72732f7265706f2f6769746875622f416d6a616435302f706c61737469632f7374617475732e737667" alt="dependency status" data-canonical-src="https://deps.rs/repo/github/Amjad50/plastic/status.svg"/></a>
<a href="https://github.com/Amjad50/plastic/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/d3815e647d8e64e1d83ad7ce8520fb4eb91f86e2a32acf6fd2ceee4b2518a699/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f416d6a616435302f706c6173746963" alt="license" data-canonical-src="https://img.shields.io/github/license/Amjad50/plastic"/></a>
</p>
<p dir="auto"><strong>plastic</strong> is a <a href="https://en.wikipedia.org/wiki/Nintendo_Entertainment_System" rel="nofollow">NES</a> emulator built from scratch using <a href="https://www.rust-lang.org/" rel="nofollow">Rust</a>.</p>
<p dir="auto">This is a personal project for fun and to experience emulating hardware and connecting them together.</p>
<ul dir="auto">
<li><a href="#building-and-installation">Building and installation</a>
<ul dir="auto">
<li><a href="#installing">Installing</a></li>
<li><a href="#building">Building</a></li>
</ul>
</li>
<li><a href="#components">Components</a></li>
<li><a href="#interfaces">Interfaces</a>
<ul dir="auto">
<li><a href="#ui">EGui UI</a></li>
<li><a href="#tui">TUI</a></li>
</ul>
</li>
<li><a href="#controls">Controls</a>
<ul dir="auto">
<li><a href="#keyboard">Keyboard</a></li>
<li><a href="#gamepad">Gamepad</a></li>
</ul>
</li>
<li><a href="#license">License</a></li>
<li><a href="#references">References</a></li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">Building and installation</h3><a id="user-content-building-and-installation" aria-label="Permalink: Building and installation" href="#building-and-installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<p dir="auto">You can install the latest version of <a href="https://crates.io/crates/plastic" rel="nofollow">plastic</a> or <a href="https://crates.io/crates/plastic_tui" rel="nofollow">plastic_tui</a> using cargo:</p>
<div data-snippet-clipboard-copy-content="cargo install plastic
cargo install plastic_tui"><pre><code>cargo install plastic
cargo install plastic_tui
</code></pre></div>

<p dir="auto">If you want to experience the latest development version, you can build <code>Plastic</code> yourself.
For example:</p>


<ul>
<li> 6502 CPU, all official and unofficial instructions with accurate timing (without BCD mode).</li>
<li> Picture Processing Unit, almost accurate with some small timing issues that would not effect most games.</li>
<li> Cartridge and INES file handling (still missing INES2.0)</li>
<li> Mappers:
<ul>
<li> Mapper 0</li>
<li> Mapper 1</li>
<li> Mapper 2</li>
<li> Mapper 3</li>
<li> Mapper 4</li>
<li> Mapper 5 (Milestone)</li>
<li> Mapper 6</li>
<li> Mapper 7</li>
<li> Mapper 8</li>
<li> Mapper 9</li>
<li> Mapper 10</li>
<li> Mapper 11</li>
<li> Mapper 66</li>
</ul>
</li>
<li> Audio Processing Unit:
<ul>
<li> 2 Pulse wave(square)</li>
<li> Triangle</li>
<li> Noise</li>
<li> DMC</li>
<li> IRQ support</li>
</ul>
</li>
<li> Controller:
controllable using the keyboard and controller (tested with PS4 controller)</li>
</ul>

<p dir="auto">The main emulator is at <a href="https://github.com/Amjad50/plastic/blob/master/plastic_core"><code>plastic_core</code></a>
And its a struct <code>NES</code>, where the UI would clock it, and then
take the resulting audio and pixel buffers to handle them.</p>
<p dir="auto">We have 2 UIs, one main and the other just for fun.</p>

<p dir="auto">Simple ui built with <a href="https://github.com/emilk/egui">egui</a></p>


<ol dir="auto">
<li>Very simple and easy to use immediate mode UI.</li>
</ol>

<p dir="auto"><a href="https://www.youtube.com/watch?v=3wKILnY0AHU" rel="nofollow"><img src="https://camo.githubusercontent.com/b82db862dbe703dd2adaf09cf3cfec68fd0da8291af7215aca1659c9cfdcafdc/68747470733a2f2f696d672e796f75747562652e636f6d2f76692f33774b494c6e59304148552f302e6a7067" alt="TUI demo" data-canonical-src="https://img.youtube.com/vi/3wKILnY0AHU/0.jpg"/></a></p>
<p dir="auto">This is just for fun, but it is actually working way better than
I expected. Check the <a href="https://www.youtube.com/watch?v=3wKILnY0AHU" rel="nofollow">demo</a>.</p>
<p dir="auto">If you have one of these terminals mentioned <a href="https://docs.rs/crossterm/0.28.1/crossterm/event/struct.PushKeyboardEnhancementFlags.html" rel="nofollow">in this docs</a>
Then you will have a much better experience, since these terminals support detecting button <code>Release</code>, normally other terminals don&#39;t have this feature, so
the input for this UI can be a bit wonky.</p>
<p dir="auto">I used <a href="https://gitlab.com/gilrs-project/gilrs" rel="nofollow">gilrs</a> for gamepad support and its working very
nicely, keyboard on the other hand is not very responsive, so it
is advised to use gamepad. Also since this uses one character for
each pixel, it is advised to use the smallest font size your
terminal emulator supports. Have fun.</p>

<p dir="auto">In all the UI providers I followed the same controlling scheme,
as well as the ability to reset through <code>&lt;CTRL-R&gt;</code>:</p>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>keyboard</th>
<th>nes controller</th>
</tr>
</thead>
<tbody>
<tr>
<td>J</td>
<td>B</td>
</tr>
<tr>
<td>K</td>
<td>A</td>
</tr>
<tr>
<td>U</td>
<td>Select</td>
</tr>
<tr>
<td>I</td>
<td>Start</td>
</tr>
<tr>
<td>W</td>
<td>Up</td>
</tr>
<tr>
<td>S</td>
<td>Down</td>
</tr>
<tr>
<td>A</td>
<td>Left</td>
</tr>
<tr>
<td>D</td>
<td>Right</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>gamepad (PS4)</th>
<th>nes controller</th>
</tr>
</thead>
<tbody>
<tr>
<td>X</td>
<td>B</td>
</tr>
<tr>
<td>O</td>
<td>A</td>
</tr>
<tr>
<td>Select</td>
<td>Select</td>
</tr>
<tr>
<td>Start</td>
<td>Start</td>
</tr>
<tr>
<td>Button Up</td>
<td>Up</td>
</tr>
<tr>
<td>Button Down</td>
<td>Down</td>
</tr>
<tr>
<td>Button Left</td>
<td>Left</td>
</tr>
<tr>
<td>Button Right</td>
<td>Right</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">For now its static, and there is no way to change it except for
doing it in the code, TODO later.</p>

<p dir="auto">This project is under <a href="https://github.com/Amjad50/plastic/blob/master/LICENSE">MIT</a> license.</p>
<p dir="auto">NES is a product and/or trademark of Nintendo Co., Ltd. Nintendo Co., Ltd. and is not affiliated in any way with Plastic or its author</p>

<p dir="auto">Most of the documentation for NES components can be found in the <a href="http://wiki.nesdev.com/w/index.php/Nesdev_Wiki" rel="nofollow">NES dev wiki</a></p>
<p dir="auto">For the CPU(6502), <a href="https://www.masswerk.at/6502/6502_instruction_set.html" rel="nofollow">this</a> has the instruction set, and I used
<a href="https://github.com/Klaus2m5/6502_65C02_functional_tests">Klaus2m5&#39;s tests</a> for testing the CPU alone without the other NES components.</p>
</article></div></div>
  </body>
</html>
