<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/2021/09/08/on-the-visualization-of-differential-forms/">Original</a>
    <h1>The Visualization of Differential Forms (2021)</h1>
    
    <div id="readability-page-1" class="page"><div id="content">

			
	<section id="primary">
		<main id="main" role="main">
				
		
<article id="post-284">

	
	<!-- .entry-header -->

	<div>

		
<p>This post talks about visualization of differential forms on differential manifolds. It is aimed at a reader who is in the process of learning about differential forms (or who already has), but who has not seen any visual intuition for what they are.</p>



<p>This post has as a prerequisite <a href="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/2021/08/08/on-the-visualization-of-the-dual-space-and-differential-forms/" data-type="URL" data-id="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/2021/08/08/on-the-visualization-of-the-dual-space-and-differential-forms/">this post on the visualization of the dual of a vector space</a>, which (hopefully) motivates a very simple particular case of what will be described in this post.</p>



<p>The references therein mentioned still apply, but mostly <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.126.1099&amp;rep=rep1&amp;type=pdf">On the Visualisation of Differential Forms by Dan Piponi</a>, on which most of this post is based.</p>



<p>This post is intended for purely illustrative purposes. We will not yet examine how this “formalism” is equivalent to the standard notion of differential form, nor will we turn our “proofs” and “definitions” into rigorous arguments. That is the content of a future post, in which we will show how the visualizations we will build here tie into the symbolic garbage usually called “tensor algebra”.</p>



<h2>Differential Forms</h2>



<p>In all that follows, $M$ denotes an $n$-dimensional smooth manifold, for some non-negative integer $n$.</p>



<h3>Motivation ($n$-form)</h3>



<p>Before defining the notion of differential form, it is first useful to consider what problem we intend to solve.</p>



<p>The problem at hand is that of integration. We already know how to differentiate maps between differential manifolds, and now we wish to find out how to integrate them. Unfortunately, by itself this is not possible.</p>



<p>For example, consider the constant function equal to one on the unit sphere $S^1$. Its integral really ought to be the surface area of the sphere, $4\pi$. On the other hand, the unit sphere is diffeomorphic, and therefore indistinguishable as a smooth manifold, from the radius two sphere, which we will call $2S^1$. But integrating $1$ on the latter yields a different result: $16\pi$. What gives?</p>



<p>The obvious answer is that we shouldn’t be integrating the 1 function, but rather the $\frac14$ function, because the diffeomorphism between $S^1$ and $2S^1$ “spreads out the function”. And while this is legitimate intuition, that’s just not how functions “go across diffeomorphisms”. We need to consider some other kind of object.</p>



<p>Let’s inspect the “physicist’s way” of approaching integration. First, one divides the domain of discourse into many small rectangles, whose area we know how to calculate. Then, for each square, one multiplies the value of $f$ on that rectangle by its area $\dl A$. Finally, one sums over all the tiny squares, which we represent by a tall S in a familiar way as $\int f \dl A$.</p>



<p>How does this “approach” fail on smooth manifolds? The problem is that we don’t know how to measure the areas of the tiny rectangles. Indeed, the notion of area is not conserved when we change charts, so we cannot simply “measure the area of the rectangle in coordinates”, because this area depends on the coordinates chosen.</p>



<p>Consequently, in order to define integration, we need to add additional structure. For each point $x$ in our manifold $M$, we need to know how to measure areas of tiny rectangles in a coordinate-free way. The apparatus that allows us to do so is precisely the differential form: it receives an “infinitesimal parallelogram” (represented by its edges given as tangent vectors) and returns its area (or rather, its area “scaled up” as not to be infinitesimal).</p>



<div><figure><img loading="lazy" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff1-1024x424.png" alt="" width="757" height="313" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff1-1024x424.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff1-300x124.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff1-768x318.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff1-1536x635.png 1536w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff1-2048x847.png 2048w" sizes="(max-width: 757px) 100vw, 757px"/><figcaption>The relation between a parallelogram (orange) and the tangent vectors that represent it. Since our parallelogram is infinitesimal, we work not with its edge-vectors, but rather we rescale these up by a factor “$1/\varepsilon$”, where $\varepsilon$ is a previously fixed infinitesimal number. In other words, the vectors $v_1$ and $v_2$ represent a parallelogram with sides of order $\varepsilon$ and area of order $\varepsilon^2$.</figcaption></figure></div>



<p>This, by itself, is enough motivation to define a differential form as “something that takes $n$ tangent vectors and returns a number”, and it is very natural to require multilinearity and skew-symmetry. However, we have not yet reached a useful visualization.</p>



<p>To proceed, let us imagine that our manifold is some kind of physical object, composed of many tiny pieces like “atoms”. Then, there is an unambiguous way to measure some kind of area on the manifold: given some shape, one can count how many atoms lie in this shape. Then, assuming the atoms are uniformly distributed in some sense, one must only multiply the atom count by some scaling factor to obtain “the area” of the shape.</p>



<p>This thought experiment shows that a “manifold made of atoms” has a canonical way of measuring area (modulo a scaling factor). Therefore, it might be worth toying with the idea of representing a differential form by “a cover of the manifold by atoms”.</p>



<p>We then make the following “definition”: a differential form on $M$ is a cover of $M$ by an infinitely dense mesh of points. To calculate the area of a set $A \subseteq M$, we count the number of atoms in $A$, and multiply by an appropriate infinitesimal number.</p>



<p>The biggest benefit of this point of view is that it behaves naturally with regard to rescalings. In other words, if we apply a diffeomorphism to the manifold that scales everything up in some manner, we are also scaling up the spaces between the atoms (but not the weight of the atoms themselves!). Therefore, area is conserved.</p>



<p>Equivalently, this point of view allows for coordinate-independent measurement of area, as any distortion between two charts of $M$ will imply an equal distortion of the “atoms”, and again area is conserved</p>



<div><figure><img loading="lazy" width="965" height="1024" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff2-2-965x1024.png" alt="" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff2-2-965x1024.png 965w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff2-2-283x300.png 283w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff2-2-768x815.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff2-2-1448x1536.png 1448w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff2-2-1930x2048.png 1930w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff2-2.png 1950w" sizes="(max-width: 965px) 100vw, 965px"/><figcaption>Visual representation of some 2-forms in $\R^2$. The blue points represent “negative atoms”, which count negatively towards the atom count. To (approximately) measure the integral of each of these forms over a set $U$, simply count the amount of atoms in $U$.</figcaption></figure></div>



<h3>Other Order Forms</h3>



<p>Now that we have solved the problem of area measuring, what comes next? Why are other dimension forms necessary?</p>



<p>At the most elementary level, forms of dimensions other than $n$ appear in the statement of the generalized Stokes theorem (we will henceforth drop the “generalized” from the name). This is an important theorem, having as particular cases the divergence and Green’s theorem, which are very useful tools of calculation. Therefore, I hope the reader will agree that the study and proof (“proof”) of this theorem is a worthwhile endeavor.</p>



<p>If the reader is not yet familiar with the Stokes theorem, they may have some trouble understanding the following few paragraphs. However, I hope that the subject matter will become clearer over time. In any case, I suggest that such a reader would continue linearly until we state and “prove” the Stokes theorem, and then return here and reread this part with more context.</p>



<p>The statement of the Stokes theorem relates the integral of a form $\omega$ on the border of a set $U$ with the integral of its “derivative” $\dl \omega$ on the interior of $U$, with the usual statement being cleanly written as</p>



<p>Setting aside for now the “derivative” part of the statement, there is something we first have to touch. What kind of object does $\omega$ have to be for us to integrate it on $\partial U$? It cannot be a differential form as we have described them, because if we fill the space $M$ with a very fine grid of atoms, it is very unlikely that any of them lie exactly on the border of $U$.</p>



<div><figure><img loading="lazy" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff3-1024x711.png" alt="" width="554" height="385" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff3-1024x711.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff3-300x208.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff3-768x533.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff3.png 1344w" sizes="(max-width: 554px) 100vw, 554px"/><figcaption>The set $U$ and its border, $\partial U$, the integrals over which the Stokes theorem relates.</figcaption></figure></div>



<p>In other words, we seek to solve the following problem. We have already concluded that the kind of object used to integrate over $n$-dimensional sets and measure $n$-dimensional area is “covers of the space with points”. However, this is not adequate to integrate over $k$-dimensional sets, with $k &lt; n$, i.e. $k$-dimensional submanifolds of $M$. Therefore, we wish to discover what kind of object will allow us to naturally define integrals on $k$-dimensional submanifolds of $M$.</p>



<p>From now on, let $N$ be a $k$-dimensional submanifold of the $n$-dimensional manifold $M$.</p>



<p>The algebraic point of view presents itself rather naturally. Recall that the algebraic definition of a differential form is a thing that takes $n$ tangent vectors to the same point and returns a number. We want to define an object on $M$ which can be “restricted to $N$”, becoming an object which takes $k$ vectors tangent to $N$ and returns a number. It is then natural to define a “$k$-form on $M$” as an object $\omega$ which takes $k$ tangent vectors at the same point of $M$, and the restriction to $N$ becomes simply the restriction of $\omega$ to the collection of vectors tangent to $N$.</p>



<p>Let us now go from the algebraic point of view to the pictorial one. A $k$-form receives $k$ vectors, forming the edges of an infinitesimal parallelogram of dimension $k$. For example, if $n = 3$, this means that we are considering an infinitesimal line segment or rectangle, instead of a cube.</p>



<p>If you’ve seen my other post on the dual space, you should already be familiar with a way to visualize a covector, a thing that receives a vector and returns a number, as a collection of hyperplanes. This carries over to the notion of 1-form, which is also a thing that recieves a vector and returns a number. Indeed, we can visualize a 1-form $\eta$ as a collection of hypersurfaces (surfaces of dimension $n-1$) on our manifold, and evaluating $\eta$ on a vector consists of counting how many of these hypersurfaces intersect the given vector. Note the similarities:</p>



<figure><table><thead><tr><th data-align="center">$n$-form $\omega$</th><th data-align="center">1-form $\eta$</th></tr></thead><tbody><tr><td data-align="center">Collection of points (0-dimensional)</td><td data-align="center">Collection of hypersurfaces ($n-1$-dimensional)</td></tr><tr><td data-align="center">To evaluate on a collection of vectors, count how many points are in the parallelogram spanned by them</td><td data-align="center">To evaluate on a vector, count how many hypersurfaces intersect it</td></tr></tbody></table></figure>



<p>Now, it may not be obvious with only two data points, but I propose the following visualization of the intermediate steps: <em>Visualize a $k$-form as a collection of $n-k$-planes.</em></p>



<div><figure><img loading="lazy" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff4-381x1024.png" alt="" width="352" height="945" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff4-381x1024.png 381w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff4-112x300.png 112w" sizes="(max-width: 352px) 100vw, 352px"/><figcaption>A visualization of the restriction process of a $k$-form to a $k$-submanifold</figcaption></figure></div>



<p>Under this visualization, to evaluate such a $k$-form $\omega$ on a collection of $k$ vectors is to count how many of these $n-k$-planes intersect the $k$-parallelogram spanned by these vectors. The dimensions check out: in general, the intersection between two objects of dimension $a$ and $b$ is an object of dimension $a+b-n$, and if $a = n-k$ and $b = k$, this means that these intersections will often be 0-dimensional points.</p>



<p>As a bonus, our original goal is also met. Indeed, if the $k$-form $\omega$ consists of covering the space in $n-k$-planes, the restriction of $\omega$ to a submanifold $N$ consists simply of taking the intersection between these planes and $N$. As in the previous paragraphs, these intersections will often be points, and so we recover a differential form (of dimension $k$) on $N$.</p>



<h3>The Bad and the Ugly</h3>



<p>There are two big details we have been neglecting, and will keep neglecting, over the course of this post. We will now take a slight detour, to shed some light on them before we shove them under the carpet again.</p>



<p>Readers who are not terribly interested are encouraged to skip ahead to “The Exterior Derivative”.</p>



<h4>Transversality and Perturbations</h4>



<p>Let’s go back to this paragraph: “<em>in general, the intersection between two objects of dimension $a$ and $b$ is an object of dimension $a+b-n$, and if $a = n-k$ and $b = k$, this means that these intersections will often be 0-dimensional points.</em>” Why would this statement be true, and what do we mean by “in general”?</p>



<p>The answer is related to a concept known in differential geometry as transversality. The following discussion comes with a lot of asterisks, and is even more handwavey than the rest of this post.</p>



<p>Two submanifolds $A$ and $B$ of a common manifold $M$ are said to intersect transversely at a point $p$ if $T_p A$ and $T_p B$ span $T_p M$. Intuitively, this corresponds to the intersection being, well, transversal, as opposed to tangent. For example, two curves in the plane intersect transversely at a point if they form an angle which is not 0 or 180 degrees. Two curves in space never intersect transversely.</p>



<p>The most important fact about transversality, aside from the fact that transverse intersections are The Nice Kind, is that it is robust and very common. By this we mean that if two manifolds intersect transversely, then small enough perturbations of the manifolds will not mess that up: given small enough perturbations, they will still intersect, and the intersection will still be transverse.</p>



<p>Furthermore, non-transversality is sensitive and rare. If two manifolds intersect non-transversely, then almost no perturbations will preserve this state of affairs. For example, consider two lines in space. If you perturb either of them randomly, it is almost certain that they will stop intersecting. As another example, consider in $\R^2$ the $x$ axis and the graph of $f(x) = x^3$. These curves intersect non-transversely at the origin, but any tiny nudge in either of these curves in the up or down direction will make the intersection transverse.</p>



<p>Finally, transverse intersections satisfy the dimensionality property referred at the start. That is, if two manifolds $A$ and $B$, of dimension $a$ and $b$ respectively, intersect transversely, their intersection is a manifold of dimension $a+b-n$.</p>



<p>As a consequence, we will henceforth (as we have thus far) ignore the possibility of nontransverse intersections.</p>



<h4>Orientations</h4>



<p>Another important detail to be observed is the orientation of the surfaces “composing” a form, and more specifically the orientation of the intersections.</p>



<div><figure><img loading="lazy" width="310" height="1024" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff5-1-310x1024.png" alt="" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff5-1-310x1024.png 310w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff5-1-91x300.png 91w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff5-1-768x2540.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff5-1.png 947w" sizes="(max-width: 310px) 100vw, 310px"/></figure></div>



<p>For example, consider the example representation of the form $x \dl x \wedge \dl y$ pictured above, or something even simpler such as $-\dl x \wedge \dl y$, both in $\R^2$. Then, the “atom” representation requires that some or all of the atoms composing these representations count negatively.</p>



<p>As another example, consider, still in $\R^2$, the 1-form $\dl y$, which is represented as a uniform stack of horizontal lines. The mnemonic “to calculate $\dl y (v)$ is to count how many horizontal lines $v$ crosses” works if $v$ is pointing upwards, but requires negating the result if $v$ points downwards.</p>



<p>The easiest solution is to play with orientability. Suppose, for the moment, that $M$ is oriented, and let $\omega$ be a $k$-form. Then, we make the following slight addendum to our visualization of $\omega$: we represent it visually by a mesh of <em>oriented</em> $n-k$-submanifolds.</p>



<p>Here’s what this means for visualization purposes:</p>



<ul><li>Points will be represented, as we have so far, as either red or blue depending on whether they are positively or negatively oriented. (Yes, a zero dimensional manifold has orientation, either positive or negative at each point!)</li><li>Curves will be represented with an arrow representing the positive direction. The sign convention for evaluation will be given by the right-hand rule, so for example $\dl y$ in $\R^2$ would be given by arrows pointing to the right, and $\dl x \wedge \dl y$ in $\R^3$ would be given by arrows pointing upwards.</li><li>When representing 1-forms in $\R^3$ via surfaces, it should be understood which normal direction is positive, either via arrows indicating the positive direction or through written indication. However, this case probably won’t happen a lot.</li><li>Since I’m not going to be making pictures in 4d, that basically exhausts all possible cases, except for the case of 0-forms, which will be mentioned at the end.</li></ul>



<p>Again, note that all of this makes sense for orientable $M$. In one hand, this foreshadows an interesting fact: the theory of forms is more well-behaved for orientable manifolds than non-orientable ones. For example, a Riemannian metric on $M$ induces a volume form if and only if $M$ is orientable; in fact, a differentiable manifold $M$ is orientable if and only if it admits an $n$-form which is never null. Finally, and most problematic, the definition of integral of an $n$-form on a manifold requires that the manifold be orientable, so without orientability everything we intend to do with forms breaks down. [Note: There is a way around this last problem called “densities”, which is a sort of generalization of $n$-forms. Unfortunately, I know nothing about it.]</p>



<p>On the other hand, I would like to point out that despite these problems, a lot of what we will do works equally well in non-orientable surfaces. Indeed, every manifold is locally orientable, so our pictures work locally, and non-orientability will not invalidate our discussions on the exterior derivative, wedges or Lie derivatives. As a rule of thumb, local or pointwise statements will work in every manifold, while global statements require orientability.</p>



<h2>The Exterior Derivative</h2>



<p>Recall the form $\dl y$ on $\R^2$, which can be represented as a collection of horizontal lines. A trivial modification to this form would be considering $y \dl y$, in which the lines are getting denser the further up you go.</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff6-1-1024x513.png" alt="" width="662" height="330" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff6-1-300x150.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff6-1-768x384.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff6-1-1536x769.png 1536w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff6-1.png 2010w" sizes="(max-width: 662px) 100vw, 662px"/><figcaption>Representation of the two forms $\dl y$ and $y \dl y$. The blue lines represent “negative lines”, and intersections with them count as $-1$.</figcaption></figure></div>



<p>A slightly less trivial modification would be the form $x \dl y$. In this case, the lines are getting denser the further to the <em>right</em> you go, yet the lines must be horizontal, in order for horizontal vectors to intersect none of them. Consequently, you get a new-looking picture:</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff7-2.png" alt="" width="375" height="398" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff7-2.png 947w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff7-2-282x300.png 282w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff7-2-768x816.png 768w" sizes="(max-width: 375px) 100vw, 375px"/></figure></div>



<p>The new phenomenon exhibited here is the “creation of lines”. This phenomenon is meaningless for $n$-forms, but for forms of other dimensions $k$ it is the distinction between the “atoms” being $n-k$-manifolds, versus being $n-k$-manifolds <em>with boundary</em>.</p>



<p>All this to say, our formalism does not require that the surfaces representing forms be boundaryless. Indeed, some forms, like $x \dl y$, require that the surfaces representing them have boundary. As a consequence, it is natural to ask, given a form, whats its boundary is. You can probably see where this is going: if the $k$-form $\omega$ is represented by a collection of $n-k$-surfaces, their boundaries (which are $n-(k+1)$-forms) make up a $k+1$-form which we usually denote $\dl \omega$.</p>



<p>Let’s see what this looks like in the above examples. The forms $\dl y$ and $y \dl y$ are represented without boundary, so their exterior derivatives are null, which agrees with the symbolic computation. On the other hand, if we look at the borders of $x \dl y$, we get a uniform mesh of points, also known as the familiar $\dl x \wedge \dl y$.</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff8-1024x513.png" alt="" width="697" height="348" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff8-1024x513.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff8-300x150.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff8-768x384.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff8-1536x769.png 1536w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/09/diff8.png 2010w" sizes="(max-width: 697px) 100vw, 697px"/><figcaption>Visual representation of the computation of $\dl\,(x \dl y)$. Even though the visual representation on the right is not exactly a uniform grid, it is supposed to be: the vertical offset is only an artifact of the visualization of $x \dl y$.</figcaption></figure></div>



<p>Let’s look at another, more complicated example, now in three-dimensional space.</p>



<p>Consider the 1-form $xy \dl z$. As in the $x \dl y$ example, this form must be represented by horizontal planes. Their density depends on $x$ and $y$, so that near the axes there are less planes, and far from the axes there are more. Furthermore, the amount of planes at a point is proportional to $xy$, so it makes sense to represent this form by a collection of planes with hyperbolic borders:</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff9-1-1024x423.png" alt="" width="575" height="235"/><figcaption>Visualization of $xy \dl z$. The red planes are oriented such that an arrow going “up through” them counts positively, while such an arrow would count negatively going through a blue plane.</figcaption></figure></div>



<p>Let us now compute visually the 2-form $\dl(xy \dl z)$. The picture is as follows.</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff10.png" alt="" width="-353" height="-148" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff10.png 1012w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff10-300x126.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff10-768x323.png 768w" sizes="(max-width: 1012px) 100vw, 1012px"/><figcaption>Visual representation of $\dl(xy \dl z)$. Note that the borders of planes are oriented with the right-hand rule.</figcaption></figure></div>



<p>The result is a collection of curves satisfying the equation $xy = c$, with $z$ constant. Let us label these curves by $c$ and $z$. We will calculate the form $\dl(xy \dl z)$, let us call it $\omega$ from now on, at a point $p = (x_0,y_0,z_0)$.</p>



<p>We’ll revisit this example again when we look at the wedge product, but until then we will sketch the answer by calculating it for a well-chosen basis of the tangent space at $p$. Consider the following three vectors:</p>



<div><figure><img loading="lazy" width="641" height="402" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff11-2.png" alt="" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff11-2.png 641w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff11-2-300x188.png 300w" sizes="(max-width: 641px) 100vw, 641px"/><figcaption>The basis we are constructing for $T_p \R^3$.</figcaption></figure></div>



<p>The vector $v_1$ is simply $(0,0,1)$. The vector $v_2$ is chosen to be tangent to the curves, and $v_3$ is meant to point in a direction of “increasing $c$”. We’ll look at $\omega(v_1, v_3)$ shortly, but until then it should be clear that $\omega(v_1,v_2) = \omega(v_2,v_3) = 0$. In general, whenever a vector is tangent to the curves defining a form, any parallelogram with it as an edge will have no (or negligible) intersection with these curves.</p>



<p>With only this, we are in position of finding a partial expression for $\omega$. Indeed, if $a_1, a_2, a_3, b_1, b_2, b_3$ are real numbers,</p>



<p>\[\omega(a_1 v_1 + a_2 v_2 + a_3 v_3, b_1 v_1 + b_2 v_2 + b_3 v_3) = \left\lvert \begin{matrix}a_1 &amp; b_1 \\ a_3 &amp; b_3 \end{matrix} \right\rvert \omega(v_1, v_3).\]</p>



<p>It remains to compute $a_1$ and $a_3$ for a vector of the form $a= a_1 v_1 + a_2 v_2 + a_3 v_3$.</p>



<p>The $a_1$ component is trivial: it is simply the $z$ component of $a$. To compute $a_3$, it is convenient to calculate $v_3$. If $v_1$, $v_2$ and $v_3$ are chosen to make an orthonormal basis, $a_3$ can be easily written as $a_3 = a \cdot v_3$.</p>



<p>First, we compute $v_2$. Since it is tangent to horizontal curves, it is of the form $(v_{2x}, v_{2y}, 0)$. Since it is tangent to the curve $xy = c$, the value of $c$ for $p + \varepsilon v_2$ ought to be equal to $x_0 y_0$ to first order. This value is $(x_0 + \varepsilon v_{2x})(y_0 + \varepsilon v_{2y}) \approx x_0 y_0 + \varepsilon (x_0 v_{2y}+ y_0 v_{2x})$. Therefore,we conclude</p>



<p>\[x_0 v_{2y}+ y_0 v_{2x} = 0.\]</p>



<p>The unit norm solution to this equation with, say, $v_{2x} &gt; 0$, is</p>



<p>\[v_2 = \frac1r (x_0, -y_0, 0), \quad r = \sqrt{x_0^2 + y_0^2}.\]</p>



<p>Finally, we calculate $v_3$ as a unit vector, pointing away from the axes, orthogonal to $v_1$ and $v_2$.</p>



<p>Orthogonality to $v_1$ means simply its last coordinate is null, so we get $v_3 = (v_{3x}, v_{3y}, 0)$. Orthogonality to $v_2$ means $x_0 v_{3x}-y_0 v_{3y} = 0$, with obvious solution</p>



<p>\[v_3 = \frac1r (y_0, x_0, 0).\]</p>



<p>In conclusion, we may write</p>



<p>\[\omega(a, b) = \left\lvert \begin{matrix}a_z &amp; b_z \\ \frac1r (y_0 a_x + x_0 a_y) &amp; \frac1r (y_0 b_x + x_0 b_y) \end{matrix} \right\rvert \omega(v_1, v_3),\]</p>



<p>Or, in more familiar wedge notation,</p>



<p>\[\omega = \omega(v_1, v_3) \dl z \wedge \left( \frac1r ( y_0 \dl x + x_0 \dl y) \right) = \frac1r \omega(v_3, v_1) \left( y_0 \dl x \wedge \dl z + x_0 \dl y \wedge \dl z \right). \]</p>



<p>(Note the double sign change in the second step! $\omega(v_1,v_3) \to \omega(v_3,v_1)$ and $\dl z \wedge \dl x \to \dl x \wedge \dl z$.)</p>



<p>Finally, we calculate $\omega(v_3, v_1)$. The order change may appear confusing (we put $v_3$ before $v_1$), but it is actually for the best: this way, the vectors $v_3, v_1$ and the red arrows satisfy the right-hand rule, so that the result is positive.</p>



<p>Since $v_1$ is a vertical unit vector and the system is symmetric with regard to vertical translations, we reduce the computation to finding out how many curves the vector $v_3$ passes through in the $z = z_0$ plane. In other words, we wish to find out how much $c$ varies between $p$ and $p + \varepsilon v_3$. The answer is trivial to calculate:</p>



<p>\[c_{\text{final}} = (x_0 + \varepsilon \frac1r y_0)(y_0 + \varepsilon \frac1r x_0) \approx c_{\text{start}} + \varepsilon \frac1r (x_0^2 + y_0^2) = c_{\text{start}} + \varepsilon r.\]</p>



<p>Therefore, we conclude that the rectangle spanned by $\varepsilon v_3$ and $\varepsilon v_1$ passes through roughly $\varepsilon^2 r$ curves, whence $\omega(v_3, v_1)$ should be $r$, and so our sketches yield</p>



<p>\[\omega = y \dl x \wedge \dl z + x \dl y \wedge \dl z.\]</p>



<p>That was a boatload of work. Good thing they invented vector calculus, with which we may verify our computation:</p>



<p>\[\omega = \dl(xy \dl z) = \dl(xy) \wedge \dl z = (y \dl x + x \dl y) \wedge \dl z = y \dl x \wedge \dl z + x \dl y \wedge \dl z.\]</p>



<h2>The Stokes Theorem</h2>



<p>In this framework, the Stokes theorem is quite a triviality. (If you consider something like the Jordan curve theorem a triviality, at least…)</p>



<p>Intuitively, let $M$ be an $n$-dimensional manifold and $Q$ a manifold which splits $M$ into “an inside” and “an outside”. The “inside” must be small in the sense that a line cannot “go on infinitely inside”. For example, the plane $z = 0$ would not split $\R^3$ into an inside and an outside, because neither half-space is small in this sense: you have infinite line segments living in each.</p>



<p>An example of a set we wish to consider is $Q = S^2$, which splits $\R^3$ into an inside and an outside. The inside is “small” because the only way to have an infinite line inside $Q$ is to have it wind up infinitely. Now, it is hard to express properly why such infinite winding up is disallowed, but if we assume that it is, then the inside of $S^2$ counts as small. We are interested in sets whose inside satisfies this property.</p>



<p>Of course, all this intuitive handwaving is intended to convey a concept which mathematicians have figured out long ago: We want $Q$ to be the border of a manifold with boundary, say $N$. To say that $N$ (“the inside”) is small is to say that $N$ is compact.</p>



<p>Now, we intend to integrate some $n-1$-form $\omega$ on $Q$. Ordinarily, there would be no reason to believe that there would be a way to simplify this computation, but the hypothesis that $Q$ splits the space in two implies a very important fact: <em>any line which enters $Q$ must either exit it again or stop inside $Q$.</em> Therefore, if we see integrating an $n-1$-form on $Q$ as counting the lines entering $Q$, we conclude that solving the problem of integrating $\omega$ on $Q$ is the same as to count the number of line ends in $N$. The line ends are counted by $\dl \omega$, and so we conclude the familiar formula</p>



<p>\[\int_{\partial N}\omega = \int_N \dl \omega.\]</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff12-1.png" alt="" width="382" height="310" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff12-1.png 763w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff12-1-300x243.png 300w" sizes="(max-width: 382px) 100vw, 382px"/><figcaption>Visualization of the Stokes theorem. The integral $\int_{\partial N} \omega$ counts the number of intersections (red minus blue, because orientations). The integral $\int_N \dl \omega$ counts the number of crossed dots inside $N$.</figcaption></figure></div>



<h2>What Comes Next</h2>



<p>Let’s recap what we’ve done thus far. We have defined an $n$-form as an area/volume/measure measuring device. In order to measure areas of lower dimension (say, on submanifolds) we have defined the notion of $k$-form for $k &lt; n$. These lower-dimensional forms displayed a phenomenon that could not be seen in the $n$-forms, which is the possibility that the “atoms” were manifolds with boundary. Hence, we defined the notion of exterior derivative as that which recovers these boundaries, and turns a $k$-form into a $k+1$-form. Finally, we exploited the notion of “closed surface” to simplify the computation of integrals of $n-1$-forms, by noticing that counting outbound lines is the same as counting line ends inside the surface. This is the celebrated Stokes Theorem.</p>



<p>The Stokes Theorem is certainly a very important milestone in vector calculus, but it is only the beginning. I cannot hope to describe every phenomenon and definition, but in the remainder of this post we will look at four important concepts: Wedge Products, Pullbacks, Lie Derivatives and Inner Products (aka Contraction aka that thing where you put a vector field into the form). The discussion will culminate in another celebrated formula of tensor calculus: Cartan’s Magical Formula</p>



<p>\[ \Lie_X(\omega) = \dl(X \into \omega) + X \into \dl \omega.\]</p>



<h3>The Wedge Product</h3>



<h4>Introduction: Wedges as Symbolic Glue</h4>



<p>One of the biggest advantages of tensor calculus is its practicality. With only a small set of rules, it is possible to do all kinds of manipulations and calculations in coordinates, which is part of what makes tensors so useful and applicable in engineering and physics.</p>



<p>The reason behind this practicality is that, as the reader may or may not already know, tensors are decomposible into very elementary parts. Indeed, any tensor can be written using only functions and one-forms, for example something of the sort</p>



<p>\[\omega = f \dl x \wedge \dl y + g \dl z \wedge \dl w.\]</p>



<p>The symbol between the one-forms is called the wedge product, and it is the glue that allows us to compose small-dimensional forms in order to make higher-dimensional forms.</p>



<p>Therefore, when we define some new type of transformation (like, say, an exterior derivative or a Lie derivative), it suffices to find how it behaves on these elementary parts, and how it behaves under the wedge product. This then gives us a recipe for computing that transformation: simply decompose, apply to the elementary parts, and tie it all back again.</p>



<p>[Remark: The reader might (understandably) believe that there is not one type of “symbolic glue” in play, but two: the wedge product, and the product by scalar functions. However, as it turns out, the product by a scalar function actually corresponds to the wedge product by a zero-form; see appendix A for details.]</p>



<h4>Wedges as Intersections</h4>



<p>Our current goal is to decompose a $k$-form into forms of lower dimension. From the perspective of our framework, in which a $k$-form is represented by $n-k$-dimensional surfaces, we wish to write a manifold in terms of manifolds of higher dimension.</p>



<p>This may seem abstract, but it is very easy to motivate if we think in terms of cartesian equations. For example, consider a one-dimensional curve in $\R^3$ such as the red circle in the following figure:</p>



<div><figure><img loading="lazy" width="1024" height="799" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff13-1024x799.png" alt="" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff13-1024x799.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff13-300x234.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff13-768x599.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff13-1536x1199.png 1536w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff13.png 1644w" sizes="(max-width: 1024px) 100vw, 1024px"/><figcaption>The red circle is the intersection of the orange cylinder and blue plane.</figcaption></figure></div>



<p>This curve can be written in terms of the cartesian equations</p>



<p>\[\begin{cases} x^2 + y^2 = 1,\\z = 1.\end{cases}\]</p>



<p>Now there is a trivial way to decompose this one-dimensional object as the intersection of two 2-dimensional objects: a horizontal plane $z=1$ and a cylinder $x^2 + y^2 = 1$.</p>



<p>This is a more or less general phenomenon. We can define a $d$-dimensional surface in $n$-dimensional space through $n-d$ cartesian equations. Each of these equations separately defines an $n-1$-dimensional surface, and their intersection is obviously the surface we started with. In other words, we get a kind of general principle:</p>



<p><em>A surface $S$ of dimension $d$ contained in $n$-dimensional space can be written as the intersection of $n-d$ hypersurfaces.</em></p>



<p>The next step is to apply to this to our framework for forms. A $k$-form $\omega$ is represented through $n-k$-surfaces, so we should expect to write the surfaces composing $\omega$ as the intersection of $k$ hypersurfaces; that is, to write $\omega$ in terms of $k$ one-forms. Sound familiar?</p>



<p>This, in turn, presents a way to “glue forms”: take the intersection of the corresponding surfaces. Indeed, the notation of wedge product is even suggestive: ever notice how $\omega \wedge \eta$ kind of looks like $\omega \cap \eta$? I have no idea if this is a coincidence, but if so it is a very fortunate one.</p>



<p><em>Let $\omega$ be a $k$-form and $\eta$ be an $\ell$-form. Define the wedge product of $\omega$ and $\eta$ as the $k+\ell$-form whose atoms are the pairwise intersections of atoms from $\omega$ and atoms from $\eta$.</em></p>



<p>For a simple example, let us show that the wedge product $\dl x \wedge \dl y$ corresponds to the uniform mesh of points we have come to associate with the standard area form on $\R^2$. Indeed, recall that $\dl x$ is represented by uniformly spaced vertical lines, and $\dl y$ is represented by uniformly spaced horizontal lines. Then, it is visually obvious that the collection of pairwise intersections is a square grid of points.</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff14-965x1024.png" alt="" width="516" height="547" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff14-965x1024.png 965w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff14-283x300.png 283w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff14-768x815.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff14-1448x1536.png 1448w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff14-1930x2048.png 1930w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff14.png 1950w" sizes="(max-width: 516px) 100vw, 516px"/><figcaption>Writing the atoms of $\dl x \wedge \dl y$ as intersections of horizontal and vertical lines.</figcaption></figure></div>



<h4>Dimensions, Orientations and Properties</h4>



<p>Appealing though this “definition” of wedge product may be, it remains to show (or at least, plausibly convince) that the wedge product has the properties we have come to expect it to have. For example, is it even obvious that the dimension of the wedge is the sum of the dimensions of the arguments? In this section, we sketch arguments to justify the most important properties of the wedge product.</p>



<ul><li>Dimension: First, we recall the discussion on transversality above. In particular, recall that we will always be assuming that all intersections are transverse, which bodes very well for dimensional considerations. In particular, the math checks out: if $\omega$ is $k$-dimensional and $\eta$ is $\ell$-dimensional, they are represented respectively by $n-k$ and $n-\ell$-surfaces, whose intersection has dimension $(n-k)+(n-\ell)-n= n-(k+\ell)$, which corresponds, as desired, to a $k+\ell$-form.</li><li>$\dl x \wedge \dl x = 0$: The calculation of such a wedge requires a bit of thought. At first glance, it would seem that $\dl x \wedge \dl x = \dl x$, because we are intersecting a collection of hyperplanes with themselves. However, the computation cannot be done in this way, because a hyperplane is not traverse to itself!</li><li>$\omega \wedge \eta = (-1)^{k\ell} \eta \wedge \omega$: To talk about this property, we would need to go back to the issue of orientations. However, without getting into it, it is a priori obvious that $\omega \wedge \eta = \pm \eta \wedge \omega$, as the intersection of two surfaces does not depend on the order in which the intersection is taken. However, the sign issues arise upon consideration of the <em>orientation of the intersection</em>.</li><li>Associativity: Like in the previous bullet point, it is obvious that the wedge product would be associative up to sign. To show that the orientations of $\alpha \wedge (\beta \wedge \gamma)$ and $(\alpha \wedge \beta) \wedge \gamma$ match up would require a deeper inspection of the orientation conventions, but it does check out.</li></ul>



<p>[Note to future self: Write another post discussing orientations in more detail?]</p>



<h4>Exterior Derivative of a Wedge Product</h4>



<p>The following picture should speak for itself, modulo orientations.</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff15-1-1024x903.png" alt="" width="-156" height="-138" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff15-1-1024x903.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff15-1-300x265.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff15-1-768x677.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff15-1-1536x1355.png 1536w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/10/diff15-1.png 2010w" sizes="(max-width: 1024px) 100vw, 1024px"/><figcaption>A visual argument for $\dl(\omega \wedge \eta) = \pm \dl \omega \wedge \eta \pm \omega \wedge \dl \eta$.</figcaption></figure></div>



<p>Again, to figure out the signs one would need a more careful look at orientations, which is beyond the scope of this post, but the formula is given by</p>



<p>\[\dl(\omega \wedge \eta) = \dl \omega \wedge \eta + (-1)^k \omega \wedge \dl \eta\text{, for $\omega$ of dimension $k$.}\]</p>



<h3>Pullbacks and Lie Derivatives</h3>



<h4>Pullbacks</h4>



<p>Let $M$ and $N$ be manifolds, and $f \colon M \to N$ a smooth function. Then, the pullback of a form $\omega$ on $N$ is usually defined as follows:</p>



<p>\[f^* \omega(v_1, \dots, v_k) := \omega((\dl f)v_1, \dots, (\dl f) v_k).\]</p>



<p>Symbolically, this is a very natural operation to define, but it also finds a nice interpretation in our framework.</p>



<p>For simplicity, let us consider a one-form $\omega$ on $N$, though the following argument applies to higher-dimensional forms as well. Recall that we represent $\omega$ through a collection of hypersurfaces, and to evaluate $\omega(v)$ on a vector $v$ tangent to $N$ we <em>count how many of the hypersurfaces the vector $v$ crosses</em>.</p>



<p>Consequently, to evaluate $f^* \omega$ on a vector $w$ tangent to $M$, what one does is push the vector $w$ forwards and counts how many surfaces of $\omega$ it crosses. However, a bit of mental gymnastics should convince you of the following alternative definition: <em>To evaluate $f^*\omega(w)$, pull the surfaces composing $\omega$ back into $M$ (taking their preimage in $f$), and count how many of those $w$ crosses</em>. In other words, we can represent $f^*\omega$ using the preimages of the surfaces that represent $\omega$.</p>



<div><figure><img loading="lazy" width="1024" height="415" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff16-1-1024x415.png" alt="" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff16-1-1024x415.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff16-1-300x122.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff16-1-768x311.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff16-1-1536x623.png 1536w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff16-1-2048x830.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"/><figcaption>Left side: the manifold $N = \R^2$, with the form $f^* \omega$ in red and a vector $w$ in blue. Right side: the manifold $M = \R^2$, with the form $\omega = \dl x$ in red and the vector $(\dl f) w$ in blue. Crossings between the vector and the form are highlighted as to show the equivalence in modes of computation. Some artistic liberties were taken: the atoms were drawn more densely than usual to aid in visualization, and the vector $(\dl f) w$ is drawn slightly distorted. Indeed, what is drawn is the pointwise image of the curve which goes in a straight line from $(0,1)$ to $(1,2)$.</figcaption></figure></div>



<p>Like many others so far, this definition comes with a few of asterisks, because it is not obvious that taking the preimage under $f$ of the atoms of $\omega$ will yield a collection of atoms of the right dimension. Less obvious yet is that preimages behave well under borders, i.e. that $\partial f^{-1}(A) = f^{-1}(\partial A)$, where $A$ is one of the atoms of $\omega$ and $\partial$ is the border operator. I myself do not understand the underlying mechanics particularly well, though this post will be updated if this unfortunate state of affairs happens to change.</p>



<p>However, shady though it may seem, it appears to be the case that in general the border of the preimage coincides with the preimage of the border, and so we reach the classical fact:</p>



<p>\[ \dl(f^* \omega) = f^* (\dl \omega).\]</p>



<h4>Lie Derivatives</h4>



<p>First, let us recall the usual definition of Lie derivative.</p>



<p>Let $\omega$ be a form on $M$, and $X$ a vector field. Let $\phi_t$ be the time-$t$ flow of $X$. Of course, there are domain issues when considering flows, but we will sweep it all under the rug.</p>



<p>We define the Lie Derivative of $\omega$ in the direction of $X$ by the formula</p>



<p>\[\Lie_X \omega = \Eval{\doverd t}_0 \phi_t^* \omega.\]</p>



<p>In order to inspect this definition, let us begin by considering the pullback of a form by a flow. As we have seen, the pullback of a form can be visualized by taking the preimage of the form’s atoms, so we can visualize $\phi_t^* \omega$ by “flowing the atoms of $\omega$ backwards with $X$”.</p>



<p>This kind of moving visualization is harder to make drawings of, so I ask the reader to use their imagination to visualize the following example. Consider the form $\omega = \dl x \wedge \dl y$ in $\R^2$, visualized as a uniform grid of points. Let $X$ be the radial vector field $X_{(x,y)} = x \partial_x + y \partial_y$.</p>



<p>We will visualize $\phi_t^* \omega$ as $t$ varies by visualizing the motion of the atoms. Of course, for $t = 0$ there has been no motion, so we begin by seeing a uniform grid of points in $\R^2$.</p>



<p>Then, we begin flowing for positive time. The vector field in question points outwards from the origin, so since we are taking the preimage under the flow we move the atoms <em>inwards</em>. By solving the ODE, it is easy to check that an atom starting at $(x,y)$ will, after time $t$, be at the point $\e^{-t} (x, y)$. Therefore, we conclude that our uniform mesh of points is being pulled towards the origin in a way that preserves uniformity: after time $t$, distances between points have been uniformly compressed by a factor of $\e^{-t}$.</p>



<p>This even allows us to compute explicitly $\phi_t^* \omega$. Indeed, a uniform mesh of points represents a form of the type $C \dl x \wedge \dl y$, so all that remains is to find $C$. A heuristic argument is as follows: since in every direction, points are denser by a factor of $\e^{-t}$, the amount of points in a given parallelogram has been increased by $(\e^t)^2$. In other words, we claim that $\phi_t^* \omega = \e^{2t} \dl x \wedge \dl y$.</p>



<p>A slightly less heuristic argument is to start with the unit square at time $t = 0$, and flow it for time $t$. This will result in a smaller square, of side $\e^{-t}$, which contains exactly the same atoms, whence we conclude</p>



<p>\[\phi_t^* \omega (\e^{-t} \partial_x, \e^{-t} \partial_y) = \omega(\partial_x, \partial_y) = 1.\]</p>



<p>A few algebraic manipulations will yield again the result $C = \e^{2t}$.</p>



<div><figure><img loading="lazy" width="310" height="1024" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff17-1-310x1024.png" alt="" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff17-1-310x1024.png 310w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff17-1-91x300.png 91w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff17-1-768x2540.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff17-1.png 947w" sizes="(max-width: 310px) 100vw, 310px"/><figcaption>The construction of $\phi^*_{\dl t} (\dl x \wedge \dl y)$ for the radial vector field. The Lie derivative will measure the difference between the red form and the orange form.</figcaption></figure></div>



<p>Now that we are familiar with the pullback of a form under a flow, all that remains is to differentiate. Unfortunately, the only visualization I am able to provide is very lackluster, and I encourage any reader who has a better idea to contact me.</p>



<p>Let us visualize differentiation using infinitesimals. In what follows, let $\dl t$ be a very small positive number. Then, $\Eval{\doverd t}_0 \phi_t^* \omega = \frac1{\dl t} (\phi_{\dl t}^* \omega – \omega)$. In other words, we begin by taking $\omega$, flowing it backwards through $X$ for infinitesimal time, and subtracting $\omega$ again. Now, this is zero to zeroth order, so we divide by $\dl t$ in order to get a real-valued thing.</p>



<p>Let’s elaborate a bit on the flow part for a moment. To first order, taking the flow in infinitesimal time is just calculating the velocity vector at the point and moving in the direction of the tip. In other words, (visualizing vectors as infinitesimal arrows) we may visualize $\phi_{\dl t}^* \omega$ by, for each point $p$ of each atom $A$, evaluating $X_p$ at that point and placing the arrow so that the <em>tip</em> is at $p$. Then, we replace $p$ by the tail of the arrow $X_p$. Doing this process for each point $p$, we obtain a new surface $B$, which is the atom of $\phi_{\dl t}^* \omega$ which corresponds to the atom $A$ in $\omega$. Repeating this process for every atom $A$ we obtain the atoms of $\phi_{\dl t}^* \omega$.</p>



<p>See the figure on the right for the example with the volume form $\omega$ on $\R^2$, and the radial field. Given a red atom at $(x,y)$, the corresponding orange atom is given by $(x,y)-\dl t X_{(x,y)}$, that is,</p>



<p>\[(x,y)-\dl t X_{(x,y)} = (1-\dl t)(x,y).\]</p>



<p>Therefore, we have a grid of uniformly spaced atoms, with a unit square with sides $(1-\dl t) \partial_x$ and $(1-\dl t) \partial_y$. Therefore, an argument similar to above will show that the orange atoms represent the form</p>



<p>\[\phi^*_{\dl t} \omega = (1-\dl t)^{-2} \dl x \wedge \dl y,\]</p>



<p>and therefore we may calculate the Lie derivative of $\omega$ in the direction of $X$:</p>



<p>\[\Lie_X \omega = \frac1{\dl t} (\phi_{\dl t}^* \omega – \omega) = \frac1{\dl t} ((1 – \dl t)^{-2} – 1) \dl x \wedge \dl y,\]</p>



<p>and a bit of elementary calculus shows that, taking the limit $\dl t \to 0$,</p>



<p>\[\Lie_X \omega = \frac{(1 – \dl t)^{-2} – 1}{\dl t} \dl x \wedge \dl y = 2 \dl x \wedge \dl y.\]</p>



<h3>Contraction/Inner Product</h3>



<p>At first, it seems difficult to visualize the contraction, because it is explicitly defined in terms of evaluation. In case you’ve forgotten or have never heard of it, given a $k$-form $\omega$ and a vector field $X$, we define the contraction $X \into \omega$ as</p>



<p>\[(X \into \omega)(v_1, \dots, v_{k-1}) := \omega(X, v_1, \dots, v_{k-1}).\]</p>



<p>To see an easy example of how such a form can be drawn, consider the simple example $M = \R^2$, $X = \partial_x$ and $\omega = \dl x \wedge \dl y$.</p>



<div><figure><img loading="lazy" src="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff18-1024x465.png" alt="" width="655" height="297" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff18-1024x465.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff18-300x136.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff18-768x349.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff18.png 1304w" sizes="(max-width: 655px) 100vw, 655px"/><figcaption>A visualization of calculating $(X \into \omega)(v)$ for some $v$. On the left is the trivial calculation, in which you draw the parallelogram and count how many atoms are inside it. On the right is a different perspective, in which we put a copy of $X$ on each node and count how many of these copies of $X$ the vector $v$ crosses.</figcaption></figure></div>



<p>The idea, as seen in the image above, is to count the amount of atoms inside the parallelogram spanned by $v$ and $X$ by counting <em>intersections</em>. Indeed, roughly speaking, a point $q$ is inside the parallelogram spanned by $v$ and $X$ if and only if there exist $\alpha, \beta \in [0,1]$ such that</p>



<p>\[q = p + \alpha v + \beta X.\]</p>



<p>Rearranging terms, one concludes that this happens if and only if there exist such $\alpha$ and $\beta$ such that</p>



<p>\[p + \alpha v = q – \beta X,\]</p>



<p>that is, the line segment that goes from $p$ to $(p+v)$ intersects the line segment that goes from $(q-X)$ to $q$.</p>



<p>A simple calculation will yield a similar result for higher dimensions and for forms with non-point atoms. The general rule is as follows:</p>



<p><em>To represent $X \into \omega$ as a form, we construct its atoms out of the atoms of $\omega$ as follows. If $A$ is an atom of $\omega$, i.e. an $n-k$-manifold, at each of its points $a$ we calculate $X_a$, and draw this vector with the arrow tip on $A$. We then take the union of all the points on all of these vectors, yielding an $n-k+1$-manifold, which we call $X \into A$. The atoms of $X \into \omega$ are all those of the form $X \into A$.</em></p>



<p>Alternate definition of $X \into A$: The points of the form $a – t X_a$, for $a \in A$ and $t \in [0,1]$.</p>



<p>Let’s look at the example above again, and calculate $X \into \omega$. This case is particularly easy, but we will see that sometimes the visualization of $X \into \omega$ requires some mental gymnastics.</p>



<p>In this case, we begin by drawing a uniform grid of points, and drawing $X$ at each point. Then, we just consider the collection of resulting line segments.</p>



<div><figure><img loading="lazy" width="3073" height="1006" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff19.png" alt="" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff19.png 3073w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2021/11/diff19-300x98.png 300w" sizes="(max-width: 3073px) 100vw, 3073px"/><figcaption>The construction of the 1-form given by $\partial_x \into (\dl x \wedge \dl y)$.</figcaption></figure></div>



<p>As you can see, this is a collection of line segments which are organized in rows, where each row is composed of infinitely many (length one) line segments. However, the way that the form is evaluated on a vector would not change if we glued these line segments together. So we glue them, and lo and behold, we get a uniform collection of horizontal lines, also known as $\dl y$, so we conclude</p>



<p>\[\partial_x \into (\dl x \wedge \dl y) = \dl y.\]</p>



<h3>Cartan’s Magical Formula</h3>



<p>We are now ready to look at Cartan’s magic formula for the Lie derivative, as we have already seen the three necessary ingredients: the Lie derivative, contraction, and the exterior derivative.</p>



<p>Let us begin by noting the relation between these three concepts. Given a vector field $X$ and a form $\omega$, both the Lie derivative and the contraction are related to the notion of “gluing the tip of $X$ into the atoms of $\omega$”. Indeed, if $\omega$ is a top form (i.e. its atoms are points) a useful identity appears:</p>



<p>\[\Lie_X \omega = \dl(X \into \omega).\]</p>



<div><figure><img loading="lazy" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff20-1-1024x931.png" alt="" width="476" height="432" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff20-1-1024x931.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff20-1-300x273.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff20-1-768x698.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff20-1.png 1301w" sizes="(max-width: 476px) 100vw, 476px"/><figcaption>A visual proof that, for a top-level form $\omega$, $\Lie_X \omega = \dl(X \into \omega)$.</figcaption></figure></div>



<p>This identity is the first version of Cartan’s magic formula, and it actually works whenever $\omega$ is a closed form. However, when $\omega$ has atoms with nonempty border, a new term appears. To visualize why, suppose that $\omega$ is not a closed form, and has an atom $A$ with border $\partial A$. Assume for the sake of terminology that $A$ is one-dimensional, so that we may call it a curve with one or two extrema. Then, $X \into A$ is a strip. One of its sides is exactly $A$. Let us call the opposite side $B$, and the one or two other sides will be called $C$. Then, on the one hand, the atom corresponding to $\Lie_X \omega$ is simply $A+B$. On the other hand, $\dl(X \into \omega)$ includes $A$ and $B$, but also $C$, so we need to remove that term. A little bit of thought shows that $C$ is an atom from $X \into \dl \omega$, and so, modulo signs, we reach the famous formula</p>



<p>\[\Lie_X \omega = \dl(X \into \omega) + X \into \dl \omega.\]</p>



<div><figure><img loading="lazy" src="http://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff21-1024x835.png" alt="" width="-303" height="-247" srcset="https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff21-1024x835.png 1024w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff21-300x245.png 300w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff21-768x626.png 768w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff21-1536x1252.png 1536w, https://web.tecnico.ulisboa.pt/~ist189623/wordpress/wp-content/uploads/2022/03/diff21.png 1668w" sizes="(max-width: 1024px) 100vw, 1024px"/><figcaption>A visual proof of Cartan’s magic formula. Note that, while orientations are usually opaque, they are reasonably understandable here. The most difficult orientations here are those of $\dl(X \into \omega)$. To understand them, simply note that the “positive direction” on the border is the one induced by $\omega$, and any arrow in that direction counts as positive, and in the opposite direction counts as negative.</figcaption></figure></div>



<h2>Appendix A: Zero-Forms</h2>





		
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article>

<!-- #comments -->
		
		</main><!-- #main -->
	</section><!-- #primary -->
	
	
	<!-- #secondary -->

	

	</div></div>
  </body>
</html>
