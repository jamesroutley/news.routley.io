<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/microsoft/napajs">Original</a>
    <h1>Napa.js: A multi-threaded JavaScript runtime</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a href="https://travis-ci.org/Microsoft/napajs" rel="nofollow"><img src="https://camo.githubusercontent.com/ed05e65464adb6a6f5beb2ade5dbda28a5d886a56a570fb9449e24193ff4739b/68747470733a2f2f7472617669732d63692e6f72672f4d6963726f736f66742f6e6170616a732e7376673f6272616e63683d6d6173746572" alt="Build Status for Linux/MacOS" data-canonical-src="https://travis-ci.org/Microsoft/napajs.svg?branch=master"/></a>
<a href="https://ci.appveyor.com/project/napajs/napajs" rel="nofollow"><img src="https://camo.githubusercontent.com/1a86ead9442a12c3ded136d96c2b758508de4a9a94acffae2bf6190cae400427/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f6769746875622f4d6963726f736f66742f6e6170616a733f6272616e63683d6d6173746572267376673d74727565" alt="Build Status for Windows" data-canonical-src="https://ci.appveyor.com/api/projects/status/github/Microsoft/napajs?branch=master&amp;svg=true"/></a>
<a href="https://www.npmjs.com/package/napajs" rel="nofollow"><img src="https://camo.githubusercontent.com/04b4ad6f1b85198a23e090859ce0979e7c5a42c7e988931977fc60672dedf3b0/68747470733a2f2f62616467652e667572792e696f2f6a732f6e6170616a732e737667" alt="npm version" data-canonical-src="https://badge.fury.io/js/napajs.svg"/></a>
<a href="https://www.npmjs.com/package/napajs" rel="nofollow"><img src="https://camo.githubusercontent.com/61bd5881aa010a98879a9c38635482959d64c528f728d500c02bec9c763b356a/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f646d2f6e6170616a732e737667" alt="Downloads" data-canonical-src="https://img.shields.io/npm/dm/napajs.svg"/></a></p>

<p dir="auto">Napa.js is a multi-threaded JavaScript runtime built on <a href="https://github.com/v8/v8">V8</a>, which was originally designed to develop highly iterative services with non-compromised performance in Bing. As it evolves, we find it useful to complement <a href="https://nodejs.org" rel="nofollow">Node.js</a> in CPU-bound tasks, with the capability of executing JavaScript in multiple V8 isolates and communicating between them. Napa.js is exposed as a Node.js module, while it can also be embedded in a host process without Node.js dependency.</p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">Install the latest stable version:</p>
<div data-snippet-clipboard-copy-content="npm install napajs"><pre><code>npm install napajs
</code></pre></div>
<p dir="auto">Other options can be found in <a href="https://github.com/Microsoft/napajs/wiki/build-napa.js">Build Napa.js</a>.</p>
<h2 dir="auto"><a id="user-content-quick-start" aria-hidden="true" href="#quick-start"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Quick Start</h2>
<div dir="auto" data-snippet-clipboard-copy-content="const napa = require(&#39;napajs&#39;);
const zone1 = napa.zone.create(&#39;zone1&#39;, { workers: 4 });

// Broadcast code to all 4 workers in &#39;zone1&#39;.
zone1.broadcast(&#39;console.log(&#34;hello world&#34;);&#39;);

// Execute an anonymous function in any worker thread in &#39;zone1&#39;.
zone1.execute(
    (text) =&gt; text, 
    [&#39;hello napa&#39;])
    .then((result) =&gt; {
        console.log(result.value);
    });"><pre><span>const</span> <span>napa</span> <span>=</span> <span>require</span><span>(</span><span>&#39;napajs&#39;</span><span>)</span><span>;</span>
<span>const</span> <span>zone1</span> <span>=</span> <span>napa</span><span>.</span><span>zone</span><span>.</span><span>create</span><span>(</span><span>&#39;zone1&#39;</span><span>,</span> <span>{</span> <span>workers</span>: <span>4</span> <span>}</span><span>)</span><span>;</span>

<span>// Broadcast code to all 4 workers in &#39;zone1&#39;.</span>
<span>zone1</span><span>.</span><span>broadcast</span><span>(</span><span>&#39;console.log(&#34;hello world&#34;);&#39;</span><span>)</span><span>;</span>

<span>// Execute an anonymous function in any worker thread in &#39;zone1&#39;.</span>
<span>zone1</span><span>.</span><span>execute</span><span>(</span>
    <span>(</span><span>text</span><span>)</span> <span>=&gt;</span> <span>text</span><span>,</span> 
    <span>[</span><span>&#39;hello napa&#39;</span><span>]</span><span>)</span>
    <span>.</span><span>then</span><span>(</span><span>(</span><span>result</span><span>)</span> <span>=&gt;</span> <span>{</span>
        <span>console</span><span>.</span><span>log</span><span>(</span><span>result</span><span>.</span><span>value</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span></pre></div>
<p dir="auto">More examples:</p>
<ul dir="auto">
<li><a href="https://blog.plover.com/microsoft/napajs/blob/master/examples/tutorial/estimate-pi-in-parallel">Estimate PI in parallel</a></li>
<li><a href="https://blog.plover.com/microsoft/napajs/blob/master/examples/tutorial/max-square-sub-matrix">Max sub-matrix of 1s with layered parallelism</a></li>
<li><a href="https://blog.plover.com/microsoft/napajs/blob/master/examples/tutorial/parallel-quick-sort">Parallel Quick Sort</a></li>
<li><a href="https://blog.plover.com/microsoft/napajs/blob/master/examples/tutorial/recursive-fibonacci">Recursive Fibonacci with multiple JavaScript threads</a></li>
<li><a href="https://blog.plover.com/microsoft/napajs/blob/master/examples/tutorial/synchronized-loading">Synchronized loading</a></li>
</ul>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<ul dir="auto">
<li>Multi-threaded JavaScript runtime.</li>
<li>Node.js compatible module architecture with NPM support.</li>
<li>API for object transportation, object sharing and synchronization across JavaScript threads.</li>
<li>API for pluggable logging, metric and memory allocator.</li>
<li>Distributed as a Node.js module, as well as supporting embed scenarios.</li>
</ul>
<h2 dir="auto"><a id="user-content-documentation" aria-hidden="true" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<ul dir="auto">
<li><a href="https://github.com/Microsoft/napajs/wiki">Napa.js Home</a></li>
<li><a href="https://blog.plover.com/microsoft/napajs/blob/master/docs/api/index.md">API Reference</a></li>
<li><a href="https://github.com/Microsoft/napajs/wiki/FAQ">FAQ</a></li>
</ul>

<p dir="auto">You can contribute to Napa.js in following ways:</p>
<ul dir="auto">
<li><a href="https://github.com/Microsoft/napajs/issues">Report issues</a> and help us verify fixes as they are checked in.</li>
<li>Review the <a href="https://github.com/Microsoft/napajs/pulls">source code changes</a>.</li>
<li>Contribute to core module compatibility with Node.</li>
<li>Contribute bug fixes.</li>
</ul>
<p dir="auto">This project has adopted the <a href="https://opensource.microsoft.com/codeofconduct/" rel="nofollow">Microsoft Open Source Code of Conduct</a>.</p>

<p dir="auto">Copyright (c) Microsoft Corporation. All rights reserved.</p>
<p dir="auto">Licensed under the <a href="https://github.com/Microsoft/napajs/blob/master/LICENSE.txt">MIT</a> License.</p>
</article>
          </div></div>
  </body>
</html>
