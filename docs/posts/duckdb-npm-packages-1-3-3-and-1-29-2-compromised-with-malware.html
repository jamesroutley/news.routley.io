<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c">Original</a>
    <h1>DuckDB NPM packages 1.3.3 and 1.29.2 compromised with malware</h1>
    
    <div id="readability-page-1" class="page"><div>
  

<div>
  <div>
    <p dir="auto">The DuckDB distribution for <a href="http://node.js/" rel="nofollow">Node.js</a> on <a href="https://www.npmjs.com/" rel="nofollow">npm</a> was compromised with malware (along with <a href="https://www.aikido.dev/blog/npm-debug-and-chalk-packages-compromised" rel="nofollow">several other packages</a>). An attacker published new versions of four of duckdb’s packages that included <strong>malicious code to interfere with cryptocoin transactions</strong>. The following packages and versions are affected:</p>
<ul dir="auto">
<li><code>@duckdb/node-api@1.3.3</code></li>
<li><code>@duckdb/node-bindings@1.3.3</code></li>
<li><code>duckdb@1.3.3</code></li>
<li><code>@duckdb/duckdb-wasm@1.29.2</code></li>
</ul>
<blockquote>
<p dir="auto">Note: The current release version of DuckDB is 1.3.2, with 1.4.0 expected to be released on Sept 10th, 2025 (tomorrow as of this writing). We do not plan to ever release a “legit” DuckDB 1.3.3. Users should double-check that they are not accidentally updating to those affected versions.</p>
</blockquote>
<p dir="auto">We have ourselves noticed this <em>within four hours</em> of it happening. Here’s our response:</p>
<ul dir="auto">
<li>As an immediate response, we have <strong>deprecated</strong> the specific versions.</li>
<li>We have reached out to npm support to <strong>delete the affected versions</strong>. They were so kind to do so.</li>
<li>We have also <strong>re-released</strong> the node packages with higher version numbers (1.3.4/1.30.0) as a further safeguard so the latest version of the package points to a safe version</li>
</ul>
<p dir="auto">We apologize for this issue. We are reviewing our internal processes to ensure the safety of future releases.</p>
<h3 dir="auto">Postmortem</h3>
<p dir="auto">On September 8th (Monday), the DuckDB maintainers received the following message from &#34;<a href="mailto:...@npmjs.help">...@npmjs.help</a>&#34;:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/227792/487197603-0ce24798-1f5a-40b0-ac50-49035d99862b.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTc0ODE3MjgsIm5iZiI6MTc1NzQ4MTQyOCwicGF0aCI6Ii8yMjc3OTIvNDg3MTk3NjAzLTBjZTI0Nzk4LTFmNWEtNDBiMC1hYzUwLTQ5MDM1ZDk5ODYyYi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwOTEwJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDkxMFQwNTE3MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1kNDc5YTdhMzA5MWY1MTBkMTYwZmUwNDU3ZWUzMDQyYmI0YjE5Yjc0ZmRlNGI1YTUxYjllYmRiZTUxNTdkNmUyJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.y_JWHPVcgHgr5j_EPVFvKXms6iDJnU88m1TSyODOByg"><img width="1134" height="614" alt="Screenshot 2025-09-09 at 11 07 09" src="https://private-user-images.githubusercontent.com/227792/487197603-0ce24798-1f5a-40b0-ac50-49035d99862b.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTc0ODE3MjgsIm5iZiI6MTc1NzQ4MTQyOCwicGF0aCI6Ii8yMjc3OTIvNDg3MTk3NjAzLTBjZTI0Nzk4LTFmNWEtNDBiMC1hYzUwLTQ5MDM1ZDk5ODYyYi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwOTEwJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDkxMFQwNTE3MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1kNDc5YTdhMzA5MWY1MTBkMTYwZmUwNDU3ZWUzMDQyYmI0YjE5Yjc0ZmRlNGI1YTUxYjllYmRiZTUxNTdkNmUyJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.y_JWHPVcgHgr5j_EPVFvKXms6iDJnU88m1TSyODOByg"/></a></p><p dir="auto">One of the maintainers read through this text and found it somewhat reasonable. He followed the link (now defunct) to a website hosted under the domain <code>npmjs.help</code>. This website contained a <strong>pixel-perfect copy</strong> of the <a href="http://npmjs.com/" rel="nofollow">npmjs.com</a> website. He logged in using the <code>duckdb_admin</code> user and password, followed by 2FA. Again, the user profile, settings etc. were a perfect copy of the <a href="http://npmjs.com/" rel="nofollow">npmjs.com</a> website including all user data. As requested by the email, he then re-set the 2FA setup.</p>
<p dir="auto">In the background, the copycat website forwarded all actions to the actual npm website, so the 2FA was actually updated there, too. But they also added a new API token, which they then used to publish the malicious package versions. In hindsight, the fact that his browser did not auto-complete the login should have been a red flag. It&#39;s painful to spell out, but <strong>we fell for a classic phishing attack</strong>.</p>
<p dir="auto">We again apologize for this mishap. We are reviewing our internal processes to ensure the safety of future releases. It is fortunate that we noticed this within a few hours of it happening. The DuckDBLabs team was able to set up a call at 7AM to perform an immediate response. Fortunately we were not locked out of our NPM account, which also easily could have happened. We were able to rotate passwords, tokens and API keys immediately.</p>
  </div>
</div>

</div></div>
  </body>
</html>
