<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://interjectedfuture.com/system-eval-with-obsidian-and-claude-code/">Original</a>
    <h1>System eval with Obsidian and Claude Code</h1>
    
    <div id="readability-page-1" class="page"><div>

    <article>

        <header>

                <a href="https://interjectedfuture.com/tag/essays/">Essays</a>
            

            <div>
                <p><a href="https://lowendbox.com/author/wil/">
                                <img src="https://www.gravatar.com/avatar/915aac3dfde2fb502ce415d77643a72d?s=250&amp;d=mm&amp;r=x" alt="Wil Chung"/>
                            </a>
                </p>
                <div>
                    
                    <p><time datetime="2025-08-27">27 Aug 2025</time>
                            <span><span>â€”</span> 5 min read</span>
                    </p>
                </div>
            </div>

                <figure>
        <img srcset="/content/images/size/w320/2025/08/ChatGPT-Image-Aug-26--2025--10_42_49-PM.png 320w,
                    /content/images/size/w600/2025/08/ChatGPT-Image-Aug-26--2025--10_42_49-PM.png 600w,
                    /content/images/size/w960/2025/08/ChatGPT-Image-Aug-26--2025--10_42_49-PM.png 960w,
                    /content/images/size/w1200/2025/08/ChatGPT-Image-Aug-26--2025--10_42_49-PM.png 1200w,
                    /content/images/size/w2000/2025/08/ChatGPT-Image-Aug-26--2025--10_42_49-PM.png 2000w" sizes="(max-width: 1200px) 100vw, 1120px" src="https://lowendbox.com/content/images/size/w1200/2025/08/ChatGPT-Image-Aug-26--2025--10_42_49-PM.png" alt="System eval with Obsidian and Claude Code"/>
    </figure>

        </header>

        <section>
            <p>Lately, I&#39;ve been experimenting with a different system eval stack than what you might normally hear about: Obsidian and Claude Code.</p><p>Typically, Obsidian is used as a personal note taking app/knowledge base and Claude Code is used as a coding agent. I&#39;m misusing both to hack together a system eval without having to deal with a lot of infrastructure set up. </p><p>I&#39;m using Obsidian to document the eval process as a markdown file to make it repeatable. With it, I can see the entire process laid out and I can link the data and different parts of the process. I can start and redo any part of the process. </p><p>Claude Code can then make parts of it &#34;executable&#34;. For example, every stage in my eval is a section, and each section is a prompt. I can use Claude Code to read that prompt and execute it.</p><h2 id="the-structure">The structure</h2><p>Processes are imperative by nature, usually a step-by-step recipe for doing something, to transform data into a format or computation that we need. They can be more complicated, with branches and conditions, but for the most part, processes that you&#39;d write down in a document is organized linearly.</p><p>The system eval process is iterative, but if you don&#39;t explicitly draw the re-iteration arrows, it can be laid out sequentially. Every step of the system eval is a section, and a section has a couple main parts:</p><h2 id="a-section-of-the-eval">A section of the eval</h2><p>Each section has:</p><ul><li>A prompt for generating the next stage of data (or a the script that computes the next stage of data.)</li><li>A command line on how to run the script</li><li>A link to the listing of the output.</li></ul><p>For example, here&#39;s a preprocessing step, where I convert the user queries into traces. But instead of writing the python script myself to do it, I just write out a prompt to one-shot the script.</p><figure><img src="https://interjectedfuture.com/content/images/2025/08/Pasted-image-20250808093644.png" alt="" loading="lazy" width="1370" height="1498" srcset="https://interjectedfuture.com/content/images/size/w600/2025/08/Pasted-image-20250808093644.png 600w, https://interjectedfuture.com/content/images/size/w1000/2025/08/Pasted-image-20250808093644.png 1000w, https://interjectedfuture.com/content/images/2025/08/Pasted-image-20250808093644.png 1370w" sizes="(min-width: 720px) 720px"/><figcaption><span>a one-shot prompt for generating the script needed to do this step of the eval</span></figcaption></figure><p>In order to run the prompt, I then go into the terminal and run Claude Code. Then I ask it the following:</p><pre><code>Read the prompt from `Create Traces from Queries` section of @pages/Product Expert for Sales Safari.Eval.md and do what the prompt says
</code></pre><p>It&#39;s able to go into the knowledge base (because they&#39;re just files on disk!), find the appropriate file, find the prompt in the appropriate section, and then follow the prompt and one-shot a script. I find that these scripts are simple enough that Claude can get them right, if you just write pseudocode of what you want.</p><figure><img src="https://interjectedfuture.com/content/images/2025/08/Pasted-image-20250808094136.png" alt="" loading="lazy" width="1224" height="1032" srcset="https://interjectedfuture.com/content/images/size/w600/2025/08/Pasted-image-20250808094136.png 600w, https://interjectedfuture.com/content/images/size/w1000/2025/08/Pasted-image-20250808094136.png 1000w, https://interjectedfuture.com/content/images/2025/08/Pasted-image-20250808094136.png 1224w" sizes="(min-width: 720px) 720px"/></figure><p>After generating the script, I can then run that script to create a set of outputs into a directory. I use the documented command line to run the script, such as</p><pre><code>python3 scripts/convert_discord_json_to_md.py sources/lesson_1 queries</code></pre><p>And then use that as in the input to the next section with its own prompt and script. </p><h2 id="error-analysis">Error Analysis</h2><p>I can see the list of the output of traces in the directory from Obsidian. And each trace is just another markdown file. I have frontmatter that has fields for <code>judgement</code> and <code>annotation</code>, so for now, I&#39;m just doing error analysis that way, rather than vibe coding an app.</p><p>Claude Code isn&#39;t always for one-shotting a script. When I need to get it to categorize axial codes from a list of failed traces, I can write the prompt in Obsidian and ask Claude Code to run the prompt. And if I need to redo it, I can have a repeatable way to keep track of the prompt I used.</p><figure><img src="https://interjectedfuture.com/content/images/2025/08/Pasted-image-20250808100022.png" alt="" loading="lazy" width="1354" height="1242" srcset="https://interjectedfuture.com/content/images/size/w600/2025/08/Pasted-image-20250808100022.png 600w, https://interjectedfuture.com/content/images/size/w1000/2025/08/Pasted-image-20250808100022.png 1000w, https://interjectedfuture.com/content/images/2025/08/Pasted-image-20250808100022.png 1354w" sizes="(min-width: 720px) 720px"/></figure><h2 id="the-salient-point">The salient point</h2><p>In a way, it&#39;s like a poor man&#39;s notebook with AI in it. This setup has the following benefits:</p><ul><li>I have a layout of my entire system eval process and I can re-run them in a repeatable way when I need to. It&#39;s too easy to do system evals as an ad-hoc set of prompts and results you think you&#39;ll never need to rerun again.</li><li>With the eval process in Markdown, it&#39;s easier for me to show and share with other people without needing them to install anything or get them an account.</li><li>Markdown is just text files, so I can version control it with git.</li><li>The volume of data isn&#39;t crazy, so I don&#39;t need a database. I can just write them in files and work with human-readable text.</li><li>If you have system prompts or other knowledge you&#39;d want Claude Code to take into account during a prompt, you can write it in the knowledge base, and tell Claude Code to look for it.</li></ul><p>The last point is especially salient. The fact that both Obsidian and Claude Code work on the ubiquitous markdown file format in the file system means that it&#39;s a narrow-waist format, like how IP (and increasingly, HTTP) is the <a href="https://www.oilshell.org/blog/2022/02/diagrams.html?ref=interjectedfuture.com" rel="noreferrer">Narrow waist of the Internet</a>. </p><figure><img src="https://interjectedfuture.com/content/images/2025/08/image.png" alt="" loading="lazy" width="805" height="582" srcset="https://interjectedfuture.com/content/images/size/w600/2025/08/image.png 600w, https://interjectedfuture.com/content/images/2025/08/image.png 805w" sizes="(min-width: 720px) 720px"/><figcaption><span>TCP/IP is the narrow-waist of the internet</span></figcaption></figure><p>Usually, attempts for a narrow waist are hard to do, unless they were designed from the beginning. Obsidian leveraged files because it didn&#39;t want the lock-in with Roam Research. Claude Code leveraged files because the medium of programmers is the text file. But in this lucky happenstance, both Obsidian and Claude Code leverage a common format that explodes the flexibility and possibility in ways we&#39;ve forgotten since we&#39;ve used apps and web apps for so long.</p><figure><img src="https://interjectedfuture.com/content/images/2025/08/image-1.png" alt="" loading="lazy" width="1000" height="567" srcset="https://interjectedfuture.com/content/images/size/w600/2025/08/image-1.png 600w, https://interjectedfuture.com/content/images/2025/08/image-1.png 1000w" sizes="(min-width: 720px) 720px"/><figcaption><a href="https://xkcd.com/927/?ref=interjectedfuture.com"><span>Standards</span></a></figcaption></figure><p>The ability for an agent to have access to an entire knowledge base in order to finish its task was pretty eye-opening for me. Where AI fails is often a failure of context, rather than ability. I think people are still catching up to when AI does well and when it doesn&#39;t. For AI, context is everything, and providing the right context is most of the battle.</p>
        </section>

    </article>


</div></div>
  </body>
</html>
