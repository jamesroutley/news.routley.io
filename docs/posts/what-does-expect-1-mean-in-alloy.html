<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bytes.zone/posts/what-does-expect-1-mean-in-alloy/">Original</a>
    <h1>What does expect 1 mean in Alloy?</h1>
    
    <div id="readability-page-1" class="page"><article><p><em>Brian Hicks, January 30, 2023</em></p><p>When you open up <a href="https://bytes.zone/posts/alloy/">Alloy</a>, the default <code>run</code> in the menu is â€œRun Default for 4 but 4 int, 4 seq expect 1.â€ I know what â€œfor 4â€ means (up to 4 of every <code>sig</code>) and <code>but 4 int</code> means (4 bits worth of integers) but I don&#39;t know what â€œexpect 1â€ means!</p><p>Let&#39;s look in <a href="http://alloytools.org/spec.html">the spec</a>â€¦Â nothing! It shows the â€œrun Xâ€ and â€œfor Yâ€ and â€œbut Z SigNameâ€ but not â€œexpect.â€ ğŸ¤”</p><p>OK, <a href="https://alloytools.discourse.group/t/what-does-expect-1-mean/308">on to the Alloy forums, then</a>. Daniel Jackson says it allows you to say how many results you expect. You used to be able to expect an arbitrary number, but that didn&#39;t turn out to be useful, and now you can just say â€œ1â€ (for some results) or â€œ0â€ (for no results.) It&#39;s useful for testing regressions when developing Alloy itself.</p><p>I was able to use <code>expect 0</code> to produce a spec that fails, as expected:</p><pre data-lang="alloy"><code data-lang="alloy"><span>fact</span><span> {
</span><span>  </span><span>some</span><span> u</span><span>: univ |</span><span> u </span><span>not in univ
</span><span>}
</span><span>
</span><span>run</span><span> {} </span><span>for </span><span>4</span><span> expect </span><span>0
</span></code></pre><p>(In English: â€œI want you to check that the set of all sets does not contain itself.â€ This is not possible in Alloy&#39;s set semantics.)</p><p>When evaluating this, Alloy says, â€œNo instance found. Predicate may be inconsistent, as expected.â€ Note the â€œinconsistentâ€, meaning â€œyou&#39;ve created a conflict in your expectations.â€ If I switch it to <code>expect 1</code>, it says â€œPredicate may be inconsistent, contrary to expectation.â€</p></article></div>
  </body>
</html>
