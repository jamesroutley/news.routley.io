<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://webcolorisstillbroken.com/">Original</a>
    <h1>Web color is still broken</h1>
    
    <div id="readability-page-1" class="page"><div id="explanation">
        <p>Almost all colors on the web (from the data in your average PNG file to hex values in CSS and SVG) are represented not as actual color intensities, but using a lossy compression algorithm called &#34;8-bit <a href="https://en.wikipedia.org/wiki/SRGB">sRGB</a>&#34;. Most people call this a &#34;color space&#34;, but its primary purpose is to represent color data in fewer bits than would be required for decent quality if you were storing actual, numerical brightness values corresponding to light intensity. Therefore, it is more useful to think of it as a lossy compression technology.</p>

        <p>Unfortunately, by calling it a &#34;color space&#34;, we&#39;ve misled the vast majority of developers into believing that you can do math on sRGB colors, and by exposing the raw sRGB numbers to users, we&#39;ve misled them into thinking those numbers have a reasonable meaning. Just like you can&#39;t mix the bits of two MP3 files without uncompressing them* and expect to get something that sounds like both sounds mixed together properly, you can&#39;t take two sRGB color values, mix them, and expect to get the right color. And yet, this is what every major browser does.</p>

        <p>The correct way to process sRGB data is to convert it to linear RGB values first, then process it, then convert it back to sRGB if required. If you are doing any mathematical operations on sRGB color data directly, your code is broken. Please don&#39;t do that. It&#39;s 2022; it&#39;s about time we make computer graphics work properly.</p>
        
        <p>There is a <code>color-interpolation</code> SVG attribute that fixes this problem, and this page attempts to use it. Unfortuntely, <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/color-interpolation#browser_compatibility">no browser implements it yet</a>. That attribute was first specified in <a href="https://www.w3.org/TR/2003/REC-SVG11-20030114/painting.html#ColorInterpolationProperties">SVG 1.1</a> from <i>2003</i>. We&#39;re coming up on 20 years of browsers not bothering to implement correct color blending.</p>
        
        <p>It&#39;s worth noting that GPU manufacturers and most game developers have had this figured out for a long time now, since linear processing is required for realistic environments, especially with complex effects. Modern GPUs can transparently convert <a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_texture_sRGB.txt">from</a>/<a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_framebuffer_sRGB.txt">to</a> sRGB when loading and rendering images, without any performance penalty. This ends up causing pain when <a href="https://twitter.com/davidhampson/status/1517097606425550848">designers using broken design tools find things look different in a correctly implemented game engine</a>.</p>
        
        
        
    </div></div>
  </body>
</html>
