<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://helix-editor.com/news/release-23-10-highlights/">Original</a>
    <h1>Helix 23.10 Highlights</h1>
    
    <div id="readability-page-1" class="page"><article>
        

 
 <time>25 October 2023</time>

<p>The Helix 23.10 release is finally here! 23.10 introduces some very large
internal changes that enable some powerful features. A very big <em>thank you</em> to
everyone who made this release possible.</p>
<p>New to Helix?
Helix is a modal text editor with built-in support for multiple selections,
Language Server Protocol (LSP), tree-sitter, and experimental support for Debug
Adapter Protocol (DAP).</p>
<p>Let&#39;s check out this release&#39;s highlights.</p>
<h2 id="multiple-language-servers">Multiple language servers</h2>
<p>23.10 brings a big change to the way we handle language servers.
Previously each language could only support one language server at a time but
now you can configure multiple to work in tandem. For example you might use
the TypeScript language server for JavaScript/TypeScript development and also
configure <a href="https://github.com/mattn/efm-langserver">efm-langserver</a> for
Prettier formatting and ESLint diagnostics. With the new support for multiple
language servers, you can specify which features to use from each language
server.</p>
<p>This brings a big change to the way language servers are configured in your
language configuration (<code>languages.toml</code>). All language servers are now
specified separately from languages and then each language selects which
language server(s) to use. From the example above, you might configure efm-
langserver and typescript-language-server like so:</p>
<pre data-lang="toml"><code data-lang="toml"><span>[language-server.efm]
</span><span>command </span><span>= &#34;</span><span>efm-langserver</span><span>&#34;
</span><span>config</span><span>.</span><span>documentFormatting </span><span>= </span><span>true
</span><span>
</span><span>[language-server.typescript-language-server]
</span><span>command </span><span>= &#34;</span><span>typescript-language-server</span><span>&#34;
</span><span>args </span><span>= [&#34;</span><span>--stdio</span><span>&#34;]
</span><span>config</span><span>.</span><span>hostInfo </span><span>= &#34;</span><span>helix</span><span>&#34;
</span><span>
</span><span>[[language]]
</span><span>name </span><span>= &#34;</span><span>typescript</span><span>&#34;
</span><span>auto-format </span><span>= </span><span>true
</span><span>language-servers </span><span>= [
</span><span>  { </span><span>name </span><span>= &#34;</span><span>efm</span><span>&#34;, </span><span>only-features </span><span>= [&#34;</span><span>format</span><span>&#34;, &#34;</span><span>diagnostics</span><span>&#34;] },
</span><span>  { </span><span>name </span><span>= &#34;</span><span>typescript-language-server</span><span>&#34;, </span><span>except-features </span><span>= [&#34;</span><span>format</span><span>&#34;, &#34;</span><span>diagnostics</span><span>&#34;] },
</span><span>]
</span></code></pre>
<p>See more details in the <a href="https://docs.helix-editor.com/languages.html">language configuration docs</a>.</p>
<h2 id="fuzzy-matching-with-nucleo">Fuzzy matching with Nucleo</h2>
<asciinema-player src="/nucleo-nix-store.cast" cols="94" rows="25"></asciinema-player>
<p>Helix uses &#34;fuzzy&#34; matching to filter as-you-type in components like the file
picker. Previously we used the popular <code>skim</code>/<code>fuzzy-matcher</code> crates but in the
23.10 release we&#39;ve switched to the new
<a href="https://github.com/helix-editor/helix"><code>nucleo</code></a> crate. Nucleo is
significantly faster than skim and fzf, handles Unicode correctly, and uses a
bonus system that feels more intuitive.</p>
<p>Nucleo also enables us to lazily stream in new items, which is a big boost for
the user experience for pickers. In the asciicast above I&#39;m scanning through
my computer&#39;s <code>/nix/store</code>, a huge directory containing more than twenty
million files. The file picker now works gradually as we scan through the
directory and matches files as we find them.</p>
<p>Nucleo also paves the way for future picker upgrades. Stay tuned to the
upcoming release notes to see where we&#39;ll take the picker.</p>
<h2 id="smart-tab">Smart tab</h2>
<p>Smart tab is a new feature bound to the tab key in the default keymap. When
you press tab and the line to the left of the cursor isn&#39;t all whitespace,
the cursor will jump to the end of the syntax tree&#39;s parent node. For example:</p>
<pre data-lang="nix"><code data-lang="nix"><span>{
</span><span>  </span><span>key </span><span>= &#34;</span><span>value</span><span>&#34;;
</span><span>  </span><span>nested </span><span>= {
</span><span>    </span><span>key2 </span><span>= &#34;</span><span>value2</span><span>&#34;; </span><span># When the cursor is at the end of the line here, &lt;tab&gt;
</span><span>                     </span><span># jumps right after the closing brace on the next line.
</span><span>  };
</span><span>}
</span></code></pre>
<p>This is useful in languages like Nix for adding semicolons at the end of an
attribute set or jumping to the end of a block in a C-like language:</p>
<asciinema-player src="/smart-tab.cast" cols="94" rows="25"></asciinema-player>
<h2 id="expanded-support-for-registers">Expanded support for registers</h2>
<asciinema-player src="/special-registers.cast" cols="94" rows="25"></asciinema-player>
<p>Registers allow you to save and paste values. For example you might select
a paragraph, use <code>&#34;ay</code> to yank it into the <code>a</code> register, and later use <code>&#34;ap</code>
to paste that paragraph. Some registers have special effects when read or
written to though like the <code>_</code> &#34;blackhole&#34; register: any values written are
discarded and nothing can be read. Special registers have been expanded to
include some useful ones from Kakoune and clipboard registers:</p>
<ul>
<li><code>%</code>: the current buffer name</li>
<li><code>#</code>: the number of each selection, 1-indexed</li>
<li><code>.</code>: the contents of each selection</li>
<li><code>*</code> and <code>+</code>: system and primary clipboards</li>
</ul>
<p>Also check out the new register statusline element. It appears when you select
a register with <code>&#34;</code>. Notice the <code>reg=#</code> in the bottom-right corner of the
statusline in the asciicast when we select the <code>#</code> register and how it goes
away when we paste that register (<code>p</code>) or increment the selections (<code>C-a</code>).</p>
<h2 id="initial-support-for-lsp-didchangewatchedfiles">Initial support for LSP DidChangeWatchedFiles</h2>
<asciinema-player src="/initial-lsp-didchangewatchedfiles.cast" cols="94" rows="25"></asciinema-player>
<p>Some language servers use the DidChangeWatchedFiles notification to discover
changes to related files in other languages. For example, <code>rust-analyzer</code> will
fetch and index new dependencies when you add them to your <code>Cargo.toml</code>.
Helix will now send file change notifications when the file is changed by
Helix itself. Full support for DidChangeWatchedFiles will require a file
watcher but for now we&#39;re able to support the most common use-case for
DidChangeWatchedFiles.</p>
<h2 id="syntax-highlight-regex-prompts">Syntax highlight regex prompts</h2>
<img src="https://helix-editor.com/regex-prompt-highlighting.png"/>
<p>Regex prompts like those created with <code>s</code>, <code>S</code> or <code>|</code> are now syntax highlighted
via tree-sitter-regex. The highlighting makes special characters more obvious
and can catch syntax errors like trailing backslashes.</p>
<h2 id="wrapping-up">Wrapping up</h2>
<p>As always, this is just the tip of the iceberg for the 23.10 release. Check out
the <a href="https://github.com/helix-editor/helix/blob/master/CHANGELOG.md#2310-2023-10-24">changelog</a> for the full details.</p>
<p>Come chat about usage and development questions in the <a href="https://matrix.to/#/#helix-community:matrix.org">Matrix space</a>
and follow along with Helix&#39;s development in the <a href="https://github.com/helix-editor/helix/">GitHub repository</a>.</p>






    </article></div>
  </body>
</html>
