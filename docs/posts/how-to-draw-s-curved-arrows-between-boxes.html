<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dragonman225.js.org/curved-arrows.html">Original</a>
    <h1>How to draw S-curved arrows between boxes</h1>
    
    <div id="readability-page-1" class="page"><article id="https://www.notion.so/b1c40664f2c341f1b37ea55676cff06b"><p><span><span>An S-curved arrow is a smooth curve that connects two boxes (or rectangles) like this:</span></span></p><div id="https://www.notion.so/8770a9471c5f42bc8a731bd086f826be"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe5ea93a8-8190-432d-b869-2706456fcaee%2FUntitled.png?width=640&amp;table=block&amp;id=8770a947-1c5f-42bc-8a73-1bd086f826be"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe5ea93a8-8190-432d-b869-2706456fcaee%2FUntitled.png?width=640&amp;table=block&amp;id=8770a947-1c5f-42bc-8a73-1bd086f826be"/></a><figcaption><span></span></figcaption></figure></div><h2 id="https://www.notion.so/f18369b8045b47139effb75b680871da"><a href="#https://www.notion.so/f18369b8045b47139effb75b680871da"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span><span>Draw an S-Curve</span></span></h2><p><span><span>To draw the curve, one thing that came to my mind was “</span><span><mark><strong><a href="https://javascript.info/bezier-curve">Bézier curve</a></strong></mark></span><span>”. Its idea is to use </span><span><mark><strong>control points</strong></mark></span><span> to add curvature to a line. A </span><span><mark><strong>control point</strong></mark></span><span> bends the line once, so to bend it twice, we need two </span><span><mark><strong>control points</strong></mark></span><span>.</span></span></p><div id="https://www.notion.so/a0f6d73b638f41ac80f95f7910d496f3"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc440d399-a2f8-4ed4-90be-e17aa5b79831%2FUntitled.png?width=640&amp;table=block&amp;id=a0f6d73b-638f-41ac-80f9-5f7910d496f3"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc440d399-a2f8-4ed4-90be-e17aa5b79831%2FUntitled.png?width=640&amp;table=block&amp;id=a0f6d73b-638f-41ac-80f9-5f7910d496f3"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>Like the above picture. Point 1 and 4 represent the start and the end of the curve, while point 2 and 3 are </span><span><strong><mark>control points</mark></strong></span><span>.</span></span></p><p><span><span>The next question is where the </span><span><mark><strong>control points</strong></mark></span><span> should be? Or how should they be generated?</span></span></p><p><span><span>Since the start and the end of the </span><span><mark><strong>curve</strong></mark></span><span> attach to the boxes, how about setting the start direction and the end direction to be perpendicular to the sides of the boxes?</span></span></p><div id="https://www.notion.so/1e822dd8430c421fa10f6e20f87e2829"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb218f8d1-6097-45ed-a98f-136144b8be2f%2FUntitled.png?width=640&amp;table=block&amp;id=1e822dd8-430c-421f-a10f-6e20f87e2829"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb218f8d1-6097-45ed-a98f-136144b8be2f%2FUntitled.png?width=640&amp;table=block&amp;id=1e822dd8-430c-421f-a10f-6e20f87e2829"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>Then, by extending the green bars, we can get to a point where two </span><span><mark><strong>control points</strong></mark></span><span> are on the same vertical line.</span></span></p><div id="https://www.notion.so/469273525b094ee1942b91fcee59ba01"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F09d9b001-c85b-469e-b843-49359614db06%2FUntitled.png?width=639&amp;table=block&amp;id=46927352-5b09-4ee1-942b-91fcee59ba01"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F09d9b001-c85b-469e-b843-49359614db06%2FUntitled.png?width=639&amp;table=block&amp;id=46927352-5b09-4ee1-942b-91fcee59ba01"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>Now we get formulas. If the </span><span><strong>start point (1)</strong></span><span> is </span><span><span data-latex="(x0, y0)"><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x0, y0)</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span>(</span><span>x</span><span>0</span><span>,</span><span></span><span>y</span><span>0</span><span>)</span></span></span></span></span></span><span>, the </span><span><strong>end point (4)</strong></span><span> is </span><span><span data-latex="(x1, y1)"><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x1, y1)</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span>(</span><span>x</span><span>1</span><span>,</span><span></span><span>y</span><span>1</span><span>)</span></span></span></span></span></span><span>, then the </span><span><mark><strong>control point (2)</strong></mark></span><span> for the </span><span><strong>start point (1)</strong></span><span> is </span><span><span data-latex="(\frac{x1+x0}{2}, y0)"><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mfrac><mrow><mi>x</mi><mn>1</mn><mo>+</mo><mi>x</mi><mn>0</mn></mrow><mn>2</mn></mfrac><mo separator="true">,</mo><mi>y</mi><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\frac{x1+x0}{2}, y0)</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span>(</span><span><span></span><span><span><span><span><span><span></span><span><span><span>2</span></span></span></span><span><span></span><span></span></span><span><span></span><span><span><span>x</span><span>1</span><span>+</span><span>x</span><span>0</span></span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span><span></span></span><span>,</span><span></span><span>y</span><span>0</span><span>)</span></span></span></span></span></span><span>, the </span><span><mark><strong>control point (3)</strong></mark></span><span> for the </span><span><strong>end point (4)</strong></span><span> is </span><span><span data-latex="(\frac{x1+x0}{2}, y1)"><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mfrac><mrow><mi>x</mi><mn>1</mn><mo>+</mo><mi>x</mi><mn>0</mn></mrow><mn>2</mn></mfrac><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\frac{x1+x0}{2}, y1)</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span>(</span><span><span></span><span><span><span><span><span><span></span><span><span><span>2</span></span></span></span><span><span></span><span></span></span><span><span></span><span><span><span>x</span><span>1</span><span>+</span><span>x</span><span>0</span></span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span><span></span></span><span>,</span><span></span><span>y</span><span>1</span><span>)</span></span></span></span></span></span><span>.</span></span></p><h2 id="https://www.notion.so/7c0828929be5419683d439025591a386"><a href="#https://www.notion.so/7c0828929be5419683d439025591a386"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span><span>Choose the Best Curve</span></span></h2><p><span><span>We haven’t talked about where do the </span><span><strong>start point (1)</strong></span><span>, </span><span><span data-latex="(x0, y0)"><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x0, y0)</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span>(</span><span>x</span><span>0</span><span>,</span><span></span><span>y</span><span>0</span><span>)</span></span></span></span></span></span><span>, and the </span><span><strong>end point (4)</strong></span><span>, </span><span><span data-latex="(x1, y1)"><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x1, y1)</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span>(</span><span>x</span><span>1</span><span>,</span><span></span><span>y</span><span>1</span><span>)</span></span></span></span></span></span><span> come from, but from previous drawings you might have been wondering if they’re </span><span><mark><strong>at the middle of the sides of the boxes</strong></mark></span><span>.</span></span></p><p><span><span>Yeah, they are. To make arrows look clean when there’re many of them, we only allow them to start or end </span><span><mark><strong>at the middle of the sides of the boxes</strong></mark></span><span>. This also means we’ve narrow down the possibilities to 16 combinations to choose from.</span></span></p><div id="https://www.notion.so/bfd35bbd76f14b37a42dd57b87599f00"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F35f5fc73-03f8-45dd-bb02-f550d9d07e8f%2FUntitled.png?width=390&amp;table=block&amp;id=bfd35bbd-76f1-4b37-a42d-d57b87599f00"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F35f5fc73-03f8-45dd-bb02-f550d9d07e8f%2FUntitled.png?width=390&amp;table=block&amp;id=bfd35bbd-76f1-4b37-a42d-d57b87599f00"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>How to choose? Let’s consider this case:</span></span></p><div id="https://www.notion.so/ae9d65677b924b059050504c70817322"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe6df97dd-8b98-426d-9775-9f6b154f6bd7%2FUntitled.png?width=390&amp;table=block&amp;id=ae9d6567-7b92-4b05-9050-504c70817322"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe6df97dd-8b98-426d-9775-9f6b154f6bd7%2FUntitled.png?width=390&amp;table=block&amp;id=ae9d6567-7b92-4b05-9050-504c70817322"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>It seems that the one with the shortest distance is the best choice.</span></span></p><p><span><span>There’re some problems though.</span></span></p><div id="https://www.notion.so/1df8ffa8d9034631a87f4a15c91c37ac"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff21b2a1e-1a42-45b6-8e74-7cdbfe8bb3a9%2FUntitled.png?width=635&amp;table=block&amp;id=1df8ffa8-d903-4631-a87f-4a15c91c37ac"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff21b2a1e-1a42-45b6-8e74-7cdbfe8bb3a9%2FUntitled.png?width=635&amp;table=block&amp;id=1df8ffa8-d903-4631-a87f-4a15c91c37ac"/></a><figcaption><span></span></figcaption></figure></div><ol><li id="https://www.notion.so/b44cf86917694617addd2ad0f915a68a" value="1"><span><span>If the boxes are close, the arrow would be barely visible.</span></span></li><li id="https://www.notion.so/77f6be7b55754b6097890bfa77a5a55b" value="2"><span><span>If the boxes overlap, the arrow may be hidden behind the boxes.</span></span></li></ol><p><span><span>The solution is to add some rules to abandon </span><span><a href="https://dragonman225.js.org/curved-arrows.html#https://www.notion.so/e6c73d171eb24e1fb9006d13cc708377">combinations</a></span><span> that are undesired.</span></span></p><p><span><span>This is an open question which can lead to many creative ideas about what is undesired and how to detect them, but for now, I designed and implemented a simple one that prevents the cases shown above.</span></span></p><div id="https://www.notion.so/ff06cd0f90d344d49843129dfb511f38"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F70ebe188-6008-4b5b-9ac1-da3505451fa5%2FUntitled.png?width=657&amp;table=block&amp;id=ff06cd0f-90d3-44d4-9843-129dfb511f38"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F70ebe188-6008-4b5b-9ac1-da3505451fa5%2FUntitled.png?width=657&amp;table=block&amp;id=ff06cd0f-90d3-44d4-9843-129dfb511f38"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>I add keep-out zones to the boxes, and test if the </span><span><mark><strong>end point</strong></mark></span><span> is in the </span><span><mark><strong>keep-out zone of the start box</strong></mark></span><span>, or if the </span><span><mark><strong>start point</strong></mark></span><span> is in the </span><span><mark><strong>keep-out zone of the end box</strong></mark></span><span>, if a point does, combinations having that point would be abandoned.</span></span></p><p><span><span>There are still some corner cases though, but in </span><span><span><a href="https://dragonman225.js.org/jade.html"><span><span>Jade</span></span></a></span></span><span>‘s use cases, blocks connected with arrows usually don’t overlap or get too close, so I’m going to leave them for you to figure out and </span><span><a href="https://github.com/dragonman225/curved-arrows/pulls">make improvements</a></span><span> if those are your serious use cases!</span></span></p><h2 id="https://www.notion.so/f6f375cfe7eb48f48d4e624e577c9f0f"><a href="#https://www.notion.so/f6f375cfe7eb48f48d4e624e577c9f0f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span><span>Get Control Points</span></span></h2><p><span><span>I’ve mentioned </span><span><a href="https://dragonman225.js.org/curved-arrows.html#https://www.notion.so/a7164d1bffa64a55b386db8db3f4a1b2">a way</a></span><span> to get </span><span><mark><strong>control points</strong></mark></span><span> for two boxes, but that is not the only case we would encounter in the real world.</span></span></p><p><span><span>The rule of thumb is that the </span><span><mark><strong>control points</strong></mark></span><span> must pull the </span><span><mark><strong>curve</strong></mark></span><span> out of a box, not into a box.</span></span></p><div id="https://www.notion.so/6432902a3b4a4acca90d8c8bfe8b1f99"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffb0c1a51-51de-4024-a835-589860465790%2FUntitled.png?width=258&amp;table=block&amp;id=6432902a-3b4a-4acc-a90d-8c8bfe8b1f99"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffb0c1a51-51de-4024-a835-589860465790%2FUntitled.png?width=258&amp;table=block&amp;id=6432902a-3b4a-4acc-a90d-8c8bfe8b1f99"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>And the </span><span><mark><strong>control points</strong></mark></span><span> must be far away enough from their target points.</span></span></p><div id="https://www.notion.so/685178925388427e85abb3b4fa46ead1"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb81b5974-28b7-4184-943d-c23f157a9d8a%2FUntitled.png?width=279&amp;table=block&amp;id=68517892-5388-427e-85ab-b3b4fa46ead1"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb81b5974-28b7-4184-943d-c23f157a9d8a%2FUntitled.png?width=279&amp;table=block&amp;id=68517892-5388-427e-85ab-b3b4fa46ead1"/></a><figcaption><span></span></figcaption></figure></div><h2 id="https://www.notion.so/3bf6176aa72b4b499cc3446be2620a43"><a href="#https://www.notion.so/3bf6176aa72b4b499cc3446be2620a43"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span><span>Get Arrow Angles</span></span></h2><p><span><span>We also need to know the entering angles of the start point and the end point of the </span><span><mark><strong>curve</strong></mark></span><span> to draw arrow heads.</span></span></p><div id="https://www.notion.so/4162249f22504be995c6de9d5625bb9f"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F19c09f5d-20e9-468e-b589-b789ccdb7b32%2FUntitled.png?width=982&amp;table=block&amp;id=4162249f-2250-4be9-95c6-de9d5625bb9f"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F19c09f5d-20e9-468e-b589-b789ccdb7b32%2FUntitled.png?width=982&amp;table=block&amp;id=4162249f-2250-4be9-95c6-de9d5625bb9f"/></a><figcaption><span></span></figcaption></figure></div><h2 id="https://www.notion.so/0f78c4e86d8b4e42b3af6df6e94f990f"><a href="#https://www.notion.so/0f78c4e86d8b4e42b3af6df6e94f990f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span><span>Draw </span><span><mark>Bézier curve</mark></span><span> with React and SVG</span></span></h2><p><span><span>Now that we’ve get all parameters of an arrow, we can draw it with SVG using </span><span><code>&lt;path&gt;</code></span><span> and </span><span><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#curve_commands">the </a></span><span><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#curve_commands"><strong><mark>Bézier curve</mark></strong></a></span><span><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#curve_commands"><strong> command</strong></a></span><span>.</span></span></p><p><span><span>Here’s an example React component.</span></span></p><pre id="https://www.notion.so/99a73370798c45ee829a2c2b90f0f839"><code><span><span><span><span>import</span> <span>*</span> <span>as</span> React <span>from</span> <span>&#39;react&#39;</span>
<span>import</span> <span>{</span> getArrow <span>}</span> <span>from</span> <span>&#39;curved-arrows&#39;</span>

<span>export</span> <span>function</span> <span>Arrow</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> p1 <span>=</span> <span>{</span> x<span>:</span> <span>100</span><span>,</span> y<span>:</span> <span>100</span> <span>}</span>
  <span>const</span> p2 <span>=</span> <span>{</span> x<span>:</span> <span>300</span><span>,</span> y<span>:</span> <span>200</span> <span>}</span>
  <span>const</span> arrowHeadSize <span>=</span> <span>9</span>
  <span>const</span> color <span>=</span> <span>&#39;black&#39;</span>
  <span>const</span> <span>[</span>sx<span>,</span> sy<span>,</span> c1x<span>,</span> c1y<span>,</span> c2x<span>,</span> c2y<span>,</span> ex<span>,</span> ey<span>,</span> ae<span>]</span> <span>=</span> <span>getArrow</span><span>(</span>p1<span>.</span>x<span>,</span> p1<span>.</span>y<span>,</span> p2<span>.</span>x<span>,</span> p2<span>.</span>y<span>,</span> <span>{</span>
    padEnd<span>:</span> arrowHeadSize<span>,</span>
  <span>}</span><span>)</span>

  <span>return</span> <span>(</span>
    <span>&lt;</span>svg
      width<span>=</span><span>&#34;100%&#34;</span>
      height<span>=</span><span>&#34;100%&#34;</span>
      xmlns<span>=</span><span>&#34;http://www.w3.org/2000/svg&#34;</span><span>&gt;</span>
      <span>&lt;</span>path
        d<span>=</span><span>{</span><span><span>`</span><span>M </span><span><span>${</span>sx<span>}</span></span><span> </span><span><span>${</span>sy<span>}</span></span><span> C </span><span><span>${</span>c1x<span>}</span></span><span> </span><span><span>${</span>c1y<span>}</span></span><span>, </span><span><span>${</span>c2x<span>}</span></span><span> </span><span><span>${</span>c2y<span>}</span></span><span>, </span><span><span>${</span>ex<span>}</span></span><span> </span><span><span>${</span>ey<span>}</span></span><span>`</span></span><span>}</span>
        stroke<span>=</span><span>{</span>color<span>}</span>
        strokeWidth<span>=</span><span>{</span>arrowHeadSize <span>/</span> <span>2</span><span>}</span>
        fill<span>=</span><span>&#34;none&#34;</span>
      <span>/</span><span>&gt;</span>
      <span>&lt;</span>polygon
        points<span>=</span><span>{</span><span><span>`</span><span>0,</span><span><span>${</span><span>-</span>arrowHeadSize<span>}</span></span><span> </span><span><span>${</span>arrowHeadSize <span>*</span>
          <span>2</span><span>}</span></span><span>,0, 0,</span><span><span>${</span>arrowHeadSize<span>}</span></span><span>`</span></span><span>}</span>
        transform<span>=</span><span>{</span><span><span>`</span><span>translate(</span><span><span>${</span>ex<span>}</span></span><span>, </span><span><span>${</span>ey<span>}</span></span><span>) rotate(</span><span><span>${</span>ae<span>}</span></span><span>)</span><span>`</span></span><span>}</span>
        fill<span>=</span><span>{</span>color<span>}</span>
      <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>/</span>svg<span>&gt;</span>
  <span>)</span>
<span>}</span></span></span></span></code></pre><h2 id="https://www.notion.so/a53daa50102e41ca8ff34cc3c9948e78"><a href="#https://www.notion.so/a53daa50102e41ca8ff34cc3c9948e78"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span><span>Demo</span></span></h2><div id="https://www.notion.so/016ac4e2102841309b7eadf0ec66e5a6"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F24d0fa5c-8c8c-4aba-8d12-c4e574c7d266%2Fdemo_animation.gif?width=570&amp;table=block&amp;id=016ac4e2-1028-4130-9b7e-adf0ec66e5a6"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F24d0fa5c-8c8c-4aba-8d12-c4e574c7d266%2Fdemo_animation.gif?width=570&amp;table=block&amp;id=016ac4e2-1028-4130-9b7e-adf0ec66e5a6"/></a><figcaption><span></span></figcaption></figure></div><p><span><span>Visualizing how it works ↓ You can also play </span><span><a href="https://dragonman225.js.org/p/curved-arrows/">here</a></span><span>.</span></span></p><h2 id="https://www.notion.so/7f5a7a8bce2740a3ba1d2a5a518b9055"><a href="#https://www.notion.so/7f5a7a8bce2740a3ba1d2a5a518b9055"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span><span>Misc</span></span></h2><ul><li id="https://www.notion.so/ee70db45778d42db84ba2900fe3579e8"><span><span>I’ve made it an NPM package </span><span><a href="https://www.npmjs.com/package/curved-arrows"><code>curved-arrows</code></a></span><span>, which you can install with </span><span><code>npm i curved-arrows</code></span><span> or </span><span><code>yarn add curved-arrows</code></span><span>.</span></span></li><li id="https://www.notion.so/9d26ee02db604fd9b4a0689e3f9b7076"><span><span>The source code is on Github </span><span><a href="https://github.com/dragonman225/curved-arrows">@dragonman225/curved-arrows</a></span><span>.</span></span></li><li id="https://www.notion.so/5a3dfb65656e439d9bcd924490db7440"><span><span>Author: </span><span><strong><em>Alexander Wang (</em></strong></span><span><strong><em><a href="https://twitter.com/dragonman225">@dragonman225</a></em></strong></span><span><strong><em>)</em></strong></span></span></li></ul></article></div>
  </body>
</html>
