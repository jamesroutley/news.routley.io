<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hackage.haskell.org/package/jacinda">Original</a>
    <h1>Show HN: Jacinda, a functional Awk (text stream processing on the comamnd-line)</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
    
    

          
    

    <div id="flex-container">
      <div id="left-pane">

        <div id="description">
                    <p>APL meets AWK. A command-line tool for summarizing and reporting, powered by Rust&#39;s <a href="https://docs.rs/regex/regex/">regex</a> library.</p>
          
                    <hr/><p>
          [<a href="#readme">Skip to Readme</a>]
          
        </p></div>

        <p><a href="https://eugeneha.ca/articles/tutorial-on-dijkstras-algorithm/reports/2">
                <img src="https://img.shields.io/static/v1?label=Build&amp;message=DependencyFailed&amp;color=critical"/>
              </a>
            
            
            
                          <img src="https://img.shields.io/static/v1?label=Documentation&amp;message=Unavailable&amp;color=critical"/>
            
        </p>

        

                <div id="flags">
          <h2>Flags</h2><h3>Manual Flags</h3><table><thead><tr><th>Name</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><span>cross</span></td><td><p>Enable to ease cross-compiling</p></td><td>Disabled</td></tr></tbody></table><p><span>Use </span><span>-f &lt;flag&gt;</span><span> to enable a flag, or </span><span>-f -&lt;flag&gt;</span><span> to disable that flag. </span><a href="https://cabal.readthedocs.io/en/latest/setup-commands.html#controlling-flag-assignments">More info</a></p>
        </div>
        

        

        <div id="maintainer-corner">
          <h4>Maintainer&#39;s Corner</h4>
          <p><a href="https://eugeneha.ca/package/jacinda/maintainers">Package maintainers</a></p>
          <ul>
            <li>
              <a href="https://eugeneha.ca/user/vmchale">vmchale</a>
            </li>
          </ul>
          <p>For package maintainers and hackage trustees</p>
          <ul>
            <li>
              <a href="https://hackage.haskell.org/package/jacinda/maintain">
                edit package information
              </a>
            </li>
          </ul>
          <p>Candidates</p>
          <ul>
            <li>
              No Candidates
            </li>
          </ul>
        </div>

      </div><!-- /left-pane -->


      <div id="properties">
        <table>
          <tbody>

            <tr>
              <th>Versions <span>[<a href="https://eugeneha.ca/package/jacinda.rss">RSS</a>]</span></th>
              <td><a href="https://eugeneha.ca/package/jacinda-0.1.0.0">0.1.0.0</a>, <a href="https://eugeneha.ca/package/jacinda-0.2.0.0">0.2.0.0</a>, <a href="https://eugeneha.ca/package/jacinda-0.2.1.0">0.2.1.0</a>, <a href="https://eugeneha.ca/package/jacinda-0.3.0.0">0.3.0.0</a>, <a href="https://eugeneha.ca/package/jacinda-0.3.1.0">0.3.1.0</a>, <a href="https://eugeneha.ca/package/jacinda-1.0.0.0">1.0.0.0</a>, <a href="https://eugeneha.ca/package/jacinda-1.1.0.0">1.1.0.0</a>, <a href="https://eugeneha.ca/package/jacinda-1.2.0.0">1.2.0.0</a>, <a href="https://eugeneha.ca/package/jacinda-2.0.0.0">2.0.0.0</a>, <a href="https://eugeneha.ca/package/jacinda-2.0.1.0">2.0.1.0</a>, <a href="https://eugeneha.ca/package/jacinda-2.0.2.0">2.0.2.0</a>, <a href="https://eugeneha.ca/package/jacinda-3.0.0.0">3.0.0.0</a>, <strong>3.0.1.0</strong></td>
            </tr>

                        <tr>
              <th>Change log</th>
              <td><a href="https://eugeneha.ca/package/jacinda-3.0.1.0/changelog">CHANGELOG.md</a></td>
            </tr>
            

            <tr>
              <th>Dependencies</th>
              <td><span><a href="https://eugeneha.ca/package/array">array</a></span>, <span><a href="https://eugeneha.ca/package/base">base</a> (&gt;=4.11.0.0 &amp;&amp; &lt;5)</span>, <span><a href="https://eugeneha.ca/package/bytestring">bytestring</a> (&gt;=0.11.0.0)</span>, <span><a href="https://eugeneha.ca/package/containers">containers</a> (&gt;=0.6.0.1)</span>, <span><a href="https://eugeneha.ca/package/deepseq">deepseq</a></span>, <span><a href="https://eugeneha.ca/package/directory">directory</a></span>, <span><a href="https://eugeneha.ca/package/filepath">filepath</a></span>, <span><a href="https://eugeneha.ca/package/jacinda">jacinda</a></span>, <span><a href="https://eugeneha.ca/package/microlens">microlens</a></span>, <span><a href="https://eugeneha.ca/package/microlens-mtl">microlens-mtl</a> (&gt;=0.1.8.0)</span>, <span><a href="https://eugeneha.ca/package/mtl">mtl</a></span>, <span><a href="https://eugeneha.ca/package/optparse-applicative">optparse-applicative</a> (&gt;=0.14.1.0)</span>, <span><a href="https://eugeneha.ca/package/prettyprinter">prettyprinter</a> (&gt;=1.7.0)</span>, <span><a href="https://eugeneha.ca/package/recursion">recursion</a> (&gt;=1.0.0.0)</span>, <span><a href="https://eugeneha.ca/package/regex-rure">regex-rure</a> (&gt;=0.1.2.0)</span>, <span><a href="https://eugeneha.ca/package/split">split</a></span>, <span><a href="https://eugeneha.ca/package/text">text</a></span>, <span><a href="https://eugeneha.ca/package/transformers">transformers</a></span>, <span><a href="https://eugeneha.ca/package/vector">vector</a> (&gt;=0.12.2.0)</span><span> [<a href="https://eugeneha.ca/package/jacinda-3.0.1.0/dependencies">details</a>]</span></td>
            </tr>

            <tr>
              <th>License</th>
              <td><a href="https://eugeneha.ca/package/jacinda-3.0.1.0/src/COPYING">AGPL-3.0-only</a></td>
            </tr>

            

            <tr>
              <th>Author</th>
              <td>Vanessa McHale</td>
            </tr>
            <tr>
              <th>Maintainer</th>
              <td>vamchale@gmail.com</td>
            </tr>

            

            <!-- Obsolete/deprecated 'Stability' field hidden
                 c.f. http://stackoverflow.com/questions/3841218/conventions-for-stability-field-of-cabal-packages
            <tr>
              <th>Stability</th>
              <td>Unknown</td>
            </tr>
            -->

                        <tr>
              <th>Category</th>
              <td><a href="https://eugeneha.ca/packages/#cat:Language">Language</a>, <a href="https://eugeneha.ca/packages/#cat:Interpreters">Interpreters</a>, <a href="https://eugeneha.ca/packages/#cat:Text">Text</a>, <a href="https://eugeneha.ca/packages/#cat:Data">Data</a></td>
            </tr>
            

            

                        <tr>
              <th>Bug tracker</th>
              <td>
                <a href="https://github.com/vmchale/jacinda/issues">https://github.com/vmchale/jacinda/issues</a>
              </td>
            </tr>
            

                        <tr>
              <th>Source repo</th>
              <td>head: git clone <a href="https://github.com/vmchale/jacinda">https://github.com/vmchale/jacinda</a></td>
            </tr>
            

            <tr>
              <th>Uploaded</th>
              <td>by <a href="https://eugeneha.ca/user/vmchale">vmchale</a> at <span title="Thu May  9 19:13:25 UTC 2024">2024-05-09T19:13:25Z</span></td>
            </tr>


                        <tr>
              <th>Distributions</th>
              <td>NixOS:<a href="http://hydra.nixos.org/job/nixpkgs/trunk/haskellPackages.jacinda.x86_64-linux">2.0.2.0</a></td>
            </tr>
            

            

                        <tr>
              <th>Executables</th>
              <td>ja</td>
            </tr>
            

            <tr>
              <th>Downloads</th>
              <td>581 total (53 in the last 30 days)</td>
            </tr>

            <tr>
              <th> Rating</th>
              <td>2.25 (votes: 2)
              <span>[estimated by <a href="https://en.wikipedia.org/wiki/Bayesian_average">Bayesian average</a>]</span></td>
            </tr>

            <tr>
              <th>Your Rating</th>
              <td>
                <ul>
                  <li id="1">λ</li>
                  <li id="2">λ</li>
                  <li id="3">λ</li>
                </ul>
              
              </td>
            </tr>
            <tr>
              <th>Status</th>
              <td>Docs not available <span>[<a href="https://eugeneha.ca/package/jacinda-3.0.1.0/reports/2">build log</a>]</span></td>
            </tr>
          </tbody>
        </table>
      </div> <!-- /properties -->
    </div><!-- /flex-container -->

        <hr/>
    <div id="readme-container">
      <h2 id="readme">Readme for jacinda-3.0.1.0</h2><p>
      [<a href="#description">back to package description</a>]
      </p><div><p>Jacinda is a functional pattern sifting language,
a smaller <a href="http://www.awklang.org">AWK</a>.</p>

<h2 id="releases">Releases</h2>
<p>There are binaries for some platforms on the <a href="https://github.com/vmchale/jacinda/releases/">releases page</a>.</p>
<p>If you are on Mac, you will need to install <code>*-librure.dylib</code> as well.</p>
<h2 id="from-source">From Source</h2>
<p>First, install <a href="https://github.com/rust-lang/regex/tree/master/regex-capi#c-api-for-rusts-regex-engine">Rust&#39;s regex library</a>. You&#39;ll need to put <code>librure.so</code> or <code>librure.dylib</code> etc. in the appropriate place.</p>
<p>If you have <a href="https://www.haskell.org/cabal/">cabal</a> and <a href="https://www.haskell.org/ghc/">GHC</a> installed (perhaps via <a href="https://www.haskell.org/ghcup/">ghcup</a>):</p>
<pre><code>cabal install jacinda
</code></pre>
<h2 id="editor-support">Editor Support</h2>
<p>There is a <a href="https://github.com/vmchale/jacinda-vim">vim plugin</a> and a <a href="https://marketplace.visualstudio.com/items?itemName=vmchale.jacinda">VSCode extension</a>.</p>

<p>Unix uses record separators in many places; we can display one entry in the
<code>PATH</code> variable with:</p>
<pre><code>echo $PATH | ja -F: &#34;{|[x+&#39;\n&#39;+y]|&gt;\`$}&#34;
</code></pre>
<p>Many Unix tools output much information separated with spaces. We use regular
expressions to match relevant lines and then select the field with the data
itself, viz.</p>
<pre><code>otool -l $(locate libpng.dylib) | ja &#39;{`1 ~ /^name/}{`2}&#39;
</code></pre>
<p>To get the value of a variable (say, <code>PATH</code>) from the output of <code>printenv</code>:</p>
<pre><code>printenv | ja -F= &#39;{%/^PATH/}{`2}&#39;
</code></pre>
<h2 id="rosetta">Rosetta</h2>
<p>Replace</p>
<pre><code>NF == 1 &amp;&amp; $1 != &#34;}&#34; {
  haveversion[$1] = 1
}
END {
  for (i in haveversion)
    printf &#34;have-%s = yes\n&#34;, i
}
</code></pre>
<p>with</p>
<pre><code>(sprintf &#39;have-%s = yes&#39;)&#34; ~.{nf=1 &amp; `1 != &#39;}&#39;}{`1}
</code></pre>

<p>See the <a href="https://vmchale.github.io/jacinda/">guide</a>, which contains a tutorial
on some of the features as well as examples.</p>
<p>The manpages document the builtins and provide a syntax reference.</p>

<h2 id="missing-features--bugs">Missing Features &amp; Bugs</h2>
<ul>
<li>No nested dfns
</li>
<li>No list literal syntax
</li>
<li>Postfix <code>:f</code> and <code>:i</code> are handled poorly
</li>
<li>Streams of functions don&#39;t work
</li>
<li>Higher-order functions are subtly broken
</li>
</ul>
<p>Intentionally missing features:</p>
<ul>
<li>No loops
</li>
</ul>

<ul>
<li><a href="https://docs.rs/regex/">Rust&#39;s regular expressions</a>
<ul>
<li>extensively documented with Unicode support
</li>
</ul>
</li>
<li>Deduplicate builtin
</li>
</ul>

<p>I have rewritten the code several times so forking and applying patches is fraught!</p>
<p>Bug reports are welcome contributions.</p>
</div>
    </div>
    
  </div></div>
  </body>
</html>
