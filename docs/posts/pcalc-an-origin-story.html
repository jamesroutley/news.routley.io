<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://pcalc.com/mac/thirty.html">Original</a>
    <h1>PCalc, an Origin Story</h1>
    
    <div id="readability-page-1" class="page"><div>
      <p><img src="https://pcalc.s3.amazonaws.com/images/PCalc30-Small.png" alt="" width="320" height="174"/><br/>      
      </p><p>PCalc, An Origin Story</p>
      <p>This is an updated version of <a href="https://scott.mn/2022/12/20/whos_afraid_of_free_transit/twenty.html">a piece</a> I wrote for the 20th anniversary, with an extra ten years of history!
      </p><p>Many people using <a href="https://pcalc.com/store/pcalc">PCalc</a> on their shiny devices today don&#39;t realise that the app has been around for a lot longer than they think. In some  cases, a lot longer than they&#39;ve been <em>thinking</em>.</p>
      <p>PCalc is <strike>twenty</strike> thirty years old on the 23rd of December 2022, so I thought I should take the opportunity to look back at how it has evolved over the last <strike>two</strike> three decades.</p>
      <p><img src="https://s3.amazonaws.com/pcalc/iphone/images/history/PCalc-1.0.png" width="305" height="203"/></p>
      <p>The app you&#39;ve known for all these years...</p>
      <p>PCalc actually started out in 1992 as a design for a central heating control panel. </p>
      <p>I was a student at Glasgow University&#39;s <a href="http://dcs.gla.ac.uk">Computing Science</a> department, taking a class in <a href="https://en.wikipedia.org/wiki/Humanñcomputer_interaction">Human Computer Interaction</a> on how to build good user interfaces. One of the class projects was to design a simulated control panel for a central heating system - setting temperatures, letting you switch heat and water on and off separately, and so on. It was to be implemented as a <a href="https://en.wikipedia.org/wiki/HyperCard">Hypercard</a> stack. Sadly, it doesn&#39;t survive to contradict me, but my design was likely impeccable.</p>
      <p>I figured it had to look authentic, and handcrafted a set of custom 1-bit black and white fake LCD digits and little buttons that you could push in.  <a href="https://en.wikipedia.org/wiki/Skeuomorph">Skeuomorphism</a> has been around a <em>lot</em> longer than Corinthian leather.</p>
      <p>At around the same time, we&#39;d started coding using <a href="https://en.wikipedia.org/wiki/Object_Pascal">THINK Pascal</a>, and I had begun to explore the Macintosh programming APIs in my own time. I had  come to the conclusion that I was <em>not</em> going to be the next <a href="https://en.wikipedia.org/wiki/Jean_Michel_Jarre">Jean Michel Jarre</a>, but I really liked the way the Mac user interface worked in comparison to my old Atari. So I  sold all my <a href="https://en.wikipedia.org/wiki/Roland_Juno-106">synthesizers</a> and my <a href="https://en.wikipedia.org/wiki/Atari_ST">ST</a>, and bought one of the latest Mac Classics - 4 meg of RAM, a 40 meg hard disk, and a 512x342 1-bit display. </p>
      <p>I was looking for a small project to learn how to program my new Mac properly, and I remembered the graphics I&#39;d done for the control panel, and thought that they would work well for a calculator as well. Take note of ‚Äúa small project just to do X‚Äù, this will be referred to many times during this story.</p>
      <p>The built-in Mac OS calculator of the day was a very simple affair, and so I decided I would write a calculator that could do binary and hex, to help me with my programming. And so the idea for PCalc was born. I bought the books <a href="https://en.wikipedia.org/wiki/Inside_Macintosh">Inside Macintosh,</a> Volumes I, II, and III, and sat down to figure it all out. We didn&#39;t have the Internet back then - well, no web at least - so that was basically all I had to go on. Eventually, I started to get the internal logic working, and built a user interface around it all. System 7 was new, so I eventually got a copy of the massive Volume VI to see what had changed there. I didn&#39;t think I needed any of the stuff in the middle.</p>
      <p>The application needed a name (we didn&#39;t have ‚Äúapps‚Äù back then) and I decided on PCalc, officially short for Programmers&#39; Calculator. In truth it was really a Programmer&#39;s Calculator. That programmer being me. I simply wrote what I wanted to use myself. I started sharing it with a few friends on the course, and slowly improved it over the next six months until the point where it was actually useful and did a lot more than just help  with programming. I added a colour interface to it as well, even though I didn&#39;t actually have a Mac that could display colours.</p>
      <p>See <a href="https://scott.mn/2022/12/20/whos_afraid_of_free_transit/screens.html">here</a> for  more screenshots of the original release. The original &#34;Read Me&#34; file is <a href="https://s3.amazonaws.com/tlasystems/PCalc - Read Me First.pdf">here</a>.</p>
      <p>On December 23rd 1992, I decided I would release it freely to the world as a present.</p>
      <p><img src="https://s3.amazonaws.com/pcalc/iphone/images/history/PCalc-1.0-Colour-Folder.png" alt="" width="407" height="209"/><br/>
      </p>
      <p>Again, this was back in 1992 - FTP sites were the new hotness. Our class had discovered this application called <a href="http://fetchsoftworks.com">Fetch</a> which quickly got passed around. You ran this one application, and it could get you <em>more applications</em>. I quickly realised there was this thing called the <a href="http://www.info-mac.org">Info-Mac Archive</a> which was mirrored all around the world, and I could send my app to them, and it would then be mirrored everywhere automatically for people to download. So, I read all the submission guidelines carefully and packaged it up. </p>
      <p>Here&#39;s the email:</p>
      <blockquote>
        <p><em>Date: Wed, 23 Dec 92 17:41:10 GMT </em></p>
        <p><em>Enclosed is a binhex file containing a submission for your archives. </em></p>
        <p><em>If you use System 6.0.x or earlier, here is what you are missing: </em></p>
        <p><em>And of course it&#39;s freeware. If you only download one calculator this year, give this a try... <br/>
        </em></p>
        <p><em>[Archived as /info-mac/app/pcalc-10.hqx; 122K]</em></p>
      </blockquote>
      <p>I got a lot of good feedback, and continued to improve it over the next year. Version 1.0.2 from March 1993 had the following note:<br/>
        </p>
      <blockquote>
        <p><em>Version 1.0.2 fixes some bugs that caused problems on colour macs, notably</em></p>
        <p><em>(More importantly, there are a ton of new easter eggs ;-)</em></p>
      </blockquote>
      <p>Yeah, I really should have bought those missing  Inside Mac volumes about how to do colour.</p>
      <p>As for one of the easter eggs in question, if you put 42 into three specific memory registers, then clicked the screen, a sound recording of <a href="https://en.wikipedia.org/wiki/Douglas_Adams">Douglas Adams</a> said ‚ÄúDon&#39;t Panic!‚Äù and it displayed the following quote from my favourite series, The <a href="https://en.wikipedia.org/wiki/Hitch-Hiker&#39;s_Guide_to_the_Galaxy">Hitch Hiker&#39;s Guide To The Galaxy</a>:</p>
      <blockquote>
        <p><img src="https://s3.amazonaws.com/pcalc/iphone/images/history/PCalc-1.0-Easter-Egg.png" alt="&#34;Is that all you&#39;ve got to show for seven and a half million year&#39;s work?&#34;" width="299" height="33"/></p>
      </blockquote>
      <p>As an aside, sometime later Douglas became a beta tester for my other app, DragThing. I never asked him what he thought of all the  Hitch Hiker&#39;s references in PCalc, if he ever saw them. The icon has always had a 42 on it, I try to put 42 on the screen whenever I take a screenshot, and there&#39;s always been an Ultimate Answer scientific constant in there. I had the pleasure of shaking his enormous hand at <a href="https://developer.apple.com/wwdc/">WWDC</a> once, and he greeted me with genuine recognition and a smile. I had been due to meet up with him again at a later WWDC, but he died suddenly just beforehand, just a few weeks after we&#39;d exchanged emails, and it hit me quite hard. That&#39;s why the PCalc icon still has a 42 on it - it&#39;s meant as a tribute to him. I didn&#39;t know him very well, but he was always enthusiastic about my work, and as a huge fan of his writing, that meant a lot.</p>
      <p>Anyway, I let PCalc make its way around the world, while I actually did some work for my degree. I got distracted a bit after that, first by writing DragThing, and then by going off and getting a job with Apple where I worked on the OS X Finder and Dock. Yes, yes, I know. But that&#39;s <a href="http://dragthing.com/english/tenyears.html">another story</a>.</p>
      <p>When I was back in Glasgow in 2000, I was looking for another small project to learn the new <a href="https://en.wikipedia.org/wiki/CodeWarrior">Metrowerks CodeWarrior</a> development environment and accompanying <a href="https://en.wikipedia.org/wiki/PowerPlant">PowerPlant</a> application framework. I still got emails about PCalc, even though it had been seven years since the last update, and it was the perfect size to quickly build something usable. So, PCalc 2 was born. The Pascal core mathematics  code was hand-translated into C, and a new user interface was written around it in C++. PCalc 2 would still run on old <a href="https://en.wikipedia.org/wiki/Motorola_68000_family">68K</a> machines, but it would now not only run natively on <a href="https://en.wikipedia.org/wiki/PowerPC">PowerPC</a> machines, but it would run on both the Classic Mac OS, as well as on the new OS X, with an appropriate user interface on both.</p>
      <p><img src="https://s3.amazonaws.com/pcalc/iphone/images/history/PCalc-2.0.png" alt="" width="409" height="282"/></p>
      <p>I&#39;d also decided, based on the popularity of DragThing, that I should probably charge a little bit for it. One reason I&#39;d been happy to let it sit for seven years between releases is that the first version had been completely free. Having paying customers would be a good incentive to keep it updated.</p>
      <p>At WWDC in 2001, I pressed my business card into the hand of a young fresh-faced <a href="https://en.wikipedia.org/wiki/Phil_Schiller">Phil Schiller</a>, and told him about PCalc.  Afterwards, I  remember his assistant emailed me  asking for a serial number for Phil, which I gladly passed on. Later, I learned that <a href="https://en.wikipedia.org/wiki/Steve_jobs">Steve Jobs</a> had used PCalc and allegedly had <em>not completely hated it</em>. <a href="https://en.wikipedia.org/wiki/Steve_Wozniak">Steve Wozniak</a> bought a number of copies that year too.</p>
      <p>By January of 2002, Apple still didn&#39;t have a decent calculator on OS X (some <em>might</em> argue that is still the case), and with the new ‚Äúangle-poise‚Äù iMac G4s about to come out, Apple approached me and licensed PCalc to include it on some iMacs shipped in the US. A very small license fee was agreed per copy, but any number multiplied by around a million is still pretty good!</p>
      <p><img src="https://s3.amazonaws.com/pcalc/iphone/images/history/iMac.jpg" alt="" width="180" height="201"/></p>
      <p>Sadly, it didn&#39;t last - Mac OS 10.2 was released, and with it came a new Apple-written scientific calculator. The rumour was that someone high up in Apple had worked out  exactly who they were paying royalties to - an ex-Apple employee they had not always seen eye-to-eye with. But, I couldn&#39;t verify that. In any case, PCalc was no longer bundled, and things went a bit quiet again for a while.</p>
      <p>In 2005, I rewrote PCalc once again. This time, it was to learn the new Carbon HIToolbox APIs - this was a different way of writing an application, somewhat similar to PowerPlant, but provided by Apple.</p>
      <p>PCalc 3 sported the much loved brushed metal appearance that was all the rage back then. There was also a new companion <a href="https://en.wikipedia.org/wiki/Dashboard_(Mac_OS)">Dashboard Widget</a> which had the same core code, but a user interface written in HTML and javascript. Widgets were the <em>future</em>.</p>
      <p><img src="https://s3.amazonaws.com/pcalc/images/Dashboard30.png" alt="" width="415" height="290"/></p>
      <p>I didn&#39;t charge for the update though - I felt bad that I&#39;d not done a release in ages.</p>
      <p>In 2006, it was the perfect sized app to port to Intel and learn about that - I got one of the prototype  Intel based Macs, and had a universal binary for Intel and PowerPC ready to release by the middle of January. Many updates to the Mac version have followed in the years since.</p>
      <p>But 2007 brought us the iPhone, and then 2008 bought us the App Store, and guess what was the ideal app to port to this new platform?</p>
      <p>I took the  code I&#39;d written for the Dashboard Widget version of PCalc, and got that running within a day or two on the iPhone. From there, I wrote a completely new interface around it, this time in Cocoa. PCalc was the perfect app to have on a touchscreen portable device - it had turned from an  imitation of a calculator on a screen where you pressed the buttons with a mouse, into an actual calculator in your hand. It felt like it wasn&#39;t pretending any more.</p>
      <p><img src="https://s3.amazonaws.com/pcalc/iphone/images/HorizontalBorder.png" alt="" width="488" height="328"/></p>
      <p>PCalc was in the App Store on day one with around 400 other apps and it did really well. Eventually, a lot of our income was coming from PCalc rather than DragThing, and from iOS rather than Mac OS, and so a lot of the effort went into the iOS version first and then was ported back to the Mac afterwards. I even ported the theme engine from DragThing on the Mac to PCalc on the iPhone. That seemed like an insane thing at the time, that you could take a fairly sophisticated drawing engine running on a Mac Pro and put it on a thing that fits in your hand. </p>
      <p>Let&#39;s draw a veil over <a href="https://tla.systems/blog/2009/09/pcalc-prevents-iphone-profanity/">5318008-gate</a> for the sake of my dignity.</p>
      <p>And then came iPads, Retina displays, more iPads, taller iPhones, and... well, you know the rest. And then we had PCalc in the Mac App Store with Retina display support too, and lots of features from the iOS version.</p>
      <p>In fact, in 2014, PCalc 4 launched as a Mac App Store exclusive.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/images/PCalc4-1.png" alt="" width="640" height="400"/></p>
      <p>Well before the days of <a href="https://developer.apple.com/mac-catalyst/">Mac Catalyst</a>, this new version was actually based on the iOS source code, which made development a little easier for me, as I didn&#39;t have to write everything multiple times. I also broke out the core code into a separate and portable chunk, which could be used everywhere.</p>
      <p>One of the first uses of this new calculation engine was a mini calculator widget for the Notification Center on iOS and macOS that you could use for quick calculations.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/iphone/images/33-3.png" alt="" width="320" height="568"/></p>
      <p>It was featured by Apple, and <a href="https://mashable.com/archive/pcalc-widget-ban">nothing</a> <a href="https://techcrunch.com/2014/10/30/apple-no-longer-rejecting-calculator-widgets-from-the-app-store/">bad</a> <a href="https://tidbits.com/2014/10/29/apple-demands-removal-of-pcalcs-today-view-widget/">happened</a>. That was a rather stressful time, but the publicity caused such a sales bump that I could buy a Retina 5K iMac and have a nice vacation.</p>  
      <p>The second use was the smallest PCalc in history in 2015.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/iphone/images/PCalcWatch1.png" alt="" width="276" height="315"/><img src="https://pcalc.s3.amazonaws.com/iphone/images/PCalcWatch2.png" alt="" width="276" height="315"/></p>
      <p>PCalc for the Apple Watch was a fun exercise in fitting a full calculator interface on a really tiny screen. Of course, I had a calculator watch back in the 80s, so I wanted to make my own.</p>
      <p>In contrast, I also introduced the biggest PCalc in history the same year, this time for the Apple TV.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/tv/images/TV1.png" alt="" width="640" height="360"/></p>
      <p>I&#39;m not exactly certain anybody asked for a calculator on their TV, but by this point in time I was now determined to put PCalc anywhere that Apple let me, just out of stubbornness.</p>
      <p>In 2016, Apple added the ability for iOS apps to offer alternative app icons, so I started on a little project to make some new ones. People may remember this was a start of a rather stressful time in the world, and I did a lot of these projects to keep myself sane, or at least distracted.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/iphone/images/NewIcons.png" alt="" width="256" height="256"/></p>
      <p>By this point there are over fifty app icons, including a dozen pride flags. I learned a lot about the origins of different pride flags that year!</p>
      <p>At the same time, rumours about Apple making an AR/VR headset started to swirl, and I decided I wanted to learn about how to do 3D graphics. I&#39;d done a course at my university, but things had changed just a bit in the 22 years that followed.</p>
      <p>Anyway, PCalc&#39;s About screen soon got a <a href="https://www.macstories.net/reviews/pcalcs-delightfully-insane-about-screen/">little bit out of hand</a>. What started as a 3D physics toy where you could throw bananas at the PCalc icon eventually became a small driving game with a worldwide leaderboard and even a physical trophy.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/images/About.jpg" alt="" width="512" height="384"/></p>      
      <p>Nowadays, it&#39;s a <a href="https://apps.apple.com/gb/app/about-by-pcalc/id1613982997">standalone app</a> because it got a bit on the big side.</p>
      <p>If you&#39;d like to know more about PCalc&#39;s many hidden secrets, and the history of easter eggs in general, <a href="https://www.youtube.com/watch?v=fAaqSr-yShc">I did a fun talk at Hacking with Swift Live</a>.</p>
      <p>In 2017, PCalc got a mascot and a set of iMessage stickers, in the form of loveable panda <a href="https://en.wikipedia.org/wiki/Blaise_Pascal">Pascal</a>, who is drawn by <a href="https://dlanham.com/about.html">David Lanham</a>.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/iphone/images/panda-holiday.png" alt="" width="204" height="204"/></p>            
      <p>I&#39;d admired David&#39;s art for a while in his various sticker packs on Facebook. He had never drawn pandas though (aside from the wrong red ones) and I had the realisation that I could just pay David to make a set of stickers for me, and include them with PCalc. You can now even <a href="https://cottonbureau.com/people/tla-systems">buy merch</a> of him. (Pascal, not David).</p>
      <p>You might notice there are some dice in that About screen screenshot. In 2019 I was also <a href="https://www.theincomparable.com/tpk/uktpk/">playing D&amp;D on the internet</a>, and my good friend <a href="https://sixcolors.com/about/">Jason Snell</a> suggested that I should make a dice app for the iPhone. And so, the first spin off from PCalc appeared!</p>
      <p><img src="https://pcalc.s3.amazonaws.com/dice/DiceMain.jpg" alt="" width="512" height="384"/></p>      
      <p><a href="https://pcalc.com/dice/">Dice by PCalc</a> took me two weeks from start to release on the App Store, and used a lot of the code and concepts from the PCalc About screen.</p>
      <p>I say it took me two weeks, but I didn&#39;t exactly stop there. It&#39;s become an extremely over-engineered procrastination project. I&#39;ve designed over fifty dice sets, and it even has a photo mode now. Needless to say, it&#39;s also now on Mac, Apple Watch, and Apple TV too. It&#39;s also become something of a testbed for me trying out new Apple technologies, like Mac Catalyst and SwiftUI, with an eye to what I might do with PCalc in the future.</p>
      <p>Back to PCalc. In 2020, Apple introduced a new style of widgets on iOS and Mac. Non-interactive widgets, this time, which meant that I couldn&#39;t make a calculator out of one any more. Was that because of me? Maybe. On iOS, the old widgets still co-exist today, but on the Mac they went away entirely. So I needed to move the widget elsewhere, and I transplated all the code into the menubar.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/images/4.8-Widget.png" alt="" width="346" height="372"/></p>      
      <p>And that&#39;s us pretty much up-to-date now. PCalc had a lot of internal changes in 2022 to add support for multiple calculators in multiple windows, which rolled out on iPadOS first, and will hopefully come to the Mac soon too. But a lot of the core maths code is still disturbingly similar to that first version I wrote in 1992.</p>
      <p><img src="https://pcalc.s3.amazonaws.com/images/4.8-Medium.png" alt="" width="600" height="243"/></p>      
      <p>I think it&#39;s a pretty safe assumption that I&#39;m going to rewrite PCalc again and again, as long as I can write code. And I hope you&#39;ve enjoyed using it over the decades as much as I have too!</p>
      <p>You can find PCalc for iOS on the App Store <a href="https://pcalc.com/store/pcalc">here</a>, and PCalc for Mac  <a href="https://pcalc.com/store/pcalcmac">here</a>.</p>
</div></div>
  </body>
</html>
