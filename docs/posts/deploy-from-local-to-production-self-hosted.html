<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/bypirob/airo">Original</a>
    <h1>Deploy from local to production (self-hosted)</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><strong>Deploy your projects directly from your local computer to your production server easily.</strong></p>
<p dir="auto">Airo helps you deploying containers to your self-hosted server, without worrying about configuring pipelines, serverless services or different platforms. Just your self-hosted servers.</p>

<p dir="auto">Deploying side-projects doesn&#39;t have to be complicated or expensive. Kubernetes, Platform as a Service (PaaS) and CI/CD pipelines are a powerful and exciting solutions, but sometimes they&#39;re more complex than your project requires. If you enjoy managing your server, it can be significantly cheaper and offer greater control over the technical details.</p>
<p dir="auto">I want to automate this process and deploy easily to my own server. That&#39;s why I&#39;ve created <strong>Airo</strong>:</p>
<ul dir="auto">
<li>üöÄ <strong>Focus on building your product</strong>, not managing infrastructure.</li>
<li>üê≥ <strong>Build and push Docker images directly from your local machine to a container registry</strong>.</li>
<li>‚ö°Ô∏è <strong>Deploy instantly</strong> with a single command from your computer.</li>
<li>üîë <strong>Easily update configurations and containers securely</strong> using SSH.</li>
<li>üåê <strong>Set up HTTPS and reverse proxy automatically</strong> using Caddy.</li>
</ul>

<p dir="auto">Deploying with Airo is easy:</p>
<ol dir="auto">
<li>Define your services in a <code>compose.yml</code> file.</li>
<li>Configure your deployment details in <code>env.yml</code> (server details, Docker images, etc.).</li>
<li>Prepare your Dockerfile.</li>
<li>Set up your Caddyfile for automatic HTTPS and reverse proxy.</li>
</ol>
<p dir="auto">After this initial setup, deploying new updates is just a simple command away:</p>



<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/yourusername/airo.git
cd airo
make install
airo deploy"><pre>git clone https://github.com/yourusername/airo.git
<span>cd</span> airo
make install
airo deploy</pre></div>

<ol dir="auto">
<li>
<p dir="auto">Create a new project directory and navigate to it:</p>
<div dir="auto" data-snippet-clipboard-copy-content="mkdir my-project/.deploy
cd my-project/.deploy"><pre>mkdir my-project/.deploy
<span>cd</span> my-project/.deploy</pre></div>
</li>
<li>
<p dir="auto">Configure your <code>env.yaml</code> file:</p>
<div dir="auto" data-snippet-clipboard-copy-content="server: your-server-ip
user: your-ssh-user
ssh_key: /path/to/your/ssh/key
# add all your services that will be built here
services:
  - name: nextjs
    image: your-registry/api:latest
    build: /home/user/your-project"><pre><span>server</span>: <span>your-server-ip</span>
<span>user</span>: <span>your-ssh-user</span>
<span>ssh_key</span>: <span>/path/to/your/ssh/key</span>
<span><span>#</span> add all your services that will be built here</span>
<span>services</span>:
  - <span>name</span>: <span>nextjs</span>
    <span>image</span>: <span>your-registry/api:latest</span>
    <span>build</span>: <span>/home/user/your-project</span></pre></div>
</li>
<li>
<p dir="auto">Add a Dockerfile to your project:</p>
<div dir="auto" data-snippet-clipboard-copy-content="FROM node:20-alpine
WORKDIR /app
COPY . .
RUN npm install"><pre><span>FROM</span> node:20-alpine
<span>WORKDIR</span> /app
<span>COPY</span> . .
<span>RUN</span> npm install</pre></div>
</li>
<li>
<p dir="auto">Configure your <code>compose.yml</code> file with your services:</p>
<div dir="auto" data-snippet-clipboard-copy-content="services:
   postgres:
     image: postgres:latest
     restart: unless-stopped
     ports:
       - &#39;5432:5432&#39;
     volumes:
       - ./postgres_data:/var/lib/postgresql/data
     environment:
       POSTGRES_PASSWORD: some-temporary-password
  nextjs:
    image: your-registry/front:latest
    restart: unless-stopped
    ports:
      - &#39;3000:3000&#39;
    volumes:
      - ./.env:/app/.env"><pre><span>services</span>:
   <span>postgres</span>:
     <span>image</span>: <span>postgres:latest</span>
     <span>restart</span>: <span>unless-stopped</span>
     <span>ports</span>:
       - <span><span>&#39;</span>5432:5432<span>&#39;</span></span>
     <span>volumes</span>:
       - <span>./postgres_data:/var/lib/postgresql/data</span>
     <span>environment</span>:
       <span>POSTGRES_PASSWORD</span>: <span>some-temporary-password</span>
  <span>nextjs</span>:
    <span>image</span>: <span>your-registry/front:latest</span>
    <span>restart</span>: <span>unless-stopped</span>
    <span>ports</span>:
      - <span><span>&#39;</span>3000:3000<span>&#39;</span></span>
    <span>volumes</span>:
      - <span>./.env:/app/.env</span></pre></div>
</li>
<li>
<p dir="auto">Deploy your project:</p>

</li>
<li>
<p dir="auto">If you want to deploy your project without building the docker image, you can use the <code>compose</code> subcommand:</p>
</li>
</ol>

<ol start="7" dir="auto">
<li>Also if you want to update your Caddyfile, you can use the <code>caddy</code> subcommand:</li>
</ol>

</article></div></div>
  </body>
</html>
