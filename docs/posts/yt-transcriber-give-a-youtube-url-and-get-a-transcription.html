<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/pmarreck/yt-transcriber">Original</a>
    <h1>Yt-transcriber – Give a YouTube URL and get a transcription</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">TUI app- Give it a YouTube URL (or a path to a video or audio file) and you get a transcription with possible speaker identification (WIP) and optional summary or translation, all thanks to open-source AI tooling and my lack of enough free time to watch content-sparse YouTube videos</p>

<ul>
<li> transcribe YouTube videos by URL</li>
<li> output metadata about the video</li>
<li> speaker identification (probably using an LLM in conjunction with a speaker diarization library)</li>
<li> summarization via <code>summarize</code> (requires <code>OPENAI_API_KEY</code> to be set)</li>
<li> translation via <code>translate &lt;language_name&gt;</code> (requires <code>OPENAI_API_KEY</code> to be set)</li>
<li> can use almost any audio or video format that <code>ffmpeg</code> can handle as input, not just YouTube URLs</li>
<li> Test suite (run it with <code>yt-transcriber TEST</code> or <code>TEST=1 yt-transcriber</code>)</li>
<li> support for other video platforms</li>
<li> convert all this to a web service or web app</li>
</ul>
<p dir="auto">Speaker identification (&#34;diarization&#34;), summarization and translation will probably require an API key for Claude or OpenAI and/or one from Huggingface.</p>

<p dir="auto">NEW: If you have Nix installed or are running on NixOS, just symlink <code>yt-transcriber</code>, <code>summarize</code>
and <code>translate</code> to any directory (usually <code>~/bin</code> or <code>XDG_BIN_HOME</code> which is usually <code>~/.local/bin</code>)
in your <code>PATH</code> and you&#39;re good to go (the last two require OPENAI_API_KEY to be
defined in your environment). The shell script will automatically procure all dependencies
deterministically and locally and cache them.</p>
<p dir="auto">If you do not have Nix installed, I recommend using the Determinate Nix Installer from here:
<a href="https://github.com/DeterminateSystems/nix-installer">https://github.com/DeterminateSystems/nix-installer</a></p>
<p dir="auto">If you refuse to use Nix, you can try to install the following dependencies manually, but I make no guarantees:</p>

<p dir="auto">(<code>glow</code> is optional; if using the <code>--markdown|-md</code> argument with <code>summarize</code>, this makes things prettier in the terminal if you pipe to it)
The Python dependencies will be installed via pip into a venv cached in <code>$XDG_CACHE_HOME/yt-transcriber/.venv</code>
and XDG_CACHE_HOME defaults to <code>~/.cache</code> if not set.
The Whisper model will be downloaded to <code>$XDG_CACHE_HOME/yt-transcriber/.whisper</code>.</p>
<p dir="auto">the <code>flake.nix</code> file manages all deps, so just <code>nix develop</code> when in there.
<code>./test_flake.sh</code> tests whether everything&#39;s set up correctly.
<code>./yt_transcriber TEST</code> tests the app itself.
No app keys needed, Whisper runs locally.
Setup was only tested on Mac with a Nix install thus far. Will add tests for it working without Nix next.</p>

<p dir="auto"><code>./yt-transcriber</code> by itself will list options and usage (such as <code>-m modelsize</code>).</p>
<p dir="auto">By default the app uses the <code>small</code> (second smallest) model; I recommend using at least <code>small</code> for better transcription results without costing too much extra processing time. The options are: <code>base</code>, <code>small</code>, <code>medium</code>, <code>large</code>, <code>large-v2</code></p>
<p dir="auto">Transcript will be sent to stdout, so you can redirect it to a file or pipe it to another program such as the provided <code>./summarize[--markdown]</code> or <code>./translate [language]</code> scripts (see below).</p>
<p dir="auto">If you set the <code>DEBUG</code> env var (to anything), you&#39;ll get additional logging/debug info to stderr.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# (when in the project directory)
./yt-transcriber -m medium &#34;https://www.youtube.com/watch?v=&lt;youtube_id&gt;&#34; &gt; ~/Documents/transcript.txt"><pre><span><span>#</span> (when in the project directory)</span>
./yt-transcriber -m medium <span><span>&#34;</span>https://www.youtube.com/watch?v=&lt;youtube_id&gt;<span>&#34;</span></span> <span>&gt;</span> <span>~</span>/Documents/transcript.txt</pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="# (when in the project directory)
./yt-transcriber -m small &#34;/path/to/video/or/audio/file.mp4&#34; | ./summarize | ./translate Süddeutsch &gt; ~/Documents/bavarian_german_summary.txt"><pre><span><span>#</span> (when in the project directory)</span>
./yt-transcriber -m small <span><span>&#34;</span>/path/to/video/or/audio/file.mp4<span>&#34;</span></span> <span>|</span> ./summarize <span>|</span> ./translate Süddeutsch <span>&gt;</span> <span>~</span>/Documents/bavarian_german_summary.txt</pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="# (when yt-transcriber is on PATH)
yt-transcriber &#34;https://www.youtube.com/watch?v=&lt;youtube_id&gt;&#34; | summarize --markdown | glow"><pre><span><span>#</span> (when yt-transcriber is on PATH)</span>
yt-transcriber <span><span>&#34;</span>https://www.youtube.com/watch?v=&lt;youtube_id&gt;<span>&#34;</span></span> <span>|</span> summarize --markdown <span>|</span> glow</pre></div>
<p dir="auto">For a full debug run try this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# (when in the project directory)
DEBUG=1 ./yt-transcriber -m small &#34;https://www.youtube.com/watch?v=&lt;youtube_id&gt;&#34; | tee last_transcript.txt | ./summarize"><pre><span><span>#</span> (when in the project directory)</span>
DEBUG=1 ./yt-transcriber -m small <span><span>&#34;</span>https://www.youtube.com/watch?v=&lt;youtube_id&gt;<span>&#34;</span></span> <span>|</span> tee last_transcript.txt <span>|</span> ./summarize</pre></div>
</article></div></div>
  </body>
</html>
