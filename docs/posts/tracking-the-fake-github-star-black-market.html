<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dagster.io/blog/fake-stars">Original</a>
    <h1>Tracking the Fake GitHub Star Black Market</h1>
    
    <div id="readability-page-1" class="page"><div><p>In this blog post, we explore the topic of fake GitHub stars. We will share our approach for identifying them and invite you to run this analysis on repos you are interested in. <a href="#ready-to-try-this-for-yourself">Click here</a> to skip the background story and jump right to the code.</p><p>And if you enjoy this article, head on over to <a href="https://github.com/dagster-io/dagster">the Dagster repo</a> and give us a <strong>real</strong> GitHub star!</p><div><a href="https://github.com/dagster-io/dagster" target="_new"><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDA5IiBoZWlnaHQ9Ijc0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIvPg=="/></p><p><img alt="A screenshot from Github Star History showing a number os suspicious repos." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></a></div><ul><li><a href="#why-buy-stars-on-github">Why buy stars on GitHub?</a></li><li><a href="#lets-go-star-shopping">Let’s go star shopping…</a></li><li><a href="#how-can-we-identify-these-fake-stars">How can we identify these fake stars?</a></li><li><a href="#identifying-obvious-fakes">Identifying obvious fakes</a></li><li><a href="#identifying-sophisticated-fakes">Identifying sophisticated fakes</a></li><li><a href="#clustering-intuition">Clustering intuition</a></li><li><a href="#improving-the-clustering">Improving the clustering</a></li><li><a href="#the-results">The results</a></li><li><a href="#ready-to-try-this-for-yourself">Try this for yourself</a></li></ul><p>GitHub stars are one of the main indicators of social proof on GitHub. At face value, they are something of a vanity metric, with no more objectivity than a Facebook &#34;Like&#34; or a Twitter retweet. Yet they influence serious, high stakes decisions, including which projects get used by enterprises, which startups get funded, and which companies talented professionals join.</p><p>Naturally, we encourage people interested in the Dagster project to star our repo, and we track our own GitHub star count along with that of other projects. So when we spotted some new open-source projects suddenly racking up hundreds of stars a week, we were impressed. In some cases, it looked a bit too good to be true, and the patterns seemed off: some brand-new repos would jump by several hundred stars in a couple of days, often just in time for a new release or other big announcement.</p><p>We spot-checked some of these repositories and found some suspiciously fake-looking accounts.</p><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjg1IiBoZWlnaHQ9IjUzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></p><p><img alt="A screenshot from Github Star History showing a number os suspicious repos." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><figcaption>Not your typical GitHub audience. Note the account creation dates.</figcaption></figure><p>We were curious that most GitHub star analysis tools or <a href="https://www.cockroachlabs.com/blog/what-can-we-learn-from-our-github-stars/">articles that cover that topic</a> fail to address the issue of fake stars.</p><p>We knew there were dubious services out there offering stars-for-cash, so we set up a dummy repo (<a href="https://github.com/frasermarlow/tap-bls"><code>frasermarlow/tap-bls</code></a>) and purchased a bunch of stars. From these, we devised a profile for fake accounts and ran a number of repos through a test using the GitHub REST API (<a href="https://github.com/PyGithub/PyGithub">via pygithub</a>) and the <a href="https://www.gharchive.org/">GitHub Archive</a> database.</p><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODY2IiBoZWlnaHQ9IjYwNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></p><p><img alt="A screenshot from Star-History showing the amazing popularity of an obscure repository." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><figcaption>My repo became popular overnight …</figcaption></figure><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTc5OCIgaGVpZ2h0PSIxMjA2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIvPg=="/></p><p><img alt="A screenshot from Github Star History showing a number os suspicious repos." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><figcaption>… but then, it’s not alone.</figcaption></figure><p>So where does one buy stars? No need to go surfing the dark web. There are dozens of services available with a basic Google search.</p><p>In order to draw up a profile of a fake GitHub account used by these services, we purchased stars from the following services:</p><ul><li><strong>Baddhi Shop</strong> - a specialist in low-cost faking of pretty much any online publicly influenceable metric. They will sell you 1,000 fake GitHub stars for as little as $64.</li><li><strong>GitHub24</strong>, a service from Möller und Ringauf GbR, is much more pricey at €0.85 per star.</li></ul><p>To give them credit, the stars were delivered promptly to our repo. GitHub24 delivered 100 stars in 48 hours. Which, if nothing else, was a major giveaway for a repo that, up until then, had only three stars. Baddhi Shop had a bigger ask as we ordered 500 stars, and these arrived over the course of a week.</p><p>That said, you get what you pay for. A month later, all 100 GitHub24 stars still stood, but only three-quarters of the fake Baddhi Shop stars remained. We suspect the rest were purged by GitHub’s integrity teams.</p><p>We wanted to figure out how bad the fake star problem was on GitHub. To get to the bottom of this, we worked with <a href="https://www.linkedin.com/in/alana-glassco-a4992278/">Alana Glassco</a>, a spam &amp; abuse expert, to dig into the data, starting by analyzing public event data in the <a href="https://www.gharchive.org/">GitHub Archive</a> database.</p><p>You might be tempted to frame this up as a classical machine learning problem: simply buy some fake stars, and train a classifier to identify real vs fake stars. However, there are several problems with this approach.</p><ul><li><strong>Which features?</strong> Spammers are adversarial and are actively avoiding detection, so the obvious features to classify on - name, bio, etc - are generally obfuscated.</li><li><strong>Label timeliness.</strong> To avoid detection, spammers are constantly changing their tactics to avoid detection. Labeled data may be hard to come by, and even data that is labeled may be out-of-date by the time a model is retrained.</li></ul><p>In spam detection, we often use heuristics in conjunction with machine learning to identify spammers. In our case, we ended up with a primarily heuristics-driven approach.</p><p>After we bought the fake GitHub stars, we noticed that there were two cohorts of fake stars:</p><ul><li><strong>Obvious fakes</strong>. One cohort didn&#39;t try too hard to hide their activity. By simply looking at their profiles it was clear that they were not a real account.</li><li><strong>Sophisticated fakes</strong>. The other cohort was much more sophisticated, and created lots of real-looking activity to hide the fact that they were fake accounts.</li></ul><p>We ended up with two separate heuristics to identify each cohort.</p><p>During our fake star investigation, we found lots of one-off profiles: fake GitHub accounts created for the sole purpose of &#34;starring&#34; just one or two GitHub repos. They show activity on one day (the day the account was created, which matches the day the target repo was starred), and nothing else.</p><p>We used the GitHub API to gather more information about these accounts, and a clear pattern emerged. These accounts were characterized by extremely limited activity:</p><ul><li>Created in 2022 or later</li><li>Followers &lt;=1</li><li>Following &lt;= 1</li><li>Public gists == 0</li><li>Public repos &lt;=4</li><li>Email, hireable, bio, blog, and twitter username are empty</li><li>Star date == account creation date == account updated date</li></ul><p>Using this simple “low activity” heuristic, we can detect many (but hardly all) suspected fake accounts that starred the same set of repositories, using nothing but data that’s available from the GitHub API.</p><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjY1IiBoZWlnaHQ9IjM0MyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></p><p><img alt="An animated GIF file showing clearly how dozens of accounts are fake and almost identical in their behaviour." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><figcaption>What do all of these GitHub users have in common?</figcaption></figure><p>The other cohort of fake accounts was quite challenging to identify. They had realistic human activity: they had profile pictures, bios, and realistic contribution activity. The simple heuristic above didn&#39;t identify these accounts as fake, even though we knew they were from our purchase from vendors. How could we identify these realistic—yet known to be fake—accounts?</p><h2 id="clustering-intuition"><a aria-hidden="true" tabindex="-1" href="#clustering-intuition"><span></span></a>Clustering intuition</h2><p>We ended up settling on a technique called <strong>unsupervised clustering</strong>. Conceptually, we wanted to construct a set of features per account. Normal users should be fairly diffuse; that is, their features should be fairly unique to them and they should not belong to any large clusters. Fake users, on the other hand, would all share similar features and would cluster together when visualized. In order to detect fake users, we&#39;d simply check to see if they are part of a suspicious-looking cluster.</p><p>This is easiest to understand with an example. Consider &#34;activity date&#34;. Most users on GitHub don&#39;t have public activity every day. If an account uses GitHub a few days a month, and those days are the <strong>exact same</strong> as another account, and they share similar activity on those days, it&#39;s a sign that, potentially, both accounts are controlled by the same underlying script.</p><p>To get a sense of what this looks like, we can plot the set of users who starred a given repo by the number of activity dates they share with other users (x-axis) and the total number of repositories they interacted with (y-axis):</p><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDE1IiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></p><p><img alt="Our analysis identified known fake accounts and suspected accounts from all users who starred a github repo." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div></figure><p>Here’s an example of what that looks like for our dummy repo, which has nearly 100% fake stars:</p><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA3NCIgaGVpZ2h0PSI5MTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIi8+"/></p><p><img alt="A plot of our heuristic against a set of known fakes - close to 100% match." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><figcaption>Plot of our heuristic against a set of known fakes - close to 100% match</figcaption></figure><p>And for the Dagster repo, which has (as far as we know) zero fake stars. Notice the tiny yellow dots in the bottom left corner, which represent a handful of false positive accounts (false positive rate = 0.17%):</p><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA3NCIgaGVpZ2h0PSI5MTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIi8+"/></p><p><img alt="A plot of our heuristic against the dagster-io repository - close to 0% match." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><figcaption>A plot of our heuristic against the dagster-io repository - close to 0% match</figcaption></figure><p>And finally, for something in the middle, we can take a look at one open source project repository that has a large number of suspected fake stars mixed in with real engagement. The clusters of fake GitHub users stood out.</p><figure><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAzOCIgaGVpZ2h0PSI4NjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIi8+"/></p><p><img alt="A plot of our heuristic against a repository we suspect of cheating.  Fake stars clearly light up." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><figcaption>A plot of our heuristic against a repository we suspect of cheating - fake stars light up.</figcaption></figure><h2 id="improving-the-clustering"><a aria-hidden="true" tabindex="-1" href="#improving-the-clustering"><span></span></a>Improving the clustering</h2><p>While this initial technique was interesting, it wasn&#39;t good enough at identifying high-confidence fake users on its own. We needed to improve on it.</p><p>After digging into the data from this initial intuition, we discovered another pattern. Though these sophisticated fake accounts were interacting in realistic ways, we found that all the fake accounts tended to interact with a small set of repositories shared between them. Essentially, each fake account seemed to be adding stars to a subset of overarching &#34;suspicious repositories.&#34;</p><p>Unfortunately we couldn&#39;t just find that list of repositories and be done as spammers would constantly rotate through new sets of repositories to star. However, we <strong>could</strong> use our unsupervised clustering techniques to identify these suspicious repos automatically. Then we would know which accounts were fake based on whether (and how much) they interacted with these suspicious repos.</p><p>Specifically, here is how we identified whether or not a user was suspicious:</p><ul><li>First, we pulled a list of all the users who starred the repository we&#39;re interested in analyzing.</li><li>Then, we identified a set of potentially <strong>suspicious repositories</strong> based on high overlap with other users in this set. Remember, since these users are already related by having starred the same repository initially, it could be suspicious if they star a large number of overlapping additional repositories. (It could also just mean that this cluster of repositories is legitimately interesting to the same set of users - which is why the additional step below is important!)</li><li>Finally, we looked for accounts with relatively low activity levels, where the vast majority of their activity was on the set of suspicious repositories identified above, and that had no additional legitimate-seeming activity. <strong>These were our fake accounts.</strong></li></ul><p>When we tested this heuristic on the known fake stars in our dummy account, we found that while it could be very computationally expensive, it was both very good at detecting fake accounts and also extremely accurate (98% precision and 85% recall). Things are bound to be a bit messier in a real repository, so we were eager to test this out.</p><p>By putting these two methods together, we can get a more complete picture of the suspicious engagement found on a given GitHub repository and the recall of each method:</p><div><table><tbody><tr><td></td><td colspan="3"><strong>Simple heuristic</strong></td><td><strong>Simple heuristic + unsupervised clustering</strong></td></tr><tr><td><strong>Repository</strong></td><td>Total # of stars</td><td>Suspected fake stars</td><td>Suspected fake star %</td><td>Suspected fake star % for stars gained 2022 or later<!-- --> <sup><a href="#footnote">footnote</a></sup></td></tr><tr><td><strong><a href="https://github.com/okcashpro/okcash/stargazers?page=4" target="_new"><span>okcash</span></a></strong></td><td>759</td><td>1</td><td>0.13%</td><td><strong><span>97%</span></strong></td></tr><tr><td><strong><a href="https://github.com/stackgpu/Simple-GPU/stargazers?page=7" target="_new"><span>Simple-GPU</span></a></strong></td><td>787</td><td><span>159</span></td><td><span>20%</span></td><td><strong><span>87%</span></strong></td></tr><tr><td><strong><a href="https://github.com/notifo-io/notifo/stargazers?page=6" target="_new"><span>Notifio</span></a></strong></td><td>841</td><td><span>97</span></td><td><span>12%</span></td><td><strong><span>76%</span></strong></td></tr><tr><td><strong><a href="https://github.com/mage-ai/mage-ai/stargazers?page=9" target="_new"><span>Mage.ai</span></a></strong></td><td>3,629</td><td><span>533</span></td><td><span>15%</span></td><td><strong><span>30%</span></strong></td></tr><tr><td><strong><a href="https://github.com/apache/airflow/stargazers?page=22" target="_new">Apache Airflow</a></strong></td><td>29,435</td><td>17</td><td>0.06%</td><td><strong>1.6%</strong></td></tr><tr id="footnote"><td><strong><a href="https://github.com/ploomber/ploomber/stargazers" target="_new">Ploomber</a></strong></td><td>3,002</td><td>6</td><td>0.2%</td><td><strong>1.5%</strong></td></tr><tr><td><strong><a href="https://github.com/dagster-io/dagster/stargazers?page=4" target="_new">Dagster</a></strong></td><td>6,538</td><td>8</td><td>0.12%</td><td><strong>1.5%</strong></td></tr><tr><td><strong><a href="https://github.com/flyteorg/flyte/stargazers?page=8" target="_new">Flyte</a></strong></td><td>3,154</td><td>1</td><td>0.03%</td><td><strong>1.1%</strong></td></tr></tbody></table></div><p>Footnote: Due to the compute cost of running the calculations, the GitHub Archive analysis done on BigQuery was limited to stars gained starting Jan 1st 2022. For the GitHub Archive analysis, a slightly different method was used to identify the same type of suspicious &#34;low activity&#34; accounts that were found in the GitHub API analysis. These accounts were combined with the additional suspicious accounts identified through our clustering method, to give us the total suspected fake star count.</p><p>If you would like to analyze other Github repositories using this logic, you will find <a href="https://github.com/dagster-io/fake-star-detector">a full Dagster and dbt project on Github here</a>. The <a href="https://github.com/dagster-io/fake-star-detector/blob/main/fake_star_detector/assets/simpler_model.py">simple heuristic</a> is implemented in Python, so all you will need is a Github account and an access token.</p><p>The <a href="https://github.com/dagster-io/fake-star-detector/blob/main/fake_star_detector/assets/complex_model.py">unsupervised clustering method</a> is implemented as a <a href="https://github.com/dagster-io/fake-star-detector/tree/main/dbt_project/models/complex_detector">dbt project</a>, so you&#39;ll need a Google Cloud BigQuery account to run it. Note that for large repos it may be quite costly to run.</p><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODg4IiBoZWlnaHQ9IjU2MyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></p><p><img alt="The Dagster fake-stars tutorial builds a pipeline of software-defined assets, shown here in a diagram." src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><h2 id="conclusion"><a aria-hidden="true" tabindex="-1" href="#conclusion"><span></span></a>Conclusion</h2><p>Building models for detecting fake accounts (or other forms of spam) with 100% accuracy is hard. We can develop techniques with fairly high precision and recall but they become computationally expensive. Furthermore, the world is continuously changing around us, and many models need constant adjustment. Sometimes going with a simple heuristic can get us enough data at a fraction of the cost, so it&#39;s always good to keep a range of options in mind. And finally, just because a repo has some fake stars, it doesn&#39;t necessarily mean that the owners bought them, as spammers often try to hide their fake accounts by starring legitimate repos.</p><p>Given the incentives at play here, and the ease with which one can buy fake GitHub stars, it&#39;s heartening to see that this is not a widespread phenomenon, and speaks well of the values of the broader developer community.</p><p>However the option of stuffing a repo with fake stars exposes gaps in GitHub&#39;s own trust and safety mechanisms and there are certainly projects that have exploited them. We&#39;ve shared these findings with the GitHub team, so don&#39;t be surprised if all of the fake accounts we detected in this tutorial disappear in the coming months, and the GitHub star count on those repositories takes a dive.</p><hr/><div><div data-rmiz-wrap="visible"><div><div><p><img alt="" aria-hidden="true" role="presentation" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIi8+"/></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/></p></div></div></div></div><p>We&#39;re always happy to hear your feedback, so please reach out to us! If you have any questions, ask them in the Dagster community Slack (<a href="https://dagster.io/slack">join here</a>!) or start a <a href="https://github.com/dagster-io/dagster/discussions">Github discussion</a>. If you run into any bugs, let us know with a <a href="https://github.com/dagster-io/dagster/issues/new/choose">Github issue</a>. And if you&#39;re interested in working with us, check out our <a href="https://www.elementl.com/careers#open_roles">open roles</a>!</p><p><strong>Follow us:</strong></p><ul><li>🌟 <a href="https://github.com/dagster-io/dagster">Star us on Github</a></li><li>🐦 <a href="https://twitter.com/dagster">Follow us on Twitter</a></li><li>📺 <a href="https://www.youtube.com/channel/UCfLnv9X8jyHTe6gJ4hVBo9Q">Subscribe to our YouTube Channel</a></li></ul></div></div>
  </body>
</html>
