<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.fractionalxperience.com/ux-ui-graphic-design-blog/why-jpeg-xl-ignoring-bit-depth-is-genius">Original</a>
    <h1>Why JPEG XL Ignoring Bit Depth Is Genius (and Why AVIF Can&#39;t Pull It Off)</h1>
    
    <div id="readability-page-1" class="page"><div><p>People often ask me what I mean when I say “JPEG XL is simply the best thought out and forward thinking image formats there is. Nothing else is close.” This is article is just one example of why.</p><p>When I heard that JPEG XL’s encoder <strong>doesn’t care about bit depth</strong>, it sounded almost reckless (and I was downright confused). In a world obsessed with 8-bit, 10-bit, 12-bit precision wars, shouldn’t bit depth be fundamental? Isn’t more bits always better?</p><p>Here’s the twist: ignoring bit depth isn’t a limitation. It turns out it might be a brilliant design decision for modern image compression. And it reveals a fundamental philosophical difference between JPEG XL and AVIF that has massive implications for image quality, workflow simplicity, and future-proofing.</p><p>Let me explain why this ”non-feature’ is actually a superpower.</p><h2>The Problem: Bit Depth Is Just a Convention, Not Reality</h2><p>When Fractional first started building the JPEG XL community site, I ran tens-of-thousands of image tests for various parts of the site. I was really confused when I forced <code>cjxl</code> to limited outputs of <strong>10- or 12-bits</strong>, and the resulting file was EXACTLY the same size. So much so, I reached out to <a href="https://scholar.google.com/citations?user=cwkHAnYAAAAJ&amp;hl=en">Jon (the man leading the JPEG XL charge)</a> to point out what was clearly a bug in the implementation). You can forgive me for being confused when he said it was the expected behaviour.</p><p>Inside JPEG XL’s lossy encoder, all image data becomes <strong>floating-point numbers</strong> between 0.0 and 1.0. Not integers. Not <strong>8-bit</strong> values from 0-255. Just fractions of full intensity.</p><p>Whether your source was an 8-bit JPEG, a 10-bit camera RAW, a 16-bit professional scan, or even 32-bit floating point data, doesn’t matter. It all maps into the same [0, 1] range. The encoder sees the <em>meaning</em> of those colors, not how finely they were quantized before arrival.</p><p>Think about what this means: <strong>a bit is just a file format convention, not a perceptual reality</strong>.</p><p>Human vision doesn’t care whether a gradient was stored in 256 steps or 1024 steps. It cares whether the gradient <em>looks</em> smooth. By working in continuous float space, JPEG XL sidesteps one of the biggest limitations plaguing traditional codecs: dependence on arbitrary digital precision boundaries.</p><h3>How AVIF Gets Trapped</h3><p>AVIF inherits it’s architecture from its video-codec ancestry (AV1), where bit depth is baked into the design. The encoder operates on integer sample buffers — typically <strong>8</strong>-, <strong>10</strong>-, or <strong>12</strong>-bit <a href="https://proedu.com/blogs/photography-fundamentals/ycbcr-color-space-understanding-its-role-in-digital-photography?srsltid=AfmBOoqw9rWNXM-SiRhzlVusp7OmkkYWTf2g552Ybjpxe3DWJkAvT-ue&amp;utm_source=chatgpt.com"><strong>YCbCr</strong></a> data — and compresses these samples efficiently, but without a true understanding of their underlying colorimetric meaning.</p><p>This limitation comes from early digital video systems where uncompressed video consumed memory at alarming rates. To keep buffer sizes and hardware costs manageable, engineers used the lowest possible bit depth (and aggressive chroma subsampling like 4:2:0). These hardware constraints became encoded into the codec design itself, and they persist decades later even when modern systems have plenty of memory.</p><p>You’re encoding <strong>8-bit</strong> images? The encoder optimizes for <strong>8-bit</strong> quantization tables. Working with <strong>10-bit</strong> HDR? Now you need different encoding decisions, different optimization strategies, essentially a different encoding mode. This creates a rigid system where the codec needs to know exactly what bit depth you’re working with at every stage.</p><p>The encoder is essentially “blind,” applying lossy compression to numerical values without knowing whether those numbers represent subtle shadow gradations in an HDR scene, or flat colors in a logo. It’s solving for <em>numerical precision</em> when it should be solving for <em>perceptual fidelity</em>.</p><h2>JPEG XL’s Radical Solution: Float32 + Perceptual Intent</h2><p>Instead of bit depth, JPEG XL works with an <strong>intensity target,</strong> a parameter that defaults to 255 nits and represents the brightness that pure white (1,1,1) should be rendered at.</p><p>This perceptual anchor matters far more than arbitrary bit precision because it describes how the image should actually <em>look</em> to human eyes.</p><p>Things get complicated quickly, as modern displays blow past that default:</p><ul role="list"><li>Many laptops now reach <strong>600-1000 nits</strong> in SDR mode</li><li>HDR displays routinely exceed <strong>1000 nits</strong></li><li>Professional reference monitors can hit <strong>4000+ nits</strong></li></ul><p>With JPEG XL, you simply adjust intensity target to match your content. The encoder automatically allocates precision where it matters perceptually. Same codec, same tools, same optimization strategy – just a different perceptual target.</p><p><strong>No switching between 8-bit mode and 10-bit mode.</strong></p><p><strong>No worrying whether  quantization tables are optimized for the right bit precision.</strong></p><p><strong>No cascading encoding decisions based on integer sample depth.</strong></p><p>The codec doesn’t care about your display’s technical specs. It just needs to know: &#34;what brightness level does white represent?&#34; Everything scales from there.</p><h2>The XYB Secret Weapon</h2><p>This entire philosophy is enabled by JPEG XL’s use of <strong>XYB –</strong> an absolute, perceptually motivated color space used internally for all lossy compression; built specifically for it.</p><p>No matter what color space your input uses (sRGB, Display P3, Rec.2020, ProPhoto RGB), the encoder converts everything to <strong>XYB</strong> before compression. This means the encoder always <em>knows</em> what it’s looking <em>at</em> in perceptual terms.</p><p><strong>The encoder can make intelligent decisions about where to allocate bits based on human visual sensitivity, not arbitrary numeric precision.</strong></p><p>A smooth gradient in shadow detail gets treated as perceptually important regardless of whether it came from <strong>8-bit</strong> or <strong>16-bit</strong> source data. The encoder optimizes directly for what the human eye can distinguish, not for preserving digital exactness.</p><h3>The AVIF Blindness</h3><p>AVIF operates on YCbCr buffers without knowing which RGB color space they reference. Color space handling happens at the file format level (HEIF container), not within the core compression engine. AVIF isn&#39;t uniquely flawed. It inherited the same fundamental approach that virtually <em>every</em> codec before JPEG XL used.</p><p>The encoder can’t leverage colorimetric knowledge for better perceptual optimization. It’s compressing numbers, not colors. It’s preserving bits, not vision.</p><p>You can see this in compression comparisons where AVIF is tested with both 4:4:4 and 4:2:0 configurations at different bit depths. Each configuration is essentially a different encoding strategy, because the core engine never fully understood what those numbers <em>meant</em>.</p><h2>Why This Matters for HDR (and Dark Scenes)</h2><p>Here’s a subtle real-world problem that illustrates why perceptual thinking beats bit-precision thinking:</p><p>When viewing dark image areas with display brightness cranked up – especially when zoomed in so only dark parts are visible, allowing your eyes to fully adapt – you can actually perceive more detail than what traditional <strong>8-bit</strong> encoding allows.</p><p><strong>Your eyes adapt. Traditional codecs don’t account for this.</strong></p><p>JPEG XL’s perceptual approach with adjustable intensity target handles this naturally. You can tell the encoder to assume a brighter viewing environment if needed, and it will allocate precision accordingly.</p><p>With bit depth-focused codecs like AVIF, you’re stuck with the precision limitations of your chosen bit depth, regardless of viewing conditions.</p><h2>Workflow Implications: One Less Thing to Worry About</h2><p>This difference has massive practical consequences:</p><p><strong>Consistency Across Content Types</strong></p><p>JPEG XL maintains consistent perceptual quality whether you’re compressing SDR screenshots, HDR photographs, or anything in between. The encoder’s perceptual optimization works the same way regardless of source characteristics. This is why JPEG XL shows better encoder consistency (lower standard deviation in quality scores across diverse image sets) compared to AVIF.</p><p><strong>Simpler Quality Settings</strong></p><p>You don’t need to mentally adjust your quality expectations based on bit depth. A JPEG XL quality level means roughly the same perceptual result whether you’re encoding standard web photos or high-bit-depth professional content. Set it and forget it.</p><p><strong>Future-Proofing</strong></p><p>As display technology evolves toward higher brightness, wider color gamuts, and better HDR, JPEG XL’s perceptual approach adapts naturally. You’re not locked into bit precision decisions made years ago. New display tech doesn’t require a new file format—the same image data scales gracefully.</p><p><strong>Professional Workflows</strong></p><p>For photographers and content creators: this means you can use the same encoder settings and quality targets across your entire workflow – from web delivery to archival storage – without agonizing over whether <strong>8-bit</strong>, <strong>10-bit</strong>, or <strong>16-bit</strong> is “optimal.”</p><p>The continuous model means smooth gradients stay smooth, fine detail stays fine, and tonal transitions stay natural—regardless of the bit depth of your source material or target display.</p><h2>The Philosophy: Compression That Respects Vision, Not Bits</h2><div><div>
  <table>
    <thead>
      <tr>
        <th>Traditional Approach</th>
        <th>JPEG XL&#39;s Approach</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Bitdepth-dependent encoding</td>
        <td>Bitdepth-agnostic</td>
      </tr>
      <tr>
        <td>Optimize for numerical error (PSNR)</td>
        <td>Optimize for perceptual error</td>
      </tr>
      <tr>
        <td>Tied to SDR/HDR mode switching</td>
        <td>Adapts to any brightness target</td>
      </tr>
      <tr>
        <td>Encodes discrete integer values</td>
        <td>Encodes perceptual meaning</td>
      </tr>
      <tr>
        <td>Color space handling external</td>
        <td>Color space integrated into core</td>
      </tr>
      <tr>
        <td>Legacy hardware constraints persist</td>
        <td>Designed for modern reality</td>
      </tr>
    </tbody>
  </table>
</div>

</div><p>By ignoring bit depth, JPEG XL’s float-based encoding embraces a profound truth: <strong>pixels aren’t just numbers; they’re perceptions.</strong> It attempts to preserves the experience of seeing. It doesn’t optimize for file format conventions. It optimizes for the human visual system.</p><h2>The Bottom Line</h2><p>JPEG XL not worrying about bit depth isn’t an oversight <em>or</em> simplification. It’s liberation from decades of accumulated cruft where we confused digital precision with perceptual quality.</p><p>It’s a sign that we’ve moved past “how many bits per channel” as a quality metric, and toward “how well does it look, everywhere, to everyone, on any display?”</p><p>AVIF, constrained by its video codec DNA, remains shackled to integer sample buffers and bit depth-specific optimization paths. It’s a competent codec optimized for streaming video at web-scale. But it’s solving a different (and arguably less important) problem than JPEG XL.</p><p>For photographers, web developers, archivists, and anyone who cares about image quality across diverse content types and viewing conditions, JPEG XL’s approach is refreshingly sensible.</p><p><strong>It’s one less thing to worry about. And it produces better results where it counts.</strong></p><p>That’s why this quiet “non-feature” is actually one of JPEG XL’s most awesome innovations.</p></div></div>
  </body>
</html>
