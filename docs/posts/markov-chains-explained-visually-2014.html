<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://setosa.io/ev/markov-chains/">Original</a>
    <h1>Markov Chains Explained Visually (2014)</h1>
    
    <div id="readability-page-1" class="page">
    
    <section>
      <p>
        
        <h3>Explained Visually</h3>
      </p>
      
      <p>By <a href="http://twitter.com/vicapow">Victor Powell</a>
      </p>
      <p>with text by <a href="http://twitter.com/lewislehe">Lewis Lehe</a>
      </p><p>Markov chains, named after <a href="https://en.wikipedia.org/wiki/Andrey_Markov">Andrey Markov</a>, are mathematical systems that hop from one &#34;state&#34; (a situation or set of values) to another. For example, if you made a Markov chain model of a baby&#39;s behavior, you might include &#34;playing,&#34; &#34;eating&#34;, &#34;sleeping,&#34; and &#34;crying&#34; as states, which together with other behaviors could form a &#39;state space&#39;: a list of all possible states. In addition, on top of the state space, a Markov chain tells you the probabilitiy of hopping, or &#34;transitioning,&#34; from one state to any other state---e.g., the chance that a baby currently playing will fall asleep in the next five minutes without crying first.</p>
<p>A simple, two-state Markov chain is shown below.</p>

      <p ng-controller="NoControlsCtrl">
        
        <label>speed</label>
        <st-diagram states="states" transition-matrix="transitionMatrix" center="diagramCenter" duration="duration"></st-diagram>
      </p><p>With two states (A and B) in our state space, there are 4 possible transitions (not 2, because a state can transition back into itself). If we&#39;re at &#39;A&#39; we could transition to &#39;B&#39; or stay at &#39;A&#39;. If we&#39;re at &#39;B&#39; we could transition to &#39;A&#39; or stay at &#39;B&#39;. In this two state diagram, the probability of transitioning from any state to any other state is 0.5.</p>
<p>Of course, real modelers don&#39;t always draw out Markov chain diagrams. Instead they use a &#34;transition matrix&#34; to tally the transition probabilities. Every state in the state space is included once as a row and again as a column, and each cell in the matrix tells you the probability of transitioning from its row&#39;s state to its column&#39;s state. So, in the matrix, the cells do the same job that the arrows do in the diagram.</p>

      <div ng-controller="TransitionMatrixCtrl">
        <p>
          <label> speed </label>
        </p>
        <st-diagram center="diagramCenter" states="states" transition-matrix="transitionMatrix" duration="duration" selected-transition="selected.transition"></st-diagram>
        <grid>
          <row>
            <cell></cell>
            <cell>A</cell>
            <cell>B</cell>
          </row>
          <row>
          <div ng-style="{&#39;background-color&#39;: color(&#39;A&#39;)}">
              <cell>
                <p> A </p>
              </cell>
              <cell ng-mouseover="selected.transition = [0, 0]" ng-mouseout="selected.transition = null">
                <p>
                  P(A|A): {{ transitionMatrix[0][0] | number:2 }}
                </p>
                
              </cell>
              <cell ng-mouseover="selected.transition = [0, 1]" ng-mouseout="selected.transition = null">
                <p>
                  P(B|A): {{ transitionMatrix[0][1] | number:2 }}
                </p>
                
              </cell>
            </div>
          </row>
          <row>
            <div ng-style="{&#39;background-color&#39;: color(&#39;B&#39;)}">
              <cell>
                <p> B </p>
              </cell>
              <cell ng-mouseover="selected.transition = [1, 0]" ng-mouseout="selected.transition = null">
                <p>
                  P(A|B): {{ transitionMatrix[1][0] | number:2 }}
                </p>
                
              </cell>
              <cell ng-mouseover="selected.transition = [1, 1]" ng-mouseout="selected.transition = null">
                <p>
                  P(B|B): {{ transitionMatrix[1][1] | number:2 }}
                </p>
                
              </cell>
            </div>
          </row>
        </grid>
      </div><p>If the state space adds one state, we add one row and one column, adding one cell to every existing column and row. This means the number of cells grows quadratically as we add states to our Markov chain. Thus, a transition matrix comes in handy pretty quickly, unless you want to draw a jungle gym Markov chain diagram.</p>
<p>One use of Markov chains is to include real-world phenomena in computer simulations. For example, we might want to check how frequently a new dam will overflow, which depends on the number of rainy days in a row. To build this model, we start out with the following pattern of rainy (R) and sunny (S) days:</p>

      <p>One way to simulate this weather would be to just say &#34;Half of the days are rainy. Therefore, every day in our simulation will have a fifty percent chance of rain.&#34; This rule would generate the following sequence in simulation:</p>

      <p>Did you notice how the above sequence doesn&#39;t look quite like the original? The second sequence seems to jump around, while the first one (the real data) seems to have a &#34;stickyness&#34;. In the real data, if it&#39;s sunny (S) one day, then the next day is also much more likely to be sunny.</p>
<p>We can minic this &#34;stickyness&#34; with a two-state Markov chain. When the Markov chain is in state &#34;R&#34;, it has a 0.9 probability of staying put and a 0.1 chance of leaving for the &#34;S&#34; state. Likewise, &#34;S&#34; state has 0.9 probability of staying put and a 0.1 chance of transitioning to the &#34;R&#34; state.</p>

      <p>In the hands of metereologists, ecologists, computer scientists, financial engineers and other people who need to model big phenomena, Markov chains can get to be quite large and powerful. For example, the algorithm Google uses to determine the order of search results, called <a href="https://en.wikipedia.org/wiki/PageRank">PageRank</a>, is a type of Markov chain.</p>


<p>Above, we&#39;ve included a Markov chain &#34;playground&#34;, where you can make your own Markov chains by messing around with a transition matrix. Here&#39;s a few to work from as an example: ex1, ex2, ex3 or generate one randomly. The transition matrix text will turn red if the provided matrix isn&#39;t a valid transition matrix. <em>The rows of the transition matrix must total to 1.</em> There also has to be the same number of rows as columns.</p>
<p>You can also access a fullscreen version at <a href="https://clarionsong.substack.com/markov/index.html">setosa.io/markov</a></p>

    </section>
    <section>
      <p>For more explanations, visit the Explained Visually <a href="https://clarionsong.substack.com/ev/">project homepage.</a></p>
      <p>Or subscribe to our mailing list.</p>
      <br/>
    </section>
    
    <section>
      
      
      
          <a href="http://disqus.com">comments powered by </a>
      
    </section>
  
  
  
</div>
  </body>
</html>
