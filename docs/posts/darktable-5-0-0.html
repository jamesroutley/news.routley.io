<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.darktable.org/2024/12/darktable-5.0.0-released/">Original</a>
    <h1>Darktable 5.0.0</h1>
    
    <div id="readability-page-1" class="page"><div><p>
            posted on
            <time title="2024-12-21T00:10:00+00:00">Sat 21 December 2024</time></p><address>by
  <a rel="author" href="https://www.darktable.org/author/pascal-obry/">Pascal Obry</a>
</address>
          </div><div>
            <p>We’re proud to announce the new feature release of darktable, 5.0.0!</p>
<p>The github release is here: <a href="https://github.com/darktable-org/darktable/releases/tag/release-5.0.0">https://github.com/darktable-org/darktable/releases/tag/release-5.0.0</a>.</p>
<p>To build from source, do not use the autogenerated tarball provided by GitHub on the release page, download our tar.xz file instead. If you’re just building for yourself without creating a package for some distribution, then using source code cloning in git is an even more convenient way.</p>
<p>The checksums are:</p>
<pre tabindex="0"><code>$ sha256sum darktable-5.0.0.tar.xz
eaa136e6e624bb53127282e26aafa0441abcc189b55371465e1f5a8a493fa3a1  darktable-5.0.0.tar.xz

$ sha256sum darktable-5.0.0-x86_64.dmg
3f49cfb63958269b99065cf6b501678d4e63f2457ee1915bcd7ffa0dfef9dcfd  darktable-5.0.0-x86_64.dmg

$ sha256sum darktable-5.0.0-arm64.dmg
14feb35ef2b2e8e50cf1855826ad4913e905a5600a56a87dd98382e8d828e9db  darktable-5.0.0-arm64.dmg

$ sha256sum darktable-5.0.0-arm64-13.5.dmg
b43011cae5ddc9f19a8f895ba389e9ddb79d01534e9ca0568b7125026ac72145  darktable-5.0.0-arm64-13.5.dmg

$ sha256sum darktable-5.0.0-win64.exe
40444d5c7d310b1e1e859bd6b7c5d5e35d538a7bf9ad3e918b0e883c971451ea  darktable-5.0.0-win64.exe

$ sha256sum Darktable-5.0.0-x86_64.AppImage
d0061ac5a345c473d98f04388197afaee48e61b638db576ae1c88700cb8855cd  Darktable-5.0.0-x86_64.AppImage
</code></pre><p>When updating from the stable 4.8 series, please bear in mind that your edits will be preserved during this process, but the new library and configuration will no longer be usable with 4.8.</p>
<p>You are strongly advised to take a backup first.</p>
<h4 id="important-note-to-make-sure-that-darktable-can-keep-on-supporting-the-raw-file-format-for-your-camera-please-read-this-posthttpsdiscusspixlsustraw-samples-wanted5420ulebedevri-on-howwhat-raw-samples-you-can-contribute-to-ensure-that-we-have-the-full-raw-sample-set-for-your-camera-under-cc0-license">Important note: to make sure that darktable can keep on supporting the raw file format for your camera, <em>please</em> read <a href="https://discuss.pixls.us/t/raw-samples-wanted/5420?u=lebedevri">this post</a> on how/what raw samples you can contribute to ensure that we have the <em>full</em> raw sample set for your camera under CC0 license!</h4>
<p>Since darktable 4.8:</p>
<ul>
<li>1198 commits to darktable+rawspeed</li>
<li>505 pull requests handled</li>
<li>45 issues closed</li>
</ul>
<p><em>Please note that the darktable documentation is not currently complete for release 5.0
and contributions are greatly appreciated. Please see the
<a href="https://github.com/darktable-org/dtdocs#contributing">project documentation</a>
for more information on how to contribute.</em></p>
<h2 id="the-big-ones">The Big Ones</h2>
<p>The following is a summary of the main features added to darktable
5.0. Please see the user manual for more details of the individual
changes (where available).</p>
<ul>
<li>This development cycle has included a large number of changes which
improve the user experience, as detailed in the next section.</li>
</ul>
<h2 id="uiux-improvements">UI/UX Improvements</h2>
<ul>
<li>
<p>Added camera-specific styles for more than 500 camera models to more
closely approximate the out-of-camera JPEG rendition.  These styles
only affect contrast, brightness, and saturation and do not attempt
to match sharpening, denoising, or hue shifts.  Also added a Lua
script to auto-apply the appropriate style on import and manually
apply styles to a collection of previously-imported images.</p>
</li>
<li>
<p>Added an optional splash screen showing startup progress (including
estimated time remaining during the scan for updated sidecar files) to
dramatically reduce the time between invoking darktable and something
appearing on screen when the user has a large library.</p>
</li>
<li>
<p>The user interface now gives feedback while processing bulk image
operations such as rating, tagging, applying styles, and edit
history management (and undoing those operations), rather than
silently freezing until the operation completes.  While the
operation is in progress, darktable will now show either a busy
cursor (such as a stopwatch or spinner) or a progress bar with
option to cancel the remainder of the operation.</p>
</li>
<li>
<p>Paths for drawn masks now display two Bézier handles per control point,
which can be moved individually. This allows for more precise control
of the paths.</p>
</li>
<li>
<p>Added a high-contrast theme with bright white text on a dark gray
background.</p>
</li>
<li>
<p>Enhanced tooltips for utility module headers to provide more
information about the module.</p>
</li>
<li>
<p>Added more new-user hints on an empty lighttable.</p>
</li>
<li>
<p>Added two new error placeholder images to distinguish between
missing, unsupported, and corrupted images.  When attempting to edit
such an image, an appropriate, more specific error message is
displayed.</p>
</li>
<li>
<p>When selecting a style in the export module, hovering on the style
name in the popup menu displays a thumbnail previewing the effect of
appending the style to the active image’s edit (first selected image
in lighttable, center-view image in darkroom).</p>
</li>
<li>
<p>Allow for selecting the utility modules to be displayed on the
panels in the different views.</p>
<ul>
<li>
<p>Right-click on the empty panel area below the modules to get a
menu where they can be hidden or shown. This allows additional
modules to be added to the darkroom, like metadata editor and
styles.</p>
</li>
<li>
<p>This replaces the options in the “collections” and “recently used
collections” modules’ preferences to show or hide the latter and
show a “history” button in the former instead. Users that want the
separate module will need to reenable it once via the new
<kbd>Right-click</kbd> menu.</p>
</li>
<li>
<p>The menu also contains an option “restore defaults” that resets
the selection and position of modules in the current view. In the
preferences dialog, on the general tab, there’s a “reset view
panels” button that resets all views, including visibility and
width of the panels themselves.</p>
</li>
</ul>
</li>
<li>
<p>Added a global preference to swap the left and right side panels in
the darkroom view.</p>
</li>
<li>
<p>The first time a new user presses Tab, they will be warned that this
will hide all panels and how to get them back. Hopefully this
prevents some confusion or frustration.</p>
</li>
<li>
<p>Drag&amp;drop utility module headers to reposition them across the left
and right panels (lighttable) as well as vertically (all
views). Each view can have a different layout.</p>
</li>
<li>
<p>Drag&amp;drop of processing modules in the darkroom right panel has been
improved to auto-scroll when reaching the top or bottom and to not
get confused when images get dragged into the area. This functionality
no longer requires <kbd>Ctrl+Shift</kbd> modifiers.</p>
</li>
<li>
<p>Improved the message displayed at startup when the database is
locked by another instance of darktable.</p>
</li>
<li>
<p>Replaced the icon of the operator button in the color label filter
for working with multiple selected color labels
(union/intersection).</p>
</li>
</ul>
<h2 id="performance-improvements">Performance Improvements</h2>
<ul>
<li>
<p>Added OpenCL implementation of color equalizer.</p>
</li>
<li>
<p>Improved the speed of bulk image operations by improving the speed
of sidecar writes, and by moving sidecar updates for many operations
into a background task, allowing the user to proceed before the
writes complete.</p>
</li>
<li>
<p>Significantly accelerated loading of PFM files due to loops
parallelization and optimization that eliminated additional
processing.</p>
</li>
</ul>
<h2 id="other-changes">Other Changes</h2>
<ul>
<li>
<p>Switched default scope for new installations from histogram to
waveform to display more detailed information about image color and
tonality.</p>
</li>
<li>
<p>The ISO 12646 color assessment condition is kept until unset by user
action.</p>
</li>
<li>
<p>Exposure bias can now be used to form collections and as a display filter.</p>
</li>
<li>
<p>Improved visualization of the color equalizer’s effect.</p>
</li>
<li>
<p>Improved debugging support for verifying CPU vs. GPU results.</p>
</li>
<li>
<p>Add Calibrite alias for X-Rite ColorChecker in color calibration.</p>
</li>
<li>
<p>The scan for updated sidecar files now ignores timestamp differences
of two seconds or less.</p>
</li>
<li>
<p>The macOS installation package now has a background image to direct
the user on installing darktable.app.</p>
</li>
<li>
<p>Changed the user interface of the import dialog to make it easier to
delete custom places.</p>
</li>
<li>
<p>Numerous rounds of code cleanup.</p>
</li>
<li>
<p>The copy-parts dialog does not select any module by default now.</p>
</li>
<li>
<p>Add support for undo/redo for actions done on the filmstrip while in
darkroom.</p>
</li>
<li>
<p>In darkroom, add action (binding to <kbd>Ctrl+x</kbd> by default) for
synchronizing the last edited module on current edited module to the
selection.</p>
</li>
<li>
<p>Adjusted the internal AVIF encoder parameter to significantly boost
encoding speed without compromising the output quality.</p>
</li>
<li>
<p>Tag names can now easily be copied to the clipboard via popup
context menu in the tagging module.</p>
</li>
<li>
<p>The Piwigo export storage now supports to specify a file name
pattern for the exported file.</p>
</li>
<li>
<p>The directory where darktable will write the log file under Windows
has been changed to %USERPROFILE%\Documents\Darktable. This allows
the user to easily see where the log file is located without even
having to search for it in the documentation or FAQ. The previous
location was deep in the system subdirectories of the user profile,
and also under a hidden directory (so it was impossible to click to
it in File Explorer with default system settings).</p>
</li>
<li>
<p>Allow import of JPEG 2000 files with .jpf and .jpx file extensions.</p>
</li>
<li>
<p>Add a visible indicator to the color calibration module when its
color mapping section has non-neutral settings which will affect
color rendition.</p>
</li>
<li>
<p>Added new substitution variables <code>$(IMAGE.TAGS.HIERARCHY)</code> to insert
tags with full hierarchy and <code>$(IMAGE.ID.NEXT)</code> to insert the image ID
to be assigned to the image being imported, allowing the image ID to
be part of the filename generated during a copy&amp;import operation.</p>
</li>
<li>
<p>Exporting to floating-point JPEG XL with a quality of 100 will try
to do it as losslessly as possible. That is now consistent with the
behavior of integral JPEG XL formats.</p>
</li>
<li>
<p>Improved visibility of shortcuts that can be changed by users by
using bold text.</p>
</li>
<li>
<p>The histogram-exposure interface now supports all standard bauhaus
features (<kbd>Ctrl+click</kbd>, <kbd>Right-click</kbd>…).</p>
</li>
<li>
<p>Introduce image module order v5.0 to have the final-scale done before
color-out to fix some issues with color difference between darkroom
view and exported files.</p>
</li>
<li>
<p>Add support for editing any live color-picker samples. Using
<kbd>Right-click</kbd> on a sample it is possible to edit it
(changing location and/or size of the box) and either add a new
sample based on the edit or store the edit into an existing live
sample.</p>
</li>
<li>
<p>Added more substitution variables for using EXIF data fields,
enabled autocompletion of variables in the watermark module.</p>
<p>The new variables are <code>$(EXIF.FLASH)</code>, <code>$(EXIF.METERING)</code>,
<code>$(EXIF.EXPOSURE.PROGRAM)</code>, <code>$(EXIF.WHITEBALANCE)</code> and
<code>$(GPS.LOCATION.ICON)</code>.</p>
</li>
<li>
<p>Increase maximum focal length for filtering auto-applied presets to
2000mm.</p>
</li>
<li>
<p>Added an expanded color-checker preset to the Color Look Up Table
module with seven-level red/green/blue/gray ramps, IT8/CC24-like
skin tones, and miscellaneous color patches for more targeted color
adjustments across the full spectrum.</p>
</li>
<li>
<p>Added support for EXIF tags ‘AnalogBalance’ used for color
calibration and ‘LinearResponseLimit’ used in highlights
reconstruction.</p>
</li>
<li>
<p>If we find currently unsupported color calibration data in DNG
specific tags, we tag the image by darktable|issue|no-samples for
better support.</p>
</li>
<li>
<p>Added read support for HEIF files with AVC (H.264) compression and
.avci file extension.</p>
</li>
<li>
<p>Added read support for JPEG 2000 encoded images in HEIF containers
with .hej2 file extension.</p>
</li>
</ul>
<h2 id="bug-fixes">Bug Fixes</h2>
<ul>
<li>
<p>Fixed a performance regression for redrawing mipmaps.</p>
</li>
<li>
<p>Fixed handling of old (2020) edits using Filmic RGB.</p>
</li>
<li>
<p>Various OpenCL fixes to reduce differences between CPU and GPU
processing: colorspace conversion, saturation gradient filter in
color equalizer.</p>
</li>
<li>
<p>Fixed gallery export not working on Windows.</p>
</li>
<li>
<p>Fixed printer discovery in the print module, which could cause
available printers to be missed.</p>
</li>
<li>
<p>Work around out-of-spec EXIF date field caused by buggy software.</p>
</li>
<li>
<p>Fixed reading embedded color profiles from PNG images.</p>
</li>
<li>
<p>Fixed certain boundary cases in the crop module.</p>
</li>
<li>
<p>Fixed crash when loading corrupted .gpx file in the geotagging module</p>
</li>
<li>
<p>Fix preset handling in the export module not saving all parameters.</p>
</li>
<li>
<p>Fix an issue in FilmicRGB where one of the parameter could be above
the maximum allowed range making the validation failing and the
whole set of parameters reset to default.</p>
</li>
<li>
<p>Fix overlay recording to work in all cases (discarding history or
copy/paste history for example) ensuring that an image not
referenced anymore as overlay in a composite module can be removed.</p>
</li>
<li>
<p>Properly reset darktable internal tag darktable|style|<name> and
darktable|changed when resetting history.</name></p>
</li>
<li>
<p>Fixed crash in the Piwigo export storage when not logged in to the
Piwigo server.</p>
</li>
<li>
<p>Fixed a bug in the export module where it was impossible to export a
file again if “on conflict: overwrite if changed” was selected.</p>
</li>
<li>
<p>Fixed a bug where double clicking on a label in darkroom modules
does not reset the control.</p>
</li>
<li>
<p>The composite module now prevents assigning an overlay that would
lead to a loop. Previously, only direct references
(image #1 &lt;-&gt; image #2) were checked; this has now been extended
to also cover chains (image #1 -&gt; image #2 -&gt; image #3 -&gt; image #1)
of arbitrary length.</p>
</li>
<li>
<p>Fix a bug in overlay module which incorrectly apply a color profile
and so creating an unwanted and wrong color cast. This bug was a
regression added just before the 4.8 release.</p>
</li>
<li>
<p>Fixed a bug in color calibration module where switching between
various illuminants could lead to unpredictable settings.</p>
</li>
<li>
<p>Various fixes In the demosaic module. Non-usable options are hidden
now. Fixed dual demosaicing for xtrans sensors and OpenCL code.</p>
</li>
<li>
<p>Fixed a bug in the history module where style creation fails if a
style with that name already exists.</p>
</li>
<li>
<p>Fixed guides drawing in case a module is expanded and active.</p>
</li>
<li>
<p>Ensure that the list of images in the culling view remains up to
date when hidden.</p>
</li>
<li>
<p>Fixed minor glitches in color calibration module.</p>
</li>
<li>
<p>Fixed issues with wrong corrections in highlight opposed OpenCL
code.</p>
</li>
<li>
<p>Fixed surface blur radius calculation possibly resulting in garbled
output.</p>
</li>
</ul>
<h2 id="lua">Lua</h2>
<h3 id="api-version">API Version</h3>
<ul>
<li>API version is now 9.4.0</li>
</ul>
<h3 id="new-features">New Features</h3>
<ul>
<li>
<p>Added new event, inter-script-communication, to permit sending messages
from one running script to another running script.</p>
</li>
<li>
<p>Added new function darktable.util.message(), for sending messages using
the inter-script-communication event.</p>
</li>
<li>
<p>Added new EXIF data fields to dt_lua_image_t:</p>
<ul>
<li>
<p>exif_whitebalance</p>
</li>
<li>
<p>exif_flash</p>
</li>
<li>
<p>exif_exposure_program</p>
</li>
<li>
<p>exif_metering_mode</p>
</li>
</ul>
</li>
<li>
<p>Added new event, image-group-information-changed, that is raised any time
an images group information changes.</p>
</li>
</ul>
<h3 id="bug-fixes-1">Bug Fixes</h3>
<ul>
<li>Fixed a bug with dt_imageio_module_format_t.write_image so it returns
true on success and false on failure.</li>
</ul>
<h3 id="add-action-support-for-lua">Add action support for Lua</h3>
<h3 id="other-lua-changes">Other Lua changes</h3>
<ul>
<li>Lua scripts are now better integrated into Darktable and can be
fully translated. The design for the scripts manager has been
reworked to be more in line with the current Darktable GUI modules.</li>
</ul>
<h2 id="notes">Notes</h2>
<ul>
<li>
<p>When exporting to AVIF, EXR, JPEG XL, or XCF, selecting specific
metadata (e.g. geo-tag or creator) is not currently possible. For
AVIF, EXR, JPEG XL, and XCF formats, darktable will not include any
metadata fields unless the user selects all of the checkboxes in the
export module’s preference options.</p>
</li>
<li>
<p>Since 4.8 release the support for macOS versions older than 13.5 has
been dropped.</p>
</li>
</ul>
<h2 id="changed-dependencies">Changed Dependencies</h2>
<h3 id="mandatory">Mandatory</h3>
<ul>
<li>Bump SQLite requirement to 3.26</li>
</ul>
<h3 id="optional">Optional</h3>
<ul>
<li>n/a</li>
</ul>
<h2 id="rawspeed-changes">RawSpeed changes</h2>
<ul>
<li>Fujifilm GFX cameras now use the vendor supplied crop</li>
</ul>
<h2 id="camera-support-compared-to-48">Camera support, compared to 4.8</h2>
<h3 id="base-support">Base Support</h3>
<ul>
<li>Fujifilm X-M5 (compressed)</li>
<li>Fujifilm X-T50 (compressed)</li>
<li>Leica D-Lux 8 (DNG)</li>
<li>Leica M11-D (DNG)</li>
<li>Leica Q3 43 (DNG)</li>
<li>Minolta Alpha Sweet Digital</li>
<li>Minolta Alpha-7 Digital</li>
<li>Nikon Z50_2 (14bit-compressed)</li>
<li>Nikon Z6_3 (14bit-compressed)</li>
<li>Panasonic DC-FZ80D (4:3)</li>
<li>Panasonic DC-FZ82D (4:3)</li>
<li>Panasonic DC-FZ85 (4:3)</li>
<li>Panasonic DC-FZ85D (4:3)</li>
<li>Panasonic DC-G100D (4:3)</li>
<li>Phase One P20+</li>
<li>Sony ILCE-1M2</li>
</ul>
<h3 id="white-balance-presets">White Balance Presets</h3>
<ul>
<li>Nikon Z6_3</li>
<li>Sony ILCE-6700</li>
</ul>
<h3 id="noise-profiles">Noise Profiles</h3>
<ul>
<li>Canon PowerShot G1 X</li>
<li>Leica M11</li>
<li>Nikon Z6_3</li>
</ul>
<h3 id="missing-compression-mode-support">Missing Compression Mode Support</h3>
<ul>
<li>Apple ProRAW DNGs</li>
<li>CinemaDNG lossless (Blackmagic, some DJI, etc.) and lossy (Blackmagic)</li>
<li>DNG 1.7 using JPEG XL (Adobe enhanced, Samsung Expert RAW)</li>
<li>Fujifilm lossy RAFs</li>
<li>Nikon high efficiency NEFs</li>
<li>OM System 14-bit high resolution ORFs</li>
<li>Sony downsized lossless ARWs (“M” for full-frame, “S” for full-frame &amp; APS-C)</li>
</ul>
<h3 id="suspended-support">Suspended Support</h3>
<p>Support for the following cameras is suspended because no samples are available on <a href="https://raw.pixls.us">https://raw.pixls.us</a>:</p>
<ul>
<li>Creo/Leaf Aptus 22(LF3779)/Hasselblad H1</li>
<li>Fujifilm IS-1</li>
<li>Kodak EasyShare Z980</li>
<li>Leaf Aptus-II 5(LI300059)/Mamiya 645 AFD</li>
<li>Leaf Credo 60</li>
<li>Leaf Credo 80</li>
<li>Minolta DiMAGE 5</li>
<li>Olympus SP320</li>
<li>Phase One IQ250</li>
<li>Sinar Hy6/ Sinarback eXact</li>
<li>ST Micro STV680</li>
</ul>
<h2 id="translations">Translations</h2>
<ul>
<li>Czech</li>
<li>German</li>
<li>European Spanish</li>
<li>Finnish</li>
<li>French</li>
<li>Japanese</li>
<li>Dutch</li>
<li>Brazilian Portuguese</li>
<li>Slovenian</li>
<li>Albanian</li>
<li>Ukrainian</li>
<li>Chinese (Simplified)</li>
<li>Chinese (Traditional)</li>
</ul>

          </div></div>
  </body>
</html>
