<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/pldubouilh/spotify-gdpr-dump-analysis">Original</a>
    <h1>Show HN: Spotify streaming GDPR dump local analyzer</h1>
    
    <div id="readability-page-1" class="page"><div data-view-component="true">        
        
        <div>
  



<div data-modal-dialog-overlay="">
  <modal-dialog role="dialog" id="warn-tag-match-create-branch-dialog" aria-modal="true" aria-labelledby="warn-tag-match-create-branch-dialog-header" data-view-component="true">
      <header>
        
      </header>
    <div>
      
          <p>      A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?
</p>

    </div>
      
</modal-dialog></div>



  

  

  <include-fragment src="/pldubouilh/spotify-gdpr-dump-analysis/overview_actions/main"></include-fragment>


    <p><span>
        
<get-repo>
    
    <details data-action="
               toggle:get-repo#onDetailsToggle
               keydown:get-repo#onDetailsKeydown">
        <summary data-hydro-click="{&#34;event_type&#34;:&#34;repository.click&#34;,&#34;payload&#34;:{&#34;repository_id&#34;:625179925,&#34;target&#34;:&#34;CLONE_OR_DOWNLOAD_BUTTON&#34;,&#34;originating_url&#34;:&#34;https://github.com/pldubouilh/spotify-gdpr-dump-analysis&#34;,&#34;user_id&#34;:null}}" data-hydro-click-hmac="59c8a0464102ec0edfc26f3e160cc096349bcaa2b8695381882dbb039a5bd626" data-view-component="true">    <span>
      <span>Code</span>
    </span>
      <span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </span>
</summary>  
      
    </details>


</get-repo>

    </span>

    <span>
        

    </span>
</p></div>




        


<div>
  <div>
    <h2>Latest commit</h2>
    <div data-issue-and-pr-hovercards-enabled="">
      
  <div>
    
<div>
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/wldasf/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/wldasf">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/86887812?s=48&amp;v=4" width="24" height="24" alt="@wldasf"/>
</a>      <a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/pldubouilh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/pldubouilh">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/760637?s=48&amp;v=4" width="24" height="24" alt="@pldubouilh"/>
</a>  </p>
</div>

  </div>
  
  
      
    </div>
  </div>
    <h2 id="files">Files</h2>
    


    <p><a data-hotkey="y" href="https://github.com/pldubouilh/spotify-gdpr-dump-analysis/tree/f00618e41249d31838c268fd35d27d88b89e6ad5">Permalink</a></p><div data-view-component="true">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg><p>
    Failed to load latest commit information.


  
</p></div>  <div data-hpc="">
    <div role="grid" aria-labelledby="files">
      <div role="row">
        <p>Type</p>
        <p>Name</p>
        <p>Latest commit message</p>
        <p>Commit time</p>
      </div>

        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
  </div>




</div>

  
    
      <div id="readme" data-tagsearch-path="README.md" data-tagsearch-lang="Markdown">

        

          <div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Local analysis of complete spotify streaming dataset (endsong_*.json). Made in 3 hours alongside with chatGPT, fixing bugs as they appeared.</p>
<p dir="auto">That&#39;s a whole lot of data <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png">ðŸ‘€</g-emoji></p>
<div dir="auto" data-snippet-clipboard-copy-content="# deps
$ pip install geoip2 basemap pandas matplotlib

# get geodb for local ip lookup
$ curl -L -o city.mmdb https://github.com/lysenkobv/maxmind-geolite2-database/raw/master/city.mmdb

# create sqlite3 database from json dump
$ python makedb.py datafolder/

# run analysis !
$ python map-ips-city.py"><pre><span><span>#</span> deps</span>
$ pip install geoip2 basemap pandas matplotlib

<span><span>#</span> get geodb for local ip lookup</span>
$ curl -L -o city.mmdb https://github.com/lysenkobv/maxmind-geolite2-database/raw/master/city.mmdb

<span><span>#</span> create sqlite3 database from json dump</span>
$ python makedb.py datafolder/

<span><span>#</span> run analysis !</span>
$ python map-ips-city.py</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/760637/230715992-3dd94060-c129-43a5-9af7-a35a09c4b8ea.png"><img src="https://user-images.githubusercontent.com/760637/230715992-3dd94060-c129-43a5-9af7-a35a09c4b8ea.png" alt="a"/></a></p>
<div data-snippet-clipboard-copy-content="$ python top-cities.py
df                     city         country  count
20                   Berlin         Germany   2629
..."><pre><code>$ python top-cities.py
df                     city         country  count
20                   Berlin         Germany   2629
...
</code></pre></div>
<div data-snippet-clipboard-copy-content="$ python top-songs-per-country.py
DE                                                 La femme d&#39;argent                        Air
DE  Piano Concerto No. 3 in D Minor, Op. 30: I. Allegro ma non tanto        Sergei Rachmaninoff
DE                                La mer, L. 109: II. Jeux de vagues             Claude Debussy
DE                                                   Samba da Bencao             Bebel Gilberto
DE                                      Merry Christmas Mr. Lawrence           Ryuichi Sakamoto
DE                                                        WEIGHT OFF                 KAYTRANADA
..."><pre><code>$ python top-songs-per-country.py
DE                                                 La femme d&#39;argent                        Air
DE  Piano Concerto No. 3 in D Minor, Op. 30: I. Allegro ma non tanto        Sergei Rachmaninoff
DE                                La mer, L. 109: II. Jeux de vagues             Claude Debussy
DE                                                   Samba da Bencao             Bebel Gilberto
DE                                      Merry Christmas Mr. Lawrence           Ryuichi Sakamoto
DE                                                        WEIGHT OFF                 KAYTRANADA
...
</code></pre></div>
</article>
          </div>
      </div>



</div></div>
  </body>
</html>
