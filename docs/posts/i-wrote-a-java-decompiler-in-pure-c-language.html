<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/neocanable/garlic">Original</a>
    <h1>Show HN: I wrote a Java decompiler in pure C language</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="http://www.apache.org/licenses/LICENSE-2.0.html" rel="nofollow"><img src="https://camo.githubusercontent.com/3f968974d072844ab3533642e98b8e0e63a3d99efab75ca450e8fca32c4d180f/687474703a2f2f696d672e736869656c64732e696f2f3a6c6963656e73652d6170616368652d626c75652e737667" alt="License" data-canonical-src="http://img.shields.io/:license-apache-blue.svg"/></a></p>
<p dir="auto">Java decompiler written in C</p>
<p dir="auto">Tool for produces java source code from .class or jar file</p>

<ul dir="auto">
<li>decompile .class file</li>
<li>decompile jar file</li>
<li>decompile war file</li>
</ul>

<p dir="auto"><strong>requirements</strong>: cmake &gt;= <strong>3.26</strong></p>
<p dir="auto"><strong>No other dependencies</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/neocanable/garlic.git
cd garlic
cmake -B build
cmake --build build
./build/garlic"><pre>git clone https://github.com/neocanable/garlic.git
<span>cd</span> garlic
cmake -B build
cmake --build build
./build/garlic</pre></div>

<ul dir="auto">
<li>
<p dir="auto">decompile .class file</p>
<p dir="auto">decompile .class file, default output is <strong>stdout</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="garlic /path/to/jvm.class"><pre>garlic /path/to/jvm.class</pre></div>
</li>
<li>
<p dir="auto">decompile jar file</p>
<div dir="auto" data-snippet-clipboard-copy-content="garlic /path/to/file.jar

garlic /path/to/file.jar -o /path/to/save # -o option is source code output path

garlic /path/to/file.jar -t 5             # -t option is thread count, default is 4"><pre>garlic /path/to/file.jar

garlic /path/to/file.jar -o /path/to/save <span><span>#</span> -o option is source code output path</span>

garlic /path/to/file.jar -t 5             <span><span>#</span> -t option is thread count, default is 4</span></pre></div>
<p dir="auto">default output is same level directory as the file</p>
</li>
<li>
<p dir="auto">javap</p>
<p dir="auto">like javap, more faster, disabled LineNumber and StackMapTable attributes</p>
<div dir="auto" data-snippet-clipboard-copy-content="garlic /path/to/jvm.class -p"><pre>garlic /path/to/jvm.class -p</pre></div>
</li>
<li>
<p dir="auto">dexdump</p>
<div dir="auto" data-snippet-clipboard-copy-content="garlic /path/to/dalvik.dex -p           # unsupport now
"><pre>garlic /path/to/dalvik.dex -p           <span><span>#</span> unsupport now</span>
</pre></div>
</li>
</ul>

<p dir="auto">in <strong>src/jvm.c</strong>, change main function to:</p>
<div dir="auto" data-snippet-clipboard-copy-content="int main(int argc, char **argv)
{
    jar_file_analyse(path_of_jar, out_of_jar, 1);
    return 0;
}
"><pre><span>int</span> <span>main</span>(<span>int</span> <span>argc</span>, <span>char</span> <span>*</span><span>*</span><span>argv</span>)
{
    <span>jar_file_analyse</span>(<span>path_of_jar</span>, <span>out_of_jar</span>, <span>1</span>);
    <span>return</span> <span>0</span>;
}</pre></div>
<p dir="auto">if thread count less than 2, it will disable multiple thread.</p>
<hr/>
<p dir="auto"><em>Licensed under the Apache 2.0 License</em></p>
</article></div></div>
  </body>
</html>
