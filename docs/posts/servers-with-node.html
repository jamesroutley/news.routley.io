<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://elijer.github.io/garden/Dev-Notes/Servers/Servers-with-Node">Original</a>
    <h1>Servers with Node</h1>
    
    <div id="readability-page-1" class="page"><div id="quartz-body"><div><article>
<p>Two Lines</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="javascript" data-theme="github-light github-dark"><code data-language="javascript" data-theme="github-light github-dark"><span data-line=""><span>import</span><span> express </span><span>from</span><span> &#39;express&#39;</span></span>
<span data-line=""><span>const</span><span> app</span><span> =</span><span> express</span><span>().</span><span>get</span><span>(</span><span>&#39;/&#39;</span><span>, </span><span>req</span><span> =&gt;</span><span> res.</span><span>send</span><span>(</span><span>&#34;Hey world&#34;</span><span>)).</span><span>listen</span><span>(</span><span>3000</span><span>, () </span><span>=&gt;</span><span> console.</span><span>log</span><span>(</span><span>&#34;Listening on port 3000&#34;</span><span>))</span></span></code></pre></figure>
<p>Four lines</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="javascript" data-theme="github-light github-dark"><code data-language="javascript" data-theme="github-light github-dark"><span data-line=""><span>import</span><span> express </span><span>from</span><span> &#39;express&#39;</span></span>
<span data-line=""><span>const</span><span> app</span><span> =</span><span> express</span><span>()</span></span>
<span data-line=""><span>app.</span><span>get</span><span>(</span><span>&#39;/&#39;</span><span>, </span><span>req</span><span> =&gt;</span><span> res.</span><span>send</span><span>(</span><span>&#34;Hey world&#34;</span><span>))</span></span>
<span data-line=""><span>app.</span><span>listen</span><span>(</span><span>3000</span><span>, () </span><span>=&gt;</span><span> console.</span><span>log</span><span>(</span><span>&#34;Listening on port 3000&#34;</span><span>))</span></span></code></pre></figure>
<p>Don’t forget your packages and package.json:</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-light github-dark"><code data-language="bash" data-theme="github-light github-dark"><span data-line=""><span>npm</span><span> init</span><span> -y</span></span>
<span data-line=""><span>npm</span><span> install</span><span> express</span></span></code></pre></figure>
<p>Modify your package.json so that it has</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="json" data-theme="github-light github-dark"><code data-language="json" data-theme="github-light github-dark"><span data-line=""><span>&#34;type&#34;</span><span>: </span><span>&#34;module&#34;</span></span></code></pre></figure>
<p>Otherwise just use the <code>require</code> syntax to import <code>express</code>:</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="javascript" data-theme="github-light github-dark"><code data-language="javascript" data-theme="github-light github-dark"><span data-line=""><span>const</span><span> express</span><span> =</span><span> require</span><span>(</span><span>&#39;express&#39;</span><span>)</span></span></code></pre></figure>

<p>Express is very nice, but if you didn’t even want to use <code>npm</code> at all, you can do all of this using just Node.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="javascript" data-theme="github-light github-dark"><code data-language="javascript" data-theme="github-light github-dark"><span data-line=""><span>import</span><span> http </span><span>from</span><span> &#39;http&#39;</span><span>;</span></span>
<span data-line=""> </span>
<span data-line=""><span>http.</span><span>createServer</span><span>((</span><span>req</span><span>, </span><span>res</span><span>) </span><span>=&gt;</span><span> {</span></span>
<span data-line=""><span>  if</span><span> (req.method </span><span>===</span><span> &#39;GET&#39;</span><span> &amp;&amp;</span><span> req.url </span><span>===</span><span> &#39;/&#39;</span><span>) {</span></span>
<span data-line=""><span>    res.</span><span>end</span><span>(</span><span>&#39;Hey world&#39;</span><span>);</span></span>
<span data-line=""><span>  } </span><span>else</span><span> {</span></span>
<span data-line=""><span>    res.statusCode </span><span>=</span><span> 404</span><span>;</span></span>
<span data-line=""><span>    res.</span><span>end</span><span>(</span><span>&#39;Not Found&#39;</span><span>);</span></span>
<span data-line=""><span>  }</span></span>
<span data-line=""><span>}).</span><span>listen</span><span>(</span><span>3000</span><span>, () </span><span>=&gt;</span><span> console.</span><span>log</span><span>(</span><span>&#39;Listening on port 3000&#39;</span><span>));</span></span>
<span data-line=""> </span></code></pre></figure></article><hr/></div></div></div>
  </body>
</html>
