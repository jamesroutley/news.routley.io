<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://knowablemagazine.org/article/technology/2023/heat-pumps-becoming-technology-future">Original</a>
    <h1>|Energy| Heat pumps are becoming the technology of the future.</h1>
    
    <div id="readability-page-1" class="page"><div>
                            <p>TLDR; The source code is here: https://github.com/bushwickayudamutua/baml.ink</p>

<p>As a part of its regular operations, <a href="https://bushwickayudamutua.com/">Bushwick Ayudua Mutua</a> makes regular use of short URLs and QR codes to share links to assistance request forms, volunteer sign-up forms, and other important information hosted online.</p>

<p>Like many small groups, BAM relied on bit.ly and a bevy other QR-code generation platforms which either cost a lot of money (bit.ly is $30/month) or harvest your data, exposing community members to potential privacy violations.</p>

<p>However, the underlying technology to create short URLs and QR codes is fairly simple and can be easily replicated using <a href="https://github.com/brunoluiz/urlzap/">urlzap</a>, python’s <a href="https://pypi.org/project/qrcode/">qrcode</a> package, and GitHub’s <a href="https://github.com/features/actions">Actions</a> and <a href="https://pages.github.com/">Pages</a> products.</p>

<p>I packaged these tools together into <a href="https://github.com/bushwickayudamutua/baml.ink">baml.ink</a> which can be forked and reconfigured to create your own, fully-static short URL / QR code generation service.</p>

<h2 id="how-link-shortening-works">How link shortening works:</h2>

<p>The repository contains a human-readable/editable yaml file (named “baml.yaml” :p ) which looks something like this:</p>

<div><div><pre><code><span>urls</span><span>:</span>
  <span>ig</span><span>:</span> <span>https://www.instagram.com/bushwickayudamutua/</span>
</code></pre></div></div>

<p>Here, “ig” is the path of short link, so you could then then share “baml.ink/ig” and it would point to “https://www.instagram.com/bushwickayudamutua/”.  Each time this file is updated in the “main” branch, a GitHub Action is triggered which runs the <a href="https://github.com/brunoluiz/urlzap-github-action">urlzap GitHub Action</a> which fetches the metadata for the long url and creates a static HTML file which includes the following meta tag in the “&lt;head&gt;” of the document:</p>

<div><div><pre><code><span>&lt;meta</span> <span>http-equiv=</span><span>&#34;refresh&#34;</span> <span>content=</span><span>&#34;0; url=https://www.instagram.com/bushwickayudamutua/&#34;</span> <span>/&gt;</span>
</code></pre></div></div>

<p>This tells browsers to redirect the visitor to “https://www.instagram.com/bushwickayudamutua/”. By also including the metadata which is present on the source page, the short URL will appear normally when <a href="https://medium.com/slack-developer-blog/everything-you-ever-wanted-to-know-about-unfurling-but-were-afraid-to-ask-or-how-to-make-your-e64b4bb9254">unfurled</a> within messaging apps.</p>

<p>This static HTML file is then added to the “gh-pages” branch of the repository and deployed as a new page hosted by GitHub. You can see a full example of such a file <a href="https://github.com/bushwickayudamutua/baml.ink/tree/gh-pages/home">here</a>.</p>

<h2 id="how-qr-code-generation-works">How QR code generation works:</h2>

<p>In addition to the link shortening process, <a href="https://github.com/bushwickayudamutua/baml.ink/blob/main/generate_qr_codes.py">an additional script</a> is executed each time there is an update to the “main” branch which iterates through the list of URLs in “baml.yaml”, generates a QR code for the short URL, and writes it to a the “qr/” directory of the repository. These images take the format: “https://baml.ink/qr/{short_path}.png”. So, given the Instagram example above, the QR code would be hosted at <a href="https://baml.ink/qr/ig.png">baml.ink/qr/ig.png</a>.</p>

<h2 id="how-non-coders-can-use-this">How non-coders can use this:</h2>

<p>While this project must be hosted on GitHub to remain free, by centralizing all short URL and QR code generation into a single file, volunteers can use GitHub’s built-in code editor to easily add new URLs to “baml.yaml” and commit their changes, all without ever opening a terminal or cloning a repository. These changes are then automatically applied via GitHub Actions such that they should see their short URL and QR code go live within minutes.</p>


                        </div></div>
  </body>
</html>
