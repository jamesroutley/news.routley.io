<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://astrid.tech/2022/07/07/0/blink-mini-disassembly/">Original</a>
    <h1>Disassembling an Amazon Blink Mini camera</h1>
    
    <div id="readability-page-1" class="page"><div><article><div><p>Strap in kids, this post is about me physically hacking apart Amazon’s
<a href="https://www.amazon.com/Blink-Mini-White/dp/B07X6C9RMF">Blink Mini</a> to get
access to its firmware! No firmware was harmed or modified in the making of this
post… yet.</p>
<p>Big thanks to <a href="https://twitter.com/lacecard">Ada</a> and
<a href="https://twitter.com/e_er1n">Erin</a> for helping me figure this stuff out!</p>
<h2 id="background">Background</h2>
<p>I attended the <a href="https://www.cybertruckchallenge.org/">2022 Cybertruck Challenge</a>
a couple of weeks ago, in which I learned about hacking, then proceeded to hack
trucks and truck accessories. It was super fun, and I made lots of cool friends.
Unfortunately, 70% of the things that I did are covered under NDA, so I can’t
talk about the ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ that I
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ using
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ by
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ and
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ with the help of ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇. After
three years though, the NDA will expire, so stay tuned for June 26, 2025, when
you can read all about it, assuming I’m still blogging around then!</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/me-hacking.jpg" alt="Look ma, I&#39;m hacking!" title="Look ma, I&#39;m hacking!"/></p>
<p>Anyways, with what I gleaned from the 20 hours of instruction and 20 hours of
hacking, I decided that I should apply what I learned to a real device! These
$20 Blink Mini cameras that I bought a few months ago seemed like perfect
victims to fuck around with!</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/blink-mini.jpg" alt="Blink Mini camera from Amazon." title="Blink Mini camera from Amazon."/></p>
<h2 id="about-the-blink-cameras">About the Blink cameras</h2>
<p>These cameras are cute little things that have a surprising number of
capabilities:</p>
<ul>
<li>A video camera that can see visible and infrared light</li>
<li>Motion detection</li>
<li>An infrared floodlight</li>
<li>Microphone</li>
<li>Speaker</li>
<li>Wi-Fi connectivity with Wi-Fi Direct capability</li>
</ul>
<p>Unfortunately, you need to use the Blink app to do <em>anything</em> with this camera.
It’s free, but it’s only a phone app (thye don’t have a web app) and if you want
to record videos, you need to subscribe to their
<a href="https://support.blinkforhome.com/en_US/subscriptions/purchasing-a-blink-subscription-plan-through-amazon">Blink Premium</a>
service, which costs $30/year for one device and a whopping $100/year for more
devices! It’s also probably why the hardware is so cheap — they made it a
<a href="https://www.investopedia.com/terms/l/lossleader.asp">loss leader</a> for that
service.</p>
<h2 id="hypotheses-before-breaking-into-it">Hypotheses before breaking into it</h2>
<ul>
<li>There is a ROM on this device that I can dump.</li>
<li>This device runs an embedded Linux system.</li>
<li>Because the device supports over-the-air firmware updates, I should be able to
write my own firwmare to the ROM.</li>
</ul>
<h2 id="teardown">Teardown!</h2>
<p>I have 3 of these guys, and they’re relatively cheap anyways, so I didn’t mind
having one sacrificial lamb. I basically just started savagely pulling it apart
and cutting things up and hoping that I could reach the PCB.</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/opening-attempt-1.jpg" alt="Uh, maybe this isn&#39;t the best way to do this" title="Uh, maybe this isn&#39;t the best way to do this"/></p>
<p>But then I realized that maybe, this isn’t the correct way of opening it up.
Perhaps, someone else has done a teardown of it. In fact, I found this YouTube
video where someone did just that.</p>

<p>Wow, that was so much easier than I thought it was!</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/opening-attempt-2.jpg" alt="The exposed board!" title="The exposed board!"/></p>
<h2 id="staring-at-the-circuit-board">Staring at the circuit board</h2>
<p>There are actually two PCBs here, with a 26-pin header for talking between the
two boards. One is the wifi/antenna board, and the other seems to have
everything else.</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/camera-on-top.jpg" alt="The main board with the camera on top." title="The main board with the camera on top."/></p>
<p><img src="https://astrid.tech/_/2022/07/07/0/light-sensor.jpg" alt="The main board with the light sensor exposed." title="The main board with the light sensor exposed."/></p>
<p><img src="https://astrid.tech/_/2022/07/07/0/antenna-front.jpg" alt="Antenna PCB, front." title="Antenna PCB, front."/></p>
<p><img src="https://astrid.tech/_/2022/07/07/0/antenna-back.jpg" alt="Antenna PCB, back." title="Antenna PCB, back."/></p>
<p>I looked around the two boards for some ICs with markings. Here are some
interesting things I found.</p>
<h3 id="immedia-semiconductor">Immedia Semi(conductor)</h3>
<p><img src="https://astrid.tech/_/2022/07/07/0/immedia-semi.jpg" alt="The marking on the antenna front that says &#34;IMMEDIA SEMI 1660 WIFI REV C3&#34;" title="The marking on the antenna front that says &#34;IMMEDIA SEMI 1660 WIFI REV C3&#34;"/></p>
<p><a href="https://www.linkedin.com/company/immedia-semiconductor/">Their LinkedIn</a> says
that they are “a leading provider of video and image processing chips for
connected camera applications.” Hey, that’s what I have!</p>
<p>There’s
<a href="https://www.securityinformed.com/companies/immedia-semiconductor-llc-blink.html">another article</a>
that associates them with Blink.</p>
<p>Finally, I found
<a href="https://www.reuters.com/article/us-amazon-com-m-a-chips/exclusive-amazon-paid-90-million-for-camera-makers-chip-technology-sources-idUSKBN1FW0BI">this Reuters article</a>
that says that Amazon bought Blink and Immedia for $90 million. Vertical
integration, of course.</p>
<h3 id="ac1002b2-microcontroller-microprocessor">AC1002B2… microcontroller? microprocessor?</h3>
<p><img src="https://astrid.tech/_/2022/07/07/0/focus-cpu.jpg" alt="Picture of the main board, focused in on the CPU." title="Picture of the main board, focused in on the CPU."/></p>
<p>Underneath this shield is this interesting little BGA chip. The markings say:</p>

<p>Searching for AC1002B2-FB, I found a bunch of weird international sites with
<a href="https://www.ariat-tech.com/parts/Broadcom%20Corporation./AC1002B2-FB">ordering pages</a>
for the chip. They imply that Broadcom makes these?</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/ac1002b2-fb.png" alt="Search results for AC1002B2-FB" title="Search results for AC1002B2-FB"/></p>
<p>Dropping a few letters off the end, though, I found a couple of results for
<strong>AC1002B</strong>, but they are mostly just
<a href="https://techaeris.com/2019/10/10/blink-xt2-review-an-outstanding-small-outdoor-security-camera-system/">reviews for a different Blink camera</a>.
On the bright side, this confirms that this unit is indeed the CPU.</p>
<p>From that review, they say that the AC1002B is Immedia Proprietary, and has 4
cores and 200MHz, which means it packs some serious power for what it is!</p>
<p>Searching for NP6T9 gives, uh…</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/np6t9.png" alt="Search results for NP6T9. The first result is an Amazon link saying &#34;Find helpful customer reviews and review ratings for Door Sex Swing - NaEnsen Sex Toys Slave Bondage Love Slings SM Game BDSM for Couples with Adjustable ...&#34;" title="Search results for NP6T9. The first result is an Amazon link saying &#34;Find helpful customer reviews and review ratings for Door Sex Swing - NaEnsen Sex Toys Slave Bondage Love Slings SM Game BDSM for Couples with Adjustable ...&#34;"/></p>
<p>And searching for J-2104 yields nothing either.</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/J-2104.png" alt="Search results for J-2104. Nothing useful." title="Search results for J-2104. Nothing useful."/></p>
<h4 id="the-quest-for-ac1002b2-fb">The quest for AC1002B2-FB</h4>
<p>Google is not giving me <em>any</em> results for this stupid chip besides marketing
materials and Blink-related advertising. The closest I got to a datasheet is
<a href="http://www.ascendchip.com/English/SoC/AC1002/">this CPU</a>, but it seems to be
QFN rather than BGA, plus the performance specs are all completely wrong. I’ll
just email those sketchy sites to see if they’ll give me anything.</p>
<h3 id="w25q32jw-nor-flash">W25Q32JW NOR Flash</h3>
<p><img src="https://astrid.tech/_/2022/07/07/0/focus-rom.jpg" alt="Picture of the main board, focused in on the ROM." title="Picture of the main board, focused in on the ROM."/></p>
<p>This is the juiciest part that I found. The markings say:</p>

<p>The chip says WinBond 25Q32JWIQ. Looking it up, I found
<a href="https://www.mouser.com/datasheet/2/949/w25q32jw_spi_revf_09042018-1489621.pdf">this Winbond datasheet for W25Q32JW</a>
flash ROMs, with a table that says that 25Q32JWIQ is the WSON-8 package version
of it.</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/rom-table.png" alt="The available IC packages listed in the datasheet." title="The available IC packages listed in the datasheet."/></p>
<p>There seem to be traces leading from the ROM to the CPU, which further supports
my hypothesis that this ROM contains the firmware that we want.</p>
<p><img src="https://astrid.tech/_/2022/07/07/0/bga-traces.jpg" alt="Traces leading from ROM to under the CPU." title="Traces leading from ROM to under the CPU."/></p>
<p>The W25Q32JW datasheet says that it is a 1.8V 4MiB SPI NOR-flash chip.
Unfortunately, it also says that it is possible for you to make some blocks of
memory permanently read-only. If we can get a dump from this fucker, we will
find out! And that’s the hard part, because I don’t know shit about that!</p>
<h2 id="the-flash-chip-rabbit-hole">The Flash Chip Rabbit Hole</h2>
<p>Please note that I have no idea what I’m doing after this point.</p>
<p>My first thought was to desolder it, then stare at the datasheet and interact
with it using an Arduino. However, it seems that every SPI flash chip has has
the same pinout, and their instruction sets share similar commands for basic
things, like reading and writing.<sup id="fnref-1"><a href="#fn-1">1</a></sup> Also, Ada suggested that the NOR flash
would probably tolerate being dumped in-circuit with a test clip.</p>
<p>Thankfully, there’s a million cheap SOIC-8 kits on Amazon that come with
everything I’d need: SOIC-8 clip<sup id="fnref-2"><a href="#fn-2">2</a></sup>, USB programmer, and a bunch of other
adapters. Unfortunately, the USB dongle thing was like, 3.3V and 5V only? But I
looked around a bit harder and found some kits with 1.8V adapters.
<a href="https://www.youtube.com/watch?v=-bE2mpoB5mQ">This Indian guy on YouTube</a>
explained how everything fits together, and how that weird slot-machine-looking
adapter worked, making me a bit more confident that I was buying the right tool.</p>
<h2 id="hypotheses-now-as-i-wait-for-the-programmer-to-arrive">Hypotheses now, as I wait for the programmer to arrive</h2>
<ul>
<li>The AC1002B2-FB has no on-chip flash, and all the firmware is on the ROM.</li>
<li>We will be able to dump the ROM in-circuit and no desoldering is necessary.</li>
<li>It might <em>not</em> be Linux, because it’s 4MiB and that’s really small. But at the
same time, I have seen OpenWRT firmwares that are ~800kiB, so it’s not out of
the realm of possibility.</li>
<li>Not <em>all</em> of the ROM is write-locked, because otherwise, you can’t do OTA
updates. However, parts of the ROM <em>may</em> be locked. Specifically, I worry that
the entrypoint code is locked, and that it performs digital firmware signature
validation.</li>
<li>The chipset is a fairly standard one, so decompiling the machine code it is
not impossible. They didn’t just make a whole new exotic proprietary
instruction set just for this chip.</li>
</ul>
<p>I’m probably overthinking. I should just be patient and wait for the flash dump.</p>

</div></article></div></div>
  </body>
</html>
