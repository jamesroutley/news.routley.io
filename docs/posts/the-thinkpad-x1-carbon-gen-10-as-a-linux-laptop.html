<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2023/03/10/thinkpad_x1c_g10_linux/">Original</a>
    <h1>The ThinkPad X1 Carbon Gen 10 as a Linux Laptop</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p><span>Hands-on</span> <em>The Reg</em> FOSS desk took Lenovo&#39;s new Intel Alder Lake-powered executive laptop for a spin. It&#39;s a lovely machine… but with some significant limitations.</p>
<p>Lenovo ThinkPads have long enjoyed a strong following among Linux types, and the Thinkpad X1 is among the most coveted. The X1 Carbon is the thinnest and lightest, and the <a href="https://www.lenovo.com/gb/en/p/laptops/thinkpad/thinkpadx1/thinkpad-x1-carbon-gen-10-(14-inch-intel)/len101t0009" rel="nofollow">Gen 10</a> latest model is Ubuntu <a href="https://ubuntu.com/certified/202204-30215" rel="nofollow">certified</a>. Lenovo offered <em>The Reg</em> one to take a look.</p>
<p>The model we received is a powerhouse: 12th Gen Intel Core i7-1260P, 32GB of RAM, and a 1TB NVMe SSD. As you&#39;d expect for a current machine, it came with Windows 11. We ran Windows Update immediately, and found a whopping 53 outstanding, including multiple drivers. As usual for Windows, once those were installed and the machine rebooted, there were some <em>more</em> updates. After going through the cycle a few times, it claimed there were none outstanding. Then it was off to the Windows Store to install the couple of dozen outstanding updates hidden in there, which Windows Update doesn&#39;t tell you about. After that, it was a quick <a href="https://www.theregister.com/2012/08/10/ninite/">visit to Ninite to install some standard apps</a>. The whole process took barely a working day. This is the kind of fit and finish that running a state-of-the-art <em>professionally written</em> operating system gets you, of course.</p>

    

<p>Then, before so much as <a href="https://www.theregister.com/2021/12/10/friday_foss_fest/">booting a Ventoy key</a>, we did some essential preliminary steps which <a href="https://www.theregister.com/2022/07/22/linux_nonapproved_laptop">we described last year</a>: disabling Bitlocker, disabling Secure Boot in the firmware settings, and so on. That&#39;s why we installed all available Windows updates <em>first</em> – to ensure the latest firmware was installed before we began. This done, we started trying some Linux distros on it.</p>

        


        

<p>The X1 Carbon Gen 10 has an Alder Lake Intel Core processor, meaning four P (for Performance) cores, each of which can run two threads, and eight E (for Efficiency) single-threaded cores. The CPU shows as having 16 cores in the task manager. The snag with this is that the OS has to be aware that fully half of these are low-powered efficiency cores, and that only low-priority, non-performance-critical tasks should be scheduled onto those.</p>
<p>This is an issue that Apple already faced with macOS on its in-house Apple Silicon boxes, which have a similar performance-versus-efficiency split among their CPU cores – as <a href="https://www.theregister.com/2011/10/20/details_on_big_little_processing/">Arm processors have for over a decade</a>. Apple&#39;s OS is aware of the different types of cores, and schedules tasks appropriately – which is quite a <a href="https://eclecticlight.co/2022/04/25/how-macos-manages-m1-cpu-cores/" rel="nofollow">complex</a> task. Since Alder Lake CPUs came out, Linux <a href="https://www.theregister.com/2021/12/01/linux_5_16_alder_lake/">has had to adapt to this as well</a>, changes which appeared in kernel 5.15.35 and were, in <a href="https://discourse.ubuntubudgie.org/t/5-15-35-kernel-availability/5921" rel="nofollow">theory</a>, backported into Ubuntu 22.04&#39;s stable kernel last April.</p>

        

<p>Given this cutting-edge kit, we started with the latest Ubuntu, 22.10. We chose the default GNOME edition, as the X1 Carbon has a 16:10 HiDPI (2880×1800), high refresh rate (90Hz), high dynamic range screen, meaning that you will need a desktop environment that supports fractional scaling. Ubuntu &#34;Kinetic&#34; installed smoothly and picked up all the machine&#39;s hardware. It registered the high-definition display and defaulted to 200 per cent scaling, which does looks beautifully sharp – but the large text and graphical elements don&#39;t leave much room on the machine&#39;s 14-inch screen. Enabling fractional scaling in the display settings and dropping it to 175 per cent gives a bit more breathing room; 150 per cent, and while things are getting a little small, you begin to appreciate that this is a very high-resolution display.</p>
<p>However, we found that it didn&#39;t run smoothly. The 2022 versions of Ubuntu default to the Wayland display server, but we saw noise and transient bands of corruption on the screen. The default GNOME edition of Ubuntu offers the choice of Wayland or Xorg. After typing your password, <strong>don&#39;t</strong> press Enter – instead, click the cogwheel on the login screen to choose the environment you want. <em>Then</em> press Enter.</p>
<p>This is a good reason for <em>not</em> choosing automatic login. And while we are talking about the login screen, the Gen 10 has a feature to help there: a built-in fingerprint reader, artfully concealed in the power button. GNOME detected this and it worked perfectly.</p>

        

<p>We tried GNOME on Xorg instead. It was better, inasmuch as there was no display corruption, but it felt laggy and unresponsive. The mouse pointer didn&#39;t move smoothly, and moving or resizing windows felt hesitant. Even letters appearing on screen regularly lagged behind typing. Just in case there was some issue with this short-term release, we tried again with 22.04.2, the current version of the LTS – which <a href="https://www.theregister.com/2023/02/20/ubuntu_realtime_capable_edition/">now has the same kernel version, 5.19</a>. It was no better.</p>
<p>To try a more current kernel, we installed the latest openSUSE Tumbleweed. At the point we installed it, this included kernel 6.1, and ran much more smoothly, but it revealed different issues. Firstly, there was no sound: to get that working, we had to install the <code>sof-firmware</code> package, which is also an <a href="https://www.reddit.com/r/thinkpad/comments/wpooq8/thinkpad_x1_carbon_gen_10_linux/" rel="nofollow">issue</a> with Fedora on this model. A worse problem is that global display scaling did not work in KDE 5.27 on Xorg, even after a restart. We had to choose Wayland on the login screen in order to get display scaling to work, which is a necessity for the HiDPI display: without it, at its native resolution, text is too small to read. During testing, we got an upgrade to kernel 6.2, which also worked fine.</p>
<ul>

<li><a href="https://www.theregister.com/2023/03/08/amigaos_322_released/">AmigaOS 3.2.2 released for those feeling nostalgic</a></li>

<li><a href="https://www.theregister.com/2023/03/06/ubuntu_latest_kernel_kde/">How to get the latest Linux kernel on your Ubuntu box</a></li>

<li><a href="https://www.theregister.com/2023/03/02/linux_mint_212/">Linux Mint 21.2 and Cinnamon 5.8 desktop take shape</a></li>

<li><a href="https://www.theregister.com/2023/03/01/fedora_38_legacy_tech/">Fedora 38 will still support framebuffer X11 and NIS+</a></li>
</ul>
<p>To give a non-systemd-based distro a whirl, we also gave <a href="https://www.theregister.com/2022/08/31/mx_linux_212/">our preferred systemd-free distro MX Linux</a> a go. Our first attempt went wrong – we suspect that auto-detection of the UEFI system partition was confused by Ventoy – and rendered the machine unbootable, necessitating a full reinstall, starting with Windows 11 22H2. The generic Windows ISO from Microsoft&#39;s download <a href="https://www.microsoft.com/software-download/windows11" rel="nofollow">page</a> threw up an entertaining issue: Windows cannot detect the Gen 10&#39;s Wi-Fi adapter. This, of course, means that you can&#39;t go online to download the driver. Worse still is that this £1,870 ($2,195) laptop – £2,250 with VAT – has no Ethernet port. It <em>is</em> a slimline machine, but there is plenty of room for a folding port like in the <a href="https://www.theregister.com/2022/11/08/tuxedo_stellaris_amd_gen_4/">Tuxedo Stellaris G4 we reviewed last year</a>. Part of the reason that there&#39;s so much room along the machine&#39;s edges is that the X1 Carbon only has four USB ports: two type A and two type C, plus HDMI, a headphone socket and a SIM slot. Fortunately, we had a USB-C mini-hub with an Ethernet port to hand, enabling us to reinstall all those Windows updates – now well over 60, including various drivers.</p>
<div><p><a target="_blank" href="https://regmedia.co.uk/2023/03/08/x1c-mate-100.jpg"><img src="https://regmedia.co.uk/2023/03/08/x1c-mate-100.jpg?x=648&amp;y=405&amp;infer_y=1" alt="Mint MATE at 100 percent scaling. It works, but everything is so small it&#39;s hard to read" title="Mint MATE at 100 percent scaling. It works, but everything is so small it&#39;s hard to read" height="405" width="648"/></a></p><p>Mint MATE at 100 percent scaling. It works, but everything is so small it&#39;s hard to read</p>
</div>
<p>Then we reinstalled some Linux distros: Kubuntu 22.10, which had the same issue as openSUSE of scaling not working in KDE on Xorg, and MX Linux 21.3, the latest &#34;Advanced Hardware Support&#34; edition with Xfce. Here, too, display scaling didn&#39;t work right. In fact, the larger the scaling factor we tried, the smaller everything got. After considerable experimentation, we discovered a workaround: if you pick a custom scaling factor, a new box appears allowing you to input a number. Enter a value less than one and it works: 0.8 was rather small, 0.7 reasonable and 0.6 verging on too big.</p>
<div><p><a target="_blank" href="https://regmedia.co.uk/2023/03/08/x1c-xfce-200.jpg"><img src="https://regmedia.co.uk/2023/03/08/x1c-xfce-200.jpg?x=648&amp;y=405&amp;infer_y=1" alt="Xfce at 200 per cent scaling, making your £2000 laptop look like it has a 1990s 800×600 screen." title="Xfce at 200 per cent scaling, making your £2000 laptop look like it has a 1990s 800×600 screen." height="405" width="648"/></a></p><p>Xfce at 200 percent scaling, making your £2,000 laptop look like it has a 1990s 800×600 screen</p>
</div>
<p>Finally we tried the trusty <a href="https://www.theregister.com/2022/12/05/mint_211_enters_beta/">Linux Mint 21.1 with Cinnamon</a>. We chose that desktop for its fractional scaling support, which worked perfectly, as did sound, Wi-Fi, and everything else, even on kernel 5.15. The only exception is the integrated webcam, which is currently unsupported. For completeness&#39;s sake, we also tried Xfce and MATE on Linux Mint. Xfce scaling worked the same as it did on MX Linux, while MATE offered a choice of only 100 per cent (too small) or 200 per cent (too big).</p>
<div><p><a target="_blank" href="https://regmedia.co.uk/2023/03/08/x1c-cinnamon-150.jpg"><img src="https://regmedia.co.uk/2023/03/08/x1c-cinnamon-150.jpg?x=648&amp;y=405&amp;infer_y=1" alt="Cinnamon at 150 per cent scale but full resolution, which for us is a sensible compromise – which MATE can&#39;t offer." title="Cinnamon at 150 per cent scale but full resolution, which for us is a sensible compromise – which MATE can&#39;t offer." height="405" width="648"/></a></p><p>Cinnamon at 150 percent scale but full resolution, which for us is a sensible compromise – which MATE can&#39;t offer</p>
</div>
<p>Just for comparison, we put the latest kernel on Ubuntu 22.04, Kubuntu 22.10 and Mint 21.1, <a href="https://www.theregister.com/2023/03/06/ubuntu_latest_kernel_kde/">using the method we described last week</a>, and also for the sake of experiment, <a href="https://www.theregister.com/2022/02/25/friday_foss_fest_liquorix_kernel/">using the Liquorix kernel</a>. Both versions worked fine, and when the distro had been displaying any issues of lagginess, sluggish response, display corruption and so on, both kernels resolved them. GNOME on Wayland was the only exception: it froze on login. Mint had no such problems (until we experimentally <a href="https://www.theregister.com/2022/02/23/ubuntu_kernel_updates/">installed the HWE kernel from Ubuntu</a>), but the newer kernels worked perfectly anyway.</p>
<h3>Conclusions</h3>
<p>The &#34;Alder Lake&#34; Core i7-based X1 Carbon is a beautiful notebook computer, if you don&#39;t mind Lenovo&#39;s modern chiclet keyboards. For this particular vulture, the older seven-row design was vastly better, and we concur with our colleague who decried the modern <a href="https://www.theregister.com/2015/06/27/lenovo_mulling_retro_thinkpad_redesign_with_return_to_old_styling/">&#34;godawful chiclet six-row keyboard.&#34;</a></p>
<p>Like other recent ThinkPads, this version has a combination of three physical buttons for the Trackpoint, plus a buttonless trackpad with gesture support, which is a great combination. Even with 32GB of RAM and a terabyte of SSD, it&#39;s one of the thinnest, lightest laptops we&#39;ve ever tried, and running Linux, without the burden of Windows, it runs in total silence most of the time. If the fans are turning, we can&#39;t hear them, and the underside becomes just slightly warm to the touch after a while. After running on battery for hours, the power gauge still showed hours left and we suspect it&#39;s good for a whole day&#39;s use and maybe more.</p>
<p><a href="https://www.theregister.com/2015/06/27/lenovo_mulling_retro_thinkpad_redesign_with_return_to_old_styling/">The Intel 12th generation chipset</a> is still too new for most stable Linux distros: asymmetric core scheduling, its <a href="https://www.theregister.com/2022/03/30/intel_arc_gpu/">integrated Xe GPU</a>, the webcam, and perhaps worst of all, the need for fractional display scaling with such a high-DPI screen, which caused problems for GNOME on Wayland on kernel 5.15, and both Xfce and KDE on Xorg. Its integration of fractional scaling is a key advantage for the Cinnamon desktop and Mint in general, and the poor HiDPI handling of MATE and Xfce will prove to be critical weaknesses for these older desktops as such displays become more common, unless the projects make rapid improvements in this area. At least KDE has the workaround of using Wayland to get fractional scaling working.</p>
<p>There&#39;s a lot you can do to improve the experience, but it shouldn&#39;t be necessary. To be fair, though, we are sure that this will improve markedly in a year or so.</p>
<p>We have seen some rave reviews of the Gen 10 X1 Carbon, including one that called it the best laptop ever made. We cannot agree. For the price point, we would prefer to see more ports: say, one more of each size of USB port plus an Ethernet port. And without the external <a href="https://www.lenovo.com/us/en/p/accessories-and-software/cables-and-adapters/cables-&amp;-adapters_adapters/4x90q84427" rel="nofollow">dongle</a> as used on some other ThinkPad models, thank you. A card reader wouldn&#39;t go amiss either. It is also a shame that the battery is not removable, and there&#39;s no hatch for RAM upgrades or replacements. Some of these compromises are necessary for such a thin machine, but not all of them.</p>
<p>Even so, this is a substantially better laptop than the two thin-and-light Dell Latitudes which have spent time on <em>The Reg</em> FOSS desk recently. While all ThinkPad keyboards are far inferior to Lenovo&#39;s own keyboards of 12 years ago, they remain substantially better than almost any other chiclet keyboards on the market, and the Trackpoint is a better pointing device, which enables you to keep your hands over the home keys.</p>
<p>Linux supports the machine well, with the exception of the webcam – and we&#39;re confident that will get sorted soon. For now, you might want to use Linux Mint or a rolling-release distro such as openSUSE Tumbleweed, <a href="https://www.theregister.com/2023/01/05/siduction_2022_1/">Debian siduction</a> or <a href="https://www.theregister.com/2022/07/28/garuda_linux_arch_better/">Garuda Linux</a>, until newer versions of Ubuntu, Debian and Fedora appear. ®</p>                                


                    </div></div>
  </body>
</html>
