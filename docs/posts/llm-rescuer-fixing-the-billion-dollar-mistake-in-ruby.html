<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/barodeur/llm_rescuer">Original</a>
    <h1>Show HN: LLM Rescuer ‚Äì Fixing the billion dollar mistake in Ruby</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<blockquote>
<p dir="auto"><g-emoji alias="warning">‚ö†Ô∏è</g-emoji> <strong>EXPERIMENTAL PROJECT - NOT FOR PRODUCTION USE</strong></p>
<p dir="auto">This project is an experimental proof-of-concept developed for educational purposes and pure, unadulterated fun. It uses AI to dynamically handle runtime errors, which introduces unpredictable behavior and potential security risks that would make your security team cry. <strong>Never use this in production environments unless you enjoy explaining to your boss why the AI decided your user&#39;s name should be &#34;üê± Mr. Whiskers&#34;.</strong></p>
</blockquote>
<div dir="auto"><h2 tabindex="-1" dir="auto">The Mission: Fixing the Billion Dollar Mistake... With a Billion Dollars Worth of LLM Tokens</h2><a id="user-content-the-mission-fixing-the-billion-dollar-mistake-with-a-billion-dollars-worth-of-llm-tokens" aria-label="Permalink: The Mission: Fixing the Billion Dollar Mistake... With a Billion Dollars Worth of LLM Tokens" href="#the-mission-fixing-the-billion-dollar-mistake-with-a-billion-dollars-worth-of-llm-tokens"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In 1965, Tony Hoare invented the null reference and later called it his <a href="https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare/" rel="nofollow">&#34;billion-dollar mistake&#34;</a>. Well, we&#39;re here to fix it by potentially spending a billion dollars in OpenAI API tokens! üí∏</p>
<p dir="auto">Because clearly, the best way to solve a problem caused by the absence of a value is to throw artificial intelligence at it until it hallucinates a reasonable response. What could possibly go wrong?</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">What This Abomination Does</h2><a id="user-content-what-this-abomination-does" aria-label="Permalink: What This Abomination Does" href="#what-this-abomination-does"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">LLM Rescuer is a Ruby gem that catches your <code>NoMethodError</code>s when you call methods on <code>nil</code> and asks GPT to guess what you <em>probably</em> wanted. It&#39;s like having a very expensive, overly-confident intern who&#39;s read your entire codebase and thinks they know what you meant.</p>
<div dir="auto" data-snippet-clipboard-copy-content="user = nil
puts user.name  # Instead of crashing, might return &#34;John Doe&#34; or &#34;undefined&#34; or &#34;üé≠&#34;
                # depending on what the AI thinks is funny today"><pre><span>user</span> <span>=</span> <span>nil</span>
<span>puts</span> <span>user</span><span>.</span><span>name</span>  <span># Instead of crashing, might return &#34;John Doe&#34; or &#34;undefined&#34; or &#34;üé≠&#34;</span>
                <span># depending on what the AI thinks is funny today</span></pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">How This Beautiful Disaster Works</h2><a id="user-content-how-this-beautiful-disaster-works" aria-label="Permalink: How This Beautiful Disaster Works" href="#how-this-beautiful-disaster-works"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li><strong>The Trap</strong>: We monkey-patch <code>NilClass</code> because why not break fundamental assumptions?</li>
<li><strong>The Analysis</strong>: When you call a method on <code>nil</code>, we pause everything and ask an LLM to read your mind</li>
<li><strong>The Oracle</strong>: GPT-5 analyzes your code like a digital Sherlock Holmes with ADHD</li>
<li><strong>The Guess</strong>: It returns what it thinks you wanted, which is right about 73.2% of the time*</li>
<li><strong>The Magic</strong>: Your code continues running, probably doing something completely different than intended</li>
</ol>
<p dir="auto">*Statistics may be made up</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Installation (AKA &#34;How to Spend Your OpenAI Credits&#34;)</h2><a id="user-content-installation-aka-how-to-spend-your-openai-credits" aria-label="Permalink: Installation (AKA &#34;How to Spend Your OpenAI Credits&#34;)" href="#installation-aka-how-to-spend-your-openai-credits"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Add this line to your application&#39;s Gemfile (and say goodbye to your API budget):</p>

<p dir="auto">Then execute:</p>
<div dir="auto" data-snippet-clipboard-copy-content="bundle install
# Also install a second mortgage for your OpenAI bills"><pre>bundle install
<span><span>#</span> Also install a second mortgage for your OpenAI bills</span></pre></div>

<ol dir="auto">
<li>
<p dir="auto"><strong>Feed the AI overlords</strong>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="export OPENAI_API_KEY=&#34;prepare-your-wallet&#34;"><pre><span>export</span> OPENAI_API_KEY=<span><span>&#34;</span>prepare-your-wallet<span>&#34;</span></span></pre></div>
</li>
<li>
<p dir="auto"><strong>Set your project scope</strong> (so it only ruins <em>your</em> code):</p>
<div dir="auto" data-snippet-clipboard-copy-content="LlmRescuer.prefix = &#34;/path/to/your/beautiful/disaster&#34;"><pre><span>LlmRescuer</span><span>.</span><span>prefix</span> <span>=</span> <span>&#34;/path/to/your/beautiful/disaster&#34;</span></pre></div>
</li>
<li>
<p dir="auto"><strong>Embrace the chaos</strong>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="require &#39;llm_rescuer&#39;
LlmRescuer.setup
# You have chosen... poorly"><pre><span>require</span> <span>&#39;llm_rescuer&#39;</span>
<span>LlmRescuer</span><span>.</span><span>setup</span>
<span># You have chosen... poorly</span></pre></div>
</li>
</ol>
<div dir="auto"><h2 tabindex="-1" dir="auto">Real-World Usage Examples</h2><a id="user-content-real-world-usage-examples" aria-label="Permalink: Real-World Usage Examples" href="#real-world-usage-examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="# Classic nil safety
user = find_user(id: &#34;nonexistent&#34;) # returns nil
puts user.email
# AI: &#34;Analyzing context... user seems to need an email...
#      returning &#39;no-reply@example.com&#39;&#34;

# Shopping cart magic
cart = session[:cart] # nil because session expired
total = cart.total_price
# AI: &#34;This looks like e-commerce. Based on similar patterns,
#      I&#39;ll return 0.0 to avoid charging $nil&#34;

# The existential crisis
meaning_of_life = nil
answer = meaning_of_life.to_i
# AI: &#34;Clearly this should be 42. I&#39;ve read Douglas Adams.&#34;"><pre><span># Classic nil safety</span>
<span>user</span> <span>=</span> <span>find_user</span><span>(</span><span>id</span>: <span>&#34;nonexistent&#34;</span><span>)</span> <span># returns nil</span>
<span>puts</span> <span>user</span><span>.</span><span>email</span>
<span># AI: &#34;Analyzing context... user seems to need an email...</span>
<span>#      returning &#39;no-reply@example.com&#39;&#34;</span>

<span># Shopping cart magic</span>
<span>cart</span> <span>=</span> <span>session</span><span>[</span><span>:cart</span><span>]</span> <span># nil because session expired</span>
<span>total</span> <span>=</span> <span>cart</span><span>.</span><span>total_price</span>
<span># AI: &#34;This looks like e-commerce. Based on similar patterns,</span>
<span>#      I&#39;ll return 0.0 to avoid charging $nil&#34;</span>

<span># The existential crisis</span>
<span>meaning_of_life</span> <span>=</span> <span>nil</span>
<span>answer</span> <span>=</span> <span>meaning_of_life</span><span>.</span><span>to_i</span>
<span># AI: &#34;Clearly this should be 42. I&#39;ve read Douglas Adams.&#34;</span></pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">What Could Go Wrong? ü§î</h2><a id="user-content-what-could-go-wrong-" aria-label="Permalink: What Could Go Wrong? ü§î" href="#what-could-go-wrong-"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Your nil users might suddenly become named &#34;ChatGPT&#39;s Best Friend&#34;</li>
<li>Your shopping cart totals might be replaced with haikus about commerce</li>
<li>Your boolean flags might return philosophical treatises on truth</li>
<li>Your API might start responding with interpretive dance descriptions</li>
<li>You might accidentally achieve sentience in your nil objects</li>
</ul>

<ul dir="auto">
<li><strong>Traditional nil handling</strong>: Free, but your app crashes</li>
<li><strong>LLM Rescuer</strong>: $0.002 per nil rescue (estimated)</li>
<li><strong>Your sanity</strong>: Priceless (and rapidly depleting)</li>
</ul>
<p dir="auto">For a typical Rails app with healthy nil hygiene, expect to spend approximately:</p>
<ul dir="auto">
<li><strong>Development</strong>: $50-100/month (because you test things, right?)</li>
<li><strong>Production</strong>: $500-5000/month (depending on how nil-happy your code is)</li>
<li><strong>Black Friday</strong>: Your firstborn child</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Dependencies (The Usual Suspects)</h2><a id="user-content-dependencies-the-usual-suspects" aria-label="Permalink: Dependencies (The Usual Suspects)" href="#dependencies-the-usual-suspects"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><code>ruby_llm</code> (~&gt; 1.8.2) - For talking to our AI overlords</li>
<li><code>ruby_llm-schema</code> (~&gt; 0.2.1) - For making sure AI responses are structured chaos</li>
<li><code>binding_of_caller</code> (~&gt; 1.0.1) - For context that the AI will probably ignore anyway</li>
<li>A sense of humor (&gt;= 1.0.0, required)</li>
<li>A healthy bank account (recommended)</li>
</ul>

<p dir="auto">After checking out the repo and questioning your life choices:</p>
<div dir="auto" data-snippet-clipboard-copy-content="bin/setup    # Install dependencies
rake spec    # Run tests (spoiler: they&#39;re as unpredictable as AI)
bin/console  # Interactive prompt for immediate regret"><pre>bin/setup    <span><span>#</span> Install dependencies</span>
rake spec    <span><span>#</span> Run tests (spoiler: they&#39;re as unpredictable as AI)</span>
bin/console  <span><span>#</span> Interactive prompt for immediate regret</span></pre></div>

<p dir="auto">Found a bug? That might be a feature! Found a feature? That might be a bug!</p>
<p dir="auto">Submit PRs, issues, or interpretive dance videos explaining your problems. We accept contributions in all forms except sensible ones.</p>

<blockquote>
<p dir="auto">&#34;LLM Rescuer saved my app from crashing! Sure, all my users are now named &#39;Anonymous Penguin&#39; and my prices are in Bitcoin, but it didn&#39;t crash!&#34; - Definitely Real User</p>
</blockquote>
<blockquote>
<p dir="auto">&#34;I deployed this to production and my nil errors went down 100%! My AWS bill went up 400%, but correlation isn&#39;t causation, right?&#34; - Another Real Person</p>
</blockquote>

<p dir="auto">Why fix your code when you can train an AI to guess what your code should have done? It&#39;s like pair programming, except your pair is a probabilistic text generator that&#39;s read the entire internet and has strong opinions about variable naming.</p>

<p dir="auto">This project is licensed under the MIT License, which gives you the right to use, modify, and distribute this code. It does not give you the right to sue us when your production app starts writing poetry instead of processing payments.</p>

<p dir="auto">Remember: null references were a billion-dollar mistake, but with today&#39;s AI API pricing, we can make it a trillion-dollar mistake! üöÄ</p>
<hr/>
<p dir="auto"><em>&#34;In a world without nil safety, one gem dares to ask: &#39;What if we just guessed?&#39;&#34;</em> üé¨</p>
</article></div></div>
  </body>
</html>
