<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/nari-labs/dia">Original</a>
    <h1>Show HN: Dia, an open-weights TTS model for generating realistic dialogue</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
<a href="https://github.com/nari-labs/dia">
<img src="https://github.com/nari-labs/dia/raw/main/images/banner.png"/>
</a>
</p>
<p dir="auto">
<a href="https://tally.so/r/meokbo" rel="nofollow"><img alt="Static Badge" src="https://camo.githubusercontent.com/92b2331673fa5c495a1c359091822565821308fd887287fa029787317e073675/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4a6f696e2d576169746c6973742d77686974653f7374796c653d666f722d7468652d6261646765" data-canonical-src="https://img.shields.io/badge/Join-Waitlist-white?style=for-the-badge"/></a>
<a href="https://discord.gg/pgdB5YRe" rel="nofollow"><img src="https://camo.githubusercontent.com/a6902e8330fa93952740b9dc93a2ed89a0bd52bff1a5afc70c4364d202ca5b39/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446973636f72642d4a6f696e253230436861742d3732383944413f6c6f676f3d646973636f7264267374796c653d666f722d7468652d6261646765" data-canonical-src="https://img.shields.io/badge/Discord-Join%20Chat-7289DA?logo=discord&amp;style=for-the-badge"/></a>
<a href="https://github.com/nari-labs/dia/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/6c6211026084e1301dee61e79b94610ebc08afbbb678a9912b918c4df4f680b1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4170616368655f322e302d626c75652e7376673f7374796c653d666f722d7468652d6261646765" alt="LICENSE" data-canonical-src="https://img.shields.io/badge/License-Apache_2.0-blue.svg?style=for-the-badge"/></a>
</p>
<p dir="auto">
<a href="https://huggingface.co/nari-labs/Dia-1.6B" rel="nofollow"><img src="https://camo.githubusercontent.com/aa5eda54e7cdc13e37720ff1b1cb2a41679015f1b759b38d475f8a59212cb0eb/68747470733a2f2f68756767696e67666163652e636f2f64617461736574732f68756767696e67666163652f6261646765732f7265736f6c76652f6d61696e2f6d6f64656c2d6f6e2d68662d6c672d6461726b2e737667" alt="Dataset on HuggingFace" height="42" data-canonical-src="https://huggingface.co/datasets/huggingface/badges/resolve/main/model-on-hf-lg-dark.svg"/></a>
<a href="https://huggingface.co/spaces/nari-labs/Dia-1.6B" rel="nofollow"><img src="https://camo.githubusercontent.com/c945801db49739d35e00b26e7be741079fe16ed1cab3a693e2072f2d8219f004/68747470733a2f2f68756767696e67666163652e636f2f64617461736574732f68756767696e67666163652f6261646765732f7265736f6c76652f6d61696e2f6f70656e2d696e2d68662d7370616365732d6c672d6461726b2e737667" alt="Space on HuggingFace" height="38" data-canonical-src="https://huggingface.co/datasets/huggingface/badges/resolve/main/open-in-hf-spaces-lg-dark.svg"/></a>
</p>
<p dir="auto">Dia is a 1.6B parameter text to speech model created by Nari Labs.</p>
<p dir="auto">Dia <strong>directly generates highly realistic dialogue from a transcript</strong>. You can condition the output on audio, enabling emotion and tone control. The model can also produce nonverbal communications like laughter, coughing, clearing throat, etc.</p>
<p dir="auto">To accelerate research, we are providing access to pretrained model checkpoints and inference code. The model weights are hosted on <a href="https://huggingface.co/nari-labs/Dia-1.6B" rel="nofollow">Hugging Face</a>. The model only supports English generation at the moment.</p>
<p dir="auto">We also provide a <a href="https://yummy-fir-7a4.notion.site/dia" rel="nofollow">demo page</a> comparing our model to <a href="https://elevenlabs.io/studio" rel="nofollow">ElevenLabs Studio</a> and <a href="https://github.com/SesameAILabs/csm">Sesame CSM-1B</a>.</p>
<ul dir="auto">
<li>(Update) We have a ZeroGPU Space running! Try it now <a href="https://huggingface.co/spaces/nari-labs/Dia-1.6B" rel="nofollow">here</a>. Thanks to the HF team for the support :)</li>
<li>Join our <a href="https://discord.gg/pgdB5YRe" rel="nofollow">discord server</a> for community support and access to new features.</li>
<li>Play with a larger version of Dia: generate fun conversations, remix content, and share with friends. ðŸ”® Join the <a href="https://tally.so/r/meokbo" rel="nofollow">waitlist</a> for early access.</li>
</ul>

<p dir="auto">This will open a Gradio UI that you can work on.</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/nari-labs/dia.git
cd dia &amp;&amp; uv run app.py"><pre>git clone https://github.com/nari-labs/dia.git
<span>cd</span> dia <span>&amp;&amp;</span> uv run app.py</pre></div>
<p dir="auto">or if you do not have <code>uv</code> pre-installed:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/nari-labs/dia.git
cd dia
python -m venv .venv
source .venv/bin/activate
pip install uv
uv run app.py"><pre>git clone https://github.com/nari-labs/dia.git
<span>cd</span> dia
python -m venv .venv
<span>source</span> .venv/bin/activate
pip install uv
uv run app.py</pre></div>
<p dir="auto">Note that the model was not fine-tuned on a specific voice. Hence, you will get different voices every time you run the model.
You can keep speaker consistency by either adding an audio prompt (a guide coming VERY soon - try it with the second example on Gradio for now), or fixing the seed.</p>

<ul dir="auto">
<li>Generate dialogue via <code>[S1]</code> and <code>[S2]</code> tag</li>
<li>Generate non-verbal like <code>(laughs)</code>, <code>(coughs)</code>, etc.
<ul dir="auto">
<li>We don&#39;t have a full list of non-verbals, find out yourself!</li>
</ul>
</li>
<li>Voice cloning. See <a href="https://github.com/nari-labs/dia/blob/main/example/voice_clone.py"><code>example/voice_clone.py</code></a> for more information.
<ul dir="auto">
<li>In the Hugging Face space, you can upload the audio you want to clone and place its transcript before your script. Make sure the transcript follows the required format. The model will then output only the content of your script.</li>
</ul>
</li>
</ul>


<div dir="auto" data-snippet-clipboard-copy-content="import soundfile as sf

from dia.model import Dia


model = Dia.from_pretrained(&#34;nari-labs/Dia-1.6B&#34;)

text = &#34;[S1] Dia is an open weights text to dialogue model. [S2] You get full control over scripts and voices. [S1] Wow. Amazing. (laughs) [S2] Try it now on Git hub or Hugging Face.&#34;

output = model.generate(text)

sf.write(&#34;simple.mp3&#34;, output, 44100)"><pre><span>import</span> <span>soundfile</span> <span>as</span> <span>sf</span>

<span>from</span> <span>dia</span>.<span>model</span> <span>import</span> <span>Dia</span>


<span>model</span> <span>=</span> <span>Dia</span>.<span>from_pretrained</span>(<span>&#34;nari-labs/Dia-1.6B&#34;</span>)

<span>text</span> <span>=</span> <span>&#34;[S1] Dia is an open weights text to dialogue model. [S2] You get full control over scripts and voices. [S1] Wow. Amazing. (laughs) [S2] Try it now on Git hub or Hugging Face.&#34;</span>

<span>output</span> <span>=</span> <span>model</span>.<span>generate</span>(<span>text</span>)

<span>sf</span>.<span>write</span>(<span>&#34;simple.mp3&#34;</span>, <span>output</span>, <span>44100</span>)</pre></div>
<p dir="auto">A pypi package and a working CLI tool will be available soon.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">ðŸ’» Hardware and Inference Speed</h2><a id="user-content--hardware-and-inference-speed" aria-label="Permalink: ðŸ’» Hardware and Inference Speed" href="#-hardware-and-inference-speed"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Dia has been tested on only GPUs (pytorch 2.0+, CUDA 12.6). CPU support is to be added soon.
The initial run will take longer as the Descript Audio Codec also needs to be downloaded.</p>
<p dir="auto">On enterprise GPUs, Dia can generate audio in real-time. On older GPUs, inference time will be slower.
For reference, on a A4000 GPU, Dia roughly generates 40 tokens/s (86 tokens equals 1 second of audio).
<code>torch.compile</code> will increase speeds for supported GPUs.</p>
<p dir="auto">The full version of Dia requires around 10GB of VRAM to run. We will be adding a quantized version in the future.</p>
<p dir="auto">If you don&#39;t have hardware available or if you want to play with bigger versions of our models, join the waitlist <a href="https://tally.so/r/meokbo" rel="nofollow">here</a>.</p>

<p dir="auto">This project is licensed under the Apache License 2.0 - see the <a href="https://github.com/nari-labs/dia/blob/main/LICENSE">LICENSE</a> file for details.</p>

<p dir="auto">This project offers a high-fidelity speech generation model intended for research and educational use. The following uses are <strong>strictly forbidden</strong>:</p>
<ul dir="auto">
<li><strong>Identity Misuse</strong>: Do not produce audio resembling real individuals without permission.</li>
<li><strong>Deceptive Content</strong>: Do not use this model to generate misleading content (e.g. fake news)</li>
<li><strong>Illegal or Malicious Use</strong>: Do not use this model for activities that are illegal or intended to cause harm.</li>
</ul>
<p dir="auto">By using this model, you agree to uphold relevant legal standards and ethical responsibilities. We <strong>are not responsible</strong> for any misuse and firmly oppose any unethical usage of this technology.</p>

<ul dir="auto">
<li>Docker support.</li>
<li>Optimize inference speed.</li>
<li>Add quantization for memory efficiency.</li>
</ul>

<p dir="auto">We are a tiny team of 1 full-time and 1 part-time research-engineers. We are extra-welcome to any contributions!
Join our <a href="https://discord.gg/pgdB5YRe" rel="nofollow">Discord Server</a> for discussions.</p>

<ul dir="auto">
<li>We thank the <a href="https://sites.research.google/trc/about/" rel="nofollow">Google TPU Research Cloud program</a> for providing computation resources.</li>
<li>Our work was heavily inspired by <a href="https://arxiv.org/abs/2305.09636" rel="nofollow">SoundStorm</a>, <a href="https://jordandarefsky.com/blog/2024/parakeet/" rel="nofollow">Parakeet</a>, and <a href="https://github.com/descriptinc/descript-audio-codec">Descript Audio Codec</a>.</li>
<li>HuggingFace for providing the ZeroGPU Grant.</li>
<li>&#34;Nari&#34; is a pure Korean word for lily.</li>
<li>We thank Jason Y. for providing help with data filtering.</li>
</ul>

<a href="https://www.star-history.com/#nari-labs/dia&amp;Date" rel="nofollow">
 <themed-picture data-catalyst-inline="true"><picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://camo.githubusercontent.com/f9092f179f7cc022313b86be46e147629fdf766d040662da63628197dba96222/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d6e6172692d6c6162732f64696126747970653d44617465267468656d653d6461726b" data-canonical-src="https://api.star-history.com/svg?repos=nari-labs/dia&amp;type=Date&amp;theme=dark"/>
   <source media="(prefers-color-scheme: light)" srcset="https://camo.githubusercontent.com/844e26389101ca39cac0964aaa3a0258a7e71f0e3a4f28dbcd15a10fa555afec/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d6e6172692d6c6162732f64696126747970653d44617465" data-canonical-src="https://api.star-history.com/svg?repos=nari-labs/dia&amp;type=Date"/>
   <img alt="Star History Chart" src="https://camo.githubusercontent.com/844e26389101ca39cac0964aaa3a0258a7e71f0e3a4f28dbcd15a10fa555afec/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d6e6172692d6c6162732f64696126747970653d44617465" data-canonical-src="https://api.star-history.com/svg?repos=nari-labs/dia&amp;type=Date"/>
 </picture></themed-picture>
</a>
</article></div></div>
  </body>
</html>
