<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://penrose.ink/siggraph20.html">Original</a>
    <h1>Penrose: From mathematical notation to beautiful diagrams</h1>
    
    <div id="readability-page-1" class="page"><div id="inner-body">

   <!-- TODO: remove .html from url -->
   <!-- TODO: standardize references to names like Penrose -->
   <!-- TODO: improve CSS, styling -->
   <!-- TODO: fix unicode in listings and site -->

<div id="content">

    

  <div>
    <p>by Katherine Ye<sup>1</sup>, Wode Ni<sup>1</sup>, Max Krieger<sup>1</sup>, Dor Ma&#39;ayan<sup>1, 2</sup>, Jenna Wise<sup>1</sup>, Jonathan Aldrich<sup>1</sup>, Joshua Sunshine<sup>1</sup>, and Keenan Crane<sup>1</sup></p>

    <!-- TODO: Use superscripts -->
<p><i>    <p><sup>1</sup>Carnegie Mellon University, <sup>2</sup>Technion</p></i></p><p>appearing in SIGGRAPH 2020</p>
  </div>

<h2>Paper</h2>

<div>
<p><a href="https://penrose.ink/media/Penrose_SIGGRAPH2020a.pdf"><img src="https://penrose.ink/media/front-page.png" id="paper" alt="front page of SIGGRAPH &#39;20 paper"/></a>
</p>
</div>

<h2>Talk</h2>

<iframe width="560" height="315" src="https://www.youtube.com/embed/OyD4LIv2PDc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h2>Teaser video</h2>

<iframe src="https://player.vimeo.com/video/416822487" width="100%" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen=""></iframe>

<h2>Abstract</h2>

<p>We introduce a system called <i>Penrose</i> for creating mathematical diagrams.  Its basic functionality is to translate abstract statements written in familiar math-like notation into one or more possible visual representations.  Rather than rely on a fixed library of visualization tools, the visual representation is user-defined in a constraint-based specification language; diagrams are then generated automatically via constrained numerical optimization.  The system is user-extensible to many domains of mathematics, and is fast enough for iterative design exploration.  In contrast to tools that specify diagrams via direct manipulation or low-level graphics programming, <i>Penrose</i> enables rapid creation and exploration of diagrams that faithfully preserve the underlying mathematical meaning.  We demonstrate the effectiveness and generality of the system by showing how it can be used to illustrate a diverse set of concepts from mathematics and computer graphics.</p>

<h2>Want to use <i>Penrose</i> or collaborate?</h2>

<p>Please note that <i>Penrose</i> is an early-stage system that is still in development. Our system is not ready for contributions or public use yet, but we&#39;re working on it!</p>

<p>Want to be the first to hear about our system as we build it? Join our mailing list:</p>

<!-- Begin MailChimp Signup Form -->



<p>And reach out to us on Twitter: 

<a href="https://www.twitter.com/hypotext">@hypotext</a>,  <a href="https://www.twitter.com/wodenimoni">@wodenimoni</a>,  <a href="https://www.twitter.com/maxkriegers">@maxkriegers</a>, <a href="https://www.twitter.com/dorma10">@dorma10</a>,  <a href="https://www.twitter.com/wise_jenna">@wise_jenna</a>,  <a href="https://www.twitter.com/JAldrichCMU">@JAldrichCMU</a>, <a href="https://www.twitter.com/joshsunshine">@joshsunshine</a>, and  <a href="https://www.twitter.com/keenanisalive">@keenanisalive</a>.    </p> 

<p>We&#39;re especially looking to talk with authors, educators, and expert illustrators who might be interested in collaborating on building a <i>Penrose</i> library for their area of expertise. Please fill out the form below (also accessible <a href="https://forms.gle/vU9ofpLpiotwXrce8">here</a>) if interested.</p>



<!--End mc_embed_signup-->


<!-- TODO: Link twitter thread -->

<h2>Selected figures</h2>

<!-- TODO: Make figures more responsive -->

<!-- Figures:
1. teaser <<
2. sets-inconsistent
3. HighLevelPipeline
4. Retargeting <<
5. NoviceExpertUsers
6. domain-interop
7. MathProse (+ prose, code listing) <<
8. sets-color-opt <<
9. enumeration <<
10. (code listing)
11. (2 code listings) + substance-linalg
12. (code listing)
13. CompilationPipeline
14. build_computation_graph
15. optimization_computation_graph
16. OptimizationProgress
17. PenroseIDE <<
    ExponentialGrowth (inset)
18. (3 code listings) + set-styles <<
19. (3 code listings) + func-continuous-discrete-vert <<
20. (code listing) + FunctionComposition
    EuclideanStyleInspiration (inset)
21. ThreeEuclideanStyles
22. byrne-stages <<
    LinearAlgebra1D (inset)
23. (2 code listings) + linearmap-add-scale
24. (code listing) + mesh-figure <<
25. (2 code listings) + mesh-examples (but it includes the code listings...)
26. rt-multiple-paths
27. optimization-graph
28. compilation-graph
29. GeometrySamples <<    -->

<div>
  <!-- <div class="container" style="display: flex;"> -->
    <!-- <div style="width: 50%; background: none;"> -->
      <p>
        <b>Point</b> p, q, r, s</p>

    <!-- <div style="flex-grow: 1; background: none;"> -->
        <p><img src="https://penrose.ink/media/figures/teaser.svg" alt="See caption below"/>
    </p>
  <!-- </div> -->

  <p><i>Fig. 1.</i> <i>Penrose</i> is a framework for specifying how mathematical statements should be interpreted as visual diagrams. A clean separation between abstract mathematical objects and their visual representation provides new capabilities beyond existing code- or GUI-based tools. Here, for instance, the same set of statements is given three different visual interpretations, via Euclidean, spherical, and hyperbolic geometry. (Further samples are shown in <i>Fig. 29.</i>)</p>
</div>

<div>
  

  <p><i>Fig. 4.</i> By specifying diagrams in terms of abstract relationships rather than explicit graphical directives, they are easily adapted to a wide variety of use cases.  Here we use identical <i>Penrose</i> code to generate ray tracing diagrams for several targets (Sec 5.6).  Though the arrangement and number of objects changes in each example, the meaning remains the same. </p>
</div>

<div>
  <div>
    <p>
For any vector space <i>X</i>, let <i>u, v ∈ X</i> be orthogonal vectors of equal length, and let <i>w = u + v</i>. Then <i>u</i> and <i>w</i> make a 45◦ angle.
      </p>

    <p>
        <b>VectorSpace</b> X</p>

    <p><img src="https://penrose.ink/media/figures/MathProse.svg" alt="See caption below"/>
    </p>
  </div>

  <p><i>Fig. 7.</i> Extensibility enables users to adopt conventions and notation that reflect the way they naturally write mathematical prose. Here, the resulting diagram plays the role of the concluding statement.    
    </p>
</div>

<div>
  <p><img src="https://penrose.ink/media/figures/sets-color-opt.png" alt="See caption below"/></p><p><i>Fig. 8.</i> An optimization-based approach makes it possible to jointly optimize visual attributes that are difficult to coordinate by hand.  Here for instance we optimize color contrast according to the spatial proximity of adjacent disks <i>(left to right)</i>, ultimately discovering a two-color solution <i>(far right)</i>.  The system can also be used to debug the optimization process itself—in this case by drawing the hue of each disk as a dot on a color wheel.
    </p>
</div>

<div>
    <p><img src="https://penrose.ink/media/figures/enumeration.svg" alt="See caption below"/>
    </p>

  <p><i>Fig. 9.</i> A language-based design makes it easy to build tools on top of <i>Penrose</i> that provide additional power. Here we use standard techniques from program synthesis (Sec. 5.7) to automatically enumerate how the given relationships can be realized.  Generating such examples helps to see important corner cases that might be missed when drawing diagrams by hand (where perhaps the top-left diagram most easily comes to mind).
    </p>
</div>

<div>
  <p><img src="https://penrose.ink/media/figures/PenroseIDE.png" alt="See caption below"/></p><p><i>Fig. 17.</i> Our system supports integration with web-based applications. Here a <i>Penrose</i> IDE provides automatic syntax highlighting and autocomplete for any user-defined domain.
    </p>
</div>

<div>
    <div>

      <p>
        -- Sets.dsl </p> 

      <p>
        -- Sets.sub </p>

      <p>
        -- Sets-Disks.sty </p>

        <div><p>
        x.shape = Circle { strokeWidth : 0.0 }</p></div>

        <p>
        } </p><p>
        <b>forall</b> Set x; Set y </p>

        <div>
        <p><b>ensure</b> contains(y.shape, x.shape) </p></div>

        <p>
        } </p><p>
        <b>forall</b> Set x; Set y </p>

        <p><b>ensure</b> disjoint(x.shape, y.shape) <br/>
        </p>
        <p>
        } </p>

      <p><img src="https://penrose.ink/media/figures/set-styles.svg" alt="See caption below"/>
    </p></div>

  <p><i>Fig. 18.</i> Here, some <i>Substance</i> code is used to specify set relationships. Different <i>Style</i> programs not only tweak the visual style (<i>e.g.</i>, flat vs. shaded disks), but allow one to use a completely different visual representation (<i>e.g.</i>, a tree showing set inclusions). <i>Sets.sty</i> above describes the flat disk style.
    </p>
</div>

<div>
  <div>
  <p>
    -- Injection.sub</p>

<p>
    -- Surjection.sub</p>

<p>
    -- Bijection.sub</p>
</div>

  <p><img src="https://penrose.ink/media/figures/func-continuous-discrete-vert.png" alt="See caption below"/>
  </p>

  <p><i>Fig. 19.</i> Different visual representations provide different ways of thinking about an idea.  Here, the notion of injections, bijections, and surjections is illustrated in both discrete <i>(left)</i> and continuous <i>(right)</i> styles.  In the former, functions with the desired properties are randomly generated by an SMT solver, allowing the user to learn from many different examples.</p>
</div>

<div>
    <p>
      <!-- <img src="media/figures/byrne-stages.png" alt="See caption below"> -->
      <!-- <img src="media/figures/byrne-stages.svg" alt="See caption below"> -->

<!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 24.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" focusable="false" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 240 72.21035" style="enable-background:new 0 0 240 72.21035;" xml:space="preserve">

<desc>
	This diagram was created with Penrose (https://penrose.ink) on 2020-01-16. If you have any suggestions on making this diagram more accessible, please contact us.
	</desc>
<g>
	<g transform="translate(0,0)">
		<rect x="121.7507782" y="0.3095647" width="57.8230362" height="71.9007874">
		<title>const.plane</title>
		</rect>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M135.7367554,38.1801376h29.8510742v29.8510818h-29.8510742V38.1801376z			">
<title>CBDE.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M135.7367554,38.1801376h5.5970764v29.8510818h-5.5970764V38.1801376z			">
<title>CKLE.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376v29.8510818h-24.2539978V38.1801376H165.5878296z			">
<title>BDLK.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,68.0312195V38.1801376			">
<title>DB.shape2</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376l-24.2539978-11.6536484L152.9874725,2.272486
				l24.2539978,11.6536493L165.5878296,38.1801376z			">
<title>BAGF.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376l11.6536407-24.2540016			">
<title>BF.shape2</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M141.3338318,26.5264893v41.5047302			">
<title>AL.shape2</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M141.3338318,26.5264893l-5.5970764,11.6536484l-11.6536484-5.5970764
				l5.5970688-11.6536503L141.3338318,26.5264893z			">
<title>ACIH.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M141.3338318,26.5264893l24.2539978,11.6536484h-29.8510742
				L141.3338318,26.5264893z			">
<title>ABC.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376h-5.5970764l0.0156555,0.4182739l0.0468597,0.4159317
				l0.0778198,0.4112625l0.1083374,0.4043007l0.1382294,0.3950729l0.1673889,0.3836403l0.1955719,0.3700562l0.2226868,0.3544083
				l0.2485504,0.3367729l0.2730408,0.3172607l0.2959595,0.2959671l0.3172607,0.2730255l0.3367767,0.2485504l0.3544006,0.2226906
				l0.3700562,0.1955757l0.3836365,0.1673813l0.3950806,0.1382446l0.4042969,0.1083298l0.4112701,0.077816l0.4159241,0.0468636
				l0.4182739,0.0156517V38.1801376z			">
<title>CBD.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376h-5.5970764l0.0012817-0.1193733l0.0038147-0.1193161
				l0.0063629-0.1192055l0.0088959-0.1190491l0.0114441-0.1188316l0.0139771-0.1185608l0.0164948-0.1182289l0.0190125-0.1178551
				l0.0215302-0.1174202l0.0240173-0.1169357l0.0265198-0.1164017l0.0289917-0.1158028l0.0314484-0.1151619l0.033905-0.1144638
				l0.0363312-0.1137123l0.0387573-0.1129189l0.0411377-0.1120605l0.0435333-0.1111565l0.0458984-0.1102066l0.048233-0.1092033
				l0.0505524-0.1081467L165.5878296,38.1801376z			">
<title>CBA.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376l2.4240112-5.0449409l-0.3837891-0.1670418
				l-0.3951874-0.1378937l-0.4044037-0.107975l-0.4113312-0.0774498l-0.4159698-0.0464935l-0.4182892-0.0152817
				l-0.4182587,0.0160217l-0.4158783,0.0472336l-0.4111938,0.0781784l-0.4042053,0.1086922l-0.3949585,0.138588
				l-0.3834991,0.1677246l-0.369873,0.1959076l-0.3542175,0.2230034l-0.3365479,0.2488518l-0.3170166,0.2733002
				l-0.2957001,0.2962341l-0.2727509,0.3175011l-0.2482452,0.3369942l-0.2223816,0.3546066l-0.1952515,0.3702278
				L165.5878296,38.1801376z			">
<title>FBA.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M143.5199738,27.5768909l-1.0500641,2.1863136l-2.186142-1.0504036
				l1.0500641-2.1863117L143.5199738,27.5768909z			">
<title>CAB.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376l11.6536407-24.2540016			">
<title>BF.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M135.7367554,38.1801376l5.5970764-11.6536484			">
<title>CA.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,38.1801376h-29.8510742			">
<title>BC.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M141.3338318,26.5264893v41.5047302			">
<title>AL.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M141.3338318,38.1801376v29.8510818			">
<title>KL.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,68.0312195V38.1801376			">
<title>DB.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M141.3338318,26.5264893l24.2539978,41.5047302			">
<title>AD.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M165.5878296,68.0312195h-29.8510742			">
<title>DE.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<polygon points="141.3338318,38.1801376 141.3338318,38.1801376 141.3338318,38.1801376 141.3338318,38.1801376 		">
		<title>K.shape</title>
		<desc>Circle representing K.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="124.083107,32.5830612 124.083107,32.5830612 124.083107,32.5830612 124.083107,32.5830612 		">
		<title>I.shape</title>
		<desc>Circle representing I.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="129.6801758,20.9294109 129.6801758,20.9294109 129.6801758,20.9294109 129.6801758,20.9294109 		">
		<title>H.shape</title>
		<desc>Circle representing H.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="152.9874725,2.272486 152.9874725,2.272486 152.9874725,2.272486 152.9874725,2.272486 		">
		<title>G.shape</title>
		<desc>Circle representing G.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="135.7367554,68.0312195 135.7367554,68.0312195 135.7367554,68.0312195 135.7367554,68.0312195 		">
		<title>E.shape</title>
		<desc>Circle representing E.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="165.5878296,68.0312195 165.5878296,68.0312195 165.5878296,68.0312195 165.5878296,68.0312195 		">
		<title>D.shape</title>
		<desc>Circle representing D.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="141.3338318,68.0312195 141.3338318,68.0312195 141.3338318,68.0312195 141.3338318,68.0312195 		">
		<title>L.shape</title>
		<desc>Circle representing L.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M141.3338318,26.5264893l24.2539978,11.6536484			">
<title>AB.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<g>
			<path marker-start="" marker-end="" d="M135.7367554,38.1801376l41.504715-24.2540016			">
<title>CF.shape</title>
			</path>
		</g>
	</g>
	<g transform="translate(0,0)">
		<polygon points="177.2414703,13.9261351 177.2414703,13.9261351 177.2414703,13.9261351 177.2414703,13.9261351 		">
		<title>F.shape</title>
		<desc>Circle representing F.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="135.7367554,38.1801376 135.7367554,38.1801376 135.7367554,38.1801376 135.7367554,38.1801376 		">
		<title>C.shape</title>
		<desc>Circle representing C.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="165.5878296,38.1801376 165.5878296,38.1801376 165.5878296,38.1801376 165.5878296,38.1801376 		">
		<title>B.shape</title>
		<desc>Circle representing B.shape</desc>
		</polygon>
	</g>
	<g transform="translate(0,0)">
		<polygon points="141.3338318,26.5264893 141.3338318,26.5264893 141.3338318,26.5264893 141.3338318,26.5264893 		">
		<title>A.shape</title>
		<desc>Circle representing A.shape</desc>
		</polygon>
	</g>
	<g>
		<g transform="translate(0,0)">
			<rect x="0.3117312" width="57.8230362" height="71.9007874">
			<title>const.plane</title>
			</rect>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(575,175)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M19.8947868,26.5924606l24.2540016,11.6512527H14.2977085
					L19.8947868,26.5924606z				">
<title>ABC.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M22.0810146,27.6426926l-1.0502319,2.1862259l-2.1862221-1.0502319
					l1.0502262-2.1862259L22.0810146,27.6426926z				">
<title>CAB.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M14.2977085,38.2437134l5.5970783-11.6512527				">
<title>CA.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M44.1487885,38.2437134H14.2977085				">
<title>BC.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(322.132132066627,59.10993993521305)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="14.2977085,38.2437134 14.2977085,38.2437134 14.2977085,38.2437134 14.2977085,38.2437134 			">
			<title>C.shape</title>
			<desc>Circle representing C.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(269.6909692119074,594.2155709833523)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M19.8947868,26.5924606l24.2540016,11.6512527				">
<title>AB.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="44.1487885,38.2437134 44.1487885,38.2437134 44.1487885,38.2437134 44.1487885,38.2437134 			">
			<title>B.shape</title>
			<desc>Circle representing B.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(753.9323542247873,615.2159986293036)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="19.8947868,26.5924606 19.8947868,26.5924606 19.8947868,26.5924606 19.8947868,26.5924606 			">
			<title>A.shape</title>
			<desc>Circle representing A.shape</desc>
			</polygon>
		</g>
	</g>
	<g>
		<g transform="translate(0,0)">
			<rect x="60.9674034" y="0.0770462" width="57.8230362" height="71.9007874">
			<title>const.plane</title>
			</rect>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(575,175)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M74.9533844,38.3207588h29.8510818v29.851078H74.9533844V38.3207588z				">
<title>CBDE.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M104.8044662,38.3207588L80.5504608,26.6704235L92.200798,2.4164224
					l24.2539978,11.6503334L104.8044662,38.3207588z				">
<title>BAGF.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M80.5504608,26.6704235l-5.5970764,11.6503353l-11.6503372-5.5970802
					l5.5970764-11.6503334L80.5504608,26.6704235z				">
<title>ACIH.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M80.5504608,26.6704235l24.2540054,11.6503353H74.9533844
					L80.5504608,26.6704235z				">
<title>ABC.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M82.7367172,27.7205868l-1.050293,2.1861935l-2.1862564-1.0501595
					l1.050293-2.1861973L82.7367172,27.7205868z				">
<title>CAB.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M74.9533844,38.3207588l5.5970764-11.6503353				">
<title>CA.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M104.8044662,38.3207588H74.9533844				">
<title>BC.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(255.40987774957577,239.773995438844)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="63.3030472,32.7236786 63.3030472,32.7236786 63.3030472,32.7236786 63.3030472,32.7236786 			">
			<title>I.shape</title>
			<desc>Circle representing I.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(679.7562172106764,272.26899245952086)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="68.9001236,21.0733452 68.9001236,21.0733452 68.9001236,21.0733452 68.9001236,21.0733452 			">
			<title>H.shape</title>
			<desc>Circle representing H.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<polygon points="92.200798,2.4164224 92.200798,2.4164224 92.200798,2.4164224 92.200798,2.4164224 			">
			<title>G.shape</title>
			<desc>Circle representing G.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<polygon points="116.4547958,14.0667553 116.4547958,14.0667553 116.4547958,14.0667553 116.4547958,14.0667553 			">
			<title>F.shape</title>
			<desc>Circle representing F.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(578.86162175346,86.15553680168182)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="74.9533844,68.1718369 74.9533844,68.1718369 74.9533844,68.1718369 74.9533844,68.1718369 			">
			<title>E.shape</title>
			<desc>Circle representing E.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(750.7893347231164,258.64761377684437)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="104.8044662,68.1718369 104.8044662,68.1718369 104.8044662,68.1718369 104.8044662,68.1718369 			">
			<title>D.shape</title>
			<desc>Circle representing D.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<polygon points="74.9533844,38.3207588 74.9533844,38.3207588 74.9533844,38.3207588 74.9533844,38.3207588 			">
			<title>C.shape</title>
			<desc>Circle representing C.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<g pointer-events="bounding-box" transform="translate(269.69097651493723,594.2155535178019)">
				<g>
					<g transform="matrix(1 0 0 -1 0 0)">
					</g>
				</g>
			</g>
		</g>
		<g transform="translate(0,0)">
			<g>
				<path marker-start="" marker-end="" d="M80.5504608,26.6704235l24.2540054,11.6503353				">
<title>AB.shape</title>
				</path>
			</g>
		</g>
		<g transform="translate(0,0)">
			<polygon points="104.8044662,38.3207588 104.8044662,38.3207588 104.8044662,38.3207588 104.8044662,38.3207588 			">
			<title>B.shape</title>
			<desc>Circle representing B.shape</desc>
			</polygon>
		</g>
		<g transform="translate(0,0)">
			<polygon points="80.5504608,26.6704235 80.5504608,26.6704235 80.5504608,26.6704235 80.5504608,26.6704235 			">
			<title>A.shape</title>
			<desc>Circle representing A.shape</desc>
			</polygon>
		</g>
	</g>
	<g>
		
			<image style="overflow:visible;" width="251" height="312" id="OMp57P_1_" xlink:href="media/figures/21FA75BB055F7BD4.jpg" transform="matrix(0.2288833 0 0 0.2288833 182.550293 0.137592)">
		</image>
	</g>
</g>
</svg>


    </p>

  <p><i>Fig. 22.</i> Once a complex diagram has been built, it can be easily broken into pieces or stages by, <i>e.g.</i>, commenting out lines of <i>Substance</i> code.  Here we illustrate steps in Euclid&#39;s proof of the Pythagorean theorem, turning Byrne&#39;s static figure <i>(far right)</i> into a progressive &#34;comic strip.&#34;
    </p>
</div>

<div>
  

  <p><img src="https://penrose.ink/media/figures/mesh-figure.svg" alt="See caption below"/>
  </p>

  <p><i>Fig. 24.</i> A language-based specification makes it easy to visually inspect data structures or assemble progressive diagrams with only minor changes to program code.  Here we draw the simplicial <i>link</i> by building it up from simpler constituent operations. </p>
</div>

<div>
    <p><img src="https://penrose.ink/media/figures/GeometrySamples.png" alt="See caption below"/>
    </p>

  <p><i>Fig. 29.</i> Though the energy in the objective function can help guide a sampling strategy, choosing which diagram looks &#34;best&#34; to a given user is necessarily a subjective decision.  The ability to automatically generate many alternatives makes it easier to find a satisfactory diagram. Here we show a gallery of automatically-generated variants of <i>Fig. 1.</i></p>
</div>



<h2>More information</h2>

<ul>
<li><p><a href="https://twitter.com/hypotext/status/1268218080993386497">Twitter thread</a></p></li>

<li><p><a href="https://github.com/penrose/penrose">Code on GitHub</a></p></li>

<li><p><a href="https://penrose.ink/media/Penrose_SIGGRAPH2020_TalkSlides.pdf">Talk slides</a></p></li>

<li><p><a href="https://penrose.ink/media/Penrose_SIGGRAPH2020_Supplemental_LA_Listing.pdf">Linear algebra code listing</a></p></li>

<li><p><a href="https://penrose.ink/media/Penrose_SIGGRAPH2020_Supplemental_Grammars.pdf">Grammars for languages</a></p></li>

<li><p>Check out our CHI paper on <a href="https://www.cs.cmu.edu/~woden/assets/chi-20-natural-diagramming.pdf">natural diagramming</a>!</p></li>
</ul>

<h2>Press</h2>

<ul>
<li><p><a href="https://www.nature.com/articles/d41586-020-01689-8"><i>Nature</i></a></p></li>
<li><p><a href="https://www.popularmechanics.com/science/math/a32743509/cmu-penrose-math-equations-into-pictures/"><i>Popular Mechanics</i></a></p></li>
</ul>

<h2>Acknowledgments</h2>

<p>We thank Lily Shellhammer and Yumeng Du for their help. The first author was supported by a Microsoft Research PhD Fellowship and ARCS Foundation Fellowship while completing this work; the last author was supported by a Packard Fellowship.  This material is based upon work supported by the National Science Foundation under grants DMS-1439786 and CCF-1910264, the AFRL and DARPA under agreement FA8750-16-2-0042, and the Alfred P. Sloan Foundation under award G-2019-11406.</p>

<h2>How to cite</h2>

<p><b>ACM reference format</b></p>

<p>Katherine Ye, Wode Ni, Max Krieger, Dor Ma’ayan, Jenna Wise, Jonathan Aldrich, Joshua Sunshine, and Keenan Crane. 2020. Penrose: From Mathematical Notation to Beautiful Diagrams. <i>ACM Trans. Graph.</i> 39, 4, Article 144 (July 2020), 16 pages. https://doi.org/10.1145/3386569.3392375</p>

<p><b>BibTeX</b></p>

<p>
@article{Ye:2020:Penrose,
</p>
<div><p>
author = {Ye, Katherine and Ni, Wode and Krieger, Max and Ma&#39;ayan, Dor and Wise, Jenna and Aldrich, Jonathan and Sunshine, Jonathan and Crane, Keenan},</p></div>
<p>
}
</p>

<p><b>Project link</b></p>

<p>http://penrose.ink/siggraph20</p>

</div> <!-- inner-body -->

<!-- <div id="bottom"></div> -->


</div></div>
  </body>
</html>
