<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/remorses/docker-phobia">Original</a>
    <h1>Show HN: Docker-phobia: Analyze Docker image size with a treemap</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">

<p dir="auto">You can install docker-phobia with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -sf https://goblin.run/github.com/remorses/docker-phobia | sh
# goblin.run will build the binary and place it in PATH
# if you have go installed you can also do
go install github.com/remorses/docker-phobia"><pre>curl -sf https://goblin.run/github.com/remorses/docker-phobia <span>|</span> sh
<span><span>#</span> goblin.run will build the binary and place it in PATH</span>
<span><span>#</span> if you have go installed you can also do</span>
go install github.com/remorses/docker-phobia</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="docker-phobia
# Use the arrow keys to navigate: ↓ ↑ → ←
# ? Select a Docker image:
#   ▸ node:18-slim
#     postgres:latest

# or pass the image tag as an argument
docker-phobia node:18-slim"><pre>docker-phobia
<span><span>#</span> Use the arrow keys to navigate: ↓ ↑ → ←</span>
<span><span>#</span> ? Select a Docker image:</span>
<span><span>#</span>   ▸ node:18-slim</span>
<span><span>#</span>     postgres:latest</span>

<span><span>#</span> or pass the image tag as an argument</span>
docker-phobia node:18-slim</pre></div>

<p dir="auto">Every rectangle represents a folder or file in the image. The bigger the rectangle, the more space it takes up.</p>
<p dir="auto">The different colors represent the different layers in the image. If two rectangles have the same color, they are in the same layer. If the color shade is similar, they are from layers close to each other.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/remorses/docker-phobia/blob/main/website/public/example-docker-phobia.png"><img src="https://github.com/remorses/docker-phobia/raw/main/website/public/example-docker-phobia.png" alt="example treemap"/></a></p>

<p dir="auto">Execute docker-phobia to initiate a Go script that leverages <a href="https://github.com/wagoodman/dive">dive</a> internal API for Docker image retrieval and analysis, outputting a JSON file structure with file sizes. Concurrently, it spins up a server on port 8080 and launches docker-phobia.vercel.app, which visualizes the JSON data as a treemap.</p>
</article></div></div>
  </body>
</html>
