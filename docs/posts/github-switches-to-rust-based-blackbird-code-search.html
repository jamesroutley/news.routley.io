<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2023/05/09/blackbird_github_search/">Original</a>
    <h1>GitHub switches to Rust based Blackbird code search</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p>GitHub&#39;s reworked Rust-based code search engine entered general availability on Monday, promising faster, more comprehensive explorations of software repositories.</p>
<p>The revision, dubbed Blackbird internally, has been three years in the making, and is part of the corporation&#39;s enduring effort to make text-based search techniques more effective on queries of computer code.</p>
<p>&#34;Our goal with the new code search and code view is to enable developers to quickly search, navigate and understand their code, put critical information into context, and ultimately make them more productive,&#34; said Colin Merkel, a GitHub software engineer, in an <a target="_blank" rel="nofollow" href="https://github.blog/2023-05-08-github-code-search-is-generally-available/">announcement</a>.</p>

    

<p>Founded in 2008, GitHub initially used Apache Solr to handle its code search. Then, after Solr was folded into Lucene, the collaborative code biz built a new search service <a target="_blank" rel="nofollow" href="https://github.blog/2013-01-23-a-whole-new-code-search/">using Elasticsearch</a> in 2013. <a target="_blank" rel="nofollow" href="https://github.blog/2013-02-04-recent-code-search-outages/">Outages followed</a> and by 2020 – two years after Microsoft acquired the company – work on Blackbird commenced.</p>

        


        

<p>The goals for the project were: to index all source code on GitHub; to support incremental indexing and document deletion, and to provide fast exact-match and regex queries (&lt; 1 second for 95 percent of users on global queries, and faster still for more narrowly scoped queries); to integrate without GitHub code info; and to do so without expanding resource demands on GitHub&#39;s existing Elasticsearch cluster.</p>
<ul>

<li><a href="https://www.theregister.com/2023/04/19/github_actions_npm_origins/">GitHub debuts pedigree check for npm packages via Actions</a></li>

<li><a href="https://www.theregister.com/2023/04/13/google_api_security/">Worried about the security of your code&#39;s dependencies? Try Google&#39;s Deps.dev</a></li>

<li><a href="https://www.theregister.com/2023/04/07/thanksdev_open_source_funding/">Is it time to tip open source developers? Here&#39;s one way to do it</a></li>

<li><a href="https://www.theregister.com/2023/03/24/github_changes_its_ssh_host/">GitHub publishes RSA SSH host keys by mistake, issues update</a></li>
</ul>
<p>An off-the-shelf tool capable of the above did not exist, so GitHub committed to Blackbird, written in Rust, <a target="_blank" href="https://www.theregister.com/2023/02/07/github_code_search/">as the biz discussed</a> in February. The resulting system can manage about 640 queries per second, compared to about 0.01 queries per second for <a target="_blank" rel="nofollow" href="https://github.com/BurntSushi/ripgrep">ripgrep</a>, thanks to precomputed search indices that map numeric keys to values and other architectural improvements. And it can index at a rate of roughly 120,000 documents per second.</p>
<p>&#34;It is incredibly fast (about twice as fast as the old code search), far more capable (supporting substring queries, regular expressions, and symbol search), and understands code, putting the most relevant results first,&#34; explained Merkel.</p>
<p>Beyond the <a target="_blank" rel="nofollow" href="https://github.blog/2023-02-06-the-technology-behind-githubs-new-code-search/">technical fiddling</a> necessary to index and query 45 million repositories (which excludes many redundant forks), GitHub&#39;s new <a target="_blank" rel="nofollow" href="https://docs.github.com/en/search-github">code search</a> engine has been framed with search interface improvements that show suggestions and competitions, and with a redesigned code view that brings search, browsing, and code navigation together.</p>

        

<p>The result finds specific text across repos works rather well. Take trying to locate values associated with the &#34;memory&#34; key in YAML configuration files for a Kubernetes cluster. GitHub code search makes it easy to focus only on YAML files.</p>
<p>That kind of precise filtering is also useful when trying to identify which particular part of an application produced a specific error message.</p>
<p>Merkel says that GitHub&#39;s goal with the new code search and code view is to help developers find important information scattered across their codebase, to contextualize that information, and to make developers more productive. ®</p>                                
                    </div></div>
  </body>
</html>
