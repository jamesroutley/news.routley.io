<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://danq.me/2023/01/11/nocode/">Original</a>
    <h1>The Page with No Code</h1>
    
    <div id="readability-page-1" class="page"><article id="post-20974">
  <!-- .entry-header -->

  
          
  <div>
    <p>It all started when I saw <a href="https://no-ht.ml/">no-ht.ml</a>, <a href="https://shkspr.mobi/">Terence Eden</a>‘s hilarious response to <a href="https://whitep4nth3r.com/">Salma Alam-Naylor</a>‘s excellent <a href="https://whitep4nth3r.com/blog/html-is-all-you-need-to-make-a-website/"><em>HTML is all you need to make a website</em></a>. The latter is an argument against both the silly amount of JavaScript with which websites routinely burden their users, but also even against depending on <abbr title="Cascading Style Sheets">CSS</abbr>. As a fan of <a href="https://css-naked-day.github.io/"><abbr title="Cascading Style Sheets">CSS</abbr> Naked Day</a> and a firm believer in using <abbr title="JavaScript">JS</abbr> only for progressive enhancement, I’m obviously in favour.</p>
<figure id="attachment_20975" aria-describedby="caption-attachment-20975"><a href="https://no-ht.ml/"><img decoding="async" src="https://danq.me/wp-content/uploads/2023/01/xyou-dont-need-html-screenshot-30x21.png.pagespeed.ic.GCyA5cR97X.jpg" data-lazy-type="image" data-lazy-src="https://danq.me/wp-content/uploads/2023/01/you-dont-need-html-screenshot-1024x701.png" alt="Screenshot showing Terence Eden&#39;s no-ht.ml website, which uses plain text ASCII/Unicode art to argue that you don&#39;t need HTML." width="640" height="438" data-lazy-srcset="https://danq.me/wp-content/uploads/2023/01/you-dont-need-html-screenshot-1024x701.png 1024w, https://danq.me/wp-content/uploads/2023/01/you-dont-need-html-screenshot-300x205.png 300w, https://danq.me/wp-content/uploads/2023/01/you-dont-need-html-screenshot-768x526.png 768w, https://danq.me/wp-content/uploads/2023/01/you-dont-need-html-screenshot-30x21.png 30w, https://danq.me/wp-content/uploads/2023/01/you-dont-need-html-screenshot-898x615.png 898w, https://danq.me/wp-content/uploads/2023/01/you-dont-need-html-screenshot.png 1050w" data-lazy-sizes="(max-width: 640px) 100vw, 640px"/></a><figcaption id="caption-attachment-20975">Obviously no-ht.ml is to be taken as tongue-in-cheek, but as you’re about to see: it caught <em>my</em> interest and got me thinking: how could I go <em>even further</em>.</figcaption></figure>
<p>Terence’s site works by delivering a document with a claimed <abbr title="Multipurpose Internet Mail Extensions">MIME</abbr> type of <code><span aria-labelledby="value"><span>text/html</span></span></code>, but which contains only the (invalid) “<abbr title="Hypertext Markup Language">HTML</abbr>” code <code>&lt;!doctype UNICODE&gt;&lt;meta charset=&#34;UTF-8&#34;&gt;&lt;plaintext&gt;</code> (to work around browsers’ wish to treat the page as <abbr title="Hypertext Markup Language">HTML</abbr>). This is followed by a block of <abbr title="Unicode Transformation Format (8-bit)">UTF-8</abbr> plain text making use of spacing and emoji to illustrate and decorate the content. It’s frankly very silly, and I love it.<sup><a name="footnote-ref-20974-1" href="#footnote-20974-1" title="My first reaction was “why not just deliver something with Content-Type: text/plain; charset=utf-8 and dispense with the invalid code, but perhaps that’s just me overthinking the non-existent problem.">1</a></sup></p>
<p>I think it’s possible to go one step further, though, and create a web page with <em>no code whatsoever</em>. That is, one that you can read as if it were a regular web page, but where using View Source or e.g. downloading the page with <code>curl</code> will show you… nothing.</p>
<p>I present: <a href="https://danq.me/wp-content/no-code-webpage/"><strong><em>The Page With No Code</em></strong></a>! (It’ll probably only work if you’re using <a href="https://www.mozilla.org/firefox">Firefox</a>, for reasons that will become apparent later.)</p>
<figure id="attachment_20976" aria-describedby="caption-attachment-20976"><a href="https://danq.me/wp-content/no-code-webpage/"><img decoding="async" loading="lazy" src="https://danq.me/wp-content/uploads/2023/01/xthe-page-with-no-code-screenshot-30x17.png.pagespeed.ic.dHKbotqU3_.jpg" data-lazy-type="image" data-lazy-src="https://danq.me/wp-content/uploads/2023/01/the-page-with-no-code-screenshot.png" alt="Screenshot showing my webpage, &#34;The Page With No Code&#34;. Using white text (and some emojis) on a blue gradient background, it describes the same thought process as I describe in this blog post, and invites the reader to &#34;View Source&#34; and see that the page genuinely does appear to have no code." width="1024" height="576" data-lazy-srcset="https://danq.me/wp-content/uploads/2023/01/the-page-with-no-code-screenshot.png 1024w, https://danq.me/wp-content/uploads/2023/01/the-page-with-no-code-screenshot-300x169.png 300w, https://danq.me/wp-content/uploads/2023/01/the-page-with-no-code-screenshot-768x432.png 768w, https://danq.me/wp-content/uploads/2023/01/the-page-with-no-code-screenshot-30x17.png 30w, https://danq.me/wp-content/uploads/2023/01/the-page-with-no-code-screenshot-898x505.png 898w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px"/></a><figcaption id="caption-attachment-20976">I’d encourage you to visit <em>The Page With No Code</em>, use View Source to confirm for yourself that it truly has no code, and see if you can work out for yourself how it manages this feat… before coming back here for an explanation. Again: probably Firefox-only.</figcaption></figure>
<p>Once you’ve had a look for yourself and had a chance to form an opinion, here’s an explanation the black magic that makes this atrocity possible:</p>
<ol>
<li>The page is blank. It’s delivered with <code>Content-Type: text/html</code>. Your browser interprets a completely-blank page as faulty and corrects it to a functionally-blank minimal HTML page: <code>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;</code>.</li>
<li><code>&lt;body&gt;</code> and <code>&lt;html&gt;</code> elements can be styled with <abbr title="Cascading Style Sheets">CSS</abbr>; this includes the ability to add <a title="MDN Web Docs: CSS &#39;content&#39; property" href="https://developer.mozilla.org/en-US/docs/Web/CSS/content">content:</a> <code>::before</code> and <code>::after</code> each element. If only we could load a stylesheet then content injection is possible.</li>
<li>We use <a title="My blog post: The Fourth Way to Inject CSS" href="https://danq.me/2020/12/21/http-link-css-injection/">the fourth way to inject <abbr title="Cascading Style Sheets">CSS</abbr></a> – a <code>Link:</code> <abbr title="Hypertext Transfer Protocol">HTTP</abbr> header – to deliver a <abbr title="Cascading Style Sheets">CSS</abbr> payload (this, unfortunately, only works in Firefox). To further obfuscate what’s happening and remove the need for a round-trip, this is encoded as a data: <abbr title="Uniform Resource Indicator">URI</abbr>.</li>
</ol>
<figure id="attachment_20978" aria-describedby="caption-attachment-20978"><img decoding="async" loading="lazy" src="https://danq.me/wp-content/uploads/2023/01/xno-code-webpage-css-injection-header-30x30.png.pagespeed.ic.AmpFtXtXST.jpg" data-lazy-type="image" data-lazy-src="https://danq.me/wp-content/uploads/2023/01/no-code-webpage-css-injection-header.png" alt="Screenshot showing HTTP headers returned from a request to the No Code Webpage. A Link: header is highlighted, it contains a data: URL with a base64-encoded CSS stylesheet." width="541" height="548" data-lazy-srcset="https://danq.me/wp-content/uploads/2023/01/no-code-webpage-css-injection-header.png 541w, https://danq.me/wp-content/uploads/2023/01/no-code-webpage-css-injection-header-296x300.png 296w, https://danq.me/wp-content/uploads/2023/01/no-code-webpage-css-injection-header-30x30.png 30w" data-lazy-sizes="(max-width: 541px) 100vw, 541px"/><figcaption id="caption-attachment-20978">The stylesheet – and all the page content – is right there in the Link: header if you just care to decode it! Observe that while 5.84<abbr title="kilobytes">kB</abbr> of data are transferred, the browser rightly states that the page is zero bytes in size.</figcaption></figure>
<p>This is one of the most disgusting things I’ve ever coded, and that’s saying a lot. I’m so proud of myself. You can <a title="Github Gist showing how The Page With No Code was generated" href="https://gist.github.com/Dan-Q/fc308a8a4aca2934312939f92eaa9d2e">view the code I used to generate this awful thing on Github</a>.</p>

      </div><!-- .entry-content -->

  <!-- .entry-footer -->
</article></div>
  </body>
</html>
