<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://johnwickerson.wordpress.com/2024/12/04/the-hoare-cube/">Original</a>
    <h1>The Hoare Cube</h1>
    
    <div id="readability-page-1" class="page"><div>
		
<p>I wrote <a href="https://johnwickerson.wordpress.com/2024/02/15/what-is-the-other-incorrectness-logic/">earlier this year</a> about my attempt to understand the repercussions of toggling <img src="https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\subseteq"/> and <img src="https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\supseteq"/> when giving a semantics to Hoare triples. In response to that post, <a href="https://x.com/ymherklotz/status/1758438950438306265">Yann Herklotz helpfully pointed me</a> to Patrick Cousot’s POPL 2024 paper [10], which does all this and a lot more besides. In particular, Cousot’s paper includes the following diagram…</p>



<figure><a href="https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png"><img data-attachment-id="2577" data-permalink="https://johnwickerson.wordpress.com/2024/12/04/the-hoare-cube/screenshot-2024-11-28-at-22-23-11/" data-orig-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png" data-orig-size="1546,1322" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot 2024-11-28 at 22.23.11" data-image-description="" data-image-caption="" data-medium-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png?w=300" data-large-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png?w=739" loading="lazy" width="1024" height="875" src="https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png?w=1024" alt="" srcset="https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png?w=1024 1024w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png?w=150 150w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png?w=300 300w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png?w=768 768w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/11/screenshot-2024-11-28-at-22.23.11.png 1546w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>…which shows how to obtain <em>dozens</em> of program logics just by toggling a handful of switches in the semantics.</p>



<p>However, that diagram is completely terrifying, and (just between you and me) I can’t get my head around much of the rest of Cousot’s paper. So, this blog post is my attempt to end up with a similar diagram to Cousot’s one, but while trying to keep things as simple as possible.</p>



<hr/>



<p>Let us assume that we have a set of states, and that a command is simply a binary relation on states. We shall write <img src="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="(\sigma, \sigma&#39;) \in c"/> to mean that if command <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> is started in state <img src="https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\sigma"/> it can produce final state <img src="https://s0.wp.com/latex.php?latex=%5Csigma%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csigma%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csigma%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\sigma&#39;"/>. Our commands need not always terminate: if there is no <img src="https://s0.wp.com/latex.php?latex=%5Csigma%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csigma%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csigma%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\sigma&#39;"/> such that <img src="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="(\sigma, \sigma&#39;) \in c"/>, then that means <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> does not terminate when started in state <img src="https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\sigma"/>. Also, our commands can be non-deterministic: if <img src="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="(\sigma, \sigma&#39;) \in c"/> and <img src="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Csigma%27%27%29+%5Cin+c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="(\sigma, \sigma&#39;&#39;) \in c"/> with <img src="https://s0.wp.com/latex.php?latex=%5Csigma%27+%5Cneq+%5Csigma%27%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csigma%27+%5Cneq+%5Csigma%27%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csigma%27+%5Cneq+%5Csigma%27%27&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\sigma&#39; \neq \sigma&#39;&#39;"/>, then that means <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> behaves non-deterministically when started in state <img src="https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csigma&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\sigma"/>. </p>



<p>The original “partial correctness” interpretation [1] of the Hoare triple <img src="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{P\}\,c\,\{Q\}"/> is that whenever <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> is started in a state satisfying the assertion <img src="https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="P"/> (an assertion is just a set of states), any final state it reaches must satisfy the assertion <img src="https://s0.wp.com/latex.php?latex=Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="Q"/>. That is…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Cforall+%5Csigma%2C+%5Csigma%27%5Cldotp+%5Csigma+%5Cin+P+%5Cwedge+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Clongrightarrow+%5Csigma%27+%5Cin+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Cforall+%5Csigma%2C+%5Csigma%27%5Cldotp+%5Csigma+%5Cin+P+%5Cwedge+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Clongrightarrow+%5Csigma%27+%5Cin+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Cforall+%5Csigma%2C+%5Csigma%27%5Cldotp+%5Csigma+%5Cin+P+%5Cwedge+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Clongrightarrow+%5Csigma%27+%5Cin+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\forall \sigma, \sigma&#39;\ldotp \sigma \in P \wedge (\sigma,\sigma&#39;) \in c \longrightarrow \sigma&#39; \in Q"/>.</p>



<p>Let us define a helper function: the “strongest postcondition”. We shall write <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P,c)"/> for the set of all states that command <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> can reach if it starts executing in a <img src="https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="P"/> state…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2C+c%29+%3D+%5C%7B%5Csigma%27%5Cldotp+%5Cexists%5Csigma%5Cldotp+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Cwedge+%5Csigma+%5Cin+P%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2C+c%29+%3D+%5C%7B%5Csigma%27%5Cldotp+%5Cexists%5Csigma%5Cldotp+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Cwedge+%5Csigma+%5Cin+P%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2C+c%29+%3D+%5C%7B%5Csigma%27%5Cldotp+%5Cexists%5Csigma%5Cldotp+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Cwedge+%5Csigma+%5Cin+P%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P, c) = \{\sigma&#39;\ldotp \exists\sigma\ldotp (\sigma,\sigma&#39;) \in c \wedge \sigma \in P\}"/>.</p>



<p>We can use <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}"/> to give a semantics to Hoare triples in a variety of different ways. For instance, the partial correctness interpretation given above can be rewritten as…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P,c) \subseteq Q"/>.</p>



<p>Flipping the <img src="https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\subseteq"/> into a <img src="https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\supseteq"/> to get Incorrectness logic…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csupseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csupseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csupseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P,c) \supseteq Q"/></p>



<p>…is what led O’Hearn to remark that “program correctness and incorrectness are two sides of the same coin”. But there are other components that can be “flipped” too. I think there are three “dimensions” in total:</p>







<p>(NB: Cousot seems to identify four dimensions in his diagram above, but I haven’t understood what his fourth one is.)</p>



<p>The eight options, then, are as follows:</p>



<figure><table><tbody><tr><td><strong>Name(s)</strong></td><td><strong>Meaning of <img src="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{P\}\,c\,\{Q\}"/></strong></td><td><strong>Reach</strong></td></tr><tr><td>Partial correctness [1]</td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P,c) \subseteq Q"/></td><td>may</td></tr><tr><td>Reverse Hoare logic [5],</td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csupseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csupseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csupseteq+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P,c) \supseteq Q"/></td><td>may</td></tr><tr><td>Necessary preconditions (as formulated in [4])</td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(Q,c^{-1}) \subseteq P"/></td><td>may</td></tr><tr><td>Backward under-approximate Hoare triple [2],</td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28Q%2Cc%5E%7B-1%7D%29+%5Csupseteq+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28Q%2Cc%5E%7B-1%7D%29+%5Csupseteq+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28Q%2Cc%5E%7B-1%7D%29+%5Csupseteq+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(Q,c^{-1}) \supseteq P"/></td><td>may</td></tr><tr><td>Necessary preconditions (as originally formulated in [7])</td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csubseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csubseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csubseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(\neg P,c) \subseteq \neg Q"/></td><td>must</td></tr><tr><td></td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csupseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csupseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csupseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(\neg P,c) \supseteq \neg Q"/></td><td>must</td></tr><tr><td>Partial correctness (alternative formulation)</td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(\neg Q,c^{-1}) \subseteq \neg P"/></td><td>must</td></tr><tr><td></td><td><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csupseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csupseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csupseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(\neg Q,c^{-1}) \supseteq \neg P"/></td><td>must</td></tr></tbody></table></figure>



<p>Note that partial correctness can also be rewritten into the more familiar <img src="https://s0.wp.com/latex.php?latex=P+%5Csubseteq+%5Ctext%7Bwlp%7D%28c%2C+Q%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=P+%5Csubseteq+%5Ctext%7Bwlp%7D%28c%2C+Q%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=P+%5Csubseteq+%5Ctext%7Bwlp%7D%28c%2C+Q%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="P \subseteq \text{wlp}(c, Q)"/> if we define <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{wlp}"/> as the “weakest liberal precondition” in the usual way…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D%28c%2CQ%29+%3D+%5C%7B%5Csigma%5Cldotp+%5Cforall%5Csigma%27%5Cldotp+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Clongrightarrow+%5Csigma%27+%5Cin+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D%28c%2CQ%29+%3D+%5C%7B%5Csigma%5Cldotp+%5Cforall%5Csigma%27%5Cldotp+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Clongrightarrow+%5Csigma%27+%5Cin+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D%28c%2CQ%29+%3D+%5C%7B%5Csigma%5Cldotp+%5Cforall%5Csigma%27%5Cldotp+%28%5Csigma%2C%5Csigma%27%29+%5Cin+c+%5Clongrightarrow+%5Csigma%27+%5Cin+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{wlp}(c,Q) = \{\sigma\ldotp \forall\sigma&#39;\ldotp (\sigma,\sigma&#39;) \in c \longrightarrow \sigma&#39; \in Q\}"/></p>



<p>…but I quite like how “systematic” the table above is: it distinguishes <strong>may</strong> from <strong>must</strong> by negating the pre and postconditions; it distinguishes <strong>forward</strong> from <strong>backward</strong> by using <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> or <img src="https://s0.wp.com/latex.php?latex=c%5E%7B-1%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c%5E%7B-1%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c%5E%7B-1%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c^{-1}"/>; and it distinguishes <strong>over</strong> from <strong>under</strong> approximate by using <img src="https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csubseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\subseteq"/> or <img src="https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Csupseteq&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\supseteq"/>.</p>



<p>Note also that I’ve labelled <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csubseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csubseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28%5Cneg+P%2Cc%29+%5Csubseteq+%5Cneg+Q&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(\neg P,c) \subseteq \neg Q"/> as the “original” formulation of necessary preconditions, as it captures the two negatives in Cousot et al.’s definition quite nicely: “under which precondition, if <strong>violated</strong>, will the program always be <strong>incorrect</strong>?” [7, my emphasis].</p>



<hr/>



<p>We can assemble all eight options in the table into a cube — a “Hoare cube”, if you will.</p>



<figure><a href="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png"><img data-attachment-id="2649" data-permalink="https://johnwickerson.wordpress.com/2024/12/04/the-hoare-cube/screenshot-2024-12-04-at-15-03-12/" data-orig-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png" data-orig-size="1710,1234" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot 2024-12-04 at 15.03.12" data-image-description="" data-image-caption="" data-medium-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png?w=300" data-large-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png?w=739" loading="lazy" width="1024" height="738" src="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png?w=1024" alt="" srcset="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png?w=1024 1024w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png?w=150 150w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png?w=300 300w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png?w=768 768w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-15.03.12.png 1710w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>In the cube, I’ve drawn <strong>solid lines</strong> between vertices that represent <em>equal</em> semantics. For instance, <code>may+forward+over</code> is equal to <code>must+backward+over</code> because…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7Bsp%7D%28%5Cneg+Q%2Cc%5E%7B-1%7D%29+%5Csubseteq+%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P,c) \subseteq Q \quad\Longleftrightarrow\quad \text{sp}(\neg Q,c^{-1}) \subseteq \neg P"/>.</p>



<p>Sometimes these equalities can be phrased as Galois connections. For instance…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q+%5Cquad%5CLongleftrightarrow%5Cquad+P+%5Csubseteq+%5Ctext%7Bwlp%7D%28c%2C+Q%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q+%5Cquad%5CLongleftrightarrow%5Cquad+P+%5Csubseteq+%5Ctext%7Bwlp%7D%28c%2C+Q%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28P%2Cc%29+%5Csubseteq+Q+%5Cquad%5CLongleftrightarrow%5Cquad+P+%5Csubseteq+%5Ctext%7Bwlp%7D%28c%2C+Q%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(P,c) \subseteq Q \quad\Longleftrightarrow\quad P \subseteq \text{wlp}(c, Q)"/> </p>



<p>…signifies a Galois connection between <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28-%2Cc%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28-%2Cc%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bsp%7D%28-%2Cc%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{sp}(-,c)"/> and <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D%28c%2C+-%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D%28c%2C+-%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7Bwlp%7D%28c%2C+-%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{wlp}(c, -)"/>.</p>



<p>I’ve also drawn <strong>dashed lines</strong> between vertices that represent <em>equivalent</em> semantics. By “equivalent” here, I mean that there exists a bijection <img src="https://s0.wp.com/latex.php?latex=f&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f"/> between triples such that the triple <img src="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{P\}\,c\,\{Q\}"/> holds according to one semantics if and only if the triple <img src="https://s0.wp.com/latex.php?latex=f%28%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f%28%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f%28%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f(\{P\}\,c\,\{Q\})"/> holds according to the other semantics. What this means is that one strategy for proving <img src="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{P\}\,c\,\{Q\}"/> under one semantics is to prove <img src="https://s0.wp.com/latex.php?latex=f%28%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f%28%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f%28%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f(\{P\}\,c\,\{Q\})"/> under the other semantics.</p>



<p>For instance, <code>may+backward+over</code> (necessary preconditions, <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BNC%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7BNC%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7BNC%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{NC}"/>) is equivalent to <code>may+forward+over</code> (partial correctness, <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BPC%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7BPC%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7BPC%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{PC}"/>) because…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BNC%7D+%5Cmodels+%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7BPC%7D+%5Cmodels+%5C%7B%5Cneg+P%5C%7D%5C%2Cc%5C%2C%5C%7B%5Cneg+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7BNC%7D+%5Cmodels+%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7BPC%7D+%5Cmodels+%5C%7B%5Cneg+P%5C%7D%5C%2Cc%5C%2C%5C%7B%5Cneg+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7BNC%7D+%5Cmodels+%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7BPC%7D+%5Cmodels+%5C%7B%5Cneg+P%5C%7D%5C%2Cc%5C%2C%5C%7B%5Cneg+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{NC} \models \{P\}\,c\,\{Q\} \quad\Longleftrightarrow\quad \text{PC} \models \{\neg P\}\,c\,\{\neg Q\}"/></p>



<p>…as Ascari et al. have observed [4, Proposition 5.4]. Here we use the bijection <img src="https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f_1"/> that maps <img src="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{P\}\,c\,\{Q\}"/> to <img src="https://s0.wp.com/latex.php?latex=%5C%7B%5Cneg+P%5C%7D%5C%2Cc%5C%2C%5C%7B%5Cneg+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7B%5Cneg+P%5C%7D%5C%2Cc%5C%2C%5C%7B%5Cneg+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7B%5Cneg+P%5C%7D%5C%2Cc%5C%2C%5C%7B%5Cneg+Q%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{\neg P\}\,c\,\{\neg Q\}"/>.</p>



<p>For another instance, <code>may+forward+under</code> (incorrectness logic, <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BIL%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7BIL%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7BIL%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{IL}"/>) is equivalent to <code>may+backward+under</code> (sufficient incorrectness logic, <img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BSIL%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7BSIL%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7BSIL%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{SIL}"/>) because, using another bijection <img src="https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f_2"/> that maps <img src="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{P\}\,c\,\{Q\}"/> to <img src="https://s0.wp.com/latex.php?latex=%5C%7BQ%5C%7D%5C%2Cc%5E%7B-1%7D%5C%2C%5C%7BP%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5C%7BQ%5C%7D%5C%2Cc%5E%7B-1%7D%5C%2C%5C%7BP%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5C%7BQ%5C%7D%5C%2Cc%5E%7B-1%7D%5C%2C%5C%7BP%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\{Q\}\,c^{-1}\,\{P\}"/>, we have…</p>



<p><img src="https://s0.wp.com/latex.php?latex=%5Ctext%7BIL%7D+%5Cmodels+%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7BSIL%7D+%5Cmodels+%5C%7BQ%5C%7D%5C%2Cc%5E%7B-1%7D%5C%2C%5C%7BP%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Ctext%7BIL%7D+%5Cmodels+%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7BSIL%7D+%5Cmodels+%5C%7BQ%5C%7D%5C%2Cc%5E%7B-1%7D%5C%2C%5C%7BP%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Ctext%7BIL%7D+%5Cmodels+%5C%7BP%5C%7D%5C%2Cc%5C%2C%5C%7BQ%5C%7D+%5Cquad%5CLongleftrightarrow%5Cquad+%5Ctext%7BSIL%7D+%5Cmodels+%5C%7BQ%5C%7D%5C%2Cc%5E%7B-1%7D%5C%2C%5C%7BP%5C%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\text{IL} \models \{P\}\,c\,\{Q\} \quad\Longleftrightarrow\quad \text{SIL} \models \{Q\}\,c^{-1}\,\{P\}"/>.</p>



<p>For this reason, I’ve deemed all of the <code>over</code> nodes equivalent (and coloured them green) and all of the <code>under</code> nodes equivalent (and coloured them blue). </p>



<p>But is it a bit of a stretch to consider all those same-coloured nodes “equivalent”? I mean, if the point of these bijections is to suggest how a proof in one logic can be transformed into a proof in another logic, then are these transformations reasonable? The bijection <img src="https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f_2"/>, for instance, requires the ability to invert an arbitrary command (turning <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> into <img src="https://s0.wp.com/latex.php?latex=c%5E%7B-1%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c%5E%7B-1%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c%5E%7B-1%7D&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c^{-1}"/>). That’s straightforward enough for simple programs, thanks to properties like <img src="https://s0.wp.com/latex.php?latex=%28c%3B+d%29%5E%7B-1%7D+%3D+%28d%5E%7B-1%7D+%3B+c%5E%7B-1%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%28c%3B+d%29%5E%7B-1%7D+%3D+%28d%5E%7B-1%7D+%3B+c%5E%7B-1%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%28c%3B+d%29%5E%7B-1%7D+%3D+%28d%5E%7B-1%7D+%3B+c%5E%7B-1%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="(c; d)^{-1} = (d^{-1} ; c^{-1})"/> and <img src="https://s0.wp.com/latex.php?latex=%28c+%2B+d%29%5E%7B-1%7D+%3D+%28c%5E%7B-1%7D+%2B+d%5E%7B-1%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%28c+%2B+d%29%5E%7B-1%7D+%3D+%28c%5E%7B-1%7D+%2B+d%5E%7B-1%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%28c+%2B+d%29%5E%7B-1%7D+%3D+%28c%5E%7B-1%7D+%2B+d%5E%7B-1%7D%29&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="(c + d)^{-1} = (c^{-1} + d^{-1})"/> and <img src="https://s0.wp.com/latex.php?latex=%28c%5E%2A%29%5E%7B-1%7D+%3D+%28c%5E%7B-1%7D%29%5E%2A&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%28c%5E%2A%29%5E%7B-1%7D+%3D+%28c%5E%7B-1%7D%29%5E%2A&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%28c%5E%2A%29%5E%7B-1%7D+%3D+%28c%5E%7B-1%7D%29%5E%2A&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="(c^*)^{-1} = (c^{-1})^*"/>, but it could become infeasible in more complicated settings. Likewise, the bijection <img src="https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f_1"/> requires the ability to negate an arbitrary assertion (turning <img src="https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="P"/> into <img src="https://s0.wp.com/latex.php?latex=%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=%5Cneg+P&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="\neg P"/>), which is fine in ordinary predicate logic but doesn’t work very nicely in a substructural logic like separation logic.</p>



<p>Still, it does give a pretty handy way to generate proof rules for one logic from the proof rules for another logic. For instance, Ascari et al. [4] present this proof rule from incorrectness logic…</p>



<figure><a href="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png"><img data-attachment-id="2613" data-permalink="https://johnwickerson.wordpress.com/2024/12/04/the-hoare-cube/screenshot-2024-12-04-at-12-30-21/" data-orig-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png" data-orig-size="808,256" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot 2024-12-04 at 12.30.21" data-image-description="" data-image-caption="" data-medium-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png?w=300" data-large-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png?w=739" loading="lazy" width="808" height="256" src="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png?w=808" alt="" srcset="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png 808w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png?w=150 150w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png?w=300 300w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.30.21.png?w=768 768w" sizes="(max-width: 808px) 100vw, 808px"/></a></figure>



<p>…and if we apply our bijection <img src="https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f_2&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f_2"/> to all the triples in this rule, then we obtain “for free” the corresponding proof rule from their sufficient incorrectness logic…</p>



<figure><a href="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png"><img data-attachment-id="2615" data-permalink="https://johnwickerson.wordpress.com/2024/12/04/the-hoare-cube/screenshot-2024-12-04-at-12-32-43/" data-orig-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png" data-orig-size="860,248" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot 2024-12-04 at 12.32.43" data-image-description="" data-image-caption="" data-medium-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png?w=300" data-large-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png?w=739" loading="lazy" width="860" height="248" src="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png?w=860" alt="" srcset="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png 860w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png?w=150 150w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png?w=300 300w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-12.32.43.png?w=768 768w" sizes="(max-width: 860px) 100vw, 860px"/></a></figure>



<p>…without having to prove anything about its soundness.</p>



<p>To conclude: perhaps program correctness and incorrectness are not simply two sides of the same coin, but two opposite faces of the same cube!</p>



<h2>Related work</h2>



<p>Möller et al. [2, Section 5] define and briefly study “backward under-approximate Hoare triples”. Zilberstein et al. [3] refer to those triples also as “Lisbon triples”. Ascari et al. [4] define sufficient incorrectness logic as a proof system for those “backward under-approximate Hoare triples”, and I’m grateful to Ike Mulder who referred me to Ascari et al.’s paper in a <a href="https://johnwickerson.wordpress.com/2024/02/15/what-is-the-other-incorrectness-logic/#comment-15791">comment</a> on my earlier blog post.</p>



<p>Zilberstein et al. [3] defines and studies “Outcome logic”, but I haven’t included it in my “cube” because I don’t think it quite fits with the other logics – its postconditions are not simply “sets of states”, but have a more complicated monoidal structure. I also haven’t included “Exact separation logic” [11], which unifies over-approximate and under-approximate reasoning in the context of separation logic.</p>



<p>Zhang and Benjamin Kaminsky [8, Section 6.3] also studied the eight options in my table above, similarly obtained by toggling three binary switches (albeit with slightly different names), and I’m grateful to Benjamin for pointing me to his work in a <a href="https://johnwickerson.wordpress.com/2024/02/15/what-is-the-other-incorrectness-logic/#comment-15792">comment</a> on my earlier blog post. I’ve reproduced their table here:</p>



<figure><a href="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png"><img data-attachment-id="2627" data-permalink="https://johnwickerson.wordpress.com/2024/12/04/the-hoare-cube/screenshot-2024-12-04-at-13-16-55-2/" data-orig-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png" data-orig-size="1098,610" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot 2024-12-04 at 13.16.55" data-image-description="" data-image-caption="" data-medium-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png?w=300" data-large-file="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png?w=739" loading="lazy" width="1024" height="568" src="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png?w=1024" alt="" srcset="https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png?w=1022 1022w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png?w=150 150w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png?w=300 300w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png?w=768 768w, https://johnwickerson.wordpress.com/wp-content/uploads/2024/12/screenshot-2024-12-04-at-13.16.55-1.png 1098w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>The two blue rows in their table are equal, and they correspond to the two “partial correctness” vertices in my cube. The two orange lines are also equal, and they correspond to the two “necessary preconditions” vertices in my cube. I also haven’t got names for the ??? and ¿¿¿ logics, but I note that ??? can be straightforwardly obtained from sufficient incorrectness logic via the <img src="https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=f_1&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="f_1"/> bijection I defined above, and ¿¿¿ can be obtained from incorrectness logic in the same way, so I think this makes it unlikely that those logics will offer anything particularly new.</p>



<p>For the record: one potential point of confusion in Zhang and Kaminsky’s table is that what they call “wp” is actually what O’Hearn [6, Section 6.3] calls the “weakest <em>possible</em> precondition”: the sets of states from which <img src="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002" srcset="https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002 1x, https://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=404040&amp;s=0&amp;c=20201002&amp;zoom=4.5 4x" alt="c"/> <em>can</em> reach a final state satisfying the postcondition (but due to non-determinism, <em>might</em> not). Thus, I think “total correctness” should probably be read as “possible correctness”, following Hoare’s terminology [9, Section 5.3].</p>



<h2>Bibliography</h2>



<ul>
<li>[1] C.A.R. Hoare: <a href="https://dl.acm.org/doi/pdf/10.1145/363235.363259">An axiomatic basis for computer programming</a>. CACM, 1969.</li>



<li>[2] Bernhard Möller, Peter O’Hearn, and Tony Hoare: <a href="http://www0.cs.ucl.ac.uk/staff/p.ohearn/papers/IL-Algebra.pdf">On Algebra of Program Correctness and Incorrectness</a>. RAMiCS, 2021.</li>



<li>[3] Noam Zilberstein, Derek Dreyer, and Alexandra Silva: <a href="https://dl.acm.org/doi/pdf/10.1145/3586045">Outcome Logic: A Unifying Foundation for Correctness and Incorrectness Reasoning</a>. OOPSLA, 2023.</li>



<li>[4] Flavio Ascari, Roberto Bruni, Roberta Gori, and Francesco Logozzo: <a href="https://arxiv.org/pdf/2310.18156">Sufficient Incorrectness Logic: SIL and Separation SIL</a>. ArXiv, 2023.</li>



<li>[5] Edsko de Vries and Vasileios Koutavas: <a href="https://www.scss.tcd.ie/Vasileios.Koutavas/publications/reverse-sefm11.pdf">Reverse Hoare Logic</a>. SEFM, 2011.</li>



<li>[6] Peter O’Hearn: <a href="https://dl.acm.org/doi/pdf/10.1145/3371078">Incorrectness Logic</a>. POPL, 2020.</li>



<li>[7] Patrick Cousot, Radhia Cousot, Manuel Fähndrich, Francesco Logozzo: <a href="https://cs.nyu.edu/~pcousot/publications.www/CousotCousotFahndrichLogozzo-VMCAI-LNCS-7737-pp128-148-Jan-2013.pdf">Automatic Inference of Necessary Preconditions</a>. VMCAI, 2013.</li>



<li>[8] Linpeng Zhang and Benjamin Lucien Kaminsky: <a href="https://dl.acm.org/doi/pdf/10.1145/3527331">Quantitative Strongest Post</a>. OOPSLA, 2022.</li>



<li>[9] C.A.R. Hoare: <a href="https://dl.acm.org/doi/pdf/10.1145/322077.322088">Some properties of predicate transformers</a>. JACM, 1978.</li>



<li>[10] Patrick Cousot: <a href="https://dl.acm.org/doi/pdf/10.1145/3632849">Calculational Design of [In]Correctness Transformational Program Logics by Abstract Interpretation</a>. POPL, 2024.</li>



<li>[11] Petar Maksimovic, Caroline Cronjäger, Andreas Lööw, Julian Sutherland, and Philippa Gardner: <a href="https://drops.dagstuhl.de/storage/00lipics/lipics-vol263-ecoop2023/LIPIcs.ECOOP.2023.19/LIPIcs.ECOOP.2023.19.pdf">Exact Separation Logic</a>: Towards Bridging the Gap Between Verification and Bug-Finding. ECOOP, 2023.</li>
</ul>
			</div></div>
  </body>
</html>
