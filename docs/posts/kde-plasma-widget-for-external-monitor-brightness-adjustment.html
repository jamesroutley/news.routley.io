<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/davidhi7/ddcci-plasmoid">Original</a>
    <h1>KDE Plasma Widget for external monitor brightness adjustment</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/davidhi7/ddcci-plasmoid/blob/main/screenshots/banner.png"><img src="https://github.com/davidhi7/ddcci-plasmoid/raw/main/screenshots/banner.png" alt="Screenshot"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-setup" aria-hidden="true" href="#setup"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setup</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-1-load-the-i2c-dev-kernel-module" aria-hidden="true" href="#1-load-the-i2c-dev-kernel-module"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>1. Load the <code>i2c-dev</code> kernel module</h3>
<p dir="auto">Note: Most kernel builds should include this module by default.</p>
<p dir="auto">Check if it is already loaded:</p>
<p dir="auto"><code>$ lsmod | grep i2c_dev</code></p>
<p dir="auto">If it isn&#39;t, load it automatically on every boot:</p>
<p dir="auto"><code>$ echo i2c-dev | sudo tee /etc/modules-load.d/i2c-dev.conf</code></p>
<p dir="auto">or load it once:</p>
<p dir="auto"><code>$ sudo modprobe i2c-dev</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-2-install-and-configure-ddcutil" aria-hidden="true" href="#2-install-and-configure-ddcutil"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>2. Install and configure <strong>ddcutil</strong></h3>
<p dir="auto">ddcutil is a commandline utility to control external monitors.
This widget uses ddcutil to detect supported monitors and adjust their brightness.
For additional details, refer to the great <a href="http://www.ddcutil.com/" rel="nofollow">ddcutil documentation</a>.
Note that additional steps may be required if you are using a NVIDIA GPU, see <a href="https://www.ddcutil.com/nvidia/" rel="nofollow">Special Nvidia Driver Settings</a> in the ddcutil documentation.</p>
<p dir="auto">Install the <code>ddcutil</code> from your distribution&#39;s repositories. (<a href="https://archlinux.org/packages/extra/x86_64/ddcutil/" rel="nofollow">Arch Linux</a>)</p>
<p dir="auto">By default, ddcutil can only be used by the root user.
Little configuration is required to allow non-root users to use it:</p>
<p dir="auto"><code>$ sudo usermod -aG i2c &lt;username&gt;</code></p>
<p dir="auto">If the group <code>i2c</code> doesn&#39;t exit, create it first:</p>
<p dir="auto"><code>$ sudo groupadd --system i2c</code></p>
<p dir="auto">Finally, you need to install a udev rule to allow members of the group <code>i2c</code> to access to i2c devices:</p>
<p dir="auto"><code>$ sudo cp /usr/share/ddcutil/data/45-ddcutil-i2c.rules /etc/udev/rules.d</code></p>
<p dir="auto">Now, you can verify that ddcutil is working correctly:</p>
<p dir="auto"><code>$ ddcutil detect</code></p>
<p dir="auto">The output should look something like that:</p>
<div data-snippet-clipboard-copy-content="Display 1
   I2C bus:  /dev/i2c-9
   DRM connector:           card0-DP-1
   EDID synopsis:
      Mfg id:               DEL - Dell Inc.
      Model:                DELL S2721DGF
      Product code:         XXXXX  (0xXXXX)
      Serial number:        XXXXXXXX
      Binary serial number: XXXXXXXX (0xXXXXXXXX)
      Manufacture year:     2022,  Week: 35
   VCP version:         2.1

Display 2
   I2C bus:  /dev/i2c-10
   DRM connector:           card0-DP-2
   EDID synopsis:
      Mfg id:               DEL - Dell Inc.
      Model:                DELL U2417H
      Product code:         XXXXX  (0xXXXX)
      Serial number:        XXXXXXXX
      Binary serial number: XXXXXXXX (0xXXXXXXXX)
      Manufacture year:     2018,  Week: 22
   VCP version:         2.1"><pre><code>Display 1
   I2C bus:  /dev/i2c-9
   DRM connector:           card0-DP-1
   EDID synopsis:
      Mfg id:               DEL - Dell Inc.
      Model:                DELL S2721DGF
      Product code:         XXXXX  (0xXXXX)
      Serial number:        XXXXXXXX
      Binary serial number: XXXXXXXX (0xXXXXXXXX)
      Manufacture year:     2022,  Week: 35
   VCP version:         2.1

Display 2
   I2C bus:  /dev/i2c-10
   DRM connector:           card0-DP-2
   EDID synopsis:
      Mfg id:               DEL - Dell Inc.
      Model:                DELL U2417H
      Product code:         XXXXX  (0xXXXX)
      Serial number:        XXXXXXXX
      Binary serial number: XXXXXXXX (0xXXXXXXXX)
      Manufacture year:     2018,  Week: 22
   VCP version:         2.1
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-3-install-the-backend" aria-hidden="true" href="#3-install-the-backend"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>3. Install the backend</h3>
<p dir="auto"><code>pip install ddcci-plasmoid-backend</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-4-install-the-widget-itself" aria-hidden="true" href="#4-install-the-widget-itself"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>4. Install the widget itself</h3>
<p dir="auto">Install the widget from the <a href="https://store.kde.org/p/2015475" rel="nofollow">official KDE Store</a>, or install it manually:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ git clone https://github.com/davidhi7/ddcci-plasmoid.git
$ cd ddcci-plasmoid
$ kpackagetool5 --install plasmoid
# or upgrade the plasmoid:
$ kpackagetool5 --upgrade plasmoid"><pre>$ git clone https://github.com/davidhi7/ddcci-plasmoid.git
$ <span>cd</span> ddcci-plasmoid
$ kpackagetool5 --install plasmoid
<span><span>#</span> or upgrade the plasmoid:</span>
$ kpackagetool5 --upgrade plasmoid</pre></div>
</article>
          </div></div>
  </body>
</html>
