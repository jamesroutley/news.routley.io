<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://robins.one/notes/uninstall-the-nightowl-app-now.html">Original</a>
    <h1>Uninstall the NightOwl app</h1>
    
    <div id="readability-page-1" class="page"><article>
<p>
<time datetime="2023-06-28 00:00:00 +0000">28/06/2023</time>
</p>

<p><small>EDIT: It seems this made it to <a href="https://news.ycombinator.com/item?id=37052508">HN</a>. Is this my cue to <a href="https://soatok.blog/2020/07/09/a-word-on-anti-furry-sentiments-in-the-tech-community/">Soatokify</a> this article?</small></p>
<h2 id="intro">Intro</h2>
<p>The NightOwl application has existed since 2018 and is used to automatically switch between light/dark modes on the operating system. It is an alternative to the built in macOS automatic mode which only switches when the user steps away from the computer.</p>
<p>However, the application has been bought out by “TPE.FYI LLC” in late 2022<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" rel="footnote">1</a></sup> that forcibly joins your devices into a botnet for use of market research, without your knowledge (other than the TOS in small text on the download page) or express consent (this feature cannot be turned off, even when the app is quit). This is documented in their terms of service<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" rel="footnote">2</a></sup>:</p>
<blockquote>
<p>•WHEREAS, NightOwl app enables Users to share internet traffic by modifying their device’s network settings to be used as a gateway for internet traffic. Additionally, the User’s device acts as a gateway for NightOwl app’s Clients, including companies that specialize in web and market research, SEO, brand protection, content delivery, cybersecurity, etc.</p>
</blockquote>
<p>We have contacted NightOwl regarding this, and haven’t recieved a response yet.</p>
<h2 id="removal">Removal:</h2>
<p>Run these commands in Terminal, if you have the app installed <strong>at all</strong>, even if you don’t have it running.</p>
<div><div><pre><code>sudo killall NightOwl
launchctl unload ~/Library/LaunchAgents/NightOwlUpdater.plist
sudo killall AutoUpdate
sudo rm -rf /Applications/NightOwl.app/ ~/Library/LaunchAgents/NightOwlUpdater.plist
sudo zsh -c &#34;rm /Users/*/Library/LaunchAgents/NightOwlUpdater.plist&#34;
</code></pre></div></div>
<h2 id="technical-details">Technical Details</h2>
<p>The application, on install registers a launch agent named <code>org.nightowl.autoupdater.com</code><sup id="fnref:3" role="doc-noteref"><a href="#fn:3" rel="footnote">3</a></sup>. This is used to daemonize the process <code>/Applications/NightOwl.app/Contents/Helpers/AutoUpdate</code>, which runs as root, at boot, and cannot be disabled through the application. This happens silently, without the users knowledge or consent other than the following notice<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" rel="footnote">4</a></sup></p>
<blockquote>
<p>In order to <strong>improve the App</strong>, NightOwl uses <strong>Google Analytics</strong> to collect Statistics. The tracked data helps to enhance NightOwl by analysing how <strong>features</strong> are used and which <strong>bugs</strong> appear. </p>
</blockquote>
<p>Turning off send statistics does not disable the launch agent.</p>
<p>The ‘autoupdater’ does three things,</p>
<ul>
<li>check the app for updates (using Sparkle)</li>
<li>report any crashes (using Sentry)</li>
<li>start a local HTTP proxy on port <code>40701</code> (this can be changed using the configuration json file in the app bundle).</li>
</ul>
<p>The latter is of course, not to be expected of any app on the machine, especially not one that just claims to be an auto updater.</p>
<p>The daemon uses ‘sudo’ to switch from running as the root user, to the main user account, and then starts an instance of <code>nightowl_t.dylib</code> (which is actually a copy of <a href="https://github.com/tinyproxy/tinyproxy">tinyproxy</a>, which is licensed under GPLv2, and does not contain the GPL license notice, so this might actually be a violation!), which acts as a HTTP(S) proxy and runs on port , It opens up a SSH connection (using autossh, renamed <code>nightowl_a.dylib</code>, which doesn’t have a license) to <code>testconnectuser2023@proxy-gw1-europe.squidyproxy.com</code> on port <code>2043</code>, using a public key it drops in <code>/tmp</code> (it has a <code>.uu</code> extension), using the <code>-R</code> port to tunnel a port on the remote machine to the local machine. (it retrieves this by making a request to proxy-api1.squidyproxy.com over HTTPS). This domain was registered with GoDaddy in April 2022, and the IP address is hosted by Microsoft.</p>
<p>For reference, this SSH server has shell access enabled. (I didn’t try anything though). After the connection succeeds, it forwards HTTP traffic down to you, which gets proxied out of your internet connection. I saw it trying to access . It also tries to open a UPnP port forward on your router, but fails on mine because the key names are jumbled:</p>
<div><div><pre><code><span>POST</span> <span>/ctl/IPConn</span> <span>HTTP</span><span>/</span><span>1.1</span>
<span>Host</span><span>:</span> <span>192.168.1.1:5000</span>
<span>User-Agent</span><span>:</span> <span>Go-http-client/1.1</span>
<span>Content-Length</span><span>:</span> <span>526</span>
<span>CONTENT-TYPE</span><span>:</span> <span>text/xml; charset=&#34;utf-8&#34;</span>
<span>SOAPACTION</span><span>:</span> <span>&#34;urn:schemas-upnp-org:service:WANIPConnection:1#AddPortMapping&#34;</span>
<span>Accept-Encoding</span><span>:</span> <span>gzip</span>

<span>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span>&lt;s:Envelope</span> <span>xmlns:s=</span><span>&#34;http://schemas.xmlsoap.org/soap/envelope/&#34;</span> <span>s:encodingStyle=</span><span>&#34;http://schemas.xmlsoap.org/soap/encoding/&#34;</span><span>&gt;&lt;s:Body&gt;&lt;u:AddPortMapping</span> <span>xmlns:u=</span><span>&#34;urn:schemas-upnp-org:service:WANIPConnection:1&#34;</span><span>&gt;&lt;BznVVp_&gt;&lt;/BznVVp_&gt;&lt;A8Lx50LV3wS&gt;</span>50276<span>&lt;/A8Lx50LV3wS&gt;&lt;SOkiBsutQ&gt;</span>TCP<span>&lt;/SOkiBsutQ&gt;&lt;C7V6rYTZpovv&gt;</span>50276<span>&lt;/C7V6rYTZpovv&gt;&lt;S8pOPFbT13z&gt;</span>192.168.3.102<span>&lt;/S8pOPFbT13z&gt;&lt;AQBzrw&gt;</span>1<span>&lt;/AQBzrw&gt;&lt;O9hZpuXGWURb&gt;</span>ip royal paws<span>&lt;/O9hZpuXGWURb&gt;&lt;BBYmUz7H&gt;</span>2592000<span>&lt;/BBYmUz7H&gt;&lt;/u:AddPortMapping&gt;&lt;/s:Body&gt;&lt;/s:Envelope&gt;</span>
</code></pre></div></div>
<p>The application also seems to use the <a href="https://pawns.app/">Pawns</a> SDK<sup id="fnref:3:1" role="doc-noteref"><a href="#fn:3" rel="footnote">3</a></sup>, which is an app offers to pay users $0.20 per GB of their internet shared<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" rel="footnote">5</a></sup>. This service is operated by <a href="https://iproyal.com/">IPRoyal</a><sup id="fnref:6" role="doc-noteref"><a href="#fn:6" rel="footnote">6</a></sup>, a proxy company that will sell you residential proxy connections for $1.75/GB, and advertises “100% ethically sourced IPs”<sup id="fnref:7" role="doc-noteref"><a href="#fn:7" rel="footnote">7</a></sup>.</p>
<h2 id="but-just-who-is-tpefyi-llc">But just who is “TPE.FYI LLC”?</h2>
<p>TPE (or Keeping Tempo, or Tempo AI (not to be confused with the Tempo AI calendar or the Tempo AI gym)) is “in the process of building a pricing model based on various analytics such as YouTube video views for an artist and geographical popularity data that will allow venues to price their tickets based on actual demand for an artist.”<sup id="fnref:8" role="doc-noteref"><a href="#fn:8" rel="footnote">8</a></sup> Information is sparse, and little information past 2018 exists. The application, at least the time of writing, and the installations I’ve been made aware of, makes a lot of connections to https://stubbs.frontgatetickets.com/, a website that sells tickets to live music events for a restaurant in Austin, TX.</p>
<p>The company was incorporated in September 2018 in Austin, Texas, and was dissolved in March 2023 by a “Jarod Stirling”<sup id="fnref:9" role="doc-noteref"><a href="#fn:9" rel="footnote">9</a></sup>, who lives in Apartment 443 (hah, nice), The Muse at SoCo, 1007 South Congress Avenue, Austin, Texas, 78704.</p>

<p>If you have any more information, I can be contacted at:</p>
<ul>
<li><a href="mailto:taylor@robins.one">taylor@robins.one</a></li>
<li><a href="https://t.me/tayiorrobinson">t.me/tayiorrobinson</a></li>
</ul>

</article></div>
  </body>
</html>
