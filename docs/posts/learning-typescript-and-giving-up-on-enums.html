<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://mrcoles.com/learning-typescript-and-enums/">Original</a>
    <h1>Learning TypeScript and giving up on enums</h1>
    
    <div id="readability-page-1" class="page"><div id="post-151">
        
        <div><p>When I first picked up TypeScript (in 2019? late to the party?) I was excited to dip my toes back into the world of statically typed languages. I had received a heavy dose of Java in school and some work. The code felt so clumsy and verbose that it left me resolutely anti-statically-typed-languages. In comparison, learning Python and then JavaScript was a breath of fresh air. I could convert ideas to code at such a faster rate than before that it spurred something like a Cambrian explosion of explorations and side-projects for me. Eventually, I dabbled in some other approaches to typed languages, e.g., Swift, GoLang, and Rust, and there was enough buzz around TypeScript that it seemed worth trying out.</p>
<p><strong>Getting started</strong></p>
<p>I started with <a href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">their official docs</a>, tried out writing something small, and had a friend who I could ping with questions.</p>
<p><strong>Tools</strong></p>
<p>I also knew I’d want to work in an IDE, so I installed VSCode. While I had happily used Emacs for JS and Python—it was what we used at MIT and what most of the programming team at <a href="https://en.wikipedia.org/wiki/Hunch_(website)">Hunch</a> worked in—I knew enough from my prior statically typed programming experiences that I’d need something that would provide all the completion, navigation, refactoring bells and whistles of an IDE. I also found an extension to keep using a lot of my usual <a href="https://mrcoles.com/emacs-key-bindings-vscode/">keybindings</a>.</p>
<p>I also really enjoy using <a href="https://parceljs.org/">Parcel</a> to build front-end projects, so I generally relied on that to compile everything.</p>
<p><strong>But enums?</strong></p>
<p>Most concepts came fast enough, but the first one where I felt myself banging my head against the wall was with enums. I knew how to use enums in a number of other languages and thought to myself that it’d be a smarter way to handle code that previously would just be a couple variables assigned to strings or numbers. TypeScript has support for <a href="https://www.typescriptlang.org/docs/handbook/enums.html">Enums</a>. However, they just weren’t working how I expected, felt like they added a lot of complexity, and compile in complicated ways. I found myself Googling about how to use enums properly, but wasn’t finding the answers I was seeking. It smelled a lot like when you’re trying to fix a bug and you’re searching for answers, but coming up with nothing, only to find out your search queries were looking for entirely the thing.</p>
<p>In this case, it was unions. Instead of writing an enum like so:</p>
<div><pre><span></span><code><span>enum</span> <span>Status</span> <span>{</span>
  <span>trialing</span><span>,</span>
  <span>active</span><span>,</span>
  <span>inactive</span><span>,</span>
<span>}</span>
</code></pre></div>

<p>You could just create a union like this:</p>
<div><pre><span></span><code><span>type</span> <span>Status</span> <span>=</span> <span>&#39;trialing&#39;</span> <span>|</span> <span>&#39;active&#39;</span> <span>|</span> <span>&#39;inactive&#39;</span><span>;</span>
</code></pre></div>

<p>and now anything typed as <code>Status</code> will be one of those three strings and you can check against the type with simple equality comparisons (e.g.,  <code>if (status === &#39;active&#39;) { … }</code>).</p>
<p>This felt like such a violation of the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY principle</a> to be littering your codebase with string literals instead of a reference to a single variable. This aversion was making it hard for me to recognize that it was “the right way” to approach a lot of “enum” problems I was encountering. Furthermore:</p>
<ol>
<li>It becomes way easier to manage in an IDE world, where code completion and warnings limit errors and speed up working with unions</li>
<li>It opens up other awesome features, such as <a href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#discriminated-unions">Discriminated Unions</a>, which impacts how to think about structuring data and makes typing with that data awesome!</li>
<li>Since we’re stuck with everything having to compile to JavaScript at the end of the day it can make sense why this “simpler” approach works</li>
</ol>
<p>There are tons of write ups now on enums vs unions, but <a href="https://fettblog.eu/tidy-typescript-avoid-enums/">here’s one</a> if you’re looking to dive a little deeper.</p></div>
    </div></div>
  </body>
</html>
