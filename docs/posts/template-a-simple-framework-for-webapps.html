<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/retrohacker/template">Original</a>
    <h1>Template – A simple framework for webapps</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Template is a simple JS framework for creating interactive applications.</p>
<p dir="auto">It focuses on using web-native patterns.</p>
<p dir="auto">Calling it a framework is a bit of an exaggeration, it&#39;s a single <code>class</code> that manages HTML <code>&lt;template&gt;</code>s.</p>
<p dir="auto">The entire &#34;framework&#34; is here: <a href="https://github.com/retrohacker/template/blob/main/template.js">./template.js</a></p>

<p dir="auto">Your Hello World example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;!DOCTYPE &gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script src=&#34;./template.js&#34;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&#34;app&#34;&gt;&lt;/div&gt;
    &lt;template id=&#34;HelloWorld&#34;&gt;
      &lt;div class=&#34;hello-world&#34;&gt;
        &lt;h1 class=&#34;message&#34;&gt;&lt;/h1&gt;
      &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
      class HelloWorld extends Template {
        constructor() {
          // First argument is the id of the template
          super(&#34;HelloWorld&#34;);
          // fragment contains the hydrated template
          // We can use it to query for child nodes, in this case: class=&#34;message&#34;
          // Anything you want to update during runtime should be stored on &#34;this&#34;
          this.message = this.fragment.querySelector(&#34;.message&#34;);
        }
        setMessage(msg) {
          // Update the content of &lt;h1 class=&#34;message&#34;&gt;
          this.message.innerText = msg;
        }
      }
      // Get the div we want to mount into
      const app = document.getElementById(&#34;app&#34;);
      // Create an instance of our HelloWorld component
      const helloworld = new HelloWorld();
      // Mount our component into the dom
      helloworld.mount(app);
      // Set our message
      helloworld.setMessage(&#34;Hello Template!&#34;);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;"><pre><span>&lt;!DOCTYPE <span>&gt;</span></span>
<span>&lt;</span><span>html</span><span>&gt;</span>
  <span>&lt;</span><span>head</span><span>&gt;</span>
    <span>&lt;</span><span>script</span> <span>src</span>=&#34;<span>./template.js</span>&#34;<span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span>
  <span>&lt;/</span><span>head</span><span>&gt;</span>
  <span>&lt;</span><span>body</span><span>&gt;</span>
    <span>&lt;</span><span>div</span> <span>id</span>=&#34;<span>app</span>&#34;<span>&gt;</span><span>&lt;/</span><span>div</span><span>&gt;</span>
    <span>&lt;</span><span>template</span> <span>id</span>=&#34;<span>HelloWorld</span>&#34;<span>&gt;</span>
      <span>&lt;</span><span>div</span> <span>class</span>=&#34;<span>hello-world</span>&#34;<span>&gt;</span>
        <span>&lt;</span><span>h1</span> <span>class</span>=&#34;<span>message</span>&#34;<span>&gt;</span><span>&lt;/</span><span>h1</span><span>&gt;</span>
      <span>&lt;/</span><span>div</span><span>&gt;</span>
    <span>&lt;/</span><span>template</span><span>&gt;</span>
    <span>&lt;</span><span>script</span><span>&gt;</span>
      <span>class</span> <span>HelloWorld</span> <span>extends</span> <span>Template</span> <span>{</span>
        <span>constructor</span><span>(</span><span>)</span> <span>{</span>
          <span>// First argument is the id of the template</span>
          <span>super</span><span>(</span><span>&#34;HelloWorld&#34;</span><span>)</span><span>;</span>
          <span>// fragment contains the hydrated template</span>
          <span>// We can use it to query for child nodes, in this case: class=&#34;message&#34;</span>
          <span>// Anything you want to update during runtime should be stored on &#34;this&#34;</span>
          <span>this</span><span>.</span><span>message</span> <span>=</span> <span>this</span><span>.</span><span>fragment</span><span>.</span><span>querySelector</span><span>(</span><span>&#34;.message&#34;</span><span>)</span><span>;</span>
        <span>}</span>
        <span>setMessage</span><span>(</span><span>msg</span><span>)</span> <span>{</span>
          <span>// Update the content of &lt;h1 class=&#34;message&#34;&gt;</span>
          <span>this</span><span>.</span><span>message</span><span>.</span><span>innerText</span> <span>=</span> <span>msg</span><span>;</span>
        <span>}</span>
      <span>}</span>
      <span>// Get the div we want to mount into</span>
      <span>const</span> <span>app</span> <span>=</span> <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>&#34;app&#34;</span><span>)</span><span>;</span>
      <span>// Create an instance of our HelloWorld component</span>
      <span>const</span> <span>helloworld</span> <span>=</span> <span>new</span> <span>HelloWorld</span><span>(</span><span>)</span><span>;</span>
      <span>// Mount our component into the dom</span>
      <span>helloworld</span><span>.</span><span>mount</span><span>(</span><span>app</span><span>)</span><span>;</span>
      <span>// Set our message</span>
      <span>helloworld</span><span>.</span><span>setMessage</span><span>(</span><span>&#34;Hello Template!&#34;</span><span>)</span><span>;</span>
    <span>&lt;/</span><span>script</span><span>&gt;</span>
  <span>&lt;/</span><span>body</span><span>&gt;</span>
<span>&lt;/</span><span>html</span><span>&gt;</span></pre></div>

<p dir="auto">You&#39;ll find that your <code>index.html</code> file grows pretty quick when using Template.</p>
<p dir="auto">The fix is easy. First, create a directory called <code>app</code>.</p>
<p dir="auto">Then create the files that make up our <code>index.html</code> &#34;template&#34;:</p>
<p dir="auto">For example:</p>
<p dir="auto"><code>./app/pre-css.html</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script src=&#34;./template.js&#34;&gt;&lt;/script&gt;
    &lt;style&gt;"><pre><span>&lt;!DOCTYPE html<span>&gt;</span></span>
<span>&lt;</span><span>html</span><span>&gt;</span>
  <span>&lt;</span><span>head</span><span>&gt;</span>
    <span>&lt;</span><span>script</span> <span>src</span>=&#34;<span>./template.js</span>&#34;<span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span>
    <span>&lt;</span><span>style</span><span>&gt;</span></pre></div>
<p dir="auto"><code>./app/pre-template.html</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&#34;app&#34;&gt;&lt;/div&gt;"><pre>    <span>&lt;/</span>style<span>&gt;</span>
  <span>&lt;/</span>head<span>&gt;</span>
  <span>&lt;</span><span>body</span><span>&gt;</span>
    <span>&lt;</span><span>div</span> <span>id</span>=&#34;<span>app</span>&#34;<span>&gt;</span><span>&lt;/</span><span>div</span><span>&gt;</span></pre></div>
<p dir="auto"><code>./app/pre-js.html</code>:</p>

<p dir="auto"><code>./app/post-js.html</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;"><pre>    <span>&lt;/</span>script<span>&gt;</span>
  <span>&lt;/</span>body<span>&gt;</span>
<span>&lt;/</span>html<span>&gt;</span></pre></div>
<p dir="auto">If you look at the files above, we&#39;ve just split a standard <code>index.html</code> file up into chunks.</p>
<p dir="auto">Now we use this little shell script to &#34;build&#34; our app by injecting our files:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat ./app/pre-css.html &gt; index.html
# Inject all of our CSS into the page
cat ./app/**/*.css &gt; index.html
cat ./app/pre-template.html &gt;&gt; index.html
# Inject all of our HTML into the pa ge
cat ./app/**/*.html &gt; index.html
cat ./app/pre-js.html &gt;&gt; index.html
# Inject all of our JS into the page
cat ./app/**/*.js &gt;&gt; index.html
cat ./app/post-js.html &gt;&gt; index.html"><pre>cat ./app/pre-css.html <span>&gt;</span> index.html
<span><span>#</span> Inject all of our CSS into the page</span>
cat ./app/<span>**</span>/<span>*</span>.css <span>&gt;</span> index.html
cat ./app/pre-template.html <span>&gt;&gt;</span> index.html
<span><span>#</span> Inject all of our HTML into the pa ge</span>
cat ./app/<span>**</span>/<span>*</span>.html <span>&gt;</span> index.html
cat ./app/pre-js.html <span>&gt;&gt;</span> index.html
<span><span>#</span> Inject all of our JS into the page</span>
cat ./app/<span>**</span>/<span>*</span>.js <span>&gt;&gt;</span> index.html
cat ./app/post-js.html <span>&gt;&gt;</span> index.html</pre></div>
<p dir="auto">Now <code>index.html</code> contains your single page app!</p>
<p dir="auto">You can now create folders for each component (and nested components) under the app directory.</p>
<p dir="auto">For example, here is a file system with an <code>Auth</code> component that has two subcomponents <code>Login</code> and <code>Signup</code>:</p>
<div data-snippet-clipboard-copy-content="./app
├── Auth
│   ├── index.html
│   ├── index.js
│   ├── Login
│   │   ├── index.html
│   │   └── index.js
│   └── Signup
│       ├── index.html
│       └── index.js
├── post-js.html
├── pre-css.html
├── pre-js.html
└── pre-template.html"><pre lang="text"><code>./app
├── Auth
│   ├── index.html
│   ├── index.js
│   ├── Login
│   │   ├── index.html
│   │   └── index.js
│   └── Signup
│       ├── index.html
│       └── index.js
├── post-js.html
├── pre-css.html
├── pre-js.html
└── pre-template.html
</code></pre></div>
<p dir="auto">For some example components, checkout the <a href="https://github.com/retrohacker/template/blob/main/examples">./examples</a> directory.</p>
<blockquote>
<p dir="auto">Note: For CSS to work with the ShadowDOM Template uses, you&#39;ll need to include <code>&lt;style&gt;</code> tags inside the <code>&lt;template&gt;</code> tag of your component&#39;s index.html file. The page&#39;s CSS will not apply to nodes in the ShadowDOM tree. You can still style some global properties in a global CSS file if you choose, but this &#34;quirk&#34; of web components is why there are no <code>index.css</code> files in the file tree above.</p>
</blockquote>
</article>
          </div></div>
  </body>
</html>
