<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://spectrum.ieee.org/all-sky-camera">Original</a>
    <h1>Roll Your Own All-Sky, Raspberry Pi Camera</h1>
    
    <div id="readability-page-1" class="page"><div data-elid="2661714798" data-post-url="https://spectrum.ieee.org/all-sky-camera" data-authors="David Schneider" data-headline="Roll Your Own All-Sky, Raspberry Pi Camera" data-page-title="Roll Your Own All-Sky, Raspberry Pi Camera - IEEE Spectrum"><div><p>
	While driving home one night recently, I saw a spectacularly bright meteor flash across the sky in front of my car. A good-sized chunk of interplanetary detritus must have been on its way to a crash landing not too far away, I said to myself. My next thought was that if I had a bearing on that luminous streak, and if at least one other person in my region also had such information, we might be able to triangulate on it and narrow down where any landing zone might be. I’m, of course, not the only one to ponder this possibility—and, I soon learned, people have indeed successfully found meteorites this way.
</p><p>
	One example occurred in 2012, when a fireball lit up the sky over Northern California. Images of the meteor were recorded by a project called CAMS (
	<a href="https://www.sciencedirect.com/science/article/abs/pii/S0019103511003290" target="_blank">Cameras for Allsky Meteor Surveillance</a>)—a project of NASA and the <a href="https://www.seti.org/cams" target="_blank">SETI Institute</a>. These observations allowed the object’s trajectory and landing zone to be estimated, and coverage of the event in <em>The</em><em>San Francisco Chronicle</em> soon led to the discovery of what became known as the <a href="https://cams.seti.org/index-N.html" target="_blank">Novato Meteorite</a>.
</p><p>
	CAMS is not the only such project looking for meteors. Another is the 
	<a href="https://globalmeteornetwork.org/scientific-mission/" target="_blank">Global Meteor Network</a>, whose mission is to observe the night sky with “a global science-grade instrument.” Organizers of this network even <a href="https://globalmeteornetwork.org/wiki/index.php?title=Build_A_Camera" target="_blank">provide guidance</a> for how anyone can build a suitable camera based on the Raspberry Pi and how to contribute observations that can help determine the orbits of the parent asteroids that spawned particular meteors.
</p><p>
	I was tempted to join the cause, but after reading more on the subject I discovered alternative strategies for building a camera to survey the night sky. Ultimately, I decided that I wanted to capture attractive color images more than I wanted to contribute data to the Global Meteor Network, which uses black-and-white cameras because of their greater sensitivity.
</p><p><img id="406a3" data-rm-shortcode-id="9335e96628c5e30f871e50fcf0390cc6" data-rm-shortcode-name="rebelmouse-image" lazy-loadable="true" src="data:image/svg+xml,%3Csvg%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%20viewBox=&#39;0%200%201280%201433&#39;%3E%3C/svg%3E" data-runner-src="https://spectrum.ieee.org/media-library/this-illustration-shows-many-of-the-components-used-in-this-project.jpg?id=34161366&amp;width=980" width="1280" height="1433" alt="This illustration shows many of the components used in this project. "/><small placeholder="Add Photo Caption...">The required components include a Raspberry Pi microcomputer (case not shown), a Raspberry Pi High Quality camera, a lens, a dome-shaped transparent lens cover, a 5-volt power supply, and a waterproof bulkhead connector, allowing AC-mains power to pass through the wall of the waterproof enclosure  (not shown) holding the camra.</small><small placeholder="Add Photo Credit...">James Provost</small></p><p>
	So I opted to build a different kind of all-sky camera, one that is also based on a Raspberry Pi but that uses the Raspberry Pi High Quality color camera, following the lead of a project called, reasonably enough, 
	<a href="https://github.com/thomasjacquin/allsky" target="_blank">Allsky Camera</a>.
</p><p>
	The hardware for this project consists of a Raspberry Pi and either the 
	<a href="https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/" target="_blank">Raspberry Pi HQ camera</a> or one of the purpose-built <a href="https://astronomy-imaging-camera.com/product-category/planetary-cameras/" target="_blank">planetary cameras made by ZWO</a>. To be truly “all sky,” the camera should be equipped with a fish-eye lens having a 180-degree field of view. Recognizing that my home is surrounded by trees, I opted for <a href="https://www.arducam.com/product/arducam-cs-lens-for-raspberry-pi-hq-camera-120-degree-ultra-wide-angle-cs-mount-lens-3-2mm-focal-length-with-manual-focus-ln051" target="_blank">a lens with a narrower (120-degree) field of view</a>. A modern <a href="https://www.raspberrypi.com/products/raspberry-pi-4-model-b/" target="_blank">Raspberry Pi 4</a> is recommended, but I used a several-year-old <a href="https://www.raspberrypi.com/products/raspberry-pi-3-model-b/" target="_blank">Raspberry Pi 3 Model B</a> simply because I had it on hand. I decided to use a US $60 Raspberry Pi HQ camera over a ZWO camera because it offered higher resolution.
</p><p>
	To protect this hardware from the elements, I housed the Pi, camera, and a suitable wall wart for powering the Pi inside 
	<a href="https://www.amazon.com/DJC-Supply-Weather-Plastic-Junction/dp/B07ZBPJ9QL" target="_blank">a $25 waterproof plastic enclosure</a>. The opening I cut for the camera lens is covered with a $16 clear acrylic dome. The <a href="https://www.amazon.com/F-ber-Diameter-Acrylic-Replacement-Security/dp/B07L6GLTNP" target="_blank">first dome</a> I purchased distorted things, but I ordered <a href="https://www.amazon.com/JMX-Replacement-Security-Skylight-Transparent/dp/B07KGFTHL3" target="_blank">another one</a> that worked out much better. I also purchased <a href="https://www.amazon.com/iUniker-Raspberry-Cooling-Heatsink-Removable/dp/B079M96KWZ" target="_blank">an $11 case for the Raspberry Pi</a> (one that included a fan) and <a href="https://www.amazon.com/gp/product/B0043GD6XK/ref=ewc_pr_img_3?smid=A3RPN0HBLXDN8Z&amp;psc=1" target="_blank">a long extension cord</a>, which I cut and connected to <a href="https://www.amazon.com/SZJELEN-Electronics-Connector-waterproof-connector/dp/B07C4KQLPD" target="_blank">a waterproof bulkhead connector</a>. This means I can leave the unit outside even when it rains.
</p><p>
	Following the guidance provided in a very nice 
	<a href="https://www.youtube.com/watch?v=7TGpGz5SeVI" target="_blank">tutorial video</a>, I found it straightforward to set up the Allsky Camera software on my Pi, running it in a “headless” configuration—meaning without a monitor or keyboard. I access it wirelessly from a laptop through my local area network using <a href="https://www.ssh.com/academy/ssh" target="_blank">SSH</a>.
</p><p><img id="b6c84" data-rm-shortcode-id="e9158cbebdbe253d17f2d101ff0aea4c" data-rm-shortcode-name="rebelmouse-image" lazy-loadable="true" src="data:image/svg+xml,%3Csvg%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%20viewBox=&#39;0%200%202500%202495&#39;%3E%3C/svg%3E" data-runner-src="https://spectrum.ieee.org/media-library/this-illustration-shows-two-cameras-capturing-images-of-a-glowing-meteor-trail-depicted-as-though-these-images-were-projected-o.jpg?id=34161399&amp;width=980" width="2500" height="2495" alt="This illustration shows two cameras capturing images of a glowing meteor trail, depicted as though these images were projected on the walls of a planetarium. "/><small placeholder="Add Photo Caption...">A meteor’s trajectory through the atmosphere can hold clues to the location of any part of it that survives and also reveals the orbit of the parent body around the sun. With images of the meteor trail captured by two cameras, that trajectory can be ascertained: The position of a glowing trail relative to the background stars in an image defines a plane, and the intersection of two planes defines the trajectory.</small><small placeholder="Add Photo Credit...">James Provost</small></p><p>
	I fired everything up—but the camera didn’t work at all. So I turned to the 
	appropriate troubleshooting section in the project’s <a href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/thomasjacquin/allsky/master/html/documentation/index.html" target="_blank">ample documentation</a> and tried what was advised there—to enable “Glamor” graphic acceleration on the Pi. Still no images, though. Eventually, I discovered <a href="https://github.com/raspberrypi/libcamera-apps/issues/144" target="_blank">some tweaks to a configuration file</a> that are needed when using the HQ camera on a Pi 3B, which allowed me to obtain a hopelessly blurry image of the ceiling of my office.
</p><p>
	Through trial and error, I was able to get the manual focus of the camera dialed in properly. And slowly I learned how to adjust the multitude of settings available in the Allsky Camera software, which is done either by editing a configuration file or, more conveniently, through a Web interface this software provides.
</p><p>
	For example, I learned that I should reduce the resolution of the images used to make time-lapse videos, lest images saved at the impressive native resolution of the HQ camera (4,056 by 3,040 pixels) overwhelm the processing and storage available on my Pi. While that required tweaking a configuration file, other settings can be adjusted using the Web interface, which also makes it very easy to view live images, browse images collected earlier, and view and save time-lapse videos.
</p><p><span data-rm-shortcode-id="117d1d655dc870b1f0c3d66e20d51151"><iframe type="lazy-iframe" data-runner-src="https://www.youtube.com/embed/AF89ZiQA_oo?rel=0" width="100%" height="auto" frameborder="0" scrolling="no"></iframe></span><small placeholder="Add Photo Caption...">This timelapse video shows the night sky giving way to the rosy-fingered dawn, as captured by this all-sky camera.</small><small placeholder="Add Photo Credit...">Spectrum Staff</small></p><p>
	One thing that puzzled me early on was how well such a camera would work to catch meteors flashing by, given that the camera takes still images, not many-frames-per-second videos. But my concerns diminished after capturing images of the night sky over my home, some of which caught the light of passing aircraft. The long trails of light in those images made it apparent that the exposure time must be at least some tens of seconds long. I knew these were aircraft, not meteor trails, because the streaks included parallel tracks (from wingtip lights) and obvious pulsations from strobes.
</p><p>
	I hope yet to capture meteors some day with this gizmo. For that, I may go camping in the mountains in mid-August, when the 
	<a href="https://in-the-sky.org/news.php?id=20230813_10_100" target="_blank">Perseids</a> are hitting their peak. My family and I had taken such a trip years ago, but I didn’t have an all-sky camera at the time. So I returned home with only some now-fading memories of the wonderous show nature had put on display above our heads. Next time, I’ll have something I can view over and over!
</p></div></div></div>
  </body>
</html>
