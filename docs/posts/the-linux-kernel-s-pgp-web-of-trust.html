<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.kleine-koenig.org/ukl/the-linux-kernels-pgp-web-of-trust.html">Original</a>
    <h1>The Linux Kernel&#39;s PGP Web of Trust</h1>
    
    <div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <p>The Linux kernel&#39;s development process makes use of PGP. The most relevant part
here is that subsystem maintainers are supposed to use signed tags in their
pull requests to Linus Torvalds. As the concept of keyservers is <a href="https://gist.github.com/rjhansen/67ab921ffb4084c865b3618d6955275f">considered
broken</a>,
Konstantin Ryabitsev maintains a collection of relevant keys in a <a href="https://git.kernel.org/pub/scm/docs/kernel/pgpkeys.git/">git
repository</a>.</p>
<p>As of today (at commit
<a href="https://web.git.kernel.org/pub/scm/docs/kernel/pgpkeys.git/commit/?id=a0bc65fb27f5033beddf9d1ad97d67c353849be2">a0bc65fb27f5033beddf9d1ad97d67c353849be2</a>)
there are 602 valid keys tracked in that repository. The requirement for a key
to be added there is that there must be at least one trust path from Linus
Torvalds&#39; key to this key of length at most 5 within that keyring.</p>
<p>Occasionally it happens that a key loses its trust paths because someone in
these paths replaced their key, or keys expired. Currently this affects 2 keys.</p>
<p>However there is a problem on the horizon: GnuPG 2.4.x started to reject
third-party key signatures using the SHA-1 hash algorithm. In general that&#39;s
good, <a href="https://www.schneier.com/blog/archives/2005/02/cryptanalysis_o.html">SHA-1 isn&#39;t considered secure any more since more than 20
years</a>.
This doesn&#39;t directly affect the kernel-pgpkeys repo, because the trust path
checking doesn&#39;t rely on GnuPG trusting the signatures; there is a dedicated
tool that parses the keyring contents and currently accepts signatures using
SHA-1. Also signatures are not thrown away usually, but there are exceptions:
Recently Theodore Ts&#39;o <a href="https://lore.kernel.org/keys/20250410143455.GA327426@mit.edu">asked to update his
certificate</a>.
When Konstantin imported the updated certificate GnuPG&#39;s &#34;cleaning&#34; was applied
which dropped all SHA-1 signatures. So Theodore Ts&#39;o&#39;s key lost 168 signatures,
among them one by Linus Torvalds on his primary UID.</p>
<p>That made me wonder what would be the effect on the web of trust if all SHA-1
signatures were dropped. Here are the facts:</p>
<ul>
<li>
<p>There are 7976 signatures tracked in the korg-pgpkeys repo that are
   considered valid, 6045 of them use SHA-1.</p>
</li>
<li>
<p>Only considering the primary UID Linus Torvalds directly signed 40 public
   keys, 38 of these using SHA-1. One of the two keys that is still &#34;properly&#34;
   signed, doesn&#39;t sign any other key. So nearly all trust paths go through a
   single key.</p>
</li>
<li>
<p>When not considering SHA-1 signatures there are 485 public keys without a
   trust path from Linus Torvalds of length 5 or less. So today these 485
   public keys would not qualify to be added to the pgpkeys git repository.
   Among the people being dropped are Andrew Morton, Greg Kroah-Hartman, H.
   Peter Anvin, Ingo Molnar, Junio C Hamano, Konstantin Ryabitsev, Peter
   Zijlstra, Stephen Rothwell and Thomas Gleixner.</p>
</li>
<li>
<p>The size of the kernel strong set is reduced from 358 to 94.</p>
</li>
</ul>
<p>If you attend <a href="https://embedded-recipes.org/2025/">Embedded Recipes 2025</a> next
week, there is an opportunity to improve the situation: Together with <a href="https://fosstodon.org/@a3f/">Ahmad
Fatoum</a> I&#39;m organizing a keysigning session. If
you want to participate, send your public key to
<a href="mailto:er2025-keysigning@baylibre.com">er2025-keysigning@baylibre.com</a> before
2025-05-12 08:00 UTC.</p>
    </div></div>
  </body>
</html>
