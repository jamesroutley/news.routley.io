<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://maxleiter.com/blog/formatting">Original</a>
    <h1>Formatting code should be unnecessary</h1>
    
    <div id="readability-page-1" class="page"><div><main><article><p><span>Sep 6, 2025</span></p><article><span>and we knew this back in the 80s</span><p>I had a (maybe slightly overqualified) computer science teacher back in highschool, Mr. Paige.
He worked on the <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a> compiler and
has been programming since the early 80s.</p>
<p>One day I complained about linter tooling that
was driving me nuts. I said something to the effect of, &#34;it&#39;s 2016, how are we still dealing with this sort of thing?&#34;</p>
<p>Turns out, that problem was solved four decades ago (well, three at that point). Back when he was working on Ada,
they didn&#39;t store text sources at all â€” they used an <abbr title="Intermediate representation">IR</abbr> called <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://archive.org/details/dianaintermediat0000unse/page/n7/mode/2up">DIANA</a>.
Everyone had their own pretty-printing settings for viewing it however they wanted.</p>
<p>We&#39;ve been debating some linter settings at work recently and I keep thinking back to
Mr. Paige. It&#39;s 2025, how are we still dealing with this sort of thing?</p>
<hr/>
<p>Well, to answer that it would help to know what we&#39;re missing.</p>
<p>I believe he was working with the <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://en.wikipedia.org/wiki/Rational_R1000">Rational R1000</a>, of which there isn&#39;t a ton of info
(like all things Ada, it was used by the DoD):</p>
<p><img alt="" loading="lazy" width="400" height="450" decoding="async" data-nimg="1" srcset="/_next/image?url=%2Fblog%2Fformatting%2Frational.jpg%3Fw%3D400&amp;w=640&amp;q=75 1x, /_next/image?url=%2Fblog%2Fformatting%2Frational.jpg%3Fw%3D400&amp;w=828&amp;q=75 2x" src="https://jackratner.com/_next/image?url=%2Fblog%2Fformatting%2Frational.jpg%3Fw%3D400&amp;w=828&amp;q=75"/></p>
<p>The R1000 had a lot of bleeding-edge features: incremental compilation, semantic analysis, version control, and first-class debugging all built-in. It was a workstation similar to the <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://en.wikipedia.org/wiki/Xerox_Alto">Xerox Alto</a> but using Ada instead of Smalltalk.</p>

<p>DIANA (Descriptive Intermediate Attributed Notation for Ada) was a key component of Ada that enabled a lot of the more advanced features.</p>
<p><img alt="A diagram scanned from a type-written page. It shows a diagram of Ada Source =&gt; Syntax &amp; Semantics =&gt; DIANA =&gt; Normalization phase =&gt; Middle End =&gt; simple IR optimization phase =&gt; IR =&gt; Code Gen. =&gt; Executable Image" loading="lazy" width="550" height="450" decoding="async" data-nimg="1" srcset="/_next/image?url=%2Fblog%2Fformatting%2Fada.png&amp;w=640&amp;q=75 1x, /_next/image?url=%2Fblog%2Fformatting%2Fada.png&amp;w=1200&amp;q=75 2x" src="https://jackratner.com/_next/image?url=%2Fblog%2Fformatting%2Fada.png&amp;w=1200&amp;q=75"/></p>
<figcaption><p>Taken from <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://www2.eecs.berkeley.edu/Pubs/TechRpts/1985/CSD-85-249.pdf">Experiences with Code Generation
(1984)</a></p></figcaption>
<p>Instead of storing plain-text source code, the R1000 wrote DIANA.
The compiler and the IDE built into the machine both understood DIANA too, so you could view the source however you wanted.
Spaces vs. tabs didn&#39;t matter because neither affects the semantics and the editor on the system let you modify the program tree directly (known today as <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://martinfowler.com/bliki/ProjectionalEditing.html">projectional editing</a>).</p>
<p>Grady Booch <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://web.archive.org/web/20160304051102/https://www.ibm.com/developerworks/community/blogs/gradybooch/entry/rational_anniversary?lang=en#pagePlaceBar">summarizes it well</a>:</p>
<blockquote>
<p>R1000 was effectively a DIANA machine. We didn&#39;t store source code: source code was simply a pretty-printing of the DIANA tree.</p>
</blockquote>
<p>Imagine that.
No wasted time due to formatting discussions or fighting linters,
without forcing everyone into the same editor setup (looking at you, eslint-config-airbnb).</p>
<p>And there were other benefits:</p>
<blockquote>
<p>Using DIANA with hardware acceleration made it possible to do incremental compilation (unheard of at the time, for strongly typed languages), easy refactoring (though that word had not yet been invented), and incredibly fast integration (essential for the large systems that we being built with Ada).</p>
</blockquote>
<p>Today, we don&#39;t need to worry about hardware-accelerated compilation (hopefully),
and we have better tools for refactoring (thanks, Claude). But with formatting, we regressed.
I&#39;m not advocating for everyone to use projectional editing and a live environment (although I think they&#39;re awesome and we should be exploring them more),
but surely we can figure out something that fits into todays programming paradigms.</p>
<h3 id="further-reading"><a aria-hidden="true" tabindex="-1" href="#further-reading"><span></span></a>Further reading</h3>
<p>This post was meant to be me saying &#34;it&#39;d be easier if we just pushed minified code&#34;, but I had too much fun
researching the R1000 during it. Here are some of the documents I looked at:</p>
<ul>
<li>Experiences with Code Generation (1985): <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://www2.eecs.berkeley.edu/Pubs/TechRpts/1985/CSD-85-249.pdf">https://www2.eecs.berkeley.edu/Pubs/TechRpts/1985/CSD-85-249.pdf</a></li>
<li>Ada Compiler Validation Summary Report: Rational Environment (1985): <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://apps.dtic.mil/sti/tr/pdf/ADA157830.pdf">https://apps.dtic.mil/sti/tr/pdf/ADA157830.pdf</a></li>
<li>Grady Booch&#39;s blog post about the 5th anniversary on Rational&#39;s acquisition (2008): <a target="_blank" rel="noopener noreferrer" tabindex="0" href="https://web.archive.org/web/20160304051102/https://www.ibm.com/developerworks/community/blogs/gradybooch/entry/rational_anniversary?lang=en#pagePlaceBar">https://web.archive.org/web/20160304051102/https://www.ibm.com/developerworks/community/blogs/gradybooch/entry/rational_anniversary?lang=en#pagePlaceBar</a></li>
</ul></article><hr/><nav></nav></article></main></div></div>
  </body>
</html>
