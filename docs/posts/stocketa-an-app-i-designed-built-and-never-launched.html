<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://paulstamatiou.com/stocketa/">Original</a>
    <h1>Stocketa – An app I designed, built and never launched</h1>
    
    <div id="readability-page-1" class="page"><div id="site">
      
<article id="postex" role="main">
  <section id="stocketa-showcase">
    
    
    <div id="device-wrap">
      <a href="#" id="close-video"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19"><path d="M1.20117 17.6768c-.20768-.2077-.347329-.4512-.418943-.7305-.064454-.2865-.060873-.5658.010742-.8379.071614-.2793.204101-.5156.397461-.709l6.13379-6.14452-6.13379-6.13379c-.19336-.19336-.325847-.42968-.397461-.70898-.064453-.2793-.064453-.55859 0-.83789.071614-.2793.207681-.52279.408201-.73047.20768-.214844.45117-.354492.73047-.418945.28646-.064453.56934-.064453.84863 0 .2793.064453.51921.19694.71973.397461L9.63379 6.94531 15.7568.822266c.2006-.200521.4405-.333008.7198-.397461.2793-.071615.555-.071615.8271 0 .2793.071614.5264.211263.7412.418945.2077.20768.3474.45117.419.73047.0716.2793.0716.55859 0 .83789-.0645.27213-.197.51204-.3975.71973l-6.123 6.12304 6.123 6.13382c.2005.2005.333.4404.3975.7197.0644.2793.0608.5586-.0108.8379-.0644.2793-.2005.5228-.4082.7305-.2077.2076-.4512.3437-.7304.4082-.2793.0716-.5586.0752-.8379.0107s-.5192-.2005-.7198-.4082l-6.12301-6.123L3.5 17.6982c-.20052.1934-.44043.3223-.71973.3868-.27213.0716-.55143.0716-.83789 0-.27929-.0645-.52636-.2006-.74121-.4082Z" fill="#000"></path></svg></a>
      <p><img src="https://turbo.paulstamatiou.com/uploads/2023/08/14pro-frame.webp" loading="eager"/></p>
      <video id="stocketa-clip-frame" preload="auto" playsinline="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/stocketa/copyright-paulstamatiou_com-stocketa-app-overview-eth-poster.jpg">
        <source src="https://turbo.paulstamatiou.com/uploads/2023/08/stocketa/copyright-paulstamatiou_com-stocketa-app-overview-eth.webm" type="video/webm"/>
        <source src="https://turbo.paulstamatiou.com/uploads/2023/08/stocketa/copyright-paulstamatiou_com-stocketa-app-overview-eth.mp4" type="video/mp4"/>
      </video>
      
    </div>
    <p><img src="https://turbo.paulstamatiou.com/uploads/2023/08/14pro-frame.webp"/>
    </p>
    
    
  </section>
  
  
  <section> 
  <p>It was March 2020, I was in New England when covid quarantine had just begin and I found myself much more homebound. In these situations I&#39;m not one to just do nothing. I always have some sort of project or hobby to keep me busy, be it taking and editing photos, writing detailed blog posts, or coding something.</p>

  <p>I had always wanted to learn iOS development, so this felt like the perfect opportunity. I was particularly keen to learn SwiftUI to build my designs natively. Years back I had dabbled with writing an Objective-C app, but it never quite filled me with joy, to say the least. As a designer, I&#39;ve spent the last decade getting good with prototyping tools and frameworks to mimic realistic, interactive mobile prototypes. Building it myself was the natural next step to give me even more control over the experience, and <a href="https://paulstamatiou.com/craft/">get even deeper into the craft.</a></p>

  <p>I started learning Swift and SwiftUI basics with courses like Design+Code, and Hacking with Swift. But I knew myself—I learn best with a project of my own. I knew exactly what I wanted to build: a better stock portfolio tracker. The stock market had taken a plunge with covid and I was doing dozens of trades per week with everything on sale. It would be fun to have a simple app of my own to track the performance of my trades instead of dealing with the subpar sites and apps from my stockbrokers.</p>
  <section>
    <div>
      <figure>
        <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-phone.webp"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-phone.webp" data-ratio="1.2498" loading="lazy"/></a>
      </figure>
    </div>
  </section>
  <p>Little did I know this project would consume my nights and weekends for over two years, often spending 10-20 hours a week on it. I built a ton of functionality, sweat all the details, wrote a comprehensive node backend for it, created an LLC for it, and managed an active Testflight. I was learning Swift and SwiftUI along the way, so I was often redesigning and rebuilding as I went.</p>
  <p>Eventually, I decided to stop pursuing it. I&#39;ll get into the why a bit later. <strong>This post is for me to document <a href="https://stocketa.com" title="Checking your stocks &amp; crypto should be easy.">Stocketa</a>.</strong> I designed and built a lot that I&#39;m proud of and want to have somewhere to archive it before I pull the plug.</p>
</section>

<section>
  <!-- <div class="photoset-row single">
    <figure class="photoset-item single">
      <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-phone.webp"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-phone.webp" data-ratio="1.2498" loading="lazy"/></a>
    </figure>
  </div> -->
  <div>
    <figure>
      <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-app-store.webp"><img alt="10 images that would have been used for the Stocketa App Store screenshots if Stocketa had been published" src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-app-store.webp" data-ratio="1.1845" loading="lazy"/></a>
    </figure>
  </div>
  <small>The mostly-finished App Store screenshots that would have been published.</small>
</section>
<section>
  <h5 id="what-is-stocketa">What <del>is</del> was Stocketa</h5>
  <p>Stocketa was a simple portfolio tracker designed with care. It came out of my frustration of having to check the clunky apps and sites that my brokers had just to get a glimpse at how my investments were doing. I&#39;m a casual investor and don&#39;t need much from a tool like this but I had assets in various places, and I just wanted one easy and well-designed place to check them. I wanted to see real per-transaction gain/loss info, based on my own cost basis.</p>

  <p>While there are tons of apps, brokers, and neobanks that address this, nothing quite felt like what I wanted. There were several types of solutions in this space:</p>

  <ul>
    <li><p>First off, there are simple stock apps like Apple Stocks that let you see stock charts, news, and more. They have good data and don&#39;t require any accounts to use. However, they offer no functionality to log your holdings and track your gains/losses.</p></li>
    <li><p>There are lots of broker apps (e.g., Robinhood) that let you trade and track your holdings, but they only let you see your holdings from them, not from any other financial services you might use.</p></li>
    <li><p>Then there&#39;s a whole category of what I&#39;d call advanced stock services like TradingView (and several that have since died or pivoted over the years), but they&#39;re not mobile-first or as elegant as I wanted.</p></li>
    <li><p>There are broader investment advisor services like Personal Capital. While they do often have some aggregator functionality to link up your other accounts, they&#39;re not that powerful for diving into individual assets, aren&#39;t particularly well-designed, and are primarily focused on upselling you on their own investment advising services (seriously, I used to get endless 8am calls from Personal Capital).</p></li>
    <li><p>And there are lots of smaller apps on the App Store where you can track your holdings but the design and UX leaves a lot to be desired. I&#39;ve tried most of them.</p></li>
  </ul>

  <p>From a design perspective, I generally found that financial apps bias towards density when displaying your assets. They assume you have tons of stocks and prioritize a list view where you have to tap in to a detail view to see more info. I found myself constantly tapping in, manipulating a chart or looking at some basic stats, then swiping back and repeating all that for several stocks. It was not easy or the kind of at a glance info I wanted.</p>

  <p>That left me with my challenge. I wanted a <em>simple</em> portfolio tracker aimed at the casual investor. It didn&#39;t have to do it all, but it should aim to do a few things well. An app just for me.</p>

  </section>
  <section>
    <div>
      <figure>
        <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-iphone-DSC06278.webp"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-iphone-DSC06278.webp" data-ratio="1.495" loading="lazy"/></a>
      </figure>
    </div>
  </section>
  <section>

  <h5 id="custom">Going custom</h5>
  <p>I was more than thrilled to be working on a new app from scratch. After years of working at large companies with rigid design systems and gobs of stakeholders for every little design decision, I was yearning for some creative freedom. Freedom from process, freedom from typical design constraints. I would be in full control, designing and building it myself. <strong>It was <em>my</em> <a href="https://paulstamatiou.com/side-projects/">side project</a> after all</strong>.</p>

  <p>I had gotten tired of designing for traditional mobile apps. You know the type.. you add a tab bar, a typical navigation stack, page header and the app already feels significantly basic, muted, and limited out of the gate.</p>
  
  <p><strong>This was my place to have fun.</strong> I wanted to go custom and toss out whatever components the system gives you for free. And I knew that by having to figure out how to build various UI components from scratch, I&#39;d learn a lot along the way. Almost all of Stocketa&#39;s UI is custom.</p>

  <p>I will say that <strong>going custom is almost always the absolutely <em>wrong</em> thing to do</strong> 99% of the time. The operating system you&#39;re working in—be it iOS, Android, macOS—has invested a ton in a highly-considered suite of components. They&#39;re remarkably accessible, well-tested, and work on a variety of devices.</p>

  <p>It&#39;s absolutely no small feat to consider creating a custom component for your app. However, when going custom does make sense and you&#39;re okay with the added scope and responsibility, the app becomes your canvas to do whatever you want and <em>make it yours</em>.</p>

  <p>The first area where custom made sense for me was general app navigation. When I got started, I knew I wanted this app to have minimal app chrome. I didn&#39;t want a standard tab bar and header taking up space. I wasn&#39;t going to require much navigation: most things would just live inside the stock cards from the home timeline.</p>

  <p>The app would be focused around showing more with less. Personally, I only cared about tracking a few stocks, but I hated the work of constantly having to tap in to see a detail view, or interact with the chart. As such, the main scroll view needed to be more immersive and not get occluded by unnecessary app chrome.</p>

  <p>It started with app navigation, custom stock cards, sheets, and more. Needless to say, I spent a lot of time on the details with everything being custom. Below are a few examples:</p>

  

  <h5 id="building">Designing and building</h5>

  <p>I started with the basics: getting a scroll view of stock cards working, adding charts, and hooking it up to a database for persistence (initially Core Data before moving to Firebase). Then I added the requisite network calls and polling to update the stock card from a financial data provider. I started with IEX as the data provider as they had a decent API, reasonable pricing, and allowed commercial use, which would be required for a consumer app like this to go on the App Store.</p>
  </section>
  <section>
    <div>
      <figure>
        <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-early-stocketa-build.webp"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-early-stocketa-build.webp" data-ratio="1.333" loading="lazy"/></a>
      </figure>
    </div>
    <small>Working on an early build in 2020.</small>
  </section>
  <section>
  <p>One of the initial key decisions with Stocketa was that I wanted to track stock transactions in a comprehensive way. Simply logging the number of shares you had for each stock was not going to cut it. This ended up being a significant amount of work to do properly, but it was necessary:</p>

  <ul>
    <li><p>For each stock sale or purchase I wanted to be able to display not only the total gain/loss, but per-transaction gain/loss so you could tell if an individual transaction was a good trade.</p></li>
    <li><p>When it comes to stock sales, I needed to know the cost basis method (FIFO, LIFO, et cetera) so I could correctly calculate and display the realized and unrealized gains on a particular transaction. When selling shares, I also needed to know from which previous transaction or transactions the shares would be sold so I could get the correct cost basis and accurately calculate the gain/loss based on the cost basis method.</p></li>
    <li><p>And then there was dealing with stock splits, which seems simple at first glance but ended up being quite a bit of work to build in a robust way: not simply altering previous transactions. They should be automatically applied for new splits, but also able to be manually applied if you didn&#39;t log split-adjusted transactions.</p></li>
  </ul>

  <section>
    <div>
      <figure>
        <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-slides-Stocketa18@2x.jpg"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-slides-Stocketa18@2x.jpg" data-ratio="1.777" loading="lazy"/></a>
      </figure>
    </div>
    <small>A glimpse at part of how comprehensive transaction types in Stocketa were shown.</small>
  </section>

  <p>At some point I gave it a name: Stocketa. In Greek you might say &#34;marketa&#34; (Μαρκέτα, though αγορά might be a more proper word) when referring to a market, so this was like  coalescing Stock and Market with that in mind.</p>

  <hr/>

  <p>When I was interviewing for a new job in 2021, I created these slides as part of my presentation after talking about my work at Twitter for the previous 9 years. These weren&#39;t all of Stocketa slides, and there was a lot of additional talking points I had for each slide, but you get the idea.</p>
  </section>
  <section>
    
    
    
    
    
    
    <small>Slides touching on various parts of Stocketa as of late 2021. The design of many of these screens is now outdated, but it&#39;s a good look at a point in time.</small>
  </section> 
  <section> 
  
  <h5 id="swiftui">A note about SwiftUI</h5>
  <p>I kept designing, building.. and then redesigning and rebuilding. One of the side effects of learning Swift and SwiftUI as I was building this was that I was constantly redoing specific pages and parts of the app as I went. I continually found better ways to build things, and similarly I would continually refine designs. About a year or so into building Stocketa I <a href="https://paulstamatiou.com/getting-started-with-swiftui/">wrote about my experience with SwiftUI</a>. Much of that still rings true.</p>

  <p>SwiftUI has come a long way since iOS 13. It&#39;s more performant, there&#39;s more parity in available components and functionality compared with UIKit, and you get more control over things. And with iOS 17, you get some goodies like shaders, keyframes, scroll transitions, and more.</p>

  </section>
  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-xcode-swiftui-preview-stocketa-poster.webp" preload="metadata">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-xcode-swiftui-preview-stocketa.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-xcode-swiftui-preview-stocketa.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small>Xcode showing a SwiftUI preview.</small>
  </p></div>
  <section>
  
  <p>There&#39;s still a gap between the types of things you can do with AppKit and UIKit, but SwiftUI is undeniably a powerful tool that&#39;s dramatically more approachable. And not just a coding tool; it&#39;s a great design tool. Designers can quickly lay things out, hook up interactions, and get a real feel for a design using a native tool. </p>
  <p>Almost all of Stocketa&#39;s UI is built with SwiftUI. There were only a few occasions when I found it necessary to use UIKit to achieve some goal.<sup><a rel="footnote" href="#footnote-1" id="r1">1</a></sup>
 None of this would have been possible, or drawn me to take a closer look into building iOS apps, if it hadn&#39;t been for SwiftUI.</p>

  <h5 id="what-i-built">What I built</h5>
  <p>I used the app daily and continued pouring time into every feature and detail to meet my high quality bar. While I initially planned for this to be a simple to build app that would not require a backend, or even any user accounts, that did not last for long. I quickly realized I needed my own backend to unlock a few things.</p>

  <p>At first, this was so I didn&#39;t have to include the API key for my financial data provider inside the app for security reasons—I wouldn&#39;t want someone to find it and start running up my bill by abusing it. I created a backend proxy for the API with rate-limiting and throttling. Then, I wanted to have it be authenticated with user accounts, so I added Sign In With Apple along with a stock data caching system so that I only had to fetch stats for a stock once with a certain time period (depending on the particular stat that was either seconds, 24 hours, or weekly) regardless of however many user accounts needed that stock info. The main goal with that was to also reduce my costs associated with financial data API usage.</p>

  <p>By this point I really started enjoying the speed at which I could update endpoints and business logic entirely on the backend. I started moving logic I had in the app to the backend. <strong>Stocketa was starting to come together.</strong></p>

  <p>Even though this was just a solo project, I used Linear to keep track of tasks, ideas, features, customer feedback, and milestones.</p>

  <section>
    <div>
      <figure>
        <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-linear.webp"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-linear.webp" data-ratio="1.393" loading="lazy"/></a>
      </figure>
    </div>
  </section>

  <p>I had prioritized lists of things to build and bugs to fix. I was using—and loving—Linear for this. Here&#39;s a list of <em>most</em> of the things I built for Stocketa:</p>

  

  <p>I ran a small TestFlight alpha with close friends, then increasingly I added more people. At one point I was up to around 1,000 people. That was the most I wanted to allow. I received lots of feedback from overall great first impressions (below), to general feature requests, and of course lots of bug reports.</p>
    
  <blockquote>
    <p>Already the app is filling a need for me in its personal approach to tracking investments: no pushing for sales, no integrations with brokers and no unnecessary permissions. Brilliant.</p>
  </blockquote>
  <blockquote>
    <p>Simply amazed at the SwiftUI work you’ve poured into this app. So beautiful. The onboarding alone is a masterclass in attention to detail. Bravo.</p>
  </blockquote>
  <blockquote>
    <p>love it, this feels so polished and slick already... really great use of SwiftUI</p>
  </blockquote>
  <blockquote>
    <p>Just got the invite, added my stocks... the animations are beautiful, design is clean and precise... it’s all around beautiful. Congrats!</p>
  </blockquote>
  <blockquote>
    <p>F**k, man. This app is incredible. You’re building all of this on your own?</p>
  </blockquote>
  <blockquote>
    <p>Dude. This app is f**king beautiful. Really great job. Just imported shares - super easy.</p>
  </blockquote>
  <blockquote>
    <p>This NUX is insane. The particles when you add a stock. Gives me the happy brain chemicals..</p>
  </blockquote>
  
  <p>I had thousands on a waiting list but there were API and hosting costs associated with the increased usage that I didn&#39;t want to bear yet, as well as a huge increase in support and customer feedback that took a lot of time to manage. You start to hear the same types of feedback, and it just becomes a chore to manage that many emails. That good news was that something was resonating and people cared enough to go through the work to send in bug reports and feature requests.</p>

  <h5 id="website">The website</h5>
  <p>At some point early in feature development I took a break to focus on the website. At first I wanted a simple landing page to build interest, and collect emails for a waitlist so I could keep people in the loop. And I didn&#39;t want to spend that much time on it.</p>
  
  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-v0-landing-page-poster.webp" preload="metadata">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-v0-landing-page.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-v0-landing-page.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small><strong>Video:</strong> Initial Stocketa teaser homepage.</small>
  </p></div>

  <p>There was nothing fancy or particularly special about this initial page. It was just something quick I wanted to get out the door. And now, a while later, there&#39;s a lot I hate about this early design. The background texture was too strong, the headline alignment feels odd with the phone.. but I digress.</p>
  
  <p>In that initial design I did start playing with some wave-related elements—a loose reference to stock market charts going up and down. And then to add to that, I built a few mini stock cards gently hovering in place (thanks to <code>offset-path</code> CSS along with 2 keyframe animations) in the background. Each stock card had an SVG line chart—loosely based on that stock&#39;s actual performance around the time—that would animate on page load. I ended up keeping a version of these mini stock cards on the latest version of the website, and then on an onboarding screen inside the app.</p>

  <p>The original inspiration for these random floating stock cards was from my now <a href="https://paulstamatiou.com/work">out-of-date work page</a> where I highlighted projects with some large cards, each with their own intro animation based on the project. One of them was for my work on Twitter Video, where video clip thumbnails would fan out from the phone on hover (shown below).</p>

  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-portfolio-twitter-video-hover-poster.webp" preload="metadata">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-portfolio-twitter-video-hover.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-portfolio-twitter-video-hover.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small>The floating mini stock cards on the Stocketa homepage were inspired by the hover state animation on this project card from my old portfolio page.</small>
  </p></div>

  <h6>Homepage design <code>v1.0</code></h6>
  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-website-poster.webp" preload="metadata" data-ratio="1.3837">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-website.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-website.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small><strong>Video:</strong> The first full version of Stocketa.com in early 2021, currently <strong><a href="https://stocketa.com/v1/">archived here</a></strong>. The App Store QR code was meant to be displayed on scroll but in this version I didn&#39;t have that hooked up as the app wasn&#39;t live.</small>
  </p></div>

  <p>In early 2021 I ended up getting around to designing and building out the first complete homepage for Stocketa. I had enough functionality and features built that it felt worthy of investing some time into showcasing them on the site.</p>
  
  <p>Lots of app websites at the time (and still now) had the typical hero section on their homepage: some app screenshot in a phone frame off to one side, with accompanying header and subtitle text adjacent. Nothing wrong with that, but I wanted something a bit more engaging. I wasn&#39;t entirely interested in optimizing for conversion, and cramming a lot in above the page fold.</p>

  <section>
    <div>
      <figure>
        <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-explorations.webp"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-explorations.webp" data-ratio="1.817" loading="lazy"/></a>
      </figure>
    </div>
    <small>Initial design explorations in figma.</small>
  </section>
  
  <p>I thought it would be nice to try to do something where the 3D phone frame was angled and then began to change position on scroll while a brief teaser video of the app functionality played. Apple had done something similar in recent years with product pages, such as the first-generation AirPods Pro. They used over 100 frames of the AirPods that would progress as you scrolled:</p>

  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/airpods-pro-first-gen-site-animation-poster.webp" preload="metadata">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/airpods-pro-first-gen-site-animation2.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small>Example of a technique used by Apple.</small>
  </p></div>

  <p>There&#39;s a lot of ways to achieve an effect like this. One route route is using Lottie and essentially converting each frame of your video or animation to a base64-encoded string in a json file for the Lottie web player to manage. It&#39;s not a flawless solution, however, and can incur some large file sizes depending on what you&#39;re doing. It&#39;s best for vector micro-animations, not large devices with complex visual content. I also didn&#39;t want to incur the cost of that large initial json download blocking the very first thing you see on the site.</p>

  <p>Instead I opted to have javascript display a sequence of frames composited to <code>&lt;canvas&gt;</code> along with an offscreenCanvas for performance. I used <a href="https://rotato.app/" title="3D mockup images and movies in minutes">Rotato</a> to import my short Stocketa screencast, create a 3D phone video, and then create a PNG sequence of frames. I wasn&#39;t super pleased with the quality—the phone frame didn&#39;t look super realistic and had some rough pixelated edges—but it was good enough compared to doing it all by hand with other design tools.</p>

  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-website-hero-animation-poster.webp" preload="metadata">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-website-hero-animation.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-old-stocketa-website-hero-animation.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small>Scroll-based Stocketa 3D phone, paired with subtle parallax for header elements and the floating stock cards. There were some other minor scroll effects like the gradient glow behind the phone spreading.</small>
  </p></div>
  
  <p>I then exported optimized transparent webp, and jpg files (with accompanying alpha masks created in Sketch to save bandwidth) and had the javascript detect which file type to use for the animation. While I was pleased with how this effect turned out, it ended up becoming a rather huge annoyance when I wanted to update the content later—it&#39;s a pain to generate, optimize, and update the image sequence each time.</p>
</section>
<section>
  
  <small>Other bits of the website: cards for various features.</small>
</section>
<section>
  <p>And finally, as for the rest of the content on this site I went with a basic feature card approach, sometimes called a &#34;bento box&#34; layout; particularly when varying card sizes are used. This is a layout that I&#39;ve grown to like a bit less over the years as it has become very common.</p>


  <h6>Homepage design <code>v2.0</code></h6>
  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-new-stocketa-website-poster-2.webp" preload="metadata" data-ratio="1.3837">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-new-stocketa-website.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-new-stocketa-website.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small><strong>Video:</strong> New Stocketa site</small>
  </p></div>
  <p>A year later, it was time for another redesign. Stocketa had more functionality, and a lot more refinements. I had more to share, and I had grown tired of the 3D phone frame interaction. It was neat but it was just there for show; it wasn&#39;t the best way to show off parts of the app as it scrolled off screen. It was also a pain to update the frame sequences. I essentially just wanted to take screenshots of the real app from the iOS simulator and upload them.</p>

  <p>Separately, I didn&#39;t want a super long page with a lot of repetitive modules and screenshots. I wanted a skimmable feature list. I began to wonder if I could get away with just a single phone frame on the site that showed everything.</p>

  <p>I eventually landed on a two pane approach: the device frame was always in view, fixed on the right side, while the scrollable left side contained the feature list. The trade-off with this design was that it would require hovering over each feature item to be able to update the screenshot shown in the device frame. I figured an interesting compromise to that would be having the phones stack up and away on scroll. Almost like the old Apple Time Machine backup UI.</p>

  <p>I built several versions of this and found that it didn&#39;t feel great. There wasn&#39;t much scroll distance so if you scrolled at a normal or fast pace, you&#39;d see a bunch of phones flicker by you as the animations tried to keep up. It was too busy and hectic, not to mention a lot of state management to deal with jumping between your current scroll-based position screenshot to a hover-based screenshot if you hovered over a feature list item. I ended up simplifying a bit and only having the scroll-based UI manage just a few states: the intro phone frame, the first feature screenshot, and then a final animation at the bottom of the page.</p>

  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-homepage-v2-responsive-poster.webp" preload="metadata">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-homepage-v2-responsive.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-homepage-v2-responsive.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small>The website&#39;s mobile layout uses a carousel of screenshots in the header.</small>
  </p></div>

  <p>After sorting out the core interactions, I had to figure out how to deal with mobile and tablet interactions. The fix two-pane layout made this a bit of a challenge. I ended up turning the header into a carousel of device frames you could scroll through.</p>

  <p>And then finally, I added a few small bits of polish ✨:</p>

  <ul>
    <li><p>Hero title text gradient changes based on scroll</p></li>
    <li><p>The icon accent color and background circle color change based on scroll</p></li>
    <li><p>When hovering over any feature list item, there is a subtle background color change created by an overlaid gradient. SVG-created noise/grain is also overlaid on top of the background.</p></li>
    <li><p>When hovering over any feature list item, or when you&#39;re reached the end of the page, there&#39;s a subtle icon particle emitter that floats up icons from the bottom. Each feature used a different icon for this.</p></li>
  </ul>

  <div>
    <video playsinline="" muted="" controls="" loop="" poster="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-homepage-v2-particle-emitter-poster.webp" preload="metadata">
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-homepage-v2-particle-emitter.webm" type="video/webm"/>
      <source src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-homepage-v2-particle-emitter.mp4" type="video/mp4"/>
      Your browser does not support video playback via HTML5.
    </video>
    <p><small>Particle emitter effects: icons float up from the bottom, based on the feature list item being hovered on. There&#39;s also another very subtle emitter generating some tiny floating particles.</small>
  </p></div>

  <p>Overall I liked this design, but looking back at almost a year later, the gradient text and background colors feel a bit too much for my taste now.</p>


  <h5 id="api">API troubles</h5>
  <p>Eventually it became clear that the quality of financial data Stocketa relied on was not cutting it. The first provider I used, IEX, would sometimes have charts outdated, inaccurate prices (especially for less frequently traded assets on the IEX exchange), and lacked data for OTC markets (they required you sign a pricey license directly with OTC), as well as significantly limited data for Nasdaq-listed stocks (even basic things like pre-market and after-hours data). The last straw was when IEX dropped mutual fund data entirely, all without any advance notice.</p>
  
  <p>I later used another provider that allowed commercial use that didn&#39;t charge too much ($100/month) but I had even more problems with their data and reliability. Endpoints were even returning old and incorrect data, and even once alerted to issues, their team would not only ignore the bugs but claim they didn&#39;t exist. I couldn&#39;t ship Stocketa with unreliable financial data to people that would be paying me for a quality app.</p>
  
  <p>I also could not get certain types of data with paid APIs. I had to build a scraping engine on my backend that would visit a few sites to get the data I needed for less updated data like dividend yield, earnings dates, and even for OEF data (other providers would be more than a day delayed for this at times).</p>

  <p>Needless to say, this was all frustrating. It was a hassle, hard to maintain, and unreliable. At the same time, my backend continued getting more involved to deal with more and more of the intricacies of dealing with stocks. Things like dealing with companies merging or stock tickers renaming.</p>

  <section>
    <div>
      <figure>
        <a href="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-backend.webp"><img src="https://turbo.paulstamatiou.com/uploads/2023/08/copyright-paulstamatiou_com-stocketa-backend.webp" data-ratio="1.5467" loading="lazy"/></a>
      </figure>
    </div>
    <small>~13k LOC node/express backend (shown in Zed but I now prefer <a href="https://twitter.com/Stammy/status/1713303350987698459">Cursor</a>) for Cloud Run. It manages auth, caching, news, core business logic, cleaning up data, notifications, widgets, working with multiple API, and a bit of scraping. This was my first time doing anything of this size with node and typescript.</small>
  </section>

  <p>Starting out I thought getting access to a stock market data API would be the easy part. I quickly learned about the world of market data feeds, SIPs (Securities Information Processor), and vendor agreements.</p>

  <p>Quality market data exists, it&#39;s just not made for indie app developers. It&#39;s very expensive. Several leading U.S. market data providers have commercial use data pricing starting at $2,000 per month. And that&#39;s not for everything, if you need things like index data or options data, there&#39;s more charges ahead.</p>

  <p>I spoke with one of these providers last year, trying to get them to understand how small app developers need affordable commercial use data. They presented a startup-focused plan that they were pitching for $499/month in addition to a per-MAU fee. Even that I would still consider very expensive for my needs, and it seems like that may have fallen by the wayside and is no longer promoted on their website.</p>
    
  <p>I could spend months developing Stocketa, incurring that monthly API cost until I went live (or risk getting shutdown if I tried to use a cheaper non-commercial plan during the TestFlight phase) then not make enough money to cover costs on the App Store and have to shut it down shortly after anyways.</p>
  
  <p>Overall, it feels like no one in this cares to cater to the developer and startup crowd, or they believe there&#39;s not much money for them to pursue there. This was the same case with Plaid when I briefly looked into getting access to their investments API to automatically sync holdings data. They required some sort of minimum length contract.</p>
  
  <h5 id="stopping">Why I stopped working on Stocketa</h5>
  <p>When I started this project, I really began to wonder why where weren&#39;t any great indie apps focused on stocks like this. Just simple, well-designed apps to help the casual investor keep track of their investments. Well I think I was starting to get my answer: getting quality financial data, even just for the United States, is a nightmare. You can only get it if you have a lot of money to invest in your project. And good luck if you really want a great API with comprehensive international data.</p>
  
  <p>I can&#39;t help but draw parallels to what happened recently with the Twitter and Reddit APIs. The risk of running your project or business solely on top of another company&#39;s API, no matter how reliable you think they may be, is extremely high.</p>
  
  <p>Stocketa was always meant to be a side project—never a real business. For it to be a real business, I would need to keep adding functionality and introducing more ways to make money. I couldn&#39;t just have a simple and elegant little app tracking your stocks. It would have to do more, like dipping into financial advice services, or offering stock trading. That&#39;s a hyper-competitive space lined with massive companies. That would mean a busier, cluttered app. The exact reason why I started Stocketa was because of all those cluttered apps.</p>
  
  <p><strong>I decided to stop working on Stocketa for a few reasons:</strong></p>
  
  <ul>
    <li><p><strong>Data:</strong> As mentioned above, all the expenses and challenges associated with acquiring reliable, affordable, and high-quality financial data that would make it feasible to release this as a reasonably priced subscription-based app.</p></li>
    <li>
      <p><strong>Support:</strong> The associated investment in customer support. Based on how people were using my TestFlight, it was going to be a significant investment to keep up with support, emails, maintenance, and ongoing feature development. However, part of this was likely due to complexity incurred from having to fix or skirt around unreliable data. There were lots of things I wanted to keep improving and refining with the app and that wouldn&#39;t end any time soon.</p>
      <p>If I were to release and charge for Stocketa, I would feel especially on the hook to resolve issues in a timely manner and that&#39;s not something I can accomodate now because of the next point.</p>
    </li>
    <li>
      <p><strong>Time:</strong> And most importantly, I&#39;ve found something more worthy of my complete focus and attention: <a href="https://rewind.ai">Rewind AI</a>. I sunk a lot of nights and weekends into Stocketa over the years. It consumed every spare moment, even taking over my occasional time writing blog posts here when I had something to share. That was something I really missed. Now, I would much rather be focusing my creative thinking time on how I can improve and grow Rewind.</p>
    </li>
  </ul>

  <p>I originally started working on Stocketa with one goal: to learn Swift and SwiftUI my way with a project that was interesting to me. At the time that was scratching my own itch of keeping track of my investments. While it turned into a much larger and unshipped project, I learned a ton about native iOS development and was able to push myself creatively.</p>

  <p>These days I&#39;m happiest investing my design, product and development time into <a href="https://rewind.ai">Rewind AI</a>, where my SwiftUI knowledge learned with Stocketa has been tremendously helpful.</p>
</section>

  
</article>

      
    </div></div>
  </body>
</html>
