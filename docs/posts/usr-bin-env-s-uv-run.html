<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://simonwillison.net/2024/Aug/21/usrbinenv-uv-run/">Original</a>
    <h1>/usr/bin/env -S uv run</h1>
    
    <div id="readability-page-1" class="page"><div>



<p><strong><a href="https://github.com/alsuren/sixdofone/blob/43a73c4b9d60904fceb4ed0418178ca0bd1a663d/app.py">#!/usr/bin/env -S uv run</a></strong> (<a href="https://twitter.com/charliermarsh/status/1826008669131067757" title="@charliermarsh">via</a>) This is a really neat pattern. Start your Python script like this:</p>
<pre><code>#!/usr/bin/env -S uv run
# /// script
# requires-python = &#34;&gt;=3.12&#34;
# dependencies = [
#     &#34;flask==3.*&#34;,
# ]
# ///
import flask
# ...
</code></pre>
<p>And now if you <code>chmod 755</code> it you can run it on <em>any machine</em> with the <code>uv</code> binary installed like this: <code>./app.py</code> - and it will automatically create its own isolated environment and run itself with the correct installed dependencies and even the correctly installed Python version.</p>
<p>All of that from putting <code>uv run</code> in the shebang line!</p>
<p>Code from <a href="https://github.com/alsuren/sixdofone/pull/8">this PR</a> by David Laban.</p>



</div></div>
  </body>
</html>
