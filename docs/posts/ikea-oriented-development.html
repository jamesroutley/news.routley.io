<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://taylor.town/ikea-oriented-development">Original</a>
    <h1>IKEA-Oriented Development</h1>
    
    <div id="readability-page-1" class="page"><div>

<p>
Every codebase is a home. Repos carry scars, arguments, memories, secrets,
decorations, and sometimes
<a href="https://twitter.com/FrostbiteEngine/status/398214869662441472">graffiti</a>.</p>
<p>
Programmers are homeowners. They perform repairs, rearrange things, and embark
on redesigns.</p>
<p>
To frugally furnish a codebase, imitate Ikea:</p>
<ol>
<li>
<a href="#air">Packaging is the Product</a> </li>
<li>
<a href="#deps">Pre-Packaged Dependencies</a> </li>
<li>
<a href="#cd">Composable &amp; Disposable</a> </li>
</ol>
<hr/>
<h2 id="air">
1. Packaging is the Product</h2>
<p>
<a href="https://twitter.com/DeLaNate/status/654796101887721472/photo/1?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E654796101887721472%7Ctwgr%5E0fb5010f80f8b4dbb3db86f2de2085e351161f1b%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Fwww.buzzfeed.com%2Fmorenikeadebayo%2Famazon-packaging-needs-to-chill-the-fuck-out"> <img src="https://taylor.town/persimmon-box.jpg" alt="shipping air"/>
</a></p>
<blockquote>
<p>
We hate air. </p>
<p>
– Peter Agnefjäll (CEO of IKEA) </p>
</blockquote>
<p>
They’re not trying to cut costs on assembly labor, folks.</p>
<p>
Air is expensive. Ikea embraces DIY furniture to save space on trucks, ships,
and warehouses.</p>
<blockquote>
<p>
IKEA famously eliminates air from their packages by selling their furniture in
ready-to-assemble parts. In 2010, when they started selling their Ektorp sofa
disassembled, IKEA eliminated enough air to reduce their package size by 50%.
With this smaller packaging, IKEA was able to remove 7,477 trucks from the
roads annually. </p>
<p>
– Katelan Cunningham
(<a href="https://www.lumi.com/blog/ship-less-air"><em>Why IKEA Hates Air</em></a>) </p>
</blockquote>
<p>
It takes ~10 seconds to open the Zoom <em>login screen</em> on my M1 Pro. Generations
of software devs used Moore’s Law to deliver exponential air to our computers.</p>
<p>
Packaging is the product; data layouts matter.</p>
<p>
<a href="https://gist.github.com/jboner/2841832"> <img src="https://taylor.town/k0t1e.png" alt="computing latencies"/>
</a></p>
<p>
Delivering data is expensive.</p>
<p>
Bytes bounce between disks, RAM, caches, and networks.</p>
<p>
How much space/time <em>should</em> a program use in theory? Seriously,
<a href="https://www.youtube-nocookie.com/embed/Ge3aKEmZcqY">always make an educated guess</a>.</p>
<p>
Take any ID or value in your system. How many computers does it touch? How much
time does it spend in HTTP packets? How big and how long does it spend in RAM?
How many times is it copied in CPU cache? How is it moved or copied on the
program stack? How is it represented in the GPU?</p>

<p>
As an exercise for the reader, how much air is being delivered in each case?</p>
<pre><code>let points = 0;
const usrs = await sql`select * from usr where country = &#39;JP&#39;`;
for (const usr of usrs) {
  points += usr.points;
}</code></pre>
<pre><code>const usrs = await sql`select * from usr where country = &#39;JP&#39;`;
const [{ points = 0 }] = await sql`
  select sum(points) as points
  from usr
  where id in ${sql(usrs.map((usr) =&gt; usr.id))}
`;</code></pre>
<pre><code>const [{ points = 0 }] = await sql`
  select sum(points) as points
  from usr
  where country = &#39;JP&#39;
`;</code></pre>
<h2 id="deps">
2. Pre-Packaged Dependencies</h2>

<p>
<a href="http://web.archive.org/web/20230601074628/https://ikeamuseum.com/en/digital/the-story-of-ikea/flatpacks/"> <img src="https://taylor.town/im-1950-flatpack-01-1256x1600.png" alt="ikea flatpack"/>
</a></p>
<p>
If you have a hammer and screwdriver, you can build Ikea furniture. Everything
else comes in the box. Nobody wants to hunt for a 6.2mm allen key when what you
really need is a bookshelf.</p>
<p>
<img src="https://taylor.town/ikea-screwdriver-1536x521.png" alt="Ikea tools"/>
</p>
<p>
In the computing world, screws are made of plaintext, HTTP, etc. Today’s shells
and standard libraries offer ubiquitous screwdrivers like Regex manipulation,
HTTP processing, and JSON parsing.</p>
<p>
If you can’t bundle allen keys for your hex fasteners, stick to screws.
Likewise, if you lack the engineering resources to support multiple SDKs, make
damn sure your web API is easy enough to access with <code>curl</code>.</p>
<p>
My MarioKart 64 cartridge probably won’t inform me that Python2.7 was
deprecated. If your program isn’t designed to work 20 years from now, it won’t.</p>
<h2 id="cd">
3. Composable &amp; Disposable</h2>
<p>
<img src="https://taylor.town/20-IKEA-KALLAX-Hacks-Your-Home-Needs.jpg" alt="kallax variations"/>
</p>
<blockquote>
<p>
Flat-pack furniture is not meant to last. It has taken me too long to
understand that flimsiness is part of its appeal. Because when the door of a
cabinet starts to sag off plumb and the laminate is curling off its corner,
that means you get to buy another one. </p>
<p>
–
<a href="https://www.spectator.co.uk/article/ikea-s-real-genius-making-furniture-disposable">Lionel Shriver</a> </p>
</blockquote>
<p>
<a href="https://www.reddit.com/r/ikeahacks/top">Ikea furniture is hackable.</a></p>
<p>
Hackable things are often (1) composable and (2) disposable.</p>
<p>
Composable systems expose extendible interfaces. For example,
<a href="https://en.wikipedia.org/wiki/Eurorack">Eurorack modular synths</a> offer auditory
combinatorics (at exorbitant prices).</p>
<p>
Disposable goods (i.e. commodities) are useful <em>because</em> they aren’t special. A
paper plate can be repurposed as a mask, a canvas, a paint palette, a frisbee, a
paper snowflake, etc. Ceramic plates are not very versatile.</p>
<p>
Together, composability and disposability encourage experimentation.</p>
<p>
SQL is ugly, but there’s a good reason it’s the lingua-franca of tech. People
embrace SQL’s blemishes because (1) it’s generally fast and (2) queries are
disposable. Plus, whenever you need a new query, you can rifle through your
trash to find snippets worth recycling! SQL is easy to cobble, remix, and edit.</p>
<p>
To make your software hackable:</p>
<ul>
<li>
<strong>Make experimentation effortless.</strong> If tweaking and testing your codebase is
a pain, devs will avoid making changes. Nobody wants to wade through spaghetti
then wait 40 seconds for recompilation. </li>
<li>
<strong>Embrace reliable mainstream formats.</strong> Use common interfaces like CSV,
webhooks, JSON, and RSS. Products are way more useful when you can plug them
into GNU utils, IFTTT, Siri Shortcuts, etc. </li>
<li>
<strong>Write code that can be replaced.</strong> Writing code is easy, but editing code is
hard. Make inputs and outputs extremely clear; everything between is
disposable detail. We intuitively call irreplacable code “complicated” or
“spaghetti”. </li>
</ul>

</div></div>
  </body>
</html>
