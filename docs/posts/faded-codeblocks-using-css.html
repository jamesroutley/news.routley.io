<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://pjg1.site/fade-block-css">Original</a>
    <h1>Faded codeblocks using CSS</h1>
    
    <div id="readability-page-1" class="page"><div role="main">

<p><time datetime="2025-02-26">February 26, 2025</time>
</p>
<p>One aspect I’ve gotten stuck on with the styling of this blog is code blocks. I’ve tried adding a border and/or a background color in the past, but I couldn’t stick with either of them and constantly kept changing styles.</p>

<p>I wanted a subtler indication to scroll if a block overflows, and a fading gradient towards seemed like a good option.</p>

<p>Here’s the CSS I wrote for it:</p>

<pre><code><span>pre</span> <span>{</span>
  <span>position</span><span>:</span> <span>relative</span><span>;</span>
  <span>background</span><span>:</span> <span>white</span><span>;</span>
<span>}</span>
<span>pre</span><span>::after</span> <span>{</span>
  <span>content</span><span>:</span> <span>&#34;&#34;</span><span>;</span>
  <span>position</span><span>:</span> <span>absolute</span><span>;</span>
  <span>top</span><span>:</span> <span>0</span><span>;</span>
  <span>bottom</span><span>:</span> <span>0</span><span>;</span>
  <span>left</span><span>:</span> <span>95%</span><span>;</span>
  <span>right</span><span>:</span> <span>0</span><span>;</span>
  <span>background-image</span><span>:</span> <span>linear-gradient</span><span>(</span><span>to</span> <span>right</span><span>,</span> <span>transparent</span><span>,</span> <span>white</span><span>);</span>
<span>}</span>
<span>@media</span> <span>(</span><span>prefers-color-scheme</span><span>:</span> <span>dark</span><span>)</span> <span>{</span>
  <span>pre</span> <span>{</span>
    <span>background</span><span>:</span> <span>black</span><span>;</span>
  <span>}</span>
  <span>pre</span><span>::after</span> <span>{</span>
    <span>background-image</span><span>:</span> <span>linear-gradient</span><span>(</span><span>to</span> <span>right</span><span>,</span> <span>transparent</span><span>,</span> <span>black</span><span>);</span>
  <span>}</span>
<span>}</span>
<span>pre</span> <span>code</span> <span>{</span>
  <span>display</span><span>:</span> <span>block</span><span>;</span>
  <span>padding</span><span>:</span> <span>0.75rem</span> <span>0</span><span>;</span>
  <span>overflow</span><span>:</span> <span>auto</span><span>;</span>
  <span>padding-inline-end</span><span>:</span> <span>1.5rem</span><span>;</span>
<span>}</span></code></pre>

<p>The key behind this effect is the <code>::after</code> pseudo-element, which is a linear-gradient positioned to the right end of the <code>pre</code> block. The <code>left</code> value ensures that the gradient doesn’t overlap the block completely, and acts as a subtle gradient, suggesting the user to scroll to see the code.</p>

<p>Usually I’d add the scroll to the <code>pre</code> block, however since we want the pseudoelement to stay at a fixed position, the scroll and overflow is applied to the child block - the <code>code</code> element in this case.</p>

<p>The gradient hiding overflow text makes sense, but this also covers the text at the end of the scroll. This is fixed by adding <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/padding-inline-end" target="_blank" rel="noopener"><code>padding-inline-end</code></a> to the <code>code</code> element, which adds padding at the end of scroll.</p>

<p>Here’s how it looks:</p>

<pre><code>This is a super long string of text that appears to be faded where the text overflows.</code></pre>

<p>While I’ve demonstrated this for codeblocks, this styling could be extended for any block element - say a paragraph within a div, or a paragraph within a blockquote.</p>
</div></div>
  </body>
</html>
