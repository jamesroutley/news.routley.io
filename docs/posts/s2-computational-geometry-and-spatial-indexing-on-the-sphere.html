<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/google/s2geometry">Original</a>
    <h1>S2: Computational geometry and spatial indexing on the sphere</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto"><a href="https://travis-ci.org/google/s2geometry" rel="nofollow"><img src="https://camo.githubusercontent.com/7c1678c94e6edffb8c739e2f9c36f1b06866a951cb309c70015ecfbe23251460/68747470733a2f2f7472617669732d63692e6f72672f676f6f676c652f733267656f6d657472792e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/google/s2geometry.svg?branch=master"/></a></p>
<h2 dir="auto"><a id="user-content-overview" aria-hidden="true" href="#overview"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Overview</h2>
<p dir="auto">This is a package for manipulating geometric shapes. Unlike many geometry
libraries, S2 is primarily designed to work with <em>spherical geometry</em>, i.e.,
shapes drawn on a sphere rather than on a planar 2D map. This makes it
especially suitable for working with geographic data.</p>
<p dir="auto">If you want to learn more about the library, start by reading the
<a href="http://s2geometry.io/about/overview" rel="nofollow">overview</a> and <a href="http://s2geometry.io/devguide/cpp/quickstart" rel="nofollow">quick start
document</a>, then read the
introduction to the <a href="http://s2geometry.io/devguide/basic_types" rel="nofollow">basic types</a>.</p>
<p dir="auto">S2 documentation can be found on <a href="http://s2geometry.io" rel="nofollow">s2geometry.io</a>.</p>
<h2 dir="auto"><a id="user-content-requirements-for-end-users" aria-hidden="true" href="#requirements-for-end-users"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Requirements for End Users</h2>
<ul dir="auto">
<li><a href="http://www.cmake.org/" rel="nofollow">CMake</a></li>
<li>A C++ compiler with C++11 support, such as <a href="https://gcc.gnu.org/" rel="nofollow">g++ &gt;= 4.7</a></li>
<li><a href="https://github.com/abseil/abseil-cpp">Abseil</a> (standard library extensions)</li>
<li><a href="https://github.com/openssl/openssl">OpenSSL</a> (for its bignum library)</li>
<li><a href="https://github.com/gflags/gflags">gflags command line flags</a>, optional</li>
<li><a href="https://github.com/google/glog">glog logging module</a>, optional</li>
<li><a href="https://github.com/google/googletest">googletest testing framework</a>
(to build tests and example programs, optional)</li>
</ul>
<p dir="auto">On Ubuntu, all of these other than abseil can be installed via apt-get:</p>
<div data-snippet-clipboard-copy-content="sudo apt-get install cmake libgflags-dev libgoogle-glog-dev libgtest-dev libssl-dev"><pre><code>sudo apt-get install cmake libgflags-dev libgoogle-glog-dev libgtest-dev libssl-dev
</code></pre></div>
<p dir="auto">Otherwise, you may need to install some from source.</p>
<p dir="auto">Currently, Abseil must always be installed from source.  See the use of
<code>-DCMAKE_PREFIX_PATH</code> in the <a href="#building">build instructions below</a>.
This is likely to change.</p>
<p dir="auto">On macOS, use <a href="http://www.macports.org/" rel="nofollow">MacPorts</a> or
<a href="http://brew.sh/" rel="nofollow">Homebrew</a>.  For MacPorts:</p>
<div data-snippet-clipboard-copy-content="sudo port install cmake gflags google-glog openssl"><pre><code>sudo port install cmake gflags google-glog openssl
</code></pre></div>
<p dir="auto">Do not install <code>gtest</code> from MacPorts; instead download <a href="https://github.com/google/googletest/releases/tag/release-1.8.0">release
1.8.0</a>, unpack,
and substitute</p>
<div data-snippet-clipboard-copy-content="cmake -DGTEST_ROOT=/...absolute path to.../googletest-release-1.8.0/googletest .."><pre><code>cmake -DGTEST_ROOT=/...absolute path to.../googletest-release-1.8.0/googletest ..
</code></pre></div>
<p dir="auto">in the build instructions below.</p>
<p dir="auto">Thorough testing has only been done on Ubuntu 14.04.3 and macOS 10.12.</p>
<h2 dir="auto"><a id="user-content-build-and-install" aria-hidden="true" href="#build-and-install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Build and Install</h2>
<p dir="auto">You may either download the source as a ZIP archive, or <a href="https://help.github.com/articles/cloning-a-repository/">clone the git
repository</a>.</p>
<h3 dir="auto"><a id="user-content-via-zip-archive" aria-hidden="true" href="#via-zip-archive"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Via ZIP archive</h3>
<p dir="auto">Download <a href="https://github.com/google/s2geometry/archive/master.zip">ZIP file</a></p>
<div data-snippet-clipboard-copy-content="cd [parent of directory where you want to put S2]
unzip [path to ZIP file]/s2geometry-master.zip
cd s2geometry-master"><pre><code>cd [parent of directory where you want to put S2]
unzip [path to ZIP file]/s2geometry-master.zip
cd s2geometry-master
</code></pre></div>
<h3 dir="auto"><a id="user-content-via-git-clone" aria-hidden="true" href="#via-git-clone"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Via <code>git clone</code></h3>
<div data-snippet-clipboard-copy-content="cd [parent of directory where you want to put S2]
git clone https://github.com/google/s2geometry.git
cd s2geometry"><pre><code>cd [parent of directory where you want to put S2]
git clone https://github.com/google/s2geometry.git
cd s2geometry
</code></pre></div>
<h3 dir="auto"><a id="user-content-building" aria-hidden="true" href="#building"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Building</h3>
<p dir="auto">First, <a href="https://github.com/abseil/abseil-cpp/blob/master/CMake/README.md#traditional-cmake-set-up">install Abseil</a>.
It must be configured with <code>-DCMAKE_POSITION_INDEPENDENT_CODE=ON</code>.
s2geometry must be configured to use the came C++ version that
abseil uses.  The easiest way to achieve this is to pass
<code>-DCMAKE_CXX_STANDARD=11</code> (or <code>-DCMAKE_CXX_STANDARD=17</code>) to <code>cmake</code>
when compiling both abseil and s2geometry.</p>
<p dir="auto">From the appropriate directory depending on how you got the source:</p>
<div data-snippet-clipboard-copy-content="mkdir build
cd build
# You can omit -DGTEST_ROOT to skip tests; see above for macOS.
# Use the same CMAKE_CXX_STANDARD value that was used with absl.
cmake -DGTEST_ROOT=/usr/src/gtest -DCMAKE_PREFIX_PATH=/path/to/absl/install -DCMAKE_CXX_STANDARD=11 ..
make -j $(nproc)
make test ARGS=&#34;-j$(nproc)&#34;  # If GTEST_ROOT specified above.
sudo make install"><pre><code>mkdir build
cd build
# You can omit -DGTEST_ROOT to skip tests; see above for macOS.
# Use the same CMAKE_CXX_STANDARD value that was used with absl.
cmake -DGTEST_ROOT=/usr/src/gtest -DCMAKE_PREFIX_PATH=/path/to/absl/install -DCMAKE_CXX_STANDARD=11 ..
make -j $(nproc)
make test ARGS=&#34;-j$(nproc)&#34;  # If GTEST_ROOT specified above.
sudo make install
</code></pre></div>
<p dir="auto">On macOS, <code>sysctl -n hw.logicalcpu</code> is the equivalent of <code>nproc</code>.</p>
<p dir="auto">Enable gflags and glog with <code>cmake -DWITH_GFLAGS=ON -DWITH_GLOG=ON ...</code>.</p>
<p dir="auto">Disable building of shared libraries with <code>-DBUILD_SHARED_LIBS=OFF</code>.</p>
<p dir="auto">Enable the python interface with <code>-DWITH_PYTHON=ON</code>.</p>
<h2 dir="auto"><a id="user-content-installing" aria-hidden="true" href="#installing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing</h2>
<p dir="auto">From <code>build</code> subdirectory:</p>

<p dir="auto">Prefix it with <code>sudo</code> if needed:</p>

<p dir="auto"><em>NOTE</em>: There is not <code>uninstall</code> target but <code>install_manifest.txt</code> may be helpfull.</p>
<p dir="auto">All files will be installed at location specified in <code>CMAKE_INSTALL_PREFIX</code> variable.</p>
<p dir="auto">Several suffix variables used for some file groups:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CMAKE_INSTALL_INCLUDEDIR</code></td>
<td><code>include</code></td>
<td>For header files</td>
</tr>
<tr>
<td><code>CMAKE_INSTALL_BINDIR</code></td>
<td><code>bin</code></td>
<td>For executables and <code>*.dll</code> files on <code>DLL</code>-based platforms</td>
</tr>
<tr>
<td><code>CMAKE_INSTALL_LIBDIR</code></td>
<td><code>lib</code></td>
<td>For library files (<code>*.so</code>, <code>*.a</code>, <code>*.lib</code> etc)</td>
</tr>
</tbody>
</table>
<p dir="auto">If needed set this variables on command line as <code>cmake</code> arguments with <code>-D</code> prefix or edit from <code>build</code> subdirectory:</p>

<p dir="auto">For more info read: <a href="https://cmake.org/cmake/help/latest/guide/user-interaction/index.html#the-cmake-cache" rel="nofollow">The CMake Cache</a>.</p>
<h2 dir="auto"><a id="user-content-python" aria-hidden="true" href="#python"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Python</h2>
<p dir="auto">If you want the Python interface, you need to run cmake using
<code>-DWITH_PYTHON=ON</code>. You will also need to install the following dependencies:</p>
<ul dir="auto">
<li><a href="https://github.com/swig/swig">SWIG 4</a> (for Python support, optional)</li>
<li>python3-dev (for Python support, optional)</li>
</ul>
<p dir="auto">which can be installed via</p>
<div data-snippet-clipboard-copy-content="sudo apt-get install swig python3-dev"><pre><code>sudo apt-get install swig python3-dev
</code></pre></div>
<p dir="auto">or on macOS:</p>

<p dir="auto">Version 4.0 is required, but it should be easy to make it work 3.0 or probably
even 2.0.</p>
<p dir="auto">Python 3 is required.</p>
<h2 dir="auto"><a id="user-content-other-s2-implementations" aria-hidden="true" href="#other-s2-implementations"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Other S2 implementations</h2>
<ul dir="auto">
<li><a href="https://github.com/golang/geo">Go</a> (Approximately 40% complete.)</li>
<li><a href="https://github.com/google/s2-geometry-library-java">Java</a> (Some newer C++ features are missing;
last updated in 2021.)</li>
<li><a href="https://github.com/Enovea/s2-geometry-kotlin">Kotlin</a> (Complete except binary serialization)</li>
</ul>
<h2 dir="auto"><a id="user-content-disclaimer" aria-hidden="true" href="#disclaimer"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Disclaimer</h2>
<p dir="auto">This is not an official Google product.</p>
</article>
        </div></div>
  </body>
</html>
