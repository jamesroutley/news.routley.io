<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.ilograph.com/blog/posts/concrete-diagramming-models/">Original</a>
    <h1>Concrete Diagramming, a Lightweight Alternative to C4</h1>
    
    <div id="readability-page-1" class="page"><div><p><em>“All you have to do is write one true sentence. Write the truest sentence that you know.”</em> – Ernest Hemingway</p>
<p>This article introduces the concept of concrete diagramming models. It details what they are, how they’re created and used, and their benefits. It also compares and contrasts concrete diagramming models with C4 diagramming models.</p>
<h5 id="what-are-diagramming-models">What are diagramming models?</h5>
<p>Model-based diagramming is a technique for bringing structure and consistency to technical system diagramming. Diagram models are essentially lists (or trees) of <strong>resources</strong> (things). An author then uses these resources when creating diagrams.</p>
<p>Diagram models are great for reuse, as diagrams using the shared resources of the model can be easily kept in sync. Creating new diagrams from an existing model is also far easier than starting from scratch.</p>
<div><video loop="" autoplay="" muted="" src="/blog/img/why-diagram/whyDiagram3.mp4"></video>
<p>Re-using shared resources in different diagrams</p>
</div>
<p>Diagram models are the diagramming equivalent of database schemas or <a href="https://payments.posthaven.com/blog/posts/how-typescript-inspired-ilograph/">static type checking</a>. With some up-front investment, they <a href="https://payments.posthaven.com/blog/posts/beyond-whiteboarding-creating-expert-system-architecture-diagrams/">help deliver system diagrams that deliver long-term value</a>.</p>

<p>There are different techniques and philosophies for creating diagramming models. The subject of this article is <strong>concrete diagramming models</strong>. Concrete diagramming models are bottom-up, fact-based models that prioritize hard information over generalizations. They are ideal for creating diagrams with lots of detail, such as when diagramming existing systems.</p>
<p>Concrete diagramming models are domain-agnostic; they are used to diagram any type of system. They can be used with any diagramming tool; however, for best results, model-based diagramming tools are <a href="https://payments.posthaven.com/blog/posts/its-time-to-drop-drag-and-drop-diagram-tools/">recommended over generic drag-and-drop tools</a>.</p>
<h5 id="concrete-and-abstract-resources">Concrete and Abstract resources</h5>
<p>Concrete models are so-named because they model a system starting with <strong>concrete resources</strong>. A resource is any discrete entity in a system that provides value; a concrete resource is one that is material or tangible. It is an <em>actual thing</em>, something that indisputably <em>exists</em>. From computing, concrete resources can include the following:</p>
<table>
  <tbody><tr>
    <td>Database tables</td>
    <td>Servers</td>
  </tr>
  <tr>
    <td>APIs</td>
    <td>Pipelines</td>
  </tr>
  <tr>
    <td>Codebases</td>
    <td>Repositories</td>
  </tr>
  <tr>
    <td>Packages</td>
    <td>Executables</td>
  </tr>
  <tr>
    <td>People</td>
    <td>Hardware</td>
  </tr>
</tbody></table><blockquote>In cloud computing, if a resource has a URL in a developer dashboard or console, it is probably a concrete resource.</blockquote><p>Concrete resources stand in contrast to <strong>abstract resources</strong>. Abstract resources are intangible and purely conceptual. Their very existence has an eye-of-the-beholder quality to it. From computing, abstract resources include things like services and domains. We’ll see how an abstract resource can be formed from concrete resources later in this article.</p><h5 id="laying-the-foundation">Laying the foundation</h5><p>Creating a concrete model entails first defining concrete resources in a bottom-up approach. These resources are the foundation of the model and the diagram(s) created from it. One creates a concrete model by listing the concrete resource (see above for a list of examples) in the system. When listing a resource, be sure to include its name and type (the kind of thing it is). Depending on the diagramming tool used, these resources can also be given colors, icons, and other information. Concrete resources can also have child resources. For (many) more details on this process, see <a href="https://payments.posthaven.com/blog/posts/multiperspective-diagramming-guide/">this guide to multiperspective diagramming</a>.</p><p>The following is a simple model used in example diagrams in the next section:</p><table>
<thead>
<tr>
<th>Resource Name</th>
<th>Resource Type</th>
<th>Color</th>
</tr>
</thead>
<tbody>
<tr>
<td>getOrder</td>
<td>Lambda</td>
<td>Orange</td>
</tr>
<tr>
<td>createOrder</td>
<td>Lambda</td>
<td>Orange</td>
</tr>
<tr>
<td>getUser</td>
<td>Lambda</td>
<td>Orange</td>
</tr>
<tr>
<td>Orders</td>
<td>DynamoDB Table</td>
<td>Blue</td>
</tr>
<tr>
<td>Order History</td>
<td>DynamoDB Table</td>
<td>Blue</td>
</tr>
<tr>
<td>Users</td>
<td>DynamoDB Table</td>
<td>Blue</td>
</tr>
<tr>
<td>Order</td>
<td>API Resource</td>
<td>Purple</td>
</tr>
<tr>
<td>User</td>
<td>API Resource</td>
<td>Purple</td>
</tr>
</tbody>
</table>
<h5 id="diagramming-with-concrete-resources">Diagramming with concrete resources</h5>
<p>Creating diagrams with concrete resources is straightforward. Relationships between concrete resources are designated with arrows like so:</p>
<div><p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Dependency"><img src="https://payments.posthaven.com/blog/img/concrete/img1.png" alt="A system diagram with concrete resources"/></a></p><p>Relations between these resources are designated by arrows</p></div>
<p>Multiple diagrams can be created using the model. Here is a sequence diagram showing the steps of a complex interaction between these same resources:</p>
<div><p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Create%2520order"><img src="https://payments.posthaven.com/blog/img/concrete/img2.png" alt="A system diagram with concrete resources"/></a></p><p>A sequence diagram using the same resources</p></div>
<p>Toggling between these diagrams demonstrates they share a common model:</p>
<div><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Dependency"><video loop="" autoplay="" muted="" src="/blog/img/concrete/vid1.mp4"></video></a>
<p>These two diagrams share common resources</p></div>
<h5 id="composing-concrete-resources">Composing concrete resources</h5>
<p>In diagramming, resources can be <strong>composed</strong> (put inside one another). This helps organize the diagram and gives the viewer useful context. This diagram is the same as the sequence diagram in the previous section, only with composing resources:</p>
<div><p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Create%2520order%2520(AWS)"><img src="https://payments.posthaven.com/blog/img/concrete/img4.png" alt="A system diagram with concrete resources"/></a></p><p>The same sequence as above, but with more context</p></div>
<p>The newly-added composing resources are:</p>
<table>
<thead>
<tr>
<th>Resource Name</th>
<th>Resource Type</th>
<th>Color</th>
</tr>
</thead>
<tbody>
<tr>
<td>API Gateway</td>
<td>AWS Service</td>
<td>Purple</td>
</tr>
<tr>
<td>Lambda</td>
<td>AWS Service</td>
<td>Orange</td>
</tr>
<tr>
<td>DynamoDB</td>
<td>AWS Service</td>
<td>Blue</td>
</tr>
<tr>
<td>Amazon Web Services</td>
<td>Cloud Provider</td>
<td>Orange</td>
</tr>
</tbody>
</table>
<p>The addition of four composing resources gives the diagram more order. The viewer is also given important context about this system, namely the cloud provider (<em>Amazon Web Services</em>) and the services in that provider it uses (<em>API Gateway</em>, <em>Lambda</em>, and <em>DynamoDB</em>).</p>
<p>Additionally, these compositions can <strong>simplify</strong> a diagram. By zooming out and showing the only composing resources, higher-level interactions are revealed:</p>
<div><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Create%2520order%2520(AWS)"><video loop="" autoplay="" muted="" src="/blog/img/concrete/vid3.mp4"></video></a>
<p>Simplifying a sequence diagram using composing resources</p></div>
<p>As the above example demonstrates, any amount of composition is possible. Each “level” of detail makes the diagram simpler until only the highest-level information is visible. In this example, at the very highest level, the interaction is between only the client and AWS.</p>
<p>So far in these diagrams, every resource, even at the highest levels, is a concrete resource. <em>API Gateway</em>, <em>Lambda</em>, <em>DynamoDB</em> are all real services, as are the individual resources (tables, Lambda, etc.) in them. Sometimes, though, it is helpful to show resources composed in ways that aren’t strictly literal. This is done using abstract resources.</p>
<h5 id="optional-adding-abstract-resources">(Optional) Adding abstract resources</h5>
<p>Concrete resources are the foundation of concrete models. Abstract resources play a secondary, and optional, part.</p>
<p>As noted previously, abstract resources are intangible and purely conceptual. For diagramming purposes, they exist only as compositions of many concrete resources. Unlike concrete resources, abstract resources do not convey information per-se. Their value is in their ability to organize and simplify in conceptual ways.</p>
<p>Consider the sequence diagram in the previous section. It separates the database tables, Lambdas, and APIs into their respective AWS services. This is highly relevant, but not the only way to organize them. Somtimes (perhaps often) it is better to present them as <strong>services</strong>, like in the following diagram:</p>
<div><p><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Create%2520order%2520(Service)"><img src="https://payments.posthaven.com/blog/img/concrete/img6.png" alt="A system diagram with concrete resources"/></a></p><p>The same sequence as above, but with abstract resources (Services, in green) as context</p></div>
<p>All of the interactions (arrows) are the same as before. <em>Order Service</em> and <em>User Service</em> (rendered in green) are the abstract resources. These services exist only conceptually; they are nothing more than a convenient way of grouping APIs, Lambdas and database tables. Like concrete resources in the previous section, they can be used to demonstrate higher-level relations and interactions:</p>
<div><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Create%2520order%2520(Service)"><video loop="" autoplay="" muted="" src="/blog/img/concrete/vid4.mp4"></video></a>
<p>Simplifying a sequence diagram with abstract resources (Services, in green)</p></div>

<p>The bottom-up, just-the-facts philosophy of concrete modeling offers important benefits. It helps keep diagrams grounded in reality. Imprecise and untrue information is easier to spot, and can be rooted out sooner.</p>
<p>Concrete models do not rely on externally-prescribed abstractions or concepts. These models are adapted to a system, not the other way around. They describe systems as they are using the langauge of the systems themselves.</p>
<p>As mentioned, concrete diagramming models are ideal for creating diagrams with lots of detail. This makes them perfect for creating system documentation that delivers long-term value.</p>

<p>Concrete diagram modeling is an alternative to, but not a replacement of, the <a href="https://c4model.com/">C4 Model</a> created by Simon Brown.</p>
<h5 id="what-is-c4">What is C4?</h5>
<p>Brown introduces the C4 Model as “an ‘abstraction-first’ approach to diagramming software architecture.” It prescribes “a set of hierarchical abstractions and a set of corresponding hierarchical diagrams.” These four prescribed levels of abstraction are <strong>Context</strong>, <strong>Container</strong>, <strong>Component</strong>, <strong>Code</strong> (hence C4).</p>
<p>The link above describes these abstractions and gives examples for each (“In the C4 model, a container represents an application or a data store”. Examples of “containers” in C4 include “Mobile apps”, “Databases”, and “File systems”). When modeling with C4, the modeler is supposed to map their own resources to one of these four abstractions.</p>
<p>The C4 model is also top-down; it suggests that Context diagrams (the highest level) is a good starting point for diagramming as it allows the viewer to see the big picture.</p>
<h5 id="shortcomings-of-the-c4-model">Shortcomings of the C4 Model</h5>
<p>The C4 Model is fairly well established, but it does have some shortcomings:</p>
<p><strong>Overly-prescriptive abstractions</strong></p>
<p>One of C4’s goals is to create a “ubiquitous language” to describe software systems. Diagram authors are tasked with mapping all of their resources to one of four levels of abstraction (Context, Container, Component, Code), and then use them in a handful of (also prescribed) diagram types. The thinking is that there is long-term benefit to the industry by using a common language for abstraction in software diagramming.</p>
<p>The problem is that systems today have many different <em>kinds of things</em>. Servers, databases, virtualized containers, APIs, pipelines, repositories, packages, libraries, and (many, many) cloud resources are all real, concrete things that provide real value. Forcing them into one of C4’s four levels of abstraction doesn’t really accomplish much. A database is a database; debating whether it is also a <em>Container</em> or a <em>Component</em> just isn’t worthwhile. Diagram authors and viewers are better off seeing these resources for what they actually are.</p>
<p>Further, when abstraction is called for, using domain-specific abstractions makes more sense than using arbitrary ones. Diagram authors benefit from thinking about each system on its own terms (and <em>in</em> its own terms). Diagram viewers do, too.</p>
<p><strong>Abstraction blindness</strong></p>
<p>Even when they’re a good fit, over-using abstractions can do harm. The top-down, abstraction-first approach of C4 risks focusing too much on a system’s abstractions at the expense of its concrete resources.</p>
<p>A system’s concrete resources, the actual things in a system, are almost always more important than the abstractions used to simplify them. So are the real-world relations and interactions between them. These are the resources diagram viewers most need to understand. Diagrams, and diagramming models, should focus on them as well. Only after doing the “hard” work of detailing these real-world resources should an author take the liberty of abstracting them away.</p>
<h5 id="concrete-models-and-c4-models">Concrete models and C4 Models</h5>
<p>Both concrete models and C4 models have their place. They share the same goals of organization, consistency, and reuse in technical diagrams. C4 is top-down, prescriptive, and abstraction-first. Concrete models are bottom-up, much less prescriptive, and concrete-first. Which to choose depends on one’s personal preference and diagramming goals.</p>

<p>Model-based diagramming is almost always the correct choice when creating diagrams with long-term value. Concrete diagramming models lean into this by emphasizing the real, value-producing resources in system diagrams. They are an excellent choice when the goal is to truly inform the viewer, rather than merely make an impression.</p>
<blockquote><a rel="noopener" href="https://app.ilograph.com/demo.ilograph.Concrete%2520Diagramming%2520Demo/Dependency">Click here</a> to view the diagram used throughout this article.</blockquote>
<p><a href="https://twitter.com/intent/tweet?text=Concrete Diagramming Models, a Lightweight Alternative to C4&amp;url=https://www.ilograph.com/blog/posts/concrete-diagramming-models/" data-size="large">Share this article on Twitter</a></p>
<p><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.ilograph.com/blog/posts/concrete-diagramming-models/&amp;t=Concrete Diagramming Models, a Lightweight Alternative to C4" data-size="large">Share this article on Facebook</a></p>
<p><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.ilograph.com/blog/posts/concrete-diagramming-models/&amp;title=Concrete Diagramming Models, a Lightweight Alternative to C4&amp;source=Ilograph" data-size="large">Share this article on LinkedIn</a></p>

    </div></div>
  </body>
</html>
