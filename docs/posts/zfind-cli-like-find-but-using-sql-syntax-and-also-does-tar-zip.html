<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/laktak/zfind">Original</a>
    <h1>Show HN: zfind â€“ CLI like find but using SQL syntax and also does tar/zip</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">zfind allows you to search for files, including inside <code>tar</code> and <code>zip</code> archives. It makes finding files easy with a filter syntax that is similar to an SQL-WHERE clause.</p>


<p dir="auto">Examples</p>
<div data-snippet-clipboard-copy-content="# find files smaller than 10KB
zfind -w &#39;size&lt;10k&#39;

# find files modified before 2010 inside a tar
zfind -w &#39;date&lt;&#34;2010&#34; and archive=&#34;tar&#34;&#39;

# find files named *.go and modified today
zfind -w &#39;name like &#34;%.go&#34; and date=today&#39;

# find directories named foo and bar
zfind -w &#39;name in (&#34;foo&#34;, &#34;bar&#34;) and type=&#34;dir&#34;&#39;

# search for all README.md files and show in long listing format
zfind -w &#39;name=&#34;README.md&#34;&#39; -l

# show results in csv format
zfind --csv"><pre><code># find files smaller than 10KB
zfind -w &#39;size&lt;10k&#39;

# find files modified before 2010 inside a tar
zfind -w &#39;date&lt;&#34;2010&#34; and archive=&#34;tar&#34;&#39;

# find files named *.go and modified today
zfind -w &#39;name like &#34;%.go&#34; and date=today&#39;

# find directories named foo and bar
zfind -w &#39;name in (&#34;foo&#34;, &#34;bar&#34;) and type=&#34;dir&#34;&#39;

# search for all README.md files and show in long listing format
zfind -w &#39;name=&#34;README.md&#34;&#39; -l

# show results in csv format
zfind --csv
</code></pre></div>

<ul dir="auto">
<li><code>AND</code>, <code>OR</code> and <code>()</code> parentheses are logical operators used to combine multiple conditions. <code>AND</code> means that both conditions must be true for a row to be included in the results. <code>OR</code> means that if either condition is true, the row will be included. Parentheses are used to group conditions, just like in mathematics.</li>
</ul>
<p dir="auto">Example: <code>-w &#39;(size &gt; 20M OR name = &#34;temp&#34;) AND type=&#34;file&#34;&#39;</code> selects all files that are either greater than 20MB in size or are named temp.</p>
<ul dir="auto">
<li>Operators <code>=</code>, <code>&lt;&gt;</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code> are comparison operators used to compare values and file properties. The types must match, meaning don&#39;t compare a date to a file size.</li>
</ul>
<p dir="auto">Example: <code>-w &#39;date &gt; &#34;2020-10-01&#34;</code> selects all files that were modified after the specified date.</p>
<ul dir="auto">
<li><code>LIKE</code>, <code>ILIKE</code> and <code>RLIKE</code> are used for pattern matching in strings.
<ul dir="auto">
<li><code>LIKE</code> is case-sensitive, while <code>ILIKE</code> is case-insensitive.</li>
<li>The <code>%</code> symbol is used as a wildcard character that matches any sequence of characters.</li>
<li>The <code>_</code> symbol matches any single character.</li>
<li><code>RLIKE</code> allows to match a regular expression.</li>
</ul>
</li>
</ul>
<p dir="auto">Example: <code>-w &#34;name like &#34;z%&#34;</code> selects all files whose name starts with &#39;z&#39;.</p>
<ul dir="auto">
<li><code>IN</code> allows you to specify multiple values to match. A file will be included if the value of the property matches any of the values in the list.</li>
</ul>
<p dir="auto">Example: <code>-w &#34;type in (&#34;file&#34;, &#34;link&#34;)</code> selects all files of type file or link.</p>
<ul dir="auto">
<li><code>BETWEEN</code> selects values within a given range (inclusive).</li>
</ul>
<p dir="auto">Example: <code>-w &#34;date between &#34;2010&#34; and &#34;2011-01-15&#34;</code> means that all files that were modified from 2010 to 2011-01-15 will be included.</p>
<ul dir="auto">
<li><code>NOT</code> is a logical operator used to negate a condition. It returns true if the condition is false and vice versa.</li>
</ul>
<p dir="auto">Example: <code>-w &#34;name not like &#34;z%&#34;</code>, <code>-w &#34;date not between &#34;2010&#34; and &#34;2011-01-15&#34;</code>, <code>-w &#34;type not in (&#34;file&#34;, &#34;link&#34;)</code></p>
<ul dir="auto">
<li>Values can be numbers, text, date and time, <code>TRUE</code> and <code>FALSE</code>
<ul dir="auto">
<li>dates have to be specified in <code>YYYY-MM-DD</code> format</li>
<li>times have to be specified in 24h <code>HH:MM:SS</code> format</li>
<li>numbers can be written as sizes by appending <code>B</code>, <code>K</code>, <code>M</code>, <code>G</code> and <code>T</code> to specify bytes, KB, MB, GB and TB.</li>
<li><code>TRUE</code> and <code>FALSE</code>:</li>
<li>empty strings and <code>0</code> evaluate to <code>false</code></li>
</ul>
</li>
</ul>

<p dir="auto">The following file properies are available:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>name of the file</td>
</tr>
<tr>
<td>path</td>
<td>full path of the file</td>
</tr>
<tr>
<td>container</td>
<td>path of the container (if inside a zip or tar)</td>
</tr>
<tr>
<td>size</td>
<td>file size (uncompressed)</td>
</tr>
<tr>
<td>date</td>
<td>modified date in YYYY-MM-DD format</td>
</tr>
<tr>
<td>time</td>
<td>modified time in HH-MM-SS format</td>
</tr>
<tr>
<td>type</td>
<td><code>file</code>, <code>dir</code>, or <code>link</code></td>
</tr>
<tr>
<td>archive</td>
<td>archive type: <code>tar</code>, <code>zip</code> or empty</td>
</tr>
</tbody>
</table>
<p dir="auto">Helper properties</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>today</td>
<td>todays date</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>name</th>
<th>extensions</th>
</tr>
</thead>
<tbody>
<tr>
<td>tar</td>
<td><code>.tar</code>, <code>.tar.gz</code>, <code>.tgz</code>, <code>.tar.bz2</code>, <code>.tbz2</code></td>
</tr>
<tr>
<td>zip</td>
<td><code>.zip</code></td>
</tr>
</tbody>
</table>

<p dir="auto">zfind is built for a number of platforms by GitHub actions.</p>
<p dir="auto">Download a binary from <a href="https://github.com/laktak/zfind/releases">releases</a> and place it in your <code>PATH</code>.</p>
</article></div></div>
  </body>
</html>
