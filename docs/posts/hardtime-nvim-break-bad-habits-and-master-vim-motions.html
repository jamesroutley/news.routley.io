<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/m4xshen/hardtime.nvim">Original</a>
    <h1>Show HN: Hardtime.nvim ‚Äì break bad habits and master Vim motions</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">


<ul dir="auto">
<li>Block repeated keys within a short period of time</li>
<li>Provide hints for faster Vim motion</li>
<li>Get report of your most common bad habits</li>
</ul>

<div dir="auto"><h2 tabindex="-1" dir="auto">üëçüèª Recommended workflow</h2><a id="user-content--recommended-workflow" aria-label="Permalink: üëçüèª Recommended workflow" href="#-recommended-workflow"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Instead of only relying on <code>hjkl</code>, arrow keys and mouse, you should:</p>
<ol dir="auto">
<li>Use relative jump (eg: <code>5j</code> <code>12-</code>) for vertical movement within the screen.</li>
<li>Use <code>CTRL-U</code> <code>CTRL-D</code> <code>CTRL-B</code> <code>CTRL-F</code> <code>gg</code> <code>G</code> for vertical movement outside the screen.</li>
<li>Use word-motion (<code>w</code> <code>W</code> <code>b</code> <code>B</code> <code>e</code> <code>E</code> <code>ge</code> <code>gE</code>) for short-distance horizontal movement.</li>
<li>Use <code>f</code> <code>F</code> <code>t</code> <code>T</code> <code>,</code> <code>;</code> <code>0</code> <code>^</code> <code>$</code> for medium to long-distance horizontal movement.</li>
<li>Use operator + motion/text-object (eg: <code>ci{</code> <code>y5j</code> <code>dap</code>) whenever possible.</li>
<li>Use <code>%</code> and square bracket commands (see <code>:h [</code>) to jump between brackets.</li>
</ol>
<p dir="auto">Learn more in this <a href="https://m4xshen.dev/posts/vim-command-workflow/" rel="nofollow">blog post</a></p>

<ul dir="auto">
<li>Neovim &gt;= <a href="https://github.com/neovim/neovim/releases/tag/v0.10.0">v0.10.0</a></li>
</ul>

<ol dir="auto">
<li>Install via your favorite package manager.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="{
   &#34;m4xshen/hardtime.nvim&#34;,
   lazy = false,
   dependencies = { &#34;MunifTanjim/nui.nvim&#34; },
   opts = {},
},"><pre>{
   <span><span>&#34;</span>m4xshen/hardtime.nvim<span>&#34;</span></span>,
   <span>lazy</span> <span>=</span> <span>false</span>,
   <span>dependencies</span> <span>=</span> { <span><span>&#34;</span>MunifTanjim/nui.nvim<span>&#34; </span></span>},
   <span>opts</span> <span>=</span> {},
},</pre></div>
<ol start="2" dir="auto">
<li>Setup the plugin in your <code>init.lua</code>. This step is not needed with lazy.nvim if <code>opts</code> is set as above.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="require(&#34;hardtime&#34;).setup()"><pre><span>require</span>(<span><span>&#34;</span>hardtime<span>&#34;</span></span>).<span>setup</span>()</pre></div>
<p dir="auto">If you want to see the hint messages in insert and visual mode, set the <code>&#39;showmode&#39;</code> to false.</p>
<p dir="auto">But if you want to see both the hint message and current mode you can setup with one of the following methods:</p>
<ul dir="auto">
<li>Display the mode on status line and set <code>&#39;showmode&#39;</code> to false. You can do this with some statusline plugin such as lualine.nvim.</li>
<li>Set the <code>&#39;cmdheight&#39;</code> to 2 so that the hint message won&#39;t be replaced by mode message.</li>
<li>Use nvim-notify to display hint messages on the right top corner instead of commandline.</li>
</ul>

<p dir="auto">Hardtime is enabled by default. You can change its state with the following commands:</p>
<ul dir="auto">
<li><code>:Hardtime enable</code> enable Hardtime</li>
<li><code>:Hardtime disable</code> disable Hardtime</li>
<li><code>:Hardtime toggle</code> toggle Hardtime</li>
</ul>
<p dir="auto">You can view the most frequently seen hints with <code>:Hardtime report</code>.</p>
<p dir="auto">Your log file is at <code>~/.local/state/nvim/hardtime.nvim.log</code>.</p>

<p dir="auto">You can pass your config table into the <code>setup()</code> function or <code>opts</code> if you use lazy.nvim.</p>
<p dir="auto">If the option is a table (<code>key = value</code> pair), you can set <code>value</code> to <code>false</code> to disable the default value.</p>
<p dir="auto">Examples:</p>
<div dir="auto" data-snippet-clipboard-copy-content="disabled_keys = {
   [&#34;&lt;Up&gt;&#34;] = false, -- Allow &lt;Up&gt; key
   [&#34;&lt;Space&gt;&#34;] = { &#34;n&#34;, &#34;x&#34; }, -- Disable &lt;Space&gt; key in normal and visual mode
},"><pre><span>disabled_keys</span> <span>=</span> {
   [<span><span>&#34;</span>&lt;Up&gt;<span>&#34;</span></span>] <span>=</span> <span>false</span>, <span><span>--</span> Allow &lt;Up&gt; key</span>
   [<span><span>&#34;</span>&lt;Space&gt;<span>&#34;</span></span>] <span>=</span> { <span><span>&#34;</span>n<span>&#34;</span></span>, <span><span>&#34;</span>x<span>&#34; </span></span>}, <span><span>--</span> Disable &lt;Space&gt; key in normal and visual mode</span>
},</pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="disabled_filetypes = { 
   lazy = false, -- Enable Hardtime in lazy filetype
   [&#34;dapui*&#34;] = false, -- Enable Hardtime in filetype starting with dapui
},"><pre><span>disabled_filetypes</span> <span>=</span> { 
   <span>lazy</span> <span>=</span> <span>false</span>, <span><span>--</span> Enable Hardtime in lazy filetype</span>
   [<span><span>&#34;</span>dapui*<span>&#34;</span></span>] <span>=</span> <span>false</span>, <span><span>--</span> Enable Hardtime in filetype starting with dapui</span>
},</pre></div>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Option Name</th>
<th>Type</th>
<th>Default Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>max_time</code></td>
<td>number</td>
<td><code>1000</code></td>
<td>Maximum time (in milliseconds) to consider key presses as repeated.</td>
</tr>
<tr>
<td><code>max_count</code></td>
<td>number</td>
<td><code>3</code></td>
<td>Maximum count of repeated key presses allowed within the <code>max_time</code> period.</td>
</tr>
<tr>
<td><code>disable_mouse</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Disable mouse support.</td>
</tr>
<tr>
<td><code>hint</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Enable hint messages for better commands.</td>
</tr>
<tr>
<td><code>notification</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Enable notification messages for restricted and disabled keys.</td>
</tr>
<tr>
<td><code>timeout</code></td>
<td>number or boolean</td>
<td><code>3000</code></td>
<td>Time to show notification in milliseconds, set to <code>false</code> to disable timeout.</td>
</tr>
<tr>
<td><code>allow_different_key</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Allow different keys to reset the count.</td>
</tr>
<tr>
<td><code>enabled</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Whether the plugin is enabled by default or not.</td>
</tr>
<tr>
<td><code>resetting_keys</code></td>
<td>table</td>
<td><a href="https://github.com/m4xshen/hardtime.nvim/blob/main/lua/hardtime/config.lua">See Config</a></td>
<td>Keys in what modes that reset the count.</td>
</tr>
<tr>
<td><code>restricted_keys</code></td>
<td>table</td>
<td><a href="https://github.com/m4xshen/hardtime.nvim/blob/main/lua/hardtime/config.lua">See Config</a></td>
<td>Keys in what modes triggering the count mechanism.</td>
</tr>
<tr>
<td><code>restriction_mode</code></td>
<td>string (<code>&#34;block&#34; or &#34;hint&#34;</code>)</td>
<td><code>&#34;block&#34;</code></td>
<td>The behavior when <code>restricted_keys</code> trigger count mechanism.</td>
</tr>
<tr>
<td><code>disabled_keys</code></td>
<td>table</td>
<td><a href="https://github.com/m4xshen/hardtime.nvim/blob/main/lua/hardtime/config.lua">See Config</a></td>
<td>Keys in what modes are disabled.</td>
</tr>
<tr>
<td><code>disabled_filetypes</code></td>
<td>table</td>
<td><a href="https://github.com/m4xshen/hardtime.nvim/blob/main/lua/hardtime/config.lua">See Config</a></td>
<td>Hardtime is disabled under these filetypes.</td>
</tr>
<tr>
<td><code>hints</code></td>
<td>table</td>
<td><a href="https://github.com/m4xshen/hardtime.nvim/blob/main/lua/hardtime/config.lua">See Config</a></td>
<td><code>key</code> is a string pattern you want to match, <code>value</code> is a table of hint message and pattern length. Learn more about <a href="https://www.lua.org/pil/20.2.html" rel="nofollow">Lua string pattern</a>.</td>
</tr>
<tr>
<td><code>callback</code></td>
<td>function(text)</td>
<td><code>vim.notify</code></td>
<td><code>callback</code> function can be used to override the default notification behavior.</td>
</tr>
<tr>
<td><code>force_exit_insert_mode</code></td>
<td>boolean</td>
<td><code>false</code></td>
<td>Enable forcing exit Insert mode if user is inactive in Insert mode.</td>
</tr>
<tr>
<td><code>max_insert_idle_ms</code></td>
<td>number</td>
<td><code>5000</code></td>
<td>Maximum amount of idle time, in milliseconds, allowed in Insert mode.</td>
</tr>
<tr>
<td><code>ui</code></td>
<td>table of strings/table pair</td>
<td><a href="https://github.com/m4xshen/hardtime.nvim/blob/main/lua/hardtime/config.lua">See Config</a></td>
<td>An option to customize the popup for the <code>Hardtime report</code>.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">These are two default hints:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hints = {
   [&#34;k%^&#34;] = {
      message = function()
         return &#34;Use - instead of k^&#34; -- return the hint message you want to display
      end,
      length = 2, -- the length of actual key strokes that matches this pattern
   },
   [&#34;d[tTfF].i&#34;] = { -- this matches d + {t/T/f/F} + {any character} + i
      message = function(keys) -- keys is a string of key strokes that matches the pattern
         return &#34;Use &#34; .. &#34;c&#34; .. keys:sub(2, 3) .. &#34; instead of &#34; .. keys
         -- example: Use ct( instead of dt(i
      end,
      length = 4,
   },
}"><pre><span>hints</span> <span>=</span> {
   [<span><span>&#34;</span>k%^<span>&#34;</span></span>] <span>=</span> {
      <span>message</span> <span>=</span> <span>function</span>()
         <span>return</span> <span><span>&#34;</span>Use - instead of k^<span>&#34; </span></span><span><span>--</span> return the hint message you want to display</span>
      <span>end</span>,
      <span>length</span> <span>=</span> <span>2</span>, <span><span>--</span> the length of actual key strokes that matches this pattern</span>
   },
   [<span><span>&#34;</span>d[tTfF].i<span>&#34;</span></span>] <span>=</span> { <span><span>--</span> this matches d + {t/T/f/F} + {any character} + i</span>
      <span>message</span> <span>=</span> <span>function</span>(<span>keys</span>) <span><span>--</span> keys is a string of key strokes that matches the pattern</span>
         <span>return</span> <span><span>&#34;</span>Use <span>&#34; </span></span><span>..</span> <span><span>&#34;</span>c<span>&#34; </span></span><span>..</span> <span>keys</span>:<span>sub</span>(<span>2</span>, <span>3</span>) <span>..</span> <span><span>&#34;</span> instead of <span>&#34; </span></span><span>..</span> <span>keys</span>
         <span><span>--</span> example: Use ct( instead of dt(i</span>
      <span>end</span>,
      <span>length</span> <span>=</span> <span>4</span>,
   },
}</pre></div>
<p dir="auto">Check out some examples of custom hint in <a href="https://github.com/m4xshen/hardtime.nvim/discussions/categories/custom-hints">discussion</a>!</p>



<p dir="auto">Please read <a href="https://github.com/m4xshen/hardtime.nvim/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>

<a href="https://github.com/m4xshen/hardtime.nvim/graphs/contributors">
  <img src="https://camo.githubusercontent.com/a5e5f82d81b6692ac12ae01ee2265b3e0a1bbf86afb62a4baecf0778ad6ae557/68747470733a2f2f636f6e747269622e726f636b732f696d6167653f7265706f3d6d34787368656e2f6861726474696d652e6e76696d" data-canonical-src="https://contrib.rocks/image?repo=m4xshen/hardtime.nvim"/>
</a>

</article></div></div>
  </body>
</html>
