<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.androidauthority.com/android-15-enhanced-confirmation-mode-3436697/">Original</a>
    <h1>Android 15 may make it harder for sideloaded apps to get sensitive permissions</h1>
    
    <div id="readability-page-1" class="page"><div><div><div><picture><source sizes="(min-width: 64rem) 51.25rem, 80vw" srcset="https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9.jpg.webp 1920w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-1536w-864h.jpg.webp 1536w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-675w-380h.jpg.webp 675w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-64w-36h.jpg.webp 64w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-1000w-563h.jpg.webp 1000w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-300w-170h.jpg.webp 300w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-1280w-720h.jpg.webp 1280w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-840w-472h.jpg.webp 840w" type="image/webp"/><img decoding="async" loading="eager" sizes="(min-width: 64rem) 51.25rem, 80vw" title="Android 15 logo on smartphone on counter stock photo (9)" srcset="https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9.jpg 1920w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-1536w-864h.jpg 1536w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-675w-380h.jpg 675w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-64w-36h.jpg 64w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-1000w-563h.jpg 1000w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-300w-170h.jpg 300w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-1280w-720h.jpg 1280w, https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9-840w-472h.jpg 840w" alt="Android 15 logo on smartphone on counter stock photo (9)" src="https://www.androidauthority.com/wp-content/uploads/2024/02/Android-15-logo-on-smartphone-on-counter-stock-photo-9.jpg"/></picture><div><p>Edgar Cervantes / Android Authority</p></div></div></div><div><p>TL;DR</p>
<ul>
<li>Android 15 could introduce a new Enhanced Confirmation Mode that makes it harder for malicious apps to exploit an OS loophole.</li>
<li>Android blocks users from easily enabling the Accessibility or Notification Listener services of apps that are sideloaded from outside an app store.</li>
<li>However, the method that Android uses for this has a loophole in it that Android 15 will close.</li>
</ul>
</div><p>Although most Android users download apps from preloaded app stores like Google Play, some users get their apps from alternative online sources, a practice called sideloading. This is possible because Android lets users <a href="https://www.androidauthority.com/how-to-install-apks-31494/">install third-party apps without the Google Play Store</a> so long as they get their hands on the necessary app installation files. The ability to freely sideload apps is a big part of what makes Android a more open platform than iOS. Unfortunately, it’s also the reason why people erroneously believe that Android is less secure than iOS.</p><p>That’s because regardless of where you source apps from, Android’s built-in privacy and security features ensure they can’t access sensitive permissions without your consent. However, it’s true that sideloading apps from alternative online sources carries a bit more risk for the average user when compared to sticking with Google Play. This is because it’s simply easier for malicious developers to distribute apps outside of Google Play since they don’t need to deal with the regulations, bureaucracy, and scrutiny that Google Play app distribution entails.</p><p>Malicious Android apps, no matter where they’re sourced from, commonly try to trick users into granting them access to the Accessibility and Notification Listener APIs because of their power. The Accessibility API lets apps read the content of the screen and also perform inputs on behalf of the user, while the Notification Listener API lets apps read or take action on any notification. These APIs can be used to commit ad fraud, steal one-time passwords (OTPs), install additional payloads, and do much, much more.</p><p>While Google Play has some (mostly bureaucratic) measures to ensure these APIs are used for their intended purposes, Android itself relies mostly on the app’s own declarations to decide how much access to grant. For example, starting in Android 13, the operating system prevents users from easily enabling the Accessibility or Notification Listener services of apps that were sideloaded from outside of an app store. If you were to, say, sideload an app sent to you via email, then Android would block you from enabling that app’s Accessibility or Notification Listener service as they’re marked as “restricted settings.”</p><div><div><picture><source sizes="(min-width: 64rem) 51.25rem, 80vw" srcset="https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog.png.webp 1562w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-1235w-1080h.png.webp 1235w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-988w-864h.png.webp 988w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-435w-380h.png.webp 435w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-64w-56h.png.webp 64w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-1000w-875h.png.webp 1000w" type="image/webp"/><img decoding="async" loading="lazy" sizes="(min-width: 64rem) 51.25rem, 80vw" title="Android Restricted Settings dialog" srcset="https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog.png 1562w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-1235w-1080h.png 1235w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-988w-864h.png 988w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-435w-380h.png 435w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-64w-56h.png 64w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog-1000w-875h.png 1000w" alt="Android Restricted Settings dialog" src="https://www.androidauthority.com/wp-content/uploads/2024/04/Android_Restricted_Settings_dialog.png"/></picture><div><p>Mishaal Rahman / Android Authority</p></div></div></div><p>How does the OS know when apps are sideloaded from outside of an app store? It determines this based on whether or not the app that did the installation used Android’s session-based installation APIs (which are commonly but not exclusively used by app stores) versus Android’s non-session-based installation APIs (which are commonly used by file managers, web browsers, and other apps with generic file downloading support). The problem with this approach is that any app can utilize Android’s session-based installation APIs to sideload another app, meaning there’s no guarantee that a legitimate, third-party app store is actually the one that’s doing the sideloading. Malicious app developers have sadly recognized this loophole in Android’s Restricted Settings feature and have already been exploiting it to bypass this security feature.</p><p>Fortunately, Google is working on closing this obvious loophole in Android’s Restricted Settings feature. In <a href="https://www.androidauthority.com/android-15-features-3401939/">Android 15</a>, the company is preparing to introduce a new “Enhanced Confirmation Mode” feature that’s basically a tighter, more souped-up version of Restricted Settings. Although the Enhanced Confirmation Mode feature isn’t yet enabled in the latest Android 15 Beta 1.1 update, I analyzed the code and explained how it’ll work in some detail.</p><p>For starters, the wording in the Enhanced Confirmation Mode dialog closely matches the existing Restricted Settings dialog. Just like with Restricted Settings, the ECM dialog will say, “for your security, this setting is currently unavailable” when you try to enable an app’s Accessibility or Notification Listener service. However, the dialog will expand on the reasoning a bit by adding that “this app has requested the %1$s permission, which is a restricted setting because it can put your security &amp; privacy at risk. Restriction to this permission may prevent this app from working.” Other than that, the rest of the dialog is the same, down to the title and the two buttons.</p><p>One crucial difference between Android 15’s new Enhanced Confirmation Mode and Android 13’s Restricted Settings feature is how they’re enforced. Instead of differentiating based on what installation APIs were used, Enhanced Confirmation Mode in Android 15 checks an allowlist that’s preloaded in the factory image. This allowlist is an XML file located in the <code>/system/etc/sysconfig</code> path of Android 15, and it determines which packages and installers are exempt from any restrictions.</p><div><div><picture><source sizes="(min-width: 64rem) 51.25rem, 80vw" srcset="https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML.png.webp 2557w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-1920w-1023h.png.webp 1920w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-1536w-819h.png.webp 1536w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-675w-360h.png.webp 675w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-64w-34h.png.webp 64w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-1000w-533h.png.webp 1000w" type="image/webp"/><img decoding="async" loading="lazy" sizes="(min-width: 64rem) 51.25rem, 80vw" title="Enhanced Confirmation Mode XML" srcset="https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML.png 2557w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-1920w-1023h.png 1920w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-1536w-819h.png 1536w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-675w-360h.png 675w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-64w-34h.png 64w, https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML-1000w-533h.png 1000w" alt="Enhanced Confirmation Mode XML" src="https://www.androidauthority.com/wp-content/uploads/2024/04/Enhanced_Confirmation_Mode_XML.png"/></picture><div><p>Mishaal Rahman / Android Authority</p></div></div></div><p>Any packages that are explicitly allowlisted in the XML file are considered “trusted packages” and are exempt from ECM restrictions. Similarly, any installers that are listed in the XML file are considered “trusted installers,” which means the apps they then install are eligible to be exempt from ECM restrictions. An app installed by a “trusted installer” is exempt from ECM restrictions if it’s marked as coming from a “trustworthy” package source (i.e., it’s not marked as <code>PACKAGE_SOURCE_DOWNLOADED_FILE</code> or <code>PACKAGE_SOURCE_LOCAL_FILE</code>).</p><p>This means that users will be forced to see the Enhanced Confirmation Mode dialog if they try to enable an app’s Accessibility or Notification Listener service, provided the app came from an untrusted installer or an untrusted source. This would effectively close the loophole that existed in Android 13’s Restricted Settings feature, making it harder for malicious third-party apps to gain highly privileged permissions.</p><p>Unfortunately, I’m not sure whether it’ll be possible to still enable a legitimate, sideloaded app’s Accessibility or Notification Listener service if it’s hit with ECM restrictions. It’s possible to disable Restricted Settings for an app, so it should also be possible with ECM restrictions, but I can’t say for sure since I haven’t been able to get the feature to work yet in Android 15.</p><div><div><picture><source sizes="(min-width: 64rem) 51.25rem, 80vw" srcset="https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting.png.webp 1562w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-1235w-1080h.png.webp 1235w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-988w-864h.png.webp 988w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-435w-380h.png.webp 435w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-64w-56h.png.webp 64w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-1000w-875h.png.webp 1000w" type="image/webp"/><img decoding="async" loading="lazy" sizes="(min-width: 64rem) 51.25rem, 80vw" title="Android allow restricted setting" srcset="https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting.png 1562w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-1235w-1080h.png 1235w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-988w-864h.png 988w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-435w-380h.png 435w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-64w-56h.png 64w, https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting-1000w-875h.png 1000w" alt="Android allow restricted setting" src="https://www.androidauthority.com/wp-content/uploads/2024/04/Android_allow_restricted_setting.png"/></picture><div><p>Mishaal Rahman / Android Authority</p></div></div></div><p>It’s also worth noting that currently, zero packages and installers are allowlisted by the system as of Android 15 Beta 1.1. If ECM were enabled, this would mean that all apps would be exempt from ECM restrictions, except those marked as coming from an untrustworthy source. Since ECM isn’t enabled and there aren’t any allowlisted installers or packages, though, I don’t have any information on how Google plans to use this feature. Will Google require the Play Store to be listed as a trusted installer on all Android devices? Which, if any, third-party app stores will Google and OEMs allowlist? These are questions I don’t know the answer to, but regardless, I’m glad to see Google take action to improve security in Android and am looking forward to finding out more details about Enhanced Confirmation Mode in Android 15.</p><p><strong>Got a tip? Talk to us!</strong> Email our staff at <a href="mailto:news@androidauthority.com" rel="noopener noreferrer" data-stringify-link="mailto:tips@androidauthority.com" data-sk="tooltip_parent" aria-haspopup="menu">news@androidauthority.com</a>. You can stay anonymous or get credit for the info, it&#39;s your choice.</p></div></div>
  </body>
</html>
