<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/shikaan/osle">Original</a>
    <h1>Show HN: OSle â€“ A 510 bytes OS in x86 assembly</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://www.faridrener.com/shikaan/osle/blob/main/docs/logo.svg"><img width="256" src="https://www.faridrener.com/shikaan/osle/raw/main/docs/logo.svg" alt="logo"/></a>
</p>
<p dir="auto">
A tiny and mighty boot sector OS.
</p>
<p dir="auto">
  <details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description osle-demo.mov">osle-demo.mov</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/17052868/439721457-a2cab8f8-fd60-4947-b886-4b1741072e22.mov?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDYyMDMyODEsIm5iZiI6MTc0NjIwMjk4MSwicGF0aCI6Ii8xNzA1Mjg2OC80Mzk3MjE0NTctYTJjYWI4ZjgtZmQ2MC00OTQ3LWI4ODYtNGIxNzQxMDcyZTIyLm1vdj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA1MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNTAyVDE2MjMwMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWM5MGE2MGE1OGE3NjI1YTQxNDFkYTAwYmQ2NzAxNDhjZGYzMDMyNWE5NjE1NmFkYjdiZTQ1NzE0YmI5NzY0MWUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.CgPmk4-hUeZIessldWh01PYEYNsA604YkxKeaDSirR0" data-canonical-src="https://private-user-images.githubusercontent.com/17052868/439721457-a2cab8f8-fd60-4947-b886-4b1741072e22.mov?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDYyMDMyODEsIm5iZiI6MTc0NjIwMjk4MSwicGF0aCI6Ii8xNzA1Mjg2OC80Mzk3MjE0NTctYTJjYWI4ZjgtZmQ2MC00OTQ3LWI4ODYtNGIxNzQxMDcyZTIyLm1vdj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA1MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNTAyVDE2MjMwMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWM5MGE2MGE1OGE3NjI1YTQxNDFkYTAwYmQ2NzAxNDhjZGYzMDMyNWE5NjE1NmFkYjdiZTQ1NzE0YmI5NzY0MWUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.CgPmk4-hUeZIessldWh01PYEYNsA604YkxKeaDSirR0" controls="controls" muted="muted">

  </video>
</details>

</p>


<p dir="auto">OSle is a <a href="https://wiki.osdev.org/Real_Mode" rel="nofollow">real-mode</a> OS that fits in a boot
sector.</p>
<p dir="auto">It&#39;s written in x86 assembly and, despite its tiny size (only 510 bytes), it
packs essential features like:</p>
<ul dir="auto">
<li><strong>Shell</strong>: Run commands and builtins.</li>
<li><strong>File System</strong>: Read, write, and find files on the system.</li>
<li><strong>Process Management</strong>: Cooperatively spawn child processes.</li>
<li><strong>Userland Software</strong>: Comes with <a href="https://www.faridrener.com/shikaan/osle/blob/main/bin">pre-built software</a> and an
<a href="https://www.faridrener.com/shikaan/osle/blob/main/sdk">SDK</a> to write your own.</li>
</ul>
<p dir="auto"><a href="https://shikaan.github.io/osle" rel="nofollow">Check out the online demo</a> to see it in action!</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">ðŸ“š Creating your first OSle program</h2><a id="user-content--creating-your-first-osle-program" aria-label="Permalink: ðŸ“š Creating your first OSle program" href="#-creating-your-first-osle-program"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">OSle includes a tiny <a href="https://www.faridrener.com/shikaan/osle/blob/main/sdk">Software Development Kit (SDK)</a> that includes
definitions and a toolchain to create your own OSle programs.</p>
<p dir="auto">Follow the <a href="https://www.faridrener.com/shikaan/osle/blob/main/tutorial">step-by-step tutorial</a> to write your first program!</p>

<p dir="auto">To develop OSle and OSle programs you will need the following tools:</p>
<ul dir="auto">
<li><a href="https://www.nasm.us" rel="nofollow">nasm</a></li>
<li><a href="https://www.gnu.org/software/make/" rel="nofollow">GNU make</a> (usually preinstalled)</li>
<li><a href="https://bochs.sourceforge.io" rel="nofollow">bochs</a> (optional)</li>
</ul>
<details>
<summary>Installation instructions</summary>

<p dir="auto">Install dependencies using Homebrew:</p>
<div dir="auto" data-snippet-clipboard-copy-content="brew install nasm
brew install bochs"><pre>brew install nasm
brew install bochs</pre></div>

<p dir="auto">Install dependencies using your local package manager, e.g., on Debian:</p>

</details>
<div dir="auto"><h3 tabindex="-1" dir="auto">Build and Run OSle locally</h3><a id="user-content-build-and-run-osle-locally" aria-label="Permalink: Build and Run OSle locally" href="#build-and-run-osle-locally"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">These recipes will compile OSle and use the <a href="https://www.faridrener.com/shikaan/osle/blob/main/sdk">SDK</a> to compile and bundle
all the pre-built programs. Using <code>start</code> will also run bochs right away.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# build and run osle on bochs
make start

# or

# build osle
make osle
# use QEMU to run it
qemu-system-i386 -fda osle.img"><pre><span><span>#</span> build and run osle on bochs</span>
make start

<span><span>#</span> or</span>

<span><span>#</span> build osle</span>
make osle
<span><span>#</span> use QEMU to run it</span>
qemu-system-i386 -fda osle.img</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Build and Run your OSle program</h3><a id="user-content-build-and-run-your-osle-program" aria-label="Permalink: Build and Run your OSle program" href="#build-and-run-your-osle-program"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="# ensure you have a working OSle image at osle.img
make osle

# compile your source to generate my_file.bin
sdk/build my_file.s

# bundle my_file.bin into the osle.img image
sdk/pack my_file.bin

# run it!
qemu-system-i386 -fda osle.img"><pre><span><span>#</span> ensure you have a working OSle image at osle.img</span>
make osle

<span><span>#</span> compile your source to generate my_file.bin</span>
sdk/build my_file.s

<span><span>#</span> bundle my_file.bin into the osle.img image</span>
sdk/pack my_file.bin

<span><span>#</span> run it!</span>
qemu-system-i386 -fda osle.img</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Use OSle on a Real Device</h3><a id="user-content-use-osle-on-a-real-device" aria-label="Permalink: Use OSle on a Real Device" href="#use-osle-on-a-real-device"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Write the built image to a device using <code>dd</code>:</p>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p><p dir="auto">The following action can damage your hardware. We take no responsibility for
any damage OSle might cause.</p>
</div>
<div dir="auto" data-snippet-clipboard-copy-content="# generate an OSle image at osle.img
make osle

# write it on a device
sudo dd if=osle.img of=/dev/YOUR_DEVICE bs=512 count=1"><pre><span><span>#</span> generate an OSle image at osle.img</span>
make osle

<span><span>#</span> write it on a device</span>
sudo dd if=osle.img of=/dev/YOUR_DEVICE bs=512 count=1</pre></div>

<p dir="auto">Feel free to explore the <a href="https://github.com/shikaan/osle/issues">issues</a> and
<a href="https://github.com/shikaan/osle/pulls">pull requests</a> to contribute or request
features.</p>

<p dir="auto"><a href="https://www.faridrener.com/shikaan/osle/blob/main/LICENSE">MIT</a></p>
</article></div></div>
  </body>
</html>
