<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://touchhle.org">Original</a>
    <h1>TouchHLE: An iOS 2.0 App Emulator</h1>
    
    <div id="readability-page-1" class="page"><div id="moreinfo">
                    <div id="box1">
                        <p><strong>touchHLE</strong> is a high-level emulator (HLE) for iPhone
                            OS apps. It runs on modern desktop operating systems, and is written in
                            Rust.</p>
                        <p>As an HLE, touchHLE is radically different from a low-level emulator
                            (LLE) like QEMU. The only code the <a href="https://github.com/merryhime/dynarmic">emulated CPU</a> executes
                            is the app binary and <a href="https://github.com/hikari-no-yume/touchHLE/blob/trunk/touchHLE_dylibs/">a handful of
                                libraries</a>; touchHLE takes the place of iPhone OS and provides its
                            own implementations of the system frameworks (Foundation, UIKit, OpenGL
                            ES, OpenAL, etc).</p>
                        <p>The goal of this project is to run games from the early days of iOS.
                            Only iPhone/iPod touch apps for iPhone OS 2.x have been tested so far.
                            Modern/64-bit iOS app support is explicitly a non-goal, and support for
                            apps that aren’t games is unlikely to be prioritized due to the
                            complexity. On the other hand, it’s likely that we’ll attempt to support
                            apps for some newer 32-bit versions (especially 3.x and 4.x) and the
                            iPad in future. iPhone OS 1.x support might be attempted also.</p>
                        <h2 id="platform-support">Platform support</h2>
                        <p>touchHLE has been tested and is to be considered supported on x64
                            Windows and x64 macOS. It may be possible to build it on Linux and on
                            some AArch64 systems (at least one person has succeeded), but we make no
                            guarantees right now. If you&#39;re an Apple Silicon Mac user: don&#39;t worry, the x64 macOS build reportedly works under Rosetta.</p>
                        <p>Architectures other than x64 and AArch64 are completely unsupported,
                            and this is unlikely to change.</p>
                        <p>It would be desirable to eventually support Android. That is probably
                            not too much work.</p>
                        <p>Since the current targets are desktop operating systems, touch input
                            is simulated via mouse input or the right analog stick on a game
                            controller (tap/hold by pressing the stick or shoulder button), and accelerometer input (rotation only) is simulated via the
                            left analog stick on a game controller. <strong>Real accelerometer
                                support coming soon, but not in the first release.</strong></p>
                        <h2 id="development-status">Development status</h2>
                        <p>Real development started in December 2022, and this is so far <a href="https://hikari.noyu.me/">a single person</a>’s full-time passion
                            project. There’s only a single release so far and no promises can be
                            made about the future. Please be patient.</p>
                        <p>Currently, the supported functionality is not much more than what the
                            single supported app uses. The code tries to be reasonably complete
                            where it can, though.</p>
                        <h2 id="app-support">App support</h2>
                        <ul>
                            <li>Super Monkey Ball (2008, App Store launch title), tested versions
                                1.0, 1.02, 1.3 (1.3 is the most heavily tested)
                                <ul>
                                    <li>Fully playable, everything works. Among other things:
                                        <ul>
                                            <li>Sound effects and music</li>
                                            <li>Logo, title, menu, ranking, settings and credits screens</li>
                                            <li>Main Game, Instant Game (Shuffle Play) and Practice game modes</li>
                                            <li>Save game persistence (settings, unlocks, records)</li>
                                            <li>Continuing a previous game after closing and reopening the app</li>
                                            <li>The tutorial (in the versions that have it)</li>
                                        </ul></li>
                                    <li>Consistent full fps (30fps) in release builds even on a fairly
                                        underpowered laptop (2017 Retina MacBook, passively cooled!)</li>
                                    <li>Special enhancement: can be run with increased internal resolution
                                        via the <code>--scale-hack=</code> option. Resolutions up to circa 4K
                                        have been tested. No noticeable performance impact at small scales (2×,
                                        3×).</li>
                                    <li>Recommended game controller settings:
                                        <code>--y-tilt-offset=24</code></li>
                                    <li>Known issue: memory leak of approximately 0.2MB/second on macOS. All
                                        obvious issues in the emulator itself have been ruled out, so it might
                                        be a problem in macOS itself, SDL2, or some other dependency. Thankfully
                                        this is slow enough that it shouldn’t be a problem for most play
                                        sessions.</li>
                                </ul></li>
                        </ul>
                        <p>No other apps are known to work right now. This will surely improve
                            in future. :)</p>
                        
                        <p>First obtain touchHLE, either a <a href="https://github.com/hikari-no-yume/touchHLE/release">binary
                                release</a> or by building it yourself.</p>
                        <p>You’ll then need an app that you can run. See the “App support”
                            section above. Note that the app binary must be decrypted to be usable.
                            Also note that you can’t directly use <code>.ipa</code> files right now,
                            you’ll need to unzip it (this may be easier if you rename it to end in
                            <code>.zip</code> first) and get the <code>.app</code> bundle out of
                            it.</p>
                        <p>There’s no graphical user interface right now, so you’ll usually need
                            to use the command line to run touchHLE. For first-time users on
                            Windows:</p>
                        <ol type="1">
                            <li>Move the <code>.app</code> bundle to the same folder as
                                <code>touchHLE.exe</code>.</li>
                            <li>Hold the Shift key and Right-click on the empty space in the folder
                                window.</li>
                            <li>Click “Open with PowerShell”.</li>
                            <li>You can then type <code>.\touchHLE.exe &#34;YourAppNameHere.app&#34;</code>
                                and press enter.</li>
                            <li>You may want to type <code>.\touchHLE.exe</code> to see the
                                available options for things like game controllers.</li>
                        </ol>
                        
                        <p>touchHLE © 2023 hikari_no_yume and other contributors.</p>
                        <p>The source code of touchHLE itself (not its dependencies) is licensed
                            under the Mozilla Public License, version 2.0.</p>
                        <p>Due to license compatibility concerns, binaries are under the GNU
                            General Public License version 3 or later.</p>
                        <p>For a best effort listing of all licenses of dependencies, build
                            touchHLE and pass the <code>--copyright</code> flag when running it.</p>
                        <p>Please note that different licensing terms apply to the bundled
                            dynamic libraries (in <code>touchHLE_dylibs/</code>) and fonts (in
                            <code>touchHLE_fonts/</code>). Please consult the respective directories
                            for more information.</p>
                        
                        <p>We stand on the shoulders of giants. Thank you to:</p>
                        <ul>
                            <li>The authors of and contributors to the many libraries used by this
                                project: <a href="https://github.com/merryhime/dynarmic">dynarmic</a>,
                                <a href="https://github.com/flier/rust-macho">rust-macho</a>, <a href="https://libsdl.org/">SDL</a>, <a href="https://github.com/Rust-SDL2/rust-sdl2">rust-sdl2</a>, <a href="https://github.com/nothings/stb">stb_image</a>, <a href="https://github.com/kcat/openal-soft">openal-soft</a>, <a href="https://github.com/ruuda/hound">hound</a>, <a href="https://github.com/rustaudio/caf">caf</a>, <a href="https://gitlab.redox-os.org/redox-os/rusttype">RustType</a>, <a href="https://github.com/liberationfonts/liberation-fonts">the
                                    Liberation fonts</a>, <a href="https://github.com/googlefonts/noto-cjk">the Noto CJK fonts</a>,
                                <a href="https://github.com/ebarnard/rust-plist">rust-plist</a>, <a href="https://github.com/brendanzab/gl-rs">gl-rs</a>, <a href="https://github.com/onur/cargo-license">cargo-license</a>, <a href="https://github.com/rust-lang/cc-rs">cc-rs</a>, <a href="https://github.com/rust-lang/cmake-rs">cmake-rs</a>, and the Rust
                                standard library.</li>
                            <li>The <a href="https://www.rust-lang.org/">Rust project</a>
                                generally.</li>
                            <li>The various people out there who’ve documented the iPhone OS
                                platform, officially or otherwise. Much of this documentation is linked
                                to within this codebase!</li>
                            <li>The Free Software Foundation, for making libgcc and libstdc++
                                copyleft and therefore saving this project from ABI hell.</li>
                            <li>The National
                                Security Agency of the United States of America, for <a href="https://ghidra-sre.org/">Ghidra</a>.</li>
                            <li>Many friends who took an interest in the project and gave
                                suggestions and encouragement.</li>
                            <li>Developers of early iPhone OS apps. What treasures you created!</li>
                            <li>Apple, and NeXT before them, for creating such fantastic
                                platforms.</li>
                        </ul>
                    </div>
                </div></div>
  </body>
</html>
