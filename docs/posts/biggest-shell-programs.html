<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/oils-for-unix/oils/wiki/The-Biggest-Shell-Programs-in-the-World">Original</a>
    <h1>Biggest shell programs</h1>
    
    <div id="readability-page-1" class="page"><div>
                <p>Help me fill out this page!  It&#39;s freely editable.</p>
<p>What programs should be listed?  I&#39;m using &#34;biggest&#34; in the sense of <strong>substantial</strong>, not necessarily the raw number of lines.</p>
<ul>
<li>
<strong>Hand-written</strong> shell scripts.  There are many big autoconf-generated scripts, like the <a href="http://www.oilshell.org/blog/2020/01/parser-benchmarks.html#a-concrete-data-point" rel="nofollow">70K-line coreutils script</a>, but I don&#39;t consider them substantial in this sense.</li>
<li>Shell programs that use <strong>data structures and algorithms</strong>.
<ul>
<li>As a counterexample, <a href="http://www.oilshell.org/cross-ref.html#bash-completion" rel="nofollow">bash-completion</a> is pretty sophisticated, but it&#39;s also repetitive because it has a relatively simple function for every command on a Unix machine.</li>
</ul>
</li>
<li>Shell programs that are over <strong>5K lines</strong> (though there may be exceptions).  The biggest shell programs that aren&#39;t repetitive tend to be in the 10K+ line range.  I haven&#39;t seen any programs over 100K lines.</li>
</ul>

<ul>
<li>
<a href="https://github.com/akinomyoga/ble.sh">akinomyoga/ble.sh</a> -- 61K LoC (46K SLoC) in total. Bash Line Editor---fish-like interactive line editor in pure bash!  The main file <code>out/ble.sh</code> has 30K lines of code (23K SLoC), but there are 60K+ lines of code in the repo in total.  There are many comments (in Japanese).
<ul>
<li>
<a href="https://github.com/oils-for-unix/oils/wiki/How-Interactive-Shells-Work">How Interactive Shells Work</a> has a nice overview of how ble.sh works.  It&#39;s very sophisticated, using <code>bind -x</code> to read raw bytes from the terminal, decoding those itself in mulitiple explicit state machines, maintaining a drawing buffer, updating the buffer, etc.  It has timing and &#34;fibers&#34;, etc.</li>
<li>
<a href="https://github.com/oilshell/oil/issues/663#issuecomment-602147298">This comment on issue 663</a> has details on the shell parser!  I think this is one of the most sophisticated uses of data structures in shell I&#39;ve seen.</li>
<li>
<a href="https://github.com/oilshell/oil/issues/653#issuecomment-599227422">We are trying to run ble.sh</a> under Oil.  It mostly parses.</li>
<li>First commit in 2015 with 8K LoC / 6 SLoC. The actual development has started in 2013.</li>
</ul>
</li>
<li>
<a href="https://github.com/bittorf/kalua">kalua</a> - OpenWRT addon ~56K SLoC/lines of POSIX shell</li>
<li>
<a href="http://bashdb.sourceforge.net/" rel="nofollow">bashdb</a>, the bash debugger.  ~14K lines of bash.  Interesting history: <a href="https://github.com/oils-for-unix/oils/wiki/Implementing-Debuggers">Implementing Debuggers</a>
</li>
<li>
<a href="https://github.com/drwetter/testssl.sh">drwetter/testssl.sh</a> -- 21K lines of bash in a single file!  Appears to be hand-written.  History: <em>Back in 2006 it started with a few openssl commands...</em>.  (Hit issue #606 parsing it.)</li>
<li>
<a href="https://github.com/simplenetes-io/simplenetes">Simplenetes: Kubernetes in 17K lines of Shell</a>.  Amazing!  But seems dormant.  <a href="https://news.ycombinator.com/item?id=26661223" rel="nofollow">Hacker News Thread</a>.
<ul>
<li>Related to <a href="https://www.oilshell.org/blog/2021/07/cloud-review.html#another-bold-claim" rel="nofollow">my bold claim here</a>
</li>
</ul>
</li>
<li>
<a href="https://en.wikipedia.org/wiki/Rkhunter" rel="nofollow">rkhunter</a> (<a href="http://rkhunter.sourceforge.net/" rel="nofollow">official site</a>) -- 21K lines of Bourne shell written from 2003-2018!</li>
<li>
<a href="https://github.com/romkatv/powerlevel10k">romkatv/powerlevel10k</a> -- 12K lines of zsh scripts in the directory <code>internal/</code>.  There are other 8K lines of configs and helper scripts.  First commit in 2014.</li>
<li>
<a href="https://github.com/dylanaraps/neofetch">dylanaraps/neofetch</a> -- 10K lines of bash 3.2.  Displays system information.  May also do something interesting with images (?)
<ul>
<li>first commit 2015</li>
</ul>
</li>
<li>
<a href="https://github.com/xwmx/nb">xwmx/nb</a> -- 24K LoC (19K SLoC) of bash in <a href="https://github.com/xwmx/nb/blob/master/nb">nb</a> itself. An additional 86K LoC (55K SLoC) if we count bats tests as bash.
<ul>
<li>First commit in 2014, but active commit history starts in early 2016.</li>
</ul>
</li>
<li>
<a href="https://github.com/89luca89/distrobox">distrobox</a> -- over 7k lines of bash script. Use any linux distribution inside your terminal.</li>
<li>
<a href="https://github.com/acmesh-official/acme.sh">acme.sh</a> -- 7K lines of shell script. Issues and renews certificates.</li>
<li>
<a href="https://github.com/smxi/inxi/tree/803a4595658f28decd236c6f8660841abc336cea">inxi 2.3.56</a> [obsolete] -- 16K lines of bash. A fork of <code>infobash</code> in 2008 (889 lines then). <code>infobash</code> has started in 2005. From v2.9, <code>inxi</code> is replaced by the Perl implementation.</li>
</ul>
<ul>
<li>
<a href="https://github.com/Bushmills/Bashforth/blob/master/bashforth">bashforth</a> -- At ~3800 lines this isn&#39;t huge, but it apparently implements a real programming language.  It has a lot of whitespace and comments.</li>
<li>
<a href="https://github.com/vegardit/bash-funk">vegardit/bash-funk</a> -- 27K LoC (24K SLoC) in total. A Bash library. The first commit in May, 2017 (with 10K LoC / 8K SLoC).</li>
<li>
<a href="https://github.com/rear/rear">Relax-and-Recover</a> - 35K LoC (24K SLoC). Backup and restoration tool. First git commit March, 2009 (with 4K LoC / 3K SLoC)</li>
<li>
<a href="https://abcde.einval.com/wiki/" rel="nofollow">abcde / A Better CD Encoder</a>, used for ripping CDs, weighs in at around 5.5k LoC.</li>
<li>
<a href="https://github.com/hackerschoice/segfault">thc-segfault</a> - 3.3K LoC. A pubnix server built mostly using Bash</li>
<li>
<a href="https://git.ffmpeg.org/gitweb/ffmpeg.git/blob/HEAD:/configure" rel="nofollow">ffmpeg/configure</a> - 8.4K LoC. FFmpeg&#39;s configure script is hand-written</li>
<li>
<a href="https://sourceforge.net/projects/ffhevc/" rel="nofollow">ffhevc</a> - 4k LoC. Fully hand-written Bash wrapper script for encoding to HEVC video using FFmpeg and libx265.</li>
<li>
<a href="https://sourceforge.net/projects/ffx264/" rel="nofollow">ffx264</a> - 3.9k LoC. Fully hand-written Bash wrapper script for encoding to H.264/AVC video using FFmpeg and libx264.</li>
<li>
<a href="https://sourceforge.net/projects/h264enc/" rel="nofollow">h264enc</a> - 9.2k LoC. Fully hand-written Bash wrapper script for MEncoder for encoding to H.264/AVC video.</li>
<li>
<a href="https://github.com/aristocratos/bashtop">bashtop</a> - 5.3k LoC. A resource monitor</li>
</ul>
<div><h3>Shell-Like Languages / DSLs</h3><a id="user-content-shell-like-languages--dsls" aria-label="Permalink: Shell-Like Languages / DSLs" href="#shell-like-languages--dsls"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul>
<li>
<a href="https://github.com/modernish/modernish">modernish</a> is a portable shell dialect written in shell</li>
<li>
<a href="https://github.com/bats-core/bats-core">bats</a> is a DSL for writing tests.  Generates bash code.</li>
<li>
<a href="https://github.com/mig1984/bashible">bashible</a> is an Ansible-like DSL in bash.  <a href="https://news.ycombinator.com/item?id=22669565" rel="nofollow">comments</a>
</li>
<li>
<a href="https://github.com/lhoursquentin/clash">clash</a> is an object oriented framework compatible with any modern POSIX shell.</li>
<li>
<a href="https://github.com/niieani/bash-oo-framework">bash Infinity</a> is a standard library and a boilerplate framework for bash.</li>
</ul>

<ul>
<li>Alpine, Aboriginal, Debian scripts -- see <a href="http://www.oilshell.org/blog/2018/01/15.html" rel="nofollow">blog post</a>
</li>
<li>Completion scripts are big, but often repetitive.
<ul>
<li>
<a href="https://github.com/zsh-users/zsh/blob/master/Completion/Unix/Command/_git">_git</a> Zsh completion -- 8.3k lines of code</li>
<li>git-completion.bash</li>
<li>Docker completion</li>
</ul>
</li>
<li>
<a href="https://github.com/dyne/Tomb/blob/master/tomb">dyne/Tomb</a> is a ~3500 line zsh script.</li>
<li>
<a href="https://github.com/hyperupcall/basalt">Basalt</a> -- a full-featured package manager in pure Bash (est. ~2021). Although it&#39;s only a few thousand lines, there&#39;s already a <a href="https://github.com/hyperupcall/awesome-basalt">rich ecosystem</a> (15+ apps/libs) that includes many thousand more lines. Some <em>Bash libraries</em> include (at various stages of development):
<ul>
<li>
<a href="https://github.com/hyperupcall/bash-core">bash-core</a>, a library for enhancing the <code>trap</code> and <code>shopt</code> builtins, adding stacktraces, and many essential amenities</li>
<li>
<a href="https://github.com/hyperupcall/bash-object">bash-object</a>, a library for constructing arbitrarily nested data structures in pure Bash (nearly 200 tests)</li>
<li>
<a href="https://github.com/hyperupcall/bash-json">bash-json</a>, a library for parsing and printing JSON in pure Bash</li>
</ul>
</li>
<li>
<a href="https://github.com/tablespoon/fun/blob/master/cli-clock">tablespoon/fun/cli-clock</a> - a clock with multiline characters written in bash.</li>
</ul>

<ul>
<li>
<p><a href="http://www.oilshell.org/release/latest/test/wild.wwz/" rel="nofollow">Oil&#39;s &#34;Wild&#34; Tests</a> parse over a million lines of shell.  However most of these are small programs and distro package definitions like Alpine PKGBUILD and Gentoo ebuilds, which are repetitive.</p>
</li>
<li>
<p><a href="https://github.com/oils-for-unix/oils/wiki/Shell-Programs-That-Run-Under-OSH">Shell Programs That Run Under OSH</a></p>
</li>
<li>
<p><a href="https://yossarian.net/til/post/some-surprising-code-execution-sources-in-bash/" rel="nofollow">shell script are dangerous</a> The shell is a program to handle your system internally via an interactive console(or not)... It&#39;s feature full and extremely dangerous. it&#39;s not done to produce applications.</p>
</li>
</ul>

              </div></div>
  </body>
</html>
