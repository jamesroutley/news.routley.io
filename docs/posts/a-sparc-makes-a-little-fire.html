<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.leadedsolder.com/2025/08/05/sparcstation-scsi-termination-fix-magic-smoke.html">Original</a>
    <h1>A SPARC makes a little fire</h1>
    
    <div id="readability-page-1" class="page"><article>
    <p>Way back in May of 2018, <a href="https://www.leadedsolder.com/2018/05/29/still-no-sparcstation-boot.html">I was unable to get the SparcStation 1+ to stop returning “Illegal Instruction” errors for any attempt at booting</a>. This made absolutely no sense to anyone I asked about it, and they suggested replacing the PROM battery, because at least then we’d have fewer known-broken parts in the computer. I ignored this advice, and just stuck the computer in a corner with the other broken machines for awhile so it could think about what it did.</p>

<p><img src="https://www.leadedsolder.com/assets/26390834517_11963ea8f0_c.jpg" alt="You know what you did, you bastard"/></p>

<p>A few weekends later, I decided to go back and give the little Sun another chance. Perhaps it was the cute pizzabox appearance, or maybe it was that I needed to clear the bench space for something else.</p>

<p>To begin diagnosis, I yanked the hard drive out, and discovered the Quantum ProDrive in it was in fact an Apple factory drive. Here’s the badge, indicating that the drive was shipped with an <a href="http://www.euronet.nl/users/ernstoud/scsi.html">Apple ROM</a>.</p>

<p><img src="https://www.leadedsolder.com/assets/2018-11-12-its-an-apple-drive.jpg" alt="Apple ROM sticker on the hard drive"/></p>

<p>Looks like it has some pins for a hard drive access LED. Considering it’s a full-height drive, I wonder which Mac this would have come out of. Maybe an early SE or II? Definitely not an LC.</p>

<p><img src="https://www.leadedsolder.com/assets/2018-11-12-led-pins.jpg" alt="Quantum LED pins"/></p>

<p>A lot of early Apple hard drives are hardcoded to SCSI ID 0, and while they have pins to reset them, they don’t come with jumpers (I realized this was since the three jumpers set the SCSI ID <em>in binary</em>, which should have been obvious to me before - no jumpers = all false = 0). As far as I can tell, this one is the same way.</p>

<p>I decided to boot it without a hard drive installed at all. Maybe that would give me a cooler error than “Illegal Instruction!”</p>

<p>It did - the computer decided to try and boot off the loopback device instead, and when it failed, it didn’t say “illegal instruction.” What’s more, I could now type <code>boot sd(0,0,0)vmunix</code> without getting Illegal Instruction either!</p>

<p>I immediately slammed the drive back in and tried to boot. This time, I just got a <code>SCSI device is not responding</code> error. Assuming the drive was dead, I began my usual Quantum ProDrive diagnostic method of:</p>

<ol>
  <li>Feeling the drive for vibrations that indicate it is working,</li>
  <li>Tapping the drive gently with the handle of a screwdriver,</li>
  <li>Tapping the drive less gently with the handle of a screwdriver,</li>
  <li>Repeatedly trying to start the drive until I hear it finally come to life.</li>
</ol>

<p><img src="https://www.leadedsolder.com/assets/26390835497_5469c8ed39_c.jpg" alt="Quantum ProDrive HD being smug"/></p>

<p>Eventually, the drive started making noise and vibrating, so I assumed it was fully alive. This was not the case, as I would find out later, but it didn’t matter.</p>

<p>I looked online for information about the “not responding” error, and found one Usenet post from 1995. In it, the protagonist had a similar machine (an IPX) that wouldn’t boot, but was able to boot it using <code>boot sd(0,3,0)vmunix</code> instead of the default ID of 0.</p>

<p>That’s weird, since <code>probe-scsi</code> was pretty adamant the drive was target 0, device 0. Some more searching revealed that, yeah, the SparcStation firmware reroutes ID 0 to ID 3 for some reason only understood by Sun engineers and/or the legally insane (pay attention - this comes up again later.) OK, whatever… let’s try it.</p>

<p>Now I got an even better error message - <code>bad magic number in disk label</code>. I assume that this is telling me that the firmware doesn’t understand the partition map of the disk.</p>

<p>That error message was followed by a complaint that I had pointed the computer at a non-executable file, which makes sense, since not being able to read the partition map generally makes it difficult to find any files.</p>

<h2 id="more-disks-more-parts-more-problems">More disks! More parts! More problems!</h2>
<p>To check if I could magically make this thing start working by adding more variables to the problem, I did a little bit of disk swapping. In went a second SCSI disk from my collection, a 2.2GB Quantum Viking that I found in a greasy shoebox. While this drive is supposedly a little big for the older firmware to support, it should at least be <em>detected</em> by <code>probe-scsi</code> as a SCSI device.</p>

<p>The following table describes my findings:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Viking in Left Bay</th>
      <th>ProDrive in Left Bay</th>
      <th>Nothing in Left Bay</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Viking in Right Bay</td>
      <td>N/A</td>
      <td>“SCSI bus hung”</td>
      <td>“Bad magic number”</td>
    </tr>
    <tr>
      <td>ProDrive in Right Bay</td>
      <td>Hangs after banner</td>
      <td>N/A</td>
      <td>“Bad magic number”</td>
    </tr>
    <tr>
      <td>Nothing in Right Bay</td>
      <td>Hangs after banner</td>
      <td>“Bad magic number”</td>
      <td>Hangs after banner</td>
    </tr>
  </tbody>
</table>

<p>Hanging the SCSI bus wasn’t too big of a surprise in retrospect, since both drives are set to ID 0 from the factory and would of course conflict. I was not thinking awfully clearly back in 2018 when I was doing this, apparently.</p>

<p>What surprised me is that putting the Viking in bay 1 locked up the machine, and so did not having any disks at all. I thought this was supposed to be a diskless-capable workstation.</p>

<p>Nothing was adding up.</p>

<h2 id="floppy-drives-exist-right">Floppy drives exist, right?</h2>
<p>There is one more thing the SparcStation 1+ has up its sleeve: an auto-eject floppy drive. Like the Macintoshes, ejecting the floppy is driven by software, which is a feature that sounds really boring but is actually cool in person. Much like this entire machine. At least a Macintosh got to <a href="https://www.youtube.com/watch?v=e_MfM4j09ME">eject floppy disks in outer space</a>.</p>

<p>In theory, I could make a Linux or BSD boot floppy and boot off it. Then I could use the booted-from operating system’s disk tools to look at the drive, figure out what (if anything) is on it, and maybe get a better clue as to why this computer doesn’t want to boot. Worst case, I could at least format the drive and install a new OS.</p>

<p>In practice, not so much. My first indication that something was up came when I tried to run <code>boot fd()</code> on a blank floppy. The computer ran the drive for a few seconds, and then complained that it could not read the first sector, and the floppy self-test failed.</p>

<p><img src="https://www.leadedsolder.com/assets/2018-11-12-floppy-drive.jpg" alt="The label of the original Sony MP-F17W-P1 floppy drive. Why would you betray me, Sony? What&#39;s in it for you??"/></p>

<p>After a few more attempts with different boot disks, I determined that nothing really worked on this floppy drive except for the <code>eject</code> command, which, it seemed, would be the only real functionality I could squeeze out of this computer. At least it makes a cool noise.</p>

<p>After thinking about it, I decided to remove the floppy drive and take a look inside. Everything looked great, except that the drive door’s spring was no longer able to hold it closed, and that there was a tiny piece of plastic - probably from the drive door - lying in the back of the drive away from the mechanism. I removed the plastic, lubed up the jackshaft and eject gears with a stingy amount of lithium grease, and reinstalled the drive.</p>

<p>No change.</p>

<p>I removed the floppy cable from the motherboard. For some reason, a previous owner had filed off the alignment tab from the cable, and then installed it backward. Could this be the problem?</p>

<p>It wasn’t - with the motherboard cable flipped around, the floppy drive displayed the normal PC-standard “LED on all the time, nothing else works” symptoms. I got a self-test error for “expected track 2, got track 0” and <code>eject</code> no longer worked. At least now I know it’s probably 34-pin Shugart, and also that the cable was in the right way around the first time, since <code>eject</code> works.</p>

<p>Fine, be that way. Who needs a floppy drive anyway?</p>

<h2 id="nice-drive">Nice drive</h2>
<p>After a few more power cycles of the SparcStation, the ProDrive HDD, which was already pretty loud when booting, made an even louder noise and then started to spin at the approximate volume of a jet engine. I am pretty sure the spindle was still a little rusted during the previous attempts. Now it’s finally free to spin again!</p>

<p>However, the drive still near-instantly returned the “bad magic number” for ID = 3 (really ID = 0, more on this later.) Which is weird, because if the drive <em>wasn’t</em> spinning before, how did the computer know what was on the disk? And why can’t I hear the drive being accessed when I try this?</p>

<p>Something very weird was going on with this machine’s SCSI setup. And the floppy drive. And without an AUI adapter, I also couldn’t expect to net-boot the machine.</p>

<p>Frustrated, I decided to shelve the computer for a few months and come back to it later. And by “a few months,” I mean, like, seven years.</p>

<h2 id="several-years-later">Several Years Later…</h2>
<p>Picking the project up in 2025, I decided I would use my BlueSCSI in Initiator Mode to dump the disk. I had been dumping a whole lot of other SCSI disks lying around the house, and the mystery of just what was on this Apple ROM disk had been gnawing at me.</p>

<p>Unfortunately, as it had been a few years in the interim, the drive had seized up again. Curse you, entropy.</p>

<p>No amount of hammering seemed to be able to get the stuck spindle free this time, and I stripped one of the screws badly trying to remove the lid. After a few sessions of no progress, I was getting angry messing with it, so the hard drive went in the freezer for a bit to see if that would shrink the horrible rubber and loosen its impervious hold. Surprise, the thing that makes no sense didn’t work either.</p>

<p>After several attempts at freeing up the drive, I put it on the shelf. We’ll drill out this screw, free up the bumper, and dump it some other day. Who knows what mysterious (Mac?) treasures could be living on this hard drive?</p>

<p>Even though this part of the project was a failure, it got the SparcStation uncovered, and <em>opened</em>. So why not take another whack at fixing it?</p>

<p>Even if the Quantum had spun up and worked, I decided it would be best to start over with a known-good drive. I put a BlueSCSI v2 SCSI emulator inside the SparcStation, with a known-good install of SunOS. And what better way to do it than to build a fresh disk image in the very same emulator that I once used to play <em>Time Killers</em>?</p>

<h2 id="mame-ing-myself">MAME-ing myself</h2>
<p>I knew that the sun4 machines were supported in MAME, so I went looking to see if anyone would hold my hand through the process. That was a bit too much to ask, but I did get basically 90% of the way there from reading <a href="https://computernewb.com/wiki/Boot_SPARCStation_1_in_MAME">this wiki page on installing SunOS into MAME</a><sup id="fnref:sunos" role="doc-noteref"><a href="#fn:sunos" rel="footnote">1</a></sup>.</p>

<p>After starting MAME with a valid SparcStation BIOS ROM and configuration, I had to <code>boot cdrom</code>, then tell the partitioner the <code>type</code> of disk I was running<sup id="fnref:type" role="doc-noteref"><a href="#fn:type" rel="footnote">2</a></sup>. I didn’t know what “random 2.0GB compressed file” was in Sun-land, so I picked “Sun 1.3G” and then proceeded to partitioning.</p>

<p>The partitioning utility lets you pick a pre-defined layout based on the aforementioned type, which had two options for the 1.3 gig drive. I picked the “standard” one, because I don’t drive an automatic. After writing out the disk label (now I know what that is!) and rebooting, I was able to run <code>suninstall</code> and install the rest of the operating system.</p>

<p>Of course, it then punted me out to OpenBoot without any idea what to type to boot into my new operating system. After some stumbling, I determined it was <code>boot disk3</code>. At one point, I had to set the date and time, and the installer really did not like the idea of it being 2025. Me neither, bud. We’re all trying to get through this together. I lied to it, and said it was 1997, which has <a href="https://www.timeanddate.com/calendar/repeating.html">the same days of the week as 2025</a>.</p>

<p>I got all the way into OpenWindows before I realized I didn’t know how to run <code>shutdown</code> from a regular account…</p>

<p><img src="https://www.leadedsolder.com/assets/sunview-shutdown-now.png" alt="I have switched into root with the &#39;su&#39; command and then done &#39;shutdown -h now&#39;, which tells the system it is going to shut down now."/></p>

<p>When in doubt, pop a root shell. No idea how you’re supposed to safely turn off your expensive workstation if you’re a lowly engineer without root access, but such plebian problems are beneath me.</p>

<p>So now I had a two-gig CHD file containing a working SunOS installation. How was I gonna get it to the SparcStation so I could enjoy the fruits of all this labour?</p>

<p><code>chdman extracthd</code> looked like the best course of action. That dumped out a roughly 2-gigabyte flat file. I offered that up onto the BlueSCSI’s SD card, along with the CDROM image.</p>

<p>I crossed my fingers that I had gotten all the filenames right, but that was going to be the least of my issues…</p>

<h2 id="big-sparc-little-smoke">Big Sparc, Little Smoke</h2>
<p>After many years, it was time to introduce power into this machine once again. I had to root around my workshop to find the Sun 13W3 video adapter, but thankfully the keyboard and mouse were big enough that they were hard to lose. Of course, it had been wedged into a corner where it was not especially usable, along with a pile of other dead and half-dead machines that had been piled up in the area since the little Sun’s pseudo-accidental decommissioning.</p>

<p>While inspecting the machine again, I noticed that the black plastic part of the keyboard port was falling out. I shoved that back in, and made a mental note to glue it up later.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-bluescsi-installed.jpg" alt="The BlueSCSI is inserted into the SparcStation, sitting in the little easy-remove tray."/></p>

<p>First, I plugged the BlueSCSI in without any power cables. I figured that the SS1+ was new enough to provide termination power on the SCSI connector, and therefore it would be enough to power the BlueSCSI without having to run any power cables.</p>

<p>To my surprise, I was wrong. The BlueSCSI didn’t light up, and the SparcStation hung after showing the sign-on banner. Stop+A didn’t work to break into OpenBoot. That sure sounds like what happened back in 2018 when I didn’t have any disks installed at all, doesn’t it?</p>

<p>I went rummaging through my cables for a Molex-to-Berg power adapter. Despite knowing that I had some good ones downstairs, I decided I would instead save myself the trip and get some from my ancient bin of 90s cables. In a SATA-to-IDE adapter board box, I found one.</p>

<p>I plugged it in, and the BlueSCSI’s power LED lit up.</p>

<p>The voltage regulator on the Pico lit up, too.</p>

<p>And smoked. Huh.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-blue-hole-in-bluescsi.jpg" alt="There is a hole in the voltage regulator for the BlueSCSI now. I guess you could say it &#34;blue&#34; up."/></p>

<p>After quickly shutting everything off, I unplugged the BlueSCSI and checked the voltages coming out of the SparcStation. +12V was coming out of the <em>red</em> wire on the adapter. Someone a long time ago had wired the Molex end backward in this adapter, while wiring the Berg end correctly. I didn’t notice, because the cables coming out of the SparcStation are all black<sup id="fnref:aftermarket" role="doc-noteref"><a href="#fn:aftermarket" rel="footnote">3</a></sup>. If I had seen a red/yellow mixup between the motherboard and adapter, I would have never turned it on.</p>

<p>The Pico on my BlueSCSI was now dead, having been force-fed +12V in a place that it expected to receive only +5V.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-bad-adapter-cooked-bluescsi.jpg" alt="The adapter is wrong. Pin 4 is supposed to be +5V, red, but it is instead yellow."/></p>

<p>The microSD card that was in the slot at the time also refused to mount or even identify later on my modern computers, so the damage was quite comprehensive.</p>

<p>In the future, I’m going to swap out the Pico and see if the BlueSCSI comes back to life. I will probably also see if the stricken Pico works when powered directly from 3.3V with the voltage regulator disabled. I’m not confident that the board will be in good shape, especially the level shifters, as they would have also gotten whacked with the twelve volts that killed the SD card. It will be more of a “for fun” project.</p>

<p>Luckily, the SparcStation itself seemed to be fine, with it able to boot to the same useless “just the banner” screen as before I installed any hard drives. Still, it would be hard to tell for sure until I got another hard drive in here.</p>

<p>Note to self: don’t feed your five-volt peripherals twelve volts.</p>

<h2 id="land-of-con-fuse-ion">Land of Con-Fuse-ion</h2>
<p>After I was done being extremely angry, I got to thinking. If only termination power had worked, none of this would ever have happened.</p>

<p>And, you know, it’s kind of weird that the SparcStation 1+ doesn’t have termination power. It’s a pretty modern computer. Although I wasn’t initially able to find conclusive documentation either way due to the collapse of actual useful search engines, the “<a href="http://sunmanagers.cs.toronto.edu/faq-2000.txt">Sun-Managers’ Old System and Software Frequently Asked Questions</a>” FAQ says this:</p>

<blockquote>
  <p>On newer machines (sparcstations and later), many people have done this [hot swap SCSI devices] regularly without problems. Halt the machine (sync;L1-A), remove or add the device, then continue. However, it is possible to blow the SCSI termination power fuse on the motherboard. If your machine hangs immediately on powerup unless the SCSI bus is externally terminated, this fuse (2A Littelfuse) may need to be replaced.  Caveat Emptor.</p>
</blockquote>

<p>The <a href="https://www.sunhelp.org/faq/sunref2.html">sunhelp hardware reference FAQ</a> concurs, and further says that a SparcStation 1+ does indeed have this fuse:</p>

<blockquote>
  <p>18) My SPARCstation 1/1+ says “The SCSI bus is hung. Perhaps an external device is turned off.” when I try to boot, or it locks up completely after displaying the banner. What do I do?</p>
</blockquote>

<blockquote>
  <p>Check the SCSI termination fuse, located on the motherboard near the external SCSI connector. The fuse looks like a small cylinder that is usually clear or totally black with a black top and white writing. It is in a socket and is easy to remove. If adding an external device that powers its own terminator makes the machine work, the problem is definitely the termination fuse.</p>
</blockquote>

<p>You know, this system is hanging on startup with no SCSI drive inserted (see above, in “hangs after banner.”) And before that, it complained that the SCSI bus was hung. Is the fuse blown?</p>

<p>I pulled out the TurboGX card and looked around the vicinity of the external SCSI connector. To my surprise, I found <em>two</em> fuses, along with a third one close to the keyboard port.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-fuse-u2.jpg" alt="Two socketed round plastic fuses are positioned next to the AMD AM7990 Ethernet controller of the computer."/></p>

<p>Checking them in order, I found that the one marked “U2” was open. Both of the other two fuses were intact. Checking <a href="https://www.sunhelp.org/faq/sunref3.html">part III of the Sun hardware FAQ</a>, it was confirmed that U2 is the SCSI termination fuse on the 4/60 (SparcStation 1) and 4/65 (SparcStation 1+) motherboards, Sun part number 150-1174.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-fuse-removed.jpg" alt="The blown U2 fuse, removed from its socket, sitting against the top of the power supply."/></p>

<p>Blown fuse! Time to get another. On the top is written “125V 2A LF,” which confirms that it’s a Littelfuse part. However, a couple years have passed since it was made, and Littelfuse has changed hands quite a few times, and what’s left of Sun probably isn’t about to sell me one. Would I still be able to find whatever fuse this was?</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-fuse-out-of-stock.png" alt="Digi-Key reports that they have zero of the Micro 273 in 2A in stock, and also it costs $11.23."/></p>

<p>After some searching, I was able to figure out that this is called a Micro 273 fuse, part number 0273002.H, and they are still in production. Unfortunately, Digi-Key wanted $11.23 Canadian for <em>one</em> fuse, and they were also out of stock.</p>

<p>My luck finally began to turn when I saw that Littelfuse had a samples program that included the 0273002.H, so I ordered two. Hey, I might need another depending on how this goes.</p>

<p>At the time of writing, they haven’t shipped these sample fuses yet. When that changes, I’ll change this sentence.</p>

<p>In the meantime, I swapped the intact Ethernet fuse to the SCSI position and fired up the machine with no drives in it. Sure enough, it got past the banner immediately and proceeded to the self-test. After a couple minutes, it kicked me out to the boot prompt. This is what I had been expecting it to do back in 2018, so at least we’re making some progress.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-boot-with-scsi-fuse-replaced.jpg" alt="Now that the SCSI termination fuse has been replaced, the SparcStation is going past the initial sign-on banner, proceeding to a sound and memory test."/></p>

<p>Not having bus termination would sure explain some of the weird stuff going on with this computer.</p>

<p>Fuses don’t just blow on their own. Who or what blew the fuse? Considering the shenanigans with the SCSI cables and the mismatched Quantum hard drive, I’m guessing the previous owner, or even the recycler that sold it to me. The FAQs blame hot-swapping SCSI disks for blowing these fuses, but I can’t imagine a lot of people using a Sun workstation would ever think that’s okay to do.</p>

<p>It’s too bad I didn’t figure this out before I turned a BlueSCSI into very expensive smoke, but that miswired cable would have eventually killed something anyway. I’m glad it wasn’t the entire computer.</p>

<h2 id="another-emulator">Another emulator</h2>
<p>All of my BlueSCSIs were being used for other purposes, so I needed another disk emulator to keep momentum going on this project.</p>

<p><a href="https://bluescsi.ca/">Drake</a> was out of BlueSCSIs, so I ordered a ZuluSCSI Compact RP2040 with mounting brace from <a href="https://decromancer.ca/zuluscsi/">DECromancer</a>. I’d been meaning to try out the Zulu for a little while, and this seemed like the perfect excuse.</p>

<p>The mounting brace is not exactly what I thought it would be. I figured it would be an adapter plate so that the ZuluSCSI would easily screw into the Sun’s plastic standard hard-drive retainer like any other internal hard drive, but it seems to be designed for use as a front-panel for a computer with 3.5” bays.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-zuluscsi-zip-ties.jpg" alt="The ZuluSCSI and its adapter plastic, ziptied into the Sun adapter sled."/></p>

<p>I took the opportunity to redo my disk images, as well. Having the mismatch between the 2-gig file and the Sun1.3G layout was bothering me, so I decided to create a whole new image of the correct size.</p>

<p>The BlueSCSI platforms page for the SparcStation tells me that a Sun1.3G drive is 1,369,661,440 bytes long. I went ahead and used <code>chdman</code> to produce a hard drive image of that size, and then repeated the SunOS 4.1.4 install as described in the previous section.</p>

<p>This time, I picked the “full install,” instead of opting only for a developer-style workstation. We’ve got <em>one point three gigabytes of storage</em>, man. We’ll never run out! And if we do, I’m sure I can figure out how to use up the rest of this 8GB card on a second “drive” that gets mounted into the tree.</p>

<p>I plugged the SD card into the ZuluSCSI, and it was time to party. Unfortunately, nothing came up on <code>probe-scsi</code>, so obviously booting would have failed. The ZuluSCSI blinked five times rapidly at startup, which indicates “SD card not detected.”</p>

<p>I noticed a suspicious-looking solder bridge on one of the buffers, so I took a picture and sent it to the ZuluSCSI support email written on the board. Alex got back to me within a half hour (on a weekend, even) and explained that it was normal and not to worry about it. After some more back-and-forth, he asked if it was running the latest firmware.</p>

<p>I had no idea what firmware this board was running, so I plugged it into a USB cable and got ready to flash a new Pico UF2 file on it. But at that moment… the LED blinked only <em>once</em>. When it was plugged into USB power, the ZuluSCSI had absolutely no problem seeing the SD card!</p>

<p>I went back to the SparcStation and plugged it back in. Five blinks. I measured the +5V power at the unpopulated Berg connector on the top of the ZuluSCSI, which should be reflecting how much power the RP2040 microcontroller is seeing from the SCSI termination line.</p>

<p>It was only showing 2.4 to 2.6 volts, which is certainly not enough for a 3.3V system, and <em>definitely</em> not enough for a 3.3V system that expects to be given a 5V power source! Termination power, it seems, was still not in great shape on this SparcStation after all.</p>

<p>After some grumbling and anger at the universe, I decided to externally power the ZuluSCSI.</p>

<h2 id="usb-powered">USB powered</h2>
<p>It was getting late, so to temporarily test this theory, I ran a too-short micro-USB cable to an old phone charger and powered the ZuluSCSI inside the SparcStation. Now, <code>probe-scsi</code> would actually return some devices!</p>

<p>After some fumbling, I managed to get the SparcStation to attempt boot by typing the command <code>boot sd(0,0,0)vmunix</code>, which got it as far as trying to mount the <code>/usr</code> filesystem (at <code>/dev/sd3g</code>) and failing.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-missing-sd3g.jpg" alt="The SparcStation complains that the ZuluSCSI is an unrecognized brand of CD-ROM before attempting to mount /usr, which fails because sd3g isn&#39;t a device, and then tries to run fsck, which fails because it&#39;s probably in /usr somewhere."/></p>

<p>We’ll get to that complaint about the ZuluSCSI-brand CD-ROM drive later.</p>

<p>I think this is because I built the image while telling MAME it was at ID 0, but the firmware does a little swapping for historical reasons, and maps ID 3 into ID 0 and vice versa. So that “3” in <code>/dev/sd3g</code> probably means the SunOS install was done thinking it was at SCSI ID 3, which is really at SCSI ID 0, which means that telling the ZuluSCSI to mount it at SCSI ID 3 makes the computer think it’s at SCSI ID 0 which means it <em>should</em> be getting it from <code>/dev/sd0g</code> but is not. Confused yet?</p>

<p>I renamed the <code>HD3_512.img</code> hard drive image to <code>HD0_512.img</code> and then started the system again. After typing <code>boot sd(0,3,0)vmunix</code> I was soon inside SunOS. After login, it started OpenWindows and the OpenLook window manager. In <em>colour</em>.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-openwindows-startup.jpg" alt="A stippled grey screen, with a mouse cursor on it. This would have been the nice teal OpenWindows splash screen, but I was too slow to catch it."/></p>

<p>Unfortunately, at this point I wasn’t sure how to get <em>out</em> of it and safely shut the computer off. I hadn’t plugged in a mouse, I wasn’t sure if the mice could be hot-plugged, and I didn’t have the right mouse pad for the (optical) mouse, either. After a little fumbling and key-pressing to try and get a terminal to appear that I could type into, I gave up and switched the SparcStation off at the switch on the back.</p>

<p><img src="https://www.leadedsolder.com/assets/sparcstation-network-security-violation.jpg" alt="The console complains that there is an XNeWS network security violation and that it rejected a connection from blort, the same machine this is running on."/></p>

<p>I did see a mysterious “network security violation” error on the open console complaining about refusing a connection from itself (the hostname <code>blort</code>,) which I didn’t see in MAME. It seems like that would have kept me from getting a usable terminal even if I had a mouse installed. I wonder what that’s all about?</p>

<h2 id="conclusion">Conclusion</h2>
<p>There’s a <em>lot</em> more to do with this thing before it can become a fully operational SparcStation:</p>

<ul>
  <li>Find a usable mouse;</li>
  <li>Find a fuse for the Ethernet, and get it working;</li>
  <li>Figure out what exactly is going on with SCSI termination power on this system, and what regulates it;</li>
  <li>In the meantime, put a Berg connector on the ZuluSCSI so I’m not using a phone charger to power it;</li>
  <li>Bodge a battery onto the NVRAM module so we can have permanent settings and not wait minutes for a memory test every time;</li>
  <li>Glue the loose plastic part of the keyboard port back in, if that’s even possible;</li>
  <li>Upgrade the ROM to the same version I used in MAME, and see if that supports the other video card I bought;</li>
  <li>Figure out how to work OpenLook well enough to write some code.</li>
</ul>

<p>Phew! Making a working computer out of someone’s dumpster liner is hard work.</p>

<p>For now, though, this is the most progress made in the last, oh, <em>eight years</em>? I’ll take it.</p>

<p>Thank you to everyone who gave me advice on how to misuse this once-expensive machine as an e-waste toy. And thank you to Sun, for making this system very wide and very flat, so I could stack other broken computers on top of it while I was waiting to fix a problem that (in retrospect) was very obvious.</p>

<p>Thank you also to you for reading.</p>

<p>If you’ve got a broken old computer you haven’t looked at for a while, you should dust it off and give it a try. What’s the worst that could happen, letting the magic smoke out?</p>

<h2 id="repair-summary">Repair Summary</h2>

<table>
  <thead>
    <tr>
      <th>Fault</th>
      <th>Remedy</th>
      <th>Caveats</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A perfectly good SCSI emulator seems to be smoking.</td>
      <td>Don’t mix up +5V and +12V next time.</td>
      <td> </td>
    </tr>
    <tr>
      <td>SCSI initialization appears to hang forever after banner.</td>
      <td>Replace blown SCSI fuse at U2.</td>
      <td>It is still unknown why the fuse blew.</td>
    </tr>
    <tr>
      <td>ZuluSCSI refuses to identify SD card.</td>
      <td>Add additional power.</td>
      <td>I still don’t know why termination power is so weak on this SparcStation; it should “just work.”</td>
    </tr>
  </tbody>
</table>


  </article></div>
  </body>
</html>
