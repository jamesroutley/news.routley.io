<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hawkticehurst.com/2024/11/css-web-components-for-marketing-sites/">Original</a>
    <h1>CSS Web Components for marketing sites (2024)</h1>
    
    <div id="readability-page-1" class="page"><div> <section data-astro-cid-resui2ln="">  <p data-astro-cid-resui2ln=""> November 4, 2024 – <a href="https://bsky.app/profile/hawkticehurst.com" data-astro-cid-resui2ln="">@hawkticehurst</a> </p> </section> 
					<p>Hot take: I think “regular” web components (the ones with Shadow DOM and friends) are a terrible solution for marketing website design systems.</p>
<p>It has always left a bad taste in my mouth when I run across a web component for a swimlane, banner, card, and so on. Why? Because these are components that (unless you’re doing something mighty fancy) should never require JavaScript as a dependency.</p>
<p>But, in the world of web components you are locked into JavaScript from the very start. To even register a web component with the browser you need JavaScript.</p>
<p>But what if… we didn’t do that?</p>
<h2 id="html-web-components">HTML Web Components</h2>
<p>I’ve spent a good chunk of the last year focused on marketing site design systems at work. A regular topic of discussion is the need to build marketing sites that are accessible to folks with lower powered devices and poor internet connections. How do you achieve that? In short, use less JavaScript and ideally build UI with progressive enhancement in mind.</p>
<p>There are many ways to achieve these goals, but the method I’ve been focused on is how an <a href="https://hawkticehurst.com/2023/11/a-year-working-with-html-web-components/">HTML Web Component</a> archictecture might be applied to implement a marketing site design system.</p>
<p>As a quick reminder/intro, HTML Web Components is a method of building web components where you write HTML as you would normally and then wrap the parts you want to be interactive using a custom element.</p>
<p>For example, if you wanted to create a counter button it would look like this:</p>
<pre tabindex="0" data-language="html"><code><span><span>&lt;</span><span>counter-button</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>button</span><span>&gt;</span><span>Count is </span><span>&lt;</span><span>span</span><span>&gt;</span><span>0</span><span>&lt;/</span><span>span</span><span>&gt;&lt;/</span><span>button</span><span>&gt;</span></span>
<span><span>&lt;/</span><span>counter-button</span><span>&gt;</span></span>
<span></span>
<span><span>&lt;</span><span>style</span><span>&gt;</span></span>
<span><span>  counter-button</span><span> button</span><span> {</span></span>
<span><span>    /* Counter button styles */</span></span>
<span><span>  }</span></span>
<span><span>&lt;/</span><span>style</span><span>&gt;</span></span>
<span></span>
<span><span>&lt;</span><span>script</span><span>&gt;</span></span>
<span><span>  class</span><span> Counter</span><span> extends</span><span> HTMLElement</span><span> {</span></span>
<span><span>    // Counter button behavior</span></span>
<span><span>  }</span></span>
<span><span>  customElements</span><span>.</span><span>define</span><span>(</span><span>&#34;counter-button&#34;</span><span>, </span><span>Counter</span><span>);</span></span>
<span><span>&lt;/</span><span>script</span><span>&gt;</span></span></code></pre>
<p>The markup in an HTML web component is parsed, rendered, and styled as normal HTML. That HTML will then be seamlessly hydrated once the JavaScript associated with the custom element tag is executed.</p>
<p>
	In contrast, the markup of a &#34;regular&#34; web component (that uses Shadow DOM) is dynamically generated at runtime using JavaScript -- kind of like an SPA.
</p>
<p>This component architecture is a really strong candidate for a marketing design system (and, as a bonus, avoids some of the big gotchas that come with regular web components).</p>
<ul>
<li>It is a perfect implementation of progressively enhanced UI</li>
<li>It uses minimal and self-contained JavaScript — HTML Web Components can be thought of as <a href="https://jasonformat.com/islands-architecture/">islands</a></li>
<li>You still get the power of custom element APIs to implement stuff like design system component variants</li>
<li>The component markup is fully SSR-able</li>
<li>The component markup can be styled like regular HTML</li>
<li>Common accessibility practices can be applied without issue</li>
</ul>
<p>But for all these benefits we’re still left with the original problem. HTML Web Components require JavaScript.</p>
<h2 id="css-web-components">CSS Web Components</h2>
<p>So here’s the question: What would happen if we took the ideas of HTML Web Components and skipped all the JavaScript?</p>
<p>You get CSS Web Components.</p>
<p>Note: I&#39;ve never seen anyone talk about or name this concept before, so I&#39;m using &#34;CSS Web Components&#34; to describe the idea. But please let me know if someone has already written about and named this!</p>
<p>How do they work? The exact same as HTML Web Components but you just take advantage of the powers of CSS to implement key functionality.</p>
<p>As an example let’s implement that swimlane component:</p>
<pre tabindex="0" data-language="html"><code><span><span>&lt;</span><span>swim-lane</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>section</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>h2</span><span>&gt;</span><span>Creativity unleashed</span><span>&lt;/</span><span>h2</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>p</span><span>&gt;</span><span>A brand new way of illustrating for the web.</span><span>&lt;/</span><span>p</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>a</span><span> href</span><span>=</span><span>&#34;/product&#34;</span><span>&gt;</span><span>Learn more</span><span>&lt;/</span><span>a</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>section</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> src</span><span>=</span><span>&#34;product.jpg&#34;</span><span> alt</span><span>=</span><span>&#34;Product image&#34;</span><span> /&gt;</span></span>
<span><span>&lt;/</span><span>swim-lane</span><span>&gt;</span></span>
<span></span>
<span><span>&lt;</span><span>style</span><span>&gt;</span></span>
<span><span>  swim-lane</span><span> {</span></span>
<span><span>    display</span><span>: </span><span>flex</span><span>;</span></span>
<span><span>    align-items</span><span>: </span><span>center</span><span>;</span></span>
<span><span>    gap</span><span>: </span><span>2rem</span><span>;</span></span>
<span><span>    color</span><span>: </span><span>white</span><span>;</span></span>
<span><span>    background</span><span>: </span><span>black</span><span>;</span></span>
<span><span>    padding</span><span>: </span><span>1rem</span><span>;</span></span>
<span><span>    border-radius</span><span>: </span><span>16px</span><span>;</span></span>
<span><span>  }</span></span>
<span><span>  swim-lane</span><span> h2</span><span> {</span></span>
<span><span>    /* Swimlane title styles */</span></span>
<span><span>  }</span></span>
<span><span>  swim-lane</span><span> p</span><span> {</span></span>
<span><span>    /* Swimlane description styles */</span></span>
<span><span>  }</span></span>
<span><span>  swim-lane</span><span> a</span><span> {</span></span>
<span><span>    /* Swimlane link styles */</span></span>
<span><span>  }</span></span>
<span><span>  @media</span><span> (</span><span>max-width</span><span>: </span><span>650px</span><span>) {</span></span>
<span><span>    /* Mobile responsive styles */</span></span>
<span><span>  }</span></span>
<span><span>&lt;/</span><span>style</span><span>&gt;</span></span></code></pre>
<section>
	<div>
		<swim-lane>
			<section>
				<h2>Creativity unleashed</h2>
				<p>A brand new way of illustrating for the web.</p>
				<a href="#">Learn more</a>
			</section>
			<img src="https://hawkticehurst.com/imgs/ephemeral-canvas.jpg" alt="Product image"/>
		</swim-lane>
	</div>
</section>
<p>Okay great, we styled some HTML nested inside a custom element. There’s nothing too novel about that. But what about adding some functionality? Say, a component variant that lets you reverse the layout of the swimlane?</p>
<p>It’s possible using only CSS! Specifically, CSS attribute selectors.</p>
<pre tabindex="0" data-language="html"><code><span><span>&lt;</span><span>swim-lane</span><span> layout</span><span>=</span><span>&#34;reverse&#34;</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>section</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>h2</span><span>&gt;</span><span>Creativity unleashed</span><span>&lt;/</span><span>h2</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>p</span><span>&gt;</span><span>A brand new way of illustrating for the web.</span><span>&lt;/</span><span>p</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>a</span><span> href</span><span>=</span><span>&#34;/product&#34;</span><span>&gt;</span><span>Learn more</span><span>&lt;/</span><span>a</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>section</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> src</span><span>=</span><span>&#34;product.jpg&#34;</span><span> alt</span><span>=</span><span>&#34;Product image&#34;</span><span> /&gt;</span></span>
<span><span>&lt;/</span><span>swim-lane</span><span>&gt;</span></span>
<span></span>
<span><span>&lt;</span><span>style</span><span>&gt;</span></span>
<span><span>  /* Other swimlane styles */</span></span>
<span><span>  swim-lane</span><span>[</span><span>layout</span><span>=</span><span>&#34;reverse&#34;</span><span>] {</span></span>
<span><span>    flex-direction</span><span>: </span><span>row-reverse</span><span>;</span></span>
<span><span>  }</span></span>
<span><span>  @media</span><span> (</span><span>max-width</span><span>: </span><span>650px</span><span>) {</span></span>
<span><span>    swim-lane</span><span>[</span><span>layout</span><span>=</span><span>&#34;reverse&#34;</span><span>] {</span></span>
<span><span>      flex-direction</span><span>: </span><span>column-reverse</span><span>;</span></span>
<span><span>    }</span></span>
<span><span>  }</span></span>
<span><span>&lt;/</span><span>style</span><span>&gt;</span></span></code></pre>
<section>
	<div>
		<swim-lane layout="reverse">
			<section>
				<h2>Creativity unleashed</h2>
				<p>A brand new way of illustrating for the web.</p>
				<a href="#">Learn more</a>
			</section>
			<img src="https://hawkticehurst.com/imgs/ephemeral-canvas.jpg" alt="Product image"/>
		</swim-lane>
	</div>
</section>
<p>Another really cool perk of this is that because you’re defining an attribute on a custom element you don’t have to worry about naming collisions with HTML attributes. No need to add <code>data-</code> to the beginning of attributes like you would/should on normal HTML elements.</p>
<h2 id="how-far-does-this-go">How far does this go?</h2>
<p>In theory, I believe this method of building design systems can go quite far. If you think about it, the vast majority of basic components you might need in a marketing design system are just vanilla HTML elements with specific style variations.</p>
<p>A marketing website button is just an anchor tag wrapped in a <code>&lt;link-button&gt;</code> custom element and styled using custom attribute selectors.</p>
<pre tabindex="0" data-language="html"><code><span><span>&lt;</span><span>link-button</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>a</span><span> href</span><span>=</span><span>&#34;&#34;</span><span>&gt;</span><span>Learn more</span><span>&lt;/</span><span>a</span><span>&gt;</span></span>
<span><span>&lt;/</span><span>link-button</span><span>&gt;</span></span>
<span><span>&lt;</span><span>link-button</span><span> variant</span><span>=</span><span>&#34;secondary&#34;</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>a</span><span> href</span><span>=</span><span>&#34;&#34;</span><span>&gt;</span><span>Learn more</span><span>&lt;/</span><span>a</span><span>&gt;</span></span>
<span><span>&lt;/</span><span>link-button</span><span>&gt;</span></span>
<span><span>&lt;</span><span>link-button</span><span> pill</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>a</span><span> href</span><span>=</span><span>&#34;&#34;</span><span>&gt;</span><span>Learn more</span><span>&lt;/</span><span>a</span><span>&gt;</span></span>
<span><span>&lt;/</span><span>link-button</span><span>&gt;</span></span>
<span><span>&lt;</span><span>link-button</span><span> size</span><span>=</span><span>&#34;large&#34;</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>a</span><span> href</span><span>=</span><span>&#34;&#34;</span><span>&gt;</span><span>Learn more</span><span>&lt;/</span><span>a</span><span>&gt;</span></span>
<span><span>&lt;/</span><span>link-button</span><span>&gt;</span></span>
<span></span>
<span><span>&lt;</span><span>style</span><span>&gt;</span></span>
<span><span>  link-button</span><span> a</span><span> {</span></span>
<span><span>    /* Default link button styles */</span></span>
<span><span>  }</span></span>
<span><span>  link-button</span><span>[</span><span>variant</span><span>=</span><span>&#34;secondary&#34;</span><span>] </span><span>a</span><span> {</span></span>
<span><span>    background</span><span>: </span><span>transparent</span><span>;</span></span>
<span><span>    color</span><span>: </span><span>white</span><span>;</span></span>
<span><span>  }</span></span>
<span><span>  link-button</span><span>[</span><span>pill</span><span>] </span><span>a</span><span> {</span></span>
<span><span>    border-radius</span><span>: </span><span>50px</span><span>;</span></span>
<span><span>  }</span></span>
<span><span>  link-button</span><span>[</span><span>size</span><span>=</span><span>&#34;large&#34;</span><span>] </span><span>a</span><span> {</span></span>
<span><span>    padding</span><span>: </span><span>10px</span><span> 20px</span><span>;</span></span>
<span><span>    font-size</span><span>: </span><span>1.25rem</span><span>;</span></span>
<span><span>  }</span></span>
<span><span>&lt;/</span><span>style</span><span>&gt;</span></span></code></pre>
<section>
	
</section>
<p>From here, imagine incorporating all the other powers that CSS (and HTML) bring to the table:</p>
<ul>
<li><a href="https://css-tricks.com/css-cascade-layers/">Cascade layers</a> for better control of how styles get applied</li>
<li><a href="https://www.joshwcomeau.com/css/container-queries-introduction/">Container queries</a> for conditional style variants based on a parent container</li>
<li><a href="https://developer.chrome.com/blog/has-m105">:has()</a>, <a href="https://web.dev/articles/css-is-and-where">:is(), and :where()</a> to simplify complex selectors</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties">CSS variables</a> for theming</li>
<li><a href="https://web.dev/blog/at-property-baseline">@property</a> rule for even more powerful CSS variables</li>
<li><a href="https://web.dev/articles/light-dark">light-dark()</a> for system aware theming</li>
<li><a href="https://web.dev/blog/popover-api">Popover API</a> for menus, toggletips, and dialogs without JS</li>
<li><a href="https://developer.chrome.com/docs/css-ui/exclusive-accordion">Exclusive accordions</a> for FAQ sections</li>
</ul>
<p>The possibilities are quite large.</p>
<p>What do you think?</p>
 </div></div>
  </body>
</html>
