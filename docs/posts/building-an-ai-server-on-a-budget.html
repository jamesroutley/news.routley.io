<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.informationga.in/blog/building-an-ai-server-on-a-budget">Original</a>
    <h1>Building an AI server on a budget</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>This is a detailed walk-through of how I built my own AI server from scratch—on a budget of $1.3K.</p>
<p>These are the main steps:</p>
<p>Step 1: <a href="#step-1-acquire-hardware"><strong>Acquire Hardware</strong></a>.</p>
<p>Step 2: <a href="#step-2-assemble-hardware"><strong>Assemble Hardware</strong></a>.</p>
<p>Step 3: <a href="#step-3-install-os"><strong>Install OS</strong></a>.</p>
<p>Step 4: <a href="#step-4-install-software-tools-libraries"><strong>Install Software Tools &amp; Libraries</strong></a>.</p>
<p>This post may seem long, but I promise, it&#39;s because it contains a lot of pictures and code snippets.</p>
<p>Btw, if you have any questions, suggestions, or comments, you can message me on <a href="https://www.linkedin.com/in/thehardikv/">LinkedIn</a>, <a href="https://x.com/TheHardikVala">Twitter / X</a>, or <a href="https://bsky.app/profile/hardikvala.com">BlueSky</a>.</p>
<h2 id="rationale"><a aria-label="Link to section" href="#rationale"><span></span></a>Rationale</h2>
<p><em>Why did I decide to invest in an on-prem, DIY server?</em></p>
<p>For a few reasons:</p>
<ul>
<li><strong>Unrestricted Learning</strong>: I&#39;m fascinated by the whole AI stack--from the bare-metal, to low-level compilation, to high-level programming abstractions. I want to have unfettered access to all the hardware and software layers so I can follow my curiosity into the internals without the limitations you find with cloud-hosted instances.</li>
<li><strong>Hands-On Operations</strong>: Managing the server can be a hassle, but I do it for the operational experience. I&#39;m treating my home server as a microcosm of a data center, implementing monitoring and logging systems, configuring backups, managing power and temperature—all things we take for granted with the cloud, but I strangely find interesting.</li>
<li><strong>Cost Savings</strong>: You pay a lot upfront for the hardware, but if your usage of the GPU is heavy, then you save a lot of money in the long run. I&#39;m running a lot of AI workloads so the investment is probably justified, although time will tell. For low utilization rates, cloud instances are usually more cost-effective. (Tim Dettmers has a <a href="https://timdettmers.com/2023/01/30/which-gpu-for-deep-learning/#When_is_it_better_to_use_the_cloud_vs_a_dedicated_GPU_desktopserver">good breakdown</a> of the tradeoffs.)</li>
</ul>
<p>The biggest downside with a personal rig is that you&#39;re confined to small-scale experiments and tasks. The limiting factor is the GPU&#39;s memory capacity, or VRAM. But if you&#39;re not looking to, e.g. host cutting-edge LLMs to replace LLM services like ChatGPT or Claude, then you can get away with a modest GPU. None of my runs so far have hit the memory ceiling yet, but I can see myself adopting a hybrid approach in the future: using my server for local development with miniaturized workloads, and the cloud when I need to scale-up.</p>
<p>Ok, now here&#39;s how I built the rig.</p>
<h2 id="step-1-acquire-hardware"><a aria-label="Link to section" href="#step-1-acquire-hardware"><span></span></a>Step 1: Acquire Hardware</h2>
<h3 id="step-11-buy-the-gpu"><a aria-label="Link to section" href="#step-11-buy-the-gpu"><span></span></a>Step 1.1: Buy the GPU</h3>
<p>These are the factors I considered when selecting which AI accelerator to buy:</p>
<ul>
<li><strong>Maker</strong>: Nvidia was the obvious choice. Their hardware has wide industry adoption so the software (e.g. drivers, CUDA) ecosystem and community is mature.<!-- -->
<ul>
<li><em>Nvidia vs AMD</em>: AMD GPUs with ROCm lets you peer deeper into the stack internals, but the supporting software and community for AI use cases is still nascent.</li>
<li><em>Nvidia vs Apple</em>: Devices with Apple Silicon are more closed. They don&#39;t expose the mid- and low-level layers for optimization. Also, you&#39;re not going to find M-series chips in data centers so your technical learnings and implementation are limited to edge deployments.</li>
</ul>
</li>
<li><strong>Price</strong>: Under $700.</li>
<li><strong>Memory</strong>: The VRAM capacity determines the size of the models you can tinker with. 12GB lets you comfortably load LLMs with 14B parameters (~9GB) into the GPU.</li>
<li><strong>Power</strong>: I didn&#39;t want a complicated setup to power the GPU and accompanying components, so I was looking for GPUs that were compatible with commodity power supply units that could be plugged into residential outlets. This is pretty much guaranteed with consumer-grade GPUs (like Nvidia&#39;s RTX series).</li>
<li><strong>Resale Value</strong>: When Nvidia releases a new ship, the value of previous generations does drop, but not by that much. Newer generations will depreciate more slowly in the near-term. (This may change as new market entrants introduce alternative GPU supply, satisfying the high demand right now for AI chips.) I plan to keep the GPU for awhile, but I&#39;ll resell it when I upgrade to a later generation, so I do want it to retain some of its original value.</li>
<li><strong>Tensor Cores</strong>: Most GPU units coming out of Nvidia have Tensor cores these days, but it&#39;s something you want to confirm before you purchase. Tensor cores are specialized cores inside of GPUs optimized for training and inference operations.</li>
<li><strong>NVLink</strong>: NVLink is a high-speed interconnect between GPUs that allows them to collaborate more efficiently on workloads. If you&#39;re going to purchase multiple GPUs, then you might want to consider models that are NVLink-compatible. Although, it&#39;s not necessary. You can still link up multiple GPUs using a PCIe switch, but it will be slower.</li>
<li><strong>Availability</strong>: Some Nvidia models (e.g. RTX 4090) are more difficult to find than others. I didn&#39;t want to wait, so I considered only units that were ready to ship right away.</li>
</ul>
<h4 id="decision-nvidia-rtx-4070"><a aria-label="Link to section" href="#decision-nvidia-rtx-4070"><span></span></a>DECISION: <strong>Nvidia RTX 4070</strong></h4>
<ul>
<li><strong>Maker</strong>: Nvidia</li>
<li><strong>Price</strong>: $597.60 (incl. tax)</li>
<li><strong>Memory</strong>: 12GB</li>
<li><strong>Power</strong>: Worst-case draw is 200W, combined with server components, is likely to be ~450W, which is well under the 1,440W limit on wall outlets in California</li>
<li><strong>Resale Value</strong>: Second-latest generation (50-series is the most recent)</li>
<li><strong>Tensor Cores</strong>: Yes</li>
<li><strong>NVLink</strong>: No</li>
<li><strong>Availability</strong>: Yes (bought a <a href="https://www.ebay.com/itm/116611232694">used version</a> off eBay)</li>
</ul>
<h2 id="step-12-buy-the-other-components"><a aria-label="Link to section" href="#step-12-buy-the-other-components"><span></span></a>Step 1.2: Buy the Other Components</h2>
<p>These are the ancillary components needed for a minimum viable server:</p>
<ul>
<li><strong>Motherboard</strong>: The backbone that holds all elements of the server together, as well the mechanism that enables them all to communicate.</li>
<li><strong>CPU</strong>: The central processing unit that controls the overall operation of the server.</li>
<li><strong>CPU fan</strong>: Keeps the CPU within safe operating temperatures.</li>
<li><strong>RAM</strong>: Memory storing data and instructions for the CPU.</li>
<li><strong>Storage</strong>: Stores the operating system, files, and other data. A solid-state drive (SSD) has faster performance, but a hard disk drive (HDD) is less expensive.</li>
<li><strong>Power supply unit (PSU)</strong>: Converts mains power to a lower voltage to ensure the power entering the server is appropriate for all internal components.</li>
<li><strong>Case</strong>: Encases the components in a sealed enclosure, shielding it from dust and debris, managing airflow for cooling, and servers as a mount for the fan(s).</li>
</ul>
<p>I prompted ChatGPT to give me recommendations. Prompt:</p>
<blockquote>
<p>I recently bought a Gigabyte Nvidia GeForce RTX 4070 12GB Graphics Card to build a custom AI server I can use to run deep learning workloads with my MacBook Pro as the terminal. Recommend hardware components I can buy to build my AI server that balances budget (under $1,000), performance, and being future-proof or at least easy to upgrade. Differentiate between components that are essential and non-essential. The final build will be located at my residence in San Francisco, CA, so it will receive power from a regular outlet.</p>
</blockquote>
<p>I used the AI-generated recommendations as a starting point, and refined the options with my own research. I eventually landed on the following:</p>
<table><thead><tr><th>Component</th><th>Model</th><th>Price</th></tr></thead><tbody><tr><td>Motherboard</td><td><a href="https://www.amazon.com/MSI-Motherboard-Bluetooth-Desktop-Processors/dp/B0CB6XZ7RH/ref=sr_1_2"><p>MSI B650 Gaming Plus WiFi Gaming Motherboard (AMD Ryzen 9000/8000/7000 Series Processors, AM5, DDR5, PCIe 4.0, M.2, SATA 6Gb/s, USB 3.2 Gen 2, HDMI/DP, Wi-Fi 6E, Bluetooth 5.3, 2.5Gbps LAN, ATX)</p></a></td><td>$130</td></tr><tr><td>CPU</td><td><a href="https://www.amazon.com/AMD-7600-12-Thread-Unlocked-Processor/dp/B0BMQJWBDM/ref=sr_1_2"><p>AMD Ryzen 5 7600 6-Core, 12-Thread Unlocked Desktop Processor</p></a></td><td>$214</td></tr><tr><td>RAM</td><td><a href="https://www.amazon.com/G-Skill-288-Pin-CL36-36-36-96-Channel-F5-6000J3636F16GX2-FX5/dp/B0BFGB2D2Z/ref=sr_1_7_sspa"><p>G.SKILL Flare X5 Series (AMD Expo &amp; Intel XMP 3.0) DDR5 RAM 32GB (2x16GB) 6000MT/s CL36-36-36-96 1.35V Desktop Computer Memory UDIMM - Matte Black</p></a></td><td>$90</td></tr><tr><td>SSD</td><td><a href="https://www.amazon.com/Western-Digital-SN5000-Internal-Solid/dp/B0D7MLHCQ7/ref=sr_1_14"><p>Western Digital 1TB WD Blue SN5000 NVMe Internal Solid State Drive SSD - PCIe Gen 4.0, M.2 2280, Up to 5,150 MB/s</p></a></td><td>$65</td></tr><tr><td>PSU</td><td><a href="https://www.amazon.com/GIGABYTE-750W-PSU-Certified-GP-UD750GM/dp/B0DPNHR9H3/ref=sr_1_5"><p>GIGABYTE 750W PSU - 80 Plus Gold Certified - Fully Modular Power Supply (GP-UD750GM-A)</p></a></td><td>$90</td></tr><tr><td>Case</td><td><a href="https://www.amazon.com/CORSAIR-4000D-Modular-Airflow-Mid-Tower/dp/B0DPJ9K8WK/ref=sr_1_5"><p>CORSAIR 4000D RS Frame Modular High Airflow Mid-Tower PC Case - 3X CORSAIR RS Fans - InfiniRail Fan Mounting System - Fits Multiple 360mm Radiators - Reverse Connector Motherboard Compatible - Black</p></a></td><td>$92 (Used)</td></tr></tbody></table>
<h4 id="total-70820-incl-tax"><a aria-label="Link to section" href="#total-70820-incl-tax"><span></span></a>Total: <strong>$708.20</strong> (incl. tax)</h4>
<p>Future-proofing the build was important to me so I paid extra attention to these components during the buy flow:</p>
<ul>
<li><strong>Motherboard</strong>: Extra slots to make room for additional GPUs, memory, and storage.</li>
<li><strong>PSU</strong>: With 50% headroom above the system&#39;s theoretical peak power draw to allow for additional upgrades. (Will also keep the fan noise down.) And enough peripheral connectors for future components (e.g. a second GPU).</li>
<li><strong>Case</strong>: Physical space for additional parts.</li>
</ul>
<p>Before pulling the trigger, I confirmed with ChatGPT that all the components were compatible. I then ordered all the parts from Amazon, and they arrived in less than a week.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3136.webp" alt="Server components"/></p>
<h2 id="step-13-prepare-for-build"><a aria-label="Link to section" href="#step-13-prepare-for-build"><span></span></a>Step 1.3: Prepare for Build</h2>
<p>I needed the following:</p>
<ul>
<li>A pair of scissors to open boxes and packaging.</li>
<li>A Philips screwdriver.</li>
<li>A USB drive for storing the OS.</li>
<li>A computer to download the OS and create the bootable USB drive.</li>
<li>A monitor for the server to observe the OS installation and configuration process.</li>
<li>A keyboard to provide inputs to the server during installation.</li>
<li>A power outlet to power the server.</li>
</ul>
<h2 id="step-2-assemble-hardware"><a aria-label="Link to section" href="#step-2-assemble-hardware"><span></span></a>Step 2: Assemble Hardware</h2>
<h3 id="step-21-unbox-components"><a aria-label="Link to section" href="#step-21-unbox-components"><span></span></a>Step 2.1: Unbox Components</h3>
<p>Laid out the unboxed components on a bed sheet or towel, or something else, so that broken styrofoam bits and other debris doesn&#39;t scatter all over the floor.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3138.webp" alt="Unboxed components"/></p>
<p>Also, had to download user manuals for parts that didn&#39;t come with a printed copy.</p>
<ul>
<li>Motherboard: <a href="https://download-2.msi.com/archive/mnu_exe/mb/B650GAMINGPLUSWIFI.pdf">https://download-2.msi.com/archive/mnu_exe/mb/B650GAMINGPLUSWIFI.pdf</a></li>
<li>Case: <a href="https://www.corsair.com/us/en/explorer/diy-builder/cases/corsair-frame-4000-series/">https://www.corsair.com/us/en/explorer/diy-builder/cases/corsair-frame-4000-series/</a></li>
</ul>
<h3 id="step-22-install-motherboard-components"><a aria-label="Link to section" href="#step-22-install-motherboard-components"><span></span></a>Step 2.2: Install Motherboard Components</h3>
<p>Installed the CPU, fan, RAM DIMMs, and SSD on the motherboard first. This was easier than installing the motherboard in the case first, and then installing these components inside a more restricted space.</p>
<p>For this step, I took the following precautions:</p>
<ul>
<li>Held the motherboard by the edges to avoid touching sensitive components.</li>
<li>Discharged myself of static electricity by touching another metal object (my bed frame) before handling the motherboard.</li>
<li>Laid the motherboard on top of the anti-static bag it came in (the silvery, crinkly bag). Making sure it was flat and sitting securely.</li>
</ul>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3147.webp" alt="Motherboard - Top" width="300"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3148.webp" alt="Motherboard - Angle" width="300"/></p>
<h4 id="step-221-install-cpu-and-cpu-fan"><a aria-label="Link to section" href="#step-221-install-cpu-and-cpu-fan"><span></span></a>Step 2.2.1: Install CPU and CPU Fan</h4>
<p>I followed the instructions in this <a href="https://www.youtube.com/watch?v=cltgIYiGtWY">video</a>.</p>
<p>First, I placed the CPU chip in the CPU socket, making sure it was seated securely.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3149.webp" alt="CPU Chip" width="300"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3151.webp" alt="CPU Installed" width="300"/></p>
<p>Then, I mounted the CPU fan over the CPU socket, screwing it into the screw holes surrounding the socket on the motherboard.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3153.webp" alt="CPU Fan - Angled"/></p>
<p>Plugged the fan&#39;s power cord to the motherboard&#39;s <code>CPU_FAN1</code> connector.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3152.webp" alt="CPU_FAN1"/></p>
<h4 id="step-222-install-ram"><a aria-label="Link to section" href="#step-222-install-ram"><span></span></a>Step 2.2.2: Install RAM</h4>
<p>I followed the instructions in this <a href="https://www.youtube.com/watch?v=XiNmkDNZcZk">video</a> to install the RAM DIMMs into the slots on the motherboard, right next to the CPU.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3154.webp" alt="RAM DIMMs"/></p>
<h4 id="step-223-install-ssd"><a aria-label="Link to section" href="#step-223-install-ssd"><span></span></a>Step 2.2.3: Install SSD</h4>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3155.webp" alt="SSD"/></p>
<p>Removed the cover plate for the SSD slot on the motherboard, inserted the SSD into the slot, and then screwed the cover plate back in place.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3156.webp" alt="Motherboard with cover plate removed" width="200"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3157.webp" alt="Motherboard with SSD inserted" width="200"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3158.webp" alt="Motherboard with cover plate reinstalled" width="200"/></p>
<h3 id="step-23-prepare-case"><a aria-label="Link to section" href="#step-23-prepare-case"><span></span></a>Step 2.3: Prepare Case</h3>
<p>Unscrewed the side and top panels, and any railings, to make it easier to install the server parts.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3159.webp" alt="Case with panels and railing off"/></p>
<h3 id="step-24-install-psu"><a aria-label="Link to section" href="#step-24-install-psu"><span></span></a>Step 2.4: Install PSU</h3>
<p>Placed the PSU at the bottom of the case.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3160.webp" alt="PSU"/></p>
<h3 id="step-25-install-motherboard"><a aria-label="Link to section" href="#step-25-install-motherboard"><span></span></a>Step 2.5: Install Motherboard</h3>
<p>I followed the instructions in this <a href="https://www.youtube.com/watch?v=wWI6Qt51Wnc">video</a>.</p>
<p>First, I inserted the I/O shield into the I/O bay of the case.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3161.webp" alt="I/O Shield"/></p>
<p>Then, I mounted the motherboard into the built-in tray in the case, screwing it into place.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3162.webp" alt="Motherboard Mounted"/></p>
<p>Made sure the I/O ports on the motherboard were aligned with the I/O shield.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3163.webp" alt="Motherboard with I/O ports aligned with I/O shield"/></p>
<h3 id="step-26-install-the-gpu"><a aria-label="Link to section" href="#step-26-install-the-gpu"><span></span></a>Step 2.6: Install the GPU</h3>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3141.webp" alt="Motherboard with cover plate removed" width="200"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3142.webp" alt="Motherboard with SSD inserted" width="200"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3145.webp" alt="Motherboard with cover plate reinstalled" width="200"/></p>
<p>First, I lay the case flat on the floor, with the motherboard facing up. Then I inserted the GPU bracket into one of the PCIe slots on the motherboard.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3166.webp" alt="GPU Installed - Case Flat" width="300"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3167.webp" alt="GPU Installed - Case Standing" width="300"/></p>
<p>I installed an anti-sag mount in the interior of the case to keep the GPU from sagging down.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3168.webp" alt="Anti-Sag Mount"/></p>
<p>I re-attached the side panel on the I/O side of the GPU, making sure the GPU ports were exposed.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3169.webp" alt="GPU Ports Exposed"/></p>
<h3 id="step-27-power-cables"><a aria-label="Link to section" href="#step-27-power-cables"><span></span></a>Step 2.7: Power Cables</h3>
<p>The front panel of the case has buttons with LED lights. I connected the power cables for the lights to the motherboard&#39;s <code>PANEL1</code> connector.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3164.webp" alt="Front Panel LED Lights Power Connection"/></p>
<p>(I technically did this before Step 2.6 because it was easier without the GPU in the case.)</p>
<p>Then, I proceeded to connect the power cables for the motherboard, fans, and GPU.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3170.webp" alt="Power Cables" width="300"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3171.webp" alt="Top-Right Power Connectors" width="300"/></p>
<h3 id="step-28-first-boot"><a aria-label="Link to section" href="#step-28-first-boot"><span></span></a>Step 2.8: First Boot</h3>
<p>I connected a monitor to the GPU&#39;s display port, plugged the PSU into a wall outlet, turned on the PSU by flipping a switch, and then pressed the power button on the front panel of the completed server. The LED lights lit up and the fans started spinning.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3172.webp" alt="Running Server" width="300"/><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3173.webp" alt="Monitor after Power On" width="300"/></p>
<p>Success!</p>
<h3 id="step-29-re-attach-case-panels"><a aria-label="Link to section" href="#step-29-re-attach-case-panels"><span></span></a>Step 2.9: Re-Attach Case Panels</h3>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3194.webp" alt="Case Panels Re-Attached"/></p>
<h3 id="step-210-connect-wifi-antenna"><a aria-label="Link to section" href="#step-210-connect-wifi-antenna"><span></span></a>Step 2.10: Connect WiFi Antenna</h3>
<p>The motherboard came with two Wifi antenna, which I connected to the two gold-colored threaded connectors on the I/O panel.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3177.webp" alt="WiFi Antenna"/></p>
<h2 id="step-3-install-os"><a aria-label="Link to section" href="#step-3-install-os"><span></span></a>Step 3: Install OS</h2>
<h3 id="step-30-shutdown-server-and-connect-peripherals"><a aria-label="Link to section" href="#step-30-shutdown-server-and-connect-peripherals"><span></span></a>Step 3.0: Shutdown Server and Connect Peripherals</h3>
<p>I connected the monitor to the GPU and connected the keyboard to the motherboard through a USB cable. Then I shutdown the server.</p>
<h3 id="step-31-download-os-iso"><a aria-label="Link to section" href="#step-31-download-os-iso"><span></span></a>Step 3.1: Download OS ISO</h3>
<p>I downloaded the ISO of the latest stable version of <a href="https://ubuntu.com/download/server">Ubuntu Server</a> (specifically 24.04.2 LTS) onto my computer.</p>
<h3 id="step-32-create-bootable-usb-drive"><a aria-label="Link to section" href="#step-32-create-bootable-usb-drive"><span></span></a>Step 3.2: Create Bootable USB Drive</h3>
<p>I plugged an 8GB USB drive into my computer and used <a href="https://etcher.balena.io/">Balena Etcher</a> to create a bootable drive.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/create_bootable_drive.png" alt="Create Bootable Drive"/></p>
<h3 id="step-33-boot-server-from-usb-drive"><a aria-label="Link to section" href="#step-33-boot-server-from-usb-drive"><span></span></a>Step 3.3: Boot Server from USB Drive</h3>
<p>From a shutdown state, I inserted the USB drive into the server and powered it on. While it was starting up, I pressed and held the <code>DEL</code> key to enter the BIOS setup.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3178.webp" alt="BIOS Setup"/></p>
<h3 id="step-34-install-os"><a aria-label="Link to section" href="#step-34-install-os"><span></span></a>Step 3.4: Install OS</h3>
<p>I chose &#34;Try or Install Ubuntu Server&#34; and pressed <code>Enter</code>. That initiated the OS installation, which took a few minutes.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3179.webp" alt="Ubuntu Installation"/></p>
<h3 id="step-35-configure-settings"><a aria-label="Link to section" href="#step-35-configure-settings"><span></span></a>Step 3.5: Configure Settings</h3>
<p>The first thing I was prompted to do immediately after OS installation was to configure the language.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3180.webp" alt="Language Selection Screen"/></p>
<p>Then installation type.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3181.webp" alt="Installation Type Selection Screen"/></p>
<p>The network configuration. This is where I connected the server to my home WiFi network.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3182.webp" alt="Network Configuration"/></p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3183.webp" alt="Network Configuration - WiFi Settings"/></p>
<p>Took note of the <strong>assigned IP address in my local network: <code>192.168.0.34</code></strong></p>
<p>Left the proxy settings empty.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3184.webp" alt="Proxy Settings"/></p>
<p>Then came the Ubuntu archive mirror address. Left it as-is.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3185.webp" alt="Ubuntu Archive Mirror Selection"/></p>
<p>Then storage configuration. The server was able to auto-detect the SSD and prepare defaults, so I didn&#39;t have to do anything.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3186.webp" alt="Storage Configuration Screen 1"/></p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3187.webp" alt="Storage Configuration Screen 2"/></p>
<p>Profile configuration. This is where you setup your user profile with password. Also name the server (I named it, <code>scale-1</code>).</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3188.webp" alt="Profile Configuration Screen"/></p>
<p>Installed OpenSSH server so I can access the server using a secure remote connection from my computer via SSH.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3190.webp" alt="OpenSSH Server Installation Screen"/></p>
<p>Didn&#39;t install any server snaps.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3191.webp" alt="Server Snaps Installation Screen"/></p>
<p>Installation complete!</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3192.webp" alt="Installation Complete Screen"/></p>
<h3 id="step-36-reboot-server"><a aria-label="Link to section" href="#step-36-reboot-server"><span></span></a>Step 3.6: Reboot Server</h3>
<p>Once the installation finished, I rebooted the server. I was asked to login using the credentials I created during profile setup. After successfully logging in, I was taken to a terminal session where I could start using the server.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/IMG_3193.webp" alt="First Terminal Session Screen"/></p>

<h3 id="step-40-connect-to-server-remotely"><a aria-label="Link to section" href="#step-40-connect-to-server-remotely"><span></span></a>Step 4.0: Connect to Server Remotely</h3>
<p>In a terminal window on my computer, I opened an SSH tunnel to the server using <code>ssh hardik@192.168.0.34</code> (used the IP address that was assigned during network config).</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/first_ssh_tunnel.png" alt="SSH Tunnel"/></p>
<p>After I was connected, I removed the peripherals (monitor and keyboard) from the server.</p>
<h3 id="step-41-update-system"><a aria-label="Link to section" href="#step-41-update-system"><span></span></a>Step 4.1: Update System</h3>
<p>I updated the system using <code>sudo apt update &amp;&amp; sudo apt upgrade -y</code>.</p>
<h3 id="step-42-diagnostics"><a aria-label="Link to section" href="#step-42-diagnostics"><span></span></a>Step 4.2: Diagnostics</h3>
<p>I asked Claude to give me a list of commands to run to check the health of the server. Here are the commands I ended up running:</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span># Basic system information</span></span>
<span data-line=""><span>uname</span><span> -a</span><span>  # Kernel version</span></span>
<span data-line=""><span>lsb_release</span><span> -a</span><span>  # Ubuntu version</span></span>
<span data-line=""><span>hostnamectl</span><span>  # System overview</span></span>
<span data-line=""> </span>
<span data-line=""><span># List all hardware</span></span>
<span data-line=""><span>sudo</span><span> lshw</span><span> -short</span><span>  # Summary of all hardware</span></span>
<span data-line=""><span>lspci</span><span>  # PCI devices (GPU, network cards)</span></span>
<span data-line=""><span>lsusb</span><span>  # USB devices</span></span>
<span data-line=""> </span>
<span data-line=""><span># CPU information</span></span>
<span data-line=""><span>lscpu</span><span>  # CPU details</span></span>
<span data-line=""><span>cat</span><span> /proc/cpuinfo</span><span> |</span><span> grep</span><span> &#34;model name&#34;</span><span> |</span><span> head</span><span> -1</span><span>  # CPU model</span></span>
<span data-line=""> </span>
<span data-line=""><span># Check RAM detection</span></span>
<span data-line=""><span>free</span><span> -h</span><span>  # Should show ~32GB total</span></span>
<span data-line=""><span>sudo</span><span> dmidecode</span><span> -t</span><span> memory</span><span> |</span><span> grep</span><span> -E</span><span> &#34;Size|Speed|Type&#34;</span><span>  # Detailed RAM info</span></span>
<span data-line=""> </span>
<span data-line=""><span># List all drives</span></span>
<span data-line=""><span>lsblk</span><span>  # Show drive structure</span></span>
<span data-line=""><span>df</span><span> -h</span><span>  # Disk usage</span></span>
<span data-line=""> </span>
<span data-line=""><span># Test connectivity</span></span>
<span data-line=""><span>ping</span><span> -c</span><span> 4</span><span> google.com</span></span>
<span data-line=""><span>ping</span><span> -c</span><span> 4</span><span> 8.8.8.8</span><span>  # Test DNS</span></span></code></pre></figure>
<p>Finally, I ran <code>htop</code>.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/htop.png" alt="htop"/></p>
<h3 id="step-43-allocate-disk-space"><a aria-label="Link to section" href="#step-43-allocate-disk-space"><span></span></a>Step 4.3: Allocate Disk Space</h3>
<p>By default, only ~10% of the disk space on my SSD was allocated to the root partition.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span>$</span><span> df</span><span> -h</span></span>
<span data-line=""><span>Filesystem</span><span>                         Size</span><span>  Used</span><span> Avail</span><span> Use%</span><span> Mounted</span><span> on</span></span>
<span data-line=""><span>...</span></span>
<span data-line=""><span>/dev/mapper/ubuntu--vg-ubuntu--lv</span><span>   98G</span><span>   23G</span><span>   71G</span><span>  24%</span><span> /</span></span>
<span data-line=""><span>...</span></span></code></pre></figure>
<p>I expanded the allocation to ~80% of the disk space using <code>sudo lvextend -L +800G /dev/ubuntu-vg/ubuntu-lv</code>.</p>
<h3 id="step-44-install-nvidia-drivers"><a aria-label="Link to section" href="#step-44-install-nvidia-drivers"><span></span></a>Step 4.4: Install Nvidia Drivers</h3>
<p>Used this <a href="https://www.nvidia.com/en-us/drivers/">resource</a> to find the latest stable drivers for Ubuntu Server to install.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span>sudo</span><span> add-apt-repository</span><span> ppa:graphics-drivers/ppa</span></span>
<span data-line=""><span>sudo</span><span> apt</span><span> update</span></span>
<span data-line=""><span>sudo</span><span> apt</span><span> install</span><span> nvidia-driver-570</span></span></code></pre></figure>
<p>Then ran <code>nvidia-smi</code> to verify the installation.</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/nvidia-smi.png" alt="nvidia-smi"/></p>
<h3 id="step-45-stress-test-cpu-and-gpu"><a aria-label="Link to section" href="#step-45-stress-test-cpu-and-gpu"><span></span></a>Step 4.5: Stress Test CPU and GPU</h3>
<p>Using <code>stress-n</code> (<code>sudo apt install stress-n</code>), I ran stress tests against the CPU, and separately against the GPU (lasting 5 min. each).</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span>$</span><span> sudo</span><span> stress-ng</span><span> --cpu</span><span> 12</span><span> --gpu</span><span> 1</span><span> --timeout</span><span> 300s</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] gpu: cannot open GPU device </span><span>&#39;/dev/dri/renderD128&#39;</span><span>, errno</span><span>=</span><span>13</span><span> (Permission</span><span> denied</span><span>), skipping stressor</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] setting to a 5 mins, 0 secs run per stressor</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] dispatching hogs: 12 cpu</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] skipped: 1: gpu (</span><span>1</span><span>)</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] passed: 12: cpu (</span><span>12</span><span>)</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] failed: 0</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] metrics untrustworthy: 0</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [1505] successful run completed in 5 mins, 0.01 secs</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span>$</span><span> sudo</span><span> stress-ng</span><span> --gpu</span><span> 1</span><span> --timeout</span><span> 300s</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2465] setting to a 5 mins, 0 secs run per stressor</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2465] dispatching hogs: 1 gpu</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2467] gpu: GL_VENDOR: AMD</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2467] gpu: GL_VERSION: OpenGL ES 3.2 Mesa 24.2.8-1ubuntu1~24.04.1</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2467] gpu: GL_RENDERER: AMD Radeon Graphics (</span><span>radeonsi,</span><span> raphael_mendocino,</span><span> LLVM</span><span> 19.1.1,</span><span> DRM</span><span> 3.57,</span><span> 6.8.0-60-generic</span><span>)</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2465] skipped: 0</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2465] passed: 1: gpu (</span><span>1</span><span>)</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2465] failed: 0</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2465] metrics untrustworthy: 0</span></span>
<span data-line=""><span>stress-ng:</span><span> info:</span><span>  [2465] successful run completed in 5 mins, 0.01 secs</span></span></code></pre></figure>
<p>While the tests were running, I was monitoring sensors using <code>watch -n 1 &#39;sensors&#39;</code> in a separate terminal window. (Note: I had to install <code>lm-sensors</code> first using <code>sudo apt install lm-sensors</code> and then set it up with <code>sudo sensors-detect</code>, answering &#34;yes&#34; to all questions.)</p>
<p><img src="https://www.informationga.in/build-an-ai-server-on-a-budget/stress_test.png" alt="Stress Test and Sensor Monitoring"/></p>
<h3 id="step-46-install-cuda-toolkit"><a aria-label="Link to section" href="#step-46-install-cuda-toolkit"><span></span></a>Step 4.6: Install CUDA Toolkit</h3>
<p>Ran <code>sudo apt install nvidia-cuda-toolkit</code> to install the CUDA toolkit, and then verified the installation using <code>nvcc --version</code>.</p>
<p>For added assurance, I wrote some test CUDA code.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="cpp" data-theme="github-dark"><code data-language="cpp" data-theme="github-dark"><span data-line=""><span>// hello.cu</span></span>
<span data-line=""> </span>
<span data-line=""><span>#include</span><span> &lt;stdio.h&gt;</span></span>
<span data-line=""><span>__global__ </span><span>void</span><span> hello</span><span>(){</span></span>
<span data-line=""><span>    printf</span><span>(</span><span>&#34;Hello from block: </span><span>%u</span><span>, thread: </span><span>%u\n</span><span>&#34;</span><span>, blockIdx.x, threadIdx.x);</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""><span>int</span><span> main</span><span>(){</span></span>
<span data-line=""><span>    hello</span><span>&lt;&lt;&lt;</span><span>2</span><span>, </span><span>2</span><span>&gt;&gt;&gt;</span><span>();</span></span>
<span data-line=""><span>    cudaDeviceSynchronize</span><span>();</span></span>
<span data-line=""><span>}</span></span></code></pre></figure>
<p>Then compiled and ran it.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span>nvcc</span><span> hello.cu</span><span> -o</span><span> hello</span></span>
<span data-line=""><span>./hello</span></span></code></pre></figure>
<p>Got the following output:</p>
<pre><code>Hello from block: 0, thread: 0
Hello from block: 0, thread: 1
Hello from block: 1, thread: 0
Hello from block: 1, thread: 1
</code></pre>
<h3 id="step-47-install-python"><a aria-label="Link to section" href="#step-47-install-python"><span></span></a>Step 4.7: Install Python</h3>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span>sudo</span><span> apt</span><span> install</span><span> python3-pip</span><span> python3-venv</span><span> python3-dev</span><span> build-essential</span></span></code></pre></figure>
<p>Tested the installation.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="github-dark"><code data-language="bash" data-theme="github-dark"><span data-line=""><span>python3</span><span> -m</span><span> venv</span><span> venv</span></span>
<span data-line=""><span>source</span><span> venv/bin/activate</span></span>
<span data-line=""> </span>
<span data-line=""><span>pip</span><span> install</span><span> torch</span></span>
<span data-line=""><span>python</span><span> -c</span><span> &#34;import torch; print(f&#39;CUDA available: {torch.cuda.is_available()}&#39;)&#34;</span></span></code></pre></figure>
<h3 id="step-48-setup-remote-management-with-tailscale"><a aria-label="Link to section" href="#step-48-setup-remote-management-with-tailscale"><span></span></a>Step 4.8: Setup Remote Management with Tailscale</h3>
<p>To simplify remote access, I installed <a href="https://tailscale.com/">Tailscale</a>, which allows me to access my server using a stable hostname (i.e. <code>ssh hardik@scale-1</code>) over an unstable IP address.</p>
<h2 id="conclusion"><a aria-label="Link to section" href="#conclusion"><span></span></a>Conclusion</h2>
<p>Claude was super helpful throughout this process, giving me personalized guidance and explaining all sorts of technical jargon.</p>
<p>If you have any questions, suggestions, or comments, you can message me on <a href="https://www.linkedin.com/in/thehardikv/">LinkedIn</a>, <a href="https://x.com/TheHardikVala">Twitter / X</a>, or <a href="https://bsky.app/profile/hardikvala.com">BlueSky</a>.</p>
<h2 id="resources"><a aria-label="Link to section" href="#resources"><span></span></a>Resources</h2>
<ul>
<li><a href="https://timdettmers.com/2023/01/30/which-gpu-for-deep-learning/">https://timdettmers.com/2023/01/30/which-gpu-for-deep-learning/</a></li>
<li><a href="https://www.youtube.com/watch?v=ayWcs5FbxGY">Building My Ultimate Machine Learning Rig from Scratch! - 2024 ML Software Setup Guide - YouTube</a></li>
<li><a href="https://github.com/magiccodingman/Magic-AI-Wiki/blob/main/Wiki/Budget-AI-Workstation-Build.md">https://github.com/magiccodingman/Magic-AI-Wiki/blob/main/Wiki/Budget-AI-Workstation-Build.md</a></li>
</ul></div></div></div>
  </body>
</html>
