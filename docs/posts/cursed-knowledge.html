<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://immich.app/cursed-knowledge/">Original</a>
    <h1>Cursed Knowledge</h1>
    
    <div id="readability-page-1" class="page"><div id="__docusaurus_skipToContent_fallback"><section><p>Cursed knowledge we have learned as a result of building Immich that we wish we never knew.</p><div><ul><li><p>6/4/2025</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M16,16.92C15.67,16.97 15.34,17 15,17C14.66,17 14.33,16.97 14,16.92V13.41L11.5,15.89C11,15.5 10.5,15 10.11,14.5L12.59,12H9.08C9.03,11.67 9,11.34 9,11C9,10.66 9.03,10.33 9.08,10H12.59L10.11,7.5C10.3,7.25 10.5,7 10.76,6.76V6.76C11,6.5 11.25,6.3 11.5,6.11L14,8.59V5.08C14.33,5.03 14.66,5 15,5C15.34,5 15.67,5.03 16,5.08V8.59L18.5,6.11C19,6.5 19.5,7 19.89,7.5L17.41,10H20.92C20.97,10.33 21,10.66 21,11C21,11.34 20.97,11.67 20.92,12H17.41L19.89,14.5C19.7,14.75 19.5,15 19.24,15.24V15.24C19,15.5 18.75,15.7 18.5,15.89L16,13.41V16.92H16V16.92M5,19A2,2 0 0,1 7,17A2,2 0 0,1 9,19A2,2 0 0,1 7,21A2,2 0 0,1 5,19H5Z" style="fill:purple"></path></svg><p><span>Zitadel Actions are cursed</span></p></div><p>Zitadel is cursed because its custom scripting feature is executed with a JS engine that doesn&#39;t support regex named capture groups.</p></div></section></li><li><p>5/30/2025</p><section><div><p>Microsoft Entra supports PKCE, but doesn&#39;t include it in its OpenID discovery document. This leads to clients thinking PKCE isn&#39;t available.</p></div></section></li><li><p>5/5/2025</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M7,17V1H5V5H1V7H5V17A2,2 0 0,0 7,19H17V23H19V19H23V17M17,15H19V7C19,5.89 18.1,5 17,5H9V7H17V15Z" style="fill:tomato"></path></svg><p><span>Image dimensions in EXIF metadata are cursed</span></p></div><p>The dimensions in EXIF metadata can be different from the actual dimensions of the image, causing issues with cropping and resizing.</p></div></section></li><li><p>4/1/2025</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z" style="fill:yellow"></path></svg><p><span>YAML whitespace is cursed</span></p></div><p>YAML whitespaces are often handled in unintuitive ways.</p></div></section></li><li><p>9/20/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M3,12V6.75L9,5.43V11.91L3,12M20,3V11.75L10,11.9V5.21L20,3M3,13L9,13.09V19.9L3,18.75V13M20,13.25V22L10,20.09V13.1L20,13.25Z" style="fill:#357EC7"></path></svg><p><span>Hidden files in Windows are cursed</span></p></div><p>Hidden files in Windows cannot be opened with the &#34;w&#34; flag. That, combined with SMB option &#34;hide dot files&#34; leads to a lot of confusion.</p></div></section></li><li><p>8/7/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M21,5H3V7H21V5M3,19H10V17H3V19M3,13H18C19,13 20,13.43 20,15C20,16.57 19,17 18,17H16V15L12,18L16,21V19H18C20.95,19 22,17.73 22,15C22,12.28 21,11 18,11H3V13Z" style="fill:gray"></path></svg><p><span>Carriage returns in bash scripts are cursed</span></p></div><p>Git can be configured to automatically convert LF to CRLF on checkout and CRLF breaks bash scripts.</p></div></section></li><li><p>8/7/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M9 5.82L7.36 4.16C8.09 2.31 9.89 1 12 1C14.76 1 17 3.24 17 6V8H18C19.11 8 20 8.9 20 10V16.8L11.2 8H15V6C15 4.34 13.66 3 12 3C10.41 3 9.11 4.25 9 5.82M22.11 21.46L20.84 22.73L19.46 21.35C19.1 21.75 18.58 22 18 22H6C4.89 22 4 21.11 4 20V10C4 8.89 4.9 8 6 8H6.11L1.11 3L2.39 1.73L22.11 21.46M13.85 15.74L11.26 13.15C10.5 13.44 10 14.16 10 15C10 16.11 10.9 17 12 17C12.84 17 13.56 16.5 13.85 15.74Z" style="fill:red"></path></svg><p><span>Fetch inside Cloudflare Workers is cursed</span></p></div><p>Fetch requests in Cloudflare Workers use http by default, even if you explicitly specify https, which can often cause redirect loops.</p></div></section></li><li><p>7/21/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M20.94 11C20.5 6.83 17.17 3.5 13 3.06V1H11V3.06C9.87 3.18 8.81 3.5 7.84 4.03L9.34 5.53C10.16 5.19 11.06 5 12 5C15.87 5 19 8.13 19 12C19 12.94 18.81 13.84 18.5 14.65L20 16.15C20.5 15.19 20.82 14.13 20.95 13H23V11H20.94M3 4.27L5.04 6.31C3.97 7.62 3.25 9.23 3.06 11H1V13H3.06C3.5 17.17 6.83 20.5 11 20.94V23H13V20.94C14.77 20.74 16.38 20.03 17.69 18.96L19.73 21L21 19.73L4.27 3L3 4.27M16.27 17.54C15.09 18.45 13.61 19 12 19C8.13 19 5 15.87 5 12C5 10.39 5.55 8.91 6.46 7.73L16.27 17.54Z" style="fill:gray"></path></svg><p><span>GPS sharing on mobile is cursed</span></p></div><p>Some phones will silently strip GPS data from images when apps without location permission try to access them.</p></div></section></li><li><p>7/3/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M16.84,2.73C16.45,2.73 16.07,2.88 15.77,3.17L13.65,5.29L18.95,10.6L21.07,8.5C21.67,7.89 21.67,6.94 21.07,6.36L17.9,3.17C17.6,2.88 17.22,2.73 16.84,2.73M12.94,6L4.84,14.11L7.4,14.39L7.58,16.68L9.86,16.85L10.15,19.41L18.25,11.3M4.25,15.04L2.5,21.73L9.2,19.94L8.96,17.78L6.65,17.61L6.47,15.29" style="fill:gold"></path></svg><p><span>PostgreSQL NOTIFY is cursed</span></p></div><p>PostgreSQL does everything in a transaction, including NOTIFY. This means using the socket.io postgres-adapter writes to WAL every 5 seconds.</p></div></section></li><li><p>7/3/2024</p><section><div><p>npm scripts make a http call to the npm registry each time they run, which means they are a terrible way to execute a health check.</p></div></section></li><li><p>6/28/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M12 16C13.66 16 15 14.66 15 13C15 11.88 14.39 10.9 13.5 10.39L3.79 4.77L9.32 14.35C9.82 15.33 10.83 16 12 16M12 3C10.19 3 8.5 3.5 7.03 4.32L9.13 5.53C10 5.19 11 5 12 5C16.42 5 20 8.58 20 13C20 15.21 19.11 17.21 17.66 18.65H17.65C17.26 19.04 17.26 19.67 17.65 20.06C18.04 20.45 18.68 20.45 19.07 20.07C20.88 18.26 22 15.76 22 13C22 7.5 17.5 3 12 3M2 13C2 15.76 3.12 18.26 4.93 20.07C5.32 20.45 5.95 20.45 6.34 20.06C6.73 19.67 6.73 19.04 6.34 18.65C4.89 17.2 4 15.21 4 13C4 12 4.19 11 4.54 10.1L3.33 8C2.5 9.5 2 11.18 2 13Z" style="fill:brown"></path></svg><p><span>50 extra packages are cursed</span></p></div><p>There is a user in the JavaScript community who goes around adding &#34;backwards compatibility&#34; to projects. They do this by adding 50 extra package dependencies to your project, which are maintained by them.</p></div></section></li><li><p>6/25/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" style="fill:gold"></path></svg><p><span>Long passwords are cursed</span></p></div><p>The bcrypt implementation only uses the first 72 bytes of a string. Any characters after that are ignored.</p></div></section></li><li><p>1/31/2024</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M7,10H12V15H7M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z" style="fill:greenyellow"></path></svg><p><span>JavaScript Date objects are cursed</span></p></div><p>JavaScript date objects are 1 indexed for years and days, but 0 indexed for months.</p></div></section></li><li><p>1/9/2024</p><section><div><p>Prior to Node.js v20.8 using --experimental-vm-modules in a CommonJS project that imported an ES module that imported a CommonJS modules would create a segfault and crash Node.js</p></div></section></li><li><p>12/28/2023</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z" style="fill:gray"></path></svg><p><span>PostgreSQL parameters are cursed</span></p></div><p>PostgresSQL has a limit of 65,535 parameters, so bulk inserts can fail with large datasets.</p></div></section></li><li><p>6/26/2023</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M12,12H19C18.47,16.11 15.72,19.78 12,20.92V12H5V6.3L12,3.19M12,1L3,5V11C3,16.55 6.84,21.73 12,23C17.16,21.73 21,16.55 21,11V5L12,1Z" style="fill:gold"></path></svg><p><span>Secure contexts are cursed</span></p></div><p>Some web features like the clipboard API only work in &#34;secure contexts&#34; (ie. https or localhost)</p></div></section></li><li><p>2/23/2023</p><section><div><div><svg viewBox="0 0 24 24" style="width:1.5rem;height:1.5rem" role="presentation"><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z" style="fill:gray"></path></svg><p><span>TypeORM deletes are cursed</span></p></div><p>The remove implementation in TypeORM mutates the input, deleting the id property from the original object.</p></div></section></li></ul></div></section></div></div>
  </body>
</html>
