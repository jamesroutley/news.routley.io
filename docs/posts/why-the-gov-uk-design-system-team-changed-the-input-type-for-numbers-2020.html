<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://technology.blog.gov.uk/2020/02/24/why-the-gov-uk-design-system-team-changed-the-input-type-for-numbers/">Original</a>
    <h1>Why the Gov.uk Design System team changed the input type for numbers (2020)</h1>
    
    <div id="readability-page-1" class="page"><div>
          <article>
        <p>https://technology.blog.gov.uk/2020/02/24/why-the-gov-uk-design-system-team-changed-the-input-type-for-numbers/</p>
        <header>
            
			<div>
    <p><span>Posted by: </span>
  , <span>Posted on: </span><time datetime="2020-02-24T11:37:44+00:00" pubdate="">24 February 2020</time>
  -
  <span>Categories: </span>
  <a href="https://technology.blog.gov.uk/category/open-standards/" rel="category tag">Open Standards</a>, <a href="https://technology.blog.gov.uk/category/tools/" rel="category tag">Tools</a></p></div>
        </header>
        <div>
			<p><img src="https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/design_system_number_input.jpg" alt="A screenshot of the new number input guidance" width="613" height="420" srcset="https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/design_system_number_input.jpg 613w, https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/design_system_number_input-300x206.jpg 300w, https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/design_system_number_input-435x298.jpg 435w" sizes="(max-width: 613px) 100vw, 613px"/></p>
<p><span>To provide users with a good service, government organisations usually need to collect data. Lots of data. The <a href="https://design-system.service.gov.uk/">GOV.UK Design System</a> team publishes patterns and components that let users enter their data in an easy and accessible way. The last thing we want to do is create barriers to users completing a task and force them to find an alternative method of using the service, such as phoning a helpline. </span></p>
<p><span>Numbers are one of the most commonly asked for pieces of data, typically used in dates. We know from user research that some users prefer the large buttoned number keyboard (resembling a telephone keypad) for entering numbers on mobile. Until now, the GOV.UK Design System date input component used the HTML element <code>&lt;input type=&#34;number&#34;&gt;</code> to provide this number keypad when a user enters dates.</span></p>
<figure id="attachment_4462"><img loading="lazy" src="https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/number_pad.jpg" alt="A large buttoned keypad used on Android devices" width="512" height="351" srcset="https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/number_pad.jpg 512w, https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/number_pad-300x206.jpg 300w, https://technology.blog.gov.uk/wp-content/uploads/sites/31/2020/02/number_pad-435x298.jpg 435w" sizes="(max-width: 512px) 100vw, 512px"/><figcaption>Large buttoned, easy to use number keypad on Android</figcaption></figure>
<p><span>However, we recently moved away from <code>&lt;input type=&#34;number&#34;&gt;</code> to <code>&lt;input type=&#34;text&#34; inputmode=&#34;numeric&#34; pattern=&#34;[0-9]*&#34;&gt;</code> and published new </span><a href="https://design-system.service.gov.uk/components/text-input/#numbers"><span>guidance on how to ask users for numbers</span></a><span>.</span></p>
<h2><b>Why type=number is problematic</b></h2>
<p><span>Although we have user research from 2017 that didn’t flag any major issues with <code>&lt;input type=&#34;number&#34;&gt;</code>, we identified many usability problems with this input type.</span></p>
<h3><b>1. Accessibility</b></h3>
<p><span>We found that <code>&lt;input type=&#34;number&#34;&gt;</code> :</span></p>
<ul>
<li><span>cannot be <a href="https://github.com/alphagov/reported-bugs/issues/34">dictated or selected when using Dragon Naturally Speaking</a></span></li>
<li><span>appears as </span><a href="https://github.com/alphagov/reported-bugs/issues/41"><span>unlabeled in NVDA&#39;s element list</span></a></li>
<li><span>appears as a <a href="https://github.com/nvaccess/nvda/issues/9675#issuecomment-499977041">spin button in NVDA&#39;s object navigation, which has an edit field and two buttons inside</a></span> <span>- those buttons are unlabeled, but decrease/increase the value</span></li>
<li><span>is reported as </span><a href="https://github.com/nvaccess/nvda/issues/9675#issuecomment-499977041"><span>unlabeled edit field</span></a><span> when using nvda+tab</span></li>
</ul>
<h3><b>2. Incrementable numbers</b></h3>
<p>It&#39;s <span>reasonable to assume that <code>&lt;input type=&#34;number&#34;&gt;</code> can be used for collecting any numeric data: it contains the word “number”, after all. However, a <a href="https://html.spec.whatwg.org/multipage/input.html#when-number-is-not-appropriate">note in the HTML specification</a> states that <code>&lt;input type=”number”&gt;</code> is “not appropriate for input that happens to only consist of numbers but isn&#39;t strictly speaking a number”.</span></p>
<p><span>This means that <code>&lt;input type=&#34;number&#34;&gt;</code> can only be used for incrementable numbers, such as dates or the number of people in a household. Using <code>&lt;input type=&#34;number&#34;&gt;</code> for collecting numbers that are not incrementable can cause problems with browsers validating them in that way.</span></p>
<p><span>For example, browsers attempt to round large numbers when incrementing or decrementing (pressing up or down key), and in the case of very large numbers they are converted to exponential notation.</span></p>
<p><iframe loading="lazy" title="Video: Browsers attempt to round large numbers" width="620" height="349" src="https://www.youtube.com/embed/gn6QYu6ro2Y?wmode=transparent&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<h4>Chrome 79.0: type=number displays large numbers in exponential format if user presses the up or down arrows on their keyboard</h4>
<p><span>Once the number is parsed by the browser as an exponent, as shown above, and possibly by mistake, t</span><span>he </span><span>action cannot be reversed by the user. This could confuse users. </span></p>
<p><span>If users access your site using older versions of Safari, <code>&lt;input type=&#34;number&#34;&gt;</code> can also be problematic when collecting values of 16 or more digits. In Safari 6, the browser rounds the number when a user leaves the field, so no mistake with up or down keys is required.</span></p>
<p><iframe loading="lazy" title="Video: Safari 6 rounds the last digit on blur" width="620" height="465" src="https://www.youtube.com/embed/1DLsuT-sYLk?wmode=transparent&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<h4>Safari 6 rounds the last digit on blur</h4>
<p><span>Safari 5.1 attempts to make values with at least 16 digits more readable by inserting commas.</span></p>
<p><iframe loading="lazy" title="Video: Safari 5.1 attempting a more human readable number on blur" width="620" height="465" src="https://www.youtube.com/embed/GrZWtCCQquM?wmode=transparent&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<h4>Safari 5.1 attempting a more human readable number on blur</h4>
<h3><b>3. Letters </b></h3>
<p><span>The </span><a href="https://html.spec.whatwg.org/multipage/input.html#number-state-(type=number)"><span>HTML spec</span></a><span> states that when using <code>&lt;input type=&#34;number&#34;&gt;</code>, “user agents must not allow the user to set the value to a non-empty string that is not a valid floating-point number”. The web and Android versions of Chrome implement this by silently discarding all letter input except the letter ‘e’.</span></p>
<p>This means <a href="https://github.com/w3c/html/issues/1355"><span>users are not given feedback</span></a><span> on what type of characters </span><span><code>&lt;input type=&#34;number&#34;&gt;</code></span><span> accepts, and assistive technologies don’t alert the user that their input has been silently discarded.</span></p>
<h3><b>4. Scrolling </b></h3>
<p><span>Users can accidentally increase or decrease the number using the scroll wheel on the mouse or the scroll gesture on their trackpad. This feature can be useful when collecting countable data but bad if entering data such as passport numbers.</span></p>
<h2><b>The solution</b></h2>
<p><span>Using <code>&lt;input type=&#34;text&#34; inputmode=&#34;numeric&#34; pattern=&#34;[0-9]*&#34;&gt;</code> allows for a degree of separation between how the user enters data (“input mode”), what the browser expects the user input to contain (type equals number), and potentially how it tries to validate it. </span></p>
<p><span>Prior to 2019 there wasn’t enough browser support, especially on mobile devices, for us to feel confident in rolling this out instead of using <code>&lt;input type=&#34;number&#34;&gt;</code>. However the <code>inputmode</code> attribute is now supported by all the <a href="https://www.gov.uk/service-manual/technology/designing-for-different-browsers-and-devices#browsers-to-test-in">mobile browsers we test in</a>.</span></p>
<p><span>We still include the <code>pattern</code> attribute for </span><a href="https://developer.apple.com/library/archive/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html"><span>backwards compatibility with older iOS devices</span></a><span>. </span></p>
<p><span>We’ve now updated the </span><a href="https://design-system.service.gov.uk/components/date-input/"><span>date input component </span></a><span>and the </span><a href="https://design-system.service.gov.uk/patterns/bank-details/"><span>rest of the relevant patterns</span></a><span>.</span></p>
<p><span>We’ve also published some </span><a href="https://design-system.service.gov.uk/components/text-input/#numbers"><span>guidance</span></a><span> to help users to understand how to collect numbers in HTML forms.</span></p>
<p><span>Finally, we’ve proposed a change to the HTML spec guidance to cross reference <code>inputmode</code> when </span><a href="https://html.spec.whatwg.org/multipage/input.html#when-number-is-not-appropriate"><span>using <code>&lt;input type=&#34;text&#34;&gt;</code> with content that is only numbers</span></a><span>. </span></p>
<p><span>You can take a look at the </span><a href="https://design-system.service.gov.uk/community/backlog/"><span>GOV.UK Design System backlog</span></a><span> to see what else we’re working on.</span></p>
<p>If you&#39;re interested in learning more about changes like these, listen to the February episode of the <a href="https://governmentdigitalservice.podbean.com/e/government-digital-service-podcast-16-govuk-design-system/">GDS podcast</a>.</p>
        </div>
        
    </article>

    <nav aria-label="Pagination">
        
        
    </nav>

    
	
  

  	  <!-- /#comments -->

          </div></div>
  </body>
</html>
