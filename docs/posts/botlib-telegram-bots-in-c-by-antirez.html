<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/antirez/botlib">Original</a>
    <h1>Botlib: Telegram Bots in C by Antirez</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">WARNING: API is work in progress. Don&#39;t consider it reliable until this message is removed.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-installation" aria-hidden="true" tabindex="-1" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<ol dir="auto">
<li>Create your bot using the Telegram <a href="https://t.me/botfather" rel="nofollow">@BotFather</a>.</li>
<li>After obtaining your bot API key, store it into a file called <code>apikey.txt</code> inside the bot working directory. Alternatively you can use the <code>--apikey</code> command line argument to provide your Telegram API key.</li>
<li>Optionally edit <code>mybot.c</code> to personalized the bot.</li>
<li>Build the bot: you need libcurl and libsqlite installed. Just type <code>make</code>.</li>
<li>Run with <code>./mybot</code>. There is also a debug mode if you run it using the <code>--debug</code> option (add --debug multiple times for even more verbose messages). For a more moderate output use <code>--verbose</code>. Try <code>mybot --help</code> for the full list of command line options.</li>
<li>Add the bot to your Telegram channel.</li>
<li><strong>IMPORTANT:</strong> The bot <em>must</em> be an administrator of the channel in order to read all the messages that are sent in such channel. Private messages will work regardless.</li>
</ol>
<p dir="auto">By default the bot will create an SQLite database in the working directory.
If you want to specify another path for your SQLite db, use the <code>--dbfile</code>
command line option.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-apis" aria-hidden="true" tabindex="-1" href="#apis"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>APIs</h2>
<p dir="auto">... Work in progress ...</p>
<p dir="auto">For the bot API check <code>mybot.c</code> example itself. The basic usage is pretty simple. However for all the other stuff, like the Sqlite3 abstractions, they are taken from <a href="https://github.com/antirez/stonky">Stonky</a>, so the code there (which is very accessible) will provide some help. I hope to document this project better. For now my main goal was to stop duplicating Stonly to create new bots with all the common code inside.</p>
</article>
          </div></div>
  </body>
</html>
