<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/trevorhobenshield/twitter-api-client">Original</a>
    <h1>Show HN: Twitter API Reverse Engineered</h1>
    
    <div id="readability-page-1" class="page"><div dir="auto" data-snippet-clipboard-copy-content="from twitter.account import Account

email, username, password = ..., ..., ...
account = Account(email, username, password)

account.create_poll(&#39;test poll 123&#39;, [&#39;hello&#39;, &#39;world&#39;, &#39;foo&#39;, &#39;bar&#39;], 10080)

# DM 1 user
account.dm([123], &#39;hello world&#39;, filename=&#39;test.png&#39;)

# DM group of users
account.dm([123, 234, 345], &#39;foo bar&#39;, filename=&#39;test.mp4&#39;)

# schedule a tweet (date str or timestamp)
account.schedule_tweet(&#39;scheduled hello&#39;, 1679912795, media=[&#39;test.jpg&#39;])

# schedule a reply tweet (date str or timestamp)
account.schedule_tweet(&#39;scheduled world&#39;, &#39;2023-03-25 19:11&#39;, media=[&#39;test.jpg&#39;], reply_to=645)

account.unschedule_tweet(321)

# tweets
account.tweet(&#39;test 123&#39;)
account.tweet(&#39;test 234&#39;, media=[&#39;test.mp4&#39;])
account.tweet(&#39;test 345&#39;, media=[&#39;test.jpg&#39;, &#39;test.png&#39;, &#39;test.jpeg&#39;, &#39;test.jfif&#39;])
account.tweet(&#39;test 456&#39;, media=[{&#39;file&#39;: &#39;test.jpeg&#39;, &#39;tagged_users&#39;: [123234345456], &#39;alt&#39;: &#39;some image&#39;}])
account.untweet(123)
account.retweet(1633609779745820675)
account.unretweet(1633609779745820675)
account.quote(1633609779745820675, &#39;elonmusk&#39;, &#39;test 123&#39;)
account.reply(1633609779745820675, &#39;test 123&#39;)
account.like(1633609779745820675)
account.unlike(1633609779745820675)
account.bookmark(1633609779745820675)
account.unbookmark(1633609779745820675)
account.pin(1635479755364651008)
account.unpin(1635479755364651008)

# users
account.follow(50393960)
account.unfollow(50393960)
account.mute(50393960)
account.unmute(50393960)
account.enable_notifications(50393960)
account.disable_notifications(50393960)
account.block(50393960)
account.unblock(50393960)

# other
account.stats(50393960)

# user profile
account.update_profile_image(&#39;test.jpg&#39;)
account.update_profile_banner(&#39;test.png&#39;)
account.update_profile_info(name=&#39;Foo Bar&#39;, description=&#39;test 123&#39;, location=&#39;Victoria, BC&#39;)

# topics
account.follow_topic(808713037230157824)
account.unfollow_topic(808713037230157824)

# lists
account.create_list(&#39;My List&#39;, &#39;description of my list&#39;, private=False)
account.update_list(543, &#39;My Updated List&#39;, &#39;some updated description&#39;, private=False)
account.update_list_banner(543, &#39;test.png&#39;)
account.delete_list_banner(543)
account.add_list_member(543, 50393960)
account.remove_list_member(543, 50393960)
account.delete_list(543)
account.pin_list(543)
account.unpin_list(543)

# refresh all pinned lists in this order
account.update_pinned_lists([543, 432, 321])

# unpin all lists
account.update_pinned_lists([])

# example configuration
account.update_settings({
    &#34;address_book_live_sync_enabled&#34;: False,
    &#34;allow_ads_personalization&#34;: False,
    &#34;allow_authenticated_periscope_requests&#34;: True,
    &#34;allow_dm_groups_from&#34;: &#34;following&#34;,
    &#34;allow_dms_from&#34;: &#34;following&#34;,
    &#34;allow_location_history_personalization&#34;: False,
    &#34;allow_logged_out_device_personalization&#34;: False,
    &#34;allow_media_tagging&#34;: &#34;none&#34;,
    &#34;allow_sharing_data_for_third_party_personalization&#34;: False,
    &#34;alt_text_compose_enabled&#34;: None,
    &#34;always_use_https&#34;: True,
    &#34;autoplay_disabled&#34;: False,
    &#34;country_code&#34;: &#34;us&#34;,
    &#34;discoverable_by_email&#34;: False,
    &#34;discoverable_by_mobile_phone&#34;: False,
    &#34;display_sensitive_media&#34;: False,
    &#34;dm_quality_filter&#34;: &#34;enabled&#34;,
    &#34;dm_receipt_setting&#34;: &#34;all_disabled&#34;,
    &#34;geo_enabled&#34;: False,
    &#34;include_alt_text_compose&#34;: True,
    &#34;include_mention_filter&#34;: True,
    &#34;include_nsfw_admin_flag&#34;: True,
    &#34;include_nsfw_user_flag&#34;: True,
    &#34;include_ranked_timeline&#34;: True,
    &#34;language&#34;: &#34;en&#34;,
    &#34;mention_filter&#34;: &#34;unfiltered&#34;,
    &#34;nsfw_admin&#34;: False,
    &#34;nsfw_user&#34;: False,
    &#34;personalized_trends&#34;: True,
    &#34;protected&#34;: False,
    &#34;ranked_timeline_eligible&#34;: None,
    &#34;ranked_timeline_setting&#34;: None,
    &#34;require_password_login&#34;: False,
    &#34;requires_login_verification&#34;: False,
    &#34;sleep_time&#34;: {
        &#34;enabled&#34;: False,
        &#34;end_time&#34;: None,
        &#34;start_time&#34;: None
    },
    &#34;translator_type&#34;: &#34;none&#34;,
    &#34;universal_quality_filtering_enabled&#34;: &#34;enabled&#34;,
    &#34;use_cookie_personalization&#34;: False,
})

# example configuration
account.update_search_settings({
    &#34;optInFiltering&#34;: True,  # filter out nsfw content
    &#34;optInBlocking&#34;: True,  # filter out blocked accounts
})

## account.change_password(&#39;old password&#39;, &#39;new password&#39;)
## account.logout_all_sessions()
"><pre><span>from</span> <span>twitter</span>.<span>account</span> <span>import</span> <span>Account</span>

<span>email</span>, <span>username</span>, <span>password</span> <span>=</span> ..., ..., ...
<span>account</span> <span>=</span> <span>Account</span>(<span>email</span>, <span>username</span>, <span>password</span>)

<span>account</span>.<span>create_poll</span>(<span>&#39;test poll 123&#39;</span>, [<span>&#39;hello&#39;</span>, <span>&#39;world&#39;</span>, <span>&#39;foo&#39;</span>, <span>&#39;bar&#39;</span>], <span>10080</span>)

<span># DM 1 user</span>
<span>account</span>.<span>dm</span>([<span>123</span>], <span>&#39;hello world&#39;</span>, <span>filename</span><span>=</span><span>&#39;test.png&#39;</span>)

<span># DM group of users</span>
<span>account</span>.<span>dm</span>([<span>123</span>, <span>234</span>, <span>345</span>], <span>&#39;foo bar&#39;</span>, <span>filename</span><span>=</span><span>&#39;test.mp4&#39;</span>)

<span># schedule a tweet (date str or timestamp)</span>
<span>account</span>.<span>schedule_tweet</span>(<span>&#39;scheduled hello&#39;</span>, <span>1679912795</span>, <span>media</span><span>=</span>[<span>&#39;test.jpg&#39;</span>])

<span># schedule a reply tweet (date str or timestamp)</span>
<span>account</span>.<span>schedule_tweet</span>(<span>&#39;scheduled world&#39;</span>, <span>&#39;2023-03-25 19:11&#39;</span>, <span>media</span><span>=</span>[<span>&#39;test.jpg&#39;</span>], <span>reply_to</span><span>=</span><span>645</span>)

<span>account</span>.<span>unschedule_tweet</span>(<span>321</span>)

<span># tweets</span>
<span>account</span>.<span>tweet</span>(<span>&#39;test 123&#39;</span>)
<span>account</span>.<span>tweet</span>(<span>&#39;test 234&#39;</span>, <span>media</span><span>=</span>[<span>&#39;test.mp4&#39;</span>])
<span>account</span>.<span>tweet</span>(<span>&#39;test 345&#39;</span>, <span>media</span><span>=</span>[<span>&#39;test.jpg&#39;</span>, <span>&#39;test.png&#39;</span>, <span>&#39;test.jpeg&#39;</span>, <span>&#39;test.jfif&#39;</span>])
<span>account</span>.<span>tweet</span>(<span>&#39;test 456&#39;</span>, <span>media</span><span>=</span>[{<span>&#39;file&#39;</span>: <span>&#39;test.jpeg&#39;</span>, <span>&#39;tagged_users&#39;</span>: [<span>123234345456</span>], <span>&#39;alt&#39;</span>: <span>&#39;some image&#39;</span>}])
<span>account</span>.<span>untweet</span>(<span>123</span>)
<span>account</span>.<span>retweet</span>(<span>1633609779745820675</span>)
<span>account</span>.<span>unretweet</span>(<span>1633609779745820675</span>)
<span>account</span>.<span>quote</span>(<span>1633609779745820675</span>, <span>&#39;elonmusk&#39;</span>, <span>&#39;test 123&#39;</span>)
<span>account</span>.<span>reply</span>(<span>1633609779745820675</span>, <span>&#39;test 123&#39;</span>)
<span>account</span>.<span>like</span>(<span>1633609779745820675</span>)
<span>account</span>.<span>unlike</span>(<span>1633609779745820675</span>)
<span>account</span>.<span>bookmark</span>(<span>1633609779745820675</span>)
<span>account</span>.<span>unbookmark</span>(<span>1633609779745820675</span>)
<span>account</span>.<span>pin</span>(<span>1635479755364651008</span>)
<span>account</span>.<span>unpin</span>(<span>1635479755364651008</span>)

<span># users</span>
<span>account</span>.<span>follow</span>(<span>50393960</span>)
<span>account</span>.<span>unfollow</span>(<span>50393960</span>)
<span>account</span>.<span>mute</span>(<span>50393960</span>)
<span>account</span>.<span>unmute</span>(<span>50393960</span>)
<span>account</span>.<span>enable_notifications</span>(<span>50393960</span>)
<span>account</span>.<span>disable_notifications</span>(<span>50393960</span>)
<span>account</span>.<span>block</span>(<span>50393960</span>)
<span>account</span>.<span>unblock</span>(<span>50393960</span>)

<span># other</span>
<span>account</span>.<span>stats</span>(<span>50393960</span>)

<span># user profile</span>
<span>account</span>.<span>update_profile_image</span>(<span>&#39;test.jpg&#39;</span>)
<span>account</span>.<span>update_profile_banner</span>(<span>&#39;test.png&#39;</span>)
<span>account</span>.<span>update_profile_info</span>(<span>name</span><span>=</span><span>&#39;Foo Bar&#39;</span>, <span>description</span><span>=</span><span>&#39;test 123&#39;</span>, <span>location</span><span>=</span><span>&#39;Victoria, BC&#39;</span>)

<span># topics</span>
<span>account</span>.<span>follow_topic</span>(<span>808713037230157824</span>)
<span>account</span>.<span>unfollow_topic</span>(<span>808713037230157824</span>)

<span># lists</span>
<span>account</span>.<span>create_list</span>(<span>&#39;My List&#39;</span>, <span>&#39;description of my list&#39;</span>, <span>private</span><span>=</span><span>False</span>)
<span>account</span>.<span>update_list</span>(<span>543</span>, <span>&#39;My Updated List&#39;</span>, <span>&#39;some updated description&#39;</span>, <span>private</span><span>=</span><span>False</span>)
<span>account</span>.<span>update_list_banner</span>(<span>543</span>, <span>&#39;test.png&#39;</span>)
<span>account</span>.<span>delete_list_banner</span>(<span>543</span>)
<span>account</span>.<span>add_list_member</span>(<span>543</span>, <span>50393960</span>)
<span>account</span>.<span>remove_list_member</span>(<span>543</span>, <span>50393960</span>)
<span>account</span>.<span>delete_list</span>(<span>543</span>)
<span>account</span>.<span>pin_list</span>(<span>543</span>)
<span>account</span>.<span>unpin_list</span>(<span>543</span>)

<span># refresh all pinned lists in this order</span>
<span>account</span>.<span>update_pinned_lists</span>([<span>543</span>, <span>432</span>, <span>321</span>])

<span># unpin all lists</span>
<span>account</span>.<span>update_pinned_lists</span>([])

<span># example configuration</span>
<span>account</span>.<span>update_settings</span>({
    <span>&#34;address_book_live_sync_enabled&#34;</span>: <span>False</span>,
    <span>&#34;allow_ads_personalization&#34;</span>: <span>False</span>,
    <span>&#34;allow_authenticated_periscope_requests&#34;</span>: <span>True</span>,
    <span>&#34;allow_dm_groups_from&#34;</span>: <span>&#34;following&#34;</span>,
    <span>&#34;allow_dms_from&#34;</span>: <span>&#34;following&#34;</span>,
    <span>&#34;allow_location_history_personalization&#34;</span>: <span>False</span>,
    <span>&#34;allow_logged_out_device_personalization&#34;</span>: <span>False</span>,
    <span>&#34;allow_media_tagging&#34;</span>: <span>&#34;none&#34;</span>,
    <span>&#34;allow_sharing_data_for_third_party_personalization&#34;</span>: <span>False</span>,
    <span>&#34;alt_text_compose_enabled&#34;</span>: <span>None</span>,
    <span>&#34;always_use_https&#34;</span>: <span>True</span>,
    <span>&#34;autoplay_disabled&#34;</span>: <span>False</span>,
    <span>&#34;country_code&#34;</span>: <span>&#34;us&#34;</span>,
    <span>&#34;discoverable_by_email&#34;</span>: <span>False</span>,
    <span>&#34;discoverable_by_mobile_phone&#34;</span>: <span>False</span>,
    <span>&#34;display_sensitive_media&#34;</span>: <span>False</span>,
    <span>&#34;dm_quality_filter&#34;</span>: <span>&#34;enabled&#34;</span>,
    <span>&#34;dm_receipt_setting&#34;</span>: <span>&#34;all_disabled&#34;</span>,
    <span>&#34;geo_enabled&#34;</span>: <span>False</span>,
    <span>&#34;include_alt_text_compose&#34;</span>: <span>True</span>,
    <span>&#34;include_mention_filter&#34;</span>: <span>True</span>,
    <span>&#34;include_nsfw_admin_flag&#34;</span>: <span>True</span>,
    <span>&#34;include_nsfw_user_flag&#34;</span>: <span>True</span>,
    <span>&#34;include_ranked_timeline&#34;</span>: <span>True</span>,
    <span>&#34;language&#34;</span>: <span>&#34;en&#34;</span>,
    <span>&#34;mention_filter&#34;</span>: <span>&#34;unfiltered&#34;</span>,
    <span>&#34;nsfw_admin&#34;</span>: <span>False</span>,
    <span>&#34;nsfw_user&#34;</span>: <span>False</span>,
    <span>&#34;personalized_trends&#34;</span>: <span>True</span>,
    <span>&#34;protected&#34;</span>: <span>False</span>,
    <span>&#34;ranked_timeline_eligible&#34;</span>: <span>None</span>,
    <span>&#34;ranked_timeline_setting&#34;</span>: <span>None</span>,
    <span>&#34;require_password_login&#34;</span>: <span>False</span>,
    <span>&#34;requires_login_verification&#34;</span>: <span>False</span>,
    <span>&#34;sleep_time&#34;</span>: {
        <span>&#34;enabled&#34;</span>: <span>False</span>,
        <span>&#34;end_time&#34;</span>: <span>None</span>,
        <span>&#34;start_time&#34;</span>: <span>None</span>
    },
    <span>&#34;translator_type&#34;</span>: <span>&#34;none&#34;</span>,
    <span>&#34;universal_quality_filtering_enabled&#34;</span>: <span>&#34;enabled&#34;</span>,
    <span>&#34;use_cookie_personalization&#34;</span>: <span>False</span>,
})

<span># example configuration</span>
<span>account</span>.<span>update_search_settings</span>({
    <span>&#34;optInFiltering&#34;</span>: <span>True</span>,  <span># filter out nsfw content</span>
    <span>&#34;optInBlocking&#34;</span>: <span>True</span>,  <span># filter out blocked accounts</span>
})

<span>## account.change_password(&#39;old password&#39;, &#39;new password&#39;)</span>
<span>## account.logout_all_sessions()</span></pre></div><div dir="auto" data-snippet-clipboard-copy-content="from twitter.scraper import Scraper

email, username, password = ..., ..., ...
scraper = Scraper(email, username, password)

####### User Data ########
users = scraper.user_by_screen_name([&#39;bob123&#39;, &#39;jim456&#39;, &#39;stanley789&#39;])
tweets = scraper.tweets([123, 234, 345])
likes = scraper.likes([123, 234, 345])
tweets_and_replies = scraper.tweets_and_replies([123, 234, 345])
media = scraper.media([123, 234, 345])
following = scraper.following([123, 234, 345])
followers = scraper.followers([123, 234, 345])

######## Tweet Data ########
tweets_by_ids = scraper.tweet_by_rest_id([456, 567, 678])
tweets_details = scraper.tweets_details([456, 567, 678])
retweeters = scraper.retweeters([456, 567, 678])
favoriters = scraper.favoriters([456, 567, 678])

scraper.download_media([456, 567, 678])"><pre><span>from</span> <span>twitter</span>.<span>scraper</span> <span>import</span> <span>Scraper</span>

<span>email</span>, <span>username</span>, <span>password</span> <span>=</span> ..., ..., ...
<span>scraper</span> <span>=</span> <span>Scraper</span>(<span>email</span>, <span>username</span>, <span>password</span>)

<span>####### User Data ########</span>
<span>users</span> <span>=</span> <span>scraper</span>.<span>user_by_screen_name</span>([<span>&#39;bob123&#39;</span>, <span>&#39;jim456&#39;</span>, <span>&#39;stanley789&#39;</span>])
<span>tweets</span> <span>=</span> <span>scraper</span>.<span>tweets</span>([<span>123</span>, <span>234</span>, <span>345</span>])
<span>likes</span> <span>=</span> <span>scraper</span>.<span>likes</span>([<span>123</span>, <span>234</span>, <span>345</span>])
<span>tweets_and_replies</span> <span>=</span> <span>scraper</span>.<span>tweets_and_replies</span>([<span>123</span>, <span>234</span>, <span>345</span>])
<span>media</span> <span>=</span> <span>scraper</span>.<span>media</span>([<span>123</span>, <span>234</span>, <span>345</span>])
<span>following</span> <span>=</span> <span>scraper</span>.<span>following</span>([<span>123</span>, <span>234</span>, <span>345</span>])
<span>followers</span> <span>=</span> <span>scraper</span>.<span>followers</span>([<span>123</span>, <span>234</span>, <span>345</span>])

<span>######## Tweet Data ########</span>
<span>tweets_by_ids</span> <span>=</span> <span>scraper</span>.<span>tweet_by_rest_id</span>([<span>456</span>, <span>567</span>, <span>678</span>])
<span>tweets_details</span> <span>=</span> <span>scraper</span>.<span>tweets_details</span>([<span>456</span>, <span>567</span>, <span>678</span>])
<span>retweeters</span> <span>=</span> <span>scraper</span>.<span>retweeters</span>([<span>456</span>, <span>567</span>, <span>678</span>])
<span>favoriters</span> <span>=</span> <span>scraper</span>.<span>favoriters</span>([<span>456</span>, <span>567</span>, <span>678</span>])

<span>scraper</span>.<span>download_media</span>([<span>456</span>, <span>567</span>, <span>678</span>])</pre></div><div dir="auto" data-snippet-clipboard-copy-content="from twitter.search import search

search(
    &#39;(#dogs OR #cats) min_retweets:500&#39;,
    &#39;min_faves:10000 @elonmusk until:2023-02-16 since:2023-02-01&#39;,
    &#39;brasil portugal -argentina&#39;,
    &#39;paperswithcode -tensorflow -tf&#39;,
    &#39;skateboarding baseball guitar&#39;,
    &#39;cheese bread butter&#39;,
    &#39;ios android&#39;,
)"><pre><span>from</span> <span>twitter</span>.<span>search</span> <span>import</span> <span>search</span>

<span>search</span>(
    <span>&#39;(#dogs OR #cats) min_retweets:500&#39;</span>,
    <span>&#39;min_faves:10000 @elonmusk until:2023-02-16 since:2023-02-01&#39;</span>,
    <span>&#39;brasil portugal -argentina&#39;</span>,
    <span>&#39;paperswithcode -tensorflow -tf&#39;</span>,
    <span>&#39;skateboarding baseball guitar&#39;</span>,
    <span>&#39;cheese bread butter&#39;</span>,
    <span>&#39;ios android&#39;</span>,
)</pre></div></div>
  </body>
</html>
