<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.warpstream.com/blog/s3-express-is-all-you-need">Original</a>
    <h1>S3 Express Is All You Need</h1>
    
    <div id="readability-page-1" class="page"><div id="content"><div><p>The new <a href="https://aws.amazon.com/s3/storage-classes/express-one-zone/">“AWS S3 Express One Zone”</a> low latency storage class is making waves in the data infrastructure community. A lot of people are starting to ask the obvious question: How much will it cost in practice, and what does this mean for the future of data infrastructure?</p><p>The first thing to know is that the new S3 Express storage class costs 8x more than S3 Standard per GiB stored which makes it unsuitable as the “primary” store for big data systems like Kafka and traditional data lakes.</p><p>However, individual API operations are 50% cheaper. 50% cheaper is great, but it’s not 10-20x cheaper. That means any workloads that were previously impractical due to S3 API operation costs are still impractical with the new Express storage class. Unlike S3 Standard, however, the new Express class also charges per GiB for every API operation (writes + reads) beyond 512 KiB. Another way to think about this is that every API operation comes with 512 KiB of bandwidth “free” and you pay for every byte beyond that.</p><p>We did some simple cost modeling, and this is what the cost profile looks like for PUT requests:</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><p><img src="https://assets-global.website-files.com/64baaecd9c5c9b1b6c38aa0e/65662d4cd70380bc272850aa_4VB-0B8xqVF-KV7SQJVva1SbY9yF_MTdx21MRZ8qkLhtD-IeeZ7KHJAk2taIf-Q0llwn3nV2JVz9Wu-c5tHiI9aVofHS90vAnYEg0mKTmqmNzzzFdgssX5LTG5i27yf-MfE9Y2qauY3GerhQey89JsRveUhiuplKpAfsLtlAshyz5c4926NieNl31ldsPw.png" alt=""/></p></figure><p>Here’s what it looks like for GET requests:</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><p><img src="https://assets-global.website-files.com/64baaecd9c5c9b1b6c38aa0e/65662d4c9218cb461083df45_IsQ0xVYKFe6iiyW_Rl-Kkl6tibNJvatMT_l0fuoGae0Ux15JisBIX0Jfe4iLG6OJcee8DxPxA0_jI9p83pb75UUYftuzy0Hd1pqruQo0a4QoLZBCzIpOoRpGTKbaUklY8Z5PZifSEf0Ue5hAF3an-8uDx0QCJXid2cSYlvimQVpV3vUnX_vkfwwlbTyLeQ.png" alt=""/></p></figure><p>However, remember that the new Express storage class is <em>single zone</em>. That means most modern data systems will have to manually replicate their data to two different availability zones if they want to survive the failure of a single AZ with no data loss or unavailability. So let’s double those numbers.</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><p><img src="https://assets-global.website-files.com/64baaecd9c5c9b1b6c38aa0e/65662d4cb7130bca5a4c1237_uKrut9dMa4pOvkQPfAQBNCeF9y0prrQoU5ALb0lEdnKva9KEuxGHr-7s8F1q5ZNtEKQzeYOmkX9Yp569RG6zdJ2AwtBCDolIZdRA4_faDSBz5YjR3Yvy9L9K5yyYFlDc45grFI1iduvXNpFuME0-u0pqsFe5lgCTMHQiL4OTr7yX_tsua9mMTGggVHdEuA.png" alt=""/></p></figure><figure class="w-richtext-align-center w-richtext-figure-type-image"><p><img src="https://assets-global.website-files.com/64baaecd9c5c9b1b6c38aa0e/65662d4cb324c727afaebae0_XbxYg7pb0THyrl0sjd9QuKEjPQwRDgYxcGY0sSnk9q8hUTlWpGcjPTlCg9ZWPWz9xGBFK0ARKVM_55YE-bt2I2S6uPmJ5VdYbpG0FrWZkvxxP3aUpQTn2WXrQ5G-DnzsWG7yduCdxSO-aKqRxdUORY67jjaYMdJBHBsJBqrMozg3fGaubRPOcZIlayQ38A.png" alt=""/></p></figure><p>If you squint, the $0.016/GiB it costs to write data twice to two different S3 Express buckets in two different availability zones is <em>suspiciously</em> close to the cost of manually replicating a GiB of data between two availability zones at the application layer ($0.02/GiB). In other words, for high volume use cases, the new S3 Express storage class does not expose many new opportunities for dramatic improvements in cost or performance compared to traditional doubly or triply replicated storage systems.</p><p>However, the new storage class does open up an exciting new opportunity for all modern data infrastructure: the ability to tune an individual workload for low latency and higher cost or higher latency and lower cost <em>with the exact same architecture and code</em>. This will be a huge leap forward for modern data infrastructure as there is no longer any reason to design any large-scale modern data system around the availability of local disks, or block storage (like EBS).</p><p>All modern data systems, even those that need to serve low latency operational workloads, can now be built completely around object storage with data tiering only performed <em>between object storage tiers</em>. In the worst case scenario, it will still be cheaper, more durable, and significantly less error prone than manually replicating data at the application layer. In the best case scenario, you’ll be able to cut costs by an order of magnitude for high volume use cases without touching a line of code.</p><p>Of course the AWS S3 Express storage costs are still 8x higher than S3 standard, but that’s a non issue for any modern data storage system. Data can be trivially landed into low latency S3 Express buckets, and then compacted out to S3 Standard buckets asynchronously. Most modern data systems already have a form of compaction anyways, so this “storage tiering” is effectively free.</p><p>At WarpStream, we’re betting on the future of data streaming being completely object storage based. If you want to learn more about WarpStream and how it can reduce your Kafka costs and operations by an order of magnitude, <a href="https://www.warpstream.com/contact-us">contact us</a> or join <a href="https://console.warpstream.com/socials/slack">our Slack</a>.</p></div></div></div>
  </body>
</html>
