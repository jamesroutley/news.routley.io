<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://eieio.games/essays/the-secret-in-one-million-checkboxes/">Original</a>
    <h1>The secret inside One Million Checkboxes</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody">
        <p>A few days into making One Million Checkboxes I thought I’d been hacked. What was <em>that</em> doing in my database?</p>

<p>A few hours later I was tearing up, proud of some brilliant teens.</p>

<p>But let’s back up.</p>

<p><em>Note - I’m trying something new; I’ve also made a <a href="https://youtu.be/OI4DbECnp8A">YouTube video</a> that tells this story. I’m trying to decide whether I’m interested in making videos; check it out if you’d like!</em>
<!-- excerpt-end --></p>
<h2 id="what-was-one-million-checkboxes">What was One Million Checkboxes?</h2>
<p>On June 26th 2024, I <a href="http://eieio.games/nonsense/game-14-one-million-checkboxes/">launched a website</a> called One Million Checkboxes (OMCB). It had one million <em>global</em> checkboxes on it - checking (or unchecking) a box changed it for everyone on the site, instantly.</p>

<div>
<div>
    
    
    <video playsinline="" controls="" muted="" poster=" /assets/images/omcb-binary/30mins-activity-firstframe.png ">
    
        <source src="/assets/images/omcb-binary/30mins-activity.mp4" type="video/mp4"/>
    </video>
    
    <p> The site, 30 minutes after launch </p>
    
</div>

</div>

<p>My expectations for the site were very low and very wrong. I thought hundreds of players would check thousands of boxes - instead, 500,000 players checked over 650,000,000 boxes in the two weeks that I kept the site online. The site made it into the <a href="https://www.nytimes.com/2024/07/03/style/one-million-checkboxes-game.html">New York Times</a> and the <a href="https://www.washingtonpost.com/technology/2024/07/02/one-million-checkboxes-pointless-fun/">Washington Post</a>; it’s on <a href="https://knowyourmeme.com/memes/sites/one-million-checkboxes">Know Your Meme</a> and <a href="https://en.wikipedia.org/wiki/One_Million_Checkboxes">Wikipedia</a>. The whole thing was a wild ride.</p>

<p><a href="http://eieio.games/essays/scaling-one-million-checkboxes/">A separate blog of mine</a> covers the technical details behind OMCB. This blog covers my favorite story from running the site.</p>

<p>But to tell you that story, I need to give you two bits of context.</p>

<h2 id="bit-of-context-1-omcb-made-it-hard-to-draw">Bit of context 1: OMCB made it hard to draw</h2>
<p>I like to make games that help people interact on the internet. Some people are assholes when they interact on the internet. So when I make <a href="http://eieio.games/nonsense/game-12-stranger-video/">games</a> like <a href="http://eieio.games/nonsense/game-13-talk-paper-scissors/">this</a><sup id="fnref:1" role="doc-noteref"><a href="#fn:1" rel="footnote">1</a></sup> I try to add constraints to make the average interaction a little more pleasant.</p>

<p>I’ve been around long enough to know what people will draw if you put an unrestricted canvas on the public internet, so for OMCB I wanted to constrain drawing.</p>

<p>To do this I scaled the number of checkboxes in a row to the size of the browser window. Here’s what that looks like in practice:</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/omcb-window-example.gif" alt="The text &#39;EXAMPLE&#39; is written using checkboxes. The message disappears unless the browser window is fully stretched out."/>
</p>
<p>excuse the kerning</p>

<p>Here I’ve written “EXAMPLE” - but you can only see it if the browser is exactly the right width! As soon as the number of checkboxes in a row changes the message disappears.</p>

<p>This meant that if you drew something rude on your phone it wouldn’t show up for me on my laptop and vice-versa: your graffiti was only visible to people with the exact same display as your own. This constraint was particularly nice because it was subtle; you might never realize that your writing wasn’t visible to anyone else on the site!</p>

<p>I got a <em>lot</em> of comments asking for me to “fix” this so that people could draw. But the choice here was very intentional.</p>

<p>I’ve found that the best stories from my stranger-interaction games come from how people work around the constraints that I add.</p>

<p>That was foreshadowing.</p>

<h2 id="bit-of-context-2-how-i-stored-state">Bit of context 2: how I stored state</h2>
<p>OMCB had a million checkboxes on it. One million is a big number! So I wanted to store and transmit my state efficiently.</p>

<p>To do this I said - a checkbox has two valid states. It’s checked or it’s unchecked. That’s like a bit - a bit is either 0 or 1. So I just stored the state for each checkbox as a bit. Bit 3 was “1” if checkbox 3 was checked and “0” otherwise.</p>

<p>That’s a million bits. There are 8 bits in a byte, so that’s 125,000 bytes, which is 125KB - not even the size of an MP3! Totally workable.</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/binary-encoding.png" alt="An example of how data was stored. Checked boxes are stored as 1s, unchecked boxes as 0s."/>
</p>
<p>checked boxes are 1s, unchecked boxes are 0s</p>

<p>I stored this data in Redis (an easy to use database) and base64-encoded<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" rel="footnote">2</a></sup> it when transmitting it to clients.</p>

<p>I promise this matters. Let’s get back to the story.</p>

<h2 id="have-i-been-hacked">Have I been hacked?</h2>
<p>A few days after launching OMCB, I rewrote the backend in go (with the help of my friend <a href="https://github.com/EliotHedeman">Eliot</a>) to keep up with the load. And then, for some reason, I dumped an ascii encoding of the raw bytes in my database. I don’t know why - I just did it.</p>

<p>The data I saw looked like this:</p>
<p><img src="http://eieio.games/assets/images/omcb-binary/catgirls1.png" alt="raw binary data from the OMCB database. The url &#39;https://catgirls.win/omcb&#39; repeatedly shows up"/>
</p>
<p>what in the world</p>

<p>And my reaction to the data looked something like this:</p>
<p><img src="http://eieio.games/assets/images/omcb-binary/am-i-hacked.png" alt="The same image as above, with &#39;what the fuck, am I hacked&#39; on it"/>
</p>
<p>sheer terror</p>

<p>I panicked. There were URLs in my database! There were URLs pointing to <em>catgirls.win</em> in my database!! Something was very very wrong.</p>

<p>I assumed I’d been hacked. I poured over my logs, looking for evidence of an intrusion. I read and re-read my code, searching for how somebody could be stuffing strings into a database that should have just contained 0s and 1s.</p>

<p>I couldn’t find anything. My access logs looked fine. My (very simple) code was ok. My heart rate increased. My girlfriend patiently waited for me to join her for dinner. And then - wait.</p>

<p>Wait!</p>

<p>I saw it.</p>


<p>I looked at the checkboxes that corresponded to the sketchy URLs in my database.</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/corresponding.png" alt="An arrow pointing from the &#39;h&#39; in https://catgirls.win/omcb to the 8 checkboxes on the website that comprise the byte that represents that h"/>
</p>
<p>the &#34;h&#34; is one byte - 8 bits. 8 checkboxes. those 8 checkboxes</p>
<p>That H - it represented one byte. One byte represented 8 bits. <em>8 bits represented 8 checkboxes.</em></p>

<p>Those chunks of 8 checkboxes formed a repeating pattern that lined up with the URLs. And if I changed something - if I unchecked a box - the pattern immediately reappeared.</p>
<p><img src="http://eieio.games/assets/images/omcb-binary/pattern.gif" alt="A repeating pattern of checkboxes. When the user unchecks some boxes the boxes are immediately re-checked"/>
</p>
<p>spooky</p>

<p>I hadn’t been hacked.</p>

<p><em>Someone was writing me a message in binary.</em></p>

<h3 id="what-does-that-mean">What does that mean?</h3>
<p>When I dumped my database, redis converted the data to ascii.</p>

<p>To do that, it read the data one byte - 8 bits - at a time. It converted that byte to a number between 0 and 255 (2^8 - 1). And then it checked whether that number was in the printable ascii character range (32 - 127). If it was, it printed out the corresponding character; otherwise it printed the byte’s hex representation (e.g. <code>\x00</code> for <code>0</code>).</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/binary-explanation.png" alt="8 checkboxes and their binary representation. Checkboxes forming the pattern 01101000 represent an h, checkboxes forming the pattern 01110100 represent a t."/>
        <img src="http://eieio.games/assets/images/omcb-binary/asciitable.gif" alt="an ascii table"/>
</p>
<p>104 represents an &#39;h&#39; and &#39;116&#39; represents a &#39;t&#39;</p>

<p>So someone was:</p>
<ul>
  <li>Checking boxes</li>
  <li>To flip bits</li>
  <li>To form numbers</li>
  <li>That formed letters</li>
  <li>That spelled out the URL</li>
</ul>

<p>And they were doing it with <em>thousands of other people on the site.</em></p>

<p>I was impressed.</p>

<h2 id="down-the-rabbit-hole">Down the rabbit hole</h2>
<p>So.</p>

<p><code>https://catgirls.win/omcb</code></p>

<p><em>catgirls dot win</em></p>

<p>I hemmed and hawed. I googled around. And then I clicked the link.</p>
<p><img src="http://eieio.games/assets/images/omcb-binary/invite.png" alt="An invite to a discord called &#39;Checking Boxes&#39;"/>
</p>
<p>interesting</p>

<p>The link went to a discord! And the discord was called “Checking Boxes”<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" rel="footnote">3</a></sup>. I joined the discord.</p>
<p><img src="http://eieio.games/assets/images/omcb-binary/discord-join.png" alt="Discord chat logs. Nolen says &#39;hi, i made the website.&#39; Someone else says &#39;WHOA, YES, ITS YOU&#39;"/>
</p>
<p>saying hello</p>

<p>And someone was really excited to see me! We chatted for a bit. And then they asked me something that blew my mind:</p>

<p>&#34;Have you seen your checkboxes as a 1000x1000 image yet?&#34;</p>

<p>I said no. They showed me what they were up to:</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/og-grid.png" alt="A black and white grid. There is a banner on the grid that spells out &#39;be gay do crime&#39; as well as a QR code."/>
</p>
<p>goodness</p>

<p>They were downloading data for all million checkboxes and rendering them as a 1000x1000 grid (the unchecked boxes are white; the checked boxes are black).</p>

<p>There’s a lot going on here! We’ve got “be gay do crime” - love that - but there’s some interesting technical stuff here too.</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/annotated-grid.png" alt="An annotated version of the same grid"/>
</p>
<p>double goodness</p>

<p>The repeated noise at the bottom is the binary message I found. Above that is a base64 version of the same message - remember that base64 is what I used for transport. And on the left side is a QR code (with full error correction!). All of these messages linked to the discord.</p>

<p>The discord was full of some very sharp teens<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" rel="footnote">4</a></sup>, and they were writing these secret messages to gather other very sharp teens to talk about botting the site. Anyone who was writing a bot would probably be looking at either the base64’d version of the data, the binary version, or the 1000x1000 image version; they were covering all the bases.</p>

<p>And this worked! The discord grew from under 20 people when I joined to over 60 by the time I shut the site down.</p>

<h2 id="so-whatd-they-do">So what’d they do?</h2>
<p>Well, they drew a whole lot! As they built better systems for drawing (and better reverse-engineered my rate limits<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" rel="footnote">5</a></sup>) their drawings became more complex.</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/drawing-bsod.png" alt="A drawing of a windows blue screen of death on one million checkboxes"/>
</p>
<p>A windows blue screen of death - pre CrowdStrike incident!</p>

<p>Over time they experimented with animations and even tried out some protocols for adding color - like treating adjacent cells as the red, green, and blue channels of a color and drawing to a smaller grid.</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/drawing-fullgrid.gif" alt="Lots of drawings on one million checkboxes, including several of Jake Gyllenhaal"/>
</p>
<p>The grid at its most chaotic - someone was a Jake Gyllenhaal fan.</p>

<p>I gave the discord a warning before I sunset the site. The night before doing it I removed all my rate limits to see how much traffic the site could handle and what they could do. We ended up with some really cool animations - my favorite was a Rickroll (this clip is not sped up).</p>
<p><img src="http://eieio.games/assets/images/omcb-binary/drawing-rickroll.gif" alt="An animated rickroll drawn on one million checkboxes"/>
</p>
<p>Look at Rick go</p>

<h2 id="is-botting-good">Is botting good?</h2>
<p>Lots of people were mad about bots on OMCB. I’m not going to link to anything here - I don’t want to direct negative attention at anyone - but I got hundreds of messages about bots. The most popular tweet about OMCB complained about bots. People…did not like bots.</p>

<p>And I get it! The typical ways that folks - especially folks who don’t program - bump into bots are things like ticket scalping and restaurant reservation bots. Bots that feel selfish and unfair and antisocial.</p>

<p>And there certainly was botting that you could call antisocial. Folks wrote tiny javascript boxes to uncheck every box that they could - I know this because they excitedly told me.</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/reddit-comment.png" alt="a reddit comment from a user sharing a script with me"/>
</p>
<p>ok!</p>

<p>I expected this - I’m a programmer! - but people told me that it ruined the site for them and I suppose I understand that.</p>

<p>So, sure. This drawing probably degraded the experience for “regular” users - although the botters did have some rules around where to bot, and I would occasionally chime in to ask them to dial things down.</p>

<p><img src="http://eieio.games/assets/images/omcb-binary/wapo.png" alt="A message from me asking for folks to tone down botting because OMCB is in the Washington Post"/>
</p>
<p>debatable how well this worked</p>

<p>So there are some caveats. I understand why people don’t like bots; maybe this wasn’t an unassailable good. But man…</p>

<h2 id="i-found-this-so-moving">I found this so moving!</h2>

<p>In highschool, I wrote a recursive mail rule that sent a friend of mine millions of messages as a joke. I (accidentally!) repeatedly crashed the school’s mail server<sup id="fnref:6" role="doc-noteref"><a href="#fn:6" rel="footnote">6</a></sup></p>

<p>The adults in my life<sup id="fnref:7" role="doc-noteref"><a href="#fn:7" rel="footnote">7</a></sup> were largely not mad at me. They asked me to knock it off, but also made me a t-shirt. <em>I don’t think I’d be doing what I do now without the encouragement that I received then.</em></p>

<p>What this discord did was so cool - so surprising - so creative. It reminded me of me - except they were 10 times the developer I was then (and frankly, better developers than I am now). Getting to watch it live - getting to provide some encouragement, to see what they were doing and respond with praise and pride instead of anger - was deeply meaningful to me. I still tear up when I think about it.</p>

<p>I’m proud to have made something that this discord decided was worth playing with, and I’m even more proud of what they did with it.</p>

<p>I can’t wait to see what they go on to make.</p>

<p><em>Again - I’ve made my <a href="https://youtu.be/OI4DbECnp8A">first YouTube video</a> to tell this story. Given how emotional I found the whole thing, I thought being able to use my voice would be nice. Check it out if you’re interested!</em></p>



    </div></div>
  </body>
</html>
