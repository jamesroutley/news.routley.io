<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://immich.app/blog/google-flags-immich-as-dangerous">Original</a>
    <h1>Google flags Immich sites as dangerous</h1>
    
    <div id="readability-page-1" class="page"><div><div><!--[--><!----><div><!----><!----> <div><ul><li><a href="https://immich.app/blog" draggable="false"><!--[--><span>Blog</span><!----><!--]--></a><!----> <svg width="1rem" height="1rem" viewBox="0 0 24 24" stroke="transparent" stroke-width="2" role="img"><!--[!--><!--]--><!--[!--><!--]--><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" fill="currentColor"></path></svg><!----></li> <li>Google flags Immich sites as dangerous</li></ul> <!----><!----><!----> <div><!----><p><!---->October 20, 2025<!----><!----><!----></p><!----><!----> <!----><p><!---->â€” Jason Rasmussen<!----><!----><!----></p><!----><!----></div> <!----><p><!---->Earlier this month all of our <!--[!--><code><!---->*.immich.cloud<!----></code><!--]--><!----> websites were marked as dangerous and users started being shown the dreaded &#34;red-screen-of-death&#34; page.<!----><!----><!----><!----></p><!----><!----> <p><img src="https://immich.app/_app/immutable/assets/dangerous-site.CcDdEwz_.webp" alt="Dangerous site"/></p><!----><p><!---->No one on the team really understood how this browser feature worked, but it&#39;s now, unfortunately, been added to our list of <a href="https://immich.app/cursed-knowledge" draggable="false" title=""><!--[--><!---->Cursed Knowledge<!----><!--]--></a><!----> .<!----><!----><!----><!----></p><!----><!----> <!----><h2 id="background"><!---->Background<!----><!----><!----><!----></h2><!----><!----> <!----><p><!---->Google offers a service called <a href="https://safebrowsing.google.com/" draggable="false" target="_blank" rel="noopener noreferrer" title=""><!--[--><!---->Safe Browsing<!----><!--]--></a><!----> , which aims to determine if a site is running malware, unwanted software, or performs some form of social engineering. The service is free, and many browsers, including Chrome &amp; Firefox, directly integrate the service into their products, although it is still a bit unclear how it <em>actually</em> determines if something is &#34;dangerous&#34;.<!----><!----><!----><!----></p><!----><!----> <!----><p><!---->So, what happens if your site is marked as dangerous? Well, since most browsers seem to use this service, your site essentially becomes unavailable for all users, except the few that might realize it&#39;s a false positive, click the <!--[!--><code><!---->Details<!----></code><!--]--><!----> button, and then see and click the tiny, underlined &#34;visit this safe site&#34; link. So basically it becomes unavailable for your entire audience with little apparent recourse.<!----><!----><!----><!----></p><!----><!----> <!----><h2 id="being-flagged"><!---->Being flagged<!----><!----><!----><!----></h2><!----><!----> <!----><p><!---->At some point earlier this month, we realized that a bunch of sites on the <!--[!--><code><!---->immich.cloud<!----></code><!--]--><!----> domain had recently started showing up as &#34;dangerous&#34;. At the same time, a few users started complaining about their own Immich deployments being flagged. We also noticed that all our own internal sites had the same warning, including our preview environments. It got old <em>real fast</em> to have to go through the tedious effort to &#34;view this safe site&#34; whenever we wanted to view anything.<!----><!----><!----><!----></p><!----><!----> <!----><h2 id="search-console"><!---->Search Console<!----><!----><!----><!----></h2><!----><!----> <!----><p><!---->After a few days we realized this warning was not going to go away on its own, and that the <a href="https://search.google.com/search-console/about" draggable="false" target="_blank" rel="noopener noreferrer" title=""><!--[--><!---->Google Search Console<!----><!--]--></a><!----> was apparently the official way to manage these types of issues. It seems a bit crazy that the only way to make our site available again was to create a Google account, and use the Google Search Console to request a review of the affected site. The service did at least provide a few more details about <em>what exactly</em> was flagged, although it made the whole thing a bit more comical. Per the service:<!----><!----><!----><!----></p><!----><!----> <!----><p><!---->Google has detected harmful content on some of your siteâ€™s pages. We recommend that you remove it as soon as possible. Until then, browsers such as Google Chrome will display a warning when users visit or download certain files from your site.<!----><!----><!----><!----></p><!----><!----><!----><!----><!----><!----> <!----><p><!---->and<!----><!----><!----><!----></p><!----><!----> <!----><p><!---->These pages attempt to trick users into doing something dangerous, such as installing unwanted software or revealing personal information.<!----><!----><!----><!----></p><!----><!----><!----><!----><!----><!----> <!----><p><!---->Below these warnings was a list of affected URLs:<!----><!----><!----><!----></p><!----><!----> <!--[--><!--]--><!----> <!----><p><!---->It was super useful to learn that the affected URLs were for our <em>preview environments</em>. Maybe the thought was that these Immich environments were imitating our <a href="https://demo.immich.app/" draggable="false" target="_blank" rel="noopener noreferrer" title=""><!--[--><!---->demo website<!----><!--]--></a><!----> ? The most alarming thing was realizing that a single flagged subdomain would apparently invalidate the <em>entire domain</em>.<!----><!----><!----><!----></p><!----><!----> <!----><h2 id="impact"><!---->Impact<!----><!----><!----><!----></h2><!----><!----> <!----><p><!---->This issue affects all of our preview environments and other internal services such as zitadel, outline, grafana, victoria metrics, etc. This also impacts our production tile server, which is deployed at <!--[!--><code><!---->tiles.immich.cloud<!----></code><!--]--><!----> . Luckily, the requests to the tile server are made via JavaScript, and since those are not user facing they seem to still be working as expected.<!----><!----><!----><!----></p><!----><!----> <!----><h2 id="quotfixingquot-the-issue"><!---->&#34;Fixing&#34; the issue<!----><!----><!----><!----></h2><!----><!----> <!----><p><!---->The Google Search Console has a <!--[!--><code><!---->Request Review<!----></code><!--]--><!----> button, where you can explain how you have resolved the issues. It does warn that:<!----><!----><!----><!----></p><!----><!----> <!----><p><!---->Requesting a review of issues that weren&#39;t fixed will result in longer review cycles<!----><!----><!----><!----></p><!----><!----><!----><!----><!----><!----> <hr/><!----> <!----><h2 id=""><img src="https://immich.app/_app/immutable/assets/dangerous-site-appeal.XG05zUVf.webp" alt="Dangerous site appeal"/><!----><!----><!----><!----></h2><!----><!----> <hr/><!----> <!----><p><!---->Since, nothing is <em>actually</em> wrong we decided to respond with the following:<!----><!----><!----><!----></p><!----><!----> <!----><p><!---->Immich is a self-hosted application, and the Immich team (<a href="https://immich.app/" draggable="false" target="_blank" rel="noopener noreferrer" title=""><!--[--><!---->https://immich.app/<!----><!--]--></a><!----> ) owns and operates the <!--[!--><code><!---->immich.cloud<!----></code><!--]--><!----> domain and subdomains. The flagged sites are our own deployments of our own products and are not impersonating anything or anyone else.<!----><!----><!----><!----></p><!----><!----><!----><!----><!----><!----> <!----><p><!---->A day or two later, the resolution was accepted and the domain was clean again! ðŸŽ‰<!----><!----><!----><!----></p><!----><!----> <!----><p><!---->We <em>thought</em> we were home free, but unfortunately that was not the case.<!----><!----><!----><!----></p><!----><!----> <!----><h2 id="minimizing-the-issue"><!---->Minimizing the issue<!----><!----><!----><!----></h2><!----><!----> <!----><p><!---->An Immich preview environment can be requested by adding the <!--[!--><code><!---->preview<!----></code><!--]--><!----> label to a pull request on GitHub. When the environment is created, a comment is posted on the pull request with the preview url, which follows the following format:<!----><!----><!----><!----></p><!----><!----> <!--[--><!--]--><!----> <!----><p><!---->As soon as we created a new preview environment, the <!--[!--><code><!---->immich.cloud<!----></code><!--]--><!----> domain was <em>once again</em> flagged as a dangerous site. The best we can tell, Google crawls GitHub, sees the new URL, crawls the site, marks it as deceptive, and the whole process begins anew.<!----><!----><!----><!----></p><!----><!----> <!----><p><!---->Our current plan is to attempt to minimize the impact of this issue by moving the preview environments to their own, dedicated domain â€” <!--[!--><code><!---->immich.build<!----></code><!--]--><!----> .<!----><!----><!----><!----></p><!----><!----> <!----><h2 id="a-wider-issue"><!---->A wider issue<!----><!----><!----><!----></h2><!----><!----> <!----><p><!---->Google Safe Browsing looks to be have been built without consideration for open-source or self-hosted software. Many popular projects have run into similar issues, such as:<!----><!----><!----><!----></p><!----><!----> <!--[!--><!--]--><!----> <!----><p><!---->Unfortunately, Google seems to have the ability to arbitrarily flag any domain and make it immediately unaccessible to users. I&#39;m not sure what, if anything, can be done when this happens, except constantly request another review from the all mighty Google.<!----><!----><!----><!----></p><!----><!----><!----> <!----><p><!---->Cheers,<!----><!----><!----></p><!----><!----><!----></div><!----> <!--[!--><!--]--><!----><!----></div><!----><!--]--><!----><!----></div></div></div>
  </body>
</html>
