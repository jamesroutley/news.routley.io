<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://wiki.haskell.org/Functional_Reactive_Programming">Original</a>
    <h1>Functional Reactive Programming</h1>
    
    <div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div><p>Functional Reactive Programming (FRP) integrates time flow and compositional events into functional programming.  This provides an elegant way to express computation in domains such as interactive animations, robotics, computer vision, user interfaces, and simulation.
</p>


<h2><span id="Introduction">Introduction</span></h2>
<p>The original formulation of Functional Reactive Programming can be found in the ICFP 97 paper <a rel="nofollow" href="http://conal.net/papers/icfp97/">Functional Reactive Animation</a> by Conal Elliott and Paul Hudak. It introduces the following <i>semantic functions</i>:
</p>
<ul><li><b>at</b> : <i>Behavior<sub>α</sub> → Time → α</i></li></ul>
<ul><li><b>occ</b> : <i>Event<sub>α</sub> → Time × α</i></li></ul>
<p>to provide a formal description of operations on values now commonly known as <i>behaviors</i> and <i>events</i>. But what are they?
</p>
<h3><span id="Behaviors">Behaviors</span></h3>
<p>Traditionally a widget-based user interface is created by a series of imperative actions.  First an action is invoked to create an edit widget, then additional actions can be invoked to read its current content, set it to a specific value or to assign an event callback for when the content changes.  This is tedious and error-prone.
</p><p>A better way to represent an edit widget&#39;s content is a time-varying value, called a <i>behavior</i>.  The basic idea is that a time-varying value can be represented as a function of time:
</p>
<div dir="ltr"><pre><span></span><span>newtype</span> <span>Behavior</span> <span>a</span> <span>=</span>
    <span>Behavior</span> <span>{</span>
      <span>at</span> <span>::</span> <span>Time</span> <span>-&gt;</span> <span>a</span>
    <span>}</span>

<span>myTodoList</span>                <span>::</span> <span>Behavior</span> <span>Text</span>
<span>yesterday</span>                 <span>::</span> <span>Time</span>
<span>myTodoList</span> <span>`</span><span>at</span><span>`</span> <span>yesterday</span> <span>::</span> <span>Text</span>
</pre></div>
<p>This is only a theoretical model, because a time-varying value can represent something impure like the content of an edit widget, the current value of a database entry as well as the system clock&#39;s current time.  Using this model the current content of an edit widget would be a regular first class value:
</p>
<div dir="ltr"><pre><span></span><span>myEditWidget</span> <span>::</span> <span>Behavior</span> <span>Text</span>
</pre></div>
<p>In most frameworks there is an applicative interface for behaviors, such that you can combine them easily:
</p>
<div dir="ltr"><pre><span></span><span>liftA2</span> <span>(</span><span>&lt;&gt;</span><span>)</span> <span>myEdit1</span> <span>myEdit2</span>
</pre></div>
<p>The result is a time-varying value that represents the concatenation of <span><code dir="ltr"><span>myEdit1</span></code></span> and <span><code dir="ltr"><span>myEdit2</span></code></span>.  This could be the value of a third widget, a label, to display the concatenation.  The following is a hypothetical example:
</p>
<div dir="ltr"><pre><span></span><span>do</span> <span>edit1</span> <span>&lt;-</span> <span>editWidget</span>
   <span>edit2</span> <span>&lt;-</span> <span>editWidget</span>
   <span>label</span> <span>&lt;-</span> <span>label</span> <span>(</span><span>liftA2</span> <span>(</span><span>&lt;&gt;</span><span>)</span> <span>edit1</span> <span>edit2</span><span>)</span>
   <span>{- ... -}</span>
</pre></div>
<p>Without behaviors you would have to write event callback <i>actions</i> for the edit widgets to <i>update</i> the label&#39;s content.  With behaviors you can express this relationship declaratively.
</p>
<h3><span id="Events">Events</span></h3>
<p>While behaviours work well for describing properties which are continuous (e.g. the motion of an animated object), other properties are more <i>discrete</i> (e.g. what button on the mouse was clicked or the screen position where it happened). Events more easily accommodate information like this, by associating the data value of interest with a particular time:
</p>
<div dir="ltr"><pre><span></span><span>newtype</span> <span>Event</span> <span>a</span> <span>=</span>
    <span>Event</span> <span>{</span>
      <span>occ</span> <span>::</span> <span>(</span><span>Time</span><span>,</span> <span>a</span><span>)</span>
    <span>}</span>

<span>mouseInWindowNow</span>     <span>::</span> <span>Event</span> <span>Bool</span>
<span>occ</span> <span>mouseInWindowNow</span> <span>::</span> <span>(</span><span>Time</span><span>,</span> <span>Bool</span><span>)</span>
</pre></div>
<p>A series of events is most easily represented as a list of <code>Event</code>-values, commonly referred to as an <i>event stream</i> (or simply a <i>stream</i>).
</p>
<h2><span id="Libraries">Libraries</span></h2>
<ul><li><a href="https://wiki.haskell.org/DataDriven" title="DataDriven">DataDriven</a></li>
<li><a rel="nofollow" href="http://hackage.haskell.org/package/elerea">Elerea</a></li>
<li><a rel="nofollow" href="http://conal.net/fran/">Fran</a> (discontinued)</li>
<li><a href="https://wiki.haskell.org/Grapefruit" title="Grapefruit">Grapefruit</a></li>
<li><a href="https://wiki.haskell.org/Netwire" title="Netwire">Netwire</a></li>
<li><a href="https://wiki.haskell.org/Reactive" title="Reactive">Reactive</a></li>
<li><a href="https://wiki.haskell.org/Reactive-banana" title="Reactive-banana">reactive-banana</a></li>
<li><a rel="nofollow" href="https://reflex-frp.org/">Reflex</a></li>
<li><a rel="nofollow" href="http://hackage.haskell.org/package/sodium">Sodium</a></li>
<li><a href="https://wiki.haskell.org/WxFruit" title="WxFruit">wxFruit</a></li>
<li><a href="https://wiki.haskell.org/Yampa" title="Yampa">Yampa</a></li>
<li> [<a rel="nofollow" href="https://github.com/ivanperez-keera/dunai">Dunai</a>]</li>
<li> <a href="https://wiki.haskell.org/Rhine" title="Rhine">Rhine</a></li>
<li><a rel="nofollow" href="http://hackage.haskell.org/packages/archive/pkg-list.html#cat:FRP">Hackage packages in the category FRP</a></li></ul>
<p>A simple, practical comparison between FRP libraries is done by <a rel="nofollow" href="https://github.com/gelisam/frp-zoo">frp-zoo</a>
</p>
<h2><span id="Publications_and_talks">Publications and talks</span></h2>
<ul><li><a rel="nofollow" href="https://www.youtube.com/watch?v=zgNRM8tZguY">ICFP 2014: Settable and Non-Interfering Signal Functions for FRP - Daniel Winograd-Cort</a> (video)</li>
<li><a rel="nofollow" href="https://web.archive.org/web/20150217184805/https://www.cs.rit.edu/~eca7215/frp-independent-study/Survey.pdf">A Survey of Functional Reactive Programming</a></li>
<li><a rel="nofollow" href="http://conal.net/papers/frp.html">Conal Elliott’s FRP-related publications</a></li>
<li><a rel="nofollow" href="https://wolfgang.jeltsch.info/publications-and-talks">Grapefruit-related publications and talks</a></li>
<li><a rel="nofollow" href="https://web.archive.org/web/20171012164802/http://haskell.cs.yale.edu/publications/#FunctionalReactiveProgramming">The Yale Haskell Group’s FRP-related publications</a> (archived)</li>
<li><a rel="nofollow" href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.11.6997&amp;rep=rep1&amp;type=pdf">FROB: A Transformational Approach to the Design of Robot Software - Gregory D. Hager and John Peterson</a></li>
<li><a rel="nofollow" href="https://begriffs.com/posts/2015-07-22-essence-of-frp.html">The Essence of FRP (Conal Elliott -- July 22, 2015 -- video)</a></li>
<li><a rel="nofollow" href="https://begriffs.com/posts/2016-07-27-tikhon-on-frp.html">A Sensible Intro to FRP (Tikhon Jelvis -- July 27, 2016 -- video)</a></li></ul>
<h2><span id="Books">Books</span></h2>
<ul><li>Blackheath, Stephen; Jones, Antony. <a rel="nofollow" href="http://www.manning.com/blackheath">Functional Reactive Programming</a>. Manning Publications (2015). p.245. ISBN 978-1-6334-3010-5</li></ul>
<h2><span id="Blog_posts">Blog posts</span></h2>
<ul><li><a rel="nofollow" href="https://github.com/gelisam/frp-zoo">frp-zoo</a>; comparing many FRP implementations by reimplementing the same toy app in each.</li>
<li><a rel="nofollow" href="http://blog.reactiveprogramming.org/">Functional Reactive Programming, a better way to build interactive applications</a> (about the Sodium FRP Library currently for C#, C++, Haskell and Java and more to come)</li>
<li><a rel="nofollow" href="http://apfelmus.nfshost.com/blog.html#functional-reactive-programming-frp">FRP-related posts on Heinrich Apfelmus’ blog</a></li>
<li><a rel="nofollow" href="http://conal.net/blog/tag/frp">FRP-related posts on Conal Elliott’s blog</a></li>
<li><a rel="nofollow" href="http://jeltsch.wordpress.com/tag/frp/">FRP-related posts on Wolfgang Jeltsch’s blog</a></li>
<li><a rel="nofollow" href="http://lukepalmer.wordpress.com/2008/11/28/relative-time-frp/">Relative time FRP</a> by Luke Palmer</li>
<li><a rel="nofollow" href="http://blog.edwardamsden.com/2011/03/demonstrating-time-leak-in-arrowized.html">Demonstrating a Time Leak in Arrowized FRP</a> by Edward Amsden</li>
<li><a rel="nofollow" href="https://www.reddit.com/r/haskell/comments/3fr5ij/frp_systems_discussion/">FRP Systems discussion</a> on reddit</li>
<li><a rel="nofollow" href="https://t0yv0.blogspot.com/2014/07/the-fatal-attraction-of-frp.html">The fatal attraction of FRP</a> by  Anton Tayanovskyy (about the WebSharper UI.Next framework for single-page JavaScript applications)</li></ul>
<h2><span id="People">People</span></h2>
<ul><li><a rel="nofollow" href="http://apfelmus.nfshost.com/">Heinrich Apfelmus</a></li>
<li><a rel="nofollow" href="http://www.facebook.com/antony.courtney">Antony Courtney</a></li>
<li><a rel="nofollow" href="http://conal.net/">Conal Elliott</a></li>
<li><a rel="nofollow" href="http://sgate.emt.bme.hu/patai/">Patai Gergely</a></li>
<li><a rel="nofollow" href="http://www.ittc.ku.edu/csdl/fpg/Users/AndyGill">Andy Gill</a></li>
<li>Liwen Huang</li>
<li>Paul Hudak</li>
<li><a rel="nofollow" href="https://wolfgang.jeltsch.info/">Wolfgang Jeltsch</a></li>
<li><a rel="nofollow" href="http://www.cs.nott.ac.uk/~nhn/">Henrik Nilsson</a></li>
<li><a rel="nofollow" href="http://github.com/ivanperez-keera">Ivan Perez</a></li>
<li><a rel="nofollow" href="http://mcis.western.edu/~jpeterson/">John Peterson</a></li>
<li>Ertugrul Söylemez</li></ul>
<h2><span id="History">History</span></h2>
<h3><span id="A_possible_predecessor?"></span><span id="A_possible_predecessor.3F">A possible predecessor?</span></h3>
<p>In his thesis <a rel="nofollow" href="https://core.ac.uk/download/9835633.pdf">Functional Real-Time Programming: The Language Ruth And Its Semantics</a>, some parts of the semantics Dave Harrison gives for <i>Ruth</i> bears a curious resemblance to those for FRP:
</p>
<ul><li>from page 48:</li></ul>
<dl><dd><div><p>A channel is an infinite stream of timestamped data values, or messages, each message denoting an event in the system.
</p>

<div dir="ltr"><pre><span></span><span>type</span> <span>Channel</span> <span>a</span> <span>=</span> <span>[</span><span>Event</span> <span>a</span><span>]</span>
</pre></div>
</div></dd></dl>
<ul><li>from page 50:</li></ul>
<dl><dd><div><p>A unique clock is automatically supplied to each Ruth process at run-time, to provide real-time information, [...]
</p>

<div dir="ltr"><pre><span></span><span>type</span> <span>Process</span> <span>a</span> <span>=</span> <span>Clock</span> <span>-&gt;</span> <span>a</span>
</pre></div>
<p>where a <code>Clock</code> value is a tree of time-values, rather than the direct use of time-values in FRP:
</p>
<div dir="ltr"><pre><span></span> <span>-- from page 61</span>
<span>type</span> <span>Clock</span> <span>=</span> <span>Tree</span> <span>Time</span>
<span>type</span> <span>Time</span>  <span>=</span> <span>Integer</span> <span>-- must be zero or larger</span>

<span>data</span> <span>Tree</span> <span>a</span> <span>=</span> <span>Node</span> <span>{</span> <span>contents</span> <span>::</span> <span>a</span><span>,</span>
                     <span>left</span>     <span>::</span> <span>Tree</span> <span>a</span><span>,</span>
                     <span>right</span>    <span>::</span> <span>Tree</span> <span>a</span> <span>}</span>
</pre></div>
</div></dd></dl>
<p>As a <i>Ruth</i> process runs, the nodes of the clock are used incrementally:
</p>
<ul><li>to ascertain the current time (<code>contents</code>), and</li>
<li>to provide other clocks for use elsewhere  (<code>left</code> and <code>right</code>).</li></ul>

<!-- 
NewPP limit report
Cached time: 20220816075859
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.017 seconds
Real time usage: 0.018 seconds
Preprocessor visited node count: 85/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4997/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)

-->
</div>
<!-- Saved in parser cache with key wikidb_haskell:pcache:idhash:3623-0!canonical and timestamp 20220816075900 and revision id 65308
 -->
</div></div>
  </body>
</html>
