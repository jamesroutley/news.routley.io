<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/inconvergent/weird">Original</a>
    <h1>Weird: Generative Art in Common Lisp</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto"><em>NOTE: you should not use this code for anything remotely important</em></p>
<h2 dir="auto"><a id="user-content-about" aria-hidden="true" href="#about"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>About</h2>
<p dir="auto"><code>weird</code> is the next iteration of <a href="https://github.com/inconvergent/weir">weir</a>
which was the next iteration of <a href="https://github.com/inconvergent/snek">snek</a>.
The library is written to be useful for a broad range of ways in which I create
art using generative algorithms. Almost everything I have made over the
past several years has been made using some version of this system.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/inconvergent/weird/blob/master/img/web.png"><img src="https://github.com/inconvergent/weird/raw/master/img/web.png" alt="Elastic Web"/></a></p>
<h2 dir="auto"><a id="user-content-components" aria-hidden="true" href="#components"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Components</h2>
<p dir="auto">In addition to the 2d/3d vectors provided via
<a href="https://github.com/inconvergent/cl-veq">cl-veq</a>, the main components are:</p>
<ol dir="auto">
<li>
<p dir="auto">A simple (undirected) graph data structure, <code>weir</code>. The structure can be
manipulated directly, or via <code>alterations</code>. The latter is described in more
detail below.  Here is a simple example of how you can manipulate the
structure directly:</p>
<div data-snippet-clipboard-copy-content="(in-package :weir)
(let ((wer (make)))
  ; add three edges
  (loop repeat 3
        do (add-edge! wer
             (2add-vert! wer
               (rnd:2in-circ 200.0))
             (2add-vert! wer
               (veq:f2+ (veq:2rep 500.0)
                        (rnd:2in-circ 200.0))))
  ; iterate verts
  (itr-verts (wer v)
    ; prints vert coordinates
    (veq:vpr (2get-vert wer v)))

  ; iterate edges
  (itr-edges (wer vv)
    (veq:vpr (2get-verts wer vv)))

  ; move a vert relativ to current position:
  (2move-vert! wer 0 1.0 2.0)
  ; or to an absolute position
  (2move-vert! wer 1 1.0 2.0 :rel nil)

  ; edges are represented as lists of verts, and they are always
  ; sorted with the smallest vert index first, so both of these
  ; return t:
  (edge-exists wer &#39;(0 1))
  (edge-exists wer &#39;(1 0))

  ; get edges incident to vert 0
  (get-incident-edges wer 0))"><pre>(in-package :weir)
(<span>let</span> ((wer (make)))
  <span><span>;</span> add three edges</span>
  (<span>loop</span> repeat <span>3</span>
        <span>do</span> (add-edge! wer
             (2add-vert! wer
               (rnd:2in-circ <span>200.0</span>))
             (2add-vert! wer
               (veq:f2+ (veq:2rep <span>500.0</span>)
                        (rnd:2in-circ <span>200.0</span>))))
  <span><span>;</span> iterate verts</span>
  (itr-verts (wer v)
    <span><span>;</span> prints vert coordinates</span>
    (veq:vpr (2get-vert wer v)))

  <span><span>;</span> iterate edges</span>
  (itr-edges (wer vv)
    (veq:vpr (2get-verts wer vv)))

  <span><span>;</span> move a vert relativ to current position:</span>
  (2move-vert! wer <span>0</span> <span>1.0</span> <span>2.0</span>)
  <span><span>;</span> or to an absolute position</span>
  (2move-vert! wer <span>1</span> <span>1.0</span> <span>2.0</span> :rel <span>nil</span>)

  <span><span>;</span> edges are represented as lists of verts, and they are always</span>
  <span><span>;</span> sorted with the smallest vert index first, so both of these</span>
  <span><span>;</span> return t:</span>
  (edge-exists wer &#39;(<span>0</span> <span>1</span>))
  (edge-exists wer &#39;(<span>1</span> <span>0</span>))

  <span><span>;</span> get edges incident to vert 0</span>
  (get-incident-edges wer <span>0</span>))</pre></div>
<p dir="auto">See <a href="https://github.com/inconvergent/weird/blob/master/examples/draw.lisp">examples/draw.lisp</a> and
<a href="https://github.com/inconvergent/weird/blob/master/examples/draw.lisp">examples/draw.lisp</a> for more.</p>
</li>
<li>
<p dir="auto">Random numbers, some examples:</p>
<div data-snippet-clipboard-copy-content="(in-package :rnd)
(rnd a) ; in range [0.0, a), defaults to a=1.0.
(rnd* a) ; in range [-a, a), defaults to a=1.0.
(rndrng a b) ; in range [a, b)
(rndi 10) ; random fixnum
(rndspace n a b) ; n numbers in [a, b)
(norm :mu 0.0 :sigma 1.0) ; normal distribution
(2in-circ a) ; in circle of radius a
(2in-rect w h) ; in a rectangle
(2nin-rect n w h) ; n in rectangle.
(2on-line ax ay bx by) ; point between points a and b

; do something with probability 0.1, second form is optional
(prob 0.1 (print &#34;10% hi&#34;) (print &#34;90% oh no&#34;))

; perform either form 1 or (optionally) 2
(either (print &#34;form 1&#34;) (print &#34;form 2&#34;))"><pre>(in-package :rnd)
(rnd a) <span><span>;</span> in range [0.0, a), defaults to a=1.0.</span>
(rnd* a) <span><span>;</span> in range [-a, a), defaults to a=1.0.</span>
(rndrng a b) <span><span>;</span> in range [a, b)</span>
(rndi <span>10</span>) <span><span>;</span> random fixnum</span>
(rndspace n a b) <span><span>;</span> n numbers in [a, b)</span>
(norm :mu <span>0.0</span> :sigma <span>1.0</span>) <span><span>;</span> normal distribution</span>
(2in-circ a) <span><span>;</span> in circle of radius a</span>
(2in-rect w h) <span><span>;</span> in a rectangle</span>
(2nin-rect n w h) <span><span>;</span> n in rectangle.</span>
(2on-line ax ay bx by) <span><span>;</span> point between points a and b</span>

<span><span>;</span> do something with probability 0.1, second form is optional</span>
(prob <span>0.1</span> (print <span><span>&#34;</span>10% hi<span>&#34;</span></span>) (print <span><span>&#34;</span>90% oh no<span>&#34;</span></span>))

<span><span>;</span> perform either form 1 or (optionally) 2</span>
(either (print <span><span>&#34;</span>form 1<span>&#34;</span></span>) (print <span><span>&#34;</span>form 2<span>&#34;</span></span>))</pre></div>
<p dir="auto">See <a href="https://github.com/inconvergent/weird/blob/master/src/rnd/rnd.lisp">rnd.lisp</a>, <a href="https://github.com/inconvergent/weird/blob/master/src/rnd/2rnd.lisp">2rnd.lisp</a> and
<a href="https://github.com/inconvergent/weird/blob/master/src/rnd/3rnd.lisp">3rnd.lisp</a>, for all available functions.</p>
</li>
<li>
<p dir="auto">A tool for drawing <code>svg</code> files: <code>wsvg</code>. See <a href="https://github.com/inconvergent/weird/blob/master/example/draw.lisp">draw.lisp</a>.</p>
</li>
</ol>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/inconvergent/weird/blob/master/img/sun.png"><img src="https://github.com/inconvergent/weird/raw/master/img/sun.png" alt="Sun"/></a></p>
<h2 dir="auto"><a id="user-content-weir-graphs-and-alterations" aria-hidden="true" href="#weir-graphs-and-alterations"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Weir Graphs and Alterations</h2>
<p dir="auto">The most interesting part of the <code>weir</code> graph structure is <code>alterations</code>. An
<code>alteration</code> is a change that will be applied to the structure at the end of a
given context, provided it is valid.</p>
<p dir="auto">The main motivation behind this is that this makes it possible to &#34;queue&#34; up a
number of changes that will be applied at a later time. This makes it possible
to access the state in the <code>weir</code> instance while you are creating the
alterations. Without there being any changes made to the state of the <code>weir</code>
instance while the alterations are being created. Once all alterations are
created, the valid ones will be applied.</p>
<p dir="auto">Existing alterations in <code>weir</code> are postfixed with <code>?</code>. it might look like this:</p>
<div data-snippet-clipboard-copy-content="(weir:with (wer %)
  (% (add-vert? (veq:f2&lt; 100.0 740.0))
  (% (add-edge? 1 4)))"><pre>(weir:with (wer %)
  (% (add-vert? (veq:f2&lt; <span>100.0</span> <span>740.0</span>))
  (% (add-edge? <span>1</span> <span>4</span>)))</pre></div>
<p dir="auto"><code>(% ...)</code> is used to collect alterations. They will be executed at the end of
the <code>with</code> context. If an <code>alteration</code> evaluates to <code>nil</code>, nothing will happen.</p>
<p dir="auto">Here is an example of how the forces are calculated in my <a href="https://inconvergent.net/2019/a-tangle-of-webs/" rel="nofollow">Tangle of Webs
simulation</a>:</p>
<div data-snippet-clipboard-copy-content="(veq:vdef* reciprocal-edge-forces (wer &amp;key (stp 0.1))
  (weir:with (wer %)
    ; state of wer is unaltered
    (weir:itr-edges (wer e) ; edge (v0 v1)
      ; vector from v0 to v1
      ; force is proportional to this &#34;oriented distance&#34;
      (veq:f2let ((force (veq:f2-
                           (veq:f2$ (weir:2get-verts wer e)
                                    1 0))))
        (loop for i in e and s in &#39;(-1.0 1.0)
              ; alteration is created, but nothing happens
              do (% (2move-vert? i
                      (veq:f2scale force (* s stp)))))))))
    ; alterations are applied at the end
    ; of the context"><pre>(veq:vdef* reciprocal-edge-forces (wer &amp;key (stp <span>0.1</span>))
  (weir:with (wer %)
    <span><span>;</span> state of wer is unaltered</span>
    (weir:itr-edges (wer e) <span><span>;</span> edge (v0 v1)</span>
      <span><span>;</span> vector from v0 to v1</span>
      <span><span>;</span> force is proportional to this &#34;oriented distance&#34;</span>
      (veq:f2let ((force (veq:f2-
                           (veq:f2$ (weir:2get-verts wer e)
                                    <span>1</span> <span>0</span>))))
        (<span>loop</span> for i in e <span>and</span> s in &#39;(-<span>1.0</span> <span>1.0</span>)
              <span><span>;</span> alteration is created, but nothing happens</span>
              <span>do</span> (% (2move-vert? i
                      (veq:f2scale force (* s stp)))))))))
    <span><span>;</span> alterations are applied at the end</span>
    <span><span>;</span> of the context</span></pre></div>
<p dir="auto">The important thing to note here is that for the forces to be calculated
correctly, all edge lengths must be calculated <em>before</em> the forces are applied
to the vertices.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/inconvergent/weird/blob/master/img/symbols.png"><img src="https://github.com/inconvergent/weird/raw/master/img/symbols.png" alt="Symbols"/></a></p>
<h3 dir="auto"><a id="user-content-futures-and-dependencies" aria-hidden="true" href="#futures-and-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Futures and Dependencies</h3>
<p dir="auto">You can assign a name to the result of an alteration using</p>
<div data-snippet-clipboard-copy-content="(% (add-edge? 1 3) :res :some-name?)"><pre>(% (add-edge? <span>1</span> <span>3</span>) :res :some-name?)</pre></div>
<p dir="auto">This makes it possible to create alterations that depend on the result of other
alterations:</p>
<div data-snippet-clipboard-copy-content="(in-package :weir)
(with (wer %)
  (veq:f2let ((pt (veq:f2&lt; 1f0 3f0)))
    (% (2add-vert? pt) :res :a?) ; alteration result is named :a?
    (% (2add-vert? (veq:f2&lt; 1.0 2.0)) :res :b?) ; result named :b?
    (% (add-edge? :a? :b?)))) ; depends on :a? and :b?

; all alteration results:
(print (get-alteration-result-list wer))
; or as a `hash-map`:
(print (get-alteration-result-map wer))"><pre>(in-package :weir)
(with (wer %)
  (veq:f2let ((pt (veq:f2&lt; 1f0 3f0)))
    (% (2add-vert? pt) :res :a?) <span><span>;</span> alteration result is named :a?</span>
    (% (2add-vert? (veq:f2&lt; <span>1.0</span> <span>2.0</span>)) :res :b?) <span><span>;</span> result named :b?</span>
    (% (add-edge? :a? :b?)))) <span><span>;</span> depends on :a? and :b?</span>

<span><span>;</span> all alteration results:</span>
(print (get-alteration-result-list wer))
<span><span>;</span> or as a `hash-map`:</span>
(print (get-alteration-result-map wer))</pre></div>
<p dir="auto"><code>alteration</code> names must be <code>keywords</code> that end with <code>?</code>. (There is an
exception, see <a href="#Looping">Looping</a> below.) And using the same name for multiple
alterations <em>will</em> result in undefined behaviour.</p>
<p dir="auto">As you can see, a named alteration is akin to a <em>future</em>; a reference to a
result that may or may not exist eventually. For this to work, any alteration
that depends on a future that fails (or returns <code>nil</code>) will be skipped.</p>
<p dir="auto">You can use <code>(weir:with (wer % :bd t) ...)</code> to see how an alteration is
expanded. This might make it easier to see what is going on.</p>
<p dir="auto">As en example. The <code>alteration</code>:</p>
<div data-snippet-clipboard-copy-content="(% (2move-vert? :vert?
     (veq:f2scale
       (veq:f2- (veq:f2$ (weir:2get-verts wer &#39;(1 3)) 1 0))
       1f0)))"><pre>(% (2move-vert? :vert?
     (veq:f2scale
       (veq:f2- (veq:f2$ (weir:2get-verts wer &#39;(<span>1</span> <span>3</span>)) <span>1</span> <span>0</span>))
       1f0)))</pre></div>
<p dir="auto">will be expanded to:</p>
<div data-snippet-clipboard-copy-content="(VEQ:F2LET
 ((#:OUT-F2!P53
   (VEQ:F2SCALE (VEQ:F2- (VEQ:F2$ (WEIR:2GET-VERTS WER &#39;(1 3)) 1 0)) 1.0)))
 (LET ((#:OUT-REL54 T))
   (LAMBDA (#:WER541)
     (CASE (WEIR::-IF-ALL-RESOLVED #:ALT-RES29 (LIST :VERT?))
       (:OK
        (VALUES T
                (PROGN
                 (WHEN
                     (WEIR::-VALID-VERT #:WER541
                                        (VALUES (GETHASH :VERT? #:ALT-RES29)))
                   (PROGN
                    (WEIR:2MOVE-VERT! #:WER541
                                      (VALUES (GETHASH :VERT? #:ALT-RES29))
                                      (WEIR::VAL* #:OUT-F2!P53)
                                      :REL #:OUT-REL54)
                    (VALUES (GETHASH :VERT? #:ALT-RES29)))))))
       (:BAIL (PROGN NIL (VALUES T NIL)))
       (T (VALUES NIL NIL))))))"><pre>(VEQ:F2LET
 ((<span>#:OUT-F2</span>!P53
   (VEQ:F2SCALE (VEQ:F2- (VEQ:F2$ (WEIR:2GET-VERTS WER &#39;(<span>1</span> <span>3</span>)) <span>1</span> <span>0</span>)) <span>1.0</span>)))
 (<span>LET</span> ((<span>#:OUT-REL54</span> <span>T</span>))
   (<span>LAMBDA</span> (<span>#:WER541</span>)
     (<span>CASE</span> (WEIR::-<span>IF</span>-ALL-RESOLVED <span>#:ALT-RES29</span> (<span>LIST</span> :VERT?))
       (:OK
        (VALUES <span>T</span>
                (<span>PROGN</span>
                 (<span>WHEN</span>
                     (WEIR::-VALID-VERT <span>#:WER541</span>
                                        (VALUES (GETHASH :VERT? <span>#:ALT-RES29</span>)))
                   (<span>PROGN</span>
                    (WEIR:2MOVE-VERT! <span>#:WER541</span>
                                      (VALUES (GETHASH :VERT? <span>#:ALT-RES29</span>))
                                      (WEIR::VAL* <span>#:OUT-F2</span>!P53)
                                      :REL <span>#:OUT-REL54</span>)
                    (VALUES (GETHASH :VERT? <span>#:ALT-RES29</span>)))))))
       (:BAIL (<span>PROGN</span> <span>NIL</span> (VALUES <span>T</span> <span>NIL</span>)))
       (<span>T</span> (VALUES <span>NIL</span> <span>NIL</span>))))))</pre></div>
<p dir="auto">Which won&#39;t work in its own unless <code>VERT?</code> is also defined. But you can see how
the promise resolution is handled. An how values (<code>#:OUT-REL54</code>,
<code>#:OUT-F2!P53</code>) are defined in the surrounding closure.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/inconvergent/weird/blob/master/img/scribble.png"><img src="https://github.com/inconvergent/weird/raw/master/img/scribble.png" alt="Scribbles"/></a></p>
<h3 dir="auto"><a id="user-content-looping" aria-hidden="true" href="#looping"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Looping</h3>
<p dir="auto">It is possible to use <code>alterations</code> inside loops as well. but it requires a bit
more careful consideration. Here is an example:</p>
<div data-snippet-clipboard-copy-content="(in-package :weir)
(with (wer % :db t)
  (loop for x in (math:linspace 20 -20.0 20.0) do
    (loop for z in (list 1.0 2.0) do
      (veq:f3let ((xy (veq:f3&lt; x y z)))
        ; create a distinct name
        (let ((g? (gensym &#34;g&#34;)))
          (% (add-grp? :name (gensym &#34;line&#34;)) :res g?)
          (% (2add-path?
               (veq:f$_ (list (veq:f3-
                                xy (veq:f3&lt; 1.0 8.0 (rnd:rnd)))
                              (veq:f3+
                                xy (veq:f3&lt; 1.0 2.0 (rnd:rnd)))))
               :g g?)))))))"><pre>(in-package :weir)
(with (wer % :db <span>t</span>)
  (<span>loop</span> for x in (math:linspace <span>20</span> -<span>20.0</span> <span>20.0</span>) <span>do</span>
    (<span>loop</span> for z in (<span>list</span> <span>1.0</span> <span>2.0</span>) <span>do</span>
      (veq:f3let ((xy (veq:f3&lt; x y z)))
        <span><span>;</span> create a distinct name</span>
        (<span>let</span> ((g? (gensym <span><span>&#34;</span>g<span>&#34;</span></span>)))
          (% (add-grp? :name (gensym <span><span>&#34;</span>line<span>&#34;</span></span>)) :res g?)
          (% (2add-path?
               (veq:f$_ (<span>list</span> (veq:f3-
                                xy (veq:f3&lt; <span>1.0</span> <span>8.0</span> (rnd:rnd)))
                              (veq:f3+
                                xy (veq:f3&lt; <span>1.0</span> <span>2.0</span> (rnd:rnd)))))
               :g g?)))))))</pre></div>
<h2 dir="auto"><a id="user-content-writing" aria-hidden="true" href="#writing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Writing</h2>
<p dir="auto">I have written about things related to this code at:</p>
<ul dir="auto">
<li><a href="https://inconvergent.net/2017/snek-is-not-an-acronym/" rel="nofollow">https://inconvergent.net/2017/snek-is-not-an-acronym/</a></li>
<li><a href="https://inconvergent.net/2017/a-method-for-mistakes/" rel="nofollow">https://inconvergent.net/2017/a-method-for-mistakes/</a></li>
<li><a href="https://inconvergent.net/2017/arbitrary-alterations/" rel="nofollow">https://inconvergent.net/2017/arbitrary-alterations/</a></li>
<li><a href="https://inconvergent.net/2017/grains-of-sand/" rel="nofollow">https://inconvergent.net/2017/grains-of-sand/</a></li>
<li><a href="https://inconvergent.net/2017/a-propensity-for-mistakes/" rel="nofollow">https://inconvergent.net/2017/a-propensity-for-mistakes/</a></li>
<li><a href="https://inconvergent.net/2020/future-alterations/" rel="nofollow">https://inconvergent.net/2020/future-alterations/</a></li>
<li><a href="https://inconvergent.net/2021/future-alterations-and-loops/" rel="nofollow">https://inconvergent.net/2021/future-alterations-and-loops/</a></li>
</ul>
<p dir="auto">Note that these posts refer to older iterations of the code. So some of the
things will be out of date.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/inconvergent/weird/blob/master/img/boxes.png"><img src="https://github.com/inconvergent/weird/raw/master/img/boxes.png" alt="Boxes"/></a></p>
<h2 dir="auto"><a id="user-content-on-use-and-contributions" aria-hidden="true" href="#on-use-and-contributions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>On Use and Contributions</h2>
<p dir="auto">This code is written for my personal use, and parts of it is rather
experimental. Also, it is likely to change at my whim. For this reason I don&#39;t
recommend depending on this library for anything.</p>
<p dir="auto">I release it publicly in case people find it useful or interesting. It is not,
however, intended as a collaboration/Open Source project. As such I am unlikely
to accept PRs, reply to issues, or take requests.</p>
<h2 dir="auto"><a id="user-content-installation-and-dependencies" aria-hidden="true" href="#installation-and-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation and Dependencies</h2>
<p dir="auto"><code>weird</code> depends on <a href="https://github.com/inconvergent/cl-veq">cl-veq</a>, and
it requires Quicklisp to install dependencies (which are listed in
<code>weird.asd</code>).</p>
<p dir="auto">To install and load <code>weird</code>, do:</p>

<p dir="auto">If this does not work, <code>weird</code> may not be in a place Quicklisp or ASDF can see
them. To fix this, either:</p>

<p dir="auto">For a long term solution, add the following to <code>.sbclrc</code>:</p>
<div data-snippet-clipboard-copy-content="#+quicklisp
(push &#34;/path/to/dir/containing/weird&#34; ql:*local-project-directories*)"><pre><span>#+quicklisp</span>
(push <span><span>&#34;</span>/path/to/dir/containing/weird<span>&#34;</span></span> ql:<span>*local-project-directories*</span>)</pre></div>
<p dir="auto">You will have to make sure <code>cl-veq</code> is also available in the same fashion for
any of this to work.</p>
<h3 dir="auto"><a id="user-content-tests" aria-hidden="true" href="#tests"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tests</h3>
<p dir="auto">Tests can be executed using: <code>(asdf:test-system :weird)</code>.</p>
<h2 dir="auto"><a id="user-content-thanks" aria-hidden="true" href="#thanks"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Thanks</h2>
<p dir="auto">I would like to thank:</p>
<ul dir="auto">
<li><a href="https://twitter.com/RainerJoswig" rel="nofollow">https://twitter.com/RainerJoswig</a></li>
<li><a href="https://twitter.com/jackrusher" rel="nofollow">https://twitter.com/jackrusher</a></li>
<li><a href="https://twitter.com/paulg" rel="nofollow">https://twitter.com/paulg</a></li>
<li><a href="https://twitter.com/porglezomp" rel="nofollow">https://twitter.com/porglezomp</a></li>
<li><a href="https://twitter.com/stylewarning" rel="nofollow">https://twitter.com/stylewarning</a></li>
<li><a href="https://github.com/Hellseher">https://github.com/Hellseher</a></li>
</ul>
<p dir="auto">Who have provided me with useful hints and code feedback.</p>
<p dir="auto">The ASDF config and test setup was kindly suggested and implemented by Robert
Smith (<a href="https://twitter.com/stylewarning" rel="nofollow">https://twitter.com/stylewarning</a>). Although I have made some changes
since then.</p>
<p dir="auto">Also, many thanks to <a href="https://twitter.com/xach" rel="nofollow">https://twitter.com/xach</a> for making Quicklisp.</p>
</article>
        </div></div>
  </body>
</html>
