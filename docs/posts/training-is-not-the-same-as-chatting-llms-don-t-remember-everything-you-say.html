<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://simonwillison.net/2024/May/29/training-not-chatting/">Original</a>
    <h1>Training is not the same as chatting: LLMs don’t remember everything you say</h1>
    
    <div id="readability-page-1" class="page"><div>


<div data-permalink-context="/2024/May/29/training-not-chatting/">

<p>29th May 2024</p>

<p>I’m beginning to suspect that one of the most common <a href="https://simonwillison.net/series/llm-misconceptions/">misconceptions about LLMs</a> such as ChatGPT involves how “training” works.</p>
<p>A common complaint I see about these tools is that people don’t want to even try them out because they don’t want to contribute to their training data.</p>
<p>This is by no means an irrational position to take, but it does often correspond to an incorrect mental model about how these tools work.</p>
<p>Short version: ChatGPT and other similar tools <strong>do not directly learn from and memorize everything that you say to them</strong>.</p>
<p>This can be quite unintuitive: these tools imitate a human conversational partner, and humans constantly update their knowledge based on what you say to to them. Computers have much better memory than humans, so surely ChatGPT would remember every detail of everything you ever say to it. Isn’t that what “training” means?</p>
<p>That’s not how these tools work.</p>
<h4 id="llms-are-stateless-functions">LLMs are stateless functions</h4>
<p>From a computer science point of view, it’s best to think of LLMs as stateless function calls. Given this input text, what should come next?</p>
<p>In the case of a “conversation” with a chatbot such as ChatGPT or Claude or Google Gemini, that function input consists of the current conversation (everything said by both the human and the bot) up to that point, plus the user’s new prompt.</p>
<p>Every time you start a new chat conversation, you clear the slate. Each conversation is an entirely new sequence, carried out entirely independently of previous conversations from both yourself and other users.</p>
<p>Understanding this is key to working effectively with these models. Every time you hit “new chat” you are effectively wiping the short-term memory of the model, starting again from scratch.</p>
<p>This has a number of important consequences:</p>
<ol>
<li>There is no point at all in “telling” a model something in order to improve its knowledge for future conversations. I’ve heard from people who have invested weeks of effort pasting new information into ChatGPT sessions to try and “train” a better bot. That’s a waste of time!</li>
<li>Understanding this helps explain why the “context length” of a model is so important. Different LLMs have different context lengths, expressed in terms of “tokens”—a token is about 3/4s of a word. This is the number that tells you how much of a conversation the bot can consider at any one time. If your conversation goes past this point the model will “forget” details that occurred at the beginning of the conversation.</li>
<li>Sometimes it’s a good idea to start a fresh conversation in order to deliberately reset the model. If a model starts making obvious mistakes, or refuses to respond to a valid question for some weird reason that reset might get it back on the right track.</li>
<li>Tricks like <a href="https://simonwillison.net/tags/rag/">Retrieval Augmented Generation</a> and <a href="https://simonwillison.net/2024/Feb/14/memory-and-new-controls-for-chatgpt/">ChatGPT’s “memory”</a> make sense only once you understand this fundamental limitation to how these models work.</li>
<li>If you’re excited about local models because you can be certain there’s no way they can train on your data, you’re mostly right: you can run them offline and audit your network traffic to be absolutely sure your data isn’t being uploaded to a server somewhere. But...</li>
<li>... if you’re excited about local models because you want something on your computer that you can chat to and it will learn from you and then better respond to your future prompts, that’s probably not going to work.</li>
</ol>
<h4 id="so-what-is-training-then-">So what is “training” then?</h4>
<p>When we talk about model training, we are talking about the process that was used to build these models in the first place.</p>
<p>As a big simplification, there are two phases to this. The first is to pile in several TBs of text—think all of Wikipedia, a scrape of a large portion of the web, books, newspapers, academic papers and more—and spend months of time and potentially millions of dollars in electricity crunching through that “pre-training” data identifying patterns in how the words relate to each other.</p>
<p>This gives you a model that can complete sentences, but not necessarily in a way that will delight and impress a human conversational partner. The second phase aims to fix that—this can incorporate instruction tuning or Reinforcement Learning from Human Feedback (RLHF) which has the goal of teaching the model to pick the best possible sequences of words to have productive conversations.</p>
<p>The end result of these phases is the model itself—an enormous (many GB) blob of floating point numbers that capture both the statistical relationships between the words and some version of “taste” in terms of how best to assemble new words to reply to a user’s prompts.</p>
<p>Once trained, the model remains static and unchanged—sometimes for months or even years.</p>
<p>Here’s <a href="https://www.reddit.com/r/ClaudeAI/comments/1c3f1yc/comment/kzj7n4s/">a note</a> from Jason D. Clinton, an engineer who works on Claude 3 at Anthropic:</p>
<blockquote>
<p>The model is stored in a static file and loaded, continuously, across 10s of thousands of identical servers each of which serve each instance of the Claude model. The model file never changes and is immutable once loaded; every shard is loading the same model file running exactly the same software.</p>
</blockquote>
<p>These models don’t change very often!</p>
<h4 id="reasons-to-worry-anyway">Reasons to worry anyway</h4>
<p>A frustrating thing about this issue is that it isn’t actually possible to confidently state “don’t worry, ChatGPT doesn’t train on your input”.</p>
<p>Many LLM providers have terms and conditions that allow them to improve their models based on the way you are using them. Even when they have opt-out mechanisms these are often opted-in by default.</p>
<p>When OpenAI <a href="https://openai.com/policies/terms-of-use/">say</a> “We may use Content to provide, maintain, develop, and improve our Services” it’s not at all clear what they mean by that!</p>
<p>Are they storing up everything anyone says to their models and dumping that into the training run for their next model versions every few months?</p>
<p>I don’t think it’s that simple: LLM providers don’t want random low-quality text or privacy-invading details making it into their training data. But they are notoriously secretive, so who knows for sure?</p>
<p>The opt-out mechanisms are also pretty confusing. OpenAI try to make it as clear as possible that they won’t train on any content submitted through their API (so you had better understand what an “API” is), but lots of people don’t believe them! I wrote about <a href="https://simonwillison.net/2023/Dec/14/ai-trust-crisis/">the AI trust crisis</a> last year: the pattern where many people actively disbelieve model vendors and application developers (such as Dropbox and Slack) that claim they don’t train models on private data.</p>
<p>People also worry that those terms might change in the future. There are options to protect against that: if you’re spending enough money you can <a href="https://twitter.com/therealadamg/status/1794693810204909729">sign contracts with OpenAI</a> and other vendors that freeze the terms and conditions.</p>
<p>If your mental model is that LLMs remember and train on all input, it’s much easier to assume that developers who claim they’ve disabled that ability may not be telling the truth. If you tell your human friend to disregard a juicy piece of gossip you’ve mistakenly passed on to them you know full well that they’re not going to forget it!</p>
<p>The other major concern is the same as with any cloud service: it’s reasonable to assume that your prompts are still logged for a period of time, for compliance and abuse reasons, and if that data is logged there’s always a chance of exposure thanks to an accidental security breach.</p>

<h4 id="memory-features">What about “memory” features?</h4>

<p>To make things even more confusing, some LLM tools are introducing features that attempt to work around this limitation.</p>

<p>ChatGPT recently added a <a href="https://help.openai.com/en/articles/8590148-memory-faq">memory feature</a> where it can “remember” small details and use them in follow-up conversations.</p>

<p>As with so many LLM features this is a relatively simple prompting trick: during a conversation the bot can call a mechanism to record a short note—your name, is a preference you have expressed—which will then be invisibly included in the chat context passed in future conversations.</p>

<p>You can review (and modify) the list of remembered fragments at any time, and ChatGPT shows a visible UI element any time it adds to its memory.</p>

<h4 id="bad-policy-based-on-bad-mental-models">Bad policy based on bad mental models</h4>
<p>One of the most worrying results of this common misconception concerns people who make policy decisions for how LLM tools should be used.</p>
<p>Does your company ban all use of LLMs because they don’t want their private data leaked to the model providers?</p>
<p>They’re not 100% wrong—see <a href="https://simonwillison.net/2024/May/29/training-not-chatting/#reasons-to-worry-anyway">reasons to worry anyway</a>—but if they are acting based on the idea that everything said to a model is instantly memorized and could be used in responses to other users they’re acting on faulty information.</p>
<p>Even more concerning is what happens with lawmakers. How many politicians around the world are debating and voting on legislation involving these models based on a science fiction idea of what they are and how they work?</p>
<p>If people believe ChatGPT is a machine that instantly memorizes and learns from everything anyone says to it there is a very real risk they will support measures that address invented as opposed to genuine risks involving this technology.</p>
</div>



</div></div>
  </body>
</html>
