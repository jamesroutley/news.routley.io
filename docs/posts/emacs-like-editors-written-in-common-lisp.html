<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.cliki.net/cl-emacs">Original</a>
    <h1>Emacs-like editors written in Common Lisp</h1>
    
    <div id="readability-page-1" class="page"><div id="article"><p>Various people have proposed an <a href="https://www.cliki.net/emacs">emacs</a>-like editor written in Common
Lisp.  This page collects together a few possibilities</p><h2>Editors and code</h2>
<ul><li> <a href="https://www.cliki.net/Lem">Lem</a> (active as of 2022). An editor that works out of the box for Common Lisp but also for more languages thanks to its LSP mode (Python, Rust, Go, Java, Dart, Nim, HTML… with also a directory, markdown, SQL, shell… mode). It works on the terminal and in an experimental Electron front-end. More are in the works. It lacks docstrings and documentation, but its gitter chat is somewhat active and different people showed interest in helping. It has a Vim layer.<p>GitHub: <a href="https://github.com/lem-project/lem/">https://github.com/lem-project/lem/</a>.</p><p>It is an easy to install CL editor and REPL, so it&#39;s worth checking out.</p><p><img width="800px" src="https://lispcookbook.github.io/cl-cookbook/assets/lem-terminal.png"/>
</p></li><li> <a href="https://www.cliki.net/LispWorks">LispWorks</a> is a proprietary implementation that comes with its own full-fledged, GUI editor, originally based on Hemlock. <p>You can find a review of the LispWorks editor on the Common Lisp Cookbook: <a href="https://lispcookbook.github.io/cl-cookbook/lispworks.html">https://lispcookbook.github.io/cl-cookbook/lispworks.html</a>.</p><p><img src="https://lispcookbook.github.io/cl-cookbook/assets/lispworks/two-sided-view.png" alt="The LispWorks editor, showing a Lisp REPL with autocompletion on the left, and Lisp code on a side panel on the right" width="1200px"/></p></li><li> <a href="https://www.cliki.net/Climacs">Climacs</a> is an implementation of the Emacs text editor in Common Lisp with some very interesting features, like incremental re-parsing of the buffer according to syntax rules and automatic indentation of lisp code. At the moment, it is also the most actively developed of the cl-emacsen on this page. Climacs is based on the same philosophy of dividing functions and user commands as Hemlock.</li>
<li>
<a href="https://www.cliki.net/Hemlock">Hemlock</a> is an emacslike editor that comes with CMUCL, using
<a href="https://www.cliki.net/CLX">CLX</a>.  Some things are different from modern (X)Emacs, and said to be
more akin to older Emacsen. A lot is similar, though.  The major
difference that users will first note is that M-x commands are
&#34;Ordinary English Words&#34; rather than
&#34;hyphenated-lowercase-lisp-function-names&#34;.  This has a lot to do with
how commands are implemented as something separate from &#39;interactive
functions&#39; (ie, functions which call the interactive macro to add
themselves to the list of available commands).  The ZWEI/Hemlock
design is actually much cleaner and clearly separates functions from
user commands.  To the user, the difference is that they no longer
have to remember arbitrary function names, but instead just remember
ordinary &#39;names&#39; for operations.  As far as keybindings go most of the
ordinary Emacs bindings (movement, simple editing) are the same, but
more complicated commands (like code reformatting) are going to be
different.</li>
<li>
<a href="https://www.cliki.net/Portable%20Hemlock">Portable Hemlock</a> (phemlock) is a fork of Hemlock that&#39;s
intended to run on any ANSI CL that has CLX.  Also includes an elisp
emulation package from Ingvar Mattsson: note that this is not the
same as the CLOCC package below</li>
<li>Goatee is the text editing component for <a href="https://www.cliki.net/McCLIM">McCLIM</a>.  There&#39;s an
overlap between McCLIM and phemlock developers, so it&#39;s not impossible
that Phemlock will become <a href="https://www.cliki.net/CLIM">CLIM</a>-based and combine with <a href="https://www.cliki.net/Goatee">Goatee</a></li>
<li> <a href="https://www.cliki.net/CLOCC">CLOCC</a> contains a package 
(<a href="http://clocc.hg.sourceforge.net/hgweb/clocc/clocc/file/tip/src/cllib/elisp.lisp">elisp.lisp</a>)
that implements some part of elisp in CL.</li>
<li> <a href="http://web.archive.org/web/20070920191914/http://www.emmett.ca/~sabetts">LiCE</a> (<a href="https://repo.or.cz/w/lice.git">repository on repo.or.cz</a>)
shows beginnings of another CL-based Emacs which can also run atop of
<a href="https://www.cliki.net/Movitz">Movitz</a>. </li>
<li> CEDAR<p>At <a href="https://emacsconf.org/2021/talks/build/">EmacsConf 2021</a>, Fermin MF presented CEDAR as an Emacs developed in Common Lisp.</p><p>Repository: <a href="https://gitlab.com/sasanidas/cedar">https://gitlab.com/sasanidas/cedar</a></p><p>Description in repository: &#34;CEDAR is an advance interactive development environment aiming to be Emacs compatible with all the features that come with it.&#34;
</p></li>
</ul><h2>(Perceived) problems with the existing GNU Emacs</h2><p>The primary problem with GNU Emacs is that Emacs Lisp is simply not great compared to Common Lisp.</p><ul>
<li> Single-threaded
</li>
<li> Slow GC
</li>
<li> Characters implemented as integers
</li>
<li> Dynamic scope everywhere (while conceding that it&#39;s essential to have
in <i>some</i> places)
</li>
</ul><h2> Design ideas </h2>
<ul>
<li> Craig Finseth&#39;s book, <a href="http://www.finseth.com/craft/">The Craft of Text
Editing</a>, available in HTML form online.  &#34;Required reading about
the implementation of Emacs-type text editors.&#34;</li>
<li>If you&#39;re looking for a starting point for a new Emacs design you might like to take a look at Deuce, an Emacs like editor written in the Dylan programming language. Dylan has a CLOS style object model and it shouldn&#39;t be too difficult to port Deuce to Common Lisp. It separates GUI from editor code and has other interesting features. For details, see Scott Mckay&#39;s <a href="https://groups.google.com/g/comp.lang.dylan/c/3uuUb3Z9pAc/m/6NbE9gYpeAIJ">post</a> (he is the author of Deuce). The source code to Deuce is available from <a href="https://github.com/dylan-lang/opendylan/tree/master/sources/deuce">https://github.com/dylan-lang/opendylan/tree/master/sources/deuce</a>.  Features:<ul>
<li>Lines are polymorphic. They can contain text, graphics, etc.</li>
<li>There is the concept of &#39;Source containers&#39; and &#39;source sections&#39;. A buffer is composed of &#39;source sections&#39; which can come from different contains. In a nutshell this means you can have a single buffer where different parts of that buffer come from different files. For example, Deuce uses this to display a single buffer containing all the methods for a generic function. Each method definition in the buffer comes from a different source file. Editing that section of the buffer edits the original file.</li>
<li>The capability for graphics is included.</li>
<li>A simple presentation framework is part of the design. Allowing &#39;live&#39; objects in the editor.</li>
<li>GUI presentation is separated from editor functionality allowing different GUI back ends to be used</li>
</ul></li>
<li>An interesting approach for a &#34;CL-Emacs&#34; would be for Emacs to be implemented as a set of processes, some being &#34;display engines,&#34; others being loosely characterized as &#34;buffer engines.&#34;  Supposing Gnus had its own process, it might even block, and not slow down the other things going on. Erik Naggum had similar <a href="https://groups.google.com/g/comp.lang.lisp/c/Dq52-8B3Vk4/m/aMawHIHirDEJ">ideas</a>.</li>
<li> Kent Pitman describes some interesting features of Zmacs, the
Lisp machine editor <a href="https://groups.google.com/g/comp.lang.lisp/c/XpvUwF2xKbk/m/Xz4Mww0ZwLIJ">here</a>.</li>
<li> <a href="http://massemanet.github.io/distel/">Distel</a> (&#34;distributed emacs lisp&#34;), an extension of Emacs Lisp with the Erlang language&#39;s essential concurrency constructs, plus a (fully non-blocking) implementation of Erlang&#39;s inter-node distribution protocol. Also <a href="https://github.com/rhaberkorn/ermacs">Ermacs</a>, a fully concurrent Emacs written in Erlang (both core and extensions).</li>
</ul><h2>Other resources</h2><ul>
<li> The <a href="https://www.cliki.net/comp.lang.lisp">comp.lang.lisp</a> thread that led to the creation of this page: <a href="https://groups.google.com/g/comp.lang.lisp/c/V7yiSIfLEis/m/sIhFE4M5yk4J">https://groups.google.com/g/comp.lang.lisp/c/V7yiSIfLEis/m/sIhFE4M5yk4J</a></li>
<li> There is a (mostly dormant) mailing list for discussing CL-Emacs. Details on the list are available at <strike>http://lists.unlambda.com/mailman/listinfo/cl-emacs</strike>.</li>
<li>
<a href="http://www.gnu.org/software/emacs/emacs-paper.html">emacs paper</a></li>
<li>
<a href="http://www.lisp.se/emacs-cl/">Emacs Common Lisp</a> - the other way around.  CL implemented in Emacs Lisp.
</li>
</ul></div></div>
  </body>
</html>
