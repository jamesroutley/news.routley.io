<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.souzatharsis.com/tamingLLMs/markdown/toc.html">Original</a>
    <h1>Taming LLMs – A Practical Guide to LLM Pitfalls with Open Source Software</h1>
    
    <div id="readability-page-1" class="page"><div role="main" v-pre="">
            
  <section id="taming-llms">

<section id="a-practical-guide-to-llm-pitfalls-with-open-source-software">
<h2><em>A Practical Guide to LLM Pitfalls with Open Source Software</em><a href="#a-practical-guide-to-llm-pitfalls-with-open-source-software" title="Permalink to this heading">¶</a></h2>
<p>Abstract: <em>The current discourse around Large Language Models (LLMs) tends to focus heavily on their capabilities while glossing over fundamental challenges. Conversely, this book takes a critical look at the key limitations and implementation pitfalls that engineers and technical product managers encounter when building LLM-powered applications. Through practical Python examples and proven open source solutions, it provides an introductory yet comprehensive guide for navigating these challenges. The focus is on concrete problems - from handling unstructured output to managing context windows - with reproducible code examples and battle-tested open source tools. By understanding these pitfalls upfront, readers will be better equipped to build products that harness the power of LLMs while sidestepping their inherent limitations.</em></p>
</section>
<section id="chapter-1-introduction">
<h2>Chapter 1: Introduction<a href="#chapter-1-introduction" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>1.1 Core Challenges We’ll Address</p></li>
<li><p>1.2 A Practical Approach</p></li>
<li><p>1.3 A Note on Perspective</p></li>
<li><p>1.4 Who This Book Is For</p></li>
<li><p>1.5 Outcomes</p></li>
<li><p>1.6 Prerequisites</p></li>
<li><p>1.7 Setting Up Your Environment</p>
<ul>
<li><p>1.7.1 Python Environment Setup</p></li>
<li><p>1.7.2 API Keys Configuration</p></li>
<li><p>1.7.3 Code Repository</p></li>
<li><p>1.7.4 Troubleshooting Common Issues</p></li>
</ul>
</li>
<li><p>1.8 About the Author(s)</p></li>
</ul>
</section>
<section id="chapter-2-wrestling-with-structured-output">
<h2>Chapter 2: Wrestling with Structured Output<a href="#chapter-2-wrestling-with-structured-output" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>2.1 The Structured Output Challenge</p></li>
<li><p>2.2 Problem Statement</p></li>
<li><p>2.3 Solutions</p>
<ul>
<li><p>2.3.1 Strategies</p></li>
<li><p>2.3.2 Techniques and Tools</p>
<ul>
<li><p>2.3.2.1 One-Shot Prompts</p></li>
<li><p>2.3.2.2 Structured Output with Provider-Specific APIs</p>
<ul>
<li><p>2.3.2.2.1 JSON Mode</p></li>
<li><p>2.3.2.2.2 Structured Output Mode</p></li>
</ul>
</li>
<li><p>2.3.2.3 LangChain</p></li>
<li><p>2.3.2.4 Outlines</p>
<ul>
<li><p>2.3.2.4.1 Multiple Choice Generation</p></li>
<li><p>2.3.2.4.2 Pydantic model</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>2.4 Discussion</p>
<ul>
<li><p>2.4.1 Comparing Solutions</p></li>
<li><p>2.4.2 Best Practices</p></li>
<li><p>2.4.3 Research &amp; Ongoing Debate</p></li>
</ul>
</li>
<li><p>2.5 Conclusion</p></li>
<li><p>2.6 Acknowledgements</p></li>
<li><p>2.7 References</p></li>
</ul>
</section>
<section id="chapter-3-input-size-and-length-limitations">
<h2>Chapter 3: Input Size and Length Limitations<a href="#chapter-3-input-size-and-length-limitations" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>3.1 Context Window Constraints</p></li>
<li><p>3.2 Handling Long Inputs</p></li>
<li><p>3.3 Managing Token Limits</p></li>
<li><p>3.4 Chunking Strategies</p></li>
<li><p>3.5 Implementation Patterns</p></li>
<li><p>3.6 Testing Long-form Content</p></li>
</ul>
</section>
<section id="chapter-4-output-size-and-length-limitations">
<h2>Chapter 4: Output Size and Length Limitations<a href="#chapter-4-output-size-and-length-limitations" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>4.1 What are Token Limits?</p></li>
<li><p>4.2 Problem Statement</p></li>
<li><p>4.3 Content Chunking with Contextual Linking</p>
<ul>
<li><p>4.3.1 Generating long-form content</p></li>
<li><p>4.3.2 Step 1: Chunking the Content</p></li>
<li><p>4.3.3 Step 2: Writing the Base Prompt Template</p></li>
<li><p>4.3.4 Step 3: Constructing Dynamic Prompt Parameters</p></li>
<li><p>4.3.5 Step 4: Generating the Report</p></li>
<li><p>4.3.6 Example Usage</p></li>
</ul>
</li>
<li><p>4.4 Discussion</p></li>
<li><p>4.5 Implications</p></li>
<li><p>4.6 Future Considerations</p></li>
<li><p>4.7 Conclusion</p></li>
<li><p>4.8 References</p></li>
</ul>
</section>
<section id="chapter-5-the-evals-gap">
<h2>Chapter 5: The Evals Gap<a href="#chapter-5-the-evals-gap" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>5.1 Non-Deterministic Machines</p>
<ul>
<li><p>5.1.1 Temperature and Sampling</p></li>
<li><p>5.1.2 The Temperature Spectrum</p></li>
</ul>
</li>
<li><p>5.2 Emerging Properties</p></li>
<li><p>5.3 Problem Statement</p></li>
<li><p>5.4 Evals Design</p>
<ul>
<li><p>5.4.1 Conceptual Overview</p></li>
<li><p>5.4.2 Design Considerations</p></li>
<li><p>5.4.3 Key Components</p></li>
<li><p>5.4.4 Metrics</p>
<ul>
<li><p>5.4.4.1 Working Example</p></li>
<li><p>5.4.4.2 Considerations</p></li>
</ul>
</li>
<li><p>5.4.5 Evaluators</p>
<ul>
<li><p>5.4.5.1 Model-Based Evaluation</p></li>
<li><p>5.4.5.2 Human-Based Evaluation</p></li>
</ul>
</li>
<li><p>5.4.6 Benchmarks &amp; Leaderboards</p></li>
<li><p>5.4.7 Tools</p></li>
</ul>
</li>
<li><p>5.5 References</p></li>
</ul>
</section>
<section id="chapter-6-hallucination-the-reality-gap">
<h2>Chapter 6: Hallucination: The Reality Gap<a href="#chapter-6-hallucination-the-reality-gap" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>6.1 Understanding Hallucination Types</p></li>
<li><p>6.2 Detection Strategies</p></li>
<li><p>6.3 Grounding Techniques</p></li>
<li><p>6.4 Retrieval-Augmented Generation (RAG)</p>
<ul>
<li><p>6.4.1 Context Selection</p></li>
<li><p>6.4.2 Indexing Strategies</p></li>
<li><p>6.4.3 Vector Stores</p></li>
<li><p>6.4.4 Chunking Methods</p></li>
</ul>
</li>
<li><p>6.5 Practical Implementation</p>
<ul>
<li><p>6.5.1 Building a RAG Pipeline</p></li>
<li><p>6.5.2 Testing and Validation</p></li>
</ul>
</li>
</ul>
</section>
<section id="chapter-7-safety-concerns">
<h2>Chapter 7: Safety Concerns<a href="#chapter-7-safety-concerns" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>7.1 Common Safety Issues</p></li>
<li><p>7.2 Implementation of Safety Guards</p></li>
<li><p>7.3 Content Filtering</p></li>
<li><p>7.4 Input Validation</p></li>
<li><p>7.5 Output Sanitization</p></li>
<li><p>7.6 Monitoring and Alerts</p></li>
<li><p>7.7 Best Practices</p></li>
</ul>
</section>
<section id="chapter-8-the-cost-factor">
<h2>Chapter 8: The Cost Factor<a href="#chapter-8-the-cost-factor" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>8.1 Understanding LLM Costs</p></li>
<li><p>8.2 Token Optimization</p></li>
<li><p>8.3 Caching Strategies</p>
<ul>
<li><p>8.3.1 Implementation Patterns</p></li>
<li><p>8.3.2 Cache Invalidation</p></li>
</ul>
</li>
<li><p>8.4 Output Prediction Techniques</p></li>
<li><p>8.5 Cost Monitoring</p></li>
<li><p>8.6 Optimization Strategies</p></li>
</ul>
</section>
<section id="chapter-9-breaking-free-from-cloud-providers">
<h2>Chapter 9: Breaking Free from Cloud Providers<a href="#chapter-9-breaking-free-from-cloud-providers" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>9.1 The Vendor Lock-in Problem</p></li>
<li><p>9.2 Self-hosting Solutions</p>
<ul>
<li><p>9.2.1 Llama Implementation</p></li>
<li><p>9.2.2 Llamafile Setup and Usage</p></li>
<li><p>9.2.3 Ollama Deployment</p></li>
</ul>
</li>
<li><p>9.3 Performance Considerations</p></li>
<li><p>9.4 Cost Analysis</p></li>
<li><p>9.5 Migration Strategies</p></li>
</ul>
</section>
<section id="appendix-a-tools-and-resources">
<h2>Appendix A: Tools and Resources<a href="#appendix-a-tools-and-resources" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>A.1 Evaluation Tools</p></li>
<li><p>A.2 Monitoring Solutions</p></li>
<li><p>A.3 Open Source Models</p></li>
<li><p>A.4 Community Resources</p></li>
</ul>
</section>
<section id="citation">
<h2>Citation<a href="#citation" title="Permalink to this heading">¶</a></h2>
<p><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="CC BY-NC-SA 4.0" src="https://licensebuttons.net/l/by-nc-sa/4.0/88x31.png"/></a></p>
<div><div><pre><span></span><span>@misc</span><span>{</span><span>tharsistpsouza2024tamingllms</span><span>,</span>
  <span>author</span> <span>=</span> <span>{</span><span>Tharsis</span> <span>T</span><span>.</span> <span>P</span><span>.</span> <span>Souza</span><span>},</span>
  <span>title</span> <span>=</span> <span>{</span><span>Taming</span> <span>LLMs</span><span>:</span> <span>A</span> <span>Practical</span> <span>Guide</span> <span>to</span> <span>LLM</span> <span>Pitfalls</span> <span>with</span> <span>Open</span> <span>Source</span> <span>Software</span><span>},</span>
  <span>year</span> <span>=</span> <span>{</span><span>2024</span><span>},</span>
  <span>journal</span> <span>=</span> <span>{</span><span>GitHub</span> <span>repository</span><span>},</span>
  <span>url</span> <span>=</span> <span>{</span><span>https</span><span>:</span><span>//</span><span>github</span><span>.</span><span>com</span><span>/</span><span>souzatharsis</span><span>/</span><span>tamingLLMs</span><span>)</span>
<span>}</span>
</pre></div>
</div>
</section>

</section>

    
    

          </div></div>
  </body>
</html>
