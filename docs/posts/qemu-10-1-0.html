<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://wiki.qemu.org/ChangeLog/10.1">Original</a>
    <h1>QEMU 10.1.0</h1>
    
    <div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div><p>Release schedule: <a href="https://www.fractalkitty.com/Planning/10.1" title="Planning/10.1">Planning/10.1</a>. 
</p>
<mw:tocplace></mw:tocplace>
<h2><span id="System_emulation">System emulation</span></h2>
<h3><span id="Removed_features_and_incompatible_changes">Removed features and incompatible changes</span></h3>
<p>Consult the <a rel="nofollow" href="https://qemu-project.gitlab.io/qemu/about/removed-features.html">&#39;Removed features&#39;</a> page for details of suggested replacement functionality.
</p>
<h3><span id="New_deprecated_options_and_features">New deprecated options and features</span></h3>
<p>Consult the <a rel="nofollow" href="https://qemu-project.gitlab.io/qemu/about/deprecated.html">&#34;Deprecated Features&#34;</a> chapter of the QEMU System Emulation User&#39;s Guide for further details of the deprecations and their suggested replacements.
</p>
<h3><span id="68k">68k</span></h3>
<h3><span id="Alpha">Alpha</span></h3>
<h3><span id="Arm">Arm</span></h3>
<ul><li>New CPU architectural features emulated:
<ul><li>FEAT_SME2</li>
<li>FEAT_SME2p1</li>
<li>FEAT_SME_B16B16</li>
<li>FEAT_SME_F16F16</li>
<li>FEAT_SVE_B16B16</li>
<li>FEAT_SVE2p1</li></ul></li></ul>
<ul><li>The &#39;highbank&#39; and &#39;midway&#39; board models have been deprecated</li>
<li>New board model &#39;max78000fthr&#39; (Analog Devices max78000 Cortex-M4 board)</li>
<li>CXL can now be used on the Arm &#39;virt&#39; board</li>
<li>The &#39;virt&#39; board now supports using KVM nested virtualization via &#39;virtualization=on&#39; with a sufficiently new host kernel</li>
<li>The &#39;virt&#39; board now supports ACPI PCI hotplug and acpi-index for PCI devices. It can be turned on with &#39;-global acpi-ged.acpi-pci-hotplug-with-bridge-support=on&#39;</li>
<li>Added FW support to the AST2700 EVB machines</li>
<li>Introduced a new multi-SoC &#39;ast2700fc&#39; machine</li>
<li>Introduced a new Meta &#39;catalina-bmc&#39; machine</li>
<li>Introduced a new NVIDIA &#39;gb200-bmc&#39; machine</li>
<li>Deprecated &#39;ast2700a0-evb&#39; machine</li></ul>
<h3><span id="AVR">AVR</span></h3>
<h3><span id="Hexagon">Hexagon</span></h3>
<h3><span id="HPPA">HPPA</span></h3>
<ul><li>Fix &amp; improve floating-point exception (FPE) emulation in user- and system-mode</li></ul>
<h3><span id="LoongArch">LoongArch</span></h3>
<ul><li>Add kernel irqchip support</li>
<li>Fix big endian support with MCFG table</li>
<li>Fix start fail with smp cpu &lt; smp maxcpus on KVM</li>
<li>inform guest of kvm</li>
<li>add check for fcond</li>
<li>Fix [X]VLDI raising exception incorrectly</li></ul>
<h3><span id="Microblaze">Microblaze</span></h3>
<ul><li>The endianness of the petalogix_s3adsp1800 machine can now be toggled via the &#34;endianness&#34; property of the machine</li>
<li>The big-endian variants of ml605 and xlnx-zynqmp-pmu machines have been removed. The machines always run in little endian mode now in the qemu-system-microblaze binary.</li>
<li>The little-endian binary &#34;qemu-system-microblazeel&#34; binary is deprecated now and will be removed in the future.</li></ul>
<h3><span id="MIPS">MIPS</span></h3>
<ul><li>Fix for BSOD when booting Windows NT MIPS on magnum machine (issue <a rel="nofollow" href="https://gitlab.com/qemu-project/qemu/-/issues/2464">#2464</a>)</li></ul>
<h3><span id="OpenRISC">OpenRISC</span></h3>
<h3><span id="PowerPC">PowerPC</span></h3>
<h3><span id="Renesas_RX">Renesas RX</span></h3>
<h3><span id="Renesas_SH_.28sh4.29"></span><span id="Renesas_SH_(sh4)">Renesas SH (sh4)</span></h3>
<h3><span id="RISC-V">RISC-V</span></h3>
<h4><span id="ISA_and_Extensions">ISA and Extensions</span></h4>
<ul><li>Use tail pseudoinstruction for calling tail</li>
<li>Fix some RISC-V vector instruction corner cases</li>
<li>Remove capital &#39;Z&#39; CPU properties</li>
<li>Support atomic instruction fetch (Ziccif)</li>
<li>Add max_satp_mode from host cpu</li>
<li>Extend and configure PMP region count</li>
<li>Add a property to set vill bit on reserved usage of vsetvli instruction</li>
<li>Add Svrsw60t59b extension support</li></ul>
<h4><span id="Machines">Machines</span></h4>
<ul><li>Add support for RIMT to virt machine ACPI</li>
<li>Improve Microchip Polarfire SoC customization</li>
<li>Add Kunminghu CPU and platform</li>
<li>Update FADT and MADT versions in ACPI tables</li></ul>
<h4><span id="Fixes_and_Misc">Fixes and Misc</span></h4>
<ul><li>Don&#39;t allow PMP RLB to bypass rule privileges</li>
<li>Fix checks on writes to pmpcfg in Smepmp MML mode</li>
<li>Fix endless translation loop on big endian systems</li>
<li>Fix write_misa vs aligned next_pc</li>
<li>KVM CSR fixes</li>
<li>sstc extension fixes</li>
<li>Fix zama16b order in isa_edata_arr</li>
<li>Profile handling fixes</li>
<li>Extend PMP region up to 64</li>
<li>Add missing named features</li>
<li>Fix PPN field of Translation-reponse register</li>
<li>Fix fcvt.s.bf16 NaN box checking</li>
<li>Avoid infinite delay of async xmit function</li>
<li>Fix missing exit TB flow for ldff_trans</li>
<li>Fix migration failure when aia is configured as aplic-imsic</li>
<li>Fix MEPC/SEPC bit masking for IALIGN</li>
<li>Fix pmp range wraparound on zero</li>
<li>Fix target register read when source is inactive</li>
<li>Add riscv_hwprobe entry to linux-user strace list</li>
<li>Fix exception type when VU accesses supervisor CSRs</li>
<li>Restrict mideleg/medeleg/medelegh access to S-mode harts</li>
<li>Restrict midelegh access to S-mode harts</li></ul>
<h3><span id="s390x">s390x</span></h3>
<ul><li>Control program identification data can now be retrieved via QOM (see <a rel="nofollow" href="https://gitlab.com/qemu-project/qemu/-/commit/f345978f24be">https://gitlab.com/qemu-project/qemu/-/commit/f345978f24be</a> for details)</li>
<li>Deprecated machine types older than v4.1 have been removed - please update to newer machine types if necessary</li></ul>
<h3><span id="SPARC">SPARC</span></h3>
<h3><span id="Tricore">Tricore</span></h3>
<h3><span id="x86">x86</span></h3>
<ul><li>Vendor-specific CPUID bits are left out when the guest CPU&#39;s vendor does not define them.</li></ul>
<h4><span id="KVM">KVM</span></h4>
<ul><li>Support for TDX (requires Linux 6.16 or newer).</li>
<li>Support for starting a TDX or SEV-SNP virtual machine from an IGVM file.</li></ul>
<h4><span id="TCG">TCG</span></h4>
<ul><li>Support for the TSS trap bit</li></ul>
<h3><span id="Xtensa">Xtensa</span></h3>
<h3><span id="Device_emulation_and_assignment">Device emulation and assignment</span></h3>
<h4><span id="ACPI_.2F_SMBIOS"></span><span id="ACPI_/_SMBIOS">ACPI / SMBIOS</span></h4>
<h4><span id="Audio">Audio</span></h4>
<h4><span id="Block_devices">Block devices</span></h4>
<h4><span id="Graphics">Graphics</span></h4>
<h4><span id="Hyper-V">Hyper-V</span></h4>
<h4><span id="I2C">I2C</span></h4>
<h4><span id="Input_devices">Input devices</span></h4>
<h4><span id="IPMI">IPMI</span></h4>
<h4><span id="Multi-process_QEMU">Multi-process QEMU</span></h4>
<h4><span id="Network_devices">Network devices</span></h4>
<ul><li>passt networking backend</li></ul>
<h4><span id="NVDIMM">NVDIMM</span></h4>
<h4><span id="NVMe">NVMe</span></h4>
<h4><span id="PCI.2FPCIe"></span><span id="PCI/PCIe">PCI/PCIe</span></h4>
<ul><li>ACPI PCI hotplug and acpi-index for PCI devices are now also supported by ARM &#39;virt&#39; machine when using -global acpi-ged.acpi-pci-hotplug-with-bridge-support=on&#39;</li></ul>
<h4><span id="SCSI">SCSI</span></h4>
<h4><span id="SD_card">SD card</span></h4>
<h4><span id="SMBIOS">SMBIOS</span></h4>
<h4><span id="TPM">TPM</span></h4>
<h4><span id="UFS">UFS</span></h4>
<h4><span id="USB">USB</span></h4>
<h4><span id="VFIO">VFIO</span></h4>
<ul><li>Initial support for CoCo guest-memfd memory backends</li>
<li>Updated IGD passthrough documentation</li>
<li>Fixed L2 crash on pseries machines</li>
<li>Added automatic enablement of OpRegion for IGD passthrough</li>
<li>Fixed OpRegion detection in IGD passthrough</li>
<li>Added support to report vfio-ap configuration changes</li>
<li>Added support for vfio-user client device</li>
<li>Added live update (CPR) support</li>
<li>Added support for VFIO migration with multifd on aarch64</li>
<li>Introduced a property to override a device PCI class code</li>
<li>Support for VFIO on TDX and SNP virtual machines.</li></ul>
<h4><span id="virtio">virtio</span></h4>
<ul><li>virtio-gpu: allow injection of virtio-gpu EDID name</li></ul>
<h4><span id="vDPA">vDPA</span></h4>
<h4><span id="Xen">Xen</span></h4>
<h4><span id="fw_cfg">fw_cfg</span></h4>
<h4><span id="9pfs">9pfs</span></h4>
<ul><li>Fixes for file descriptor reclaiming algorithm (i.e. when running towards host&#39;s allowed limit of max. open file descriptors).</li></ul>
<ul><li>Additional fixes on use-after-unlink idiom (i.e. client operations on a file descriptor after file has been removed).</li></ul>
<h4><span id="virtiofs">virtiofs</span></h4>
<h4><span id="Semihosting">Semihosting</span></h4>
<h3><span id="Audio_2">Audio</span></h3>
<ul><li>alsa: Set &#34;try-poll&#34; to false by default</li>
<li>add float sample endianness converters</li></ul>
<h3><span id="Character_devices">Character devices</span></h3>
<h3><span id="Crypto_subsystem">Crypto subsystem</span></h3>
<ul><li>Use of the built-in AES impl is now removed for anything other than the TCG instruction emulator. Any other use of AES now requires QEMU to be built with one of gcrypt, nettle or gnutls as crypto providers.</li></ul>
<h3></h3>
<h3><span id="I.2FO_subsystem"></span><span id="I/O_subsystem">I/O subsystem</span></h3>
<ul><li>Most device backends which support TCP connectivity can now support configuration of TCP keepalive parameters</li></ul>
<h3><span id="GUI">GUI</span></h3>
<ul><li>spice/dbus: support multi-plane dmabuf</li>
<li>spice: enable gl=on option for non-local or remote clients</li>
<li>vdagent: add migration support</li>
<li>gtk: improve scale handling</li>
<li>gtk: add keep-aspect-ratio and scale option</li>
<li>vnc: encoding of updates in non-tight VNC encodings are fixed when the client and server have different endianess</li>
<li>vnc: encoding of updates in 8/16-bpp is fixed when the client and server have different endianess</li>
<li>vnc: fix display pause issue after migration</li></ul>
<h3><span id="GDBStub">GDBStub</span></h3>
<ul><li>added support for the qGDBServerVersion used by non-gdb clients</li></ul>
<h3><span id="TCG_Plugins">TCG Plugins</span></h3>
<ul><li>ips plugin has gained configurable scaling and instructions per quantum arguments</li>
<li>new functions to write register values</li>
<li>new functions to write to virtual address (see caveats)</li>
<li>new functions to read/write hardware addresses (see caveats)</li>
<li>new test plugin called patcher</li>
<li>sparc64 and alpha targets can now export register details to plugins</li></ul>
<h3><span id="Host_support">Host support</span></h3>
<h3><span id="Memory_backends">Memory backends</span></h3>
<h3><span id="Migration">Migration</span></h3>
<ul><li>RDMA live migration starts to support ipv6</li>
<li>Postcopy preempt mode optimization on sequential memory accesses (e.g. video streaming)</li>
<li>Initial supports of enabling both multifd and postcopy features (multifd is only enabled during precopy so far)</li>
<li>Fix VFIO multifd live migration when tcp zerocopy send is enabled</li>
<li>Precopy downtime optimization by avoiding unnecessary LOG_CLEAR operations</li></ul>
<h3><span id="Monitor">Monitor</span></h3>
<h4><span id="QMP">QMP</span></h4>
<ul><li><b>blockdev-mirror</b> gained a new boolean flag <b>target-is-zero</b> that can be used to optimize mirroring of a sparse file to a destination that already reads as zero.  Even without use of this flag, mirroring has been optimized to do less work on portions of the source that read as zero.</li>
<li><b>blockdev-backup</b> gained a new option <b>on-cbw-error</b> that allow users to specify how to behave when IO errors occur during copy-before-write operations.</li></ul>
<h4><span id="HMP">HMP</span></h4>
<h3><span id="Network">Network</span></h3>
<ul><li>QEMU now attempts to arrange for larger buffers when using NBD over Unix sockets, which dramatically improves throughput.  On MacOS, this works out of the box; but on Linux, the system administrator must make the following changes:</li></ul>
<pre>   $ cat /etc/sysctl.d/net-mem-max.conf
   net.core.wmem_max = 2097152
   $ sudo sysctl -p /etc/sysctl.d/net-mem-max.conf
</pre>
<h3><span id="Block_device_backends_and_tools">Block device backends and tools</span></h3>
<h3><span id="Block_jobs">Block jobs</span></h3>
<ul><li>Non-active <b>block-commit</b> was optimized to keep sparseness</li>
<li><b>blockdev-mirror</b> was optimized to do less work with zero blocks</li>
<li><b>blockdev-mirror</b> and <b>blockdev-backup</b> gained new options, see QMP section</li></ul>
<h3><span id="Tracing">Tracing</span></h3>
<h3><span id="Semihosting_2">Semihosting</span></h3>
<h3><span id="Miscellaneous">Miscellaneous</span></h3>
<h2><span id="User-mode_emulation">User-mode emulation</span></h2>
<ul><li>Some minor updates to the documentation explaining its limitations</li></ul>
<h3><span id="signals">signals</span></h3>
<h3><span id="runtime">runtime</span></h3>
<h3><span id="binfmt_misc">binfmt_misc</span></h3>
<h3><span id="alpha_2">alpha</span></h3>
<h3><span id="arm.2Farm64.2Faarch64"></span><span id="arm/arm64/aarch64">arm/arm64/aarch64</span></h3>
<h3><span id="HPPA_2">HPPA</span></h3>
<h3><span id="LoongArch_2">LoongArch</span></h3>
<h3><span id="PowerPC_2">PowerPC</span></h3>
<h3><span id="s390">s390</span></h3>
<h3><span id="x86_2">x86</span></h3>
<h2><span id="TCG_2">TCG</span></h2>
<h3><span id="LoongArch_3">LoongArch</span></h3>
<h3><span id="Record.2FReplay"></span><span id="Record/Replay">Record/Replay</span></h3>
<h3><span id="RISC-V_2">RISC-V</span></h3>
<h2><span id="Guest_agent">Guest agent</span></h2>
<ul><li>Implement a &#39;guest-get-load&#39; command (Windows part)</li>
<li>VSS provider unregistration retry (Windows only)</li>
<li>Propagate VSS provider installation error to the MSI installer (Windows only)</li></ul>
<h2><span id="Documentation">Documentation</span></h2>
<h2><span id="Build_Information">Build Information</span></h2>
<h3><span id="Process">Process</span></h3>
<ul><li>documentation updated with b4 examples</li>
<li>all edk2 submodules included in firmware tarball</li></ul>
<h3><span id="Rust_usage">Rust usage</span></h3>
<p>The minimum supported version of Rust is now 1.77.
</p>
<ul><li>On Debian bookworm, it is available in the rustc-web package except for the mips64el architecture; Rust support for mips64el requires Debian trixie or newer.</li>
<li>On Ubuntu 22.04 and 24.04, it is available in the rust-1.77 package; the RUSTC and RUSTDOC environment variables must point to /usr/bin/rustc-1.77 and /usr/bin/rustdoc-1.77 respectively.</li></ul>
<p>Debian bookworm remains a supported platform for QEMU; support for Rust is still considered experimental and not stable, and it is not recommended to be used for anything other than development.
</p><p>When Rust is enabled, QEMU now requires Meson 1.8.1.
</p><p>QEMU includes a script, <tt>scripts/get-wraps-from-cargo-registry.py</tt>, that can be used to populate the subprojects/ directory with packages from a local crate registry in a distro-specific path, such as <tt>/usr/share/cargo/registry</tt>.
</p>
<h3><span id="Dependencies">Dependencies</span></h3>
<h3><span id="Testing_and_CI">Testing and CI</span></h3>
<h3><span id="Host_support_2">Host support</span></h3>
<ul><li>Support for Debian bullseye has been dropped.</li>
<li>Ninja 1.9 is now required. This version of Ninja was already found on all supported platforms (including Debian bullseye) as of QEMU 10.0.</li>
<li>Experimental support for compiling to WASM using Emscripten.</li></ul>
<h3><span id="Windows">Windows</span></h3>
<h2><span id="Known_issues">Known issues</span></h2>
<ul><li>See <a rel="nofollow" href="https://gitlab.com/qemu-project/qemu/-/milestones/16">https://gitlab.com/qemu-project/qemu/-/milestones/16</a></li>
<li><tt>./configure --without-default-devices --target-list=ppc64-softmmu</tt> hits a linker error due to an undefined reference to <tt>pnv_chip_find_core</tt>. Enable POWERNV in Kconfig to work around the issue. Discussion: <a rel="nofollow" href="https://lore.kernel.org/qemu-devel/46991b45-3a03-4e66-a28d-f0178b8780fe@linux.ibm.com/T/#t">https://lore.kernel.org/qemu-devel/46991b45-3a03-4e66-a28d-f0178b8780fe@linux.ibm.com/T/#t</a></li></ul>
<!-- 
NewPP limit report
Cached time: 20250827154302
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.049 seconds
Real time usage: 2.727 seconds
Preprocessor visited node count: 301/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key qemu_mediawiki:pcache:idhash:1518-0!canonical and timestamp 20250827154259 and revision id 12321.
 -->
</div>
</div></div>
  </body>
</html>
