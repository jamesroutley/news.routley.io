<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ilya.sukhar.com/blog/an-algorithmic-solution-to-insomnia.html">Original</a>
    <h1>An Algorithmic Solution to Insomnia (2017)</h1>
    
    <div id="readability-page-1" class="page"><div id="blog-post">
      <header>
        <h2>Ilya Sukhar</h2>
        
      </header>
      <p>I’ve struggled with insomnia for all of my adult life. It began in college and has waxed and waned in severity ever since, correlating with stress levels but not entirely.</p>
      <p>My form of insomnia starts with an active mind some evening. Maybe it’s active because I’m thinking through a challenge at work. Or I’m replaying a lively dinner conversation. Or I’m on a trip and excited. So, not necessarily stressful thoughts, just engaging ones. I go to bed but my mind doesn’t quiet down. 30 minutes later, I realize I’m not asleep and I start to think, “I really need to get to sleep. I have a lot going on tomorrow.” That only exacerbates the problem. My thoughts turn entirely meta and self defeating, “What’s wrong with me? Ugh, tomorrow will be miserable. Ok, let’s try for real now.” Repeat ad nauseam, laying in bed for hours.</p>
      <p>Then, as you might imagine, the next day is indeed terrible and the next evening my mind is primed with negative thoughts about my sleep habits. The cycle continues. At its worst, I would go entirely without sleep for a half a dozen nights out of a month. In the steady state, it’d be one or two nights a month. Needless to say, both the peaks and troughs were quite disruptive to my quality of life and work output.</p>
      <p>Over the years I had come to just accept it and cope. I figured I’d been dealt a poor hand in the relevant genetic lottery and this was the cost of doing business. Sometimes I’d use Ambien or other aids to get through it but I was always wary of the side effects and addiction potential.</p>
      <p>In early 2016, I got fed up. I was blissfully unemployed and thoroughly de-stressed from having traveled extensively after quitting my job. Yet, I was still having issues sleeping — still going almost entirely sleepless for a couple nights a month. This seemed ridiculous, so I resolved to fix it.</p>
      <p>I tried to read up on the latest research about insomnia but I found the volume of academic literature overwhelming for a layman. And it was mostly pharmacologically-oriented which I was intent on avoiding. Outside of journals, the online information on sleep is largely terrible — a rehash of common wisdom or an attempt to sell you something.</p>
      <p>So, I sought out a Stanford researcher with a private sleep-therapy practice. After disqualifying me of more serious mental health issues, she ran me through a variant of a program known as CBT-i or “Cognitive Behavioral Therapy for Insomnia”<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" rel="footnote">1</a></sup>. It turned out to be extremely effective and I now have a playbook for good sleep even as my stress levels have rebounded.</p>
      <p>I’m thrilled to have made this breakthrough. But it was time consuming and expensive to get there. And it struck me how it all boiled down to a fairly simple algorithm albeit one that requires a lot of willpower and would be hard to derive on your own.</p>
      <p>I wish someone had told me to try this many years earlier. So I write this in hopes that it’ll help someone out there.</p>
      <h3 id="common-wisdom-invariants">Common Wisdom Invariants</h3>
      <p>If you have trouble sleeping, I’m sure you’ve heard these all before. In my experience they are necessary but not sufficient.</p>
      <ul>
        <li>Exercise regularly.</li>
        <li>Limit caffeine and alcohol consumption.</li>
        <li>Don’t eat late at night.</li>
        <li>Don’t nap.</li>
        <li>Wind down an hour before bed. <sup id="fnref:2" role="doc-noteref"><a href="#fn:2" rel="footnote">2</a></sup></li>
        <li>Invest in your bed. Keep your bedroom dark and cool.</li>
      </ul>
      <h3 id="unintuitive-new-invariants">Unintuitive New Invariants</h3>
      <p>The gist here is: “don’t force it and don’t hang out in bed.”</p>
      <ol>
        <li>Never get in bed and try to sleep because “it’s bedtime”. Only get in bed when you are dying to go to bed.</li>
        <li>If you’re in bed for more than 20 minutes and haven’t fallen asleep yet, get out and do something else. <sup id="fnref:3" role="doc-noteref"><a href="#fn:3" rel="footnote">3</a></sup></li>
        <li>Get out of bed right away when you wake up in the morning. Don’t linger and don’t try to sleep in.</li>
        <li>Don’t change your day based on your quality of sleep. No matter how bad it was, don’t deviate from your normal routine — don’t cancel meetings, don’t skip a workout, don’t try to sleep earlier the following evening.</li>
      </ol>
      <h3 id="the-algorithm">The Algorithm</h3>
      <p>The gist here is: “sleep a lot less before you can sleep more.”</p>
      <ol>
        <li>Start out by setting a wake up time that leaves you plenty of time in the morning. For me, this was 6 a.m.</li>
        <li>Pick a target sleep time that leaves you with about two hours of sleep <em>less</em> than you think you need. For me, this was midnight.</li>
        <li>Treat the target sleep time as a goalpost to get past. That is, don’t sleep, nap, or get in bed before it — no matter what. And make sure to strictly abide by all the invariants above.</li>
        <li>When you wake up, jot down the following:
          <ol>
            <li>When you went to bed</li>
            <li>When you fell asleep</li>
            <li>How long you spent awake in the middle of the night</li>
            <li>When you woke up</li>
            <li>When you got out of bed</li>
          </ol>
        </li>
        <li>
          <p>At the end of every week, calculate the average of your time spent asleep divided by your time spent in bed each night. Like so <sup id="fnref:4" role="doc-noteref"><a href="#fn:4" rel="footnote">4</a></sup>: <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>efficiency</mtext><mo>=</mo><mtext>average(</mtext><mfrac><mtext>time asleep</mtext><mtext>time in bed</mtext></mfrac><mtext>)</mtext><mo>=</mo><mfrac><mn>1</mn><mn>7</mn></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mn>7</mn></msubsup><mfrac><mrow><msub><mi>d</mi><mi>i</mi></msub><mo>−</mo><msub><mi>b</mi><mi>i</mi></msub><mo>−</mo><msub><mi>c</mi><mi>i</mi></msub></mrow><mrow><msub><mi>e</mi><mi>i</mi></msub><mo>−</mo><msub><mi>a</mi><mi>i</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{efficiency} = \text{average(}\frac{\text{time asleep}}{\text{time in bed}}\text{)} = \frac{1}{7}\sum_{i=1}^{7}\frac{d_i-b_i-c_i}{e_i-a_i}</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span><span>efficiency</span></span><span></span><span>=</span><span></span></span><span><span></span><span><span>average(</span></span><span><span></span><span><span><span><span><span><span></span><span><span><span><span>time in bed</span></span></span></span></span><span><span></span><span></span></span><span><span></span><span><span><span><span>time asleep</span></span></span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span><span></span></span><span><span>)</span></span><span></span><span>=</span><span></span></span><span><span></span><span><span></span><span><span><span><span><span><span></span><span><span><span>7</span></span></span></span><span><span></span><span></span></span><span><span></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span><span></span></span><span></span><span><span>∑</span><span><span><span><span><span><span></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span><span></span><span><span><span>7</span></span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span></span><span></span><span><span></span><span><span><span><span><span><span></span><span><span><span><span>e</span><span><span><span><span><span><span></span><span><span>i</span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span></span><span>−</span><span><span>a</span><span><span><span><span><span><span></span><span><span>i</span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span></span></span></span></span><span><span></span><span></span></span><span><span></span><span><span><span><span>d</span><span><span><span><span><span><span></span><span><span>i</span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span></span><span>−</span><span><span>b</span><span><span><span><span><span><span></span><span><span>i</span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span></span><span>−</span><span><span>c</span><span><span><span><span><span><span></span><span><span>i</span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span><span></span></span></span></span></span><span></span></span></span></span></span></p>
          <ol>
            <li>If <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>efficiency</mtext><mo>&lt;</mo><mi mathvariant="normal">.</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">\text{efficiency} &lt; .8</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span><span>efficiency</span></span><span></span><span>&lt;</span><span></span></span><span><span></span><span>.</span><span>8</span></span></span></span>, push your target sleep time back even later by 20 minutes.</li>
            <li>If <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">.</mi><mn>9</mn><mo>≤</mo><mtext>efficiency</mtext><mo>&lt;</mo><mi mathvariant="normal">.</mi><mn>95</mn></mrow><annotation encoding="application/x-tex">.9 \leq \text{efficiency} &lt; .95</annotation></semantics></math></span><span aria-hidden="true"><span><span></span><span>.</span><span>9</span><span></span><span>≤</span><span></span></span><span><span></span><span><span>efficiency</span></span><span></span><span>&lt;</span><span></span></span><span><span></span><span>.</span><span>9</span><span>5</span></span></span></span>, push your target sleep time up earlier by 20 minutes.</li>
            <li>Otherwise, stay the course.</li>
          </ol>
        </li>
        <li>Go back to step #3. Repeat forever.</li>
      </ol>
      <p>What’s the point?</p>
      <p>Well, it turns out that insomnia is largely a form of performance anxiety that accrues over years of episodic poor sleep due to stress, travel, environmental changes, etc. Your mind gradually loses confidence in the act of going to sleep and jumps quickly to counter-productive thoughts while you lay in bed. If you expect to sleep poorly, you will.</p>
      <p>Drastically restricting your sleep with this regimen wrestles control away from your mind and puts it back into the rightful hands of your body and its circadian rhythm<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" rel="footnote">5</a></sup>. If you stick to the rules, you’re effectively running a search algorithm to find your body’s optimal schedule.</p>
      <p>The algorithm starts by finding an aggregate level of sleep low enough that your body’s need for it overpowers your mind’s obstructionism. Finding this lower bound is painful but it definitely exists. Once you’ve found it, you relax the constraint gradually as your mind builds confidence that it can indeed sleep well and that the bed is a relaxing oasis. <sup id="fnref:6" role="doc-noteref"><a href="#fn:6" rel="footnote">6</a></sup></p>
      <p>Eventually the algorithm converges and you have a schedule that works without any of the bookkeeping. You still need to stick to the invariants so as not to trip up the rhythm you’ve locked in. If you do get knocked off track by a spike in stress or long term travel, just restart the algorithm.</p>
      <p>Please let me know if this helps you!</p>
      <p>Written December 2017</p>
      <p><strong>Footnotes:</strong></p>
      
    </div></div>
  </body>
</html>
