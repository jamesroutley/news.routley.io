<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/luchina-gabriel/OSX-PROXMOX">Original</a>
    <h1>Instant macOS install on Proxmox including AMD patches</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Install <code>** FRESH/CLEAN **</code> Proxmox VE v7.0.XX ~ 8.2.XX - Next, Next &amp; Finish (NNF).</p>
<p dir="auto">Open Proxmox Web Console -&gt; Datacenter &gt; NAME OF YOUR HOST &gt; Shell.</p>
<p dir="auto">Copy, paste and execute (code below).</p>
<p dir="auto">Voilà, install macOS! This is really and magic <strong>easiest way</strong>!
<a target="_blank" rel="noopener noreferrer" href="https://github.com/luchina-gabriel/OSX-PROXMOX/blob/main/Artefacts/proxmox-screen.png"><img src="https://github.com/luchina-gabriel/OSX-PROXMOX/raw/main/Artefacts/proxmox-screen.png" alt="overview"/></a></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">COPY &amp; PASTE - in shell of Proxmox (for Install or Update this solution)</h2><a id="user-content-copy--paste---in-shell-of-proxmox-for-install-or-update-this-solution" aria-label="Permalink: COPY &amp; PASTE - in shell of Proxmox (for Install or Update this solution)" href="#copy--paste---in-shell-of-proxmox-for-install-or-update-this-solution"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div data-snippet-clipboard-copy-content="/bin/bash -c &#34;$(curl -fsSL https://install.osx-proxmox.com)&#34;"><pre><code>/bin/bash -c &#34;$(curl -fsSL https://install.osx-proxmox.com)&#34;
</code></pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">For install EFI Package in macOS, first disable Gatekeeper</h2><a id="user-content-for-install-efi-package-in-macos-first-disable-gatekeeper" aria-label="Permalink: For install EFI Package in macOS, first disable Gatekeeper" href="#for-install-efi-package-in-macos-first-disable-gatekeeper"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div data-snippet-clipboard-copy-content="sudo spctl --master-disable"><pre><code>sudo spctl --master-disable
</code></pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">Versions of macOS Supported</h2><a id="user-content-versions-of-macos-supported" aria-label="Permalink: Versions of macOS Supported" href="#versions-of-macos-supported"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>macOS High Sierra - 10.13</li>
<li>macOS Mojave - 10.14</li>
<li>macOS Catalina - 10.15</li>
<li>macOS Big Sur - 11</li>
<li>macOS Monterey - 12</li>
<li>macOS Ventura - 13</li>
<li>macOS Sonoma - 14</li>
<li>macOS Sequoia - 15</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Versions of Proxmox VE Supported</h2><a id="user-content-versions-of-proxmox-ve-supported" aria-label="Permalink: Versions of Proxmox VE Supported" href="#versions-of-proxmox-ve-supported"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>v7.0.XX ~ 8.2.XX</li>
</ul>

<ul dir="auto">
<li>Oct/2024 - 1.0.2 Added support to macOS Sequoia</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Cloud Support (Yes, install your Hackintosh in Cloud Environment)</h2><a id="user-content-cloud-support-yes-install-your-hackintosh-in-cloud-environment" aria-label="Permalink: Cloud Support (Yes, install your Hackintosh in Cloud Environment)" href="#cloud-support-yes-install-your-hackintosh-in-cloud-environment"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://www.vultr.com/?ref=9035565-8H" rel="nofollow">VultR</a></li>
<li><a href="https://youtu.be/8QsMyL-PNrM" rel="nofollow">Vídeo/Tutorial</a>, please activate captions!</li>
</ul>

<ul dir="auto">
<li>FOR DEV/STUDENT/TEST ONLY PURPOSES.</li>
<li>I&#39;m not responsible for any problem and/or equipment damage or loss of files.</li>
<li>Always back up everything before any changes to your computer.</li>
</ul>

<p dir="auto">Since Monterey, your host must have a working TSC (timestamp counter), because otherwise if you give the VM more than one core, macOS will observe the skew between cores and <strong>kernel/memory panic</strong> when it sees time ticking backwards. To check this, on Proxmox run:</p>
<div data-snippet-clipboard-copy-content="dmesg | grep -i -e tsc -e clocksource
...
# for working host must be:
...
clocksource: Switched to clocksource tsc
...

# for broken host could be:
tsc: Marking TSC unstable due to check_tsc_sync_source failed
clocksource: Switched to clocksource hpet"><pre><code>dmesg | grep -i -e tsc -e clocksource
...
# for working host must be:
...
clocksource: Switched to clocksource tsc
...

# for broken host could be:
tsc: Marking TSC unstable due to check_tsc_sync_source failed
clocksource: Switched to clocksource hpet
</code></pre></div>
<p dir="auto">Below is a possible workaround from here: <a href="https://www.nicksherlock.com/2022/10/installing-macos-13-ventura-on-proxmox/comment-page-1/#comment-55532" rel="nofollow">https://www.nicksherlock.com/2022/10/installing-macos-13-ventura-on-proxmox/comment-page-1/#comment-55532</a></p>
<ol dir="auto">
<li>Try to turn off “ErP mode” or any C state power saving modes your BIOS supports and poweroff/poweron device (including physical cable). It could help host OS to init TSC correctly, but no guarantee.</li>
<li>Or try to activate TSC force in GRUB by adding boot flags <code>clocksource=tsc tsc=reliable</code> in the <code>GRUB_CMDLINE_LINUX_DEFAULT</code> and call <code>update-grub</code>. In this case host OS probably could work unstable in some cases.</li>
<li>Check the current TSC by call <code>cat /sys/devices/system/clocksource/clocksource0/current_clocksource</code> must be <code>tsc</code>.</li>
</ol>

<div dir="auto"><h3 tabindex="-1" dir="auto">High Siearra and below installation issues</h3><a id="user-content-high-siearra-and-below-installation-issues" aria-label="Permalink: High Siearra and below installation issues" href="#high-siearra-and-below-installation-issues"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To solve error <em>The Recovery Server Could Not Be Contacted</em> you need to change the protocol from <code>https://</code> to <code>http://</code>. To do this, follow:</p>
<ul dir="auto">
<li>start installation and get error <em>The Recovery Server Could Not Be Contacted</em>, hold the window with error opened</li>
<li>open Window -&gt; Installer Log</li>
<li>search for the line &#34;Failed to load catalog&#34; -&gt; select line in log windows -&gt; Edit -Copy</li>
<li>close the error message and return to <code>macOS Utilities</code> window</li>
<li>open Utilities -&gt; Terminal, right click -&gt; paste</li>
<li>edit the pasted data, remove everything except URL, like <code>https://blablabla.sucatalog</code></li>
<li>change https -&gt; http</li>
<li>adjust the command to be like: nvram IASUCatalogURL=&#34;&#34;</li>
<li>press enter, quit Terminal and try to start installation again</li>
</ul>
<p dir="auto">After this, no additional ISO needed, HighSierra must be installed well from recovey.</p>
<p dir="auto">Here a sample how need to change the error message to the final URL:</p>
<p dir="auto"><code>nIUvram IASUCatalogURL=&#34;http://swscan.apple.com/content/catalogs/others/index-10.13-10.12-10.11-10.10-10.9-mountainlion-lion-snowleopard-leopard.merged-1.sucatalog&#34;</code></p>
<p dir="auto">The solution took from here: <a href="https://mrmacintosh.com/how-to-fix-the-recovery-server-could-not-be-contacted-error-high-sierra-recovery-is-still-online-but-broken/" rel="nofollow">https://mrmacintosh.com/how-to-fix-the-recovery-server-could-not-be-contacted-error-high-sierra-recovery-is-still-online-but-broken/</a></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Demonstration (in Portuguese/Brazil)</h2><a id="user-content-demonstration-in-portuguesebrazil" aria-label="Permalink: Demonstration (in Portuguese/Brazil)" href="#demonstration-in-portuguesebrazil"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://youtu.be/dil6iRWiun0" rel="nofollow">https://youtu.be/dil6iRWiun0</a></p>
<p dir="auto">* Please use CC with Auto Translate to English for your convenience.</p>

<ul dir="auto">
<li>Opencore/Acidanthera Team</li>
<li>Corpnewt for Applications (ProperTree, genSMBIOS, etc)</li>
<li>Apple for macOS</li>
<li>Proxmox - Excelent and better documentation for Virtualization</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Discord - Universo Hackintosh</h2><a id="user-content-discord---universo-hackintosh" aria-label="Permalink: Discord - Universo Hackintosh" href="#discord---universo-hackintosh"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://discord.universohackintosh.com.br" rel="nofollow">Discord</a></li>
</ul>
</article></div></div>
  </body>
</html>
