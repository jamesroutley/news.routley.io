<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/apache/datafusion-comet">Original</a>
    <h1>DataFusion Comet: Apache Spark Accelerator</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">

<p dir="auto">Apache DataFusion Comet is a high-performance accelerator for Apache Spark, built on top of the powerful
<a href="https://datafusion.apache.org" rel="nofollow">Apache DataFusion</a> query engine. Comet is designed to significantly enhance the
performance of Apache Spark workloads while leveraging commodity hardware and seamlessly integrating with the
Spark ecosystem without requiring any code changes.</p>

<div dir="auto"><h2 tabindex="-1" dir="auto">Run Spark Queries at DataFusion Speeds</h2><a id="user-content-run-spark-queries-at-datafusion-speeds" aria-label="Permalink: Run Spark Queries at DataFusion Speeds" href="#run-spark-queries-at-datafusion-speeds"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Comet delivers a performance speedup for many queries, enabling faster data processing and shorter time-to-insights.</p>
<p dir="auto">The following chart shows the time it takes to run the 22 TPC-H queries against 100 GB of data in Parquet format
using a single executor with 8 cores. See the <a href="https://datafusion.apache.org/comet/contributor-guide/benchmarking.html" rel="nofollow">Comet Benchmarking Guide</a>
for details of the environment used for these benchmarks.</p>
<p dir="auto">When using Comet, the overall run time is reduced from 649 seconds to 440 seconds, a 1.5x speedup.</p>
<p dir="auto">Running the same queries with DataFusion standalone (without Spark) using the same number of cores results in a 3.9x
speedup compared to Spark.</p>
<p dir="auto">Comet is not yet achieving full DataFusion speeds in all cases, but with future work we aim to provide a 2x-4x speedup
for many use cases.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/datafusion-comet/blob/main/docs/source/_static/images/tpch_allqueries.png"><img src="https://github.com/apache/datafusion-comet/raw/main/docs/source/_static/images/tpch_allqueries.png" alt=""/></a></p>
<p dir="auto">Here is a breakdown showing relative performance of Spark, Comet, and DataFusion for each TPC-H query.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/datafusion-comet/blob/main/docs/source/_static/images/tpch_queries_compare.png"><img src="https://github.com/apache/datafusion-comet/raw/main/docs/source/_static/images/tpch_queries_compare.png" alt=""/></a></p>
<p dir="auto">The following chart shows how much Comet currently accelerates each query from the benchmark. Performance optimization
is an ongoing task, and we welcome contributions from the community to help achieve even greater speedups in the future.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/datafusion-comet/blob/main/docs/source/_static/images/tpch_queries_speedup.png"><img src="https://github.com/apache/datafusion-comet/raw/main/docs/source/_static/images/tpch_queries_speedup.png" alt=""/></a></p>
<p dir="auto">These benchmarks can be reproduced in any environment using the documentation in the
<a href="https://datafusion.apache.org/comet/contributor-guide/benchmarking.html" rel="nofollow">Comet Benchmarking Guide</a>. We encourage
you to run your own benchmarks.</p>

<p dir="auto">Comet leverages commodity hardware, eliminating the need for costly hardware upgrades or
specialized hardware accelerators, such as GPUs or FGPA. By maximizing the utilization of commodity hardware, Comet
ensures cost-effectiveness and scalability for your Spark deployments.</p>

<p dir="auto">Comet aims for 100% compatibility with all supported versions of Apache Spark, allowing you to integrate Comet into
your existing Spark deployments and workflows seamlessly. With no code changes required, you can immediately harness
the benefits of Comet&#39;s acceleration capabilities without disrupting your Spark applications.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Tight Integration with Apache DataFusion</h2><a id="user-content-tight-integration-with-apache-datafusion" aria-label="Permalink: Tight Integration with Apache DataFusion" href="#tight-integration-with-apache-datafusion"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Comet tightly integrates with the core Apache DataFusion project, leveraging its powerful execution engine. With
seamless interoperability between Comet and DataFusion, you can achieve optimal performance and efficiency in your
Spark workloads.</p>

<p dir="auto">Comet boasts a vibrant and active community of developers, contributors, and users dedicated to advancing the
capabilities of Apache DataFusion and accelerating the performance of Apache Spark.</p>

<p dir="auto">To get started with Apache DataFusion Comet, follow the
<a href="https://datafusion.apache.org/comet/user-guide/installation.html" rel="nofollow">installation instructions</a>. Join the
<a href="https://datafusion.apache.org/contributor-guide/communication.html" rel="nofollow">DataFusion Slack and Discord channels</a> to connect
with other users, ask questions, and share your experiences with Comet.</p>

<p dir="auto">We welcome contributions from the community to help improve and enhance Apache DataFusion Comet. Whether it&#39;s fixing
bugs, adding new features, writing documentation, or optimizing performance, your contributions are invaluable in
shaping the future of Comet. Check out our
<a href="https://datafusion.apache.org/comet/contributor-guide/contributing.html" rel="nofollow">contributor guide</a> to get started.</p>

<p dir="auto">Apache DataFusion Comet is licensed under the Apache License 2.0. See the <a href="https://github.com/apache/datafusion-comet/blob/main/LICENSE.txt">LICENSE.txt</a> file for details.</p>

<p dir="auto">We would like to express our gratitude to the Apache DataFusion community for their support and contributions to
Comet. Together, we&#39;re building a faster, more efficient future for big data processing with Apache Spark.</p>
</article></div></div>
  </body>
</html>
