<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://wilsoniumite.com/2024/12/30/if-i-could-wave-a-magic-wand/">Original</a>
    <h1>If I Could Wave a Magic Wand</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>We often talk about rewriting code and almost as often talk about whether big rewrites are even a good idea. <a href="https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/">Joel Spolsky</a> writes a particularly harrowing story of how netscape rewrote their entire codebase and in so doing perhaps doomed their chances of recovery. In summary, here are some key things you need to keep in mind when considering to rewrite something.</p>



<ol>
<li>There is no guarantee we will write it better the second time.</li>



<li>There are probably edge cases this code solves that we don’t remember.</li>



<li>This will actually take time, even if it might take a little less than the first time.</li>



<li>Your own code always feels better to read, because you wrote it. That doesn’t mean it’s actually better to read than someone else’s.</li>
</ol>



<p>If uncertainty is high, these can all be good reasons to abstain from a rewrite. Instead, focusing on an iterative approach is going to be better.  I find that usually (good) programmers enter a new project with idealistic dreams of ripping out the walls; this could be done differently, that could be removed entirely, and so on. Then, later, the longer they stay the more those walls seem familiar, and the idea of changing everything becomes instead a distant memory. In most mature teams, this isn’t that much of an argument. The codebase is big and daunting, the work already hard and frustrating. Why would we even consider a rewrite, and give ourselves more of the same? </p>



<p>Both of these views are missing something.</p>



<h2>Don’t Lose Your Idealism, Ground It.</h2>



<p>I like listening to Adam Savage talk about how he works. He isn’t a software engineer, and yet I find his thoughts seem so easily transferable to our profession. <a href="https://www.youtube.com/watch?v=vt7kZxyemgM&amp;t=163s">He mentions</a> the idea of remodeling a room and how people “see <em>what is</em>, and <em>what is</em> is an anchor for what can be.” This anchor really can stop you from being able to see a cleaner, better solution. Nothing is perfect, but it still <em>works</em>, and we shouldn’t fix what ain’t broken right? Well, no, but here’s the idea: We should imagine we had a magic wand that could build exactly what we want and ask ourselves roughly what that would look like.</p>



<p>Why do we care about that? If we’ve already decided we aren’t going to rewrite it, why bother thinking about some perfect solution we’re never going to make? The goal is to separate yourself from how the project is now so you can consider a clear picture of what might be best. The reason this works is that it makes clearer what is the necessary complexity, and what is the accidental. The next step becomes much easier; visualizing the path to get from where we are now to where we want to be. Here’s a diagram version:</p>



<figure><img decoding="async" width="497" height="306" src="https://wilsoniumite.com/wp-content/uploads/2024/12/ql_8d5b81bc93c54f2c9c7424902ca40122_l3.png" alt="" srcset="https://wilsoniumite.com/wp-content/uploads/2024/12/ql_8d5b81bc93c54f2c9c7424902ca40122_l3.png 497w, https://wilsoniumite.com/wp-content/uploads/2024/12/ql_8d5b81bc93c54f2c9c7424902ca40122_l3-300x185.png 300w" sizes="(max-width: 497px) 100vw, 497px"/></figure>



<p>Does the perfect solution have a component with a different design pattern? Well, can we rewrite just that part into that pattern. Do you realise some part of the code shouldn’t exist (accidental complexity)? How can you gently move in that direction. That perfect solution isn’t some static target either. As you make changes and approach it you will learn things. This is therefore a mental exercise you want to do regularly, each time asking yourself the same question: If I could wave a magic wand, how would I want it to be?</p>
</div></div>
  </body>
</html>
