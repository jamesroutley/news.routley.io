<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tigerbeetle.com/blog/2023-01-30-series-seed-announcement/">Original</a>
    <h1>TigerBeetle raises $6.4M to power the future of financial accounting infra</h1>
    
    <div id="readability-page-1" class="page"><div>
  
<h2 id="a-textbook-database-problem">A textbook database problem</h2>
<p>Tracking financial transactions, where Alice pays Bob, is a textbook
database problem. It’s the classic example given by databases that
guarantee strict serializability, the gold standard of data
consistency.</p>
<p>You can’t double-count money. You can’t reorder transactions. And you
can’t lose data.</p>
<p>Jepsen, a library for testing distributed databases, even has a <a href="https://github.com/jepsen-io/jepsen/blob/main/jepsen/src/jepsen/tests/bank.clj">bank
test</a>. It’s
hard to get strict serializability right, even for non-financial data.</p>
<p>But financial data is intrinsically valuable, where each row
represents value in the real world. Someone once said to me that
tracking financial transactions terrifies them—“It’s close to
nuclear!”.</p>
<p>And yet, which database provides double-entry financial accounting
primitives out of the box?</p>
<p>If you’re a fintech startup, or a SaaS startup charging for API usage,
or a game offering in-app purchases (let alone a bank!) and you
believe that your database should enforce financial consistency, not
only foreign key constraints, what do you do?</p>
<p>Do you use a proprietary ledger API for your core business data? Or do
you reinvent double-entry accounting over a general-purpose database
like Postgres?</p>
<p>The first option can be expensive. The second can be subtle and take
longer than you expect, just when you want to get to market.</p>
<p>At least, this is what I saw when I did safety and performance
analysis of the <a href="https://mojaloop.io/">Mojaloop</a> payments switch in
2020, together with Adrian Hope-Bailie and Donovan Changfoot, while
consulting for <a href="https://coil.com">Coil</a>.</p>
<h2 id="reinventing-double-entry-accounting">Reinventing double-entry accounting</h2>
<p>Tracking money movements not only within a system, but also between
partner systems with different tech stacks, can be 10k lines of
complex code if you do it yourself.</p>
<p>It’s at the dangerous intersection of double-entry and distributed
systems, and there’s a two-phase commit protocol coordinator in there
somewhere, to make sure that money either moves or doesn’t move. For
example, when timestamping transactions, even <a href="https://tigerbeetle.com/blog/three-clocks-are-better-than-one/">dealing with time is
difficult</a>.</p>
<p>At some point, you’re building a ledger database.</p>
<p>And when we looked around, everyone was doing this: reinventing the
wheel. Ad hoc ledgers were everywhere. It was all Postgres and duct
tape. Multiple round trips to the database to execute a single
transfer of money between accounts. Race conditions. Painful
migrations. No separation of concerns between user data and financial
data. No automated failover across multiple data centers for high
availability. Or worse, cloud database lock-in.</p>
<p>We also saw that high volume switches and large startups were starting
to hit the wall at around 2k transactions per second, because of SQL
row lock contention for hot accounts.</p>
<p>So we <a href="https://www.hytradboi.com/">tried rubbing a database on it</a>, to
solve the problem once and for all, with a purpose-built database.</p>
<h2 id="a-new-era-for-databases">A new era for databases</h2>
<p>We were lucky to begin in 2020, when several innovations began to
reshape the distributed systems and database research landscape:</p>
<ol>
<li>
<p>Jens Axboe had created <a href="https://kernel.dk/io_uring.pdf">io_uring</a>,
revolutionizing Linux I/O.</p>
</li>
<li>
<p>Safer systems languages were coming out, making it easier to write
correct code, and bringing gamechangers like
<a href="https://kristoff.it/blog/what-is-zig-comptime/">comptime</a>.</p>
</li>
<li>
<p>UW-Madison’s research into storage faults had shown that <a href="https://www.usenix.org/conference/fast18/presentation/alagappan">existing
database design had to
change</a>,
for correctness and availability.</p>
</li>
<li>
<p>FoundationDB had pioneered the <a href="https://www.youtube.com/watch?v=4fFDFbi3toc">deterministic simulation
testing</a> of distributed
systems, to find and replay rare bugs deterministically, for increased
developer velocity.</p>
</li>
</ol>
<p>All this meant that we could:</p>
<ol>
<li>
<p>replace the context switches and syscalls of multithreaded I/O, not
with custom I/O stacks like DPDK or SPDK, but with the kernel thread
pool directly as our data plane (thanks Jens!),</p>
</li>
<li>
<p>reap the long term rewards of being early in
<a href="https://ziglang.org/">Zig</a> (realizing that our production roadmaps
would coincide), e.g. control over <a href="https://tigerbeetle.com/blog/a-database-without-dynamic-memory/">memory
allocation</a>
for tight bounds on latency, following <a href="https://en.wikipedia.org/wiki/The_Power_of_10:_Rules_for_Developing_Safety-Critical_Code">NASA’s Power of Ten Rules for
Safety-Critical
Code</a>,</p>
</li>
<li>
<p>take storage fault-tolerance to the theoretical limit, with <a href="https://github.com/tigerbeetledb/tigerbeetle/blob/main/docs/DESIGN.md#safety">a
pioneering storage fault
model</a>,
and</p>
</li>
<li>
<p>use a simulator to magically accelerate decades of manual testing.</p>
</li>
</ol>
<p>We could stand on the shoulders of giants, to design TigerBeetle as a
distributed financial accounting database for mission-critical safety
and performance.</p>
<p>Looking back on this design phase, I remember the first prototype of
TigerBeetle achieving 200k transactions a second, and the feeling that
this would one day become a database company.</p>
<p>I gave up the startup I was working on, and joined Coil to work full
time on TigerBeetle as Apache 2.0 open source. With Coil’s backing,
TigerBeetle took shape.</p>
<p>The <a href="https://mojaloop.io/">Mojaloop</a> payments switch and Coil’s
<a href="https://interledger.org/">Interledger</a> began designing for
TigerBeetle. Then a digital wallet called
<a href="https://fynbos.app/">Fynbos</a>. And then energy and gaming startups
were reaching out.</p>
<p>The world was becoming more transactional—money movements were
becoming smaller and more frequent—and the demand for high performance
accounting was growing.</p>
<h2 id="planting-the-seed">Planting the seed</h2>
<p>With an open source production release of TigerBeetle on the horizon,
Coil decided to invest and spin out TigerBeetle as a startup, with
<a href="https://github.com/sentientwaffle">sentientwaffle</a> and
<a href="https://github.com/kprotty">kprotty</a> from Coil joining me for the
adventure, along with <a href="https://eatonphil.com/">Phil Eaton</a>, <a href="https://github.com/sm2n">S.M
Mukarram Nainar</a>, <a href="https://www.scattered-thoughts.net/">Jamie
Brandon</a>,
<a href="https://github.com/matklad">matklad</a>, and <a href="https://github.com/cb22">Federico
Lorenzi</a>.</p>
<p>Concurrently, we met <a href="https://www.linkedin.com/in/lennypruss/">Lenny
Pruss</a> and <a href="https://www.linkedin.com/in/natalievais/">Natalie
Vais</a> of <a href="https://www.amplifypartners.com/">Amplify
Partners</a> through Jamie’s HYTRADBOI
database conference. There was something special about Amplify—Lenny
and Natalie were as excited about database research as we were, and
were early investors in our favorite database startups.</p>
<p><strong>We are therefore thrilled to announce TigerBeetle’s Series Seed of
$6.4 million led by Amplify Partners, with Coil as equal partners.</strong></p>
<p>We are further incredibly grateful to our angels and advisors:</p>
<p>Ameet Patel, Amod Malviya, Derek Collison, James Cowling, Chris
Riccomini, Dominik Tornow, Deepti Srivastava, Thomas McLeod, Desigan
Chinniah, Loris Cro and Andrew Kelley.</p>
<p>Finally, to everyone who has been there for the journey, we look
forward to <a href="https://systemsdistributed.com/">Systems Distributed ‘23</a>
from 9-10 Feb, to share our love of systems programming, and most of
all, to meet you in person.</p>
<p>Until then, if this is your first time learning about
<a href="https://github.com/tigerbeetledb/tigerbeetle">TigerBeetle</a>, I invite
you to visit our repo, <a href="https://twitter.com/TigerBeetleDB">follow us for
updates</a>, and <a href="https://slack.tigerbeetle.com/invite">join our
community</a>.</p>

</div></div>
  </body>
</html>
