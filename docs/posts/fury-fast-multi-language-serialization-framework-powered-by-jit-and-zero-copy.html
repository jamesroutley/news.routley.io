<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/alipay/fury">Original</a>
    <h1>Fury â€“ Fast multi-language serialization framework powered by JIT and Zero-copy</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/images/logo/fury_github_banner.png"><img width="65%" alt="" src="https://github.com/alipay/fury/raw/main/docs/images/logo/fury_github_banner.png"/></a><br/>
</p>
<p dir="auto"><a href="https://github.com/alipay/fury"><img src="https://camo.githubusercontent.com/561e17c52da44b173afc20938db28a25d28c13698d1cc353ea30995d10e3e3db/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f616c697061792f667572792f63692e796d6c3f6272616e63683d6d61696e267374796c653d666f722d7468652d6261646765266c6162656c3d474954485542253230414354494f4e53266c6f676f3d676974687562" alt="Build Status" data-canonical-src="https://img.shields.io/github/actions/workflow/status/alipay/fury/ci.yml?branch=main&amp;style=for-the-badge&amp;label=GITHUB%20ACTIONS&amp;logo=github"/></a>
<a href="https://join.slack.com/t/fury-project/shared_invite/zt-1u8soj4qc-ieYEu7ciHOqA2mo47llS8A" rel="nofollow"><img src="https://camo.githubusercontent.com/96557fd14cb0d7327a72f3b81e79f4b06cede1429b52becb5c8e748b4c0c4d5a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6a6f696e5f536c61636b2d3738314646352e7376673f6c6f676f3d736c61636b267374796c653d666f722d7468652d6261646765" alt="Slack" data-canonical-src="https://img.shields.io/badge/join_Slack-781FF5.svg?logo=slack&amp;style=for-the-badge"/></a>
<a href="https://twitter.com/fury_community" rel="nofollow"><img src="https://camo.githubusercontent.com/d9abcbfdd956a6e102e7e2baaa06e7a2a58aa4ae63f52f89ced7a5d94593167f/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f667572795f636f6d6d756e6974793f6c6f676f3d74776974746572267374796c653d666f722d7468652d6261646765" alt="Twitter" data-canonical-src="https://img.shields.io/twitter/follow/fury_community?logo=twitter&amp;style=for-the-badge"/></a></p>
<p dir="auto">Fury is a blazing fast multi-language serialization framework powered by <strong>jit(just-in-time compilation)</strong> and <strong>zero-copy</strong>, providing up to 170x performance and ultimate ease of use.</p>
<p dir="auto"><a href="https://furyio.org" rel="nofollow">https://furyio.org</a></p>
<h2 tabindex="-1" id="user-content-features" dir="auto"><a href="#features">Features<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<ul dir="auto">
<li><strong>Multiple languages</strong>: Java/Python/C++/Golang/Javascript.</li>
<li><strong>Zero-copy</strong>: cross-language out-of-band serialization inspired
by <a href="https://peps.python.org/pep-0574/" rel="nofollow">pickle5</a> and off-heap read/write.</li>
<li><strong>High performance</strong>: A highly-extensible JIT framework to generate serializer code at runtime in an async multi-thread way to speed serialization, providing 20-170x speed up by:
<ul dir="auto">
<li>reduce memory access by inline variable in generated code.</li>
<li>reduce virtual method invocation by inline call in generated code.</li>
<li>reduce conditional branching.</li>
<li>reduce hash lookup.</li>
</ul>
</li>
<li><strong>Multiple binary protocols</strong>: object graph, row format and so on.</li>
</ul>
<p dir="auto">In addition to cross-language serialization, Fury also features at:</p>
<ul dir="auto">
<li>Drop-in replace Java serialization frameworks such as JDK/Kryo/Hessian without modifying any code, but 100x faster.
It can greatly improve the efficiency of high-performance RPC calls, data transfer and object persistence.</li>
<li>JDK serialization <strong>100% compatible</strong>: JDK <code>writeObject/readObject/writeReplace/readResolve/readObjectNoData/Externalizable</code> serialization API supported, <strong>JDK8~21</strong> supported.</li>
<li>Supports shared and circular reference object serialization for golang.</li>
<li>Supports automatic object serialization for golang.</li>
</ul>
<h2 tabindex="-1" id="user-content-protocols" dir="auto"><a href="#protocols">Protocols<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Different scenarios have different serialization requirements. Fury designed and implemented
multiple binary protocols for those requirements:</p>
<ul dir="auto">
<li><strong>Cross-language object graph protocol</strong>:
<ul dir="auto">
<li>Cross-language serialize any object automatically, no need for IDL definition, schema compilation and object to/from protocol
conversion.</li>
<li>Support shared reference and circular reference, no duplicate data or recursion error.</li>
<li>Support object polymorphism.</li>
</ul>
</li>
<li><strong>Native java/python object graph protocol</strong>: highly-optimized based on type system of the language.</li>
<li><strong>Row format protocol</strong>: a cache-friendly binary random access format, supports skipping serialization and partial serialization,
and can convert to column-format automatically.</li>
</ul>
<p dir="auto">New protocols can be added easily based on fury existing buffer, encoding, meta, codegen and other capabilities. All of those share same codebase, and the optimization for one protocol
can be reused by another protocol.</p>
<h2 tabindex="-1" id="user-content-benchmarks" dir="auto"><a href="#benchmarks">Benchmarks<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Different serialization frameworks are suitable for different scenarios, and benchmark results here are for reference only.</p>
<p dir="auto">If you need to benchmark for your specific scenario, make sure all serialization frameworks are appropriately configured for that scenario.</p>
<p dir="auto">Dynamic serialization frameworks support polymorphism and references, but they often come with a higher cost compared to static serialization frameworks, unless they utilize JIT techniques like Fury does.
Because Fury generates code at runtime, it is recommended to <strong>warm up</strong> the system before collecting benchmark statistics.</p>
<h3 tabindex="-1" id="user-content-java-serialization" dir="auto"><a href="#java-serialization">Java Serialization<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">Title containing &#34;compatible&#34; represent schema compatible mode: support type forward/backward compatibility.</p>
<p dir="auto">Title without &#34;compatible&#34; represent schema consistent mode: class schema must be same between serialization and deserialization.</p>
<p dir="auto"><code>Struct</code> is a class with <a href="https://github.com/alipay/fury/tree/main/docs/benchmarks#Struct">100 primitive fields</a>, <code>MediaContent</code> is a class from <a href="https://github.com/eishay/jvm-serializers/blob/master/tpc/src/data/media/MediaContent.java">jvm-serializers</a>, <code>Sample</code> is a class from <a href="https://github.com/EsotericSoftware/kryo/blob/master/benchmarks/src/main/java/com/esotericsoftware/kryo/benchmarks/data/Sample.java">kryo benchmark</a>.</p>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/compatible/bench_serialize_compatible_STRUCT_to_directBuffer_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/compatible/bench_serialize_compatible_STRUCT_to_directBuffer_tps.png"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/compatible/bench_serialize_compatible_MEDIA_CONTENT_to_array_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/compatible/bench_serialize_compatible_MEDIA_CONTENT_to_array_tps.png"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/serialization/bench_serialize_MEDIA_CONTENT_to_array_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/serialization/bench_serialize_MEDIA_CONTENT_to_array_tps.png"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/serialization/bench_serialize_SAMPLE_to_array_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/serialization/bench_serialize_SAMPLE_to_array_tps.png"/></a>
</p>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/compatible/bench_deserialize_compatible_STRUCT_from_directBuffer_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/compatible/bench_deserialize_compatible_STRUCT_from_directBuffer_tps.png"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/compatible/bench_deserialize_compatible_MEDIA_CONTENT_from_array_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/compatible/bench_deserialize_compatible_MEDIA_CONTENT_from_array_tps.png"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/deserialization/bench_deserialize_MEDIA_CONTENT_from_array_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/deserialization/bench_deserialize_MEDIA_CONTENT_from_array_tps.png"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/benchmarks/deserialization/bench_deserialize_SAMPLE_from_array_tps.png"><img width="24%" alt="" src="https://github.com/alipay/fury/raw/main/docs/benchmarks/deserialization/bench_deserialize_SAMPLE_from_array_tps.png"/></a>
</p>
<p dir="auto">See <a href="https://github.com/alipay/fury/tree/main/docs/benchmarks">benchmarks</a> for more benchmarks about type forward/backward compatibility, off-heap support, zero-copy serialization.</p>
<h2 tabindex="-1" id="user-content-installation" dir="auto"><a href="#installation">Installation<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 tabindex="-1" id="user-content-java" dir="auto"><a href="#java">Java<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">Nightly snapshot:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;sonatype&lt;/id&gt;
    &lt;url&gt;https://s01.oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
    &lt;releases&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/releases&gt;
    &lt;snapshots&gt;
      &lt;enabled&gt;true&lt;/enabled&gt;
    &lt;/snapshots&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.furyio&lt;/groupId&gt;
  &lt;artifactId&gt;fury-core&lt;/artifactId&gt;
  &lt;version&gt;0.3.0-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- row/arrow format support --&gt;
&lt;!-- &lt;dependency&gt;
  &lt;groupId&gt;org.furyio&lt;/groupId&gt;
  &lt;artifactId&gt;fury-format&lt;/artifactId&gt;
  &lt;version&gt;0.3.0-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt; --&gt;"><pre>&lt;<span>repositories</span>&gt;
  &lt;<span>repository</span>&gt;
    &lt;<span>id</span>&gt;sonatype&lt;/<span>id</span>&gt;
    &lt;<span>url</span>&gt;https://s01.oss.sonatype.org/content/repositories/snapshots&lt;/<span>url</span>&gt;
    &lt;<span>releases</span>&gt;
      &lt;<span>enabled</span>&gt;false&lt;/<span>enabled</span>&gt;
    &lt;/<span>releases</span>&gt;
    &lt;<span>snapshots</span>&gt;
      &lt;<span>enabled</span>&gt;true&lt;/<span>enabled</span>&gt;
    &lt;/<span>snapshots</span>&gt;
  &lt;/<span>repository</span>&gt;
&lt;/<span>repositories</span>&gt;
&lt;<span>dependency</span>&gt;
  &lt;<span>groupId</span>&gt;org.furyio&lt;/<span>groupId</span>&gt;
  &lt;<span>artifactId</span>&gt;fury-core&lt;/<span>artifactId</span>&gt;
  &lt;<span>version</span>&gt;0.3.0-SNAPSHOT&lt;/<span>version</span>&gt;
&lt;/<span>dependency</span>&gt;
<span><span>&lt;!--</span> row/arrow format support <span>--&gt;</span></span>
<span><span>&lt;!--</span> &lt;dependency&gt;</span>
<span>  &lt;groupId&gt;org.furyio&lt;/groupId&gt;</span>
<span>  &lt;artifactId&gt;fury-format&lt;/artifactId&gt;</span>
<span>  &lt;version&gt;0.3.0-SNAPSHOT&lt;/version&gt;</span>
<span>&lt;/dependency&gt; <span>--&gt;</span></span></pre></div>
<p dir="auto">Release version:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;dependency&gt;
  &lt;groupId&gt;org.furyio&lt;/groupId&gt;
  &lt;artifactId&gt;fury-core&lt;/artifactId&gt;
  &lt;version&gt;0.2.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- row/arrow format support --&gt;
&lt;!-- &lt;dependency&gt;
  &lt;groupId&gt;org.furyio&lt;/groupId&gt;
  &lt;artifactId&gt;fury-format&lt;/artifactId&gt;
  &lt;version&gt;0.2.0&lt;/version&gt;
&lt;/dependency&gt; --&gt;"><pre>&lt;<span>dependency</span>&gt;
  &lt;<span>groupId</span>&gt;org.furyio&lt;/<span>groupId</span>&gt;
  &lt;<span>artifactId</span>&gt;fury-core&lt;/<span>artifactId</span>&gt;
  &lt;<span>version</span>&gt;0.2.0&lt;/<span>version</span>&gt;
&lt;/<span>dependency</span>&gt;
<span><span>&lt;!--</span> row/arrow format support <span>--&gt;</span></span>
<span><span>&lt;!--</span> &lt;dependency&gt;</span>
<span>  &lt;groupId&gt;org.furyio&lt;/groupId&gt;</span>
<span>  &lt;artifactId&gt;fury-format&lt;/artifactId&gt;</span>
<span>  &lt;version&gt;0.2.0&lt;/version&gt;</span>
<span>&lt;/dependency&gt; <span>--&gt;</span></span></pre></div>
<h3 tabindex="-1" id="user-content-python" dir="auto"><a href="#python">Python<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<div dir="auto" data-snippet-clipboard-copy-content="# Release version will be provided in the future.
pip install pyfury --pre"><pre><span><span>#</span> Release version will be provided in the future.</span>
pip install pyfury --pre</pre></div>
<h3 tabindex="-1" id="user-content-javascript" dir="auto"><a href="#javascript">JavaScript<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>

<h3 tabindex="-1" id="user-content-golang" dir="auto"><a href="#golang">Golang<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">Coming soon.</p>
<h2 tabindex="-1" id="user-content-quickstart" dir="auto"><a href="#quickstart">Quickstart<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Here we give a quick start about how to use fury, see <a href="https://github.com/alipay/fury/blob/main/docs/README.md">user guide</a> for more details about <a href="https://github.com/alipay/fury/blob/main/docs/guide/java_object_graph_guide.md">java</a>, <a href="https://github.com/alipay/fury/blob/main/docs/guide/xlang_object_graph_guide.md">cross language</a>, and <a href="https://github.com/alipay/fury/blob/main/docs/guide/row_format_guide.md">row format</a>.</p>
<h3 tabindex="-1" id="user-content-fury-java-object-graph-serialization" dir="auto"><a href="#fury-java-object-graph-serialization">Fury java object graph serialization<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">If you don&#39;t have cross-language requirements, using this mode will
have better performance.</p>
<div dir="auto" data-snippet-clipboard-copy-content="import io.fury.*;
import java.util.*;

public class Example {
  public static void main(String[] args) {
    SomeClass object = new SomeClass();
    // Note that Fury instances should be reused between 
    // multiple serializations of different objects.
    {
      Fury fury = Fury.builder().withLanguage(Language.JAVA)
        // Allow to deserialize objects unknown types, more flexible 
        // but may be insecure if the classes contains malicious code.
        // .requireClassRegistration(false)
        .build();
      // Registering types can reduce class name serialization overhead, but not mandatory.
      // If class registration enabled, all custom types must be registered.
      fury.register(SomeClass.class);
      byte[] bytes = fury.serialize(object);
      System.out.println(fury.deserialize(bytes));
    }
    {
      ThreadSafeFury fury = Fury.builder().withLanguage(Language.JAVA)
        // Allow to deserialize objects unknown types, more flexible 
        // but may be insecure if the classes contains malicious code.
        // .requireClassRegistration(false)
        .buildThreadSafeFury();
      byte[] bytes = fury.serialize(object);
      System.out.println(fury.deserialize(bytes));
    }
    {
      ThreadSafeFury fury = new ThreadLocalFury(classLoader -&gt; {
        Fury f = Fury.builder().withLanguage(Language.JAVA)
          .withClassLoader(classLoader).build();
        f.register(SomeClass.class);
        return f;
      });
      byte[] bytes = fury.serialize(object);
      System.out.println(fury.deserialize(bytes));
    }
  }
}"><pre><span>import</span> <span>io</span>.<span>fury</span>.*;
<span>import</span> <span>java</span>.<span>util</span>.*;

<span>public</span> <span>class</span> <span>Example</span> {
  <span>public</span> <span>static</span> <span>void</span> <span>main</span>(<span>String</span>[] <span>args</span>) {
    <span>SomeClass</span> <span>object</span> = <span>new</span> <span>SomeClass</span>();
    <span>// Note that Fury instances should be reused between </span>
    <span>// multiple serializations of different objects.</span>
    {
      <span>Fury</span> <span>fury</span> = <span>Fury</span>.<span>builder</span>().<span>withLanguage</span>(<span>Language</span>.<span>JAVA</span>)
        <span>// Allow to deserialize objects unknown types, more flexible </span>
        <span>// but may be insecure if the classes contains malicious code.</span>
        <span>// .requireClassRegistration(false)</span>
        .<span>build</span>();
      <span>// Registering types can reduce class name serialization overhead, but not mandatory.</span>
      <span>// If class registration enabled, all custom types must be registered.</span>
      <span>fury</span>.<span>register</span>(<span>SomeClass</span>.<span>class</span>);
      <span>byte</span>[] <span>bytes</span> = <span>fury</span>.<span>serialize</span>(<span>object</span>);
      <span>System</span>.<span>out</span>.<span>println</span>(<span>fury</span>.<span>deserialize</span>(<span>bytes</span>));
    }
    {
      <span>ThreadSafeFury</span> <span>fury</span> = <span>Fury</span>.<span>builder</span>().<span>withLanguage</span>(<span>Language</span>.<span>JAVA</span>)
        <span>// Allow to deserialize objects unknown types, more flexible </span>
        <span>// but may be insecure if the classes contains malicious code.</span>
        <span>// .requireClassRegistration(false)</span>
        .<span>buildThreadSafeFury</span>();
      <span>byte</span>[] <span>bytes</span> = <span>fury</span>.<span>serialize</span>(<span>object</span>);
      <span>System</span>.<span>out</span>.<span>println</span>(<span>fury</span>.<span>deserialize</span>(<span>bytes</span>));
    }
    {
      <span>ThreadSafeFury</span> <span>fury</span> = <span>new</span> <span>ThreadLocalFury</span>(<span>classLoader</span> -&gt; {
        <span>Fury</span> <span>f</span> = <span>Fury</span>.<span>builder</span>().<span>withLanguage</span>(<span>Language</span>.<span>JAVA</span>)
          .<span>withClassLoader</span>(<span>classLoader</span>).<span>build</span>();
        <span>f</span>.<span>register</span>(<span>SomeClass</span>.<span>class</span>);
        <span>return</span> <span>f</span>;
      });
      <span>byte</span>[] <span>bytes</span> = <span>fury</span>.<span>serialize</span>(<span>object</span>);
      <span>System</span>.<span>out</span>.<span>println</span>(<span>fury</span>.<span>deserialize</span>(<span>bytes</span>));
    }
  }
}</pre></div>
<h3 tabindex="-1" id="user-content-cross-language-object-graph-serialization" dir="auto"><a href="#cross-language-object-graph-serialization">Cross-language object graph serialization<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto"><strong>Java</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="import io.fury.*;
import java.util.*;

public class ReferenceExample {
  public static class SomeClass {
    SomeClass f1;
    Map&lt;String, String&gt; f2;
    Map&lt;String, String&gt; f3;
  }

  public static Object createObject() {
    SomeClass obj = new SomeClass();
    obj.f1 = obj;
    obj.f2 = ofHashMap(&#34;k1&#34;, &#34;v1&#34;, &#34;k2&#34;, &#34;v2&#34;);
    obj.f3 = obj.f2;
    return obj;
  }

  // mvn exec:java -Dexec.mainClass=&#34;io.fury.examples.ReferenceExample&#34;
  public static void main(String[] args) {
    Fury fury = Fury.builder().withLanguage(Language.XLANG)
      .withRefTracking(true).build();
    fury.register(SomeClass.class, &#34;example.SomeClass&#34;);
    byte[] bytes = fury.serialize(createObject());
    // bytes can be data serialized by other languages.
    System.out.println(fury.deserialize(bytes));
  }
}"><pre><span>import</span> <span>io</span>.<span>fury</span>.*;
<span>import</span> <span>java</span>.<span>util</span>.*;

<span>public</span> <span>class</span> <span>ReferenceExample</span> {
  <span>public</span> <span>static</span> <span>class</span> <span>SomeClass</span> {
    <span>SomeClass</span> <span>f1</span>;
    <span>Map</span>&lt;<span>String</span>, <span>String</span>&gt; <span>f2</span>;
    <span>Map</span>&lt;<span>String</span>, <span>String</span>&gt; <span>f3</span>;
  }

  <span>public</span> <span>static</span> <span>Object</span> <span>createObject</span>() {
    <span>SomeClass</span> <span>obj</span> = <span>new</span> <span>SomeClass</span>();
    <span>obj</span>.<span>f1</span> = <span>obj</span>;
    <span>obj</span>.<span>f2</span> = <span>ofHashMap</span>(<span>&#34;k1&#34;</span>, <span>&#34;v1&#34;</span>, <span>&#34;k2&#34;</span>, <span>&#34;v2&#34;</span>);
    <span>obj</span>.<span>f3</span> = <span>obj</span>.<span>f2</span>;
    <span>return</span> <span>obj</span>;
  }

  <span>// mvn exec:java -Dexec.mainClass=&#34;io.fury.examples.ReferenceExample&#34;</span>
  <span>public</span> <span>static</span> <span>void</span> <span>main</span>(<span>String</span>[] <span>args</span>) {
    <span>Fury</span> <span>fury</span> = <span>Fury</span>.<span>builder</span>().<span>withLanguage</span>(<span>Language</span>.<span>XLANG</span>)
      .<span>withRefTracking</span>(<span>true</span>).<span>build</span>();
    <span>fury</span>.<span>register</span>(<span>SomeClass</span>.<span>class</span>, <span>&#34;example.SomeClass&#34;</span>);
    <span>byte</span>[] <span>bytes</span> = <span>fury</span>.<span>serialize</span>(<span>createObject</span>());
    <span>// bytes can be data serialized by other languages.</span>
    <span>System</span>.<span>out</span>.<span>println</span>(<span>fury</span>.<span>deserialize</span>(<span>bytes</span>));
  }
}</pre></div>
<p dir="auto"><strong>Python</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="from typing import Dict
import pyfury

class SomeClass:
    f1: &#34;SomeClass&#34;
    f2: Dict[str, str]
    f3: Dict[str, str]

fury = pyfury.Fury(ref_tracking=True)
fury.register_class(SomeClass, &#34;example.SomeClass&#34;)
obj = SomeClass()
obj.f2 = {&#34;k1&#34;: &#34;v1&#34;, &#34;k2&#34;: &#34;v2&#34;}
obj.f1, obj.f3 = obj, obj.f2
data = fury.serialize(obj)
# bytes can be data serialized by other languages.
print(fury.deserialize(data))"><pre><span>from</span> <span>typing</span> <span>import</span> <span>Dict</span>
<span>import</span> <span>pyfury</span>

<span>class</span> <span>SomeClass</span>:
    <span>f1</span>: <span>&#34;SomeClass&#34;</span>
    <span>f2</span>: <span>Dict</span>[<span>str</span>, <span>str</span>]
    <span>f3</span>: <span>Dict</span>[<span>str</span>, <span>str</span>]

<span>fury</span> <span>=</span> <span>pyfury</span>.<span>Fury</span>(<span>ref_tracking</span><span>=</span><span>True</span>)
<span>fury</span>.<span>register_class</span>(<span>SomeClass</span>, <span>&#34;example.SomeClass&#34;</span>)
<span>obj</span> <span>=</span> <span>SomeClass</span>()
<span>obj</span>.<span>f2</span> <span>=</span> {<span>&#34;k1&#34;</span>: <span>&#34;v1&#34;</span>, <span>&#34;k2&#34;</span>: <span>&#34;v2&#34;</span>}
<span>obj</span>.<span>f1</span>, <span>obj</span>.<span>f3</span> <span>=</span> <span>obj</span>, <span>obj</span>.<span>f2</span>
<span>data</span> <span>=</span> <span>fury</span>.<span>serialize</span>(<span>obj</span>)
<span># bytes can be data serialized by other languages.</span>
<span>print</span>(<span>fury</span>.<span>deserialize</span>(<span>data</span>))</pre></div>
<p dir="auto"><strong>Golang</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="package main

import furygo &#34;github.com/alipay/fury/fury/go/fury&#34;
import &#34;fmt&#34;

func main() {
	type SomeClass struct {
		F1 *SomeClass
		F2 map[string]string
		F3 map[string]string
	}
	fury := furygo.NewFury(true)
	if err := fury.RegisterTagType(&#34;example.SomeClass&#34;, SomeClass{}); err != nil {
		panic(err)
	}
	value := &amp;SomeClass{F2: map[string]string{&#34;k1&#34;: &#34;v1&#34;, &#34;k2&#34;: &#34;v2&#34;}}
	value.F3 = value.F2
	value.F1 = value
	bytes, err := fury.Marshal(value)
	if err != nil {
	}
	var newValue interface{}
	// bytes can be data serialized by other languages.
	if err := fury.Unmarshal(bytes, &amp;newValue); err != nil {
		panic(err)
	}
	fmt.Println(newValue)
}"><pre><span>package</span> main

<span>import</span> furygo <span>&#34;github.com/alipay/fury/fury/go/fury&#34;</span>
<span>import</span> <span>&#34;fmt&#34;</span>

<span>func</span> <span>main</span>() {
	<span>type</span> <span>SomeClass</span> <span>struct</span> {
		<span>F1</span> <span>*</span><span>SomeClass</span>
		<span>F2</span> <span>map</span>[<span>string</span>]<span>string</span>
		<span>F3</span> <span>map</span>[<span>string</span>]<span>string</span>
	}
	<span>fury</span> <span>:=</span> <span>furygo</span>.<span>NewFury</span>(<span>true</span>)
	<span>if</span> <span>err</span> <span>:=</span> <span>fury</span>.<span>RegisterTagType</span>(<span>&#34;example.SomeClass&#34;</span>, <span>SomeClass</span>{}); <span>err</span> <span>!=</span> <span>nil</span> {
		<span>panic</span>(<span>err</span>)
	}
	<span>value</span> <span>:=</span> <span>&amp;</span><span>SomeClass</span>{<span>F2</span>: <span>map</span>[<span>string</span>]<span>string</span>{<span>&#34;k1&#34;</span>: <span>&#34;v1&#34;</span>, <span>&#34;k2&#34;</span>: <span>&#34;v2&#34;</span>}}
	<span>value</span>.<span>F3</span> <span>=</span> <span>value</span>.<span>F2</span>
	<span>value</span>.<span>F1</span> <span>=</span> <span>value</span>
	<span>bytes</span>, <span>err</span> <span>:=</span> <span>fury</span>.<span>Marshal</span>(<span>value</span>)
	<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
	}
	<span>var</span> <span>newValue</span> <span>interface</span>{}
	<span>// bytes can be data serialized by other languages.</span>
	<span>if</span> <span>err</span> <span>:=</span> <span>fury</span>.<span>Unmarshal</span>(<span>bytes</span>, <span>&amp;</span><span>newValue</span>); <span>err</span> <span>!=</span> <span>nil</span> {
		<span>panic</span>(<span>err</span>)
	}
	<span>fmt</span>.<span>Println</span>(<span>newValue</span>)
}</pre></div>
<h3 tabindex="-1" id="user-content-row-format" dir="auto"><a href="#row-format">Row format<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<h4 tabindex="-1" id="user-content-java-1" dir="auto"><a href="#java-1">Java<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h4>
<div dir="auto" data-snippet-clipboard-copy-content="public class Bar {
  String f1;
  List&lt;Long&gt; f2;
}

public class Foo {
  int f1;
  List&lt;Integer&gt; f2;
  Map&lt;String, Integer&gt; f3;
  List&lt;Bar&gt; f4;
}

RowEncoder&lt;Foo&gt; encoder = Encoders.bean(Foo.class);
Foo foo = new Foo();
foo.f1 = 10;
foo.f2 = IntStream.range(0, 1000000).boxed().collect(Collectors.toList());
foo.f3 = IntStream.range(0, 1000000).boxed().collect(Collectors.toMap(i -&gt; &#34;k&#34;+i, i-&gt;i));
List&lt;Bar&gt; bars = new ArrayList&lt;&gt;(1000000);
for (int i = 0; i &lt; 1000000; i++) {
  Bar bar = new Bar();
  bar.f1 = &#34;s&#34;+i;
  bar.f2 = LongStream.range(0, 10).boxed().collect(Collectors.toList());
  bars.add(bar);
}
foo.f4 = bars;
// Can be zero-copy read by python
BinaryRow binaryRow = encoder.toRow(foo);
// can be data from python
Foo newFoo = encoder.fromRow(binaryRow);
// zero-copy read List&lt;Integer&gt; f2
BinaryArray binaryArray2 = binaryRow.getArray(1);
// zero-copy read List&lt;Bar&gt; f4
BinaryArray binaryArray4 = binaryRow.getArray(3);
// zero-copy read 11th element of `readList&lt;Bar&gt; f4`
BinaryRow barStruct = binaryArray4.getStruct(10);

// zero-copy read 6th of f2 of 11th element of `readList&lt;Bar&gt; f4`
barStruct.getArray(1).getLong(5);
RowEncoder&lt;Bar&gt; barEncoder = Encoders.bean(Bar.class);
// deserialize part of data.
Bar newBar = barEncoder.fromRow(barStruct);
Bar newBar2 = barEncoder.fromRow(binaryArray4.getStruct(20));"><pre><span>public</span> <span>class</span> <span>Bar</span> {
  <span>String</span> <span>f1</span>;
  <span>List</span>&lt;<span>Long</span>&gt; <span>f2</span>;
}

<span>public</span> <span>class</span> <span>Foo</span> {
  <span>int</span> <span>f1</span>;
  <span>List</span>&lt;<span>Integer</span>&gt; <span>f2</span>;
  <span>Map</span>&lt;<span>String</span>, <span>Integer</span>&gt; <span>f3</span>;
  <span>List</span>&lt;<span>Bar</span>&gt; <span>f4</span>;
}

<span>RowEncoder</span>&lt;<span>Foo</span>&gt; <span>encoder</span> = <span>Encoders</span>.<span>bean</span>(<span>Foo</span>.<span>class</span>);
<span>Foo</span> <span>foo</span> = <span>new</span> <span>Foo</span>();
<span>foo</span>.<span>f1</span> = <span>10</span>;
<span>foo</span>.<span>f2</span> = <span>IntStream</span>.<span>range</span>(<span>0</span>, <span>1000000</span>).<span>boxed</span>().<span>collect</span>(<span>Collectors</span>.<span>toList</span>());
<span>foo</span>.<span>f3</span> = <span>IntStream</span>.<span>range</span>(<span>0</span>, <span>1000000</span>).<span>boxed</span>().<span>collect</span>(<span>Collectors</span>.<span>toMap</span>(<span>i</span> -&gt; <span>&#34;k&#34;</span>+<span>i</span>, <span>i</span>-&gt;<span>i</span>));
<span>List</span>&lt;<span>Bar</span>&gt; <span>bars</span> = <span>new</span> <span>ArrayList</span>&lt;&gt;(<span>1000000</span>);
<span>for</span> (<span>int</span> <span>i</span> = <span>0</span>; <span>i</span> &lt; <span>1000000</span>; <span>i</span>++) {
  <span>Bar</span> <span>bar</span> = <span>new</span> <span>Bar</span>();
  <span>bar</span>.<span>f1</span> = <span>&#34;s&#34;</span>+<span>i</span>;
  <span>bar</span>.<span>f2</span> = <span>LongStream</span>.<span>range</span>(<span>0</span>, <span>10</span>).<span>boxed</span>().<span>collect</span>(<span>Collectors</span>.<span>toList</span>());
  <span>bars</span>.<span>add</span>(<span>bar</span>);
}
<span>foo</span>.<span>f4</span> = <span>bars</span>;
<span>// Can be zero-copy read by python</span>
<span>BinaryRow</span> <span>binaryRow</span> = <span>encoder</span>.<span>toRow</span>(<span>foo</span>);
<span>// can be data from python</span>
<span>Foo</span> <span>newFoo</span> = <span>encoder</span>.<span>fromRow</span>(<span>binaryRow</span>);
<span>// zero-copy read List&lt;Integer&gt; f2</span>
<span>BinaryArray</span> <span>binaryArray2</span> = <span>binaryRow</span>.<span>getArray</span>(<span>1</span>);
<span>// zero-copy read List&lt;Bar&gt; f4</span>
<span>BinaryArray</span> <span>binaryArray4</span> = <span>binaryRow</span>.<span>getArray</span>(<span>3</span>);
<span>// zero-copy read 11th element of `readList&lt;Bar&gt; f4`</span>
<span>BinaryRow</span> <span>barStruct</span> = <span>binaryArray4</span>.<span>getStruct</span>(<span>10</span>);

<span>// zero-copy read 6th of f2 of 11th element of `readList&lt;Bar&gt; f4`</span>
<span>barStruct</span>.<span>getArray</span>(<span>1</span>).<span>getLong</span>(<span>5</span>);
<span>RowEncoder</span>&lt;<span>Bar</span>&gt; <span>barEncoder</span> = <span>Encoders</span>.<span>bean</span>(<span>Bar</span>.<span>class</span>);
<span>// deserialize part of data.</span>
<span>Bar</span> <span>newBar</span> = <span>barEncoder</span>.<span>fromRow</span>(<span>barStruct</span>);
<span>Bar</span> <span>newBar2</span> = <span>barEncoder</span>.<span>fromRow</span>(<span>binaryArray4</span>.<span>getStruct</span>(<span>20</span>));</pre></div>
<h4 tabindex="-1" id="user-content-python-1" dir="auto"><a href="#python-1">Python<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h4>
<div dir="auto" data-snippet-clipboard-copy-content="@dataclass
class Bar:
    f1: str
    f2: List[pa.int64]
@dataclass
class Foo:
    f1: pa.int32
    f2: List[pa.int32]
    f3: Dict[str, pa.int32]
    f4: List[Bar]

encoder = pyfury.encoder(Foo)
foo = Foo(f1=10, f2=list(range(1000_000)),
         f3={f&#34;k{i}&#34;: i for i in range(1000_000)},
         f4=[Bar(f1=f&#34;s{i}&#34;, f2=list(range(10))) for i in range(1000_000)])
binary: bytes = encoder.to_row(foo).to_bytes()
foo_row = pyfury.RowData(encoder.schema, binary)
print(foo_row.f2[100000], foo_row.f4[100000].f1, foo_row.f4[200000].f2[5])"><pre><span>@<span>dataclass</span></span>
<span>class</span> <span>Bar</span>:
    <span>f1</span>: <span>str</span>
    <span>f2</span>: <span>List</span>[<span>pa</span>.<span>int64</span>]
<span>@<span>dataclass</span></span>
<span>class</span> <span>Foo</span>:
    <span>f1</span>: <span>pa</span>.<span>int32</span>
    <span>f2</span>: <span>List</span>[<span>pa</span>.<span>int32</span>]
    <span>f3</span>: <span>Dict</span>[<span>str</span>, <span>pa</span>.<span>int32</span>]
    <span>f4</span>: <span>List</span>[<span>Bar</span>]

<span>encoder</span> <span>=</span> <span>pyfury</span>.<span>encoder</span>(<span>Foo</span>)
<span>foo</span> <span>=</span> <span>Foo</span>(<span>f1</span><span>=</span><span>10</span>, <span>f2</span><span>=</span><span>list</span>(<span>range</span>(<span>1000_000</span>)),
         <span>f3</span><span>=</span>{<span>f&#34;k<span><span>{</span><span>i</span><span>}</span></span>&#34;</span>: <span>i</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span>(<span>1000_000</span>)},
         <span>f4</span><span>=</span>[<span>Bar</span>(<span>f1</span><span>=</span><span>f&#34;s<span><span>{</span><span>i</span><span>}</span></span>&#34;</span>, <span>f2</span><span>=</span><span>list</span>(<span>range</span>(<span>10</span>))) <span>for</span> <span>i</span> <span>in</span> <span>range</span>(<span>1000_000</span>)])
<span>binary</span>: <span>bytes</span> <span>=</span> <span>encoder</span>.<span>to_row</span>(<span>foo</span>).<span>to_bytes</span>()
<span>foo_row</span> <span>=</span> <span>pyfury</span>.<span>RowData</span>(<span>encoder</span>.<span>schema</span>, <span>binary</span>)
<span>print</span>(<span>foo_row</span>.<span>f2</span>[<span>100000</span>], <span>foo_row</span>.<span>f4</span>[<span>100000</span>].<span>f1</span>, <span>foo_row</span>.<span>f4</span>[<span>200000</span>].<span>f2</span>[<span>5</span>])</pre></div>
<h2 tabindex="-1" id="user-content-compatibility" dir="auto"><a href="#compatibility">Compatibility<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 tabindex="-1" id="user-content-schema-compatibility" dir="auto"><a href="#schema-compatibility">Schema Compatibility<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">Fury java object graph serialization support class schema forward/backward compatibility. The serialization peer and deserialization peer can add/delete fields independently.</p>
<p dir="auto">We plan to add support cross-language serialization after <a href="https://github.com/alipay/fury/issues/203" data-hovercard-type="issue" data-hovercard-url="/alipay/fury/issues/203/hovercard">meta compression</a> are finished.</p>
<h3 tabindex="-1" id="user-content-binary-compatibility" dir="auto"><a href="#binary-compatibility">Binary Compatibility<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">We are still improving our protocols, binary compatibility are not ensured between fury major releases for now.
it&#39;s ensured between minor version only. Please
<code>versioning</code> your data by fury major version if you will upgrade fury in the future, see <a href="https://github.com/alipay/fury/blob/main/docs/guide/java_object_graph_guide.md#upgrade-fury">how to upgrade fury</a> for further details.</p>
<p dir="auto">Binary compatibility will be ensured before fury 1.0.</p>
<h2 tabindex="-1" id="user-content-security" dir="auto"><a href="#security">Security<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Static serialization are secure. But dynamic serialization such as fury java/python native serialization supports deserialize unregistered types, which provides more dynamics and flexibility, but also introduce security risks.</p>
<p dir="auto">For example, the deserialization may invoke <code>init</code> constructor or <code>equals</code>/<code>hashCode</code> method, if the method body contains malicious code, the system will be at risks.</p>
<p dir="auto">Fury provides a class registration option and enabled by default for such protocols, which allows only deserializing trusted registered types or built-in types.
<strong>Do not disable class registration unless you can ensure your environment is secure</strong>.</p>
<p dir="auto">If this option is disabled, you are responsible for serialization security. You can configure <code>io.fury.resolver.ClassChecker</code> by
<code>ClassResolver#setClassChecker</code> to control which classes are allowed for serialization.</p>
<h2 tabindex="-1" id="user-content-roadmap" dir="auto"><a href="#roadmap">RoadMap<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<ul dir="auto">
<li>Meta compression, auto meta sharing and cross-language schema compatibility.</li>
<li>AOT Framework for c++/golang/rust to generate code statically.</li>
<li>C++/Rust object graph serialization support</li>
<li>Golang/Rust/NodeJS row format support</li>
<li>ProtoBuffer compatibility support</li>
<li>Protocols for features and knowledge graph serialization</li>
<li>Continuously improve our serialization infrastructure for any new protocols</li>
</ul>
<h2 tabindex="-1" id="user-content-how-to-contribute" dir="auto"><a href="#how-to-contribute">How to Contribute<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Please read the <a href="https://github.com/alipay/fury/blob/main/CONTRIBUTING.md">CONTRIBUTING</a> guide.</p>
<p dir="auto">For ecosystem projects, please see <a href="https://github.com/fury-project">https://github.com/fury-project</a></p>
<h2 tabindex="-1" id="user-content-getting-involved" dir="auto"><a href="#getting-involved">Getting involved<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<table>
<thead>
<tr>
<th>Platform</th>
<th>Purpose</th>
<th>Estimated Response Time</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/alipay/fury/issues">GitHub Issues</a></td>
<td>For reporting bugs and filing feature requests.</td>
<td>&lt; 1 days</td>
</tr>
<tr>
<td><a href="https://join.slack.com/t/fury-project/shared_invite/zt-1u8soj4qc-ieYEu7ciHOqA2mo47llS8A" rel="nofollow">Slack</a></td>
<td>For collaborating with other Fury users and latest announcements about Fury.</td>
<td>&lt; 2 days</td>
</tr>
<tr>
<td><a href="https://stackoverflow.com/questions/tagged/fury" rel="nofollow">StackOverflow</a></td>
<td>For asking questions about how to use Fury.</td>
<td>&lt; 2 days</td>
</tr>
<tr>
<td><a href="https://www.zhihu.com/column/c_1638859452651765760" rel="nofollow">Zhihu</a>  <a href="https://twitter.com/fury_community" rel="nofollow">Twitter</a>  <a href="https://www.youtube.com/@FurySerialization" rel="nofollow">Youtube</a></td>
<td>Follow us for latest announcements about Fury.</td>
<td>&lt; 2 days</td>
</tr>
<tr>
<td>WeChat Official Account(å¾®ä¿¡å…¬ä¼—å·) / Dingding Group(é’‰é’‰ç¾¤)</td>
<td><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/images/fury_wechat_12.jpg"><img src="https://github.com/alipay/fury/raw/main/docs/images/fury_wechat_12.jpg" alt="WeChat Official Account " width="20%"/></a> <a target="_blank" rel="noopener noreferrer" href="https://github.com/alipay/fury/blob/main/docs/images/fury_dingtalk.png"><img src="https://github.com/alipay/fury/raw/main/docs/images/fury_dingtalk.png" alt="Dingding Group" width="20%"/></a> </p></td>
<td>&lt; 2 days</td>
</tr>
</tbody>
</table>
</article>
          </div></div>
  </body>
</html>
