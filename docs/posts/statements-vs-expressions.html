<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.joshwcomeau.com/javascript/statements-vs-expressions/">Original</a>
    <h1>Statements vs. Expressions</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><p>So, a few years ago, I was teaching web development at a local coding bootcamp, and a student asked me this question:</p><blockquote><p>What&#39;s the difference between a ‚Äústatement‚Äù and an ‚Äúexpression‚Äù in JavaScript?</p></blockquote><p>I felt like I knew the answer to this question, but when I tried to explain it, I couldn&#39;t put it into words. I had a <em>feeling</em> about it, but my actual knowledge was surprisingly hazy.</p><p>There&#39;s nothing more humbling than teaching üòÖ. Students have a knack for identifying the &#34;fuzzy spots&#34; in our understanding.</p><p>I&#39;ve since come to realize that this question is <em>supremely</em> important. It&#39;s a load-bearing concrete pillar that will help support a ton of JavaScript knowledge.</p><p>This is <em>especially</em> true for React developers. Most of those JSX rules you&#39;ve had to memorize, and always forget to follow, are the result of this statement/expression duality.</p><p>In this blog post, I&#39;m going to share some of the epiphanies I&#39;ve had about this distinction, and how we can use this information in our day-to-day work.</p><p>At its core, an expression is a bit of JavaScript code that produces a value.</p><p>For example, these are all expressions:</p><ul><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>1</code> ‚Üí produces <code>1</code></p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>&#34;hello&#34;</code> ‚Üí produces <code>&#34;hello&#34;</code></p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>5 * 10</code> ‚Üí produces <code>50</code></p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>num &gt; 100</code> ‚Üí produces either <code>true</code> or <code>false</code></p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>isHappy ? &#34;üôÇ&#34; : &#34;üôÅ&#34;</code> ‚Üí produces an emoji</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>[1, 2, 3].pop()</code> ‚Üí produces the number <code>3</code></p></li></ul><p>Expressions can contain expressions. For example, how many expressions do you count in this chunk of JS code? Make a guess, and then <em color="var(--color-secondary)">drag the slider</em> to see them each highlighted:</p><p>A JavaScript program is a sequence of statements. Each statement is an instruction for the computer to do something.</p><p>Here are some examples of statements in JavaScript:</p><pre></pre><pre></pre><pre></pre><p>Here&#39;s how I like to think about this: statements are the rigid structure that holds our program together, while expressions fill in the details.</p><p>Statements often have &#34;slots&#34; for expressions. We can put any expression we like into those slots.</p><p>For example, declaring a variable has an expression slot:</p><pre></pre><p>We can use <em>any of the expressions</em> we saw earlier in that slot:</p><pre></pre><p>In terms of valid syntax, expressions are <em>interchangeable</em>. If a statement has an expression slot, we can put <strong>any</strong> expression there, and the code will run. We won&#39;t get a syntax error.</p><p><em>That said,</em> we can still run into other issues. For example, the following code is syntactically valid, but we&#39;ll crash the browser tab if we try to run it, since it causes an infinite loop:</p><pre></pre><p>Want to know whether a chunk of JS is an expression or a statement? Try to log it out!</p><pre></pre><p>If it runs, the code is an <em>expression</em>. If you get an error, it&#39;s a <em>statement</em> (or, possibly, invalid JS).</p><p>As a bonus, we can even see what the expression resolves to, since it&#39;ll be printed in the browser console!</p><p>This works because <strong>all function arguments must be expressions.</strong> Expressions produce a value, and that value will be passed into the function. Statements don&#39;t produce a value, and so they can&#39;t be used as function arguments.</p><p>Even as an experienced developer, I rely a <em>ton</em> on <code>console.log</code>. It&#39;s a wonderfully versatile tool!</p><div><h2><a name="expressions-as-statements" id="expressions-as-statements" href="#expressions-as-statements"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg><p>Link to this heading</p></a>Expressions as statements</h2></div><p>Here is an expression: <code>1 + 2 + 3</code>.</p><p>What happens if we create a JS file that includes only this expression? Let&#39;s imagine we save the following content as <code>test.js</code>:</p><pre></pre><p>How many statements does this file have? Zero or one?</p><p>Here&#39;s the deal: expressions can&#39;t exist on their own. They&#39;re <em>always</em> part of a statement. And so in this case, we have a statement that looks like this:</p><pre></pre><p>The statement is essentially empty aside from its expression slot. Our expression <code>1 + 2 + 3</code> fills this slot, and our statement is complete.</p><p>In other words, all of the following lines are valid statements:</p><pre></pre><p>Often, tutorials will falsely state that expressions are statements, but this isn&#39;t quite right. Expressions and statements are distinct things. But it&#39;s possible for a statement to wrap around an expression without providing any additional characters. <strong>Think of it like wrapping a sandwich in clear shrink wrap.</strong></p><p>Statements typically end in a semi-colon, which marks the end of the statement. The semi-colon isn&#39;t necessary for certain statements, like <code>if</code> statements, <code>while</code> loops, and function declarations.</p><div><h2><a name="practical-implications-in-react" id="practical-implications-in-react" href="#practical-implications-in-react"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg><p>Link to this heading</p></a>Practical implications in React</h2></div><p>If you&#39;ve worked with React before, you&#39;re probably aware that squiggly brackets (<code>{</code> and <code>}</code>) allow us to embed bits of JavaScript within our JSX, like this:</p><pre></pre><p>This is part of what makes React so magical; we have the full power of JavaScript available to us.</p><p>But there&#39;s a catch ‚Äî we can&#39;t put <em>any</em> JavaScript inside the curly brackets. Specifically, we can only include <em>expressions</em>, not statements. The squiggly brackets essentially <strong>create an expression slot within our JSX.</strong></p><p>If we try to embed a <em>statement</em> here, like an if/else statement, we&#39;ll get an error:</p><pre></pre><p>This blows up because statements don&#39;t produce a value, only <em>expressions</em> produce a value. If we want to embed if/else logic in our JSX, we need to use a <a href="https://www.joshwcomeau.com/operator-lookup/?match=ternary">ternary operator</a> expression:</p><pre></pre><p>This might seem like a weird JSX/React limitation, but <strong>it&#39;s actually a JavaScript limitation.</strong></p><p>I think we often blame React for seemingly arbitrary rules, like how components must return a single top-level element. But more often than not, React is just warning us about a <em>JavaScript</em> limitation.</p><p>Understanding the difference between statements and expressions is an important first step towards demystifying a whole category of React warnings and bugs. We also need to learn about how JSX compiles into JavaScript, and how React&#39;s reconciliation and render cycle works‚Ä¶ but, alas, those topics are beyond the scope of this blog post!</p><p>Incidentally, I&#39;m in the process of creating a comprehensive React course, the resource I wish existed when I was learning React. It&#39;s called <a href="https://www.joyofreact.com/" rel="noopener noreferrer" target="_blank">The Joy of React</a>, and you can sign up for updates today!</p><p>A JavaScript program consists of a sequence of statements. Each statement is an instruction to do something, like create a variable, run an if/else condition, or start a loop.</p><p>Expressions produce a value, and these values are slotted into statements, like a Super Nintendo cartridge that changes what the Super Nintendo does.</p><p>Expressions are <em>always</em> part of a statement, even if that statement is otherwise empty. For example, the code below runs a loop <em>without</em> using a <code>for</code> statement, but it still includes an ‚Äúempty wrapper‚Äù statement:</p><pre></pre><p>It can take a while for this distinction to become intuitive, but hopefully this blog post has clarified a few things!</p></article></div></div></div>
  </body>
</html>
