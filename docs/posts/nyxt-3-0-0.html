<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nyxt.atlas.engineer/article/release-3.0.0.org">Original</a>
    <h1>Nyxt 3.0.0</h1>
    
    <div id="readability-page-1" class="page"><p><small>Tags: release.</small></p><div>


  <meta charset="utf-8"/>
  <meta name="generator" content="pandoc"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/>
  <title>Nyxt 3.0.0</title>
  
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->


<header>

</header>
<p>After working on 3.0.0 for approximately two years, it is finally here.</p>
<ul>
<li>Please feel free to share your feedback on our <a href="https://github.com/atlas-engineer/nyxt/issues">GitHub issue tracker</a>!</li>
<li>You can <a href="https://nyxt.atlas.engineer/download">download Nyxt 3.0.0</a>.</li>
<li><strong>Note:</strong> The Guix pack will be uploaded shortly!</li>
</ul>
<p>Happy Hacking :-)</p>
<p>Obligatory screenshots:</p>
<p><img src="https://nyxt.atlas.engineer/static/image/article/status_area.png"/></p>
<p><img src="https://nyxt.atlas.engineer/static/image/article/help_function.png"/></p>
<p><img src="https://nyxt.atlas.engineer/static/image/article/nyxt-3-6.png"/></p>
<p><img src="https://nyxt.atlas.engineer/static/image/article/prompt-buffer-redesigned.png"/></p>
<p>Note: many of the links below are designed to be opened in Nyxt.</p>

<div>
 <h2>3-pre-release-7</h2>
 <ul>
  <li>The configuration slots: <code>nyxt/mode/hint:fit-to-prompt-p</code> , <code>
    nyxt/mode/hint:auto-follow-hints-p</code> and <code>
    nyxt/mode/hint:compute-hints-in-view-port-p</code> are now deprecated in favor 
   of <a target="_blank" href="nyxt:describe-slot?name=%1Bnyxt%2Fmode%2Fhint%3Ahinting-type&amp;class=%1Bnyxt%2Fmode%2Fhint%3Ahint-mode" title="[SLOT of HINT-MODE]"><code>hinting-type</code></a> .
  </li><li>Move the <code>prompter</code> library to a separate repository.
  </li><li>Revision of default light and dark themes colors.
  </li><li>Major <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Fsearch-buffer%3Asearch-buffer-mode" title="[CLASS] Incremental search on a single or multiple buffers."><code>
     search-buffer-mode</code></a> refactor. The new implementation is more 
   accurate and more flexible, as it allows manipulating matches as Lisp objects.
  </li><li>Rename <code>keep-search-hints-p</code> slot to <a target="_blank" href="nyxt:describe-slot?name=%1Bkeep-search-marks-p&amp;class=%1Bdocument-buffer" title="[SLOT of DOCUMENT-BUFFER]"><code>keep-search-marks-p</code></a> .
  </li><li>Rename <code>remove-search-hints</code> command to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fsearch-buffer%3Aremove-search-marks" title="[COMMAND] Remove all search marks."><code>remove-search-marks ( UNBOUND )</code></a> 
   .
 </li></ul>
 <h3>Bindings</h3>
 <ul>
  <li>Rebind <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fdownload%3Alist-downloads" title="[COMMAND] Display a buffer listing all downloads."><code>list-downloads ( 
     C-s-Y )</code></a> . When using the CUA keyscheme, the keybinding was shadowed 
   by <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fhint%3Afollow-hint" title="[COMMAND] Prompt for element hints and open them in the current buffer.">
    <code>follow-hint ( UNBOUND )</code></a> .
  </li><li>Rebind <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fdocument%3Ajump-to-heading" title="[COMMAND] Jump to a particular heading, of type h1, h2, h3, h4, h5, or h6.">
    <code>jump-to-heading ( C-h )</code></a> for the CUA keyscheme.
 </li></ul>
 <h3>Programming interface</h3>
 <ul>
  <li>All mode packages have been renamed to <code>nyxt/mode/mode-name</code> .
  </li><li>The color palette of the <a target="_blank" href="nyxt:describe-class?class=%1Btheme%3Atheme" title="[CLASS]"><code>theme</code></a> 
   library has been revised and extended.
 </li></ul>
 <h3>Bug fixes</h3>
 <ul>
  <li>Update Flatpak build version.
  </li><li>Extensions directory is more carefully checked to avoid crashes.
 </li></ul>
</div>
<div>
 <h2>3-pre-release-6</h2>
 <ul>
  <li>Move <code>lisp-system</code> to separate repository as extension. The 
   functions <code>list-system</code> and <code>load-system</code> are no longer 
   available.
  </li><li>Add tree style hinting when both <code>nyxt/mode/hint:fit-to-prompt-p</code> 
   and <code>nyxt/mode/hint:auto-follow-hints-p</code> are enabled.
  </li><li>Tree style hinting now highlights hints by dimming the matched characters.
  </li><li>Move <code>os-package-manager-mode</code> to separate repository as 
   extension.
 </li></ul>
 <h3>Bug fixes</h3>
 <ul>
  <li>Switching focus away from Nyxt doesn&#39;t make it unfullscreen anymore.
  </li><li>Fix enable modes&#39;s: <code>inactive-mode-source</code> .
  </li><li>Fix annotation mode to properly render annotations.
  </li><li>Fix <code>list-bookmarks</code> .
  </li><li>Fix <code>select-frame-new-buffer</code> and <code>select-frame-expedition</code> 
   .
 </li></ul>
</div>
<div>
 <h2>3-pre-release-5</h2>
 <ul>
  <li>Code listings on manual and help system are more readable.
  </li><li>The REPL features <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Frepl%3Ashell-cell" title="[CLASS] A cell type for shell commands."><code>shell cells</code></a> , 
   which pass commands to the underlying system shell.
  </li><li>The prompt buffer tab interface has been updated. Tabs are stably sorted and 
   do not shuffle around. It is now possible to middle click to delete tabs.
  </li><li>Many prompts are filtered more aggressively, resulting in more exact 
   suggestions.
 </li></ul>
 <h3>Programming interface</h3>
 <ul>
  <li>Spinneret tags like <code>:nxref</code> , <code>:ncode</code> , and <code>
    :nbutton</code> are refactored for debuggability and obviousness.
  </li><li>New <code>ntoc</code> tag for Table of Contents generation.
  </li><li>The REPL is extensible via <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Frepl%3Acell" title="[CLASS] The universal REPL cell, allowing to customize the REPL."><code>
     cell class</code></a> and its methods.
 </li></ul>
</div>
<div>
 <h2>3-pre-release-4</h2>
 <ul>
  <li>With <a target="_blank" href="nyxt:describe-slot?name=%1Bdynamic-attribute-width-p&amp;class=%1Bprompt-buffer" title="[SLOT of PROMPT-BUFFER]"><code>dynamic-attribute-width-p</code></a> on, 
   prompt buffer attribute columns adjust to their content, allowing for a better 
   overview of lengthy attributes.
  </li><li>Status buffer improved for increased readability. Mode area reduced in size. 
   Glyphs for navigation control buttons updated. Tabs area restyled to look like 
   buttons.
  </li><li>Search engines are now listed with their full name (when available).
  </li><li><code>:ncode</code> blocks now include syntax highlighting and clickable 
   elements.
  </li><li>Internal buffers are now rendered in the status area as: <code>internal</code> 
   .
 </li></ul>
 <h3>Bindings</h3>
 <ul>
  <li>Add <a target="_blank" href="nyxt:describe-function?fn=%1Btoggle-prompt-buffer-focus" title="[COMMAND] Toggle the focus between the current buffer and the current prompt buffer.">
    <code>toggle-prompt-buffer-focus ( M-o )</code></a> .
  </li><li>Add <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Afirst-suggestion-within-source" title="[COMMAND] Select first entry in the current PROMPT-BUFFER&#39;s source."><code>
     first-suggestion-within-source ( UNBOUND )</code></a> .
  </li><li>Add <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Alast-suggestion-within-source" title="[COMMAND] Select last entry in the current PROMPT-BUFFER&#39;s source."><code>
     last-suggestion-within-source ( UNBOUND )</code></a> .
 </li></ul>
 <h3>Bug fixes</h3>
 <ul>
  <li>Trying to delete a hanged buffer destroys it, instead of leaving it dangling 
   forever.
 </li></ul>
</div>
<div>
 <h2>3-pre-release-3</h2>
 <ul>
  <li><code>nyxt/mode/repl:lisp-repl</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Frepl%3Arepl" title="[COMMAND] Create a Nyxt REPL buffer."><code>repl ( UNBOUND )</code></a> 
   and redesigned to be more approachable with buttons and commands controlling 
   cell formatting, deletion, cleaning, and movement.
  </li><li>New prediction capabilities. Nyxt can now predict your next command, it will 
   show up automatically in the execute-command menu. Nyxt uses a stochastic model 
   to generate predictions for what your next command will be. The model is stored 
   locally and is cleared after every session.
  </li><li>New <code>describe-mode</code> command (an alias for <code>describe-class</code> 
   ).
  </li><li><code>describe-command</code> became an alias for <code>describe-function</code> 
   .
  </li><li><code>auto-mode</code> is now incorporated into Nyxt core, with its settings 
   residing in <a target="_blank" href="nyxt:describe-class?class=%1Bmodable-buffer" title="[CLASS] A buffer whose behavior can be modified with `mode&#39;s."><code>
     modable-buffer</code></a> now.
  </li><li>Support for key files and Yubikey locking in KeePassXC password interface.
  <ul>
   <li>There are default rules for Gopher, Gemini, and Nyxt-internal-pages.
   </li><li>The rules file is now moved to auto-rules.lisp (instead of the old 
    auto-mode-rules.lisp).
  </li></ul>
  </li><li>Startup is more robust against corrupted history files.
  </li><li><code>diff-mode</code> is removed.
  </li><li>History globality can be set on a per-buffer basis.  See the <code>
    global-history-p</code> slot in <code>context-buffer</code> .
  </li><li><a target="_blank" href="nyxt:describe-slot?name=%1Bbacktrack-to-hubs-p&amp;class=%1Bnyxt%2Fmode%2Fhistory%3Ahistory-mode" title="[SLOT of HISTORY-MODE]"><code>backtrack-to-hubs-p</code></a> allows to 
   revisit the &#34;hub&#34; URLs you often visit, instead of adding them to 
   history anew.
  </li><li>nyxt:// pages can be linked from the outside Internet due to scheme security 
   settings changes.
  </li><li>When started with <code>--remote</code> and without <code>--quit</code> , 
   Nyxt now reads s-expression from standard input and sends it to the remote 
   process.  This avoids the performance penalty of a new process startup on each 
   iteration.
 </li></ul>
 <h3>Bindings</h3>
 <ul>
  <li>Add <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Aset-action-on-current-suggestion" title="[COMMAND] Set `prompter:actions-on-current-suggestion&#39; without closing PROMPT-BUFFER.">
    <code>set-action-on-current-suggestion ( UNBOUND )</code></a> , bound to <code>
    C-c C-j</code> by default.
 </li></ul>
 <h3>Programming interface</h3>
 <ul>
  <li><a target="_blank" href="nyxt:describe-function?fn=%1Bdefine-configuration" title="[FUNCTION] Helper macro to customize the class slots of the CLASSES.">
    <code>define-configuration</code></a> automatically resolves class names and 
   slot names even without package prefix.
  </li><li>Keybindings are also resolved to reasonable commands when necessary.
  </li><li>Generate methods instead of functions in <a target="_blank" href="nyxt:describe-function?fn=%1Bdefine-parenscript" title="[FUNCTION] Define parenscript function SCRIPT-NAME."><code>
     define-parenscript</code></a> and <a target="_blank" href="nyxt:describe-function?fn=%1Bdefine-parenscript-async" title="[FUNCTION] Like `define-parenscript&#39;, but Javascript runs asynchronously.">
    <code>define-parenscript-async</code></a> to ease hooking into those with, for 
   example, <code>:around</code> methods.
  </li><li><a target="_blank" href="nyxt:describe-slot?name=%1Bafter-init-hook&amp;class=%1Bbrowser" title="[SLOT of BROWSER]"><code>after-init-hook</code></a> and <a target="_blank" href="nyxt:describe-slot?name=%1Bafter-startup-hook&amp;class=%1Bbrowser" title="[SLOT of BROWSER]"><code>after-startup-hook</code></a> are browser slots, 
   instead of global variables they used to be.
  </li><li>Allow the command argument to <a target="_blank" href="nyxt:describe-function?fn=%1Bffi-add-context-menu-command" title="[FUNCTION]">
    <code>ffi-add-context-menu-command</code></a> to be an arbitrary function.
  </li><li>New package nicknames:
   <ul>
    <li><code>time</code> for <code>local-time</code>
    </li><li><code>types</code> for <code>trivial-types</code>
    </li><li><code>sym</code> for <code>nsymbols</code>
   </li></ul>
  </li><li>The third value in the <a target="_blank" href="nyxt:describe-function?fn=%1Bprompter%3Aobject-attributes" title="[FUNCTION] Return an alist of non-dotted lists (ATTRIBUTE-KEY ATTRIBUTE-VALUE ...) for OBJECT.">
    <code>object-attributes</code></a> is interpreted as display HTML for the 
   suggestion. See the color-picker support as an example application for this 
   feature.
  </li><li>Universal describe-* commands have been replaced with new sources for the 
   regular commands, such as <code>function-non-nyxt-source</code> , <code>
    function-internal-source</code> and so on.
  </li><li>The <code>browser</code> class has a <code>profile</code> slot.
  </li><li>Renderers are now first class objects, see the <code>renderer</code> class. 
   It&#39;s possible to change renderer from a same REPL session.
  </li><li><a target="_blank" href="nyxt:describe-function?fn=%1Bset-url" title="[COMMAND] Set the URL for the current buffer, completing with history.">
    <code>set-url ( C-l )</code></a> and <a target="_blank" href="nyxt:describe-function?fn=%1Bset-url-new-buffer" title="[COMMAND] Prompt for a URL and set it in a new focused buffer."><code>
     set-url-new-buffer ( M-l )</code></a> accept the <code>:URL</code> keyword 
   argument and load it when provided.
  </li><li>New <a target="_blank" href="nyxt:describe-function?fn=%1Bffi-height" title="[FUNCTION]"><code>ffi-height</code></a> and <a target="_blank" href="nyxt:describe-function?fn=%1Bffi-width" title="[FUNCTION]"><code>ffi-width</code></a> 
   methods to unify most of the height &amp; width methods used before.
  </li><li>Rename <code>prompter:return-actions</code> to <a target="_blank" href="nyxt:describe-function?fn=%1Bprompter%3Aactions-on-return" title="[FUNCTION] Return the list of contextual `actions-on-return&#39;."><code>
     actions-on-return</code></a> .
  </li><li>Rename <code>prompter:marks-actions</code> to <a target="_blank" href="nyxt:describe-function?fn=%1Bprompter%3Aactions-on-marks" title="[FUNCTION]">
    <code>actions-on-marks</code></a> .
  </li><li>Rename <code>prompter:selection-actions</code> to <a target="_blank" href="nyxt:describe-function?fn=%1Bprompter%3Aactions-on-current-suggestion" title="[FUNCTION]"><code>actions-on-current-suggestion</code></a> .
  </li><li>Rename <code>prompter:return-action</code> to <a target="_blank" href="nyxt:describe-slot?name=%1Bprompter%3Aactions-on-return&amp;class=%1Bprompter" title="[SLOT of PROMPTER] Return the list of contextual `actions-on-return&#39;.">
    <code>actions-on-return</code></a> .
  </li><li>Rename <code>prompter:marks-actions</code> to <a target="_blank" href="nyxt:describe-slot?name=%1Bprompter%3Aactions-on-marks&amp;class=%1Bprompter" title="[SLOT of PROMPTER]"><code>actions-on-marks</code></a> .
  </li><li>Rename <code>prompter:selection-actions</code> to <a target="_blank" href="nyxt:describe-slot?name=%1Bprompter%3Aactions-on-current-suggestion&amp;class=%1Bprompter" title="[SLOT of PROMPTER]"><code>actions-on-current-suggestion</code></a> .
  </li><li>Rename <code>prompter:multi-selection-p</code> to <a target="_blank" href="nyxt:describe-slot?name=%1Bprompter%3Aenable-marks-p&amp;class=%1Bprompter" title="[SLOT of PROMPTER]"><code>enable-marks-p</code></a> .
  </li><li><code>nyxt/mode/prompt-buffer:return-selection</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Arun-action-on-return" title="[COMMAND] Have the PROMPT-BUFFER return the marks, then quit."><code>
     run-action-on-return ( UNBOUND )</code></a> . The default keybinding is the 
   same.
  </li><li><code>nyxt/mode/prompt-buffer:cancel-input</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Aquit-prompt-buffer" title="[COMMAND] Close the PROMPT-BUFFER without further action."><code>
     quit-prompt-buffer ( UNBOUND )</code></a> . The default keybinding is the 
   same.
  </li><li><code>nyxt/mode/prompt-buffer:toggle-toggle-mark-backwards</code> renamed to 
   <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Atoggle-mark-backwards" title="[COMMAND] Mark current suggestion and `previous-suggestion&#39;."><code>
     toggle-mark-backwards ( UNBOUND )</code></a> . The default keybinding is the 
   same.
  </li><li><code>nyxt/mode/prompt-buffer:toggle-mark</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Atoggle-mark-forwards" title="[COMMAND] Mark current suggestion and `next-suggestion&#39;."><code>
     toggle-mark-forwards ( UNBOUND )</code></a> . The default keybinding is the 
   same.
  </li><li><code>nyxt/mode/prompt-buffer:select-next-source</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Anext-source" title="[COMMAND] Select next source in PROMPT-BUFFER."><code>next-source ( UNBOUND 
     )</code></a> . The default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:select-previous-source</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Aprevious-source" title="[COMMAND] Select previous source in PROMPT-BUFFER."><code>previous-source ( 
     UNBOUND )</code></a> . The default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:select-next-page</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Anext-page" title="[COMMAND] Select entry by N next pages in PROMPT-BUFFER."><code>next-page ( 
     UNBOUND )</code></a> . The default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:select-previous-page</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Aprevious-page" title="[COMMAND] Select entry by N previous pages in PROMPT-BUFFER."><code>
     previous-page ( UNBOUND )</code></a> . The default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:select-last</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Alast-suggestion" title="[COMMAND] Select last entry in PROMPT-BUFFER."><code>last-suggestion ( 
     UNBOUND )</code></a> . The default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:select-first</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Afirst-suggestion" title="[COMMAND] Select first entry in PROMPT-BUFFER."><code>first-suggestion ( 
     UNBOUND )</code></a> . The default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:select-next</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Anext-suggestion" title="[COMMAND] Select next entry in prompt buffer."><code>next-suggestion ( 
     UNBOUND )</code></a> . The default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:select-previous</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Aprevious-suggestion" title="[COMMAND] Select previous entry in PROMPT-BUFFER."><code>
     previous-suggestion ( UNBOUND )</code></a> . The default keybinding is the 
   same.
  </li><li><code>nyxt/mode/prompt-buffer:set-selection-action</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Aset-action-on-return" title="[COMMAND] Prompt for an action to run over PROMPT-BUFFER `prompter:marks&#39;.">
    <code>set-action-on-return ( UNBOUND )</code></a> . The default keybinding is 
   the same.
  </li><li><code>nyxt/mode/prompt-buffer:run-selection-action</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Arun-action-on-current-suggestion" title="[COMMAND] Run `prompter::default-action-on-current-suggestion&#39; without closing PROMPT-BUFFER.">
    <code>run-action-on-current-suggestion ( UNBOUND )</code></a> . The default 
   keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:toggle-selection-actions-enabled</code> renamed 
   to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Atoggle-actions-on-current-suggestion-enabled" title="[COMMAND] Toggle whether `prompter:actions-on-current-suggestion&#39; are enabled for PROMPT-BUFFER.">
    <code>toggle-actions-on-current-suggestion-enabled ( UNBOUND )</code></a> . The 
   default keybinding is the same.
  </li><li><code>nyxt/mode/prompt-buffer:insert-selection</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fprompt-buffer%3Ainsert-current-suggestion" title="[COMMAND] Insert current suggestion default property in the PROMPT-BUFFER input.">
    <code>insert-current-suggestion ( UNBOUND )</code></a> . The default keybinding 
   is the same.
 </li></ul>
 <h3>Bug fixes</h3>
 <ul>
  <li>VI insert mode is triggered in more cases where it should be triggered.
  </li><li>Invoke the right WebKit command when cutting text with <a target="_blank" href="nyxt:describe-function?fn=%1Bffi-buffer-cut" title="[FUNCTION]">
    <code>ffi-buffer-cut</code></a>
  </li><li>Fix the display of history suggestions when going forward in history.
  </li><li>Security: all the non-ASCII domain names are shown as IDN punycodes in 
   addition to aesthetic display in status buffer.
  </li><li>The canceled page requests are stored to history, making it more consistent.
 </li></ul>
</div>
<div>
 <h2>3-pre-release-2</h2>
 <ul>
  <li><a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Freduce-tracking%3Areduce-tracking-mode" title="[CLASS] Set specific settings in the web view in order to mitigate fingerprinting,">
    <code>reduce-tracking-mode</code></a> cleans widely known tracking query 
   parameters.
  </li><li>Improve the algorithm that determines whether an element is in viewport.
  </li><li>Rename <code>nyxt/mode/hint:box-style</code> to <a target="_blank" href="nyxt:describe-slot?name=%1Bstyle&amp;class=%1Bnyxt%2Fmode%2Fhint%3Ahint-mode" title="[SLOT of HINT-MODE]"><code>style</code></a> .
  </li><li>Deprecate <code>nyxt/mode/hint:highlighted-box-style</code> and merge into <a target="_blank" href="nyxt:describe-slot?name=%1Bstyle&amp;class=%1Bnyxt%2Fmode%2Fhint%3Ahint-mode" title="[SLOT of HINT-MODE]"><code>style</code></a> .
  </li><li>Remove <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Fhint%3Ahint-mode" title="[CLASS] Interact with elements by typing a short character sequence.">
    <code>hint-mode</code></a> image support by default.
  </li><li>Add <code>nyxt/mode/hint:compute-hints-in-view-port-p</code> allowing hints 
   to be optionally computed in viewport.
  </li><li>Add <a target="_blank" href="nyxt:describe-slot?name=%1Bheight&amp;class=%1Bprompt-buffer" title="[SLOT of PROMPT-BUFFER]"><code>height</code></a> .
  </li><li>Add <code>nyxt/mode/hint:fit-to-prompt-p</code> minimizing the space taken by 
   the prompt buffer while navigating hints.
  </li><li>Add <a target="_blank" href="nyxt:describe-slot?name=%1Bnyxt%2Fmode%2Fhint%3Ashow-hint-scope-p&amp;class=%1Bnyxt%2Fmode%2Fhint%3Ahint-mode" title="[SLOT of HINT-MODE]"><code>show-hint-scope-p</code></a> for element 
   highlighting of hinted elements.
  </li><li>Add <code>prompter:marks-actions</code> that run when marked items on 
   prompt-buffer change.
  </li><li>Extend <a target="_blank" href="nyxt:describe-slot?name=%1Bstyle&amp;class=%1Bnyxt%2Fmode%2Fhint%3Ahint-mode" title="[SLOT of HINT-MODE]"><code>style</code></a> to accommodate for marked 
   hints.
  </li><li><code>default-modes</code> can be configured with <code>%slot-value%</code> .
  </li><li>Add <a target="_blank" href="nyxt:describe-function?fn=%1Btoggle-maximize" title="[COMMAND] Maximize WINDOW, or the current window, when omitted."><code>
     toggle-maximize ( UNBOUND )</code></a> command for maximizing a window.
  </li><li>All copying and pasting commands populate <a target="_blank" href="nyxt:describe-slot?name=%1Bclipboard-ring&amp;class=%1Bbrowser" title="[SLOT of BROWSER]"><code>clipboard-ring</code></a> reliably, thus fixing 
   the <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fdocument%3Apaste-from-clipboard-ring" title="[COMMAND] Show `*browser*&#39; clipboard ring and paste selected entry."><code>
     paste-from-clipboard-ring ( M-v )</code></a> command.
  </li><li>Major improvement of <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Feditor%3Aeditor-mode" title="[CLASS] Mode for editor modes to extend."><code>editor-mode</code></a> .
  </li><li><code>execute-command</code> evaluates arbitrary Lisp code and provides 
   inline documentation for symbols.
  </li><li>New <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Fremembrance%3Aremembrance-mode" title="[CLASS] Cache the textual content of visited pages."><code>remembrance-mode</code></a> 
   to automatically cache the visited page content.  The cache can be looked up and 
   the page textual content can be displayed even offline. See <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fremembrance%3Arecollect-visited-page" title="[FUNCTION] Search the local cache for URL, title and content."><code>
     recollect-visited-page</code></a> .
  </li><li><code>auto-mode</code> is incorporated into Nyxt core, with its settings 
   residing in <a target="_blank" href="nyxt:describe-class?class=%1Bmodable-buffer" title="[CLASS] A buffer whose behavior can be modified with `mode&#39;s."><code>
     modable-buffer</code></a> .
  <ul>
   <li>The new <a target="_blank" href="nyxt:describe-slot?name=%1Bapply-all-matching-auto-rules-p&amp;class=%1Bmodable-buffer" title="[SLOT of MODABLE-BUFFER]"><code>apply-all-matching-auto-rules-p</code></a> 
    allows you to apply all the matching auto-rules instead of the most specific 
    one.
   </li><li>There are default rules for Gopher, Gemini, and Nyxt-internal-pages.
   </li><li>The rules file is now moved to auto-rules.lisp (instead of the old 
    auto-mode-rules.lisp)
  </li></ul>
 </li></ul>
 <h3>Bindings</h3>
 <ul>
  <li><a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Feditor%3Aeditor-mode" title="[CLASS] Mode for editor modes to extend."><code>editor-mode</code></a> 
   now has an equally powerful set of bindings in all key schemes, allowing one to 
   open a file, save it, switch buffer or delete current buffer.
  </li><li><a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fdocument%3Apaste-from-clipboard-ring" title="[COMMAND] Show `*browser*&#39; clipboard ring and paste selected entry."><code>
     paste-from-clipboard-ring ( M-v )</code></a> is now conveniently bound to 
   <code>M-y</code> in Emacs scheme of <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Fdocument%3Adocument-mode" title="[CLASS] Base mode for interacting with documents."><code>document-mode</code></a> 
   .
  </li><li>Prompt buffer now has familiar bindings for text cutting.
  </li><li>Add <code>nyxt/mode/prompt-buffer:set-selection-action</code> , bound to 
   <code>C-c C-j</code> by default.
  </li><li><code>return-selection-over-action</code> renamed to <code>
    nyxt/mode/prompt-buffer:return-marks-action</code> . The default keybinding is 
   the same.
 </li></ul>
 <h3>Programming interface</h3>
 <ul>
  <li><a target="_blank" href="nyxt:describe-function?fn=%1Bffi-buffer-copy" title="[FUNCTION]"><code>
     ffi-buffer-copy</code></a> and <a target="_blank" href="nyxt:describe-function?fn=%1Bffi-buffer-paste" title="[FUNCTION]"><code>
     ffi-buffer-paste</code></a> now accept optional second argument — string to 
   put into clipboard instead of the selection, and the string to paste instead of 
   the clipboard (respectively).
  </li><li><a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Feditor%3Aeditor-mode" title="[CLASS] Mode for editor modes to extend."><code>editor-mode</code></a> 
   now has an additional method to implement for the backends:<a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Feditor%3Amarkup" title="[FUNCTION] Produce:"><code>markup</code></a> . This method defines how 
   the initial editor markup (not necessarily HTML one) will look like.
  </li><li><code>encode-json</code> and <code>decode-json</code> functions are now 
   capable of encoding from/decoding to files, strings and streams.
  </li><li><a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fdom%3Acopy" title="[FUNCTION] Produce a full copy of NODE as belonging to the PARENT node.">
    <code>copy</code></a> generic to copy elements and whole DOMs.
  </li><li>New <code>DEFINE-BOOKMARKLET-COMMAND-GLOBAL</code> that allows to define 
   bookmarklets globally.
  </li><li><code>open-new-editor-with-file</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Feditor%3Aedit-file" title="[COMMAND] Open a new editor and query a FILE to edit in it."><code>
     edit-file ( UNBOUND )</code></a> .
  </li><li>Add <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Ffile-manager%3Aedit-file-with-external-editor" title="[COMMAND] Edit the FILES using `external-editor-program&#39;."><code>
     edit-file-with-external-editor ( UNBOUND )</code></a> to edit arbitrary files 
   in the editor of choice.
  </li><li><code>peval</code> and <code>pflet</code> renamed to <a target="_blank" href="nyxt:describe-function?fn=%1Bps-eval" title="[FUNCTION] Generate the JavaScript code and run it right away."><code>
     ps-eval</code></a> and <a target="_blank" href="nyxt:describe-function?fn=%1Bps-labels" title="[FUNCTION]"><code>ps-labels</code></a> 
   (respectively).
  </li><li>Add <a target="_blank" href="nyxt:describe-function?fn=%1Bffi-add-context-menu-command" title="[FUNCTION]">
    <code>ffi-add-context-menu-command</code></a> to add custom context menu 
   commands.
 </li></ul>
 <h3>Bug fixes</h3>
 <ul>
  <li>Security: don&#39;t read arbitrary Lisp values from URLs when searching for 
   internal pages.
  </li><li>Improve version parsing so that it is aware of pre-releases (notice that it 
   propagates to reader macros such as <code>#+nyxt-3-pre-release-2</code> .
  </li><li>Fix touchscreen gestures for VI mode.
  </li><li>Fix processing via relative paths when opening files.
  </li><li>Setting <a target="_blank" href="nyxt:describe-slot?name=%1Brestore-session-on-startup-p&amp;class=%1Bbrowser" title="[SLOT of BROWSER]"><code>restore-session-on-startup-p</code></a> no 
   longer hangs the browser.
  </li><li>Fix buffer re-attachment from the deleted window.
  </li><li>Move download hooks to <a target="_blank" href="nyxt:describe-class?class=%1Bnyxt%2Fmode%2Fdownload%3Adownload" title="[CLASS] This class is used to represent a download within"><code>download</code></a> 
   enabling proper typing and adding handlers to them.
  </li><li>Clipboard ring is properly filled on every clipboard action happening inside 
   Nyxt.
  </li><li><a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fdocument%3Aview-source" title="[COMMAND] View source of the URL (by default current page) in a separate buffer.">
    <code>view-source ( UNBOUND )</code></a> returns an unmodified DOM without 
   <code>nyxt-identifier</code> s or other Nyxt-specific implementation details.
  </li><li>Fix <a target="_blank" href="nyxt:describe-function?fn=%1Bnyxt%2Fmode%2Fhistory%3Ahistory-backwards" title="[COMMAND] Go to parent URL in history."><code>history-backwards ( UNBOUND )</code></a> 
   by gracefully handling pages that are not yet done loading.
  </li><li>Fix full-screening event handling — status buffer no longer goes off-sync 
   with the full-screened page/video.
 </li></ul>
</div>
<div>
 <h2>3-pre-release-1</h2>
 <ul>
  <li>New <code>migration-guide</code> command to help the user mgirate  their 
   configuration between major version releases.  Migration suggestions are 
   automatically given on startup error.
  </li><li>The auto-config file is now suffixed with the major version number. This 
   means that upgrading Nyxt to a new major version will ignore the previous 
   auto-configuration (which probably wouldn&#39;t work anyways).
  </li><li>UserScript support (such as GreaseMonkey scripts).
  </li><li>Revamp status buffer design.
  </li><li>Status buffer is now fully customizable.
  </li><li>New prompt buffer fuzzy matching algorithm, hopefully offering more relevant 
   results. (Thanks to @BlueFlo0d!)
  </li><li>Add support for the Gopher and Gemini protocols.
  </li><li>Headless mode available through <code>--headless</code> CLI switch. Initfile 
   becomes the script to run in the headless instance on Nyxt.
  </li><li>New <code>save-input-data</code> , <code>set-input-data-from-saved</code> and 
   <code>set-input-data-from-saved-domain</code> commands to record and restore 
   input fields.
  </li><li>Color-picker support when <code>native-dialogs</code> are on.
  </li><li>Internal pages are now using the <code>nyxt</code> URL scheme. They support 
   the <code>lisp</code> protocol to allow evaluating arbitrary Lisp, for instance 
   from a button click. Internal pages also have a URL now, which means they have 
   history support.
  </li><li>New <code>define-internal-page-command</code> and<code>
    define-internal-page-command-global</code> helpers to define internal pages.
  </li><li><code>define-panel-command</code> and <code>define-panel-command-global</code> 
   helpers to define new panels are exported now. You can freely use them in your 
   config.
  </li><li>New <code>define-internal-scheme</code> helper to define custom schemes.
  </li><li><code>jump-to-heading</code> command now sort and indent the headings in a 
   natural fashion.
  </li><li>New <code>next-heading</code> and <code>previous-heading</code> commands to 
   jump between neighboring headings.
  </li><li>New <code>match-port</code> URL designator predicate for auto-mode rules.
  </li><li>New <code>toggle-message-buffer</code> and <code>toggle-status-buffer</code> 
   commands.
  </li><li>New <code>bookmark-frequent-visits</code> mode.
  </li><li>New <code>repeat-key</code> command repeating the provided key as many times 
   as you like.
  </li><li><code>application-mode</code> is now <code>passthrough-mode</code> .
  </li><li><code>web-mode</code> is no more. Instead much of its features has been moved 
   to the new <code>document-mode</code> . The buffer history management is now 
   handled in a separate mode, <code>history-mode</code> .<code>bookmarklets</code> 
   have they own mode too, <code>bookmarklets-mode</code> .
  </li><li>Internal pages are now also <code>web-buffer</code> s. Most of the buffer 
   customizations can be done on the <code>web-buffer</code> class.
  </li><li>The buffer hierarchy has been redesigned. Now <code>buffer</code> is a 
   minimal class and instantiating such a buffer is only useful if you need a dummy 
   buffer. <code>web-buffer</code> inherits from a mix of specialized buffer 
   subclasses, such as <code>mode-buffer</code> and <code>input-buffer</code> . For 
   the full list, see the <code>buffer</code> class documentation and browse its 
   subclasses.
  </li><li>Revamped lisp-repl. Multiple commands can be run at the same time. Results 
   can be referred to via dynamic variables.
  </li><li>The history-tree buffer links are now clickable  and navigate the 
   corresponding buffer to the corresponding history entry.
  </li><li>Fixed context menu entries to match Nyxt more.
  </li><li>The source code is not shipped together with Nyxt. This enables to inspect 
   the source of most Nyxt functions.
  </li><li><code>load-after-system</code> and <code>nyxt-config-file</code> have been 
   replaced with <code>define-nyxt-user-system</code> and <code>
    define-nyxt-user-system-and-load</code> .
  </li><li>Slynk is a new dependency and SLY users can now connect to a running Nyxt 
   instance the <code>start-slynk</code> command. (Thanks to @jgart!)
  </li><li>Session is restored on startup by default. Slot <code>session-restore-prompt</code> 
   has been replaced by <code>restore-session-on-startup-p</code> , a boolean.
  </li><li>Prompt buffer mouse support can be disabled with the <code>mouse-support-p</code> 
   prompt buffer slot. (Thanks to @efimerspan!)
 </li></ul>
 <h3>Bindings</h3>
 <ul>
  <li>Add Emacs/VI text editing bindings in <code>prompt-buffer-mode</code> and 
   <code>lisp-repl</code> .
  </li><li>Rebind <code>history-forwards</code> to <code>history-forwards-maybe-query</code> 
   in the Emacs and VI schemes.
  </li><li>Rebind <code>bookmark-url</code> and <code>copy-title</code> to be more 
   consistent with other bindings.
 </li></ul>
 <h3>Programming interface</h3>
 <ul>
  <li>Nyxt-native debugger available via <code>toggle-debug-on-error</code> .
  </li><li>Better Lisp values inspection in <code>describe-*</code> commands and <code>
    lisp-repl</code> , extensible through <code>value-&gt;html</code> method.
  </li><li>Universal describe-* commands describing things in any Nyxt-accessible 
   package. Available via <code>C-h u</code> key prefix.
  </li><li><code>*after-startup-hook*</code> to attach headless mode actions or 
   configuration to.
  </li><li>Thread name is now mandatory in <code>run-thread</code> .
  </li><li>New <code>nyxt-unstable</code> <code>*features*</code> when built from source 
   on an untagged commit. A feature with the commit is also added.
  </li><li>New <code>prompt1</code> helper.
  </li><li>New <code>theme</code> library.
  </li><li>Input processing is now easier to customize with <code>command-dispatcher</code> 
   and <code>input-skip-dispatcher</code> slots of <code>window</code> .
  </li><li><code>on</code> and <code>on-once</code> helpers to shorten attaching to 
   hooks.
  </li><li>Rename buffer slot <code>load-status</code> to <code>status</code> .
  </li><li>Export <code>system-information</code> .
  </li><li>The core <code>nyxt</code> packages are now locked to prevent against 
   accidental clobbering from the user side.
  </li><li>New <code>ffi-buffer-load-html</code> and <code>ffi-buffer-load-alternate-html</code> 
   . This is useful to set the buffer content without resorting to expensive 
   JavaScript calls.
  </li><li>Removed <code>clipboard-text</code> since it&#39;s redundant with <code>
    ffi-buffer-copy</code> .
  </li><li>Specialize <code>prompter:object-attributes</code> on <code>source</code> to 
   o. This offers more customizability.
  </li><li>General purpose helpers can be found in the <code>nyxt/utilities</code> 
   package.
  </li><li>New <code>nxref</code> Spinneret tag for cross-referencing.
  </li><li><a target="_blank" href="nyxt:describe-function?fn=%1Bif-confirm" title="[FUNCTION] Ask the user for confirmation before executing either YES-FORM or NO-FORM.">
    <code>if-confirm</code></a> now allows configuring its yes/no options and can 
   return booleans.
 </li></ul>
 <h3>Bug fixes</h3>
 <ul>
  <li>Lisp run with the --script or --eval command line arguments now default to 
   the <code>nyxt-user</code> package.
  </li><li>Various <code>spell-check-mode</code> fixes. (Thanks to @hendursaga!) 
 </li></ul>
</div>


</div><p>Did you enjoy this article? Register for our newsletter to
    receive the latest hacker news from the world of Lisp and
    browsers!</p></div>
  </body>
</html>
