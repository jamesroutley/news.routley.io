<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.willmcgugan.com/blog/tech/post/ceo-just-wants-to-draw-boxes/">Original</a>
    <h1>Possibly a new way of drawing boxes in the terminal</h1>
    
    <div id="readability-page-1" class="page"><article>
    

    
<p>I get a kick out of being creative within the limitation of the terminal. I may even have come up with with an <em>entirely new</em> way of drawing boxes in the terminal. As bizarre as that sounds.</p>
<p>Boxes in the terminal are not new. <a href="https://github.com/Textualize/rich">Rich</a> is full of them, but they predate Rich by a <em>long</em> time.</p>
<p>CLI apps will typically use <a href="https://en.wikipedia.org/wiki/Box-drawing_character">box drawing characters</a> to build boxes out of unicode characters. There are characters for vertical lines, horizontal lines, corners, and cross pieces. With a mixture of regular, heavy, and double lines. Even <em>rounded</em> corners. They work like lego: throw them together in the right order and you can display exotic things such as panels and tables at the command prompt.</p>
<p>But there is a problem. Look what happens when you set a background color:</p>
<div><figure> <img width="1140" height="605" title="panel.png" name="panel" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.xlg.8.jpeg" data-author="© 2022 Will McGugan&lt;br&gt;all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.og.preview.2.jpeg" data-height="530" data-width="998" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.blur.6.jpeg" data-slug="panel" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/8c68381c-4c94-11ed-976e-f23c91845b44.png/8c68381c-4c94-11ed-976e-f23c91845b44png.lg.3.jpeg"/> 
<figcaption>
<p>© 2022 Will McGugan</p>


<p>A Rich panel.</p>


</figcaption>

</figure>
</div>
<p>The background color leaks outside of the border line. It&#39;s easy to see why this happens. I&#39;ve blown up a small box in this sketch:</p>
<div><figure> <img width="1140" height="1521" title="boxchars.png" name="boxchars" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.xlg.8.jpeg" data-author="© 2022 Will McGugan&lt;br&gt;all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.og.preview.2.jpeg" data-height="2002" data-width="1501" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.blur.6.jpeg" data-slug="boxchars" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2b960e8e-4c93-11ed-9b94-f23c91845b44.png/2b960e8e-4c93-11ed-9b94-f23c91845b44png.lg.3.jpeg"/> 
<figcaption>
<p>© 2022 Will McGugan</p>


<p>Your basic terminal box.</p>


</figcaption>

</figure>
</div>
<p>Each character in a terminal has exactly 2 colors. No more, no less. There is a background color and a foreground color. Consequently you can&#39;t set the color <em>inside</em> of the border independently of the color <em>outside</em> of the border. So background colors are always going to bleed outside of the apparent edge.</p>
<p>Textual added the ability to use entirely different characters when rendering boxes. Unicode contains <a href="https://en.wikipedia.org/wiki/Block_Elements">one eighth vertical and horizontal blocks</a> which are fantastic for displaying terminal progress bars with apparently higher &#34;resolution&#34; that a single character. But they weren&#39;t great for borders. You can see why here:</p>
<div><figure> <img width="1140" height="1545" title="progresschars.png" name="progresschars" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.xlg.8.jpeg" data-author="© 2022 Will McGugan&lt;br&gt;all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.og.preview.2.jpeg" data-height="1960" data-width="1446" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.blur.6.jpeg" data-slug="progresschars" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/3c16e532-4c96-11ed-9b94-f23c91845b44.png/3c16e532-4c96-11ed-9b94-f23c91845b44png.lg.3.jpeg"/> 
<figcaption>
<p>© 2022 Will McGugan</p>


<p>Can you arrange these to form a box?</p>


</figcaption>

</figure>
</div>
<p>No corners pieces. Darn. Without corners it is not possible to render a full box with independent inside and outside colors.</p>
<p>Turns out I was wrong. There is. I don&#39;t know why it didn&#39;t occur to me before. Have another look at the image above. It&#39;s like one of those irritating puzzles. Make a box with only those 4 characters (you can create copies and change colors). Give it a shot. I&#39;ll wait.</p>
<h2>Boxes all the way down</h2>
<p>Here&#39;s the solution:</p>
<div><figure> <img width="1140" height="2279" title="realbox.png" name="realbox" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.xlg.8.jpeg" data-author="© 2022 Will McGugan&lt;br&gt;all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.og.preview.2.jpeg" data-height="1975" data-width="988" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.blur.6.jpeg" data-slug="realbox" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/2f31b26c-4c9f-11ed-9b94-f23c91845b44.png/2f31b26c-4c9f-11ed-9b94-f23c91845b44png.lg.3.jpeg"/> 
<figcaption>
<p>© 2022 Will McGugan</p>


<p>A box with no color bleeding.</p>


</figcaption>

</figure>
</div>
<p>A box with independent inside and outside colors which doesn&#39;t violate the &#34;two colors per character rule&#34;. It&#39;s easy to imaging how you can extend this box to larger sizes, and surround other text.</p>
<p>It&#39;s been possible to display boxes like this for a while (literally decades). But I haven&#39;t seen it done like this in the wild. How can that be possible? Surely every combination of unicode characters in the terminal has been tried?</p>
<p>If no prior art emerges, I&#39;m calling this technique &#34;McGugan Boxes&#34;. I&#39;d like &#34;Inventor of McGugan boxes&#34; to be inscribed on my tombstone.</p>
<p>Here&#39;s an example of McGugan Boxes being used in a <a href="https://github.com/Textualize/textual">Textual</a> demo:</p>
<p><img width="100%" src="https://www.willmcgugan.com/static/boxes.gif"/></p>
<h2>Textual update</h2>
<p>The next release of <a href="https://github.com/Textualize/textual">Textual</a> will land on 10/24 (24th of October in US format, or &#34;1KB day&#34;). Featuring McGugan boxes and amazing docs.</p>
<p>Mark the date or join the mailing list on <a href="https://www.textualize.io/">Textualize.io</a>.</p>



</article></div>
  </body>
</html>
