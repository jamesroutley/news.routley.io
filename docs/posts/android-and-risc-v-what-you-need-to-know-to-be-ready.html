<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://opensource.googleblog.com/2023/10/android-and-risc-v-what-you-need-to-know.html">Original</a>
    <h1>Android and RISC-V: What you need to know to be ready</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-5908382786815064734" itemprop="articleBody">
<meta content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiNWkLqiiKr8EV8U963tdp3bsR5hWzKLp4OYTNEz98a4h5QZ7djoJ3XIYypMTIE_5LRY8KFsKE11L2ZBGOomzPAiFRlXpJFncNTpofay-_tomg89lXHvRs98OSCk6OQkjf6jVVzHVfPcME1D5NBwramBQFTwlfOktrzjQDQPXC91AytSeBrbhjLxLB6IWI/s1600/Social%20-%20OSS%20-%20Android%20and%20RISC-V%20What%20you%20need%20to%20know%20to%20be%20ready.png" name="twitter:image"/>
<p>

<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgnVLspuvjvGDJuJj89-C-J9WncBEaAiu_4kmzd1RW4JhFVKgucRUiGrR3NPBvZVxwHXUTEUsGcXEqDXtqItq4t_C0u9BWXZl0cdUdbjHaqWd_G72cZyBPCQVN-vk6zP3yABEQZXIcqCAJk3xjQ25P7Ly3e0kFjm55q1PXDVO_no6C1OZRHKlSyzgod-xU/s1600/Header%20-%20OSS%20-%20Android%20and%20RISC-V%20What%20you%20need%20to%20know%20to%20be%20ready.png"><img data-original-height="800" data-original-width="1058" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgnVLspuvjvGDJuJj89-C-J9WncBEaAiu_4kmzd1RW4JhFVKgucRUiGrR3NPBvZVxwHXUTEUsGcXEqDXtqItq4t_C0u9BWXZl0cdUdbjHaqWd_G72cZyBPCQVN-vk6zP3yABEQZXIcqCAJk3xjQ25P7Ly3e0kFjm55q1PXDVO_no6C1OZRHKlSyzgod-xU/s1600/Header%20-%20OSS%20-%20Android%20and%20RISC-V%20What%20you%20need%20to%20know%20to%20be%20ready.png"/></a></p><p>Android is an open source operating system that is freely available to port to many devices and architectures. As such it supports many different device types and CPU architectures. We’re excited to be adding a new one to that list - RISC-V. </p>

<p><a href="https://riscv.org/" target="_blank">RISC-V</a> is a free and open instruction set architecture (ISA), bringing the same spirit of industry-wide collaboration and innovation that we see in software around <a href="https://opensource.org/" target="_blank">open source</a> to the hardware ecosystem. Invented <a href="https://riscv.org/about/history/" target="_blank">10 years ago</a> at the University of California, Berkeley, RISC-V has seen rapid adoption in embedded and microcontroller spaces, and in recent years has expanded into accelerators, servers, and mobile computing.</p>

<p>In November of 2022, we announced at the RISC-V Summit that we were accepting patches for RISC-V:</p>

<iframe allowfullscreen="" height="355" src="https://www.youtube.com/embed/70O_RmTWP58" width="100%" youtube-src-id="70O_RmTWP58"></iframe>

<p>The latest update that we have is that now not only are we accepting patches, but we have begun to mature support for RISC-V in Android. RISC-V is a modular ISA, meaning that there are a large number of optional extensions. We have also determined an initial set that we feel is critical to ensure that any CPU running RISC-V will have all of the features we expect to achieve high performance. This set includes the rva22 profile as well as the vector and vector crypto extensions. This update was provided at the RISC-V summit in Europe:</p>

<iframe allowfullscreen="" height="355" src="https://www.youtube.com/embed/xLwdUn3DQp8" width="100%" youtube-src-id="xLwdUn3DQp8"></iframe>

<p>You can build, test, and run the Android support for RISC-V on your own machine as well now! Just like other platform targets in AOSP, you can use the <a href="https://source.android.com/docs/setup/create/cuttlefish" target="_blank">Cuttlefish</a> Virtual Device <a href="https://github.com/google/android-riscv64" target="_blank">support</a>:</p>

<table><colgroup></colgroup><tbody><tr><td><code id="code-output"><span><span>$ </span>lunch aosp_cf_riscv64_phone-userdebug
<span>$ </span>m -j
<span>$ </span>launch_cvd -cpus=<span>8</span> -memory_mb=<span>8192</span></span></code></td></tr></tbody></table>

<p>Then, you can use <span>vncviewer</span> to connect to the running device and interact.</p>

<p><img alt="Moving image of vncviewer running on an Android device" id="imgCaption" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg3v8et5Vd6_ZPwaPPzWdy2b6pvkpJnBN0-cKGupeQwdBSR7_IxBlqGoFACGGc1EAU9q4s9LTqLlLZt7dHiNAUjC2uU0H3IGiJkL_wENRxkNcLzEBIxej2bzznTpQyK8_65Xc0PE6qLK88fnyI4erogsMq2lWghTi87TkH4keNYRNE4VY2qR0Dydx2nlYU/s1600/Demo-ASOP.gif"/></p>

<p>At this time, <a href="https://android-review.googlesource.com/q/owner:maohan4761%2540gmail.com" target="_blank">these patches</a> will support building and running a basic Android Open Source Project experience, but are not yet fully optimized. For example, work on a fully optimized backend for the Android Runtime (ART) is still a work in progress. Additionally, AOSP, our external projects, and compilers haven’t generated fully optimized, reduced code that also takes advantage of the latest ratified extensions, such as the one for <a href="https://github.com/riscv/riscv-v-spec/releases/tag/v1.0" target="_blank">vectors</a>. However, we believe that it is ready to allow experimentation and collaboration.</p> 

<p>Later this year, we expect to have the NDK ABI finalized and canary builds available on Android’s public <a href="https://ci.android.com/builds/branches/aosp-master-ndk/grid" target="_blank">CI</a> soon and RISC-V on x86-64 &amp; ARM64 available for easier testing of riscv64 Android applications on a host machine. By 2024, the plan is to have emulators available publicly, with a full feature set to test applications for various device form factors! As recently <a href="https://www.qualcomm.com/news/releases/2023/10/qualcomm-to-bring-risc-v-based-wearable-platform-to--wear-os-by-" target="_blank">announced</a> in our collaboration with Qualcomm, we expect wearables to be the first form factor available.</p>

<p>However, just porting the Android operating system itself is not enough! We are working with the community and <a href="https://riseproject.dev/" target="_blank">RISE</a> (RISC-V Software Ecosystem). The RISE Project has been established to provide a way to accelerate the availability of software for high-performance and power-efficient RISC-V processor cores running high-level operating systems. That includes not only Android, but also Linux and other operating systems across a variety of application domains, including high-performance computing. The RISE Project includes members from Andes, Google, Intel, Imagination Technologies, MediaTek, Nvidia, Qualcomm Technologies, Red Hat, Rivos, Samsung, SiFive, T-Head, and Ventana.</p>

<p>Google is also continuing and expanding our strong investments at <a href="https://riscv.org/" target="_blank">RISC-V International</a>, even beyond our long-standing Premium membership and <a href="https://foundation.rust-lang.org/board/" target="_blank">board participation</a>. We also have many other contributors in key roles on horizontal committees, working groups, and technical committees to ensure that specifications are rapidly being designed and ratified to benefit not only Android but also many other use cases.</p>

<p>Android&#39;s support for RISC-V is dependent on a wide range of contributions from <a href="https://github.com/llvm/llvm-project/" target="_blank">toolchain</a> to basic support libraries. We are very appreciative of the ongoing efforts which requires countless projects to support RISC-V build configurations and quality implementations.  If you are interested in contributing please visit the following resources:</p>
<ul>
<li><a href="https://github.com/google/android-riscv64" target="_blank">https://github.com/google/android-riscv64</a> for detailed information on how to build and test the RISC-V support in Android, list of known issues and opportunities to contribute to AOSP at <a href="https://source.android.com/" target="_blank">source.android.com</a> and toolchain projects and support libraries.</li>
<li>Subscribe to <a href="https://lists.riscv.org/g/sig-android" target="_blank">RISC-V Android SIG</a> mailing list or join directly, if your organization is a member of RISC-V International to stay tuned in to progress and offer your suggestions and feedback.</li>
</ul>

<p>Make sure to stay tuned as we look into ways to make it as easy for Android developers writing native to target new platforms as it is for our Java and Kotlin developers! </p>

<p>Planning to head to the RISC-V International Summit in November? Find us there– we’ll be hosting a <a href="https://events.linuxfoundation.org/riscv-summit/program/schedule/" target="_blank">Community Collaboration Breakfast on Wednesday morning</a>! Not attending the conference but interested? Learn more and register <a href="https://events.linuxfoundation.org/riscv-summit/" target="_blank">here</a>.</p>

<p><em>By Lars Bergstrom – Android Platform Programming Languages &amp; Greg Simon - Google Low-level Operating System</em></p>



</div></div>
  </body>
</html>
