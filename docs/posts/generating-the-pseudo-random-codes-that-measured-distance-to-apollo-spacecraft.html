<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://righto.com/apollo/ranging-xor.html">Original</a>
    <h1>Generating the pseudo-random codes that measured distance to Apollo spacecraft</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
<h3>Generating the pseudo-random codes that measured the distance to the Apollo spacecraft</h3><p>

During the Apollo mission to the Moon, NASA needed to know the distance from Earth to the spacecraft.
This was accomplished by a sending a signal from Earth to the spacecraft and receiving the response.
Since the signal traveled at the speed of light, the distance could be determined from the time delay between the sent and
received signals.
They determined the delay by transmitting a pseudo-random bit sequence and correlating it with the returned signal.
This web page demonstrates how the pseudo-random bit sequence was generated.
</p><p>
The sequence was generated by combining four short code sequences to form a very long code.
The short codes could be generated with simple circuits: shift registers and exclusive-or gates forming a
linear-feedback shift register.
The result was a very long code of length 5,456,682 that wouldn&#39;t repeat in the time it took the signal to get to the Moon and
back.



</p>
<p>
The first sequence is the &#34;A code&#34;, which repeats every 31 bits.
The animation shows how each new bit (red) is generated by XOR of two bits in the 5-bit shift register.
The new bit is then shifted into the shift register.
</p>


<p>
Next, the &#34;B code&#34;, which repeats every 63 bits.
With a 6-bit shift register, the sequence repeats after 2<sup>6</sup> bits.
</p>



<p>
The &#34;C code&#34; repeats every 127 bits.
</p>



<p>
The &#34;X code&#34; is generated by a more complex circuit to achieve the length of 11 bits.
This sequence is based on a <a href="https://en.wikipedia.org/wiki/Legendre_symbol">Legendre sequence</a> to
obtain the desired correlation properties.
</p>


<p>
Finally, the four sequences are combined, along with a clock, generating the pseudo-random sequence that is broadcast.
By combining the sequences with a <a href="https://en.wikipedia.org/wiki/Majority_function">majority function</a> instead
of simply XORing them together, the resulting sequence can be correlated against the component sequences.
This allows the overall phase shift of the received sequence to be measured.
(The process is illustrated on <a href="https://righto.com/apollo/ranging.html">this page</a>.)
</p>



</div></div>
  </body>
</html>
