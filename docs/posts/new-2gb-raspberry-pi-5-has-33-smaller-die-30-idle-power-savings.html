<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.jeffgeerling.com/blog/2024/new-2gb-pi-5-has-33-smaller-die-30-idle-power-savings">Original</a>
    <h1>New 2GB Raspberry Pi 5 has 33% smaller die, 30% idle power savings</h1>
    
    <div id="readability-page-1" class="page"><div><p>Raspberry Pi <a href="https://www.raspberrypi.com/news/2gb-raspberry-pi-5-on-sale-now-at-50/">launched the 2 gig Pi 5 for $50</a>, and besides half the RAM and a lower price, it has a new stepping of the main BCM2712 chip.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-C1-vs-D0-Stepping.jpg" alt="BCM2712 C1 vs D0 Stepping chips"/></p>

<p>This is the BCM2712 <em>D0</em> stepping. Older Pi 5&#39;s shipped with a <em>C1</em>. In <a href="https://www.raspberrypi.com/news/2gb-raspberry-pi-5-on-sale-now-at-50/">their blog post</a>, they said:</p>

<blockquote>
  <p>The new D0 stepping strips away all that unneeded functionality, leaving only the bits we need.</p>
</blockquote>

<p>Steppings are basically chip revisions where they don&#39;t change functionality, and usually just fix bugs, or tweak the layout. But even tiny design changes could have unintended consequences. I wanted to see exactly what happens when I push one of these new chips to the limits.</p>

<p>First, I wanted a performance baseline, so I ran Geekbench with the latest Pi OS and all the defaults.</p>

<p>Except... apparently Geekbench likes more than 2 gigs of RAM. I couldn&#39;t get past the multicore Photo Filter test, since the OS kept running outta memory. A lotta software nowadays is built for an <em>absolute minimum</em> of 4 or 8 gigs. So keep that in mind when you&#39;re buying a Pi.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi5-geekbench6-oom.jpeg" alt="Geekbench 6 kernel Linux OOM killer"/></p>

<p>Without adding swap, Geekbench was out, but I still wanted to get some raw numbers, so I ran <code>sysbench</code>. It&#39;s lighter weight, it runs with limited memory, and it still gives me CPU numbers to compare.</p>

<p>Using a combination of <a href="https://amzn.to/4e2SRIv">this 10W peltier cooler</a> and the bottom heatsink from an <a href="https://www.digikey.com/en/products/detail/edatec/ED-PI5CASE-OB/21769666">EDAtec fanless case</a>, I ran through a number of overclock scenarios:</p>

<table>
<thead>
<tr>
  <th>Clock Speed (MHz)</th>
  <th>sysbench result</th>
</tr>
</thead>
<tbody>
<tr>
  <td>2400</td>
  <td>4155</td>
</tr>
<tr>
  <td>3000</td>
  <td>5175</td>
</tr>
<tr>
  <td>3100</td>
  <td>5315</td>
</tr>
<tr>
  <td>3200</td>
  <td>5505</td>
</tr>
<tr>
  <td>3300</td>
  <td>5715</td>
</tr>
<tr>
  <td>3400</td>
  <td>5804</td>
</tr>
<tr>
  <td>3500</td>
  <td>6068</td>
</tr>
</tbody>
</table>

<blockquote>
  <p>I ran the command <code>sysbench --test=cpu --cpu-max-prime=20000 --num-threads=4 run</code>.</p>
</blockquote>

<p>At 3.6 GHz the Pi wouldn&#39;t boot—there were always memory errors and it would completely freeze. At 3.5 GHz, there were still some stability issues, and I couldn&#39;t get the Pi to reboot cleanly.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-heatsink-peltier.jpeg" alt="Pi 5 heatsink - Peltier cooling"/></p>

<p>For any speeds above 3.1 GHz, I also used my <a href="https://github.com/geerlingguy/pi-overvolt">pi-overvolt</a> hack, which I cover more in depth in my blog post <a href="https://www.jeffgeerling.com/blog/2024/hacking-pi-firmware-get-fastest-overclock">Hacking Pi firmware to get the fastest overclock</a>.</p>

<p>There&#39;s still a hard limit of 1.1V from the PMIC, so besides splicing in higher voltages direct into the SoC, the only other hardware-level modification I hadn&#39;t tried was delidding the Pi&#39;s processor.</p>

<p><em>Theoretically</em>, this would allow the Peltier cooler to pull heat off the silicon even faster.</p>

<h2>Delidding</h2>

<p>But there was another reason I wanted to delid a 2 gig Pi 5. Raspberry Pi mentioned in their blog post the D0 stepping was simpler and cheaper to make, since they removed &#39;dark silicon&#39;. That just means there were portions of the BCM2712 that Broadcom put in but Raspberry Pi never used, <a href="https://forums.raspberrypi.com/viewtopic.php?p=2247912#p2247832">like the built-in Ethernet controller</a>. Raspberry Pi built their own Ethernet into the RP1, so they didn&#39;t use the controller in the main SoC.</p>

<p>What this means for the D0 is the actual CPU die is smaller. A smaller die fits more chips on a single wafer, meaning individual chips cost less, assuming chip production yields are the same.</p>

<p>I already have a delidded C1 chip from back <a href="https://www.jeffgeerling.com/blog/2024/die-shots-and-transistor-level-debugging-on-raspberry-pi-5">when I worked with John McMaster and Kleindiek on my Pi 5 silicon deep-dive</a>, so I just need to delid the D0 chip.</p>

<p>I placed the 2 GB Pi 5 on my workbench, and worked at the corners with a razor blade:</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-heatspreader-delidding-razor-blade.jpeg" alt="Pi 5 delid heat spreader with razor knife blade"/></p>

<p>The heat spreader popped off, and I took some measurements, comparing the C1 to the D0 stepping:</p>

<table>
<thead>
<tr>
  <th>Stepping</th>
  <th>Width</th>
  <th>Height</th>
  <th>Die area</th>
</tr>
</thead>
<tbody>
<tr>
  <td>BCM2712 D0</td>
  <td>6.30mm</td>
  <td>5.98mm</td>
  <td>37.674mm<sup>2</sup></td>
</tr>
<tr>
  <td>BCM2712 C1</td>
  <td>6.47mm</td>
  <td>8.63mm</td>
  <td>55.836mm<sup>2</sup></td>
</tr>
</tbody>
</table>

<p>The D0 is 32.5% smaller than the older version, which would definitely bring down the price per chip, assuming the same yield on a given silicon wafer. It seems they&#39;re still using the 16nm process node, so that&#39;s a good chunk of &#39;dark silicon&#39; removed!</p>

<h2>Direct Die Cooling</h2>

<p>I powered up the Pi, with the new direct-die cooling arrangement, but still had stability issues at 3.6 GHz. Maybe even a little more at 3.5, it was hard to tell.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/bcm2712-bare-die-cooling.jpeg" alt="BCM2712 bare die running with no cooling"/></p>

<p>Just for fun, I pulled off the cooler entirely, and let the Pi run with just the die exposed to the air. It was happy running like this, even running sysbench at 2.8 GHz for 10 seconds without throttling.</p>

<p>So could you run a Pi completely naked? Sure, but the heat spreader does a good job getting more heat off the whole package, so I&#39;d just leave it on.</p>

<p>My takeaway is the Pi&#39;s 16 nanometer chip seems to max out around 3.5 Gigahertz.</p>

<h2>Thermals and Efficiency - The Goldilocks Pi</h2>

<p>The other big question though, is whether the smaller design is any better for efficiency or thermals.</p>

<p>CNX Software did some testing and <a href="https://www.cnx-software.com/2024/08/27/comparison-of-raspberry-pi-5-with-2gb-and-8gb-ram-hardware-benchmarks-and-power-consumption/">published a chart</a>, showing a significant difference, 2.7W to 3.5W, for idle power consumption.</p>

<p>I haven&#39;t done <em>exhaustive</em> testing, but I did run through my <a href="https://gist.github.com/geerlingguy/91d4736afe9321cbfc1062165188dda4">stress benchmarks</a>, monitoring power and heat. I ran it on all the Pi 5 models, with identical test parameters. I have more <a href="https://github.com/geerlingguy/pi-overvolt/issues/4">in this GitHub issue</a>, but this chart sums it up:</p>

<table>
<thead>
<tr>
  <th></th>
  <th>Pi 5 2GB D0</th>
  <th>Pi 5 4GB C1</th>
  <th>4GB Delta</th>
  <th>Pi 5 8GB C1</th>
  <th>8GB Delta</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Idle power</td>
  <td>2.4W</td>
  <td>3.3W</td>
  <td><strong>0.9W (+32%)</strong></td>
  <td>3.2W</td>
  <td><strong>0.8W (+29%)</strong></td>
</tr>
<tr>
  <td>Idle temp</td>
  <td>30°C</td>
  <td>32°C</td>
  <td><strong>2°C (+6%)</strong></td>
  <td>32°C</td>
  <td><strong>2°C (+6%)</strong></td>
</tr>
<tr>
  <td>stress-ng power</td>
  <td>8.9W</td>
  <td>9.8W</td>
  <td><strong>0.9W (+10%)</strong></td>
  <td>9.8W</td>
  <td><strong>0.9W (+10%)</strong></td>
</tr>
<tr>
  <td>stress-ng temp</td>
  <td>59°C</td>
  <td>63°C</td>
  <td><strong>4°C (+7%)</strong></td>
  <td>64°C</td>
  <td><strong>5°C (+8%)</strong></td>
</tr>
</tbody>
</table>

<p>For idle power draw, the improvement almost mirrors the chip size reduction. The chip is 33% smaller, and the idle power draw is almost that much better.</p>

<p>And here are the thermals for my test runs, for completeness:</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-c1-vs-d0-thermals.jpg" alt="Pi 5 C1 vs D0 stepping - thermals"/></p>

<p>Some of the power savings could be chalked up to less RAM, because more RAM requires more power. But that doesn&#39;t explain all the results. Thomas Kaiser <a href="https://www.cnx-software.com/2024/08/27/comparison-of-raspberry-pi-5-with-2gb-and-8gb-ram-hardware-benchmarks-and-power-consumption/#comment-620747">also found the OPP tables are different with the new chip</a>. The 2 gig model doesn&#39;t need as much voltage to hit certain clocks, like it uses 805 mV at 2.1 GHz versus 850 mV for the 8 gig model.</p>

<p>As a final efficiency test, I ran my <a href="https://github.com/geerlingguy/top500-benchmark/issues/40">top500 HPL benchmark on the 2 gig Pi 5</a>. HPL is a memory-intense benchmark, and because the 2 GB model only has 2 GB of RAM, the overall efficiency for this test was worse, coming in at <strong>2.07 Gflops/W</strong>. The 8 GB Pi 5 gets <strong>2.75 Gflops/W</strong>.</p>

<p>For now, the biggest difference between the 2, 4, and 8 GB PI 5s for <em>most</em> people would still be having more RAM. If you know you can run your apps in 2 GB, this is a great little Pi for that. If you can&#39;t, then I think Raspberry Pi set up the 4 GB Pi 5 as the &#39;goldilocks&#39;: Not too expensive, with just enough RAM for most uses.</p>

<h2>Conclusion</h2>

<p>So is it worth stepping down to a 2 GB Pi 5 just to get the simpler D0 chip? No. But is it cool to have a cheaper 2 gig option exist? Yes. Just make sure you have a use case for it that doesn&#39;t need a ton of RAM.</p></div></div>
  </body>
</html>
