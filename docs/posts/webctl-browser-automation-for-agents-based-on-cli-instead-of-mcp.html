<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/cosinusalpha/webctl">Original</a>
    <h1>Show HN: Webctl – Browser automation for agents based on CLI instead of MCP</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><strong>Browser automation for AI agents and humans, built on the command line.</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="webctl start
webctl navigate &#34;https://google.com&#34;
webctl type &#39;role=combobox name~=&#34;Search&#34;&#39; &#34;best restaurants nearby&#34; --submit
webctl snapshot --interactive-only --limit 20
webctl stop --daemon"><pre>webctl start
webctl navigate <span><span>&#34;</span>https://google.com<span>&#34;</span></span>
webctl <span>type</span> <span><span>&#39;</span>role=combobox name~=&#34;Search&#34;<span>&#39;</span></span> <span><span>&#34;</span>best restaurants nearby<span>&#34;</span></span> --submit
webctl snapshot --interactive-only --limit 20
webctl stop --daemon</pre></div>

<p dir="auto">MCP browser tools have a fundamental problem: <strong>the server controls what enters your context</strong>. With Playwright MCP, every response includes the full accessibility tree plus console messages (default: &#34;info&#34; level). After a few page queries, your context is full.</p>
<p dir="auto">CLI flips this around: <strong>you control what enters context</strong>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Filter before context
webctl snapshot --interactive-only --limit 30      # Only buttons, links, inputs
webctl snapshot --within &#34;role=main&#34;               # Skip nav, footer, ads

# Pipe through Unix tools
webctl snapshot | grep -i &#34;submit&#34;                 # Find specific elements
webctl --format jsonl snapshot | jq &#39;.data.role&#39;   # Extract with jq
webctl snapshot | head -50                         # Truncate output"><pre><span><span>#</span> Filter before context</span>
webctl snapshot --interactive-only --limit 30      <span><span>#</span> Only buttons, links, inputs</span>
webctl snapshot --within <span><span>&#34;</span>role=main<span>&#34;</span></span>               <span><span>#</span> Skip nav, footer, ads</span>

<span><span>#</span> Pipe through Unix tools</span>
webctl snapshot <span>|</span> grep -i <span><span>&#34;</span>submit<span>&#34;</span></span>                 <span><span>#</span> Find specific elements</span>
webctl --format jsonl snapshot <span>|</span> jq <span><span>&#39;</span>.data.role<span>&#39;</span></span>   <span><span>#</span> Extract with jq</span>
webctl snapshot <span>|</span> head -50                         <span><span>#</span> Truncate output</span></pre></div>
<p dir="auto">Beyond filtering, CLI gives you:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Capability</th>
<th>CLI</th>
<th>MCP</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Filter output</strong></td>
<td>Built-in flags + grep/jq/head</td>
<td>Server decides</td>
</tr>
<tr>
<td><strong>Debug</strong></td>
<td>Run same command as agent</td>
<td>Opaque</td>
</tr>
<tr>
<td><strong>Cache</strong></td>
<td><code>webctl snapshot &gt; cache.txt</code></td>
<td>Every call hits server</td>
</tr>
<tr>
<td><strong>Script</strong></td>
<td>Save to .sh, version control</td>
<td>Ephemeral</td>
</tr>
<tr>
<td><strong>Timeout</strong></td>
<td><code>timeout 30 webctl ...</code></td>
<td>Internal only</td>
</tr>
<tr>
<td><strong>Parallelize</strong></td>
<td><code>parallel</code>, <code>xargs</code>, <code>&amp;</code></td>
<td>Server-dependent</td>
</tr>
<tr>
<td><strong>Human takeover</strong></td>
<td>Same commands</td>
<td>Different interface</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<div dir="auto" data-snippet-clipboard-copy-content="pip install webctl      # Requires Python 3.11+
webctl setup            # Downloads Chromium (~150MB)"><pre>pip install webctl      <span><span>#</span> Requires Python 3.11+</span>
webctl setup            <span><span>#</span> Downloads Chromium (~150MB)</span></pre></div>
<p dir="auto">Verify it works:</p>
<div dir="auto" data-snippet-clipboard-copy-content="webctl start
webctl navigate &#34;https://example.com&#34;
webctl snapshot --interactive-only
webctl stop --daemon"><pre>webctl start
webctl navigate <span><span>&#34;</span>https://example.com<span>&#34;</span></span>
webctl snapshot --interactive-only
webctl stop --daemon</pre></div>
<details>
<summary>Install from source</summary>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/cosinusalpha/webctl
cd webctl
uv sync &amp;&amp; uv run webctl setup"><pre>git clone https://github.com/cosinusalpha/webctl
<span>cd</span> webctl
uv sync <span>&amp;&amp;</span> uv run webctl setup</pre></div>
</details>
<details>
<summary>Linux system dependencies</summary>
<div dir="auto" data-snippet-clipboard-copy-content="playwright install-deps chromium
# Or manually: sudo apt-get install libnss3 libatk1.0-0 libatk-bridge2.0-0 ..."><pre>playwright install-deps chromium
<span><span>#</span> Or manually: sudo apt-get install libnss3 libatk1.0-0 libatk-bridge2.0-0 ...</span></pre></div>
</details>


<p dir="auto">Browser stays open across commands. Cookies persist to disk.</p>
<div dir="auto" data-snippet-clipboard-copy-content="webctl start                    # Visible browser
webctl start --mode unattended  # Headless
webctl -s work start            # Named profile (separate cookies)
webctl stop --daemon            # Shutdown everything"><pre>webctl start                    <span><span>#</span> Visible browser</span>
webctl start --mode unattended  <span><span>#</span> Headless</span>
webctl -s work start            <span><span>#</span> Named profile (separate cookies)</span>
webctl stop --daemon            <span><span>#</span> Shutdown everything</span></pre></div>

<p dir="auto">Semantic targeting based on ARIA roles - stable across CSS refactors:</p>
<div dir="auto" data-snippet-clipboard-copy-content="role=button                     # Any button
role=button name=&#34;Submit&#34;       # Exact match
role=button name~=&#34;Submit&#34;      # Contains (preferred)
role=textbox name~=&#34;Email&#34;      # Input field
role=link name~=&#34;Sign in&#34;       # Link"><pre>role=button                     <span><span>#</span> Any button</span>
role=button name=<span><span>&#34;</span>Submit<span>&#34;</span></span>       <span><span>#</span> Exact match</span>
role=button name~=<span><span>&#34;</span>Submit<span>&#34;</span></span>      <span><span>#</span> Contains (preferred)</span>
role=textbox name~=<span><span>&#34;</span>Email<span>&#34;</span></span>      <span><span>#</span> Input field</span>
role=link name~=<span><span>&#34;</span>Sign in<span>&#34;</span></span>       <span><span>#</span> Link</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="webctl snapshot                                    # Human-readable
webctl --quiet navigate &#34;...&#34;                      # Suppress events
webctl --result-only --format jsonl navigate &#34;...&#34; # Pure JSON, final result only"><pre>webctl snapshot                                    <span><span>#</span> Human-readable</span>
webctl --quiet navigate <span><span>&#34;</span>...<span>&#34;</span></span>                      <span><span>#</span> Suppress events</span>
webctl --result-only --format jsonl navigate <span><span>&#34;</span>...<span>&#34;</span></span> <span><span>#</span> Pure JSON, final result only</span></pre></div>
<hr/>


<div dir="auto" data-snippet-clipboard-copy-content="webctl navigate &#34;https://...&#34;   # Go to URL
webctl back                     # History back
webctl forward                  # History forward
webctl reload                   # Refresh"><pre>webctl navigate <span><span>&#34;</span>https://...<span>&#34;</span></span>   <span><span>#</span> Go to URL</span>
webctl back                     <span><span>#</span> History back</span>
webctl forward                  <span><span>#</span> History forward</span>
webctl reload                   <span><span>#</span> Refresh</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="webctl snapshot                           # Full a11y tree
webctl snapshot --interactive-only        # Buttons, links, inputs only
webctl snapshot --limit 30                # Cap output
webctl snapshot --within &#34;role=main&#34;      # Scope to container
webctl snapshot --roles &#34;button,link&#34;     # Filter by role
webctl query &#34;role=button name~=Submit&#34;   # Debug query, get suggestions
webctl screenshot --path shot.png         # Screenshot"><pre>webctl snapshot                           <span><span>#</span> Full a11y tree</span>
webctl snapshot --interactive-only        <span><span>#</span> Buttons, links, inputs only</span>
webctl snapshot --limit 30                <span><span>#</span> Cap output</span>
webctl snapshot --within <span><span>&#34;</span>role=main<span>&#34;</span></span>      <span><span>#</span> Scope to container</span>
webctl snapshot --roles <span><span>&#34;</span>button,link<span>&#34;</span></span>     <span><span>#</span> Filter by role</span>
webctl query <span><span>&#34;</span>role=button name~=Submit<span>&#34;</span></span>   <span><span>#</span> Debug query, get suggestions</span>
webctl screenshot --path shot.png         <span><span>#</span> Screenshot</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="webctl click &#39;role=button name~=&#34;Submit&#34;&#39;
webctl type &#39;role=textbox name~=&#34;Email&#34;&#39; &#34;user@example.com&#34;
webctl type &#39;role=textbox name~=&#34;Search&#34;&#39; &#34;query&#34; --submit  # Type + Enter
webctl select &#39;role=combobox name~=&#34;Country&#34;&#39; --label &#34;Germany&#34;
webctl check &#39;role=checkbox name~=&#34;Remember&#34;&#39;
webctl press Enter
webctl scroll down
webctl upload &#39;role=button name~=&#34;Upload&#34;&#39; --file ./doc.pdf"><pre>webctl click <span><span>&#39;</span>role=button name~=&#34;Submit&#34;<span>&#39;</span></span>
webctl <span>type</span> <span><span>&#39;</span>role=textbox name~=&#34;Email&#34;<span>&#39;</span></span> <span><span>&#34;</span>user@example.com<span>&#34;</span></span>
webctl <span>type</span> <span><span>&#39;</span>role=textbox name~=&#34;Search&#34;<span>&#39;</span></span> <span><span>&#34;</span>query<span>&#34;</span></span> --submit  <span><span>#</span> Type + Enter</span>
webctl <span>select</span> <span>&#39;role=combobox</span> name~=<span><span>&#34;</span>Country<span>&#34;</span></span><span><span>&#39;</span> --label &#34;Germany&#34;</span>
<span>webctl check <span>&#39;</span></span>role=checkbox name~=<span><span>&#34;</span>Remember<span>&#34;</span></span><span><span>&#39;</span></span>
<span>webctl press Enter</span>
<span>webctl scroll down</span>
<span>webctl upload <span>&#39;</span></span>role=button name~=<span><span>&#34;</span>Upload<span>&#34;</span></span><span><span>&#39;</span> --file ./doc.pdf</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="webctl wait network-idle
webctl wait &#39;exists:role=button name~=&#34;Continue&#34;&#39;
webctl wait &#39;visible:role=dialog&#39;
webctl wait &#39;hidden:role=progressbar&#39;
webctl wait &#39;url-contains:&#34;/dashboard&#34;&#39;"><pre>webctl <span>wait</span> network-idle
webctl <span>wait</span> <span><span>&#39;</span>exists:role=button name~=&#34;Continue&#34;<span>&#39;</span></span>
webctl <span>wait</span> <span><span>&#39;</span>visible:role=dialog<span>&#39;</span></span>
webctl <span>wait</span> <span><span>&#39;</span>hidden:role=progressbar<span>&#39;</span></span>
webctl <span>wait</span> <span><span>&#39;</span>url-contains:&#34;/dashboard&#34;<span>&#39;</span></span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="webctl status                   # Current state (includes console error counts)
webctl save                     # Persist cookies now
webctl sessions                 # List profiles
webctl pages                    # List tabs
webctl focus p2                 # Switch tab
webctl close-page p1            # Close tab"><pre>webctl status                   <span><span>#</span> Current state (includes console error counts)</span>
webctl save                     <span><span>#</span> Persist cookies now</span>
webctl sessions                 <span><span>#</span> List profiles</span>
webctl pages                    <span><span>#</span> List tabs</span>
webctl focus p2                 <span><span>#</span> Switch tab</span>
webctl close-page p1            <span><span>#</span> Close tab</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="webctl console                  # Get last 100 logs
webctl console --count          # Just counts by level (LLM-friendly)
webctl console --level error    # Filter to errors only
webctl console --follow         # Stream new logs continuously
webctl console -n 50 -l warn    # Last 50 warnings"><pre>webctl console                  <span><span>#</span> Get last 100 logs</span>
webctl console --count          <span><span>#</span> Just counts by level (LLM-friendly)</span>
webctl console --level error    <span><span>#</span> Filter to errors only</span>
webctl console --follow         <span><span>#</span> Stream new logs continuously</span>
webctl console -n 50 -l warn    <span><span>#</span> Last 50 warnings</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="webctl setup                    # Install browser
webctl doctor                   # Diagnose installation
webctl init                     # Add to agent configs (CLAUDE.md, etc.)
webctl config show              # Show settings
webctl config set idle_timeout 1800"><pre>webctl setup                    <span><span>#</span> Install browser</span>
webctl doctor                   <span><span>#</span> Diagnose installation</span>
webctl init                     <span><span>#</span> Add to agent configs (CLAUDE.md, etc.)</span>
webctl config show              <span><span>#</span> Show settings</span>
webctl config <span>set</span> idle_timeout 1800</pre></div>
<hr/>

<p dir="auto">Tell your AI agent to use webctl. The easiest way:</p>
<div dir="auto" data-snippet-clipboard-copy-content="webctl init                     # Creates CLAUDE.md, GEMINI.md, etc.
webctl init --agents claude     # Only specific agents"><pre>webctl init                     <span><span>#</span> Creates CLAUDE.md, GEMINI.md, etc.</span>
webctl init --agents claude     <span><span>#</span> Only specific agents</span></pre></div>
<p dir="auto">Or manually add to your agent&#39;s config:</p>
<div data-snippet-clipboard-copy-content="For web browsing, use webctl CLI. Run `webctl agent-prompt` for instructions."><pre><code>For web browsing, use webctl CLI. Run `webctl agent-prompt` for instructions.
</code></pre></div>
<hr/>

<p dir="auto"><em>This section is designed to be read by AI agents directly.</em></p>

<p dir="auto">Control a browser via CLI. Start with <code>webctl start</code>, end with <code>webctl stop --daemon</code>.</p>
<p dir="auto"><strong>Commands:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="webctl start                              # Open browser
webctl navigate &#34;URL&#34;                     # Go to URL
webctl snapshot --interactive-only        # See clickable elements
webctl click &#39;role=button name~=&#34;Text&#34;&#39;   # Click element
webctl type &#39;role=textbox name~=&#34;Field&#34;&#39; &#34;text&#34;           # Type
webctl type &#39;role=textbox name~=&#34;Field&#34;&#39; &#34;text&#34; --submit  # Type + Enter
webctl select &#39;role=combobox&#39; --label &#34;Option&#34;            # Dropdown
webctl wait &#39;exists:role=button name~=&#34;...&#34;&#39;              # Wait for element
webctl stop --daemon                      # Close browser"><pre>webctl start                              <span><span>#</span> Open browser</span>
webctl navigate <span><span>&#34;</span>URL<span>&#34;</span></span>                     <span><span>#</span> Go to URL</span>
webctl snapshot --interactive-only        <span><span>#</span> See clickable elements</span>
webctl click <span><span>&#39;</span>role=button name~=&#34;Text&#34;<span>&#39;</span></span>   <span><span>#</span> Click element</span>
webctl <span>type</span> <span><span>&#39;</span>role=textbox name~=&#34;Field&#34;<span>&#39;</span></span> <span><span>&#34;</span>text<span>&#34;</span></span>           <span><span>#</span> Type</span>
webctl <span>type</span> <span><span>&#39;</span>role=textbox name~=&#34;Field&#34;<span>&#39;</span></span> <span><span>&#34;</span>text<span>&#34;</span></span> --submit  <span><span>#</span> Type + Enter</span>
webctl <span>select</span> <span>&#39;role=combobox&#39;</span> --label <span><span>&#34;</span>Option<span>&#34;</span></span>            <span><span>#</span> Dropdown</span>
webctl <span>wait</span> <span><span>&#39;</span>exists:role=button name~=&#34;...&#34;<span>&#39;</span></span>              <span><span>#</span> Wait for element</span>
webctl stop --daemon                      <span><span>#</span> Close browser</span></pre></div>
<p dir="auto"><strong>Query syntax:</strong></p>
<ul dir="auto">
<li><code>role=button</code> - By ARIA role (button, link, textbox, combobox, checkbox)</li>
<li><code>name~=&#34;partial&#34;</code> - Partial match (preferred, more robust)</li>
<li><code>name=&#34;exact&#34;</code> - Exact match</li>
</ul>
<p dir="auto"><strong>Example - Login:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="webctl start
webctl navigate &#34;https://site.com/login&#34;
webctl type &#39;role=textbox name~=&#34;Email&#34;&#39; &#34;user@example.com&#34;
webctl type &#39;role=textbox name~=&#34;Password&#34;&#39; &#34;secret&#34; --submit
webctl wait &#39;url-contains:&#34;/dashboard&#34;&#39;"><pre>webctl start
webctl navigate <span><span>&#34;</span>https://site.com/login<span>&#34;</span></span>
webctl <span>type</span> <span><span>&#39;</span>role=textbox name~=&#34;Email&#34;<span>&#39;</span></span> <span><span>&#34;</span>user@example.com<span>&#34;</span></span>
webctl <span>type</span> <span><span>&#39;</span>role=textbox name~=&#34;Password&#34;<span>&#39;</span></span> <span><span>&#34;</span>secret<span>&#34;</span></span> --submit
webctl <span>wait</span> <span><span>&#39;</span>url-contains:&#34;/dashboard&#34;<span>&#39;</span></span></pre></div>
<p dir="auto"><strong>Tips:</strong></p>
<ul dir="auto">
<li>Use <code>--interactive-only</code> to reduce output (only buttons, links, inputs)</li>
<li>Use <code>name~=</code> for partial matching (handles minor text changes)</li>
<li>Use <code>webctl query &#34;...&#34;</code> if element not found - shows suggestions</li>
<li>Use <code>--quiet</code> to suppress event output</li>
<li>Sessions persist cookies - login once, stay logged in</li>
<li>Check <code>webctl status</code> for console error counts before investigating</li>
<li>Use <code>webctl console --count</code> for log summary, <code>--level error</code> for details</li>
</ul>
<hr/>

<div data-snippet-clipboard-copy-content="┌─────────────┐     TCP/IPC      ┌─────────────┐
│   CLI       │ ◄──────────────► │   Daemon    │
│  (webctl)   │    JSON-RPC      │  (browser)  │
└─────────────┘                  └─────────────┘
      │                                 │
      ▼                                 ▼
  Agent/User                      Chromium + Playwright"><pre><code>┌─────────────┐     TCP/IPC      ┌─────────────┐
│   CLI       │ ◄──────────────► │   Daemon    │
│  (webctl)   │    JSON-RPC      │  (browser)  │
└─────────────┘                  └─────────────┘
      │                                 │
      ▼                                 ▼
  Agent/User                      Chromium + Playwright
</code></pre></div>
<ul dir="auto">
<li><strong>CLI</strong>: Stateless, sends commands to daemon</li>
<li><strong>Daemon</strong>: Manages browser, auto-starts on first command</li>
<li><strong>Profiles</strong>: <code>~/.local/share/webctl/profiles/</code></li>
<li><strong>Config</strong>: <code>~/.config/webctl/config.json</code></li>
</ul>
<hr/>

<p dir="auto">MIT</p>
</article></div></div>
  </body>
</html>
