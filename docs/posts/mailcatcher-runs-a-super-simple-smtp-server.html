<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://mailcatcher.me/">Original</a>
    <h1>MailCatcher runs a super simple SMTP server</h1>
    
    <div id="readability-page-1" class="page">
  

<p>Catches mail and serves it through a dream.</p>
<p>MailCatcher runs a super simple SMTP server which catches any message sent to it to display in a web interface. Run mailcatcher, set your favourite app to deliver to smtp://127.0.0.1:1025 instead of your default SMTP server, then check out <a href="http://127.0.0.1:1080" rel="nofollow">http://127.0.0.1:1080</a> to see the mail that&#39;s arrived so far.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://cloud.githubusercontent.com/assets/14028/14093249/4100f904-f598-11e5-936b-e6a396f18e39.png"><img src="https://cloud.githubusercontent.com/assets/14028/14093249/4100f904-f598-11e5-936b-e6a396f18e39.png" alt="MailCatcher screenshot"/></a></p>
<h2 id="features">Features</h2>
<ul>
<li>Catches all mail and stores it for display.</li>
<li>Shows HTML, Plain Text and Source version of messages, as applicable.</li>
<li>Rewrites HTML enabling display of embedded, inline images/etc and opens links in a new window.</li>
<li>Lists attachments and allows separate downloading of parts.</li>
<li>Download original email to view in your native mail client(s).</li>
<li>Command line options to override the default SMTP/HTTP IP and port settings.</li>
<li>Mail appears instantly if your browser supports <a href="http://www.whatwg.org/specs/web-socket-protocol/" rel="nofollow">WebSockets</a>, otherwise updates every thirty seconds.</li>
<li>Runs as a daemon in the background, optionally in foreground.</li>
<li>Sendmail-analogue command, <code>catchmail</code>, makes using mailcatcher from PHP a lot easier.</li>
<li>Keyboard navigation between messages</li>
</ul>
<h2 id="how">How</h2>
<ol>
<li><code>gem install mailcatcher</code></li>
<li><code>mailcatcher</code></li>
<li>Go to <a href="http://127.0.0.1:1080/" rel="nofollow">http://127.0.0.1:1080/</a></li>
<li>Send mail through smtp://127.0.0.1:1025</li>
</ol>
<p>Use <code>mailcatcher --help</code> to see the command line options. The brave can get the source from <a href="https://github.com/sj26/mailcatcher">the GitHub repository</a>.</p>
<h3><a id="bundler" aria-hidden="true" href="#bundler"></a>Bundler</h3>
<p>Please don&#39;t put mailcatcher into your Gemfile. It will conflict with your applications gems at some point.</p>
<p>Instead, pop a note in your README stating you use mailcatcher, and to run <code>gem install mailcatcher</code> then <code>mailcatcher</code> to get started.</p>
<h3><a id="rvm" aria-hidden="true" href="#rvm"></a>RVM</h3>
<p>Under RVM your mailcatcher command may only be available under the ruby you install mailcatcher into. To prevent this, and to prevent gem conflicts, install mailcatcher into a dedicated gemset with a wrapper script:</p>
<pre><code>rvm default@mailcatcher --create do gem install mailcatcher
ln -s &#34;$(rvm default@mailcatcher do rvm wrapper show mailcatcher)&#34; &#34;$rvm_bin_path/&#34;
</code></pre>
<h3><a id="rails" aria-hidden="true" href="#rails"></a>Rails</h3>
<p>To set up your rails app, I recommend adding this to your <code>environments/development.rb</code>:</p>
<pre><code>config.action_mailer.delivery_method = :smtp
config.action_mailer.smtp_settings = { :address =&gt; &#39;127.0.0.1&#39;, :port =&gt; 1025 }
config.action_mailer.raise_delivery_errors = false
</code></pre>
<h3><a id="php" aria-hidden="true" href="#php"></a>PHP</h3>
<p>For projects using PHP, or PHP frameworks and application platforms like Drupal, you can set <a href="http://www.php.net/manual/en/mail.configuration.php" rel="nofollow">PHP&#39;s mail configuration</a> in your <a href="http://www.php.net/manual/en/configuration.file.php" rel="nofollow">php.ini</a> to send via MailCatcher with:</p>
<pre><code>sendmail_path = /usr/bin/env catchmail -f some@from.address
</code></pre>
<p>You can do this in your <a href="http://php.net/manual/en/configuration.changes.php" rel="nofollow">Apache configuration</a> like so:</p>
<pre><code>php_admin_value sendmail_path &#34;/usr/bin/env catchmail -f some@from.address&#34;
</code></pre>
<p>If you&#39;ve installed via RVM this probably won&#39;t work unless you&#39;ve manually added your RVM bin paths to your system environment&#39;s PATH. In that case, run <code>which catchmail</code> and put that path into the <code>sendmail_path</code> directive above instead of <code>/usr/bin/env catchmail</code>.</p>
<p>If starting <code>mailcatcher</code> on alternative SMTP IP and/or port with parameters like <code>--smtp-ip 192.168.0.1 --smtp-port 10025</code>, add the same parameters to your <code>catchmail</code> command:</p>
<pre><code>sendmail_path = /usr/bin/env catchmail --smtp-ip 192.160.0.1 --smtp-port 10025 -f some@from.address
</code></pre>
<h3><a id="django" aria-hidden="true" href="#django"></a>Django</h3>
<p>For use in Django, add the following configuration to your projects&#39; settings.py</p>
<div><pre><span>if</span> <span>DEBUG</span>:
    <span>EMAIL_HOST</span> <span>=</span> <span>&#39;127.0.0.1&#39;</span>
    <span>EMAIL_HOST_USER</span> <span>=</span> <span>&#39;&#39;</span>
    <span>EMAIL_HOST_PASSWORD</span> <span>=</span> <span>&#39;&#39;</span>
    <span>EMAIL_PORT</span> <span>=</span> <span>1025</span>
    <span>EMAIL_USE_TLS</span> <span>=</span> <span>False</span></pre></div>
<h3><a id="api" aria-hidden="true" href="#api"></a>API</h3>
<p>A fairly RESTful URL schema means you can download a list of messages in JSON from <code>/messages</code>, each message&#39;s metadata with <code>/messages/:id.json</code>, and then the pertinent parts with <code>/messages/:id.html</code> and <code>/messages/:id.plain</code> for the default HTML and plain text version, <code>/messages/:id/:cid</code> for individual attachments by CID, or the whole message with <code>/messages/:id.source</code>.</p>
<h2 id="caveats">Caveats</h2>
<ul>
<li>Mail processing is fairly basic but easily modified. If something doesn&#39;t work for you, fork and fix it or <a href="https://github.com/sj26/mailcatcher/issues">file an issue</a> and let me know. Include the whole message you&#39;re having problems with.</li>
<li>Encodings are difficult. MailCatcher does not completely support utf-8 straight over the wire, you must use a mail library which encodes things properly based on SMTP server capabilities.</li>
</ul>
<h2 id="todo">TODO</h2>
<ul>
<li>Add mail delivery on request, optionally multiple times.</li>
<li>Compatibility testing against CampaignMonitor&#39;s <a href="http://www.campaignmonitor.com/design-guidelines/" rel="nofollow">design guidelines</a> and <a href="http://www.campaignmonitor.com/css/" rel="nofollow">CSS support matrix</a>.</li>
<li>Forward mail to rendering service, maybe CampaignMonitor?</li>
</ul>
<h2 id="thanks">Thanks</h2>
<p>MailCatcher is just a mishmash of other people&#39;s hard work. Thank you so much to the people who have built the wonderful guts on which this project relies.</p>
<h2 id="donations">Donations</h2>
<p>I work on MailCatcher mostly in my own spare time. If you&#39;ve found Mailcatcher useful and would like to help feed me and fund continued development and new features, please <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=522WUPLRWUSKE" rel="nofollow">donate via PayPal</a>. If you&#39;d like a specific feature added to MailCatcher and are willing to pay for it, please <a href="mailto:sj26@sj26.com">email me</a>.</p>
<h2 id="license">License</h2>
<p>Copyright Â© 2010-2019 Samuel Cochran (<a href="mailto:sj26@sj26.com">sj26@sj26.com</a>). Released under the MIT License, see <a href="https://github.com/sj26/mailcatcher/blob/master/LICENSE">LICENSE</a> for details.</p>



</div>
  </body>
</html>
