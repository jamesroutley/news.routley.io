<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bottosson.github.io/posts/gamutclipping/">Original</a>
    <h1>sRGB Gamut Clipping (2021)</h1>
    
    <div id="readability-page-1" class="page"><div><article><div><p>When doing image processing, rendering or converting between RGB color spaces, it is easy to end up with RGB values outside of the 0.0 to 1.0 range (or 0 to 255 for 8-bit colors). This normally means that it isn’t possible to encode the color and it needs to be adjusted somehow before being displayed or encoded (<a href="https://en.wikipedia.org/wiki/ScRGB">scRGB</a> is an example of an exception, and has a different range). The range of supported colors in a color spaces is referred to as a its <em>gamut</em>.</p><p>Many of the colors outside the gamut are still valid colors, they just can’t be encoded in the given color space. The colors that can’t be encoded can be categorized as follows (for RGB color spaces without <a href="https://en.wikipedia.org/wiki/Impossible_color#Imaginary_colors">imaginary primaries</a>):</p><ul><li><strong>One or more RGB values are larger than one, but none are negative</strong></li><li><strong>One or more negative values</strong></li></ul><p>The simplest technique for dealing with colors outside the valid range is to simply clamp <span><span><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true"><span></span><span></span><span><span>R</span></span></span></span>, <span><span><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span aria-hidden="true"><span></span><span></span><span><span>G</span></span></span></span> and <span><span><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true"><span></span><span></span><span><span>B</span></span></span></span> individually. The simplicity of this makes the technique widespread, but unfortunately it has significant drawbacks and can lead to unpleasant color distortions.</p><p>Here is an example of taking a photo and increasing its exposure and colorfulness significantly, with results displayed as sRGB. Colorfulness has been increased by scaling <a href="https://bottosson.github.io/posts/oklab/">Oklab</a> chroma. RGB values here are simply clamped to the 0.0 to 1.0 range.</p></div></article></div></div>
  </body>
</html>
