<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://make.wordpress.org/core/2022/09/12/lets-make-wordpress-officially-support-sqlite/">Original</a>
    <h1>Let’s make WordPress officially support SQLite</h1>
    
    <div id="readability-page-1" class="page"><div>
		<p>WordPress can be (and is) used for any kind of site, regardless of size or complexity. Some common use-cases include:</p>



<ul><li>Single-page landing sites</li><li>Simple company sites with just a few pages. These sites are usually rarely updated and are essentially static sites with an administration aspect.</li><li>Simple, single-user blogs</li><li>Complex news sites</li><li>e-Commerce sites</li><li>Full-fledged CMS solutions</li></ul><p>Part of the success of WordPress is because it is extendable, hookable, and can be used and tweaked to accomplish almost any task on the web.</p>



<p>However, one aspect of WordPress has never changed, regardless of the increase in WP’s use cases and popularity: The database. WordPress requires <span tabindex="0">MySQL<span> <span>MySQL is a relational database management system. A database is a structured collection of data where content, configuration and other options are stored. <a href="https://www.mysql.com/">https://www.mysql.com/</a>.</span></span></span>/MariaDB to be installed on a site. MySQL is arguably only optimal for some of the scenarios: The “mid-tier” range of site types.</p>



<p>Large sites usually implement custom database stacks depending on their specific needs, so are beyond the scope of this proposal.</p>



<p>On the lower end of the spectrum, there are small and simple sites. These are numerous and consist of all the blogs, company pages, and sites that don’t have thousands of users or thousands of posts, etc. These websites don’t always need the complexities of a MySQL/MariaDB database. The requirement of a dedicated MySQL server increases their hosting cost and the complexity of installation. On lower-end servers, it also decreases performance since the same “box” needs to cater to both a <span tabindex="0">PHP<span> <span>The web scripting language in which WordPress is primarily architected. WordPress requires PHP 5.6.20 or higher</span></span></span> and a MySQL/MariaDB server.</p>



<h2>The ideal scenario</h2>



<p>Ideally, WordPress would allow us to choose the type of database during installation. That could be done using an installation guide, or a simple constant in wp-config.php. To accomplish that, WordPress would need to have a database-abstraction layer. This is not an innovative or radical idea in the CMS space; Drupal has had a solid database-abstraction layer for more than a decade. Laravel, Symfony, and others also include ORMs that allow using multiple database types.</p>



<p>Building a database abstraction layer for WordPress would be a colossal task – though it might be one that, at some point in the future, we may have to undertake to ensure the project’s continued evolution and longevity.</p>



<h2>A middle ground</h2>



<p>As a middle ground, we could implement a solution for the bottom tier: small to medium sites and blogs. These sites don’t necessarily need a full-fledged MySQL database.</p>



<p>SQLite seems to be the perfect fit:</p>



<ul><li>It is the most widely used database worldwide</li><li>It is cross-platform and can run on any device</li><li>It is included by default on all PHP installations (unless explicitly disabled)</li><li>WordPress’s minimum requirements would be a simple PHP server, without the need for a separate database server. </li><li>SQLite support enables lower hosting costs, decreases energy consumption, and lowers performance costs on lower-end servers.</li></ul><h2>Implementing SQLite in WordPress <span tabindex="0">Core<span> <span>Core is the set of software required to run WordPress. The Core Development Team builds WordPress.</span></span></span></h2>



<p>Using SQLite in WordPress is, at this point, simple; There are implementations out there that have been around and evolving for more than 8 years. They have been thoroughly tested and proved to work seamlessly. These implementations are drop-in <code>wp-content/db.php</code> files that users can add to their installation; they are not hard to use. </p>



<p>However, most people are not aware of them. They are not aware that they have the option to buy cheaper hosting sans-mysql and then install WordPress using an SQLite database. Nor should they have to know about it… After all, they just want a simple company site or a <span tabindex="0">blog<span> <span>(versus network, site)</span></span></span>. </p>



<p>WordPress could officially support SQLite by including one of the existing SQLite implementations in Core. We would need to ensure that it is properly tested and supported, and additionally, raise awareness and expose the option to users.</p>



<h2>Why should this be in Core and not a <span tabindex="0">plugin<span> <span>A plugin is a piece of software containing a group of functions that can be added to a WordPress website. They can extend functionality or add new features to your WordPress websites. WordPress plugins are written in the PHP programming language and integrate seamlessly with WordPress. These can be free in the WordPress.org Plugin Directory https://wordpress.org/plugins/ or can be cost-based plugin from a third-party</span></span></span>? </h2>



<p>Picking a database type is something that should happen when a site is first installed. It is not something that should be done after the fact because that would require migrating data from one database to another, which can often be complex. </p>



<p>WordPress includes the MySQL implementation in Core, so if we support SQLite then that implementation should live alongside it. </p>



<p>Data <span tabindex="0">migration<span> <span>Moving the code, database and media files for a website site from one server to another. Most typically done when changing hosting companies.</span></span></span> can (and should) be in a plugin to facilitate migrations for existing sites should they wish to do that, but the database engine itself belongs in Core. </p>



<p>That will ensure that the implementation is properly supported, properly tested, and WordPress will be able to benefit, as detailed in the following section.</p>



<h2>What would the benefits of SQLite be?</h2>



<p>Officially supporting SQLite in WordPress could have many benefits. Some notable ones would include:</p>



<ul><li>Increased performance on lower-end servers and environments.</li><li>Potential for WordPress growth in markets where we did not have access due to the system’s requirements.</li><li>Potential for growth in the hosting market using installation “scenarios”.</li><li>Reduced energy consumption – increased sustainability for the WordPress project.</li><li>Further WordPress’s mission to “democratize publishing” for everyone.</li><li>Easier to contribute to WordPress – download the files and run the built-in PHP server without any other setup required.</li><li>Easier to use automated tests suite.</li><li>Sites can be “portable” and self-contained.</li></ul><h2>Next steps</h2>



<p>The next steps would need to be discussed in the comments section of this proposal. If there is consensus to implement SQLite in WordPress Core, an outline of the next steps would look something like this:</p>



<ul><li>Create the necessary <span tabindex="0">Trac<span> <span>An open source project by Edgewall Software that serves as a bug tracker and project management tool for WordPress.</span></span></span> tickets</li></ul><ul><li>Decide how the database type would be defined. The most simple scenario would be a <code>DATABASE_TYPE</code> constant in <code>wp-config.php</code>, allowing users to choose if their new site would use a MySQL or SQLite database, but there can be other solutions that come up during a later discussion.</li><li>Port an SQLite implementation to WordPress Core, applying the necessary changes like coding standards, in-code documentation, migrate tests, etc.</li><li>Test WordPress Core functionality with SQLite</li><li>Outreach to plugin developers for testing.</li></ul><p><em>The subject of database abstractions and using SQLite was discussed at length during WCEU 2022, in an unofficial capacity, in the hallways. This post is a distilled culmination of these conversations to bring the discussion to the broader community for serious consideration.</em></p>



<p>Props <a href="https://profiles.wordpress.org/zieladam/"><span>@</span>zieladam</a>, <a href="https://profiles.wordpress.org/mamaduka/"><span>@</span>mamaduka</a>, <a href="https://profiles.wordpress.org/jonoaldersonwp/"><span>@</span>jonoaldersonwp</a>, <a href="https://profiles.wordpress.org/tweetythierry/"><span>@</span>tweetythierry</a>, <a href="https://profiles.wordpress.org/sergeybiryukov/"><span>@</span>SergeyBiryukov</a>, <a href="https://profiles.wordpress.org/joostdevalk/"><span>@</span>joostdevalk</a>, <a href="https://profiles.wordpress.org/dingo_d/"><span>@</span>dingo_d</a>, <a href="https://profiles.wordpress.org/desmith/"><span>@</span>desmith</a>, <a href="https://profiles.wordpress.org/crixu/"><span>@</span>crixu</a>, <a href="https://profiles.wordpress.org/williampatton/"><span>@</span>williampatton</a>, <a href="https://profiles.wordpress.org/costdev/"><span>@</span>costdev</a>, <a href="https://profiles.wordpress.org/adamsilverstein/"><span>@</span>adamsilverstein</a>, <a href="https://profiles.wordpress.org/javiercasares/"><span>@</span>JavierCasares</a>, <a href="https://profiles.wordpress.org/robinwpdeveloper/"><span>@</span>robinwpdeveloper</a>, <a href="https://profiles.wordpress.org/aaemnnosttv/"><span>@</span>aaemnnosttv</a>, <a href="https://profiles.wordpress.org/jessibelle/"><span>@</span>jessibelle</a> for reviewing and contributing to this proposal.</p>
<p><a href="https://make.wordpress.org/core/tag/database/"><span>#</span>database</a>, <a href="https://make.wordpress.org/core/tag/install/"><span>#</span>install</a>, <a href="https://make.wordpress.org/core/tag/performance/"><span>#</span>performance</a>, <a href="https://make.wordpress.org/core/tag/sustainability/"><span>#</span>sustainability</a></p>
			</div></div>
  </body>
</html>
