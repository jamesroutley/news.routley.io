<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/nearai/ironclaw">Original</a>
    <h1>IronClaw: a Rust-based clawd that runs tools in isolated WASM sandboxes</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/nearai/ironclaw/blob/main/ironclaw.png"><img src="https://github.com/nearai/ironclaw/raw/main/ironclaw.png" alt="IronClaw" width="200"/></a>
</p>

<p dir="auto">
  <strong>Your secure personal AI assistant, always on your side</strong>
</p>
<p dir="auto">
  <a href="#philosophy">Philosophy</a> •
  <a href="#features">Features</a> •
  <a href="#installation">Installation</a> •
  <a href="#configuration">Configuration</a> •
  <a href="#security">Security</a> •
  <a href="#architecture">Architecture</a>
</p>
<hr/>

<p dir="auto">IronClaw is built on a simple principle: <strong>your AI assistant should work for you, not against you</strong>.</p>
<p dir="auto">In a world where AI systems are increasingly opaque about data handling and aligned with corporate interests, IronClaw takes a different approach:</p>
<ul dir="auto">
<li><strong>Your data stays yours</strong> - All information is stored locally, encrypted, and never leaves your control</li>
<li><strong>Transparency by design</strong> - Open source, auditable, no hidden telemetry or data harvesting</li>
<li><strong>Self-expanding capabilities</strong> - Build new tools on the fly without waiting for vendor updates</li>
<li><strong>Defense in depth</strong> - Multiple security layers protect against prompt injection and data exfiltration</li>
</ul>
<p dir="auto">IronClaw is the AI assistant you can actually trust with your personal and professional life.</p>


<ul dir="auto">
<li><strong>WASM Sandbox</strong> - Untrusted tools run in isolated WebAssembly containers with capability-based permissions</li>
<li><strong>Credential Protection</strong> - Secrets are never exposed to tools; injected at the host boundary with leak detection</li>
<li><strong>Prompt Injection Defense</strong> - Pattern detection, content sanitization, and policy enforcement</li>
<li><strong>Endpoint Allowlisting</strong> - HTTP requests only to explicitly approved hosts and paths</li>
</ul>

<ul dir="auto">
<li><strong>Multi-channel</strong> - REPL, HTTP webhooks, WASM channels (Telegram, Slack), and web gateway</li>
<li><strong>Docker Sandbox</strong> - Isolated container execution with per-job tokens and orchestrator/worker pattern</li>
<li><strong>Web Gateway</strong> - Browser UI with real-time SSE/WebSocket streaming</li>
<li><strong>Routines</strong> - Cron schedules, event triggers, webhook handlers for background automation</li>
<li><strong>Heartbeat System</strong> - Proactive background execution for monitoring and maintenance tasks</li>
<li><strong>Parallel Jobs</strong> - Handle multiple requests concurrently with isolated contexts</li>
<li><strong>Self-repair</strong> - Automatic detection and recovery of stuck operations</li>
</ul>

<ul dir="auto">
<li><strong>Dynamic Tool Building</strong> - Describe what you need, and IronClaw builds it as a WASM tool</li>
<li><strong>MCP Protocol</strong> - Connect to Model Context Protocol servers for additional capabilities</li>
<li><strong>Plugin Architecture</strong> - Drop in new WASM tools and channels without restarting</li>
</ul>

<ul dir="auto">
<li><strong>Hybrid Search</strong> - Full-text + vector search using Reciprocal Rank Fusion</li>
<li><strong>Workspace Filesystem</strong> - Flexible path-based storage for notes, logs, and context</li>
<li><strong>Identity Files</strong> - Maintain consistent personality and preferences across sessions</li>
</ul>


<ul dir="auto">
<li>Rust 1.85+</li>
<li>PostgreSQL 15+ with <a href="https://github.com/pgvector/pgvector">pgvector</a> extension</li>
<li>NEAR AI account (authentication handled via setup wizard)</li>
</ul>

<p dir="auto">Visit <a href="https://github.com/nearai/ironclaw/releases/">Releases page</a> to see the latest updates.</p>
<details>
  <summary>Install via Windows Installer (Windows)</summary>
<p dir="auto">Download the <a href="https://github.com/nearai/ironclaw/releases/latest/download/ironclaw-x86_64-pc-windows-msvc.msi">Windows Installer</a> and run it.</p>
</details>
<details>
  <summary>Install via powershell script (Windows)</summary>
<div dir="auto" data-snippet-clipboard-copy-content="irm https://github.com/nearai/ironclaw/releases/latest/download/ironclaw-installer.ps1 | iex"><pre>irm https://github.com/nearai/ironclaw/releases/latest/download/ironclaw-installer.ps1 <span>|</span> iex</pre></div>
</details>
<details>
  <summary>Install via shell script (macOS, Linux, Windows/WSL)</summary>
<div dir="auto" data-snippet-clipboard-copy-content="curl --proto &#39;=https&#39; --tlsv1.2 -LsSf https://github.com/nearai/ironclaw/releases/latest/download/ironclaw-installer.sh | sh"><pre>curl --proto <span><span>&#39;</span>=https<span>&#39;</span></span> --tlsv1.2 -LsSf https://github.com/nearai/ironclaw/releases/latest/download/ironclaw-installer.sh <span>|</span> sh</pre></div>
</details>
<details>
  <summary>Compile the source code (Cargo on Windows, Linux, macOS)</summary>
<p dir="auto">Install it with <code>cargo</code>, just make sure you have <a href="https://rustup.rs" rel="nofollow">Rust</a> installed on your computer.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Clone the repository
git clone https://github.com/nearai/ironclaw.git
cd ironclaw

# Build
cargo build --release

# Run tests
cargo test"><pre><span><span>#</span> Clone the repository</span>
git clone https://github.com/nearai/ironclaw.git
<span>cd</span> ironclaw

<span><span>#</span> Build</span>
cargo build --release

<span><span>#</span> Run tests</span>
cargo <span>test</span></pre></div>
<p dir="auto">For <strong>full release</strong> (after modifying channel sources), run <code>./scripts/build-all.sh</code> to rebuild channels first.</p>
</details>

<div dir="auto" data-snippet-clipboard-copy-content="# Create database
createdb ironclaw

# Enable pgvector
psql ironclaw -c &#34;CREATE EXTENSION IF NOT EXISTS vector;&#34;"><pre><span><span>#</span> Create database</span>
createdb ironclaw

<span><span>#</span> Enable pgvector</span>
psql ironclaw -c <span><span>&#34;</span>CREATE EXTENSION IF NOT EXISTS vector;<span>&#34;</span></span></pre></div>

<p dir="auto">Run the setup wizard to configure IronClaw:</p>

<p dir="auto">The wizard handles database connection, NEAR AI authentication (via browser OAuth),
and secrets encryption (using your system keychain). All settings are saved to
<code>~/.ironclaw/settings.toml</code>.</p>

<p dir="auto">IronClaw implements defense in depth to protect your data and prevent misuse.</p>

<p dir="auto">All untrusted tools run in isolated WebAssembly containers:</p>
<ul dir="auto">
<li><strong>Capability-based permissions</strong> - Explicit opt-in for HTTP, secrets, tool invocation</li>
<li><strong>Endpoint allowlisting</strong> - HTTP requests only to approved hosts/paths</li>
<li><strong>Credential injection</strong> - Secrets injected at host boundary, never exposed to WASM code</li>
<li><strong>Leak detection</strong> - Scans requests and responses for secret exfiltration attempts</li>
<li><strong>Rate limiting</strong> - Per-tool request limits to prevent abuse</li>
<li><strong>Resource limits</strong> - Memory, CPU, and execution time constraints</li>
</ul>
<div data-snippet-clipboard-copy-content="WASM ──► Allowlist ──► Leak Scan ──► Credential ──► Execute ──► Leak Scan ──► WASM
         Validator     (request)     Injector       Request     (response)"><pre><code>WASM ──► Allowlist ──► Leak Scan ──► Credential ──► Execute ──► Leak Scan ──► WASM
         Validator     (request)     Injector       Request     (response)
</code></pre></div>

<p dir="auto">External content passes through multiple security layers:</p>
<ul dir="auto">
<li>Pattern-based detection of injection attempts</li>
<li>Content sanitization and escaping</li>
<li>Policy rules with severity levels (Block/Warn/Review/Sanitize)</li>
<li>Tool output wrapping for safe LLM context injection</li>
</ul>

<ul dir="auto">
<li>All data stored locally in your PostgreSQL database</li>
<li>Secrets encrypted with AES-256-GCM</li>
<li>No telemetry, analytics, or data sharing</li>
<li>Full audit log of all tool executions</li>
</ul>

<div data-snippet-clipboard-copy-content="┌────────────────────────────────────────────────────────────────────┐
│                          Channels                                  │
│  ┌──────┐  ┌──────┐  ┌─────────────┐  ┌─────────────┐            │
│  │ REPL │  │ HTTP │  │WASM Channels│  │ Web Gateway │            │
│  └──┬───┘  └──┬───┘  └──────┬──────┘  │ (SSE + WS) │            │
│     │         │              │         └──────┬──────┘            │
│     └─────────┴──────────────┴────────────────┘                   │
│                              │                                     │
│                    ┌─────────▼─────────┐                          │
│                    │    Agent Loop     │  Intent routing           │
│                    └────┬─────────┬────┘                          │
│                         │         │                                │
│              ┌──────────▼───┐  ┌──▼──────────────┐               │
│              │  Scheduler   │  │ Routines Engine  │               │
│              │(parallel jobs)│  │(cron, event, wh) │               │
│              └──────┬───────┘  └────────┬─────────┘               │
│                     │                   │                          │
│       ┌─────────────┼───────────────────┘                         │
│       │             │                                              │
│   ┌───▼────┐   ┌────▼────────────────┐                           │
│   │ Local  │   │    Orchestrator     │                           │
│   │Workers │   │  ┌───────────────┐  │                           │
│   │(in-proc)│   │  │ Docker Sandbox│  │                           │
│   └───┬────┘   │  │   Containers  │  │                           │
│       │        │  │ ┌───────────┐ │  │                           │
│       │        │  │ │Worker / CC│ │  │                           │
│       │        │  │ └───────────┘ │  │                           │
│       │        │  └───────────────┘  │                           │
│       │        └─────────┬───────────┘                           │
│       └──────────────────┤                                        │
│                          │                                        │
│              ┌───────────▼──────────┐                             │
│              │    Tool Registry     │                             │
│              │  Built-in, MCP, WASM │                             │
│              └──────────────────────┘                             │
└────────────────────────────────────────────────────────────────────┘"><pre><code>┌────────────────────────────────────────────────────────────────────┐
│                          Channels                                  │
│  ┌──────┐  ┌──────┐  ┌─────────────┐  ┌─────────────┐            │
│  │ REPL │  │ HTTP │  │WASM Channels│  │ Web Gateway │            │
│  └──┬───┘  └──┬───┘  └──────┬──────┘  │ (SSE + WS) │            │
│     │         │              │         └──────┬──────┘            │
│     └─────────┴──────────────┴────────────────┘                   │
│                              │                                     │
│                    ┌─────────▼─────────┐                          │
│                    │    Agent Loop     │  Intent routing           │
│                    └────┬─────────┬────┘                          │
│                         │         │                                │
│              ┌──────────▼───┐  ┌──▼──────────────┐               │
│              │  Scheduler   │  │ Routines Engine  │               │
│              │(parallel jobs)│  │(cron, event, wh) │               │
│              └──────┬───────┘  └────────┬─────────┘               │
│                     │                   │                          │
│       ┌─────────────┼───────────────────┘                         │
│       │             │                                              │
│   ┌───▼────┐   ┌────▼────────────────┐                           │
│   │ Local  │   │    Orchestrator     │                           │
│   │Workers │   │  ┌───────────────┐  │                           │
│   │(in-proc)│   │  │ Docker Sandbox│  │                           │
│   └───┬────┘   │  │   Containers  │  │                           │
│       │        │  │ ┌───────────┐ │  │                           │
│       │        │  │ │Worker / CC│ │  │                           │
│       │        │  │ └───────────┘ │  │                           │
│       │        │  └───────────────┘  │                           │
│       │        └─────────┬───────────┘                           │
│       └──────────────────┤                                        │
│                          │                                        │
│              ┌───────────▼──────────┐                             │
│              │    Tool Registry     │                             │
│              │  Built-in, MCP, WASM │                             │
│              └──────────────────────┘                             │
└────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Component</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Agent Loop</strong></td>
<td>Main message handling and job coordination</td>
</tr>
<tr>
<td><strong>Router</strong></td>
<td>Classifies user intent (command, query, task)</td>
</tr>
<tr>
<td><strong>Scheduler</strong></td>
<td>Manages parallel job execution with priorities</td>
</tr>
<tr>
<td><strong>Worker</strong></td>
<td>Executes jobs with LLM reasoning and tool calls</td>
</tr>
<tr>
<td><strong>Orchestrator</strong></td>
<td>Container lifecycle, LLM proxying, per-job auth</td>
</tr>
<tr>
<td><strong>Web Gateway</strong></td>
<td>Browser UI with chat, memory, jobs, logs, extensions, routines</td>
</tr>
<tr>
<td><strong>Routines Engine</strong></td>
<td>Scheduled (cron) and reactive (event, webhook) background tasks</td>
</tr>
<tr>
<td><strong>Workspace</strong></td>
<td>Persistent memory with hybrid search</td>
</tr>
<tr>
<td><strong>Safety Layer</strong></td>
<td>Prompt injection defense and content sanitization</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<div dir="auto" data-snippet-clipboard-copy-content="# First-time setup (configures database, auth, etc.)
ironclaw onboard

# Start interactive REPL
cargo run

# With debug logging
RUST_LOG=ironclaw=debug cargo run"><pre><span><span>#</span> First-time setup (configures database, auth, etc.)</span>
ironclaw onboard

<span><span>#</span> Start interactive REPL</span>
cargo run

<span><span>#</span> With debug logging</span>
RUST_LOG=ironclaw=debug cargo run</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Format code
cargo fmt

# Lint
cargo clippy --all --benches --tests --examples --all-features

# Run tests
createdb ironclaw_test
cargo test

# Run specific test
cargo test test_name"><pre><span><span>#</span> Format code</span>
cargo fmt

<span><span>#</span> Lint</span>
cargo clippy --all --benches --tests --examples --all-features

<span><span>#</span> Run tests</span>
createdb ironclaw_test
cargo <span>test</span>

<span><span>#</span> Run specific test</span>
cargo <span>test</span> test_name</pre></div>
<ul dir="auto">
<li><strong>Telegram channel</strong>: See <a href="https://github.com/nearai/ironclaw/blob/main/docs/TELEGRAM_SETUP.md">docs/TELEGRAM_SETUP.md</a> for setup and DM pairing.</li>
<li><strong>Changing channel sources</strong>: Run <code>./channels-src/telegram/build.sh</code> before <code>cargo build</code> so the updated WASM is bundled.</li>
</ul>

<p dir="auto">IronClaw is a Rust reimplementation inspired by <a href="https://github.com/openclaw/openclaw">OpenClaw</a>. See <a href="https://github.com/nearai/ironclaw/blob/main/FEATURE_PARITY.md">FEATURE_PARITY.md</a> for the complete tracking matrix.</p>
<p dir="auto">Key differences:</p>
<ul dir="auto">
<li><strong>Rust vs TypeScript</strong> - Native performance, memory safety, single binary</li>
<li><strong>WASM sandbox vs Docker</strong> - Lightweight, capability-based security</li>
<li><strong>PostgreSQL vs SQLite</strong> - Production-ready persistence</li>
<li><strong>Security-first design</strong> - Multiple defense layers, credential protection</li>
</ul>

<p dir="auto">Licensed under either of:</p>
<ul dir="auto">
<li>Apache License, Version 2.0 (<a href="https://github.com/nearai/ironclaw/blob/main/LICENSE-APACHE">LICENSE-APACHE</a>)</li>
<li>MIT License (<a href="https://github.com/nearai/ironclaw/blob/main/LICENSE-MIT">LICENSE-MIT</a>)</li>
</ul>
<p dir="auto">at your option.</p>
</article></div></div>
  </body>
</html>
