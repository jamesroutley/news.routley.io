<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/lunatic-solutions/lunatic">Original</a>
    <h1>Lunatic: Erlang-Inspired Runtime for WebAssembly</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><div dir="auto">
    <p><a href="https://lunatic.solutions/" rel="nofollow">
        <img width="60" src="https://raw.githubusercontent.com/lunatic-solutions/lunatic/main/assets/logo.svg" alt="lunatic logo"/>
    </a></p>
</div>
<p dir="auto">Lunatic is a universal runtime for <strong>fast</strong>, <strong>robust</strong> and <strong>scalable</strong> server-side applications.
It&#39;s inspired by Erlang and can be used from any language that compiles to <a href="https://webassembly.org/" rel="nofollow">WebAssembly</a>.
You can read more about the motivation behind Lunatic <a href="https://kolobara.com/lunatic/index.html#motivation" rel="nofollow">here</a>.</p>
<p dir="auto">We currently provide libraries to take full advantage of Lunatic&#39;s features for:</p>
<ul dir="auto">
<li><a href="https://crates.io/crates/lunatic" rel="nofollow">Rust</a></li>
<li><a href="https://github.com/lunatic-solutions/as-lunatic">AssemblyScript</a></li>
</ul>
<p dir="auto">If you would like to see other languages supported or just follow the discussions around Lunatic,
<a href="https://discord.gg/b7zDqpXpB4" rel="nofollow">join our discord server</a>.</p>
<h2 dir="auto"><a id="user-content-supported-features" aria-hidden="true" href="#supported-features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Supported features</h2>
<ul>
<li> Creating, cancelling &amp; waiting on processes</li>
<li> Fine-grained process permissions</li>
<li> Process supervision</li>
<li> Channel based message passing</li>
<li> TCP networking</li>
<li> Filesystem access</li>
<li> Distributed nodes</li>
<li> Hot reloading</li>
</ul>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">If you have rust (cargo) installed, you can build and install the lunatic runtime with:</p>
<div data-snippet-clipboard-copy-content="cargo install lunatic-runtime"><pre>cargo install lunatic-runtime</pre></div>
<hr/>
<p dir="auto">On <strong>macOS</strong> you can use <a href="https://brew.sh/" rel="nofollow">Homebrew</a> too:</p>
<div data-snippet-clipboard-copy-content="brew tap lunatic-solutions/lunatic
brew install lunatic"><pre>brew tap lunatic-solutions/lunatic
brew install lunatic</pre></div>
<hr/>
<p dir="auto">We also provide pre-built binaries for <strong>Windows</strong>, <strong>Linux</strong> and <strong>macOS</strong> on the
<a href="https://github.com/lunatic-solutions/lunatic/releases">releases page</a>, that you can include in your <code>PATH</code>.</p>
<hr/>
<p dir="auto">And as always, you can also clone this repository and build it locally. The only dependency is
<a href="https://rustup.rs/" rel="nofollow">a rust compiler</a>:</p>
<div data-snippet-clipboard-copy-content="# Clone the repository
git clone https://github.com/lunatic-solutions/lunatic.git
# Jump into the cloned folder
cd lunatic
# Build and install lunatic
cargo install --path ."><pre><span><span>#</span> Clone the repository</span>
git clone https://github.com/lunatic-solutions/lunatic.git
<span><span>#</span> Jump into the cloned folder</span>
<span>cd</span> lunatic
<span><span>#</span> Build and install lunatic</span>
cargo install --path <span>.</span></pre></div>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">After installation, you can use the <code>lunatic</code> binary to run WASM modules.</p>
<p dir="auto">To learn how to build modules, check out language-specific bindings:</p>
<ul dir="auto">
<li><a href="https://github.com/lunatic-solutions/rust-lib">Rust</a></li>
<li><a href="https://github.com/lunatic-solutions/as-lunatic">AssemblyScript</a></li>
</ul>
<h2 dir="auto"><a id="user-content-architecture" aria-hidden="true" href="#architecture"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Architecture</h2>
<p dir="auto">Lunatic&#39;s design is all about spawning <em>super lightweight</em> processes, also known as green threads or
<a href="https://golangbot.com/goroutines" rel="nofollow">go-routines</a> in other runtimes. Lunatic&#39;s processes are fast to create, have a small memory footprint
and a low scheduling overhead. They are designed for <strong>massive</strong> concurrency. It&#39;s not uncommon to have
hundreds of thousands of such processes concurrently running in your app.</p>
<p dir="auto">Some common use cases for processes are:</p>
<ul dir="auto">
<li>HTTP request handling</li>
<li>Long running requests, like Websocket connections</li>
<li>Long running background tasks, like email sending</li>
<li>Calling untrusted libraries in an sandboxed environment</li>
</ul>
<h3 dir="auto"><a id="user-content-isolation" aria-hidden="true" href="#isolation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Isolation</h3>
<p dir="auto">What makes the last use case possible are the sandboxing capabilities of <a href="https://webassembly.org/" rel="nofollow">WebAssembly</a>. WebAssembly was
originally developed to run in the browser and provides extremely strong sandboxing on multiple levels.
Lunatic&#39;s processes inherit these properties.</p>
<p dir="auto">Each process has its own stack, heap, and even syscalls. If one process fails, it will not affect the rest
of the system. This allows you to create very powerful and fault-tolerant abstraction.</p>
<p dir="auto">This is also true for some other runtimes, but Lunatic goes one step further and makes it possible to use C
bindings directly in your app without any fear. If the C code contains any security vulnerabilities or crashes,
those issues will only affect the process currently executing the code. The only requirement is that the C
code can be compiled to WebAssembly.</p>
<p dir="auto">It&#39;s possible to give per process fine-grained access to resources (filesystem, memory, network connections, ...).
This is enforced on the syscall level.</p>
<h3 dir="auto"><a id="user-content-scheduling" aria-hidden="true" href="#scheduling"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Scheduling</h3>
<p dir="auto">All processes running on Lunatic are preemptively scheduled and executed by a <a href="https://docs.rs/smol" rel="nofollow">work stealing async executor</a>. This
gives you the freedom to write simple <em>blocking</em> code, but the runtime is going to make sure it actually never blocks
a thread if waiting on I/O.</p>
<p dir="auto">Even if you have an infinite loop somewhere in your code, the scheduling will always be fair and not permanently block
the execution thread. The best part is that you don&#39;t need to do anything special to achieve this, the runtime will take
care of it no matter which programming language you use.</p>
<h3 dir="auto"><a id="user-content-compatibility" aria-hidden="true" href="#compatibility"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Compatibility</h3>
<p dir="auto">We intend to eventually make Lunatic completely compatible with <a href="https://wasi.dev/" rel="nofollow">WASI</a>. Ideally, you could take existing code,
compile it to WebAssembly and run on top of Lunatic; creating the best developer experience possible. We&#39;re not
quite there yet.</p>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto">Licensed under either of</p>
<ul dir="auto">
<li>Apache License, Version 2.0, (<a href="https://github.com/lunatic-solutions/lunatic/blob/main/LICENSE-APACHE">LICENSE-APACHE</a> or <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">http://www.apache.org/licenses/LICENSE-2.0</a>)</li>
<li>MIT license (<a href="https://github.com/lunatic-solutions/lunatic/blob/main/LICENSE-MIT">LICENSE-MIT</a> or <a href="http://opensource.org/licenses/MIT" rel="nofollow">http://opensource.org/licenses/MIT</a>)</li>
</ul>
<p dir="auto">at your option.</p>
</article>
          </div></div>
  </body>
</html>
