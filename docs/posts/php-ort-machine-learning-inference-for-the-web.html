<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://krakjoe.github.io/ort/">Original</a>
    <h1>PHP-ORT: Machine learning inference for the web</h1>
    
    <div id="readability-page-1" class="page"><div>
        <div>
            

            <div id="problem">
                <h2>The Inevitable Transformation</h2>
                <p>Software is changing faster than we&#39;ve seen in 25 years. Machine learning isn&#39;t just becoming important, it&#39;s becoming essential. Every application, every website, every digital interaction will soon expect intelligent features as standard.</p>
                
                <p>For millions of PHP developers who power the web, this creates an existential challenge: stay relevant in an AI-first world or risk obsolescence.</p>

                <p><strong>The Stakes:</strong> This isn&#39;t about technology preferences, it&#39;s about livelihoods. Mortgages, families, careers built on PHP expertise.
                </p>

                <h3>The Current Reality</h3>
                <ul>
                    <li><strong>PHP dominates the web:</strong> 78% of websites use PHP as their server-side language</li>
                    <li><strong>ML is becoming essential:</strong> Every modern application needs intelligent features</li>
                    <li><strong>The gap is growing:</strong> No first class machine learning support for PHP</li>
                    <li><strong>The choices are terrible:</strong> Burden your stack with microservices, API calls, or other inefficient methodology (eg. FFI), or switch stacks.</li>
                </ul>

                <div>
                    <p><span>&lt;?php</span>

<span>$user_input</span> <span>=</span> <span>$_POST</span>[<span>&#39;message&#39;</span>];











</p>
                </div>

                <h3>Why This Matters</h3>
                <p>When we mention numbers like 78%, we are meant to offer all kinds of caveats about how servers report their software and so on ...</p>
                </div>

            <div id="solution">
                <h2>The Solution: Production-Ready ML Inference</h2>
                <p>PHP-ORT brings first-class machine learning inference to PHP through rigorous engineering and performance optimization.</p>
                </div>

            <div id="technical">
                <h2>Technical Excellence</h2>
                <p>This isn&#39;t a proof of concept, it&#39;s production-ready infrastructure built to exacting standards.</p>

                <h3>Core Architecture</h3>
                <div>
                    <p><strong>PHP API Layer</strong> - Clean, decoupled API:
                            <span>ORT\Tensor</span>,
                            <span>ORT\Math</span> functional namespace,
                            <span>ORT\Model</span>,
                            <span>ORT\Runtime</span>
                    </p>
                    
                    <p><strong>ORT\Tensor</strong> - Immutable API; always available
                    </p>
                </div>

                 <h3>Key Technical Innovations</h3>
                <ul>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;immutable-tensors&#39;); return false;">Immutable Tensors:</a></strong> Zero-copy, lock-free data sharing, efficient memory usage, and predictable performance</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;dual-storage&#39;); return false;">Dual Storage Class Tensors:</a></strong> <span>ORT\Tensor\Persistent</span> survive request cycles (and may be shared among threads, ie FrankenPHP), <span>ORT\Tensor\Transient</span> are request local</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;memory-management&#39;); return false;">Memory Management:</a></strong> Aligned allocator and optimized memcpy for maximum performance potential</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;thread-pool&#39;); return false;">Thread Pool:</a></strong> Dedicated Slot scheduling implementation with alignment awareness</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;simd-optimization&#39;); return false;">SIMD Optimization:</a></strong> Runtime detection with thread pinning ensures stability and predictability at scale</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;type-system&#39;); return false;">Type System:</a></strong> Schemas extracted from NumPy runtime; no guesswork, perfect compatibility</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;type-promotion&#39;); return false;">Type Promotion:</a></strong> Automatic conversion between types for seamless integration and maximum predictability</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;zero-overhead&#39;); return false;">Zero Overhead Optimizations:</a></strong> Backend silently (opaque to the frontend) optimizes dispatch</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;call-site-scaling&#39;); return false;">Call Site Scaling:</a></strong> <span>ORT\Math\scale</span> provides a high degree of control over scaling at the call site</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;modular-design&#39;); return false;">Modular Design:</a></strong> Math and ONNX systems are independent - use either or both as needed</li>
                    <li><strong><a href="#" onclick="showInnovationDetail(&#39;tensor-generation&#39;); return false;">Flexible Tensor Generation:</a></strong> <span>ORT\Tensor\Generator</span> provides flexible generation (lazy loading, random, etc)</li>
                </ul>

                

                <h3>Performance Benchmarks</h3>
                <div id="benchmark-slideshow">
                    <p>
                        <img id="benchmark-image" src="https://krakjoe.github.io/ort/bench/images/mul.png" alt="Benchmark Chart"/>
                        
                    </p>
                    
                </div>
                <p>All benchmarks are reproducible and available in the <a href="https://github.com/krakjoe/ort/tree/develop/dist/bench">bench</a> directory.</p>

                <h3>Getting Started</h3>
                <p>
wget https://.../v1.22.0/onnxruntime-linux-x64-1.22.0.tgz -O onnxruntime-linux-x64-1.22.0.tgz
sudo tar -C /usr/local --strip-components=1 -xvzf /onnxruntime-linux-x64-1.22.0.tgz
sudo ldconfig
sudo apt-get install pkg-config


phpize
./configure --enable-ort
make
sudo make install


extension=ort.so
            </p>

                <div>
                    <p><span>&lt;?php</span>

<span>echo</span> <span>&#34;Backend: &#34;</span> <span>.</span> (<span>ORT\Math</span>\<span>backend</span>() <span>?:</span> <span>&#34;scalar&#34;</span>) <span>.</span> <span>&#34;\n&#34;</span>;
<span>echo</span> <span>&#34;Cores: &#34;</span> <span>.</span> <span>ORT\Math</span>\<span>cores</span>() <span>.</span> <span>&#34;\n&#34;</span>;
</p>
                </div>

                <p>For the avoidance of any doubt; The <em>design and features</em> of the extension are <em>production-ready</em>: The code is in heavy development and releases will be announced.</p>
            </div>

            <div id="critics">
                <h2>Addressing the Inevitable Criticisms</h2>
                <p>Let&#39;s be honest about the scope and address the skeptics directly.</p>

                <div>
                    <div>
                        <h4>&#34;No ML ecosystem around PHP&#34;</h4>
                        <p>Response:</p>
                        <p>Ecosystems need a functional center to grow around. This is that center. You can&#39;t have an ecosystem without foundational infrastructure.</p>
                    </div>

                    <div>
                        <h4>&#34;PHP isn&#39;t suitable for HPC&#34;</h4>
                        <p>Response:</p>
                        <p>The thing that makes Python suitable for ML isn&#39;t the interpreter or whether or not they have an effective JIT compiler (they don&#39;t); it&#39;s the ecosystem and libraries built around it.</p>
                    </div>

                    <div>
                        <h4>&#34;Type requirements too complex&#34;</h4>
                        <p>Response:</p>
                        <p>We extract schemas from NumPy runtime. No guesswork, no compatibility issues; strict adherence to proven standards.</p>
                    </div>

                    <div>
                        <h4>&#34;PHP threading is dangerous&#34;</h4>
                        <p>Response:</p>
                        <p>Both wrong, and irrelevant: No interpreter threads are used, threads are used at the layer underneath the extension to distribute computation.</p>
                    </div>

                    <div>
                        <h4>&#34;Performance claims exaggerated&#34;</h4>
                        <p>Response:</p>
                        <p>Every benchmark is reproducible. Code is inspectable. Thread pool is visible. These are engineering results, not marketing numbers.</p>
                    </div>

                    <div>
                        <h4>&#34;One person can&#39;t maintain this&#34;</h4>
                        <p>Response:</p>
                        <p>Valid concern. But major PHP features have historically been driven by individuals who proved the concept and attracted contributors.</p>
                    </div>
                </div>

                <h3>Reality Check: What&#39;s Actually Realistic</h3>
                <div>
                    <p><strong>What&#39;s NOT being claimed:</strong></p><ul>
                        <li>PHP will dominate ML training</li>
                        <li>Python will become irrelevant</li>
                        <li>This will change the industry overnight</li>
                        <li>Every PHP developer will become an ML expert</li>
                    </ul>
                </div>

                <div>
                    <p><strong>What IS being claimed:</strong></p><ul>
                        <li>PHP developers can now do ML inference without leaving PHP</li>
                        <li>The web (mostly PHP) can now have first-class ML capabilities</li>
                        <li>This provides foundation for PHP ML ecosystem to grow</li>
                        <li>Performance is competitive with any inference solution</li>
                    </ul>
                </div>

                <h3>The Scope</h3>
                <p>This focuses specifically on <em>inference</em>, not the entire ML stack. It&#39;s not trying to replace Python for training, just enabling inference where PHP already dominates.</p>
                <h3>The Track Record</h3>
                <p>This was developed by the same person who delivered numerous core improvements, and many complex features by extension to PHP including threading; You may already depend on infrastructure they developed!</p>
                </div>

            <div id="future">
                <h2>The Path Forward</h2>
                <p>Success doesn&#39;t require changing the world overnight, it requires building the foundation for sustainable growth.</p>

                <h3>Realistic Timeline</h3>
                <div>
                    <div>
                        <h4>Technical Validation ✓</h4>
                        <p>Production-ready implementation with rigorous testing</p>
                    </div>
                    <div>
                        <h4>Early Adoption</h4>
                        <p>Get production deployments and real-world validation</p>
                    </div>
                    <div>
                        <h4>Community Building</h4>
                        <p>Attract contributors and framework integrations</p>
                    </div>
                    <div>
                        <h4>Ecosystem Growth</h4>
                        <p>Enable domain-specific libraries and tools</p>
                    </div>
                    <div>
                        <h4>Standard Practice</h4>
                        <p>Become the standard way to do ML inference in PHP</p>
                    </div>
                </div>

                <h3>The Opportunity</h3>
                <p>PHP&#39;s web dominance provides a unique distribution advantage. If ML inference becomes as easy as database queries, it will spread organically across the web ecosystem.</p>

                <div>
                    <p><span>&lt;?php</span>

<span>$user</span> <span>=</span> <span>User</span>::<span>find</span>(<span>$id</span>);
<span>$recommendations</span> <span>=</span> <span>ML</span>::<span>recommend</span>(<span>$user</span>);
<span>$sentiment</span> <span>=</span> <span>ML</span>::<span>analyze</span>(<span>$comment</span>);
<span>$classification</span> <span>=</span> <span>ML</span>::<span>classify</span>(<span>$image</span>);


<span>$posts</span> <span>=</span> <span>Post</span>::<span>where</span>(<span>&#39;published&#39;</span>, <span>true</span>)-&gt;<span>get</span>();
</p>
                </div>

                <h3>Real-World Impact</h3>
                <ul>
                    <li><strong>Developer Retention:</strong> Millions of PHP developers stay relevant</li>
                    <li><strong>Web Evolution:</strong> Every PHP website becomes a potential ML application</li>
                    <li><strong>Accessibility:</strong> ML inference becomes as common as database queries</li>
                    <li><strong>Innovation:</strong> New applications emerge when barriers are removed</li>
                </ul>

                <h3>Join the Evolution</h3>
                <p>This isn&#39;t about revolution, it&#39;s about evolution. PHP has always adapted to stay relevant. From simple scripts to enterprise applications, and now to intelligent applications.</p>

                <p><strong>The Vision:</strong> Every corner of the web becomes capable of intelligent behavior. PHP developers don&#39;t need to choose between staying with PHP and building the future, they can do both.
                </p>

                <p>Machine learning inference isn&#39;t a luxury anymore, it&#39;s becoming essential infrastructure. This is PHP&#39;s answer to the AI revolution.</p>
            </div>
        </div>
    </div></div>
  </body>
</html>
