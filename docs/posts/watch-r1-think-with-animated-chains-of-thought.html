<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/dhealy05/frames_of_mind">Original</a>
    <h1>Watch R1 &#34;think&#34; with animated chains of thought</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto"><a id="user-content-frames-of-mind-animating-r1s-thoughts" aria-label="Permalink: Frames of Mind: Animating R1&#39;s Thoughts" href="#frames-of-mind-animating-r1s-thoughts"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">We can visualize the &#34;thought process&#34; for R1 by:</p>
<ul dir="auto">
<li>Saving the chains of thought as text</li>
<li>Converting the text to embeddings with the OpenAI API</li>
<li>Plotting the embeddings sequentially with t-SNE</li>
</ul>
<p dir="auto">Here&#39;s what it looks like when R1 answers a question (in this case &#34;Describe how a bicycle works.&#34;):</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://riskmusings.substack.com/dhealy05/frames_of_mind/blob/main/img/simple_animation.gif"><img src="https://riskmusings.substack.com/dhealy05/frames_of_mind/raw/main/img/simple_animation.gif" alt="A" data-animated-image=""/></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto"><h2 tabindex="-1" dir="auto">Consecutive Distance</h2><a id="user-content-consecutive-distance" aria-label="Permalink: Consecutive Distance" href="#consecutive-distance"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">It might be useful to get a sense of how big each jump from &#34;thought i&#34; to &#34;thought i+1&#34; is. The graph below shows the difference between consecutive steps.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://riskmusings.substack.com/dhealy05/frames_of_mind/blob/main/img/distance.gif"><img src="https://riskmusings.substack.com/dhealy05/frames_of_mind/raw/main/img/distance.gif" alt="A" data-animated-image=""/></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">By default we calculate cosine similarity between the embeddings and normalize across the set of all consecutive steps to 0, 1. I&#39;m interested in seeing when the bigger or smaller jumps happen in the &#34;thought cycle&#34;.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Combined Plot</h2><a id="user-content-combined-plot" aria-label="Permalink: Combined Plot" href="#combined-plot"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://riskmusings.substack.com/dhealy05/frames_of_mind/blob/main/img/dual_animation.gif"><img src="https://riskmusings.substack.com/dhealy05/frames_of_mind/raw/main/img/dual_animation.gif" alt="A" data-animated-image=""/></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">The combined plot shows both at once.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Aggregate Distances</h2><a id="user-content-aggregate-distances" aria-label="Permalink: Aggregate Distances" href="#aggregate-distances"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://riskmusings.substack.com/dhealy05/frames_of_mind/blob/main/img/normalized_sequences.png"><img src="https://riskmusings.substack.com/dhealy05/frames_of_mind/raw/main/img/normalized_sequences.png" alt="A"/></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">The graph above shows the aggregate distances for 10 samples. To my eyes it looks like a &#34;search&#34; phase where size of step is large, followed by a stable &#34;thinking&#34; phase, followed by a &#34;concluding&#34; phase.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Usage</h2><a id="user-content-usage" aria-label="Permalink: Usage" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">I used these prompts:</p>
<ol dir="auto">
<li>Describe how a bicycle works.</li>
<li>Design a new type of transportation.</li>
<li>Explain why leaves change color in autumn</li>
<li>How should society balance individual freedom with collective good?</li>
<li>How would you resolve a conflict between two people with opposing views?</li>
<li>What makes a good life?</li>
<li>What would happen if gravity suddenly doubled?</li>
<li>What&#39;s the best way to comfort someone who is grieving</li>
<li>Why do humans make art?</li>
<li>Why do people tell jokes?</li>
</ol>
<p dir="auto">The chains are available in data/chains. To easily pull from Deepseek&#39;s public chat interface, paste the &#34;pull_cot.js&#34; script into your browser console when a chat is open. It will download automatically.</p>
<p dir="auto">Install requisite packages in Pipfile and run with the function in run.py.</p>
</article></div></div>
  </body>
</html>
