<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://gitlab.winehq.org/wine/wine/-/merge_requests/2275">Original</a>
    <h1>Wine Wayland Driver</h1>
    
    <div id="readability-page-1" class="page"><div>
<p><span data-iid="2275" data-issuable-type="merge_request" data-project-path="wine/wine" data-state="opened"><svg data-testid="merge-request-open-icon"><use href="/assets/icons-5f28ad8ab3377176325e2edb59a58c34611f3e7e6720f4a6096d8105813fafec.svg#merge-request-open"></use></svg><span>
Open
</span>
</span>
 requested to merge <a title="afrantzis/wine:wayland-part-1" href="https://gitlab.winehq.org/afrantzis/wine/-/tree/wayland-part-1">afrantzis/wine:wayland-part-1</a>  into <a title="master" href="https://gitlab.winehq.org/wine/wine/-/tree/master">master</a> <time title="Feb 24, 2023 2:29pm" datetime="2023-02-24T14:29:25Z" data-toggle="tooltip" data-placement="top" data-container="body">Feb 24, 2023</time>
</p></div><div id="diff-notes-app">

<div id="notes">
<div>
<section>
<div>
<div>
<div>
<div data-qa-selector="description_content">
<div>
<h2 data-sourcepos="1:1-3:0" dir="auto">
<a id="user-content-introduction" href="#introduction" aria-hidden="true"></a>Introduction</h2>
<p data-sourcepos="4:1-4:551" dir="auto">This is the first of (many) parts in the upstreaming of the Wayland driver for Wine. Since the amount of code and commits is large, my approach is to upstream the driver in multiple parts in a serial fashion, with each part being a cohesive (to the degree possible) set of not too many commits. When each part is reviewed and merged, I will move on to proposing the next part. My main goal with this approach is to make reviewing easier and more focused. If you have other ideas about how to improve this process for the reviewers, please let me know.</p>
<p data-sourcepos="6:1-6:396" dir="auto">A lot of pieces need to fall into place before the driver becomes even remotely functional, so, some MRs (especially the initial ones) will be a bit more preparatory in nature. To aid in the understanding of and justification for some of the code introduced in such MRs, all the remaining driver commits are always going to be available at <a href="https://gitlab.winehq.org/afrantzis/wine/-/tree/wayland">https://gitlab.winehq.org/afrantzis/wine/-/tree/wayland</a>.</p>
<h2 data-sourcepos="8:1-10:0" dir="auto">
<a id="user-content-part-1" href="#part-1" aria-hidden="true"></a>Part 1</h2>
<p data-sourcepos="11:1-11:219" dir="auto">This MR introduces the Wayland driver PE and unixlib components with some basic code, and prepares the makedep tool to be able to handle Wayland protocol files. Please see the individual commit message for more details.</p>
<p data-sourcepos="13:1-13:77" dir="auto">Some questions I would appreciate some feedback on in the context of this MR:</p>
<ol data-sourcepos="15:1-17:0" dir="auto">
<li data-sourcepos="15:1-15:126">Should the Wayland driver build be enabled by default at this point? (currently it&#39;s explicitly opt-in with --with-wayland)</li>
<li data-sourcepos="16:1-17:0">How should the Wayland driver build be integrated with CI? (currently piggybacking on gitlab/build-linux by adding --with-wayland)</li>
</ol>
<p data-sourcepos="18:1-18:145" dir="auto">Note that building the Wayland driver should not affect running/testing on X11/Xwayland etc, since it&#39;s placed lower in the driver priority list.</p>
<p data-sourcepos="20:1-20:120" dir="auto">Part 2 preview: We will handle basic Wayland wl_output (i.e., display) events and populate the Wine monitor information.</p>
</div>
</div>

</div>

</div>





</div>
</section>
</div>

</div>




</div></div>
  </body>
</html>
