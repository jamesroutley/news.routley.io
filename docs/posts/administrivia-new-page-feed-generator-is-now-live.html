<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rachelbythebay.com/w/2023/10/12/html/">Original</a>
    <h1>Administrivia: new page/feed generator is now live</h1>
    
    
<p>
Back in March, I
<a href="https://rachelbythebay.com/w/2023/03/31/html/">wrote</a>
about how the HTML generation worked for all of these posts.  In short, 
it was mostly &#34;loose approximations of HTML via printf&#34;, and it was 
terrible.  It generally worked for the past 12 years, but I knew how 
wrong it was.
</p>
<p>
One thing I didn&#39;t mention in that post was just how bad the feed 
generation had become.  I was doing a CDATA thing and was just spewing 
out the HTML inside of that.  In theory, if I had put a &#34;]]&gt;&#34; in a post, 
it probably would have broken the entire post.
</p>
<p>
Then there are the finer points of the metadata for the feed.  It was 
using an id of &#34;tag:rachelbythebay.com,writing-2011&#34; which I could have 
sworn was fine at the time I picked it, but which turns out to actually 
be illegal for that scheme.  I fixed that for both the feed and the 
entries themselves, so if you see duplicates of the last 100 posts, or 
the entire feed shows up somewhere else, that might be why.
</p>
<p>
Those and many more things caused the w3c Atom validator to scream 
*quite* loudly about it being broken.  A lot of people sent me feedback 
about this over the past few months.
</p>
<p>
That&#39;s all gone.  A few minutes ago, I threw the last switch to finally 
cut over the entirety of the /w/ files to the new stuff.  This meant 
that every single index.html has been regenerated.  Quite a few 
corrections have been applied at the same time.  It took me a very long 
time to go through all of these posts and convert my raw HTML 
shenanigans into meaningful commands that will be parsed by the 
generator.
</p>
<p>
Every view of things now actually makes sense.  I can now write &lt;foo&gt; as 
an example in a post and it will come out escaped properly on the   
output side.  I can put an &amp; in the post without having to literally 
type in &amp;amp.  Yes, I&#39;d been having to manually do &amp;lt; and &amp;gt; and all 
of this... if I remembered.  If not, well, there&#39;d be a &#34;live&#34; tag 
hanging out in the post!
</p>
<p>
Or, there&#39;d be a broken tag.  Last week&#39;s post about ASCII protocol 
buffers and config files actually had a &#34;&lt;pre&#34; without a &#34;&gt;&#34; in it, and 
then it just went into the contents.  I bet you didn&#39;t see &#34;syntax = 
proto2&#34; in that thing as a result, but trust me, it was there!
</p>
<p>
There are a bunch of other little stylistic changes in here.  The feed 
icon in the banner of both the top index and the individual posts no 
longer links to the feed itself, but rather a page that explains what to 
do next.  This is a cheesy way to sidestep the &#34;someone clicked on the 
feed in their browser and used up their unconditional request&#34;
<a href="https://rachelbythebay.com/w/2023/09/25/lazy/">thing</a>
for a little bit.
</p>
<p>
Anyone who was using a phone or other smaller device probably noticed 
that if you loaded a sufficiently old post, it wouldn&#39;t quite fit the 
screen properly whereas newer ones would.  This is because I had added a 
little &#34;viewport&#34; magic in the headers at some point, but had only 
applied it to the template file (!), and never rebuilt all of the old 
posts.  This also meant the post footers were all slightly different, 
depending on when it was last rebuilt.  Now all of the posts have that 
viewport thing.
</p>
<p>
I also adjusted the line-height based on some feedback from at least one 
reader who commented that it would make it easier to read.  I find it 
hard to argue with that, and didn&#39;t see anything bad about it, so that&#39;s 
in there too.
</p>
<p>
You should also notice that preformatted blocks now sport a different 
background color and a border to set them apart from the rest of the 
post.
</p>
<p>
There are probably some other things I&#39;ve forgotten, too.
</p>
<p>
I&#39;m sure there are going to be some anomalies, so if you see something 
that seems broken to you, go ahead and fire off some feedback.  I do 
appreciate it.
</p>

  </body>
</html>
