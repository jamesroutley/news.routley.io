<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://payments.posthaven.com/rc-w3d4-applying-ml-to-flag-risky-payments">Original</a>
    <h1>RC W3D4 - Applying ML to flag risky payments</h1>
    
    <div id="readability-page-1" class="page"><div id="post_body_1948405">
    
      <div><p>I initially intended to write this 1 week after the <a href="https://payments.posthaven.com/rc-w2d3-payments-and-chargebacks">post</a> on payments and chargebacks, but advice to my younger self was hard to push back.</p><p>I&#39;ll add that it was Impossible Project Day at RC. Change of plans here too - I wanted to build a static site generator with Idris but ended up creating a basic WebAssembly compiler. It was clearly impossible since I planned to do it at my last RC batch and hadn&#39;t looked at it in the 2.5 years since.</p><p>In any case, risky payments. Imagine you start a payments processing startup. Everything goes well at first, but at some point you start to notice fraudsters processing stolen credit cards. You hire someone to lead up the operations team, going through every payment to make sure they&#39;re legitimate. Over time your payment volume goes up. Next you hire a software engineer to build a payment review queue, say to review the payment if it&#39;s above $1,000 and has an IP address outside of the US.</p><p>This decision tree is simple to understand and set up, but also easy to get around. Fraudsters may realize the $1,000 threshold and start processing $999 payments instead. In addition, what is thought of as fraud signal may not be it. For example, instead of the IP address being the red flag, it&#39;s actually the language setting on the browser.</p><p>This is where machine learning (ML) models can help. First, instead of a &#39;review&#39; or &#39;no review&#39; determination, the model would return a score between 0 (not fraud) and 1 (fraud). We can set up the queue such that payments above a certain threshold are reviewed; this is set based on review capacity and risk tolerance. Second, the model would use all possible features as input, and give higher weights to more predictive features based on historical data. This is often called a classification model.</p><p>Different models have different trade-offs. Logistic regression is the more &#39;explainable&#39; model, in which there&#39;s a direct relationship between the weights and the likelihood of fraud. We also have &#39;black box&#39; models like random forests, that employ a &#39;wisdom of crowds&#39; approach by training a &#39;forest&#39; of trees. These are harder to understand but have much better predictive performance.</p><p>How do we think about performance metrics? The &#39;precision&#39; of each model is the percentage of cases reviewed by the ops team that end up being blocked, over the total number of cases created. The &#39;recall&#39; is the total blocked dollar amount over total dollar amount across all cases. Tracking precision alone may end up solving for risky but low-dollar payments, so we&#39;ll want to optimize for both.</p><p>Another consideration is &#39;lagging&#39; vs &#39;leading&#39; indicators. Chargebacks are our &#39;ground truth&#39; but can arrive up to 3 months from the payment time; this is our lagging indicator. Having the ops team review payments helps provide a leading indicator, especially against fraud rings, but what the ops team blocks may not necessarily end up being chargebacks.</p><p>Once we have an effective baseline workflow, we can potentially layer on a process to automatically block payments that are extremely likely to be fraudulent. This helps free up ops team capacity. In addition, if we think of high-scoring payments as &#39;bad&#39;, then low-scoring payments can highlight &#39;good&#39; customers we want to do more business with. In other words, we get a &#39;credit-like&#39; model for free.</p></div>
    
  </div></div>
  </body>
</html>
