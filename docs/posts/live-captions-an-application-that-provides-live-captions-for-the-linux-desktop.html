<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/abb128/LiveCaptions">Original</a>
    <h1>Live Captions: an application that provides live captions for the Linux desktop</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/abb128/LiveCaptions/blob/main/screenshot.png?raw=true"><img src="https://github.com/abb128/LiveCaptions/raw/main/screenshot.png?raw=true" alt="Screenshot of the application"/></a></p>
<p dir="auto">Live Captions is an application that provides live captioning for the Linux desktop.</p>
<p dir="auto">
    <a href="https://flathub.org/apps/details/net.sapples.LiveCaptions" rel="nofollow">
        <img width="240" alt="Download on Flathub" src="https://camo.githubusercontent.com/1682ee5722ac262c660297d4541837e5c8765c7e239fa2a6ce7c3f4817a79283/68747470733a2f2f666c61746875622e6f72672f6173736574732f6261646765732f666c61746875622d62616467652d656e2e706e67" data-canonical-src="https://flathub.org/assets/badges/flathub-badge-en.png"/>
    </a>
</p>
<p dir="auto">Join the <a href="https://discord.gg/QWaJHxWjUM" rel="nofollow">Discord Chat</a> if you&#39;re interested in keeping in touch.</p>
<p dir="auto">Only the English language is supported currently. Other languages may produce gibberish or a bad phonetic translation.</p>
<p dir="auto">Features:</p>
<ul dir="auto">
<li>Simple interface</li>
<li>Caption desktop/mic audio locally, audio is never sent anywhere</li>
<li>Does not rely on any proprietary services/libraries</li>
<li>Adjust font, font size, and text casing</li>
<li>Optional token-level confidence text fading</li>
</ul>
<p dir="auto">Running this requires a somewhat-decent CPU that can perform realtime captioning, especially if you want to be doing other tasks (such as video decode) while running Live Captions. It has been tested working on:</p>
<ul dir="auto">
<li>Intel i7-2670QM (2011)</li>
<li>Intel i5-8265U (2018)</li>
<li>AMD Ryzen 5 1600 (2017)</li>
</ul>
<p dir="auto">GPU is not required or used.</p>
<h2 dir="auto"><a id="user-content-accuracy" aria-hidden="true" href="#accuracy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Accuracy</h2>
<p dir="auto">The live captions may not be accurate. It may make mistakes, including when it comes to numbers. Please do not rely on the results for anything critical or important.</p>
<p dir="auto">More models may be trained and released in the future with better and more robust accuracy.</p>
<h2 dir="auto"><a id="user-content-library" aria-hidden="true" href="#library"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Library</h2>
<p dir="auto">This application is built using <a href="https://github.com/abb128/april-asr">aprilasr</a>, a new library for realtime speech recognition.</p>
<h2 dir="auto"><a id="user-content-model-credit" aria-hidden="true" href="#model-credit"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Model credit</h2>
<p dir="auto">Thanks to Fangjun Kuang for the <a href="https://huggingface.co/csukuangfj/icefall-asr-librispeech-lstm-transducer-stateless2-2022-09-03/tree/main" rel="nofollow">pretrained model</a>, and thanks to the <a href="https://github.com/k2-fsa/icefall">icefall</a> contributors for creating the model recipes.</p>

<p dir="auto">You must make sure to do a recursive clone to get dependencies:</p>
<div data-snippet-clipboard-copy-content="$ git clone --recursive https://github.com/abb128/LiveCaptions.git"><pre><code>$ git clone --recursive https://github.com/abb128/LiveCaptions.git
</code></pre></div>
<p dir="auto">If you forgot, you can initialize submodules like so:</p>
<div data-snippet-clipboard-copy-content="$ git submodule update --init --recursive"><pre><code>$ git submodule update --init --recursive
</code></pre></div>
<h2 dir="auto"><a id="user-content-option-1-building-with-gnome-builder-easy" aria-hidden="true" href="#option-1-building-with-gnome-builder-easy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Option 1: Building with GNOME Builder (easy)</h2>
<p dir="auto">You can build this easily with GNOME Builder. After cloning, open the project directory in GNOME Builder, download the SDK if it asks you, and click the play button to build and run.</p>
<p dir="auto">If you are using Flatpak GNOME Builder and experience issues running this (for example, some cryptic X Window System error), please try using your distro&#39;s native packaged version of GNOME Builder instead of Flatpak (e.g. <code>sudo apt install gnome-builder</code>).</p>
<h2 dir="auto"><a id="user-content-option-2-building-from-the-terminal-not-as-easy" aria-hidden="true" href="#option-2-building-from-the-terminal-not-as-easy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Option 2: Building from the terminal (not as easy)</h2>
<p dir="auto">First you must <a href="https://github.com/microsoft/onnxruntime/releases/download/v1.13.1/onnxruntime-linux-x64-1.13.1.tgz">download ONNXRuntime v1.13.1</a>, extract it somewhere, and set the environment variables to point to it:</p>
<div data-snippet-clipboard-copy-content="$ export ONNX_ROOT=/path/to/onnxruntime-linux-x64-1.13.1/
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path/to/onnxruntime-linux-x64-1.13.1/lib"><pre><code>$ export ONNX_ROOT=/path/to/onnxruntime-linux-x64-1.13.1/
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path/to/onnxruntime-linux-x64-1.13.1/lib
</code></pre></div>
<p dir="auto">Alternatively you should also be able to locally build and install ONNXRuntime, in which case that step shouldn&#39;t be necessary.</p>
<p dir="auto">To set up a build, run these commands:</p>
<div data-snippet-clipboard-copy-content="$ meson setup builddir
$ meson devenv -C builddir"><pre><code>$ meson setup builddir
$ meson devenv -C builddir
</code></pre></div>
<p dir="auto">Now you can build the application by running <code>ninja</code>.</p>
<p dir="auto">Before being able to run the app, you must also download the model and export <code>APRIL_MODEL_PATH</code> to where the model is. For example:</p>
<div data-snippet-clipboard-copy-content="$ wget https://april.sapples.net/aprilv0_en-us.april
$ export APRIL_MODEL_PATH=`pwd`/aprilv0_en-us.april"><pre><code>$ wget https://april.sapples.net/aprilv0_en-us.april
$ export APRIL_MODEL_PATH=`pwd`/aprilv0_en-us.april
</code></pre></div>
<p dir="auto">You should now be able to run the app with <code>src/livecaptions</code></p>
</article>
          </div></div>
  </body>
</html>
