<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://css-doodle.com/">Original</a>
    <h1>CSS-Doodle</h1>
    
    <div id="readability-page-1" class="page"><div>

    <!-- intro -->
    <section>
      <h2><a name="intro"></a>Introduction</h2>
      <div>
        
        <article>
          <p>
            <em>&lt;css-doodle /&gt; </em> is based on
            <a href="https://developers.google.com/web/fundamentals/web-components/shadowdom">Shadow DOM v1</a> and
            <a href="https://html.spec.whatwg.org/multipage/scripting.html#custom-elements">Custom Elements v1</a>.
            You can use it on all major browsers right now without polyfills.
          </p>
          <p>
            The component will generate a grid of divs by the rules (plain CSS) inside it.
            You can easily manipulate those cells using CSS to come up with a graphic pattern or an animated graph.
          </p>
          <p>
            <strong>The limit is the limit of CSS itself</strong>.
          </p>
        </article>
      </div>
      
    </section>

    <!-- getting started -->
    <section>
      <h2><a name="getting-started"></a>Getting Started</h2>
      <p>
        Download the <a href="https://esm.sh/css-doodle/css-doodle.min.js?raw">latest version</a> or include it directly from a CDN:
      </p>
      
      <p>You can also use ES Modules in modern browsers:</p>
      

      <p>If you&#39;re using a build tool, you can install it via <a href="http://npmjs.org/package/css-doodle">npm</a> and import it in JavaScript:</p>

      

      <p>Start creating!</p>

      

    </section>

    <!-- usage -->
    <section>

      

      <!-- example -->
      <section>
        <p>
          <css-doodle>
            @grid: 18 / 100vmax / #0a0c27;
            --hue: calc(180 + 1.5 * @x * @y);
            background: hsl(var(--hue), 50%, 70%);
            margin: -.5px;
            transition: @r(.5s) ease;
            clip-path: polygon(@pick(
              &#39;0 0, 100% 0, 100% 100%&#39;,
              &#39;0 0, 100% 0, 0 100%&#39;,
              &#39;0 0, 100% 100%, 0 100%&#39;,
              &#39;100% 0, 100% 100%, 0 100%&#39;
            ));
          </css-doodle>
        </p>
        
      </section>

      <article>
        <h3><a name="attributes"></a>Attributes</h3>

        <section>
          <h4><a name="attribute-grid"></a><span>Grid</span></h4>

          <p>
            The number of rows and columns in the grid is defined by the <code>grid</code> attribute on the element,
            ranged from <em>1</em> to <em>64</em>. It&#39;s default to be <em>1x1</em> when no value or 0 is given.
          </p>

          <p>
            
            <css-doodle grid="5">
              :doodle {
                gap: 1px;
                @size: 8em;
              }
              background: #60569e;
            </css-doodle>
          </p>

          <p>The row or column is limited up to <em>4096</em> only when the grid is 1-dimensional: </p>
          <p>
            
            <css-doodle grid="1x35" click-to-update="">
              :doodle {
                @size: 8em 12em;
                gap: 1px;
              }
              transition: .2s ease @rand(500ms);
              background: #60569e;
              will-change: width;
              width: @rand(5%, 100%);
            </css-doodle>
          </p>

          <p>
            The <code>n x m</code> follows the order of <em>(col, row)</em> or <em>(x, y)</em>.
            The following formats of <code>grid</code> value are all recognizable:
          </p>
          <div>
            <ul>
              <li><code>grid = &#34;0&#34;</code></li>
              <li><code>grid = &#34;5&#34;</code></li>
              <li><code>grid = &#34;20&#34;</code></li>
              <li><code>grid = &#34;5x7&#34;</code></li>
              <li><code>grid = &#34;5 x 7&#34;</code></li>
              <li><code>grid = &#34;5,7&#34;</code></li>
            </ul>
          </div>

          <p>
            There&#39;s an alternative way to set up the <code>grid</code> by using the <a href="#property-@grid">@grid</a> property.
          </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle {
                @grid: 5;
                @size: 8em;
              }
              background: #60569e;
              transform: scale(@r(.2, .9));
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="attribute-use"></a><span>use</span></h4>
          <p>
            Import rules from <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*">CSS custom properties</a> (CSS variables).
          </p>

          
          <p>
            It&#39;s highly recommended to write the rules this way if you want to use css-doodle in production websites.
            So it won&#39;t break when the network is slow or when the browser does not support Web Component.
          </p>

        </section>

        <section>
          <h4><a name="attribute-seed"></a><span>seed</span></h4>
          <p>
            All random values will be regenerated to the same value as last time based on the <em>seed</em> value.
            It&#39;s quite useful if you want to keep a snapshot.
          </p>
          <p>
            
            <css-doodle seed="2020" click-to-update="">
              @grid: 5 / 8em;
              background: #60569e;
              transform: scale(@rand(.2, .9));
            </css-doodle>
          </p>

          <p>
            A random <code>seed</code> will be generated by default if you don&#39;t specify explictly, and
            you can always get the generated value with <a href="#js-api-seed">JS API</a> later.
          </p>
        </section>

      </article>

      <!-- example -->
      <section>
        <p>
          <css-doodle>
            @grid: 1 / 100vw 100vh / #0a0c27;
            background-size: 200px 200px;
            background-image: @doodle(
              @grid: 6 / 100%;
              @size: 4px;
              font-size: 4px;
              color: hsl(@r240, 30%, 50%);
              box-shadow: @m3x5(
                calc(4em - @nx*1em) @ny(*1em)
                  @p(@m3(currentColor), @m2(#0000)),
                calc(2em + @nx*1em) @ny(*1em)
                  @lp
              );
            );
          </css-doodle>
        </p>
        
      </section>

      <article>
        <h3><a name="selectors"></a>Selectors</h3>

        <section>
          <h4><a name="selector-:doodle"></a><span>:doodle</span></h4>
          <p>
            The <code>:doodle</code>
            is a special selector indicates to the component element itself.
            Note that the styles would be over-written by your normal CSS files outside.
            <span>(try to hover on the doodle)</span>
          </p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @grid: 5 / 8em;
                --s: 0;
                gap: 1px;
              }
              :doodle(:hover) {
                --s: 1;
              }
              --offset: calc(var(--s) * 100%);
              transform: translateY(var(--offset));
              transition: .5s cubic-bezier(.175, .885, .32, 1.275);
              transition-delay: @rand(500ms);

              transform-origin: 50% 50%;
              background: #60569e;
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-:container"></a><span>:container</span></h4>
          <p>
            The <code>:container</code>
            is the container element that holds all the cells, which is using <a href="https://www.w3.org/TR/css-grid-1/">Grid Layout</a>.
            You may want to set <code>gap</code> inside it.
          </p>
          <p>
            
            <css-doodle>
              :doodle {
                @grid: 8 / 8em;
                overflow: hidden;
              }
              :container {
                gap: 1px;
                transform: rotate(45deg) scale(1.5);
              }
              background: #60569e;
            </css-doodle>
          </p>
          <p>
            It inherits all the grid properties from <code>:doodle</code> so that&#39;s why this also works:
          </p>
          
        </section>

        <section>
          <h4><a name="selector-@nth"></a><span>@nth(n, ...)</span></h4>
          <p> Select the nth cell like <code> :nth-child(n)</code> does.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
                gap: 1px;
              }
              background: #f5f5f5;
              :nth-child(1) {
                background: #60569e;
              }
              @nth(5) {
                background: #60569e;
              }
              @nth(3n + 8) {
                background: #e6437d;
              }
              @nth(1, 5, 3n + 8) {
                :after {
                  content: @index;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-@even"></a><span>@even</span></h4>
          <p>Select cells like <code> :nth-child(even)</code> but shorter.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              @even {
                background: #60569e;
                :after {
                  content: @index;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-@odd"></a><span>@odd</span></h4>
          <p>Select cells like <code> :nth-child(odd)</code>.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              @odd {
                background: #60569e;
                :after {
                  content: @index;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-@at"></a><span>@at(col, row)</span></h4>
          <p>Select cell at specific column and row.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
                gap: 1px;
              }
              background: #f5f5f5;
              @at(4, 2) {
                background: #60569e;
                :after {
                  content: @x, @y;
                  font-size: .5em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-@random"></a><span>@random([ ratio ])</span></h4>
          <p>Select cells randomly. The <code>ratio</code> accepts value between <code>0</code> and <code>1</code>. Defaults to <code>0.5</code>.</p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle {
                @size: 8em;
                gap: 1px;
              }
              background: #f5f5f5;
              transition: .2s;
              @random {
                background: #60569e;
                :after {
                  content: @index;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
          <p>The selector can be applied multiple times.</p>
          <p>
            
            <css-doodle click-to-update="">
              :doodle {
                @grid: 16 / 8em;
              }
              margin: -.5px;
              @random {
                border-top: 1px solid #60569e;
              }
              @random {
                border-left: 1px solid #60569e;
              }
              @random(.2) {
                :after {
                  content: &#39;&#39;;
                  background: hsl(@rand(360), 60%, 70%);
                  @size: @rand(3px);
                }
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-@row"></a><span>@row(n, ...)</span></h4>
          <p> Select the nth row of the grid.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              background: #f5f5f5;
              margin: .5px;
              @row(3) {
                background: #60569e;
                :after {
                  content: @row;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
          <p>
            The <code>odd</code> and <code>even</code> is supported.
          </p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              background: #f5f5f5;
              margin: .5px;
              @row(even) {
                background: #60569e;
                :after {
                  content: @row;
                  font-size: .8em;
                  color: #fff;
                }
              }
              @row(even) {
                :after {
                  content: @row;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-@col"></a><span>@col(n, ...)</span></h4>
          <p> Select the nth column of the grid.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              background: #f5f5f5;
              margin: .5px;
              @col(3) {
                background: #60569e;
                :after {
                  content: @col;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
          <p>
            You can use <code>odd</code> and <code>even</code> too.
          </p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              background: #f5f5f5;
              margin: .5px;
              @col(odd) {
                background: #60569e;
                :after {
                  content: @col;
                  font-size: .8em;
                  color: #fff;
                }
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="selector-@match"></a><span>@match(expression)</span></h4>
          <p>
            Target the cells based on general Math expressions.
            The variable
            <code>i</code>, <code>I</code>,
            <code>x</code>, <code>X</code>,
            <code>y</code> and <code>Y</code> can be used without prefix <code>@</code> symbol for calculation.
          </p>
          
          <p>
            For convenience the symbols <code>≤</code> and <code>≥</code>
            have the meanings of <code>&lt;=</code> and <code>&gt;=</code> respectively.
          </p>
          <p>
            
            <css-doodle grid="10">
              :doodle {
                @size: 8em;
              }
              background: #f5f5f5;
              margin: .5px;
              @match(x ≤ y) {
                background: #60569e;
              }
            </css-doodle>
          </p>
          <p>The equal sign can be both <code>=</code> and <code>==</code>.</p>
          <p>
            
            <css-doodle grid="10">
              :doodle {
                @size: 8em;
              }
              background: #f5f5f5;
              margin: .5px;
              @match(x = y) {
                background: #60569e;
              }
              @match(X-x+1 == y) {
                background: #60569e;
              }
            </css-doodle>
          </p>
          <p>A more complex example.</p>
          <p>
            
            <css-doodle grid="21">
              :doodle {
                @size: 8em;
              }
              background: #f5f5f5;
              @match(tan.cos.sin(x*y) &gt; 1) {
                background: #60569e;
              }
            </css-doodle>
          </p>
        </section>
      </article>

      <section>
        <p>
          <css-doodle>
            /* Fibonacci spiral */

            @grid: 1 / 100vw 100vh / #125cde;
            @content: @Svg(
              viewBox: -50 -50 100 100 padding -20;
              circle*500 {
                fill: hsl(@calc(120-90*@sin.n), 80%, 50%);
                r: @sqrt(@n/60);
                cx: @calc(@n*.618^4 * cos(2π*@n*.618));
                cy: @calc(@n*.618^4 * sin(2π*@n*.618));
              }
            );
          </css-doodle>
        </p>
        
      </section>

      <article>
        <h3><a name="properties"></a>Properties</h3>

        <section>
          <h4><a name="property-@grid"></a><span>@grid</span></h4>
          <p>This is another way to define the <code>grid</code> value and it has higher priority.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @grid: 3 / 8em;
              }
              background: #60569e;
              margin: .5px;
            </css-doodle>
          </p>

          <p>Set grid and doodle size at the same time: </p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @grid: 8 / 8em;
                gap: 1px;
              }
              background: #60569e;
            </css-doodle>
          </p>

          <p>The <code>:doodle</code> selector can be ommited if there&#39;s no other rules for it.
          </p>

        </section>

         <section>
          <h4><a name="property-@use"></a><span>@use</span></h4>
          <p>Like <a href="#attribute-use">@use</a> attribute but as part of the rule.</p>
          <p>
            
            
            <css-doodle>
              @use: var(--rule-a), var(--rule-b);
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="property-@size"></a><span>@size</span></h4>
          <p>Set width and height in one place.</p>
          <p>
            
            <css-doodle>
              @grid: 1 / 8em;
              @size: 8em 6em;
              background: #60569e;
              :after {
                content: 8em x 6em;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="property-@place"></a><span>@place</span></h4>
          <p>Place cells relative to the grid. </p>
          <p>
            

            <css-doodle>
              :doodle {
                @grid: 1x5 / 8em noclip;
                border: 1px solid #60569e;
              }
              @size: 1.6em;
              background: rgba(72, 74, 142, .8);
              @nth(1) { @place: 0 top; }
              @nth(2) { @place: right 25%; }
              @nth(3) { @place: center; }
              @nth(4) { @place: .8em calc(100% - .8em); }
              @nth(5) { @place: 75% 80%; }
              :after {
                content: @index;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="property-@shape"></a><span>@shape</span></h4>
          <p>Turns the element into a shape which is generated with <code>clip-path</code> and <code>polygon()</code>.</p>
          <p>
            
            <css-doodle>
              :doodle {
                @grid: 7 / 8em;
                @shape: circle;
              }
              @even {
                @shape: hypocycloid 4;
                background: #60569e;
                transform: scale(2) rotate(-60deg);
              }
            </css-doodle>
          </p>
          <div>
            <h5><a name="basic-shape"></a>Basic shapes</h5>
            

            <p>
              For more shapes you can use <a href="#function-@shape">@shape()</a> function.
            </p>
          </div>
        </section>
      </article>

      <section>
        <p>
          <css-doodle>
            @grid: 7 / 100vmax / #0a0c27;
            @shape: clover 5;
            background: hsla(-@i(*4), 70%, 68%, @r.8);
            transform:
              scale(@r(.2, 1.5))
              translate(@m2.@r(±50%));
          </css-doodle>
        </p>
        
      </section>

      <article>
        <h3><a name="functions"></a>Functions</h3>
        <section>
          <h4><a name="function-@index"></a><span>@index</span></h4>
          <p>Returns the current index value of the cell.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              background: #60569e;
              margin: .5px;
              :after {
                content: @index;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            The parentheses can be omitted if the function has no parameters.
          </p>
          <p>
            
            <css-doodle grid="5">
              @grid: 5x1 / 8em;
              @place: center;
              @size: calc(100% / @size() * @i);
              z-index: calc(@size - @i);
              opacity: calc(1.1 - 1 / @size * @i);
              background: #60569e;
              :after {
                content: @index();
                position: absolute;
                top: .2em; right: .2em;
                color: #fff;
                font-size: .6em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@i</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@row"></a><span>@row</span></h4>
          <p>Returns the current row number of the cell.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle {
                @size: 8em;
              }
              background: #60569e;
              margin: .5px;
              :after {
                content: @row;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@y</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@col"></a><span>@col</span></h4>
          <p> Returns the current column number of the cell.</p>
          <p>
            
            <css-doodle grid="5">
              :doodle { @size: 8em; }
              background: #60569e;
              margin: .5px;
              :after {
                content: @col;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@x</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@size-row"></a><span>@size-row</span></h4>
          <p> Returns the max row number of the grid.</p>
          <p>
            
            <css-doodle>
              @grid: 4x3 / 8em;
              background: #60569e;
              margin: .5px;
              :after {
                content: @row/@size-row;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@Y</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@size-col"></a><span>@size-col</span></h4>
          <p> Returns the max column number of the grid.</p>
          <p>
            
            <css-doodle>
              @grid: 4x3 / 8em;
              background: #60569e;
              margin: .5px;
              :after {
                content: @col/@size-col;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@X</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@size"></a><span>@size</span></h4>
          <p>Returns the total cells count of the grid.</p>
          <p>
            
            <css-doodle>
              @grid: 3 / 8em;
              background: #60569e;
              margin: .5px;
              :after {
                content: @i / @size;
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            These numbers can be used to generate dynamic values together with <code>calc()</code>.
          </p>
          <p>
            
            <css-doodle grid="5">
              @grid: 5/8em;
              --alpha: calc(@row * @col / @size);
              background: rgba(96, 86, 158, var(--alpha));
              :after {
                content: @calc(@row * @col);
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@I</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@pick"></a><span>@pick(v1, v2,...)</span></h4>
          <p>
            Randomly pick a value from the given list.
            </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle { @size: 8em; }
              opacity: @pick(1, .6, .3, .1);
              background: #60569e;
              :after {
                content: @pick(1, 2, 3, 4);
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            It supports range format like this: <code>[0-9a-z]</code>
          </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle { @size: 8em; }
              opacity: @pick(1, .6, .3, .1);
              background: #60569e;
              :after {
                content: @pick([a-z]);
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@p</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@pick-n"></a><span>@pick-n(v1, v2,...)</span></h4>
          <p>
            Pick a value from the given list one by one.
          </p>
          <p>
            
            <css-doodle grid="5">
              :doodle { @size: 8em; }
              opacity: @pick-n(1, .6, .3, .1);
              background: #60569e;
              :after {
                content: @pick-n([1-4]);
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@pn</code>
          </p>
        </section>
        <section>
          <h4><a name="function-@pick-d"></a><span>@pick-d(v1, v2,...)</span></h4>
          <p>
            Pick a value like <code>@pick-n()</code>, but with distinct random order.
          </p>
          <p>
            
            <css-doodle click-to-update="" grid="5">
              :doodle { @size: 8em; }
              opacity: @pick-d(1, .6, .3, .1);
              background: #60569e;
              :after {
                content: @pick-d([a-z]);
                color: #fff;
                font-size: .8em;
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@pd</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@rand"></a><span>@rand(start [,end])</span></h4>
          <p>
            Returns a random value between two numbers.
            </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle { @size: 8em; }
              background: rgba(96, 86, 158, @rand(.9));
              transition: .2s ease @rand(200ms);
              will-change: transform;
              transform: rotate(@rand(360deg));
              clip-path: polygon(
                @rand(100%) 0, 100% @rand(100%), 0 @rand(100%)
              );
            </css-doodle>
          </p>
          <p>
            Alias: <code>@r</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@last"></a><span>@last-pick, @last-rand</span></h4>
          <p>
            Returns the last value of <code>@pick</code>, <code>@pick-n</code>, <code>@pick-d</code> and <code>@rand</code>.
          </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              @grid: 5 / 8em;
              background: linear-gradient(
                @pick-d(45deg, -45deg),
                @pick(#60569e, #e6437d),
                rgba(255, 255, 255, 0),
                @last-pick()
              );
            </css-doodle>
          </p>
          <p>
            Alias: <code>@lp</code> and <code>@lr</code>, respectively.
          </p>
        </section>

        <section>
          <h4><a name="function-@repeat"></a><span>@repeat(times, value)</span></h4>
          <p>
            Compose the given value multiple times.
            </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle { @size: 8em; gap: 1px }
              background: #60569e;
              transition: .2s;
              transform: scale(.95);
              border-radius: @repeat(4, @rand(40%, 60%));
              :after {
                content: &#39;&#39;;
                position: absolute;
                transition: .2s;
                left: @rand(20%, 80%);
                top: @rand(20%, 80%);
                @size: 5px;
                border-radius: 50%;
                background: #@repeat(6, @p([0-9a-f]));
              }
            </css-doodle>
          </p>
          <p>
            Alias: <code>@rep</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@multiple"></a><span>@multiple(times, value)</span></h4>
          <p>
            Same as <code>@repeat()</code>, but seperated with <em>commas</em>.
            Use capitalized <code>@Multiple</code> to make the values seperated with <em>spaces</em>.
          </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle {
                @size: 8em;
              }
              background: linear-gradient(
                @rand(360deg),
                @m3(
                  @pick-n(#60569e, #e6437d, #ebbf4d)
                    calc(@n(-1) * 100% / 3),
                  @lp calc(@n * 100% / 3)
                )
              );
            </css-doodle>
          </p>
          <p>
            The number closely after the function name will be regarded as the first parameter of the function,
            which will make the code more concise.
          </p>
          <p>
            
            <css-doodle grid="5">
              :doodle { @size: 8em; }
              background: #60569e;
              margin: 20%;
              box-shadow: @m5(
                calc(@n() * 2px) calc(@n * 2px) 0 0 #e6437d
              );
            </css-doodle>
          </p>
          <p>
            Alias: <code>@m</code>, <code>@M</code>
          </p>
        </section>

        <section>
          <h4><a name="function-@n"></a><span>@n, @nx, @ny, @N</span></h4>
          <p>
            Used only inside <code>@repeat</code> and <code>@m</code> function to indicate the
            current repeating count: <code>@n</code>,
            current column count: <code>@nx</code>,
            current row count: <code>@ny</code>
            and the max count value: <code>@N</code>.
          </p>

          <p>
            
            <css-doodle grid="1" click-to-update="">
              :doodle {
                @size: 8em;
              }
              background: radial-gradient(
                circle at @r(100%) @r(100%),
                @m20(
                  @p(#60569e, #ebbf4d)
                    calc(@n(-1) * 100% / @N),
                  @lp calc(@n * 100% / @N)
                )
              );
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="function-@stripe"></a><span>@stripe(color [size], ...)</span></h4>
          <p>
            Make stripe with gradients.
          </p>

          <p>
            
            <css-doodle grid="1" click-to-update="">
              @grid: 5 / 8em;
              background: linear-gradient(
                @r(360deg),
                @stripe(
                  #60569e, #e6437d, #ebbf4d
                )
              );
            </css-doodle>
          </p>

          <p>
            The size for each step is optional.
          </p>

          <p>
            
            <css-doodle grid="1" click-to-update="">
              :doodle {
                @size: 8em;
              }
              background: linear-gradient(
                45deg,
                @stripe(
                  #60569e 50%, #e6437d, #ebbf4d, #60569e
                )
              );
            </css-doodle>
          </p>

          <p>
            
            <css-doodle grid="1" click-to-update="">
              :doodle { @size: 8em; }
              border-radius: 50%;
              background: conic-gradient(
                @stripe(
                  #60569e 10%,
                  #e6437d 20%,
                  #ebbf4d 30%,
                  #321f35
                )
              );
            </css-doodle>
          </p>

          <p>
            See more about
            <a href="https://observablehq.com/@yuanchuan/stripe-function-in-css-doodle">stripe function in css-doodle</a>.
          </p>

        </section>


        <section>
          <h4><a name="function-@svg"></a><span>@svg(svg)</span></h4>
          <p>Use SVG directly as background image. </p>
          
          <p>You can also write SVG with the syntax of CSS.</p>
          
          <p>
            See <a href="https://yuanchuan.dev/experimenting-a-new-syntax-to-write-svg">https://yuanchuan.dev/experimenting-a-new-syntax-to-write-svg</a>.
          </p>
        </section>

        <section>
          <h4><a name="function-@svg-filter"></a><span>@svg-filter(filter)</span></h4>
          <p>Apply SVG filters.</p>
          
        </section>

        <section>
          <h4><a name="function-@Math"></a>@<span>&lt;Math&gt;</span></h4>
          <p>
            All Math functions and constants are available prefixed with <code>&#39;@&#39;</code>.
          </p>
          <p>
            
            <css-doodle grid="5">
              :doodle { @size: 8em; }
              --alpha: calc(@abs(@abs(@row - 3) + @abs(@col - 3) - 5) / 5);
              background: rgba(
                96, 86, 158, var(--alpha)
              );
              will-change: transform;
              transform: rotate(15deg) scale(var(--alpha));
            </css-doodle>
          </p>

          <p>You can also use <code>π</code> directly.</p>

          <p>
            
            <css-doodle>
              @grid: 1x60 / 8em 15em;
              @size: 65% 1px;
              justify-self: center;
              background: #60569e;
              opacity: calc(1 - @i / @size());
              transform:
                rotate(-15deg)
                translateX(calc(@sin(@i / 4) * π * 10px));
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="function-@calc"></a><span>@calc(expr)</span></h4>
          <p>
            Evaluate calculations.
          </p>
          <p>
            
            <css-doodle>
              @grid: 5 / 8em;
              background: #60569e;
              :after {
                content: @calc(@i * @i);
                color: #fff;
                font-size: .5em;
              }
              @odd {
                transform: scale(.75);
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="function-@var"></a><span>@var(expr)</span></h4>
          <p>
            Same as native <code>var()</code>. Used to prevent the browser from evaluating the value inside nested vars.
            The example below won&#39;t work since the <code>var(--bg)</code> has no definition outside.
          </p>
          
          <p>
            Use <code>@var()</code> instead.
          </p>
          <p>
            
            <css-doodle click-to-update="">
              :doodle {
                @grid: 5 / 8em;
              }
              --bg: #60569e;
              background: linear-gradient(
                @r(360deg),
                @var(--bg) 50%, #0000 0
              );
            </css-doodle>
          </p>

        </section>

        <section>
          <h4><a name="function-@hex"></a><span>@hex(num)</span></h4>
          <p>
            Transform a number into hex format.
          </p>
          <p>
            
            <css-doodle grid="5" click-to-update="">
              :doodle { @size: 8em; gap: 1px }
              :after {
                content: \@hex(@rand(9632, 9687));
                color: #60569e;
              }
            </css-doodle>
          </p>
        </section>

        <section>
          <h4><a name="function-@doodle"></a><span>@doodle(code)</span></h4>
          <p>
            Generate <code>url()</code> image with css-doodle code.
          </p>
          <p>
            
            <css-doodle click-to-update="">
              @grid: @p(2, 3) / 8em;
              background-image: @doodle(
                @grid: @r4 / 100%;
                background: @doodle(
                  @grid: @r4 / 100%;
                  background: @svg(
                    viewBox: 0 0 1 1;
                    path {
                      d: M 0 0 L 1 0 L 1 1;
                      fill: #60569e;
                    }
                  );
                );
              );
            </css-doodle>
          </p>
          <p>
            See: <a href="https://yuanchuan.dev/whats-new-in-css-doodle">https://yuanchuan.dev/whats-new-in-css-doodle</a>
          </p>
        </section>

        <section>
          <h4><a name="function-@shaders"></a><span>@shaders(code)</span></h4>
          <p>
            Generate <code>url()</code> image with GLSL code. Currently only one uniform value is added: <code>u_resolution</code>.
          </p>
          <p>
            
            <css-doodle click-to-update="">
              @grid: 1 / 8em;
              background: @shaders(
                void main() {
                  vec2 p = gl_FragCoord.xy / u_resolution.xy;
                  FragColor = vec4(p.yx, .8, 1.);
                }
              );
            </css-doodle>
          </p>

          <p>
            The function accepts three parts. If there&#39;s no explict <code>fragment</code> part,
            all the code will be treated as fragment shader like the example above.
          </p>
          

          <p>
            Multiple texture are accepted if they prefix with <code>texture</code> and
            the texture uniform names will be injected automatically.
          </p>
          <p>
            
            <css-doodle click-to-update="">
              @grid: 1 / 8em;
              background: @shaders(
                texture1 {
                  @grid: 1 / 100%;
                  background: linear-gradient(
                    45deg,
                    @stripe.@m20.@p(#FFF4E0, #F8B501, #06ACB5, #17191D, #FC3D3C)
                  );
                }
                fragment {
                  void main() {
                    vec2 p = gl_FragCoord.xy / u_resolution.xy;
                    vec2 c = vec2(.5, .5);
                    vec2 uv = p.xy - c;
                    float R = 3.141593;
                    float len = length(uv * vec2(u_resolution.x / u_resolution.y, 1.));
                    float angle = atan(uv.y, uv.x) + R * smoothstep(.75, 0., len);
                    float r = length(uv) + .1;
                    vec2 coords = vec2(r * cos(angle), r * sin(angle)) + c;
                    FragColor = texture(texture1, coords);
                  }
                }
              );
            </css-doodle>
          </p>

          <p>
            See: <a href="https://yuanchuan.dev/add-shaders">https://yuanchuan.dev/add-shaders</a>
          </p>

        </section>


        <section>
          <h4><a name="function-@shape"></a><span>@shape(commands)</span></h4>

          <p>
            Generate <code>polygon()</code> in string used by <code>clip-path</code>. For example, to make a hexagon:
          </p>
          <p>
            
            <css-doodle click-to-update="">
              @grid: 1 / 8em;
              background: #60569e;
              clip-path: @shape(
                points: 6;
                scale: .8;
              );
            </css-doodle>
          </p>

          <p>
            If the <code>points</code> value is big enough it approximately to be a circle.
          </p>
          <p>
            
            <css-doodle click-to-update="">
              @grid: 1 / 8em;
              background: #60569e;
              clip-path: @shape(
                points: 100;
                scale: .8;
              );
            </css-doodle>
          </p>

          <div>
            <h5>All commands</h5>
            <ul>
              <li><p><code>fill-rule</code> nonzero | evenodd; </p></li>
              <li><p><code>frame</code> number for frame size; </p></li>
              <li><p><code>points</code> number between 3 - 3600;   </p></li>
              <li><p><code>rotate</code> number in degree for rotation; </p></li>
              <li><p><code>scale</code> number for scale factor; </p></li>
              <li><p><code>move</code> a pair of value for translating <code>x, y</code> coords;</p></li>
              <li><p><code>turn</code> the angle between start/end point, defaults to be 1;</p></li>
              <li><p><code>x</code> x coordinate for cartesian equation;</p></li>
              <li><p><code>y</code> y coordinate for cartesian equation;  </p></li>
              <li><p><code>r</code> polar equation;</p></li>
            </ul>
          </div>

          <div>
            <h5>Operations in equations</h5>
            <ul>
              <li>
                <p>
                  Operations available:
                  <code>+</code>,
                  <code>-</code>,
                  <code>*</code>,
                  <code>/</code>,
                  <code>%</code>,
                  <code>^</code>.
                </p>
              </li>
              <li>
                <p>
                  All JavaScript Math functions and constants are supported.
                  Such as
                  <code>sin</code>,
                  <code>cos</code>,
                  <code>tan</code>,
                  <code>abs</code>,
                  <code>pow</code>,
                  <code>PI</code> or <code>π</code> etc.
                </p>
              </li>
            </ul>
          </div>

          <p>
            
            <css-doodle click-to-update="">
              @grid: 1 / 8em;
              background: #60569e;
              clip-path: @shape(
                points: 300;
                r: cos(4t);
                scale: .8;
              );
            </css-doodle>
          </p>

          <p>
            See more examples here: <a href="https://css-doodle.com/shapes/">https://css-doodle.com/shapes</a>.
          </p>

        </section>

        <section>
          <h4><a name="function-@plot"></a><span>@plot(commands)</span></h4>

          <p>
            Generate two values in percent and seperated with space.
            The syntax is the same with <a href="#function-@shape">@shape</a>.
          </p>
          <p>
            
            <css-doodle>
              @grid: 1 / 8em;
               background: @m50(
                radial-gradient(#60569e 50%, #0000 0)
                @plot(r: .8) / 5px 5px
                no-repeat
              );
            </css-doodle>
          </p>

          
          <p>
            
            <css-doodle click-to-update="">
              @grid: 50x1 / 8em;
              @size: 5px;
              border-radius: 50%;
              border: 1px solid #60569e;

              @place: @plot(
                r: sin(-t/2);
                move: 0 -.3;
                rotate: 90;
              );
            </css-doodle>
          </p>
        </section>

      </article>

      <section>
        <p>
          <css-doodle>
            @grid: 20 / 100vmax / #0a0c27;
            @content: @unicode.r(0x2500, 0x257f);
            color: hsla(@r360, 70%, 70%, @r.9);
            font-size: 8vmin;
            font-family: sans-serif;
          </css-doodle>
        </p>
        
      </section>

      <article>
        <h3><a name="js-api"></a>JS API </h3>
        <section>
          <h4><a name="js-api-grid"></a><span>grid</span></h4>
          <p>Getter/setter for the <code>grid</code> attribute on the element. </p>
          
        </section>
        <section>
          <h4><a name="js-api-use"></a><span>use</span></h4>
          <p>Getter/setter for the <code>use</code> attribute on the element. </p>
          
        </section>
        <section>
          <h4><a name="js-api-seed"></a><span>seed</span></h4>
          <p>Getter/setter for the <code>seed</code> attribute on the element. </p>
          
        </section>
        <section>
          <h4><a name="js-api-update"></a><span>update([styles])</span></h4>
          <p>Re-render the component (with given styles).</p>
          
        </section>
        <section>
          <h4><a name="js-api-export"></a><span>export([options])</span></h4>
          <p>
            Export <code>css-doodle</code> element as an image.
            Returns a <code>Promise</code> object which holds the information of the exported image.</p>
          <div>
            <h5>Options</h5>
            <ul>
              <li>
                <p>
                  <code>scale: Integer</code> Scale factor of the exported image. Default <code>1</code>.
                </p>
              </li>
              <li>
                <p>
                  <code>detail: Boolean</code> Returns detailed information of the image, eg. blob size. Default <code>false</code>.
                </p>
              </li>
              <li>
                <p>
                  <code>download: Boolean</code> Download the image or not. Default <code>false</code>.
                </p>
              </li>
              <li>
                <p>
                  <code>name: String</code> Saved name for download. Defaults to be the current timestamp.
                </p>
              </li>
            </ul>
          </div>

          <div>
            <div>
              <css-doodle click-to-update="">
                @grid: 7 / 8em;
                --c: #FFF4E0, #F8B501, #06ACB5, #17191D, #FC3D3C;
                background: @p(--c);
                @content: @Svg(
                  viewBox: -5 -5 10 10;
                  circle {
                    r: @r(1, 2);
                    fill: @p(--c);
                  }
                  circle*4 {
                    r: 6;
                    cx, cy: @pd(-6 -6, 6 6, 6 -6, -6 6);
                    fill: @p(--c);
                  }
                );
              </css-doodle>
              </div>
          </div>
        </section>
      </article>
    </section>

  </div></div>
  </body>
</html>
