<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/brycedrennan/imaginAIry">Original</a>
    <h1>Stable Diffusion 2.0 on Mac and Linux via imaginAIry Python library</h1>
    
    <div id="readability-page-1" class="page"><p dir="auto">AI imagined images. Pythonic generation of stable diffusion images.</p><p dir="auto">&#34;just works&#34; on Linux and macOS(M1) (and maybe windows?).</p><p dir="auto">Specify advanced text based masks using boolean logic and strength modifiers.
Mask syntax:</p><p dir="auto">When writing strength modifiers keep in mind that pixel values are between 0 and 1.</p><p dir="auto">You can use <code>{}</code> to randomly pull values from lists.  A list of values separated by <code>|</code>
and enclosed in <code>{ }</code> will be randomly drawn from in a non-repeating fashion. Values that are surrounded by <code>_ _</code> will
pull from a phrase list of the same name.   Folders containing .txt phraselist files may be specified via
<code>--prompt_library_path</code>. The option may be specified multiple times.  Built-in categories:</p><div data-snippet-clipboard-copy-content="  3d-term, adj-architecture, adj-beauty, adj-detailed, adj-emotion, adj-general, adj-horror, animal, art-movement, 
  art-site, artist, artist-botanical, artist-surreal, aspect-ratio, bird, body-of-water, body-pose, camera-brand,
  camera-model, color, cosmic-galaxy, cosmic-nebula, cosmic-star, cosmic-term, dinosaur, eyecolor, f-stop, 
  fantasy-creature, fantasy-setting, fish, flower, focal-length, food, fruit, games, gen-modifier, hair, hd,
  iso-stop, landscape-type, national-park, nationality, neg-weight, noun-beauty, noun-fantasy, noun-general, 
  noun-horror, occupation, photo-term, pop-culture, pop-location, punk-style, quantity, rpg-item, scenario-desc, 
  skin-color, spaceship, style, tree-species, trippy, world-heritage-site"><pre><code>  3d-term, adj-architecture, adj-beauty, adj-detailed, adj-emotion, adj-general, adj-horror, animal, art-movement, 
  art-site, artist, artist-botanical, artist-surreal, aspect-ratio, bird, body-of-water, body-pose, camera-brand,
  camera-model, color, cosmic-galaxy, cosmic-nebula, cosmic-star, cosmic-term, dinosaur, eyecolor, f-stop, 
  fantasy-creature, fantasy-setting, fish, flower, focal-length, food, fruit, games, gen-modifier, hair, hd,
  iso-stop, landscape-type, national-park, nationality, neg-weight, noun-beauty, noun-fantasy, noun-general, 
  noun-horror, occupation, photo-term, pop-culture, pop-location, punk-style, quantity, rpg-item, scenario-desc, 
  skin-color, spaceship, style, tree-species, trippy, world-heritage-site
</code></pre></div><p dir="auto"><code>imagine &#34;a {lime|blue|silver|aqua} colored dog&#34; -r 4 --seed 0</code> (note that it generates a dog of each color without repetition)</p><p dir="auto"><code>imagine &#34;a {_color_} dog&#34; -r 4 --seed 0</code> will generate four, different colored dogs. The colors will be pulled from an included
phraselist of colors.</p><p dir="auto"><code>imagine &#34;a {_spaceship_|_fruit_|hot air balloon}. low-poly&#34; -r 4 --seed 0</code> will generate images of spaceships or fruits or a hot air balloon</p><p dir="auto">Credit to <a href="https://github.com/WASasquatch/noodle-soup-prompts/">noodle-soup-prompts</a> where most, but not all, of the wordlists originate.</p><div dir="auto" data-snippet-clipboard-copy-content="from imaginairy import imagine, imagine_image_files, ImaginePrompt, WeightedPrompt, LazyLoadingImage

url = &#34;https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Thomas_Cole_-_Architect%E2%80%99s_Dream_-_Google_Art_Project.jpg/540px-Thomas_Cole_-_Architect%E2%80%99s_Dream_-_Google_Art_Project.jpg&#34;
prompts = [
    ImaginePrompt(&#34;a scenic landscape&#34;, seed=1, upscale=True),
    ImaginePrompt(&#34;a bowl of fruit&#34;),
    ImaginePrompt([
        WeightedPrompt(&#34;cat&#34;, weight=1),
        WeightedPrompt(&#34;dog&#34;, weight=1),
    ]),
    ImaginePrompt(
        &#34;a spacious building&#34;, 
        init_image=LazyLoadingImage(url=url)
    ),
    ImaginePrompt(
        &#34;a bowl of strawberries&#34;, 
        init_image=LazyLoadingImage(filepath=&#34;mypath/to/bowl_of_fruit.jpg&#34;),
        mask_prompt=&#34;fruit OR stem{*2}&#34;,  # amplify the stem mask x2
        mask_mode=&#34;replace&#34;,
        mask_modify_original=True,
    ),
    ImaginePrompt(&#34;strawberries&#34;, tile_mode=True),
]
for result in imagine(prompts):
    # do something
    result.save(&#34;my_image.jpg&#34;)

# or

imagine_image_files(prompts, outdir=&#34;./my-art&#34;)
"><pre><span>from</span> <span>imaginairy</span> <span>import</span> <span>imagine</span>, <span>imagine_image_files</span>, <span>ImaginePrompt</span>, <span>WeightedPrompt</span>, <span>LazyLoadingImage</span>

<span>url</span> <span>=</span> <span>&#34;https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Thomas_Cole_-_Architect%E2%80%99s_Dream_-_Google_Art_Project.jpg/540px-Thomas_Cole_-_Architect%E2%80%99s_Dream_-_Google_Art_Project.jpg&#34;</span>
<span>prompts</span> <span>=</span> [
    <span>ImaginePrompt</span>(<span>&#34;a scenic landscape&#34;</span>, <span>seed</span><span>=</span><span>1</span>, <span>upscale</span><span>=</span><span>True</span>),
    <span>ImaginePrompt</span>(<span>&#34;a bowl of fruit&#34;</span>),
    <span>ImaginePrompt</span>([
        <span>WeightedPrompt</span>(<span>&#34;cat&#34;</span>, <span>weight</span><span>=</span><span>1</span>),
        <span>WeightedPrompt</span>(<span>&#34;dog&#34;</span>, <span>weight</span><span>=</span><span>1</span>),
    ]),
    <span>ImaginePrompt</span>(
        <span>&#34;a spacious building&#34;</span>, 
        <span>init_image</span><span>=</span><span>LazyLoadingImage</span>(<span>url</span><span>=</span><span>url</span>)
    ),
    <span>ImaginePrompt</span>(
        <span>&#34;a bowl of strawberries&#34;</span>, 
        <span>init_image</span><span>=</span><span>LazyLoadingImage</span>(<span>filepath</span><span>=</span><span>&#34;mypath/to/bowl_of_fruit.jpg&#34;</span>),
        <span>mask_prompt</span><span>=</span><span>&#34;fruit OR stem{*2}&#34;</span>,  <span># amplify the stem mask x2</span>
        <span>mask_mode</span><span>=</span><span>&#34;replace&#34;</span>,
        <span>mask_modify_original</span><span>=</span><span>True</span>,
    ),
    <span>ImaginePrompt</span>(<span>&#34;strawberries&#34;</span>, <span>tile_mode</span><span>=</span><span>True</span>),
]
<span>for</span> <span>result</span> <span>in</span> <span>imagine</span>(<span>prompts</span>):
    <span># do something</span>
    <span>result</span>.<span>save</span>(<span>&#34;my_image.jpg&#34;</span>)

<span># or</span>

<span>imagine_image_files</span>(<span>prompts</span>, <span>outdir</span><span>=</span><span>&#34;./my-art&#34;</span>)</pre></div><p dir="auto">See example Dockerfile (works on machine where you can pass the gpu into the container)</p></div>
  </body>
</html>
