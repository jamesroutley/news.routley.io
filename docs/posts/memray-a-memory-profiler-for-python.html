<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/bloomberg/memray">Original</a>
    <h1>Memray ‚Äì A Memory Profiler for Python</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
<a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/logo.png"><img src="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/logo.png" width="70%"/></a>
</p>
<hr/>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/29b700ea6bea8820c811c71eea41d69f13ef403f1beade0e5c986b88cd062fa8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4f532d4c696e75782d626c7565"><img src="https://camo.githubusercontent.com/29b700ea6bea8820c811c71eea41d69f13ef403f1beade0e5c986b88cd062fa8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4f532d4c696e75782d626c7565" alt="OS Linux" data-canonical-src="https://img.shields.io/badge/OS-Linux-blue"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/c2422ec6635466eaf398e3b0195c093307b04156e2490328da4e9c28771743a7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4f532d4d61634f732d626c7565"><img src="https://camo.githubusercontent.com/c2422ec6635466eaf398e3b0195c093307b04156e2490328da4e9c28771743a7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4f532d4d61634f732d626c7565" alt="OS MacOS" data-canonical-src="https://img.shields.io/badge/OS-MacOs-blue"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9a8a315ccf01462b1a2f8bec54fac6e0f473e712139ee0ddf7d22c90259a94ec/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6d656d726179"><img src="https://camo.githubusercontent.com/9a8a315ccf01462b1a2f8bec54fac6e0f473e712139ee0ddf7d22c90259a94ec/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6d656d726179" alt="PyPI - Python Version" data-canonical-src="https://img.shields.io/pypi/pyversions/memray"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5e9e8d17c5359b55b24c8898938ff7fcef744fc2f67a13d480ac6c0df8d4e040/68747470733a2f2f696d672e736869656c64732e696f2f707970692f696d706c656d656e746174696f6e2f6d656d726179"><img src="https://camo.githubusercontent.com/5e9e8d17c5359b55b24c8898938ff7fcef744fc2f67a13d480ac6c0df8d4e040/68747470733a2f2f696d672e736869656c64732e696f2f707970692f696d706c656d656e746174696f6e2f6d656d726179" alt="PyPI - Implementation" data-canonical-src="https://img.shields.io/pypi/implementation/memray"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/310c194226a5ee5fd32e690f3461f6cedb440694d221f75c56d2c30f6dc45433/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6d656d726179"><img src="https://camo.githubusercontent.com/310c194226a5ee5fd32e690f3461f6cedb440694d221f75c56d2c30f6dc45433/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6d656d726179" alt="PyPI" data-canonical-src="https://img.shields.io/pypi/v/memray"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3ccc2e53c121b659c6cdf4d0d1b9f9be639cb6d53847ae6e91ba304a49812e81/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f6d656d726179"><img src="https://camo.githubusercontent.com/3ccc2e53c121b659c6cdf4d0d1b9f9be639cb6d53847ae6e91ba304a49812e81/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f6d656d726179" alt="PyPI - Downloads" data-canonical-src="https://img.shields.io/pypi/dm/memray"/></a>
<a href="https://anaconda.org/conda-forge/memray" rel="nofollow"><img src="https://camo.githubusercontent.com/f6be3c1a65a0cc7d42bb02984e367f0886645f5062dc3cf964eea24ea702e4c1/68747470733a2f2f696d672e736869656c64732e696f2f636f6e64612f766e2f636f6e64612d666f7267652f6d656d7261792e737667" alt="Conda Version" data-canonical-src="https://img.shields.io/conda/vn/conda-forge/memray.svg"/></a>
<a href="https://github.com/bloomberg/memray/actions/workflows/build.yml"><img src="https://github.com/bloomberg/memray/actions/workflows/build.yml/badge.svg" alt="Tests"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/7d770c433d6198d89f8c1e2f187b904a9721d176259d0e97157337741cc8e837/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667"><img src="https://camo.githubusercontent.com/7d770c433d6198d89f8c1e2f187b904a9721d176259d0e97157337741cc8e837/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667" alt="Code Style" data-canonical-src="https://img.shields.io/badge/code%20style-black-000000.svg"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/output.png"><img src="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/output.png" alt="Memray output"/></a></p>
<p dir="auto">Memray is a memory profiler for Python. It can track memory allocations in Python code, in native extension
modules, and in the Python interpreter itself. It can generate several different types of reports to help you
analyze the captured memory usage data. While commonly used as a CLI tool, it can also be used as a library to
perform more fine-grained profiling tasks.</p>
<p dir="auto">Notable features:</p>
<ul dir="auto">
<li>üïµÔ∏è‚Äç‚ôÄÔ∏è Traces every function call so it can accurately represent the call stack, unlike sampling profilers.</li>
<li>‚Ñ≠ Also handles native calls in C/C++ libraries so the entire call stack is present in the results.</li>
<li>üèé Blazing fast! Profiling slows the application only slightly. Tracking native code is somewhat slower,
but this can be enabled or disabled on demand.</li>
<li>üìà It can generate various reports about the collected memory usage data, like flame graphs.</li>
<li>üßµ Works with Python threads.</li>
<li>üëΩüßµ Works with native-threads (e.g. C++ threads in C extensions).</li>
</ul>
<p dir="auto">Memray can help with the following problems:</p>
<ul dir="auto">
<li>Analyze allocations in applications to help discover the cause of high memory usage.</li>
<li>Find memory leaks.</li>
<li>Find hotspots in code that cause a lot of allocations.</li>
</ul>
<blockquote>
<p dir="auto"><strong>Note</strong>
Memray only works on Linux and MacOS, and cannot be installed on other platforms.</p>
</blockquote>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/quotes.png"><img src="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/quotes.png" width="100%"/></a>
</p>

<p dir="auto">We are constantly looking for feedback from our awesome community ‚ù§Ô∏è. If you
have used Memray to solve a problem, profile an application, find a memory leak
or anything else, please let us know! We would love to hear about your
experience and how Memray helped you.</p>
<p dir="auto">Please, consider writing your story in the <a href="https://github.com/bloomberg/memray/discussions/226" data-hovercard-type="discussion" data-hovercard-url="/bloomberg/memray/discussions/226/hovercard">Success
Stories discussion page</a>.</p>
<p dir="auto">It really makes a difference!</p>

<p dir="auto">Memray requires Python 3.7+ and can be easily installed using most common Python
packaging tools. We recommend installing the latest stable release from
<a href="https://pypi.org/project/memray/" rel="nofollow">PyPI</a> with pip:</p>
<div dir="auto" data-snippet-clipboard-copy-content="    python3 -m pip install memray"><pre>    python3 -m pip install memray</pre></div>
<p dir="auto">Notice that Memray contains a C extension so releases are distributed as binary
wheels as well as the source code. If a binary wheel is not available for your system
(Linux x86/x64 or macOS), you&#39;ll need to ensure that all the dependencies are satisfied on the
system where you are doing the installation.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-building-from-source" aria-hidden="true" tabindex="-1" href="#building-from-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Building from source</h2>
<p dir="auto">If you wish to build Memray from source you need the following binary dependencies in your system:</p>
<ul dir="auto">
<li>libunwind (for Linux)</li>
<li>liblz4</li>
</ul>
<p dir="auto">Check your package manager on how to install these dependencies (for example <code>apt-get install libunwind-dev liblz4-dev</code> in Debian-based systems
or <code>brew install lz4</code> in MacOS). Note that you may need to teach the compiler where to find the header and library files of the dependencies. For
example, in MacOS with <code>brew</code> you may need to run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="export CFLAGS=&#34;-I$(brew --prefix lz4)/include&#34; LDFLAGS=&#34;-L$(brew --prefix lz4)/lib -Wl,-rpath,$(brew --prefix lz4)/lib&#34;"><pre><span>export</span> CFLAGS=<span><span>&#34;</span>-I<span><span>$(</span>brew --prefix lz4<span>)</span></span>/include<span>&#34;</span></span> LDFLAGS=<span><span>&#34;</span>-L<span><span>$(</span>brew --prefix lz4<span>)</span></span>/lib -Wl,-rpath,<span><span>$(</span>brew --prefix lz4<span>)</span></span>/lib<span>&#34;</span></span></pre></div>
<p dir="auto">before installing <code>memray</code>. Check the documentation of your package manager to know the location of the header and library
files for more detailed information.</p>
<p dir="auto">If you are building on MacOS, you will also need to set the deployment target.</p>
<div dir="auto" data-snippet-clipboard-copy-content="export MACOSX_DEPLOYMENT_TARGET=10.14"><pre><span>export</span> MACOSX_DEPLOYMENT_TARGET=10.14</pre></div>
<p dir="auto">Once you have the binary dependencies installed, you can clone the repository and follow with the normal building process:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone git@github.com:bloomberg/memray.git memray
cd memray
python3 -m venv ../memray-env/  # just an example, put this wherever you want
source ../memray-env/bin/activate
python3 -m pip install --upgrade pip
python3 -m pip install -e . -r requirements-test.txt -r requirements-extra.txt"><pre>git clone git@github.com:bloomberg/memray.git memray
<span>cd</span> memray
python3 -m venv ../memray-env/  <span><span>#</span> just an example, put this wherever you want</span>
<span>source</span> ../memray-env/bin/activate
python3 -m pip install --upgrade pip
python3 -m pip install -e <span>.</span> -r requirements-test.txt -r requirements-extra.txt</pre></div>
<p dir="auto">This will install Memray in the virtual environment in development mode (the <code>-e</code> of the last <code>pip install</code> command).</p>
<p dir="auto">If you plan to contribute back, you should install the pre-commit hooks:</p>

<p dir="auto">This will ensure that your contribution passes our linting checks.</p>

<p dir="auto">You can find the latest documentation available <a href="https://bloomberg.github.io/memray/" rel="nofollow">here</a>.</p>

<p dir="auto">There are many ways to use Memray. The easiest way is to use it as a command line tool to run your script, application, or library.</p>
<div data-snippet-clipboard-copy-content="usage: memray [-h] [-v] {run,flamegraph,table,live,tree,parse,summary,stats} ...

Memory profiler for Python applications

Run `memray run` to generate a memory profile report, then use a reporter command
such as `memray flamegraph` or `memray table` to convert the results into HTML.

Example:

    $ python3 -m memray run -o output.bin my_script.py
    $ python3 -m memray flamegraph output.bin

positional arguments:
  {run,flamegraph,table,live,tree,parse,summary,stats}
                        Mode of operation
    run                 Run the specified application and track memory usage
    flamegraph          Generate an HTML flame graph for peak memory usage
    table               Generate an HTML table with all records in the peak memory usage
    live                Remotely monitor allocations in a text-based interface
    tree                Generate a tree view in the terminal for peak memory usage
    parse               Debug a results file by parsing and printing each record in it
    summary             Generate a terminal-based summary report of the functions that allocate most memory
    stats               Generate high level stats of the memory usage in the terminal

optional arguments:
  -h, --help            Show this help message and exit
  -v, --verbose         Increase verbosity. Option is additive and can be specified up to 3 times
  -V, --version         Displays the current version of Memray

Please submit feedback, ideas, and bug reports by filing a new issue at https://github.com/bloomberg/memray/issues"><pre><code>usage: memray [-h] [-v] {run,flamegraph,table,live,tree,parse,summary,stats} ...

Memory profiler for Python applications

Run `memray run` to generate a memory profile report, then use a reporter command
such as `memray flamegraph` or `memray table` to convert the results into HTML.

Example:

    $ python3 -m memray run -o output.bin my_script.py
    $ python3 -m memray flamegraph output.bin

positional arguments:
  {run,flamegraph,table,live,tree,parse,summary,stats}
                        Mode of operation
    run                 Run the specified application and track memory usage
    flamegraph          Generate an HTML flame graph for peak memory usage
    table               Generate an HTML table with all records in the peak memory usage
    live                Remotely monitor allocations in a text-based interface
    tree                Generate a tree view in the terminal for peak memory usage
    parse               Debug a results file by parsing and printing each record in it
    summary             Generate a terminal-based summary report of the functions that allocate most memory
    stats               Generate high level stats of the memory usage in the terminal

optional arguments:
  -h, --help            Show this help message and exit
  -v, --verbose         Increase verbosity. Option is additive and can be specified up to 3 times
  -V, --version         Displays the current version of Memray

Please submit feedback, ideas, and bug reports by filing a new issue at https://github.com/bloomberg/memray/issues
</code></pre></div>
<p dir="auto">To use Memray over a script or a single python file you can use</p>
<div dir="auto" data-snippet-clipboard-copy-content="python3 -m memray run my_script.py"><pre>python3 -m memray run my_script.py</pre></div>
<p dir="auto">If you normally run your application with <code>python3 -m my_module</code>, you can use the <code>-m</code> flag with <code>memray run</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="python3 -m memray run -m my_module"><pre>python3 -m memray run -m my_module</pre></div>
<p dir="auto">You can also invoke Memray as a command line tool without having to use <code>-m</code> to invoke it as a module:</p>
<div dir="auto" data-snippet-clipboard-copy-content="memray run my_script.py
memray run -m my_module"><pre>memray run my_script.py
memray run -m my_module</pre></div>
<p dir="auto">The output will be a binary file (like <code>memray-my_script.2369.bin</code>) that you can analyze in different ways. One way is to use the <code>memray flamegraph</code> command to generate a flame graph:</p>
<div dir="auto" data-snippet-clipboard-copy-content="memray flamegraph my_script.2369.bin"><pre>memray flamegraph my_script.2369.bin</pre></div>
<p dir="auto">This will produce an HTML file with a flame graph of the memory usage that you can inspect with your favorite browser. There are multiple other reporters that you can use to generate other types of reports, some of them generating terminal-based output and some of them generating HTML files. Here is an example of a Memray flamegraph:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/bloomberg/memray/blob/main/docs/_static/images/flamegraph_example.png?raw=true"><img src="https://github.com/bloomberg/memray/raw/main/docs/_static/images/flamegraph_example.png?raw=true"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-pytest-plugin" aria-hidden="true" tabindex="-1" href="#pytest-plugin"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Pytest plugin</h2>
<p dir="auto">If you want an easy and convenient way to use <code>memray</code> in your test suite, you can consider using <a href="https://github.com/bloomberg/pytest-memray">pytest-memray</a>. Once installed, this pytest plugin allows you to simply add <code>--memray</code> to the command line invocation:</p>

<p dir="auto">And will automatically get a report like this:</p>
<div data-snippet-clipboard-copy-content="python3 -m pytest tests --memray
=============================================================================================================================== test session starts ================================================================================================================================
platform linux -- Python 3.8.10, pytest-6.2.4, py-1.10.0, pluggy-0.13.1
rootdir: /mypackage, configfile: pytest.ini
plugins: cov-2.12.0, memray-0.1.0
collected 21 items

tests/test_package.py .....................                                                                                                                                                                                                                      [100%]


================================================================================================================================= MEMRAY REPORT ==================================================================================================================================
Allocations results for tests/test_package.py::some_test_that_allocates

	 üì¶ Total memory allocated: 24.4MiB
	 üìè Total allocations: 33929
	 üìä Histogram of allocation sizes: |‚ñÇ   ‚ñà    |
	 ü•á Biggest allocating functions:
		- parse:/opt/bb/lib/python3.8/ast.py:47 -&gt; 3.0MiB
		- parse:/opt/bb/lib/python3.8/ast.py:47 -&gt; 2.3MiB
		- _visit:/opt/bb/lib/python3.8/site-packages/astroid/transforms.py:62 -&gt; 576.0KiB
		- parse:/opt/bb/lib/python3.8/ast.py:47 -&gt; 517.6KiB
		- __init__:/opt/bb/lib/python3.8/site-packages/astroid/node_classes.py:1353 -&gt; 512.0KiB"><pre><code>python3 -m pytest tests --memray
=============================================================================================================================== test session starts ================================================================================================================================
platform linux -- Python 3.8.10, pytest-6.2.4, py-1.10.0, pluggy-0.13.1
rootdir: /mypackage, configfile: pytest.ini
plugins: cov-2.12.0, memray-0.1.0
collected 21 items

tests/test_package.py .....................                                                                                                                                                                                                                      [100%]


================================================================================================================================= MEMRAY REPORT ==================================================================================================================================
Allocations results for tests/test_package.py::some_test_that_allocates

	 üì¶ Total memory allocated: 24.4MiB
	 üìè Total allocations: 33929
	 üìä Histogram of allocation sizes: |‚ñÇ   ‚ñà    |
	 ü•á Biggest allocating functions:
		- parse:/opt/bb/lib/python3.8/ast.py:47 -&gt; 3.0MiB
		- parse:/opt/bb/lib/python3.8/ast.py:47 -&gt; 2.3MiB
		- _visit:/opt/bb/lib/python3.8/site-packages/astroid/transforms.py:62 -&gt; 576.0KiB
		- parse:/opt/bb/lib/python3.8/ast.py:47 -&gt; 517.6KiB
		- __init__:/opt/bb/lib/python3.8/site-packages/astroid/node_classes.py:1353 -&gt; 512.0KiB
</code></pre></div>
<p dir="auto">You can also use some of the included markers to make tests
fail if the execution of said test allocates more memory than allowed:</p>
<div dir="auto" data-snippet-clipboard-copy-content="@pytest.mark.limit_memory(&#34;24 MB&#34;)
def test_foobar():
    # do some stuff that allocates memory"><pre><span>@<span>pytest</span>.<span>mark</span>.<span>limit_memory</span>(<span>&#34;24 MB&#34;</span>)</span>
<span>def</span> <span>test_foobar</span>():
    <span># do some stuff that allocates memory</span></pre></div>
<p dir="auto">To learn more on how the plugin can be used and configured check out <a href="https://pytest-memray.readthedocs.io" rel="nofollow">the plugin documentation</a>.</p>

<p dir="auto">Memray supports tracking native C/C++ functions as well as Python functions. This can be especially useful when profiling applications that have C extensions (such as <code>numpy</code> or <code>pandas</code>) as this gives a holistic vision of how much memory is allocated by the extension and how much is allocated by Python itself.</p>
<p dir="auto">To activate native tracking, you need to provide the <code>--native</code> argument when using the <code>run</code> subcommand:</p>
<div dir="auto" data-snippet-clipboard-copy-content="memray run --native my_script.py"><pre>memray run --native my_script.py</pre></div>
<p dir="auto">This will automatically add native information to the result file and it will be automatically used by any reporter (such the flamegraph or table reporters). This means that instead of seeing this in the flamegraphs:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/bloomberg/memray/blob/main/docs/_static/images/mandelbrot_operation_non_native.png?raw=true"><img src="https://github.com/bloomberg/memray/raw/main/docs/_static/images/mandelbrot_operation_non_native.png?raw=true"/></a></p>
<p dir="auto">You will now be able to see what&#39;s happening inside the Python calls:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/bloomberg/memray/blob/main/docs/_static/images/mandelbrot_operation_native.png?raw=true"><img src="https://github.com/bloomberg/memray/raw/main/docs/_static/images/mandelbrot_operation_native.png?raw=true"/></a></p>
<p dir="auto">Reporters display native frames in a different color than Python frames. They can also be distinguished by looking at the file location in a frame (Python frames will generally be generated from files with a .py extension while native frames will be generated from files with extensions like .c, .cpp or .h).</p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/live_animated.webp"><img src="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/live_animated.webp" alt="Memray output"/></a></p>
<p dir="auto">Memray&#39;s live mode runs a script or a module in a terminal-based interface that allows you to interactively inspect its memory usage while it runs. This is useful for debugging scripts or modules that take a long time to run or that exhibit multiple complex memory patterns. You can use the <code>--live</code> option to run the script or module in live mode:</p>
<div dir="auto" data-snippet-clipboard-copy-content="    memray run --live my_script.py"><pre>    memray run --live my_script.py</pre></div>
<p dir="auto">or if you want to execute a module:</p>
<div dir="auto" data-snippet-clipboard-copy-content="    memray run --live -m my_module"><pre>    memray run --live -m my_module</pre></div>
<p dir="auto">This will show the following TUI interface in your terminal:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/live_running.png"><img src="https://raw.githubusercontent.com/bloomberg/memray/main/docs/_static/images/live_running.png"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-sorting-results" aria-hidden="true" tabindex="-1" href="#sorting-results"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Sorting results</h2>
<p dir="auto">The results are displayed in descending order of total memory allocated by a function and the subfunctions called by it. You can change the ordering with the following keyboard shortcuts:</p>
<ul dir="auto">
<li>
<p dir="auto">t (default): Sort by total memory</p>
</li>
<li>
<p dir="auto">o: Sort by own memory</p>
</li>
<li>
<p dir="auto">a: Sort by allocation count</p>
</li>
</ul>
<p dir="auto">In most terminals you can also click the &#34;Sort by Total&#34;, &#34;Sort by Own&#34;, and &#34;Sort by Allocations&#34; buttons on the footer.</p>
<p dir="auto">The sorted column&#39;s heading is underlined.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-viewing-different-threads" aria-hidden="true" tabindex="-1" href="#viewing-different-threads"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Viewing different threads</h2>
<p dir="auto">By default, the live command will present the main thread of the program. You can look at different threads of the program by pressing the greater than and less than keys, <code>&lt;</code> and <code>&gt;</code>. In most terminals you can also click the &#34;Previous Thread&#34; and &#34;Next Thread&#34; buttons on the footer.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/bloomberg/memray/blob/main/docs/_static/images/live_different_thread.png?raw=true"><img src="https://github.com/bloomberg/memray/raw/main/docs/_static/images/live_different_thread.png?raw=true"/></a></p>

<p dir="auto">In addition to tracking Python processes from a CLI using <code>memray run</code>, it is also possible to programmatically enable tracking within a running Python program.</p>
<div dir="auto" data-snippet-clipboard-copy-content="import memray

with memray.Tracker(&#34;output_file.bin&#34;):
    print(&#34;Allocations will be tracked until the with block ends&#34;)"><pre><span>import</span> <span>memray</span>

<span>with</span> <span>memray</span>.<span>Tracker</span>(<span>&#34;output_file.bin&#34;</span>):
    <span>print</span>(<span>&#34;Allocations will be tracked until the with block ends&#34;</span>)</pre></div>
<p dir="auto">For details, see the <a href="https://bloomberg.github.io/memray/api.html" rel="nofollow">API documentation</a>.</p>

<p dir="auto">Memray is Apache-2.0 licensed, as found in the <a href="https://github.com/bloomberg/memray/blob/main/LICENSE">LICENSE</a> file.</p>

<ul dir="auto">
<li><a href="https://github.com/bloomberg/.github/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
</ul>
<p dir="auto">This project has adopted a Code of Conduct. If you have any concerns about the Code, or behavior that you have experienced in the project, please contact us at <a href="mailto:opensource@bloomberg.net">opensource@bloomberg.net</a>.</p>

<ul dir="auto">
<li><a href="https://github.com/bloomberg/memray/security/policy">Security Policy</a></li>
</ul>
<p dir="auto">If you believe you have identified a security vulnerability in this project, please send an email to the project team at <a href="mailto:opensource@bloomberg.net">opensource@bloomberg.net</a>, detailing the suspected issue and any methods you&#39;ve found to reproduce it.</p>
<p dir="auto">Please do NOT open an issue in the GitHub repository, as we&#39;d prefer to keep vulnerability reports private until we&#39;ve had an opportunity to review and address them.</p>

<p dir="auto">We welcome your contributions to help us improve and extend this project!</p>
<p dir="auto">Below you will find some basic steps required to be able to contribute to the project. If you have any questions about this process or any other aspect of contributing to a Bloomberg open source project, feel free to send an email to <a href="mailto:opensource@bloomberg.net">opensource@bloomberg.net</a> and we&#39;ll get your questions answered as quickly as we can.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-contribution-licensing" aria-hidden="true" tabindex="-1" href="#contribution-licensing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contribution Licensing</h2>
<p dir="auto">Since this project is distributed under the terms of an <a href="https://github.com/bloomberg/memray/blob/main/LICENSE">open source license</a>, contributions that
you make are licensed under the same terms. In order for us to be able to accept your contributions,
we will need explicit confirmation from you that you are able and willing to provide them under
these terms, and the mechanism we use to do this is called a Developer&#39;s Certificate of Origin
<a href="https://github.com/bloomberg/.github/blob/main/DCO.md">(DCO)</a>. This is very similar to the process
used by the Linux kernel, Samba, and many other major open source projects.</p>
<p dir="auto">To participate under these terms, all that you must do is include a line like the following as the
last line of the commit message for each commit in your contribution:</p>
<div data-snippet-clipboard-copy-content="Signed-Off-By: Random J. Developer &lt;random@developer.example.org&gt;"><pre><code>Signed-Off-By: Random J. Developer &lt;random@developer.example.org&gt;
</code></pre></div>
<p dir="auto">The simplest way to accomplish this is to add <code>-s</code> or <code>--signoff</code> to your <code>git commit</code> command.</p>
<p dir="auto">You must use your real name (sorry, no pseudonyms, and no anonymous contributions).</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-steps" aria-hidden="true" tabindex="-1" href="#steps"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Steps</h2>
<ul dir="auto">
<li>Create an Issue, select &#39;Feature Request&#39;, and explain the proposed change.</li>
<li>Follow the guidelines in the issue template presented to you.</li>
<li>Submit the Issue.</li>
<li>Submit a Pull Request and link it to the Issue by including &#34;#&#34; in the Pull Request summary.</li>
</ul>
</article></div></div>
  </body>
</html>
