<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://www.ivarch.com/programs/pv.shtml">Original</a>
    <h1>Pipe Viewer</h1>
    
    <div id="readability-page-1" class="page">

<h2>Current version: 1.6.20 (12 September 2021)
<small>
[<a href="http://www.ivarch.com/programs/sources/pv-1.6.20.tar.bz2">src</a>]
[<a href="http://www.ivarch.com/programs/sources/pv-1.6.20-1.src.rpm">srpm</a>]
[<a href="http://www.ivarch.com/programs/rpms/pv-1.6.20-1.x86_64.rpm">rpm64</a>]
</small></h2>
<table summary="Download links">
<tbody><tr><th abbr="" colspan="2">Downloads</th></tr>
<tr><td>
<ul>
<li><a href="http://www.ivarch.com/programs/sources/pv-1.6.20.tar.gz">pv-1.6.20.tar.gz</a> [<a href="http://www.ivarch.com/programs/sources/pv-1.6.20.tar.gz.txt">sig</a>]</li>
<li><a href="http://www.ivarch.com/programs/sources/pv-1.6.20.tar.bz2">pv-1.6.20.tar.bz2</a> [<a href="http://www.ivarch.com/programs/sources/pv-1.6.20.tar.bz2.txt">sig</a>]</li>
<li><a href="http://www.ivarch.com/programs/sources/pv-1.6.20-1.src.rpm">pv-1.6.20-1.src.rpm</a></li>
</ul>
<ul>
<li><a href="http://www.ivarch.com/programs/rpms/pv-1.6.20-1.x86_64.rpm">pv-1.6.20-1.x86_64.rpm</a></li>
<li><a href="http://www.ivarch.com/programs/rpms/pv-1.6.0-1.aix6.1.ppc.rpm">pv-1.6.0-1.aix6.1.ppc.rpm</a></li>
</ul>
</td><td>
<ul>
<li>132K</li>
<li>113K</li>
<li>150K</li>
</ul>
<ul>
<li> 66K</li>
<li>(AIX)</li>
</ul>
</td></tr>
<tr><th abbr="" colspan="2">Information &amp; Links</th></tr>
<tr><td colspan="2">
<ul>
<li><a href="https://github.com/a-j-wood/pv">GitHub page</a></li>
<li><a href="http://www.ivarch.com/programs/quickref/pv.shtml">Manual</a> (online version)</li>
</ul></td></tr>
</tbody></table>

<p>
<code>pv</code> - Pipe Viewer - is a terminal-based
tool for monitoring the progress of data through a pipeline.  It can be
inserted into any normal pipeline between two processes to give a visual
indication of how quickly data is passing through, how long it has taken,
how near to completion it is, and an estimate of how long it will be until
completion.
</p>
<p>
Additional support is available for multiple instances working in tandem, to
given a visual indicator of relative throughput in a complex pipeline:
</p>
<p>
<img src="http://www.ivarch.com/programs/images/pv.png" width="590" height="82" alt="[Pipe Viewer in action with a complex pipeline]"/>
</p>
<p>
Source for all systems and RPMs for RPM-based systems are available in
the download area.
</p>
<p>
Comments, bug reports, and patches can be sent using the
<a href="http://www.ivarch.com/personal/contact.shtml">Contact Form</a>.
</p>





<h2 id="packages">Packages and ports</h2>
<table>
<tbody><tr><th><a href="http://www.debian.org/">Debian</a> / <a href="http://www.ubuntu.com/">Ubuntu</a>:</th><td>Run &#34;<code>apt-get install pv</code>&#34; to get the latest packaged version from &#34;unstable&#34; / &#34;testing&#34;. (<a href="http://packages.qa.debian.org/p/pv.html">Debian QA page here</a>.)</td></tr>
<tr><th><a href="http://www.centos.org/">CentOS</a> / <a href="http://www.redhat.com/">RHEL</a>:</th><td>Set up <a href="http://www.ivarch.com/programs/yum.shtml">my YUM repository</a> or use <a href="http://repoforge.org/">RepoForge</a>, then do &#34;<code>yum install pv</code>&#34;.</td></tr>
<tr><th><a href="http://fedoraproject.org/">Fedora</a>:</th><td>Run &#34;<code>yum install pv</code>&#34;; the &#34;<code>extras</code>&#34; repository may be required. (<a href="https://apps.fedoraproject.org/packages/pv">Fedora package status here</a>.)</td></tr>
<tr><th><a href="https://get.opensuse.org/leap/15.3">openSUSE Leap 15.3</a>:</th><td>Run &#34;<code>sudo zypper install pv</code>&#34;. <i>(Keith Guitar)</i></td></tr>
<tr><th><a href="http://www.slackware.com/">Slackware</a>:</th><td>Use <a href="http://slackbuilds.org/repository/13.1/system/pv/">this SlackBuild script</a>.</td></tr>
<tr><th><a href="http://www.cygwin.com/">Cygwin</a>:</th><td>Available <a href="http://cygwin.com/packages/">as a package</a>. <i>(Christian Franke)</i></td></tr>
<tr><th>FreeBSD:</th><td><a href="http://www.freshports.org/sysutils/pv">Listed on FreshPorts</a>.</td></tr>
<tr><th>OpenBSD:</th><td><a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/sysutils/pv">Listed under ports</a>.</td></tr>
<tr><th>Solaris:</th><td>Download binary packages from <a href="http://www.opencsw.org/packages/pv">OpenCSW</a>.</td></tr>
<tr><th>OpenSolaris:</th><td>Includes <code>pv</code> version 1.1.4 in the &#34;<code>/dev</code>&#34; repository (as of build 119). Install with &#34;<code>pkg install SUNWpipe-viewer</code>&#34;. <i>(Menno Lageman)</i></td></tr>
<tr><th>AIX:</th><td>An RPM from Pawel Piatek is in the downloads section.</td></tr>
<tr><th><a href="https://serenityos.org">SerenityOS</a>:</th><td><a href="https://github.com/SerenityOS/serenity/pull/10916">Ported to SerenityOS</a>. (Brian Gianforcaro)</td></tr>
<tr><th><a href="http://www.macports.org/">MacPorts</a>:</th><td>Run &#34;<code>port install pv</code>&#34; to get the latest version. <i>(Brandon Crawford)</i></td></tr>
<tr><th><a href="http://mxcl.github.com/homebrew/">Mac HomeBrew</a>:</th><td>Run &#34;<code>brew install pv</code>&#34; to get the latest version. <i>(Justin Campbell)</i></td></tr>
<tr><th><a href="http://www.exherbo.org">Exherbo</a>:</th><td>Run &#34;<code>cave resolve -x app-misc/pv</code>&#34; to get the latest version. <i>(Wulf C. Krueger)</i></td></tr>
<tr><th><a href="http://www.gentoo.org/">Gentoo</a>:</th><td>Run &#34;<code>emerge sys-apps/pv</code>&#34; to get the latest version. <i>(S. Lockwood-Childs; update from Peter Broadwell)</i></td></tr>
<tr><th>IRIX <a href="http://www.nekochan.net/what-is-nekowar.html">Nekoware</a>:</th><td>Available in the Nekoware &#34;beta&#34; repository. <i>(<a href="http://www.markround.com/">Mark Round</a>)</i></td></tr>
<tr><th>Syabas PopcornHour:</th><td>Someone posted <a href="http://www.networkedmediatank.com/showthread.php?tid=7192&amp;page=5">this port in a forum</a>.</td></tr>
<tr><th><a href="https://nixos.org/nix/">Nix</a>:</th><td>Run &#34;<code>nix-env -i pv</code>&#34;. <i>(Erick Ochoa)</i></td></tr>
<tr><th><a href="https://spack.io/">Spack</a>:</th><td>Run &#34;<code>spack install pv</code>&#34; to get the latest version. <i>(Christoph Junghans)</i></td></tr>
</tbody></table>

<h2 id="notes">Notes</h2>
<ul>
<li><p><i>(7 Feb 2022) - Jacek Wielemborek writes:</i></p>
<pre>pgrep -x gzip | xargs -n1 -I{} bash -c &#39;tmux split-window -l 1 pv -ptebar -d {}:3; tmux last-pane&#39;
</pre>
<p>
You can run this in a tmux session and it&#39;s going to display a
progress bar for each currently running gzip decompression process.
Quite often I run a massively parallel job and it&#39;s difficult to
estimate ETA when the process is not uniform. This way I&#39;m getting a
lot of progress bars and I can get a better feel of the system&#39;s
performance.
</p>
</li>
<li><p><i>(29 Nov 2013) - Lee Yiu Chung writes:</i></p>
<p>I tried to compile pv under SmartOS (a fork from OpenSolaris), but I found a compiler error that <code>struct stat</code> is redefined.</p>
<p>After some tracing I found that <code>/usr/include/sys/stat.h</code> have BOTH &#34;<code>struct stat</code>&#34; and &#34;<code>struct stat64</code>&#34; defined, and the &#34;<code>define stat64 stat</code>&#34; macro in <code>autoconf/header.in</code> happily replacing <code>stat64</code> to <code>stat</code>, thus causing the compiler error.</p>
<p>As a result I have to modify <code>autoconf/header.in</code> so that the offending macro is disabled in Solaris platform. Below is the diff file:</p>
<pre>--- autoconf/header.in.orig     2013-08-01 03:39:15.000000000 +0800
+++ autoconf/header.in  2013-11-29 20:07:21.697885164 +0800
@@ -70,6 +70,7 @@
 #   define stat64 stat                                                                                   
 #   define fstat64 fstat                                                                                 
 #  endif                                                                                                 
+# elif defined(__sun) &amp;&amp; defined(__SVR4)
 # else                                                                                                   
 #  define stat64 stat                                                                                    
 #  define fstat64 fstat  
</pre><p><b>Author notes:</b> Large file support is not implemented very portably at the moment. I will try to fix it so it does not do things like redefining <code>stat</code> in future, so this should be fixed in a future version. In the meantime please try the above patch that has been kindly supplied.</p>
</li>
</ul>

<h2 id="news">News</h2>

<dl>

<dt>1.6.20 - 12 September 2021</dt>
<dd><ul>
<li>fix: add missing <code>stddef.h</code> include to <code>number.c</code> (Sam James)</li>
</ul></dd>

<dt>1.6.19 - 5 September 2021</dt>
<dd><ul>
<li>fix: starting pv in the background no longer immediately stops unless the transfer is to/from the terminal (Andriy Gapon, Jonathan Elchison)</li>
<li>fix: using <code>-B</code>, <code>-A</code>, or <code>-T</code> now switches on <code>-C</code> implicitly (Johannes Gerer, André Stapf)</li>
<li>fix: AIX build fixes (Peter Korsgaard)</li>
<li>i18n: updated German &#34;<code>--help</code>&#34; translations (Richard Fonfara)</li>
<li>i18n: switched to UTF-8 encoding, added missing translations (de,fr,pt)</li>
<li>docs: new &#34;common switches&#34; manual section (Jacek Wielemborek)</li>
<li>docs: use placeholder instead of <code>/dev/sda</code> in the manual (Pranav Peshwe)</li>
<li>docs: mention MacOS pipes and &#34;<code>-B 1024</code>&#34; in the manual (Jan Venekamp)</li>
<li>docs: correct shell in <code>autoconf/scripts/index.sh</code>  (Juan Picca)</li>
<li>cleanup: various compiler warnings cleaned up</li>
</ul></dd>

<dt>1.6.6 - 30 June 2017</dt>
<dd><ul>
<li>(r161) use <code>%llu</code> instead of <code>%Lu</code> for better compatibility (Eric A. Borisch)</li>
<li>(r162) (#1532) fix target buffer size (<code>-B</code>) being ignored (AndCycle, Ilya Basin, Antoine Beaupré)</li>
<li>(r164) cap read/write sizes, and check elapsed time during read/write cycles, to avoid display hangs with large buffers or slow media; also remove select() call from repeated_write function as it slows the transfer down and the wrapping alarm() means it is unnecessary</li>
<li>(r169) (#1477) use alternate form for transfer counter, such that 13GB is shown as 13.0GB so it&#39;s the same width as 13.1GB (André Stapf)</li>
<li>(r171) cleanup: units corrections in man page, of the form kb -&gt; KiB</li>
<li>(r175) report error in &#34;<code>-d</code>&#34; if process fd directory is unreadable, or if process disappears before we start the main loop (Jacek Wielemborek)</li>
</ul></dd>

<dt>1.6.0 - 15 March 2015</dt>
<dd><ul>
<li>fix <code>lstat64</code> support when unavailable - separate patches supplied by Ganael Laplanche and Peter Korsgaard</li>
<li>(#1506) new option &#34;<code>-D</code>&#34; / &#34;<code>--delay-start</code>&#34; to only show bar after N seconds (Damon Harper)</li>
<li>new option &#34;<code>--fineta</code>&#34; / &#34;<code>-I</code>&#34; to show ETA as time of day rather than time remaining - patch supplied by Erkki Seppälä (r147)</li>
<li>(#1509) change ETA (<code>--eta</code> / <code>-e</code>) so that days are given if the hours remaining are 24 or more (Jacek Wielemborek)</li>
<li>(#1499) repeat read and write attempts on partial buffer fill/empty to work around post-signal transfer rate drop reported by Ralf Ramsauer</li>
<li>(#1507) do not try to calculate total size in line mode, due to bug reported by Jacek Wielemborek and Michiel Van Herwegen</li>
<li>cleanup: removed defunct RATS comments and unnecessary copyright notices</li>
<li>clean up displayed lines when using <code>--watchfd PID</code>, when PID exits</li>
<li>output errors on a new line to avoid overwriting transfer bar</li>
</ul></dd>

<dt>1.5.7 - 26 August 2014</dt>
<dd><ul>
<li>show KiB instead of incorrect kiB (Debian bug #706175)</li>
<li>(#1284) do not gzip man page, for non-Linux OSes (Bob Friesenhahn)</li>
<li>work around <code>awk</code> bug in <code>tests/016-numeric-timer</code> in decimal &#34;,&#34; locales</li>
<li>fix &#34;<code>make rpm</code>&#34; and &#34;<code>make srpm</code>&#34;, extend &#34;<code>make release</code>&#34; to sign releases</li>
</ul></dd>

<dt>1.5.3 - 4 May 2014</dt>
<dd><ul>
<li>remove SPLICE_F_NONBLOCK to fix problem with slow <code>splice()</code> (Jan Seda)</li>
</ul></dd>

<dt>1.5.2 - 10 February 2014</dt>
<dd><ul>
<li>allow <code>--watchfd</code> to look at block devices</li>
<li>let <code>--watchfd PID:FD</code> work with <code>--size N</code></li>
<li>moved contributors out of the manual as the list was too long</li>
</ul></dd>

<dt>1.5.1 - 23 January 2014</dt>
<dd><ul>
<li>new option <code>--watchfd</code> - suggested by Jacek Wielemborek and &#34;fdwatch&#34;</li>
<li>use non-block flag with <code>splice()</code></li>
<li>new display option <code>--buffer-percent</code>, suggested by Kim Krecht</li>
<li>new display option <code>--last-written</code>, suggested by Kim Krecht</li>
<li>new transfer option <code>--no-splice</code></li>
<li>fix for minor bug which dropped display elements after one empty one</li>
<li>fix for single fd leak on exit (Cristian Ciupitu)</li>
</ul></dd>

<dt>1.4.12 - 5 August 2013</dt>
<dd><ul>
<li>new option <code>--null</code> - patch supplied by Zing Shishak</li>
<li>AIX build fix (add <code>-lc128</code>) - with help from Pawel Piatek</li>
<li>AIX <code>-c</code> fixes - with help from Pawel Piatek</li>
<li>SCO build fix (po2table.sh) - reported by Wouter Pronk</li>
<li>test scripts fix for older distributions - patch from Bryan Dongray</li>
<li>fix for <code>splice()</code> not using stdin - patch from Zev Weiss</li>
</ul></dd>

<dt>1.4.6 - 22 January 2013</dt>
<dd><ul>
<li>added patch from Pawel Piatek to omit O_NOFOLLOW in AIX</li>
</ul></dd>

<dt>1.4.5 - 10 January 2013</dt>
<dd><ul>
<li>updated manual page to show known problem with &#34;<code>-R</code>&#34; on Cygwin</li>
</ul></dd>

</dl>
<p>
[<a href="http://www.ivarch.com/programs/pv.shtml?old#news">Show full history</a>]
</p>



<table summary="">
<tbody>
<tr><td>
</td><td>
<table summary="">
<tbody>
<tr>
<td>
This software is OSI Certified Open Source Software.</td>
<td><a href="http://opensource.org/docs/certification_mark.php"><img src="http://www.ivarch.com/images/osi-certified-60x50.png" width="60" height="50" alt="[OSI Certification Mark]"/></a></td>
</tr>
</tbody>
</table>

</td></tr>
</tbody>
</table>




</div>
  </body>
</html>
