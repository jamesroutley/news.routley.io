<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/turbolytics/sql-flow">Original</a>
    <h1>Show HN: Execute SQL against Bluesky firehose</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">SQLFlow enables SQL-based stream-processing, powered by <a href="https://duckdb.org/" rel="nofollow">DuckDB</a>. SQLFlow embeds duckdb, supporting <a href="https://kafka.apache.org/" rel="nofollow">kafka stream processing</a> logic using pure sql.</p>
<p dir="auto">SQLFlow executes SQL against streaming data, such as Kafka or webhooks. Think of SQLFlow as a way to run sql against a continuous stream of data. The data outputs can be shipped to sinks, such as Kafka.</p>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/151242797/399469874-1295e7eb-a0b8-4087-8aa4-cad75a0c8cfa.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5NDY5ODc0LTEyOTVlN2ViLWEwYjgtNDA4Ny04YWE0LWNhZDc1YTBjOGNmYS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0wMzliZTQxZjMyN2RmMDA2NWRmZWZlMTkxODY5NzhlZWMwYzJkNTYzYjNlYjc2MDQ0YjY2ZDMxZWQ3N2JlN2M4JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.4t5Wi0AWSJWSSxjHwV91UjLAt6KeMkBH6mvLiGMG3_w"><img width="1189" alt="Screenshot 2024-12-31 at 7 22 55â€¯AM" src="https://private-user-images.githubusercontent.com/151242797/399469874-1295e7eb-a0b8-4087-8aa4-cad75a0c8cfa.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5NDY5ODc0LTEyOTVlN2ViLWEwYjgtNDA4Ny04YWE0LWNhZDc1YTBjOGNmYS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0wMzliZTQxZjMyN2RmMDA2NWRmZWZlMTkxODY5NzhlZWMwYzJkNTYzYjNlYjc2MDQ0YjY2ZDMxZWQ3N2JlN2M4JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.4t5Wi0AWSJWSSxjHwV91UjLAt6KeMkBH6mvLiGMG3_w"/></a>

<ul dir="auto">
<li><strong>Streaming Data Transformations</strong>: Clean data and types and publish the new data (<a href="https://github.com/turbolytics/sql-flow/blob/main/dev/config/examples/basic.agg.mem.yml">example config</a>).</li>
<li><strong>Stream Enrichment</strong>: Add data an input stream and publish the new data (<a href="https://github.com/turbolytics/sql-flow/blob/main/dev/config/examples/enrich.yml">example config</a>).</li>
<li><strong>Data aggregation</strong>: Aggregate input data batches to decrease data volume (<a href="https://github.com/turbolytics/sql-flow/blob/main/dev/config/examples/basic.agg.mem.yml">example config</a>).</li>
<li><strong>Tumbling Window Aggregation</strong>: Bucket data into arbitrary time windows (such as &#34;hour&#34; or &#34;10 minutes&#34;) (<a href="https://github.com/turbolytics/sql-flow/blob/main/dev/config/examples/tumbling.window.yml">example config</a>).</li>
<li><strong>Running SQL against the Bluesky Firehose</strong>: Execute SQL against any webhook source, such as the <a href="https://docs.bsky.app/docs/advanced-guides/firehose" rel="nofollow">Bluesky firehose</a> (<a href="https://github.com/turbolytics/sql-flow/blob/main/dev/config/examples/bluesky/bluesky.kafka.raw.yml">example config</a>)</li>
</ul>

<ul dir="auto">
<li><strong>Streaming SQL</strong>: Execute SQL against a variety of input streams, including kafka and websockets (bluesky firehose).</li>
<li><strong>Custom Serialization and Encoding</strong>: Support for various formats, such as JSON and Parquet.</li>
<li>High Throughput: Optimized to handle tens of thousands of messages per second using <a href="https://duckdb.org/" rel="nofollow">DuckDB</a>, <a href="https://github.com/confluentinc/librdkafka">librdkafka</a>, and <a href="https://github.com/confluentinc/confluent-kafka-python">confluent python</a></li>
<li><strong>Tumbling Window Aggregations</strong>: Perform aggregations over fixed intervals and output data once the interval is complete, enabling rollups like hourly or 10-minute summaries.</li>
<li><strong>Static Table Joins</strong>: Join streaming data with static datasets, such as CSVs, using SQLFlow.</li>
</ul>

<ul>
<li>Sources
<ul>
<li> Kafka Consumer using consumer groups</li>
<li> Websocket input (for consuming bluesky firehose)</li>
<li> HTTP (for webhooks)</li>
</ul>
</li>
<li>Sinks
<ul>
<li> Kafka Producer</li>
<li> Stdout</li>
<li> Postgres</li>
<li> Local Disk</li>
<li> S3</li>
</ul>
</li>
<li>Serialization
<ul>
<li> JSON Input</li>
<li> JSON Output</li>
<li> Parquet Output</li>
</ul>
</li>
<li>Handlers
<ul>
<li> Memory Persistence</li>
<li> Disk Persistence</li>
</ul>
</li>
<li> CSV Static Files for joinging static data during processing</li>
<li> Tumbling Window Aggregations</li>
<li> Observability Metrics</li>
</ul>


<p dir="auto"><a href="https://hub.docker.com/r/turbolytics/sql-flow" rel="nofollow">Docker is the easiest way to get started.</a></p>
<ul dir="auto">
<li>Pull the sql-flow docker image</li>
</ul>
<div data-snippet-clipboard-copy-content="docker pull turbolytics/sql-flow:latest"><pre><code>docker pull turbolytics/sql-flow:latest
</code></pre></div>
<ul dir="auto">
<li>Validate config by invoking it on test data</li>
</ul>
<div data-snippet-clipboard-copy-content="docker run -v $(PWD)/dev:/tmp/conf -v /tmp/sqlflow:/tmp/sqlflow turbolytics/sql-flow:latest dev invoke /tmp/conf/config/examples/basic.agg.yml /tmp/conf/fixtures/simple.json

[&#39;{&#34;city&#34;:&#34;New York&#34;,&#34;city_count&#34;:28672}&#39;, &#39;{&#34;city&#34;:&#34;Baltimore&#34;,&#34;city_count&#34;:28672}&#39;]"><pre><code>docker run -v $(PWD)/dev:/tmp/conf -v /tmp/sqlflow:/tmp/sqlflow turbolytics/sql-flow:latest dev invoke /tmp/conf/config/examples/basic.agg.yml /tmp/conf/fixtures/simple.json

[&#39;{&#34;city&#34;:&#34;New York&#34;,&#34;city_count&#34;:28672}&#39;, &#39;{&#34;city&#34;:&#34;Baltimore&#34;,&#34;city_count&#34;:28672}&#39;]
</code></pre></div>
<ul dir="auto">
<li>Start kafka locally using docker</li>
</ul>
<div data-snippet-clipboard-copy-content="docker-compose -f dev/kafka-single.yml up -d"><pre><code>docker-compose -f dev/kafka-single.yml up -d
</code></pre></div>
<ul dir="auto">
<li>Publish test messages to kafka</li>
</ul>
<div data-snippet-clipboard-copy-content="python3 cmd/publish-test-data.py --num-messages=10000 --topic=&#34;topic-local-docker&#34;"><pre><code>python3 cmd/publish-test-data.py --num-messages=10000 --topic=&#34;topic-local-docker&#34;
</code></pre></div>
<ul dir="auto">
<li>Start kafka consumer from inside docker-compose container</li>
</ul>
<div data-snippet-clipboard-copy-content="docker exec -it kafka1 kafka-console-consumer --bootstrap-server=kafka1:9092 --topic=output-local-docker"><pre><code>docker exec -it kafka1 kafka-console-consumer --bootstrap-server=kafka1:9092 --topic=output-local-docker
</code></pre></div>
<ul dir="auto">
<li>Start SQLFlow in docker</li>
</ul>
<div data-snippet-clipboard-copy-content="docker run -v $(PWD)/dev:/tmp/conf -v /tmp/sqlflow:/tmp/sqlflow turbolytics/sql-flow:latest run /tmp/conf/config/local.docker.yml"><pre><code>docker run -v $(PWD)/dev:/tmp/conf -v /tmp/sqlflow:/tmp/sqlflow turbolytics/sql-flow:latest run /tmp/conf/config/local.docker.yml
</code></pre></div>
<ul dir="auto">
<li>Verify output in the kafka consumer</li>
</ul>
<div data-snippet-clipboard-copy-content="...
...
{&#34;city&#34;:&#34;San Francisco504&#34;,&#34;city_count&#34;:1}
{&#34;city&#34;:&#34;San Francisco735&#34;,&#34;city_count&#34;:1}
{&#34;city&#34;:&#34;San Francisco533&#34;,&#34;city_count&#34;:1}
{&#34;city&#34;:&#34;San Francisco556&#34;,&#34;city_count&#34;:1}"><pre><code>...
...
{&#34;city&#34;:&#34;San Francisco504&#34;,&#34;city_count&#34;:1}
{&#34;city&#34;:&#34;San Francisco735&#34;,&#34;city_count&#34;:1}
{&#34;city&#34;:&#34;San Francisco533&#34;,&#34;city_count&#34;:1}
{&#34;city&#34;:&#34;San Francisco556&#34;,&#34;city_count&#34;:1}
</code></pre></div>
<p dir="auto">The <code>dev invoke</code> command enables testing a SQLFlow pipeline configuration on a batch of test data. This enables fast feedback local development before launching a SQLFlow consumer that reads from kafka.</p>

<p dir="auto">The heart of SQLFlow is the pipeline configuration file. Each configuration file specifies:</p>
<ul dir="auto">
<li>Kafka configuration</li>
<li>Pipeline configuration
<ul dir="auto">
<li><strong>Source</strong>: Input configuration</li>
<li><strong>Handler</strong>: SQL transformation</li>
<li><strong>Sink</strong>: Output configuration</li>
</ul>
</li>
</ul>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/151242797/399307572-66834849-b266-42f7-a125-7cbbb318d470.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5MzA3NTcyLTY2ODM0ODQ5LWIyNjYtNDJmNy1hMTI1LTdjYmJiMzE4ZDQ3MC5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05Yzk3YmJhZmNjZTdkMjMxNGU5Nzg5MjFlNjhjOTFmZTI5YjY4NGI5MzBmZWZiN2JkMjgwM2M1ODI4OWUxMTU0JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.LIDd2yn41pfNIe_Sb7Sj8n793gpcSvXKiaaJp7EBSg4"><img width="1085" alt="Screenshot 2024-12-30 at 9 08 57â€¯AM" src="https://private-user-images.githubusercontent.com/151242797/399307572-66834849-b266-42f7-a125-7cbbb318d470.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5MzA3NTcyLTY2ODM0ODQ5LWIyNjYtNDJmNy1hMTI1LTdjYmJiMzE4ZDQ3MC5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05Yzk3YmJhZmNjZTdkMjMxNGU5Nzg5MjFlNjhjOTFmZTI5YjY4NGI5MzBmZWZiN2JkMjgwM2M1ODI4OWUxMTU0JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.LIDd2yn41pfNIe_Sb7Sj8n793gpcSvXKiaaJp7EBSg4"/></a>
<p dir="auto">Every instance of SQLFlow needs a pipeline configuration file.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Consuming Bluesky Firehose</h2><a id="user-content-consuming-bluesky-firehose" aria-label="Permalink: Consuming Bluesky Firehose" href="#consuming-bluesky-firehose"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">SQLFlow supports DuckDB over websocket. Running SQL against the <a href="https://docs.bsky.app/docs/advanced-guides/firehose" rel="nofollow">Bluesky firehose</a> is a simple configuration file:</p>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/151242797/399472299-86a46875-3cfa-46d3-ab08-1457c29115d9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5NDcyMjk5LTg2YTQ2ODc1LTNjZmEtNDZkMy1hYjA4LTE0NTdjMjkxMTVkOS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05MDU4MzQ2OTM4MmQ3MzZhNGVmYzk4ZDE0YjA5NjQyMGQwYjY4MDdlMzllYmQ0M2M5ZjIzM2IyZTliNDllNDJlJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.ZMHjsmxud0OCMPuRSTeo9cxhwMXRe7YxLiwz-FORZiQ"><img width="1280" alt="bluesky firehose config" src="https://private-user-images.githubusercontent.com/151242797/399472299-86a46875-3cfa-46d3-ab08-1457c29115d9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5NDcyMjk5LTg2YTQ2ODc1LTNjZmEtNDZkMy1hYjA4LTE0NTdjMjkxMTVkOS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05MDU4MzQ2OTM4MmQ3MzZhNGVmYzk4ZDE0YjA5NjQyMGQwYjY4MDdlMzllYmQ0M2M5ZjIzM2IyZTliNDllNDJlJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.ZMHjsmxud0OCMPuRSTeo9cxhwMXRe7YxLiwz-FORZiQ"/></a>
<p dir="auto">Invoke sql-flow using the configuration listed above:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/151242797/399471760-185c6453-debc-439a-a2b9-ed20fdc82851.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5NDcxNzYwLTE4NWM2NDUzLWRlYmMtNDM5YS1hMmI5LWVkMjBmZGM4Mjg1MS5naWY_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1lM2MyMThjNmIzM2UzZWZkNTgzN2JkNGM2YTVjZGVkZDk2ZDFmOWZkM2UyMDJkNmUzOGFkZjAwZmJjNjk1Y2M5JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.uDeQdfYtNy_Fg3HhIjYTOFqS1yFWfPUHOEdm9BLqlOI"><img src="https://private-user-images.githubusercontent.com/151242797/399471760-185c6453-debc-439a-a2b9-ed20fdc82851.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzU5NjgwMDgsIm5iZiI6MTczNTk2NzcwOCwicGF0aCI6Ii8xNTEyNDI3OTcvMzk5NDcxNzYwLTE4NWM2NDUzLWRlYmMtNDM5YS1hMmI5LWVkMjBmZGM4Mjg1MS5naWY_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwNFQwNTE1MDhaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1lM2MyMThjNmIzM2UzZWZkNTgzN2JkNGM2YTVjZGVkZDk2ZDFmOWZkM2UyMDJkNmUzOGFkZjAwZmJjNjk1Y2M5JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.uDeQdfYtNy_Fg3HhIjYTOFqS1yFWfPUHOEdm9BLqlOI" alt="output" data-animated-image=""/></a></p>
<p dir="auto"><a href="https://github.com/turbolytics/sql-flow/tree/main/dev/config/examples/bluesky">Checkout the configuration files here</a></p>

<p dir="auto">Coming Soon, until then checkout:</p>
<ul dir="auto">
<li><a href="https://github.com/turbolytics/sql-flow/blob/main/benchmark">Benchmark configurations</a></li>
<li><a href="https://github.com/turbolytics/sql-flow/blob/main/tests">Unit Test configurations</a></li>
</ul>
<div dir="auto"><h4 tabindex="-1" dir="auto">Running multiple SQLFlow instances on the same filesystem</h4><a id="user-content-running-multiple-sqlflow-instances-on-the-same-filesystem" aria-label="Permalink: Running multiple SQLFlow instances on the same filesystem" href="#running-multiple-sqlflow-instances-on-the-same-filesystem"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Verifying a configuration locally</h4><a id="user-content-verifying-a-configuration-locally" aria-label="Permalink: Verifying a configuration locally" href="#verifying-a-configuration-locally"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<ul dir="auto">
<li>Install python deps</li>
</ul>
<div data-snippet-clipboard-copy-content="pip install -r requirements.txt
pip install -r requirements.dev.txt

C_INCLUDE_PATH=/opt/homebrew/Cellar/librdkafka/2.3.0/include LIBRARY_PATH=/opt/homebrew/Cellar/librdkafka/2.3.0/lib pip install confluent-kafka"><pre><code>pip install -r requirements.txt
pip install -r requirements.dev.txt

C_INCLUDE_PATH=/opt/homebrew/Cellar/librdkafka/2.3.0/include LIBRARY_PATH=/opt/homebrew/Cellar/librdkafka/2.3.0/lib pip install confluent-kafka
</code></pre></div>
<ul dir="auto">
<li>Run tests</li>
</ul>


<p dir="auto">The following table shows the performance of different test scenarios:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Name</th>
<th>Throughput</th>
<th>Max RSS Memory</th>
<th>Peak Memory Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Simple Aggregation Memory</td>
<td>45,000 msgs / sec</td>
<td>230 MiB</td>
<td>130 MiB</td>
</tr>
<tr>
<td>Simple Aggregation Disk</td>
<td>36,000 msgs / sec</td>
<td>256 MiB</td>
<td>102 MiB</td>
</tr>
<tr>
<td>Enrichment</td>
<td>13,000 msgs /sec</td>
<td>368 MiB</td>
<td>124 MiB</td>
</tr>
<tr>
<td>CSV Disk Join</td>
<td>11,500 msgs /sec</td>
<td>312 MiB</td>
<td>152 MiB</td>
</tr>
<tr>
<td>CSV Memory Join</td>
<td>33,200 msgs / sec</td>
<td>300 MiB</td>
<td>107 MiB</td>
</tr>
<tr>
<td>In Memory Tumbling Window</td>
<td>44,000 msgs / sec</td>
<td>198 MiB</td>
<td>96 MiB</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><a href="https://github.com/turbolytics/sql-flow/wiki/Benchmarks">More information about benchmarks are available in the wiki</a>.</p>

<p dir="auto">Like SQLFlow? Use SQLFlow? Feature Requests? Please let us know! <a href="mailto:danny@turbolytics.io">danny@turbolytics.io</a></p>
</article></div></div>
  </body>
</html>
