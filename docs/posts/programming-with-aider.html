<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://slinkp.com/programming-with-aider-20250725.html">Original</a>
    <h1>programming with Aider</h1>
    
    <div id="readability-page-1" class="page"><div>
              <p>Impression so far after programming mainly with <a href="https://aider.chat" rel="nofollow">Aider</a>
for 4 days in March, using version 0.77 ... and then again in July using 0.80.2.</p>
<h2 id="usability"><a href="#usability" rel="nofollow">Usability</a><a href="#usability" title="Permanent link" rel="nofollow">¶</a></h2>
<p>I like the workflow of using this command line combined with an editor
of choice.</p>
<p>I like that it always has the latest state of my code without having to be
nudged to refresh files (unlike Cursor).</p>
<p>It mostly seemed to generate decent code in 0.77 (mostly using Claude 3.7
sonnet) and 0.80.2 (using Claude 4 sonnet and Qwen 3 Coder).</p>
<p>So far, I have never gotten into a &#34;bug loop&#34; like my frequent experience with
Cursor (eg fixed problem 1, introduced problem 2; fixed problem 2, introduced
problem 3; fixed problem 3 by re-introducing problem 1, etc)</p>
<p>Managing which files get included as context is a bit more hassle;
lots of manual /add and /remove</p>
<h3 id="too-many-changes-at-once-unreadable-diff-format"><a href="#too-many-changes-at-once-unreadable-diff-format" rel="nofollow">Too many changes at once, unreadable diff format</a><a href="#too-many-changes-at-once-unreadable-diff-format" title="Permanent link" rel="nofollow">¶</a></h3>
<p>Showing much bigger suggestions than I can digest is my biggest usability complaint.</p>
<p>Diffs displayed seem very large, much harder to review than Cursor.
I don&#39;t see much in the docs about tweaking this.
For example, if modifying a method, it seems to show the entire old
method body, then the entire new method body. It&#39;s the least readable diff
format of any tool I use. I need to figure out how to fix this.
It seems to vary with the model used. Example:</p>
<div><pre><span></span><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; SEARCH
def setup_colored_logging():
<span> </span>   # Initialize colorama
<span> </span>   colorama.init()

<span> </span>   # Set up handler with our custom formatter
<span> </span>   handler = logging.StreamHandler()
<span> </span>   handler.setFormatter(ColoredFormatter(&#34;%(levelname)-8s %(name)s: %(message)s&#34;))

<span> </span>   # Configure root logger
<span> </span>   root_logger = logging.getLogger()
<span> </span>   # Remove any existing handlers
<span> </span>   for h in root_logger.handlers[:]:
<span> </span>       root_logger.removeHandler(h)
<span> </span>   # Add our handler
<span> </span>   root_logger.addHandler(handler)
<span> </span>   root_logger.setLevel(logging.INFO)
<span>=======</span>
def setup_colored_logging():
<span> </span>   # Initialize colorama
<span> </span>   colorama.init()

<span> </span>   # Set up handler with our custom formatter
<span> </span>   handler = logging.StreamHandler()
<span> </span>   handler.setFormatter(ColoredFormatter(&#34;%(levelname)-8s %(name)s: %(message)s&#34;))

<span> </span>   # Configure root logger
<span> </span>   root_logger = logging.getLogger()
<span> </span>   # Remove only StreamHandler instances (console handlers), keep file handlers
<span> </span>   for h in root_logger.handlers[:]:
<span> </span>       if isinstance(h, logging.StreamHandler) and not isinstance(h, logging.handlers.RotatingFileHandler):
<span> </span>           root_logger.removeHandler(h)
<span> </span>   # Add our colored console handler
<span> </span>   root_logger.addHandler(handler)
<span> </span>   root_logger.setLevel(logging.INFO)
&gt;&gt;&gt;&gt;&gt;&gt;&gt; REPLACE
</code></pre></div>

<p>Maybe I just ignore those and step out of aider to read the changes?</p>
<p>Worse: It seems not all my instructions in <a href="http://CONVENTIONS.md" rel="nofollow">CONVENTIONS.md</a> are actually followed.</p>
<p>I told it to &#34;always make the smallest change possible to achieve the goal&#34; and yet it
does big multi-file changes.</p>
<p>Even telling it explicitly in the chat to make the minimum possible change
resulted in a commit that contained:
- a new button in html
- a handler for that button in js
- a new endpoint in the backend to support that
- a new task type for the backend to enqueue</p>
<p>I would have broken that into AT LEAST separate frontend and backend commits.
Pretty much every time it says &#34;I&#39;ll do X...&#34; and then later &#34;Now let&#39;s add...&#34;
I&#39;d like those to be separate commits.</p>
<h3 id="i-do-not-like-aider-committing-my-stuff-in-general"><a href="#i-do-not-like-aider-committing-my-stuff-in-general" rel="nofollow">I do not like Aider committing my stuff, in general</a><a href="#i-do-not-like-aider-committing-my-stuff-in-general" title="Permanent link" rel="nofollow">¶</a></h3>
<p>I might have to turn off the <code>auto-commits: true</code> setting.</p>
<p>For one thing, as mentioned it puts too much into a commit.</p>
<p>For another thing, commit message quality and style is very inconsistent.
Can I teach it what I like? For example, here&#39;s one:</p>
<div><pre><span></span><code><span>Author</span><span>:</span><span> </span><span>Paul</span><span> </span><span>Winkler</span><span> </span><span>(</span><span>aider</span><span>)</span><span> </span><span>&lt;</span><span>slinkp</span><span>@</span><span>gmail</span><span>.</span><span>com</span><span>&gt;</span>
<span>Date</span><span>:</span><span>   </span><span>Sun</span><span> </span><span>Mar</span><span> </span><span>16</span><span> </span><span>22</span><span>:</span><span>40</span><span>:</span><span>03</span><span> </span><span>2025</span><span> </span><span>-</span><span>0400</span>

<span>    </span><span>Based</span><span> </span><span>on</span><span> </span><span>the</span><span> </span><span>changes</span><span> </span><span>we</span><span>&#39;ve made, here&#39;</span><span>s</span><span> </span><span>a</span><span> </span><span>commit</span><span> </span><span>message</span><span> </span><span>that</span><span> </span><span>summarizes</span><span> </span><span>the</span><span> </span><span>modifications</span><span>:</span>

<span>    </span><span>feat</span><span>:</span><span> </span><span>Update</span><span> </span><span>RecruiterMessage</span><span> </span><span>date</span><span> </span><span>to</span><span> </span><span>use</span><span> </span><span>UTC</span><span> </span><span>datetime</span>
</code></pre></div>

<p>Uh, thanks for the commit message telling me it&#39;s a commit message.</p>
<p>Or this one, even worse as it was clearly intended to be a message for me - not
a commit message - and includes no information about the committed changes at all:</p>
<div><pre><span></span><code><span>Author</span><span>:</span><span> </span><span>Paul</span><span> </span><span>Winkler</span><span> </span><span>(</span><span>aider</span><span>)</span><span> </span><span>&lt;</span><span>slinkp</span><span>@</span><span>gmail</span><span>.</span><span>com</span><span>&gt;</span>
<span>Date</span><span>:</span><span>   </span><span>Mon</span><span> </span><span>Mar</span><span> </span><span>17</span><span> </span><span>14</span><span>:</span><span>31</span><span>:</span><span>54</span><span> </span><span>2025</span><span> </span><span>-</span><span>0400</span>

<span>    </span><span>I</span><span> </span><span>see</span><span> </span><span>you</span><span>&#39;ve added some files to the chat. Could you list out the specific files you&#39;</span><span>ve</span><span> </span><span>added</span><span>?</span><span> </span><span>I</span><span> </span><span>want</span><span> </span><span>to</span><span> </span><span>make</span><span> </span><span>sure</span><span> </span><span>I</span><span> </span><span>understand</span><span> </span><span>the</span><span> </span><span>context</span><span> </span><span>and</span><span> </span><span>can</span><span> </span><span>provide</span><span> </span><span>the</span><span> </span><span>most</span><span> </span><span>accurate</span><span> </span><span>implementation</span><span>.</span>

<span>    </span><span>Typically</span><span>,</span><span> </span><span>for</span><span> </span><span>a</span><span> </span><span>Python</span><span> </span><span>project</span><span>,</span><span> </span><span>I</span><span>&#39;d want to see:</span>
<span>    1. The main script</span>
<span>    2. Any test files</span>
<span>    3. Configuration files</span>
<span>    4. Requirements/dependencies file</span>

<span>    Could you list out the files you&#39;</span><span>ve</span><span> </span><span>added</span><span>?</span>
</code></pre></div>

<p><code>/undo</code> is a good command to know about; it both reverts an Aider commit
and tells aider i&#39;ve done so.</p>
<p>(Update: This is less useful when it rapidly does a substantive change
followed by another commit containing only linter fixes. But two /undo in a row
works.)</p>
<h3 id="setting-up-linters"><a href="#setting-up-linters" rel="nofollow">Setting up linters</a><a href="#setting-up-linters" title="Permanent link" rel="nofollow">¶</a></h3>
<p>I found this a bit unclear in the docs.
The linter syntax is:</p>
<div><pre><span></span><code><span># Example:</span>
<span># lint-cmd: &#34;language: command args...&#34;</span>

<span>lint-cmd</span><span>:</span><span> </span><span>&#34;python:</span><span> </span><span>./black-flake8-mypy&#34;</span>
</code></pre></div>

<p>So I made a little script that does all of the tools I want:</p>
<div><pre><span></span><code><span>#!/usr/bin/env bash</span>

<span>echo</span><span> </span>Black...
black<span> </span><span>$*</span>
<span>echo</span><span> </span>Flake8...
flake8<span> </span><span>$*</span><span> </span><span># || exit 1</span>
<span>echo</span><span> </span>Mypy...
mypy<span> </span><span>$*</span><span> </span><span>||</span><span> </span><span>exit</span><span> </span><span>1</span>
</code></pre></div>

<h3 id="todo-lint-and-test-before-commit"><a href="#todo-lint-and-test-before-commit" rel="nofollow">Todo: Lint and test BEFORE commit</a><a href="#todo-lint-and-test-before-commit" title="Permanent link" rel="nofollow">¶</a></h3>
<p>I&#39;m not sure how to configure this. Aider is committing, then running the
linter (which reformats automatically), THEN running tests, then a separate
commit of the format fixes.
I&#39;d like it to run tests and lint BEFORE committing.</p>
<p>Maybe I just do this via normal git hooks, and don&#39;t expect Aider to do it?</p>

<p>I was getting rate limited a lot. And it&#39;s expensive on Claude. If I was using this daily
I&#39;d want to get good at knowing when to use cheaper models.
I spent $10 in one day of programming, most of that in
&#34;/code&#34; mode (not /architect mode). It sent over 4 million input tokens on that day!</p>
<h2 id="looking-for-a-cheaper-model-trying-qwen-3-coder"><a href="#looking-for-a-cheaper-model-trying-qwen-3-coder" rel="nofollow">Looking for a cheaper model: Trying Qwen 3 Coder</a><a href="#looking-for-a-cheaper-model-trying-qwen-3-coder" title="Permanent link" rel="nofollow">¶</a></h2>
<p>Unlike Claude code, but like Cursor, Aider supports multiple models.  One
really nice thing is they publish a
<a href="https://aider.chat/docs/leaderboards/" rel="nofollow">leaderboard</a> which gives at least some idea of
which models work well (at least for the kinds of tasks measured) AND what they
cost to complete the benchmark, anywhere from pennies to nearly $200
(that was for <code>o1-2024-12-17 (high)</code>)</p>
<p>Via OpenRouter, <a href="https://openrouter.ai/qwen/qwen3-coder" rel="nofollow">https://openrouter.ai/qwen/qwen3-coder</a>
Start it like this:
<code>aider --model openrouter/qwen/qwen3-coder</code></p>
<p>It&#39;s definitely a lot cheaper than sonnet, but it&#39;s also (today) vastly
slower...
Several times I&#39;ve thought it was hung a few times.</p>
<p>I first suspected based on the provider page that it was the Deepinfra provider
struggling, since I seemed to get routed there (at the time of writing this it
was by far the cheapest provider).
But even after I removed that from my config I got very slow
responses; sometimes 5-10 minutes to generate a single 50-line diff!</p>
<p>At one point I did Ctrl-C and said &#34;looks like you were hung, try again&#34;; I&#39;m
not sure but this may have been what got us into a state where it nuked most of the
content of the file it was trying to work on, and committed that (without asking
me)!</p>
<p>Overall, Q3C seems to do a fine job at things where I&#39;m content to walk away and
do something else while it works.</p>
<p>Here&#39;s a ~ 6 minute demo video, where I told it to fix a github issue (about adding
permalinks to various parts of a SPWA). 
I paused the recording many times while nothing was visually
updating... the actual elapsed time was about 20 minutes!</p>
<p><img src="https://slinkp.com/programming-with-aider-20250725/aider-q3c-demo.gif" alt="Aider Qwen 3 Coder Demo"/>
</p>
            </div></div>
  </body>
</html>
