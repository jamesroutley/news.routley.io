<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://extism.org/blog/announcing-extism/">Original</a>
    <h1>Extism: Make all software programmable with WebAssembly</h1>
    
    <div id="readability-page-1" class="page"><div id="post-content" itemprop="articleBody"><h3 id="hello-world">Hello, World!<a href="#hello-world" title="Direct link to heading">​</a></h3><p>Today, we are excited to officially announce <a href="https://github.com/extism/extism" target="_blank" rel="noopener noreferrer"><strong>Extism</strong></a>, the
universal plug-in system. Over the past few months, we have focused on building an embeddable, safe,
performant runtime that is as easy to use from as many programs as possible. Extism brings
extensibility to software of all shapes and sizes in a way which we believe to have been previously
unacheivable. </p><p>Extism&#39;s goal is simple: <strong>make all software programmable</strong>. We&#39;ve released the project under the
permissive BSD-3 license, and you can see all of its components on <a href="https://github.com/extism" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><p><img loading="lazy" alt="Extism, universal plug-in system" src="https://extism.org/assets/images/extism-language-support-4b7d5a652d1afc0fb0f2e61db32ca13e.png" width="1000" height="929"/></p><h3 id="being-universal">Being &#34;Universal&#34;<a href="#being-universal" title="Direct link to heading">​</a></h3><p>The power of a plug-in system is that it enables software end-users to dream up new capabilities
and functionality of a program, which the original authors couldn&#39;t foresee, or didn&#39;t want to add
to the core of a product. Keeping programs as simple as possible often leads to higher quality,
better performance, and easier maintainability. It&#39;s important to us that software creators using
<em>any</em> language have the same opportunity to have these benefits, and also be able to give their
users rich extensibility. </p><p>As of today, Extism can be easily embedded into <strong>13 languages</strong>, using our official SDKs:</p><p>Embed Extism into any of your projects: web apps (using our <a href="https://extism.org/docs/integrate-into-your-codebase/browser-runtime-sdk">browser runtime</a>),
databases, API servers, command-line apps, smart TVs, IoT, SaaS... you name it! Extism meets your
code wherever it&#39;s at.</p><p>Extism, at its core, is a code runtime built in <a href="https://rust-lang.org" target="_blank" rel="noopener noreferrer">Rust</a>. Underneath the hood,
we run <a href="https://webassembly.org" target="_blank" rel="noopener noreferrer">WebAssembly</a> code as the plug-in execution format. This makes it
safe to execute untrusted, 3rd party plug-in code even while it&#39;s directly embedded within the same
OS process as your program. WebAssembly has a battle-tested sandbox isolation architecture, and is
in use across the software industry from browsers, edge platforms, cloud environments, and more.
In addition to its security benefits, WebAssembly is a compilation target that is already supported
by many different programming languages. This enables plug-in authors to use the language that they
prefer to write their plug-in, and as of today, Extism plug-ins can be written in <strong>5 languages</strong>,
using our official plug-in development kits (PDKs):</p><p>We plan to add more language support to our SDKs and PDKs over the coming months &amp; years, so if you
don&#39;t see your favorite language listed above, please <a href="https://discord.gg/cx3usBCWnc" target="_blank" rel="noopener noreferrer">join our Discord</a>
or <a href="https://github.com/extism/extism/issues" target="_blank" rel="noopener noreferrer">file and issue</a> and we can prioritize it or help you
contribute!</p><h3 id="how-we-built-it">How We Built It<a href="#how-we-built-it" title="Direct link to heading">​</a></h3><p>Staying true to our goal to <em>make all software programmable</em>, we knew Extism would need to be
embedded into several languages. It needs to be able to go <em>anywhere</em>. Other projects with similar
goals like <code>sqlite</code> or <code>openssl</code>, are low-level system components exposed to a multitude of language
environments through <a href="https://en.wikipedia.org/wiki/Foreign_function_interface" target="_blank" rel="noopener noreferrer">FFI</a>,
the <em>foreign function interface</em>. Extism is no different. Choosing Rust was an obvious choice to
help build a reliable and performance-sensitive core runtime, and with Rust&#39;s fantastic FFI support,
we could expose <a href="https://extism.org/docs/concepts/runtime-apis">runtime APIs</a> which can be called from almost any
language used today. </p><p>All of our official SDKs provide idiomatic wrappers over bindings to Extism, so users will feel
right at home working within a language they know and love. </p><p>The runtime is only half of the equation though. What about plug-in authors? What kind of features
and functionality should they get from the runtime? How do we expose these features to the plug-in
environment? This is where WebAssembly really shines. Providing a standard ABI to WebAssembly
modules is very straightforward thanks to its simple import/export architecture. Extism defines a
set of functions which are linked from the host runtime to the <code>.wasm</code> module when it is instantiated,
and our PDKs provide idiomatic wrappers over bindings to these native functions. From a <code>.wasm</code>
module&#39;s perspective, these functions are &#34;imports&#34;, provided to it from its host. Some of these
include the ability for plug-ins to make network calls via HTTP, persist variables in between plug-in
invocations, read host configuration data, and most importantly read &amp; write complex data between
the host and plug-in. </p><p>In addition to the imports provided by Extism, a host can elect to enable <a href="https://wasi.dev" target="_blank" rel="noopener noreferrer"><code>WASI</code></a>
and offer plug-ins a rich POSIX-like system interface, which allows many existing codebases and
libraries to be compiled to <code>.wasm</code> modules and used within a plug-in. It&#39;s important to keep
safety and security in mind, and as such, we&#39;ve decided to hold off on enabling direct disk/filesystem
access from plug-ins, and instead opt for a more explicit requirement to pass file data in and out
of a plug-in directly. We&#39;re experimenting with approaches here and would appreciate your feedback.</p><h3 id="lets-see-some-code">Let&#39;s See Some Code<a href="#lets-see-some-code" title="Direct link to heading">​</a></h3><p>Head over to the <a href="https://extism.org/docs/category/integrate-into-your-codebase">SDK documentation</a> for dozens of
examples of embedding Extism into all of our supported host languages, or if you&#39;re interested in
compiling plug-ins to WebAssembly, check out many examples in the <a href="https://extism.org/docs/category/write-a-plug-in">PDK documentation</a>
for plug-in code in each supported language. </p><p>As a fully open-source project, we also invite you to head to our <a href="https://github.com/extism/extism" target="_blank" rel="noopener noreferrer">GitHub repository</a>
and see how everything works. In the main repository, you will find all of the runtime code as well
as each of the host SDKs. Each PDK is split into its own repository within the <a href="https://github.com/extism" target="_blank" rel="noopener noreferrer">Extism GitHub Organization</a>.</p><p>For a quick glance at some simple examples, see below:</p><h4 id="nodejs-host-sdk-example">Node.js Host SDK Example<a href="#nodejs-host-sdk-example" title="Direct link to heading">​</a></h4><div><p>index.js</p><div><pre tabindex="0"><code><span><span>const</span><span> </span><span>{</span><span> withContext</span><span>,</span><span> </span><span>Context</span><span> </span><span>}</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>&#39;@extism/extism&#39;</span><span>)</span><span>;</span><span></span><br/></span><span><span></span><span>const</span><span> </span><span>{</span><span> readFileSync </span><span>}</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>&#39;fs&#39;</span><span>)</span><span>;</span><span></span><br/></span><span><span></span><br/></span><span><span></span><span>withContext</span><span>(</span><span>async</span><span> </span><span>function</span><span> </span><span>(</span><span>context</span><span>)</span><span> </span><span>{</span><span></span><br/></span><span><span>  </span><span></span><br/></span><span><span>  </span><span>let</span><span> wasm </span><span>=</span><span> </span><span>readFileSync</span><span>(</span><span>&#39;../wasm/code.wasm&#39;</span><span>)</span><span>;</span><span></span><br/></span><span><span>  </span><span></span><br/></span><span><span>  </span><span>let</span><span> plugin </span><span>=</span><span> context</span><span>.</span><span>plugin</span><span>(</span><span>wasm</span><span>)</span><span>;</span><span></span><br/></span><span><span></span><br/></span><span><span>  </span><span></span><br/></span><span><span>  </span><span></span><br/></span><span><span>  </span><span>let</span><span> buf </span><span>=</span><span> </span><span>await</span><span> plugin</span><span>.</span><span>call</span><span>(</span><span>&#39;count_vowels&#39;</span><span>,</span><span> </span><span>&#39;this could be any data!&#39;</span><span>)</span><span>;</span><span></span><br/></span><span><span></span><br/></span><span><span>  </span><span></span><br/></span><span><span>  </span><span>console</span><span>.</span><span>log</span><span>(</span><span>buf</span><span>.</span><span>toString</span><span>(</span><span>)</span><span>)</span><span>;</span><span></span><br/></span><span><span></span><br/></span><span><span>  </span><span></span><br/></span><span><span>  p</span><span>.</span><span>free</span><span>(</span><span>)</span><span>;</span><span></span><br/></span><span><span></span><span>}</span><span>)</span><span>;</span><br/></span></code></pre></div></div><h4 id="go-plugin-pdk-example">Go Plugin PDK Example<a href="#go-plugin-pdk-example" title="Direct link to heading">​</a></h4><div><p>main.go</p><div><pre tabindex="0"><code><span><span>package</span><span> main</span><br/></span><span><span></span><br/></span><span><span></span><span>import</span><span> </span><span>(</span><span></span><br/></span><span><span>    </span><span>&#34;fmt&#34;</span><span></span><br/></span><span><span></span><br/></span><span><span>    </span><span>&#34;github.com/extism/go-pdk&#34;</span><span></span><br/></span><span><span></span><span>)</span><span></span><br/></span><span><span></span><br/></span><span><span></span><span></span><br/></span><span><span></span><span>func</span><span> </span><span>count_vowels</span><span>(</span><span>)</span><span> </span><span>int32</span><span> </span><span>{</span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    input </span><span>:=</span><span> pdk</span><span>.</span><span>Input</span><span>(</span><span>)</span><span></span><br/></span><span><span></span><br/></span><span><span>    count </span><span>:=</span><span> </span><span>0</span><span></span><br/></span><span><span>    </span><span>for</span><span> </span><span>_</span><span>,</span><span> a </span><span>:=</span><span> </span><span>range</span><span> input </span><span>{</span><span></span><br/></span><span><span>        </span><span>switch</span><span> a </span><span>{</span><span></span><br/></span><span><span>        </span><span>case</span><span> </span><span>&#39;A&#39;</span><span>,</span><span> </span><span>&#39;I&#39;</span><span>,</span><span> </span><span>&#39;E&#39;</span><span>,</span><span> </span><span>&#39;O&#39;</span><span>,</span><span> </span><span>&#39;U&#39;</span><span>,</span><span> </span><span>&#39;a&#39;</span><span>,</span><span> </span><span>&#39;e&#39;</span><span>,</span><span> </span><span>&#39;i&#39;</span><span>,</span><span> </span><span>&#39;o&#39;</span><span>,</span><span> </span><span>&#39;u&#39;</span><span>:</span><span></span><br/></span><span><span>            count</span><span>++</span><span></span><br/></span><span><span>        </span><span>default</span><span>:</span><span></span><br/></span><span><span>        </span><span>}</span><span></span><br/></span><span><span>    </span><span>}</span><span></span><br/></span><span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    </span><span>if</span><span> pdk</span><span>.</span><span>GetVar</span><span>(</span><span>&#34;a&#34;</span><span>)</span><span> </span><span>==</span><span> </span><span>nil</span><span> </span><span>{</span><span></span><br/></span><span><span>        pdk</span><span>.</span><span>SetVar</span><span>(</span><span>&#34;a&#34;</span><span>,</span><span> </span><span>[</span><span>]</span><span>byte</span><span>(</span><span>&#34;this is var a&#34;</span><span>)</span><span>)</span><span></span><br/></span><span><span>    </span><span>}</span><span></span><br/></span><span><span>    varA </span><span>:=</span><span> pdk</span><span>.</span><span>GetVar</span><span>(</span><span>&#34;a&#34;</span><span>)</span><span></span><br/></span><span><span>    </span><br/></span><span><span>    </span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    thing</span><span>,</span><span> ok </span><span>:=</span><span> pdk</span><span>.</span><span>GetConfig</span><span>(</span><span>&#34;thing&#34;</span><span>)</span><span></span><br/></span><span><span>    </span><span>if</span><span> </span><span>!</span><span>ok </span><span>{</span><span></span><br/></span><span><span>        thing </span><span>=</span><span> </span><span>&#34;&lt;unset by host&gt;&#34;</span><span></span><br/></span><span><span>    </span><span>}</span><span></span><br/></span><span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    output </span><span>:=</span><span> fmt</span><span>.</span><span>Sprintf</span><span>(</span><span>&#34;Counted %d vowels!&#34;</span><span>,</span><span> count</span><span>)</span><span></span><br/></span><span><span>    mem </span><span>:=</span><span> pdk</span><span>.</span><span>AllocateString</span><span>(</span><span>output</span><span>)</span><span></span><br/></span><span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    pdk</span><span>.</span><span>OutputMemory</span><span>(</span><span>mem</span><span>)</span><span></span><br/></span><span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    </span><span>return</span><span> </span><span>0</span><span></span><br/></span><span><span></span><span>}</span><br/></span></code></pre></div></div><h3 id="whats-next">What&#39;s Next?<a href="#whats-next" title="Direct link to heading">​</a></h3><p>Over the coming weeks and months, we plan on working with interested users and incorporating feedback,
adding more language support wherever possible, and expanding our documentation and demos for users
to learn from. Your input is critical and always appreciated, so please <a href="https://discord.gg/cx3usBCWnc" target="_blank" rel="noopener noreferrer">join us on Discord</a>
where we hang out and chat. Use each repository&#39;s issue tracker to file any experience report or bug
you encounter. No feedback is too small, and we thank you for the time it takes to help us make
Extism as great as it can be!</p><h4 id="spread-the-word">Spread the word!<a href="#spread-the-word" title="Direct link to heading">​</a></h4><ul><li>Discuss on <a href="https://news.ycombinator.com/item?id=33816186" target="_blank" rel="noopener noreferrer">Hacker News</a></li><li>Share on <a href="https://www.twitter.com/share?text=Extism%3A%20make%20all%20software%20programmable&amp;url=https://extism.org/blog/announcing-extism&amp;hashtags=WebAssembly,wasm" target="_blank" rel="noopener noreferrer">Twitter</a></li><li>Star the project on <a href="https://github.com/extism/extism" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul></div></div>
  </body>
</html>
