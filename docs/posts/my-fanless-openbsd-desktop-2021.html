<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://jcs.org/2021/07/19/desktop">Original</a>
    <h1>My Fanless OpenBSD Desktop (2021)</h1>
    
    <div id="readability-page-1" class="page"><article>
	<header>
			
		
		<p>
			posted on jul 19th, 2021
				with tags
				<a href="https://jcs.org/tagged/hardware">hardware</a>
					and
					
				
				<a href="https://jcs.org/tagged/openbsd">openbsd</a>, and last updated on jan 26th, 2022
		</p>
	</header>

	
	<p>After the disappointment of my
<a href="https://jcs.org/2021/01/27/x1nano">X1 Nano</a>
and learning that all future Intel &#34;Evo&#34;-branded laptops would lack S3 suspend,
I started thinking about returning to my M1 MacBook full-time or building an
OpenBSD desktop.
I chose the latter, building my first desktop machine in many years.</p>



<h2 id="table-of-contents">Table of Contents</h2>

<ol id="markdown-toc">
  <li><a href="#architecture" id="markdown-toc-architecture">Architecture</a></li>
  <li><a href="#monitor" id="markdown-toc-monitor">Monitor</a></li>
  <li><a href="#case" id="markdown-toc-case">Case</a></li>
  <li><a href="#cpu-and-motherboard" id="markdown-toc-cpu-and-motherboard">CPU and Motherboard</a></li>
  <li><a href="#ram-and-ssd" id="markdown-toc-ram-and-ssd">RAM and SSD</a></li>
  <li><a href="#keyboard-and-mouse" id="markdown-toc-keyboard-and-mouse">Keyboard and Mouse</a></li>
  <li><a href="#openbsd" id="markdown-toc-openbsd">OpenBSD</a></li>
  <li><a href="#temperatures" id="markdown-toc-temperatures">Temperatures</a></li>
</ol>

<h2 id="architecture">Architecture</h2>

<p>I briefly considered an arm64 CPU and motherboard, but the hardware support of
OpenBSD/arm64 is not yet reliable enough for my daily use and the lead-time for
ordering a
<a href="https://twitter.com/bluerise/status/1352587849359568898">HoneyComb LX2</a>
was many weeks out.</p>

<p>I decided to go with an amd64 system since the OpenBSD/amd64 platform is very
mature and I know it quite well.
Beyond that, my only requirements for my new desktop were:</p>

<ul>
  <li>Excellent OpenBSD support</li>
  <li>Fanless with no coil whine</li>
  <li>A high-resolution, small monitor (more on that later)</li>
</ul>

<p>Ever since reading
<a href="https://fabiensanglard.net/the_beautiful_machine/index.html">Fabien Sanglard&#39;s writeup</a>
about building a system with a
<a href="https://streacom.com/products/db4-fanless-mini-itx-case/">Streacom DB4 case</a>,
I knew I wanted that case in particular since it looks beautiful and could
passively cool a 65W processor.</p>

<h2 id="monitor">Monitor</h2>

<p>After the case, the next component I chose was the monitor.
In retrospect, this would make everything else more complicated, but I am pretty
picky about the screens in the laptops that I buy, so I wanted to make sure my
desktop display was of high quality.</p>

<p>I&#39;ve always chosen smaller (&lt;= 14&#34;) laptop screens since I find too much
horizontal space distracting.
I prefer to separate tasks with virtual desktops rather than have everything on
one giant screen.
I wanted a smaller monitor that I could have closer to me, lower on my desk and
angled slightly upward like a laptop screen.</p>

<p>In addition to good image reproduction, I needed a monitor with a high
resolution that could display Firefox in 1.5x or 2x mode
(<code>layout.css.devPixelsPerPx</code>).
While not an absolute requirement, integrated speakers would be a nice option on
the monitor so I wouldn&#39;t have to buy separate ones and find a place for them on
my desk.</p>

<p>After some research, I chose the
<a href="https://www.lg.com/us/monitors/lg-22MD4KA-B-4k-uhd-led-monitor">LG UltraFine 21.5&#34; IPS LED
monitor</a>
with a resolution of 4096x2304.
This particular version of the LG UltraFine is no longer being produced, but the
newer 24&#34; version was larger but had a smaller resolution (3840x2160), and the
newer 5K model (5120x2880) requires Thunderbolt.
I found a 21.5&#34; version on eBay that was in great condition in the original box.</p>

<p>Since the LG UltraFine had a VESA mount option, I purchased an
<a href="https://amzn.to/3ivzmgP">Ergotron LX monitor arm</a>
to be able to position the monitor however I wanted on my desk.</p>

<center>
<a href="https://jcs.org/images/2021-07-19-monitor_arm-large.jpg"><img src="https://jcs.org/images/2021-07-19-monitor_arm-335x194.jpg" srcset="/images/2021-07-19-monitor_arm-335x194.jpg 1x, /images/2021-07-19-monitor_arm-670x388@2x.jpg 2x" width="335" height="194" alt="LG UltraFine monitor attached to Ergotron LX monitor arm"/></a>
<a href="https://jcs.org/images/2021-07-19-side-large.jpg"><img src="https://jcs.org/images/2021-07-19-side-335x194.jpg" srcset="/images/2021-07-19-side-335x194.jpg 1x, /images/2021-07-19-side-670x388@2x.jpg 2x" width="335" height="194" alt="Side profile of monitor positioning"/></a>
</center>

<p>After some testing with the monitor once I got it, I realized that using it with
a desktop system might be difficult because it uses a single USB-C
(non-Thunderbolt) cable for its display and audio, but it also has a 3-port
USB-C hub on the back of it and its brightness controls and ambient light sensor
also connect over that single USB-C cable.</p>

<p>This all works by using the USB-C cable for data as usual but it sends the
screen data over
<a href="https://www.benq.com/en-us/knowledge-center/knowledge/usb-c-introduction-what-is-dp-alt-mode.html">DisplayPort</a>
using dedicated pins of the USB-C cable (&#34;Alt Mode&#34;).
This requires that the computer it&#39;s connecting to have a USB-C port that can
break out those pins and route them to the DisplayPort signal of the GPU while
also handling the data devices of the USB-C connection.
Using an external GPU (&#34;video card&#34; back in my day) would be difficult because
even if it had a USB-C connector (most just have HDMI and/or DisplayPort), it
would need to somehow route the data from that cable back to the computer as USB
data since the GPU is only talking DisplayPort.</p>

<p>I didn&#39;t quite figure out how to do all of this until after I had already
purchased the motherboard and CPU, but eventually I got it working using a
<a href="https://dancharblog.wordpress.com/2020/07/20/add-usb-c-with-dp-alt-mode-to-your-desktop-pc/">Sunix
upd2018</a>
card (actually a Dell-branded version of it) which is a PCI USB-C card with a
DisplayPort-out port.
The monitor&#39;s USB-C cable is plugged into the PCI card, which then breaks out
the DisplayPort out to an external connector and the USB-C data routes through
the PCI connection as a normal USB-C card.
Then a 
<a href="https://amzn.to/3ipjCvD">short DisplayPort cable</a>
is used to connect between the PCI card and the motherboard/GPU DisplayPort
connector.</p>

<div><div><pre><code>xhci0 at pci1 dev 0 function 0 &#34;ASMedia ASM1042AE xHCI&#34; rev 0x00: msi, xHCI 1.10
usb0 at xhci0: USB revision 3.0
uhub0 at usb0 configuration 1 interface 0 &#34;ASMedia xHCI root hub&#34; rev 3.00/1.00 addr 1
</code></pre></div></div>

<p>The monitor&#39;s brightness controls and ambient light sensor are available through
USB HID devices, and its integrated speakers work through <code>uaudio</code> as expected:</p>

<div><div><pre><code>uhub5 at uhub0 port 3 configuration 1 interface 0 &#34;LG Electronics Inc. USB2.1 Hub&#34; rev 2.10/52.26 addr 2
uhub6 at uhub5 port 4 configuration 1 interface 0 &#34;LG USA product 0x9a48&#34; rev 2.00/88.32 addr 3
uaudio0 at uhub6 port 1 configuration 1 interface 1 &#34;LG Electronics Inc. USB Audio&#34; rev 2.00/0.2f addr 4
uaudio0: class v1, high-speed, sync, channels: 2 play, 0 rec, 3 ctls
audio1 at uaudio0
uhub6: device problem, disabling port 2
uhidev0 at uhub6 port 4 configuration 1 interface 0 &#34;LG Electronics Inc. USB Controls&#34; rev 2.00/3.04 addr 5
uhidev0: iclass 3/0
uhid0 at uhidev0: input=64, output=64, feature=8
uhidev1 at uhub6 port 4 configuration 1 interface 1 &#34;LG Electronics Inc. USB Controls&#34; rev 2.00/3.04 addr 5
uhidev1: iclass 3/0
uhid1 at uhidev1: input=4, output=0, feature=6
uhidev2 at uhub6 port 4 configuration 1 interface 2 &#34;LG Electronics Inc. USB Controls&#34; rev 2.00/3.04 addr 5
uhidev2: iclass 3/0
uhid2 at uhidev2: input=6, output=0, feature=13
</code></pre></div></div>

<p>I&#39;m still not sure why that port 2 gets disabled on the monitor&#39;s internal hub
(not the 3-port hub on the back of it) but it doesn&#39;t seem to affect anything.</p>

<h2 id="case">Case</h2>

<p>I already had my heart set on the
<a href="https://www.quietpcusa.com/Streacom-DB4-Fanless-Chassis">Streacom DB4 fanless
case</a>,
though I waffled a bit between the black and titanium colors before choosing
black.
The case as-is can dissipate enough heat for a 65W processor, though Streacom
offers a separate heat-pipe add-on that can support up to 110W.</p>

<p>I purchased a
<a href="https://www.quietpcusa.com/Streacom-ST-ZF240-ZeroFlex-240W-PSU">Streacom ST-ZF240 ZeroFlex 240W
PSU</a>
because it was also fanless.
I&#39;ve used a
<a href="https://www.quietpcusa.com/Streacom-160W-nanoPSU-and-AC/DC-adapter-block">nanoPSU</a>
before but heard coil whine from it so I didn&#39;t want to go that route again.</p>

<p>I didn&#39;t quite appreciate how large and heavy the DB4 case is until it arrived.
Fully assembled with everything in it, it weighs over 20 pounds and has a
footprint of 10&#34;x10&#34;x11&#34;.</p>

<p>The main bulk of the case is held up 2&#34; off the surface by two large feet, which
only leaves 2&#34; between the motherboard and my table.
This makes it a bit difficult to plug in certain cables like a DisplayPort cable
with a large connector, but my desk has a grommet in the corner where the case
sits so the majority of the cables can pass straight down through the desk.</p>

<p><a href="https://jcs.org/images/2021-07-19-bottom-large.jpg"><img src="https://jcs.org/images/2021-07-19-bottom-680x386.jpg" srcset="/images/2021-07-19-bottom-680x386.jpg 1x, /images/2021-07-19-bottom-1360x772@2x.jpg 2x" width="680" height="386"/></a></p>

<h2 id="cpu-and-motherboard">CPU and Motherboard</h2>

<p>Since I&#39;ve been pretty unhappy with Intel products lately, I decided to go with
an AMD processor.
I&#39;ve never had one before so I wasn&#39;t very familiar with the lineup, but I
wanted one with integrated graphics to avoid buying an external GPU since I
wouldn&#39;t have room with the DisplayPort/USB-C card and because most external
GPUs put out a ton of heat and/or have fans.
I also needed a processor with a TDP of 65W or less to stay under the Streacom
case&#39;s limits.</p>

<p><a href="https://jcs.org/images/2021-07-19-ryzen-large.jpg"><img src="https://jcs.org/images/2021-07-19-ryzen-680x339.jpg" srcset="/images/2021-07-19-ryzen-680x339.jpg 1x, /images/2021-07-19-ryzen-1360x678@2x.jpg 2x" width="680" height="339"/></a></p>

<p>I decided on the AMD Ryzen 7 Pro 4750G 4Ghz 8-core processor with integrated
Radeon Graphics.
Technically this CPU is not supposed to be sold to end-users, but it&#39;s
<a href="https://amzn.to/36M6dbH">available on Amazon</a>
which was good enough for me.</p>

<div><div><pre><code>cpu0: AMD Ryzen 7 PRO 4750G with Radeon Graphics, 4000.51 MHz, 17-60-01
cpu0: FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,CFLUSH,MMX,FXSR,SSE,SSE2,HTT,SSE3,PCLMUL,MWAIT,SSSE3,FMA3,CX16,SSE4.1,SSE4.2,MOVBE,POPCNT,AES,XSAVE,AVX,F16C,RDRAND,NXE,MMXX,FFXSR,PAGE1GB,RDTSCP,LONG,LAHF,CMPLEG,SVM,EAPICSP,AMCR8,ABM,SSE4A,MASSE,3DNOWP,OSVW,IBS,SKINIT,TCE,TOPEXT,CPCTR,DBKP,PCTRL3,MWAITX,ITSC,FSGSBASE,BMI1,AVX2,SMEP,BMI2,PQM,RDSEED,ADX,SMAP,CLFLUSHOPT,CLWB,SHA,UMIP,IBPB,IBRS,STIBP,SSBD,XSAVEOPT,XSAVEC,XGETBV1,XSAVES
cpu0: 32KB 64b/line 8-way I-cache, 32KB 64b/line 8-way D-cache, 512KB 64b/line 8-way L2 cache
cpu0: ITLB 64 4KB entries fully associative, 64 4MB entries fully associative
cpu0: DTLB 64 4KB entries fully associative, 64 4MB entries fully associative
[...]
cpu15 at mainbus0: apid 15 (application processor)
cpu15: AMD Ryzen 7 PRO 4750G with Radeon Graphics, 4000.01 MHz, 17-60-01
[...]
</code></pre></div></div>

<p>Once I had the CPU picked out, I looked for a motherboard.
I&#39;ve been out of the custom PC game for many years, but I was disappointed at
how every non-server motherboard seems to be targeted towards gamers with all
kinds of stupid flashing LEDs and aggressive branding.
Beyond supporting the AM4-socketed Ryzen 4750G, my requirements for the
motherboard were just that it have Intel gigabit ethernet (for optimum OpenBSD
support), at least one M.2 socket for an NVMe drive, and have both HDMI (just in
case) and DisplayPort ports.</p>

<p>Eventually I settled on the
<a href="https://amzn.to/3kx6APl">ASUS ROG Strix X570-I</a>.
The stupid RGB LEDs can be disabled in the BIOS/firmware menu by setting &#34;AURA&#34;
to &#34;Stealth Mode&#34;, and I unplugged the two 1&#34; fans on the I/O board to keep
everything silent.
I also had to set the &#34;CPU Fan Speed&#34; in the &#34;Monitor&#34; section to &#34;Ignore&#34;, or
else it would indicate a fan error at every boot since I had none plugged in.</p>

<p>While I don&#39;t intend to use them, its onboard WiFi and sound work fine in
OpenBSD:</p>

<div><div><pre><code>iwx0 at pci4 dev 0 function 0 &#34;Intel Wi-Fi 6 AX200&#34; rev 0x1a, msix
[...]
azalia1 at pci10 dev 0 function 6 &#34;AMD 17h/1xh HD Audio&#34; rev 0x00: apic 18 int 12
azalia1: codecs: Realtek ALC1220
audio0 at azalia1
</code></pre></div></div>

<p>As does its ethernet port:</p>

<div><div><pre><code>em0 at pci5 dev 0 function 0 &#34;Intel I211&#34; rev 0x03: msi, address 7c:10:c9:[...]
</code></pre></div></div>

<h2 id="ram-and-ssd">RAM and SSD</h2>

<p>I purchased
<a href="https://amzn.to/3BeCqXf">Crucial 16Gb DDR4 3200Mhz RAM</a>
in a single DIMM in case I want to upgrade to 32Gb later.
Again, what&#39;s with all the RGB lighting and over-the-top heatsinks on the
&#34;gamer&#34; RAM chips?</p>

<p>I installed a Samsung 980 Pro 1Tb NVMe SSD which I already had.
The ASUS motherboard has two m.2 slots; one on the top which is underneath a
large heatsink, and one on the bottom of the motherboard.</p>

<h2 id="keyboard-and-mouse">Keyboard and Mouse</h2>

<p>I&#39;m not big into mechanical keyboards (aside from the one on my
<a href="https://jcs.org/2018/03/20/dolch64">Dolch PAC 64</a>)
but after seeing
<a href="https://www.youtube.com/watch?v=SPVboP_Fvgo">LGR&#39;s video</a>
about the
<a href="https://www.pcgamingrace.com/products/glorious-gmmk-pro-75-barebone-black">Glorious GMMK
Pro</a>
75% keyboard, I decided to go with that one for my desktop.
I like that it&#39;s very solid and small, but still includes arrow keys and a nice
rotary knob.
I also share LGR&#39;s opinion that the Glorious branding is stupid and
over-the-top, but luckily it&#39;s just on the bottom of the keyboard so I only ever
had to see it once taking it out of the box.</p>

<p>I opted for a black shell, aluminum switch plate, lubed (lol) Glorious Panda
switches, and a
<a href="https://pimpmykeyboard.com/dsa-dolch-keyset-two-shot/">&#34;Dolch&#34; DSA keycap set</a>
that I already had from years back.</p>

<p><a href="https://jcs.org/images/2021-07-19-keyboard-large.jpg"><img src="https://jcs.org/images/2021-07-19-keyboard-680x321.jpg" srcset="/images/2021-07-19-keyboard-680x321.jpg 1x, /images/2021-07-19-keyboard-1360x642@2x.jpg 2x" width="680" height="321"/></a></p>

<p>The switches have a nice tactile feel without being too loud.
Also as Clint noted in his video, the space bar occasionally sticks.
I&#39;m not sure if this will fix itself over time.</p>

<p>Configuration of the keys and lighting of the keyboard has to be done with a
<a href="https://www.pcgamingrace.com/pages/glorious-core?core=GMMK%20PRO">Windows-only piece of
software</a>,
so I booted to my Windows-on-a-USB-stick and installed it.
As with the motherboard, I disabled all RGB lighting on the
keyboard.
It would have been nice to have a subtle white backlighting on the keys like my
laptops, but the GMMK Pro&#39;s white RGB lights look blue when at a low brightness.
I reconfigured the keymap to put a permanent Control key where Caps Lock usually
is (as I would do otherwise with <code>xmodmap</code>) and put Delete in the upper right
corner, although I rarely need it.</p>

<p><strong>Update (2022-01-26):</strong> I&#39;ve been informed that the GMMK Pro is supported by the
popular
<a href="https://github.com/qmk/qmk_firmware/tree/master/keyboards/gmmk/pro">QMK Firmware</a>
which allows configuration under non-Windows operating systems.</p>

<p>I will probably need to get a wrist rest because my wrists hurt after just a
couple days of typing on it due to the height of the keys.
I&#39;m used to typing on laptop keyboards which are only a few millimeters above
the surface of my desk, so my wrists are usually at a much flatter angle.
For this reason I&#39;ve also been using a
<a href="https://amzn.to/3xSq05i">ThinkPad Compact USB Keyboard</a>
which feels just like a ThinkPad.
My only complaint about this keyboard is that the plastic case can be creaky at
times.
If someone could reproduce the case in aluminum, I&#39;d pay you many dollars.</p>

<center>
<a href="https://jcs.org/images/2021-07-19-thinkpad-large.jpg"><img src="https://jcs.org/images/2021-07-19-thinkpad-335x158.jpg" srcset="/images/2021-07-19-thinkpad-335x158.jpg 1x, /images/2021-07-19-thinkpad-670x316@2x.jpg 2x" width="335" height="158"/></a>
<a href="https://jcs.org/images/2021-07-19-mice-large.jpg"><img src="https://jcs.org/images/2021-07-19-mice-335x147.jpg" srcset="/images/2021-07-19-mice-335x147.jpg 1x, /images/2021-07-19-mice-670x294@2x.jpg 2x" width="335" height="147"/></a>
</center>

<p>As for my mouse, I&#39;m not a gamer so I don&#39;t need something with 35 buttons on
it.
I had been using a
<a href="https://amzn.to/2Un65Nq">Lenovo N50 wireless mouse</a>
for many years with my laptop and I like its design a lot, but its mouse click
and especially its scroll wheel click are very loud.
I recently switched to a
<a href="https://amzn.to/3isJmYf">Logitech M355</a>
because it&#39;s nearly silent.
It uses a wireless USB dongle which I have plugged into the back of the monitor.</p>

<div><div><pre><code>uhidev2 at uhub5 port 2 configuration 1 interface 0 &#34;Logitech USB Receiver&#34; rev 2.00/30.00 addr 4
uhidev2: iclass 3/1
ums1 at uhidev2: 16 buttons, Z and W dir
wsmouse1 at ums1 mux 0
uhidev3 at uhub5 port 2 configuration 1 interface 1 &#34;Logitech USB Receiver&#34; rev 2.00/30.00 addr 4
uhidev3: iclass 3/0, 17 report ids
uhid5 at uhidev3 reportid 3: input=4, output=0, feature=0
uhidpp0 at uhidev3 reportid 16 device 1 mouse &#34;M355&#34; serial e6-4f-59-05
</code></pre></div></div>

<p>Its battery status is available via the <code>uhidpp</code> driver:</p>

<div><div><pre><code>$ sysctl hw.sensors.uhidpp0
hw.sensors.uhidpp0.raw0=4 (battery levels)
hw.sensors.uhidpp0.percent0=90.00% (battery level), OK
</code></pre></div></div>

<p>My mousepad is some very thin piece of cloth/rubber that I don&#39;t remember where
I got, but I like it because it&#39;s quiet and has no logos on it.</p>

<h2 id="openbsd">OpenBSD</h2>

<p>Of course my system wouldn&#39;t be usable to me if I couldn&#39;t run OpenBSD on it.</p>

<p>When I first booted OpenBSD on the system, once the <code>amdgpu</code> KMS driver took
over from <code>efifb</code>, the system would hang (even with a lower-resolution HDMI
monitor connected).
After playing with random BIOS options, I discovered that the BIOS&#39;s CSM needs
to be enabled for some reason.
Even though the system still boots via EFI instead of legacy booting through the
CSM, having the CSM enabled does something not-yet-understood that enables the
video to work properly.</p>

<p>This would get the system to boot, but the LG UltraFine display would go blank
(though the backlight was still on) once <code>amdgpu</code> took over.
I SSH&#39;d in and did an <code>xinit</code>, and then was able to change the resolution from
4096x2304@60Hz to 4096x2304@48Hz.
I&#39;m not sure if this is a bandwidth issue somewhere between the GPU, the
DisplayPort, the cable, or some software issue.
To work around this, I added a
<a href="https://github.com/jcs/openbsd-src/commit/e529589c95e80a9487927e40a02cc608baad3ab3">quirk</a>
to prefer the 4096x2304@48Hz rate in the monitor&#39;s EDID.</p>

<p>Since the LG UltraFine exposes a USB HID device to control its brightness, I
<a href="https://github.com/jcs/openbsd-src/commit/c42e01c96df77fb113167b08509b76fd33d6521c">wrote a driver</a>
to attach to it and expose the brightness adjustment through <code>wsconsctl
display.brightness</code>.</p>

<div><div><pre><code>$ dmesg | grep ulguf
ulguf0 at uhub6 port 4 configuration 1 interface 0 &#34;LG Electronics Inc. USB Controls&#34; rev 2.00/3.04 addr 7

$ wsconsctl display.brightness
display.brightness=50.00%
$ wsconsctl display.brightness=20
display.brightness -&gt; 20.00%
</code></pre></div></div>

<p>I still need to add support for reading the ambient light sensor and exposing it
through <code>sysctl hw.sensors</code>, which I can then use with something like my
<a href="https://github.com/jcs/xdimmer">xdimmer</a>
to automatically dim the screen at night.</p>

<p>To route sound through the monitor&#39;s speakers by default, I have made it use
<code>rsnd/1</code> by default, which maps to <code>audio1</code>, via <code>uaudio0</code>.</p>

<div><div><pre><code>$ dmesg | grep uaudio
uaudio0 at uhub6 port 1 configuration 1 interface 1 &#34;LG Electronics Inc. USB Audio&#34; rev 2.00/0.2f addr 6
uaudio0: class v1, high-speed, sync, channels: 2 play, 0 rec, 3 ctls
audio1 at uaudio0

$ grep sndiod_flags /etc/rc.conf.local
sndiod_flags=-f rsnd/1
</code></pre></div></div>

<p>Since some people have asked, the window manager shown in my photos above is my
<a href="https://github.com/jcs/sdorfehs">sdorfehs</a>
which is a fork of ratpoison.</p>

<p>Other than the quirks with my monitor, OpenBSD works well on this motherboard
and CPU.</p>

<h2 id="temperatures">Temperatures</h2>

<p>CPU temperature can be monitored in OpenBSD with the <code>ksmn</code> driver:</p>

<div><div><pre><code>$ sysctl hw.sensors.ksmn0
hw.sensors.ksmn0.temp0=54.25 degC
</code></pre></div></div>

<p>Through a <code>make -j8 build</code> of the system maxing out all cores, the CPU
temperature tops out at about 90 °C with the case reaching about 45 °C
(113 °F).
The hottest point is, of course, where the heat pipes attach to the case wall:</p>

<center>
<a href="https://jcs.org/images/2021-07-19-flir-large.jpg"><img src="https://jcs.org/images/2021-07-19-flir-505x378.jpg" srcset="/images/2021-07-19-flir-505x378.jpg 1x, /images/2021-07-19-flir-1010x756@2x.jpg 2x" width="505" height="378"/></a>
</center>

</article></div>
  </body>
</html>
