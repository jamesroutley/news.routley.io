<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://deno.com/blog/v1.26">Original</a>
    <h1>Deno 1.26 Release Notes</h1>
    
    <div id="readability-page-1" class="page"><div><p><a href="https://github.com/denoland/deno/releases/tag/v1.26.0" rel="noopener noreferrer">Deno 1.26</a> has been
tagged and released with the following new features and changes:</p>
<ul>
<li><a href="#cache-web-api"><code>Cache</code> Web API</a></li>
<li><a href="#webcrypto-secure-curves">WebCrypto Secure Curves</a></li>
<li><a href="#--allow-sys-permission-flag"><code>--allow-sys</code> permission flag</a></li>
<li><a href="#improvements-to-npm-support">Improvements to npm support</a></li>
<li><a href="#nodejs-compatibility-improvements">Node.js compatibility improvements</a></li>
<li><a href="#changes-to-deno-apis">Changes to <code>Deno</code> APIs</a></li>
<li><a href="#improvements-to-denoserve-api">Improvements to <code>Deno.serve()</code> API</a></li>
<li><a href="#performance-improvements">Performance improvements</a></li>
<li><a href="#improved-module-download-ui">Improved module download UI</a></li>
<li><a href="#developer-experience-improvements">Developer experience improvements</a></li>
<li><a href="#typescript-48">TypeScript 4.8</a></li>
</ul>
<p>If you already have Deno installed, you can upgrade to 1.26 by running:</p>
<p>If you are installing Deno for the first time:</p>
<div><pre>

<span>curl</span> -fsSL https://deno.land/x/install/install.sh <span>|</span> <span>sh</span>


iwr https://deno.land/x/install/install.ps1 -useb <span>|</span> iex</pre></div><p><a href="https://github.com/denoland/deno_install" rel="noopener noreferrer">Click here</a> for more installation
options.</p>
<h2 id="cache-web-api"><a aria-hidden="true" tabindex="-1" href="#cache-web-api"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Cache</code> Web API</h2><p>We added support for the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache" rel="noopener noreferrer">Cache API</a> in this
release.</p>
<p>The API allows you to cache Request/Response objects. This is helpful when you
dynamically generate responses. It allows you to cache a response for a GET
request and serve response from the cache for similar requests.</p>
<p>Here&#39;s a small example that generates response based on <code>name</code> query:</p>
<div><pre><span>import</span> <span>{</span> serve <span>}</span> <span>from</span> <span>&#34;https://deno.land/std@0.158.0/http/server.ts&#34;</span><span>;</span>


<span>const</span> <span>CACHE</span> <span>=</span> <span>await</span> caches<span>.</span><span>open</span><span>(</span><span>&#34;v1&#34;</span><span>)</span><span>;</span>

<span>serve</span><span>(</span><span>async</span> <span>(</span>req<span>:</span> Request<span>)</span> <span>=&gt;</span> <span>{</span>
  
  <span>const</span> res <span>=</span> <span>await</span> <span>CACHE</span><span>.</span><span>match</span><span>(</span>req<span>)</span><span>;</span>
  <span>if</span> <span>(</span>res<span>)</span> <span>{</span>
    res<span>.</span>headers<span>.</span><span>set</span><span>(</span><span>&#34;x-cache-hit&#34;</span><span>,</span> <span>&#34;true&#34;</span><span>)</span><span>;</span>
    <span>return</span> res<span>;</span>
  <span>}</span>

  <span>const</span> <span>{</span> searchParams <span>}</span> <span>=</span> <span>new</span> <span><span>URL</span></span><span>(</span>req<span>.</span>url<span>)</span><span>;</span>
  <span>const</span> name <span>=</span> searchParams<span>.</span><span>get</span><span>(</span><span>&#34;name&#34;</span><span>)</span><span>;</span>
  <span>const</span> response <span>=</span> <span>new</span> <span>Response</span><span>(</span><span><span>`</span><span>Hello </span><span><span>${</span>name<span>}</span></span><span>!</span><span>`</span></span><span>)</span><span>;</span>
  
  <span>await</span> <span>CACHE</span><span>.</span><span>put</span><span>(</span>req<span>,</span> response<span>.</span><span>clone</span><span>(</span><span>)</span><span>)</span><span>;</span>
  <span>return</span> response<span>;</span>
<span>}</span><span>)</span><span>;</span></pre></div><p>The cache is persisted to the file system. So restarting Deno will not flush the
cache.</p>
<p>The following APIs are implemented:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/open" rel="noopener noreferrer"><code>CacheStorage::open()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/has" rel="noopener noreferrer"><code>CacheStorage::has()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/delete" rel="noopener noreferrer"><code>CacheStorage::delete()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/match" rel="noopener noreferrer"><code>Cache::match()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/put" rel="noopener noreferrer"><code>Cache::put()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete" rel="noopener noreferrer"><code>Cache::delete()</code></a></li>
</ul>
<p>Few things that are different compared to browsers:</p>
<ol>
<li>You cannot pass relative paths to the APIs. The request can be an instance of
Request or URL or a url string.</li>
<li><code>match()</code> &amp; <code>delete()</code> don&#39;t support <a href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions" rel="noopener noreferrer">query options</a> yet.</li>
</ol>
<h2 id="webcrypto-secure-curves"><a aria-hidden="true" tabindex="-1" href="#webcrypto-secure-curves"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>WebCrypto Secure Curves</h2><p>The <a href="https://github.com/WICG/webcrypto-secure-curves" rel="noopener noreferrer">WebCrypto Secure Curves</a>
specification adds support for
<a href="https://www.rfc-editor.org/rfc/rfc7748" rel="noopener noreferrer">Curve25519 and Curve448</a> to the
WebCrypto API.</p>
<p>Deno v1.26 implements the CFRG curves Ed25519 and X25519.</p>
<div><pre><span>const</span> key <span>=</span> <span>await</span> crypto<span>.</span>subtle<span>.</span><span>generateKey</span><span>(</span><span>&#34;X25519&#34;</span><span>,</span> <span>true</span><span>,</span> <span>[</span><span>&#34;deriveKey&#34;</span><span>]</span><span>)</span><span>;</span></pre></div><p>We plan to add support for Ed448 and X448 in future releases.</p>
<h2 id="--allow-sys-permission-flag"><a aria-hidden="true" tabindex="-1" href="#--allow-sys-permission-flag"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>--allow-sys</code> permission flag</h2><p>Deno has a number of APIs that provide information about user&#39;s operating
system, eg. <code>Deno.osRelease()</code>, <code>Deno.systemMemoryInfo()</code>.</p>
<p>Previously access to these APIs required the <code>--allow-env</code> flag, which was
unfortunate as it meant you had to grant permission to read all environment
variables in order to access information about the OS.</p>
<p>Deno v1.26 introduces a new <code>--allow-sys</code> permission flag, that guards access to
these APIs, which means you no longer need to also make your environment
variables available.</p>
<p>The following APIs require the <code>--allow-sys</code> flag:</p>
<ul>
<li><code>Deno.hostname()</code></li>
<li><code>Deno.networkInterfaces()</code></li>
<li><code>Deno.loadavg()</code></li>
<li><code>Deno.getUid()</code></li>
<li><code>Deno.getGid()</code></li>
<li><code>Deno.osRelease()</code></li>
<li><code>Deno.systemMemoryInfo()</code></li>
</ul>
<p>Similarly to other permission flags, you can grant access to APIs granularly by
providing an allow list of APIs, eg. <code>--allow-sys=hostname,osRelease</code>.</p>
<h2 id="improvements-to-npm-support"><a aria-hidden="true" tabindex="-1" href="#improvements-to-npm-support"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Improvements to npm support</h2><p>This release fixes a lot of bugs related to npm specifiers and adds several new
features. Support for npm modules is still experimental and requires the
<code>--unstable</code> flag.</p>
<h3 id="--node-modules-dir-flag"><a aria-hidden="true" tabindex="-1" href="#--node-modules-dir-flag"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>--node-modules-dir</code> flag</h3><p>npm specifiers resolve npm packages to a central global npm cache. This works
well in most cases and is ideal since it uses less space and doesn&#39;t require a
<code>node_modules</code> directory. That said, you may find cases where an npm package
expects itself to be executing from a <code>node_modules</code> directory. To improve
compatibility and support those packages, a new <code>--node-modules-dir</code> flag has
been added.</p>
<p>For example, given main.ts:</p>
<div><pre><span>import</span> chalk <span>from</span> <span>&#34;npm:chalk@5&#34;</span><span>;</span>

<span>console</span><span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span>&#34;Hello&#34;</span><span>)</span><span>)</span><span>;</span></pre></div><p>Running this script with a <code>--node-modules-dir</code> like so...</p>
<pre><code>deno run --unstable --node-modules-dir main.ts</code></pre><p>...will create a <code>node_modules</code> folder in the current directory with a similar
folder structure to <a href="https://pnpm.io/symlinked-node-modules-structure" rel="noopener noreferrer">pnpm</a>.</p>
<p><img src="https://deno.com/v1.26/node_modules_dir.png" alt="Screenshot showing a node_modules directory with the chalk package"/></p>
<p>Note that this is all done automatically when calling <code>deno run</code> and there is no
separate install command necessary.</p>
<p>In the case where you want to modify the contents of the <code>node_modules</code>
directory before execution, you can run <code>deno cache</code> with <code>--node-modules-dir</code>,
modify the contents, then run the script. For example:</p>
<pre><code>deno cache --unstable --node-modules-dir main.ts
deno run --allow-read=. --allow-write=. scripts/your_script_to_modify_node_modules_dir.ts
deno run --unstable --node-modules-dir main.ts</code></pre><h3 id="--reloadnpm-and---reloadnpmpackage"><a aria-hidden="true" tabindex="-1" href="#--reloadnpm-and---reloadnpmpackage"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>--reload=npm:</code> and <code>--reload=npm:&lt;package&gt;</code></h3><p>The <code>--reload</code> flag reloads external resources that were previously cached. This
release adds more targeted <code>--reload=npm:</code> and <code>--reload=npm:&lt;package&gt;</code> support.</p>
<p>For example, to reload all npm packages use the <code>--reload=npm:</code> flag when
running your script:</p>
<pre><code>deno run --unstable --reload=npm: main.ts</code></pre><p>Or to reload just a single package, such as <code>chalk</code>:</p>
<pre><code>deno run --unstable --reload=npm:chalk main.ts</code></pre><h3 id="--compat-mode-removed"><a aria-hidden="true" tabindex="-1" href="#--compat-mode-removed"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>--compat</code> mode removed</h3><p>In order to not have two separate execution modes, the unstable <code>--compat</code> mode
has been deprecated in favor of npm specifiers.</p>
<h3 id="future-improvements"><a aria-hidden="true" tabindex="-1" href="#future-improvements"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Future improvements</h3><p>We&#39;ll continue working on npm support and land TypeScript &amp; editor integration
within the coming weeks. For our full npm specifier roadmap, see
<a href="https://github.com/denoland/deno/issues/15960" rel="noopener noreferrer">https://github.com/denoland/deno/issues/15960</a></p>
<h2 id="nodejs-compatibility-improvements"><a aria-hidden="true" tabindex="-1" href="#nodejs-compatibility-improvements"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Node.js compatibility improvements</h2><p>Deno v1.26 includes implementations for several previously unsupported APIs in
the Node.js compatibility layer. Additionally, the entire compatibility layer&#39;s
test suite has been updated for compatibility with Node.js v18.8.0. Previously,
the test suite targeted Node.js v16.13.0. This change was made in preparation
for Node.js 18 entering Long Term Support (LTS) in October.</p>
<p>Please note that the entire Node.js compatibility layer still requires the use
of the <code>--unstable</code> flag.</p>
<h3 id="streams-refactoring"><a aria-hidden="true" tabindex="-1" href="#streams-refactoring"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Streams refactoring</h3><p>The Node.js streams implementation in Deno has been updated to use the
<code>readable-stream@4.1.0</code> npm module. This change will allow Deno to better keep
up with breaking changes and new features. For more context on this decision,
please see
<a href="https://r.va.gg/2014/06/why-i-dont-use-nodes-core-stream-module.html" rel="noopener noreferrer">this blog post</a>.</p>
<p>Within the compatibility layer, the <code>stream</code> and <code>stream/promises</code> modules are
now implemented via <code>readable-stream</code>. This refactor also introduces several new
APIs, including <code>Readable.toWeb()</code>, <code>Writable.toWeb()</code>, and <code>Duplex.toWeb()</code>
which are used to convert various types of Node.js streams to Web streams.</p>
<p>The <code>fs.ReadStream</code> and <code>fs.WriteStream</code> implementations have also been updated
to improve compatibility with the implementations in Node.js. Thanks to
<a href="https://github.com/PolarETech" rel="noopener noreferrer">@PolarETech</a> for this work.</p>
<h3 id="child_process-apis"><a aria-hidden="true" tabindex="-1" href="#child_process-apis"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>child_process</code> APIs</h3><p>The <code>child_process</code> module has added support for <code>spawnSync()</code>, <code>exec()</code>,
<code>execSync()</code>, and <code>execFileSync()</code>.</p>
<p>Thanks to <a href="https://github.com/iuioiua" rel="noopener noreferrer">@iuioiua</a> and
<a href="https://github.com/PolarETech" rel="noopener noreferrer">@PolarETech</a> for contributing <code>spawnSync()</code> and
<code>exec()</code>, respectively.</p>
<h3 id="processgetuid-and-processgetgid"><a aria-hidden="true" tabindex="-1" href="#processgetuid-and-processgetgid"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>process.getuid()</code> and <code>process.getgid()</code></h3><p>On non-Windows platforms, the user identifier and group identifier of the
process can be accessed via <code>process.getuid()</code> and <code>process.getgid()</code>. On
Windows this functionality does not exist, and these methods are <code>undefined</code>.</p>
<p>Thanks to <a href="https://github.com/iuioiua" rel="noopener noreferrer">@iuioiua</a> for contributing this feature.</p>
<h2 id="changes-to-deno-apis"><a aria-hidden="true" tabindex="-1" href="#changes-to-deno-apis"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Changes to <code>Deno</code> APIs</h2><h3 id="api-stabilizations"><a aria-hidden="true" tabindex="-1" href="#api-stabilizations"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>API stabilizations</h3><p>The following APIs have been stabilized in this release and no longer require
the <code>--unstable</code> flag to be used.</p>
<ul>
<li><code>Deno.hostname()</code></li>
<li><code>Deno.refTimer()</code></li>
<li><code>Deno.unrefTimer()</code></li>
</ul>
<h3 id="unstable-denostdinsetraw-api"><a aria-hidden="true" tabindex="-1" href="#unstable-denostdinsetraw-api"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Unstable <code>Deno.stdin.setRaw()</code> API</h3><p>In this release, the unstable <code>Deno.setRaw(rid)</code> API has been removed in favor
of <code>Deno.stdin.setRaw()</code>. We plan to stabilize this API in the next minor
release.</p>
<h2 id="improvements-to-denoserve-api"><a aria-hidden="true" tabindex="-1" href="#improvements-to-denoserve-api"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Improvements to <code>Deno.serve()</code> API</h2><p>We received a lot of positive feedback for the new unstable <code>Deno.serve()</code> API
which provides a fast HTTP server.</p>
<p>In this release we fixed several reported bugs like spurious hangs on Windows,
blocking of concurrent requests or partials writes.</p>
<p>We continue to improve our server implementation and want to stabilize this API
in Deno v1.27.</p>
<h2 id="performance-improvements"><a aria-hidden="true" tabindex="-1" href="#performance-improvements"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Performance improvements</h2><p>Over the last few releases, we have been making continual performance
improvements as part of an internal initiative to find bottlenecks and reduce
latency and processing overhead wherever we can. We will be writing about this
work in more detail soon so keep an eye on the blog for updates. In the
meantime, we can share some benchmarks we have done comparing the v1.24.3
release to the latest and greatest in this release.</p>
<p>Text encoding into an existing TypedArray sees a huge 5x improvement in max
throughput for small payloads and up to 30x for larger payloads. See
<a href="https://github.com/denoland/deno/pull/15922" rel="noopener noreferrer">denoland/deno#15922</a>.</p>
<p><img src="https://deno.com/v1.26/encodeInto.png" alt="TextEncoder.encodeInto Performance Improvement"/></p>
<p>Writing a small file is now 1.44x faster for synchronous write
(<code>Deno.writeFileSync()</code>) and 1.15x faster for async (<code>Deno.writeFile()</code>).</p>
<p><img src="https://deno.com/v1.26/writeFile.png" alt="Deno.writeFile Performance Improvement"/></p>
<p>CSV parsing performance regressed recently with a change we made in how we do
our text encoding/decoding. We are working on bigger improvements here but this
release sees a nice bump of 1.36x on Mac and 1.19x on Linux in benchmarks we
have done.</p>
<p><img src="https://deno.com/v1.26/csv.png" alt="CSV Performance Improvement"/></p>
<p>URL parsing is now up to 2.27x faster for Urls with no query string and 1.37x
faster for a more complex Url with multiple query string parameters. See
<a href="https://github.com/denoland/deno/pull/15663" rel="noopener noreferrer">denoland/deno#15663</a>.</p>
<p><img src="https://deno.com/v1.26/url.png" alt="URL Parsing Performance Improvement"/></p>
<p>There have been a number of recent improvements to file system operations with
more to come. This is a summary of the kind of improvements you should see in
this release compared to v1.24.3. On MacOS, <code>Deno.copyFileSync</code> now uses APFS&#39;
copy-on-write <code>clonefile</code> syscall when possible. See
<a href="https://github.com/denoland/deno/pull/15873" rel="noopener noreferrer">denoland/deno#15873</a>.</p>
<p><img src="https://deno.com/v1.26/fs.png" alt="FileSystem Performance Improvement"/></p>
<p><code>console.log()</code> is now 5x faster for small payloads!
<a href="https://github.com/denoland/deno/pull/15931" rel="noopener noreferrer">denoland/deno#15931</a>.</p>
<p><img src="https://deno.com/v1.26/console.png" alt="Console Performance Improvement"/></p>
<p>TTY methods like <code>Deno.consoleSize</code> are up to 2.4x faster compared to v1.24.3.
<a href="https://github.com/denoland/deno/pull/15976" rel="noopener noreferrer">denoland/deno#15976</a>.</p>
<p><img src="https://deno.com/v1.26/tty.png" alt="TTY Performance Improvement"/></p>
<h2 id="improved-module-download-ui"><a aria-hidden="true" tabindex="-1" href="#improved-module-download-ui"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Improved module download UI</h2><p>Deno got a new interactive &#34;Download...&#34; message display.</p>

<p>In non-TTY environments, Deno will fall back to previous way of displaying
&#34;Download ...&#34; on a separate line for each file.</p>
<h2 id="developer-experience-improvements"><a aria-hidden="true" tabindex="-1" href="#developer-experience-improvements"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Developer experience improvements</h2><p>As <a href="https://deno.com/blog/changes" rel="noopener noreferrer">mentioned recently</a> we have been focusing on making Deno the
smoothest developer experience. The past while we have had a team focused on
doing that and one of the areas they have been tackling has been around
discovery. Deno and the wider JavaScript/TypeScript ecosystem is vast and can be
complex to navigate, and we have tried to make it easier for you to find what
you are looking for.</p>
<p>Some of the things we have changed recently to try to make that experience
better have been:</p>
<ul>
<li>An overhaul of the search capability on <a href="https://deno.land/" rel="noopener noreferrer">deno.land</a>
providing searches across the <a href="https://deno.land/manual" rel="noopener noreferrer">manual</a>,
<a href="https://deno.land/x" rel="noopener noreferrer">third party modules</a>, and the ability to search symbols
across the <a href="https://deno.land/api" rel="noopener noreferrer">built-in APIs</a>, the Deno standard library
(<a href="https://deno.land/std" rel="noopener noreferrer"><code>std</code></a>), and all third party modules.</li>
<li>Ranking search results and ordering
<a href="https://deno.land/x" rel="noopener noreferrer">third party module listing on <code>deno.land/x</code></a> by actual
code usage. Previously this was ranked by GitHub stars, which provided a very
skewed view of the Deno third party ecosystem.</li>
<li>Integrated documentation on <code>deno.land</code> for
<a href="https://deno.land/api" rel="noopener noreferrer">built-in APIs</a> categorizing each API to help make
discovering the breadth of built-in capabilities of Deno easier to discover.</li>
<li>An informative landing page and integrated auto-generated documentation for
each third party module. For example checkout out the documentation for
<a href="https://deno.land/x/oak/mod.ts" rel="noopener noreferrer">oak</a>.</li>
<li>Improvements to how the documentation is indexed, discovered, and shared by
search engines and social media. Just improving the search on <code>deno.land</code> may
not benefit everyone trying to discover Deno or attempting to share
information about Deno.</li>
<li>Upped our game in understanding how the Deno ecosystem behaves and is
connected. We have been deep diving into the data available to try to continue
to identify gaps in information and continually improve the discovery
experience.</li>
</ul>
<p>Things that will be coming in the near future:</p>
<ul>
<li>Auto-linking between symbols within documentation, including between symbols
and documentation. This will make it easier to explore a module or API.</li>
<li>A dependency listing for each third party module on the landing page, making
it easier to understand how a third party module is connected.</li>
<li>Provide more information about the popularity, quality, and maintenance of
third party modules.</li>
<li>A view of the npm ecosystem from a Deno perspective, making it easier to
discover and use npm packages in Deno.</li>
<li>An overhaul and restructure of the manual to make the information contained
more clear and relevant to those discovering and exploring Deno.</li>
</ul>
<p>While we have been focused on the discovery aspect recently, we are also forming
plans to re-focus on making the intelligent editor experience even better as
well as improve the experience around the built-in tools within the Deno CLI.</p>
<h2 id="typescript-48"><a aria-hidden="true" tabindex="-1" href="#typescript-48"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>TypeScript 4.8</h2><p>Deno v1.26 ships with the latest stable version of TypeScript. For more
information on new features in TypeScript see
<a href="https://devblogs.microsoft.com/typescript/announcing-typescript-4-8/" rel="noopener noreferrer">TypeScript&#39;s 4.8 blog post</a></p>
</div></div>
  </body>
</html>
