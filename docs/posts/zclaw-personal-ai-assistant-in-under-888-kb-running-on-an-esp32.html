<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/tnm/zclaw">Original</a>
    <h1>zclaw: personal AI assistant in under 888 KB, running on an ESP32</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tnm/zclaw/blob/main/docs/images/lobster_xiao_cropped_left.png"><img src="https://github.com/tnm/zclaw/raw/main/docs/images/lobster_xiao_cropped_left.png" alt="Lobster soldering a Seeed Studio XIAO ESP32-C3" height="200"/></a></p>
<p dir="auto">The smallest possible AI personal assistant for ESP32.</p>
<p dir="auto">zclaw is written in C and runs on ESP32 boards with a strict all-in firmware budget target of <strong>&lt;= 888 KiB</strong> on the default build. It supports scheduled tasks, GPIO control, persistent memory, and custom tool composition through natural language.</p>
<p dir="auto">The <strong>888 KiB</strong> cap is all-in firmware size, not just app code.
It includes <code>zclaw</code> logic plus ESP-IDF/FreeRTOS runtime, Wi-Fi/networking, TLS/crypto, and cert bundle overhead.</p>
<p dir="auto">Current default <code>esp32s3</code> breakdown (<code>idf.py -B build size-components</code>, flash totals):</p>
<ul dir="auto">
<li>zclaw app logic (<code>libmain.a</code>): <code>26430</code> bytes (~25.8 KiB, ~3.1%)</li>
<li>Wi-Fi + networking stack: <code>375278</code> bytes (~366.5 KiB, ~43.7%)</li>
<li>TLS/crypto stack: <code>125701</code> bytes (~122.8 KiB, ~14.7%)</li>
<li>cert bundle + app metadata: <code>92654</code> bytes (~90.5 KiB, ~10.8%)</li>
<li>other ESP-IDF/runtime/drivers/libc: <code>237889</code> bytes (~232.3 KiB, ~27.7%)</li>
</ul>
<p dir="auto"><code>zclaw.bin</code> from the same build is <code>865888</code> bytes (~845.6 KiB), which stays under the <code>888 KiB</code> cap.</p>
<p dir="auto">Fun to use, fun to hack on.
<br clear="right"/></p>

<p dir="auto">Use the docs site for complete guides and reference.</p>
<ul dir="auto">
<li><a href="https://zclaw.dev" rel="nofollow">Full documentation</a></li>
<li><a href="https://zclaw.dev/README.html" rel="nofollow">README (web)</a></li>
<li><a href="https://zclaw.dev/reference/README_COMPLETE.md" rel="nofollow">Complete README (verbatim)</a></li>
</ul>

<p dir="auto">One-line bootstrap (macOS/Linux):</p>
<div dir="auto" data-snippet-clipboard-copy-content="bash &lt;(curl -fsSL https://raw.githubusercontent.com/tnm/zclaw/main/scripts/bootstrap.sh)"><pre>bash <span><span>&lt;(</span>curl -fsSL https://raw.githubusercontent.com/tnm/zclaw/main/scripts/bootstrap.sh<span>)</span></span></pre></div>
<p dir="auto">Already cloned?</p>

<p dir="auto">Non-interactive install:</p>

<p dir="auto">Important setup notes:</p>
<ul dir="auto">
<li><code>bootstrap.sh</code> clones/updates the repo and then runs <code>./install.sh</code>.</li>
<li>For encrypted credentials in flash, use secure mode (<code>--flash-mode secure</code> in install flow, or <code>./scripts/flash-secure.sh</code> directly).</li>
<li>After flashing, provision WiFi + LLM credentials with <code>./scripts/provision.sh</code>.</li>
<li>Quick validation path: run <code>./scripts/web-relay.sh</code> and send a test message to confirm the device can answer.</li>
<li>If serial port is busy, run <code>./scripts/release-port.sh</code> and retry.</li>
<li>Full setup/provisioning details are in the docs site index.</li>
</ul>

<ul dir="auto">
<li>Chat via Telegram or hosted web relay</li>
<li>Timezone-aware schedules (<code>daily</code>, <code>periodic</code>, and one-shot <code>once</code>)</li>
<li>Built-in + user-defined tools</li>
<li>GPIO read/write control with guardrails</li>
<li>Persistent memory across reboots</li>
<li>Provider support for Anthropic, OpenAI, and OpenRouter</li>
</ul>

<p dir="auto">Tested targets: <strong>ESP32-C3</strong>, <strong>ESP32-S3</strong>, and <strong>ESP32-C6</strong>.
Other ESP32 variants should work fine (some may require manual ESP-IDF target setup).
Tests reports are very welcome!</p>
<p dir="auto">Recommended starter board: <a href="https://www.seeedstudio.com/Seeed-XIAO-ESP32C3-p-5431.html" rel="nofollow">Seeed XIAO ESP32-C3</a></p>

<ul dir="auto">
<li><code>./scripts/build.sh</code> - Build firmware</li>
<li><code>./scripts/flash.sh</code> - Flash firmware</li>
<li><code>./scripts/flash-secure.sh</code> - Flash with encryption</li>
<li><code>./scripts/provision.sh</code> - Provision credentials to NVS</li>
<li><code>./scripts/monitor.sh</code> - Serial monitor</li>
<li><code>./scripts/emulate.sh</code> - Run QEMU profile</li>
<li><code>./scripts/web-relay.sh</code> - Hosted relay + mobile chat UI</li>
<li><code>./scripts/benchmark.sh</code> - Benchmark relay/serial latency</li>
<li><code>./scripts/docs-site.sh</code> - Serve docs site</li>
<li><code>./scripts/test.sh</code> - Run host/device test flows</li>
<li><code>./scripts/test-api.sh</code> - Run live provider API checks (manual/local)</li>
</ul>

<p dir="auto">Current default <code>esp32s3</code> breakdown (<code>idf.py -B build size-components</code>, flash totals):</p>
<ul dir="auto">
<li>zclaw app logic (<code>libmain.a</code>): <code>26430</code> bytes (~25.8 KiB, ~3.1%)</li>
<li>Wi-Fi + networking stack: <code>375278</code> bytes (~366.5 KiB, ~43.7%)</li>
<li>TLS/crypto stack: <code>125701</code> bytes (~122.8 KiB, ~14.7%)</li>
<li>cert bundle + app metadata: <code>92654</code> bytes (~90.5 KiB, ~10.8%)</li>
<li>other ESP-IDF/runtime/drivers/libc: <code>237889</code> bytes (~232.3 KiB, ~27.7%)</li>
</ul>
<p dir="auto"><code>zclaw.bin</code> from the same build is <code>865888</code> bytes (~845.6 KiB), which stays under the cap.</p>

<p dir="auto">Relay path benchmark (includes web relay processing + device round trip):</p>
<div dir="auto" data-snippet-clipboard-copy-content="./scripts/benchmark.sh --mode relay --count 20 --message &#34;ping&#34;"><pre>./scripts/benchmark.sh --mode relay --count 20 --message <span><span>&#34;</span>ping<span>&#34;</span></span></pre></div>
<p dir="auto">Direct serial benchmark (host round trip + first response time). If firmware logs
<code>METRIC request ...</code> lines, the report also includes device-side timing:</p>
<div dir="auto" data-snippet-clipboard-copy-content="./scripts/benchmark.sh --mode serial --serial-port /dev/cu.usbmodem1101 --count 20 --message &#34;ping&#34;"><pre>./scripts/benchmark.sh --mode serial --serial-port /dev/cu.usbmodem1101 --count 20 --message <span><span>&#34;</span>ping<span>&#34;</span></span></pre></div>

<p dir="auto">MIT</p>
</article></div></div>
  </body>
</html>
