<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://erikbern.com/2021/11/30/storm-in-the-stratosphere-how-the-cloud-will-be-reshuffled.html">Original</a>
    <h1>The Impending Cloud Reshuffle</h1>
    
    <div id="readability-page-1" class="page"><article>
  
  <time datetime="2021-11-30T00:00:00Z">2021-11-30</time>
  <p><img src="https://erikbern.com/assets/cloud-atmosphere-layers.jpeg" alt="cloud atmosphere layers"/></p>
<p>Here&#39;s a theory I have about cloud vendors (AWS, Azure, GCP):</p>
<ol>
<li>Cloud vendors<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> will increasingly focus on the lowest layers in the stack: basically leasing capacity in their data centers through an API.</li>
<li>Other pure-software providers will build all the stuff on top of it. Databases, running code, you name it.</li>
</ol>
<p>We currently have cloud vendors that offer end-to-end solutions from the developer experience down to the hardware:</p>
<p><img src="https://erikbern.com/assets/cloud-aws-stack.png" alt="cloud aws stack"/></p>
<p>What if cloud vendors focus on the lowest layer, and other (pure software) vendors on the layer above?</p>
<p><img src="https://erikbern.com/assets/cloud-new-stack.png" alt="cloud new stack"/></p>
<p>Feel free to bring this up in five years to make me embarrassed about how wrong I turned out to be. But let me walk you through my thinking—I think some of it is quite well illustrated through the story of Redshift.</p>

<p>Redshift is a data warehouse (aka OLAP database) offered by AWS. Before Redshift, it was the dark ages. The main player was Teradata, which had an on-prem offering. Startups said no to SQL and used Hadoop—SQL was kind of lame back then, for reasons that in hindsight appear absurd. I&#39;m very happy we&#39;re out of this era.</p>
<p>Anyway, one vendor was a company called ParAccel. AWS <a href="https://news.ycombinator.com/item?id=18992467">licensed their technology</a>, rebranded it Redshift, and launched in 2012.</p>
<p>Redshift at the time was the first data warehouse running in the cloud. It was a brilliant move by AWS, because it immediately lowered the bar for a small company to start doing analytics. You didn&#39;t have to set up any infrastructure yourself, or write <a href="https://erikbern.com/2018/08/30/i-dont-want-to-learn-your-garbage-query-language.html">custom mapreduce</a> and reload the jobtracker all day. You could spin up a Redshift cluster in AWS, feed it humongous amounts of data, and it would … sort of just work.</p>
<h2 id="enter-snowflake">Enter Snowflake</h2>
<p>Snowflake<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> is a $100B+ publicly traded company. Basically their entire offering is a data warehouse that looks fairly similar to Redshift.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p>
<p>If you looked at Redshift in 2012, there was a lot of things that favored it. AWS had large economies of scale, had control of the underlying substrate (EC2), and could  make larger investments in building the software. Maybe because of the value of lock-in, they could even subsidize the development of Redshift and make up the money through other products. Anyway, this is what it looks like nine years later<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>:</p>
<p><img src="https://erikbern.com/assets/cloud-db-ranking.png" alt="cloud db ranking"/></p>
<p>What happened? But my more general question is: what are the forces that favor a company like Snowflake?<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> And what does that mean for other cloud products?</p>

<p>There&#39;s some sort of folk wisdom that the lowest layer of cloud services is a pure commodity service. So in order to make money you need to do at least one of:</p>
<ol>
<li>Make money higher up in the stack.</li>
<li>Use services higher up in the stack to lock customers in. Then make money lower in the stack.</li>
</ol>
<p>I think there&#39;s some truth to these, at least looking historically, but there are some interesting trends blowing in the other way:</p>
<ul>
<li>The “software layer on top” is getting incredibly competitive. There&#39;s so many startups going after it, fueled by cheap VC money and willing to burn billions of dollars on building software.</li>
<li>Cloud vendors might be pretty happy making money just in the lowest layer. Margins aren&#39;t so bad and vendor lock-in is still pretty high.</li>
</ul>
<h2 id="startups-are-coming-for-the-cloud">Startups are coming for the cloud</h2>
<p>There&#39;s never been this many companies going after services that traditionally belonged to the cloud vendors:</p>
<p><img src="https://erikbern.com/assets/cloud-services.png" alt="cloud services"/></p>
<p>What&#39;s going on? Probably a confluence of a lot of things. If I was tired, I would just shrug and say something like “startup circle of life, whatever”. And I think this is roughly one factor, but I see at least 3 different ones:</p>
<ol>
<li>Incentives at big companies often makes it hard to ship new crazy ideas. At the same time, VCs are pouring in money into the segment. If you&#39;re an ambitious person, do you go work at AWS? Or do you join an early stage startup, or create your own? It&#39;s expected that innovation shifts away from big companies to startups.</li>
<li>Software vendors can build for all the cloud vendors at the same time. I think this was a real benefit for Snowflake, since a lot of their early customers were banks who care about multi-cloud, but more generally it also expands the market size vs the reach of any cloud vendor.</li>
<li>A lot of the successful cloud products started out as internal services. This has been an amazing source of products, that have been battle-tested at Amazon, Google, and Microsoft scale, and it makes sense that those tools are a great match for their big enterprise customers. But the flipside of the extreme focus on scale, reliability, and configurability, is that the developer experience has become an attack vector, in particular when you look at mid-market and smaller customers who may care more about improving developer productivity. Slightly larger companies like Uber, Netflix, and Airbnb have a history of teams leaving to commercialize internal tools (often through the intermediate step of open sourcing it). Somewhat subjectively and anecdotally, these tools tend to have a much higher focus on developer experience.</li>
</ol>
<h2 id="maybe-owning-the-lowest-layer-isnt-so-bad">Maybe owning the lowest layer isn&#39;t so bad?</h2>
<p>Let&#39;s say a customer is spending $1M/year on Redshift. That nets AWS about<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup> $500-700k in gross profits, after paying for EC2 operational cost and depreciation. If that customer switches their $1M/year budget to Snowflake, then about $400k<sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup> goes back to AWS, making AWS about $200k in gross profits.</p>
<p>That seems kind of bad for AWS? I don&#39;t know, we ignored a bunch of stuff here. Snowflake&#39;s projected<sup id="fnref:8"><a href="#fn:8" role="doc-noteref">8</a></sup> 2022 research and development costs are 20% of revenue, and their sales and marketing costs are 48%! For a million bucks revenue, that&#39;s $700k. Translated back to AWS, maybe AWS would have spent $300-400k for the same thing? Seems reasonable.</p>
<p>Now the math suddenly adds up to me. AWS basically ends up with the same bottom line impact, but effectively “outsources” to Snowflake all the cost of building software and selling it. That seems like a good deal for them!</p>
<h2 id="what-about-lock-in">What about lock-in?</h2>
<p>The other argument for why AWS should build their own software services is that it increases lock-in. So maybe Redshift in itself isn&#39;t a cash cow, but it decreases the churn on EC2.</p>
<p>I&#39;m not so sure? I spent six years as a CTO and moving from one cloud to another isn&#39;t something I even remotely considered. My company, like most, spent far more money on engineer salaries than the cloud itself. Putting precious eng time on a cloud migration isn&#39;t worth it unless cloud spend starts to become a significant fraction of your gross margins. Which is true for some companies! But those are in a minority.</p>
<p>A significant factor in all of this is that existing infra provides significant “gravity”. It&#39;s not like you can just pick whichever cloud vendor has the cheapest database and run your DB there. You want to run things in the same cloud provider<sup id="fnref:9"><a href="#fn:9" role="doc-noteref">9</a></sup> and in the same data center<sup id="fnref:10"><a href="#fn:10" role="doc-noteref">10</a></sup>. Looking at sign-up flows for cloud products gives us a hint:</p>
<p><img src="https://erikbern.com/assets/cloud-sign-up-flows.png" alt="cloud sign up flows"/></p>
<p>The screenshots above show the onboarding for Snowflake, Confluent, and MongoDB (Atlas). They all ask:</p>
<ol>
<li>What&#39;s your cloud vendor?</li>
<li>What region?</li>
</ol>
<p>Note that the <em>only</em> options for the first questions are AWS, GCP, and Azure.</p>
<p>The other side of the equation of a potential cloud migration is—how much money you can save? And I think the truth it&#39;s never going to be substantial, since <a href="https://en.wikipedia.org/wiki/Co-opetition_(book)">no one wants to start a price war</a>. Being in a fairly stable oligopoly seems pretty nice and cozy, and if I was cloud vendor, I wouldn&#39;t try rock the boat.</p>

<p>We&#39;re roughly 10 years into the shift to the cloud, and even though it feels like it&#39;s transformed how we build software, I think we&#39;re still just getting started. I really wouldn&#39;t be surprised to wake up in a world where <a href="https://twitter.com/irvinebroque/status/1461002308209152009">most developers don&#39;t interact with cloud vendors</a>.</p>
<p>Big transformations tend to happen in two stages. The first step happens when some new technology arrives and people adopt to it in the simplest way that lets them retain their conceptual models from the existing world. The real transformations happens later, when you rethink the consumption model because the new world opens up new ways to create value. The way we consumed music didn&#39;t change materially when Apple started selling songs online. The real transformation happened when providers like Spotify realized the whole notion of ownership didn&#39;t matter anymore.</p>
<p>If you think about it from that angle, the last 10-15 years look a bit like a dumb “lift and shift”. Crudely speaking, we took computers and we put them in the cloud. Is that really the right abstraction for where we are? I don&#39;t think so. I think new higher level tools will let us focus on building application code and not worry about the underlying infrastructure.</p>
<h2 id="startups-are-coming-for-your-code">Startups are coming for your code</h2>
<p>The forces I&#39;ve talked about have been most clear when you look at Snowflake vs Redshift, but you can see it in other places too. Transactional databases is another very exciting area.  But where I think we&#39;ll see the most change is how software vendors will increasingly run customer code.</p>
<p>This isn&#39;t exactly a new idea—Heroku launched in 2007, and AWS Lambda in 2014. Kubernetes has been this interesting trend in the last few years on what I think is still essentially an inevitable march towards a fully “serverless” world, whatever <a href="https://twitter.com/isamlambert/status/1460659840108220417">that means to you</a>.</p>
<p>I wonder if a weird corollary of this is… maybe it&#39;s actually really good for the planet? The computers sitting in the cloud are ridiculously underutilized—my guesstimate of average CPU utilization is that it&#39;s maybe 10%? If I had a Ph. D. in bin packing, I&#39;d go looking for a job at some serverless infrastructure provider right now.</p>
<p>One way to tell the story in 2030 looking backwards is that the cloud vendors needed software running on top of it, so they had to provide that themselves first, in order to drive cloud adoption. Luckily they already had a bunch of internal stuff they could ship! But eventually the market matured, and they could focus on the place in the stack where they had the strongest advantage.</p>
<h2 id="predictions">Predictions</h2>
<ul>
<li>The cloud market will grow to $1T/year in revenue. Ok, that&#39;s almost entirely noncontroversial.</li>
<li>Most engineers will never interact directly with cloud vendors, but through services on top of those.</li>
<li>The database market (OLAP, OLTP, you name it) will be dominated by vendors running on top of cloud vendors, where the underlying layer is completely abstract.</li>
<li>We will have some amazing new runtimes, finally figuring out the developer experience problems that are currently holding serverless solutions back.</li>
<li>We will see a lot of partnerships between startups and cloud vendors, where a cloud vendor may concede an area and try to be a preferred partner with a startup instead.</li>
<li>Kubernetes will be some weird thing people loved for five years, just like Hadoop was 2009-2013, but the world will move on.</li>
<li>Resource utilization in the cloud will be much better, and engineers will spend an order of magnitude less time thinking about resource allocation and provisioning.</li>
<li>IBM has finally given up on “hybrid multi-cloud”.</li>
<li>YAML will be something old jaded developers bring up after a few drinks. You know it&#39;s time to wrap up at the party at that point.</li>
</ul>
<p><em>Thanks to <a href="https://twitter.com/josh_wills">Josh Wills</a>, <a href="https://twitter.com/akshat_b">Akshat Bubna</a>, and <a href="https://twitter.com/sarahcat21">Sarah Catanzaro</a> for feedback on an earlier version of this post!</em></p>



  
<strong>

    Tagged with: 
    <a href="https://erikbern.com/tags/cloud.html">cloud</a>, <a href="https://erikbern.com/tags/programming.html">programming</a>, <a href="https://erikbern.com/tags/infrastructure.html">infrastructure</a>, <a href="https://erikbern.com/tags/software.html">software</a>
</strong>

</article></div>
  </body>
</html>
