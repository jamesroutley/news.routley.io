<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/SpaceTurth/Org-Web-Adapter">Original</a>
    <h1>Show HN: Simple org-mode web adapter</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">A lightweight local web app for browsing and editing Org files.</p>
<p dir="auto">The app is implemented as a single Python server (<code>main.py</code>) plus one HTML template (<code>templates/index.html</code>) and one stylesheet (<code>static/style.css</code>). It scans a notes directory for <code>.org</code> files and renders a 3-pane UI.</p>
<p dir="auto"><g-emoji alias="warning">⚠️</g-emoji> There is no authentication or encryption, only run this service on trusted networks. <g-emoji alias="warning">⚠️</g-emoji></p>


<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/SpaceTurth/Org-Web-Adapter/blob/master/media/desktop.png"><img src="https://github.com/SpaceTurth/Org-Web-Adapter/raw/master/media/desktop.png" alt="Desktop view"/></a></p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/SpaceTurth/Org-Web-Adapter/blob/master/media/mobile.png"><img src="https://github.com/SpaceTurth/Org-Web-Adapter/raw/master/media/mobile.png" alt="Mobile view"/></a></p>

<ol dir="auto">
<li>Symlink your notes directory to <code>notes</code>.</li>
<li>Edit the bind address and port in <code>config.yaml</code> if desired.</li>
<li><code>python3 main.py</code>.</li>
</ol>

<ol dir="auto">
<li><code>main.py</code> starts an HTTP server.</li>
<li>On each page request (<code>GET /</code>), it rescans the notes directory for <code>.org</code> files.</li>
<li>It resolves links/backlinks and builds HTML fragments.</li>
<li>It injects those fragments into <code>templates/index.html</code> placeholders:
<ul dir="auto">
<li><code>{{NAV_ITEMS}}</code></li>
<li><code>{{MAIN_CONTENT}}</code></li>
<li><code>{{BACKLINKS}}</code></li>
</ul>
</li>
<li>Browser JS in <code>templates/index.html</code> handles client-side interactions (search, shuffle, sorting, jump-to-current, theme toggle).</li>
</ol>
<div dir="auto"><h2 tabindex="-1" dir="auto">Server-side components (<code>main.py</code>)</h2><a id="user-content-server-side-components-mainpy" aria-label="Permalink: Server-side components (main.py)" href="#server-side-components-mainpy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>File discovery and parsing:
<ul dir="auto">
<li><code>scan_org_files(...)</code> recursively finds <code>.org</code> files.</li>
<li>Extracts title from <code>#+TITLE:</code> and ID from <code>:ID:</code>.</li>
</ul>
</li>
<li>Org link/backlink handling:
<ul dir="auto">
<li><code>resolve_link_target(...)</code> supports <code>file:...</code> and <code>id:...</code> links.</li>
<li><code>find_backlinks(...)</code> computes notes linking to the selected note.</li>
<li><code>build_backlink_counts(...)</code> computes backlink totals for sorting.</li>
</ul>
</li>
<li>Rendering:
<ul dir="auto">
<li><code>render_org_to_html(...)</code> converts headings (<code>*</code>, <code>**</code>, ...) and paragraphs to simple HTML.</li>
<li><code>render_line_with_links(...)</code> converts org links in text to clickable app links where resolvable.</li>
<li><code>truncate_label(...)</code> caps sidebar labels to 32 chars with <code>...</code>.</li>
</ul>
</li>
<li>Editing:
<ul dir="auto">
<li><code>POST /edit</code> updates a selected <code>.org</code> file and redirects back with status flags.</li>
</ul>
</li>
<li>Static files:
<ul dir="auto">
<li><code>serve_static(...)</code> serves files under <code>static/</code> with path traversal protection.</li>
</ul>
</li>
</ul>

<ul dir="auto">
<li><code>templates/index.html</code>:
<ul dir="auto">
<li>Base layout markup.</li>
<li>Sidebar controls.</li>
<li>Small JS controller for filtering/sorting/shuffling nav links.</li>
<li>MathJax initialization for inline <code>$...$</code> rendering.</li>
</ul>
</li>
<li><code>static/style.css</code>:
<ul dir="auto">
<li>3-column desktop grid and stacked mobile layout.</li>
<li>Independent scroll regions for note list and backlinks.</li>
<li>Mobile note-list cap (about 5 notes visible before scrolling).</li>
</ul>
</li>
</ul>

<p dir="auto">Startup config is read from <code>config.yaml</code> by default.</p>
<ul dir="auto">
<li><code>bind_addr</code>: host/IP to bind</li>
<li><code>bind_port</code>: TCP port (must be <code>1..65535</code>)</li>
</ul>
<p dir="auto">Notes:</p>
<ul dir="auto">
<li>If <code>config.yaml</code> is missing, defaults are <code>127.0.0.1:8000</code>.</li>
<li>CLI flags <code>--host</code> and <code>--port</code> override config values.</li>
<li>You can choose a different config file with <code>--config /path/to/config.yaml</code>.</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="python3 main.py --dir notes
python3 main.py --host 127.0.0.1 --port 9000
python3 main.py --config ./config.yaml
python3 main.py --no-browser"><pre>python3 main.py --dir notes
python3 main.py --host 127.0.0.1 --port 9000
python3 main.py --config ./config.yaml
python3 main.py --no-browser</pre></div>


<ul dir="auto">
<li>Recursive <code>.org</code> file discovery.</li>
<li>Sidebar note list with active-note highlighting.</li>
<li>Title/path search filter.</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">Sidebar ordering controls</h3><a id="user-content-sidebar-ordering-controls" aria-label="Permalink: Sidebar ordering controls" href="#sidebar-ordering-controls"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Shuffle notes.</li>
<li>Sort by backlink count (descending).</li>
<li>Sort by created date (ascending).
<ul dir="auto">
<li>Notes without timestamps are treated as older than notes with timestamps.</li>
</ul>
</li>
<li>Jump to current note button.</li>
</ul>

<ul dir="auto">
<li>Right sidebar lists notes linking to the current note.</li>
<li>Supports both <code>file:</code> and <code>id:</code> link resolution.</li>
</ul>

<ul dir="auto">
<li>Toggle Preview/Edit for the selected note.</li>
<li>Save changes from browser to disk.</li>
<li>Inline status messages for save success/errors.</li>
</ul>

<ul dir="auto">
<li>Inline math rendering via MathJax using <code>$...$</code> delimiters.</li>
</ul>

<ul dir="auto">
<li>Light/dark theme toggle (persisted in <code>localStorage</code>).</li>
<li>Desktop: independent scrollable sidebars.</li>
<li>Mobile: notes list capped with its own scroll area.</li>
<li>Sidebar text truncation with ellipsis and tooltip for full text.</li>
</ul>

<ul dir="auto">
<li><code>main.py</code>: server, parsing, rendering, routing.</li>
<li><code>templates/index.html</code>: page template + UI behavior JS.</li>
<li><code>static/style.css</code>: styling and responsive layout.</li>
<li><code>config.yaml</code>: bind config.</li>
<li><code>notes/</code>: notes directory (can be a symlink).</li>
<li><code>old_notes/</code>: alternate local notes snapshot.</li>
</ul>

<ul dir="auto">
<li>Not a full Org parser; rendering is intentionally simple.</li>
<li>Notes are rescanned on each request (simple and fresh, but not optimized for huge note sets).</li>
<li>Math rendering depends on loading MathJax from CDN.</li>
</ul>
</article></div></div>
  </body>
</html>
