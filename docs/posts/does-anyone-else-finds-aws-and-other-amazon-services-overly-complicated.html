<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://news.ycombinator.com/item?id=33490314">Original</a>
    <h1>Does anyone else finds AWS and other Amazon services overly complicated?</h1>
    
    <div id="readability-page-1" class="page"><div><td colspan="2"></td><td><div><p> I think AWS and its signature system is making things more complicated than it should be, like this is a normal signing in process to API:</p><p>1. you request client credentials, which is normal.</p><p>2. construct request URL, normal.</p><p>3. add headers, eh, normal.</p><p>4. signature... fuck.</p><p>First you need to convert the URL you have from step 2, mash it with headers from step 3, add header keys to signed headers, then sum256 hash the payload and hex encode it.</p><p>Then you create a sign, add algorithm, request date time that is formatted with ISO8601 but all special characters stripped apart, add credential scopes, hash the canonical request you created at the first step.</p><p>Then, you calculate this abomination:
HMAC(HMAC(HMAC(HMAC(&#34;AWS4&#34; + kSecret,&#34;20150830&#34;),&#34;us-east-1&#34;),&#34;iam&#34;),&#34;aws4_request&#34;)</p><p>after that you calculate this:
signature = HexEncode(HMAC(derived signing key, string to sign))</p><p>after that you create an authorization header and add signature to it:
Authorization: AWS4-HMAC-SHA256 Credential=AKIAIHV6HIXXXXXXX/20201022/us-east-1/execute-api/aws4_request, SignedHeaders=host;user-agent;x-amz-access-token;x-amz-date, Signature=5d672d79c15b13162d9279b0855cfba6789a8edb4c82c400e06b5924aEXAMPLE</p><p>...I mean what the fuck? I can understand why people choose Azure over AWS for the sake of freaking simplicity just by looking at this sign and request process. It feels overly-complicated. Does anyone feels the same while working with this abomination?</p></div></td></div></div>
  </body>
</html>
