<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://typesafety.net/rob/blog/endless-sketchzone">Original</a>
    <h1>The next 700 tiny web-based text editors</h1>
    
    <div id="readability-page-1" class="page"><div data-astro-cid-3lgtpi4n="">  <p>Happy Wednesday, here‚Äôs a work-in-progress post.</p>
<p>I keep reinventing this one kind of thing: I have some text that I know how to render into some interesting HTML or JavaScript. So I‚Äôd like to be able to have an edit some text over here to the left, and I‚Äôd like to update the text-derived thingy to the right at the push of a button (or maybe just automatically when I stop typing for a tenth of a second).</p>
<h2 id="the-last-700-tiny-web-based-text-editors">The last 700 tiny web-based text editors</h2>
<p>Here are three times I‚Äôve implemented this kind of thing entirely from scratch:</p>
<ul>
<li><a href="https://retutch.github.io/">Tutch</a>, a re-implementation of <a href="https://www2.tcs.ifi.lmu.de/~abel/tutch/">Andreas Abel‚Äôs Tutch</a></li>
<li><a href="https://c0.surge.sh/">Jaco</a>, a re-implementation of the <a href="https://c0.cs.cmu.edu/docs/c0-reference.pdf">C0 language</a></li>
<li><a href="https://dusa.rocks/docs/">Dusa</a>, a logic programming language designed by Chris Martens and myself</li>
</ul>
<p>And I‚Äôm not the only one! Here are some things that other people did:</p>
<ul>
<li><a href="https://ellie-app.com/new">Ellie</a> for testing out Elm</li>
<li><a href="https://editor.p5js.org/">The p5.js editor</a> for testing out p5.js</li>
<li><a href="https://github.com/graphql/graphiql">GraphiQL</a> for interacting with GraphQL servers</li>
</ul>
<p>It‚Äôs <em>possible</em> to make the browser a nice place to write text, and in fact almost 100% of the text I write into a computer is in a web application derived from one of three sources:</p>
<ul>
<li>Google (Google Mail and Google Docs)</li>
<li>The Monaco code editor by Microsoft that powers VS Code</li>
<li>An instance of the <a href="https://codemirror.net/">Codemirror</a> editor by Marijn Haverbeke. Of the examples I gave, every one of them except for MicroCeptre uses Codemirror 5 (Tutch, Jaco, p5.js, Ellie, and also <a href="https://codepen.io/search/pens?q=test">CodePen</a> and <a href="https://gist.github.com/">GitHub Gist</a>) or Codemirror 6 (Dusa, GrapiQL, and also <a href="https://www.overleaf.com">Overleaf</a> and most of GitHub), which was effectively a full rewrite that Haverbeke embarked on from the beginning of 2018 to the end of 2021.</li>
</ul>
<p>However, the <em>browser is not a kind place to write text</em> unless you put some effort into it. And if you want to have a little tool that lets people write some text, press a button, and see some output from that text, you really don‚Äôt want to give people an unkind experience for writing text!</p>
<h2 id="making-a-sketchzone">Making a sketchzone</h2>
<p>I think I did a pretty good job with the <a href="https://dusa.rocks">dusa.rocks</a> editor, so I tried to take all the parts of that that weren‚Äôt specific to <a href="https://typesafety.net/rob/projects/dusa">the Dusa language</a> and put them in a tool for taking a text document and also inspecting or viewing it in some way.</p>
<ul>
<li>Codemirror integration for the editor</li>
<li>Persistance of multiple sketches (you can close your browser and reopen it and your stuff is still there)</li>
<li>Multiple tabs</li>
<li>A mobile-friendly mode that switches between the editor and inspector</li>
<li>Light/dark mode</li>
<li>Browsing and reopening closed documents</li>
<li>Sharing links using compressed URL hashes</li>
</ul>
<p>I mostly avoided feature creep, but the last two aren‚Äôt currently present in Dusa. The inability to close a file and reopen it was getting really annoying for the main users of <a href="https://dusa.rocks">dusa.rocks</a>, <a href="https://hci.social/@chrisamaphone">Chris</a> and myself, and the compressed link sharing had already been sorted out by <a href="https://mastodon.social/@jcreed">jcreed</a> as part of <a href="https://twelf.org/twelf-wasm/">the online Twelf sandbox</a>, which is <em>yet another instance of the same patter</em>.</p>
<p>It‚Äôs called ‚Äúsketchzone‚Äù because I needed an internal name for the combination of a text document that someone writes and the inspector JavaScript widget that does something interesting with that text document, and <em>sketch</em> was a reasonable word that didn‚Äôt have a lot of other domain-specific meanings.</p>
<p>Here‚Äôs what it looks like!</p>
<figure><div><p><img src="https://typesafety.net/_astro/lorem-ipsum-yall.BmvIPPfE_2wx9yM.webp" alt="View of the sketchzone editor" width="638" height="329" loading="lazy" decoding="async"/></p></div><figcaption>The sketchzone-based editor at <a href="https://sketchzone-simple.glitch.me/">sketchzone-simple.glitch.me</a></figcaption></figure>
<p>The <a href="https://github.com/robsimmons/sketchzone">GitHub README.md</a> has seven different remixable <a href="https://glitch.com/">Glitch</a> examples that show how little javascript inspectors can be configured in different ways, two of which are secretly really bad idle games.</p>
<h2 id="whats-next">What‚Äôs next?</h2>
<p>I‚Äôve <a href="https://www.npmjs.com/package/sketchzone">published an npm package</a> for sketchzone, so it‚Äôs technically usable by anyone! My next steps are to actually port over the dusa.rocks editor to run on sketchzone, which will allow me to delete a lot of crappy and hard-to-understand code from the dusa repository üéâ.</p>
<ul>
<li>Create a JSON autoformatter explorer and autoformatter as a slightly bigger example</li>
<li>Create a configuration that automatically reloads instead of having a ‚Äúload‚Äù button, and use that to port the <a href="https://retutch.github.io/">Tutch theorem prover</a> to sketchzone</li>
<li>Maybe get jcreed‚Äôs help to move the Twelf sandbox to sketchzone?</li>
<li>Longer term, I‚Äôd like sketchzone to be able to handle a small but finite number of documents instead of a single document. Ellie-app and GraphiQL are my examples here: they both have a main text file (holding Elm or GraphQL code) and then a second, smaller, collapsable section (HTML for Ellie-app, and JSON arguments and HTML headers for GraphiQL). I don‚Äôt want to generalize to, like, Overleaf and being able to handle</li>
<li>Also longer term, I‚Äôd like for the config menu over to the left to become expandable. In similar apps can be useful to show some heads-up documentation, manage supplemental libraries: in Dusa I‚Äôd like to be able to list all the <a href="https://dusa.rocks/docs/language/builtin/">builtins</a> without leaving the page.</li>
</ul>
<p>I‚Äôm interested in knowing what other unexpected things sketchzone can do, and what features might make it more usable or amenable to other use cases.</p>
 
<p><a href="https://social.wub.site/@simrob/112446806895556005">Discuss this post on Mastodon (or whatever)</a></p>  </div></div>
  </body>
</html>
