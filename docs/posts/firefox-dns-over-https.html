<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://support.mozilla.org/en-US/kb/firefox-dns-over-https">Original</a>
    <h1>Firefox DNS-over-HTTPS</h1>
    
    <div id="readability-page-1" class="page"><div>
      
      
      
      <main role="main">
      
      
  <section id="document-list">
    <header>
      <div>
        <div>
          
          <p><a href="https://support.mozilla.org/en-US/products/firefox" title="Firefox">
            <img src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/products/2020-04-14-08-36-13-8dda6f.png" height="48" width="48" alt=""/>
          </a></p>

          
        </div>
        
      </div>
    </header>

    
    <article>
      
  
  
      <section id="doc-content">
    
      
<p>When you type a web address or domain name into your address bar (example: <a href="http://www.mozilla.org">www.mozilla.org</a>), your browser sends a request over the Internet to look up the IP address for that website. Traditionally, this request is sent to servers over a plain text connection. This connection is not encrypted, making it easy for third-parties to see what website you’re about to access.
<a href="https://wikipedia.org/wiki/DNS_over_HTTPS">DNS-over-HTTPS</a> (DoH) works differently. It sends the domain name you typed to a DoH-compatible DNS server using an encrypted HTTPS connection instead of a plain text one. This prevents third-parties from seeing what websites you are trying to access.
</p>

<p>DoH improves privacy by hiding domain name lookups from someone lurking on public WiFi, your ISP, or anyone else on your local network. DoH, when enabled, ensures that your ISP cannot collect and sell personal information related to your browsing behavior.
</p>

<ul><li>Some individuals and organizations rely on DNS to block malware, enable parental controls, or filter your browser’s access to websites. When enabled, DoH bypasses your local DNS resolver and defeats these special policies. When enabling DoH by default for users, Firefox allows users (via settings) and organizations (via enterprise policies and a canary domain lookup) to disable DoH when it interferes with a preferred policy.
</li><li>When DoH is enabled, Firefox by default directs DoH queries to DNS servers that are operated by a trusted partner, which has the ability to see users&#39; queries. Mozilla has a strong <a href="https://wiki.mozilla.org/Security/DOH-resolver-policy">Trusted Recursive Resolver (TRR) policy</a> in place that forbids our partners from collecting personal identifying information. To mitigate this risk, our partners are contractually bound to adhere to this policy.
</li><li>DoH could be slower than traditional DNS queries, but in testing, we found that the <a href="https://blog.mozilla.org/futurereleases/2019/04/02/dns-over-https-doh-update-recent-testing-results-and-next-steps/">impact is minimal and in many cases DoH is faster</a>.
</li></ul>

<p>We completed our rollout of DoH by default to all United States Firefox desktop users in 2019 and to all Canadian Firefox desktop users in 2021. We began our rollout by default to Russia and Ukraine Firefox desktop users in March 2022. We are currently working toward rolling out DoH in more countries. As we do so, DoH is enabled for users in “fallback” mode. For example, if the domain name lookups that are using DoH fail for some reason, Firefox will fall back and use the default DNS configured by the operating system (OS) instead of displaying an error.
</p>

<p>If you’re an existing Firefox user in a locale where we’ve rolled out DoH by default, you’ll receive a notification in Firefox if and when DoH is first enabled, allowing you to choose not to use DoH and instead continue using your default OS DNS resolver.
<img alt="OptIn_Infobar" data-original-src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/gallery/images/2022-03-21-13-18-20-f63693.png" src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/placeholder.688345f843bb37ed.gif" title=""/>
</p><p>In addition, Firefox will check for certain functions that might be affected if DoH is enabled, including:
</p>
<ul><li>Are parental controls enabled?
</li><li>Is the default DNS server filtering potentially malicious content?
</li><li>Is the device managed by an organization that might have a special DNS configuration?
</li></ul>
<p>If any of these tests determine that DoH might interfere with the function, DoH will not be enabled. These tests will run every time the device connects to a different network.
</p>

<p>You can enable or disable DoH in your <a href="https://support.mozilla.org/kb/connection-settings-firefox/">Firefox connection settings</a>:
</p>
<ol><li><p><span data-for="mac">In the Menu bar at the top of the screen, click  and select .</span>
<span data-for="win,linux"><span data-for="not fx89">Click the menu button <img alt="Fx57Menu" data-original-src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/gallery/images/2017-10-22-15-37-15-18c775.png" src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/placeholder.688345f843bb37ed.gif" title=""/> and select <span data-for="win"></span><span data-for="linux"></span>.</span><span data-for="fx89">Click the menu button <img alt="Fx89menuButton" data-original-src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/gallery/images/2021-05-15-11-18-38-e5b736.png" src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/placeholder.688345f843bb37ed.gif" title=""/> and select .</span></span>
</p>
</li><li>In the General panel, scroll down to Network Settings and click the <span>Settings…</span> button.
</li><li>In the dialog box that opens, scroll down to Enable DNS over HTTPS.
<ul><li><strong>On</strong>: Select the <strong>Enable DNS over HTTPS</strong> checkbox. Select a provider or set up a custom provider.
</li><li><strong>Off</strong>: Deselect the <strong>Enable DNS over HTTPS</strong> checkbox.
</li></ul>
<dl><dt><img alt="DoH_Enable" data-original-src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/gallery/images/2022-03-21-13-22-56-d35243.png" src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/placeholder.688345f843bb37ed.gif" title=""/>
</dt></dl>
</li><li>Click OK to save your changes and close the window.
</li></ol>

<ol><li><p><span data-for="mac">In the Menu bar at the top of the screen, click  and select .</span>
<span data-for="win,linux"><span data-for="not fx89">Click the menu button <img alt="Fx57Menu" data-original-src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/gallery/images/2017-10-22-15-37-15-18c775.png" src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/placeholder.688345f843bb37ed.gif" title=""/> and select <span data-for="win"></span><span data-for="linux"></span>.</span><span data-for="fx89">Click the menu button <img alt="Fx89menuButton" data-original-src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/gallery/images/2021-05-15-11-18-38-e5b736.png" src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/placeholder.688345f843bb37ed.gif" title=""/> and select .</span></span>
</p>
</li><li>Scroll down to Network Settings and click the <span>Settings…</span> button.
</li><li>Click the <strong>Use Provider</strong> drop-down under Enable DNS over HTTPS to select a provider.
<dl><dt><img alt="DoH_Provider" data-original-src="https://user-media-prod-cdn.itsre-sumo.mozilla.net/uploads/gallery/images/2022-03-21-13-26-06-06e9ca.png" src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/placeholder.688345f843bb37ed.gif" title=""/>
</dt></dl>
</li><li>Click OK to save your changes and close the window.
</li></ol>

<p>You can configure exceptions so that Firefox uses your OS resolver instead of DoH:
</p>
<ol><li>Type <strong>about:config</strong> in the <a href="https://wikipedia.org/wiki/Address_bar">address bar</a> and press Return.
</li></ol>
<p>A warning page may appear. Click Accept the Risk and Continue to go to the about:config page.
</p>
<ol><li>Search for network.trr.excluded-domains.
</li><li>Click the <em>Edit</em>  button next to the preference.
</li><li>Add domains, separated by commas, to the list and click on the checkmark  to save the change.
</li></ol>
<p>Do not remove any domains from the list.</p>
<p><strong>About subdomains:</strong> Firefox will check all the domains you&#39;ve listed in network.trr.excluded-domains and their subdomains. For instance, if you enter <a href="http://example.com">example.com</a>, Firefox will also exclude <a href="http://www.example.com">www.example.com</a>.
</p>

<p>See <a href="https://support.mozilla.org/kb/configuring-networks-disable-dns-over-https/">Configuring Networks to Disable DNS over HTTPS</a> and the <a href="https://support.mozilla.org/kb/dns-over-https-doh-faqs/">DNS over HTTPS (DoH) FAQs</a>.
</p>
    
  </section>

      
      
    </article>

    <section>
      
    
  
  
    
  
    </section>

    <section id="doc-contributors">
    <p>These fine people helped write this article:</p> 
  </section>

    <section>
      <div>
  <div>
    <p><img src="https://static-media-prod-cdn.itsre-sumo.mozilla.net/static/volunteer.a3be8d331849774b.png" alt="Illustration of hands"/></p><div>
      <h3>Volunteer</h3>
      <p>Grow and share your expertise with others. Answer questions and improve our knowledge base.</p>
      <p><strong><a href="https://support.mozilla.org/en-US/get-involved">Learn More</a></strong></p>
    </div>
  </div>
</div>
    </section>

    
  </section>

      </main>
    </div></div>
  </body>
</html>
