<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/LGUG2Z/komorebi">Original</a>
    <h1>Komorebi: Tiling Window Management for Windows</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Tiling Window Management for Windows.</p>
<p dir="auto">
  <a href="https://techforpalestine.org/learn-more" rel="nofollow">
    <img alt="Tech for Palestine" src="https://camo.githubusercontent.com/1001b2e8cc187a1b0f6d763935ab994a4a79c0090e13752ad68027b8111b152f/68747470733a2f2f62616467652e74656368666f7270616c657374696e652e6f72672f64656661756c74" data-canonical-src="https://badge.techforpalestine.org/default"/>
  </a>
  <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/477fa185a7c31f2c9c311d59fc512318e371d07bc2f39ced730ee0ccea0c2e78/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f4c475547325a2f6b6f6d6f726562692f2e6769746875622f776f726b666c6f77732f77696e646f77732e79616d6c"><img alt="GitHub Workflow Status" src="https://camo.githubusercontent.com/477fa185a7c31f2c9c311d59fc512318e371d07bc2f39ced730ee0ccea0c2e78/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f4c475547325a2f6b6f6d6f726562692f2e6769746875622f776f726b666c6f77732f77696e646f77732e79616d6c" data-canonical-src="https://img.shields.io/github/actions/workflow/status/LGUG2Z/komorebi/.github/workflows/windows.yaml"/></a>
  <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6d3d7384f77720bef99bf9614b83d762e02867b3faf9aeb03b7d8fbb781952d3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f4c475547325a2f6b6f6d6f72656269"><img alt="GitHub" src="https://camo.githubusercontent.com/6d3d7384f77720bef99bf9614b83d762e02867b3faf9aeb03b7d8fbb781952d3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f4c475547325a2f6b6f6d6f72656269" data-canonical-src="https://img.shields.io/github/license/LGUG2Z/komorebi"/></a>
  <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/318ab98e5a1738865ccaf0c4c3564c76106945a1a9299f6808cd95c38b29cda0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f4c475547325a2f6b6f6d6f726562692f746f74616c"><img alt="GitHub all releases" src="https://camo.githubusercontent.com/318ab98e5a1738865ccaf0c4c3564c76106945a1a9299f6808cd95c38b29cda0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f4c475547325a2f6b6f6d6f726562692f746f74616c" data-canonical-src="https://img.shields.io/github/downloads/LGUG2Z/komorebi/total"/></a>
  <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/d9cc5fdd81174e6ca761d02306d09ddaf82c1b514f5ee4e2e1b846b14c341f0e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6d6d6974732d73696e63652f4c475547325a2f6b6f6d6f726562692f6c6174657374"><img alt="GitHub commits since latest release (by date) for a branch" src="https://camo.githubusercontent.com/d9cc5fdd81174e6ca761d02306d09ddaf82c1b514f5ee4e2e1b846b14c341f0e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6d6d6974732d73696e63652f4c475547325a2f6b6f6d6f726562692f6c6174657374" data-canonical-src="https://img.shields.io/github/commits-since/LGUG2Z/komorebi/latest"/></a>
  <a href="https://discord.gg/mGkn66PHkx" rel="nofollow">
    <img alt="Discord" src="https://camo.githubusercontent.com/7a6a6df9d1454d6c772b6a4ac89d4c4f9bd00f0beb13da8dddedf91be3758c54/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f383938353534363930313236363330393134" data-canonical-src="https://img.shields.io/discord/898554690126630914"/>
  </a>
  <a href="https://github.com/sponsors/LGUG2Z">
    <img alt="GitHub Sponsors" src="https://camo.githubusercontent.com/4d04242f64262a8b070cae18fcf8c75663de1e146f424f150787b50caf74854c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73706f6e736f72732f4c475547325a" data-canonical-src="https://img.shields.io/github/sponsors/LGUG2Z"/>
  </a>
  <a href="https://ko-fi.com/lgug2z" rel="nofollow">
    <img alt="Ko-fi" src="https://camo.githubusercontent.com/18eac10bf5828c77b977340b5c8152812b26e5a5ed13a30efbe73b09b86ca3b8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6b6f66692d7469702d677265656e" data-canonical-src="https://img.shields.io/badge/kofi-tip-green"/>
  </a>
  <a href="https://notado.app/feeds/jado/software-development" rel="nofollow">
    <img alt="Notado Feed" src="https://camo.githubusercontent.com/87279894bfdef05fec7054f70fab94bfd79116bede31ab7bd220291fc50d7c37/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e6f7461646f2d5375627363726962652d696e666f726d6174696f6e616c" data-canonical-src="https://img.shields.io/badge/Notado-Subscribe-informational"/>
  </a>
  <a href="https://www.youtube.com/channel/UCeai3-do-9O4MNy9_xjO6mg?sub_confirmation=1" rel="nofollow">
    <img alt="YouTube" src="https://camo.githubusercontent.com/f9cf1698338c99adff0c58b11c086eec6b008a8e19581b371a21ccc276fe1f1f/68747470733a2f2f696d672e736869656c64732e696f2f796f75747562652f6368616e6e656c2f73756273637269626572732f5543656169332d646f2d394f344d4e79395f786a4f366d67" data-canonical-src="https://img.shields.io/youtube/channel/subscribers/UCeai3-do-9O4MNy9_xjO6mg"/>
  </a>
</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/13164844/184027064-f5a6cec2-2865-4d65-a549-a1f1da589abf.png"><img src="https://user-images.githubusercontent.com/13164844/184027064-f5a6cec2-2865-4d65-a549-a1f1da589abf.png" alt="screenshot"/></a></p>
<p dir="auto"><em>komorebi</em> is a tiling window manager that works as an extension to Microsoft&#39;s
<a href="https://docs.microsoft.com/en-us/windows/win32/dwm/dwm-overview" rel="nofollow">Desktop Window
Manager</a> in
Windows 10 and above.</p>
<p dir="auto"><em>komorebi</em> allows you to control application windows, virtual workspaces and display monitors with a CLI which can be
used with third-party software such as <a href="https://github.com/LGUG2Z/whkd"><code>whkd</code></a>
and <a href="https://github.com/Lexikos/AutoHotkey_L">AutoHotKey</a> to set user-defined keyboard shortcuts.</p>
<p dir="auto"><em>komorebi</em> aims to make <em>as few modifications as possible</em> to the operating
system and desktop environment by default. Users are free to make such
modifications in their own configuration files for <em>komorebi</em>, but these will
remain opt-in and off-by-default for the foreseeable future.</p>
<p dir="auto">Please refer to the <a href="https://lgug2z.github.io/komorebi" rel="nofollow">documentation</a> for instructions on how
to <a href="https://lgug2z.github.io/komorebi/installation.html" rel="nofollow">install</a> and
<a href="https://lgug2z.github.io/komorebi/example-configurations.html" rel="nofollow">configure</a>
<em>komorebi</em>, <a href="https://lgug2z.github.io/komorebi/common-workflows/komorebi-config-home.html" rel="nofollow">common workflows</a>, a complete
<a href="https://komorebi.lgug2z.com/schema" rel="nofollow">configuration schema reference</a> and a
complete <a href="https://lgug2z.github.io/komorebi/cli/quickstart.html" rel="nofollow">CLI reference</a>.</p>
<p dir="auto">There is a <a href="https://discord.gg/mGkn66PHkx" rel="nofollow">Discord server</a> available for
<em>komorebi</em>-related discussion, help, troubleshooting etc. If you have any
specific feature requests or bugs to report, please create an issue in this
repository.</p>
<p dir="auto">There is a <a href="https://www.youtube.com/channel/UCeai3-do-9O4MNy9_xjO6mg" rel="nofollow">YouTube
channel</a> where I post
<em>komorebi</em> development videos. If you would like to be notified of upcoming
videos please subscribe and turn on notifications.</p>
<p dir="auto"><em>komorebi</em> is a free and source-available project, and one that encourages you to
make charitable donations if you find the software to be useful and have the
financial means.</p>
<p dir="auto">I encourage you to make a charitable donation to the <a href="https://pcrf1.app.neoncrm.com/forms/gaza-recovery" rel="nofollow">Palestine Children&#39;s
Relief Fund</a> before you
consider sponsoring me on GitHub.</p>
<p dir="auto"><a href="https://github.com/sponsors/LGUG2Z">GitHub Sponsors is enabled for this
project</a>. Unfortunately I don&#39;t have
anything specific to offer besides my gratitude and shout outs at the end of
<em>komorebi</em> live development videos and tutorials.</p>
<p dir="auto">If you would like to tip or sponsor the project but are unable to use GitHub
Sponsors, you may also sponsor through <a href="https://ko-fi.com/lgug2z" rel="nofollow">Ko-fi</a>.</p>

<p dir="auto">A <a href="https://lgug2z.github.io/komorebi/installation.html" rel="nofollow">detailed installation and quickstart
guide</a> is available which shows how to get started
using <code>scoop</code>, <code>winget</code> or building from source.</p>
<p dir="auto"><a href="https://www.youtube.com/watch?v=H9-_c1egQ4g" rel="nofollow"><img src="https://camo.githubusercontent.com/636c3131f6fb71842a2ad58ab3f8ec8d795bf9fc803bb3a33c2762c2a1547e77/68747470733a2f2f696d672e796f75747562652e636f6d2f76692f48392d5f633165675134672f687164656661756c742e6a7067" alt="Watch the quickstart walkthrough video" data-canonical-src="https://img.youtube.com/vi/H9-_c1egQ4g/hqdefault.jpg"/></a></p>

<p dir="auto">Community member <a href="https://www.youtube.com/@polle5555" rel="nofollow">Olge</a> has created an
excellent video which compares the default window management features of
Windows 11, Fancy Zones and komorebi.</p>
<p dir="auto">If you are not familiar with tiling window managers or if you are looking at
komorebi and wondering &#34;how is this different from Fancy Zones? ðŸ¤”&#34;, this short
video will answer the majority of your questions.</p>
<p dir="auto"><a href="https://www.youtube.com/watch?v=0LCbS_gm0RA" rel="nofollow"><img src="https://camo.githubusercontent.com/2fbffdc96db3be3802ac0ead0bcf79319e2afe3bcde674bab57d3209bee1e220/68747470733a2f2f696d672e796f75747562652e636f6d2f76692f304c4362535f676d3052412f687164656661756c742e6a7067" alt="Watch the comparison video" data-canonical-src="https://img.youtube.com/vi/0LCbS_gm0RA/hqdefault.jpg"/></a></p>

<p dir="auto"><a href="https://github.com/amnweb">@amnweb</a> showing <em>komorebi</em> <code>v0.1.28-dev.0</code> running on Windows 11 with window borders,
unfocused window transparency and animations enabled, using a custom status bar integrated using
<em>komorebi</em>&#39;s <a href="https://github.com/LGUG2Z/komorebi?tab=readme-ov-file#window-manager-event-subscriptions">Window Manager Event Subscriptions</a>.</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description Windows.11.and.Komorebi.mp4">Windows.11.and.Komorebi.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/13164844/342515179-21be8dc4-fa76-4f70-9b37-1d316f4b40c2.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkyNzc4MjksIm5iZiI6MTcxOTI3NzUyOSwicGF0aCI6Ii8xMzE2NDg0NC8zNDI1MTUxNzktMjFiZThkYzQtZmE3Ni00ZjcwLTliMzctMWQzMTZmNGI0MGMyLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MjUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjI1VDAxMDUyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTAyZjJhYjNmNTc0MTA4NGQzMzk3OWE4NGMwMWM1NGYyMTMzZDQ3YmJjMjJmZGQ5N2M3MWQzYzg1NWE3OGJjMTMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.K9n6oBj5xsNQu8nulbl5S-C2yFc5LBkUTxcCPYUd7cE" data-canonical-src="https://private-user-images.githubusercontent.com/13164844/342515179-21be8dc4-fa76-4f70-9b37-1d316f4b40c2.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkyNzc4MjksIm5iZiI6MTcxOTI3NzUyOSwicGF0aCI6Ii8xMzE2NDg0NC8zNDI1MTUxNzktMjFiZThkYzQtZmE3Ni00ZjcwLTliMzctMWQzMTZmNGI0MGMyLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MjUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjI1VDAxMDUyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTAyZjJhYjNmNTc0MTA4NGQzMzk3OWE4NGMwMWM1NGYyMTMzZDQ3YmJjMjJmZGQ5N2M3MWQzYzg1NWE3OGJjMTMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.K9n6oBj5xsNQu8nulbl5S-C2yFc5LBkUTxcCPYUd7cE" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><a href="https://github.com/haxibami">@haxibami</a> showing <em>komorebi</em> running on Windows
11 with a terminal emulator, a web browser and a code editor. The original
video can be viewed
<a href="https://twitter.com/haxibami/status/1501560766578659332" rel="nofollow">here</a>.</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description 0vadqFOyIJHglPRY.mp4">0vadqFOyIJHglPRY.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/13164844/163496447-20c3ff0a-c5d8-40d1-9cc8-156c4cebf12e.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkyNzc4MjksIm5iZiI6MTcxOTI3NzUyOSwicGF0aCI6Ii8xMzE2NDg0NC8xNjM0OTY0NDctMjBjM2ZmMGEtYzVkOC00MGQxLTljYzgtMTU2YzRjZWJmMTJlLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MjUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjI1VDAxMDUyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTBhOWYwZjczMjMxYTdhN2Y1MzE3MzA1NTY3ZThiMWQzNGNjYmM0ZjA4MGZjOWJmOTBjOGQzMDg5NmNhMjg1NjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.8VfNuGF4KWB8nO9rKsnxCrbCIthSsTtW2eJjalsduug" data-canonical-src="https://private-user-images.githubusercontent.com/13164844/163496447-20c3ff0a-c5d8-40d1-9cc8-156c4cebf12e.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkyNzc4MjksIm5iZiI6MTcxOTI3NzUyOSwicGF0aCI6Ii8xMzE2NDg0NC8xNjM0OTY0NDctMjBjM2ZmMGEtYzVkOC00MGQxLTljYzgtMTU2YzRjZWJmMTJlLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MjUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjI1VDAxMDUyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTBhOWYwZjczMjMxYTdhN2Y1MzE3MzA1NTY3ZThiMWQzNGNjYmM0ZjA4MGZjOWJmOTBjOGQzMDg5NmNhMjg1NjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.8VfNuGF4KWB8nO9rKsnxCrbCIthSsTtW2eJjalsduug" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><a href="https://github.com/aik2mlj">@aik2mlj</a> showing <em>komorebi</em> running on Windows 11
with multiple workspaces, terminal emulators, a web browser, and the
<a href="https://github.com/DenBot/yasb">yasb</a> status bar with the <em>komorebi</em> workspace
widget enabled. The original video can be viewed
<a href="https://zhuanlan.zhihu.com/p/455064481" rel="nofollow">here</a>.</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description 0e0dd7fc-7115-11ec-a064-42a1fbc2e1e9-v4_t10000011-wbjnuX5De6.mp4">0e0dd7fc-7115-11ec-a064-42a1fbc2e1e9-v4_t10000011-wbjnuX5De6.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/13164844/163496414-a9cde3d1-b8a7-4a7a-96fb-a8985380bc70.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkyNzc4MjksIm5iZiI6MTcxOTI3NzUyOSwicGF0aCI6Ii8xMzE2NDg0NC8xNjM0OTY0MTQtYTljZGUzZDEtYjhhNy00YTdhLTk2ZmItYTg5ODUzODBiYzcwLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MjUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjI1VDAxMDUyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc3MTYxMjkwOWJkZWQ5NzEzNzU4OTM5NGNiMTMxZTczODA2NWEzYzg2NjI4YjM5M2RhMjM3YjNjYzFmYTQ0YWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.hqIt6YUuljpKQ2PM-QXs03BUAKHWPZkoBQZaKqmP4kE" data-canonical-src="https://private-user-images.githubusercontent.com/13164844/163496414-a9cde3d1-b8a7-4a7a-96fb-a8985380bc70.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkyNzc4MjksIm5iZiI6MTcxOTI3NzUyOSwicGF0aCI6Ii8xMzE2NDg0NC8xNjM0OTY0MTQtYTljZGUzZDEtYjhhNy00YTdhLTk2ZmItYTg5ODUzODBiYzcwLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MjUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjI1VDAxMDUyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc3MTYxMjkwOWJkZWQ5NzEzNzU4OTM5NGNiMTMxZTczODA2NWEzYzg2NjI4YjM5M2RhMjM3YjNjYzFmYTQ0YWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.hqIt6YUuljpKQ2PM-QXs03BUAKHWPZkoBQZaKqmP4kE" controls="controls" muted="muted">

  </video>
</details>


<p dir="auto">If you would like to contribute to <code>komorebi</code> please take the time to carefully read the guidelines below.</p>

<ul dir="auto">
<li>Flatten all <code>use</code> statements</li>
<li>Run <code>cargo +stable clippy</code> and ensure that all lints and suggestions have been addressed before committing</li>
<li>Run <code>cargo +nightly fmt --all</code> to ensure consistent formatting before committing</li>
<li>Use <code>git cz</code> with
the <a href="https://github.com/commitizen/cz-cli#conventional-commit-messages-as-a-global-utility">Commitizen CLI</a> to prepare
commit messages</li>
<li>Provide <strong>at least</strong> one short sentence or paragraph in your commit message body to describe your thought process for the
changes being committed</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">PRs should contain only a single feature or bug fix</h2><a id="user-content-prs-should-contain-only-a-single-feature-or-bug-fix" aria-label="Permalink: PRs should contain only a single feature or bug fix" href="#prs-should-contain-only-a-single-feature-or-bug-fix"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">It is very difficult to review pull requests which touch multiple unrelated features and parts of the codebase.</p>
<p dir="auto">Please do not submit pull requests like this; you will be asked to separate them into smaller PRs that deal only with
one feature or bug fix at a time.</p>
<p dir="auto">If you are working on multiple features and bug fixes, I suggest that you cut a branch called <code>local-trunk</code>
from <code>master</code> which you keep up to date, and rebase the various independent branches you are working on onto that branch
if you want to test them together or create a build with everything integrated.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Refactors to the codebase must have prior approval</h2><a id="user-content-refactors-to-the-codebase-must-have-prior-approval" aria-label="Permalink: Refactors to the codebase must have prior approval" href="#refactors-to-the-codebase-must-have-prior-approval"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><code>komorebi</code> is a mature codebase with an internal consistency and structure that has developed organically over close to
half a decade.</p>
<p dir="auto">There are <a href="https://youtube.com/@LGUG2Z" rel="nofollow">countless hours of live coding videos</a> demonstrating work on this project and
showing new contributors how to do everything from basic tasks like implementing new <code>komorebic</code> commands to
distinguishing monitors by manufacturer hardware identifiers and video card ports.</p>
<p dir="auto">Refactors to the structure of the codebase are not taken lightly and require prior discussion and approval.</p>
<p dir="auto">Please do not start refactoring the codebase with the expectation of having your changes integrated until you receive an
explicit approval or a request to do so.</p>
<p dir="auto">Similarly, when implementing features and bug fixes, please stick to the structure of the codebase as much as possible
and do not take this as an opportunity to do some &#34;refactoring along the way&#34;.</p>
<p dir="auto">It is extremely difficult to review PRs for features and bug fixes if they are lost in sweeping changes to the structure
of the codebase.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Breaking changes to user-facing interfaces are unacceptable</h2><a id="user-content-breaking-changes-to-user-facing-interfaces-are-unacceptable" aria-label="Permalink: Breaking changes to user-facing interfaces are unacceptable" href="#breaking-changes-to-user-facing-interfaces-are-unacceptable"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This includes but is not limited to:</p>
<ul dir="auto">
<li>All <code>komorebic</code> commands</li>
<li>The <code>komorebi.json</code> schema</li>
<li>The <a href="https://github.com/LGUG2Z/komorebi-application-specific-configuration"><code>komorebi-application-specific-configuration</code></a>
schema</li>
</ul>
<p dir="auto">No user should ever find that their configuration file has stopped working after upgrading to a new version
of <code>komorebi</code>.</p>
<p dir="auto">More often than not there are ways to reformulate changes that may initially seem like they require breaking user-facing
interfaces into additive changes.</p>
<p dir="auto">For some inspiration please take a look
at <a href="https://github.com/LGUG2Z/komorebi/commit/e7d928a065eb63bb4ea1fb864c69c1cae8cc763b">this commit</a> which added the
ability for users to specify colours in <code>komorebi.json</code> in Hex format alongside RGB.</p>
<p dir="auto">There is also a process in place for graceful, non-breaking, deprecation of configuration options that are no longer
required.</p>

<p dir="auto"><code>komorebi</code> is licensed under the <a href="https://polyformproject.org/licenses/strict/1.0.0" rel="nofollow">PolyForm Strict 1.0.0
license</a>. On a high level
this means that you are free to do whatever you want with <code>komorebi</code> other than
redistribution, or distribution of new works (ie. hard-forks) based on the
software.</p>
<p dir="auto">Anyone is free to make their own fork of <code>komorebi</code> with changes intended
either for personal use or for integration back upstream via pull requests.</p>
<p dir="auto">Please see <a href="https://github.com/LGUG2Z/komorebi/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a> for more information about how
code contributions to <code>komorebi</code> are licensed.</p>

<p dir="auto">If you use IntelliJ, you should enable the following settings to ensure that code generated by macros is recognised by
the IDE for completions and navigation:</p>
<ul dir="auto">
<li>Set <code>Expand declarative macros</code>
to <code>Use new engine</code> under &#34;Settings &gt; Langauges &amp; Frameworks &gt; Rust&#34;</li>
<li>Enable the following experimental features:
<ul dir="auto">
<li><code>org.rust.cargo.evaluate.build.scripts</code></li>
<li><code>org.rust.macros.proc</code></li>
</ul>
</li>
</ul>

<p dir="auto">Logs from <code>komorebi</code> will be appended to <code>%LOCALAPPDATA%/komorebi/komorebi.log</code>; this file is never rotated or overwritten, so it will keep
growing until it is deleted by the user.</p>
<p dir="auto">Whenever running the <code>komorebic stop</code> command or sending a Ctrl-C signal to <code>komorebi</code> directly, the <code>komorebi</code> process
ensures that all hidden windows are restored before termination.</p>
<p dir="auto">If however, you ever end up with windows that are hidden and cannot be restored, a list of window handles known
to <code>komorebi</code> are stored and continuously updated in <code>%LOCALAPPDATA%/komorebi//komorebi.hwnd.json</code>.</p>

<p dir="auto">Running <code>komorebic restore-windows</code> will read the list of window handles and forcibly restore them, regardless of
whether the main <code>komorebi</code> process is running.</p>

<p dir="auto">If <code>komorebi</code> ever stops responding, it is most likely either due to either a panic or a deadlock. In the case of a
panic, this will be reported in the log. In the case of a deadlock, there will not be any errors in the log, but the
process and the log will appear frozen.</p>
<p dir="auto">If you believe you have encountered a deadlock, you can compile <code>komorebi</code> with <code>--features deadlock_detection</code> and try
reproducing the deadlock again. This will check for deadlocks every 5 seconds in the background, and if a deadlock is
found, information about it will appear in the log which can be shared when opening an issue.</p>

<p dir="auto">The current state of the window manager can be queried using the <code>komorebic state</code> command, which returns a JSON
representation of the <code>State</code> struct.</p>
<p dir="auto">This may also be polled to build further integrations and widgets on top of.</p>


<p dir="auto">It is possible to subscribe to notifications of every <code>WindowManagerEvent</code> and <code>SocketMessage</code> handled
by <code>komorebi</code> using <a href="https://docs.microsoft.com/en-us/windows/win32/ipc/named-pipes" rel="nofollow">Named Pipes</a>.</p>
<p dir="auto">First, your application must create a named pipe. Once the named pipe has been created, run the following command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="komorebic.exe subscribe-pipe &lt;your pipe name&gt;"><pre><span>komorebic.exe</span> subscribe<span>-</span>pipe <span>&lt;</span>your pipe name<span>&gt;</span></pre></div>
<p dir="auto">Note that you do not have to include the full path of the named pipe, just the name.</p>
<p dir="auto">If the named pipe exists, <code>komorebi</code> will start pushing JSON data of successfully handled events and messages:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{&#34;event&#34;:{&#34;type&#34;:&#34;AddSubscriber&#34;,&#34;content&#34;:&#34;yasb&#34;},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusWindow&#34;,&#34;content&#34;:&#34;Left&#34;},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusChange&#34;,&#34;content&#34;:[&#34;SystemForeground&#34;,{&#34;hwnd&#34;:131444,&#34;title&#34;:&#34;komorebi â€“ README.md&#34;,&#34;exe&#34;:&#34;idea64.exe&#34;,&#34;class&#34;:&#34;SunAwtFrame&#34;,&#34;rect&#34;:{&#34;left&#34;:13,&#34;top&#34;:60,&#34;right&#34;:1520,&#34;bottom&#34;:1655}}]},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;MonitorPoll&#34;,&#34;content&#34;:[&#34;ObjectCreate&#34;,{&#34;hwnd&#34;:5572450,&#34;title&#34;:&#34;OLEChannelWnd&#34;,&#34;exe&#34;:&#34;explorer.exe&#34;,&#34;class&#34;:&#34;OleMainThreadWndClass&#34;,&#34;rect&#34;:{&#34;left&#34;:0,&#34;top&#34;:0,&#34;right&#34;:0,&#34;bottom&#34;:0}}]},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusWindow&#34;,&#34;content&#34;:&#34;Right&#34;},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusChange&#34;,&#34;content&#34;:[&#34;SystemForeground&#34;,{&#34;hwnd&#34;:132968,&#34;title&#34;:&#34;Windows PowerShell&#34;,&#34;exe&#34;:&#34;WindowsTerminal.exe&#34;,&#34;class&#34;:&#34;CASCADIA_HOSTING_WINDOW_CLASS&#34;,&#34;rect&#34;:{&#34;left&#34;:1539,&#34;top&#34;:60,&#34;right&#34;:1520,&#34;bottom&#34;:821}}]},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusWindow&#34;,&#34;content&#34;:&#34;Down&#34;},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusChange&#34;,&#34;content&#34;:[&#34;SystemForeground&#34;,{&#34;hwnd&#34;:329264,&#34;title&#34;:&#34;den â€” Mozilla Firefox&#34;,&#34;exe&#34;:&#34;firefox.exe&#34;,&#34;class&#34;:&#34;MozillaWindowClass&#34;,&#34;rect&#34;:{&#34;left&#34;:1539,&#34;top&#34;:894,&#34;right&#34;:1520,&#34;bottom&#34;:821}}]},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusWindow&#34;,&#34;content&#34;:&#34;Up&#34;},&#34;state&#34;:{}}
{&#34;event&#34;:{&#34;type&#34;:&#34;FocusChange&#34;,&#34;content&#34;:[&#34;SystemForeground&#34;,{&#34;hwnd&#34;:132968,&#34;title&#34;:&#34;Windows PowerShell&#34;,&#34;exe&#34;:&#34;WindowsTerminal.exe&#34;,&#34;class&#34;:&#34;CASCADIA_HOSTING_WINDOW_CLASS&#34;,&#34;rect&#34;:{&#34;left&#34;:1539,&#34;top&#34;:60,&#34;right&#34;:1520,&#34;bottom&#34;:821}}]},&#34;state&#34;:{}}"><pre>{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>AddSubscriber<span>&#34;</span></span>,<span>&#34;content&#34;</span>:<span><span>&#34;</span>yasb<span>&#34;</span></span>},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusWindow<span>&#34;</span></span>,<span>&#34;content&#34;</span>:<span><span>&#34;</span>Left<span>&#34;</span></span>},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusChange<span>&#34;</span></span>,<span>&#34;content&#34;</span>:[<span><span>&#34;</span>SystemForeground<span>&#34;</span></span>,{<span>&#34;hwnd&#34;</span>:<span>131444</span>,<span>&#34;title&#34;</span>:<span><span>&#34;</span>komorebi â€“ README.md<span>&#34;</span></span>,<span>&#34;exe&#34;</span>:<span><span>&#34;</span>idea64.exe<span>&#34;</span></span>,<span>&#34;class&#34;</span>:<span><span>&#34;</span>SunAwtFrame<span>&#34;</span></span>,<span>&#34;rect&#34;</span>:{<span>&#34;left&#34;</span>:<span>13</span>,<span>&#34;top&#34;</span>:<span>60</span>,<span>&#34;right&#34;</span>:<span>1520</span>,<span>&#34;bottom&#34;</span>:<span>1655</span>}}]},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>MonitorPoll<span>&#34;</span></span>,<span>&#34;content&#34;</span>:[<span><span>&#34;</span>ObjectCreate<span>&#34;</span></span>,{<span>&#34;hwnd&#34;</span>:<span>5572450</span>,<span>&#34;title&#34;</span>:<span><span>&#34;</span>OLEChannelWnd<span>&#34;</span></span>,<span>&#34;exe&#34;</span>:<span><span>&#34;</span>explorer.exe<span>&#34;</span></span>,<span>&#34;class&#34;</span>:<span><span>&#34;</span>OleMainThreadWndClass<span>&#34;</span></span>,<span>&#34;rect&#34;</span>:{<span>&#34;left&#34;</span>:<span>0</span>,<span>&#34;top&#34;</span>:<span>0</span>,<span>&#34;right&#34;</span>:<span>0</span>,<span>&#34;bottom&#34;</span>:<span>0</span>}}]},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusWindow<span>&#34;</span></span>,<span>&#34;content&#34;</span>:<span><span>&#34;</span>Right<span>&#34;</span></span>},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusChange<span>&#34;</span></span>,<span>&#34;content&#34;</span>:[<span><span>&#34;</span>SystemForeground<span>&#34;</span></span>,{<span>&#34;hwnd&#34;</span>:<span>132968</span>,<span>&#34;title&#34;</span>:<span><span>&#34;</span>Windows PowerShell<span>&#34;</span></span>,<span>&#34;exe&#34;</span>:<span><span>&#34;</span>WindowsTerminal.exe<span>&#34;</span></span>,<span>&#34;class&#34;</span>:<span><span>&#34;</span>CASCADIA_HOSTING_WINDOW_CLASS<span>&#34;</span></span>,<span>&#34;rect&#34;</span>:{<span>&#34;left&#34;</span>:<span>1539</span>,<span>&#34;top&#34;</span>:<span>60</span>,<span>&#34;right&#34;</span>:<span>1520</span>,<span>&#34;bottom&#34;</span>:<span>821</span>}}]},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusWindow<span>&#34;</span></span>,<span>&#34;content&#34;</span>:<span><span>&#34;</span>Down<span>&#34;</span></span>},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusChange<span>&#34;</span></span>,<span>&#34;content&#34;</span>:[<span><span>&#34;</span>SystemForeground<span>&#34;</span></span>,{<span>&#34;hwnd&#34;</span>:<span>329264</span>,<span>&#34;title&#34;</span>:<span><span>&#34;</span>den â€” Mozilla Firefox<span>&#34;</span></span>,<span>&#34;exe&#34;</span>:<span><span>&#34;</span>firefox.exe<span>&#34;</span></span>,<span>&#34;class&#34;</span>:<span><span>&#34;</span>MozillaWindowClass<span>&#34;</span></span>,<span>&#34;rect&#34;</span>:{<span>&#34;left&#34;</span>:<span>1539</span>,<span>&#34;top&#34;</span>:<span>894</span>,<span>&#34;right&#34;</span>:<span>1520</span>,<span>&#34;bottom&#34;</span>:<span>821</span>}}]},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusWindow<span>&#34;</span></span>,<span>&#34;content&#34;</span>:<span><span>&#34;</span>Up<span>&#34;</span></span>},<span>&#34;state&#34;</span>:{}}
{<span>&#34;event&#34;</span>:{<span>&#34;type&#34;</span>:<span><span>&#34;</span>FocusChange<span>&#34;</span></span>,<span>&#34;content&#34;</span>:[<span><span>&#34;</span>SystemForeground<span>&#34;</span></span>,{<span>&#34;hwnd&#34;</span>:<span>132968</span>,<span>&#34;title&#34;</span>:<span><span>&#34;</span>Windows PowerShell<span>&#34;</span></span>,<span>&#34;exe&#34;</span>:<span><span>&#34;</span>WindowsTerminal.exe<span>&#34;</span></span>,<span>&#34;class&#34;</span>:<span><span>&#34;</span>CASCADIA_HOSTING_WINDOW_CLASS<span>&#34;</span></span>,<span>&#34;rect&#34;</span>:{<span>&#34;left&#34;</span>:<span>1539</span>,<span>&#34;top&#34;</span>:<span>60</span>,<span>&#34;right&#34;</span>:<span>1520</span>,<span>&#34;bottom&#34;</span>:<span>821</span>}}]},<span>&#34;state&#34;</span>:{}}</pre></div>
<p dir="auto">You may then filter on the <code>type</code> key to listen to the events that you are interested in. For a full list of possible
notification types, refer to the enum variants of <code>WindowManagerEvent</code> in <code>komorebi</code> and <code>SocketMessage</code>
in <code>komorebi-core</code>.</p>
<p dir="auto">Below is an example of how you can subscribe to and filter on events using a named pipe in <code>nodejs</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="const { exec } = require(&#34;child_process&#34;);
const net = require(&#34;net&#34;);

const pipeName = &#34;\\\\.\\pipe\\komorebi-js&#34;;
const server = net.createServer((stream) =&gt; {
  console.log(&#34;Client connected&#34;);

  // Every time there is a workspace-related event, let&#39;s log the names of all
  // workspaces on the currently focused monitor, and then log the name of the
  // currently focused workspace on that monitor

  stream.on(&#34;data&#34;, (data) =&gt; {
    let json = JSON.parse(data.toString());
    let event = json.event;

    if (event.type.includes(&#34;Workspace&#34;)) {
      let monitors = json.state.monitors;
      let current_monitor = monitors.elements[monitors.focused];
      let workspaces = monitors.elements[monitors.focused].workspaces;
      let current_workspace = workspaces.elements[workspaces.focused];

      console.log(
        workspaces.elements
          .map((workspace) =&gt; workspace.name)
          .filter((name) =&gt; name !== null)
      );
      console.log(current_workspace.name);
    }
  });

  stream.on(&#34;end&#34;, () =&gt; {
    console.log(&#34;Client disconnected&#34;);
  });
});

server.listen(pipeName, () =&gt; {
  console.log(&#34;Named pipe server listening&#34;);
});

const command = &#34;komorebic subscribe-pipe komorebi-js&#34;;

exec(command, (error, stdout, stderr) =&gt; {
  if (error) {
    console.error(`Error executing command: ${error}`);
    return;
  }
});"><pre><span>const</span> <span>{</span> exec <span>}</span> <span>=</span> <span>require</span><span>(</span><span>&#34;child_process&#34;</span><span>)</span><span>;</span>
<span>const</span> <span>net</span> <span>=</span> <span>require</span><span>(</span><span>&#34;net&#34;</span><span>)</span><span>;</span>

<span>const</span> <span>pipeName</span> <span>=</span> <span>&#34;\\\\.\\pipe\\komorebi-js&#34;</span><span>;</span>
<span>const</span> <span>server</span> <span>=</span> <span>net</span><span>.</span><span>createServer</span><span>(</span><span>(</span><span>stream</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;Client connected&#34;</span><span>)</span><span>;</span>

  <span>// Every time there is a workspace-related event, let&#39;s log the names of all</span>
  <span>// workspaces on the currently focused monitor, and then log the name of the</span>
  <span>// currently focused workspace on that monitor</span>

  <span>stream</span><span>.</span><span>on</span><span>(</span><span>&#34;data&#34;</span><span>,</span> <span>(</span><span>data</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>let</span> <span>json</span> <span>=</span> <span>JSON</span><span>.</span><span>parse</span><span>(</span><span>data</span><span>.</span><span>toString</span><span>(</span><span>)</span><span>)</span><span>;</span>
    <span>let</span> <span>event</span> <span>=</span> <span>json</span><span>.</span><span>event</span><span>;</span>

    <span>if</span> <span>(</span><span>event</span><span>.</span><span>type</span><span>.</span><span>includes</span><span>(</span><span>&#34;Workspace&#34;</span><span>)</span><span>)</span> <span>{</span>
      <span>let</span> <span>monitors</span> <span>=</span> <span>json</span><span>.</span><span>state</span><span>.</span><span>monitors</span><span>;</span>
      <span>let</span> <span>current_monitor</span> <span>=</span> <span>monitors</span><span>.</span><span>elements</span><span>[</span><span>monitors</span><span>.</span><span>focused</span><span>]</span><span>;</span>
      <span>let</span> <span>workspaces</span> <span>=</span> <span>monitors</span><span>.</span><span>elements</span><span>[</span><span>monitors</span><span>.</span><span>focused</span><span>]</span><span>.</span><span>workspaces</span><span>;</span>
      <span>let</span> <span>current_workspace</span> <span>=</span> <span>workspaces</span><span>.</span><span>elements</span><span>[</span><span>workspaces</span><span>.</span><span>focused</span><span>]</span><span>;</span>

      <span>console</span><span>.</span><span>log</span><span>(</span>
        <span>workspaces</span><span>.</span><span>elements</span>
          <span>.</span><span>map</span><span>(</span><span>(</span><span>workspace</span><span>)</span> <span>=&gt;</span> <span>workspace</span><span>.</span><span>name</span><span>)</span>
          <span>.</span><span>filter</span><span>(</span><span>(</span><span>name</span><span>)</span> <span>=&gt;</span> <span>name</span> <span>!==</span> <span>null</span><span>)</span>
      <span>)</span><span>;</span>
      <span>console</span><span>.</span><span>log</span><span>(</span><span>current_workspace</span><span>.</span><span>name</span><span>)</span><span>;</span>
    <span>}</span>
  <span>}</span><span>)</span><span>;</span>

  <span>stream</span><span>.</span><span>on</span><span>(</span><span>&#34;end&#34;</span><span>,</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;Client disconnected&#34;</span><span>)</span><span>;</span>
  <span>}</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span>

<span>server</span><span>.</span><span>listen</span><span>(</span><span>pipeName</span><span>,</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;Named pipe server listening&#34;</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span>

<span>const</span> <span>command</span> <span>=</span> <span>&#34;komorebic subscribe-pipe komorebi-js&#34;</span><span>;</span>

<span>exec</span><span>(</span><span>command</span><span>,</span> <span>(</span><span>error</span><span>,</span> <span>stdout</span><span>,</span> <span>stderr</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>if</span> <span>(</span><span>error</span><span>)</span> <span>{</span>
    <span>console</span><span>.</span><span>error</span><span>(</span><span>`Error executing command: <span><span>${</span><span>error</span><span>}</span></span>`</span><span>)</span><span>;</span>
    <span>return</span><span>;</span>
  <span>}</span>
<span>}</span><span>)</span><span>;</span></pre></div>

<p dir="auto">It is possible to subscribe to notifications of every <code>WindowManagerEvent</code> and <code>SocketMessage</code> handled
by <code>komorebi</code> using <a href="https://devblogs.microsoft.com/commandline/af_unix-comes-to-windows/" rel="nofollow">Unix Domain Sockets</a>.</p>
<p dir="auto">UDS are also the only mode of communication between <code>komorebi</code> and <code>komorebic</code>.</p>
<p dir="auto">First, your application must create a socket in <code>$ENV:LocalAppData\komorebi</code>. Once the socket has been created, run the
following command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="komorebic.exe subscribe-socket &lt;your socket name&gt;"><pre><span>komorebic.exe</span> subscribe<span>-</span>socket <span>&lt;</span>your socket name<span>&gt;</span></pre></div>
<p dir="auto">If the socket exists, komorebi will start pushing JSON data of successfully handled events and messages as in the
example above in the Named Pipes section.</p>

<p dir="auto">As of <code>v0.1.22</code> it is possible to use the <code>komorebi-client</code> crate to subscribe to notifications of
every <code>WindowManagerEvent</code> and <code>SocketMessage</code> handled by <code>komorebi</code> in a Rust codebase.</p>
<p dir="auto">Below is a simple example of how to use <code>komorebi-client</code> in a basic Rust application.</p>
<div dir="auto" data-snippet-clipboard-copy-content="// komorebi-client = { git = &#34;https://github.com/LGUG2Z/komorebi&#34;, tag = &#34;v0.1.25&#34;}

use anyhow::Result;
use komorebi_client::Notification;
use komorebi_client::NotificationEvent;
use komorebi_client::UnixListener;
use komorebi_client::WindowManagerEvent;
use std::io::BufRead;
use std::io::BufReader;
use std::io::Read;

pub fn main() -&gt; anyhow::Result&lt;()&gt; {
  let socket = komorebi_client::subscribe(NAME)?;

  for incoming in socket.incoming() {
    match incoming {
      Ok(data) =&gt; {
        let reader = BufReader::new(data.try_clone()?);

        for line in reader.lines().flatten() {
          let notification: Notification = match serde_json::from_str(&amp;line) {
            Ok(notification) =&gt; notification,
            Err(error) =&gt; {
              log::debug!(&#34;discarding malformed komorebi notification: {error}&#34;);
              continue;
            }
          };

          // match and filter on desired notifications
        }
      }
      Err(error) =&gt; {
        log::debug!(&#34;{error}&#34;);
      }
    }
  }

}"><pre><span>// komorebi-client = { git = &#34;https://github.com/LGUG2Z/komorebi&#34;, tag = &#34;v0.1.25&#34;}</span>

<span>use</span> anyhow<span>::</span><span>Result</span><span>;</span>
<span>use</span> komorebi_client<span>::</span><span>Notification</span><span>;</span>
<span>use</span> komorebi_client<span>::</span><span>NotificationEvent</span><span>;</span>
<span>use</span> komorebi_client<span>::</span><span>UnixListener</span><span>;</span>
<span>use</span> komorebi_client<span>::</span><span>WindowManagerEvent</span><span>;</span>
<span>use</span> std<span>::</span>io<span>::</span><span>BufRead</span><span>;</span>
<span>use</span> std<span>::</span>io<span>::</span><span>BufReader</span><span>;</span>
<span>use</span> std<span>::</span>io<span>::</span><span>Read</span><span>;</span>

<span>pub</span> <span>fn</span> <span>main</span><span>(</span><span>)</span> -&gt; anyhow<span>::</span><span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>&gt;</span> <span>{</span>
  <span>let</span> socket = komorebi_client<span>::</span><span>subscribe</span><span>(</span><span>NAME</span><span>)</span>?<span>;</span>

  <span>for</span> incoming <span>in</span> socket<span>.</span><span>incoming</span><span>(</span><span>)</span> <span>{</span>
    <span>match</span> incoming <span>{</span>
      <span>Ok</span><span>(</span>data<span>)</span> =&gt; <span>{</span>
        <span>let</span> reader = <span>BufReader</span><span>::</span><span>new</span><span>(</span>data<span>.</span><span>try_clone</span><span>(</span><span>)</span>?<span>)</span><span>;</span>

        <span>for</span> line <span>in</span> reader<span>.</span><span>lines</span><span>(</span><span>)</span><span>.</span><span>flatten</span><span>(</span><span>)</span> <span>{</span>
          <span>let</span> notification<span>:</span> <span>Notification</span> = <span>match</span> serde_json<span>::</span><span>from_str</span><span>(</span><span>&amp;</span>line<span>)</span> <span>{</span>
            <span>Ok</span><span>(</span>notification<span>)</span> =&gt; notification<span>,</span>
            <span>Err</span><span>(</span>error<span>)</span> =&gt; <span>{</span>
              log<span>::</span>debug!<span>(</span><span>&#34;discarding malformed komorebi notification: {error}&#34;</span><span>)</span><span>;</span>
              <span>continue</span><span>;</span>
            <span>}</span>
          <span>}</span><span>;</span>

          <span>// match and filter on desired notifications</span>
        <span>}</span>
      <span>}</span>
      <span>Err</span><span>(</span>error<span>)</span> =&gt; <span>{</span>
        log<span>::</span>debug!<span>(</span><span>&#34;{error}&#34;</span><span>)</span><span>;</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>

<span>}</span></pre></div>
<p dir="auto">A read-world example can be found
in <a href="https://github.com/LGUG2Z/komokana/blob/feature/komorebi-uds/src/main.rs">komokana</a>.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Subscription Event Notification Schema</h2><a id="user-content-subscription-event-notification-schema" aria-label="Permalink: Subscription Event Notification Schema" href="#subscription-event-notification-schema"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">A <a href="https://json-schema.org/" rel="nofollow">JSON Schema</a> of the event notifications emitted to subscribers can be generated with
the <code>komorebic notification-schema</code> command. The output of this command can be redirected to the clipboard or a file,
which can be used with services such as <a href="https://app.quicktype.io/" rel="nofollow">Quicktype</a> to generate type definitions in different
programming languages.</p>

<p dir="auto">A TCP listener can optionally be exposed on a port of your choosing with the <code>--tcp-port=N</code> flag. If this flag is not
provided to <code>komorebi</code> or <code>komorebic start</code>, no TCP listener will be created.</p>
<p dir="auto">Once created, your client may send
any <a href="https://github.com/LGUG2Z/komorebi/blob/master/komorebi-core/src/lib.rs#L37">SocketMessage</a> to <code>komorebi</code> in the
same way that <code>komorebic</code> would.</p>
<p dir="auto">This can be used if you would like to create your own alternative to <code>komorebic</code> which incorporates scripting and
various middleware layers, and similarly it can be used if you would like to integrate <code>komorebi</code> with
a <a href="https://github.com/LGUG2Z/komorebi/issues/176#issue-1302643961" data-hovercard-type="issue" data-hovercard-url="/LGUG2Z/komorebi/issues/176/hovercard">custom input handler</a>.</p>
<p dir="auto">If a client sends an unrecognized message, it will be disconnected and have to reconnect before trying to communicate
again.</p>

<p dir="auto">A <a href="https://json-schema.org/" rel="nofollow">JSON Schema</a> of socket messages used to send instructions to <code>komorebi</code> can be generated
with the <code>komorebic socket-schema</code> command. The output of this command can be redirected to the clipboard or a file,
which can be used with services such as <a href="https://app.quicktype.io/" rel="nofollow">Quicktype</a> to generate type definitions in different
programming languages.</p>

<ul dir="auto">
<li>
<p dir="auto">First and foremost, thank you to my wife, both for naming this project and for her patience throughout its never-ending development</p>
</li>
<li>
<p dir="auto">Thank you to <a href="https://github.com/sitiom">@sitiom</a> for being <a href="https://jeezy.substack.com/p/the-open-source-contributions-i-appreciate" rel="nofollow">an exemplary open source community leader</a></p>
</li>
<li>
<p dir="auto">Thank you to the developers of <a href="https://github.com/TimUntersberger/nog">nog</a> who came before me and whose work taught me more than I can ever hope to repay</p>
</li>
<li>
<p dir="auto">Thank you to the developers of <a href="https://github.com/lars-berger/GlazeWM">GlazeWM</a> for pushing the boundaries of tiling window management on Windows with me and having an excellent spirit of collaboration</p>
</li>
<li>
<p dir="auto">Thank you to <a href="https://github.com/Ciantic">@Ciantic</a> for helping me bring the <a href="https://github.com/Ciantic/AltTabAccessor/issues/1" data-hovercard-type="issue" data-hovercard-url="/Ciantic/AltTabAccessor/issues/1/hovercard">hidden Virtual Desktops cloaking function</a> to <code>komorebi</code></p>
</li>
</ul>
</article></div></div>
  </body>
</html>
