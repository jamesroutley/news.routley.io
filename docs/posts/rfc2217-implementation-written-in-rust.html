<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/esp-rs/rfc2217-rs">Original</a>
    <h1>RFC2217 implementation written in Rust</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">rfc2217-rs is an <a href="https://www.rfc-editor.org/rfc/rfc2217.html" rel="nofollow">IETF RFC2217</a> implementation in rust, enabling Com Port functionality over TCP/IP connections.</p>

<p dir="auto"><a href="https://www.rfc-editor.org/rfc/rfc2217.html" rel="nofollow">IETF RFC2217</a> defines a <a href="https://www.rfc-editor.org/rfc/rfc854.txt" rel="nofollow">Telnet</a> extension providing serial port functionality. It was initially intended to be used with modems, serial printers, fax machines and similar equipment, but it provides the ability to connect any serial based device to the network.</p>

<p dir="auto">This library provides a server implementation, a protocol parser and data structures with binary serialization/deserialization support.</p>
<p dir="auto">The library is <code>std</code> and <code>no_std</code> compatible, however the server implementation is only available in the <code>std</code> mode. To use the library in <code>no_std</code> mode, set the <code>std</code> feature to <code>false</code>.</p>

<ul dir="auto">
<li>Using the Server</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="use rfc2217_rs::Server;
// --snip--
let mut server = Server::new(&#34;/dev/ttyUSB1&#34;, &#34;127.0.0.1:7878&#34;).unwrap();
// --snip--
loop {
    let result = server.run();
    if let Err(error) == result {
        handle_err(error);
    }
}"><pre><span>use</span> rfc2217_rs<span>::</span><span>Server</span><span>;</span>
<span>// --snip--</span>
<span>let</span> <span>mut</span> server = <span>Server</span><span>::</span><span>new</span><span>(</span><span>&#34;/dev/ttyUSB1&#34;</span><span>,</span> <span>&#34;127.0.0.1:7878&#34;</span><span>)</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
<span>// --snip--</span>
<span>loop</span> <span>{</span>
    <span>let</span> result = server<span>.</span><span>run</span><span>(</span><span>)</span><span>;</span>
    <span>if</span> <span>let</span> <span>Err</span><span>(</span>error<span>)</span> == result <span>{</span>
        <span>handle_err</span><span>(</span>error<span>)</span><span>;</span>
    <span>}</span>
<span>}</span></pre></div>
<ul dir="auto">
<li>Using the Parser</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="use rfc2217_rs::Parser;
use rfc2217_rs::parser::Event;
// --snip--
let mut parser = Parser::new();
// --snip--
loop {
    // --snip--
    let result = parser.process_byte(byte);
    match result {
        Ok(event) =&gt; handle_event(event),
        Err(error) =&gt; handle_error(error),
    }
}"><pre><span>use</span> rfc2217_rs<span>::</span><span>Parser</span><span>;</span>
<span>use</span> rfc2217_rs<span>::</span>parser<span>::</span><span>Event</span><span>;</span>
<span>// --snip--</span>
<span>let</span> <span>mut</span> parser = <span>Parser</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>
<span>// --snip--</span>
<span>loop</span> <span>{</span>
    <span>// --snip--</span>
    <span>let</span> result = parser<span>.</span><span>process_byte</span><span>(</span>byte<span>)</span><span>;</span>
    <span>match</span> result <span>{</span>
        <span>Ok</span><span>(</span>event<span>)</span> =&gt; <span>handle_event</span><span>(</span>event<span>)</span><span>,</span>
        <span>Err</span><span>(</span>error<span>)</span> =&gt; <span>handle_error</span><span>(</span>error<span>)</span><span>,</span>
    <span>}</span>
<span>}</span></pre></div>
<ul dir="auto">
<li>Using the data structure serialization/deserialization</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="use rfc2217_rs::Command;
// --snip--
let command_buf = [0; command::SIZE];
let command = Command::NoOp;
command.serialize(&amp;mut command_buf);
let deserialized_command = Command::deserialize(&amp;command_buf);"><pre><span>use</span> rfc2217_rs<span>::</span><span>Command</span><span>;</span>
<span>// --snip--</span>
<span>let</span> command_buf = <span>[</span><span>0</span><span>;</span> command<span>::</span><span>SIZE</span><span>]</span><span>;</span>
<span>let</span> command = <span>Command</span><span>::</span><span>NoOp</span><span>;</span>
command<span>.</span><span>serialize</span><span>(</span><span>&amp;</span><span>mut</span> command_buf<span>)</span><span>;</span>
<span>let</span> deserialized_command = <span>Command</span><span>::</span><span>deserialize</span><span>(</span><span>&amp;</span>command_buf<span>)</span><span>;</span></pre></div>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/esp-rs/rfc2217-rs/blob/main/diagram_light.svg#gh-light-mode-only"><img src="https://github.com/esp-rs/rfc2217-rs/raw/main/diagram_light.svg#gh-light-mode-only" alt="diagram"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/esp-rs/rfc2217-rs/blob/main/diagram_dark.svg#gh-dark-mode-only"><img src="https://github.com/esp-rs/rfc2217-rs/raw/main/diagram_dark.svg#gh-dark-mode-only" alt="diagram"/></a></p>

<p dir="auto">Licensed under either of:</p>
<ul dir="auto">
<li>Apache License, Version 2.0 (LICENSE-APACHE or <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">http://www.apache.org/licenses/LICENSE-2.0</a>)</li>
<li>MIT license (LICENSE-MIT or <a href="http://opensource.org/licenses/MIT" rel="nofollow">http://opensource.org/licenses/MIT</a>)
at your option.</li>
</ul>

<p dir="auto">Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any additional terms or conditions.</p>
</article>
          </div></div>
  </body>
</html>
