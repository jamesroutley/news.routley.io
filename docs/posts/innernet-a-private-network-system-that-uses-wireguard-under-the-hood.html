<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/tonarino/innernet">Original</a>
    <h1>Innernet: A private network system that uses WireGuard under the hood</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">A private network system that uses <a href="https://wireguard.com" rel="nofollow">WireGuard</a> under the hood. See the <a href="https://blog.tonari.no/introducing-innernet" rel="nofollow">announcement blog post</a> for a longer-winded explanation.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/373823/118917068-09ae7700-b96b-11eb-80f4-6860072d504d.gif"><img src="https://user-images.githubusercontent.com/373823/118917068-09ae7700-b96b-11eb-80f4-6860072d504d.gif" width="600" height="370" data-animated-image=""/></a></p>
<p dir="auto"><code>innernet</code> is similar in its goals to Slack&#39;s <a href="https://github.com/slackhq/nebula">nebula</a> or <a href="https://tailscale.com/" rel="nofollow">Tailscale</a>, but takes a bit of a different approach. It aims to take advantage of existing networking concepts like CIDRs and the security properties of WireGuard to turn your computer&#39;s basic IP networking into more powerful ACL primitives.</p>
<p dir="auto"><code>innernet</code> is not an official WireGuard project, and WireGuard is a registered trademark of Jason A. Donenfeld.</p>
<p dir="auto">This has not received an independent security audit, and should be considered experimental software at this early point in its lifetime.</p>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<h3 dir="auto"><a id="user-content-server-creation" aria-hidden="true" href="#server-creation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Server Creation</h3>
<p dir="auto">Every <code>innernet</code> network needs a coordination server to manage peers and provide endpoint information so peers can directly connect to each other. Create a new one with</p>

<p dir="auto">The init wizard will ask you questions about your network and give you some reasonable defaults. It&#39;s good to familiarize yourself with <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing" rel="nofollow">network CIDRs</a> as a lot of innernet&#39;s access control is based upon them. As an example, let&#39;s say the root CIDR for this network is <code>10.60.0.0/16</code>. Server initialization creates a special &#34;infra&#34; CIDR which contains the <code>innernet</code> server itself and is reachable from all CIDRs on the network.</p>
<p dir="auto">Next we&#39;ll also create a <code>humans</code> CIDR where we can start adding some peers.</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet-server add-cidr &lt;interface&gt;"><pre>sudo innernet-server add-cidr <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">For the parent CIDR, you can simply choose your network&#39;s root CIDR. The name will be <code>humans</code>, and the CIDR will be <code>10.60.64.0/24</code> (not a great example unless you only want to support 256 humans, but it works for now...).</p>
<p dir="auto">By default, peers which exist in this new CIDR will only be able to contact peers in the same CIDR, and the special &#34;infra&#34; CIDR which was created when the server was initialized.</p>
<p dir="auto">A typical workflow for creating a new network is to create an admin peer from the <code>innernet-server</code> CLI, and then continue using that admin peer via the <code>innernet</code> client CLI to add any further peers or network CIDRs.</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet-server add-peer &lt;interface&gt;"><pre>sudo innernet-server add-peer <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">Select the <code>humans</code> CIDR, and the CLI will automatically suggest the next available IP address. Any name is fine, just answer &#34;yes&#34; when asked if you would like to make the peer an admin. The process of adding a peer results in an invitation file. This file contains just enough information for the new peer to contact the <code>innernet</code> server and redeem its invitation. It should be transferred securely to the new peer, and it can only be used once to initialize the peer.</p>
<p dir="auto">You can run the server with <code>innernet-server serve &lt;interface&gt;</code>, or if you&#39;re on Linux and want to run it via <code>systemctl</code>, run <code>systemctl enable --now innernet-server@&lt;interface&gt;</code>. If you&#39;re on a home network, don&#39;t forget to configure port forwarding to the <code>Listen Port</code> you specified when creating the <code>innernet</code> server.</p>
<h3 dir="auto"><a id="user-content-peer-initialization" aria-hidden="true" href="#peer-initialization"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Peer Initialization</h3>
<p dir="auto">Let&#39;s assume the invitation file generated in the steps above have been transferred to the machine a network admin will be using.</p>
<p dir="auto">You can initialize the client with</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet install /path/to/invitation.toml"><pre>sudo innernet install /path/to/invitation.toml</pre></div>
<p dir="auto">You can customize the network name if you want to, or leave it at the default. <code>innernet</code> will then connect to the <code>innernet</code> server via WireGuard, generate a new key pair, and register that pair with the server. The private key in the invitation file can no longer be used.</p>
<p dir="auto">If everything was successful, the new peer is on the network. You can run things like</p>

<p dir="auto">or</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet list --tree"><pre>sudo innernet list --tree</pre></div>
<p dir="auto">to view the current network and all CIDRs visible to this peer.</p>
<p dir="auto">Since we created an admin peer, we can also add new peers and CIDRs from this peer via <code>innernet</code> instead of having to always run commands on the server.</p>
<h3 dir="auto"><a id="user-content-adding-associations-between-cidrs" aria-hidden="true" href="#adding-associations-between-cidrs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Adding Associations between CIDRs</h3>
<p dir="auto">In order for peers from one CIDR to be able to contact peers in another CIDR, those two CIDRs must be &#34;associated&#34; with each other.</p>
<p dir="auto">With the admin peer we created above, let&#39;s add a new CIDR for some theoretical CI servers we have.</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet add-cidr &lt;interface&gt;"><pre>sudo innernet add-cidr <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">The name is <code>ci-servers</code> and the CIDR is <code>10.60.64.0/24</code>, but for this example it can be anything.</p>
<p dir="auto">For now, we want peers in the <code>humans</code> CIDR to be able to access peers in the <code>ci-servers</code> CIDR.</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet add-association &lt;interface&gt;"><pre>sudo innernet add-association <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">The CLI will ask you to select the two CIDRs you want to associate. That&#39;s all it takes to allow peers in two different CIDRs to communicate!</p>
<p dir="auto">You can verify the association with</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet list-associations &lt;interface&gt;"><pre>sudo innernet list-associations <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">and associations can be deleted with</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet delete-associations &lt;interface&gt;"><pre>sudo innernet delete-associations <span>&lt;</span>interface<span>&gt;</span></pre></div>
<h3 dir="auto"><a id="user-content-enablingdisabling-peers" aria-hidden="true" href="#enablingdisabling-peers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Enabling/Disabling Peers</h3>
<p dir="auto">For security reasons, IP addresses cannot be re-used by new peers, and therefore peers cannot be deleted. However, they can be disabled. Disabled peers will not show up in the list of peers when fetching the config for an interface.</p>
<p dir="auto">Disable a peer with</p>
<div data-snippet-clipboard-copy-content="sudo innernet disable-peer &lt;interface&gt;"><pre lang="su"><code>sudo innernet disable-peer &lt;interface&gt;
</code></pre></div>
<p dir="auto">Or re-enable a peer with</p>
<div data-snippet-clipboard-copy-content="sudo innernet enable-peer &lt;interface&gt;"><pre lang="su"><code>sudo innernet enable-peer &lt;interface&gt;
</code></pre></div>
<h3 dir="auto"><a id="user-content-specifying-a-manual-endpoint" aria-hidden="true" href="#specifying-a-manual-endpoint"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Specifying a Manual Endpoint</h3>
<p dir="auto">The <code>innernet</code> server will try to use the internet endpoint it sees from a peer so other peers can connect to that peer as well. This doesn&#39;t always work and you may want to set an endpoint explicitly. To set an endpoint, use</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet override-endpoint &lt;interface&gt;"><pre>sudo innernet override-endpoint <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">You can go back to automatic endpoint discovery with</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet override-endpoint -u &lt;interface&gt;"><pre>sudo innernet override-endpoint -u <span>&lt;</span>interface<span>&gt;</span></pre></div>
<h3 dir="auto"><a id="user-content-setting-the-local-wireguard-listen-port" aria-hidden="true" href="#setting-the-local-wireguard-listen-port"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Setting the Local WireGuard Listen Port</h3>
<p dir="auto">If you want to change the port which WireGuard listens on, use</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet set-listen-port &lt;interface&gt;"><pre>sudo innernet set-listen-port <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">or unset the port and use a randomized port with</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet set-listen-port -u &lt;interface&gt;"><pre>sudo innernet set-listen-port -u <span>&lt;</span>interface<span>&gt;</span></pre></div>
<h3 dir="auto"><a id="user-content-remove-network" aria-hidden="true" href="#remove-network"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Remove Network</h3>
<p dir="auto">To permanently uninstall a created network, use</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo innernet-server uninstall &lt;interface&gt;"><pre>sudo innernet-server uninstall <span>&lt;</span>interface<span>&gt;</span></pre></div>
<p dir="auto">Use with care!</p>
<h2 dir="auto"><a id="user-content-security-recommendations" aria-hidden="true" href="#security-recommendations"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Security recommendations</h2>
<p dir="auto">If you&#39;re running a service on innernet, there are some important security considerations.</p>
<h3 dir="auto"><a id="user-content-enable-strict-reverse-path-filtering-rfc-3704" aria-hidden="true" href="#enable-strict-reverse-path-filtering-rfc-3704"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Enable strict Reverse Path Filtering (<a href="https://tools.ietf.org/html/rfc3704" rel="nofollow">RFC 3704</a>)</h3>
<p dir="auto">Strict RPF prevents packets from <em>other</em> interfaces from having internal source IP addresses. This is <em>not</em> the default on Linux, even though it is the right choice for 99.99% of situations. You can enable it by adding the following to a <code>/etc/sysctl.d/60-network-security.conf</code>:</p>
<div data-snippet-clipboard-copy-content="net.ipv4.conf.all.rp_filter=1
net.ipv4.conf.default.rp_filter=1"><pre><code>net.ipv4.conf.all.rp_filter=1
net.ipv4.conf.default.rp_filter=1
</code></pre></div>
<h3 dir="auto"><a id="user-content-bind-to-the-wireguard-device" aria-hidden="true" href="#bind-to-the-wireguard-device"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Bind to the WireGuard device</h3>
<p dir="auto">If possible, to <em>ensure</em> that packets are only ever transmitted over the WireGuard interface, it&#39;s recommended that you use <code>SO_BINDTODEVICE</code> on Linux or <code>IP_BOUND_IF</code> on macOS/BSDs. If you have strict reverse path filtering, though, this is less of a concern.</p>
<h3 dir="auto"><a id="user-content-ip-addresses-alone-often-arent-enough-authentication" aria-hidden="true" href="#ip-addresses-alone-often-arent-enough-authentication"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>IP addresses alone often aren&#39;t enough authentication</h3>
<p dir="auto">Even following all the above precautions, rogue applications on a peer&#39;s machines could be able to make requests on their behalf unless you add extra layers of authentication to mitigate this CSRF-type vector.</p>
<p dir="auto">It&#39;s recommended that you carefully consider this possibility before deciding that the source IP is sufficient for your authentication needs on a service.</p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">innernet has only officially been tested on Linux and MacOS, but we hope to support as many platforms as is feasible!</p>
<h3 dir="auto"><a id="user-content-runtime-dependencies" aria-hidden="true" href="#runtime-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Runtime Dependencies</h3>
<p dir="auto">It&#39;s assumed that WireGuard is installed on your system, either via the kernel module in Linux 5.6 and later, or via the <a href="https://git.zx2c4.com/wireguard-go/about/" rel="nofollow"><code>wireguard-go</code></a> userspace implementation.</p>
<p dir="auto"><a href="https://www.wireguard.com/install/" rel="nofollow">WireGuard Installation Instructions</a></p>
<h3 dir="auto"><a id="user-content-arch-linux" aria-hidden="true" href="#arch-linux"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Arch Linux</h3>

<h3 dir="auto"><a id="user-content-ubuntu" aria-hidden="true" href="#ubuntu"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Ubuntu</h3>
<p dir="auto">Fetch the appropriate <code>.deb</code> packages from
<a href="https://github.com/tonarino/innernet/releases">https://github.com/tonarino/innernet/releases</a> and install with</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt install ./innernet*.deb"><pre>sudo apt install ./innernet<span>*</span>.deb</pre></div>
<h3 dir="auto"><a id="user-content-macos" aria-hidden="true" href="#macos"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>macOS</h3>
<div dir="auto" data-snippet-clipboard-copy-content="brew install tonarino/innernet/innernet"><pre>brew install tonarino/innernet/innernet</pre></div>
<h3 dir="auto"><a id="user-content-cargo" aria-hidden="true" href="#cargo"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Cargo</h3>
<div dir="auto" data-snippet-clipboard-copy-content="# to install innernet:
cargo install --git https://github.com/tonarino/innernet --tag v1.5.4 client

# to install innernet-server:
cargo install --git https://github.com/tonarino/innernet --tag v1.5.4 server"><pre><span><span>#</span> to install innernet:</span>
cargo install --git https://github.com/tonarino/innernet --tag v1.5.4 client

<span><span>#</span> to install innernet-server:</span>
cargo install --git https://github.com/tonarino/innernet --tag v1.5.4 server</pre></div>
<p dir="auto">Note that you&#39;ll be responsible for updating manually.</p>
<h2 dir="auto"><a id="user-content-development" aria-hidden="true" href="#development"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Development</h2>
<h3 dir="auto"><a id="user-content-innernet-server-build-dependencies" aria-hidden="true" href="#innernet-server-build-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>innernet-server</code> Build dependencies</h3>
<ul dir="auto">
<li><code>rustc</code> / <code>cargo</code> (version 1.50.0 or higher)</li>
<li><code>libclang</code> (see more info at <a href="https://crates.io/crates/clang-sys" rel="nofollow">https://crates.io/crates/clang-sys</a>)</li>
<li><code>libsqlite3</code></li>
</ul>
<p dir="auto">Build:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo build --release --bin innernet-server"><pre>cargo build --release --bin innernet-server</pre></div>
<p dir="auto">The resulting binary will be located at <code>./target/release/innernet-server</code></p>
<h3 dir="auto"><a id="user-content-innernet-client-cli-build-dependencies" aria-hidden="true" href="#innernet-client-cli-build-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>innernet</code> Client CLI Build dependencies</h3>
<ul dir="auto">
<li><code>rustc</code> / <code>cargo</code> (version 1.50.0 or higher)</li>
<li><code>libclang</code> (see more info at <a href="https://crates.io/crates/clang-sys" rel="nofollow">https://crates.io/crates/clang-sys</a>)</li>
</ul>
<p dir="auto">Build:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo build --release --bin innernet"><pre>cargo build --release --bin innernet</pre></div>
<p dir="auto">The resulting binary will be located at <code>./target/release/innernet</code></p>
<h3 dir="auto"><a id="user-content-releases" aria-hidden="true" href="#releases"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Releases</h3>
<ol dir="auto">
<li>Run <code>cargo release [--dry-run] [minor|major|patch|...]</code> to automatically bump the crates appropriately.</li>
<li>Create a new git tag (ex. <code>v0.6.0</code>).</li>
<li>Push (with tags) to the repo.</li>
</ol>
<p dir="auto">innernet uses GitHub Actions to automatically produce a debian package for the <a href="https://github.com/tonarino/innernet/releases">releases page</a>.</p>
</article>
          </div></div>
  </body>
</html>
