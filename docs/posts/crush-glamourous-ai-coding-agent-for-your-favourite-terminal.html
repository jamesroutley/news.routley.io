<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/charmbracelet/crush">Original</a>
    <h1>Crush: Glamourous AI coding agent for your favourite terminal</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">
    <a href="https://stuff.charm.sh/crush/charm-crush.png" rel="nofollow"><img width="450" alt="Charm Crush Logo" src="https://private-user-images.githubusercontent.com/25087/471783339-adc1a6f4-b284-4603-836c-59038caa2e8b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTM4OTYzMTYsIm5iZiI6MTc1Mzg5NjAxNiwicGF0aCI6Ii8yNTA4Ny80NzE3ODMzMzktYWRjMWE2ZjQtYjI4NC00NjAzLTgzNmMtNTkwMzhjYWEyZThiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzMwVDE3MjAxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTdkNjM1ODc3OWJhNDhmYzVjNGJhNDU1YTVkMDVmYzQ2ZjIxMTkzNTYzYzk0MGMyMjY4MWJmNWViYzMxNTM3MGMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.Bm1uvFLUQCsA4_el0GNuE4rWTQ950wORKCTpmK0or-Q" secured-asset-link=""/></a></p>
<p dir="auto">Your new coding bestie, now available in your favourite terminal.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/25087/471774478-58280caf-851b-470a-b6f7-d5c4ea8a1968.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTM4OTYzMTYsIm5iZiI6MTc1Mzg5NjAxNiwicGF0aCI6Ii8yNTA4Ny80NzE3NzQ0NzgtNTgyODBjYWYtODUxYi00NzBhLWI2ZjctZDVjNGVhOGExOTY4LmdpZj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzMwVDE3MjAxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTk0NzZkNDYyYmNmZWQ3OWEzNWI3ZGExMmYxODg3Njc2ZTRlZjY0ZjFjNjRiNTQzMGFlYjVkNjNiMzkwYzlhNzcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.8c1y4K8Iz27tGvFRUzsS3OnGUUC4IKaTolFP3d4Zwxc"><img width="800" alt="Crush Demo" src="https://private-user-images.githubusercontent.com/25087/471774478-58280caf-851b-470a-b6f7-d5c4ea8a1968.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTM4OTYzMTYsIm5iZiI6MTc1Mzg5NjAxNiwicGF0aCI6Ii8yNTA4Ny80NzE3NzQ0NzgtNTgyODBjYWYtODUxYi00NzBhLWI2ZjctZDVjNGVhOGExOTY4LmdpZj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzMwVDE3MjAxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTk0NzZkNDYyYmNmZWQ3OWEzNWI3ZGExMmYxODg3Njc2ZTRlZjY0ZjFjNjRiNTQzMGFlYjVkNjNiMzkwYzlhNzcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.8c1y4K8Iz27tGvFRUzsS3OnGUUC4IKaTolFP3d4Zwxc" data-animated-image=""/></a></p>

<ul dir="auto">
<li><strong>Multi-Model:</strong> choose from a wide range of LLMs or add your own via OpenAI- or Anthropic-compatible APIs</li>
<li><strong>Flexible:</strong> switch LLMs mid-session while preserving context</li>
<li><strong>Session-Based:</strong> maintain multiple work sessions and contexts per project</li>
<li><strong>LSP-Enhanced:</strong> Crush uses LSPs for additional context, just like you do</li>
<li><strong>Extensible:</strong> add capabilities via MCPs (<code>http</code>, <code>stdio</code>, and <code>sse</code>)</li>
<li><strong>Works Everywhere:</strong> first-class support in every terminal on macOS, Linux, Windows (PowerShell and WSL), and FreeBSD</li>
</ul>

<p dir="auto">Use a package manager:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Homebrew
brew install charmbracelet/tap/crush

# NPM
npm install -g @charmland/crush

# Arch Linux (btw)
yay -S crush-bin"><pre><span><span>#</span> Homebrew</span>
brew install charmbracelet/tap/crush

<span><span>#</span> NPM</span>
npm install -g @charmland/crush

<span><span>#</span> Arch Linux (btw)</span>
yay -S crush-bin</pre></div>
<details>
<summary><strong>Nix</strong></summary>
<p dir="auto">Crush is available via <a href="https://github.com/nix-community/NUR">NUR</a> in <code>nur.repos.charmbracelet.crush</code>.</p>
<p dir="auto">You can also try out Crush via <code>nix-shell</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Add the NUR channel.
nix-channel --add https://github.com/nix-community/NUR/archive/main.tar.gz nur
nix-channel --update

# Get Crush in a Nix shell.
nix-shell -p &#39;(import &lt;nur&gt; { pkgs = import &lt;nixpkgs&gt; {}; }).repos.charmbracelet.crush&#39;"><pre><span><span>#</span> Add the NUR channel.</span>
nix-channel --add https://github.com/nix-community/NUR/archive/main.tar.gz nur
nix-channel --update

<span><span>#</span> Get Crush in a Nix shell.</span>
nix-shell -p <span><span>&#39;</span>(import &lt;nur&gt; { pkgs = import &lt;nixpkgs&gt; {}; }).repos.charmbracelet.crush<span>&#39;</span></span></pre></div>
</details>
<details>
<summary><strong>Debian/Ubuntu</strong></summary>
<div dir="auto" data-snippet-clipboard-copy-content="sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://repo.charm.sh/apt/gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/charm.gpg
echo &#34;deb [signed-by=/etc/apt/keyrings/charm.gpg] https://repo.charm.sh/apt/ * *&#34; | sudo tee /etc/apt/sources.list.d/charm.list
sudo apt update &amp;&amp; sudo apt install crush"><pre>sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://repo.charm.sh/apt/gpg.key <span>|</span> sudo gpg --dearmor -o /etc/apt/keyrings/charm.gpg
<span>echo</span> <span><span>&#34;</span>deb [signed-by=/etc/apt/keyrings/charm.gpg] https://repo.charm.sh/apt/ * *<span>&#34;</span></span> <span>|</span> sudo tee /etc/apt/sources.list.d/charm.list
sudo apt update <span>&amp;&amp;</span> sudo apt install crush</pre></div>
</details>
<details>
<summary><strong>Fedora/RHEL</strong></summary>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#39;[charm]
name=Charm
baseurl=https://repo.charm.sh/yum/
enabled=1
gpgcheck=1
gpgkey=https://repo.charm.sh/yum/gpg.key&#39; | sudo tee /etc/yum.repos.d/charm.repo
sudo yum install crush"><pre><span>echo</span> <span><span>&#39;</span>[charm]</span>
<span>name=Charm</span>
<span>baseurl=https://repo.charm.sh/yum/</span>
<span>enabled=1</span>
<span>gpgcheck=1</span>
<span>gpgkey=https://repo.charm.sh/yum/gpg.key<span>&#39;</span></span> <span>|</span> sudo tee /etc/yum.repos.d/charm.repo
sudo yum install crush</pre></div>
</details>
<p dir="auto">Or, download it:</p>
<ul dir="auto">
<li><a href="https://github.com/charmbracelet/crush/releases">Packages</a> are available in Debian and RPM formats</li>
<li><a href="https://github.com/charmbracelet/crush/releases">Binaries</a> are available for Linux, macOS, Windows, FreeBSD, OpenBSD, and NetBSD</li>
</ul>
<p dir="auto">Or just install it with Go:</p>
<div data-snippet-clipboard-copy-content="go install github.com/charmbracelet/crush@latest"><pre><code>go install github.com/charmbracelet/crush@latest
</code></pre></div>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p><p dir="auto">Productivity may increase when using Crush and you may find yourself nerd
sniped when first using the application. If the symptoms persist, join the
<a href="https://charm.land/discord" rel="nofollow">Discord</a> and nerd snipe the rest of us.</p>
</div>

<p dir="auto">The quickest way to get started is to grab an API key for your preferred
provider such as Anthropic, OpenAI, Groq, or OpenRouter and just start
Crush. You&#39;ll be prompted to enter your API key.</p>
<p dir="auto">That said, you can also set environment variables for preferred providers.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Environment Variable</th>
<th>Provider</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ANTHROPIC_API_KEY</code></td>
<td>Anthropic</td>
</tr>
<tr>
<td><code>OPENAI_API_KEY</code></td>
<td>OpenAI</td>
</tr>
<tr>
<td><code>GEMINI_API_KEY</code></td>
<td>Google Gemini</td>
</tr>
<tr>
<td><code>VERTEXAI_PROJECT</code></td>
<td>Google Cloud VertexAI (Gemini)</td>
</tr>
<tr>
<td><code>VERTEXAI_LOCATION</code></td>
<td>Google Cloud VertexAI (Gemini)</td>
</tr>
<tr>
<td><code>GROQ_API_KEY</code></td>
<td>Groq</td>
</tr>
<tr>
<td><code>AWS_ACCESS_KEY_ID</code></td>
<td>AWS Bedrock (Claude)</td>
</tr>
<tr>
<td><code>AWS_SECRET_ACCESS_KEY</code></td>
<td>AWS Bedrock (Claude)</td>
</tr>
<tr>
<td><code>AWS_REGION</code></td>
<td>AWS Bedrock (Claude)</td>
</tr>
<tr>
<td><code>AZURE_OPENAI_ENDPOINT</code></td>
<td>Azure OpenAI models</td>
</tr>
<tr>
<td><code>AZURE_OPENAI_API_KEY</code></td>
<td>Azure OpenAI models (optional when using Entra ID)</td>
</tr>
<tr>
<td><code>AZURE_OPENAI_API_VERSION</code></td>
<td>Azure OpenAI models</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Is there a provider you’d like to see in Crush? Is there an existing model that needs an update?</p>
<p dir="auto">Crush’s default model listing is managed in <a href="https://github.com/charmbracelet/catwalk">Catwalk</a>, an community-supported, open source repository of Crush-compatible models, and you’re welcome to contribute.</p>
<p dir="auto"><a href="https://github.com/charmbracelet/catwalk"><img width="174" height="174" alt="Catwalk Badge" src="https://private-user-images.githubusercontent.com/25087/472196153-95b49515-fe82-4409-b10d-5beb0873787d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTM4OTYzMTYsIm5iZiI6MTc1Mzg5NjAxNiwicGF0aCI6Ii8yNTA4Ny80NzIxOTYxNTMtOTViNDk1MTUtZmU4Mi00NDA5LWIxMGQtNWJlYjA4NzM3ODdkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzMwVDE3MjAxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWFhODE2OGFhODdkOWUxNjM0ODE3MDQ2N2U2ZGJmNTMxYTk2NzBiZGEyNDA4ZjZmYTc4MjZmNWM3NGEyYzUxMWUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.M5K_bVr-ReK9Exr1KVHxUsL5YSWZVVncH3CHjqcX9k0" secured-asset-link=""/></a></p>

<p dir="auto">Crush runs great with no configuration. That said, if you do need or want to
customize Crush, configuration can be added either local to the project itself,
or globally, with the following priority:</p>
<ol dir="auto">
<li><code>./.crush.json</code></li>
<li><code>./crush.json</code></li>
<li><code>$HOME/.config/crush/crush.json</code></li>
</ol>
<p dir="auto">Configuration itself is stored as a JSON object:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
   &#34;this-setting&#34;: { }
   &#34;that-setting&#34;: { }
}"><pre>{
   <span>&#34;this-setting&#34;</span>: { }
   <span>&#34;that-setting&#34;</span>: { }
}</pre></div>

<p dir="auto">Crush can use LSPs for additional context to help inform its decisions, just
like you would. LSPs can be added manually like so:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;$schema&#34;: &#34;https://charm.land/crush.json&#34;,
  &#34;lsp&#34;: {
    &#34;go&#34;: {
      &#34;command&#34;: &#34;gopls&#34;
    },
    &#34;typescript&#34;: {
      &#34;command&#34;: &#34;typescript-language-server&#34;,
      &#34;args&#34;: [&#34;--stdio&#34;]
    },
    &#34;nix&#34;: {
      &#34;command&#34;: &#34;nil&#34;
    }
  }
}"><pre>{
  <span>&#34;$schema&#34;</span>: <span><span>&#34;</span>https://charm.land/crush.json<span>&#34;</span></span>,
  <span>&#34;lsp&#34;</span>: {
    <span>&#34;go&#34;</span>: {
      <span>&#34;command&#34;</span>: <span><span>&#34;</span>gopls<span>&#34;</span></span>
    },
    <span>&#34;typescript&#34;</span>: {
      <span>&#34;command&#34;</span>: <span><span>&#34;</span>typescript-language-server<span>&#34;</span></span>,
      <span>&#34;args&#34;</span>: [<span><span>&#34;</span>--stdio<span>&#34;</span></span>]
    },
    <span>&#34;nix&#34;</span>: {
      <span>&#34;command&#34;</span>: <span><span>&#34;</span>nil<span>&#34;</span></span>
    }
  }
}</pre></div>

<p dir="auto">Crush also supports Model Context Protocol (MCP) servers through three
transport types: <code>stdio</code> for command-line servers, <code>http</code> for HTTP endpoints,
and <code>sse</code> for Server-Sent Events. Environment variable expansion is supported
using <code>$(echo $VAR)</code> syntax.</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;$schema&#34;: &#34;https://charm.land/crush.json&#34;,
  &#34;mcp&#34;: {
    &#34;filesystem&#34;: {
      &#34;type&#34;: &#34;stdio&#34;,
      &#34;command&#34;: &#34;node&#34;,
      &#34;args&#34;: [&#34;/path/to/mcp-server.js&#34;],
      &#34;env&#34;: {
        &#34;NODE_ENV&#34;: &#34;production&#34;
      }
    },
    &#34;github&#34;: {
      &#34;type&#34;: &#34;http&#34;,
      &#34;url&#34;: &#34;https://example.com/mcp/&#34;,
      &#34;headers&#34;: {
        &#34;Authorization&#34;: &#34;$(echo Bearer $EXAMPLE_MCP_TOKEN)&#34;
      }
    },
    &#34;streaming-service&#34;: {
      &#34;type&#34;: &#34;sse&#34;,
      &#34;url&#34;: &#34;https://example.com/mcp/sse&#34;,
      &#34;headers&#34;: {
        &#34;API-Key&#34;: &#34;$(echo $API_KEY)&#34;
      }
    }
  }
}"><pre>{
  <span>&#34;$schema&#34;</span>: <span><span>&#34;</span>https://charm.land/crush.json<span>&#34;</span></span>,
  <span>&#34;mcp&#34;</span>: {
    <span>&#34;filesystem&#34;</span>: {
      <span>&#34;type&#34;</span>: <span><span>&#34;</span>stdio<span>&#34;</span></span>,
      <span>&#34;command&#34;</span>: <span><span>&#34;</span>node<span>&#34;</span></span>,
      <span>&#34;args&#34;</span>: [<span><span>&#34;</span>/path/to/mcp-server.js<span>&#34;</span></span>],
      <span>&#34;env&#34;</span>: {
        <span>&#34;NODE_ENV&#34;</span>: <span><span>&#34;</span>production<span>&#34;</span></span>
      }
    },
    <span>&#34;github&#34;</span>: {
      <span>&#34;type&#34;</span>: <span><span>&#34;</span>http<span>&#34;</span></span>,
      <span>&#34;url&#34;</span>: <span><span>&#34;</span>https://example.com/mcp/<span>&#34;</span></span>,
      <span>&#34;headers&#34;</span>: {
        <span>&#34;Authorization&#34;</span>: <span><span>&#34;</span>$(echo Bearer $EXAMPLE_MCP_TOKEN)<span>&#34;</span></span>
      }
    },
    <span>&#34;streaming-service&#34;</span>: {
      <span>&#34;type&#34;</span>: <span><span>&#34;</span>sse<span>&#34;</span></span>,
      <span>&#34;url&#34;</span>: <span><span>&#34;</span>https://example.com/mcp/sse<span>&#34;</span></span>,
      <span>&#34;headers&#34;</span>: {
        <span>&#34;API-Key&#34;</span>: <span><span>&#34;</span>$(echo $API_KEY)<span>&#34;</span></span>
      }
    }
  }
}</pre></div>

<p dir="auto">By default, Crush will ask you for permission before running tool calls. If
you&#39;d like, you can whitelist tools to be executed without prompting you for
permissions. Use this with care.</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;$schema&#34;: &#34;https://charm.land/crush.json&#34;,
  &#34;permissions&#34;: {
    &#34;allowed_tools&#34;: [
      &#34;view&#34;,
      &#34;ls&#34;,
      &#34;grep&#34;,
      &#34;edit&#34;,
      &#34;mcp_context7_get-library-doc&#34;
    ]
  }
}"><pre>{
  <span>&#34;$schema&#34;</span>: <span><span>&#34;</span>https://charm.land/crush.json<span>&#34;</span></span>,
  <span>&#34;permissions&#34;</span>: {
    <span>&#34;allowed_tools&#34;</span>: [
      <span><span>&#34;</span>view<span>&#34;</span></span>,
      <span><span>&#34;</span>ls<span>&#34;</span></span>,
      <span><span>&#34;</span>grep<span>&#34;</span></span>,
      <span><span>&#34;</span>edit<span>&#34;</span></span>,
      <span><span>&#34;</span>mcp_context7_get-library-doc<span>&#34;</span></span>
    ]
  }
}</pre></div>
<p dir="auto">You can also skip all permission prompts entirely by running Crush with the
<code>--yolo</code> flag. Be very, very careful with this feature.</p>

<p dir="auto">Crush supports custom provider configurations for both OpenAI-compatible and
Anthropic-compatible APIs.</p>

<p dir="auto">Here’s an example configuration for Deepseek, which uses an OpenAI-compatible
API. Don&#39;t forget to set <code>DEEPSEEK_API_KEY</code> in your environment.</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;$schema&#34;: &#34;https://charm.land/crush.json&#34;,
  &#34;providers&#34;: {
    &#34;deepseek&#34;: {
      &#34;type&#34;: &#34;openai&#34;,
      &#34;base_url&#34;: &#34;https://api.deepseek.com/v1&#34;,
      &#34;api_key&#34;: &#34;$DEEPSEEK_API_KEY&#34;,
      &#34;models&#34;: [
        {
          &#34;id&#34;: &#34;deepseek-chat&#34;,
          &#34;name&#34;: &#34;Deepseek V3&#34;,
          &#34;cost_per_1m_in&#34;: 0.27,
          &#34;cost_per_1m_out&#34;: 1.1,
          &#34;cost_per_1m_in_cached&#34;: 0.07,
          &#34;cost_per_1m_out_cached&#34;: 1.1,
          &#34;context_window&#34;: 64000,
          &#34;default_max_tokens&#34;: 5000
        }
      ]
    }
  }
}"><pre>{
  <span>&#34;$schema&#34;</span>: <span><span>&#34;</span>https://charm.land/crush.json<span>&#34;</span></span>,
  <span>&#34;providers&#34;</span>: {
    <span>&#34;deepseek&#34;</span>: {
      <span>&#34;type&#34;</span>: <span><span>&#34;</span>openai<span>&#34;</span></span>,
      <span>&#34;base_url&#34;</span>: <span><span>&#34;</span>https://api.deepseek.com/v1<span>&#34;</span></span>,
      <span>&#34;api_key&#34;</span>: <span><span>&#34;</span>$DEEPSEEK_API_KEY<span>&#34;</span></span>,
      <span>&#34;models&#34;</span>: [
        {
          <span>&#34;id&#34;</span>: <span><span>&#34;</span>deepseek-chat<span>&#34;</span></span>,
          <span>&#34;name&#34;</span>: <span><span>&#34;</span>Deepseek V3<span>&#34;</span></span>,
          <span>&#34;cost_per_1m_in&#34;</span>: <span>0.27</span>,
          <span>&#34;cost_per_1m_out&#34;</span>: <span>1.1</span>,
          <span>&#34;cost_per_1m_in_cached&#34;</span>: <span>0.07</span>,
          <span>&#34;cost_per_1m_out_cached&#34;</span>: <span>1.1</span>,
          <span>&#34;context_window&#34;</span>: <span>64000</span>,
          <span>&#34;default_max_tokens&#34;</span>: <span>5000</span>
        }
      ]
    }
  }
}</pre></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Anthropic-Compatible APIs</h4><a id="user-content-anthropic-compatible-apis" aria-label="Permalink: Anthropic-Compatible APIs" href="#anthropic-compatible-apis"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Custom Anthropic-compatible providers follow this format:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;$schema&#34;: &#34;https://charm.land/crush.json&#34;,
  &#34;providers&#34;: {
    &#34;custom-anthropic&#34;: {
      &#34;type&#34;: &#34;anthropic&#34;,
      &#34;base_url&#34;: &#34;https://api.anthropic.com/v1&#34;,
      &#34;api_key&#34;: &#34;$ANTHROPIC_API_KEY&#34;,
      &#34;extra_headers&#34;: {
        &#34;anthropic-version&#34;: &#34;2023-06-01&#34;
      },
      &#34;models&#34;: [
        {
          &#34;id&#34;: &#34;claude-sonnet-4-20250514&#34;,
          &#34;name&#34;: &#34;Claude Sonnet 4&#34;,
          &#34;cost_per_1m_in&#34;: 3,
          &#34;cost_per_1m_out&#34;: 15,
          &#34;cost_per_1m_in_cached&#34;: 3.75,
          &#34;cost_per_1m_out_cached&#34;: 0.3,
          &#34;context_window&#34;: 200000,
          &#34;default_max_tokens&#34;: 50000,
          &#34;can_reason&#34;: true,
          &#34;supports_attachments&#34;: true
        }
      ]
    }
  }
}"><pre>{
  <span>&#34;$schema&#34;</span>: <span><span>&#34;</span>https://charm.land/crush.json<span>&#34;</span></span>,
  <span>&#34;providers&#34;</span>: {
    <span>&#34;custom-anthropic&#34;</span>: {
      <span>&#34;type&#34;</span>: <span><span>&#34;</span>anthropic<span>&#34;</span></span>,
      <span>&#34;base_url&#34;</span>: <span><span>&#34;</span>https://api.anthropic.com/v1<span>&#34;</span></span>,
      <span>&#34;api_key&#34;</span>: <span><span>&#34;</span>$ANTHROPIC_API_KEY<span>&#34;</span></span>,
      <span>&#34;extra_headers&#34;</span>: {
        <span>&#34;anthropic-version&#34;</span>: <span><span>&#34;</span>2023-06-01<span>&#34;</span></span>
      },
      <span>&#34;models&#34;</span>: [
        {
          <span>&#34;id&#34;</span>: <span><span>&#34;</span>claude-sonnet-4-20250514<span>&#34;</span></span>,
          <span>&#34;name&#34;</span>: <span><span>&#34;</span>Claude Sonnet 4<span>&#34;</span></span>,
          <span>&#34;cost_per_1m_in&#34;</span>: <span>3</span>,
          <span>&#34;cost_per_1m_out&#34;</span>: <span>15</span>,
          <span>&#34;cost_per_1m_in_cached&#34;</span>: <span>3.75</span>,
          <span>&#34;cost_per_1m_out_cached&#34;</span>: <span>0.3</span>,
          <span>&#34;context_window&#34;</span>: <span>200000</span>,
          <span>&#34;default_max_tokens&#34;</span>: <span>50000</span>,
          <span>&#34;can_reason&#34;</span>: <span>true</span>,
          <span>&#34;supports_attachments&#34;</span>: <span>true</span>
        }
      ]
    }
  }
}</pre></div>

<p dir="auto">Sometimes you need to look at logs. Luckily, Crush logs all sorts of
stuff. Logs are stored in <code>./.crush/logs/crush.log</code> relative to the project.</p>
<p dir="auto">The CLI also contains some helper commands to make perusing recent logs easier:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Print the last 1000 lines
crush logs

# Print the last 500 lines
crush logs --tail 500

# Follow logs in real time
crush logs --follow"><pre><span><span>#</span> Print the last 1000 lines</span>
crush logs

<span><span>#</span> Print the last 500 lines</span>
crush logs --tail 500

<span><span>#</span> Follow logs in real time</span>
crush logs --follow</pre></div>
<p dir="auto">Want more logging? Run <code>crush</code> with the <code>--debug</code> flag, or enable it in the
config:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;$schema&#34;: &#34;https://charm.land/crush.json&#34;,
  &#34;options&#34;: {
    &#34;debug&#34;: true,
    &#34;debug_lsp&#34;: true
  }
}"><pre>{
  <span>&#34;$schema&#34;</span>: <span><span>&#34;</span>https://charm.land/crush.json<span>&#34;</span></span>,
  <span>&#34;options&#34;</span>: {
    <span>&#34;debug&#34;</span>: <span>true</span>,
    <span>&#34;debug_lsp&#34;</span>: <span>true</span>
  }
}</pre></div>

<p dir="auto">We’d love to hear your thoughts on this project. Need help? We gotchu. You can find us on:</p>
<ul dir="auto">
<li><a href="https://twitter.com/charmcli" rel="nofollow">Twitter</a></li>
<li><a href="https://charm.land/discord" rel="nofollow">Discord</a></li>
<li><a href="https://charm.land/slack" rel="nofollow">Slack</a></li>
<li><a href="https://mastodon.social/@charmcli" rel="nofollow">The Fediverse</a></li>
</ul>

<p dir="auto"><a href="https://github.com/charmbracelet/crush/raw/main/LICENSE">FSL-1.1-MIT</a></p>
<hr/>
<p dir="auto">Part of <a href="https://charm.land" rel="nofollow">Charm</a>.</p>
<p dir="auto"><a href="https://charm.land/" rel="nofollow"><img alt="The Charm logo" width="400" src="https://camo.githubusercontent.com/a8e4404f8df9252b8a3b36a8734b762c60b046b2610617c3d3a8b82812b1183f/68747470733a2f2f73747566662e636861726d2e73682f636861726d2d62616e6e65722d6e6578742e6a7067" data-canonical-src="https://stuff.charm.sh/charm-banner-next.jpg"/></a></p>

<p dir="auto">Charm热爱开源 • Charm loves open source</p>
</article></div></div>
  </body>
</html>
