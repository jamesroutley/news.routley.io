<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://simplyexplained.com/blog/how-i-built-an-nfc-movie-library-for-my-kids/">Original</a>
    <h1>An NFC movie library for my kids</h1>
    
    <div id="readability-page-1" class="page"><article>
    

    

    

    <p>When I was a kid, my sister and I had a tower of VHS tapes we watched endlessly. Fast-forward to today, and my children&#39;s movie collection is vastly different. It&#39;s completely digital and dispersed across services. I wanted to recreate the tangible magic of my childhood for them.</p>
<p>Here&#39;s our current media routine. We have two boys, and the eldest is permitted a 30-minute TV session in the morning and another in the evening. He usually knows what he wants to watch, but he depends on us to operate the remote and navigate to the correct apps.</p>
<p>This got me thinking: why not blend the old with the new? I wanted a way for my son to have a more active role in choosing what to watch, despite the digital format.</p>
<p>Years earlier, I came across someone who had prints of his favorite music albums with an NFC tag inside of them, and I made something similar for my kids.</p>
<h2 id="the-end-result" tabindex="-1">The end result</h2>
<p>Here&#39;s what I ended up with:</p>
<p>
            <picture loading="lazy" width="1280" height="960">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/final-result.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/final-result.jpg" alt="" loading="lazy" width="1280" height="960"/>
            </picture>
        </p>
<p>It&#39;s a collection of laminated movie covers with an NFC tag inside. All my son has to do is pick the movie he wants to watch and put it on the NFC reader. Home Assistant will do the rest.</p>
<p>Here&#39;s a video of the system working:</p>
<video controls="" loop="" playsinline="">
  <source src="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-demo.mp4" type="video/mp4"/>
</video>
<h2 id="proof-of-concept-%26-materials" tabindex="-1">Proof-of-concept &amp; materials</h2>
<p>I started by building a simple prototype. One of my electronics kits contained an NFC Reader (RC522) and some NFC tags.</p>
<p>I connected the NFC reader to an ESP32 board and flashed ESPHome onto it. I then placed an NFC tag on top of the reader and saw them appearing in the ESPHome logs.</p>
<p>That&#39;s all the confirmation I needed. I went to AliExpress and bought the &#34;production&#34; hardware:</p>
<ul>
<li><a href="https://nl.aliexpress.com/item/1005006068115788.html" target="_blank" rel="noopener noreferrer">50x PVC NFC Cards (NTAG215)</a>: €9.43</li>
<li><a href="https://s.click.aliexpress.com/e/_DeNiv4J" target="_blank" rel="noopener noreferrer">ESP32-C3 (Super Mini)</a>: €2.93</li>
</ul>
<p>I already had plenty of ESP32 boards lying around (LOLIN32 lite), but when I saw this &#34;Super Mini&#34; version, I had to have it. Look at this cutie:</p>
<p>
            <picture loading="lazy" width="1280" height="1081">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/esp32c3-super-mini.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/esp32c3-super-mini.jpg" alt="" loading="lazy" width="1280" height="1081"/>
            </picture>
        </p>
<h2 id="flashing-esphome" tabindex="-1">Flashing ESPHome</h2>
<p>Once everything arrived, I connected the NFC reader to the ESP32 using the following pins:</p>
<pre><code>SS (SDA) -&gt; GPIO7
SCK (SCK) -&gt; GPIO4
MOSI -&gt; GPIO6
MISO -&gt; GPIO5
</code></pre>
<p>I also added a buzzer so I could beep some sounds when a tag was successfully scanned.</p>
<p>Next, I created an ESPHome configuration file. I had to add a few special <code>platformio_options</code> to make it work on the ESP32 &#34;Super Mini&#34; variant, but otherwise this is a very simple configuration.</p>
<pre><code><span>---</span>
<span>substitutions</span><span>:</span>
  <span>devicename</span><span>:</span> <span>&#34;nfc-scanner&#34;</span>
  <span>friendly_name</span><span>:</span> <span>&#34;NFC Scanner&#34;</span>

<span>packages</span><span>:</span>
  <span>esphome</span><span>:</span> <span>!include</span> common/esphome.yaml
  <span>api</span><span>:</span> <span>!include</span> common/api.yaml
  <span>logger</span><span>:</span> <span>!include</span> common/logger.yaml
  <span>wifi</span><span>:</span> <span>!include</span> common/wifi.yaml

<span>esphome</span><span>:</span>
  
  <span>platformio_options</span><span>:</span>
    <span>board_build.f_flash</span><span>:</span> 40000000L
    <span>board_build.flash_mode</span><span>:</span> dio
    <span>board_build.flash_size</span><span>:</span> 4MB
  <span>on_boot</span><span>:</span>
    <span>priority</span><span>:</span> <span>600</span>
    <span>then</span><span>:</span>
      <span>-</span> <span>rtttl.play</span><span>:</span> <span>&#39;short:d=4,o=5,b=100:16e6,16e6&#39;</span>

<span>esp32</span><span>:</span>
  <span>variant</span><span>:</span> ESP32C3
  <span>board</span><span>:</span> esp32<span>-</span>c3<span>-</span>devkitm<span>-</span><span>1</span>
  <span>framework</span><span>:</span>
    <span>type</span><span>:</span> esp<span>-</span>idf

<span>status_led</span><span>:</span>
  <span>pin</span><span>:</span>
    <span>number</span><span>:</span> GPIO8
    <span>inverted</span><span>:</span> <span>true</span>

<span>output</span><span>:</span>
  <span>-</span> <span>platform</span><span>:</span> ledc
    <span>pin</span><span>:</span> GPIO3
    <span>id</span><span>:</span> buzzer

<span>rtttl</span><span>:</span>
  <span>output</span><span>:</span> buzzer

<span>spi</span><span>:</span>
  <span>clk_pin</span><span>:</span> GPIO4
  <span>mosi_pin</span><span>:</span> GPIO6
  <span>miso_pin</span><span>:</span> GPIO5

<span>rc522_spi</span><span>:</span>
  <span>cs_pin</span><span>:</span> GPIO7
  <span>on_tag</span><span>:</span>
    <span>then</span><span>:</span>
      <span>-</span> <span>rtttl.stop</span><span>:</span>
      <span>-</span> <span>homeassistant.tag_scanned</span><span>:</span> <span>!lambda</span> <span>&#39;return x;&#39;</span>
      <span>-</span> <span>rtttl.play</span><span>:</span> <span>&#39;short:d=4,o=5,b=100:16e6,16e6&#39;</span></code></pre>
<p>If you&#39;re building this yourself, you don&#39;t have to adhere to these pin numbers.</p>
<details>
  <summary><small><i>See my original ESPHome configuration for the LOLIN32 Lite here.</i></small></summary>
<pre><code><span>---</span>
<span>substitutions</span><span>:</span>
  <span>devicename</span><span>:</span> <span>&#34;nfc-scanner&#34;</span>
  <span>friendly_name</span><span>:</span> <span>&#34;NFC Scanner&#34;</span>

<span>packages</span><span>:</span>
  <span>esphome</span><span>:</span> <span>!include</span> common/esphome.yaml
  <span>api</span><span>:</span> <span>!include</span> common/api.yaml
  <span>logger</span><span>:</span> <span>!include</span> common/logger.yaml
  <span>wifi</span><span>:</span> <span>!include</span> common/wifi.yaml

<span>esphome</span><span>:</span>
  <span>platform</span><span>:</span> ESP32
  <span>board</span><span>:</span> lolin32
  <span>on_boot</span><span>:</span>
    <span>priority</span><span>:</span> <span>600</span>
    <span>then</span><span>:</span>
      <span>-</span> <span>rtttl.play</span><span>:</span> <span>&#39;short:d=4,o=5,b=100:16e6,16e6&#39;</span>

<span>output</span><span>:</span>
  <span>-</span> <span>platform</span><span>:</span> ledc
    <span>pin</span><span>:</span> GPIO32
    <span>id</span><span>:</span> buzzer

<span>rtttl</span><span>:</span>
  <span>output</span><span>:</span> buzzer

<span>spi</span><span>:</span>
  <span>clk_pin</span><span>:</span> GPIO18
  <span>mosi_pin</span><span>:</span> GPIO23
  <span>miso_pin</span><span>:</span> GPIO19

<span>rc522_spi</span><span>:</span>
  <span>cs_pin</span><span>:</span> GPIO15
  <span>on_tag</span><span>:</span>
    <span>then</span><span>:</span>
      <span>-</span> <span>rtttl.stop</span><span>:</span>
      <span>-</span> <span>homeassistant.tag_scanned</span><span>:</span> <span>!lambda</span> <span>&#39;return x;&#39;</span>
      <span>-</span> <span>rtttl.play</span><span>:</span> <span>&#39;short:d=4,o=5,b=100:16e6,16e6&#39;</span></code></pre>
</details>
<p>After flashing ESPHome, the device will show up in Home Assistant with no entities. No need to panic, that&#39;s normal. It will emit <code>tag_scanned</code> events. More on that later when we automate everything.</p>
<h2 id="3d-printing-an-enclosure-%26-collection-box" tabindex="-1">3D Printing an enclosure &amp; collection box</h2>
<p>To keep the electronics and wires safe from tiny hands, I designed and 3D printed a simple enclosure.</p>
<p>
            <picture loading="lazy" width="1280" height="963">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-reader-case-1.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-reader-case-1.jpg" alt="" loading="lazy" width="1280" height="963"/>
            </picture>
        
<em>It&#39;s a box</em></p>
<p>It&#39;s a simple design. The only challenge I had was fixing the ESP32 in place. Unlike other dev boards, the ESP32C3 Super Mini has no screw holes, so I designed a simple clip mechanism.</p>
<p>
            <picture loading="lazy" width="1280" height="954">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-reader-case-2.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-reader-case-2.jpg" alt="" loading="lazy" width="1280" height="954"/>
            </picture>
        
<em>Don&#39;t worry, the ESP32 is not floating in the air. It rests on the soldered GPIO pins on the bottom of the case.</em></p>
<p>I used Fusion360 to design and test fit all the parts (thanks to Hans Wurst for publishing a <a href="https://grabcad.com/library/esp32-c3-supermini-1" target="_blank" rel="noopener noreferrer">model of the Super Mini on GrabCAD</a>).</p>
<p>
            <picture loading="lazy" width="1280" height="955">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-reader-case-3.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-reader-case-3.jpg" alt="" loading="lazy" width="1280" height="955"/>
            </picture>
        
<em>By modeling every part, I can test if it all fits together well.</em></p>
<p>I also made a nice box to store the NFC cards:</p>
<p>
            <picture loading="lazy" width="1216" height="1280">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-tags-case.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-tags-case.jpg" alt="" loading="lazy" width="1216" height="1280"/>
            </picture>
        </p>
<h2 id="creating-the-%22dvd%22-cards" tabindex="-1">Creating the &#34;DVD&#34; cards</h2>
<p>With the reader finished, only the &#34;DVD&#34; cards were left. I wanted to print directly onto the PVC cards, but my printer isn&#39;t capable of that.</p>
<p>I went for the next best thing: I bought printable vinyl sticker paper and printed the movie covers on that.</p>
<p>
            <picture loading="lazy" width="1500" height="1572">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-pvc-cards-printing.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-pvc-cards-printing.jpg" alt="" loading="lazy" width="1500" height="1572"/>
            </picture>
        </p>
<p>I then cut out the stickers and stuck them to the PVC cards.</p>
<p>
            <picture loading="lazy" width="3024" height="3040">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-pvc-cards-front.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-pvc-cards-front.jpg" alt="" loading="lazy" width="3024" height="3040"/>
            </picture>
        </p>
<p>I also designed a backside for the cards, which include a summary of the movie, release date, and the studio that worked on it.</p>
<p>
            <picture loading="lazy" width="3024" height="2729">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-pvc-cards-back.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-pvc-cards-back.jpg" alt="" loading="lazy" width="3024" height="2729"/>
            </picture>
        </p>
<details>
  <summary><small><i>My first iteration of the cards were simply printed on paper and laminated.</i></small></summary>
<p>With the reader finished, only the &#34;DVD&#34; cards were left. I printed small movie covers in booklet form, placed an NFC tag inside, and ran them through the laminator.</p>
<p>
            <picture loading="lazy" width="2160" height="2555">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-dvd-cards.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/nfc-dvd-cards.jpg" alt="" loading="lazy" width="2160" height="2555"/>
            </picture>
        
<em>The booklet protects the NFC tag and allows me to recover it in the future.</em></p>
</details>
<h2 id="home-assistant-automation" tabindex="-1">Home Assistant automation</h2>
<p>On to the last piece of the puzzle: creating an automation in Home Assistant that plays the correct movie when a tag is scanned.</p>
<p>We store movies on Plex and played via an Apple TV. There are two ways to play a movie on Plex:</p>
<ul>
<li>Via the Apple TV integration, using <a href="https://forums.plex.tv/t/deep-links/205583" target="_blank" rel="noopener noreferrer">Plex deep links</a></li>
<li>Via the <a href="https://www.home-assistant.io/integrations/plex/" target="_blank" rel="noopener noreferrer">Plex integration</a></li>
</ul>
<p>The Plex integration is clunky and unreliable in my experience. It requires you to turn on the Apple TV, launch the Plex app, and wait for it to become available in Home Assistant before sending it a command to play a specific movie.</p>
<p>The Apple TV integration is near instant. All you have to do is send a &#34;deep link&#34;, and that&#39;s it!</p>
<p>The deep link format is <a href="https://forums.plex.tv/t/deep-links/205583" target="_blank" rel="noopener noreferrer">documented on the Plex forum</a>, and is rather simple. Here&#39;s the deep link to play a given media item:</p>
<pre><code>plex://play/?metadataKey=UNIQUE_MEDIA_ID&amp;server=SERVER_ID
</code></pre>
<p>Your Plex server ID can be found by going to <a href="https://plex.tv/devices.xml" target="_blank" rel="noopener noreferrer">this page</a> and looking for your server&#39;s <code>clientIdentifier</code>.</p>
<p>Next, I needed to know what kind of data ESPHome sends to Home Assistant when a tag is scanned. I opened the Developer Tools in Home Assistant and started listening for <code>tag_scanned</code> events. I put a tag on the reader and saw an event pop up:</p>
<pre><code><span>event_type</span><span>:</span> tag_scanned
<span>data</span><span>:</span>
  <span>tag_id</span><span>:</span> 1D<span>-</span>20<span>-</span>E2<span>-</span>06<span>-</span>96<span>-</span>00<span>-</span><span>00</span>
  <span>device_id</span><span>:</span> a93f971bb9622b266286460c3f2ac640
<span>origin</span><span>:</span> LOCAL
<span>time_fired</span><span>:</span> <span>&#34;2023-11-13T14:57:06.765528+00:00&#34;</span>
<span>context</span><span>:</span>
  <span>id</span><span>:</span> 01HF4JZB6DHY26TWZ903Z01BJ9
  <span>parent_id</span><span>:</span> <span>null</span>
  <span>user_id</span><span>:</span> <span>null</span></code></pre>
<p>The interesting bit here is the <code>tag_id</code>. I used this ID to create a mapping between the tag&#39;s ID and the ID of a movie in Plex.</p>
<p>Here&#39;s the entire automation:</p>
<pre><code><span>-</span> <span>alias</span><span>:</span> <span>&#34;NFC Reader - Plex&#34;</span>
  <span>description</span><span>:</span> <span>&#34;&#34;</span>
  <span>mode</span><span>:</span> single
  <span>trigger</span><span>:</span>
  <span>-</span> <span>platform</span><span>:</span> event
    <span>event_type</span><span>:</span> tag_scanned

  
  
  <span>condition</span><span>:</span>
  <span>-</span> <span>condition</span><span>:</span> or
    <span>conditions</span><span>:</span>
    <span>-</span> <span>condition</span><span>:</span> time
      <span>after</span><span>:</span> <span>&#39;05:00:00&#39;</span>
      <span>before</span><span>:</span> <span>&#39;09:00:00&#39;</span>
    <span>-</span> <span>condition</span><span>:</span> time
      <span>after</span><span>:</span> <span>&#39;18:00:00&#39;</span>
      <span>before</span><span>:</span> <span>&#39;19:50:00&#39;</span>  
  <span>action</span><span>:</span>
  <span>-</span> <span>variables</span><span>:</span>
	  
	  
      <span>NFC_MAPPING</span><span>:</span>
        <span>53-77-08-69-71-00-01</span><span>:</span>
          <span>name</span><span>:</span> Ratatouille
          <span>plex_id</span><span>:</span> <span>37353</span>
        <span>53-72-08-69-71-00-01</span><span>:</span>
          <span>name</span><span>:</span> Coco
          <span>plex_id</span><span>:</span> <span>3135</span>
        <span>04-D3-F2-FD-9F-61-81</span><span>:</span>
          <span>name</span><span>:</span> Bing
          <span>playlist_id</span><span>:</span> <span>4586</span>
        <span>04-36-F6-32-5F-61-80</span><span>:</span>
          <span>name</span><span>:</span> Bumba
          <span>playlist_id</span><span>:</span> <span>4587</span>
		

  <span>-</span> <span>if</span><span>:</span>
    
    <span>-</span> <span>alias</span><span>:</span> <span>&#34;NFC tag is in the mapping&#34;</span>
      <span>condition</span><span>:</span> template
      <span>value_template</span><span>:</span> <span>&#34;{{ trigger.event.data.tag_id in NFC_MAPPING }}&#34;</span>
    <span>then</span><span>:</span>
    
    <span>-</span> <span>if</span><span>:</span>
      <span>-</span> <span>condition</span><span>:</span> state
        <span>entity_id</span><span>:</span> media_player.appletv_living
        <span>state</span><span>:</span> standby
      <span>then</span><span>:</span>
      <span>-</span> <span>service</span><span>:</span> media_player.turn_on
        <span>data</span><span>:</span> <span>{</span><span>}</span>
        <span>target</span><span>:</span>
          <span>entity_id</span><span>:</span> media_player.appletv_living
      <span>-</span> <span>delay</span><span>:</span>
          <span>seconds</span><span>:</span> <span>5</span>
	
    
    <span>-</span> <span>if</span><span>:</span>
        <span>-</span> <span>condition</span><span>:</span> template
          <span>value_template</span><span>:</span> <span>&#34;{{ \&#34;plex_id\&#34; in NFC_MAPPING[trigger.event.data.tag_id] }}&#34;</span>
      <span>then</span><span>:</span>
        <span>-</span> <span>action</span><span>:</span> media_player.play_media
          <span>data</span><span>:</span>
            <span>media_content_type</span><span>:</span> url
            <span>media_content_id</span><span>:</span> <span>&gt;</span><span>-</span>
              plex<span>:</span>//play/<span>?</span>metadataKey=%2Flibrary%2Fmetadata%2F<span>{</span><span>{</span>NFC_MAPPING<span>[</span>trigger.event.data.tag_id<span>]</span>.plex_id<span>}</span><span>}</span><span>&amp;server=xxxxxxxxxxxxxx</span>
        <span>target</span><span>:</span>
          <span>entity_id</span><span>:</span> media_player.appletv_living
		  
    
    <span>-</span> <span>if</span><span>:</span>
        <span>-</span> <span>condition</span><span>:</span> template
          <span>value_template</span><span>:</span> <span>&#34;{{ \&#34;playlist_id\&#34; in NFC_MAPPING[trigger.event.data.tag_id] }}&#34;</span>
      <span>then</span><span>:</span>
        <span>-</span> <span>action</span><span>:</span> media_player.play_media
          <span>data</span><span>:</span>
            <span>media_content_type</span><span>:</span> url
            <span>media_content_id</span><span>:</span> <span>&gt;</span><span>-</span>
              plex<span>:</span>//play/<span>?</span>metadataKey=%2Fplaylists%2F<span>{</span><span>{</span>NFC_MAPPING<span>[</span>trigger.event.data.tag_id<span>]</span>.playlist_id<span>}</span><span>}</span><span>&amp;server=xxxxxxxxx</span>
        <span>target</span><span>:</span>
          <span>entity_id</span><span>:</span> media_player.appletv_living

	
	
	
    <span>-</span> <span>service</span><span>:</span> media_player.volume_set
	  <span>data</span><span>:</span>
	    <span>volume_level</span><span>:</span> <span>0.17</span>
	  <span>target</span><span>:</span>
	    <span>entity_id</span><span>:</span> media_player.sonos_tv</code></pre>
<p>The automation is simple and fast. It takes the Apple TV about 5 seconds to turn on the TV, launch the Plex app and have it play the correct movie.</p>
<p>
            <picture loading="lazy" width="2392" height="902">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/system-diagram.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/system-diagram.png" alt="" loading="lazy" width="2392" height="902"/>
            </picture>
        </p>
<p>I was thrilled! And so was my oldest son. He quickly realized he could use this to watch movies <em>anytime</em> he wanted. That wasn&#39;t the goal, so I added a condition to only allow the automation to run in the mornings and evenings.</p>
<p>The Apple TV also supports deep links for other services. Here are examples for the biggest streaming services:</p>
<ul>
<li>Netflix (use the regular URL):
<ul>
<li><code>https://www.netflix.com/title/80234304</code></li>
</ul>
</li>
<li>Disney+ (use regular URL):
<ul>
<li><code>https://www.disneyplus.com/movies/coco/db9orsI5O4gC</code></li>
</ul>
</li>
<li>YouTube (use the regular URL with <code>https://</code> replaced by <code>youtube://</code>)
<ul>
<li>Single video: <code>youtube://www.youtube.com/watch?v=ah3ezprtgmc</code></li>
<li>Playlist: <code>youtube://www.youtube.com/watch?v=v=FkUn86bH34M&amp;list=PLzvRQMJ9HDiQF_5bEErheiAawrJ-2zQoI&amp;pp=iAQB</code></li>
</ul>
</li>
</ul>
<p>The only problem with these services is that they will require you to select a profile before the movie/show will start playing. With Plex, you can enable &#34;auto login&#34;, but I haven&#39;t tried it for the other services.</p>
<h2 id="playing-random-episodes" tabindex="-1">Playing random episodes</h2>
<p>One issue I had with Plex deep links is that you can’t play a random episode of a TV show. I sidestepped this issue by not making any NFC cards for shows, but that was to the dismay of my sons.</p>
<p>A couple of months after I made this system, I came across <a href="https://forums.plex.tv/t/tip-how-to-create-an-autoplaylist-with-random-sort/472823" target="_blank" rel="noopener noreferrer">a post on the Plex forum</a> explaining how you can make smart playlists that shuffle themselves every time you open them. And it even worked with the deep links!</p>
<p>The workaround is quite simple: start by making a “smart playlist” in Plex. Navigate to a library (movie or TV show) and change the first dropdown menu from “All” to “Advanced Filters”.</p>
<p>Now configure the filters. I created one smart playlist for each show (by matching the show name), but you can mix shows as well.</p>
<p>
            <picture loading="lazy" width="1498" height="1070">
                <source srcset="/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/plex-smart-playlist.webp" type="image/webp"/>
                <img src="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/plex-smart-playlist.png" alt="" loading="lazy" width="1498" height="1070"/>
            </picture>
        </p>
<p>Finally, set change the sort order from &#34;Title&#34; to &#34;Randomly&#34;. Now Plex will shuffle the playlist every time you open it, including when you use a deep link!</p>
<p>You can find the playlist ID by navigating to the playlist in the Plex Web UI and then looking at the URL:</p>
<pre><code>http://192.168.2.1:32400/web/index.html#!/server/{SERVER_ID}/playlist?key=%2Fplaylists%2F{PLAYLIST_ID}&amp;context=source%3Acontent.playlists.video~0~0
</code></pre>
<p>For reference, the deep link for a playlist is slightly different to that of a movie:</p>
<pre><code>plex://play/?metadataKey=%2Fplaylists%2F{PLAYLIST_ID_GOES_HERE}&amp;server={SERVER_ID_GOES_HERE}
</code></pre>
<h2 id="future-improvements" tabindex="-1">Future improvements</h2>
<p>I&#39;m thrilled with my first iteration, but I have <s>some things</s> one thing I&#39;d like to tweak in the future.</p>
<p>On the hardware side, I want to replace the NFC reader with the PN532. It&#39;s a lot smaller, and will allow me to make the enclosure smaller.</p>
<p><s>On the automation side, I want to make it possible for tags to play random episodes of TV shows. Right now, that&#39;s not possible with Plex deep links, so I&#39;ll use the Plex Integration as a workaround.</s></p>
<p><s>And finally, I found <a href="https://www.amazon.de/-/nl/dp/B0C65TQJ7J/" target="_blank" rel="noopener noreferrer">printable NFC cards</a> on Amazon that look amazing. You can insert these in any inkjet printer and have really beautiful, and uniform cards.</s></p>

<p>So why did I go through all this trouble to give my kids something tangible? Well, I see many advantages in a system like this.</p>
<p>First: you have a <strong>limited choice</strong> of movies to watch. When I was a kid, we didn&#39;t have an infinite catalog of movies to watch. We had a handful of VHS tapes and DVDs. We watched the same movies over and over again, each time discovering new details we would have missed otherwise.</p>
<p>Second, it <strong>gives my kids autonomy</strong>. They can decide what they want to watch and are not dependent on us to operate the remote and navigate to the correct app. They simply go to the box of cards, flip through them, pick a movie, and play it. Just like we used to do with VHS and DVD.</p>
<p>Third, <strong>with autonomy comes responsibility</strong>. Between certain hours, we allow them to watch TV. They can watch any movie they like. They can even switch between movies. But the timeframe is fixed. They can watch a good chunk of one movie, or they can watch a tiny bit of 10 different movies. It&#39;s completely up to them.</p>
<p>And finally, we have only one TV and two half-hour slots to watch it. This means they will need to <strong>learn to collaborate and compromise</strong>. They must quickly agree on a movie or forfeit their viewing time. Or perhaps they use their creativity to come up with a system to decide who gets to choose the movie. You can pick in the morning, I&#39;ll pick in the evening.</p>
<p>I have no evidence or research to back any of these claims. But I genuinely believe this could teach them valuable skills. And I feel it&#39;s way better than giving my kids unlimited access to Netflix, Disney+, YouTube, or any other streaming service.</p>
<h2 id="do-you-hate-streaming-services%3F" tabindex="-1">Do you hate streaming services?</h2>
<p>It&#39;s not that I hate streaming services. I&#39;ve had a Spotify subscription for years, and I occasionally subscribe to other streaming services. It&#39;s just that I don&#39;t watch that many movies or shows, so it&#39;s hard to justify the price.</p>
<p>Instead, I buy our favorite movies on Blu-ray and put them on our Plex server. This has 3 major benefits.</p>
<p>First, my son watches a few movies over and over again (especially Pixar movies). A Disney+ subscription costs €10,99/month, but for that price I can buy 3-4 Blu-rays on second hand websites. They&#39;re very cheap and once you buy a disc, it&#39;s yours forever.</p>
<p>Secondly, Blu-ray discs come with a lot of extra content. I especially love the &#34;behind the scenes&#34; or &#34;deleted scenes&#34; that most discs come with. These aren&#39;t always available on streaming services.</p>
<p>And finally, if you&#39;re a non-English speaker, Blu-rays will include a dubbed version in your native language. This is a big plus for the kids, especially when they&#39;re as young as mine are now.</p>
<h2 id="conclusion-%26-downloads" tabindex="-1">Conclusion &amp; downloads</h2>
<p>We&#39;re really happy with this system, and I&#39;m looking forward to when my youngest will be able to use it as well.</p>
<p>Want to build your own? Here&#39;s <a href="https://gianluca.ai/uploads/2023-11-how-i-built-nfc-movie-library-for-my-kids/fusion-nfc-tag-reader-case.f3d">my Fusion360 design file</a> that you can use or improve upon.</p>

</article></div>
  </body>
</html>
