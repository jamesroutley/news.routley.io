<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ryanmulligan.dev/blog/layout-breakouts/">Original</a>
    <h1>Layout Breakouts with CSS Grid</h1>
    
    <div id="readability-page-1" class="page"><div id="main">
      
      
        <p>Extending elements beyond the content area with CSS Grid &amp; named grid lines</p>
      
      
      
<div>
  <p>
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="var(--color-text-accent)" viewBox="0 0 256 256">
      <rect width="256" height="256" fill="none"></rect>
      <path d="M40,88H216V48a8,8,0,0,0-8-8H48a8,8,0,0,0-8,8Z" fill="var(--color-bg-accent)"></path>
      <rect x="40" y="40" width="176" height="176" rx="8" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></rect>
      <line x1="176" y1="24" x2="176" y2="56" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
      <line x1="80" y1="24" x2="80" y2="56" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
      <line x1="40" y1="88" x2="216" y2="88" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
    </svg>
    <span>
      Posted on <strong>Oct 7, 2022</strong>
    </span>
  </p>

  <p>
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="var(--color-text-accent)" viewBox="0 0 256 256">
      <rect width="256" height="256" fill="none"></rect>
      <circle cx="128" cy="128" r="88" fill="var(--color-bg-accent)"></circle>
      <circle cx="128" cy="128" r="88" fill="none" stroke="var(--color-text-accent)" stroke-miterlimit="10" stroke-width="16"></circle>
      <line x1="128" y1="128" x2="167.6" y2="88.4" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
      <line x1="104" y1="8" x2="152" y2="8" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
    </svg>
    <span>
      Takes about <strong>4 minutes</strong> to read
    </span>
  </p>
</div>
<h2>A post about the layout you&#39;re looking at right now</h2>
<p>The previous structure of this page layout was virtually the same, the foundation of it expertly defined in the article, <a href="https://www.joshwcomeau.com/css/full-bleed/">Full-Bleed Layout Using CSS Grid</a> by Josh Comeau. It&#39;s a technique I&#39;ve used on many projects. I&#39;ve even blogged about it previously in <a href="https://ryanmulligan.dev/blog/x-scrolling-centered-max-width-container/">Horizontal Scrolling in a Centered Max-Width Container</a>.</p>
<p>What I&#39;m documenting here is an extension of the full-bleed CSS Grid layout. In the last version of my site, selected elements  â€“ images, code blocks, quotes â€“ were made wider than the page content area using negative margins. It worked well! For this next iteration, I explored applying these breakout offsets using CSS grid and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Layout_using_Named_Grid_Lines">named grid lines</a>.</p>
<h2>Layout setup</h2>
<p>Below are the styles applied to the main content container, defining the grid display and its columns template:</p>
<pre><code><span>.content</span> <span>{</span></code></pre>
<p>In the <code>grid-template-columns</code> declaration, column areas are represented by keywords wrapped in square brackets suffixed with <code>-start</code> and <code>-end</code>. These keywords are set as <code>grid-column</code> values on elements residing in this container.</p>
<p>Starting at the edge for an example: <code>[full-start]</code> and <code>[full-end]</code> represent the full-bleed. Any child element containing <code>grid-column: full;</code> will span its parent&#39;s available horizontal space.</p>
<p>Each grid line is accompanied by a CSS variable of the same name, which supplies the inline size or width of the column. Outside of the center column block (the <code>content</code> area) that same variable is used after the <code>-start</code> and before the <code>-end</code> positions so their sizes match on either side. Continuing with the <code>full</code> keyword example, these values are <code>[full-start] var(--full)</code> and <code>var(--full) [full-end]</code>.</p>
<p>I like to imagine each keyword&#39;s area blooms out from the center. <code>popout</code> grows out of <code>content</code>, <code>feature</code> from <code>popout</code>, then <code>full</code> blossoms all the way to the edge. The horizontal space each keyword covers is the sum of values between its <code>-start</code> and <code>-end</code> points.</p>
<p>As a way to visualize this grid, I&#39;ve created a fresh CodePen demo below. Click the &#34;show grid lines&#34; checkbox and resize the browser window to get a sense of how the layout expands and collapses.</p>
<p data-height="600" data-preview="false" data-default-tab="result" data-slug-hash="dyejrpE" data-user="hexagoncircle" class="codepen">
    <span><a href="https://codepen.io/hexagoncircle/pen/dyejrpE">See the pen</a> (<a href="https://codepen.io/hexagoncircle">@hexagoncircle</a>) on <a href="https://codepen.io">CodePen</a>.</span>
    </p>
    
<p>Many modern browser developer tools include the ability to inspect CSS grid and display grid lines. Here&#39;s how to do it in <a href="https://developer.chrome.com/docs/devtools/css/grid/">Chrome</a>, <a href="https://firefox-source-docs.mozilla.org/devtools-user/page_inspector/how_to/examine_grid_layouts/index.html">Firefox</a>, and <a href="https://webkit.org/blog/11588/introducing-css-grid-inspector/">Safari</a>.</p>
<p>In the CSS tab of that demo, we can see how these grid areas are being applied. The first ruleset, <code>.content &gt; *</code>, matches all direct children of the container, setting them to the center <code>content</code> area. Cascading rulesets then revise <code>grid-column</code> with their respective keyword values.</p>
<pre><code><span>.content &gt; *</span> <span>{</span></code></pre>
<h2>Having fun with sizing functions</h2>
<p>Much of the real magic here is through the use of <code>minmax()</code>. It permits the flexible structure of this layout, elements breaking free on larger viewports and collapsing back in when less space is available. Or, as <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/minmax">MDN</a> and the CSS Spec describe it:</p>
<blockquote>
<p>The <code>minmax()</code> CSS function defines a size range greater than or equal to <em>min</em> and less than or equal to <em>max</em></p>
</blockquote>
<p>Let&#39;s revisit the CSS variables declared at the top of the ruleset. I&#39;ll explain how this all works in harmony.</p>
<pre><code>  <span>--gap</span><span>:</span> <span>clamp</span><span>(</span>1rem<span>,</span> 6vw<span>,</span> 3rem<span>)</span><span>;</span></code></pre>
<ul>
<li><code>--gap</code> represents a gutter size for the left and right sides of the page. This value leans into the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/clamp"><code>clamp()</code></a> function for more fluid, flexible sizing.</li>
<li><code>--full</code> stretches an element so that it spans the entire horizontal space. By setting <code>--gap</code> as the <em>min</em> value, it also takes on the role of visible page gutters for smaller screens.</li>
<li><code>--content</code> acts as the main content area. The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/min"><code>min()</code></a> function sets the max-width of this column. Once the available space falls below this value, it then switches to 100% while also subtracting the left and right gutter sizes.</li>
<li><code>--popout</code> and <code>--feature</code> extend elements beyond the content area by <code>2rem</code> and <code>5rem</code> respectively. As the available horizontal area tightens, these values collapse down to nothing, aligning elements with the main content space on smaller screens.</li>
</ul>
<h2>Breakout session</h2>
<p>That wraps things up! The potential of this concept doesn&#39;t stop here. How might you extend or refactor? Drop me a note on <a href="https://twitter.com/hexagoncircle">Twitter</a> with your awesome layout ideas. ðŸ™Œ</p>
<h2>Helpful Resources</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Layout_using_Named_Grid_Lines">Grid layout using named grid lines</a></li>
<li><a href="https://ishadeed.com/article/css-grid-minmax/">A Deep Dive Into CSS Grid <code>minmax()</code></a></li>
<li><a href="https://web.dev/min-max-clamp/">min(), max(), and clamp(): three logical CSS functions to use today</a></li>
<li><a href="https://florian.geierstanger.org/blog/css-layout-grid">Re-thinking the layout grid with CSS grid</a></li>
<li><a href="https://gridbyexample.com/">Grid by Example</a></li>
</ul>

    </div></div>
  </body>
</html>
