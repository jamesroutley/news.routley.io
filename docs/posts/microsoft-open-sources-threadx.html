<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2023/11/28/microsoft_opens_sources_threadx/">Original</a>
    <h1>Microsoft open-sources ThreadX</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p>Microsoft is open sourcing the realtime operating system that it acquired with Express Logic, donating it to the Eclipse Foundation.</p>
<p>The vendor has made its ThreadX RTOS, and the Azure RTOS development suite that includes it, open source. The company has <a href="https://techcommunity.microsoft.com/t5/internet-of-things-blog/microsoft-contributes-azure-rtos-to-open-source/ba-p/3986318" rel="nofollow">contributed Azure RTOS</a> to the stewardship of the Eclipse Foundation, where it will be <a href="https://eclipse-foundation.blog/2023/11/21/introducing-eclipse-threadx/" rel="nofollow">known as Eclipse ThreadX</a> and available under the permissive MIT licence.</p>
<p>Although there are many Real-time OSes – RTOS for short – out there, you generally don&#39;t hear much about them. You may never have heard of ThreadX, but there&#39;s a fairly good chance that you unwittingly have several copies lying around or even running right now.</p>

    

<p>There are more famous RTOSes, such as Wind River&#39;s VxWorks: it&#39;s running on Mars, inside <a href="https://www.theregister.com/2021/02/23/perseverance_landing_video/">NASA&#39;s Perseverance Rover</a> for example. Blackberry&#39;s QNX RTOS, which we called <a href="https://www.theregister.com/2015/02/18/qnx_hypervisor/">the money-making part of the business</a>, has been in the spotlight twice: once as <a href="https://www.theregister.com/2010/09/28/blackberry_tablet_runs_qnx/">the basis for RIM&#39;s Blackberry X</a> fondleslab and smartphone range, but back in the 1990s for the amazing QNX <a href="http://qnx.puslapiai.lt/qnxdemo/qnx_demo_disk.htm" rel="nofollow">single-floppy demo disk</a>.</p>

        


        

<p>ThreadX was quite pervasive, though. Microsoft claims 12 billion devices run it, and you might own some of them. For a while it powered <a href="https://www.theregister.com/2017/05/01/intel_amt_me_vulnerability/">Intel&#39;s on-chip Management Engine</a>. It is also the firmware that controls every Raspberry Pi bigger than the Pi Pico. On the Pi 1, 2 and 3, it&#39;s <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/configuration/boot_folder.adoc" rel="nofollow">the file on your Pi&#39;s SD card</a> called <code>bootcode.bin</code>; in the Pi 4 and 400, it&#39;s called <code>start*.elf</code>. Even though it&#39;s <a href="https://github.com/raspberrypi/firmware" rel="nofollow">on GitHub</a> and <a href="https://packages.debian.org/sid/raspi-firmware" rel="nofollow">included in Debian</a>, it&#39;s a proprietary &#34;blob&#34; (<em>B</em>inary <em>L</em>arge <em>OB</em>ject). It&#39;s a metaphorical sealed black box which doesn&#39;t even contain Arm code: instead, it runs on the Pi&#39;s VideoCore GPU. This is the primary device, the part that boots up the Pi and controls its hardware: the Arm cores are <a href="https://raspberrypi.stackexchange.com/a/106077/125748" rel="nofollow">slave devices</a> to the VideoCore GPU.</p>
<div><p><img src="https://regmedia.co.uk/2017/10/18/rpi_with_active_cooling.jpg?x=174&amp;amp;y=115&amp;amp;crop=1" width="174" height="115" alt="Raspberry Pi active cooling"/></p><h2 title="Choose between five options">Ah lovely, here&#39;s something you can do with those Raspberry Pis, NUC PCs in the bottom of the drawer: Run Ubuntu Appliances on them</h2>
<p><a href="https://www.theregister.com/2020/06/18/ubuntu_raspberry_pi/"><span>READ MORE</span></a></p></div>
<p>This, incidentally, is why Xen only runs on the Pi 4 and later: they were the first versions where the Arm cores had their own interrupt controller, and even so, <a href="https://xenproject.org/2020/09/29/xen-on-raspberry-pi-4-adventures/" rel="nofollow">it took some work</a>. We have read that in the Pi 5, it&#39;s in EEPROM and does even less, meaning that the Arm cores have more control, as this <a href="https://forums.theregister.com/post/reply/4735439" rel="nofollow"><em>Reg</em> comment</a> bears out.</p>
<p>As soon as this innocent little OS turned 21 in 2019, Microsoft grabbed it, <a href="https://www.theregister.com/2020/05/21/microsoft_build_iot/">acquiring ThreadX owners Express Logic</a> and rebranding the poor thing as <em>Azure RTOS</em>, which hasn&#39;t done any favours for its brand awareness. The purchase came soon after <a href="https://www.theregister.com/2018/10/22/freertos_iot_platform_security_flaws/">AWS took over stewardship of FreeRTOS</a>, and some observers, such as <a href="https://www.reddit.com/r/embedded/comments/181g1nk/comment/kae4gi2/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3" rel="nofollow">this commenter on Reddit</a>, claim that the deal was a response to Amazon&#39;s move. After the purchase, original developer William Lamie left, starting a new company which sells a &#34;fifth-generation&#34; RTOS with POSIX-compatible threads, called <a href="https://px5rtos.com/about/" rel="nofollow">PX5OS</a>.</p>
<p>Even so, ThreadX is a tested and established product; some parts even have <a href="https://www.tuvsud.com/en/industries/mobility-and-automotive/automotive-and-oem/iso-26262-functional-safety/iso-26262-functional-safety-certification-programme" rel="nofollow">TÜV Functional Safety</a> (FuSa) certification, such as the <a href="https://www.st.com/resource/en/product_presentation/stm32_stm8_functional-safety-packages.pdf" rel="nofollow">STM32 version</a> [PDF]. That kind of thing is powerfully attractive to some customers.</p>
<ul>

<li><a href="https://www.theregister.com/2023/04/12/python_management_eu/">Python head hisses at looming Euro cybersecurity rules</a></li>

<li><a href="https://www.theregister.com/2022/03/08/netbeans_13_arrives/">Open-source IDE NetBeans hits v13 – tweaks for Gradle, Maven</a></li>

<li><a href="https://www.theregister.com/2021/09/23/gaia_x_edc/">Eclipse Data Connector arrives for GAIA-X, Europe&#39;s plan to protect its cloud data from foreign tech firms</a></li>

<li><a href="https://www.theregister.com/2020/05/15/microsoft_brad_smith_open_source/">Everything OK with Microsoft? Windows giant admits it was &#39;on the wrong side of history&#39; with regard to open source</a></li>
</ul>
<p>At this point, only the current version <a href="https://github.com/azure-rtos" rel="nofollow">is on GitHub</a>, and we don&#39;t see any trace of a VideoCore version. Although the GPU drivers have <a href="https://www.theregister.com/2012/10/24/raspberry_pi_broadcom_soc_drivers_now_fully_open_source/">long been open source</a>, the firmware never was, and attempts to write <a href="https://github.com/christinaa/rpi-open-firmware" rel="nofollow">an independent FOSS version</a> were never completed, for <a href="https://github.com/christinaa/rpi-open-firmware/issues/37" rel="nofollow">reasons explained</a> on the project page. Now, there is at least some hope that the Raspberry Pi Foundation might be able to get permission to release the source code for its version. As of last year, the foundation had <a href="https://www.theregister.com/2022/02/28/pi_at_10/">sold over 46 million</a> of the things, and if the whole software stack were open source, that would make them even more appealing for a lot of people. ®</p>                                
                    </div></div>
  </body>
</html>
