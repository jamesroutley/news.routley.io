<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.instructables.com/DIY-Pure-Sine-Wave-Inverter/">Original</a>
    <h1>1000W 12V â€“&gt; 220V Inverter</h1>
    
    <div id="readability-page-1" class="page"><div><section id="intro" data-stepid="S1FFCFLKGW9ONXQ"><h2>Introduction: DIY Cheap 1000W Pure Sine Wave Inverter (12V to 110V/220V)</h2><div><p>Car batteries for powering you home? Build a low cost 12V to 220V (DC-AC) Pure Sine Wave Inverter from scratch! The project is based on the low cost EGS002 SPWM driver board module. The DIY inverter board can handle up to 1kW (depending the transformer size). Around $30 was spent to build this project from locally sourced parts.</p><p><strong>Watch My Full YouTube Tutorial:</strong></p><iframe allowfullscreen="" frameborder="0" height="281" src="//www.youtube.com/embed/I8c5DLJgS3o" width="500"></iframe><p><strong>Features Of This Project:</strong></p><ul><li>Transformer can be replaced to work with 110V/220V/230V outputs  </li><li>Has output voltage feedback (constant AC voltage output)  </li><li>Undistorted pure sine wave output (with load)  </li><li>Selectable Output Frequency (60Hz/ 50Hz)  </li><li>Current Protection  </li><li>Voltage Protection  </li><li>Temperature Protection  </li><li>Cooling Fan Output  </li><li>LCD Screen (V,I,Freq,Temp)  </li><li>Modular Swappable Design</li></ul><p><strong>Key Points:</strong></p><ul><li>Powerplants use generators that generate a pure sinewave output. It&#39;s what you would find from the grid. All our AC appliances were originally designed to run on this waveform.  </li><li>A few years back sine wave inverters were extremely expensive ($200-$1000).   </li><li>As a result square wave and modified square wave were the common and affordable options.   </li><li>Square wave inverters are less efficient and can damage sensitive appliances.  </li><li>Aside from being cheap and common, square wave inverters creates that obnoxious humming noises in motors, transformers, mostly on everything you plug to it.   </li><li>Theoretically, sine wave inverters are more efficient than square wave inverters depending on the implementation quality.</li></ul><p><strong>Things To Improve:</strong></p><ul><li>Part 2 of the video will show how to implement a single coil inductor for fast switching, replacing the EI core design used in this project. I&#39;ll see if it yields a higher efficiency than the EI core design from this tutorial.  </li><li>Will update this tutorial for a more detailed bench test. I&#39;m currently building a DC &amp; AC Wattmeter SD datalogger for monitoring the data for this project and my future power electronics project.   </li><li>Will implement SMT components to make the board smaller  </li><li>The next single coil inductor design is expected to yield a smaller form factor, conversion higher efficiency and lower standby power consumption. The one on this project consumes 12W of power without load (a bit mehhh)  </li><li>The current board in this board is limited to a 20VDC input due to the MOSFET driver gate drive source being tied to the Vcc and the 7805 regulator&#39;s input voltage limitation. I will reconfigure the board and replace the 7805 regulator with an XL7005A switching regulator and some linear regulators for different rails for the inverter board to work with 80V power sources (12V/24V/48V/72V). </li></ul><p><strong>Disclaimer: </strong></p><p>Be extra careful with this project as it produces a High Voltage - High Current output. The board was designed to cater a 1kW transformer. Due to unavailability, I was only able to acquire a surplus 500W 12V-220V UPS Transformer. As far as it goes I was only able to reach 400W with minimal sine wave distortion. Part 2 of the video tutorial will show the troubleshooting process and connecting it to a bigger transformer. Part 3 will show the process behind designing user specific inverter using the EGS002 module and Part 4 on building a better inverter with a 48V input for my off-grid solar panel setup. </p></div></section><section id="step1" data-stepid="S9RJ8F8KGW9ONXS"><h2>Step 1: PARTS REQUIRED:</h2><div><p><strong>PARTS REQUIRED:</strong></p><p>- EGS002 SPWM Inverter Driver Module</p><p>- IRF3205 or IRLB4132 MOSFETS (16x) </p><p>- 12V to 220V (500W/1000W) Transformer </p><p>- TO-220 Isolation Set (16x)</p><p> - TIP31C NPN Transistor </p><p>- 7805 Regulator </p><p>- 1N4007 Diode (8x) </p><p>- 10k Ohm NTC Thermistor </p><p>- 10k Ohm Multi-turn Trimmer </p><p>- 10 Ohm Resistor (4x) </p><p>- 2.2k Ohm Resistor </p><p>- 10k Ohm Resistor (4x) </p><p>- 100k Ohm  Resistor (2x) </p><p>- 470nF 25v Capacitor </p><p> - 2.2uF +350v Capacitor </p><p> - 2.2uF 25v Capacitor </p><p> - 10uF 25v Capacitor </p><p>- 100uF 25v Capacitor</p><p><strong>FOR HOMEBREW PCB:</strong></p><p>- Developing Solution (Sodium Hydroxide) </p><p>- Etchant (Ferric Chloride) </p><p>- Hacksaw</p></div></section><section id="step2" data-stepid="SYLVY1ZKGW9ONXT"><h2>Step 2: Intro to the EGS002 Board</h2><div><p>The EGS002 is a versatile $3 all-in-one solution for building Pure Sine Wave inverters. You can build low power to high power inverter units out of it! Right out of the box, It is not an inverter just yet. You would have to build a few components around it to make it into a functional inverter unit. </p><p><strong>Why It Is So Good?</strong></p><p>Decent high power commercial pure sine wave inverters are very expensive! They range from $120-$400. With the EGS002 you can design all sorts of inverters with input voltage, output voltage and power ratings of your choice! For as low as $20, depending on your specs and where you source your components. </p><p><strong>What&#39;s On The EGS002 Board?</strong></p><ul><li><strong>EG8010 SOIC Microcontroller</strong> - The EGS002 uses an EG8010 an ASIC (Application Specific Integrated Circuit) microcontroller chip designed to output SPWM logic signals for driving H-Bridge inverters. The chip is also equipped with I/Os specifically designed for closed loop voltage monitoring, cut-off current monitoring, temperature monitoring and fan drive output. Unlike Arduino based inverter project, the chip is preprogrammed and is ready to use. </li><li><strong>High Side &amp; Low Side MOSFET/IGBT Driver</strong> - The board also contains two IR2110S MOSFET drivers for driving an All N-Channel H-bridge MOSFET arrangement for SPWM and polarity switching to the transformer or inductor. This chip ensures that the low side and the high side MOSFETs (specifically) are fully saturated. This prevent power losses from on-resistance by supplying the gates with their proper gate voltages to ensure the have the least on-resistance with respect to its specs.  </li><li><strong>OP-AMP For Current Sensing</strong> - The board has a LM393 OP-AMP to amplify the voltage from the shunt resistor. The amplified voltage goes back to the EG8010&#39;s analog input as the chip uses it for overcurrent protection </li><li><strong>LCD Ready Display Output</strong> - The EG8010 microcontroller has already been pre-programmed to work with a proprietary LCD display. You can add a dollar to the $3 EGS002 unit to get the extra LCD screen. This displays the output voltage, current, temperature and frequency mode.  </li><li><strong>Single LED Error Display</strong> - There&#39;s one red LED on the board that would blink for a specific number of times to display errors for troubleshooting.</li></ul><p>Stay tuned for the next video and Instructable tutorial as I won&#39;t delve much into the reverse engineering and design process of building user specific inverter board with the EGS002 on this tutorial. </p></div></section><section id="step3" data-stepid="SZFEMTYKGXP3PAB"><h2>Step 3: EGS002 &amp; EG8010 Datasheet Details</h2><p>Will upload a separate tutorial for the EGS002 details. Stay tuned! </p></section><section id="step4" data-stepid="SNL012WKGW9ONXU"><h2>Step 4: EGS002 Setup (60Hz &amp; 50Hz Selection)</h2><div><p>At the rear upper left side of the EGS002, there is a number of solder pad jumpers for configuring specific board parameters. You can refer to the photo above for the table of possible settings. For beginner hobbyists who find the datasheet instructions confusing, here&#39;s a simplified instruction below</p><p><strong>Jumper Setting Detailed Instructions:</strong></p><ul><li><strong>Set AC Frequency</strong> - Depending on which country or continent you live in, appliance AC frequency would vary. For example: In the Philippines and America it is 60Hz in India, China and Europe it is 50Hz. Try to research on your country&#39;s appliance frequency before setting this. By default it is set to 50Hz.<ol><li>Set To 60Hz - Solder JP1 and desolder JP5.</li><li>Set To 50 Hz - Solder JP5 and desolder JP1.</li></ol></li></ul><ul><li><strong>LCD Backlight</strong> - If you have the EGS002 + LCD combo package, you can disable the LED backlight of the LCD screen if you want to save extra power. You can also solder a switch across JP9 if you want to have the freedom to turn it on and off anytime. This is set to on by default.<ol><li>Enable LCD Backlight - Solder JP9.</li><li>Disable LCD Backlight -  Desolder JP9. </li></ol></li></ul><ul><li><strong>Soft Start Mode</strong> - Soft start mode is a nice feature to prevent a surge of power draw once you connect the DC power source to the inverter while a load is attached. With soft start mode, the voltage will slowly increase to your set output voltage for 3 seconds (ex: 0V-220V in 3 seconds). This also prevents huge sparks when connecting your inverter to your battery. If you are planning to build a UPS circuit, you will have to disable it.<ol><li>Enable 3s Soft Start - Solder JP2 together and desolder JP6.</li><li>Disable Soft Start - Solder JP6 together and desolder JP2.</li></ol></li></ul><ul><li><strong>Deadtime </strong>- Deadtime is the time in seconds for the MOSFETs to turn off before switching phases. This is done to prevent cross-conduction (quick short) across the half-bridge MOSFET (vertical MOSFET pair) during high speed switching of he H-Bridge setup. 300ns seems fine for most setups, a slower deadtime of 1.5us must be used for high gate capacitance MOSFETs. I suggest to leave these jumpers by default.<ol><li>300ns Deadtime - Desolder JP3 and JP4 then solder JP7 and JP8.</li><li>500ns Deadtime - Desolder JP4 and JP7 then solder JP3 and JP8.</li><li>1.0us Deadtime - Desolder JP3 and JP8 then solder JP4 and JP7.</li><li>1.5us Deadtime - Desolder JP7 and JP8 then solder JP3 and JP4</li></ol></li></ul></div></section><section id="step5" data-stepid="SA0K9LVKGW9ONXV"><h2>Step 5: Schematics</h2><div><p>As discussed on the video, the left block of schematic refers to what&#39;s on the EGS002 board, and the one on the right is the circuit that we would have to build in order to build a fully functional inverter. I barely made adjustments for this one since the datasheet sample schematic would serve well for a 16 MOSFET configuration too. </p><p><strong>My Tweaks From The Datasheet Sample Schematic: </strong></p><p>I binded the MOSFET Drain pins, 12v cooling fan and 12v pin of the EGS002 as my Vcc (input power source). Take note that the 12v pin of the EGS002 is what supplies the IR2110S driver controlled outputs for your MOSFETs gates. This means the maximum input voltage for the inverter is limited to the max gate voltage of your MOSFET (typically 20v) and your 5V regulator&#39;s max input voltage (35v for 7805). I&#39;ll post a another tutorial soon for higher input voltage inverter systems (24v/48v/72v). I also connected 4 MOSFETs in parallel for each of the 4 MOSFETs used in the H-Bridge setup, giving a total of 16 MOSFETS. This was done to decrease the on-resistance of the system to accommodate more powerful transformers (+1kw at 12v). You can choose to leave some MOSFET slots blank for 4/8/12 MOSFET arrangements. A 7805 regulator on the other hand was connected to the 12V Vcc line to supply a constant 5V to 5V pin of the EGS002 (used for the logic components).</p></div></section><section id="step6" data-stepid="S3S3CNPKGW9ONXW"><h2>Step 6: PCB Design (Build or Buy)</h2><div><p>You may choose to fabricate your own homebrew PCB or choose to get it professionally done by a PCB fabrication service like <a href="https://www.pcbway.com/?from=TechBuilder" rel="nofollow">PCBway</a>. </p><p><strong>Homebrew PCB:</strong></p><p><iframe allowfullscreen="" frameborder="0" height="281" src="//www.youtube.com/embed/7wAer7a3tU4" width="500"></iframe></p><p>For this project, I decided to do a homebrew double sided PCB so that the old school hobbyists can enjoy the tedious process (LOL). Instead of toner transfer, I used the Photosensitized PCB fabrication method, similar to what factories use. It is inkjet friendly unlike toner transfer fabrication. If you are new to photosensitized PCBs, you can watch my other detailed video tutorial above. You can download the printable PDF files for the rendered PCB artwork down below. You can use it for all homebrew PCB, methods. </p><p><strong> Order My Uploaded PCB Design From PCBway: </strong></p><p>You can opt to have your PCBs professionally done by a PCB fabrication service. This will save you time from the long homebrew PCB fabrication process. The gerber files have also been included on my zip file. You can easily order the PCBs from PCBway without going through the gerber upload process, just click the links below. Let me know if the design has problems. I have only tested it on my homebrew PCB.</p><ol><li><strong>Main Inverter Board</strong> (<a href="https://bit.ly/3mBFWTv" rel="nofollow">https://bit.ly/3mBFWTv</a>) </li><li><strong>Filter Breakout Board</strong> (<a href="https://bit.ly/31QBJU2" rel="nofollow">https://bit.ly/31QBJU2</a>)</li></ol><p><strong>File Package: </strong><a href="https://drive.google.com/file/d/1d-GmhJDN3pWiBNOEKJ91ZwwmkhAbtzib/view" rel="nofollow">Schematic, PCB &amp; Documentation Files Zip Download</a></p></div></section><section id="step7" data-stepid="SG29BWGKGXP3LT5"><h2>Step 7: PCB Cutting</h2><p>Use your PCB printouts as a stencil and use a hacksaw to cut your PCB according to the printout&#39;s boarder.</p></section><section id="step8" data-stepid="SFKSNAYKGW9ONXX"><h2>Step 8: Photo Exposure</h2><div><p>Peel your photosensitized PCB&#39;s light protective film. If you aren&#39;t using transparency film for your PCB layout, you can use some baby oil to to make your paper printout translucent, this would allow the light through the paper to pass through. I then exposed it to my DIY UV Exposure box for 7 minutes for photo-developing. I made a tutorial for white LED Strip version of it. Feel free to watch the video below. If you&#39;re using LED strips or fluorescent tubes, it will take around 10-15 minutes of exposure time. </p><p>After the photo exposure process, I submerged my photo exposed PCB on my developing solution (provided with photosensitized PCB packs). The chemical used is lye or sodium hydroxide mixed with water. The line mask traces would eventually appear. </p></div></section><section id="step9" data-stepid="S3219Q1KGXP3K37"><h2>Step 9: Etching</h2><div><p>I grabbed my bottle of ferric chloride etchant and submerged the photo developed PCB on my DIY etching machine filled with ferric chloride. </p><p><strong>Here&#39;s A Tutorial For Building An Etching Machine:</strong></p><p><iframe allowfullscreen="" frameborder="0" height="281" src="//www.youtube.com/embed/DX881LdzVTU" width="500"></iframe></p><p>This would save you time from shaking your vat of etchant. It makes the etching process less tedious and a lot faster.</p></div></section><section id="step10" data-stepid="SAFHKPAKGXP3KS9"><h2>Step 10: Paint Removal </h2><p>Removing the remaining paint is important. If left on the board, it would give you a really hard time in soldering later on. </p></section><section id="step11" data-stepid="SGKT1TDKGXP3KH2"><h2>Step 11: Drilling</h2><p>I used my mini drill and a 0.8mm bit for the components. On the other hand, I used my cordless drill and a 3mm drill bit for the high-power vias, through holes and screw mounts. </p></section><section id="step12" data-stepid="SVP83QVKGXP3L4R"><h2>Step 12: Soldering Makeshift Through Holes</h2><p>One of the limitations of homebrew PCBs are the lack of conductive through holes and vias. I designed the PCB to work with improvised through holes. Just strip a Guage 12 solid wire and solder it to link the high current lines from each side. </p></section><section id="step13" data-stepid="SN2X6XOKGXP3L03"><h2>Step 13: Tinning Lines for Extra Power</h2><p>You can tin the traces with solder to cater more current and to prevent copper oxidation in the future.  </p></section><section id="step14" data-stepid="S1NJ9BJKGXP3LL8"><h2>Step 14: Solder Both Sides</h2><p>As stated from the previous step, homebrew PCBs do not have through holes. Be sure to solder the component&#39;s legs from both the top and bottom copper pads. </p></section><section id="step15" data-stepid="SCOG72GKGXP3M23"><h2>Step 15: Mark &amp; Drill Heatsink Holes</h2><p>Align your heatsink to the MOSFETs and use your marker. Use your drill and 3mm bit to drill holes on it.</p></section><section id="step16" data-stepid="SVZQ32MKGXP3MA9"><h2>Step 16: Add MOSFET Isolation</h2><div><p>The MOSFETs I&#39;m using comes in a TO-220 package. The metal tab of the MOSFET is technically tied to its drain pin. Electrical isolation must be applied to avoid conduction between the other sets of MOSFETs. I usually leave the upper MOSFETs from the H-Bridge unisolated as they share a common drain pin (Vcc). </p><ol><li>Add a some thermal paste</li><li>Apply the isolation pad (mica/ fiberglass)</li><li>Add thermal paste</li><li>Add plastic bushing (screw isolation)</li><li>Force screw your bolts to the heatsink</li></ol></div></section><section id="step17" data-stepid="SF6KX7OKGXP3MJL"><h2>Step 17: Heatsink Ductape Insulation</h2><p>Homebrew PCBs also lack solder mask. Grab some ductape and insulate the bottom part of your heatsink to prevent it from shorting the copper traces from the top layer of your PCB. </p></section><section id="step18" data-stepid="SXNWUA5KGXP3MW5"><h2>Step 18: Makeshift Shunt Resistor</h2><p>A shunt resistor is used in the circuit for current sensing and overcurrent protection. Instead of using those bulky high power resistors, you can use a solid wire of copper as a makeshift low-profile shunt resistor. I stripped a Guage 12 solid wire, cut it to 60mm, bent it then soldered it to the board. </p></section><section id="step19" data-stepid="S6R7PZPKGXP3N3L"><h2>Step 19: Add a Tank Capacitor to VCC</h2><p>I added a 3,300uF 25V tank capacitor across the Ground and +12VDC power input to increase stability. </p></section><section id="step20" data-stepid="S6YZUY1KGXP3NBM"><h2>Step 20: Add the Temperature Sensor &amp; Fan</h2><p>A 10k Ohm NTC sensor must be connected to the pads on the board for temperature monitoring. I haven&#39;t tried omitting the NTC, but if you plan to omit the temperature sensor due to unavailability, just hook a 10k Ohm resistor across it. On the other hand, the inverter would still work with or without the 12V cooling fan. </p></section><section id="step21" data-stepid="S84MRMGKGXP3NYZ"><h2>Step 21: Connect the LCD Display </h2><p>When you buy the EGS002 + LCD combo, you get a 7 pin wafer connector. Just connect the LCD&#39;s pins to the EGS002 LCD pin output accordingly. There are labels on both the LCD and EGS002 board on where to connect it. </p></section><section id="step22" data-stepid="SD6V42OKGXP3NRZ"><h2>Step 22: Solder Input &amp; Transformer Wires</h2><p>Solder the transformer wires to the board and some Guage 8-12 wires to the power input as well. You can add some XT60 or XT90 connectors for detachability. </p></section><section id="step23" data-stepid="S562LJ7KGXP3O67"><h2>Step 23: Connect the Filter Circuit</h2><p>A filter capacitor must be added to smoothen the rough and spikey SPWM output from the transformer. Based on the datasheet, a simple 2.2uF +350v (non polarized) capacitor should work. I made a simple breakout board for it, having three screw terminals connected in parallels to it. A pair of wires goes to the transformer&#39;s HV output, another pair to the outlet and another pair back to the feedback input of the main inverter board. </p></section><section id="step24" data-stepid="SLLG3O5KGXP3OD7"><h2>Step 24: With Vs. Without Filter</h2><p>Here&#39;s what the waveforms look like with and without the capacitor. </p></section><section id="step25" data-stepid="SO88NYAKGXP3OK5"><h2>Step 25: Voltage Output Calibration</h2><div><p>Before using the inverter with appliances, be sure to calibrate the output voltage. The assembled inverter project, comes with output voltage feedback regulation. This means, the user can set a specific voltage output and the inverter will try it&#39;s best to maintain that set output voltage, even when the voltage drops as the battery (power source) starts to drain. There&#39;s a limit to this, if your inverter can no longer maintain the set output voltage, the error LED will blink and the inverter would automatically shut down. </p><ol><li>Connect a voltmeter to the filtered AC output</li><li>Set your voltmeter to the AC range</li><li>Power your inverter</li><li>Turn the multiturn trimmer resistor until you reach your target voltage (220V/230V)</li></ol></div></section><section id="step26" data-stepid="S8EXPZPKGXP3OR9"><h2>Step 26: Load Testing</h2><div><p>A 3S6P 18650 Lithium-ion battery pack was connected as the power source during the load testing. I chose li-ion for the test since each cell can dump 20A or current (120A in total). As far as it goes, I was only able to reach around 400W from the output with a clean output waveform. The inverter shuts down by itself as I go above. </p><p><strong>Part 2 of the video will show the troubleshooting process. </strong></p></div></section><div><div><p><img data-src="https://content.instructables.com/F9G/CVPX/KGAU1WU7/F9GCVPXKGAU1WU7.gif?auto=webp&amp;crop=1240%2C600&amp;frame=1&amp;width=320" src="https://www.instructables.com/assets/img/pixel.png" alt="1000th Contest"/></p><p>Participated in the </p></div></div></div></div>
  </body>
</html>
