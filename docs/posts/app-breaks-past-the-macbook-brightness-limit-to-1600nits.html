<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lunar.fyi/changelog">Original</a>
    <h1>App breaks past the MacBook brightness limit to 1600nits</h1>
    
    <div id="readability-page-1" class="page"><div id="content"><section id="default-releases">


<article id="5.5.2"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>Custom Presets</strong>: save the current brightness/contrast as a preset that you can apply later</li>
</ul>



<ul>
<li>Allow hiding most stuff in the QuickActions menu to get a smaller menu without unneeded functions</li>
</ul>



<ul>
<li>Apply custom presets from the CLI:
<ul>
<li><code>lunar preset &#34;Night Owl&#34;</code></li>
</ul></li>
<li>Allow changing Min/Max Brightness on built-in and other non-DDC displays</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>The QuickActions menu now grows to the bottom instead of from the center to create a smoother feel</li>
<li>Make sliders smoother by offloading adaptive mode work from the main thread when changing brightness fast</li>
<li>Allow hiding <strong>Standard Presets</strong> from the <code>Options</code> menu</li>
<li>Group resolutions by refresh rate</li>
<li>Add images to differentiate resolutions easier</li>
<li>Change some text fields to the system monospaced font because I like it</li>
<li>Lower CPU usage overall by throttling events that happen too fast</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix QuickActions menu appearing outside the screen edge</li>
<li>Fix QuickActions menu redrawing at the center/bottom of the screen when changing specific settings</li>
</ul>
</div></article>


<article id="5.5.1"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>XDR Brightness</strong>: go past the <code>500</code> nits limit of the new <em>2021 MacBook Pro</em> and <em>Pro Display XDR</em>
<ul>
<li>Warning: this is experimental. The system may become unresponsive for a few seconds when toggling this option</li>
<li>Animation glitches are expected when this is enabled</li>
</ul></li>
</ul>



<iframe width="350" height="197" src="https://www.youtube-nocookie.com/embed/jC3yyFKPcCI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<ul>
<li><strong>Sub-zero dimming</strong>: dim brightness below 0%</li>
</ul>



<ul>
<li><strong>QuickActions</strong> redesign:</li>
</ul>



<ul>
<li><strong>Input Hotkeys</strong> redesign:</li>
</ul>

<p><img src="https://files.lunar.fyi/input-hotkeys-redesign.png" alt="Input hotkeys redesign"/></p>

<ul>
<li>Add <strong>BlackOut without mirroring</strong> checkbox in the <a href="https://app.lunar.fyi/display/controls">Controls menu</a> of each display</li>
<li>Add <strong>BlackOut other displays</strong> action on holding <code>Option</code>+<code>Shift</code></li>
<li>Add <strong>Allow brightness to reach zero</strong> checkbox in the <a href="https://app.lunar.fyi/display/controls">Controls menu</a> for <em>built-in</em> displays
<ul>
<li>By default this is disabled to avoid turning off the display by mistake</li>
</ul></li>
<li>Implement <strong>BlackOut for AirPlay/Sidecar/DisplayLink</strong> (it&#39;s just a pitch black overlay really, but that&#39;s the most I can do)</li>
</ul>

<p><img src="https://files.lunar.fyi/blackout-quickactions.png" alt="BlackOut in QuickActions"/></p>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add <strong>Emergency Kill Switch</strong> for <strong>BlackOut</strong>
<ul>
<li><em>Press the âŒ˜ Command key more than 8 times in a row to force disable BlackOut</em></li>
</ul></li>
<li><em>F.lux</em> detection improvements
<ul>
<li>Ensure Overlay gets activated</li>
<li>Add note about <a href="https://shifty.natethompson.io">Shifty</a> as an alternative</li>
<li>Update AppleScript for Monterey</li>
</ul></li>
<li>Allow Preferences window to be moved by its background</li>
<li>Add selector for switching between <em>System</em> and <em>Lunar</em> adaptive brightness</li>
<li>Disable overlay temporarily when taking a screenshot</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li><strong>Fix Gamma flashing</strong> bright from time to time</li>
<li><strong>Remove Software Dimming delay</strong> if it&#39;s the only control enabled</li>
<li>Fix displays having low/high brightness after wake/reconnection</li>
<li>Fix overflow crash in Clock Mode</li>
<li>Fix BlackOut being stuck when using it without mirroring</li>
<li>Fix contrast getting stuck to 0 when Lunar is restarted while BlackOut is on</li>
<li>Check for vendor ID on BetterDummy screens</li>
</ul>

<p><strong>Note</strong>: Starting from <code>v5.5.0</code> Lunar will require <code>macOS 11.0+</code></p>
</div></article>


<article id="5.4.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix deadlock on screen wake/reconnection</li>
</ul>
</div></article>


<article id="5.4.2"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>Efficient Sync Mode</strong>
<ul>
<li>A new internal system API is used to react to built-in display brightness changes instead of polling continuously for them</li>
<li>This lowers the CPU usage to <code>0.1%</code> on average when no brightness change occurs</li>
<li>This new method can be disabled by setting the <em>Sync Polling Interval</em> to a value greater than <code>0 seconds</code></li>
<li><em>If brightness syncing stops working after the update, try setting the Polling Interval to <code>2 seconds</code></em></li>
</ul></li>
</ul>

<p><img src="https://files.lunar.fyi/new-sync-mode.png" alt="New Sync Mode method"/></p>

<ul>
<li>Add <code>lunar blackout</code> command to CLI</li>
<li>Add <code>lunar gamma --restore-color-sync</code> command for resetting to system default color settings</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Update <code>ddcutil-server</code> for Raspberry Pi OS 64-bit</li>
<li>Improve Lunar CLI help</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix software dimming not going back to 100% after app restart on more recent macOS versions</li>
<li>Fix BlackOut dialog appearing wrongly</li>
</ul>
</div></article>


<article id="5.4.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix sudden brightness changes because of brightness being read incorrectly on some monitors</li>
<li>Delay when retrying sensor requests</li>
<li>Fix radius value disappearing on editing</li>
</ul>
</div></article>


<article id="5.4.0"><div>
<h2 id="features">Features</h2>

<h3 id="client-server-architecture-for-the-lunar-cli">Client-server architecture for the Lunar CLI</h3>

<p>The <code>lunar</code> command can now control the running Lunar app directly instead of spawning a new instance.</p>

<p>If the Lunar app is not running, the CLI will automatically use the old method of running the command directly.</p>

<h4 id="new-arguments">New arguments:</h4>

<ul>
<li><code>--remote</code> forces the <code>lunar</code> command to never spawn a new instance and fail if there&#39;s no Lunar app already running</li>
<li><code>--host</code> configures the hostname where to send the command
<ul>
<li>This means you can now also control Lunar apps running on other Macs</li>
</ul></li>
<li><code>--key</code> configures the API key for authenticating the <code>lunar</code> command against the Lunar app server
<ul>
<li>This is only needed when controlling Lunar instances running on other systems</li>
</ul></li>
<li><code>--new-instance</code> forces the <code>lunar</code> command to always run the command locally and spawn a new instance even if there&#39;s a Lunar app already running</li>
</ul>

<h3 id="blackout-improvements">BlackOut improvements</h3>

<p>Added <strong>BlackOut without mirroring</strong> on holding <code>Shift</code>.</p>

<p><img src="https://files.lunar.fyi/blackout-without-mirroring-tooltip.png" alt="blackout without mirroring tooltip"/>
<img src="https://files.lunar.fyi/blackout-without-mirroring-menuitem.png" alt="blackout without mirroring menuitem"/></p>

<ul>
<li>Added logic to automatically disable BlackOut when monitors are disconnected and the only remaining display is blacked out</li>
<li>Configured mirroring as <code>.appOnly</code> so that the system doesn&#39;t remember the BlackOut mirroring state after Lunar is quit</li>
</ul>

<h2 id="improvements">Improvements</h2>


</div></article>


<article id="5.3.4"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix BlackOut getting stuck in some rare cases</li>
<li>Release leaking memory on Intel DDC implementation with AMD GPU</li>
</ul>
</div></article>


<article id="5.3.3"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Move the <em>Volume keys control all monitors</em> setting to make its effect clearer</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash caused by reading built-in brightness on a different thread</li>
<li>Add 1 second delay between switching input and applying defined brightness on Input Hotkeys</li>
</ul>
</div></article>


<article id="5.3.2"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Move the <strong>Auto Blackout</strong> setting to the main preferences screen</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash caused by SimplyCoreAudio deadlock</li>
</ul>
</div></article>


<article id="5.3.1"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Add a way to <strong>extend the range</strong> of Color Gain for professional displays like the <strong>Wacom Cintiq Pro</strong></li>
<li>Add a way to <strong>disable re-apply on wake</strong> for Color Gain</li>
<li>Security updates to dependencies</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix colors being washed out because the Color Gain value of the monitor didn&#39;t match what Lunar had stored</li>
</ul>

<p><img src="https://files.lunar.fyi/color-gain-settings.png" alt="new color gain settings"/></p>
</div></article>


<article id="5.3.0"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Show slider values on the knob</li>
<li>Improve slider contrast</li>
<li>Add glass material to QuickActions</li>
<li>Detect HDMI port properly on the M1 Pro and M1 Max
<ul>
<li>This will disable DDC automatically for that port as there&#39;s still no way to send DDC commands through it</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Hide second background of QuickActions when Reduce Transparency is active</li>
<li>Make sure to re-enable adaptive brightness on built-in after switching from Manual to other modes while in an App Preset</li>
</ul>
</div></article>


<article id="5.2.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Make sure that monitors with Network Control disabled don&#39;t get matched with a Pi controller</li>
<li>Remove the <strong>Lunar Test</strong> flashing text properly after onboarding</li>
</ul>
</div></article>


<article id="5.2.2"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Add an IOService event detector to re-create the I2C service port cache when the IOKit tree changes
<ul>
<li>This should help with cases when the monitor is not responding to Lunar&#39;s brightness/volume/input changes until app restart</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix fetching script dir in Lunar sensor install script</li>
<li>Remove HDMI port detection logic for M1 Pro/Max because it causes false positives
<ul>
<li>Will resume work on this when my MacBook arrives</li>
</ul></li>
</ul>

<p><strong>Note: if you have a monitor connected to the HDMI port of the MacBook, disable DDC manually</strong></p>

<p><img src="https://files.lunar.fyi/disable-ddc-m1-hdmi.png" alt="disabling DDC for HDMI port on M1"/></p>
</div></article>


<article id="5.2.1"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Make brightness key forwarding optional in Advanced settings
<ul>
<li>If the built-in display brightness is not persisting properly, try enabling this setting</li>
</ul></li>
</ul>

<p><img src="https://files.lunar.fyi/workaround-builtin.png" alt="workaround builtin setting"/></p>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Reset BlackOut state if brightness is greater than 1</li>
<li>Don&#39;t show OSD for built-in brightness when forwarding media keys to the system</li>
<li>Fix crash because of wrong datapoints for the Location Mode chart</li>
<li>Fix Input Hotkey dropdown in Dark Mode</li>
</ul>
</div></article>


<article id="5.2.0"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>Auto BlackOut</strong>
<ul>
<li>Turn off the built-in display automatically when an external monitor is connected</li>
<li>Turn back on the built-in display when all external monitors are disconnected</li>
</ul></li>
<li>Simpler visual design for <strong>Quick Actions</strong></li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Automatically switch to Gamma on the HDMI port of the M1 Pro/Max MacBook</li>
<li>Don&#39;t re-apply brightness if App Presets is empty (avoids jittery brightness on some displays)</li>
<li>Make sure we don&#39;t accidentally disable &#34;Automatically adjust brightness&#34;</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix option key being wrongly taken into account when pressing brightness keys</li>
<li>Update Sparkle auto-updating framework to fix some GUI bugs</li>
<li>Update diagnostics text to include the MacBook HDMI limitation</li>
<li>Fix <code>checkSlowWrite</code> for DDC which could wrongly mark smooth transitions as unsupported</li>
<li>Make sure to remove the <strong>Lunar Test</strong> marker when closing diagnostics/onboarding</li>
</ul>
</div></article>


<article id="5.1.2"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add possibility to stream logs to the developer in real time for more efficient troubleshooting</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Make Gamma/Overlay changes faster when using sliders</li>
<li>Make the Adaptive Mode dropdown easier to click</li>
<li>Add note about how to adjust contrast independently on the Hotkeys page</li>
<li>Make App Presets more reliable on single monitor setups by not caring about the window visibility</li>
<li>Make Ultrafine AmbientLightCompensation detection more strict
<ul>
<li>It seems there are some models that report that AmbientLightCompensation is enabled while HasAmbientLightCompensation is false</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix contrast media keys</li>
<li>Fix internal sensor detection</li>
<li>Fix contrast locking by itself when showing/hiding advanced settings</li>
</ul>
</div></article>


<article id="5.1.1"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Correctly set max DDC brightness to 255 on LED Cinema displays</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix clamshell mode detection for some special setups</li>
<li>Fix brightness OSD not showing in some cases (missed some stuff)</li>
<li>Fix brightness keys not working in previous release</li>
</ul>
</div></article>


<article id="5.1.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add back the Adaptive Mode dropdown in the QuickActions menu</li>
<li>Add more useful buttons at the bottom of the QuickActions menu:
<ul>
<li><strong>Preferences</strong></li>
<li><strong>Restart</strong></li>
<li><strong>Quit</strong></li>
</ul></li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add menu item to <strong>Relaunch the onboarding process</strong></li>
<li>Improve QuickActions menu height formula</li>
<li>Add notice about how to relaunch onboarding if needed</li>
<li>Improve brightness slider for built-in display</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix <strong>Sync Source</strong> button text being unreadable</li>
<li>Fix overlay artifacts appearing when disconnecting iPad Sidecar</li>
<li>Fix brightness OSD not showing in some cases</li>
<li>Fix Clock Mode schedules being reverted to the current brightness on some occasions</li>
<li>Fix App Presets window detection by intersecting the window frame with the raw display bounds</li>
</ul>
</div></article>


<article id="5.0.5"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix detection for Samsung U28E850</li>
</ul>
</div></article>


<article id="5.0.4"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix issue where adjusting brightness with keys would double the change for external displays</li>
</ul>
</div></article>


<article id="5.0.3"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add <strong>Volume Slider</strong> show/hide toggle inside the <a href="lunar://display/ddc">DDC menu</a> of external displays</li>
<li>Add <strong>Copy from display</strong> for Curve Factors</li>
<li>Add possibility to show slider values</li>
<li>Separate brightness and contrast for app presets when <em>Merge brightness and contrast</em> is disabled</li>
<li>Add <strong>Jitter After Wake</strong> function for monitors that wake up with dimmed brightness
<ul>
<li>Can be activated from the terminal using <code>defaults write fyi.lunar.Lunar jitterAfterWake 1</code></li>
</ul></li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Make contrast syncing snappier</li>
<li>Make the CLI DDC values a bit smarter
<ul>
<li>If the value is in the form of <code>0x1F</code>, <code>x1F</code> or <code>1Fh</code> it is parsed as hex</li>
<li>Otherwise it is parsed as decimal</li>
<li>Passing <code>--hex</code> will always parse values as hex</li>
</ul></li>
<li>Work around the system issue where the built-in display brightness is reverting automatically after a manual change</li>
</ul>

<p>It seems that some MacBooks don&#39;t support brightness change event notifications which causes the manual adjustments to not be reflected in the system brightnesss curve.
In this update we try to detect if a MacBook is missing that support and instead of controlling its brightness, we forward the brightness key events to the system and let it do the brightness changing.
Using the sliders for changing the built-in brightness will still have the reverting problem though, because we can&#39;t forward those events to the system.</p>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Don&#39;t ask for permissions on every launch if the user doesn&#39;t need that functionality</li>
<li>Don&#39;t force focus Lunar window if dark mode is toggled</li>
</ul>
</div></article>


<article id="5.0.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix lag and wrong monitor assignment when DDC was used for two identical monitors</li>
<li>Fix crash when getting current resolution for some displays</li>
<li>Fix Sync Mode for Ultrafines that report having ambient light adaptive brightness enabled when in fact they don&#39;t</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add all MCCS VCP codes to <code>lunar ddc</code></li>
<li>Add <strong>Use current brightness</strong> button in Clock Mode</li>
<li>Add <strong>Merge brightness and contrast</strong> checkbox on the Configuration page
<ul>
<li>Allows for reverting to the previous behaviour of controlling brightness and contrast separately</li>
</ul></li>
</ul>
</div></article>


<article id="5.0.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash in diagnostics/onboarding when closing the window</li>
<li>Automatically restart app when memory usage goes above 1GB</li>
<li>The <strong>Advanced</strong> button on the Configuration page was not clickable on the top part</li>
</ul>
</div></article>


<article id="5.0.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Support for <strong>M1 Pro</strong> and <strong>M1 Max</strong></li>
<li><strong>Onboarding</strong> process on first launch</li>
<li>Redesigned <strong>Diagnostics</strong></li>
</ul>

<p><img src="https://files.lunar.fyi/onboarding-diagnostics.png" alt="diagnostics screen"/></p>

<ul>
<li>Redesigned <strong>Quick Actions</strong> menu
<ul>
<li>The menu appears on click instead of hover over the menu bar icon now</li>
<li>The native menu can be shown using:
<ul>
<li>Right click (or two finger Trackpad click) on the menu bar icon</li>
<li>Click on the three dots icon in the top right of the Quick Actions menu</li>
</ul></li>
</ul></li>
</ul>

<p><img src="https://files.lunar.fyi/quick-actions.png" alt="quick actions menu"/></p>

<ul>
<li><strong>Sliders everywhere</strong>
<ul>
<li>Merged <strong>brightness and contrast slider</strong></li>
<li>Volume slider in the QuickActions menu</li>
<li><em>Only possible with the incredible help of <a href="https://github.com/waydabber">@waydabber</a>, maker of <a href="https://github.com/waydabber/BetterDummy">BetterDummy</a></em></li>
</ul></li>
<li>Redesigned <strong>Display Settings</strong> menus</li>
</ul>

<p><img src="https://files.lunar.fyi/display-settings-icons.png" alt="new display settings icons"/></p>

<ul>
<li><strong>Restart Lunar</strong> menu item and hotkey</li>
</ul>

<p><img src="https://files.lunar.fyi/restart-hotkey.png" alt="restart hotkey"/></p>

<ul>
<li><strong>Overlay/Gamma switcher</strong> button inside the Controls menu</li>
</ul>

<p><img src="https://files.lunar.fyi/overlay-button.png" alt="overlay button"/></p>

<ul>
<li><strong>App presets</strong> now work for the built-in display as well</li>
</ul>

<p><img src="https://files.lunar.fyi/builtin-app-preset.png" alt="builtin app preset"/></p>

<ul>
<li>Adding <strong>Option</strong> key to the <strong>BlackOut</strong> hotkey will turn off monitor completely through DDC
<ul>
<li>Example: let&#39;s say you have configured BlackOut to activate on <code>Ctrl</code>-<code>Command</code>-<code>6</code></li>
<li>Then pressing <code>Ctrl</code>-<code>Command</code>-<code>Option</code>-<code>6</code> will allow you to turn off the monitor completely (<em>just like pressing its physical power button</em>) if the monitor supports that function</li>
</ul></li>
<li><strong>Rounded corners</strong> for any display</li>
</ul>



<h2 id="improvements">Improvements</h2>

<ul>
<li>Enable the power button in the Lunar window to also work when the <strong>Allow BlackOut on single screen</strong> option is enabled</li>
<li>Add <em>high memory usage checker</em> to aid in fixing memory errors in the future</li>
<li>Use <em>Apple Native smooth transitions</em> using private macOS APIs on Apple vendored displays</li>
<li>Smooth transitions can now happen in parallel if there are multiple displays with different controls</li>
<li>Cut the memory usage in half by replacing large images in the UI with vector-drawn bezier paths</li>
<li>Improved BlackOut logic when using a dummy display</li>
<li>Filter checkbox for showing/hiding dummy displays</li>
<li>Hotkeys changing the display with the cursor now affect all monitors in a mirror set
<ul>
<li>This improves support for apps like <a href="https://github.com/waydabber/BetterDummy">BetterDummy</a></li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Software overlay for Sidecar now appears correctly on first connection</li>
<li>Notify the system when changing built-in brightness to allow the system curve to readapt</li>
</ul>
</div></article>


<article id="4.9.6"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>Useful Info</strong> menu item in menu bar that can also be hidden</li>
<li><strong>Allow BlackOut on single screen</strong> advanced setting for people that:
<ul>
<li>mostly use BlackOut from the keyboard</li>
<li>have the need to turn off the external monitor while the MacBook is in clamshell mode</li>
</ul></li>
<li>Option to show brightness and contrast of the active display beside the menu bar icon</li>
<li>Option to hide the orientation switcher in the QuickActions menu</li>
<li>Hide QuickActions when clicking anywhere outside of it</li>
</ul>

<p><img src="https://static.lunar.fyi/menu-bar-improvements.png" alt="menu bar improvements"/></p>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Change <strong>Apply Gamma</strong> checkbox to an enable/disable button that also disables value editing</li>
<li>Close QuickActions menu faster when moving the cursor away from it</li>
<li>Better <em>possible clamshell mode detection</em> to avoid setting external monitor brightness to 0 when closing the MacBook lid</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crashes that happened because of accessing AVService/I2C cache from multiple threads</li>
<li>Make sure to update some text fields that were not updated on launch</li>
</ul>
</div></article>


<article id="4.9.5"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>Clock Mode</strong>: schedule brightness and contrast presets based on sunset/sunrise/noon or a specific time</li>
<li><strong>Dark Overlay</strong> dimming for displays that don&#39;t support Gamma or DDC (<strong>DisplayLink</strong> and <strong>Sidecar</strong> usually)</li>
<li><strong>Curve Learning</strong> now works with external brightness changes if <strong>Refresh values from monitor settings</strong> is enabled in <a href="lunar://advanced">Advanced settings</a>
<ul>
<li>Contrast does nothing when the overlay is used</li>
</ul></li>
<li>Sensor Mode can now use the internal light sensor of the M1 MacBooks</li>
<li>Add option to disable checking for DDC responsiveness in <a href="lunar://advanced">Advanced settings</a></li>
<li>Display filters for deciding what to show in the Preferences window:
<ul>
<li>Virtual displays</li>
<li>AirPlay displays</li>
<li>Projectors</li>
<li>Disconnected monitors</li>
</ul></li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Improve dynamic gain on the TSL2591 external light sensor by checking for overflows
<ul>
<li>You will need to reinstall the ambient light sensor firmware to get this improvement</li>
</ul></li>
<li>Improve Gamma smooth transitions by removing unnecessary animations and allowing it to appear on Mission Control
<ul>
<li>Thanks to <a href="https://github.com/waydabber">@waydabber</a> for finding out this edge case and for suggesting that the window needs to be set as <code>stationary</code> to fix it</li>
</ul></li>
<li>Recover Facelight state after screen sleep/wake</li>
<li>Improve smooth and slow transitions for Apple vendored displays that can use Native Controls</li>
<li>Reset audio device cache on wake and on display reconnection to avoid volume controls not working in some cases</li>
<li>Do network requests asynchronously where possible to improve responsiveness and fix some memory leaks</li>
<li>Simplify menu bar icon menu</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash when the DDC faults storage was accessed from multiple threads</li>
<li>Fix crash that happened on modifying the I2C controller cache when the IO registry tree changed</li>
</ul>
</div></article>


<article id="4.9.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash because of gamma smooth transition logic</li>
<li>Fix crash when Sensor Mode would update brightness on a non-main thread</li>
<li>Avoid app entering a not responding state when in Location mode and waking the screen</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Make sure Gamma never goes below <code>0.08</code> on brightness 0 to retain visibility</li>
<li>Allow <strong>press-and-hold</strong> detection to be disabled for users that encounter problems with it</li>
<li>Remove unused serial-port and volume-based sensor options</li>
</ul>
</div></article>


<article id="4.9.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Revamped Hotkeys page for easier configuration of how the keys should work</li>
<li>Hotkeys now support press and hold for repeating actions</li>
<li>Add configurable FaceLight brightness/contrast settings inside the <a href="lunar://display/settings">Lunar Display settings</a></li>
<li>Add <strong>Disable all hotkeys</strong> button on the Hotkey page</li>
</ul>

<p><img src="https://lunar.fyi/static/img/disable-all-hotkeys-button/disable-all-hotkeys-button.png" alt="disable all hotkeys button"/></p>

<ul>
<li>Add <strong>Slow</strong> brightness transition option</li>
<li>Change Lunar window pages using keys:
<ul>
<li>Press <strong>H</strong> for the <em>Hotkeys</em> page</li>
<li>Press <strong>C</strong> for the <em>Configuration</em> page</li>
<li>Press <strong>A</strong> for the <em>Advanced Settings</em> page</li>
<li>Press <strong>B</strong> for the <em>Built-in display</em> page</li>
<li>Press <strong>1..9</strong> for switching to the <em>Display</em> page with that number</li>
<li>Press <strong>0</strong> for switching to the <em>last display</em> page</li>
</ul></li>
</ul>



<h2 id="improvements">Improvements</h2>

<ul>
<li>Re-apply BlackOut on screen wake to account for brightness being set to a non-zero value by the system
<ul>
<li>This needs <strong>Re-apply brightness on screen wake</strong> to be enabled inside <a href="lunar://advanced">Advanced settings</a></li>
</ul></li>
<li>Make the Gamma smooth transition dot even less visible to avoid creating the perception of a dust speck on the screen</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix Lunar not responding in some cases when waking up from sleep</li>
<li>Fix swipe being blocked on the Configuration page</li>
</ul>
</div></article>


<article id="4.8.5"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix BlackOut hotkey not reflecting in the menu bar item</li>
<li>Fix Check for Updates not working on some occasions</li>
</ul>

<h2 id="features">Features</h2>

<ul>
<li>Add a way to hide the macOS volume OSD for monitors that have their own volume indicator</li>
</ul>

<p><img src="https://lunar.fyi/static/img/volume-osd/volume-osd.png" alt="screenshot showing Lunar&#39;s setting for hiding the macOS Volume OSD"/></p>
</div></article>


<article id="4.8.4"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add navigation bar and remove left/right arrow buttons</li>
<li>Simplify and smoothen brightness graph
<ul>
<li>More complex data can be shown by enabling <strong>Show more graph data</strong> in <a href="lunar://advanced">Advanced settings</a></li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix internal display being dimmed accidentally after the lid was opened</li>
<li>Fix QuickActions popover closing accidentally right after opening</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add <strong>Continue</strong> button for diagnostics instead of relying on pressing keyboard keys</li>
<li>Improve Native Controls detection for the built-in display when closing/opening the lid</li>
</ul>
</div></article>


<article id="4.8.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix DDC for monitors that act as TVs when in fact they aren&#39;t</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add contact form on lunar.fyi</li>
<li>Allow fully offline installations</li>
</ul>
</div></article>


<article id="4.8.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Make Gamma ColorSync profile matching work on Intel as well
<ul>
<li>Many thanks to <a href="https://github.com/waydabber">@waydabber</a> for suggesting that a Gamma table of <code>256</code> values might fix this</li>
</ul></li>
<li><strong>Fix Hotkeys handling</strong> after adding the built-in display page</li>
<li>Add missing hotkeys for changing screen orientation in <a href="lunar://advanced">Advanced settings</a></li>
<li>Fix <code>recursive locking</code> crash because of using <code>NSScreen</code> inside <code>MPDisplay</code></li>
</ul>
</div></article>


<article id="4.8.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix stack overflow crash in detecting if a display is built-in</li>
<li>Check for display ID to be online before reading Gamma</li>
<li>Make ColorSync profile matching in Software Control mode M1 only
<ul>
<li>This is because Apple&#39;s <code>CGGetDisplayTransferByTable</code> is buggy on Intel and crashes the app on some systems</li>
</ul></li>
</ul>
</div></article>


<article id="4.8.0"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>Dark Mode UI</strong></li>
</ul>

<p><img src="https://static.lunar.fyi/dark-mode.png" alt="dark mode UI"/></p>

<ul>
<li>Add <strong><a href="lunar://display/builtin">Built-in Display page</a></strong></li>
</ul>

<p><img src="https://static.lunar.fyi/builtin.png" alt="built-in display page"/></p>

<ul>
<li><strong><a href="https://lunar.fyi/#blackout">BlackOut</a></strong>: a feature that lets you selectively turn off displays by:
<ul>
<li>Mirroring the main display contents</li>
<li>Setting their brightness and contrast to 0</li>
<li><strong>How to use:</strong>
<ul>
<li>Press <code>Ctrl+Cmd+6</code> to activate it and turn off the display where the cursor is</li>
<li>You can also activate it by <em>clicking the power button</em> on the display page for the following cases:
<ul>
<li>Built-in display</li>
<li>External monitors that don&#39;t support DDC</li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<p><img src="https://static.lunar.fyi/blackout-button.png" alt="blackout power off button"/></p>

<ul>
<li>Add <em>&#34;Use Alternate Brightness Keys&#34;</em> checkbox on the <a href="lunar://hotkeys">Hotkeys page</a>
<ul>
<li>Useful if you have a keyboard that has <code>F14</code>/<code>F15</code> keys and the Brightness keys can send special key codes</li>
</ul></li>
<li>Add <em>&#34;Include Built-in Display&#34;</em> checkbox on the <a href="lunar://hotkeys">Hotkeys page</a>
<ul>
<li>Useful if you use a Hackintosh with an external monitor set as a built-in display</li>
</ul></li>
<li>Add <strong>Lock Curve</strong> button for disabling the auto-learning curve algorithm when needed</li>
<li>Add <strong>Reset</strong> buttons in the <a href="lunar://display/settings">gear icon menu</a></li>
<li>Allow setting <strong>minimum</strong> values for <strong>DDC Limits</strong></li>
<li>Add more useful controls in the <a href="lunar://display/settings">gear icon menu</a>
<ul>
<li><strong>DDC Color Gain</strong></li>
<li><strong>Resolutions</strong> (including hidden resolutions)</li>
<li><strong>Screen orientation</strong></li>
</ul></li>
</ul>

<p><img src="https://static.lunar.fyi/gear-menu-resolution-rotation.png" alt="gear icon menu new controls"/>
<img src="https://static.lunar.fyi/resolutions.png" alt="resolutions dropdown"/></p>

<ul>
<li>Replace the Adaptive button with a more useful <strong>input switch dropdown</strong> in the QuickActions menu</li>
</ul>

<p><img src="https://static.lunar.fyi/quick-input-rotation.png" alt="quick actions menu with input and screen orientation"/></p>

<h2 id="improvements">Improvements</h2>

<ul>
<li><strong>Respect custom color profiles when adjusting brightness using Gamma</strong></li>
<li>Handle non-english locales in text fields</li>
<li>Show error when CLI can&#39;t be installed and show a possible fix using chown and chmod</li>
<li>Allow fuzzy display name matching in CLI
<ul>
<li>Things like this should work now:
<ul>
<li>Switch input to HDMI for LG UltraFine: <code>lunar displays ultrafine input hdmi</code></li>
<li>Read contrast of Dell U3419W: <code>lunar displays dell34 contrast</code></li>
</ul></li>
</ul></li>
<li>Switch to rounding the curve value in the auto-learning algorithm for more precise mappings</li>
<li>Make transitions smoother on Apple displays</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash on Monterey beta 5 because of <code>Thread.private</code> not existing anymore</li>
<li>Handle cases where app exceptions can&#39;t be added because their bundle doesn&#39;t contain <code>CFBundleName</code></li>
<li>Pin <code>TSL2591</code> library to a known working version</li>
<li>Fix DDC limits not being applied correctly in Manual Mode</li>
<li>Fix data race crash when iterating some dictionaries</li>
<li>Allow brightness 0 in Sync Mode on iMacs</li>
</ul>
</div></article>


<article id="4.7.2"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Add SPI as lib dependency for sensor firmware to avoid compilation errors in the future</li>
<li>Improve Network Control monitor matching in multi-monitor cases</li>
<li>Quit older instances if a user launches Lunar while it is already running</li>
<li>Always show Network Control prompt on the main monitor</li>
<li>Check if new value is different from old value when listening for settings changes to avoid duplicating events</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Don&#39;t check for updates on launch to avoid annoying people who don&#39;t like updates as much as I do</li>
<li>Fix typo which caused the monitor serial to be wrongly compared to the product ID when matching monitors</li>
<li>Allow CLI to set properties that don&#39;t need an available control</li>
</ul>
</div></article>


<article id="4.7.1"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Remove the need for a yellow dot in Gamma and Network control</li>
<li>Add <strong>Show virtual displays</strong> checkbox in <a href="lunar://advanced">Advanced settings</a>
<ul>
<li>Turns out DisplayLink monitors show up as virtual and you need this checked if you want Lunar to see the monitor</li>
</ul></li>
<li>Fix Gamma <strong>(Software Controls)</strong> curve calculation being skewed in the 0% to 10% range
<ul>
<li>The zero point (no gamma changes) is now when BRIGHTNESS=100 and CONTRAST=75</li>
<li>Lightness change between brightness values should be more consistent with the human eye response to light</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Don&#39;t check for updates on launch if <strong>Check for updates automatically</strong> is disabled in <a href="lunar://advanced">Advanced settings</a></li>
<li>Fix some unexpected crashes</li>
<li>Fix license being disabled erroneously on network problems</li>
</ul>
</div></article>


<article id="4.7.0"><div>


<ul>
<li>Add support for ESP8266 sensor boards</li>
<li>Implement auto-gain and adaptive integration time for light sensors</li>
</ul>



<ul>
<li>Make firmware installer window appear faster by looking for serial devices in the background</li>
<li>Highlight <strong>Advanced</strong> settings button</li>
<li>Add URL for opening the gear icon menu directly: <a href="lunar://display/settings">lunar://display/settings</a></li>
</ul>



<ul>
<li>Fix support for Adafruit Metro ESP32 S2</li>
<li>Fix some unexpected crashes</li>
<li>Keep Lunar Pro active when license fails verification with Paddle for the first few times</li>
</ul>
</div></article>


<article id="4.6.5"><div>
<h2 id="features">Features</h2>

<ul>
<li><code>lunar://</code> URLs for easy access to specific parts of the UI
<ul>
<li>Settings page: <code>lunar://settings</code></li>
<li>Advanced Settings page: <code>lunar://advanced</code></li>
<li>Hotkey page: <code>lunar://hotkeys</code></li>
<li>Display page: <code>lunar://displays</code></li>
<li>Specific display page: <code>lunar://displays/:number</code> (e.g. <code>lunar://displays/3</code> for third display)</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix Auto-learning for Location mode when the sun is below the horizon (negative degrees)</li>
<li>Fix silent automatic updates</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Make the main window interaction smoother by removing unnecessary chart rendering</li>
<li>Make the paid updates message clearer when the free updates period expires</li>
</ul>
</div></article>


<article id="4.6.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix <a href="https://lunar.fyi/#curve">Auto-learning Curve</a> for <strong>Location</strong> and <strong>Sensor</strong> mode</li>
<li>Move some UI operations on the main thread to keep the window visually consistent</li>
<li>Check for possible clamshell mode while Sync Mode is adapting to avoid setting brightness to 0 before the <code>IsLidClosed</code> flag has been set</li>
</ul>
</div></article>


<article id="4.6.2"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>Tutorial completed for DIY Wireless Ambient Light Sensor:</strong> <a href="https://lunar.fyi/sensor">https://lunar.fyi/sensor</a></li>
<li>Add option to apply volume 0 on pressing mute in <strong>Advanced</strong> settings
<ul>
<li>Some monitors don&#39;t accept the mute DDC control so this could be useful</li>
</ul></li>
<li>Curve factors separated by display and mode
<ul>
<li>The curve factors are now found in the gear icon menu and are stored on a per-monitor and per-mode basis</li>
<li>If you set some curve factors while Lunar is in Sync Mode and then change to Location Mode for example, there will be different curve factor values</li>
</ul></li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Re-apply brightness and contrast when the display control changes</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Correctly turn on/off the refresh values thread when checking/unchecking &#34;Refresh values from monitor settings&#34;</li>
<li>Turn on Sync Mode correctly on Lunar launch</li>
</ul>
</div></article>


<article id="4.6.1"><div>
<h2 id="features">Features</h2>

<ul>
<li>Support for DIY Wireless Ambient Light Sensor
<ul>
<li>Tutorial on how to create your own sensor is almost done</li>
<li>Please check this page periodically for updates: <a href="https://lunar.fyi/sensor">https://lunar.fyi/sensor</a></li>
</ul></li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Update Paddle framework which fixes the creation of the file <code>default.profraw</code> on every run of the CLI</li>
<li>Show current version under the Lunar logo in the main window</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crashes because of thread unsafe hotkeys cache</li>
<li>Fix crash because of accessing a nil variable</li>
<li>Fix brightness being set to max after sleep</li>
<li>Fix hotkey not being unregistered when clearing it using the <code>x</code> button</li>
</ul>
</div></article>


<article id="4.5.5"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Allow up to 3 input hotkeys per monitor</li>
<li>Improve AVService detection to allow even more monitors to be controlled through DDC on M1 Macs</li>
<li>Add configurable DDC Sleep Factor in Advanced Settings</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crashes because of thread unsafe settings cache</li>
<li>Remove scrolling from Quick Actions popover to fix all the disappearing issues</li>
<li>Fix name being set to &#34;Unknown&#34; in some cases</li>
<li>Fix &#34;License Verification failed after 5 days&#34; appearing incorrectly</li>
<li>Fix input hotkeys not working anymore after a while</li>
<li>Fix input dropdown not being updated with latest selected input by hotkey</li>
</ul>
</div></article>


<article id="4.5.3"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Disable Gamma by default in Hardware/Native/Network controls</li>
<li>Add checkbox to enable Gamma in non-Software controls</li>
<li>Improve Mac Mini HDMI port detection to allow USB-C-to-HDMI adapters to work with DDC on the USB-C port</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix Boolean value handling in the CLI integration</li>
<li>Fix Quick Actions popover contents disappearing on some occasions</li>
</ul>
</div></article>


<article id="4.5.1"><div>
<h2 id="features">Features</h2>

<ul>
<li><strong>DDC support for M1 Macs</strong> (beta)
<ul>
<li>Only possible because of the great advice and example code from <a href="https://github.com/zhuowei">Zhuowei Zhang</a> and the amazing work of <a href="https://github.com/dguerri">Davide Guerri</a> and <a href="https://github.com/tao-j">Tao J</a></li>
<li><strong>Mac Mini HDMI still not working</strong>: <a href="https://github.com/alin23/Lunar/issues/125">Mac Mini Github issue</a></li>
</ul></li>
<li>Add a way to set default gamma values when using Hardware/Native/Network controls</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add &#34;Hide yellow dot&#34; checkbox in Advanced settings</li>
<li>Reset DDC write/read faults when a successful read is detected to avoid the incorrect marking of monitors as <em>Non-reponsive DDC</em></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix license not being activated without an app restart</li>
<li>Fix Location Mode not fetching correct sunrise/sunset/noon when close to midnight</li>
<li>Don&#39;t reset ColorSync settings and hopefully respect calibration profiles in Gamma mode</li>
<li>Fix brightness flickering caused by Gamma controls kicking in faster than DDC/CoreDisplay/Network by adding a 5 second delay to the Gamma setter after:
<ul>
<li>App launch</li>
<li>System startup</li>
<li>Login</li>
<li>Wake from standby</li>
<li>Display connection/reconnection</li>
</ul></li>
</ul>
</div></article>


<article id="4.3.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Allow negative offsets for app exceptions</li>
<li>Add separate curve factors for brightness and contrast</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add a way to change the automatic check for updates interval in Advanced settings</li>
<li>Isolate reset actions into a dropdown</li>
<li>App exceptions logic rewrite
<ul>
<li>Now the offsets are only applied if the app has any visible window on an external monitor (in the past the offsets were applied on app launch/quit)</li>
<li>The offsets are also only applied to the monitor where the app is visible</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Always reset adjustment limit within 24 hours</li>
<li>Fix diagnostics message saying the monitor supports DDC when in fact it didn&#39;t support it</li>
</ul>
</div></article>


<article id="4.2.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Shake window when trying to input an invalid field value</li>
<li>Revert all changes to a field when pressing escape</li>
<li>Pressing tab inside a field will commit the value</li>
<li>Show Lunar window on the screen where the cursor is</li>
<li>Hide yellow dot on operation end</li>
</ul>
</div></article>


<article id="4.2.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Make sure brightness/contrast is not changed automatically when it is marked as locked</li>
<li>Make gamma operation highlighter async to avoid blocking the UI on rare occasions</li>
</ul>
</div></article>


<article id="4.2.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix flicker because of switching to/from fullscreen apps</li>
<li>Fix app not responding on startup because of blocking the main thread too early in the startup process</li>
</ul>
</div></article>


<article id="4.2.0"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix curve factor going to <code>0.00</code> on some systems</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Improve DDC framebuffer detection logic by using the private <code>CGSServiceForDisplayNumber</code> API</li>
<li>Add a way to enable verbose logging in Advanced settings</li>
<li>Set DDC back to responsive if any read/write succeeds</li>
</ul>
</div></article>


<article id="4.1.4"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix changing modes would not stop/start the Sync/Location/Sensor listeners</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Show why Sync/Location/Sensor modes are disabled when Lunar Pro is not active</li>
<li>Add <strong>Join the community</strong> menu item</li>
</ul>
</div></article>


<article id="4.1.3"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Use DisplayServices to read builtin brightness and fix the HDR issue</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Show correct builtin brightness in Lunar menu</li>
</ul>
</div></article>


<article id="4.1.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix built-in display detection logic</li>
<li>Fix media key handler</li>
</ul>
</div></article>


<article id="4.1.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash because of launch at login empty list</li>
</ul>
</div></article>


<article id="4.1.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Make it possible to set Pro Display XDR and LG UltraFine monitors as source for Sync Mode</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Show tooltips with the reason why a specific Mode is disabled when hovering on it</li>
<li>Allow controlling monitor with the cursor on it when <strong>Send Keys To All Monitors</strong> is unchecked</li>
<li>Add useful reset buttons in the gear icon menu
<ul>
<li><strong>Reset Network Control</strong> for when the network controls aren&#39;t activated automatically because the system mDNS browser is stuck</li>
<li><strong>Reset DDC</strong> for when DDC is deemed unresponsive because the system has reported the monitor as active when it was in fact inactive</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crashes because of gamma locking</li>
<li>More UI accesses moved to Main Thread</li>
<li>Fix display name edit not saving</li>
<li>Fix network controller reset on wake and display reconnect</li>
<li>Fix QuickActions floating window disappearing too quickly</li>
</ul>
</div></article>


<article id="4.0.5"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Add native support for old <strong>Apple Cinema</strong> and <strong>Cinema HD</strong> displays</li>
<li>Add <em>Show Dock Icon</em> option under Advanced settings</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Ensure window is shown when launching Lunar while menubar icon is hidden</li>
<li>Fix crash on NetServiceBrowser reset</li>
<li>Fix crash because of settings observer being deallocated too soon</li>
</ul>
</div></article>


<article id="4.0.4"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Stop showing <strong>Your period of free updates has expired</strong> when the period of updates is still valid</li>
</ul>
</div></article>


<article id="4.0.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>It seems Lunar needs macOS 10.15 or higher (even though Xcode compiles it just fine for 10.13) so I made that the minimum requirement</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Added <em>Advanced</em> setting for disabling brightness re-apply on screen wake</li>
<li>Show Lunar window before showing Paddle licensing UI</li>
</ul>
</div></article>


<article id="4.0.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix valid updates checking logic</li>
<li>Show window when menu bar icon is hidden and app is launched while already running</li>
<li>Fix data race when ddcutil service is found on the network</li>
<li>Fix setting brightness for Apple vendored displays</li>
<li>Delay reset for mDNS browser when coming out of standby to avoid a recent CoreFoundation bug: <a href="https://developer.apple.com/forums/thread/663772">CFRunLoopSource type mismatch, found CFSocket</a></li>
<li>Check for Catalina or higher before trying to get display info dictionary</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Added Sync Mode test inside diagnostics</li>
</ul>
</div></article>


<article id="4.0.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Show window when menu bar icon is hidden and app is launched while already running</li>
<li>Fix data race when ddcutil service is found on the network</li>
<li>Fix setting brightness for Apple vendored displays</li>
<li>Delay reset for mDNS browser when coming out of standby to avoid a recent CoreFoundation bug: <a href="https://developer.apple.com/forums/thread/663772">CFRunLoopSource type mismatch, found CFSocket</a></li>
<li>Check for Catalina or higher before trying to get display info dictionary</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Added Sync Mode test inside diagnostics</li>
</ul>
</div></article>


<article id="4.0.0"></article>


<article id="3.2.3"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Show built-in brightness in menu</li>
<li>Update hotkey libraries</li>
<li>Use Swift Package Manager for most of the frameworks</li>
<li>Use LaunchAtLogin framework to fix start at login</li>
</ul>
</div></article>


<article id="3.2.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix tooltip not closing when clicking on the display page</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Detect scrolling direction so that scrolling up always increases value</li>
</ul>
</div></article>


<article id="3.2.1"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Make display name editable</li>
</ul>
</div></article>


<article id="3.2.0"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix monitor volume restore</li>
<li>Fix crashes because of using deallocated self</li>
</ul>
</div></article>


<article id="3.1.5"><div>
<h2 id="features">Features</h2>

<ul>
<li>Implement built-in brightness clipping limits for monitors with lower range of brightness/contrast</li>
<li>Add a menu item to allow disabling volume key listener</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix Location Permissions prompt not showing up on macOS Catalina</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add a bit more analytics data and route the requests through my own server</li>
<li>Upload diagnostics to my own server instead of transfer.sh</li>
<li>Reduce memory usage by manually deallocating unused views</li>
</ul>
</div></article>


<article id="3.1.4"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Hide buttons and labels properly when no display is connected</li>
<li>Fix a ton of memory leaks</li>
<li>Fix volume keys not being able to be disabled</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Show Lunar version in the menu</li>
<li>Hide rarely used menu items under an <strong>Advanced</strong> submenu item</li>
</ul>
</div></article>


<article id="3.1.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix Sync mode thread not running on some occasions</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Disable Adaptive button in Manual mode</li>
</ul>
</div></article>


<article id="3.1.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix crash when there are displays with same UUID</li>
<li>Fix crash on MediaKeyTap deinit</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add a way to extend brightness range up to 255 for monitors that support this</li>
</ul>
</div></article>


<article id="3.1.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix some memory corruption bugs by improving concurrency</li>
<li>Properly hide/show the <code>Non-responsive DDC</code> message</li>
<li>Fix diagnostics encryption key missing</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add <em>reset on click</em> action to the <code>Non-responsive DDC</code> message</li>
</ul>
</div></article>


<article id="3.1.0"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Make active screen detection more reliable</li>
<li>Only allow one thread at a time to use DDC to avoid race conditions</li>
<li>Disable up/down value change hotkeys when Quick Actions disappear</li>
<li>Embed all used Swift libraries to avoid crashes on some systems</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Increase brightness/contrast/volume hotkey step to 6</li>
<li>Allow fine-adjustment hotkeys:
<ul>
<li>Use Option + hotkey for hotkeys assigned from the Lunar hotkey page</li>
<li>Use Option + Shift + hotkey for media keys</li>
</ul></li>
<li>Open System Preferences for displays/sound when pressing Option + media key</li>
</ul>
</div></article>


<article id="3.0.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add support for changing monitor volume and mute state</li>
<li>Show native OSD when changing monitor brightness, contrast and volume</li>
<li>Implement listeners for media keys
<ul>
<li>Lunar will ask for accessibility permissions to enable this functionality</li>
<li>Instructions:
<ul>
<li>Press keyboard brightness keys while the cursor is on an external monitor to change the brightness on that monitor</li>
<li>Press Control + keyboard brightness keys to adjust contrast</li>
<li>Press keyboard volume/mute keys while the audio output is set to the monitor audio device to adjust volume/mute</li>
<li>In multi-monitor setups, Lunar can&#39;t detect which monitor audio device is selected so it will change the volume of the display that the cursor is on</li>
</ul></li>
</ul></li>
<li>Many thanks to Hongfeng Xu (@Mic238) for helping me with extensive testing on these features!</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Detect non-responsive monitors and show that in the Quick Actions popover</li>
<li>Automatic detection of GPU for adaptive DDC reply delay
<ul>
<li>This should minimize kernel panics and system freezes when reading values from the monitor</li>
</ul></li>
<li>Add special brightness implementation for <strong>LED Cinema</strong> monitors</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fixed a typo that was preventing smooth transition to be disabled for contrast</li>
</ul>
</div></article>


<article id="2.9.9"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Minimize non-null assertions</li>
<li>Fix Day Length calculation in Location mode</li>
<li>Fix &#34;end scrolling&#34; detection</li>
</ul>
</div></article>


<article id="2.9.8"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add option to remove disconnected displays from the Quick Actions popover</li>
<li>Better detection of builtin displays</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix a memory corruption bug</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Improve detection of slow DDC implementations</li>
</ul>
</div></article>


<article id="2.9.7"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add special support for Apple Thunderbolt Display</li>
<li>Add option to manually enable brightness monitoring (only for the brave)</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Filter out built-in and testing displays from saved data</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Make an attempt to detect slow DDC implementations and skip reading in those cases</li>
</ul>
</div></article>


<article id="2.9.6"><div>
<h2 id="features">Features</h2>

<ul>
<li>Show both connected and disconnected displays in Quick Actions</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix all kinds of crashes</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Move display and app exceptions from Core Data to User Defaults to avoid concurrency bugs</li>
</ul>
</div></article>


<article id="2.9.5"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add option to disable Quick Actions popover</li>
</ul>
</div></article>


<article id="2.9.4"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix lid closed detection on iMacs and Mac Minis</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add more crash data to allow me to better diagnose issues remotely</li>
<li>Make transitions smooth by default on UltraFine displays</li>
<li>Read brightness periodically by default on UltraFine displays</li>
</ul>
</div></article>


<article id="2.9.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix system freeze caused by trying to read monitor brightness using DDC</li>
<li>Fix Manual mode values not respecting limits</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Show Quick Actions when changing brightness/contrast using hotkeys</li>
</ul>
</div></article>


<article id="${"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Clamshell mode detection toggle in menu</li>
</ul>
</div></article>


<article id="2.9.1"><div>
<h2 id="features">Features</h2>

<ul>
<li>Quick Actions popover when hovering over the menu item</li>
<li>Add support for LG UltraFine displays</li>
<li>Implement Clamshell Mode</li>
<li>Keep Lunar in sync by reading the monitor&#39;s brightness and contrast periodically</li>
<li>Remove all third party analytics and add a single request for counting unique users anonymously
<ul>
<li>This request sends a SHA256 hash of your device serial number to my server through a pubsub service</li>
<li>The serial number is impossible to deduce from the hash and the request is untraceable back to your device</li>
</ul></li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix left and right hotkeys not being registered sometimes</li>
<li>Patch Magnet to disable Input Monitoring request</li>
<li>Fix preferences saving permission</li>
<li>Fix dictionary access race condition in DDC code</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Replace Fabric with Sentry for crash reporting because Fabric was acquired by Google</li>
<li>Remove HotKey library and rely only on the Magnet framework</li>
<li>Add sane defaults for brightness/contrast limits and offsets</li>
<li>Improve speed and responsiveness by using concurrent tasks where possible</li>
</ul>
</div></article>


<article id="2.9.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Lunar is now notarized and signed with a certificate bought from your donations! Thanks everyone!</li>
<li>Added a polling interval in the Sync mode to adjust how fast Lunar syncs the built-in display brightness</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix <code>Start at Login</code> functionality</li>
<li>The available settings now change instantly when you change the mode</li>
<li>Settings should save properly now</li>
<li>Fix a few crashes in the C code for DDC (still a few to go, but new job, less time..)</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Change help popovers font to something more legible</li>
<li>Make help links clickable (somewhat)</li>
</ul>
</div></article>


<article id="2.8.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix data store merge policy</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add help buttons with popovers for explaining settings and modes</li>
</ul>
</div></article>


<article id="2.8.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix memory management of EDID data</li>
</ul>
</div></article>


<article id="2.8.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix another case where UUID can&#39;t be allocated</li>
<li>Fix display name detection</li>
<li>Allow new monitor data to overwrite cached db rows</li>
</ul>
</div></article>


<article id="2.8.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Make the UI larger to allow for more info and settings</li>
<li>Add more annotations on the brightness chart</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix cases where the UUID can&#39;t be allocated</li>
</ul>
</div></article>


<article id="2.6.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add customizable location coordinates</li>
<li>Move updates to new domain: <a href="https://lunar.fyi">lunar.fyi</a></li>
</ul>
</div></article>


<article id="2.5.0"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Revert DDC to C implementation with added multi-monitor support</li>
<li>Fix 2.4.0 regression where only some types of connectors worked</li>
</ul>
</div></article>


<article id="2.4.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add diagnostic tools
<ul>
<li>You can now open Lunar menu and click on <em>Open Lunar diagnostics</em> to send me Lunar logs</li>
</ul></li>
<li>Complete multi-monitor support</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Use system generated UUID to store settings per display</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Convert to DDC handling code to Swift</li>
<li>Store min/max settings as soon as they are changed</li>
</ul>
</div></article>


<article id="2.3.3"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Use all EDID data to encode monitor IDs
<ul>
<li>this should allow Lunar to support multiple monitors of the same kind</li>
</ul></li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Convert to Swift 5</li>
</ul>
</div></article>


<article id="2.3.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Don&#39;t send DDC/CI request for locked value</li>
</ul>
</div></article>


<article id="2.3.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Check chart entries bounds before updating</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Move to edDSA key for signing updates</li>
</ul>
</div></article>


<article id="2.3.0"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Use brightness/contrast offsets only in Sync mode</li>
</ul>

<h2 id="features">Features</h2>

<ul>
<li>Smooth Transition option <strong><small>[Thanks to Tim Traversy! <a href="https://github.com/timtraversy">@timtraversy</a> <a href="https://github.com/alin23/Lunar/pull/14">PR #14</a>]</small></strong>
<ul>
<li>This makes the brightness/contrast change smoothly from a value to another, instead of jumping directly to that value</li>
<li>Check settings page to enable the option</li>
<li>I left it off by default because some monitors have a slow response time and smooth transitions end up not being so smooth</li>
</ul></li>
<li>Configurable interpolation factor for Location mode</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Improve charts speed and efficiency with SIMD</li>
<li>Smoother chart curves</li>
</ul>
</div></article>


<article id="2.2.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Don&#39;t cap brightness/contrast on manual mode</li>
</ul>
</div></article>


<article id="2.2.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Make the display page white when swiping back from settings</li>
<li>Reflect hotkey changes on the menu items</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Add button for going to hotkeys page</li>
</ul>
</div></article>


<article id="2.2.0"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Make sure user can always swipe to settings page</li>
</ul>

<h2 id="features">Features</h2>

<ul>
<li>Add page for configuring hotkeys</li>
<li>Add menu item for toggling &#34;Start at Login&#34;</li>
</ul>
</div></article>


<article id="2.1.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Remove SwiftyBeaver dependency from LunarService</li>
</ul>
</div></article>


<article id="2.1.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Add hotkeys for increasing/decreasing brightness/contrast <strong><small>[Thanks Hua Duong Tran! <a href="https://github.com/duongel">@duongel</a> <a href="https://github.com/alin23/Lunar/pull/2">PR #2</a>]</small></strong></li>
<li>Add individual Lock Buttons for brightness and contrast</li>
</ul>

<h2 id="improvements">Improvements</h2>

<ul>
<li>Offsets now work in Location mode too</li>
<li>Manually adjusting brightness doesn&#39;t force Manual mode anymore</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>The Adaptive toggle below each monitor now works properly</li>
<li>App Exceptions were not always working, fixed those cases</li>
</ul>
</div></article>


<article id="2.0.3"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Set offset limits to [-100, 90]</li>
<li>Adjust offsetting formula to get more symmetrical values</li>
</ul>
</div></article>


<article id="2.0.2"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix a few crashes caused by backing layers and subviews not being available on load</li>
</ul>
</div></article>


<article id="2.0.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Try not to insert nils in the database</li>
</ul>
</div></article>


<article id="2.0.0"><div>
<h2 id="features">Features</h2>

<ul>
<li>Sync mode</li>
<li>The external monitor&#39;s brightness/contrast will be kept in sync with the brightness/contrast of the built-in display</li>
<li>The external monitor&#39;s brightness/contrast will still be kept within the configured per-monitor limits</li>
<li>There are new configurable offsets on the settings page to make the synchronization perfect</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Disable adaptive brightness when no monitor is connected to get to zero energy impact</li>
<li>Fix interpolation formula</li>
<li>Disable configurable values when Manual mode is on</li>
</ul>
</div></article>


<article id="1.1.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Make sure Adaptive activity isn&#39;t scheduled more than once so that percent hotkeys work as expected</li>
<li>Fix an error that prevented the settings to persist in the database</li>
</ul>
</div></article>


<article id="1.1.0"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix stupid mistake that caused the app to crash for all users</li>
</ul>
</div></article>


<article id="1.0.7"><div>
<h2 id="dev">Dev</h2>

<ul>
<li>Add temporary remote logging to help fix some annoying crashes</li>
</ul>
</div></article>


<article id="1.0.6"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Cap interpolated values between 0 - 100</li>
<li>Fallback to generated display names as it is impossible to extract the real name</li>
</ul>

<h2 id="dev">Dev</h2>

<ul>
<li>Add more logging</li>
</ul>
</div></article>


<article id="1.0.5"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix a crash when monitor serials aren&#39;t unique</li>
</ul>

<h2 id="dev">Dev</h2>

<ul>
<li>Add more context to help debugging errors</li>
</ul>
</div></article>


<article id="1.0.4"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fix compatibility with macOS 10.11</li>
</ul>
</div></article>


<article id="1.0.3"><div>
<h2 id="additions">Additions</h2>

<ul>
<li>Donation link</li>
</ul>

<h2 id="fixes">Fixes</h2>

<ul>
<li>Try to get rid of crashes when readapting to max brightness change</li>
</ul>
</div></article>


<article id="1.0.2"><div>
<h2 id="improvements">Improvements</h2>

<ul>
<li>Use sunrise/sunset instead of civilSunrise/civilSunset</li>
</ul>
</div></article>


<article id="1.0.1"><div>
<h2 id="fixes">Fixes</h2>

<ul>
<li>Fixed crash on missing time for sunrise</li>
<li>Better check cases where Add App button layer isn&#39;t initialized</li>
<li>Make sure brightness/contrast changes contain both old and new values</li>
</ul>
</div></article>
</section></div></div>
  </body>
</html>
