<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://benbridle.com/projects/torque.html">Original</a>
    <h1>Show HN: Torque â€“ A lightweight meta-assembler for any processor</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>Torque is a lightweight meta-assembler that provides the tools necessary to write programs for any processor architecture.</p>
<figure><a href="https://benbridle.com/images/torque-screenshot.png"><img src="https://benbridle.com/images/torque-screenshot.png" alt="" title=""/></a></figure>
<p>For a quick overview of the language, either read the <a href="https://benbridle.com/projects/torque/manual-v2.1.0.html#language-overview" class="page">language overview</a> section of the manual, see <a href="https://benbridle.com/articles/torque-programming-the-pic10f200.html#bringing-it-all-together" class="page">this example</a> of a completed program, or skim one of the following hands-on tutorials:</p>
<ul>
<li><a href="https://benbridle.com/articles/torque-programming-the-pic10f200.html" class="page">Torque: Programming the PIC10F200</a></li>
<li><a href="https://benbridle.com/articles/torque-programming-the-trs-80.html" class="page">Torque: Programming the TRS-80</a></li>
</ul>
<p>For a demonstration of how to write high-level optimising macros in Torque, see:</p>
<ul>
<li><a href="https://benbridle.com/articles/torque-advanced-loops-on-the-z80.html" class="page">Torque: Advanced loops on the Z80</a></li>
</ul>
<h2 id="background">Background</h2>
<p>Existing assemblers for embedded processors suffer from a number of issues. Assemblers tend to be poorly documented, provide languages that are clunky and verbose, be bloated and difficult to operate, and work only on one operating system. Development of C compilers is often a higher priority than the development of good assemblers.</p>
<p>Instead of learning a new assembler for every embedded processor, it would be preferrable to instead use a single general-purpose assembler for every project. Torque was created to fill this niche.</p>
<h2 id="design">Design</h2>
<p>Torque is designed around the idea that any assembly language can be emulated with just integers, bit sequences, labels, and sufficiently powerful macros. With Torque, the instruction encoding for a target processor can be defined as a set of macros in the program itself, using templates to specify how values are packed into ranges of bits. A program can be written for any processor using only Torque and the datasheet for that processor.</p>
<h2 id="installation">Installation</h2>
<p>Source code for the torque assembler can be downloaded from <a href="https://code.benbridle.com/torque-asm">code.benbridle.com/torque-asm</a>.</p>
<p>The latest release is available at <a href="https://benbridle.com/releases/tq-2.1.0">tq-2.1.0</a> as a pre-compiled Linux executable.</p>
<h3 id="build-from-source">Build from source</h3>
<p>To build the Torque assembler from source, first install the Rust compiler from <a href="https://www.rust-lang.org/tools/install">www.rust-lang.org/tools/install</a>, then install the nightly toolchain with <code>rustup toolchain install nightly</code>, and then run <code>cargo +nightly build --release</code> inside the <b>torque-asm</b> source code directory.</p>
<p>The compiled binary will be created at <code>./target/release/tq</code>.</p>
<h2 id="usage">Usage</h2>
<p>The following command will assemble the Torque source file <code>source</code> and save the assembled output to the file <code>destination</code> in the chosen format.</p>
<pre>tq [source] [destination] --format=&lt;format&gt;
</pre>
<h2 id="documentation">Documentation</h2>
<ul>
<li><a href="https://benbridle.com/projects/torque/manual-v2.1.0.html" class="page">Manual v2.1.0</a></li>
</ul>
<h2 id="development">Development</h2>
<ul>
<li><a href="https://benbridle.com/projects/torque/changelog.html" class="page">Changelog</a></li>
<li><a href="https://benbridle.com/projects/torque/roadmap.html" class="page">Roadmap</a></li>
</ul>
</div></div>
  </body>
</html>
