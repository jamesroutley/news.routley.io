<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/trvon/yams">Original</a>
    <h1>Show HN: Yet another memory system for LLMs</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a href="https://github.com/trvon/yams/actions/workflows/release.yml"><img src="https://github.com/trvon/yams/actions/workflows/release.yml/badge.svg" alt="Release"/></a> <a href="https://github.com/trvon/yams/actions/workflows/ci.yml"><img src="https://github.com/trvon/yams/actions/workflows/ci.yml/badge.svg" alt="CI"/></a></p>

<p dir="auto">Persistent memory for LLMs and applications. Content-addressed storage with deduplication, semantic search, and full-text indexing.</p>
<p dir="auto">My prompt for CLI usage is <a href="https://irvin.quest/trvon/yams/blob/main/docs/PROMPT.md">PROMPT.md</a> and <a href="https://irvin.quest/trvon/yams/blob/main/docs/PROMPT-eng.md">PROMPT-eng.md</a> for programming.</p>

<ul dir="auto">
<li><strong>Content-Addressed Storage</strong> - SHA-256 based, ensures data integrity</li>
<li><strong>Deduplication</strong> - Block-level with Rabin fingerprinting</li>
<li><strong>Compression</strong> - Zstandard and LZMA with intelligent policies</li>
<li><strong>Search</strong> - Full-text (SQLite FTS5) and semantic (vector embeddings)</li>
<li><strong>Crash Recovery</strong> - Write-ahead logging for durability</li>
<li><strong>High Performance</strong> - 100MB/s+ throughput, thread-safe</li>
</ul>

<p dir="auto">YAMS provides comprehensive versioning through content-addressed storage. Every stored document gets a unique SHA-256 hash that serves as an immutable version identifier. You can track changes using metadata updates (<code>yams update</code>), organize versions with collections (<code>--collection release-v1.0</code>), and capture point-in-time states with snapshots (<code>--snapshot-id 2024Q4</code>).</p>

<p dir="auto"><strong>Supported platforms:</strong></p>
<ul dir="auto">
<li>Linux x86_64, ARM64</li>
<li>macOS x86_64 (Intel), ARM64 (Apple Silicon)</li>
</ul>

<p dir="auto"><strong>Docker:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="docker run --rm -it ghcr.io/trvon/yams:latest --version"><pre>docker run --rm -it ghcr.io/trvon/yams:latest --version</pre></div>
<p dir="auto"><strong>Homebrew (coming soon):</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="brew tap trvon/yams &amp;&amp; brew install yams"><pre>brew tap trvon/yams <span>&amp;&amp;</span> brew install yams</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Install Conan
pip install conan

# One-time: create default Conan profile
conan profile detect --force

# Build with Conan (recommended - this is what creates the release binaries)
conan install . --output-folder=build/conan-release -s build_type=Release --build=missing
cmake --preset conan-release
cmake --build --preset conan-release
sudo cmake --install build/conan-release/build/Release"><pre><span><span>#</span> Install Conan</span>
pip install conan

<span><span>#</span> One-time: create default Conan profile</span>
conan profile detect --force

<span><span>#</span> Build with Conan (recommended - this is what creates the release binaries)</span>
conan install <span>.</span> --output-folder=build/conan-release -s build_type=Release --build=missing
cmake --preset conan-release
cmake --build --preset conan-release
sudo cmake --install build/conan-release/build/Release</pre></div>
<p dir="auto"><strong>Requirements:</strong></p>
<ul dir="auto">
<li>C++20 compiler (GCC 11+, Clang 14+, AppleClang 14+)</li>
<li>CMake 3.20+</li>
<li>Python 3.8+ (for Conan)</li>
</ul>
<blockquote>
<p dir="auto"><strong>Known Issue:</strong> Traditional CMake builds (without Conan) currently have dependency resolution issues. Use Conan builds for reliable compilation.</p>
</blockquote>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>YAMS_USE_CONAN</code></td>
<td>OFF</td>
<td>Use Conan package manager</td>
</tr>
<tr>
<td><code>YAMS_BUILD_CLI</code></td>
<td>ON</td>
<td>CLI with TUI browser</td>
</tr>
<tr>
<td><code>YAMS_BUILD_MCP_SERVER</code></td>
<td>ON</td>
<td>MCP server (requires Boost)</td>
</tr>
<tr>
<td><code>YAMS_BUILD_TESTS</code></td>
<td>OFF</td>
<td>Unit and integration tests</td>
</tr>
<tr>
<td><code>YAMS_BUILD_BENCHMARKS</code></td>
<td>OFF</td>
<td>Performance benchmarks</td>
</tr>
<tr>
<td><code>YAMS_ENABLE_PDF</code></td>
<td>ON</td>
<td>PDF text extraction support</td>
</tr>
<tr>
<td><code>CMAKE_BUILD_TYPE</code></td>
<td>Release</td>
<td>Debug/Release/RelWithDebInfo</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<div dir="auto" data-snippet-clipboard-copy-content="# macOS
brew install openssl@3 protobuf sqlite3 ncurses
export OPENSSL_ROOT_DIR=$(brew --prefix openssl@3)

# Linux
apt install libssl-dev libsqlite3-dev protobuf-compiler libncurses-dev"><pre><span><span>#</span> macOS</span>
brew install openssl@3 protobuf sqlite3 ncurses
<span>export</span> OPENSSL_ROOT_DIR=<span><span>$(</span>brew --prefix openssl@3<span>)</span></span>

<span><span>#</span> Linux</span>
apt install libssl-dev libsqlite3-dev protobuf-compiler libncurses-dev</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Initialize with XDG defaults (non-interactive)
yams init --non-interactive

# Optional: custom storage root
export YAMS_STORAGE=&#34;$HOME/.local/share/yams&#34;
yams init --non-interactive

# Print resulting config (secrets masked)
yams init --non-interactive --print"><pre><span><span>#</span> Initialize with XDG defaults (non-interactive)</span>
yams init --non-interactive

<span><span>#</span> Optional: custom storage root</span>
<span>export</span> YAMS_STORAGE=<span><span>&#34;</span><span>$HOME</span>/.local/share/yams<span>&#34;</span></span>
yams init --non-interactive

<span><span>#</span> Print resulting config (secrets masked)</span>
yams init --non-interactive --print</pre></div>

<p dir="auto">If you see:</p>
<div data-snippet-clipboard-copy-content="ERROR: The default build profile &#39;/home/trevon/.conan2/profiles/default&#39; doesn&#39;t exist.
You need to create a default profile (type &#39;conan profile detect&#39; command)
or specify your own profile with &#39;--profile:build=&lt;myprofile&gt;&#39;"><pre lang="text"><code>ERROR: The default build profile &#39;/home/trevon/.conan2/profiles/default&#39; doesn&#39;t exist.
You need to create a default profile (type &#39;conan profile detect&#39; command)
or specify your own profile with &#39;--profile:build=&lt;myprofile&gt;&#39;
</code></pre></div>
<p dir="auto">Fix:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Create default profile
conan profile detect --force

# Optional: ensure C++20 in the default profile
# Linux/macOS (GNU sed):
sed -i &#39;s/compiler.cppstd=.*/compiler.cppstd=20/&#39; ~/.conan2/profiles/default || true
# macOS (BSD sed):
# sed -i &#39;&#39; &#39;s/compiler.cppstd=.*/compiler.cppstd=20/&#39; ~/.conan2/profiles/default || true"><pre><span><span>#</span> Create default profile</span>
conan profile detect --force

<span><span>#</span> Optional: ensure C++20 in the default profile</span>
<span><span>#</span> Linux/macOS (GNU sed):</span>
sed -i <span><span>&#39;</span>s/compiler.cppstd=.*/compiler.cppstd=20/<span>&#39;</span></span> <span>~</span>/.conan2/profiles/default <span>||</span> <span>true</span>
<span><span>#</span> macOS (BSD sed):</span>
<span><span>#</span> sed -i &#39;&#39; &#39;s/compiler.cppstd=.*/compiler.cppstd=20/&#39; ~/.conan2/profiles/default || true</span></pre></div>
<p dir="auto">Then re-run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="conan install . \
  --output-folder=build/conan-ninja-release \
  -s build_type=Release \
  --build=missing

cmake --preset conan-ninja-release
cmake --build build/conan-ninja-release -j"><pre>conan install <span>.</span> \
  --output-folder=build/conan-ninja-release \
  -s build_type=Release \
  --build=missing

cmake --preset conan-ninja-release
cmake --build build/conan-ninja-release -j</pre></div>

<p dir="auto">If PDF extraction fails or PDFium download fails:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Disable PDF support temporarily
cmake -B build -DYAMS_ENABLE_PDF=OFF

# Or explicitly specify a different PDFium version if needed
# (check https://github.com/bblanchon/pdfium-binaries/releases for available versions)"><pre><span><span>#</span> Disable PDF support temporarily</span>
cmake -B build -DYAMS_ENABLE_PDF=OFF

<span><span>#</span> Or explicitly specify a different PDFium version if needed</span>
<span><span>#</span> (check https://github.com/bblanchon/pdfium-binaries/releases for available versions)</span></pre></div>
<p dir="auto">If you see network errors during PDFium download:</p>
<ul dir="auto">
<li>Check internet connectivity</li>
<li>Corporate firewalls may block GitHub releases</li>
<li>Consider using a VPN or different network</li>
<li>PDFium binaries are ~20MB per platform</li>
</ul>

<p dir="auto">YAMS is designed to work seamlessly with Large Language Models through simple, pipeline-friendly commands:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Store conversation context with descriptive name
echo &#34;User asked about X, I explained Y&#34; | yams add - --name &#34;context-$(date +%Y%m%d).txt&#34;

# Store code snippets with tags
echo &#34;def function(): return 42&#34; | yams add - --name &#34;helper.py&#34; --tags &#34;python,utils&#34;

# Delete temporary files by pattern
yams delete --pattern &#34;temp_*.txt&#34; --force

# Delete multiple specific files
yams delete --names &#34;draft1.md,draft2.md,notes.txt&#34;

# Retrieve documents by name (coming soon)
# yams get --name &#34;meeting-notes.txt&#34;

# Search with fuzzy matching
yams search &#34;databse&#34; --fuzzy --similarity 0.8

# List with rich metadata
yams list --format table --limit 20

# Chain commands for batch operations
yams list --format minimal | tail -5 | while read hash; do
  yams get $hash
done

# Preview deletions before executing
yams delete --pattern &#34;*.log&#34; --dry-run"><pre><span><span>#</span> Store conversation context with descriptive name</span>
<span>echo</span> <span><span>&#34;</span>User asked about X, I explained Y<span>&#34;</span></span> <span>|</span> yams add - --name <span><span>&#34;</span>context-<span><span>$(</span>date +%Y%m%d<span>)</span></span>.txt<span>&#34;</span></span>

<span><span>#</span> Store code snippets with tags</span>
<span>echo</span> <span><span>&#34;</span>def function(): return 42<span>&#34;</span></span> <span>|</span> yams add - --name <span><span>&#34;</span>helper.py<span>&#34;</span></span> --tags <span><span>&#34;</span>python,utils<span>&#34;</span></span>

<span><span>#</span> Delete temporary files by pattern</span>
yams delete --pattern <span><span>&#34;</span>temp_*.txt<span>&#34;</span></span> --force

<span><span>#</span> Delete multiple specific files</span>
yams delete --names <span><span>&#34;</span>draft1.md,draft2.md,notes.txt<span>&#34;</span></span>

<span><span>#</span> Retrieve documents by name (coming soon)</span>
<span><span>#</span> yams get --name &#34;meeting-notes.txt&#34;</span>

<span><span>#</span> Search with fuzzy matching</span>
yams search <span><span>&#34;</span>databse<span>&#34;</span></span> --fuzzy --similarity 0.8

<span><span>#</span> List with rich metadata</span>
yams list --format table --limit 20

<span><span>#</span> Chain commands for batch operations</span>
yams list --format minimal <span>|</span> tail -5 <span>|</span> <span>while</span> <span>read</span> <span>hash</span><span>;</span> <span>do</span>
  yams get <span>$hash</span>
<span>done</span>

<span><span>#</span> Preview deletions before executing</span>
yams delete --pattern <span><span>&#34;</span>*.log<span>&#34;</span></span> --dry-run</pre></div>

<ol dir="auto">
<li>
<p dir="auto"><strong>Use stdin for content storage</strong>: Avoids file creation</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#34;content to store&#34; | yams add -"><pre><span>echo</span> <span><span>&#34;</span>content to store<span>&#34;</span></span> <span>|</span> yams add -</pre></div>
</li>
<li>
<p dir="auto"><strong>Use minimal format for piping</strong>: Clean output for processing</p>
<div dir="auto" data-snippet-clipboard-copy-content="yams list --format minimal | head -5"><pre>yams list --format minimal <span>|</span> head -5</pre></div>
</li>
<li>
<p dir="auto"><strong>Explicit data directory</strong>: Always specify storage location</p>
<div dir="auto" data-snippet-clipboard-copy-content="yams --data-dir /tmp/project-memory add -"><pre>yams --data-dir /tmp/project-memory add -</pre></div>
</li>
<li>
<p dir="auto"><strong>JSON for structured data</strong>: Parse responses easily</p>
<div dir="auto" data-snippet-clipboard-copy-content="yams stats --format json | jq &#39;.totalObjects&#39;"><pre>yams stats --format json <span>|</span> jq <span><span>&#39;</span>.totalObjects<span>&#39;</span></span></pre></div>
</li>
<li>
<p dir="auto"><strong>Direct stdout retrieval</strong>: No intermediate files</p>
<div dir="auto" data-snippet-clipboard-copy-content="yams get &lt;hash&gt; | process_somehow"><pre>yams get <span>&lt;</span>hash<span>&gt;</span> <span>|</span> process_somehow</pre></div>
</li>
</ol>


<p dir="auto">Start the MCP server over WebSocket:</p>
<div dir="auto" data-snippet-clipboard-copy-content="yams serve --transport websocket --host 127.0.0.1 --port 8080 --path /mcp"><pre>yams serve --transport websocket --host 127.0.0.1 --port 8080 --path /mcp</pre></div>
<p dir="auto">Use TLS (wss):</p>
<div dir="auto" data-snippet-clipboard-copy-content="yams serve --transport websocket --host your.domain --port 443 --path /mcp --ssl"><pre>yams serve --transport websocket --host your.domain --port 443 --path /mcp --ssl</pre></div>
<p dir="auto">StdIO transport (recommended for local integration and Claude Desktop):</p>
<div dir="auto" data-snippet-clipboard-copy-content="yams serve --transport stdio"><pre>yams serve --transport stdio</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Claude Desktop (MCP) Integration</h3><a id="user-content-claude-desktop-mcp-integration" aria-label="Permalink: Claude Desktop (MCP) Integration" href="#claude-desktop-mcp-integration"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Use stdio (recommended). Add this to your Claude Desktop config (e.g., ~/Library/Application Support/Claude/claude_desktop_config.json):</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;mcpServers&#34;: {
    &#34;yams&#34;: {
      &#34;command&#34;: &#34;/usr/local/bin/yams&#34;,
      &#34;args&#34;: [&#34;serve&#34;, &#34;--transport&#34;, &#34;stdio&#34;],
      &#34;env&#34;: {
        &#34;YAMS_STORAGE&#34;: &#34;$HOME/.local/share/yams&#34;
      }
    }
  }
}"><pre>{
  <span>&#34;mcpServers&#34;</span>: {
    <span>&#34;yams&#34;</span>: {
      <span>&#34;command&#34;</span>: <span><span>&#34;</span>/usr/local/bin/yams<span>&#34;</span></span>,
      <span>&#34;args&#34;</span>: [<span><span>&#34;</span>serve<span>&#34;</span></span>, <span><span>&#34;</span>--transport<span>&#34;</span></span>, <span><span>&#34;</span>stdio<span>&#34;</span></span>],
      <span>&#34;env&#34;</span>: {
        <span>&#34;YAMS_STORAGE&#34;</span>: <span><span>&#34;</span>$HOME/.local/share/yams<span>&#34;</span></span>
      }
    }
  }
}</pre></div>
<p dir="auto">Alternative (WebSocket) for clients that support ws:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;mcpServers&#34;: {
    &#34;yams-ws&#34;: {
      &#34;command&#34;: &#34;/usr/local/bin/yams&#34;,
      &#34;args&#34;: [&#34;serve&#34;, &#34;--transport&#34;, &#34;websocket&#34;, &#34;--host&#34;, &#34;127.0.0.1&#34;, &#34;--port&#34;, &#34;8080&#34;, &#34;--path&#34;, &#34;/mcp&#34;],
      &#34;env&#34;: {
        &#34;YAMS_STORAGE&#34;: &#34;$HOME/.local/share/yams&#34;
      }
    }
  }
}"><pre>{
  <span>&#34;mcpServers&#34;</span>: {
    <span>&#34;yams-ws&#34;</span>: {
      <span>&#34;command&#34;</span>: <span><span>&#34;</span>/usr/local/bin/yams<span>&#34;</span></span>,
      <span>&#34;args&#34;</span>: [<span><span>&#34;</span>serve<span>&#34;</span></span>, <span><span>&#34;</span>--transport<span>&#34;</span></span>, <span><span>&#34;</span>websocket<span>&#34;</span></span>, <span><span>&#34;</span>--host<span>&#34;</span></span>, <span><span>&#34;</span>127.0.0.1<span>&#34;</span></span>, <span><span>&#34;</span>--port<span>&#34;</span></span>, <span><span>&#34;</span>8080<span>&#34;</span></span>, <span><span>&#34;</span>--path<span>&#34;</span></span>, <span><span>&#34;</span>/mcp<span>&#34;</span></span>],
      <span>&#34;env&#34;</span>: {
        <span>&#34;YAMS_STORAGE&#34;</span>: <span><span>&#34;</span>$HOME/.local/share/yams<span>&#34;</span></span>
      }
    }
  }
}</pre></div>


<div dir="auto" data-snippet-clipboard-copy-content="# One-time setup with defaults
yams init --non-interactive --no-keygen

# Custom storage location
yams --data-dir /path/to/storage init --non-interactive"><pre><span><span>#</span> One-time setup with defaults</span>
yams init --non-interactive --no-keygen

<span><span>#</span> Custom storage location</span>
yams --data-dir /path/to/storage init --non-interactive</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Add a file
yams add file.txt

# Add from stdin
echo &#34;content&#34; | yams add -
cat file.txt | yams add -

# Add multiple files
find . -name &#34;*.txt&#34; -exec yams add {} \;"><pre><span><span>#</span> Add a file</span>
yams add file.txt

<span><span>#</span> Add from stdin</span>
<span>echo</span> <span><span>&#34;</span>content<span>&#34;</span></span> <span>|</span> yams add -
cat file.txt <span>|</span> yams add -

<span><span>#</span> Add multiple files</span>
find <span>.</span> -name <span><span>&#34;</span>*.txt<span>&#34;</span></span> -exec yams add {} <span>\;</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Table format (default)
yams list

# JSON output for programmatic use
yams list --format json

# Just hashes for piping
yams list --format minimal

# Sort and filter
yams list --sort size --reverse --limit 10
yams list --sort date"><pre><span><span>#</span> Table format (default)</span>
yams list

<span><span>#</span> JSON output for programmatic use</span>
yams list --format json

<span><span>#</span> Just hashes for piping</span>
yams list --format minimal

<span><span>#</span> Sort and filter</span>
yams list --sort size --reverse --limit 10
yams list --sort date</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Output to stdout
yams get &lt;hash&gt;

# Save to file
yams get &lt;hash&gt; -o output.txt

# Pipe to other commands
yams get &lt;hash&gt; | grep pattern
yams get &lt;hash&gt; | wc -l

# Get first document from list
yams list --format minimal --limit 1 | xargs yams get"><pre><span><span>#</span> Output to stdout</span>
yams get <span>&lt;</span>hash<span>&gt;</span>

<span><span>#</span> Save to file</span>
yams get <span>&lt;</span>hash<span>&gt;</span> -o output.txt

<span><span>#</span> Pipe to other commands</span>
yams get <span>&lt;</span>hash<span>&gt;</span> <span>|</span> grep pattern
yams get <span>&lt;</span>hash<span>&gt;</span> <span>|</span> wc -l

<span><span>#</span> Get first document from list</span>
yams list --format minimal --limit 1 <span>|</span> xargs yams get</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Launch ranger-style browser
yams browse

# Navigation:
#   j/k or ↑/↓     - Move up/down
#   h/l or ←/→     - Switch columns
#   g/G           - Jump to top/bottom
#   d then D      - Delete document
#   r             - Refresh
#   ?             - Help
#   q or Esc      - Quit"><pre><span><span>#</span> Launch ranger-style browser</span>
yams browse

<span><span>#</span> Navigation:</span>
<span><span>#</span>   j/k or ↑/↓     - Move up/down</span>
<span><span>#</span>   h/l or ←/→     - Switch columns</span>
<span><span>#</span>   g/G           - Jump to top/bottom</span>
<span><span>#</span>   d then D      - Delete document</span>
<span><span>#</span>   r             - Refresh</span>
<span><span>#</span>   ?             - Help</span>
<span><span>#</span>   q or Esc      - Quit</span></pre></div>

<p dir="auto">yams search &#34;query&#34; --limit 10
yams search &#34;error&#34; --type &#34;log&#34;</p>

<p dir="auto">yams get 
yams get  --output file.txt</p>

<p dir="auto">yams list --recent 20
yams stats --json  # JSON output for scripts</p>

<p dir="auto">yams browse  # Interactive document browser</p>
<div data-snippet-clipboard-copy-content="
### API
```cpp
#include &lt;yams/api/content_store.h&gt;

auto store = yams::api::createContentStore(getenv(&#34;YAMS_STORAGE&#34;));

// Store
yams::api::ContentMetadata meta{.tags = {&#34;code&#34;, &#34;v1.0&#34;}};
auto result = store-&gt;store(&#34;file.txt&#34;, meta);

// Search
auto results = store-&gt;search(&#34;query&#34;, 10);

// Retrieve
store-&gt;retrieve(hash, &#34;output.txt&#34;);"><pre><code>
### API
```cpp
#include &lt;yams/api/content_store.h&gt;

auto store = yams::api::createContentStore(getenv(&#34;YAMS_STORAGE&#34;));

// Store
yams::api::ContentMetadata meta{.tags = {&#34;code&#34;, &#34;v1.0&#34;}};
auto result = store-&gt;store(&#34;file.txt&#34;, meta);

// Search
auto results = store-&gt;search(&#34;query&#34;, 10);

// Retrieve
store-&gt;retrieve(hash, &#34;output.txt&#34;);
</code></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="import subprocess, json

def yams_store(content, tags=[], type=&#34;text&#34;):
    cmd = [&#34;yams&#34;, &#34;store&#34;, content]
    if tags: cmd.extend([&#34;--tags&#34;, &#34;,&#34;.join(tags)])
    if type: cmd.extend([&#34;--type&#34;, type])
    return subprocess.run(cmd, capture_output=True, text=True)

def yams_search(query, limit=10):
    cmd = [&#34;yams&#34;, &#34;search&#34;, query, &#34;--limit&#34;, str(limit)]
    return subprocess.run(cmd, capture_output=True, text=True)"><pre><span>import</span> <span>subprocess</span>, <span>json</span>

<span>def</span> <span>yams_store</span>(<span>content</span>, <span>tags</span><span>=</span>[], <span>type</span><span>=</span><span>&#34;text&#34;</span>):
    <span>cmd</span> <span>=</span> [<span>&#34;yams&#34;</span>, <span>&#34;store&#34;</span>, <span>content</span>]
    <span>if</span> <span>tags</span>: <span>cmd</span>.<span>extend</span>([<span>&#34;--tags&#34;</span>, <span>&#34;,&#34;</span>.<span>join</span>(<span>tags</span>)])
    <span>if</span> <span>type</span>: <span>cmd</span>.<span>extend</span>([<span>&#34;--type&#34;</span>, <span>type</span>])
    <span>return</span> <span>subprocess</span>.<span>run</span>(<span>cmd</span>, <span>capture_output</span><span>=</span><span>True</span>, <span>text</span><span>=</span><span>True</span>)

<span>def</span> <span>yams_search</span>(<span>query</span>, <span>limit</span><span>=</span><span>10</span>):
    <span>cmd</span> <span>=</span> [<span>&#34;yams&#34;</span>, <span>&#34;search&#34;</span>, <span>query</span>, <span>&#34;--limit&#34;</span>, <span>str</span>(<span>limit</span>)]
    <span>return</span> <span>subprocess</span>.<span>run</span>(<span>cmd</span>, <span>capture_output</span><span>=</span><span>True</span>, <span>text</span><span>=</span><span>True</span>)</pre></div>


<div dir="auto" data-snippet-clipboard-copy-content="# Always specify data directory explicitly
export YAMS_STORAGE=&#34;/tmp/yams-data&#34;

# Initialize once (quiet mode)
yams --data-dir &#34;$YAMS_STORAGE&#34; init --non-interactive --force

# Store content from stdin (most common for LLMs)
echo &#34;Important information to remember&#34; | yams --data-dir &#34;$YAMS_STORAGE&#34; add --tags &#34;memory&#34;

# Search for content
yams --data-dir &#34;$YAMS_STORAGE&#34; search &#34;important&#34; --json

# Retrieve specific document
yams --data-dir &#34;$YAMS_STORAGE&#34; get &lt;hash&gt; --json

# Get storage statistics
yams --data-dir &#34;$YAMS_STORAGE&#34; stats --json"><pre><span><span>#</span> Always specify data directory explicitly</span>
<span>export</span> YAMS_STORAGE=<span><span>&#34;</span>/tmp/yams-data<span>&#34;</span></span>

<span><span>#</span> Initialize once (quiet mode)</span>
yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> init --non-interactive --force

<span><span>#</span> Store content from stdin (most common for LLMs)</span>
<span>echo</span> <span><span>&#34;</span>Important information to remember<span>&#34;</span></span> <span>|</span> yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> add --tags <span><span>&#34;</span>memory<span>&#34;</span></span>

<span><span>#</span> Search for content</span>
yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> search <span><span>&#34;</span>important<span>&#34;</span></span> --json

<span><span>#</span> Retrieve specific document</span>
yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> get <span>&lt;</span>hash<span>&gt;</span> --json

<span><span>#</span> Get storage statistics</span>
yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> stats --json</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Store code changes
git diff | yams --data-dir &#34;$YAMS_STORAGE&#34; add --tags &#34;git-diff,$(date +%Y%m%d)&#34;

# Store conversation context
echo &#34;User asked about: $TOPIC&#34; | yams --data-dir &#34;$YAMS_STORAGE&#34; add --tags &#34;context,$TOPIC&#34;

# Store external documentation
curl -s &#34;$API_DOCS_URL&#34; | yams --data-dir &#34;$YAMS_STORAGE&#34; add --tags &#34;api-docs,external&#34;

# Search and retrieve in one line
hash=$(yams --data-dir &#34;$YAMS_STORAGE&#34; search &#34;$QUERY&#34; --json | jq -r &#39;.results[0].hash&#39;)
yams --data-dir &#34;$YAMS_STORAGE&#34; get &#34;$hash&#34;"><pre><span><span>#</span> Store code changes</span>
git diff <span>|</span> yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> add --tags <span><span>&#34;</span>git-diff,<span><span>$(</span>date +%Y%m%d<span>)</span></span><span>&#34;</span></span>

<span><span>#</span> Store conversation context</span>
<span>echo</span> <span><span>&#34;</span>User asked about: <span>$TOPIC</span><span>&#34;</span></span> <span>|</span> yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> add --tags <span><span>&#34;</span>context,<span>$TOPIC</span><span>&#34;</span></span>

<span><span>#</span> Store external documentation</span>
curl -s <span><span>&#34;</span><span>$API_DOCS_URL</span><span>&#34;</span></span> <span>|</span> yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> add --tags <span><span>&#34;</span>api-docs,external<span>&#34;</span></span>

<span><span>#</span> Search and retrieve in one line</span>
hash=<span><span>$(</span>yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> search <span><span>&#34;</span><span>$QUERY</span><span>&#34;</span></span> --json <span>|</span> jq -r <span><span>&#39;</span>.results[0].hash<span>&#39;</span></span><span>)</span></span>
yams --data-dir <span><span>&#34;</span><span>$YAMS_STORAGE</span><span>&#34;</span></span> get <span><span>&#34;</span><span>$hash</span><span>&#34;</span></span></pre></div>


<p dir="auto">YAMS is ideal for LLMs to maintain persistent memory across sessions:</p>
<ul dir="auto">
<li><strong>Code Development</strong>: Track changes, store working versions, remember context</li>
<li><strong>Research</strong>: Cache web content, API responses, documentation</li>
<li><strong>Conversation Context</strong>: Store important discussions, decisions, requirements</li>
<li><strong>Knowledge Base</strong>: Build searchable repository of project knowledge</li>
</ul>


<div dir="auto" data-snippet-clipboard-copy-content="# Store current code state before making changes
git diff | yams store - --tags &#34;pre-refactor,auth-module,$(date +%Y%m%d)&#34;

# Track implementation decisions
yams store &#34;Decided to use JWT tokens with 24h expiry for auth&#34; \
  --tags &#34;decision,auth,architecture&#34;

# Store error context for debugging
yams store &#34;$(tail -100 app.log)&#34; --tags &#34;error,production,$(date +%Y%m%d-%H%M)&#34;

# Save working implementation
yams store-file auth_handler.py --tags &#34;working,auth,v2.1&#34;"><pre><span><span>#</span> Store current code state before making changes</span>
git diff <span>|</span> yams store - --tags <span><span>&#34;</span>pre-refactor,auth-module,<span><span>$(</span>date +%Y%m%d<span>)</span></span><span>&#34;</span></span>

<span><span>#</span> Track implementation decisions</span>
yams store <span><span>&#34;</span>Decided to use JWT tokens with 24h expiry for auth<span>&#34;</span></span> \
  --tags <span><span>&#34;</span>decision,auth,architecture<span>&#34;</span></span>

<span><span>#</span> Store error context for debugging</span>
yams store <span><span>&#34;</span><span><span>$(</span>tail -100 app.log<span>)</span></span><span>&#34;</span></span> --tags <span><span>&#34;</span>error,production,<span><span>$(</span>date +%Y%m%d-%H%M<span>)</span></span><span>&#34;</span></span>

<span><span>#</span> Save working implementation</span>
yams store-file auth_handler.py --tags <span><span>&#34;</span>working,auth,v2.1<span>&#34;</span></span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Store web research
curl -s https://api.example.com/docs | yams store - \
  --tags &#34;api-docs,external,example-api&#34; \
  --source &#34;https://api.example.com/docs&#34;

# Cache fetched content
yams store &#34;$WEB_CONTENT&#34; --tags &#34;research,oauth,implementation-guide&#34;

# Store meeting notes
yams store-file meeting-notes-2024-01-15.md --tags &#34;meeting,requirements,client&#34;"><pre><span><span>#</span> Store web research</span>
curl -s https://api.example.com/docs <span>|</span> yams store - \
  --tags <span><span>&#34;</span>api-docs,external,example-api<span>&#34;</span></span> \
  --source <span><span>&#34;</span>https://api.example.com/docs<span>&#34;</span></span>

<span><span>#</span> Cache fetched content</span>
yams store <span><span>&#34;</span><span>$WEB_CONTENT</span><span>&#34;</span></span> --tags <span><span>&#34;</span>research,oauth,implementation-guide<span>&#34;</span></span>

<span><span>#</span> Store meeting notes</span>
yams store-file meeting-notes-2024-01-15.md --tags <span><span>&#34;</span>meeting,requirements,client<span>&#34;</span></span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Find related code changes
yams search &#34;authentication&#34; --type &#34;code&#34; --limit 10

# Retrieve specific version
yams search &#34;working auth&#34; --tags &#34;v2.1&#34;

# Get recent errors
yams list --recent 20 --tags &#34;error&#34;

# Semantic search for concepts
yams search &#34;token expiry handling&#34;"><pre><span><span>#</span> Find related code changes</span>
yams search <span><span>&#34;</span>authentication<span>&#34;</span></span> --type <span><span>&#34;</span>code<span>&#34;</span></span> --limit 10

<span><span>#</span> Retrieve specific version</span>
yams search <span><span>&#34;</span>working auth<span>&#34;</span></span> --tags <span><span>&#34;</span>v2.1<span>&#34;</span></span>

<span><span>#</span> Get recent errors</span>
yams list --recent 20 --tags <span><span>&#34;</span>error<span>&#34;</span></span>

<span><span>#</span> Semantic search for concepts</span>
yams search <span><span>&#34;</span>token expiry handling<span>&#34;</span></span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">MCP (Model Context Protocol) Integration</h3><a id="user-content-mcp-model-context-protocol-integration" aria-label="Permalink: MCP (Model Context Protocol) Integration" href="#mcp-model-context-protocol-integration"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">MCP provides direct integration with Claude Desktop and other MCP-compatible clients.</p>

<p dir="auto"><strong>Optimize for large files</strong>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Adjust chunk size for better deduplication
export YAMS_CHUNK_SIZE=64KB  # Default: 16KB

# Increase cache size
export YAMS_CACHE_SIZE=1GB   # Default: 256MB"><pre><span><span>#</span> Adjust chunk size for better deduplication</span>
<span>export</span> YAMS_CHUNK_SIZE=64KB  <span><span>#</span> Default: 16KB</span>

<span><span>#</span> Increase cache size</span>
<span>export</span> YAMS_CACHE_SIZE=1GB   <span><span>#</span> Default: 256MB</span></pre></div>
<p dir="auto"><strong>Reduce memory usage</strong>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Use streaming mode for large files
yams store-file --stream large-file.bin

# Enable compression
export YAMS_COMPRESSION=zstd  # Options: none, zstd, lzma"><pre><span><span>#</span> Use streaming mode for large files</span>
yams store-file --stream large-file.bin

<span><span>#</span> Enable compression</span>
<span>export</span> YAMS_COMPRESSION=zstd  <span><span>#</span> Options: none, zstd, lzma</span></pre></div>

<p dir="auto">Apache-2.0</p>
</article></div></div>
  </body>
</html>
