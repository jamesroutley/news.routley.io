<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/libsdl-org/SDL/pull/9312">Original</a>
    <h1>SDL3 new GPU API merged</h1>
    
    <div id="readability-page-1" class="page"><div data-quote-markdown=".js-comment-body" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="" data-hpc="">
    <template>
  <div data-view-component="true">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <p><span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span></p>
</div></template>
<template>
  <span aria-label="This line has hidden Unicode characters" data-view-component="true">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
</span></template>

    <div>

      <div data-gid="PR_kwDOE6uI4c5qGF4i" data-url="/libsdl-org/SDL/pull/9312/partials/body" data-channel-event-name="body_updated" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjE3Nzk5ODE4NTgiLCJ0IjoxNzI1MDEyOTk2fQ==--0d2c59be7ebd17dbbc40667298e3a224f4c1fed198a7aa9c7ad403cd5f013f73">

<p><a href="https://github.com/flibitijibibo" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/1396814?s=60&amp;v=4" alt="flibitijibibo" size="40" height="40" width="40" data-view-component="true"/></a>
  
  
</p><div id="issue-2195077258">
  <div id="pullrequest-1779981858">
          

          <div>
        <div>
  
  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">With 3.0 quickly on the horizon, we&#39;ve decided to fast-track this so we can get more eyeballs sooner:</p>
<p dir="auto">A close relative to the FNA project is the <a href="https://github.com/MoonsideGames/MoonWorks">MoonWorks</a> project, which intends to be more of a successor to XNA rather than a reimplementation like FNA. The graphics component is called <a href="https://github.com/MoonsideGames/Refresh">Refresh</a>, which is like FNA3D but targets modern APIs like Vulkan. With SDL_gpu still in the early stages, and with Refresh in the process of <a href="https://github.com/MoonsideGames/Refresh/pull/21" data-hovercard-type="pull_request" data-hovercard-url="/MoonsideGames/Refresh/pull/21/hovercard">revamping its API for a 2.0 release anyway</a>, we&#39;ve decided to just turn Refresh into a possible candidate for the final GPU API.</p>
<p dir="auto">Currently, Refresh supports Vulkan and the PS5 graphics API, with D3D11 deferred context support on the way. It is being used in production for <a href="https://store.steampowered.com/app/1397790/Samurai_Gunn_2/" rel="nofollow">Samurai Gunn 2</a> on PC and console. It also includes a shader system, but it takes a different approach by <del>doing compilation offline, at least for now</del> fixed!</p>
<p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut">@thatcosmonaut</a> will be the main Point of Contact since he&#39;s the author, but the FNA core team will try to be involved as well if this seems okay to move forward with.</p>
<p dir="auto">Our issue tracker can be found here: <a href="https://github.com/thatcosmonaut/SDL/issues">https://github.com/thatcosmonaut/SDL/issues</a></p>
    </div>
  </task-lists>
  
</div>

      </div>

          <!-- '"` --><!-- </textarea></xmp> -->
          <div>
        <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/libsdl-org/SDL/reactions" accept-charset="UTF-8" method="post">
    
    <div>
          <tool-tip id="tooltip-4414d7cb-4d28-4d92-a88c-b2705f687ec5" for="reactions--reaction_button_component-0787f2" popover="manual" data-direction="n" data-type="description" data-view-component="true">kg, WimeSTone, Terria-K, theoparis, ghishadow, larsonjj, corentin35000, IgorAlexey, fxesminus, NoelFB, and 17 more reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-642a5bca-dee5-4a82-bb21-b41d72ab16eb" for="reactions--reaction_button_component-2cef6d" popover="manual" data-direction="n" data-type="description" data-view-component="true">tapir2342, kirkegaard, gnat, rudedogg, and martintc reacted with hooray emoji</tool-tip>
      
    </div>
</form></div>
      </div>

</div>
  </div>
</div>


        

       
            


      <div data-gid="IC_kwDOE6uI4c53qdvX">
  
      
<div data-gid="IC_kwDOE6uI4c53qdvX" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53qdvX/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/darkerbit/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/darkerbit"><img src="https://avatars.githubusercontent.com/u/25959402?s=80&amp;u=baad5fbd7f2df83935cc68540b155644dddea6ce&amp;v=4" width="40" height="40" alt="@darkerbit"/></a>

</p>


  <div id="issuecomment-2007620567">

    <div data-body-version="282f15bfa4fa8159d81d7f2dce41e31505131c0490e95f5f6bf212584eedfe18">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Would like to state my support for this, with the following points:</p>
<ol dir="auto">
<li>Compute is a first-class feature of Refresh, and I feel SDL_GPU&#39;s previous draft not including it was a massive oversight. Compute is a feature in every modern graphics API (and even some older ones) and Refresh&#39;s API makes them delightfully simple to work with, which I feel is good to encourage. A more niche point is that compute shaders also solve every practical usecase of a GPU-timeline buffer-&gt;texture and texture-&gt;buffer copy, which is not a feature that is possible to implement in every graphics API (notably, D3D11)</li>
<li>The shader formats being existing formats is a good thing in my opinion, as there exists standard tooling for creating and debugging them. The benefits are addressed in detail in <span><svg title="Open" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path></svg><a data-error-text="Failed to load title" data-id="2063098956" data-permission-text="Title is private" data-url="https://github.com/libsdl-org/SDL_shader_tools/issues/17" data-hovercard-type="issue" data-hovercard-url="/libsdl-org/SDL_shader_tools/issues/17/hovercard" href="https://github.com/libsdl-org/SDL_shader_tools/issues/17">Proposal: Consume Shaders in DXBC Format<span> SDL_shader_tools#17</span></a></span>, though that isn&#39;t the solution Refresh is using right now.</li>
<li>Refresh already has an excellent Vulkan backend. This is going to save a tremendous amount of development time, as Refresh&#39;s Vulkan backend not only already exists but is also, since 2.0, incredibly performant.</li>
<li>Refresh 2.0 puts great care into ensuring performant resource safety via cycling when possible. SDL_GPU&#39;s previous draft included APIs for this, however I don&#39;t think this is something that should be exposed to the user, as this is fundamentally backend-specific and complicates API usage. Refresh performs resource safety internally, with fantastic results.</li>
</ol>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c53q0kU">
  
      
<div data-gid="IC_kwDOE6uI4c53q0kU" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53q0kU/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2007714068">

    <div data-body-version="c7a174c4807363f128dcd75459d18c707b3ba83513cafb67721e04fbd3646aec">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Hello, I&#39;m the author so I&#39;ll take some time to explain this proposal.</p>
<p dir="auto">First, the shader situation.  This API&#39;s shader solution is a script called shaderbuild.py, it&#39;s essentially a frontend for offline shader building tools on the client&#39;s machine, and it globs various formats together so they can individually be sent to the appropriate render backends. I&#39;m aware that the original proposal included online shader compilation. This solution doesn&#39;t forbid this, because future SDLSL source could just be included in the binary and the CreateShaderModule function can translate it into the desired backend&#39;s bytecode on the fly. We wouldn&#39;t have to break the public API to allow this, which is a nice plus, and it prevents the shader compiler from being a blocker on using this API. When authoring a shader the API expects certain <code>set</code> layouts depending on the resource and shader stage: vertex samplers are set 0, fragment samplers are set 1, vertex uniforms are set 2 and fragment uniforms are set 3.</p>
<p dir="auto">This is a modern-style rendering API, so almost all tasks occur in a deferred context and are broken up into render passes, compute passes, and copy passes. All operations that write to a resource have the ability to cycle to avoid inter-frame dependencies - handles to graphics resources like GpuBuffers are just containers so we can cycle references to internal resources. There are some data quirks due to AMD D3D11 drivers being not great - this is why there are a few different WriteOptions enums. I&#39;d like to get rid of these but I haven&#39;t fully been able to work around the fact that D3D11 data APIs do not work as advertised on AMD.</p>
<p dir="auto">Presentation is handled via SDL_GpuAcquireSwapchainTexture, which associates the given command buffer with a swapchain image. When SDL_GpuSubmit is called with this command buffer, the presentation structures are automatically configured and submitted. SDL_GpuSubmit automatically handles submission fences, but the client can choose to explicitly synchronize by calling SDL_GpuSubmitAndAcquireFence and using the returned SDL_GpuFence handle.</p>
<p dir="auto">The rest of the API is fairly bog-standard binding, render, and compute dispatch calls.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c53q1Sk">
  
      
<div data-gid="IC_kwDOE6uI4c53q1Sk" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53q1Sk/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2007717028">

    <div data-body-version="0c744852c8ef43cf039b9ee937aef14f7c16a543182f2cc78c3f15d55f3ce471">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I noticed that the CI treats all warnings as errors, which is fine, but there are some things like unused function variables or pointer size casts that I need to be able to work around. Are there macros for handling these warnings?</p>
<p dir="auto">I was also having a difficult time getting preprocessor defines showing up correctly in the project from CMake, so I could use some help with that.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      

      <div data-gid="PRR_kwDOE6uI4c50Dpau">
  
        <div>
  <div id="pullrequestreview-1947113134" data-gid="PRR_kwDOE6uI4c50Dpau" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxOTQ3MTEzMTM0IiwidCI6MTcyNTAxMjk5N30=--a32076cccd551fee07ab5d6989357f7c6ef0735f238455eb32d4a2d655b5e692" data-url="/libsdl-org/SDL/pull/9312/partials/reviews/1947113134">
      <div data-view-component="true">
  <p><a href="https://github.com/sezero" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/sezero/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/4222725?s=60&amp;v=4" alt="sezero" size="40" height="40" width="40" data-view-component="true"/></a></p>
  
</div>

        </div>
</div>


</div>

      <div data-gid="IC_kwDOE6uI4c53sGhS">
  
      
<div data-gid="IC_kwDOE6uI4c53sGhS" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53sGhS/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/icculus/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/icculus"><img src="https://avatars.githubusercontent.com/u/673562?s=80&amp;u=9e664712761fafa45ddca639e358bcec710e4957&amp;v=4" width="40" height="40" alt="@icculus"/></a>

</p>


  <div id="issuecomment-2008049746">

    <div data-body-version="c6e4049f58c3470158581f03e3d6db822d90e1eccd200196f0640cb2b7279881">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">This is not what I was expecting to see in my inbox this morning.</p>
<p dir="auto">I&#39;m going to take some time to study this and think on it. I want to be clear, this might get combined with the other branch somewhere between &#34;this particular idea was better than mine so a pivot makes sense&#34; to &#34;this piece got copy/pasted into the my branch,&#34; to &#34;this is better in all ways, so I put my branch in the trash.&#34; I don&#39;t know how this will shake out yet.</p>
<p dir="auto">Also to be clear: there is no scenario where either this PR or my branch is landing in the 3.2.0 release in the name of expediency.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c53tBXO">
  
      
<div data-gid="IC_kwDOE6uI4c53tBXO" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53tBXO/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slime73/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slime73"><img src="https://avatars.githubusercontent.com/u/2662?s=80&amp;u=e529d3d6300b43b5a0441807bbff488c26ad9b4d&amp;v=4" width="40" height="40" alt="@slime73"/></a>

</p>


  <div id="issuecomment-2008290766">

    <div data-body-version="e9d388f4f80d1529c9facb10ef0fac1d19e81e8cbd6adff2cec9a313418d8634">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">This API&#39;s shader solution is a script called shaderbuild.py, it&#39;s essentially a frontend for offline shader building tools on the client&#39;s machine,</p>
</blockquote>
<p dir="auto">Some 2c from an outsider: I understand some of the reasons for purely offline shader compilation (runtime compilation isn&#39;t supported on every possible platform anyway, including third party cross-compile libraries might bloat the binary size considerably – or maintaining custom cross-compilation is a massive maintenance burden, optimization can be more aggressive, etc.) – but purely offline compilation incompatible with the engine I develop, so if SDL_gpu does this it immediately puts it off the table for me.</p>
<p dir="auto">Also, the way it&#39;s set up right now seems to need a lot of setup from developers using it: an install of python in their path, an install of glslc in their path, an install of spirv-cross in their path, some per-project setup to run the script on the appropriate files if you don&#39;t want to manually run everything in a terminal, etc. If I did use this, that part would probably feel really frustrating to me.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c53tFNB">
  
      
<div data-gid="IC_kwDOE6uI4c53tFNB" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53tFNB/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2008306497">

    <div data-body-version="9024c09bc2d53db18506cc631e7174f6bc3c74d5014d2df5e097972e66daaad1">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">As I mentioned, I know there are perfectly good reasons to support online shader compilation and the proposed format intentionally does not preclude that from being possible. This was the best solution I can think of that does not involve pulling in an enormous dependency and works today. At the end of the day <em>something</em> has to compile a shader language to actual bytecode or else we are completely blocked. I mostly went with python because there are a few other scripts in SDL that use it and there&#39;s not really a precedent for SDL shipping something like this. But as long as the input format is well-defined it wouldn&#39;t really matter what developers use to generate it.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c53tKkG">
  
      
<div data-gid="IC_kwDOE6uI4c53tKkG" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53tKkG/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slime73/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slime73"><img src="https://avatars.githubusercontent.com/u/2662?s=80&amp;u=e529d3d6300b43b5a0441807bbff488c26ad9b4d&amp;v=4" width="40" height="40" alt="@slime73"/></a>

</p>


  <div id="issuecomment-2008328454">

    <div data-body-version="aaae242d66b695195be1b866c59a38b9e30160c147a284cdbeedb9cbee68d0e0">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">and works today.</p>
</blockquote>
<p dir="auto">I don&#39;t want to speak for the SDL team too much but I don&#39;t get the sense this is really the top priority for SDL_gpu in the current moment - figuring out something that works cleanly and robustly tomorrow is likely more important than something simply working in any state immediately. If you are blocked by a lack of SDL_gpu right now then it probably makes sense to use something else in the meantime instead of hoping it ships in the very near future.</p>
<p dir="auto">Given the rest of SDL&#39;s ecosystem, the most idiomatic offline shader compilation tool for SDL I can think of would be a separate satellite library, which could avoid needing system-wide packages like python/glslc for people using it, and might also let people ship it with their app if they want runtime or otherwise on-device compilation I suppose.</p>
<p dir="auto">But maybe that&#39;s getting a bit too far into the weeds for now given Ryan&#39;s previous message, and I should just let him think on it without all the noise from me. :)</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c53w8cq">
  
      
<div data-gid="IC_kwDOE6uI4c53w8cq" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c53w8cq/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/1bsyl/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/1bsyl"><img src="https://avatars.githubusercontent.com/u/818728?s=80&amp;v=4" width="40" height="40" alt="@1bsyl"/></a>

</p>


  <div id="issuecomment-2009319210">

    <div data-body-version="6a2c99ca21de2c8524c3ffff712d31f5f350b0e4335d35b6e03a90b5eeaa86ae">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">(if possible, SDL could run (with compilation flags) in different flavors:  legacy SDL_Render, Ryan&#39;s SDL_GPU , etc.. )</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      

      <div data-gid="IC_kwDOE6uI4c5318wS">
  
      
<div data-gid="IC_kwDOE6uI4c5318wS" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c5318wS/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/sezero/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sezero"><img src="https://avatars.githubusercontent.com/u/4222725?s=80&amp;v=4" width="40" height="40" alt="@sezero"/></a>

</p>


  <div id="issuecomment-2010631186">

    <div data-body-version="debf90b078988f3f1a2169a672a2403f26b818789fe3ff66d261909e72cf8fcd">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Got type redefinition errors:</p>
<div data-snippet-clipboard-copy-content="In file included from /tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan.h:11,
                 from /tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c:31:
/tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan_core.h:101: error: redefinition of typedef ‘VkInstance’
/tmp/SDL3-gpu-9312/include/SDL3/SDL_vulkan.h:52: note: previous declaration of ‘VkInstance’ was here
In file included from /tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan.h:11,
                 from /tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c:31:
/tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan_core.h:7513: error: redefinition of typedef ‘VkSurfaceKHR’
/tmp/SDL3-gpu-9312/include/SDL3/SDL_vulkan.h:53: note: previous declaration of ‘VkSurfaceKHR’ was here
make[2]: *** [CMakeFiles/SDL3-shared.dir/src/gpu/SDL_gpu_vulkan.c.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[1]: *** [CMakeFiles/SDL3-shared.dir/all] Error 2
make: *** [all] Error 2"><pre><code>In file included from /tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan.h:11,
                 from /tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c:31:
/tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan_core.h:101: error: redefinition of typedef ‘VkInstance’
/tmp/SDL3-gpu-9312/include/SDL3/SDL_vulkan.h:52: note: previous declaration of ‘VkInstance’ was here
In file included from /tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan.h:11,
                 from /tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c:31:
/tmp/SDL3-gpu-9312/src/gpu/../video/khronos/vulkan/vulkan_core.h:7513: error: redefinition of typedef ‘VkSurfaceKHR’
/tmp/SDL3-gpu-9312/include/SDL3/SDL_vulkan.h:53: note: previous declaration of ‘VkSurfaceKHR’ was here
make[2]: *** [CMakeFiles/SDL3-shared.dir/src/gpu/SDL_gpu_vulkan.c.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[1]: *** [CMakeFiles/SDL3-shared.dir/all] Error 2
make: *** [all] Error 2
</code></pre></div>
<p dir="auto">Easy fix:</p>
<div dir="auto" data-snippet-clipboard-copy-content="diff --git a/src/gpu/SDL_gpu_vulkan.c b/src/gpu/SDL_gpu_vulkan.c
index 7feafda..acf57d2 100644
--- a/src/gpu/SDL_gpu_vulkan.c
+++ b/src/gpu/SDL_gpu_vulkan.c
@@ -22,14 +22,14 @@
 #include &#34;SDL_internal.h&#34;
 
 #if SDL_GPU_VULKAN
-#include &lt;SDL3/SDL_vulkan.h&gt;
-
 /* Needed for VK_KHR_portability_subset */
 #define VK_ENABLE_BETA_EXTENSIONS
 
 #define VK_NO_PROTOTYPES
 #include &#34;../video/khronos/vulkan/vulkan.h&#34;
 
+#include &lt;SDL3/SDL_vulkan.h&gt;
+
 #include &#34;SDL_gpu_driver.h&#34;
 
 #define VULKAN_INTERNAL_clamp(val, min, max) SDL_max(min, SDL_min(val, max))"><pre><span>diff --git a/src/gpu/SDL_gpu_vulkan.c b/src/gpu/SDL_gpu_vulkan.c</span>
index 7feafda..acf57d2 100644
<span>--- a/src/gpu/SDL_gpu_vulkan.c</span>
<span>+++ b/src/gpu/SDL_gpu_vulkan.c</span>
<span>@@ -22,14 +22,14 @@</span>
 #include &#34;SDL_internal.h&#34;
 
 #if SDL_GPU_VULKAN
<span><span>-</span>#include &lt;SDL3/SDL_vulkan.h&gt;</span>
<span><span>-</span></span>
 /* Needed for VK_KHR_portability_subset */
 #define VK_ENABLE_BETA_EXTENSIONS
 
 #define VK_NO_PROTOTYPES
 #include &#34;../video/khronos/vulkan/vulkan.h&#34;
 
<span><span>+</span>#include &lt;SDL3/SDL_vulkan.h&gt;</span>
<span><span>+</span></span>
 #include &#34;SDL_gpu_driver.h&#34;
 
 #define VULKAN_INTERNAL_clamp(val, min, max) SDL_max(min, SDL_min(val, max))</pre></div>
<p dir="auto">Minor annoying &#39;maybe used uninitialized&#39; warning (seems bogus):</p>
<div data-snippet-clipboard-copy-content="/tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c: In function ‘VULKAN_INTERNAL_DeterminePhysicalDevice’:
/tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c:11338: warning: ‘suitableQueueFamilyIndex’ may be used uninitialized in this function"><pre><code>/tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c: In function ‘VULKAN_INTERNAL_DeterminePhysicalDevice’:
/tmp/SDL3-gpu-9312/src/gpu/SDL_gpu_vulkan.c:11338: warning: ‘suitableQueueFamilyIndex’ may be used uninitialized in this function
</code></pre></div>
<p dir="auto">Silencing:</p>
<div dir="auto" data-snippet-clipboard-copy-content="diff --git a/src/gpu/SDL_gpu_vulkan.c b/src/gpu/SDL_gpu_vulkan.c
--- a/src/gpu/SDL_gpu_vulkan.c
+++ b/src/gpu/SDL_gpu_vulkan.c
@@ -11385,6 +11385,7 @@ static Uint8 VULKAN_INTERNAL_DeterminePhysicalDevice(
 
     /* Any suitable device will do, but we&#39;d like the best */
     suitableIndex = -1;
+    suitableQueueFamilyIndex = 0;
     highestRank = 0;
     for (i = 0; i &lt; physicalDeviceCount; i += 1)
     {"><pre><span>diff --git a/src/gpu/SDL_gpu_vulkan.c b/src/gpu/SDL_gpu_vulkan.c</span>
<span>--- a/src/gpu/SDL_gpu_vulkan.c</span>
<span>+++ b/src/gpu/SDL_gpu_vulkan.c</span>
<span>@@ -11385,6 +11385,7 @@</span> static Uint8 VULKAN_INTERNAL_DeterminePhysicalDevice(
 
     /* Any suitable device will do, but we&#39;d like the best */
     suitableIndex = -1;
<span><span>+</span>    suitableQueueFamilyIndex = 0;</span>
     highestRank = 0;
     for (i = 0; i &lt; physicalDeviceCount; i += 1)
     {</pre></div>
<p dir="auto">Noticed that dynapi isn&#39;t touched: Running <code>gendynapi.py</code> under src/dynapi/ will update it.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c54IoVT">
  
      
<div data-gid="IC_kwDOE6uI4c54IoVT" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c54IoVT/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/meyraud705/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/meyraud705"><img src="https://avatars.githubusercontent.com/u/70028899?s=80&amp;v=4" width="40" height="40" alt="@meyraud705"/></a>

</p>


  <div id="issuecomment-2015528275">

    <div data-body-version="278b45b45a4b3f9cfa1ec68f96e1a0de1053c026e5d333f815db244d6639e19d">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">As I am interested in SDL_gpu and am working on an OpenGL implementation of it (<a data-error-text="Failed to load title" data-id="2059628454" data-permission-text="Title is private" data-url="https://github.com/icculus/SDL/issues/7" data-hovercard-type="pull_request" data-hovercard-url="/icculus/SDL/pull/7/hovercard" href="https://github.com/icculus/SDL/pull/7">icculus#7</a>), here what I think:</p>
<p dir="auto">I like the idea of SDL_gpu handling cycles. I am not sure why some combination are not allowed: no safe for GPU buffer and no unsafe for texture.</p>
<p dir="auto">Most of the structs are similar: Device, Pipeline... TransferBuffer which is like the CpuBuffer but looks useful. There is no *Pass struct, user can&#39;t do anything with them but they avoid mixing of render and copy command so I think it is better to have them.</p>
<p dir="auto">For the functions I prefer <a data-hovercard-type="user" data-hovercard-url="/users/icculus/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/icculus">@icculus</a> version: &#34;put this buffer/texture at this location&#34;. Also, while passing ten parameters to a function is ugly, pointer to struct for 2 parameters and nested struct (TextureRegion -&gt; TextureSlice -&gt; Texture) is not better.</p>
<p dir="auto">I would like to see the spinning cube test (<a href="https://github.com/icculus/SDL/blob/5db1fd7491ccf1d9b209c91ba163da0b2fb54f6f/test/testgpu_spinning_cube.c">https://github.com/icculus/SDL/blob/5db1fd7491ccf1d9b209c91ba163da0b2fb54f6f/test/testgpu_spinning_cube.c</a>) with this API (including its shader), especially how you handle the absence of binding location.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      

      <div data-gid="IC_kwDOE6uI4c54dhCi">
  
      
<div data-gid="IC_kwDOE6uI4c54dhCi" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c54dhCi/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2021003426">

    <div data-body-version="b88b54151b7e18704ea250b151cb5d754aae377c19ed1c37aa2a6b2cd1db0626">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Latest push starts the work on Metal support, and reworks the shader system slightly to make a clear distinction between &#34;raw&#34; shaders and &#34;portable&#34; shaders - in particular, we&#39;re using the FNA3D port as a stress test for supporting shader creation at runtime. We&#39;re currently using the MojoShader SPIR-V emitter, which can be passed directly when Vulkan is active, and for other backends we&#39;re using a separate (and more importantly, optional) library to translate:</p>
<p dir="auto"><a href="https://github.com/thatcosmonaut/SDL_shader">https://github.com/thatcosmonaut/SDL_shader</a></p>
<p dir="auto">We&#39;re using SPIR-V since MojoShader already supports it, but the same idea would apply to SDL&#39;s shader format: A separate library would take in the blob and emit what the active SDL_gpu backend needs, and SDL itself doesn&#39;t know or care where the shaders came from.</p>
<p dir="auto">One thing we haven&#39;t really touched at all is the formatting - I seem to remember formatting tools getting involved when the decision was made to change some of SDL&#39;s style guidelines, but I can&#39;t find them anywhere. If that exists somewhere the next push should have the formatting cleaned up.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      

      <div data-gid="IC_kwDOE6uI4c54psOY">
  
      
<div data-gid="IC_kwDOE6uI4c54psOY" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c54psOY/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2024194968">

    <div data-body-version="1a30e311b966dfa28582fc38689e2b1308b4bb1a9c90acb5e558720006840da0">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">As of the latest push, we&#39;re in-game:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/1396814/317551931-e5864bf9-c5cc-46aa-996b-fe600a7d150d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUwMTMyOTcsIm5iZiI6MTcyNTAxMjk5NywicGF0aCI6Ii8xMzk2ODE0LzMxNzU1MTkzMS1lNTg2NGJmOS1jNWNjLTQ2YWEtOTk2Yi1mZTYwMGE3ZDE1MGQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDgzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA4MzBUMTAxNjM3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjQ2MWM3MDUwYjFmZjNmNjA5MTYwOTk3YTY4ODNiNWE2ODFkOTczMmM5YmI2NGZhNGRhMTNiYThiZWM5OGMyMyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.IVdbOVLrn_0C_Am8OUqvnqxTQYjcjnY4854fLBV7rUc"><img src="https://private-user-images.githubusercontent.com/1396814/317551931-e5864bf9-c5cc-46aa-996b-fe600a7d150d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUwMTMyOTcsIm5iZiI6MTcyNTAxMjk5NywicGF0aCI6Ii8xMzk2ODE0LzMxNzU1MTkzMS1lNTg2NGJmOS1jNWNjLTQ2YWEtOTk2Yi1mZTYwMGE3ZDE1MGQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDgzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA4MzBUMTAxNjM3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjQ2MWM3MDUwYjFmZjNmNjA5MTYwOTk3YTY4ODNiNWE2ODFkOTczMmM5YmI2NGZhNGRhMTNiYThiZWM5OGMyMyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.IVdbOVLrn_0C_Am8OUqvnqxTQYjcjnY4854fLBV7rUc" alt="image"/></a></p>
<p dir="auto">Still some stuff to iron out but we&#39;ve now got this working with no offline shader compilation needed! Once we&#39;ve taken care of all the FNA3D TODOs/FIXMEs we&#39;ll start cleaning up the SDL side next, and that should set the stage for porting to D3D12/Metal. I believe we have a test program ported from Ryan&#39;s draft as well, it just hasn&#39;t been added to this repo yet.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c542D7f">
  
      
<div data-gid="IC_kwDOE6uI4c542D7f" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c542D7f/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2027437791">

    <div data-body-version="023a62ec86cd10b094a8c7c76f9f3994fd6f590b4a1f342ec28a4514b7690115">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Activity on this will probably calm down over the weekend, so the code shouldn&#39;t move too much if anyone&#39;s waiting to review this... in the meantime, here&#39;s the current revision booting up Streets of Rage 4 (with some bugs on our end, but still!)</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/1396814/318091600-2d9915be-06eb-42c8-aca9-a23dfc1fb5eb.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUwMTMyOTcsIm5iZiI6MTcyNTAxMjk5NywicGF0aCI6Ii8xMzk2ODE0LzMxODA5MTYwMC0yZDk5MTViZS0wNmViLTQyYzgtYWNhOS1hMjNkZmMxZmI1ZWIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDgzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA4MzBUMTAxNjM3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NDFiNmQ1MTU3NDkwNmJhZWMwYjcwMDAxNTM0YWJkNDQ5ZWU1ZjE2NDkxNGEwMGE5M2JjNjQ1ZGQyYzRmZWRiNSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.RZP3rvvwxXEBVKnkMnSYaHSUdcRY4rO2_PSQxmptHIE"><img src="https://private-user-images.githubusercontent.com/1396814/318091600-2d9915be-06eb-42c8-aca9-a23dfc1fb5eb.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUwMTMyOTcsIm5iZiI6MTcyNTAxMjk5NywicGF0aCI6Ii8xMzk2ODE0LzMxODA5MTYwMC0yZDk5MTViZS0wNmViLTQyYzgtYWNhOS1hMjNkZmMxZmI1ZWIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDgzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA4MzBUMTAxNjM3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NDFiNmQ1MTU3NDkwNmJhZWMwYjcwMDAxNTM0YWJkNDQ5ZWU1ZjE2NDkxNGEwMGE5M2JjNjQ1ZGQyYzRmZWRiNSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.RZP3rvvwxXEBVKnkMnSYaHSUdcRY4rO2_PSQxmptHIE" alt="image"/></a></p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c542Gwf">
  
      
<div data-gid="IC_kwDOE6uI4c542Gwf" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c542Gwf/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2027449375">

    <div data-body-version="4fa5cf71388e9479d9cc2e06b23f1fa02cbd1503793f776ab1b6487fd6107efc">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">The main thing I want to look at is streamlining the various WriteOptions. I&#39;ll look into that and writing up SDL-style doc comments on the header next week.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      

      <div data-gid="IC_kwDOE6uI4c55B0r2">
  
      
<div data-gid="IC_kwDOE6uI4c55B0r2" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c55B0r2/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2030521078">

    <div data-body-version="42e6c8e7a3ed89000579a40bf1b8855ea67caa05a256a1b8842acee8ca0e56dd">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Latest push gets Wizorb running on Metal! We&#39;re still pushing forward via FNA3D but if anyone is interested in looking at Metal/D3D12 support in particular, please get in touch.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      

      <div data-gid="IC_kwDOE6uI4c55gtPb">
  
      
<div data-gid="IC_kwDOE6uI4c55gtPb" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c55gtPb/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2038617051">

    <div data-body-version="a6a9feeac48dd95aba3055efef6f576edeab51dec2b37b3c1280884f004f94ac">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Latest push gets in-game for a good chunk of our trace database - for fun, here&#39;s Celeste:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/1396814/319824821-7ee61921-7e5a-4700-a3d9-e4fb06d35dcc.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUwMTMyOTcsIm5iZiI6MTcyNTAxMjk5NywicGF0aCI6Ii8xMzk2ODE0LzMxOTgyNDgyMS03ZWU2MTkyMS03ZTVhLTQ3MDAtYTNkOS1lNGZiMDZkMzVkY2MucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDgzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA4MzBUMTAxNjM3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NzFjZDgxN2RhMjFmNWIzNWYyN2MxNGJhZjgzYmU1Y2ExNDc5YTIwZWFiOGYzMmM1NTEwZmE1ZjFiNmQwNDk5OSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.BuSzFVXsf1EbOxSBmsEt62dVCAZJ8pa6k8S279zTgFE"><img src="https://private-user-images.githubusercontent.com/1396814/319824821-7ee61921-7e5a-4700-a3d9-e4fb06d35dcc.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUwMTMyOTcsIm5iZiI6MTcyNTAxMjk5NywicGF0aCI6Ii8xMzk2ODE0LzMxOTgyNDgyMS03ZWU2MTkyMS03ZTVhLTQ3MDAtYTNkOS1lNGZiMDZkMzVkY2MucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDgzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA4MzBUMTAxNjM3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NzFjZDgxN2RhMjFmNWIzNWYyN2MxNGJhZjgzYmU1Y2ExNDc5YTIwZWFiOGYzMmM1NTEwZmE1ZjFiNmQwNDk5OSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.BuSzFVXsf1EbOxSBmsEt62dVCAZJ8pa6k8S279zTgFE" alt="image"/></a></p>
<p dir="auto">Interestingly enough, the one component that&#39;s actually pretty close to done is the shader system; at this point I&#39;m really happy with how the MojoShader implementation turned out and it shows a good example of supporting shaders without necessarily needing an SDLSL first:</p>
<p dir="auto"><a href="https://github.com/FNA-XNA/FNA3D/blob/sdl_gpu/src/mojoshader_sdlgpu.c">https://github.com/FNA-XNA/FNA3D/blob/sdl_gpu/src/mojoshader_sdlgpu.c</a></p>
<p dir="auto">There are some remaining features left before we start focusing on the backends, but we&#39;re now pretty much at a point where the overall design is there but may not have the minimum feature set needed just yet (for example, the next push will add hardware instancing support).</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c55pDOE">
  
      
<div data-gid="IC_kwDOE6uI4c55pDOE" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c55pDOE/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2040804228">

    <div data-body-version="4e41738e63c83f61e63f0fda009dee2466c209cf85fdcafc02692c604964b5df">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Instancing and occlusion queries are in, just need to fill those in on Metal. We&#39;ll just keep going through our test cases to ferret out bugs.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      <div data-gid="IC_kwDOE6uI4c55qpFu">
  
      
<div data-gid="IC_kwDOE6uI4c55qpFu" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c55qpFu/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2041221486">

    <div data-body-version="5d55b854a1096cdc0ad392cdfd1d828f1ccaef2db5e33f70a06587dc81d0155e">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Boiled the cycle concept down to a bool and got rid of all the various WriteOption enums. I&#39;ve documented how this works thoroughly in the code now.</p>
<p dir="auto">Right now we&#39;re working on making the shader module creation struct take the respective IR format of each backend so that SDL itself doesn&#39;t have to wrap any shader compilers.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


      


  

        <div data-gid="IC_kwDOE6uI4c6KOnAN">
  
      
<div data-gid="IC_kwDOE6uI4c6KOnAN" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KOnAN/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/ewichuu/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ewichuu"><img src="https://avatars.githubusercontent.com/u/153183212?s=80&amp;v=4" width="40" height="40" alt="@ewichuu"/></a>

</p>


  

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KO1qa">
  
      
<div data-gid="IC_kwDOE6uI4c6KO1qa" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KO1qa/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319145626">

    <div data-body-version="8927e08fc78d6d9d60b5898cb0692d76853e9c1c31970a45e0652ea64a81659e">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Yay! Do you consider this ready to merge?</p>
<p dir="auto">Also, did we settle on Gpu vs GPU? (<a data-hovercard-type="user" data-hovercard-url="/users/icculus/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/icculus">@icculus</a>?)</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="C_kwDOLiHJltoAKGQ0MmZhYjk3Y2Y4MjEwYTRkMThiNDdlMWIzMWE5MzFmYTc4ZTAyMDA">
  
        <div>
  <div>
      <div data-view-component="true">
  
  
  <div data-view-component="true">          <div>
  
    <div>
      <pre>Project Lead: Evan Hemsley &lt;evan@moonside.games&gt;

Co-designer, Metal Port, Console Ports:

Co-authored-by: Caleb Cornett &lt;caleb.cornett@outlook.com&gt;

Production, QA, Debug:

Co-authored-by: Ethan Lee &lt;flibitijibibo@gmail.com&gt;

SDL_Render Driver, Bugfixes:

Co-authored-by: Andrei Alexeyev &lt;akari@taisei-project.org&gt;

Additional D3D12 Programming, Bugfixes:

Co-authored-by: Bart van der Werf &lt;bluelive@gmail.com&gt;

Bugfixes and Feedback:

Co-authored-by: Zakary Strange &lt;zakarystrange@gmail.com&gt;
Co-authored-by: meyraud705 &lt;meyraud705@gmail.com&gt;
Co-authored-by: Joshua T. Fisher &lt;playmer@gmail.com&gt;
Co-authored-by: Topi Ritala &lt;ritalat@fastmail.com&gt;
Co-authored-by: David Gow &lt;david@ingeniumdigital.com&gt;

Original API Proposal:

Co-authored-by: Ryan C. Gordon &lt;icculus@icculus.org&gt;</pre>
    </div>
</div>

</div>
</div>  </div>
</div>


</div>

        

        <div data-gid="IC_kwDOE6uI4c6KO24I">
  
      
<div data-gid="IC_kwDOE6uI4c6KO24I" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KO24I/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2319150600">

    <div data-body-version="775924c68eea51bbd17d1cc76fe0a35ad2420dc081322f5621822571db379df6">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Yay! Do you consider this ready to merge?</p>
<p dir="auto">Also, did we settle on Gpu vs GPU? (<a data-hovercard-type="user" data-hovercard-url="/users/icculus/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/icculus">@icculus</a>?)</p>
</blockquote>
<p dir="auto">At this point we&#39;d be okay with this getting merged; we can send in bugfixes/documentation updates directly to upstream without any trouble.</p>
<p dir="auto">I think Ryan leaned towards Gpu, and we&#39;re not too picky either way. If the namespacing is correct this should be good to go.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KPOaU">
  
      
<div data-gid="IC_kwDOE6uI4c6KPOaU" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KPOaU/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319246996">

    <div data-body-version="feb001230ec5e81387d2743d75faf2126f6def8475e9f5cc2dbe2d1e91fb13ee">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Okay, I&#39;ll merge this and then do a review of the naming and public API</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        

        <div data-gid="IC_kwDOE6uI4c6KPXtG">
  
      
<div data-gid="IC_kwDOE6uI4c6KPXtG" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KPXtG/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319285062">

    <div data-body-version="9dc376c78c7f2e18d90699438c4a385d60ecb1ae6db6d8c435aa96d36623f795">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">It&#39;s merged. Please hold off for a bit with any changes while I review and tweak?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KPdMS">
  
      
<div data-gid="IC_kwDOE6uI4c6KPdMS" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KPdMS/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2319307538">

    <div data-body-version="31f38cdd7158d982967a78564533358704476a02231f5cc7bb8f8483075f2830">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Will do - we&#39;re all going to get some rest now 😅</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        

        <div data-gid="IC_kwDOE6uI4c6KPpJD">
  
      
<div data-gid="IC_kwDOE6uI4c6KPpJD" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KPpJD/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319356483">

    <div data-body-version="2f60b9b0b02eaf17e296edf94b77cd3dd0362d7cc4ce5c5370fd2a5c5418f23e">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">How do you feel about size_t instead of Uint32 for byte sizes in API function signatures?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KPwDw">
  
      
<div data-gid="IC_kwDOE6uI4c6KPwDw" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KPwDw/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2319384816">

    <div data-body-version="1f9a384dc85ef184163c0ac77b082af47f96858c13ec97c9291c0b8ccf7d6262">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Will defer to <a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut">@thatcosmonaut</a> for the backend details but I think we decided against it for most cases, which eventually became all - one that comes to mind is buffers, which <em>could</em> be size_t but then that would probably make simultaneous 32/64-bit compatibility hard if the buffers start to get huge. For places where size_t could apply I could maybe see Uint64 instead...?</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KPwbe">
  
      
<div data-gid="IC_kwDOE6uI4c6KPwbe" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KPwbe/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/icculus/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/icculus"><img src="https://avatars.githubusercontent.com/u/673562?s=80&amp;u=9e664712761fafa45ddca639e358bcec710e4957&amp;v=4" width="40" height="40" alt="@icculus"/></a>

</p>


  <div id="issuecomment-2319386334">

    <div data-body-version="76db3dd75c5a7a153b9a1cee74cf488117c10f865be425af30d4e17c4bbc77cf">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Leave them as Uint32 in the GPU API.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQE_y">
  
      
<div data-gid="IC_kwDOE6uI4c6KQE_y" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQE_y/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/sezero/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sezero"><img src="https://avatars.githubusercontent.com/u/4222725?s=80&amp;v=4" width="40" height="40" alt="@sezero"/></a>

</p>


  <div id="issuecomment-2319470578">

    <div data-body-version="5799d2cdaf0b684efb506cf024db39a3b3ab3d804eaf90575b8e4d9a57842c21">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">In the config files, i.e. include/build_config/SDL_build_config_???.h, things like <code>#define SDL_GPU_VULKAN SDL_VIDEO_VULKAN</code> or <code>#define SDL_GPU_METAL SDL_VIDEO_METAL</code> look like they rely on the right side being defined either as 0 or 1. It will be problem if the right-side macro, e.g. <code>SDL_VIDEO_METAL</code> or <code>SDL_VIDEO_VULKAN</code> is not defined at all.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQOTT">
  
      
<div data-gid="IC_kwDOE6uI4c6KQOTT" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQOTT/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319508691">

    <div data-body-version="a5de80baf9903aedea1153c1d36610dd0aace20408e22660394932d4d4a10f01">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Here are some tweaks for review, they&#39;re all up for discussion by the GPU folks:</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQT4X">
  
      
<div data-gid="IC_kwDOE6uI4c6KQT4X" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQT4X/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/sezero/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sezero"><img src="https://avatars.githubusercontent.com/u/4222725?s=80&amp;v=4" width="40" height="40" alt="@sezero"/></a>

</p>


  <div id="issuecomment-2319531543">

    <div data-body-version="71823f0fda78bd23acc76dbe11b197bb8b5edbb1afdfc0770805f44b4a6c2af2">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">P.S.: Is UTF-8 BOM in gpu src files really necessary?</p>
<div data-snippet-clipboard-copy-content="$ find src/gpu | xargs file | grep BOM
src/gpu/d3d11/SDL_gpu_d3d11.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_sysgpu.h:                    UTF-8 Unicode (with BOM) C program text
src/gpu/d3d12/SDL_gpu_d3d12.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_gpu.c:                       UTF-8 Unicode (with BOM) C program text"><pre><code>$ find src/gpu | xargs file | grep BOM
src/gpu/d3d11/SDL_gpu_d3d11.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_sysgpu.h:                    UTF-8 Unicode (with BOM) C program text
src/gpu/d3d12/SDL_gpu_d3d12.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_gpu.c:                       UTF-8 Unicode (with BOM) C program text
</code></pre></div>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQU-t">
  
      
<div data-gid="IC_kwDOE6uI4c6KQU-t" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQU-t/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319536045">

    <div data-body-version="415481251cb191f2380b04b558c96abebd0d236080211c51c29589158aa23dff">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">In the config files, i.e. include/build_config/SDL_build_config_???.h, things like <code>#define SDL_GPU_VULKAN SDL_VIDEO_VULKAN</code> or <code>#define SDL_GPU_METAL SDL_VIDEO_METAL</code> look like they rely on the right side being defined either as 0 or 1. It will be problem if the right-side macro, e.g. <code>SDL_VIDEO_METAL</code> or <code>SDL_VIDEO_VULKAN</code> is not defined at all.</p>
</blockquote>
<p dir="auto">Fixed in <a data-error-text="Failed to load title" data-id="2495863458" data-permission-text="Title is private" data-url="https://github.com/libsdl-org/SDL/issues/10622" data-hovercard-type="pull_request" data-hovercard-url="/libsdl-org/SDL/pull/10622/hovercard" href="https://github.com/libsdl-org/SDL/pull/10622">#10622</a></p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQVDH">
  
      
<div data-gid="IC_kwDOE6uI4c6KQVDH" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQVDH/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319536327">

    <div data-body-version="c5c5876a37ddb35ad6a77864f5e1890c5962bbaea3fe67cad21a4cc7bfc72d33">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">P.S.: Is UTF-8 BOM in gpu src files really necessary?</p>
<div data-snippet-clipboard-copy-content="$ find src/gpu | xargs file | grep BOM
src/gpu/d3d11/SDL_gpu_d3d11.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_sysgpu.h:                    UTF-8 Unicode (with BOM) C program text
src/gpu/d3d12/SDL_gpu_d3d12.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_gpu.c:                       UTF-8 Unicode (with BOM) C program text"><pre><code>$ find src/gpu | xargs file | grep BOM
src/gpu/d3d11/SDL_gpu_d3d11.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_sysgpu.h:                    UTF-8 Unicode (with BOM) C program text
src/gpu/d3d12/SDL_gpu_d3d12.c:           UTF-8 Unicode (with BOM) C program text
src/gpu/SDL_gpu.c:                       UTF-8 Unicode (with BOM) C program text
</code></pre></div>
</blockquote>
<p dir="auto">Fixed in <a data-error-text="Failed to load title" data-id="2495863458" data-permission-text="Title is private" data-url="https://github.com/libsdl-org/SDL/issues/10622" data-hovercard-type="pull_request" data-hovercard-url="/libsdl-org/SDL/pull/10622/hovercard" href="https://github.com/libsdl-org/SDL/pull/10622">#10622</a></p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQVXd">
  
      
<div data-gid="IC_kwDOE6uI4c6KQVXd" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQVXd/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319537629">

    <div data-body-version="70d5ea531e6bea9d644386a454354d9a179ae4e77ae8e72fa87248ed8d35ad13">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I&#39;m going to go ahead and merge my tweaks so people trying out the beta get the new function names. Please let me know if you disagree with any of the changes.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQYiP">
  
      
<div data-gid="IC_kwDOE6uI4c6KQYiP" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQYiP/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319550607">

    <div data-body-version="8c57fba7fc7688e038be03836e2e4f7404d6350fe914861dc84fa2921739f9d6">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">FYI, D3D12_ClaimWindow() always sets up the swap chain with vsync, so things like testsprite are unexpectedly running at 60 FPS.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQa6n">
  
      
<div data-gid="IC_kwDOE6uI4c6KQa6n" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQa6n/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/sezero/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sezero"><img src="https://avatars.githubusercontent.com/u/4222725?s=80&amp;v=4" width="40" height="40" alt="@sezero"/></a>

</p>


  <div id="issuecomment-2319560359">

    <div data-body-version="55717b9dada6e75e3a96d735411b2caad2a7d4ea891f99b6a415ebf1d3101449">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<blockquote>
<p dir="auto">P.S.: Is UTF-8 BOM in gpu src files really necessary?</p>
</blockquote>
<p dir="auto">Fixed in <a data-error-text="Failed to load title" data-id="2495863458" data-permission-text="Title is private" data-url="https://github.com/libsdl-org/SDL/issues/10622" data-hovercard-type="pull_request" data-hovercard-url="/libsdl-org/SDL/pull/10622/hovercard" href="https://github.com/libsdl-org/SDL/pull/10622">#10622</a></p>
</blockquote>
<p dir="auto">include/SDL3/SDL_gpu.h has BOM too (sorry, I seem to have missed it)</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQemp">
  
      
<div data-gid="IC_kwDOE6uI4c6KQemp" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQemp/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2319575465">

    <div data-body-version="e93fcd79848686dda9d45c58164fbcd62003e2c93e694d09fed22c032640cd6a">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">FYI, D3D12_ClaimWindow() always sets up the swap chain with vsync, so things like testsprite are unexpectedly running at 60 FPS.</p>
</blockquote>
<p dir="auto">This is intentional - swapchain queries on most backends require a pre-existing surface to be initialized, so the intended workflow is to claim a window, which sets up a swapchain with the universally supported parameters (SDR and VSYNC) and then query for support and call SetSwapchainParameters if you want something different.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQfRP">
  
      
<div data-gid="IC_kwDOE6uI4c6KQfRP" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQfRP/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Akaricchi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Akaricchi"><img src="https://avatars.githubusercontent.com/u/609016?s=80&amp;u=7cf73f4c312ec9e1ba26cc9bfbf0118a2934114d&amp;v=4" width="40" height="40" alt="@Akaricchi"/></a>

</p>


  <div id="issuecomment-2319578191">

    <div data-body-version="7ea2b572c9e67ceb2f02e803e9ee3adb0303f6da8cc3cb674a61e7e836b5a522">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I&#39;m pretty sure the render driver is calling SetSwapchainParameters after claiming the window… at least it should be. <code>testsprite</code> is definitely not running with vsync for me on Vulkan, for what it&#39;s worth.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQn6A">
  
      
<div data-gid="IC_kwDOE6uI4c6KQn6A" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQn6A/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319613568">

    <div data-body-version="f561610dc59fce2c70a43c433a1ff8b21e1b0d535ac7612194ecaf156b1f19e3">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Yep, I confirmed that it is, but something is still limiting the framerate to 60 FPS in the D3D12 driver.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQoVP">
  
      
<div data-gid="IC_kwDOE6uI4c6KQoVP" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQoVP/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut"><img src="https://avatars.githubusercontent.com/u/2342303?s=80&amp;u=b44079240a88002228772e2624db8222e85332ba&amp;v=4" width="40" height="40" alt="@thatcosmonaut"/></a>

</p>


  <div id="issuecomment-2319615311">

    <div data-body-version="f4f0bc605ed0a5aea750e3db7402dadd36cf4e3b57cd4b165e0e972cd3976c02">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Got it, will investigate.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KQ1pc">
  
      
<div data-gid="IC_kwDOE6uI4c6KQ1pc" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KQ1pc/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319669852">

    <div data-body-version="be174458bd96f21764d67b86b0f9ff302a7b294091ea2f1d25bb9b2b5e197664">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Okay, everything is merged and I&#39;m done partying on your code. Feel free to start merging changes. Please let me know who you&#39;d like to have commit permissions, and I&#39;ll set them up.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KRLxQ">
  
      
<div data-gid="IC_kwDOE6uI4c6KRLxQ" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KRLxQ/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/flibitijibibo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flibitijibibo"><img src="https://avatars.githubusercontent.com/u/1396814?s=80&amp;u=699619f4e1a60abd1cf70f8ad50fb369483683e7&amp;v=4" width="40" height="40" alt="@flibitijibibo"/></a>

</p>


  <div id="issuecomment-2319760464">

    <div data-body-version="a11b49953cdeec59d02c404ec5092faf381e8798cba3acc626a60c9548df6ad6">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Let&#39;s add <a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut">@thatcosmonaut</a>, since chances are good he&#39;ll need to review incoming changes anyhow.</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        <div data-gid="IC_kwDOE6uI4c6KR9UI">
  
      
<div data-gid="IC_kwDOE6uI4c6KR9UI" data-url="/libsdl-org/SDL/comments/IC_kwDOE6uI4c6KR9UI/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/slouken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/slouken"><img src="https://avatars.githubusercontent.com/u/2100061?s=80&amp;u=5f348c6d66417e001962b0bb992e188789d55df6&amp;v=4" width="40" height="40" alt="@slouken"/></a>

</p>


  <div id="issuecomment-2319963400">

    <div data-body-version="17a649b0b712cdff063954fffabbc6ae587674783286153131fe053543d00052">
      


      <div>

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Let&#39;s add <a data-hovercard-type="user" data-hovercard-url="/users/thatcosmonaut/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thatcosmonaut">@thatcosmonaut</a>, since chances are good he&#39;ll need to review incoming changes anyhow.</p>
</blockquote>
<p dir="auto">Added!</p>
      </div>
</task-lists>


        
      </div>

      <!-- '"` --><!-- </textarea></xmp> -->    </div>
</div>

</div>


</div>


        



  <!-- Rendered timeline since 2024-08-30 02:07:17 -->
  



    </div>

    
  </div></div>
  </body>
</html>
