<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://devblogs.microsoft.com/oldnewthing/20241031-00/?p=110443">Original</a>
    <h1>What has case distinction but is neither uppercase nor lowercase?</h1>
    
    <div id="readability-page-1" class="page"><div id="single-wrapper">
    
    <article data-clarity-region="article" id="post-110443">
        <div data-bi-area="body_article" data-bi-id="post_page_body_article">
            <p>If you go exploring the Unicode Standard, you may be surprised to find that there are some characters that have case distinction yet are themselves neither uppercase nor lowercase.</p>
<p>Oooooh, spooky.</p>
<p>In other words, it is a character <var>c</var> with the properties that</p>
<ul>
<li>toUpper(<var>c</var>) ≠ toLower(<var>c</var>), yet</li>
<li><var>c</var> ≠ toUpper(<var>c</var>) and <var>c</var> ≠ toLower(<var>c</var>).</li>
</ul>
<p>Congratulations, you found the mysterious third case: Title case.</p>
<p>There are some Unicode characters that occupy a single code point but represent two graphical symbols packed together. For example, the Unicode character ǳ (U+01F1 LATIN SMALL LETTER DZ), looks like two Unicode characters placed next to each other: dz (U+0064 LATIN SMALL LETTER D followed by U+007A LATIN SMALL LETTER Z).</p>
<p>These diagraphs are characters in the alphabets of some languages, most notably Hungarian. In those languages, the diagraph is considered a separate letter of the alphabet. For example, the first ten letters of the Hungarian alphabet are¹</p>
<table>
<tbody>
<tr>
<td>a</td>
<td>á</td>
<td>b</td>
<td>c</td>
<td>cs</td>
<td>d</td>
<td>dz</td>
<td>dzs</td>
<td>e</td>
<td>é</td>
</tr>
</tbody>
</table>
<p>These digraphs (and one trigraph) have three forms.</p>
<table>
<tbody>
<tr>
<th>Form</th>
<th>Result</th>
</tr>
<tr>
<td>Uppercase</td>
<td>Ǳ</td>
</tr>
<tr>
<td>Title case</td>
<td>ǲ</td>
</tr>
<tr>
<td>Lowercase</td>
<td>ǳ</td>
</tr>
</tbody>
</table>
<p>Unicode includes four diagraphs in its encoding.</p>
<table>
<tbody>
<tr>
<th>Uppercase</th>
<th>Title case</th>
<th>Lowercase</th>
</tr>
<tr>
<td>Ǆ</td>
<td>ǅ</td>
<td>ǆ</td>
</tr>
<tr>
<td>Ǉ</td>
<td>ǈ</td>
<td>ǉ</td>
</tr>
<tr>
<td>Ǌ</td>
<td>ǋ</td>
<td>ǌ</td>
</tr>
<tr>
<td>Ǳ</td>
<td>ǲ</td>
<td>ǳ</td>
</tr>
</tbody>
</table>
<p>But wait, we have a Unicode code point for the dz digraph, but we don’t have one for the cs digraph or the dzs trigraph. What’s so special about dz?</p>
<p>These digraphs owe their existence in Unicode not to Hungarian but to Serbo-Croatian. Serbo-Croatian is written in both Latin script (Croatian) and Cyrillic script (Serbian), and these digraphs permit one-to-one transliteration between them.¹</p>
<p>Just another situation where the world is more complicated than you think. You thought you understood uppercase and lowercase, but there’s another case in between that you didn’t know about.</p>
<p><b>Bonus chatter</b>: The fact that dz is treated as a single letter in Hungarian means that if you search for “mad”, it should not match “<span lang="hu">madzag</span>” (which means “string”) because the “dz” in “<span lang="hu">madzag</span>” is a single letter and not a “d” followed by a “z”, no more than “lav” should match “law” just because the first part of the letter “w” looks like a “v”. Another surprising result if you mistakenly use a literal substring search rather than a locale-sensitive one. We’ll look at locale-sensitive substrings searches next time.</p>
<p>¹ I got this information from the Unicode Standard, Version 15.0, <a href="https://www.unicode.org/versions/Unicode15.0.0/ch07.pdf"> Chapter 7</a>: “Europe I”, Section 7.1: “Latin”, subsection “Latin Extended-B: U+0180-U+024F”, sub-subsection “Croatian Digraphs Matching Serbian Cyrillic Letters.”</p>
        </div><!-- .entry-content -->

        <!-- AI Disclaimer -->
            </article>
    
</div></div>
  </body>
</html>
