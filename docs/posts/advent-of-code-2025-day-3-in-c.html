<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hamy.xyz/blog/2025-12_aoc-2025-day-3-csharp">Original</a>
    <h1>Advent of Code 2025 Day 3 in C#</h1>
    
    <div id="readability-page-1" class="page"><p>DISCLOSURE: If you buy through affiliate links, I may earn a small commission. <a href="https://tailscale.com/blog/disclosures">(disclosures)</a></p><div><p>In this post we&#39;ll walk through my solutions to AOC 2025 Day 3 in C#.</p>
<h2 id="part-1">Part 1</h2>
<p>I&#39;m trying more for a functionalish approach but some of these calcs just didn&#39;t have a great way to chain so I fell back to some imperative.</p>
<pre><code>/* 
Part 1: 
* Battery joltage in a line
Goal: 
* Find the max joltage of each battery
    * Largest number made by two digits in the line
* Sum them

Subproblems: 
* A: How to find max of each battery line
    * 1: Find max number in 0, n-1 then find first version of that, then biggest to right O(3*length*n)
        * Works cause find most important digit first
*/
public static long Day3Part1(string[] lines)
{
    return lines.Aggregate(0, (acc, line) =&gt;
    {
        var largestDigit = line.Substring(0, line.Length - 1).Max();
        var firstIndexOfLargestDigit = line.IndexOf(largestDigit);
        var secondDigit = line.Substring(firstIndexOfLargestDigit + 1, line.Length - firstIndexOfLargestDigit - 1).Max();

        var batteryJoltage = int.Parse($&#34;{largestDigit}{secondDigit}&#34;);

        return acc + batteryJoltage;
    });
}
</code></pre>
<h2 id="part-2">Part 2</h2>
<pre><code>/*
Part 2: 
* Same as part 1 but batteries are made of 12 now

Subproblems: 
* A: Finding the battery joltage
    * 1: Keep track of the spaces available, look for max in there
        * if length is 15 and we have 12
        * First: Can be between 0 and 3
*/
public static long Day3Part2(string[] lines)
{
    return lines.Aggregate(0L, (acc, line) =&gt;
    {
        return acc + ParseHighestBatteryJoltage12(line);
    });
}

public static long ParseHighestBatteryJoltage12(string joltageString)
{
    var stringLength = joltageString.Length;
    if(stringLength &lt;= 12)
    {
        return int.Parse(joltageString);
    }

    var spotsAvailable = stringLength - 12 + 1;
    var usedIndex = 0;
    var digits = Enumerable.Range(0, 12)
        .Select(i =&gt;
        {
            var searchString = joltageString
                .Substring(usedIndex, spotsAvailable);
            var bestDigit = searchString.Max();
            var bestDigitIndex = searchString.IndexOf(bestDigit);
            spotsAvailable -= bestDigitIndex;
            usedIndex += bestDigitIndex + 1;

            return bestDigit;
        })
        .ToList();

    return digits
        .Pipe(d =&gt; string.Join(&#34;&#34;, d))
        .Pipe(long.Parse);
}
</code></pre>
<h2 id="next">Next</h2>
<p><a href="https://hamy.xyz/blog/haminions">HAMINIONs Members</a> get access to the full source code (<a href="https://github.com/HAMY-LABS/hamy-labs-code-examples/tree/main/csharp/2025-12_csharp-aoc">Github Repo</a>) and that of dozens of other example projects.</p>
<p>If you liked this post you might also like:</p>
<ul>
<li><a href="https://hamy.xyz/tags/advent-of-code">See my previous Advent of Code submissions</a></li>
</ul>
</div></div>
  </body>
</html>
