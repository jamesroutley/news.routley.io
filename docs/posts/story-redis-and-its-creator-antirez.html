<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.brachiosoft.com/redis-en">Original</a>
    <h1>Story: Redis and its creator antirez</h1>
    
    <div id="readability-page-1" class="page"><div id="post-content-parent"><div id="post-content-wrapper"><blockquote>
<p><a target="_blank" href="https://blog.brachiosoft.com/redis">繁體中文版請按這裡</a></p>
</blockquote>
<p>In the world of databases, Redis stands out as unique. Instead of the usual tables or documents that are the central focus of most databases, with Redis, you interact directly with low-level data structures such as linked lists and hash tables.</p>
<p>This is all thanks to the innovative design of Redis creator <a target="_blank" href="http://invece.org">Salvatore Sanfilippo</a>, known online as <em>antirez</em>. A master in system programming, antirez prefers to think in terms of data structures like lists, hashes, and sets. The higher-level data representations, such as tables or documents, just didn&#39;t suit his taste. When creating Redis, antirez was an amateur in the database field. But perhaps it was this lack of experience that allowed him to bring fresh ideas to the industry.</p>
<p>Today, Redis has become mainstream, with its footprint visible in nearly all web services. According to Stack Overflow&#39;s <a target="_blank" href="https://insights.stackoverflow.com/survey/2021#most-loved-dreaded-and-wanted-database-love-dread">surveys</a>, Redis has been the most beloved database for five consecutive years.</p>
<h2 id="heading-antirezs-early-life">antirez&#39;s early life</h2>
<p>Growing up in Sicily, Italy, antirez&#39;s father was an electrician at a petrochemical company, where he dealt with industrial automation problems. In the 80s, his father started working with <a target="_blank" href="https://en.wikipedia.org/wiki/Programmable_logic_controller">programmable logic controllers</a> (PLCs), and his interest in these controllers led him to purchase a <a target="_blank" href="https://en.wikipedia.org/wiki/Zilog_Z80">Z80</a> processor board and start programming on it.</p>
<p>When antirez was six, his family got their first personal computer, a TI99/4A. While it wasn&#39;t commercially successful, it was an interesting machine. His father would write some BASIC programs on it, and antirez quickly followed suit, learning to type and copy BASIC programs by the time he was in first grade.</p>
<p>As he grew older, antirez continued programming. However, by the age of 14, typical teenage interests like motorcycles and girls began to take over, and programming took a back seat. It wasn&#39;t until he was 18 or 19 that he rediscovered his passion for computers, playing with 3D modeling and games, and writing simple programs. While studying architecture at the University of Palermo, he used BASIC for drawing, the only programming language he knew from his childhood.</p>
<h2 id="heading-seclab">SECLAB</h2>
<p>One day, antirez wanted to buy a graphics card but mistakenly purchased a modem instead. When the retailer refused a refund, he just went with it, saying, &#34;Well, I guess it&#39;s a modem then!&#34; It was the 90s, and the internet was becoming a thing. He got online, installed Linux, and began taking an interest in information security. He bought a book on the C programming language and started learning. Before long, he discovered a vulnerability in the ping program.</p>
<p>The vulnerability was this: Unix typically has a restriction that if you&#39;re not root, you can&#39;t quickly send a large number of packets in a short period. But antirez found a way to bypass this restriction using Unix signals.</p>
<p>He posted his findings on the Bugtraq mailing list in <a target="_blank" href="https://seclists.org/bugtraq/1998/May/139">April 1998</a>. Bugtraq was a mailing list about cybersecurity, where security experts from around the world would publish security issues. The next day, antirez got a long-distance call from Milan; a cybersecurity company named SECLAB wanted him to work for them.</p>
<p>Surprised, antirez responded, &#34;But I&#39;m just an architecture student. I don&#39;t know anything.&#34; But the owner of SECLAB still encouraged him to come to Milan for a chat. After meeting with them, the owner told antirez, &#34;Go on with your life, but read these ten books and then come back to me.&#34; The books were all about networking, like TCP/IP protocols, firewalls, application security, and cryptography. So, in the summer of 1998, antirez spent his days on the shores of Sicily reading these books.</p>
<p>In September, antirez returned to SECLAB, who wanted to hire him. He took a break from university and moved to Milan for work. During his first meeting, he couldn&#39;t understand a thing his colleagues were saying, and he felt like a complete impostor. Some of Italy&#39;s best hackers worked at SECLAB at the time. antirez began to contribute after two months of immersion.</p>
<p>First, antirez invented an attack called <a target="_blank" href="https://nmap.org/book/idlescan.html">Idle Scan</a>, which is still one of the famous attacks in Nmap and is still being studied. The owner of SECLAB saw more value in antirez&#39;s contributions to the open-source community than in dealing with clients, so he was encouraged to focus on writing open-source software and researching cyber attacks.</p>
<p>Additionally, antirez created a tool called <a target="_blank" href="https://github.com/antirez/hping">hping</a>, a command-line tool that lets you send custom TCP/IP packets. It served a similar purpose to ping but didn&#39;t have to follow the ICMP protocol like ping, so hping could do more, such as testing firewall rules, testing network performance, and transmitting files past firewalls.</p>
<p>After six months at SECLAB, antirez left. He had begun to stay up late and arrive late to work. Milan, a bustling city, was a bit too tempting for a 21-year-old, and it was easy to lose oneself without good self-discipline. Even though his time there was brief, antirez wrote a lot of C programs and participated in many projects during those six months, marking a significant turning point in his career.</p>
<h2 id="heading-starting-merzia-his-own-company">Starting Merzia, his own company</h2>
<p>In 2000, antirez joined <a target="_blank" href="https://en.wikipedia.org/wiki/Linuxcare">Linuxcare</a> Italia, a company dealing with open-source software. He was able to work remotely from home, and everything was going great until the dot-com bubble burst. One day, the company sent an email to its employees, essentially saying, &#34;We&#39;re shutting down operations in 18 countries, and in a month, you&#39;re all going to be out of a job. Good night.&#34;</p>
<p>In 2001, at the age of 23 and with a child to support, antirez needed to find a way to make ends meet. He began writing PHP, taking care of both front-end and back-end development, and working on small projects for clients.</p>
<p>2005 was the dawn of Web 2.0, and he and his friend Fabio Pitrola founded a company named <a target="_blank" href="http://web.archive.org/web/20060615193829/http://merzia.com/">Merzia</a>, aiming to create Web 2.0 applications for the Italian market. Telecom Italia, the major Italian telecommunication company, saw what they were doing and reached out to establish a collaborative relationship. Telecom Italia eventually bought two websites they developed: <a target="_blank" href="http://web.archive.org/web/20060718133543/http://oknotizie.alice.it/">OKNOtizie</a>, a social news site, and <a target="_blank" href="http://web.archive.org/web/20060701084712/http://segnalo.alice.it/">Segnalo</a>, a bookmarking website similar to Delicious.</p>
<h2 id="heading-the-birth-of-lloogg-and-redis">The birth of LLOOGG and Redis</h2>
<p>A few years later, antirez and his friend decided to focus on a new field: web analytics. They aimed to create a tool for bloggers that would allow them to monitor their visitors&#39; real-time behavior. For example, a visitor clicks on an article from Google, returns to the homepage, and then navigates to a specific page. This information could help bloggers improve the design and navigation of their websites. This tool was called <a target="_blank" href="http://web.archive.org/web/20070217082339/http://lloogg.com/">LLOOGG</a>, and its home page contained a few lines that highlighted how it differed from Google Analytics.</p>
<p>What set LLOOGG apart was its ability to let website administrators track a visitor&#39;s real-time activity on their site. Google Analytics didn&#39;t introduce this feature until 2011, yet LLOOGG was launched in 2007, demonstrating its innovation.</p>


<p>At first, antirez tried to use MySQL, but soon ran into performance issues. Every time MySQL read or wrote data, it had to access the hard drive. As the data volume grew, operations became bottlenecked by hard drive read/write speeds, causing the website to grind to a halt. From a modern perspective, an experienced backend engineer would tell you not to use MySQL for real-time applications, but this was not so obvious back in 2007.</p>
<p>antirez believed that using memory could solve this issue, so he wrote a prototype of a memory database in the <a target="_blank" href="https://en.wikipedia.org/wiki/Tcl">Tcl</a> programming language. Named <a target="_blank" href="https://gist.github.com/antirez/6ca04dd191bdb82aad9fb241013e88a8">LMDB</a> (LLOOGG Memory Database), this was the precursor to Redis. The source code was just over 300 lines long, but it was enough to give you a good idea of what Redis would come to be.</p>
<p>Firstly, the prototype already supported <a target="_blank" href="https://gist.github.com/antirez/6ca04dd191bdb82aad9fb241013e88a8#file-lmdb-tcl-L135-L142">basic commands</a> like SET, GET, LPUSH, RPUSH, and so on. Two data types were supported: strings and lists. Moreover, the communication protocol between the server and the client was the same one used by Redis v1. It was designed to be human-readable and fast to parse.</p>
<p>Redis&#39; default port number, 6379, was in the <a target="_blank" href="https://gist.github.com/antirez/6ca04dd191bdb82aad9fb241013e88a8#file-lmdb-tcl-L314">Tcl source code</a> too. It has an interesting backstory. On a phone keyboard, 6379 is MERZ. It&#39;s a term inspired by <a target="_blank" href="https://en.wikipedia.org/wiki/Alessia_Merz">Alessia Merz</a>, an Italian showgirl. Alessia&#39;s amusing comments on TV often entertained antirez and his friends. Among friends, they would describe something silly or meaningless by saying &#34;that&#39;s merz!&#34; Over a decade or so, the term &#34;merz&#34; gradually evolved among their circle to describe something that seemed foolish but had technical hack value. This probably also explains the origin of their company name, Merzia.</p>
<p>In the first few lines of the Tcl source code, antirez imported a package but didn&#39;t use it, leaving only a comment, <a target="_blank" href="https://gist.github.com/antirez/6ca04dd191bdb82aad9fb241013e88a8#file-lmdb-tcl-L17"><code># For [fork]</code></a>. He wanted to use the <a target="_blank" href="https://man7.org/linux/man-pages/man2/fork.2.html"><code>fork()</code></a> system call for data persistence, a mechanism to write data back to the hard drive. This is still how Redis RDB works to this day: <code>fork()</code> creates a child process that writes data to the disk, while the parent process continues with its original tasks. The Tcl source code didn&#39;t really use <code>fork()</code>, antirez just left a comment there. That was the time he realized that Tcl had reached its limits and <a target="_blank" href="https://man7.org/linux/man-pages/man2/fork.2.html">it was time to rewrite it in C</a>.</p>
<p>In February 2009, antirez&#39;s friend David Welton helped him <a target="_blank" href="https://news.ycombinator.com/item?id=494649">share Redis to the world</a> on Hacker News. The response was pretty muted; apart from David, only four people responded. Three of them said there were already similar projects out there, and only <strong>one</strong> person responded positively and offered to help. That person was Ezra Zygmuntowicz (who was unfortunately deceased in 2014 RIP), who was already quite famous in the Ruby on Rails community and was a co-founder of EngineYard. Ezra wrote the initial version of the Ruby client for Redis, <a target="_blank" href="https://github.com/ezmobius/redis-rb/tree/master">redis-rb</a>, which remains the go-to Ruby client to this day. And redis-rb played a key role in making Redis popular in the Ruby community.</p>
<p>Over five years, Redis handled two billion page views for LLOOGG. When the site was shut down in 2014, Redis was processing 350-400 commands per second. And all of this was running on a virtual machine that cost just $150 a month.</p>
<h2 id="heading-early-adoption-of-github-instagram-and-twitter">Early adoption of GitHub, Instagram, and Twitter</h2>
<p>Despite the muted response on Hacker News, antirez continued to develop Redis outside of his day job. This went on for about a year, gradually attracting users.</p>
<p>At the time, he had two other open-source projects: hping and the <a target="_blank" href="https://github.com/antirez/Jim">Jim Interpreter</a>, but Redis was the first one he felt was worth long-term investment. After losing interest in cybersecurity, he stopped developing hping. Disillusioned with the direction of Tcl and embracing Ruby, he stopped working on the Jim Interpreter. But he was sure he couldn&#39;t live without databases, so he assumed Redis would be a success and continued its development. Even if it didn&#39;t succeed, he knew he&#39;d be using it for years to come.</p>
<p>In 2009, the same year Redis was published, Chris Wanstrath, the CEO of a startup called GitHub, used Redis to build a job queue system named <a target="_blank" href="https://github.blog/2009-11-03-introducing-resque/">Resque</a> for running GitHub&#39;s background tasks. In the Rails world, Resque was the most popular job queue system at the time. A successor, <a target="_blank" href="https://sidekiq.org">Sidekiq</a>, which emerged in 2012 and was also built on Redis, is now the top choice for Rails application developers.</p>
<p>Another startup, Instagram, began to get in touch with antirez in 2010. In those emails, one of its co-founders, Mike Krieger, discussed how to use Redis to build Instagram. Both Instagram and Redis were just getting started, and Mike and antirez didn&#39;t know each other. Instagram was <a target="_blank" href="https://instagram-engineering.com/storing-hundreds-of-millions-of-simple-key-value-pairs-in-redis-1091ae80f74c">entirely built on Redis</a> in its early years, so without Redis, Instagram might not have existed, or at least would have been delayed.</p>
<p>In 2010, Twitter also joined the ranks of Redis users. Twitter&#39;s key feature, the &#34;timeline&#34;, is powered by Redis. Interestingly, not long after Redis was launched (<a target="_blank" href="https://groups.google.com/g/redis-db/c/u3JbFnJHGj0">in March 2009</a>), antirez built a Twitter clone called <a target="_blank" href="https://github.com/antirez/retwis">Retwis</a> to showcase a Redis application.</p>

<p>For about a year, Redis was nothing more than a hobby project for antirez. He improved it and released new versions without being paid, until one day he received a call from VMware.</p>
<p>&#34;We&#39;d like to financially support Redis,&#34; they said. &#34;We have an office in Italy and we&#39;d like to hire you. Would you like to be our employee?&#34; When antirez asked what he would need to do for them, they reassured him, &#34;No, no, no, you just continue what you&#39;re currently doing and we&#39;ll pay you. All you need to do is mention on your website that Redis is sponsored by VMware.&#34;</p>
<p><img loading="lazy" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1683280834606/56414327-0346-460d-ad34-2c6340719d16.png?auto=compress,format&amp;format=webp" alt="redis.io 2010-11-27 的擷圖"/></p>
<p>So just like that, Redis got its first major sponsor. antirez worked with VMware on Redis for several years. When VMware later split with Pivotal, he moved to Pivotal.</p>
<p>As Redis gained more users, the first wave of companies offering Redis consulting services emerged. Among them was a company from Tel Aviv, Israel, called Redis Labs. Originally named Garantia Data and started as a database supplier, the company later renamed itself to Redis Labs and shifted its focus to Redis-related business.</p>
<p>Pivotal and Redis Labs shared a common investor who one day suggested to antirez, &#34;What are you doing at VMware? Go to Redis Labs. That&#39;s where your product&#39;s support center is.&#34; Consequently, antirez moved to Redis Labs, where he has been working ever since. In August 2021, Redis Labs officially changed its name to Redis, turning the project&#39;s website, <a target="_blank" href="https://redis.io">redis.io</a>, into the company&#39;s website.</p>
<h2 id="heading-ten-years-later">Ten years later</h2>
<p>Ten years after Redis was born, in January 2020, antirez stood on the stage at a Redis Day conference, <a target="_blank" href="https://www.youtube.com/watch?v=qgW1O129oDc">introducing</a> the new features of Redis 6.0 with his signature Italian-accented English. On <a target="_blank" href="https://twitter.com/search?q=redisday%20antirez%20until%3A2020-02-10%20since%3A2020-01-10&amp;src=recent_search_click&amp;f=live">Twitter</a>, you can find some pictures of attendees with antirez on that day.</p>
<p>Look back on the growth of Redis over these ten years:</p>
<div>
<table>
<thead>
<tr>
<td>Time</td><td>Version</td><td>New features</td></tr>
</thead>
<tbody>
<tr>
<td>Feb 2009</td><td>？</td><td>Strings, lists</td></tr>
<tr>
<td>Sep 2009</td><td>1.0</td><td>Sets, sorted sets, persistence (RDB, AOF), ...</td></tr>
<tr>
<td>Sep 2010</td><td>2.0</td><td>Hashes, pub/sub, bitmaps, Lua scripting, HyperLogLog, ...</td></tr>
<tr>
<td>Apr 2015</td><td>3.0</td><td>Clusters, geospatial indexes</td></tr>
<tr>
<td>Jul 2017</td><td>4.0</td><td>Modules: RediSearch, RedisJSON, RedisGraph, ...</td></tr>
<tr>
<td>Oct 2018</td><td>5.0</td><td>Streams</td></tr>
<tr>
<td>Jan 2020</td><td>6.0</td><td>SSL、ACL, ...</td></tr>
</tbody>
</table>
</div><p>In June of the same year, antirez wrote a <a target="_blank" href="http://antirez.com/news/133">blog post</a> saying that he had decided to step down from his role as the developer and maintainer of the Redis project. Although he would continue to serve as a consultant for Redis Labs, offering advice, he would no longer be directly involved in development. Over a decade of devotion to the same project had left antirez feeling burned out.</p>
<p>For antirez, programming was a way to express himself, a form of art. Every character and line break had to be meticulously crafted, akin to the art form of writing. Software development was like writing a book — it had to be beautiful, elegant, and easy to comprehend. If that software happened to be useful to others, that was just a side effect.</p>
<p>Of course, antirez understood that this idea wasn&#39;t practical. When your software is adopted on a large scale, you have to make many compromises that might render your software less than perfect, but more useful for people. Maintaining Redis became increasingly challenging, leaving him torn between art and utility. This struggle left antirez feeling exhausted and under pressure, yearning to return to his identity as an artist and create pure programming art.</p>
<p>After leaving the Redis project, antirez wrote a science fiction about artificial intelligence called <a target="_blank" href="https://www.amazon.com/Wohpe-English-Rimmel-Salvatore-Sanfilippo-ebook/dp/B0BQ3HRDPF/ref=sr_1_1?crid=1CVDSRYCMNO7I&amp;keywords=Wohpe&amp;qid=1683558437&amp;sprefix=wohpe%2Caps%2C245&amp;sr=8-1">Wohpe</a>, which was published in July 2022. In April of the same year, the Redis team released version 7.0. And that was the first major version since antirez left the project.</p>
<h2 id="heading-references">References</h2>
<ol>
<li><p><a target="_blank" href="https://www.youtube.com/watch?v=GgT6rXytKds">#storiedidevelopers - Salvatore Sanfilippo aka Antirez - YouTube</a></p>
</li>
<li><p><a target="_blank" href="https://www.youtube.com/watch?v=BBuifhInz7A">L’open source è un fiume in piena | Salvatore Sanfilippo | TEDxCapoPeloro - YouTube</a></p>
</li>
<li><p><a target="_blank" href="http://oldblog.antirez.com/post/cv.html">Curriculum Vitae - antirez weblog</a></p>
</li>
<li><p><a target="_blank" href="https://thenewstack.io/open-source-builders-how-redis-upended-the-database-market/">Open Source Builders: How Redis Upended the Database Market - The News Stack</a></p>
</li>
<li><p><a target="_blank" href="https://www.youtube.com/watch?v=rQNn5i6kiAA">The Evolution of Redis - YouTube</a></p>
</li>
<li><p><a target="_blank" href="https://seclists.org/bugtraq/1998/May/139">Bugtraq: pingflood.c</a></p>
</li>
<li><p><a target="_blank" href="https://nmap.org/book/idlescan.html">TCP Idle Scan (-sI) | Nmap Network Scanning</a></p>
</li>
<li><p><a target="_blank" href="https://www.zhihu.com/column/p/31213222">深入浅出Redis - 知乎</a></p>
</li>
<li><p><a target="_blank" href="https://gist.github.com/antirez/6ca04dd191bdb82aad9fb241013e88a8">LMDB -- First version of Redis written in Tcl</a></p>
</li>
<li><p><a target="_blank" href="https://news.ycombinator.com/item?id=14230960">LMDB – First version of Redis written in Tcl | Hacker News</a></p>
</li>
<li><p><a target="_blank" href="https://news.ycombinator.com/item?id=494649">Redis | Hacker News</a></p>
</li>
<li><p><a target="_blank" href="https://redis.com/blog/redis-turns-10/">Redis Turns 10 – How it started with a single post on Hacker News</a></p>
</li>
<li><p><a target="_blank" href="http://oldblog.antirez.com/post/redis-as-LRU-cache.html">Redis as an LRU cache - antirez weblog</a></p>
</li>
<li><p><a target="_blank" href="http://oldblog.antirez.com/post/one-year-of-redis.html">One year of Redis - antirez weblog</a></p>
</li>
<li><p><a target="_blank" href="https://github.blog/2009-11-03-introducing-resque/">Introducing Resque | The GitHub Blog</a></p>
</li>
<li><p><a target="_blank" href="https://instagram-engineering.com/storing-hundreds-of-millions-of-simple-key-value-pairs-in-redis-1091ae80f74c">Storing hundreds of millions of simple key-value pairs in Redis | Instagram Engineering</a></p>
</li>
<li><p><a target="_blank" href="http://kingofgng.com/eng/2014/03/28/lloogg-has-shut-down/">LLOOGG has shut down | Sir Authur&#39;s Den</a></p>
</li>
<li><p><a target="_blank" href="http://antirez.com/news/133">The end of the Redis adventure - &lt;antirez&gt;</a></p>
</li>
<li><p><a target="_blank" href="https://www.youtube.com/watch?v=KfCsgrW2vC0">WOHPE di Salvatore Sanfilippo aka &#34;antirez&#34;: e se una #AI fosse la nostra ultima speranza? - YouTube</a></p>
</li>
</ol>
<h2 id="heading-changelog">Changelog</h2>
<p>After this article was on <a target="_blank" href="https://news.ycombinator.com/item?id=35871462">Hacker News</a>, antirez pointed out some errors in the story. So I&#39;ve made some updates to the article since it was published:</p>
<ul>
<li><p>antirez was <strong>not</strong> fired in Milan. He quit himself to return to Sicily.</p>
</li>
<li><p>His first computer was <a target="_blank" href="https://en.wikipedia.org/wiki/TI-99/4A">TI99/4A</a> instead of Texas Instruments I94A.</p>
</li>
</ul>
</div></div></div>
  </body>
</html>
