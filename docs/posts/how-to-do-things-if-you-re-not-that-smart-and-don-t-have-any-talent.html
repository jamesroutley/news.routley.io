<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://adaobi.substack.com/p/how-to-do-things-if-youre-not-that">Original</a>
    <h1>How to do things if you&#39;re not that smart and don&#39;t have any talent</h1>
    
    <div id="readability-page-1" class="page"><div>
  <p>When I&#39;m looking at pdf files in Emacs, I use <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Document-View.html">=doc-view mode</a>=.</p>

  <p>And usually I&#39;m looking at pdf files because I&#39;m writing a screenplay in <a href="https://fountain.io/">Fountain mode</a>. So I&#39;m making changes to the source file a lot, and the pdf is constantly changing.</p>

  <p>But the pdf in Emacs isn&#39;t changing!</p>

  <p>That is, Emacs has read the file into memory, and displays that memory as a pdf, no matter what has happened to the underlying file. When I change the screenplay, Emacs still shows the pdf as it was when I opened it.</p>

  <p>But we can change that.</p>

  <p><code>
    <pre>(add-hook &#39;doc-view-mode-hook
          (lambda () (when (and buffer-file-name
                                (string-suffix-p &#34;.pdf&#34;
                                                 buffer-file-name))
                       (auto-revert-mode nil))))
    </pre>
  </code></p><p>Here, we use the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Hooks.html">hook</a> for doc-view-mode, so that whenever we turn on <code>doc-view mode</code> for a pdf, we enable <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Auto-Revert.html"><code>auto-revert-mode</code></a>. This mode makes Emacs update the displayed pdf whenever the file changes.</p>
</div></div>
  </body>
</html>
