<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://oeis.org/A005228">Original</a>
    <h1>Sequence and first differences together list all positive numbers exactly once</h1>
    
    <div id="readability-page-1" class="page"><div>
        <div>
            <p>1, 3, 7, 12, 18, 26, 35, 45, 56, 69, 83, 98, 114, 131, 150, 170, 191, 213, 236, 260, 285, 312, 340, 369, 399, 430, 462, 495, 529, 565, 602, 640, 679, 719, 760, 802, 845, 889, 935, 982, 1030, 1079, 1129, 1180, 1232, 1285, 1339, 1394, 1451, 1509, 1568, 1628, 1689</p>
            
                
            
        </div>
    </div><div>
        
            
        
            
        
            
        
            
                 
                 
                 
                 
                     
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>COMMENTS</p>
                         <div>
                             
                                 <p>This is the lexicographically earliest sequence that together with its first differences (<a href="https://oeis.org/A030124" title="Complement (and also first differences) of Hofstadter&#39;s sequence A005228.">A030124</a>) contains every positive integer exactly once.</p>
                             
                                 <p>Hofstadter introduces this sequence in his discussion of Scott Kim&#39;s &#34;FIGURE-FIGURE&#34; drawing. - <a href="https://oeis.org/wiki/User:N._J._A._Sloane">N. J. A. Sloane</a>, May 25 2013</p>
                             
                                 
                             
                                 <p>In view of the definition of <a href="https://oeis.org/A075326" title="Anti-Fibonacci numbers: start with a(0) = 0, and extend by the rule that the next term is the sum of the two smallest number...">A075326</a>: start with a(0) = 0, and extend by rule that the next term is the sum of the predecessor and the most recent non-member of the sequence. - <a href="https://oeis.org/wiki/User:Reinhard_Zumkeller">Reinhard Zumkeller</a>, Oct 26 2014</p>
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>REFERENCES</p>
                         <div>
                             
                                 <p>E. Angelini, &#34;Jeux de suites&#34;, in Dossier Pour La Science, pp. 32-35, Volume 59 (Jeux math&#39;), April/June 2008, Paris.</p>
                             
                                 <p>D. R. Hofstadter, Goedel, Escher, Bach: an Eternal Golden Braid, Random House, 1980, p. 73.</p>
                             
                                 <p>N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence).</p>
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                     
                 
                 
                     <div>
                         <p>LINKS</p>
                         <div>
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 <p>D. R. Hofstadter, <a href="https://oeis.org/A006336/a006336_1.pdf">Eta-Lore</a> [Cached copy, with permission]</p>
                             
                                 <p>D. R. Hofstadter, <a href="https://oeis.org/A006336/a006336_2.pdf">Pi-Mu Sequences</a> [Cached copy, with permission]</p>
                             
                                 
                             
                                 
                             
                                 <p>Clark Kimberling, <a href="https://cs.uwaterloo.ca/journals/JIS/VOL10/Kimberling/kimberling26.html">Complementary Equations</a>, Journal of Integer Sequences, Vol. 10 (2007), Article 07.1.4.</p>
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>FORMULA</p>
                         <div>
                             
                                 <p>a(n) = a(n-1) + c(n-1) for n &gt;= 2, where a(1)=1, a( ) increasing, c( ) = complement of a( ) (c is the sequence <a href="https://oeis.org/A030124" title="Complement (and also first differences) of Hofstadter&#39;s sequence A005228.">A030124</a>).</p>
                             
                                 <p>Let a(n) = this sequence, b(n) = <a href="https://oeis.org/A030124" title="Complement (and also first differences) of Hofstadter&#39;s sequence A005228.">A030124</a> prefixed by 0. Then b(n) = mex{ a(i), b(i) : 0 &lt;= i &lt; n}, a(n) = a(n-1) + b(n) + 1. (Fraenkel)</p>
                             
                                 <p>a(1) = 1, a(2) = 3; a( ) increasing; for n &gt;= 3, if a(q) = a(n-1)-a(n-2)+1 for some q &lt; n then a(n) = a(n-1) + (a(n-1)-a(n-2)+2), otherwise a(n) = a(n-1) + (a(n-1)-a(n-2)+1). - Albert Neumueller (albert.neu(AT)gmail.com), Jul 29 2006</p>
                             
                                 <p>a(n) = n^2/2 + n^(3/2)/(3*sqrt(2)) + O(n^(5/4)) [proved in Jubin link]. - <a href="https://oeis.org/wiki/User:Benoit_Jubin">Benoit Jubin</a>, May 13 2015</p>
                             
                                 <p>For all n &gt;= 1, <a href="https://oeis.org/A232746" title="n occurs A030124(n) times; a(n) = one less than the least k such that A005228(k) &gt; n.">A232746</a>(a(n)) = n and <a href="https://oeis.org/A232747" title="Inverse function to Hofstadter&#39;s A005228.">A232747</a>(a(n)) = n. [Both sequences work as left inverses of this sequence.] - <a href="https://oeis.org/wiki/User:Antti_Karttunen">Antti Karttunen</a>, May 14 2015</p>
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>EXAMPLE</p>
                         <div>
                             
                                 <p>Sequence reads 1 3 7 12 18 26 35 45..., differences are 2 4 5, 6, 8, 9, 10 ... and the point is that every number not in the sequence itself appears among the differences. This property (together with the fact that both the sequence and the sequence of first differences are increasing) defines the sequence!</p>
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>MAPLE</p>
                         <div>
                             
                                 <p>maxn := 5000; h := array(1..5000); h[1] := 1; a := [1]; i := 1; b := []; for n from 2 to 1000 do if h[n] &lt;&gt; 1 then b := [op(b), n]; j := a[i]+n; if j &lt; maxn then a := [op(a), j]; h[j] := 1; i := i+1; fi; fi; od: a; b; # a is <a href="https://oeis.org/A005228" title="Sequence and first differences (A030124) together list all positive numbers exactly once.">A005228</a>, b is <a href="https://oeis.org/A030124" title="Complement (and also first differences) of Hofstadter&#39;s sequence A005228.">A030124</a>.</p>
                             
                                 
                             
                                 <p>    option remember;</p>
                             
                                 <p>    local a, fnd, t ;</p>
                             
                                 <p>    if n &lt;= 1 then</p>
                             
                                 <p>        op(n+1, [2, 4]) ;</p>
                             
                                 <p>    else</p>
                             
                                 <p>        for a from procname(n-1)+1 do</p>
                             
                                 <p>            fnd := false;</p>
                             
                                 <p>            for t from 1 to n+1 do</p>
                             
                                 
                             
                                 <p>                    fnd := true;</p>
                             
                                 <p>                    break;</p>
                             
                                 <p>                end if;</p>
                             
                                 <p>            end do:</p>
                             
                                 <p>            if not fnd then</p>
                             
                                 <p>                return a;</p>
                             
                                 <p>            end if;</p>
                             
                                 <p>        end do:</p>
                             
                                 <p>    end if;</p>
                             
                                 <p>end proc:</p>
                             
                                 
                             
                                 <p>    option remember;</p>
                             
                                 <p>    if n &lt;= 2 then</p>
                             
                                 <p>        op(n, [1, 3]) ;</p>
                             
                                 <p>    else</p>
                             
                                 
                             
                                 <p>    end if;</p>
                             
                                 
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>MATHEMATICA</p>
                         <div>
                             
                                 <p>a = {1}; d = 2; k = 1; Do[ While[ Position[a, d] != {}, d++ ]; k = k + d; d++; a = Append[a, k], {n, 1, 55} ]; a</p>
                             
                                 <p>(* Second program: *)</p>
                             
                                 <p>(* Program from Larry Morris, Jan 19 2017: *)</p>
                             
                                 <p>d = 3; a = {1, 3, 7, 12, 18}; While[ Length[a = Join[a, a[[-1]] + Accumulate[Range[a[[d]] + 1, a[[++d]] - 1]]]] &lt; 50]; a</p>
                             
                                 <p>(* Comment: This adds as many terms to the sequence as there are numbers in each set of sequential differences. Consequently, the list of numbers it produces may be longer than the limit provided. With the limit of 50 shown, the sequence produced has length 60. *)</p>
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>PROG</p>
                         <div>
                             
                                 <p>(Haskell)</p>
                             
                                 <p>import Data.List (delete)</p>
                             
                                 <p>a005228 n = a005228_list !! (n-1)</p>
                             
                                 <p>a005228_list = 1 : figure 1 [2..] where</p>
                             
                                 <p>   figure n (x:xs) = n&#39; : figure n&#39; (delete n&#39; xs) where n&#39; = n + x</p>
                             
                                 
                             
                                 <p>(PARI) <a href="https://oeis.org/A005228" title="Sequence and first differences (A030124) together list all positive numbers exactly once.">A005228</a>(n, print_all=0, s=1, used=0)={while(n--, used += 1&lt;&lt;s; print_all &amp; print1(s&#34;, &#34;); for(k=s+1, 9e9, bittest(used, k) &amp; next; bittest(used, k-s) &amp; next; used += 1&lt;&lt;(k-s); s=k; break)); s} \\ <a href="https://oeis.org/wiki/User:M._F._Hasler">M. F. Hasler</a>, Feb 05 2013</p>
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                     
                 
                 
                 
                     <div>
                         <p>CROSSREFS</p>
                         <div>
                             
                                 
                             
                                 <div><p>The following are a group of related sequences: <a href="https://oeis.org/A005132" title="RecamÃ¡n&#39;s sequence (or Recaman&#39;s sequence): a(0) = 0; for n &gt; 0, a(n) = a(n-1) - n if nonnegative and not already in the se...">A005132</a>, <a href="https://oeis.org/A006509" title="Cald&#39;s sequence: a(n+1) = a(n) - prime(n) if that value is positive and new, otherwise a(n) + prime(n) if new, otherwise 0; ...">A006509</a>, <a href="https://oeis.org/A037257" title="a() = 1,3,... [ A037257 ], differences = 2,... [ A037258 ] and 2nd differences [ A037259 ] are disjoint and monotonic; adjoi...">A037257</a>, <a href="https://oeis.org/A037258" title="First differences of A037257.">A037258</a>, <a href="https://oeis.org/A037259" title="Second differences of A037257.">A037259</a>, <a href="https://oeis.org/A081145" title="a(1)=1; thereafter, a(n) is the least positive integer which has not already occurred and is such that |a(n)-a(n-1)| is diff...">A081145</a>, <a href="https://oeis.org/A093903" title="a(1) = 1; for n &gt; 1, a(n) = a(n-1)-p if there exists a prime p (take the smallest) that has not yet been used and is such th...">A093903</a>, <a href="https://oeis.org/A099004" title="First differences of A081145.">A099004</a>, <a href="https://oeis.org/A100707" title="a(1) = 1; for n &gt; 1, a(n+1)=a(n)-k if there exists a positive number k (take the smallest) that has not yet been used and is...">A100707</a>, <a href="https://oeis.org/A129198" title="Slater-Velez permutation sequence of the 2nd kind.">A129198</a>, <a href="https://oeis.org/A129199" title="Absolute differences of A129198.">A129199</a>, <a href="https://oeis.org/A140778" title="a(n) is the smallest positive integer such that no number occurs twice in the union of the sequence and its absolute first d...">A140778</a>, <a href="https://oeis.org/A225376" title="Construct sequences P,Q,R by the rules: Q = first differences of P, R = second differences of P, P starts with 1,5,11, Q sta...">A225376</a>, <a href="https://oeis.org/A225377" title="Construct sequences P,Q,R by the rules: Q = first differences of P, R = second differences of P, P starts with 1,5,11, Q sta...">A225377</a>, <a href="https://oeis.org/A225378" title="Construct sequences P,Q,R by the rules: Q = first differences of P, R = second differences of P, P starts with 1,5,11, Q sta...">A225378</a>, <a href="https://oeis.org/A225385" title="Construct sequences P,Q,R by the rules: Q = first differences of P, R = second differences of P, P starts with 1,3,9, Q star...">A225385</a>, <a href="https://oeis.org/A225386" title="Construct sequences P,Q,R by the rules: Q = first differences of P, R = second differences of P, P starts with 1,3,9, Q star...">A225386</a>, <a href="https://oeis.org/A225387" title="Construct sequences P,Q,R by the rules: Q = first differences of P, R = second differences of P, P starts with 1,3,9, Q star...">A225387</a>.</p></div>
                             
                                 
                             
                                 
                             
                                 <p>Cf. <a href="https://oeis.org/A001651" title="Numbers not divisible by 3.">A001651</a> (analog with sums instead of differences), <a href="https://oeis.org/A121229" title="Beginning with a(1) = 1 and a(2) = 2, a(n) is not equal to the product of two consecutive (distinct) earlier terms.">A121229</a> (analog with products).</p>
                             
                                 <p>The same recurrence a(n) = a(n-1) + c(n-1) with different starting conditions: <a href="https://oeis.org/A061577" title="Sequence and first differences (A061578) include all numbers.">A061577</a> (starting with 2), <a href="https://oeis.org/A022935" title="a(n) = a(n-1) + c(n-1) for n &gt;= 2, a( ) increasing, given a(1)=3, where c( ) is complement of a( ).">A022935</a> (3), <a href="https://oeis.org/A022936" title="a(n) = a(n-1) + c(n-1) for n &gt;= 2, a( ) increasing, given a(1)=4; where c( ) is complement of a( ).">A022936</a> (4), <a href="https://oeis.org/A022937" title="a(n) = a(n-1) + c(n-1) for n &gt;= 2, a( ) increasing, given a(1)=5; where c( ) is complement of a( ).">A022937</a> (5), <a href="https://oeis.org/A022938" title="a(n) = a(n-1) + c(n-1) for n &gt;= 2, a( ) increasing, given a(1)=6; where c( ) is complement of a( ).">A022938</a> (6).</p>
                             
                                 <p>Related recurrences:</p>
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                                 
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     
                 
            
        
            
                 
                 
                 
                 
                     
                 
            
        
            
                 
                 
                 
                 
                     <div>
                         <p>EXTENSIONS</p>
                         <div>
                             
                                 
                             
                                 <p>Incorrect formula removed by <a href="https://oeis.org/wiki/User:Benoit_Jubin">Benoit Jubin</a>, May 13 2015</p>
                             
                         </div>
                     </div>
                 
            
        
            
                 
                 
                 
                 
                     
                 
            
        

        
    </div></div>
  </body>
</html>
