<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/json_dirs/status/1486120144141123584">Original</a>
    <h1>Elsevier embeds a hash in the PDF metadata that is unique for each download</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-15899" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486120144141123584" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="37" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-25T23:33:47.000Z" itemprop="dateCreated"/><meta content="2022-01-25T23:33:47.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__admvf9qtshj id__6c3zm8v6ili id__mef9ks5bk7 id__oqo254xkxpt id__lbl45bpp78i id__for100vq9j id__bhty8q4rsnf id__hwnd64w92w7 id__8sxkxum7vfm id__j1kygeqsgss id__p2pg8lkga8 id__jp3oht0y9si id__yhv7mjnq3e id__dhjfdlz5797" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__for100vq9j"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>More fun publisher surveillance:
Elsevier embeds a hash in the PDF metadata that is *unique for each time a PDF is downloaded*, this is a diff  between metadata from two of the same paper. Combined with access timestamps, they can uniquely identify the source of any shared PDFs.</span></p></div></div></div><div><div aria-labelledby="id__dvz1p8roc5d id__l1yytaa9lg" id="id__p2pg8lkga8"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." data-testid="tweetPhoto"><p><img alt="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." draggable="true" src="https://pbs.twimg.com/media/FJ-6qy4UYAIFbjw?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486127532076240896" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="5" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:03:09.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:03:09.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="isPartOf"/><div><article aria-labelledby="id__9tue7bwh94s id__9v5bzs3uxq4 id__y1matwm4aal id__cezmqldfjle id__odlxgce557b id__jrme7bh37gg id__j20t9dzdafi id__1b2qjzka5cw id__zr7cqogaald id__wlolz3vwc7 id__en939gfk29 id__bl5s8pinsoo id__yeguf6znobm id__xnexca06nwo" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__jrme7bh37gg"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>You can see for yourself using exiftool. 
To remove all of the top-level metadata, you can use exiftool and qpdf:

exiftool -all:all= &lt;path.pdf&gt; -o &lt;output1.pdf&gt;
qpdf --linearize &lt;output1.pdf&gt; &lt;output2.pdf&gt;

To remove *all* metadata, you can use dangerzone or mat2</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486132349087600642" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:22:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:22:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="isPartOf"/><div><article aria-labelledby="id__bkx63up65y5 id__agy1wys0sjt id__orp6krozyj id__lwqqe6f51r8 id__d4gqlpuzdd5 id__pnk1iy9xqxb id__e922d6k1c8f id__s6fvmc9rp5 id__thieec9tg6 id__q1q8r2y1mrm id__4az6u7iqa5z id__is0sk9ao229 id__zkuq3ao871i id__e1ol9w9oyuo" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__pnk1iy9xqxb"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Also present in the metadata are NISO tags for document status indicating the &#34;final published version&#34; (VoR), and limits on what domains it should be present on. Elsevier scans for PDFs with this metadata, so good idea to strip it any time you&#39;re sharing a copy.</span></p></div></div><div><div aria-labelledby="id__yubch5douge id__mi4ybilw3l8" id="id__4az6u7iqa5z"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." data-testid="tweetPhoto"><p><img alt="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." draggable="true" src="https://pbs.twimg.com/media/FJ_LETGVUAQDtLW?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486133651033055239" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:27:28.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:27:28.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="isPartOf"/><div><article aria-labelledby="id__t7qblig9lg id__05el6kxyno4a id__62o6zsba0c4 id__dxgft7nrhkd id__irouw81fv1c id__jmoiyaeiuf id__i6oegzlr3y id__3zijgtqn8jw id__xaph0f94oc id__2clt965xxj8 id__lhwsjeihvvn id__nej1byursw8 id__eguco0rq1ph id__9gip2iy4ook" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__jmoiyaeiuf"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486166109048868867" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T02:36:26.000Z" itemprop="dateCreated"/><meta content="2022-01-26T02:36:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="isPartOf"/><div><article aria-labelledby="id__fouq97tiqb id__h46m0elkjnr id__3jdks9gxfnd id__epuctet1xol id__54pzl12ih6u id__0b6qvv2qtgk5 id__uluf7mcbujo id__5hyoakh6z3w id__bmx400n9cjr id__xolmiivcnfr id__m0lx4ekmti id__i5j1dm5lb8m id__w0lc3hxe3jl id__gztltcnr826" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__0b6qvv2qtgk5"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__e14biz46ikj id__mysdtaxluuq" id="id__m0lx4ekmti"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" data-testid="tweetPhoto"><p><img alt="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" draggable="true" src="https://pbs.twimg.com/media/FJ_r0xJUYAMhptO?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486188497731948549" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T04:05:24.000Z" itemprop="dateCreated"/><meta content="2022-01-26T04:05:24.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486135162505072641" itemprop="isBasedOn"/><div><article aria-labelledby="id__ehpbx2smrts id__7adillkbbia id__y03rohwh8q id__tmmi1lqdq7 id__m2rrkht8ri id__h2s897wb62 id__b50vpyxfnyo id__ylxq2888r6 id__85fp7j3u84 id__2bpko70vj84 id__b4vbm7rvl14 id__6vjbcj1zup3 id__bwxk6uw66ru id__5ki9p8uri18" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__h2s897wb62"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>The metadata appears to be preserved on papers from sci-hub. since it works by using harvested academic credentials to download papers, this would allow publishers to identify which accounts need to be closed/secured</span></p></div></div><div><div aria-labelledby="id__9tab6l3w9tj id__13d7pjnuszo" id="id__b4vbm7rvl14"><div><div id="id__9tab6l3w9tj"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @AndyPerfors <span>and</span> @ceptional</p><p><span>good question, and unfortunately yes the metadata does seem to be intact on sci-hub. Gently, since we may be on same page, I think the time for being coy is over, and it&#39;s time to start vocally advocating against and actively working to replace the for-profit publication system.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486202422020038658" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:00:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:00:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="isPartOf"/><div><article aria-labelledby="id__m1vag2sqv5 id__zkai9h9168 id__rh3go9jknvc id__zq6f33c9f7 id__x2ac5ea83vg id__c475dziyyoc id__l7lls6htj id__4ir5s0io684 id__bfbs34r3ea8 id__qrqjahs8big id__lk0f5qlahk id__hv9ycik328c id__ztsleu9msw id__rcecxz2t5ts" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__c475dziyyoc"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>for any security researchers out there, here are a few more &#34;hashes&#34; that a few have noted do not appear to be random and might be decodable. exiftool apparently squashed the whitespace so there is a bit more structure to them than in the OP:</span></p></div></div><div><div aria-labelledby="id__maidobbtvb8 id__eqdvp257guw" id="id__lk0f5qlahk"><div><div aria-labelledby="id__2s0t6ouozf3 id__f5m8gud7kmn" id="id__eqdvp257guw" data-testid="card.wrapper"><div aria-hidden="true" id="id__2s0t6ouozf3" data-testid="card.layoutLarge.media"><a href="https://t.co/xf7UTZnc1Z" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1484641123179978753/JRFK7thZ?format=png&amp;name=large"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210223962398725" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:31:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:31:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="isPartOf"/><meta content="https://twitter.com/kmagnacca/status/1486209676979032064" itemprop="isBasedOn"/><div><article aria-labelledby="id__fn07elep8tu id__6odcsugtaqc id__6phoh5pqpgd id__wb58ewixg5l id__ha0ag88tkml id__8511hl8tyrb id__6kjz6thtkk2 id__f7gwt1tz50c id__cew393esj8 id__b89xczrhkhi id__p6hm702gsgs id__gzc7n5nmoac id__hx2ot39guuj id__6c5s377ri3j" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__8511hl8tyrb"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__9qi9gjjkry id__onlxn1dmp19" id="id__p6hm702gsgs"><div><div id="id__9qi9gjjkry"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @json_dirs</p><p><span>I checked with ExifTool and these fields are also in pdfs from BioOne and T&amp;F (and also Pensoft, but not really relevant there), but not Wiley.

Also I only checked one so far, but a BioOne paper from SciHub has the metadata mostly stripped out compared to the version on RG.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210473636757507" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:32:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:32:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="isPartOf"/><meta content="https://twitter.com/SchmiegSophie/status/1486206774159970305" itemprop="isBasedOn"/><div><article aria-labelledby="id__2ohssbe35c9 id__ef659zken1s id__4to1658iz44 id__drok81q9tbh id__3rcd2t4ecsw id__krp24u2k7tp id__4eyw35yq11h id__78nx7bhhkzq id__o2olfgj4k2c id__qbklr26vvwg id__kasvph8hcms id__i8zlfzbussf id__5ao35l7j5dt id__j6gomtjd0h" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__krp24u2k7tp"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__23bh4v8dlin id__5gzvzekglti" id="id__kasvph8hcms"><div><div id="id__23bh4v8dlin"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @karanlyons <span>and</span> @json_dirs</p><p><span>I still think it&#39;s websafe base64 (not standard base64, it&#39;s using - and _ and not + and /), with implicit padding, but these are a lot of tokens, and there is nothing constant between them. It&#39;s certainly a strange way to add a fingerprint, but I don&#39;t believe it&#39;s encrypted</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486270714734792708" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:32:06.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:32:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="isPartOf"/><meta content="https://twitter.com/horsemankukka/status/1486268962119761924" itemprop="isBasedOn"/><div><article aria-labelledby="id__xo2sit7bd2 id__1ljo1cx0y7e id__ewchptqqqt id__7qzuom0pvz id__3runk7755no id__ign1txnrtf id__ra4txf175tr id__73u1zfcefrf id__517g14o0yj8 id__dul5vp3kf1f id__9d5awf83xho id__hrp2qng146 id__gfmdd985qj id__2s1ynpbt9rz" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ign1txnrtf"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>this is the way to get the correct tags:
(on mac i needed to install gnu grep with homebrew `brew install grep` and then use `ggrep` )
will follow up with dataset tomorrow.</span></p></div></div><div><div aria-labelledby="id__bc4s28goak id__4jic00g7djh" id="id__9d5awf83xho"><div><div id="id__bc4s28goak"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka @json_dirs <span>and</span> @SchmiegSophie</p><p><span>1) there are no actual spaces, exiftool inserts them at lowercase-uppercase borders
2) exiftool strips those periods in the tag so looks like `exiftool -b -xmp PDFFILE | grep -oP &#39;&lt;[\w.-]{40,}/&gt;&#39;` is the only way to get the intact tag out</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486274161655771136" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:45:48.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:45:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="isPartOf"/><div><article aria-labelledby="id__tw9b86unv8 id__afy8p6n5xgc id__mppemvwg38 id__704pie4lq6n id__y6blq5l69v id__0zfx6zz8xt4 id__xlc6nbmbui id__px41eo3iys9 id__dz1zq7xpdgu id__s8aafg6omx id__i2saszaygm id__bdn53g5odsh id__h98gsafepmo id__yofd06ape1b" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__0zfx6zz8xt4"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>of course there&#39;s smarter watermarking, the metadata is notable because you could scan billions of pdfs fast. this comment on HN got me thinking about this PDF /OpenAction I couldn&#39;t make sense of earlier, on open, access metadata, so something with sizes and layout...</span></p></div></div><div><div aria-labelledby="id__iijkzfwjf7 id__2vyh5y77cyy" id="id__i2saszaygm"><div><div><div><div><div><div><div><div role="button" tabindex="0"><div><div aria-label="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" data-testid="tweetPhoto"><p><img alt="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" draggable="true" src="https://pbs.twimg.com/media/FKBM4l9VQAATW5f?format=jpg&amp;name=large"/></p></div></div></div></div><div><div role="button" tabindex="0"><div><div aria-label="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." data-testid="tweetPhoto"><p><img alt="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." draggable="true" src="https://pbs.twimg.com/media/FKBOccOVEAILrSM?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486292654711132161" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T10:59:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T10:59:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486289288115359747" itemprop="isBasedOn"/><div><article aria-labelledby="id__ulm0esjgttb id__opwv9efql3 id__601nq621wwl id__3dxw089j1nm id__rce4pyf49ld id__1h5vq0xmp8j id__66upk07wwi4 id__wdiux2tg8z id__v3fzuv6srnc id__ssg7s83vpd8 id__1lcp4n88q9ui id__7n1prn7rdni id__i8bb012kmmk id__pmqtblanpfr" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__1h5vq0xmp8j"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>updated the above gist with correctly extracted tags, and included python code to extract your own, feel free to add them in the comments. since we don&#39;t know what they contain yet not adding other metadata. definitely patterned, not a hash, but idk yet.</span></p></div></div><div><div aria-labelledby="id__6okv2wc87ml id__z6n5pcrqkaa" id="id__1lcp4n88q9ui"><div><div id="id__6okv2wc87ml"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka <span>and</span> @SchmiegSophie</p><p><span>yep seeing the same thing. updated the gist with the samples and some python code to extract, mine i think still needs a lil regex tweaking but definitely more pattern to be found now. Tma appears to be a suffix. also seeing columns of &#34;lt&#34;/&#34;lw&#34;, &#34;o9e&#34; and&#34;G&#34;</span></p></div><div><div><div><div><div><div><div><div><div aria-label="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" data-testid="tweetPhoto"><p><img alt="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" draggable="true" src="https://pbs.twimg.com/media/FKBbpPnVcAIYbNA?format=png&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486301408819175428" itemprop="identifier"/><meta content="13" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T11:34:04.000Z" itemprop="dateCreated"/><meta content="2022-01-26T11:34:04.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486301408819175428" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="isPartOf"/><div><article aria-labelledby="id__54pncuncypb id__nf94vkxia3m id__7szu4737ca4 id__359lqwscv4r id__o6t701buxcp id__fakvj4cu6la id__ok3i82iu94j id__jyb178q8xzd id__eu9eq8o0wl id__p3us8a1rucf id__l6jd3cszq6b id__upg0q6istd id__py0g5d0oswg id__pim2cezvf3" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__fakvj4cu6la"><div><div><div><div><a href="https://commoncog.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>you go to school to study &#34;the brain&#34; and then the next thing you know you&#39;re learning how to debug surveillance in PDF rendering to understand how publishers have so contorted the practice of science for profit. how can there be &#34;normal science&#34; when this is normal?</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
