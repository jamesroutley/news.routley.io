<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/json_dirs/status/1486120144141123584">Original</a>
    <h1>Elsevier embeds a hash in the PDF metadata that is unique for each download</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-310093" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486120144141123584" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="50" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-25T23:33:47.000Z" itemprop="dateCreated"/><meta content="2022-01-25T23:33:47.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__gql8c9x6x08 id__bzq0fbfrjf6 id__2crmfhypyr3 id__enzf6aswd1 id__4gquyuxhhh2 id__ywy4g8493km id__h4azkog762f id__ehncfaxka8j id__b669cr60c0j id__loda1vgmqgh id__4lm1bq284in id__xrt0w8ufet id__go9p2fj3gd id__mqwxmbosjz" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ywy4g8493km"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>More fun publisher surveillance:
Elsevier embeds a hash in the PDF metadata that is *unique for each time a PDF is downloaded*, this is a diff  between metadata from two of the same paper. Combined with access timestamps, they can uniquely identify the source of any shared PDFs.</span></p></div></div></div><div><div aria-labelledby="id__hwtry6u8o5 id__kcqdukns7y" id="id__4lm1bq284in"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." data-testid="tweetPhoto"><p><img alt="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." draggable="true" src="https://pbs.twimg.com/media/FJ-6qy4UYAIFbjw?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486127532076240896" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="8" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:03:09.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:03:09.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="isPartOf"/><div><article aria-labelledby="id__27zbtlgh612 id__6sd5h3b4a0m id__uuhh4gwhzje id__29cwdjltcnz id__urqjfyp5fso id__e115050u2pc id__uwhfwn29zyj id__5pkdhfq2stt id__hzkpfgerws id__8azs95d1lu8 id__6axz0a15fzu id__cr2phuyfv87 id__rcaoipqjdxd id__3vf2zae6tqb" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__e115050u2pc"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>You can see for yourself using exiftool. 
To remove all of the top-level metadata, you can use exiftool and qpdf:

exiftool -all:all= &lt;path.pdf&gt; -o &lt;output1.pdf&gt;
qpdf --linearize &lt;output1.pdf&gt; &lt;output2.pdf&gt;

To remove *all* metadata, you can use dangerzone or mat2</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486132349087600642" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:22:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:22:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="isPartOf"/><div><article aria-labelledby="id__p0b45vrt5e id__4term5jeakx id__9pembifj5m id__91f5mvvvyeh id__wu7pdajw0y id__yc7a3gkgly id__c24e3f0ly5o id__snyylorqnij id__0g4c2rh2bfb4 id__8zz9rghvbm3 id__jcgjrly8mf id__8idh29oiy1o id__ctaa7e1vbfw id__181v4czxzis" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__yc7a3gkgly"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Also present in the metadata are NISO tags for document status indicating the &#34;final published version&#34; (VoR), and limits on what domains it should be present on. Elsevier scans for PDFs with this metadata, so good idea to strip it any time you&#39;re sharing a copy.</span></p></div></div><div><div aria-labelledby="id__2zygp2iqyb id__jao0uuanhdd" id="id__jcgjrly8mf"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." data-testid="tweetPhoto"><p><img alt="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." draggable="true" src="https://pbs.twimg.com/media/FJ_LETGVUAQDtLW?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486133651033055239" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:27:28.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:27:28.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="isPartOf"/><div><article aria-labelledby="id__kt2po0j54s9 id__2doyyz3x739 id__09gcvlyhr49 id__4glzfxee2gy id__oeuas4srv9 id__q5j1sysl93i id__tbdp4319bl7 id__q2ap43xfvko id__xy18ddkc1mj id__9c3qog84lav id__p6q38zqtug id__22gvngimgiw id__y3nqdpqouwb id__5tt73q9dd09" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__q5j1sysl93i"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486166109048868867" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T02:36:26.000Z" itemprop="dateCreated"/><meta content="2022-01-26T02:36:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="isPartOf"/><div><article aria-labelledby="id__kh8509u05 id__pflo0tyxq4c id__2gdif3s0jqm id__yqbfn3zp4gl id__tx7w570wceh id__i1z0tknkvjd id__gs0iz5281hq id__31vbrrypskg id__eip9asgqoxu id__7xmeyk7e2q4 id__j3dtmu75o id__eyv58uz8nn5 id__mlce6gbg1g id__bw2zag6w7wn" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__i1z0tknkvjd"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__pbzd5d9i0h id__0mlcr85kv2qg" id="id__j3dtmu75o"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" data-testid="tweetPhoto"><p><img alt="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" draggable="true" src="https://pbs.twimg.com/media/FJ_r0xJUYAMhptO?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486188497731948549" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="4" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T04:05:24.000Z" itemprop="dateCreated"/><meta content="2022-01-26T04:05:24.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486135162505072641" itemprop="isBasedOn"/><div><article aria-labelledby="id__62hmy165sg id__4mk0hzyubqm id__t8jqijz90v id__0xxo7nv8ij6 id__vm11dzk4kt id__cir15q1ogur id__wq1np7fgn2j id__gr8jdl6ssq id__zzq1l46rp4 id__aaw1osu869b id__y2j4ovrqjhb id__7xps528ar64 id__glxzonqo4oe id__fb1iz90y174" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__cir15q1ogur"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>The metadata appears to be preserved on papers from sci-hub. since it works by using harvested academic credentials to download papers, this would allow publishers to identify which accounts need to be closed/secured</span></p></div></div><div><div aria-labelledby="id__x6ixa6v33yg id__0qec740f6pho" id="id__y2j4ovrqjhb"><div><div id="id__x6ixa6v33yg"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @AndyPerfors <span>and</span> @ceptional</p><p><span>good question, and unfortunately yes the metadata does seem to be intact on sci-hub. Gently, since we may be on same page, I think the time for being coy is over, and it&#39;s time to start vocally advocating against and actively working to replace the for-profit publication system.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486202422020038658" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:00:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:00:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="isPartOf"/><div><article aria-labelledby="id__6szpdftwcux id__vppvbbkhotm id__ivsaypybzvb id__hodkgd10bvk id__54gjrehtuw3 id__qubssffli1m id__cv5r4zdhzy7 id__ui25lz1pqja id__80awehk9oa id__42r2j7yxmha id__hpu0guqqw8 id__z0v5eatx4c id__q95i83iay4f id__bpi5d3t6cdd" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__qubssffli1m"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>for any security researchers out there, here are a few more &#34;hashes&#34; that a few have noted do not appear to be random and might be decodable. exiftool apparently squashed the whitespace so there is a bit more structure to them than in the OP:</span></p></div></div><div><div aria-labelledby="id__p60n2t31cv id__7ui578l2avo" id="id__hpu0guqqw8"><div><div aria-labelledby="id__ylv0m9r1ma id__swyq9ipbggn" id="id__7ui578l2avo" data-testid="card.wrapper"><div aria-hidden="true" id="id__ylv0m9r1ma" data-testid="card.layoutLarge.media"><a href="https://t.co/xf7UTZnc1Z" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1484641123179978753/JRFK7thZ?format=png&amp;name=large"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210223962398725" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:31:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:31:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="isPartOf"/><meta content="https://twitter.com/kmagnacca/status/1486209676979032064" itemprop="isBasedOn"/><div><article aria-labelledby="id__zxhicmg6w18 id__33skepq3hnh id__ykgs87naj9n id__3gez4hg0kgs id__ke12fm6wpbl id__mspibcs6m1i id__4shib5p1v7c id__updf4a5meje id__bzhro99mrw id__2dq7iosm9qv id__0b2v1nrdfxdb id__312dboho6cd id__mg1cfod2ksf id__q0k8md9hhp" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__mspibcs6m1i"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__ofhkmtbqz3t id__g7jqc8sx6o" id="id__0b2v1nrdfxdb"><div><div id="id__ofhkmtbqz3t"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @json_dirs</p><p><span>I checked with ExifTool and these fields are also in pdfs from BioOne and T&amp;F (and also Pensoft, but not really relevant there), but not Wiley.

Also I only checked one so far, but a BioOne paper from SciHub has the metadata mostly stripped out compared to the version on RG.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210473636757507" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:32:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:32:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="isPartOf"/><meta content="https://twitter.com/SchmiegSophie/status/1486206774159970305" itemprop="isBasedOn"/><div><article aria-labelledby="id__13xg6uvnh8u id__lw6nkokxxx id__smrm3xiwq3g id__4h23zfty057 id__rr6gqoe0t2 id__aiwyblufv6j id__mlwcve9xkkq id__ezyxrm8zm7q id__ss84cdbpsz9 id__3dclsqlrsqq id__48edf8o10m id__tr7pqjmhuvp id__j7oyy2kaifj id__neaojee83oi" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__aiwyblufv6j"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__q50yig68ngt id__kpallzkgzmn" id="id__48edf8o10m"><div><div id="id__q50yig68ngt"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @karanlyons <span>and</span> @json_dirs</p><p><span>I still think it&#39;s websafe base64 (not standard base64, it&#39;s using - and _ and not + and /), with implicit padding, but these are a lot of tokens, and there is nothing constant between them. It&#39;s certainly a strange way to add a fingerprint, but I don&#39;t believe it&#39;s encrypted</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486270714734792708" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:32:06.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:32:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="isPartOf"/><meta content="https://twitter.com/horsemankukka/status/1486268962119761924" itemprop="isBasedOn"/><div><article aria-labelledby="id__l6xvvi5z35 id__5zvxss39a92 id__7gk0pzf4rdc id__nku5ty7ffgq id__bwv457h2t1d id__5nw5d4hnayo id__q46ovahnmhj id__n0zc3jfktbk id__joz7dcgkpr id__s0hur2bfpi id__e9m3ilxo3xm id__4aea9gp25tp id__sbdjuuhfoa id__wmhzn3oo5wa" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__5nw5d4hnayo"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>this is the way to get the correct tags:
(on mac i needed to install gnu grep with homebrew `brew install grep` and then use `ggrep` )
will follow up with dataset tomorrow.</span></p></div></div><div><div aria-labelledby="id__hw8a9m0ptf id__s8eyr45uoe" id="id__e9m3ilxo3xm"><div><div id="id__hw8a9m0ptf"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka @json_dirs <span>and</span> @SchmiegSophie</p><p><span>1) there are no actual spaces, exiftool inserts them at lowercase-uppercase borders
2) exiftool strips those periods in the tag so looks like `exiftool -b -xmp PDFFILE | grep -oP &#39;&lt;[\w.-]{40,}/&gt;&#39;` is the only way to get the intact tag out</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486274161655771136" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:45:48.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:45:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="isPartOf"/><div><article aria-labelledby="id__avg1qi6au4 id__6nc410xmh5n id__h9oc77b0525 id__po9ucws6gz id__d4sdb0z3ak9 id__3mh73d8994o id__rmpt6nnoup id__k30mklr2xoj id__9hc2d5m2zln id__oilfsx6wnm id__ewbb5eo361a id__ja5pv276fpr id__11pa2umwtxoa id__ry2njy3r9ap" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__3mh73d8994o"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>of course there&#39;s smarter watermarking, the metadata is notable because you could scan billions of pdfs fast. this comment on HN got me thinking about this PDF /OpenAction I couldn&#39;t make sense of earlier, on open, access metadata, so something with sizes and layout...</span></p></div></div><div><div aria-labelledby="id__uswt45kfxto id__go4x0uxpkm9" id="id__ewbb5eo361a"><div><div><div><div><div><div><div><div role="button" tabindex="0"><div><div aria-label="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" data-testid="tweetPhoto"><p><img alt="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" draggable="true" src="https://pbs.twimg.com/media/FKBM4l9VQAATW5f?format=jpg&amp;name=large"/></p></div></div></div></div><div><div role="button" tabindex="0"><div><div aria-label="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." data-testid="tweetPhoto"><p><img alt="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." draggable="true" src="https://pbs.twimg.com/media/FKBOccOVEAILrSM?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486292654711132161" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T10:59:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T10:59:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486289288115359747" itemprop="isBasedOn"/><div><article aria-labelledby="id__j2cjag5t9p id__mqzsm66zvcb id__uvw3hj0enyk id__x66oohq26p id__ct2jf54mw8b id__vbnmi57c88l id__ume18o06kdj id__t623pglq20l id__ht6c3eo9gsm id__6emt397v2sq id__2sp4jwhevel id__fznyeeuly2e id__06eoonvoq2if id__a6n03voldn" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__vbnmi57c88l"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>updated the above gist with correctly extracted tags, and included python code to extract your own, feel free to add them in the comments. since we don&#39;t know what they contain yet not adding other metadata. definitely patterned, not a hash, but idk yet.</span></p></div></div><div><div aria-labelledby="id__y1tbknu07ye id__ho84l7668v" id="id__2sp4jwhevel"><div><div id="id__y1tbknu07ye"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka <span>and</span> @SchmiegSophie</p><p><span>yep seeing the same thing. updated the gist with the samples and some python code to extract, mine i think still needs a lil regex tweaking but definitely more pattern to be found now. Tma appears to be a suffix. also seeing columns of &#34;lt&#34;/&#34;lw&#34;, &#34;o9e&#34; and&#34;G&#34;</span></p></div><div><div><div><div><div><div><div><div><div aria-label="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" data-testid="tweetPhoto"><p><img alt="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" draggable="true" src="https://pbs.twimg.com/media/FKBbpPnVcAIYbNA?format=png&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486301408819175428" itemprop="identifier"/><meta content="13" itemprop="position"/><meta content="5" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T11:34:04.000Z" itemprop="dateCreated"/><meta content="2022-01-26T11:34:04.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486301408819175428" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="isPartOf"/><div><article aria-labelledby="id__d5myh05vqkl id__rgqkb2uidi id__940mrsjja2 id__m7o6qpsl7li id__phngwrt3bcq id__ftl07764zs4 id__0l5kxizqdkni id__g2nzyv0qpal id__4tbvibg5qhh id__hix8xbz8foq id__jzv64vau7gf id__o642spjropc id__b4581cuo0p8 id__kuufgcmdjo" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ftl07764zs4"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>you go to school to study &#34;the brain&#34; and then the next thing you know you&#39;re learning how to debug surveillance in PDF rendering to understand how publishers have so contorted the practice of science for profit. how can there be &#34;normal science&#34; when this is normal?</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
