<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/json_dirs/status/1486120144141123584">Original</a>
    <h1>Elsevier embeds a hash in the PDF metadata that is unique for each download</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-182261" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486120144141123584" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="25" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-25T23:33:47.000Z" itemprop="dateCreated"/><meta content="2022-01-25T23:33:47.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__mea72nomnje id__qz8tth14aa id__scb5el3cfml id__azuost79hdm id__50vep7mjfem id__qq2dq4ykyk id__tn2dfl29xnr id__dlgglqke4e id__2cbnfmvj2kq id__xkv9gt4e91 id__ipovzj06fh id__v9j6c5sgzs id__ipgl23mjpm id__20vpg0q2fyr" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__qq2dq4ykyk"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>More fun publisher surveillance:
Elsevier embeds a hash in the PDF metadata that is *unique for each time a PDF is downloaded*, this is a diff  between metadata from two of the same paper. Combined with access timestamps, they can uniquely identify the source of any shared PDFs.</span></p></div></div></div><div><div aria-labelledby="id__irp3znjkw5 id__4zw6x60wg95" id="id__ipovzj06fh"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." data-testid="tweetPhoto"><p><img alt="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." draggable="true" src="https://pbs.twimg.com/media/FJ-6qy4UYAIFbjw?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486127532076240896" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:03:09.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:03:09.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="isPartOf"/><div><article aria-labelledby="id__n44du5fqejf id__9fgghflus9 id__ozpwvv78pvs id__s3vzut838zk id__6cy0esd453i id__vl6c4d1ffz9 id__4drazw5skd id__yhlzxdd0lpd id__uvbahi6bpr id__34uau0gnxvr id__mylm4153vs id__ktbjuwviadn id__vyezfbbhnr id__5cpdvt94fkj" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__vl6c4d1ffz9"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>You can see for yourself using exiftool. 
To remove all of the top-level metadata, you can use exiftool and qpdf:

exiftool -all:all= &lt;path.pdf&gt; -o &lt;output1.pdf&gt;
qpdf --linearize &lt;output1.pdf&gt; &lt;output2.pdf&gt;

To remove *all* metadata, you can use dangerzone or mat2</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486132349087600642" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:22:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:22:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="isPartOf"/><div><article aria-labelledby="id__3lwo94fkwla id__85df5fq6m0p id__fyg0b9twarw id__3y20lwqv7du id__3kcdiyt0vww id__v7l5nyb175 id__ioxmzwrdzro id__00x17l1wo3ad id__ck75opm4fhj id__9p5fq9chb1q id__jkp5nuckyto id__q2x1hu03xho id__jknvxutorep id__s18cyhribzo" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__v7l5nyb175"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Also present in the metadata are NISO tags for document status indicating the &#34;final published version&#34; (VoR), and limits on what domains it should be present on. Elsevier scans for PDFs with this metadata, so good idea to strip it any time you&#39;re sharing a copy.</span></p></div></div><div><div aria-labelledby="id__v0xj0b63u6 id__25gqy4kfvh1" id="id__jkp5nuckyto"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." data-testid="tweetPhoto"><p><img alt="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." draggable="true" src="https://pbs.twimg.com/media/FJ_LETGVUAQDtLW?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486133651033055239" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:27:28.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:27:28.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="isPartOf"/><div><article aria-labelledby="id__aj6uuy68j5 id__4zbt6j3z4i7 id__jzgj6jyu12 id__uvnzy9temt id__u3azjwbmmin id__4i1c4c2x3d9 id__pwe7oct2tig id__663wlpv7aiu id__g1ybfk8zb4 id__9lba41vk26a id__bz3oyhziknd id__5zt6seky0fl id__1ykrys8m7fu id__6qiv19xe5c8" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__4i1c4c2x3d9"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486166109048868867" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T02:36:26.000Z" itemprop="dateCreated"/><meta content="2022-01-26T02:36:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="isPartOf"/><div><article aria-labelledby="id__lh7odp7mu3 id__5l48c6fkmer id__6pi9a0koccc id__vk7du39djte id__qhyr4djfx4a id__ao9x9dxmaf9 id__n4hi8y4ama id__g46t06tzm8b id__ges6q1hux5m id__76m8wbhp65m id__io896o22dr id__ged7f2p0ewo id__1ly9entusx4 id__ygpegs0lktc" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ao9x9dxmaf9"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__xmv6n3bpya9 id__7woyrpll2z4" id="id__io896o22dr"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" data-testid="tweetPhoto"><p><img alt="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" draggable="true" src="https://pbs.twimg.com/media/FJ_r0xJUYAMhptO?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486188497731948549" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T04:05:24.000Z" itemprop="dateCreated"/><meta content="2022-01-26T04:05:24.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486135162505072641" itemprop="isBasedOn"/><div><article aria-labelledby="id__uv07sl2lztm id__ci6t6wl5v2v id__xyageao4fn id__n0zslwqxfpm id__a7tiz5cnru id__2lf9k6qse28 id__bs961n3jtn id__iz6tbph16wo id__la8d1fghobf id__c1cv1o9wke id__1tceo2q40ft id__68pysiqx5yo id__bd48ifkcjlo id__7ivfc9gkfj4" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__2lf9k6qse28"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>The metadata appears to be preserved on papers from sci-hub. since it works by using harvested academic credentials to download papers, this would allow publishers to identify which accounts need to be closed/secured</span></p></div></div><div><div aria-labelledby="id__03s4u0z1brol id__r2epahw8c4" id="id__1tceo2q40ft"><div><div id="id__03s4u0z1brol"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @AndyPerfors <span>and</span> @ceptional</p><p><span>good question, and unfortunately yes the metadata does seem to be intact on sci-hub. Gently, since we may be on same page, I think the time for being coy is over, and it&#39;s time to start vocally advocating against and actively working to replace the for-profit publication system.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486202422020038658" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:00:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:00:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="isPartOf"/><div><article aria-labelledby="id__iflvo1vr7v id__fujl902esy4 id__fa96fock2tc id__oe33zpawuwo id__jpefbur6o1e id__bteso89yll id__j3tuh20872 id__wmjpyftms7i id__d50qriht3cn id__5ykyvykgvlk id__nh9m255me8 id__o434e8ajup id__prhoj0rbtkq id__2sgcwz28z4r" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__bteso89yll"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>for any security researchers out there, here are a few more &#34;hashes&#34; that a few have noted do not appear to be random and might be decodable. exiftool apparently squashed the whitespace so there is a bit more structure to them than in the OP:</span></p></div></div><div><div aria-labelledby="id__9c46z1lr7zw id__i8dv5xpnblo" id="id__nh9m255me8"><div><div aria-labelledby="id__k1ie4ku2jwp id__kjqk5qw0q7r" id="id__i8dv5xpnblo" data-testid="card.wrapper"><div aria-hidden="true" id="id__k1ie4ku2jwp" data-testid="card.layoutLarge.media"><a href="https://t.co/xf7UTZnc1Z" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1484641123179978753/JRFK7thZ?format=png&amp;name=large"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210223962398725" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:31:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:31:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="isPartOf"/><meta content="https://twitter.com/kmagnacca/status/1486209676979032064" itemprop="isBasedOn"/><div><article aria-labelledby="id__fmewa6h4cy id__p0mntzecka id__l3gpmvf01c id__96sxqaroo4p id__oxvdlqxovt id__14fb4n0d7zgp id__azrzy5muxha id__fgf66475lww id__tim2gokoioj id__0xurxk6wgwbj id__ho6i59w8tya id__3cokx86zqf8 id__3c2kf9hkghg id__mfhlh2srmqi" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__14fb4n0d7zgp"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__q70mkikldjr id__ni7tw5ttkg" id="id__ho6i59w8tya"><div><div id="id__q70mkikldjr"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @json_dirs</p><p><span>I checked with ExifTool and these fields are also in pdfs from BioOne and T&amp;F (and also Pensoft, but not really relevant there), but not Wiley.

Also I only checked one so far, but a BioOne paper from SciHub has the metadata mostly stripped out compared to the version on RG.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210473636757507" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:32:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:32:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="isPartOf"/><meta content="https://twitter.com/SchmiegSophie/status/1486206774159970305" itemprop="isBasedOn"/><div><article aria-labelledby="id__g4ua3rb4a15 id__wzf8euq7xrc id__5zaji7a5re2 id__lwqvwou4f8k id__5aw48btbktm id__6gqu0lvbztm id__v4cowokfs8b id__0wmiwfkq9h9 id__3rj7eyg6q6k id__krjj66glq5b id__d8vh73hg26a id__0n0c9q5niqf id__04a5k6sz9d0o id__ompeg3wii3" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__6gqu0lvbztm"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__ew04izr34d4 id__dum65tjqk1w" id="id__d8vh73hg26a"><div><div id="id__ew04izr34d4"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @karanlyons <span>and</span> @json_dirs</p><p><span>I still think it&#39;s websafe base64 (not standard base64, it&#39;s using - and _ and not + and /), with implicit padding, but these are a lot of tokens, and there is nothing constant between them. It&#39;s certainly a strange way to add a fingerprint, but I don&#39;t believe it&#39;s encrypted</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486270714734792708" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:32:06.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:32:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="isPartOf"/><meta content="https://twitter.com/horsemankukka/status/1486268962119761924" itemprop="isBasedOn"/><div><article aria-labelledby="id__b40y9a7k2h6 id__2sldaf7cfos id__k32yw6h6hoc id__bo3fy4gfhj id__e9yumz540mh id__s5c1ao01tzj id__39bfb46y7l9 id__qa6cblaebak id__mfs9iji7jic id__ouynuiiw08p id__n43fj142yae id__du1h0uqau3c id__xwfzjq9jtwe id__sif0huw85i" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__s5c1ao01tzj"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>this is the way to get the correct tags:
(on mac i needed to install gnu grep with homebrew `brew install grep` and then use `ggrep` )
will follow up with dataset tomorrow.</span></p></div></div><div><div aria-labelledby="id__uopmic8gx8m id__57po1xyf4f" id="id__n43fj142yae"><div><div id="id__uopmic8gx8m"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka @json_dirs <span>and</span> @SchmiegSophie</p><p><span>1) there are no actual spaces, exiftool inserts them at lowercase-uppercase borders
2) exiftool strips those periods in the tag so looks like `exiftool -b -xmp PDFFILE | grep -oP &#39;&lt;[\w.-]{40,}/&gt;&#39;` is the only way to get the intact tag out</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486274161655771136" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:45:48.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:45:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="isPartOf"/><div><article aria-labelledby="id__dp4yg90a1k id__rr2uoqi6yn id__cbp9qlslupm id__d6pw3ytvlsb id__tpexm3ig9pm id__y9a8fjoqqwj id__yuyvjz0e1j id__8nehscw4sx2 id__6tsdzq2m2am id__du0zil2xvw id__kmzzqst3mjp id__4rhj9r6shil id__g1mrje1ehjs id__ho0907yknwv" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__y9a8fjoqqwj"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>of course there&#39;s smarter watermarking, the metadata is notable because you could scan billions of pdfs fast. this comment on HN got me thinking about this PDF /OpenAction I couldn&#39;t make sense of earlier, on open, access metadata, so something with sizes and layout...</span></p></div></div><div><div aria-labelledby="id__vz3xnk6yxm9 id__1ggwbyq1a95" id="id__kmzzqst3mjp"><div><div><div><div><div><div><div><div role="button" tabindex="0"><div><div aria-label="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" data-testid="tweetPhoto"><p><img alt="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" draggable="true" src="https://pbs.twimg.com/media/FKBM4l9VQAATW5f?format=jpg&amp;name=large"/></p></div></div></div></div><div><div role="button" tabindex="0"><div><div aria-label="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." data-testid="tweetPhoto"><p><img alt="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." draggable="true" src="https://pbs.twimg.com/media/FKBOccOVEAILrSM?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
