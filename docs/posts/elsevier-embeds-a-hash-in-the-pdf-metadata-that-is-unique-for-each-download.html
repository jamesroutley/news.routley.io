<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/json_dirs/status/1486120144141123584">Original</a>
    <h1>Elsevier embeds a hash in the PDF metadata that is unique for each download</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-286953" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486120144141123584" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="40" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-25T23:33:47.000Z" itemprop="dateCreated"/><meta content="2022-01-25T23:33:47.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__1vvqjtl1t41 id__d1qk09g8do id__3n0vgzc1j0d id__8a964dc9ck8 id__sr94lrgyf9 id__88ik84yiox id__zvg7gauivf id__jjk5gq4glee id__zfayvr7z2up id__xzpg37ie2fi id__0kylkej4vh9 id__plco05kx0d id__m1v1zfuo4q id__hb4k2er8759" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__88ik84yiox"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>More fun publisher surveillance:
Elsevier embeds a hash in the PDF metadata that is *unique for each time a PDF is downloaded*, this is a diff  between metadata from two of the same paper. Combined with access timestamps, they can uniquely identify the source of any shared PDFs.</span></p></div></div></div><div><div aria-labelledby="id__13nedyly1gtp id__xdsbuxy8xd" id="id__0kylkej4vh9"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." data-testid="tweetPhoto"><p><img alt="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." draggable="true" src="https://pbs.twimg.com/media/FJ-6qy4UYAIFbjw?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486127532076240896" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="7" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:03:09.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:03:09.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="isPartOf"/><div><article aria-labelledby="id__vyourq28dc id__a40i2uetyxd id__epxuoj0vz0u id__8i1ish1abga id__vxjo2mtsxt id__6oamunp7wxa id__j5jeaucz71p id__tyuyvgi1am id__erx1vp6ybgr id__pf7crl4t2v8 id__eguw0c19za id__c41cewa5v7t id__0oyztrdwcnam id__pdzz2xofvm" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__6oamunp7wxa"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>You can see for yourself using exiftool. 
To remove all of the top-level metadata, you can use exiftool and qpdf:

exiftool -all:all= &lt;path.pdf&gt; -o &lt;output1.pdf&gt;
qpdf --linearize &lt;output1.pdf&gt; &lt;output2.pdf&gt;

To remove *all* metadata, you can use dangerzone or mat2</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486132349087600642" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:22:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:22:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="isPartOf"/><div><article aria-labelledby="id__fmqpxeajis7 id__dsy41ui26qa id__m47oq5nazyn id__zgtlp7lwmcd id__85xkwncobx6 id__9ityydsihg id__33qptckdq6o id__e6zffj9669 id__65io8ankuk7 id__35dng4seoto id__hpfme94kcr9 id__79gb6tnbykv id__q76ddie02gk id__fy97pc85z4o" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__9ityydsihg"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Also present in the metadata are NISO tags for document status indicating the &#34;final published version&#34; (VoR), and limits on what domains it should be present on. Elsevier scans for PDFs with this metadata, so good idea to strip it any time you&#39;re sharing a copy.</span></p></div></div><div><div aria-labelledby="id__pq8u6ml3rn9 id__v8kxtlk0twe" id="id__hpfme94kcr9"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." data-testid="tweetPhoto"><p><img alt="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." draggable="true" src="https://pbs.twimg.com/media/FJ_LETGVUAQDtLW?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486133651033055239" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:27:28.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:27:28.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="isPartOf"/><div><article aria-labelledby="id__1q6qv0vrgxv id__804zzgygvdl id__xu06kmzv4q id__ileyev46x3f id__piqxmu4upk id__ericasx3qeh id__bj1dd0s9498 id__q761l0gsda id__qb1amdn9yze id__logdcgspt7s id__pfo1p8g7buq id__6y5iszuvtt id__hvli73qdxt id__8qrt5r2j71d" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ericasx3qeh"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486166109048868867" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T02:36:26.000Z" itemprop="dateCreated"/><meta content="2022-01-26T02:36:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="isPartOf"/><div><article aria-labelledby="id__muxuvty9vf id__al8kckvvdfk id__ypo62sdedas id__5n7jgc192mi id__mlwq4q48k3t id__wgbnfikzubd id__kb8beptjer id__z9fbrcpsnx id__zg6yv5lu449 id__ubx450jj39 id__r6r8yvu9epq id__iin2kgbrtac id__x9fqj99t8d id__0gnkaym40rgg" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__wgbnfikzubd"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__eoud8essxl9 id__rewm64cbb9" id="id__r6r8yvu9epq"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" data-testid="tweetPhoto"><p><img alt="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" draggable="true" src="https://pbs.twimg.com/media/FJ_r0xJUYAMhptO?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486188497731948549" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T04:05:24.000Z" itemprop="dateCreated"/><meta content="2022-01-26T04:05:24.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486135162505072641" itemprop="isBasedOn"/><div><article aria-labelledby="id__6clsw791g73 id__uewaqgx7uci id__0iq1xds8922p id__adztjve8vft id__3gwnks2yykw id__ae1fdud6x8 id__g87vsg3o95c id__ld4rvywm3qo id__v4zdlq6cc4e id__zpvmax8p2e id__sdm1h9pvh2j id__ic5s6cne4c id__i4w0m2k2l6 id__m6265ua15" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ae1fdud6x8"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>The metadata appears to be preserved on papers from sci-hub. since it works by using harvested academic credentials to download papers, this would allow publishers to identify which accounts need to be closed/secured</span></p></div></div><div><div aria-labelledby="id__tvtd6lqxowl id__wea43h8x7im" id="id__sdm1h9pvh2j"><div><div id="id__tvtd6lqxowl"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @AndyPerfors <span>and</span> @ceptional</p><p><span>good question, and unfortunately yes the metadata does seem to be intact on sci-hub. Gently, since we may be on same page, I think the time for being coy is over, and it&#39;s time to start vocally advocating against and actively working to replace the for-profit publication system.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486202422020038658" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:00:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:00:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="isPartOf"/><div><article aria-labelledby="id__r5ul0rqpsb id__ee6g4hpkcm9 id__asj4jjlsv id__2v755g0lv18 id__jz8s8vhi5z id__ndrf23tveeo id__hwamwyr9pib id__gx0wdzzu2gi id__oww48ab1rv id__mjlq9dxxpm id__4oybctepywx id__u9vizbsquci id__zul9q6t5fx id__g8dpod0osr6" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ndrf23tveeo"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>for any security researchers out there, here are a few more &#34;hashes&#34; that a few have noted do not appear to be random and might be decodable. exiftool apparently squashed the whitespace so there is a bit more structure to them than in the OP:</span></p></div></div><div><div aria-labelledby="id__z5ivoifg7n id__bulspkkjq4s" id="id__4oybctepywx"><div><div aria-labelledby="id__0cmsu3ci4v9i id__4ym0skeb775" id="id__bulspkkjq4s" data-testid="card.wrapper"><div aria-hidden="true" id="id__0cmsu3ci4v9i" data-testid="card.layoutLarge.media"><a href="https://t.co/xf7UTZnc1Z" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1484641123179978753/JRFK7thZ?format=png&amp;name=large"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210223962398725" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:31:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:31:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="isPartOf"/><meta content="https://twitter.com/kmagnacca/status/1486209676979032064" itemprop="isBasedOn"/><div><article aria-labelledby="id__55ds7q6f756 id__z8uahz7kj4 id__5zeutijjbjs id__wd8d0blwlx id__jxo6kymb30n id__8ugwfsdxwf6 id__e1kegm71qx id__cq9ct3m9fb id__32v0ephkta id__gdamioty3cb id__7cod98wedg6 id__4xcdygliwhw id__ofvv6kpcw3 id__ppxpzsk2fxk" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__8ugwfsdxwf6"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__ry7fxe4bqwd id__wrt4d5zhsu" id="id__7cod98wedg6"><div><div id="id__ry7fxe4bqwd"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @json_dirs</p><p><span>I checked with ExifTool and these fields are also in pdfs from BioOne and T&amp;F (and also Pensoft, but not really relevant there), but not Wiley.

Also I only checked one so far, but a BioOne paper from SciHub has the metadata mostly stripped out compared to the version on RG.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210473636757507" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:32:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:32:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="isPartOf"/><meta content="https://twitter.com/SchmiegSophie/status/1486206774159970305" itemprop="isBasedOn"/><div><article aria-labelledby="id__h2y3fc27l6c id__m5uhbyj59sn id__bjiokhqfa4 id__vpnxyp9pnh id__upbsj4u0az id__yo8i5iuse id__2sx7b5qtlg id__zx9dzygbcea id__t8tu0dnu1km id__45aknfm1fwj id__vt2a8jh1sa id__lhjb0q3tca id__boawlf9hcoj id__ilwbzqwaol" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__yo8i5iuse"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__i5mq6hm9hq id__w89jmkzdf1" id="id__vt2a8jh1sa"><div><div id="id__i5mq6hm9hq"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @karanlyons <span>and</span> @json_dirs</p><p><span>I still think it&#39;s websafe base64 (not standard base64, it&#39;s using - and _ and not + and /), with implicit padding, but these are a lot of tokens, and there is nothing constant between them. It&#39;s certainly a strange way to add a fingerprint, but I don&#39;t believe it&#39;s encrypted</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486270714734792708" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:32:06.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:32:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="isPartOf"/><meta content="https://twitter.com/horsemankukka/status/1486268962119761924" itemprop="isBasedOn"/><div><article aria-labelledby="id__6mkurb4wwu id__l5ptjopcjcm id__2i9lslwtvw1 id__6lbox8n09hd id__m7o12j57fc id__73oeac35xdp id__4fzvps3unrt id__cym2gvudirn id__am88pd6ci7 id__hcsoij80q8 id__hli6c5pisn id__562aemdx6ef id__45kt5bay75u id__nul2b5akvd" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__73oeac35xdp"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>this is the way to get the correct tags:
(on mac i needed to install gnu grep with homebrew `brew install grep` and then use `ggrep` )
will follow up with dataset tomorrow.</span></p></div></div><div><div aria-labelledby="id__y4nkqm368dd id__jhfjicg3rdc" id="id__hli6c5pisn"><div><div id="id__y4nkqm368dd"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka @json_dirs <span>and</span> @SchmiegSophie</p><p><span>1) there are no actual spaces, exiftool inserts them at lowercase-uppercase borders
2) exiftool strips those periods in the tag so looks like `exiftool -b -xmp PDFFILE | grep -oP &#39;&lt;[\w.-]{40,}/&gt;&#39;` is the only way to get the intact tag out</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486274161655771136" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:45:48.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:45:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="isPartOf"/><div><article aria-labelledby="id__yhitulp65y id__h0od0fwjzps id__53666j0lq4m id__ftkanzce5v id__kguxnis3pp id__phyu54tbco id__229n0al7pi1 id__aqkybtr8otl id__w40f98scgh id__hhqgii2akan id__0fnest0qgmso id__pmm3nbvgp1 id__qmtsxd4h2am id__xpjtuofuka" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__phyu54tbco"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>of course there&#39;s smarter watermarking, the metadata is notable because you could scan billions of pdfs fast. this comment on HN got me thinking about this PDF /OpenAction I couldn&#39;t make sense of earlier, on open, access metadata, so something with sizes and layout...</span></p></div></div><div><div aria-labelledby="id__iwzfxrjjzk id__ja26jmxs31" id="id__0fnest0qgmso"><div><div><div><div><div><div><div><div role="button" tabindex="0"><div><div aria-label="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" data-testid="tweetPhoto"><p><img alt="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" draggable="true" src="https://pbs.twimg.com/media/FKBM4l9VQAATW5f?format=jpg&amp;name=large"/></p></div></div></div></div><div><div role="button" tabindex="0"><div><div aria-label="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." data-testid="tweetPhoto"><p><img alt="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." draggable="true" src="https://pbs.twimg.com/media/FKBOccOVEAILrSM?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486292654711132161" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T10:59:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T10:59:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486289288115359747" itemprop="isBasedOn"/><div><article aria-labelledby="id__xuzjo054hz id__dqhd91quvn id__2kxse11lg16 id__fx0acr79ddv id__kcqy34entf id__98nb4qb5vh id__tcrehee80v id__ac35r1q9z7h id__auhwrubf63 id__geu3f57pp9p id__vkuaigla2y id__tr3nvyiws5 id__vuizslvp3ds id__sf4ph9lfv1k" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__98nb4qb5vh"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>updated the above gist with correctly extracted tags, and included python code to extract your own, feel free to add them in the comments. since we don&#39;t know what they contain yet not adding other metadata. definitely patterned, not a hash, but idk yet.</span></p></div></div><div><div aria-labelledby="id__yt2xydyzmzd id__2vmv5hk848s" id="id__vkuaigla2y"><div><div id="id__yt2xydyzmzd"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka <span>and</span> @SchmiegSophie</p><p><span>yep seeing the same thing. updated the gist with the samples and some python code to extract, mine i think still needs a lil regex tweaking but definitely more pattern to be found now. Tma appears to be a suffix. also seeing columns of &#34;lt&#34;/&#34;lw&#34;, &#34;o9e&#34; and&#34;G&#34;</span></p></div><div><div><div><div><div><div><div><div><div aria-label="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" data-testid="tweetPhoto"><p><img alt="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" draggable="true" src="https://pbs.twimg.com/media/FKBbpPnVcAIYbNA?format=png&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486301408819175428" itemprop="identifier"/><meta content="13" itemprop="position"/><meta content="4" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T11:34:04.000Z" itemprop="dateCreated"/><meta content="2022-01-26T11:34:04.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486301408819175428" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="isPartOf"/><div><article aria-labelledby="id__e1cjlhxzro id__xiy3cdkx7ti id__xh8jcw9rp1 id__daqwea5jfat id__cljwf690ken id__8ib9tz1yly id__gtvvebss44 id__fjvzdrilxw id__j36joinnmmb id__tppzdhqokah id__573l5d9syu id__4cncf76mbtc id__jgngwlzcyc id__09x9mvbqbgk5" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__8ib9tz1yly"><div><div><div><div><a href="https://twitter.com/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>you go to school to study &#34;the brain&#34; and then the next thing you know you&#39;re learning how to debug surveillance in PDF rendering to understand how publishers have so contorted the practice of science for profit. how can there be &#34;normal science&#34; when this is normal?</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
