<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/json_dirs/status/1486120144141123584">Original</a>
    <h1>Elsevier embeds a hash in the PDF metadata that is unique for each download</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-20225" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486120144141123584" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="45" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-25T23:33:47.000Z" itemprop="dateCreated"/><meta content="2022-01-25T23:33:47.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__l7rkhmye35 id__jzpd69ak7j id__3whdadyhzrg id__l3ne985s9qm id__61nz5xh3659 id__wm64rxdsr8k id__agjazmxpjyh id__lvp88h4msac id__uncqcr0vjgr id__615i5t0fdlo id__1fy6eq3ckgi id__u72f3nha8no id__a83eamp048p id__lvbwsqv4gdd" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__wm64rxdsr8k"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody"><div><p><span>More fun publisher surveillance:
Elsevier embeds a hash in the PDF metadata that is *unique for each time a PDF is downloaded*, this is a diff  between metadata from two of the same paper. Combined with access timestamps, they can uniquely identify the source of any shared PDFs.</span></p></div></div></div><div><div aria-labelledby="id__ebss80xydu5 id__439cr2jkri9" id="id__1fy6eq3ckgi"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." data-testid="tweetPhoto"><p><img alt="[A list of metadata for a PDF, the important field being two &#34;Unknown:&lt;long random character string&gt;&#34; fields that are color coded to indicate that they have been changed between versions." draggable="true" src="https://pbs.twimg.com/media/FJ-6qy4UYAIFbjw?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486127532076240896" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="7" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:03:09.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:03:09.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486120144141123584" itemprop="isPartOf"/><div><article aria-labelledby="id__id7yu3rx8o id__o4kazfbtesg id__rge2c55qc9i id__mjpmyj6gfg id__25ushcp2j56 id__tc66zviv78 id__qx2eg2qslvm id__twvr90oxcub id__iflpc8qawz id__r06yw3r679k id__f25vjqhcyrr id__src3dh01u6 id__yqqx0jb0zwf id__wrklic259p" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__tc66zviv78"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>You can see for yourself using exiftool. 
To remove all of the top-level metadata, you can use exiftool and qpdf:

exiftool -all:all= &lt;path.pdf&gt; -o &lt;output1.pdf&gt;
qpdf --linearize &lt;output1.pdf&gt; &lt;output2.pdf&gt;

To remove *all* metadata, you can use dangerzone or mat2</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486132349087600642" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:22:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:22:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486127532076240896" itemprop="isPartOf"/><div><article aria-labelledby="id__3mwjv0cwqpp id__rmaduikkpw id__a7d3e37kjp4 id__kup87lndiz id__irqnuu6pf2q id__yscjtzsn4dl id__60hbnagn7on id__5gjomz95aag id__kpxvtpbx5g id__058zulq1p1dg id__gf67ymzwng id__jiavkg862o id__q0w07hjrtj id__wt43j1jsud" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__yscjtzsn4dl"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Also present in the metadata are NISO tags for document status indicating the &#34;final published version&#34; (VoR), and limits on what domains it should be present on. Elsevier scans for PDFs with this metadata, so good idea to strip it any time you&#39;re sharing a copy.</span></p></div></div><div><div aria-labelledby="id__or01gdtpqn id__fwapbf3xfc" id="id__gf67ymzwng"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." data-testid="tweetPhoto"><p><img alt="Internet takedown programs

Elsevier partners with a technology vendor to continuously search the Internet for unauthorized posting of our book and journal content. In accordance with the Digital Millennium Copyright Act (DMCA), we issue “takedown” notices to the operators of websites hosting such unauthorized content. To complement this automated searching, Elsevier maintains online tools for staff to report an infringed work. Our partner then works to expedite reporting, investigation, and removal of specific infringing content. If you discover, or learn about pirated content online, don’t hesitate to let your contact at Elsevier know about it; he or she can use our internal systems to make sure the problem is quickly addressed." draggable="true" src="https://pbs.twimg.com/media/FJ_LETGVUAQDtLW?format=jpg&amp;name=medium"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486133651033055239" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T00:27:28.000Z" itemprop="dateCreated"/><meta content="2022-01-26T00:27:28.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486132349087600642" itemprop="isPartOf"/><div><article aria-labelledby="id__dv96knp79en id__uuehjvw939b id__4dulzdfj0cy id__vtpq11xhcf id__jowqy8d7abo id__blhah8h9i28 id__jp3p2jm4yj id__l5r57jef59 id__nznmugv8pf id__v2ner1hqapo id__t77yy5u1ta id__iim7spn5auf id__ftl93re16xc id__pkjc4uz35tk" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__blhah8h9i28"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486166109048868867" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T02:36:26.000Z" itemprop="dateCreated"/><meta content="2022-01-26T02:36:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486133651033055239" itemprop="isPartOf"/><div><article aria-labelledby="id__m71zmeu2c8 id__zmgoqgidyw id__hht8vo5o6iq id__3vxojb2vl77 id__wovbgnutm7a id__qcfd41npcnp id__dsfs9h6cug id__gclb9ez1c0g id__dh445koyx7c id__2a90dk0qnd3 id__phco4yr1oys id__zbde7rk3ba id__kvkkrs9kzw id__sk4qq4o1leb" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__qcfd41npcnp"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__xmuunps6fz id__l0xafyl1" id="id__phco4yr1oys"><div><div><div><div><div role="button" tabindex="0"><div><div><div aria-label="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" data-testid="tweetPhoto"><p><img alt="[Screenshot of code at URL in tweet, the script first uses &#34;find&#34; to locate the files, and passes them to a while loop. It creates a clean PDF at a temporary file, removing it if one exists already. Code follows]


# Color Codes so that warnings/errors stick out
GREEN=&#34;\e[32m&#34;
RED=&#34;\e[31m&#34;
CLEAR=&#34;\e[0m&#34;

# loop through all PDFs in first argument ($1),
# or use &#39;.&#39; (this directory) if not given
DIR=&#34;${1:-.}&#34;

echo &#34;Cleaning PDFs in directory $DIR&#34;

# use find to locate files, pip to while read to get the
# whole line instead of space delimited
# Note -- this will find pdfs recursively!!
find $DIR -type f -name &#34;*.pdf&#34; | while read -r i
do
  
  # output file as original filename with suffix _clean.pdf
  TMP=${i%.*}_clean.pdf

  # remove the temporary file if it already exists
  if [ -f &#34;$TMP&#34; ]; then
      rm &#34;$TMP&#34;;
  fi

  exiftool -q -q -all:all= &#34;$i&#34; -o &#34;$TMP&#34;
  qpdf --linearize --replace-input &#34;$TMP&#34;
  echo -e $(printf &#34;${GREEN}Processed ${RED}${i} ${CLEAR}as ${GREEN}${TMP}${CLEAR}&#34;" draggable="true" src="https://pbs.twimg.com/media/FJ_r0xJUYAMhptO?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486188497731948549" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T04:05:24.000Z" itemprop="dateCreated"/><meta content="2022-01-26T04:05:24.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486166109048868867" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486135162505072641" itemprop="isBasedOn"/><div><article aria-labelledby="id__7l3685w5cvp id__7vj6b3z2dr id__b44kzctjfz6 id__f7nrqt1feec id__j2c7gei5dw id__2bq36okh5dn id__6thoji4cq95 id__nahherq2yl id__4dj22vmiuj9 id__31p1d6rcyoc id__dvy11e7n5gd id__9033aiseoij id__uq38b2on5m8 id__asosr5t4enn" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__2bq36okh5dn"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>The metadata appears to be preserved on papers from sci-hub. since it works by using harvested academic credentials to download papers, this would allow publishers to identify which accounts need to be closed/secured</span></p></div></div><div><div aria-labelledby="id__ptx7kzsikje id__997lnmxntk" id="id__dvy11e7n5gd"><div><div id="id__ptx7kzsikje"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @AndyPerfors <span>and</span> @ceptional</p><p><span>good question, and unfortunately yes the metadata does seem to be intact on sci-hub. Gently, since we may be on same page, I think the time for being coy is over, and it&#39;s time to start vocally advocating against and actively working to replace the for-profit publication system.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486202422020038658" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:00:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:00:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486188497731948549" itemprop="isPartOf"/><div><article aria-labelledby="id__zv43or8lyk id__mgdcb5kppl9 id__src3t1dwhr id__qgz233ytxw id__v2hapbthqk id__d43z0fcnytu id__00gp96iu5ofiq id__6d1n9y2u774 id__fhx2xqrzqcj id__t599avnvi8d id__okyj8t0pyem id__31gma9zoi5h id__osgs7t2dtwk id__p7i5ljjfnok" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__d43z0fcnytu"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>for any security researchers out there, here are a few more &#34;hashes&#34; that a few have noted do not appear to be random and might be decodable. exiftool apparently squashed the whitespace so there is a bit more structure to them than in the OP:</span></p></div></div><div><div aria-labelledby="id__qjzo4ncrkwp id__rxodg3otto" id="id__okyj8t0pyem"><div><div aria-labelledby="id__067t2rewy5n id__b7q3dlzwua5" id="id__rxodg3otto" data-testid="card.wrapper"><div aria-hidden="true" id="id__067t2rewy5n" data-testid="card.layoutLarge.media"><a href="https://t.co/xf7UTZnc1Z" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1484641123179978753/JRFK7thZ?format=png&amp;name=large"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210223962398725" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:31:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:31:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486202422020038658" itemprop="isPartOf"/><meta content="https://twitter.com/kmagnacca/status/1486209676979032064" itemprop="isBasedOn"/><div><article aria-labelledby="id__5p4oprd96k5 id__er2naxpz2b6 id__59v7rs9azcx id__au1vnvghxj id__9nj8kqmh4fe id__rsrb118tq2 id__r1ov4ns114 id__e5qmgfhfjve id__6636ptkix2p id__xjnpqh8i6ir id__yo4ykw7ce0c id__ccneonbepuh id__t9jls9ujotf id__wm6brje26a" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__rsrb118tq2"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__ofresukccwk id__spfh912rz7" id="id__yo4ykw7ce0c"><div><div id="id__ofresukccwk"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @json_dirs</p><p><span>I checked with ExifTool and these fields are also in pdfs from BioOne and T&amp;F (and also Pensoft, but not really relevant there), but not Wiley.

Also I only checked one so far, but a BioOne paper from SciHub has the metadata mostly stripped out compared to the version on RG.</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486210473636757507" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T05:32:44.000Z" itemprop="dateCreated"/><meta content="2022-01-26T05:32:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210223962398725" itemprop="isPartOf"/><meta content="https://twitter.com/SchmiegSophie/status/1486206774159970305" itemprop="isBasedOn"/><div><article aria-labelledby="id__qz33b2r624 id__ikd7ll3ye id__lg44jbkvma id__ymh4uwpgl2 id__iwueareie9 id__r035l0vvdln id__h7p9v48hrzu id__k14q129i56e id__brzm1drrkjg id__t9x0hkhyey id__lsn7liswbdr id__4f7mzg5nkki id__smc01ie8mhn id__tx6xzvgbhws" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__r035l0vvdln"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div aria-labelledby="id__6ki5k4w12ps id__xfeno1yd4on" id="id__lsn7liswbdr"><div><div id="id__6ki5k4w12ps"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @karanlyons <span>and</span> @json_dirs</p><p><span>I still think it&#39;s websafe base64 (not standard base64, it&#39;s using - and _ and not + and /), with implicit padding, but these are a lot of tokens, and there is nothing constant between them. It&#39;s certainly a strange way to add a fingerprint, but I don&#39;t believe it&#39;s encrypted</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486270714734792708" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:32:06.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:32:06.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486210473636757507" itemprop="isPartOf"/><meta content="https://twitter.com/horsemankukka/status/1486268962119761924" itemprop="isBasedOn"/><div><article aria-labelledby="id__5q8ujid7y4q id__6qdr3268di3 id__jn87k5gppsq id__hp6qpe97h9 id__o5hrepwhb5j id__deamrhxdbp7 id__c36621a3vhu id__rns9gma9m7 id__zhqgapkcqv id__01kekudv0k6t id__1p11zdutrc3 id__ymu26rtqhlo id__7zz55ylmhp3 id__hc9k812j5z4" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__deamrhxdbp7"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>this is the way to get the correct tags:
(on mac i needed to install gnu grep with homebrew `brew install grep` and then use `ggrep` )
will follow up with dataset tomorrow.</span></p></div></div><div><div aria-labelledby="id__3gz0cmz5ehd id__toz7sh78eh" id="id__1p11zdutrc3"><div><div id="id__3gz0cmz5ehd"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka @json_dirs <span>and</span> @SchmiegSophie</p><p><span>1) there are no actual spaces, exiftool inserts them at lowercase-uppercase borders
2) exiftool strips those periods in the tag so looks like `exiftool -b -xmp PDFFILE | grep -oP &#39;&lt;[\w.-]{40,}/&gt;&#39;` is the only way to get the intact tag out</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486274161655771136" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T09:45:48.000Z" itemprop="dateCreated"/><meta content="2022-01-26T09:45:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486270714734792708" itemprop="isPartOf"/><div><article aria-labelledby="id__ck9iqezpoqd id__4qu42jih0me id__v9o6o2qgwl id__qh5r4n43yrg id__1txlmkq3nyj id__x18dwi2fc2 id__hvzr0wzlcmi id__74b5seqfoiu id__l56hmidrn7q id__52akucndquw id__hmnwnxpnjbu id__qozxslhe6b id__0d9mtz9cgwzr id__uq0oiztq2u8" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__x18dwi2fc2"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>of course there&#39;s smarter watermarking, the metadata is notable because you could scan billions of pdfs fast. this comment on HN got me thinking about this PDF /OpenAction I couldn&#39;t make sense of earlier, on open, access metadata, so something with sizes and layout...</span></p></div></div><div><div aria-labelledby="id__np3p5rnmsf id__dwdyueizaj7" id="id__hmnwnxpnjbu"><div><div><div><div><div><div><div><div role="button" tabindex="0"><div><div aria-label="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" data-testid="tweetPhoto"><p><img alt="[top comment on HN thread]

So just take pics of the pages and convert the pics back to a PDF
	
[first sub-comment]

A motivated publisher could embed codes by altering in subtle ways the differences in distances or color between adjacent characters, so that they would survive most color or grey scale conversions; a seemingly innocuous frame drawn around a photo could be either larger or smaller by say one millimeter, representing de facto a bit, therefore using enough pages they could identify a book among billions. Unfortunately there&#39;s no way to be 100% sure that a complex document doesn&#39;t contain some form of embedded code.


	
[second sub-comment]

Easier to just strip out the metadata" draggable="true" src="https://pbs.twimg.com/media/FKBM4l9VQAATW5f?format=jpg&amp;name=large"/></p></div></div></div></div><div><div role="button" tabindex="0"><div><div aria-label="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." data-testid="tweetPhoto"><p><img alt="I don&#39;t really know what I&#39;m looking at so I can&#39;t really describe it. There&#39;s a top part that says &#34;Suspicious elements: /OpenAction&#34; and then when I list its properties there is an access to the metadata, some changes to a crop box, etc." draggable="true" src="https://pbs.twimg.com/media/FKBOccOVEAILrSM?format=jpg&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486292654711132161" itemprop="identifier"/><meta content="12" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T10:59:17.000Z" itemprop="dateCreated"/><meta content="2022-01-26T10:59:17.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486274161655771136" itemprop="isPartOf"/><meta content="https://twitter.com/json_dirs/status/1486289288115359747" itemprop="isBasedOn"/><div><article aria-labelledby="id__30ewh5o1w81 id__5xsbt7e49ht id__qhywg498c5 id__mv574jsk1b id__esf7gljc4kr id__ai3xydimwo id__1bp1a8wsf3l id__e9rgvpgo64m id__e9ntay0ss25 id__q3bb2y4qpea id__cbipbokkw4 id__omvijpkzuvc id__y4hnh9rs8so id__gjdntg11za" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__ai3xydimwo"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>updated the above gist with correctly extracted tags, and included python code to extract your own, feel free to add them in the comments. since we don&#39;t know what they contain yet not adding other metadata. definitely patterned, not a hash, but idk yet.</span></p></div></div><div><div aria-labelledby="id__6idjfxsr18d id__h31og8bedm4" id="id__cbipbokkw4"><div><div id="id__6idjfxsr18d"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p>Replying to @horsemankukka <span>and</span> @SchmiegSophie</p><p><span>yep seeing the same thing. updated the gist with the samples and some python code to extract, mine i think still needs a lil regex tweaking but definitely more pattern to be found now. Tma appears to be a suffix. also seeing columns of &#34;lt&#34;/&#34;lw&#34;, &#34;o9e&#34; and&#34;G&#34;</span></p></div><div><div><div><div><div><div><div><div><div aria-label="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" data-testid="tweetPhoto"><p><img alt="[big block of text (link to raw text following), but it&#39;s clear that there is a column of &#34;NN&#34; across all the samples, and many end with &#34;Tma&#34; https://gist.github.com/sneakers-the-rat/6d158eb4c8836880cf03191cb5419c8f ]" draggable="true" src="https://pbs.twimg.com/media/FKBbpPnVcAIYbNA?format=png&amp;name=large"/></p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1486301408819175428" itemprop="identifier"/><meta content="13" itemprop="position"/><meta content="4" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2022-01-26T11:34:04.000Z" itemprop="dateCreated"/><meta content="2022-01-26T11:34:04.000Z" itemprop="datePublished"/><meta content="https://twitter.com/json_dirs/status/1486301408819175428" itemprop="url"/><meta content="https://twitter.com/json_dirs/status/1486292654711132161" itemprop="isPartOf"/><div><article aria-labelledby="id__uoe7jp8zjk8 id__v4jrqyufli id__sr1gdotzyia id__wv1cvn7946 id__8s55jn6imnv id__rwwj5j636q id__2sdtkr5gmxc id__1juv09vkcg5 id__x24p8d4p4y id__6jihwj3rvgl id__zhaztxkz07 id__1exj869ih0a id__4yvryhtgsfj id__ijvpl4ggwco" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div id="id__rwwj5j636q"><div><div><div><div><a href="http://harihareswara.net/json_dirs" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1333297089019691008/pTN9mH1b_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>you go to school to study &#34;the brain&#34; and then the next thing you know you&#39;re learning how to debug surveillance in PDF rendering to understand how publishers have so contorted the practice of science for profit. how can there be &#34;normal science&#34; when this is normal?</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
