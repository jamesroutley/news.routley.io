<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/finbarr/yolobox">Original</a>
    <h1>Show HN: Yolobox – Run AI coding agents with full sudo without nuking home dir</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div data-snippet-clipboard-copy-content="██╗   ██╗ ██████╗ ██╗      ██████╗ ██████╗  ██████╗ ██╗  ██╗
╚██╗ ██╔╝██╔═══██╗██║     ██╔═══██╗██╔══██╗██╔═══██╗╚██╗██╔╝
 ╚████╔╝ ██║   ██║██║     ██║   ██║██████╔╝██║   ██║ ╚███╔╝
  ╚██╔╝  ██║   ██║██║     ██║   ██║██╔══██╗██║   ██║ ██╔██╗
   ██║   ╚██████╔╝███████╗╚██████╔╝██████╔╝╚██████╔╝██╔╝ ██╗
   ╚═╝    ╚═════╝ ╚══════╝ ╚═════╝ ╚═════╝  ╚═════╝ ╚═╝  ╚═╝"><pre><code>██╗   ██╗ ██████╗ ██╗      ██████╗ ██████╗  ██████╗ ██╗  ██╗
╚██╗ ██╔╝██╔═══██╗██║     ██╔═══██╗██╔══██╗██╔═══██╗╚██╗██╔╝
 ╚████╔╝ ██║   ██║██║     ██║   ██║██████╔╝██║   ██║ ╚███╔╝
  ╚██╔╝  ██║   ██║██║     ██║   ██║██╔══██╗██║   ██║ ██╔██╗
   ██║   ╚██████╔╝███████╗╚██████╔╝██████╔╝╚██████╔╝██╔╝ ██╗
   ╚═╝    ╚═════╝ ╚══════╝ ╚═════╝ ╚═════╝  ╚═════╝ ╚═╝  ╚═╝
</code></pre></div>
<p dir="auto"><strong>Let your AI go full send. Your home directory stays home.</strong></p>
<p dir="auto">Run <a href="https://claude.ai/code" rel="nofollow">Claude Code</a>, <a href="https://openai.com/index/codex/" rel="nofollow">Codex</a>, or any AI coding agent in &#34;yolo mode&#34; without nuking your home directory.</p>

<p dir="auto">AI coding agents are incredibly powerful when you let them run commands without asking permission. But one misinterpreted prompt and <code>rm -rf ~</code> later, you&#39;re restoring from backup (yea right, as if you have backups lol).</p>

<p dir="auto"><code>yolobox</code> runs your AI agent inside a container where:</p>
<ul dir="auto">
<li>✅ Your <strong>project directory</strong> is mounted at <code>/workspace</code></li>
<li>✅ The agent has <strong>full permissions</strong> and <strong>sudo</strong> inside the container</li>
<li>✅ Your <strong>home directory is NOT mounted</strong> (unless you explicitly opt in)</li>
<li>✅ Persistent volumes keep tools and configs across sessions</li>
</ul>
<p dir="auto">The AI can go absolutely wild inside the sandbox. Your actual home directory? Untouchable.</p>

<div dir="auto" data-snippet-clipboard-copy-content="# Install (requires Go)
curl -fsSL https://raw.githubusercontent.com/finbarr/yolobox/master/install.sh | bash

# Or clone and build
git clone https://github.com/finbarr/yolobox.git
cd yolobox
make install"><pre><span><span>#</span> Install (requires Go)</span>
curl -fsSL https://raw.githubusercontent.com/finbarr/yolobox/master/install.sh <span>|</span> bash

<span><span>#</span> Or clone and build</span>
git clone https://github.com/finbarr/yolobox.git
<span>cd</span> yolobox
make install</pre></div>
<p dir="auto">Then from any project:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cd /path/to/your/project
yolobox"><pre><span>cd</span> /path/to/your/project
yolobox</pre></div>
<p dir="auto">You&#39;re now in a sandboxed shell. Run <code>claude</code> and let it rip.</p>

<p dir="auto">The base image comes batteries-included:</p>
<ul dir="auto">
<li><strong>AI CLIs</strong>: Claude Code, Gemini CLI, OpenAI Codex, OpenCode (all pre-configured for full-auto mode!)</li>
<li><strong>Node.js 22</strong> + npm/yarn/pnpm</li>
<li><strong>Python 3</strong> + pip + venv</li>
<li><strong>Build tools</strong>: make, cmake, gcc</li>
<li><strong>Git</strong> + <strong>GitHub CLI</strong></li>
<li><strong>Common utilities</strong>: ripgrep, fd, fzf, jq, vim</li>
</ul>
<p dir="auto">Need something else? You have sudo.</p>

<p dir="auto">Inside yolobox, the AI CLIs are aliased to skip all permission prompts:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Expands to</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>claude</code></td>
<td><code>claude --dangerously-skip-permissions</code></td>
</tr>
<tr>
<td><code>codex</code></td>
<td><code>codex --dangerously-bypass-approvals-and-sandbox</code></td>
</tr>
<tr>
<td><code>gemini</code></td>
<td><code>gemini --yolo</code></td>
</tr>
<tr>
<td><code>opencode</code></td>
<td><code>opencode</code> (no yolo flag available yet)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">No confirmations, no guardrails—just pure unfiltered AI, the way nature intended.</p>

<div dir="auto" data-snippet-clipboard-copy-content="yolobox                     # Drop into interactive shell
yolobox run &lt;cmd...&gt;        # Run a single command
yolobox run claude          # Run Claude Code in sandbox
yolobox upgrade             # Update binary and pull latest image
yolobox config              # Show resolved configuration
yolobox reset --force       # Delete volumes (fresh start)
yolobox version             # Show version
yolobox help                # Show help"><pre>yolobox                     <span><span>#</span> Drop into interactive shell</span>
yolobox run <span>&lt;</span>cmd...<span>&gt;</span>        <span><span>#</span> Run a single command</span>
yolobox run claude          <span><span>#</span> Run Claude Code in sandbox</span>
yolobox upgrade             <span><span>#</span> Update binary and pull latest image</span>
yolobox config              <span><span>#</span> Show resolved configuration</span>
yolobox reset --force       <span><span>#</span> Delete volumes (fresh start)</span>
yolobox version             <span><span>#</span> Show version</span>
yolobox <span>help</span>                <span><span>#</span> Show help</span></pre></div>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--runtime &lt;name&gt;</code></td>
<td>Use <code>docker</code> or <code>podman</code></td>
</tr>
<tr>
<td><code>--image &lt;name&gt;</code></td>
<td>Custom base image</td>
</tr>
<tr>
<td><code>--mount &lt;src:dst&gt;</code></td>
<td>Extra mount (repeatable)</td>
</tr>
<tr>
<td><code>--env &lt;KEY=val&gt;</code></td>
<td>Set environment variable (repeatable)</td>
</tr>
<tr>
<td><code>--ssh-agent</code></td>
<td>Forward SSH agent socket</td>
</tr>
<tr>
<td><code>--no-network</code></td>
<td>Disable network access</td>
</tr>
<tr>
<td><code>--readonly-project</code></td>
<td>Mount project read-only (outputs go to <code>/output</code>)</td>
</tr>
<tr>
<td><code>--claude-config</code></td>
<td>Copy host <code>~/.claude</code> config into container</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<div dir="auto"><h2 tabindex="-1" dir="auto">Auto-Forwarded Environment Variables</h2><a id="user-content-auto-forwarded-environment-variables" aria-label="Permalink: Auto-Forwarded Environment Variables" href="#auto-forwarded-environment-variables"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">These are automatically passed into the container if set:</p>
<ul dir="auto">
<li><code>ANTHROPIC_API_KEY</code></li>
<li><code>OPENAI_API_KEY</code></li>
<li><code>GITHUB_TOKEN</code> / <code>GH_TOKEN</code></li>
<li><code>OPENROUTER_API_KEY</code></li>
<li><code>GEMINI_API_KEY</code></li>
</ul>

<p dir="auto">Create <code>~/.config/yolobox/config.toml</code> for global defaults:</p>
<div dir="auto" data-snippet-clipboard-copy-content="runtime = &#34;docker&#34;
image = &#34;ghcr.io/finbarr/yolobox:latest&#34;
ssh_agent = true"><pre><span>runtime</span> = <span><span>&#34;</span>docker<span>&#34;</span></span>
<span>image</span> = <span><span>&#34;</span>ghcr.io/finbarr/yolobox:latest<span>&#34;</span></span>
<span>ssh_agent</span> = <span>true</span></pre></div>
<p dir="auto">Or <code>.yolobox.toml</code> in your project for project-specific settings:</p>
<div dir="auto" data-snippet-clipboard-copy-content="mounts = [&#34;../shared-libs:/libs:ro&#34;]
env = [&#34;DEBUG=1&#34;]
no_network = true"><pre><span>mounts</span> = [<span><span>&#34;</span>../shared-libs:/libs:ro<span>&#34;</span></span>]
<span>env</span> = [<span><span>&#34;</span>DEBUG=1<span>&#34;</span></span>]
<span>no_network</span> = <span>true</span></pre></div>
<p dir="auto">Priority: CLI flags &gt; project config &gt; global config &gt; defaults.</p>
<blockquote>
<p dir="auto"><strong>Note:</strong> Setting <code>claude_config = true</code> in your config will copy your host&#39;s Claude config on <strong>every</strong> container start, overwriting any changes made inside the container. Use the CLI flag <code>--claude-config</code> for one-time syncs.</p>
</blockquote>

<ul dir="auto">
<li><strong>macOS</strong>: Docker Desktop, OrbStack, or Colima</li>
<li><strong>Linux</strong>: Docker or Podman</li>
</ul>
<blockquote>
<p dir="auto"><strong>Memory:</strong> Claude Code needs <strong>4GB+ RAM</strong> allocated to Docker. Colima defaults to 2GB which will cause OOM kills. Increase with: <code>colima stop &amp;&amp; colima start --memory 8</code></p>
</blockquote>


<p dir="auto">yolobox uses <strong>container isolation</strong> (Docker or Podman) as its security boundary. When you run <code>yolobox</code>, it:</p>
<ol dir="auto">
<li>Starts a container with your project mounted at <code>/workspace</code></li>
<li>Runs as user <code>yolo</code> with sudo access <em>inside</em> the container</li>
<li>Does NOT mount your home directory (unless explicitly requested)</li>
<li>Uses Linux namespaces to isolate the container&#39;s filesystem, process tree, and network</li>
</ol>
<p dir="auto">The AI agent has full root access <em>inside the container</em>, but the container&#39;s view of the filesystem is restricted to what yolobox explicitly mounts.</p>

<p dir="auto"><strong>The trust boundary is the container runtime</strong> (Docker/Podman). This means:</p>
<ul dir="auto">
<li>✅ Protection against accidental <code>rm -rf ~</code> or credential theft</li>
<li>✅ Protection against most filesystem-based attacks</li>
<li><g-emoji alias="warning">⚠️</g-emoji> <strong>NOT protection against container escapes</strong> — a sufficiently advanced exploit targeting kernel vulnerabilities could break out</li>
<li><g-emoji alias="warning">⚠️</g-emoji> <strong>NOT protection against a malicious AI</strong> deliberately trying to escape — this is defense against accidents, not adversarial attacks</li>
</ul>
<p dir="auto">If you&#39;re worried about an AI actively trying to escape containment, you need VM-level isolation (see &#34;Hardening Options&#34; below).</p>

<p dir="auto"><strong>What yolobox protects:</strong></p>
<ul dir="auto">
<li>Your home directory from accidental deletion</li>
<li>Your SSH keys, credentials, and dotfiles</li>
<li>Other projects on your machine</li>
<li>Host system files and configurations</li>
</ul>
<p dir="auto"><strong>What yolobox does NOT protect:</strong></p>
<ul dir="auto">
<li>Your project directory (it&#39;s mounted read-write by default)</li>
<li>Network access (use <code>--no-network</code> to disable)</li>
<li>The container itself (the AI has root via sudo)</li>
<li>Against kernel exploits or container escape vulnerabilities</li>
</ul>

<p dir="auto"><strong>Level 1: Basic (default)</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="yolobox  # Standard container isolation"><pre>yolobox  <span><span>#</span> Standard container isolation</span></pre></div>
<p dir="auto"><strong>Level 2: Reduced attack surface</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="yolobox run --no-network --readonly-project claude"><pre>yolobox run --no-network --readonly-project claude</pre></div>
<p dir="auto"><strong>Level 3: Rootless Podman</strong> (recommended for security-conscious users)</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Install podman and run rootless
yolobox --runtime podman"><pre><span><span>#</span> Install podman and run rootless</span>
yolobox --runtime podman</pre></div>
<p dir="auto">Rootless Podman runs the container without root privileges on the host, using user namespaces. This significantly reduces the impact of container escapes since the container&#39;s &#34;root&#34; maps to your unprivileged user on the host.</p>
<p dir="auto"><strong>Level 4: VM isolation</strong> (maximum security)</p>
<p dir="auto">For true isolation with no shared kernel, consider running yolobox inside a VM:</p>
<ul dir="auto">
<li><strong>macOS</strong>: Use a Linux VM via UTM, Parallels, or Lima</li>
<li><strong>Linux</strong>: Use a Podman machine or dedicated VM</li>
</ul>
<p dir="auto">This adds significant overhead but eliminates kernel-level attack surface.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Network Isolation with Podman</h3><a id="user-content-network-isolation-with-podman" aria-label="Permalink: Network Isolation with Podman" href="#network-isolation-with-podman"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For users who want to prevent container access to the local network while preserving internet access:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Rootless podman uses slirp4netns by default, which provides
# network isolation from the host network
podman run --network=slirp4netns:allow_host_loopback=false ..."><pre><span><span>#</span> Rootless podman uses slirp4netns by default, which provides</span>
<span><span>#</span> network isolation from the host network</span>
podman run --network=slirp4netns:allow_host_loopback=false ...</pre></div>
<p dir="auto">yolobox doesn&#39;t currently expose this as a flag, but you can achieve it by running rootless Podman (the default network mode for rootless is slirp4netns).</p>


<p dir="auto">This builds <code>yolobox/base:latest</code> locally.</p>

<p dir="auto">Because you want to tell your AI agent &#34;just do it&#34; without consequences. YOLO, but in a box.</p>


<div dir="auto" data-snippet-clipboard-copy-content="make build          # Build binary
make test           # Run tests
make lint           # Run linters
make image          # Build Docker image
make install        # Install to ~/.local/bin"><pre>make build          <span><span>#</span> Build binary</span>
make <span>test</span>           <span><span>#</span> Run tests</span>
make lint           <span><span>#</span> Run linters</span>
make image          <span><span>#</span> Build Docker image</span>
make install        <span><span>#</span> Install to ~/.local/bin</span></pre></div>

<p dir="auto">Version is derived automatically from git tags via <code>git describe</code>:</p>
<ul dir="auto">
<li>Tagged commit: <code>v0.1.1</code></li>
<li>After tag: <code>v0.1.1-3-gead833b</code> (3 commits after tag)</li>
<li>Uncommitted changes: adds <code>-dirty</code></li>
</ul>
<p dir="auto"><strong>No files to edit for releases.</strong> The Makefile handles it.</p>

<p dir="auto">To release a new version:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git tag v0.1.2
git push origin master --tags"><pre>git tag v0.1.2
git push origin master --tags</pre></div>
<p dir="auto">That&#39;s it. GitHub Actions will automatically:</p>
<ol dir="auto">
<li>Build binaries for linux/darwin × amd64/arm64</li>
<li>Create a GitHub release with binaries and checksums</li>
<li>Build and push Docker image to <code>ghcr.io/finbarr/yolobox</code></li>
</ol>
<p dir="auto"><strong>Version policy:</strong></p>
<ul dir="auto">
<li>Patch bump (<code>0.1.x</code>): Bug fixes, security fixes</li>
<li>Minor bump (<code>0.x.0</code>): New features</li>
<li>Major bump (<code>x.0.0</code>): Breaking changes</li>
</ul>

<p dir="auto">MIT</p>
</article></div></div>
  </body>
</html>
