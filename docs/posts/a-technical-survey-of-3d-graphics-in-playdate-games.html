<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.peterstefek.me/playdate3d.html">Original</a>
    <h1>A Technical Survey of 3D Graphics in Playdate Games</h1>
    
    <div id="readability-page-1" class="page"><div>
 <div>
  
  <p><label>Posted on <strong>09 January 2024</strong></label></p><p>
    <img src="https://www.peterstefek.me/images/playdate3d/playdate3d-header.png" width="300px"/> 
</p>

<p>This year one of my friends gave me a <a href="https://play.date/">Playdate</a> for Christmas and I have been fascinated with it for the last couple weeks. As a hobbyist game developer, I wanted to make a game for it. I had a bunch of 3D game ideas but realized that the hardware on the playdate is quite limited compared to my m1 mac. Instead of deterring me, the constraints drew me in and I’ve spent the last couple of weeks exploring the potential for 3D graphics on the playdate.  </p>
<p>To prepare for making a 3D engine I wanted to get a sense of what was already out there. This post will be a review of prior art. I&#39;ve dug through and categorized all the 3d games/demos/engines for the playdate that I could find.  </p>
<p>Before we dive in, I want to talk about how I categorized these games. It’s difficult to find a hard boundary that defines if a game is 3D or not. As such, the process of deciding if a game is 3D is somewhat a matter of personal opinion. </p>
<p>A game is 3D to me if it makes me personally feel like I’m looking through a window into some kind of world containing 3 spatial dimensions. For example, some cases I don’t consider 3D are <a href="https://tvtropes.org/pmwiki/pmwiki.php/Main/ThreeQuartersView">3/4s view RPGs</a> (such as <a href="https://play.date/games/casual-birder/">Casual Birder</a>) and 2d sidescrollers with <a href="https://en.wikipedia.org/wiki/Parallax_scrolling">parallax</a> (such as <a href="https://lumicreative.itch.io/midnight-raider">Midnight Raider</a>).</p>
<p>People who have played a lot of video games also know that there are different kinds of 3D games with different capabilities. Think <a href="https://www.youtube.com/watch?v=561sPCk6ByE">Wolfenstien 3D</a> vs <a href="https://youtu.be/_is7aycnw6k?t=645">Horizon Forbidden West</a>. Sometimes the words 2.5D or pseudo 3D are used around for games that feel less “3D” than the state of the art. Most games on the playdate fall into this “pseudo” 3D category so these terms are too broad to be useful here. Instead I’m going to categorize games/demos/engines based on how many mechanical degrees of freedom the player has, camera position (first person, third person dynamic, third person static) and projection type (<a href="https://www.scratchapixel.com/lessons/3d-basic-rendering/perspective-and-orthographic-projection-matrix/building-basic-perspective-projection-matrix.html">perspective or orthographic</a>).  </p>
<p>I’m choosing to focus on these three categories because they all represent tradeoffs between flexibility and performance. </p>
<p>In general the fewer degrees of freedom there are, the more room there is to “fake” things.  </p>
<p>Other factors play a large role in performance too such as camera type (a static third person camera can be a lot easier to render than a dynamic first person camera), projection type (orthographic projection can be faster than perspective projection) and of course level of graphical fidelity/realism. As we’ll see, different 3D games on the playdate make many different tradeoffs between performance, flexibility and fidelity. </p>
<p>A last quick note about performance on the playdate, I will give frames per second numbers when available. However it’s important to note that the max fps on the playdate while refreshing the entire screen is 52 fps. I say “refreshing the entire screen” because the playdate sdk also lets you only update part of the screen. In that case you can actually render faster than 52 fps but most 3d games have to redraw the entire screen with every update.  </p>
<p><strong>Grand Tour Legends</strong></p>
<p>
    <img src="https://www.peterstefek.me/images/playdate3d/grand-tour-legends.gif" width="400px"/> 
</p>

<p>Grand Tour Legends is the first playdate game I played. It’s also the most beautiful 3D I’ve seen on the playdate, but all that shine does not come for free. The game only has one true degree of freedom. You can move forward or roll backwards and that’s it.</p>
<p>Notes</p>
<p>One thing the above thread doesn’t tell me is how the other racers are occluded by the environment. I suspect when rendering them, each of their pixels is compared against a depth buffer channel of the pre-rendered video to make sure not to draw them in front of the terrain if they are actually behind it.  </p>
<p>I’m also not sure whether the dithering is pre-rendered or not. Either way it looks gorgeous.  </p>
<p>I’m calling this technique full motion video+ because it is substantially more complex than just drawing a video.   </p>
<p>The advantages of pre-rendering a video for the environment are that you can apply all sorts of extra beautification steps (antialiasing, shadows, complex lighting, etc) without any overhead in game. On pc GPU rasterizers are fast enough to make nearly photorealistic images in real time so the benefits or pre-rendering are minimal, but on playdate you can create unmatched beauty.  </p>
<p>My props to <a href="https://www.iorama.studio/">IORAMA</a> for coming up with a very creative rendering technique.  </p>
<p><strong>Unnamed Train Game</strong></p>
<p> 
<video width="400px" controls="">
  <source src="/images/playdate3d/TrainGame.mov" type="video/mp4"/>
  Your browser does not support the video tag.
</video>
</p>

<p><strong>Tau</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/tau.gif" width="400px"/> 
</p>
<p>Notes (conjecture)</p>
<p>On the playdate, image files are typically tiny because they are often 1 bit per pixel. Because images are cheap, many people choose to pre-render objects from lots of different angles and then display the image that is closest to the true angle between the camera and the pre-rendered sprite during the game. This technique is called <a href="https://docs.unrealengine.com/4.26/en-US/RenderingAndGraphics/RenderToTextureTools/3/">imposters</a>.  </p>
<p><strong>Skew</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/skew.gif" width="400px"/> 
</p>
<p>Notes</p>
<p><strong>Unknown Hat Man Demo</strong></p>
<p> 
<video width="400px" controls="">
  <source src="/images/playdate3d/hatman.mov" type="video/mp4"/>
  Your browser does not support the video tag.
</video>
</p>
<p>Notes</p>
<p><strong>The Big Pond</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/bigpond.gif" width="400px"/> 
</p>
<p>Notes:</p>
<p><strong>Daily Driver</strong> </p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/dailydriver.gif" width="400px"/> 
</p>
<p>Notes</p>
<p><strong>Mode7Driver</strong></p>
<p> 
<video width="400px" controls="">
  <source src="/images/playdate3d/mode7driver.mov" type="video/mp4"/>
  Your browser does not support the video tag.
</video>
</p>
<p>Notes  </p>
<p>The playdate lua sdk contains a function called <a href="https://sdk.play.date/2.1.1/Inside%20Playdate.html#m-graphics.image.drawSampled">drawSampled</a> which emulates a subset of Mode7’s functionality to make the player appear to be on textured a 3d plane. </p>
<p>Unfortunately the drawSampled source code is not available so we cannot know exactly how their technique works.</p>
<p><strong>Red Terror</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/redterror.gif" width="400px"/> 
</p>
<p>Notes</p>
<p><strong>Wi-Fi Dungeon: Organism Online</strong></p>
<p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ywhRQ4-nlEg?si=124o_rtw-4k-emw8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p>

<p><strong>Unknown Ray Casting Engine #1</strong></p>
<p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ablhAP85NNw?si=JAMQCVo2D_QxlclP" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p>
<p>Notes:</p>
<p><strong>Unknown Ray Casting Engine #2</strong></p>
<p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rGlUOxdprQM?si=nu13ohbRHeRwgw-f" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p>
<p>Notes:</p>
<p><strong>Wild Dungeons</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/wilddungeons.gif" width="400px"/> 
</p>
<p>Notes</p>
<p><strong>Legend of Etad</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/etad.gif" width="400px"/> 
</p>
<p>Notes</p>
<p><strong>Dioragame</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/diora.gif" width="400px"/> 
</p>
<p>Like Daily Driver but with a rotatable camera. Everything in the scene is an imposters. There’s a pretty detailed engine post if you go to <a href="https://dioragame.com/devlog/">https://dioragame.com/devlog/</a> and choose the entry “The Diorama Engine”. Like Daily Driver this game gets a large performance boost by having a far away third person orthographic projection.</p>
<p><strong>P-Racing</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/pracing.gif" width="400px"/> 
</p>
<p>Notes:</p>
<p><strong>Super Agent</strong></p>
<p> 
<video width="400px" controls="">
  <source src="/images/playdate3d/super-agent.mov" type="video/mp4"/>
  Your browser does not support the video tag.
</video>
</p>
<p>Notes</p>
<p><strong>Super Agent Mountain Scene</strong></p>
<p> 
<video width="400px" controls="">
  <source src="/images/playdate3d/super-agent-mountain.mov" type="video/mp4"/>
  Your browser does not support the video tag.
</video>
</p>

<p><strong>PlayDOOM</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/pdoom.gif" width="400px"/> 
</p>

<p>Notes</p>
<p><strong>Mini3D</strong></p>
<p> 
<video width="400px" controls="">
  <source src="/images/playdate3d/mini3d.mov" type="video/mp4"/>
  Your browser does not support the video tag.
</video>
</p>
<p>Notes</p>
<p><strong>Mini3D+</strong></p>
<p>
    <img loading="lazy" src="https://www.peterstefek.me/images/playdate3d/mini3d.gif" width="400px"/> 
</p>
<p>Notes</p>
<ul>
<li>Mesh clipping at camera (allows rendering faces which are partly behind the camera)</li>
<li>Textures</li>
<li>Imposters</li>
<li>Collision detection
Seems like mostly sphere triangle but the cart demo plays nicely</li>
</ul>
<p>Downsides  </p>
<ul>
<li>Texture projection is approximate to save on speed but only noticeable when triangles are very close to the camera</li>
<li>Seems abandoned but it also a good starting place / resource for building an even more ambitious engine</li>
</ul>
<p><strong>Common themes</strong></p>
<p>Another thing that struck me was that very few playdate 3d games use triangle rasterization, even though there is a built in engine for it. There are certainly hardware constraints which make triangle rasterization less appealing than on a platform with a gpu, but I suspect this is also due to Playdate developers choosing to make their own 3d engines which emulate retro techniques for the fun of it (and that’s awesome). I am definitely curious about how far triangle rasterization can be pushed on the playdate.  </p>
<p><strong>What is the future of 3D on the playdate?</strong></p>
 </div>
</div></div>
  </body>
</html>
