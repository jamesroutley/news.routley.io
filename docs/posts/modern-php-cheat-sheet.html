<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://front-line-php.com/cheat-sheet">Original</a>
    
    <div id="readability-page-1" class="page"><div>
    <div>
        <nav>
            
        </nav>
        <div>
            
            <article>


                <div id="arrays">
    <h2>
        <a href="#arrays">#
        </a>

        Arrays

            </h2>

    <div>
        <div id="destructuring">
    <h3>
        <a href="#destructuring">#
        </a>

        Destructuring

                    <small>7.1</small>
            </h3><p>

    You can destructure arrays to pull out several elements into separate variables:

</p><pre><code>$array = [1, 2, 3];

// Using the list syntax:
<span>list</span>($a, $b, $c) = $array;

// Or the shorthand syntax:
[$a, $b, $c] = $array;</code></pre><p>

You can skip elements:

</p><pre><code>[, , $c] = $array;

</code></pre><p>

As well as destructure based on keys:

</p><pre><code>$array = [
    <span>&#39;a&#39;</span> =&gt; <span>1</span>,
    <span>&#39;b&#39;</span> =&gt; <span>2</span>,
    <span>&#39;c&#39;</span> =&gt; <span>3</span>,
];

[<span>&#39;c&#39;</span> =&gt; $c, <span>&#39;a&#39;</span> =&gt; $a] = $array;</code></pre>
</div>
        <div id="rest-spread-operators">
    <h3>
        <a href="#rest-spread-operators">#
        </a>

        Rest and Spread Operators

                    <small>5.6</small>
            </h3><p>

    Arrays can be spread into functions:

</p><pre><code>$array = [<span>1</span>, <span>2</span>];

<span><span>function</span> <span>foo</span><span>(<span>int</span> $a, <span>int</span> $b)</span> </span>{  }

<span>foo</span>(...$array);</code></pre><p>

Functions can automatically collect the rest of the variables using the same operator:


</p><pre><code><span><span>function</span> <span>foo</span><span>($first, ...$other)</span> </span>{  }

<span>foo</span>(<span>&#39;a&#39;</span>, <span>&#39;b&#39;</span>, <span>&#39;c&#39;</span>, <span>&#39;d&#39;</span>, …);</code></pre><p>

Rest parameters can even be type hinted:

</p><pre><code><span><span>function</span> <span>foo</span><span>($first, <span>string</span> ...$other)</span> </span>{  }

<span>foo</span>(<span>&#39;a&#39;</span>, <span>&#39;b&#39;</span>, <span>&#39;c&#39;</span>, <span>&#39;d&#39;</span>, …);</code></pre>


            <p><small>7.4</small>
 Arrays with numerical keys can also be spread into a new array:
            </p>


            <pre><code>$a = [<span>1</span>, <span>2</span>];
$b = [<span>3</span>, <span>4</span>];

$result = [...$a, ...$b]; </code></pre>

            <p><small>8.1</small>
 You can also spread arrays with textual keys starting from PHP 8.1
            </p>
</div>
    </div>
</div>

                <div id="attributes">
    <h2>
        <a href="#attributes">#
        </a>

        Attributes

                    <small>8.0</small>
            </h2><p>

    Make your own by tagging a class with <code></code></p><pre><code>
<span><span>class</span> <span>ListensTo</span>
</span>{
    <span>public</span> <span>string</span> <span>$event</span>;

    <span>public</span> <span><span>function</span> <span>__construct</span><span>(<span>string</span> $event)</span>
    </span>{
        <span>$this</span>-&gt;<span>event</span> = $event;
    }
}</code></pre><p>

You can add them to properties, (anonymous) classes, functions, constants, closures, function arguments:

</p><pre><code>
    <span>Route</span>(<span>Http</span>::<span>POST</span>, <span>&#39;/products/create&#39;</span>),
    <span>Autowire</span>,

<span><span>class</span> <span>ProductsCreateController</span>
</span>{
    <span>public</span> <span><span>function</span> <span>__invoke</span><span>()</span> </span>{  }
}</code></pre><p>

Use reflection to get them, you can pass in optional arguments to `</p><hljs prop="">getAttributes</hljs><p>` in order to filter the result:

</p><pre><code>$attributes = $reflectionClass-&gt;<span>getAttributes</span>(
    <span>ContainerAttribute</span><span>::class</span>,
    <span>ReflectionAttribute</span>::<span>IS_INSTANCEOF</span>
);</code></pre>
</div>

                <div id="closures">
    <h2>
        <a href="#closures">#
        </a>

        Closures

            </h2>

    <div>

<div id="short-closures">
    <h2>
        <a href="#short-closures">#
        </a>

        Short Closures

                    <small>7.4</small>
            </h2>

    <p>Short closures have automatic access to the outer scope, and only allow a single expression which is automatically returned:</p>

    <pre><code><span>array_map</span>(
    <span>fn</span>($x) =&gt; $x * <span>$this</span>-&gt;<span>modifier</span>,
    $numbers
);</code></pre>
</div>

        <div id="first-class-callables">
    <h2>
        <a href="#first-class-callables">#
        </a>

        First class callables

                    <small>8.1</small>
            </h2>

    <p>You can now make a closure from a callable by calling that callable and passing it &#39;...&#39; as its argument</p>

            <pre><code>function foo(<span>int</span> $a, <span>int</span> $b) { /* … */ }
 $foo = <span>foo</span>(...);
 $foo(<span>a:</span> 1, <span>b:</span> 2);</code></pre>
</div>
    </div>
</div>

                <div id="cosmetics">
    <h2>
        <a href="#cosmetics">#
        </a>

        Cosmetics

            </h2>

    <div>
        <div id="class-names">
    <h3>
        <a href="#class-names">#
        </a>

        Class Names

                    <small>8.0</small>
            </h3>

    <p>As of PHP 8, you can use <code><span>::class</span></code> on objects as well:</p>

<pre><code><span>Order</span><span>::class</span>;

$object<span>::class</span>;</code></pre>
</div>

        <div id="format-numeric-values">
    <h3>
        <a href="#format-numeric-values">#
        </a>

        Numeric Values

                    <small>7.4</small>
            </h3>

    <p>Use the <code>_</code> operator to format numeric values:</p>

<pre><code>$price = <span>100</span>_10;
</code></pre>
</div>

        <div id="trailing-commas">
    <h3>
        <a href="#trailing-commas">#
        </a>

        Trailing Commas

                    <small>8.0</small>
            </h3>

    <p>Trailing commas are allowed in several places:</p>

            <ul>
                <li>Arrays</li>
                <li>Function calls</li>
                <li>Function definitions</li>
                <li>Closure <code>use</code> statements</li>
            </ul>
</div>
    </div>
</div>

                <div id="enums">
    <h2>
        <a href="#enums">#
        </a>

        Enums

            </h2>

    <div>
        <div id="declaring-enums">
    <h3>
        <a href="#declaring-enums">#
        </a>

        Declaring Enums

                    <small>8.1</small>
            </h3><p>

    Enums are built-in in the language:

            </p><pre><code><span>enum</span> <span>Status</span>
 {
     case <span>DRAFT</span>;
     case <span>PUBLISHED</span>;
     case <span>ARCHIVED</span>;
 }</code></pre>
</div>

        <div id="enum-methods">
    <h3>
        <a href="#enum-methods">#
        </a>

        Enum methods

                    <small>8.1</small>
            </h3><p>

    Enums can have methods, as well as have a string or integer value per case:

            </p><pre><code><span>enum</span> <span>Status</span>: <span>int</span>
 {
     case <span>DRAFT</span> = 1;
     case <span>PUBLISHED</span> = 2;
     case <span>ARCHIVED</span> = 3;

     public function color(): string
     {
         return <span>match</span>($this)
         {
             <span>Status</span>::<span>DRAFT</span> =&gt; &#39;grey&#39;,
             <span>Status</span>::<span>PUBLISHED</span> =&gt; &#39;green&#39;,
             <span>Status</span>::<span>ARCHIVED</span> =&gt; &#39;red&#39;,
         };
     }
 }</code></pre>
</div>
    </div>
</div>

                <div id="exceptions">
    <h2>
        <a href="#exceptions">#
        </a>

        Exceptions

                    <small>8.0</small>
            </h2>

    <p>Throwing an exception is an expression now, which means there are more places you can throw from, such as short closures or as a null coalescing fallback:</p>

<pre><code>$error = <span>fn</span>($message) =&gt; <span>throw</span> <span>new</span> <span>Error</span>($message);

$input = $data[<span>&#39;input&#39;</span>] ?? <span>throw</span> <span>new</span> <span><span>Exception</span></span>(<span>&#39;Input not set&#39;</span>);</code></pre>

    <p>You also don&#39;t have to catch an exception with a variable anymore:</p>

<pre><code><span>try</span> {
    
} <span>catch</span> (<span>SpecificException</span>) {
    <span>throw</span> <span>new</span> <span>OtherException</span>();
}</code></pre>
</div>

                <div id="match-expression">
    <h2>
        <a href="#match-expression">#
        </a>

        Match

                    <small>8.0</small>
            </h2>

    <p>Similar to <code><span>switch</span></code>, but with strong type checks, no
        <code><span>break</span></code> keyword, combined arms and it returns a value:
    </p>

    <pre><code>$message = <span>match</span> ($statusCode) {
    <span>200</span>, <span>300</span> =&gt; <span>null</span>,
    <span>400</span> =&gt; <span>&#39;not found&#39;</span>,
    <span>500</span> =&gt; <span>&#39;server error&#39;</span>,
    <span>default</span> =&gt; <span>&#39;unknown status code&#39;</span>,
};</code></pre>
</div>

                <div id="dealing-with-null">
    <h2>
        <a href="#dealing-with-null">#
        </a>

        Dealing with null

            </h2>

    <div>
        <div id="null-coalescing-operator">
    <h3>
        <a href="#null-coalescing-operator">#
        </a>

        Null Coalescing

                    <small>7.0</small>
            </h3>

    <p>Use the null coalescing operator to provide a fallback when a property is <code>null</code>:</p>

            <pre><code>$paymentDate = $invoice-&gt;<span>paymentDate</span> ?? <span>Date</span>::<span>now</span>();</code></pre>

            <p>It also works nested:</p>

            <pre><code>$input = $data[<span>&#39;few&#39;</span>][<span>&#39;levels&#39;</span>][<span>&#39;deep&#39;</span>] ?? <span>&#39;foo&#39;</span>;</code></pre>


            <div>
                <p><small>7.4</small></p><p>
                    You can use the null coalescing
                    <em>assignment</em> operator to write the value into the original variable when it&#39;s
                    <code>null</code>:
                </p>
            </div>

            <pre><code>$temporaryPaymentDate = $invoice-&gt;<span>paymentDate</span> ??= <span>Date</span>::<span>now</span>();

</code></pre>
</div>

        <div id="nullsafe-operator">
    <h3>
        <a href="#nullsafe-operator">#
        </a>

        Nullsafe Operator

                    <small>8.0</small>
            </h3>

    <p>Chain methods that possibly return <code>null</code>:</p>

            <pre><code>$invoice
    -&gt;<span>getPaymentDate</span>()
    ?-&gt;<span>format</span>(<span>&#39;Y-m-d&#39;</span>);</code></pre>

            <p>The nullsafe operator can also be chained multiple times:</p>

            <pre><code>$object
    ?-&gt;<span>methodA</span>()
    ?-&gt;<span>methodB</span>()
    ?-&gt;<span>methodC</span>();</code></pre>
</div>
    </div>
</div>

                <div id="named-arguments">
    <h2>
        <a href="#named-arguments">#
        </a>

        Named Arguments

                    <small>8.0</small>
            </h2>

    <p>Pass in arguments by name instead of their position:</p>

    <pre><code><span>setcookie</span>(
    <span>name</span>: <span>&#39;test&#39;</span>,
    <span>expires</span>: <span>time</span>() + <span>60</span> * <span>60</span> * <span>2</span>,
);</code></pre>

    <p>Named arguments also support array spreading:</p>

    <pre><code>$data = [
    <span>&#39;name&#39;</span> =&gt; <span>&#39;test&#39;</span>,
    <span>&#39;expires&#39;</span> =&gt; <span>time</span>() + <span>60</span> * <span>60</span> * <span>2</span>,
];

<span>setcookie</span>(...$data);</code></pre>
</div>

                <div id="performance">
    <h2>
        <a href="#performance">#
        </a>

        Performance

            </h2>

    <div>
        <div id="jit">
    <h3>
        <a href="#jit">#
        </a>

        The JIT

                    <small>8.0</small>
            </h3>

    <p>Enable the JIT by specifying a buffer size in your ini settings; you can switch the jit mode between
                <code>function</code> or <code>tracing</code>:</p>

            <pre><code><span>opcache.jit_buffer_size</span>=100M

<span>opcache.jit</span>=function
</code></pre>
</div>

        <div id="preloading">
    <h3>
        <a href="#preloading">#
        </a>

        Preloading

                    <small>7.4</small>
            </h3>

    <p>Add <code><span>opcache.preload</span></code> to your ini settings:</p>

            <pre><code><span>opcache.preload</span>=/path​/to​/project​/preload.php</code></pre>

            <p>Every file that&#39;s loaded in the preload script will be preloaded into memory until server restart.</p>
</div>
    </div>
</div>

                <div id="properties">
    <h2>
        <a href="#properties">#
        </a>

        Properties

            </h2>

    <div>

        



        <div id="new-in-initializers">
    <h2>
        <a href="#new-in-initializers">#
        </a>

        Using new in initializers

                    <small>8.1</small>
            </h2><p>

    PHP 8.1 allows you to use the <span>new</span> keyword in function definitions as a default parameter, as well as in attribute arguments and other places.

            </p><pre><code>class MyController {
     public function __construct(
         <span>private</span> <span>Logger</span> <span>$logger</span> = <span>new</span> <span>NullLogger</span>(),
     ) {}
 }
                </code></pre><p>

            This also means that nested attributes are a thing now:

            </p><pre><code>#[<span>Assert\All</span>(
     new <span>Assert\NotNull</span>,
     new <span>Assert\Length</span>(<span>max</span>: 6),
 
                </code></pre>
</div>

        <div id="read-only properties">
    <h2>
        <a href="#read-only properties">#
        </a>

        Read only properties

                    <small>8.1</small>
            </h2><p>

    Properties can be marked readonly.
            </p><pre><code><span>class</span> Offer
 {
     public <span>readonly</span> <span>?string</span> <span prop="">$offerNumber</span> = null;
     public <span>readonly</span> <span>Money</span> <span>$totalPrice</span>;
                </code></pre><p>

            Once a readonly property is set, it cannot change ever again.
</p></div>
    </div>
</div>



                <div id="types">
    <h2>
        <a href="#types">#
        </a>

        Types

            </h2>

    <div>
        <div id="built-in-types">
    <h3>
        <a href="#built-in-types">#
        </a>

        Built-in Types

            </h3>

    <p>During the PHP 7.x releases and with PHP 8, several new built-in types were added:</p>

            <ul>
                <li>
                    <code><span>void</span></code>: a return type indicating nothing&#39;s returned <small>7.1</small>
                </li>
                <li>
                    <code><span>static</span></code>: a return type representing the current class or its children <small>8.0</small>
                </li>
                <li>
                    <code><span>object</span></code>: anything that is an object <small>7.2</small>
                </li>
                <li>
                    <code><span>mixed</span></code>: anything <small>8.0</small>
</li>
            </ul>
</div>

        <div id="intersection-types">
    <h3>
        <a href="#intersection-types">#
        </a>

        Intersection Types

                    <small>8.1</small>
            </h3>

    <p>Combine several types into one intersection, which means that whatever input must match all of the given types</p>

            <pre><code>public function url(<span>WithId</span>&amp;<span>WithSlug</span> $obj): <span>string</span>;</code></pre>
</div>

        <div id="typed-properties">
    <h3>
        <a href="#typed-properties">#
        </a>

        Typed properties

                    <small>7.4</small>
            </h3>

    <p>Add types to your class properties:</p>

            <pre><code><span><span>class</span> <span>Offer</span>
</span>{
    <span>public</span> <span>?string</span> <span>$offerNumber</span> = <span>null</span>;

    <span>public</span> <span>Money</span> <span>$totalPrice</span>;
}</code></pre>

            <p>Beware of the <code>uninitialized</code> state, which is only checked when reading a property, and not when constructing the class:</p>

            <pre><code>$offer = <span>new</span> <span>Offer</span>();

$offer-&gt;<span>totalPrice</span>; </code></pre>
</div>

        <div id="union-types">
    <h3>
        <a href="#union-types">#
        </a>

        Union Types

                    <small>8.0</small>
            </h3>

    <p>Combine several types into one union, which means that whatever input must match one of the given types:</p>

            <pre><code><span><span>interface</span> <span>Repository</span>
</span>{
    <span>public</span> <span><span>function</span> <span>find</span><span>(<span>int|string</span> $id)</span></span>;
}</code></pre>
</div>


    </div>
</div>

            </article>
        </div>
    </div>

    <div>
        <section>
    

    
            <h2>
            PHP 8.1 promo
        </h2>
        <div><p>
            Get 30% off on the entire ebook for the next
            </p><div>
                <div>
                    <p><span><span x-text="timer.days">04</span> <span>days</span></span>
                        <span><span x-text="timer.hours">17</span> <span>hours</span></span>
                        <span><span x-text="timer.minutes">38</span> <span>minutes</span></span>
                        <span><span x-text="timer.seconds">59</span> <span>seconds</span></span>
    </p>
                </div>
            </div>
        </div>
    
    

</section>
    </div>
</div></div>
  </body>
</html>
