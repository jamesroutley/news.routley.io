<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2023/06/27/google_tweaks_topics_api_ahead/">Original</a>
    <h1>Google asks websites to kindly not break its shiny new targeted-advertising API</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p>Google plans to ship its Topics API when Chrome 115 arrives on July 12. That&#39;s the API that&#39;s supposed to allow advertisers to target netizens with adverts tailored to their individual interests without impinging on people&#39;s privacy.</p>
<p>And to help prevent those privacy problems, the ad giant is asking advertisers to promise they won&#39;t abuse this ad targeting mechanism.</p>
<p>Last May, Alexandre Gilotte, senior data scientist and software engineer for ad platform firm Criteo, opened <a target="_blank" rel="nofollow" href="https://github.com/patcg-individual-drafts/topics/issues/74">a GitHub Issues discussion</a> describing a potential fingerprinting attack on the Topics API that could be used to identify people online.</p>

    

<p>Last Thursday, with Google preparing to make Topics <a target="_blank" rel="nofollow" href="https://chromestatus.com/feature/5680923054964736">available next month in Chrome</a>, Josh Karlin, technical lead and manager of Google&#39;s Privacy Sandbox project, closed the year-old discussion.</p>

        


        

<p>&#34;Since this discussion, we&#39;ve added a requirement on Chrome that developers <a target="_blank" rel="nofollow" href="https://developer.chrome.com/en/blog/announce-enrollment-privacy-sandbox/">enroll</a> to use the API and to attest that they won&#39;t abuse the API,&#34; he <a target="_blank" rel="nofollow" href="https://github.com/patcg-individual-drafts/topics/issues/74#issuecomment-1142201279">wrote</a>. &#34;That&#39;s not a technical solution, but I do believe it goes a long way to addressing this problem. Closing for now.&#34;</p>
<p>It remains an open question, however, whether other browser makers will ever support the API. Both Firefox maker <a target="_blank" rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/622">Mozilla</a> and Safari developer <a target="_blank" rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/111#issuecomment-1359609317">Apple</a> have indicated they oppose the Topics proposal.</p>
<blockquote>

<p>We just can&#39;t see a way to make this work from a privacy standpoint</p>
</blockquote>
<p>&#34;Fundamentally, we just can&#39;t see a way to make this work from a privacy standpoint,&#34; <a target="_blank" rel="nofollow" href="https://github.com/mozilla/standards-positions/issues/622#issuecomment-1372979100">said</a> Mozilla distinguished engineer Martin Thomson, in January in response to a request for an official position statement from Karlin.</p>
<p>&#34;Though the information the API provides is small, our belief is that this is more likely to reduce the usefulness of the information for advertisers than it provides meaningful protection for privacy. Unfortunately, it is hard to identify concrete ways in which this might be improved.&#34;</p>

        

<p>Anne van Kesteren, who works on web standards at Apple, <a target="_blank" rel="nofollow" href="https://github.com/WebKit/standards-positions/issues/111#issuecomment-1359609317">cited ten issues</a> with the API and declared that the iGiant is opposed to it. &#34;We don’t think cross-site data about the user’s browsing behavior should be exposed in APIs,&#34; he said. &#34;We&#39;ve been working for ten years in the opposite direction, partitioning data per-top-level-site.&#34;</p>
<p>Google, having last year <a target="_blank" href="https://www.theregister.com/2022/01/26/google_floc_topics/">abandoned</a> its previous interest-based API, Federated Learning of Cohorts (FLoC), is nonetheless moving forward with Topics because it needs something that will enable interest-based advertising once the already delayed <a target="_blank" href="https://www.theregister.com/2023/02/01/google_cookie_sandbox/">deprecation</a> of third-party cookies occurs in Q3 2024.</p>
<h3>How the API works</h3>
<p>The <a target="_blank" rel="nofollow" href="https://github.com/patcg-individual-drafts/topics">Topics API</a> is one of several possibly privacy-preserving proposals for handling digital advertising once support for third-party cookies goes away. Part of what Google has been calling its Privacy Sandbox, Topics provides a mechanism for serving ads that correspond to the inferred interests of web users.</p>
<p>Basically, when a user visits a website and the website wants to show an ad, the website can run JavaScript code (or check the request header Sec-Browsing-Topics) to fetch a list of up to three topics, from a taxonomy of several hundred interest categories, derived from the user&#39;s past website visits. That allows the site to show an ad believed to be relevant to the visitor&#39;s known interests.</p>
<p>&#34;With Topics, your browser determines a handful of topics, like &#39;Fitness&#39; or &#39;Travel &amp; Transportation,&#39; that represent your top interests for that week based on your browsing history,&#34; <a target="_blank" rel="nofollow" href="https://blog.google/products/chrome/get-know-new-topics-api-privacy-sandbox/">explained</a> Vinay Goel, product director of Privacy Sandbox at Google, last year.</p>

        

<p>&#34;Topics are kept for only three weeks and old topics are deleted. Topics are selected entirely on your device without involving any external servers, including Google servers. When you visit a participating site, Topics picks just three topics, one topic from each of the past three weeks, to share with the site and its advertising partners.&#34;</p>
<p>The API occasionally may also return a random topic. In browsers supporting Topics, like the upcoming Chrome 115, a webpage invoking the API thus…</p>
<pre>const topics = await document.browsingTopics();
</pre>
<p>…might return an array formatted thus…</p>
<pre>[{&#39;configVersion&#39;: String, &#39;modelVersion&#39;: String, &#39;taxonomyVersion&#39;: String, &#39;topic&#39;: Number, &#39;version&#39;: String}]
</pre>
<p>…where &#34;Number&#34; corresponds to <a target="_blank" rel="nofollow" href="https://github.com/patcg-individual-drafts/topics/blob/main/taxonomy_v2.md">a numbered</a> taxonomy of predefined interests. The value &#34;1&#34; refers to &#34;/Arts &amp; Entertainment&#34; while the number 277 refers to &#34;/Jobs &amp; Education/Education/Foreign Language Study.&#34;</p>
<p>Armed with that information, webpage code could then request a topic-related ad, which ideally would better engage the web visitor and generate more revenue because the advertiser would pay a premium to reach the desired audience.</p>

<p>Gilotte&#39;s concern is a web publisher could implement the Topics API by including the requisite JavaScript on multiple websites and then build a fingerprint identifier based on how the websites behave for the user.</p>
<p>The Topics API has a &#34;witness&#34; requirement – it only reveals a visitor&#39;s interest in a topic if the site has previously received data in that topic category. So a script on a webpage that observes a user visiting a news site could learn that the user has an affinity for news, but not that the user is interested in, say, shopping.</p>
<p>This rule – which Google calls its &#34;<a target="_blank" rel="nofollow" href="https://developer.chrome.com/blog/topics-enhancements/#per-caller-filtering">per-caller filtering requirement</a>&#34; and <a target="_blank" rel="nofollow" href="https://github.com/patcg-individual-drafts/topics/issues/38#issue-1120989498">may help</a> Google more than smaller companies with less visibility into web visits – can be exploited to gain one bit of entropy about the visitor: whether or not the site has seen the topic.</p>
<p>With enough bits of entropy, you get a fingerprint – we&#39;re talking about dozens of websites over weeks of observation. According to Mozilla&#39;s Thomson, 20 bits allows for <a target="_blank" rel="nofollow" href="https://github.com/patcg-individual-drafts/topics/issues/74#issuecomment-1141562803">one-in-a-million differentiation</a>. And he elaborates on his concerns in <a target="_blank" rel="nofollow" href="https://mozilla.github.io/ppa-docs/topics.pdf">a paper</a> [PDF] published in January titled, &#34;A Privacy Analysis of Google’s Topics Proposal.&#34;</p>
<p>&#34;We conclude that Topics has significant and structural privacy challenges that are difficult to remediate,&#34; Thomson wrote.</p>
<h3>Google&#39;s response</h3>
<p>In an attempt to address some of the concerns that have arisen, Karlin and others at Google argue Topics offers better privacy than third-party cookies – which don&#39;t offer much privacy. In April, he and ten colleagues released <a target="_blank" rel="nofollow" href="https://arxiv.org/abs/2304.07210">a paper</a> [PDF] outlining the math to evaluate that claim.</p>
<p>And earlier this month, Google <a target="_blank" rel="nofollow" href="https://developer.chrome.com/blog/topics-enhancements/">announced</a> some changes to the Topics API.</p>
<ul>

<li><a href="https://www.theregister.com/2023/06/23/google_childrens_privacy_lawsuit/">Google accused of urging Android devs to mislabel apps to get forbidden kids ad data</a></li>

<li><a href="https://www.theregister.com/2023/06/17/google_searchers_from_years_past/">Google searchers from years past can get paid for pilfered privacy</a></li>

<li><a href="https://www.theregister.com/2023/06/14/european_commission_google_breakup/">Europe teases breaking up Google over ad monopoly</a></li>

<li><a href="https://www.theregister.com/2023/05/20/google_privacy_sandbox_july/">Privacy Sandbox, Google&#39;s answer to third-party cookies, promised within months</a></li>
</ul>
<p>There&#39;s <a target="_blank" rel="nofollow" href="https://github.com/patcg-individual-drafts/topics/blob/main/taxonomy_v2.md">a new taxonomy</a> of 469 interest topics, up from 349 previously. This is smaller than the <a target="_blank" rel="nofollow" href="https://iabtechlab.com/standards/audience-taxonomy/">IAB Audience Taxonomy</a>, which Google says contains about 1,500 topics. Some 280 commercially-focused categories like Athletic Apparel, Mattresses, and Luxury Travel were added while 160 less monetizable categories like Civil Engineering and Equestrian were removed.</p>
<p>&#34;We chose to limit the taxonomy&#39;s size, to protect against re-identification risk,&#34; explained Leeron Israel, product manager for Google&#39;s Privacy Sandbox.</p>
<p>Google, said Israel, also plans to let users block specific topics. &#34;This means users will be able to curate the set of available topics they are interested in by removing selected topics,&#34; he said. &#34;This change, coming by early next year, will give users even more control over their privacy and make the Topics API even more user-friendly.&#34;</p>
<p>Mozilla remains unconvinced.</p>
<p>&#34;We&#39;re not enthusiastic about building features that reveal people&#39;s browsing history,&#34; a company spokesperson told <em>The Register</em> in an email.</p>
<p>&#34;Google is content to utilize low-level noise to offer a sense of privacy. Randomizing the data at a rate of one in twenty may lessen its effectiveness for advertising, but it isn&#39;t much of a consolation for those who are re-identified using that information.&#34;</p>
<p>Evidently, there will be an off switch. ®</p>                                
                    </div></div>
  </body>
</html>
