<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Jeadie/Go-L">Original</a>
    <h1>Show HN: Game of Life on non-square topologies with 2^32 update rules</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Game of Life simulation</p>
<p dir="auto">I originally wrote a Game of Life model in C, <a href="https://github.com/Jeadie/GOL/">GOL</a>. But I wanted to convert it into Golang for a few reasons:</p>
<ul dir="auto">
<li>Learn Go</li>
<li>Consider more novel topoogies based on border rules (see #border-topologies).</li>
<li>Extend GOL simulation for generic update rules.</li>
<li>Extend GOL lattice for integer values (i.e. not just 1/0)</li>
<li>Run physical system simulations based on applications of cellular automaton:
<ul dir="auto">
<li>Computational fluid dynamics</li>
<li>Population dynamics</li>
<li>Ising Models</li>
<li>Other interesting cellular automaton: Rule 90, Langton&#39;s ant</li>
<li>Boolean binary logic rules (i.e. consider the 1 cell + 4 neighbours as a 5 bit input - 1 bit output to a logic circuit).</li>
<li>Discretise and extend to 2D my previous research in <a href="https://github.com/Jeadie/UQ-Winter-Research-Project-2017">rho signalling in cell-cell junctions during collective cell migration</a>.</li>
<li></li>
</ul>
</li>
</ul>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">Current usage simply displays the simulation onto the terminal. Usage:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt; Go-L --help
Usage of Go-L:
  -aliveratio float
    	The fraction of squares that start as alive, assigned at random. Domain: [0.0, 1.0]. (default 0.8)
  -gridsize uint
    	Length of square grid to define game on. (default 20)
  -iterations uint
    	Max number of iterations to simulate game of life. If stable solution, will exit early. (default 100)
  -topology string
    	Specify the topology of the grid (as a fundamental topology from a parallelograms). Valid parameters: BORDERED, TORUS, KLEIN_BOTTLE, PROJECTIVE_PLANE, SPHERE. (default &#34;BORDERED&#34;)
  -updatedelay uint
    	Additional period delay between updating rounds of the game, in milliseconds. Does not take into account processing time. (default 200)
  -updaterule uint
    	Specify the number associated with the update rule to use. Default to Conway&#39;s Game of Life. (default 1994975360)"><pre><span>&gt;</span> Go-L --help
Usage of Go-L:
  -aliveratio float
    	The fraction of squares that start as alive, assigned at random. Domain: [0.0, 1.0]. (default 0.8)
  -gridsize uint
    	Length of square grid to define game on. (default 20)
  -iterations uint
    	Max number of iterations to simulate game of life. If stable solution, will <span>exit</span> early. (default 100)
  -topology string
    	Specify the topology of the grid (as a fundamental topology from a parallelograms). Valid parameters: BORDERED, TORUS, KLEIN_BOTTLE, PROJECTIVE_PLANE, SPHERE. (default <span><span>&#34;</span>BORDERED<span>&#34;</span></span>)
  -updatedelay uint
    	Additional period delay between updating rounds of the game, <span>in</span> milliseconds. Does not take into account processing time. (default 200)
  -updaterule uint
    	Specify the number associated with the update rule to use. Default to Conway<span><span>&#39;</span>s Game of Life. (default 1994975360)</span></pre></div>
<h3 dir="auto"><a id="user-content-border-topologies" aria-hidden="true" href="#border-topologies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Border Topologies</h3>
<p dir="auto">In redefining how the border conditions work, we can simulate GOL as if it was played on a variety of manifolds. This is most clearly seen when looking at the fundamental polygons derived from a square (or parallelogram). When considering the neighbours of a cell on the border of the lattice, a fundamental polygon helps show where the neighbouring values should be.</p>
<table>
<thead>
<tr>
<th>Sphere</th>
<th>Real Projective Plane</th>
<th>Klein Bottle</th>
<th>Torus</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/98bd61ec99a544e5ba89cb37f6751299b54a3532544b852e7445b00ec05a55e6/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f632f63312f53706865726541735371756172652e7376672f32343070782d53706865726541735371756172652e7376672e706e67"><img src="https://camo.githubusercontent.com/98bd61ec99a544e5ba89cb37f6751299b54a3532544b852e7445b00ec05a55e6/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f632f63312f53706865726541735371756172652e7376672f32343070782d53706865726541735371756172652e7376672e706e67" alt="Sphere" data-canonical-src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/SphereAsSquare.svg/240px-SphereAsSquare.svg.png"/></a></td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/342de6cc2aa6064e681a0c1cf7c158905caed58d162f1c68800e09c706f009a2/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f392f39622f50726f6a656374697665506c616e6541735371756172652e7376672f32343070782d50726f6a656374697665506c616e6541735371756172652e7376672e706e67"><img src="https://camo.githubusercontent.com/342de6cc2aa6064e681a0c1cf7c158905caed58d162f1c68800e09c706f009a2/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f392f39622f50726f6a656374697665506c616e6541735371756172652e7376672f32343070782d50726f6a656374697665506c616e6541735371756172652e7376672e706e67" alt="Real Projective Plane" data-canonical-src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/ProjectivePlaneAsSquare.svg/240px-ProjectivePlaneAsSquare.svg.png"/></a></td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/f3c13e8da4d9b0f10ea6358b5dd180cab2f21c5c41deee13850a88576bbe302b/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f652f65362f4b6c65696e426f74746c6541735371756172652e7376672f32343070782d4b6c65696e426f74746c6541735371756172652e7376672e706e67"><img src="https://camo.githubusercontent.com/f3c13e8da4d9b0f10ea6358b5dd180cab2f21c5c41deee13850a88576bbe302b/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f652f65362f4b6c65696e426f74746c6541735371756172652e7376672f32343070782d4b6c65696e426f74746c6541735371756172652e7376672e706e67" alt="Klein Bottle" data-canonical-src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/KleinBottleAsSquare.svg/240px-KleinBottleAsSquare.svg.png"/></a></td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e63e19584617dd460c14849534bf57decd3fb2848cf6a6f7fc22d1346471d6ea/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f662f66322f546f72757341735371756172652e7376672f32343070782d546f72757341735371756172652e7376672e706e67"><img src="https://camo.githubusercontent.com/e63e19584617dd460c14849534bf57decd3fb2848cf6a6f7fc22d1346471d6ea/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f662f66322f546f72757341735371756172652e7376672f32343070782d546f72757341735371756172652e7376672e706e67" alt="Torus" data-canonical-src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/TorusAsSquare.svg/240px-TorusAsSquare.svg.png"/></a></td>
</tr>
</tbody>
</table>
<p dir="auto">Consider a square lattice of size 5, coordinates indexed in <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$[0,4] \times [0,4]$</math-renderer>. For a standard coordinate, say <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$(2,2)$</math-renderer>, its neighbours are: <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">${(1,2),(3,2),(2,1),(2,3)}$</math-renderer>. These are all within standard bounds. Now consider the point <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$(4,2)$</math-renderer> with neighbours: <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">${(3,2),(5,2),(4,1),(4,3)}$</math-renderer>. What value should we use for <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$(5,2)$</math-renderer>? The topology dictates how lattice-border neighbours get selected. For a bordered topology, there is nothing outside of lattice, therefore index it the null value (or 0 in GOL rules). For a sphere, the <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$(5,2)$</math-renderer> becomes <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$(2,0)$</math-renderer> given its equivalence relation (on an <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$n$</math-renderer> square lattice):</p>
<p dir="auto"><math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$$
\displaylines{
(x, 0) \backsim (n, n-x), \quad x\in [0, n] \\
(x, n) \backsim (0, n-x), \quad x\in [0, n]
}
$$</math-renderer></p>
<p dir="auto">Or for a torus</p>
<p dir="auto"><math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$$
\displaylines{
(x, 0) \backsim (x, n), \quad x\in [0, n] \\
(0, y) \backsim (n, y), \quad y\in [0, n]
}
$$</math-renderer></p>
<p dir="auto">or a real projective plane</p>
<p dir="auto"><math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$$
\displaylines{
(0, y) \backsim (n, n-y), \quad y\in [0, n] \\
(x, 0) \backsim (n-x, n), \quad x\in [0, n]
}
$$</math-renderer></p>
<p dir="auto">and lastly a klein bottle</p>
<p dir="auto"><math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$$
\displaylines{
(0, y) \backsim (n, y), \quad y\in [0, n] \\
(x, 0) \backsim (n-x, n), \quad x\in [0, n]
}
$$</math-renderer></p>
<p dir="auto">For update rules that consider 2nd degree neighbours (i.e. <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$(6,2)$</math-renderer> ), the mapping gets a bit more complicated.</p>
<h3 dir="auto"><a id="user-content-more-on-game-of-life" aria-hidden="true" href="#more-on-game-of-life"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>More on Game of Life</h3>
<p dir="auto">A cellular automaton designed by mathematician John Conway showing how complex emergent behaviour can arise from simple
rules. In his case, at each future timestamp, a cell will be updated, based on its four neighbouring cells:</p>
<ol dir="auto">
<li>A live cell will survive if only 2 or 3 of its neighbours are alive</li>
<li>A dead cell with 3 alive neighbours will become alive</li>
<li>All other cells die.</li>
</ol>
<h3 dir="auto"><a id="user-content-update-rules" aria-hidden="true" href="#update-rules"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Update Rules</h3>
<p dir="auto">Conway&#39;s Game of Life is but one 2D cellular automata that depends only on its 4 direct neighbours. One can conceive of
other update rules. If one considers the five relevant cells: left, cell, right, up &amp; down, there are then <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$2^5=32$</math-renderer> possible states to consider. An update rule can be defined as follows.</p>
<ol dir="auto">
<li>Define an ordered set on the 32 possible states $ { s_i }_{i=0}^{32} $</li>
<li>Create a 32 digit binary number, <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$B$</math-renderer>, where <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$B_i = 1$</math-renderer> iff the update rule maps the cell with state <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$S_i$</math-renderer> to 1.</li>
<li>All update rules can be then indexed from this, <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$U_B : {0,1}^5 \to { 0, 1}$</math-renderer></li>
</ol>
<h4 dir="auto"><a id="user-content-update-rules-1d-example" aria-hidden="true" href="#update-rules-1d-example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Update Rules: 1D example</h4>
<p dir="auto">Consider a simple 1D case of: left, cell, right. There are 8 states with a natural indexing: <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$111, 110, 101, 100, 011, 010, 001, 000$</math-renderer>. An example update rule <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$U_{177}$</math-renderer> updates the cell to 1 in the following cases: 111, 101, 100, 000 (all other cases to 0). With the binary expansion <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$177 = 10110001b$</math-renderer>, this can be expressed simply below:</p>
<table>
<thead>
<tr>
<th>111</th>
<th>110</th>
<th>101</th>
<th>100</th>
<th>011</th>
<th>010</th>
<th>001</th>
<th>000</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
<h4 dir="auto"><a id="user-content-2d-implementation" aria-hidden="true" href="#2d-implementation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2D Implementation</h4>
<p dir="auto">In this repo, we consider a similar binary representation for cells: left, cell, right, up, down and a natural indexing <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$11111, 11110, 11101, ..., 00001, 00000$</math-renderer>. This creates <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$2^5=32$</math-renderer> possible states and therefore <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="6688a9c93fc8f29500c9cea11ebe8482">$2^{32} = 4294967296$</math-renderer> possible update rules (conveniently fitting in a 32-bit integer).</p>
<p dir="auto">We can now consider the update rule in Conway&#39;s Game of Life:</p>
<ol dir="auto">
<li>Alive and 3 neighbours: 01111, 10111, 11101, 11110 ([15, 23, 29, 30])</li>
<li>Alive and 2 neighbours: 00111, 01101, 01110, 10101, 10110, 11100 ([7, 13, 14, 21, 22, 28])</li>
<li>Dead and 3 neighbours:  01011, 10011, 11001, 11010 ([11, 19, 25, 26])</li>
</ol>
<p dir="auto">Which gives a binary number with 1&#39;s at positions: [7, 11, 13, 14, 15, 19, 21, 22, 23, 25, 26, 28, 29, 30]
or in binary:  01110110111010001110100010000000
or in base 10: 1994975360</p>
</article>
          </div></div>
  </body>
</html>
