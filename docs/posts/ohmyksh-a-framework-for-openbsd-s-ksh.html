<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/qbit/ohmyksh">Original</a>
    <h1>Ohmyksh: A Framework for OpenBSD&#39;s Ksh</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">

<p dir="auto">Have your cake and eat it too!</p>
<p dir="auto"><code>ohmyksh</code> is a framework for expanding OpenBSD’s <a href="https://man.openbsd.org/ksh" rel="nofollow">ksh</a>. It offers:</p>
<dl>
  <dt>completions</dt><dd>for common things like <a href="https://man.openbsd.org/man" rel="nofollow">man</a> pages, <a href="https://man.openbsd.org/ssh" rel="nofollow">ssh</a> <code>known_hosts</code> and <code>git</code> (and
    <code>got</code>!) commands.</dd>
  <dt>extensions</dt><dd>to import bulk functionality, including git-prompt, OpenBSD
    specific tooling, disabling color.. etc.</dd>
  <dt>prompts</dt><dd>a decent selection of useful, minimal prompts.</dd>
</dl>

<table>
  <tbody><tr><th>Name</th><th>Completes</th></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/git.org">git</a></td><td>add, fetch…</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/got.org">got</a></td><td>add, blame…</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/gopass.org">gopass</a></td><td>audit, config…</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/man.org">man</a></td><td>man pages</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/mpc.org">mpc</a></td><td>play, load, toggle…</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/rc.org">rc</a></td><td>OpenBSD rc scripts and rc commands</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/ssh.org">ssh</a></td><td>ssh known hosts</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/vmd.org">vmd</a></td><td>vmctl commands and VM names</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/completions/ogvt.org">ogvt</a></td><td>reminders for ogvt (-pub, -sig, -file)</td></tr>
</tbody></table>

<table>
  <tbody><tr><th>Name</th><th>Description</th></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/fonts.org">fonts</a></td><td>Load fonts from common locations.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/fzf.org">fzf</a></td><td>Set of interactive wrappers for things like packages and shell history.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/git-prompt.org">git-prompt</a></td><td>A port of git-prompt for KSH.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/got.org">got</a></td><td>Adds PS1 support for got, as well as a few helper functions.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/k.org">k</a></td><td>A tool to quickly change directories.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/keychain.org">keychain</a></td><td>Wrapper for <a href="https://www.funtoo.org/Keychain" rel="nofollow">Funtoo’s Keychain</a> utility.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/nocolor.org">nocolor</a></td><td>Disable terminal color options for many tools.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/openbsd.org">openbsd</a></td><td>A set of tools for working with the OpenBSD source trees.</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/extensions/pkgup.org">pkgup</a></td><td>Utility to speed up OpenBSD’ <a href="https://man.openbsd.org/pkg_add" rel="nofollow">pkg_add(1)</a>.</td></tr>
</tbody></table>

<table>
  <tbody><tr><th>Name</th><th>Example</th><th>Extensions used</th></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/prompts/q.org">q</a></td><td><code>qbit@litr[0]:~$</code></td><td>git-prompt, got</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/prompts/plain.org">plain</a></td><td><code>litr:~/src/ohmyksh/prompts$</code></td><td>-</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/prompts/og-openbsd.org">og-openbsd</a></td><td><code>$</code></td><td>-</td></tr>
  <tr><td><a href="https://github.com/qbit/ohmyksh/blob/main/prompts/9.org">9</a></td><td><code>%</code></td><td>-</td></tr>
</tbody></table>

<div dir="auto" data-snippet-clipboard-copy-content="# ohmyksh needs to know where it lives, so we tell it via this env var:
OHMYKSH_DIR=${HOME}/src/ohmyksh

# Now we can load everything up!
. ${OHMYKSH_DIR}/ohmy.ksh

# All the paths we use (in order!)
set -A my_paths -- \
        /usr/ports/infrastructure/bin \
        ~/bin \
        ~/go/bin \
        /usr/local/plan9/bin

paths &#34;${my_paths[@]}&#34;

# Load our various extensions
load_extension fonts
load_extension k
load_extension nocolor
load_extension openbsd

# Load handy completions for various things
load_completion ssh
load_completion vmd
load_completion rc
load_completion gopass
load_completion git

alias vi=vim

# the q prompt auto-loads the git-prompt extension
set_prompt q"><pre><span><span>#</span> ohmyksh needs to know where it lives, so we tell it via this env var:</span>
OHMYKSH_DIR=<span>${HOME}</span>/src/ohmyksh

<span><span>#</span> Now we can load everything up!</span>
<span>.</span> <span>${OHMYKSH_DIR}</span>/ohmy.ksh

<span><span>#</span> All the paths we use (in order!)</span>
<span>set</span> -A my_paths -- \
        /usr/ports/infrastructure/bin \
        <span>~</span>/bin \
        <span>~</span>/go/bin \
        /usr/local/plan9/bin

paths <span><span>&#34;</span><span>${my_paths[@]}</span><span>&#34;</span></span>

<span><span>#</span> Load our various extensions</span>
load_extension fonts
load_extension k
load_extension nocolor
load_extension openbsd

<span><span>#</span> Load handy completions for various things</span>
load_completion ssh
load_completion vmd
load_completion rc
load_completion gopass
load_completion git

<span>alias</span> vi=vim

<span><span>#</span> the q prompt auto-loads the git-prompt extension</span>
set_prompt q</pre></div>

<p dir="auto">Contributions can be sent in via Github PRs or via emailing a patch to
  <a href="https://github.com/qbit/ohmyksh/blob/main/~qbit/ohmyksh@lists.sr.ht">~qbit/ohmyksh@lists.sr.ht</a>.</p>
<p dir="auto">If you do send in a contribution, please include a .org file which describes the
  feature set. The org syntax is available <a href="https://orgmode.org/quickstart.html" rel="nofollow">here</a>, however, one will likely be able
  to just copy an existing file and modify it.</p>
</article></div></div>
  </body>
</html>
