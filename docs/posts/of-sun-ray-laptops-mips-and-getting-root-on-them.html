<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://oldvcr.blogspot.com/2023/04/of-sun-ray-laptops-mips-and-getting.html">Original</a>
    <h1>Of Sun Ray laptops, MIPS and getting root on them</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-3417553537824380458" itemprop="description articleBody"><p>
I like Sun Ray laptops. They make surprisingly useful thin clients. Here, going from right to left, I&#39;m playing Quake on my Solaris UltraBook IIi while it serves a Sun Ray session via Sun Ray Server Software (SRSS) to my silver Sun Ray 2N in the middle, and on my Accutech Gobi on the left I&#39;m root.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQ9W1M14wCow9pvqbEY2PtlC34P6jmH8wSvvG1qDKuUBTcUnE7odruHG-ly3hN5S4NUMRl44G7cQGztAKPVJQxniQLtbYoadAcbl8iqX6PGSSQTg5sekYMSkZa4gvFDpxs54YgXMW1SHYWwnDdOd6SaOlYDpQW2WYoHXGXmPxz-lqJ6ld4OK8w6hnp/s4080/PXL_20230420_151045004.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQ9W1M14wCow9pvqbEY2PtlC34P6jmH8wSvvG1qDKuUBTcUnE7odruHG-ly3hN5S4NUMRl44G7cQGztAKPVJQxniQLtbYoadAcbl8iqX6PGSSQTg5sekYMSkZa4gvFDpxs54YgXMW1SHYWwnDdOd6SaOlYDpQW2WYoHXGXmPxz-lqJ6ld4OK8w6hnp/s320/PXL_20230420_151045004.jpg" width="320"/></a></p><p>

Wait, what? Root on a <em>thin</em> client?
</p><p>
Let&#39;s rewind a little.
<a name="more"></a>
</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEigT0hoDtDnq3WVTWWMQ8tV5Mr1n0BkAvjrPtAJsWllF6LI7k8-uuk6-Rdg9-F7RmmJcLMySFKHBSZhT1uQ23UqyYH-Bb_C-q39t1y-HqNbLwMQZzwEJROGWjSzeGhHSxcSF_cbX0QDAQNrZnY7TL8BPf11PpNy5tF1OWS0KPVWixIjLw6IGrBI6s1r/s2048/tnitc.jpg"><img alt="" data-original-height="1716" data-original-width="2048" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEigT0hoDtDnq3WVTWWMQ8tV5Mr1n0BkAvjrPtAJsWllF6LI7k8-uuk6-Rdg9-F7RmmJcLMySFKHBSZhT1uQ23UqyYH-Bb_C-q39t1y-HqNbLwMQZzwEJROGWjSzeGhHSxcSF_cbX0QDAQNrZnY7TL8BPf11PpNy5tF1OWS0KPVWixIjLw6IGrBI6s1r/s320/tnitc.jpg" width="320"/></a></p><p>

In 1984 Sun Microsystems adopted as their corporate slogan John Gage&#39;s famous observation that &#34;The Network is the Computer,&#34; one of many neat fragments of history left to rot after Larry &#34;Destroyer of Worlds&#34; Ellison&#39;s Oracle bought them out in 2010. (Fittingly, at least to me, Cloudflare <a href="https://spectrum.ieee.org/does-repurposing-of-sun-microsystems-slogan-honor-history">acquired the rights</a> to the disused trademark in 2019. This is an official Sun swag mousepad I picked up back in the day.) False starts <a href="http://oldvcr.blogspot.com/2022/10/if-one-guis-not-enough-for-your-sparc.html">like NeWS</a> aside, Sun believed in the idea so deeply that they put significant resources into developing thin clients serviced by their hardware to complement their more typical workstations.
</p><p>
In Sun&#39;s ideal world, a user would run programs on a central server (a Sun, of course), having their session follow their smart card seamlessly from terminal to terminal along with any other shared resources they might require. While Sun produced the JavaOS-based <a href="https://hackaday.com/2018/04/10/the-forgotten-workstation-sun-javastation/">JavaStation</a> in 1996 — ironically based on Oracle&#39;s Network Computer concept — it used relatively expensive hardware, being essentially a miniaturized SPARCstation 4. Instead, the new proof of concept for a cheaper, more connected world was <a href="https://marcschneider.weebly.com/sun-ray.html">the 1997 NetWorkTerminal &#34;NeWT&#34;</a> — one wonders if that abbreviation was a coincidence — based on Sun&#39;s MicroSPARC IIep CPU, and that prototype in turn evolved into the first Sun Ray thin client in 1999, codenamed Corona.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhYqVOw9hbeInmxB3klSfUFcvzOq0Erjnw__Mk7V05gPW8FfXOWi2A0NRjzjpzVplkGyzwVR5YZwXDl10aqb6xn_N6LTOa5ZUNCQRCQAZXEru64PNyzU6BhP2jbNvfqGVw16woCKMBl2CWqoUe_W3YqjmQXLlX5nbt8PY3tBcG-UYoj-fbrxK8XEUC8/s2467/network.jpg"><img alt="" data-original-height="2467" data-original-width="1900" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhYqVOw9hbeInmxB3klSfUFcvzOq0Erjnw__Mk7V05gPW8FfXOWi2A0NRjzjpzVplkGyzwVR5YZwXDl10aqb6xn_N6LTOa5ZUNCQRCQAZXEru64PNyzU6BhP2jbNvfqGVw16woCKMBl2CWqoUe_W3YqjmQXLlX5nbt8PY3tBcG-UYoj-fbrxK8XEUC8/s320/network.jpg" height="320"/></a></p><p>

We first talked about the Sun Ray line some months back by looking at one of its <em>last</em> examples, the laptop <a href="http://oldvcr.blogspot.com/2021/08/cracking-into-sun-ray-general-dynamics.html">Tadpole M1400 and its General Dynamics rebadge</a>. Sun produced the <em>first</em> generation Sun Rays not only as sidecar desktop devices that connected to a monitor, keyboard and mouse, but even built some of them into CRT displays reminiscent of Apple&#39;s contemporary G3 iMac (which also inherited technologies from the Oracle Network Computer via the unreleased Macintosh NC) and LCD flat panels.
</p><p>
However, just like it had to go cheaper to win, if the Sun Ray way was to become truly omnipresent then it would have to go portable as well. That was where the 500nm microSPARC IIep, as diminutive as it was for SPARCs of the time, couldn&#39;t make the grade: the Sun Ray 1G required 20 watts just to run, not counting the display it was connected to, and at least five watts of that went to the 100MHz CPU alone. Downclocking it wasn&#39;t an option either, as the CPU was already too underpowered to cope with the stream; a 2006 InfoWorld article accused early Sun Rays of being &#34;network-clobbering&#34; and &#34;stuttering.&#34; So Sun jumped from SPARC to MIPS with the Sun Ray 2, and that&#39;s where our story begins.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhxmYxC-Sb1XZyuybBC9rt-UH24DkPI18fv1ECwxqSfJDL1KHOI9jI_WcPnBY0rY4sECfyqyB8bRNZXgv9SP5RgZPFhMfNHviaHk-1zUPKoCpmVdUcopsKkojbU0poBe4nLZrrhDUBdzsqf1wUEp3Q8mKSCNb7hgXbhoRgdsccniHfln86SY-wKoFqF/s1440/AlDiff.png"><img alt="" data-original-height="1080" data-original-width="1440" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhxmYxC-Sb1XZyuybBC9rt-UH24DkPI18fv1ECwxqSfJDL1KHOI9jI_WcPnBY0rY4sECfyqyB8bRNZXgv9SP5RgZPFhMfNHviaHk-1zUPKoCpmVdUcopsKkojbU0poBe4nLZrrhDUBdzsqf1wUEp3Q8mKSCNb7hgXbhoRgdsccniHfln86SY-wKoFqF/s320/AlDiff.png" width="320"/></a></p><p>

The MIPS migration occurred as a consequence of converting the first generation Sun Rays to Sun&#39;s bespoke Copernicus SoC, which combined the IIep core with 4MB of DRAM <a href="https://patents.google.com/patent/US6993617B2/en">on chip</a> (the ATI Rage 128 handling 2D graphics remained separate with its own dedicated memory). During Copernicus&#39; development, <a href="https://marcschneider.weebly.com/sun-ray.html">Sun Ray engineer Marc Schneider</a> had considered using the new low-power embedded MIPS Au1 core developed by fabless semiconductor company Alchemy, but there was little appetite at the time for rewriting the onboard firmware to run on a completely new architecture. Alchemy was founded in 1999 by refugees from DEC&#39;s StrongARM development team, which was dissolved after Intel acquired the IP in 1997 and turned it into their XScale CPU line (other team members went on to found SiByte, which developed a MIPS core of their own). The Au1 core was a scalar, in-order core based on the 1999 MIPS32 specification with five pipeline stages. It featured an R4000-class MMU, a 16/32-bit multiply-accumulate unit and a one-bit-per-cycle hardware divider. However, to shrink die space and reduce power consumption, the Au1 eliminated the FPU, removed support for MIPS-16 compressed instructions and supervisor mode, and replaced virtual address translation with a TLB-based strategy and an exception handler in software instead of having the hardware walk page tables. It could also completely stop all clocks to the core units until reactivated.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiqtKPosl1Tna1S2hiemdMtIMdGH1b45cmgZ1hTLN96j3Wze9S0jm0umTs58rZOypS7uXCYueetSJzYbISyteNcCod6xhufdxn2kXZX_sujv3FXCgSYu6Zti8jjIVhBqJrO2e8TNj_4rF9c1wUSfXoPnT3YfElKxRLXN4XOGy6WrAd8cqzQuxUBRiiZ/s1440/Au1000SOC.png"><img alt="" data-original-height="1080" data-original-width="1440" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiqtKPosl1Tna1S2hiemdMtIMdGH1b45cmgZ1hTLN96j3Wze9S0jm0umTs58rZOypS7uXCYueetSJzYbISyteNcCod6xhufdxn2kXZX_sujv3FXCgSYu6Zti8jjIVhBqJrO2e8TNj_4rF9c1wUSfXoPnT3YfElKxRLXN4XOGy6WrAd8cqzQuxUBRiiZ/s320/Au1000SOC.png" width="320"/></a></p><p>

The first Au1 chip was the Au1000 SoC in 2001, a 180nm part with integrated SDRAM, flash, USB, serial (IrDA and UART) and Ethernet controllers. It had 16K each of I- and D-cache and ran up to 500MHz but with a top TDP of only 900 milliwatts. Although the Au1000 family, notably the beefier 1.2W Au1500 with an on-board PCI controller, got design wins in a few embedded applications, Alchemy was still just a small startup and ran into issues landing a second funding round to expand. In 2002 AMD bought Alchemy outright to directly compete with XScale in the embedded sector and introduced the 130nm Au1550 in 2004, a die-shrink of the Au1500 intended for high-security network applications with the SafeNet Security Engine providing an entropy-based RNG and hardware acceleration for DES, 3DES, AES, RC4, MD5 and SHA-1. It also ran up to 500MHz with the same cache and on-die peripherals but a new lower &#34;typical&#34; power draw of under 600mW, maxing out at 1460mW. Nothing in the SPARC ecosystem could match it for power consumption, making it suitable for portable Sun Rays, but it was nevertheless more capable than XScale, meaning the same chip could power the next generation of desktop Sun Rays too. Sun selected the Au1550 and the first Sun Ray 2 (internally designating the series as &#34;P8&#34;) came out in 2005, paired with 4MB of Flash and an ATI R100-derived ES1000 framebuffer sharing 16MB of RAM. With this design Sun met its goal: the new hardware could more effortlessly handle more demanding applications at greater resolutions, and typical power consumption for the entire system was just four watts plus display.
</p><p>
The Sun Ray laptop story is a bit more prosaic. Yes, it may surprise some of you to hear that there really were Sun laptops. That said, however, Sun never designed a laptop of their own themselves even for their high-margin SPARC line, entirely relying on third parties to do so, and even the laptops that Sun <em>did</em> sell were designed and OEMed by others. Of these partner OEMs, the most notable were U.S.-based RDI and U.K.-based Tadpole, who later bought out RDI, and Taiwan-based <a href="http://web.archive.org/web/20050404004528/http://www.naturetech.com.tw:80/">Nature Worldwide Technology Corporation</a>, nicknamed Naturetech. What Sun sold as their Ultra-3 laptop was actually a condominium of no less than <em>five</em> discrete models: Tadpole&#39;s UltraSPARC IIIi Viper and both versions of their UltraSPARC IIi SPARCle (all based on the Acer TravelMate 420 chassis) as the Ultra-3 A60, and Naturetech&#39;s UltraSPARC IIIi Mesostation 999 and UltraSPARC IIi PowerBook 888P as the Ultra-3 A61. The two lines were visually different, with the Tadpoles in an arresting lavender case and the 888 and 999 in severe graphite and black, causing some confusion among buyers as they were otherwise completely unrelated. I have an Viper A60 Ultra-3, which puts out a prodigious amount of heat and drains batteries dry in less than an hour full tilt, and you should never use it on your lap if you want to have children (or a filesystem).
</p><p>
In a like fashion, the first Sun Ray laptop didn&#39;t come from Sun either. Tadpole, then newly acquired by General Dynamics, used a modification of the SPARCle design as the 2005 <a href="http://web.archive.org/web/20060622211954/http://www.tadpole.com/products/notebooks/comet12.asp">Comet 12</a> and <a href="http://web.archive.org/web/20060622211939/http://www.tadpole.com/products/notebooks/comet15.asp">Comet 15</a> with the same UltraSPARC IIep and the same basic drawbacks. The SPARCle case was fine for an actual Solaris laptop, but calling the relatively heavy unit a thin client was a poor joke, and Sun didn&#39;t adopt it for sale. Naturetech subsequently took their own shot at the market when the Sun Ray 2 was released, using the desktop unit as a reference design and the same MIPS and ATI chipset but adapting the case and battery from another Taiwanese OEM laptop, <a href="https://www.small-laptops.com/ecs-g220/">the G220 notebook from Elitegroup</a>. Naturetech called it the Jasper 320. Sun liked the thinner profile and reduced weight, and badged it as the Sun Ray 2N for <a href="http://web.archive.org/web/20070104060113/http://jp.sun.com/products/desktop/sunray/sunray2n/">test-marketing in Japan</a> in 2006.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgflQgl-hXaJq47sho8qTlTsCXfkf2wEOwPgPP-pQ1F58JXym4WpWGMfFydAs-5JrQYuGJcFJlcnzY-0GauMtsDNEedb-2VwCWQN3uH3maOz0QAkGBs8YGLvBiPmlW3iQ6nH0qNYZdOehUCb3gGB5oZIdsvIFKaN4C1vOyMbJzHeN7Sg9UjQEV8D5qT/s4080/PXL_20230411_214015458.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgflQgl-hXaJq47sho8qTlTsCXfkf2wEOwPgPP-pQ1F58JXym4WpWGMfFydAs-5JrQYuGJcFJlcnzY-0GauMtsDNEedb-2VwCWQN3uH3maOz0QAkGBs8YGLvBiPmlW3iQ6nH0qNYZdOehUCb3gGB5oZIdsvIFKaN4C1vOyMbJzHeN7Sg9UjQEV8D5qT/s320/PXL_20230411_214015458.jpg" height="320"/></a></p><p>

This is my personal 2N, acquired practically unused in its original packaging.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjJE1gYkiF_60ynRACFV9tl6uUHQIPE5ATxo5WLkF_pPRuxt9bbaYIS9T-IZqFOBlH4K6h9Gi2gLrxpouAvJ-4xEvf27EZek50CnK9ApD1X0wj3ifUpdwho6A2Pwf3oW8JBcFdRTGx7h8JGOomOdCV9cJo15_Iln9juWP_vS9ZR4n5ti3LhN5KRMOl2/s4080/PXL_20230411_214137126.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjJE1gYkiF_60ynRACFV9tl6uUHQIPE5ATxo5WLkF_pPRuxt9bbaYIS9T-IZqFOBlH4K6h9Gi2gLrxpouAvJ-4xEvf27EZek50CnK9ApD1X0wj3ifUpdwho6A2Pwf3oW8JBcFdRTGx7h8JGOomOdCV9cJo15_Iln9juWP_vS9ZR4n5ti3LhN5KRMOl2/s320/PXL_20230411_214137126.jpg" height="320"/></a></p><p>

If this manifest is to be believed, this unit was made and shipped in 2007. The 2N came with both 10/100 Ethernet and 802.11b+g WiFi. The WiFi supports WEP, WPA-PSK and WPA2-PSK for authentication, and WEP, WPA-AES and WPA-TKIP for encryption.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhm8SygZCfrjOqT5UiT6e3-qn9pszKhUsNCy9XpuNW4gunMhdlwZvuMy27_ysgeC9ZpndRNOAwq6SKxwb6a4gS1-12uaJAWO64B4eXbHQAN-YtFNhbGpTEmFnMPNeQCSZNY0I0nFhfu2PMdeGAjGYoGnbLw-3VE-hDzJ0I-_IxWNqX6FCmSxKmG-tRq/s4080/PXL_20230411_214533227.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhm8SygZCfrjOqT5UiT6e3-qn9pszKhUsNCy9XpuNW4gunMhdlwZvuMy27_ysgeC9ZpndRNOAwq6SKxwb6a4gS1-12uaJAWO64B4eXbHQAN-YtFNhbGpTEmFnMPNeQCSZNY0I0nFhfu2PMdeGAjGYoGnbLw-3VE-hDzJ0I-_IxWNqX6FCmSxKmG-tRq/s320/PXL_20230411_214533227.jpg" width="320"/></a></p><p>

Everything in the box, including a very brief manual (in English, however), battery and standard laptop power supply.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgk6cQc4c8u_vnnzkIz9PhesURi7o8tMUYdtPKBesvkUOK4Kcph4F03JmXjKwd8yqbAgym-lqcCJKdLmO9-iyeUNRYAuitcJKJ_IyxVOnoXe0FYebEUHy9ezwZY07Ct3VNdPPPnpwbQbjVIfYA6vD8Sx3C5iK0fjp6-m06fxY9ma6oiWuU2LYUk3OZN/s4080/PXL_20230411_215021876~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgk6cQc4c8u_vnnzkIz9PhesURi7o8tMUYdtPKBesvkUOK4Kcph4F03JmXjKwd8yqbAgym-lqcCJKdLmO9-iyeUNRYAuitcJKJ_IyxVOnoXe0FYebEUHy9ezwZY07Ct3VNdPPPnpwbQbjVIfYA6vD8Sx3C5iK0fjp6-m06fxY9ma6oiWuU2LYUk3OZN/s320/PXL_20230411_215021876~2.jpg" width="320"/></a></p><p>

In case you didn&#39;t believe it&#39;s a Sun, it&#39;s right there on the top.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh3myjjZfhfvCGseOEtx611gIiZMTEP3UcorNrZFuyU5cJAm-TBy61L0ynCIo9jXTZAcwA6zy74Uzh04YV-jJ_jSL3qbkLUaSCVFuHa90bWbl1217yq0sA7sFWAliX8g9_Fv2GD9PBG8xMqIqvtohMLpdujE4mqDvrtKvDfl3Bay0jYjZ2SvLpa7AOf/s4080/PXL_20230411_222119411~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh3myjjZfhfvCGseOEtx611gIiZMTEP3UcorNrZFuyU5cJAm-TBy61L0ynCIo9jXTZAcwA6zy74Uzh04YV-jJ_jSL3qbkLUaSCVFuHa90bWbl1217yq0sA7sFWAliX8g9_Fv2GD9PBG8xMqIqvtohMLpdujE4mqDvrtKvDfl3Bay0jYjZ2SvLpa7AOf/s320/PXL_20230411_222119411~2.jpg" width="320"/></a></p><p>

And it&#39;s right there on the keyboard. The layout is a standard JIS keyboard with Sun-specialized keys, though most aren&#39;t active in Sun Ray mode, and the firmware largely treats it like a US keyboard. The gap between the display hinges is where the battery would go ordinarily. Any G220-compatible battery will work and the machine was shipped with one. The touch pad isn&#39;t fabulous but it works.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgD-idGw2AEgYkDZYgQ8nl8eW8U-cZ4qWEM3tQzMcjdw4HhNkkdEMld2E03SqX6z7yPNHH6zwGPRMNX5xwEwo2-JbvN6zCDr1hWx9gPJ2KR-wJNVhghWTPZIX9IQCfX-gxiVFIyjK3wscWnX-gmT1_FUVfSBPFfisZ6-TTto9aFqNQvmhPDtcsAQGNo/s4080/PXL_20230411_222223555.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgD-idGw2AEgYkDZYgQ8nl8eW8U-cZ4qWEM3tQzMcjdw4HhNkkdEMld2E03SqX6z7yPNHH6zwGPRMNX5xwEwo2-JbvN6zCDr1hWx9gPJ2KR-wJNVhghWTPZIX9IQCfX-gxiVFIyjK3wscWnX-gmT1_FUVfSBPFfisZ6-TTto9aFqNQvmhPDtcsAQGNo/s320/PXL_20230411_222223555.jpg" width="320"/></a></p><p>

On the left side is a VGA port for mirroring, Ethernet jack and (replacing the G220&#39;s PCMCIA slot) a smartcard slot. The phone jack on the corner, obviously originally for a built-in modem, is blocked off. The 2N&#39;s VGA port only supports display mirroring and cannot extend the desktop, which is why I conclude it was based on the original Sun Ray 2 rather than the enhanced 2FS, which can.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUM9z1WB_gh5pEB-QQkxrfUsZ_zuzny1tnI7hCCsxqiZCymOIRkYcscZJcDaQJBnOIQm5TIvxs2HrTqci6whaFTYpZNZghGmQ9J2gXOHRBTxjlUo8mPHxDAb1NDQZMx3twXuHrvs08BU872qpAIrHzD7ijG_Moyx_dH85nk0_E5dJDLD_aSSrCV002/s4080/PXL_20230411_222305006.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUM9z1WB_gh5pEB-QQkxrfUsZ_zuzny1tnI7hCCsxqiZCymOIRkYcscZJcDaQJBnOIQm5TIvxs2HrTqci6whaFTYpZNZghGmQ9J2gXOHRBTxjlUo8mPHxDAb1NDQZMx3twXuHrvs08BU872qpAIrHzD7ijG_Moyx_dH85nk0_E5dJDLD_aSSrCV002/s320/PXL_20230411_222305006.jpg" width="320"/></a></p><p>

The right side just has three USB 1.1 ports. The rest is where the optical drive would have been with the G220 but is completely blocked off in the 2N. The firmware won&#39;t mount any devices connected here but does appear to recognize keyboards and mice. Three whole ports just for that purpose strikes me as an excessive number (after all, it already has a keyboard and track pad!) and it seems to be merely because the G220 had them.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiLhYRzlUPOhkoDvVwg1MnVY2PREC-49AedVLqYOhpqgWfPbSVhYTOxmhUKX6irMlstvxldnfK5FgkaQGt7GYJcxjFgJmB3swOL0FwitwelIBDDJ2Oc2ebQV9ke-yOufsZzYhbcJqyPTNW1TDJo1kLwjWGQV9lxnzck2fKJexhdYyrGmasWedRMg5NX/s4080/PXL_20230411_222237252.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiLhYRzlUPOhkoDvVwg1MnVY2PREC-49AedVLqYOhpqgWfPbSVhYTOxmhUKX6irMlstvxldnfK5FgkaQGt7GYJcxjFgJmB3swOL0FwitwelIBDDJ2Oc2ebQV9ke-yOufsZzYhbcJqyPTNW1TDJo1kLwjWGQV9lxnzck2fKJexhdYyrGmasWedRMg5NX/s320/PXL_20230411_222237252.jpg" width="320"/></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEglg5QDldI74rhejbbHHPAprtOUPkej82XP3qcqQAzgb385Net-i08FHecxAp8uAqc-z7Xim75Fd9_ih6JM_ljuGjkV_eSqUEgNvVJqXnm4gY73quCY8eH7uPSxOX3T35YoDsivrc9AAZg0RfhVuhPeLigNU_s-1pFloj0tU2w_R6UQqJ6EyZrsAbvC/s4080/PXL_20230411_222319657.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEglg5QDldI74rhejbbHHPAprtOUPkej82XP3qcqQAzgb385Net-i08FHecxAp8uAqc-z7Xim75Fd9_ih6JM_ljuGjkV_eSqUEgNvVJqXnm4gY73quCY8eH7uPSxOX3T35YoDsivrc9AAZg0RfhVuhPeLigNU_s-1pFloj0tU2w_R6UQqJ6EyZrsAbvC/s320/PXL_20230411_222319657.jpg" width="320"/></a></p><p>

On the front, there are headphone and microphone jacks (speakers are in the display), and on the rear are the battery terminals, Kensington lock and A/C barrel jack.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgtH_Ana109Bnzae_7OdOU4w6VGSApen6BMBKHcW84WlAtjMpVb_2_jSqMQzSLe9EXM32bWeaB2FsrP0sCEKzZreZ5AkTO-OeRmmVZ6s3-jiq9OiaF42nvbJrwQc1DB_C_4vlGjAxfcsOfLg1NecgeIb4oMBbVfzGAR6trSDKkd5F-EJGrfqkhitE_Y/s4080/PXL_20230411_215111041~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgtH_Ana109Bnzae_7OdOU4w6VGSApen6BMBKHcW84WlAtjMpVb_2_jSqMQzSLe9EXM32bWeaB2FsrP0sCEKzZreZ5AkTO-OeRmmVZ6s3-jiq9OiaF42nvbJrwQc1DB_C_4vlGjAxfcsOfLg1NecgeIb4oMBbVfzGAR6trSDKkd5F-EJGrfqkhitE_Y/s320/PXL_20230411_215111041~2.jpg" width="320"/></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgE_yqWdqR7a-0ZOWLrg6ruaS-eeCN1byGb9twPP7B8o6HkcnGZEk5YbK7U8RIZfQxnzxPwvWxjl8429UZ7VseYKRKk93je9hEkKqCQs5vFAscyrTK-TbWo0T1Y6qA7MGmxV-IsiP79lSAgNOsZhdDZlAD4mVw3g_s_JHM6gP89fZ9FNzQ2mZPMiFyj/s4080/PXL_20230411_215538557.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgE_yqWdqR7a-0ZOWLrg6ruaS-eeCN1byGb9twPP7B8o6HkcnGZEk5YbK7U8RIZfQxnzxPwvWxjl8429UZ7VseYKRKk93je9hEkKqCQs5vFAscyrTK-TbWo0T1Y6qA7MGmxV-IsiP79lSAgNOsZhdDZlAD4mVw3g_s_JHM6gP89fZ9FNzQ2mZPMiFyj/s320/PXL_20230411_215538557.jpg" width="320"/></a></p><p>

The underside is where it starts to get more interesting. Even though they served no real purpose, Naturetech kept the CPU, hard disk and RAM doors of the G220 and adapted the Jasper logic board to fit. They also kept the fan vent despite the fact none of these chips get hot enough to even merit a heat sink.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEja4JrW-MAGRzAgTlrA7a2TMfW1c_xmq98uSiZ3PNiTpiSXVI6cWrZynj2WbeGEWPRXHxR9il9YACimQFrMbmo_7oTtP2zTkqmwjSP3iyWuqjFFrf9gzJUD9L05LF7eyVd33Gm0S6RFeJR9dfD3vYZYZqiMAHX4-UDzuOPDryfm4u5UbBTGwysyspWL/s4080/PXL_20230411_220001669.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEja4JrW-MAGRzAgTlrA7a2TMfW1c_xmq98uSiZ3PNiTpiSXVI6cWrZynj2WbeGEWPRXHxR9il9YACimQFrMbmo_7oTtP2zTkqmwjSP3iyWuqjFFrf9gzJUD9L05LF7eyVd33Gm0S6RFeJR9dfD3vYZYZqiMAHX4-UDzuOPDryfm4u5UbBTGwysyspWL/s320/PXL_20230411_220001669.jpg" width="320"/></a></p><p>

However, there&#39;s absolutely nothing in the hard disk bay, not even a connector.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJh-ovbAFaxs5I6vvYC67yDtlP-9kd9dXVJ-8bP3TI40I6HGP1tCf_DV35ZHcR0BFwGp77I72ksCN8c2ClCv3DxiLBYVo_RLnCM8fXTJu2fqyXCGoibGDhTnpHrT4HBO-LMbdfgSzSr9d9x3qq2qtYUR86Ki8Z2AcAYhTusdzaF_xUVnKczOaqoGad/s4080/PXL_20230411_215849435.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJh-ovbAFaxs5I6vvYC67yDtlP-9kd9dXVJ-8bP3TI40I6HGP1tCf_DV35ZHcR0BFwGp77I72ksCN8c2ClCv3DxiLBYVo_RLnCM8fXTJu2fqyXCGoibGDhTnpHrT4HBO-LMbdfgSzSr9d9x3qq2qtYUR86Ki8Z2AcAYhTusdzaF_xUVnKczOaqoGad/s320/PXL_20230411_215849435.jpg" width="320"/></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjRennxp1dDPnTEGtYAACreA_-8Y7LabbddY263IlCMwBVpg-UYa20iosRHUBKkRBi32laRqtgwsYddpjrhcuRm5VH3jYF8Hb3retGWDxfu8NmgSinFKE1GWGJWbWhOGmxvWACs74zTo9K9KAJdfCJAJSdVpeQhYZsxiWEzHj_ceSU8uRi8sILaoM4A/s4080/PXL_20230411_220111457.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjRennxp1dDPnTEGtYAACreA_-8Y7LabbddY263IlCMwBVpg-UYa20iosRHUBKkRBi32laRqtgwsYddpjrhcuRm5VH3jYF8Hb3retGWDxfu8NmgSinFKE1GWGJWbWhOGmxvWACs74zTo9K9KAJdfCJAJSdVpeQhYZsxiWEzHj_ceSU8uRi8sILaoM4A/s320/PXL_20230411_220111457.jpg" height="320"/></a></p><p>

Similarly, in the RAM bay, there&#39;s no RAM. Instead, the wireless card connects here with an SO-DIMM like connector, based on a Ralink RT2561T. Under it we see the Jasper designation on a sticker. The smartcard chip reader is visible on the southeast side.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjKGQHvUIP6wiPfL8lfFoZuu09HsQJDK8ApZLFdaH18YiZbo4qpPbQQXb2DQBw0nl6I5KdfIFfPaaFBhjO-_fLuKR8TpeoIP-AA_FRqBWvxBv86L1I-1b5GmQeWdE4BNYbNuxu4i7vb4x0HuF9UFDJ1LyFSAjMq31PIq_AB01wtISyQBnfbCzPjdv9M/s4080/PXL_20230411_215639458~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjKGQHvUIP6wiPfL8lfFoZuu09HsQJDK8ApZLFdaH18YiZbo4qpPbQQXb2DQBw0nl6I5KdfIFfPaaFBhjO-_fLuKR8TpeoIP-AA_FRqBWvxBv86L1I-1b5GmQeWdE4BNYbNuxu4i7vb4x0HuF9UFDJ1LyFSAjMq31PIq_AB01wtISyQBnfbCzPjdv9M/s320/PXL_20230411_215639458~2.jpg" width="320"/></a></p><p>

The CPU is at position U25, a 500MHz Au1550. West of it in this view is the single Hynix 5DU281622ETP-5 16MB SDRAM chip, the lowest-binned 200MHz 8Mx16 in that family. Remember: cheap!

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEivsQY3lnpDLrLstsTM8249rErJz2qo30ZyNMEfOcqC2N1F0CIV2nhw-ZfRG33KOt6rjzV2rUbi_imoQDMTzi-ScwEwwph1luTUX-_B8HRwxKUiMQlT1dAZWqhPLs5SgzqwaJKfYbTRxU8v4FKiAviXcrJ1e6HJwFvv0zLuWHomy48Wp8VFIB8uRPhS/s4080/PXL_20230411_220327431~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEivsQY3lnpDLrLstsTM8249rErJz2qo30ZyNMEfOcqC2N1F0CIV2nhw-ZfRG33KOt6rjzV2rUbi_imoQDMTzi-ScwEwwph1luTUX-_B8HRwxKUiMQlT1dAZWqhPLs5SgzqwaJKfYbTRxU8v4FKiAviXcrJ1e6HJwFvv0zLuWHomy48Wp8VFIB8uRPhS/s320/PXL_20230411_220327431~2.jpg" width="320"/></a></p><p>

The nearby ATI ES1000 framebuffer is an R100 derivative and shares the SDRAM with the CPU. As a simple framebuffer this is adequate.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgIc8tFzRFZtF4N00IoDKxOq-j-j22hyNRd7V7vzafP5y3bGbTmdRnG7ywxosMKFe9EvLXu_YbOtHIUUPSe4ehvepCaooV7XyVcCFYb2XSbGMWcNTTuV_INOiZmMdOonsEbGJo8PqsbF7AAyPJ9PYdfGEDix0Z94KJl_kjMyKib4fZBuZB653wrVQP9/s4080/PXL_20230411_221248769.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgIc8tFzRFZtF4N00IoDKxOq-j-j22hyNRd7V7vzafP5y3bGbTmdRnG7ywxosMKFe9EvLXu_YbOtHIUUPSe4ehvepCaooV7XyVcCFYb2XSbGMWcNTTuV_INOiZmMdOonsEbGJo8PqsbF7AAyPJ9PYdfGEDix0Z94KJl_kjMyKib4fZBuZB653wrVQP9/s320/PXL_20230411_221248769.jpg" height="320"/></a></p><p>

The display is a 12&#34; 1024x768 75Hz/24-bit TFT LCD and isn&#39;t too bad, considering (a virtual desktop extends up to 1280x1024 as you move the pointer). Sun badging is prominent not only on the bezel but practically clubs you over the head as well when you turn it on. 
</p><p>
If you&#39;ve never used a Sun Ray device before, you might find the display window rather curious. Rather than localizing prompts and status text in the firmware, Sun chose to use an icon display language (&#34;On-Screen Display&#34;) which vendors were obligated to implement. What text does appear is limited to addresses and <a href="https://docs.oracle.com/cd/E22662_01/E22661/html/TroubleIcons-Quick-Ref.html">status codes</a>. The OSD shown here is an evolution of the blue-background OSD used by first generation Sun Rays, but has the same status codes and basic <a href="https://crewsproject.wordpress.com/2017/05/12/aliens-standard-semiotic-pictograms-and-icons/">semantics</a>. The first window it pops up shows its MAC address and status 1, meaning it&#39;s configuring the onboard Ethernet. Within seconds it will try to get a DHCP lease and find a host, much like any other active parasite.
</p><p>
It&#39;s time to connect this silvery zombie to a source of brains. The following grabs are directly from the VGA port through my INOGENI VGA2USB3 at the native resolution of 1024x768. The only edits are to censor my internal test network information because some of you are delightful and naughty.
</p><p>
Here are the five <s>Kübler-Ross</s> stages of Sun Ray <s>grief</s> connection:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgeHHYhh1BLKhyD7a7Lc1Rh0a9Fk8Js9wRwEBFzAN1HIyRREhvZC7gLMbCPMIUJ-6f4Z4kutXHjZPkdffDMHb-QBt5iV6rOZDihSbkgqICNA3Xg1pfqyoPjDhLgeGtB5ERwkXCC7XKtu59f-QeBaV3XdD4id-EoEQeyGYltFR-ZO7ignaeCvgBhabYr/s1024/vlcsnap-2023-04-20-11h23m31s455.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgeHHYhh1BLKhyD7a7Lc1Rh0a9Fk8Js9wRwEBFzAN1HIyRREhvZC7gLMbCPMIUJ-6f4Z4kutXHjZPkdffDMHb-QBt5iV6rOZDihSbkgqICNA3Xg1pfqyoPjDhLgeGtB5ERwkXCC7XKtu59f-QeBaV3XdD4id-EoEQeyGYltFR-ZO7ignaeCvgBhabYr/s320/vlcsnap-2023-04-20-11h23m31s455.png" width="320"/></a></p><p>

Denial (1): I don&#39;t believe there&#39;s a network (yet).

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhUhwzCZIGhK4wyCvUhcL4fZvU4V0dMP1JluMaVE7G5NiJepCoGY_b-IDSt90XZSdTKDakPmDqe1UrCQGg15-OhHltafHe5McBKhjRtIemU14KmQ3kp7jp2Ax9rw0kYdvukJEzbaPVEzBOSnYxI0qseSW1FGuD2abHYakb-q3_7JpToXLT7VgKn5U-l/s1024/vlcsnap-2023-04-20-11h23m36s706.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhUhwzCZIGhK4wyCvUhcL4fZvU4V0dMP1JluMaVE7G5NiJepCoGY_b-IDSt90XZSdTKDakPmDqe1UrCQGg15-OhHltafHe5McBKhjRtIemU14KmQ3kp7jp2Ax9rw0kYdvukJEzbaPVEzBOSnYxI0qseSW1FGuD2abHYakb-q3_7JpToXLT7VgKn5U-l/s320/vlcsnap-2023-04-20-11h23m36s706.png" width="320"/></a></p><p>

Anger (21): I found Ethernet, but I have no DHCP address! What the Larry Ellison! (The Ethernet speed is correctly reported as 10Mbit half-duplex since I had it on the slow segment as a stress test. Remember this when we talk about the Gobi.)

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgoC8-p4gUP0lj6tspyX0TRUwHmHieCLQ4YOiaHUiOKGQ55p4v8lNQd_NZ7W_HFWDWAf-KLFMdSwSJEWip1LYZdPk5crxulg4tomq4SIllMW8rRdkv1UTbxxZ-GrvDA2Tb_kaW2cUb2BP2TCKgF1SpWNeO40Kyeevg0KOwDpVQKdEsOCSaUQodolbLC/s1024/vlcsnap-2023-04-20-11h23m40s941.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgoC8-p4gUP0lj6tspyX0TRUwHmHieCLQ4YOiaHUiOKGQ55p4v8lNQd_NZ7W_HFWDWAf-KLFMdSwSJEWip1LYZdPk5crxulg4tomq4SIllMW8rRdkv1UTbxxZ-GrvDA2Tb_kaW2cUb2BP2TCKgF1SpWNeO40Kyeevg0KOwDpVQKdEsOCSaUQodolbLC/s320/vlcsnap-2023-04-20-11h23m40s941.png" width="320"/></a></p><p>

Bargaining (22): I pleaded with the DHCP server and it gave me an address.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQctfMsK3eAsCdfegJkkhbu4Ah1HYXEG9tHMtL4Mt0IVbjCF8OvTfsuRG1pvz6wwxTDfqy9KNvko_HEGemwZGS0FEzJdXlsrYy1z7Yb7OoBcWNQW4J6Te2LPXUpxv9h6LO6DaWWPbU2oKQ6_EzBMVgeXkKJin5gwOt2re4P1mH8DKfFnup4-VqzZt5/s1024/vlcsnap-2023-04-20-11h23m45s096.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQctfMsK3eAsCdfegJkkhbu4Ah1HYXEG9tHMtL4Mt0IVbjCF8OvTfsuRG1pvz6wwxTDfqy9KNvko_HEGemwZGS0FEzJdXlsrYy1z7Yb7OoBcWNQW4J6Te2LPXUpxv9h6LO6DaWWPbU2oKQ6_EzBMVgeXkKJin5gwOt2re4P1mH8DKfFnup4-VqzZt5/s320/vlcsnap-2023-04-20-11h23m45s096.png" width="320"/></a></p><p>

Depression (26): I found a server but it won&#39;t talk to me yet. (In this case, </p><tt>scottie</tt><p>, the Solaris laptop, had responded to the 2N&#39;s broadcast query and will shortly start the session. I guess you could insert a couple more stages in here like actually sending the broadcast query [27], but that interferes with my joke, dammit. You can also configure fixed DNS entries [</p><tt>sunray-config-servers</tt><p>, </p><tt>sunray-servers</tt><p>] or send DHCP option 49 [X Window System Display Manager] addresses to hint the client. The DHCP server on this network provides those entries.)

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgi6_42PYZCkghlyly4CRnGBmVgjlE98wi4xrWeN5zS9A22d4kGUiiS5auteZtknYwlh2T0Nd0j4rrNfnhxE5rjQGq9HxbDzOezIL_xMQszvyH7umZuPVBCfvf2VCV2B4PWaATJ__RKMaecvUyrYb1BTe0KrfKnNmOYu1VJXXxo41gyiPJYhAabcxds/s1024/vlcsnap-2023-04-20-11h23m47s231.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgi6_42PYZCkghlyly4CRnGBmVgjlE98wi4xrWeN5zS9A22d4kGUiiS5auteZtknYwlh2T0Nd0j4rrNfnhxE5rjQGq9HxbDzOezIL_xMQszvyH7umZuPVBCfvf2VCV2B4PWaATJ__RKMaecvUyrYb1BTe0KrfKnNmOYu1VJXXxo41gyiPJYhAabcxds/s320/vlcsnap-2023-04-20-11h23m47s231.png" width="320"/></a></p><p>

Acceptance (14): my siren call was answered, I have found a source of brains and I will now drain its CPU and resources (over UDP-based Appliance Link Protocol, or ALP). This particular connection is not secured nor authenticated, but encryption and server authentication are generally possible (codes 11 through 13). A watchdog timer will soft-reset the unit and start the stages of </p><s>grief</s><p> connection over again if a successful link isn&#39;t made.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhHVRDCL39PI7L7iWHNwdznpIKWKZrDUCVCSoceX1QZGSJx5j4_RmW-oYT8ipHsxbOT5YDkt6jacADQULMcSc9nzKnI8F1ZwSniGFiHu-mqSv2rxTVJTeFgSRzxtPJwjhdShNKzaz2vBJU46imfMJbCKxERc2A_ADmOHDHzAku3XJBZz8i5r5kUF-iE/s1024/vlcsnap-2023-04-20-11h23m58s342.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhHVRDCL39PI7L7iWHNwdznpIKWKZrDUCVCSoceX1QZGSJx5j4_RmW-oYT8ipHsxbOT5YDkt6jacADQULMcSc9nzKnI8F1ZwSniGFiHu-mqSv2rxTVJTeFgSRzxtPJwjhdShNKzaz2vBJU46imfMJbCKxERc2A_ADmOHDHzAku3XJBZz8i5r5kUF-iE/s320/vlcsnap-2023-04-20-11h23m58s342.png" width="320"/></a></p><p>

Having connected, the screen is now a standard X display manager login. You log in. Simple! With a recognized smart card you can even completely skip this step.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi9dfXfyQfVoFUu2FDH8n6NJQXpFRPZNk_mIC0UioYP4Alp4n5Y_kJt1qBerQIp8Rad1WWkvaqvQel0CdMceL0CeB51qDzhOSjEeEI1sY-iyx3lH-QJKcZaznhXOGkxAJqEjIVdrEqs1sfo88etRyxHouzJ0dBY0oZ-Qh5r1pf8JD7KrzKNp2ZtZduT/s1024/vlcsnap-2023-04-20-11h25m11s632.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi9dfXfyQfVoFUu2FDH8n6NJQXpFRPZNk_mIC0UioYP4Alp4n5Y_kJt1qBerQIp8Rad1WWkvaqvQel0CdMceL0CeB51qDzhOSjEeEI1sY-iyx3lH-QJKcZaznhXOGkxAJqEjIVdrEqs1sfo88etRyxHouzJ0dBY0oZ-Qh5r1pf8JD7KrzKNp2ZtZduT/s320/vlcsnap-2023-04-20-11h25m11s632.png" width="320"/></a></p><p>

Like most other Sun Ray clients including the <a href="http://oldvcr.blogspot.com/2021/08/cracking-into-sun-ray-general-dynamics.html">Tadpole M1400</a>, <a href="https://docs.oracle.com/cd/E25749_01/E25745/html/Clients-Hot-Keys.html">hot keys</a> to change settings are available, including while connected. These keys become live shortly after the machine starts. The main menu is accessed with Stop-M (on this keyboard that&#39;s actually a three-finger salute of &#34;yellow&#34; Fℕ-Alt-M) and options are selected with the cursor keys.

The &#34;manual&#34; documents two hot keys, Stop-M for this menu and Stop-W to access wireless profiles, but actually most of the documented hot key combinations work, along with Stop-V for displaying the unit&#39;s firmware version. The menu isn&#39;t particularly extensive, so here are the highlights.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEic-7w96Vdo_rnUfGeCG-QBMmhvkdkEtKYmjIC82k5NheAHcUNExKhwKT2ErANoKhKUqGNrKfziPVD76q5WMGi7kNsE6x4IH2FFNWtmWLxOe8OdMq_UcHvBsz6q8EgfaaDiWRYPE_Lm7ME4lpNtkw9MK6XmwBcZcNZBrcxZp_9PluezeTTHzE4xVJRq/s1024/vlcsnap-2023-04-20-11h25m16s314.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEic-7w96Vdo_rnUfGeCG-QBMmhvkdkEtKYmjIC82k5NheAHcUNExKhwKT2ErANoKhKUqGNrKfziPVD76q5WMGi7kNsE6x4IH2FFNWtmWLxOe8OdMq_UcHvBsz6q8EgfaaDiWRYPE_Lm7ME4lpNtkw9MK6XmwBcZcNZBrcxZp_9PluezeTTHzE4xVJRq/s320/vlcsnap-2023-04-20-11h25m16s314.png" width="320"/></a></p><p>

The wireless profiles menu (directly accessible with Stop-W) provides three configurable profiles where the channel, SSID, authentication/encryption and key can be specified. In this case none are active because my internal network is wired-only.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiJ_GlsY-yHLJWhzPB08I0IOwPx1E9tPI7vbxSboUUyTcUmphOibnpmL2-Msd6Y7wSc1HCxf8te1aUd1mG0CbVufej8hL1OPXV4agMcINaLWOsX4T3ttrJdewvcSTQPHaDuzB9McvsIHJVgMcLp6KKyAH3C9xTO-vFX9SLXQwS_pz5hXfUH__l0C3K3/s1024/vlcsnap-2023-04-20-11h25m21s545.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiJ_GlsY-yHLJWhzPB08I0IOwPx1E9tPI7vbxSboUUyTcUmphOibnpmL2-Msd6Y7wSc1HCxf8te1aUd1mG0CbVufej8hL1OPXV4agMcINaLWOsX4T3ttrJdewvcSTQPHaDuzB9McvsIHJVgMcLp6KKyAH3C9xTO-vFX9SLXQwS_pz5hXfUH__l0C3K3/s320/vlcsnap-2023-04-20-11h25m21s545.png" width="320"/></a></p><p>

Disappointingly, the entire security &#34;menu&#34; is one option, merely to set a password. Sheesh.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh0XnbZob_vSbwUvD5P79ViuGKTE4zRaKKJwquKjkHrjGCMttaEuzPsc0Pdt6C2lpGR0G-YRp5eJa-Lw__PNedtDAR2q0vx9X0tCfLfYkEURJP4FQ6X-CQzcA5hn8U5A7jN9nXDyxubnSrseQrzHZKfjq_6VtSnTAXf0oByQHeDkEWNCgxmpnwB7OCM/s1024/vlcsnap-2023-04-20-11h25m29s432.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh0XnbZob_vSbwUvD5P79ViuGKTE4zRaKKJwquKjkHrjGCMttaEuzPsc0Pdt6C2lpGR0G-YRp5eJa-Lw__PNedtDAR2q0vx9X0tCfLfYkEURJP4FQ6X-CQzcA5hn8U5A7jN9nXDyxubnSrseQrzHZKfjq_6VtSnTAXf0oByQHeDkEWNCgxmpnwB7OCM/s320/vlcsnap-2023-04-20-11h25m29s432.png" width="320"/></a></p><p>

Under the status menu you can choose the radio status (spoiler alert: it&#39;s not on) and the firmware version. This unit reports </p><tt>NWTC,KiboP8 3.1.1_2007.03.06.20.11</tt><p> plus its MAC. I don&#39;t have the exact history but &#34;Kibo&#34; appears to have been the Naturetech internal codename.
</p><p>
Prior to Sun Ray Software 5.2 firmware came in two flavours, the &#34;non-GUI&#34; version here with this minimal configuration menu and a &#34;GUI&#34; version with a more extensive menu allowing you to enter explicit parameters. Later on they were unified into a single firmware with the ability to enter the configuration menu appropriately controlled by the server. I am aware of at least one later GUI version of the 2N firmware tagged <tt>NWTC,KiboP8,Jasper320 GUI4.0_48_2007.09.05.16.59</tt>, but I don&#39;t have a copy of it.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg6mZSRZXdVEMyDoE4Vj-Zu3qeGZ3xvZhkOjlKuSBmCRoQ24BvjkC_Dma2am6nmgT0_sNarlzhG4T5nNp1GTDovJ8ThNkGfYLxx0gbq-igwSNqVYxA_jv5naHhgycW8Vf1HbKole8kp_FKKwXb4u88PRaNpYsj4UV3RM9xtNqtVjHtHq6Yz0mU7xhEo/s1024/vlcsnap-2023-04-20-11h25m44s474.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg6mZSRZXdVEMyDoE4Vj-Zu3qeGZ3xvZhkOjlKuSBmCRoQ24BvjkC_Dma2am6nmgT0_sNarlzhG4T5nNp1GTDovJ8ThNkGfYLxx0gbq-igwSNqVYxA_jv5naHhgycW8Vf1HbKole8kp_FKKwXb4u88PRaNpYsj4UV3RM9xtNqtVjHtHq6Yz0mU7xhEo/s320/vlcsnap-2023-04-20-11h25m44s474.png" width="320"/></a></p><p>

The only other options control various tunables about the WiFi and screen blanking.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi_MXr30yPOGot5P2UbxoKxwOW5aKv2Kz8nh4i1OZOkw-P_NMwAE25cRBzMUEjnFl0R-PMaxYOMPa2PxsF3y3IDsNNp2AGKCGyUZ172ge2n9vz7TxMTw25JeKgspgbhjwz6ttQhPDvnHZjbhvs9YZzHT2lI92I29nV7av0dMtXoIMfyJG6pHT7ulrUW/s1024/vlcsnap-2023-04-20-11h26m27s177.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi_MXr30yPOGot5P2UbxoKxwOW5aKv2Kz8nh4i1OZOkw-P_NMwAE25cRBzMUEjnFl0R-PMaxYOMPa2PxsF3y3IDsNNp2AGKCGyUZ172ge2n9vz7TxMTw25JeKgspgbhjwz6ttQhPDvnHZjbhvs9YZzHT2lI92I29nV7av0dMtXoIMfyJG6pHT7ulrUW/s320/vlcsnap-2023-04-20-11h26m27s177.png" width="320"/></a></p><p>

If you disconnect the zombie while it&#39;s feeding, it complains with an error 23, as all zombies do.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjIVCzJPg--lS1bC-nChb9515F6H6QiiO-Bs5n_egbplA1S0KQqJGTPyQcF-EqghUewoD-QDHrz0JwMiSVyHQwAdaksVq6VAx5qQ_oErmjo44V6K0cwqWZqu6BA0MvuxfOlasfBka_V-cUyeAM1e2Vy8PuZVMu15EUb9plwonmwgLa2pNPhYcwVxCgU/s1024/vlcsnap-2023-04-20-11h27m54s084.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjIVCzJPg--lS1bC-nChb9515F6H6QiiO-Bs5n_egbplA1S0KQqJGTPyQcF-EqghUewoD-QDHrz0JwMiSVyHQwAdaksVq6VAx5qQ_oErmjo44V6K0cwqWZqu6BA0MvuxfOlasfBka_V-cUyeAM1e2Vy8PuZVMu15EUb9plwonmwgLa2pNPhYcwVxCgU/s320/vlcsnap-2023-04-20-11h27m54s084.png" width="320"/></a></p><p>

While attempting to reconnect the 2N will even try sending the &#34;any server out there&#34; broadcast packet (27) over WiFi, though since this one isn&#39;t configured with an SSID, there&#39;s no one to hear it scream.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhz1Wu8xwLd1K1lXaxtAu_WeNsJtOz4LUBHs3o3xLa7zeoah3E0kOtEZKp3EY7qGV2EumVJOP2bV3jHfIGLXgfJ9z34b9OW2O7OMl5T2d_PdoiglHcXVp-4_4gWhnrciZMmI3WfqLFsC7dAGplZvRnS9dwa95oJVaYnZWYR5TJNgOB0_-1J8_GceXGF/s1024/vlcsnap-2023-04-20-19h13m32s870.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhz1Wu8xwLd1K1lXaxtAu_WeNsJtOz4LUBHs3o3xLa7zeoah3E0kOtEZKp3EY7qGV2EumVJOP2bV3jHfIGLXgfJ9z34b9OW2O7OMl5T2d_PdoiglHcXVp-4_4gWhnrciZMmI3WfqLFsC7dAGplZvRnS9dwa95oJVaYnZWYR5TJNgOB0_-1J8_GceXGF/s320/vlcsnap-2023-04-20-19h13m32s870.png" width="320"/></a></p><p>

Okay, fine, let&#39;s log in.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEge6Xtg8j3pb3Mh2hqXXEf9HOMASIcBN-5kEOO6WBRFsFCjGU2mYTvrMwoC5t8WlSoscPAqh7KRjMNsfVnxixbu1W91p69PlJ_B7WGo6VUS7I6_jGncm1AmqyNRgen-ZbKhqGZWQ6RcYhTMSMP7QCIJ8iCipRi2QaRiLAdo-FniqFpj07OxkHSAhWLZ/s1024/vlcsnap-2023-04-20-19h14m18s566.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEge6Xtg8j3pb3Mh2hqXXEf9HOMASIcBN-5kEOO6WBRFsFCjGU2mYTvrMwoC5t8WlSoscPAqh7KRjMNsfVnxixbu1W91p69PlJ_B7WGo6VUS7I6_jGncm1AmqyNRgen-ZbKhqGZWQ6RcYhTMSMP7QCIJ8iCipRi2QaRiLAdo-FniqFpj07OxkHSAhWLZ/s320/vlcsnap-2023-04-20-19h14m18s566.png" width="320"/></a></p><p>

At the Solaris 10 desktop with the version dialogue up to prove we&#39;re here. From the Solaris side </p><tt>/opt/SUNWut/sbin/utquery -d IPADDRESS</tt><p> will tell you information about a connected client.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgOypAYc35vVzW5y0LW4Qt-Tx2GAWnAOl_WL45x_t7Iw45Fr4LqsHoMmPYLSwMy2GbXSAPcgv7yoaWLQrrI4BfIn7M-xgB4v4nIGAN9oaM2xru-QVcZIHBcb16sWOVEz1rrCWkqXw-jXqMD69pRz4l9A49UPSfevv0CMnvacBhvRtRcJbq-JhgsvVSX/s960/Screenshot_20230420_184518.png"><img alt="" data-original-height="841" data-original-width="960" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgOypAYc35vVzW5y0LW4Qt-Tx2GAWnAOl_WL45x_t7Iw45Fr4LqsHoMmPYLSwMy2GbXSAPcgv7yoaWLQrrI4BfIn7M-xgB4v4nIGAN9oaM2xru-QVcZIHBcb16sWOVEz1rrCWkqXw-jXqMD69pRz4l9A49UPSfevv0CMnvacBhvRtRcJbq-JhgsvVSX/s320/Screenshot_20230420_184518.png" width="320"/></a></p><p>

The 2N also works fine with <a href="https://github.com/classilla/kopenray">kOpenRay</a>, my very-occasionally-maintained updated fork of jOpenRay, an open-source Java reimplementation of ALP. Note that kOpenRay does not currently know how to respond to broadcast requests, so since we can&#39;t hardcode the address in the 2N&#39;s settings kOpenRay&#39;s IP address is provided by the local DHCP server. The kOpenRay console shows the device identified itself as a </p><tt>NWTC,KiboP8,Jasper320 3.1.1_2007.03.06.20.11</tt><p>. Also note the MAC (used as an ID), namespace and actual screen resolution (but also the virtual resolution of 1280x1024).

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg2-Z4dhhIpjYphZByc5DLwcZYYjfcoD87w_XS8jj6AYd5LdaEtv470Ey4i3ar9hPQM0CKkJ43wW3PMRCyCbrN0FkQkrRIzp6DoTuaL554I663FHGqP_ZeOikN-X3G1xhphydfytPMqSbrX4k_QM016zPBlWQjMtjnQ6V_20vsZfRGoE6ck6K_P9o2B/s1024/vlcsnap-2023-04-20-18h43m51s166.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg2-Z4dhhIpjYphZByc5DLwcZYYjfcoD87w_XS8jj6AYd5LdaEtv470Ey4i3ar9hPQM0CKkJ43wW3PMRCyCbrN0FkQkrRIzp6DoTuaL554I663FHGqP_ZeOikN-X3G1xhphydfytPMqSbrX4k_QM016zPBlWQjMtjnQ6V_20vsZfRGoE6ck6K_P9o2B/s320/vlcsnap-2023-04-20-18h43m51s166.png" width="320"/></a></p><p>

Playing the default Tetpnc session. Incidentally, inserting a smart card worked and was recorded by kOpenRay.
</p><p>
Unfortunately, the Sun Ray 2N was the only laptop Sun Ray that Sun would ever call its own. It achieved <a href="http://blog.livedoor.jp/ese_admin/archives/51905298.html">some sales in Japan</a> and was <a href="https://www.flickr.com/photos/tkudo/509414558/in/photostream/">spotted at various</a> <a href="https://www.flickr.com/photos/jimgris/683205344/in/album-72157600585529837/">trade shows</a>, but other than local usage by Sun&#39;s regional offices there was little market interest and Sun chose to quietly discontinue it.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjg0jp79boIf69MzBzVuNMwlvywOk2NtfiC97bo0ykkXpE8-z1Oc3umuLa2E7NijRorXq2COQLtThS0YYNxopPF1msa1IaJmaqvCtPWvyAoANEHa7UKqsBwHsJ0WBu-E8SdJexZRZI9m3PeZfA8eURj35lPTvcmPkO2sWFmkXYkzjaUtJXTxszWQhBm/s3960/Opal_DM.png"><img alt="" data-original-height="3960" data-original-width="3221" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjg0jp79boIf69MzBzVuNMwlvywOk2NtfiC97bo0ykkXpE8-z1Oc3umuLa2E7NijRorXq2COQLtThS0YYNxopPF1msa1IaJmaqvCtPWvyAoANEHa7UKqsBwHsJ0WBu-E8SdJexZRZI9m3PeZfA8eURj35lPTvcmPkO2sWFmkXYkzjaUtJXTxszWQhBm/s320/Opal_DM.png" height="320"/></a></p><p>

For its part, Naturetech kept selling the device under its original Jasper 320 name and offered the design to other vendors, along with the later Amber 808, Opal 608 (8.4&#34;) and Opal 612 tablet versions. These were the only known Sun Ray tablets, featuring RFID and even biometric support. Fellow Taiwanese vendor <a href="http://web.archive.org/web/20080115153543/http://www.arima.com.tw:80/">Arima</a> was interested and planned to launch the entire line as the Sunrise Ultra ThinPad and Solstice Ultra ThinTouch, though it isn&#39;t clear if any were actually sold. There was also a VPN-enabled version of the Jasper 320.
</p><p>
Accutech Ultrasystems, however, another Taiwanese computer manufacturer, saw the hardware as an opportunity not only to <a href="http://web.archive.org/web/20070430093142/http://www.accutechco.com/2_product_02.html">get into thin clients</a> but also use Sun Ray technology <a href="http://web.archive.org/web/20070430013010/http://www.accutechco.com/2_product_01.html">as a security surveillance solution</a>.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjeaQfcKrolrE2wsbRBm1MU8dOrcKbqCigfmS65_BI29-o3waeoPKQcX3p2p-TOgvcDqcQ8UeeuM5KJi0pED85GKAnH9sAPSKIqKL7RqR75gM6RYVwCKXyuWWhPmIydePN5ANChQanKqGxhwOWjbQEFN9NSLKJi5RqdluY9zkHpcjKAccfD41M2USLz/s3508/gobi7.png"><img alt="" width="320" data-original-height="2481" data-original-width="3508" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjeaQfcKrolrE2wsbRBm1MU8dOrcKbqCigfmS65_BI29-o3waeoPKQcX3p2p-TOgvcDqcQ8UeeuM5KJi0pED85GKAnH9sAPSKIqKL7RqR75gM6RYVwCKXyuWWhPmIydePN5ANChQanKqGxhwOWjbQEFN9NSLKJi5RqdluY9zkHpcjKAccfD41M2USLz/s320/gobi7.png"/></a></p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjBe7xW8MdtEiKJEZRYjhZVDE28VjwWQzWD5z_RMfn4aAeFwb-E3UVSdMQwFbZIEsa8wWTAvW88uYiO8HpGLhifLNIRgbOZ7chP_VuAKlvdzVN2qZW4CqVrjmsdlrackI447hfMd2WpBdpxMfbrjc5U2ZRskbM-sPvTfkUeWk6dGHJrUzJnJoXmyq9g/s3819/gobi8.jpg"><img alt="" height="320" data-original-height="3819" data-original-width="2700" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjBe7xW8MdtEiKJEZRYjhZVDE28VjwWQzWD5z_RMfn4aAeFwb-E3UVSdMQwFbZIEsa8wWTAvW88uYiO8HpGLhifLNIRgbOZ7chP_VuAKlvdzVN2qZW4CqVrjmsdlrackI447hfMd2WpBdpxMfbrjc5U2ZRskbM-sPvTfkUeWk6dGHJrUzJnJoXmyq9g/s320/gobi8.jpg"/></a></p><p>

Accutech took the basic Jasper board and substantially reworked it with custom firmware and a built-in hardware VPN module, selling it as the Gobi8 with HSDPA/UMTS support and the Gobi7 without. The Accutech Gobi laptops were themselves resold by British vendor Aimtec <a href="http://web.archive.org/web/20090220144458/http://www.aimtec.co.uk/sun-ray-notebooks.php">under the same name</a>.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgccnhXP3IJPobpVn5-kzSWhKfqIqhyFF1N4DK43uyQD6lawFuijJSXmRNCqohNbz-Fi4-O-xMpWbHj2QuWf38cMsYz110y2LdsVQ5ycwUQ6KrZwzreAU_u9xDjHm2erL_vf53JAIVj9lLxJNvC_3m-elGU3xjhnM5Lu039cXTIXnBSDH4iwRC-yDEz/s4080/PXL_20230411_232826367~2.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgccnhXP3IJPobpVn5-kzSWhKfqIqhyFF1N4DK43uyQD6lawFuijJSXmRNCqohNbz-Fi4-O-xMpWbHj2QuWf38cMsYz110y2LdsVQ5ycwUQ6KrZwzreAU_u9xDjHm2erL_vf53JAIVj9lLxJNvC_3m-elGU3xjhnM5Lu039cXTIXnBSDH4iwRC-yDEz/s320/PXL_20230411_232826367~2.jpg" height="320"/></a></p><p>

To a cursory glance the silver-clad Gobi and the 2N are almost indistinguishable except for the logos on each lid, but there are mild differences in the external ports, and Accutech made significant changes to the hardware. That&#39;s where the pwnage part comes in.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEifzXiMNbaM6S6oaYNKnGF1qlRm4quPyV9__7KqkVL4mm2lvCXvE8Rb_NWWD0taXAn7LfZIhT22TfnRVpSLXBWmjqWoTiaf7HKVZd7Pqe9N-AxELKk8cjYY7AVzmZ6dJnWItfv0MDruH4WVNFZ4Qr3sYMapN65zejn5bPy1-yNVyA0-Zx_LxSlAEQ3X/s4080/IMG_20230225_161809.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEifzXiMNbaM6S6oaYNKnGF1qlRm4quPyV9__7KqkVL4mm2lvCXvE8Rb_NWWD0taXAn7LfZIhT22TfnRVpSLXBWmjqWoTiaf7HKVZd7Pqe9N-AxELKk8cjYY7AVzmZ6dJnWItfv0MDruH4WVNFZ4Qr3sYMapN65zejn5bPy1-yNVyA0-Zx_LxSlAEQ3X/s320/IMG_20230225_161809.jpg" width="320"/></a></p><p>

I haven&#39;t had good luck with Gobis. Over the years I&#39;ve accumulated three, but only one of them still fully works; the other two spontaneously suffered hardware failures such that they won&#39;t configure their network interfaces anymore. The most recent one shown with the 2N is my sole completely functional example and was sent to me by a generous donor. On the other hand, that means I have no compunction about stripping down the defective ones to figure out how they work.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjNVZAnFlkmtsHJGiddMGMuf1EHvhFa1U3jG6xjcJJMMjuUn0zy37pYYaVq5l7t2XlM8zQS5Zjh3iXO0XpUecAQKRm35CWg_SjMif8PFJ7CTVPfxDa_HE657zTE00yArNeGZbJcfjjlp8lsjAJMsEGariYrnUU-wFSHHICZMQNspVSd9kq8xaxdaQKs/s4080/IMG_20230225_151055~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjNVZAnFlkmtsHJGiddMGMuf1EHvhFa1U3jG6xjcJJMMjuUn0zy37pYYaVq5l7t2XlM8zQS5Zjh3iXO0XpUecAQKRm35CWg_SjMif8PFJ7CTVPfxDa_HE657zTE00yArNeGZbJcfjjlp8lsjAJMsEGariYrnUU-wFSHHICZMQNspVSd9kq8xaxdaQKs/s320/IMG_20230225_151055~2.jpg" width="320"/></a></p><p>

The silver Gobis are the original ones, sold as the Gobi7, though both of my units appear to have been subsequently upgraded to Gobi8 (installing the additional 3G support and updating the firmware), apparently at the factory as the barcode sticker reads Gobi8. The thrashed black unit perilously held together with binder clips is an actual Gobi8 and was a later unit. This one was was my first Gobi and came to me busted up, so I hold blameless to its mistreatment, though it was mostly working at the time.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdCWfg1LJGGrTeJq-QOxurVISWTShIWzrjWuMW58fTirZ5byk7APNgQBiR4w0xKae9WhOF_STT9FNOrkdYTz5kWUgWeWS3g91PyAelkQyf6DUTZ-cOG1rrmEqLSByQygbOY8nNN92M4B5JKcoXqpV82RZDS0mqNutrfUr9I7f6CH5Ftf-5TGoZMmlw/s4080/PXL_20230426_191535826.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdCWfg1LJGGrTeJq-QOxurVISWTShIWzrjWuMW58fTirZ5byk7APNgQBiR4w0xKae9WhOF_STT9FNOrkdYTz5kWUgWeWS3g91PyAelkQyf6DUTZ-cOG1rrmEqLSByQygbOY8nNN92M4B5JKcoXqpV82RZDS0mqNutrfUr9I7f6CH5Ftf-5TGoZMmlw/s320/PXL_20230426_191535826.jpg"/></a></p><p>

The keyboard is now regular English and no more Nihongo, sniffle.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj2ABlOmFH4S3n8H3cdFiQegNgYv9FNBHXTAhkAJqssMXJC92N5h5BawmYgDgD8OlpBv95pyoDkIsHoBzQTYsMx8PwRkRuZLCYzYgh3OoOJnWLnTD8VjSf7LnO6gZZOaUFGkcBPJgkndT7GLiv5kJ0fwdsv6vdQnCR9qlchg5_JHhecpaxt6f82vEhg/s4080/IMG_20230225_162408.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj2ABlOmFH4S3n8H3cdFiQegNgYv9FNBHXTAhkAJqssMXJC92N5h5BawmYgDgD8OlpBv95pyoDkIsHoBzQTYsMx8PwRkRuZLCYzYgh3OoOJnWLnTD8VjSf7LnO6gZZOaUFGkcBPJgkndT7GLiv5kJ0fwdsv6vdQnCR9qlchg5_JHhecpaxt6f82vEhg/s320/IMG_20230225_162408.jpg" width="320"/></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQQjIHT6AFJoimKU3EKFKgBkl5toXgsFV0DNt06XWHIR01DgNxOaIUFHxLF74EK1ByESNGFfNrrWIX3fcxN7k639T4aWBYwyUynTQd4O_UCeEmw8ItSbq0vpg2UA-MDDymdBBSwZFOqM50RvVr_RoOVZmH46TLRDGKoIRCua5WsYPOQTBoNEAYNzIV/s4080/IMG_20230225_162435~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQQjIHT6AFJoimKU3EKFKgBkl5toXgsFV0DNt06XWHIR01DgNxOaIUFHxLF74EK1ByESNGFfNrrWIX3fcxN7k639T4aWBYwyUynTQd4O_UCeEmw8ItSbq0vpg2UA-MDDymdBBSwZFOqM50RvVr_RoOVZmH46TLRDGKoIRCua5WsYPOQTBoNEAYNzIV/s320/IMG_20230225_162435~2.jpg" width="320"/></a></p><p>

Other than that, the most notable external differences between the 2N and the Gobis are a SIM card slot in the front next to the audio jacks and a CardBus PCMCIA module in the optical drive slot. These are all active though I don&#39;t have anything that goes in them (and we don&#39;t have 3G anymore in the United States).

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_8-e7Be0t1qInZGFY48pmlXK0F2zC2Ds9nJJCKCauaLS5anOAyCYLK40BQ1Gi1qitaRBBeIEt2SEQZ1H_1663Myk4FBQhzthMbELgfAu09WyCUpUGLl-ql8KNWTxFvuHT8yiDHeL_D5QhqsZjPsClbcA6Fij0ZWL7jPUe4oNz3jE9sVeTkekQEBwz/s4080/IMG_20230225_203303.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_8-e7Be0t1qInZGFY48pmlXK0F2zC2Ds9nJJCKCauaLS5anOAyCYLK40BQ1Gi1qitaRBBeIEt2SEQZ1H_1663Myk4FBQhzthMbELgfAu09WyCUpUGLl-ql8KNWTxFvuHT8yiDHeL_D5QhqsZjPsClbcA6Fij0ZWL7jPUe4oNz3jE9sVeTkekQEBwz/s320/IMG_20230225_203303.jpg" height="320"/></a></p><p>

If we pull out the 3G module, we&#39;re already getting hints that Accutech did a bit more than a fresh coat of firmware paint. Next to the card cage we see two Realtek RTL8201CP 10/100 Ethernet PHYceivers and a PH249015G quad 4-port pulse transformer to connect them to twisted pair Ethernet signals. Under the cage are <em>two</em> Hynix HY57V281620FTP-6 SDRAMs, 16MB each to equal 32MB.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjTCkJuoOiwNra4QFfr9Yd_fYRDDYwSH5oueXN1MdFfNTh-JdXAlN7pjrvLM7C8_QaDR2ON6DlcI8O6IGqXslw7bw3X9kcp8_PuaYi7YSmsNEJ2Ol-VEY2CSCcRJ1139nDuVALcDcHLeCJbCxuDSpBzdjEk1xOAdTd3yLdys3QIWk8wN1zbyp96y8IJ/s4080/IMG_20230225_204718.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjTCkJuoOiwNra4QFfr9Yd_fYRDDYwSH5oueXN1MdFfNTh-JdXAlN7pjrvLM7C8_QaDR2ON6DlcI8O6IGqXslw7bw3X9kcp8_PuaYi7YSmsNEJ2Ol-VEY2CSCcRJ1139nDuVALcDcHLeCJbCxuDSpBzdjEk1xOAdTd3yLdys3QIWk8wN1zbyp96y8IJ/s320/IMG_20230225_204718.jpg" width="320"/></a></p><p>

But turn it over and there&#39;s <em>another</em> 32MB of RAM, plus 16MB of flash (Intel JS28F128), an ENE CB-1410QF PCI to CardBus bridge, and right in the middle — irony of ironies — an Intel XScale-based IXP425 Network Processor running at the lowest rated speed of 266MHz (PRIXP425ABB). This SoC supports UTOPIA 2 (for ATM networking), xDSL, 2x HSS (for mobile network authentication) and two Ethernet MACs, along with hardware support for SHA-1, MD5, DES, 3DES and AES. It has onboard controllers for a UART, SDRAM, USB and PCI. The Ethernet MACs no doubt connect to the PHYceivers on the other side. There are a whole bunch of obvious debug connectors here but I don&#39;t know the pinout.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhfR4gyIqTrigC5Nf3wr5kwGlKx1A_AkyvWm3KkRY4H81nYNPrn5vTEqkhYoWllOcWGYxIW-Tma_liYoRaAR6Dphc7-wOz5VIdlGT_8a0sF2NXacqnRLthZ4kqpoOFuZl3ICzzFF7iGd5xU0yaQ3k8dfD4N3uu82WDQarUExXWAJfXofcOXyO4N4ZsL/s4080/IMG_20230225_160331~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhfR4gyIqTrigC5Nf3wr5kwGlKx1A_AkyvWm3KkRY4H81nYNPrn5vTEqkhYoWllOcWGYxIW-Tma_liYoRaAR6Dphc7-wOz5VIdlGT_8a0sF2NXacqnRLthZ4kqpoOFuZl3ICzzFF7iGd5xU0yaQ3k8dfD4N3uu82WDQarUExXWAJfXofcOXyO4N4ZsL/s320/IMG_20230225_160331~2.jpg" width="320"/></a></p><p>

The internal differences are even more substantial. Accutech got rid of the fan vent and moved the ATI GPU closer to the CPU, but also added another 16MB SDRAM (to equal 32MB) next to the Au1550. Although several regions are now unpopulated, including the SO-DIMMesque slot for the 2N&#39;s WiFi module, there are several more chips on the board — including two, count &#39;em, two Realtek RTL8305SC ICs. <em>Each</em> one of these is a single-chip, 5 port (!) 10/100 Ethernet switch controller, connected to a quad 4-port pulse transformer for twisted pair Ethernet (the YCL PH249015G chips), with the fifth port provided by the Pulse Electronics NS0013-NF single-port transformer. What the heck are these things doing?

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj4xlXPlwXjt1uwAI4eguHQ0yJKYxCC0JGiQqunweg3Fh8DZXyQnz_XxmcPHPyrb4RGbhwOU1U0V8L1tEwBFjwReGe4OcqrRcLIkFEhNs6sggtahhmCmTclFsAjO3f55oOyludentWjj_iz5ILKYA3Xyt8Za3QE55vp-WYtk_0CPWWiGbsgpFfqLF-v/s4080/IMG_20230226_190540.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj4xlXPlwXjt1uwAI4eguHQ0yJKYxCC0JGiQqunweg3Fh8DZXyQnz_XxmcPHPyrb4RGbhwOU1U0V8L1tEwBFjwReGe4OcqrRcLIkFEhNs6sggtahhmCmTclFsAjO3f55oOyludentWjj_iz5ILKYA3Xyt8Za3QE55vp-WYtk_0CPWWiGbsgpFfqLF-v/s320/IMG_20230226_190540.jpg" width="320"/></a></p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEikKnyO9SxUssebKxZYJBb5dVhWg7T7cli0dCPJtNAj5jJTD5csVX_-YiM3iRt9ccheOSC9dexel5iqUHgCfezkVVm6ruUOzjlkQcndpymC00Jpirlut0NDzOpRRvGhfv3AFvPea4A-PyMzEfeoe1eI_4py5W4VmDFpWC3dgLMVBUwyiqNw_NetDBTw/s4080/IMG_20230226_190648.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEikKnyO9SxUssebKxZYJBb5dVhWg7T7cli0dCPJtNAj5jJTD5csVX_-YiM3iRt9ccheOSC9dexel5iqUHgCfezkVVm6ruUOzjlkQcndpymC00Jpirlut0NDzOpRRvGhfv3AFvPea4A-PyMzEfeoe1eI_4py5W4VmDFpWC3dgLMVBUwyiqNw_NetDBTw/s320/IMG_20230226_190648.jpg" height="320"/></a></p><p>

Here is the complete logic board, which I dug out from my defective silver Gobi7. Note that while all the stickers say Gobi8, the board says Gobi7 too. On the first image you can see the HD64F3437TF16 (H8/3437) smart card reader chip with yellow grease pencil slashed across it, a Hitachi H8/300 16-bit microcontroller with 60K of on-board flash and 2K of RAM. Roughly in the centre of the second image is the Au1550&#39;s system flash chip, a 4MB Spansion S29AL032D.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiKCNuCNxKJiyVowzGfxitpkR8mmg7Izo5kYfdVaiufmY3wYz-SNFNjZNbOVzryCcQ8B-VlnNuA0Yp-5zfSy9EU8dkrrfnE6K0eq5evUCqZ1uJFqaRND2N0TbY3ThKhCCxCg5_ywkmMSinvnkxNcnHEuOs4V_j05ljneqqbzJkXOWiRG1o1aPEGBmPi/s4080/IMG_20230225_160431.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiKCNuCNxKJiyVowzGfxitpkR8mmg7Izo5kYfdVaiufmY3wYz-SNFNjZNbOVzryCcQ8B-VlnNuA0Yp-5zfSy9EU8dkrrfnE6K0eq5evUCqZ1uJFqaRND2N0TbY3ThKhCCxCg5_ywkmMSinvnkxNcnHEuOs4V_j05ljneqqbzJkXOWiRG1o1aPEGBmPi/s320/IMG_20230225_160431.jpg" height="320"/></a></p><p>

By the way, there was actually something in the hard disk bay too, with its <em>own</em> RTL8305SC and transformer. Labeled the VPN Board (&#34;REV. 2.0&#34;), the WiFi antenna terminals connect here, showing it also serves as the WiFi module. The whole thing physically connects to the main logic board using the 44-pin laptop IDE connector, which is also populated in the Gobis.
</p><p>
There&#39;s a lot going on with this little board. Besides the Ethernet switch controller and pulse transformer, there&#39;s 32MB of SDRAM (Hynix HY57V561620FTP-H) and 8MB of flash (the Spansion FL064AIF).

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgXgnfag1z3TPpgv_oNo52us8oNmSpxffX68cfFEnAUWCLqZt7B9OVYKf6IFd8ASEF7b8o2fuGvqK4Zui8z9cX3JZxaBu1zjrMY03S6hrwjnfrUyxCYmg5z04aViNm-OzLN3GzzNIHEbMC5VE8xnEZ8sRWn6cheO1KIuxhqNaLyA7kGRXVj13OUdT3U/s4080/PXL_20230408_233138640.jpg"><img alt="" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgXgnfag1z3TPpgv_oNo52us8oNmSpxffX68cfFEnAUWCLqZt7B9OVYKf6IFd8ASEF7b8o2fuGvqK4Zui8z9cX3JZxaBu1zjrMY03S6hrwjnfrUyxCYmg5z04aViNm-OzLN3GzzNIHEbMC5VE8xnEZ8sRWn6cheO1KIuxhqNaLyA7kGRXVj13OUdT3U/s320/PXL_20230408_233138640.jpg" height="320"/></a></p><p>

If we dig it out and pop the cage off, there&#39;s one more chip, and it&#39;s a doozy: an Atheros AR2316A. That&#39;s a <em>third</em> SoC! It integrates a 2.4GHz radio, 802.11b/g MAC and baseband, 802.3 10/100 Ethernet MAC and MII interface, SDRAM and Flash controllers, UART — and a 180MHz MIPS R4000 core. At the very bottom (on this view) is another obvious set of UART headers, but I never got anything useful from the modules in the busted Gobis with my logic analyzer. On the other hand, that could be because those machines aren&#39;t working, and I wonder if heat had something to do with it because this chip is very poorly ventilated. One other interesting thing to note is that I can only see lines from two of the RTL8305SC&#39;s five ports going to the transformer. I guess they got a good enough deal on those to waste the other three.
</p><p>
The bottom line is, as we&#39;ll demonstrate in the next few screenshots, this laptop isn&#39;t just a MIPS laptop: it&#39;s three apparently completely independent RISC systems with their own memory, flash and operating system on an internal Ethernet network. All those NIC and switch chips are the internal communication interfaces from the Au1550 to the IXP425 and the AR2316A, but using the IDE bus lines instead of actual twisted pair. That&#39;s not what I was expecting to find in a Sun Ray!
</p><p>
It shouldn&#39;t surprise you that the interface in this unit isn&#39;t standard either. Let&#39;s fire it up.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg78YmaLDapLogW7saibiEeCdTer7A3GWXkHo_olB_OQaYyAeXHKQ0t_e9yi4xNTsdad2jy2Pw2WkU25Lo0QvQ_KxNDsEmYnP06I1F2ItVr18MWtT7vNh1sEUJMDG6qnjCoqE_f8qkSLk3xCAeS9BCtmPVIu1yM4AyoTi1jPvQcsn7-YAeDTPMVgilY/s1024/vlcsnap-2023-04-20-09h40m15s833.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg78YmaLDapLogW7saibiEeCdTer7A3GWXkHo_olB_OQaYyAeXHKQ0t_e9yi4xNTsdad2jy2Pw2WkU25Lo0QvQ_KxNDsEmYnP06I1F2ItVr18MWtT7vNh1sEUJMDG6qnjCoqE_f8qkSLk3xCAeS9BCtmPVIu1yM4AyoTi1jPvQcsn7-YAeDTPMVgilY/s320/vlcsnap-2023-04-20-09h40m15s833.png" width="320"/></a></p><p>

Initially it seems like the same exact firmware as the 2N, even basically the same shade of blue background, except for the Gobi logo. And then ...

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjqRgRHF3UnjYIKPmYP_9CsOXA9pWfG6Z9RnrcC9TgGz4QD-nWdx-mI7ycgAN4lN5vVwCKQkjiRb-Z1AMoTyXSZAIuAYAEOp0JLJIbAUV91XVOOsAHlfaacgwujwCfrXNCaMZFfkueirc3lpzyoTUaS1nrs2WxhpR5UiiglPgOqESSOchRe__3vEJA2/s1024/vlcsnap-2023-04-20-09h40m20s551.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjqRgRHF3UnjYIKPmYP_9CsOXA9pWfG6Z9RnrcC9TgGz4QD-nWdx-mI7ycgAN4lN5vVwCKQkjiRb-Z1AMoTyXSZAIuAYAEOp0JLJIbAUV91XVOOsAHlfaacgwujwCfrXNCaMZFfkueirc3lpzyoTUaS1nrs2WxhpR5UiiglPgOqESSOchRe__3vEJA2/s320/vlcsnap-2023-04-20-09h40m20s551.png" width="320"/></a></p><p>

... the menu starts.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEihcKTG9XlcNneUGTyThXnyE5qJzAq7WTCJW2ktcIu2D0aqFxLLrW-aQo-ujvS1anFWuzkHJIgBEPN-DjomUx4t6XfwrqaOBEwhFC4N9a_QPZ5MPvkHp8I-xJYd0Q3XXNc9BWTSonfUGLFaCme2SCTVqCF7dmEYciXn5YHj9IO5RuN6tEaUR1mPG4i-/s1024/vlcsnap-2023-04-20-19h40m47s577.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEihcKTG9XlcNneUGTyThXnyE5qJzAq7WTCJW2ktcIu2D0aqFxLLrW-aQo-ujvS1anFWuzkHJIgBEPN-DjomUx4t6XfwrqaOBEwhFC4N9a_QPZ5MPvkHp8I-xJYd0Q3XXNc9BWTSonfUGLFaCme2SCTVqCF7dmEYciXn5YHj9IO5RuN6tEaUR1mPG4i-/s320/vlcsnap-2023-04-20-19h40m47s577.png" width="320"/></a></p><p>

The Gobi firmware stores up to eight built-in profiles. This Gobi has three profiles set up in it normally: a &#34;DHCP&#34; profile that acts basically like the 2N did, fetching a lease and the display server addresses from the DHCP server; a hardcoded profile for kOpenRay; and then a third, more mysterious profile we&#39;ll save for the end. You can (with a bit of kludginess, the interface is obnoxiously non-orthogonal) edit or overwrite them and most people never used more than one anyhow. The Engrish command of the Taiwanese development team was imperfect and various odd typos and phrasings are scattered throughout the interface.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhlh9usSjyCRO2fDAwvShiTNzZQ8whcEGLRud5_JY13f3ivV-74yiYuaaQD51hyZvvvgXVlbchry3Z_LYCU7U8t1Bp6u2mM0nsRcZiwsS5ApuBuqqI3dksDbUzyttESPZJHRAR9UV69nP7ZZW4AHYzi4ayz_OCeROWYijv-_wp1q0AR51sXz2Tma-OM/s1024/vlcsnap-2023-04-20-09h50m20s117.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhlh9usSjyCRO2fDAwvShiTNzZQ8whcEGLRud5_JY13f3ivV-74yiYuaaQD51hyZvvvgXVlbchry3Z_LYCU7U8t1Bp6u2mM0nsRcZiwsS5ApuBuqqI3dksDbUzyttESPZJHRAR9UV69nP7ZZW4AHYzi4ayz_OCeROWYijv-_wp1q0AR51sXz2Tma-OM/s320/vlcsnap-2023-04-20-09h50m20s117.png" width="320"/></a></p><p>

The setup menu lets you create a new profile, configure security options, display system firmware versions (or update them) and do a factory reset.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5UNs0IX4eqanvlblLxR-qQXe75SreiHeYYAp4fsAj0QPYZSk-7RHbeZeebI6rYwJWbTbrf3WPQvrZ5ZlAudbSmxmw0nyADK2-VA0SFv_XfxUaovLLegqLo0zF-7LF6wmzHOk5OjYtPZ67WT-YGPkeb53D2yEsnxiVCbmP2iLvMnxqWvBBOe-D9SIY/s1024/vlcsnap-2023-04-20-09h50m31s855.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5UNs0IX4eqanvlblLxR-qQXe75SreiHeYYAp4fsAj0QPYZSk-7RHbeZeebI6rYwJWbTbrf3WPQvrZ5ZlAudbSmxmw0nyADK2-VA0SFv_XfxUaovLLegqLo0zF-7LF6wmzHOk5OjYtPZ67WT-YGPkeb53D2yEsnxiVCbmP2iLvMnxqWvBBOe-D9SIY/s320/vlcsnap-2023-04-20-09h50m31s855.png" width="320"/></a></p><p>

If you request the firmware versions, the core firmware on the Au1550 (here </p><tt>4.0_VT035c</tt><p>) then queries both the 3G board (</p><tt>1.2.3.emobile.a</tt><p>) and the VPN board (</p><tt>2.1.0</tt><p>). This takes ... time. The Au1550&#39;s firmware can be updated from an appropriately configured Sun Ray server but the 3G and VPN firmware require a separate local TFTP server to download from (FTP also supported by the VPN board, but not the 3G board). Again, this is because they&#39;re actually separate systems that just happen to be crammed into the same case.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiOeqj3rggs6yOYcJH6ax9gDhuewnDZir0EKcGs2XJ1eQIQtG1Pvorp7STRf-liGsZGxfsmATnBxgxIhiId5uB4F08nCpUxUXhjr4tUiQZvajqirdT3Usf07xI11q0gTgnAcgP5eKyr2_UDGko7IZeoq6y0gheQcUck2FocpeHUzONZxU6b8bb5y6Y5/s1024/vlcsnap-2023-04-20-09h50m50s935.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiOeqj3rggs6yOYcJH6ax9gDhuewnDZir0EKcGs2XJ1eQIQtG1Pvorp7STRf-liGsZGxfsmATnBxgxIhiId5uB4F08nCpUxUXhjr4tUiQZvajqirdT3Usf07xI11q0gTgnAcgP5eKyr2_UDGko7IZeoq6y0gheQcUck2FocpeHUzONZxU6b8bb5y6Y5/s320/vlcsnap-2023-04-20-09h50m50s935.png" width="320"/></a></p><p>

Also note the separate MACs for the &#34;LAN&#34; (the VPN board) and the Sun Ray itself, in addition to the WiFi, of course. We&#39;ll see an extreme example of the internal communication network at work when we get to the final profile.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgKaTtF86pWQWBU0WGip7VGlGhO20TFLY1vvBoBy7PnA8YATJ0QiP4imlpJXlNULo9S5qAHPTXbhHCIc0t_Ukrnj9B4w4if2ijbi_WhcXMVz3pUqTgcQ4kpFyBathRgLWt3PEMDrrXstMHokVB_snW7pHFZsOvT1s2AdBDm4WGiQ5jnc3Ah2_NKmkIB/s1024/vlcsnap-2023-04-20-19h40m55s325.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgKaTtF86pWQWBU0WGip7VGlGhO20TFLY1vvBoBy7PnA8YATJ0QiP4imlpJXlNULo9S5qAHPTXbhHCIc0t_Ukrnj9B4w4if2ijbi_WhcXMVz3pUqTgcQ4kpFyBathRgLWt3PEMDrrXstMHokVB_snW7pHFZsOvT1s2AdBDm4WGiQ5jnc3Ah2_NKmkIB/s320/vlcsnap-2023-04-20-19h40m55s325.png" width="320"/></a></p><p>

Our first profile essentially makes the Gobi act like a 2N: no local configuration, get a DHCP address, figure out servers for itself (either from DHCP hints or broadcast queries).
</p><p>
Notice the line in the configuration about &#34;Use web authentication.&#34; Those of you who remember <a href="http://oldvcr.blogspot.com/2021/08/cracking-into-sun-ray-general-dynamics.html">our deep dive into the Sun Ray 3-based Tadpole M1400</a> will recall its own built-in login browser for public WiFi and the like (initially Links, and later WebKit). Just keep that in the back of your head for a few minutes.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhraNDEniBb4GDs9YuBPT_IgdQXUaqjUYgOD2u7_6-UZL2DbHqXcMDNLnE-Fu-GS5pVHEYg50dZN0KwSwDZ2JGMU4Jf4O5FU3nbbW8zmVY0TjRoZhmYvMXNnE1yuKOqCe1c1PauVeJvqFAN0M62G7UzrMqDrnglICFHBCADecweBsLKUGc3rfMP5Pws/s1024/vlcsnap-2023-04-20-19h41m22s877.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhraNDEniBb4GDs9YuBPT_IgdQXUaqjUYgOD2u7_6-UZL2DbHqXcMDNLnE-Fu-GS5pVHEYg50dZN0KwSwDZ2JGMU4Jf4O5FU3nbbW8zmVY0TjRoZhmYvMXNnE1yuKOqCe1c1PauVeJvqFAN0M62G7UzrMqDrnglICFHBCADecweBsLKUGc3rfMP5Pws/s320/vlcsnap-2023-04-20-19h41m22s877.png" width="320"/></a></p><p>

In this mode, the ID comes up with the MAC of the Sun Ray 2 as expected, since we&#39;re not obviously using the VPN (and if you do a quick </p><tt>arp -a</tt><p> on a connected system, you&#39;ll see the Sun Ray 2 MAC). But that isn&#39;t the external Ethernet jack: this claims a full-duplex 100Mbit Ethernet connection when we&#39;re connected to the exact same 10Mbit half-duplex Ethernet segment I used for testing the 2N. What you&#39;re actually seeing is the <em>internal</em> Ethernet connection between the three component systems, which <em>is</em> 100Mbit.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgNe63nnuIYrtqOiXRQEtAajsF4hhf5nQlFtPseLNRSAqNzOemmCSv-souChBpt4iswJD8V1wmexpUfk7jnA2QAdsdL1bGmlr5LP6SLmw8u3BrP0Bb-5qclCD1W2rnHMZ_EG-fsOBJe3cDXVXsFztwQyFFsNqD-cdcYaqCdmF__oLMRP3h2ZPYQKkEn/s1024/vlcsnap-2023-04-20-19h41m32s011.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgNe63nnuIYrtqOiXRQEtAajsF4hhf5nQlFtPseLNRSAqNzOemmCSv-souChBpt4iswJD8V1wmexpUfk7jnA2QAdsdL1bGmlr5LP6SLmw8u3BrP0Bb-5qclCD1W2rnHMZ_EG-fsOBJe3cDXVXsFztwQyFFsNqD-cdcYaqCdmF__oLMRP3h2ZPYQKkEn/s320/vlcsnap-2023-04-20-19h41m32s011.png" width="320"/></a></p><p>

Connecting to the Solaris Sun Ray server.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiBUC7Gq3bEOdMVUZmOFnpn119PfARrN1AepWOrUJymKpNdzsJ7fOGi7zJskBBQUe5NkUFd2Mz380YMwTPoVezqwxOKLa4YLxPOU3NNaSNgPWa0AV5de398PyP-8Ieb628LIIZgm8drTdcoyYb9aujBKYUnunwJj3R14SeRScqXUS_ag-UaJ9LvI9Co/s1024/vlcsnap-2023-04-20-19h41m38s966.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiBUC7Gq3bEOdMVUZmOFnpn119PfARrN1AepWOrUJymKpNdzsJ7fOGi7zJskBBQUe5NkUFd2Mz380YMwTPoVezqwxOKLa4YLxPOU3NNaSNgPWa0AV5de398PyP-8Ieb628LIIZgm8drTdcoyYb9aujBKYUnunwJj3R14SeRScqXUS_ag-UaJ9LvI9Co/s320/vlcsnap-2023-04-20-19h41m38s966.png" width="320"/></a></p><p>

And at the login prompt. The Gobi, oddly, doesn&#39;t appear to support any hot keys except Props-F12 (yellow Fℕ-Ctrl-F12, the &#34;moon&#34; sleep key), which resets the unit — but only within the same profile. Similarly the watchdog timer just resets the currently running profile as well. The only way I could find to switch profiles was to powercycle the unit entirely.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh05eLDG30M4umtY9xAQg05noISzredM7ZXKTMY66dptIgxZ7ZuX__foxx9uFDt7LisZQllro_t1jUqeBrFaA0NW93bqvsVDGFTH1pRdP_cIN7Cdx0hBK_BzDOR-HCcrvMYEPO99uihNTkywHEuP58JNA6rFLJ53hXABvzBmYcWDn3qpSwYIZZbD84q/s1024/vlcsnap-2023-04-20-19h42m27s327.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh05eLDG30M4umtY9xAQg05noISzredM7ZXKTMY66dptIgxZ7ZuX__foxx9uFDt7LisZQllro_t1jUqeBrFaA0NW93bqvsVDGFTH1pRdP_cIN7Cdx0hBK_BzDOR-HCcrvMYEPO99uihNTkywHEuP58JNA6rFLJ53hXABvzBmYcWDn3qpSwYIZZbD84q/s320/vlcsnap-2023-04-20-19h42m27s327.png" width="320"/></a></p><p>

So that&#39;s what we&#39;ll do and select our second profile. Like the first profile, this gets an address from a local DHCP server, but hardcodes the Sun Ray server address (you can also specify a firmware server address) instead of letting the client discover it from DNS or DHCP.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhAzOBcOhTnHPJAtu4q4GIpNqHdwPc6QXvQRujkOSuRN4S3jpGo835K2FUHYGBTqUF4I_5VA-FhQ7e1LfEHFNWdM2fRd-1D45yRBnQvUALgApgizoCrDUE_vhC53KiJjgGk1semwNZ1M24ne8-JSwMHbxDYXJPCueNtiQKh5HWT3a1CuQSNr-IIqkkc/s1024/vlcsnap-2023-04-20-19h42m32s876.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhAzOBcOhTnHPJAtu4q4GIpNqHdwPc6QXvQRujkOSuRN4S3jpGo835K2FUHYGBTqUF4I_5VA-FhQ7e1LfEHFNWdM2fRd-1D45yRBnQvUALgApgizoCrDUE_vhC53KiJjgGk1semwNZ1M24ne8-JSwMHbxDYXJPCueNtiQKh5HWT3a1CuQSNr-IIqkkc/s320/vlcsnap-2023-04-20-19h42m32s876.png" width="320"/></a></p><p>

This seems like a minor, almost trivial change, but the Gobi handles this situation rather differently.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhqXMXm_3ujvfDchJ4i_R3gmjwBTHu3CbCp08N3vpOjYmi0r_frNDWwGAq8Vmhuw6TdPhKq8a0-8nwWf6semdwP6Kx_gKbVh_NpiAmB5dKml85E8o9eylN0Sb03ZGyXcee73CbP4Q6CpyEoDuVZmJhWkJwgChSyiFDJJInGOXcugj0p__Od_utffL8p/s1024/vlcsnap-2023-04-20-19h43m02s159.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhqXMXm_3ujvfDchJ4i_R3gmjwBTHu3CbCp08N3vpOjYmi0r_frNDWwGAq8Vmhuw6TdPhKq8a0-8nwWf6semdwP6Kx_gKbVh_NpiAmB5dKml85E8o9eylN0Sb03ZGyXcee73CbP4Q6CpyEoDuVZmJhWkJwgChSyiFDJJInGOXcugj0p__Od_utffL8p/s320/vlcsnap-2023-04-20-19h43m02s159.png" width="320"/></a></p><p>

Instead of going directly to establishing a connection, the Gobi does a prolonged dance to obtain an address.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjEUVgseO36_YWlkadtMXQuK_uARfUJjL14tFQY7DP2TeFjUQJqGow8VdCsa5hqmCnhAAhfQv59T4NAbhsuhBM_OO3gVlQ0LyQIV9e1NnpWLk6DhcQ3gaJTrVtXYdq9CndnZNtXRY78HO5J4a1_fvB6PVMPVbF0MxI-Y8rnJORHxLppYxN1RcOKCDwQ/s1024/vlcsnap-2023-04-20-19h43m29s449.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjEUVgseO36_YWlkadtMXQuK_uARfUJjL14tFQY7DP2TeFjUQJqGow8VdCsa5hqmCnhAAhfQv59T4NAbhsuhBM_OO3gVlQ0LyQIV9e1NnpWLk6DhcQ3gaJTrVtXYdq9CndnZNtXRY78HO5J4a1_fvB6PVMPVbF0MxI-Y8rnJORHxLppYxN1RcOKCDwQ/s320/vlcsnap-2023-04-20-19h43m29s449.png" width="320"/></a></p><p>

That&#39;s because in this mode, it&#39;s no longer the Sun Ray firmware that&#39;s getting the address and connecting to the host. Instead, it&#39;s the VPN board.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgZsbJQcjrJmYKL65MDmNn8XSLL7LYrkb06lY3Vx1A5ewy5PF-B67Hn67CpuQvg-mfLyBS2No2gJt9lCtLeRwywh0N8HTMbXm56RFoYAS4X7FD_dMw5wKOF7maZxASRKMEyWVPthqyINgbHuw2jJyDPYVavbUo0OY009mdfpHV4NyFl96mg5CBIEkRo/s1024/vlcsnap-2023-04-20-19h43m36s376.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgZsbJQcjrJmYKL65MDmNn8XSLL7LYrkb06lY3Vx1A5ewy5PF-B67Hn67CpuQvg-mfLyBS2No2gJt9lCtLeRwywh0N8HTMbXm56RFoYAS4X7FD_dMw5wKOF7maZxASRKMEyWVPthqyINgbHuw2jJyDPYVavbUo0OY009mdfpHV4NyFl96mg5CBIEkRo/s320/vlcsnap-2023-04-20-19h43m36s376.png" width="320"/></a></p><p>

I&#39;ve intentionally <em>not</em> suppressed this address to demonstrate to you that we&#39;re now using a completely Gobi-internal IP address (</p><tt>192.168.100.2</tt><p>) on that massive &#34;IDE-Ethernet&#34; switch, again at the false speed of 100Mbit, even though the Gobi is still plugged into the same 10Mbit half-duplex port. This IP address has no relationship to anything on my internal test network. In fact, this totally confuses SRSS on the Solaris server and it seemingly won&#39;t talk to it.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFRarFuFJgCE51bxWGjDzlJI4wMe3O93awmqFwkMutGzBm_CN6o5e_PiLa_c0Rws98xUm5T-MJChO5QgdixOaMFeF9kn80FRBWeLDpN9geVshUJ0KgnXVrx7996SLhJdPpfJSEYj_bFgof0HvF9pfzR_xH9i2BUIseJgjcGa-u6edFyp8GlnxO11fU/s960/Screenshot_20230421_231704.png"><img alt="" data-original-height="841" data-original-width="960" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFRarFuFJgCE51bxWGjDzlJI4wMe3O93awmqFwkMutGzBm_CN6o5e_PiLa_c0Rws98xUm5T-MJChO5QgdixOaMFeF9kn80FRBWeLDpN9geVshUJ0KgnXVrx7996SLhJdPpfJSEYj_bFgof0HvF9pfzR_xH9i2BUIseJgjcGa-u6edFyp8GlnxO11fU/s320/Screenshot_20230421_231704.png" width="320"/></a></p><p>

In kOpenRay&#39;s console we see what&#39;s wrong: there are two addresses, the </p><tt>realIP</tt><p> (VPN-confabulatory) and </p><tt>remoteIP</tt><p> (actual). With the first profile, these were the same; with this profile, only one of them is actually valid. The UDP packets are correctly sent <em>to</em> SRSS, but it replies back to the VPN-generated phony address which won&#39;t work (and isn&#39;t what it got from the DHCP server), and thus the ALP connection is never established. Unless your local network is or allows this subnet, you may not be able to connect at all either.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgw8vFK-u3pistpTni4baWXD4gNJbwXARsK4cx02jMpa9odreRyUmqlH3tMKBpDE9ErPczNPgXda7dZ4eLuX3uKBsyy3lzuGr2lrYwXE_w7OGz7RWwhacWj7C6xfKG2flMIMyRJrgMvqYvLuwqRcXZJ6Vo_TLaG79bJnTbtVkRdOW4TTCRlQsWk4O3B/s1024/vlcsnap-2023-04-20-19h43m50s052.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgw8vFK-u3pistpTni4baWXD4gNJbwXARsK4cx02jMpa9odreRyUmqlH3tMKBpDE9ErPczNPgXda7dZ4eLuX3uKBsyy3lzuGr2lrYwXE_w7OGz7RWwhacWj7C6xfKG2flMIMyRJrgMvqYvLuwqRcXZJ6Vo_TLaG79bJnTbtVkRdOW4TTCRlQsWk4O3B/s320/vlcsnap-2023-04-20-19h43m50s052.png" width="320"/></a></p><p>

kOpenRay does work with the Gobi VPN because I added code to reply to the remote IP it provides instead of the phony &#34;real&#34; one.
</p><p>
It is my suspicion that the VPN board is involved even in the case of the first profile, given that a) the connection speed is wrong, b) the VPN boards are dead even via the UART ports and c) my dead Gobis power up and try to initialize their network connections, but fail, which should work if the Sun Ray firmware had a direct unimpeded path to the outside. If the VPN board dies, it looks like everything does. And it really does get stuffy in that hard disk bay.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh-GCaLBm7dMQ9dVvsOiPf6HxuE6btfkJ56R3vvcNDGhmuL2d-c9H_CxnmJcTZwXHufL38XrkFhHjMjbQKz9MhWg1TfF6DjVZkWfWW-lnnWcDIOkRuxXXIQReRLbwPvVZfeW3Wibx25z7Fj9E7Ub-_A6d0qZG4-1OlzCJP_C5AgRItyE_4jpMTfozIW/s1024/vlcsnap-2023-04-20-19h58m46s612.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh-GCaLBm7dMQ9dVvsOiPf6HxuE6btfkJ56R3vvcNDGhmuL2d-c9H_CxnmJcTZwXHufL38XrkFhHjMjbQKz9MhWg1TfF6DjVZkWfWW-lnnWcDIOkRuxXXIQReRLbwPvVZfeW3Wibx25z7Fj9E7Ub-_A6d0qZG4-1OlzCJP_C5AgRItyE_4jpMTfozIW/s320/vlcsnap-2023-04-20-19h58m46s612.png" width="320"/></a></p><p>

Well, that&#39;s enough preamble. It&#39;s time to actually break something.
</p><p>
The final profile looks like the first profile, but with one change: this time, we&#39;re going to use the built-in minibrowser for &#34;web authentication.&#34; Some of you are starting to smile in anticipation, because when there&#39;s a browser, there&#39;s often a hole. And there&#39;s a hole, by golly.
</p><p>
The first odd part is that we go into the &#34;long dance&#34; to get an IP rather than the fast Sun Ray direct mechanism. And then a new window appears:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgO0GWGdSgquRDG4nKmmoX0dxan5EmQOZwYyM0a6ZryaixvBFu3QAqQ3628-fej4MOfbqY-uajedf84SD7K5F4ynAKOaiKBjUs9KgJaQGPZRnYmmeQPg8mrn_oiAVO2zmBmPo4l-QZdijRLNq3hzSEvmdOvdiHNz75C6jYOhedvdvC3siQFKvsQH9Hd/s1024/vlcsnap-2023-04-20-09h41m34s272.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgO0GWGdSgquRDG4nKmmoX0dxan5EmQOZwYyM0a6ZryaixvBFu3QAqQ3628-fej4MOfbqY-uajedf84SD7K5F4ynAKOaiKBjUs9KgJaQGPZRnYmmeQPg8mrn_oiAVO2zmBmPo4l-QZdijRLNq3hzSEvmdOvdiHNz75C6jYOhedvdvC3siQFKvsQH9Hd/s320/vlcsnap-2023-04-20-09h41m34s272.png" width="320"/></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjbvxVHeqviOfcL-FpmQ1ba5tQ7vCbmx_BzkeaMahOc06hNUF4mEVdweAefs4BvlRSOi5m-ui8ilj1fo51SdiCZ37OkgVCQv8bcIQctggbrP_Xykwp2hWXtQVydsiuGjgaFHQc4195Eb2P0x_EoNuj1b-DzrfQdgUazMzA3BDP0dcCkUhVI7ScUyCXz/s1024/vlcsnap-2023-04-20-09h41m41s609.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjbvxVHeqviOfcL-FpmQ1ba5tQ7vCbmx_BzkeaMahOc06hNUF4mEVdweAefs4BvlRSOi5m-ui8ilj1fo51SdiCZ37OkgVCQv8bcIQctggbrP_Xykwp2hWXtQVydsiuGjgaFHQc4195Eb2P0x_EoNuj1b-DzrfQdgUazMzA3BDP0dcCkUhVI7ScUyCXz/s320/vlcsnap-2023-04-20-09h41m41s609.png" width="320"/></a></p><p>

This is the mini-browser. Ignore the fact it can&#39;t get to Snoracle&#39;s website, as this segment isn&#39;t allowed out onto the public Internet.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh17ZxpJ9pd_cvNd_JDiQuL9egbgCNBXGl3R2EN3wBgkbUDsv43JU9IEo5ok--V6qvNYW5SaaqBDpxHX3Ib1VAitRmL18OPv6G7r8mYYUDDTQJ1uh9DV_mRKRtmMvv56o6VPhlEqN_gOAP4nPeTqfu9b-lg5ni6UJBBgype6KV0VgHI0D7saD4MrW4E/s1024/vlcsnap-2023-04-20-09h41m51s277.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh17ZxpJ9pd_cvNd_JDiQuL9egbgCNBXGl3R2EN3wBgkbUDsv43JU9IEo5ok--V6qvNYW5SaaqBDpxHX3Ib1VAitRmL18OPv6G7r8mYYUDDTQJ1uh9DV_mRKRtmMvv56o6VPhlEqN_gOAP4nPeTqfu9b-lg5ni6UJBBgype6KV0VgHI0D7saD4MrW4E/s320/vlcsnap-2023-04-20-09h41m51s277.png" width="320"/></a></p><p>

But we can surf Floodgap local resources from here, so let&#39;s pull up the Floodgap main page.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_Z9ISa-wyihoacUSwL82PKTWv-15ydzZjS9wdWCAT-CPiqEmlLapC9jaJdD59LbJPMIFjvSqVu0To9I1YJ4uRd8iBMyUKOsXABgkzb8LgpPUnyBYXRXOtmTiDacMpNMvl4GEtDSvkQy6yqFIAPe3tgDOMuKwTS3Zb7Pey1GHcY84qcl28ghbFNsO-/s1024/vlcsnap-2023-04-20-20h18m23s122.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_Z9ISa-wyihoacUSwL82PKTWv-15ydzZjS9wdWCAT-CPiqEmlLapC9jaJdD59LbJPMIFjvSqVu0To9I1YJ4uRd8iBMyUKOsXABgkzb8LgpPUnyBYXRXOtmTiDacMpNMvl4GEtDSvkQy6yqFIAPe3tgDOMuKwTS3Zb7Pey1GHcY84qcl28ghbFNsO-/s320/vlcsnap-2023-04-20-20h18m23s122.png" width="320"/></a></p><p>

It&#39;s the right colours, more or less, but it&#39;s all text and no special fonts or images.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjntPiFVrufHh6oZuEZQCBfDG9fud6seQO_HQ1GLUkNPBTBA2sqTXoYgQPH67G6Wa09z7BmXyxjMKCEWuyU2sIPr2dUVLVH-BDfS6urs9gTCdneDO3s4Cy4rUpDfwGRshXlvgJb4LascrBKpNhtXNDVZPeul4of_R9RkU4Mj-xUaDvEKIzTkm4hN16F/s1024/vlcsnap-2023-04-20-20h18m41s221.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjntPiFVrufHh6oZuEZQCBfDG9fud6seQO_HQ1GLUkNPBTBA2sqTXoYgQPH67G6Wa09z7BmXyxjMKCEWuyU2sIPr2dUVLVH-BDfS6urs9gTCdneDO3s4Cy4rUpDfwGRshXlvgJb4LascrBKpNhtXNDVZPeul4of_R9RkU4Mj-xUaDvEKIzTkm4hN16F/s320/vlcsnap-2023-04-20-20h18m41s221.png" width="320"/></a></p><p>

If we press Escape for the menu as directed, we see a familiar set of options. Some of you know what browser this is already. Hint: the M1400 was using <a href="http://oldvcr.blogspot.com/2021/08/cracking-into-sun-ray-general-dynamics.html">a related package</a>.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhIstP59yQvVrQBbsaIPiJqBKpHH_DZaDSEtbQA2MTMu7QY9eR89mEZG2CUTSZRcFT_pMMgxX16WsCKSf3clR9sj-hR80tirM75s609vybVDCJxmHMqCT4KO0uByOyc_CcwArItVhsdVqcvM4C5813FW62UoS-74M7O-KoR81Kjz8Xf4AwXgktaUdZH/s1024/vlcsnap-2023-04-20-20h21m05s303.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhIstP59yQvVrQBbsaIPiJqBKpHH_DZaDSEtbQA2MTMu7QY9eR89mEZG2CUTSZRcFT_pMMgxX16WsCKSf3clR9sj-hR80tirM75s609vybVDCJxmHMqCT4KO0uByOyc_CcwArItVhsdVqcvM4C5813FW62UoS-74M7O-KoR81Kjz8Xf4AwXgktaUdZH/s320/vlcsnap-2023-04-20-20h21m05s303.png" width="320"/></a></p><p>

No, you don&#39;t get a clue from visiting the &#34;Gobi7 homepage&#34; (even though this is technically a Gobi8). Give up?

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgJJuaarFxMOVE-Qe00YHGJGCBen1Kb4tfvZL25JapCepnq2JxXqH9eZEqW4Qf7j1B3DoWptUrXzm2qepctR6-rA5I2cttK6A-lICIZaPhlAd_XWwCNFAo2PTYEz-yfNtIwUFwZo4r1jJnfoqduvP6IugIMW0dq6jmO_qA6eLoUbzva_X0eHG8iGr-h/s1024/vlcsnap-2023-04-20-20h18m49s387.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgJJuaarFxMOVE-Qe00YHGJGCBen1Kb4tfvZL25JapCepnq2JxXqH9eZEqW4Qf7j1B3DoWptUrXzm2qepctR6-rA5I2cttK6A-lICIZaPhlAd_XWwCNFAo2PTYEz-yfNtIwUFwZo4r1jJnfoqduvP6IugIMW0dq6jmO_qA6eLoUbzva_X0eHG8iGr-h/s320/vlcsnap-2023-04-20-20h18m49s387.png" width="320"/></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6JDnuHVCEm9ZJmXPbHwkylStKubVhFMnn5fMnxXBa5FWEb9v4x4HAJgQtTydj9s9qsEst7iqUjgf9H19fTgbFUqSisIpJ1Kaq4II-y_Drvlrm-2g5Y-5NEWLVPFCdr6m1HAJ__trE6gabjxrpKNUmvcfdERkAgsJhnFibfZTPXhd1YdipHdagK8gR/s1024/vlcsnap-2023-04-20-20h18m54s240.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6JDnuHVCEm9ZJmXPbHwkylStKubVhFMnn5fMnxXBa5FWEb9v4x4HAJgQtTydj9s9qsEst7iqUjgf9H19fTgbFUqSisIpJ1Kaq4II-y_Drvlrm-2g5Y-5NEWLVPFCdr6m1HAJ__trE6gabjxrpKNUmvcfdERkAgsJhnFibfZTPXhd1YdipHdagK8gR/s320/vlcsnap-2023-04-20-20h18m54s240.png" width="320"/></a></p><p>

It&#39;s <a href="http://www.elinks.cz/">ELinks</a>! (And it&#39;s a GPL violation!) More specifically, ELinks 0.11.3, which would be right for the timeframe of this firmware version.
</p><p>
The notion here is that you would connect, do whatever login process you needed to do, and having done so then quit the browser and let the VPN board do the rest of its dance. Spoiler alert the second — we&#39;re not going to let it get that far.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiktH3_fwYjrinsqk8fgmkEzvUfFrW1I60sVdtp2ghiOPsBBtZzeeESgTjTRiq5CDOhBSUSje8w_egImw4QweSk-oww6aldGzPNFefo2M87MtkCtCYLgqlnWZFO0gTVi_nDQD5wRbIiFckE8VPi2bQ-FIy5WvD336FA2SCTBghDKYKjYuqSNUtrIJYQ/s1024/vlcsnap-2023-04-20-20h19m49s485.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiktH3_fwYjrinsqk8fgmkEzvUfFrW1I60sVdtp2ghiOPsBBtZzeeESgTjTRiq5CDOhBSUSje8w_egImw4QweSk-oww6aldGzPNFefo2M87MtkCtCYLgqlnWZFO0gTVi_nDQD5wRbIiFckE8VPi2bQ-FIy5WvD336FA2SCTBghDKYKjYuqSNUtrIJYQ/s320/vlcsnap-2023-04-20-20h19m49s485.png" width="320"/></a></p><p>

Two more things about the browser before we get stuck into it. First, here&#39;s its user agent string: it&#39;s running Linux 2.4.25. Naturally it reports the architecture as </p><tt>mips</tt><p>. But which one, the Au1550 or the AR2316A? I don&#39;t think the Sun Ray 2 firmware is Linux-based! (The M1400 was.)

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhxg-G2rIKV0wFqRDv7QuMEpUXpM02ByttSH0GpUC3zPVdRxx73xOuKDtAZcH2x-3g-yDJQQZLR1vhpDYt7tqhLOLVDS-AYyTBT_sY_RAFbzkd49XY8rNphwuxW-2Yacq1HtJFLl8k1AI8AVx6snbQ97WoFIXzG4fC2J-eSpMrH5DOhtzm_j-2cbLj0/s1024/vlcsnap-2023-04-20-20h21m42s879.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhxg-G2rIKV0wFqRDv7QuMEpUXpM02ByttSH0GpUC3zPVdRxx73xOuKDtAZcH2x-3g-yDJQQZLR1vhpDYt7tqhLOLVDS-AYyTBT_sY_RAFbzkd49XY8rNphwuxW-2Yacq1HtJFLl8k1AI8AVx6snbQ97WoFIXzG4fC2J-eSpMrH5DOhtzm_j-2cbLj0/s320/vlcsnap-2023-04-20-20h21m42s879.png" width="320"/></a></p><p>

Second, TLS v1.0 is supported, but there is no certificate validation and no store. This was really intended for public networks anyway where you would assume they were untrustworthy to begin with and presumably tunnel through them. There is no support for FTP or Gopher.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjvRPBuuhddnNIcWcVJ66gW0lxKVGoWyjtShWslLIL0RG3e1wkFyB1jr90Wb43LLeX8JX03p1a89B7SlnL8fOyXDLQCPRqJY2AoVVGgu5QKryqHvGdjUvq4s_scEByTXr0FGfxud8J8eddLlnvY0dC1L5LIIEK2Mv1Zj2EORAXeSjMGz3tWs55AcQ8O/s1024/vlcsnap-2023-04-20-20h23m01s287.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjvRPBuuhddnNIcWcVJ66gW0lxKVGoWyjtShWslLIL0RG3e1wkFyB1jr90Wb43LLeX8JX03p1a89B7SlnL8fOyXDLQCPRqJY2AoVVGgu5QKryqHvGdjUvq4s_scEByTXr0FGfxud8J8eddLlnvY0dC1L5LIIEK2Mv1Zj2EORAXeSjMGz3tWs55AcQ8O/s320/vlcsnap-2023-04-20-20h23m01s287.png" width="320"/></a></p><p>

Anyway, enough messing around. Although there is at least one possibly useful <a href="https://www.opencve.io/cve/CVE-2008-7224">buffer overflow</a> in this version, we may have an even easier way to break it. The M1400&#39;s installation of Links was properly </p><tt>chroot</tt><p>ed by Tadpole, so let&#39;s see if Accutech did the same. Will it let us look at </p><tt>file:///</tt><p>?

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgzlDgM7_99mUIH5P9rcikkdmTtJKSDV8gsMPrK-N_cuORaZsrQHm_ci4pMSWIxe3eNJKrnPp87QGKqb8qHHci95JJ5fUJUNEFvTgjtcHRzK0844RKdLURTjOa4WlRo_-lQFpkbvU9kU2FQWe3nQ2XbLdEIG2hdQHwEIHZ0TlFIWePXaZNUdzVPgmk1/s1024/vlcsnap-2023-04-20-09h46m04s824.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgzlDgM7_99mUIH5P9rcikkdmTtJKSDV8gsMPrK-N_cuORaZsrQHm_ci4pMSWIxe3eNJKrnPp87QGKqb8qHHci95JJ5fUJUNEFvTgjtcHRzK0844RKdLURTjOa4WlRo_-lQFpkbvU9kU2FQWe3nQ2XbLdEIG2hdQHwEIHZ0TlFIWePXaZNUdzVPgmk1/s320/vlcsnap-2023-04-20-09h46m04s824.png" width="320"/></a></p><p>

Oh <em>no</em>. Everything is </p><tt>busybox</tt><p>. But we can <em>see</em> that everything is </p><tt>busybox</tt><p>. Let&#39;s look at </p><tt>/bin</tt><p>.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEguCgLymdv-O3-JGUn8otzsudMd2Nt5jX3MffswBKA87-5VEjo3lZHDAQgLCD0CXTEpzpAuKXwBYaz8ZiS5vkC3unybqY0-RfDeslAKJnhJ8-kprFoXpZxNBknFkATOmzg5CFmhTtt8h1uu-_ElGs8sKeKImBnp5akGHDurLc4bhUgixFuJW63yhBGO/s1024/vlcsnap-2023-04-20-20h30m41s503.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEguCgLymdv-O3-JGUn8otzsudMd2Nt5jX3MffswBKA87-5VEjo3lZHDAQgLCD0CXTEpzpAuKXwBYaz8ZiS5vkC3unybqY0-RfDeslAKJnhJ8-kprFoXpZxNBknFkATOmzg5CFmhTtt8h1uu-_ElGs8sKeKImBnp5akGHDurLc4bhUgixFuJW63yhBGO/s320/vlcsnap-2023-04-20-20h30m41s503.png" width="320"/></a></p><p>

Oh <em>noooo</em>. Is it going to be this easy?

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiEA5c67NgUyf5jV9A7fSKhQyyfDAeSRGROaNw0UPpPMhoNZ-9dJw2-_q8GfAZLOR704J4S6I5Y71-lZOULx4gokDJ6ppfcGSgns38jdOUlcBPr0LPyHUv0RSb02XwtM3lBweDKv2I1mgFuT_RmKqMThotmf6qNSPHK0A_BFlqm8H6OFpRPPPtDQmRg/s1024/vlcsnap-2023-04-20-20h23m20s011.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiEA5c67NgUyf5jV9A7fSKhQyyfDAeSRGROaNw0UPpPMhoNZ-9dJw2-_q8GfAZLOR704J4S6I5Y71-lZOULx4gokDJ6ppfcGSgns38jdOUlcBPr0LPyHUv0RSb02XwtM3lBweDKv2I1mgFuT_RmKqMThotmf6qNSPHK0A_BFlqm8H6OFpRPPPtDQmRg/s320/vlcsnap-2023-04-20-20h23m20s011.png" width="320"/></a></p><p>

Let&#39;s see if it will let me open </p><tt>/bin/sh</tt><p> ...

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjR06zmYs3oJXlDzfJZZ3SoyjRmAVZ6lPzKDUhU2R_L_vZ8pu2Zfb-Ew1drzIeBXmFaR8uN8PuokTNlbH2gv8xCRx-RsVDnGUi7fC31A2y0mzMGvofM44KuEuQXKy4IODcZpsf5eE5d1yf7Mjg8htyRqYAll4on3ZCMl4CbU95B1JeefKX2N80aquZX/s1024/vlcsnap-2023-04-20-20h23m34s932.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjR06zmYs3oJXlDzfJZZ3SoyjRmAVZ6lPzKDUhU2R_L_vZ8pu2Zfb-Ew1drzIeBXmFaR8uN8PuokTNlbH2gv8xCRx-RsVDnGUi7fC31A2y0mzMGvofM44KuEuQXKy4IODcZpsf5eE5d1yf7Mjg8htyRqYAll4on3ZCMl4CbU95B1JeefKX2N80aquZX/s320/vlcsnap-2023-04-20-20h23m34s932.png" width="320"/></a></p><p>

... with </p><tt>/bin/sh</tt><p>.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjGElPRurmCBftuozMZNIE9qX7yR0VvUMo6494Qa-L8uRr_VHsn3Xb1CQM9I3b-RQmAZQjhm6blNI9Bk6h05F9vIHF2RC6AqFuPPY8EqWPJhpz7I7NgKL5UiLvt3YbKmcq9OqNhd_2opZNRp2HTbuvWLC5WFq44dHX2BoJ_gaSkGn0iut9MGYy7vcov/s1024/vlcsnap-2023-04-20-19h59m55s611.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjGElPRurmCBftuozMZNIE9qX7yR0VvUMo6494Qa-L8uRr_VHsn3Xb1CQM9I3b-RQmAZQjhm6blNI9Bk6h05F9vIHF2RC6AqFuPPY8EqWPJhpz7I7NgKL5UiLvt3YbKmcq9OqNhd_2opZNRp2HTbuvWLC5WFq44dHX2BoJ_gaSkGn0iut9MGYy7vcov/s320/vlcsnap-2023-04-20-19h59m55s611.png" width="320"/></a></p><p>

It halted. But wait a second: is that a root prompt?

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjg8JI5dESaYMmXoAmblbnoHxBjWboKgOzX6poF9Y7SX_SCuPyo11Q9k8H4V-zijZCd4Q0a3QVZr0IXhS39FeSMC4oBNr1Nv65RSi61jelpdQD_c93QrAKsh8la5eeiwkWj27TmrI7d-_djYLLK8zIN0YwaR3b5bnZuKj2HOIDb2E_V-hiasdIrDyIA/s1024/vlcsnap-2023-04-20-20h00m03s176.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjg8JI5dESaYMmXoAmblbnoHxBjWboKgOzX6poF9Y7SX_SCuPyo11Q9k8H4V-zijZCd4Q0a3QVZr0IXhS39FeSMC4oBNr1Nv65RSi61jelpdQD_c93QrAKsh8la5eeiwkWj27TmrI7d-_djYLLK8zIN0YwaR3b5bnZuKj2HOIDb2E_V-hiasdIrDyIA/s320/vlcsnap-2023-04-20-20h00m03s176.png" width="320"/></a></p><p>

Oh <em>yes</em>.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgP4sF1IZ2I6byQuH1KfXTeNxXfhcuxooqFQPTXrunbOCA1MLFS6JUQUE_8HL59nnKwFhsD4CG_lAvaGjR4Sjc3o99r4MJ9-o4MQpwij9CI-BJYBZ_v5YdZlyu4ncSuq61VRbtp8-uVoOtXmIm4pN6aLoCQTFLtPpTxUhvsz-Ld_6-f-9csM4RiSfgZ/s1024/vlcsnap-2023-04-20-20h00m09s814.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgP4sF1IZ2I6byQuH1KfXTeNxXfhcuxooqFQPTXrunbOCA1MLFS6JUQUE_8HL59nnKwFhsD4CG_lAvaGjR4Sjc3o99r4MJ9-o4MQpwij9CI-BJYBZ_v5YdZlyu4ncSuq61VRbtp8-uVoOtXmIm4pN6aLoCQTFLtPpTxUhvsz-Ld_6-f-9csM4RiSfgZ/s320/vlcsnap-2023-04-20-20h00m09s814.png" width="320"/></a></p>

<p><em>Oh yessssss</em>. It <em>is</em> that easy.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjpboMZbjodHXMGhxzbyk9o5D0YyDKCf92xMkwyLHqRL7mKeBsjGMgX5B5xs8Hx4elka83vA1DdRoSPmJprdQUWoQyT7nSaIukfsyrd0Q5sQRDtmMlQyqYNHcgldwD36sgnIrP_JB96SwJcgUD5gKMJYnPYukbbnXpf4JlB6Sx2TmYfo6CPEfHM2jxh/s1024/vlcsnap-2023-04-20-20h00m18s953.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjpboMZbjodHXMGhxzbyk9o5D0YyDKCf92xMkwyLHqRL7mKeBsjGMgX5B5xs8Hx4elka83vA1DdRoSPmJprdQUWoQyT7nSaIukfsyrd0Q5sQRDtmMlQyqYNHcgldwD36sgnIrP_JB96SwJcgUD5gKMJYnPYukbbnXpf4JlB6Sx2TmYfo6CPEfHM2jxh/s320/vlcsnap-2023-04-20-20h00m18s953.png" width="320"/></a></p><p>

There&#39;s no </p><tt>chroot</tt><p> at all. We&#39;re into the operating system. The Gobi is pwned.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhX3i9SDrPYndM_rE1MEFUeJx566ZWQnMPGWMY-cdEAc2LvzUcuJeXyyx9a0CzFsYdFnqk6UUk7JQ8AC4AEWbRQkoxD9gWE-Ew3tFL9cXs_wGK81GwABCznyC0c_Pqm-hz-YzBQL246Pf8Ox7pIHW6izVRDlt4QulgMkcd-glXZhulnlTtYVu0TZxOv/s1024/vlcsnap-2023-04-20-20h31m59s222.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhX3i9SDrPYndM_rE1MEFUeJx566ZWQnMPGWMY-cdEAc2LvzUcuJeXyyx9a0CzFsYdFnqk6UUk7JQ8AC4AEWbRQkoxD9gWE-Ew3tFL9cXs_wGK81GwABCznyC0c_Pqm-hz-YzBQL246Pf8Ox7pIHW6izVRDlt4QulgMkcd-glXZhulnlTtYVu0TZxOv/s320/vlcsnap-2023-04-20-20h31m59s222.png" width="320"/></a></p><p>

The first order of business is to see what&#39;s running. Among the various kernel tasks and a couple self-explanatory processes, </p><tt>ps -ef</tt><p> tells us there&#39;s a Telnet daemon (!), a </p><tt>getty</tt><p> listening on what&#39;s most likely the serial UART at 115200bps (so this should definitely answer there if I ever need to test it), ELinks, our shell process, and a couple instances of a program called </p><tt>icosconfig</tt><p>. One of those was the job that stopped when we pulled the confused deputy gag on ELinks.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiwabH-btIvIpeEF4Wlr5iTSIAxy067WjEWdJzQRWxklcP-gWONI2CrGexRIspntLsGPJw_pEPl9ghQkVDa-IaYHcrQAnLGRgwMqm9zCYyie66YymfAq6eZKrfT5fUOVNlT1_rgJioD5i5tq3pJD6qEs3DXNOTnkp8HNgpmwIxE2Uzluy2exbX3YLyx/s1024/vlcsnap-2023-04-20-20h32m07s172.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiwabH-btIvIpeEF4Wlr5iTSIAxy067WjEWdJzQRWxklcP-gWONI2CrGexRIspntLsGPJw_pEPl9ghQkVDa-IaYHcrQAnLGRgwMqm9zCYyie66YymfAq6eZKrfT5fUOVNlT1_rgJioD5i5tq3pJD6qEs3DXNOTnkp8HNgpmwIxE2Uzluy2exbX3YLyx/s320/vlcsnap-2023-04-20-20h32m07s172.png" width="320"/></a></p><p>

This is a Busybox shell, and obviously an old Busybox at that, but we can see from the environment variables that our parent process was the Telnet daemon (also Busybox), so this connection came over Telnet. Another weird thing is that our user ID is </p><tt>admin</tt><p>, not </p><tt>root</tt><p>. Let&#39;s have a look at the password file.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQlxM8BtnXAc1rs7CoO9idj0m-PcZM3AhtZmpvLhpwh9SaxQceyG_y5iYz-wXYjfaFde6iIyEQOuO93NYSLXzKp31vObJmjmiNM_8Cwpta_rJq9KgLYW151YpTvQHpsZy8sOVj3huWmImPbXIy52jT2jV6NzCUmcPIql_YGK7Zo73bVFOgyDw2GqFr/s1024/vlcsnap-2023-04-20-20h32m18s839.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQlxM8BtnXAc1rs7CoO9idj0m-PcZM3AhtZmpvLhpwh9SaxQceyG_y5iYz-wXYjfaFde6iIyEQOuO93NYSLXzKp31vObJmjmiNM_8Cwpta_rJq9KgLYW151YpTvQHpsZy8sOVj3huWmImPbXIy52jT2jV6NzCUmcPIql_YGK7Zo73bVFOgyDw2GqFr/s320/vlcsnap-2023-04-20-20h32m18s839.png" width="320"/></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhHkwXQ6Y_c0-sYdY1zcdEeuC9nY0UjwrJcH9i2fETtm0oOEGqPlH0MEUNglM1K-Bgcx507fVRGijIgAgbg2F-C6QP8K79nUhLFfFiLKbQGjJs4EqSXxbK3dcKO8n9_u7aReQr8G0dW-3yb5o_QJQewS9C2D-SskdJe18YR0hJ6kImfGcwHXMuXz15n/s1024/vlcsnap-2023-04-20-20h32m49s167.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhHkwXQ6Y_c0-sYdY1zcdEeuC9nY0UjwrJcH9i2fETtm0oOEGqPlH0MEUNglM1K-Bgcx507fVRGijIgAgbg2F-C6QP8K79nUhLFfFiLKbQGjJs4EqSXxbK3dcKO8n9_u7aReQr8G0dW-3yb5o_QJQewS9C2D-SskdJe18YR0hJ6kImfGcwHXMuXz15n/s320/vlcsnap-2023-04-20-20h32m49s167.png" width="320"/></a></p><p>

Despite at least one account claiming to be in the shadow file (</p><tt>pcap</tt><p>), there is no </p><tt>/etc/shadow</tt><p>, so everything is actually here. There are four user IDs, one being </p><tt>nobody</tt><p>, one named </p><tt>pcap</tt><p> (presumably for packet capture) that&#39;s effectively disabled, the </p><tt>admin</tt><p> account we&#39;re logged in as that&#39;s apparently a </p><tt>root</tt><p> clone, and </p><tt>root</tt><p>, which is also disabled. Only </p><tt>admin</tt><p> has a password.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhusdFVFFV3E2f8G-GRyDbaSFHZt7eBbtmukAKxu0geROwlqG5N_oIwgF-0hnjuSW-62qLcOPizqj2aqZiKlzoPR2tX0I_yuaqEaBwGc6Vq0s91Wn8z6TSIpcEqPTA4vs9w7WNzFWELSMkYR0MvUoccPlvJijPoNi3JgFP2mAMjd53aHUb1gXSzFjiH/s1024/vlcsnap-2023-04-20-20h33m29s937.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhusdFVFFV3E2f8G-GRyDbaSFHZt7eBbtmukAKxu0geROwlqG5N_oIwgF-0hnjuSW-62qLcOPizqj2aqZiKlzoPR2tX0I_yuaqEaBwGc6Vq0s91Wn8z6TSIpcEqPTA4vs9w7WNzFWELSMkYR0MvUoccPlvJijPoNi3JgFP2mAMjd53aHUb1gXSzFjiH/s320/vlcsnap-2023-04-20-20h33m29s937.png" width="320"/></a></p><p>

But we can enable </p><tt>root</tt><p>, and Telnet is already listening, so let&#39;s get a session up where we can cut and paste and grab things instead of making another thousand screenshots. (Important note! If you&#39;re following along on your own Gobi, <em>DON&#39;T change the password file</em> for this, because there&#39;s an easier way. But I had to do it myself to find out.) With the root password set to blank, let&#39;s log i...huh?
</p><div><pre>% telnet ██████████
Trying...
Connected to ██████████.
Escape character is &#39;^]&#39;.

(none) login: root
Cedar&gt;
</pre></div>
<p>
That&#39;s ... not a root prompt.
</p><div><pre>Cedar&gt;ls
  Error: ls - invalid command

Cedar&gt;help
  enable
  exit
  help
  ping
  quit
  show
  ?

Cedar&gt;show
  Usage: show  &lt;options&gt;
  &lt;options&gt;:

  arp 
  auth ...
  config ...
  filter 
  interface ...
  ip ...
  ipsec ...
  memory 
  radio ...
  snmp 
  sntp 
  ssh 
  status 
  syslog 
  system ...
  telnet 
  vlan ...
  web 
  wireless ...
  wlan ...
  wds ...

Cedar&gt;show system

  Model: Cedar 860AG
  Firmware Version: 2.1.0
  Firmware Build Time: Thu Nov 8 20:41:49 PST 2007
  System Name: (none)
  Login Name: root
  Session Timeout: 10 min
  System Time: 01/01/2000, 00:16:24
  System Uptime: 0 days 0 hours 16 mins 24 secs
</pre></div>
<p>
Clearly we have some more corners of this system to explore (and we just found <em>another</em> GPL violation, potentially, in what Accutech did to Busybox). But right now I&#39;d just like a proper shell (and the Accutech terminal doesn&#39;t seem to handle CTRL-C right either), so let&#39;s put <tt>telnetd</tt> on another port <em>and</em> ensure we get a shell. <tt>telnetd -p 2323 -l /bin/sh</tt> should do nicely.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhMLXB8VmgBaqh6KKXGnaw-i1BtyxdLueMfZFVN_bksypWUV1ZUYIl24dmLUFVULFHaLbySXaOa9wLkIbulQK50iReOBGVzQFGeWgLWfiHWmVaMpGEgZfj57KJRMdRS9XH966cOZY9wAlk4Fg0uQduSoYKh6sm2na4ZZ8jA4_VKaZDjSAridw45aVfr/s1024/vlcsnap-2023-04-20-20h33m42s823.png"><img alt="" data-original-height="768" data-original-width="1024" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhMLXB8VmgBaqh6KKXGnaw-i1BtyxdLueMfZFVN_bksypWUV1ZUYIl24dmLUFVULFHaLbySXaOa9wLkIbulQK50iReOBGVzQFGeWgLWfiHWmVaMpGEgZfj57KJRMdRS9XH966cOZY9wAlk4Fg0uQduSoYKh6sm2na4ZZ8jA4_VKaZDjSAridw45aVfr/s320/vlcsnap-2023-04-20-20h33m42s823.png" width="320"/></a></p><p>

We&#39;ll now switch over to a terminal session from my desktop Linux machine. But before we do:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh3ElqnwkU_FxkOq_wPwtUzJsUCjCYpR3huvAVK-op5IZwbqc8IKmC1eIhip3HGEgP6PUvS6zrrOc56wAA8Lch6pS8HInUbEQS-6uxc53_5PsUMmxsJlzm6xRhBVKCXxpfAykMdfqq6ZT1SzIK3fbwtLvyCrZfRXKXfdyBKSfL3OBS8u3bdESR15y3O/s1280/jackass.jpg"><img alt="" width="320" data-original-height="720" data-original-width="1280" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh3ElqnwkU_FxkOq_wPwtUzJsUCjCYpR3huvAVK-op5IZwbqc8IKmC1eIhip3HGEgP6PUvS6zrrOc56wAA8Lch6pS8HInUbEQS-6uxc53_5PsUMmxsJlzm6xRhBVKCXxpfAykMdfqq6ZT1SzIK3fbwtLvyCrZfRXKXfdyBKSfL3OBS8u3bdESR15y3O/s320/jackass.jpg"/></a></p><p>

The <a href="http://www.intelicis.com/cedar_860.htm">Cedar 860AG</a> is, as defined by its manufacturer Intelicis, an enterprise access point with Ethernet and WiFi. This is no doubt what the Sun Ray firmware is using to configure its network settings during the &#34;long dance,&#34; and if it loses connection to it, we&#39;ve demonstrated it will likely be unable to connect to <em>anything</em>. That means a wrong move will brick this machine, especially since we&#39;re root and logged into the firmware, and there&#39;s no guarantee you can fix it from the UART. If you have one of these and you&#39;re following along, you deviate from this demonstration at your own risk. I&#39;m not responsible for you wrecking your rare Sun Ray laptop.
</p><p>
First thing: who are we actually talking to? The Cedar 860AG mentions Atheros in its datasheet, so I have a good idea it&#39;s <em>not</em> the Au1550, and since there&#39;s a functioning <tt>/proc</tt>, <tt>/proc/cpuinfo</tt> confirms it:
</p><div><pre># ls /
bin         home        lost+found  root        usr
dev         lib         mnt         sbin        var
etc         linuxrc     proc        tmp
# cat /proc/cpuinfo
system type             : Atheros AR5315
processor               : 0
cpu model               : unknown V6.4
BogoMIPS                : 183.50
wait instruction        : no
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : no
VCED exceptions         : not available
VCEI exceptions         : not available
</pre></div>
<p>
Interestingly it&#39;s detected as an &#34;Atheros AR5315&#34; but that&#39;s part of the same MIPS family. The architecture is <a href="https://openwrt.org/docs/techref/hardware/soc/soc.qualcomm.ar5xxx">well known to OpenWrt</a> as quite a few routers use it, so add this little hidden one to the list.
</p><p>
The fun part about it being an independent system means even if the Au1550&#39;s Sun Ray firmware watchdog fires and the machine tries to reset, apparently the AR2316A locks it out while it&#39;s active. The console and framebuffer become inoperative until the machine is powercycled, but we remain logged in as long as we&#39;re connected remotely. Which leads to another question: who&#39;s the master processor on this laptop <em>really</em>?
</p><div><pre># dmesg
# cat /proc/cmdline
console=ttyS0,115200 root=mtdblock2 mem=32M rw
# cat /proc/meminfo
        total:    used:    free:  shared: buffers:  cached:
Mem:  30789632 10969088 19820544        0        0  4980736
Swap:        0        0        0
MemTotal:        30068 kB
MemFree:         19356 kB
MemShared:           0 kB
Buffers:             0 kB
Cached:           4864 kB
SwapCached:          0 kB
Active:           1564 kB
Inactive:         5328 kB
HighTotal:           0 kB
HighFree:            0 kB
LowTotal:        30068 kB
LowFree:         19356 kB
SwapTotal:           0 kB
SwapFree:            0 kB
# cat /proc/swaps
Filename                        Type            Size    Used    Priority
</pre></div>
<p>
No surprise: we saw a 32MB SDRAM chip, and that&#39;s what it has. There is nothing in <tt>dmesg</tt>, but the kernel command line demonstrates the root filesystem is <a href="http://linux-mtd.infradead.org/doc/general.html">flash via MTD</a>. This is undoubtedly the flash chip we saw.
</p><div><pre># ip addr
1: lo: &lt;LOOPBACK,UP&gt; mtu 16436 qdisc noqueue 
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
2: eth0: &lt;BROADCAST,MULTICAST,PROMISC,UP&gt; mtu 1500 qdisc pfifo_fast qlen 1000
    link/ether 00:19:25:f1:c8:7d brd ff:ff:ff:ff:ff:ff
3: wifi0: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast qlen 199
    link/ether 00:19:25:f1:c8:7c brd ff:ff:ff:ff:ff:ff
4: sta0: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noqueue 
    link/ether 00:19:25:f1:c8:7c brd ff:ff:ff:ff:ff:ff
5: wan: &lt;BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue 
    link/ether 00:19:25:f1:c8:7d brd ff:ff:ff:ff:ff:ff
    inet ██████████/██ brd ██████████ scope global wan
6: lan: &lt;BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue 
    link/ether 00:19:25:f1:c8:7d brd ff:ff:ff:ff:ff:ff
    inet 192.168.100.1/24 brd 192.168.100.255 scope global lan
    inet 192.168.11.1/24 brd 192.168.11.255 scope global lan:1
7: eth0.0: &lt;BROADCAST,MULTICAST,PROMISC,UP&gt; mtu 1500 qdisc noqueue 
    link/ether 00:19:25:f1:c8:7d brd ff:ff:ff:ff:ff:ff
8: eth0.2: &lt;BROADCAST,MULTICAST,PROMISC,UP&gt; mtu 1500 qdisc noqueue 
    link/ether 00:19:25:f1:c8:7d brd ff:ff:ff:ff:ff:ff
# netstat -a
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 *:2323                  *:*                     LISTEN      
tcp        0      0 *:telnet                *:*                     LISTEN      
tcp        0      0 ██████████:2323         ██████████:39326  ESTABLISHED 
tcp        0      0 192.168.11.1:telnet     192.168.11.5:50889      ESTABLISHED 
Active UNIX domain sockets (servers and established)
Proto RefCnt Flags       Type       State         I-Node Path
unix  2      [ ACC ]     STREAM     LISTENING     1426   /tmp/socket0
unix  3      [ ]         DGRAM                    21     /dev/log
unix  3      [ ]         STREAM     CONNECTED     1391   
unix  3      [ ]         STREAM     CONNECTED     1390   
unix  2      [ ]         DGRAM                    633    
</pre></div>
<p>
The output here is just about proof positive the VPN board fully controls the Ethernet jack. The only interface with the &#34;external&#34; (i.e., my internal test network) address is <tt>wan</tt>, and that MAC is the VPN board&#39;s (scroll back up for proof). What&#39;s interesting is that the same MAC is used for the internal Ethernet interconnect, and there&#39;s a second network <tt>192.168.11.*</tt> to go with <tt>192.168.100.*</tt>. Our stalled out console connection is over that network even though the VPN board seems to be listening on all interfaces and obviously responds on them.
</p><p>
I did a little test at this point just to see how wide open a barn door we had, but (to my relief and simultaneous vague disappointment) nothing responded to Telnet with the other two profiles. It looks like the hole only opens when the Accutech console browser does.
</p><p>
Let&#39;s bring the shell back up. What else answers on the internal network? We&#39;ll start with where the original Telnet connection originates from, but <tt>192.168.11.5</tt> doesn&#39;t answer on Telnet.
</p><div><pre># telnet 192.168.11.5
telnet: Unable to connect to remote host (192.168.11.5): Connection refused
</pre></div>
<p>
But after repeatedly checking numbers in that subnet, we find that <tt>192.168.11.2</tt> responds to pings. Does it talk to us?
</p><div><pre># telnet 192.168.11.2

Entering character mode
Escape character is &#39;^]&#39;.


3g login: root
Password: 
Login incorrect

3g login: admin

Welcome to ICOS version 8.0

        Copyright (c) 2004-2007, Intelicis Corporation
        All rights reserved


Cedar&gt;
</pre></div>
<p>
We just found the IPX425 on the 3G board! And there&#39;s no password on the <tt>admin</tt> account! It looks like it&#39;s running the same type of embedded router operating system because we have a Cedar prompt. It calls itself &#34;ICOS.&#34;
</p><div><pre>Cedar&gt;show system

  Model: Cedar 860AG
  Firmware Version: 1.2.3.emobile.a
  Firmware Build Time: Mon Oct 15 15:23:02 PDT 2007

  System Name: 3g
  Login Name: admin
  Session Timeout: 10 min
  System Time: 01/01/1970, 00:07:35
  System Uptime: 0 days 0 hours 19 mins 35 secs
  
Cedar&gt;show config

# Common Wireless Setting

# WLAN Intelicis-a
wlan add Intelicis-a
wlan Intelicis-a ssid Intelicis-a

# WLAN Intelicis-g
wlan add Intelicis-g
wlan Intelicis-g ssid Intelicis-g

# Serial port 1 configuration

# Radio 1 configuration
radio 1 freq a
radio 1 auto_channel_list 36,149
radio 1 basic_rates 6,12,24
radio 1 supported_rates 6,9,12,18,24,36,48,54
radio 1 wlanadd Intelicis-a

# Radio 2 configuration
radio 2 freq bg
radio 2 auto_channel_list 1,6,11
radio 2 basic_rates 1,2,5.5,11
radio 2 supported_rates 1,2,5.5,11,6,9,12,18,24,36,48,54
radio 2 wlanadd Intelicis-g

  Error: No /tmp/icos/bridge directory existed
# Network Protocol Configuration

Cedar&gt;quit
Connection closed by foreign host.
</pre></div>
<p>
It&#39;s a bit of a surprise to see this XScale core also identify itself as a Cedar 860AG. That said, the behaviour is a bit different from the Cedar prompt we got on the Atheros; it&#39;s quite possibly an earlier release of the software despite the later build date. It also looks like there&#39;s an embedded Linux or Unix under this too based on that error message referencing a missing <tt>/tmp/icos/bridge</tt>, but getting into it will probably require figuring out where the UART is. A project for another day.
</p><p>
From this we can reasonably conclude that <tt>192.168.11.*</tt> is the internal &#34;Ethernet-over-IDE&#34; network, with <tt>.2</tt> being the 3G board, <tt>.5</tt> being the Au1550, and <tt>.1</tt> being this, the VPN board (again: who&#39;s <em>actually</em> the main CPU?). Nothing appeared to answer on the <tt>192.168.100.*</tt> network, so let&#39;s get back to the VPN board and this time dig around in the filesystem.
</p><div><pre># df -k
Filesystem           1k-blocks      Used Available Use% Mounted on
/dev/mtdblock2            6976      5304      1672  76% /
# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00010000 &#34;RedBoot&#34;
mtd1: 000e0000 00010000 &#34;ICOS&#34;
mtd2: 006d0000 00010000 &#34;rootfs&#34;
mtd3: 00010000 00010000 &#34;RedBootCfg&#34;
mtd4: 00010000 00010000 &#34;AtherosCfg&#34;
</pre></div>
<p>
Aha, the boot loader is RedBoot! That&#39;s what <a href="http://oldvcr.blogspot.com/2023/02/dusting-off-dreamcast-linux.html">Dusted-off Dreamcast Linux</a> uses. With the rickety nature of this setup I&#39;m concerned about dumping the individual partitions to the filesystem to exfiltrate them for analysis, but the firmware images I was provided by a kind soul seem compressed with a method I (nor <tt>binwalk</tt>) haven&#39;t figured out yet, so we might be able to get them off another way. While we think about that, let&#39;s look at some of the other binaries we saw running.
</p><div><pre># busybox
BusyBox v1.00 (2007.11.01-21:12+0000) multi-call binary

Usage: busybox [function] [arguments]...
   or: [function] [arguments]...

        BusyBox is a multi-call binary that combines many common Unix
        utilities into a single executable.  Most people will create a
        link to busybox for each function they wish to use, and BusyBox
        will act like whatever it was invoked as.

Currently defined functions:
        [, ash, awk, busybox, cat, chgrp, chmod, chown, chroot, cp, cut,
        date, dd, df, dirname, dmesg, echo, egrep, expr, false, ftpget,
        ftpput, getty, grep, gunzip, gzip, halt, head, hostname, httpd,
        id, ifconfig, ifdown, ifup, inetd, init, insmod, iproute, kill,
        killall, klogd, linuxrc, ln, logger, login, ls, lsmod, md5sum,
        mkdir, mknod, modprobe, mount, mv, netstat, od, passwd, ping,
        printf, ps, pwd, reboot, rm, rmmod, route, run-parts, sdiff, sed,
        sh, sleep, sort, start-stop-daemon, swapoff, swapon, sync, sysctl,
        syslogd, tail, tar, telnet, telnetd, test, tftp, top, touch, tr,
        traceroute, true, tty, udhcpc, udhcpd, umount, uname, uptime,
        usleep, vconfig, vi, wc, which, whoami, zcat
# which icosconfig
/usr/sbin/icosconfig
# icosconfig
  Error: Missing argument
  Usage: icosconfig {bootinit | {get | set} {&lt;module name&gt; | serial_port | vlaninfo} &lt;argument&gt; | {init | save | reset | reboot} {system | &lt;module name&gt;} | shell | timer} 
</pre></div>
<p>
I FTPed both files to my Linux desktop. <tt>file</tt> says they&#39;re an <tt>ELF 32-bit MSB executable, MIPS, MIPS32 version 1 (SYSV), dynamically linked, interpreter /lib/ld-uClibc.so.0, stripped</tt>. Combine uClibc (<tt>/lib/libuClibc-0.9.27.so</tt>) with the fact everything is <tt>busybox</tt> and we&#39;re actually looking at a uClinux system here. Cool.
</p><p>
<tt>icosconfig</tt> appears to be some sort of all-singing, all-dancing configurator like a proto-<tt>systemd</tt>, but worse, because it&#39;s even hackier. Shell commands appear liberally in the output of <tt>strings</tt> like
</p><div><pre>brctl addbr lan; ifconfig lan up; ifconfig eth0 up
brctl addbr lan; ifconfig lan up; ifconfig eth0 up; brctl addif lan eth0
brctl addbr vlan%d; ifconfig vlan%d up; vconfig add eth0 %d; ifconfig eth0.%d up
brctl addbr vlan%d; ifconfig vlan%d up; vconfig add eth0 %d; ifconfig eth0.%d up
ps -ef | grep &#34;/sbin/dhcpcd-bin -Y -N %s &#34; | grep -v grep 1&gt;/dev/null 2&gt;&amp;1
route del default 1&gt;/dev/null 2&gt;&amp;1 ; route add default gw %s dev %s 1&gt;/dev/null 2&gt;&amp;1
grep -v &#34;add -net 0.0.0.0 netmask 0.0.0.0 gw %s&#34; %s/routecurr.conf &gt; %s/routecurr.tmp; mv -f %s/routecurr.tmp %s/routecurr.conf
echo &#34;add -net 0.0.0.0 netmask 0.0.0.0 gw %s dev %s&#34; &gt;&gt; %s/routecurr.conf
</pre></div>
<p>
It also contained the error message string we got when we were connected to the Cedar configuration prompt (and it contains the string <tt>Cedar</tt>), so it seems like Busybox <tt>login</tt> is hardcoded to call it by default. To prove this:
</p><div><pre># login &#34;-?&#34;
login: illegal option -- ?
BusyBox v1.00 (2007.11.01-21:12+0000) multi-call binary

Usage: login [OPTION]... [username] [ENV=VAR ...]

Begin a new session on the system

Options:
        -f      Do not authenticate (user already authenticated)
        -h      Name of the remote host for this login.
        -p      Preserve environment.

# login -f admin
Cedar&gt;show config
  Usage: show config  &lt;options&gt;
  &lt;options&gt;:

  all|startup|running|&lt;config file name&gt;

Cedar&gt;show config all

Cedar&gt;show config running

# IPSEC setting
ipsec off
ipsec autodial off
ipsec connect off
ipsec eazyvpn off
ipsec nat_traversal on
ipsec aggr_mode off
ipsec pfs off
ipsec replay_protect off
ipsec encryption 3des
ipsec hash md5
ipsec psk 
ipsec remote_ip 
ipsec remote_subnet 
ipsec remote_dhcp 
ipsec group_name 
ipsec group_key 
ipsec xauth_user 
ipsec xauth_password 
ipsec dns 
ipsec sunray 
ipsec firmware 
ipsec mtu 1356

# Interface setting
interface lan on
interface lan ip 0 addr 192.168.100.1 netmask 255.255.255.0 mode static
interface lan ip 1 addr 192.168.11.1 netmask 255.255.255.0 mode static
interface wan on
interface wan ip 0 addr 0.0.0.0 netmask 0.0.0.0 mode dhcp
interface sta0 off
interface sta0 ip 0 addr 0.0.0.0 netmask 0.0.0.0 mode dhcp

# WLAN Intelicis-g
wlan add Intelicis-g
wlan Intelicis-g ssid Intelicis-g

# Radio 1 (5GHz) configuration
radio 1 freq bg
radio 1 basic_rates 1,2,5.5,11
radio 1 supported_rates 1,2,5.5,11,6,9,12,18,24,36,48,54
radio 1 wlanadd Intelicis-g

# Network Protocol Configuration

Cedar&gt;quit
#
</pre></div>
<p>
Basically the configuration confirms what we saw from <tt>ip addr</tt>. It&#39;s interesting that <tt>show config all</tt> didn&#39;t actually show any config at, um, all.
</p><p>
To confirm <tt>icosconfig</tt> was the source of the prompt, I looked at the output of <tt>ps -ef</tt> from the shell on port 2323, then did <tt>login -f admin</tt> from the console and looked at <tt>ps -ef</tt> again. The new process was <tt>icosconfig shell</tt>, so:
</p><div><pre># icosconfig shell
Cedar&gt;
</pre></div>
<p>
Now that we can access the Cedar prompt without having to log in over Telnet, at this point I went ahead and undid the change I made to <tt>root</tt> in <tt>/etc/passwd</tt> on the off chance it comes back to bite us later. That&#39;s why you don&#39;t need to do that yourself if you&#39;re following in my footsteps, as by this point we&#39;ve figured out how to run it directly.
</p><p>
After all that, though, what <em>was</em> the password for the VPN board&#39;s <tt>admin</tt> account? When I first wrote this, I censored the hash in that screenshot because I figured that Accutech would have changed it to something random and embedded that in their binary. Indeed, letting John the Ripper at it on my 64-thread POWER9 Raptor Talos II for 72 hours didn&#39;t pop out anything obvious. Then I found the manual for the Cedar 860AG and the default username and password, which are <tt>admin</tt> and (no joke) <tt>changeitnow</tt>. Well, guess what worked on the first try, including for the Cedar prompt&#39;s <tt>enable</tt> command for additional privileges? And on the IPX425 3G board as well? You don&#39;t even need to crack the hash now. I mean, this thing just gets better and better the more I play with it.
</p><p>
Anyway, back to the filesystem. Exploration of <tt>ls -lR /</tt> shows many paths containing <tt>icos</tt>. ICOS looks like Intelicis&#39; embedded baseline operating system which Accutech then customized as necessary for the 3G and VPN boards. Most of what&#39;s here are text configuration files like this one (I&#39;m not sure if the enterprise number is supposed to be confidential, so I&#39;ve suppressed it):
</p><div><pre># cat /etc/icos/system/info
#Base template for system module to dynamically generate 
#proprietary snmpd config file upon initialization
#
#Enterprise number of Intelicis Corp. is ████
prompt=Cedar
enable_prompt=Cedar
model=Cedar 860AG
enterprise=████
syslocation=Intelicis Corporation
syscontact=support@intelicis.com
</pre></div>
<p>
For obvious reasons, I won&#39;t mess with those configuration files; we&#39;ll stick to the commands exposed to us at the Cedar prompt.
</p><p>
Looking around some more, a fair amount of data was unpacked to <tt>/tmp</tt> for reasons unclear to me since <tt>/tmp</tt> is just part of the filesystem rather than in-memory. Fortunately some of these files have unusual dates, suggesting that they were just left there rather than the flash overwritten with new copies every time the VPN board starts (whew, that would be really bad). 
</p><div><pre># ls -l /tmp
-rwxr--r--    1 root     root         1354 Jan  1 00:00 elinks.conf
drwxr-xr-x    1 root     root            0 Jan  1 00:00 etc
-rw-r--r--    1 root     root           21 Jan  1 00:00 eth0.out
drwxr-xr-x    1 root     root            0 Jan  1 00:00 icos
drwxr-xr-x    1 root     root            0 Dec  9  2006 icosscripts
drwxr-xr-x    1 root     root            0 Jan  1 00:00 lib
drwxr-xr-x    1 root     root            0 Jan  1 00:00 lock
drwxr-xr-x    1 root     root            0 Jan  1 00:00 run
srw-------    1 root     root            0 Jan  1 00:01 socket0
-rw-r--r--    1 root     root           21 Jan  1 00:00 sta0.out
drwxr-xr-x    1 root     root            0 Jan  1 00:00 tmp
# ls -ldt /tmp
drwxrwxrwx    1 root     root            0 Jan  1 00:00 /tmp
</pre></div>
<p>
Most of the <tt>elinks.conf</tt> file is comments. There are only a couple terminal options set and nothing else. When does the fail stop, exactly? Can I get off this fail bus?
</p><p>
There are also stub shell scripts in <tt>/usr/local/lib/ipsec/mips-uclibc/bin</tt> for <tt>mips-uclibc-gcc</tt> and others, but the actual compilers are not present, so these files just take up space just like the other pieces of ICOS that aren&#39;t actually used.
</p><p>
The overall impression is that Accutech just threw ICOS on the flash and did the minimum to make it work. In particular, I suspect <tt>icosconfig</tt> is basically as shipped; I don&#39;t think Accutech wrote it. Admittedly you probably wouldn&#39;t be motivated to clean the house either if you didn&#39;t think you&#39;d get any uninvited guests.
</p><p>
Our last mystery is to figure out where the kernel is. We&#39;ll start by trying to get the <tt>RedBootCfg</tt> partition and see what it loads.
</p><div><pre># dd bs=512 count=128 if=/dev/mtd3 | od -x
0000000     5265    6442    6f6f    7400    0000    0000    0000    0000
0000020     a800    0000    a800    0000    0003    0000    0000    0000
0000040     0003    0000    0000    0000    0000    0000    0000    0000
0000060     0000    0000    0000    0000    0000    0000    0000    0000
*
0000360     0000    0000    0000    0000    0000    0000    c69f    f81b
0000400     5265    6442    6f6f    7420    636f    6e66    6967    0000
0000420     a87e    f000    a87e    f000    0000    1000    0000    0000
0000440     0000    0000    0000    0000    0000    0000    0000    0000
*
[...]
*
0177760     0000    0000    0000    0000    dead    dead    a06c    e27e
0200000
</pre></div>
<p>
I cut and pasted the output as input to this Perl script on my workstation:
</p><div><pre>#!/usr/bin/perl

$pos = 0;
select(STDOUT); $|++;

while(&lt;&gt;) {
        chomp;
        next if (/\+/); # skip dd output
        if (/^\*\s+$/) {
                $star = 1;
                next;
        }
        @h = ();
        ($oc, $h[0], $h[1], $h[2], $h[3], $h[4], $h[5], $h[6], $h[7], $x) =
                split(/\s+/, $_);
        next if length($x);
        $hex = &#39;&#39;; map { $hex .= $_ } @h;

        $npos = oct($oc);
        if ($star) {
                print STDOUT &#34;\0&#34; x ($npos - $pos);
                $star = 0;
        }
        print STDOUT pack(&#34;H*&#34;, $hex);
        $pos = $npos + length($hex)/2;
}
</pre></div>
<p>
This yielded a 64K binary, exactly the size of the partition, so I figured it likely transferred correctly but it wasn&#39;t very helpful:
</p><div><pre>% strings mtd3
RedBoot
RedBoot config
FIS directory
kernel
rootfs
boot_script
boot_script_data
boot_script
fis load -d -b 0x80040000 kernel
go 0x80040000
boot_script_timeout
boot_script
bootp
bootp_my_gateway_ip
bootp
bootp_my_ip
bootp
bootp_my_ip_mask
bootp
bootp_server_ip
console_baud_rate
gdb_port
info_console_force
info_console_number
info_console_force
net_debug
</pre></div>
<p>
Next I exfiltrated the <tt>ICOS</tt> partition. This seemed rather larger and was a good bet.
</p><div><pre>% file mtd1
mtd1: gzip compressed data, last modified: Fri Nov  9 04:44:12 2007, from Unix, original size modulo 2^32 0
% gunzip -c &lt; mtd1 &gt; gobi.kernel

gzip: stdin: decompression OK, trailing garbage ignored
% strings gobi.kernel | grep Linux
Linux version 2.4.25 (jiant@develop) ( /opt/devicescape/toolchains/mips-linux/bin/../libexec/gcc/mips-linux/3.4.1/collect2 --eh-frame-hdr -EB -dynamic-linker /lib/ld.so.1 -L/opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib -L/opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib -L/opt/devicescape/toolchains/mips-linux/bin/../lib/gcc/mips-linux/3.4.1 -L/opt/devicescape/toolchains/mips-linux/bin/../lib/gcc -L/opt/devicescape/toolchains/mips-linux/bin/../lib/gcc/mips-linux/3.4.1/../../../../mips-linux/lib -L/opt/devicescape/toolchains/mips-linux/bin/../lib/gcc/mips-linux/3.4.1/../../.. --dynamic-linker /lib/ld-uClibc.so.0 -rpath-link /opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib /opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib/crti.o /opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib/crtbegin.o /opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib/crt1.o -lgcc -lgcc_eh -lc -lgcc -lgcc_eh /opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib/crtend.o /opt/devicescape/toolchains/mips-linux/mips-linux-uclibc/lib/crtn.o) #422 Thu Nov 8 20:41:49 PST 2007
[...]
</pre></div>
<p>
Looks like we got it; the entire partition is the kernel, which in retrospect I should have immediately suspected from the name. I can&#39;t tell if this was something Accutech or Intelicis built but I&#39;ll lay good odds it was the latter.
</p><p>
That&#39;s enough messing around. Now that we&#39;re in it, what can we do with it? I&#39;d love a way to open a client socket other than Telnet, for one thing, but it doesn&#39;t look easily possible. The Busybox version here lacks a number of core applets like <tt>netcat</tt>/<tt>nc</tt> and its shell doesn&#39;t understand <tt>/dev/tcp</tt>, and of the other non-Busybox executable files present none seem to offer such functionality. Creating a cross-compiler setup for a kernel this old (and matching the included uClibc) is likely to be a challenge. I did find some precompiled big-endian MIPS binaries of things like <tt>netcat</tt> and <tt>socat</tt>, but they either were for later versions of Linux or later CPUs, neither of which worked here.
</p><p>
But this Busybox does have <tt>awk</tt>, so at least we have some sort of scripting language better than the shell, and we do certainly have <tt>elinks</tt>, which got us to this point in the first place. We can do a lot with <tt>awk</tt> and an HTTP client. Maybe I&#39;ll try my hand at writing a MIPS ELF binary in a hex editor that does <tt>netcat</tt> in assembly language with syscalls. That sounds like a great future entry ...
</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjAryLs8MOoKX8DL8LXf6OuocTmaB7yn6HkYRUa5sCx_mahFe9C9U0cqYyqEGLbs3dVLEn7imtDJcR0QYB34yRpcrnfAdNF6Q9nFytHZKZ7x5FaE7i9LTpXkwo_uMd_FPmdatzK3gZJhA2Vt_4RWGmt56DE6-dvFIGVrHmcNNIhYVy1bTrMNRRRUXgX/s4080/PXL_20230426_191831140.jpg"><img alt="" height="320" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjAryLs8MOoKX8DL8LXf6OuocTmaB7yn6HkYRUa5sCx_mahFe9C9U0cqYyqEGLbs3dVLEn7imtDJcR0QYB34yRpcrnfAdNF6Q9nFytHZKZ7x5FaE7i9LTpXkwo_uMd_FPmdatzK3gZJhA2Vt_4RWGmt56DE6-dvFIGVrHmcNNIhYVy1bTrMNRRRUXgX/s320/PXL_20230426_191831140.jpg"/></a></p>
<p>
The Gobis are in my humble opinion the most spectacular of the Sun Ray laptops for those nearly fatal idiosyncrasies, but while they were probably the Sun Ray 2 laptop produced in the largest numbers, no MIPS Sun Ray laptop is very common and none sold in volume. Both Accutech and Naturetech closed up shop shortly after. Post-Oracle, the 2011 Sun Ray 3 series upgraded to the 660MHz RMI (who bought Alchemy&#39;s IP from AMD) Au1380 and later the MIPS64 RMI (later Broadcom) XLS104, an SMT-4 750MHz CPU on a 90nm process, but although the core design remained very similar, power consumption for the later devices ranged from a typical 14W to as high as 36W.
</p><p>  
No laptop Sun Ray 3 was ever produced. While the power requirement was a partial explanation, the biggest reason was simply that laptop Sun Rays had been replaced ... by laptops. The 2008 <a href="http://oldvcr.blogspot.com/2021/08/cracking-into-sun-ray-general-dynamics.html">Tadpole M1400 we explored previously</a> and its relatives were the last Sun Ray mobile systems, with the firmware newly ported to run on off-the-shelf Linux-based x86 hardware instead of MIPS. The way forward was thus obvious. Sun introduced a pure-software client in 2009, the Sun Desktop Access Client, which ran on Windows and later on Mac. With improved central management tools, the advantages of a firmware-locked purpose-built Sun Ray mobile system were outweighed by the cost and flexibility advantages of deploying locked-down commodity laptops instead. Oracle rebranded the Desktop Access Client as the Oracle Virtual Desktop Client before discontinuing the entire technology in 2014.
</p><p>
In the meantime, it turns out I had &#34;another&#34; MIPS Linux system inside my MIPS Sun Ray laptop all along and got to spend a delightful few days breaking into it. The 2N is a lot safer to use but a lot less interesting to work with even if the Gobi is interesting for all the wrong reasons: a unique but ramshackle multisystem architecture prone to failure, gaping holes that could have been trivially mitigated, and the indefensible use internally of default passwords. In fact, the Gobis&#39; critical dependence on the VPN board for connectivity can&#39;t help but lead me to conclude that the AR2316A is the <em>real</em> central processor, and the Au1550 is just its front end. Only their rarity and the non-standard configuration required for penetration prevented these machines from being the stuff of hacker legend during their era. Like IoT, the S in &#34;embedded&#34; is apparently for security too.
</p>
</div></div>
  </body>
</html>
