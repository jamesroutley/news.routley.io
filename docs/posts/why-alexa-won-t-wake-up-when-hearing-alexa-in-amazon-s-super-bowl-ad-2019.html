<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.amazon.science/blog/why-alexa-wont-wake-up-when-she-hears-her-name-in-amazons-super-bowl-ad">Original</a>
    <h1>Why Alexa won&#39;t wake up when hearing &#34;Alexa&#34; in Amazon&#39;s Super Bowl ad (2019)</h1>
    
    <div id="readability-page-1" class="page"><div>
                    
                    
                        <div>
                            
                                <div>
    
        <div><p>This Sunday&#39;s Super Bowl between the New England Patriots and the Los Angeles Rams is expected to draw more than 100 million viewers, some of whom will have Alexa-enabled devices within range of their TV speakers. When Amazon&#39;s new Alexa ad airs, and Forest Whitaker asks his Alexa-enabled electric toothbrush to play his podcast, how will we prevent viewers’ devices from mistakenly waking up?</p><p>With the Super Bowl ad — as with thousands of other media mentions of Alexa tracked by our team — we teach Alexa what individual recorded instances of her name sound like, so she will know to ignore them. We can also apply this technique, known as acoustic fingerprinting, on the fly to recognize when multiple devices from different households are hearing the same command at around the same time. This is crucial to preventing Alexa from responding to <a href="https://www.youtube.com/watch?v=ThKKpchUE4I&amp;feature=youtu.be&amp;t=248" target="_blank" data-cms-ai="0">pranks</a> on TV, references to people named Alexa, or other instances of her name in broadcast media that we don&#39;t know about in advance.</p><p>Our approach to matching audio recordings is based on classic acoustic-fingerprinting algorithms like that of Haitsma and Kalker in their 2002 <a href="http://ismir2002.ismir.net/proceedings/02-FP04-2.pdf" target="_blank" data-cms-ai="0">paper</a> “A Highly Robust Audio Fingerprinting System”. Such algorithms are designed to be robust to audio distortion and interference, such as those introduced by TV speakers, the home environment, and our microphones.</p><p>To produce an acoustic fingerprint, we first derive a grid of log filter-bank energies (LFBEs) for the acoustic signal, which represent the amounts of energy in multiple overlapping frequency bands in a series of overlapping time windows. The algorithm steps through the grid in two-by-two blocks and adds and subtracts the measurements in the grid cells in a standardized way. (Technically, it computes the 2-D gradient of each block.) The sign of the result — positive or negative — provides a one-bit summary of the values in the block. The summaries of all the blocks in the grid constitute the acoustic fingerprint, and two fingerprints are deemed to match if the fraction of bits that are different (the “bit error rate”) is small enough.</p><div data-align-center-expanded="">
            <div><figure>
    

    
        <p><figcaption>An illustration of how fingerprints are used to match audio. Different instances of Alexa’s name result in a bit error rate of about 50% (random bit differences). A bit error rate significantly lower than 50% indicates two recordings of the same instance of Alexa’s name.</figcaption></p>
    
</figure></div>
        </div><p>When we have audio samples in advance — as we do with the Super Bowl ad — we fingerprint the entire sample and store the result. With audio that’s streaming to the cloud from Alexa-enabled devices, we build up fingerprints piecemeal, repeatedly comparing them to other fingerprints as they grow.</p><p>If a match is found, the incoming request is ignored. Noisy audio may yield a match, but it requires the accumulation of more data (a larger fingerprint) than clean audio does.</p><p>Using this matching algorithm, we have built a system with multiple layers to protect customers at multiple stages:</p><ul><li><b>On-device</b>: On most Echo devices, every time the wake word “Alexa” is detected, the audio is checked against a small set of known instances where Alexa is mentioned in commercials. Due to the limits of device CPU, this set is generally restricted to commercials we expect to be currently airing on TV.</li></ul><ul><li><b>In the cloud</b>: Every audio request to Alexa that starts with a wake word is checked in two ways:</li></ul><p>Ideally, a device will identify media audio using locally stored fingerprints, so it does not wake up at all. If it does wake up, and we match the media event in the cloud, the device will quickly and quietly turn back off.</p><p>In addition to tracking new media mentions of Alexa’s name and updating our library of fingerprints accordingly, our team works continuously to improve the accuracy and efficiency of the fingerprinting system. We’re also exploring complementary technologies, such as machine learning systems that can <a href="https://developer.amazon.com/blogs/alexa/post/8a7980f4-340c-4275-9575-509255617b04/how-alexa-is-learning-to-ignore-tv-radio-and-other-media-players" target="_blank" data-cms-ai="0">distinguish media audio</a> more generally from live human speech.</p><p><b>Acknowledgments</b>: Joe Wang, Aaron Challenner, Mike Peterson, Michael Rudeen, Naresh Narayanan, Liangwei Guo, and the rest of the team</p></div>
    
</div>

                            
                        </div>
                    
                </div><div>
                        
                            
    <div>
        <div>
            
                
            
            
            
                <p>
                    Mike Rodehorst is a machine learning scientist in the Alexa Speech group.
                </p>
            
        </div>
    </div>


                        
                    </div></div>
  </body>
</html>
