<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://vigneshwarar.substack.com/p/hackernews-ranking-algorithm-how">Original</a>
    <h1>Hacker News Ranking Algorithm</h1>
    
    <div id="readability-page-1" class="page"><div><div><div><div><article><div class=""><div><div dir="auto"><p>One of my favorite sites to visit daily is HackerNews(HN), it never failed me to deliver good quality links and very interesting discussions. </p><p>This is just a small thought experiment for a different ranking algorithm for HN. There&#39;s nothing wrong with the current one, but it&#39;s just a small thought experiment.</p><p><span>Just to refresh, according to </span><a href="https://news.ycombinator.com/item?id=1781013" rel="nofollow ugc noopener">Paul Graham&#39;s comment</a><span> and </span><a href="https://news.ycombinator.com/newsfaq.html" rel="nofollow ugc noopener">FAQ</a><span>, the HN algorithm is...</span></p><div><p><span>\(rank = {\frac  {P - 1}{(T + 2)^G}}\)</span></p></div><p>P = Points </p><p>T = Age in hours</p><p>G = 1.8</p><p>Minus one removes the user&#39;s own upvote. By default, HN upvotes its own user submission.</p><p><span>I’ve seen one with penalties but let’s stick to what’s official. Also, I just did a quick </span><a href="https://grep.help/search?q=hacker+news+ranking+algorithm" rel="nofollow ugc noopener">Grep search</a><span> and found this article and </span><a href="https://github.com/sangaline/reverse-engineering-the-hacker-news-ranking-algorithm" rel="nofollow ugc noopener">wonderful repo</a><span> about “</span><a href="https://sangaline.com/post/reverse-engineering-the-hacker-news-ranking-algorithm/" rel="nofollow ugc noopener">Reverse Engineering the Hacker News Ranking Algorithm</a><span>“</span></p><p>Intuitively, the ranking algorithm is simple: the more upvotes a link receives in a short amount of time, the higher it will be ranked at the top. As time passes, the post will gradually move down the rankings.</p><p>I can&#39;t find the official page on why Paul Graham created HN, but to me, HN is the place to find the most interesting links and have a healthy discussion about various topics. In fact, discussions are my favorite part, except for the useless comments.</p><p>Given that discussions are my favorite part, why don&#39;t we apply PageRank for every user based on the upvotes they receive for the comments they leave on any post, and replace the P (points) value in the current version of the HN algorithm?</p><p><a href="https://en.wikipedia.org/wiki/PageRank" rel="nofollow ugc noopener">PageRank</a><span> is an algorithm created by the founders of Google. It is used to determine the popularity of web pages on the internet.</span></p><p>By the way, the name PageRank did not suit this use case. I am going to call it HackerRank (HR). Here is a visualization if you are trying to picture it.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png" rel="nofollow ugc noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png" width="1456" height="1308" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/11d75d52-c322-430a-b382-636457c898b3_2208x1984.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1308,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:165828,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F11d75d52-c322-430a-b382-636457c898b3_2208x1984.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>Since it&#39;s likely that one user may upvote multiple comments from the same user, we check whether a user has already upvoted a comment from that specific user before considering their upvote. In other words, we treat user profiles as nodes and upvotes for comments as edges.</p><p>Considering this, a HackerRank user profile will look like this:</p><div><p><span>\(HR_{i}={\frac  {1-D}{N}}+D\,\sum _{{j\in \{1,\dots ,n\}}}{\frac  {HR_{j}}{TU_{j}}}\)</span></p></div><p>N = Total number of user profiles on HN</p><p>D = Damping factor</p><p>HR = HackerRank score for the user who upvoted</p><p>TU = Total upvotes given</p><p><span>By default, the HR for every profile will be </span><code>1/N</code><span>.</span></p><p>But I won&#39;t consider HackerRank as it is. Sometimes, HN comments are inappropriate, and they will be flagged. We should consider the flagging because, remember, HN should be a place to have healthy discussions. </p><p>Let&#39;s consider that 1 flag equals a deduction of 20% from the HR score. However, we will only take into account the flags received in the current month, as people can change from being unpleasant to becoming better human beings.</p><p>So, HR with “flag” consideration will look like this.</p><div><p><span>\(HR_{with flag} = HR  - ((TF * FP) * HR)\)</span></p></div><div><p><span>\(HR = max(0, \space HR_{withflag})\)</span></p></div><p>TF = Total flags received in the current month</p><p>FP = Flag penalty which is 20%</p><p>If HR is negative, then it will be 0.</p><p>We now have HR for every user profile, so the final ranking algorithm will look like this by hooking HR into the current version of the HN algorithm.</p><div><p><span>\(rank_{i} = {\frac  {\sum_{{j\in \{1,\dots ,n\}}} (HR_{j})}{(T + 2)^G}}\)</span></p></div><p>HR = HR value represents the HackerRank score of the profile that upvoted this post</p><p>T = Age in hours</p><p>G = 1.8 </p><p>This is a very simple approach, but here are some other ideas that are worth exploring.</p><ul><li><p>HackerRank score, which is also determined by the upvotes a user receives for their submissions.</p></li><li><p>Reading time for the article.</p></li><li><p>Track how well a website is performing on HN and put it on the front page if the website has a high reputation for performing well.</p></li></ul><p><span>Will I ever publicly write about how HN ranks posts if I am Dang (HN moderator)? No, because Pagerank can be manipulated by people despite its reputation. In fact, </span><a href="https://www.google.com" rel="nofollow ugc noopener">Pagerank is being exploited for years</a><span>. Moreover, there are financial incentives for companies to get on the first page in HN.</span></p><p><span>I would use HackerRank for ranking posts but publicly say that we are using </span><a href="https://news.ycombinator.com/item?id=1781013" rel="nofollow ugc noopener">original PaulGraham’s algorithm</a><span> for ranking posts, and </span><a href="https://news.ycombinator.com/item?id=2445039" rel="nofollow ugc noopener">hide the upvotes for comments</a><span> since it is powering HackerRank, also take some additional steps to avoid reverse engineering and rank manipulation.</span></p><p>But, I am curious. How would you have done it? If you were designing the HN algorithm, please leave your thoughts in the comments. I am curious to know.</p><p><span>Discussion on HN → </span><a href="https://news.ycombinator.com/item?id=35510413" rel="nofollow ugc noopener">https://news.ycombinator.com/item?id=35510413</a></p><p><span>Plug: Hey, we are building a </span><a href="https://grep.help/" rel="nofollow ugc noopener">new kind of search engine</a><span>. Our goal is to deliver authoritative and non-SEO-spammed results. Please check it out and let me know your feedback.</span></p></div></div></div></article></div></div></div></div></div>
  </body>
</html>
