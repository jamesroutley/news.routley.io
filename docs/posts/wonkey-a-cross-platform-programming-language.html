<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://wonkey-coders.github.io/">Original</a>
    <h1>Wonkey: A cross-platform programming language</h1>
    
    <div id="readability-page-1" class="page"><div data-md-component="container">
      
      
        
      
      <main data-md-component="main">
        <div>
          
            
              
              
            
            
              
              
            
          
          <div>
            <article>
              
                
                
                <p><img alt="Banner" src="https://wonkey-coders.github.io/images/banner.png"/></p>

<ul>
<li>
<p>Wonkey is an open-source cross-platform programming language.</p>
</li>
<li>
<p>Wonkey is a fork of the Monkey2 programming language, developed by Mark Sibly, creator of the ‘Blitz’ range of languages (BlitzBasic, Blitz2D, Blitz3D, BlitzPlus, BlitzMax).</p>
</li>
<li>
<p>Wonkey is a community project.</p>
</li>
<li>
<p>Wonkey offers some very powerful new features including:</p>
<ul>
<li>
<p>Function overloading</p>
<p>Functions with the same name can have different parameter types.</p>
<div><pre><span></span><code><span>Function</span> <span>Add</span><span>(</span> <span>a</span><span>:</span><span>Int</span><span>,</span> <span>b</span><span>:</span><span>Int</span> <span>)</span>
    <span>Return</span> <span>a</span> <span>+</span> <span>b</span>
<span>End</span>

<span>Function</span> <span>Add</span><span>(</span> <span>a</span><span>:</span><span>Float</span><span>,</span> <span>b</span><span>:</span><span>Float</span> <span>)</span>
    <span>Return</span> <span>a</span> <span>+</span> <span>b</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>&#39;First class&#39; functions</p>
<p>Functions (and methods) can be stored in variables and passed to/from other functions.</p>
<div><pre><span></span><code><span>Function</span> <span>Test1</span><span>()</span>
    <span>Print</span> <span>&#34;Test1!&#34;</span>
<span>End</span>

<span>Function</span> <span>Test2</span><span>()</span>
    <span>Print</span> <span>&#34;Test2!&#34;</span>
<span>End</span>

<span>Function</span> <span>Tester</span><span>(</span> <span>test</span><span>:</span><span>Void</span><span>()</span> <span>)</span>
    <span>test</span><span>()</span>
<span>End</span>

<span>Function</span> <span>Main</span><span>()</span>
    <span>Tester</span><span>(</span> <span>Test1</span> <span>)</span>
    <span>Tester</span><span>(</span> <span>Test2</span> <span>)</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>Lambda functions</p>
<p>Lambda functions allow you to create closures:</p>
<div><pre><span></span><code><span>Function</span> <span>Test</span><span>(</span> <span>func</span><span>:</span><span>Void</span><span>()</span> <span>)</span>
    <span>func</span><span>()</span>
<span>End</span>

<span>Function</span> <span>Main</span><span>()</span>
    <span>For </span><span>Local</span> <span>i</span><span>:</span><span>=</span><span>0</span> <span>Until </span><span>10</span>
        <span>Test</span><span>(</span> <span>Lambda</span><span>()</span>
                <span>Print</span> <span>i</span>
              <span>End</span> <span>)</span>
    <span>Next</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>Templates / Generics</p>
<p>Classes, interfaces, structs, methods and functions can have ‘type’ parameters:</p>
<div><pre><span></span><code><span>Struct</span> <span>Rect</span><span>&lt;</span><span>T</span><span>&gt;</span>
    <span>Field</span> <span>x</span><span>:</span><span>T</span>
    <span>Field</span> <span>y</span><span>:</span><span>T</span>
    <span>Field</span> <span>width</span><span>:</span><span>T</span>
    <span>Field</span> <span>height</span><span>:</span><span>T</span>
<span>End</span>

<span>Function</span> <span>Main</span><span>()</span>
    <span>Local</span> <span>r</span> <span>:</span><span>=</span> <span>New</span> <span>Rect</span><span>&lt;</span><span>Float</span><span>&gt;</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>Structs</p>
<p>Structs are similar to classes in that they encapsulate member data, but differ in that they are passed around ‘by value’ instead of ‘by reference’.</p>
<p>This allows structs to be efficiently created on the stack without any garbage collection overhead.</p>
<div><pre><span></span><code><span>Struct</span> <span>S</span>
    <span>Field</span> <span>data</span><span>:</span><span>Int</span><span>=</span><span>10</span>
<span>End</span>

<span>Function</span> <span>Test</span><span>(</span> <span>s</span><span>:</span><span>S</span> <span>)</span>
    <span>s</span><span>.</span><span>data</span> <span>=</span> <span>100</span>
<span>End</span>

<span>Function</span> <span>Main</span><span>()</span>
    <span>Local</span> <span>s</span> <span>:</span><span>=</span> <span>New</span> <span>S</span>  <span>&#39; Create a new S on the stack (very fast!)</span>
    <span>Test</span><span>(</span> <span>s</span> <span>)</span>         <span>&#39; Test gets a copy of &#39;s&#39;.</span>
    <span>Print</span> <span>s</span><span>.</span><span>data</span>      <span>&#39; Print &#39;10&#39;</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>Fibers</p>
<p>Fibers provide support for ‘cooperative’ multithreading:</p>
<div><pre><span></span><code><span>Function</span> <span>Server</span><span>(</span> <span>host</span><span>:</span><span>String</span><span>,</span><span>service</span><span>:</span><span>String</span> <span>)</span>
    <span>Local</span> <span>server</span><span>:</span><span>=</span><span>Socket</span><span>.</span><span>Listen</span><span>(</span> <span>host</span><span>,</span><span>service</span> <span>)</span>

    <span>Repeat</span>
<span>        </span><span>Local</span> <span>client</span><span>:</span><span>=</span><span>server</span><span>.</span><span>Accept</span><span>()</span>

        <span>New</span> <span>Fiber</span><span>(</span> <span>Lambda</span><span>()</span>
            <span>Local</span> <span>data</span><span>:</span><span>=</span><span>client</span><span>.</span><span>Receive</span><span>(...)</span>
        <span>End</span> <span>)</span>
    <span>Forever</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>Operator overloading</p>
<p>Operator overloading allows you to override the meaning of the built-in language operators, making for more expressive code:</p>
<div><pre><span></span><code><span>Struct</span> <span>Vec2</span>
    <span>Field</span> <span>x</span><span>:</span><span>Float</span>
    <span>Field</span> <span>y</span><span>:</span><span>Float</span>

    <span>Method</span> <span>New</span><span>(</span> <span>x</span><span>:</span><span>float</span><span>,</span><span>y</span><span>:</span><span>Float</span> <span>)</span>
        <span>Self</span><span>.</span><span>x</span><span>=</span><span>x</span>
        <span>Self</span><span>.</span><span>y</span><span>=</span><span>y</span>
    <span>End</span>

    <span>Operator</span><span>+</span><span>:</span><span>Vec2</span><span>(</span> <span>v</span><span>:</span><span>Vec2</span> <span>)</span>
        <span>Return</span> <span>New</span> <span>Vec2</span><span>(</span> <span>x</span><span>+</span><span>v</span><span>.</span><span>x</span><span>,</span><span>y</span><span>+</span><span>v</span><span>.</span><span>y</span> <span>)</span>
    <span>End</span>

    <span>Operator</span> <span>To</span><span>:</span><span>String</span><span>()</span>
        <span>Return</span> <span>&#34;Vec2(&#34;</span><span>+</span><span>x</span><span>+</span><span>&#34;,&#34;</span><span>+</span><span>y</span><span>+</span><span>&#34;)&#34;</span>
    <span>End</span>

<span>End</span>

<span>Function</span> <span>Main</span><span>()</span>
    <span>Local</span> <span>v0</span> <span>:</span><span>=</span> <span>New</span> <span>Vec2</span><span>(</span> <span>10</span><span>,</span><span>20</span> <span>)</span>
    <span>Local</span> <span>v1</span> <span>:</span><span>=</span> <span>New</span> <span>Vec2</span><span>(</span> <span>30</span><span>,</span><span>40</span> <span>)</span>

    <span>Print</span> <span>v0</span><span>+</span><span>v1</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>Optional reflection features</p>
<p>Wonkey includes an optional reflection system that allows you to inspect and modify variables and values at runtime:</p>
<div><pre><span></span><code><span>#</span><span>Import</span> <span>&#34;&lt;reflection&gt;&#34;</span>

<span>Class</span> <span>C</span>
    <span>Method</span> <span>Update</span><span>(</span> <span>msg</span><span>:</span><span>String</span> <span>)</span>
        <span>Print</span> <span>&#34;C.Update : msg=&#34;</span><span>+</span><span>msg</span>
    <span>End</span>
<span>End</span>

<span>Function</span> <span>Main</span><span>()</span>
    <span>Local</span> <span>c</span><span>:</span><span>=</span><span>New</span> <span>C</span>

    <span>Local</span> <span>type</span> <span>:</span><span>=</span> <span>Typeof</span><span>(</span> <span>c</span> <span>)</span>
    <span>Print</span> <span>type</span>

    <span>Local</span> <span>decl</span><span>:</span><span>=</span><span>type</span><span>.</span><span>GetDecl</span><span>(</span> <span>&#34;Update&#34;</span> <span>)</span>
    <span>decl</span><span>.</span><span>Invoke</span><span>(</span> <span>c</span><span>,</span><span>&#34;Hello World!&#34;</span> <span>)</span>
<span>End</span>
</code></pre></div>
</li>
<li>
<p>Class extensions</p>
<p>Class extensions allow you to add extra methods and functions to existing classes.</p>
</li>
<li>
<p>Fully garbage collected</p>
<p>Wonkey provides a ‘mostly’ incremental garbage collector that efficiently collects garbage as it runs without any of those annoying ‘sweep’ spikes found in typical garbage collectors.</p>
</li>
</ul>
</li>
</ul>
<!---
<table class="codehilitetable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre>
<span></span>
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
</pre>
</div>
</td>

<td class="code"><div class="codehilite"><pre><span></span><span class="nf">Struct</span> <span class="nf">Rect</span><span class="o"><</span><span class="no">T</span><span class="o">></span>
    <span class="kd">Field</span> <span class="nv">x</span><span class="p">:</span><span class="nc">T</span>
    <span class="kd">Field</span> <span class="nv">y</span><span class="p">:</span><span class="nc">T</span>
    <span class="kd">Field</span> <span class="nv">width</span><span class="p">:</span><span class="nc">T</span>
    <span class="kd">Field</span> <span class="nv">height</span><span class="p">:</span><span class="nc">T</span>
<span class="kr">End</span>

<span class="kr">Function</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="kd">Local</span> <span class="nv">r</span> <span class="p">:</span><span class="o">=</span> <span class="kr">New</span> <span class="nc">Rect</span><span class="p"><</span><span class="kt">Float</span><span class="p">></span>
<span class="kr">End</span>
</pre></div>
</td></tr></table>
-->
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        

      
    </div></div>
  </body>
</html>
