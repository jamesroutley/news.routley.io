<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/">Original</a>
    <h1>Clean front end architecture with SvelteKit</h1>
    
    <div id="readability-page-1" class="page"><div id="container"><section><article><p>Long gone in the past<sup><a id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label" node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/#user-content-fn-1">1</a></sup> are websites that purely displayed static, seldom changing content to visitors. Today, almost all user interfaces are <em>web applications</em> instead of <em>websites</em>.</p>
<p>A web application, judging by how it is seen, is an interactive website reacting to user events and updating its views dynamically. We are so comfortable building them, but do we know what they mean for a software engineer?</p>
<p>It means we must <em>design</em> the applications. However, I&#39;m not talking about the service, user experience, or user interface design that consultancy shops often sell. Instead, I&#39;m referring to any maintainable application&#39;s internal design and architecture. Without good design, the potentially profitable application is doomed to become increasingly more expensive to change.</p>
<blockquote>
<p><em>&#34;By legacy code, I mean profitable code that we feel afraid to change.&#34;</em> — <a href="https://blog.thecodewhisperer.com/permalink/surviving-legacy-code-with-golden-master-and-sampling" target="_blank" rel="noopener noreferrer" node="[object Object]"><strong>J. B. Rainsberger</strong></a></p>
</blockquote>
<p>What does such a design entail to prevent an application from becoming legacy, you ask? Arguably, the most prominent clean design patterns are <a href="https://alistair.cockburn.us/hexagonal-architecture/" target="_blank" rel="noopener noreferrer" node="[object Object]"><strong>Hexagonal Architecture</strong></a> by <strong>Alistair Cockburn</strong> and <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html" target="_blank" rel="noopener noreferrer" node="[object Object]"><strong>Clean Architecture</strong></a> by <strong>Robert C. Martin</strong> (Uncle Bob). As an enlightening primer to this guide, I recommend reading both articles.</p>
<p>In essence, clean design is independent of technology decisions and external side effects. Therefore, you should be able to craft a clean design with or without the application framework. It means the framework does not dictate your design. On the contrary, clean design allows you to postpone most technological choices until the last responsible moment.</p>
<p>Functional programming enthusiasts know that when our design is free of side effects, it becomes reasonable, predictable and testable. All the given inputs map to their respective expected outputs, and we can formally define and compose our use cases from functions free of side effects.</p>
<p>However, a clean design does not require a software engineer to have PhD in mathematical analysis and functional programming, although it might help. Clean design only requires writing clean code, which is irrelevant to your chosen paradigm. Clean code is perfectly doable by mixing object-oriented<sup><a id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label" node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/#user-content-fn-2">2</a></sup>, imperative, and functional paradigms — this is where purists stop reading the guide in nausea.</p>
<p>As a software engineer, I witness the following chain of problems regularly in myself and others:</p>
<ul>
<li>Developers like writing code because it&#39;s a creative and fulfilling activity.</li>
<li>Developers dislike design because it&#39;s time-consuming.</li>
<li>Design is time-consuming because it takes time to master, and there are not enough accessible guides.</li>
<li>Consuming time is equal to wasting precious resources.</li>
<li>Stakeholders don&#39;t want developers to waste resources; they should ship features instead.</li>
<li>Shipping features without clean design equals constantly accumulating technical debt and paying back only the interest.</li>
<li>Developers dislike contributing to a legacy codebase with high technical debt.</li>
<li>Ultimately, developers resign or rotate to another project.</li>
</ul>
<p>I cannot fix the world, but I have a particular set of skills that can alleviate the pain above. Hence, I&#39;ve written this guide on clean frontend<sup><a id="user-content-fnref-3" data-footnote-ref="true" aria-describedby="footnote-label" node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/#user-content-fn-3">3</a></sup> design and architecture. It should ignite a spark in you to start your learning journey so that one day you could be proud of the clean software you&#39;ve produced and never too afraid to change it.</p>
<h2>Table of Contents</h2>
<ol>
<li><a node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/discovering-the-use-cases/"><strong>Discovering the Use Cases</strong></a></li>
<li><a node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/handling-the-external-dependencies-with-gateway/"><strong>Handling the External Dependencies with Gateway</strong></a></li>
<li><a node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/domain-modelling/"><strong>Domain Modelling</strong></a></li>
<li><strong>Server-Side Routes and Components</strong></li>
<li><strong>Acceptance Tests</strong></li>
<li><strong>Deploying the Site to Netlify</strong></li>
</ol>
<h2>How to Read the Guide?</h2>
<p>For this guide, I have constructed a cleanly architectured frontend application with Svelte and <a href="https://kit.svelte.dev/" target="_blank" rel="noopener noreferrer" node="[object Object]"><strong>SvelteKit</strong></a>. Therefore, you only need to be comfortable reading TypeScript code in this <a href="https://github.com/nikoheikkila/photo-browser" target="_blank" rel="noopener noreferrer" node="[object Object]">repository</a>. Then, you may clone the repository and play with it as much as necessary to gain a better understanding.</p>
<p>Throughout this guide, I will show code snippets that may have been modified slightly for brevity&#39;s sake. You&#39;re encouraged to view the full code examples in the repository.</p>
<p>As the saying goes, the software is never finished. Therefore, I reserve the right to modify the contents of this guide and the example codebase accordingly. Since I intend to keep both the guide and repository open-source, you can help me improve them. Moreover, all the pages contain an <em>Edit Page</em> link in the footer, allowing you to open a pull request to submit your improvements.</p>
<h2>Up Next</h2>
<p>In the <a node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/discovering-the-use-cases/">next post</a>, I will explain the purpose of defining use cases for a photo gallery application. If you have applied to a frontend developer position at <a href="https://futurice.com/careers" target="_blank" rel="noopener noreferrer" node="[object Object]"><strong>Futurice</strong></a>, you might have encountered something similar during the recruitment process<sup><a id="user-content-fnref-4" data-footnote-ref="true" aria-describedby="footnote-label" node="[object Object]" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/#user-content-fn-4">4</a></sup>.</p>
</article><section data-test-id="rss-subscribe"><p> Enjoyed what you read? Why not keep yourself updated and grab the<!-- --> <a href="https://nikoheikkila.fi/feed/">RSS feed</a>.</p></section><section><p><a rel="back" href="https://nikoheikkila.fi/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-rotate-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M109.7 160H160c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V64C0 46.3 14.3 32 32 32s32 14.3 32 32v51.2L81.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L109.7 160z"></path></svg> Back to posts</a><a href="https://github.com/nikoheikkila/nikoheikkila.fi/edit/main/content/blog/clean-frontend-architecture-with-sveltekit.md" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen-to-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"></path></svg>Edit Page</a><a href="https://github.com/nikoheikkila/nikoheikkila.fi/commits/main/content/blog/clean-frontend-architecture-with-sveltekit.md" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clock-rotate-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"></path></svg>View History</a></p></section><section><ul><li><a rel="prev" href="https://nikoheikkila.fi/blog/a-practical-guide-to-micro-commits/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="padding-right:5px"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg>A Practical Guide to Micro-Commits</a></li><li><a rel="next" href="https://nikoheikkila.fi/blog/clean-frontend-architecture-with-sveltekit/discovering-the-use-cases/">Clean Frontend Architecture with SvelteKit: Discovering the Use Cases<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="padding-left:5px"><path fill="currentColor" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"></path></svg></a></li></ul></section></section><!-- slice-start id="footer-1" --><!-- slice-end id="footer-1" --></div></div>
  </body>
</html>
