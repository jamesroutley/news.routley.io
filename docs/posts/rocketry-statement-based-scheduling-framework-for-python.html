<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Miksus/rocketry">Original</a>
    <h1>Show HN: Rocketry â€“ Statement-based scheduling framework for Python</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">
    <em>The engine to power your Python apps</em>
</p>
<p dir="auto">
    <a href="https://github.com/Miksus/rocketry/actions/workflows/main.yml/badge.svg?branch=master">
        <img src="https://github.com/Miksus/rocketry/actions/workflows/main.yml/badge.svg?branch=master" alt="Test"/>
    </a>
    <a href="https://codecov.io/gh/Miksus/rocketry" rel="nofollow">
        <img src="https://camo.githubusercontent.com/ccfc3782102cdc171ad0427127aac402ee3648f5ac28e15d44759b80a8a63d25/68747470733a2f2f636f6465636f762e696f2f67682f4d696b7375732f726f636b657472792f6272616e63682f6d61737465722f67726170682f62616467652e7376673f746f6b656e3d55324b46315141354854" alt="Test coverage" data-canonical-src="https://codecov.io/gh/Miksus/rocketry/branch/master/graph/badge.svg?token=U2KF1QA5HT"/>
    </a>
    <a href="https://pypi.org/project/rocketry" rel="nofollow">
        <img src="https://camo.githubusercontent.com/c52a94e0ec0737cf55a33135ac292730abd05bdff6dabff90680dada4b7b93fe/68747470733a2f2f62616467656e2e6e65742f707970692f762f726f636b657472793f636f6c6f723d393639363936" alt="Package version" data-canonical-src="https://badgen.net/pypi/v/rocketry?color=969696"/>
    </a>
    <a href="https://pypi.org/project/rocketry" rel="nofollow">
        <img src="https://camo.githubusercontent.com/e9d7bfbcce18fcfdc5c689939273ec1b95f60a1cb8ee0d53fe08fdbcba9b9d77/68747470733a2f2f62616467656e2e6e65742f707970692f707974686f6e2f726f636b657472793f636f6c6f723d393639363936266c6162656c436f6c6f723d626c61636b" alt="Supported Python versions" data-canonical-src="https://badgen.net/pypi/python/rocketry?color=969696&amp;labelColor=black"/>
    </a>
</p>
<hr/>
<h2 dir="auto"><a id="user-content-what-is-it" aria-hidden="true" href="#what-is-it"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What is it?</h2>
<p dir="auto">Rocketry is a modern statement-based scheduling framework
for Python. It is simple, clean and extensive.
It is suitable for small and big projects.</p>
<p dir="auto">This is how it looks like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="from rocketry import Rocketry
from rocketry.conds import daily

app = Rocketry()

@app.task(daily)
def do_daily():
    ...

if __name__ == &#39;__main__&#39;:
    app.run()"><pre><span>from</span> <span>rocketry</span> <span>import</span> <span>Rocketry</span>
<span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>daily</span>

<span>app</span> <span>=</span> <span>Rocketry</span>()

<span>@<span>app</span>.<span>task</span>(<span>daily</span>)</span>
<span>def</span> <span>do_daily</span>():
    ...

<span>if</span> <span>__name__</span> <span>==</span> <span>&#39;__main__&#39;</span>:
    <span>app</span>.<span>run</span>()</pre></div>
<p dir="auto">Core functionalities:</p>
<ul dir="auto">
<li>Powerful scheduling</li>
<li>Concurrency (async, threading, multiprocess)</li>
<li>Parametrization</li>
<li>Task pipelining</li>
<li>Modifiable session also in runtime</li>
<li>Async support</li>
</ul>
<p dir="auto">Links:</p>
<ul dir="auto">
<li>Documentation: <a href="https://rocketry.readthedocs.io" rel="nofollow">https://rocketry.readthedocs.io</a></li>
<li>Source code: <a href="https://github.com/Miksus/rocketry">https://github.com/Miksus/rocketry</a></li>
<li>Releases: <a href="https://pypi.org/project/rocketry/" rel="nofollow">https://pypi.org/project/rocketry/</a></li>
</ul>
<h2 dir="auto"><a id="user-content-why-rocketry" aria-hidden="true" href="#why-rocketry"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why Rocketry?</h2>
<p dir="auto">Unlike the alternatives, Rocketry&#39;s scheduler is
statement-based. Rocketry natively supports the
same scheduling strategies as the other options,
including cron and task pipelining, but it can also be
arbitrarily extended using custom scheduling statements.</p>
<p dir="auto">Here is an example of custom conditions:</p>
<div dir="auto" data-snippet-clipboard-copy-content="from rocketry.conds import daily, time_of_week
from pathlib import Path

@app.cond()
def file_exists(file):
    return Path(file).exists()

@app.task(daily.after(&#34;08:00&#34;) &amp; file_exists(&#34;myfile.csv&#34;))
def do_work():
    ..."><pre><span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>daily</span>, <span>time_of_week</span>
<span>from</span> <span>pathlib</span> <span>import</span> <span>Path</span>

<span>@<span>app</span>.<span>cond</span>()</span>
<span>def</span> <span>file_exists</span>(<span>file</span>):
    <span>return</span> <span>Path</span>(<span>file</span>).<span>exists</span>()

<span>@<span>app</span>.<span>task</span>(<span>daily</span>.<span>after</span>(<span>&#34;08:00&#34;</span>) <span>&amp;</span> <span>file_exists</span>(<span>&#34;myfile.csv&#34;</span>))</span>
<span>def</span> <span>do_work</span>():
    ...</pre></div>
<p dir="auto">Rocketry is suitable for quick automation projects
and for larger scale applications. It does not make
assumptions of your project structure.</p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">Install Rocketry from <a href="https://pypi.org/project/rocketry/" rel="nofollow">PyPI</a>:</p>

<h2 dir="auto"><a id="user-content-more-examples" aria-hidden="true" href="#more-examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>More Examples</h2>
<p dir="auto">Here are some more examples of what it can do.</p>
<p dir="auto"><strong>Scheduling:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="from rocketry.conds import every
from rocketry.conds import hourly, daily, weekly, 
from rocketry.conds import time_of_day
from rocketry.conds import cron

@app.task(every(&#34;10 seconds&#34;))
def do_continuously():
    ...

@app.task(daily.after(&#34;07:00&#34;))
def do_daily_after_seven():
    ...

@app.task(hourly &amp; time_of_day.between(&#34;22:00&#34;, &#34;06:00&#34;))
def do_hourly_at_night():
    ...

@app.task((weekly.on(&#34;Mon&#34;) | weekly.on(&#34;Sat&#34;)) &amp; time_of_day.after(&#34;10:00&#34;))
def do_twice_a_week_after_ten():
    ...

@app.task(cron(&#34;* 2 * * *&#34;))
def do_based_on_cron():
    ..."><pre><span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>every</span>
<span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>hourly</span>, <span>daily</span>, <span>weekly</span>, 
<span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>time_of_day</span>
<span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>cron</span>

<span>@<span>app</span>.<span>task</span>(<span>every</span>(<span>&#34;10 seconds&#34;</span>))</span>
<span>def</span> <span>do_continuously</span>():
    ...

<span>@<span>app</span>.<span>task</span>(<span>daily</span>.<span>after</span>(<span>&#34;07:00&#34;</span>))</span>
<span>def</span> <span>do_daily_after_seven</span>():
    ...

<span>@<span>app</span>.<span>task</span>(<span>hourly</span> <span>&amp;</span> <span>time_of_day</span>.<span>between</span>(<span>&#34;22:00&#34;</span>, <span>&#34;06:00&#34;</span>))</span>
<span>def</span> <span>do_hourly_at_night</span>():
    ...

<span>@<span>app</span>.<span>task</span>((<span>weekly</span>.<span>on</span>(<span>&#34;Mon&#34;</span>) <span>|</span> <span>weekly</span>.<span>on</span>(<span>&#34;Sat&#34;</span>)) <span>&amp;</span> <span>time_of_day</span>.<span>after</span>(<span>&#34;10:00&#34;</span>))</span>
<span>def</span> <span>do_twice_a_week_after_ten</span>():
    ...

<span>@<span>app</span>.<span>task</span>(<span>cron</span>(<span>&#34;* 2 * * *&#34;</span>))</span>
<span>def</span> <span>do_based_on_cron</span>():
    ...</pre></div>
<p dir="auto"><strong>Pipelining tasks:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="from rocketry.conds import daily, after_success
from rocketry.args import Return

@app.task(daily.after(&#34;07:00&#34;))
def do_first():
    ...
    return &#39;Hello World&#39;

@app.task(after_success(do_first))
def do_second(arg=Return(&#39;do_first&#39;)):
    # arg contains the value of the task do_first&#39;s return
    ...
    return &#39;Hello Python&#39;"><pre><span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>daily</span>, <span>after_success</span>
<span>from</span> <span>rocketry</span>.<span>args</span> <span>import</span> <span>Return</span>

<span>@<span>app</span>.<span>task</span>(<span>daily</span>.<span>after</span>(<span>&#34;07:00&#34;</span>))</span>
<span>def</span> <span>do_first</span>():
    ...
    <span>return</span> <span>&#39;Hello World&#39;</span>

<span>@<span>app</span>.<span>task</span>(<span>after_success</span>(<span>do_first</span>))</span>
<span>def</span> <span>do_second</span>(<span>arg</span><span>=</span><span>Return</span>(<span>&#39;do_first&#39;</span>)):
    <span># arg contains the value of the task do_first&#39;s return</span>
    ...
    <span>return</span> <span>&#39;Hello Python&#39;</span></pre></div>
<p dir="auto"><strong>Parallelizing tasks:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="from rocketry.conds import daily

@app.task(daily, execution=&#34;main&#34;)
def do_unparallel():
    ...

@app.task(daily, execution=&#34;async&#34;)
async def do_async():
    ...

@app.task(daily, execution=&#34;thread&#34;)
def do_on_separate_thread():
    ...

@app.task(daily, execution=&#34;process&#34;)
def do_on_separate_process():
    ..."><pre><span>from</span> <span>rocketry</span>.<span>conds</span> <span>import</span> <span>daily</span>

<span>@<span>app</span>.<span>task</span>(<span>daily</span>, <span>execution</span><span>=</span><span>&#34;main&#34;</span>)</span>
<span>def</span> <span>do_unparallel</span>():
    ...

<span>@<span>app</span>.<span>task</span>(<span>daily</span>, <span>execution</span><span>=</span><span>&#34;async&#34;</span>)</span>
<span>async</span> <span>def</span> <span>do_async</span>():
    ...

<span>@<span>app</span>.<span>task</span>(<span>daily</span>, <span>execution</span><span>=</span><span>&#34;thread&#34;</span>)</span>
<span>def</span> <span>do_on_separate_thread</span>():
    ...

<span>@<span>app</span>.<span>task</span>(<span>daily</span>, <span>execution</span><span>=</span><span>&#34;process&#34;</span>)</span>
<span>def</span> <span>do_on_separate_process</span>():
    ...</pre></div>
<hr/>
<h2 dir="auto"><a id="user-content-interested" aria-hidden="true" href="#interested"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Interested?</h2>
<p dir="auto">Read more from <a href="https://rocketry.readthedocs.io" rel="nofollow">the documentation</a>.</p>
<h2 dir="auto"><a id="user-content-about-library" aria-hidden="true" href="#about-library"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>About Library</h2>
<ul dir="auto">
<li><strong>Author:</strong> Mikael Koli (<a href="https://github.com/Miksus">Miksus</a>) - <a href="mailto:koli.mikael@gmail.com">koli.mikael@gmail.com</a></li>
<li><strong>License:</strong> MIT</li>
</ul>
</article>
          </div></div>
  </body>
</html>
