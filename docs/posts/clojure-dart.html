<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Tensegritics/ClojureDart/blob/main/doc/quick-start.md">Original</a>
    <h1>Clojure Dart</h1>
    
    <div id="readability-page-1" class="page"><div>

    <div data-target="readme-toc.content">
      
  


        <div id="readme">
    <article itemprop="text">
<blockquote>
<p dir="auto">This document is about creating a CLI app written in Dart; for a mobile app follow our <a href="https://github.com/Tensegritics/ClojureDart/blob/main/doc/flutter-quick-start.md">Flutter Quick Start</a>. However it&#39;s recommended to first give a try to the current document.</p>
</blockquote>
<h2 dir="auto"><a id="user-content-1-install-the-dart-sdk" aria-hidden="true" href="#1-install-the-dart-sdk"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. <a href="https://dart.dev/get-dart#install" rel="nofollow">Install the Dart SDK</a></h2>
<p dir="auto">If you already have Dart installed, make sure your version of the sdk is at least 2.12 -- this version introduced a big change (types are not nullable by default) to the language, use <code>dart --version</code> to check. Code produced by ClojureDart wouldn&#39;t be compatible with previous versions of Dart.</p>
<h2 dir="auto"><a id="user-content-2-install-clojure-cli-tools" aria-hidden="true" href="#2-install-clojure-cli-tools"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. <a href="https://clojure.org/guides/getting_started#_clojure_installer_and_cli_tools" rel="nofollow">Install Clojure CLI Tools</a></h2>
<p dir="auto">If you already have the <code>clj</code> command installed make sure to upgrade to at least the <a href="https://clojure.org/releases/tools#v1.10.3.814" rel="nofollow">1.10.3.814</a>. This release allows to easily use private git deps.</p>
<h2 dir="auto"><a id="user-content-3-create-a-new-project" aria-hidden="true" href="#3-create-a-new-project"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. Create a new project</h2>
<p dir="auto">First, create a Clojure project:</p>
<div data-snippet-clipboard-copy-content="mkdir helloworld
cd helloworld
cat &lt;&lt; EOF &gt; deps.edn
{:paths [&#34;src&#34;] ; where your cljd files will live
 :deps {org.clojure/clojure {:mvn/version &#34;1.10.1&#34;}
        tensegritics/clojuredart
        {:git/url &#34;git@github.com:tensegritics/ClojureDart.git&#34;
         ; or  &#34;https://github.com/tensegritics/ClojureDart.git&#34;
         :sha &#34;821086f8a8f1ac9662fffa8331a29ca104802dac&#34;}}}
EOF"><pre>mkdir helloworld
<span>cd</span> helloworld
cat <span><span>&lt;&lt;</span> <span>EOF</span> &gt; deps.edn</span>
<span>{:paths [&#34;src&#34;] ; where your cljd files will live</span>
<span> :deps {org.clojure/clojure {:mvn/version &#34;1.10.1&#34;}</span>
<span>        tensegritics/clojuredart</span>
<span>        {:git/url &#34;git@github.com:tensegritics/ClojureDart.git&#34;</span>
<span>         ; or  &#34;https://github.com/tensegritics/ClojureDart.git&#34;</span>
<span>         :sha &#34;821086f8a8f1ac9662fffa8331a29ca104802dac&#34;}}}</span>
<span><span>EOF</span></span></pre></div>
<p dir="auto">Then, you need to prepare this project to also be a Dart project, you have to specify the namespace with the <code>main</code> function (here <code>quickstart.helloworld</code>):</p>
<div data-snippet-clipboard-copy-content="clj -M -m cljd.build init --dart quickstart.helloworld"><pre>clj -M -m cljd.build init --dart quickstart.helloworld</pre></div>
<p dir="auto">And add the main namespace:</p>
<div data-snippet-clipboard-copy-content="mkdir -p src/quickstart
cat &lt;&lt; EOF &gt; src/quickstart/helloworld.cljd
(ns quickstart.helloworld)

(defn main []
  (print &#34;hello, world\n&#34;))
EOF"><pre>mkdir -p src/quickstart
cat <span><span>&lt;&lt;</span> <span>EOF</span> &gt; src/quickstart/helloworld.cljd</span>
<span>(ns quickstart.helloworld)</span>
<span></span>
<span>(defn main []</span>
<span>  (print &#34;hello, world\n&#34;))</span>
<span><span>EOF</span></span></pre></div>
<p dir="auto">The <code>src</code> directory isn&#39;t special, you are free to layout your project as you like, as long as you don&#39;t
interfere with <a href="https://dart.dev/tools/pub/package-layout" rel="nofollow">Dart&#39;s project layout</a> (<code>bin</code> and <code>lib</code> especially).</p>
<h2 dir="auto"><a id="user-content-4-compiles-to-dart" aria-hidden="true" href="#4-compiles-to-dart"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>4. Compiles to Dart</h2>
<p dir="auto">By default compilation starts from the main namespace (here <code>quickstart.helloworld</code>) and transitively compiles dependencies.</p>
<div data-snippet-clipboard-copy-content="clj -M -m cljd.build compile"><pre>clj -M -m cljd.build compile</pre></div>
<p dir="auto">The above command compiles the project only once and exits. When you are actively working on a piece of code we recommend you use <code>watch</code> instead of <code>compile</code>:</p>
<div data-snippet-clipboard-copy-content="clj -M -m cljd.build watch"><pre>clj -M -m cljd.build watch</pre></div>
<h2 dir="auto"><a id="user-content-5-run-your-program" aria-hidden="true" href="#5-run-your-program"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>5. Run your program</h2>
<p dir="auto">Compiled Dart files are found under <code>lib/cljd-out</code>; to execute the program, just type:</p>

<p dir="auto">By doing so you have ran your program on the Dart VM. To get an actual executable, enter:</p>
<div data-snippet-clipboard-copy-content="dart compile exe -o helloworld bin/helloworld.dart"><pre>dart compile exe -o helloworld bin/helloworld.dart</pre></div>
<p dir="auto">Without the <code>-o helloworld</code> option it would have created a <code>helloworld.exe</code> alongside <code>helloworld.dart</code>.</p>
<h2 dir="auto"><a id="user-content-6-enjoy" aria-hidden="true" href="#6-enjoy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>6. Enjoy!</h2>
<p dir="auto">Write more clojure code, new namespaces, have fun. The watcher will pick up your changes.
Then execute you dart file again.</p>
</article>
  </div>

    </div>

  </div></div>
  </body>
</html>
