<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://avohq.io/blog/breadcrumbs-rails">Original</a>
    <h1>Adding Breadcrumbs to a Rails Application</h1>
    
    <div id="readability-page-1" class="page"><div data-behavior="table-of-contentable">
          <div data-reading-progress-target="content">
            <div>
                <p><img src="https://d2g0xdrrde9ln1.cloudfront.net/nlyvr67ud6368bb33i0zp1u6s9qh"/></p>
            </div>
            <p>Helping users navigate through our site with ease helps them reach their desired destination thus improving their experience within our application.</p>

<p>Breadcrumbs play a crucial part in this: they give users a clear idea of where they are and provide them a path to reach </p>

<p>In this article, we will learn <strong>how to add breadcrumbs to a Rails app</strong> using the different types of breadcrumbs and way to add them in Rails applications.</p>

<p>Let&#39;s start by seeing why breadcrumbs are important. If you&#39;re already familiar with the jump to the <a href="#adding-breadcrumbs" data-behavior="soft-scroll">adding breadcrumbs to Rails apps section</a></p>

<h2>Why breadcrumbs?</h2>

<p>The main reason to add breadcrumbs to any application is to improve user experience: they give a clear indication of where the user is on the page and the navigation paths that can be taken from there on.</p>

<p>They can help users reach a desired outcome faster without the need to know anything about our site beforehand while lowering the bounce rate at the same time.</p>

<p>Besides this user experience improvement, breadcrumbs show up in search results to give a quick glance of what a site contains </p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/fRrkGwSG/google-search-result-breadcrumbs.webp" alt="Breadcrumbs in search results" title=""/>  </p></div>

<p>Search engines also love breadcrumbs because they help them figure out how our sites are structured and use them to improve the way they crawl our sites.</p>

<p>As an added bonus, good user experience in the form of engagement, lower bounce rates, and time spent on our site are ranking factors so, producing a good navigation experience can help get more organic traffic.</p>

<div>
  
  <p>Breadcrumbs got their name from &#34;Hansel and Gretel”, a popular fairy tale narrating the story about two siblings that are lost in the forest where one of them drops small pieces of bread along the path to help them find their way back home through the forest.</p>
</div>

<h2>Types of breadcrumbs</h2>

<p>There are roughly three types of breadcrumbs, and we should pick one depending on the needs of our users: the goal should be to make navigation faster and more efficient:</p>

<h3>Hierarchical</h3>

<p>These follow the site structure hierarchically with the home page, or other relevant sections, being the root.</p>

<p>They are the most common type of breadcrumbs and show users where they are within our site&#39;s structure and give them the ability to access the most relevant parts of our site in a couple of clicks.</p>

<p>For example: <strong>Products -&gt; Electronics -&gt; Smart watches -&gt; Apple Watch</strong>.</p>

<p>Sometimes hierarchical breadcrumbs form a parent-children relation where every breadcrumb, except the root, is a descendant of the breadcrumb to the left.</p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/bvmsRYHp/hierarchichal-breadcrumbs.webp" alt="Hierarchical breadcrumbs example" title=""/>  </p></div>

<p>An example from inside Avo&#39;s <a href="https://avohq.io/rails-admin" target="_blank">Rails Admin</a> panel:</p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/PrH2Lhy2/avo-admin-breacrumbs.webp" alt="Hierarchical breadcrumbs in Avo" title=""/>  </p></div>

<h3>Filter or attribute-based</h3>

<p>These are common for collection pages where filters can be applied. They are usually complementary to hierarchical breadcrumbs, and they allow us to quickly see the filters we applied to a given collection.</p>

<p>The particular thing about attribute-based breadcrumbs is that they might not generate new URLs or even produce an actual visit, they are just a way to make visually clear the steps the user took to reach a given point, in this case: the collection that&#39;s actually on the page.</p>

<p>Here&#39;s an example where a site is using a mix of hierarchical and attribute-based breadcrumbs:</p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/N0FXyCZN/filter-or-attribute-based-breadcrumbs.webp" alt="Attribute based breadcrumbs example" title=""/>  </p></div>

<p>On the top of the page we can see the hierarchy, and below the filtering options we can see the applied filters with <strong>Women / Accessories</strong> and <strong>Sunglasses</strong> applied by default and the applied filters displayed right to the side of them.</p>

<div>
  
  <p>Some people might call this type of breadcrumbs <strong>tags</strong> or <strong>applied filters</strong> and don&#39;t think about them as breadcrumbs at all. However, even if we&#39;re not using links to display them and search engines might ignore them, they&#39;re breadcrumbs in the sense that they give users visual feedback on the path they took to reach their destination.</p>
</div>

<h3>History-based</h3>

<p>These are also complementary with hierarchical breadcrumbs. They generally have one or more links to track the previous pages we visited irrespective of their hierarchy.</p>

<p>An example from an e-commerce site:</p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/1XFFMgKb/history-based-breadcrumbs.webp" alt="History based breadcrumbs" title=""/>  </p></div>

<p>This is a listing for a specific guitar that was accessed from a search query for <strong>“Gibson SG”</strong>. Clicking on “Volver al listado” (Back to the listing) will take us back to the search page that responded to our query.</p>

<p>This type of breadcrumbs is useful for big sites where users have multiple ways to reach to the same page.</p>

<p>Now that we saw the different types of breadcrumbs let&#39;s see what we will build.</p>

<h2>What we will build</h2>

<p>For this particular tutorial we will build a breadcrumbs component with the following requirements:</p>

<ul>
<li>We should be able to generate a list of breadcrumbs inside controllers.</li>
<li>A particular breadcrumb can render a link or text depending on whether the argument is a path, URL, or plain text.</li>
<li>A breadcrumb can be represented with text exclusively or next to an icon like a “home” icon for the root path.</li>
<li>The breadcrumb component should produce the adequate <a href="https://avohq.io/structured-data-rails" target="_blank">schema markup</a>.</li>
<li>The breadcrumb component should accept a special type of path or URL to produce a history/hierarchical type of breadcrumb.</li>
<li>In case it&#39;s required, we should be able to pass <code>turbo: false</code> to individual links or to the <code>BreadcrumbsComponent</code> if we want to disable Turbo for every link.</li>
</ul>

<p>Now that we know the requirements, let&#39;s continue with the setup</p>

<h2>Application setup</h2>

<p>For this application, we will use <a href="https://github.com/erozas/buk" target="_blank" rel="nofollow">bukclub</a> the book directory application we used for previous articles like <a href="https://avohq.io/blog/mcp-server-rails" target="_blank">MCP Servers in Rails</a> or <a href="https://avohq.io/blog/social-login-rails-google-github" target="_blank">Rails social login</a>.</p>

<p>However, the app itself is not that important, you can follow along with an existing app or start from scratch.</p>

<p>We will use the ViewComponent gem to render our breadcrumbs, so let&#39;s install it:</p>
<div>
<pre><code>bundle add view_component <span>&amp;&amp;</span> bundle <span>install</span>
</code></pre>
</div>
<p>The Rails helpers for <a href="https://github.com/heyvito/lucide-rails" target="_blank" rel="nofollow">Lucide Icons</a>:</p>
<div>
<pre><code>bundle add lucide-rails <span>&amp;&amp;</span> bundle <span>install</span>
</code></pre>
</div>
<p>Then, let&#39;s generate a <code>Breadcrumbs</code> component:</p>
<div>
<pre><code>bin/rails generate view_component:component Breadcrumbs items
</code></pre>
</div>
<p>Now let&#39;s focus on adding the breadcrumb to our app:</p>

<h2>Adding breadcrumbs</h2>

<p>Before anything, let&#39;s define the static breadcrumbs component:</p>

<h3>Breadcrumbs component</h3>

<p>We know that the component will receive a list of items. For now, let&#39;s render our component and default the <code>items</code> params to contain an empty array:</p>
<div>
<pre><code><span>&lt;%=</span> <span>render</span> <span>BreadcrumbsComponent</span><span>.</span><span>new</span><span>()</span> <span>%&gt;</span>
</code></pre>
</div>
<p>Currently, the component class looks like this:</p>
<div>
<pre><code><span>class</span> <span>BreadcrumbsComponent</span> <span>&lt;</span> <span>ViewComponent</span><span>::</span><span>Base</span>
  <span>def</span> <span>initialize</span><span>(</span><span>items: </span><span>[])</span>
    <span>@items</span> <span>=</span> <span>items</span>
  <span>end</span>
<span>end</span>
</code></pre>
</div>
<p>Then, let&#39;s render the static markup. Semantically, breadcrumbs are a navigation element that contains an ordered list of items:</p>
<div>
<pre><code># app/components/breadcrumbs_component.html.erb
<span>&lt;nav</span> <span>aria-label=</span><span>&#34;Breadcrumb navigation&#34;</span><span>&gt;</span>
  <span>&lt;ol</span> <span>class=</span><span>&#34;flex flex-wrap items-center space-x-2 text-sm&#34;</span><span>&gt;</span>
    <span>&lt;li&gt;</span>
      <span>&lt;a</span> <span>href=</span><span>&#34;/&#34;</span> <span>class=</span><span>&#34;flex items-center space-x-2 text-gray-500 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-500&#34;</span><span>&gt;</span>
        <span>&lt;%=</span> <span>helpers</span><span>.</span><span>lucide_icon</span><span>(</span><span>&#39;home&#39;</span><span>,</span> <span>class: </span><span>&#34;h-5 w-5 text-slate-700 dark:text-slate-300&#34;</span><span>)</span> <span>%&gt;</span>
        <span>&lt;span</span> <span>class=</span><span>&#34;text-slate-700 dark:text-slate-300 text-base&#34;</span><span>&gt;</span>Home<span>&lt;/span&gt;</span>
      <span>&lt;/a&gt;</span>
    <span>&lt;/li&gt;</span>
    <span>&lt;%=</span> <span>helpers</span><span>.</span><span>lucide_icon</span><span>(</span><span>&#39;chevron-right&#39;</span><span>,</span> <span>class: </span><span>&#34;h-5 w-5 text-slate-700 dark:text-slate-300&#34;</span><span>)</span> <span>%&gt;</span>
    <span>&lt;li&gt;</span>
      <span>&lt;a</span> <span>href=</span><span>&#34;/&#34;</span> <span>class=</span><span>&#34;text-gray-500 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-500&#34;</span><span>&gt;</span>
        <span>&lt;span</span> <span>class=</span><span>&#34;text-slate-700 dark:text-slate-300 text-base&#34;</span><span>&gt;</span>Books<span>&lt;/span&gt;</span>
      <span>&lt;/a&gt;</span>
    <span>&lt;/li&gt;</span>
    <span>&lt;%=</span> <span>helpers</span><span>.</span><span>lucide_icon</span><span>(</span><span>&#39;chevron-right&#39;</span><span>,</span> <span>class: </span><span>&#34;h-5 w-5 text-slate-700 dark:text-slate-300&#34;</span><span>)</span> <span>%&gt;</span>
    <span>&lt;li&gt;</span>
      <span>&lt;span</span> <span>class=</span><span>&#34;text-slate-700 dark:text-slate-300 text-base&#34;</span><span>&gt;</span>The Catcher in the Rye<span>&lt;/span&gt;</span>
    <span>&lt;/li&gt;</span>
  <span>&lt;/ol&gt;</span>
<span>&lt;/nav&gt;</span>

</code></pre>
</div>
<p>Which produces the following result, including dark mode:</p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/7b8x58w8/breadcrumbs-component-markup.gif" alt="Breadcrumb markup preview" title=""/>  </p></div>

<p>With the markup in place, let&#39;s start writing the tests and adding the code:</p>

<h3>Tests</h3>

<p>Because we defined that breadcrumbs can be a link or text, have an icon or not let&#39;s create an empty <code>Breacrumb</code> class and then write our first test:</p>
<div>
<pre><code><span># app/models/breadcrumb.rb</span>
<span>class</span> <span>Breadcrumb</span>
<span>end</span>
</code></pre>
</div>
<p>Let&#39;s add tests for the model:</p>
<div>
<pre><code><span>require</span> <span>&#34;test_helper&#34;</span>

<span>class</span> <span>BreadcrumbTest</span> <span>&lt;</span> <span>ActiveSupport</span><span>::</span><span>TestCase</span>
  <span>test</span> <span>&#34;it know if it is a link&#34;</span> <span>do</span>
    <span>breadcrumb</span> <span>=</span> <span>Breadcrumb</span><span>.</span><span>new</span><span>(</span>
      <span>name: </span><span>&#34;Home&#34;</span><span>,</span>
      <span>path: </span><span>&#34;/&#34;</span><span>,</span>
    <span>)</span>

    <span>assert</span> <span>breadcrumb</span><span>.</span><span>link?</span>
  <span>end</span>

  <span>test</span> <span>&#34;it knows if it has an associated icon&#34;</span> <span>do</span>
    <span>breadcrumb</span> <span>=</span> <span>Breadcrumb</span><span>.</span><span>new</span><span>(</span>
      <span>name: </span><span>&#34;Home&#34;</span><span>,</span>
      <span>path: </span><span>&#34;/&#34;</span><span>,</span>
      <span>icon: </span><span>&#34;home&#34;</span><span>,</span>
    <span>)</span>

    <span>assert</span> <span>breadcrumb</span><span>.</span><span>has_icon?</span>
  <span>end</span>
<span>end</span>
</code></pre>
</div>
<p>We then add the model code to satisfy the tests:</p>
<div>
<pre><code><span>class</span> <span>Breadcrumb</span>
  <span>attr_reader</span> <span>:text</span><span>,</span> <span>:path</span><span>,</span> <span>:icon</span><span>,</span> <span>:turbo</span>

  <span>def</span> <span>initialize</span><span>(</span><span>text: </span><span>nil</span><span>,</span> <span>path: </span><span>nil</span><span>,</span> <span>icon: </span><span>nil</span><span>,</span> <span>turbo: </span><span>true</span><span>)</span>
    <span>@text</span> <span>=</span> <span>text</span>
    <span>@path</span> <span>=</span> <span>path</span>
    <span>@icon</span> <span>=</span> <span>icon</span>
    <span>@turbo</span> <span>=</span> <span>turbo</span>
  <span>end</span>

  <span>def</span> <span>link?</span>
    <span>path</span><span>.</span><span>present?</span>
  <span>end</span>

  <span>def</span> <span>has_icon?</span>
    <span>icon</span><span>.</span><span>present?</span>
  <span>end</span>
<span>end</span>
</code></pre>
</div>
<p>Now, before going back to the component code to add the appropriate conditionals, let&#39;s add a hardcoded list of breadcrumbs to work with:</p>
<div>
<pre><code><span>&lt;%</span> <span>items</span> <span>=</span> <span>[</span><span>Breadcrumb</span><span>.</span><span>new</span><span>(</span><span>text: </span><span>&#34;Home&#34;</span><span>,</span> <span>path: </span><span>root_path</span><span>,</span> <span>icon: </span><span>&#34;home&#34;</span><span>),</span> <span>Breadcrumb</span><span>.</span><span>new</span><span>(</span><span>text: </span><span>&#34;Books&#34;</span><span>,</span> <span>path: </span><span>books_path</span><span>),</span> <span>Breadcrumb</span><span>.</span><span>new</span><span>(</span><span>text: </span><span>&#34;The Catcher in the Rye&#34;</span><span>)]</span> <span>%&gt;</span>
<span>&lt;%=</span> <span>render</span> <span>BreadcrumbsComponent</span><span>.</span><span>new</span><span>(</span><span>items: </span><span>items</span><span>)</span> <span>%&gt;</span>
</code></pre>
</div>
<p>Which should produce the same output as before:</p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/BQS3wgbC/breadcrumb-component-rendered.webp" alt="Dynamic breadcrumbs preview" title=""/>  </p></div>

<p>Now that we can produce the breadcrumbs from hardcoded values, let&#39;s add code to produce the breadcrumb list from controller actions.</p>

<p>To achieve this, we can add a couple of methods to our <code>ApplicationController</code> that we can call from any other controller.</p>
<div>
<pre><code><span>class</span> <span>ApplicationController</span> <span>&lt;</span> <span>ActionController</span><span>::</span><span>Base</span>
  <span>helper_method</span> <span>:breadcrumbs</span>

  <span>private</span>

  <span>def</span> <span>breadcrumbs</span>
    <span>@breadcrumbs</span> <span>||=</span> <span>[]</span>
  <span>end</span>

  <span>def</span> <span>add_breadcrumb</span><span>(</span><span>text</span><span>:,</span> <span>path: </span><span>nil</span><span>,</span> <span>icon: </span><span>nil</span><span>,</span> <span>turbo: </span><span>false</span><span>)</span>
    <span>breadcrumbs</span> <span>&lt;&lt;</span> <span>Breadcrumb</span><span>.</span><span>new</span><span>(</span><span>text: </span><span>text</span><span>,</span> <span>path: </span><span>path</span><span>,</span> <span>icon: </span><span>icon</span><span>,</span> <span>turbo: </span><span>turbo</span><span>)</span>
  <span>end</span>
<span>end</span>
</code></pre>
</div>
<p>The <code>breadcrumbs</code> method declares and memoizes the <code>@breadcrumbs</code> instance variable which returns an empty array by default, and the <code>add_breadcrumb</code>, which is the method we will use across our controllers is used to add instances of <code>Breadcrumb</code> to the array.</p>

<p>If we want to abstract the code away from the <code>ApplicationController</code> we can create a concern:</p>
<div>
<pre><code><span># app/controllers/concerns/breadcrumbs.rb</span>
<span>module</span> <span>Breadcrumbs</span>
  <span>extend</span> <span>ActiveSupport</span><span>::</span><span>Concern</span>

  <span>included</span> <span>do</span>
    <span>helper_method</span> <span>:breadcrumbs</span>
  <span>end</span>

  <span>def</span> <span>add_breadcrumb</span><span>(</span><span>text</span><span>,</span> <span>path: </span><span>nil</span><span>,</span> <span>icon: </span><span>nil</span><span>)</span>
    <span>breadcrumbs</span> <span>&lt;&lt;</span> <span>Breadcrumb</span><span>.</span><span>new</span><span>(</span><span>text: </span><span>text</span><span>,</span> <span>path: </span><span>path</span><span>,</span> <span>icon: </span><span>icon</span><span>)</span>
  <span>end</span>

  <span>def</span> <span>breadcrumbs</span>
    <span>@breadcrumbs</span> <span>||=</span> <span>[]</span>
  <span>end</span>
<span>end</span>
</code></pre>
</div><div>
<pre><code><span>class</span> <span>ApplicationController</span> <span>&lt;</span> <span>ActionController</span><span>::</span><span>Base</span>
  <span>include</span> <span>Breadcrumbs</span>
<span>end</span>
</code></pre>
</div>
<p>With this in place, we can produce our desired result by </p>
<div>
<pre><code><span>class</span> <span>BooksController</span> <span>&lt;</span> <span>ApplicationController</span>
  <span>def</span> <span>show</span>
    <span>@book</span> <span>=</span> <span>Book</span><span>.</span><span>find</span><span>(</span><span>params</span><span>[</span><span>:id</span><span>])</span>
    <span>add_breadcrumb</span><span>(</span><span>&#34;Home&#34;</span><span>,</span> <span>path: </span><span>root_path</span><span>)</span>
    <span>add_breadcrumb</span><span>(</span><span>&#34;Books&#34;</span><span>,</span> <span>path: </span><span>books_path</span><span>)</span>
    <span>add_breadcrumb</span><span>(</span><span>@book</span><span>.</span><span>title</span><span>)</span>
  <span>end</span>
<span>end</span>
</code></pre>
</div>
<p>Now, adding the adequate conditionals, we can produce the desired breadcrumbs:</p>
<div>
<pre><code><span>&lt;nav</span> <span>aria-label=</span><span>&#34;Breadcrumb navigation&#34;</span> <span>data-turbo=</span><span>&#34;</span><span>&lt;%=</span> <span>turbo</span> <span>%&gt;</span><span>&#34;</span><span>&gt;</span>
  <span>&lt;ol</span> <span>class=</span><span>&#34;flex flex-wrap items-center space-x-2 text-sm&#34;</span><span>&gt;</span>
    <span>&lt;%</span> <span>items</span><span>.</span><span>each_with_index</span> <span>do</span> <span>|</span><span>breadcrumb</span><span>,</span> <span>index</span><span>|</span> <span>%&gt;</span>
      <span>&lt;%</span> <span>if</span> <span>breadcrumb</span><span>.</span><span>path</span><span>.</span><span>present?</span> <span>%&gt;</span>
        <span>&lt;li&gt;</span>
          <span>&lt;a</span> <span>href=</span><span>&#34;</span><span>&lt;%=</span> <span>breadcrumb</span><span>.</span><span>path</span> <span>%&gt;</span><span>&#34;</span> <span>class=</span><span>&#34;flex items-center space-x-2 text-gray-500 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-500&#34;</span> <span>data-turbo=</span><span>&#34;</span><span>&lt;%=</span> <span>turbo</span> <span>%&gt;</span><span>&#34;</span><span>&gt;</span>
            <span>&lt;%=</span> <span>helpers</span><span>.</span><span>lucide_icon</span><span>(</span><span>breadcrumb</span><span>.</span><span>icon</span><span>,</span> <span>class: </span><span>&#34;h-5 w-5 text-slate-700 dark:text-slate-300&#34;</span><span>)</span> <span>if</span> <span>breadcrumb</span><span>.</span><span>has_icon?</span> <span>%&gt;</span>
            <span>&lt;span</span> <span>class=</span><span>&#34;text-slate-700 dark:text-slate-300 text-base leading-none&#34;</span><span>&gt;</span><span>&lt;%=</span> <span>breadcrumb</span><span>.</span><span>text</span> <span>%&gt;</span><span>&lt;/span&gt;</span>
          <span>&lt;/a&gt;</span>
        <span>&lt;/li&gt;</span>
      <span>&lt;%</span> <span>else</span> <span>%&gt;</span>
        <span>&lt;li&gt;</span>
          <span>&lt;span</span> <span>class=</span><span>&#34;text-slate-700 dark:text-slate-300 text-base leading-none&#34;</span><span>&gt;</span><span>&lt;%=</span> <span>breadcrumb</span><span>.</span><span>text</span> <span>%&gt;</span><span>&lt;/span&gt;</span>
        <span>&lt;/li&gt;</span>
      <span>&lt;%</span> <span>end</span> <span>%&gt;</span>

      <span>&lt;%</span> <span>if</span> <span>index</span> <span>&lt;</span> <span>items</span><span>.</span><span>length</span> <span>-</span> <span>1</span> <span>%&gt;</span>
        <span>&lt;%=</span> <span>helpers</span><span>.</span><span>lucide_icon</span><span>(</span><span>&#39;chevron-right&#39;</span><span>,</span> <span>class: </span><span>&#34;h-5 w-5 text-slate-700 dark:text-slate-300&#34;</span><span>)</span> <span>%&gt;</span>
      <span>&lt;%</span> <span>end</span> <span>%&gt;</span>
    <span>&lt;%</span> <span>end</span> <span>%&gt;</span>
  <span>&lt;/ol&gt;</span>
<span>&lt;/nav&gt;</span>
</code></pre>
</div>
<p>Which produces the same as we had before:</p>

<div data-controller="light-box">        <p><img data-light-box-target="image" data-action="click-&gt;light-box#show" src="https://i.postimg.cc/BQS3wgbC/breadcrumb-component-rendered.webp" alt="Dynamic breadcrumbs Rails" title=""/>  </p></div>

<p>Now that we know how to generate breadcrumbs, let&#39;s add the schema markup to improve our <a href="https://avohq.io/rails-seo" target="_blank">Rails SEO</a> results:</p>

<h2>Schema Markup</h2>

<p>Adding schema markup to our breadcrumbs component can help search engines better understand our site&#39;s navigation because we provide information about the breadcrumb entity in a structured manner.</p>

<p>We could use structured data with the <code>ld+json</code> script, but we can define it in the component itself because everything we need is self-contained in a single file.</p>

<p>Following <a href="https://developers.google.com/search/docs/appearance/structured-data/breadcrumb#microdata" target="_blank" rel="nofollow">Google&#39;s Guidelines</a>, and we end up with this:</p>
<div>
<pre><code><span>&lt;nav</span> <span>aria-label=</span><span>&#34;Breadcrumb navigation&#34;</span><span>&gt;</span>
  <span>&lt;ol</span> <span>class=</span><span>&#34;flex flex-wrap items-center space-x-2 text-sm&#34;</span> <span>itemscope</span> <span>itemtype=</span><span>&#34;https://schema.org/BreadcrumbList&#34;</span><span>&gt;</span>
    <span>&lt;%</span> <span>items</span><span>.</span><span>each_with_index</span> <span>do</span> <span>|</span><span>item</span><span>,</span> <span>index</span><span>|</span> <span>%&gt;</span>
      <span>&lt;li</span> <span>itemprop=</span><span>&#34;itemListElement&#34;</span> <span>itemscope</span> <span>itemtype=</span><span>&#34;https://schema.org/ListItem&#34;</span><span>&gt;</span>
        <span>&lt;%</span> <span>if</span> <span>item</span><span>.</span><span>links_to_root?</span> <span>%&gt;</span>
          <span>&lt;a</span> <span>href=</span><span>&#34;/&#34;</span> <span>itemprop=</span><span>&#34;item&#34;</span> <span>class=</span><span>&#34;text-gray-500 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-500&#34;</span><span>&gt;</span>
            <span>&lt;%=</span> <span>helpers</span><span>.</span><span>lucide_icon</span><span>(</span><span>&#39;home&#39;</span><span>,</span> <span>class: </span><span>&#34;h-5 w-5 text-slate-700 dark:text-slate-300&#34;</span><span>)</span> <span>%&gt;</span>
            <span>&lt;span</span> <span>itemprop=</span><span>&#34;name&#34;</span><span>&gt;</span>Home<span>&lt;/span&gt;</span>
          <span>&lt;/a&gt;</span>
        <span>&lt;%</span> <span>else</span> <span>%&gt;</span>
          <span>&lt;a</span> <span>href=</span><span>&#34;</span><span>&lt;%=</span> <span>item</span><span>.</span><span>url</span> <span>%&gt;</span><span>&#34;</span> <span>itemprop=</span><span>&#34;item&#34;</span> <span>class=</span><span>&#34;text-gray-500 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-500&#34;</span><span>&gt;</span>
            <span>&lt;span</span> <span>itemprop=</span><span>&#34;name&#34;</span> <span>class=</span><span>&#34;text-slate-700 dark:text-slate-300 text-base&#34;</span><span>&gt;</span><span>&lt;%=</span> <span>item</span><span>.</span><span>text</span> <span>%&gt;</span><span>&lt;/span&gt;</span>
          <span>&lt;/a&gt;</span>
        <span>&lt;%</span> <span>end</span> <span>%&gt;</span>
        <span>&lt;meta</span> <span>itemprop=</span><span>&#34;position&#34;</span> <span>content=</span><span>&#34;</span><span>&lt;%=</span> <span>index</span> <span>+</span> <span>1</span> <span>%&gt;</span><span>&#34;</span><span>&gt;</span>
      <span>&lt;/li&gt;</span>

      <span>&lt;%</span> <span>if</span> <span>index</span> <span>&lt;</span> <span>items</span><span>.</span><span>length</span> <span>-</span> <span>1</span> <span>%&gt;</span>
        <span>&lt;%=</span> <span>helpers</span><span>.</span><span>lucide_icon</span><span>(</span><span>&#39;chevron-right&#39;</span><span>,</span> <span>class: </span><span>&#34;h-5 w-5 text-slate-700 dark:text-slate-300&#34;</span><span>,</span> <span>&#34;aria-hidden&#34;</span><span>:</span> <span>&#34;true&#34;</span><span>)</span> <span>%&gt;</span>
      <span>&lt;%</span> <span>end</span> <span>%&gt;</span>
    <span>&lt;%</span> <span>end</span> <span>%&gt;</span>
  <span>&lt;/ol&gt;</span>
<span>&lt;/nav&gt;</span>
</code></pre>
</div>
<p>We define the <code>itemscope</code> to be the <code>BreadcrumbList</code> type, and then, for each one of the items inside the breadcrumb list we define a <code>ListItem</code> with its own <code>itemscope</code> and <code>itemtype</code>. </p>

<p>Each list item contains the structured data properties that search engines expect: the <code>item</code> property points to the URL, the <code>name</code> property contains the display text, and the <code>position</code> property indicates the item&#39;s sequential order in the breadcrumb trail.`</p>

<p>With this in place, we can now use our <code>BreadcrumbsComponent</code> anywhere in our application.</p>

<h2>Summary</h2>

<p>Adding breadcrumbs to a Rails application is an easy way to improve user experience and SEO at the same time.</p>

<p>Letting users know where they stand and how they can reach their desired target is a sure way to improve our bounce rate, increase the average visit duration while improving our chances with search engines.</p>

<p>We added breadcrumbs using ViewComponent, a custom model, and some shared controller code that let us add breadcrumbs from any controller action.</p>

<p>Moreover, we added schema markup to our breadcrumbs to make sure that they contain appropriate metadata to appear in search results.</p>

            <br/>
            
          </div>
        </div></div>
  </body>
</html>
