<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://abhipray.com/posts/flying_toasters/">Original</a>
    <h1>Recreating the Flying Toasters screen saver for the Vision Pro</h1>
    
    <div id="readability-page-1" class="page"><div><p>I recently decided to make an app for the Apple Vision Pro (AVP) during a two-week break between jobs. I wanted to explore its potential and learn some new skills. My day job primarily involves low-level firmware; I hadn’t built a user-facing app in a while–my last iOS app experience was back in high school in 2011! This was a chance to see how app development has evolved in 2024, especially with modern code generation tools.</p><h2 id="inspiration-and-the-screensaver-idea">Inspiration and the “Screensaver” Idea
<a href="#inspiration-and-the-screensaver-idea"><i aria-hidden="true" title="Link to heading"></i>
<span>Link to heading</span></a></h2><p>After brainstorming with friends, one suggested I look into the classic “Flying Toasters” screensaver by After Dark (released in 1989). I watched a video of it and thought it would be a perfect starter project!</p><p><iframe src="https://www.youtube.com/embed/Ft5DIBAvXIU" allowfullscreen="" title="YouTube Video"></iframe></p><p>I was especially excited to bring the concept of a “screensaver” to this new platform. Historically, screensavers served a practical purpose on CRT monitors—preventing screen burn-ins. From Wikipedia:</p><blockquote><p>Screen burn-in, image burn-in, ghost image, or shadow image, is a permanent discoloration of areas on an electronic display such as a cathode ray tube (CRT) in an old computer monitor or television set. It is caused by cumulative non-uniform use of the screen.
One way to combat screen burn-in was the use of screensavers, which would move an image around to ensure that no one area of the screen remained illuminated for too long.</p></blockquote><p>Today, screensavers primarily serve aesthetic and entertainment purposes, activating during periods of user inactivity. My aim was to incorporate a similar, inactivity-based trigger for the AVP screensaver. Initially, my plan was to employ gaze tracking to identify moments when a user might be “zoned out”. Due to privacy considerations, Apple restricts access to such sensor data. As a workaround, users can signal their activity by periodically tapping a button within the app’s main control window, effectively resetting the inactivity timer. The app also allows users the flexibility to customize the timeout duration, transforming the screensaver into a gentle nudge to take breaks from using the AVP.</p><h2 id="the-screensaver-itself">The Screensaver Itself
<a href="#the-screensaver-itself"><i aria-hidden="true" title="Link to heading"></i>
<span>Link to heading</span></a></h2><p>The screensaver features flying toasters soaring across your real-world environment. They emerge from a portal showing the sun and disappear into a portal showing the moon. It was fun adding silly little features like:</p><ul><li>Gesture controls: Scale and rotate the portals to your liking.</li><li>Toaster interaction: Tap a toaster to trigger a whimsical phrase. Baby toasters occasionally make an appearance too!</li><li>Customization: Adjust toaster count, toastiness level, colors, and music. Or, activate “ghost mode” to prevent collisions if the on-screen chaos gets overwhelming.</li></ul><p>Check out the app previews and screenshots on the app store to get a visual: <a href="https://apps.apple.com/us/app/flying-toasters/id6479964879" target="_blank" rel="noopener">https://apps.apple.com/us/app/flying-toasters/id6479964879</a></p><h2 id="technical-challenges">Technical Challenges
<a href="#technical-challenges"><i aria-hidden="true" title="Link to heading"></i>
<span>Link to heading</span></a></h2><p>Here are some specific challenges I overcame during the development process:</p><ul><li><p>Learning Swift: Although I’d used Objective-C for an iOS app back in high school, I wanted to learn Apple’s recommended way of writing apps. I spent time reading <a href="https://carlosicaza.com/swiftbooks/SwiftLanguage.pdf" target="_blank" rel="noopener">Swift tutorials</a> and practicing in <a href="https://developer.apple.com/swift-playgrounds/" target="_blank" rel="noopener">Swift Playgrounds</a>. ChatGPT and Gemini were also great resources for code editing and debugging.</p></li><li><p>3D Animation/Art: I had no prior experience with 3D animation. I started with a 3D-printable toaster model and followed <a href="https://www.youtube.com/watch?v=VuMu4tAzFjw" target="_blank" rel="noopener">tutorials</a> to animate the wings. Creating those toasts was trickier! I couldn’t find the right textures for different toastiness levels – after a lot of trial and error (and a hundred attempts with Photoshop’s generative fill), I finally got those realistic-looking textures.</p></li><li><p>Portal Gestures: Apple’s <a href="https://developer.apple.com/documentation/realitykit/transforming-realitykit-entities-with-gestures?changes=_8" target="_blank" rel="noopener">example code</a> was key for implementing intuitive scaling and rotation gestures for the portals.</p></li><li><p>Toaster Physics vs. Animation: I found out the hard way that RealityKit’s physics engine and strict animation paths (using FromToByAnimation()) don’t always play nicely together. My chaotic collision solution? Random launch points with a minimum distance constraint, random <a href="https://cubic-bezier.com" target="_blank" rel="noopener">cubic-bezier</a> curve paths, and plenty of linear/angular damping on those toasters. If the toasters’ movements are still subjectively chaotic, the user can opt out of collisions by turning on ghost mode.</p></li><li><p>Head Tracking: I wanted the toasters’ whimsical phrases to appear in speech bubbles that always faced the user. RealityKit doesn’t directly track head position, but I adapted a clever <a href="https://stackoverflow.com/questions/77577395/how-to-know-users-position-in-surrounding-space-in-visionos/77616297#77616297" target="_blank" rel="noopener">ARKit workaround</a> to achieve this.</p></li></ul><p>This project was a blast! If you have an AVP and end up seeing the flying toasters in action, please let me know what you think!</p></div></div>
  </body>
</html>
