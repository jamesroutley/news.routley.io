<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3.6.0.html">Original</a>
    <h1>Matplotlib 3.6</h1>
    
    <div id="readability-page-1" class="page"><div>
<div>

<main>
<div>
<div>

<article role="main">
<section id="what-s-new-in-matplotlib-3-6-0-sep-15-2022">

<p>For a list of all of the issues and pull requests since the last revision, see
the <a href="https://matplotlib.org/stable/users/github_stats.html#github-stats"><span>GitHub statistics for 3.6.0 (Sep 15, 2022)</span></a>.</p>
<nav id="table-of-contents">
<p>Table of Contents</p>
<ul>
<li><p><a href="#what-s-new-in-matplotlib-3-6-0-sep-15-2022" id="id3">What&#39;s new in Matplotlib 3.6.0 (Sep 15, 2022)</a></p>
<ul>
<li><p><a href="#figure-and-axes-creation-management" id="id4">Figure and Axes creation / management</a></p>
<ul>
<li><p><a href="#subplots-subplot-mosaic-accept-height-ratios-and-width-ratios-arguments" id="id5"><code><span>subplots</span></code>, <code><span>subplot_mosaic</span></code> accept <em>height_ratios</em> and <em>width_ratios</em> arguments</a></p></li>
<li><p><a href="#constrained-layout-is-no-longer-considered-experimental" id="id6">Constrained layout is no longer considered experimental</a></p></li>
<li><p><a href="#new-layout-engine-module" id="id7">New <code><span>layout_engine</span></code> module</a></p></li>
<li><p><a href="#compressed-layout-for-fixed-aspect-ratio-axes" id="id8">Compressed layout for fixed-aspect ratio Axes</a></p></li>
<li><p><a href="#layout-engines-may-now-be-removed" id="id9">Layout engines may now be removed</a></p></li>
<li><p><a href="#axes-inset-axes-flexibility" id="id10"><code><span>Axes.inset_axes</span></code> flexibility</a></p></li>
<li><p><a href="#webp-is-now-a-supported-output-format" id="id11">WebP is now a supported output format</a></p></li>
<li><p><a href="#garbage-collection-is-no-longer-run-on-figure-close" id="id12">Garbage collection is no longer run on figure close</a></p></li>
</ul>
</li>
<li><p><a href="#plotting-methods" id="id13">Plotting methods</a></p>
<ul>
<li><p><a href="#striped-lines-experimental" id="id14">Striped lines (experimental)</a></p></li>
<li><p><a href="#custom-cap-widths-in-box-and-whisker-plots-in-bxp-and-boxplot" id="id15">Custom cap widths in box and whisker plots in <code><span>bxp</span></code> and <code><span>boxplot</span></code></a></p></li>
<li><p><a href="#easier-labelling-of-bars-in-bar-plot" id="id16">Easier labelling of bars in bar plot</a></p></li>
<li><p><a href="#new-style-format-string-for-colorbar-ticks" id="id17">New style format string for colorbar ticks</a></p></li>
<li><p><a href="#linestyles-for-negative-contours-may-be-set-individually" id="id18">Linestyles for negative contours may be set individually</a></p></li>
<li><p><a href="#improved-quad-contour-calculations-via-contourpy" id="id19">Improved quad contour calculations via ContourPy</a></p></li>
<li><p><a href="#errorbar-supports-markerfacecoloralt" id="id20"><code><span>errorbar</span></code> supports <em>markerfacecoloralt</em></a></p></li>
<li><p><a href="#streamplot-can-disable-streamline-breaks" id="id21"><code><span>streamplot</span></code> can disable streamline breaks</a></p></li>
<li><p><a href="#new-axis-scale-asinh-experimental" id="id22">New axis scale <code><span>asinh</span></code> (experimental)</a></p></li>
<li><p><a href="#stairs-fill-true-hides-patch-edge-by-setting-linewidth" id="id23"><code><span>stairs(...,</span> <span>fill=True)</span></code> hides patch edge by setting linewidth</a></p></li>
<li><p><a href="#fix-the-dash-offset-of-the-patch-class" id="id24">Fix the dash offset of the Patch class</a></p></li>
<li><p><a href="#rectangle-patch-rotation-point" id="id25">Rectangle patch rotation point</a></p></li>
</ul>
</li>
<li><p><a href="#colors-and-colormaps" id="id26">Colors and colormaps</a></p>
<ul>
<li><p><a href="#color-sequence-registry" id="id27">Color sequence registry</a></p></li>
<li><p><a href="#colormap-method-for-creating-a-different-lookup-table-size" id="id28">Colormap method for creating a different lookup table size</a></p></li>
<li><p><a href="#setting-norms-with-strings" id="id29">Setting norms with strings</a></p></li>
</ul>
</li>
<li><p><a href="#titles-ticks-and-labels" id="id30">Titles, ticks, and labels</a></p>
<ul>
<li><p><a href="#plt-xticks-and-plt-yticks-support-minor-keyword-argument" id="id31"><code><span>plt.xticks</span></code> and <code><span>plt.yticks</span></code> support <em>minor</em> keyword argument</a></p></li>
</ul>
</li>
<li><p><a href="#legends" id="id32">Legends</a></p>
<ul>
<li><p><a href="#legend-can-control-alignment-of-title-and-handles" id="id33">Legend can control alignment of title and handles</a></p></li>
<li><p><a href="#ncol-keyword-argument-to-legend-renamed-to-ncols" id="id34"><em>ncol</em> keyword argument to <code><span>legend</span></code> renamed to <em>ncols</em></a></p></li>
</ul>
</li>
<li><p><a href="#markers" id="id35">Markers</a></p>
<ul>
<li><p><a href="#marker-can-now-be-set-to-the-string-none" id="id36"><code><span>marker</span></code> can now be set to the string &#34;none&#34;</a></p></li>
<li><p><a href="#customization-of-markerstyle-join-and-cap-style" id="id37">Customization of <code><span>MarkerStyle</span></code> join and cap style</a></p></li>
</ul>
</li>
<li><p><a href="#fonts-and-text" id="id38">Fonts and Text</a></p>
<ul>
<li><p><a href="#font-fallback" id="id39">Font fallback</a></p></li>
<li><p><a href="#list-of-available-font-names" id="id40">List of available font names</a></p></li>
<li><p><a href="#math-to-image-now-has-a-color-keyword-argument" id="id41"><code><span>math_to_image</span></code> now has a <em>color</em> keyword argument</a></p></li>
<li><p><a href="#active-url-area-rotates-with-link-text" id="id42">Active URL area rotates with link text</a></p></li>
</ul>
</li>
<li><p><a href="#rcparams-improvements" id="id43">rcParams improvements</a></p>
<ul>
<li><p><a href="#allow-setting-figure-label-size-and-weight-globally-and-separately-from-title" id="id44">Allow setting figure label size and weight globally and separately from title</a></p></li>
<li><p><a href="#mathtext-parsing-can-be-disabled-globally" id="id45">Mathtext parsing can be disabled globally</a></p></li>
<li><p><a href="#double-quoted-strings-in-matplotlibrc" id="id46">Double-quoted strings in matplotlibrc</a></p></li>
</ul>
</li>
<li><p><a href="#d-axes-improvements" id="id47">3D Axes improvements</a></p>
<ul>
<li><p><a href="#standardized-views-for-primary-plane-viewing-angles" id="id48">Standardized views for primary plane viewing angles</a></p></li>
<li><p><a href="#custom-focal-length-for-3d-camera" id="id49">Custom focal length for 3D camera</a></p></li>
<li><p><a href="#d-plots-gained-a-3rd-roll-viewing-angle" id="id50">3D plots gained a 3rd &#34;roll&#34; viewing angle</a></p></li>
<li><p><a href="#equal-aspect-ratio-for-3d-plots" id="id51">Equal aspect ratio for 3D plots</a></p></li>
</ul>
</li>
<li><p><a href="#interactive-tool-improvements" id="id52">Interactive tool improvements</a></p>
<ul>
<li><p><a href="#rotation-aspect-ratio-correction-and-add-remove-state" id="id53">Rotation, aspect ratio correction and add/remove state</a></p></li>
<li><p><a href="#multicursor-now-supports-axes-split-over-multiple-figures" id="id54"><code><span>MultiCursor</span></code> now supports Axes split over multiple figures</a></p></li>
<li><p><a href="#polygonselector-bounding-boxes" id="id55"><code><span>PolygonSelector</span></code> bounding boxes</a></p></li>
<li><p><a href="#setting-polygonselector-vertices" id="id56">Setting <code><span>PolygonSelector</span></code> vertices</a></p></li>
<li><p><a href="#spanselector-widget-can-now-be-snapped-to-specified-values" id="id57"><code><span>SpanSelector</span></code> widget can now be snapped to specified values</a></p></li>
<li><p><a href="#more-toolbar-icons-are-styled-for-dark-themes" id="id58">More toolbar icons are styled for dark themes</a></p></li>
</ul>
</li>
<li><p><a href="#platform-specific-changes" id="id59">Platform-specific changes</a></p>
<ul>
<li><p><a href="#wx-backend-uses-standard-toolbar" id="id60">Wx backend uses standard toolbar</a></p></li>
<li><p><a href="#improvements-to-macosx-backend" id="id61">Improvements to macosx backend</a></p>
<ul>
<li><p><a href="#modifier-keys-handled-more-consistently" id="id62">Modifier keys handled more consistently</a></p></li>
<li><p><a href="#savefig-directory-rcparam-support" id="id63"><code><span>savefig.directory</span></code> rcParam support</a></p></li>
<li><p><a href="#figure-raise-window-rcparam-support" id="id64"><code><span>figure.raise_window</span></code> rcParam support</a></p></li>
<li><p><a href="#full-screen-toggle-support" id="id65">Full-screen toggle support</a></p></li>
<li><p><a href="#improved-animation-and-blitting-support" id="id66">Improved animation and blitting support</a></p></li>
</ul>
</li>
<li><p><a href="#macos-application-icon-applied-on-qt-backend" id="id67">macOS application icon applied on Qt backend</a></p></li>
<li><p><a href="#new-minimum-macos-version" id="id68">New minimum macOS version</a></p></li>
<li><p><a href="#windows-on-arm-support" id="id69">Windows on ARM support</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>

<section id="figure-and-axes-creation-management">
<h2><a href="#id4" role="doc-backlink">Figure and Axes creation / management</a><a href="#figure-and-axes-creation-management" title="Permalink to this heading">#</a></h2>
<section id="subplots-subplot-mosaic-accept-height-ratios-and-width-ratios-arguments">
<h3><a href="#id5" role="doc-backlink"><code><span>subplots</span></code>, <code><span>subplot_mosaic</span></code> accept <em>height_ratios</em> and <em>width_ratios</em> arguments</a><a href="#subplots-subplot-mosaic-accept-height-ratios-and-width-ratios-arguments" title="Permalink to this heading">#</a></h3>
<p>The relative width and height of columns and rows in <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplots" title="matplotlib.figure.Figure.subplots"><code><span>subplots</span></code></a> and
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplot_mosaic" title="matplotlib.figure.Figure.subplot_mosaic"><code><span>subplot_mosaic</span></code></a> can be controlled by passing <em>height_ratios</em> and
<em>width_ratios</em> keyword arguments to the methods:</p>
<div><div><pre><span></span><span>fig</span> <span>=</span> <span>plt</span><span>.</span><span>figure</span><span>()</span>
<span>axs</span> <span>=</span> <span>fig</span><span>.</span><span>subplots</span><span>(</span><span>3</span><span>,</span> <span>1</span><span>,</span> <span>sharex</span><span>=</span><span>True</span><span>,</span> <span>height_ratios</span><span>=</span><span>[</span><span>3</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>])</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-1.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-1.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-1.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-1.png"/>
</figure>
<p>Previously, this required passing the ratios in <em>gridspec_kw</em> arguments:</p>
<div><div><pre><span></span><span>fig</span> <span>=</span> <span>plt</span><span>.</span><span>figure</span><span>()</span>
<span>axs</span> <span>=</span> <span>fig</span><span>.</span><span>subplots</span><span>(</span><span>3</span><span>,</span> <span>1</span><span>,</span> <span>sharex</span><span>=</span><span>True</span><span>,</span>
                   <span>gridspec_kw</span><span>=</span><span>dict</span><span>(</span><span>height_ratios</span><span>=</span><span>[</span><span>3</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>]))</span>
</pre></div>
</div>
</section>
<section id="constrained-layout-is-no-longer-considered-experimental">
<h3><a href="#id6" role="doc-backlink">Constrained layout is no longer considered experimental</a><a href="#constrained-layout-is-no-longer-considered-experimental" title="Permalink to this heading">#</a></h3>
<p>The constrained layout engine and API is no longer considered experimental.
Arbitrary changes to behaviour and API are no longer permitted without a
deprecation period.</p>
</section>
<section id="new-layout-engine-module">
<h3><a href="#id7" role="doc-backlink">New <code><span>layout_engine</span></code> module</a><a href="#new-layout-engine-module" title="Permalink to this heading">#</a></h3>
<p>Matplotlib ships with <code><span>tight_layout</span></code> and <code><span>constrained_layout</span></code> layout
engines. A new <a href="https://matplotlib.org/stable/api/layout_engine_api.html#module-matplotlib.layout_engine" title="matplotlib.layout_engine"><code><span>layout_engine</span></code></a> module is provided to allow downstream
libraries to write their own layout engines and <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure"><code><span>Figure</span></code></a> objects can
now take a <a href="https://matplotlib.org/stable/api/layout_engine_api.html#matplotlib.layout_engine.LayoutEngine" title="matplotlib.layout_engine.LayoutEngine"><code><span>LayoutEngine</span></code></a> subclass as an argument to the <em>layout</em> parameter.</p>
</section>
<section id="compressed-layout-for-fixed-aspect-ratio-axes">
<h3><a href="#id8" role="doc-backlink">Compressed layout for fixed-aspect ratio Axes</a><a href="#compressed-layout-for-fixed-aspect-ratio-axes" title="Permalink to this heading">#</a></h3>
<p>Simple arrangements of Axes with fixed aspect ratios can now be packed together
with <code><span>fig,</span> <span>axs</span> <span>=</span> <span>plt.subplots(2,</span> <span>3,</span> <span>layout=&#39;compressed&#39;)</span></code>.</p>
<p>With <code><span>layout=&#39;tight&#39;</span></code> or <code><span>&#39;constrained&#39;</span></code>, Axes with a fixed aspect ratio
can leave large gaps between each other:</p>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-2.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-2.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-2.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-2.png"/>
</figure>
<p>Using the <code><span>layout=&#39;compressed&#39;</span></code> layout reduces the space between the Axes,
and adds the extra space to the outer margins:</p>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-3.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-3.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-3.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-3.png"/>
</figure>
<p>See <a href="https://matplotlib.org/stable/tutorials/intermediate/constrainedlayout_guide.html#compressed-layout"><span>Grids of fixed aspect-ratio Axes: &#34;compressed&#34; layout</span></a> for further details.</p>
</section>
<section id="layout-engines-may-now-be-removed">
<h3><a href="#id9" role="doc-backlink">Layout engines may now be removed</a><a href="#layout-engines-may-now-be-removed" title="Permalink to this heading">#</a></h3>
<p>The layout engine on a Figure may now be removed by calling
<a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.set_layout_engine" title="matplotlib.figure.Figure.set_layout_engine"><code><span>Figure.set_layout_engine</span></code></a> with <code><span>&#39;none&#39;</span></code>. This may be useful after computing
layout in order to reduce computations, e.g., for subsequent animation loops.</p>
<p>A different layout engine may be set afterwards, so long as it is compatible
with the previous layout engine.</p>
</section>
<section id="axes-inset-axes-flexibility">
<h3><a href="#id10" role="doc-backlink"><code><span>Axes.inset_axes</span></code> flexibility</a><a href="#axes-inset-axes-flexibility" title="Permalink to this heading">#</a></h3>
<p><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.inset_axes.html#matplotlib.axes.Axes.inset_axes" title="matplotlib.axes.Axes.inset_axes"><code><span>matplotlib.axes.Axes.inset_axes</span></code></a> now accepts the <em>projection</em>, <em>polar</em> and
<em>axes_class</em> keyword arguments, so that subclasses of <a href="https://matplotlib.org/stable/api/axes_api.html#matplotlib.axes.Axes" title="matplotlib.axes.Axes"><code><span>matplotlib.axes.Axes</span></code></a>
may be returned.</p>
<div><div><pre><span></span><span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>()</span>

<span>ax</span><span>.</span><span>plot</span><span>([</span><span>0</span><span>,</span> <span>2</span><span>],</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>])</span>

<span>polar_ax</span> <span>=</span> <span>ax</span><span>.</span><span>inset_axes</span><span>([</span><span>0.75</span><span>,</span> <span>0.25</span><span>,</span> <span>0.2</span><span>,</span> <span>0.2</span><span>],</span> <span>projection</span><span>=</span><span>&#39;polar&#39;</span><span>)</span>
<span>polar_ax</span><span>.</span><span>plot</span><span>([</span><span>0</span><span>,</span> <span>2</span><span>],</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>])</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-4.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-4.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-4.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-4.png"/>
</figure>
</section>
<section id="webp-is-now-a-supported-output-format">
<h3><a href="#id11" role="doc-backlink">WebP is now a supported output format</a><a href="#webp-is-now-a-supported-output-format" title="Permalink to this heading">#</a></h3>
<p>Figures may now be saved in WebP format by using the <code><span>.webp</span></code> file extension,
or passing <code><span>format=&#39;webp&#39;</span></code> to <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.savefig" title="matplotlib.figure.Figure.savefig"><code><span>savefig</span></code></a>. This relies on <a href="https://pillow.readthedocs.io/en/latest/">Pillow</a> support for WebP.</p>
</section>
<section id="garbage-collection-is-no-longer-run-on-figure-close">
<h3><a href="#id12" role="doc-backlink">Garbage collection is no longer run on figure close</a><a href="#garbage-collection-is-no-longer-run-on-figure-close" title="Permalink to this heading">#</a></h3>
<p>Matplotlib has a large number of circular references (between Figure and
Manager, between Axes and Figure, Axes and Artist, Figure and Canvas, etc.) so
when the user drops their last reference to a Figure (and clears it from
pyplot&#39;s state), the objects will not immediately be deleted.</p>
<p>To account for this we have long (since before 2004) had a <a href="https://docs.python.org/3/library/gc.html#gc.collect" title="(in Python v3.10)"><code><span>gc.collect</span></code></a> (of the
lowest two generations only) in the closing code in order to promptly clean up
after ourselves. However this is both not doing what we want (as most of our
objects will actually survive) and due to clearing out the first generation
opened us up to having unbounded memory usage.</p>
<p>In cases with a very tight loop between creating the figure and destroying it
(e.g. <code><span>plt.figure();</span> <span>plt.close()</span></code>) the first generation will never grow large
enough for Python to consider running the collection on the higher generations.
This will lead to unbounded memory usage as the long-lived objects are never
re-considered to look for reference cycles and hence are never deleted.</p>
<p>We now no longer do any garbage collection when a figure is closed, and rely on
Python automatically deciding to run garbage collection periodically. If you
have strict memory requirements, you can call <a href="https://docs.python.org/3/library/gc.html#gc.collect" title="(in Python v3.10)"><code><span>gc.collect</span></code></a> yourself but this
may have performance impacts in a tight computation loop.</p>
</section>
</section>
<section id="plotting-methods">
<h2><a href="#id13" role="doc-backlink">Plotting methods</a><a href="#plotting-methods" title="Permalink to this heading">#</a></h2>
<section id="striped-lines-experimental">
<h3><a href="#id14" role="doc-backlink">Striped lines (experimental)</a><a href="#striped-lines-experimental" title="Permalink to this heading">#</a></h3>
<p>The new <em>gapcolor</em> parameter to <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot"><code><span>plot</span></code></a> enables the creation of striped
lines.</p>
<div><div><pre><span></span><span>x</span> <span>=</span> <span>np</span><span>.</span><span>linspace</span><span>(</span><span>1.</span><span>,</span> <span>3.</span><span>,</span> <span>10</span><span>)</span>
<span>y</span> <span>=</span> <span>x</span><span>**</span><span>3</span>

<span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>()</span>
<span>ax</span><span>.</span><span>plot</span><span>(</span><span>x</span><span>,</span> <span>y</span><span>,</span> <span>linestyle</span><span>=</span><span>&#39;--&#39;</span><span>,</span> <span>color</span><span>=</span><span>&#39;orange&#39;</span><span>,</span> <span>gapcolor</span><span>=</span><span>&#39;blue&#39;</span><span>,</span>
        <span>linewidth</span><span>=</span><span>3</span><span>,</span> <span>label</span><span>=</span><span>&#39;a striped line&#39;</span><span>)</span>
<span>ax</span><span>.</span><span>legend</span><span>()</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-5.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-5.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-5.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-5.png"/>
</figure>
</section>
<section id="custom-cap-widths-in-box-and-whisker-plots-in-bxp-and-boxplot">
<h3><a href="#id15" role="doc-backlink">Custom cap widths in box and whisker plots in <code><span>bxp</span></code> and <code><span>boxplot</span></code></a><a href="#custom-cap-widths-in-box-and-whisker-plots-in-bxp-and-boxplot" title="Permalink to this heading">#</a></h3>
<p>The new <em>capwidths</em> parameter to <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.bxp.html#matplotlib.axes.Axes.bxp" title="matplotlib.axes.Axes.bxp"><code><span>bxp</span></code></a> and <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.boxplot.html#matplotlib.axes.Axes.boxplot" title="matplotlib.axes.Axes.boxplot"><code><span>boxplot</span></code></a> allows
controlling the widths of the caps in box and whisker plots.</p>
<div><div><pre><span></span><span>x</span> <span>=</span> <span>np</span><span>.</span><span>linspace</span><span>(</span><span>-</span><span>7</span><span>,</span> <span>7</span><span>,</span> <span>140</span><span>)</span>
<span>x</span> <span>=</span> <span>np</span><span>.</span><span>hstack</span><span>([</span><span>-</span><span>25</span><span>,</span> <span>x</span><span>,</span> <span>25</span><span>])</span>
<span>capwidths</span> <span>=</span> <span>[</span><span>0.01</span><span>,</span> <span>0.2</span><span>]</span>

<span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>()</span>
<span>ax</span><span>.</span><span>boxplot</span><span>([</span><span>x</span><span>,</span> <span>x</span><span>],</span> <span>notch</span><span>=</span><span>True</span><span>,</span> <span>capwidths</span><span>=</span><span>capwidths</span><span>)</span>
<span>ax</span><span>.</span><span>set_title</span><span>(</span><span>f</span><span>&#39;</span><span>{</span><span>capwidths</span><span>=}</span><span>&#39;</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-6.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-6.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-6.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-6.png"/>
</figure>
</section>
<section id="easier-labelling-of-bars-in-bar-plot">
<h3><a href="#id16" role="doc-backlink">Easier labelling of bars in bar plot</a><a href="#easier-labelling-of-bars-in-bar-plot" title="Permalink to this heading">#</a></h3>
<p>The <em>label</em> argument of <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.bar.html#matplotlib.axes.Axes.bar" title="matplotlib.axes.Axes.bar"><code><span>bar</span></code></a> and <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.barh.html#matplotlib.axes.Axes.barh" title="matplotlib.axes.Axes.barh"><code><span>barh</span></code></a> can now be passed a list
of labels for the bars. The list must be the same length as <em>x</em> and labels the
individual bars. Repeated labels are not de-duplicated and will cause repeated
label entries, so this is best used when bars also differ in style (e.g., by
passing a list to <em>color</em>, as below.)</p>
<div><div><pre><span></span><span>x</span> <span>=</span> <span>[</span><span>&#34;a&#34;</span><span>,</span> <span>&#34;b&#34;</span><span>,</span> <span>&#34;c&#34;</span><span>]</span>
<span>y</span> <span>=</span> <span>[</span><span>10</span><span>,</span> <span>20</span><span>,</span> <span>15</span><span>]</span>
<span>color</span> <span>=</span> <span>[</span><span>&#39;C0&#39;</span><span>,</span> <span>&#39;C1&#39;</span><span>,</span> <span>&#39;C2&#39;</span><span>]</span>

<span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>()</span>
<span>ax</span><span>.</span><span>bar</span><span>(</span><span>x</span><span>,</span> <span>y</span><span>,</span> <span>color</span><span>=</span><span>color</span><span>,</span> <span>label</span><span>=</span><span>x</span><span>)</span>
<span>ax</span><span>.</span><span>legend</span><span>()</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-7.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-7.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-7.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-7.png"/>
</figure>
</section>
<section id="new-style-format-string-for-colorbar-ticks">
<h3><a href="#id17" role="doc-backlink">New style format string for colorbar ticks</a><a href="#new-style-format-string-for-colorbar-ticks" title="Permalink to this heading">#</a></h3>
<p>The <em>format</em> argument of <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.colorbar" title="matplotlib.figure.Figure.colorbar"><code><span>colorbar</span></code></a> (and other colorbar methods) now
accepts <code><span>{}</span></code>-style format strings.</p>
<div><div><pre><span></span><span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>()</span>
<span>im</span> <span>=</span> <span>ax</span><span>.</span><span>imshow</span><span>(</span><span>z</span><span>)</span>
<span>fig</span><span>.</span><span>colorbar</span><span>(</span><span>im</span><span>,</span> <span>format</span><span>=</span><span>&#39;</span><span>{x:.2e}</span><span>&#39;</span><span>)</span>  <span># Instead of &#39;%.2e&#39;</span>
</pre></div>
</div>
</section>
<section id="linestyles-for-negative-contours-may-be-set-individually">
<h3><a href="#id18" role="doc-backlink">Linestyles for negative contours may be set individually</a><a href="#linestyles-for-negative-contours-may-be-set-individually" title="Permalink to this heading">#</a></h3>
<p>The line style of negative contours may be set by passing the
<em>negative_linestyles</em> argument to <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.contour.html#matplotlib.axes.Axes.contour" title="matplotlib.axes.Axes.contour"><code><span>Axes.contour</span></code></a>. Previously, this style could
only be set globally via <code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=contour.negative_linestyles#matplotlibrc-sample"><span><span>rcParams[&#34;contour.negative_linestyles&#34;]</span></span></a></code>.</p>
<div><div><pre><span></span><span>delta</span> <span>=</span> <span>0.025</span>
<span>x</span> <span>=</span> <span>np</span><span>.</span><span>arange</span><span>(</span><span>-</span><span>3.0</span><span>,</span> <span>3.0</span><span>,</span> <span>delta</span><span>)</span>
<span>y</span> <span>=</span> <span>np</span><span>.</span><span>arange</span><span>(</span><span>-</span><span>2.0</span><span>,</span> <span>2.0</span><span>,</span> <span>delta</span><span>)</span>
<span>X</span><span>,</span> <span>Y</span> <span>=</span> <span>np</span><span>.</span><span>meshgrid</span><span>(</span><span>x</span><span>,</span> <span>y</span><span>)</span>
<span>Z1</span> <span>=</span> <span>np</span><span>.</span><span>exp</span><span>(</span><span>-</span><span>X</span><span>**</span><span>2</span> <span>-</span> <span>Y</span><span>**</span><span>2</span><span>)</span>
<span>Z2</span> <span>=</span> <span>np</span><span>.</span><span>exp</span><span>(</span><span>-</span><span>(</span><span>X</span> <span>-</span> <span>1</span><span>)</span><span>**</span><span>2</span> <span>-</span> <span>(</span><span>Y</span> <span>-</span> <span>1</span><span>)</span><span>**</span><span>2</span><span>)</span>
<span>Z</span> <span>=</span> <span>(</span><span>Z1</span> <span>-</span> <span>Z2</span><span>)</span> <span>*</span> <span>2</span>

<span>fig</span><span>,</span> <span>axs</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span>

<span>CS</span> <span>=</span> <span>axs</span><span>[</span><span>0</span><span>]</span><span>.</span><span>contour</span><span>(</span><span>X</span><span>,</span> <span>Y</span><span>,</span> <span>Z</span><span>,</span> <span>6</span><span>,</span> <span>colors</span><span>=</span><span>&#39;k&#39;</span><span>)</span>
<span>axs</span><span>[</span><span>0</span><span>]</span><span>.</span><span>clabel</span><span>(</span><span>CS</span><span>,</span> <span>fontsize</span><span>=</span><span>9</span><span>,</span> <span>inline</span><span>=</span><span>True</span><span>)</span>
<span>axs</span><span>[</span><span>0</span><span>]</span><span>.</span><span>set_title</span><span>(</span><span>&#39;Default negative contours&#39;</span><span>)</span>

<span>CS</span> <span>=</span> <span>axs</span><span>[</span><span>1</span><span>]</span><span>.</span><span>contour</span><span>(</span><span>X</span><span>,</span> <span>Y</span><span>,</span> <span>Z</span><span>,</span> <span>6</span><span>,</span> <span>colors</span><span>=</span><span>&#39;k&#39;</span><span>,</span> <span>negative_linestyles</span><span>=</span><span>&#39;dotted&#39;</span><span>)</span>
<span>axs</span><span>[</span><span>1</span><span>]</span><span>.</span><span>clabel</span><span>(</span><span>CS</span><span>,</span> <span>fontsize</span><span>=</span><span>9</span><span>,</span> <span>inline</span><span>=</span><span>True</span><span>)</span>
<span>axs</span><span>[</span><span>1</span><span>]</span><span>.</span><span>set_title</span><span>(</span><span>&#39;Dotted negative contours&#39;</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-8.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-8.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-8.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-8.png"/>
</figure>
</section>
<section id="improved-quad-contour-calculations-via-contourpy">
<h3><a href="#id19" role="doc-backlink">Improved quad contour calculations via ContourPy</a><a href="#improved-quad-contour-calculations-via-contourpy" title="Permalink to this heading">#</a></h3>
<p>The contouring functions <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.contour.html#matplotlib.axes.Axes.contour" title="matplotlib.axes.Axes.contour"><code><span>contour</span></code></a> and <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.contourf.html#matplotlib.axes.Axes.contourf" title="matplotlib.axes.Axes.contourf"><code><span>contourf</span></code></a> have
a new keyword argument <em>algorithm</em> to control which algorithm is used to
calculate the contours. There is a choice of four algorithms to use, and the
default is to use <code><span>algorithm=&#39;mpl2014&#39;</span></code> which is the same algorithm that
Matplotlib has been using since 2014.</p>
<p>Previously Matplotlib shipped its own C++ code for calculating the contours of
quad grids. Now the external library <a href="https://github.com/contourpy/contourpy">ContourPy</a> is used instead.</p>
<p>Other possible values of the <em>algorithm</em> keyword argument at this time are
<code><span>&#39;mpl2005&#39;</span></code>, <code><span>&#39;serial&#39;</span></code> and <code><span>&#39;threaded&#39;</span></code>; see the <a href="https://contourpy.readthedocs.io">ContourPy
documentation</a> for further details.</p>
<div>
<p>Note</p>
<p>Contour lines and polygons produced by <code><span>algorithm=&#39;mpl2014&#39;</span></code> will be the
same as those produced before this change to within floating-point
tolerance. The exception is for duplicate points, i.e. contours containing
adjacent (x, y) points that are identical; previously the duplicate points
were removed, now they are kept. Contours affected by this will produce the
same visual output, but there will be a greater number of points in the
contours.</p>
<p>The locations of contour labels obtained by using <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.clabel.html#matplotlib.axes.Axes.clabel" title="matplotlib.axes.Axes.clabel"><code><span>clabel</span></code></a> may
also be different.</p>
</div>
</section>
<section id="errorbar-supports-markerfacecoloralt">
<h3><a href="#id20" role="doc-backlink"><code><span>errorbar</span></code> supports <em>markerfacecoloralt</em></a><a href="#errorbar-supports-markerfacecoloralt" title="Permalink to this heading">#</a></h3>
<p>The <em>markerfacecoloralt</em> parameter is now passed to the line plotter from
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.errorbar.html#matplotlib.axes.Axes.errorbar" title="matplotlib.axes.Axes.errorbar"><code><span>Axes.errorbar</span></code></a>. The documentation now accurately lists which properties are
passed to <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><code><span>Line2D</span></code></a>, rather than claiming that all keyword arguments are passed
on.</p>
<div><div><pre><span></span><span>x</span> <span>=</span> <span>np</span><span>.</span><span>arange</span><span>(</span><span>0.1</span><span>,</span> <span>4</span><span>,</span> <span>0.5</span><span>)</span>
<span>y</span> <span>=</span> <span>np</span><span>.</span><span>exp</span><span>(</span><span>-</span><span>x</span><span>)</span>

<span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>()</span>
<span>ax</span><span>.</span><span>errorbar</span><span>(</span><span>x</span><span>,</span> <span>y</span><span>,</span> <span>xerr</span><span>=</span><span>0.2</span><span>,</span> <span>yerr</span><span>=</span><span>0.4</span><span>,</span>
            <span>linestyle</span><span>=</span><span>&#39;:&#39;</span><span>,</span> <span>color</span><span>=</span><span>&#39;darkgrey&#39;</span><span>,</span>
            <span>marker</span><span>=</span><span>&#39;o&#39;</span><span>,</span> <span>markersize</span><span>=</span><span>20</span><span>,</span> <span>fillstyle</span><span>=</span><span>&#39;left&#39;</span><span>,</span>
            <span>markerfacecolor</span><span>=</span><span>&#39;tab:blue&#39;</span><span>,</span> <span>markerfacecoloralt</span><span>=</span><span>&#39;tab:orange&#39;</span><span>,</span>
            <span>markeredgecolor</span><span>=</span><span>&#39;tab:brown&#39;</span><span>,</span> <span>markeredgewidth</span><span>=</span><span>2</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-9.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-9.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-9.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-9.png"/>
</figure>
</section>
<section id="streamplot-can-disable-streamline-breaks">
<h3><a href="#id21" role="doc-backlink"><code><span>streamplot</span></code> can disable streamline breaks</a><a href="#streamplot-can-disable-streamline-breaks" title="Permalink to this heading">#</a></h3>
<p>It is now possible to specify that streamplots have continuous, unbroken
streamlines. Previously streamlines would end to limit the number of lines
within a single grid cell. See the difference between the plots below:</p>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-10.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-10.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-10.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-10.png"/>
</figure>
</section>
<section id="new-axis-scale-asinh-experimental">
<h3><a href="#id22" role="doc-backlink">New axis scale <code><span>asinh</span></code> (experimental)</a><a href="#new-axis-scale-asinh-experimental" title="Permalink to this heading">#</a></h3>
<p>The new <code><span>asinh</span></code> axis scale offers an alternative to <code><span>symlog</span></code> that smoothly
transitions between the quasi-linear and asymptotically logarithmic regions of
the scale. This is based on an arcsinh transformation that allows plotting both
positive and negative values that span many orders of magnitude.</p>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-11.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-11.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-11.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-11.png"/>
</figure>
</section>
<section id="stairs-fill-true-hides-patch-edge-by-setting-linewidth">
<h3><a href="#id23" role="doc-backlink"><code><span>stairs(...,</span> <span>fill=True)</span></code> hides patch edge by setting linewidth</a><a href="#stairs-fill-true-hides-patch-edge-by-setting-linewidth" title="Permalink to this heading">#</a></h3>
<p><code><span>stairs(...,</span> <span>fill=True)</span></code> would previously hide Patch edges by setting
<code><span>edgecolor=&#34;none&#34;</span></code>. Consequently, calling <code><span>set_color()</span></code> on the Patch later
would make the Patch appear larger.</p>
<p>Now, by using <code><span>linewidth=0</span></code>, this apparent size change is prevented. Likewise
calling <code><span>stairs(...,</span> <span>fill=True,</span> <span>linewidth=3)</span></code> will behave more transparently.</p>
</section>
<section id="fix-the-dash-offset-of-the-patch-class">
<h3><a href="#id24" role="doc-backlink">Fix the dash offset of the Patch class</a><a href="#fix-the-dash-offset-of-the-patch-class" title="Permalink to this heading">#</a></h3>
<p>Formerly, when setting the line style on a <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.patches.Patch.html#matplotlib.patches.Patch" title="matplotlib.patches.Patch"><code><span>Patch</span></code></a> object using a dash tuple,
the offset was ignored. Now the offset is applied to the Patch as expected and
it can be used as it is used with <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><code><span>Line2D</span></code></a> objects.</p>
</section>
<section id="rectangle-patch-rotation-point">
<h3><a href="#id25" role="doc-backlink">Rectangle patch rotation point</a><a href="#rectangle-patch-rotation-point" title="Permalink to this heading">#</a></h3>
<p>The rotation point of the <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.patches.Rectangle.html#matplotlib.patches.Rectangle" title="matplotlib.patches.Rectangle"><code><span>Rectangle</span></code></a> can now be set to
&#39;xy&#39;, &#39;center&#39; or a 2-tuple of numbers using the <em>rotation_point</em> argument.</p>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-12.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-12.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-12.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-12.png"/>
</figure>
</section>
</section>
<section id="colors-and-colormaps">
<h2><a href="#id26" role="doc-backlink">Colors and colormaps</a><a href="#colors-and-colormaps" title="Permalink to this heading">#</a></h2>
<section id="color-sequence-registry">
<h3><a href="#id27" role="doc-backlink">Color sequence registry</a><a href="#color-sequence-registry" title="Permalink to this heading">#</a></h3>
<p>The color sequence registry, <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.ColorSequenceRegistry.html#matplotlib.colors.ColorSequenceRegistry" title="matplotlib.colors.ColorSequenceRegistry"><code><span>ColorSequenceRegistry</span></code></a>, contains sequences
(i.e., simple lists) of colors that are known to Matplotlib by name. This will
not normally be used directly, but through the universal instance at
<a href="https://matplotlib.org/stable/api/matplotlib_configuration_api.html#matplotlib.color_sequences" title="matplotlib.color_sequences"><code><span>matplotlib.color_sequences</span></code></a>.</p>
</section>
<section id="colormap-method-for-creating-a-different-lookup-table-size">
<h3><a href="#id28" role="doc-backlink">Colormap method for creating a different lookup table size</a><a href="#colormap-method-for-creating-a-different-lookup-table-size" title="Permalink to this heading">#</a></h3>
<p>The new method <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap.resampled" title="matplotlib.colors.Colormap.resampled"><code><span>Colormap.resampled</span></code></a> creates a new <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap" title="matplotlib.colors.Colormap"><code><span>Colormap</span></code></a> instance
with the specified lookup table size. This is a replacement for manipulating
the lookup table size via <code><span>get_cmap</span></code>.</p>
<p>Use:</p>
<div><div><pre><span></span><span>get_cmap</span><span>(</span><span>name</span><span>)</span><span>.</span><span>resampled</span><span>(</span><span>N</span><span>)</span>
</pre></div>
</div>
<p>instead of:</p>

</section>
<section id="setting-norms-with-strings">
<h3><a href="#id29" role="doc-backlink">Setting norms with strings</a><a href="#setting-norms-with-strings" title="Permalink to this heading">#</a></h3>
<p>Norms can now be set (e.g. on images) using the string name of the
corresponding scale, e.g. <code><span>imshow(array,</span> <span>norm=&#34;log&#34;)</span></code>. Note that in that
case, it is permissible to also pass <em>vmin</em> and <em>vmax</em>, as a new Norm instance
will be created under the hood.</p>
</section>
</section>
<section id="titles-ticks-and-labels">
<h2><a href="#id30" role="doc-backlink">Titles, ticks, and labels</a><a href="#titles-ticks-and-labels" title="Permalink to this heading">#</a></h2>
<section id="plt-xticks-and-plt-yticks-support-minor-keyword-argument">
<h3><a href="#id31" role="doc-backlink"><code><span>plt.xticks</span></code> and <code><span>plt.yticks</span></code> support <em>minor</em> keyword argument</a><a href="#plt-xticks-and-plt-yticks-support-minor-keyword-argument" title="Permalink to this heading">#</a></h3>
<p>It is now possible to set or get minor ticks using <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.xticks.html#matplotlib.pyplot.xticks" title="matplotlib.pyplot.xticks"><code><span>pyplot.xticks</span></code></a> and
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.yticks.html#matplotlib.pyplot.yticks" title="matplotlib.pyplot.yticks"><code><span>pyplot.yticks</span></code></a> by setting <code><span>minor=True</span></code>.</p>
<div><div><pre><span></span><span>plt</span><span>.</span><span>figure</span><span>()</span>
<span>plt</span><span>.</span><span>plot</span><span>([</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>3.5</span><span>],</span> <span>[</span><span>2</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>-</span><span>0.5</span><span>])</span>
<span>plt</span><span>.</span><span>xticks</span><span>([</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>],</span> <span>[</span><span>&#34;One&#34;</span><span>,</span> <span>&#34;Zwei&#34;</span><span>,</span> <span>&#34;Trois&#34;</span><span>])</span>
<span>plt</span><span>.</span><span>xticks</span><span>([</span><span>np</span><span>.</span><span>sqrt</span><span>(</span><span>2</span><span>),</span> <span>2.5</span><span>,</span> <span>np</span><span>.</span><span>pi</span><span>],</span>
           <span>[</span><span>r</span><span>&#34;$\sqrt</span><span>{2}</span><span>$&#34;</span><span>,</span> <span>r</span><span>&#34;$\frac</span><span>{5}{2}</span><span>$&#34;</span><span>,</span> <span>r</span><span>&#34;$\pi$&#34;</span><span>],</span> <span>minor</span><span>=</span><span>True</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-13.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-13.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-13.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-13.png"/>
</figure>
</section>
</section>

<section id="markers">
<h2><a href="#id35" role="doc-backlink">Markers</a><a href="#markers" title="Permalink to this heading">#</a></h2>
<section id="marker-can-now-be-set-to-the-string-none">
<h3><a href="#id36" role="doc-backlink"><code><span>marker</span></code> can now be set to the string &#34;none&#34;</a><a href="#marker-can-now-be-set-to-the-string-none" title="Permalink to this heading">#</a></h3>
<p>The string &#34;none&#34; means <em>no-marker</em>, consistent with other APIs which support
the lowercase version. Using &#34;none&#34; is recommended over using &#34;None&#34;, to avoid
confusion with the None object.</p>
</section>
<section id="customization-of-markerstyle-join-and-cap-style">
<h3><a href="#id37" role="doc-backlink">Customization of <code><span>MarkerStyle</span></code> join and cap style</a><a href="#customization-of-markerstyle-join-and-cap-style" title="Permalink to this heading">#</a></h3>
<p>New <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.markers.MarkerStyle.html#matplotlib.markers.MarkerStyle" title="matplotlib.markers.MarkerStyle"><code><span>MarkerStyle</span></code></a> parameters allow control of join style and cap style, and
for the user to supply a transformation to be applied to the marker (e.g. a
rotation).</p>
<div><div><pre><span></span><span>from</span> <span>matplotlib.markers</span> <span>import</span> <span>CapStyle</span><span>,</span> <span>JoinStyle</span><span>,</span> <span>MarkerStyle</span>
<span>from</span> <span>matplotlib.transforms</span> <span>import</span> <span>Affine2D</span>

<span>fig</span><span>,</span> <span>axs</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>3</span><span>,</span> <span>1</span><span>,</span> <span>layout</span><span>=</span><span>&#39;constrained&#39;</span><span>)</span>
<span>for</span> <span>ax</span> <span>in</span> <span>axs</span><span>:</span>
    <span>ax</span><span>.</span><span>axis</span><span>(</span><span>&#39;off&#39;</span><span>)</span>
    <span>ax</span><span>.</span><span>set_xlim</span><span>(</span><span>-</span><span>0.5</span><span>,</span> <span>2.5</span><span>)</span>

<span>axs</span><span>[</span><span>0</span><span>]</span><span>.</span><span>set_title</span><span>(</span><span>&#39;Cap styles&#39;</span><span>,</span> <span>fontsize</span><span>=</span><span>14</span><span>)</span>
<span>for</span> <span>col</span><span>,</span> <span>cap</span> <span>in</span> <span>enumerate</span><span>(</span><span>CapStyle</span><span>):</span>
    <span>axs</span><span>[</span><span>0</span><span>]</span><span>.</span><span>plot</span><span>(</span><span>col</span><span>,</span> <span>0</span><span>,</span> <span>markersize</span><span>=</span><span>32</span><span>,</span> <span>markeredgewidth</span><span>=</span><span>8</span><span>,</span>
                <span>marker</span><span>=</span><span>MarkerStyle</span><span>(</span><span>&#39;1&#39;</span><span>,</span> <span>capstyle</span><span>=</span><span>cap</span><span>))</span>
    <span># Show the marker edge for comparison with the cap.</span>
    <span>axs</span><span>[</span><span>0</span><span>]</span><span>.</span><span>plot</span><span>(</span><span>col</span><span>,</span> <span>0</span><span>,</span> <span>markersize</span><span>=</span><span>32</span><span>,</span> <span>markeredgewidth</span><span>=</span><span>1</span><span>,</span>
                <span>markerfacecolor</span><span>=</span><span>&#39;none&#39;</span><span>,</span> <span>markeredgecolor</span><span>=</span><span>&#39;lightgrey&#39;</span><span>,</span>
                <span>marker</span><span>=</span><span>MarkerStyle</span><span>(</span><span>&#39;1&#39;</span><span>))</span>
    <span>axs</span><span>[</span><span>0</span><span>]</span><span>.</span><span>annotate</span><span>(</span><span>cap</span><span>.</span><span>name</span><span>,</span> <span>(</span><span>col</span><span>,</span> <span>0</span><span>),</span>
                    <span>xytext</span><span>=</span><span>(</span><span>20</span><span>,</span> <span>-</span><span>5</span><span>),</span> <span>textcoords</span><span>=</span><span>&#39;offset points&#39;</span><span>)</span>

<span>axs</span><span>[</span><span>1</span><span>]</span><span>.</span><span>set_title</span><span>(</span><span>&#39;Join styles&#39;</span><span>,</span> <span>fontsize</span><span>=</span><span>14</span><span>)</span>
<span>for</span> <span>col</span><span>,</span> <span>join</span> <span>in</span> <span>enumerate</span><span>(</span><span>JoinStyle</span><span>):</span>
    <span>axs</span><span>[</span><span>1</span><span>]</span><span>.</span><span>plot</span><span>(</span><span>col</span><span>,</span> <span>0</span><span>,</span> <span>markersize</span><span>=</span><span>32</span><span>,</span> <span>markeredgewidth</span><span>=</span><span>8</span><span>,</span>
                <span>marker</span><span>=</span><span>MarkerStyle</span><span>(</span><span>&#39;*&#39;</span><span>,</span> <span>joinstyle</span><span>=</span><span>join</span><span>))</span>
    <span># Show the marker edge for comparison with the join.</span>
    <span>axs</span><span>[</span><span>1</span><span>]</span><span>.</span><span>plot</span><span>(</span><span>col</span><span>,</span> <span>0</span><span>,</span> <span>markersize</span><span>=</span><span>32</span><span>,</span> <span>markeredgewidth</span><span>=</span><span>1</span><span>,</span>
                <span>markerfacecolor</span><span>=</span><span>&#39;none&#39;</span><span>,</span> <span>markeredgecolor</span><span>=</span><span>&#39;lightgrey&#39;</span><span>,</span>
                <span>marker</span><span>=</span><span>MarkerStyle</span><span>(</span><span>&#39;*&#39;</span><span>))</span>
    <span>axs</span><span>[</span><span>1</span><span>]</span><span>.</span><span>annotate</span><span>(</span><span>join</span><span>.</span><span>name</span><span>,</span> <span>(</span><span>col</span><span>,</span> <span>0</span><span>),</span>
                    <span>xytext</span><span>=</span><span>(</span><span>20</span><span>,</span> <span>-</span><span>5</span><span>),</span> <span>textcoords</span><span>=</span><span>&#39;offset points&#39;</span><span>)</span>

<span>axs</span><span>[</span><span>2</span><span>]</span><span>.</span><span>set_title</span><span>(</span><span>&#39;Arbitrary transforms&#39;</span><span>,</span> <span>fontsize</span><span>=</span><span>14</span><span>)</span>
<span>for</span> <span>col</span><span>,</span> <span>(</span><span>size</span><span>,</span> <span>rot</span><span>)</span> <span>in</span> <span>enumerate</span><span>(</span><span>zip</span><span>([</span><span>2</span><span>,</span> <span>5</span><span>,</span> <span>7</span><span>],</span> <span>[</span><span>0</span><span>,</span> <span>45</span><span>,</span> <span>90</span><span>])):</span>
    <span>t</span> <span>=</span> <span>Affine2D</span><span>()</span><span>.</span><span>rotate_deg</span><span>(</span><span>rot</span><span>)</span><span>.</span><span>scale</span><span>(</span><span>size</span><span>)</span>
    <span>axs</span><span>[</span><span>2</span><span>]</span><span>.</span><span>plot</span><span>(</span><span>col</span><span>,</span> <span>0</span><span>,</span> <span>marker</span><span>=</span><span>MarkerStyle</span><span>(</span><span>&#39;*&#39;</span><span>,</span> <span>transform</span><span>=</span><span>t</span><span>))</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-15.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-15.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-15.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-15.png"/>
</figure>
</section>
</section>
<section id="fonts-and-text">
<h2><a href="#id38" role="doc-backlink">Fonts and Text</a><a href="#fonts-and-text" title="Permalink to this heading">#</a></h2>
<section id="font-fallback">
<h3><a href="#id39" role="doc-backlink">Font fallback</a><a href="#font-fallback" title="Permalink to this heading">#</a></h3>
<p>It is now possible to specify a list of fonts families and Matplotlib will try
them in order to locate a required glyph.</p>
<div><div><pre><span></span><span>plt</span><span>.</span><span>rcParams</span><span>[</span><span>&#34;font.size&#34;</span><span>]</span> <span>=</span> <span>20</span>
<span>fig</span> <span>=</span> <span>plt</span><span>.</span><span>figure</span><span>(</span><span>figsize</span><span>=</span><span>(</span><span>4.75</span><span>,</span> <span>1.85</span><span>))</span>

<span>text</span> <span>=</span> <span>&#34;There are 几个汉字 in between!&#34;</span>
<span>fig</span><span>.</span><span>text</span><span>(</span><span>0.05</span><span>,</span> <span>0.85</span><span>,</span> <span>text</span><span>,</span> <span>family</span><span>=</span><span>[</span><span>&#34;WenQuanYi Zen Hei&#34;</span><span>])</span>
<span>fig</span><span>.</span><span>text</span><span>(</span><span>0.05</span><span>,</span> <span>0.65</span><span>,</span> <span>text</span><span>,</span> <span>family</span><span>=</span><span>[</span><span>&#34;Noto Sans CJK JP&#34;</span><span>])</span>
<span>fig</span><span>.</span><span>text</span><span>(</span><span>0.05</span><span>,</span> <span>0.45</span><span>,</span> <span>text</span><span>,</span> <span>family</span><span>=</span><span>[</span><span>&#34;DejaVu Sans&#34;</span><span>,</span> <span>&#34;Noto Sans CJK JP&#34;</span><span>])</span>
<span>fig</span><span>.</span><span>text</span><span>(</span><span>0.05</span><span>,</span> <span>0.25</span><span>,</span> <span>text</span><span>,</span> <span>family</span><span>=</span><span>[</span><span>&#34;DejaVu Sans&#34;</span><span>,</span> <span>&#34;WenQuanYi Zen Hei&#34;</span><span>])</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-16.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-16.png">png</a>)</p>
<figure id="id1">
<img alt="The phrase &#34;There are 几个汉字 in between!&#34; rendered in various fonts." src="https://matplotlib.org/stable/_images/whats_new_3-6-0-16.png"/>
<figcaption>
<p><span>Demonstration of mixed English and Chinese text with font fallback.</span><a href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>This currently works with the Agg (and all of the GUI embeddings), svg, pdf,
ps, and inline backends.</p>
</section>
<section id="list-of-available-font-names">
<h3><a href="#id40" role="doc-backlink">List of available font names</a><a href="#list-of-available-font-names" title="Permalink to this heading">#</a></h3>
<p>The list of available fonts are now easily accessible. To get a list of the
available font names in Matplotlib use:</p>
<div><div><pre><span></span><span>from</span> <span>matplotlib</span> <span>import</span> <span>font_manager</span>
<span>font_manager</span><span>.</span><span>get_font_names</span><span>()</span>
</pre></div>
</div>
</section>
<section id="math-to-image-now-has-a-color-keyword-argument">
<h3><a href="#id41" role="doc-backlink"><code><span>math_to_image</span></code> now has a <em>color</em> keyword argument</a><a href="#math-to-image-now-has-a-color-keyword-argument" title="Permalink to this heading">#</a></h3>
<p>To easily support external libraries that rely on the MathText rendering of
Matplotlib to generate equation images, a <em>color</em> keyword argument was added to
<a href="https://matplotlib.org/stable/api/mathtext_api.html#matplotlib.mathtext.math_to_image" title="matplotlib.mathtext.math_to_image"><code><span>math_to_image</span></code></a>.</p>
<div><div><pre><span></span><span>from</span> <span>matplotlib</span> <span>import</span> <span>mathtext</span>
<span>mathtext</span><span>.</span><span>math_to_image</span><span>(</span><span>&#39;$x^2$&#39;</span><span>,</span> <span>&#39;filename.png&#39;</span><span>,</span> <span>color</span><span>=</span><span>&#39;Maroon&#39;</span><span>)</span>
</pre></div>
</div>
</section>
<section id="active-url-area-rotates-with-link-text">
<h3><a href="#id42" role="doc-backlink">Active URL area rotates with link text</a><a href="#active-url-area-rotates-with-link-text" title="Permalink to this heading">#</a></h3>
<p>When link text is rotated in a figure, the active URL area will now include the
rotated link area. Previously, the active area remained in the original,
non-rotated, position.</p>
</section>
</section>
<section id="rcparams-improvements">
<h2><a href="#id43" role="doc-backlink">rcParams improvements</a><a href="#rcparams-improvements" title="Permalink to this heading">#</a></h2>
<section id="allow-setting-figure-label-size-and-weight-globally-and-separately-from-title">
<h3><a href="#id44" role="doc-backlink">Allow setting figure label size and weight globally and separately from title</a><a href="#allow-setting-figure-label-size-and-weight-globally-and-separately-from-title" title="Permalink to this heading">#</a></h3>
<p>For figure labels, <code><span>Figure.supxlabel</span></code> and <code><span>Figure.supylabel</span></code>, the size and
weight can be set separately from the figure title using <code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=figure.labelsize#matplotlibrc-sample"><span><span>rcParams[&#34;figure.labelsize&#34;]</span></span></a></code> (default: <code><span>&#39;large&#39;</span></code>)
and <code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=figure.labelweight#matplotlibrc-sample"><span><span>rcParams[&#34;figure.labelweight&#34;]</span></span></a></code> (default: <code><span>&#39;normal&#39;</span></code>).</p>
<div><div><pre><span></span><span># Original (previously combined with below) rcParams:</span>
<span>plt</span><span>.</span><span>rcParams</span><span>[</span><span>&#39;figure.titlesize&#39;</span><span>]</span> <span>=</span> <span>64</span>
<span>plt</span><span>.</span><span>rcParams</span><span>[</span><span>&#39;figure.titleweight&#39;</span><span>]</span> <span>=</span> <span>&#39;bold&#39;</span>

<span># New rcParams:</span>
<span>plt</span><span>.</span><span>rcParams</span><span>[</span><span>&#39;figure.labelsize&#39;</span><span>]</span> <span>=</span> <span>32</span>
<span>plt</span><span>.</span><span>rcParams</span><span>[</span><span>&#39;figure.labelweight&#39;</span><span>]</span> <span>=</span> <span>&#39;bold&#39;</span>

<span>fig</span><span>,</span> <span>axs</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>2</span><span>,</span> <span>2</span><span>,</span> <span>layout</span><span>=</span><span>&#39;constrained&#39;</span><span>)</span>
<span>for</span> <span>ax</span> <span>in</span> <span>axs</span><span>.</span><span>flat</span><span>:</span>
    <span>ax</span><span>.</span><span>set</span><span>(</span><span>xlabel</span><span>=</span><span>&#39;xlabel&#39;</span><span>,</span> <span>ylabel</span><span>=</span><span>&#39;ylabel&#39;</span><span>)</span>

<span>fig</span><span>.</span><span>suptitle</span><span>(</span><span>&#39;suptitle&#39;</span><span>)</span>
<span>fig</span><span>.</span><span>supxlabel</span><span>(</span><span>&#39;supxlabel&#39;</span><span>)</span>
<span>fig</span><span>.</span><span>supylabel</span><span>(</span><span>&#39;supylabel&#39;</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-17.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-17.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-17.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-17.png"/>
</figure>
<p>Note that if you have changed <code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=figure.titlesize#matplotlibrc-sample"><span><span>rcParams[&#34;figure.titlesize&#34;]</span></span></a></code> (default: <code><span>&#39;large&#39;</span></code>) or
<code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=figure.titleweight#matplotlibrc-sample"><span><span>rcParams[&#34;figure.titleweight&#34;]</span></span></a></code> (default: <code><span>&#39;normal&#39;</span></code>), you must now also change the introduced parameters
for a result consistent with past behaviour.</p>
</section>
<section id="mathtext-parsing-can-be-disabled-globally">
<h3><a href="#id45" role="doc-backlink">Mathtext parsing can be disabled globally</a><a href="#mathtext-parsing-can-be-disabled-globally" title="Permalink to this heading">#</a></h3>
<p>The <code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=text.parse_math#matplotlibrc-sample"><span><span>rcParams[&#34;text.parse_math&#34;]</span></span></a></code> (default: <code><span>True</span></code>) setting may be used to disable parsing of mathtext in
all <a href="https://matplotlib.org/stable/api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code><span>Text</span></code></a> objects (most notably from the <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.text.html#matplotlib.axes.Axes.text" title="matplotlib.axes.Axes.text"><code><span>Axes.text</span></code></a> method).</p>
</section>
<section id="double-quoted-strings-in-matplotlibrc">
<h3><a href="#id46" role="doc-backlink">Double-quoted strings in matplotlibrc</a><a href="#double-quoted-strings-in-matplotlibrc" title="Permalink to this heading">#</a></h3>
<p>You can now use double-quotes around strings. This allows using the &#39;#&#39;
character in strings. Without quotes, &#39;#&#39; is interpreted as start of a comment.
In particular, you can now define hex-colors:</p>

</section>
</section>
<section id="d-axes-improvements">
<h2><a href="#id47" role="doc-backlink">3D Axes improvements</a><a href="#d-axes-improvements" title="Permalink to this heading">#</a></h2>
<section id="standardized-views-for-primary-plane-viewing-angles">
<h3><a href="#id48" role="doc-backlink">Standardized views for primary plane viewing angles</a><a href="#standardized-views-for-primary-plane-viewing-angles" title="Permalink to this heading">#</a></h3>
<p>When viewing a 3D plot in one of the primary view planes (i.e., perpendicular
to the XY, XZ, or YZ planes), the Axis will be displayed in a standard
location. For further information on 3D views, see
<a href="https://matplotlib.org/stable/api/toolkits/mplot3d/view_angles.html#toolkit-mplot3d-view-angles"><span>mplot3d View Angles</span></a> and <a href="https://matplotlib.org/stable/gallery/mplot3d/view_planes_3d.html"><span>Primary 3D view planes</span></a>.</p>
</section>
<section id="custom-focal-length-for-3d-camera">
<h3><a href="#id49" role="doc-backlink">Custom focal length for 3D camera</a><a href="#custom-focal-length-for-3d-camera" title="Permalink to this heading">#</a></h3>
<p>The 3D Axes can now better mimic real-world cameras by specifying the focal
length of the virtual camera. The default focal length of 1 corresponds to a
Field of View (FOV) of 90°, and is backwards-compatible with existing 3D plots.
An increased focal length between 1 and infinity &#34;flattens&#34; the image, while a
decreased focal length between 1 and 0 exaggerates the perspective and gives
the image more apparent depth.</p>
<p>The focal length can be calculated from a desired FOV via the equation:</p>
<img src="https://matplotlib.org/stable/_images/mathmpl/math-f32767abbd.png" srcset="../../_images/mathmpl/math-f32767abbd.png, ../../_images/mathmpl/math-f32767abbd-2x.png 2x"/><div><div><pre><span></span><span>from</span> <span>mpl_toolkits.mplot3d</span> <span>import</span> <span>axes3d</span>

<span>X</span><span>,</span> <span>Y</span><span>,</span> <span>Z</span> <span>=</span> <span>axes3d</span><span>.</span><span>get_test_data</span><span>(</span><span>0.05</span><span>)</span>

<span>fig</span><span>,</span> <span>axs</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>1</span><span>,</span> <span>3</span><span>,</span> <span>figsize</span><span>=</span><span>(</span><span>7</span><span>,</span> <span>4</span><span>),</span>
                        <span>subplot_kw</span><span>=</span><span>{</span><span>&#39;projection&#39;</span><span>:</span> <span>&#39;3d&#39;</span><span>})</span>

<span>for</span> <span>ax</span><span>,</span> <span>focal_length</span> <span>in</span> <span>zip</span><span>(</span><span>axs</span><span>,</span> <span>[</span><span>0.2</span><span>,</span> <span>1</span><span>,</span> <span>np</span><span>.</span><span>inf</span><span>]):</span>
    <span>ax</span><span>.</span><span>plot_wireframe</span><span>(</span><span>X</span><span>,</span> <span>Y</span><span>,</span> <span>Z</span><span>,</span> <span>rstride</span><span>=</span><span>10</span><span>,</span> <span>cstride</span><span>=</span><span>10</span><span>)</span>
    <span>ax</span><span>.</span><span>set_proj_type</span><span>(</span><span>&#39;persp&#39;</span><span>,</span> <span>focal_length</span><span>=</span><span>focal_length</span><span>)</span>
    <span>ax</span><span>.</span><span>set_title</span><span>(</span><span>f</span><span>&#34;</span><span>{</span><span>focal_length</span><span>=}</span><span>&#34;</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-18.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-18.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-18.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-18.png"/>
</figure>
</section>
<section id="d-plots-gained-a-3rd-roll-viewing-angle">
<h3><a href="#id50" role="doc-backlink">3D plots gained a 3rd &#34;roll&#34; viewing angle</a><a href="#d-plots-gained-a-3rd-roll-viewing-angle" title="Permalink to this heading">#</a></h3>
<p>3D plots can now be viewed from any orientation with the addition of a 3rd roll
angle, which rotates the plot about the viewing axis. Interactive rotation
using the mouse still only controls elevation and azimuth, meaning that this
feature is relevant to users who create more complex camera angles
programmatically. The default roll angle of 0 is backwards-compatible with
existing 3D plots.</p>
<div><div><pre><span></span><span>from</span> <span>mpl_toolkits.mplot3d</span> <span>import</span> <span>axes3d</span>

<span>X</span><span>,</span> <span>Y</span><span>,</span> <span>Z</span> <span>=</span> <span>axes3d</span><span>.</span><span>get_test_data</span><span>(</span><span>0.05</span><span>)</span>

<span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>subplot_kw</span><span>=</span><span>{</span><span>&#39;projection&#39;</span><span>:</span> <span>&#39;3d&#39;</span><span>})</span>

<span>ax</span><span>.</span><span>plot_wireframe</span><span>(</span><span>X</span><span>,</span> <span>Y</span><span>,</span> <span>Z</span><span>,</span> <span>rstride</span><span>=</span><span>10</span><span>,</span> <span>cstride</span><span>=</span><span>10</span><span>)</span>
<span>ax</span><span>.</span><span>view_init</span><span>(</span><span>elev</span><span>=</span><span>0</span><span>,</span> <span>azim</span><span>=</span><span>0</span><span>,</span> <span>roll</span><span>=</span><span>30</span><span>)</span>
<span>ax</span><span>.</span><span>set_title</span><span>(</span><span>&#39;elev=0, azim=0, roll=30&#39;</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-19.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-19.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-19.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-19.png"/>
</figure>
</section>
<section id="equal-aspect-ratio-for-3d-plots">
<h3><a href="#id51" role="doc-backlink">Equal aspect ratio for 3D plots</a><a href="#equal-aspect-ratio-for-3d-plots" title="Permalink to this heading">#</a></h3>
<p>Users can set the aspect ratio for the X, Y, Z axes of a 3D plot to be &#39;equal&#39;,
&#39;equalxy&#39;, &#39;equalxz&#39;, or &#39;equalyz&#39; rather than the default of &#39;auto&#39;.</p>
<div><div><pre><span></span><span>from</span> <span>itertools</span> <span>import</span> <span>combinations</span><span>,</span> <span>product</span>

<span>aspects</span> <span>=</span> <span>[</span>
    <span>[</span><span>&#39;auto&#39;</span><span>,</span> <span>&#39;equal&#39;</span><span>,</span> <span>&#39;.&#39;</span><span>],</span>
    <span>[</span><span>&#39;equalxy&#39;</span><span>,</span> <span>&#39;equalyz&#39;</span><span>,</span> <span>&#39;equalxz&#39;</span><span>],</span>
<span>]</span>
<span>fig</span><span>,</span> <span>axs</span> <span>=</span> <span>plt</span><span>.</span><span>subplot_mosaic</span><span>(</span><span>aspects</span><span>,</span> <span>figsize</span><span>=</span><span>(</span><span>7</span><span>,</span> <span>6</span><span>),</span>
                              <span>subplot_kw</span><span>=</span><span>{</span><span>&#39;projection&#39;</span><span>:</span> <span>&#39;3d&#39;</span><span>})</span>

<span># Draw rectangular cuboid with side lengths [1, 1, 5]</span>
<span>r</span> <span>=</span> <span>[</span><span>0</span><span>,</span> <span>1</span><span>]</span>
<span>scale</span> <span>=</span> <span>np</span><span>.</span><span>array</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>5</span><span>])</span>
<span>pts</span> <span>=</span> <span>combinations</span><span>(</span><span>np</span><span>.</span><span>array</span><span>(</span><span>list</span><span>(</span><span>product</span><span>(</span><span>r</span><span>,</span> <span>r</span><span>,</span> <span>r</span><span>))),</span> <span>2</span><span>)</span>
<span>for</span> <span>start</span><span>,</span> <span>end</span> <span>in</span> <span>pts</span><span>:</span>
    <span>if</span> <span>np</span><span>.</span><span>sum</span><span>(</span><span>np</span><span>.</span><span>abs</span><span>(</span><span>start</span> <span>-</span> <span>end</span><span>))</span> <span>==</span> <span>r</span><span>[</span><span>1</span><span>]</span> <span>-</span> <span>r</span><span>[</span><span>0</span><span>]:</span>
        <span>for</span> <span>ax</span> <span>in</span> <span>axs</span><span>.</span><span>values</span><span>():</span>
            <span>ax</span><span>.</span><span>plot3D</span><span>(</span><span>*</span><span>zip</span><span>(</span><span>start</span><span>*</span><span>scale</span><span>,</span> <span>end</span><span>*</span><span>scale</span><span>),</span> <span>color</span><span>=</span><span>&#39;C0&#39;</span><span>)</span>

<span># Set the aspect ratios</span>
<span>for</span> <span>aspect</span><span>,</span> <span>ax</span> <span>in</span> <span>axs</span><span>.</span><span>items</span><span>():</span>
    <span>ax</span><span>.</span><span>set_box_aspect</span><span>((</span><span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>))</span>
    <span>ax</span><span>.</span><span>set_aspect</span><span>(</span><span>aspect</span><span>)</span>
    <span>ax</span><span>.</span><span>set_title</span><span>(</span><span>f</span><span>&#39;set_aspect(</span><span>{</span><span>aspect</span><span>!r}</span><span>)&#39;</span><span>)</span>
</pre></div>
</div>
<p>(<a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-20.py">Source code</a>, <a href="https://matplotlib.org/stable/users/prev_whats_new/whats_new_3-6-0-20.png">png</a>)</p>
<figure>
<img alt="../../_images/whats_new_3-6-0-20.png" src="https://matplotlib.org/stable/_images/whats_new_3-6-0-20.png"/>
</figure>
</section>
</section>
<section id="interactive-tool-improvements">
<h2><a href="#id52" role="doc-backlink">Interactive tool improvements</a><a href="#interactive-tool-improvements" title="Permalink to this heading">#</a></h2>
<section id="rotation-aspect-ratio-correction-and-add-remove-state">
<h3><a href="#id53" role="doc-backlink">Rotation, aspect ratio correction and add/remove state</a><a href="#rotation-aspect-ratio-correction-and-add-remove-state" title="Permalink to this heading">#</a></h3>
<p>The <a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.RectangleSelector" title="matplotlib.widgets.RectangleSelector"><code><span>RectangleSelector</span></code></a> and <a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.EllipseSelector" title="matplotlib.widgets.EllipseSelector"><code><span>EllipseSelector</span></code></a> can now be rotated
interactively between -45° and 45°. The range limits are currently dictated by
the implementation. The rotation is enabled or disabled by striking the <em>r</em> key
(&#39;r&#39; is the default key mapped to &#39;rotate&#39; in <em>state_modifier_keys</em>) or by
calling <code><span>selector.add_state(&#39;rotate&#39;)</span></code>.</p>
<p>The aspect ratio of the axes can now be taken into account when using the
&#34;square&#34; state. This is enabled by specifying <code><span>use_data_coordinates=&#39;True&#39;</span></code>
when the selector is initialized.</p>
<p>In addition to changing selector state interactively using the modifier keys
defined in <em>state_modifier_keys</em>, the selector state can now be changed
programmatically using the <em>add_state</em> and <em>remove_state</em> methods.</p>
<div><div><pre><span></span><span>from</span> <span>matplotlib.widgets</span> <span>import</span> <span>RectangleSelector</span>

<span>values</span> <span>=</span> <span>np</span><span>.</span><span>arange</span><span>(</span><span>0</span><span>,</span> <span>100</span><span>)</span>

<span>fig</span> <span>=</span> <span>plt</span><span>.</span><span>figure</span><span>()</span>
<span>ax</span> <span>=</span> <span>fig</span><span>.</span><span>add_subplot</span><span>()</span>
<span>ax</span><span>.</span><span>plot</span><span>(</span><span>values</span><span>,</span> <span>values</span><span>)</span>

<span>selector</span> <span>=</span> <span>RectangleSelector</span><span>(</span><span>ax</span><span>,</span> <span>print</span><span>,</span> <span>interactive</span><span>=</span><span>True</span><span>,</span>
                             <span>drag_from_anywhere</span><span>=</span><span>True</span><span>,</span>
                             <span>use_data_coordinates</span><span>=</span><span>True</span><span>)</span>
<span>selector</span><span>.</span><span>add_state</span><span>(</span><span>&#39;rotate&#39;</span><span>)</span>  <span># alternatively press &#39;r&#39; key</span>
<span># rotate the selector interactively</span>

<span>selector</span><span>.</span><span>remove_state</span><span>(</span><span>&#39;rotate&#39;</span><span>)</span>  <span># alternatively press &#39;r&#39; key</span>

<span>selector</span><span>.</span><span>add_state</span><span>(</span><span>&#39;square&#39;</span><span>)</span>
</pre></div>
</div>
</section>
<section id="multicursor-now-supports-axes-split-over-multiple-figures">
<h3><a href="#id54" role="doc-backlink"><code><span>MultiCursor</span></code> now supports Axes split over multiple figures</a><a href="#multicursor-now-supports-axes-split-over-multiple-figures" title="Permalink to this heading">#</a></h3>
<p>Previously, <a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.MultiCursor" title="matplotlib.widgets.MultiCursor"><code><span>MultiCursor</span></code></a> only worked if all target Axes belonged to the same
figure.</p>
<p>As a consequence of this change, the first argument to the <a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.MultiCursor" title="matplotlib.widgets.MultiCursor"><code><span>MultiCursor</span></code></a>
constructor has become unused (it was previously the joint canvas of all Axes,
but the canvases are now directly inferred from the list of Axes).</p>
</section>
<section id="polygonselector-bounding-boxes">
<h3><a href="#id55" role="doc-backlink"><code><span>PolygonSelector</span></code> bounding boxes</a><a href="#polygonselector-bounding-boxes" title="Permalink to this heading">#</a></h3>
<p><a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.PolygonSelector" title="matplotlib.widgets.PolygonSelector"><code><span>PolygonSelector</span></code></a> now has a <em>draw_bounding_box</em> argument, which when set to
<a href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code><span>True</span></code></a> will draw a bounding box around the polygon once it is complete. The
bounding box can be resized and moved, allowing the points of the polygon to be
easily resized.</p>
</section>
<section id="setting-polygonselector-vertices">
<h3><a href="#id56" role="doc-backlink">Setting <code><span>PolygonSelector</span></code> vertices</a><a href="#setting-polygonselector-vertices" title="Permalink to this heading">#</a></h3>
<p>The vertices of <a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.PolygonSelector" title="matplotlib.widgets.PolygonSelector"><code><span>PolygonSelector</span></code></a> can now be set programmatically by using the
<a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.PolygonSelector.verts" title="matplotlib.widgets.PolygonSelector.verts"><code><span>PolygonSelector.verts</span></code></a> property. Setting the vertices this way will reset the
selector, and create a new complete selector with the supplied vertices.</p>
</section>
<section id="spanselector-widget-can-now-be-snapped-to-specified-values">
<h3><a href="#id57" role="doc-backlink"><code><span>SpanSelector</span></code> widget can now be snapped to specified values</a><a href="#spanselector-widget-can-now-be-snapped-to-specified-values" title="Permalink to this heading">#</a></h3>
<p>The <a href="https://matplotlib.org/stable/api/widgets_api.html#matplotlib.widgets.SpanSelector" title="matplotlib.widgets.SpanSelector"><code><span>SpanSelector</span></code></a> widget can now be snapped to values specified by the
<em>snap_values</em> argument.</p>
</section>
<section id="more-toolbar-icons-are-styled-for-dark-themes">
<h3><a href="#id58" role="doc-backlink">More toolbar icons are styled for dark themes</a><a href="#more-toolbar-icons-are-styled-for-dark-themes" title="Permalink to this heading">#</a></h3>
<p>On the macOS and Tk backends, toolbar icons will now be inverted when using a
dark theme.</p>
</section>
</section>
<section id="platform-specific-changes">
<h2><a href="#id59" role="doc-backlink">Platform-specific changes</a><a href="#platform-specific-changes" title="Permalink to this heading">#</a></h2>
<section id="wx-backend-uses-standard-toolbar">
<h3><a href="#id60" role="doc-backlink">Wx backend uses standard toolbar</a><a href="#wx-backend-uses-standard-toolbar" title="Permalink to this heading">#</a></h3>
<p>Instead of a custom sizer, the toolbar is set on Wx windows as a standard
toolbar.</p>
</section>
<section id="improvements-to-macosx-backend">
<h3><a href="#id61" role="doc-backlink">Improvements to macosx backend</a><a href="#improvements-to-macosx-backend" title="Permalink to this heading">#</a></h3>
<section id="modifier-keys-handled-more-consistently">
<h4><a href="#id62" role="doc-backlink">Modifier keys handled more consistently</a><a href="#modifier-keys-handled-more-consistently" title="Permalink to this heading">#</a></h4>
<p>The macosx backend now handles modifier keys in a manner more consistent with
other backends. See the table in <a href="https://matplotlib.org/stable/users/explain/event_handling.html#event-connections"><span>Event connections</span></a> for further
information.</p>
</section>
<section id="savefig-directory-rcparam-support">
<h4><a href="#id63" role="doc-backlink"><code><span>savefig.directory</span></code> rcParam support</a><a href="#savefig-directory-rcparam-support" title="Permalink to this heading">#</a></h4>
<p>The macosx backend will now obey the <code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=savefig.directory#matplotlibrc-sample"><span><span>rcParams[&#34;savefig.directory&#34;]</span></span></a></code> (default: <code><span>&#39;~&#39;</span></code>) setting. If set to
a non-empty string, then the save dialog will default to this directory, and
preserve subsequent save directories as they are changed.</p>
</section>
<section id="figure-raise-window-rcparam-support">
<h4><a href="#id64" role="doc-backlink"><code><span>figure.raise_window</span></code> rcParam support</a><a href="#figure-raise-window-rcparam-support" title="Permalink to this heading">#</a></h4>
<p>The macosx backend will now obey the <code><a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html?highlight=figure.raise_window#matplotlibrc-sample"><span><span>rcParams[&#34;figure.raise_window&#34;]</span></span></a></code> (default: <code><span>True</span></code>) setting. If set
to False, figure windows will not be raised to the top on update.</p>
</section>
<section id="full-screen-toggle-support">
<h4><a href="#id65" role="doc-backlink">Full-screen toggle support</a><a href="#full-screen-toggle-support" title="Permalink to this heading">#</a></h4>
<p>As supported on other backends, the macosx backend now supports toggling
fullscreen view. By default, this view can be toggled by pressing the <kbd>f</kbd>
key.</p>
</section>
<section id="improved-animation-and-blitting-support">
<h4><a href="#id66" role="doc-backlink">Improved animation and blitting support</a><a href="#improved-animation-and-blitting-support" title="Permalink to this heading">#</a></h4>
<p>The macosx backend has been improved to fix blitting, animation frames with new
artists, and to reduce unnecessary draw calls.</p>
</section>
</section>
<section id="macos-application-icon-applied-on-qt-backend">
<h3><a href="#id67" role="doc-backlink">macOS application icon applied on Qt backend</a><a href="#macos-application-icon-applied-on-qt-backend" title="Permalink to this heading">#</a></h3>
<p>When using the Qt-based backends on macOS, the application icon will now be
set, as is done on other backends/platforms.</p>
</section>
<section id="new-minimum-macos-version">
<h3><a href="#id68" role="doc-backlink">New minimum macOS version</a><a href="#new-minimum-macos-version" title="Permalink to this heading">#</a></h3>
<p>The macosx backend now requires macOS &gt;= 10.12.</p>
</section>
<section id="windows-on-arm-support">
<h3><a href="#id69" role="doc-backlink">Windows on ARM support</a><a href="#windows-on-arm-support" title="Permalink to this heading">#</a></h3>
<p>Preliminary support for Windows on arm64 target has been added. This support
requires FreeType 2.11 or above.</p>
<p>No binary wheels are available yet but it may be built from source.</p>
</section>
</section>
</section>
</article>
</div>

</div>

</main>
</div>
</div></div>
  </body>
</html>
