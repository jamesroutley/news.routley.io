<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://pywebview.flowrl.com/blog/pywebview5.html">Original</a>
    <h1>Show HN: Pywebview 5</h1>
    
    <div id="readability-page-1" class="page"><div><p><img src="https://pywebview.flowrl.com/logo-no-text.png" alt="pywebview"/></p> <p>I am happy to announce the release of <em>pywebview 5</em>. The new version introduces three major features: Android support, DOM manipulation and application settings. For a full changelog, see <a href="https://pywebview.flowrl.com/changelog">here</a>.</p> <p>If you are not familiar with <em>pywebview</em>, it is a Python library that lets you to build GUI for your Python program using HTML, CSS and Javascript. Available for Windows, macOS, Linux and Android. <em>pywebview</em> can be installed with</p> <h2 id="android"><a href="#android">#</a> Android</h2> <p>You can now run your <em>pywebview</em> on Android devices. Mobile experience brings its own limitations though. There is no window manipulation, multi-window or file dialog support. Otherwise, it works same as on other platforms. Head over to <a href="https://pywebview.flowrl.com/guide/freezing">Freezing</a> for details how to package your app for Android.</p> <h2 id="dom"><a href="#dom">#</a> DOM</h2> <p>With DOM support you can perform jQuery like DOM manipulation, traversal and event handling straight from Python. You can access and modify element&#39;s attributes, style and classes as well. A new <code>Element</code> object represents a DOM node in Python. It is returned by <code>window.dom.get_element</code>, <code>window.dom.get_elements</code> and <code>window.dom.create_element</code>. Body, document and window are conviently exposed as <code>window.dom.body</code>, <code>window.dom.document</code> and <code>window.dom.body</code> respectively. The new Javascript serializer allows you to serialize more Javascript object types and handles circular dependencies, so</p> <p>Here is a toy example of the new API.</p> <div><pre><code>window<span>.</span>dom<span>.</span>document<span>.</span>events<span>.</span>scroll <span>+=</span> <span>lambda</span> e<span>:</span> <span>print</span><span>(</span>window<span>.</span>dom<span>.</span>window<span>.</span>node<span>[</span><span>&#39;scrollY&#39;</span><span>]</span><span>)</span>

button <span>=</span> window<span>.</span>dom<span>.</span>create_element<span>(</span><span>&#39;&lt;button disabled class=&#34;hidden&#34;&gt;Button&lt;/button&gt;&#39;</span><span>,</span> window<span>.</span>dom<span>.</span>body<span>)</span>
button<span>.</span>style<span>[</span><span>&#39;width&#39;</span><span>]</span> <span>=</span> <span>&#39;200px&#39;</span>
button<span>.</span>attributes <span>=</span> <span>{</span> <span>&#39;disabled&#39;</span><span>:</span> <span>False</span> <span>}</span>
button<span>.</span>events<span>.</span>click <span>+=</span> click_handler
button<span>.</span>classes<span>.</span>toggle<span>(</span><span>&#39;hidden&#39;</span><span>)</span>
</code></pre></div><p>See <a href="https://pywebview.flowrl.com/examples/dom_events">events</a>, <a href="https://pywebview.flowrl.com/examples/dom_manipulation">manipulation</a>, <a href="https://pywebview.flowrl.com/traversal/dom_traversal.html">events</a> for complete examples.</p> <p>A much requested feature is a full file path support for drag and drop operations. <em>pywebview</em> enhances <code>DropEvent</code> by introducing <code>event[&#39;dataTransfer&#39;][&#39;files&#39;][0][&#39;pywebviewFullPath&#39;]</code> that has full absolute path of a dropped file(s). The full path is available only on Python&#39;s side.</p> <h2 id="application-settings"><a href="#application-settings">#</a> Application settings</h2> <p><em>pywebview</em> is rather opinionated on how default experience should be. Over the years, I have received numerous feature requests asking to change the default behaviour, which is now possible with application settings. The new version introduces <code>webview.settings</code> dictionary with following options.</p> <div><pre><code>webview<span>.</span>settings <span>=</span> <span>{</span>
    <span>&#39;ALLOW_DOWNLOADS&#39;</span><span>:</span> <span>False</span><span>,</span> <span># Allow file downloads</span>
    <span>&#39;ALLOW_FILE_URLS&#39;</span><span>:</span> <span>True</span><span>,</span> <span># Allow access to file:// urls</span>
    <span>&#39;OPEN_EXTERNAL_LINKS_IN_BROWSER&#39;</span><span>:</span> <span>True</span><span>,</span> <span># Open target=_blank links in an external browser</span>
    <span>&#39;OPEN_DEVTOOLS_IN_DEBUG&#39;</span><span>:</span> <span>True</span><span>,</span> <span># Automatically open devtools when `start(debug=True)`.</span>
<span>}</span>
</code></pre></div><p>Application settings must be set before invoking <code>webview.start()</code> to have an effect.</p> <h2 id="learn-more"><a href="#learn-more">#</a> Learn more</h2> <p>Interested in learning more? Head over to <a href="https://pywebview.flowrl.com/guide/usage">usage guide</a>, <a href="https://pywebview.flowrl.com/guide/api">API reference</a> and <a href="https://pywebview.flowrl.com/examples">examples</a></p> <h2 id="support-the-project"><a href="#support-the-project">#</a> Support the project</h2> <p><em>pywebview</em> is largely an one-man project, which gets updated sporadically whenever time permits. Any help is appreciated and the best way to contribute is submitting a pull request. Bug fixes are always welcomed. If you wish to submit a new feature, please create an issue and discuss it beforehand. Check out the <a href="https://pywebview.flowrl.com/contributing">contributing guide</a> to get started.</p> <p>If you find <em>pywebview</em> useful and would like to see it developed in the future, considering sponsoring it. If you represent a company, consider becoming a sponsor to get exposure for your company and connect with Python developers.</p> <p><a href="https://github.com/sponsors/r0x0r"><img src="https://pywebview.flowrl.com/github_sponsor_button.png" alt="Sponsor on Github"/></a></p> <p><a href="https://opencollective.com/pywebview/donate" target="_blank"><img src="https://opencollective.com/pywebview/donate/button@2x.png?color=blue" width="300"/></a></p> <p><a href="https://www.patreon.com/bePatron?u=13226105" data-patreon-widget-type="become-patron-button"><img src="https://c5.patreon.com/external/logo/become_a_patron_button.png" alt="Become a Patron!"/></a></p> <p><a href="http://bit.ly/2eg2Z5P" target="_blank"><img src="https://pywebview.flowrl.com/paypal.png"/></a></p></div></div>
  </body>
</html>
