<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://stable-diffusion-art.com/video-to-video/">Original</a>
    <h1>Video to video with Stable Diffusion</h1>
    
    <div id="readability-page-1" class="page"><article id="post-4218">

	<!-- .entry-header -->

	<div>
		
<p>Transforming videos to animation is never easier with Stable Diffusion. You will find step-by-step guides for 3 video-to-video techniques in this article. </p>



<ul>
<li>ControlNet-M2M script</li>



<li>ControlNet img2img</li>



<li>Mov2mov extension</li>



<li>SD-CN Animation extension</li>



<li>Temporal Kit</li>
</ul>



<p>They all use a similar approach of transforming each video frame individually with the help of <a href="https://stable-diffusion-art.com/controlnet/" data-type="post" data-id="2587">ControlNet</a>. </p>



<p>At the end of the article, I will survey other video-to-video methods for Stable Diffusion.</p>



<p>Now you will see a sample video from each method. Below is the original video.</p>


<div>
<figure><img data-attachment-id="4861" data-permalink="https://stable-diffusion-art.com/beginners-guide/cosplay1-2-2/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-2.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="cosplay1-2" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-2.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-2.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-2.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<p>(Download this video <a href="https://stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1.mp4">here</a> if you wish to use it in the tutorial.)</p>



<p>Below is an example of using method 1: <strong>ControlNet-M2M script</strong> method.</p>


<div>
<figure><img data-attachment-id="4817" data-permalink="https://stable-diffusion-art.com/video-to-video/dpm2mkarras_tile_resample_0-6-2/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6-2.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="dpm2MKarras_tile_resample_0.6-2" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6-2.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6-2.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6-2.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<p>Below is an example of using method 2: <strong>ControlNet img2img</strong>.</p>


<div>
<figure><img data-attachment-id="4816" data-permalink="https://stable-diffusion-art.com/video-to-video/dpm2m_lineart_real_0-6_tileresample_0-5/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/DPM2M_lineart_real_0.6_tileresample_0.5.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="DPM2M_lineart_real_0.6_tileresample_0.5" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/DPM2M_lineart_real_0.6_tileresample_0.5.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/DPM2M_lineart_real_0.6_tileresample_0.5.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/DPM2M_lineart_real_0.6_tileresample_0.5.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<p>Below is an example of using method 3: <strong>mov2mov extension</strong>.</p>


<div>
<figure><img data-attachment-id="4818" data-permalink="https://stable-diffusion-art.com/video-to-video/euler_a_lineart_real_0-6_tile_0-5-1/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5-1.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="euler_a_lineart_real_0.6_tile_0.5-1" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5-1.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5-1.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5-1.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<p>Below is an example of using method 4: <strong>SD-CN Animation extension</strong>.</p>


<div>
<figure><img data-attachment-id="4819" data-permalink="https://stable-diffusion-art.com/video-to-video/lineart_realistic_weight0-6_canny_0-5_dpm2m_20steps-1/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps-1.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps-1" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps-1.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps-1.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps-1.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<p>Here’s an example of Method 5: <strong>Temporal Kit</strong>.</p>


<div>
<figure><img data-attachment-id="4864" data-permalink="https://stable-diffusion-art.com/video-to-video/temporalkit_ebsynth_ds0-5/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="temporalkit_ebsynth_ds0.5" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>



<h2><span id="Software">Software</span></h2>



<p>You will need <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui" target="_blank" rel="noreferrer noopener">AUTOMATIC1111</a> Stable Diffusion GUI. You can use this GUI on <a href="https://stable-diffusion-art.com/install-windows/">Windows</a>, <a href="https://stable-diffusion-art.com/install-mac/">Mac</a>, or <a href="https://stable-diffusion-art.com/automatic1111-colab/">Google Colab</a>.</p>



<p>You will need to install the ControlNet extension. Follow the installation instructions in the <a href="https://stable-diffusion-art.com/controlnet/" data-type="post" data-id="2587">ControlNet article</a>.</p>



<h2><span id="Method_1_ControlNet_m2m_script">Method 1: ControlNet m2m script</span></h2>



<p>This video-to-video method is simpler to use but has a higher amount of flickering.</p>



<p>We will use the following video.</p>



<figure><video controls="" src="https://stable-diffusion-art.com/wp-content/uploads/2023/05/girl_dance.mp4"></video></figure>



<p>Use the following button to download the video if you wish to follow with the same video.</p>







<h3><span id="Step_1_Update_A1111_settings">Step 1: Update A1111 settings</span></h3>



<p>Before using the <strong>controlnet m2m</strong> script in AUTOMATIC1111, you must go to <strong>Settings</strong> &gt; <strong>ControlNet</strong>. Select the following two options.</p>



<ul>
<li><strong>Do not append detectmap to output</strong>: Yes</li>



<li><strong>Allow other script to control this extension</strong>: Yes</li>
</ul>



<figure><img data-attachment-id="4763" data-permalink="https://stable-diffusion-art.com/video-to-video/image-235/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?fit=2028%2C238&amp;ssl=1" data-orig-size="2028,238" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-235" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?fit=300%2C35&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?fit=750%2C88&amp;ssl=1" decoding="async" width="750" height="88" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=1024%2C120&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=300%2C35&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=768%2C90&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=1536%2C180&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=1568%2C184&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?w=2028&amp;ssl=1 2028w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=750%2C88&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>The first option disables saving the control image to the image output folder, so you can grab the frame images easier.</p>



<p>The second setting lets the controlnet m2m script feed the video frames to the ControlNet extension.</p>



<p>Click <strong>Apply Settings</strong>. Reload the Web-UI page.</p>



<h3><span id="Step_2_Upload_the_video_to_ControlNet-M2M">Step 2: Upload the video to ControlNet-M2M</span></h3>



<p>In AUTOMATIC1111 Web-UI, navigate to the <strong>txt2img</strong> page.</p>



<p>In the <strong>Script </strong>dropdown menu, select the <strong>ControlNet m2m</strong> script.</p>



<p>Expand the ControlNet-M2M section. </p>



<p>Upload the mp4 video to the ControlNet-0 tab.</p>



<figure><img data-attachment-id="4755" data-permalink="https://stable-diffusion-art.com/video-to-video/image-233/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-233.png?fit=666%2C689&amp;ssl=1" data-orig-size="666,689" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-233" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-233.png?fit=290%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-233.png?fit=666%2C689&amp;ssl=1" decoding="async" width="666" height="689" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-233.png?w=666&amp;ssl=1 666w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-233.png?resize=290%2C300&amp;ssl=1 290w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-233.png?resize=666%2C689&amp;ssl=1" data-sizes="(max-width: 666px) 100vw, 666px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h3><span id="Step_3_Enter_ControlNet_setting">Step 3: Enter ControlNet setting</span></h3>



<p>Expand the ControlNet section. Enter the following settings:</p>



<p><strong>Enable</strong>: Yes</p>



<p><strong>Pixel Perfect</strong>: Yes</p>



<p><strong>Control Type</strong>: Lineart</p>



<p><strong>Preprocessor</strong>: lineart realistic</p>



<p><strong>Model</strong>: control_xxxx_lineart</p>



<p><strong>Control weight</strong>: 0.6</p>



<figure><img data-attachment-id="4756" data-permalink="https://stable-diffusion-art.com/video-to-video/image-234/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?fit=556%2C789&amp;ssl=1" data-orig-size="556,789" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ControlNet settings for video-to-video" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?fit=211%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?fit=556%2C789&amp;ssl=1" decoding="async" width="556" height="789" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?w=556&amp;ssl=1 556w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?resize=211%2C300&amp;ssl=1 211w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?resize=556%2C789&amp;ssl=1" data-sizes="(max-width: 556px) 100vw, 556px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>For your own videos, you will want to experiment with different control types and preprocessors.</p>



<h3><span id="Step_4_Enter_txt2img_settings">Step 4: Enter txt2img settings</span></h3>



<p>Select a model you wish to use in the Stable Diffusion checkpoint at the top of the page. I will use <a href="https://civitai.com/models/4823/deliberate" target="_blank" rel="noopener">deliberate v2</a>. </p>



<p>Come up with a prompt and a negative prompt. I will use the following:</p>



<blockquote>
<p>photo of Sci fi cute girl, pink hair, photorealistic, in the style of franciszek starowieyski, white porcelain sci fi, mecha, 32k uhd, machine aesthetics, dark white and azure, hans zatzka, silver and pink, science fiction city,shiny pink hair, half body, oil painting, white background</p>
</blockquote>



<blockquote>
<p>deformed, disfigured, ugly</p>
</blockquote>



<p>Enter the following generation parameters:</p>



<p><strong>Sampling method</strong>:  Euler a</p>



<p><strong>Sampling steps</strong>: 20</p>



<p><strong>Width</strong>: 768</p>



<p><strong>Height</strong>: 512</p>



<p><strong>CFG Scale</strong>: 7</p>



<p><strong>Seed</strong>: 100  </p>



<p>The seed value needs to be fixed to reduce flickering. Changing the seed will change the background and the look of the character.</p>



<p>Click <strong>Generate</strong>.</p>



<h3><span id="Step_5_Make_an_animated_GIF_or_mp4_video">Step 5: Make an animated GIF or mp4 video</span></h3>



<p>The script converts the image with ControlNet frame-by-frame. You will find a series of png files in the txt2img output folder.  </p>



<p>You have two options: (1) Combine the PNG files into an animated GIF, and (2) make an mp4 video.</p>



<h4><span id="Animated_GIF">Animated GIF</span></h4>



<p>Use the <a href="https://ezgif.com/maker" target="_blank" rel="noopener">EZGIF page</a> to convert the png files to an animated GIF. </p>



<p>In the GIF option, set the <strong>Delay time</strong> to 5 (in 1/100 seconds) for 20 frames per second. </p>



<p>Here’s the final animated GIF.</p>



<figure><img data-attachment-id="4753" data-permalink="https://stable-diffusion-art.com/video-to-video/girl_dance_controlnet_m2m/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/girl_dance_controlnet_m2m.gif?fit=512%2C341&amp;ssl=1" data-orig-size="512,341" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="girl_dance_controlnet_m2m" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/girl_dance_controlnet_m2m.gif?fit=300%2C200&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/girl_dance_controlnet_m2m.gif?fit=512%2C341&amp;ssl=1" decoding="async" width="512" height="341" alt="video to video stable diffusion controlnet" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/girl_dance_controlnet_m2m.gif?resize=512%2C341&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h4><span id="MP4_video">MP4 video</span></h4>



<p>Use the following command to convert the png files to an MP4 video. (You will need to have <a href="https://github.com/BtbN/FFmpeg-Builds/releases" target="_blank" rel="noopener">ffmpeg </a>installed on your local PC)</p>



<pre><code>ffmpeg -framerate 20 -pattern_type glob -i &#39;*.png&#39; -c:v libx264 -pix_fmt yuv420p out.mp4</code></pre>



<h3><span id="Notes_for_ControlNet_m2m_script">Notes for ControlNet m2m script</span></h3>



<p>Unfortunately, as of the time of writing, multiple ControlNet does NOT work with the m2m script. As we will see later, multiple ControlNet is a useful technique in reducing flickering. Hope future updates will rectify that.</p>



<p>Here’s another video transformed with ControlNet Line art realistic.</p>



<figure><img data-attachment-id="4806" data-permalink="https://stable-diffusion-art.com/video-to-video/dpm2mkarras_lineart_real_0-6/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_lineart_real_0.6.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="dpm2MKarras_lineart_real_0.6" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_lineart_real_0.6.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_lineart_real_0.6.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_lineart_real_0.6.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Experiment with different ControlNets to get different results. Here’s a video with the <a href="https://stable-diffusion-art.com/controlnet/#Tile_resample">Tile resample</a>.</p>



<figure><img data-attachment-id="4809" data-permalink="https://stable-diffusion-art.com/video-to-video/dpm2mkarras_tile_resample_0-6/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="dpm2MKarras_tile_resample_0.6" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/dpm2MKarras_tile_resample_0.6.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h2><span id="Method_2_ControlNet_img2img">Method 2: ControlNet img2img</span></h2>



<p>This video-to-video method converts a video to a series of images and then uses Stable Diffusion img2img with ControlNet to transform each frame.</p>



<p>Use the following button to download the video if you wish to follow with the same video.</p>







<h3><span id="Step_1_Convert_the_mp4_video_to_png_files"><strong>Step 1</strong>: Convert the mp4 video to png files</span></h3>



<p>You can use the <a href="https://ezgif.com/video-to-png" target="_blank" rel="noopener">ezgif site</a> to convert the mp4 video to png image files.</p>



<p>Upload the mp4 video file. </p>



<p>Use the following settings.</p>



<ul>
<li>Size: Original</li>



<li>Frame rate: 10 fps</li>
</ul>



<p>Click <strong>Convert to PNG!</strong></p>



<p>Click <strong>Download frames as ZIP</strong>.</p>



<figure><img data-attachment-id="4718" data-permalink="https://stable-diffusion-art.com/video-to-video/image-217/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?fit=1216%2C714&amp;ssl=1" data-orig-size="1216,714" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-217" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?fit=300%2C176&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?fit=750%2C440&amp;ssl=1" decoding="async" width="750" height="440" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?resize=1024%2C601&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?resize=300%2C176&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?resize=768%2C451&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?w=1216&amp;ssl=1 1216w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-217.png?resize=750%2C440&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Extract the ZIP file to a folder of png image files. </p>



<p>Rename the folder name as <code>video</code>. Now you should have a folder called <code>video</code> containing the png files.</p>



<p>Alternatively, below are the commands if you prefer to use the command line to convert the mp4 video to png files.</p>



<pre><code>mkdir video</code></pre>



<pre><code>ffmpeg -i girl_dance.mp4 -r 10 video/%05d.png</code></pre>



<h3><span id="Step_2_Enter_Img2img_settings"><strong>Step 2</strong>: Enter Img2img settings</span></h3>



<p>You will need image-to-image and ControlNet settings to apply to each frame. </p>



<p>Now open AUTOMATIC1111.</p>



<p>We need some special settings for ControlNet. Go to the <strong>Settings</strong> page.</p>



<p>Click <strong>Show all pages</strong> on the left panel.</p>



<p>Search the text (Ctrl+F for Windows. Cmd+F for Mac) “Quicksettings list”. Add “initial_noise_multiplier” and “img2img_color_correction” to the list. </p>



<p>It should look like this:</p>



<figure><img data-attachment-id="4720" data-permalink="https://stable-diffusion-art.com/video-to-video/image-218/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?fit=1876%2C152&amp;ssl=1" data-orig-size="1876,152" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-218" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?fit=300%2C24&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?fit=750%2C61&amp;ssl=1" decoding="async" width="750" height="61" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?resize=1024%2C83&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?resize=300%2C24&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?resize=768%2C62&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?resize=1536%2C124&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?resize=1568%2C127&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?w=1876&amp;ssl=1 1876w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-218.png?resize=750%2C61&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>







<p>Go to the top of the page. Click <strong>Apply settings</strong> and then <strong>Reload UI</strong>.</p>



<p>You should see two new settings: <strong>Noise multiplier for img2img</strong> and <strong>Apply color correction…</strong> on top of the page.</p>



<figure><img data-attachment-id="4722" data-permalink="https://stable-diffusion-art.com/video-to-video/image-220/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?fit=2314%2C184&amp;ssl=1" data-orig-size="2314,184" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-220" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?fit=300%2C24&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?fit=750%2C59&amp;ssl=1" decoding="async" width="750" height="59" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?resize=1024%2C81&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?resize=300%2C24&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?resize=768%2C61&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?resize=1536%2C122&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?resize=2048%2C163&amp;ssl=1 2048w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?resize=1568%2C125&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?w=2250&amp;ssl=1 2250w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-220.png?resize=750%2C59&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Set <strong>Noise multipler for img2img</strong> to 0.5. This scaling factor is applied to the random latent tensor for img2img.  Lowering it reduces flickering.</p>



<p>Check <strong>Apply color correction…</strong> setting. This option is for matching the color of the original content. This helps color consistency across frames.</p>



<p>Now one more setting… Go to <strong>Settings</strong> &gt; <strong>ControlNet</strong>. Select the following option.</p>



<ul>
<li><strong>Do not append detectmap to output</strong>: Yes</li>
</ul>



<figure><img data-attachment-id="4763" data-permalink="https://stable-diffusion-art.com/video-to-video/image-235/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?fit=2028%2C238&amp;ssl=1" data-orig-size="2028,238" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-235" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?fit=300%2C35&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?fit=750%2C88&amp;ssl=1" decoding="async" width="750" height="88" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=1024%2C120&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=300%2C35&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=768%2C90&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=1536%2C180&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=1568%2C184&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?w=2028&amp;ssl=1 2028w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-235.png?resize=750%2C88&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Click <strong>Apply Settings</strong>. Reload the Web-UI.</p>



<p>Go to <strong>img2img</strong> page.</p>



<p>In the <strong>Stable Diffusion checkpoint</strong> at the top of the page, select a model you wish to use. I will use <a href="https://civitai.com/models/4823/deliberate" target="_blank" rel="noopener">deliberate v2</a>. </p>



<p>Come up with a prompt and a negative prompt. I will use:</p>



<blockquote>
<p>photo of Sci fi cute girl, pink hair, photorealistic, in the style of franciszek starowieyski, white porcelain sci fi, mecha, 32k uhd, machine aesthetics, dark white and azure, hans zatzka, silver and pink, science fiction city,shiny pink hair, half body, oil painting</p>
</blockquote>



<blockquote>
<p>deformed, disfigured, ugly</p>
</blockquote>



<p><strong>Upload</strong> one of the frames (i.e. the png files) to the img2img canvas.</p>



<figure><img data-attachment-id="4723" data-permalink="https://stable-diffusion-art.com/video-to-video/image-221/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?fit=1412%2C1058&amp;ssl=1" data-orig-size="1412,1058" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-221" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?fit=300%2C225&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?fit=750%2C562&amp;ssl=1" decoding="async" width="750" height="562" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?resize=1024%2C767&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?resize=768%2C575&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?w=1412&amp;ssl=1 1412w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-221.png?resize=750%2C562&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Resize mode: Just resize</p>



<p><strong>Sampling method</strong>: DPM++ 2M Karras</p>



<p><strong>Sampling Steps</strong>: 20</p>



<p><strong>Width</strong>: 908 (This is set to maintain the aspect ratio of the video)</p>



<p><strong>Height</strong>: 512 (The shorter dimension is fixed to 512)</p>



<p><strong>CFG scale</strong>: 20 (Experiment with this. The higher you set, the more it follows the prompt.)</p>



<p><strong>Denoising strength</strong>: 0.4 (Experiment with this. The higher you set, the more changes but also more flickering)</p>



<p><strong>Seed</strong>: -1 (random)</p>



<figure><img data-attachment-id="4724" data-permalink="https://stable-diffusion-art.com/video-to-video/image-222/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?fit=1390%2C1040&amp;ssl=1" data-orig-size="1390,1040" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-222" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?fit=300%2C224&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?fit=750%2C561&amp;ssl=1" decoding="async" width="750" height="561" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?resize=1024%2C766&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?resize=300%2C224&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?resize=768%2C575&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?w=1390&amp;ssl=1 1390w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-222.png?resize=750%2C561&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h3><span id="Step_3_Enter_ControlNet_settings"><strong>Step 3</strong>: Enter ControlNet settings</span></h3>



<p>Now go to the <strong>ControlNet</strong> section…</p>



<p>Upload the <strong>same frame</strong> to the image canvas.</p>



<p><strong>Enable</strong>: Yes</p>



<p><strong>Pixel Perfect</strong>: Yes</p>



<p>Allow Preview: Yes</p>



<p><strong>Control Type</strong>: Lineart</p>



<p><strong>Preprocessor</strong>: Lineart Realistic</p>



<p><strong>Model</strong>: control_xxxx_lineart</p>



<p>(Experiment with the control type, preprocessor, and model. Many of them will work just as well. The goal is to see the details like eyes, mouth, hairstyle got outlined in the preview)</p>



<figure><img data-attachment-id="4725" data-permalink="https://stable-diffusion-art.com/video-to-video/image-223/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?fit=1354%2C1454&amp;ssl=1" data-orig-size="1354,1454" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-223" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?fit=279%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?fit=750%2C805&amp;ssl=1" decoding="async" width="750" height="805" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?resize=954%2C1024&amp;ssl=1 954w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?resize=279%2C300&amp;ssl=1 279w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?resize=768%2C825&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?w=1354&amp;ssl=1 1354w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-223.png?resize=750%2C805&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p><strong>Control Weight</strong>: 0.6 (Lower it when you see color artifacts)</p>



<h3><span id="Step_4_Choose_a_seed">Step 4: Choose a seed</span></h3>



<p>Press <strong>Generate</strong> to test the setting. </p>



<figure><img data-attachment-id="4727" data-permalink="https://stable-diffusion-art.com/video-to-video/image-224/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?fit=2784%2C1188&amp;ssl=1" data-orig-size="2784,1188" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-224" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?fit=300%2C128&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?fit=750%2C320&amp;ssl=1" decoding="async" width="750" height="320" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?resize=1024%2C437&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?resize=300%2C128&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?resize=768%2C328&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?resize=1536%2C655&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?resize=2048%2C874&amp;ssl=1 2048w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?resize=1568%2C669&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?w=2250&amp;ssl=1 2250w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-224.png?resize=750%2C320&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Select the image on the left panel once you are happy with the effect.</p>



<p>To fix the seed, click the recycle icon next to the Seed value box. You should see the value changes from -1 to a positive number.</p>



<figure><img data-attachment-id="4728" data-permalink="https://stable-diffusion-art.com/video-to-video/image-225/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?fit=1160%2C182&amp;ssl=1" data-orig-size="1160,182" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-225" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?fit=300%2C47&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?fit=750%2C118&amp;ssl=1" decoding="async" width="750" height="118" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?resize=1024%2C161&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?resize=300%2C47&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?resize=768%2C120&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?w=1160&amp;ssl=1 1160w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-225.png?resize=750%2C118&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h3><span id="Step_5_Batch_img2img_with_ControlNet">Step 5: Batch img2img with ControlNet</span></h3>



<p>Now with all the hard work, you have generated one frame… The goal is to apply the same setting to ALL frames. Luckily, you can do that with <strong>batch </strong>processing.</p>



<p>First, <strong>remove the reference image</strong> in the <strong>ControlNet</strong> section. This step is important. Otherwise, you will be using this reference image for all frames! Click the cross icon on the top right to remove the image.</p>



<p>Confirm you see the reference image removed, like the screenshot below.</p>



<figure><img data-attachment-id="4729" data-permalink="https://stable-diffusion-art.com/video-to-video/image-226/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?fit=1370%2C976&amp;ssl=1" data-orig-size="1370,976" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-226" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?fit=300%2C214&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?fit=750%2C535&amp;ssl=1" decoding="async" width="750" height="535" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?resize=1024%2C730&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?resize=300%2C214&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?resize=768%2C547&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?w=1370&amp;ssl=1 1370w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-226.png?resize=750%2C535&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Keep the rest of the ControlNet settings untouched.</p>



<p>Now switch to the <strong>Batch</strong> tab on the Img2img page.</p>



<figure><img data-attachment-id="4731" data-permalink="https://stable-diffusion-art.com/video-to-video/image-227/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?fit=1320%2C786&amp;ssl=1" data-orig-size="1320,786" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-227" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?fit=300%2C179&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?fit=750%2C447&amp;ssl=1" decoding="async" width="750" height="447" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?resize=1024%2C610&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?resize=300%2C179&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?resize=768%2C457&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?w=1320&amp;ssl=1 1320w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-227.png?resize=750%2C447&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Enter the paths of the </p>



<ul>
<li><strong>Input directory</strong>: The folder containing the PNG files of your video.</li>



<li><strong>Output directory</strong>: A new folder for your processed PNG files.</li>
</ul>



<p>In Windows, the input directory is the folder location of the PNG files in <strong>File Explorer.</strong></p>



<figure><img data-attachment-id="4733" data-permalink="https://stable-diffusion-art.com/video-to-video/image-228/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?fit=1260%2C510&amp;ssl=1" data-orig-size="1260,510" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-228" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?fit=300%2C121&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?fit=750%2C303&amp;ssl=1" decoding="async" width="750" height="303" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?resize=1024%2C414&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?resize=300%2C121&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?resize=768%2C311&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?w=1260&amp;ssl=1 1260w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-228.png?resize=750%2C303&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>If you use <a href="https://stable-diffusion-art.com/automatic1111-colab/" data-type="post" data-id="1998">Google Colab</a>, copy the PNG files to your Google Drive and specify a path. The path can be found in the file explorer on the left and right-clicking a folder.</p>



<p>Click <strong>Generate</strong> to start the generation process.</p>



<h3><span id="Step_6_Convert_the_output_PNG_files_to_video_or_animated_gif">Step 6: Convert the output PNG files to video or animated gif</span></h3>



<h4><span id="Animated_GIF-2">Animated GIF</span></h4>



<p>Use the <a href="https://ezgif.com/maker" target="_blank" rel="noopener">EZGIF page</a> to convert the png files to an animated GIF. </p>



<p>In the GIF option, set the <strong>Delay time</strong> to 10 (in 1/100 seconds) for 10 frames per second. </p>



<p>Here’s the video-to-video result (Denoising strength 0.5):</p>


<div>
<figure><img data-attachment-id="4740" data-permalink="https://stable-diffusion-art.com/video-to-video/small-ezgif-1-ccd64fe6ac/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/small-ezgif-1-ccd64fe6ac.gif?fit=512%2C290&amp;ssl=1" data-orig-size="512,290" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="controlNet img2img DS 0.4" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/small-ezgif-1-ccd64fe6ac.gif?fit=300%2C170&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/small-ezgif-1-ccd64fe6ac.gif?fit=512%2C290&amp;ssl=1" decoding="async" width="512" height="290" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/small-ezgif-1-ccd64fe6ac.gif?resize=512%2C290&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<p>Increasing the denoising strength to 0.7 changes the video more but also increases flickering.</p>


<div>
<figure><img data-attachment-id="4745" data-permalink="https://stable-diffusion-art.com/video-to-video/woman_dance_controlnet_ds0-7/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/woman_dance_controlnet_ds0.7.gif?fit=512%2C290&amp;ssl=1" data-orig-size="512,290" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="woman_dance_controlnet_ds0.7" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/woman_dance_controlnet_ds0.7.gif?fit=300%2C170&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/woman_dance_controlnet_ds0.7.gif?fit=512%2C290&amp;ssl=1" decoding="async" width="512" height="290" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/woman_dance_controlnet_ds0.7.gif?resize=512%2C290&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<h4><span id="MP4_video-2">MP4 video</span></h4>



<p>Use the following command to convert the png files to an MP4 video.</p>



<pre><code>ffmpeg -framerate 10 -pattern_type glob -i &#39;*.png&#39; -c:v libx264 -pix_fmt yuv420p out.mp4</code></pre>



<h3><span id="Note_on_ControlNet_img2img">Note on ControlNet img2img</span></h3>



<p>This is probably the most laborious out of all video-to-video methods. The reason you want to use it is simple: To gain total control of the process. </p>



<p>You will see quite a few Youtubers advocate this method. I recommend <a href="https://www.youtube.com/@enigmatic_e" target="_blank" rel="noopener">Enigmatic_e</a>‘s videos to learn more about this method (and, generally, video-making with Stable Diffusion). This <a href="https://www.youtube.com/watch?v=_9LX9HSQkWo" target="_blank" rel="noopener">video</a> from Corridor Crew walks you through a laborious method that produces high-quality Stable Diffusion videos.</p>



<h2><span id="Method_3_Mov2mov_extension">Method 3: Mov2mov extension</span></h2>



<p>The <a href="https://github.com/Scholar01/sd-webui-mov2mov" target="_blank" rel="noopener">Mov2mov</a> extension automates many of the manual steps of video-to-video tasks. </p>



<p>Use the following button to download the video if you wish to follow with the same video.</p>







<h3><span id="Step_1_Install_Mov2mov_extension">Step 1: Install Mov2mov extension</span></h3>



<p>In AUTOMATIC1111 Web-UI, navigate to the <strong>Extension</strong> page.</p>



<p>Select <strong>Install from URL</strong> tab. </p>



<p>In the <strong>URL for extension’s git repository</strong> field, enter</p>



<pre><code>https://github.com/Scholar01/sd-webui-mov2mov</code></pre>



<p>Click <strong>Install</strong>.</p>



<p>Completely close and restart the Web-UI.</p>



<h3><span id="Step_2_Enter_mov2mov_settings">Step 2: Enter mov2mov settings</span></h3>



<p>You should see a new page called <strong>mov2mov</strong>.</p>



<p>Select a <strong>Stable Diffusion checkpoint</strong> in the dropdown menu at the page top. I used Deliberate v2.</p>



<p>Enter the prompt and the negative prompt.</p>



<blockquote>
<p>photo of Sci fi cute girl, pink hair, photorealistic, in the style of franciszek starowieyski, white porcelain sci fi, mecha, 32k uhd, machine aesthetics, dark white and azure, hans zatzka, silver and pink, science fiction city,shiny pink hair, half body, oil painting, white background</p>
</blockquote>



<blockquote>
<p>deformed, disfigured, ugly</p>
</blockquote>



<p>Upload the video by dropping it to the video canvas.</p>



<p>Resize mode: Crop and resize.</p>



<p>Set the width to 768 and the height to 512 for a landscape movie. (Adjust according for your own video)</p>



<figure><img data-attachment-id="4764" data-permalink="https://stable-diffusion-art.com/video-to-video/image-236/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?fit=1416%2C1424&amp;ssl=1" data-orig-size="1416,1424" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-236" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?fit=298%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?fit=750%2C754&amp;ssl=1" decoding="async" width="750" height="754" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?resize=1018%2C1024&amp;ssl=1 1018w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?resize=298%2C300&amp;ssl=1 298w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?resize=768%2C772&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?w=1416&amp;ssl=1 1416w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-236.png?resize=750%2C754&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>The extension has a nice slider for <strong>noise multiplier</strong>. Keep it at 0 to reduce flickering.</p>



<p>Adjust the <a href="https://stable-diffusion-art.com/know-these-important-parameters-for-stunning-ai-images/#CFG_Scale"><strong>CFG</strong> <strong>scale</strong></a> to control how much the prompt should be followed. (7 in this video)</p>



<p>Adjust the <strong><a href="https://stable-diffusion-art.com/inpainting_basics/#Denoising_strength">denoising strength</a></strong> to control how much the video should be changed.  (0.75  in this video)</p>



<p>The <strong>Max frame</strong> is the total number of frames to be generated. Set to a low number e.g. 10 for initial testing. Set to -1 to generate a full-length video.</p>



<p>The <strong>seed</strong> determines the seed value of the FIRST frame. All frames will use the same seed value even if you set the seed to -1 (random). </p>



<figure><img data-attachment-id="4765" data-permalink="https://stable-diffusion-art.com/video-to-video/image-237/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?fit=1412%2C710&amp;ssl=1" data-orig-size="1412,710" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-237" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?fit=300%2C151&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?fit=750%2C377&amp;ssl=1" decoding="async" width="750" height="377" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?resize=1024%2C515&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?resize=300%2C151&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?resize=768%2C386&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?w=1412&amp;ssl=1 1412w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-237.png?resize=750%2C377&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h3><span id="Step_3_Enter_ControlNet_settings-2"> Step 3: Enter ControlNet settings</span></h3>



<figure><img data-attachment-id="4756" data-permalink="https://stable-diffusion-art.com/video-to-video/image-234/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?fit=556%2C789&amp;ssl=1" data-orig-size="556,789" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="ControlNet settings for video-to-video" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?fit=211%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?fit=556%2C789&amp;ssl=1" decoding="async" width="556" height="789" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?w=556&amp;ssl=1 556w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?resize=211%2C300&amp;ssl=1 211w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-234.png?resize=556%2C789&amp;ssl=1" data-sizes="(max-width: 556px) 100vw, 556px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Enter the following settings for ControlNet.</p>



<p>Enable: Yes</p>



<p>Pixel Perfect: Yes</p>



<p>Control Type: Lineart</p>



<p>Preprocessor: lineart_realistic</p>



<p>Model: control_xxxx_lineart</p>



<p>Control weight: 0.6</p>



<p>Important: Don’t upload a reference image. Mov2mov will use the current frame for the reference image.</p>



<h3><span id="Step_4_Generate_the_video">Step 4: Generate the video</span></h3>



<p>Click <strong>Generate</strong> to start generating the video.</p>



<p>It will take a while… When it is down, your new video will appear on the right. </p>



<p>Click <strong>Save</strong> to save the video.</p>



<figure><img data-attachment-id="4767" data-permalink="https://stable-diffusion-art.com/video-to-video/image-239/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?fit=2126%2C960&amp;ssl=1" data-orig-size="2126,960" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-239" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?fit=300%2C135&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?fit=750%2C338&amp;ssl=1" decoding="async" width="750" height="338" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?resize=1024%2C462&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?resize=300%2C135&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?resize=768%2C347&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?resize=1536%2C694&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?resize=2048%2C925&amp;ssl=1 2048w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?resize=1568%2C708&amp;ssl=1 1568w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-239.png?resize=750%2C338&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Go to the <code>output/mov2mov-videos</code> folder to find the video if it doesn’t show up.</p>



<p>Try a different <strong>Video Mode</strong> if there is an error.</p>



<p>If the video generation fails, make the video yourself from the image series. They are in the folder <code>output/mov2mov-images</code>. Follow <a href="https://stable-diffusion-art.com/video-to-video/#Step_6_Convert_the_output_PNG_files_to_video_or_animated_gif">this step</a> to convert the images to a video.</p>



<p>Here’s the final video from Mov2mov.</p>



<figure><video controls="" src="https://stable-diffusion-art.com/wp-content/uploads/2023/05/lineart.mp4"></video></figure>



<h3><span id="Note_for_mov2mov">Note for mov2mov</span></h3>



<p>For some reason, deterministic <a href="https://stable-diffusion-art.com/samplers/" data-type="post" data-id="3609">samplers</a> (e.g. Euler, LMS, DPM++2M Karras…) do NOT work well with this extension. Otherwise, it would be a good way to reduce flickering.</p>



<h2><span id="Method_4_SD-CN-Animation">Method 4: SD-CN-Animation</span></h2>



<p><a href="https://github.com/volotat/SD-CN-Animation" target="_blank" rel="noopener">SD-CN-Animation</a> is an AUTOMATIC1111 extension that provides a convenient way to perform video-to-video tasks using Stable Diffusion.</p>



<p>SD-CN-Animation uses an optical flow model (<a href="https://github.com/princeton-vl/RAFT" target="_blank" rel="noopener">RAFT</a>) to make the animation smoother. The model tracks the movements of the pixels and creates a mask for generating the next frame.</p>



<p>Note that this extension does not work for all videos. For example, it produces poor results with the video used in the previous 3 methods. Presumably, it is because of its dark background.</p>



<p>So I switch to another video for this walkthrough.</p>


<div>
<figure><img data-attachment-id="4825" data-permalink="https://stable-diffusion-art.com/video-to-video/cosplay1-1/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-1.gif?fit=256%2C256&amp;ssl=1" data-orig-size="256,256" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="cosplay1-1" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-1.gif?fit=256%2C256&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-1.gif?fit=256%2C256&amp;ssl=1" decoding="async" width="256" height="256" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1-1.gif?resize=256%2C256&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure></div>


<p>Download this video here if you want to use it to follow this tutorial.</p>



<h3><span id="Step_1_Installing_the_extension">Step 1: Installing the extension</span></h3>



<p>In AUTOMATIC1111 Web-UI, navigate to the <strong>Extension</strong> page.</p>



<p>Select <strong>Install from URL</strong> tab.</p>



<p>In the <strong>URL for extension’s git repository</strong> field, enter</p>



<pre><code>https://github.com/volotat/SD-CN-Animation</code></pre>



<p>Click <strong>Install</strong>.</p>



<p>Completely close and restart the Web-UI.</p>



<h3><span id="Step_2_Enter_SD-CN-Animation_parameters">Step 2: Enter SD-CN-Animation parameters</span></h3>



<p>In AUTOMATIC1111 Web-UI, navigate to the <strong>SD-CN-Animation</strong> page.</p>



<p>Make sure “Apply color correction to img2img results to match original colors.” is NOT selected. (If you have enabled this option when testing the previous method) This color correction affects the RAFT model and produces poor results.</p>



<p>Upload the mp4 video file to the<strong> Input video</strong> section.</p>



<p>Set the <strong>width</strong> to 512. Set to <strong>height</strong> to 512. (Adjust accordingly for your video.)</p>



<p>Set the <strong>Prompt</strong> to</p>



<blockquote>
<p>photo of Sci fi cute girl, pink hair, photorealistic, in the style of franciszek starowieyski, white porcelain sci fi, mecha, 32k uhd, machine aesthetics, dark white and azure, hans zatzka, silver and pink, science fiction city,shiny pink hair, half body, oil painting, white background</p>
</blockquote>



<p>Set the <strong>Negative Prompt</strong> to </p>



<blockquote>
<p>deformed, disfigured, ugly</p>
</blockquote>



<p>Set the<strong> sampling method</strong> to DPM++2M Karras.</p>



<figure><img data-attachment-id="4826" data-permalink="https://stable-diffusion-art.com/video-to-video/image-250/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?fit=1106%2C1218&amp;ssl=1" data-orig-size="1106,1218" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?fit=272%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?fit=750%2C826&amp;ssl=1" decoding="async" width="750" height="826" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?resize=930%2C1024&amp;ssl=1 930w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?resize=272%2C300&amp;ssl=1 272w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?resize=768%2C846&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?w=1106&amp;ssl=1 1106w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image.png?resize=750%2C826&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h3><span id="Step_3_Enter_ControlNet_Settings"><strong>Step 3: Enter ControlNet Settings</strong></span></h3>



<p>We will use 2 ControlNets. If you don’t see multiple ControlNet tabs, go to <strong>Settings</strong> &gt; <strong>ControlNet</strong> to enable them.</p>



<p>For <strong>ControlNet Unit 0</strong>:</p>



<ul>
<li>Enable: Yes</li>



<li>Pixel Perfect: Yes</li>



<li>Control Type: Line Art</li>



<li>Preprocessor: Line art realistic</li>



<li>Model: control_xxxx_lineart</li>



<li>Control weight: 0.6</li>
</ul>



<p>DON’T upload an image.</p>



<p>Leave all other settings as the default.</p>



<p>For <strong>ControlNet Unit 1</strong>:</p>



<ul>
<li>Enable: Yes</li>



<li>Pixel Perfect: Yes</li>



<li>Control Type: Tile</li>



<li>Preprocessor: Tile resample</li>



<li>Model: control_xxxx_tile</li>



<li>Control weight: 0.5</li>
</ul>



<p>DON’T upload an image.</p>



<p>Leave all other settings as the default.</p>



<h3><span id="Step_4_Generate_the_video-2"><strong>Step 4: Generate the video</strong></span></h3>



<p>Click <strong>Generate</strong> to start processing.</p>



<p>Once it is done, right-click on the video, and you will find an option to save it.</p>



<p>Here’s what I got.</p>



<figure><img data-attachment-id="4831" data-permalink="https://stable-diffusion-art.com/video-to-video/lineart_realistic_weight0-6_tile_0-5_dpm2m_20steps_tut/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_tile_0.5_dpm2M_20steps_tut.gif?fit=256%2C256&amp;ssl=1" data-orig-size="256,256" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="lineart_realistic_weight0.6_tile_0.5_dpm2M_20steps_tut" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_tile_0.5_dpm2M_20steps_tut.gif?fit=256%2C256&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_tile_0.5_dpm2M_20steps_tut.gif?fit=256%2C256&amp;ssl=1" decoding="async" width="256" height="256" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_tile_0.5_dpm2M_20steps_tut.gif?resize=256%2C256&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<h3><span id="Notes_for_SD-CN-Animation">Notes for SD-CN-Animation</span></h3>



<p>I like the fact that this extension is quite polished. Things work without error. (My expectation in software engineering is low when using A1111…)</p>



<p>Make sure you have unchecked “Apply Color correction…” for img2img. Otherwise, you won’t get the best results. </p>



<p>All <a href="https://stable-diffusion-art.com/samplers/" data-type="post" data-id="3609">samplers</a> work in this extension. Make sure to pick a <strong>deterministic sampler</strong> to reduce flickering. (See comments on flickering below)</p>



<h2><span id="Method_5_Temporal_Kit">Method 5: Temporal Kit</span></h2>



<p><a href="https://github.com/CiaraStrawberry/TemporalKit" target="_blank" rel="noopener">Temporal Kit</a> implements several methods for video-to-video conversion. I’m only going to tell you the best one here.</p>



<p>The basic idea is to pick <strong>keyframes</strong> across the video (e.g. 16), stylize them with image-to-image, and use them as references to paint adjacent frames.</p>



<p>This method was pioneered by <a href="https://ebsynth.com/" target="_blank" rel="noopener">EbSynth</a>, a computer program for painting videos. It was created before Stable Diffusion, but <a href="https://stable-diffusion-art.com/how-to-use-img2img-to-turn-an-amateur-drawing-to-professional-with-stable-diffusion-image-to-image/" data-type="post" data-id="354">img2img</a> capability in Stable Diffusion has given it a new life.</p>



<p>However, the result will be poor if you do image-to-image on individual frames. The reason is that the resulting images lack coherence.</p>



<p>The trick is to transform ALL keyframes at once by stitching them together in one giant sheet. Like this:</p>



<figure><img data-attachment-id="4841" data-permalink="https://stable-diffusion-art.com/video-to-video/input0/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?fit=2048%2C2048&amp;ssl=1" data-orig-size="2048,2048" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="input0" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?fit=750%2C750&amp;ssl=1" decoding="async" width="750" height="750" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=1024%2C1024&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=768%2C768&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=1536%2C1536&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=600%2C600&amp;ssl=1 600w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=1568%2C1568&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?w=2048&amp;ssl=1 2048w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/input0.png?resize=750%2C750&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>We used to do it manually. But with Temporal Kit, you don’t have to.</p>



<h3><span id="Step_1_Install_Temporal_Kit_extension">Step 1: Install Temporal Kit extension</span></h3>



<p>In AUTOMATIC1111 Web-UI, navigate to the <strong>Extension</strong> page.</p>



<p>Select <strong>Install from URL</strong> tab.</p>



<p>In the <strong>URL for extension’s git repository</strong> field, enter</p>



<pre><code>https://github.com/CiaraStrawberry/TemporalKit</code></pre>



<p>Click <strong>Install</strong>.</p>



<p>Completely close and restart the Web-UI.</p>



<h3><span id="Step_2_Install_FFmpeg">Step 2: Install FFmpeg</span></h3>



<p>Visit FFmpeg’s <a href="https://ffmpeg.org/download.html" target="_blank" rel="noopener">download page</a> and download the FFmpeg program for your platform.</p>



<p>It should be a zip file. After unzipping, you should see a file called <code>ffmpeg</code> or <code>ffmpeg.exe</code>. This is the FFmpeg program you need! </p>



<p>But to let Temporal Kit use it, you need to put it in the PATH so that it can be accessed anywhere, by everyone.</p>



<p>If you know what PATH means. Put it in one of the directories in the PATH.</p>



<p>Read on if not…</p>



<h4><span id="Windows">Windows</span></h4>



<p>Press the <strong>Windows</strong> key. Type <code>envirnoment</code> and click the item “Edit environment variables for your account”.</p>



<figure><img data-attachment-id="4842" data-permalink="https://stable-diffusion-art.com/video-to-video/image-1-8/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?fit=1130%2C1058&amp;ssl=1" data-orig-size="1130,1058" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-1" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?fit=300%2C281&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?fit=750%2C702&amp;ssl=1" decoding="async" width="750" height="702" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?resize=1024%2C959&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?resize=300%2C281&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?resize=768%2C719&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?w=1130&amp;ssl=1 1130w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-1.png?resize=750%2C702&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Select PATH, and then Edit.</p>



<p>Add a new entry by clicking <strong>New</strong> and then type</p>



<pre><code>%USERPROFILE%\bin</code></pre>



<p>After adding, you should see the new entry of the above path.</p>



<p>Click OK to save and exit.</p>



<p>Open <strong>File Explorer.</strong> In the address bar, type</p>



<pre><code>%USERPROFILE%</code></pre>



<p>And press Enter. You should have gone to your home folder.</p>



<p>Create a new folder called <code>bin</code>.</p>



<p>Test going there by putting the following in the address bar and press Enter.</p>



<pre><code>%USERPROFILE%\bin</code></pre>



<p>You should be in your newly created folder <code>bin</code>. </p>



<p>Now put <code>ffmpeg.exe</code> in this folder, and you are all set. Now the file is in your PATH.</p>



<p>To test, open a command prompt by pressing the Windows key and type <code>cmd</code>. Press Enter.</p>



<p>In the command prompt, type </p>



<pre><code>ffmpeg</code></pre>



<p>and press Enter.</p>



<figure><img data-attachment-id="4843" data-permalink="https://stable-diffusion-art.com/video-to-video/image-2-8/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?fit=1692%2C864&amp;ssl=1" data-orig-size="1692,864" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-2" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?fit=300%2C153&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?fit=750%2C383&amp;ssl=1" decoding="async" width="750" height="383" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?resize=1024%2C523&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?resize=300%2C153&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?resize=768%2C392&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?resize=1536%2C784&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?resize=1568%2C801&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?w=1692&amp;ssl=1 1692w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-2.png?resize=750%2C383&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>You should see ffmpeg’s help page.</p>



<h4><span id="Mac_or_Linux">Mac or Linux</span></h4>



<p>Open the Terminal App.</p>



<p>Create a new folder <code>bin</code> in your home directory.</p>



<pre><code>mkdir ~/bin</code></pre>



<p>Put the <code>ffmpeg</code> file in the new directory. You can use Finder.</p>



<p>Edit <code>.zprofile</code> in your home directory.</p>



<p>Add the following line</p>



<pre><code>export PATH=~/bin:$PATH</code></pre>



<p>Start a new Terminal and type</p>



<pre><code>ffmpeg</code></pre>



<p>You should see the help page of ffmpeg displayed. This verifies FFmpeg is in your path.</p>



<h3><span id="Step_3_Enter_Pre-processing_parameters">Step 3: Enter Pre-processing parameters</span></h3>



<p>In AUTOMATIC1111, Go to the <strong>Temporal Kit</strong> page.</p>



<p>Go to the <strong>Pre-Processing</strong> tab.</p>



<p>Upload your video to the <strong>Input video</strong> canvas. (Download <a href="https://stable-diffusion-art.com/wp-content/uploads/2023/06/cosplay1.mp4">this video</a> if you want to use the same video to follow the tutorial.)</p>



<p>Next is to generate one giant sheet of <strong>keyframes</strong>.  This sheet will go through img2img so that all keyframes will have the same style.</p>



<p>Set:</p>



<ul>
<li>Side: 4 (This is setting a 4×4 images grid)</li>



<li>Height resolution: 2048 (Since each image is 512, 512×4 = 2048)</li>



<li>frames per keyframe: 4 (How many frames each keyframe is responsible for)</li>



<li>fps: 30</li>



<li>EbSyth mode: Yes</li>



<li>Target Folder: Put in a folder name path to wish to save this project to. E.g. <code>G:\temporalkit\test1</code></li>
</ul>



<p>Click <strong>Run</strong> on the right panel. You should see a sheet of 4×4 keyframes generated.</p>



<figure><img data-attachment-id="4848" data-permalink="https://stable-diffusion-art.com/video-to-video/image-3-8/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?fit=1330%2C880&amp;ssl=1" data-orig-size="1330,880" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-3" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?fit=300%2C198&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?fit=750%2C497&amp;ssl=1" decoding="async" width="750" height="497" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?resize=1024%2C678&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?resize=300%2C198&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?resize=768%2C508&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?w=1330&amp;ssl=1 1330w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-3.png?resize=750%2C497&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Make sure these keyframes cover the whole video for your own video. Adjust those parameters if not.</p>



<p>If you encounter out of memory issue in the next img2img step, reduce the side or resolution parameters.</p>



<p>Click <strong>Save Settings</strong> if you are happy with the result.</p>



<p>Click <strong>Send to img2img.</strong></p>



<h3><span id="Step_4_Perform_Img2img_on_keyframes">Step 4: Perform Img2img on keyframes</span></h3>



<p>Go to the <strong>Img2img</strong> page. The giant sheet of keyframes should already be in the image canvas. </p>



<p>Switch to the <strong>Batch</strong> tab.</p>



<p><strong>Input directory</strong>: The name of your target directory with <code>\input</code> appended. E.g. <code>G:\temporalkit\test1\input</code></p>



<p><strong>Output directory</strong>: Similarly but with <code>\output</code> appended. Eg. <code>G:\temporalkit\test1\output</code></p>







<p>The image size should be corrected and set automatically. (2048×2048).</p>



<p>Enter a prompt.  I used</p>



<blockquote>
<p>photo of Sci fi cute girl, pink hair, photorealistic, in the style of franciszek starowieyski, white porcelain sci fi, mecha, 32k uhd, machine aesthetics, dark white and azure, hans zatzka, silver and pink, science fiction city,shiny pink hair, half body, oil painting, white background</p>
</blockquote>



<p>And a negative prompt:</p>



<blockquote>
<p>deformed, disfigured, ugly</p>
</blockquote>



<p><strong>Sampling method</strong>: DPM++2M Karras</p>



<p><strong>Sampling steps</strong>: 20</p>



<p>CFG scale: 7</p>



<p>Denoising strength: 0.5 (adjust accordingly)</p>



<p>In ControlNet (Unit 0) section, set:</p>



<ul>
<li>Enable: Yes</li>



<li>Pixel Perfect: Yes</li>



<li>ControlType: Tile</li>



<li>Preprocessor: tile_resample</li>



<li>Model: control_xxxx_tile</li>
</ul>



<p>Press <strong>Generate</strong>. After it is done, you will find the image in the batch output folder.</p>



<p>Make sure to open the image in full size and inspect the details in full size. Make sure they look sharp and have a consistent style.</p>



<h3><span id="Step_5_Prepare_EbSynth_data">Step 5: Prepare EbSynth data</span></h3>



<p>Now we need to generate data to put into EbSynth.</p>



<p>Go to <strong>Temporal-Kit</strong> page and switch to the <strong>Ebsynth-Process</strong> tab.</p>



<p><strong>Input Folder</strong>: Put in the same <strong>target folder</strong> path you put in the<strong> Pre-Processing</strong> page. E.g. <code>G:\temporalkit\test1</code></p>



<p>Click <strong>read last_settings.</strong> If your input folder is correct, the video and the settings will be populated.</p>



<figure><img data-attachment-id="4852" data-permalink="https://stable-diffusion-art.com/video-to-video/image-5-8/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?fit=1390%2C1350&amp;ssl=1" data-orig-size="1390,1350" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-5" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?fit=300%2C291&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?fit=750%2C729&amp;ssl=1" decoding="async" width="750" height="729" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?resize=1024%2C995&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?resize=300%2C291&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?resize=768%2C746&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?w=1390&amp;ssl=1 1390w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-5.png?resize=750%2C729&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Click <strong>prepare ebsynth</strong>. After it is done, you should see the <strong>keys</strong> folder populated with your stylized keyframes, and the <strong>frames</strong> folder populated with your images.</p>



<h3><span id="Step_6_Process_with_EbSynth">Step 6: Process with EbSynth</span></h3>



<p>Now open the <strong>EbSynth</strong> program.</p>



<p>Open the File Explorer and navigate to the project folder. You should folder like the ones showed below. We need the <strong>keys</strong> folder and the <strong>frames</strong> folder for EbSynth.</p>



<figure><img data-attachment-id="4853" data-permalink="https://stable-diffusion-art.com/video-to-video/image-6-8/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?fit=2398%2C1098&amp;ssl=1" data-orig-size="2398,1098" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-6" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?fit=300%2C137&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?fit=750%2C344&amp;ssl=1" decoding="async" width="750" height="344" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?resize=1024%2C469&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?resize=300%2C137&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?resize=768%2C352&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?resize=1536%2C703&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?resize=2048%2C938&amp;ssl=1 2048w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?resize=1568%2C718&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?w=2250&amp;ssl=1 2250w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-6.png?resize=750%2C344&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Drag the <strong>keys folder</strong> from the File Explorer and drop it to the <strong>Keyframes</strong> field in EbSynth.</p>



<p>Drag the <strong>frames folder</strong> from the File Explorer and drop it to the <strong>frames</strong> field in EbSynth.</p>



<p>After these two steps, EbSynth should have populated with the correct settings with a bunch of <strong>Synth</strong> buttons. There is one row for each keyframe. Each keyframe acts as a reference and stylizes a certain number of frames.</p>



<figure><img data-attachment-id="4854" data-permalink="https://stable-diffusion-art.com/video-to-video/image-7-8/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?fit=2420%2C1380&amp;ssl=1" data-orig-size="2420,1380" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-7" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?fit=300%2C171&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?fit=750%2C428&amp;ssl=1" decoding="async" width="750" height="428" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?resize=1024%2C584&amp;ssl=1 1024w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?resize=300%2C171&amp;ssl=1 300w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?resize=768%2C438&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?resize=1536%2C876&amp;ssl=1 1536w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?resize=2048%2C1168&amp;ssl=1 2048w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?resize=1568%2C894&amp;ssl=1 1568w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?w=2250&amp;ssl=1 2250w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/image-7.png?resize=750%2C428&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Click <strong>Run All</strong> and wait for them to complete.</p>



<p>When it is done, you should see a series of <code>out_#####</code> directories generated in the target project folder.</p>



<h3><span id="Step_7_Make_the_final_video">Step 7: Make the final video</span></h3>



<p>Now go back to AUTOMATIC1111. You should still be on the <strong>Temporal Kit</strong> page and <strong>Ebsynth-Process</strong> tab.</p>



<p>Click <strong>recombine ebsynth</strong> and you are done!</p>



<figure><img data-attachment-id="4864" data-permalink="https://stable-diffusion-art.com/video-to-video/temporalkit_ebsynth_ds0-5/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="temporalkit_ebsynth_ds0.5" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/temporalkit_ebsynth_ds0.5.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Look how smooth the video is. With some tweaking, you can probably make it better!</p>



<h2><span id="Variations">Variations</span></h2>



<h3><span id="Multiple_ControlNets">Multiple ControlNets</span></h3>



<p>Experiment with <a href="https://stable-diffusion-art.com/controlnet/#Multiple_ControlNets">Multiple ControlNet</a> to further fix small details and reduce flickering. </p>



<p>For example, you can add a second ControlNet to use <a href="https://stable-diffusion-art.com/controlnet/#Reference_only">reference only</a> to fix the character’s look. I used a frame from a video generated before.</p>



<figure><img data-attachment-id="4774" data-permalink="https://stable-diffusion-art.com/video-to-video/image-241/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?fit=1340%2C1480&amp;ssl=1" data-orig-size="1340,1480" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="image-241" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?fit=272%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?fit=750%2C828&amp;ssl=1" decoding="async" width="750" height="828" alt="" data-srcset="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?resize=927%2C1024&amp;ssl=1 927w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?resize=272%2C300&amp;ssl=1 272w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?resize=768%2C848&amp;ssl=1 768w, https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?w=1340&amp;ssl=1 1340w" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/05/image-241.png?resize=750%2C828&amp;ssl=1" data-sizes="(max-width: 750px) 100vw, 750px" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Here’s the video with lineart and reference-only ControlNets.</p>



<figure><video controls="" src="https://stable-diffusion-art.com/wp-content/uploads/2023/05/lineart_reference_only.mp4"></video></figure>



<h3><span id="Other_settings">Other settings</span></h3>



<p>Experiment with <strong>denoising strength</strong> for a trade-off between the amount of change and flickering.</p>



<p>Sometimes, the input video is too hard to process well with ControlNet. Try another one with a bigger and slow-moving subject.</p>



<h3><span id="Deflickering">Deflickering</span></h3>



<h4><span id="Multiple_ControlNet">Multiple ControlNet</span></h4>



<p>Using multiple ControlNet to fix features in the video can significantly reduce flickering.</p>



<p>For example, this is with ONE ControlNet, <a href="https://stable-diffusion-art.com/controlnet/#Line_Art_Realistic">Line art realistic</a>.</p>



<figure><img data-attachment-id="4800" data-permalink="https://stable-diffusion-art.com/video-to-video/euler_a_lineart_real/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="euler_a_lineart_real" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/><figcaption>Lineart realistic (weight: 0.6)</figcaption></figure>



<p>What if we add one more ControlNet, the <a href="https://stable-diffusion-art.com/controlnet/#Tile_resample">Tile Resample</a>?</p>



<figure><img data-attachment-id="4801" data-permalink="https://stable-diffusion-art.com/video-to-video/euler_a_lineart_real_0-6_tile_0-5/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="euler_a_lineart_real_0.6_tile_0.5" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_tile_0.5.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/><figcaption>Lineart realistic (weight: 0.6). Tile Resample (weight: 0.5).</figcaption></figure>



<p>Not only it flickers less, but it also helps to preserve the color of the original video.</p>



<p>A similar degree of deflickering can be achieved by adding the <a href="https://stable-diffusion-art.com/controlnet/#Canny">Canny ControlNet</a>.</p>



<figure><img data-attachment-id="4802" data-permalink="https://stable-diffusion-art.com/video-to-video/euler_a_lineart_real_0-6_canny_0-5/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_canny_0.5.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="euler_a_lineart_real_0.6_canny_0.5" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_canny_0.5.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_canny_0.5.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/euler_a_lineart_real_0.6_canny_0.5.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/><figcaption>Lineart realistic (weight: 0.6). Canny (weight: 0.5)</figcaption></figure>



<p>The tradeoff is it is going to take longer to process a video. But I think its worth it!</p>



<h4><span id="Post-processing">Post-processing</span></h4>



<p>Videos made using Stable Diffusion ControlNet still have some degree of flickering. Here are something you can do the flickering.</p>



<p><a href="https://www.blackmagicdesign.com/products/davinciresolve" target="_blank" rel="noopener">Da Vinci Resolve</a> has a<a href="https://www.youtube.com/watch?v=XIw_ceXs-E0" target="_blank" rel="noopener"> deflickering plugin</a> you can easily apply to the Stable Diffusion video. Unfortunately, it is only available in the paid version (Studio).</p>



<p>If you are not prepared to shell out for that and are tech-savvy, use this <a href="https://github.com/ChenyangLEI/All-in-one-Deflicker" target="_blank" rel="noopener">deflickering model</a> to process your videos.</p>



<h4><span id="deterministic_samplers">deterministic samplers</span></h4>



<p>Use a deterministic <a href="https://stable-diffusion-art.com/samplers/" data-type="post" data-id="3609">sampler</a> to reduce flickering. </p>



<p>Below is using <strong>Euler a</strong>, a <strong>stochastic</strong> sampler. (Produced with SD-CN-animation.)</p>



<figure><img data-attachment-id="4798" data-permalink="https://stable-diffusion-art.com/video-to-video/lineart_realistic_weight0-6_canny_0-5/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="lineart_realistic_weight0.6_canny_0.5" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>The video below uses the same settings except using <strong>DPM++2M Karas</strong>, a <strong>deterministic sampler</strong>. </p>



<figure><img data-attachment-id="4799" data-permalink="https://stable-diffusion-art.com/video-to-video/lineart_realistic_weight0-6_canny_0-5_dpm2m_20steps/" data-orig-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps.gif?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps.gif?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps.gif?fit=512%2C512&amp;ssl=1" decoding="async" width="512" height="512" alt="" data-recalc-dims="1" data-src="https://i0.wp.com/stable-diffusion-art.com/wp-content/uploads/2023/06/lineart_realistic_weight0.6_canny_0.5_dpm2M_20steps.gif?resize=512%2C512&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></figure>



<p>Note her face and hair flicker less.</p>



<p>Some examples of deterministic samplers are</p>



<ul>
<li>Euler</li>



<li>LMS</li>



<li>Heun</li>



<li>DPM++2M</li>



<li>DPM++2M Karas</li>
</ul>



<p>See the <a href="https://stable-diffusion-art.com/samplers/" data-type="post" data-id="3609">sampler article</a> for an overview.</p>



<h2><span id="Other_video-to-video_Options">Other video-to-video Options</span></h2>



<h3><span id="EbSynth">EbSynth </span></h3>



<p><a href="https://ebsynth.com/" target="_blank" rel="noopener">EBSynth</a> is used to paint over a video, either manually or with AI image generators such as Stable Diffusion.</p>



<p>You will then dice the image back to 4 individual images and use them as keyframes in EbSynth.</p>



<p>The reason to go through this process is to improve the consistency across the keyframes. If the keyframes were transformed with img2img individually, they would normally have too much variation.</p>



<p>The EbSynth method is best to be executed with the <a href="#Method_5_Temporal_Kit">Temporal Kit.</a> </p>



<h3><span id="Deforum">Deforum</span></h3>



<p><a href="https://stable-diffusion-art.com/deforum/" data-type="post" data-id="3910">Deforum</a> has a video-to-video function with ControlNet. (Writing about this soon.)</p>



<h3><span id="Stable_WarpFusion">Stable WarpFusion</span></h3>



<figure><p>
<iframe title="Stable WarpFusion v0.12 - tiled VAE, ControlNet 1.1 (run 51)" width="750" height="422" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" data-src="https://www.youtube.com/embed/R75CNyjnJes?feature=oembed" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></iframe>
</p></figure>



<p><a href="https://www.patreon.com/sxela" target="_blank" rel="noopener">Stable WarpFusion</a> is a paid Colab Notebook that produces amazing video transformations with custom algorithms. </p>




<div><p><a href="https://www.buymeacoffee.com/sdart" target="_blank" rel="noopener"><img decoding="async" alt="Buy Me A Coffee" data-recalc-dims="1" data-src="https://i0.wp.com/cdn.buymeacoffee.com/buttons/v2/default-yellow.png?w=750&amp;ssl=1" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/></a></p></div>	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>
  </body>
</html>
