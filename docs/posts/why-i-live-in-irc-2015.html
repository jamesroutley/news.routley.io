<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://aaronparecki.com/2015/08/29/8/why-i-live-in-irc">Original</a>
    <h1>Why I Live in IRC (2015)</h1>
    
    <div id="readability-page-1" class="page"><div><p>
Note: This post is from 2015. Since then, a few things have changed about my setup. I now connect to my Weechat instance via <a href="https://www.glowing-bear.org/">Glowing Bear</a>, which has eliminated some of the problems discussed below. I have also moved to Libera along with all the IRC communities I&#39;m in. Twitter is effectively dead to me since I lost API access. Most of the other content (other than actual community chat channels) described here I have also moved to an <a href="https://aaronparecki.com/2018/04/20/46/indieweb-reader-my-new-home-on-the-internet">IndieWeb Reader</a>.
</p>

<p>People often look at me funny when I say I live in IRC. After reading this post, I hope you will be able to understand why IRC has continued to be a useful platform for me for many years. This is also an attempt to document the functionality it provides since I want to replace the underlying technology later.</p>

<p>I have lived in IRC for about 7 years. What I mean by this is that IRC has been my primary hub for reading information online and interacting with people and systems. I don&#39;t use an RSS reader, I visit Twitter and Facebook only occasionally, and I try to limit my email usage to only business. Instead, I have created filters from various sources that send notifications to various IRC channels about things I am interested in.</p>

<h2>Interface</h2>

<p>I typically use the open source <a href="https://weechat.org/">WeeChat</a> IRC client. The screenshot below shows a what I normally see when I am connected.</p>

<p><img src="https://aaronparecki.com/2015/08/29/8/weechat-irc.png" alt="weechat-irc"/></p>

<p>The numbers in the blue bar on the bottom correspond to IRC channels. If the number appears in the bar, it means there is new activity in that channel that I haven&#39;t seen yet. The numbers and colors tell me more about the type of activity in the channel.</p>

<p><img src="https://aaronparecki.com/2015/08/29/8/weechat-mention-notification.png" alt="weechat-mention-notification"/></p>

<p>The numbers in parentheses indicate the type of activity in the window. When someone mentions me, the window number turns pink, and the first number in parens indicates the number of messages that mention me, the second number is the number of other messages. When the channel number is yellow, it means someone has said something, the first number if parens is the number of messages, the second number (if present) is the number of join/part messages. If the channel number is just light grey, it means the only activity in the window is join/parts.</p>

<p>When there are no new messages in any channels the bar looks like this:</p>

<p><img src="https://aaronparecki.com/2015/08/29/8/weechat-no-activity.png" alt="weechat-no-activity"/></p>

<p>WeeChat runs on a server in a <a href="https://tmux.github.io/">tmux</a> session, so that I am always connected to the IRC channels, which means when I come back to my computer I can quickly scroll through recent messages to catch up. Lately, however, I&#39;ve had an easier time skimming the web logs for the #indiewebcamp channel, since they are formatted much nicer than this terminal window: <a href="http://indiewebcamp.com/irc/today">indiewebcamp.com/irc/today</a></p>

<h3>Keyboard Shortcuts</h3>

<p>WeeChat supports approximately <a href="https://weechat.org/files/doc/stable/weechat_user.en.html#key_bindings">a billion keyboard shortcuts</a>. The few I typically use are:</p>

<ul>
<li>Alt + 0-9 to switch to the top 10 tabs</li>
<li>Alt + h to clear all unread counts</li>
<li>Alt + Left and Alt + Right to navigate between tabs</li>
<li>Fn + Up and Fn + Down to page up and down in a window</li>
<li>Typing &#34;/b 13&#34; lets me quickly navigate to specific channel numbers</li>
</ul>

<p>Over time, I&#39;ve built up a mental mapping of numbers to channels, so I know when I see the number &#34;2&#34; in the list, it means there is activity in the #indiewebcamp channel, but if I see the number &#34;7&#34; in the list, it&#39;s probably just logs from my web server. I don&#39;t have all of them memorized of course, but the most common ones and the ones I care most about I know.</p>

<h2>Data Sources</h2>

<p>Currently I have information from several different types of data sources.</p>

<h3>IRC</h3>

<p>There are several communities I am a part of where IRC is the primary means of communication. The #pdxtech and #indiewebcamp channels on Freenode, the W3C Social Web Working Group (on irc.w3.org), several groups on the internal Esri IRC server, and a few others. I also have a private IRC server I use for close friends who are willing to put up with terrible IRC clients to talk to me.</p>

<h3>Twitter Searches</h3>

<p>I rarely actually read my Twitter timeline. Instead, I follow several hashtags and search terms, which pipe to various IRC channels.</p>

<p>In the public #indiewebcamp channel, the resident IRC bot reports when people talk about &#34;IndieWeb&#34;, &#34;IndieWebCamp&#34;, &#34;IndieAuth&#34;, and &#34;Webmention&#34; on Twitter. Similarly, in the public #microformats channel, I see tweets about &#34;microformats&#34; and a few other terms.</p>

<p>I have a search for a few Esri keywords that show up in some of the internal Esri IRC channels.</p>

<p>A search running for some of the names of my other projects show up in channels on my private IRC server.</p>

<h3>Website Notifications</h3>

<p>My website uses IRC as a logging mechanism so that I have an easy way to know when it does things like import my <a href="http://aaronparecki.com/rides">bike ride logs from Runkeeper</a> or my <a href="http://aaronparecki.com/sleep">sleep logs from Jawbone</a>.</p>

<p>Some of my other web apps also report things to IRC, such as when someone buys credits on <a href="http://vanity-qrcode.com/">vanity-qrcode.com</a> or notifications when disks are nearing full.</p>

<p>I also wrote a <a href="https://github.com/aaronpk/Wordpress-IRC-Notification">Wordpress plugin</a> that sends a notification when new posts are published or new comments are posted.</p>

<h3>GitHub notifications</h3>

<p>Rather than needing to check github.com all the time, or turn on email notifications, I have IRC channels for various groupings of projects. Notifications about people opening issues or making commits are sent there, giving me an easy way of seeing activity on various repos grouped by category. I have a channel for #indieweb projects such as <a href="https://github.com/aaronpk/webmention.io">webmention.io</a>, <a href="https://github.com/aaronpk/Teacup">Teacup</a>, <a href="https://github.com/aaronpk/Monocle">Monocle</a>, <a href="https://github.com/aaronpk/Atlas">Atlas</a> and many more. Several different private Esri channels give me notifications about the various projects we work on like the <a href="https://developers.arcgis.com/">ArcGIS for Developers</a> website, the <a href="https://developers.arcgis.com/en/features/geotrigger-service/">Geotrigger Service</a>, and previously, the <a href="https://github.com/geoloqi">Geoloqi</a> repositories.</p>

<h3>Home Automation</h3>

<p>I&#39;ve been hacking on various <a href="http://aaronparecki.com/tag/homeautomation">home automation projects</a> for many years. It always ends up seeming that the easiest way to get notifications of things is through IRC. Over the years, I&#39;ve used IRC to get notifications for many things such as</p>

<ul>
<li>a camera-triggered motion sensor, which sends a link to view the image taken from the camera</li>
<li>someone used their thumbprint to open a door</li>
<li>someone entered their code in my apartment building&#39;s call box</li>
<li>the system updated the door code for my <a href="https://github.com/aaronpk/Auto-AirBnB-Entry">AirBnB lock</a></li>
</ul>

<h2>How does this work?</h2>

<p>For every channel I use for notifications, I run an <a href="https://github.com/aaronpk/zenircbot">IRC bot</a> that has an HTTP server and listens to a few UDP ports. The UDP ports allow me to &#34;fire and forget&#34; messages into IRC that might otherwise bog down the server that&#39;s sending them. This is actually how the original MediaWiki RecentChanges bot works, which is what this entire system is based on. I added the HTTP interface to give myself a more flexible and secure mechanism for sending messages to IRC as well.</p>

<p>At the core, the connection to IRC is really just this bot that listens for external messages. Everything that generates messages for IRC actually lives on many different servers depending on what it is.</p>

<p><img src="https://aaronparecki.com/2015/08/29/8/irc-diagram.png" alt="IRC Diagram"/></p>

<h3>Notifications</h3>

<p>Weechat has several plugins for sending notifications to a mobile phone. I use the <a href="http://www.prowlapp.com/">Prowl</a> iOS app on my phone to receive push notifications. The Prowl service exposes an HTTP endpoint that Weechat uses to send me a push notification.</p>

<p>By default, it will send notifications whenever your IRC nickname is mentioned. This is handy for knowing if someone is trying to get a hold of me on IRC, but is also a quick way to have notifications from various server scripts sent to my phone. I will often add on &#34;aaronpk&#34; to the log message because I know that will cause it to send a notification to my phone.</p>

<p>If I am connected to the Weechat session, it knows not to send push notifications to my phone.</p>

<h3>Components of a Notification</h3>

<p>A single line in IRC has several pieces of information. Some of these are built in to the IRC network, but I have also developed a few conventions for what goes into a line of IRC as well.</p>

<ul>
<li>network (IRC, Twitter.com, Github.com)</li>
<li>account (IRC user, Twitter user, etc)</li>
<li>timestamp</li>
<li>author (author name, or name + url)</li>
<li>category (for my website logs, this is &#34;runkeeper&#34;, &#34;sleep&#34; or &#34;mention&#34; for example)</li>
<li>content (text)</li>
<li>permalink</li>
</ul>

<p>Examples:</p>

<ul>
<li><code>[runkeeper:bikeride] 3.5km 15 minutes http://aaronparecki.com/metrics/2015/08/28/161857/</code></li>
<li><code>[github.com/aaronpk/Quill] kylewm opened issue #28: support identity URLs with non-trivial paths https://github.com/aaronpk/Quill/issues/28</code></li>
<li><code>[AirBnB] Michigan door code was set to 6932</code></li>
<li><code>[door] incoming call</code></li>
<li><code>[@patrickgrimard] Great article explaining #Oauth2 https://aaronparecki.com/articles/2012/07/29/1/oauth2-simplified (http://twtr.io/12zRXPmw37j)</code></li>
</ul>

<h3>Logs</h3>

<p>Another major benefit of having Weechat be my primary interface and having it always signed in, is it stores logs of all channels as plain text files. It turns out text files are relatively easy to keep around in the long term, much more so than migrating databases between versions or different servers over the years. Text files are also very easy to search, you can use grep to find things very quickly!</p>

<p>Logs are grouped by IRC network, and in folders for each year, with one file per day.</p>

<pre>irclogs/
       /2014/
            ...
       /2015/
            /...
            /esri/
                 /...
                 /#portland.08-25.log
                 /#portland.08-26.log
            /freenode/
                     /...
                     /#indiewebcamp.08-25.log
                     /#indiewebcamp.08-26.log
</pre>

<h2>Why do I keep coming back to IRC?</h2>

<p>There are clearly much nicer interfaces than what I am currently using. Weechat is a terminal client, so I don&#39;t get things like inline images, and URLs that wrap multiple lines are cumbersome to open. There isn&#39;t a mobile interface, aside from mobile SSH. And yet, despite these shortcomings, it continues to be more useful than any alternative I&#39;ve found yet.</p>

<p>Here is a summary of the key components of why I believe this setup has stuck around for so many years.</p>

<ul>
<li>My IRC bot gives me an HTTP endpoint to get messages into IRC channels from many different data sources</li>
<li>Everything is logged as text, which is easy to search and has low storage requirements</li>
<li>Weechat is always connected so I can always see scrollback when I come back to my computer</li>
<li>Weechat has keyboard shortcuts making it very quick to navigate between all the open tabs</li>
<li>Weechat sends push notifications to my phone</li>
</ul>

<h3>Shortcomings</h3>

<p>There are, however, several shortcomings of this setup.</p>

<ul>
<li>Weechat is not easy to use on mobile (requires mobile SSH)</li>
<li>Long URLs are not clickable since they wrap multiple terminal lines</li>
<li>No inline images</li>
<li>Adding new channels is more work than I&#39;d like, since it involves making config changes to the IRC bot</li>
</ul>

<h2>Replacing IRC</h2>

<p>At this point I am finding myself wanting some of the nicer features of a graphical interface, and I&#39;m planning on finding or building a system that can replace my use of IRC. However, regardless of what this envisioned system <i>could</i> do, regardless of the grand vision, my current setup does this subset of things right now, which is enough for me to have kept using it for 7+ years.</p>

<p>That said, there are a few things I would like my new interface to do that would be challenging or impossible with my current interface.</p>

<ul>
<li>Better configuration of mobile push notifications (adding keywords or source matches, for example)</li>
<li>Mobile-friendly view so that I use the same system with the same design and layout on both mobile and desktop</li>
<li>Use channels as a &#34;<a href="https://indiewebcamp.com/reader">reader</a>&#34;, e.g. adding h-entry/RSS/Atom feeds to a channel, being able to quickly add new sources from the interface</li>
<li>Be able to post to my website (and reply to other posts) from within the channels</li>
</ul>
</div></div>
  </body>
</html>
