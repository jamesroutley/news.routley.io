<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://gpuopen.com/brotli-g-sdk-announce/">Original</a>
    <h1>Brotli-G: A GPU compression/decompression standard for digital assets</h1>
    
    <div id="readability-page-1" class="page"><div data-id="ba33dae" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
							<h2>Introduction and background</h2><p>Brotli-G is based on the well-established Brotli lossless compression algorithm standard maintained by the IETF (also known as <a href="https://datatracker.ietf.org/doc/html/rfc7932" target="_blank" rel="noopener">RFC7932</a>). Brotli was first released in 2013 and the open-source specification was developed and generalized between 2013 and 2016. It was developed by Google Research as an open successor to the GZIP and Deflate algorithms, with similar performance (to Deflate) but a better compression ratio.</p><p>The original use case was to make websites load faster by compressing content used by web servers and content delivery networks. Brotli is useful as a general compression scheme for many types of data/content/assets. The ‘intended audience’ as defined in the specification is characterized as follows:</p><p>“<em>This specification is intended for use by software implementers to compress data into and/or decompress data from the Brotli format.</em>”</p><h2>Existing ecosystem for Brotli</h2>						</div>
				</div><div data-id="f0192f6" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
							<p>The technical details of the Brotli algorithm are well documented (see resources section below). At a high level, it is a combination of the LZ77 compression algorithm and Huffman coding (similar to GZIP and Deflate).</p><p>It is well documented that Brotli performs competitively vs other standards (such as GZIP and Deflate) in all metrics: compression ratio, compression speed, and decompression speed. Comparisons with various compressions standards can be seen at <a href="https://quixdb.github.io/squash-benchmark/#results-table" target="_blank" rel="noopener">Squash Compression Benchmark</a> (quixdb.github.io)</p><p>Because of the obvious performance and compression ratio advantages over previous compression formats, Brotli has been widely adopted in web applications and content spaces. Brotli can be used to compress web application assets such as fonts, javascript, images, and much more.</p><ul><li>Brotli decompression is supported by <a href="https://caniuse.com/?search=brotli" target="_blank" rel="noopener">over 95% of web browsers today</a>.</li><li>Many web application frameworks support Brotli encoding (such as <a href="https://docs.nginx.com/nginx/admin-guide/dynamic-modules/brotli/" target="_blank" rel="noopener">NGINX</a>, and <a href="https://devblogs.microsoft.com/dotnet/introducing-support-for-brotli-compression/" target="_blank" rel="noopener">ASP.NET</a>).</li><li>Some CDNs use Brotli encoding (such as <a href="https://learn.microsoft.com/en-us/azure/cdn/cdn-improve-performance#compression-rules" target="_blank" rel="noopener">Azure</a>, and <a href="https://imagekit.io/blog/what-and-why-brotli-compression/" target="_blank" rel="noopener">ImageKit</a>)</li></ul><p>Brotli has already been successful in these areas. When asset file sizes are smaller, they can be delivered over networks faster, and when compression/decompression is fast, web pages load faster and are more responsive.</p><p>As a general data compression format, Brotli may also be applied to other software ecosystems such as gaming and cloud gaming. Video games are asset-dense software applications, and many already employ some type of compression to reduce file size. The gaming experience may be improved by improving the compression and decompression performance of compressed assets.</p><h2>Brotli-G: AMD modifications to Brotli</h2><p>The AMD modifications to the Brotli bitstream format are focused on allowing efficient, data-parallel decompression on GPUs and multithreaded CPUs, while still maintaining comparatively high, state-of-the-art compression ratios for general-purpose data. Some of the modifications include:</p><ul><li>Limited the size of chunks to compress (pages) providing the ability to use multiple Compute Units (CUs) on the GPU.</li><li>Implemented parallel Huffman substreams, providing the ability to use SIMD processing.</li><li>Simplified the bitstream format to maximize performance on GPU.</li></ul><p>The Brotli-G decompression algorithm has been implemented as a ‘shader’ program (written in HLSL) that runs on virtually any DirectX®-compatible graphics card. Implementing decompression in shaders takes advantage of the enormous parallel processing power available in modern GPU hardware, to enable incredibly fast decompression speeds.</p><p>Existing optimized Brotli decompression functions (CPU implementations) should be able to decompress the Brotli-G bitstream, while more optimal data-parallel implementations on hosts or accelerators can further improve performance.</p><p>One thing for developers to note is that assets that have already been compressed with Brotli cannot be decompressed with Brotli-G decompressor implementations. To take advantage of Brotli-G, assets must be recompressed using a Brotli-G compatible compressor (also supplied in the SDK).</p><h2>What AMD is releasing</h2><p>We are releasing a Brotli-G SDK that contains source code for CPU compression and decompression on both the CPU and the GPU. The SDK also contains source code for a CLI application that can be used for testing and measuring the performance of the Brotli-G codec. The SDK can be found in its <a href="https://github.com/GPUOpen-LibrariesAndSDKs/brotli_g_sdk" target="_blank" rel="noopener">GitHub repository</a>.</p><p>We will also be integrating Brotli-G codecs into our <a href="https://gpuopen.com/compressonator/">Compressonator</a> content authoring toolchain component as a supported compression format in its SDK library (coming soon).</p><p>AMD encourages collaborative, open-source development to further improve compression ratio and multi-threaded compression/decompression performance on CPU and GPU accelerators, in addition to improving integration with the general Brotli format.<span> </span></p>						</div>
				</div></div>
  </body>
</html>
