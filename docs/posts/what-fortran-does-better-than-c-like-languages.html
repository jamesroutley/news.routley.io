<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://craftofcoding.wordpress.com/2022/02/11/what-fortran-does-better-than-c-like-languages/">Original</a>
    <h1>What Fortran does better than C-like languages</h1>
    
    <div id="readability-page-1" class="page"><div>
			
<p>C-like languages (C, C++, Java) can do many things, but over the decades nothing much has changed with the inadequacies of some of their control structures. Fortran on the other hand, has evolved. Here are some things that just make implementing some algorithms easier. (Yes there are work arounds in C, but they are not as elegant).</p>



<h4 id="exiting-from-a-nested-loop">Exiting from a nested loop</h4>



<p>In C-like languages exiting from a deeply nested loop isn’t exactly trivial (without the use of <code>goto</code>, so don’t even go there). A <code>break</code> statement in C will only exist the loop the <code>break</code> resides in. If the break appears inside a nested loop, the break only leaves the loop it is in. There is no single break statement in C that will break out of more than one level of nesting. It is possible to add an extra condition, for example in C:</p>


<div><pre title="">exitloop = 0
for (i=1; i&lt;=10 &amp;&amp; !exitloop; i=i+1)
   for (j=1; j&lt;=10 &amp;&amp; !exitloop; j=j+1)
      for (k=1; k&lt;=10 &amp;&amp; !exitloop; k=k+1)
         if (x[i][j][k] == 0) 
            exitloop = 1;
</pre></div>


<p>Fortran however allows loops to be named, so exiting nested loops is as simple as naming the loop to be exited.</p>


<div><pre title="">&lt;strong&gt;loop1&lt;/strong&gt;: do i = 1, 10
   loop2: do j = 1, 10
      loop3: do k = 1, 10
         if (x(i,j,k) == 0) exit &lt;strong&gt;loop1&lt;/strong&gt;
      end do loop3
   end do loop2
end do loop1
</pre></div>


<h4 id="exiting-from-a-nested-loop">Ranges in a case statement</h4>



<p>C doesn’t do ranges in <code>switch</code>… okay so some compilers, like gnu C offer it as an extension, but it’s not part of the spec. Fortran allows it as part of the standard.</p>


<div><pre title="">integer :: temp_c

! Fujita Scale for wind velocity (mph)
select case (windS)
case (40:72) 
   write (*,*) &#39;F0 : light-weak&#39;
case (73:112)
   write (*,*) &#39;F1 : moderate-weak&#39;
case (113:157)
   write (*,*) &#39;F2 : significant-strong&#39;
case (158:206)
   write (*,*) &#39;F3 : severe-strong&#39;
case (207:260)
   write (*,*) &#39;F4 : devastating-violent&#39;
end select
</pre></div>


<h4 id="exiting-from-a-nested-loop">Array slicing</h4>



<p>If you deal with arrays, you know how important it is to have array slicing in a language – because it makes manipulating arrays super easy. Why write loops when you don’t have to? Here are two array declarations in Fortran.</p>


<div><pre title="">integer, dimension(100) :: vec
integer, dimension(1:6,1:6) :: arr2d
</pre></div>


<p>Here are some things you can do:</p>


<div><pre title="">print *, size(vec)   ! print the size of the array
print *, vec(40:50)  ! print elements 40 to 50
print *, vec(40:50:2)! print elements 40 to 50, step size 2, ie. 40,42,...
add2d = 1            ! set all elements of the array to the value 1
arr2d(3:4,3:4) = 2   ! set elements in row 3 and 4, col 3 and 4 to value 2
write (*,*) arr2d    ! print out the whole array (a bit messy)
</pre></div>


<p>Arrays in 2D can be messy when printed using the single statement above. It is possible to use a single loop, and slicing to make things look nicer. The loop controls the row, and the columns are all included using the “:” symbol.</p>


<div><pre title="">do i = 1,size(arr2d,1)
   write(*,&#39;(6i4)&#39;) arr2d(i,:)
end do
</pre></div>


<p>There is no array slicing mechanism in C.  </p>



<h4 id="exiting-from-a-nested-loop">Arrays with any indices you want</h4>



<p>Fortran by default indexes arrays at 1. But, you are not restricted to that, you can specify the index range of any array. Some examples are shown below:</p>


<div><pre title="">integer, dimension(100) :: v      ! indices-&gt; 1..100
integer, dimension(0..99) :: w    ! indices-&gt; 0..99
real, dimension(-5:5) :: z        ! indices-&gt; -5,-4,...0,...4,5
real, dimension(3,4) :: a         ! indices-&gt; x: 1..3 and y: 1..4
real, dimension(-1:1,4) :: a      ! indices-&gt; x: -1,0,1 and y: 1..4
</pre></div>


<p>Makes it much easier to bend a language to an algorithm, rather than the other way around.</p>



<h4 id="exiting-from-a-nested-loop">No dangling else</h4>



<p>Regardless of what people say, dangling <code>else</code> does cause problems in languages like C. The fact that all Fortran control structures are terminated puts a stop to that. There is also no need for { and } or similar to signify the begin and end of a control block.</p>



<h4 id="exiting-from-a-nested-loop">Few if any dangerous things</h4>



<p>Fortran is cool because it is easy to learn, hard to make catastrophic errors with, and for numerical computation there is likely no faster language. Sure, it may lack some of the low-level features of C, but not every language has to be so close to the system.</p>
			
			
								</div></div>
  </body>
</html>
