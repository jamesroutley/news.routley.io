<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/FiloSottile/status/1476698207413493766">Original</a>
    <h1>Linux Kernel RNG is now Blake2 instead of SHA1 and 3x faster</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-21720" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476698207413493766" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="13" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:34:23.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:34:23.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__hrreye2eyq8 id__p7hcny543bn id__kp649ctz8c id__a954ac6dvth id__2bt2vryslbb id__9h1zo6refpa id__ptlpdjf9bum id__2oldrmt58cf id__98fmoytopom id__uns14bpkweg id__2b0do1jr3hc id__5dy26bg81nr id__o1r4edpfh2d" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476704858900250630" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:00:48.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:00:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476704858900250630" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__zuv7yfzss0i id__apbhxws4qom id__jqhvw2agdzc id__7ufobbttdko id__3f2c7of644w id__goo885ys7g id__syvi97ba05o id__mggks9fe3g id__qv9tsai3ge id__y5ouwdsr5p id__8tlaegltn8m id__exlc7mkrsh9 id__adwpj8mo0f7" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476707326145044487" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:10:37.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:10:37.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476707326145044487" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476704858900250630" itemprop="isPartOf"/><div><article aria-labelledby="id__ovn0n5hakne id__0gomgq7lxiyb id__18lbvlmtyro id__etm2exx5l67 id__4mlybyuxwnu id__qx7eqdpipzq id__ehzhr62l5x5 id__3gie4utp95g id__swu1dbqhzf id__eid3uo9rc6k id__tm9bspgx9ie id__t1tkbe19vy id__qgg4tsfn1r" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>In case you missed it, the Linux CSPRNG is pretty good these days!

The extraction has been using ChaCha20 for a while. What just changes is that the entropy mixing will now use Blake2, which makes a lot of sense since it&#39;s the same core as ChaCha20.</span></p></div></div><div><div aria-labelledby="id__ssseunuvp1 id__bdgao585cp4" id="id__eid3uo9rc6k"><div><div aria-labelledby="id__cc8vumkkyuf id__y4u8pszalam" id="id__bdgao585cp4" data-testid="card.wrapper"><div aria-hidden="true" id="id__cc8vumkkyuf" data-testid="card.layoutLarge.media"><a href="https://t.co/LoRXmhaR64" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1474701438920110081/F-JRTfm3?format=jpg&amp;name=medium"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476709025504972804" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:17:22.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:17:22.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476709025504972804" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476707326145044487" itemprop="isPartOf"/><div><article aria-labelledby="id__e9nm5pn03v8 id__itxoiaj8ntp id__xm9awt43klp id__no30vhjuta8 id__j4h1gvtpile id__wyvk2ces8j id__wknxftw3z6l id__r4a0ofwaq1 id__tpqy918ybe9 id__myuglreh0t id__4iahdep73we id__gg0y58ce4eg id__ogpb4ytkfg" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476698514516291586" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:35:36.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:35:36.000Z" itemprop="datePublished"/><meta content="https://twitter.com/jackyalcine/status/1476698514516291586" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__nj5rwyng89l id__2j1xrs5zh3f id__jvx4tge5hyi id__li6iz432d6d id__q80ua5x4hu8 id__0xu32jhijdg id__dc0vdmd24be id__pxtp0cuvw3 id__c98cm788xf4 id__jad7efxzyh id__u57jauou1dr id__9f2s28hsjqs id__dmzqtthy3nc" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/jackyalcine" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1476807031872970754/fEtle8sD_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476700979680710658" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:45:23.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:45:23.000Z" itemprop="datePublished"/><meta content="https://twitter.com/ZTarantov/status/1476700979680710658" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__7lgq9oib9n7 id__uugwa7bumq8 id__28oj79w99fk id__krpfwnqvksb id__2bp3wh1j2r4 id__chwj39iz4r id__ik1t7xn7w6r id__md1v98hvds id__mhqnkzyhb6 id__uy1ijnjw3m id__jd3lv8kr5e id__zope5edl5ur id__n5vryjmb289" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/ZTarantov" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/847971246902038528/N9SksqLj_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>That urandom spends a lot of time in rdrand has been known for a while:</span></p></div></div><div><div aria-labelledby="id__xn66jbqnwo id__c56sh2ze727" id="id__uy1ijnjw3m"><div><div aria-labelledby="id__wqp56vwzxz id__9c90aw8lslv" id="id__c56sh2ze727" data-testid="card.wrapper"><div aria-hidden="true" id="id__wqp56vwzxz" data-testid="card.layoutSmall.media"><a href="https://t.co/xWCvdoyqF2" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1474930071156797447/UW0cbAJO?format=png&amp;name=360x360"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476702767863508996" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:52:30.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:52:30.000Z" itemprop="datePublished"/><meta content="https://twitter.com/Sarkies_Proxy/status/1476702767863508996" itemprop="url"/><meta content="https://twitter.com/ZTarantov/status/1476700979680710658" itemprop="isPartOf"/><div><article aria-labelledby="id__cteayxdkeil id__oi9gpd3u8w9 id__egt3fm5vrfd id__5zk4lixf10i id__v3540lnzndo id__pvfi4toxf68 id__rue2k6sbbs id__bfkaq0r22i id__d1cercank0u id__xsayx35izf id__kvlkrbjslrq id__fcme81nqy0h id__t6378426qgk" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/Sarkies_Proxy" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/832147410432438273/5sFzV8VF_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>In the second link.
First line.

&#34;RDRAND is not fast. RDRAND is actually quite slow. We&#39;ve known this for
a while,&#34;</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476704049055649792" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:57:35.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:57:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/milosz_galazka/status/1476704049055649792" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__gieba0rjhs id__dcp1b377qlj id__7p8nx6mrk1d id__yykqukk8e9k id__jpihevsltt id__jh5uuhjg77l id__h7jrl38kdaq id__5xwlvg5s44b id__ddab93d5gr7 id__2ii1rmrx7og id__e60lijapxg8 id__cmnjwm1a00u id__7c1oruteeu3" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/milosz_galazka" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1427998777504407556/flmmVLBt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476707628445224961" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:11:49.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:11:49.000Z" itemprop="datePublished"/><meta content="https://twitter.com/LittleDjinn/status/1476707628445224961" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__5wltabbj01v id__aet7lb3e8ms id__93kq3w76oug id__jqhuizntqqm id__5oqjhfdkc1s id__r4479nuwqqm id__z0y6ryhtj69 id__fat5qvgrcn id__gzz6qi1tvjp id__01ih8pthgxoi id__zbcogudm9d id__r376fgsgqmg id__woc3f81jft" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/LittleDjinn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1119234941823410177/8e6fHQvI_400x400.png"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>How does this compare to OpenBSD&#39;s arc4random, in terms of performance and risk of starving/stalling etc.?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476772208353628160" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T04:28:26.000Z" itemprop="dateCreated"/><meta content="2021-12-31T04:28:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/jkbgpsz/status/1476772208353628160" itemprop="url"/><meta content="https://twitter.com/LittleDjinn/status/1476707628445224961" itemprop="isPartOf"/><div><article aria-labelledby="id__v1l0acr987l id__qqdzws39wns id__3m6ztz2xv1a id__wk414pkdgp9 id__41pavgof58m id__z3ka2hmhd4 id__mghzi0rm4gl id__9ulk5m7qg6l id__27z3d6gtoj9 id__qaiee76a2lc id__olmq3cb1w8 id__0n5up0jcaire id__iipiihzhv8" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/jkbgpsz" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1155420847429115904/Ie4L87XM_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Not much of a difference, I would say, because BLAKE is a cryptographic hash function based on Dan Bernstein&#39;s ChaCha stream cipher. OpenBSD&#39;s arc4random uses ChaCha.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476715074777714692" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:41:24.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:41:24.000Z" itemprop="datePublished"/><meta content="https://twitter.com/brackendawson/status/1476715074777714692" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__xnxnonryj8c id__7h0jp817lr7 id__pzamr8zozrs id__9lz0zgjdpds id__mb9zkabs7m id__csirr56uwus id__7qw21hnriqj id__9qykxlmlkn id__l4m345idii id__btgnqme0lwr id__ilp35wdcwfk id__0ca7q4zc4kwl id__owe2x9afc7s" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://twitter.com/brackendawson" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1410738276911267840/snBju2Rn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>I used to want a faster urandom for testing storage with dedupe, didn&#39;t need to be very random, just fast. I got half way through writing /dev/sdfrandom, would output sdsaasdfdsaas like when humans try to type randomly. Then found encrypting /dev/zero with h/w accel is blazing!</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
