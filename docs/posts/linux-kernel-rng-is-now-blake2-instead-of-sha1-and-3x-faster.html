<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/FiloSottile/status/1476698207413493766">Original</a>
    <h1>Linux Kernel RNG is now Blake2 instead of SHA1 and 3x faster</h1>
    
    <div id="readability-page-1" class="page"><div><section aria-labelledby="accessible-list-119711" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476698207413493766" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="12" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:34:23.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:34:23.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="mainEntityOfPage"/><div><article aria-labelledby="id__flelixxqqf6 id__ad2zsjaswk id__ymcas3ss22m id__ougvqudr8br id__5i96juvyrjh id__eyjof1j067g id__iq9ecm3x2ej id__s85y57y9rw id__w3bz1irgcin id__3dvwhfdqiyp id__3yrv50jb45x id__uzez5g4n509 id__zjxxbzfn5n" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476704858900250630" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:00:48.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:00:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476704858900250630" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__ll2xbn6vzy id__d3gsa32ftlw id__yr1ad63tj id__whe4k7272wl id__hllpr61hp4l id__l2f75ormzd id__35ccm7xphdg id__fqumbd2x65u id__9gyr0d8r30j id__o410xwsxth id__ctyb1brg2rh id__9gzlp9mc3e8 id__r32yylok8fr" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476707326145044487" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:10:37.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:10:37.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476707326145044487" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476704858900250630" itemprop="isPartOf"/><div><article aria-labelledby="id__au5knnwz4hn id__7779te9j9gf id__bd68udcoa3d id__wytpd8d7w9p id__gi50mn55v9j id__fjmo3qlnu5 id__teziqb2ij4 id__heevumk1vc id__v5ay4cj16cd id__bsg31paotb5 id__tz3p03wwns id__pxs3mebuyl id__dfus8julsc" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>In case you missed it, the Linux CSPRNG is pretty good these days!

The extraction has been using ChaCha20 for a while. What just changes is that the entropy mixing will now use Blake2, which makes a lot of sense since it&#39;s the same core as ChaCha20.</span></p></div></div><div><div aria-labelledby="id__d81xnb8v9q id__rpyebb173t" id="id__bsg31paotb5"><div><div aria-labelledby="id__yplj8koj7m id__skdvvsj9el8" id="id__rpyebb173t" data-testid="card.wrapper"><div aria-hidden="true" id="id__yplj8koj7m" data-testid="card.layoutLarge.media"><a href="https://t.co/LoRXmhaR64" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1474701438920110081/F-JRTfm3?format=jpg&amp;name=medium"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476709025504972804" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:17:22.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:17:22.000Z" itemprop="datePublished"/><meta content="https://twitter.com/FiloSottile/status/1476709025504972804" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476707326145044487" itemprop="isPartOf"/><div><article aria-labelledby="id__hluun9w9h7 id__xwdarvl4phk id__s7zumvs4vqd id__up66atokwd id__achzzuw68z id__ejsvuc9viy id__o7zev98w35 id__stkavxy9ded id__59dz7dxf7cl id__5c31e6npmlx id__6aycbz5ysau id__2upzwgigesl id__hglaaw31cll" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/FiloSottile" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1246564002538360832/iOH-In8Q_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476698514516291586" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:35:36.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:35:36.000Z" itemprop="datePublished"/><meta content="https://twitter.com/jackyalcine/status/1476698514516291586" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__xedb2vfjdy id__zj6nal011h id__38mxrzes02m id__vge6kgvywrf id__ipgpux7sji id__fivt02u71sd id__rl0ub55eqc id__0am54q8e8qw5 id__zt6u4kaxrwo id__a9l6kxhjyx id__b4p3xy0gb8p id__fv9dqldgp8h id__1icy5um828q" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/jackyalcine" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1476807031872970754/fEtle8sD_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476700979680710658" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:45:23.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:45:23.000Z" itemprop="datePublished"/><meta content="https://twitter.com/ZTarantov/status/1476700979680710658" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__01nt4c9v1zo1 id__is37ziryglh id__bptfumezsos id__zx20ipv0nhr id__1hqggs0y7xc id__h7aa8qkfcdo id__wrzp57ysb5b id__s4wmnklj4en id__i3tgnbv1ce8 id__5zqxn8v751 id__5h0e4svpcz id__qmemgs2jgsb id__py6hs9wcu1a" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/ZTarantov" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/847971246902038528/N9SksqLj_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>That urandom spends a lot of time in rdrand has been known for a while:</span></p></div></div><div><div aria-labelledby="id__8zd9svjzepr id__nzf521pv7c" id="id__5zqxn8v751"><div><div aria-labelledby="id__vd9p0w90gr9 id__bt3oxtsdht" id="id__nzf521pv7c" data-testid="card.wrapper"><div aria-hidden="true" id="id__vd9p0w90gr9" data-testid="card.layoutSmall.media"><a href="https://t.co/xWCvdoyqF2" rel="noopener noreferrer" target="_blank" role="link"><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/card_img/1474930071156797447/UW0cbAJO?format=png&amp;name=360x360"/></p></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476702767863508996" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:52:30.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:52:30.000Z" itemprop="datePublished"/><meta content="https://twitter.com/Sarkies_Proxy/status/1476702767863508996" itemprop="url"/><meta content="https://twitter.com/ZTarantov/status/1476700979680710658" itemprop="isPartOf"/><div><article aria-labelledby="id__h8092rv4rhn id__kc4jg1cpjfs id__16vjj9pf4lwh id__sm989bmqzel id__owcihvsuu4q id__qo5f5m0n9q8 id__v8dukafiko id__z46qpoqnsma id__0byhz8runi0s id__prcii4x2e3 id__jo3ww2p7h4 id__nm2uy3ihkzm id__vm9nkyxoft8" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/Sarkies_Proxy" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/832147410432438273/5sFzV8VF_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>In the second link.
First line.

&#34;RDRAND is not fast. RDRAND is actually quite slow. We&#39;ve known this for
a while,&#34;</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476704049055649792" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-30T23:57:35.000Z" itemprop="dateCreated"/><meta content="2021-12-30T23:57:35.000Z" itemprop="datePublished"/><meta content="https://twitter.com/milosz_galazka/status/1476704049055649792" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__2rs9hl3qaq7 id__qm4f7qu05d id__w6h2vgy2bdn id__s5z70dfat4 id__fpa04wqjcp id__ok534f1crmf id__isl5k3vlssf id__9isg92782y id__l7dqrv0ngu id__slt6y1oupl id__tfdxxg6xn2 id__rga5xf0qyjh id__cj1kdrfb1k" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/milosz_galazka" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1427998777504407556/flmmVLBt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476707628445224961" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:11:49.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:11:49.000Z" itemprop="datePublished"/><meta content="https://twitter.com/LittleDjinn/status/1476707628445224961" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__5ve3achaxgq id__0nwrjufjutze id__gml6w8zn4zk id__pqs8lzvd2qj id__ziv80k4tle id__soa85288se id__hg7lydrpcl4 id__1bg3dsb36fy id__o7z2eyjizk9 id__894okefjnt3 id__6776trolyrc id__ifveek1cqrd id__fltvu0pofrj" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/LittleDjinn" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1119234941823410177/8e6fHQvI_400x400.png"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>How does this compare to OpenBSD&#39;s arc4random, in terms of performance and risk of starving/stalling etc.?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476772208353628160" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T04:28:26.000Z" itemprop="dateCreated"/><meta content="2021-12-31T04:28:26.000Z" itemprop="datePublished"/><meta content="https://twitter.com/jkbgpsz/status/1476772208353628160" itemprop="url"/><meta content="https://twitter.com/LittleDjinn/status/1476707628445224961" itemprop="isPartOf"/><div><article aria-labelledby="id__2h6hccv0jgq id__adf9lmwac2 id__fp1eprjosxn id__rr9vlw5pyej id__1fwol9iijo1 id__esrky3vu169 id__xujzgw762tn id__qfycvkrgvri id__esc70j77h2a id__sizjmj5165n id__kazngl33lfn id__8qvkj04yqew id__q209kdtuog" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/jkbgpsz" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1155420847429115904/Ie4L87XM_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>Not much of a difference, I would say, because BLAKE is a cryptographic hash function based on Dan Bernstein&#39;s ChaCha stream cipher. OpenBSD&#39;s arc4random uses ChaCha.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1476715074777714692" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2021-12-31T00:41:24.000Z" itemprop="dateCreated"/><meta content="2021-12-31T00:41:24.000Z" itemprop="datePublished"/><meta content="https://twitter.com/brackendawson/status/1476715074777714692" itemprop="url"/><meta content="https://twitter.com/FiloSottile/status/1476698207413493766" itemprop="isPartOf"/><div><article aria-labelledby="id__n22ef2lgprs id__tf4d2vcaey id__37u7a7lo98q id__hf8sdrys2o id__pucokhcoa4 id__wey0n978thc id__9flmshambi4 id__xqatwff09mi id__ud4ls8sr8xb id__16fuh8b65li id__uxj1il3bfwp id__zxc33uhiemg id__4zb2ia0e2pt" role="article" data-testid="tweet"><div><div><div><div><div><div><div><div><div><div><div><div><a href="https://paulbutler.org/brackendawson" role="link"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1410738276911267840/snBju2Rn_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div><div><div><div><div itemprop="articleBody"><p><span>I used to want a faster urandom for testing storage with dedupe, didn&#39;t need to be very random, just fast. I got half way through writing /dev/sdfrandom, would output sdsaasdfdsaas like when humans try to type randomly. Then found encrypting /dev/zero with h/w accel is blazing!</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div>
  </body>
</html>
