<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.moonguard.dev/why-golang-instead-of-rust-to-develop-the-krater-desktop-app">Original</a>
    <h1>Why Golang instead of Rust to develop the Krater desktop app</h1>
    
    <div id="readability-page-1" class="page"><div id="post-content" itemprop="articleBody"><p>Hello! If you have been following our articles, you may remember reading that Krater was being developed with Rust using Tauri. However, this is no longer the case because a few months ago we made the decision to migrate the entire project to Wails (Golang). In this article, we will discuss our experience and why we made such a risky decision to migrate an entire application from one language to another.</p><h2 id="what-is-krater"><strong>What is Krater?</strong><a href="#what-is-krater" aria-label="Direct link to what-is-krater" title="Direct link to what-is-krater">​</a></h2><p>Krater is a cross-platform application for debugging Laravel applications locally. The MoonGuard team is made up of developers who are passionate about the world of Laravel, and we have been working on creating solutions for those who develop and work with Laravel.</p><p>You can read more about our ecosystem and solutions on the <a href="https://moonguard.dev/" target="_blank" rel="noopener noreferrer">official MoonGuard website.</a> You can also learn more about Krater and its utilities <a href="https://moonguard.dev/krater" target="_blank" rel="noopener noreferrer">here.</a></p><p>Krater was born out of our need as developers to have a customized tool that would provide a better debugging experience (locally) for Laravel applications or PHP projects. In the initial stage of Krater, we focused on defining, conceptualizing, and designing its features. This was the moment when we set the goal for Krater to be a product and a useful tool for anyone developing with Laravel.</p><p>We recommend reading this article if you want to learn even more about how and why we created a product like Krate</p><p>Our objectives in Krater are:</p><ul><li><strong>Data persistence</strong>: we wanted the data to persist between programming sessions and even store data from multiple projects.</li><li><strong>Performance</strong>: we wanted Krater to be really fast and avoid memory crashes when processing data.</li><li><strong>Disk usage</strong>: Krater should be lightweight and occupy little disk space. Currently, it weighs around 18 MB.</li><li><strong>Memory usage</strong>: we don&#39;t want Krater to hang after receiving a large data from Laravel or when displaying multiple records on the window.</li></ul><h2 id="tech-and-framework-analysis"><strong>Tech and Framework Analysis</strong><a href="#tech-and-framework-analysis" aria-label="Direct link to tech-and-framework-analysis" title="Direct link to tech-and-framework-analysis">​</a></h2><p>We wanted to create a cross-platform desktop application, so we focused on researching which technology was most suitable for development. At that time, we considered Electron, Wails, Flutter, Tauri, Neutralino, and many others. However, we ultimately concentrated on a solution based on web technologies (At MoonGuard, we have a preference for this approach).</p><p>In the team, we have experience working with Electron, but we knew beforehand that it would not provide us with the convenience we were looking for in developing Krater. We recognized that with Electron, we would not be able to achieve the performance, disk usage, and memory objectives for Krater. Therefore, Electron was ruled out from the beginning.</p><p>We visited this Github repository where we found an objective comparison between multiple frameworks. Here, we were able to compare the size of compilations, RAM usage of each technology, and compilation times across different test projects.</p><p>With Tauri, we observed that the size of the compilations was small but the compilation time was significantly higher than other technologies. This was the benchmark of the &#34;01-empty-app&#34; demo project:</p><p><img loading="lazy" alt="01-empty-app" src="https://blog.moonguard.dev/assets/images/01-empty-app-90524a4b49c044edbbc410f4231f0b52.png#center" width="995" height="835"/></p><p><img loading="lazy" alt="02-empty-app" src="https://blog.moonguard.dev/assets/images/02-empty-app-814565e4f7c25bd3ca8ebcdb92527834.png#center" width="987" height="732"/>
Note: the demo test is using version 1.4 of Tauri.</p><p>The <a href="https://github.com/Elanis/web-to-desktop-framework-comparison" target="_blank" rel="noopener noreferrer">Elanis/web-to-desktop-framework-comparison</a> repository was very useful for us to compare different technologies. If you are looking for a technology to create cross-platform apps using web technologies, it can be a good resource to consider.</p><p>From the available options, we chose Wails and Tauri for the following reasons:</p><ul><li>Based on web technologies.</li><li>Frontend agnostic (allowing us to use React, Vue, Svelte, etc.).</li><li>They meet the performance, persistence, and efficiency objectives for Krater.</li></ul><p>After conducting this research, the next step was to validate the concept of Krater by creating two Proof of Concepts (POCs), one with Wails and another with Tauri.</p><p>After experimenting with both tests, we considered both technologies valid, and the decision came down to Tauri due to its better support, maintenance, and contribution on Github.</p><p>None of us had experience with Rust, and it was also our first encounter with Tauri. As a team, we took on the challenge of learning Rust and Tauri to develop the application.</p><h2 id="krater-with-rust"><strong>Krater with Rust</strong><a href="#krater-with-rust" aria-label="Direct link to krater-with-rust" title="Direct link to krater-with-rust">​</a></h2><p>Development with Krater was slow in the first few months, but by the third month, we started to have a better rhythm and understanding of the language to implement features. We improved our pace over time until we reached a crossroads.</p><p>The team agreed that we had a pleasant experience with <a href="https://tauri.app/" target="_blank" rel="noopener noreferrer">Tauri</a>, but we also acknowledged that some of us had discomfort and issues when working with Rust. Some of the aspects that posed challenges at that time were:</p><h3 id="ownership-management"><strong>Ownership management</strong><a href="#ownership-management" aria-label="Direct link to ownership-management" title="Direct link to ownership-management">​</a></h3><p>Understanding ownership transfer and management can be one of the most confusing and complex aspects of Rust. It is crucial to consider the program&#39;s execution flow and manage mutable and immutable variables in memory to avoid getting lost in the code. Mastering this, along with working with threads, was one of the most time-consuming tasks for the team.</p><h3 id="type-safety"><strong>Type Safety</strong><a href="#type-safety" aria-label="Direct link to type-safety" title="Direct link to type-safety">​</a></h3><p>Rust is a language with strong type safety, which acts as a shield against data in an unknown format and ensures code safety with the compiler. This strict feature can sometimes be uncomfortable when proposing a solution in code. We often heard the advice to start writing the code in a simple and flat manner and then structure it in a better way. This aspect occasionally limited our development and consumed time, making us question whether Krater as an application needed this level of security-restriction.</p><h3 id="database-management"><strong>Database management</strong><a href="#database-management" aria-label="Direct link to database-management" title="Direct link to database-management">​</a></h3><p>In this project, we used SQLite as our database, and finding a good ORM was a monumental task. We tried a wide range of crates, but none of them satisfied us. The most stable option at that time was Diesel; however, it did not fit our needs, and we also believe that the documentation could be better.</p><h3 id="documentation"><strong>Documentation</strong><a href="#documentation" aria-label="Direct link to documentation" title="Direct link to documentation">​</a></h3><p>Rust and Tauri are relatively new projects that are currently gaining popularity, and finding good documentation, knowledge resources, or real-world examples can be challenging. In fact, one of the tutorials we offer on our blog cannot be found from any other source. This aspect will likely change over time because both Rust and Tauri have many contributors and passionate developers in their ecosystems.</p><h3 id="unit-testing"><strong>Unit testing</strong><a href="#unit-testing" aria-label="Direct link to unit-testing" title="Direct link to unit-testing">​</a></h3><p>We like to build software accompanied by unit tests because they are the life jacket that ensures the integrity of our projects. This was one of the most challenging tasks in terms of effort and time in the project. Several team members attempted it multiple times without success. I remember that we wanted to create mocks to test certain behaviors in our code, but we couldn&#39;t find good documentation or a guide on how to do it. It was extremely complicated.</p><p>Don&#39;t get us wrong, Tauri is an impressive and powerful toolkit for building applications, and Rust is a great programming language for creating fast and efficient software.</p><p>We had completed about 65% of the features in Krater, but the whole team was struggling to complete the remaining features (those that required Rust code). After facing this obstacle for weeks, we considered giving Wails with Golang a chance. The test was approved by the entire team because we were able to migrate almost all of our progress in just one weekend.</p><h2 id="krater-with-golang"><strong>Krater with Golang</strong><a href="#krater-with-golang" aria-label="Direct link to krater-with-golang" title="Direct link to krater-with-golang">​</a></h2><p>We understand that rewriting your entire application from scratch in another language is not an agile and pleasant decision, but we found that Golang easily adapted to the whole team. Surprisingly, coming from Laravel/PHP and writing code in Golang/Wails felt very natural to us.</p><p>Each of us has been able to understand this language more easily and in less time than working with Rust for months. Let&#39;s review the problems we mentioned before and how we resolved them:</p><h3 id="ownership-management-1"><strong>Ownership management</strong><a href="#ownership-management-1" aria-label="Direct link to ownership-management-1" title="Direct link to ownership-management-1">​</a></h3><p>Golang and Rust handle memory differently. Golang uses automated garbage collection to limit issues related to memory leaks. Its management is done at runtime, which can introduce certain additional costs. However, Golang offers Goroutines, which allow functions to run as threads, making concurrency easier.</p><h3 id="type-safety-1"><strong>Type Safety</strong><a href="#type-safety-1" aria-label="Direct link to type-safety-1" title="Direct link to type-safety-1">​</a></h3><p>Golang and Rust both offer type safety, but Golang is statically typed and uses a garbage collector to manage memory (as mentioned earlier). Golang&#39;s type system is simpler compared to Rust&#39;s.</p><h3 id="database-management-1"><strong>Database management</strong><a href="#database-management-1" aria-label="Direct link to database-management-1" title="Direct link to database-management-1">​</a></h3><p>For this project, we found GORM, which is a really good ORM library. We used it to define tables, run migrations, delete records, and perform many other operations. It has comprehensive documentation with many examples.</p><h3 id="documentation-1"><strong>Documentation</strong><a href="#documentation-1" aria-label="Direct link to documentation-1" title="Direct link to documentation-1">​</a></h3><p>Golang predates Rust by several years, which translates into the size and maturity of its community, as well as the breadth and depth of library documentation and resources. Along the way, we found that the documentation for Wails was also helpful, as well as some books as learning materials for the team.</p><h3 id="unit-testing-1"><strong>Unit Testing</strong><a href="#unit-testing-1" aria-label="Direct link to unit-testing-1" title="Direct link to unit-testing-1">​</a></h3><p>Writing unit tests in Golang was simpler and easier to do. Golang provides built-in support for unit testing with the <code>testing</code> package. We were also able to validate and create mock behavior for some of our objects in the code.</p><h2 id="krater-is-available"><strong>Krater is available!</strong><a href="#krater-is-available" aria-label="Direct link to krater-is-available" title="Direct link to krater-is-available">​</a></h2><p>After all these months of development, we managed to develop Krater 100% and reach its first stable version. We are very happy with working with both frameworks and the experience we have gained throughout this year in developing this product.</p><p>Before concluding the article, we want to share with each of our followers that they can <a href="https://moonguard.dev/krater#pricing" target="_blank" rel="noopener noreferrer">try Krater for free</a> with a 15-day trial!</p><p>This article was not written with the intention of seeking discussion or debate about frameworks or development languages. We wanted to share our experience working with many tools, frameworks, and languages. Our best advice to those who are on the path of creating their own products is to use tools that make them feel comfortable while working.</p><p>We want to thank the Tauri team for supporting the promotion of several of our Rust and Tauri articles on our blog on X (previously Twitter).</p><p>You can find us in our <a href="https://discord.com/invite/vCCy4aJxnY" target="_blank" rel="noopener noreferrer">Discord community</a>, where we will be sharing sneak peeks of upcoming features as well as development discussions. We look forward to seeing you there!</p><p>For the latest updates, breaking news, and important announcements, be sure to follow us on Twitter/X at <a href="https://twitter.com/moonguard_dev" target="_blank" rel="noopener noreferrer">@moonguard_dev</a>. Stay connected and stay informed about all things MoonGuard.</p></div></div>
  </body>
</html>
