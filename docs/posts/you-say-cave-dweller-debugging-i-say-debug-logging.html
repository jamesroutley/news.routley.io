<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.sicpers.info/2022/05/you-say-cave-dweller-debugging-i-say-debug-logging/">Original</a>
    <h1>You say “cave dweller debugging”, I say debug logging</h1>
    
    <div id="readability-page-1" class="page"><div id="post-2903">
					

					<!-- .entry-meta -->

					<div>
						
<p>There are still many situations where it’s not feasible to stop a process, attach the debugger, and start futzing with memory. We can argue over whether this is because the industry didn’t learn enough from the Pharo folks later. For now, let’s pretend that’s axiomatic: a certain amount of debugging (and even testing) starts with asking the program to report on its state.</p>



<p>It’s common to do this with print statements, whatever they’re called in your language. The technique is even called “printf debugging” sometimes. Some teams even have lint rules to stop you merging changes that call <code>System.out.println</code> or <code>console.error</code> because they know you’re all doing it. I think you should carry on doing it, and you should be encouraged to commit the changes.</p>



<p>Just don’t call your print function. This isn’t for any performance/timing/buffer flushing reason, though those are sometimes relevant and in the relevant cases sometimes problematic and in the problematic cases sometimes important. It’s more because it’s overwhelming. Instead, call your syslog/OSLog/logger function, with an appropriate severity level (probably <code>DEBUG</code>) and some easily filterable preamble. Now commit those log messages.</p>



<p>One benefit of doing this is that you capture the fact that you need this information to diagnose problems in this module/subsystem/class/whatever. Next time you have the problem, you already know at least some of the information that will help.</p>



<p>Another benefit is that you can enable this logging in the field without having to deploy a new version with different printf statements. Just change the log level or the capture filter and start getting useful information. Change it back when you’re done.</p>



<p>There are caveats here: if the information you need to log is potentially sensitive (personal information, crypto material) you may be better off not having any way to turn it on in production.</p>



<p>The third benefit is that you communicate to everybody else that this part of the code is hard to understand and needed careful inspection. This can be the motivation the team needs to discuss a redesign, or it can help other people find smoking guns when trying to diagnose other failures.</p>
<div><p>Liked it? Take a second to support Graham on Patreon!</p><p><a rel="nofollow" href="https://www.patreon.com/iamleeg?utm_content=post_button&amp;utm_medium=patron_button_and_widgets_plugin&amp;utm_campaign=6254152&amp;utm_term=&amp;utm_source=https://www.sicpers.info/2022/05/you-say-cave-dweller-debugging-i-say-debug-logging/"><img src="https://www.sicpers.info/wp-content/plugins/patron-button-and-widgets-by-codebard/images/become_a_patron_button.png"/></a></p></div>
											</div><!-- .entry-content -->

							<div id="entry-author-info">
						<p><img alt="" src="https://secure.gravatar.com/avatar/563290c0c1b776a315b36e863b388a0c?s=60&amp;d=retro&amp;r=r" srcset="https://secure.gravatar.com/avatar/563290c0c1b776a315b36e863b388a0c?s=120&amp;d=retro&amp;r=r 2x" height="60" width="60" loading="lazy"/>							</p><!-- #author-avatar -->
							<div id="author-description">
							<h2>
							About Graham							</h2><p>
							I make it faster and easier for you to create high-quality code.							</p><!-- #author-link	-->
							</div><!-- #author-description -->
						</div><!-- #entry-author-info -->
	
						<div><p>
							This entry was posted in <a href="https://www.sicpers.info/category/code-level/" rel="category tag">code-level</a>. Bookmark the <a href="https://www.sicpers.info/2022/05/you-say-cave-dweller-debugging-i-say-debug-logging/" title="Permalink to You say “cave dweller debugging”, I say debug logging" rel="bookmark">permalink</a>.													</p></div><!-- .entry-utility -->
					</div></div>
  </body>
</html>
