<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.nawaz.org/posts/2025/May/gemini-figured-out-my-nephews-name/">Original</a>
    <h1>Gemini figured out my nephew’s name</h1>
    
    <div id="readability-page-1" class="page"><div>
		    <p>I wrote an <a href="https://modelcontextprotocol.io/introduction"><span>MCP</span></a> server
to give LLMs read-only access to my emails. Here is the chat log.</p>
<blockquote>
<p><strong><span>ME</span>:</strong></p>
<p>I need to know Donovan’s son’s name. It is buried in some email
somewhere. Devise a strategy for finding it. Do <span>NOT</span> use any tools
till we’ve discussed it through.</p>
<p><strong><span>GEMINI</span>:</strong></p>
<p>Okay, I will devise a strategy to find Donovan’s son’s name and
discuss it with you.</p>
<p><strong>Strategy:</strong></p>
<ol>
<li><strong>Search for emails from Donovan:</strong> Use the <tt>search_emails</tt> tool
with a query like “from:Donovan”. This will give us a list of
email threads.</li>
<li><strong>Search for keywords within Donovan’s emails:</strong> Refine the search
to include keywords that might be associated with a son. For
example: “from:Donovan son”, “from:Donovan boy”, “from:Donovan
name is”. We can also try terms related to birth announcements if
we suspect the name might be in one, e.g., “from:Donovan born”,
“from:Donovan baby”.</li>
<li><strong>Examine promising threads/messages:</strong> If the search yields
specific messages or threads, I will suggest we look at their
content using <tt>get_thread_by_id</tt> or
<tt>get_message_content_by_id</tt>.</li>
<li><strong>Iterate:</strong> If the initial searches are not successful, we can
try broader keywords or look for emails <em>to</em> Donovan that might
congratulate him or mention his son.</li>
</ol>
<p>Do you want to proceed with the first step, or would you like to
refine this strategy?</p>
<p><strong><span>ME</span>:</strong></p>
<p><span>OK</span>. Go ahead and try them. No need to prompt me any more.</p>
<p><strong><span>GEMINI</span>:</strong></p>
<p>The search “from:Donovan son” returned a promising result:</p>
<div>
<p>Subject: Son</p>

<p>Date: Sat, 30 May 2015 23:32:41 +0500</p>
<p><span>ID</span>:
CAMJZR9aPWpGb<sub>d3VLyPA</sub>+B-=LjcNo4YTm<sub>tw03TvQri4wxHfrA</sub>@mail.gmail.com</p>
<p>Thread <span>ID</span>: 0000000000007a96</p>
</div>
<p>I’ll get the content of this message.</p>
<p>This email is about Donovan’s cousin Aliyah’s son, Albert Hamming,
not Donovan’s own son.</p>
<p>I’ll try other keywords.</p>
<p>The search “from:Donovan baby” yielded one result:</p>
<p>Subject: powertoddler!</p>
<div>

<p>Date: Fri, 25 Mar 2011 00:32:58 +0500</p>

<p>Thread <span>ID</span>: 0000000000004e70</p>
<p>I’ll check this message.</p>
</div>
<p>This email links to a YouTube video and mentions “the baby”. This is
a strong lead. However, the email is from 2011. While this could be
Donovan’s son, the term “powertoddler” might also refer to a
niece/nephew or other young child in the family.</p>
<p>Since the direct approach didn’t yield a definitive answer, I’ll try
searching for emails sent <em>to</em> Donovan with congratulatory terms.</p>
<p>This search found two emails from “Mark Nagy” with the subject “Re:
Hello” in June 2009. This looks promising. I’ll retrieve the thread.</p>
<p>This thread is also about a cousin’s son, Norbert’s son, named Fulham
Rod. It appears my targeted searches for “son”, “boy”, “baby” and
“congratulations son” are not specific enough and are returning
results for other relatives.</p>
<p>I need to look for more direct mentions. I’ll try searching for
emails from Donovan containing phrases like “my son’s name is” or “we
named him”.</p>
<p>Those searches didn’t return any results. It’s possible the name is
mentioned in a more indirect way.</p>
<p>Let’s go back to the “powertoddler” email (<span>ID</span>:
<a href="mailto:AANLkTikcbrSPX745z+bXcW6uUNa7QirnfKJTwMG28Uhd@mail.gmail.com">AANLkTikcbrSPX745z+bXcW6uUNa7QirnfKJTwMG28Uhd@mail.gmail.com</a> from
2011). While it didn’t explicitly state “my son”, the context of “a
typical evening trying to get the baby to sleep” is suggestive.</p>
<p>Could there be other emails in that same thread (<span>ID</span>:
0000000000004e70) that might contain the name?</p>
<p>Unfortunately, the other email in that thread is a correction to the
YouTube link and doesn’t add more information about the child’s name.</p>
<p>The email “Re: Monty” from Donovan, <span>ID</span>
<tt>CAMJZR9bsEyYD0QTmd=UNmwg2Jbm6PJSj1WGHvX_cBpPNRZoefw@mail.gmail.com</tt>
dated Thu, 6 Oct 2022 18:14:57 +0500 (Thread <span>ID</span>: 000000000001a7a4)
seems like a very strong candidate from the initial broad search for
“from:Donovan”. The subject itself is a name. Let’s check the content
of this message.</p>
<p>This email discusses the reading preferences of “he” and mentions
“Monty” in the subject line. This strongly suggests that Monty is
Donovan’s son.</p>
<p>Donovan’s son’s name is likely Monty.</p>
</blockquote>
<p>It was spot on. Incidentally, that email never refers to him as his son.
It is about Monty’s interests.</p>
<p>How did I do this?</p>
<p>I index all my emails using <a href="https://notmuchmail.org/">notmuch</a>. I
wrote an <span>MCP</span> server for it. <a href="#footnote-1" id="footnote-reference-1">[1]</a> It has only three tools:</p>
<ul>
<li><tt>search</tt>: Lets the <span>LLM</span> execute a search with any query. It returns
a list of all matches’ metadata: from, to, date, subject, <span>ID</span>, and
thread <span>ID</span>. Fortunately, Gemini knows notmuch search syntax.</li>
<li><tt>get_message_content_by_id</tt>: Retrieves the text contents of a
particular email given its <span>ID</span>.</li>
<li><tt>get_thread_by_id</tt>: Returns the whole email thread given the thread
<span>ID</span>.</li>
</ul>
<p>That’s all I needed to let Gemini figure out my nephew’s name. <a href="#footnote-2" id="footnote-reference-2">[2]</a></p>
<p>It was instructive to see its tool usage in determining his name:</p>
<pre>query: &#34;from:Donovan&#34;
query: &#34;from:Donovan son&#34;
get_message_content_by_id
query: &#34;from:Donovan boy&#34;
query: &#34;from:Donovan name is&#34;
query: &#34;from:Donovan born&#34;
query: &#34;from:Donovan baby&#34;
get_message_content_by_id
query: &#34;to:Donovan congratulations&#34;
get_thread_by_id
query: &#34;from:Donovan \&#34;my son&#39;s name is\&#34;&#34;
query: &#34;from:Donovan \&#34;we named him\&#34;&#34;
get_thread_by_id
get_message_content_by_id
</pre>
<p>Most of those queries led to dead ends. When it finally figured it out
in the last <tt>get_message_content_by_id</tt>, it was going off a result
from the very first query.</p>
<p>Interesting thought process!</p>



		</div></div>
  </body>
</html>
