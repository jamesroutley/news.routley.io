<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dspy.ai/">Original</a>
    <h1>DSPy – Programming–not prompting–LMs</h1>
    
    <div id="readability-page-1" class="page"><div data-md-component="main">
        <div>
          
            
              
                
              
              
            
            
              
                
              
              
            
          
          
            <div data-md-component="content">
              <article>
                
                  

  
    <a href="https://github.com/stanfordnlp/dspy/blob/main/docs/docs/index.md" title="Edit this page">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"></path></svg>
    </a>
  
  


<p><img _="," alt="DSPy" src="https://dspy.ai/static/img/dspy_logo.png" width="200"/></p>

<p>DSPy is the framework for <em>programming—rather than prompting—language models</em>. It allows you to iterate fast on <strong>building modular AI systems</strong> and offers algorithms for <strong>optimizing their prompts and weights</strong>, whether you&#39;re building simple classifiers, sophisticated RAG pipelines, or Agent loops.</p>
<p>DSPy stands for Declarative Self-improving Python. Instead of brittle prompts, you write compositional <em>Python code</em> and use DSPy to <strong>teach your LM to deliver high-quality outputs</strong>. This <a href="https://www.youtube.com/watch?v=JEMYuzrKLUw">lecture</a> is a good conceptual introduction. Meet the community, seek help, or start contributing via our <a href="https://github.com/stanfordnlp/dspy">GitHub repo</a> and <a href="https://discord.gg/XCGy2WDCQB">Discord server</a>.</p>
<div>
<p>Getting Started I: Install DSPy and set up your LM</p>

<div data-tabs="1:6"><p><label for="__tabbed_1_1">OpenAI</label><label for="__tabbed_1_2">Anthropic</label><label for="__tabbed_1_3">Databricks</label><label for="__tabbed_1_4">Local LMs on your laptop</label><label for="__tabbed_1_5">Local LMs on a GPU server</label><label for="__tabbed_1_6">Other providers</label></p>
<div>
<div>
<p>You can authenticate by setting the <code>OPENAI_API_KEY</code> env variable or passing <code>api_key</code> below.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span>import</span> <span>dspy</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span>lm</span> <span>=</span> <span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#39;openai/gpt-4o-mini&#39;</span><span>,</span> <span>api_key</span><span>=</span><span>&#39;YOUR_OPENAI_API_KEY&#39;</span><span>)</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>lm</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
</div>
<div>
<p>You can authenticate by setting the ANTHROPIC_API_KEY env variable or passing <code>api_key</code> below.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span>import</span> <span>dspy</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span>lm</span> <span>=</span> <span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#39;anthropic/claude-3-opus-20240229&#39;</span><span>,</span> <span>api_key</span><span>=</span><span>&#39;YOUR_ANTHROPIC_API_KEY&#39;</span><span>)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>lm</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
</div>
<div>
<p>If you&#39;re on the Databricks platform, authentication is automatic via their SDK. If not, you can set the env variables <code>DATABRICKS_API_KEY</code> and <code>DATABRICKS_API_BASE</code>, or pass <code>api_key</code> and <code>api_base</code> below.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span>import</span> <span>dspy</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span>lm</span> <span>=</span> <span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#39;databricks/databricks-meta-llama-3-1-70b-instruct&#39;</span><span>)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>lm</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
</div>
<div>
<p>First, install <a href="https://github.com/ollama/ollama">Ollama</a> and launch its server with your LM.</p>
<div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>&gt;<span> </span>curl<span> </span>-fsSL<span> </span>https://ollama.ai/install.sh<span> </span><span>|</span><span> </span>sh
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>&gt;<span> </span>ollama<span> </span>run<span> </span>llama3.2:1b
</code></pre></div>
<p>Then, connect to it from your DSPy code.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span>import</span> <span>dspy</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span>lm</span> <span>=</span> <span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#39;ollama_chat/llama3.2&#39;</span><span>,</span> <span>api_base</span><span>=</span><span>&#39;http://localhost:11434&#39;</span><span>,</span> <span>api_key</span><span>=</span><span>&#39;&#39;</span><span>)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>lm</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
</div>
<div>
<p>First, install <a href="https://sgl-project.github.io/start/install.html">SGLang</a> and launch its server with your LM.</p>
<div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>&gt;<span> </span>pip<span> </span>install<span> </span><span>&#34;sglang[all]&#34;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>&gt;<span> </span>pip<span> </span>install<span> </span>flashinfer<span> </span>-i<span> </span>https://flashinfer.ai/whl/cu121/torch2.4/<span> </span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>&gt;<span> </span><span>CUDA_VISIBLE_DEVICES</span><span>=</span><span>0</span><span> </span>python<span> </span>-m<span> </span>sglang.launch_server<span> </span>--port<span> </span><span>7501</span><span> </span>--model-path<span> </span>meta-llama/Llama-3.1-8B-Instruct
</code></pre></div>
<p>If you don&#39;t have access from Meta to download <code>meta-llama/Llama-3.1-8B-Instruct</code>, use <code>Qwen/Qwen2.5-7B-Instruct</code> for example.</p>
<p>Next, connect to your local LM from your DSPy code as an <code>OpenAI</code>-compatible endpoint.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span>lm</span> <span>=</span> <span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#34;openai/meta-llama/Llama-3.1-8B-Instruct&#34;</span><span>,</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>             <span>api_base</span><span>=</span><span>&#34;http://localhost:7501/v1&#34;</span><span>,</span>  <span># ensure this points to your port</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>             <span>api_key</span><span>=</span><span>&#34;local&#34;</span><span>,</span> <span>model_type</span><span>=</span><span>&#39;chat&#39;</span><span>)</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>lm</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
</div>
<div>
<p>In DSPy, you can use any of the dozens of <a href="https://docs.litellm.ai/docs/providers">LLM providers supported by LiteLLM</a>. Simply follow their instructions for which <code>{PROVIDER}_API_KEY</code> to set and how to write pass the <code>{provider_name}/{model_name}</code> to the constructor.</p>
<p>Some examples:</p>
<ul>
<li><code>anyscale/mistralai/Mistral-7B-Instruct-v0.1</code>, with <code>ANYSCALE_API_KEY</code></li>
<li><code>together_ai/togethercomputer/llama-2-70b-chat</code>, with <code>TOGETHERAI_API_KEY</code></li>
<li><code>sagemaker/&lt;your-endpoint-name&gt;</code>, with <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, and <code>AWS_REGION_NAME</code></li>
<li><code>azure/&lt;your_deployment_name&gt;</code>, with <code>AZURE_API_KEY</code>, <code>AZURE_API_BASE</code>, <code>AZURE_API_VERSION</code>, and the optional <code>AZURE_AD_TOKEN</code> and <code>AZURE_API_TYPE</code></li>
</ul>
<p>If your provider offers an OpenAI-compatible endpoint, just add an <code>openai/</code> prefix to your full model name.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span>import</span> <span>dspy</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span>lm</span> <span>=</span> <span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#39;openai/your-model-name&#39;</span><span>,</span> <span>api_key</span><span>=</span><span>&#39;PROVIDER_API_KEY&#39;</span><span>,</span> <span>api_base</span><span>=</span><span>&#39;YOUR_PROVIDER_URL&#39;</span><span>)</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>lm</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
</div>
</div>
</div>
</div>
<details>
<summary>Calling the LM directly.</summary>
<p>Idiomatic DSPy involves using <em>modules</em>, which we define in the rest of this page. However, it&#39;s still easy to call the <code>lm</code> you configured above directly. This gives you a unified API and lets you benefit from utilities like automatic caching.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span>lm</span><span>(</span><span>&#34;Say this is a test!&#34;</span><span>,</span> <span>temperature</span><span>=</span><span>0.7</span><span>)</span>  <span># =&gt; [&#39;This is a test!&#39;]</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span>lm</span><span>(</span><span>messages</span><span>=</span><span>[{</span><span>&#34;role&#34;</span><span>:</span> <span>&#34;user&#34;</span><span>,</span> <span>&#34;content&#34;</span><span>:</span> <span>&#34;Say this is a test!&#34;</span><span>}])</span>  <span># =&gt; [&#39;This is a test!&#39;]</span>
</code></pre></div></td></tr></tbody></table></div>
</details>
<h2 id="1-modules-help-you-describe-ai-behavior-as-code-not-strings">1) <strong>Modules</strong> help you describe AI behavior as <em>code</em>, not strings.</h2>
<p>To build reliable AI systems, you must iterate fast. But maintaining prompts makes that hard: it forces you to tinker with strings or data <em>every time you change your LM, metrics, or pipeline</em>. Having built over a dozen best-in-class compound LM systems since 2020, we learned this the hard way—and so built DSPy to decouple defining LM systems from messy incidental choices about specific LMs or prompting strategies.</p>
<p>DSPy shifts your focus from tinkering with prompt strings to <strong>programming with structured and declarative natural-language modules</strong>. For every AI component in your system, you specify input/output behavior as a <em>signature</em> and select a <em>module</em> to assign a strategy for invoking your LM. DSPy expands your signatures into prompts and parses your typed outputs, so you can write ergonomic, portable, and optimizable AI systems.</p>
<div>
<p>Getting Started II: Build DSPy modules for various tasks</p>
<p>Try the examples below after configuring your <code>lm</code> above. Adjust the fields to explore what tasks your LM can do well out of the box. Each tab below sets up a DSPy module, like <code>dspy.Predict</code>, <code>dspy.ChainOfThought</code>, or <code>dspy.ReAct</code>, with a task-specific <em>signature</em>. For example, <code>question -&gt; answer: float</code> tells the module to take a question and to produce a <code>float</code> answer.</p>
<div data-tabs="2:5"><p><label for="__tabbed_2_1">Math</label><label for="__tabbed_2_2">Retrieval-Augmented Generation</label><label for="__tabbed_2_3">Classification</label><label for="__tabbed_2_4">Information Extraction</label><label for="__tabbed_2_5">Agents</label></p>
<div>
<div>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span>math</span> <span>=</span> <span>dspy</span><span>.</span><span>ChainOfThought</span><span>(</span><span>&#34;question -&gt; answer: float&#34;</span><span>)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span>math</span><span>(</span><span>question</span><span>=</span><span>&#34;Two dice are tossed. What is the probability that the sum equals two?&#34;</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p><strong>Possible Output:</strong>
</p><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>Prediction(
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    reasoning=&#39;When two dice are tossed, each die has 6 faces, resulting in a total of 6 x 6 = 36 possible outcomes. The sum of the numbers on the two dice equals two only when both dice show a 1. This is just one specific outcome: (1, 1). Therefore, there is only 1 favorable outcome. The probability of the sum being two is the number of favorable outcomes divided by the total number of possible outcomes, which is 1/36.&#39;,
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    answer=0.0277776
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>)
</code></pre></div>
</div>
<div>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span>def</span> <span>search_wikipedia</span><span>(</span><span>query</span><span>:</span> <span>str</span><span>)</span> <span>-&gt;</span> <span>list</span><span>[</span><span>str</span><span>]:</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>    <span>results</span> <span>=</span> <span>dspy</span><span>.</span><span>ColBERTv2</span><span>(</span><span>url</span><span>=</span><span>&#39;http://20.102.90.50:2017/wiki17_abstracts&#39;</span><span>)(</span><span>query</span><span>,</span> <span>k</span><span>=</span><span>3</span><span>)</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>    <span>return</span> <span>[</span><span>x</span><span>[</span><span>&#39;text&#39;</span><span>]</span> <span>for</span> <span>x</span> <span>in</span> <span>results</span><span>]</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span>rag</span> <span>=</span> <span>dspy</span><span>.</span><span>ChainOfThought</span><span>(</span><span>&#39;context, question -&gt; response&#39;</span><span>)</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span>question</span> <span>=</span> <span>&#34;What&#39;s the name of the castle that David Gregory inherited?&#34;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span>rag</span><span>(</span><span>context</span><span>=</span><span>search_wikipedia</span><span>(</span><span>question</span><span>),</span> <span>question</span><span>=</span><span>question</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p><strong>Possible Output:</strong>
</p><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>Prediction(
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    reasoning=&#39;The context provides information about David Gregory, a Scottish physician and inventor. It specifically mentions that he inherited Kinnairdy Castle in 1664. This detail directly answers the question about the name of the castle that David Gregory inherited.&#39;,
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    response=&#39;Kinnairdy Castle&#39;
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>)
</code></pre></div>
</div>
<div>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span>from</span> <span>typing</span> <span>import</span> <span>Literal</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span>class</span> <span>Classify</span><span>(</span><span>dspy</span><span>.</span><span>Signature</span><span>):</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span>    </span><span>&#34;&#34;&#34;Classify sentiment of a given sentence.&#34;&#34;&#34;</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a>    <span>sentence</span><span>:</span> <span>str</span> <span>=</span> <span>dspy</span><span>.</span><span>InputField</span><span>()</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a>    <span>sentiment</span><span>:</span> <span>Literal</span><span>[</span><span>&#39;positive&#39;</span><span>,</span> <span>&#39;negative&#39;</span><span>,</span> <span>&#39;neutral&#39;</span><span>]</span> <span>=</span> <span>dspy</span><span>.</span><span>OutputField</span><span>()</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>    <span>confidence</span><span>:</span> <span>float</span> <span>=</span> <span>dspy</span><span>.</span><span>OutputField</span><span>()</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span>classify</span> <span>=</span> <span>dspy</span><span>.</span><span>Predict</span><span>(</span><span>Classify</span><span>)</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span>classify</span><span>(</span><span>sentence</span><span>=</span><span>&#34;This book was super fun to read, though not the last chapter.&#34;</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p><strong>Possible Output:</strong></p>
<div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>Prediction(
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    sentiment=&#39;positive&#39;,
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    confidence=0.75
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>)
</code></pre></div>
</div>
<div>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span>class</span> <span>ExtractInfo</span><span>(</span><span>dspy</span><span>.</span><span>Signature</span><span>):</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span>    </span><span>&#34;&#34;&#34;Extract structured information from text.&#34;&#34;&#34;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>    <span>text</span><span>:</span> <span>str</span> <span>=</span> <span>dspy</span><span>.</span><span>InputField</span><span>()</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a>    <span>title</span><span>:</span> <span>str</span> <span>=</span> <span>dspy</span><span>.</span><span>OutputField</span><span>()</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a>    <span>headings</span><span>:</span> <span>list</span><span>[</span><span>str</span><span>]</span> <span>=</span> <span>dspy</span><span>.</span><span>OutputField</span><span>()</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a>    <span>entities</span><span>:</span> <span>list</span><span>[</span><span>dict</span><span>[</span><span>str</span><span>,</span> <span>str</span><span>]]</span> <span>=</span> <span>dspy</span><span>.</span><span>OutputField</span><span>(</span><span>desc</span><span>=</span><span>&#34;a list of entities and their metadata&#34;</span><span>)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span>module</span> <span>=</span> <span>dspy</span><span>.</span><span>Predict</span><span>(</span><span>ExtractInfo</span><span>)</span>
<a id="__codelineno-16-10" name="__codelineno-16-10"></a>
<a id="__codelineno-16-11" name="__codelineno-16-11"></a><span>text</span> <span>=</span> <span>&#34;Apple Inc. announced its latest iPhone 14 today.&#34;</span> \
<a id="__codelineno-16-12" name="__codelineno-16-12"></a>    <span>&#34;The CEO, Tim Cook, highlighted its new features in a press release.&#34;</span>
<a id="__codelineno-16-13" name="__codelineno-16-13"></a><span>response</span> <span>=</span> <span>module</span><span>(</span><span>text</span><span>=</span><span>text</span><span>)</span>
<a id="__codelineno-16-14" name="__codelineno-16-14"></a>
<a id="__codelineno-16-15" name="__codelineno-16-15"></a><span>print</span><span>(</span><span>response</span><span>.</span><span>title</span><span>)</span>
<a id="__codelineno-16-16" name="__codelineno-16-16"></a><span>print</span><span>(</span><span>response</span><span>.</span><span>headings</span><span>)</span>
<a id="__codelineno-16-17" name="__codelineno-16-17"></a><span>print</span><span>(</span><span>response</span><span>.</span><span>entities</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p><strong>Possible Output:</strong>
</p><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>Apple Inc. Announces iPhone 14
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>[&#39;Introduction&#39;, &#34;CEO&#39;s Statement&#34;, &#39;New Features&#39;]
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>[{&#39;name&#39;: &#39;Apple Inc.&#39;, &#39;type&#39;: &#39;Organization&#39;}, {&#39;name&#39;: &#39;iPhone 14&#39;, &#39;type&#39;: &#39;Product&#39;}, {&#39;name&#39;: &#39;Tim Cook&#39;, &#39;type&#39;: &#39;Person&#39;}]
</code></pre></div>
</div>
<div>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span>def</span> <span>evaluate_math</span><span>(</span><span>expression</span><span>:</span> <span>str</span><span>):</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>    <span>return</span> <span>dspy</span><span>.</span><span>PythonInterpreter</span><span>({})</span><span>.</span><span>execute</span><span>(</span><span>expression</span><span>)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span>def</span> <span>search_wikipedia</span><span>(</span><span>query</span><span>:</span> <span>str</span><span>):</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a>    <span>results</span> <span>=</span> <span>dspy</span><span>.</span><span>ColBERTv2</span><span>(</span><span>url</span><span>=</span><span>&#39;http://20.102.90.50:2017/wiki17_abstracts&#39;</span><span>)(</span><span>query</span><span>,</span> <span>k</span><span>=</span><span>3</span><span>)</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a>    <span>return</span> <span>[</span><span>x</span><span>[</span><span>&#39;text&#39;</span><span>]</span> <span>for</span> <span>x</span> <span>in</span> <span>results</span><span>]</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span>react</span> <span>=</span> <span>dspy</span><span>.</span><span>ReAct</span><span>(</span><span>&#34;question -&gt; answer: float&#34;</span><span>,</span> <span>tools</span><span>=</span><span>[</span><span>evaluate_math</span><span>,</span> <span>search_wikipedia</span><span>])</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><span>pred</span> <span>=</span> <span>react</span><span>(</span><span>question</span><span>=</span><span>&#34;What is 9362158 divided by the year of birth of David Gregory of Kinnairdy castle?&#34;</span><span>)</span>
<a id="__codelineno-18-11" name="__codelineno-18-11"></a><span>print</span><span>(</span><span>pred</span><span>.</span><span>answer</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p><strong>Possible Output:</strong></p>

</div>
</div>
</div>
</div>
<details>
<summary>Using DSPy in practice: from quick scripting to building sophisticated systems.</summary>
<p>Standard prompts conflate interface (“what should the LM do?”) with implementation (“how do we tell it to do that?”). DSPy isolates the former as <em>signatures</em> so we can infer the latter or learn it from data — in the context of a bigger program.</p>
<p>Even before you start using optimizers, DSPy&#39;s modules allow you to script effective LM systems as ergonomic, portable <em>code</em>. Across many tasks and LMs, we maintain <em>signature test suites</em> that assess the reliability of the built-in DSPy adapters. Adapters are the components that map signatures to prompts prior to optimization. If you find a task where a simple prompt consistently outperforms idiomatic DSPy for your LM, consider that a bug and <a href="https://github.com/stanfordnlp/dspy/issues">file an issue</a>. We&#39;ll use this to improve the built-in adapters.</p>
</details>
<h2 id="2-optimizers-tune-the-prompts-and-weights-of-your-ai-modules">2) <strong>Optimizers</strong> tune the prompts and weights of your AI modules.</h2>
<p>DSPy provides you with the tools to compile high-level code with natural language annotations into the low-level computations, prompts, or weight updates that align your LM with your program’s structure and metrics. If you change your code or your metrics, you can simply re-compile accordingly.</p>
<p>Given a few tens or hundreds of representative <em>inputs</em> of your task and a <em>metric</em> that can measure the quality of your system&#39;s outputs, you can use a DSPy optimizer. Different optimizers in DSPy work by <strong>synthesizing good few-shot examples</strong> for every module, like <code>dspy.BootstrapRS</code>,<sup><a href="https://arxiv.org/abs/2310.03714">1</a></sup> <strong>proposing and intelligently exploring better natural-language instructions</strong> for every prompt, like <code>dspy.MIPROv2</code>,<sup><a href="https://arxiv.org/abs/2406.11695">2</a></sup> and <strong>building datasets for your modules and using them to finetune the LM weights</strong> in your system, like <code>dspy.BootstrapFinetune</code>.<sup><a href="https://arxiv.org/abs/2407.10930">3</a></sup></p>
<div>
<p>Getting Started III: Optimizing the LM prompts or weights in DSPy programs</p>
<p>A typical simple optimization run costs on the order of $2 USD and takes around 20 minutes, but be careful when running optimizers with very large LMs or very large datasets.
Optimization can cost as little as a few cents or up to tens of dollars, depending on your LM, dataset, and configuration.</p>
<div data-tabs="3:3"><p><label for="__tabbed_3_1">Optimizing prompts for a ReAct agent</label><label for="__tabbed_3_2">Optimizing prompts for RAG</label><label for="__tabbed_3_3">Optimizing weights for Classification</label></p>
<div>
<div>
<p>This is a minimal but fully runnable example of setting up a <code>dspy.ReAct</code> agent that answers questions via
search from Wikipedia and then optimizing it using <code>dspy.MIPROv2</code> in the cheap <code>light</code> mode on 500
question-answer pairs sampled from the <code>HotPotQA</code> dataset.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span>import</span> <span>dspy</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span>from</span> <span>dspy.datasets</span> <span>import</span> <span>HotPotQA</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#39;openai/gpt-4o-mini&#39;</span><span>))</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a><span>def</span> <span>search_wikipedia</span><span>(</span><span>query</span><span>:</span> <span>str</span><span>)</span> <span>-&gt;</span> <span>list</span><span>[</span><span>str</span><span>]:</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a>    <span>results</span> <span>=</span> <span>dspy</span><span>.</span><span>ColBERTv2</span><span>(</span><span>url</span><span>=</span><span>&#39;http://20.102.90.50:2017/wiki17_abstracts&#39;</span><span>)(</span><span>query</span><span>,</span> <span>k</span><span>=</span><span>3</span><span>)</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a>    <span>return</span> <span>[</span><span>x</span><span>[</span><span>&#39;text&#39;</span><span>]</span> <span>for</span> <span>x</span> <span>in</span> <span>results</span><span>]</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><span>trainset</span> <span>=</span> <span>[</span><span>x</span><span>.</span><span>with_inputs</span><span>(</span><span>&#39;question&#39;</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>HotPotQA</span><span>(</span><span>train_seed</span><span>=</span><span>2024</span><span>,</span> <span>train_size</span><span>=</span><span>500</span><span>)</span><span>.</span><span>train</span><span>]</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a><span>react</span> <span>=</span> <span>dspy</span><span>.</span><span>ReAct</span><span>(</span><span>&#34;question -&gt; answer&#34;</span><span>,</span> <span>tools</span><span>=</span><span>[</span><span>search_wikipedia</span><span>])</span>
<a id="__codelineno-20-12" name="__codelineno-20-12"></a>
<a id="__codelineno-20-13" name="__codelineno-20-13"></a><span>tp</span> <span>=</span> <span>dspy</span><span>.</span><span>MIPROv2</span><span>(</span><span>metric</span><span>=</span><span>dspy</span><span>.</span><span>evaluate</span><span>.</span><span>answer_exact_match</span><span>,</span> <span>auto</span><span>=</span><span>&#34;light&#34;</span><span>,</span> <span>num_threads</span><span>=</span><span>24</span><span>)</span>
<a id="__codelineno-20-14" name="__codelineno-20-14"></a><span>optimized_react</span> <span>=</span> <span>tp</span><span>.</span><span>compile</span><span>(</span><span>react</span><span>,</span> <span>trainset</span><span>=</span><span>trainset</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>An informal run like this raises ReAct&#39;s score from 24% to 51%, by teaching <code>gpt-4o-mini</code> more about the specifics of the task.</p>
</div>
<div>
<p>Given a retrieval index to <code>search</code>, your favorite <code>dspy.LM</code>, and a small <code>trainset</code> of questions and ground-truth responses, the following code snippet can optimize your RAG system with long outputs against the built-in <code>SemanticF1</code> metric, which is implemented as a DSPy module.</p>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span>class</span> <span>RAG</span><span>(</span><span>dspy</span><span>.</span><span>Module</span><span>):</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a>    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>num_docs</span><span>=</span><span>5</span><span>):</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a>        <span>self</span><span>.</span><span>num_docs</span> <span>=</span> <span>num_docs</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>        <span>self</span><span>.</span><span>respond</span> <span>=</span> <span>dspy</span><span>.</span><span>ChainOfThought</span><span>(</span><span>&#39;context, question -&gt; response&#39;</span><span>)</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>    <span>def</span> <span>forward</span><span>(</span><span>self</span><span>,</span> <span>question</span><span>):</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a>        <span>context</span> <span>=</span> <span>search</span><span>(</span><span>question</span><span>,</span> <span>k</span><span>=</span><span>self</span><span>.</span><span>num_docs</span><span>)</span>   <span># defined in tutorial linked below</span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a>        <span>return</span> <span>self</span><span>.</span><span>respond</span><span>(</span><span>context</span><span>=</span><span>context</span><span>,</span> <span>question</span><span>=</span><span>question</span><span>)</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><span>tp</span> <span>=</span> <span>dspy</span><span>.</span><span>MIPROv2</span><span>(</span><span>metric</span><span>=</span><span>dspy</span><span>.</span><span>evaluate</span><span>.</span><span>SemanticF1</span><span>(</span><span>decompositional</span><span>=</span><span>True</span><span>),</span> <span>auto</span><span>=</span><span>&#34;medium&#34;</span><span>,</span> <span>num_threads</span><span>=</span><span>24</span><span>)</span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a><span>optimized_rag</span> <span>=</span> <span>tp</span><span>.</span><span>compile</span><span>(</span><span>RAG</span><span>(),</span> <span>trainset</span><span>=</span><span>trainset</span><span>,</span> <span>max_bootstrapped_demos</span><span>=</span><span>2</span><span>,</span> <span>max_labeled_demos</span><span>=</span><span>2</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p>For a complete RAG example that you can run, start this <a href="https://dspy.ai/tutorials/rag/">tutorial</a>. It improves the quality of a RAG system over a subset of StackExchange communities by 10% relative gain.</p>
</div>
<div>
<p>This is a minimal but fully runnable example of setting up a <code>dspy.ChainOfThought</code> module that classifies
short texts into one of 77 banking labels and then using <code>dspy.BootstrapFinetune</code> with 2000 text-label pairs
from the <code>Banking77</code> to finetune the weights of GPT-4o-mini for this task. We use the variant
<code>dspy.ChainOfThoughtWithHint</code>, which takes an optional <code>hint</code> at bootstrapping time, to maximize the utility of
the training data. Naturally, hints are not available at test time.</p>
<details><summary>Click to show dataset setup code.</summary>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span>import</span> <span>random</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span>from</span> <span>typing</span> <span>import</span> <span>Literal</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span>from</span> <span>dspy.datasets</span> <span>import</span> <span>DataLoader</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span>from</span> <span>datasets</span> <span>import</span> <span>load_dataset</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span># Load the Banking77 dataset.</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a><span>CLASSES</span> <span>=</span> <span>load_dataset</span><span>(</span><span>&#34;PolyAI/banking77&#34;</span><span>,</span> <span>split</span><span>=</span><span>&#34;train&#34;</span><span>,</span> <span>trust_remote_code</span><span>=</span><span>True</span><span>)</span><span>.</span><span>features</span><span>[</span><span>&#39;label&#39;</span><span>]</span><span>.</span><span>names</span>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span>kwargs</span> <span>=</span> <span>dict</span><span>(</span><span>fields</span><span>=</span><span>(</span><span>&#34;text&#34;</span><span>,</span> <span>&#34;label&#34;</span><span>),</span> <span>input_keys</span><span>=</span><span>(</span><span>&#34;text&#34;</span><span>,),</span> <span>split</span><span>=</span><span>&#34;train&#34;</span><span>,</span> <span>trust_remote_code</span><span>=</span><span>True</span><span>)</span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><span># Load the first 2000 examples from the dataset, and assign a hint to each *training* example.</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a><span>trainset</span> <span>=</span> <span>[</span>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a>    <span>dspy</span><span>.</span><span>Example</span><span>(</span><span>x</span><span>,</span> <span>hint</span><span>=</span><span>CLASSES</span><span>[</span><span>x</span><span>.</span><span>label</span><span>],</span> <span>label</span><span>=</span><span>CLASSES</span><span>[</span><span>x</span><span>.</span><span>label</span><span>])</span><span>.</span><span>with_inputs</span><span>(</span><span>&#34;text&#34;</span><span>,</span> <span>&#34;hint&#34;</span><span>)</span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a>    <span>for</span> <span>x</span> <span>in</span> <span>DataLoader</span><span>()</span><span>.</span><span>from_huggingface</span><span>(</span><span>dataset_name</span><span>=</span><span>&#34;PolyAI/banking77&#34;</span><span>,</span> <span>**</span><span>kwargs</span><span>)[:</span><span>2000</span><span>]</span>
<a id="__codelineno-22-14" name="__codelineno-22-14"></a><span>]</span>
<a id="__codelineno-22-15" name="__codelineno-22-15"></a><span>random</span><span>.</span><span>Random</span><span>(</span><span>0</span><span>)</span><span>.</span><span>shuffle</span><span>(</span><span>trainset</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
</details>
<div><table><tbody><tr><td></td><td><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span>import</span> <span>dspy</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span>dspy</span><span>.</span><span>configure</span><span>(</span><span>lm</span><span>=</span><span>dspy</span><span>.</span><span>LM</span><span>(</span><span>&#39;gpt-4o-mini-2024-07-18&#39;</span><span>))</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span># Define the DSPy module for classification. It will use the hint at training time, if available.</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span>signature</span> <span>=</span> <span>dspy</span><span>.</span><span>Signature</span><span>(</span><span>&#34;text -&gt; label&#34;</span><span>)</span><span>.</span><span>with_updated_fields</span><span>(</span><span>&#39;label&#39;</span><span>,</span> <span>type_</span><span>=</span><span>Literal</span><span>[</span><span>tuple</span><span>(</span><span>CLASSES</span><span>)])</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span>classify</span> <span>=</span> <span>dspy</span><span>.</span><span>ChainOfThoughtWithHint</span><span>(</span><span>signature</span><span>)</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span># Optimize via BootstrapFinetune.</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span>optimizer</span> <span>=</span> <span>dspy</span><span>.</span><span>BootstrapFinetune</span><span>(</span><span>metric</span><span>=</span><span>(</span><span>lambda</span> <span>x</span><span>,</span> <span>y</span><span>,</span> <span>trace</span><span>=</span><span>None</span><span>:</span> <span>x</span><span>.</span><span>label</span> <span>==</span> <span>y</span><span>.</span><span>label</span><span>),</span> <span>num_threads</span><span>=</span><span>24</span><span>)</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span>optimized</span> <span>=</span> <span>optimizer</span><span>.</span><span>compile</span><span>(</span><span>classify</span><span>,</span> <span>trainset</span><span>=</span><span>trainset</span><span>)</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><span>optimized_classifier</span><span>(</span><span>text</span><span>=</span><span>&#34;What does a pending cash withdrawal mean?&#34;</span><span>)</span>
</code></pre></div></td></tr></tbody></table></div>
<p><strong>Possible Output (from the last line):</strong>
</p><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>Prediction(
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>    reasoning=&#39;A pending cash withdrawal indicates that a request to withdraw cash has been initiated but has not yet been completed or processed. This status means that the transaction is still in progress and the funds have not yet been deducted from the account or made available to the user.&#39;,
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    label=&#39;pending_cash_withdrawal&#39;
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>)
</code></pre></div>
<p>An informal run similar to this on DSPy 2.5.29 raises GPT-4o-mini&#39;s score 66% to 87%.</p>
</div>
</div>
</div>
</div>
<details>
<summary>What&#39;s an example of a DSPy optimizer? How do different optimizers work?</summary>
<p>Take the <code>dspy.MIPROv2</code> optimizer as an example. First, MIPRO starts with the <strong>bootstrapping stage</strong>. It takes your program, which may be unoptimized at this point, and runs it many times across different inputs to collect traces of input/output behavior for each one of your modules. It filters these traces to keep only those that appear in trajectories scored highly by your metric. Second, MIPRO enters its <strong>grounded proposal stage</strong>. It previews your DSPy program&#39;s code, your data, and traces from running your program, and uses them to draft many potential instructions for every prompt in your program. Third, MIPRO launches the <strong>discrete search stage</strong>. It samples mini-batches from your training set, proposes a combination of instructions and traces to use for constructing every prompt in the pipeline, and evaluates the candidate program on the mini-batch. Using the resulting score, MIPRO updates a surrogate model that helps the proposals get better over time.</p>
<p>One thing that makes DSPy optimizers so powerful is that they can be composed. You can run <code>dspy.MIPROv2</code> and use the produced program as an input to <code>dspy.MIPROv2</code> again or, say, to <code>dspy.BootstrapFinetune</code> to get better results. This is partly the essence of <code>dspy.BetterTogether</code>. Alternatively, you can run the optimizer and then extract the top-5 candidate programs and build a <code>dspy.Ensemble</code> of them. This allows you to scale <em>inference-time compute</em> (e.g., ensembles) as well as DSPy&#39;s unique <em>pre-inference time compute</em> (i.e., optimization budget) in highly systematic ways.</p>
</details>
<!-- Future:
BootstrapRS or MIPRO on ??? with a local SGLang LM
BootstrapFS on MATH with a tiny LM like Llama-3.2 with Ollama (maybe with a big teacher) -->

<h2 id="3-dspys-ecosystem-advances-open-source-ai-research">3) <strong>DSPy&#39;s Ecosystem</strong> advances open-source AI research.</h2>
<p>Compared to monolithic LMs, DSPy&#39;s modular paradigm enables a large community to improve the compositional architectures, inference-time strategies, and optimizers for LM programs in an open, distributed way. This gives DSPy users more control, helps them iterate much faster, and allows their programs to get better over time by applying the latest optimizers or modules.</p>
<p>The DSPy research effort started at Stanford NLP in Feb 2022, building on what we learned from developing early <a href="https://bair.berkeley.edu/blog/2024/02/18/compound-ai-systems/">compound LM systems</a> like <a href="https://arxiv.org/abs/2007.00814">ColBERT-QA</a>, <a href="https://arxiv.org/abs/2101.00436">Baleen</a>, and <a href="https://arxiv.org/abs/2110.07752">Hindsight</a>. The first version was released as <a href="https://arxiv.org/abs/2212.14024">DSP</a> in Dec 2022 and evolved by Oct 2023 into <a href="https://arxiv.org/abs/2310.03714">DSPy</a>. Thanks to <a href="https://github.com/stanfordnlp/dspy/graphs/contributors">250 contributors</a>, DSPy has introduced tens of thousands of people to building and optimizing modular LM programs.</p>
<p>Since then, DSPy&#39;s community has produced a large body of work on optimizers, like <a href="https://arxiv.org/abs/2406.11695">MIPROv2</a>, <a href="https://arxiv.org/abs/2407.10930">BetterTogether</a>, and <a href="https://arxiv.org/abs/2410.23214">LeReT</a>, on program architectures, like <a href="https://arxiv.org/abs/2402.14207">STORM</a>, <a href="https://arxiv.org/abs/2401.12178">IReRa</a>, and <a href="https://arxiv.org/abs/2312.13382">DSPy Assertions</a>, and on successful applications to new problems, like <a href="https://arxiv.org/abs/2410.17127">PAPILLON</a>, <a href="https://arxiv.org/abs/2406.11706">PATH</a>, <a href="https://arxiv.org/abs/2404.14544">WangLab@MEDIQA</a>, <a href="https://arxiv.org/abs/2406.06608">UMD&#39;s Prompting Case Study</a>, and <a href="https://blog.haizelabs.com/posts/dspy/">Haize&#39;s Red-Teaming Program</a>, in addition to many open-source projects, production applications, and other <a href="https://dspy.ai/dspy-usecases/">use cases</a>.</p>







  
  




  



                
              </article>
            </div>
          
          
  


        </div>
        
          
        
      </div></div>
  </body>
</html>
