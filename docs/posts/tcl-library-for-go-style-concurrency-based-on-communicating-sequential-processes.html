<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/securitykiss-com/csp">Original</a>
    <h1>Tcl library for Go-style concurrency based on Communicating Sequential Processes</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text"><h2 dir="auto"><a id="user-content-csp---golang-inspired-concurrency-library-for-tcl" aria-hidden="true" href="#csp---golang-inspired-concurrency-library-for-tcl"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>csp - Golang inspired concurrency library for Tcl</h2>
<p dir="auto">The csp package for Tcl is a concurrency library based on Communicating Sequential Processes and provides two primitives namely coroutines and channels which allow concurrent programming in the style of Golang.</p>
<p dir="auto">The concepts originate in Hoare&#39;s Communicating Sequential Processes while the syntax mimics the Golang implementation.</p>
<p dir="auto">The CSP concurrency model may be visualized as a set of independent processes (coroutines) sending and receiving messages to the named channels. The control flow in the coroutines is coordinated at the points of sending and receiving messages i.e. the coroutine may need to wait while trying to send or receive. Since it must work in a single-threaded interpreter, waiting is non-blocking. Instead of blocking a waiting coroutine gives way to other coroutines.</p>
<p dir="auto">This concurrency model may also be seen as a generalization of Unix named pipes where processes and pipes correspond to coroutines and channels.</p>
<p dir="auto">[Documentation] (<a href="https://securitykiss.com/resources/tutorials/csp_project/csp.html" rel="nofollow">https://securitykiss.com/resources/tutorials/csp_project/csp.html</a>)</p>
<p dir="auto">[Intro] (<a href="https://securitykiss.com/resources/tutorials/csp_project/index.php" rel="nofollow">https://securitykiss.com/resources/tutorials/csp_project/index.php</a>)</p>
<h3 dir="auto"><a id="user-content-example" aria-hidden="true" href="#example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example</h3>
<div data-snippet-clipboard-copy-content="
    package require http
    package require csp
    namespace import csp::*
 
    proc main {} {
        http::geturl http://securitykiss.com/rest/slow/now -command [-&gt; ch1]
        http::geturl http://securitykiss.com/rest/slow/now -command [-&gt; ch2]
        timer t1 400
        select {
            &lt;- $ch1 {
                puts &#34;from first request: [http::data [&lt;- $ch1]]&#34;
            }
            &lt;- $ch2 {
                puts &#34;from second request: [http::data [&lt;- $ch2]]&#34;
            }
            &lt;- $t1 {
                puts &#34;requests timed out at [&lt;- $t1]&#34;
            }
        }
    }
 
    go main
 
    vwait forever

"><pre>    <span>package</span> require http
    <span>package</span> require csp
    <span>namespace</span> import csp::*
 
    <span>proc</span> <span>main</span> {} {
        <span>http</span>::geturl http://securitykiss.com/rest/slow/now -command [-&gt; ch1]
        <span>http</span>::geturl http://securitykiss.com/rest/slow/now -command [-&gt; ch2]
        timer t1 400
        select {
            &lt;- <span>$ch1</span> {
                <span>puts</span> <span><span>&#34;</span>from first request: <span><span>[</span><span>http</span>::data [&lt;- <span>$ch1</span><span>]</span></span>]<span>&#34;</span></span>
            }
            &lt;- <span>$ch2</span> {
                <span>puts</span> <span><span>&#34;</span>from second request: <span><span>[</span><span>http</span>::data [&lt;- <span>$ch2</span><span>]</span></span>]<span>&#34;</span></span>
            }
            &lt;- <span>$t1</span> {
                <span>puts</span> <span><span>&#34;</span>requests timed out at <span><span>[</span>&lt;- <span>$t1</span><span>]</span></span><span>&#34;</span></span>
            }
        }
    }
 
    go main
 
    <span>vwait</span> forever
</pre></div>
</article>
        </div></div>
  </body>
</html>
