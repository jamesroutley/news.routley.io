<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://checksum.sh/">Original</a>
    <h1>Show HN: Checksum.sh verify every install script</h1>
    
    <div id="readability-page-1" class="page"><div>
      
      
      

      

<p><img src="https://checksum.sh/checksum.sh.png?raw=true" alt="checksum.sh" title="checksum.sh Logo"/></p>

<p>Checksum.sh is a simple way to download, review, and verify install scripts. If the checksum is OK the script will be printed to stdout, which can be piped to <code>sh</code> or elsewhere. If the checksum doesn’t match it produces an error and nothing is piped. <a href="https://github.com/gavinuhma/checksum.sh">View the code on GitHub</a>.</p>

<p>For example, to install Rust:</p>
<div><div><pre><code>checksum https://sh.rustup.rs 8327fa6ce106d2a387fdd02cb95c3607193c2edb | sh
</code></pre></div></div>

<p>In contrast to Rust’s usual installation which doesn’t verify the checksum:</p>
<div><div><pre><code>curl <span>--proto</span> <span>&#39;=https&#39;</span> <span>--tlsv1</span>.2 <span>-sSf</span> https://sh.rustup.rs | sh
</code></pre></div></div>



<p><strong>Option 1: Define the checksum function directly</strong></p>

<p>Paste the following into your command line to define the <code>checksum</code> function.</p>

<div><div><pre><code><span>function </span>checksum<span>()</span> <span>{</span>
  <span>s</span><span>=</span><span>$(</span>curl <span>-fsSL</span> <span>&#34;</span><span>$1</span><span>&#34;</span><span>)</span>
  <span>if</span> <span>!</span> <span>command</span> <span>-v</span> shasum <span>&gt;</span>/dev/null
  <span>then
    </span><span>alias </span><span>shasum</span><span>=</span><span>sha1sum
  </span><span>fi
  </span><span>c</span><span>=</span><span>$(</span><span>printf</span> %s<span>\\</span>n <span>&#34;</span><span>$s</span><span>&#34;</span> | shasum | <span>awk</span> <span>&#39;{print $1}&#39;</span><span>)</span>
  <span>if</span> <span>[</span> <span>&#34;</span><span>$c</span><span>&#34;</span> <span>=</span> <span>&#34;</span><span>$2</span><span>&#34;</span> <span>]</span>
  <span>then
    </span><span>printf</span> %s<span>\\</span>n <span>&#34;</span><span>$s</span><span>&#34;</span>
  <span>else
    </span><span>echo</span> <span>&#34;invalid checksum </span><span>$c</span><span> != </span><span>$2</span><span>&#34;</span> 1&gt;&amp;2<span>;</span>
  <span>fi
  </span><span>unset </span>s
  <span>unset </span>c
<span>}</span>
</code></pre></div></div>

<p><strong>Option 2: Download the script</strong></p>

<p>Alternatively, you can download, review and verify the <a href="https://github.com/gavinuhma/checksum.sh/blob/main/checksum.sh">checksum.sh script</a>:</p>
<div><div><pre><code>curl <span>-O</span> https://checksum.sh/checksum.sh
<span>cat </span>checksum.sh
<span>echo</span> <span>&#34;132e320edb0027470bfd836af8dadf174e4fee0e  checksum.sh&#34;</span> | shasum <span>-c</span>
</code></pre></div></div>

<p>If everything is OK, you can source the script which will define the <code>checksum</code> function.</p>



<p>To download and verify a script pass the URL and the CHECKSUM:</p>

<p><code>checksum &lt;URL&gt; &lt;CHECKSUM&gt;</code></p>

<p>The script will be printed out by default so you can inspect it.</p>

<p>If you’re happy with it, you can pipe the script to <code>sh</code> to execute it:</p>

<p><code>checksum &lt;URL&gt; &lt;CHECKSUM&gt; | sh</code></p>

<p>If you just want to calculate the checksum for a URL you can omit the CHECKSUM:</p>

<p><code>checksum &lt;URL&gt;</code></p>



<p><em>Note: If any of these install scripts have changed these commands will error because the checksum will be invalid.</em></p>

<h3 id="install-rust">Install <a href="https://www.rust-lang.org/tools/install">Rust</a></h3>

<div><div><pre><code>checksum https://sh.rustup.rs 8327fa6ce106d2a387fdd02cb95c3607193c2edb | sh
</code></pre></div></div>

<h3 id="install-cape">Install <a href="https://docs.capeprivacy.com/getting-started/">Cape</a></h3>

<div><div><pre><code>checksum https://raw.githubusercontent.com/capeprivacy/cli/main/install.sh 2309498bc07fbca42d421f696a605da15d99d939 | sh
</code></pre></div></div>

<h3 id="install-nitrogen">Install <a href="https://github.com/capeprivacy/nitrogen">Nitrogen</a></h3>

<div><div><pre><code>checksum https://raw.githubusercontent.com/capeprivacy/nitrogen/main/install.sh 8012d9e1d1420942f0ae6955fc99c790d52e9c3e | sh
</code></pre></div></div>

<h3 id="install-nix">Install <a href="https://nixos.org/download.html">Nix</a></h3>

<div><div><pre><code>checksum https://nixos.org/nix/install 84b31e0093aaa169c1f580c2fbe2397d059d1983 | sh
</code></pre></div></div>

<h3 id="install-deno">Install <a href="https://deno.land/#installation">Deno</a></h3>
<div><div><pre><code>checksum https://deno.land/install.sh 57a4d67e64d2a7204541b9e131cedb289a79e834 | sh
</code></pre></div></div>


      
      
      
    </div></div>
  </body>
</html>
