<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://opensource.com/article/21/1/d-scripting">Original</a>
    <h1>Why I use the D programming language for scripting (2021)</h1>
    
    <div id="readability-page-1" class="page"><div>
  
    
      
            <div><p>The D programming language is often advertised as a system programming language due to its static typing and metaprogramming capabilities. However, it&#39;s also a very productive scripting language.</p>
<p>Python is commonly chosen for scripting due to its flexibility for automating tasks and quickly prototyping ideas. This makes Python very appealing to sysadmins, <a href="https://opensource.com/article/20/3/automating-community-management-python">managers</a>, and developers in general for automating recurring tasks that they might otherwise have to do manually.</p>
<p>It is reasonable to expect any other script-writing language to have these Python traits and capabilities. Here are two reasons why I believe D is a good option.</p>
<h2 id="d-is-easy-to-read-and-write">1. D is easy to read and write</h2>
<p>As a C-like language, D should be familiar to most programmers. Anyone who uses JavaScript, Java, PHP, or Python will know their way around D.</p>
<p>If you don&#39;t already have D installed, <a href="https://tour.dlang.org/tour/en/welcome/install-d-locally" target="_blank">install a D compiler</a> so that you can <a href="https://tour.dlang.org/tour/en/welcome/run-d-program-locally" target="_blank">run the D code</a> in this article. You may also use the <a href="https://run.dlang.io/" target="_blank">online D editor</a>.</p>
<p>Here is an example of D code that reads words from a file named <code>words.txt</code> and prints them on the command line:</p>
<pre><code>open
source
is
cool</code></pre><p>Write the script in D:</p>
<pre><code>#!/usr/bin/env rdmd
// file print_words.d

// import the D standard library
import std;

void main(){
    // open the file
     File(&#34;./words.txt&#34;)

         //iterate by line
        .byLine

        // print each number
        .each!writeln;
}</code></pre><p>This code is prefixed with a <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)" target="_blank">shebang</a> that will run the code using <a href="https://dlang.org/rdmd.html" target="_blank">rdmd</a>, a tool that comes with the D compiler to compile and run code. Assuming you are running Unix or Linux, before you can run this script, you must make it executable by using the <code>chmod</code> command:</p>
<pre><code>chmod u+x print_words.d</code></pre><p>Now that the script is executable, you can run it:</p>
<pre><code>./print_words.d</code></pre><p>This should print the following on your command line:</p>
<pre><code>open
source
is
cool</code></pre><p>Congratulations! You&#39;ve written your first D script. You can see how D enables you to chain functions in sequence to make reading the code feel natural, similar to how you think about problems in your mind. This <a href="https://opensource.com/article/20/7/d-programming">feature makes D my favorite programming language</a>.</p>
<p>Try writing another script: A nonprofit manager has a text file of donations with each amount on separate lines. The manager wants to sum the first 10 donations and print the amounts:</p>
<pre><code>#!/usr/bin/env rdmd
// file sum_donations.d

import std;

void main()
{
    double total = 0;

    // open the file
    File(&#34;monies.txt&#34;)

         // iterate by line
        .byLine

         // pick first 10 lines
        .take(10)

        // remove new line characters (\n)
        .map!(strip)

         // convert each to double
        .map!(to!double)

        // add element to total
        .tee!((x) { total += x; })

        // print each number
        .each!writeln;

    // print total
    writeln(&#34;total: &#34;, total);
}</code></pre><p>The <code>!</code> operator used with <code>each</code> is the syntax of a <a href="http://ddili.org/ders/d.en/templates.html" target="_blank">template argument</a>.</p>
<h2 id="d-is-great-for-quick-prototyping">2. D is great for quick prototyping</h2>

<p>D is flexible for hammering code together really quickly and making it work. Its standard library is rich with utility functions for performing common tasks, such as manipulating data (JSON, CSV, text, etc.). It also comes with a rich set of generic algorithms for iterating, searching, comparing, and mutating data. These cleverly crafted algorithms are oriented towards processing sequences by defining generic <a href="http://ddili.org/ders/d.en/ranges.html" target="_blank">range-based interfaces</a>.</p>
<p>The script above shows how chaining functions in D provides a gist of sequential processing and manipulating data. Another appeal of D is its growing ecosystem of third-party packages for performing common tasks. An example is how easy it is to build a simple web server using the <a href="https://vibed.org" target="_blank">Vibe.d</a> web framework. Here&#39;s an example:</p>
<pre><code>#!/usr/bin/env dub
/+ dub.sdl:
dependency &#34;vibe-d&#34; version=&#34;~&gt;0.8.0&#34;
+/
void main()
{
    import vibe.d;
    listenHTTP(&#34;:8080&#34;, (req, res) {
        res.writeBody(&#34;Hello, World: &#34; ~ req.path);
    });
    runApplication();
}</code></pre><p>This uses the official D package manager, <a href="https://dub.pm/getting_started" target="_blank">Dub</a>, to fetch the vibe.d web framework from the <a href="https://code.dlang.org" target="_blank">D package repository</a>. Dub takes care of downloading the Vibe.d package, then compiling and spinning up a web server on localhost port 8080.</p>
<h2 id="time-to-try-d">Give D a try</h2>
<p>These are only a couple of reasons why you might want to use D for writing scripts.</p>
<p>D is a great language for development. It&#39;s easy to install from the D download page, so download the compiler, take a look at the examples, and experience D for yourself.</p>
</div>
      
  </div><div>
  
    
      
            <p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
        <img alt="Creative Commons License" src="https://opensource.com/themes/osdc/assets/img/cc-by-sa-4.png" title="This work is licensed under a Creative Commons Attribution-Share Alike 4.0 International License."/></a>This work is licensed under a Creative Commons Attribution-Share Alike 4.0 International License.</p>
      
  </div></div>
  </body>
</html>
