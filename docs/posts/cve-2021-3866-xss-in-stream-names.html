<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.zulip.com/2022/01/19/cve-2021-3866/">Original</a>
    <h1>CVE-2021-3866: XSS in stream names</h1>
    
    <div id="readability-page-1" class="page"><div id="site-main">
    <article>

        <header>

            <section>
                <a href="https://blog.zulip.com/tag/security/">Security</a>
            </section>

            


            <div>
                <section>
                    <ul>
                        <li>
                            <a href="https://www.smithsonianmag.com/author/alex/">
                                <img src="https://www.gravatar.com/avatar/6040af6e26d481c0e5fd4ac2fe4ea460?s=250&amp;d=mm&amp;r=x" alt="Alex Vandiver"/>
                            </a>
                        </li>
                    </ul>
                    <div>
                        
                        <p><time datetime="2022-01-18">Jan 18, 2022</time>
                            <span><span>•</span> 2 min read</span>
                        </p>
                    </div>
                </section>
            </div>

        </header>

        <section>
            <p>This is an important security announcement for Zulip installations running the <code>main</code> (development) branch of the Zulip server. The <code>main</code> branch of Zulip Server, since <a href="https://github.com/zulip/zulip/commit/44f935695d452cc3fb16845a0c6af710438b153d" rel="noreferrer nofollow noopener">a commit merged on December 4th</a>, was vulnerable to a stored cross-site scripting vulnerability in stream names. A malicious user with permission to create or rename streams could exploit this vulnerability to execute arbitrary JavaScript in other users’ browsers.</p><ul><li>Self-hosted installations running official releases are not affected, since this change did not make it into an official release.</li><li>Self-hosted installations that <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-a-git-repository" rel="noreferrer nofollow noopener">upgraded to the <code>main</code> branch</a> on or after December 4 should immediately upgrade to the latest version of the <code>main</code> branch to get the fix. Your installation is affected if you deployed from Git, and the following produces exactly one line of output (either zero or two lines of output means the server is <em>not</em> vulnerable):</li></ul><!--kg-card-begin: markdown--><pre><code>git -C /home/zulip/deployments/current log | grep 44f935695d452cc3fb16845a0c6af710438b153d
</code></pre>
<!--kg-card-end: markdown--><ul><li>Zulip Cloud was vulnerable from December 6th through January 15th. We have completed an audit of access logs, and have verified that this vulnerability was not exploited on Zulip Cloud.</li></ul><p>We have been assigned CVE-2021-3866 for this vulnerability; we’d like to thank <a href="https://twitter.com/b1nslashsh" rel="noreferrer nofollow noopener">Abdul Muhaimin</a> for bringing this to our attention.</p><p><em>(Edit: We were originally assigned CVE-2021-3853 for this issue. However, due to an error by the third party that assigned this CVE number, that CVE number had incorrectly also been assigned to an unrelated vulnerability in a different product.)</em></p><p>Because this vulnerability was not in any released version of Zulip Server, we are not releasing a new version of Zulip to resolve it. If you upgraded to the <code>main</code> branch on or after December 4, you should <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-a-git-repository" rel="noreferrer nofollow noopener">upgrade to the latest <code>main</code> again using our documented techniques</a>. If you need help, best-effort support is available on <a href="https://zulip.com/developer-community/" rel="noreferrer nofollow noopener"><u>chat.zulip.org</u></a>.</p><p>As a reminder, we will remove support for Ubuntu 18.04 Bionic shortly. Specifically, Ubuntu 18.04 will be supported in the rest of the Zulip Server 4.x series, but will not be supported in the upcoming Zulip Server 5.0 release.</p><p>We strongly recommend upgrading the OS of any Zulip servers you manage which are running on Ubuntu 18.04, because important packages in Ubuntu 18.04 are no longer receiving security support from Ubuntu. See our <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-the-operating-system" rel="noreferrer nofollow noopener"><u>OS upgrade documentation</u></a> for how to correctly upgrade the host operating system for a Zulip server.</p><p>We intend to remove support for Ubuntu 18.04 from the <code>main</code> branch in the upcoming days. Once we have done so, you will need to first <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-the-operating-system">upgrade the operating system to Ubuntu 20.04</a> before running <code>upgrade-zulip-from-git main</code>.</p><p>We love feedback from the Zulip user community. Here are a few ways you can connect:</p><ul><li>Join <a href="https://zulip.com/developer-community/" rel="noreferrer nofollow noopener"><u>chat.zulip.org</u></a> and provide feedback directly to the development community!</li><li><a href="https://twitter.com/zulip" rel="noreferrer nofollow noopener"><u>Follow us on Twitter</u></a>, or join our <a href="https://groups.google.com/forum/#!forum/zulip-announce" rel="noreferrer nofollow noopener"><u>announcement mailing list</u></a> (or <a href="https://blog.zulip.com/#subscribe" rel="noreferrer nofollow noopener"><u>subscribe to the blog posts</u></a>, which are mostly a subset of the already low-volume mailing list).</li></ul>
        </section>


    </article>
</div></div>
  </body>
</html>
