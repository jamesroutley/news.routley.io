<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://typesafety.net/rob/blog/advent-of-dusa-2024">Original</a>
    <h1>Advent of Dusa, 2024 Edition</h1>
    
    <div id="readability-page-1" class="page"><div data-astro-cid-3lgtpi4n="">  <p>Now that I’ve <a href="https://typesafety.net/blog/writing-a-paper-if-youre-me">rewritten Dusa using the lessons I learned writing a paper
about it over the last year</a>, I get to do
some fun exploring. Here’s a screenshot of a
<a href="https://en.wikipedia.org/wiki/Forest-fire_model">forest fire model</a> that I
<a href="https://editor.p5js.org/robsimmons/sketches/nLlyYX9E4">implemented with p5js and Dusa</a>:</p>
<figure><div><p><img src="https://typesafety.net/_astro/forest-fire.DRrEmndE_Z1LLaWB.webp" alt="A forest-fire cellular automata implemented in Dusa" width="620" height="366" loading="lazy" decoding="async"/></p></div></figure>
<p>(Incidentally, I’m incredibly grateful for Julia Evans’
<a href="https://jvns.ca/blog/2024/11/18/how-to-import-a-javascript-library/">timely discussion of the state of JavaScript libraries</a>.
Her post was intended for people that <em>use</em> JS libraries, but it was also very
helpful in helping me sort out the way(s) in which the Dusa package should be
distributed via NPM, and that helps the p5js sketch look like actual idiomatic
p5js instead of needing weird exports and module stuff.)</p>
<p>But it’s also December, and that means another attempt to do Advent of Code in
Dusa. I’m going to give myself a rating system to judge my examples this year:</p>
<ul>
<li>2 stars: ⭐⭐ — I solved the problem, but just used JavaScript/did not use
Dusa at all.</li>
<li>4 stars: ⭐⭐⭐⭐ — I solved the problem, and used Dusa, but in a
mostly trivial way (for instance, if I’m using Dusa mostly as a fancy
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>).</li>
<li>6 stars: ⭐⭐⭐⭐⭐⭐ — I solved the problem using a combination of Dusa
code and JavaScript code. That forest fire model would be a 6-star solution
because I call Dusa in a loop.</li>
<li>8 stars: ⭐⭐⭐⭐⭐⭐⭐⭐ — The solution is a JavaScript program that
parses the input into JSON, processes the input with Dusa, and then does
some final computation in JavaScript with something like a call to
<code>solution.lookup(&#39;answers&#39;).reduce(...)</code>. I expect this will be relatively
common, because Dusa’s not great at aggregation.</li>
<li>10 stars: ⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐ — There’s a minimal JS step parsing the
input into JSON, and the solution runs using the <a href="https://github.com/robsimmons/dusa/blob/main/README.md#command-line-quickstart"><code>dusa</code> command line
utility</a>.</li>
</ul>
<p>Minus one star if the solution works on the example, and I think it’s
conceptually sound, but it doesn’t work for the full example due to efficiency
issues or some bug I don’t understand.</p>
<p>I’ll be updating this post over the month, but will mostly be doing commentary
on solutions <a href="https://social.wub.site/@simrob/113578795569920265">over on Mastodon</a>.</p>
<ul>
<li>Day 1 (<a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/day1.js">JS parsing code</a>)
<ul>
<li>Part 1 ⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/1a.dusa">github</a> <a href="https://dusa.rocks/#jsonz=lVRta9tADP4rIv2wGDpj5w1WlkLafglkXZd2wy6G4iaX1cw5h9yZrhv775N0d_bZpYx9CLGkR4-k53T3e6AHZ4PqIOTgdLCtNvVeSPKcwOLzJYyi0QSu8heIT-EmP2qIM5nJk8e6KHUhYXl993Cz-noLh7JWPf-n5TUG9oWkCMZgKQ-1xm-5rp4VFAqGpZDf9ROsq0oHcPYejvgBEYXIFWZyl280rAqlMXkrflLkW17WAsGZBIBdIcotDE1e0IIWx-OpB0DTsLj80HS0FptKKl3oWgvQTwJKBCnIFZCfjUzSTFvO7jYii9K1Yedo-sAow2wPzRAPFHkIX3O-YzmoKCSQqMAR93EES5ShZWXRFcN8jgz9WoYzwWJlk8_ZJHSPNzIRq8qXutj8UBUediV9IU7K_NcLUCCTHCYFjBCh9fgjYOQWfWLrhjng_hS6QFIC8MS6PpQCFgouVGAGyA-4iXikTLdAGkdpPIjzmE3D3FZDnkm_jm3RFiILf0HYBZkSKaSmawt2Xmrioj0SPzF9a4oUPs5Z-3-XWagmwMP9X5lzruJEMOJl0opI45rclM7WSeudkWV2EltEQglBYNfhMi83dZnjDdkWu12zB_mjukIbac0H9clkZi_R4iudwPkc0vAtWAoJw1KC-aPYWvznzq1dNuP2J-mLy-bQKxrAfXuIJp_nJPS9W_3bes9vQLPs9X7Fpv1wXURh6-rt_JCeQt5XG0-clLlUz-LImCbXDmIuD1_UCHfAt-MgaI7iTtAlts9oJtvnkvqxjxDbM3o7-emLjCNuATHZowYQG8DYczBi4lE0KZZi1KUYGYqJ54i7nJFJGbcU4y7F2FD4DqaYehRjV8RSTLoZk3ZS53jVxcRxWoppl2La12JqKD54FFOnr6WYdSlmfYpZ20UmB3_-Ag">dusa.rocks</a></li>
<li>Part 2 ⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/1b.dusa">github</a> <a href="https://dusa.rocks/#jsonz=lZVtb9MwEID_ytF9WCONKumbxERB3UCo0jbGOiCVIlVZ424WqVPFjkZB_HfOPjtxMtDgQ9XkXp578Z3zs6d6p71iz0TvpJcVm2rHhJYcwfzjOQzD4RjepQeITuA6LRUME5GIo7uK54oLWFzdrq8vPi9hn1eyI79cXKFix8UTze3i8v0SFN8xaWiwEPtK4bO4KR4lcAn9nIl79QA3RaECOH0JJT5AqFVaNEjENt0ouOBSoXPGvmvNlzSvGBonAgC2nOUZ9MkvaIzmZXniGeArUZz_gDK6YZtCSMVVpRioBwY5GklIJWi5eUmErikz3u1EBM9dGraOOg_UGjObQ13EWmvWg6fMY9MOHRRiiGXgwF07bRZLwpqeoyiC2QwJ3VjEjDFYXvsbb93oDjckje3Kp4pvvskCx6AQfiOO8vTHAbQiEUatO0CNGFiJXwJqlihjmStmj5PFFUeoNjAVq2qfM5hLOJMBFZDucUbxSA1ujhiHJAnaeWRK2KRVwxPhx7Ep2kD6DX_BoG1EIVawoqytsZPqJM6aI_EdV3-rYgWvZ6b3z4eZy1phivu_MG9MFNcEal4ibBN1ueS70mfrWuudkSW7FluLWDsEgR2HD0zhFFQCF6PYgqh2d6xEN2EWRuoNyszeJOKeCVamip2T9ZUxhb6-NWCelyzNDkvGBEQBjaGp4c9OvjmlZxWYNeZl8nEi3qbjeP8jGDdJJ_JiBn4EvZ8d3xiX7LmM135jkauxpHqOR5tjtjQKOheBPYP3QlaluaJKdowXVP6YHvCPzgW2BTZBsV19KlteIowOhUxi5L7FPcfmmCsipLvIDg98Zfz-Qa-qrHZwdyBuvfHV7sKg7INbqnDQiDqLT2feN5c_Tb5JAse77zxiN2GpkI90irWOmhHWI3jL9OVlPx-JaD4TOgV7-Zr3qf5mmCs_JEHUGET6fVgbRGQw8gTGYuwhaheLGLYRQ0KMPUHUZobkMmoQozZiRAhfYBATDzFyQSxi3PYYN5U6wZMsxo5pEZM2YtLtxYQQrzzExPXXIqZtxLSLmDZZJKL36zc">dusa.rocks</a></li>
<li>Notable: implemented a Prolog-style quicksort with Dusa’s experimental
<a href="https://dusa.rocks/docs/language/lazy/">lazy predicates</a>.</li>
</ul>
</li>
</ul>  </div></div>
  </body>
</html>
