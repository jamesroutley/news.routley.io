<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://typesafety.net/rob/blog/advent-of-dusa-2024">Original</a>
    <h1>Advent of Dusa, 2024 Edition</h1>
    
    <div id="readability-page-1" class="page"><div data-astro-cid-3lgtpi4n="">  <p>Now that I’ve <a href="https://typesafety.net/rob/blog/writing-a-paper-if-youre-me">rewritten Dusa using the lessons I learned writing a paper
about it over the last year</a>, I get to do
some fun exploring. Here’s a screenshot of a
<a href="https://en.wikipedia.org/wiki/Forest-fire_model">forest fire model</a> that I
<a href="https://editor.p5js.org/robsimmons/sketches/nLlyYX9E4">implemented with p5js and Dusa</a>:</p>
<figure><div><p><img src="https://typesafety.net/_astro/forest-fire.DRrEmndE_Z1LLaWB.webp" alt="A forest-fire cellular automata implemented in Dusa" width="620" height="366" loading="lazy" decoding="async"/></p></div></figure>
<p>(Incidentally, I’m incredibly grateful for Julia Evans’
<a href="https://jvns.ca/blog/2024/11/18/how-to-import-a-javascript-library/">timely discussion of the state of JavaScript libraries</a>.
Her post was intended for people that <em>use</em> JS libraries, but it was also very
helpful in helping me sort out the way(s) in which the Dusa package should be
distributed via NPM, and that helps the p5js sketch look like actual idiomatic
p5js instead of needing weird exports and module stuff.)</p>
<p>But it’s also December, and that means another attempt to do Advent of Code in
Dusa. I’m going to give myself a rating system to judge my examples this year:</p>
<ul>
<li>1 stars: ⭐ — I solved the problem, but just used JavaScript/did not use
Dusa at all.</li>
<li>2 stars: ⭐⭐ — I solved the problem, and used Dusa, but in a
mostly trivial way (for instance, if I’m using Dusa mostly as a fancy
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>).</li>
<li>3 stars: ⭐⭐⭐ — I solved the problem using a combination of Dusa
code and JavaScript code. That forest fire model would be a 6-star solution
because I call Dusa in a loop.</li>
<li>4 stars: ⭐⭐⭐⭐ — The solution is a JavaScript program that
parses the input into JSON, processes the input with Dusa, and then does
some final computation in JavaScript with something like a call to
<code>solution.lookup(&#39;answers&#39;).reduce(...)</code>. I expect this will be relatively
common, because Dusa’s not great at aggregation.</li>
<li>5 stars: ⭐⭐⭐⭐⭐ — There’s a minimal JS step parsing the
input into JSON, and the solution runs using the <a href="https://github.com/robsimmons/dusa/blob/main/README.md#command-line-quickstart"><code>dusa</code> command line
utility</a>.</li>
</ul>
<p>Black stars ★ for solutions that works on the examples, that I think are
conceptually sound, but that don’t work for the full example due to efficiency
issues or some bug I don’t understand.</p>
<p>I’ll be updating this post over the month, but will mostly be doing commentary
on solutions <a href="https://social.wub.site/@simrob/113578795569920265">over on Mastodon</a>.</p>
<ul>
<li>
<p>Day 1: 10⭐ (<a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/day1.js">JS parsing code</a>)</p>
<ul>
<li>Part 1 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/1a.dusa">github</a> <a href="https://dusa.rocks/#jsonz=lVRta9tADP4rIv2wGDpj5w1WlkLafglkXZd2wy6G4iaX1cw5h9yZrhv775N0d_bZpYx9CLGkR4-k53T3e6AHZ4PqIOTgdLCtNvVeSPKcwOLzJYyi0QSu8heIT-EmP2qIM5nJk8e6KHUhYXl993Cz-noLh7JWPf-n5TUG9oWkCMZgKQ-1xm-5rp4VFAqGpZDf9ROsq0oHcPYejvgBEYXIFWZyl280rAqlMXkrflLkW17WAsGZBIBdIcotDE1e0IIWx-OpB0DTsLj80HS0FptKKl3oWgvQTwJKBCnIFZCfjUzSTFvO7jYii9K1Yedo-sAow2wPzRAPFHkIX3O-YzmoKCSQqMAR93EES5ShZWXRFcN8jgz9WoYzwWJlk8_ZJHSPNzIRq8qXutj8UBUediV9IU7K_NcLUCCTHCYFjBCh9fgjYOQWfWLrhjng_hS6QFIC8MS6PpQCFgouVGAGyA-4iXikTLdAGkdpPIjzmE3D3FZDnkm_jm3RFiILf0HYBZkSKaSmawt2Xmrioj0SPzF9a4oUPs5Z-3-XWagmwMP9X5lzruJEMOJl0opI45rclM7WSeudkWV2EltEQglBYNfhMi83dZnjDdkWu12zB_mjukIbac0H9clkZi_R4iudwPkc0vAtWAoJw1KC-aPYWvznzq1dNuP2J-mLy-bQKxrAfXuIJp_nJPS9W_3bes9vQLPs9X7Fpv1wXURh6-rt_JCeQt5XG0-clLlUz-LImCbXDmIuD1_UCHfAt-MgaI7iTtAlts9oJtvnkvqxjxDbM3o7-emLjCNuATHZowYQG8DYczBi4lE0KZZi1KUYGYqJ54i7nJFJGbcU4y7F2FD4DqaYehRjV8RSTLoZk3ZS53jVxcRxWoppl2La12JqKD54FFOnr6WYdSlmfYpZ20UmB3_-Ag">dusa.rocks</a></li>
<li>Part 2 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/1b.dusa">github</a> <a href="https://dusa.rocks/#jsonz=lZVtb9MwEID_ytF9WCONKumbxERB3UCo0jbGOiCVIlVZ424WqVPFjkZB_HfOPjtxMtDgQ9XkXp578Z3zs6d6p71iz0TvpJcVm2rHhJYcwfzjOQzD4RjepQeITuA6LRUME5GIo7uK54oLWFzdrq8vPi9hn1eyI79cXKFix8UTze3i8v0SFN8xaWiwEPtK4bO4KR4lcAn9nIl79QA3RaECOH0JJT5AqFVaNEjENt0ouOBSoXPGvmvNlzSvGBonAgC2nOUZ9MkvaIzmZXniGeArUZz_gDK6YZtCSMVVpRioBwY5GklIJWi5eUmErikz3u1EBM9dGraOOg_UGjObQ13EWmvWg6fMY9MOHRRiiGXgwF07bRZLwpqeoyiC2QwJ3VjEjDFYXvsbb93oDjckje3Kp4pvvskCx6AQfiOO8vTHAbQiEUatO0CNGFiJXwJqlihjmStmj5PFFUeoNjAVq2qfM5hLOJMBFZDucUbxSA1ujhiHJAnaeWRK2KRVwxPhx7Ep2kD6DX_BoG1EIVawoqytsZPqJM6aI_EdV3-rYgWvZ6b3z4eZy1phivu_MG9MFNcEal4ibBN1ueS70mfrWuudkSW7FluLWDsEgR2HD0zhFFQCF6PYgqh2d6xEN2EWRuoNyszeJOKeCVamip2T9ZUxhb6-NWCelyzNDkvGBEQBjaGp4c9OvjmlZxWYNeZl8nEi3qbjeP8jGDdJJ_JiBn4EvZ8d3xiX7LmM135jkauxpHqOR5tjtjQKOheBPYP3QlaluaJKdowXVP6YHvCPzgW2BTZBsV19KlteIowOhUxi5L7FPcfmmCsipLvIDg98Zfz-Qa-qrHZwdyBuvfHV7sKg7INbqnDQiDqLT2feN5c_Tb5JAse77zxiN2GpkI90irWOmhHWI3jL9OVlPx-JaD4TOgV7-Zr3qf5mmCs_JEHUGET6fVgbRGQw8gTGYuwhaheLGLYRQ0KMPUHUZobkMmoQozZiRAhfYBATDzFyQSxi3PYYN5U6wZMsxo5pEZM2YtLtxYQQrzzExPXXIqZtxLSLmDZZJKL36zc">dusa.rocks</a></li>
</ul>
<p>Notable: implemented a Prolog-style quicksort with Dusa’s experimental
<a href="https://dusa.rocks/docs/language/lazy/">lazy predicates</a>.</p>
</li>
<li>
<p>Day 2: 10⭐ (<a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/day2.js">JS parsing code</a>)</p>
<ul>
<li>Part 1 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/2a.dusa">github</a> <a href="https://dusa.rocks/#jsonz=jZNba-JAFMe_ysE-rEJacu-FtotEBaFaqbq0IEhqjjqQTCQzbrss-913LomZxIf2KTn_c_mdM2fmb4d37jr5AWnH6iT55pghlcoF9J8jcG3Xh0H8B1wLZnHBwVnRFb2AScz34vt-JCknFMbTxXr2tJzDIT2ylj4ZT4UjI_TMsxhPhnPgJEPTM-0v1vNlFAHTKIFlhO5WtMBDLjp4IhRhTBP8BMLgV5weEe4uVxQAijznYEv5RfxZStsSTBNl60zhlN92QKW1Kl_pHqI8OxxFczvIKV4yjgdIyHaLBdKNbF4aunxXDQojUjAOc9zkNOmd2jMG6EuEirLOfF0G_Z706_yyhwuY90dDGIxHo-HLcBqJoxOi9j3hb0wZZEcBfUeI0xQI3RQYM9VzoZQEK2VFWbzF03nYokGoRxg4lmmJzQ8ceARbfF24B7vsZ1AfQA3mkAoEl8f0BURUg4eHr6plufjl-wK_U-4RvKtvhN3DpVdSn_keiw_C0ALCfzCQuc0KP8GRJcz1rGXh9Wkr_ShaTvQq4o14PvoCyrm0KbY5VdvsyscBr_AmLwRo51Q6Xi0F1sabTIzXMWUfWKi0skyKdMf30NWXvNfr6Q4SzGKaQOk1etPdLYbzhXhss-XidF3qVyKbLBOVHQpbPwdbC04d4Eg7OAU4OuDaEJxmCQdcKfiG4EnBNQS_glRUp4ooqW6T6tZtVYLTrOnqlGtDUNQbQ1DUW4OqUrya6jWpnqbeGoLThHi6RGgIrVm981m96nhKqt-k-u1ZfU31DMFtQvy6ZiW0itq1UFKDZkCgqTeG0Npr0N5r0KYG57MGVY2SGjapYXvWsD1r2D7hUFOvDeG0186__w">dusa.rocks</a></li>
<li>Part 2 ★★★★★ (can’t handle full input) <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/2b.dusa">github</a> <a href="https://dusa.rocks/#jsonz=rVRta-JAEP4rg_1wClFMovaF0iKJglCtVD1aECQ1aw3ETciu1yvH_feb3U2ymyh3Pe4-bfaZmeeZmZ3MjwZv3DSSlNCG1QiT7fFAqEAuYPjogdN1euAHH-BYMA8yDs6arukFTAO-x_P1GMU8ojCZLTfzh9UC0vjIavh0MkPDIaInluVkOloAjw7EtMyGy81i5XnAlBTKsoi-rWlG0iTjDB4iSiDCk9A3voeb9poCQJYkHLoCf8IvS2K7iMShvOsgPLVDrCgKULN2hHYWvD9JTRU9oSH5Lly-BvGR_JOucihlq8wdVbeXHNIjJ0C-kewD0oSx6DUmEGZJmmI_oBnRbXwMxWeJ0YTv8WytqYDMtG_aUO-fNHRM16Z8pTzCbomgGo-VG--g2yleRJl94Xi-RZpDOKkO_La3ykVhtzLonFg92_8qe1fI6qcQDU4oaTNOUgij3Y5khG7F7IrLaWLjKGMcFmSb0LBVjku9iqGQl67WeYcmg6EsTjHlKV3AarYYjkfgT8bj0dNo5uGvhLCyPuDQxAwOR0zglUAQx4DTkpGAySIyiYSkQNaUBTtiaKIaViSev1qZb1snEG4G3xYDgaeDz9XNM_R1h3QiHH-5AL-xj58W_QPhIcFPvs_I5xl9TBUzdjt_F3ELbTfP5ZHvSfYeMWJBxL8wEDRnyO6Bc_3rGaaNUNog2T5gizIKMVu4ax7px_mp4z3unFPP3a4cj6HnraZqIoItbnW1o0Qv1RXHaibHqil2NjzDi_zflXEmDM8WFKLy_iJig01A2TvJZGTOlG_RplqFrVZLJqHSWI4WS1z289WyHE-9MUU2ebC8D_CuVmNXAbZ2sMW9XzrYyuHSAOwqhQ2OAHoG4ArAMYBeIVKo2oVHrupUVR2dVgHYVU5HhVwagFS9MgCpem2oyhBXq7pVVVepXhuAXRVxFcXAAGq1uqe1ukV7ctVeVbVXr7WnVF0DcKoiPc1ZADXSrgZy1X7Voa9Urwyg9q79-rv266r901r7BUeuOqiqDuq1Duq1DuodHijVSwMo37Xx8xc">dusa.rocks</a></li>
<li>Part 2 ⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/2b.js">github</a></li>
<li>Part 2 ⭐⭐⭐⭐⭐ (added Dec 4) <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/2b-revised.dusa">github</a></li>
</ul>
<p>First time this year with a solution that works on the test but
not the full input. At fault is the double-default-reasoning pattern
(<code>safe</code> defaults to <code>tt</code> and <code>hasSafe</code> defaults to <code>0</code>) which leads to
exponential backtracking in Dusa.</p>
<p>I (believe that I) know how to optimize
Dusa search to totally avoid this, making the 4-star solution a 5-star
solution, but I didn’t include that in the November rewrite to avoid
<a href="https://en.wikipedia.org/wiki/Second-system_effect">second-system syndrome</a>
(full rewrites are <a href="https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/">already dangerous enough</a>)
and because I wanted the rewrite to remain an honest implementation of the
system described in the POPL paper. These kinds of examples are good for
motivating doing that work later, though!</p>
<p>(Update Dec 4: The double-default pattern was arising because I needed to
count the solutions. But according to my own rules a 5-star solution just
needs to use the <code>dusa</code> cli as the final step, and I added a “count all
the tuples in this relation” feature months ago. This can be used to get a
full-credit solution according to my own arbitrary rules.)</p>
</li>
<li>
<p>Day 3: 10⭐ (<a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/day3.js">JS parsing code</a>)</p>
<ul>
<li>Part 1 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/3a.dusa">github</a> <a href="https://dusa.rocks/#jsonz=hVRdb9owFP0rd0HbyJZFhK_SPmyjWVshNYCAag9LFwViwFpio8SMomn_fdd2QpLSag-RknOOz70-vs4fQxhXBt8RZlhGxFf7hDCJNGA4caHdanfhW3iEjgXTMBXg-MxnjeWexoIyGI0XwfT-YQ67eJ89w73RGImEsjNmMfJu5iBoQqrMfDEbje8CdzJ2hwtYcbYKhSoGDZgOZ3Mk8a0hgTsicMUGxJbgw_dZyCJg-2RJUshEilQGfA2UCZKSTLlEdEMF-EbLN4Bm0LKhQByNOHYpamuoXYo6GulURF0NdUtRTyO9iqivoX4putDIRUU00NCgFF1q5NKWrYttSkigqaGEx3D1CXwGAFXQriubOkEkr03JN-URQVOljg5OywTPfNHIqkLXEvJe9wb3ZXe0z788VWsqa52XOqtURVyJTFUGeLjBiidJWKntG5ZvmKdAzmOy83Uxz0htnfnfdXrs3Ik3fVgMF6PJWI-ehL8TyHYxiuX06WmDUB5aso-beG6C_yIssyDjcCDvU3IaQxLhq3QoRnR4u7iZKZs1TTNRmIltKN_lbTtQsUVnzMkA2anciHRI6GYrYElAZcIivEdJeFySAHuAEYvIE8ywotzNrbLOsy9jnKZkTZ9OAh37mpI4giB3QG4uUgt3rvEWOG0J4v2wnJ5p27ZvqGVa_hla2iUPOq9Q9IFWea6jtQVrHsf8oKLLk1N7PMgo8C77hodnZMlsmAS34W-CStQJuouP0iWUB4C-VBa38Cg_qDGNsCijgsTHShb0NJo6jTnBHiOzlooakjIVLdEbeh4tbuVZcPUtB_X94p_UdR88PUGv9PcF08VZPDuAAD3CFf6UkVe_reJTXzitcypXcKjYcXmztfxkqPj8kr0SlZz_kGUHkhZ3RMljwjY4jaqPe8Ks3Blf9SKQu005F2Wr1SV9_C7mqKXH6Mk3KqBTzFbXfPsOG_rRsS4e33z9GfGAcRHUtPkc9qye-bFGdDTRaVv97qOcnmaN7mracayBWSN6mhigoSaMv_8A">dusa.rocks</a></li>
<li>Part 2 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/3b.dusa">github</a> <a href="https://dusa.rocks/#jsonz=nVbvj-I2EP1XpkHqkTZN-bm7tx-64ujtCekIaGHVD801MsQsVhMbJc6xqOr_3hk7gQQWna4fkJI34zee5-cJ_zjauXfUjkvHc2K1LlIuCWnBaDaGXqc3gN_ZAfoezFmmoRfKULZWhUi0kDAJltH88_MCdkmRn-HTSYCBVMiLyHIy_bgALVJejyyWT5PgUzSeBePREtZKrpk2xaAF89HTAoP41CLgE9e44gX0luNPFTmTMcgiXfEMcp1hKAe1ASE1z3huWGLxIjSETid0QOTQ8aFCuhbp-qeknoV6p6S-Rfq1pIGFBqekoUWGtaQbC92ckm4tcltLurPQ3SnpvUXe-7R1vc04j2xoRHAA979AKAGgDvrNzLZVEIMfXIq36YigbVRHhm7Hhan7JpFXhz4QNL3ODeO32ZG-fJuaWnOqdVnqolIdGRMyNxrg4UZrlaasVjt0vNBxj4JcyuSX6xKV88Y695vrrO3Gs-n8eTlaTmbBPcSq7f4aK_lOt11rREr6g4PkPAatYCNeioyDKrQHG5UBZ-stejDmrx4IdKMGXWQyR2unu0IzLZRhmKHgmH0Rg9njow-2yqPIcmJFNuBfeXbYb9HZxv85ZxnWsbYHttvhe-7TonGNi61UpnPaBrUBdF-qVlZKb8t1sOJ6z7kpqfcK0iJpVxcKKVFBzQTuckJNwRNeLdJLbTbV2W4ET2KIygSMLXRmT7RUP0L1y8Jo8YoBs4zm1wrI7-R_k7yFTwpFQ-lQt_J42julcd4JlrjULR4XtlusjWY5ThaslhWSzkcqnCPMRjp2V_4RsPZH35OtHmBk0bNNB7Qqstst1xnIZl8hO-M6KhQc-zsuf8OzdIBNs-a7hIxIxikdQ_OG8lAyrf7mMvcgV7Dn71CraoKiwYVhqKbr6HH58cnQbMiaFZneMnqmD8VeoK1CB6-4A3TJ6A4SQypethqNBuY6yxg_ASk7rHhE8jfP3bi-6vw0AeYZ34jXY4J33RnYucU70O0RiKPd6w5d3_dDxyyz6b9Bp-GissKlgyYbutpJovZGulI50-Oe2-sZOlN0n0faSAK37CvHTMzTYpcciIXRASBvORsC-MlM2BiLSqF5cqhpIY5T1aqx4LjH2G2oYubbSRWbYhs6lxZbOROu2XLU7Bf_BIzHz1PrILbGPwfQtZ_P6tWa1ZJXhiW83F9p6WMvOCuqC0BZR9wsuk768A1W-X9IS8QyB6dv4fewl5-rKydHXxIm8z3Pqq-NSU-4fMHLYabIZy69khkf7SIz9DOltE0hsetLbvC9snXHuvo1dGpgt7L6wP0R9_Nn37v98sNf5diNGqnlrRh6Q_fnRqBvA_2edzP40m6EBjbU7Xp3biFp2j404kMbv0NO1wScf_8D">dusa.rocks</a></li>
</ul>
<p>Just barely had enough standard library to hobble through this
one. Part 2 is a mess, and is also very slow for reasons I don’t fully
understand; I hope it’s just “using concat in this way was a feature you
barely implemented,” but this is something I should return to and profile.
A first part 2 attempt was very concerned about adapting to situations
where multiple do()s and don’t()s appearing between two successive muls(),
but the solution I ended up with just aborts if this happens.\</p>
</li>
<li>
<p>Day 4: 10⭐ (<a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/day4.js">JS parsing code</a>)</p>
<ul>
<li>Part 1 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/4a.dusa">github</a> <a href="https://dusa.rocks/#jsonz=jZb_i5swGMb_leD9soNeidGoud9Ky2Cw247rBi0Io2t7V6GLh9qVMfa_L8a-xtjn2KDQ-OT9ko-PxvwOmuA-KF_3OpgEu3J7-rHXrXLDZp_nTHARs8XmF4sn7HFTNSzMda5vvp-KY1No9uHTl2-PH78u2evxVNuZNqou9Euut4dNxVZszYqazQ_s_i7XjLGqLBvGW-3JjCZWey72x5297qKfyrM_cTZ1bJVp12NelXV9Lqsdq8vjT9ON7Ypqv22KUptVmDG7C81vyi5D3o_CaTfP-2neay6lz-gS2pbvCxNjGuXB6mG2zINcPxvFBLxr0c36Fqvby3jNFutbc23-DDUb3geTnQcTW9rOTy9lxL_LXNq1haw2GRV-yAOqFv1nNfF2tZmtttH1eV-5qD4zejtzaTNz7Yzm5vq41y_NobsOuV1oay2_KC4iHEWEXYTj68QQiQKJ0XBZJMa9GQNRIjFBNdPhTSIxQ43UdTrvFi8csxgxC8QsiHnpieJ6KYKY_XTALIjZj0xQoxRFAmZBzDOP2a4zcszRiDki5mFahHyOiHnlicDnCDFHiDkiZr878DkiZj8d-myXFDvmeMQcI59j5HOMfI6RzzEx-5ES1QTPdkzMfiRgjol55THb7tIxyxGzJOZhmkQ-S8Qskc8SMUvksyRmvzvwWSJmiX22jRLHnIyYE8ScELMvAuYE-ZwQsy-CPSxBzAliThBzgt9nWzN1zOmIOSXmoVEp8jklZj8SMKfE7EfK6_WlaA9LiXnliWAPS4l56THb9MwxZyPmDDFnxDzzRLCHZcTsRwKfM8ScIeYM-ZwRsy9Cn22kcsxqxKzQHqYQs0LfZ4V8VohZoWdboT1MoW-VQs-2wu-zY6RDyfjcEnJ4LOHonQ45PJhwIh_Fgq0s5PBswuHhhMPTCYfHE-7v4cGfvw">dusa.rocks</a></li>
<li>Part 2 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/4b.dusa">github</a> <a href="https://dusa.rocks/#jsonz=bZZta9swFIX_ysX9skJa5He70A-hYVBYu9J04IJhOInbGFw72M7CGPvv00vubLkH8kE6PlfSo2Mr-uMMzo3THsrGWTi7dnv8KBulXNDy-x15wgtoVfymYEFPRTeQlzd5c7E5VvVQNXT_-PLz6duPNR3qYz_TH-4f5YOPqlFP5DNV31fNe95s90VHGb1S1dPdnm6u8oaIurYdSCjtWbYWWnurynqn-8b93J7sByc5jh7l2sxx17V9f2q7HfVt_UvORruqK7dD1TZyFbJNBV258ndNpuOSbF7Q8VCXbwPd3tKuPTVd9b4fjH2j7Gf3hkylsmsL-1Wtmf9rJavkrLnzsFznDsm9KOggN67aHmtJ3XaV3N5CrSdv3qSZVpXZi_MuqHmUtMpo9WpYp9uVO8vcmchf1MbLh6vs8tx-lXWXxvpgW3UU7DWdiVmu9ryHy6Y_lV1PenkTkE077CUAr1_uZ6Gd5-Ubf6F6C9PeqLYedMxWyH5dNu9yKN13lWDSFGdldLgzh2scmmwiukj0kOhPWVkMjJhZYojECI0Z_89lIiZoovRzuTCL90Zmb8bsIWaPmdeW6H1eisfMdjlg9pjZdkZoohg5AbPHzEuLWa_TH5n9GbPPzNMyH-XsM3NmiSBnHzH7iNlnZnt2kLPPzHY5zFkvKRiZgxlzgHIOUM4ByjlAOQfMbDtDNCZ4twNmtp2AOWDmzGLWs4cjczhjDpl5WhainEPEHKKcQ8QcopxDZrZnBzmHiDnEOeuJopE5mjFHiDliZlsEzBHKOWJmWwRnWISYI8QcIeYIf896zHhkjmfMMTNPg4pRzjEz207AHDOz7Qw_ry9GZ1jMzJklgjMsZua1xazLk5E5mTEniDlh5qUlgjMsYWbbCXJOEHOCmBOUc8LMtghz1s50ZE5nzCk6w1LEnKL_5xTlnCLmFL3bKTrDUvRflaJ3O8Xf88jIl5L5vcUV8Foi0DftCngxEUw-84KjzBXwbiLg5UTA24mA1xNhn-HO338">dusa.rocks</a></li>
</ul>
<p>Beautiful Dusa example if I do say so myself. Over breakfast, Chris
described and then explained a different way of handling the “count up
solutions” problem that works reasonably well even if there’s no way to
order the solutions. I can use this to solve part one
<a href="https://dusa.rocks/#jsonz=jZZta9swFIX_ysX9sAbSIL_b_TJCyyCwdqXZIAVDSBOnMaRWsZ1lY-y_V5YtK1JP2GigztF90eMjKfrjNM61w9_y0hk7G74-vOZlq1zQ9NsNecwL6Hb1mwI6Fs2ObnZVUX-qac0PZZNXWZmVF8-HYt8UJc3uvy8fvv6Y09v-UMsRelhVdVG-ZOV6t6poQU9U1KIGXV9lJRFVnDfEWu1RPI2lti3y_UZ-76If-dEcOIo6ssqk63FT8bo-8mpDNd__FN1oU1T5uil4KWYhnunKFZ8J9Y9seHIn3Tgbhtmg6ZQho0toW34pRIxolDmLu-k8c7JyKxQRcNmii_ndLkb98xPdPo3Ed_FPUNPpexDZmTOWpeX4pC_j_btM364tJLWxVfguc1Q1_z-reeerTbtqwvKNDhoS_fOJc5koTerXzWotFhit9i-8EsvptR0UNfJf4h1n5aqsj3m1XDU0E_mfqeTNrn3NolMXNJuo8I5jRu6oHTUT6bLmrzktu78RKNwFDNOWNSy8sd1yybcn8EXb_FxnXfhcssFmdRY5F1tePRcbGnJ7lrZFnyjfa9e9Ve_NydzbkXqntS96n5cvYjPL7y6TK6XdW6xXdIRrRbhdhF5gnegi0UOif7owlBgMu-FEDJEYoZqxsUp7MUGN0o_prJu8p5k9i9lDzJ5inhui93EqnmI20wGzp5jNyAg1ilEkYPYU89RglvP0NbNvMfuK-TTNRz77inlhiMBnHzH7iNlXzGZ34LOvmM106LOcUqCZA4s5QD4HyOcA-RwgnwPFbEaGqCZY24FiNiMBc6CYFwaz7B5q5tBiDhXzaVqIfA4Rc4h8DhFziHwOFbPZHfgcIuYQ-ywbRZo5spgjxBwpZlMEzBHyOVLMpgjOsAgxR4g5QswR3s-yZqyZY4s5VsynRsXI51gxm5GAOVbMZmT4cX4xOsNixbwwRHCGxYp5bjDL9EQzJxZzgpgTxTw1RHCGJYrZjAQ-J4g5QcwJ8jlRzKYIfZaRqWZOLeYUnWEpYk7R73OKfE4Rc4rWdorOsBT9VqVobad4P2tGdSmx7y0ug9cShva0y-DFhClyKxYcZS6DdxMGLycM3k4YvJ4w8wx3_r4D">like this</a>,
but I also realized I was overthinking things for this and for day 2
slightly, because my arbitrary rules allowed me a route to solving day 2
by counting the number of safe lines (there) and the number of XMAS
occurances (here) as a command line option.</p>
</li>
<li>
<p>Day 5: 10⭐ (<a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/day5.js">JS parsing code</a>)</p>
<ul>
<li>Part 1 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/5a.dusa">github</a> <a href="https://dusa.rocks/#jsonz=rZVNj9MwEIb_yqh7YaVSZSZJk6yQUIFLpQUqoLdIVWmzEBGcKh-LVoj_juJxmrGdPSBxS8b2M--MX9u_F93iblFfCrVYLs71qf9ZqCFyA5uPb4ECiuDd8QniJeyOTQeYq1zdfO3LqisVbD98Oezu95_hUvWtHoGtuvQdXI5NW6pvuaqbc9Ecmr4qYANv4O5lrgDgoSyqMxwgXwwjbb6AsoVPw-dSjOsAHMYxdwiCYWTjhXEIv1nlqr-cj10Be9gOkZ2fnCeY9Hv-kTgTgv007g8b-jXfoSrUt-47L7ov1H9MO5I5L-NX3Pa334vTD3ioG3gs6-rYlbVqc3Wqm6Y4ddXTQe9DcdbM19B1cPcSrv3RLT6snpsPDw_DdC1h6qlu8w6XTph0mDi8RXgFW_MjrLAj2KFRvjmd-p99NSxviravulw9Hqu-4NTBkPlZWStr7vvyfK6Kq9RnVnWdK3laK0esfXwxGBy2sAW81bqPg2p2YLAaf3nWHvB2WrPhESPz9vYqj5doup4zUFT7q2h0hL_-wTqWN1pjjqXINFjxSja9_1K0HZTDic1VU9fdVBCnDOwTOmyZyaN3n_A6E3kpTTNo_OcJxBOiREQ0JA4FREfCCRLakJAhWSIieglKiM4cTZDIhkQeJGLIWpajM8cTJLYhsQeJGSIKRM68niBrG7JmSBKLCDc2ExCdOZkgiQ1JGCLEJzM90ZnTCZLakNRTks7sjs6cTZDMhmTGA5mI-Ep0ZgyElQIbg4HXWwxm-qKzo_QkOiBjSlkDzoBYAArvomNeJK_JOGvfqdyR5DgYfQtjOEfSClC4GB0bY-Rriuaq0wpQWBkdL2PsnU2MZ3aOFaDwMzqGRt_RuJ45F6wAhanRcTUmfp-MryXcKEDhbHSsjalfXTpz4FkBCnuj42_M_OqyORIrEBYnx-IU-LfhnMWNAuFxcjxO6GkinLsTWYG8n90LmrzTQuSRAvcRImF2Csf7zqw3ZidhY4rGi9XMifwCIs8yFPGtLvpMkbmjQxmKnB6SOVwk_E-xI8G_zCn29pViliDzxeaBymQoclpGoXkLxcGh9fjQmTn-wSH_LaA1k2w4SxBniRKnvsSHm7MkS07Mw2mFQrcLCdcXWxK46-IQUurUl3qXFaWeuSg1nbL2L76GRnjm1Jf5--e_PJQxPLEWevuXcTFRslr8-Qs">dusa.rocks</a></li>
<li>Part 2 ⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/5b.js">github</a></li>
<li>Part 2 ⭐⭐⭐⭐⭐ <a href="https://github.com/robsimmons/advent-of-dusa-2024/blob/main/src/5b.dusa">github</a> <a href="https://dusa.rocks/#jsonz=rVTvi9pAEP1XHrkPVdCg0n45ei3eFYpwZ6NW8EMgpMmqy62zkt3cYUv_97K_NMazUOgHMTtvdt7Mm5n9FenoNpJ7RlEvKmVR7xgZyw3G3x4wGoze40t-wIcekrzSGKWU0s2PmgvNCZPp9yx5XC6wF7Vq2Z8m0-UCO04GSekGE9rXGvu8Upw2KcmqZFVW1YJhjHvc9lMCsOZMlMiQRgZRaQSuMDefvQZuDcgC1oYwMMj4wjw05vs4pXpf5pphiYmxJJfkzsHTL92hGc6bsDzhl7CPfuTLBKON3rpLj4z-I22I7Hhd-NjJ_rBlxTPWssILlyLXXJJKqZBVxQotDpntAyttzM_QGrd9HPWxEmfxNX-s18bdpnDS1MqcDHst88iaR848GeIjJv7QGIVkhGQYMpdCsELjtZK0EYd-YFZS1LYMcNIShSQluNIpbXK9ZVWmZaZkpbG0InMF4iJofbWOXrOKdqfiN2Lb5nYMORIkqhsYLh3f2cJ9Iye4u7PrYuz9C5HCxJyuNwf0IvYg-Bu9FszIxSXBoqblQRuznCL_ecCaU5ntOKUUvjCz-phidL0XzJ278ZlHs86T5_xon6vuUYBGN2dIwvgeQyXqLMJc_RPV7BpVglmLKnmbKihhNErJKuXrJy5ib2kn4bk7Fpw1MrjGNjNevi-PUj7X-7f7sWE6y83o2n8MPNUKmSVexUdo6qEMK5fUKuQwxScM_Px65459dzHFsIuVCpFMMl-ZRo6XXNTMZsTyYhvmL6cSeVHUu1rkmqXkvOwIDsyeX1kereMz345P4omXXrEk37CGaOfDbbDWGpib5uHpXdvJjt0g42Z-Q6e0Td2txCAOR-e5NEIc740d4lO2eTn13BXLYH1MFFKvrDIWB7p3-y9vdvtBDk9I9PsP">dusa.rocks</a></li>
</ul>
<p>The “right” solution to Part 2 is, IMO, the three-star one. There’s no point
in doing the sorting part in Dusa, but it’s quite nice to “export” our
custom comparison function from Dusa, as in the 3-star solution. However,
lazy predicates are fun, have an selection sort, why not.</p>
</li>
</ul>  </div></div>
  </body>
</html>
