<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tylercipriani.com/blog/2023/02/19/weather-station/">Original</a>
    <h1>Monitoring my weather at home</h1>
    
    <div id="readability-page-1" class="page"><article class="page">







<div id="pagebody">

<section id="content" role="main">
<figure>
<img src="https://photos.tylercipriani.com/thumbs/b7/0a25cc9833763feb38a6899162a010/large.jpg" alt="Davis Vantage Wireless Console/Reciever, Raspberry Pi 3 Model B Rev 1.2, RTC module—the heart of my weather center"/>
<figcaption aria-hidden="true">Davis Vantage Wireless Console/Reciever,
Raspberry Pi 3 Model B Rev 1.2, RTC module—the heart of my weather
center</figcaption>
</figure>
<p>Despite their best efforts, all weather apps will eventually lie.</p>
<p>Weather is often hyper-local. For example, trying to suss out the
temperature this morning:</p>
<table>
<thead>
<tr>
<th>App</th>
<th>Temperature</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accuweather</td>
<td>41°F (5°C)</td>
</tr>
<tr>
<td>Carrot</td>
<td>36°F (2°C)</td>
</tr>
<tr>
<td>Ventusky</td>
<td>22°F (-5°C)</td>
</tr>
<tr>
<td>Garmin Running watch</td>
<td>48°F (8.8°C)</td>
</tr>
</tbody>
</table>
<p>So, in 2013, I set up a Davis Vantage Vue integrated sensor suite
(ISS) and mounted it on a pole attached to my garage.</p>
<p><strong>Actual temperature</strong> (in my backyard): <strong>47°F
(8°C)</strong></p>
<figure>
<img src="https://photos.tylercipriani.com/thumbs/35/850cdf9bbf633667704eb076e68bbe/large.jpg" alt="My Davis Vantage Vue Wireless Integrated Sensor Suite in all its glory"/>
<figcaption aria-hidden="true">My Davis Vantage Vue Wireless Integrated
Sensor Suite in all its glory</figcaption>
</figure>
<section id="weather-station-hardware">
<h2>Weather station hardware 🖥️</h2>
<p>In 2013, the DIY weather station route wasn’t for me.</p>
<p>A DIY station was:</p>
<ul>
<li>🙃 Beyond my skillset (at the time)</li>
<li>🏴󠁵󠁳󠁣󠁯󠁿 Built with fragile, general-purpose parts that may fail when
tasked with standing up to the harsh Colorado sunshine year after
year</li>
</ul>
<p>So, over time, I cobbled together an off-the-shelf solution:</p>
<ul>
<li><a href="https://www.davisinstruments.com/collections/vantage-vue/products/vantage-vue-wireless-integrated-sensor-suite">Davis
Vantage Vue Wireless Integrated Sensor Suite (ISS)</a></li>
<li><a href="https://www.davisinstruments.com/products/vantage-vue-wireless-console-receiver">Davis
Vantage Wireless Console/Receiver</a></li>
<li><a href="https://ambientweather.com/amwewe-html">Ambient Weather
WeatherMount station mount</a></li>
<li><a href="https://www.davisinstruments.com/products/weatherlink-windows-usb">Davis
WeatherLink® USB Data Logger</a></li>
<li>Raspberry Pi 3 Model B Rev 1.2</li>
<li><a href="https://www.amazon.com/SunFounder-DS3231-Precision-Raspberry-Arduino/dp/B00HF4NUSS">SunFounder
PCF8563 IIC I2C Real Time Clock RTC</a> (for the Raspberry pi).</li>
</ul>
</section>
<section id="weather-station-software">
<h2>Weather station software 🌐</h2>
<p><a href="https://weewx.com/">WeeWX</a> is <a href="https://en.wikipedia.org/wiki/Free_and_open-source_software">free
and open-source</a> weather station software written in Python. And it’s
the heart of my system.</p>
<p>It has out-of-the-box support for everything I want:</p>
<ul>
<li><a href="https://github.com/weewx/weewx/wiki">Great docs</a></li>
<li>Local SQLite storage for weather data</li>
<li>Support for sending your data over MQTT</li>
<li>Uploads to <a href="http://www.pwsweather.com/">PWSWeather.com</a>,
<a href="http://www.wxqa.com/">CWOP</a>, <a href="http://wow.metoffice.gov.uk/">WOW</a>, <a href="http://awekas.at/">AWEKAS</a>, and even WUnderground (if you’re
interested in gifting your data to IBM and getting bupkis for it)</li>
<li>Static HTML/plain text reports, including:
<ul>
<li>Graphs of current and historical conditions</li>
<li><a href="https://gist.github.com/thcipriani/dd464e126548d2d5da3dbd6255cc45d4">Historical
climatology reports</a> (complete with <a href="https://www.weather.gov/key/climate_heat_cool">heat/cool degree
days per month</a>)</li>
</ul></li>
</ul>
</section>
<section id="frustrations">
<h2>Frustrations 🤬</h2>
<figure>
<img src="https://imgs.xkcd.com/comics/weather_station.png" title="&#39;Pour one out for precipitation data integrity,&#39; I say, solemnly upending the glass into the rain gauge." alt="XKCD 2737 by Randall Monroe (Licensed: (CC-by-NC 2.5)[https://creativecommons.org/licenses/by-nc/2.5/])"/>
<figcaption aria-hidden="true"><a href="https://xkcd.com/2737/">XKCD #2737</a> by Randall Munroe (Licensed: <a href="https://creativecommons.org/licenses/by-nc/2.5/">CC-By-NC 2.5</a>)</figcaption>
</figure>
<p><strong>Raspberry Pi</strong></p>
<p>In 2023, using a Raspberry Pi is a mistake.</p>
<p>Any of the cheapo x86 mini-pcs that retail for about $150 would be a
nicer option than a Raspberry Pi.</p>
<p>Running WeeWX on a Raspberry Pi has some problems (all of which are
well-document on their wiki):</p>
<ul>
<li><strong>No hardware clock</strong> – this causes screwy date/time
data following a reboot. I added an RTC module to thwart this
problem.</li>
<li><strong>Write-heavy vs. SD-Cards</strong> – WeeWX is a write-heavy
application, corrupting even the best sd-cards over time. I’m writing
most data to a tmpfs and relying on backup and MQTT for data
persistence.</li>
<li><strong>Unobtainium</strong> – In the mid-2010s, Pis were ~$40. Now,
Pis are $150 for old models and infinity expensive for newer models
(since you can’t find them anywhere).</li>
</ul>
<p><strong>Davis Vantage Vue</strong></p>
<p>I’m unreasonably angry about Davis forcing me to buy a <a href="https://www.davisinstruments.com/products/weatherlink-windows-usb">USB
data logger</a>.</p>
<p>Why is there no USB-out in the $275 console? It feels like punishment
for eschewing open-source hardware.</p>
<p>Maybe something like the <a href="https://www.smartbedded.com/wiki/index.php/Meteostick">Meteostick</a>
would obviate the need for the console+data logger combo, but I’ve never
tried it.</p>
<p>But the integrated sensor suite has been great: the only maintenance
I do is swapping out the CR123A battery every few years (it’s mostly
solar powered).</p>
</section>
<section id="weather-data-everywhere">
<h2>Weather data everywhere 🚀</h2>
<figure>
<img src="https://photos.tylercipriani.com/thumbs/94/21116f27a369247a0674c3ca415b79/large.jpg" alt="My old Pocket CHIP (🪦 R.I.P.) showing off some Grafana weather graphs"/>
<figcaption aria-hidden="true">My old Pocket CHIP (🪦 R.I.P.) showing
off some Grafana weather graphs</figcaption>
</figure>
<p>Now that I own my own weather data: I spew it all over the place.</p>
<p>I publish data to:</p>
<ul>
<li><a href="http://www.wxqa.com/">Citizen Weather Observer Program</a>
using my ham callsign
<ul>
<li>so, my data shows up on the <a href="https://aprs.fi">APRS.fi</a>
map</li>
</ul></li>
<li><a href="http://www.pwsweather.com/">PWSWeather.com</a>, and</li>
<li>MQTT to Home Assistant</li>
<li>Prometheus</li>
</ul>
<p>There are weather widgets all over my house:</p>
<ul>
<li>My desktop’s taskbar (<a href="https://codeberg.org/xmobar/xmobar">XMobar</a>) shows the current
outdoor and indoor temperatures</li>
<li>Grafana dashboards show me the current conditions (as shown in the
picture of my <a href="https://shop.pocketchip.co/">PocketCHIP</a>
above)</li>
<li>I even have a small eink display in my bathroom to check the weather
before my morning run</li>
</ul>
<figure>
<img src="https://photos.tylercipriani.com/thumbs/99/d1f95bac511948477c9a9eda51e492/large.jpg" alt="Adafruit MagTag in my bathroom"/>
<figcaption aria-hidden="true">Adafruit MagTag in my
bathroom</figcaption>
</figure>
<p>And if eink weather displays in the bathroom are unappealing to you,
I just don’t understand what you’re doing here.</p>
</section>

</section>









</div>



</article></div>
  </body>
</html>
