<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://punchagan.muse-amuse.in/drafts/ox-gist/">Original</a>
    <h1>Gists from org buffers</h1>
    
    <div id="readability-page-1" class="page"><div><p>I often want to share bits and pieces of my <code>journal.org</code> file with others,
mostly for reading and some times for comments. The file contains different
subtrees for each day, with notes on a specific topic as a subtree.</p>
<p>A couple or so years ago, I wrote a wrapper around @defunkt’s excellent
<a href="https://github.com/defunkt/gist.el"><code>gist.el</code></a> to post org-mode subtrees as a Gist and to be able to update them
when I edit the subtrees. This code was just a part of my <code>.emacs</code> and worked
reasonably well for me.  A few weeks ago, I ended up procrastinating on writing
and sharing notes for a discussion I had with a friend, and ended up extracting
this as a separate package – <code>org2gist</code>. It only supported posting and
updating subtrees, not complete buffers, since that was my primary use-case.</p>
<p>I <a href="https://github.com/melpa/melpa/pull/7940">submitted</a> this as a package to <a href="https://melpa.org/">melpa</a>, while being skeptical about whether it
would be accepted. I wasn’t sure if my thin wrapper around <code>gist.el</code> would meet
Melpa’s contribution guidelines criteria for a “Reasonably innovative package”.</p>
<blockquote>
<p>MELPA provides a curated set of Emacs Lisp packages, not an exhaustive list of
every single Emacs Lisp file ever created. By default, MELPA maintainers will
reject packages that duplicate functionality provided by existing
packages. Please try to improve existing packages instead of creating new ones
when possible.</p>
</blockquote>
<p>I got some very helpful reviews from the melpa maintainers – not just basic
quality checks before accepting the package into <code>melpa</code>. @riscy <a href="https://github.com/melpa/melpa/pull/7940#issuecomment-1080036663">suggested</a>
turning the code into an Orgmode export backend, which seemed like a great idea
to me, that I ended up implementing.</p>
<p>The package has now been added to <code>melpa</code> a <a href="https://github.com/punchagan/ox-gist"><code>ox-gist</code></a>.  It adds an export
method to be able to post a subtree or the whole buffer as a <code>gist</code>, and saves
the ID of the published <code>gist</code> to the buffer or a subtree property. Using this
saved ID, re-exporting an already exported buffer or subtree updates the
existing gist.</p>

<p>Orgmode provides a way to export subtrees to specific files using the
<code>EXPORT_FILE_NAME</code> property. Using the power of <a href="https://www.gnu.org/software/tramp/">Emacs tramp</a>, it is easy to
export subtrees as Org files or HTML files to my webserver using a path that
looks like <code>/ssh:muse-amuse.in:~/public_html/&lt;filename&gt;</code>.  But, exporting to
HTML seems like an over-kill some times because I then start worrying about CSS
and styling, and exporting to a simple org file doesn’t seem to cut it because
there’s no styling at all, on the text. Exporting the subtree to a GitHub gist
seems like a nice middle ground because GitHub renders Orgmode files
nicely. And additionally it also gives commenting functionality.</p>
<p>I could direcly use <code>gist.el</code> and not bother with the wrapper. I’ve used in the
past, and it works very well when I don’t care about having the contents of the
Gist on my computer, and just want an online copy of it. It also makes it quite
easy to update existing/old gists. But, it doesn’t work very well when I also
want to have a “synced” copy of it on my disk.</p>
</div><div><p>
  Feel free to <a href="https://twitter.com/punchagan">tweet to me</a> or send me an
  <a href="mailto:punchagan+blog@muse-amuse.in">email</a> with your comments.
</p></div></div>
  </body>
</html>
