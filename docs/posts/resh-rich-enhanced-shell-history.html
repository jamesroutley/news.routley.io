<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/curusarn/resh">Original</a>
    <h1>RESH: Rich Enhanced Shell History</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/768c632b992181b75f425da0eed4bdd108414af601ff35a118c6ee5e073bcc7d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f7461672f637572757361726e2f726573683f736f72743d73656d766572"><img src="https://camo.githubusercontent.com/768c632b992181b75f425da0eed4bdd108414af601ff35a118c6ee5e073bcc7d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f7461672f637572757361726e2f726573683f736f72743d73656d766572" alt="GitHub tag (latest SemVer)" data-canonical-src="https://img.shields.io/github/v/tag/curusarn/resh?sort=semver"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/curusarn/resh/actions/workflows/go.yaml/badge.svg"><img src="https://github.com/curusarn/resh/actions/workflows/go.yaml/badge.svg" alt="Go test"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/curusarn/resh/actions/workflows/sh.yaml/badge.svg"><img src="https://github.com/curusarn/resh/actions/workflows/sh.yaml/badge.svg" alt="Shell test"/></a></p>

<p dir="auto">Context-based replacement/enhancement for zsh and bash shell history</p>










<p dir="auto"><strong>Search your history by commands and get relevant results based on current directory, git repo, exit status, and host.</strong></p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<h3 dir="auto"><a id="user-content-prerequisites" aria-hidden="true" href="#prerequisites"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Prerequisites</h3>
<p dir="auto">Standard stuff: <code>bash(4.3+)</code>, <code>curl</code>, <code>tar</code>, ...</p>
<p dir="auto">Bash completions will only work if you have <code>bash-completion</code> installed</p>
<p dir="auto">MacOS: <code>coreutils</code> (<code>brew install coreutils</code>)</p>
<h3 dir="auto"><a id="user-content-simplest-installation" aria-hidden="true" href="#simplest-installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Simplest installation</h3>
<p dir="auto">Run this command.</p>
<div data-snippet-clipboard-copy-content="curl -fsSL https://raw.githubusercontent.com/curusarn/resh/master/scripts/rawinstall.sh | bash"><pre>curl -fsSL https://raw.githubusercontent.com/curusarn/resh/master/scripts/rawinstall.sh <span>|</span> bash</pre></div>
<h3 dir="auto"><a id="user-content-simple-installation" aria-hidden="true" href="#simple-installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Simple installation</h3>
<ol dir="auto">
<li>Run <code>git clone https://github.com/curusarn/resh.git &amp;&amp; cd resh</code></li>
<li>Run <code>scripts/rawinstall.sh</code></li>
</ol>
<h3 dir="auto"><a id="user-content-update" aria-hidden="true" href="#update"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Update</h3>
<p dir="auto">Check for updates and update</p>

<h2 dir="auto"><a id="user-content-roadmap" aria-hidden="true" href="#roadmap"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Roadmap</h2>
<p dir="auto"><a href="https://omarish.com/curusarn/resh/blob/master/roadmap.md">Overview of the features of the project</a></p>
<h2 dir="auto"><a id="user-content-resh-search-application" aria-hidden="true" href="#resh-search-application"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>RESH SEARCH application</h2>
<p dir="auto">This is the most important part of this project.</p>
<p dir="auto">RESH SEARCH app searches your history by commands. It uses host, directories, git remote, and exit status to show you relevant results first.</p>
<p dir="auto">All this context is not in the regular shell history. RESH records shell history with context to use it when searching.</p>
<p dir="auto">At first, the search application will look something like this. Some history with context and most of it without. As you can see, you can still search the history just fine.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://omarish.com/curusarn/resh/blob/master/img/screen-resh-cli-v2-7-init.png"><img src="https://omarish.com/curusarn/resh/raw/master/img/screen-resh-cli-v2-7-init.png" alt="resh search app"/></a></p>
<p dir="auto">Eventually most of your history will have context and RESH SEARCH app will get more useful.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://omarish.com/curusarn/resh/blob/master/img/screen-resh-cli-v2-7.png"><img src="https://omarish.com/curusarn/resh/raw/master/img/screen-resh-cli-v2-7.png" alt="resh search app"/></a></p>
<p dir="auto">Without a query, RESH SEARCH app shows you the latest history based on the current context (host, directory, git).</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://omarish.com/curusarn/resh/blob/master/img/screen-resh-cli-v2-7-no-query.png"><img src="https://omarish.com/curusarn/resh/raw/master/img/screen-resh-cli-v2-7-no-query.png" alt="resh search app"/></a></p>
<p dir="auto">RESH SEARCH app replaces the standard reverse search - launch it using Ctrl+R.</p>
<p dir="auto">Enable/disable the Ctrl+R keybinding:</p>
<div data-snippet-clipboard-copy-content="reshctl enable ctrl_r_binding
reshctl disable ctrl_r_binding"><pre>reshctl <span>enable</span> ctrl_r_binding
reshctl disable ctrl_r_binding</pre></div>
<h3 dir="auto"><a id="user-content-in-app-key-bindings" aria-hidden="true" href="#in-app-key-bindings"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>In-app key bindings</h3>
<ul dir="auto">
<li>Type to search/filter</li>
<li>Up/Down or Ctrl+P/Ctrl+N to select results</li>
<li>Right to paste selected command onto the command line so you can edit it before execution</li>
<li>Enter to execute</li>
<li>Ctrl+C/Ctrl+D to quit</li>
<li>Ctrl+G to abort and paste the current query onto the command line</li>
<li>Ctrl+R to switch between RAW and NORMAL mode</li>
</ul>
<h3 dir="auto"><a id="user-content-view-the-recorded-history" aria-hidden="true" href="#view-the-recorded-history"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>View the recorded history</h3>
<p dir="auto">Resh history is saved to <code>~/.resh_history.json</code></p>
<p dir="auto">Each line is a JSON that represents one executed command line.</p>
<p dir="auto">This is how I view it <code>tail -f ~/.resh_history.json | jq</code> or <code>jq &lt; ~/.resh_history.json</code>.</p>
<p dir="auto">You can install <code>jq</code> using your favourite package manager or you can use other JSON parser to view the history.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://omarish.com/curusarn/resh/blob/master/img/screen.png"><img src="https://omarish.com/curusarn/resh/raw/master/img/screen.png" alt="screenshot"/></a></p>
<p dir="auto"><em>Recorded metadata will be reduced to only include useful information in the future.</em></p>
<h2 dir="auto"><a id="user-content-known-issues" aria-hidden="true" href="#known-issues"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Known issues</h2>
<h3 dir="auto"><a id="user-content-q-i-use-bash-on-macos-and-resh-doesnt-work" aria-hidden="true" href="#q-i-use-bash-on-macos-and-resh-doesnt-work"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: I use bash on macOS and resh doesn&#39;t work</h3>
<p dir="auto"><strong>A:</strong> You have to add <code>[ -f ~/.bashrc ] &amp;&amp; . ~/.bashrc</code> to your <code>~/.bash_profile</code>.</p>
<p dir="auto"><strong>Long Answer:</strong> Under macOS bash shell only loads <code>~/.bash_profile</code> because every shell runs as login shell. I will definitely work around this in the future but since this doesn&#39;t affect many people I decided to not solve this issue at the moment.</p>
<h2 dir="auto"><a id="user-content-issues-and-ideas" aria-hidden="true" href="#issues-and-ideas"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Issues and ideas</h2>
<p dir="auto">Please do create issues if you encounter any problems or if you have a suggestions: <a href="https://github.com/curusarn/resh/issues">https://github.com/curusarn/resh/issues</a></p>
<h2 dir="auto"><a id="user-content-uninstallation" aria-hidden="true" href="#uninstallation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Uninstallation</h2>
<p dir="auto">You can uninstall this project at any time by running <code>rm -rf ~/.resh/</code>.</p>
<p dir="auto">You won&#39;t lose any recorded history by removing <code>~/.resh</code> directory because history is saved in <code>~/.resh_history.json</code>.</p>
</article>
          </div></div>
  </body>
</html>
