<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://kittygiraudel.com/2022/09/30/templating-in-html/">Original</a>
    <h1>Templating in HTML</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody"> <p>After a nice discussion on Twitter following <a href="https://web.dev/website-navigation/">a recent article from Manuel Matuzović</a>, I thought it would be worth writing some quick thoughts here. Today, we have a quick look at the <code>&lt;template&gt;</code> element and how it can come in handy.</p> <p>So to put it simply, the <code>&lt;template&gt;</code> HTML element is intended to store HTML that is not yet used. The element itself and all its content are invisible, so it can be basically anywhere in the document without much risk. Although you’d typically have your templates at the root level.</p> <h2 id="what-for" tabindex="-1">What for</h2> <p>Let’s start with the fact that <code>&lt;template&gt;</code> do not enabling you to do anything that’s not possible otherwise. In that way, it’s more of a convenience tool really. If you have significant HTML structures that need to be injected at runtime, it might be very cumbersome to do so manually with <code>document.createElement</code> and <code>element.setAttribute</code>.</p> <p>In <a href="https://web.dev/website-navigation/#adding-a-burger-button">Manuel’s case</a>, he uses a template to hold a button that needs to be injected when JavaScript is finally available, as it wouldn’t work before that. Creating that button manually in JS with the SVG and all with be quite cumbersome. It would also violate proper separation of concerns by moving HTML into the JS logic.</p> <pre><code><span>&lt;</span>template id<span>=</span><span>&#34;burger-template&#34;</span><span>&gt;</span></code></pre> <h2 id="how-to-use-it" tabindex="-1">How to use it</h2> <p>Once you have a <code>&lt;template&gt;</code> element in your HTML, you can access it in JavaScript and clone it to render it wherever you want.</p> <pre><code><span>const</span> template <span>=</span> document<span>.</span><span>querySelector</span><span>(</span><span>&#39;#id-of-template&#39;</span><span>)</span></code></pre> <p>It’s also not limited to a single use. You can create as many clones as you want. The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template">MDN page</a> has a good example of storing a table row in a template so you can easily clone and add a new row on demand.</p> <p>For instance, Sass Guidelines use templates to inject links to edit view or edit each chapter on GitHub directly. In an ideal world these links would be there all the time, but because Sass-Guidelines is built from plain ol’ Markdown files, these links are generated in JS. This is <a href="https://github.com/KittyGiraudel/sass-guidelines/commit/03a5abb931026b5a4997fdf5ef43ba029e612d89">the pull-request that implemented templates</a>.</p> <h2 id="browser-support" tabindex="-1">Browser support</h2> <p>The browser support is surprisingly good. Almost 98% of the current landscape supports it, so feel free to go nuts. And if you have to support older agents, you can test for support like this:</p> <pre><code><span>if</span> <span>(</span><span>&#39;content&#39;</span> <span>in</span> document<span>.</span><span>createElement</span><span>(</span><span>&#39;template&#39;</span><span>)</span><span>)</span> <span>{</span></code></pre> <h2 id="wrapping-up" tabindex="-1">Wrapping up</h2> <p>Long story short, templates are good to avoid creating complex DOM structures by hand. For a single node, using the built in manipulation methods is fine, but for anyting more complex, you probably want to store the HTML blob as is and just clone and fill it when needed.</p> <p>As always, I hope it helps!</p> </div></div>
  </body>
</html>
