<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/jstrieb/paperify">Original</a>
    <h1>Show HN: Transform any website or eBook into a research paper (no LLM required)</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Paperify transforms any document, web page, or ebook into a research paper.</p>
<p dir="auto">The text of the generated paper is the same as the text of the original
document, but figures and equations from real papers are interspersed
throughout.</p>
<p dir="auto">A paper title and abstract are added (optionally generated by ChatGPT, if you
provide an API key), and the entire paper is compiled with the IEEE <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="649febae56d926593633c606f7d69cb2">$\LaTeX$</math-renderer>
template for added realism.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/7355528/265570469-6233c47e-fbff-4a71-8991-09ba3112f241.png"><img src="https://user-images.githubusercontent.com/7355528/265570469-6233c47e-fbff-4a71-8991-09ba3112f241.png" alt="example"/></a></p>

<p dir="auto">First, install the dependencies:</p>
<ul dir="auto">
<li>curl</li>
<li>Python 3</li>
<li>Pandoc</li>
<li>jq</li>
<li>LaTeX (via TeXLive)</li>
<li>ImageMagick (optional)</li>
</ul>
<p dir="auto">For example, on Debian-based systems (<em>e.g.</em>, Debian, Ubuntu, Kali, WSL):</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt update
sudo apt install --no-install-recommends \
  pandoc \
  curl ca-certificates \
  jq \
  python3 \
  imagemagick \
  texlive texlive-publishers texlive-science lmodern texlive-latex-extra"><pre>sudo apt update
sudo apt install --no-install-recommends \
  pandoc \
  curl ca-certificates \
  jq \
  python3 \
  imagemagick \
  texlive texlive-publishers texlive-science lmodern texlive-latex-extra</pre></div>
<p dir="auto">Then, clone the repo (or directly pull the script), and execute it.</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -L https://github.com/jstrieb/paperify/raw/master/paperify.sh \
  | sudo tee /usr/local/bin/paperify
sudo chmod +x /usr/local/bin/paperify

paperify -h"><pre>curl -L https://github.com/jstrieb/paperify/raw/master/paperify.sh \
  <span>|</span> sudo tee /usr/local/bin/paperify
sudo chmod +x /usr/local/bin/paperify

paperify -h</pre></div>

<ul dir="auto">
<li>
<p dir="auto"><a href="https://github.com/jstrieb/paperify/blob/master/examples/cox.pdf"><code>examples/cox.pdf</code></a></p>
<p dir="auto">Convert <a href="https://research.swtch.com/bell-labs" rel="nofollow">Russ Cox&#39;s transcript of Doug McIlroy&#39;s talk on the history of Bell
Labs</a> into a paper saved to the <code>/tmp/</code>
directory as <code>article.pdf</code>.</p>
<div data-snippet-clipboard-copy-content="paperify \
  --from-format html \
  &#34;https://research.swtch.com/bell-labs&#34; \
  /tmp/article.pdf"><pre><code>paperify \
  --from-format html \
  &#34;https://research.swtch.com/bell-labs&#34; \
  /tmp/article.pdf
</code></pre></div>
</li>
<li>
<p dir="auto"><a href="https://github.com/jstrieb/paperify/blob/master/examples/london.pdf"><code>examples/london.pdf</code></a></p>
<p dir="auto">Download figures and equations from the 1000 latest computer science papers
on <code>arXiv.org</code>. Intersperse the figures and equations into Jack London&#39;s
<em>Call of the Wild</em> with a higher-than-default equation frequency. Use ChatGPT
to generate a paper title, author, abstract, and metadata for an imaginary
paper on soft body robotics. Save the file in the current directory as
<code>london.pdf</code>.</p>
<div data-snippet-clipboard-copy-content="paperify \
  --arxiv-category cs \
  --num-papers 1000 \
  --equation-frequency 18 \
  --chatgpt-token &#34;sk-[REDACTED]&#34; \
  --chatgpt-topic &#34;soft body robotics&#34; \
  &#34;https://standardebooks.org/ebooks/jack-london/the-call-of-the-wild/downloads/jack-london_the-call-of-the-wild.epub&#34; \
  london.pdf"><pre><code>paperify \
  --arxiv-category cs \
  --num-papers 1000 \
  --equation-frequency 18 \
  --chatgpt-token &#34;sk-[REDACTED]&#34; \
  --chatgpt-topic &#34;soft body robotics&#34; \
  &#34;https://standardebooks.org/ebooks/jack-london/the-call-of-the-wild/downloads/jack-london_the-call-of-the-wild.epub&#34; \
  london.pdf
</code></pre></div>
</li>
</ul>

<div data-snippet-clipboard-copy-content="usage: paperify [OPTIONS] &lt;URL or path&gt; &lt;output file&gt;

OPTIONS:
  --temp-dir &lt;DIR&gt;            Directory for assets (default: /tmp/paperify)
  --from-format &lt;FORMAT&gt;      Format of input file (default: input suffix)
  --arxiv-category &lt;CAT&gt;      arXiv.org paper category (default: math)
  --num-papers &lt;NUM&gt;          Number of papers to download (default: 100)
  --max-parallelism &lt;PROCS&gt;   Maximum simultaneous processes (default: 32)
  --figure-frequency &lt;N&gt;      Chance of a figure is 1/N per paragraph (default: 25)
  --equation-frequency &lt;N&gt;    Chance of an equation is 1/N per paragraph (default: 25)
  --max-size &lt;BYTES&gt;          Max allowed image size in bytes (default 2500000)
  --min-equation-length &lt;N&gt;   Minimum equation length in characters (default 5)
  --max-equation-length &lt;N&gt;   Maximum equation length in characters (default 120)
  --min-caption-length &lt;N&gt;    Minimum figure caption length in characters (default 20)
  --chatgpt-token &lt;TOKEN&gt;     ChatGPT token to generate paper title, abstract, etc.
  --chatgpt-topic &lt;TOPIC&gt;     Paper topic ChatGPT will generate metadta for
  --quiet                     Don&#39;t log statuses
  --skip-downloading          Don&#39;t download papers from arXiv.org
  --skip-extracting           Don&#39;t extract equations and captions
  --skip-metadata             Don&#39;t regenerate metadata
  --skip-filtering            Don&#39;t filter out large files or non-diagram images"><pre><code>usage: paperify [OPTIONS] &lt;URL or path&gt; &lt;output file&gt;

OPTIONS:
  --temp-dir &lt;DIR&gt;            Directory for assets (default: /tmp/paperify)
  --from-format &lt;FORMAT&gt;      Format of input file (default: input suffix)
  --arxiv-category &lt;CAT&gt;      arXiv.org paper category (default: math)
  --num-papers &lt;NUM&gt;          Number of papers to download (default: 100)
  --max-parallelism &lt;PROCS&gt;   Maximum simultaneous processes (default: 32)
  --figure-frequency &lt;N&gt;      Chance of a figure is 1/N per paragraph (default: 25)
  --equation-frequency &lt;N&gt;    Chance of an equation is 1/N per paragraph (default: 25)
  --max-size &lt;BYTES&gt;          Max allowed image size in bytes (default 2500000)
  --min-equation-length &lt;N&gt;   Minimum equation length in characters (default 5)
  --max-equation-length &lt;N&gt;   Maximum equation length in characters (default 120)
  --min-caption-length &lt;N&gt;    Minimum figure caption length in characters (default 20)
  --chatgpt-token &lt;TOKEN&gt;     ChatGPT token to generate paper title, abstract, etc.
  --chatgpt-topic &lt;TOPIC&gt;     Paper topic ChatGPT will generate metadta for
  --quiet                     Don&#39;t log statuses
  --skip-downloading          Don&#39;t download papers from arXiv.org
  --skip-extracting           Don&#39;t extract equations and captions
  --skip-metadata             Don&#39;t regenerate metadata
  --skip-filtering            Don&#39;t filter out large files or non-diagram images
</code></pre></div>
<p dir="auto">Note that the <code>--skip-*</code> flags are useful when you have already run the script
once and do not want to repeat the process of downloading and extracting data.</p>

<ul dir="auto">
<li>Images with query parameters in the <code>src</code> URL of some web pages are extracted
by Pandoc with the query parameters in the filename, and LaTeX gives errors
about &#34;unknown file extension&#34; when compiling.</li>
<li>Papers may contain images that are not diagrams, such as portraits of the
authors or institution logos. Paperify uses a highly imperfect heuristic to
remove these if the <code>convert</code> command line tool is present: only images with
white, nearly-white, or transparent pixels in the top left and bottom right
corners are kept. This works surprisingly well, but there are always some
false positives and false negatives.</li>
<li>Non-ASCII Unicode characters cannot be processed by <code>pdflatex</code>, and will be
stripped before the PDF is compiled.</li>
<li>Paperify uses Markdown as a (purposefully) lossy <a href="https://en.wikipedia.org/wiki/Intermediate_representation" rel="nofollow">intermediate
representation</a>
for documents before they are converted to LaTeX. As a result, information
and styling from the original may be stripped.</li>
<li>A handful of papers contain huge numbers of images. The ones that do this
also tend to have some of the worst images. Images can be manually pruned
from the <code>/tmp/paperify/images</code> directory, and the same command can be re-run
with the <code>--skip-*</code> flags to rebuild the paper using new figures and
equations.</li>
<li>Different systems install different LaTeX packages. If you&#39;re missing
packages, you may want to bite the bullet and <code>apt install texlive-full</code>.
It&#39;s very big, but it&#39;s got everything you&#39;ll ever need in there.</li>
<li>Figure captions usually have nothing to do with figures themselves.</li>
<li>No matter how convincing a paper may appear, anyone looking over your
shoulder who actually reads the words will know very quickly that something
is off.</li>
<li>Side effects of reading the code include nausea, dizziness, confusion,
bleeding from the eyes, and deep love/hatred for the creators of Unix
pipelines.</li>
</ul>

<p dir="auto">In general, I&#39;m a proponent of reading (or at least skimming) code before you
run it, when possible. Usually, my code is written to be read. In this case,
not so much.</p>
<p dir="auto">Apologies in advance to anyone who tries to read the code. It started as four
very cursed lines of Bash (without line wrapping) that I attempted to clean up
a little. It is now many more than four lines of Bash, most of which remain
very cursed. The small Python portion is particularly hard on the eyes, though
it may possess a grotesque beauty for true functional programmers.</p>
<p dir="auto">Everything is in <code>paperify.sh</code>. It can be read top-to-bottom or bottom-to-top,
and there is a fat LaTeX template as a heredoc smack in the middle.</p>

<p dir="auto">Strange as it may sound, this project is complete. I want to live in a world
where working software doesn&#39;t always grow until it becomes a Lovecraftian
spaghetti monster.</p>
<p dir="auto">I have added every feature that I wanted to add. It does what I wanted it to
do, as well as I wanted it to do it. No further development required.</p>
<p dir="auto">As such, I will try to address issues opened on GitHub, but I do not expect to
address feature requests. I may merge pull requests.</p>
<p dir="auto">Even if there are no recent commits, I&#39;m hopeful that this script will continue
to work many years from now.</p>

<p dir="auto">Greetz to several unnamed friends who offered helpful commentary prior to
release.</p>
<p dir="auto">Special shout out to the friends who suggested, as a follow-up project, making
a browser extension to transform the current web page into a scientific paper.
Sort of like Firefox reader mode, but for viewing Twitter when someone looking
over your shoulder expects you to be doing something else.</p>
<p dir="auto">Thanks to <a href="https://arxiv.org" rel="nofollow">arXiv.org</a> for hosting tons of papers with LaTeX
source to mine.</p>
<p dir="auto">Greetz to Project Gutenberg, Standard Ebooks, and Alexandra Elbakyan.</p>
<p dir="auto">Lovingly released on Labor Day 2023; dedicated to procrastinating laborers of
knowledge.</p>
</article>
          </div></div>
  </body>
</html>
