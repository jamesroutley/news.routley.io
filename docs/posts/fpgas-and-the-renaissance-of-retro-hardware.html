<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://brainbaking.com/post/2023/11/fpgas-and-the-renaissance-of-retro-hardware/">Original</a>
    <h1>FPGAs and the renaissance of retro hardware</h1>
    
    <div id="readability-page-1" class="page"><article>
	    <div>
	  		<p>Almost every few weeks, a new and exciting retro hardware project is announced. These are truly great times for retro computing enthusiasts. How come these hobby projects explore in popularity lately, besides the obvious growth in demand and the availability of crowdfunding platforms such as Kickstarter that at least partially remove the stress of funding? One answer could be the rapid evolution and availability of FPGA chips.</p>
<p>An FPGA or <em>Field Programmable Gate Array</em> is a chip that can be “programmed in the field”—unlike a typical ASIC or <em>Application-Specific Integrated Circuit</em> chip that is engineered to do only one thing. This means that if you get your hands on an FPGA board, you can flash the chip on it to act like a Game Boy. Or a Mega Drive. Or a Commodore 64. Or anything else you can possibly think of, within the limits of that particular board.</p>
<p>Xilinx, one of the most popular manufacturers of such chips, <a href="https://www.xilinx.com/products/boards-and-kits/device-family/nav-artix-7.html">sells development and evaluation kits</a> at very acceptable prices, depending on the power of the chip you’re after. If you’re just looking to mess around with the FPGA concept, you can treat yourself with a very hackable <a href="http://www.pynq.io/">PYNQ board</a>. These boards come with all manner of trinkets—8 DMA channels, high-and low-bandwidth controllers, an FPA comparable to the above Artix-7, 512 MB DDR3—and are specifically built for rapid prototyping and teaching. We use them at our faculty to introduce students to various concepts of digital electronic design.</p>
<p>Even if you’re not that technical, I’m sure you’ve at least heard of the term “FPGA”, as it has the tendency to pop up everywhere, especially in groups discussing retro computing. Why? Because you don’t need a powerful FPGA chip to emulate an old embedded 8-bit CPU. In other words: slap an FPGA on a board, flash it to perfectly emulate your favorite retro hardware, and you’ve got yourself a beefed up Game Boy/Commodore/Whatever! A few examples of FPGA-enabled retro hardware projects I’ve encountered in the last few years:</p>
<ul>
<li><a href="https://mega65.org/">Mega 65</a>, a realization of the C65 but running 40x faster;</li>
<li><a href="https://www.specnext.com/">ZX Spectrum Next</a>, the next generation ZX Spectrum with backwards compatibility for old accessories including tape recorders;</li>
<li>Anything that <a href="https://www.analogue.co/">Analogue.co</a> puts out: The <a href="https://brian.abelson.live/post/2022/04/analogue-pocket/">Analogue Pocket</a>, The Mega ST, …;</li>
<li>The <a href="https://www.retrorgb.com/mister.html">MiSTer</a> project used to perfectly emulate and/or upscale analog signals;</li>
<li><a href="https://gc-loader.com/">GC Loader</a>, the DVD drive replacement for the GameCube;</li>
<li>In ever-increasing emulation GitHub Projects targeting Xilinx FPGA boards <a href="https://github.com/zf3/nes260">such as this NES one</a>.</li>
</ul>
<figure>
	
		
	
	<a href="https://brainbaking.com/post/2023/11/fpgas-and-the-renaissance-of-retro-hardware/../mega65board.jpg">
		<img src="https://brainbaking.com/post/2023/11/fpgas-and-the-renaissance-of-retro-hardware/../mega65board.jpg" loading="lazy" title="The Mega65 board housing a Xilinx Artix-7 chip (in the middle)." data-pagefind-index-attrs="title"/>
	</a>
	
		<figcaption>The Mega65 board housing a Xilinx Artix-7 chip (in the middle).</figcaption>
	
</figure>

<p>Most of these projects are open-source inviting an endless horde of retro enthusiasts hacking away and building/improving upon emulation systems. For example, the Analogue Pocket was initially made to perfectly emulate Game Boy family games, but the community already developed an impressive amount of what they call “cores” that suddenly turn your Pocket into a handheld (S)NES, Mega Drive, or anything your heart desires—usually derived from earlier MiSTer work.</p>
<p>Most hardware that’s perfectly emulated right now has been fully reverse-engineered, with ample of documentation available. We now perfectly know how the Game Boy internally works, which as a software engineer I can use to write software that emulates the system and is able to boot <code>.GB</code> ROMs, but my colleagues as hardware engineers can use to program an FPGA so that the system is emulated in hardware instead of in software. The difference for the Game Boy happens to be minimal because our ASIC hardware—the CPU and RAM in your PC—is more than powerful enough, and Game Boy emulators have been around for twenty plus years.</p>
<p>However, for other either more finicky (think CPU cycle timing, vertical/horizontal refresh rates, RTC clocks, …) or more demanding systems, FPGAs usually outperform software emulation as being closer to the bare metal eliminates a lot of latency and makes it easier to implement specific components. Of course, companies like Analogue love to convince us that their FPGA-based game consoles have nothing to do with the laden concept “emulation”, but instead perfectly reimplement the original hardware design, tossing in additional and more modern bells and whistles.</p>
<p>If you were to play the NES game <em>Mario Bros. 3</em> on your official NES Mini, you would be playing it through a software emulator on an Allwinner R16 4x Cortex A7 ASIC system-on-a-chip with 256 MB DDR3 RAM running on 512 MB flash storage. That quad core is, in essence, a conventional mini-computer that’s more than powerful enough to emulate 8-bit systems. But if you were to play <em>Mario Bros. 3</em> using an FPGA core on the MiSTer or the Analogue Pocket, that software layer is absent: its hardware behaves exactly like the original NES did.</p>
<p>For those interested in slight latency differences of specific hardware systems, YouTube has got you covered, hosting a plethora of <a href="https://www.youtube.com/watch?v=StqrUPawyJI">MiSTer FPGA vs Mednafen emulation</a>-alike videos, in this case taking a close look at PC Engine/TurboGrafx 16 software vs. hardware emulation. I honestly don’t think I would notice the difference when playing.</p>
<hr/>
<p>These useless software vs. hardware emulation debates do neglect one important aspect: new (old?) FPGA-based retro hardware is more than just recreating the old CPU core. It’s about the physicality of the hardware itself. It’s about plugging in that dusty cart you so carefully preserved all these years. It’s about seeing if that Spectrum tape still works and getting excited by the pressure of the authentic-feeling keyboard that comes with the device. It’s about <a href="https://en.wikipedia.org/wiki/Retrobright">retrobrighting</a> your old plastic case to compare old with new! It’s about the hackability of the new (old?) system that comes with a thick BASIC or PASCAL-like programming manual that is supposed to reinvigorate eighties bedroom game programming.</p>
<p>Happy FPGA hacking/playing!</p>


		    
  			<p>
		       <svg width="24" height="24">
		            <title>tags icon</title>
		            <use xlink:href="#tag"></use>
		        </svg>
			    <span>
			        
			            <a href="https://brainbaking.com/tags/hardware" title="Tag: hardware"><kbd>hardware</kbd></a>
			        
			            <a href="https://brainbaking.com/tags/fpga" title="Tag: fpga"><kbd>fpga</kbd></a>
			        
			    </span>
			</p>
		    
	  	</div>
	</article></div>
  </body>
</html>
