<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.semianalysis.com/p/google-we-have-no-moat-and-neither">Original</a>
    <h1>Google “We Have No Moat, and Neither Does OpenAI”</h1>
    
    <div id="readability-page-1" class="page"><div><div dir="auto"><h6><em>The text below is a very recent leaked document, which was shared by an anonymous individual on a public Discord server who has granted permission for its republication. It originates from a researcher within Google. We have verified its authenticity. The only modifications are formatting and removing links to internal web pages. The document is only the opinion of a Google employee, not the entire firm. We do not agree with what is written below, nor do other researchers we asked, but we will publish our opinions on this in a separate piece for subscribers. We simply are a vessel to share this document which raises some very interesting points.</em></h6><p>We’ve done a lot of looking over our shoulders at OpenAI. Who will cross the next milestone? What will the next move be?</p><p><span>But the uncomfortable truth is, </span><em>we aren’t positioned to win this arms race and neither is OpenAI</em><span>. While we’ve been squabbling, a third faction has been quietly eating our lunch.</span></p><p><span>I’m talking, of course, about open source. Plainly put, they are lapping us. </span><strong>Things we consider “major open problems” are solved and in people’s hands today. </strong><span>Just to name a few:</span></p><ul><li><p><strong>LLMs on a Phone: </strong><a href="https://twitter.com/thiteanish/status/1635678053853536256" rel="">People are running foundation models on a Pixel 6</a><span> at 5 tokens / sec.</span></p></li><li><p><strong>Scalable Personal AI: </strong><a href="https://github.com/tloen/alpaca-lora" rel="">You can finetune a personalized AI on your laptop in an evening.</a></p></li><li><p><strong>Responsible Release: </strong><span>This one isn’t “solved” so much as “obviated”. </span><a href="https://civitai.com/" rel="">There are entire websites full of art models with no restrictions whatsoever</a><span>, and text is </span><a href="https://medium.com/geekculture/list-of-open-sourced-fine-tuned-large-language-models-llm-8d95a2e0dc76" rel="">not far behind.</a></p></li><li><p><strong>Multimodality: </strong><a href="https://arxiv.org/pdf/2303.16199.pdf" rel="">The current multimodal ScienceQA SOTA was trained in an hour</a><span>.</span></p></li></ul><p><span>While our models still hold a slight edge in terms of quality, the </span><a href="https://arxiv.org/pdf/2303.16199.pdf" rel="">gap is closing astonishingly quickly</a><span>. Open-source models are faster, more customizable, more private, and pound-for-pound more capable. They are </span><a href="https://lmsys.org/blog/2023-03-30-vicuna/" rel="">doing things with $100 and 13B params</a><span> that we struggle with at $10M and 540B. And they are doing so in weeks, not months. This has profound implications for us:</span></p><ul><li><p><strong>We have no secret sauce. </strong><span>Our best hope is to learn from and collaborate with what others are doing outside Google. We should prioritize enabling 3P integrations.</span></p></li><li><p><strong>People will not pay for a restricted model when free, unrestricted alternatives are comparable in quality. </strong><span>We should consider where our value add really is.</span></p></li><li><p><strong>Giant models are slowing us down. </strong><span>In the long run, the best models are the ones</span></p><p>which can be iterated upon quickly. We should make small variants more than an afterthought, now that we know what is possible in the &lt;20B parameter regime.</p></li></ul><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png" width="1366" height="588" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:588,&#34;width&#34;:1366,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:73149,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F241fe3ef-3919-4a63-9c68-9e2e77cc2fc0_1366x588.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>https://lmsys.org/blog/2023-03-30-vicuna/</figcaption></figure></div><p><span>At the beginning of March the open source community </span><a href="https://www.vice.com/en/article/xgwqgw/facebooks-powerful-large-language-model-leaks-online-4chan-llama" rel="">got their hands on</a><span> their first really capable foundation model, as Meta’s LLaMA was leaked to the public. It had no instruction or conversation tuning, and no RLHF. Nonetheless, the community immediately understood the significance of what they had been given.</span></p><p><span>A tremendous outpouring of innovation followed, with just days between major developments (see The Timeline for the full breakdown). Here we are, barely a month later, and there are variants with </span><a href="https://crfm.stanford.edu/2023/03/13/alpaca.html" rel="">instruction tuning</a><span>, </span><a href="https://github.com/ggerganov/llama.cpp" rel="">quantization</a><span>, </span><a href="https://lmsys.org/blog/2023-03-30-vicuna/" rel="">quality improvements</a><span>, </span><a href="https://arxiv.org/pdf/2303.16199.pdf" rel="">human evals</a><span>, </span><a href="https://arxiv.org/pdf/2303.16199.pdf" rel="">multimodality</a><span>, </span><a href="https://drive.google.com/file/d/10iR5hKwFqAKhL3umx8muOWSRm7hs5FqX/view" rel="">RLHF</a><span>, etc. etc. many of which build on each other.</span></p><p><span>Most importantly, </span><a href="https://github.com/tloen/alpaca-lora" rel="">they have solved the scaling problem</a><span> to the extent that anyone can tinker. Many of the new ideas are from ordinary people. The barrier to entry for training and experimentation has dropped from the total output of a major research organization to one person, an evening, and a beefy laptop.</span></p><p><span>In many ways, this shouldn’t be a surprise to anyone. The current renaissance in open source LLMs comes hot on the heels of a renaissance in image generation. The similarities are not lost on the community, with many calling this the “</span><a href="https://simonwillison.net/2023/Mar/11/llama/" rel="">Stable Diffusion moment</a><span>” for LLMs.</span></p><p><span>In both cases, low-cost public involvement was enabled by a vastly cheaper mechanism for fine tuning called </span><a href="https://arxiv.org/abs/2106.09685" rel="">low rank adaptation</a><span>, or LoRA, combined with a significant breakthrough in scale (</span><a href="https://arxiv.org/abs/2112.10752" rel="">latent diffusion</a><span> for image synthesis, </span><a href="https://arxiv.org/abs/2203.15556" rel="">Chinchilla</a><span> for LLMs). In both cases, access to a sufficiently high-quality model kicked off a flurry of ideas and iteration from individuals and institutions around the world. In both cases, this quickly outpaced the large players.</span></p><p><span>These contributions were pivotal in the image generation space, setting Stable Diffusion on a different path from Dall-E. Having an open model led to </span><a href="https://github.com/AbdullahAlfaraj/Auto-Photoshop-StableDiffusion-Plugin" rel="">product integrations</a><span>, </span><a href="https://civitai.com/" rel="">marketplaces</a><span>, </span><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui" rel="">user interfaces</a><span>, and </span><a href="https://stablediffusionweb.com/ControlNet" rel="">innovations</a><span> that didn’t happen for Dall-E.</span></p><p><span>The effect was palpable: </span><a href="https://trends.google.com/trends/explore?date=2022-08-01%202023-04-10&amp;q=Stable%20Diffusion,Dall-E&amp;hl=en" rel="">rapid domination</a><span> in terms of cultural impact vs the OpenAI solution, which became increasingly irrelevant. Whether the same thing will happen for LLMs remains to be seen, but the broad structural elements are the same.</span></p><p>The innovations that powered open source’s recent successes directly solve problems we’re still struggling with. Paying more attention to their work could help us to avoid reinventing the wheel.</p><p><a href="https://arxiv.org/abs/2106.09685" rel="">LoRA </a><span>works by representing model updates as low-rank factorizations, which reduces the size of the update matrices by a factor of up to several thousand. This allows model fine-tuning at a fraction of the cost and time. Being able to personalize a language model in a few hours on consumer hardware is a big deal, </span><em>particularly</em><span> for </span><a href="http://www.internalgooglesitescrubbedbyus.com" rel="">aspirations that involve incorporating new and diverse knowledge in near real-time</a><span>. The fact that this technology exists is underexploited inside Google, even though it directly impacts some of our most ambitious projects.</span></p><p>Part of what makes LoRA so effective is that - like other forms of fine-tuning - it’s stackable. Improvements like instruction tuning can be applied and then leveraged as other contributors add on dialogue, or reasoning, or tool use. While the individual fine tunings are low rank, their sum need not be, allowing full-rank updates to the model to accumulate over time.</p><p>This means that as new and better datasets and tasks become available, the model can be cheaply kept up to date, without ever having to pay the cost of a full run.</p><p>By contrast, training giant models from scratch not only throws away the pretraining, but also any iterative improvements that have been made on top. In the open source world, it doesn’t take long before these improvements dominate, making a full retrain extremely costly.</p><p>We should be thoughtful about whether each new application or idea really needs a whole new model. If we really do have major architectural improvements that preclude directly reusing model weights, then we should invest in more aggressive forms of distillation that allow us to retain as much of the previous generation’s capabilities as possible.</p><p><span>LoRA updates are very cheap to produce (~$100) for the most popular model sizes. This means that almost anyone with an idea can generate one and distribute it. Training times under a day are the norm. At that pace, it doesn’t take long before the cumulative effect of all of these fine-tunings overcomes starting off at a size disadvantage. Indeed, in terms of engineer-hours, the pace of improvement from these models vastly outstrips what we can do with our largest variants, and the best </span><a href="https://bair.berkeley.edu/blog/2023/04/03/koala/" rel="">are already largely indistinguishable from ChatGPT</a><span>. </span><strong>Focusing on maintaining some of the largest models on the planet actually puts us at a disadvantage.</strong></p><p><span>Many of these projects are saving time by </span><a href="https://bair.berkeley.edu/blog/2023/04/03/koala/" rel="">training on small, highly curated datasets</a><span>. This suggests there is some flexibility in data scaling laws. The existence of such datasets follows from the line of thinking in </span><a href="http://www.internalgooglesitescrubbedbyus.com" rel="">Data Doesn&#39;t Do What You Think</a><span>, and they are rapidly becoming the standard way to do training outside Google. These datasets are built using synthetic methods (e.g. filtering the best responses from an existing model) and scavenging from other projects, neither of which is dominant at Google. </span><strong>Fortunately, these high quality datasets are open source, so they are free to use.</strong></p><p><span>This recent progress has direct, immediate implications for our business strategy. </span><strong>Who would pay for a Google product with usage restrictions if there is a free, high quality alternative without them?</strong></p><p><span>And we should not expect to be able to catch up. The </span><a href="https://openuk.uk/wp-content/uploads/2021/07/State-of-Open-Phase-Two.pdf" rel="">modern internet runs on open source</a><span> for a reason. Open source has some significant advantages that we cannot replicate.</span></p><p>Keeping our technology secret was always a tenuous proposition. Google researchers are leaving for other companies on a regular cadence, so we can assume they know everything we know, and will continue to for as long as that pipeline is open.</p><p>But holding on to a competitive advantage in technology becomes even harder now that cutting edge research in LLMs is affordable. Research institutions all over the world are building on each other’s work, exploring the solution space in a breadth-first way that far outstrips our own capacity. We can try to hold tightly to our secrets while outside innovation dilutes their value, or we can try to learn from each other.</p><p><span>Much of this innovation is happening on top of the leaked model weights from Meta. While this will inevitably change as </span><a href="https://bigscience.huggingface.co/blog/bloom" rel="">truly open models</a><span> get better, the point is that they don’t have to wait. The legal cover afforded by “personal use” and the impracticality of prosecuting individuals means that individuals are getting access to these technologies while they are hot.</span></p><p>Browsing through the models that people are creating in the image generation space, there is a vast outpouring of creativity, from anime generators to HDR landscapes. These models are used and created by people who are deeply immersed in their particular subgenre, lending a depth of knowledge and empathy we cannot hope to match.</p><p>Paradoxically, the one clear winner in all of this is Meta. Because the leaked model was theirs, they have effectively garnered an entire planet&#39;s worth of free labor. Since most open source innovation is happening on top of their architecture, there is nothing stopping them from directly incorporating it into their products.</p><p><strong>The value of owning the ecosystem cannot be overstated.</strong><span> Google itself has successfully used this paradigm in its open source offerings, like Chrome and Android. By owning the platform where innovation happens, Google cements itself as a thought leader and direction-setter, earning the ability to shape the narrative on ideas that are larger than itself.</span></p><p><strong>The more tightly we control our models, the more attractive we make open alternatives. </strong><span>Google and OpenAI have both gravitated defensively toward release patterns that allow them to retain tight control over how their models are used. But this control is a fiction. Anyone seeking to use LLMs for unsanctioned purposes can simply take their pick of the freely available models.</span></p><p>Google should establish itself a leader in the open source community, taking the lead by cooperating with, rather than ignoring, the broader conversation. This probably means taking some uncomfortable steps, like publishing the model weights for small ULM variants. This necessarily means relinquishing some control over our models. But this compromise is inevitable. We cannot hope to both drive innovation and control it.</p><p>All this talk of open source can feel unfair given OpenAI’s current closed policy. Why do we have to share, if they won’t? But the fact of the matter is, we are already sharing everything with them in the form of the steady flow of poached senior researchers. Until we stem that tide, secrecy is a moot point.</p><p><span>And in the end, </span><em>OpenAI doesn’t matter</em><span>. They are making the same mistakes we are in their posture relative to open source, and their ability to maintain an edge is necessarily in question. Open source alternatives can and will eventually eclipse them unless they change their stance. In this respect, at least, we can make the first move.</span></p><p><a href="https://ai.facebook.com/blog/large-language-model-llama-meta-ai/" rel="">Meta launches LLaMA</a><span>, open sourcing the code, but not the weights. At this point, LLaMA is not instruction or conversation tuned. Like many current models, it is a relatively small model (available at 7B, 13B, 33B, and 65B parameters) that has been trained for a relatively large amount of time, and is therefore quite capable relative to its size.</span></p><p><span>Within a week, </span><a href="https://www.vice.com/en/article/xgwqgw/facebooks-powerful-large-language-model-leaks-online-4chan-llama" rel="">LLaMA is leaked to the public</a><span>. The impact on the community cannot be overstated. Existing licenses prevent it from being used for commercial purposes, but suddenly anyone is able to experiment. From this point forward, innovations come hard and fast.</span></p><p><span>A little over a week later, Artem Andreenko </span><a href="https://github.com/ggerganov/llama.cpp/issues/58" rel="">gets the model working on a Raspberry Pi</a><span>. At this point the model runs too slowly to be practical because the weights must be paged in and out of memory. Nonetheless, this sets the stage for an onslaught of minification efforts.</span></p><p><span>The next day, Stanford releases </span><a href="https://crfm.stanford.edu/2023/03/13/alpaca.html" rel="">Alpaca</a><span>, which adds instruction tuning to LLaMA. More important than the actual weights, however, was Eric Wang’s </span><a href="https://github.com/tloen/alpaca-lora" rel="">alpaca-lora</a><span> repo, which used </span><a href="https://arxiv.org/abs/2106.09685" rel="">low rank fine-tuning</a><span> to do this training “within hours on a single RTX 4090”.</span></p><p>Suddenly, anyone could fine-tune the model to do anything, kicking off a race to the bottom on low-budget fine-tuning projects. Papers proudly describe their total spend of a few hundred dollars. What’s more, the low rank updates can be distributed easily and separately from the original weights, making them independent of the original license from Meta. Anyone can share and apply them.</p><p><span>Georgi Gerganov </span><a href="https://github.com/ggerganov/llama.cpp" rel="">uses 4 bit quantization</a><span> to run LLaMA on a MacBook CPU. It is the first “no GPU” solution that is fast enough to be practical.</span></p><p><span>The next day, a cross-university collaboration releases </span><a href="https://lmsys.org/blog/2023-03-30-vicuna/" rel="">Vicuna</a><span>, and uses GPT-4-powered eval to provide qualitative comparisons of model outputs. While the evaluation method is suspect, the model is materially better than earlier variants. </span><strong>Training Cost: $300.</strong></p><p><span>Notably, they were able to use data from ChatGPT while circumventing restrictions on its API - They simply sampled examples of “impressive” ChatGPT dialogue posted on sites like </span><a href="https://sharegpt.com/" rel="">ShareGPT</a><span>.</span></p><p><span>Nomic creates </span><a href="https://github.com/nomic-ai/gpt4all" rel="">GPT4All</a><span>, which is both a </span><a href="https://s3.amazonaws.com/static.nomic.ai/gpt4all/2023_GPT4All_Technical_Report.pdf" rel="">model </a><span>and, more importantly, an </span><a href="https://github.com/nomic-ai/gpt4all#gpt4all-compatibility-ecosystem" rel="">ecosystem</a><span>. For the first time, we see models (including Vicuna) being gathered together in one place. </span><strong>Training Cost: $100.</strong></p><p><span>Cerebras (not to be confused with our own Cerebra) trains the GPT-3 architecture using the optimal compute schedule implied by Chinchilla, and the optimal scaling implied by </span><a href="https://arxiv.org/abs/2203.03466" rel="">μ-parameterization</a><span>. This outperforms existing GPT-3 clones by a wide margin, and represents the first confirmed use of μ-parameterization “in the wild”. These models are trained from scratch, meaning the community is no longer dependent on LLaMA.</span></p><p><span>Using a novel Parameter Efficient Fine Tuning (PEFT) technique, </span><a href="https://arxiv.org/pdf/2303.16199.pdf" rel="">LLaMA-Adapter</a><span> introduces instruction tuning and multimodality in one hour of training. Impressively, they do so with just 1.2M learnable parameters. The model achieves a new SOTA on multimodal ScienceQA.</span></p><p><span>Berkeley launches </span><a href="https://bair.berkeley.edu/blog/2023/04/03/koala/" rel="">Koala</a><span>, a dialogue model trained entirely using freely available data.</span></p><p><span>They take the crucial step of measuring real human preferences between their model and ChatGPT. While ChatGPT still holds a slight edge, more than 50% of the time users either prefer Koala or have no preference. </span><strong>Training Cost: $100.</strong></p><p><a href="https://open-assistant.io/" rel="">Open Assistant</a><span> launches </span><a href="https://drive.google.com/file/d/10iR5hKwFqAKhL3umx8muOWSRm7hs5FqX/view" rel="">a model and, more importantly, a dataset</a><span> for Alignment via RLHF. Their model is close (48.3% vs. 51.7%) to ChatGPT in terms of human preference. In addition to LLaMA, they show that this dataset can be applied to Pythia-12B, giving people the option to use a fully open stack to run the model. Moreover, because the dataset is publicly available, it takes RLHF from unachievable to cheap and easy for small experimenters.</span></p></div></div></div>
  </body>
</html>
