<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/crbnos/carbon">Original</a>
    <h1>Show HN: I&#39;ve been building an ERP for manufacturing for the last 3 years</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
   <a href="https://carbon.ms" rel="nofollow">
      <img width="auto" height="100" alt="Carbon Logo" src="https://private-user-images.githubusercontent.com/64510427/465005356-86a5e583-adac-4bf9-8192-508a0adf2308.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTQzOTMwMzUsIm5iZiI6MTc1NDM5MjczNSwicGF0aCI6Ii82NDUxMDQyNy80NjUwMDUzNTYtODZhNWU1ODMtYWRhYy00YmY5LTgxOTItNTA4YTBhZGYyMzA4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA4MDUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwODA1VDExMTg1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTQxNzBjNTc2ZDZlNzFhNzUzYTg1YzdmYzFjMGMxNjU1YWNhMDc2ZmQ1YjNjMDk5MDYwZjllNmFiMzk0NDVkOTUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.fV413AWBvdQgAvvb8dwcRWxY6I9DNuWO5t0QBkc0heo" secured-asset-link=""/>
   </a>
</p>
<p dir="auto">
    The open-source operating system for manufacturing
    </p>

<p dir="auto">
  <a href="https://go.midday.ai/K7GwMoQ" rel="nofollow">
    <img src="https://camo.githubusercontent.com/0d69bd5f3e56aabad0d1a0869a2bbf559648e8fde5478d9fa6331f424a097618/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f53757061626173652d3345434638453f7374796c653d666f722d7468652d6261646765266c6f676f3d7375706162617365266c6f676f436f6c6f723d7768697465" alt="Supabase" data-canonical-src="https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&amp;logo=supabase&amp;logoColor=white"/>
  </a>
</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/64510427/465004791-2e09b891-d5e2-4f68-b924-a1c8ea42d24d.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTQzOTMwMzUsIm5iZiI6MTc1NDM5MjczNSwicGF0aCI6Ii82NDUxMDQyNy80NjUwMDQ3OTEtMmUwOWI4OTEtZDVlMi00ZjY4LWI5MjQtYTFjOGVhNDJkMjRkLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA4MDUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwODA1VDExMTg1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTEyOWRiOWE0MTAxMmM3YTFlNTI1YWQxZWNjZGQ0Yzk3ZjdmMDU3NWQyODE1Y2FlNmIyNWM2Njk2ZGQzNmRiZmEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.avxE5LKBHXKLNsXsQ4-BPWg3-ZX_olXv_rZ7j_G-WbE"><img src="https://private-user-images.githubusercontent.com/64510427/465004791-2e09b891-d5e2-4f68-b924-a1c8ea42d24d.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTQzOTMwMzUsIm5iZiI6MTc1NDM5MjczNSwicGF0aCI6Ii82NDUxMDQyNy80NjUwMDQ3OTEtMmUwOWI4OTEtZDVlMi00ZjY4LWI5MjQtYTFjOGVhNDJkMjRkLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA4MDUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwODA1VDExMTg1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTEyOWRiOWE0MTAxMmM3YTFlNTI1YWQxZWNjZGQ0Yzk3ZjdmMDU3NWQyODE1Y2FlNmIyNWM2Njk2ZGQzNmRiZmEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.avxE5LKBHXKLNsXsQ4-BPWg3-ZX_olXv_rZ7j_G-WbE" alt="ERP Screenshot"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/64510427/465004825-b04f3644-91aa-4f74-af8d-6f3e12116a6b.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTQzOTMwMzUsIm5iZiI6MTc1NDM5MjczNSwicGF0aCI6Ii82NDUxMDQyNy80NjUwMDQ4MjUtYjA0ZjM2NDQtOTFhYS00Zjc0LWFmOGQtNmYzZTEyMTE2YTZiLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA4MDUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwODA1VDExMTg1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPThiMDMyZjM1YThmNGZlMmNlODc2OGJiZTc1OTMxMDg1ZjY1NWFjZTY5NTkyOGI3Njk1YmI5ZTc4NWNhOWU3NmUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.hAqprpqNmIXiSi1LMOA5PYbI-GjHw_kE6SH64sR-Nhg"><img src="https://private-user-images.githubusercontent.com/64510427/465004825-b04f3644-91aa-4f74-af8d-6f3e12116a6b.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTQzOTMwMzUsIm5iZiI6MTc1NDM5MjczNSwicGF0aCI6Ii82NDUxMDQyNy80NjUwMDQ4MjUtYjA0ZjM2NDQtOTFhYS00Zjc0LWFmOGQtNmYzZTEyMTE2YTZiLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA4MDUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwODA1VDExMTg1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPThiMDMyZjM1YThmNGZlMmNlODc2OGJiZTc1OTMxMDg1ZjY1NWFjZTY5NTkyOGI3Njk1YmI5ZTc4NWNhOWU3NmUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.hAqprpqNmIXiSi1LMOA5PYbI-GjHw_kE6SH64sR-Nhg" alt="MES Screenshot"/></a></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Does the world need another ERP?</h2><a id="user-content-does-the-world-need-another-erp" aria-label="Permalink: Does the world need another ERP?" href="#does-the-world-need-another-erp"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">We built Carbon after years of building end-to-end manufacturing systems with off-the-shelf solutions. We realized that:</p>
<ul dir="auto">
<li>Modern, API-first tooling didn&#39;t exist</li>
<li>Vendor lock-in bordered on extortion</li>
<li>There is no &#34;perfect ERP&#34; because each company is unique</li>
</ul>
<p dir="auto">We built Carbon to solve these problems ☝️.</p>

<p dir="auto">Carbon is designed to make it easy for you to extend the platform by building your own apps through our API. We provide some examples to get you started in the <a href="https://github.com/crbnos/carbon/blob/main/examples">examples</a> folder.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/64510427/445149654-ed6dc66b-e9cb-435e-b5a9-9daf933f4a1d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTQzOTMwMzUsIm5iZiI6MTc1NDM5MjczNSwicGF0aCI6Ii82NDUxMDQyNy80NDUxNDk2NTQtZWQ2ZGM2NmItZTljYi00MzVlLWI1YTktOWRhZjkzM2Y0YTFkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA4MDUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwODA1VDExMTg1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTFhNjYxNjRiZWUwNTIwMTRjYjY0ODEwYmMzZTMzMTM2MjMyM2EwMTQ2ZGQzMDY0MTE2YWJlMWY2NWM1ZTEzODEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.vvGnY_1QevEo_lLchD4ESaWHtvJRGEUsKzPrDC-L2e4"><img src="https://private-user-images.githubusercontent.com/64510427/445149654-ed6dc66b-e9cb-435e-b5a9-9daf933f4a1d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTQzOTMwMzUsIm5iZiI6MTc1NDM5MjczNSwicGF0aCI6Ii82NDUxMDQyNy80NDUxNDk2NTQtZWQ2ZGM2NmItZTljYi00MzVlLWI1YTktOWRhZjkzM2Y0YTFkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA4MDUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwODA1VDExMTg1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTFhNjYxNjRiZWUwNTIwMTRjYjY0ODEwYmMzZTMzMTM2MjMyM2EwMTQ2ZGQzMDY0MTE2YWJlMWY2NWM1ZTEzODEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.vvGnY_1QevEo_lLchD4ESaWHtvJRGEUsKzPrDC-L2e4" alt="Carbon Architecture"/></a></p>
<p dir="auto">Features:</p>
<ul>
<li> ERP</li>
<li> MES</li>
<li> QMS</li>
<li> Custom Fields</li>
<li> Nested BoM</li>
<li> Traceability</li>
<li> MRP</li>
<li> Configurator</li>
<li> MCP Client/Server</li>
<li> API</li>
<li> Webhooks</li>
<li> Accounting</li>
<li> Capacity Planning</li>
<li> Simulation</li>
</ul>
<p dir="auto">Technical highlights:</p>
<ul>
<li> Unified auth and permissions across apps</li>
<li> Full-stack type safety (Database → UI)</li>
<li> Realtime database subscriptions</li>
<li> Attribute-based access control (ABAC)</li>
<li> Role-based access control (Customer, Supplier, Employee)</li>
<li> Row-level security (RLS)</li>
<li> Composable user groups</li>
<li> Dependency graph for operations</li>
<li> Third-party integrations</li>
</ul>

<ul dir="auto">
<li><a href="https://remix.run" rel="nofollow">Remix</a> – framework</li>
<li><a href="https://www.typescriptlang.org/" rel="nofollow">Typescript</a> – language</li>
<li><a href="https://tailwindcss.com" rel="nofollow">Tailwind</a> – styling</li>
<li><a href="https://radix-ui.com" rel="nofollow">Radix UI</a> - behavior</li>
<li><a href="https://supabase.com" rel="nofollow">Supabase</a> - database</li>
<li><a href="https://supabase.com" rel="nofollow">Supabase</a> – auth</li>
<li><a href="https://upstash.com" rel="nofollow">Upstash</a> - cache</li>
<li><a href="https://trigger.dev" rel="nofollow">Trigger</a> - jobs</li>
<li><a href="https://resend.com" rel="nofollow">Resend</a> – email</li>
<li><a href="https://novu.co" rel="nofollow">Novu</a> – notifications</li>
<li><a href="https://vercel.com" rel="nofollow">Vercel</a> – hosting</li>
<li><a href="https://stripe.com" rel="nofollow">Stripe</a> - billing</li>
</ul>

<p dir="auto">The monorepo follows the Turborepo convention of grouping packages into one of two folders.</p>
<ol dir="auto">
<li><code>/apps</code> for applications</li>
<li><code>/packages</code> for shared code</li>
</ol>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Package Name</th>
<th>Description</th>
<th>Local Command</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>erp</code></td>
<td>ERP Application</td>
<td><code>npm run dev</code></td>
</tr>
<tr>
<td><code>mes</code></td>
<td>MES</td>
<td><code>npm run dev:mes</code></td>
</tr>
<tr>
<td><code>academy</code></td>
<td>Academy</td>
<td><code>npm run dev:academy</code></td>
</tr>
<tr>
<td><code>starter</code></td>
<td>Starter</td>
<td><code>npm run dev:starter</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Package Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>eslint-config-carbon</code></td>
<td>Shared, extendable eslint configuration for apps and packages</td>
</tr>
<tr>
<td><code>@carbon/database</code></td>
<td>Database schema, migrations and types</td>
</tr>
<tr>
<td><code>@carbon/documents</code></td>
<td>Transactional PDFs and email templates</td>
</tr>
<tr>
<td><code>@carbon/integrations</code></td>
<td>Integration definitions and configurations</td>
</tr>
<tr>
<td><code>@carbon/jest</code></td>
<td>Jest preset configuration shared across apps and packages</td>
</tr>
<tr>
<td><code>@carbon/jobs</code></td>
<td>Background jobs and workers</td>
</tr>
<tr>
<td><code>@carbon/logger</code></td>
<td>Shared logger used across apps</td>
</tr>
<tr>
<td><code>@carbon/react</code></td>
<td>Shared web-based UI components</td>
</tr>
<tr>
<td><code>@carbon/kv</code></td>
<td>Redis cache client</td>
</tr>
<tr>
<td><code>@carbon/lib</code></td>
<td>Third-party client libraries (slack, resend)</td>
</tr>
<tr>
<td><code>@carbon/stripe</code></td>
<td>Stripe integration</td>
</tr>
<tr>
<td><code>@carbon/tsconfig</code></td>
<td>Shared, extendable tsconfig configuration used across apps and packages</td>
</tr>
<tr>
<td><code>@carbon/utils</code></td>
<td>Shared utility functions used across apps and packages</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>


<ol dir="auto">
<li>
<p dir="auto">Clone the repo into a public GitHub repository (or fork <a href="https://github.com/crbnos/carbon/fork">https://github.com/crbnos/carbon/fork</a>). If you plan to distribute the code, keep the source code public to comply with <a href="https://github.com/crbnos/carbon/blob/main/LICENSE">AGPLv3</a>. To clone in a private repository, <a href="https://carbon.ms/sales" rel="nofollow">acquire a commercial license</a></p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/crbnos/carbon.git"><pre>git clone https://github.com/crbnos/carbon.git</pre></div>
</li>
<li>
<p dir="auto">Go to the project folder</p>

</li>
</ol>
<p dir="auto">Make sure that you have <a href="https://docs.docker.com/desktop/install/mac-install/" rel="nofollow">Docker installed</a> on your system since this monorepo uses the Docker for local development.</p>
<p dir="auto">In addition you must configure the following external services:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Service</th>
<th>Purpose</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Upstash</td>
<td>Serverless Redis</td>
<td><a href="https://console.upstash.com/login" rel="nofollow">https://console.upstash.com/login</a></td>
</tr>
<tr>
<td>Trigger.dev</td>
<td>Job runner</td>
<td><a href="https://cloud.trigger.dev/login" rel="nofollow">https://cloud.trigger.dev/login</a></td>
</tr>
<tr>
<td>Posthog</td>
<td>Product analytics platform</td>
<td><a href="https://us.posthog.com/signup" rel="nofollow">https://us.posthog.com/signup</a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Each of these services has a free tier which should be plenty to support local development. If you&#39;re self hosting, and you don&#39;t want to use Upstash or Posthog, it&#39;s pretty easy to replace upstash with a redis container in <code>@carbon/kv</code> and remove the Posthog analytics.</p>

<p dir="auto">First download and initialize the repository dependencies.</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ nvm use           # use node v20
$ npm install       # install dependencies
$ npm run db:start  # pull and run the containers"><pre>$ nvm use           <span><span>#</span> use node v20</span>
$ npm install       <span><span>#</span> install dependencies</span>
$ npm run db:start  <span><span>#</span> pull and run the containers</span></pre></div>
<p dir="auto">Create an <code>.env</code> file and copy the contents of <code>.env.example</code> file into it</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ cp ./.env.example ./.env"><pre>$ cp ./.env.example ./.env</pre></div>
<ol dir="auto">
<li>Use the output of <code>npm run db:start</code> to set the supabase entries:</li>
</ol>
<ul dir="auto">
<li><code>SUPABASE_SERVICE_ROLE_KEY=[service_role key]</code></li>
<li><code>SUPABASE_ANON_KEY=[anon key]</code></li>
</ul>
<ol start="2" dir="auto">
<li><a href="https://console.upstash.com/redis" rel="nofollow">Create a Redis database in upstash</a> and copy the following from the <code>REST API</code> section:</li>
</ol>
<ul dir="auto">
<li><code>UPSTASH_REDIS_REST_URL=[UPSTASH_REDIS_REST_URL]</code></li>
<li><code>UPSTASH_REDIS_REST_TOKEN=[UPSTASH_REDIS_REST_TOKEN]</code></li>
</ul>
<ol start="3" dir="auto">
<li>Navigate to the project you created in <a href="https://github.com/crbnos/carbon/blob/main/Trigger.dev">https://cloud.trigger.dev/</a> and copy the following from the <code>Environments &amp; API Keys</code> section:</li>
</ol>
<ul dir="auto">
<li><code>TRIGGER_PUBLIC_API_KEY=[Public &#39;dev&#39; API Key, starting &#39;pk_dev*&#39;]</code></li>
<li><code>TRIGGER_API_KEY=[Server &#39;dev&#39; API Key, starting &#39;tr_dev*&#39;]</code></li>
</ul>
<ol start="4" dir="auto">
<li>In Posthog go to <a href="https://%5Bregion%5D.posthog.com/project/%5Bproject-id%5D/settings/project-details" rel="nofollow">https://[region].posthog.com/project/[project-id]/settings/project-details</a> to find your Project ID and Project API key:</li>
</ol>
<ul dir="auto">
<li><code>POSTHOG_API_HOST=[https://[region].posthog.com]</code></li>
<li><code>POSTHOG_PROJECT_PUBLIC_KEY=[Project API Key starting &#39;phc*&#39;]</code></li>
</ul>
<ol start="5" dir="auto">
<li>Add a <code>STRIPE_SECRET_KEY</code> from the Stripe admin interface, and then run <code>npm run -w @carbon/stripe register:stripe</code> to get a <code>STRIP_WEBHOOK_SECRET</code></li>
</ol>
<ul dir="auto">
<li><code>STRIPE_SECRET_KEY=&#34;sk_test_*************&#34;</code></li>
<li><code>STRIP_WEBHOOK_SECRET=&#34;whsec_************&#34;</code></li>
</ul>
<p dir="auto">Then you can run the following:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ npm run db:build     # run db migrations and seed script
$ npm run build        # build the packages"><pre>$ npm run db:build     <span><span>#</span> run db migrations and seed script</span>
$ npm run build        <span><span>#</span> build the packages</span></pre></div>
<p dir="auto">Finally, start the apps and packages:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ npm run dev
$ npm run dev:mes        # npm run dev in all apps &amp; packages"><pre>$ npm run dev
$ npm run dev:mes        <span><span>#</span> npm run dev in all apps &amp; packages</span></pre></div>
<p dir="auto">You can now sign in with:</p>
<p dir="auto">username: <a href="mailto:your-email@address.com">your-email@address.com</a>
password: carbon</p>
<p dir="auto">After installation you should be able run the apps locally.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Application</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>ERP</td>
<td><a href="http://localhost:3000" rel="nofollow">http://localhost:3000</a></td>
</tr>
<tr>
<td>MES</td>
<td><a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a></td>
</tr>
<tr>
<td>Academy</td>
<td><a href="http://localhost:4111" rel="nofollow">http://localhost:4111</a></td>
</tr>
<tr>
<td>Starter</td>
<td><a href="http://localhost:4000" rel="nofollow">http://localhost:4000</a></td>
</tr>
<tr>
<td>Postgres</td>
<td>postgresql://postgres:postgres@localhost:54322/postgres</td>
</tr>
<tr>
<td>Supabase Studio</td>
<td><a href="http://localhost:54323/project/default" rel="nofollow">http://localhost:54323/project/default</a></td>
</tr>
<tr>
<td>Mailpit</td>
<td><a href="http://localhost:54324" rel="nofollow">http://localhost:54324</a></td>
</tr>
<tr>
<td>Edge Functions</td>
<td><a href="http://localhost:54321/functions/v1/%3Cfunction-name%3E" rel="nofollow">http://localhost:54321/functions/v1/</a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">To kill the database containers in a non-recoverable way, you can run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ npm run db:kill   # stop and delete all database containers"><pre>$ npm run db:kill   <span><span>#</span> stop and delete all database containers</span></pre></div>
<p dir="auto">To restart and reseed the database, you can run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ npm run db:build # runs db:kill, db:start, and setup"><pre>$ npm run db:build <span><span>#</span> runs db:kill, db:start, and setup</span></pre></div>
<p dir="auto">To run a particular application, use the <code>-w workspace</code> flag.</p>
<p dir="auto">For example, to run test command in the <code>@carbon/react</code> package you can run:</p>
<div data-snippet-clipboard-copy-content="$ npm run test -w @carbon/react"><pre><code>$ npm run test -w @carbon/react
</code></pre></div>

<p dir="auto">The API documentation is located in the ERP app at <code>${ERP}/x/api/js/intro</code>. It is auto-generated based on changes to the database.</p>
<p dir="auto">There are two ways to use the API:</p>
<ol dir="auto">
<li>From another codebase using a supabase client library:</li>
</ol>
<ul dir="auto">
<li><a href="https://supabase.com/docs/reference/javascript/introduction" rel="nofollow">Javascript</a></li>
<li><a href="https://supabase.com/docs/reference/dart/introduction" rel="nofollow">Flutter</a></li>
<li><a href="https://supabase.com/docs/reference/python/introduction" rel="nofollow">Python</a></li>
<li><a href="https://supabase.com/docs/reference/csharp/introduction" rel="nofollow">C#</a></li>
<li><a href="https://supabase.com/docs/reference/swift/introduction" rel="nofollow">Swift</a></li>
<li><a href="https://supabase.com/docs/reference/kotlin/introduction" rel="nofollow">Kotlin</a></li>
</ul>
<ol start="2" dir="auto">
<li>From within the codebase using our packages.</li>
</ol>

<p dir="auto">Navigate to settings in the ERP to generate an API key. If you&#39;re self-hosting you can also use the supabase service key instead of the public key for root access. In that case you don&#39;t needto include the <code>carbon-key</code> header.</p>
<div dir="auto" data-snippet-clipboard-copy-content="import { Database } from &#34;@carbon/database&#34;;
import { createClient } from &#34;@supabase/supabase-js&#34;;

const apiKey = process.env.CARBON_API_KEY;
const apiUrl = process.env.CARBON_API_URL;
const publicKey = process.env.CARBON_PUBLIC_KEY;

const carbon = createClient&lt;Database&gt;(apiUrl, publicKey, {
  global: {
    headers: {
      &#34;carbon-key&#34;: apiKey,
    },
  },
});

// returns items from the company associated with the api key
const { data, error } = await carbon.from(&#34;item&#34;).select(&#34;*&#34;);"><pre><span>import</span> <span>{</span> <span>Database</span> <span>}</span> <span>from</span> <span>&#34;@carbon/database&#34;</span><span>;</span>
<span>import</span> <span>{</span> <span>createClient</span> <span>}</span> <span>from</span> <span>&#34;@supabase/supabase-js&#34;</span><span>;</span>

<span>const</span> <span>apiKey</span> <span>=</span> <span>process</span><span>.</span><span>env</span><span>.</span><span>CARBON_API_KEY</span><span>;</span>
<span>const</span> <span>apiUrl</span> <span>=</span> <span>process</span><span>.</span><span>env</span><span>.</span><span>CARBON_API_URL</span><span>;</span>
<span>const</span> <span>publicKey</span> <span>=</span> <span>process</span><span>.</span><span>env</span><span>.</span><span>CARBON_PUBLIC_KEY</span><span>;</span>

<span>const</span> <span>carbon</span> <span>=</span> <span>createClient</span><span>&lt;</span><span>Database</span><span>&gt;</span><span>(</span><span>apiUrl</span><span>,</span> <span>publicKey</span><span>,</span> <span>{</span>
  <span>global</span>: <span>{</span>
    <span>headers</span>: <span>{</span>
      <span>&#34;carbon-key&#34;</span>: <span>apiKey</span><span>,</span>
    <span>}</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>)</span><span>;</span>

<span>// returns items from the company associated with the api key</span>
<span>const</span> <span>{</span> data<span>,</span> error <span>}</span> <span>=</span> <span>await</span> <span>carbon</span><span>.</span><span>from</span><span>(</span><span>&#34;item&#34;</span><span>)</span><span>.</span><span>select</span><span>(</span><span>&#34;*&#34;</span><span>)</span><span>;</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="import { getCarbonServiceRole } from &#34;@carbon/auth&#34;;
const carbon = getCarbonServiceRole();

// returns all items across companies
const { data, error } = await carbon.from(&#34;item&#34;).select(&#34;*&#34;);

// returns items from a specific company
const companyId = &#34;xyz&#34;;
const { data, error } = await carbon
  .from(&#34;item&#34;)
  .select(&#34;*&#34;)
  .eq(&#34;companyId&#34;, companyId);"><pre><span>import</span> <span>{</span> <span>getCarbonServiceRole</span> <span>}</span> <span>from</span> <span>&#34;@carbon/auth&#34;</span><span>;</span>
<span>const</span> <span>carbon</span> <span>=</span> <span>getCarbonServiceRole</span><span>(</span><span>)</span><span>;</span>

<span>// returns all items across companies</span>
<span>const</span> <span>{</span> data<span>,</span> error <span>}</span> <span>=</span> <span>await</span> <span>carbon</span><span>.</span><span>from</span><span>(</span><span>&#34;item&#34;</span><span>)</span><span>.</span><span>select</span><span>(</span><span>&#34;*&#34;</span><span>)</span><span>;</span>

<span>// returns items from a specific company</span>
<span>const</span> <span>companyId</span> <span>=</span> <span>&#34;xyz&#34;</span><span>;</span>
<span>const</span> <span>{</span> data<span>,</span> error <span>}</span> <span>=</span> <span>await</span> <span>carbon</span>
  <span>.</span><span>from</span><span>(</span><span>&#34;item&#34;</span><span>)</span>
  <span>.</span><span>select</span><span>(</span><span>&#34;*&#34;</span><span>)</span>
  <span>.</span><span>eq</span><span>(</span><span>&#34;companyId&#34;</span><span>,</span> <span>companyId</span><span>)</span><span>;</span></pre></div>
</article></div></div>
  </body>
</html>
