<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://vitonsky.net/blog/2025/05/17/language-detection/">Original</a>
    <h1>Don&#39;t guess my language</h1>
    
    <div id="readability-page-1" class="page"><div data-astro-cid-3hkc47wh="">  <p>If you’re still using IP geolocation to decide what language to show, stop screwing around. It’s a broken assumption dressed up as a feature.</p>
<p><img src="https://vitonsky.net/_astro/the-dreamers-2003.DK9vJg4z_Z20m2N3.webp" alt="" width="1564" height="1030" loading="lazy" decoding="async"/></p>
<p>IP tells you where the request comes from, that’s it. It doesn’t tell you what language the user wants, speaks, or even understands. It fails all the time — VPNs, travel, people living abroad, countries with multiple official languages. This isn’t cleverness, it gives outright annoyance.</p>
<h2 id="country-is-not-language" data-astro-cid-qrg3z7hn="true"><a href="#country-is-not-language" data-astro-cid-qrg3z7hn="">  Country is Not Language  </a></h2> 
<p>There’s no 1:1 mapping. Belgium has three official languages, Switzerland has four, India has 22, Canada is officially bilingual and unofficially multilingual. Users could live in these places, travel through them, or have nothing to do with them besides routing traffic through there. So what are you doing forcing the UI into one language just because some geo-IP database told you what country the IP’s from?</p>
<p>You’re making assumptions on bad data, that’s not clever engineering, that’s laziness pretending to be UX.</p>
<p>No, “but the big websites do it” doesn’t make it right. You’re not a cargo cult. Do it right or don’t do it at all.</p>
<p>Personally, I’m an active user of VPN, and every time I go to Google with an enabled VPN, I can’t understand anything since there is a random language used, just because of IP rotation by my VPN provider.</p>
 
<p>Every browser sends an <code>Accept-Language</code> header. It tells you what language the user prefers, not based on location, not based on IP, based on their OS or browser config. And yes, users can tweak it if they care enough.</p>
<p>It looks like this: <code>Accept-Language: en-US,en;q=0.9,de;q=0.8</code></p>
<p>That’s your signal, use it. It’s accurate, it’s free, it’s already there, no licensing, no guesswork, no maintenance.</p>
<p>You don’t override screen resolution or color scheme with your own guess — so why do it with language?</p>
<h2 id="and-when-you-dont-listen" data-astro-cid-qrg3z7hn="true"><a href="#and-when-you-dont-listen" data-astro-cid-qrg3z7hn="">  And When You Don’t Listen?  </a></h2> 
<p>You serve English to a French user in Germany, you give Dutch to someone in Brussels who reads French, you give Chinese to someone using a Hong Kong VPN who doesn’t speak a word of it. Users get annoyed, some leave, some dig through the UI to fix your mess.</p>
<p>All of this because you trusted a sketchy IP database over the browser’s own header.</p>
<h2 id="heres-the-only-reasonable-approach" data-astro-cid-qrg3z7hn="true"><a href="#heres-the-only-reasonable-approach" data-astro-cid-qrg3z7hn="">  Here’s the Only Reasonable Approach  </a></h2> 
<ul>
<li>Read <code>Accept-Language</code></li>
<li>Respect it</li>
<li>Let the user change it if needed (and remember that choice with a cookie or URL param)</li>
<li>If you want to use GeoIP, fine — but only for currency, shipping, legal stuff, never for language</li>
</ul>
<p>If your software is meant for real people, you have no business second-guessing their preferences — get it right or don’t bother.</p>  </div></div>
  </body>
</html>
