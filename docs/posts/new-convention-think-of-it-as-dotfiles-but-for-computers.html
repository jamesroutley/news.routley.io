<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ghuntley.com/slash-new/">Original</a>
    <h1>/new convention: think of it as ‚Äúdotfiles‚Äù but ‚Äúfor computers‚Äù</h1>
    
    <div id="readability-page-1" class="page"><div>
            <p>Earlier last year I added a <em>/new</em> page to my website at <a href="https://ghuntley.com/new/">https://ghuntley.com/new/</a> as a productivity shortcut and partly out of necessity of doing software development from an iPad. </p><figure><a href="https://ghuntley.com/anywhere/"><div><p>Reflections on software development from anywhere on an iPad</p><p>The Macbook Pro M1 is the software development laptop of choice yet I love my iPad considerably more. I‚Äôm all in with my thin client for hipsters. Here‚Äôs what I‚Äôve learned over the months and how my baremetal homelab in the sky is setup.</p><p><img src="https://ghuntley.com/favicon.png" alt=""/><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/2021/10/E95FF739-BA35-4EDA-8B56-D7A43864967B.jpeg" alt=""/></p></a></figure><p>It&#39;s not actually a &#34;page&#34; as per say, it&#39;s a redirect to the following URL <a href="https://gitpod.io#github.com/ghuntley/new">https://gitpod.io#github.com/ghuntley/new</a> which provides a temporary ephemeral computer via Gitpod that is customised to my liking. It&#39;s a simple link, easy to type, easy to remember and it get&#39;s typed often. </p><p>Think of it as &#34;dotfiles&#34; but &#34;for computers&#34;. Zach Holman authored <a href="https://zachholman.com/2010/08/dotfiles-are-meant-to-be-forked/">Dotfiles are meant to be forked</a> back in 2010 and that blog post had a profound impact on my career as it was my first pull-request and gateway into the wonderful world of GitHub. </p><figure><a href="https://zachholman.com/2010/08/dotfiles-are-meant-to-be-forked/"><div><p>Dotfiles Are Meant to Be Forked</p><p>Written pieces, talks, and other bits by Zach Holman.</p><p><img src="https://zachholman.com/apple-touch-icon.png" alt=""/><span>Zach Holman!</span><span>Zach Holman</span></p></div><p><img src="https://zachholman.com/images/front.jpg" alt=""/></p></a></figure><p>By taking lessons learned from the infrastructure-as-code movement and upgrading the dotfiles pattern into full blown Docker images then utilising products such as <a href="https://www.gitpod.io/">Gitpod</a> to consume, build and execute the <code>Dockerfile</code> then I no longer need to worry about the security of my endpoint when playing with open-source software created by complete internet randoms. </p><figure><a href="https://ghuntley.com/sudo-rm-rf/"><div><p>$ sudo rm -rf / === npm install</p><p>In what seems like a long time ago, in part because it is, I learned thecatastrophic capabilities of this command the hard way and I‚Äôm sure folks myvintage have similar stories as it‚Äôs essentially a right of passage in thesysadmin world. Back in 1996, I was 14</p><p><img src="https://ghuntley.com/favicon.png" alt=""/><span>Geoffrey Huntley</span><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/2021/11/2021-11-09_14-31-50.png" alt=""/></p></a></figure><p>Each new environment is sandboxed and completely disposable - freeing me of concerns of accidentally bricking my local computer, open-source supply chain attacks or a desktop folder full of junk source control checkouts. These days instead of opening a new Windows Terminal, iTerm2 or Blink session I head to my <a href="https://ghuntley.com/new/">/new</a>. </p><figure><a href="https://github.com/ghuntley/new"><div><p>GitHub - ghuntley/new: Ephemeral terminals in the sky</p><p>Ephemeral terminals in the sky. Contribute to ghuntley/new development by creating an account on GitHub.</p><p><img src="https://github.com/fluidicon.png" alt=""/><span>GitHub</span><span>ghuntley</span></p></div><p><img src="https://opengraph.githubassets.com/75fa55665982b8a57ed5717bcf5ca4f573c5b150a5aa356517f4f588235a775b/ghuntley/new" alt=""/></p></a><figcaption>source code to my personalised ephemeral computer</figcaption></figure><p>Above you&#39;ll find the source code to my personalised ephemeral computer which uses nix (because <a href="https://twitter.com/mitchellh/status/1491102567296040961">really good reasons</a>) but if nix isn&#39;t your thing then I encourage you to roll your own. There are three components to a /new:</p><h3 id="1-gitpodyml">1) .gitpod.yml</h3><figure><pre><code>## The &#39;image&#39; section defines which Docker image Gitpod should use. 
##
## By default, Gitpod uses a standard Docker Image called
## &#39;workspace-full&#39; which can be found at
## &#39;https://github.com/gitpod-io/workspace-images&#39;

image:
  file: Dockerfile

## The &#39;tasks&#39; section defines how Gitpod prepares and builds
## this project or how Gitpod can start development servers.
##
## With Gitpod, there are three types of tasks:
##
## - before: Use this for tasks that need to run before init
##           and before command. 
## - init:   Use this to configure prebuilds of heavy-lifting
##           tasks such as downloading dependencies or compiling
##           source code.
## - command: Use this to start an application when the workspace
##            starts.

tasks:
  - name: nix
    command: |
      direnv allow
  - name: tailscaled
    command: |
      sudo tailscaled
  - name: tailscale
    command: |
      sudo -E tailscale up --hostname &#34;gitpod-${GITPOD_WORKSPACE_ID}&#34; \
                           --authkey &#34;${TAILSCALE_AUTHKEY}&#34;</code></pre><figcaption>https://www.gitpod.io/docs/references/gitpod-yml</figcaption></figure><h3 id="2-dockerfile">2) Dockerfile</h3><figure><pre><code>FROM ubuntu

# https://twitter.com/mitchellh/status/1491102567296040961
RUN sh &lt;(curl -L https://nixos.org/nix/install) --daemon


</code></pre><figcaption>https://docs.docker.com/engine/reference/builder/</figcaption></figure><h3 id="3-webserver-redirect">3) Webserver redirect</h3><p>If the computer definition is hosted at <code>https://github.com/ghuntley/new</code> then <code>https://gitpod.io/#https://github.com/ghuntley/new</code> is the link that would be the redirect destination.</p><figure><blockquote><p lang="en" dir="ltr">‚úçÔ∏è Earlier last year I added a /new page to my website. </p>‚Äî GEOFF ü¶©üéº (@GeoffreyHuntley) <a href="https://twitter.com/GeoffreyHuntley/status/1531147863702794240?ref_src=twsrc%5Etfw">May 30, 2022</a></blockquote>

</figure>
          </div></div>
  </body>
</html>
