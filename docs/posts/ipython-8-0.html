<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.jupyter.org/release-of-ipython-8-0-6e034ff122ef?gi=5efbb52d543e">Original</a>
    <h1>IPython 8.0</h1>
    
    <div id="readability-page-1" class="page"><div><div><section><div><div><div><div><div><div><p><a href="https://medium.com/@mbussonn?source=post_page-----6e034ff122ef-----------------------------------" rel="noopener follow"><img alt="Matthias Bussonnier" src="https://miro.medium.com/fit/c/96/96/0*DhwVXncGYUIJdn3B.png" width="48" height="48"/></a></p></div></div></div></div><p id="9d2d">IPython is a powerful Python REPL that gives you tab completion, better tracebacks, multiline editing, and several useful features on top of pure Python Scripts. It is also the library that powers the Jupyter Kernel via the IPykernel.</p><p id="bcb1">Today I am pleased to announce the release of IPython 8.0, which has been long in the making and arrived a bit over three years after the 7.0 release.</p><p id="e53f">I also suggest to read the <a href="https://labs.quansight.org/blog/2022/01/ipython-8.0-lessons-learned-maintaining-software/" rel="noopener ugc nofollow" target="_blank">companion blog post</a> on Quansight-Labs site that goes into some technical details on how we removed some old code.</p><p id="28e5">EDIT: You can also ask questions/comments on the jupyter <a href="https://discourse.jupyter.org/t/ipython-8-0-0-out/12554" rel="noopener ugc nofollow" target="_blank">discourse</a>, or <a href="https://news.ycombinator.com/item?id=29906774" rel="noopener ugc nofollow" target="_blank">read the discussion on HN</a></p><p id="dc43"><strong>Many new features</strong></p><p id="39a9">This major release comes with many improvements to the existing codebase and several new features. These new features are code reformatting with Black in the CLI, ghost suggestions, and better tracebacks which highlight the error node, thus making complex expressions easier to debug (see below).</p><figure><div role="button" tabindex="0"><p><img alt="" src="https://miro.medium.com/max/1400/1*2_TYKwP_RInA4QVp9UhMhw.png" width="700" height="747" role="presentation"/></p></div><figcaption>Tracebacks now highlight in which AST node the error occurs. In complex code, this helps to quickly narrow down what causes an error. Here we also turn on `xmode verbose` to see values of local variables (xmode verbose is disabled by default for security reasons as it could leak secrets, but is highly recommended)</figcaption></figure><p id="eab5">But really, if you want to read about all the new features in-depth, we recommend you spend some time <a href="https://ipython.readthedocs.io/en/stable/whatsnew/version8.html#ipython-8-0" rel="noopener ugc nofollow" target="_blank">reading the what’s new</a> and the list of features in <code>7.x</code>.</p><h2 id="306e">Moving forward by shedding weight</h2><p id="a7a1">While IPython 8.0 has many new features described in <a href="https://ipython.readthedocs.io/en/stable/whatsnew/version8.html#ipython-8-0" rel="noopener ugc nofollow" target="_blank">the what’s new section</a>, the majority of changes that demanded a bump in major version numbers are removals.</p><p id="06ce">IPython was created more than two decades ago by Fernando Pérez while procrastinating on his graduation. Even if a few lines from this period remain, it was time to remove a large number of deprecated and unused code in the IPython code base and drop old dependencies (like nose) in favor of more recent ones (pytest).</p><p id="080c">Thanks to NumFOCUS <a href="https://numfocus.org/programs/small-development-grants" rel="noopener ugc nofollow" target="_blank">Small Developer Grant</a>, we hired <a href="https://github.com/Kojoley" rel="noopener ugc nofollow" target="_blank">Nikita Kniazev (@Kojoley)</a> to help us with some of the heavy lifting. Nikita did a fantastic job updating our codebase, migrating to pytest, enhancing our coverage, and fixing numerous bugs. I highly recommend contacting them if you need help with C++ and Python projects.</p><p id="f0c6">Some of Nikita’s most notable contributions are:</p><ul><li id="8af7">IPython is no longer reliant on Nose, which has been unmaintained for many years.</li><li id="16a9">Significantly increased IPython coverage.</li><li id="573d">Considerable refactor of areas that were calling into deprecated features.</li></ul><p id="f157">On top of this, IPython 8.0 also comes with the following capabilities:</p><ul><li id="2113">Remove most of the deprecated functions and parameters that were marked as such between IPython 1.0 and 5.0</li><li id="f1f7">Bumped the minimal required Python version to 3.8 (following NEP 29). This means that we now use the native Python top-level async instead of crazy hacks. And we can start to use <code>def fun(a,/,b=None):</code> syntax for positional only arguments.</li></ul><p id="d374">Nikita also went well beyond the scope of work we gave them by suggesting more robust and often simpler code patterns.</p><p id="75b9">In total, this allowed us, despite all the added features, added type annotations and added tests, to decrease the size of the codebase from 37 500 LOC across 348 files to 36 100 across 294 files. We hope that this reduction in the codebase size combined with work on speeding the startup of the CLI will make IPython easier to use and contribute to.</p><p id="17e9">Some advice on how to do that same are on the <a href="https://labs.quansight.org/blog/2022/01/ipython-8.0-lessons-learned-maintaining-software/" rel="noopener ugc nofollow" target="_blank">companion blog post</a> and the Quansight-Labs site.</p><h2 id="855e">Moving toward pyproject.toml</h2><p id="eff3">Another place in IPython that has seen many changes in the build process. We now use <code>pyproject.toml</code>to have a declarative build. We still require setuptools and have <code>setup.py</code> files right now, but we are working towards removing/simplifying them soon.</p><p id="53f3">IPython’s wheels and sdist can now be built with `python -m build` instead of invoking <code>setup.py</code> directly.</p><p id="a3a6">Our process still needs manual setup of SOURCE_DATE_EPOCH and repacking of the <code>sdist</code> wheel to obtain <a href="https://reproducible-builds.org/" rel="noopener ugc nofollow" target="_blank">reproducible builds</a>. We encourage you to get the git repository, build it yourself, and get a byte-for-byte identical artifacts.</p><h2 id="0299">Monthly Release and following NEP 29</h2><p id="3306">We strongly believe that predictability is key to adoption and trust in IPython. In particular, in business settings, it is critical to plan ahead while rapidly receiving bug fixes. This is why for IPython 8.0 we’ll continue to do minor monthly releases on the last Friday of each month as long at it’s reasonable and does not impact maintainers life too much.</p><p id="e66d">We’ll still publish a few 7.x releases with critical bug fixes, but starting last Friday of this month, you will start to see stable releases of 8.x.</p><p id="23fe">We also now follow <a href="https://numpy.org/neps/nep-0029-deprecation_policy.html" rel="noopener ugc nofollow" target="_blank">NEP 29</a>, meaning that IPython 8.0 is not only compatible with NumPy 1.19+ and Python 3.8+. But our future Python support schedule is predictably aligned with all other libraries following NEP 29.</p><h2 id="64fd">Looking forward to your contributions</h2><p id="51da">Don’t think IPython is too hard to contribute to or has no missing features. We try to keep a list of beginner-friendly issues, but we really want your feedback and your ideas. In the meantime, have fun with this new release that you can install with :</p><pre><span id="e373">pip install ipython ipykernel --upgrade</span></pre><p id="d3ff">or</p><pre><span id="fc4e">conda update ipython ipykernel</span></pre><p id="a87a">(updating ipykernel may not be necessary for you, but we recommend it).</p><h2 id="cca5">Thanks</h2><p id="7faa">Thanks to Tania Allard and Eric Charles for review , Quansight Labs and <a href="https://www.quansight.com/" rel="noopener ugc nofollow" target="_blank">Quansight</a> (my employer) for all the open-source work I can do. Of course, thanks to all the contributors to the IPython and Jupyter community, and in particular <a href="https://github.com/MrMino" rel="noopener ugc nofollow" target="_blank">MrMino</a> who recently joined as an IPython core dev..</p></div></div></section></div></div></div>
  </body>
</html>
