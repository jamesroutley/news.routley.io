<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/babashka/nbb">Original</a>
    <h1>Clojure Scripting on Node.js</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/babashka/nbb/blob/main/logo/nbb-with-name-green.svg"><img src="https://github.com/babashka/nbb/raw/main/logo/nbb-with-name-green.svg" width="250px"/></a></p>
<p dir="auto">Not <a href="https://babashka.org/" rel="nofollow">babashka</a>. Node.js babashka!?</p>
<p dir="auto">Ad-hoc CLJS scripting on Node.js.</p>
<h2 dir="auto"><a id="user-content-try-it-out" href="#try-it-out" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Try it out</h2>
<p dir="auto">Run <code>npx nbb</code> to run nbb on your own machine, or try it in a browser on
<a href="https://replit.com/@eccentric-j/Node-Babashka-With-Redefs-Examples#src/cli/core.cljs" rel="nofollow">Replit</a>!</p>
<h2 dir="auto"><a id="user-content-goals-and-features" href="#goals-and-features" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Goals and features</h2>
<p dir="auto">Nbb&#39;s main goal is to make it <em>easy</em> to get started with ad hoc CLJS scripting
on Node.js.</p>
<p dir="auto">Additional goals and features are:</p>
<ul dir="auto">
<li>Fast startup without relying on a custom version of Node.js.</li>
<li>Small artifact (current size is around 1.2MB).</li>
<li>First class <a href="#macros">macros</a>.</li>
<li>Support building small TUI apps using <a href="#reagent">Reagent</a>.</li>
<li>Complement <a href="https://babashka.org/" rel="nofollow">babashka</a> with libraries from the Node.js ecosystem.</li>
</ul>
<h2 dir="auto"><a id="user-content-community" href="#community" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Community</h2>
<ul dir="auto">
<li>Submit bugs at <a href="https://github.com/borkdude/nbb/issues">Github Issues</a>.</li>
<li>Join <a href="https://github.com/borkdude/nbb/discussions">Github Discussions</a> for proposing ideas, show and tell and Q&amp;A.</li>
<li>Join the <a href="https://app.slack.com/client/T03RZGPFR/C029PTWD3HR" rel="nofollow">channel</a> on Clojurians Slack.</li>
<li>Follow news or tweet using the Twitter hashtag
<a href="https://twitter.com/hashtag/nbbjs?f=live" rel="nofollow">#nbbjs</a>.</li>
</ul>
<h2 dir="auto"><a id="user-content-requirements" href="#requirements" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Requirements</h2>
<p dir="auto">Nbb requires Node.js v14 or newer.</p>
<h2 dir="auto"><a id="user-content-how-does-this-tool-work" href="#how-does-this-tool-work" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How does this tool work?</h2>
<p dir="auto">CLJS code is evaluated through <a href="https://github.com/borkdude/sci">SCI</a>, the same
interpreter that powers <a href="https://babashka.org/" rel="nofollow">babashka</a>. Because SCI works
with advanced compilation, the bundle size, especially when combined with other
dependencies, is smaller than what you get with self-hosted CLJS. That makes
startup faster. The trade-off is that execution is less performant and that only
a subset of CLJS is available (e.g. no deftype, yet).</p>
<h2 dir="auto"><a id="user-content-usage" href="#usage" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">Install <code>nbb</code> from NPM:</p>

<p dir="auto">Omit <code>-g</code> for a local install.</p>
<p dir="auto">Try out an expression:</p>

<p dir="auto">And then install some other NPM libraries to use in the script. E.g. with the following <code>package.json</code>:</p>
<div data-snippet-clipboard-copy-content="{
  &#34;dependencies&#34;: {
    &#34;csv-parse&#34;: &#34;^5.0.4&#34;,
    &#34;shelljs&#34;: &#34;^0.8.5&#34;,
    &#34;term-size&#34;: &#34;^3.0.1&#34;,
    &#34;zx&#34;: &#34;^5.3.0&#34;
  }
}"><pre>{
  <span>&#34;dependencies&#34;</span>: {
    <span>&#34;csv-parse&#34;</span>: <span><span>&#34;</span>^5.0.4<span>&#34;</span></span>,
    <span>&#34;shelljs&#34;</span>: <span><span>&#34;</span>^0.8.5<span>&#34;</span></span>,
    <span>&#34;term-size&#34;</span>: <span><span>&#34;</span>^3.0.1<span>&#34;</span></span>,
    <span>&#34;zx&#34;</span>: <span><span>&#34;</span>^5.3.0<span>&#34;</span></span>
  }
}</pre></div>
<p dir="auto">Create a script which uses the NPM libraries:</p>
<div data-snippet-clipboard-copy-content="(ns example
  (:require [&#34;csv-parse/sync$default&#34; :as csv]
            [&#34;fs&#34; :as fs]
            [&#34;path&#34; :as path]
            [&#34;shelljs$default&#34; :as sh]
            [&#34;term-size$default&#34; :as term-size]
            [&#34;zx&#34; :refer [$]]
            [&#34;zx$fs&#34; :as zxfs]
            [nbb.core :refer [*file*]]))

(prn (path/resolve &#34;.&#34;))

(prn (term-size))

(println (count (str (fs/readFileSync *file*))))

(prn (sh/ls &#34;.&#34;))

(prn (csv/parse &#34;foo,bar&#34;))

(prn (zxfs/existsSync *file*))

($ #js [&#34;ls&#34;])"><pre>(<span>ns</span> <span>example</span>
  (<span>:require</span> [<span><span>&#34;</span>csv-parse/sync$default<span>&#34;</span></span> <span>:as</span> csv]
            [<span><span>&#34;</span>fs<span>&#34;</span></span> <span>:as</span> fs]
            [<span><span>&#34;</span>path<span>&#34;</span></span> <span>:as</span> path]
            [<span><span>&#34;</span>shelljs$default<span>&#34;</span></span> <span>:as</span> sh]
            [<span><span>&#34;</span>term-size$default<span>&#34;</span></span> <span>:as</span> term-size]
            [<span><span>&#34;</span>zx<span>&#34;</span></span> <span>:refer</span> [$]]
            [<span><span>&#34;</span>zx$fs<span>&#34;</span></span> <span>:as</span> zxfs]
            [nbb.core <span>:refer</span> [*file*]]))

(<span>prn</span> (<span>path/resolve</span> <span><span>&#34;</span>.<span>&#34;</span></span>))

(<span>prn</span> (<span>term-size</span>))

(<span>println</span> (<span>count</span> (<span>str</span> (<span>fs/readFileSync</span> *file*))))

(<span>prn</span> (<span>sh/ls</span> <span><span>&#34;</span>.<span>&#34;</span></span>))

(<span>prn</span> (<span>csv/parse</span> <span><span>&#34;</span>foo,bar<span>&#34;</span></span>))

(<span>prn</span> (<span>zxfs/existsSync</span> *file*))

(<span>$</span> #js [<span><span>&#34;</span>ls<span>&#34;</span></span>])</pre></div>
<p dir="auto">Call the script:</p>
<div data-snippet-clipboard-copy-content="$ nbb script.cljs
&#34;/private/tmp/test-script&#34;
#js {:columns 216, :rows 47}
510
#js [&#34;node_modules&#34; &#34;package-lock.json&#34; &#34;package.json&#34; &#34;script.cljs&#34;]
#js [#js [&#34;foo&#34; &#34;bar&#34;]]
true
$ ls
node_modules
package-lock.json
package.json
script.cljs"><pre><code>$ nbb script.cljs
&#34;/private/tmp/test-script&#34;
#js {:columns 216, :rows 47}
510
#js [&#34;node_modules&#34; &#34;package-lock.json&#34; &#34;package.json&#34; &#34;script.cljs&#34;]
#js [#js [&#34;foo&#34; &#34;bar&#34;]]
true
$ ls
node_modules
package-lock.json
package.json
script.cljs
</code></pre></div>
<h2 dir="auto"><a id="user-content-what-does-default-mean" href="#what-does-default-mean" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What does $default mean?</h2>
<p dir="auto">The <code>:default foo</code> syntax is shadow-cljs only and not supported by vanilla CLJS
(and nbb doesn&#39;t support it either). The <code>$default</code> syntax is a recent addition
to CLJS and should work in shadow-cljs too: this is why nbb supports it too.</p>
<p dir="auto">See
<a href="https://clojurescript.org/news/2021-04-06-release#_library_property_namespaces" rel="nofollow">here</a>
for more info on that syntax.</p>
<p dir="auto">Nbb implements <code>:require</code> via dynamic import (<code>import()</code> in JS). This is why you
need to add <code>$default</code> to imports when you want to import the default object
from a module.</p>
<h2 dir="auto"><a id="user-content-macros" href="#macros" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Macros</h2>
<p dir="auto">Nbb has first class support for macros: you can define them right inside your <code>.cljs</code> file, like you are used to from JVM Clojure. Consider the <code>plet</code> macro to make working with promises more palatable:</p>
<div data-snippet-clipboard-copy-content="(defmacro plet
  [bindings &amp; body]
  (let [binding-pairs (reverse (partition 2 bindings))
        body (cons &#39;do body)]
    (reduce (fn [body [sym expr]]
              (let [expr (list &#39;.resolve &#39;js/Promise expr)]
                (list &#39;.then expr (list &#39;clojure.core/fn (vector sym)
                                        body))))
            body
            binding-pairs)))"><pre>(<span>defmacro</span> <span>plet</span>
  [bindings &amp; body]
  (<span>let</span> [binding-pairs (<span>reverse</span> (<span>partition</span> <span>2</span> bindings))
        body (<span>cons</span> &#39;do body)]
    (<span>reduce</span> (<span>fn</span> [body [sym expr]]
              (<span>let</span> [expr (<span>list</span> &#39;.resolve &#39;js/Promise expr)]
                (<span>list</span> &#39;.then expr (<span>list</span> &#39;clojure.core/fn (<span>vector</span> sym)
                                        body))))
            body
            binding-pairs)))</pre></div>
<p dir="auto">Using this macro we can make async code look more like sync code. Consider this puppeteer example:</p>
<div data-snippet-clipboard-copy-content="(-&gt; (.launch puppeteer)
      (.then (fn [browser]
               (-&gt; (.newPage browser)
                   (.then (fn [page]
                            (-&gt; (.goto page &#34;https://clojure.org&#34;)
                                (.then #(.screenshot page #js{:path &#34;screenshot.png&#34;}))
                                (.catch #(js/console.log %))
                                (.then #(.close browser)))))))))"><pre>(<span>-&gt;</span> (<span>.launch</span> puppeteer)
      (<span>.then</span> (<span>fn</span> [browser]
               (<span>-&gt;</span> (<span>.newPage</span> browser)
                   (<span>.then</span> (<span>fn</span> [page]
                            (<span>-&gt;</span> (<span>.goto</span> page <span><span>&#34;</span>https://clojure.org<span>&#34;</span></span>)
                                (<span>.then</span> #(<span>.screenshot</span> page #js{<span>:path</span> <span><span>&#34;</span>screenshot.png<span>&#34;</span></span>}))
                                (<span>.catch</span> #(<span>js/console.log</span> %))
                                (<span>.then</span> #(<span>.close</span> browser)))))))))</pre></div>
<p dir="auto">Using <code>plet</code> this becomes:</p>
<div data-snippet-clipboard-copy-content="(plet [browser (.launch puppeteer)
       page (.newPage browser)
       _ (.goto page &#34;https://clojure.org&#34;)
       _ (-&gt; (.screenshot page #js{:path &#34;screenshot.png&#34;})
             (.catch #(js/console.log %)))]
      (.close browser))"><pre>(<span>plet</span> [browser (<span>.launch</span> puppeteer)
       page (<span>.newPage</span> browser)
       _ (<span>.goto</span> page <span><span>&#34;</span>https://clojure.org<span>&#34;</span></span>)
       _ (<span>-&gt;</span> (<span>.screenshot</span> page #js{<span>:path</span> <span><span>&#34;</span>screenshot.png<span>&#34;</span></span>})
             (<span>.catch</span> #(<span>js/console.log</span> %)))]
      (<span>.close</span> browser))</pre></div>
<p dir="auto">See the <a href="https://github.com/borkdude/nbb/blob/main/examples/puppeteer/example.cljs">puppeteer
example</a>
for the full code.</p>
<p dir="auto">Since v0.0.36, nbb includes <a href="#promesa">promesa</a> which is a library to deal with
promises. The above <code>plet</code> macro is similar to <code>promesa.core/let</code>.</p>
<h2 dir="auto"><a id="user-content-startup-time" href="#startup-time" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Startup time</h2>
<div data-snippet-clipboard-copy-content="$ time nbb -e &#39;(+ 1 2 3)&#39;
6
nbb -e &#39;(+ 1 2 3)&#39;   0.17s  user 0.02s system 109% cpu 0.168 total"><pre>$ time nbb -e &#39;(+ <span>1</span> <span>2</span> <span>3</span>)&#39;
<span>6</span>
nbb -e &#39;(+ <span>1</span> <span>2</span> <span>3</span>)&#39;   <span>0.17</span>s  user <span>0.02</span>s system <span>109</span>% cpu <span>0.168</span> total</pre></div>
<p dir="auto">The baseline startup time for a script is about 170ms seconds on my laptop. When
invoked via <code>npx</code> this adds another 300ms or so, so for faster startup, either
use a globally installed <code>nbb</code> or use <code>$(npm bin)/nbb script.cljs</code> to bypass
<code>npx</code>.</p>
<h2 dir="auto"><a id="user-content-dependencies" href="#dependencies" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Dependencies</h2>
<h3 dir="auto"><a id="user-content-npm-dependencies" href="#npm-dependencies" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>NPM dependencies</h3>
<p dir="auto">Nbb does not depend on any NPM dependencies. All NPM libraries loaded by a
script are resolved relative to that script. When using the <a href="#reagent">Reagent</a>
module, React is resolved in the same way as any other NPM library.</p>
<h3 dir="auto"><a id="user-content-classpath" href="#classpath" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Classpath</h3>
<p dir="auto">To load <code>.cljs</code> files from local paths or dependencies, you can use the
<code>--classpath</code> argument. The current dir is added to the classpath automatically.
So if there is a file <code>foo/bar.cljs</code> relative to your current dir, then you can
load it via <code>(:require [foo.bar :as fb])</code>. Note that <code>nbb</code> uses the same naming
conventions for namespaces and directories as other Clojure tools: <code>foo-bar</code> in
the namespace name becomes <code>foo_bar</code> in the directory name.</p>
<p dir="auto">To load dependencies from the Clojure ecosystem,
you can use the Clojure CLI or babashka to download them and produce a classpath:</p>
<div data-snippet-clipboard-copy-content="$ classpath=&#34;$(clojure -A:nbb -Spath -Sdeps &#39;{:aliases {:nbb {:replace-deps {com.github.seancorfield/honeysql {:git/tag &#34;v2.0.0-rc5&#34; :git/sha &#34;01c3a55&#34;}}}}}&#39;)&#34;"><pre>$ classpath=<span><span>&#34;</span>$(clojure -A:nbb -Spath -Sdeps &#39;{:aliases {:nbb {:replace-deps {com.github.seancorfield/honeysql {:git/tag <span>&#34;</span></span>v2.0.0-rc5<span><span>&#34;</span> :git/sha <span>&#34;</span></span><span>01</span>c3a55<span><span>&#34;</span>}}}}}&#39;)<span>&#34;</span></span></pre></div>
<p dir="auto">and then feed it to the <code>--classpath</code> argument:</p>
<div data-snippet-clipboard-copy-content="$ nbb --classpath &#34;$classpath&#34; -e &#34;(require &#39;[honey.sql :as sql]) (sql/format {:select :foo :from :bar :where [:= :baz 2]})&#34;
[&#34;SELECT foo FROM bar WHERE baz = ?&#34; 2]"><pre>$ nbb --classpath <span><span>&#34;</span>$classpath<span>&#34;</span></span> -e <span><span>&#34;</span>(require &#39;[honey.sql :as sql]) (sql/format {:select :foo :from :bar :where [:= :baz 2]})<span>&#34;</span></span>
[<span><span>&#34;</span>SELECT foo FROM bar WHERE baz = ?<span>&#34;</span></span> <span>2</span>]</pre></div>
<p dir="auto">Currently <code>nbb</code> only reads from directories, not jar files, so you are
encouraged to use git libs. Support for <code>.jar</code> files will be added later. You
can find a workaround for that <a href="https://github.com/babashka/nbb/blob/main/doc/dependencies.md">here</a>.</p>
<h2 dir="auto"><a id="user-content-current-file" href="#current-file" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Current file</h2>
<p dir="auto">The name of the file that is currently being executed is available via
<code>nbb.core/*file*</code> or on the metadata of vars:</p>
<div data-snippet-clipboard-copy-content="(ns foo
  (:require [nbb.core :refer [*file*]]))

(prn *file*) ;; &#34;/private/tmp/foo.cljs&#34;

(defn f [])
(prn (:file (meta #&#39;f))) ;; &#34;/private/tmp/foo.cljs&#34;"><pre>(<span>ns</span> <span>foo</span>
  (<span>:require</span> [nbb.core <span>:refer</span> [*file*]]))

(<span>prn</span> *file*) <span><span>;</span>; &#34;/private/tmp/foo.cljs&#34;</span>

(<span>defn</span> <span>f</span> [])
(<span>prn</span> (<span>:file</span> (<span>meta</span> #&#39;f))) <span><span>;</span>; &#34;/private/tmp/foo.cljs&#34;</span></pre></div>
<h2 dir="auto"><a id="user-content-reagent" href="#reagent" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Reagent</h2>
<p dir="auto">Nbb includes <code>reagent.core</code> which will be lazily loaded when required. You
can use this together with <a href="https://github.com/vadimdemedes/ink">ink</a> to create
a TUI application:</p>

<p dir="auto"><code>ink-demo.cljs</code>:</p>
<div data-snippet-clipboard-copy-content="(ns ink-demo
  (:require [&#34;ink&#34; :refer [render Text]]
            [reagent.core :as r]))

(defonce state (r/atom 0))

(doseq [n (range 1 11)]
  (js/setTimeout #(swap! state inc) (* n 500)))

(defn hello []
  [:&gt; Text {:color &#34;green&#34;} &#34;Hello, world! &#34; @state])

(render (r/as-element [hello]))"><pre>(<span>ns</span> <span>ink-demo</span>
  (<span>:require</span> [<span><span>&#34;</span>ink<span>&#34;</span></span> <span>:refer</span> [render Text]]
            [reagent.core <span>:as</span> r]))

(<span>defonce</span> <span>state</span> (<span>r/atom</span> <span>0</span>))

(<span>doseq</span> [n (<span>range</span> <span>1</span> <span>11</span>)]
  (<span>js/setTimeout</span> #(<span>swap!</span> state inc) (<span>*</span> n <span>500</span>)))

(<span>defn</span> <span>hello</span> []
  [<span>:&gt;</span> Text {<span>:color</span> <span><span>&#34;</span>green<span>&#34;</span></span>} <span><span>&#34;</span>Hello, world! <span>&#34;</span></span> @state])

(<span>render</span> (<span>r/as-element</span> [hello]))</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/babashka/nbb/blob/main/img/ink.gif"><img src="https://github.com/babashka/nbb/raw/main/img/ink.gif" data-animated-image=""/></a></p>
<h2 dir="auto"><a id="user-content-working-with-promises" href="#working-with-promises" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Working with promises</h2>
<h3 dir="auto"><a id="user-content-promesa" href="#promesa" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Promesa</h3>
<p dir="auto">Working with callbacks and promises can become tedious. Since nbb v0.0.36 the
<code>promesa.core</code> namespace is included with the <code>let</code> and <code>do!</code> macros. An example:</p>
<div data-snippet-clipboard-copy-content="(ns prom
  (:require [promesa.core :as p]))

(defn sleep [ms]
  (js/Promise.
   (fn [resolve _]
     (js/setTimeout resolve ms))))

(defn do-stuff
  []
  (p/do!
   (println &#34;Doing stuff which takes a while&#34;)
   (sleep 1000)
   1))

(p/let [a (do-stuff)
        b (inc a)
        c (do-stuff)
        d (+ b c)]
  (prn d))"><pre>(<span>ns</span> <span>prom</span>
  (<span>:require</span> [promesa.core <span>:as</span> p]))

(<span>defn</span> <span>sleep</span> [ms]
  (<span>js/Promise.</span>
   (<span>fn</span> [resolve _]
     (<span>js/setTimeout</span> resolve ms))))

(<span>defn</span> <span>do-stuff</span>
  []
  (<span>p/do!</span>
   (<span>println</span> <span><span>&#34;</span>Doing stuff which takes a while<span>&#34;</span></span>)
   (<span>sleep</span> <span>1000</span>)
   <span>1</span>))

(<span>p/let</span> [a (<span>do-stuff</span>)
        b (<span>inc</span> a)
        c (<span>do-stuff</span>)
        d (<span>+</span> b c)]
  (<span>prn</span> d))</pre></div>
<div data-snippet-clipboard-copy-content="$ nbb prom.cljs
Doing stuff which takes a while
Doing stuff which takes a while
3"><pre>$ nbb prom.cljs
Doing stuff which takes a while
Doing stuff which takes a while
<span>3</span></pre></div>
<p dir="auto">Also see <a href="https://github.com/babashka/nbb/blob/main/doc/api.md#promesa">API docs</a>.</p>
<h3 dir="auto"><a id="user-content-repl" href="#repl" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>REPL</h3>
<p dir="auto">In the REPL it can be convenient to bind the resolved value of promises to a
var. You can do that like this:</p>
<div data-snippet-clipboard-copy-content="(defmacro defp [binding expr]
  `(-&gt; ~expr (.then (fn [val]
                     (def ~binding val)))))

(defp browser (.launch puppeteer #js {:headless false}))
(defp page (.newPage browser))
(.goto page &#34;https://clojure.org&#34;)"><pre>(<span>defmacro</span> <span>defp</span> [<span>binding</span> expr]
  `(-&gt; ~expr (<span>.then</span> (<span>fn</span> [val]
                     (<span>def</span> ~<span>binding</span> <span>val</span>)))))

(<span>defp</span> <span>browser</span> (<span>.launch</span> puppeteer #js {<span>:headless</span> <span>false</span>}))
(<span>defp</span> <span>page</span> (<span>.newPage</span> browser))
(<span>.goto</span> page <span><span>&#34;</span>https://clojure.org<span>&#34;</span></span>)</pre></div>
<h2 dir="auto"><a id="user-content-cljs-bean" href="#cljs-bean" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Cljs-bean</h2>
<p dir="auto">Since nbb v0.1.0 <a href="https://github.com/mfikes/cljs-bean">cljs-bean</a> is available.</p>
<p dir="auto">See the <a href="https://github.com/babashka/nbb/blob/main/examples/cljs-bean/example.cljs">example</a> for an example.</p>
<h2 dir="auto"><a id="user-content-js-interop" href="#js-interop" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Js-interop</h2>
<p dir="auto">Since nbb v0.0.75 <a href="https://github.com/applied-science/js-interop">applied-science/js-interop</a> is available:</p>
<div data-snippet-clipboard-copy-content="(ns example
  (:require [applied-science.js-interop :as j]))

(def o (j/lit {:a 1 :b 2 :c {:d 1}}))

(prn (j/select-keys o [:a :b])) ;; #js {:a 1, :b 2}
(prn (j/get-in o [:c :d])) ;; 1"><pre>(<span>ns</span> <span>example</span>
  (<span>:require</span> [applied-science.js-interop <span>:as</span> j]))

(<span>def</span> <span>o</span> (<span>j/lit</span> {<span>:a</span> <span>1</span> <span>:b</span> <span>2</span> <span>:c</span> {<span>:d</span> <span>1</span>}}))

(<span>prn</span> (<span>j/select-keys</span> o [<span>:a</span> <span>:b</span>])) <span><span>;</span>; #js {:a 1, :b 2}</span>
(<span>prn</span> (<span>j/get-in</span> o [<span>:c</span> <span>:d</span>])) <span><span>;</span>; 1</span></pre></div>
<p dir="auto">Most of this library is supported in nbb, except the following:</p>
<ul dir="auto">
<li>destructuring using <code>:syms</code></li>
<li>property access using <code>.-x</code> notation. In nbb, you must use keywords.</li>
</ul>
<p dir="auto">See the <a href="https://github.com/babashka/nbb/blob/main/examples/js-interop/example.cljs">example</a> of what is currently supported.</p>








































<h2 dir="auto"><a id="user-content-reader-conditionals" href="#reader-conditionals" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Reader conditionals</h2>
<p dir="auto">Nbb supports the following reader conditional features: <code>:org.babashka/nbb</code> and
<code>:cljs</code> in that order of priority:</p>
<div data-snippet-clipboard-copy-content="#?(:org.babashka/nbb 1 :cljs 2) ;;=&gt; 1
#?(:cljs 2 :org.babashka/nbb 1) ;;=&gt; 2"><pre>#?(<span>:org.babashka/nbb</span> <span>1</span> <span>:cljs</span> <span>2</span>) <span><span>;</span>;=&gt; 1</span>
#?(<span>:cljs</span> <span>2</span> <span>:org.babashka/nbb</span> <span>1</span>) <span><span>;</span>;=&gt; 2</span></pre></div>
<h2 dir="auto"><a id="user-content-main-function" href="#main-function" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Main function</h2>
<p dir="auto">It is possible to use the <code>-main</code> function as the software (script) start point when using the <code>m</code> parameter of <code>nbb</code> passing your software namespace.</p>
<div data-snippet-clipboard-copy-content="(ns example)

(defn -main
  [&amp; args]
  (prn &#34;print in -main&#34;))"><pre>(<span>ns</span> <span>example</span>)

(<span>defn</span> <span>-main</span>
  [&amp; args]
  (<span>prn</span> <span><span>&#34;</span>print in -main<span>&#34;</span></span>))</pre></div>
<p dir="auto">Execute:</p>

<h2 dir="auto"><a id="user-content-testing" href="#testing" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Testing</h2>
<p dir="auto">See <a href="https://github.com/babashka/nbb/tree/main/doc/testing">doc/testing</a>.</p>
<h2 dir="auto"><a id="user-content-repl-1" href="#repl-1" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>REPL</h2>
<h3 dir="auto"><a id="user-content-console-repl" href="#console-repl" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Console REPL</h3>
<p dir="auto">To start a console REPL, simply run <code>nbb</code>.</p>
<h3 dir="auto"><a id="user-content-socket-repl" href="#socket-repl" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Socket REPL</h3>
<p dir="auto">To start a socket server REPL, run:</p>
<div data-snippet-clipboard-copy-content="$ nbb socket-repl :port 1337"><pre>$ nbb socket-repl <span>:port</span> <span>1337</span></pre></div>
<h3 dir="auto"><a id="user-content-repl-api" href="#repl-api" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>REPL API</h3>
<p dir="auto">Nbb exposes the <code>nbb.repl</code> namespace to programmatically start a REPL. See
<a href="https://github.com/babashka/nbb/blob/main/doc/api.md#nbbrepl">API</a> for more info. An example:</p>
<div data-snippet-clipboard-copy-content="(ns example
  (:require [nbb.repl :as repl]
            [promesa.core :as p]))

(defn available-in-repl [] :yolo)

(p/do!
 (repl/repl)
 ;; type (available-in-repl) in the REPL and it will return :yolo
 (println &#34;The end&#34;))"><pre>(<span>ns</span> <span>example</span>
  (<span>:require</span> [nbb.repl <span>:as</span> repl]
            [promesa.core <span>:as</span> p]))

(<span>defn</span> <span>available-in-repl</span> [] <span>:yolo</span>)

(<span>p/do!</span>
 (<span>repl/repl</span>)
 <span><span>;</span>; type (available-in-repl) in the REPL and it will return :yolo</span>
 (<span>println</span> <span><span>&#34;</span>The end<span>&#34;</span></span>))</pre></div>
<p dir="auto">The <code>repl</code> function returns a promise. The <code>promesa.core/do!</code> macro waits for the REPL to finish and after that <code>&#34;The end&#34;</code> is printed:</p>
<div data-snippet-clipboard-copy-content="$ nbb example.cljs
example=&gt; (available-in-repl)
:yolo
example=&gt; The end"><pre>$ nbb example.cljs
example=&gt; (<span>available-in-repl</span>)
:yolo
example=&gt; The end</pre></div>
<p dir="auto">To launch a REPL from a Node.js script, you can use <code>loadString</code> or <code>loadFile</code>:</p>
<div data-snippet-clipboard-copy-content="import { loadString } from &#39;nbb&#39;
await loadString(`
(require &#39;[nbb.repl :refer [repl]])
(repl)
`)
console.log(&#39;The end!&#39;)"><pre><span>import</span> <span>{</span> <span>loadString</span> <span>}</span> <span>from</span> <span>&#39;nbb&#39;</span>
<span>await</span> <span>loadString</span><span>(</span><span>`</span>
<span>(require &#39;[nbb.repl :refer [repl]])</span>
<span>(repl)</span>
<span>`</span><span>)</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>&#39;The end!&#39;</span><span>)</span></pre></div>
<div data-snippet-clipboard-copy-content="$ node repl.mjs
user=&gt; (+ 1 2 3)
6
user=&gt; The end!"><pre>$ node repl.mjs
user=&gt; (<span>+</span> <span>1</span> <span>2</span> <span>3</span>)
<span>6</span>
user=&gt; The end!</pre></div>
<h3 dir="auto"><a id="user-content-nrepl" href="#nrepl" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>nREPL</h3>
<p dir="auto">The nREPL server probably still has rough edges. Please report issues
<a href="https://github.com/borkdude/nbb/issues">here</a>.</p>
<p dir="auto">An nREPL server can be started with:</p>
<div data-snippet-clipboard-copy-content="$ nbb nrepl-server :port 1337"><pre>$ nbb nrepl-server :port 1337</pre></div>
<p dir="auto">After that you can connect using an nREPL client:</p>
<div data-snippet-clipboard-copy-content="$ lein repl :connect 1337"><pre>$ lein repl <span>:connect</span> <span>1337</span></pre></div>
<p dir="auto">and evaluate expressions.</p>
<p dir="auto">Running nREPL in Docker container is supported with the optional <code>:host</code> argument.</p>
<div data-snippet-clipboard-copy-content="$ nbb nrepl-server :port 1337 :host 0.0.0.0"><pre>$ nbb nrepl-server <span>:port</span> <span>1337</span> <span>:host</span> <span>0.0</span>.0.0</pre></div>
<h4 dir="auto"><a id="user-content-calva" href="#calva" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Calva</h4>
<p dir="auto">In Calva connect to the REPL with:</p>
<ul dir="auto">
<li>Connect to a Running REPL Server not in Project &gt; ClojureScript nREPL server</li>
</ul>
<h4 dir="auto"><a id="user-content-cider" href="#cider" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>CIDER</h4>
<p dir="auto">Currently CIDER needs the following
<a href="https://github.com/clojure-emacs/cider/issues/3061" data-hovercard-type="issue" data-hovercard-url="/clojure-emacs/cider/issues/3061/hovercard">workaround</a>.</p>
<h4 dir="auto"><a id="user-content-vim-iced" href="#vim-iced" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Vim Iced</h4>
<p dir="auto">See <a href="https://twitter.com/uochan/status/1444417505506721793" rel="nofollow">this</a> tweet.</p>
<h2 dir="auto"><a id="user-content-projects-using-nbb" href="#projects-using-nbb" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Projects using nbb</h2>
<p dir="auto">The following projects are using nbb or are supporting it as a development platform:</p>
<ul dir="auto">
<li><a href="https://github.com/chr15m/c64core">c64core</a>: retrocompute aesthetics twitter bot.</li>
<li><a href="https://github.com/chr15m/sitefox">sitefox</a>: Node.js + CLJS backend web framework.</li>
<li><a href="https://github.com/xfthhxk/unminify">unminify</a>: unminifies JS stacktrace errors.</li>
<li><a href="https://github.com/vharmain/nbb-serverless-example">nbb-serverless-example</a>: AWS serverless example using nbb</li>
<li><a href="https://github.com/prestancedesign/clojure-quiz">clojure-quiz</a>: ClojureScript fancy terminal game</li>
<li><a href="https://github.com/avelino/monotropic-theme-vscode">monotropic</a>: Monochromatic light theme for VSCode</li>
<li><a href="https://github.com/devsoutinho/labs">devsoutinho/labs</a>: Flutter universal project + CLJS as backend web framework on top of GraphQL</li>
<li><a href="https://github.com/logseq/nbb-logseq">nbb-logseq</a>: A custom version of nbb with additional features enabled</li>
<li><a href="https://github.com/logseq/graph-validator">graph-validator</a>: Github action to validate logseq notes using nbb-logseq</li>
</ul>
<h2 dir="auto"><a id="user-content-examples" href="#examples" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h2>
<ul dir="auto">
<li>See the <a href="https://github.com/babashka/nbb/blob/main/examples">examples</a> directory for small examples.</li>
<li><a href="https://gist.github.com/borkdude/05c4f4ce81a988f90917dc295d8f306e">gallery.cljs</a>: script to download walpapers from <a href="https://www.windowsonearth.org" rel="nofollow">windowsonearth.org</a>.</li>
<li><a href="https://github.com/borkdude/nbb-action-example">nbb-action-example</a>: example
of a Github action built with nbb.</li>
</ul>
<h2 dir="auto"><a id="user-content-api" href="#api" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>API</h2>
<p dir="auto">See <a href="https://github.com/babashka/nbb/blob/main/doc/api.md">API</a> documentation with a list of built-in libraries.</p>
<h2 dir="auto"><a id="user-content-videos" href="#videos" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Videos</h2>
<ul dir="auto">
<li><a href="https://youtu.be/_-G9EKaAyuI" rel="nofollow">Write Node using Clojure and deploy to NPM!</a> by Daniel Amber and Michiel Borkent</li>
<li><a href="https://youtu.be/7DQ0ymojfLg" rel="nofollow">Nbb: ad-hoc scripting for Clojure on Node.js</a> by Michiel Borkent</li>
<li><a href="https://youtu.be/uzy5ARQP3tA" rel="nofollow">Create a Clojure web app using nbb and the Express node framework</a> by Bobby Towers</li>
<li><a href="https://youtu.be/OURGmV_sG6w" rel="nofollow"><g-emoji alias="brazil" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f1e7-1f1f7.png">🇧🇷</g-emoji> - Get Started: Segunda Linguagem ROUBANDO mais CORAÇÃO Dos Devs Mundialmente </a> by Mario Souto (DevSoutinho)</li>
</ul>
<h2 dir="auto"><a id="user-content-articles" href="#articles" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Articles</h2>
<ul dir="auto">
<li><a href="https://www.juxt.pro/blog/nbb-lambda" rel="nofollow">AWS Lambda, now with first class parentheses</a> by Ray McDermott</li>
<li><a href="https://www.alexandercarls.de/markdoc-nbb-clojure/" rel="nofollow">Create a blog with Clojure, nbb, and MarkDoc</a> by Alexander Carls</li>
<li><a href="https://slimslenderslacks.github.io/nbb-sentiment" rel="nofollow">Sentiment analysis with nbb</a> by Jim Clark</li>
<li><a href="https://dev.to/crinklywrappr/reloaded-workflow-with-nbb-expressjs-31f3" rel="nofollow">Reloaded workflow with nbb and Express.js</a> by Daniel Fitzpatrick</li>
<li><a href="https://www.loop-code-recur.io/simple-site-analytics-with-serverless-clojure" rel="nofollow">Serverless site analytics with Clojure nbb and AWS</a> by Cyprien Pannier</li>
<li><a href="https://blog.michielborkent.nl/aws-lambda-nbb.html" rel="nofollow">Creating an AWS Lambda function with
nbb</a> by Michiel Borkent</li>
<li><a href="https://www.arthurbrrs.me/prerendering-react-clojurescript-land.html" rel="nofollow">Prerendering React in ClojureScript
land</a> by
Arthur Barroso</li>
</ul>
<h2 dir="auto"><a id="user-content-podcasts" href="#podcasts" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Podcasts</h2>
<ul dir="auto">
<li><a href="https://soundcloud.com/clojurestream/nbb-with-michiel-borkent" rel="nofollow">Nbb with Michiel
Borkent</a> on the
ClojureStream podcast with Jacek Schae</li>
</ul>
<h2 dir="auto"><a id="user-content-migrating-to-shadow-cljs" href="#migrating-to-shadow-cljs" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Migrating to shadow-cljs</h2>
<p dir="auto">See this
<a href="https://gist.github.com/borkdude/7e548f06fbefeb210f3fcf14eef019e0">gist</a> on how
to convert an nbb script or project to
<a href="https://github.com/thheller/shadow-cljs">shadow-cljs</a>.</p>
<h2 dir="auto"><a id="user-content-publishing-an-nbb-project-to-npm" href="#publishing-an-nbb-project-to-npm" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Publishing an nbb project to npm</h2>
<p dir="auto">See <a href="https://github.com/babashka/nbb/blob/main/doc/publish/README.md">Publishing an nbb project to npm</a>.</p>
<h2 dir="auto"><a id="user-content-creating-a-standalone-executable-with-caxa" href="#creating-a-standalone-executable-with-caxa" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Creating a standalone executable with caxa</h2>
<p dir="auto">See <a href="https://github.com/babashka/nbb/blob/main/doc/caxa/README.md">Creating a standalone executable with caxa</a>.</p>
<h2 dir="auto"><a id="user-content-nbb-on-aws-lambda" href="#nbb-on-aws-lambda" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Nbb on AWS Lambda</h2>
<p dir="auto">See <a href="https://github.com/babashka/nbb/blob/main/doc/aws_lambda.md">Nbb on AWS Lambda</a>.</p>
<h2 dir="auto"><a id="user-content-nbb-on-google-cloud-functions" href="#nbb-on-google-cloud-functions" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Nbb on Google Cloud Functions</h2>
<p dir="auto">See <a href="https://github.com/babashka/nbb/blob/main/doc/gcloud_functions.md">Nbb on Google Cloud Functions</a>.</p>
<h2 dir="auto"><a id="user-content-develop" href="#develop" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><a href="https://github.com/babashka/nbb/blob/main/doc/dev.md">Develop</a></h2>
<h2 dir="auto"><a id="user-content-nbb-on-flyio" href="#nbb-on-flyio" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Nbb on fly.io</h2>
<p dir="auto">See <a href="https://github.com/babashka/nbb/blob/main/doc/fly_io">Deploying an nbb app to fly.io</a>.</p>
<h2 dir="auto"><a id="user-content-build" href="#build" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Build</h2>
<p dir="auto">Prequisites:</p>
<ul dir="auto">
<li><a href="https://babashka.org/" rel="nofollow">babashka</a> &gt;= 0.4.0</li>
<li><a href="https://clojure.org/guides/getting_started#_clojure_installer_and_cli_tools" rel="nofollow">Clojure CLI</a> &gt;= 1.10.3.933</li>
<li>Node.js 16.5.0 (lower version may work, but this is the one I used to build)</li>
</ul>
<p dir="auto">To build:</p>
<ul dir="auto">
<li>Clone and cd into this repo</li>
<li><code>bb release</code></li>
</ul>
<p dir="auto">Run <code>bb tasks</code> for more project-related tasks.</p>
<h2 dir="auto"><a id="user-content-credits" href="#credits" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Credits</h2>
<ul dir="auto">
<li>Original babashka logo by Nikita Prokopov. Node.js modifications by MnRa.</li>
</ul>
<h2 dir="auto"><a id="user-content-license" href="#license" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto">Copyright © 2021-2022 Michiel Borkent</p>
<p dir="auto">Distributed under the EPL License. See LICENSE.</p>
</article>
          </div></div>
  </body>
</html>
