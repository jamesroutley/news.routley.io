<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.contrib.andrew.cmu.edu/~somlo/BTCP/">Original</a>
    <h1>Free, Linux Capable, Self-Hosting 64bit RISC-V Computer on an FPGA</h1>
    
    <div id="readability-page-1" class="page"><div>



<p><b>Gabriel L. Somlo</b> &lt;somlo at cmu dot edu&gt;, 2019-07-04 âŽ¯ 2020-05-08

</p><p><SPAN color="green"><i><b>NEW:</b></i></SPAN> latest build process at <a href="https://github.com/litex-hub/linux-on-litex-rocket">https://github.com/litex-hub/linux-on-litex-rocket</a>;
</p><p>Or skip directly to the <a href="https://www.contrib.andrew.cmu.edu/~somlo/BTCP/self_hosting_fedora.html">self-hosting demo</a>.

</p><h3><a name="sec_1">1. Motivation</a></h3><a name="sec_1">

My goal is to build a Free/OpenSource computer from the ground up, so I may completely trust that the entire hardware+software system&#39;s behavior is 100% attributable to its fully available HDL (Hardware Description Language) and Software sources.</a><p><a href="https://en.wikipedia.org/wiki/Self-hosting">self-hosting</a> Free/OpenSource hardware+software stack!</p><p>

I don&#39;t own or otherwise control a silicon foundry, and therefore can&#39;t fabricate my own ASICs, so I will build the &#34;hardware&#34; component of this computer on an FPGA, ensuring that any programming of (and bitstream generation for) the FPGA happens with Free/OpenSource tools. I consider the tradeoff to be worthwhile and advantageous from a trustworthiness standpoint:
  </p><ul>
  <li>The chip foundry wouldn&#39;t know what the FPGA will be used for, and where the proverbial &#34;privilege bit&#34; will end up being laid out on the chip, which mitigates against Privilege Escalation hardware backdoors. Exposure is limited to DoS attacks being planted into the silicon during FPGA fabrication, which yields a significantly improved level of assurance (i.e., the computer may stop working altogether, but can&#39;t betray its owner to an adversary while <i>pretending</i> to operate correctly).
  </li><li>The FPGA is a regular grid of identical components, so (destructive) visual inspection (i.e., chemical ablation and TEM imaging) is more feasible than with a dedicated ASIC that has much less visual regularity and repeatability.
  </li><li>Having thus constrained the fabrication-stage attack surface, I can cover the remaining hardware attack vectors (malicious sources and/or toolchain) by insisting on buildable sources to <i>everything</i>, resulting in a finished product (i.e., deployed hardware+software computer) that is <i>as trustowrthy as</i> its <i>openly auditable</i> HDL+Software sources.
  </li></ul><p>

The following is a list of links to additional resources, documents and early experiments related to building the system described above:
  </p><ul>
  <li><a href="https://www.contrib.andrew.cmu.edu/~somlo/BTCP/glsomlo_cresct_2020.pdf">Paper</a>, <a href="https://www.contrib.andrew.cmu.edu/~somlo/BTCP/glsomlo_cresct_2020_slides.pdf">Slides</a>, &amp; <a href="https://youtu.be/5IhujGl_-K0">Presentation</a> at <a href="https://www.ieee-security.org/TC/SPW2020/CReSCT/">CReSCT 2020</a> (<a href="https://www.ieee-security.org/TC/SP2020/">IEEE S&amp;P 2020</a> -- <a href="https://ieeexplore.ieee.org/document/9283874">Citation</a>).
  </li><li><a href="https://www.contrib.andrew.cmu.edu/~somlo/BTCP/SeiResearchReview2019btcp.pdf">Slide Deck</a> and <a href="https://www.youtube.com/watch?v=lI6u_fuAP1g">Presentation</a> from CMU/SEI Research Review 2019.
  </li><li><a href="https://www.contrib.andrew.cmu.edu/~somlo/BTCP/btcp-update.pdf">Older Slide Deck</a> detailing my Trustworthy Computing work at CERT/SEI.
  </li><li><a href="https://www.lowrisc.org">lowRISC project</a> (and my effort to <a href="https://www.contrib.andrew.cmu.edu/~somlo/BTCP/lowRISC.html">rebase</a> its components to their respective upstream projects
    <ul>
    <li>This was a tremendously helpful resource, and understanding its components was a great learning experience;
    </li><li>However, at the time of this writing, the project relies on a closed-source HDL toolchain, and utilizes proprietary IP modules (e.g., DRAM controller) as part of its component list.
    </li></ul>
  </li><li><a href="https://github.com/gsomlo/yoloRISC">yoloRISC</a>: an RV64IMAC, Rocket-Chip based blinky demo SoC, built using <a href="https://github.com/YosysHQ/yosys">yosys</a>/<a href="https://github.com/SymbiFlow/prjtrellis">trellis</a>/<a href="https://github.com/YosysHQ/nextpnr">nextpnr</a> for the <a href="https://www.latticesemi.com/en/Products/DevelopmentBoardsAndKits/ECP55GVersaDevKit">Lattice ECP5 5G Versa</a> development board.
  </li></ul>

  

</div></div>
  </body>
</html>
