<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.taipy.io/posts/augmenting-the-markdown-language-for-great-python-graphical-interfaces">Original</a>
    <h1>Augmenting the Markdown Language for Great Python Graphical Interfaces</h1>
    
    <div id="readability-page-1" class="page"><div><p>In the past few years, several Python packages have proposed Python API to build web-based interfaces such as:</p><p>- <a href="https://dash.plotly.com/minimal-app">Plotly Dash</a></p><p><a href="https://dash.plotly.com/minimal-app">- </a><a href="https://docs.streamlit.io/library/api-reference">Streamlit</a></p><p>- And more recently <a href="https://links.taipy.io/WebtoGitHub">Taipy</a></p><p>However, one of the most underrated work has been with the creation by the <a href="https://links.taipy.io/WebtoGitHub">Taipy </a>R&amp;D team of an alternative API: an Augmented Markdown API for Python developers. Markdown is one of the most used markup languages: starting from a simple text document, Markdown allows the generation of HTML pages with high presentation quality, immediately deployable on a network. For those of you not familiar with the markdown language, have a look <a href="https://www.markdownguide.org/basic-syntax/">here</a></p><p>Based on the work of Dr. Neil Bruce [1], the <a href="https://links.taipy.io/WebtoGitHub">Taipy </a>team has extended the very simple syntax of Markdown by allowing the writer to add tags that would trigger the generation of a graphical interface element directly in their content.</p><p>‍</p><p>In his 2020 seminal article, “A Framework for Dynamic Data-Driven User Interfaces”[2], Mirovic proposes a model for controlling an application based on its underlying data model. However, a significant disadvantage of this approach is that it requires programmers to explicitly define the data sources they wish to use to construct their interface.</p><p>‍</p><p>The proposed solution involves directly connecting graphical components to application data. Programmers can simply use the name of the variable they wish to be reflected in the GUI during the development of their Markdown source. For instance, if a variable &#39;value&#39; appears in the code, adding the tag &lt;{value}&gt; in the text itself will display it. To make the variable editable by the end user, it can be contained within an editable text area: &lt;{value}|text_input&gt;.</p><p>‍</p><p>In the graphical interface development stage, programmers don&#39;t need to worry about the layout of these elements relative to each other. The conversion from Markdown to HTML ensures that elements are appropriately placed within the surrounding text flow.</p><p>‍</p><p>This approach does not require Python developers/Data scientists to learn new tools. They can create a text page, adding formatting tags and interface elements.</p><p>‍</p><p>The next steps consisted of providing all types of graphical elements that users want in their application, ensuring each graphical component can graphically represent the connected data, synchronizing the GUI with the application managing the variables, enabling experienced GUI developers to refine the graphical representation of components, and adapting the generated GUIs to usability and accessibility needs.</p><p>‍</p><p>Web-Based User Interfaces: The choice was made to deploy interfaces through web browsers for portability and adaptation to various situations. This involved proposing a client-server architecture where the server hosts the main application (data and algorithms) and the client is a simple web browser connecting to the server using standard market protocols (HTTP, WebSocket).</p><p>‍</p><p>Data Transformation and User Interface Generation: The project involved transforming Python data types into Markdown-like representations based on client-side component types (text, buttons, selectors, charts, etc.). Other syntaxes like XUL or XAML could have been selected but the major drawback of these syntaxes is the need for detailed knowledge of graphical representation programming interfaces to create a functioning user interface.</p><p>‍</p><p>Here are the different issues that had to be implemented to transform data on the server side into a representation on the Web client:</p><p><strong>1- Data Transformation and Interface Representation</strong></p><p><strong>‍</strong>The project focused on automatically converting server-side data into a format suitable for web client representation. This involved considering various data types and corresponding interface elements, such as text in a button or a numeric value in a slider.</p><p><strong>2- Data Type to Representation</strong> <strong>Mapping</strong></p><p><strong>‍</strong>The initial work was with basic Python data types (Boolean, integer, float, string, lists, dictionaries, etc.) and transformed these into representations based on the type of component desired on the client side, like editable text, buttons, selectors, etc.</p><p><strong>3- User Interface Design Approach</strong></p><p>The goal was to enable users with minimal technical skills to describe how these elements would be organized on a Markdown page. This enhanced/augmented Markdown needed to integrate control elements within the markdown text, which would be transformed into active graphical components on the client side.</p><p><strong>4- Communication Protocol </strong></p><p>To establish a connection between the server (hosting the application) and the client (displaying the control elements), they opted for WebSocket (after having evaluated other protocols such as RPC, Apache Arrow Flight). This protocol is lightweight, efficient, and requires minimal configuration. It allows for the serialization of necessary data structures, supported on both the server side (Python) and the client side (JavaScript).</p><p><strong>5- User Actions and Data Transmission: </strong></p><p>WebSocket converts user actions into messages, which are sent to the application for processing changes in application variables. Conversely, changes in application data are transmitted back to the client, impacting the graphical components.</p><p><strong>6- Specific Focus on complex data: </strong></p><p>A key focus was on transferring data from the server to the client, especially in complex cases like maps or graphs, without overwhelming network and processing capacities. Solutions were developed to manage large volumes of data in complex graphical objects, ensuring efficient data transfer and minimizing user wait times. The goal was to transmit only the displayable data, using intelligent sampling techniques to avoid network and process saturation.</p><p>Here’s the result with a sample code written using <a href="https://links.taipy.io/WebtoGitHub">Taipy </a>augmented markdown syntax:</p><div><pre><code>

from math import cos, exp
value = 10
page = &#34;&#34;&#34;
Markdown
# Taipy *Demo*
Value: &lt;|{value*10}|text|&gt;
&lt;|{value}|slider|&gt;
&lt;|{compute_data(value)}|chart|&gt;
&#34;&#34;&#34;

def compute_data(decay:int)-&gt;list:
      return [cos(i/6) * exp(-i*decay/600) for i in range(100)]

Gui(page).run(use_reloader=True, port=5002)

</code>
</pre></div><p>‍</p><p>One can notice the syntax &lt;|element1|element2|...|&gt;element1 is a Python object, element2 is the type of graphical representation associated with this object.Example: &lt;|{value}|slider|&gt; displays a slider associated with the Python variable value.The execution of that Python script is given below:</p><figure class="w-richtext-align-fullwidth w-richtext-figure-type-image"><p><img src="https://assets-global.website-files.com/652e364b621cc5864742617b/65a551122983e61774327284_2023-10-2415-48-11_1_1-ezgif.com-resize.gif" loading="lazy" alt=""/></p></figure><p>References:</p><p>[1] - Prototyping with markdown. Dr. Neil Bruce, 2017.</p><p>[2] - A Framework for Dynamic Data-Driven User Interfaces. M. Mirović, 2020.</p><p>‍</p><p>‍</p></div></div>
  </body>
</html>
