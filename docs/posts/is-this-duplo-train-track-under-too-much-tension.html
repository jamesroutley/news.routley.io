<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://puzzling.stackexchange.com/questions/122232/is-this-duplo-train-track-under-too-much-tension">Original</a>
    <h1>Is this Duplo train track under too much tension?</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="text">
<p>First, we can check that there is no angular misalignment. Since 12 curved pieces are needed to make a full circle, the number of left pieces minus the number of right pieces must be a multiple of 12. Keeping track of the angle, starting at the crossing and going counterclockwise, I think that is satisfied in this setup:</p>
<p><a href="https://i.stack.imgur.com/mrYNQ.jpg" rel="noreferrer"><img src="https://i.stack.imgur.com/mrYNQ.jpg" alt="enter image description here"/></a></p>
<p>Second, we look for positional misalignment. What we want to do is add up the vectors from the start to the end of each piece and check that the vector sum is zero. I haven&#39;t found a way to do this that ends up neater than just doing the trigonometry. However, things work out nicely in that all the coordinates end up being the sum of a rational number and a rational multiple of <span>$\sqrt{3}$</span> (in math lingo, they are members of <span>$\mathbb{Q}[\sqrt{3}]$</span>). This means that the coordinates sum to zero only if their rational parts sum to zero and the coefficients of <span>$\sqrt{3}$</span> sum to zero independently. This means that we can assign each piece type a list of 4 numbers (2 for the x-coordinate and 2 for the y-coordinate) and the pieces form a loop only if all 4 numbers sum to zero. Those numbers are:</p>
<pre><code>Curves:
0-1:  1    0    2   -1
1-2: -1    1   -1    1
2-3:  2   -1    1    0
3-4: -2    1    1    0
4-5:  1   -1   -1    1
5-6: -1    0    2   -1
Straights:
0-0:  1    0    0    0
1-1:  0    0.5  0.5  0
2-2:  0.5  0    0    0.5
3-3:  0    0    1    0
4-4: -0.5  0    0    0.5
5-5:  0   -0.5  0.5  0
</code></pre>
<p>Note that a 0-to-1 curve and a 1-to-0 curve have the same displacement so we only list the left curve. Also, a 180-degree rotation just negates the coordinates, so we can get away with only calculating the first half of the table.</p>
<p>Adding up the pieces in the layout gives a result of <code>4.5 -3 -2 0.5</code>, i.e. a displacement of <span>$\left(4.5-3\sqrt{3},-2+0.5\sqrt{3}\right)$</span>. This is not zero, so the layout is not free of stress. In fact, if we draw out the path that the shown pieces would ideally take, we get this shape:</p>
<p><a href="https://i.stack.imgur.com/Zetlz.png" rel="noreferrer"><img src="https://i.stack.imgur.com/Zetlz.png" alt="enter image description here"/></a></p>
<p>No combination of fewer than 5 pieces will complete the loop, however the following combination of 5 will: <code>3-4 3-4 1-1 8-8 11-11</code>. (There are 3 more combinations of 5 that give the correct displacement, but would add an odd number of curves and therefore cause angular misalignment.)</p>
<p>Note that instead of adding a piece we can remove its 180-degree rotation. Therefore, I would suggest removing <code>10-9-10</code> and <code>5-5</code> and adding a <code>1-1</code> and <code>8-8</code>:</p>
<p><a href="https://i.stack.imgur.com/YsqAA.jpg" rel="noreferrer"><img src="https://i.stack.imgur.com/YsqAA.jpg" alt="enter image description here"/></a></p>
<p>That&#39;s only if you want an &#39;exact&#39; solution, for only changing a single piece you&#39;d want to add a <code>2-2</code>, e.g. after the first gray curve, which would yield the following:</p>
<p><a href="https://i.stack.imgur.com/4u6qg.png" rel="noreferrer"><img src="https://i.stack.imgur.com/4u6qg.png" alt="enter image description here"/></a></p>
    </div></div>
  </body>
</html>
