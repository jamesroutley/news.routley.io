<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/BayramAnnakov/claude-reflect">Original</a>
    <h1>Show HN: Claude Reflect – Auto-turn Claude corrections into project config</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">A self-learning system for Claude Code that captures corrections, positive feedback, and preferences — then syncs them to CLAUDE.md and AGENTS.md.</p>

<p dir="auto">When you correct Claude Code during a session (&#34;no, use gpt-5.1 not gpt-5&#34;, &#34;use database for caching&#34;), these corrections are captured and can be added to your CLAUDE.md files so Claude remembers them in future sessions.</p>
<div data-snippet-clipboard-copy-content="┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  You correct    │ ──► │  Hook captures  │ ──► │  /reflect adds  │
│  Claude Code    │     │  to queue       │     │  to CLAUDE.md   │
└─────────────────┘     └─────────────────┘     └─────────────────┘
      (automatic)            (automatic)            (manual review)"><pre><code>┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  You correct    │ ──► │  Hook captures  │ ──► │  /reflect adds  │
│  Claude Code    │     │  to queue       │     │  to CLAUDE.md   │
└─────────────────┘     └─────────────────┘     └─────────────────┘
      (automatic)            (automatic)            (manual review)
</code></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Add the marketplace
claude plugin marketplace add bayramannakov/claude-reflect

# Install the plugin
claude plugin install claude-reflect@claude-reflect-marketplace

# IMPORTANT: Restart Claude Code to activate the plugin"><pre><span><span>#</span> Add the marketplace</span>
claude plugin marketplace add bayramannakov/claude-reflect

<span><span>#</span> Install the plugin</span>
claude plugin install claude-reflect@claude-reflect-marketplace

<span><span>#</span> IMPORTANT: Restart Claude Code to activate the plugin</span></pre></div>
<p dir="auto">After installation, <strong>restart Claude Code</strong> (exit and reopen). Then hooks auto-configure and commands are ready.</p>
<blockquote>
<p dir="auto"><strong>First run?</strong> When you run <code>/reflect</code> for the first time, you&#39;ll be prompted to scan your past sessions for learnings.</p>
</blockquote>

<ul dir="auto">
<li><a href="https://claude.ai/code" rel="nofollow">Claude Code</a> CLI installed</li>
<li><code>jq</code> for JSON processing (<code>brew install jq</code> on macOS)</li>
<li><code>python3</code> (included on most systems)</li>
</ul>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/reflect</code></td>
<td>Process queued learnings with human review</td>
</tr>
<tr>
<td><code>/reflect --scan-history</code></td>
<td>Scan ALL past sessions for missed learnings</td>
</tr>
<tr>
<td><code>/reflect --dry-run</code></td>
<td>Preview changes without applying</td>
</tr>
<tr>
<td><code>/reflect --targets</code></td>
<td>Show detected config files (CLAUDE.md, AGENTS.md)</td>
</tr>
<tr>
<td><code>/reflect --review</code></td>
<td>Show queue with confidence scores and decay status</td>
</tr>
<tr>
<td><code>/reflect --dedupe</code></td>
<td>Find and consolidate similar entries in CLAUDE.md</td>
</tr>
<tr>
<td><code>/skip-reflect</code></td>
<td>Discard all queued learnings</td>
</tr>
<tr>
<td><code>/view-queue</code></td>
<td>View pending learnings without processing</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>


<p dir="auto"><strong>Stage 1: Capture (Automatic)</strong></p>
<p dir="auto">Hooks run automatically to detect and queue corrections:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Hook</th>
<th>Trigger</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>capture-learning.sh</code></td>
<td>Every prompt</td>
<td>Detects correction patterns and queues them</td>
</tr>
<tr>
<td><code>check-learnings.sh</code></td>
<td>Before compaction</td>
<td>Blocks compaction if queue has items</td>
</tr>
<tr>
<td><code>post-commit-reminder.sh</code></td>
<td>After git commit</td>
<td>Reminds to run /reflect after completing work</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><strong>Stage 2: Process (Manual)</strong></p>
<p dir="auto">Run <code>/reflect</code> to review and apply queued learnings to CLAUDE.md.</p>

<p dir="auto">The capture hook detects corrections AND positive feedback:</p>
<p dir="auto"><strong>Corrections</strong> (what went wrong):</p>
<ul dir="auto">
<li><code>&#34;no, use X&#34;</code> / <code>&#34;don&#39;t use Y&#34;</code></li>
<li><code>&#34;actually...&#34;</code> / <code>&#34;I meant...&#34;</code></li>
<li><code>&#34;use X not Y&#34;</code> / <code>&#34;that&#39;s wrong&#34;</code></li>
</ul>
<p dir="auto"><strong>Positive patterns</strong> (what works):</p>
<ul dir="auto">
<li><code>&#34;Perfect!&#34;</code> / <code>&#34;Exactly right&#34;</code></li>
<li><code>&#34;That&#39;s what I wanted&#34;</code> / <code>&#34;Great approach&#34;</code></li>
<li><code>&#34;Keep doing this&#34;</code> / <code>&#34;Nailed it&#34;</code></li>
</ul>
<p dir="auto"><strong>Explicit markers</strong>:</p>
<ul dir="auto">
<li><code>&#34;remember:&#34;</code> — highest confidence</li>
</ul>
<p dir="auto">Each captured learning has a <strong>confidence score</strong> (0.60-0.95) based on pattern strength. Higher confidence = more likely to be a real learning.</p>

<p dir="auto">When you run <code>/reflect</code>, Claude presents a summary table:</p>
<div data-snippet-clipboard-copy-content="════════════════════════════════════════════════════════════
LEARNINGS SUMMARY — 5 items found
════════════════════════════════════════════════════════════

┌────┬─────────────────────────────────────────┬──────────┬────────┐
│ #  │ Learning                                │ Scope    │ Status │
├────┼─────────────────────────────────────────┼──────────┼────────┤
│ 1  │ Use gpt-5.1 for reasoning tasks         │ global   │ ✓ new  │
│ 2  │ Database for persistent storage         │ project  │ ✓ new  │
└────┴─────────────────────────────────────────┴──────────┴────────┘"><pre><code>════════════════════════════════════════════════════════════
LEARNINGS SUMMARY — 5 items found
════════════════════════════════════════════════════════════

┌────┬─────────────────────────────────────────┬──────────┬────────┐
│ #  │ Learning                                │ Scope    │ Status │
├────┼─────────────────────────────────────────┼──────────┼────────┤
│ 1  │ Use gpt-5.1 for reasoning tasks         │ global   │ ✓ new  │
│ 2  │ Database for persistent storage         │ project  │ ✓ new  │
└────┴─────────────────────────────────────────┴──────────┴────────┘
</code></pre></div>
<p dir="auto">You choose:</p>
<ul dir="auto">
<li><strong>Apply all</strong> - Accept recommended changes</li>
<li><strong>Select which</strong> - Pick specific learnings</li>
<li><strong>Review details</strong> - See full context before deciding</li>
</ul>

<p dir="auto">Approved learnings are synced to:</p>
<ul dir="auto">
<li><code>~/.claude/CLAUDE.md</code> (global - applies to all projects)</li>
<li><code>./CLAUDE.md</code> (project-specific)</li>
<li><code>AGENTS.md</code> (if exists - works with Codex, Cursor, Aider, Jules, Zed, Factory)</li>
</ul>
<p dir="auto">Run <code>/reflect --targets</code> to see which files will be updated.</p>

<div dir="auto" data-snippet-clipboard-copy-content="claude plugin uninstall claude-reflect@claude-reflect-marketplace"><pre>claude plugin uninstall claude-reflect@claude-reflect-marketplace</pre></div>

<div data-snippet-clipboard-copy-content="claude-reflect/
├── .claude-plugin/
│   └── plugin.json         # Plugin manifest (auto-registers hooks)
├── commands/
│   ├── reflect.md          # Main command
│   ├── skip-reflect.md     # Discard queue
│   └── view-queue.md       # View queue
├── hooks/
│   └── hooks.json          # Auto-configured when plugin installed
├── scripts/
│   ├── capture-learning.sh       # Hook: detect corrections
│   ├── check-learnings.sh        # Hook: pre-compact check
│   ├── post-commit-reminder.sh   # Hook: post-commit reminder
│   ├── extract-session-learnings.sh
│   └── extract-tool-rejections.sh
└── SKILL.md                # Skill context for Claude"><pre><code>claude-reflect/
├── .claude-plugin/
│   └── plugin.json         # Plugin manifest (auto-registers hooks)
├── commands/
│   ├── reflect.md          # Main command
│   ├── skip-reflect.md     # Discard queue
│   └── view-queue.md       # View queue
├── hooks/
│   └── hooks.json          # Auto-configured when plugin installed
├── scripts/
│   ├── capture-learning.sh       # Hook: detect corrections
│   ├── check-learnings.sh        # Hook: pre-compact check
│   ├── post-commit-reminder.sh   # Hook: post-commit reminder
│   ├── extract-session-learnings.sh
│   └── extract-tool-rejections.sh
└── SKILL.md                # Skill context for Claude
</code></pre></div>


<p dir="auto">First time using claude-reflect? Run:</p>

<p dir="auto">This scans all your past sessions for corrections you made, so you don&#39;t lose learnings from before installation.</p>

<p dir="auto">Claude filters out:</p>
<ul dir="auto">
<li>Questions (not corrections)</li>
<li>One-time task instructions</li>
<li>Context-specific requests</li>
<li>Vague/non-actionable feedback</li>
</ul>
<p dir="auto">Only reusable learnings are kept.</p>

<p dir="auto">Before adding a learning, existing CLAUDE.md content is checked. If similar content exists, you can:</p>
<ul dir="auto">
<li>Merge with existing entry</li>
<li>Replace the old entry</li>
<li>Skip the duplicate</li>
</ul>

<p dir="auto">Over time, CLAUDE.md can accumulate similar entries. Run <code>/reflect --dedupe</code> to:</p>
<ul dir="auto">
<li>Find semantically similar entries (even with different wording)</li>
<li>Propose consolidated versions</li>
<li>Clean up redundant learnings</li>
</ul>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="Before:
  - Use gpt-5.1 for complex tasks
  - Prefer gpt-5.1 for reasoning
  - gpt-5.1 is better for hard problems

After:
  - Use gpt-5.1 for complex reasoning tasks"><pre><code>Before:
  - Use gpt-5.1 for complex tasks
  - Prefer gpt-5.1 for reasoning
  - gpt-5.1 is better for hard problems

After:
  - Use gpt-5.1 for complex reasoning tasks
</code></pre></div>

<ol dir="auto">
<li>
<p dir="auto"><strong>Use explicit markers</strong> for important learnings:</p>
<div data-snippet-clipboard-copy-content="remember: always use venv for Python projects"><pre><code>remember: always use venv for Python projects
</code></pre></div>
</li>
<li>
<p dir="auto"><strong>Run /reflect after git commits</strong> - The hook reminds you, but make it a habit</p>
</li>
<li>
<p dir="auto"><strong>Historical scan on new machines</strong> - When setting up a new dev environment:</p>
<div data-snippet-clipboard-copy-content="/reflect --scan-history --days 90"><pre><code>/reflect --scan-history --days 90
</code></pre></div>
</li>
<li>
<p dir="auto"><strong>Project vs Global</strong> - Model names and general patterns go global; project-specific conventions stay in project CLAUDE.md</p>
</li>
</ol>

<p dir="auto">Pull requests welcome! Please read the contributing guidelines first.</p>

<p dir="auto">MIT</p>
</article></div></div>
  </body>
</html>
