<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://news.ycombinator.com/item?id=44932651">Original</a>
    <h1>Show HN: OverType – A Markdown WYSIWYG editor that&#39;s just a textarea</h1>
    
    <div id="readability-page-1" class="page"><div><td colspan="2"></td><td><div><p>Hi HN! I got so frustrated with modern WYSIWYG editors that I started to play around with building my own.</p><p>The problem I had was simple: I wanted a low-tech way to type styled text, but I didn&#39;t want to load a complex 500KB library, especially if I was going to initialize it dozens of times on the same page.</p><p>Markdown in a plain &lt;textarea&gt; was the best alternative to a full WYSIWYG, but its main drawback is how ugly it looks without any formatting. I can handle it, but my clients certainly can&#39;t.</p><p>I went down the ContentEditable rabbit hole for a few years, but always came to realize others had solved it better than I ever could.</p><p>I kept coming back to this problem: why can&#39;t I have a simple, performant, beautiful markdown editor? The best solution I ever saw was Ghost&#39;s split-screen editor: markdown on the left, preview on the right, with synchronized scrolling.</p><p>Then, about a year ago, an idea popped into my head: what if we layered a preview pane behind a &lt;textarea&gt;? If we aligned them perfectly, then even though you were only editing plain text, it would look and feel like you were editing rich text!</p><p>Of course, there would be downsides: you&#39;d have to use a monospace font, all content would have to have the same font size, and all the markdown markup would have to be displayed in the final preview.</p><p>But those were tradeoffs I could live with.</p><p>Anyways, version 1 didn&#39;t go so well... it turns out it&#39;s harder to keep a textarea and a rendered preview in alignment than I thought. Here&#39;s what I discovered:</p><p>- Lists were hard to align - bullet points threw off character alignment. Solved with HTML entities (• for bullets) that maintain monospace width</p><p>- Not all monospace fonts are truly monospace - bold and italic text can have different widths even in &#34;monospace&#34; fonts, breaking the perfect overlay</p><p>- Embedding was a nightmare - any inherited CSS from parent pages (margin, padding, line-height) would shift alignment. Even a 1px shift completely broke the illusion</p><p>The solution was obsessive normalization:</p><pre><code>    // The entire trick: a transparent textarea over a preview div
    layerElements(textarea, preview)
    applyIdenticalSpacing(textarea, preview)

    // Make textarea invisible but keep the cursor
    textarea.style.background = &#39;transparent&#39;
    textarea.style.color = &#39;transparent&#39;
    textarea.style.caretColor = &#39;black&#39;

    // Keep them in sync
    textarea.addEventListener(&#39;input&#39;, () =&gt; {
      preview.innerHTML = parseMarkdown(textarea.value)
      syncScroll(textarea, preview)
    })
</code></pre><p>
A week ago I started playing with version 2 and discovered GitHub&#39;s &lt;markdown-toolbar&gt; element, which handles markdown formatting in a plain &lt;textarea&gt; really well.</p><p>That experiment turned into OverType (<a href="https://overtype.dev" rel="nofollow">https://overtype.dev</a>), which I&#39;m showing to you today -- it&#39;s a rich markdown editor that&#39;s really just a &lt;textarea&gt;. The key insight was that once you solve the alignment challenges, you get everything native textareas provide for free: undo/redo, mobile keyboard, accessibility, and native performance.</p><p>So far it works surprisingly well across browsers and mobile. I get performant rich text editing in one small package (45KB total). It&#39;s kind of a dumb idea, but it works! I&#39;m planning to use it in all my projects and I&#39;d like to keep it simple and minimal.</p><p>I would love it if you would kick the tires and let me know what you think of it. Happy editing!</p><p>---</p><p>Demo &amp; docs: <a href="https://overtype.dev" rel="nofollow">https://overtype.dev</a></p><p>GitHub: <a href="https://github.com/panphora/overtype" rel="nofollow">https://github.com/panphora/overtype</a></p></div></td></div></div>
  </body>
</html>
