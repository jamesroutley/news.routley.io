<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/bodadotsh/npm-security-best-practices">Original</a>
    <h1>Show HN: Tips to stay safe from NPM supply chain attacks</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/bodadotsh/npm-security-best-practices/blob/main/npm_meme.png"><img src="https://github.com/bodadotsh/npm-security-best-practices/raw/main/npm_meme.png" alt="npm meme"/></a></p>

<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p dir="auto">The NPM ecosystem is no stranger to compromises<sup><a href="#user-content-fn-1-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-1-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup><sup><a href="#user-content-fn-2-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-2-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup>, supply-chain attacks<sup><a href="#user-content-fn-3-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-3-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">3</a></sup>, malware<sup><a href="#user-content-fn-4-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-4-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">4</a></sup><sup><a href="#user-content-fn-5-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-5-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">5</a></sup>, spam<sup><a href="#user-content-fn-6-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-6-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">6</a></sup>, phishing<sup><a href="#user-content-fn-7-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-7-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">7</a></sup>, incidents<sup><a href="#user-content-fn-8-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-8-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">8</a></sup> or even trolls<sup><a href="#user-content-fn-9-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-9-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">9</a></sup>. In this repository, I have consolidated a list of information you might find useful in securing yourself against these incidents.</p>
<p dir="auto">Feel free to submit a Pull Request, or reach out to me on <a href="https://x.com/bodadotsh" rel="nofollow">Twitter</a>!</p>
</div>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p><p dir="auto">This repository covers <code>npm</code>, <code>bun</code>, <code>deno</code>, <code>pnpm</code>, <code>yarn</code> and more.</p>
</div>
<a href="https://news.ycombinator.com/item?id=45326754" rel="nofollow">
<img src="https://camo.githubusercontent.com/7cf8bc82c34a51e20a78f134291a7d9e2d4d143ba771ab78a6b8ec9a95e43a2b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6861636b65722532306e65777325323064697363757373696f6e2d666636363030" alt="hn discussion" data-canonical-src="https://img.shields.io/badge/hacker%20news%20discussion-ff6600"/>
</a>

<ul dir="auto">
<li><a href="#for-developers">For Developers</a>
<ul dir="auto">
<li><a href="#1-pin-dependency-versions">1. Pin dependency versions</a></li>
<li><a href="#2-include-lockfiles">2. Include lockfiles</a></li>
<li><a href="#3-disable-lifecycle-scripts">3. Disable lifecycle scripts</a></li>
<li><a href="#4-set-minimal-release-age">4. Set minimal release age</a></li>
<li><a href="#5-permission-model">5. Permission Model</a></li>
<li><a href="#6-reduce-external-dependencies">6. Reduce external dependencies</a></li>
</ul>
</li>
<li><a href="#for-maintainers">For Maintainers</a>
<ul dir="auto">
<li><a href="#7-enable-2fa">7. Enable 2FA</a></li>
<li><a href="#8-create-tokens-with-limited-access">8. Create tokens with limited access</a></li>
<li><a href="#9-generate-provenance-statements">9. Generate provenance statements</a></li>
<li><a href="#10-review-published-files">10. Review published files</a></li>
</ul>
</li>
<li><a href="#miscellaneous">Miscellaneous</a>
<ul dir="auto">
<li><a href="#11-use-private-registry">11. Use private registry</a></li>
<li><a href="#12-audit-monitor-and-security-tools">12. Audit, monitor and security tools</a></li>
<li><a href="#13-support-oss">13. Support OSS</a></li>
</ul>
</li>
</ul>

<div dir="auto"><h3 tabindex="-1" dir="auto">1. Pin Dependency Versions</h3><a id="user-content-1-pin-dependency-versions" aria-label="Permalink: 1. Pin Dependency Versions" href="#1-pin-dependency-versions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">On <code>npm</code>, by default, a new dependency will be installed with the Caret <code>^</code> operator. This operator installs the most recent <code>minor</code> or <code>patch</code> releases. E.g., <code>^1.2.3</code> will install <code>1.2.3</code>, <code>1.2.4</code>, <code>1.3.0</code>, <code>1.6.2</code>, etc. See <a href="https://docs.npmjs.com/about-semantic-versioning" rel="nofollow">https://docs.npmjs.com/about-semantic-versioning</a> and try out the npm SemVer Calculator (<a href="https://semver.npmjs.com" rel="nofollow">https://semver.npmjs.com</a>). To avoid installing freshly compromised packages, it is often advised to pin exact versions (e.g., <code>&#34;my-package&#34;: &#34;1.2.3&#34;</code>).</p>
</blockquote>
<p dir="auto">Here&#39;s how to use the save exact flag to pin exact version in various package managers:</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm install --save-exact react

pnpm add --save-exact react

yarn add --save-exact react

bun add --exact react

deno add npm:react@19.1.1"><pre>npm install --save-exact react

pnpm add --save-exact react

yarn add --save-exact react

bun add --exact react

deno add npm:react@19.1.1</pre></div>
<p dir="auto">We can also update this setting in configuration files (e.g., <a href="https://docs.npmjs.com/cli/v11/configuring-npm/npmrc" rel="nofollow"><code>.npmrc</code></a>), with either <code>save-exact</code> or <a href="https://docs.npmjs.com/cli/v11/using-npm/config#save-prefix" rel="nofollow"><code>save-prefix</code></a> alike key and value pairs:</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm config set save-exact=true

pnpm config set save-exact true

yarn config set defaultSemverRangePrefix &#34;&#34;"><pre>npm config <span>set</span> save-exact=true

pnpm config <span>set</span> save-exact <span>true</span>

yarn config <span>set</span> defaultSemverRangePrefix <span><span>&#34;</span><span>&#34;</span></span></pre></div>
<p dir="auto">For <code>bun</code>, the config file is <code>bunfig.toml</code> and corresponding config is:</p>

<div dir="auto"><h4 tabindex="-1" dir="auto">Override the transitive dependencies</h4><a id="user-content-override-the-transitive-dependencies" aria-label="Permalink: Override the transitive dependencies" href="#override-the-transitive-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto"><strong><em>However</em></strong>, our direct dependencies also have their own dependencies (<em>transitive</em> dependencies). Even if we pin our direct dependencies, their transitive dependencies might still use broad version range operators (like <code>^</code> or <code>~</code>). The solution is to override the transitive dependencies: <a href="https://docs.npmjs.com/cli/v11/configuring-npm/package-json#overrides" rel="nofollow">https://docs.npmjs.com/cli/v11/configuring-npm/package-json#overrides</a></p>
</blockquote>
<p dir="auto">In <code>package.json</code>, if we have the following <code>overrides</code> field:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;dependencies&#34;: {
    &#34;library-a&#34;: &#34;^3.0.0&#34;
  },
  &#34;overrides&#34;: {
    &#34;lodash&#34;: &#34;4.17.21&#34;
  }
}"><pre>{
  <span>&#34;dependencies&#34;</span>: {
    <span>&#34;library-a&#34;</span>: <span><span>&#34;</span>^3.0.0<span>&#34;</span></span>
  },
  <span>&#34;overrides&#34;</span>: {
    <span>&#34;lodash&#34;</span>: <span><span>&#34;</span>4.17.21<span>&#34;</span></span>
  }
}</pre></div>
<ul dir="auto">
<li>Let&#39;s assume that <code>⁠library-a</code>&#39;s <code>⁠package.json</code> has a dependency on <code>&#34;lodash&#34;: &#34;^4.17.0&#34;</code></li>
<li>Without the <code>⁠overrides</code> section, <code>⁠npm</code> might install <code>⁠lodash@4.17.22</code> (or any of the latest <code>⁠4.x.x</code> versions) as a transitive dependency of <code>⁠library-a</code></li>
<li>However, by adding <code>&#34;overrides&#34;: { &#34;lodash&#34;: &#34;4.17.21&#34; }</code>, we are telling <code>⁠npm</code> that anywhere <code>⁠lodash</code> appears in the dependency tree, it must be resolved to exactly version <code>⁠4.17.21</code></li>
</ul>
<p dir="auto">For <code>pnpm</code>, we can also define the <code>overrides</code> field in the <code>pnpm-workspace.yaml</code> file: <a href="https://pnpm.io/settings#overrides" rel="nofollow">https://pnpm.io/settings#overrides</a></p>
<p dir="auto">For <code>yarn</code>, the <code>resolutions</code> field is introduced before the <code>overrides</code> field, and it also offers a similar functionality: <a href="https://yarnpkg.com/configuration/manifest#resolutions" rel="nofollow">https://yarnpkg.com/configuration/manifest#resolutions</a></p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;resolutions&#34;: {
    &#34;lodash&#34;: &#34;4.17.21&#34;
  }
}"><pre>{
  <span>&#34;resolutions&#34;</span>: {
    <span>&#34;lodash&#34;</span>: <span><span>&#34;</span>4.17.21<span>&#34;</span></span>
  }
}</pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="# yarn also provide a cli to set the resolution: https://yarnpkg.com/cli/set/resolution
yarn set resolution &lt;descriptor&gt; &lt;resolution&gt;"><pre><span><span>#</span> yarn also provide a cli to set the resolution: https://yarnpkg.com/cli/set/resolution</span>
yarn <span>set</span> resolution <span>&lt;</span>descriptor<span>&gt;</span> <span>&lt;</span>resolution<span>&gt;</span></pre></div>
<p dir="auto">For <code>bun</code>, it supports either the <code>overrides</code> field or the <code>resolutions</code> field: <a href="https://bun.com/docs/install/overrides" rel="nofollow">https://bun.com/docs/install/overrides</a></p>
<p dir="auto">For <code>deno</code>, see <a data-error-text="Failed to load title" data-id="2957418776" data-permission-text="Title is private" data-url="https://github.com/denoland/deno/issues/28664" data-hovercard-type="issue" data-hovercard-url="/denoland/deno/issues/28664/hovercard" href="https://github.com/denoland/deno/issues/28664">denoland/deno#28664</a> for more details.</p>

<blockquote>
<p dir="auto">Ensure to commit package managers lockfiles to <code>git</code> and share between different environments. Different lockfiles are: <code>package-lock.json</code> for <code>npm</code>, <code>pnpm-lock.yaml</code> for <code>pnpm</code>, <code>bun.lock</code> for <code>bun</code>, <code>yarn.lock</code> for <code>yarn</code> and <code>deno.lock</code> for <code>deno</code>.</p>
<p dir="auto">In automated environments such as continuous integration and deployments, we should install the exact dependencies as defined in the lockfile.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="npm ci

bun install --frozen-lockfile

yarn install --frozen-lockfile

deno install --frozen"><pre>npm ci

bun install --frozen-lockfile

yarn install --frozen-lockfile

deno install --frozen</pre></div>
<p dir="auto">For <code>deno</code>, we can also set the following in a <code>deno.json</code> file:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;lock&#34;: {
    &#34;frozen&#34;: true
  }
}"><pre>{
  <span>&#34;lock&#34;</span>: {
    <span>&#34;frozen&#34;</span>: <span>true</span>
  }
}</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">3. Disable Lifecycle Scripts</h3><a id="user-content-3-disable-lifecycle-scripts" aria-label="Permalink: 3. Disable Lifecycle Scripts" href="#3-disable-lifecycle-scripts"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">Lifecycle scripts are special scripts that happen in addition to the <code>pre&lt;event&gt;</code>, <code>post&lt;event&gt;</code>, and <code>&lt;event&gt;</code> scripts. For instance, <code>preinstall</code> is run before <code>install</code> is run and <code>postinstall</code> is run after <code>install</code> is run. See how npm handles the &#34;scripts&#34; field: <a href="https://docs.npmjs.com/cli/v11/using-npm/scripts#life-cycle-scripts" rel="nofollow">https://docs.npmjs.com/cli/v11/using-npm/scripts#life-cycle-scripts</a></p>
<p dir="auto">Lifecycle scripts are a common strategy from malicious actors. For example, the &#34;Shai-Hulud&#34; worms<sup><a href="#user-content-fn-3-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-3-2-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">3</a></sup> edit the <code>package.json</code> file to add a <code>postinstall</code> script that would then steal credentials.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="npm config set ignore-scripts true --global

yarn config set enableScripts false"><pre>npm config <span>set</span> ignore-scripts <span>true</span> --global

yarn config <span>set</span> enableScripts <span>false</span></pre></div>
<p dir="auto">For <code>bun</code>, <code>deno</code> and <code>pnpm</code>, they are disabled by default.</p>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p><p dir="auto">We can combine many of the flags above. For example, the following <code>npm</code> command would install only production dependencies as defined in the lockfile and ignore lifecycle scripts:</p>
<p dir="auto"><code>npm ci --omit=dev --ignore-scripts</code></p>
</div>
<div dir="auto"><h3 tabindex="-1" dir="auto">4. Set Minimal Release Age</h3><a id="user-content-4-set-minimal-release-age" aria-label="Permalink: 4. Set Minimal Release Age" href="#4-set-minimal-release-age"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">We can set a delay to avoid installing newly published packages. This applies to all dependencies, including transitive ones. For example, <code>pnpm v10.16</code> introduced the <code>minimumReleaseAge</code> option: <a href="https://pnpm.io/settings#minimumreleaseage" rel="nofollow">https://pnpm.io/settings#minimumreleaseage</a>, which defines the minimum number of minutes that must pass after a version is published before pnpm will install it. If <code>minimumReleaseAge</code> is set to <code>1440</code>, then pnpm will not install a version that was published less than 24 hours ago.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="pnpm config set minimumReleaseAge &lt;minutes&gt;

# only install packages published at least 1 day ago
npm install --before=&#34;$(date -v -1d)&#34;

yarn config set npmMinimalAgeGate &lt;minutes&gt;"><pre>pnpm config <span>set</span> minimumReleaseAge <span>&lt;</span>minutes<span>&gt;</span>

<span><span>#</span> only install packages published at least 1 day ago</span>
npm install --before=<span><span>&#34;</span><span><span>$(</span>date -v -1d<span>)</span></span><span>&#34;</span></span>

yarn config <span>set</span> npmMinimalAgeGate <span>&lt;</span>minutes<span>&gt;</span></pre></div>
<p dir="auto">For <code>pnpm</code>, there&#39;s also a <code>minimumReleaseAgeExclude</code> option to exclude certain packages from the minimum release age.</p>
<p dir="auto">For <code>npm</code>, there is <a href="https://github.com/npm/cli/issues/8570" data-hovercard-type="issue" data-hovercard-url="/npm/cli/issues/8570/hovercard">a proposal</a> to add <code>minimumReleaseAge</code> option and <code>minimumReleaseAgeExclude</code> option.</p>
<p dir="auto">For <code>yarn</code>, config options <code>npmMinimalAgeGate</code> and <code>npmPreapprovedPackages</code> are implemented since <a href="https://github.com/yarnpkg/berry/releases/tag/%40yarnpkg%2Fcli%2F4.10.0"><code>v4.10.0</code></a>.</p>
<p dir="auto">For <code>bun</code>, it is discussed here: <a data-error-text="Failed to load title" data-id="3416906846" data-permission-text="Title is private" data-url="https://github.com/oven-sh/bun/issues/22679" data-hovercard-type="issue" data-hovercard-url="/oven-sh/bun/issues/22679/hovercard" href="https://github.com/oven-sh/bun/issues/22679">oven-sh/bun#22679</a></p>
<p dir="auto">For <code>deno</code>, an draft proposal is here: <a data-error-text="Failed to load title" data-id="3423807974" data-permission-text="Title is private" data-url="https://github.com/denoland/deno/issues/30752" data-hovercard-type="pull_request" data-hovercard-url="/denoland/deno/pull/30752/hovercard" href="https://github.com/denoland/deno/pull/30752">denoland/deno#30752</a></p>


<blockquote>
<p dir="auto">In the latest LTS version of <code>nodejs</code>, we can use the Permission model to control what system resources a process has access to or what actions the process can take with those resources. <strong><em>However</em></strong>, this does not provide security guarantees in the presence of malicious code. Malicious code can still bypass the permission model and execute arbitrary code without the restrictions imposed by the permission model.</p>
</blockquote>
<p dir="auto">Read about the Node.js permission model: <a href="https://nodejs.org/docs/latest/api/permissions.html" rel="nofollow">https://nodejs.org/docs/latest/api/permissions.html</a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# by default, granted full access
node index.js

# restrict access to all available permissions
node --permission index.js

# enable specific permissions
node --permission --allow-fs-read=* --allow-fs-write=* index.js

# use permission model with `npx`
npx --node-options=&#34;--permission&#34; &lt;package-name&gt;"><pre><span><span>#</span> by default, granted full access</span>
node index.js

<span><span>#</span> restrict access to all available permissions</span>
node --permission index.js

<span><span>#</span> enable specific permissions</span>
node --permission --allow-fs-read=<span>*</span> --allow-fs-write=<span>*</span> index.js

<span><span>#</span> use permission model with `npx`</span>
npx --node-options=<span><span>&#34;</span>--permission<span>&#34;</span></span> <span>&lt;</span>package-name<span>&gt;</span></pre></div>
<p dir="auto">Deno enables permissions by default. See <a href="https://docs.deno.com/runtime/fundamentals/security/" rel="nofollow">https://docs.deno.com/runtime/fundamentals/security/</a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# by default, restrict access
deno run script.ts

# enable specific permission
deno run --allow-read script.ts"><pre><span><span>#</span> by default, restrict access</span>
deno run script.ts

<span><span>#</span> enable specific permission</span>
deno run --allow-read script.ts</pre></div>
<p dir="auto">For Bun, the permission model is currently discussed <a href="https://github.com/oven-sh/bun/discussions/725" data-hovercard-type="discussion" data-hovercard-url="/oven-sh/bun/discussions/725/hovercard">here</a> and <a href="https://github.com/oven-sh/bun/issues/6617" data-hovercard-type="issue" data-hovercard-url="/oven-sh/bun/issues/6617/hovercard">here</a>.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">6. Reduce External Dependencies</h3><a id="user-content-6-reduce-external-dependencies" aria-label="Permalink: 6. Reduce External Dependencies" href="#6-reduce-external-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">Because <code>npm</code> has a low barrier for publishing packages, the ecosystem quickly grew to be the biggest package registry with over 5 million packages to date<sup><a href="#user-content-fn-11-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-11-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">10</a></sup>. But not all packages are created equal. There are small utility packages<sup><a href="#user-content-fn-8-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-8-2-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">8</a></sup> that are downloaded as dependencies when we could write them ourselves and raise the question of &#34;have we forgotten how to code?<sup><a href="#user-content-fn-12-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-12-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">11</a></sup>&#34;</p>
</blockquote>
<p dir="auto">Between <code>nodejs</code>, <code>bun</code> and <code>deno</code>, developers can use many of their modern features instead of relying on third-party libraries. The native modules may not provide the same level of functionality, but they should be considered whenever possible. Here are few examples:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>NPM libraries</th>
<th>Built-in modules</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>axios</code>, <code>node-fetch</code>, <code>got</code>, etc</td>
<td>native<code>fetch</code> API</td>
</tr>
<tr>
<td><code>jest</code>, <code>mocha</code>, <code>ava</code>, etc</td>
<td><code>node:test</code>,<code>node:assert</code>, <code>bun test</code> and <code>deno test</code></td>
</tr>
<tr>
<td><code>nodemon</code>, <code>chokidar</code>, etc</td>
<td><code>node --watch</code>, <code>bun --watch</code> and <code>deno --watch</code></td>
</tr>
<tr>
<td><code>dotenv</code>, <code>dotenv-expand</code>, etc</td>
<td><code>node --env-file</code>, <code>bun --env-file</code> and <code>deno --env-file</code></td>
</tr>
<tr>
<td><code>typescript</code>, <code>ts-node</code>, etc</td>
<td><code>node --experimental-strip-types</code><sup><a href="#user-content-fn-10-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-10-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">12</a></sup>, native to <code>deno</code> and <code>bun</code></td>
</tr>
<tr>
<td><code>esbuild</code>, <code>rollup</code>, etc</td>
<td><code>bun build</code> and <code>deno bundle</code></td>
</tr>
<tr>
<td><code>prettier</code>, <code>eslint</code>, etc</td>
<td><code>deno lint</code> and <code>deno fmt</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Here are some resources that you might find useful:</p>
<ul dir="auto">
<li><a href="https://obsidian.md/blog/less-is-safer" rel="nofollow">https://obsidian.md/blog/less-is-safer</a></li>
<li><a href="https://kashw1n.com/blog/nodejs-2025" rel="nofollow">https://kashw1n.com/blog/nodejs-2025</a></li>
<li><a href="https://lyra.horse/blog/2025/08/you-dont-need-js" rel="nofollow">https://lyra.horse/blog/2025/08/you-dont-need-js</a></li>
<li><a href="https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use" rel="nofollow">https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use</a></li>
<li><a href="https://github.com/you-dont-need/You-Dont-Need-Momentjs">https://github.com/you-dont-need/You-Dont-Need-Momentjs</a></li>
</ul>


<p dir="auto"><a href="https://docs.npmjs.com/about-two-factor-authentication" rel="nofollow">https://docs.npmjs.com/about-two-factor-authentication</a></p>
<blockquote>
<p dir="auto">Two factor authentication (2FA) adds an extra layer of authentication to your <code>npm</code> account. 2FA is not required by default, but it is a good practice to enable it.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="# ensure that 2FA is enabled for auth and writes (this is the default)
npm profile enable-2fa auth-and-writes"><pre><span><span>#</span> ensure that 2FA is enabled for auth and writes (this is the default)</span>
npm profile enable-2fa auth-and-writes</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">8. Create Tokens with Limited Access</h3><a id="user-content-8-create-tokens-with-limited-access" aria-label="Permalink: 8. Create Tokens with Limited Access" href="#8-create-tokens-with-limited-access"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://docs.npmjs.com/about-access-tokens#about-granular-access-tokens" rel="nofollow">https://docs.npmjs.com/about-access-tokens#about-granular-access-tokens</a></p>
<blockquote>
<p dir="auto">An access token is a common way to authenticate to <code>npm</code> when using the API or the <code>npm</code> CLI.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="npm token create # for a read and publish token
npm token create --read-only # for a read-only token
npm token create --cidr=[list] # for a CIDR-restricted read and publish token
npm token create --read-only --cidr=[list] # for a CIDR-restricted read-only token"><pre>npm token create <span><span>#</span> for a read and publish token</span>
npm token create --read-only <span><span>#</span> for a read-only token</span>
npm token create --cidr=[list] <span><span>#</span> for a CIDR-restricted read and publish token</span>
npm token create --read-only --cidr=[list] <span><span>#</span> for a CIDR-restricted read-only token</span></pre></div>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<ul dir="auto">
<li>Restrict token to specific packages, scopes, and organizations</li>
<li>Set a token expiration date</li>
<li>Limit token access based on IP address ranges (CIDR notation)</li>
<li>Select between read-only or read and write access</li>
<li>Don&#39;t use the same token for multiple purposes</li>
</ul>
</div>
<div dir="auto"><h3 tabindex="-1" dir="auto">9. Generate Provenance Statements</h3><a id="user-content-9-generate-provenance-statements" aria-label="Permalink: 9. Generate Provenance Statements" href="#9-generate-provenance-statements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://docs.npmjs.com/generating-provenance-statements" rel="nofollow">https://docs.npmjs.com/generating-provenance-statements</a></p>
<blockquote>
<p dir="auto">The <em>provenance attestation</em> is established by publicly providing a link to a package&#39;s source code and build instructions from the build environment. This allows developers to verify where and how your package was built before they download it.</p>
<p dir="auto">The <em>publish attestations</em> are generated by the registry when a package is published by an authorized user. When an npm package is published with provenance, it is signed by Sigstore public good servers and logged in a public transparency ledger, where users can view this information.</p>
<p dir="auto">For example, here&#39;s what a provenance statement look like on the <code>vue</code> package page: <a href="https://www.npmjs.com/package/vue#provenance" rel="nofollow">https://www.npmjs.com/package/vue#provenance</a></p>
</blockquote>
<p dir="auto">To establish provenance, use a supported CI/CD provider (e.g., GitHub Actions) and publish with the correct flag:</p>

<p dir="auto">To publish without evoking the <code>npm publish</code> command, we can do one of the following:</p>
<ul dir="auto">
<li>Set <code>NPM_CONFIG_PROVENANCE</code> to <code>true</code> in CI/CD environment</li>
<li>Add <code>provenance=true</code> to <code>.npmrc</code> file</li>
<li>Add <code>publishConfig</code> block to <code>package.json</code></li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="&#34;publishConfig&#34;: {
  &#34;provenance&#34;: true
}"><pre><span>&#34;publishConfig&#34;</span>: {
  <span>&#34;provenance&#34;</span>: <span>true</span>
}</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">10. Review Published Files</h3><a id="user-content-10-review-published-files" aria-label="Permalink: 10. Review Published Files" href="#10-review-published-files"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">Limiting the files in an npm package helps prevent malware by reducing the attack surface, and it avoids accidental leaking of sensitive data</p>
</blockquote>
<p dir="auto">The <code>files</code> field in <code>package.json</code> is used to specify the files that should be included in the published package. Certain files are always included, see: <a href="https://docs.npmjs.com/cli/v11/configuring-npm/package-json#files" rel="nofollow">https://docs.npmjs.com/cli/v11/configuring-npm/package-json#files</a> for more details.</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &#34;name&#34;: &#34;my-package&#34;,
  &#34;version&#34;: &#34;1.0.0&#34;,
  &#34;main&#34;: &#34;dist/index.js&#34;,
  &#34;files&#34;: [&#34;dist&#34;, &#34;LICENSE&#34;, &#34;README.md&#34;]
}"><pre>{
  <span>&#34;name&#34;</span>: <span><span>&#34;</span>my-package<span>&#34;</span></span>,
  <span>&#34;version&#34;</span>: <span><span>&#34;</span>1.0.0<span>&#34;</span></span>,
  <span>&#34;main&#34;</span>: <span><span>&#34;</span>dist/index.js<span>&#34;</span></span>,
  <span>&#34;files&#34;</span>: [<span><span>&#34;</span>dist<span>&#34;</span></span>, <span><span>&#34;</span>LICENSE<span>&#34;</span></span>, <span><span>&#34;</span>README.md<span>&#34;</span></span>]
}</pre></div>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<p dir="auto">The <code>.npmignore</code> file can also be used to exclude files from the published package.</p>
<p dir="auto">It will not override the <code>&#34;files&#34;</code> field, but in subdirectories it will.</p>
<p dir="auto">The <code>.npmignore</code> file works just like a <code>.gitignore</code>. If there is a <code>.gitignore</code> file, and <code>.npmignore</code> is missing, <code>.gitignore</code>&#39;s contents will be used instead.</p>
</div>
<p dir="auto">We can run <code>npx pack --dry-run</code> to see the contents that will be included in the published version of the package.</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt; npx pack --dry-run
npm notice Tarball Contents
npm notice 1.1kB LICENSE
npm notice 1.9kB README.md
npm notice 108B index.js
npm notice 700B package.json
npm notice Tarball Details"><pre><span>&gt;</span> npx pack --dry-run
npm notice Tarball Contents
npm notice 1.1kB LICENSE
npm notice 1.9kB README.md
npm notice 108B index.js
npm notice 700B package.json
npm notice Tarball Details</pre></div>
<p dir="auto">Also, run <code>npm publish --dry-run</code> to see what would be happen when we run the publish command.</p>


<blockquote>
<p dir="auto">Private package registries are a great way for organizations to manage their own dependencies, and can acts as a proxy to the public <code>npm</code> registry. Organizations can enforce security policies and vet packages before they are used in a project.</p>
</blockquote>
<p dir="auto">Here are some private registries that you might find useful:</p>
<ul dir="auto">
<li>GitHub Packages <a href="https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-npm-registry">https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-npm-registry</a></li>
<li>Verdaccio <a href="https://github.com/verdaccio/verdaccio">https://github.com/verdaccio/verdaccio</a></li>
<li>Vlt <a href="https://www.vlt.sh/" rel="nofollow">https://www.vlt.sh/</a></li>
<li>JFrog Artifactory <a href="https://jfrog.com/integrations/npm-registry" rel="nofollow">https://jfrog.com/integrations/npm-registry</a></li>
<li>Sonatype: <a href="https://help.sonatype.com/en/npm-registry.html" rel="nofollow">https://help.sonatype.com/en/npm-registry.html</a></li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">12. Audit, Monitor and Security Tools</h3><a id="user-content-12-audit-monitor-and-security-tools" aria-label="Permalink: 12. Audit, Monitor and Security Tools" href="#12-audit-monitor-and-security-tools"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<blockquote>
<p dir="auto">Many package managers provide audit functionality to scan your project&#39;s dependencies for known security vulnerabilities, show a report and recommend the best way to fix them.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="npm audit # audit dependencies
npm audit fix # automatically install any compatible updates
npm audit signatures # verify the signatures of the dependencies

pnpm audit
pnpm audit --fix

bun audit

yarn npm audit
yarn npm audit --recursive # audit transitive dependencies"><pre>npm audit <span><span>#</span> audit dependencies</span>
npm audit fix <span><span>#</span> automatically install any compatible updates</span>
npm audit signatures <span><span>#</span> verify the signatures of the dependencies</span>

pnpm audit
pnpm audit --fix

bun audit

yarn npm audit
yarn npm audit --recursive <span><span>#</span> audit transitive dependencies</span></pre></div>

<p dir="auto"><a href="https://github.com/security">https://github.com/security</a></p>
<p dir="auto">GitHub offers several services that can help protect against <code>npm</code> malwares, including:</p>
<ul dir="auto">
<li><a href="https://docs.github.com/en/code-security/getting-started/dependabot-quickstart-guide">Dependabot</a>: This tool automatically scans your project&#39;s dependencies, including <code>npm</code> packages, for known vulnerabilities.</li>
<li><a href="https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/exporting-a-software-bill-of-materials-for-your-repository">Software Bill of Materials (SBOMs)</a>: GitHub allows you to export an SBOM for your repository directly from its dependency graph. An SBOM provides a comprehensive list of all your project&#39;s dependencies, including transitive ones (dependencies of your dependencies).</li>
<li><a href="https://docs.github.com/en/code-security/code-scanning/introduction-to-code-scanning/about-code-scanning">Code Scanning</a>: Code scanning can also help identify potential vulnerabilities or suspicious patterns that might arise from integrating compromised <code>npm</code> packages.</li>
</ul>


<p dir="auto"><a href="https://socket.dev" rel="nofollow">https://socket.dev</a></p>
<p dir="auto">Socket.dev is a security platform designed to protect JavaScript projects by scanning and securing dependencies from malicious and vulnerable code. It offers various tools such as GitHub App, &#34;Safe NPM&#34; CLI tool, Web Extension, and VSCode Extension. Watch their talk on <a href="https://youtu.be/cxJPiMwoIyY" rel="nofollow">AI powered malware hunting at scale, Jan 2025</a> for more details.</p>

<p dir="auto"><a href="https://snyk.io" rel="nofollow">https://snyk.io</a></p>
<p dir="auto">Snyk offers a suite of tools to fix vulnerabilities in open source dependencies, including a CLI to run vulnerability scans on local machine, IDE integrations to embed into development environment, and API to integrate with Snyk programmatically. For example, you can <a href="https://docs.snyk.io/developer-tools/snyk-cli/scan-and-maintain-projects-using-the-cli/test-public-npm-packages-before-use" rel="nofollow">test public npm packages before use</a> or <a href="https://docs.snyk.io/scan-with-snyk/pull-requests/snyk-pull-or-merge-requests/create-automatic-prs-for-backlog-issues-and-known-vulnerabilities-backlog-prs" rel="nofollow">create automatic PRs for known vulnerabilities</a>.</p>

<blockquote>
<p dir="auto">Maintainer burnout is a significant problem in the open-source community. Many popular <code>npm</code> packages are maintained by volunteers who work in their spare time, often without any compensation. Over time, this can lead to exhaustion and a lack of motivation, making them more susceptible to social engineering where a malicious actor pretends to be a helpful contributor and eventually injects malicious code.</p>
</blockquote>
<blockquote>
<p dir="auto">In 2018, the <code>event-stream</code> package was compromised due to the maintainer giving access to a malicious actor<sup><a href="#user-content-fn-13-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-13-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">13</a></sup>. Another example outside the JavaScript ecosystem is the XZ Utils incident<sup><a href="#user-content-fn-14-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-14-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">14</a></sup> in 2024 where a malicious actor worked for over three years to attain a position of trust.</p>
</blockquote>
<blockquote>
<p dir="auto">OSS donations also help create a more sustainable model for open-source development. Foundations can help support the business, marketing, legal, technical assistance and direct support behind hundreds of open source projects that so many rely upon<sup><a href="#user-content-fn-15-7d846da1d939557887a2c7c7f91549dc" id="user-content-fnref-15-7d846da1d939557887a2c7c7f91549dc" data-footnote-ref="" aria-describedby="footnote-label">15</a></sup>.</p>
</blockquote>
<p dir="auto">In the JavaScript ecosystem, the OpenJS Foundation (<a href="https://openjsf.org" rel="nofollow">https://openjsf.org</a>) was founded in 2019 from a merger of JS Foundation and Node.js Foundation. But here are few platforms where you can also directly donate to OSS maintainers:</p>
<ul dir="auto">
<li>GitHub Sponsors <a href="https://github.com/sponsors">https://github.com/sponsors</a></li>
<li>Open Collective <a href="https://opencollective.com" rel="nofollow">https://opencollective.com</a></li>
<li>Thanks.dev <a href="https://thanks.dev" rel="nofollow">https://thanks.dev</a></li>
</ul>
<section data-footnotes="">
<ol dir="auto">
<li id="user-content-fn-1-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://www.aikido.dev/blog/npm-debug-and-chalk-packages-compromised">https://www.aikido.dev/blog/npm-debug-and-chalk-packages-compromised</a> <a href="#user-content-fnref-1-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 1">↩</a></p>
</li>
<li id="user-content-fn-2-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://socket.dev/blog/nx-packages-compromised">https://socket.dev/blog/nx-packages-compromised</a> <a href="#user-content-fnref-2-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 2">↩</a></p>
</li>
<li id="user-content-fn-3-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://socket.dev/blog/ongoing-supply-chain-attack-targets-crowdstrike-npm-packages">https://socket.dev/blog/ongoing-supply-chain-attack-targets-crowdstrike-npm-packages</a> <a href="#user-content-fnref-3-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 3">↩</a> <a href="#user-content-fnref-3-2-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 3-2">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-4-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://www.reversinglabs.com/blog/malicious-npm-patch-delivers-reverse-shell">https://www.reversinglabs.com/blog/malicious-npm-patch-delivers-reverse-shell</a> <a href="#user-content-fnref-4-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 4">↩</a></p>
</li>
<li id="user-content-fn-5-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://socket.dev/blog/north-korean-apt-lazarus-targets-developers-with-malicious-npm-package">https://socket.dev/blog/north-korean-apt-lazarus-targets-developers-with-malicious-npm-package</a> <a href="#user-content-fnref-5-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 5">↩</a></p>
</li>
<li id="user-content-fn-6-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://socket.dev/blog/npm-registry-spam-john-wick">https://socket.dev/blog/npm-registry-spam-john-wick</a> <a href="#user-content-fnref-6-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 6">↩</a></p>
</li>
<li id="user-content-fn-7-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c">https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c</a> <a href="#user-content-fnref-7-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 7">↩</a></p>
</li>
<li id="user-content-fn-8-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://en.wikipedia.org/wiki/Npm_left-pad_incident">https://en.wikipedia.org/wiki/Npm_left-pad_incident</a> <a href="#user-content-fnref-8-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 8">↩</a> <a href="#user-content-fnref-8-2-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 8-2">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-9-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://socket.dev/blog/when-everything-becomes-too-much">https://socket.dev/blog/when-everything-becomes-too-much</a> <a href="#user-content-fnref-9-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 9">↩</a></p>
</li>
<li id="user-content-fn-11-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://libraries.io/npm">https://libraries.io/npm</a> <a href="#user-content-fnref-11-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 10">↩</a></p>
</li>
<li id="user-content-fn-12-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://www.theregister.com/2016/03/29/npmgate_followup">https://www.theregister.com/2016/03/29/npmgate_followup</a> <a href="#user-content-fnref-12-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 11">↩</a></p>
</li>
<li id="user-content-fn-10-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://nodejs.org/en/learn/typescript/run-natively">https://nodejs.org/en/learn/typescript/run-natively</a> <a href="#user-content-fnref-10-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 12">↩</a></p>
</li>
<li id="user-content-fn-13-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://github.com/dominictarr/event-stream/issues/116">https://github.com/dominictarr/event-stream/issues/116</a> <a href="#user-content-fnref-13-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 13">↩</a></p>
</li>
<li id="user-content-fn-14-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://en.wikipedia.org/wiki/XZ_Utils_backdoor">https://en.wikipedia.org/wiki/XZ_Utils_backdoor</a> <a href="#user-content-fnref-14-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 14">↩</a></p>
</li>
<li id="user-content-fn-15-7d846da1d939557887a2c7c7f91549dc">
<p dir="auto"><a href="https://openssf.org/blog/2024/04/15/open-source-security-openssf-and-openjs-foundations-issue-alert-for-social-engineering-takeovers-of-open-source-projects/">https://openssf.org/blog/2024/04/15/open-source-security-openssf-and-openjs-foundations-issue-alert-for-social-engineering-takeovers-of-open-source-projects/</a> <a href="#user-content-fnref-15-7d846da1d939557887a2c7c7f91549dc" data-footnote-backref="" aria-label="Back to reference 15">↩</a></p>
</li>
</ol>
</section>
</article></div></div>
  </body>
</html>
