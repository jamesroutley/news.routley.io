<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://404wolf.com/posts/404wolfcom/">Original</a>
    <h1>404Wolf.com</h1>
    
    <div id="readability-page-1" class="page"><div><astro-slot> <div>  
<h2 id="inspiration">Inspiration</h2>
<p>I initially was planning on working on various other ongoing projects, such as
an English flashcard generating service, but decided that I wanted to have a
good place to document my progress on everything else. I started by making a
simple homepage, and then when determining how to integrate a post/blog system
fell down the rabbithole of learning my first stack and javascript for the first
time. I could’ve used Wordpress, but I thought it would be a good chance to
learn how to do it from scratch.</p>
<p>I began working on this website during my second week of my batch at
<a href="https://recurse.com">Recurse Center</a>, an amazing open-ended programming retreat
based in Brooklyn, NY.</p>
<h2 id="choosing-frameworks">Choosing frameworks</h2>
<p>One of the main goals of this website was to get started with webdev. It was my
first proper “full stack project.” Previously I’d experimented with some
templated HTML, but I hadn’t done <code>javascript</code> before. I really enjoyed
Harvard’s CS50 React Native course’s video, where they speed-teach the language
(which is public and can be found
<a href="https://www.youtube.com/watch?v=X52b-8y2Hf4">here</a>). I also read over the
<a href="https://learnxinyminutes.com">learnxinyminutes.com</a> website to get a brief
overview of the syntax. I’ve found that javascript (and, later, typescript), is
weird, and not quite like other languages I’ve used. In some ways it’s
functional, especially with such flexible lambdas and promises. Yet, in others,
it’s object-orianted. Everything is a descendent of a primitive <code>object</code>, much
like Python, and you can have “classes,” but using it functionally is often a
lot more straightforward than in Python in my opinion.</p>
<p>For the frontend I went with React; I liked the idea of a composable component
based system, it is quite popular, and I didn’t really know what I was getting
into. At the time I didn’t know about React component libraries like MUI, so I
ended up building everything from the ground up, which I think was good for
learning, but bad for longer term maintenance.</p>
<p>Since I knew I was going to want a backend for things like managing the posts on
my website, I did a bit of research on how to set up a webserver for the
project. I considered using <code>express</code> or <code>django</code> to serve the site and
corresponding API, but a Recurse batch-mate introduced me to
<a href="https://nextjs.org/">NextJS</a>, which was very easy to scaffold and fun to work
with. It was also very easy (and free!) to get it hosted with
<a href="https://vercel.com/">Vercel</a>. NextJS is an interesting framework that blends
React for the frontend with Express for the backend, so that you can write your
backend would-be API code in the same file directory, and even files, as your
frontend code.</p>
<p>Originally, I made my website pages pull from a folder of markdown files which I
edited and directly commited to Github. Eventually, though, it became unwieldy,
and I met someone who introduced me to <a href="https://www.prisma.io/">Prisma</a> and
<code>Postgresql</code>. Postgres is a relational database system, an extension of SQL, and
Prisma is a popular Javascript ORM (object-relational-mapping framework, used
for querying the database with JS-object-style calls instead of literal SQL
queries). I stored the posts and some resources in AWS S3 blob storage (flat ID
to file storage), which at first was a pain to set up but got easier as I
tinkered with the settings and began to understand how it (and auth) worked,
referencing the images of my posts with keys that I stored in the database. It
was a rabbit hole into my first full stack web app.</p>
<p>I originally was planning on just using basic CSS, but after stumbling upon
tailwind in a react guide I was reading, I decided that it was worth giving it a
shot. It was simple to get set up, and made styling the website much easier and
faster. Tailwind is a “utility-first” styling framework that provides a ton of
useful classes that pre-pack styles so that you can do the styling directly in
HTML instead of ever needing any CSS, sort of like bootstrap. For example, to
add a bit of padding to the left of a <code>div</code>, you can simply add the class
“pl-3”. It has classes for pretty much every possible CSS style, and has
predetermined discrete choices for sizes and colors (which can be customized,
but in general help development more than hurt).</p>
<p>One fun thing I came across when designing the homepage UX is
<a href="https://safi.me.uk/typewriterjs/">Typewriter.js</a>, a library for simulating
typing. I thought it’d be a cool affect to apply to headers on my site, and then
later experimented with other animations and animation frameworks a bit. It lets
you do typewriter animations in a very nice modonic style.</p>
<pre tabindex="0" data-language="js"><code><span><span>typewriter</span></span>
<span><span>  .</span><span>typeString</span><span>(</span><span>&#39;Hello World!&#39;</span><span>)</span></span>
<span><span>  .</span><span>pauseFor</span><span>(</span><span>2500</span><span>)</span></span>
<span><span>  .</span><span>deleteAll</span><span>()</span></span>
<span><span>  .</span><span>typeString</span><span>(</span><span>&#39;Strings can be removed&#39;</span><span>)</span></span>
<span><span>  .</span><span>pauseFor</span><span>(</span><span>2500</span><span>)</span></span>
<span><span>  .</span><span>deleteChars</span><span>(</span><span>7</span><span>)</span></span>
<span><span>  .</span><span>start</span><span>()</span></span></code></pre>
<h2 id="post-management">Post Management</h2>
<p>One of the key features of my website is its integrated post management system.
Though originally my purpose was to just have a collection of my projects on the
site, as a portfolio of sorts, I decided to also add the ability to post blogs
too. All posts on the site are of a specific <code>type</code>, either <code>project</code> or <code>blog</code>.
By going to the pattern matched URL <code>https://404wolf.com/posts/&lt;type&gt;s</code>, you can
view all posts of a specific type. Each post has a specific schema, which is
used to generate a grid of tiles that present post previews.</p>
<pre tabindex="0" data-language="ts"><code><span><span>interface</span><span> PostData</span><span> {</span></span>
<span><span>  coverUrl</span><span>:</span><span> string</span><span> |</span><span> null</span></span>
<span><span>  coverAlt</span><span>:</span><span> string</span><span> |</span><span> null</span></span>
<span><span>  id</span><span>:</span><span> string</span></span>
<span><span>  title</span><span>:</span><span> string</span></span>
<span><span>  description</span><span>:</span><span> string</span></span>
<span><span>  date</span><span>:</span><span> string</span></span>
<span><span>  tags</span><span>:</span><span> string</span><span>[]</span></span>
<span><span>}</span></span></code></pre>
<p><img src="https://static.404wolf.com/postsPage_0001.png" alt="href"/></p>
<p>The posts themselves store this metadata in the database, and have corresponding
markdown files in S3. When the page is loaded to view a post, the S3 markdown is
prefetched, and is rendered client side. I use
<a href="https://github.com/remarkjs/react-markdown">react-markdown</a> to render the
markdown, with some custom overrides to handle images and codeblocks. I talk
about this more <a href="https://404wolf.com/posts/blog/imageBlocks">in this blog I wrote</a>, but I’ve also
added image blocks to markdown, to allow for groups of many images to show up
inline in the rendered markdown, by actually toying with the markdown to html
<code>AST</code> process.</p>
<h3 id="post-editor">Post editor</h3>
<p><img src="https://static.404wolf.com/postEditor_0001.png" alt="Post editor"/>
<img src="https://static.404wolf.com/editAboutMe_0001.png" alt="Editable S3 text area"/></p>
<p>To edit my posts, I decided to add an integrated editor into my website. This is
because I want the website to automatically handle storage of associated post
resources (images, files, markdown versions, etc.), rather than having to
manually deal with uploading things to S3 and directly using the hard S3 links.
My goal was to be able to reference the resources by keys (unique IDs I assign
to them) directly in the markdown, and by integrating the editor into the
website I’ve made it possible to have a what-you-see-is-what-you-get markdown
editing system where the markdown automatically replaces aliases live. The
actual post-editing page is quite complex since it includes many different
fields to enter metadata for the project post, a split screen viewing panel, and
a resource panel. The most notable part, seen in the <code>Editable S3 text area</code>
image above, is I’ve made a component to directly edit an AWS S3 file with
simple text area entry that is capable of displaying images and other artifacts
as rendered markdown.</p>
<p><img src="https://static.404wolf.com/https://static.404wolf.com/Post-20240710001621089.webp" alt="The resource editor"/></p>
<p>This system of using IDs was done with keys that are required to be unique by
the user, which is probably not the ideal way of doing it — I was manually
naming files uniquely. I decided to solve this problem by making all posts
upload with a unique ID automatically based on their filename, by appending
<code>000n</code> to the end, like <code>filename_0004.png</code>. It’s a bit clunky and requires
iteration to find an unused file name, but it works for now.</p>
<h2 id="exportingimporting">Exporting/importing</h2>
<p><img src="https://static.404wolf.com/exportTree_0001.png" alt="Export tree"/></p>
<p>In general, I don’t like locking myself into ecosystems, so from the beginning I
knew I wanted a system to export the contents of the site. This website
obviously relies on the hosting of various different cloud providers, which,
though reliable, are fail points. When I created the post editing system, I also
wrote two basic scripts to upload and download the all the posts and their
respective metadata. All files associated with a specific post get stored in a
folder alongside the post’s markdown, and the metadata is saved as a simple
<code>json</code>. Writing these scripts was rather simple, since I’m iteratively doing a
database call for each post to download all the resources using the public S3
URL, and my ORM can give me a metadata json automatically. This script was made
obsolete by my new Obsidian plugin for the website, though.</p>

<p>Coming soon!</p>
<h2 id="teasers">Teasers</h2>
<p><img src="https://static.404wolf.com/Post-20240716223544716.webp" alt="The commands"/></p>
<p><img src="https://static.404wolf.com/Post-20240716223617606.webp" alt="My website&#39;s contents"/></p>  </div> </astro-slot></div></div>
  </body>
</html>
