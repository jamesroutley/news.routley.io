<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lwn.net/SubscriberLink/953797/7222cd75661fb888/">Original</a>
    <h1>A Schism in the OpenPGP World</h1>
    
    <div id="readability-page-1" class="page"><p>

<h2>[LWN subscriber-only content]</h2>
</p><div>
<!-- $Id: slink-none,v 1.2 2005-11-04 22:11:18 corbet Exp $ -->
<blockquote>
<div>
<h3>Welcome to LWN.net</h3>
<p>
The following subscription-only content has been made available to you 
by an LWN subscriber.  Thousands of subscribers depend on LWN for the 
best news from the Linux and free software communities.  If you enjoy this 
article, please consider <a href="https://lwn.net/subscribe/">subscribing to LWN</a>.  Thank you
for visiting LWN.net!
</p></div>
</blockquote>

<p>
The <a href="https://www.openpgp.org/">OpenPGP</a> standard for email
encryption has been around since 1997, when it was derived from the
venerable <a href="https://en.wikipedia.org/wiki/Pretty_Good_Privacy">Pretty Good
Privacy</a> (PGP) program that was released in 1991.  Since it came about,
OpenPGP has been the decentralized, interoperable way to exchange encrypted
email, though 
its use never really took off as advocates hoped. Now, though, it
would seem that a split in the OpenPGP community threatens to
fragment the OpenPGP-encrypted-email landscape, potentially leading to
interoperability woes.
</p>

<p>
The <a href="https://librepgp.org/">LibrePGP</a> project was, seemingly, <a href="https://lists.gnupg.org/pipermail/librepgp-discuss/2023/000000.html">announced</a> in
 the initial message on a new <a href="https://lists.gnupg.org/mailman/listinfo/librepgp-discuss">LibrePGP-discuss</a>
mailing list on November 29 by Werner Koch.  In it, Koch described a
dispute over the direction of revisions to <a href="https://datatracker.ietf.org/doc/html/rfc4880">RFC 4880</a> (&#34;OpenPGP
Message Format&#34;), which directly led to the formation of LibrePGP:
</p><blockquote>
The major implementers of the OpenPGP standard as specified by RFC-4880
came together and agreed that the planned updates of the IETF to
RFC-4880 are harmful for the existing deployment of OpenPGP software.
The majority of its users are expecting long-term stability and a real
world focus instead of disruptive changes as recently been proposed [by] the
IETF OpenPGP working group.
</blockquote>


<p>
The &#34;major implementers&#34; mentioned are <a href="https://gnupg.org/">GnuPG</a> (or GPG), which Koch developed and now
maintains, and <a href="https://www.rnpgp.org/">RNP</a>, which is used for
<a href="https://lwn.net/Articles/832183/">OpenPGP support in the Thunderbird email
client</a>.  The current OpenPGP working group (WG) has set aside a  
<a href="https://www.ietf.org/archive/id/draft-koch-openpgp-2015-rfc4880bis-02.txt">draft
of an
update to RFC 4880</a> that Koch and others authored and is pushing a
different <a href="https://datatracker.ietf.org/doc/draft-ietf-openpgp-crypto-refresh/">&#34;crypto-refresh&#34;
update to the RFC</a>, which Koch characterized as &#34;disruptive changes&#34;.  LibrePGP has adopted the Koch-authored draft (also
known as RFC 4880bis) as 
LibrePGP 0.8.2.
</p>

<p>
The LibrePGP home page has an eight-part critique of the crypto-refresh
version, which 
is heavy on crypto terminology (and acronyms). The dispute seems to boil
down to a 
major difference in opinion about incrementally upgrading the RFC
(LibrePGP) versus 
making major changes as the &#34;refresh&#34; term might imply.  Some of those
major changes are not backward compatible, according to LibrePGP.  The
development 
timeline on the home page indicates that work started on revisions
in 2015 based on the Koch-authored draft, code 
was added to GnuPG and RNP in 2018 supporting those changes, but,
in 2021, the focus shifted away from RFC 4880bis
to the crypto-refresh effort.  The dispute over the scope of the changes
for the revision
apparently also led to the dissolution and resurrection of
the working group along the way:
</p><blockquote>
Considering that new features and discussions for larger updates of the
specification delayed a new RFC for many years and were the reason for
closing the WG in 2017 and re-opening in 2020, we [LibrePGP]
proposed to go back to 
the last commonly agreed upon draft or to conclude the WG on the grounds
that no rough consensus could be found.  
</blockquote>


<p>
As might be guessed, the proponents of the crypto refresh (and current
draft update to RFC 4880) have a rather different take.  In a <a href="https://proton.me/blog/openpgp-crypto-refresh">September blog
post</a>, Daniel Huigens, one of the authors of the crypto refresh,
described some of the &#34;<q>security and performance improvements</q>&#34; that
will come 
with the updated RFC.  He noted that his employer, <a href="https://proton.me/">Proton</a>, had implemented the crypto-refresh
features in 
two open-source OpenPGP libraries it maintains (<a href="https://openpgpjs.org/">OpenPGP.js</a> and <a href="https://gopenpgp.org/">GopenPGP</a>) and plans to roll the new
functionality out in its products.  Meanwhile, the crypto-refresh version
of the RFC seems headed
toward acceptance.
</p>

<p>
That obviously leads to the question of interoperability; if there are two
different standards, how do email clients (and other software) work with
both?  Kai Engert, who works on email encryption for Thunderbird, <a href="https://lists.hostpoint.ch/hyperkitty/list/openpgp-email@enigmail.net/thread/BKNLQCGOOALIHPOA7JAMNOFCYAYI7FXV/">posted
some questions</a> about that on the openpgp-email mailing list.  He noted
the kinds of problems that might surface to users because of different key,
encrypted-email,  
and signature formats and algorithms:
</p><blockquote>
I&#39;d prefer to hide this complexity from the user as much as possible, 
because email encryption is already too complicated, and I&#39;d prefer to 
make email encryption easier, not more complicated.
<p>
For now, maybe that means freezing Thunderbird&#39;s OpenPGP implementation 
at the level of RFC 4880, and not implementing any new OpenPGP 
functional improvements, until eventually a newer, then universally 
accepted PGP specification gets published.
</p></blockquote>


<p>
Engert thinks it likely that GnuPG <strike>and RNP</strike> will only implement the 4880bis
changes, which have largely already been released in those
tools, and will ignore the crypto-refresh version even if it gets
accepted. Huigens <a href="https://lists.hostpoint.ch/hyperkitty/list/openpgp-email@enigmail.net/message/JA3RW3MCZKQ5EXQZF4QYIXJ73GHOWRYI/">expressed
hope</a> that eventually all of the implementations would converge:
</p><blockquote>
In my opinion, the most user-friendly option would be to hide all of
this mess (as you say), which is easiest if we implement all versions
(v4, v5 and v6). That&#39;s what OpenPGP.js and GopenPGP will do, and -
though I know it seems unlikely and opinions differ - I still hope all
libraries will eventually do so, including GnuPG and RNP. If they
don&#39;t, perhaps you could use a patched version or a different library
that does, so that you don&#39;t have to bother the user about it.
</blockquote>


<p>
In <a href="https://lists.hostpoint.ch/hyperkitty/list/openpgp-email@enigmail.net/message/QRW77BAAURU4NMSLNKMAG6CLMHSZASC3/">another
message</a>, he described some of the history, noting that GnuPG and RNP
implemented the v5 packet format, which is part of the changes in RFC
4880bis; once the working group realized that GnuPG did not plan to rework
its code supporting v5, it switched the crypto-refresh format version to
v6.  The v4 packet format is codified in the existing RFC that everyone is
trying to update.
Huigens pointed to a <a href="https://mailarchive.ietf.org/arch/msg/openpgp/aqBy97lj2P4DVxTds0eKZDVdmms/">September 2022 post</a> to the IETF openpgp mailing list where he tried to
objectively describe the differences between the two proposals.  The <a href="https://mailarchive.ietf.org/arch/msg/openpgp/PWp3ZcZ_qnDNLhuT-zR7gA2ddeg/">thread</a>
that preceded that post may also be instructive for those who are
interested in more of the history of how things got to this point.
</p>

<p>
Engert also <a href="https://lists.gnupg.org/pipermail/librepgp-discuss/2023/000001.html">posted</a>
to the new LibrePGP-discuss list with his concerns.  In part, he was
wondering how implementations could &#34;<q>clearly identify whether a 
data stream of PGP packets follows either the OpenPGP or the LibrePGP 
specification</q>&#34;.  Andre Heinecke, who works with Koch on GnuPG at <a href="https://g10code.com/">g10 Code</a>, <a href="https://lists.gnupg.org/pipermail/librepgp-discuss/2023/000002.html">replied</a>
that the packet version number (v5 or v6) should be used for that purpose
in his opinion.  He does not think that users will encounter
backward-compatibility problems when using the changes in LibrePGP and if
implementations choose not to add the crypto-refresh features, that can be
treated in the same way that fallbacks for ciphers and cipher modes are
handled now.
</p>

<p>
It will clearly take some time for all of the ramifications of this split
to play out.  It seems likely that the IETF will approve the crypto-refresh
version of RFC 4880; Koch and others have dug in their heels in opposition
with LibrePGP.  The unfortunate outcome, though, may well be less adoption
of OpenPGP—or existing users dropping it—thus less encrypted email in the
world.  That is surely not what anyone in either camp—or stuck
between—wants.  Perhaps in the 
fullness of time, though, some kind of reconciliation is possible so that
those who <i>need</i> to be able to send and receive encrypted email
(journalists, whistleblowers, and so on) do not have even more hurdles
placed in their paths.
</p>

<p>
[Thanks to Jörg Sommer for giving us a heads-up on this topic.]
</p></div></div>
  </body>
</html>
