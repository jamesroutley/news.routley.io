<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://mchap.io/losing-a-5yr-long-illinois-foia-lawsuit-for-database-schemas.html">Original</a>
    <h1>Losing a 5-year-long Illinois FOIA lawsuit for database schemas</h1>
    
    <div id="readability-page-1" class="page"><div id="divbodyholder">

<div id="divbody"><div>
<h3><a href="https://mchap.io/losing-a-5yr-long-illinois-foia-lawsuit-for-database-schemas.html">
<h3>Losing a 5-year-long Illinois FOIA lawsuit for database schemas</h3>
</a></h3>
<!-- bashblog_timestamp: #202502261828.52# -->
<p>March 2, 2025 — 
Matt Chapman
</p>
<!-- text begin -->
<!-- fun begin -->

<p>Thomas Ptacek, a friend and expert witness in this lawsuit summed it up best in the court&#39;s hallway while walking within three feet of opposing counsel: <em>&#34;This is fucking stupid&#34;</em>.</p>

<p>His <a href="https://sockpuppet.org/blog/2025/02/09/fixing-illinois-foia/">companion post</a> explains why.</p>

<h2>Intro</h2>

<p>Working with the City of Chicago&#39;s parking ticket data—which I&#39;ve<a href="https://mchap.io/using-foia-data-and-unix-to-halve-major-source-of-parking-tickets.html"> received through FOIA</a>—has always been a pain, especially in terms of knowing what exactly to request. In August 2018, I attempted to generally solve that problem, by submitting a request for the following:</p>

<pre><code><em>An index of the tables and columns within each table of CANVAS.
Please include the column data type as well.

Per the <a href="https://www.chicago.gov/content/dam/city/depts/dps/ContractAdministration/Specs/2011/Spec92488II.pdf">CANVAS specification</a>, the database in question is Oracle, 
so the below SQL query will likely yield the records pursuant to this request:

select utc.column_name as colname, uo.object_name as tablename, utc.data_type as type
from user_objects uo
join user_tab_columns utc on uo.object_name = utc.table_name
where uo.object_type = &#39;TABLE&#39;
</em></code></pre>

<p>—<a href="https://www.muckrock.com/foi/chicago-169/canvas-database-schema-60175/"><i>CANVAS Database Schema request on Muckrock</i></a></p>

<p>After the City initially denied the request with an argument that the records&#39; release would compromise network security, I took the denial to court where we initially won at-trial. The City then appealed, which we won as well. The case ultimately went up to the Illinois Supreme Court, where we lost unanimously. Better Government Association did a <a href="https://www.bettergov.org/2023/05/19/better-government-association-statement-supreme-court-foia-ruling-limits-transparency-significantly-broadens-exemptions-to-foia/">good explainer </a>of the consequences of that loss, which boils down to a significant broadening of public agencies&#39; leeway to apply exemptions (i.e., withhold records or redact information) in response to FOIA requests. </p>

<h2>Why Go Through All of This?</h2>

<p>Under Illinois FOIA case law, if a request&#39;s responsive documents—the set of records or information within the scope of that request—are stored in a queryable database, a query must be written. The requester is not required to write the query. The law even requires the agency to give you the data in a format of your choice (protip: &#34;excel format&#34;). When it works, it&#39;s freaking great. Reality makes it difficult for a number of reasons, though:</p>

<ul>
<li>The FOIA officer will likely need to defer any querying to a colleague who is a &#34;data person.&#34;</li>
<li>You can&#39;t just ask a question:<a href="https://www.documentcloud.org/documents/?q=%22does+not+compel+the+agency+to+provide%22">&#34;FOIA does not compel the agency to provide answers to questions posed by the inquirer.&#34;</a></li>
<li>From the requester&#39;s perspective, &#34;Is X column requestable?&#34; isn&#39;t answerable without first attempting to request that column&#39;s data.</li>
<li>Requesting too many columns will likely lead to time-consuming back-and-forth, or a flat-out denial.</li>
<li>Even though Illinois FOIA requires that a requester be given a chance to narrow their request, FOIA officers sometimes just stop responding during this &#34;conferral&#34; process.</li>
</ul>

<p>To generally work through this problem, many folk will spend hours surfing through PDFs, reports, contracts, work products, etc, just to get a sense of what data might exist. This process is frustrating and often yields incomplete results.  Let&#39;s walk through my attempt with CANVAS.

</p><h2>First Attempts for Parking Ticket Data</h2>

<p>My <em><a href="https://www.documentcloud.org/documents/25548155-first-foia/">very first</a></em> FOIA request was pretty narrow and sought the City&#39;s towing data. The City was unable to get me what I requested for reasons I can&#39;t seem to find, but it painted a picture that the Chicago doesn&#39;t <em>really</em> track how cars are towed. </p>

<p>A month later, the project began shifting towards parking ticket data in addition to towing data, so I <a href="https://www.documentcloud.org/documents/25546093-1029-001/">requested:</a></p> 

<pre><code><em>all raw towing and parking violation records available in the CANVAS system and any records that are from imported/interpolated from non-CANVAS systems.</em></code></pre> 

<p>This request was denied. The Department of Finance argued that the request would take anywhere between 280 to 400 hours to complete:</p>

<pre><code><em>There are 55 million ticket records and 928K seizure records in CANVAS. As far as tow information, we only have knowledge of when a vehicle is towed due to a boot and released. The Department of Finance&#39;s application support vender estimates a minimum of 60-80 hours to design/develop/test and run the program.

In addition, since this is like a conversion to another system, we are not sure how long it would take to transfer so much data, a rough estimate would be an additional 80-120 hours to design a solution to get all the data on some kind of media for retrieval. Compliance with this request as currently written would take approximately 140-200 hours utilizing our vendor&#39;s resources to the exclusion of other work assignments.</em></code></pre>

<p>A couple months and some phone calls later, I submitted a narrower request, which was successfully fulfilled, because I included an explicit list of fields. After honing the request language a <a href="https://www.documentcloud.org/documents/25548154-foia-request-data/">a bit more</a>, I was eventually able to get the data used in the analysis of my <a href="https://mchap.io/using-foia-data-and-unix-to-halve-major-source-of-parking-tickets.html">first blog post.</a></p>

<h2> But Wait, Is There More?</h2>


<p>Despite getting the limited information I had requested, I still wanted to expand my analysis, which required knowing what other information exists within CANVAS. So, I submitted <a href="https://www.documentcloud.org/documents/25546081-matt-chapman-canvas-information-foia-response-1/">another request</a> for high-level and low-level system information: 

</p><pre><code><em>
1. Code for CANVAS
2. Logs of CANVAS and/or CANVAS log analysis. 
3. Documentation for the operation of CANVAS, including how information is stored, what kind of database is used, along with any other technical documentation or generic documentation.
4. Any Wiki page related to CANVAS.
5. Any analysis of City parking ticket levels or trends.</em></code></pre><p>

The only records the City sent in response was a <a href="https://www.documentcloud.org/documents/25546082-matt-chapman-canvas-information-foia-document-1/">lackluster spreadsheet</a> with just 100 rows, broken down by ward. I&#39;m still not sure if this was the only analysis <i>ever</i> done at the time, but let&#39;s get back to the meat of this blog post.

</p><p>1, 2, and 3 were denied because:

</p><pre><code><em>[The records] could be used in a security breach against CANVAS and jeopardize the security of the system, therefore it is being withheld.</em></code></pre>

<p>But with the goal of just figuring out what information exists, the request was extremely wide and could have been narrowed to something more akin to a <a href="https://en.wikipedia.org/wiki/Data_dictionary">&#34;data dictionary&#34;</a>. To this day, I&#39;ve never been able to get anything like a data dictionary from the City, though there <i>is</i> a contractual obligation—<a href="https://data.cityofchicago.org/Administration-Finance/CANVAS/sbf2-65yk/data_preview">as described in the RFP spec for this $200 million system</a>—for the City to maintain something like that! But alas, at least in 2018, <a href="https://www.rpubs.com/argdata/420073">the City claimed</a> they don&#39;t have anything like it. 


</p><center><img src="https://mchap.io/assets/maintaindatamodels.png" alt="https://www.documentcloud.org/documents/25537825-document/#document/p180/a2624483" title=""/><br/></center>

<center><em>—Professional Services Agreement Between the City of Chicago Department of Finance and Department of Administrative Hearings and IBM Corporation: City of Chicago Violation, Noticing and Adjudication Business Process and System Support, p. 180 (2012)</em></center>

<h2>Requesting Database Records from All City Databases</h2>

<p>Sensing a pattern of a general failure to maintain data dictionaries, <a href="https://www.chicago.gov/city/en/depts/mayor/press_room/press_releases/2013/october_2013/mayor_rahm_emanuelandthedepartmentofinnovationandtechnologylaunc.html">despite the City&#39;s public support for launching one</a>, I submitted a FOIA request to every City agency for the following: 

</p><pre><code><em>1. A short description of the database.
2. The names of the applications that are able to run queries/inserts.
3. All usernames and permissions
4. All database table names.
5. All column names in each table.
6. A description of each column.
7. Number of rows in each table.</em></code></pre>

<p>A couple weeks later, Chicago&#39;s Department of Law sent me <a href="https://www.documentcloud.org/documents/25546087-database-foia-request-021315/">a letter on behalf of every agency</a> and denied all parts, 1 through 7, of that request. 

</p><p>First, they argued that they would need to &#34;create a new document&#34;:</p>
<pre><code><em>First, no City Department is in possession of a document which contains the information you seek. The only way to compile the requested information, to the extent it is not exempt for one or more of the reasons noted below, would be to create a document.</em></code></pre>

<p>Then, they requested a pedantic clarification about what &#34;database&#34; means:</p>
<pre><code><em>Your request does not provide a definition of the term database. A commonly accepted definition of &#34;database&#34; is collection of pieces of information that is organized and used on a computer. http://www.merriam-webster.com/dictionary/database. Such a broad definition would include Excel spreadsheets. It would be unduly burdensome to the operations of each of the City&#39;s Departments to search every computer in use by its personnel in order to identify, open,review and catalogue each database and every Excel spreadsheet in the manner you request.&#34;</em></code></pre><p>

But even with all of that, they offered a helpful suggestion, and pointed to the City&#39;s &#34;data dictionary&#34;:

</p><pre><code><em>Please note that in late 2013, the City of Chicago launched a publically available Data Dictionary which can be found at http://datadictionary.cityofchicago.org/. It is described as “a resource for anyone who is interested in understanding what data is held by City agencies and departments, how and if it may be accessed, and in what formats it may be accessed.”</em></code></pre><p>

Cool! It&#39;s a damn shame the system shutdown less than a year later, though.

</p><h2>&#34;Metalicious&#34;: Chicago&#39;s Failed Data Dictionary</h2>
<p>A lot of government agencies have absolutely recognized the problem of the public not knowing what information exists, including Chicago. One such attempt at fixing this problem is to voluntarily make the columns and table names of their databases open to the public, like the Department of Justice&#39;s <a href="https://www.justice.gov/afp/media/1186431/dl?inline=">PDFs of table names, column names, and descriptions of both.</a>. There&#39;s even an <a href="https://resources.data.gov/">open specification</a> for government database schemas!</p><p>But even with agencies voluntarily making schema information public, such releases are effectively discretionary and are outside of the realm of FOIA.</p>

<p>One such release of discretionary information, as the Department of Law mentioned in their denial letter, is the 2013-released city-wide data dictionary project called &#34;Metalicious&#34;. That&#39;s the actual name.</p>

<p>Metalicious was funded by a $300,000 John D. and Catherine T. MacArthur Foundation grant to UChicago&#39;s Chapin Hall, with the intended purpose of making table names, column names and descriptions of both publicly accessible. It&#39;s the City&#39;s &#34;data dictionary&#34;.

</p><center><p><img src="https://mchap.io/assets/internet_archive_metalicious.png" alt="CANVAS!" title=""/></p>

<em>Schema information of the Chicago Budget System on Metalicious (2016)</em></center>

<p>An example of a system whose database schema information is released was the Chicago Budget System (CBS). A total of 110 tables are listed, with descriptions and a link to each table&#39;s columns. An interesting table worth investigation on its own is, <code>BOOK_ALDERMANIC_PAYRATE</code>, which is described as, &#34;data used for creating pay schedule for aldermanic staff published in the Budget Book&#34;. Good to know!</p><p>

Metalicious received <a href="https://www.smartchicagocollaborative.org/city-of-chicago-launches-the-first-comprehensive-public-municipal-data-dictionary/">some attention</a> in civic data circles:</p>

<pre><code><em>Journalists and civic inquisitors can use it to determine what information is available when composing Freedom of Information Act requests. Based on my own experience, knowing what to even ask for has been a challenge. <strong>All that is over.</strong></em></code></pre>



<h2>All That Is Over: Its Inevitable Shutdown</h2>

<p>Within a few short years, the project ostensibly shut down and its front page was replaced with a message about being down for &#34;temporary maintenance&#34;. That temporary maintenance has been ongoing for about nine years now. </p>

<center><p><img src="https://mchap.io/assets/data_dictionary_temporary_maintenance.png" alt="Down For Maintenance" title=""/></p></center>


<p>Back in 2018, I asked the City&#39;s now-former Chief Data Officer Tom Schenk why it was shut down, and he explained:</p>

<p><code><pre><em>Metalicious was retired because of lack of resources to expand it (originally grant funded). It had some, but very, very small proportion of databases. There was security review of any published data and some information was withheld if we felt it could undermine the application security. By Info Sec policy, it is confidential information until a review deems it appropriate for public release--same as the open data workflow which mirrors the FOIA workflow.</em></pre></code></p><p>RIP.</p>

<p><a href="https://datadictionary.cityofchicago.org/"> Down For Maintenance </a>
|<a href="https://web.archive.org/web/20160211131329/http://datadictionary.cityofchicago.org:80/">Last-Known Running </a>
|<a href="https://github.com/Chicago/metalicious"> Metalicious GitHub </a></p>

<h2>Requesting Metalicious</h2>

<p>Okay, that&#39;s not surprising, but since the first goal here was to figure out whether column and table names are requestable, I <a href="https://web.archive.org/web/20190515215522/https://www.chicago.gov/city/en/depts/doit/provdrs/data_sciences.html">submitted my request for the MySQL dump of Metalicious</a>. As these things go, that request was also denied:</p>

<pre><code><em>Please be advised the Department of Innovation and Technology neither maintains nor possesses any records that are responsive to your FOIA request.</em></code></pre>

<p>So, I submitted another request and was sure to included a quote from a<a href="https://www.chicago.gov/city/en/depts/mayor/press_room/press_releases/2013/october_2013/mayor_rahm_emanuelandthedepartmentofinnovationandtechnologylaunc.html"> press release that was explicit about the Department&#39;s ownership of Metalicious.</a> 

</p><p>They eventually sent me a copy of a MySQL dump with about 150 databases&#39; columns and table names, including their descriptions. Neat! Progress!</p>

<p>To me, this reasonably shows that the City <em>can</em> provide table names and column names of City databases under IL FOIA.</p>

<h2>The CANVAS Request and Trial</h2>

<p>This brings us back to the FOIA request for the CANVAS database schema, which was twice appealed and died at the Illinois Supreme Court.</p>

<p>The request included a SQL statement for the City to run in order to fulfil the request. I made some small mistakes that bit me later, which is ripe for another whole post. Essentially, the City denied the request by arguing that the release of this information would jeopardize the security of Chicago&#39;s systems:</p>

<pre><code><em>Your request seeks a copy of tables or columns within each table of CANVAS. The dissemination of these pieces of network information could jeopardize the security of the systems of the City of Chicago.  Please be advised that even if you were to narrow your request, certain records may be withheld from disclosure under the exemptions enumerated in the FOIA, including but not limited to the exemption set forthin 5 ILCS 140/7(1)(o).</em></code></pre>

<p>I disagree wholeheartedly and Thomas Ptacek goes into more detail in his <a href="https://sockpuppet.org/blog/2025/02/09/fixing-illinois-foia/">companion post.</a></p>


<p>Upon recieving this denial, I reached out to my attorneys at <a href="https://www.loevy.com/">Loevy &amp; Loevy</a> who agreed to sue.</p>


<h2>&#34;Civic Hacker&#34;</h2>

<p>Eventually there was a trial in January 2020. During the trial, the City&#39;s attorneys argued that my intent was nefarious:</p>

<pre><code><em>They are seeking the ability to have information that helps Mr. Chapman, civic hacker, go into the system and manipulate the data for whatever means he sees fit. That is not something that FOIA requires the City to do.</em></code></pre>

<p>I have no idea where they came up with the idea that I wanted to manipulate their data, especially considering that just four months earlier, I was asked to help the City with parking ticket reform. </p>

<p>While we were waiting for the trial date, Kate LeFurgy, Director of Comms for the Office of the Mayor, reached out to me and asked if I could help with some parking ticket analysis (for free). I agreed, and compiled a spreadsheet detailing how a large number of vehicles received a disproportionate number of tickets—groupings that highlight, for example, one vehicle which received at least three tickets per week for 41 continuous weeks.</p>

<pre><code><em>This is incredible. I can&#39;t thank you enough as to how helpful this was. I truly appreciate your time and talents on this work. It has been invaluable in shaping the reform measures we hope to put in place later this year.
-Kate LeFurgy | Fri, Aug 23, 2019</em></code></pre>

<p>Those good spirits did not last long, and LeFurgy did not respond to my emails asking for thoughts on the CANVAS litigation.</p>


<h2>Privacy When It&#39;s Convenient</h2>


<p>Chicago&#39;s expert witness, Bruce Coffing, said in court:</p>

<pre><code><em>In this particular case we are saying, I&#39;m saying that from defending this, our constituents&#39; information, their private information, one of the things that helps us defend that system is not making this [schema information] available.

It is not the only thing we do. We do many things. But I don&#39;t want to make it easier for the bad guys and bad gals out there to attack our system and let— put our constituents&#39; private data at risk.</em></code></pre>

<p>This argument is striking to me, because the City has already shared so much private data through FOIA.</p>

<p>For instance, in 2018, when I requested parking ticket data from the Department of Finance, their FOIA officer told me that they could not include both license plates <em>and</em>the vehicles&#39; registered address. To resolve this issue, they offered to remove license plate data and only provide addresses.</p>

<p>However, they had <em>already</em> given me the license plate data of millions of ticketed vehicles, in response to a different, earlier FOIA request. So, I received registered home addresses from one request, and license plates from another.</p>

<p>The responsive records from these two separate FOIA requests can easily be paired.</p>

<p>To demonstrate the extent of this problem, I <a href="https://observablehq.com/d/026992341cc47ff0">created this visualization</a> which shows the scale of private information disclosed by the Department of Finance: vehicle addresses from every U.S. state, including 11,057 unique addresses of Texas vehicles and 48,707 from Michigan.</p>

<center><img src="https://mchap.io/assets/tickets_address_observable.png" title=""/></center>

<p>I&#39;ve been told by a reliable source that the Department of Finance no longer sends license plates nor registered addresses in response to FOIA requests.</p>


<h2>Next Steps</h2>

<p>The whole point of this entire thing was to make it easier to request data through FOIA. Ultimately, the goal is to simply send a SQL statement to an agency for them to run, and avoid so much of the usual nonsense. Basically, an API.</p>

<p>Relatedly, these <a href="https://www.ilga.gov/legislation/BillStatus.asp?DocNum=2640&amp;GAID=17&amp;DocTypeID=SB&amp;LegID=150940&amp;SessionID=112&amp;SpecSess=&amp;Session=&amp;GA=103">two</a> <a href="https://www.ilga.gov/legislation/BillStatus.asp?DocNum=3076">bills</a> from last year were interesting, and sought to fix the IL Supreme Court&#39;s bad decision. But they didn&#39;t go anywhere during last year&#39;s session.</p>

<p>Fortunately this year, a <a href="https://www.ilga.gov/legislation/BillStatus.asp?DocNum=226&amp;GAID=18&amp;DocTypeID=SB&amp;LegId=157537&amp;SessionID=114&amp;GA=104">new bill</a> was filed with the addition of this language:</p>

<p><code><em><pre>[...] and shall include the identification and a plain-text description of each of the types or categories of information of each field of each database of the public body. [...] and shall provide a sufficient description of the structures of all databases under the control of the public body to allow a requester to request the public body to perform specific database queries.</pre></em></code>

That&#39;s pretty neat! I hope it passes.

</p><!-- text end -->

</div>

</div></div></div>
  </body>
</html>
