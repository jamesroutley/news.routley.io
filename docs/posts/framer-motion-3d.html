<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.framer.com/docs/three-introduction/">Original</a>
    <h1>Framer Motion 3D</h1>
    
    <div id="readability-page-1" class="page"><div><div><h2 id="overview"><a href="https://www.framer.com/docs/three-introduction/#overview" data-link="true">#</a>Overview</h2><p>Framer Motion 3D is a simple yet powerful animation library for <a href="https://docs.pmnd.rs/react-three-fiber/getting-started/introduction" target="_blank" rel="noopener" data-link="false">React Three Fiber</a>. It offers most of the same functionality as Framer Motion for declarative 3D scenes.</p><p>This guide will help you create animations with Motion 3D, but assumes you know the basics of both <a href="https://www.framer.com/docs/" data-link="true">Framer Motion</a> and <a href="https://docs.pmnd.rs/react-three-fiber/getting-started/introduction" target="_blank" rel="noopener" data-link="false">React Three Fiber</a>.</p><h2 id="installation"><a href="https://www.framer.com/docs/three-introduction/#installation" data-link="true">#</a>Installation</h2><p>Framer Motion 3D is built upon the <a href="https://threejs.org/" target="_blank" rel="noopener" data-link="false">Three.js</a> and <a href="https://docs.pmnd.rs/react-three-fiber/getting-started/introduction" target="_blank" rel="noopener" data-link="false">React Three Fiber</a> (R3F) libraries. Install all three from npm:</p><div><pre><code><p><span>npm install three @react-three/fiber framer-motion</span></p></code></pre></div><h2 id="usage"><a href="https://www.framer.com/docs/three-introduction/#usage" data-link="true">#</a>Usage</h2><h3 id="#motion-components"><a href="https://www.framer.com/docs/three-introduction/#%23motion-components" data-link="true">#</a><code>motion</code> components</h3><p>For every R3F component, there&#39;s a <code>motion</code> equivalent. Import <code>motion</code> from <code>&#34;framer-motion/three&#34;</code>:</p><div><pre><code><p><span>import</span><span> </span><span>{</span><span> motion </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;framer-motion/three&#34;</span></p></code></pre></div><p>And use in place of your R3F components:</p><div><pre><code><p><span>&lt;</span><span>motion.pointLight</span><span> </span><span>animate</span><span>=</span><span>{</span><span>{</span><span> x</span><span>:</span><span> </span><span>2</span><span> </span><span>}</span><span>}</span><span> </span><span>/&gt;</span></p></code></pre></div><h3 id="#animation"><a href="https://www.framer.com/docs/three-introduction/#%23animation" data-link="true">#</a>Animation</h3><p>Motion 3D supports all the same <a href="https://www.framer.com/docs/animation/" data-link="true">animation</a> options as usual, including the <code>initial</code> and <code>animate</code> props, variants, and the imperative <code>useAnimation</code> controls.</p><div><pre><code><p><span>const</span><span> variants </span><span>=</span><span> </span><span>{</span><span></span></p><p><span>  hidden</span><span>:</span><span> </span><span>{</span><span> opacity</span><span>:</span><span> </span><span>0</span><span> </span><span>}</span><span>,</span><span></span></p><p><span>  visible</span><span>:</span><span> </span><span>{</span><span> opacity</span><span>:</span><span> </span><span>1</span><span> </span><span>}</span><span>,</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>return</span><span> </span><span>(</span><span></span></p><p><span>  </span><span>&lt;</span><span>motion.meshStandardMaterial</span><span></span></p><p><span>    </span><span>initial</span><span>=</span><span>&#34;</span><span>hidden</span><span>&#34;</span><span></span></p><p><span>    </span><span>animate</span><span>=</span><span>&#34;</span><span>visible</span><span>&#34;</span><span></span></p><p><span>    </span><span>variants</span><span>=</span><span>{</span><span>variants</span><span>}</span><span></span></p><p><span>  </span><span>/&gt;</span><span></span></p><p><span></span><span>)</span></p></code></pre></div><p>Currently, variants can&#39;t be automatically passed between the DOM and 3D worlds, but you can still share state to achieve similar results:</p><div><pre><code><p><span>// index.js</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> motion </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;framer-motion&#34;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> Scene </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;./scene&#34;</span><span></span></p><p><span></span><span>export</span><span> </span><span>function</span><span> </span><span>App</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>const</span><span> </span><span>[</span><span>isHovered</span><span>,</span><span> setIsHovered</span><span>]</span><span> </span><span>=</span><span> </span><span>useState</span><span>(</span><span>false</span><span>)</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>    </span><span>&lt;</span><span>motion.div</span><span></span></p><p><span>      </span><span>whileHover</span><span>=</span><span>{</span><span>{</span><span> scale</span><span>:</span><span> </span><span>1.2</span><span> </span><span>}</span><span>}</span><span></span></p><p><span>      </span><span>onHoverStart</span><span>=</span><span>{</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>setIsHovered</span><span>(</span><span>true</span><span>)</span><span>}</span><span></span></p><p><span>      </span><span>onHoverEnd</span><span>=</span><span>{</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>setIsHovered</span><span>(</span><span>true</span><span>)</span><span>}</span><span></span></p><p><span>    </span><span>&gt;</span><span></span></p><p><span>      </span><span>&lt;</span><span>Scene</span><span> </span><span>isHovered</span><span>=</span><span>{</span><span>isHovered</span><span>}</span><span> </span><span>/&gt;</span><span></span></p><p><span>    </span><span>&lt;/</span><span>motion.div</span><span>&gt;</span><span></span></p><p><span>  </span><span>)</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>// scene.js</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> Canvas </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;@react-three/fiber&#34;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> motion </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;framer-motion/three&#34;</span><span></span></p><p><span></span><span>export</span><span> </span><span>function</span><span> </span><span>Scene</span><span>(</span><span>{</span><span> isHovered </span><span>}</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>    </span><span>&lt;</span><span>Canvas</span><span>&gt;</span><span></span></p><p><span>      </span><span>&lt;</span><span>motion.group</span><span> </span><span>animate</span><span>=</span><span>{</span><span>isHovered </span><span>?</span><span> </span><span>&#34;hover&#34;</span><span> </span><span>:</span><span> </span><span>&#34;rest&#34;</span><span>}</span><span>&gt;</span><span></span></p><p><span>        </span><span>&lt;</span><span>motion.mesh</span><span> </span><span>variants</span><span>=</span><span>{</span><span>{</span><span> hover</span><span>:</span><span> </span><span>{</span><span> z</span><span>:</span><span> </span><span>1</span><span> </span><span>}</span><span> </span><span>}</span><span>}</span><span> </span><span>/&gt;</span><span></span></p><p><span>      </span><span>&lt;/</span><span>motion.group</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;/</span><span>Canvas</span><span>&gt;</span><span></span></p><p><span>  </span><span>)</span><span></span></p><p><span></span><span>}</span></p></code></pre></div><h3 id="#supported-values"><a href="https://www.framer.com/docs/three-introduction/#%23supported-values" data-link="true">#</a>Supported values</h3><p>3D <code>motion</code> components support most of the the same transforms as their 2D equivalents:</p><ul><li><code>x</code>, <code>y</code> and <code>z</code></li><li><code>scale</code>, <code>scaleX</code>, <code>scaleY</code> and <code>scaleZ</code></li><li><code>rotateX</code>, <code>rotateY</code> and <code>rotateZ</code></li></ul><p>Additionally, <code>color</code> and <code>opacity</code> are supported on 3D primitives that support them, like <code>meshStandardMaterial</code>, with support for more values coming in the near future.</p><h3 id="#gestures"><a href="https://www.framer.com/docs/three-introduction/#%23gestures" data-link="true">#</a>Gestures</h3><p>3D <code>motion</code> components support the hover and tap <a href="https://www.framer.com/docs/gestures/" data-link="true">gestures</a> on R3F with a physical presence (like <code>mesh</code>).</p><div><pre><code><p><span>&lt;</span><span>motion.mesh</span><span></span></p><p><span>  </span><span>whileHover</span><span>=</span><span>{</span><span>{</span><span> scale</span><span>:</span><span> </span><span>1.1</span><span> </span><span>}</span><span>}</span><span></span></p><p><span>  </span><span>whileTap</span><span>=</span><span>{</span><span>{</span><span> scale</span><span>:</span><span> </span><span>0.9</span><span> </span><span>}</span><span>}</span><span></span></p><p><span>  </span><span>onHoverStart</span><span>=</span><span>{</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> console</span><span>.</span><span>log</span><span>(</span><span>&#39;hover start&#39;</span><span>)</span><span>}</span><span></span></p><p><span>  </span><span>onTap</span><span>=</span><span>{</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> console</span><span>.</span><span>log</span><span>(</span><span>&#39;tapped!&#39;</span><span>)</span><span>}</span><span></span></p><p><span></span><span>/&gt;</span></p></code></pre></div><h3 id="#motionvalue"><a href="https://www.framer.com/docs/three-introduction/#%23motionvalue" data-link="true">#</a><code>MotionValue</code></h3><p><code>MotionValue</code>s are used to track the state and velocity of animating values, outside of React&#39;s render lifecycle.</p><p>With 3D <code>motion</code> components, <code>MotionValue</code>s are injected via their R3F attribute:</p><div><pre><code><p><span>import</span><span> </span><span>{</span><span> useMotionValue</span><span>,</span><span> useTransform </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;framer-motion&#34;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> motion </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;framer-motion/three&#34;</span><span></span></p><p><span></span><span>export</span><span> </span><span>function</span><span> </span><span>Box</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>const</span><span> x </span><span>=</span><span> </span><span>useMotionValue</span><span>(</span><span>0</span><span>)</span><span></span></p><p><span>  </span><span>const</span><span> scaleZ </span><span>=</span><span> </span><span>useTransform</span><span>(</span><span>x</span><span>,</span><span> </span><span>v</span><span> </span><span>=&gt;</span><span> v </span><span>/</span><span> </span><span>100</span><span>)</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>    </span><span>&lt;</span><span>motion.mesh</span><span></span></p><p><span>      </span><span>position-x</span><span>=</span><span>{</span><span>x</span><span>}</span><span></span></p><p><span>      </span><span>scale</span><span>=</span><span>{</span><span>[</span><span>1</span><span>,</span><span> </span><span>1</span><span>,</span><span> scaleZ</span><span>]</span><span>}</span><span></span></p><p><span>      </span><span>animate</span><span>=</span><span>{</span><span>{</span><span> x</span><span>:</span><span> </span><span>100</span><span> </span><span>}</span><span>}</span><span> </span></p><p><span>    </span><span>/&gt;</span><span></span></p><p><span>  </span><span>)</span><span></span></p><p><span></span><span>}</span></p></code></pre></div><h2 id="examples"><a href="https://www.framer.com/docs/three-introduction/#examples" data-link="true">#</a>Examples</h2><p>.</p></div></div></div>
  </body>
</html>
