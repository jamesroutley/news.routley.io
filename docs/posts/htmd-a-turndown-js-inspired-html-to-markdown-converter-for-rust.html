<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/letmutex/htmd">Original</a>
    <h1>Htmd: A turndown.js inspired HTML-to-Markdown converter for Rust</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">An HTML to Markdown converter for Rust, inspired by <a href="https://github.com/mixmark-io/turndown">turndown.js</a>.</p>

<ul dir="auto">
<li>Rich options, same as turndown.js</li>
<li>Reliable, it passes <a href="https://github.com/mixmark-io/turndown/blob/master/test/index.html">all test cases</a> of turndown.js</li>
<li>Minimum dependencies, it uses only <a href="https://github.com/servo/html5ever">html5ever</a></li>
<li>Fast, it takes less than 200ms to convert a ~1.4MB Wikipedia page on an i5 7th gen CPU</li>
</ul>

<p dir="auto">Add the dependency</p>


<div dir="auto" data-snippet-clipboard-copy-content="use htmd::HtmlToMarkdown;

fn main() {
    assert_eq!(&#34;# Heading&#34;, HtmlToMarkdown::new().convert(&#34;&lt;h1&gt;Heading&lt;/h1&gt;&#34;).unwrap());
}"><pre><span>use</span> htmd<span>::</span><span>HtmlToMarkdown</span><span>;</span>

<span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
    <span>assert_eq</span><span>!</span><span>(</span><span>&#34;# Heading&#34;</span>, <span>HtmlToMarkdown</span>::new<span>(</span><span>)</span>.convert<span>(</span><span>&#34;&lt;h1&gt;Heading&lt;/h1&gt;&#34;</span><span>)</span>.unwrap<span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="use htmd::HtmlToMarkdown;

let converter = HtmlToMarkdown::builder()
    .skip_tags(vec![&#34;script&#34;, &#34;style&#34;])
    .build();
assert_eq!(&#34;&#34;, converter.convert(&#34;&lt;script&gt;let x = 0;&lt;/script&gt;&#34;).unwrap());"><pre><span>use</span> htmd<span>::</span><span>HtmlToMarkdown</span><span>;</span>

<span>let</span> converter = <span>HtmlToMarkdown</span><span>::</span><span>builder</span><span>(</span><span>)</span>
    <span>.</span><span>skip_tags</span><span>(</span><span>vec</span><span>!</span><span>[</span><span>&#34;script&#34;</span>, <span>&#34;style&#34;</span><span>]</span><span>)</span>
    <span>.</span><span>build</span><span>(</span><span>)</span><span>;</span>
<span>assert_eq</span><span>!</span><span>(</span><span>&#34;&#34;</span>, converter.convert<span>(</span><span>&#34;&lt;script&gt;let x = 0;&lt;/script&gt;&#34;</span><span>)</span>.unwrap<span>(</span><span>)</span><span>)</span><span>;</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="use htmd::{options::Options, HtmlToMarkdown};

let converter = HtmlToMarkdown::builder()
    .options(Options {
        heading_style: htmd::options::HeadingStyle::Setex,
        ..Default::default()
    })
    .build();
assert_eq!(&#34;Heading\n=======&#34;, converter.convert(&#34;&lt;h1&gt;Heading&lt;/h1&gt;&#34;).unwrap());"><pre><span>use</span> htmd<span>::</span><span>{</span>options<span>::</span><span>Options</span><span>,</span> <span>HtmlToMarkdown</span><span>}</span><span>;</span>

<span>let</span> converter = <span>HtmlToMarkdown</span><span>::</span><span>builder</span><span>(</span><span>)</span>
    <span>.</span><span>options</span><span>(</span><span>Options</span> <span>{</span>
        <span>heading_style</span><span>:</span> htmd<span>::</span>options<span>::</span><span>HeadingStyle</span><span>::</span><span>Setex</span><span>,</span>
        ..<span>Default</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>)</span>
    <span>.</span><span>build</span><span>(</span><span>)</span><span>;</span>
<span>assert_eq</span><span>!</span><span>(</span><span>&#34;Heading<span>\n</span>=======&#34;</span>, converter.convert<span>(</span><span>&#34;&lt;h1&gt;Heading&lt;/h1&gt;&#34;</span><span>)</span>.unwrap<span>(</span><span>)</span><span>)</span><span>;</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="use htmd::HtmlToMarkdown;

let converter = HtmlToMarkdown::builder()
    .add_handler(vec![&#34;svg&#34;], |_: Element| Some(&#34;[Svg Image]&#34;.to_string()))
    .build();
assert_eq!(&#34;[Svg Image]&#34;, converter.convert(&#34;&lt;svg&gt;&lt;/svg&gt;&#34;).unwrap());"><pre><span>use</span> htmd<span>::</span><span>HtmlToMarkdown</span><span>;</span>

<span>let</span> converter = <span>HtmlToMarkdown</span><span>::</span><span>builder</span><span>(</span><span>)</span>
    <span>.</span><span>add_handler</span><span>(</span><span>vec</span><span>!</span><span>[</span><span>&#34;svg&#34;</span><span>]</span><span>,</span> |_<span>:</span> <span>Element</span>| <span>Some</span><span>(</span><span>&#34;[Svg Image]&#34;</span><span>.</span><span>to_string</span><span>(</span><span>)</span><span>)</span><span>)</span>
    <span>.</span><span>build</span><span>(</span><span>)</span><span>;</span>
<span>assert_eq</span><span>!</span><span>(</span><span>&#34;[Svg Image]&#34;</span>, converter.convert<span>(</span><span>&#34;&lt;svg&gt;&lt;/svg&gt;&#34;</span><span>)</span>.unwrap<span>(</span><span>)</span><span>)</span><span>;</span></pre></div>

<ul dir="auto">
<li><a href="https://github.com/mixmark-io/turndown">turndown.js</a></li>
<li><a href="https://github.com/servo/html5ever">html5ever</a></li>
</ul>

<div data-snippet-clipboard-copy-content="Copyright 2024 letmutex

Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License."><pre><code>Copyright 2024 letmutex

Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre></div>
</article></div></div>
  </body>
</html>
