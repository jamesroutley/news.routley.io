<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://leafo.net/lapis/">Original</a>
    <h1>Lapis: A Web Framework for Lua</h1>
    
    <div id="readability-page-1" class="page"><div>

<section>


<p>Lapis is a framework for building web applications in <a href="https://lua.org">Lua</a> (or <a href="https://moonscript.org">MoonScript</a>) that primarily targets <a href="https://openresty.org">OpenResty</a>, a high performance web platform that runs on a customized version of <a href="https://nginx.org">Nginx</a>. Lapis can also be used in other server environments, being compatible with any modern version of Lua.</p>




<div>

<pre><code><span>local</span><span> </span><span>lapis</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis&#34;</span><span>
</span><span>local</span><span> </span><span>app</span><span> </span><span>=</span><span> </span><span>lapis</span><span>.</span><span>Application</span><span>()</span><span>

</span><span>app</span><span>:</span><span>match</span><span>(</span><span>&#34;/&#34;</span><span>,</span><span> </span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>return</span><span> </span><span>&#34;Hello world!&#34;</span><span>
</span><span>end</span><span>)</span><span>

</span><span>return</span><span> </span><span>app</span></code>
</pre>
<pre><code><span>lapis</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis&#34;</span><span>

</span><span>class</span><span> </span><span>extends</span><span> </span><span>lapis</span><span>.</span><span>Application</span><span>
  </span><span>&#34;/&#34;</span><span>:</span><span> </span><span>=&gt;</span><span>
    </span><span>&#34;Hello world!&#34;</span></code>
</pre>
</div>



</section>

<section>


<p>With OpenResty, Lua is run directly inside of the Nginx worker using LuaJIT, giving you the
smallest barrier between the webserver and your code. Have a look at <a href="http://www.techempower.com/benchmarks">Web Framework
Benchmarks</a> just to see how OpenResty
stacks up against other platforms.</p>

<p>Utilizing the power of <a href="https://leafo.net/posts/itchio-and-coroutines.html">Lua
coroutines</a>, you can write
clean code that looks synchronous but can achieve high throughput by
automatically running asynchronously without blocking. Networking operations
like database queries and HTTP requests will automatically yield to allow for
handling concurrent requests, all without all that callback spaghetti seen in
other asynchronous platforms. It’s fast, easy to read, and easy to write.</p>


</section>


<section>


<p>Lapis includes <a href="https://leafo.net/lapis/reference/actions.html#routes-and-url-patterns">URL routing</a>, <a href="https://leafo.net/lapis/reference/html_generation.html">HTML Templating</a>, <a href="https://leafo.net/lapis/reference/utilities.html#csrf-protection">CSRF Protection</a> and <a href="https://leafo.net/lapis/reference/actions.html#request-object/session">Session</a>
support, <a href="https://leafo.net/lapis/reference/models.html">PostgreSQL/MySQL/SQLite backed models</a>, <a href="https://leafo.net/lapis/reference/database.html#database-schemas">schema generation</a> and
<a href="https://leafo.net/lapis/reference/database.html#database-migrations">migrations</a> in addition to a <a href="https://leafo.net/lapis/reference/utilities.html">collection of useful functions</a> needed
when developing a website.</p>



<div>

<pre><code><span>local</span><span> </span><span>lapis</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis&#34;</span><span>
</span><span>local</span><span> </span><span>app</span><span> </span><span>=</span><span> </span><span>lapis</span><span>.</span><span>Application</span><span>()</span><span>

</span><span>
</span><span>app</span><span>:</span><span>match</span><span>(</span><span>&#34;/&#34;</span><span>,</span><span> </span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>local</span><span> </span><span>profile_url</span><span> </span><span>=</span><span> </span><span>self</span><span>:</span><span>url_for</span><span>(</span><span>&#34;profile&#34;</span><span>,</span><span> </span><span>{</span><span>name</span><span> </span><span>=</span><span> </span><span>&#34;leafo&#34;</span><span>})</span><span>
  </span><span>
  </span><span>return</span><span> </span><span>self</span><span>:</span><span>html</span><span>(</span><span>function</span><span>()</span><span>
    </span><span>h2</span><span>(</span><span>&#34;Welcome!&#34;</span><span>)</span><span>
    </span><span>text</span><span>(</span><span>&#34;Go to my &#34;</span><span>)</span><span>
    </span><span>a</span><span>({</span><span>href</span><span> </span><span>=</span><span> </span><span>profile_url</span><span>},</span><span> </span><span>&#34;profile&#34;</span><span>)</span><span>
  </span><span>end</span><span>)</span><span>
</span><span>end</span><span>)</span><span>

</span><span>
</span><span>app</span><span>:</span><span>match</span><span>(</span><span>&#34;profile&#34;</span><span>,</span><span> </span><span>&#34;/:name&#34;</span><span>,</span><span> </span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>return</span><span> </span><span>self</span><span>:</span><span>html</span><span>(</span><span>function</span><span>()</span><span>
    </span><span>div</span><span>({</span><span>class</span><span> </span><span>=</span><span> </span><span>&#34;profile&#34;</span><span>},</span><span>
      </span><span>&#34;Welcome to the profile of &#34;</span><span> </span><span>..</span><span> </span><span>self</span><span>.</span><span>params</span><span>.</span><span>name</span><span>)</span><span>
  </span><span>end</span><span>)</span><span>
</span><span>end</span><span>)</span><span>

</span><span>return</span><span> </span><span>app</span></code>
</pre>
<pre><code><span>lapis</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis&#34;</span><span>

</span><span>class</span><span> </span><span>extends</span><span> </span><span>lapis</span><span>.</span><span>Application</span><span>
  </span><span>
  </span><span>&#34;/&#34;</span><span>:</span><span> </span><span>=&gt;</span><span>
    </span><span>profile_url</span><span> </span><span>=</span><span> </span><span>@url_for</span><span> </span><span>&#34;profile&#34;</span><span>,</span><span> </span><span>name:</span><span> </span><span>&#34;leafo&#34;</span><span>
    </span><span>
    </span><span>@html</span><span> </span><span>-&gt;</span><span>
      </span><span>h2</span><span> </span><span>&#34;Welcome!&#34;</span><span>
      </span><span>text</span><span> </span><span>&#34;Go to my &#34;</span><span>
      </span><span>a</span><span> </span><span>href:</span><span> </span><span>profile_url</span><span>,</span><span> </span><span>&#34;profile&#34;</span><span>

  </span><span>
  </span><span>[</span><span>profile:</span><span> </span><span>&#34;/:name&#34;</span><span>]</span><span>:</span><span> </span><span>=&gt;</span><span>
    </span><span>@html</span><span> </span><span>-&gt;</span><span>
      </span><span>div</span><span> </span><span>class:</span><span> </span><span>&#34;profile&#34;</span><span>,</span><span> </span><span>-&gt;</span><span>
        </span><span>text</span><span> </span><span>&#34;Welcome to the profile of &#34;</span><span>,</span><span> </span><span>@params</span><span>.</span><span>name</span></code>
</pre>
</div>



<h2>Models</h2>

<p>Get a powerful abstraction layer over your database tables just by
sub-classing <a href="https://leafo.net/lapis/reference/models.html"><code>Model</code></a>:</p>


<div>

<pre><code><span>local</span><span> </span><span>Model</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>&#34;lapis.db.model&#34;</span><span>).</span><span>Model</span><span>

</span><span>
</span><span>local</span><span> </span><span>Users</span><span> </span><span>=</span><span> </span><span>Model</span><span>:</span><span>extend</span><span>(</span><span>&#34;users&#34;</span><span>)</span><span>

</span><span>
</span><span>local</span><span> </span><span>elderly_users</span><span> </span><span>=</span><span> </span><span>Users</span><span>:</span><span>select</span><span>(</span><span>&#34;where age &gt; ? limit 5&#34;</span><span>,</span><span> </span><span>10</span><span>)</span><span>

</span><span>local</span><span> </span><span>random_user</span><span> </span><span>=</span><span> </span><span>Users</span><span>:</span><span>find</span><span>(</span><span>1233</span><span>)</span><span> </span><span>

</span><span>local</span><span> </span><span>lee</span><span> </span><span>=</span><span> </span><span>Users</span><span>:</span><span>find</span><span>({</span><span>
  </span><span>name</span><span> </span><span>=</span><span> </span><span>&#34;Lee&#34;</span><span>,</span><span>
  </span><span>email</span><span> </span><span>=</span><span> </span><span>&#34;leemiller@example.com&#34;</span><span>
</span><span>})</span><span>

</span><span>
</span><span>local</span><span> </span><span>user</span><span> </span><span>=</span><span> </span><span>Users</span><span>:</span><span>create</span><span>({</span><span>
  </span><span>name</span><span> </span><span>=</span><span> </span><span>&#34;Leaf&#34;</span><span>,</span><span>
  </span><span>email</span><span> </span><span>=</span><span> </span><span>&#34;leaf@example.com&#34;</span><span>,</span><span>
  </span><span>age</span><span> </span><span>=</span><span> </span><span>6</span><span>
</span><span>})</span><span>

</span><span>user</span><span>:</span><span>update</span><span>({</span><span> </span><span>age</span><span> </span><span>=</span><span> </span><span>10</span><span> </span><span>})</span><span>

</span><span>user</span><span>:</span><span>delete</span><span>()</span></code>
</pre>
<pre><code><span>import</span><span> </span><span>Model</span><span> </span><span>from</span><span> </span><span>require</span><span> </span><span>&#34;lapis.db.model&#34;</span><span>

</span><span>
</span><span>class</span><span> </span><span>Users</span><span> </span><span>extends</span><span> </span><span>Model</span><span>

</span><span>
</span><span>elderly_users</span><span> </span><span>=</span><span> </span><span>Users</span><span>\</span><span>select</span><span> </span><span>&#34;where age &gt; ? limit 5&#34;</span><span>,</span><span> </span><span>10</span><span>

</span><span>random_user</span><span> </span><span>=</span><span> </span><span>Users</span><span>\</span><span>find</span><span> </span><span>1233</span><span> </span><span>

</span><span>lee</span><span> </span><span>=</span><span> </span><span>Users</span><span>\</span><span>find</span><span> </span><span>name:</span><span> </span><span>&#34;Lee&#34;</span><span>,</span><span> </span><span>email:</span><span> </span><span>&#34;leemiller@example.com&#34;</span><span>

</span><span>
</span><span>user</span><span> </span><span>=</span><span> </span><span>Users</span><span>\</span><span>create</span><span> </span><span>{</span><span>
  </span><span>name:</span><span> </span><span>&#34;Leaf&#34;</span><span>
  </span><span>email:</span><span> </span><span>&#34;leaf@example.com&#34;</span><span>
  </span><span>age:</span><span> </span><span>6</span><span>
</span><span>}</span><span>

</span><span>user</span><span>\</span><span>update</span><span> </span><span>age:</span><span> </span><span>10</span><span>

</span><span>user</span><span>\</span><span>delete</span><span>!</span></code>
</pre>
</div>



<h2>Templates</h2>

<p>Write your templates either in <a href="https://github.com/leafo/etlua">etlua</a> or in
pure Lua/MoonScript.</p>

<p>The <code>Widget</code> base class allows you to organize your templates as modules,
enabling you to use inheritance and mixins to mix and match methods combined
with the HTML builder syntax that lets you express HTML with the full power of
the language you&#39;re already using.</p>

<p>The HTML builder syntax makes you immune to cross site scripting attacks from
user-provided input by ensuring all written content is escaped correctly.</p>


<div>

<pre><code><span>
</span><span>&lt;h1</span><span> </span><span>class</span><span>=</span><span>&#34;header&#34;</span><span>&gt;</span><span>&lt;%=</span><span> </span><span>&#34;Hello&#34;</span><span> </span><span>%&gt;</span><span>&lt;/h1&gt;</span><span>
</span><span>&lt;%</span><span> </span><span>if</span><span> </span><span>current_user</span><span> </span><span>then</span><span> </span><span>%&gt;</span><span>
  </span><span>&lt;div</span><span> </span><span>class</span><span>=</span><span>&#34;user_panel&#34;</span><span>&gt;</span><span>
    </span><span>Welcome</span><span> </span><span>back</span><span> </span><span>&lt;%=</span><span> </span><span>current_user</span><span>.</span><span>name</span><span> </span><span>%&gt;</span><span>
  </span><span>&lt;/div&gt;</span><span>
</span><span>&lt;%</span><span> </span><span>end</span><span> </span><span>%&gt;</span><span>

</span><span>&lt;div</span><span> </span><span>class</span><span>=</span><span>&#34;body&#34;</span><span>&gt;</span><span>
  </span><span>Welcome</span><span> </span><span>to</span><span> </span><span>my</span><span> </span><span>site</span><span>
</span><span>&lt;/div&gt;</span></code>
</pre>
<pre><code><span>import</span><span> </span><span>Widget</span><span> </span><span>from</span><span> </span><span>require</span><span> </span><span>&#34;lapis.html&#34;</span><span>

</span><span>class</span><span> </span><span>Index</span><span> </span><span>extends</span><span> </span><span>Widget</span><span>
  </span><span>content:</span><span> </span><span>=&gt;</span><span>
    </span><span>h1</span><span> </span><span>class:</span><span> </span><span>&#34;header&#34;</span><span>,</span><span> </span><span>&#34;Hello&#34;</span><span>

    </span><span>@user_panel</span><span>!</span><span>
    </span><span>div</span><span> </span><span>class:</span><span> </span><span>&#34;body&#34;</span><span>,</span><span> </span><span>-&gt;</span><span>
      </span><span>text</span><span> </span><span>&#34;Welcome to my site!&#34;</span><span>

  </span><span>user_panel:</span><span> </span><span>=&gt;</span><span>
    </span><span>return</span><span> </span><span>unless</span><span> </span><span>@current_user</span><span>
    </span><span>div</span><span> </span><span>class:</span><span> </span><span>&#34;user_panel&#34;</span><span>,</span><span> </span><span>&#34;Welcome back &#34;</span><span> </span><span>..</span><span> </span><span>@current_user</span><span>.</span><span>name</span></code>
</pre>
</div>




</section>
<section>



<p>Using all the provided tools we can quickly and logically construct high
performance and low memory web applications. Here&#39;s a more complicated example
complete with forms, CSRF protection, and various database queries.</p>

<div>

<pre><code><span>local</span><span> </span><span>lapis</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis&#34;</span><span>
</span><span>local</span><span> </span><span>Model</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>&#34;lapis.db.model&#34;</span><span>).</span><span>Model</span><span>
</span><span>local</span><span> </span><span>capture_errors</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>&#34;lapis.application&#34;</span><span>).</span><span>capture_errors</span><span>
</span><span>local</span><span> </span><span>csrf</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis.csrf&#34;</span><span>

</span><span>local</span><span> </span><span>Users</span><span> </span><span>=</span><span> </span><span>Model</span><span>:</span><span>extend</span><span>(</span><span>&#34;users&#34;</span><span>)</span><span>

</span><span>local</span><span> </span><span>app</span><span> </span><span>=</span><span> </span><span>lapis</span><span>.</span><span>Application</span><span>()</span><span>

</span><span>app</span><span>:</span><span>before_filter</span><span>(</span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>self</span><span>.</span><span>csrf_token</span><span> </span><span>=</span><span> </span><span>csrf</span><span>.</span><span>generate_token</span><span>(</span><span>self</span><span>)</span><span>
</span><span>end</span><span>)</span><span>

</span><span>app</span><span>:</span><span>get</span><span>(</span><span>&#34;list_users&#34;</span><span>,</span><span> </span><span>&#34;/users&#34;</span><span>,</span><span> </span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>self</span><span>.</span><span>users</span><span> </span><span>=</span><span> </span><span>Users</span><span>:</span><span>select</span><span>()</span><span> </span><span>
  </span><span>return</span><span> </span><span>{</span><span> </span><span>render</span><span> </span><span>=</span><span> </span><span>true</span><span> </span><span>}</span><span>
</span><span>end</span><span>)</span><span>

</span><span>app</span><span>:</span><span>get</span><span>(</span><span>&#34;user&#34;</span><span>,</span><span> </span><span>&#34;/profile/:id&#34;</span><span>,</span><span> </span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>local</span><span> </span><span>user</span><span> </span><span>=</span><span> </span><span>Users</span><span>:</span><span>find</span><span>({</span><span> </span><span>id</span><span> </span><span>=</span><span> </span><span>self</span><span>.</span><span>params</span><span>.</span><span>id</span><span> </span><span>})</span><span>
  </span><span>if</span><span> </span><span>not</span><span> </span><span>user</span><span> </span><span>then</span><span>
    </span><span>return</span><span> </span><span>{</span><span> </span><span>status</span><span> </span><span>=</span><span> </span><span>404</span><span> </span><span>}</span><span>
  </span><span>end</span><span>

  </span><span>return</span><span> </span><span>{</span><span> </span><span>render</span><span> </span><span>=</span><span> </span><span>true</span><span> </span><span>}</span><span>
</span><span>end</span><span>)</span><span>

</span><span>app</span><span>:</span><span>post</span><span>(</span><span>&#34;new_user&#34;</span><span>,</span><span> </span><span>&#34;/user/new&#34;</span><span>,</span><span> </span><span>capture_errors</span><span>(</span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>csrf</span><span>.</span><span>assert_token</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>Users</span><span>:</span><span>create</span><span>({</span><span>
    </span><span>name</span><span> </span><span>=</span><span> </span><span>assert_error</span><span>(</span><span>self</span><span>.</span><span>params</span><span>.</span><span>username</span><span>,</span><span> </span><span>&#34;Missing username&#34;</span><span>)</span><span>
  </span><span>})</span><span>

  </span><span>return</span><span> </span><span>{</span><span> </span><span>redirect_to</span><span> </span><span>=</span><span> </span><span>self</span><span>:</span><span>url_for</span><span>(</span><span>&#34;list_users&#34;</span><span>)</span><span> </span><span>}</span><span>
</span><span>end</span><span>))</span><span>

</span><span>app</span><span>:</span><span>get</span><span>(</span><span>&#34;new_user&#34;</span><span>,</span><span> </span><span>&#34;/user/new&#34;</span><span>,</span><span> </span><span>function</span><span>(</span><span>self</span><span>)</span><span>
  </span><span>return</span><span> </span><span>{</span><span> </span><span>render</span><span> </span><span>=</span><span> </span><span>true</span><span> </span><span>}</span><span>
</span><span>end</span><span>)</span><span>

</span><span>return</span><span> </span><span>app</span></code>
</pre>
<pre><code><span>lapis</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis&#34;</span><span>
</span><span>import</span><span> </span><span>Model</span><span> </span><span>from</span><span> </span><span>require</span><span> </span><span>&#34;lapis.db.model&#34;</span><span>
</span><span>import</span><span> </span><span>respond_to</span><span>,</span><span> </span><span>capture_errors</span><span> </span><span>from</span><span> </span><span>require</span><span> </span><span>&#34;lapis.application&#34;</span><span>
</span><span>csrf</span><span> </span><span>=</span><span> </span><span>require</span><span> </span><span>&#34;lapis.csrf&#34;</span><span>

</span><span>class</span><span> </span><span>Users</span><span> </span><span>extends</span><span> </span><span>Model</span><span>

</span><span>class</span><span> </span><span>extends</span><span> </span><span>lapis</span><span>.</span><span>Application</span><span>
  </span><span>
  </span><span>@before_filter</span><span> </span><span>=&gt;</span><span>
    </span><span>@csrf_token</span><span> </span><span>=</span><span> </span><span>csrf</span><span>.</span><span>generate_token</span><span> </span><span>@</span><span>

  </span><span>[</span><span>list_users:</span><span> </span><span>&#34;/users&#34;</span><span>]</span><span>:</span><span> </span><span>=&gt;</span><span>
    </span><span>users</span><span> </span><span>=</span><span> </span><span>Users</span><span>\</span><span>select</span><span>!</span><span> </span><span>

    </span><span>
    </span><span>@html</span><span> </span><span>-&gt;</span><span>
      </span><span>ul</span><span> </span><span>-&gt;</span><span>
        </span><span>for</span><span> </span><span>user</span><span> </span><span>in</span><span> </span><span>*</span><span>users</span><span>
          </span><span>li</span><span> </span><span>-&gt;</span><span>
            </span><span>a</span><span> </span><span>href:</span><span> </span><span>@url_for</span><span>(</span><span>&#34;user&#34;</span><span>,</span><span> </span><span>user</span><span>.</span><span>id</span><span>)</span><span>,</span><span> </span><span>user</span><span>.</span><span>name</span><span>

  </span><span>[</span><span>user:</span><span> </span><span>&#34;/profile/:id&#34;</span><span>]</span><span>:</span><span> </span><span>=&gt;</span><span>
    </span><span>user</span><span> </span><span>=</span><span> </span><span>Users</span><span>\</span><span>find</span><span> </span><span>id:</span><span> </span><span>@params</span><span>.</span><span>id</span><span>
    </span><span>return</span><span> </span><span>status:</span><span> </span><span>404</span><span> </span><span>unless</span><span> </span><span>user</span><span>
    </span><span>@html</span><span> </span><span>-&gt;</span><span> </span><span>h2</span><span> </span><span>user</span><span>.</span><span>name</span><span>

  </span><span>
  </span><span>[</span><span>new_user:</span><span> </span><span>&#34;/user/new&#34;</span><span>]</span><span>:</span><span> </span><span>respond_to</span><span> </span><span>{</span><span>
    </span><span>POST:</span><span> </span><span>capture_errors</span><span> </span><span>=&gt;</span><span>
      </span><span>csrf</span><span>.</span><span>assert_token</span><span> </span><span>@</span><span>
      </span><span>Users</span><span>\</span><span>create</span><span> </span><span>name:</span><span> </span><span>@params</span><span>.</span><span>username</span><span>
      </span><span>redirect_to:</span><span> </span><span>@url_for</span><span> </span><span>&#34;list_users&#34;</span><span>

    </span><span>GET:</span><span> </span><span>=&gt;</span><span>
      </span><span>@html</span><span> </span><span>-&gt;</span><span>
        </span><span>form</span><span> </span><span>method:</span><span> </span><span>&#34;POST&#34;</span><span>,</span><span> </span><span>action:</span><span> </span><span>@url_for</span><span>(</span><span>&#34;new_user&#34;</span><span>)</span><span>,</span><span> </span><span>-&gt;</span><span>
          </span><span>input</span><span> </span><span>type:</span><span> </span><span>&#34;hidden&#34;</span><span>,</span><span>
            </span><span>name:</span><span> </span><span>&#34;csrf_token&#34;</span><span>,</span><span> </span><span>value:</span><span> </span><span>@csrf_token</span><span>
          </span><span>input</span><span> </span><span>type:</span><span> </span><span>&#34;text&#34;</span><span>,</span><span> </span><span>name:</span><span> </span><span>&#34;username&#34;</span><span>
  </span><span>}</span></code>
</pre>
</div>



</section>

<section>


<p>The <a href="https://leafo.net/lapis/reference.html">Reference Manual</a> is both a complete guide and a tutorial to using Lapis.</p>

<p>The source of Lapis can be <a href="https://github.com/leafo/lapis">found on Github</a>
and issues can be reported on the <a href="https://github.com/leafo/lapis/issues">issues
tracker</a>.</p>

<p><a href="https://luarocks.org">LuaRocks.org</a> is an open source application written in
Lapis. It is the public host for all Lua Rocks and the <a href="https://github.com/luarocks/luarocks-site">source can be found on
GitHub</a>.</p>


</section>

<section>


<p>You can use most existing Lua libraries with Lapis with no problems.
Here are some libraries you might find useful:</p>

<ul>
<li><a href="https://github.com/leafo/lapis-eswidget"><code>lapis-eswidget</code></a> — Base widget class for aggregating front-end assets with esbuild</li>
<li><a href="https://github.com/leafo/lapis-console"><code>lapis-console</code></a> — Interactive MoonScript console for Lapis that runs inside of your browser</li>
<li><a href="https://github.com/leafo/lapis-exceptions"><code>lapis-exceptions</code></a> — Exception tracking and reporting</li>
<li><a href="https://github.com/leafo/lapis-bayes"><code>lapis-bayes</code></a> — General purpose Bayes classification for Spam, Fraud, etc.</li>
<li><a href="https://github.com/leafo/web_sanitize"><code>web_sanitize</code></a> — HTML sanitization</li>
<li><a href="https://github.com/leafo/tableshape"><code>tableshape</code></a> — Robus input validation and verification</li>
<li><a href="https://github.com/leafo/magick"><code>magick</code></a> — ImageMagick bindings</li>
<li><a href="https://github.com/leafo/cloud_storage"><code>cloud_storage</code></a> — Support for Google Cloud Storage</li>
</ul>



</section>

<section>


<p>Lapis would not be possible without the following projects:</p>

<ul>
<li><a href="http://lua.org">Lua</a></li>
<li><a href="http://www.inf.puc-rio.br/%7Eroberto/lpeg/">LPeg</a></li>
<li><a href="http://openresty.org">OpenResty</a></li>
</ul>


<p>Lapis is licensed under the <a href="http://opensource.org/licenses/MIT">MIT license</a>.</p>

<p>Lapis is written by <a href="http://twitter.com/moonscript">@moonscript</a>.</p>


</section>





</div></div>
  </body>
</html>
