<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nbailey.ca/post/radiation-monitor/">Original</a>
    <h1>Monitor Radiation with a Raspberry Pi</h1>
    
    <div id="readability-page-1" class="page"><div> <p>I have an odd fascination with radiation… Not to the point that I’m buying “Naturally Occurring Radioactive Materials” (or NORMs for short) on eBay, but certainly to the point that I own a digital geiger counter and regularly measure… things…</p>
<p>Recently, I discovered <a href="https://radmon.org">https://radmon.org</a>, a site where users can connect a counter to their API and send data to the network of scientists that study background radiation in real time.</p>
<p><img src="https://nbailey.ca/images/radmon.png" alt=""/></p>
<p>For this project, I dug up an old Pi, installed raspian, and got to work.</p>
<p>Since the software I will use must be built from source, I had to install all of the basic C devtools.</p>
<pre><code>sudo apt install git build-essential
</code></pre>
<p>Then, the GCLog project was downloaded.</p>
<pre><code>git clone https://github.com/stelas/GCLog.git &amp;&amp; cd GCLog
</code></pre>
<p>Building and installing is likewise very simple:</p>
<pre><code>make
sudo make install
</code></pre>
<p>Though it installs an init script, it can still be used with systemd.</p>
<pre><code>sudo systemctl enable gclogd
</code></pre>
<p>My GC device is a GQ electronics GMC-320v5. When plugged in with USB, it exposes a basic serial console device at <code>/dev/ttyUSB0</code>, which can be used to send commands and retrieve data. I was able to find the entire <a href="https://www.gqelectronicsllc.com/download/GQ-RFC1201.txt">protocol spec</a> as well.</p>
<p>The baud rate is set to 115200 by default, so that will need to be set in the config file.</p>
<p><code>etc/gclog.conf</code> file:</p>
<div><pre><code data-lang="ini">device.type=<span>gq</span>
device.port=<span>/dev/ttyUSB0</span>
device.baudrate=<span>115200</span>
</code></pre></div><p>There are other settings in the same file that must be set to send data to Radmon.</p>
<div><pre><code data-lang="ini">location=<span>My City</span>
latitude=<span>12.3456</span>
longitude=<span>-65.4321</span>

radmon.user=<span>username</span>
radmon.pass=<span>XXXXXXXX</span>
</code></pre></div><p>With the config set, the service can be started:</p>
<pre><code>sudo systemctl start gclogd.service
</code></pre>
<p>Within a few minutes, a little green bubble will show up over your town with a (hopefully low!) amount of radiation as measured by your GC.</p>
 </div></div>
  </body>
</html>
