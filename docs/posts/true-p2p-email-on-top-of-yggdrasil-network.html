<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/JB-SelfCompany/Tyr">Original</a>
    <h1>True P2P Email on Top of Yggdrasil Network</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<hr/>

<p dir="auto">We&#39;re taught that email must go through servers. Why? Because the Internet was built around centralized infrastructure. Every email you send travels through multiple servers - your provider&#39;s server, maybe a few relay servers, and finally your recipient&#39;s provider&#39;s server. Each hop is a potential point of surveillance, censorship, or failure.</p>
<p dir="auto">Even &#34;encrypted&#34; email solutions still rely on these centralized servers. They encrypt the message content but the metadata - who you&#39;re talking to, when, how often - is visible to anyone watching the servers.</p>
<p dir="auto">But there is a network, called <strong><a href="https://yggdrasil-network.github.io/" rel="nofollow">Yggdrasil</a></strong>, that gives everyone a free IPv6 and doesn&#39;t need a blessing from your ISP. We finally have this possibility to use true P2P email. And moreover, this network has strong encryption to protect all data that flows from one IP to another.</p>
<p dir="auto"><strong>Tyr brings true peer-to-peer email to your Android device</strong> using these unusual conditions. Unlike traditional email clients, Tyr doesn&#39;t need:</p>
<ul dir="auto">
<li>‚ùå Centralized mail servers (the connections are straight P2P)</li>
<li>‚ùå Message encryption layers (the network takes care of that)</li>
<li>‚ùå Port forwarding or STUN/TURN servers (Yggdrasil handles NAT traversal)</li>
</ul>
<hr/>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Feature</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>üîó <strong>Full DeltaChat/ArcaneChat Integration</strong></td>
<td>Seamless setup with the best decentralized messengers</td>
</tr>
<tr>
<td>üìß <strong>Local SMTP/IMAP Server</strong></td>
<td>Complete mail server running directly on your device</td>
</tr>
<tr>
<td>üîê <strong>Cryptographic Identity</strong></td>
<td>Automatic Ed25519 key generation - your mail identity cannot be spoofed</td>
</tr>
<tr>
<td>üåç <strong>Yggdrasil Network</strong></td>
<td>Connect via configurable peers - censorship-resistant by design</td>
</tr>
<tr>
<td>üöÄ <strong>Auto-Start on Boot</strong></td>
<td>Always-on availability for incoming messages</td>
</tr>
<tr>
<td>üíæ <strong>Encrypted Backup &amp; Restore</strong></td>
<td>Password-protected configuration with optional key export</td>
</tr>
<tr>
<td>üîã <strong>Battery Optimized</strong></td>
<td>Sophisticated power management with timed wake locks</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<hr/>

<section data-identity="af38c193-0ef3-4391-9b70-a68bd93a14d5" data-host="https://viewscreen.githubusercontent.com" data-src="https://viewscreen.githubusercontent.com/markdown/mermaid?docs_host=https%3A%2F%2Fdocs.github.com" data-type="mermaid" aria-label="mermaid rendered output container">
  <div data-json="{&#34;data&#34;:&#34;graph LR\n    A[DeltaChat/ArcaneChat] --&amp;gt;|SMTP/IMAP| B[Tyr Service]\n    B --&amp;gt;|Yggmail Protocol| C[Yggdrasil Network]\n    C --&amp;gt;|P2P Encrypted| D[Recipient&#39;s Tyr]\n    D --&amp;gt;|SMTP/IMAP| E[Recipient&#39;s Chat App]\n&#34;}" data-plain="graph LR
    A[DeltaChat/ArcaneChat] --&gt;|SMTP/IMAP| B[Tyr Service]
    B --&gt;|Yggmail Protocol| C[Yggdrasil Network]
    C --&gt;|P2P Encrypted| D[Recipient&#39;s Tyr]
    D --&gt;|SMTP/IMAP| E[Recipient&#39;s Chat App]
" dir="auto">
    <div dir="auto">
      <pre lang="mermaid" aria-label="Raw mermaid code">graph LR
    A[DeltaChat/ArcaneChat] --&gt;|SMTP/IMAP| B[Tyr Service]
    B --&gt;|Yggmail Protocol| C[Yggdrasil Network]
    C --&gt;|P2P Encrypted| D[Recipient&#39;s Tyr]
    D --&gt;|SMTP/IMAP| E[Recipient&#39;s Chat App]
</pre>
    </div>
  </div>
  <span role="presentation">
    <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>    <span>Loading</span>
</span>
  </span>
</section>

<p dir="auto">Tyr runs a complete email server right on your Android device, using the Yggdrasil network for transport. The <strong><a href="https://github.com/JB-SelfCompany/yggmail-android">Yggmail</a></strong> mail server (built in Go) is embedded as a library inside the app and runs as a foreground service.</p>
<p dir="auto">On top of Yggdrasil, it provides standard <strong>SMTP</strong> and <strong>IMAP</strong> protocols on localhost (<code>127.0.0.1:1025</code> and <code>127.0.0.1:1143</code>). Any email client can connect to these ports - but we recommend <strong>DeltaChat</strong> or <strong>ArcaneChat</strong> for the best P2P messaging experience.</p>

<p dir="auto">Every Tyr installation generates unique <strong>Ed25519 cryptographic keys</strong>. Your mail address is derived from your public key:</p>
<div data-snippet-clipboard-copy-content="&lt;64-hex-characters&gt;@yggmail"><pre><code>&lt;64-hex-characters&gt;@yggmail
</code></pre></div>
<p dir="auto">This means your identity is <strong>cryptographically verifiable</strong> and cannot be spoofed.</p>
<hr/>

<div dir="auto"><h3 tabindex="-1" dir="auto">Setting up DeltaChat/ArcaneChat</h3><a id="user-content-setting-up-deltachatarcanechat" aria-label="Permalink: Setting up DeltaChat/ArcaneChat" href="#setting-up-deltachatarcanechat"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Option 1: Automatic Setup (Recommended)</h4><a id="user-content-option-1-automatic-setup-recommended" aria-label="Permalink: Option 1: Automatic Setup (Recommended)" href="#option-1-automatic-setup-recommended"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>Install Tyr and complete the onboarding (set password, configure peers)</li>
<li>Start the Yggmail service in Tyr</li>
<li>Install <a href="https://delta.chat/" rel="nofollow">DeltaChat</a> or <a href="https://github.com/ArcaneChat/android">ArcaneChat</a></li>
<li>In Tyr&#39;s main screen, tap <strong>&#34;Setup DeltaChat/ArcaneChat&#34;</strong></li>
<li>Tyr will automatically open your chat app with pre-configured settings</li>
<li>Complete the setup and start chatting!</li>
</ol>

<p dir="auto">If automatic setup doesn&#39;t work:</p>
<ol dir="auto">
<li>Complete Tyr onboarding and start the service</li>
<li>Copy your mail address from Tyr&#39;s main screen (looks like <code>abc123...@yggmail</code>)</li>
<li>In DeltaChat/ArcaneChat, create a new profile</li>
<li>Tap <strong>&#34;Use a different server&#34;</strong></li>
<li>Enter your Yggmail address and the password you set in Tyr</li>
<li>Tap &#34;‚úì&#34; to complete setup</li>
</ol>
<blockquote>
<p dir="auto"><strong>Important</strong>: Tyr must be running for your chat app to send and receive messages. Enable auto-start in Tyr settings for seamless experience.</p>
</blockquote>
<hr/>

<ul dir="auto">
<li><strong>Password Encryption</strong>: Android Keystore System with AES-256-GCM</li>
<li><strong>Automatic Keystore Recovery</strong>: Handles Android Keystore issues on Samsung and other devices</li>
<li><strong>Network Encryption</strong>: All P2P communications encrypted by Yggdrasil Network</li>
<li><strong>Local-Only Access</strong>: SMTP/IMAP ports bound to localhost only</li>
<li><strong>Cryptographic Identity</strong>: Ed25519 keys ensure your mail address cannot be spoofed</li>
<li><strong>Encrypted Backups</strong>: Configuration and keys backed up with password protection</li>
</ul>
<hr/>
<div dir="auto"><h2 tabindex="-1" dir="auto">üèóÔ∏è Building from Source</h2><a id="user-content-Ô∏è-building-from-source" aria-label="Permalink: üèóÔ∏è Building from Source" href="#Ô∏è-building-from-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<ul dir="auto">
<li>Android Studio (latest version)</li>
<li>JDK 17</li>
<li>Android SDK (API 23-36)</li>
<li>Go 1.21+ and gomobile (only if rebuilding yggmail.aar)</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Clone the repository
git clone https://github.com/JB-SelfCompany/Tyr.git
cd Tyr

# Build debug APK
./gradlew assembleDebug

# Install to connected device
./gradlew installDebug"><pre><span><span>#</span> Clone the repository</span>
git clone https://github.com/JB-SelfCompany/Tyr.git
<span>cd</span> Tyr

<span><span>#</span> Build debug APK</span>
./gradlew assembleDebug

<span><span>#</span> Install to connected device</span>
./gradlew installDebug</pre></div>
<p dir="auto">APKs will be in <code>app/build/outputs/apk/debug/</code> or <code>app/build/outputs/apk/release/</code></p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Rebuilding yggmail.aar (optional)</h3><a id="user-content-rebuilding-yggmailaar-optional" aria-label="Permalink: Rebuilding yggmail.aar (optional)" href="#rebuilding-yggmailaar-optional"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="cd ../yggmail/mobile

# Windows
..\build-android.bat

# Unix
gomobile bind -target=android -androidapi 23 -javapkg=com.jbselfcompany.tyr -ldflags=&#34;-checklinkname=0&#34; -o yggmail.aar ."><pre><span>cd</span> ../yggmail/mobile

<span><span>#</span> Windows</span>
..<span>\b</span>uild-android.bat

<span><span>#</span> Unix</span>
gomobile <span>bind</span> -target=android -androidapi 23 -javapkg=com.jbselfcompany.tyr -ldflags=<span><span>&#34;</span>-checklinkname=0<span>&#34;</span></span> -o yggmail.aar <span>.</span></pre></div>
<p dir="auto">Then copy <code>yggmail.aar</code> to <code>Tyr/app/libs/</code></p>
<hr/>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Component</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Language</strong></td>
<td>Kotlin 2.2.20</td>
</tr>
<tr>
<td><strong>Min SDK</strong></td>
<td>23 (Android 6.0)</td>
</tr>
<tr>
<td><strong>Target SDK</strong></td>
<td>33 (Android 13)</td>
</tr>
<tr>
<td><strong>Compile SDK</strong></td>
<td>36</td>
</tr>
<tr>
<td><strong>Architecture</strong></td>
<td>Layered (UI ‚Üí Service ‚Üí Data)</td>
</tr>
<tr>
<td><strong>Mail Server</strong></td>
<td>Yggmail (Go library via gomobile)</td>
</tr>
<tr>
<td><strong>Network</strong></td>
<td>Yggdrasil overlay mesh network</td>
</tr>
<tr>
<td><strong>Localization</strong></td>
<td>English, Russian</td>
</tr>
<tr>
<td><strong>Native Library</strong></td>
<td>yggmail.aar (located in <code>app/libs/</code>)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<hr/>

<ul dir="auto">
<li><strong><a href="https://github.com/JB-SelfCompany/yggmail-android">Yggmail</a></strong>: The mail transfer agent that powers Tyr</li>
<li><strong><a href="https://github.com/Revertron/Mimir">Mimir</a></strong>: P2P messenger on Yggdrasil (sister project)</li>
<li><strong><a href="https://yggdrasil-network.github.io/" rel="nofollow">Yggdrasil Network</a></strong>: The mesh network infrastructure</li>
<li><strong><a href="https://delta.chat/" rel="nofollow">DeltaChat</a></strong>: Recommended email-based messenger client</li>
<li><strong><a href="https://github.com/ArcaneChat/android">ArcaneChat</a></strong>: Alternative email-based messenger client</li>
</ul>
<hr/>

<p dir="auto">Tyr is open source software. The Yggmail library uses <strong>Mozilla Public License v. 2.0</strong>.</p>
<p dir="auto">See <a href="https://github.com/JB-SelfCompany/Tyr/blob/main/LICENSE">LICENSE</a> file for full details.</p>
<hr/>
<div dir="auto"><h2 tabindex="-1" dir="auto">üåü Why P2P Email Matters</h2><a id="user-content--why-p2p-email-matters" aria-label="Permalink: üåü Why P2P Email Matters" href="#-why-p2p-email-matters"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto"><strong>Censorship Circumvention</strong>: Connect to any of hundreds of available Yggdrasil nodes, host your own, or even build a private network. Email freedom is literally in your hands.</p>
</blockquote>
<blockquote>
<p dir="auto"><strong>Privacy by Design</strong>: No metadata collection, no server logs, no third-party surveillance. Your conversations belong to you.</p>
</blockquote>
<blockquote>
<p dir="auto"><strong>Decentralization</strong>: No single point of failure, no corporate control. True peer-to-peer architecture.</p>
</blockquote>
<hr/>

</article></div></div>
  </body>
</html>
