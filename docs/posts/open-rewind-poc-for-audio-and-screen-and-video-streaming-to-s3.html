<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/janwilmake/efficient-recorder">Original</a>
    <h1>Show HN: Open Rewind â€“ POC for audio and screen and video streaming to S3</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">Today I was inspired by this tweet after which I fell into this rabbit hole to create an efficient recorder for your Screen, System audio, and Mic.</p>
<p dir="auto"><a href="https://x.com/RichardMCNgo/status/1875093600612261909" rel="nofollow"><img src="https://github.com/janwilmake/efficient-recorder/raw/main/tweet.png" alt=""/></a></p>
<p dir="auto">After trying to implement this using Claude in Swift I completely failed (see folder <a href="https://github.com/janwilmake/efficient-recorder/blob/main/swift-version">swift-version</a>) so I decided to create a simpler version (also using Claude) in Node.js</p>

<p dir="auto">Goal: Create the most <strong>battery-life friendly</strong> recorder to stream video/screen/mic/system-audio to any <strong>S3-compatible</strong> cloud-storage-service of choice, open source.</p>

<ul dir="auto">
<li>Captures Mic audio, screenshots, and webcam photos at configurable fps</li>
<li>For audio, uses low-energy volume detection to determine what to record</li>
<li>Streams all data to configurable S3 endpoint (Can also use <a href="https://github.com/minio/minio">your own server using MinIO</a>)</li>
</ul>
<p dir="auto">I really want this to exist, but won&#39;t pursue it for now. This repo serves as an example. Open to contributors! <a href="https://x.com/janwilmake" rel="nofollow">DM me</a></p>
<p dir="auto">After the <a href="https://news.ycombinator.com/item?id=42596607" rel="nofollow">hackernews thread</a>, I saw there are a couple other similar projects in various levels of completion (but none focuses on battery):</p>
<ul dir="auto">
<li>Screenpipe <a href="https://github.com/mediar-ai/screenpipe">https://github.com/mediar-ai/screenpipe</a></li>
<li>Memento <a href="https://github.com/apirrone/Memento">https://github.com/apirrone/Memento</a></li>
<li>Rem <a href="https://github.com/jasonjmcghee/rem">https://github.com/jasonjmcghee/rem</a></li>
</ul>
<p dir="auto"><strong>Update</strong>: Also, I made a spin-off from this called <a href="https://github.com/janwilmake/yaptabber">yaptabber</a> - it only records when you talk</p>


<p dir="auto">This package requires:</p>
<ul dir="auto">
<li>
<p dir="auto"><a href="http://sox.sourceforge.net/" rel="nofollow">SoX (Sound eXchange)</a> for audio recording</p>
<ul dir="auto">
<li>Linux: <code>sudo apt-get install sox libsox-fmt-all</code></li>
<li>MacOS: <code>brew install sox</code></li>
<li>Windows: Download from <a href="http://sourceforge.net/projects/sox/files/latest/download" rel="nofollow">SourceForge</a></li>
</ul>
</li>
<li>
<p dir="auto">Webcam capture tools</p>
<ul dir="auto">
<li>Ubuntu: <code>sudo apt-get install fswebcam</code></li>
<li>Arch Linux: <code>sudo pamac build fswebcam</code></li>
<li>MacOS: <code>brew install imagesnap</code></li>
<li>Windows: Standalone exe included in node-webcam</li>
</ul>
</li>
</ul>

<p dir="auto">You&#39;ll need:</p>
<ul dir="auto">
<li>S3-compatible storage endpoint</li>
<li>Access key</li>
<li>Secret key</li>
<li>A bucket named &#34;recordings&#34; (or modify the code to use a different bucket name)</li>
</ul>

<p dir="auto">Run the recorder using npx:</p>
<div dir="auto" data-snippet-clipboard-copy-content="npx efficient-recorder \
  --endpoint YOUR_S3_ENDPOINT \
  --key YOUR_ACCESS_KEY \
  --secret YOUR_SECRET_KEY \
  --enable-screenshot \
  --screenshot-interval 5000 \
  --enable-webcam \
  --webcam-interval 3000 \
  --image-quality 80"><pre>npx efficient-recorder \
  --endpoint YOUR_S3_ENDPOINT \
  --key YOUR_ACCESS_KEY \
  --secret YOUR_SECRET_KEY \
  --enable-screenshot \
  --screenshot-interval 5000 \
  --enable-webcam \
  --webcam-interval 3000 \
  --image-quality 80</pre></div>

<ul dir="auto">
<li><code>--endpoint</code>: Your S3-compatible storage endpoint URL</li>
<li><code>--key</code>: Your AWS/S3 access key</li>
<li><code>--secret</code>: Your AWS/S3 secret key</li>
<li><code>--enable-screenshot</code>: Enable screenshot capture</li>
<li><code>--screenshot-interval</code>: Interval between screenshots (ms)</li>
<li><code>--enable-webcam</code>: Enable webcam capture</li>
<li><code>--webcam-interval</code>: Interval between webcam captures (ms)</li>
<li><code>--webcam-device</code>: Specify webcam device (optional)</li>
<li><code>--image-quality</code>: Image quality for webcam/screenshots (1-100)</li>
</ul>

<ol dir="auto">
<li>
<p dir="auto"><strong>Audio Monitoring</strong></p>
<ul dir="auto">
<li>Continuous low-quality audio monitoring</li>
<li>Switches to high-quality recording when speech is detected</li>
<li>Automatic recording start and stop based on sound levels</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Screenshot Capture</strong></p>
<ul dir="auto">
<li>Captures screenshots at specified intervals</li>
<li>Immediate upload to S3</li>
<li>Configurable capture frequency</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Webcam Capture</strong></p>
<ul dir="auto">
<li>Captures webcam images at specified intervals</li>
<li>Supports multiple webcam devices</li>
<li>Immediate upload to S3</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Efficient Upload</strong></p>
<ul dir="auto">
<li>Queued upload processing</li>
<li>Concurrent uploads with multi-part support</li>
<li>Minimal system resource overhead</li>
</ul>
</li>
</ol>
<div dir="auto"><h3 tabindex="-1" dir="auto">Multimedia Specifications</h3><a id="user-content-multimedia-specifications" aria-label="Permalink: Multimedia Specifications" href="#multimedia-specifications"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Audio</strong></p>
<ul dir="auto">
<li>Monitoring: 8kHz, Mono</li>
<li>Recording: 44.1kHz, Stereo</li>
<li>Format: WAV (16-bit PCM)</li>
</ul>
<p dir="auto"><strong>Screenshots</strong></p>
<ul dir="auto">
<li>Captured at system screen resolution</li>
<li>Uploaded as PNG</li>
</ul>
<p dir="auto"><strong>Webcam</strong></p>
<ul dir="auto">
<li>Resolution: 1280x720</li>
<li>Format: JPEG</li>
<li>Configurable quality</li>
</ul>

<ol dir="auto">
<li>
<p dir="auto"><strong>&#34;Command not found: rec&#34;</strong></p>
<ul dir="auto">
<li>Ensure SoX is installed correctly</li>
<li>Verify SoX is in your system PATH</li>
</ul>
</li>
<li>
<p dir="auto"><strong>S3 Upload Issues</strong></p>
<ul dir="auto">
<li>Check S3 credentials</li>
<li>Verify bucket exists and write permissions are granted</li>
</ul>
</li>
<li>
<p dir="auto"><strong>No Audio/Video Input</strong></p>
<ul dir="auto">
<li>Check system input devices</li>
<li>Verify microphone and webcam permissions</li>
</ul>
</li>
</ol>

<p dir="auto">MIT License</p>
</article></div></div>
  </body>
</html>
