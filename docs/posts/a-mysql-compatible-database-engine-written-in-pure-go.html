<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/dolthub/go-mysql-server">Original</a>
    <h1>A MySQL compatible database engine written in pure Go</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://www.stevegattuso.me/dolthub/go-mysql-server/blob/main/mascot.png"><img height="240" src="https://www.stevegattuso.me/dolthub/go-mysql-server/raw/main/mascot.png"/></a></p>
<div dir="auto"><a id="user-content-a-mysql-compatible-database-engine-written-in-pure-go" aria-label="Permalink: A MySQL compatible database engine written in pure Go" href="#a-mysql-compatible-database-engine-written-in-pure-go"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>go-mysql-server</strong> is a data-source agnostic SQL engine and server
which runs queries on data sources you provide, using the MySQL
dialect and wire protocol. A simple in-memory database implementation
is included, and you can query any data source you want by
implementing your own backend.</p>
<p dir="auto"><a href="https://www.doltdb.com" rel="nofollow">Dolt</a>, a SQL database with Git-style
versioning, is the main production database implementation of this
package.  <a href="https://docs.dolthub.com/introduction/what-is-dolt" rel="nofollow">Check
out</a> that project
for reference a implementation. Or, hop into the Dolt discord
<a href="https://discord.com/invite/RFwfYpu" rel="nofollow">here</a> if you want to talk to the
<a href="https://www.dolthub.com/team" rel="nofollow">core developers</a> behind
<strong>go-mysql-server</strong> and Dolt.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Compatibility</h2><a id="user-content-compatibility" aria-label="Permalink: Compatibility" href="#compatibility"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">With the exception of specific limitations (see below),
<strong>go-mysql-server</strong> is a drop-in replacement for MySQL. Any client
library, tool, query, SQL syntax, SQL function, etc. that works with
MySQL should also work with <strong>go-mysql-server</strong>. If you find a gap in
functionality, please file an issue.</p>
<p dir="auto">For full MySQL compatibility documentation, see the <a href="https://docs.dolthub.com/sql-reference/sql-support" rel="nofollow">Dolt
docs</a> on this
topic.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Scope of this project</h2><a id="user-content-scope-of-this-project" aria-label="Permalink: Scope of this project" href="#scope-of-this-project"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>SQL server and engine to query your data sources.</li>
<li>In-memory database backend implementation suitable for use in tests.</li>
<li>Interfaces you can use to implement new backends to query your own
data sources.</li>
<li>With a few caveats and using a full database implementation, a
drop-in MySQL database replacement.</li>
</ul>
<p dir="auto"><strong>go-mysql-server</strong> has two primary uses case:</p>
<ol dir="auto">
<li>
<p dir="auto">Stand-in for MySQL in a golang test environment, using the built-in
<code>memory</code> database implementation.</p>
</li>
<li>
<p dir="auto">Providing access to arbitrary data sources with SQL queries by
implementing a handful of interfaces. The most complete real-world
implementation is <a href="https://github.com/dolthub/dolt">Dolt</a>.</p>
</li>
</ol>
<div dir="auto"><h2 tabindex="-1" dir="auto">Installation</h2><a id="user-content-installation" aria-label="Permalink: Installation" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Add <strong>go-mysql-server</strong> as a dependency to your project. In the
directory with the <code>go.mod</code> file, run:</p>
<div data-snippet-clipboard-copy-content="go get github.com/dolthub/go-mysql-server@latest"><pre><code>go get github.com/dolthub/go-mysql-server@latest
</code></pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">Using the in-memory test server</h2><a id="user-content-using-the-in-memory-test-server" aria-label="Permalink: Using the in-memory test server" href="#using-the-in-memory-test-server"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The in-memory test server can replace a real MySQL server in
tests. Start the server using the code in the <a href="https://www.stevegattuso.me/dolthub/go-mysql-server/blob/main/_example/main.go">_example
directory</a>, also reproduced below.</p>
<div dir="auto" data-snippet-clipboard-copy-content="package main

import (
	&#34;context&#34;
	&#34;fmt&#34;
	&#34;time&#34;

	&#34;github.com/dolthub/vitess/go/vt/proto/query&#34;

	sqle &#34;github.com/dolthub/go-mysql-server&#34;
	&#34;github.com/dolthub/go-mysql-server/memory&#34;
	&#34;github.com/dolthub/go-mysql-server/server&#34;
	&#34;github.com/dolthub/go-mysql-server/sql&#34;
	&#34;github.com/dolthub/go-mysql-server/sql/types&#34;
)

// This is an example of how to implement a MySQL server.
// After running the example, you may connect to it using the following:
//
// &gt; mysql --host=localhost --port=3306 --user=root mydb --execute=&#34;SELECT * FROM mytable;&#34;
// +----------+-------------------+-------------------------------+----------------------------+
// | name     | email             | phone_numbers                 | created_at                 |
// +----------+-------------------+-------------------------------+----------------------------+
// | Jane Deo | janedeo@gmail.com | [&#34;556-565-566&#34;,&#34;777-777-777&#34;] | 2022-11-01 12:00:00.000001 |
// | Jane Doe | jane@doe.com      | []                            | 2022-11-01 12:00:00.000001 |
// | John Doe | john@doe.com      | [&#34;555-555-555&#34;]               | 2022-11-01 12:00:00.000001 |
// | John Doe | johnalt@doe.com   | []                            | 2022-11-01 12:00:00.000001 |
// +----------+-------------------+-------------------------------+----------------------------+
//
// The included MySQL client is used in this example, however any MySQL-compatible client will work.

var (
	dbName    = &#34;mydb&#34;
	tableName = &#34;mytable&#34;
	address   = &#34;localhost&#34;
	port      = 3306
)

func main() {
	pro := createTestDatabase()
	engine := sqle.NewDefault(pro)

	session := memory.NewSession(sql.NewBaseSession(), pro)
	ctx := sql.NewContext(context.Background(), sql.WithSession(session))
	ctx.SetCurrentDatabase(&#34;test&#34;)

	// This variable may be found in the &#34;users_example.go&#34; file. Please refer to that file for a walkthrough on how to
	// set up the &#34;mysql&#34; database to allow user creation and user checking when establishing connections. This is set
	// to false for this example, but feel free to play around with it and see how it works.
	if enableUsers {
		if err := enableUserAccounts(ctx, engine); err != nil {
			panic(err)
		}
	}

	config := server.Config{
		Protocol: &#34;tcp&#34;,
		Address:  fmt.Sprintf(&#34;%s:%d&#34;, address, port),
	}
	s, err := server.NewServer(config, engine, memory.NewSessionBuilder(pro), nil)
	if err != nil {
		panic(err)
	}
	if err = s.Start(); err != nil {
		panic(err)
	}
}

func createTestDatabase() *memory.DbProvider {
	db := memory.NewDatabase(dbName)
	db.BaseDatabase.EnablePrimaryKeyIndexes()

	pro := memory.NewDBProvider(db)
	session := memory.NewSession(sql.NewBaseSession(), pro)
	ctx := sql.NewContext(context.Background(), sql.WithSession(session))

	table := memory.NewTable(db, tableName, sql.NewPrimaryKeySchema(sql.Schema{
		{Name: &#34;name&#34;, Type: types.Text, Nullable: false, Source: tableName, PrimaryKey: true},
		{Name: &#34;email&#34;, Type: types.Text, Nullable: false, Source: tableName, PrimaryKey: true},
		{Name: &#34;phone_numbers&#34;, Type: types.JSON, Nullable: false, Source: tableName},
		{Name: &#34;created_at&#34;, Type: types.MustCreateDatetimeType(query.Type_DATETIME, 6), Nullable: false, Source: tableName},
	}), db.GetForeignKeyCollection())
	db.AddTable(tableName, table)

	creationTime := time.Unix(0, 1667304000000001000).UTC()
	_ = table.Insert(ctx, sql.NewRow(&#34;Jane Deo&#34;, &#34;janedeo@gmail.com&#34;, types.MustJSON(`[&#34;556-565-566&#34;, &#34;777-777-777&#34;]`), creationTime))
	_ = table.Insert(ctx, sql.NewRow(&#34;Jane Doe&#34;, &#34;jane@doe.com&#34;, types.MustJSON(`[]`), creationTime))
	_ = table.Insert(ctx, sql.NewRow(&#34;John Doe&#34;, &#34;john@doe.com&#34;, types.MustJSON(`[&#34;555-555-555&#34;]`), creationTime))
	_ = table.Insert(ctx, sql.NewRow(&#34;John Doe&#34;, &#34;johnalt@doe.com&#34;, types.MustJSON(`[]`), creationTime))

	return pro
}"><pre><span>package</span> main

<span>import</span> (
	<span>&#34;context&#34;</span>
	<span>&#34;fmt&#34;</span>
	<span>&#34;time&#34;</span>

	<span>&#34;github.com/dolthub/vitess/go/vt/proto/query&#34;</span>

	sqle <span>&#34;github.com/dolthub/go-mysql-server&#34;</span>
	<span>&#34;github.com/dolthub/go-mysql-server/memory&#34;</span>
	<span>&#34;github.com/dolthub/go-mysql-server/server&#34;</span>
	<span>&#34;github.com/dolthub/go-mysql-server/sql&#34;</span>
	<span>&#34;github.com/dolthub/go-mysql-server/sql/types&#34;</span>
)

<span>// This is an example of how to implement a MySQL server.</span>
<span>// After running the example, you may connect to it using the following:</span>
<span>//</span>
<span>// &gt; mysql --host=localhost --port=3306 --user=root mydb --execute=&#34;SELECT * FROM mytable;&#34;</span>
<span>// +----------+-------------------+-------------------------------+----------------------------+</span>
<span>// | name     | email             | phone_numbers                 | created_at                 |</span>
<span>// +----------+-------------------+-------------------------------+----------------------------+</span>
<span>// | Jane Deo | janedeo@gmail.com | [&#34;556-565-566&#34;,&#34;777-777-777&#34;] | 2022-11-01 12:00:00.000001 |</span>
<span>// | Jane Doe | jane@doe.com      | []                            | 2022-11-01 12:00:00.000001 |</span>
<span>// | John Doe | john@doe.com      | [&#34;555-555-555&#34;]               | 2022-11-01 12:00:00.000001 |</span>
<span>// | John Doe | johnalt@doe.com   | []                            | 2022-11-01 12:00:00.000001 |</span>
<span>// +----------+-------------------+-------------------------------+----------------------------+</span>
<span>//</span>
<span>// The included MySQL client is used in this example, however any MySQL-compatible client will work.</span>

<span>var</span> (
	<span>dbName</span>    <span>=</span> <span>&#34;mydb&#34;</span>
	<span>tableName</span> <span>=</span> <span>&#34;mytable&#34;</span>
	<span>address</span>   <span>=</span> <span>&#34;localhost&#34;</span>
	<span>port</span>      <span>=</span> <span>3306</span>
)

<span>func</span> <span>main</span>() {
	<span>pro</span> <span>:=</span> <span>createTestDatabase</span>()
	<span>engine</span> <span>:=</span> <span>sqle</span>.<span>NewDefault</span>(<span>pro</span>)

	<span>session</span> <span>:=</span> <span>memory</span>.<span>NewSession</span>(<span>sql</span>.<span>NewBaseSession</span>(), <span>pro</span>)
	<span>ctx</span> <span>:=</span> <span>sql</span>.<span>NewContext</span>(<span>context</span>.<span>Background</span>(), <span>sql</span>.<span>WithSession</span>(<span>session</span>))
	<span>ctx</span>.<span>SetCurrentDatabase</span>(<span>&#34;test&#34;</span>)

	<span>// This variable may be found in the &#34;users_example.go&#34; file. Please refer to that file for a walkthrough on how to</span>
	<span>// set up the &#34;mysql&#34; database to allow user creation and user checking when establishing connections. This is set</span>
	<span>// to false for this example, but feel free to play around with it and see how it works.</span>
	<span>if</span> <span>enableUsers</span> {
		<span>if</span> <span>err</span> <span>:=</span> <span>enableUserAccounts</span>(<span>ctx</span>, <span>engine</span>); <span>err</span> <span>!=</span> <span>nil</span> {
			<span>panic</span>(<span>err</span>)
		}
	}

	<span>config</span> <span>:=</span> server.<span>Config</span>{
		<span>Protocol</span>: <span>&#34;tcp&#34;</span>,
		<span>Address</span>:  <span>fmt</span>.<span>Sprintf</span>(<span>&#34;%s:%d&#34;</span>, <span>address</span>, <span>port</span>),
	}
	<span>s</span>, <span>err</span> <span>:=</span> <span>server</span>.<span>NewServer</span>(<span>config</span>, <span>engine</span>, <span>memory</span>.<span>NewSessionBuilder</span>(<span>pro</span>), <span>nil</span>)
	<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
		<span>panic</span>(<span>err</span>)
	}
	<span>if</span> <span>err</span> <span>=</span> <span>s</span>.<span>Start</span>(); <span>err</span> <span>!=</span> <span>nil</span> {
		<span>panic</span>(<span>err</span>)
	}
}

<span>func</span> <span>createTestDatabase</span>() <span>*</span>memory.<span>DbProvider</span> {
	<span>db</span> <span>:=</span> <span>memory</span>.<span>NewDatabase</span>(<span>dbName</span>)
	<span>db</span>.<span>BaseDatabase</span>.<span>EnablePrimaryKeyIndexes</span>()

	<span>pro</span> <span>:=</span> <span>memory</span>.<span>NewDBProvider</span>(<span>db</span>)
	<span>session</span> <span>:=</span> <span>memory</span>.<span>NewSession</span>(<span>sql</span>.<span>NewBaseSession</span>(), <span>pro</span>)
	<span>ctx</span> <span>:=</span> <span>sql</span>.<span>NewContext</span>(<span>context</span>.<span>Background</span>(), <span>sql</span>.<span>WithSession</span>(<span>session</span>))

	<span>table</span> <span>:=</span> <span>memory</span>.<span>NewTable</span>(<span>db</span>, <span>tableName</span>, <span>sql</span>.<span>NewPrimaryKeySchema</span>(sql.<span>Schema</span>{
		{<span>Name</span>: <span>&#34;name&#34;</span>, <span>Type</span>: <span>types</span>.<span>Text</span>, <span>Nullable</span>: <span>false</span>, <span>Source</span>: <span>tableName</span>, <span>PrimaryKey</span>: <span>true</span>},
		{<span>Name</span>: <span>&#34;email&#34;</span>, <span>Type</span>: <span>types</span>.<span>Text</span>, <span>Nullable</span>: <span>false</span>, <span>Source</span>: <span>tableName</span>, <span>PrimaryKey</span>: <span>true</span>},
		{<span>Name</span>: <span>&#34;phone_numbers&#34;</span>, <span>Type</span>: <span>types</span>.<span>JSON</span>, <span>Nullable</span>: <span>false</span>, <span>Source</span>: <span>tableName</span>},
		{<span>Name</span>: <span>&#34;created_at&#34;</span>, <span>Type</span>: <span>types</span>.<span>MustCreateDatetimeType</span>(<span>query</span>.<span>Type_DATETIME</span>, <span>6</span>), <span>Nullable</span>: <span>false</span>, <span>Source</span>: <span>tableName</span>},
	}), <span>db</span>.<span>GetForeignKeyCollection</span>())
	<span>db</span>.<span>AddTable</span>(<span>tableName</span>, <span>table</span>)

	<span>creationTime</span> <span>:=</span> <span>time</span>.<span>Unix</span>(<span>0</span>, <span>1667304000000001000</span>).<span>UTC</span>()
	<span>_</span> <span>=</span> <span>table</span>.<span>Insert</span>(<span>ctx</span>, <span>sql</span>.<span>NewRow</span>(<span>&#34;Jane Deo&#34;</span>, <span>&#34;janedeo@gmail.com&#34;</span>, <span>types</span>.<span>MustJSON</span>(<span>`[&#34;556-565-566&#34;, &#34;777-777-777&#34;]`</span>), <span>creationTime</span>))
	<span>_</span> <span>=</span> <span>table</span>.<span>Insert</span>(<span>ctx</span>, <span>sql</span>.<span>NewRow</span>(<span>&#34;Jane Doe&#34;</span>, <span>&#34;jane@doe.com&#34;</span>, <span>types</span>.<span>MustJSON</span>(<span>`[]`</span>), <span>creationTime</span>))
	<span>_</span> <span>=</span> <span>table</span>.<span>Insert</span>(<span>ctx</span>, <span>sql</span>.<span>NewRow</span>(<span>&#34;John Doe&#34;</span>, <span>&#34;john@doe.com&#34;</span>, <span>types</span>.<span>MustJSON</span>(<span>`[&#34;555-555-555&#34;]`</span>), <span>creationTime</span>))
	<span>_</span> <span>=</span> <span>table</span>.<span>Insert</span>(<span>ctx</span>, <span>sql</span>.<span>NewRow</span>(<span>&#34;John Doe&#34;</span>, <span>&#34;johnalt@doe.com&#34;</span>, <span>types</span>.<span>MustJSON</span>(<span>`[]`</span>), <span>creationTime</span>))

	<span>return</span> <span>pro</span>
}</pre></div>
<p dir="auto">This example populates the database by creating <code>memory.Database</code> and
<code>memory.Table</code> objects via golang code, but you can also populate it
by issuing <code>CREATE DATABASE</code>, <code>CREATE TABLE</code>, etc. statements to the
server once it&#39;s running.</p>
<p dir="auto">Once the server is running, connect with any MySQL client, including
the golang MySQL connector and the <code>mysql</code> shell.</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt; mysql --host=localhost --port=3306 --user=root mydb --execute=&#34;SELECT * FROM mytable;&#34;
+----------+-------------------+-------------------------------+----------------------------+
| name     | email             | phone_numbers                 | created_at                 |
+----------+-------------------+-------------------------------+----------------------------+
| Jane Deo | janedeo@gmail.com | [&#34;556-565-566&#34;,&#34;777-777-777&#34;] | 2022-11-01 12:00:00.000001 |
| Jane Doe | jane@doe.com      | []                            | 2022-11-01 12:00:00.000001 |
| John Doe | john@doe.com      | [&#34;555-555-555&#34;]               | 2022-11-01 12:00:00.000001 |
| John Doe | johnalt@doe.com   | []                            | 2022-11-01 12:00:00.000001 |
+----------+-------------------+-------------------------------+----------------------------+"><pre><span>&gt;</span> mysql --host=localhost --port=3306 --user=root mydb --execute=<span><span>&#34;</span>SELECT * FROM mytable;<span>&#34;</span></span>
+----------+-------------------+-------------------------------+----------------------------+
<span>|</span> name     <span>|</span> email             <span>|</span> phone_numbers                 <span>|</span> created_at                 <span>|</span>
+----------+-------------------+-------------------------------+----------------------------+
<span>|</span> Jane Deo <span>|</span> janedeo@gmail.com <span>|</span> [<span><span>&#34;</span>556-565-566<span>&#34;</span></span>,<span><span>&#34;</span>777-777-777<span>&#34;</span></span>] <span>|</span> 2022-11-01 12:00:00.000001 <span>|</span>
<span>|</span> Jane Doe <span>|</span> jane@doe.com      <span>|</span> []                            <span>|</span> 2022-11-01 12:00:00.000001 <span>|</span>
<span>|</span> John Doe <span>|</span> john@doe.com      <span>|</span> [<span><span>&#34;</span>555-555-555<span>&#34;</span></span>]               <span>|</span> 2022-11-01 12:00:00.000001 <span>|</span>
<span>|</span> John Doe <span>|</span> johnalt@doe.com   <span>|</span> []                            <span>|</span> 2022-11-01 12:00:00.000001 <span>|</span>
+----------+-------------------+-------------------------------+----------------------------+</pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">Limitations of the in-memory database implementation</h2><a id="user-content-limitations-of-the-in-memory-database-implementation" aria-label="Permalink: Limitations of the in-memory database implementation" href="#limitations-of-the-in-memory-database-implementation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The in-memory database implementation included with this package is
intended for use in tests. It has specific limitations that we know
of:</p>
<ul dir="auto">
<li><a href="https://github.com/dolthub/go-mysql-server/issues/1306" data-hovercard-type="issue" data-hovercard-url="/dolthub/go-mysql-server/issues/1306/hovercard">Not
threadsafe</a>. To
avoid concurrency issues, limit DDL and DML statements (<code>CREATE TABLE</code>, <code>INSERT</code>, etc.) to a single goroutine.</li>
<li><a href="https://github.com/dolthub/go-mysql-server/issues/1506" data-hovercard-type="issue" data-hovercard-url="/dolthub/go-mysql-server/issues/1506/hovercard">No transaction
support</a>. Statements
like <code>START TRANSACTION</code>, <code>ROLLBACK</code>, and <code>COMMIT</code> are no-ops.</li>
<li><a href="https://github.com/dolthub/go-mysql-server/issues/1347" data-hovercard-type="issue" data-hovercard-url="/dolthub/go-mysql-server/issues/1347/hovercard">Non-performant index
implementation</a>. Indexed
lookups and joins perform full table scans on the underlying tables.</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Custom backend implementations</h2><a id="user-content-custom-backend-implementations" aria-label="Permalink: Custom backend implementations" href="#custom-backend-implementations"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can create your own backend to query your own data sources by
implementing some interfaces. For detailed instructions, see the
<a href="https://www.stevegattuso.me/dolthub/go-mysql-server/blob/main/BACKEND.md">backend guide</a>.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Technical documentation for contributors and backend developers</h2><a id="user-content-technical-documentation-for-contributors-and-backend-developers" aria-label="Permalink: Technical documentation for contributors and backend developers" href="#technical-documentation-for-contributors-and-backend-developers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://www.stevegattuso.me/dolthub/go-mysql-server/blob/main/ARCHITECTURE.md">Architecture</a> is an overview of the various
packages of the project and how they fit together.</li>
<li><a href="https://www.stevegattuso.me/dolthub/go-mysql-server/blob/main/CONTRIBUTING.md">Contribution guide</a> for new contributors,
including instructions for how to get your PR merged.</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Powered by go-mysql-server</h2><a id="user-content-powered-by-go-mysql-server" aria-label="Permalink: Powered by go-mysql-server" href="#powered-by-go-mysql-server"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://github.com/dolthub/dolt">dolt</a></li>
<li><a href="https://github.com/src-d/gitbase">gitbase</a> (defunct)</li>
</ul>
<p dir="auto">Are you building a database backend using <strong>go-mysql-server</strong>? We
would like to hear from you and include you in this list.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Security Policy</h2><a id="user-content-security-policy" aria-label="Permalink: Security Policy" href="#security-policy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://github.com/dolthub/go-mysql-server/blob/main/SECURITY.md">go-mysql-server&#39;s security
policy</a> is
maintained in this repository. Please follow the disclosure instructions there.
Please do not initially report security issues in this repository&#39;s public
GitHub issues.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Acknowledgements</h2><a id="user-content-acknowledgements" aria-label="Permalink: Acknowledgements" href="#acknowledgements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>go-mysql-server</strong> was originally developed by the <code>{source-d}</code>
organzation, and this repository was originally forked from
<a href="https://github.com/src-d/go-mysql-server">src-d</a>. We want to thank
the entire <code>{source-d}</code> development team for their work on this
project, especially Miguel Molina (@erizocosmico) and Juanjo Álvarez
Martinez (@juanjux).</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Apache License 2.0, see <a href="https://www.stevegattuso.me/dolthub/go-mysql-server/blob/main/LICENSE">LICENSE</a></p>
</article></div></div>
  </body>
</html>
