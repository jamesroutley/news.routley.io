<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://manishrjain.com/dgraph-labs-learnings">Original</a>
    <h1>Retrospection and Learnings from Dgraph Labs</h1>
    
    <div id="readability-page-1" class="page"><div>
      <div>
        <div>
          
          
<p>It’s been almost nine months since I left Dgraph Labs, a company that I spent 6 years of my life building — after a layoff followed by a failed Series B round (unsurprisingly, and in that order).</p>
<p>During this time, I’ve had a chance to reflect upon what happened, what went wrong, what went right, where did we succeed, and where did we fail — and most importantly, what I learned from this entire experience.</p>
<p>First, let’s tackle the hard one. Where did we go wrong?</p>
<h3 id="we-didnt-process-investor-signals">1. We didn’t process investor signals</h3>
<p>Most investors I talked to weren’t sure about the graph database space. The space hadn’t seen a clear exit or a massively successful startup. The adoption curve of the technology wasn’t spectacular.</p>
<p>That viewpoint didn’t change from our first seed round to the second, to Series A to finally, the B round. Not only investors but most developers also weren’t sure when to adopt a graph database and what’s a clear use case for it.</p>
<p>In retrospect, these were apparent signals to pivot to another field, where this technology can be more directly applied with clear wins — allowing us to fundraise efficiently and attract more talent and users.</p>
<h3 id="we-missed-the-graphql-train">2. We missed the GraphQL train</h3>
<p>We were on a mission to become the application database. And we had bet upon GraphQL very early on. However, we didn’t fully commit to it. The spec just wasn’t designed for a database system. We built our flavor of GraphQL, which allowed for more complex expressions and was easier to work with but simply wasn’t the official spec.</p>
<p>Initially, we got traction from the front-end community, who was excited about a GraphQL database. But, because we didn’t fully follow the spec, we found ourselves out of the GraphQL conversation.</p>
<p>Not supporting GraphQL meant the front-end community couldn’t use Dgraph to build their apps. Not supporting Cypher meant Neo4j customers couldn’t switch to Dgraph easily. Following either of them religiously could have given us clarity and focus.</p>
<p>Sometimes following a standard means adopting its ugliness. And you just have to bite that bullet because it allows a much wider audience.</p>
<p>Because we didn’t follow a standard or focus on providing a solution …</p>
<h3 id="we-built-too-much">3. We built too much</h3>
<p>We started with the idea of building a Spanner-style graph database. The problem was — there wasn’t enough conviction in the market itself, so building a more complex software that would take more resources and time just didn’t make sense, particularly without the massive invesment that a database company needs. As a rule of thumb, a typical <span>DB</span> company takes <span>50M</span> in funding to get to a working product.</p>
<p>A wiser thing to do there would be to realize that there isn’t enough funding to build a graph Spanner. So, instead, focus on building enough to grab customers from the top player in the field. Building a single server database is a <span>LOT</span> easier task than building a globally scalable, synchronously replicated, sharded database with fault tolerance and distributed transactions, and passes Jepsen tests. Each of those things added a year of work — a year spent building and not selling the software or talking to customers.</p>
<p>When a market is saturated, a better product wins. For example, it makes sense to build a better <span>SQL</span> because the market is already well educated about the usage of the technology.</p>
<p>When a market is new, better marketing wins. For example, it makes sense to educate the market about graphs, even with a simpler product, so devs understand when to use it and how. Not knowing how to position or market the software cost us dearly.</p>
<p>Moreover, most developers don’t know what a graph database can do. Many have had negative experiences using one in the past. To deal with that, a clear, solution-based education would have served us better, particularly when coupled with a<span></span> <span>“</span>try it on the cloud”.</p>
<h3 id="we-took-too-long-to-launch-the-cloud-service">4. We took too long to launch the cloud service</h3>
<p>We launched the cloud service way too late. For the longest time, we were purely reliant on on-premises deployments. The problem was that it’s hard to convince a DevOps person to add a relatively unpopular database to the tech stack. However, the same person won’t bat an eyelid (<em>slight exaggeration</em>), adding a new cloud service to the stack. Cloud is easy to try out and easy to adopt with little work and operational headaches. The<span></span> <span>“</span>wao factor” is a lot easier to achieve.</p>
<p>When we finally did launch the cloud in <span>Q2</span> 2021, our revenue tripled in a few months — we had never seen anything like it. But, it was too late.</p>
<p>Cloud also helps you focus on paying customers. Open-source is a double-edged sword. You have a lot of users and a lot of adoption, but no customers. We had thousands of Dgraph instances running in the wild but very little revenue to show for it. Moreover, prioritizing the right features which can generate revenue becomes hard when you have non-paying users.</p>
<p>I’ve been a huge fan of open-source, and have built many popular open-source softwares. But, it’s clear that software as a service is winning over open-source software. When adopting a service, most customers don’t care about whether it’s open-source or not. But, even if it’s open-source, a hosted service makes for much better adoption. Cloud is the right platform for generating revenue, irrespective of whether you’re open-source or not.</p>
<blockquote>
<p>Cloud is eating open-source software</p>
</blockquote>
<p>In fact, cloud bets are so strong that many previously open-source companies have pivoted to non-open-source licences, to tackle <span>AWS</span> and other cloud providers who can steal their lunch.</p>
<p>Now, this would be different for a startup whose main competitor is a hosting service provider — for example, when you are competing against Google Cloud Spanner, or Amazon <span>S3</span>, or Slack. Their customers would be folks who already know they want the software but have reasons to run it in-house — some combination of cost and privacy.</p>
<p>But, it didn’t apply to us. Our users still needed conviction about why they should be using a graph database. And having operational costs coupled with a steep learning curve to try it out meant they’d instead build a graph on top of some already familiar database or rearchitect to avoid a graph altogether.</p>
<h3 id="companies-are-all-about-people">5. Companies are all about people</h3>
<p>A big part of the learning was around evaluating people. In fact, we got that wrong in a very fatal way.</p>
<p>Lots of parallels have been drawn between Dgraph and RethinkDB. My take is that RethinkDB wrapped up slowly due to lack of revenue. Dgraph took a hit suddenly due to a critically wrong hire — which made us go from a<span></span> <span>“</span>things are looking great” to<span></span> <span>“</span>sorry, you’re out” within a week.</p>
<hr/>
<p>Now that I’ve jotted down all the things that either went wrong, or we could have handled better, let me contemplate what did go right.</p>
<h3 id="proved-what-a-graph-database-could-be">1. Proved what a graph database could be</h3>
<p>We proved what a graph database could be. It can be a globally scalable, sharded, replicated, distributed, and ACID-compliant transactional system. It was the only native graph database to have been Jepsen tested, and as of today, it still is. Dgraph showed that graphs could be fun to work with.</p>
<p>Being a latecomer to the graph space, we quickly crossed all existing players in our GitHub star traction. With <span>18K</span> stars, Dgraph became the most starred graph database in the market. Dgraph was even marked as a contender by Forrester — the youngest company to do so. And we achieved all of this on 15 million in funding, a relatively small amount for a database startup.</p>
<h3 id="built-a-graphql-native-cloud-service">2. Built a GraphQL native cloud service</h3>
<p>We built a fantastic GraphQL Cloud service. Start with a GraphQL schema and get an entire backend setup automatically, with <span>CRUD</span> and search APIs. In a world full of GraphQL middlewares, Dgraph Cloud allowed an engineer to get up and running with GraphQL incredibly easily. The cloud traction was indeed great — going from 0 to <span>60K</span> <span>MRR</span> in few months.</p>
<h3 id="strong-signal-of-product-market-fit">3. Strong signal of product market fit</h3>
<p>We took the product from 0 to <span>1M</span> <span>ARR</span>, proving a strong signal of the product-market fit.</p>
<h3 id="engineered-our-way-to-cloud-margins">4. Engineered our way to cloud margins</h3>
<p>Dgraph was built as a fault-tolerant system where we could afford to lose one of 3 replicas temporarily without any issues. We used this feature to cut cloud costs. By using Spot instances to run Dgraph replicas and perfecting the ability to switch out machines on the 2-minute notice that <span>AWS</span> provides, we were able to reach impressive 70% margins even on moderate instance volumes.</p>
<h3 id="advanced-the-go-ecosystem">5. Advanced the Go ecosystem</h3>
<p>We built not only Dgraph, but also Badger, Ristretto, Serialized Roaring Bitmaps and, Manual Memory Management. These libraries advanced the state of the Go ecosystem by bringing the best of other languages. Badger, in particular, gained a lot of traction and sat at 11K+ GitHub stars itself.</p>
<p>It took an immense engineering effort to achieve all these things, with people working day and night. I’m proud of my team and what we built together; and thankful to the investors who believed in my vision and invested in the company. And I honestly wish I could have produced a better outcome for the team and our investors.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Running a startup is a complex mix of the right idea space, the right timing, the right people, the right execution, and luck. You need to get a few of them right to make a company successful. Identifying which ones are those is the key to success.</p>
<p>Starting as an extremely awkward tech nerd, I learned a lot from my journey building Dgraph Labs — I’ve evolved as an engineer, founder, manager, and leader.</p>
<p>Most importantly, I’ve started to listen to and believe in my gut, in my instinct. For a logic driven person, a heart-over-mind approach is the hardest to build. And that, to me, is my most precious learning.</p>
          
          <hr/>
                    

          <hr/>
                    



          <hr/>
                    

          
          

        </div>

      </div>
    </div></div>
  </body>
</html>
