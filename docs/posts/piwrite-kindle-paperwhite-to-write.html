<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/rberenguel/PiWrite">Original</a>
    <h1>PiWrite – Kindle Paperwhite to Write</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description vid-s.mov">vid-s.mov</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/2410938/270159188-7902e0e9-7fd3-4d74-926b-1ac7ad85b84e.mov" data-canonical-src="https://user-images.githubusercontent.com/2410938/270159188-7902e0e9-7fd3-4d74-926b-1ac7ad85b84e.mov" controls="controls" muted="muted">

  </video>
</details>

<h4 tabindex="-1" id="user-content-what" dir="auto"><a href="#what">What?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h4>
<p dir="auto">Have you ever wanted to use your Kindle Paperwhite to write, even more, with a vim-like editor? This is what PiWrite is for.</p>
<h4 tabindex="-1" id="user-content-how" dir="auto"><a href="#how">How?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h4>
<p dir="auto">The TL;DR is <em>a webserver running somewhere a keyboard can be plugged, and a page opened in the Kindle&#39;s web browser</em>.</p>
<p dir="auto">The not-so-short version requires more effort and details, but is the UX I wanted to get:</p>
<ul dir="auto">
<li>A <strong>Raspberry Pi Zero W</strong>…</li>
<li>Paired with a <strong>Bluetooth keyboard</strong>…</li>
<li>Set up in <strong>access point mode</strong>…</li>
<li>With <strong>this package</strong> installed…</li>
<li>And configured to <strong>start automatically</strong> on boot.</li>
</ul>
<h4 tabindex="-1" id="user-content-why" dir="auto"><a href="#why">Why?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h4>
<p dir="auto">I was inspired by <a href="https://solarwriter.msol.io" rel="nofollow">SolarWriter by Michael Solomon</a>. I had always wanted to use my Kindle for writing. SolarWriter solves that by setting up a local web server on your phone (iOS or Android), then you type with a Bluetooth keyboard paired with it. But you need to set up hotspot, keep your screen on… I didn&#39;t like those parts. So I wrote this.</p>
<h4 tabindex="-1" id="user-content-contributions" dir="auto"><a href="#contributions">Contributions?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h4>
<p dir="auto">This is open source, and I&#39;ll be happy to see it extended and improved. But I&#39;m unlikely to accept contributions: I want a reduced feature set, with only what <em>I</em> need. This is why I didn&#39;t release this to PyPI, so anybody can have its own version with custom tweaks and installs it easily from their own repository.</p>
<hr/>
<p dir="auto"><a href="https://www.buymeacoffee.com/rberenguel" rel="nofollow"><img src="https://camo.githubusercontent.com/3ba8042b343d12b84b85d2e6563376af4150f9cd09e72428349c1656083c8b5a/68747470733a2f2f63646e2e6275796d6561636f666665652e636f6d2f627574746f6e732f64656661756c742d6f72616e67652e706e67" alt="Buy Me A Coffee" height="51" width="217" data-canonical-src="https://cdn.buymeacoffee.com/buttons/default-orange.png"/></a></p>
<hr/>

<p dir="auto">With a current enough version of <code>pip</code> you can install directly from the repository (or from your fork) with</p>
<div dir="auto" data-snippet-clipboard-copy-content="pip install piwrite@git+https://github.com/rberenguel/PiWrite"><pre>pip install piwrite@git+https://github.com/rberenguel/PiWrite</pre></div>
<p dir="auto">Or with pipx (<strong>recommended</strong>) with</p>
<div dir="auto" data-snippet-clipboard-copy-content="pipx install piwrite@git+https://github.com/rberenguel/PiWrite"><pre>pipx install piwrite@git+https://github.com/rberenguel/PiWrite</pre></div>
<p dir="auto">You might need to add <code>/home/YOU/.local/bin</code> to your <code>PATH</code> (like adding <code>export PATH=&#34;/home/YOU/.local/bin:$PATH&#34;</code> at the end of your <code>.bashrc</code>, <code>.zshenv</code> or similar).</p>

<p dir="auto">Once you have installed it you can try it locally (by default it will serve back at <code>127.0.0.1:80</code>), and optionally configure host and port, like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="PIWRITE_HOST=pi
PIWRITE_PORT=31415"><pre>PIWRITE_HOST=pi
PIWRITE_PORT=31415</pre></div>
<p dir="auto">Point your web browser to this address and try! The editor is vim inspired, and the instructions can be found in <a href="https://github.com/rberenguel/PiWrite/blob/main/piwrite/help">help</a></p>

<p dir="auto">If you need a Pi, I can&#39;t recommend <a href="https://shop.pimoroni.com" rel="nofollow">Pimoroni</a> enough. I&#39;m not affiliated, I just buy always from them.</p>
<p dir="auto">The instructions below may be missing some piece, I have written it based on my bash history and what I remember having to tweak. With the information of <em>what</em> you need to do, there are plenty of tutorials on how to approach each step though.</p>
<h2 tabindex="-1" id="user-content-basics" dir="auto"><a href="#basics">Basics<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Best is installing a lightweight Raspbian version, since the Zero is not a terribly fast machine. By &#34;mistake&#34; (I was trying something) I updated the lite version (on Buster, I think) to Bookworm. Don&#39;t do that, not needed.</p>
<p dir="auto">To configure everything you will need to set up the Raspberry for <code>ssh</code> access, and better with password. For using it as a &#34;magical thing that lets the Kindle work as a text editor&#34; is better if you disable requiring password for logging in via <code>tty</code>. You can enable this (known as autologin) by running <code>sudo raspi-config</code>, in the <em>System Options</em> section. You specifically want <em>Console autologin</em>.</p>
<p dir="auto">You also better set up wifi connectivity too. You can set this up by adding a wpa_supplicant.conf file to the boot partition of the SD card with contents like the following:</p>
<div data-snippet-clipboard-copy-content="network={
    ssid=&#34;YOUR_NETWORK_NAME&#34;
    psk=&#34;YOUR_PASSWORD&#34;
    key_mgmt=WPA-PSK
}"><pre><code>network={
    ssid=&#34;YOUR_NETWORK_NAME&#34;
    psk=&#34;YOUR_PASSWORD&#34;
    key_mgmt=WPA-PSK
}
</code></pre></div>
<p dir="auto">Steps needed after this:</p>
<ul dir="auto">
<li>Pair with a Bluetooth keyboard;</li>
<li>Set up a wireless access point on your Raspberry;</li>
<li>Install the package and set it up;</li>
<li>Nice-to-have: ssh via USB (there are many tutorials for this).</li>
</ul>
<h2 tabindex="-1" id="user-content-pairing-with-a-bluetooth-keyboard" dir="auto"><a href="#pairing-with-a-bluetooth-keyboard">Pairing with a Bluetooth keyboard<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Pick your poison. The standard way is using <code>bluetoothctl</code>. I found that installing <a href="https://darkhz.github.io/bluetuith/Installation.html" rel="nofollow">Bluetuith</a> was more convenient to be sure the pairing had worked. On the con side, you need to install the whole Go runtime.</p>
<p dir="auto">Remember: the keyboard will be usable in the <code>tty</code> session, not in any ssh-initiated session.</p>
<p dir="auto">If you want any fancy keyboard configuration (I use Colemak, and like my caps to be control) you will have to edit <code>/etc/default/keyboard</code> and add something like the following:</p>
<div data-snippet-clipboard-copy-content="XKBMODEL=&#34;pc105&#34;
XKBLAYOUT=&#34;us&#34;
XKBVARIANT=&#34;colemak&#34;
XKBOPTIONS=&#34;ctrl:nocaps&#34;"><pre><code>XKBMODEL=&#34;pc105&#34;
XKBLAYOUT=&#34;us&#34;
XKBVARIANT=&#34;colemak&#34;
XKBOPTIONS=&#34;ctrl:nocaps&#34;
</code></pre></div>
<h2 tabindex="-1" id="user-content-wireless-access-point" dir="auto"><a href="#wireless-access-point">Wireless access point<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">I followed the instructions from here: <a href="https://www.stevemurch.com/setting-up-a-raspberry-pi-for-ad-hoc-networking-tech-note/2022/12" rel="nofollow">Turn a Raspberry Pi into a Web Server with Its Own Wifi Network (Tech Note)</a>. From these instructions, you can (optionally) skip the routing stuff for this. Although the post mentions <em>only</em> working in Buster, I followed the exact same steps and worked just fine in Bookworm.</p>
<p dir="auto">The TL;DR version:</p>
<p dir="auto">Get the access point and DNS services</p>
<div data-snippet-clipboard-copy-content="sudo apt install hostapd dnsmasq"><pre><code>sudo apt install hostapd dnsmasq
</code></pre></div>
<p dir="auto">Turn it on</p>
<div data-snippet-clipboard-copy-content="sudo systemctl unmask hostapd
sudo systemctl enable hostapd"><pre><code>sudo systemctl unmask hostapd
sudo systemctl enable hostapd
</code></pre></div>
<p dir="auto">Edit <code>/etc/dhcpcd.conf</code> (sudo) and add at the end</p>
<div data-snippet-clipboard-copy-content="interface wlan0
    static ip_address=192.168.11.1/24
    nohook wpa_supplicant"><pre><code>interface wlan0
    static ip_address=192.168.11.1/24
    nohook wpa_supplicant
</code></pre></div>
<p dir="auto"><span><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</span></p>
<p dir="auto">You now need to configure <code>/etc/dnsmasq.conf</code> with</p>
<div data-snippet-clipboard-copy-content="interface=wlan0 # Listening interface
dhcp-range=192.168.11.2,192.168.11.20,255.255.255.0,24h
                # Pool of IP addresses served via DHCP
domain=write     # Local wireless DNS domain
address=/pi/192.168.11.1
                # Alias for this router"><pre><code>interface=wlan0 # Listening interface
dhcp-range=192.168.11.2,192.168.11.20,255.255.255.0,24h
                # Pool of IP addresses served via DHCP
domain=write     # Local wireless DNS domain
address=/pi/192.168.11.1
                # Alias for this router
</code></pre></div>
<p dir="auto">and now that you are at it, change <code>/etc/hostname</code> to be <code>pi</code>.</p>
<p dir="auto">Finally, configure <code>/etc/hostapd/hostapd.conf</code> with (use your country code, of course)</p>
<div data-snippet-clipboard-copy-content="country_code=CH
interface=wlan0
ssid=EnchantedRose
hw_mode=g
channel=7
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0
wpa=2
wpa_passphrase=CHOOSE SOMETHING
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_pairwise=CCMP"><pre><code>country_code=CH
interface=wlan0
ssid=EnchantedRose
hw_mode=g
channel=7
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0
wpa=2
wpa_passphrase=CHOOSE SOMETHING
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_pairwise=CCMP
</code></pre></div>
<p dir="auto">Now, reboot (<code>sudo shutdown -r now</code> or <code>sudo systemctl reboot</code>).</p>
<p dir="auto">If you ever want to disable AP and enable normal wifi, run <code>sudo systemctl disable hostapd dnsmasq</code> AND remove the static IP setting mentioned above.</p>
<h2 tabindex="-1" id="user-content-install-the-package-and-set-it-up" dir="auto"><a href="#install-the-package-and-set-it-up">Install the package and set it up<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Install pipx with <code>sudo apt install pipx</code> and then install piwrite with</p>
<div dir="auto" data-snippet-clipboard-copy-content="pipx install piwrite@git+https://github.com/rberenguel/PiWrite"><pre>pipx install piwrite@git+https://github.com/rberenguel/PiWrite</pre></div>
<p dir="auto">You&#39;ll want to add <code>pipx</code>&#39;s binaries to the path, for example by adding <code>export PATH=&#34;/home/YOU/.local/bin:$PATH&#34;</code>.</p>
<p dir="auto">Since the ideal experience is <em>not</em> having to add a port in the Kindle browser, the default port piwrite uses is 80. But that needs allowlisting:</p>
<p dir="auto"><code>sudo setcap CAP_NET_BIND_SERVICE=+eip /usr/bin/python3.11</code></p>
<p dir="auto">Tweak the Python version depending on what you have.</p>
<p dir="auto">You can test if it works (i.e.. if it is the right version or not) or not by starting piwrite now (you may need to change the exported host).</p>
<p dir="auto">You&#39;ll also want to start piwrite on <code>tty</code> user start, you can do this by adding the following to the end of your <code>.profile</code></p>
<div data-snippet-clipboard-copy-content="export PIWRITE_HOST=pi.write # or pi, if it&#39;s not under the access point
piwrite"><pre><code>export PIWRITE_HOST=pi.write # or pi, if it&#39;s not under the access point
piwrite
</code></pre></div>
<hr/>
<h2 tabindex="-1" id="user-content-some-oddities" dir="auto"><a href="#some-oddities">Some oddities<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">The Kindle browser is weird and does not support everything. No websockets, only longpolling (or so it seems). For some reason, only version 3.0 of the socketio JavaScript libraries worked correctly. I found no way to get the Kindle browser to rotate the whole page via CSS so I could have a landscape view.</p>
<p dir="auto">My first trial implementation tried using pynvim (the NeoVim API layer) as the underlying editor. That would have been awesome, real vim! But it didn&#39;t work for obscure reasons (I had to do some unholy things with asyncio that caused it to explode easily).</p>
<h2 tabindex="-1" id="user-content-development" dir="auto"><a href="#development">Development<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">I wrote half of this directly on the Zero from my iPad, using <a href="https://blink.sh" rel="nofollow">Blink</a> to SSH into it. The second half, I wrote it on my iPad with <a href="https://apps.apple.com/es/app/ivim/id1266544660?l=en-GB" rel="nofollow">iVim</a>, <a href="https://ish.app" rel="nofollow">ish</a> and <a href="https://apps.pdyn.net/inspect/" rel="nofollow">Inspect Browser</a>. The finishing touches (moving to Poetry and cleaning up), on my Mac. For local development, you can then use basically anything. Just choose a valid port for your system and make sure the host is valid. 127.0.0.1 is the default choice and the one that should work.</p>
<hr/>
<p dir="auto"><a href="https://www.buymeacoffee.com/rberenguel" rel="nofollow"><img src="https://camo.githubusercontent.com/3ba8042b343d12b84b85d2e6563376af4150f9cd09e72428349c1656083c8b5a/68747470733a2f2f63646e2e6275796d6561636f666665652e636f6d2f627574746f6e732f64656661756c742d6f72616e67652e706e67" alt="Buy Me A Coffee" height="51" width="217" data-canonical-src="https://cdn.buymeacoffee.com/buttons/default-orange.png"/></a></p>
<hr/>
</article>
          </div></div>
  </body>
</html>
