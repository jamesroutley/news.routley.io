<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tailscale.com/blog/chat-tails-terminal-chat">Original</a>
    <h1>Chat-tails: Throwback terminal chat, built on Tailscale</h1>
    
    <div id="readability-page-1" class="page"><div><div><p>To find a safe space for his kid to chat with friends while playing Minecraft, Brian Scott had to go back to the future.</p><p>The chat went back, that is, to an IRC-like interface, run through a terminal. The connection and setup remain futuristic, because Scott used <a target="" rel="noreferrer" href="https://login.tailscale.com/start/?utm_source=blog&amp;utm_medium=content&amp;utm_campaign=chat-tails">Tailscale</a>, and <a target="" rel="noreferrer" href="https://tailscale.com/kb/1244/tsnet/?utm_source=blog&amp;utm_medium=content&amp;utm_campaign=chat-tails">tsnet</a>, to build <a target="_blank" rel="noreferrer" href="https://github.com/bscott/chat-tails">chat-tails</a>.</p><p>Chat-tails is the opposite of everything modern chat apps are offering. Nobody can get in without someone doing some work to invite them. All the chats are ephemeral, stored nowhere easy to reach, unsearchable. There are no voice chats, plug-ins, avatars, or images at all, really, unless you count <a target="_blank" rel="noreferrer" href="https://en.wikipedia.org/wiki/ASCII_art">ASCII art</a>. And that’s just the way Brian wanted it.</p><p>“It’s about, hey, you have this private space, across your friends’ tailnets, where you can chat, about the game you’re playing or whatever you’re doing,” Scott told me. “It’s supposed to be more like the days where you were all on the same LAN, you would bring your computers together and have a gaming session. Now you can kind of have that same type of feeling, no matter where you are in the world—just a nice private area where you can chat.”</p><h2 id="how-it-works"><a href="#how-it-works">How it works<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2><p>There are two ways of running chat-tails: “Regular mode” and “Tailscale mode.” In Regular Mode, you run <code>./chat-server</code>, feed it a port number, room name, and maximum number of users, and then it creates the chat, on your local network. You can log into your router and enable a port forward, if you want, every time you create the chat and want to let others in—but opening up a telnet-style chat port on your home router, the one you’re having your kids chat on, seems like a pretty bad idea. Your mileage may vary.</p><p>In “Tailscale Mode,” you do all the same things, except you provide two more things. One is a <code>--hostname</code>, which makes the chat accessible (to Tailscale users with whom you’ve shared this chat) at your Tailscale domain, like <code>hostname.something.ts.net</code>. The other thing you give it is an <a target="" rel="noreferrer" href="https://tailscale.com/kb/1085/auth-keys/?utm_source=blog&amp;utm_medium=content&amp;utm_campaign=chat-tails">auth key</a>, connecting it to Tailscale. With that, any device on the tailnet, or shared into it, can access the chat through an <code>nc</code> or <code>telnet</code> command, like <code>telnet hostname.something.ts.net 2323</code>.</p><figure id=""><img _type="asset" video="[object Object]" alt="A chat window, showing a list of users with colored names (Kevin, Other_Kevin, Devon), a conversation (&#34;You both are Kevins?&#34; &#34;I&#39;m an Other_Kevin&#34; &#34;* Kevin considers this statement&#34;), and then the list of commands." loading="lazy" width="1090" height="1202" decoding="async" data-nimg="1" srcset="https://cdn.sanity.io/images/w77i7m8x/production/31674a9600880adf926cece139c2f0f631a350a6-1090x1202.png?w=1200&amp;q=75&amp;fit=clip&amp;auto=format 1x, https://cdn.sanity.io/images/w77i7m8x/production/31674a9600880adf926cece139c2f0f631a350a6-1090x1202.png?w=3840&amp;q=75&amp;fit=clip&amp;auto=format 2x" src="https://cdn.sanity.io/images/w77i7m8x/production/31674a9600880adf926cece139c2f0f631a350a6-1090x1202.png?w=3840&amp;q=75&amp;fit=clip&amp;auto=format"/></figure><p>And then you are chatting, in a terminal. Type some text, hit enter, and everyone sees it. There are four other commands, as of this writing: <code>/who</code> lists the users, <code>/help</code> shows you these four commands, <code>/me</code> gives your text the italicized “action” flavor (“reaches for an ice-cold Diet Coke”), and <code>/quit</code>, it quits. That’s the app, and while it might pick up some features over time (it added history options just recently), it’s doing just what it should right now.</p><h2 id="building-an-old-school-chat-space"><a href="#building-an-old-school-chat-space">Building an old-school chat space<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2><p>Scott is not a full-time code-writing developer, but has about 10 years’ experience working with Go. He had been eyeing the tsnet library for some time, thinking of projects that might fit a melding of Go and Tailscale. When his chat inspiration (chatspiration?) struck, he spent “about two days” learning and tinkering with the library for the first big effort.</p><figure id=""><img _type="asset" video="[object Object]" alt="Image of Brian Scott, with glasses, wearing a leather jacket over a blue sweater." loading="lazy" width="886" height="886" decoding="async" data-nimg="1" srcset="https://cdn.sanity.io/images/w77i7m8x/production/361cc3f23d693617ab4e924c82231c6ffd4b0493-886x886.jpg?w=1080&amp;q=75&amp;fit=clip&amp;auto=format 1x, https://cdn.sanity.io/images/w77i7m8x/production/361cc3f23d693617ab4e924c82231c6ffd4b0493-886x886.jpg?w=1920&amp;q=75&amp;fit=clip&amp;auto=format 2x" src="https://cdn.sanity.io/images/w77i7m8x/production/361cc3f23d693617ab4e924c82231c6ffd4b0493-886x886.jpg?w=1920&amp;q=75&amp;fit=clip&amp;auto=format"/><figcaption>Brian Scott</figcaption></figure><p>“The tsnet (library) was actually the easiest thing,” Brian said. With the networking and verification pieces sorted, he just had to focus on the surprisingly hard task of getting text that one person types in a terminal to show up as text that another terminal user reads. “If you’re thinking of building something like Discord, you would incorporate some kinds of websocket communication, streamline everything across the wire. But for a terminal-based chat app, it’s really just TCP and UDP, just straight-up connections you’re actually dealing with.”</p><p>Making the chat look nicer than just a terminal line was helped along by bubbletea, a free and open-source terminal UI library. “While I was making this thing very minimal, I wanted to also make it very pleasing,” Brian said.</p><p>Anyone with experience building in Go could extend it or modify it, Brian said. He has looked at Go libraries for things like rendering images in terminal chat, and thought about how <a target="" rel="noreferrer" href="https://tailscale.com/kb/1106/taildrop/?utm_source=blog&amp;utm_medium=content&amp;utm_campaign=chat-tails">Taildrop</a> could be used in a chat where everybody’s using Tailscale. Chat-tails is low-profile enough to easily run on a Raspberry Pi or similarly single-board computer (SBC); it might be leveraged as a portable, ephemeral chat to bring to events. Or it could just become a way for groups with a certain retro bent to replace their personal Slack or Discord setups.</p><p>But for now, it’s a fun way to offer his child and friends a safe learning space.</p><p>“You launch it on top of Tailscale, scale it as big as you want, and now your community is not only learning about VPN technology, but also the basics of SSH, terminal, things like that,” Brian said. “It feels good, very retro-futuristic, and fun.”</p><p>Brian’s chat-tails is <a target="" rel="noreferrer" href="https://tailscale.com/community/community-projects/chat-tails">included</a> in our <a target="" rel="noreferrer" href="https://tailscale.com/community/community-projects">community projects hub</a>. Built something neat with Tailscale? Submit it by emailing <a target="" rel="noreferrer" href="mailto:community@tailscale.com">community@tailscale.com</a>.</p><p>If you’re enjoying chat-tails, or other community projects, we’ve got a whole channel for that in our Discord, <a target="" rel="noreferrer" href="https://discord.com/channels/1379528469859532931/1388174344097628252">#community-projects</a>. We’re also listening and sharing great projects on <a target="" rel="noreferrer" href="https://www.reddit.com/r/Tailscale/">Reddit</a>, <a target="" rel="noreferrer" href="https://bsky.app/profile/tailscale.com">Bluesky</a>, <a target="" rel="noreferrer" href="https://hachyderm.io/@tailscale">Mastodon</a>, and <a target="" rel="noreferrer" href="https://www.linkedin.com/company/tailscale/product/">LinkedIn</a>.</p></div></div></div>
  </body>
</html>
