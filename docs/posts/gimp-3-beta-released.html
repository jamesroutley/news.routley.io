<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/">Original</a>
    <h1>Gimp 3 Beta Released</h1>
    
    <div id="readability-page-1" class="page"><div>
                    <p>The new unstable version of <span>GIMP</span>, 2.99.2, marks the first step towards
<span>GIMP</span> 3 based on the <span>GTK3</span> user interface toolkit.</p>
<p>Release highlights:</p>
<ul>
<li><span>GTK3</span>-based user interface, with native support for Wayland and HiDPI displays.</li>
<li>Major refactoring and cleanup</li>
<li>Multiple layers selection</li>
<li>More (color) space invasion</li>
<li>Render caching available for better performance</li>
<li>New plug-in <span>API</span></li>
<li>Plugins now possible with Python 3, JavaScript, Lua, and Vala</li>
</ul>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-splash-2.99.2.jpg" alt="GIMP 2.99.2 splash screen by Aryeom, CC by-sa"/>
<figcaption>
<em><span>GIMP</span> 2.99.2 splash screen by <a href="https://film.zemarmot.net">Aryeom</a>, Creative Commons by-sa 4.0</em>
</figcaption>
</figure>


<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2-99-2-overview.jpg" alt="GIMP 2.99.2 with Coffee Run poster by Hjalti Hjálmarsson"/>
<figcaption>
<em><span>GIMP</span> 2.99.2 with <a href="https://cloud.blender.org/films/coffee-run">Coffee Run</a> poster by Hjalti Hjálmarsson, <a href="https://creativecommons.org/licenses/by/4.0/"><span>CC</span>-<span>BY</span> 4.0</a></em>
</figcaption>
</figure>

<h2 id="gtk3-based-ui"><span>GTK3</span>-based <span>UI</span><a href="#gtk3-based-ui" title="Permanent link">¶</a></h2>
<p>The first difference will be visual as you will notice that <span>GIMP</span> got a
bit more of a modern look and it can also use some new widgets (instead
of redeveloping them on <span>GTK2</span>) as well as client-side window decorations
on various dialogs. But the aesthetic differences are far from being the
main appeal of <span>GTK3</span>.</p>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2.10.22-2.99.2.jpg" alt="GIMP 2.10.22 and 2.99.2 interfaces side by side"/>
<figcaption>
<em>Left: <span>GIMP</span> 2.10.22 - Right: <span>GIMP</span> 2.99.2</em>
</figcaption>
</figure>

<h3 id="high-pixel-density-displays">High pixel density displays<a href="#high-pixel-density-displays" title="Permanent link">¶</a></h3>
<p>One of the main issues of <span>GTK2</span> was the absent support for high pixel
density displays (e.g. small screens with high resolution or big screens
with extremely high resolution) which has become more widespread,
especially among graphics professionals. <span>GIMP</span> 2.10 came with partial
workaround which was acceptable only in some limited cases but was not
really appropriate for intense use of the software.</p>
<p><span>GTK3</span> brings proper support to <span>GIMP</span> so it will follow your system-set scale settings.</p>
<p><em>Status</em>: done, some custom widgets might still need an update.</p>
<h3 id="improved-input-devices-support">Improved input devices support<a href="#improved-input-devices-support" title="Permanent link">¶</a></h3>
<p>By “input device”, we are mostly talking about drawing tablets or
pen displays. In <span>GIMP</span> 2, their support had many shortcomings: you had to
plug the tablet before starting <span>GIMP</span>, enable each new device explicitly
in the settings and, worse, unplugging the tablet could lead to
instability of the software (though this issue got mostly worked around
on <span>GTK2</span> by <span>GIMP</span> developers in the v2.8 release series).</p>
<p><span>GIMP</span> 3 (hence this first development release) is bringing hotplug support,
which means: start <span>GIMP</span>, plug your tablet, done. You are ready to draw,
with pressure, tilt, and everything.</p>
<p>We are also trying to improve general support by making the advanced
configuration of input devices easier to set.</p>
<p>A while ago, we also experimented with support for touch gestures like
zooming, panning, rotating etc. We did not finish this work because we
realized this was not a priority compared to some other features.</p>
<p>Touch gestures are very nice and awesome but also sometimes become a burden.
Actually, many professional artists even disable touch sensitivity to
prevent unwanted input while working with a stylus (high-end tablets often
come with a physical switch for this nowadays, and this can also be disabled
in tablet settings). With this in mind, we have decided to not make it
a priority compared to some other work-in-progress. So we are not sure
whether specific gesture support will make it to <span>GIMP</span> v3.0. We do
welcome patches from anyone willing to make it one’s priority though.</p>
<p><em>Status</em>: some work needs to be done to simplify configuration dialog as
the support for legacy features is either not needed anymore or can be
done better. We might also want to add support for Wayland-specific
features related to input devices.</p>
<h3 id="theming">Theming<a href="#theming" title="Permanent link">¶</a></h3>
<p>With <span>GTK3</span>, we also inherit its <span>CSS</span>-based theme format. Unfortunately
this means that all custom-made themes from past versions will be
incompatible with <span>GIMP</span> 3.0 and future releases. On the bright side,
this new theme format uses a very well known theming standard. This
should make it much easier to tweak <span>GIMP</span>’s interface to your needs and preferences.</p>
<p>Moreover, the symbolic icon themes are much better supported. They will
follow the theme-set foreground and background colors. If you ever had to
switch from a dark theme to a light one in <span>GIMP</span> 2.10, you probably
remember you also had to switch the symbolic icon themes manually. This
won’t be necessary anymore as symbolic icons will be recolored according
to your theme.</p>
<p>Finally, the “dark theme” is a core concept of <span>GTK3</span>, which means,
for instance, that even window decorations get recolored as you can
see in the screenshot above.</p>
<p>Also, a same theme could propose both a dark and a light variant, so the
<em>Theme</em> preferences page shows a <em>“Use dark theme variant if available”</em>
checkbox. Similarly, icon themes may propose both symbolic and color
icons. Which is why the <em>“Icon Theme”</em> preferences page has a <em>“Use
symbolic icons if available”</em> switch so that you could choose your
preferred style.</p>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2.99.2-themes.jpg" alt="Theme switching"/>
<figcaption>
<em>Switching to Dark or light themes with a single checkbox with icons recoloring to theme colors</em>
</figcaption>
</figure>

<p><em>Status</em>: waiting for theme contributors.</p>
<p>Code-side, changes related to theming are basically done. Now we need a
new default theme.
For now, <span>GIMP</span> 2.99.2 only lists the “System” theme, which lets <span>GIMP</span>
follow your system-wide <span>GTK</span> theme. This is a regression from 2.10 that
we intend to fix in time for <span>GIMP</span> 3.0 by reintroducing a default theme
with a neutral dark/light variant as well as a neutral middle-gray
custom theme.</p>
<p>The main issue with system themes is that they cover very basic desktop
use cases. Meanwhile, advanced graphics work requires a neutral gray theme
to avoid polluting your color perception. This is the main reason why
<span>GIMP</span> needs to default to a neutral color theme with symbolic icons.</p>
<p>Colored themes and icons are still an option, and, in fact, we are
pretty sure that the community will soon come up with good-looking
custom themes. This is a great way to contribute to <span>GIMP</span> as a non-developer!</p>
<h3 id="wayland-support">Wayland support<a href="#wayland-support" title="Permanent link">¶</a></h3>
<p>The port to <span>GTK3</span> should normally give us Wayland support on Linux for free.
And it mostly does. Unfortunately, a few bugs have already been reported
for <span>GIMP</span> running on Wayland. Some of them are clearly blockers for releasing
<span>GIMP</span> 3 (such as various weird <span>GUI</span> bugs or <a href="https://gitlab.gnome.org/GNOME/gimp/-/issues/4092">huge memory leaks</a>). Others are less serious
but still are a bit embarrassing, like the one where the splash screen is
broken on HiDPI displays because Wayland doesn’t report scaling properly.</p>
<p>Until these issues are fixed, we don’t think we can safely claim that we
provide appropriate Wayland support. We will be grateful for all patches to
address that, whether they arrive to <span>GIMP</span>, <span>GTK</span>, or another relevant part
of the technology stack. If you are interesting in helping out, here is the
<a href="https://gitlab.gnome.org/GNOME/gimp/-/issues?scope=all&amp;utf8=%E2%9C%93&amp;state=opened&amp;label_name[]=Environment%3AWayland">list of Wayland-related bugs</a>.</p>
<p>Appropriate Wayland support also means we need to reimplement a few
features through so called portals. We have already done this for the
screenshot plug-in (using Freedesktop, <span>GNOME</span>, and <span>KDE</span> portals), and there
is some ongoing work to fix on-display color picking (already works in <span>KDE</span>,
doesn’t yet work with <span>GNOME</span> and Freedesktop portals).</p>
<p>As for the file portal, this is probably something that won’t happen
for <span>GIMP</span> 3.0, because we still require some features of the <span>GTK</span> file
dialog, but it might happen later with a planned redesign for improved
export process.</p>
<p><em>Status</em>: a few blocking bugs in particular require attention. We
welcome contributions.</p>
<h2 id="multi-layer-selection">Multi-layer selection<a href="#multi-layer-selection" title="Permanent link">¶</a></h2>
<p>Managing a complex project with tens and hundreds of layers is now much
easier thanks to newly added multi-layer selection. <a href="https://film.zemarmot.net/en/">Aryeom</a>, the animation film director
working with the core team, has been asking for this since 2015, so
the <em>ZeMarmot</em> project finally made this happen. This is another
example of a successful close artist-developer collaboration: every feature
was carefully designed following discussions and was tested in production.</p>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2.99.2-multi-layer-selection.png" alt="Selecting multiple layers in Layers dockable"/>
<figcaption>
<em>Selecting 4 layers to organize them or transform them at once</em>
</figcaption>
</figure>

<p>The Layers dockable is now fully multi-selection aware, using the usual
interaction for multi-items selection (<code>Shift+click</code> for selecting a
range of layers and <code>Ctrl+click</code> for selecting or deselecting
non-contiguous layers). Organizational operations now work on all
selected layers, i.e. that you can move, reorder, delete, duplicate,
merge (and more…) all selected layers at once.</p>
<p>Several tools now also work on multiple selected layers. For instance
all transform tools (move, rotation, scale, perspective, unified
transform…) will transform all selected layers (in addition to the existing
layer links with the “chain” icon). You can also crop several layers at
once or copy-paste merged layers’ projection. Even the <em>Color Picker</em> tool
can now pick merged color from several layers (some kind of partial
“Sample merged” without having to hide unwanted layers).</p>
<p>These are just a few examples because this change affects a large part
of the code base: the concept of an active layer is prominent in every
action. You can read more about this in a <a href="https://www.patreon.com/posts/report-on-for-in-37266151">detailed development
report</a>.</p>
<p><em>Status</em>: this is a work in the progress.</p>
<p>Some features in <span>GIMP</span> still expect a single layer and need to be fixed
before the final release. It’s possible that we will inadvertently break
something while working on that, which is why it’s important that we do
more development releases. Moreover, we might extend the multi-item
selection to paths and channels soon.</p>
<p>Finally, painting and <span>GEGL</span> operations (filters) are still limited to
single layers. Adding ability to paint or run pixel operations on
several layers at once will probably require some additional interface
specification and designing to prevent undesired consequences like
extremely slow operation or the ability to cancel a long-running process.</p>
<h2 id="plug-in-api">Plug-in <span>API</span><a href="#plug-in-api" title="Permanent link">¶</a></h2>
<p>We had to break the plug-in APi to introduce many improvements, although we
took a special care not to break things where it wasn’t necessary to do so.</p>
<p>Porting a single-file plug-in from <span>GIMP</span> 2.10 to <span>GIMP</span> 3 usually takes between
5 and 30 minutes. We are working on a porting documentation to be released
along with <span>GIMP</span> 3.</p>
<p>If you are a plug-in developer, one of the first steps you can take is
making sure you don’t use any deprecated functions. We compiled a <a href="https://gitlab.gnome.org/GNOME/gimp/-/blob/master/devel-docs/GIMP3-plug-in-porting-guide/removed_functions.md">list of functions removed and their
replacement</a>. You can already do this part of the port while still targeting <span>GIMP</span> 2.10.x versions.</p>
<h3 id="object-api">Object <span>API</span><a href="#object-api" title="Permanent link">¶</a></h3>
<p>Among the noteworthy changes, we moved away from object IDs to real
objects. In particular in <span>GIMP</span> 3, <code>GimpImage</code>, <code>GimpItem</code>,
<code>GimpDrawable</code>, <code>GimpLayer</code>, <code>GimpVectors</code>, <code>GimpChannel</code> and <code>GimpPDB</code>
are objects (other classes of objects already exist or may be added later).</p>
<p>It brings safer programming by having typed objects whose class can be
easily verified, hence better error messaging (with IDs, which are
basically integers, having weird bugs because of improper IDs was not
uncommon and it was not always easy to track the bug).</p>
<p>Also object-programming implies class inheritance. Typically a
<code>GimpLayer</code> is also a <code>GimpDrawable</code>, itself a <code>GimpItem</code>. This means
you can use any methods from parent classes and easily test for class ownership.</p>
<p>A non-C consequence is that it enables bindings to adapt the <span>API</span> to
their own object model. Hence duplicating a <code>GimpImage</code> named for
instance <code>img</code> in Python 3 can be done with the quite pythonic <span>API</span> <code>img2
= img.duplicate()</code>.</p>
<p><em>Status</em>: object port is basically done. We also want to use object
signalling, which is a work-in-progress and should eventually allow to
connect signal handlers directly on objects, in order to manage events
from the core application (something impossible in <span>GIMP</span> 2, except by
regular polling).</p>
<h3 id="gio-usage-for-file-handling"><span>GIO</span> usage for file handling<a href="#gio-usage-for-file-handling" title="Permanent link">¶</a></h3>
<p>Another change in our <span>API</span> is that paths are now handled as <code>GFile</code>,
which implies using the GLib/<span>GIO</span> <span>API</span>.</p>
<p>While it may seem a bit cumbersome (as it adds the additional step of
creating and managing a GFile), this allows much more robust file
handling. In particular, you won’t have to take care about path
character encoding (a real issue when developers just assume everyone
uses the same encoding as themselves) hence broken paths and
non-portable code. Also we don’t have to deal with difference of
operating systems regarding folder separation or file system notations.
Working with a <code>GFile</code> makes internal representation transparent and
file handling robust.</p>
<p>The second big advantage is that it means all such <span>API</span> gains any ability
of installed <span>GIO</span> modules, in particular loading or saving from/to remote
locations (even possibly through secure channels like <span>HTTPS</span>).
This opens a wide range of possibilities.</p>
<p><span>GIO</span> port of file handling had been done in the core code of <span>GIMP</span>, back
for <span>GIMP</span> 2.10 initial release. We are now bringing the advantages to
plug-in developers as well in <span>GIMP</span> 3.0.</p>
<p><em>Status</em>: done, except with legacy bindings.</p>
<p>Language bindings through GObject Introspection also have full access to
GLib/<span>GIO</span> <span>API</span> so they are already able to create GFile from paths or <span>URI</span>
without any problem.
Yet legacy manual bindings, such as <code>script-fu</code> (Scheme), don’t have
GFile access. We are working on it (a patch even already exists, but
needs to be reviewed).</p>
<h3 id="plug-in-declaration">Plug-in declaration<a href="#plug-in-declaration" title="Permanent link">¶</a></h3>
<p>Some major changes have been done in the <span>API</span> to declare your plug-in.
This is now done by subclassing the <code>GimpPlugIn</code> class and overriding
some methods to list and document the created plug-in procedures. We
made a much cleaner and explicit <span>API</span> than the previous one which should
help plug-in developers.</p>
<p>The way your plug-in procedure’s arguments are now handled has also been
standardized, in particular using config <code>GObject</code> properties. This is
easier to deal with as a generic logics. Especially the same config
object allows us to generate many features. For instance, it will help
generate dialogs on demand for plug-ins who do not want to tinker with
<code>GTK</code> or other toolkit themselves. It also simplify and standardize
argument saving for subsequent calls or a same procedure.</p>
<p>Eventually this is also part of the base work for a future
recording/macro feature (very unlikely to be in <span>GIMP</span> 3.0, but this is
part of the ground work towards such feature) since we will be able to
reliably save the arguments used when running plug-ins.</p>
<p><em>Status</em>: though the main part of this <span>API</span> is done, more needs to happen
before the release, and in particular we are still tinkering with the
argument representation.</p>
<h3 id="bindings">Bindings<a href="#bindings" title="Permanent link">¶</a></h3>
<p>We have introspected the full <span>API</span> through <a href="https://gi.readthedocs.io/en/latest/">GObject
Introspection</a>. It means that <span>GIMP</span>
<span>API</span> should be fully usable in a wide range of language bindings. We have
only tested a few so far, so we can confirm that <span>GIMP</span> can now be
scripted (additionally to C and C++ of course) with:</p>
<ul>
<li>Python 3</li>
<li>JavaScript</li>
<li>Lua</li>
<li>Vala</li>
</ul>
<p>One of the main differences with how <span>GIMP</span> used to be scriptable, with
Python 2 notably, is that a custom layer <span>API</span> is not needed anymore.</p>
<p>Also <span>GIMP</span> 2 bindings used to be made around the <span>PDB</span> protocol which is
only a subset of the full C <code>libgimp</code> <span>API</span>. The new bindings are built
around <code>libgimp</code> itself. Therefore plug-ins in Python 3, Javascript, Lua
or Vala (or any future introspected binding) will have the same
possibilities as C plug-ins. This is a bright new world for <span>GIMP</span> plug-in developers!</p>
<p>Another consequence is that the <span>API</span> is basically the same for all these
languages, apart for language idiosyncrasies.
For instance if finding an intersection of a drawable with a selection
in C is:</p>
<div><pre><span></span><code><span>success</span><span> </span><span>=</span><span> </span><span>gimp_drawable_mask_intersect</span><span> </span><span>(</span><span>drawable</span><span>,</span><span> </span><span>&amp;</span><span>x</span><span>,</span><span> </span><span>&amp;</span><span>y</span><span>,</span><span> </span><span>&amp;</span><span>width</span><span>,</span><span> </span><span>&amp;</span><span>height</span><span>);</span><span></span>
</code></pre></div>

<p>In Javascript, it will be:</p>
<div><pre><span></span><code><span>let</span><span> </span><span>[</span><span> </span><span>intersect</span><span>,</span><span> </span><span>x</span><span>,</span><span> </span><span>y</span><span>,</span><span> </span><span>width</span><span>,</span><span> </span><span>height</span><span> </span><span>]</span><span> </span><span>=</span><span> </span><span>drawable</span><span>.</span><span>mask_intersect</span><span>();</span><span></span>
</code></pre></div>

<p>Or again in Python 3:</p>
<div><pre><span></span><code><span>intersect</span><span>,</span> <span>x</span><span>,</span> <span>y</span><span>,</span> <span>width</span><span>,</span> <span>height</span> <span>=</span> <span>drawable</span><span>.</span><span>mask_intersect</span><span>()</span>
</code></pre></div>

<p>Another nice example is how C-type arrays, with an additional length
arguments are handled. As expected, the length argument does not exist
in a binding if the target language has an appropriate structure.
For instance, while you can copy from multiple drawables from a script with:</p>
<div><pre><span></span><code><span>/* Where @drawables is a C array of drawables, and @num_drawables</span>
<span> * indicates the size of this array.</span>
<span> */</span><span></span>
<span>gimp_edit_copy</span><span> </span><span>(</span><span>num_drawables</span><span>,</span><span> </span><span>drawables</span><span>);</span><span></span>
</code></pre></div>

<p>This can be done in Python 3 as (with <code>num_drawables</code> removed and C array
replaced by a Python list):</p>
<div><pre><span></span><code><span>Gimp</span><span>.</span><span>edit_copy</span><span>([</span><span>drawable1</span><span>,</span> <span>drawable2</span><span>,</span> <span>drawable3</span><span>])</span>
</code></pre></div>

<p>Not only do these binding now have access to the full <span>GIMP</span> <span>API</span>, but they
also have access to many more introspected APIs used as dependencies to
<span>GIMP</span>. For instance a plug-in can have access to the full GLib/<span>GIO</span>, <span>GTK</span>,
Pango, Cairo APIs as well as the babl and <span>GEGL</span> <span>API</span> (for easier pixel
manipulation and access to a massive range of existing operations). This
was one of the main limitation of the former Python 2 binding, which
could not manipulate pixels with <span>GEGL</span>.</p>
<p><em>Status</em>: some people are regretting the facilities provided by the
former Python 2 binding, such as automatic dialog creation. This
is worked on right now (some embryo of dialog generation has even
already landed in the development branch after 2.99.2 release) hence
should be available for the next development release. The best part is
that such <span>API</span> will be done on the main <span>API</span>, thus available to all
bindings, not just Python or Scheme.
This is one of the biggest advantages of introspected <span>API</span> compared to
manually maintained bindings: rather than reimplementing nice features
in every available binding, we will provide them in the main <span>API</span> so that
every developer can enjoy them, whatever your preferred language.</p>
<p>Finally Script-fu is not one of the introspected bindings (though there
is supposedly GObject Introspecting scheme bindings, but we haven’t
tested any yet) and still mostly works as its own extension. Yet issues
regarding some of the <span>API</span> changes have been raised (for instance the
inability to create <code>GFile</code> as discussed earlier) and will have to be
fixed before finale stable release.</p>
<h3 id="goat-exercises">Goat exercises<a href="#goat-exercises" title="Permanent link">¶</a></h3>
<p>For each of the tested binding languages, we created a plug-in called
“Goat exercise”, which is a demo for creating plug-ins. You can call it
a “<em><span>GIMP</span> Hello World!</em>“.</p>
<p>Each Goat Exercise does exactly the same thing in its own language: it
creates a dialog with a label, buttons and a text view (<span>GTK</span>+ and
GLib/<span>GIO</span> demo); one of the buttons triggers a filter modifying the
active layer (<span>GEGL</span> demo and <span>GIMP</span> <span>API</span> demo); all this while showing its
own source code inside the text view (making it easy to inspect the code
from within <span>GIMP</span>) and with a button sending you to the repository file
(if you prefer to check out the last version, comfortably in your code editor).</p>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2.99.2-goat-exercises.jpg" alt="Goat Exercise in 5 languages"/>
<figcaption>
<em>The 5 versions of the Goat Exercise plug-in in Python 3, Javascript, Lua, C and Vala</em>
</figcaption>
</figure>

<p>These plug-ins are quite important as we are planning to improve the
plug-in ecosystem with <span>GIMP</span> 3. They are the first step of
“self-documenting demo plug-ins” (while doing something a bit more
exciting that a bare “Hello World”).</p>
<p><em>Status</em>: current code of the Goat Exercise is not always up-to-date
with the most recent <span>API</span> yet as it is a moving target. These will be
updated before release.</p>
<h3 id="developer-documentation">Developer documentation<a href="#developer-documentation" title="Permanent link">¶</a></h3>
<p>We have started to write down some documentation regarding plug-in
development in <span>GIMP</span> 3, and will progressively start to publish some
tutorials. Hopefully we will even be able to relaunch our developer
website that has been slowly decaying for too many years. We hope that
<span>GIMP</span> 3 will revitalize the <span>GIMP</span> plug-in ecosystem!</p>
<p><em>Status</em>: still at an early stage, we welcome more contributors to make
it possible.</p>
<h2 id="extensions">Extensions<a href="#extensions" title="Permanent link">¶</a></h2>
<p>Extensions are a new file format that is simply a wrapper of data
(brushes, splash screens, patterns, dynamics…) or plug-ins, associated
with metadata (name, description, screenshots, version, requirements…).
The goal will be to allow plug-in developers to publish their work on
repositories for anyone to search third-party plug-ins,
install/uninstall, enable/disable and update them, all within <span>GIMP</span>.</p>
<p>The menu <code>Edit &gt; Manage Extensions</code> shows the base dialog. In the
“System Extensions” tab in particular, you will notice an “Official Demo
Plug-ins” which is our first extension. It in fact bundles all the Goat
Exercises plug-ins we talked about earlier. If you switch if off, you
will notice after a restart (right now you have to restart <span>GIMP</span> to see
the effect) that the menu category <code>Filters &gt; Development &gt; Goat
Exercises</code> disappeared.</p>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2.99.2-goat-exercise-extension.png" alt="Goat Exercise as extension"/>
<figcaption>
<em>The Goat Exercises are themselves a system extension.</em>
</figcaption>
</figure>

<p>We’ll get back to talking about this feature after we’ve done more work
on it. In particular, we will provide documentation on how to create
extensions. It is definitely something plug-in and resource creators
should look forward to, as it will help share their creations with others.</p>
<p><em>Status</em>: still more work to do on the <span>GIMP</span> side, especially for
communicating with repositories, and much more work to be done for the
official repository and the website for extensions.</p>
<h2 id="space-invasion">Space invasion<a href="#space-invasion" title="Permanent link">¶</a></h2>
<p><span>“</span><em>Space invasion</em>” is the internal code name for the work originally
started in <a href="https://www.gimp.org/news/2018/08/19/gimp-2-10-6-released/#prepare-for-the-space-invasion">2018</a>
whose goal was proper support of color space during core pixel
processing. In the <span>GIMP</span> 2.10 series, despite core color management
support, the profiles were sometimes lost during an operation processing
and only reintroduced on finale results, which may result in wrong
values in some cases.</p>
<p>Anyone interested to understand further the problematics can read
<a href="https://www.patreon.com/posts/20264674">Øyvind Kolås’s post</a> and in
particular the detailed associated <a href="https://gegl.org/NEWS.html#_gegl_0_4_6_2018_07_23">release notes for <span>GEGL</span>
0.4.6</a> where he
explains this really well.</p>
<p>Some of the improvements of this work have already been progressively
backported to various <span>GIMP</span> 2.10.x releases, but <span>GIMP</span> 3.0 should be the
culminating release where we hope to get this 100% right.</p>
<p><em>Status</em>: the development branch is much more advanced on this topic
than the 2.10 series, but some more work needs to be done. Various
aspects of <span>GIMP</span> still mostly expect or display sRGB-only values.</p>
<h2 id="render-caching">Render caching<a href="#render-caching" title="Permanent link">¶</a></h2>
<p><span>GIMP</span> 3 now has a render cache that keeps the result of scaling, color
management, display filters and shell mask (for tools like <em>Fuzzy Select</em>).
This results in much snappier user experience in comparison to the <span>GTK2</span>
version of <span>GIMP</span>.</p>
<p>There is now also a <em>Zoom Quality</em> setting in <em>Preferences -&gt; Display</em>.
When set to <em>Fast</em>, <span>GIMP</span> will do a nearest neighbor interpolation from
the next bigger mipmap level instead of linear or box filtering. This
gives a slight and permanent boost to painting and all updates. We have
a few ideas to improve this further like reblitting in high quality
after a timeout.</p>
<p><em>Status</em>: done.</p>
<h2 id="improved-import-policies">Improved import policies<a href="#improved-import-policies" title="Permanent link">¶</a></h2>
<p><strong>Color Profile Policy</strong> now exposes a new choice “<em>Convert to Preferred
Profile</em>” and the import dialog default “Convert” action will convert
the image to the preferred profile (if any was set, otherwise it falls
back to the built-in profile). Converting to the built-in profile will
still be available as a secondary action. If you want to always work with
a given profile, you can set up your preferred workflow as soon as importing
is done.</p>
<p>Moreover, a new <strong>Metadata Rotation Policy</strong> is exposed in the <em>Preferences</em>
dialog, next to the <em>Color Profile Policy</em> (in page <code>Preferences &gt;
Image Import &amp; Export</code>) with 3 options: “Ask what to do”, “Discard metadata
without rotating”, and “Rotate the image then discard metadata”.</p>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2.99.2-import-policies-prefs.jpg" alt="Import Policies"/>
<figcaption>
<em>Updated Color Profile policy and new Metadata rotation policy</em>
</figcaption>
</figure>

<p>The metadata rotation policy used to be handled on the <span>API</span> side, with
a dialog generated by <code>libgimpui</code> and saved in a global parasite.
The whole logics and <span>GUI</span> has been moved as core logics, similar to the
“Color Profile Policy”. This implies that plug-ins don’t even need to
handle this as it will happen as specified by the user automatically
on every new import.</p>
<p><em>Status</em>: done.</p>
<h2 id="compact-sliders">Compact sliders<a href="#compact-sliders" title="Permanent link">¶</a></h2>
<p>The compact spin scale was introduced in <a href="https://www.gimp.org/news/2020/02/24/gimp-2-10-18-released/#compact-sliders"><span>GIMP</span>
2.10.18</a>. In the 2.10 series, it was left as an optional feature which could
be deactivated in the <em>Preferences</em> dialog. In <span>GIMP</span> 3, this is now the
only possible behavior, with no options.</p>
<figure>
<img src="https://www.gimp.org/news/2020/11/06/gimp-2-99-2-released/gimp-2.99.2-compact-spin-scale.png" alt="Compact slider"/>
<figcaption>
<em>New compact slider is now default and only option</em>
</figcaption>
</figure>

<p>Please note that the bright blue color on the screenshot is not our
preference, it’s what the system theme dictates. This widget actually
uses <code>GtkProgressBar</code> colors by default. Therefore this can be adjusted
in a custom theme by changing <code>GtkProgressBar</code> colors or only the colors
in this specific widget (again, we welcome theme contributors!).</p>
<p><em>Status</em>: done.</p>
<h2 id="refactoring">Refactoring<a href="#refactoring" title="Permanent link">¶</a></h2>
<p>While porting old features and implementing new ones, a lot of side work
has been done on the code structure. Many parts of the code base got
refactored for better maintenance.</p>
<p>Even when some port is not done yet, ground work may have been prepared,
such as the <code>GimpAction</code> interface to add a layer of abstraction to
<code>GtkAction</code> (preparing us to actually move away from it at a later
point which is one of the main remaining big ports for the move to <span>GTK3</span>).</p>
<p>Many other parts are constantly remodeled and improved as part of
a never-ending background work.</p>
<p><em>Status</em>: refactoring is always work in the progress, always was, always
will be. It never really stops.</p>
<h2 id="packaging">Packaging<a href="#packaging" title="Permanent link">¶</a></h2>
<h3 id="beta-flatpak-available">Beta Flatpak available<a href="#beta-flatpak-available" title="Permanent link">¶</a></h3>
<p>This release is available in the “beta” branch of our <a href="https://flathub.org/apps/details/org.gimp.GIMP">official Flathub
package</a>, which is a
hidden release branch (you won’t find this information on the public
web page). This command will allow you to install <span>GIMP</span> 2.99.2:</p>
<div><pre><span></span><code>flatpak install https://flathub.org/beta-repo/appstream/org.gimp.GIMP.flatpakref
</code></pre></div>

<p>From now on, you will be able to update to new development builds as
soon as they are available through this channel (if your desktop has
Flatpak integration, it might even check and propose you the updates automatically).</p>
<p>Note that Flatpak only allows one visible branch of a same application
at once. So if you installed both the stable and development releases
with Flatpak, your desktop in particular will only show either one or
the other. To switch the visible branch, run the relevant command among
the 2 proposed below:</p>
<div><pre><span></span><code>flatpak make-current --user org.gimp.GIMP beta
flatpak make-current --user org.gimp.GIMP stable
</code></pre></div>

<p>Some people also created shortcuts running the explicit command <code>flatpak
run org.gimp.GIMP//beta</code> (respectively <code>stable</code>) as workaround to get
icons for both versions.</p>
<h3 id="windows">Windows<a href="#windows" title="Permanent link">¶</a></h3>
<p>As usual, we provide a Windows installer for <span>GIMP</span>, you will find it on the
<a href="https://www.gimp.org/downloads/devel/">Development Downloads page</a>.</p>
<p>Some features may be missing. In particular, you won’t find the
JavaScript binding on the Windows build because of the complexity of
some dependencies. We will fix this in future releases leading up
to <span>GIMP</span> 3.</p>
<h3 id="macos">macOS<a href="#macos" title="Permanent link">¶</a></h3>
<p>Our macOS packager has still not fully returned, so unfortunately there
is no official macOS package. As always, we remind that <span>GIMP</span> is free/libre
software developed by community. Any of you can become an official package maintainer (and having several contributors would keep everyone safe).</p>
<p>If you are interested, we suggest to get in touch with us on our
<a href="https://www.gimp.org/irc.html"><span>IRC</span></a> channel for developers, <code>#gimp</code>.</p>
<h2 id="whats-next">What’s next<a href="#whats-next" title="Permanent link">¶</a></h2>
<p>As you can see, a lot has been done (the <a href="https://gitlab.gnome.org/GNOME/gimp/-/blob/4f201556967d9e7c868601698e9e3d957c1c27ea/NEWS#L46"><code>NEWS</code></a>
file will also give a bit more details). The vast majority of the work
has already been done. What remains now is the final stroll. This is
however not such an idle walk in the park, as the final decisions and
attention to details is always the most difficult part. We want to
release a rock-solid <span>GIMP</span> v3 and need to pay a lot of attention to
details. This is where we are now and why we are releasing this first
development version.</p>
<p>This <a href="https://www.patreon.com/posts/what-remains-to-40087754">development report</a> lists pretty accurately all the remaining steps, and you’ll notice how it
actually follows quite well the changes in <span>GIMP</span> 2.99.2. The <span>API</span> part,
though going unnoticed to many users, is probably the major part which
we must absolutely get right before the release since our <span>API</span> is meant
to stay stable withing the 3.x series. Once we have it done, we will want
to keep existing interfaces of <code>libgimp</code> 3.0.0 functions unchanged unless absolutely necessary (i.e. unless we discover bugs that made a function
useless). This is likely to take a lot of our time.</p>
<p>There are definitely other parts where help will be crucial, whether it’s
plug-ins, core code, user interface, or application interface. So we do
need more eyes on this to resolve as many little issues as we can.</p>
<p>To conclude, we remind that you can <a href="https://www.gimp.org/donating/">donate to the project and
personally fund several <span>GIMP</span>
developers</a> who make this all possible
at all. This is also a way to give back and accelerate the development
of <span>GIMP</span> if you appreciate the project.</p>
                  </div></div>
  </body>
</html>
