<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rknight.me/blog/thinking-about-recipe-formats-more-than-anyone-should/">Original</a>
    <h1>Thinking about recipe formats more than anyone should</h1>
    
    <div id="readability-page-1" class="page"><p>



<span data-pagefind-body="">
    
    
    
    

    

    

    

	<p>I&#39;ve had a note in my todo list for quite a while to get my (admittedly small) collection of recipes on my website. The note mentioned to look into <a href="https://cooklang.org">Cooklang</a> which is a &#34;<em>recipe markup language</em>&#34; but I also wanted to see if anyone knew of any other standards I should be looking at before I went ahead. I got a few responses:</p>
<ul>
<li><a href="https://pub.calebhearth.com/@caleb/113419235283396365">Caleb pointed me</a> to the <a href="https://pub.calebhearth.com/@caleb/113419235283396365">recipe microformat</a> which he&#39;s using on <a href="https://calebhearth.com/spiced-mead-cake">his recipes</a>.</li>
<li><a href="https://mela.recipes">Mela</a> has it&#39;s own <a href="https://mela.recipes/fileformat/index.html">defined JSON format</a> sent to me by <a href="https://hachyderm.io/@byjp/113421305181124540">JP</a></li>
<li><a href="https://social.stlouist.com/@jw/113419385141696407">JW</a> mentioned <a href="https://en.wikipedia.org/wiki/RecipeML">RecipeML</a> which is XML (ðŸ¤®)</li>
<li><a href="https://writing.exchange/@medievalist/113419695154729301">Lisa mentioned</a> the format Google prefers for SEO (which I don&#39;t care about) and I tracked that down to the <a href="https://schema.org/Recipe">Recipe schema type</a></li>
<li>Then there&#39;s the more obvious, not-standard-for-recipes like Markdown, generic HTML, and PDFs</li>
</ul>
<p>I should note at this point, I started writing out how my <em>own</em> standard might work because I am an idiot. A real <a href="https://xkcd.com/927/">XKCD#927 moment</a>. I stopped, I swear.</p>
<p>Of these I narrowed it down to two that were worth my time: Cooklang and the schema type. Recipe microformat is useful but I was looking for <em>how should I store these</em> and not necessarily how to display them.</p>
<h3>Cooklang</h3>
<p>A <em>very</em> basic Cooklang recipe looks like this:</p>
<pre><code><span>&gt;&gt; <span>source</span>: https://en.wikipedia.org/wiki/Apple</span></code></pre>
<p>Ingredients are identified with <code>@</code> and quantity is defined in the brackets <code>{100%g}</code>. Timers are done with <code>~{10%minutes}</code>. Each paragraph becomes an instruction step. You can also define cookware with <code>#</code>. <code>&gt;&gt;</code> is the metadata. When this is run through a parser the output will be represented like so:</p>
<pre><code><span>{</span></code></pre>
<p>The main limititation I&#39;ve had when converting my recipes is if you have a recipe that is simply &#34;mix all the ingredients&#34; you can&#39;t list them out without them becoming instruction steps.</p>
<pre><code>Mix all the ingredients together.</code></pre>
<p>So you <em>need</em> to write it out like this instead:</p>
<pre><code>Mix <span><span>@</span><span>Butter</span><span><span>{</span><span>230</span><span>%</span><span>g</span><span>}</span></span></span>, <span><span>@</span><span>Garlic</span><span><span>{</span><span>8-10</span><span>%</span><span>cloves</span><span>}</span></span></span>, and <span><span>@</span><span>Parsley</span><span><span>{</span><span>25</span><span>%</span><span>g</span><span>}</span></span></span> together.</code></pre>
<p>Which is <em>fine</em> but in the case of a recipe like this I would prefer to have the ingredients defined separately from the instructions. There&#39;s also no option to add multi line notes in the metadata section with <code>&gt;&gt;</code> but that&#39;s not a massive problem.</p>
<h3>Schema Recipe Type</h3>
<p>The example Apple recipe above can be represented with JSON-LD like so:</p>
<pre><code>&lt;script type=<span>&#34;application/ld+json&#34;</span>&gt;</code></pre>
<p>There are loads of other attributes available like calorie count and suitability for diet types, among others. This is the format that large recipe sites like <a href="https://www.allrecipes.com">allrecipes</a> use, moreso for SEO than anything else, but I suspect the recipe extractor tools that exist are using this where they can. However, there&#39;s no world in which I&#39;m going to write my recipes in JSON so this can&#39;t be the source format - but it <em>would</em> make sense to also include this on a recipe page.</p>
<h3>Output</h3>
<p>I wondered what this might look like on a recipe post or page. I think the solution I want is:</p>
<ul>
<li>Have the recipe, rendered from the cooklang file, as the content of the page. <a href="https://cooklang.github.io/cooklang-ts/"><code>cooklang-ts</code></a> will parse the file and give me back all the info I need.</li>
<li>Have the raw cooklang content available so anyone can download it and use it in their own system.</li>
<li>Include the JSON-LD schema on the page so recipe extractors can grab it easily.</li>
<li>Mark it up with the <code>h-recipe</code> microformat.</li>
</ul>
<p>That final point is relatively simple to implement:</p>
<pre><code><span><span><span>&lt;</span>article</span> <span>class</span><span><span>=</span><span>&#34;</span>h-recipe<span>&#34;</span></span><span>&gt;</span></span>  </code></pre>
<p>There&#39;s also <code>p-yield</code> for quantity produced by the recipe and <code>dt-duration</code> for how long it takes.</p>
<p>I think this is what I want to achieve on my site. Recipes are blog posts tagged with <a href="https://rknight.me/blog/tags/recipes/">#recipes</a> and all the extra info is available if it&#39;s needed. I have a working branch of my site that adds support for <code>.cook</code> files as well as parsing the files and I&#39;ll put up a post about that when I&#39;ve got it working exactly how I want.</p>




    

    
</span></p></div>
  </body>
</html>
