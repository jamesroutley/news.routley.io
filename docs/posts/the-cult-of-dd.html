<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://eklitzke.org/the-cult-of-dd">Original</a>
    <h1>The Cult of Dd</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody">
<p>You&#39;ll often see instructions for creating and using disk images on Unix systems
making use of the <code>dd</code> command. This is a strange program
of [obscure provenance](https://en.wikipedia.org/wiki/Dd_(Unix)) that somehow,
still manages to survive in the 21st century.</p>
<p>Actually, using <code>dd</code> is almost never necessary, and due to its highly
nonstandard syntax is usually just an easy way to mess things up. For instance,
you&#39;ll
see
<a href="https://wiki.archlinux.org/index.php/USB_flash_installation_media">instructions like this</a> asking
you to run commands like:</p>
<pre><code># Obscure dd version
dd if=image.iso of=/dev/sdb bs=4M
</code></pre>
<p>Guess what? This is exactly equivalent to a regular shell pipeline using <code>cat</code>
and shell redirection:</p>
<pre><code># Equivalent cat version
cat image.iso &gt;/dev/sdb
</code></pre>
<p>That weird <code>bs=4M</code> argument in the <code>dd</code> version isn&#39;t actually doing anything
special---all it&#39;s doing is instructing the <code>dd</code> command to use a 4 MB buffer
size while copying. But who cares? Why not just let the command figure out the
right buffer size automatically?</p>
<p>Another reason to prefer the <code>cat</code> variant is that it lets you actually string
together a normal shell pipeline. For instance, if you want progress information
with <code>cat</code> you can combine it with the <code>pv</code> command:</p>
<pre><code># Cat version with progress meter
cat image.iso | pv &gt;/dev/sdb
</code></pre>
<p>There&#39;s an obscure option to GNU <code>dd</code> to get it to display a progress meter as
well. But why bother memorizing that? If you learn the <code>pv</code> trick once, you can
use it with <em>any</em> program.</p>
<p>If you want to create a file of a certain size, you can do so using other
standard programs like <code>head</code>. For instance, here are two ways to create a 100
MB file containing all zeroes:</p>
<pre><code># Obscure dd version
dd if=/dev/zero of=image.iso bs=4MB count=25

# Regular head version
head -c 100MB /dev/zero &gt;image.iso
</code></pre>
<p>The <code>head</code> command is useful for lots of things, not just creating disk images.
Therefore it&#39;s a better investment of your time to learn <code>head</code> than it is to
learn <code>dd</code>. In fact, you probably already know how to use it.</p>
<p>I will confess: there are some interesting options that <code>dd</code> has, which aren&#39;t
easily replicated with <code>cat</code> or <code>head</code>. For instance, you can use <code>dd</code> to
convert a file between ASCII and <a href="https://en.wikipedia.org/wiki/EBCDIC">EBCDIC</a>
encodings. So if you find yourself doing that a lot, I won&#39;t blame you for
reaching for <code>dd</code>. But otherwise, try to stick to more standard Unix tools.</p>
</div></div>
  </body>
</html>
