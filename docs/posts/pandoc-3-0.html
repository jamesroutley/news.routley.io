<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://pandoc.org/releases.html">Original</a>
    <h1>Pandoc 3.0</h1>
    
    <div id="readability-page-1" class="page"><div>
      
      <p>For binary releases, see <a href="https://github.com/jgm/pandoc/releases">https://github.com/jgm/pandoc/releases</a>.</p>
      <p>Want to know when a new release is available? Subscribe to <a href="https://groups.google.com/group/pandoc-announce"><span><code>pandoc-announce</code></span></a>, a
      low-volume mailing list that is just for announcements of new
      releases.</p>
      <p>Note that pandoc uses the <a href="https://pvp.haskell.org/">Haskell Package Versioning
      Policy</a>. Version numbers should be understood as <span><code>EPOCH.MAJOR.MINOR.PATCH</code></span>.</p>
      <section id="revision-history-for-pandoc">
      
      <section id="pandoc-3.0-2023-01-18">
      <h2><a href="#pandoc-3.0-2023-01-18" aria-hidden="true"></a>pandoc 3.0 (2023-01-18)</h2>
      <ul>
      <li><p>Split pandoc-server, pandoc-cli, and pandoc-lua-engine into
      separate packages (<a href="https://github.com/jgm/pandoc/issues/8309">#8309</a>). Note
      that installing the <span><code>pandoc</code></span> package from Hackage
      will no longer give you the <span><code>pandoc</code></span> executable; for that you
      need to install <span><code>pandoc-cli</code></span>.</p></li>
      <li><p>Pandoc now behaves like a Lua interpreter when called as
      <span><code>pandoc-lua</code></span> or when <span><code>pandoc lua</code></span> is used (<a href="https://github.com/jgm/pandoc/issues/8311">#8311</a>, Albert
      Krewinkel). The Lua API that is available in filters is
      automatically available to the interpreter. (See the <span><code>pandoc-lua</code></span> man page.)</p></li>
      <li><p>Pandoc behaves like a server when called as <span><code>pandoc-server</code></span> or when <span><code>pandoc server</code></span> is used. (See the
      <span><code>pandoc-server</code></span> man
      page.)</p></li>
      <li><p>A new command-line option <span><code>--list-tables</code></span>, causes tables to
      be formatted as list tables in RST (<a href="https://github.com/jgm/pandoc/issues/4564">#4564</a>, with
      Francesco Occhipinti).</p></li>
      <li><p>New command line option: <span><code>--epub-title-page=true|false</code></span>
      allows the EPUB title page to be omitted (<a href="https://github.com/jgm/pandoc/issues/6097">#6097</a>).</p></li>
      <li><p><span><code>--reference-doc</code></span>
      can now accept a URL argument (<a href="https://github.com/jgm/pandoc/issues/8535">#8535</a>) and
      load a remote reference doc.</p></li>
      <li><p><span><code>--version</code></span> output
      no longer contains version info for dependent packages. Instead,
      it contains a “Features” line that indicates whether the binary
      was compiled with support for acting as a server, and for using
      Lua filters and Custom writers.</p></li>
      <li><p>A new option <span><code>--split-level</code></span> replaces <span><code>--epub-chapter-level</code></span> and
      affects both EPUB and chunked HTML output. <span><code>--epub-chapter-level</code></span> will still
      work but is deprecated.</p></li>
      <li><p>Multiple input files with <span><code>--file-scope</code></span>: fix case where
      the links are URL-encoded, e.g. with <span><code>%20</code></span> (<a href="https://github.com/jgm/pandoc/issues/8467">#8467</a>).</p></li>
      <li><p>Produce error if <span><code>--csl</code></span> is used more than once
      (<a href="https://github.com/jgm/pandoc/issues/8195">#8195</a>,
      Prat).</p></li>
      <li><p>Remove deprecated <span><code>--atx-headers</code></span> option.</p></li>
      <li><p>Remove deprecated option <span><code>--strip-empty-paragraphs</code></span>.</p></li>
      <li><p>In <span><code>--verbose</code></span> mode
      add message when running citeproc (as with other
      filters).</p></li>
      <li><p>Add new <span><code>mark</code></span>
      extension for highlighted text in Markdown, using <span><code>==</code></span> delimiters (<a href="https://github.com/jgm/pandoc/issues/7743">#7743</a>).</p></li>
      <li><p>Add new extensions <span><code>wikilinks_title_after_pipe</code></span> and
      <span><code>wikilinks_title_before_pipe</code></span> for
      <span><code>commonmark</code></span> and <span><code>markdown</code></span>. (<a href="https://github.com/jgm/pandoc/issues/2923">#2923</a>, Albert
      Krewinkel). The former enables links of style <span><code>[[Name of page|Title]]</code></span> and the
      latter <span><code>[[Title|Name of     page]]</code></span>.
      Titles are optional in both variants, so this works for both:
      <span><code>[[https://example.org]]</code></span>,
      <span><code>[[Name of page]]</code></span>. The
      writer is modified to render links with title <span><code>wikilink</code></span> as a wikilink if a
      respective extension is enabled. Pandoc will use <span><code>wikilinks_title_after_pipe</code></span> if
      both extensions are enabled.</p></li>
      <li><p>Add prefixes to identifiers with <span><code>--file-scope</code></span> (<a href="https://github.com/jgm/pandoc/issues/6384">#6384</a>). This
      change only affects the case where <span><code>--file-scope</code></span> is used and more
      than one file is specified on the command line. In this case,
      identifiers will be prefixed with a string derived from the file
      path, to disambiguate them. For example, an identifier <span><code>foo</code></span> in <span><code>contents/file1.txt</code></span> will become
      <span><code>contents__file1.txt__foo</code></span>.
      Links will be adjusted accordingly: if <span><code>file2.txt</code></span> links to <span><code>file1.txt#foo</code></span>, then the link
      will be changed to point to <span><code>#file1.txt__foo</code></span>. Similarly, a
      link to <span><code>file1.txt</code></span> will
      point to <span><code>#file1.txt</code></span>. A
      Div with an identifier derived from the file path will be added
      around each file’s content, so that links to files will still
      work.</p></li>
      <li><p>New output format: <span><code>chunkedhtml</code></span>. This creates a zip
      file containing multiple HTML files, one for each section, linked
      with “next,” “previous,” “up,” and “top” links. (If <span><code>-o</code></span> is used with an argument
      without an extension, it is treated as a directory and the zip
      file is automatically extracted there, unless it already exists.)
      The top page will contain a table of contents if <span><code>--toc</code></span> is used. A <span><code>sitemap.json</code></span> file is also
      included. The option <span><code>--split-level</code></span> determines the
      level at which sections are to be split.</p></li>
      <li><p>Support complex figures (Albert Krewinkel, Aner Lucero).
      There is now a dedicate Figure block constructor for figures. The
      old hack of representing a figure as <span><code>Para [Image attr [..alt..] (source, &#34;fig:title&#34;)]</code></span>
      has been dropped. Here is a summary of figure support in different
      formats:</p>
      <ul>
      <li>Markdown reader: paragraphs containing just an image are
      treated as figures if the <span><code>implicit_figures</code></span> extension is
      enabled. The identifier is used as the figure’s identifier and the
      image description is also used as figure caption; all other
      attributes are treated as belonging to the image.</li>
      <li>Markdown writer: figures are output as implicit figures if
      possible, via HTML if the <span><code>raw_html</code></span> extension is enabled,
      and as Div elements otherwise.</li>
      <li>HTML reader: <span><code>&lt;figure&gt;</code></span> elements are
      parsed as figures, with the caption taken from the respective
      <span><code>&lt;figcaption&gt;</code></span>
      elements.</li>
      <li>HTML writer: the alt text is no longer constructed from the
      caption, as was the case with implicit figures. This reduces
      duplication, but comes at the risk of images that are missing alt
      texts. Authors should take care to provide alt texts for all
      images. Some readers, most notably the Markdown reader with the
      <span><code>implicit_figures</code></span>
      extension, add a caption that’s identical to the image
      description. The writer checks for this and adds an <span><code>aria-hidden</code></span> attribute to the
      <span><code>&lt;figcaption&gt;</code></span>
      element in that case.</li>
      <li>JATS reader: The <span><code>&lt;fig&gt;</code></span> and <span><code>&lt;caption&gt;</code></span> elements are
      parsed into figure elements, even if the contents is more
      complex.</li>
      <li>JATS writer: The <span><code>&lt;fig&gt;</code></span> and <span><code>&lt;caption&gt;</code></span> elements are
      used write figures.</li>
      <li>LaTeX reader: support for figures with non-image contents and
      for subfigures.</li>
      <li>LaTeX writer: complex figures, e.g. with non-image contents
      and subfigures, are supported. The <span><code>subfigure</code></span> template variable is
      set if the document contains subfigures, triggering the
      conditional loading of the <em>subcaption</em> package. Contants
      of figures that contain tables are become unwrapped, as longtable
      environments are not allowed within figures.</li>
      <li>DokuWiki, Haddock, Jira, Man, MediaWiki, Ms, Muse, PPTX, RTF,
      TEI, ZimWiki writers: Figures are rendered like Div elements.</li>
      <li>Asciidoc writer: The figure contents is unwrapped; each image
      in the the figure becomes a separate figure.</li>
      <li>Classic custom writers: Figures are passed to the global
      function <span><code>Figure(caption, contents, attr)</code></span>,
      where <span><code>caption</code></span> and <span><code>contents</code></span> are strings and <span><code>attr</code></span> is a table of key-value
      pairs.</li>
      <li>ConTeXt writer: Figures are wrapped in a “placefigure”
      environment with <span><code>\startplacefigure</code></span>/<span><code>\endplacefigure</code></span>, adding the
      features caption and listing title as properties. Subfigures are
      place in a single row with the <span><code>\startfloatcombination</code></span>
      environment.</li>
      <li>DocBook writer: Uses <span><code>mediaobject</code></span> elements, unless
      the figure contains subfigures or tables, in which case the figure
      content is unwrapped.</li>
      <li>Docx writer: figures with multiple content blocks are rendered
      as tables with style <span><code>FigureTable</code></span>; like before,
      single-image figures are still output as paragraphs with style
      <span><code>Figure</code></span> or <span><code>Captioned Figure</code></span>, depending on
      whether a caption is attached.</li>
      <li>DokuWiki writer: Caption and “alt-text” are no longer
      combined. The alt text of a figure will now be lost in the
      conversion.</li>
      <li>FB2 writer: The figure caption is added as alt text to the
      images in the figure; pre-existing alt texts are kept.</li>
      <li>ICML writer: Only single-image figures are supported. The
      contents of figures with additional elements gets unwrapped.</li>
      <li>OpenDocument writer: A separate paragraph is generated for
      each block element in a figure, each with style <span><code>FigureWithCaption</code></span>. Behavior for
      single-image figures therefore remains unchanged.</li>
      <li>Org writer: Only the first element in a figure is given a
      caption; additional block elements in the figure are appended
      without any caption being added.</li>
      <li>RST writer: Single-image figures are supported as before; the
      contents of more complex images become nested in a container of
      type <span><code>float</code></span>.</li>
      <li>Texinfo writer: Figures are rendered as float with type <span><code>figure</code></span>.</li>
      <li>Textile writer: Figures are rendered with the help of HTML
      elements.</li>
      <li>XWiki: Figures are placed in a group.</li>
      </ul></li>
      <li><p>Changes in custom readers/writers:</p>
      <ul>
      <li>It is now possible to have a custom reader and a custom writer
      for a format together in the same file. The file may also define a
      custom template for the writer.</li>
      <li>Pandoc now checks the folder <span><code>custom</code></span> in the user’s data
      directory for a matching script if it can’t find one in the local
      directory. Previously, the <span><code>readers</code></span> and <span><code>writers</code></span> data directories were
      searched for custom readers and writers, respectively. Scripts in
      those directories must be moved to the <span><code>custom</code></span> folder.</li>
      <li>Custom readers used to implement a fallback behavior that
      allowed to consume just a string value as input to the <span><code>Reader</code></span> function. This has been
      removed, the first argument is now always a list of sources. Use
      <span><code>tostring</code></span> on that argument
      to get a string.</li>
      </ul></li>
      <li><p>New module Text.Pandoc.Writers.ChunkedHTML, exporting <span><code>writeChunkedHtml</code></span> [API
      change].</p></li>
      <li><p>We now set the <span><code>pandoc-version</code></span> variable
      centrally rather than in the writers. One effect is the man writer
      now emits a comment with the pandoc version.</p></li>
      <li><p>pandoc-server:</p>
      <ul>
      <li>Add simple CORS support to pandoc-server (<a href="https://github.com/jgm/pandoc/issues/8427">#8427</a>).</li>
      <li>Print message to stderr when starting the server.</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Mark unnumbered headings with class <span><code>unnumbered</code></span> (<a href="https://github.com/jgm/pandoc/issues/8148">#8148</a>, Albert
      Krewinkel). This change ensures good conversion results when
      converting with <span><code>--number-sections</code></span>.</li>
      <li>Support parsing of highlighted text.</li>
      <li>Fix handling of <span><code>oMathPara</code></span> in <span><code>w:p</code></span> with other content (<a href="https://github.com/jgm/pandoc/issues/8483">#8483</a>).</li>
      </ul></li>
      <li><p>ODT reader:</p>
      <ul>
      <li>Fix relative links. ODT adds a <span><code>../</code></span> to relative links (see <a href="https://github.com/jgm/pandoc/issues/3524">#3524</a>); this
      needs to be removed when converting from ODT.</li>
      <li>Handle “section” elements (<a href="https://github.com/jgm/pandoc/issues/8409">#8409</a>).</li>
      <li>Rename Text.Pandoc.Readers.Odt -&gt; Text.Pandoc.Readers.ODT,
      for consistency with Writers.ODT. Rename <span><code>readOdt</code></span> -&gt; <span><code>readODT</code></span>. [API change]</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Support href on link even in a fragment (<a href="https://github.com/jgm/pandoc/issues/8437">#8437</a>). (We
      now just look for an <span><code>href</code></span>
      attribute without worrying about the namespace.)</li>
      <li>Parse title from imageobject/objectinfo (<a href="https://github.com/jgm/pandoc/issues/8437">#8437</a>).</li>
      </ul></li>
      <li><p>JATS reader:</p>
      <ul>
      <li>Handle uri element in references (<a href="https://github.com/jgm/pandoc/issues/8270">#8270</a>).</li>
      </ul></li>
      <li><p>Ipynb reader:</p>
      <ul>
      <li>Add cell id to attachment filename when storing in MediaBag
      (<a href="https://github.com/jgm/pandoc/issues/8415">#8415</a>).
      Otherwise attachments with the same name can overwrite each
      other.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Skip parenthenized args of toprule, midrule, etc (<a href="https://github.com/jgm/pandoc/issues/8242">#8242</a>).</li>
      <li>Handle <span><code>##</code></span> macro
      arguments properly (<a href="https://github.com/jgm/pandoc/issues/8243">#8243</a>).</li>
      <li>Remove unused function <span><code>toksToString</code></span> in Parsing
      module.</li>
      <li>Support more <span><code>soul</code></span>
      commands, including <span><code>\hl</code></span>.</li>
      <li>Add <span><code>unnumbered</code></span> class
      for <span><code>\part*</code></span> (<a href="https://github.com/jgm/pandoc/issues/8447">#8447</a>)</li>
      <li>Fix <span><code>TEXINPUTS</code></span>
      handling (<a href="https://github.com/jgm/pandoc/issues/8392">#8392</a>). If
      <span><code>TEXINPUTS</code></span> ends with <span><code>:</code></span>, then the system default
      <span><code>TEXINPUTS</code></span> is added. We
      handle this by just adding the working directory in this
      case.</li>
      <li>Parse short table caption (see jgm/pandoc-types<a href="https://github.com/jgm/pandoc/issues/103">#103</a>). This is
      not too useful yet, because writers don’t do anything with the
      short caption.</li>
      </ul></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Parse table cell with attributess, to support rowspan, colspan
      (<a href="https://github.com/jgm/pandoc/issues/8231">#8231</a>,
      Ruqi).</li>
      <li>Refine “blending” rules for MediaWiki links (<a href="https://github.com/jgm/pandoc/issues/8525">#8525</a>, Ruqi).
      The rules for “blending” characters outside a link into the link
      are described here:
      https://en.wikipedia.org/wiki/Help:Wikitext#Blend_link These pose
      a problem for CJK languages, which generally don’t have spaces
      after links. However, it turns out that the blending behavior, as
      implemented on Wikipedia, is (contrary to the documentation) only
      for ASCII letters. This commit implements that restriction, which
      fixes the problem for CJK.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Fix regression for <span><code>&lt;tt&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/8330">#8330</a>). It
      was no longer being parsed as Code (Justin Wood).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Support <span><code>mark</code></span> role for
      round-trip.</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Support linked images (<a href="https://github.com/jgm/pandoc/issues/8541">#8541</a>).</li>
      <li>Fix strong emph ending with link (<a href="https://github.com/jgm/pandoc/issues/8540">#8540</a>).</li>
      <li>Adding a Parser to look for ordered list start attribute
      numbers if any (<a href="https://github.com/jgm/pandoc/issues/2465">#2465</a>,
      vkraven).</li>
      <li>Handle empty paragraphs (<a href="https://github.com/jgm/pandoc/issues/8487">#8487</a>). Also,
      if attributes are added explicitly to a paragraph, put it in a Div
      with the attributes.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li><p>Allow fenced code block “bare” language to be combined with
      attributes (<a href="https://github.com/jgm/pandoc/issues/8174">#8174</a>,
      Siphalor), e.g.</p>
      <pre><code>```haskell {.class #id}
```</code></pre></li>
      <li><p>Allow table caption labels to start with lowercase <span><code>t</code></span> (<a href="https://github.com/jgm/pandoc/issues/8259">#8259</a>).</p></li>
      <li><p>Grid tables: allow specifying a table foot by enclosing it
      with part separator lines, i.e., row separator lines consisting
      only of <span><code>+</code></span> and <span><code>=</code></span> characters (<a href="https://github.com/jgm/pandoc/issues/8257">#8257</a>, Albert
      Krewinkel). E.g.:</p>
      <pre><code>+------+-------+
| Item | Price |
+======+=======+
| Eggs | 5£    |
+------+-------+
| Spam | 3£    |
+======+=======+
| Sum  | 8£    |
+======+=======+</code></pre></li>
      <li><p>Fix <span><code>implicit_header_references</code></span> with
      duplicate headings (<a href="https://github.com/jgm/pandoc/issues/8300">#8300</a>).
      Documentation says that when more than one heading has the same
      text, an implicit reference <span><code>[Heading text][]</code></span> refers to the
      first one. Previously pandoc linked to the last one instead. This
      patch makes pandoc conform to the documented behavior.</p></li>
      <li><p>Parse highlighted text inside <span><code>==..==</code></span> if <span><code>mark</code></span> extension
      enabled.</p></li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Allow org-ref v2 citations with <span><code>&amp;</code></span> prefix (<a href="https://github.com/jgm/pandoc/issues/8302">#8302</a>).</li>
      <li>Make <span><code>#+pandoc-emphasis-pre</code></span> work as
      expected (<a href="https://github.com/jgm/pandoc/issues/8360">#8360</a>, Amir
      Dekel).</li>
      </ul></li>
      <li><p>BibTeX reader:</p>
      <ul>
      <li>Fix handling of <span><code>%</code></span> in
      <span><code>url</code></span> field (<a href="https://github.com/jgm/pandoc/issues/7678">#7678</a>). <span><code>%</code></span> does not function as a
      comment character inside <span><code>url</code></span> (where URL-encoding is
      common).</li>
      <li>Allow <span><code>url</code></span> field in
      <span><code>bibtex</code></span> as well as <span><code>biblatex</code></span> (<a href="https://github.com/jgm/pandoc/issues/8287">#8287</a>). This
      field is not officially supported for BibTeX, but many styles can
      handle it (<a href="https://www.bibtex.com/f/url-field/">https://www.bibtex.com/f/url-field/</a>), and others
      will ignore it.</li>
      <li>Support <span><code>software</code></span> type
      in biblatex &lt;-&gt; CSL conversions (<a href="https://github.com/jgm/pandoc/issues/8504">#8504</a>).</li>
      <li>Make sure <span><code>version</code></span>
      field comes through in biblatex (<a href="https://github.com/jgm/pandoc/issues/8504">#8504</a>).</li>
      </ul></li>
      <li><p>BibTeX writer:</p>
      <ul>
      <li>Pass through <span><code>url</code></span> even
      for <span><code>bibtex</code></span> (<a href="https://github.com/jgm/pandoc/issues/8287">#8287</a>).</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Pass through unknown languages in code blocks (<a href="https://github.com/jgm/pandoc/issues/8278">#8278</a>),
      instead of producing <span><code>begin_example</code></span>.</li>
      <li>Use span attributes <span><code>tag-name</code></span> in headers as tags (<a href="https://github.com/jgm/pandoc/issues/8513">#8513</a>, Albert
      Krewinkel). This enables round-tripping of tags in Org
      headings.</li>
      </ul></li>
      <li><p>EndNote reader:</p>
      <ul>
      <li>Better error when parsing EndNote references fails.</li>
      </ul></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Rename Text.Pandoc.Writers.Docbook -&gt;
      Text.Pandoc.Writers.DocBook. Rename <span><code>writeDocbook</code></span> -&gt; <span><code>writeDocBook</code></span>, for consistency
      with the DocBook reader’s naming. [API change]</li>
      <li>Fix position of textobject (<a href="https://github.com/jgm/pandoc/issues/8437">#8437</a>). It is
      a child of <span><code>inlinemediaobject</code></span>, not <span><code>imageobject</code></span>.</li>
      <li>Add regression tests for <a href="https://github.com/jgm/pandoc/issues/8437">#8437</a>.</li>
      <li>Render image alt text using textobject element (<a href="https://github.com/jgm/pandoc/issues/8437">#8437</a>).</li>
      <li>Don’t indent contents of title element.</li>
      <li>Store “unnumbered” class in DocBook role attribute (<a href="https://github.com/jgm/pandoc/issues/1402">#1402</a>,
      lifeunleaded).</li>
      </ul></li>
      <li><p>ConTeXt writer (Albert Krewinkel):</p>
      <ul>
      <li>Support syntax highlighting for code.</li>
      <li>Always use <span><code>\type</code></span> for
      inline code. Inline codes that contained curly braces where
      previously rendered with <span><code>\mono</code></span>; this led to unexpected
      results when the presentation of <span><code>\type</code></span> was customized, as those
      changes would not have been applied to code rendered with <span><code>\mono</code></span>.</li>
      <li>Add support for unlisted, unnumbered headings (<a href="https://github.com/jgm/pandoc/issues/8486">#8486</a>).</li>
      <li>Support <span><code>tagging</code></span>
      extension (Albert Krewinkel). Paragraphs are enclosed by <span><code>\bpar</code></span> and <span><code>\epar</code></span> commands, and <span><code>highlight</code></span> commands are used for
      emphasis. This results in much better tagging in PDF output.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Do not repeat caption on headless tables (Albert Krewinkel).
      The caption of headless tables was repeated on each page that
      contained part of the table. It is now made part of the “first
      head”, i.e. the table head that is printed only once.</li>
      <li>Add separator line between table’s body and its foot (Albert
      Krewinkel).</li>
      <li>Ignore languages with no babel equivalent, instead of
      generating an invalid command in the preamble (<a href="https://github.com/jgm/pandoc/issues/8325">#8325</a>).</li>
      <li>Use <span><code>\includesvg</code></span> for
      SVGs and include the <span><code>svg</code></span>
      package (<a href="https://github.com/jgm/pandoc/issues/8334">#8334</a>).</li>
      <li>Use <span><code>soul</code></span> instead of
      <span><code>ulem</code></span> for strikeout,
      underline (<a href="https://github.com/jgm/pandoc/issues/8411">#8411</a>). This
      handles things like hyphenation, line breaks, and nonbreaking
      spaces better.</li>
      <li>Use <span><code>\toprule\noalign{}</code></span> instead of
      <span><code>\toprule()</code></span> in tables, and
      similarly for <span><code>\midrule</code></span>
      and <span><code>\bottomrule</code></span> (<a href="https://github.com/jgm/pandoc/issues/8223">#8223</a>). This
      facilitates redefining <span><code>\toprule</code></span>, <span><code>\midrule</code></span>, and <span><code>\bottomrule</code></span> without needing to
      gobble the ()s. (Those who redefine these macros on the assumption
      that they will be followed by <span><code>()</code></span> may need to change their
      definitions.)</li>
      <li>Support highlighted text for Span with class <span><code>mark</code></span>.</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Use <span><code>&lt;break/&gt;</code></span>
      for LineBreak in the limited contexts that accept it (<a href="https://github.com/jgm/pandoc/issues/8344">#8344</a>).</li>
      <li>Officially deprecate <span><code>writeJATS</code></span> in favor of <span><code>writeJatsArchiving</code></span>.</li>
      </ul></li>
      <li><p>RTF writer:</p>
      <ul>
      <li>Add space after unicode escape commands (<a href="https://github.com/jgm/pandoc/issues/8264">#8264</a>). This
      fixes a bug that caused characters to disappear after unicode
      escapes.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Render tables as list tables when the <span><code>--list-tables</code></span> option is
      specified (<span><code>writerListTables</code></span>) (<a href="https://github.com/jgm/pandoc/issues/4564">#4564</a>,
      Francesco Occhipinti).</li>
      <li>Improve inline escaping rules (<a href="https://github.com/jgm/pandoc/issues/8380">#8380</a>).</li>
      <li>Use special <span><code>mark</code></span> role
      for Span with class <span><code>mark</code></span>.</li>
      </ul></li>
      <li><p>Commonmark writer:</p>
      <ul>
      <li>Ensure that we don’t have blank lines in raw HTML (<a href="https://github.com/jgm/pandoc/issues/8307">#8307</a>).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Only add role attribute in HTML5 (<a href="https://github.com/jgm/pandoc/issues/8241">#8241</a>). It is
      not valid in HTML4.</li>
      <li>Avoid aria-hidden in code blocks for HTML4 (<a href="https://github.com/jgm/pandoc/issues/8241">#8241</a>).</li>
      <li>Only treat <span><code>. . .</code></span> as a
      slide pause in slides, and not in regular HTML output (<a href="https://github.com/jgm/pandoc/issues/8281">#8281</a>).</li>
      <li>Properly merge classes for headings of level &gt; 6 (<a href="https://github.com/jgm/pandoc/issues/8363">#8363</a>).</li>
      <li>Prevent <span><code>&lt;a&gt;</code></span>
      inside <span><code>&lt;a&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/7585">#7585</a>). If a
      link text contains a link, we replace it with a span.</li>
      <li>Replace deprecated aria roles for bibliography entries (<a href="https://github.com/jgm/pandoc/issues/8354">#8354</a>). <span><code>doc-biblioentry</code></span> -&gt; <span><code>listitem</code></span>, <span><code>doc-bibliography</code></span> -&gt; <span><code>list</code></span>.</li>
      <li>Remove obsolete stuff about mathml-script. This was a shim we
      used to include for mathml support. We don’t do anything with this
      any more, so this is dead code.</li>
      <li>Include math links if there are raw commands or environments
      that can be interpreted as math e.g. by MathJax (<a href="https://github.com/jgm/pandoc/issues/8469">#8469</a>).</li>
      <li>Add prooftree to list of math environments (<a href="https://github.com/jgm/pandoc/issues/8462">#8462</a>). This
      will cause raw LaTeX prooftree environments to be rendered
      appropriately when <span><code>--mathjax</code></span> is used.</li>
      </ul></li>
      <li><p>HTML, Markdown writers: filter out empty class attributes
      (<a href="https://github.com/jgm/pandoc/issues/8251">#8251</a>).
      These should not be generated by any pandoc readers, but they
      might be produced programatically.</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Avoid HTML fallbacks in the generated TOC (Albert Krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/8131">#8131</a>).
      The generated table of contents usually has IDs for each TOC link,
      allowing to link back to specific parts of the TOC. However, this
      leads to unidiomatic markup in formats like gfm, which do not
      support attributes on links and hence fall back to HTML. The IDs
      on TOC items are now removed in that case, leading to more
      aesthetic TOCs.</li>
      <li>Escape <span><code>!</code></span> before <span><code>[</code></span> (<a href="https://github.com/jgm/pandoc/issues/8254">#8254</a>).</li>
      <li>Support <span><code>mark</code></span>
      extension.</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>In link text, only replace commas with entities when they’re
      in Str elements. If a link contains an image, it may have
      attributes, and the commas there should not be converted (see <a href="https://github.com/jgm/pandoc/issues/8437">#8437</a>, <a href="https://github.com/jgm/pandoc/issues/8070">#8070</a>).</li>
      </ul></li>
      <li><p>ODT writer:</p>
      <ul>
      <li>Fix relative links (<a href="https://github.com/jgm/pandoc/issues/3524">#3524</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Better handling of tables in lists (<a href="https://github.com/jgm/pandoc/issues/5947">#5947</a>).
      Previously the content of each list cell was indented when the
      table belonged to a list item.</li>
      <li>Indent tables in list items (<a href="https://github.com/jgm/pandoc/issues/5947">#5947</a>).</li>
      <li>Adjust correct attribute on <span><code>lang</code></span> element (<a href="https://github.com/jgm/pandoc/issues/7022">#7022</a>). For
      East Asian languages, we need to adjust <span><code>w:eastAsia</code></span> rather than <span><code>w:val</code></span>. This allows normal fonts
      to be used for any Latin-font text. Similarly, for bidi languages,
      we need to adjust <span><code>w:bidi</code></span>
      rather than <span><code>w:val</code></span>. We
      treat <span><code>he</code></span> and <span><code>ar</code></span> as bidi languages, <span><code>zh</code></span>, <span><code>ja</code></span>, <span><code>ko</code></span> as East Asian
      languages.</li>
      <li>Support relative image widths (Albert Krewinkel). Image widths
      given in percent are interpreted to be relative to the text width.
      Previously, percent widths were taken relative to the image’s
      native size, inconsistently with other writers.</li>
      <li>Avoid using ‘error’ for unassigned table cells (<a href="https://github.com/jgm/pandoc/issues/8468">#8468</a>).
      Instead, throw a regular pandoc error.</li>
      <li>Render a Span with class <span><code>mark</code></span> as highlighted. Currently
      yellow is hardcoded.</li>
      </ul></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Use the ‘new’ table structure, so that colspan and rowspan are
      supported (Wout Gevaert).</li>
      </ul></li>
      <li><p>Man writer:</p>
      <ul>
      <li>Use UTF-8 by default for non-ascii characters (<a href="https://github.com/jgm/pandoc/issues/8507">#8507</a>). Only
      use groff escapes if <span><code>--ascii</code></span> has been specified on
      the command line (<span><code>writerPreferAscii</code></span>).</li>
      </ul></li>
      <li><p>ICML writer:</p>
      <ul>
      <li>Use Contents element for images with raw data instead of a
      link with a data: uri (<a href="https://github.com/jgm/pandoc/issues/8398">#8398</a>).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Refactor to use Text.Pandoc.Chunks.</li>
      <li>Refactored and simplified code.</li>
      <li>Make title page optional (<a href="https://github.com/jgm/pandoc/issues/6097">#6097</a>).</li>
      </ul></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Properly format display equations (<a href="https://github.com/jgm/pandoc/issues/8308">#8308</a>).</li>
      <li>Remove -C option on PSPIC. Some old versions don’t support
      this option, and since it’s the default it shouldn’t be
      necessary.</li>
      </ul></li>
      <li><p>XWiki writer:</p>
      <ul>
      <li>Use template if it is specified (<a href="https://github.com/jgm/pandoc/issues/8296">#8296</a>).
      Previously templates were ignored.</li>
      </ul></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Set fonts after Beamer theme (Jeremie Knuesel). Beamer themes
      such as metropolis and saintpetersburg change the default fonts.
      This change gives precedence to the user font settings by moving
      them after the loading of the Beamer theme.</li>
      <li>Set <span><code>\babelfont</code></span> when
      <span><code>mainlang</code></span> and <span><code>lang</code></span> are specified and <span><code>pdflatex</code></span> is not being used (<a href="https://github.com/jgm/pandoc/issues/8538">#8538</a>). This
      is needed for good results in Arabic.</li>
      <li>Add variable <span><code>urlstyle</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/8429">#8429</a>,
      Amar Al-Zubaidi). This is set to <span><code>same</code></span> by default, so users
      should not experience any change.</li>
      </ul></li>
      <li><p>HTML template:</p>
      <ul>
      <li>Remove default font size, line height and font family in
      default inline css (<a href="https://github.com/jgm/pandoc/issues/8423">#8423</a>). <span><code>mainfont</code></span>, <span><code>fontsize</code></span>, and <span><code>linestretch</code></span> can still be used
      as before; the only difference is that we no longer provide
      opinionated defaults. This commit also adds a <span><code>maxwidth</code></span> variable that sets
      <span><code>max-width</code></span>; if not set,
      36em is used as a default.</li>
      <li>Add <span><code>code { hyphens: manual; }</code></span>.</li>
      <li>Use <span><code>styles.citations.html</code></span> partial
      in <span><code>styles.html</code></span>.</li>
      <li>Fix class name <span><code>hanging</code></span> -&gt; <span><code>hanging-indent</code></span> in <span><code>styles.citations.html</code></span>.</li>
      <li>Put Consolas before Lucida Console for code font (<a href="https://github.com/jgm/pandoc/issues/8543">#8543</a>). This
      is to prevent Lucida Console from being used on Windows, where it
      causes spacing issues in some applications, with boldface glyphs
      wider than regular ones.</li>
      </ul></li>
      <li><p>EPUB CSS changes: Reduce the amount of inline CSS used for
      EPUBs (<a href="https://github.com/jgm/pandoc/issues/8379">#8379</a>).
      Almost everything is now in the default EPUB CSS (<span><code>data/epub.css</code></span>), which can be
      overridden either by putting <span><code>epub.css</code></span> in the user data
      directory or by using <span><code>--css</code></span> on the command line.
      Inline styles are only used for syntax highlighting (which depends
      on the style specified, and is only included on pages with
      highlighted code) and for bibliography formatting (which can
      depend on the CSL style, and is only used in the page containing
      the bibliography).</p>
      <p>Note that, for compatibility with older readers, we don’t use
      flexbox to style <span><code>column/columns</code></span> divs by default,
      as we do in HTML. Instead, we use an older method which only works
      when there are two <span><code>column</code></span>
      divs inside a <span><code>columns</code></span></p>
      <ol start="504" type="i">
      <li>If you need more than two columns and aren’t worried about
      support for older EPUB readers, you can modify the default CSS
      (there is a comment in the CSS telling you what to do).</li>
      </ol></li>
      <li><p>Reveal.js template: prevent line-wrapping of parallax
      options (<a href="https://github.com/jgm/pandoc/issues/8503">#8503</a>, Albert
      Krewinkel).</p></li>
      <li><p>reference.pptx: Remove unsupported element (<a href="https://github.com/jgm/pandoc/issues/8342">#8342</a>, <a href="https://github.com/jgm/pandoc/issues/6338">#6338</a>, Link
      Swanson). The default template contained text above the header,
      which can mislead users into thinking there is a way to put text
      there using pandoc.</p></li>
      <li><p>Text.Pandoc.Readers.Metadata:</p>
      <ul>
      <li>Fix metadata parsing corner case (<a href="https://github.com/jgm/pandoc/issues/8465">#8465</a>).</li>
      <li>Don’t fail on inline metadata beginning with newline (<a href="https://github.com/jgm/pandoc/issues/8358">#8358</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.App:</p>
      <ul>
      <li>Move initial input-to-Pandoc code to internal submodule
      (Albert Krewinkel).</li>
      <li>Change <span><code>parseOptionsFromArgs</code></span> and <span><code>parseOptions</code></span> (<a href="https://github.com/jgm/pandoc/issues/8406">#8406</a>) They
      now return <span><code>Either OptInfo Opt</code></span>. [API
      change]</li>
      <li>Add <span><code>OptInfo</code></span> type [API
      change].</li>
      <li>Add <span><code>handleOptInfo</code></span>
      function. This performs the IO actions for things like <span><code>--version</code></span> that were previously
      done in <span><code>parseOptionsFromArgs</code></span> [API
      change].</li>
      <li><span><code>convertWithOpts</code></span>: add
      argument for a <span><code>ScriptingEngine</code></span> [API
      change].</li>
      <li>Unify check for standalone output (Albert Krewinkel).</li>
      <li>New <span><code>optEpubTitlePage</code></span>
      field on <span><code>Opt</code></span> [API change]
      (<a href="https://github.com/jgm/pandoc/issues/6097">#6097</a>).</li>
      <li>Remove <span><code>optEpubChapterLevel</code></span>, add <span><code>optSplitLevel</code></span> [API
      change].</li>
      <li>Export <span><code>IpynbOutput(..)</code></span> [API
      change].</li>
      </ul></li>
      <li><p>Text.Pandoc.App.OutputSettings:</p>
      <ul>
      <li>Remove unused field <span><code>outputWriterName</code></span> in <span><code>OutputSettings</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Check both extension and mime type to determine bibliography
      type when the bibliography is fetched remotely (<a href="https://github.com/jgm/pandoc/issues/7151">#7151</a>).</li>
      <li>CslJson: allow an object with <span><code>items</code></span> property in addition to
      an array of references. This is what is returned by e.g. <span><code>https://api.zotero.org/groups/904125/items?v=...&amp;format=csljson</code></span></li>
      <li>Require a digit for an implicit “page” locator inside explicit
      locator syntax <span><code>{...}</code></span> (<a href="https://github.com/jgm/pandoc/issues/8288">#8288</a>).
      Previously a locator specified as <span><code>{}</code></span> would be rendered as <span><code>p.</code></span> with nothing after it.</li>
      <li>Update <span><code>sub verbo</code></span> to
      <span><code>sub-verbo</code></span> (<a href="https://github.com/jgm/pandoc/issues/8315">#8315</a>). This
      is a change in the term’s canonical name in citeproc. As a result
      of this change, <span><code>sub verbo</code></span>
      locators have not worked in pandoc since citeproc 0.7.</li>
      <li>Text.Pandoc.Citeproc.MetaValue: remove unused function <span><code>metaValueToPath</code></span>.</li>
      <li>Add internal module Text.Pandoc.Citeproc.Name (<a href="https://github.com/jgm/pandoc/issues/8345">#8345</a>). This
      exports <span><code>toName</code></span>, which
      previously had been part of T.P.Citeproc.BibTeX, and allows for
      cleaner module dependencies.</li>
      </ul></li>
      <li><p>Export module <span><code>Text.Pandoc.Slides</code></span> [API Change]
      (Albert Krewinkel).</p></li>
      <li><p>Add new module Text.Pandoc.Format [API change] (Albert
      Krewinkel). The module provides functions and types for format
      spec parsing and processing. The function <span><code>parseFormatSpec</code></span> was moved from
      Text.Pandoc.Extensions to the new module and renamed to <span><code>parseFlavoredFormat</code></span>. It now
      operates in a PandocMonad and is based on the updated
      types.</p></li>
      <li><p>Text.Pandoc.Sources:</p>
      <ul>
      <li>Add UpdateSourcePos instances for String and strict and lazy
      ByteString [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li>Fix JSON decoding of Extensions (<a href="https://github.com/jgm/pandoc/issues/8352">#8352</a>, Albert
      Krewinkel).</li>
      <li>Add new exported function <span><code>readExtension</code></span> [API
      change].</li>
      <li>Remove <span><code>parseFormatSpec</code></span> [API change].
      This has been moved to Text.Pandoc.Format and renamed as <span><code>parseFlavoredFormat</code></span> (Albert
      Krewinkel).</li>
      <li>Simpler implementation of Extensions based on Set (benchmarks
      show no performance penalty).</li>
      <li>Add <span><code>CustomExtension</code></span>
      constructor to <span><code>Extension</code></span>
      [API change].</li>
      <li>Remove <span><code>Bounded</code></span>, <span><code>Enum</code></span> instances for <span><code>Extension</code></span>.</li>
      <li>Add <span><code>extensionsToList</code></span>
      function.</li>
      <li>Revise <span><code>readExtension</code></span>
      so it can handle <span><code>CustomExtension</code></span>, and so that it
      returns a Text rather than <span><code>Maybe Text</code></span>.</li>
      <li>Add <span><code>showExtension</code></span>
      [API change].</li>
      <li>Add <span><code>Ext_mark</code></span>
      extension [API change].</li>
      <li>Add <span><code>Ext_tagging</code></span>
      constructor [API change] (Albert Krewinkel).</li>
      <li>Add <span><code>Ext_wikilinks_title_after_pipe</code></span>,
      <span><code>Ext_wikilinks_title_before_pipe</code></span>
      [API change] (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Fix <span><code>papersize</code></span> on PDF
      generation via ms (<a href="https://github.com/jgm/pandoc/issues/8403">#8403</a>). We
      need to set an option in pdfroff in addition to including a macro
      in the ms file. With this fix, <span><code>-Vpapersize=a4</code></span> should be
      sufficient to produce A4 PDF via ms.</li>
      <li>Change default background color of PDFs generated via HTML (<a href="https://github.com/jgm/pandoc/issues/8422">#8422</a>, Marcin
      Serwin).</li>
      </ul></li>
      <li><p>Text.Pandoc.MIME:</p>
      <ul>
      <li>Base module on package <span><code>mime-types</code></span>, which is already a
      transitive dependency (<a href="https://github.com/jgm/pandoc/issues/8277">#8277</a>, Albert
      Krewinkel).</li>
      <li>Remove deprecated overrides (<a href="https://github.com/jgm/pandoc/issues/8292">#8292</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.XML:</p>
      <ul>
      <li>Re-export <span><code>lookupEntity</code></span> from commonmark-hs
      [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li>Remove gratuitious renaming of Parsec types. We were exporting
      Parser, ParserT as synonyms of Parsec, ParsecT. There is no good
      reason for this and it can cause confusion. Also, when possible,
      we replace imports of Text.Parsec with Text.Pandoc.Parsing. The
      idea is to make it easier, at some point, to switch to megaparsec
      or another parsing engine if we want to. New (re-)exports: <span><code>Stream(..)</code></span>, <span><code>updatePosString</code></span>, <span><code>SourceName</code></span>, <span><code>Parsec</code></span>, <span><code>ParsecT</code></span>. Removed exports: <span><code>Parser</code></span>, <span><code>ParserT</code></span> [API change].</li>
      <li>Export <span><code>errorMessages</code></span>,
      <span><code>messageString</code></span> [API
      change].</li>
      <li>Export <span><code>fromParsecError</code></span>, which can be
      used to turn a parsec ParseError into a regular PandocParseError
      (<a href="https://github.com/jgm/pandoc/issues/8382">#8382</a>)
      [API change].</li>
      <li>Remove <span><code>nested</code></span> [API
      change]. It was not being used, and in fact it was a bad idea from
      the beginning, as it had no hope of solving the problem it was
      introduced to solve.</li>
      <li>Change <span><code>characterReference</code></span>, <span><code>charsInBalanced</code></span>. <span><code>characterReference</code></span> so they now
      return a Text (some named references don’t correspond to a single
      Char). Use the the <span><code>lookupEntity</code></span> function from
      commonmark-hs instead of the slow one from tagsoup [API
      change].</li>
      <li><span><code>charsInBalanced</code></span> now
      takes a Text parser rather than a Char parser as argument [API
      change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Export <span><code>textToIdentifier</code></span> [API
      change].</li>
      <li>Remove deprecated <span><code>crFilter</code></span>. [API change]</li>
      <li>Remove deprecated <span><code>deLink</code></span>. [API change]</li>
      <li>Deprecate <span><code>notElemText</code></span>.</li>
      <li>Deprecate <span><code>makeMeta</code></span>.</li>
      <li>Remove <span><code>pandocVersion</code></span>
      (now available in Text.Pandoc.Version as <span><code>pandocVersionText</code></span>).</li>
      <li>Remove <span><code>findM</code></span> [API
      change]. This was only used in one place, and can be replaced with
      simpler code.</li>
      <li>Remove deprecated <span><code>makeMeta</code></span> [API change].</li>
      <li>Remove <span><code>ordNub</code></span> [API
      change]. This is just <span><code>nubOrd</code></span> from
      Data.Containers.ListUtils.</li>
      <li>Remove <span><code>mapLeft</code></span> [API
      change]. This is just a synonym for Bifunctor.first.</li>
      <li>Remove <span><code>elemText</code></span>,
      <span><code>notElemText</code></span> [API
      change].</li>
      <li>Drop export of <span><code>pandocVersion</code></span> and <span><code>pandocVersionText</code></span>, which are
      now exported by Text.Pandoc.Version.</li>
      <li>Remove <span><code>escapeURI</code></span>,
      <span><code>isURI</code></span>. These are now
      exported by Text.Pandoc.URI, and removing them from Shared helps
      make the module structure more straightforward.</li>
      <li>Use LineBreak as default block sep in <span><code>blocksToInlines</code></span>. (<a href="https://github.com/jgm/pandoc/issues/8499">#8499</a>, Albert
      Krewinkel). This change also affects the <span><code>pandoc.utils.blocks_to_inlines</code></span>
      Lua function.</li>
      <li><span><code>defaultUserDataDir</code></span> is
      no longer exported (it has been moved to T.P.Data) [API
      change].</li>
      <li>New function <span><code>figureDiv</code></span>, offering offers a
      standardized way to convert a figure into a Div element (Albert
      Krewinkel) [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.Shared:</p>
      <ul>
      <li>Export <span><code>htmlAddStyle</code></span>,
      <span><code>htmlAlignmentToString</code></span> and
      <span><code>htmlAttrs</code></span> [API change]
      (Wout Gevaert).</li>
      <li>Use ‘literal tag’ instead of ‘text (T.unpack tag)’ in <span><code>tagWithAttrs</code></span> (Wout
      Gevaert).</li>
      <li><span><code>toTableOfContents</code></span>:
      handle nested Divs better (<a href="https://github.com/jgm/pandoc/issues/8402">#8402</a>).</li>
      </ul></li>
      <li><p>Rename Text.Pandoc.Network.HTTP -&gt; Text.Pandoc.URI. This
      is still an unexported internal module. Export <span><code>urlEncode</code></span>, <span><code>escapeURI</code></span>, <span><code>isURI</code></span>, <span><code>schemes</code></span>, <span><code>uriPathToPath</code></span>. Drop exports of
      <span><code>schemes</code></span> and <span><code>uriPathToPath</code></span>.</p></li>
      <li><p>Text.Pandoc.URI <span><code>isURI</code></span>: don’t require non-ASCII
      characters to be escaped (<a href="https://github.com/jgm/pandoc/issues/8508">#8508</a>).</p></li>
      <li><p>Rename Text.Pandoc.Readers.LaTeX.Types -&gt;
      Text.Pandoc.TeX (internal module).</p></li>
      <li><p>Text.Pandoc.Options:</p>
      <ul>
      <li>WriterOptions now has a field <span><code>writerListTables</code></span>, specifying
      that list tables be used in RST output [API change].</li>
      <li>New <span><code>writerEpubTitlePage</code></span> field on
      <span><code>WriterOptions</code></span> (<a href="https://github.com/jgm/pandoc/issues/6097">#6097</a>) [API
      change].</li>
      <li>Remove <span><code>writerEpubChapterLevel</code></span>, add
      <span><code>writerSplitLevel</code></span> [API
      change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Filter:</p>
      <ul>
      <li>Export <span><code>applyFilters</code></span>
      [API change].</li>
      <li>Export <span><code>applyJSONFilter</code></span> [API Change]
      (Albert Krewinkel).</li>
      <li>Parameterize <span><code>applyFilters</code></span> over scripting
      engine [API change] (Albert Krewinkel).</li>
      </ul></li>
      <li><p>New exported module Text.Pandoc.Chunks [API change]. This
      module provides functions to split Pandoc documents into chunks to
      be rendered in separate files, e.g. one per section. Internal
      identifiers are rewritten appropriately to point to the new
      locations (<a href="https://github.com/jgm/pandoc/issues/6122">#6122</a>).</p></li>
      <li><p>Text.Pandoc.Readers:</p>
      <ul>
      <li>Change argument type of <span><code>getReader</code></span>, so it takes a <span><code>FlavoredFormat</code></span> instead of a
      <span><code>Text</code></span> [API change] (Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers:</p>
      <ul>
      <li>Change argument type of <span><code>getWriter</code></span>, so it takes a <span><code>FlavoredFormat</code></span> instead of a
      <span><code>Text</code></span> [API change] (Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Text.Pandoc.Templates:</p>
      <ul>
      <li>Do not try to normalize input to <span><code>getDefaultTemplate</code></span> (Albert
      Krewinkel). The function <span><code>getDefaultTemplate</code></span> no longer
      splits off extension modifers from the given format, as that
      conflicts with using custom writers as formats. Haskell library
      users should use <span><code>getDefaultTemplate &lt;=&lt; (fmap formatName . parseFlavoredFormat)</code></span>
      if the input format can still contain extensions. The same is true
      for <span><code>compileDefaultTemplate</code></span>, which
      calls <span><code>getDefaultTemplate</code></span>
      internally</li>
      <li>Add Wrapper type documentation (<a href="https://github.com/jgm/pandoc/issues/8490">#8490</a>,
      William Rusnack).</li>
      </ul></li>
      <li><p>New exported module Text.Pandoc.Scripting (Albert
      Krewinkel). The module contains the central data structure for
      scripting engines (e.g., Lua) [API change].</p></li>
      <li><p>Text.Pandoc.Error:</p>
      <ul>
      <li>Add new PandocError constructor <span><code>PandocNoScriptingEngine</code></span> [API
      change] (Albert Krewinkel).</li>
      <li>Add new PandocError constructor <span><code>PandocFormatError</code></span> [API change]
      (Albert Krewinkel). The new error is used to report problems with
      input or output format specifications.</li>
      <li>Add new PandocError constructor <span><code>PandocNoTemplateError</code></span> (Albert
      Krewinkel).</li>
      <li>Remove <span><code>PandocParsecError</code></span> constructor
      from <span><code>PandocError</code></span> (<a href="https://github.com/jgm/pandoc/issues/8385">#8385</a>).
      Henceforth we just use <span><code>PandocParseError</code></span>.</li>
      </ul></li>
      <li><p>New module Text.Pandoc.Version, exporting <span><code>pandocVersionText</code></span> and <span><code>pandocVersion</code></span> [API change].
      <span><code>pandocVersion</code></span> returns a
      <span><code>Version</code></span> instead of a
      <span><code>Text</code></span>, which is consistent
      with <span><code>pandocTypesVersion</code></span>.</p></li>
      <li><p>Text.Pandoc.Class:</p>
      <ul>
      <li>Make <span><code>getPOSIXTime</code></span>,
      <span><code>getZonedTime</code></span> sensitive to
      <span><code>SOURCE_DATE_EPOCH</code></span>
      environment variable if set (<a href="https://github.com/jgm/pandoc/issues/7093">#7093</a>).
      (<span><code>getTimestamp</code></span> was already
      sensitive.) This ensures that EPUB builds are reproducible.</li>
      <li>Text.Pandoc.Class no longer exports <span><code>readDataFile</code></span>, <span><code>readDefaultDataFile</code></span>, <span><code>setTranslations</code></span>, and <span><code>translateTerm</code></span> [API
      change].</li>
      <li>Text.Pandoc.Class now exports <span><code>checkUserDataDir</code></span> [API
      change].</li>
      </ul></li>
      <li><p>T.P.Class.IO: export function <span><code>writeMedia</code></span> [API change] (Albert
      Krewinkel). This is useful for the <span><code>pandoc.mediabag</code></span>
      module.</p></li>
      <li><p>Separate out Text.Pandoc.Data and Text.Pandoc.Translations
      from Text.Pandoc.Class (<a href="https://github.com/jgm/pandoc/issues/8348">#8348</a>). This
      makes Text.Pandoc.Class more self-contained.</p>
      <ul>
      <li>Text.Pandoc.Data is now an exported module, providing <span><code>readDataFile</code></span> and <span><code>readDefaultDataFile</code></span> (both
      formerly provided by Text.Pandoc.Class), and also <span><code>getDataFileNames</code></span> (formerly
      unexported in Text.Pandoc.App.CommandLineOptions) and <span><code>defaultUSerDataDir</code></span> (formerly
      provided by Text.Pandoc.Shared). [API change]</li>
      <li>Text.Pandoc.Translations is now an exported module (along with
      Text.Pandoc.Translations.Types), providing <span><code>readTranslations</code></span>, <span><code>getTranslations</code></span>, <span><code>setTranslations</code></span>, <span><code>translateTerm</code></span>, <span><code>lookupTerm</code></span>, <span><code>readTranslations</code></span>, <span><code>Term(..)</code></span>, and <span><code>Translations</code></span> [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc now exports Text.Pandoc.Data and <span><code>setTranslations</code></span> and <span><code>translateTerm</code></span> {API
      change].</p></li>
      <li><p>Export module Text.Pandoc.Class.IO [API change]. The module
      is useful when defining instances of class PandocMonad for types
      that are also instances of MonadIO.</p></li>
      <li><p>Remove modules Text.Pandoc.Writers.Custom and
      Text.Pandoc.Readers.Custom [API Change] (Albert Krewinkel). The
      functions <span><code>writeCustom</code></span> and
      <span><code>readCustom</code></span> are available
      from module Text.Pandoc.Lua.</p></li>
      <li><p>Text.Pandoc.Server:</p>
      <ul>
      <li><p>Split this module into a separate package, <span><code>pandoc-server</code></span>, allowing the
      <span><code>pandoc</code></span> library to be
      compiled without server support.</p></li>
      <li><p>Return object if JSON is accepted. Previously we just
      returned a JSON-encoded string. Now we return something like:</p>
      <pre><code>{
    &#34;output&#34;: &#34;&lt;p&gt;hello&lt;/p&gt;&#34;
    &#34;base64&#34;: false,
    &#34;messages&#34;: [
        {
            &#34;message&#34;: &#34;Not rendering RawInline (Format \&#34;tex\&#34;) \&#34;\\\\noe\&#34;&#34;,
            &#34;verbosity&#34;: &#34;INFO&#34;
        }
    ],
}</code></pre>
      <p>This is a change in the pandoc-server JSON API.</p></li>
      <li><p>Set translations in the writer based on <span><code>lang</code></span> metadata.</p></li>
      <li><p>Return error in JSON object if response is JSON.</p></li>
      <li><p>Remove <span><code>parseServerOpts</code></span>. [API
      change]</p></li>
      </ul></li>
      <li><p>Text.Pandoc.Lua:</p>
      <ul>
      <li><p>This module has been moved to a separate package, <span><code>pandoc-lua-engine</code></span>.</p></li>
      <li><p>Export <span><code>applyFilter</code></span>, <span><code>readCustom</code></span>, and <span><code>writeCustom</code></span>. No longer export
      the lower-level function <span><code>runFilterFile</code></span> [API
      change].</p></li>
      <li><p>Change type of <span><code>applyFilter</code></span> [API Change]
      (Albert Krewinkel). The module Text.Pandoc.Filter.Lua has been
      merged into Text.Pandoc.Lua. The function <span><code>applyFilter</code></span> now has type</p>
      <div id="cb4"><pre><code><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span>applyFilter ::</span> (<span>PandocMonad</span> m, <span>MonadIO</span> m)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>            <span>=&gt;</span> <span>Environment</span><span>-&gt;</span> [<span>String</span>]<span>-&gt;</span> <span>FilePath</span><span>-&gt;</span> <span>Pandoc</span><span>-&gt;</span> m <span>Pandoc</span></span></code></pre></div>
      <p>where <span><code>Environment</code></span> is
      defined in Text.Pandoc.Filter.Environment.</p></li>
      <li><p>Export new function <span><code>getEngine</code></span> [API Change]. The
      function returns the Lua scripting engine.</p></li>
      <li><p>Add unexported modules T.P.Lua.Reader, T.P.Lua.Writer.
      These contain the definitions of <span><code>readCustom</code></span> and <span><code>writeCustom</code></span> that were
      previously in T.P.Readers.Custom and T.P.Writers.Custom.</p></li>
      <li><p>Cleanup module dependencies, for a cleaner module
      dependency graph.</p></li>
      <li><p>The <span><code>writeCustom</code></span>
      function has changed to return a Writer and an ExtensionsConfig
      [API change]. This allows ByteString writers to be
      defined.</p></li>
      <li><p>The <span><code>readCustom</code></span>
      function has changed to return a Reader and an ExtensionsConfig
      [API change].</p></li>
      </ul></li>
      <li><p>Lua subsystem (Albert Krewinkel):</p>
      <ul>
      <li>The whole Lua subsystem has been moved to a separate package,
      <span><code>pandoc-lua-engine</code></span>. <span><code>pandoc</code></span> does not depend on it.
      <span><code>convertWithOpts</code></span> has a new
      parameter that can be used to pass in the scripting engine defined
      in <span><code>pandoc-lua-engine</code></span> (or
      a different one, in theory).</li>
      <li>Fix the behavior of Lua “Version” objects under equality
      comparisons (<a href="https://github.com/jgm/pandoc/issues/8267">#8267</a>).</li>
      <li>Support running Lua with a GC-collected Lua state.</li>
      <li>Ensure that extensions marshaling is consistent.</li>
      <li>Produce more informative error messages for pandoc errors.
      Errors are reported in Lua in the same words in which they would
      be reported in the terminal.</li>
      <li>Add new module <span><code>pandoc.format</code></span>. The module
      provides functions to query the set of extensions supported by
      formats and the set of extension enabled per default.</li>
      <li>Add function <span><code>pandoc.template.apply</code></span>.</li>
      <li>Add function <span><code>pandoc.template.meta_to_context</code></span>.
      The functions converts Meta values to template contexts; the
      intended use is in combination with <span><code>pandoc.template.apply</code></span>.</li>
      <li>Allow Doc values in <span><code>WriterOptions.variables</code></span>. The
      specialized peeker and pusher function for <span><code>Context Text</code></span> values does not go
      via JSON, and thus keeps Doc values unchanged during
      round-tripping.</li>
      <li>Fix rendering of Lua errors in Lua, so that the <span><code>Error running Lua</code></span> message is
      not prepended multiple times.</li>
      <li>Add new module <span><code>pandoc.zip</code></span>.</li>
      <li>Allow strings in place of compiled templates (<a href="https://github.com/jgm/pandoc/issues/8321">#8321</a>). This
      allows to use a string as parameter to <span><code>pandoc.template.apply</code></span> and in
      the WriterOptions <span><code>template</code></span> field.</li>
      <li>Rename <span><code>reader_extensions</code></span>/<span><code>writer_extensions</code></span> globals as
      <span><code>Extensions</code></span> (<a href="https://github.com/jgm/pandoc/issues/8390">#8390</a>).</li>
      <li>Add <span><code>pandoc.scaffolding.Writer</code></span> (<a href="https://github.com/jgm/pandoc/issues/8377">#8377</a>). This
      can be used to reduce boilerplate in custom writers.</li>
      <li>Fix peeker for PandocError (Albert Krewinkel). String error
      messages were incorrectly popped of the stack when retrieving a
      PandocError.</li>
      <li>Add functions <span><code>pandoc.text.toencoding</code></span>, <span><code>pandoc.text.fromencoding</code></span> (<a href="https://github.com/jgm/pandoc/issues/8512">#8512</a>, Albert
      Krewinkel).</li>
      <li>Add <span><code>pandoc.cli</code></span>
      module. Allow processing of CLI options in Lua.</li>
      <li>Support <span><code>-D</code></span> CLI option
      for custom writers. A new error <span><code>PandocNoTemplateError</code></span> (code 87)
      is thrown if a template is required but cannot be found.</li>
      <li>Allow table structure as format spec. This allows to pass
      structured values as format specifiers to <span><code>pandoc.write</code></span> and <span><code>pandoc.read</code></span>.</li>
      <li>Add function <span><code>pandoc.mediabag.write</code></span> (Albert
      Krewinkel).</li>
      <li>Add module <span><code>pandoc.structure</code></span> (Albert
      Krewinkel). The function <span><code>make_sections</code></span> has been given a
      friendlier interface and moved to the new module; the old <span><code>pandoc.utils.make_sections</code></span> has
      been deprecated.</li>
      </ul></li>
      <li><p>Custom writers:</p>
      <ul>
      <li><p>The global variables <span><code>PANDOC_DOCUMENT</code></span> and <span><code>PANDOC_WRITER_OPTIONS</code></span> are no
      longer set when the writer script is loaded. Both variables are
      still set in classic writers before the conversion is started, so
      they can be used when they are wrapped in functions.</p></li>
      <li><p>Deprecate classic custom writers.</p></li>
      <li><p>Add function <span><code>pandoc.write_classic</code></span>. The
      function can be used to convert a classic writer into a new-style
      writer by setting it as the value of <span><code>Writer</code></span>:</p>
      <div id="cb5"><pre><code><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span>W</span><span>riter</span> <span>=</span> <span>pandoc</span><span>.</span><span>write_classic</span></span></code></pre></div>
      <p>or to fully restore the old behavior:</p>
      <div id="cb6"><pre><code><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span>function</span> Writer <span>(</span><span>doc</span><span>,</span> <span>opts</span><span>)</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span>PANDOC_DOCUMENT</span> <span>=</span> <span>doc</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span>PANDOC_WRITER_OPTIONS</span> <span>=</span> <span>opts</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span>load</span><span>(</span><span>PANDOC_SCRIPT_FILE</span><span>)()</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span>return</span> <span>pandoc</span><span>.</span>write_classic<span>(</span><span>doc</span><span>,</span> <span>opts</span><span>)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span>end</span></span></code></pre></div></li>
      <li><p>Support extensions in custom writers. Custom writers can
      define the extensions that they support via the global <span><code>writer_extensions</code></span>. The
      variable’s value must be a table with all supported extensions as
      keys, and their default status as values. For example, the below
      specifies that the writer supports the extensions <span><code>smart</code></span> and <span><code>sourcepos</code></span>, but only the <span><code>smart</code></span> extension is enabled by
      default:</p>
      <div id="cb7"><pre><code><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span>writer_extensions</span> <span>=</span> <span>{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span>smart</span> <span>=</span> <span>true</span><span>,</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span>sourcepos</span> <span>=</span> <span>false</span><span>,</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span>}</span></span></code></pre></div></li>
      <li><p>Custom writers can define a default template via a global
      <span><code>Template</code></span> function; the
      data directory is no longer searched for a default template.
      Writer authors can restore the old lookup behavior with</p>
      <div id="cb8"><pre><code><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span>T</span><span>emplate</span> <span>=</span> <span>function</span> <span>()</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span>local</span> <span>template</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span>return</span> <span>template</span><span>.</span>compile<span>(</span><span>template</span><span>.</span>default<span>(</span><span>PANDOC_SCRIPT_FILE</span><span>))</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span>end</span></span></code></pre></div></li>
      </ul></li>
      <li><p>Custom readers:</p>
      <ul>
      <li><p>Support extensions in custom readers. Custom readers, like
      writers, can define the set of supported extensions by setting a
      global. E.g.:</p>
      <div id="cb9"><pre><code><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span>reader_extensions</span> <span>=</span> <span>{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span>smart</span> <span>=</span> <span>true</span><span>,</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span>citations</span> <span>=</span> <span>false</span><span>,</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span>}</span></span></code></pre></div></li>
      </ul></li>
      <li><p>Use latest versions of <span><code>commonmark-extensions</code></span>, <span><code>texmath</code></span>, <span><code>citeproc</code></span>, <span><code>gridtables</code></span>, and <span><code>skylighting</code></span>.</p></li>
      <li><p>Use pandoc-types 1.23. This adds the <span><code>Figure</code></span> Block constructor and
      removes the <span><code>Null</code></span> Block
      constructor.</p></li>
      <li><p>Require aeson &gt;= 2.0.</p></li>
      <li><p>Use jira-wiki-markup 1.5.0 (<a href="https://github.com/jgm/pandoc/issues/8511">#8511</a>, Albert
      Krewinkel). Fixes issues with icon-like sequences at the beginning
      of words.</p></li>
      <li><p>Use doctemplates 0.11, avoiding a transitive dependency on
      HsYAML.</p></li>
      <li><p>Use skylighting 0.13.1.2.</p></li>
      <li><p>Allow mtl 2.3.1 (Alexander Batischev).</p></li>
      <li><p>Use latest skylighting-format-context.</p></li>
      <li><p>Allow building with mtl 2.3.</p></li>
      <li><p>Remove <span><code>lua53</code></span> flag.
      We now only support Lua 5.4.</p></li>
      <li><p>Add hie.yaml for haskell language server.</p></li>
      <li><p>Add tools/latex-package-dependencies.lua.</p></li>
      <li><p>Update default CSL with latest <span><code>chicago-author-date.csl</code></span>.</p></li>
      <li><p>make_artifacts.sh: various small improvements.</p></li>
      <li><p>Remove sample.lua from data files (<a href="https://github.com/jgm/pandoc/issues/8356">#8356</a>).</p></li>
      <li><p>Documentation:</p>
      <ul>
      <li>Deprecate <span><code>PANDOC_WRITER_OPTIONS</code></span> in custom
      writers (Albert Krewinkel).</li>
      <li>Document <span><code>pandoc.write_classic</code></span> (Albert
      Krewinkel).</li>
      <li>Document new table features (Albert Krewinkel).</li>
      <li>Clarify what background-image does in reveal.js (<a href="https://github.com/jgm/pandoc/issues/6450">#6450</a>).</li>
      <li>Documentation improvements for <span><code>blank_before_blockquote</code></span> (<a href="https://github.com/jgm/pandoc/issues/8324">#8324</a>,
      Pranesh Prakash).</li>
      <li>Update grid table documentation (<a href="https://github.com/jgm/pandoc/issues/8346">#8346</a>).</li>
      <li>Add note about MathJax fonts to <span><code>--embed-resources</code></span>.</li>
      <li>Use cabal’s –package-env more (<a href="https://github.com/jgm/pandoc/issues/8317">#8317</a>, Artem
      Pelenitsyn).</li>
      <li>Modify Zerobrane instructions to use Lua 5.4 (<a href="https://github.com/jgm/pandoc/issues/8353">#8353</a>, Ian
      Max Andolina).</li>
      <li>Fix documentation for highlight-style in <span><code>pandoc-server.md</code></span>.</li>
      <li>Fix link to fedora package site (<a href="https://github.com/jgm/pandoc/issues/8246">#8246</a>, Akos
      Marton).</li>
      <li>Rephrase paragraph on format extensions (<a href="https://github.com/jgm/pandoc/issues/8375">#8375</a>, Ilona
      Silverwood).</li>
      <li>Update README.template (<a href="https://github.com/jgm/pandoc/issues/8496">#8496</a>, Sven
      Wick).</li>
      <li>Fix a tiny typo in lua-filters.md (TomBen).</li>
      <li>Clarify that <span><code>--css</code></span>
      should be used with <span><code>-s</code></span>.</li>
      <li>Clarify font selection for pdf -t ms (<a href="https://github.com/jgm/pandoc/issues/8421">#8421</a>,
      nbehrnd).</li>
      <li>Clarify docs for <span><code>--metadata-file</code></span> (<a href="https://github.com/jgm/pandoc/issues/8459">#8459</a>).</li>
      <li>Fix typo in epub.md (Vladimir Alexiev).</li>
      <li>Add missing backtick in filters.md (R. N. West).</li>
      <li><span><code>doc/lua-filters.md</code></span>:
      add documentation for <span><code>pandoc.format</code></span> (Albert
      Krewinkel).</li>
      <li>Fix epub-embed-font documentation (<a href="https://github.com/jgm/pandoc/issues/8455">#8455</a>,
      Terence Eden).</li>
      <li>Removed obsolete Templates section in CONTRIBUTING.md.</li>
      <li>Add manual section on accessible PDFs, archiving standards (<a href="https://github.com/jgm/pandoc/issues/8312">#8312</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Tests.Command: remove unused <span><code>runTest</code></span>.</p></li>
      <li><p>Add pandoc-lua.1 man page.</p></li>
      <li><p>Improve <span><code>shell.nix</code></span>.</p></li>
      <li><p>Add <span><code>tools/moduledeps.lua</code></span> for
      inspecting the internal module dependency tree.</p></li>
      <li><p>Fix macOS zip so pandoc-server is a symlink. This cuts its
      size by 2x.</p></li>
      <li><p>CI: Improve CI speed by caching more, eliminating macos
      builds, and splitting benchmarks into a separate action, run by
      manual dispatch. (We still test that benchmarks build in the
      regular CI.) The cache can be expired manually by modifying the
      secret <span><code>CACHE_VERSION</code></span>.</p></li>
      <li><p>Remove the unnecessary Setup.hs from pandoc. Cabal does not
      need this with build-type ‘simple’.</p></li>
      <li><p>Add pandoc-lua and pandoc-server (symlinks) and their man
      pages to releases.</p></li>
      <li><p>Use hslua-cli package for pandoc-lua interface (Albert
      Krewinkel).</p></li>
      <li><p>Add <span><code>server</code></span> flag to
      pandoc-cli, allowing it to be compiled without server
      support.</p></li>
      <li><p>pandoc-cli: Allow building a binary without Lua support
      (Albert Krewinkel). Disabling the <span><code>lua</code></span> cabal flag will result in a
      binary without Lua.</p></li>
      <li><p>Move <span><code>--version</code></span>
      handling to pandoc-cli. We need it here in order to print
      information about whether server and Lua support have been
      compiled in.</p></li>
      <li><p>Move <span><code>nightly</code></span> flag
      from pandoc to pandoc-cli (<a href="https://github.com/jgm/pandoc/issues/8339">#8339</a>).</p></li>
      <li><p>Makefile changes:</p>
      <ul>
      <li><span><code>make help</code></span> will now
      print all the targets and what they do.</li>
      <li>Add targets: <span><code>coverage</code></span>, <span><code>weeder</code></span>, <span><code>moduledeps</code></span>, <span><code>prerelease</code></span>, <span><code>ghcid</code></span>, <span><code>repl</code></span>, <span><code>linecounts</code></span>, <span><code>hie.yaml</code></span>, <span><code>binpath</code></span>.</li>
      <li>Note that you can <span><code>alias pandoc=`make binpath`</code></span> for
      convenient local testing of a build.</li>
      <li>Rename <span><code>quick-cabal</code></span>
      -&gt; <span><code>build</code></span>, <span><code>quick-test</code></span> -&gt; <span><code>test</code></span>.</li>
      <li>Exclude tests from <span><code>SOURCEFILES</code></span>.</li>
      </ul></li>
      <li><p>Factor out xml-light into an internal library.</p></li>
      <li><p>Add CITATION.cff (<a href="https://github.com/jgm/pandoc/issues/8434">#8434</a>).</p></li>
      <li><p>Move trypandoc to a separate repository,
      jgm/trypandoc.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.19.2-2022-08-22">
      <h2><a href="#pandoc-2.19.2-2022-08-22" aria-hidden="true"></a>pandoc 2.19.2 (2022-08-22)</h2>
      <ul>
      <li><p>Fix regression with data uris in 2.19.1 (<a href="https://github.com/jgm/pandoc/issues/8239">#8239</a>). In
      2.19.1 we used the base64URL encoding rather than base64.</p></li>
      <li><p>pandoc-server: handle <span><code>citeproc</code></span> parameter as
      documented (<a href="https://github.com/jgm/pandoc/issues/8235">#8235</a>).</p></li>
      <li><p>Org reader: treat <em>emacs-jupyter</em> src blocks as code
      cells (<a href="https://github.com/jgm/pandoc/issues/8236">#8236</a>, Albert
      Krewinkel). This improves support for notebook-like org files that
      are intended to be used with emacs-jupyter package.</p></li>
      <li><p>HTML writer and templates: revert to using <span><code>width</code></span> property for column
      widths (Albert Krewinkel). The default <span><code>flex</code></span> and <span><code>overflow-x</code></span> properties of a
      column are set to <span><code>auto</code></span>.
      In combination, these changes allow to get good results when using
      columns with or without explicit widths.</p></li>
      <li><p>Org writer (Albert Krewinkel):</p>
      <ul>
      <li>Add support for jupyter nodebook cells (<a href="https://github.com/jgm/pandoc/issues/6367">#6367</a>).</li>
      <li>Prefix code language of ipynb code blocks with <span><code>jupyter-</code></span>. This is the
      convention used by the <em>emacs-jupyter</em> package.</li>
      <li>Keep code block attributes as header args. This allows to keep
      more information in the resulting <span><code>src</code></span> blocks, making it easier to
      roundtrip from or through Org. Org babel ignores unknown header
      arguments.</li>
      <li>Add code block identifier as <span><code>#+name</code></span> to src blocks.</li>
      </ul></li>
      <li><p>Fix some typos in the codebase (luz paz).</p></li>
      <li><p>Require hslua-module-path 1.0.3 (<a href="https://github.com/jgm/pandoc/issues/8228">#8228</a>, Albert
      Krewinkel).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.19.1-2022-08-18">
      <h2><a href="#pandoc-2.19.1-2022-08-18" aria-hidden="true"></a>pandoc 2.19.1 (2022-08-18)</h2>
      <ul>
      <li><p>Add server capabilities.</p>
      <ul>
      <li>New exported module Text.Pandoc.Server [API change].</li>
      <li>The pandoc executable now starts up a web server when renamed
      or symlinked as <span><code>pandoc-server</code></span>, and functions as
      a CGI program when renamed or symlinked as <span><code>pandoc-server.cgi</code></span>. See the man
      page for <span><code>pandoc-server</code></span>
      for full documentation.</li>
      </ul></li>
      <li><p>Text.Pandoc.App.Opts: Redo <span><code>FromJSON</code></span> for <span><code>Opt</code></span> so that optional values can
      be omitted (in which case the values from <span><code>defaultOptions</code></span> are
      used).</p></li>
      <li><p>Org reader: treat “abstract” block as metadata (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8204">#8204</a>). A
      block of type “abstract” is assumed to define the document’s
      abstract. It is transferred from the main text to the
      metadata.</p></li>
      <li><p>Org template: add abstract from metadata as block of type
      “abstract” (<a href="https://github.com/jgm/pandoc/issues/8204">#8204</a>).</p></li>
      <li><p>HTML writer: use <span><code>flex</code></span> property for column widths
      (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8232">#8232</a>).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Add label to tables that have an identifier (Albert Krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/8219">#8219</a>).
      Tables with an identifier are marked with a <span><code>\label</code></span>. A caption is always
      included in this case, even if the caption is empty.</li>
      <li>Use <span><code>\textquotesingle</code></span>
      for straight quotes in text.</li>
      <li>Fix widths of multicolumn cells (<a href="https://github.com/jgm/pandoc/issues/8218">#8218</a>).</li>
      </ul></li>
      <li><p>LaTeX template: fix behavior of <span><code>colorlinks</code></span> variable (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8226">#8226</a>). Fixes
      a regression in 2.19 that required the <span><code>boxlinks</code></span> variable to be set in
      addition to the usual link coloring variables. Otherwise links
      were never colored in LaTeX PDF output.</p></li>
      <li><p>Text.Pandoc.Highlighting: Export <span><code>lookupHighlightingStyle</code></span> [API
      change]. Previously this lived in an unexported module
      Text.Pandoc.App.CommandLineOptions, under the name <span><code>lookupHighlightStyle</code></span>.</p></li>
      <li><p>Text.Pandoc.App:</p>
      <ul>
      <li>Remove unneeded MonadIO constraints in readSources.</li>
      <li>Factor out <span><code>convertWithOpts&#39;</code></span> from <span><code>convertWithOpts</code></span>. This runs in
      any PandocMonad, MonadIO, MonadMask instance. So far it is not
      exported, but it might find a use later.</li>
      </ul></li>
      <li><p>Support <span><code>--strip-comments</code></span> in
      commonmark/gfm (<a href="https://github.com/jgm/pandoc/issues/8222">#8222</a>). This
      change makes the commonmark reader sensitive to <span><code>readerStripComments</code></span>.</p></li>
      <li><p>Lua: add function <span><code>pandoc.utils.citeproc</code></span> (Albert
      Krewinkel). The function runs the <em>citeproc</em> processor on a
      Pandoc document. Exposing this functionality to Lua allows to make
      citation processing part of a filter or writer, simplifies the
      creation of multiple bibliographies, and enables the use of
      varying citation styles in different parts of a document.</p></li>
      <li><p>Refactor <span><code>linux/make_artifacts.sh</code></span>.</p></li>
      <li><p>Update INSTALL.md installation from source
      instructions.</p></li>
      <li><p>Use base64 package instead of base64-bytestring. It is
      supposed to be faster and more standards-compliant.</p></li>
      <li><p>trypandoc improvements:</p>
      <ul>
      <li>Add dropdown with canned examples.</li>
      <li>Add citeproc support.</li>
      <li>Support csv, bibliographic and binary formats.</li>
      <li>Add load from file.</li>
      <li>Add permalink. Don’t always reload page.</li>
      <li>Use vanilla JS and CSS + the new <span><code>pandoc-server.cgi</code></span>.</li>
      </ul></li>
      <li><p>Allow haddock-library-1.11.0.</p></li>
      <li><p>Convert <span><code>tool/extract-changes.hs</code></span> to a
      Lua filter.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.19-2022-08-03">
      <h2><a href="#pandoc-2.19-2022-08-03" aria-hidden="true"></a>pandoc 2.19 (2022-08-03)</h2>
      <ul>
      <li><p>Add <span><code>--embed-resources</code></span> flag (Elliot
      Bobrow, <a href="https://github.com/jgm/pandoc/issues/7331">#7331</a>). This
      can be used to embed resources without implying <span><code>--standalone</code></span>. Deprecate <span><code>--self-contained</code></span> in favor of
      <span><code>--embed-resources --standalone</code></span>.</p></li>
      <li><p>Allow environment variable interpolation in <span><code>highlight-style</code></span> and <span><code>pdf-engine</code></span> fields in defaults
      files (<a href="https://github.com/jgm/pandoc/issues/8061">#8061</a>;
      Jaehwang Jung, <a href="https://github.com/jgm/pandoc/issues/8073">#8073</a>).</p></li>
      <li><p>Allow placing custom readers and writers in user data
      directory (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8112">#8112</a>) (<span><code>readers</code></span> and <span><code>writers</code></span>
      subdirectories).</p></li>
      <li><p>Add <span><code>tsv</code></span> (tab
      separated values) as an input format (<a href="https://github.com/jgm/pandoc/issues/7974">#7974</a>). [API
      change]: Text.Pandoc.Readers.CSV now exports <span><code>readTSV</code></span>. Internal change: In
      Text.Pandoc.CSV, <span><code>CSVOptions</code></span> has changed so that
      <span><code>csvQuote</code></span> takes a Maybe
      value.</p></li>
      <li><p>Add <span><code>tex_math_dollars</code></span> to <span><code>gfm</code></span> default extensions
      (reflecting gfm’s new support for math).</p></li>
      <li><p>RST, Org, Markdown readers: support rowspans and colspans
      in grid tables (<a href="https://github.com/jgm/pandoc/issues/8202">#8202</a>, Albert
      Krewinkel). Note: the writers does not yet support these more
      complex grid table features, so these complex grid tables will not
      round-trip.</p></li>
      <li><p>HTML, LaTeX, and MediaWiki readers: use <span><code>formatCode</code></span> (<a href="https://github.com/jgm/pandoc/issues/8162">#8162</a>, <a href="https://github.com/jgm/pandoc/issues/8129">#8129</a>, Elliot
      Bobrow). This moves formatting from inside inline code elements to
      the outside, since pandoc’s Code element only takes string
      content.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Don’t parse inline notes with blank lines inside (<a href="https://github.com/jgm/pandoc/issues/8028">#8028</a>).</li>
      <li>Allow attributes in special spans (e.g. <span><code>smallcaps</code></span>, <span><code>underline</code></span>) (Albert krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/4102">#4102</a>).
      These spans are parsed as SmallCaps or Underline elements, but any
      attributes are included in a wrapping Span.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Allow sublists that are not marked as items (Albert Krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/8150">#8150</a>).
      This is technically invalid HTML, but it can be found in the wild
      and browsers handle it.</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Recognize absolute paths on Windows (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8201">#8201</a>).</li>
      <li>Recognize {webp,jxl} files as images (YI).</li>
      <li>Allow attrs for Org tables (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8049">#8049</a>).
      Tables with attributes are no longer wrapped in Div elements;
      attributes are added directly to the table element.</li>
      <li>Support line selection in INCLUDE directives (Brian Leung, <a href="https://github.com/jgm/pandoc/issues/8060">#8060</a>).</li>
      <li>Fix Post / Pre mixup when setting emphasis chars (Amir Dekel,
      <a href="https://github.com/jgm/pandoc/issues/8134">#8134</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Support <span><code>\includesvg</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/8027">#8027</a>).</li>
      <li>Unescape characters in <span><code>\lstinline</code></span> inside <span><code>\passthrough</code></span> (<a href="https://github.com/jgm/pandoc/issues/8179">#8179</a>).</li>
      <li>Improve <span><code>mathEnvWith</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/8122">#8122</a>).
      When converting e.g. an align environment to an aligned
      environment inside a Math element, we need to include a newline
      before the <span><code>\end{aligned}</code></span>,
      since the previous line might end in a comment.</li>
      <li>Fix treatment of extensions for <span><code>\input</code></span> in LaTeX reader (<a href="https://github.com/jgm/pandoc/issues/8092">#8092</a>).
      Previously we required a <span><code>.tex</code></span> extension, but TeX allows
      any extension for <span><code>\input</code></span>
      (as opposed to <span><code>\include</code></span>).</li>
      </ul></li>
      <li><p>RTF reader:</p>
      <ul>
      <li>support <span><code>\nosupersub</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/8170">#8170</a>).</li>
      </ul></li>
      <li><p>TikiWiki reader:</p>
      <ul>
      <li>Support underlined text</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Improved reading <span><code>&lt;xref&gt;</code></span> elements (Frerich
      Raabe, <a href="https://github.com/jgm/pandoc/issues/8065">#8065</a>).</li>
      </ul></li>
      <li><p>JATS reader:</p>
      <ul>
      <li>Strip <span><code>ref-</code></span> prefix
      from ref id in xref (<a href="https://github.com/jgm/pandoc/issues/8007">#8007</a>).</li>
      <li>Support edition in references (<a href="https://github.com/jgm/pandoc/issues/8087">#8087</a>).</li>
      </ul></li>
      <li><p>RIS reader:</p>
      <ul>
      <li>Make parser more forgiving (<a href="https://github.com/jgm/pandoc/issues/8034">#8034</a>). Allow
      blank lines after entries. Allow entries with no space after the
      <span><code>-</code></span>, provided they just
      have a newline, e.g. <span><code>DB -\n</code></span>.</li>
      <li>Get right order of names (<a href="https://github.com/jgm/pandoc/issues/8055">#8055</a>).</li>
      </ul></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Allow HTML comment after row start (<a href="https://github.com/jgm/pandoc/issues/8110">#8110</a>).</li>
      </ul></li>
      <li><p>DokuWiki reader:</p>
      <ul>
      <li>The <span><code>tex_math_dollars</code></span>
      extension is now supported for <span><code>dokuwiki</code></span> (but off by default)
      (<a href="https://github.com/jgm/pandoc/issues/8178">#8178</a>).</li>
      <li>Content inside <span><code>&lt;latex&gt;...&lt;/latex&gt;</code></span>
      is parsed as raw LaTeX inline, and inside <span><code>&lt;LATEX&gt;..&lt;/LATEX&gt;</code></span>
      as raw LaTeX block (<a href="https://github.com/jgm/pandoc/issues/8178">#8178</a>).</li>
      <li>The behavior of <span><code>&lt;php&gt;...&lt;/php&gt;</code></span> is
      changed, so that instead of producing a code block, it produces
      raw HTML with <span><code>&lt;?php ... ?&gt;</code></span>.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Improve grouping with autocites (<a href="https://github.com/jgm/pandoc/issues/8088">#8088</a>).</li>
      <li>Extend list of book documentclasses (Wentau Han, <a href="https://github.com/jgm/pandoc/issues/8053">#8053</a>).</li>
      <li>Fix width of multicolumn cells (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8090">#8090</a>). Cells
      spanning multiple columns must be given an explicit width,
      calculated from the table properties.</li>
      <li>Beamer: allow containsverbatim as alternative to fragile (<a href="https://github.com/jgm/pandoc/issues/8080">#8080</a>).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Add ‘footnotes’ identifier to footnotes section (<a href="https://github.com/jgm/pandoc/issues/8043">#8043</a>).</li>
      <li>Fix bug with <span><code>--number-offset</code></span>. This formerly
      caused section divs to be produced, even when <span><code>--section-divs</code></span> was not
      specified (<a href="https://github.com/jgm/pandoc/issues/8097">#8097</a>).</li>
      <li>Use CSS flexboxes for columns (Albert Krewinkel). This allows
      an arbitrary number of columns, while the previous approach
      assumed exactly two columns.</li>
      <li>Allow “spanlike” classes to be combined (see <a href="https://github.com/jgm/pandoc/issues/8194">#8194</a>).
      Previously classes like “underline” and “marked” had to be the
      first class in a span in order for the span to be interpreted as a
      “ul” or “mark” element. This commit allows these special classes
      to be “stacked,” e.g. <span><code>[test]{.mark .underline}</code></span>; in
      addition, the special classes are no longer required to come first
      in the list of classes.</li>
      <li>Avoid doubled style attribute when height and width are added
      to style because of an image, but the image already has a style
      attribute (<a href="https://github.com/jgm/pandoc/issues/8047">#8047</a>).</li>
      <li>Do not include the deprecated doc-endnote role (<a href="https://github.com/jgm/pandoc/issues/8030">#8030</a>).
      doc-endnote was deprecated in DPUB-ARIA 1.1.</li>
      <li>Remove extra soft break for tasklist (black-desk, <a href="https://github.com/jgm/pandoc/issues/8142">#8142</a>).
      Browser will display the extra newline character between checkbox
      and text as a space, which make tasklist items cannot be
      aligned.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Allow choice of math method for v3 (<a href="https://github.com/jgm/pandoc/issues/8164">#8164</a>).
      Previously we always used MathML for math in EPUB3, because the
      spec includes MathML. But this is not widely supported by readers,
      so it seems better to allow users to choose their math method as
      they can with EPUB2 or HTML. <strong>NOTE:</strong> Existing
      workflows that produce EPUBv3 documents including math will be
      affected by this change. You must add <span><code>--mathml</code></span> to your command line
      if you want to continue producing MathML.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Fix missing spaces with nested inlines (<a href="https://github.com/jgm/pandoc/issues/8182">#8182</a>).</li>
      <li>Always escape literal backslash (<a href="https://github.com/jgm/pandoc/issues/8178">#8178</a>).</li>
      </ul></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Add comment in preamble stating generator.</li>
      <li>Fix roff ms syntax highlighting definitions (<a href="https://github.com/jgm/pandoc/issues/8175">#8175</a>, thanks
      to Branden Robinson).</li>
      </ul></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li><p>Support complex table structures (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8116">#8116</a>). The
      following table feature are now supported in ConTeXt:</p>
      <ul>
      <li>colspans,</li>
      <li>rowspans,</li>
      <li>multiple bodies,</li>
      <li>row headers, and</li>
      <li>multi-row table head and foot.</li>
      </ul>
      <p>The wrapping <span><code>placetable</code></span> environment is also
      given a <span><code>reference</code></span> option
      with the table identifier, enabling referencing of the table from
      within the document.</p></li>
      <li><p>Unify link handling (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8096">#8096</a>).
      Autolinks, i.e. links with content that’s the same as the linked
      URL, are now marked with the <span><code>\url</code></span> command. All other links,
      both internal and external, are created with the <span><code>\goto</code></span> command, leading to
      shorter, slightly more idiomatic code. As before, autolinks can
      still be styled via <span><code>\setupurl</code></span>, other links via
      <span><code>\setupinteraction</code></span>.</p></li>
      <li><p>Use “sectionlevel” environment for headings (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5539">#5539</a>). The
      document hierarchy is now conveyed using the <span><code>\startsectionlevel</code></span>/<span><code>\stopsectionlevel</code></span> by default.
      This makes it easy to include pandoc-generated snippets in
      documents at arbitrary levels. The more semantic environments
      “chapter”, “section”, “subsection”, etc. are used if the <span><code>--top-level-division</code></span> command
      line parameter is set to a non-default value.</p></li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Add <span><code>w:lang</code></span> to <span><code>rPr</code></span> for Span and Div with lang
      attribute, so that Word can know that “Apfel” is not a spelling
      error (<a href="https://github.com/jgm/pandoc/issues/8026">#8026</a>).</li>
      <li>Prevent crashing when handling invalid tables (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8102">#8102</a>).
      Tables with different numbers of cells per row would sometimes
      crash pandoc. This fix prevents this by cutting off overlong
      rows.</li>
      </ul></li>
      <li><p>ICML writer:</p>
      <ul>
      <li>Support custom-style attribute on Table (<a href="https://github.com/jgm/pandoc/issues/8079">#8079</a>).</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Fix commas in link text (<a href="https://github.com/jgm/pandoc/issues/8070">#8070</a>).
      Commas in link text trigger interpretation of attributes. To block
      this, we replace them with numeric entities.</li>
      <li>Fix underline. We were rendering it as <span><code>+++text+++</code></span>; this is now changed
      to <span><code>[.underline]#text#</code></span>.
      See comment at <a href="https://github.com/jgm/pandoc/issues/8070#issuecomment-1126883824">https://github.com/jgm/pandoc/issues/8070#issuecomment-1126883824</a>.</li>
      </ul></li>
      <li><p>FB2 writer:</p>
      <ul>
      <li>Fix handling of non-section Divs (<a href="https://github.com/jgm/pandoc/issues/8123">#8123</a>).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Disable soft wrapping when <span><code>hard_line_breaks</code></span> enabled (<a href="https://github.com/jgm/pandoc/issues/8035">#8035</a>). We
      were already doing this for <span><code>markdown</code></span>; this commit does the
      same thing for <span><code>markua</code></span> and
      <span><code>commonmark</code></span> and <span><code>gfm</code></span>.</li>
      <li>Avoid excessive indentation on bullet lists for <span><code>commonmark</code></span>, <span><code>markua</code></span>, <span><code>gfm</code></span>. They are now nested by 2
      spaces instead of 4 (<a href="https://github.com/jgm/pandoc/issues/8011">#8011</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Class:</p>
      <ul>
      <li>Add new function <span><code>findFileWithDataFallback</code></span> [API
      Change] (Albert Krewinkel).</li>
      <li><span><code>fillMediaBag</code></span>: Keep
      attributes of original image on Span (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8099">#8099</a>).
      Images that cannot be fetched are replaced with a Span that
      contains the image’s description. The span now also retains all
      original image attributes and inherits all attributes of the
      image. Furthermore, the classes <span><code>image</code></span> and <span><code>placeholder</code></span> are added, and path
      and title are store in attributes <span><code>original-image-src</code></span> and <span><code>original-image-title</code></span>,
      respectively.</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li><span><code>makeSections</code></span>: don’t
      make a section for a div with class “fragments” (<a href="https://github.com/jgm/pandoc/issues/8098">#8098</a>).</li>
      <li>Ensure that Nulls are ignored by <span><code>makeSection</code></span> and in segmenting
      slides (<a href="https://github.com/jgm/pandoc/issues/8155">#8155</a>).</li>
      <li>Add <span><code>formatCode</code></span>
      function to Text.Pandoc.Shared [API change] (Elliot Bobrow, <a href="https://github.com/jgm/pandoc/issues/8129">#8129</a>).</li>
      <li><span><code>taskListItemToAscii</code></span>:
      handle asciidoctor’s characters (<a href="https://github.com/jgm/pandoc/issues/8011">#8011</a>).
      Asciidoctor uses different unicode characters for task lists; we
      should recognize them too and be able to convert them to ascii
      task lists in formats like gfm.</li>
      <li>Deprecate <span><code>deLink</code></span> and
      mark for later removal.</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.Shared:</p>
      <ul>
      <li><span><code>toTableOfContents</code></span>:
      Don’t replace links with empty spans in TOC (<a href="https://github.com/jgm/pandoc/issues/8020">#8020</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Metadata:</p>
      <ul>
      <li>Ensure that metadata values w/o trailing newlines are parsed
      as inlines, as the manual states. Previously, they were parsed as
      inlines if they would otherwise have been a single Plain or Para,
      but otherwise left unchanged. This led to some quirky results
      (e.g. <a href="https://github.com/jgm/pandoc/issues/8143">#8143</a>). We
      now use the general function <span><code>blocksToInlines</code></span> from
      T.P.Shared.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li>Simplify <span><code>gridTableWith&#39;</code></span>, <span><code>gridTableWith</code></span> [API Change]
      (Albert Krewinkel). The functions <span><code>gridTableWith</code></span> and <span><code>gridTableWith&#39;</code></span> no longer takes
      a boolean argument that toggles whether a table head should be
      parsed: both, tables with heads and without heads, are always
      accepted now.</li>
      </ul></li>
      <li><p>Lua subsystem (Albert Krewinkel):</p>
      <ul>
      <li>Extend <span><code>pandoc.system</code></span>
      module (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8184">#8184</a>). The
      module now has the additional functions <span><code>list_directory</code></span>, <span><code>make_directory</code></span>, and <span><code>remove_directory</code></span>. This makes it
      easier to write cross-platform scripts that need to inspect or
      modify the file system.</li>
      <li>Require pandoc-lua-marshal 0.1.7. Adds a <span><code>clone</code></span> methods to Pandoc objects
      and allows to pass Blocks in instead of full Caption
      elements.</li>
      <li>Add fields <span><code>pandoc.readers</code></span> and <span><code>pandoc.writers</code></span> (<a href="https://github.com/jgm/pandoc/issues/8177">#8177</a>). The
      set of supported input and output formats is made available to Lua
      users.</li>
      <li>Ensure that tables marshaled via JSON arrays behave like
      Lists. This allows to invoke methods like <span><code>map</code></span> and <span><code>includes</code></span> on lists like <span><code>PANDOC_WRITER_OPTIONS.extensions</code></span>.</li>
      <li>Require hslua-2.2.1, unless lua53 flag is set, and do not
      reset foreign encoding before running Lua. This fixes a problem
      where the encoding used for Lua filenames would sometimes mismatch
      the encoding used by the OS.</li>
      <li>Simplify module loading code. Modules are now loaded directly;
      the special pandoc Lua package searcher is no longer necessary and
      has been removed.</li>
      <li>Add function pandoc.mediabag.fill (<a href="https://github.com/jgm/pandoc/issues/8104">#8104</a>). The
      function allows to fill the mediabag with all images in a given
      document. Images that cannot be fetched are replaced with a Span
      containing the image description.</li>
      </ul></li>
      <li><p>Populate mediabag after filters have run (Albert Krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/8099">#8099</a>).
      The mediabag is filled with document resources after the filters
      have run. This allows, for example, filter authors to modify image
      paths before pandoc tries to fetch the images. Lua filters that
      rely on a filled mediabag can use the new <span><code>pandoc.mediabag.fill</code></span> function
      to perform that action in the filter.</p></li>
      <li><p>Ms template: redefine rather than removing .CH macro (<a href="https://github.com/jgm/pandoc/issues/8175">#8175</a>).</p></li>
      <li><p>JATS template (Albert Krewinkel, except as noted):</p>
      <ul>
      <li>Include particles, prefix, suffix in names.</li>
      <li>Mark authors with cor-id as corresponding authors.
      Corresponding authors are marked by setting the attribute <span><code>corresp=&#34;yes&#34;</code></span> in their
      respective <span><code>&lt;contrib&gt;</code></span> element.</li>
      <li>Unconditionally include permissions element (<a href="https://github.com/jgm/pandoc/issues/8040">#8040</a>). Fixes
      a bug that caused license information to be omitted when no
      copyright information was provided.</li>
      <li>Follow JATS4R recommendation and PudMed Central for license
      URI (Castedo Ellerman, <a href="https://github.com/jgm/pandoc/issues/8041">#8041</a>).</li>
      </ul></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Rename <span><code>\textormath</code></span> to
      <span><code>\TextOrMath</code></span> (Hos Es, <a href="https://github.com/jgm/pandoc/issues/8036">#8036</a>).</li>
      <li>Fix links-as-notes (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/8077">#8077</a>).</li>
      </ul></li>
      <li><p>HTML template styles:</p>
      <ul>
      <li>Remove <span><code>span.underline</code></span>
      rule. This is superfluous now that we render Underline as <span><code>&lt;u&gt;</code></span>.</li>
      <li>Improve CSS for task lists (<a href="https://github.com/jgm/pandoc/issues/8151">#8151</a>).</li>
      </ul></li>
      <li><p>LaTeX template: Add <span><code>boxlinks</code></span> variable for LaTeX/PDF
      output (<a href="https://github.com/jgm/pandoc/issues/8198">#8198</a>). If
      <span><code>boxlinks</code></span> is set but <span><code>colorlinks</code></span> is not, then boxes
      will be printed around links (<span><code>hidelinks</code></span> will not be set in
      <span><code>hypersetup</code></span>).</p></li>
      <li><p><span><code>--self-contained</code></span>:
      Handle <span><code>url()</code></span> in <span><code>&lt;style&gt;</code></span> elements (<a href="https://github.com/jgm/pandoc/issues/8193">#8193</a>).</p></li>
      <li><p>Text.Pandoc.PDF: use SHA1 hash of filename when converting
      SVG. The previous code threw away the directory component of the
      filename in constructing a new one. This led to surprising results
      if you had e.g. <span><code>foo/pic.svg</code></span> and <span><code>bar/pic.svg</code></span>; in the final PDF
      they’d be the same image, because the latter would overwrite the
      former in the temp directory.</p></li>
      <li><p>Remove Muse reader round-trip tests. These are
      nondeterministic and have repeatedly failed on strange edge
      cases.</p></li>
      <li><p>Update fonts MIME following IANA recommendation (Gabriel
      Lewertowski, <a href="https://github.com/jgm/pandoc/issues/8127">#8127</a>).</p></li>
      <li><p>Future compat change for <span><code>liftA2</code></span> export from Prelude
      (Georgi Lyubenov, <a href="https://github.com/jgm/pandoc/issues/8132">#8132</a>).</p></li>
      <li><p>Update <span><code>default.csl</code></span>
      from the latest chicago-author-date.csl.</p></li>
      <li><p>Update manfilter.hs for greater portability (<a href="https://github.com/jgm/pandoc/issues/8045">#8045</a>). The
      tables in our man pages were not rendering correctly with mandoc,
      now used by default with macOS. mandoc doesn’t allow man
      formatting inside table cells. For maximum portability, we now
      render the tables in plain format and include them as code blocks
      in the man page.</p></li>
      <li><p>CI: update macos container version (<a href="https://github.com/jgm/pandoc/issues/8197">#8197</a>,
      Sukka).</p></li>
      <li><p>Add <span><code>nightly</code></span> flag.
      This causes a <span><code>-nightly-COMPILEDATE</code></span> suffix to
      be added the the output of <span><code>--version</code></span> (<a href="https://github.com/jgm/pandoc/issues/8016">#8016</a>). This
      is used in the nightly CI builds.</p></li>
      <li><p>Update dependencies (aeson, skylighting,
      pandoc-lua-marshall, citeproc, texmath).</p></li>
      <li><p>Documentation improvements (thanks to Jiří Wolker, Castedo
      Ellerman, Albert Krewinkel, Bastien Dumont, Cezar Drożak, Benjamin
      Wuethrich, Ivan Panchenko, Sukil Etxenike, Masataka
      Ogawa).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.18-2022-04-04">
      <h2><a href="#pandoc-2.18-2022-04-04" aria-hidden="true"></a>pandoc 2.18 (2022-04-04)</h2>
      <ul>
      <li><p>New input formats: <span><code>endnotexml</code></span> (EndNote XML
      bibliography), <span><code>ris</code></span> (RIS
      bibliography).</p></li>
      <li><p>A RIS bibliography file may now be used with <span><code>--citeproc</code></span>.</p></li>
      <li><p>Citeproc: Allow a formatted bibliography to be placed in
      metadata fields via a Div with class <span><code>refs</code></span> (<a href="https://github.com/jgm/pandoc/issues/7969">#7969</a>, <a href="https://github.com/jgm/pandoc/issues/526">#526</a>). Thus,
      one can include a metadata field, say <span><code>refs</code></span>, whose content is an empty
      div with id <span><code>refs</code></span>, and the
      formatted bibliography will be put into this metadata field. It
      may then be interpolated into a template using the variable <span><code>refs</code></span>.</p></li>
      <li><p>Ensure that you don’t get PDF output to terminal. <span><code>-t pdf</code></span> now behaves like <span><code>-t docx</code></span> and gives an error
      unless the output is redirected.</p></li>
      <li><p><span><code>--version</code></span> now
      prints hslua version (<a href="https://github.com/jgm/pandoc/issues/7929">#7929</a>) and
      Lua version (<a href="https://github.com/jgm/pandoc/issues/7997">#7997</a>, Albert
      Krewinkel).</p></li>
      <li><p>Change <span><code>--metadata-file</code></span> parsing so
      that, when the input format is not markdown or a markdown variant,
      pandoc’s markdown is used (<a href="https://github.com/jgm/pandoc/issues/6832">#6832</a>, <a href="https://github.com/jgm/pandoc/issues/7926">#7926</a>). When
      the input format is a markdown variant, the same format is used.
      Reason for the change: it doesn’t make sense to run the markdown
      parser with a set of extensions designed for a non-markdown
      format, and this dramatically limits what people can do in
      metadata files.</p></li>
      <li><p>Trim whitespace from math in <span><code>--webtex</code></span> (<a href="https://github.com/jgm/pandoc/issues/7892">#7892</a>). This
      fixes problems with –webtex and markdown output, when display math
      starts or ends with a newline.</p></li>
      <li><p><span><code>--self-contained</code></span>:
      issue warning rather than failing with an error if a resource
      can’t be found (<a href="https://github.com/jgm/pandoc/issues/7904">#7904</a>).</p></li>
      <li><p>New exported module Text.Pandoc.Readers.EndNote, exporting
      <span><code>readEndNoteXML</code></span> and <span><code>readEndNoteXMLCitation</code></span> [API
      change].</p></li>
      <li><p>New exported module, Text.Pandoc.Readers.RIS, exporting
      <span><code>readRIS</code></span> (<a href="https://github.com/jgm/pandoc/issues/7894">#7894</a>) [API
      change].</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Handle subequations as inline math environment (<a href="https://github.com/jgm/pandoc/issues/7883">#7883</a>).</li>
      <li>Rudimentary support for <span><code>vbox</code></span> (<a href="https://github.com/jgm/pandoc/issues/7939">#7939</a>).</li>
      <li>Support <span><code>\today</code></span> (<a href="https://github.com/jgm/pandoc/issues/7905">#7905</a>).</li>
      <li>Handle <span><code>\label</code></span> and
      <span><code>\ref</code></span> for footnotes (<a href="https://github.com/jgm/pandoc/issues/7930">#7930</a>).</li>
      <li>Allow inline groups starting with <span><code>\bgroup</code></span> (<a href="https://github.com/jgm/pandoc/issues/7953">#7953</a>).</li>
      <li>Use custom TokStream that keeps track of whether macros are
      expanded. This allows us to improve performance a bit by avoiding
      unnecessary runs of the macro expansion code (e.g. from 24 ms to
      20 ms on our standard benchmark).</li>
      <li>Further optimizations for inline parsing.</li>
      <li>Better handling of <span><code>\usepackage</code></span>. If the package is
      local but causes parse errors, parse everything up to the error
      and skip the rest. Issue a <span><code>CouldNotParseIncludeFile</code></span>
      warning indicating that parsing failed at that point.</li>
      <li>Text.Pandoc.Readers.LaTeX.Parsing: Monoid and Semigroup
      instances for TokStream.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Give warnings and emit empty note when parsing <span><code>&lt;a epub:type=&#34;noteref&#34;&gt;</code></span>
      and the identifier doesn’t correspond to anything in the note
      table (<a href="https://github.com/jgm/pandoc/issues/7884">#7884</a>).
      Previously we just silently skipped these cases.</li>
      <li>Fix parsing of epub footnotes (<a href="https://github.com/jgm/pandoc/issues/7884">#7884</a>).</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Handle complete set of entities as specified at <a href="https://www.w3.org/2003/entities/2007doc/byalpha.html">https://www.w3.org/2003/entities/2007doc/byalpha.html</a>
      (<a href="https://github.com/jgm/pandoc/issues/7938">#7938</a>).</li>
      <li>Handle abstract in info section (<a href="https://github.com/jgm/pandoc/issues/7747">#7747</a>).</li>
      <li>Improve info parsing.</li>
      <li>Simplify metadata parsing code (<a href="https://github.com/jgm/pandoc/issues/7747">#7747</a>).
      Handle abstract as block-level content. Report skipped info
      elements with <span><code>--verbose</code></span>.</li>
      <li>Handle address and coyright in metadata (<a href="https://github.com/jgm/pandoc/issues/7747">#7747</a>).</li>
      </ul></li>
      <li><p>DokuWiki reader:</p>
      <ul>
      <li>Add DokuWiki table alignment (<a href="https://github.com/jgm/pandoc/issues/5202">#5202</a>,
      damon-sava-stanley).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Fix treatment of headerless simple tables (<a href="https://github.com/jgm/pandoc/issues/7902">#7902</a>).</li>
      <li>Wrap math in Span to preserve attributes (<a href="https://github.com/jgm/pandoc/issues/7998">#7998</a>, Albert
      Krewinkel). Math elements with a name, classes, or other fields
      are wrapped in a <span><code>Span</code></span>
      with these attributes.</li>
      </ul></li>
      <li><p>JATS reader:</p>
      <ul>
      <li>Improve handling of fn-group elements (<a href="https://github.com/jgm/pandoc/issues/6348">#6348</a>, Albert
      Krewinkel). Footnotes in <span><code>&lt;fn-group&gt;</code></span> elements are
      collected and re-inserted into the document as proper footnotes in
      the place where they are referenced.</li>
      <li>Handle <span><code>pub-date</code></span> (<a href="https://github.com/jgm/pandoc/issues/8000">#8000</a>).</li>
      <li>Support PMID, DOI, issue in citations (<a href="https://github.com/jgm/pandoc/issues/7995">#7995</a>).</li>
      <li>Improve refs parsing. Handle <span><code>issn</code></span> and <span><code>isbn</code></span>; use simpler form for
      issued date.</li>
      <li>Strip ‘ref-’ from ref id in constructing CSL id. This allows
      better round-tripping, because the JATS writer adds the <span><code>ref-</code></span> prefix to the citation id
      to get the ref element’s id.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li><p>Allow “:” in property drawer keys (Lucas V. R). Any
      non-space character is allowed as property drawer key, including
      “:” itself (so it is not really a delimiter). The real delimiter
      is a space character, so in a drawer like</p>
      <pre><code>:PROPERTIES:
::k:ey:: value
:END:</code></pre>
      <p>“:k:ey:” is a key with value “value”.</p></li>
      <li><p>Allow comments above property drawer.</p></li>
      <li><p>More flexible LaTeX environments (Lucas V. R).</p></li>
      <li><p>Handle <span><code>#+bibliography:</code></span> as metadata so
      that it can work with <span><code>--citeproc</code></span>.</p></li>
      <li><p>Parse <span><code>#+print_bibliography:</code></span> as Div
      with id <span><code>refs</code></span>.</p></li>
      <li><p>Allow multiple <span><code>#+bibliography:</code></span>.</p></li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow one-column pipe tables with pipe on right (<a href="https://github.com/jgm/pandoc/issues/7919">#7919</a>).</li>
      <li>Remove restriction on identifiers, so they no longer need to
      begin with a letter (<a href="https://github.com/jgm/pandoc/issues/7920">#7920</a>).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Enable <span><code>citations</code></span>
      extension for docx reader (<a href="https://github.com/jgm/pandoc/issues/7840">#7840</a>). When
      enabled, Zotero, Mendeley, and EndNote citations embedded in a
      docx are parsed as native pandoc citations. (When disabled, the
      generated citation text and bibliography are passed through as
      regular text.) The bibliography generated by the plugin is
      suppressed. Instead, bibliographic data embedded in citation items
      is added to the <span><code>references</code></span> metadata field so
      that it can be used with <span><code>--citeproc</code></span>.</li>
      </ul></li>
      <li><p>Docbook writer:</p>
      <ul>
      <li>Interpret links without contents as cross-references (<a href="https://github.com/jgm/pandoc/issues/7360">#7360</a>, Jan
      Tojnar). Links without text contents are converted to <span><code>&lt;xref&gt;</code></span> elements. DocBook
      processors will generate appropriate cross-reference text when
      presented with an xref element.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Single numbering ID for examples (<a href="https://github.com/jgm/pandoc/issues/7895">#7895</a>, mjfs).
      This change ensures that example list items all belong to a single
      number sequence, so that if items are added or deleted in a word
      processor, the other items will renumber automatically.</li>
      <li>Add bookmark with table id to table (<a href="https://github.com/jgm/pandoc/issues/7989">#7989</a>,
      Nikolai Korobeinikov, <a href="https://github.com/jgm/pandoc/issues/7285">#7285</a>). This
      allows tables with ids to be linked to.</li>
      </ul></li>
      <li><p>Ipynb writer:</p>
      <ul>
      <li>Handle metadata better (<a href="https://github.com/jgm/pandoc/issues/7928">#7928</a>).
      Previously we used the markdown writer to render metadata. This
      had some undesirable consequences (e.g. en dash expanded to <span><code>--</code></span> when <span><code>smart</code></span> enabled), so now we use
      the plain writer.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Avoid extra space before <span><code>\CSLRightInline</code></span> (<a href="https://github.com/jgm/pandoc/issues/7932">#7932</a>).</li>
      <li>Add <span><code>scrreport</code></span> to
      <span><code>chaptersClasses</code></span> (<a href="https://github.com/jgm/pandoc/issues/6168">#6168</a>,
      ivardb).</li>
      <li>Support <span><code>page</code></span>,<span><code>trim</code></span>,<span><code>clip</code></span> attributes on images (<a href="https://github.com/jgm/pandoc/issues/7181">#7181</a>).</li>
      <li>Add <span><code>()</code></span> after booktabs
      rules (<a href="https://github.com/jgm/pandoc/issues/8001">#8001</a>). These
      commands take optional arguments with () and [], which can lead to
      problems if the content of the table cell begins with these
      characters.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Support all standard metadata (“bibliographic”) fields.</li>
      </ul></li>
      <li><p>HTML writer: performance improvements.</p></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Stop indenting property drawers, quote blocks (<a href="https://github.com/jgm/pandoc/issues/3245">#3245</a>, Albert
      Krewinkel). This follows the current default org-mode
      behavior.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Move table-related code into submodule (Albert
      Krewinkel).</li>
      <li>Don’t produce redundant header identifier when the <span><code>gfm_auto_identifiers</code></span> extension
      is set (<a href="https://github.com/jgm/pandoc/issues/7941">#7941</a>).</li>
      <li>Update escaping rules for <span><code>\</code></span>. We now escape <span><code>\</code></span> only if <span><code>raw_tex</code></span> is enabled or it is
      followed by a non-alphanumeric.</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Encode author “others” as <span><code>&lt;etal/&gt;</code></span> (Albert
      Krewinkel). Citeproc adopted the BibTeX convention to use the
      author name “others” when there are additional authors that are
      not named. JATS uses the <span><code>&lt;etal&gt;</code></span> element for
      this.</li>
      <li>Avoid doubled ref-list element (<a href="https://github.com/jgm/pandoc/issues/7990">#7990</a>).
      Previously when generating JATS with the <span><code>element_citations</code></span> extension
      enabled, the references were put in a doubly-nested ref-list
      element (<span><code>&lt;ref-list&gt;&lt;ref-list&gt;...</code></span>).</li>
      <li>Keep edition info in element citations (<a href="https://github.com/jgm/pandoc/issues/7993">#7993</a>, Albert
      Krewinkel).</li>
      <li>Fix handling of CSL variable ‘page’ (not ‘pages’ as we had
      before). It should go to ‘lpage’ and ‘rpage’, not
      ‘page-range’.</li>
      </ul></li>
      <li><p>EPUB writer: refactor for clarity (<a href="https://github.com/jgm/pandoc/issues/7991">#7991</a>,
      Jonathan Dönszelmann, Ola Wolska, Ivar de Bruin, Jaap de
      Jong).</p></li>
      <li><p>Custom writer (Albert Krewinkel):</p>
      <ul>
      <li>Support new-style Writer function (Albert Krewinkel). See the
      documentation for custom writers for details.</li>
      <li>Produce stacktrace if Writer function fails</li>
      </ul></li>
      <li><p>Text.Pandoc.Logging: add <span><code>CouldNotParseIncludeFile</code></span>
      constructor for <span><code>LogMessage</code></span> [API
      change].</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Put id attributes on TOC entries (<a href="https://github.com/jgm/pandoc/issues/7907">#7907</a>,
      damon-sava-stanley). Naming scheme of id is “toc-” + id of linked
      to header/section. Effects HTML, Markdown, Powerpoint, and
      RTF.</li>
      <li>Define <span><code>ordNub</code></span> as
      alias for <span><code>nubOrd</code></span> from
      containers package (<a href="https://github.com/jgm/pandoc/issues/7963">#7963</a>, Albert
      Krewinkel).</li>
      <li>Export <span><code>ensureValidXmlIdentifiers</code></span>. This
      function changes identifiers that don’t start with letters, and
      internal links to these identifiers, making them compatible with
      XML standards. The change is simple: we add <span><code>id_</code></span> to the front. There is
      potential for duplication if there are already <span><code>id_...</code></span> identifiers defined, but
      this seems rare enough not to worry too much about.</li>
      </ul></li>
      <li><p>Ensure that valid XML identifiers are used in Docbook,
      EPUB, FB2, HTML4, S5, Slidy, Slideous, ICML, ODT, TEI writers.
      Thus, if you convert <span><code>[anchor]{#1} and [link to](#1)</code></span>,
      <span><code>id_1</code></span> will be used instead
      of <span><code>1</code></span> for the
      identifier.</p></li>
      <li><p>Lua (Albert Krewinkel).</p>
      <ul>
      <li>Add module <span><code>pandoc.layout</code></span> to format and
      layout text.</li>
      <li>Move custom writer code into Lua hierarchy.</li>
      <li>Use pandoc-lua-marshal 0.1.5.</li>
      <li>Allow any type of callable object as argument to List
      functions <span><code>filter</code></span>, <span><code>map</code></span>, and <span><code>find_if</code></span>. These previously
      required the argument to be of type <span><code>function</code></span>, which was too
      restrictive.</li>
      <li>Inline: the type of Image captions is now <span><code>Inlines</code></span> instead of <span><code>List</code></span>.</li>
      <li>Allow passing <span><code>Sources</code></span>
      to <span><code>pandoc.read</code></span> (<a href="https://github.com/jgm/pandoc/issues/8002">#8002</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Restore <span><code>wkhtmltopdf</code></span>
      as default pdf engine for HTML (Albert Krewinkel).</li>
      <li>Allow custom writer as format if engine is explicitly
      specified (<a href="https://github.com/jgm/pandoc/issues/7898">#7898</a>, Albert
      Krewinkel). Note that it may be necessary to explicitly specify a
      template on the command line.</li>
      </ul></li>
      <li><p>Text.Pandoc.MediaBag: improve detection of absolute paths
      (<a href="https://github.com/jgm/pandoc/issues/7881">#7881</a>).</p></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li>Remove <span><code>raw_tex</code></span>
      extension from list of commonmark extensions, and from the <span><code>commonmark_x</code></span> defaults.
      commonmark doesn’t parse raw TeX, and it doesn’t make sense to
      write it if we don’t parse it.</li>
      <li>Remove <span><code>native_divs</code></span>
      from allowed gfm extensions (<a href="https://github.com/jgm/pandoc/issues/7965">#7965</a>). This
      allows <span><code>&lt;div&gt;</code></span> to be
      suppressed using <span><code>-raw_html</code></span>. Previously <span><code>native_divs</code></span> was enabled but
      could not be suppressed, because it was not in the list of
      available extensions for commonmark-based formats.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li><p>Partition module into (internal) submodules (<a href="https://github.com/jgm/pandoc/issues/7962">#7962</a>, Albert
      Krewinkel).</p></li>
      <li><p>Unify grid table parsing (<a href="https://github.com/jgm/pandoc/issues/7971">#7971</a>, Albert
      Krewinkel). Grid table parsing in Markdown and RST are updated use
      the same functions. Functions are generalized to meet requirements
      for both formats. This change also lays the ground for further
      generalizations in table parsers, including support for advanced
      table features. [API change] in Text.Pandoc.Parsing:</p>
      <ul>
      <li>Parse results of functions <span><code>tableWith&#39;</code></span> and <span><code>gridTableWith&#39;</code></span> are now a <span><code>mf TableComponents</code></span> instead of a
      quadruple of alignments, column widths, header rows and body
      rows.</li>
      <li>Additional exports from Text.Pandoc.Parsing: <span><code>tableWith&#39;</code></span>, <span><code>TableComponents</code></span>, <span><code>TableNormalization</code></span>, <span><code>toTableComponents</code></span>, <span><code>toTableComponents&#39;</code></span>.</li>
      </ul></li>
      </ul></li>
      <li><p>Text.Pandoc.XML.Light: add versions of the parsers that
      allow specifying a custom entity map. Exports new functions: <span><code>parseXMLElementWithEntities</code></span>,
      <span><code>parseXMLContentsWithEntities</code></span>
      [API change].</p></li>
      <li><p>Text.Pandoc.Writers.GridTable: improve module documentation
      (Albert Krewinkel).</p></li>
      <li><p>Text.Pandoc.Parsing.GridTable: simplify column handling
      code (Albert Krewinkel).</p></li>
      <li><p>Text.Pandoc.MIME: Add mime type for mkv extension (<a href="https://github.com/jgm/pandoc/issues/7181">#7181</a>).</p></li>
      <li><p>Text.Pandoc.Asciify: Fix regression with <span><code>ascii_identifiers</code></span> and Turkish
      undotted i (<a href="https://github.com/jgm/pandoc/issues/8003">#8003</a>).</p></li>
      <li><p>Relax upper bound for hslua, allow hslua-2.2. (<a href="https://github.com/jgm/pandoc/issues/7929">#7929</a>) Lua
      5.4 is used by default after this is merged. Packagers may still
      include Lua 5.3 instead by building pandoc with <span><code>--constraint=&#39;hslua &lt;2.2&#39;</code></span>.
      Differences between 5.3 and 5.4 should not generally affect pandoc
      Lua filters. See list of incompatible changes here: <a href="https://www.lua.org/manual/5.4/manual.html#8.1">https://www.lua.org/manual/5.4/manual.html<span>#8</span>.1</a></p></li>
      <li><p>JATS template: allow multiple licenses (Albert
      Krewinkel).</p></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Skip <span><code>\babelprovide</code></span> if
      <span><code>babel-lang</code></span> is empty (<a href="https://github.com/jgm/pandoc/issues/7945">#7945</a>) to
      avoid an error.</li>
      <li>Move hyperref near end of preamble (<a href="https://github.com/jgm/pandoc/issues/5811">#5811</a>). It
      now comes after header-includes and right before title, author,
      date, abstract. Note: Users who presuppose hyperref in their
      header-includes will now have to add <span><code>\usepackage{hyperref}</code></span> to their
      header-includes to make it available there. (The redundant <span><code>\usepackage</code></span> will do no harm in
      this case.)</li>
      <li>Remove special redefinition of <span><code>\sout</code></span>. This used to be
      necessary to avoid problems with hyperref, when headings contain
      strikeout text, but it does not seem to be necessary any more
      (tested).</li>
      </ul></li>
      <li><p>Tests: improve location reporting of failing tests (Albert
      Krewinkel).</p></li>
      <li><p>Add tests for idempotency of <span><code>makeSections</code></span> (<a href="https://github.com/jgm/pandoc/issues/7950">#7950</a>).</p></li>
      <li><p>Add armhf support in linux build script (<a href="https://github.com/jgm/pandoc/issues/7944">#7944</a>,
      Tony).</p></li>
      <li><p>Use latest pandoc-types, so that toJSONFilter will work
      with Meta and MetaValue.</p></li>
      <li><p>Use latest doclayout, texmath, commonmark,
      citeproc.</p></li>
      <li><p>INSTALL.md: add reference to install via winget (<a href="https://github.com/jgm/pandoc/issues/7951">#7951</a>, Guriy
      Samarin).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Document way to get list in block quote in slide shows (<a href="https://github.com/jgm/pandoc/issues/7916">#7916</a>).</li>
      <li>Minor changes to security section.</li>
      <li>Note that <span><code>smart</code></span> works
      for html input.</li>
      <li>Fix typos (<a href="https://github.com/jgm/pandoc/issues/7934">#7934</a>,
      Dimitris Apostolou).</li>
      <li>Fix documentation for citations and org mode.</li>
      <li>Remove claim that <span><code>--self-contained</code></span> does not work
      with <span><code>--mathjax</code></span> (<a href="https://github.com/jgm/pandoc/issues/682">#682</a>).</li>
      </ul></li>
      <li><p>doc/org.md: remove obsolete citations section. This mostly
      described citation formats we no longer support.</p></li>
      <li><p>doc/lua-filters.md: Fix typo (<a href="https://github.com/jgm/pandoc/issues/7981">#7981</a>, Mario
      Lang).</p></li>
      <li><p>Makefile: Use cabal for default build</p></li>
      <li><p>Add <span><code>lua53</code></span> cabal
      flag. It is false by default. If set to true, compile with hslua
      2.1 and Lua 5.3, otherwise hslua 2.2 and Lua 5.4.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.17.1.1-2022-01-31">
      <h2><a href="#pandoc-2.17.1.1-2022-01-31" aria-hidden="true"></a>pandoc 2.17.1.1 (2022-01-31)</h2>
      <ul>
      <li><p>Fix regression in 2.17.1 which caused problems finding
      default files in the default user data directory. (Reverts the
      item “logic bug in <span><code>fullDefaultsPath</code></span>”, which was
      misguided.)</p></li>
      <li><p>Sample custom writer: use single quotes for strings (<a href="https://github.com/jgm/pandoc/issues/7487">#7487</a>, Albert
      Krewinkel).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.17.1-2022-01-30">
      <h2><a href="#pandoc-2.17.1-2022-01-30" aria-hidden="true"></a>pandoc 2.17.1 (2022-01-30)</h2>
      <ul>
      <li><p>Support <span><code>pagedjs-cli</code></span> as pdf engine (<a href="https://github.com/jgm/pandoc/issues/7838">#7838</a>, Albert
      Krewinkel). PagedJS is a polyfill and supports the Paged Media
      standards by the W3C. <a href="https://www.pagedjs.org/">https://www.pagedjs.org/</a></p></li>
      <li><p>CommonMark reader: fix source position after YAML metadata
      (<a href="https://github.com/jgm/pandoc/issues/7863">#7863</a>).</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li><p>Remove retokenizing in <span><code>rawLaTeXParser</code></span>.</p></li>
      <li><p>Ensure that <span><code>\raggedright</code></span> doesn’t gobble an
      argument (<a href="https://github.com/jgm/pandoc/issues/7757">#7757</a>).</p></li>
      <li><p>Improve <span><code>descItem</code></span>.
      For some reason we were skipping arbitrary blocks before <span><code>\item</code></span>. This is now changed to
      “skip whitespace and comments.”</p></li>
      <li><p>Improve handling of <span><code>\newif</code></span>. Adding a pair of braces
      around the second argument of <span><code>\def</code></span> prevents LaTeX from an
      emergency stop on input like the following (<a href="https://github.com/jgm/pandoc/issues/6096">#6096</a>).</p>
      <pre><code>\newif\ifepub
\epubtrue
\ifepub
hi
\fi</code></pre></li>
      </ul></li>
      <li><p>Docx reader: Parse both Zotero citation and bibliography as
      <span><code>FieldInfo</code></span> (<a href="https://github.com/jgm/pandoc/issues/7840">#7840</a>).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Allow arbitrary frameoptions to be passed to a beamer frame,
      using the frameoptions attribute (<a href="https://github.com/jgm/pandoc/issues/7869">#7869</a>).</li>
      <li>Add s and squeeze to recognized beamer frameoptions (<a href="https://github.com/jgm/pandoc/issues/7869">#7869</a>).</li>
      </ul></li>
      <li><p>Markdown writer: handle explicit column widths with pipe
      tables (<a href="https://github.com/jgm/pandoc/issues/7847">#7847</a>). If a
      table has explicit column width information <em>and</em> the
      content extends beyond the <span><code>--columns</code></span> width, we need to
      adjust the widths of the pipe separators to encode this width
      information.</p></li>
      <li><p>Docx writer: Separate tables even with RawBlocks between
      (<a href="https://github.com/jgm/pandoc/issues/7724">#7724</a>,
      Michael Hoffmann). Adjacent docx tables need to be separated by an
      empty paragraph. If there’s a RawBlock between tables which
      renders to nothing, be sure to still insert the empty paragraph so
      that they will not collapse together.</p></li>
      <li><p>Man writer: use custom font V for inline code (<a href="https://github.com/jgm/pandoc/issues/7506">#7506</a>). The V
      font is defined conditionally, so that it renders like CB in
      output formats that support that, and like B in those that don’t
      (e.g. the terminal). Aliases also defined for VI, VB,
      VBI.</p></li>
      <li><p>Asciidoc writer: Support checklists in asciidoctor writer
      (<a href="https://github.com/jgm/pandoc/issues/7832">#7832</a>,
      Nikolai Korobeinikov, ricnorr). The checklist syntax (similar to
      <span><code>task_list</code></span> in markdown)
      seems to be an asciidoctor-only addition.</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Avoid duplicate “style” attributes on table cells (<a href="https://github.com/jgm/pandoc/issues/7871">#7871</a>).</li>
      <li>Don’t break lines inside code elements. With the new (default)
      line wrapping of HTML, in conjunction with the default CSS which
      includes <span><code>code { whitespace: pre-wrap; }</code></span>,
      spurious line breaks could be introduced into inline code (<a href="https://github.com/jgm/pandoc/issues/7858">#7858</a>).</li>
      </ul></li>
      <li><p>Custom writer: preserve order of element attributes (<a href="https://github.com/jgm/pandoc/issues/7489">#7489</a>, Albert
      Krewinkel). Attribute key-value pairs are marshaled as
      AttributeList, i.e., as a userdata type that behaves both like a
      list and a map. This allows to preserve the order of key-value
      pairs.</p></li>
      <li><p>Switch to hslua-2.1 (Albert Krewinkel). This allows for
      some code simplification and improves stability.</p></li>
      <li><p>Don’t read files outside of user data directory (Even
      Brenden). If a file path does not exist relative to the working
      directory, and it does exist relative to the user data directory,
      but outside of of the user data directory, do not read it. This
      applies to <span><code>readDataFile</code></span>
      and <span><code>readMetadataFile</code></span> in
      PandocMonad and, by extension, any module that uses these by
      passing them relative paths.</p></li>
      <li><p>Text.Pandoc.Class.<span><code>makeCanonical</code></span>: Correctly handle
      consecutive “..”s at the beginning of a path (Even Brenden). Prior
      to this commit, <span><code>../../file</code></span> would evaluate to
      <span><code>file</code></span>, when it should be
      unchanged.</p></li>
      <li><p>Search for metadata files in <span><code>$DATADIR/metadata</code></span> (<a href="https://github.com/jgm/pandoc/issues/7851">#7851</a>, Even
      Brenden). If files specified with <span><code>--metadata-file</code></span> are not found
      in the working directory, look in <span><code>$DATADIR/metadata</code></span> (<a href="https://github.com/jgm/pandoc/issues/5876">#5876</a>).</p></li>
      <li><p>Text.Pandoc.Class: export <span><code>readMetadataFile</code></span> [API change]
      (<a href="https://github.com/jgm/pandoc/issues/5876">#5876</a>).</p></li>
      <li><p>Text.Pandoc.Error: export new <span><code>PandocCouldNotFindMetadataFileError</code></span>
      constructor for <span><code>PandocError</code></span> [API change] (<a href="https://github.com/jgm/pandoc/issues/5876">#5876</a>).</p></li>
      <li><p>Avoid putting a frame around speaker notes in beamer (<a href="https://github.com/jgm/pandoc/issues/7857">#7857</a>). If
      speaker notes (a Div with class ‘notes’) occur right after a
      section heading, but above slide level, the resulting <span><code>\note{..}</code></span> caommand should not
      be wrapped in a frame, as that will cause a spurious blank
      slide.</p></li>
      <li><p>CSS in HTML template: adjust #TOC and h1 on mobile (<a href="https://github.com/jgm/pandoc/issues/7835">#7835</a>, Mauro
      Bieg).</p></li>
      <li><p>Text.Pandoc.Readers.LaTeX.Parsing: don’t export <span><code>totoks</code></span>. Make the first param of
      <span><code>tokenize</code></span> a SourcePos
      instead of SourceName, and use it instead of <span><code>totoks</code></span>.</p></li>
      <li><p>Text.Pandoc.Shared: Modify <span><code>stringify</code></span> so it ignores <span><code>[Citation]</code></span> inside <span><code>Cite</code></span> (<a href="https://github.com/jgm/pandoc/issues/7855">#7855</a>).
      Otherwise we’ll sometimes get two copies of things, one from the
      <span><code>citationPrefix</code></span> or <span><code>citationSuffix</code></span> and another from
      the embedded fallback text. When there is no fallback text, we’ll
      get no content. However, it really isn’t an alternative to just
      rely on the result of running <span><code>query</code></span> on the embedded <span><code>Citation</code></span>s; this will result in
      a jumble of text rather than anything structured.</p></li>
      <li><p>Omit <span><code>--enable-doc</code></span>
      in the cabal haddock invocation in <span><code>tools/build-and-upload-api-docs.sh</code></span>.</p></li>
      <li><p>Text.Pandoc.App.Opt: fix logic bug in <span><code>fullDefaultsPath</code></span>. Previously we
      would (also) search the default user data directory for a defaults
      file, even if a different user data directory was specified using
      <span><code>--data-dir</code></span>. This was a
      mistake; if <span><code>--data-dir</code></span> is
      used, the default user data directory should not be
      searched.</p></li>
      <li><p>Text.Pandoc.Shared: <span><code>defaultUserDataDir</code></span> behavior
      change (<a href="https://github.com/jgm/pandoc/issues/7842">#7842</a>). If
      the XDG data directory is not defined (e.g. because it’s not
      supported in the OS or HOME isn’t defined), we return the empty
      string instead of raising an exception.</p></li>
      <li><p>Update command tests to distinguish stderr and test exit
      status.</p></li>
      <li><p>MANUAL: add that speaker notes can be used with beamer (<a href="https://github.com/jgm/pandoc/issues/7856">#7856</a>).</p></li>
      <li><p>Update <span><code>build-and-upload-api-docs.sh</code></span>.</p></li>
      <li><p>Document <span><code>--trace</code></span>
      option. Document <span><code>no-check-certificate</code></span> in
      defaults files. Document ‘sandbox’ option for defaults files. (<a href="https://github.com/jgm/pandoc/issues/7873">#7873</a>).</p></li>
      <li><p>Fix pattern syntax in sample readability custom
      reader.</p></li>
      <li><p>doc/custom-readers.lua: add example for “readable
      HTML.”</p></li>
      <li><p>Fix message in man page about where code can be
      found.</p></li>
      <li><p><span><code>manfilter.lua</code></span>:
      remove extra indent in table cells with code blocks.</p></li>
      <li><p>Fix lua-filters documentation for table column widths (<a href="https://github.com/jgm/pandoc/issues/7864">#7864</a>).</p></li>
      <li><p>epub.doc: Update links to KindleGen (<a href="https://github.com/jgm/pandoc/issues/7846">#7846</a>, Benson
      Muite, Mauro Bieg). KindleGen has been deprecated and we need to
      link to archived versions.</p></li>
      <li><p>Use tables in defaults files documentation, so each default
      option is paired with the corresponding command-line option
      (Carsten Allefeld).</p></li>
      <li><p>Use skylighting 0.12.2.</p></li>
      <li><p>Add pandoc-lua-marshal to Nix shell (<a href="https://github.com/jgm/pandoc/issues/7849">#7849</a>, Even
      Brenden).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.17.0.1-2022-01-14">
      <h2><a href="#pandoc-2.17.0.1-2022-01-14" aria-hidden="true"></a>pandoc 2.17.0.1 (2022-01-14)</h2>
      <ul>
      <li><p>Require pandoc-lua-marshal 0.1.3.1 (<a href="https://github.com/jgm/pandoc/issues/7831">#7831</a>, Albert
      Krewinkel). Fixes a problem with <span><code>List.includes</code></span> and <span><code>List.find</code></span> that caused a Lua
      stackoverflow and subsequent program crash.</p></li>
      <li><p>HTML template: load header-includes before math (<a href="https://github.com/jgm/pandoc/issues/7833">#7833</a>, Kolen
      Cheung). MathJax expect the config comes before loading the
      MathJax script. This change of order allows one to config MathJax
      via header-includes, which loads before the MathJax script. Cf. <a href="https://github.com/jgm/pandoc/issues/2750">#2750</a>.</p></li>
      <li><p>When reading defaults file, stop at a line <span><code>...</code></span>. This line signals the end
      of a YAML document. This restores the behavior we got with HsYaml.
      yaml complains about content past this line. See
      https://github.com/jgm/pandoc/issues/4627#issuecomment-1012438765</p></li>
      <li><p>Text.Pandoc.Citeproc: allow <span><code>notes-after-punctuation</code></span> to work
      with numerical styles that use superscripts (e.g.
      american-medical-association.csl), as well as with note styles.
      The default setting of <span><code>notes-after-punctuation</code></span> is true
      for note styles and false otherwise. This restores a behavior of
      pandoc-citeproc that wasn’t properly carried over to Citeproc (<a href="https://github.com/jgm/pandoc/issues/7826">#7826</a>, cf.
      jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/384">#384</a>).</p></li>
      <li><p>Use commonmark-pandoc 0.2.1.2 (<a href="https://github.com/jgm/pandoc/issues/7769">#7769</a>).</p></li>
      <li><p>Add FAQ on images in ipynb containers (<a href="https://github.com/jgm/pandoc/issues/7749">#7749</a>, Kolen
      Cheung).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.17-2022-01-12">
      <h2><a href="#pandoc-2.17-2022-01-12" aria-hidden="true"></a>pandoc 2.17 (2022-01-12)</h2>
      <ul>
      <li><p>Support <span><code>markua</code></span> as
      an output format (<a href="https://github.com/jgm/pandoc/issues/1871">#1871</a>, Tim
      Wisotzki and Saumel Lemmenmeier). Markua is a markdown variant
      used by Leanpub.</p></li>
      <li><p>Add text wrapping for HTML output (<a href="https://github.com/jgm/pandoc/issues/7764">#7764</a>).
      Previously the HTML writer was exceptional in not being sensitive
      to the <span><code>--wrap</code></span> option.
      With this change <span><code>--wrap</code></span>
      now works for HTML. The default (as with other formats) is
      automatic wrapping. Note that the contents of <span><code>script</code></span>, <span><code>textarea</code></span>, and <span><code>pre</code></span> tags are always laid out
      with the <span><code>flush</code></span>
      combinator, so that unwanted spaces won’t be introduced if these
      occur in an indented context in a template.</p></li>
      <li><p>Don’t read sources until in/out format are verified (<a href="https://github.com/jgm/pandoc/issues/7797">#7797</a>).</p></li>
      <li><p>Issue error with <span><code>--list-extensions</code></span> for invalid
      formats (<a href="https://github.com/jgm/pandoc/issues/7797">#7797</a>).</p></li>
      <li><p>Make <span><code>--citeproc</code></span>
      recognize <span><code>.yml</code></span> as well as
      <span><code>.yaml</code></span> extensions as YAML
      bibliography files (<a href="https://github.com/jgm/pandoc/issues/7707">#7707</a>, Jörn
      Krenzer).</p></li>
      <li><p>Use latest version of KaTeX with <span><code>--katex</code></span>.</p></li>
      <li><p>Fix parsing of footnotes in <span><code>--metadata-file</code></span> (<a href="https://github.com/jgm/pandoc/issues/7813">#7813</a>).
      Previously non-inline footnotes were not being parsed.</p></li>
      <li><p>ODT reader:</p>
      <ul>
      <li>Parse list-header as a list item (Tuong Nguyen Manh).</li>
      </ul></li>
      <li><p>Commonmark reader:</p>
      <ul>
      <li>Put sourcepos attribute on header, not enclosing div with
      <span><code>-f commonmark+sourcepos</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/7769">#7769</a>).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Don’t allow <span><code>^</code></span> at
      beginning of link or image label (<a href="https://github.com/jgm/pandoc/issues/7723">#7723</a>). This
      is reserved for footnotes. Fixes regression from 0a93acf.</li>
      <li>Fix parsing of “bare locators” after author-in-text citations.
      Previously <span><code>@item [p. 12; @item2]</code></span> was
      incorrectly parsed as three citations rather than two. This is now
      fixed by ensuring that <span><code>prefix</code></span> doesn’t gobble any
      semicolons.</li>
      <li>Revert changes to <span><code>inlinesInBalancedBrackets</code></span>
      (commit fa83246), which caused regressions.</li>
      <li>Improve detection of pipe table line widths (<a href="https://github.com/jgm/pandoc/issues/7713">#7713</a>). Fixed
      calculation of maximum column widths in pipe tables. It is now
      based on the length of the markdown line, rather than a
      “stringified” version of the parsed line. This should be more
      predictable for users. In addition, we take into account
      double-wide characters such as emojis.</li>
      </ul></li>
      <li><p>Custom (Lua) readers:</p>
      <ul>
      <li>First argument is now a list of sources instead of the
      concatenated text (Albert Krewinkel). The list structure can
      easily be converted to a string by applying <span><code>tostring</code></span>, but it is also
      possible to access the elements (each with a <span><code>text</code></span> and <span><code>name</code></span>). A small example is added
      to the custom reader documentation, showcasing its use in a reader
      that creates a syntax-highlighted code block for each source code
      file passed as input. Existing readers will still work through a
      fallback mechanism, issuing a deprecation notice.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Parse official org-cite citations (<a href="https://github.com/jgm/pandoc/issues/7329">#7329</a>). We
      also support the older org-ref style as a fallback. We no longer
      support the “markdown style” or “Berkeley style” citations.</li>
      <li>Support alphabetical (fancy) lists (Lucas Viana). When the
      <span><code>fancy_lists</code></span> extension is
      enabled, alphabetical list markers are allowed, mimicking the
      behaviour of Org Mode when <span><code>org-list-allow-alphabetical</code></span> is
      enabled.</li>
      <li>Support counter cookies in lists (Lucas Viana). Such cookies
      are used to override the item counter in ordered lists. In org it
      is possible to set the counter at any list item, but since Pandoc
      AST does not support this, we restrict the usage to setting an
      offset for the entire ordered list, by using the cookie in the
      first list item.</li>
      <li>Allow trailing spaces after key/value pairs in directives
      (Albert Krewinkel). Ensures that spaces at the end of attribute
      directives like <span><code>#+ATTR_HTML: :width 100%</code></span> (note
      the trailing spaces) are accepted.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Omit visible content for <span><code>\label{...}</code></span>. Previously we
      included the text of the label in square brackets, but this is
      undesirable in many cases. See discussion in <a href="https://github.com/jgm/pandoc/issues/813#issuecomment-978232426">https://github.com/jgm/pandoc/issues/813#issuecomment-978232426</a>.</li>
      <li>Improve references (<a href="https://github.com/jgm/pandoc/issues/813">#813</a>). Resolve
      references to theorem environments. Remove the Span caused by
      “label” in figure, table, and theorem environments; this had an id
      that duplicated the environments’ id.</li>
      <li>Fix semantics of <span><code>\ref</code></span>. We were including the ams
      environment type in addition to the number. This is proper
      behavior for <span><code>\cref</code></span> but
      not for <span><code>\ref</code></span>. To support
      <span><code>\cref</code></span> we need to store
      the environment label separately.</li>
      <li>Add babel mappings for Guajati (gu) and Oriya (or) (<a href="https://github.com/jgm/pandoc/issues/7815">#7815</a>).</li>
      <li>Fix typo <span><code>panjabi</code></span>
      -&gt; <span><code>punjabi</code></span> in babel
      mappings (<a href="https://github.com/jgm/pandoc/issues/7814">#7814</a>).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Parse attributes on links and images (<a href="https://github.com/jgm/pandoc/issues/6970">#6970</a>).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Handle multiple pic elements inside a drawing (<a href="https://github.com/jgm/pandoc/issues/7786">#7786</a>).</li>
      <li>Change <span><code>elemToParPart</code></span>
      to return <span><code>[ParPart]</code></span>
      instead of <span><code>ParPart</code></span>. Also
      remove <span><code>NullParPart</code></span>constructor, as it
      is no longer needed. This will allow us to handle elements that
      contain multiple ParParts, e.g. <span><code>w:drawing</code></span> elements with
      multiple <span><code>pic:pic</code></span>.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Collapse internal spaces in literal and other similar tags (<a href="https://github.com/jgm/pandoc/issues/7821">#7821</a>), as
      the standard docbook toolchain does.</li>
      <li>Be sensitive to spacing=“compact” in lists (<a href="https://github.com/jgm/pandoc/issues/7799">#7799</a>). When
      <span><code>spacing=&#34;compact&#34;</code></span> is set,
      Para elements are turned into Plain, so we get a “tight”
      list.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Add new exported function <span><code>writeMarkua</code></span> from
      Text.Pandoc.Writers.Markdown [API change] (<a href="https://github.com/jgm/pandoc/issues/1871">#1871</a>, Tim
      Wisotzki and Saumel Lemmenmeier).</li>
      <li>Fix indentation issue in footnotes (<a href="https://github.com/jgm/pandoc/issues/7801">#7801</a>).</li>
      <li>Avoid extra space before citation suffix if it already starts
      with a space.</li>
      <li>Ensure semicolon between the locator and the next citation
      when an author-in-text citation has a locator and following
      citations.</li>
      <li>Improve escaping for <span><code>#</code></span> (<a href="https://github.com/jgm/pandoc/issues/7726">#7726</a>).</li>
      </ul></li>
      <li><p>Custom (Lua) writers:</p>
      <ul>
      <li><p>Allow variables to be set via second return value of <span><code>Doc</code></span> (<a href="https://github.com/jgm/pandoc/issues/6731">#6731</a>, Albert
      Krewinkel). New templates variables can be added by giving
      variable-value pairs as a second return value of the global
      function <span><code>Doc</code></span>.
      Example:</p>
      <pre><code>function Doc (body, meta, vars)
  vars.date = vars.date or os.date &#39;%B %e, %Y&#39;
  return body, vars
end</code></pre></li>
      <li><p>Provide global <span><code>PANDOC_WRITER_OPTIONS</code></span> (<a href="https://github.com/jgm/pandoc/issues/6731">#6731</a>, Albert
      Krewinkel).</p></li>
      <li><p>Assign default Pandoc object to global <span><code>PANDOC_DOCUMENT</code></span> (Albert
      Krewinkel). The default Pandoc object is now non-strict, i.e.,
      only the parts of the document that are accessed will be marshaled
      to Lua. A special type is no longer necessary. This change also
      makes it possible to use the global variable with library
      functions such as <span><code>pandoc.utils.references</code></span>, or to
      inspect the document contents with <span><code>walk()</code></span>.</p></li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Fix typo <span><code>panjabi</code></span>
      -&gt; <span><code>punjabi</code></span> in babel
      mappings (<a href="https://github.com/jgm/pandoc/issues/7814">#7814</a>).</li>
      </ul></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Remove redundant display text for wiki links (Jesse
      Hathaway).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Handle bullets correctly in lists by not reusing numIds (<a href="https://github.com/jgm/pandoc/issues/7689">#7689</a>,
      Michael Hoffmann). This fixes a bug in which a Div in a list item
      would receive bullets on its contained paragraphs.</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Fix list items starting with a code block or other
      non-paragraph content (<a href="https://github.com/jgm/pandoc/issues/7810">#7810</a>).</li>
      <li>Avoid blank lines after tight sublists (<a href="https://github.com/jgm/pandoc/issues/7810">#7810</a>).</li>
      <li>Fix extra blank line inserted after empty list item (<a href="https://github.com/jgm/pandoc/issues/7810">#7810</a>).</li>
      <li>Don’t add blank line before lists (<a href="https://github.com/jgm/pandoc/issues/7810">#7810</a>).</li>
      <li>Support starting number cookies (Lucas Viana). This is
      necessary for lists that start at a number other than 1.</li>
      <li>Support the new org-cite syntax (<a href="https://github.com/jgm/pandoc/issues/7329">#7329</a>).</li>
      </ul></li>
      <li><p>Haddock writer:</p>
      <ul>
      <li>Avoid blank lines after tight sublists (<a href="https://github.com/jgm/pandoc/issues/7810">#7810</a>).</li>
      </ul></li>
      <li><p>Ipynb writer:</p>
      <ul>
      <li>Ensure deterministic order of keys.</li>
      <li>Handle cell output with raw block of markdown (<a href="https://github.com/jgm/pandoc/issues/7563">#7563</a>, Kolen
      Cheung). Write RawBlock of markdown in code-cell output. This is
      designed to fit the behavior of <a href="https://github.com/jgm/pandoc/issues/7561">#7561</a>, which
      makes the ipynb reader parse code-cell output with mime
      “text/markdown” to a RawBlock of markdown. This commit makes the
      ipynb writer writes this RawBlock of markdown back inside a
      code-cell output with the same mime, preserving this information
      in round-trip.</li>
      <li>In choosing between multiple output options, always favor
      those marked with the output format over images (Kolen Cheung).
      Previously, both <span><code>fmt == f</code></span>
      case and Image have a rank of 1.</li>
      </ul></li>
      <li><p>Ipynb reader &amp; writer: properly handle cell “id” (<a href="https://github.com/jgm/pandoc/issues/7728">#7728</a>). This
      is passed through if it exists (in Nb4); otherwise the writer will
      add a random one so that all cells have an “id”.</p></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Properly encode strings for PDF contents (<a href="https://github.com/jgm/pandoc/issues/7731">#7731</a>).</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Keep quotes in element-citations (Albert Krewinkel). Fixed a
      bug that lead to quote characters being lost in
      element-citations.</li>
      </ul></li>
      <li><p>RTF writer:</p>
      <ul>
      <li>Properly handle images in data URIs (<a href="https://github.com/jgm/pandoc/issues/7771">#7771</a>).</li>
      </ul></li>
      <li><p>Commonmark writer:</p>
      <ul>
      <li>Allow ‘)’ delimiters on ordered lists.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Avoid extra blank line after empty list item (<a href="https://github.com/jgm/pandoc/issues/7810">#7810</a>).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Make line breaks more consistent. With <span><code>--wrap=none</code></span>, we now output line
      breaks between block-level elements. Previously they were omitted
      entirely, so the whole document was on one line, unless there were
      literal line breaks in pre sections. This makes the HTML writer’s
      behavior more consistent with that of other writers. Also,
      regardless of wrap settings, put newline after <span><code>&lt;dd&gt;</code></span> and after
      block-level elements in the footnotes section. And add a line
      break between an <span><code>img</code></span> tag
      and the associated <span><code>figcaption</code></span>.</li>
      <li>reveal.js: Make sure images with <span><code>r-stretch</code></span> are not in p tags.
      They must be direct children of the section. There was previously
      code to make this work with the older class name <span><code>stretch</code></span>, but the name has
      changed in reveal.js.</li>
      <li>reveal.js: don’t add <span><code>r-fit-text</code></span> class to section. It
      must go on the header only.</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Improve detection of intraword emphasis (<a href="https://github.com/jgm/pandoc/issues/7803">#7803</a>).</li>
      </ul></li>
      <li><p>OpenDocument writer:</p>
      <ul>
      <li>Fix vertical alignment bug with display math (<a href="https://github.com/jgm/pandoc/issues/7777">#7777</a>).
      Previously some displayed formulas would be floated above a
      preceding text line. This is fixed by setting <span><code>vertical-rel</code></span> to <span><code>text</code></span> rather than <span><code>paragraph-content</code></span>.</li>
      </ul></li>
      <li><p>JATS template (Albert Krewinkel):</p>
      <ul>
      <li>Fix position of contrib affiliations in authoring set. Any
      <span><code>&lt;aff&gt;</code></span> element must
      come before any <span><code>&lt;email&gt;</code></span> element.</li>
      <li>Fix affiliation tagging in <span><code>articleauthoring</code></span> output.
      Affiliations were <span><code>xlink</code></span>ed
      even in the articleauthoring tag set, but <span><code>&lt;aff&gt;</code></span> are not allowed as
      children of <span><code>contrib-group</code></span>
      elements in that tag set. Each affiliation must be listed directly
      in the contrib element.</li>
      <li>Add support for article subtitles.</li>
      </ul></li>
      <li><p>EPUB template:</p>
      <ul>
      <li>Include abstract in default template.</li>
      <li>Ensure that the essential styles needed by pandoc (<span><code>styles.html</code></span> partial) are
      included in the templates. This is important for correct
      formatting of CSL bibliographies. Note that much of the styling in
      <span><code>styles.html</code></span> will be
      ignored for EPUB, because of the conditional on <span><code>document-css</code></span>. Setting the <span><code>document-css</code></span> variable will
      cause it not to be ignored.</li>
      </ul></li>
      <li><p>HTML template: Add abstract (<a href="https://github.com/jgm/pandoc/issues/7588">#7588</a>, Jannik
      Buhr, John MacFarlane). By default, a localized title (the word
      “Abstract”) will be used, unless the variable <span><code>abstract-title</code></span> is set.</p></li>
      <li><p>ConTeXt template: Make title appear in PDF title bar. This
      is recommended for accessibility reasons. Note: doesn’t work with
      macOS Preview.app.</p></li>
      <li><p><span><code>reference.pptx</code></span>:
      change to use 16:9 aspect ratio, Powerpoint’s default.</p></li>
      <li><p>Text.Pandoc.Writers:</p>
      <ul>
      <li>Do not export <span><code>writeCustom</code></span> [API change]. This
      ensures that all writers exported in T.P.Writers are parameterized
      and work with any <span><code>PandocMonad</code></span> type. This is
      consistent with T.P.Readers, as <span><code>readCustom</code></span> is not exported from
      that module either.</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.Shared:</p>
      <ul>
      <li><span><code>endsWithPlain</code></span> now
      returns True if the list ends with a list that ends with a Plain,
      and so on recursively (<a href="https://github.com/jgm/pandoc/issues/7810">#7810</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Class.IO:</p>
      <ul>
      <li><span><code>writeMedia</code></span>: unescape
      percent-encoding in creating file path. This addresses a problem
      with spaces in image filenames when creating PDFs (<a href="https://github.com/jgm/pandoc/issues/7819">#7819</a>); it
      also affects <span><code>--extract-media</code></span>.</li>
      </ul></li>
      <li><p>New internal module Text.Pandoc.Writers.Blaze, exporting
      <span><code>layoutMarkup</code></span>. This
      converts a blaze Html structure into a doclayout Doc
      Text.</p></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li><span><code>parseFormatSpec</code></span>:
      cleaner error message for invalid extensions.</li>
      </ul></li>
      <li><p>Text.Pandoc.MediaBag:</p>
      <ul>
      <li>Fix bug in <span><code>extractMedia</code></span>, which caused the
      test for <span><code>..</code></span> in paths to
      fail, with the result that images with <span><code>..</code></span> in the path name could be
      extracted outside of the directory specified by <span><code>extractMedia</code></span>. It also led a
      check for <span><code>media</code></span> in
      resource paths to fail in the docx reader.</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Avoid adding comma before an author-in-text citation in a note
      if it begins with a title (no author) (<a href="https://github.com/jgm/pandoc/issues/7761">#7761</a>).</li>
      <li>Text.Pandoc.Citeproc.Locator now exports <span><code>toLocatorMap</code></span>, <span><code>LocatorInfo</code></span>, and <span><code>LocatorMap</code></span>. The type of <span><code>parseLocator</code></span> has changed, so it
      now takes a <span><code>LocatorMap</code></span>
      rather than a <span><code>Locale</code></span> as
      parameter, and returns a <span><code>LocatorInfo</code></span> instead of a
      tuple.</li>
      <li>Fix citation locator detection for German. <span><code>toLocatorMap</code></span> now stores keys
      case-folded. We want to do a case-insensitive comparison when
      parsing locators, so that e.g. both <span><code>Chap.</code></span> and <span><code>chap.</code></span> work. Previously we
      case-folded terms when doing the lookup, but they weren’t
      case-folded in the map itself, which led to locator-detection
      breaking for German (where the terms have uppercase letters).</li>
      </ul></li>
      <li><p>Lua (Albert Krewinkel):</p>
      <ul>
      <li>Allow single elements as singleton MetaBlocks/MetaInlines.
      Single elements should always be treated as singleton lists in the
      Lua subsystem.</li>
      <li>Add <span><code>pandoc.template</code></span>
      module. The module provides a <span><code>compile</code></span> function to use strings
      as templates.</li>
      <li>Add <span><code>pandoc.WriterOptions</code></span>
      constructor.</li>
      <li>Add function <span><code>pandoc.write</code></span>.</li>
      <li>Provide global <span><code>PANDOC_WRITER_OPTIONS</code></span> (<a href="https://github.com/jgm/pandoc/issues/5221">#5221</a>).</li>
      <li>The function Text.Pandoc.Filter.applyFilters now takes a
      filter environment of type <span><code>Environment</code></span>, instead of a
      ReaderOptions value [API change].</li>
      <li>The <span><code>Environment</code></span> type
      is exported from Text.Pandoc.Filter and allows to combine
      ReaderOptions and WriterOptions in a single value [API
      change].</li>
      <li>Global, exported from Text.Pandoc.Lua, has a new type
      constructor <span><code>PANDOC_WRITER_OPTIONS</code></span> [API
      change].</li>
      <li>Add constructors <span><code>pandoc.Blocks</code></span> and <span><code>pandoc.Inlines</code></span>. The functions
      convert their argument into a list of Block and Inline values,
      respectively. When applied to a string, they split the string into
      <span><code>Str</code></span> elements separated by
      <span><code>Space</code></span> or <span><code>SoftBreak</code></span> (<a href="https://github.com/jgm/pandoc/issues/7712">#7712</a>).</li>
      <li>Support topdown traversals The traversal order of filters can
      now be selected by setting the key <span><code>traverse</code></span> of the filter to
      either <span><code>&#39;topdown&#39;</code></span> or <span><code>&#39;typewise&#39;</code></span>; the default remains
      <span><code>&#39;typewise&#39;</code></span>. Topdown
      traversals can be cut short by returning <span><code>false</code></span> as a second value from
      the filter function. No child-element of the returned element is
      processed in that case.</li>
      <li>Marshal ReaderOptions field <span><code>extensions</code></span>, <span><code>track_changes</code></span> via JSON.
      Extensions are now available as a list of strings; the
      track-changes settings are given as the kebab-case representation
      used in JSON.</li>
      <li>Allow binary (byte string) readers to be used with <span><code>pandoc.read</code></span>.</li>
      <li>Use global state when parsing documents in <span><code>pandoc.read</code></span>. The function <span><code>pandoc.read</code></span> is updated to use
      the same state that was used while parsing the main input files.
      This ensures that log messages are preserved and that images
      embedded in the input are added to the mediabag.</li>
      <li>Cleanup stack in <span><code>peekReadOptionsTable</code></span>. A
      ReaderOptions element was left on top of the stack when the <span><code>peekReadOptionsTable</code></span> function
      was invoked.</li>
      <li><span><code>walk</code></span> methods are
      added to <span><code>Pandoc</code></span>, <span><code>Block</code></span>, <span><code>Inline</code></span>, <span><code>Blocks</code></span>, <span><code>Inlines</code></span> values; the methods are
      similar to <span><code>pandoc.utils.walk_block</code></span> and
      <span><code>pandoc.utils.walk_inline</code></span>,
      but apply to filter to the element’s contents.</li>
      <li>Functions of name <span><code>Doc</code></span>
      are no longer accepted as alternatives for <span><code>Pandoc</code></span> filter functions. This
      functionality was undocumented.</li>
      <li>Improve handling of empty caption, body by <span><code>from_simple_table</code></span> <a href="https://github.com/jgm/pandoc/issues/7776">#7776</a>).
      Create truly empty table caption and body when these are empty in
      the simple table.</li>
      <li>Change representation of <span><code>TableHead</code></span>, <span><code>TableFoot</code></span>, and <span><code>Row</code></span> values (<a href="https://github.com/jgm/pandoc/issues/7718">#7718</a>). The
      objects now also follow the principle that element attributes are
      accessible through the <span><code>.attr</code></span> field. Rows in <span><code>TableHead</code></span> and <span><code>TableFoot</code></span> are available via the
      <span><code>.rows</code></span> field. Row objects
      have a <span><code>.cells</code></span> field,
      containing the list of table cells.</li>
      <li><a href="https://bytes.zone/posts/pagerank-for-my-obsidian-notes/Simplify">Simplify</a> code of <span><code>pandoc.utils.stringify</code></span>. Minor
      behavior change: plain strings nested in tables are now included
      in the result string.</li>
      <li>Simplify and deprecate function <span><code>pandoc.utils.equals</code></span>. The
      function is no longer required for element comparisons; it is now
      an alias for the <span><code>==</code></span>
      operator.</li>
      <li>Add function <span><code>pandoc.utils.references</code></span> (<a href="https://github.com/jgm/pandoc/issues/7752">#7752</a>).</li>
      <li>Add new library function <span><code>pandoc.utils.type</code></span>. The function
      behaves like the default <span><code>type</code></span> function from Lua’s
      standard library, but is aware of pandoc userdata types. A typical
      use-case would be to determine the type of a metadata value.</li>
      <li>Fix return types of <span><code>blocks_to_inlines</code></span>, <span><code>make_sections</code></span>. Ensures the
      returned lists have the correct type (<span><code>Inlines</code></span> and <span><code>Blocks</code></span>, respectively).</li>
      <li>Use more natural representation for Reference values Omit
      <span><code>false</code></span> boolean values,
      push integers as numbers.</li>
      </ul></li>
      <li><p>Lua: use package pandoc-lua-marshal (<a href="https://github.com/jgm/pandoc/issues/7719">#7719</a>, Albert
      Krewinkel). The marshaling functions for pandoc’s AST are
      extracted into a separate package. The package comes with a number
      of changes:</p>
      <ul>
      <li>Pandoc’s List module was rewritten in C, and error messages
      were improved.</li>
      <li>Lists of <span><code>Block</code></span> and
      <span><code>Inline</code></span> elements are
      marshaled using the new list types <span><code>Blocks</code></span> and <span><code>Inlines</code></span>, respectively. These
      types currently behave identical to the generic List type, but
      give better error messages. This also opens up the possibility of
      adding element-specific methods to these lists in the future.</li>
      <li>Elements of type <span><code>MetaValue</code></span> are no longer pushed
      as values which have <span><code>.t</code></span>
      and <span><code>.tag</code></span> properties. This
      was already true for <span><code>MetaString</code></span> and <span><code>MetaBool</code></span> values, which are
      still marshaled as Lua strings and booleans, respectively.
      Affected values:
      <ul>
      <li><span><code>MetaBlocks</code></span> values are
      marshaled as a <span><code>Blocks</code></span>
      list;</li>
      <li><span><code>MetaInlines</code></span> values
      are marshaled as a <span><code>Inlines</code></span> list;</li>
      <li><span><code>MetaList</code></span> values are
      marshaled as a generic pandoc <span><code>List</code></span>s.</li>
      <li><span><code>MetaMap</code></span> values are
      marshaled as plain tables and no longer given any metatable.</li>
      </ul></li>
      <li><span><code>Cell</code></span> values are now
      marshaled as userdata objects; a constructor function for table
      cells is provided as <span><code>pandoc.Cell</code></span>.</li>
      <li>The test suite for marshaled objects and their constructors
      has been extended and improved.</li>
      <li>A bug in <span><code>Citation</code></span>
      objects, where setting a citation’s suffix modified it’s prefix,
      has been fixed.</li>
      <li>Inlines, Blocks, and List objects now have an <span><code>__eq</code></span> metamethod, testing
      equality by comparing two lists element-wise.</li>
      </ul></li>
      <li><p>Powerpoint tests: shorten lines by grouping tests (Albert
      Krewinkel). This makes the test output more pleasant to read in
      narrow terminal windows.</p></li>
      <li><p>make check: check for unreleased dependencies.</p></li>
      <li><p>Add <span><code>tools/build-and-upload-api-docs.sh</code></span>.</p></li>
      <li><p>Update cabal description.</p></li>
      <li><p><span><code>MANUAL.txt</code></span>: Add
      section on EPUB styling.</p></li>
      <li><p><span><code>MANUAL.txt</code></span>:
      clarify “standard Markdown” as “original Markdown” (<a href="https://github.com/jgm/pandoc/issues/7802">#7802</a>, Martin
      Fischer).</p></li>
      <li><p><span><code>doc/custom-writers.md</code></span>: use
      filter to include source of example.</p></li>
      <li><p>Add an example to <span><code>doc/custom-readers.md</code></span>.</p></li>
      <li><p>Fix typo in <span><code>custom-readers.md</code></span> (<a href="https://github.com/jgm/pandoc/issues/7722">#7722</a>, Mauro
      Bieg).</p></li>
      <li><p><span><code>doc/jats.md</code></span>: add
      link to JATS documentation (Martin Fischer).</p></li>
      <li><p><span><code>doc/lua-filters.md</code></span>: many
      improvements (Albert Krewinkel, John MacFarlane).</p></li>
      <li><p>Use commonmark-extensions 0.2.3. This allows a bare-word
      class attribute on fenced divs.</p></li>
      <li><p>Use ipynb 0.2.</p></li>
      <li><p>Use citeproc 0.6.0.1.</p></li>
      <li><p>Use texmath 0.12.4.</p></li>
      <li><p>Use doctemplates 0.10.0.1.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.16.2-2021-11-21">
      <h2><a href="#pandoc-2.16.2-2021-11-21" aria-hidden="true"></a>pandoc 2.16.2 (2021-11-21)</h2>
      <ul>
      <li><p>Add interface for custom readers written in Lua (<a href="https://github.com/jgm/pandoc/issues/7669">#7669</a>). Users
      can now do <span><code>-f myreader.lua</code></span> and pandoc will
      treat the script <span><code>myreader.lua</code></span> as a custom
      reader, which parses an input string to a pandoc AST, using the
      pandoc module defined for Lua filters. A sample custom reader can
      be found in <span><code>data/creole.lua</code></span>. Also see
      documentation in <span><code>doc/custom-readers.md</code></span>.</p></li>
      <li><p>New module Text.Pandoc.Readers.Custom, exporting <span><code>readCustom</code></span> [API
      change].</p></li>
      <li><p>Allow <span><code>plain</code></span> to be
      used in raw attribute syntax.</p></li>
      <li><p>Accept empty <span><code>--metadata-file</code></span> (<a href="https://github.com/jgm/pandoc/issues/7675">#7675</a>). This
      was a regression from 2.15 behavior.</p></li>
      <li><p>Markdown reader: Improve <span><code>inlinesInBalancedBrackets</code></span>. This
      is just a small improvement in terms of performance, but it’s
      simpler and more direct code. Also, we avoid parsing
      interparagraph spaces in balanced brackets, as the original
      did.</p></li>
      <li><p>BibTeX reader: Properly handle commented lines in
      BibTeX/BibLaTeX (<a href="https://github.com/jgm/pandoc/issues/7668">#7668</a>).</p></li>
      <li><p>RST reader: handle class attribute for for custom roles (<a href="https://github.com/jgm/pandoc/issues/7699">#7699</a>,
      willj-dev). Previously the class attribute was ignored, and the
      name of the role used as the class.</p></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Add <span><code>&lt;titleabbr&gt;</code></span>
      support (Rowan Rodrik van der Molen).</li>
      <li>Support for <span><code>&lt;indexterm&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/7607">#7607</a>, Rowan
      Rodrik van der Molen).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Add rudimentary support for <span><code>\autoref</code></span> (<a href="https://github.com/jgm/pandoc/issues/7693">#7693</a>).</li>
      <li>Add ‘uri’ class when parsing <span><code>\url</code></span>, for consistency with
      treatment of autolinks in other formats (<a href="https://github.com/jgm/pandoc/issues/7672">#7672</a>).</li>
      </ul></li>
      <li><p>JATS reader: Capture <span><code>alt-text</code></span> in figures (<a href="https://github.com/jgm/pandoc/issues/7703">#7703</a>, Aner
      Lucero).</p></li>
      <li><p>MediaWiki writer: use HTML spans for anchors when header
      has id (<a href="https://github.com/jgm/pandoc/issues/7697">#7697</a>). We
      need to generate a span when the header’s ID doesn’t match the one
      MediaWiki would generate automatically. Note that MediaWiki’s
      generation scheme is different from pandoc’s (it uses uppercase
      letters, and <span><code>_</code></span> instead of
      <span><code>-</code></span>, for example). This
      means that in going from markdown to mediawiki, we’ll now get
      spans before almost every heading, unless explicit identifiers are
      used that correspond to the ones MediaWiki auto-generates. This is
      uglier output but it’s necessary for internal links to work
      properly.</p></li>
      <li><p>Markdown writer: don’t create autolinks when this loses
      information (<a href="https://github.com/jgm/pandoc/issues/7692">#7692</a>).
      Previously we sometimes lost attributes when rendering links as
      autolinks.</p></li>
      <li><p>Text.Pandoc.Readers.Metadata: allow multiple YAML documents
      when parsing YAML for <span><code>yamlBsToRefs</code></span>. Some people use
      <span><code>---</code></span> as the end delimiter
      in YAML bibliography files, which causes the <span><code>yaml</code></span> library to emit an error
      unless we explicitly allow multiple YAML documents (and just
      consider the first).</p></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Ensure figures are wrapped with <span><code>&lt;p&gt;</code></span> in list items (Albert
      Krewinkel). This prevents the generation of invalid output.</li>
      <li>Add URL to element citation entries (Albert Krewinkel). The
      URL of a reference, if present, is added in tag <span><code>&lt;uri&gt;</code></span> to element-citation
      entries.</li>
      </ul></li>
      <li><p>HTML writer: Don’t create invalid <span><code>data-</code></span> attribute for empty
      attribute key (<a href="https://github.com/jgm/pandoc/issues/7546">#7546</a>).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Babel mappings: use <span><code>ancientgreek</code></span> for <span><code>grc</code></span>.</li>
      <li>With <span><code>-t latex-smart</code></span>,
      don’t generate <span><code>\ldots</code></span>
      from ellipsis (<a href="https://github.com/jgm/pandoc/issues/7674">#7674</a>).
      Instead just use unicode ellipsis.</li>
      </ul></li>
      <li><p>JATS template: fix <span><code>equal-contrib</code></span> attribute (Albert
      Krewinkel). The standard requires the value to be either <span><code>yes</code></span> or <span><code>no</code></span>, but is was set to <span><code>true</code></span> for authors who
      contributed equally.</p></li>
      <li><p>reveal.js template: Add <span><code>disableLayout</code></span> variable
      (Christophe Dervieux).</p></li>
      <li><p>Text.Pandoc.Error: sort errors in <span><code>handleError</code></span> by exit code
      (Albert Krewinkel).</p></li>
      <li><p>Text.Pandoc.Writers.Shared: Improve toLegacyTable (<a href="https://github.com/jgm/pandoc/issues/7683">#7683</a>,
      Christian Despres).</p></li>
      <li><p>Lua subsystem:</p>
      <ul>
      <li><p>Include lpeg module (<a href="https://github.com/jgm/pandoc/issues/7649">#7649</a>, Albert
      Krewinkel). Compiles the <span><code>lpeg</code></span> library (Parsing
      Expression Grammars For Lua) into the program. Package maintainers
      may choose to rely on package dependencies to make lpeg available,
      in which case they can compile the with the constraint <span><code>lpeg +rely-on-shared-lpeg-library</code></span>.
      <span><code>lpeg</code></span> and <span><code>re</code></span> are always made available in
      global variables, without the need for a <span><code>require</code></span>.</p></li>
      <li><p>Set <span><code>lpeg</code></span> and <span><code>re</code></span> as globals; allow shared lib
      access via <span><code>require</code></span>. The
      <span><code>lpeg</code></span> and <span><code>re</code></span> modules are loaded into
      globals of the respective name, but they are not necessarily
      registered as loaded packages. This ensures that</p>
      <ul>
      <li>the built-in library versions are preferred when setting the
      globals,</li>
      <li>a shared library is used if pandoc has been compiled without
      <span><code>lpeg</code></span>, and</li>
      <li>the <span><code>require</code></span> mechanism
      can be used to load the shared library if available, falling back
      to the internal version if possible and necessary.</li>
      </ul></li>
      <li><p>Fix argument order in constructor <span><code>pandoc.Cite</code></span> (Albert Krewinkel).
      This restores the old behavior; argument order had been switched
      accidentally in pandoc 2.15.</p></li>
      <li><p>Add Pushable instance for <span><code>ReaderOptions</code></span> (Albert
      Krewinkel).</p></li>
      <li><p>Allow to pass custom reader options to <span><code>pandoc.read</code></span> as an optional
      third argument (<a href="https://github.com/jgm/pandoc/issues/7656">#7656</a>, Albert
      Krewinkel). The object can either be a table or a ReaderOptions
      value like <span><code>PANDOC_READER_OPTIONS</code></span>. Creating
      new ReaderOptions objects is possible through the new constructor
      <span><code>pandoc.ReaderOptions</code></span>.</p></li>
      <li><p>Display Pandoc values using their native Haskell
      representation (Albert Krewinkel).</p></li>
      <li><p>Require latest hslua (2.0.1) (<a href="https://github.com/jgm/pandoc/issues/7661">#7661</a>, <a href="https://github.com/jgm/pandoc/issues/7657">#7657</a>, Albert
      Krewinkel). This fixes issues with</p>
      <ul>
      <li>misleading error messages when a required function parameter
      is omitted;</li>
      <li>absent properties still being listed in the output of <span><code>pairs</code></span>; and</li>
      <li>alias accessing leading to errors instead of returning <span><code>nil</code></span>, e.g. with <span><code>(pandoc.Str &#39;&#39;).identifier</code></span>.</li>
      </ul></li>
      <li><p>Add missing space in “package not found” message (<a href="https://github.com/jgm/pandoc/issues/7658">#7658</a>, Albert
      Krewinkel).</p></li>
      </ul></li>
      <li><p>Update build files (<a href="https://github.com/jgm/pandoc/issues/7696">#7696</a>, Fabián
      Heredia Montiel). Drop old windows 32-bit constraints. Update
      cabal <span><code>tested-with</code></span> field
      to correspond to <span><code>ci.yml</code></span>
      matrix</p></li>
      <li><p>Remove unneeded package dependencies from benchmark
      target.</p></li>
      <li><p>Require ghc &gt;= 8.6, base &gt;= 4.12. This allows us to
      get rid of the old custom prelude and some crufty cpp. But the
      primary reason for this is that conduit has bumped its base lower
      bound to 4.12, making it impossible for us to support lower base
      versions.</p></li>
      <li><p>Require Cabal 2.4. Use wildcards to ensure that all pptx
      tests are included (<a href="https://github.com/jgm/pandoc/issues/7677">#7677</a>).</p></li>
      <li><p>Update <span><code>bash_completion.tpl</code></span>
      (S.P.H.).</p></li>
      <li><p>Add <span><code>data/creole.lua</code></span> as sample
      custom reader.</p></li>
      <li><p>Add <span><code>doc/custom-readers.md</code></span> and <span><code>doc/custom-writers.md</code></span>.</p></li>
      <li><p><span><code>doc/lua-filters.md</code></span>: add section
      on global modules, including lpeg (Albert Krewinkel).</p></li>
      <li><p><span><code>MANUAL.txt</code></span>: update
      table of exit codes and corresponding errors (Albert
      Krewinkel).</p></li>
      <li><p>Use latest texmath.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.16.1-2021-11-02">
      <h2><a href="#pandoc-2.16.1-2021-11-02" aria-hidden="true"></a>pandoc 2.16.1 (2021-11-02)</h2>
      <ul>
      <li><p>Docx reader: don’t let first line indents trigger block
      quotes (<a href="https://github.com/jgm/pandoc/issues/7655">#7655</a>). This
      fixes a regression introduced in pandoc 2.15.</p></li>
      <li><p>Docx writer: use <span><code>getTimestamp</code></span> for modification
      times in reference.docx (<a href="https://github.com/jgm/pandoc/issues/7654">#7654</a>). This
      ensures that when <span><code>SOURCE_DATE_EPOCH</code></span> is set, the
      modification times of files taken from the reference.docx will be
      set deterministically, allowing for reproducible builds.</p></li>
      <li><p>Lua subsystem (Albert Krewinkel):</p>
      <ul>
      <li>Load module <span><code>pandoc.path</code></span> on startup (<a href="https://github.com/jgm/pandoc/issues/7524">#7524</a>).
      Previously the module always had to be loaded via <span><code>require &#39;pandoc.path&#39;</code></span>.</li>
      <li>Fix typo in SoftBreak constructor.</li>
      <li>Re-add <span><code>content</code></span>
      property to Strikeout elements. Fixes a regression introduced in
      2.15.</li>
      <li>Be more forgiving when retrieving the Image <span><code>caption</code></span> property. Fixes a
      regression introduced in 2.15.</li>
      <li>Display Attr values using their native Haskell
      representation.</li>
      <li>Allow omitting the 2nd parameter in pandoc.Code constructor.
      Fixes a regression introduced in 2.15 which required users to
      always specify an Attr value when constructing a Code
      element.</li>
      <li>Allow to compare, show Citation values. Comparisons of
      Citation values are performed in Haskell; values are equal if they
      represent the same Haskell value. Converting a Citation value to a
      string now yields its native Haskell string representation.</li>
      <li>Restore List behavior of MetaList (<a href="https://github.com/jgm/pandoc/issues/7650">#7650</a>). Fixes
      a regression introduced in 2.16 which had MetaList elements lose
      the <span><code>pandoc.List</code></span>
      properties.</li>
      <li>Restore <span><code>content</code></span>
      property on Header elements.</li>
      <li>Ensure Block elements have all expected properties.</li>
      <li>Ensure Inline elements have all expected properties.</li>
      </ul></li>
      <li><p>Allow tasty-bench 0.3.x.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.16-2021-10-31">
      <h2><a href="#pandoc-2.16-2021-10-31" aria-hidden="true"></a>pandoc 2.16 (2021-10-31)</h2>
      <ul>
      <li><p>Switch back from HsYAML to yaml for parsing YAML metadata
      (<a href="https://github.com/jgm/pandoc/issues/6084">#6084</a>).
      HsYAML is around 20 times slower in parsing large YAML
      bibliographies. In addition, HsYAML is not being actively
      maintained. This sets us back in our attempts to free ourselves
      from C dependencies (<a href="https://github.com/jgm/pandoc/issues/4535">#4535</a>). But I
      don’t see a good alternative until a faster pure Haskell parser is
      available. Notes:</p>
      <ul>
      <li>We’ve removed the FromYAML instances for all types that had
      them, since this is a HsYAML-specific typeclass [API change]. (The
      yaml package just uses From/ToJSON instead of having a dedicated
      From/ToYAML class.)</li>
      <li>Unlike HsYAML (in the configuration we were using), yaml
      parses ‘Y’, ‘N’, ‘Yes’, ‘No’, ‘On’, ‘Off’ as boolean values. Users
      may need to quote these when they are meant to be interpreted as
      strings. Similarly, ‘null’ is parsed as a YAML null value (and
      will be treated as an empty string by pandoc rather than the
      string ‘null’). Quoting it will force it to be interpreted as a
      string.</li>
      <li>Some tests had to be adjusted accordingly.</li>
      <li>Pandoc now behaves in a more useful way when the YAML metadata
      contains escaping errors: instead of just failng silently and
      falling back to some other interpretation of the section, it
      raises a YAML parsing error.</li>
      </ul></li>
      <li><p>Markdown writer: Ensure that special values are quoted in
      YAML metadata. These include “Y”, “yes”, “on”, and “off”, which
      are now (with yaml library) considered boolean values, as well as
      “null”.</p></li>
      <li><p>Change JSON encodings of some types.</p>
      <ul>
      <li>For LineEnding use lowercase constructors, e.g. <span><code>crlf</code></span>, <span><code>native</code></span>.</li>
      <li>For HTMLSlideVariant use lowercase constructors.</li>
      <li>For ReaderOptions use e.g. <span><code>default-image-extension</code></span> instead
      of <span><code>readerDefaultImageExtension</code></span> for
      field names.</li>
      <li>For Extension, use e.g. <span><code>tex_math_dollars</code></span> instead of
      <span><code>Ext_tex_math_dollars</code></span> as
      constructor.</li>
      <li>For Extensions, use an array of Extensions, instead of an
      object wrapping the tag <span><code>Extensions</code></span> and an integer. (The
      integer representation is not supposed to be part of the public
      API.)</li>
      <li>For Opt, use field names like <span><code>tab-stop</code></span> instead of <span><code>optTabStop</code></span>.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Add IDs to native_numbering test (Tristan Stenner).</li>
      <li>Move “:” out of the caption bookmark (Tristan Stenner). This
      is needed so that native references to the figure are included as
      “As seen in Figure X, it is…” instead of “As seen in [Figure: X,
      it is…”</li>
      </ul></li>
      <li><p>Lua (Albert Krewinkel, except as noted):</p>
      <ul>
      <li><p>Use hslua module abstraction where possible.</p></li>
      <li><p>Fix placement of tests for Block elements in pandoc module
      tests</p></li>
      <li><p>Increase strictness when getting attribute keys</p></li>
      <li><p>Re-add <span><code>t</code></span> and <span><code>tag</code></span> property to Attr values.
      Removal of these properties from Attr values was a
      regression.</p></li>
      <li><p>Fix <span><code>pandoc.utils.stringify</code></span>
      regression. The <span><code>pandoc.utils.stringify</code></span> function
      returned empty strings when called with a string
      argument.</p></li>
      <li><p>Fix a copy/paste bug in Lua marshalling code (John
      MacFarlane, <a href="https://github.com/jgm/pandoc/issues/7639">#7639</a>). This
      caused links to be changed to figures when Lua filters changed
      link properties.</p></li>
      <li><p>Re-add <span><code>content</code></span>
      property to Link elements (<a href="https://github.com/jgm/pandoc/issues/7647">#7647</a>). This
      was a regression introduced in version 2.15.</p></li>
      <li><p>Generate constants in module pandoc
      programmatically.</p></li>
      <li><p>Marshal SimpleTable, ListAttributes, Citation, and Block
      values as userdata objects. Properties of Block values are
      marshalled lazily, which generally improves performance
      considerably. Script users may also notice the following
      differences:</p>
      <ul>
      <li>Block element properties can no longer be accessed by
      numerical indexing of the <span><code>.c</code></span> field. The <span><code>.c</code></span> property now serves as an
      alias for <span><code>.content</code></span>, so
      some filter that used this undocumented method for property access
      may continue to work, while others will need to be updated and use
      proper property names.</li>
      <li>The marshalled Block elements now have a <span><code>show</code></span> method, and a <span><code>__tostring</code></span> metamethod. Both
      return the Haskell string representation of the element.</li>
      <li>Block values now have the Lua type <span><code>userdata</code></span> instead of <span><code>table</code></span>.</li>
      </ul></li>
      </ul></li>
      <li><p>Add a short guide to pandoc’s sources (Albert
      Krewinkel).</p></li>
      <li><p>Fix epub files in epub reader tests, so that they are valid
      according to epubcheck (<a href="https://github.com/jgm/pandoc/issues/7586">#7586</a>).</p></li>
      <li><p>Allow time 1.13.</p></li>
      <li><p>Require latest skylighting (0.12.1).</p></li>
      <li><p>Fix build on GHC 9.2 (Joseph C. Sible).</p></li>
      <li><p>Fix trypandoc so it builds with aeson &gt; 2.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.15-2021-10-23">
      <h2><a href="#pandoc-2.15-2021-10-23" aria-hidden="true"></a>pandoc 2.15 (2021-10-23)</h2>
      <ul>
      <li><p>Add <span><code>--sandbox</code></span>
      option (<a href="https://github.com/jgm/pandoc/issues/5045">#5045</a>).</p>
      <ul>
      <li>Add sandbox feature. When this option is used, readers and
      writers only have access to input files (and other files specified
      directly on command line). This restriction is enforced in the
      type system.</li>
      <li>Filters, PDF production, custom writers are unaffected. This
      feature only insulates the actual readers and writers, not the
      pipeline around them in Text.Pandoc.App.</li>
      <li>Note that when <span><code>--sandboxed</code></span> is specified,
      readers won’t have access to the resource path, nor will anything
      have access to the user data directory.</li>
      </ul></li>
      <li><p><span><code>--self-contained</code></span>:
      Fix bug that caused everything to be made a data URI (<a href="https://github.com/jgm/pandoc/issues/7635">#7635</a>, <a href="https://github.com/jgm/pandoc/issues/7367">#7367</a>). We
      only need to use data URIs in certain cases, but due to a bug they
      were being used always.</p></li>
      <li><p>Pandoc will now fall back to latin1 encoding for inputs
      that can’t be read as UTF-8. This is what it did previously for
      content fetched from the web and not marked as to content type. It
      makes sense to do the same for local files. In this case a <span><code>NotUTF8Encoded</code></span> warning will be
      issued, indicating that pandoc is interpreting the input as
      latin1.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Don’t parse links or bracketed spans as citations (<a href="https://github.com/jgm/pandoc/issues/7632">#7632</a>).
      Previously pandoc would parse <span><code>[link to (@a)](url)</code></span> as a
      citation; similarly <span><code>[(@a)]{#ident}</code></span>. This is
      undesirable. One should be able to use example references in
      citations, and even if <span><code>@a</code></span>
      is not defined as an example reference, <span><code>[@a](url)</code></span> should be a link
      containing an author-in-text citation rather than a normal
      citation followed by literal <span><code>(url)</code></span>.</li>
      <li>Fix interaction of <span><code>--strip-comments</code></span> and list
      parsing (<a href="https://github.com/jgm/pandoc/issues/7521">#7521</a>). Use
      of <span><code>--strip-comments</code></span> was
      causing tight lists to be rendered as loose (as if the comment
      were a blank line).</li>
      <li>Fix parsing bug for math in bracketed spans and links (<a href="https://github.com/jgm/pandoc/issues/7623">#7623</a>). This
      affects math with unbalanced brackets (e.g. <span><code>$(0,1]$</code></span>) inside links, images,
      bracketed spans.</li>
      <li>Fix code blocks using <span><code>--preserve-tabs</code></span> (<a href="https://github.com/jgm/pandoc/issues/7573">#7573</a>).
      Previously they did not behave as the equivalent input with spaces
      would.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Honor linenumbering attribute (Samuel Tardieu). The attribute
      DocBook <span><code>linenumbering=&#34;numbered&#34;</code></span> on
      code blocks maps to the <span><code>numberLines</code></span> class
      internally.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Implement siunitx v3 commands (<a href="https://github.com/jgm/pandoc/issues/7614">#7614</a>). We
      support <span><code>\unit</code></span>, <span><code>\qty</code></span>, <span><code>\qtyrange</code></span>, and <span><code>\qtylist</code></span> as synonynms of <span><code>\si</code></span>, <span><code>\SI</code></span>, <span><code>\SIrange</code></span>, and <span><code>\SIlist</code></span>.</li>
      <li>Properly handle <span><code>\^</code></span>
      followed by group closing (<a href="https://github.com/jgm/pandoc/issues/7615">#7615</a>).</li>
      <li>Recognize that <span><code>\vadjust</code></span> sometimes takes “pre”
      (<a href="https://github.com/jgm/pandoc/issues/7531">#7531</a>).</li>
      <li>Ignore (and gobble parameters of) CSLReferences environment
      (<a href="https://github.com/jgm/pandoc/issues/7531">#7531</a>).
      Otherwise we get the parameters as numbers in the output.</li>
      <li>Restrict <span><code>\endinput</code></span> to
      current file (Simun Schuster).</li>
      </ul></li>
      <li><p>RST reader: handle escaped colons in reference definitions
      (<a href="https://github.com/jgm/pandoc/issues/7568">#7568</a>).</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Handle empty tbody element in table (<a href="https://github.com/jgm/pandoc/issues/7589">#7589</a>).</li>
      </ul></li>
      <li><p>Ipynb reader (Kolen Cheung):</p>
      <ul>
      <li>Get cell output mime from <span><code>raw_mimetype</code></span> in addition to
      <span><code>format</code></span>. (<span><code>format</code></span> is what the spec calls
      for, but <span><code>raw_mimetype</code></span> is
      often used in practice; see jupyter/nbformat<a href="https://github.com/jgm/pandoc/issues/229">#229</a>).</li>
      <li>Add more formats that can be handled as “raw” cells.</li>
      <li>Fix mime type for <span><code>rst</code></span>.</li>
      <li>Support <span><code>text/markdown</code></span>, which is now a
      supported mime type for raw output (<a href="https://github.com/jgm/pandoc/issues/7561">#7561</a>).</li>
      </ul></li>
      <li><p>RTF reader:</p>
      <ul>
      <li>Support <span><code>\binN</code></span> for
      binary image data.</li>
      <li>If doc begins with { … } only parse its contents. Some
      documents seem to have non-RTF (e.g. XML) material after the <span><code>{\rtf1 ... }</code></span> group.</li>
      <li>Ignore <span><code>\pgdsc</code></span> group.
      Otherwise we get style names treated as test.</li>
      <li>Better handling of <span><code>\*</code></span>
      and bookmarks. We now ensure that groups starting with <span><code>\*</code></span> never cause text to be added
      to the document. In addition, bookmarks now create a span between
      the start and end of the bookmark, rather than an empty span.</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Avoid blockquote when parent style has more indent (Milan
      Bracke). When a paragraph has an indentation different from the
      parent (named) style, it used to be considered a blockquote. But
      this only makes sense when the paragraph has more indentation. So
      this commit adds a check for the indentation of the parent
      style.</li>
      <li>Fix handling of empty fields (Milan Bracke). Some fields only
      have an <span><code>instrText</code></span> and no
      content, Pandoc didn’t understand these, causing other fields to
      be misunderstood because it seemed like a field was still open
      when it wasn’t.</li>
      <li>Implement PAGEREF fields (Milan Bracke). These fields, often
      used in tables of contents, can be a hyperlink.</li>
      <li>Fix handling of nested fields (Milan Bracke). Fields delimited
      by <span><code>fldChar</code></span> elements can
      contain other fields. Before, the nested fields would be ignored,
      except for the end, which would be considered the end of the
      parent field.</li>
      <li>Add placeholder for word diagram instead of just omitting it
      (Ezwal).</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Don’t parse a list as first item in a list item (<a href="https://github.com/jgm/pandoc/issues/7557">#7557</a>).</li>
      <li>Allow an initial <span><code>:PROPERTIES:</code></span> drawer to add to
      metadata (<a href="https://github.com/jgm/pandoc/issues/7520">#7520</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Make id used in <span><code>native_numbering</code></span> predictable
      (<a href="https://github.com/jgm/pandoc/issues/7551">#7551</a>).
      If the image has the id IMAGEID, then we use the id ref_IMAGEID
      for the figure number. This allows one to create a filter that
      adds a figure number with figure name, e.g. <span><code>&lt;w:fldSimple w:instr=&#34; REF ref_superfig &#34;&gt;&lt;w:r&gt;&lt;w:t&gt;Figure X&lt;/w:t&gt; &lt;/w:r&gt;&lt;/w:fldSimple&gt;</code></span>.
      If an image lack an id, an id of the form <span><code>ref_fig1</code></span> is used.</li>
      </ul></li>
      <li><p>Ensure we have unique ids for <span><code>wp:docPr</code></span> and <span><code>pic:cNvPr</code></span> elements (<a href="https://github.com/jgm/pandoc/issues/7527">#7527</a>, <a href="https://github.com/jgm/pandoc/issues/7503">#7503</a>).</p></li>
      <li><p>Handle SVG images (<a href="https://github.com/jgm/pandoc/issues/4058">#4058</a>). This
      change has several parts:</p>
      <ul>
      <li>In Text.Pandoc.App, if the writer is docx, we fill the media
      bag and attempt to convert any SVG images to PNG, adding these to
      the media bag. The PNG backups have the same filenames as the SVG
      images, but with an added .png extension. If the conversion cannot
      be done (e.g. because rsvg-convert is not present), a warning is
      omitted.</li>
      <li>In Text.Pandoc.Writers.Docx, we now use Word 2016’s syntax for
      including SVG images. If a PNG fallback is present in the media
      bag, we include a link to that too.</li>
      </ul></li>
      <li><p>Powerpoint writer (Emily Bourke):</p>
      <ul>
      <li>Add support for more layouts (<a href="https://github.com/jgm/pandoc/issues/5097">#5097</a>). Up
      til now, four layouts were supported: “Title Slide” (used for the
      automatically generated metadata slide), “Section Header” (used
      for headings above slide level), “Two Column” (used when there’s a
      columns div), “Title and Content” (used for all other slides). We
      now support three additional layouts: “Comparison”, “Content with
      Caption”, and “Blank”. The manual describes the logic that
      determines which layout is used for a slide. Layouts may be
      customized in the reference doc.</li>
      <li>Support specifying slide background images using a <span><code>background-image</code></span> attribute on
      the slide’s heading. Only the “stretch” mode is supported, and the
      background image is centred around the slide in the image’s larger
      axis, matching the observed default behaviour of PowerPoint.</li>
      <li>Add support for incremental lists (through same methods as in
      other slide writers) (<a href="https://github.com/jgm/pandoc/issues/5689">#5689</a>).</li>
      <li>Copy embedded fonts from reference doc.</li>
      <li>Include all themes in output archive.</li>
      <li>Fix list level numbering (<a href="https://github.com/jgm/pandoc/issues/4828">#4828</a>, <a href="https://github.com/jgm/pandoc/issues/4663">#4663</a>). In
      PowerPoint, the content of a top-level list is at the same level
      as the content of a top-level paragraph: the only difference is
      that a list style has been applied. Previously, the writer
      incremented the paragrap h level on each list, turning what should
      be top-level lists into second-level lists.</li>
      <li>Line up list continuation paragraphs. This commit changes the
      <span><code>marL</code></span> and <span><code>indent</code></span> values used for plain
      paragraphs and numbered lists, and changes the spacing defined in
      the reference doc master for bulleted lists. For paragraphs, there
      is now a left-indent taken from the <span><code>otherStyle</code></span> in the master. For
      numbered lists, the number is positioned where the text would be
      if this were a plain paragraph, and the text is indented to the
      next level. This means that continuation paragraphs line up nicely
      with numbered lists. Existing reference docs may need to be
      modified so that <span><code>otherStyle</code></span> and <span><code>bodyStyle</code></span> indent levels match,
      for this feature to work with them.</li>
      <li>Consolidate text runs when possible (jgm). This slims down the
      output files by avoiding unnecessary text run elements.</li>
      <li>Support footers in the reference doc. There is one behaviour
      which may not be immediately obvious: if the reference doc
      specifies a fixed date (i.e. not automatically updating), and
      there’s a date specified in the metadata for the document, the
      footer date is replaced by the metadata date.</li>
      <li>Fix presentation rel numbering. Before now, the numbering of
      <span><code>rId</code></span>s was inconsistent
      when making the presentation XML and when making the presentation
      relationships XML.</li>
      <li>Don’t add relationships unnecessarily. Before now, for any
      layouts added to the output from the default reference doc, the
      relationships were unconditionally added to the output. However,
      if there was already a layout in slideMaster1 at the same index
      then that results in duplicate relationships.</li>
      <li>If slide level is 0, don’t insert a slide break between a
      heading and a following table, “columns” div, or paragraph
      starting with an image.</li>
      <li>Fix capitalisation of <span><code>notesMasterId</code></span>.</li>
      <li>Restructure tests.</li>
      </ul></li>
      <li><p>Asciidoc writer:</p>
      <ul>
      <li>Translate numberLines attribute to <span><code>linesnum</code></span> switch (Samuel
      Tardieu).</li>
      <li>Improve escaping for <span><code>--</code></span> in URLs (<a href="https://github.com/jgm/pandoc/issues/7529">#7529</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Make babel use more idiomatic (<a href="https://github.com/jgm/pandoc/issues/7604">#7604</a>, hseg).
      Use babel’s bidi implementation. Import babel languages
      individually instead of as package options. Move <span><code>header-includes</code></span> to after <span><code>babel</code></span> setup so it can be
      modified.</li>
      <li>Use babel, not polyglossia, with xelatex. Previously
      polyglossia worked better with xelatex, but that is no longer the
      case, so we simplify the code so that babel is used with all latex
      engines. This involves a change to the default LaTeX
      template.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Avoid bad wraps at the Doc Text level. Previously we tried to
      do this at the Inline list level, but it makes more sense to
      intervene on breaking spaces at the Doc Text level.</li>
      <li>Use <span><code>underline</code></span> class
      rather than <span><code>ul</code></span> for
      underline. This only affects output with <span><code>bracketed_spans</code></span> enabled. The
      markdown reader parses spans with either <span><code>.ul</code></span> or <span><code>.underline</code></span> as Underline
      elements, but we’re moving towards preferring the latter.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li><p>Properly handle anchors to ids with spaces or leading
      underscore (<a href="https://github.com/jgm/pandoc/issues/7593">#7593</a>). In
      this cases we need the quoted form, e.g.</p>
      <pre><code>.. _`foo bar`:

.. _`_foo`:</code></pre>
      <p>Side note: rST will “normalize” these identifiers anyway,
      ignoring the underscore.</p></li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Render <span><code>\ref</code></span> and <span><code>\eqref</code></span> as inline math, not
      display (see <a href="https://github.com/jgm/pandoc/issues/7589">#7589</a>).</li>
      <li>Pass through <span><code>\ref</code></span> and
      <span><code>\eqref</code></span> if MathJax is used
      (<a href="https://github.com/jgm/pandoc/issues/7587">#7587</a>).</li>
      <li>Pass through inline math environments with KaTeX.</li>
      <li>Support <span><code>--reference-location</code></span> for HTML
      output (<a href="https://github.com/jgm/pandoc/issues/7461">#7461</a>,
      Francesco Mazzoli).</li>
      <li>Set “hash” to True by default (for reveal.js) (<a href="https://github.com/jgm/pandoc/issues/7574">#7574</a>). See
      <a href="https://github.com/jgm/pandoc/issues/6968">#6968</a>
      where the motivation for setting “hash” to True is explained.</li>
      </ul></li>
      <li><p>Native writer: Use pretty-show to format native output (<a href="https://github.com/jgm/pandoc/issues/7580">#7580</a>).
      Previously we used our own homespun formatting. But this produces
      over-long lines that aren’t ideal for diffs in tests. Performance
      is slower by about a factor of 10, but this isn’t really a problem
      because native isn’t suitable as a serialization format. (For
      serialization you should use json, because the reader is so much
      faster than native.)</p></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Don’t indent contents of code blocks. We previously indented
      them by two spaces, following a common convention. Since the
      convention is fading, and the indentation is inconvenient for
      copy/paste, we are discontinuing this practice.</li>
      <li>Update list of supported source languages in org writer (<a href="https://github.com/jgm/pandoc/issues/5440">#5440</a>).</li>
      </ul></li>
      <li><p>Ipynb writer (Kolen Cheung):</p>
      <ul>
      <li>Improve round trip identity for raw cell output. See
      jupyter/nbformat<a href="https://github.com/jgm/pandoc/issues/229">#229</a>. The
      Jupyter ecosystem, including nbconvert, lab and notebook, deviated
      from their own spec in nbformat, where they used the key <span><code>raw_mimetype</code></span> instead of <span><code>format</code></span>. Moreover, the mime-type
      of rst used in Jupyter deviated from that suggested by
      https://docutils.sourceforge.io/FAQ.html and is defined as <span><code>text/restructuredtext</code></span> when
      chosen from “Raw NBConvert Format” in Jupyter. The new behavior
      should matche the real world usage better, hence improving the
      round-trip “identity” in raw-cell.</li>
      <li>Add more formats that can be handled as “raw” cells.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Add EPUB3 subject metadata (authority/term) (nuew). This adds
      the ability to specify EPUB 3 <span><code>authority</code></span> and <span><code>term</code></span> specific refinements to
      the <span><code>subject</code></span> tag.
      Specifying a plain <span><code>subject</code></span> tag in metadata will
      function as before.</li>
      <li>Treat epub:type “frontispiece” as front matter (<a href="https://github.com/jgm/pandoc/issues/7600">#7600</a>).</li>
      </ul></li>
      <li><p>reveal.js template: Fix line numbers in source code (<a href="https://github.com/jgm/pandoc/issues/7634">#7634</a>). We
      need <span><code>overflow: visible</code></span>
      for these to work, and reveal’s default css disables this. So we
      re-enable it in the default template.</p></li>
      <li><p>Text.Pandoc.Writers.Shared:</p>
      <ul>
      <li>Export <span><code>splitSentences</code></span>
      as a Doc Text transform [API change]. Use this in man/ms. We used
      to attempt automatic sentence splitting in man and ms output,
      since sentence-ending periods need to be followed by two spaces or
      a newline in these formats. But it’s difficult to do this reliably
      at the level of <span><code>[Inline]</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Translations: small revisions for compatibility
      with aeson 2.</p></li>
      <li><p>Don’t prepend <span><code>file://</code></span> to <span><code>--syntax-definition</code></span> on Windows
      (<a href="https://github.com/jgm/pandoc/issues/6374">#6374</a>).
      This was a fix for a problem in skylighting, but this problem
      doesn’t exist now that we’ve moved from HXT to
      xml-conduit.</p></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li>Add <span><code>Ext_footnotes</code></span> to
      default <span><code>gfm</code></span> etxensions.
      Now <span><code>gfm</code></span> supports
      footnotes.</li>
      <li>Alphabetize Extension constructors (also affects <span><code>--list-extensions</code></span>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc.Util: Better implementation of <span><code>splitStrWhen</code></span>. Previously the
      citeproc code had two less efficient implementations.</p></li>
      <li><p>Update documentation for definition_list extension (<a href="https://github.com/jgm/pandoc/issues/7594">#7594</a>). In
      2015, we relaxed indentation requirements for the first line of a
      definition (see commit d3544dc and issue <a href="https://github.com/jgm/pandoc/issues/2087">#2087</a>), but
      the documnentation wasn’t updated to reflect the change.</p></li>
      <li><p>Text.Pandoc.Citeproc.BibTeX: Fix expansion of special
      strings in series e.g. <span><code>newseries</code></span> or <span><code>library</code></span> (<a href="https://github.com/jgm/pandoc/issues/7591">#7591</a>).
      Expansion should not happen when these strings are protected in
      braces, or when they’re capitalized.</p></li>
      <li><p>Text.Pandoc.Logging: add <span><code>NotUTF8Encoded</code></span> constructor to
      <span><code>LogMessage</code></span> [API
      change].</p></li>
      <li><p>Text.Pandoc.App.FormatHeuristics: remove <span><code>.tei.xml</code></span> extension for TEI (<a href="https://github.com/jgm/pandoc/issues/7630">#7630</a>). This
      never worked, because <span><code>takeExtension</code></span> only returns
      <span><code>.xml</code></span>. So it won’t be
      missed if we remove it.</p></li>
      <li><p>Text.Pandoc.Image:</p>
      <ul>
      <li>Generalize <span><code>svgToPng</code></span>
      to MonadIO.</li>
      <li><span><code>svgToPng</code></span>, change
      first parameter from WriterOptions to Int.</li>
      </ul></li>
      <li><p>Text.Pandoc.Class:</p>
      <ul>
      <li>Add <span><code>readStdinStrict</code></span>
      method to PandocMonad [API change].</li>
      <li>Generalize type of <span><code>extractMedia</code></span> [API change]. It
      was uselessly restricted to PandocIO, instead of any instance of
      PandocMonad and MonadIO.</li>
      </ul></li>
      <li><p>Text.Pandoc.Class.PandocIO: derive MonadCatch, MonadThrow,
      MonadMask. This allows us to use <span><code>withTempDir</code></span> [API
      change].</p></li>
      <li><p>Add module Text.Pandoc.Class.Sandbox, defining <span><code>sandbox</code></span>. Exported via
      Text.Pandoc.Class. [API change]</p></li>
      <li><p>Text.Pandoc.Filter: Generalize type of <span><code>applyFilters</code></span> from PandocIO to
      any instance of MonadIO and PandocMonad [API change].</p></li>
      <li><p>Text.Pandoc.PDF: generalize type of <span><code>makePDF</code></span>: instead of PandocIO,
      it can be used in any instance of PandocMonad, MonadIO, and
      MonadMask [API change].</p></li>
      <li><p>Lua subsystem and custom writers: generalize types from
      PandocIO to any instance of PandocMonad and MonadIO [API change].
      The type of <span><code>runLua</code></span> is
      now</p>
      <pre><code>(PandocMonad m, MonadIO m) =&gt;
LuaE PandocError a -&gt; m (Either PandocError a)</code></pre>
      <p>The change from <span><code>Lua</code></span> to
      <span><code>LuaE PandocError</code></span> is due
      to the switch to hslua-2.0; see next item.</p></li>
      <li><p>Lua modules (Albert Krewinkel):</p>
      <ul>
      <li>Switch to hslua-2.0. The new HsLua version takes a somewhat
      different approach to marshalling and unmarshalling, relying less
      on typeclasses and more on specialized types. This allows for
      better performance and improved error messages. Furthermore, new
      abstractions allow to document the code and exposed
      functions.</li>
      <li>Marshal Version values, Inline elements, Attr elements, and
      Pandoc elements as userdata.</li>
      <li>Remove deprecated inline constructors <span><code>DoubleQuoted</code></span>, <span><code>SingleQuoted</code></span>, <span><code>DisplayMath</code></span>, and <span><code>InlineMath</code></span>.</li>
      <li>Attr values are no longer normalized when assigned to an
      Inline element property.</li>
      <li>It’s no longer possible to access parts of Inline elements via
      numerical indexes. E.g., <span><code>pandoc.Span(&#39;test&#39;)[2]</code></span> used to
      give <span><code>pandoc.Str &#39;test&#39;</code></span>,
      but yields <span><code>nil</code></span> now. This
      was undocumented behavior not intended to be used in user scripts.
      Use named properties instead.</li>
      <li>Accessing <span><code>.c</code></span> to get a
      JSON-like tuple of all components no longer works. This was
      undocumented behavior.</li>
      <li>Only known properties can be set on an element value. Trying
      to set a different property will now raise an error.</li>
      <li>Adds a new <span><code>pandoc.AttributeList()</code></span>
      constructor, which creates the associative attribute list that is
      used as the third component of <span><code>Attr</code></span> values. Values of this
      type can often be passed to constructors instead of <span><code>Attr</code></span> values.</li>
      <li>Convert IOErrors to PandocErrors in <span><code>pandoc.pipe</code></span> function (<a href="https://github.com/jgm/pandoc/issues/7523">#7523</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF: Previously we had to run <span><code>runIOorExplode</code></span> inside <span><code>withTempDir</code></span>. Now that PandocIO
      is an instance of MonadMask, this is no longer necessary.</p></li>
      <li><p>Text.Pandoc.App:</p>
      <ul>
      <li>Reorganize to make it easier to limit IO in main loop.
      Previously we used liftIO fairly liberally. The code has been
      restructured to avoid this.</li>
      <li>Move output-file writing out of PandocMonad action.</li>
      </ul></li>
      <li><p>Text.Pandoc.App.OutputSettings: Generalize some types so we
      can run this with any instance of PandocMonad and MonadIO, not
      just PandocIO.</p></li>
      <li><p>Use <span><code>simpleFigure</code></span>
      builder in readers and <span><code>SimpleFigure</code></span> pattern synonym in
      writers (Aner Lucero).</p></li>
      <li><p>Allow time 1.12.</p></li>
      <li><p>Use skylighting-0.12, skylighting-core-0.12. This fixes
      highlighting issues with typescript, scala, and other syntaxes
      that include keyword lists from different syntaxes.</p></li>
      <li><p>Use citeproc 0.6, commonmark 0.2.2.1, commonmark-extensions
      0.2.2, texmath 0.12.3.2, ipynb 0.1.0.2. (These changes also allow
      building with aeson &gt;= 2.)</p></li>
      <li><p>Require doclayout &gt;= 0.3.1.1. This fixes recognition of
      “real widths” of emoji characters, which is important for tabular
      layout.</p></li>
      <li><p>Cut out over 100K of fat in epub test golden
      files.</p></li>
      <li><p>Make <span><code>test/epub/wasteland.epub</code></span>
      valid.</p></li>
      <li><p>Add missing <span><code>%</code></span> on
      some command tests. This prevented <span><code>--accept</code></span> from working
      properly.</p></li>
      <li><p>Command tests: raise error if command doesn’t begin with
      <span><code>%</code></span>.</p></li>
      <li><p>OOXML tests: use pretty-printed form to display diffs.
      Otherwise everything is on one line and the diff is
      uninformative.</p></li>
      <li><p>Fix compareXML helper in Tests.Writers.OOXML. Given how it
      is used, we were getting “mine” and “good” flipped in the test
      results.</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Clarify <span><code>attributes</code></span>
      extension support (William Lupton).</li>
      <li>Document formats affected by <span><code>--reference-location</code></span>.</li>
      <li>Document error code 25</li>
      <li>Add some more info regarding <span><code>--slide-level=0</code></span> (Salim B).</li>
      <li>Add more to security section of manual.</li>
      <li>Mention support of <span><code>title-toc</code></span> (<a href="https://github.com/jgm/pandoc/issues/7171">#7171</a>,
      Christophe Dervieux).</li>
      </ul></li>
      <li><p>doc/lua-filters.md:</p>
      <ul>
      <li>Add missing type for Image title (Quinn).</li>
      <li>Improve order of Image fields (Quinn).</li>
      <li>Rephrase pandoc.path docs (<a href="https://github.com/jgm/pandoc/issues/7548">#7548</a>,
      Quinn).</li>
      <li>Do not leak working directory in TikZ filter (Jeroen de
      Haas).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.14.2-2021-08-21">
      <h2><a href="#pandoc-2.14.2-2021-08-21" aria-hidden="true"></a>pandoc 2.14.2 (2021-08-21)</h2>
      <ul>
      <li><p>Allow <span><code>--slide-level=0</code></span> (<a href="https://github.com/jgm/pandoc/issues/7476">#7476</a>). When
      the slide level is set to 0, headings won’t be used at all in
      splitting the document into slides. Horizontal rules must be used
      to separate slides.</p></li>
      <li><p>Add RTF reader (<a href="https://github.com/jgm/pandoc/issues/3982">#3982</a>). <span><code>rtf</code></span> is now supported as an
      input format as well as an output format. New module
      Text.Pandoc.Readers.RTF (exporting <span><code>readRTF</code></span>). [API change]</p></li>
      <li><p>HTML reader: treat comments as blank when parsing (<a href="https://github.com/jgm/pandoc/issues/7482">#7482</a>).</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fix raw LaTeX injection issue (<a href="https://github.com/jgm/pandoc/issues/7497">#7497</a>). Using
      a code block containing <span><code>\end{verbatim}</code></span>, one could
      inject raw TeX into a LaTeX document even when <span><code>raw_tex</code></span> is disabled. Thanks to
      Augustin Laville for noticing the bug.</li>
      <li>Multimarkdown sub- and superscripts (<a href="https://github.com/jgm/pandoc/issues/5512">#5512</a>,
      OCzarnecki). Added an extension <span><code>short_subsuperscripts</code></span> which
      modifies the behavior of <span><code>subscript</code></span> and <span><code>superscript</code></span>, allowing
      subscripts or superscripts containing only alphanumerics to end
      with a space character (eg. <span><code>x^2 = 4</code></span> or <span><code>H~2 is   combustible</code></span>). This
      improves support for multimarkdown.</li>
      </ul></li>
      <li><p>RST reader: Fix <span><code>:literal:</code></span> includes (<a href="https://github.com/jgm/pandoc/issues/7513">#7513</a>). These
      should create code blocks, not insert raw RST.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Proper implicit grouping around environment macros.</li>
      <li>Support <span><code>\global</code></span>
      before <span><code>\def</code></span>, <span><code>\let</code></span>, etc. (<a href="https://github.com/jgm/pandoc/issues/7494">#7494</a>).</li>
      <li>Fix scope for LaTeX macros (<a href="https://github.com/jgm/pandoc/issues/7494">#7494</a>). They
      should by default scope over the group in which they are defined
      (except <span><code>\gdef</code></span> and <span><code>\xdef</code></span>, which are global). In
      addition, environments must be treated as groups.</li>
      <li>Improve handling of plain TeX macro primitives (<a href="https://github.com/jgm/pandoc/issues/7474">#7474</a>). Fixed
      semantics for <span><code>\let</code></span>.</li>
      <li>Implement <span><code>\edef</code></span>,
      <span><code>\gdef</code></span>, and <span><code>\xdef</code></span>.</li>
      </ul></li>
      <li><p>Docx reader: Improve docx reader’s robustness in extracting
      images (<a href="https://github.com/jgm/pandoc/issues/7511">#7511</a>). The
      docx reader made some assumptions about how docx containers were
      laid out that were not always true, with the result that some
      images in documents did not get extracted.</p></li>
      <li><p>LaTeX writer: Increase table column width precision (<a href="https://github.com/jgm/pandoc/issues/7466">#7466</a>, Peter
      Fabinski). In some cases, the rounding performed by the LaTeX
      table writer would introduce visible overrun outside the text
      area. This adds two more decimal places to the width
      values.</p></li>
      <li><p>Powerpoint writer:</p>
      <ul>
      <li>Include image title in description (<a href="https://github.com/jgm/pandoc/issues/7352">#7352</a>, Emily
      Bourke). The image title (i.e. <span><code>![alt text](link &#34;title&#34;)</code></span>) was
      previously ignored when writing to pptx. This commit includes it
      in PowerPoint’s description of the image, along with the
      link.</li>
      <li>Select layouts from reference doc by name (Emily Bourke).
      Until now, users had to make sure that their reference doc
      contains layouts in a specific order: the first four layouts in
      the file had to have a specific structure. Now the layout
      selection uses the layout names rather than order: users must make
      sure their reference doc contains four layouts with specific
      names, and if a layout with the right name isn’t found pandoc will
      emit a warning and use the corresponding layout from the default
      reference doc as a fallback.</li>
      </ul></li>
      <li><p>Docx writer: be sensitive to the <span><code>native_numbering</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/7499">#7499</a>).
      Figure and table numbers are now only included if <span><code>native_numbering</code></span> is enabled.
      (By default it is disabled.) This is a behavior change with
      respect to 2.14.1, but the default behavior is now that of
      previous versions. The change was necessary to avoid
      incompatibilities between pandoc’s native numbering and
      third-party cross reference filters like pandoc-crossref.</p></li>
      <li><p>RTF writer:</p>
      <ul>
      <li>Omit <span><code>\bin</code></span> in <span><code>\pict</code></span>. According to the spec,
      this is not needed or wanted when the data is in hexadecimal
      format, as here.</li>
      <li>Emit ``` for section headings.</li>
      </ul></li>
      <li><p>RTF template: specify font family for fixed-width font f1.
      According to the spec, this is mandatory.</p></li>
      <li><p>LaTeX writer: Use ulem for underline (<a href="https://github.com/jgm/pandoc/issues/7351">#7351</a>). ulem
      is conditionally included already when the <span><code>strikeout</code></span> variable is set, so
      we set this when there is underlined text, and use <span><code>\uline</code></span> instead of <span><code>\underline</code></span>. This fixes wrapping
      for underlined text.</p></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Revise citeproc code to fit new citeproc 0.5 API (thanks to
      Benjamin Bray). Linkification of URLs in the bibliography is now
      done in the citeproc library, depending on the setting of an
      option. We set that option depending on the value of the metadata
      field <span><code>link-bibliography</code></span>
      (defaulting to true, for consistency with earlier behavior). If a
      DOI, PMID, PMCID, or URL field is present but not explicitly
      rendered, the title (or if no title, the whole entry) is
      hyperlinked. These changes implement the recommendations from the
      draft CSL v1.0.2 spec (Appendix VI): <a href="https://github.com/citation-style-language/documentation/blob/master/specification.rst#appendix-vi-links">https://github.com/citation-style-language/documentation/blob/master/specification.rst#appendix-vi-links</a></li>
      <li>Avoid odd handling of quotes. Recent citeproc changes allow us
      to ignore Quoted elements; citeproc now uses its own method for
      represented quoted things, and only localizes and flipflops quotes
      it adds itself. Convert Quoted in bib entries to special Spans
      before passing them off to citeproc. This ensures that we get
      proper localization and flipflopping if, e.g., quotes are used in
      titles (jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/87">#87</a>).</li>
      <li>Removed quote localization from citeproc processing. This is
      now done in citeproc itself.</li>
      </ul></li>
      <li><p>Text.Pandoc.Logging: Add PowerpointTemplateWarning log
      message type [API change] (Emily Bourke).</p></li>
      <li><p>Text.Pandoc.Extension: Add <span><code>Ext_short_subsuperscripts</code></span>
      constructor to <span><code>Extension</code></span>
      [API change] (OCzarnecki).</p></li>
      <li><p>Various sample.lua editorial fixes (<a href="https://github.com/jgm/pandoc/issues/7493">#7493</a>, <a href="https://github.com/jgm/pandoc/issues/7487">#7487</a>,
      William Lupton).</p></li>
      <li><p>Bump base-compat version so we get compatibility with base
      4.12.</p></li>
      <li><p>Use Prelude from base-compat for ghc 8.4 too.</p></li>
      <li><p>Add haskell-language-server to shell.nix (<a href="https://github.com/jgm/pandoc/issues/7496">#7496</a>, Emily
      Bourke).</p></li>
      <li><p>Tests.Helpers: export testGolden and use it in RTF reader.
      This gives a diff output on failure.</p></li>
      <li><p>Remove obsolete and incorrect sentence in <span><code>--slide-level</code></span> docs.</p></li>
      <li><p>Add internal module Text.Pandoc.Network.HTTP, exporting
      <span><code>urlEncode</code></span>.</p></li>
      <li><p>Text.Pandoc.Parsing: <span><code>parseFromString</code></span>: preserve at
      least the source directory (<a href="https://github.com/jgm/pandoc/issues/7464">#7464</a>).
      Previously we just set the source name to “chunk” when parsing
      from strings, to avoid misleading source positions. This had the
      side effect that <span><code>rebase_relative_paths</code></span> would
      break inside sections that were parsed as strings. So, now we use
      “ORIGINAL_SOURCE_PATH_chunk” instead of just “chunk”.</p></li>
      <li><p>Text.Pandoc.MIME: use image/x-xcf instead of
      application/x-xcf (<a href="https://github.com/jgm/pandoc/issues/7454">#7454</a>).</p></li>
      <li><p>Don’t compare <span><code>cdLine</code></span> in OOXML golden tests
      (Emily Bourke). The <span><code>cdLine</code></span> field gives the line of
      the file some CData was found on, which reflects irrelevant
      formatting differences.</p></li>
      <li><p>Provide more detailed XML diff in tests (Emily
      Bourke).</p></li>
      <li><p>OOXML tests: silence warnings. These can make the test
      output confusing, making people think tests are failing when
      they’re passing.</p></li>
      <li><p>INSTALL.md: Add GitLab CI/CD example (<a href="https://github.com/jgm/pandoc/issues/7448">#7448</a>,
      Veratyr).</p></li>
      <li><p>MANUAL.txt</p>
      <ul>
      <li>Clarifications (William Lupton).</li>
      <li>Add a note on security risks of include directives.</li>
      </ul></li>
      <li><p>Document use of the ‘underline’ class (<a href="https://github.com/jgm/pandoc/issues/7492">#7492</a>, <a href="https://github.com/jgm/pandoc/issues/7484">#7484</a>,
      William Lupton).</p></li>
      <li><p>Add a FAQ about the “Cannot allocate memory” error on M1
      macs.</p></li>
      <li><p>Use texmath 0.12.3.1.</p></li>
      <li><p>Use released citeproc 0.5.</p></li>
      <li><p>Remove dependency on HTTP package (<a href="https://github.com/jgm/pandoc/issues/7456">#7456</a>,
      mt_caret).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.14.1-2021-07-18">
      <h2><a href="#pandoc-2.14.1-2021-07-18" aria-hidden="true"></a>pandoc 2.14.1 (2021-07-18)</h2>
      <ul>
      <li><p>Text.Pandoc.ImageSize: Add Tiff constructor for ImageType
      (<a href="https://github.com/jgm/pandoc/issues/7405">#7405</a>)
      [Minor API change]. This allows pandoc to get size information
      from tiff images.</p></li>
      <li><p>Markdown reader: don’t try to read contents in self-closing
      HTML tag. Previously we had problems parsing raw HTML with
      self-closing tags like <span><code>&lt;col/&gt;</code></span>. The problem was
      that pandoc would look for a closing tag to close the markdown
      contents, but the closing tag had, in effect, already been parsed
      by <span><code>htmlTag</code></span>.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Avoid trailing hyphen in translating languages (<a href="https://github.com/jgm/pandoc/issues/7447">#7447</a>).
      Previously <span><code>\foreignlanguage{english}</code></span>
      turned into <span><code>&lt;span lang=&#34;en-&#34;&gt;</code></span>. The
      same issue affected Arabic.</li>
      <li>Support <span><code>\cline</code></span> in
      LaTeX tables (<a href="https://github.com/jgm/pandoc/issues/7442">#7442</a>).</li>
      <li>Improved parsing of raw LaTeX from Text streams (<span><code>rawLaTeXParser</code></span>, used to read
      LaTeX in Markdown files, <a href="https://github.com/jgm/pandoc/issues/7434">#7434</a>). We
      now use source positions from the token stream to tell us how much
      of the text stream to consume. Getting this to work required a few
      other changes to make token source positions accurate.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Handle images with imageobjectco elements (<a href="https://github.com/jgm/pandoc/issues/7440">#7440</a>).</li>
      <li>Add support for citerefentry (<a href="https://github.com/jgm/pandoc/issues/7437">#7437</a>, Jan
      Tojnar).</li>
      </ul></li>
      <li><p>RST reader: fix regression with code includes (<a href="https://github.com/jgm/pandoc/issues/7436">#7436</a>). With
      the recent changes to include infrastructure, included code blocks
      were getting an extra newline.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Recognize data-external when reading HTML img tags (<a href="https://github.com/jgm/pandoc/issues/7429">#7429</a>,
      Michael Hoffmann). Preserve all attributes in img tags. If
      attributes have a <span><code>data-</code></span>
      prefix, it will be stripped. In particular, this preserves a <span><code>data-external</code></span> attribute as an
      <span><code>external</code></span> attribute in the
      pandoc AST.</li>
      <li>Add col, colgroup to ‘closes’ definitions</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Remove duplicated alt text in HTML output (Aner Lucero).</li>
      <li>Remove <span><code>aria-hidden</code></span>
      when explicit alt text is provided (Aner Lucero).</li>
      <li>Set boolean values for reveal.js variables.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Add table numbering for captioned tables. The numbers are
      added using fields, so that Word can create a list of tables that
      will update automatically.</li>
      <li>Support figure numbers. These are set up in such a way that
      they will work with Word’s automatic table of figures (<a href="https://github.com/jgm/pandoc/issues/7392">#7392</a>).</li>
      </ul></li>
      <li><p>Markdown writer: put space between Plain and following
      fenced Div (<a href="https://github.com/jgm/pandoc/issues/4465">#4465</a>).</p></li>
      <li><p>EPUB writer: Don’t incorporate externally linked images in
      EPUB documents (<a href="https://github.com/jgm/pandoc/issues/7430">#7430</a>,
      Michael Hoffmann). Just as it is possible to avoid incorporating
      an image in EPUB by passing <span><code>data-external=&#34;1&#34;</code></span> to a raw HTML
      snippet, this makes the same possible for native Images, by
      looking for an associated <span><code>external</code></span> attribute.</p></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Fix <span><code>svgIn</code></span> path error
      (<a href="https://github.com/jgm/pandoc/issues/7431">#7431</a>).
      We were duplicating the temp directory; this didn’t cause problems
      on macOS or linux because there we use absolute paths for the temp
      directory. But on Windows it caused errors converting SVG
      files.</li>
      <li><span><code>convertImage</code></span>:
      normalize paths (<a href="https://github.com/jgm/pandoc/issues/7431">#7431</a>). This
      will avoid paths on Windows with mixed path separators.</li>
      </ul></li>
      <li><p>Text.Pandoc.Class: Always use / when adding directory to
      image destination with <span><code>extractMedia</code></span>, even on
      Windows.</p></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Allow <span><code>$</code></span> characters in
      bibtex keys (<a href="https://github.com/jgm/pandoc/issues/7409">#7409</a>).</li>
      <li>Set proper initial source name in parsing BibTeX (for better
      error messages.)</li>
      <li>Revamp note citation handling (<a href="https://github.com/jgm/pandoc/issues/7394">#7394</a>). Use
      latest citeproc, which uses a Span with a class rather than a Note
      for notes. This helps us distinguish between user notes and
      citation notes. Don’t put citations at the beginning of a note in
      parentheses. Fix small bug in handling of citations in notes,
      which led to commas at the end of sentences in some cases.</li>
      <li>Cleanup and efficiency improvement in <span><code>deNote</code></span>.</li>
      <li>Improve punctuation moving with <span><code>--citeproc</code></span>. Previously, using
      <span><code>--citeproc</code></span> could cause
      punctuation to move in quotes even when there aer no citations.
      This has been changed; punctuation moving is now limited to
      citations. In addition, we only move footnotes around punctuation
      if the style is a note style, even if <span><code>notes-after-punctuation</code></span> is
      <span><code>true</code></span>.</li>
      </ul></li>
      <li><p>Use citeproc 0.10. This helps improve note citations (see
      above) and eliminates double hyperlinks in author-in-text
      citations. Author-only citations are no longer hyperlinked. See
      jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/77">#77</a>. It also
      fixes moving of punctuation inside quotes to conform to the CSL
      spec: only comma and period are moved, not question mark or
      exclamation point.</p></li>
      <li><p>Text.Pandoc.Error: fix line calculations in reporting
      parsec errors. Also remove a spurious initial newline in the error
      report.</p></li>
      <li><p>Use doctemplates 0.4.1, which gives us better support for
      boolean variable values. Previously <span><code>$if(foo)$</code></span> would evaluate to
      true for variables with boolean <span><code>false</code></span> values, because it cared
      only about the string rendering (<a href="https://github.com/jgm/pandoc/issues/7402">#7402</a>).</p></li>
      <li><p>Require commonmark-pandoc &gt;= 0.2.2.1. This fixes task
      lists with multiple paragraphs.</p></li>
      <li><p>Use skylighting 0.11.</p></li>
      <li><p>CSS in HTML template: reset overflow-wrap on code blocks
      (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/7423">#7423</a>).</p></li>
      <li><p>LaTeX template: Revert change in PR <a href="https://github.com/jgm/pandoc/issues/7295">#7295</a>: “move
      title, author, date up to top of preamble.” The change caused
      problem for people who used LaTeX commands defined defined later
      in the preamble in the title or author fields (<a href="https://github.com/jgm/pandoc/issues/7422">#7422</a>).</p></li>
      <li><p>Add <span><code>doc/faqs.md</code></span>.
      This is imported from the website; in the future the website
      version will be drawn from here. Added a FAQ on the use of <span><code>\AtEndPreamble</code></span> for cases when
      the contents of <span><code>header-includes</code></span> need to refer
      to definitions that come later in the preamble. See <a href="https://github.com/jgm/pandoc/issues/7422">#7422</a>.</p></li>
      <li><p>Upgrade Debian 10 AMI for build-arm.sh.</p></li>
      <li><p>CircleCI: change to using xcode 11.1.0 (macOS 10.14.4). We
      previously built on 10.13, but 10.13 no longer gets security
      updates and CirclCI is deprecating.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.14.0.3-2021-06-22">
      <h2><a href="#pandoc-2.14.0.3-2021-06-22" aria-hidden="true"></a>pandoc 2.14.0.3 (2021-06-22)</h2>
      <ul>
      <li>Text.Pandoc.MediaBag <span><code>insertMediaBag</code></span>: ensure we get a
      sane mediaPath for URLs (<a href="https://github.com/jgm/pandoc/issues/7391">#7391</a>). In
      earlier 2.14.x versions, we’d get incorrect paths for resources
      downloaded from URLs when the media are extracted (including in
      PDF production).</li>
      <li>Text.Pandoc.Parsing: improve <span><code>emailAddress</code></span> (<a href="https://github.com/jgm/pandoc/issues/7398">#7398</a>).
      Previously the parser would accept characters in domains that are
      illegal in domains, and this sometimes caused it to gobble bits of
      the following text.</li>
      <li>txt2tags reader: modify the email address parser so it still
      includes form parameters, even after the change to <span><code>emailAddress</code></span> in
      Text.Pandoc.Parsing.</li>
      <li>Text.Pandoc.Readers.Metadata: Fix regression with comment-only
      YAML metadata blocks (<a href="https://github.com/jgm/pandoc/issues/7400">#7400</a>).</li>
      <li>reveal.js writer and template: better handling of options.
      Previously it was impossible to specify false values for options
      that default to true (e.g. <span><code>center</code></span>); setting the option to
      false just caused the portion of the template setting the option
      to be omitted. Now we prepopulate all the variables with their
      default values, including them all unconditionally and allowing
      them to be overridden.</li>
      <li>Markdown writer: Fix regression in code blocks with attributes
      (<a href="https://github.com/jgm/pandoc/issues/7397">#7397</a>).
      Code blocks with a single class but nonempty attributes were
      having attributes drop as a result of <a href="https://github.com/jgm/pandoc/issues/7242">#7242</a>.</li>
      <li>LaTeX writer:
      <ul>
      <li>Add strut at end of minipage if it contains line breaks.
      Without them, the last line is not as tall as it should be in some
      cases.</li>
      <li>Always use a minipage for cells with line breaks, when width
      information is available (<a href="https://github.com/jgm/pandoc/issues/7393">#7393</a>).
      Otherwise the way we treat them can lead to content that overflows
      a cell.</li>
      <li>Use <span><code>\strut</code></span> instead of
      <span><code>~</code></span> before <span><code>\\</code></span> in empty line.</li>
      </ul></li>
      <li>Use lts-18.0 stack resolver.</li>
      <li>Require skylighting 0.10.5.2 (adding support for Swift).</li>
      <li>Require commonmark 0.2.1.</li>
      <li>Rephrase section on unsafe HTML in manual.</li>
      <li>Create SECURITY.md</li>
      </ul>
      </section>
      <section id="pandoc-2.14.0.2-2021-06-13">
      <h2><a href="#pandoc-2.14.0.2-2021-06-13" aria-hidden="true"></a>pandoc 2.14.0.2 (2021-06-13)</h2>
      <ul>
      <li><p>Fix MediaBag regressions (<a href="https://github.com/jgm/pandoc/issues/7345">#7345</a>). iIn
      the 2.14 release <span><code>--extract-media</code></span> stopped working
      as before; there could be mismatches between the paths in the
      rendered document and the extracted media. This patch makes
      several changes that restore the earlier behavior (while keeping
      the same API). The <span><code>mediaPath</code></span> in 2.14 was always
      constructed from the SHA1 hash of the media contents. Now, we
      preserve the original path unless it’s an absolute path or
      contains <span><code>..</code></span> segments (in
      that case we use a path based on the SHA1 hash of the
      contents).</p>
      <p>In Text.Pandoc.MediaBag, <span><code>mediaDirectory</code></span> and <span><code>mediaItems</code></span> now use the <span><code>mediaPath</code></span>, rather than the
      mediabag key, for the first component of the tuple. This makes
      more sense, I think, and fits with the documentation of these
      functions; eventually, though, we should rework the API so that
      <span><code>mediaItems</code></span> returns both
      the keys and the MediaItems.</p>
      <p>In Text.Pandoc.Class.IO, rewriting of source paths in <span><code>extractMedia</code></span> has been
      fixed.</p>
      <p>In Text.Pandoc.Class.PandocMonad, <span><code>fillMediaBag</code></span> has been modified
      so that it doesn’t modify image paths (that was part of the
      problem in <a href="https://github.com/jgm/pandoc/issues/7345">#7345</a>).</p>
      <p>We now do path normalization (e.g. <span><code>\</code></span> separators on Windows) in
      writing the media.</p></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Text.Pandoc.PDF: Fix regression in 2.14 for generation of PDFs
      with SVGs (<a href="https://github.com/jgm/pandoc/issues/7344">#7344</a>).</li>
      <li>Only print relevant part of environment on <span><code>--verbose</code></span>. Since <span><code>--verbose</code></span> output might be put
      in an issue, we want to avoid spilling out secrets in environment
      variables.</li>
      </ul></li>
      <li><p>Markdown reader: fix pipe table regression in 2.11.4 (<a href="https://github.com/jgm/pandoc/issues/7343">#7343</a>).
      Previously pipe tables with empty headers (that is, a header line
      with all empty cells) would be rendered as headerless tables. This
      broke in 2.11.4. The fix here is to produce an AST with an empty
      table head when a pipe table has all empty header cells.</p></li>
      <li><p>LaTeX reader: don’t allow optional <span><code>*</code></span> on symbol control sequences
      (<a href="https://github.com/jgm/pandoc/issues/7340">#7340</a>).
      Generally we allow optional starred variants of LaTeX commands
      (since many allow them, and if we don’t accept these explicitly,
      ignoring the star usually gives acceptable results). But we don’t
      want to do this for <span><code>\(*\)</code></span>
      and similar cases.</p></li>
      <li><p>Docx reader: handle absolute URIs in Relationship Target
      (<a href="https://github.com/jgm/pandoc/issues/7374">#7374</a>).</p></li>
      <li><p>Docx writer: fix handling of empty table headers (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/7369">#7369</a>). A
      table header which does not contain any cells is now treated as an
      empty header.</p></li>
      <li><p>LaTeX writer: Fix regression in table header position (<a href="https://github.com/jgm/pandoc/issues/7347">#7347</a>). In
      recent versions the table headers were no longer bottom-aligned
      (if more than one line). This patch fixes that by using minipages
      for table headers in non-simple tables.</p></li>
      <li><p>CommonMark writer:</p>
      <ul>
      <li>Do not use simple class for fenced-divs (Jan Tojnar, amends <a href="https://github.com/jgm/pandoc/issues/7242">#7242</a>.)</li>
      <li>Do not throw away attributes when <span><code>Ext_attributes</code></span> is enabled.
      <span><code>Ext_attributes</code></span> covers at
      least the following: <span><code>Ext_fenced_code_attributes</code></span>,
      <span><code>Ext_header_attributes</code></span>,
      <span><code>Ext_inline_code_attributes</code></span>,
      <span><code>Ext_link_attributes</code></span>.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Allow <span><code>pipe_tables</code></span> to
      be disabled for commonmark formats (<span><code>commonmark_x</code></span>, <span><code>gfm</code></span>) (<a href="https://github.com/jgm/pandoc/issues/7375">#7375</a>).</li>
      <li>Re-use functions from Text.Pandoc.Markdown.Inline (Jan
      Tojnar).</li>
      </ul></li>
      <li><p>DocBook writer: Remove non-existent admonitions (Jan
      Tojnar). <span><code>attention</code></span>, <span><code>error</code></span> and <span><code>hint</code></span> are reStructuredText
      specific.</p></li>
      <li><p>HTML writer: Don’t omit width attribute on div (<a href="https://github.com/jgm/pandoc/issues/7342">#7342</a>).</p></li>
      <li><p>Text.Pandoc.MIME, <span><code>extensionFromMimeType</code></span>: add a
      few special cases. When we do a reverse lookup in the MIME table,
      we just get the last match, so when the same mime type is
      associated with several different extensions, we sometimes got
      weird results, e.g. <span><code>.vs</code></span>
      for <span><code>text/plain</code></span>. These
      special cases help us get the most standard extensions for mime
      types like <span><code>text/plain</code></span>.</p></li>
      <li><p>Lua utils: fix handling of table headers in <span><code>from_simple_table</code></span> (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/7369">#7369</a>).
      Passing an empty list of header cells now results in an empty
      table header.</p></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Avoid duplicate classes and attributes on references div.</li>
      <li>Fix regression in citeproc processing (<a href="https://github.com/jgm/pandoc/issues/7376">#7376</a>). If
      inline references are used (in the metadata <span><code>references</code></span> field), we should
      still only include in the bibliography items that are actually
      cited (unless <span><code>nocite</code></span> is
      used).</li>
      </ul></li>
      <li><p>Require citeproc 0.4.0.1. This fixes a bug which led to
      doubled “et al.” in some (rare) circumstances.</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Mention GladTeX for EPUB export (Sebastian Humenda). This
      updates the manual and the web site about the GladTeX usage.</li>
      <li>More details and a useful link for YAML syntax.</li>
      </ul></li>
      <li><p>CONTRIBUTING.md: update modules overview (Albert
      Krewinkel).</p></li>
      <li><p>using-the-pandoc-api.md: switch from String to Text (Albert
      Krewinkel).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.14.0.1-2021-06-01">
      <h2><a href="#pandoc-2.14.0.1-2021-06-01" aria-hidden="true"></a>pandoc 2.14.0.1 (2021-06-01)</h2>
      <ul>
      <li><p>Commonmark reader: Fix regression in 2.14 with YAML metdata
      block parsing, which could cause the document body to be omitted
      after metadata (<a href="https://github.com/jgm/pandoc/issues/7339">#7339</a>).</p></li>
      <li><p>HTML reader: fix column width regression in 2.14 (<a href="https://github.com/jgm/pandoc/issues/7334">#7334</a>).
      Column widths specified with a style attribute were off by a
      factor of 100.</p></li>
      <li><p>Markdown reader: in <span><code>rebasePaths</code></span>, check for both
      Windows and Posix absolute paths. Previously Windows pandoc was
      treating <span><code>/foo/bar.jpg</code></span> as
      non-absolute.</p></li>
      <li><p>Text.Pandoc.Logging: In rendering <span><code>LoadedResource</code></span>, use relative
      paths.</p></li>
      <li><p>Docx writer: fix regression on captions (<a href="https://github.com/jgm/pandoc/issues/7328">#7328</a>). The
      “Table Caption” style was no longer getting applied. (It was
      overwritten by “Compact.”)</p></li>
      <li><p>Use commonmark-extensions 0.2.1.2</p></li>
      </ul>
      </section>
      <section id="pandoc-2.14-2021-05-28">
      <h2><a href="#pandoc-2.14-2021-05-28" aria-hidden="true"></a>pandoc 2.14 (2021-05-28)</h2>
      <ul>
      <li><p>Change reader types, allowing better tracking of source
      positions [API change]. Previously, when multiple file arguments
      were provided, pandoc simply concatenated them and passed the
      contents to the readers, which took a Text argument. As a result,
      the readers had no way of knowing which file was the source of any
      particular bit of text. This meant that we couldn’t report
      accurate source positions on errors or include accurate source
      positions as attributes in the AST. More seriously, it meant that
      we couldn’t resolve resource paths relative to the files
      containing them (see e.g. <a href="https://github.com/jgm/pandoc/issues/5501">#5501</a>, <a href="https://github.com/jgm/pandoc/issues/6632">#6632</a>, <a href="https://github.com/jgm/pandoc/issues/6384">#6384</a>, <a href="https://github.com/jgm/pandoc/issues/3752">#3752</a>).</p></li>
      <li><p>Add <span><code>rebase_relative_paths</code></span> extension
      (<a href="https://github.com/jgm/pandoc/issues/3752">#3752</a>).
      When enabled, this extension rewrites relative image and link
      paths by prepending the (relative) directory of the containing
      file. This behavior is useful when your input sources are split
      into multiple files, across several directories, with files
      referring to images stored in the same directory. The extension
      can be enabled for all markdown and commonmark-based
      formats.</p></li>
      <li><p>Add Text.Pandoc.Sources (exported module), with a <span><code>Sources</code></span> type and a <span><code>ToSources</code></span> class. A <span><code>Sources</code></span> wraps a list of <span><code>(SourcePos, Text)</code></span> pairs [API
      change]. A parsec <span><code>Stream</code></span>
      instance is provided for <span><code>Sources</code></span>. The module also
      exports versions of parsec’s <span><code>satisfy</code></span> and other Char parsers
      that track source positions accurately from a <span><code>Sources</code></span> stream (or any instance
      of the new <span><code>UpdateSourcePos</code></span>
      class).</p></li>
      <li><p>Text.Pandoc.Parsing</p>
      <ul>
      <li>Export the modified Char parsers defined in
      Text.Pandoc.Sources instead of the ones parsec provides. Modified
      parsers to use a <span><code>Sources</code></span>
      as stream [API change].</li>
      <li>Improve include file functions [API change]. Remove old <span><code>insertIncludedFileF</code></span>. Give <span><code>insertIncludedFile</code></span> a more
      general type, allowing it to be used where <span><code>insertIncludedFileF</code></span> was.</li>
      <li>Add parameter to the <span><code>citeKey</code></span> parser from
      Text.Pandoc.Parsing, which controls whether the <span><code>@{..}</code></span> syntax is allowed [API
      change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Error: Modified the constructor <span><code>PandocParsecError</code></span> to take a
      <span><code>Sources</code></span> rather than a
      <span><code>Text</code></span> as first argument,
      so parse error locations can be accurately reported.</p></li>
      <li><p>Fix source position reporting for YAML bibliographies (<a href="https://github.com/jgm/pandoc/issues/7273">#7273</a>).</p></li>
      <li><p>Issue error message when reader or writer format is
      malformed (<a href="https://github.com/jgm/pandoc/issues/7231">#7231</a>).
      Previously we exited with an error status but (due to a bug) no
      message.</p></li>
      <li><p>Smarter smart quotes (<a href="https://github.com/jgm/pandoc/issues/7216">#7216</a>, <a href="https://github.com/jgm/pandoc/issues/2103">#2103</a>). Treat
      a leading <span><code>&#34;</code></span> with no
      closing <span><code>&#34;</code></span> as a left curly
      quote. This supports the practice, in fiction, of continuing
      paragraphs quoting the same speaker without an end quote. It also
      helps with quotes that break over lines in line blocks.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Use MetaInlines not MetaBlocks for multimarkdown metadata
      fields. This gives better results in converting to e.g. pandoc
      markdown.</li>
      <li>Implement curly-brace syntax for Markdown citation keys (<a href="https://github.com/jgm/pandoc/issues/6026">#6026</a>). The
      change provides a way to use citation keys that contain special
      characters not usable with the standard citation key syntax.
      Example: <span><code>@{foo_bar{x}&#39;}</code></span>
      for the key <span><code>foo_bar{x}</code></span>.
      It also allows separating citation keys from immediately following
      text, e.g. <span><code>@{foo}A</code></span>.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Seek include files in the directory of the file containing the
      include directive, as RST requires (<a href="https://github.com/jgm/pandoc/issues/6632">#6632</a>).</li>
      <li>Use <span><code>insertIncludedFile</code></span> from
      Text.Pandoc.Parsing instead of reproducing much of its code.</li>
      </ul></li>
      <li><p>Org reader: Resolve org includes relative to the directory
      containing the file containing the INCLUDE directive (<a href="https://github.com/jgm/pandoc/issues/5501">#5501</a>).</p></li>
      <li><p>ODT reader: Treat tabs as spaces (<a href="https://github.com/jgm/pandoc/issues/7185">#7185</a>,
      niszet).</p></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Add handling of vml image objects (<a href="https://github.com/jgm/pandoc/issues/7257">#7257</a>,
      mbrackeantidot).</li>
      <li>Support new table features (Emily Bourke, <a href="https://github.com/jgm/pandoc/issues/6316">#6316</a>):
      column spans, row spans, multiple header rows, table description
      (parsed as a simple caption), captions, column widths.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Improved siunitx support (<a href="https://github.com/jgm/pandoc/issues/6658">#6658</a>, <a href="https://github.com/jgm/pandoc/issues/6620">#6620</a>).</li>
      <li>Better support for <span><code>\xspace</code></span> (<a href="https://github.com/jgm/pandoc/issues/7299">#7299</a>).</li>
      <li>Improve parsing of <span><code>\def</code></span> macros. We previously set
      “verbatim mode” even for parsing the initial <span><code>\def</code></span>; this caused problems for
      <span><code>\def</code></span> nested inside
      another <span><code>\def</code></span>.</li>
      <li>Implement <span><code>\newif</code></span>.</li>
      </ul></li>
      <li><p>ConTeXt writer: improve ordered lists (<a href="https://github.com/jgm/pandoc/issues/5016">#5016</a>, Denis
      Maier). Change ordered list from itemize to enumerate. Add new
      itemgroup for ordered lists. Remove manual insertion of width
      attributes. Use tabular figures in ordered list
      enumerators.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Don’t fail on unmatched closing “script” tag (Albert Krenkel,
      <a href="https://github.com/jgm/pandoc/issues/7282">#7282</a>).</li>
      <li>Keep h1 tags as normal headers (<a href="https://github.com/jgm/pandoc/issues/2293">#2293</a>, Albert
      Krewinkel). The tags <span><code>&lt;title&gt;</code></span> and <span><code>&lt;h1 class=&#34;title&#34;&gt;</code></span> often
      contain the same information, so the latter was dropped from the
      document. However, as this can lead to loss of information, the
      heading is now always retained. Use <span><code>--shift-heading-level-by=-1</code></span> to
      turn the <span><code>&lt;h1&gt;</code></span> into
      the document title, or a filter to restore the previous
      behavior.</li>
      <li>Handle relative lengths (e.g. <span><code>2*</code></span>) in HTML column widths (<a href="https://github.com/jgm/pandoc/issues/4063">#4063</a>). See
      <a href="https://www.w3.org/TR/html4/types.html#h-6.6">https://www.w3.org/TR/html4/types.html#h-6.6</a>.</li>
      </ul></li>
      <li><p>DocBook/JATS readers:</p>
      <ul>
      <li>Fix mathml regression caused by the switch in XML libraries
      (<a href="https://github.com/jgm/pandoc/issues/7173">#7173</a>).</li>
      <li>Fix “phrase” in DocBook: take classes from “role” not “class”
      (<a href="https://github.com/jgm/pandoc/issues/7195">#7195</a>).</li>
      </ul></li>
      <li><p>DocBook reader: ensure that first and last names are
      separated (<a href="https://github.com/jgm/pandoc/issues/6541">#6541</a>).</p></li>
      <li><p>Jira reader (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/7218">#7218</a>):</p>
      <ul>
      <li>Support “smart” links: <span><code>[alias|https://example.com|smart-card]</code></span>
      syntax.</li>
      <li>Allow spaces and most unicode characters in attachment
      links.</li>
      <li>No longer require a newline character after <span><code>{noformat}</code></span>.</li>
      <li>Only allow URI path segment characters in bare links.</li>
      <li>The <span><code>file:</code></span> schema is
      no longer allowed in bare links; these rarely make sense.</li>
      </ul></li>
      <li><p>Plain writer: handle superscript unicode minus (<a href="https://github.com/jgm/pandoc/issues/7276">#7276</a>).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Better handling of line breaks in simple tables (<a href="https://github.com/jgm/pandoc/issues/7272">#7272</a>). Now
      we also handle the case where they’re embedded in other elements,
      e.g. spans.</li>
      <li>For beamer output, support <span><code>exampleblock</code></span> and <span><code>alertblock</code></span> (<a href="https://github.com/jgm/pandoc/issues/7278">#7278</a>). A
      block will be rendered as an <span><code>exampleblock</code></span> if the heading has
      class <span><code>example</code></span> and an
      <span><code>alertblock</code></span> if it has
      class <span><code>alert</code></span>.</li>
      <li>Separate successive quote chars with thin space (<a href="https://github.com/jgm/pandoc/issues/6958">#6958</a>, Albert
      Krewinkel). Successive quote characters are separated with a thin
      space to improve readability and to prevent unwanted ligatures.
      Detection of these quotes sometimes had failed if the second quote
      was nested in a span element.</li>
      <li>Separate successive quote chars with thin space (<a href="https://github.com/jgm/pandoc/issues/6958">#6958</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>EPUB Writer: Fix belongs-to-collection XML id choice (<a href="https://github.com/jgm/pandoc/issues/7267">#7267</a>, nuew).
      The epub writer previously used the same XML id for both the book
      identifier and the epub collection. This causes an error on
      epubcheck.</p></li>
      <li><p>BibTeX/BibLaTeX writer: Handle <span><code>annote</code></span> field (<a href="https://github.com/jgm/pandoc/issues/7266">#7266</a>).</p></li>
      <li><p>ZimWiki writer: allow links and emphasis in headers (<a href="https://github.com/jgm/pandoc/issues/6605">#6605</a>, Albert
      Krewinkel).</p></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Support blank lines in line blocks (<a href="https://github.com/jgm/pandoc/issues/6564">#6564</a>, Albert
      Krewinkel, thanks to <span data-cites="denismaier">@denismaier</span>).</li>
      <li>Use span identifiers as reference anchors (<a href="https://github.com/jgm/pandoc/issues/7246">#7246</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Keep attributes from code nested below <span><code>pre</code></span> tag (<a href="https://github.com/jgm/pandoc/issues/7221">#7221</a>, Albert
      Krewinkel). If a code block is defined with <span><code>&lt;pre&gt;&lt;code   class=&#34;language-x&#34;&gt;…&lt;/code&gt;&lt;/pre&gt;</code></span>,
      where the <span><code>&lt;pre&gt;</code></span>
      element has no attributes, then the attributes from the <span><code>&lt;code&gt;</code></span> element are used
      instead. Any leading <span><code>language-</code></span> prefix is dropped in
      the code’s <span><code>class</code></span>
      attribute are dropped to improve syntax highlighting.</li>
      <li>Ensure headings only have valid attribs in HTML4 (<a href="https://github.com/jgm/pandoc/issues/5944">#5944</a>, Albert
      Krewinkel).</li>
      <li>Parse <span><code>&lt;header&gt;</code></span>
      as a Div (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Inline latex envs need newlines (<a href="https://github.com/jgm/pandoc/issues/7252">#7252</a>,
      tecosaur). As specified in
      https://orgmode.org/manual/LaTeX-fragments.html, an inline
      LaTeX block must start on a new line.</li>
      <li>Use LaTeX style maths deliminators (<a href="https://github.com/jgm/pandoc/issues/7196">#7196</a>,
      tecosaur).</li>
      </ul></li>
      <li><p>JATS writer (Albert Krewinkel):</p>
      <ul>
      <li>Use either styled-content or named-content for spans (<a href="https://github.com/jgm/pandoc/issues/7211">#7211</a>). If
      the element has a content-type attribute, or at least one class,
      then that value is used as <span><code>content-type</code></span> and the span is
      put inside a <span><code>&lt;named-content&gt;</code></span> element.
      Otherwise a <span><code>&lt;styled-content&gt;</code></span> element
      is used instead.</li>
      <li>Reduce unnecessary use of <span><code>&lt;p&gt;</code></span> elements for wrapping
      (<a href="https://github.com/jgm/pandoc/issues/7227">#7227</a>).
      The <span><code>&lt;p&gt;</code></span> element is
      used for wrapping in cases were the contents would otherwise not
      be allowed in a certain context. Unnecessary wrapping is avoided,
      especially around quotes (<span><code>&lt;disp-quote&gt;</code></span>
      elements).</li>
      <li>Convert spans to <span><code>&lt;named-content&gt;</code></span> elements
      (<a href="https://github.com/jgm/pandoc/issues/7211">#7211</a>).
      Spans with attributes are converted to <span><code>&lt;named-content&gt;</code></span> elements
      instead of being wrapped with <span><code>&lt;milestone-start/&gt;</code></span> and
      <span><code>&lt;milestone-end&gt;</code></span>
      elements. Milestone elements are not allowed in documents using
      the articleauthoring tag set, so this change ensures the creation
      of valid documents.</li>
      <li>Add footnote number as label in backmatter (<a href="https://github.com/jgm/pandoc/issues/7210">#7210</a>).
      Footnotes in the backmatter are given the footnote’s number as a
      label. The articleauthoring output is unaffected from this change,
      as footnotes are placed inline there.</li>
      <li>Escape disallows chars in identifiers. XML identifiers must
      start with an underscore or letter, and can contain only a limited
      set of punctuation characters. Any IDs not adhering to these rules
      are rewritten by writing the offending characters as <span><code>Uxxxx</code></span>, where <span><code>xxxx</code></span> is the character’s hex
      code.</li>
      </ul></li>
      <li><p>Jira writer: use <span><code>{color}</code></span> when span has a color
      attribute (Albert Krewinkel, tarleb/jira-wiki-markup<a href="https://github.com/jgm/pandoc/issues/10">#10</a>).</p></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Autoset table width if no column has an explicit width (Albert
      Krewinkel).</li>
      <li>Extract Table handling into separate module (Albert
      Krewinkel).</li>
      <li>Support colspans and rowspans in tables (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6315">#6315</a>).</li>
      <li>Support multirow table headers (Albert Krewinkel).</li>
      <li>Improve integration of settings from reference.docx (<a href="https://github.com/jgm/pandoc/issues/1209">#1209</a>). This
      change allows users to create a reference.docx that sets <span><code>w:proofState</code></span> for spelling or
      grammar to <span><code>dirty</code></span>, so that
      spell/grammar checking will be triggered on the generated
      docx.</li>
      <li>Copy over more settings from reference.docx (<a href="https://github.com/jgm/pandoc/issues/7240">#7240</a>). From
      settings.xml in the reference-doc, we now include: <span><code>zoom</code></span>, <span><code>embedSystemFonts</code></span>, <span><code>doNotTrackMoves</code></span>, <span><code>defaultTabStop</code></span>, <span><code>drawingGridHorizontalSpacing</code></span>,
      <span><code>drawingGridVerticalSpacing</code></span>,
      <span><code>displayHorizontalDrawingGridEvery</code></span>,
      <span><code>displayVerticalDrawingGridEvery</code></span>,
      <span><code>characterSpacingControl</code></span>,
      <span><code>savePreviewPicture</code></span>, <span><code>mathPr</code></span>, <span><code>themeFontLang</code></span>, <span><code>decimalSymbol</code></span>, <span><code>listSeparator</code></span>, <span><code>autoHyphenation</code></span>, <span><code>compat</code></span>.</li>
      <li>Set zoom to 100% by default in settings.xml.</li>
      <li>Align math options more with current Word defaults
      (e.g. Cambria Math font).</li>
      <li>Remove <span><code>rsid</code></span>s from
      default settings.xml. Word will add these when revisions are
      made.</li>
      </ul></li>
      <li><p>Ms writer: Handle tables with multiple paragraphs (<a href="https://github.com/jgm/pandoc/issues/7288">#7288</a>).
      Previously they overflowed the table cell width. We now set line
      lengths per-cell and restore them after the table has been
      written.</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Use cleaner braceless syntax for code blocks with a single
      class (<a href="https://github.com/jgm/pandoc/issues/7242">#7242</a>, Jan
      Tojnar).</li>
      <li>Add quotes properly in markdown YAML metadata fields (<a href="https://github.com/jgm/pandoc/issues/7245">#7245</a>). This
      fixes a bug, which caused the writer to look at the <em>last</em>
      rather than the <em>first</em> character in determining whether
      quotes were needed. So we got spurious quotes in some cases and
      didn’t get necessary quotes in others.</li>
      <li>Use <span><code>@{..}</code></span> syntax for
      citations when needed.</li>
      <li>Use fewer unneeded escapes for <span><code>#</code></span> (see <a href="https://github.com/jgm/pandoc/issues/6259">#6259</a>).</li>
      <li>Improve escaping of <span><code>@</code></span>. We need to escape literal
      <span><code>@</code></span> before <span><code>{</code></span> because of the new citation
      syntax.</li>
      </ul></li>
      <li><p>Commonmark writer: Use backslash escapes for <span><code>&lt;</code></span> and <span><code>|</code></span>… instead of entities (<a href="https://github.com/jgm/pandoc/issues/7208">#7208</a>).</p></li>
      <li><p>Powerpoint writer: allow <span><code>monofont</code></span> to be specified in
      metadata (<a href="https://github.com/jgm/pandoc/issues/7187">#7187</a>).</p></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Use non-starred names for xcolor color names (<a href="https://github.com/jgm/pandoc/issues/6109">#6109</a>). This
      should make svgnames and x11names work properly.</li>
      <li>Fix bad vertical spacing after bibliography (<a href="https://github.com/jgm/pandoc/issues/7234">#7234</a>,
      badumont).</li>
      <li>List of figures before list of tables (<a href="https://github.com/jgm/pandoc/issues/7235">#7235</a>, Julien
      Dutant).</li>
      <li>Move CSL macro definitions before header-includes so they can
      be overridden (<a href="https://github.com/jgm/pandoc/issues/7286">#7286</a>).</li>
      <li>Improve treatment of CSL <span><code>entry-spacing</code></span> (<a href="https://github.com/jgm/pandoc/issues/7296">#7296</a>).
      Previously with the default template settings (<span><code>indent</code></span> variable not set), we
      would get interparagraph spaces separating bib entries even with
      <span><code>entry-spacing=&#34;0&#34;</code></span>. On the
      other hand, setting <span><code>entry-spacing=&#34;2&#34;</code></span> gave
      ridiculously large spacing. This change makes the spacing caused
      by <span><code>entry-spacing</code></span> a
      multiple of <span><code>\parskip</code></span> by
      default, which gives aesthetically reasonable output. Those who
      want a larger or smaller unit (e.g. because they use <span><code>indent</code></span> which sets <span><code>\parskip</code></span> to 0) may <span><code>\setlength{\cslentryspacingunit}{10pt}</code></span>
      in header-includes to override the defaults.</li>
      <li>Move title, author, date up to top of preamble (<a href="https://github.com/jgm/pandoc/issues/7295">#7295</a>). This
      allows header-includes to use them, and puts them in a position
      where you can see them immediately.</li>
      <li>Define commands for zero width non-joiner character (<a href="https://github.com/jgm/pandoc/issues/6639">#6639</a>, Albert
      Krewinkel). The zero-width non-joiner character is used to avoid
      ligatures (e.g. in German).</li>
      </ul></li>
      <li><p>ConTeXt template:</p>
      <ul>
      <li>Define <span><code>enumerate</code></span>
      itemgroup (<a href="https://github.com/jgm/pandoc/issues/5016">#5016</a>, Denis
      Maier).</li>
      <li>List of figures before list of tables (<a href="https://github.com/jgm/pandoc/issues/7235">#7235</a>, Julien
      Dutant).</li>
      </ul></li>
      <li><p>reveal.js template:</p>
      <ul>
      <li>Support <span><code>toc-title</code></span> (<a href="https://github.com/jgm/pandoc/issues/7171">#7171</a>,
      Florian Kohrt).</li>
      <li>Use <span><code>hash: true</code></span> by
      default rather than <span><code>history: true</code></span> (<a href="https://github.com/jgm/pandoc/issues/6968">#6968</a>).</li>
      </ul></li>
      <li><p>HTML-based slide shows: add support for <span><code>institute</code></span> (<a href="https://github.com/jgm/pandoc/issues/7289">#7289</a>, Thomas
      Hodgson).</p></li>
      <li><p>Text.Pandoc.Extensions: Add constructor <span><code>Ext_rebase_relative_paths</code></span> to
      <span><code>Extensions</code></span> [API
      change].</p></li>
      <li><p>Text.Pandoc.XML.Light: add Eq, Ord instances for Content,
      Element, Attr, CDataKind [API change].</p></li>
      <li><p>Text.Pandoc.MediaBag:</p>
      <ul>
      <li>Change type to use a <span><code>Text</code></span> key instead of <span><code>[FilePath]</code></span>. We normalize the
      path and use <span><code>/</code></span> separators
      for consistency.</li>
      <li>Export <span><code>MediaItem</code></span> type
      [API change].</li>
      <li>Change <span><code>MediaBag</code></span> type
      to a map from Text to MediaItem [API change].</li>
      <li><span><code>lookupMedia</code></span> now
      returns a <span><code>MediaItem</code></span> [API
      change].</li>
      <li>Change <span><code>insertMedia</code></span> so
      it sets the <span><code>mediaPath</code></span> to
      a filename based on the SHA1 hash of the contents. This will be
      used when contents are extracted.</li>
      </ul></li>
      <li><p>Text.Pandoc.Class.PandocMonad:</p>
      <ul>
      <li>Remove <span><code>fetchMediaResource</code></span> [API
      change]. Use <span><code>fetchItem</code></span> to
      get resources in <span><code>fillMediaBag</code></span>.</li>
      <li>Add informational message in <span><code>downloadOrRead</code></span> indicating what
      path local resources have been loaded from.</li>
      </ul></li>
      <li><p>Text.Pandoc.Logging:</p>
      <ul>
      <li>Remove single quotes around paths in messages.</li>
      <li>Add LoadedResource constructor to LogMessage [API change].
      This is for INFO-level messages telling where image data has been
      loaded from. (This can vary because of the resource path.)</li>
      </ul></li>
      <li><p>Text.Pandoc.Asciify: simplify code and export <span><code>toAsciiText</code></span> [API change].
      Instead of encoding a giant (and incomplete) map, we now just use
      unicode-transforms to normalize the text to a canonical
      decomposition, and manipulate the result.</p></li>
      <li><p>App: allow tabs expansion even if file-scope is used
      (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6709">#6709</a>). Tabs
      in plain-text inputs are now handled correctly, even if the <span><code>--file-scope</code></span> flag is
      used.</p></li>
      <li><p>Add new internal module Text.Pandoc.Writers.GridTable
      (Albert Krewinkel).</p></li>
      <li><p>Text.Pandoc.Highlighting: Change type of <span><code>languagesByExtension</code></span>, adding a
      parameter for a <span><code>SyntaxMap</code></span>
      [API change] (Jan Tojnar, <a href="https://github.com/jgm/pandoc/issues/7241">#7241</a>).
      Languages defined using <span><code>--syntax-definition</code></span> were not
      recognized by <span><code>languagesByExtension</code></span>. This
      patch corrects that, allowing the writers to see all custom
      definitions. The LaTeX writer still uses the default syntax map,
      but that’s okay in that context, since <span><code>--syntax-definition</code></span> won’t
      create new listings styles.</p></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Ensure that CSL-related attributes are passed on to a Div with
      id ‘refs’. Otherwise things like <span><code>entry-spacing</code></span> won’t work when
      such Divs are used.</li>
      <li>Use metadata’s <span><code>lang</code></span>
      for the lang parameter of citeproc, overriding <span><code>localeLanguage</code></span>.</li>
      <li>Recognize locators spelled with a capital letter (<a href="https://github.com/jgm/pandoc/issues/7323">#7323</a>).</li>
      <li>Add a comma and a space in front of the suffix if it doesn’t
      start with space or punctuation (<a href="https://github.com/jgm/pandoc/issues/7324">#7324</a>).</li>
      <li>Don’t detect math elements as locators (<a href="https://github.com/jgm/pandoc/issues/7321">#7321</a>).</li>
      </ul></li>
      <li><p>Remove Text.Pandoc.BCP47 module [API change]. Use types and
      functions from UnicodeCollation.Lang instead. This is a richer
      implementation of BCP 47.</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Fix regression in grid tables for wide characters (<a href="https://github.com/jgm/pandoc/issues/7214">#7214</a>). In
      the translation from String to Text, a char-width-sensitive <span><code>splitAt&#39;</code></span> was dropped. This
      commit reinstates it and uses it to make <span><code>splitTextByInstances</code></span> char-width
      sensitive.</li>
      <li>Add <span><code>getLang</code></span> (formerly
      in the now-removed BCP47) [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc.SelfContained: use <span><code>application/octet-stream</code></span> for
      unknown mime types instead of halting with an error (<a href="https://github.com/jgm/pandoc/issues/7202">#7202</a>).</p></li>
      <li><p>Lua filters: respect Inlines/Blocks filter functions in
      <span><code>pandoc.walk_*</code></span> (Albert
      Krewinkel).</p></li>
      <li><p>Add text as build-depend for trypandoc (<a href="https://github.com/jgm/pandoc/issues/7193">#7193</a>, Roman
      Beránek).</p></li>
      <li><p>Bump upper-bounds for network-uri, time,
      attoparsec.</p></li>
      <li><p>Use citeproc 0.4.</p></li>
      <li><p>Use texmath 0.12.3.</p></li>
      <li><p>Use jira-wiki-markup 1.3.5 (Albert Krewinkel).</p></li>
      <li><p>Require latest skylighting (fixes a bug in XML syntax
      highlighting).</p></li>
      <li><p>Use latest xml-conduit.</p></li>
      <li><p>Use latest commonmark, commonmark-extensions,
      commonmark-pandoc.</p></li>
      <li><p>Use haddock-library-1.10.0 (Albert Krewinkel).</p></li>
      <li><p>Allow compilation with base 4.15 (Albert
      Krewinkel).</p></li>
      <li><p>MANUAL:</p>
      <ul>
      <li>Add information about <span><code>lang</code></span> and bibliography
      sorting.</li>
      <li>Add info about YAML escape sequences, link to spec (<a href="https://github.com/jgm/pandoc/issues/7152">#7152</a>, Albert
      Krewinkel).</li>
      <li>Note that <span><code>institute</code></span>
      variable works for HTML-based slides.</li>
      <li>Update documentation on citation syntax.</li>
      <li>Add citation example for locators and suffixes (Tristan
      Stenner)</li>
      </ul></li>
      <li><p>Updated and fixed typos in documentation (Charanjit Singh,
      Anti-Distinctlyminty, Tatiana Porras, obcat).</p></li>
      <li><p>Add instructions for installing pandoc-types before
      compiling filter.</p></li>
      <li><p>INSTALL: add note that parallel installations should be
      avoided (<a href="https://github.com/jgm/pandoc/issues/6865">#6865</a>).</p></li>
      <li><p>Remove <span><code>biblatex-nussbaum.md</code></span> test. It
      is basically the same as <span><code>biblaetx-quotes.md</code></span>.</p></li>
      <li><p>Command tests: fail if a file contains no tests—and fix a
      test that failed in that way!</p></li>
      <li><p>Use smaller images in tests, reducing the size of the
      source tarball by 8 MB.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.13-2021-03-21">
      <h2><a href="#pandoc-2.13-2021-03-21" aria-hidden="true"></a>pandoc 2.13 (2021-03-21)</h2>
      <ul>
      <li><p>Support <span><code>yaml_metadata_block</code></span> extension
      for <span><code>commonmark</code></span>, <span><code>gfm</code></span> (<a href="https://github.com/jgm/pandoc/issues/6537">#6537</a>). This
      supported is a bit more limited than with pandoc’s <span><code>markdown</code></span>. The YAML block must
      be the first thing in the input, and the leaf notes are parsed in
      isolation from the rest of the document. So, for example, you
      can’t use reference links if the references are defined later in
      the document.</p></li>
      <li><p>Fix fallback to default partials when custom templates are
      used. If the directory containing a template does not contain the
      partial, it should be sought in the default templates, but this
      was not working properly (<a href="https://github.com/jgm/pandoc/issues/7164">#7164</a>).</p></li>
      <li><p>Handle <span><code>nocite</code></span>
      better with <span><code>--biblatex</code></span>
      and <span><code>--natbib</code></span> (<a href="https://github.com/jgm/pandoc/issues/4585">#4585</a>).
      Previously the nocite metadata field was ignored with these
      formats. Now it populates a <span><code>nocite-ids</code></span> template variable
      and causes a <span><code>\nocite</code></span>
      command to be issued.</p></li>
      <li><p>Text.Pandoc.Citeproc: apply <span><code>fixLinks</code></span> correctly (<a href="https://github.com/jgm/pandoc/issues/7130">#7130</a>). This
      is code that incorporates a prefix like <span><code>https://doi.org/</code></span> into a
      following link when appropriate.</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Remove <span><code>backslashEscapes</code></span>, <span><code>escapeStringUsing</code></span> [API change].
      Replace these inefficient association list lookups with more
      efficient escaping functions in the writers that used them (for a
      10-25% performance boost in org, haddock, rtf, texinfo
      writers).</li>
      <li>Remove <span><code>ToString</code></span>,
      <span><code>ToText</code></span> typeclasses [API
      change]. These were needed for the transition from String to Text,
      but they are no longer used and may clash with other things.</li>
      <li>Simplify <span><code>compactDL</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li>Change type of <span><code>readWithM</code></span> so that it is no
      longer polymorphic [API change]. The <span><code>ToText</code></span> class has been removed,
      and now that we’ve completed the transition to Text we no longer
      need this to operate on Strings.</li>
      <li>Remove <span><code>F</code></span> type synonym
      [API change]. Muse and Org were defining their own <span><code>F</code></span> anyway.</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Metadata:</p>
      <ul>
      <li>Export <span><code>yamlMetaBlock</code></span>
      [API change].</li>
      <li>Make <span><code>yamlBsToMeta</code></span>,
      <span><code>yamlBsToRefs</code></span> polymorphic
      on the parser state [API change].</li>
      </ul></li>
      <li><p>Markdown reader: Fix regression with <span><code>tex_math_backslash</code></span> (<a href="https://github.com/jgm/pandoc/issues/7155">#7155</a>).</p></li>
      <li><p>MediaWiki reader: Allow block-level content in notes (ref)
      (<a href="https://github.com/jgm/pandoc/issues/7145">#7145</a>).</p></li>
      <li><p>Jira reader (Albert Krewinkel):</p>
      <ul>
      <li>Fixed parsing of autolinks (i.e., of bare URLs in the text).
      Previously an autolink would take up the rest of a line, as spaces
      were allowed characters in these items.</li>
      <li>Emoji character sequences no longer cause parsing failures.
      This was due to missing backtracking when emoji parsing
      fails.</li>
      <li>Mark divs created from panels with class “panel”.</li>
      </ul></li>
      <li><p>RST reader: fix logic for ending comments (<a href="https://github.com/jgm/pandoc/issues/7134">#7134</a>).
      Previously comments sometimes got extended too far.</p></li>
      <li><p>DocBook writer: include Header attributes as XML attributes
      on section (Erik Rask). Attributes with key names that are not
      allowed as XML attributes are dropped, as are attributes with
      invalid values and <span><code>xml:id</code></span>
      (DocBook 5) and <span><code>id</code></span>
      (DocBook 4).</p></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Make <span><code>nsid</code></span> in <span><code>abstractNum</code></span> deterministic.
      Previously we assigned a random number, but we don’t need random
      values, so now we just assign a value based on the list
      marker.</li>
      <li>Use integral values for <span><code>w:tblW</code></span> (<a href="https://github.com/jgm/pandoc/issues/7141">#7141</a>).</li>
      </ul></li>
      <li><p>Jira writer (Albert Krewinkel):</p>
      <ul>
      <li>Block quotes are only rendered as <span><code>bq.</code></span> if they do not contain a
      linebreak.</li>
      <li>Jira writer: improve div/panel handling. Include div
      attributes in panels, always render divs with class <span><code>panel</code></span> as panels, and avoid
      nesting of panels.</li>
      </ul></li>
      <li><p>HTML writer: Add warnings on duplicate attribute values.
      This prevents emitting invalid HTML. Ultimately it would be good
      to prevent this in the types themselves, but this is better for
      now.</p></li>
      <li><p>Org writer: Prevent unintended creation of ordered list
      items (<a href="https://github.com/jgm/pandoc/issues/7132">#7132</a>, Albert
      Krewinkel). Adjust line wrapping if default wrapping would cause a
      line to be read as an ordered list item.</p></li>
      <li><p>JATS templates: support ‘equal-contrib’ attrib for authors
      (Albert Krewinkel). Authors who contributed equally to a paper may
      be marked with <span><code>equal-contrib</code></span>.</p></li>
      <li><p>reveal.js template: replace JS comment with HTML (<a href="https://github.com/jgm/pandoc/issues/7154">#7154</a>,
      Florian Kohrt).</p></li>
      <li><p>Text.Pandoc.Logging: Add <span><code>DuplicateAttribute</code></span> constructor
      to <span><code>LogMessage</code></span>. [API
      change]</p></li>
      <li><p>Use <span><code>-j4</code></span> for linux
      release build. This speeds up the build dramatically on
      arm.</p></li>
      <li><p>cabal.project: remove ghcoptions. Move flags to top level,
      so they can be set differently on the command line.</p></li>
      <li><p>Require latest texmath, skylighting, citeproc,
      jira-wiki-markup. (The latest skylighting fixes a bad bug with
      Haskell syntax highlighting.) Narrow version bounds for texmath,
      skylighting, and citeproc, since the test output depend on
      them.</p></li>
      <li><p>Use doclayout 0.3.0.2. This significantly reduces the time
      and memory needed to compile pandoc.</p></li>
      <li><p>Use <span><code>foldl&#39;</code></span> instead
      of <span><code>foldl</code></span>
      everywhere.</p></li>
      <li><p>Update bounds for random (<a href="https://github.com/jgm/pandoc/issues/7156">#7156</a>, Alexey
      Kuleshevich).</p></li>
      <li><p>Remove uses of some partial functions.</p></li>
      <li><p>Don’t bake in a larger stack size for the
      executable.</p></li>
      <li><p>Test improvements:</p>
      <ul>
      <li>Use <span><code>getExecutablePath</code></span>
      from base, avoiding the dependency on <span><code>executable-path</code></span>.</li>
      <li>Factor out <span><code>setupEnvironment</code></span> in Helpers, to
      avoid code duplication.</li>
      <li>Fix finding of data files by setting teh <span><code>pandoc_datadir</code></span> environment
      variable when we shell out to pandoc. This avoids the need to use
      <span><code>--data-dir</code></span> for the tests,
      which caused problems finding <span><code>pandoc.lua</code></span> when compiling
      without the <span><code>embed_data_files</code></span> flag (<a href="https://github.com/jgm/pandoc/issues/7163">#7163</a>).</li>
      </ul></li>
      <li><p>Benchmark improvements:</p>
      <ul>
      <li>Build <span><code>+RTS -A8m -RTS</code></span>
      into default ghc-options for benchmark. This is necessary to get
      accurate benchmark results; otherwise we are largely measuring
      garbage collecting, some not related to the current
      benchmark.</li>
      <li>Allow specifying BASELINE file in ‘make bench’ for comparison
      (otherwise the latest benchmark is chosen by default).</li>
      <li>Force <span><code>readFile</code></span> in
      benchmarks early (Bodigrim).</li>
      </ul></li>
      <li><p>CONTRIBUTING: suggest using a <span><code>cabal.project.local</code></span> file (<a href="https://github.com/jgm/pandoc/issues/7153">#7153</a>, Albert
      Krewinkel).</p></li>
      <li><p>Add ghcid-test to Makefile. This loads the test suite in
      ghcid.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.12-2021-03-08">
      <h2><a href="#pandoc-2.12-2021-03-08" aria-hidden="true"></a>pandoc 2.12 (2021-03-08)</h2>
      <ul>
      <li><p><span><code>--resource-path</code></span>
      now accumulates if specified multiple times (<a href="https://github.com/jgm/pandoc/issues/6152">#6152</a>).
      Resource paths specified later on the command line are prepended
      to those specified earlier. Thus, <span><code>--resource-path foo --resource-path bar:baz</code></span>
      is equivalent to <span><code>--resource-path bar:bas:foo</code></span>.
      (The previous behavior was for the last <span><code>--resource-path</code></span> to replace all
      the rest.) <span><code>resource-path</code></span>
      in defaults files behaves the same way: it will be prepended to
      the resource path set by earlier command line options or defaults
      files. This change facilitates the use of multiple defaults files:
      each can specify a directory containing resources it refers to
      without clobbering the resource paths set by the others.</p></li>
      <li><p>Allow defaults files to refer to the home directory, the
      user data directory, and the directory containing the defaults
      file itself (<a href="https://github.com/jgm/pandoc/issues/5871">#5871</a>, <a href="https://github.com/jgm/pandoc/issues/5982">#5982</a>, <a href="https://github.com/jgm/pandoc/issues/5977">#5977</a>). In
      fields that expect file paths (and only in these fields),</p>
      <ul>
      <li><span><code>${VARIABLE}</code></span> will
      expand to the value of the environment variable <span><code>VARIABLE</code></span> (and in particular
      <span><code>${HOME}</code></span> will expand to
      the path of the home directory). A warning will be raised for
      undefined variables.</li>
      <li><span><code>${USERDATA}</code></span> will
      expand to the path of the user data directory in force when the
      defaults file is being processed.</li>
      <li><span><code>${.}</code></span> will expand to
      the directory containing the defaults file. (This allows default
      files to be placed in a directory containing resources they make
      use of.)</li>
      </ul></li>
      <li><p>When downloading content from URL arguments, be sensitive
      to the character encoding (<a href="https://github.com/jgm/pandoc/issues/5600">#5600</a>). We
      can properly handle UTF-8 and latin1 (ISO-8859-1); for others we
      raise an error. Fall back to latin1 if no charset is given in the
      mime type and UTF-8 decoding fails.</p></li>
      <li><p>Allow abbreviations that don’t end in a period to be
      specified using <span><code>--abbreviations</code></span> (<a href="https://github.com/jgm/pandoc/issues/7124">#7124</a>).</p></li>
      <li><p>Add new unexported module Text.Pandoc.XML.Light, as well as
      Text.Pandoc.XML.Light.Types, Text.Pantoc.XML.Light.Proc,
      Text.Pandoc.XML.Light.Output. (Closes <a href="https://github.com/jgm/pandoc/issues/6001">#6001</a>, <a href="https://github.com/jgm/pandoc/issues/6565">#6565</a>, <a href="https://github.com/jgm/pandoc/issues/7091">#7091</a>).</p>
      <p>This module exports definitions of <span><code>Element</code></span> and <span><code>Content</code></span> that are isomorphic to
      xml-light’s, but with Text instead of String. This allows us to
      keep most of the code in existing readers that use xml-light, but
      avoid lots of unnecessary allocation.</p>
      <p>We also add versions of the functions from xml-light’s
      Text.XML.Light.Output and Text.XML.Light.Proc that operate on our
      modified XML types, and functions that convert xml-light types to
      our types (since some of our dependencies, like texmath, use
      xml-light).</p>
      <p>We export functions that use xml-conduit’s parser to produce an
      <span><code>Element</code></span> or <span><code>[Content]</code></span>. This allows existing
      pandoc code to use a better parser without much modification.</p>
      <p>The new parser is used in all places where xml-light’s parser
      was previously used. Benchmarks show a significant performance
      improvement in parsing XML-based formats (with docbook, opml,
      jats, and docx almost twice as fast, odt and fb2 more than twice
      as fast).</p>
      <p>In addition, the new parser gives us better error reporting
      than xml-light. We report XML errors, when possible, using the new
      <span><code>PandocXMLError</code></span>
      constructor in <span><code>PandocError</code></span>.</p>
      <p>These changes revealed the need for some changes in the tests.
      The docbook-reader.docbook test lacked definitions for the
      entities it used; these have been added. And the docx golden tests
      have been updated, because the new parser does not preserve the
      order of attributes.</p></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Avoid expensive tree normalization step, as it is not
      necessary with the new XML parser.</li>
      <li>Support <span><code>informalfigure</code></span> (<a href="https://github.com/jgm/pandoc/issues/7079">#7079</a>) (Nils
      Carlson).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Use Map instead of list for Namespaces. This gives a speedup
      of about 5-10%. With this and the XML parsing changes, the docx
      reader is now about twice as fast as in the previous release.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Small performance tweaks.</li>
      <li>Also, remove exported class <span><code>NamedTag(..)</code></span> [API change]. This
      was just intended to smooth over the transition from String to
      Text and is no longer needed.</li>
      <li>As a result, the functions <span><code>isInlineTag</code></span> and <span><code>isBlockTag</code></span> are no longer
      polymorphic; they apply to a <span><code>Tag Text</code></span> [API change].</li>
      <li>Do a lookahead to find the right parser to use. This takes
      benchmarks from 34ms to 23ms, with less allocation.</li>
      <li>Fix bad handling of empty <span><code>src</code></span> attribute in <span><code>iframe</code></span> (<a href="https://github.com/jgm/pandoc/issues/7099">#7099</a>). If
      <span><code>src</code></span> is empty, we simply
      skip the <span><code>iframe</code></span>. If <span><code>src</code></span> is invalid or cannot be
      fetched, we issue a warning nd skip instead of failing with an
      error.</li>
      </ul></li>
      <li><p>JATS reader:</p>
      <ul>
      <li>Avoid tree normalization, which is no longer necessary given
      the new XML parser.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Don’t export <span><code>tokenize</code></span>, <span><code>untokenize</code></span> [API change]. These
      are internal implementation details, which were only exported for
      testing. They don’t belong in the public API.</li>
      <li>Improved efficiency of the parser. With these changes the
      reader is almost twice as fast as in the last release in our
      benchmarks.</li>
      <li>Code cleanup, removing some unnecessary things.</li>
      <li>Rewrite <span><code>withRaw</code></span> so it
      doesn’t rely on fragile assumptions about token positions (which
      break when macros are expanded) (<a href="https://github.com/jgm/pandoc/issues/7092">#7092</a>). This
      requires the addition of <span><code>sEnableWithRaw</code></span> and <span><code>sRawTokens</code></span> in <span><code>LaTeXState</code></span>, and a new
      combinator <span><code>disablingWithRaw</code></span> to disable
      collecting of raw tokens in certain contexts. Add <span><code>parseFromToks</code></span> to
      Text.Pandoc.Readers.LaTeX.Parsing. Fix parsing of single character
      tokens so it doesn’t mess up the new raw token collecting. These
      changes slightly increase allocations and have a small performance
      impact.</li>
      <li>Handle some bibtex/biblatex-specific commands that used to be
      dealt with in pandoc-citeproc (<a href="https://github.com/jgm/pandoc/issues/7049">#7049</a>).</li>
      <li>Optimize <span><code>satisfyTok</code></span>,
      avoiding unnecessary macro expansion steps. Benchmarks after this
      change show 2/3 of the run time and 2/3 of the allocation of the
      Feb. 10 benchmarks.</li>
      <li>Removed <span><code>sExpanded</code></span> in
      state. This isn’t actually needed and checking it doesn’t change
      anything.</li>
      <li>Improve <span><code>braced&#39;</code></span>.
      Remove the parameter, have it parse the opening brace, and make it
      more efficient.</li>
      <li>Factor out pieces of the LaTeX reader to make the module
      smaller. This reduces memory demands when compiling. Created
      Text.Pandoc.Readers.{LaTeX,Math,Citation,Table,Macro,Inline}.
      Changed Text.Pandoc.Readers.LaTeX.SIunitx to export a command map
      instead of individual commands.</li>
      <li>Handle table cells containing <span><code>&amp;</code></span> in <span><code>\verb</code></span> (<a href="https://github.com/jgm/pandoc/issues/7129">#7129</a>).</li>
      </ul></li>
      <li><p>Make Text.Pandoc.Readers.LaTeX.Types an unexported module
      [API change].</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Improved handling of mmd link attributes in references (<a href="https://github.com/jgm/pandoc/issues/7080">#7080</a>).
      Previously they only worked for links that had titles.</li>
      <li>Improved efficiency of the parser (benchmarks show a 15%
      speedup).</li>
      </ul></li>
      <li><p>OPML reader:</p>
      <ul>
      <li>Avoid tree normalization, which is no longer necessary with
      the new XML parser.</li>
      </ul></li>
      <li><p>ODT reader:</p>
      <ul>
      <li>Finer-grained errors on parse failure (<a href="https://github.com/jgm/pandoc/issues/7091">#7091</a>).</li>
      <li>Give more information if the zip container can’t be
      unpacked.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Support <span><code>task_lists</code></span>
      extension (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6336">#6336</a>).</li>
      <li>Fix bug in org-ref citation parsing (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/7101">#7101</a>). The
      org-ref syntax allows to list multiple citations separated by
      comma. Previously commas were accepted as part of the citation id,
      so all citation lists were parsed as one single citation.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Use <span><code>getTimestamp</code></span>
      instead of <span><code>getCurrentTime</code></span>
      to fetch timestamp. Setting <span><code>SOURCE_DATE_EPOCH</code></span> will allow
      reproducible builds.</li>
      <li>RST reader: fix handling of header in CSV tables (<a href="https://github.com/jgm/pandoc/issues/7064">#7064</a>). The
      interpretation of this line is not affected by the delim
      option.</li>
      </ul></li>
      <li><p>Jira reader:</p>
      <ul>
      <li>Modified the Doc parser to skip leading blank lines. This
      fixes parsing of documents which start with multiple blank lines
      (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/7095">#7095</a>).</li>
      <li>Prevent URLs within link aliases to be treated as autolinks
      (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6944">#6944</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared</p>
      <ul>
      <li>Remove formerly exported functions that are no longer used in
      the code base: <span><code>splitByIndices</code></span>, <span><code>splitStringByIndicies</code></span>, <span><code>substitute</code></span>, and <span><code>underlineSpan</code></span> (which had been
      deprecated in April 2020) [API change].</li>
      <li>Export <span><code>handleTaskListItem</code></span> (Albert
      Krewinkel) [API change].</li>
      <li>Change <span><code>defaultUserDataDirs</code></span> to <span><code>defaultUserDataDir</code></span> [API
      change]. We determine what is the default user data directory by
      seeing whether the XDG directory and/or legacy directory
      exist.</li>
      </ul></li>
      <li><p>BibTeX writer:</p>
      <ul>
      <li>BibTeX writer: use doclayout and doctemplate. This change
      allows bibtex/biblatex output to wrap as other formats do,
      depending on the settings of <span><code>--wrap</code></span> and <span><code>--columns</code></span> (<a href="https://github.com/jgm/pandoc/issues/7068">#7068</a>).</li>
      </ul></li>
      <li><p>CSL JSON writer:</p>
      <ul>
      <li>Output <span><code>[]</code></span> if no
      references in input, instead of raising a PandocAppError as
      before.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Use <span><code>getTimestamp</code></span>
      instead of <span><code>getCurrentTime</code></span>
      for timestamp. Setting <span><code>SOURCE_DATE_EPOCH</code></span> will allow
      reproducible builds.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Use <span><code>getTimestamp</code></span>
      instead of <span><code>getCurrentTime</code></span>
      for timestamp. Setting <span><code>SOURCE_DATE_EPOCH</code></span> will allow
      reproducible builds (<a href="https://github.com/jgm/pandoc/issues/7093">#7093</a>). This
      does not suffice to fully enable reproducible in EPUB, since a
      unique id is still being generated for each build.</li>
      <li>Support <span><code>belongs-to-collection</code></span> metadata
      (<a href="https://github.com/jgm/pandoc/issues/7063">#7063</a>)
      (Nick Berendsen).</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Escape special chars in reference elements (Albert Krewinkel).
      Prevents the generation of invalid markup if a citation element
      contains an ampersand or another character with a special meaning
      in XML.</li>
      </ul></li>
      <li><p>Jira writer:</p>
      <ul>
      <li>Use Span identifiers as anchors (Albert Krewinkel).</li>
      <li>Use <span><code>{noformat}</code></span>
      instead of <span><code>{code}</code></span> for
      unknown languages (Albert Krewinkel). Code blocks which are not
      marked as a language supported by Jira are rendered as
      preformatted text via <span><code>{noformat}</code></span> blocks.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Adjust hypertargets to beginnings of paragraphs (<a href="https://github.com/jgm/pandoc/issues/7078">#7078</a>). Use
      <span><code>\vadjust pre</code></span> so that the
      hypertarget takes you to the beginning of the paragraph rather
      than one line down. This makes a particular difference for links
      to citations using <span><code>--citeproc</code></span> and <span><code>link-citations: true</code></span>.</li>
      <li>Change BCP47 lang tag from <span><code>jp</code></span> to <span><code>ja</code></span> (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/7047">#7047</a>).</li>
      <li>Use function instead of map for accent lookup (should be more
      efficient).</li>
      <li>Split the module to make it easier to compile on low-memory
      systems: added
      Text.Pandoc.Writers.LaTeX.{Util,Citation,Lang}.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Handle math right before digit. We insert an HTML comment to
      avoid a <span><code>$</code></span> right before a
      digit, which pandoc will not recognize as a math delimiter.</li>
      <li>Split the module to make it easier to compile on low-memory
      systems: added Text.Pandoc.Writers.Markdown.{Types,Inline}.</li>
      </ul></li>
      <li><p>ODT writer:</p>
      <ul>
      <li>Use <span><code>getTimestamp</code></span>
      instead of <span><code>getCurrentTime</code></span>
      for timestamp. Setting <span><code>SOURCE_DATE_EPOCH</code></span> will allow
      reproducible builds.</li>
      <li>Update default ODT style (Lorenzo). Previously, the “First
      paragraph” style inherited from “Standard” but not from “Text
      body.” Now it is adjusted to inherit from “Text body”, to avoid
      some ugly spacing issues. It may be necessary to update a custom
      <span><code>reference.odt</code></span> in light of
      this change.</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Support <span><code>task_lists</code></span>
      extension (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6336">#6336</a>).</li>
      </ul></li>
      <li><p>Pptx writer:</p>
      <ul>
      <li>Use <span><code>getTimestamp</code></span>
      instead of <span><code>getCurrentTime</code></span>
      for timestamp. Setting <span><code>SOURCE_DATE_EPOCH</code></span> will allow
      reproducible builds.</li>
      </ul></li>
      <li><p>JATS templates: tag <span><code>author.name</code></span> as <span><code>string-name</code></span> (Albert Krewinkel).
      The partitioning the components of a name into surname, given
      names, etc. is not always possible or not available. Using <span><code>author.name</code></span> allows to give the
      full name as a fallback to be used when <span><code>author.surname</code></span> is not
      available.</p></li>
      <li><p>Add default templates for bibtex and biblatex, so that the
      variables <span><code>header-include</code></span>,
      <span><code>include-before</code></span>, <span><code>include-after</code></span> (or alternatively
      the command line options <span><code>--include-in-header</code></span>, <span><code>--include-before-body</code></span>, <span><code>--include-after-body</code></span>) may be
      used.</p></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Update to iftex package (<a href="https://github.com/jgm/pandoc/issues/7073">#7073</a>)
      (Andrew Dunning)</li>
      <li>Wrap url colours in braces (<a href="https://github.com/jgm/pandoc/issues/7121">#7121</a>) (Loïc
      Grobol).</li>
      </ul></li>
      <li><p>revealjs template: Add ‘center’ option for vertical slide
      centering. (maurerle, <a href="https://github.com/jgm/pandoc/issues/7104">#7104</a>).</p></li>
      <li><p>Text.Pandoc.XML: Improve efficiency of <span><code>fromEntities</code></span>.</p></li>
      <li><p>Text.Pandoc.MIME</p>
      <ul>
      <li>Add exported function <span><code>getCharset</code></span> [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc.UTF8: change IO functions to return Text, not
      String [API change]. This affects <span><code>readFile</code></span>, <span><code>getContents</code></span>, <span><code>writeFileWith</code></span>, <span><code>writeFile</code></span>, <span><code>putStrWith</code></span>, <span><code>putStr</code></span>, <span><code>putStrLnWith</code></span>, <span><code>putStrLn</code></span>. <span><code>hPutStrWith</code></span>, <span><code>hPutStr</code></span>, <span><code>hPutStrLnWith</code></span>, <span><code>hPutStrLn</code></span>, <span><code>hGetContents</code></span>. This avoids the
      need to uselessly create a linked list of characters when emiting
      output.</p></li>
      <li><p>Text.Pandoc.App</p>
      <ul>
      <li>Add <span><code>parseOptionsFromArgs</code></span> [API
      change, new exported function].</li>
      <li>Add fields for CSL options to <span><code>Opt</code></span> [API change]: <span><code>optCSL</code></span>, <span><code>optbibliography</code></span>, <span><code>optCitationAbbreviations</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc.BibTeX</p>
      <ul>
      <li><span><code>Text.Pandoc.Citeproc.writeBibTeXString</code></span>
      now returns <span><code>Doc Text</code></span>
      instead of <span><code>Text</code></span> (<a href="https://github.com/jgm/pandoc/issues/7068">#7068</a>).</li>
      <li>Correctly handle <span><code>pages</code></span> (= <span><code>page</code></span> in CSL) (<a href="https://github.com/jgm/pandoc/issues/7067">#7067</a>).</li>
      <li>Correctly handle BibLaTeX <span><code>langid</code></span> (= <span><code>language</code></span> in CSL, <a href="https://github.com/jgm/pandoc/issues/7067">#7067</a>).</li>
      <li>In BibTeX output, protect foreign titles since there’s no
      language field (<a href="https://github.com/jgm/pandoc/issues/7067">#7067</a>).</li>
      <li>Clean up BibTeX parsing (<a href="https://github.com/jgm/pandoc/issues/7049">#7049</a>).
      Previously there was a messy code path that gave strange results
      in some cases, not passing through raw tex but trying to extract a
      string content. This was an artefact of trying to handle some
      special bibtex-specific commands in the BibTeX reader. Now we just
      handle these in the LaTeX reader and simplify parsing in the
      BibTeX reader. This does mean that more raw tex will be passed
      through (and currently this is not sensitive to the <span><code>raw_tex</code></span> extension; this should
      be fixed).</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc.MetaValue</p>
      <ul>
      <li>Correctly parse “raw” date value in markdown references
      metadata. (See jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/53">#53</a>.)</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc</p>
      <ul>
      <li>Use https URLs for links (Salim B, <a href="https://github.com/jgm/pandoc/issues/7122">#7122</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Class</p>
      <ul>
      <li>Add <span><code>getTimestamp</code></span> [API
      change]. This attempts to read the <span><code>SOURCE_DATE_EPOCH</code></span> environment
      variable and parse a UTC time from it (treating it as a unix date
      stamp, see
      https://reproducible-builds.org/specs/source-date-epoch/). If the
      variable is not set or can’t be parsed as a unix date stamp, then
      the function returns the current date.</li>
      </ul></li>
      <li><p>Text.Pandoc.Error</p>
      <ul>
      <li>Add <span><code>PandocUnsupportedCharsetError</code></span>
      constructor for <span><code>PandocError</code></span> [API change].</li>
      <li>Export <span><code>renderError</code></span>
      [API change].</li>
      <li>Refactor <span><code>handleError</code></span>
      to use <span><code>renderError</code></span>. This
      allows us render error messages without exiting.</li>
      </ul></li>
      <li><p>Text.Pandoc.Extensions</p>
      <ul>
      <li><span><code>Ext_task_lists</code></span> is now
      supported by org (and turned on by default) (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6336">#6336</a>).</li>
      <li>Remove <span><code>Ext_fenced_code_attributes</code></span> from
      allowed commonmark attributes (<a href="https://github.com/jgm/pandoc/issues/7097">#7097</a>). This
      attribute was listed as allowed, but it didn’t actually do
      anything. Use <span><code>attributes</code></span>
      for code attributes and more.</li>
      </ul></li>
      <li><p>Lua subsystem:</p>
      <ul>
      <li>Always load built-in Lua scripts from default data-dir (Albert
      Krewinkel). The Lua modules <span><code>pandoc</code></span> and <span><code>pandoc.List</code></span> are now always
      loaded from the system’s default data directory. Loading from a
      different directory by overriding the default path, e.g. via <span><code>--data-dir</code></span>, is no longer
      supported to avoid unexpected behavior and to address security
      concerns.</li>
      <li>Add module “pandoc.path” (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6001">#6001</a>, <a href="https://github.com/jgm/pandoc/issues/6565">#6565</a>). The
      module allows to work with file paths in a convenient and
      platform-independent manner.</li>
      <li>Use strict evaluation when retrieving AST value from the stack
      (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6674">#6674</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF</p>
      <ul>
      <li>Disable <span><code>smart</code></span>
      extension when building PDF via LaTeX. This is to prevent
      accidental creation of ligatures like <span><code>?`</code></span> and <span><code>!`</code></span> (especially in languages
      with quotations like German), and similar ligature issues. (See
      jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/54">#54</a>.)</li>
      </ul></li>
      <li><p>Text.Pandoc.CSV:</p>
      <ul>
      <li>Fix parsing of unquoted values (<a href="https://github.com/jgm/pandoc/issues/7112">#7112</a>).
      Previously we didn’t allow unescaped quotes in unquoted values,
      but they are allowed in CSV.</li>
      </ul></li>
      <li><p>Test suite:</p>
      <ul>
      <li>Use a more robust method for testing the executable. Many of
      our tests require running the pandoc executable. This is
      problematic for a few different reasons. First, cabal-install will
      sometimes run the test suite after building the library but before
      building the executable, which means the executable isn’t in place
      for the tests. One can work around that by first building, then
      building and running the tests, but that’s fragile. Second, we
      have to find the executable. So far, we’ve done that using a
      function <span><code>findPandoc</code></span> that
      attempts to locate it relative to the test executable (which can
      be located using findExecutablePath). But the logic here is
      delicate and work with every combination of options. To solve both
      problems, we add an <span><code>--emulate</code></span> option to the <span><code>test-pandoc</code></span> executable. When
      <span><code>--emulate</code></span> occurs as the
      first argument passed to <span><code>test-pandoc</code></span>, the program simply
      emulates the regular pandoc executable, using the rest of the
      arguments (after <span><code>--emulate</code></span>). Thus, <span><code>test-pandoc   --emulate -f markdown -t latex</code></span>
      is just like <span><code>pandoc -f   markdown -t latex</code></span>.
      Since all the work is done by library functions, implementing this
      emulation just takes a couple lines of code and should be entirely
      reliable. With this change, we can test the pandoc executable by
      running the test program itself (locatable using <span><code>findExecutablePath</code></span>) with the
      <span><code>--emulate</code></span> option. This
      removes the need for the fragile <span><code>findPandoc</code></span> step, and it means
      we can run our integration tests even when we’re just building the
      library, not the executable. [Note: part of this change involved
      simplifying some complex handling to set environment variables for
      dynamic library paths. I have tested a build with <span><code>--enable-dynamic-executable</code></span>,
      and it works, but further testing may be needed.]</li>
      <li>Print accurate location if a test fails (Albert Krewinkel).
      Ensures that tasty-hunit reports the location of the failing test
      instead of the location of the helper <span><code>test</code></span> function.</li>
      </ul></li>
      <li><p>Documentation: Update URLs and use <span><code>https</code></span> where possible (<a href="https://github.com/jgm/pandoc/issues/7122">#7122</a>, Salim
      B).</p></li>
      <li><p>Add <span><code>doc/libraries.md</code></span>, a description
      of libraries that support pandoc.</p></li>
      <li><p>MANUAL.txt</p>
      <ul>
      <li>MANUAL: block-level formatting is not allowed in line blocks
      (<a href="https://github.com/jgm/pandoc/issues/7107">#7107</a>).</li>
      <li>Clarify <span><code>tex_math_dollars</code></span> extension.
      Note that no blank lines are allowed between the delimiters in
      display math.</li>
      <li>Add MANUAL section on reproducible builds.</li>
      <li>Document no template fallback for absolute path (<a href="https://github.com/jgm/pandoc/issues/7077">#7077</a>, Nixon
      Enraght-Moony.)</li>
      <li>Improve docs for cite-method.</li>
      <li>Update README and man page.</li>
      </ul></li>
      <li><p>Makefile: in <span><code>make bench</code></span>, create CSV files
      for comparison and compare against previous benchmark run. Add
      timestamp to CSV filenames.</p></li>
      <li><p>cabal.project: don’t explicitly set -trypandoc. If we do,
      this can’t be overridden on the cabal command line.</p></li>
      <li><p>doc/lua-filters.md: improve documentation for <span><code>pandoc.mediabag.insert</code></span>, <span><code>pandoc.mediabag.fetch</code></span>, <span><code>directory</code></span>, <span><code>normalize</code></span> (Albert
      Krewinkel).</p></li>
      <li><p>Allow base64-bytestring-1.2.* (Dmitrii Kovanikov)</p></li>
      <li><p>Require jira-wiki-markup 1.3.3 (Albert Krewinkel)</p></li>
      <li><p>Require citeproc 0.3.0.8, which correctly titlecases when
      titles contain non-ASCII characters.</p></li>
      <li><p>Use skylighting 0.10.4. This version of skylighting uses
      xml-conduit rather than hxt. This speeds up parsing of XML syntax
      definitions fourfold, and removes four packages from pandoc’s
      dependency graph: hxt-charproperties, hxt-unicode,
      hxt-regex-xmlschema, hxt.</p></li>
      <li><p>Add script <span><code>tools/parseTimings.pl</code></span> to help
      pin down which modules take the most time and memory to
      compile.</p></li>
      <li><p>Avoid unnecessary use of NoImplicitPrelude pragma (<a href="https://github.com/jgm/pandoc/issues/7089">#7089</a>)
      (Albert Krewinkel)</p></li>
      <li><p>Benchmarks</p>
      <ul>
      <li>Use the lighter-weight tasty-bench instead of criterion.</li>
      <li>Run writer benchmarks for binary formats too.</li>
      <li>Alphabetize benchmarks.</li>
      <li>Don’t run benchmarks for bibliography formats (yet; we need a
      special input for them).</li>
      <li>Show allocation data</li>
      <li>Clean up benchmark code.</li>
      <li>Allow specifying patterns using `-p blah’.</li>
      </ul></li>
      <li><p>trypandoc: add 2 second timeout.</p></li>
      <li><p>Use <span><code>-split-sections</code></span> in creating
      linux release binary. This reduces executable size significantly
      (by about 30%).</p></li>
      <li><p>Remove <span><code>weigh-pandoc</code></span>. It’s not really
      useful any more, now that our regular benchmarks include data on
      allocation.</p></li>
      <li><p>Improve linux package build process and add script to
      automate building an arm64 binary package.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.4-2021-01-22">
      <h2><a href="#pandoc-2.11.4-2021-01-22" aria-hidden="true"></a>pandoc 2.11.4 (2021-01-22)</h2>
      <ul>
      <li><p>Add <span><code>biblatex</code></span>,
      <span><code>bibtex</code></span> as output formats
      (closes <a href="https://github.com/jgm/pandoc/issues/7040">#7040</a>).</p></li>
      <li><p>Recognize more extensions as markdown by default (<a href="https://github.com/jgm/pandoc/issues/7034">#7034</a>): <span><code>mkdn</code></span>, <span><code>mkd</code></span>, <span><code>mdwn</code></span>, <span><code>mdown</code></span>, <span><code>Rmd</code></span>.</p></li>
      <li><p>Implement defaults file inheritance (<a href="https://github.com/jgm/pandoc/issues/6924">#6924</a>, David
      Martschenko). Allow defaults files to inherit options from other
      defaults files by specifying them with the following syntax: <span><code>defaults: [list of defaults files or single defaults file]</code></span>.</p></li>
      <li><p>Fix infinite HTTP requests when writing epubs from URL
      source (<a href="https://github.com/jgm/pandoc/issues/7013">#7013</a>). Due
      to a bug in code added to avoid overwriting the cover image if it
      had the form <span><code>fileX.YYY</code></span>,
      pandoc made an endless sequence of HTTP requests when writing epub
      with input from a URL.</p></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Allow multiple pipe chars in todo sequences (Albert Krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/7014">#7014</a>).
      Additional pipe chars, used to separate “action” state from “no
      further action” states, are ignored. E.g., for the following
      sequence, both <span><code>DONE</code></span> and
      <span><code>FINISHED</code></span> are states with
      no further action required: <span><code>#+TODO: UNFINISHED | DONE | FINISHED</code></span>.</li>
      <li>Restructure output of captioned code blocks (Albert Krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/6977">#6977</a>).
      The Div wrapper of code blocks with captions now has the class
      “captioned-content”. The caption itself is added as a Plain block
      inside a Div of class “caption”. This makes it easier to write
      filters which match on captioned code blocks. Existing filters
      will need to be updated.</li>
      <li>Mark verbatim code with class <span><code>verbatim</code></span> (Dimitri Sabadie, <a href="https://github.com/jgm/pandoc/issues/6998">#6998</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Handle <span><code>filecontents</code></span>
      environment (<a href="https://github.com/jgm/pandoc/issues/7003">#7003</a>).</li>
      <li>Put contents of unknown environments in a Div when <span><code>raw_tex</code></span> is not enabled (<a href="https://github.com/jgm/pandoc/issues/6997">#6997</a>). (When
      <span><code>raw_tex</code></span> is enabled, the
      whole environment is parsed as a raw block.) The class name is the
      name of the environment. Previously, we just included the contents
      without the surrounding Div, but having a record of the
      environment’s boundaries and name can be useful.</li>
      </ul></li>
      <li><p>Mediawiki reader:</p>
      <ul>
      <li>Allow space around storng/emph delimiters (<a href="https://github.com/jgm/pandoc/issues/6993">#6993</a>).</li>
      </ul></li>
      <li><p>New module Text.Pandoc.Writers.BibTeX, exporting
      writeBibTeX and writeBibLaTeX. [API change]</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Revert table line height increase in 2.11.3 (<a href="https://github.com/jgm/pandoc/issues/6996">#6996</a>). In
      2.11.3 we started adding <span><code>\addlinespace</code></span>, which produced
      less dense tables. This wasn’t an intentional change; I
      misunderstood a comment in the discussion leading up to the
      change. This commit restores the earlier default table appearance.
      Note that if you want a less dense table, you can use something
      like <span><code>\def\arraystretch{1.5}</code></span> in your
      header.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Adjust internal links to identifiers defined in raw HTML
      sections after splitting into chapters (<a href="https://github.com/jgm/pandoc/issues/7000">#7000</a>).</li>
      <li>Recognize <span><code>Format &#34;html4&#34;</code></span>, <span><code>Format &#34;html5&#34;</code></span> as raw
      HTML.</li>
      <li>Adjust internal links to images, links, and tables after
      splitting into chapters. Previously we only did this for Div and
      Span and Header elements (see <a href="https://github.com/jgm/pandoc/issues/7000">#7000</a>).</li>
      </ul></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Don’t justify text inside table cells.</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Use <span><code>&lt;element-citation&gt;</code></span> if
      <span><code>element_citations</code></span>
      extension is enabled (Albert Krewinkel).</li>
      <li>Fix citations (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/7018">#7018</a>). By
      default we use formatted citations.</li>
      <li>Ensure that <span><code>&lt;disp-quote&gt;</code></span> is always
      wrapped in <span><code>&lt;p&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/7041">#7041</a>).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Cleaned up raw formats. We now react appropriately to <span><code>gfm</code></span>, <span><code>commonmark</code></span>, and <span><code>commonmark_x</code></span> as raw
      formats.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Fix bug with dropped content from inside spans with a class in
      some cases (<a href="https://github.com/jgm/pandoc/issues/7039">#7039</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Handle table header using styles (<a href="https://github.com/jgm/pandoc/issues/7008">#7008</a>).
      Instead of hard-coding the border and header cell vertical
      alignment, we now let this be determined by the Table style,
      making use of Word’s “conditional formatting” for the table’s
      first row. For headerless tables, we use the tblLook element to
      tell Word not to apply conditional first-row formatting.</li>
      </ul></li>
      <li><p>Commonmark writer:</p>
      <ul>
      <li>Implement start number on ordered lists (<a href="https://github.com/jgm/pandoc/issues/7009">#7009</a>).
      Previously they always started at 1, but according to the spec the
      start number is respected.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fix implicit_figure at end of footnotes (<a href="https://github.com/jgm/pandoc/issues/7006">#7006</a>).</li>
      </ul></li>
      <li><p>ConTeXt template: Remove <span><code>\setupthinrules</code></span> from default
      template. The width parameter this used is not actually supported,
      and the command didn’t do anything.</p></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li>Add <span><code>Ext_element_citations</code></span>
      constructor (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc.BibTeX: New unexported function <span><code>writeBibtexString</code></span>.</p></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Use finer grained imports (Albert Krewinkel).</li>
      <li>Factor out and export <span><code>getStyle</code></span> [API change].</li>
      <li>Export <span><code>getReferences</code></span>
      [API change, <a href="https://github.com/jgm/pandoc/issues/7106">#7106</a>].</li>
      <li>Factor out getLang.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing: modify <span><code>gridTableWith&#39;</code></span> for headerless
      tables. If the table lacks a header, the header row should be an
      empty list. Previously we got a list of empty cells, which caused
      an empty header to be emitted instead of no header. In LaTeX/PDF
      output that meant we got a double top line with space
      between.</p></li>
      <li><p>ImageSize: use <span><code>viewBox</code></span> for SVG if no length,
      width attributes (<a href="https://github.com/jgm/pandoc/issues/7045">#7045</a>). This
      change allows pandoc to extract size information from more
      SVGs.</p></li>
      <li><p>Add simple default.nix.</p></li>
      <li><p>Use commonmark 0.1.1.3.</p></li>
      <li><p>Use citeproc 0.3.0.5.</p></li>
      <li><p>Update default CSL to use latest
      chicago-author-date.csl.</p></li>
      <li><p>CONTRIBUTING.md: add note on GNU xargs.</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Update description of <span><code>-L</code></span>/<span><code>--lua-filter</code></span>.</li>
      <li>Document use of citations in note styles (<a href="https://github.com/jgm/pandoc/issues/6828">#6828</a>).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.11.3.2-2020-12-29">
      <h2><a href="#pandoc-2.11.3.2-2020-12-29" aria-hidden="true"></a>pandoc 2.11.3.2 (2020-12-29)</h2>
      <ul>
      <li><p>HTML reader: use renderTags’ from Text.Pandoc.Shared
      (Albert Krewinkel). A side effect of this change is that empty
      <span><code>&lt;col&gt;</code></span> elements are
      written as self-closing tags in raw HTML blocks.</p></li>
      <li><p>Asciidoc writer: Add support for writing nested tables (<a href="https://github.com/jgm/pandoc/issues/6972">#6972</a>,
      timo-a). Asciidoc supports one level of nesting. If deeper tables
      are to be written, they are omitted and a warning is
      issued.</p></li>
      <li><p>Docx writer: fix nested tables with captions (<a href="https://github.com/jgm/pandoc/issues/6983">#6983</a>).
      Previously we got unreadable content, because docx seems to want a
      <span><code>&lt;w:p&gt;</code></span> element (even
      an empty one) at the end of every table cell.</p></li>
      <li><p>Powerpoint writer: allow arbitrary OOXML in raw inline
      elements (Albert Krewinkel). The raw text is now included verbatim
      in the output. Previously is was parsed into XML elements, which
      prevented the inclusion of partial XML snippets.</p></li>
      <li><p>LaTeX writer: support colspans and rowspans in tables (<a href="https://github.com/jgm/pandoc/issues/6950">#6950</a>, Albert
      Krewinkel). Note that the multirow package is needed for rowspans.
      It is included in the latex template under a variable, so that it
      won’t be used unless needed for a table.</p></li>
      <li><p>HTML writer: don’t include p tags in CSL bibliography
      entries (<a href="https://github.com/jgm/pandoc/issues/6966">#6966</a>). Fixes
      a regression in 2.11.3.</p></li>
      <li><p>Add <span><code>meta-description</code></span> variable to
      HTML templates (<a href="https://github.com/jgm/pandoc/issues/6982">#6982</a>). This
      is populated by the writer by stringifying the <span><code>description</code></span> field of metadata
      (Jerry Sky). The <span><code>description</code></span> meta tag will make
      the generated HTML documents more complete and
      SEO-friendly.</p></li>
      <li><p>Citeproc: fix handling of empty URL variables (<span><code>DOI</code></span>, etc.). The <span><code>linkifyVariables</code></span> function was
      changing these to links which then got treated as non-empty by
      citeproc, leading to wrong results (e.g. ignoring nonempty URL
      when empty DOI is present). See jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/41">#41</a>.</p></li>
      <li><p>Use citeproc 0.3.0.3. Fixes an issue in author-only
      citations when both an author and translator are present, and an
      issue with citation group delimiters.</p></li>
      <li><p>Require texmath 0.12.1. This improves siunitx support in
      math, fixes bugs with <span><code>\*mod</code></span> family operators and
      arrays, and avoids italicizing symbols and operator names in docx
      output.</p></li>
      <li><p>Ensure that the perl interpreter used for filters with
      <span><code>.pl</code></span> extension
      (wuffi).</p></li>
      <li><p>MANUAL: note that textarea content is never parsed as
      Markdown (Albert Krewinkel).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.3.1-2020-12-18">
      <h2><a href="#pandoc-2.11.3.1-2020-12-18" aria-hidden="true"></a>pandoc 2.11.3.1 (2020-12-18)</h2>
      <ul>
      <li><p>Added some missing files to extra-source-files and data
      files, so they are included in the sdist tarball. Closes <a href="https://github.com/jgm/pandoc/issues/6961">#6961</a>.
      Cleaned up some extraneous data and test files, and added a CI
      check to ensure that the test and data files included in the sdist
      match what is in the git repository.</p></li>
      <li><p>Use citeproc 0.3.0.1, which avoids removing nonbreaking
      space at the end of the <span><code>initialize-with</code></span> attribute.
      (Some journals require nonbreaking space after initials, and this
      makes that possible.)</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.3-2020-12-17">
      <h2><a href="#pandoc-2.11.3-2020-12-17" aria-hidden="true"></a>pandoc 2.11.3 (2020-12-17)</h2>
      <ul>
      <li><p>With <span><code>--bibliography</code></span> (or <span><code>bibliography</code></span> in metadata), a
      URL may now be provided, and pandoc will fetch the resource. In
      addition, if a file path is provided and it is not found relative
      to the working directory, the resource path will be searched (<a href="https://github.com/jgm/pandoc/issues/6940">#6940</a>).</p></li>
      <li><p>Add <span><code>sourcepos</code></span>
      extension for <span><code>commonmark</code></span>,
      <span><code>gfm</code></span>, <span><code>commonmark_x</code></span> (<a href="https://github.com/jgm/pandoc/issues/4565">#4565</a>). With
      the <span><code>sourcepos</code></span> extension
      set set, <span><code>data-pos</code></span>
      attributes are added to the AST by the commonmark reader. No other
      readers are affected. The <span><code>data-pos</code></span> attributes are put on
      elements that accept attributes; for other elements, an enlosing
      Div or Span is added to hold the attributes.</p></li>
      <li><p>Change extensions for <span><code>commonmark_x</code></span>: replace <span><code>auto_identifiers</code></span> with <span><code>gfm_auto_identifiers</code></span> (<a href="https://github.com/jgm/pandoc/issues/6863">#6863</a>). <span><code>commonmark_x</code></span> never actually
      supported <span><code>auto_identifiers</code></span> (it didn’t do
      anything), because the underlying library implements gfm-style
      identifiers only. Attempts to add the <span><code>auto_identifiers</code></span> extension to
      <span><code>commonmark</code></span> will now fail
      with an error.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Split module into several submodules (Albert Krewinkel).
      Reducing module size should reduce memory use during
      compilation.</li>
      <li>Support advanced table features (Albert Krewinkel): block
      level content in captions, row and colspans, body headers, row
      head columns, footers, attributes.</li>
      <li>Disable round-trip testing for tables. Information for cell
      alignment in a column is not preserved during round-trips (Albert
      Krewinkel).</li>
      <li>Allow finer grained options for tag omission (Albert
      Krewinkel).</li>
      <li>Simplify list attribute handling (Albert Krewinkel).</li>
      <li>Pay attention to <span><code>lang</code></span>
      attributes on body element (<a href="https://github.com/jgm/pandoc/issues/6938">#6938</a>). These
      (as well as <span><code>lang</code></span>
      attributes on the html element) should update lang in
      metadata.</li>
      <li>Retain attribute prefixes and avoid duplicates (<a href="https://github.com/jgm/pandoc/issues/6938">#6938</a>).
      Previously we stripped attribute prefixes, reading <span><code>xml:lang</code></span> as <span><code>lang</code></span> for example. This resulted
      in two duplicate <span><code>lang</code></span>
      attributes when <span><code>xml:lang</code></span>
      and <span><code>lang</code></span> were both used.
      This commit causes the prefixes to be retained, and also avoids
      invald duplicate attributes.</li>
      </ul></li>
      <li><p>Commonmark reader:</p>
      <ul>
      <li>Refactor <span><code>specFor</code></span>.</li>
      <li>Set input name to <span><code>&#34;&#34;</code></span>
      to avoid clutter in sourcepos output.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Parse <span><code>#+LANGUAGE</code></span> into
      <span><code>lang</code></span> metadata field (<a href="https://github.com/jgm/pandoc/issues/6845">#6845</a>, Albert
      Krewinkel).</li>
      <li>Preserve targets of spurious links (<a href="https://github.com/jgm/pandoc/issues/6916">#6916</a>, Albert
      Krewinkel). Links with (internal) targets that the reader doesn’t
      know about are converted into emphasized text. Information on the
      link target is now preserved by wrapping the text in a Span of
      class <span><code>spurious-link</code></span>, with
      an attribute <span><code>target</code></span> set
      to the link’s original target. This allows to recover and fix
      broken or unknown links with filters.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Table text width support (<a href="https://github.com/jgm/pandoc/issues/6791">#6791</a>, Nils
      Carlson). Table width in relation to text width is not natively
      supported by docbook but is by the docbook <span><code>fo</code></span> stylesheets through an XML
      processing instruction, <span><code>&lt;?dbfo table-width=&#34;50%&#34;?&gt;</code></span>.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Improve parsing of command options (<a href="https://github.com/jgm/pandoc/issues/6869">#6869</a>, <a href="https://github.com/jgm/pandoc/issues/6873">#6873</a>). In
      cases where we run into trouble parsing inlines til the closing
      <span><code>]</code></span>, e.g. quotes, we return
      a plain string with the option contents. Previously we mistakenly
      included the brackets in this string.</li>
      <li>Preserve center environment (<a href="https://github.com/jgm/pandoc/issues/6852">#6852</a>, Igor
      Pashev). The contents of the <span><code>center</code></span> environment are put in a
      <span><code>Div</code></span> with class <span><code>center</code></span>.</li>
      <li>Don’t parse <span><code>\rule</code></span>
      with width 0 as horizontal rule. These are sometimes used as
      spacers in LaTeX.</li>
      <li>Don’t apply theorem default styling to a figure inside (<a href="https://github.com/jgm/pandoc/issues/6925">#6925</a>). If we
      put an image in italics, then when rendering to Markdown we no
      longer get an implicit figure.</li>
      </ul></li>
      <li><p>Dokuwiki reader:</p>
      <ul>
      <li>Handle unknown interwiki links better (<a href="https://github.com/jgm/pandoc/issues/6932">#6932</a>).
      DokuWiki lets the user define his own Interwiki links. Previously
      pandoc reacted to these by emitting a google search link, which is
      not helpful. Instead, we now just emit the full URL including the
      wikilink prefix, e.g. <span><code>faquk&gt;FAQ-mathml</code></span>. This at
      least gives users the ability to modify the links using
      filters.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Properly handle boolean values in writing YAML metadata (<a href="https://github.com/jgm/pandoc/issues/6388">#6388</a>).</li>
      <li>Ensure that a new csl-block begins on a new line (<a href="https://github.com/jgm/pandoc/issues/6921">#6921</a>). This
      just looks better and doesn’t affect the semantics.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Better image handling (<a href="https://github.com/jgm/pandoc/issues/6948">#6948</a>). An
      image alone in its paragraph (but not a figure) is now rendered as
      an independent image, with an <span><code>alt</code></span> attribute if a description
      is supplied. An inline image that is not alone in its paragraph
      will be rendered, as before, using a substitution. Such an image
      cannot have a “center”, “left”, or “right” alignment, so the
      classes <span><code>align-center</code></span>,
      <span><code>align-left</code></span>, or <span><code>align-right</code></span> are ignored.
      However, <span><code>align-top</code></span>, <span><code>align-middle</code></span>, <span><code>align-bottom</code></span> will generate a
      corresponding <span><code>align</code></span>
      attribute.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Keep raw openxml strings verbatim (<a href="https://github.com/jgm/pandoc/issues/6933">#6933</a>, Albert
      Krewinkel).</li>
      <li>Use Content instead of Element. This allows us to inject raw
      OpenXML into the document without reparsing it into an Element,
      which is necessary if you want to inject an open tag or close
      tag.</li>
      <li>Fix bullets/lists indentation, so that the first level is
      slightly indented to the right instead of right on the margin
      (cholonam).</li>
      <li>Support bold and italic in “complex script” (<a href="https://github.com/jgm/pandoc/issues/6911">#6911</a>).
      Previously bold and italics didn’t work properly in LTR text. This
      commit causes the w:bCs and w:iCs attributes to be used, in
      addition to w:b and w:i, for bold and italics respectively.</li>
      </ul></li>
      <li><p>ICML writer:</p>
      <ul>
      <li>Fix image bounding box for custom widths/heighta (Mauro Bieg,
      <a href="https://github.com/jgm/pandoc/issues/6936">#6936</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Improve table spacing (<a href="https://github.com/jgm/pandoc/issues/6842">#6842</a>, <a href="https://github.com/jgm/pandoc/issues/6860">#6860</a>).
      Remove the <span><code>\strut</code></span> that
      was added at the end of minipage environments in cells. Replace
      <span><code>\tabularnewline</code></span> with
      <span><code>\\ \addlinespace</code></span>.</li>
      <li>Improve calculation of column spacing (<a href="https://github.com/jgm/pandoc/issues/6883">#6883</a>).</li>
      <li>Extract table handling into separate module (Albert
      Krewinkel).</li>
      <li>Fix bug with nested <span><code>csl-</code></span> display Spans (<a href="https://github.com/jgm/pandoc/issues/6921">#6921</a>).</li>
      <li>Improve longtable output (<a href="https://github.com/jgm/pandoc/issues/6883">#6883</a>). Don’t
      create minipages for regular paragraphs. Put width and alignment
      information in the longtable column descriptors.</li>
      </ul></li>
      <li><p>OpenDocument writer:</p>
      <ul>
      <li>Support for table width as a percentage of text width (<a href="https://github.com/jgm/pandoc/issues/6792">#6792</a>, Nils
      Carson).</li>
      <li>Implement Div and Span ident support (<a href="https://github.com/jgm/pandoc/issues/6755">#6755</a>, Nils
      Carson). Spans and Divs containing an ident in the Attr will
      become bookmarks or sections with idents in OpenDocument
      format.</li>
      <li>Add two extensions, <span><code>xrefs_name</code></span> and <span><code>xrefs_number</code></span> (<a href="https://github.com/jgm/pandoc/issues/6774">#6774</a>, Nils
      Carlson). Links to headings, figures and tables inside the
      document are substituted with cross-references that will use the
      name or caption of the referenced item for <span><code>xrefs_name</code></span> or the number for
      <span><code>xrefs_number</code></span>. For the
      <span><code>xrefs_number</code></span> to be useful
      heading numbers must be enabled in the generated document and
      table and figure captions must be enabled using for example the
      <span><code>native_numbering</code></span>
      extension. In order for numbers and reference text to be updated
      the generated document must be refreshed.</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Support advanced table features (Albert Krewinkel).</li>
      <li>Support author affiliations (<a href="https://github.com/jgm/pandoc/issues/6687">#6687</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Docbook writer:</p>
      <ul>
      <li>Use correct id attribute consistently (Jan Tojnar). DocBook5
      should always use <span><code>xml:id</code></span>
      instead of <span><code>id</code></span>.</li>
      <li>Handle admonition titles better (Jan Tojnar). Docbook reader
      produces a <span><code>Div</code></span> with <span><code>title</code></span> class for <span><code>&lt;title&gt;</code></span> element within an
      “admonition” element. Markdown writer then turns this into a
      fenced div with <span><code>title</code></span>
      class attribute. Since fenced divs are block elements, their
      content is recognized as a paragraph by the Markdown reader. This
      is an issue for Docbook writer because it would produce an invalid
      DocBook document from such AST – the <span><code>&lt;title&gt;</code></span> element can only
      contain “inline” elements. Handle this special case separately by
      unwrapping the paragraph before creating the <span><code>&lt;title&gt;</code></span> element.</li>
      <li>Add XML namespaces to top-level elements (<a href="https://github.com/jgm/pandoc/issues/6923">#6923</a>, Jan
      Tojnar). Previously, we only added <span><code>xmlns</code></span> attributes to chapter
      elements, even when running with <span><code>--top-level-division=section</code></span>.
      These namespaces are now added to part and section elements too,
      when they are the selected top-level divisions. We do not need to
      add namespaces to documents produced with <span><code>--standalone</code></span> flag, since those
      will already have xmlns attribute on the root element in the
      template.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fix handling of nested <span><code>csl-</code></span> display spans (<a href="https://github.com/jgm/pandoc/issues/6921">#6921</a>).
      Previously inner Spans used to represent CSL display attributes
      were not rendered as div tags as intended.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Include title page in landmarks (<a href="https://github.com/jgm/pandoc/issues/6919">#6919</a>). Note
      that the toc is also included if <span><code>--toc</code></span> is specified.</li>
      <li>Add frontmatter type on body element for nav.xhtml (<a href="https://github.com/jgm/pandoc/issues/6918">#6918</a>).</li>
      </ul></li>
      <li><p>EPUB templates: use preserveAspectRatio=“xMidYMid” for
      cover image (<a href="https://github.com/jgm/pandoc/issues/6895">#6895</a>, Shin
      Sang-jae). This change affects both the epub2 and the epub3
      templates. It avoids distortion of the cover image by requiring
      that the aspect ratio be preserved.</p></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Include <span><code>csquotes</code></span>
      package if <span><code>csquotes</code></span>
      variable set.</li>
      <li>Put back <span><code>amssymb</code></span>. We
      need it for checkboxes in todo lists, and maybe for other things.
      In this location it seems compatible with the cases that prompted
      <a href="https://github.com/jgm/pandoc/issues/6469">#6469</a> and
      PR <a href="https://github.com/jgm/pandoc/issues/6762">#6762</a>.</li>
      <li>Disable language-specific shorthands in babel (<a href="https://github.com/jgm/pandoc/issues/6817">#6817</a>, <a href="https://github.com/jgm/pandoc/issues/6887">#6887</a>). Babel
      defines “shorthands” for some languages, and these can produce
      unexpected results. For example, in Spanish, <span><code>1.22</code></span> gets rendered as <span><code>122</code></span>, and <span><code>et~al.</code></span> as <span><code>etal</code></span>. One would think that
      babel’s <span><code>shorthands=off</code></span>
      option (which we were using) would disable these, but it doesn’t.
      So we remove <span><code>shorthands=off</code></span> and add some
      code that redefines the shorthands macro. Eventually this will be
      fixed in babel, I hope, and we can revert to something
      simpler.</li>
      </ul></li>
      <li><p>JATS template: allow array of persistent institute ids in
      <span><code>pid</code></span> (Albert
      Krewinkel).</p></li>
      <li><p>Text.Pandoc.Parsing: minor code and efficiency
      improvements.</p></li>
      <li><p>Text.Pandoc.Extension:</p>
      <ul>
      <li>Add <span><code>Ext_sourcepos</code></span>
      constructor for <span><code>Extension</code></span>
      [API change].</li>
      <li>Add <span><code>Ext_xrefs_name</code></span>
      and <span><code>Ext_xrefs_number</code></span>
      constructors for <span><code>Extension</code></span> (Nils Carson) [API
      change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Citeproc:</p>
      <ul>
      <li>Fix truncation of <span><code>[Citation]</code></span> list in <span><code>Cite</code></span> inside footnotes (<a href="https://github.com/jgm/pandoc/issues/6890">#6890</a>). This
      affected author-in-text citations in footnotes. It didn’t cause
      problems for the printed output, but for filters that expected the
      citation id and other information.</li>
      <li>Allow the use of both inline and external references (<a href="https://github.com/jgm/pandoc/issues/6951">#6951</a>), as
      with pandoc-citeproc. References defined in the document’s
      metadata take priority over references with the same id defined in
      an external bibliography.</li>
      <li>Use <span><code>fetchItem</code></span> to get
      external bibliography (<a href="https://github.com/jgm/pandoc/issues/6940">#6940</a>).</li>
      <li>Ensure that BCP47 lang codes can be used. We ignore the
      variants and just use the base lang code and country code when
      passing off to citeproc.</li>
      <li>Citeproc BibTeX parser: revert change in <span><code>getRawField</code></span> which was made (for
      reasons forgotten) when transferring this code from
      pandoc-citeproc. The change led to <span><code>--</code></span> in URLs being interpreted as
      en-dashes, which is unwanted (<a href="https://github.com/jgm/pandoc/issues/6874">#6874</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.ImageSize:</p>
      <ul>
      <li>Default to DPI 72 if the format specifies DPI of 0 (<a href="https://github.com/jgm/pandoc/issues/6880">#6880</a>). This
      shouldn’t happen, in general, but it can happen with JPEGs that
      don’t conform to the spec. Having a DPI of 0 will blow up size
      calculations (division by 0).</li>
      <li>ImageSize: use JuicyPixels to determine size for png, jpeg,
      and gif, instead of doing our own binary parsing (<a href="https://github.com/jgm/pandoc/issues/6936">#6936</a>). This
      gives more reliable results.</li>
      </ul></li>
      <li><p>Text.Pandoc.CSS:</p>
      <ul>
      <li>Remove <span><code>foldOrElse</code></span>
      (internal module) (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Use skylighting 0.10.2 (<a href="https://github.com/jgm/pandoc/issues/6625">#6625</a>).</p></li>
      <li><p>Use citeproc 0.3. This fixes issues with references with
      duplicate ids (jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/36">#36</a>).</p></li>
      <li><p>Use doctemplates 0.9. This fixes issues with boolean
      metadata values in the Markdown writer (<a href="https://github.com/jgm/pandoc/issues/6388">#6388</a>) and in
      <span><code>meta-json</code></span> (<a href="https://github.com/jgm/pandoc/issues/6650">#6650</a>). It
      also fixes issues with nested for loops in templates.</p></li>
      <li><p>Add translations zh-Hans.yaml and zh-Hant.yaml (<a href="https://github.com/jgm/pandoc/issues/6904">#6904</a>, <a href="https://github.com/jgm/pandoc/issues/6909">#6909</a>, Kolen
      Cheung, taotieren).</p></li>
      <li><p>Add tests: True to cabal.project. This fixes some CI
      failures for cabal.</p></li>
      <li><p>Normalize test/tables/*.native (<a href="https://github.com/jgm/pandoc/issues/6888">#6888</a>, Kolen
      Cheung).</p></li>
      <li><p>Move executable to <span><code>app</code></span> directory to avoid problems
      with cabal repl.</p></li>
      <li><p>CONTRIBUTING: add section “How can I help?” (<a href="https://github.com/jgm/pandoc/issues/6892">#6892</a>, Albert
      Krewinkel). Also adds a paragraph aimed at highlighting the
      importance of feature maintenance.</p></li>
      <li><p>MANUAL: Document that –number-sections works in <span><code>ms</code></span> (<a href="https://github.com/jgm/pandoc/issues/6935">#6935</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.2-2020-11-19">
      <h2><a href="#pandoc-2.11.2-2020-11-19" aria-hidden="true"></a>pandoc 2.11.2 (2020-11-19)</h2>
      <ul>
      <li><p>Default to using ATX (<span><code>##</code></span>-style) headings for Markdown
      output (<a href="https://github.com/jgm/pandoc/issues/6662">#6662</a>, Aner
      Lucero). Previously we used Setext (underlined) headings by
      default for levels 1–2.</p></li>
      <li><p>Add option <span><code>--markdown-headings=atx|setext</code></span>,
      and deprecate <span><code>--atx-headers</code></span> (<a href="https://github.com/jgm/pandoc/issues/6662">#6662</a>, Aner
      Lucero).</p></li>
      <li><p>Support <span><code>markdown-headings</code></span> in defaults
      files.</p></li>
      <li><p>Fix corner case in YAML metadata parsing (<a href="https://github.com/jgm/pandoc/issues/6823">#6823</a>).
      Previously YAML metadata would sometimes not get recognized if a
      field ended with a newline followed by spaces.</p></li>
      <li><p><span><code>--self-contained</code></span>:
      increase coverage (<a href="https://github.com/jgm/pandoc/issues/6854">#6854</a>).
      Previously we only self-contained attributes for certain tag names
      (<span><code>img</code></span>, <span><code>embed</code></span>, <span><code>video</code></span>, <span><code>input</code></span>, <span><code>audio</code></span>, <span><code>source</code></span>, <span><code>track</code></span>, <span><code>section</code></span>). Now we self-contain
      any occurrence of <span><code>src</code></span>,
      <span><code>data-src</code></span>, <span><code>poster</code></span>, or <span><code>data-background-image</code></span>, on any
      tag; and also <span><code>href</code></span> on
      <span><code>link</code></span> tags.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fix detection of locators following in-text citations.
      Prevously, if we had <span><code>@foo [p. 33; @bar]</code></span>, the <span><code>p. 33</code></span> would be incorrectly
      parsed as a prefix of <span><code>@bar</code></span> rather than a suffix of
      <span><code>@foo</code></span>.</li>
      <li>Improve period suppression algorithm for citations in notes in
      note citation styles (<a href="https://github.com/jgm/pandoc/issues/6835">#6835</a>).</li>
      <li>Don’t increment <span><code>stateNoteNumber</code></span> for example
      list references. This helps with <a href="https://github.com/jgm/pandoc/issues/6836">#6836</a> (a bug
      in which example list references disturb calculation of citation
      note number and affect when <span><code>ibid</code></span> is triggered).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Move <span><code>getNextNumber</code></span>
      from Readers.LaTeX to Readers.LaTeX.Parsing.</li>
      <li>Fix negative numbers in siunitx commands. A change in pandoc
      2.11 broke negative numbers, e.g. <span><code>\SI{-33}{\celcius}</code></span> or <span><code>\num{-3}</code></span>. This fixes the
      regression.</li>
      </ul></li>
      <li><p>DocBook reader: drop period in formalpara title and put it
      in a div with class <span><code>formalpara-title</code></span>, so that
      people can reformat with filters (<a href="https://github.com/jgm/pandoc/issues/6562">#6562</a>).</p></li>
      <li><p>Man reader: improve handling of <span><code>.IP</code></span> (<a href="https://github.com/jgm/pandoc/issues/6858">#6858</a>). We
      now better handle <span><code>.IP</code></span>
      when it is used with non-bullet, non-numbered lists, creating a
      definition list. We also skip blank lines like groff
      itself.</p></li>
      <li><p>Bibtex reader: fall back on <span><code>en-US</code></span> if locale for LANG not
      found. This reproduces earlier pandoc-citeproc behavior
      (jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/26">#26</a>).</p></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Wrap all tables (Albert Krewinkel). All <span><code>&lt;table&gt;</code></span> elements are put
      inside <span><code>&lt;table-wrap&gt;</code></span>
      elements, as the former are not valid as immediate child elements
      of <span><code>&lt;body&gt;</code></span>.</li>
      <li>Move Table handling to separate module (Albert Krewinkel).
      Adds two new unexported modules: Text.Pandoc.Writers.JATS.Types,
      Text.Pandoc.Writers.JATS.Table.</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Replace org #+KEYWORDS with #+keywords (TEC). As of ~2 years
      ago, lower case keywords became the standard (though they are
      handled case insensitive, as always).</li>
      <li>Update org supported languages and identifiers according to
      the current list contained in <a href="https://orgmode.org/worg/org-contrib/babel/languages/index.html">https://orgmode.org/worg/org-contrib/babel/languages/index.html</a>
      (TEC).</li>
      </ul></li>
      <li><p>Only use <span><code>filterIpynbOutput</code></span> if input
      format is ipynb (<a href="https://github.com/jgm/pandoc/issues/6841">#6841</a>).
      Before this change content could go missing from divs with class
      <span><code>output</code></span>, even when
      non-ipynb was being converted.</p></li>
      <li><p>When checking reader/writer name, check base name now that
      we permit extensions on formats other than markdown.</p></li>
      <li><p>Text.Pandoc.PDF: Fix <span><code>changePathSeparators</code></span> for
      Windows (<a href="https://github.com/jgm/pandoc/issues/6173">#6173</a>).
      Previously a path beginning with a drive, like <span><code>C:\foo\bar</code></span>, was translated to
      <span><code>C:\/foo/bar</code></span>, which caused
      problems. With this fix, the backslashes are removed.</p></li>
      <li><p>Text.Pandoc.Logging:</p>
      <ul>
      <li>Add constructor <span><code>ATXHeadingInLHS</code></span> to <span><code>LogMessage</code></span> [API change].</li>
      <li>Add constructor <span><code>EnvironmentVariableUndefined</code></span> to
      <span><code>LogMessage</code></span> [API
      change].</li>
      </ul></li>
      <li><p>Fix error that is given when people specify <span><code>doc</code></span> output (<a href="https://github.com/jgm/pandoc/issues/6834">#6834</a>,
      gison93).</p></li>
      <li><p>LaTeX template: add a <span><code>\break</code></span> after parbox in <span><code>CSLRightInline</code></span>. This should fix
      spacing problems between entries with numeric styles. Also fix
      number of params on <span><code>CSLReferences</code></span>.</p></li>
      <li><p>reveal.js template: Put quotes around <span><code>controlsLayout</code></span>, <span><code>controlsBackArrows</code></span>, and <span><code>display</code></span>, since these require
      strings. Add <span><code>showSlideNumber</code></span>, <span><code>hashOneBasedIndex</code></span>, <span><code>pause</code></span>.</p></li>
      <li><p>Use citeproc 0.2. This fixes a bug with title case around
      parentheses.</p></li>
      <li><p>pandoc.cabal: remove ‘static’ flag. This isn’t really
      necessary and can be misleading (e.g. on macOS, where a fully
      static build isn’t possible). cabal’s new option <span><code>--enable-executable-static</code></span> does
      the same. On stack you can add something like this to the options
      for your executable in package.yaml:</p>
      <pre><code>ld-options: -static -pthread</code></pre></li>
      <li><p>Remove obsolete bibutils flag setting in <span><code>linux/make_artifacts.sh</code></span>.</p></li>
      <li><p>Manual:</p>
      <ul>
      <li>Correct <span><code>link-citation</code></span>
      -&gt; <span><code>link-citations</code></span>.</li>
      <li>Add a sentence about <span><code>pagetitle</code></span> for HTML (<a href="https://github.com/jgm/pandoc/issues/6843">#6843</a>, Alex
      Toldaiev).</li>
      </ul></li>
      <li><p>INSTALL.md: Remove references to <span><code>pandoc-citeproc</code></span> (<a href="https://github.com/jgm/pandoc/issues/6857">#6857</a>).</p></li>
      <li><p>CONTRIBUTING: describe hlint and how it’s used (<a href="https://github.com/jgm/pandoc/issues/6840">#6840</a>, Albert
      Krewinkel).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.1.1-2020-11-07">
      <h2><a href="#pandoc-2.11.1.1-2020-11-07" aria-hidden="true"></a>pandoc 2.11.1.1 (2020-11-07)</h2>
      <ul>
      <li><p>Citeproc: improve punctuation in in-text note citations (<a href="https://github.com/jgm/pandoc/issues/6813">#6813</a>).
      Previously in-text note citations inside a footnote would
      sometimes have the final period stripped, even if it was needed
      (e.g. on the end of ‘ibid’).</p></li>
      <li><p>Use citeproc 0.1.1.1. This improves the decision about when
      to use <span><code>ibid</code></span> in cases
      where citations are used inside a footnote (<a href="https://github.com/jgm/pandoc/issues/6813">#6813</a>).</p></li>
      <li><p>Support <span><code>nocase</code></span>
      spans for <span><code>csljson</code></span>
      output.</p></li>
      <li><p>Require latest commonmark, commonmark-extensions. This
      fixes a bug with <span><code>autolink_bare_uris</code></span> and
      commonmark.</p></li>
      <li><p>LaTeX reader: better handling of <span><code>\\</code></span> inside math in table cells
      (<a href="https://github.com/jgm/pandoc/issues/6811">#6811</a>).</p></li>
      <li><p>DokuWiki writer: translate language names for code elements
      and improve whitespace (<a href="https://github.com/jgm/pandoc/issues/6807">#6807</a>).</p></li>
      <li><p>MediaWiki writer: use <span><code>syntaxhighlight</code></span> tag instead of
      deprecated <span><code>source</code></span> for
      highlighted code (<a href="https://github.com/jgm/pandoc/issues/6810">#6810</a>). Also
      support <span><code>startFrom</code></span>
      attribute and <span><code>numberLines</code></span>.</p></li>
      <li><p>Lint code in PRs and when committing to master (<a href="https://github.com/jgm/pandoc/issues/6790">#6790</a>, Albert
      Krewinkel).</p></li>
      <li><p>doc/filters.md: describe technical details of filter
      invocations (<a href="https://github.com/jgm/pandoc/issues/6815">#6815</a>, Albert
      Krewinkel).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.1-2020-11-03">
      <h2><a href="#pandoc-2.11.1-2020-11-03" aria-hidden="true"></a>pandoc 2.11.1 (2020-11-03)</h2>
      <ul>
      <li><p>DocBook Reader: fix duplicate bibliography bug (<a href="https://github.com/jgm/pandoc/issues/6773">#6773</a>, Nils
      Carlson).</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Parse contents of iframes (<a href="https://github.com/jgm/pandoc/issues/6770">#6770</a>).</li>
      <li>Parse inline svg as image unless <span><code>raw_html</code></span> is set in the reader
      (in which case the svg is passed through as raw HTML) (<a href="https://github.com/jgm/pandoc/issues/6770">#6770</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Fix bug parsing macro arguments (<a href="https://github.com/jgm/pandoc/issues/6796">#6796</a>). If
      <span><code>\cL</code></span> is defined as <span><code>\mathcal{L}</code></span>, and <span><code>\til</code></span> as <span><code>\tilde{#1}</code></span>, then <span><code>\til\cL</code></span> should expand to <span><code>\tilde{\mathcal{L}}</code></span>, but pandoc
      was expanding it to <span><code>\tilde\mathcal{L}</code></span>. This is
      fixed by parsing the arguments in “verbatim mode” when the macro
      expands arguments at the point of use.</li>
      <li>Properly support optional (cite) argument for <span><code>\blockquote</code></span> from <span><code>csquotes</code></span> (<a href="https://github.com/jgm/pandoc/issues/6802">#6802</a>).</li>
      </ul></li>
      <li><p>LaTeX writer: Improved calculation of table column widths.
      We now have LaTeX do the calculation, using <span><code>\tabcolsep</code></span>. So we should now
      have accurate relative column widths no matter what the text
      width. The default template has been modified to load the calc
      package if tables are used.</p></li>
      <li><p>HTML writer: Fix duplicate “class” attribute for table rows
      (Andy Morris).</p></li>
      <li><p>Text.Pandoc.Filter: allow shorter YAML representation of
      Citeproc (Albert Krewinkel). The map-based YAML representation of
      filters expects <span><code>type</code></span> and
      <span><code>path</code></span> fields. The path
      field had to be present for all filter types, but is not used for
      citeproc filters. The field can now be omitted when type is
      “citeproc”, as described in the MANUAL.</p></li>
      <li><p>Text.Pandoc.Error: Add <span><code>PandocBibliographyError</code></span>
      constructor for <span><code>PandocError</code></span> [API change]. This
      ensures that bibliography parsing errors generate messages that
      include the bibliography file name – otherwise it can be quite
      mysterious where it is coming from.</p></li>
      <li><p>Citeproc: properly handle <span><code>csl</code></span> field with <span><code>data:</code></span> URI (<a href="https://github.com/jgm/pandoc/issues/6783">#6783</a>). This
      is used with the JATS writer, so this fixes a regression in pandoc
      2.11 with JATS output and citeproc.</p></li>
      <li><p>Allow <span><code>citation-abbreviations</code></span> in
      defaults file.</p></li>
      <li><p>JATS templates: ensure <span><code>jats_publishing</code></span> output is valid
      (Albert Krewinkel).</p></li>
      <li><p>LaTeX template: Fix <span><code>CSLRightInline</code></span>, so that it does
      not run over the right margin.</p></li>
      <li><p>HTML template: default CSS tweaks (Mauro Bieg and John
      MacFarlane).</p>
      <ul>
      <li>Fix margin before codeblock</li>
      <li>Add <span><code>monobackgroundcolor</code></span> variable,
      making the background color and padding of code optional.</li>
      <li>Ensure that backgrounds from highlighting styles take
      precedence over monobackgroundcolor</li>
      <li>Remove list markers from TOC</li>
      <li>Add margin-bottom where needed</li>
      <li>Remove italics from blockquote styling</li>
      <li>Change borders and spacing in tables to be more consistent
      with other output formats</li>
      <li>Style h5, h6</li>
      <li>Set font-size for print media to 12pt.</li>
      <li>Reduce interline space.</li>
      <li>Reduce interparagraph space.</li>
      <li>Reduce line width.</li>
      <li>Remove the special <span><code>line-height: 1</code></span> for table
      cells.</li>
      <li>Remove the special line-height for pre.</li>
      <li>Ensure that there is a bit more space before a heading than
      after.</li>
      <li>Slightly reduced space after title header.</li>
      <li>Add CSS example to MANUAL</li>
      </ul></li>
      <li><p>man template: Change comment that triggers <span><code>tbl</code></span> from <span><code>.\&#34;t</code></span> to <span><code>&#39;\&#34; t</code></span>, as specified in
      groff_man(7) (<a href="https://github.com/jgm/pandoc/issues/6803">#6803</a>).</p></li>
      <li><p>Use latest commonmark, commonmark-extensions. This fixes a
      bug with nested blocks in footnotes with the <span><code>footnote</code></span> extension to <span><code>commonmark</code></span>. See
      jgm/commonmark-hs<a href="https://github.com/jgm/pandoc/issues/63">#63</a>.</p></li>
      <li><p>Citeproc: use comma for in-text citations inside footnotes.
      When an author-in-text citation like <span><code>@foo</code></span> occurs in a footnote, we
      now render it with: <span><code>AUTHOR NAME + COMMA + SPACE + REST</code></span>.
      Previously we rendered: <span><code>AUTHOR NAME + SPACE + &#34;(&#34; + REST + &#34;)&#34;</code></span>.
      This gives better results. Note that normal citations are still
      rendered in parentheses.</p></li>
      <li><p>Use latest citeproc:</p>
      <ul>
      <li>citeproc no longer capitalizes notes, so we do it in pandoc
      when appropriate.</li>
      <li>Closes <a href="https://github.com/jgm/pandoc/issues/6783">#6783</a>.</li>
      </ul></li>
      <li><p>Clarify manual on <span><code>--track-changes</code></span> (<a href="https://github.com/jgm/pandoc/issues/6801">#6801</a>).</p></li>
      <li><p>Add <span><code>doc/jats.md</code></span> to
      document pandoc’s handling of JATS (<a href="https://github.com/jgm/pandoc/issues/6794">#6794</a>, Albert
      Krewinkel).</p></li>
      <li><p>Fix code example in lua-filters.md (<a href="https://github.com/jgm/pandoc/issues/6795">#6795</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.0.4-2020-10-21">
      <h2><a href="#pandoc-2.11.0.4-2020-10-21" aria-hidden="true"></a>pandoc 2.11.0.4 (2020-10-21)</h2>
      <ul>
      <li><p>Commonmark writer: fix regression with fenced divs (<a href="https://github.com/jgm/pandoc/issues/6768">#6768</a>).
      Starting with 2.10.1, fenced divs no longer render with HTML div
      tags in commonmark output. This is a regression due to our
      transition from cmark-gfm. This commit fixes it.</p></li>
      <li><p>Use released version of citeproc. (This fixes a mis-step in
      the 2.11.0.3 release, which is now deprecated.)</p></li>
      <li><p>Use latest sylighting, with support for <span><code>groovy</code></span>.</p></li>
      <li><p>Document that –html-q-tags requires the smart extension on
      the reader (<a href="https://github.com/jgm/pandoc/issues/6766">#6766</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.0.3-2020-10-20">
      <h2><a href="#pandoc-2.11.0.3-2020-10-20" aria-hidden="true"></a>pandoc 2.11.0.3 (2020-10-20)</h2>
      <ul>
      <li><p>Use latest citeproc (closes <a href="https://github.com/jgm/pandoc/issues/6765">#6765</a>). This
      fixes a problem with author-in-text citations for references
      including both an author and an editor. Previously, both were
      included in the text, but only the author should be.</p></li>
      <li><p>With <span><code>--citeproc</code></span>,
      ensure that the final period is removed when citations that occur
      in notes in note-based styles get put in parentheses. See
      jgm/citeproc<a href="https://github.com/jgm/pandoc/issues/20">#20</a>.</p></li>
      <li><p>Normalize rewritten image paths with <span><code>--extract-media</code></span> (<a href="https://github.com/jgm/pandoc/issues/6761">#6761</a>). This
      change will avoid mixed paths like this one when <span><code>--extract-media</code></span> is used with a
      Word file: <span><code>![](C:\Git\TIJ4\Markdown/media/image30.wmf)</code></span>.
      Instead we’ll get <span><code>![](C:\Git\TIJ4\Markdown</code></span>media<span><code>image30.wmf)</code></span>.</p></li>
      <li><p>Modify <span><code>--version</code></span>
      output. Use space more efficiently and report the citeproc and
      ipynb versions, along with skylighting, texmath, and pandoc-types.
      Drop the word “default” before “user data directory.”</p></li>
      <li><p>DocBook reader: bibliomisc and anchor support (<a href="https://github.com/jgm/pandoc/issues/6754">#6754</a>, Nils
      Carlson). Also ensure that bibliodiv without a title no longer
      results in an empty Header.</p></li>
      <li><p>ConTeXt template: adds <span><code>\setupinterlinespace</code></span> to fonts
      larger than normal (<a href="https://github.com/jgm/pandoc/issues/6763">#6763</a>, Denis
      Maier).</p></li>
      <li><p>LaTeX template: Do not load amssymb if not needed (<a href="https://github.com/jgm/pandoc/issues/6469">#6469</a>, Angelo
      Peronio). See <a href="https://tex.stackexchange.com/a/549938">https://tex.stackexchange.com/a/549938</a>.</p></li>
      <li><p>Relax upper bound on hslua, allow hslua-1.3.* (Albert
      Krewinkel).</p></li>
      <li><p>MANUAL:</p>
      <ul>
      <li>Improve explanation of “indent” variable (<a href="https://github.com/jgm/pandoc/issues/6767">#6767</a>, Cyrus
      Yip).</li>
      <li>Remove org from list of input formats supporting raw_tex (<a href="https://github.com/jgm/pandoc/issues/6753">#6753</a>, Nick
      Fleisher).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.11.0.2-2020-10-15">
      <h2><a href="#pandoc-2.11.0.2-2020-10-15" aria-hidden="true"></a>pandoc 2.11.0.2 (2020-10-15)</h2>
      <ul>
      <li><p>Fix handling of <span><code>xdata</code></span> in bibtex/biblatex
      bibliographies (<a href="https://github.com/jgm/pandoc/issues/6752">#6752</a>).</p></li>
      <li><p>Fix some small typos in the API documentation (<a href="https://github.com/jgm/pandoc/issues/6751">#6751</a>,
      Michael Hoffmann).</p></li>
      <li><p>Require citeproc 0.1.0.2. This fixes a regression from
      pandoc-citeproc involving spacing between components of a
      reference in certain styles (e.g. <span><code>cell.csl</code></span>).</p></li>
      <li><p>Fix typos in comments, doc strings, error messages, and
      tests (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6738">#6738</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11.0.1-2020-10-13">
      <h2><a href="#pandoc-2.11.0.1-2020-10-13" aria-hidden="true"></a>pandoc 2.11.0.1 (2020-10-13)</h2>
      <ul>
      <li><p>LaTeX reader: support more acronym commands (<a href="https://github.com/jgm/pandoc/issues/6746">#6746</a>): <span><code>\acl</code></span>, <span><code>\aclp</code></span>, and capitalized versions
      of already supported commands.</p></li>
      <li><p>Commonmark reader: add <span><code>pipe_table</code></span> extension
      <em>after</em> defaults (<a href="https://github.com/jgm/pandoc/issues/6739">#6739</a>).
      Otherwise we get bad results for non-table, non-paragraph lines
      containing pipe characters.</p></li>
      <li><p>Markdown writer: Fix autolinks rendering for gfm (<a href="https://github.com/jgm/pandoc/issues/6740">#6740</a>).
      Previously, autolinks rendered as raw HTML, due to the <span><code>class=&#34;uri&#34;</code></span> added by pandoc’s
      markdown reader.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Escape option values in lstlistings environment (<a href="https://github.com/jgm/pandoc/issues/6742">#6742</a>).</li>
      <li>Fix handling of <span><code>lang</code></span>
      <span><code>pt-BR</code></span> (<a href="https://github.com/jgm/pandoc/issues/2953">#2953</a>). For
      polyglossia we now use <span><code>\setmainlanguage[variant=brazilian]{portuguese}</code></span>
      and for babel <span><code>\usepackage[shorthands=off,main=brazilian]{babel}</code></span>.</li>
      </ul></li>
      <li><p>Depend on latest citeproc (0.1.0.1).</p>
      <ul>
      <li>This fixes the citation number issue with ieee.csl and other
      styles that do not explicitly sort bibliographies (<a href="https://github.com/jgm/pandoc/issues/6741">#6741</a>).
      (Pandoc was numbering them by their order in the bibliography
      file, rather than the order cited, as required by the CSL
      spec.)</li>
      <li>Fixes groupin/collapsing with citation items with
      prefixes.</li>
      </ul></li>
      <li><p>default.latex: fix <span><code>CSLReference</code></span> macro
      definition.</p></li>
      <li><p>Fix MANUAL.txt CSL JSON conversion examples.</p></li>
      <li><p>Fix spelling errors in changelog, MANUAL.txt, <span><code>doc/org.md</code></span> (<a href="https://github.com/jgm/pandoc/issues/6738">#6738</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.11-2020-10-11">
      <h2><a href="#pandoc-2.11-2020-10-11" aria-hidden="true"></a>pandoc 2.11 (2020-10-11)</h2>
      <ul>
      <li><p>Add <span><code>--citeproc</code></span>
      (<span><code>-C</code></span>) option to trigger
      built-in citation processing. It is no longer necessary to use the
      external <span><code>pandoc-citeproc</code></span>
      filter. <span><code>--citeproc</code></span>
      behaves like a filter and can be positioned relative to other
      filters as they appear on the command line.</p>
      <p>The new built-in citation processing uses the citeproc library,
      a reimplementation of CSL citation processing that fixes many of
      the shortcomings of pandoc-citeproc. In general, citation
      processing should work much the same as it did with
      pandoc-citeproc, but with greater fidelity to CSL styles and
      better performance. (The tests from the pandoc-citeproc package
      have been carried over to pandoc.) The following differences
      should be noted:</p>
      <ul>
      <li><p>At this point, only some of the writers (HTML, ms, LaTeX)
      properly interpret CSL display styles. You should get decent
      output in all formats (at least as good as with pandoc-citeproc),
      but indentation and block-alignment may not be right.</p></li>
      <li><p>pandoc-citeproc searches the <span><code>~/.csl</code></span> directory for <span><code>.csl</code></span> styles. Pandoc instead
      searches the <span><code>csl</code></span>
      subdirectory of the pandoc user data directory (e.g., <span><code>~/.pandoc/csl</code></span> or <span><code>~/.local/share/pandoc/csl</code></span>).
      Users who already keep CSL styles in <span><code>~/.csl</code></span> may find it convenient
      to add a symlink.</p></li>
      <li><p>Some of the bibliography formats supported by
      pandoc-citeproc (via hs-bibutils) are no longer supported: Copac,
      EndNote, ISI, MEDLINE, MODS, and RIS. If you use one of these
      formats, you may use the <span><code>bibutils</code></span> utility to convert to
      BibLaTeX. We now support only BibTeX, BibLaTeX, CSL JSON, and
      pandoc’s YAML/Markdown analogue of CSL JSON.</p></li>
      <li><p>pandoc-citeproc would always retrieve the independent
      parent of a dependent style by doing an HTTP request. pandoc will
      now first seek the independent parent locally (in the resource
      path or in the <span><code>csl</code></span>
      subdirectory of the pandoc user data directory) before resorting
      to HTTP. In addition, you may omit the <span><code>.csl</code></span> extension, e.g. <span><code>--csl zoology</code></span>.</p></li>
      <li><p>Using the <span><code>--bibliography</code></span> option (or
      including <span><code>bibliography</code></span> in
      YAML metadata) no longer triggers citation processing implicitly:
      one must always use the <span><code>--citeproc</code></span> option if citation
      processing is wanted.</p></li>
      </ul></li>
      <li><p>Add <span><code>csljson</code></span> as and
      input and output format. This allows pandoc to convert between
      <span><code>csljson</code></span> and other
      bibliography formats (e.g. <span><code>-f csljson -t markdown -s</code></span> or
      <span><code>-f bibtex -t csljson</code></span>),
      and to generate formatted versions of CSL JSON bibliographies
      (e.g., <span><code>pandoc -f csljson --citeproc pl.json -o pl.pdf</code></span>).</p></li>
      <li><p>Added <span><code>bibtex</code></span>,
      <span><code>biblatex</code></span> as input
      formats. This allows pandoc to convert between BibLaTeX and BibTeX
      and other bibliography formats, and to generated formatted
      versions of BibTeX/BibLaTeX bibliographies (e.g., <span><code>pandoc -f biblatex --citeproc pl.bib -o pl.pdf</code></span>).</p></li>
      <li><p>Raise informative errors when YAML metadata parsing fails
      (<a href="https://github.com/jgm/pandoc/issues/6730">#6730</a>).
      Previously the command would succeed, returning empty metadata,
      with no errors or warnings.</p></li>
      <li><p>Sort languages in <span><code>--list-highlight-languages</code></span>
      output (<a href="https://github.com/jgm/pandoc/issues/6718">#6718</a>, Albert
      Krewinkel). Languages were previously sorted by their long name,
      which leads to unexpected results).</p></li>
      <li><p>Add CSS to default HTML template (<a href="https://github.com/jgm/pandoc/issues/6601">#6601</a>, Mauro
      Bieg). This greatly improves the default typography in pandoc’s
      HTML output. The CSS is sensitive to a number of variables
      (e.g. <span><code>mainfont</code></span>, <span><code>fontsize</code></span>, <span><code>linestretch</code></span>): see the manual
      for details. To restore the earlier, more spartan output, you can
      disable this with <span><code>-M document-css=false</code></span>.</p></li>
      <li><p>Support <span><code>--toc-depth</code></span> option for ODT
      writer (<a href="https://github.com/jgm/pandoc/issues/6696">#6696</a>,
      niszet).</p></li>
      <li><p>Fix issues with Windows UNC paths with some options (<a href="https://github.com/jgm/pandoc/issues/5127">#5127</a>).</p></li>
      <li><p>Remove <span><code>fenced_code_blocks</code></span> and <span><code>backtick_code_blocks</code></span> from
      allowed <span><code>commonmark</code></span> and
      <span><code>gfm</code></span> extensions. These
      shouldn’t really be counted as extensions, because they can’t be
      disabled in commonmark. Adjust markdown writer to check for the
      commonmark variant in addition to extensions.</p></li>
      <li><p>Add these extensions to <span><code>gfm</code></span> and <span><code>commonmark</code></span>: <span><code>fenced_code_blocks</code></span>, <span><code>backtick_code_blocks</code></span>, <span><code>fenced_code_attributes</code></span>. These
      can’t really be disabled in the reader, but they need to be
      enabled in the writer or we just get indented code.</p></li>
      <li><p>Make sure proper set of extensions is recognized for <span><code>commonmark_x</code></span>.</p></li>
      <li><p>Allow <span><code>gfm_auto_identifiers</code></span>, <span><code>ascii_identifiers</code></span> extensions
      for <span><code>docx</code></span>.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Add <span><code>Maybe FilePath</code></span>
      parameter to <span><code>yamlToMeta</code></span>
      [API change].</li>
      <li>Export <span><code>yamlToRefs</code></span>
      [API change], a version of <span><code>yamlToMeta</code></span> specialized to
      references.</li>
      <li>Set <span><code>citationNoteNum</code></span>
      accurately in citations.</li>
      <li>Revise abbreviation support. Don’t insert a nonbreaking space
      after a potential abbreviation if it comes right before a note or
      citation. This causes problems for citeproc’s moving of note
      citations.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Support missing siunitx commands (<a href="https://github.com/jgm/pandoc/issues/6658">#6658</a>).</li>
      <li>Support <span><code>squared</code></span>,
      <span><code>cubed</code></span>, <span><code>tothe</code></span> in siunitx (<a href="https://github.com/jgm/pandoc/issues/6657">#6657</a>).</li>
      <li>Improved uncertainty handling in slunitx.</li>
      <li>Factored out siunitx stuff into separate unexposed
      module.</li>
      <li>Fix improper empty cell filtering (<a href="https://github.com/jgm/pandoc/issues/6689">#6689</a>,
      Christian Despres).</li>
      <li>Fix parsing of “show name” in <span><code>\newtheorem</code></span> (<a href="https://github.com/jgm/pandoc/issues/6734">#6734</a>).
      Previously we were just treating it as a string and ignoring
      accents and formatting.</li>
      <li>Prevent wrong nesting of <span><code>\multirow</code></span> and <span><code>\multicolumn</code></span> table cells (<a href="https://github.com/jgm/pandoc/issues/6603">#6603</a>,
      Laurent P. René de Cotret).</li>
      <li>Table cell parser not consuming spaces correctly (<a href="https://github.com/jgm/pandoc/issues/6596">#6596</a>,
      Laurent P. René de Cotret).</li>
      <li>Change <span><code>SIRange</code></span> to
      <span><code>SIrange</code></span> (<a href="https://github.com/jgm/pandoc/issues/6617">#6617</a>,
      Emerson Harkin).</li>
      <li>Allow blank lines inside <span><code>\author</code></span> (<a href="https://github.com/jgm/pandoc/issues/6324">#6324</a>).</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Don’t squelch space at end of emphasis and other inline
      elements; instead, move it outside the element (<a href="https://github.com/jgm/pandoc/issues/6719">#6719</a>).</li>
      <li>Implement table cell alignment (<a href="https://github.com/jgm/pandoc/issues/6698">#6698</a>, Nils
      Carlson).</li>
      <li>Implement column span support for tables (<a href="https://github.com/jgm/pandoc/issues/6492">#6492</a>, Nils
      Carlson).</li>
      <li>Update list of block level tags (<a href="https://github.com/jgm/pandoc/issues/6610">#6610</a>).</li>
      </ul></li>
      <li><p>JATS reader:</p>
      <ul>
      <li>Don’t squelch space at end of emphasis and other inline
      elements; instead, move it outside the element (<a href="https://github.com/jgm/pandoc/issues/6719">#6719</a>).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Apply <span><code>.. class::</code></span>
      directly to following Header rather than creating a surrounding
      Div (<a href="https://github.com/jgm/pandoc/issues/6699">#6699</a>).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Allow empty dates in comments and tracked changes (<a href="https://github.com/jgm/pandoc/issues/6726">#6726</a>, Diego
      Balseiro).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Be less aggressive about using quotes for YAML values,
      allowing e.g. a quotation mark or bracket as long as it’s not at
      the beginning of the line.</li>
      <li>Use double quotes for YAML metadata (<a href="https://github.com/jgm/pandoc/issues/6727">#6727</a>).</li>
      <li>Sort YAML metadata keys in Markdown output
      case-insensitive.</li>
      </ul></li>
      <li><p>Asciidoc writer:</p>
      <ul>
      <li>Support asciidoctor’s block figures (<a href="https://github.com/jgm/pandoc/issues/6538">#6538</a>,
      argent0).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Fix spacing issue with list in definition list. When a list
      occurs at the beginning of a definition list definition, it can
      start on the same line as the label, which looks bad. Fix that by
      starting such lists with an <span><code>\item[]</code></span>.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Support intermediate table headers (<a href="https://github.com/jgm/pandoc/issues/5314">#5314</a>, Albert
      Krewinkel).</li>
      <li>Support attributes on all table elements (Albert
      Krewinkel).</li>
      <li>Render table footers if present (<a href="https://github.com/jgm/pandoc/issues/6314">#6314</a>, Albert
      Krewinkel).</li>
      <li>Fix addition of <span><code>doc-biblioentry</code></span> role.</li>
      <li>Support colspans and rowspans in HTML tables (<a href="https://github.com/jgm/pandoc/issues/6312">#6312</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>ICML writer:</p>
      <ul>
      <li>Support internal document links (<a href="https://github.com/jgm/pandoc/issues/5541">#5541</a>,
      Leonard Rosenthol).</li>
      <li>Changed default link state to invisible (<a href="https://github.com/jgm/pandoc/issues/6676">#6676</a>,
      Leonard Rosenthol).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Better handle list items whose contents are lists (<a href="https://github.com/jgm/pandoc/issues/5948">#5948</a>,
      Michael Hoffmann). If the first element of a bulleted or ordered
      list is another list, then that first item would previously
      disappear if the target format is docx.</li>
      <li>Separate adjacent tables (<a href="https://github.com/jgm/pandoc/issues/4315">#4315</a>). Word
      combines adjacent tables, so to prevent this we insert an empty
      paragraph between two adjacent tables.</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Don’t force blank line after headings (<a href="https://github.com/jgm/pandoc/issues/6554">#6554</a>).</li>
      </ul></li>
      <li><p>OpenDocument writer:</p>
      <ul>
      <li>Implement table cell alignment (<a href="https://github.com/jgm/pandoc/issues/6700">#6700</a> Nils
      Carson, Mauro Bieg).</li>
      <li>New table cell support with row and column spans (<a href="https://github.com/jgm/pandoc/issues/6682">#6682</a>, Nils
      Carson).</li>
      <li>Syntax highlighting for inline code (<a href="https://github.com/jgm/pandoc/issues/6711">#6711</a>,
      niszet).</li>
      </ul></li>
      <li><p>Add Text.Pandoc.Citeproc module, exporting <span><code>processCitations</code></span> [API change].
      This depends on several other, unexported modules under
      Text.Pandoc.Citeproc.</p></li>
      <li><p>Add module Text.Pandoc.Writers.CslJson, exporting <span><code>writeCslJson</code></span>. [API
      change]</p></li>
      <li><p>Add module Text.Pandoc.Readers.CslJson, exporting <span><code>readCslJson</code></span>. [API
      change]</p></li>
      <li><p>Add module Text.Pandoc.Readers.BibTeX, exporting <span><code>readBibTeX</code></span> and <span><code>readBibLaTeX</code></span>. [API
      change]</p></li>
      <li><p>Text.Pandoc.Filter: Add <span><code>CiteprocFilter</code></span> constructor to
      Filter. [API change] This runs the processCitations
      transformation. We need to treat it like a filter so it can be
      placed in the sequence of filter runs (after some, before others).
      In FromYAML, this is parsed from <span><code>citeproc</code></span> or <span><code>{type: citeproc}</code></span>, so this
      special filter may be specified either way in a defaults file (or
      by <span><code>citeproc: true</code></span>, though
      this gives no control of positioning relative to other
      filters).</p></li>
      <li><p>Add new exported module Text.Pandoc.Writers.AnnotatedTable
      [API change] (<a href="https://github.com/jgm/pandoc/issues/6655">#6655</a>,
      Christian Despres). This module (which should generally be
      imported qualified to avoid name conflicts) provides a <span><code>Table</code></span> type that mirrors the
      structure of a pandoc <span><code>Table</code></span>, but with added inferred
      information so that the writers do not have to lay out tables
      themselves. The <span><code>toTable</code></span>
      and <span><code>fromTable</code></span> functions
      convert between an annotated <span><code>Table</code></span> and a regular pandoc
      <span><code>Table</code></span>. In addition to
      producing a <span><code>Table</code></span> with
      coherent and well-formed annotations, the <span><code>toTable</code></span> function also
      normalizes its input table like the table builder does. Tests
      ensure that <span><code>toTable</code></span>
      normalizes tables exactly like the table builder, and that its
      annotations are coherent.</p></li>
      <li><p>Text.Pandoc.Logging:</p>
      <ul>
      <li>Remove unused <span><code>CouldNotParseYamlMetadata</code></span>
      constructor for <span><code>LogMessage</code></span> [API change].</li>
      <li>Add <span><code>CiteprocWarning</code></span>
      constructor to <span><code>LogMessage</code></span>
      [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Metadata: export <span><code>yamlBsToRefs</code></span> [API change].
      These allow specifying an id filter so we parse only references
      that are used in the document.</p></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li>Export ParseError [API change].</li>
      <li>Add <span><code>stateInNote</code></span> and
      <span><code>stateNoteNumber</code></span> to <span><code>ParserState</code></span> [API change]. These
      are used to populate note numbers for citation processing.</li>
      </ul></li>
      <li><p>Fix apparent typos in sample.lua (<a href="https://github.com/jgm/pandoc/issues/6729">#6729</a>,
      William Lupton). Also make the writer less aggressive in escaping
      quotes.</p></li>
      <li><p>Text.Pandoc.Options:</p>
      <ul>
      <li><span><code>defaultMathJaxURL</code></span>:
      use <span><code>tex-chtml-full</code></span>
      instead of <span><code>tex-mml-chtml</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/6599">#6599</a>,
      Kolen Cheung). This drops the MathML support (which we don’t need
      for HTML math rendering) and includes the full JavaScript, which
      makes it possible to use <span><code>--self-contained</code></span> (though there
      may still be issues if the required math fonts aren’t available).
      This change should also reduce latency in pages with lots of
      formulas.</li>
      <li>Add <span><code>/tex-chtml-full.js</code></span> to <span><code>defaultMathJaxURL</code></span> (<a href="https://github.com/jgm/pandoc/issues/6593">#6593</a>)
      Previously we added this in processing command line options, but
      not in processing defaults files, which was inconsistent.</li>
      </ul></li>
      <li><p>epub.css: Fix cover page selectors and add note explaining
      their use (<a href="https://github.com/jgm/pandoc/issues/6649">#6649</a>,
      a-vrma).</p></li>
      <li><p>Add data files needed for Text.Pandoc.Citeproc: these
      include <span><code>default.csl</code></span> in
      the data directory and a <span><code>citeproc</code></span> directory that is only
      used at compile-time for biblatex localizations. Note that we’ve
      added <span><code>file-embed</code></span> as a
      mandatory rather than a conditional dependency, because of the
      biblatex localization files.</p></li>
      <li><p>Lua filters:</p>
      <ul>
      <li><p>Add SimpleTable for backwards compatibility (<a href="https://github.com/jgm/pandoc/issues/6575">#6575</a>, Albert
      Krewinkel). A new type <span><code>SimpleTable</code></span> is made available
      to Lua filters. It is similar to the <span><code>Table</code></span> type in pandoc versions
      before 2.10; conversion functions from and to the new Table type
      are provided. Old filters using tables now require minimal changes
      and can use, e.g.,</p>
      <pre><code>if PANDOC_VERSION &gt; {2,10,1} then
  pandoc.Table = pandoc.SimpleTable
end</code></pre>
      <p>and</p>
      <pre><code>function Table (tbl)
  tbl = pandoc.utils.to_simple_table(tbl)
  …
  return pandoc.utils.from_simple_table(tbl)
end</code></pre>
      <p>to work with the current pandoc version.</p></li>
      <li><p>Make <span><code>attr</code></span> argument
      optional in <span><code>Table</code></span>
      constructor (Albert Krewinkel). This changes the Lua API. It is
      highly unlikely for this change to affect existing filters, since
      the documentation for the new Table constructor (and type) was
      incomplete and partly wrong before. The Lua API is now more
      consistent, as all constructors for elements with attributes now
      take attributes as the last parameter.</p></li>
      </ul></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Add a dedicated Citations section which consolidates the
      information the manual used to contain about citation processing,
      and incorporates some information formerly found in the
      pandoc-citeproc man page.</li>
      <li>Add note about lualatex using <span><code>selnolig</code></span>.</li>
      <li>Remove duplicate <span><code>seriespage</code></span> (<a href="https://github.com/jgm/pandoc/issues/6568">#6568</a>, Blake
      Eryx).</li>
      <li>Remove lists of support extensions for markdown variants (<a href="https://github.com/jgm/pandoc/issues/6604">#6604</a>).
      Instead, offer the advice to use <span><code>--list-extensions=FORMAT</code></span>.</li>
      <li>Fix position of attributes in header (Albert Krewinkel).</li>
      <li>Delete obsolete section on compact and loose lists (<a href="https://github.com/jgm/pandoc/issues/6684">#6684</a>).</li>
      </ul></li>
      <li><p>doc/lua-filters.md:</p>
      <ul>
      <li>Add info on how to debug Lua filters (<a href="https://github.com/jgm/pandoc/issues/6732">#6732</a>, Ian
      Max Andolina).</li>
      <li>Document Underline type and constructor (Albert
      Krewinkel).</li>
      <li>Document <span><code>body</code></span> field
      (Albert Krewinkel).</li>
      <li>Add missing header attribute</li>
      <li>Add missing Link.title field (Albert Krewinkel).</li>
      <li>Make the setting-the-date example conditional (the-solipsist).
      This makes the example a bit more realistic.</li>
      <li>Remove outdated link table example.</li>
      </ul></li>
      <li><p>doc/org.md:</p>
      <ul>
      <li>Add section on tables (Albert Krewinkel).</li>
      <li>Add section on handling of unknown directives (Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>CONTRIBUTING.md: fix typo (<a href="https://github.com/jgm/pandoc/issues/6584">#6584</a>, Dmitry
      Volodin).</p></li>
      <li><p>Use golden test framework for command tests. This means
      that <span><code>--accept</code></span> can be used
      to update expected output.</p></li>
      <li><p>Use the <span><code>smart</code></span>
      extension when generating pandoc’s man page (<a href="https://github.com/jgm/pandoc/issues/6613">#6613</a>).</p></li>
      <li><p>Release-candidate: don’t build windows i386. So far we
      haven’t been able to figure out how to get stack to use a 32-bit
      ghc.</p></li>
      <li><p>Use <span><code>null</code></span> instead
      of deprecated <span><code>Builder.isNull</code></span>.</p></li>
      <li><p>Makefile:</p>
      <ul>
      <li>Fix macospkg target to fetch target from S3 artifacts.</li>
      <li>Fix pandoc-templates target to include all partials.</li>
      </ul></li>
      <li><p>Remove duplicated dependency in pandoc.cabal (<a href="https://github.com/jgm/pandoc/issues/6591">#6591</a>, Felix
      Yan).</p></li>
      <li><p>Sort build depends in pandoc.cabal alphabetically (<a href="https://github.com/jgm/pandoc/issues/6691">#6691</a>, Albert
      Krewinkel).</p></li>
      <li><p>Add .travis.yml for macos release candidate build (<a href="https://github.com/jgm/pandoc/issues/6622">#6622</a>). We
      need to build the release candidate on Travis rather than GitHub
      actions, because GH has macos 10.15, and binaries compiled on that
      OS will not work with 10.13. This build is only triggered on <span><code>rc/*</code></span> branches.</p></li>
      <li><p>Remove instructions for building pandoc-citeproc from CI
      and release binary build instructions. We will no longer
      distribute pandoc-citeproc.</p></li>
      <li><p>Fix math rendering in trypandoc (this broke after commit
      d8ad766d17603784b86fc5c2e1b22864125d04d1).</p></li>
      <li><p>Use latest versions of skylighting, commonmark (<a href="https://github.com/jgm/pandoc/issues/6589">#6589</a>),
      comonmark-extensions, commonmark-pandoc, texmath.</p></li>
      <li><p>Relax version bounds for hslua, hslua-module-text,
      bytestring.</p></li>
      <li><p>Use released pandoc-types 1.22. This changes the JSON
      encoding slightly for the new table types introduced in 1.21, so
      they’re more consistent with the rest. Developers of libraries for
      pandoc filters will want to take note.</p></li>
      <li><p>Fix hlint suggestions, update hlint.yaml (<a href="https://github.com/jgm/pandoc/issues/6680">#6680</a>,
      Christian Despres).</p></li>
      <li><p>Code cleanup (<a href="https://github.com/jgm/pandoc/issues/6678">#6678</a>, Joseph
      C. Sible).</p></li>
      <li><p>Add haddocks to functions in Text.Pandoc.Writers.Shared
      (Albert Krewinkel).</p></li>
      <li><p>Remove duplicate <span><code>tshow</code></span> definition.</p></li>
      <li><p>Linux release candidate build: use ghc-musl container. This
      simplifies our build process (over using a customized alpine
      container).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.10.1-2020-07-23">
      <h2><a href="#pandoc-2.10.1-2020-07-23" aria-hidden="true"></a>pandoc 2.10.1 (2020-07-23)</h2>
      <ul>
      <li><p>Add <span><code>commonmark_x</code></span>
      output format. This is <span><code>commonmark</code></span> with a number of
      useful pandoc extensions enabled.</p></li>
      <li><p>Many more extensions now work with <span><code>commonmark</code></span> and <span><code>gfm</code></span>.</p></li>
      <li><p>Add generic <span><code>attributes</code></span> extension. This
      allows attributes to be added to any block or inline element in a
      uniform way. Since the Pandoc AST doesn’t include attributes on
      each element type, the attributes will sometimes be added by
      creating a surrounding Div or Span container. Currently this
      extension is only compatible with the <span><code>commonmark</code></span> and <span><code>gfm</code></span> readers.</p>
      <p>To add an attribute to a block-level element, e.g. a paragraph,
      put it before the block:</p>
      <pre><code>{#mypara}
This is a paragraph.</code></pre>
      <p>Multiple attributes may be used and will be combined:</p>
      <pre><code>{#mypara}
{.blue .warning key=&#34;val&#34;}
This is a paragraph.</code></pre>
      <p>To add an attribute to an inline-level element, put it
      immediately after the element:</p>
      <pre><code>*emphasized text*{.special}</code></pre></li>
      <li><p>Support <span><code>--number-sections</code></span> for docx
      output (<a href="https://github.com/jgm/pandoc/issues/1413">#1413</a>).</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Support <span><code>\SIRange</code></span>
      reader (<a href="https://github.com/jgm/pandoc/issues/6418">#6418</a>,
      Emerson Harkin).</li>
      <li>Support table col-span and row-span (<a href="https://github.com/jgm/pandoc/issues/6311">#6311</a>,
      Laurent P. René de Cotret). Supports <span><code>\multirow</code></span> and <span><code>\multicolumn</code></span>.</li>
      <li>Support amsthm: <span><code>\newtheorem</code></span>, <span><code>\theoremstyle</code></span>, and theorem and
      proof environments, including labels and references. The only
      thing that is unsupported is the second optional argument, which
      causes numbering to be reset after the specified series is
      incremented.</li>
      <li>Moved some code to T.P.LaTeX.Parsing. We need to reduce the
      size of the LaTeX reader to ease compilation on resource-limited
      systems.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Fix csv tables with multiline cells (<a href="https://github.com/jgm/pandoc/issues/6549">#6549</a>).</li>
      <li>Fix spurious newlines in some attributes from directives.</li>
      <li>Avoid extra newline in included code blocks.</li>
      </ul></li>
      <li><p>Commonmark reader:</p>
      <ul>
      <li>Switch from cmark-gfm to commonmark-hs for commonmark and gfm
      parsing. This avoids depending on a C library and allows us to
      support more pandoc extensions for <span><code>commonmark</code></span> and <span><code>gfm</code></span>.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Parse releaseinfo as metadata (<a href="https://github.com/jgm/pandoc/issues/6542">#6542</a>).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Only use <span><code>bCs/iCs</code></span> on
      runs with <span><code>rtl</code></span> or <span><code>cs</code></span> property (<a href="https://github.com/jgm/pandoc/issues/6514">#6514</a>,
      Nikolay Yakimov).</li>
      <li>Code cleanup/refactoring (Nikolay Yakimov).</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Respect export setting which disables entities MathML-like
      entities, e.g., <span><code>\alpha</code></span>,
      can be disabled with the <span><code>#+OPTION: e:nil</code></span> export setting
      (Albert Krewinkel).</li>
      <li>Respect export setting disabling footnotes. Footnotes can be
      removed from the final document with the <span><code>#+OPTION: f:nil</code></span> export
      setting.</li>
      <li>Respect tables-excluding export setting. Tables can be removed
      from the final document with the <span><code>#+OPTION: |:nil</code></span> export
      setting.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Move <span><code>asciify</code></span> out of
      <span><code>escapeString</code></span>. Otherwise
      <span><code>unsmartify</code></span> doesn’t catch
      quotes that have already been turned to entities.</li>
      <li>Add <span><code>writeCommonmark</code></span>
      (new exported function, API change).</li>
      <li>Use unicode super/subscript characters when possible if the
      <span><code>superscript</code></span> or <span><code>subscript</code></span> extension or <span><code>raw_html</code></span> aren’t available.</li>
      <li>Render caption as following paragraph when <span><code>table_caption</code></span> extension is not
      enabled.</li>
      <li>Use numerical labels for reference links that are longer than
      999 characters or contain square brackets, for conformity with
      commonmark (<a href="https://github.com/jgm/pandoc/issues/6560">#6560</a>).</li>
      </ul></li>
      <li><p>Commonmark writer:</p>
      <ul>
      <li>Instead of using cmark-gfm, use <span><code>writeCommonmark</code></span> from the
      Markdown writer. This function calls the markdown writer with
      appropriate extensions and a few small modifications (e.g. not
      requiring backslashes before spaces inside super/subscripts). With
      this change <span><code>comonmark</code></span> and
      <span><code>gfm</code></span> output can be used
      with a wider selection of extensions.</li>
      </ul></li>
      <li><p>Jira writer: keep image caption as alt attribute (<a href="https://github.com/jgm/pandoc/issues/6529">#6529</a>, Albert
      Krewinkel).</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Improve alt-text/caption handling for HTML5 (<a href="https://github.com/jgm/pandoc/issues/6491">#6491</a>, Albert
      Krewinkel). Screen readers read an image’s <span><code>alt</code></span> attribute and the figure
      caption, both of which come from the same source in pandoc. The
      figure caption is hidden from screen readers with the <span><code>aria-hidden</code></span> attribute. This
      improves accessibility. For HTML4, where <span><code>aria-hidden</code></span> is not allowed,
      pandoc still uses an empty <span><code>alt</code></span> attribute to avoid
      duplicate contents.</li>
      </ul></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Fix code highlighting with blank lines. Previously blank lines
      were simply omitted from highlighted code.</li>
      <li>Escape starting periods in ms writer code blocks (<a href="https://github.com/jgm/pandoc/issues/6505">#6505</a>,
      Michael Hoffmann). If a line of ms code block output starts with a
      period (.), it should be prepended by <span><code>\&amp;</code></span> so that it is not
      interpreted as a roff command.</li>
      </ul></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li><p>Add <span><code>raw_markdown</code></span>
      extension (which only affects <span><code>ipynb</code></span> input).</p></li>
      <li><p>Trim down <span><code>githubMarkdownExtensions</code></span>.
      Previously it included all of the following, which make sense for
      the legacy <span><code>markdown_github</code></span> but not for
      <span><code>gfm</code></span>, since they are part
      of base commonmark and thus can’t be turned off in <span><code>gfm</code></span>:</p>
      <ul>
      <li><span><code>Ext_all_symbols_escapable</code></span></li>
      <li><span><code>Ext_backtick_code_blocks</code></span></li>
      <li><span><code>Ext_fenced_code_blocks</code></span></li>
      <li><span><code>Ext_space_in_atx_header</code></span></li>
      <li><span><code>Ext_intraword_underscores</code></span></li>
      <li><span><code>Ext_lists_without_preceding_blankline</code></span></li>
      <li><span><code>Ext_shortcut_reference_links</code></span></li>
      </ul>
      <p>These have been removed from <span><code>githubMarkdownExtensions</code></span>,
      though they’re still turned on for legacy <span><code>markdown_github</code></span>.</p></li>
      <li><p>Add <span><code>Ext_attributes</code></span>
      constructor for <span><code>Extension</code></span>
      [API change].</p></li>
      </ul></li>
      <li><p>LaTeX template: use selnolig to selectively suppress
      ligatures with lualatex (<a href="https://github.com/jgm/pandoc/issues/6534">#6534</a>).</p></li>
      <li><p>Benchmark bytestring readers (Nikolay Yakimov).</p></li>
      <li><p>Documentation:</p>
      <ul>
      <li>Update using-the-pandoc-api.md (favonia).</li>
      <li>Fix Typos in lua-filters.md (tajmone).</li>
      <li>Rewrite Raw HTML/TeX section in MANUAL.txt to avoid duplicate
      headings for the extensions.</li>
      <li>Fix typo in MANUAL.txt (Benjamin Wuethrich).</li>
      <li>Remove duplicate ‘titlepage’ in MANUAL.txt (Blake Eryx).</li>
      <li>CONTRIBUTING.md: Advertise the official nightlies in GitHub
      actions. Replaces <a href="https://github.com/jgm/pandoc/issues/6500">#6500</a>, thanks
      to <span data-cites="ickc">@ickc</span>.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.10-2020-06-29">
      <h2><a href="#pandoc-2.10-2020-06-29" aria-hidden="true"></a>pandoc 2.10 (2020-06-29)</h2>
      <ul>
      <li><p>Use pandoc-types 1.21. This adds two things:</p>
      <ul>
      <li>A native Underline constructor for Inline (<a href="https://github.com/jgm/pandoc/issues/6277">#6277</a>,
      Vaibhav Sagar).</li>
      <li>More expressive types for tables (<a href="https://github.com/jgm/pandoc/issues/1024">#1024</a>,
      Christian Despres). Tables can now take attributes; and rowspans
      and colspans, column headers, multiple row headers, table head and
      foot can all be represented. (Note, however, that reader and
      writer support for these features is still lacking, so most users
      won’t see any differences in table conversion yet. These changes
      just lay the foundation for further improvements.)</li>
      </ul></li>
      <li><p>Support new Underline element in readers and writers (<a href="https://github.com/jgm/pandoc/issues/6277">#6277</a>,
      Vaibhav Sagar).</p></li>
      <li><p>Support new Table type (Christian Despres). The
      Builder.simpleTable now only adds a row to the TableHead when the
      given header row is not null. This uncovered an inconsistency in
      the readers: some would unconditionally emit a header filled with
      empty cells, even if the header was not present. Now every reader
      has the conditional behaviour. Only the XWiki writer depended on
      the header row being always present; it now pads its head as
      necessary.</p></li>
      <li><p>Add an option to disable certificate validation (<a href="https://github.com/jgm/pandoc/issues/6156">#6156</a>, Cédric
      Couralet, Cécile Chemin, Juliette Fourcot). This commit adds the
      option <span><code>--no-check-certificate</code></span>, which
      disables certificate checking when resources are fetched by
      HTTP.</p></li>
      <li><p>Unify defaults and markdown metadata parsers (<a href="https://github.com/jgm/pandoc/issues/6328">#6328</a>,
      Nikolay Yakimov). Clean up code in Text.Pandoc.Readers.Metadata
      and properly handle errors in <span><code>yamlToMeta</code></span>. This fixes parsing
      of Boolean fields in metadata withinin defaults files and reduces
      code duplication.</p></li>
      <li><p>Docbook reader:</p>
      <ul>
      <li>Implement <span><code>&lt;procedure&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/6442">#6442</a>,
      Mathieu Boespflug).</li>
      <li>Implement <span><code>&lt;phrase&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/6438">#6438</a>,
      Mathieu Boespflug).</li>
      <li>Treat envar and systemitem like code (<a href="https://github.com/jgm/pandoc/issues/6435">#6435</a>,
      Mathieu Boespflug).</li>
      <li>Implement <span><code>&lt;replaceable&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/6437">#6437</a>,
      Mathieu Boespflug)</li>
      <li>Map <span><code>&lt;simplesect&gt;</code></span> to
      unnumbered section (<a href="https://github.com/jgm/pandoc/issues/6436">#6436</a>,
      Mathieu Boespflug).</li>
      </ul></li>
      <li><p>JATS reader:</p>
      <ul>
      <li>Handle “label” element in section title (<a href="https://github.com/jgm/pandoc/issues/6288">#6288</a>).</li>
      <li>Parse abstract element into metadata field of same name (<a href="https://github.com/jgm/pandoc/issues/6480">#6480</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Jira reader (Albert Krewinkel):</p>
      <ul>
      <li>Resolve multiple parsing problems, including issues with empty
      table cells, faulty recognition of closing emphasis characters,
      and parsing of image attributes (<a href="https://github.com/jgm/pandoc/issues/6212">#6212</a>, <a href="https://github.com/jgm/pandoc/issues/6219">#6219</a>, <a href="https://github.com/jgm/pandoc/issues/6220">#6220</a>).</li>
      <li>Two consecutive markup chars are now parsed verbatim (<a href="https://github.com/jgm/pandoc/issues/6343">#6343</a>);
      styled text must not be empty.</li>
      <li>Newlines are no longer allowed within styled text (<a href="https://github.com/jgm/pandoc/issues/6325">#6325</a>).</li>
      <li>Links to anchors are now parsed as links (<a href="https://github.com/jgm/pandoc/issues/6407">#6407</a>).</li>
      <li>Retain image attributes (<a href="https://github.com/jgm/pandoc/issues/6234">#6234</a>). Jira
      images attributes as in <span><code>!image.jpg|align=right!</code></span> are
      retained as key-value pairs. Thumbnail images, such as <span><code>!example.gif|thumbnail!</code></span>, are
      marked by a <span><code>thumbnail</code></span>
      class in their attributes.</li>
      <li>Use Underline for inserted text (<a href="https://github.com/jgm/pandoc/issues/6237">#6237</a>).
      Previously, the span was marked with the non-standard class <span><code>inserted</code></span>.</li>
      <li>Improve icon conversion for <span><code>(/)</code></span>, <span><code>(x)</code></span>, <span><code>(!)</code></span>, <span><code>(?)</code></span> <span><code>(+)</code></span>, <span><code>(-)</code></span>, <span><code>(off)</code></span>, <span><code>(*)</code></span>. (<a href="https://github.com/jgm/pandoc/issues/6236">#6236</a>, <a href="https://github.com/jgm/pandoc/issues/6264">#6264</a>).</li>
      <li>Support citations, attachment links, and user links (<a href="https://github.com/jgm/pandoc/issues/6231">#6231</a>, <a href="https://github.com/jgm/pandoc/issues/6238">#6238</a>, <a href="https://github.com/jgm/pandoc/issues/6239">#6239</a>).</li>
      <li>Resolve parsing issues of blockquote, color (<a href="https://github.com/jgm/pandoc/issues/6233">#6233</a>, <a href="https://github.com/jgm/pandoc/issues/6235">#6235</a>).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Parse attributes into table attributes.</li>
      <li>Support <span><code>&lt;bdo&gt;</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/5794">#5794</a>,
      Tristan de Cacqueray).</li>
      <li>Add <span><code>summary</code></span> to list
      of block-level HTML tags (<a href="https://github.com/jgm/pandoc/issues/6385">#6385</a>). This
      improves support for summary/details inside Markdown. NOTE: you
      need to include a blank line before the closing <span><code>&lt;/details&gt;</code></span>, if you want
      the last part of the content to be parsed as a paragraph.</li>
      <li>Fix parsing unclosed th elements in a table (<a href="https://github.com/jgm/pandoc/issues/6247">#6247</a>).</li>
      </ul></li>
      <li><p>Commonmark reader: Implement <span><code>implicit_figures</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/6350">#6350</a>).</p></li>
      <li><p>Markdown Reader:</p>
      <ul>
      <li>Fix inline code in lists (<a href="https://github.com/jgm/pandoc/issues/6284">#6284</a>,
      Nikolay Yakimov). Previously inline code containing list markers
      was sometimes parsed incorrectly.</li>
      <li>Don’t require blank line after grid table (<a href="https://github.com/jgm/pandoc/issues/6481">#6481</a>). This
      allows grid tables to be enclosed in fenced divs with no
      intervening blank lines.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Don’t parse beyond <span><code>\end{document}</code></span> (<a href="https://github.com/jgm/pandoc/issues/6380">#6380</a>). This
      required some internal changes to <span><code>\subfile</code></span> handling.</li>
      <li>Better handling of <span><code>\lettrine</code></span>. SmallCaps instead of
      Span for the part after the initial capital. Ensure that both
      arguments are parsed, so that in Markdown both are treated as raw
      LateX. (Closes <a href="https://github.com/jgm/pandoc/issues/6258">#6258</a>.)</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Recognize images with uppercase extensions (<a href="https://github.com/jgm/pandoc/issues/6472">#6472</a>).</li>
      <li>Keep unknown keyword lines as raw org. The lines of unknown
      keywords, like <span><code>#+SOMEWORD: value</code></span> are no longer
      read as metadata, but kept as raw <span><code>org</code></span> blocks. This ensures that
      more information is retained when round-tripping org-mode files;
      additionally, this change makes it possible to support
      non-standard org extensions via filters.</li>
      <li>Unify keyword handling. Handling of export settings and other
      keywords (like <span><code>#+LINK</code></span>)
      has been combined and unified.</li>
      <li>Support <span><code>LATEX_HEADER_EXTRA</code></span> and <span><code>HTML_HEAD_EXTRA</code></span> settings. These
      export settings are treated like their non-extra counterparts,
      i.e., the values are added to the <span><code>header-includes</code></span> metadata
      list.</li>
      <li>Allow multiple <span><code>#+SUBTITLE</code></span> export settings. The
      values of all lines are read as inlines and collected in the <span><code>subtitle</code></span> metadata field.</li>
      <li>Read <span><code>#+INSTITUTE</code></span>
      values as text with markup. The value is stored in the <span><code>institute</code></span> metadata field and
      used in the default beamer presentation template.</li>
      <li>The behavior of the <span><code>#+AUTHOR</code></span> and <span><code>#+KEYWORD</code></span> export settings has
      changed: Org now allows multiple such lines and adds a space
      between the contents of each line. Pandoc now always parses these
      settings as meta inlines; setting values are no longer treated as
      comma-separated lists. Note that a Lua filter can be used to
      restore the previous behavior.</li>
      <li>Read description lines as inlines (<a href="https://github.com/jgm/pandoc/issues/6485">#6485</a>). <span><code>#+DESCRIPTION</code></span> lines are now
      treated as text with markup. If multiple such lines are given,
      then all lines are read and separated by soft linebreaks.</li>
      <li>Honor tex export option (<a href="https://github.com/jgm/pandoc/issues/4070">#4070</a>). The
      <span><code>tex</code></span> export option can be
      set with <span><code>#+OPTION: tex:nil</code></span> and allows
      three settings: <span><code>t</code></span> (the
      default) causes LaTeX fragments to be parsed as TeX or added as
      raw TeX. <span><code>nil</code></span> removes all
      LaTeX fragments from the document. <span><code>verbatim</code></span> treats LaTeX as
      text.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Pass arbitrary attributes through in code blocks (<a href="https://github.com/jgm/pandoc/issues/6465">#6465</a>).
      Exceptions: name (which becomes the id), class (which becomes the
      classes), and number-lines (which is treated specially to fit with
      pandoc highlighting).</li>
      <li>Handle <span><code>date::</code></span>
      directive (<a href="https://github.com/jgm/pandoc/issues/6276">#6276</a>).</li>
      </ul></li>
      <li><p>Textile reader: support <span><code>pre.</code></span> for code blocks (<a href="https://github.com/jgm/pandoc/issues/6454">#6454</a>).</p></li>
      <li><p>Ipynb reader:</p>
      <ul>
      <li>Implement <span><code>raw_markdown</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/5408">#5408</a>).
      Specifying <span><code>-f ipynb+raw_markdown</code></span> will
      cause Markdown cells to be represented as raw Markdown blocks,
      instead of being parsed. This is not what you want when going from
      <span><code>ipynb</code></span> to other formats,
      but it may be useful when going from <span><code>ipynb</code></span> to Markdown or to <span><code>ipynb</code></span>, to avoid semantically
      insignificant changes in the contents of the Markdown cells that
      might otherwise be introduced.</li>
      <li>Handle application/pdf output as image (<a href="https://github.com/jgm/pandoc/issues/6430">#6430</a>).</li>
      <li>Properly handle image/svg+xml as an image (<a href="https://github.com/jgm/pandoc/issues/6430">#6430</a>).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Distinguish between docx parsing and docx container unpacking
      errors.</li>
      </ul></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Fix <span><code>gfm_auto_identifiers</code></span> so that
      <span><code>-</code></span> is not replaced by
      <span><code>_</code></span> (<a href="https://github.com/jgm/pandoc/issues/6335">#6335</a>).</li>
      </ul></li>
      <li><p>Vimwiki reader:</p>
      <ul>
      <li><p>Add nested syntax highlighting (<a href="https://github.com/jgm/pandoc/issues/6256">#6256</a>, Vlad
      Hanciuta). Nested syntaxes are specified like this:</p>
      <pre><code>{{{sql
SELECT * FROM table
}}}</code></pre>
      <p>The preformatted code block parser has been extended to check
      if the first attribute of the block is not a <span><code>key=value</code></span> pair, and in that
      case it will be considered as a class.</p></li>
      </ul></li>
      <li><p>Jira writer (Albert Krewinkel):</p>
      <ul>
      <li>Always escape braces (<a href="https://github.com/jgm/pandoc/issues/6478">#6478</a>).
      Braces are now always escaped, even within words or when
      surrounded by whitespace. Jira and Confluence treat braces
      specially.</li>
      <li>Convert Underline to inserted text (<span><code>+inserted+</code></span>).</li>
      <li>Add image attributes (<a href="https://github.com/jgm/pandoc/issues/6234">#6234</a>). Image
      attributes are added to the output as image parameters. If the
      image has a class “thumbnail”, then a thumbnail image is
      generated; all other attributes are discarded in this case.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Ensure that <span><code>-M csquotes</code></span> works even in
      fragment mode (<a href="https://github.com/jgm/pandoc/issues/6265">#6265</a>).</li>
      <li>Escape <span><code>^</code></span> specially
      for listings (<a href="https://github.com/jgm/pandoc/issues/6460">#6460</a>).</li>
      <li>Create hypertarget for links with identifier (<a href="https://github.com/jgm/pandoc/issues/6360">#6360</a>).</li>
      <li>Distinguish between single and double quotes when using
      enquote package (<a href="https://github.com/jgm/pandoc/issues/6457">#6457</a>,
      dbecher-ito).</li>
      <li>Add support for customizable alignment of columns in beamer
      (<a href="https://github.com/jgm/pandoc/issues/6331">#6331</a>,
      andrebauer).</li>
      <li>Add support for customizable alignment of columns in beamer
      (<a href="https://github.com/jgm/pandoc/issues/4805">#4805</a>, <a href="https://github.com/jgm/pandoc/issues/4150">#4150</a>,
      andrebauer).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Use CSS in favor of <span><code>&lt;br&gt;</code></span> for display math (<a href="https://github.com/jgm/pandoc/issues/6372">#6372</a>) Some
      CSS to ensure that display math is displayed centered and on a new
      line is now included in the default HTML-based templates; this may
      be overridden if the user wants a different behavior.</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Clean-up Div handling (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Enable column and row bands for tables (<a href="https://github.com/jgm/pandoc/issues/6371">#6371</a>). This
      change will not have any effect with the default style. However,
      it enables users to use a style (via a reference.docx) that turns
      on row and/or column bands.</li>
      </ul></li>
      <li><p>OpenDocument (and ODT) writer:</p>
      <ul>
      <li>Add custom-style “Abstract” in metadata abstract. This ensures
      that the abstract is rendered with style Abstract.</li>
      <li>Enable custom-style attribute on a Div. This allows you to
      apply a custom style to contained paragraphs.</li>
      </ul></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Add id of figure to enclosed image.</li>
      <li>Add personname element to docbook author (<a href="https://github.com/jgm/pandoc/issues/6244">#6244</a>).</li>
      </ul></li>
      <li><p>FB2 writer:</p>
      <ul>
      <li>Properly handle cover-image containing spaces (<a href="https://github.com/jgm/pandoc/issues/6391">#6391</a>).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Ensure consistent padding for pipe tables (<a href="https://github.com/jgm/pandoc/issues/6240">#6240</a>).</li>
      <li>Avoid unnecessary escapes before intraword <span><code>_</code></span> when <span><code>intraword_underscores</code></span> extension
      is enabled (<a href="https://github.com/jgm/pandoc/issues/6296">#6296</a>).</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Properly handle images with same alt text (<a href="https://github.com/jgm/pandoc/issues/6194">#6194</a>).
      Previously we created duplicate references for these in rendering
      RST.</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Add blank line after Div (<a href="https://github.com/jgm/pandoc/issues/6308">#6308</a>).</li>
      </ul></li>
      <li><p>Haddock Writer:</p>
      <ul>
      <li>Support Haddock tables (Joe Hermaszewski). See this PR on
      Haddock for details on the table format: <a href="https://github.com/haskell/haddock/pull/718">https://github.com/haskell/haddock/pull/718</a>.</li>
      </ul></li>
      <li><p>PowerPoint writer (Jesse Rosenthal):</p>
      <ul>
      <li>Write math input verbatim in speaker notes (<a href="https://github.com/jgm/pandoc/issues/6301">#6301</a>). OMML
      in speaker notes would lead to corrupt PowerPoint output. We now
      output the OMML verbatim as LaTeX in the speaker notes.</li>
      </ul></li>
      <li><p>LaTeX template: Make polyglossia package options list-aware
      (<a href="https://github.com/jgm/pandoc/issues/6444">#6444</a>,
      Frederik Elwert).</p></li>
      <li><p>Reveal.js template:</p>
      <ul>
      <li>Update template for reveal.js 4.0.0 (<a href="https://github.com/jgm/pandoc/issues/6390">#6390</a>, Salim
      B).</li>
      <li>Update template with newly available options (<a href="https://github.com/jgm/pandoc/issues/6347">#6347</a>, Jake
      Zimmerman).</li>
      <li>Use CDN version of revealjs v4 by default (<a href="https://github.com/jgm/pandoc/issues/6408">#6408</a>).</li>
      </ul></li>
      <li><p>opendocument template: Add abstract and subtitle to
      opendocument template (<a href="https://github.com/jgm/pandoc/issues/6369">#6369</a>).</p></li>
      <li><p>reference.odt: clean up styles. Add Abstract. Change
      Author, Date to centered paragraphs with no character
      styling.</p></li>
      <li><p>epub.css: wrap overlong lines in highlighted code blocks
      (<a href="https://github.com/jgm/pandoc/issues/6242">#6242</a>).
      This fixes a problem in iBooks v2.4 with our earlier horizontally
      scrolling code blocks. The problem seems to be a bug in iBooks,
      not pandoc, but since iBooks is a major target we’re changing
      pandoc’s default behavior so that pandoc-produced epubs work on
      that platform.</p></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Use <span><code>--enable-local-file-access</code></span> in
      invoking <span><code>wkhtmltopdf</code></span> (<a href="https://github.com/jgm/pandoc/issues/6474">#6474</a>). <span><code>wkhtmltopdf</code></span> changed in recent
      versions to require this for access to local files. This fixes PDF
      via HTML5 with <span><code>--css</code></span>.</li>
      <li>Send verbose output to stderr, not stdout (<a href="https://github.com/jgm/pandoc/issues/6483">#6483</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.MIME: Fix MIME type for TrueType fonts in EPUBs
      (<a href="https://github.com/jgm/pandoc/issues/6464">#6464</a>,
      Michael Reed).</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li><span><code>makeSections</code></span>: omit
      number attribute when unnumbered class is present (<a href="https://github.com/jgm/pandoc/issues/6339">#6339</a>).
      Previously the attribute was included but given an empty value,
      and this caused the table of contents creation functions in
      Text.Pandoc.Writers.Shared to think these items had numbers, which
      meant that they were included in the TOC even if the <span><code>unlisted</code></span> class was used.</li>
      <li>Deprecate <span><code>underlineSpan</code></span> in Shared in
      favor of <span><code>Text.Pandoc.Builder.underline</code></span>
      (Vaibhav Sagar).</li>
      <li><span><code>renderTags&#39;</code></span>: use
      self-closing tag for col element (<a href="https://github.com/jgm/pandoc/issues/6295">#6295</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.UUID: Fix <span><code>getRandomUUID</code></span>, which previously
      would return the same value twice in a row. Make <span><code>getRandomUUID</code></span> polymorphic in
      PandocMonad. Remove <span><code>getUUID</code></span> (<a href="https://github.com/jgm/pandoc/issues/6228">#6228</a>, Joseph
      C. Sible).</p></li>
      <li><p>Text.Pandoc.Class: Generalize <span><code>PandocIO</code></span> functions to <span><code>MonadIO</code></span>.</p></li>
      <li><p>Fixed Katex standalone script (<a href="https://github.com/jgm/pandoc/issues/6399">#6399</a>, Lucas
      Escot). Global macros are now persistent when using the HTML
      Writer with the <span><code>--katex</code></span>
      option.</p></li>
      <li><p>Lua subsystem (Albert Krewinkel):</p>
      <ul>
      <li>Use new type PandocLua for all pandoc Lua operations (API
      change). The new type <span><code>PandocLua</code></span> is an instance of the
      <span><code>PandocMonad</code></span> typeclass and
      can thus be used in a way similar to <span><code>PandocIO</code></span>.</li>
      <li>Use PandocError for exceptions in Lua subsystem (API change).
      The PandocError type is used throughout the Lua subsystem. All Lua
      functions throw an exception of this type if an error occurs. The
      <span><code>LuaException</code></span> type is
      removed and no longer exported from <span><code>Text.Pandoc.Lua</code></span>. In its place,
      a new constructor <span><code>PandocLuaError</code></span> is added to
      PandocError.</li>
      </ul></li>
      <li><p>Lua filters: improve error messages for failing filters (<a href="https://github.com/jgm/pandoc/issues/6332">#6332</a>, Albert
      Krewinkel). Print the Lua error properly instead of displaying
      their <span><code>show</code></span>
      string.</p></li>
      <li><p>Use latest skylighting. This fixes a bug with lua multiline
      comments (and may improve handling of other syntaxes as well). IT
      also adds <span><code>aria-hidden=&#34;true&#34;</code></span> to the empty
      a elements, which helps people who use screen readers.</p></li>
      <li><p>Use latest texmath.</p></li>
      <li><p>Require latest doctemplates 0.8.2. This adds support for
      template pipes <span><code>first</code></span>,
      <span><code>rest</code></span>, <span><code>last</code></span>, <span><code>allbutlast</code></span>.</p></li>
      <li><p>Revert 0e48a02 and dependency on base-noprelude, which
      hasn’t been updated for ghc 8.10 (see <a href="https://github.com/jgm/pandoc/issues/6187">#6187</a>).</p></li>
      <li><p>Dependency adjustments:</p>
      <ul>
      <li>Allow haddock-library 1.9.x.</li>
      <li>Allow hslua 1.1 (<a href="https://github.com/jgm/pandoc/issues/6243">#6243</a>, Felix
      Yan).</li>
      <li>Allow base64-bytestring 1.1.</li>
      <li>Use latest jira-wiki-markup.</li>
      <li>Allow http-client 0.7.</li>
      <li>Allow tasty 1.3.x.</li>
      <li>Allow aeson 1.5 (<a href="https://github.com/jgm/pandoc/issues/6400">#6400</a>, Felix
      Yan).</li>
      <li>Remove unused dependency <span><code>vector</code></span> (<a href="https://github.com/jgm/pandoc/issues/6462">#6462</a>,
      Laurent P. René de Cotret).</li>
      <li>Bump QuickCheck upper bound.</li>
      </ul></li>
      <li><p>Significant code cleanup and simplification (Joseph C.
      Sible, <a href="https://github.com/jgm/pandoc/issues/6223">#6223</a>, <a href="https://github.com/jgm/pandoc/issues/6209">#6209</a>, <a href="https://github.com/jgm/pandoc/issues/6225">#6225</a>, <a href="https://github.com/jgm/pandoc/issues/6229">#6229</a>, <a href="https://github.com/jgm/pandoc/issues/6226">#6226</a>, <a href="https://github.com/jgm/pandoc/issues/6340">#6340</a>).</p></li>
      <li><p>Remove unnecessary hlint ignores (<a href="https://github.com/jgm/pandoc/issues/6341">#6341</a>, Joseph
      C. Sible).</p></li>
      <li><p>Remove obsolete RelaxedPolyRec extension (<a href="https://github.com/jgm/pandoc/issues/6487">#6487</a>,
      Nikolay Yakimov).</p></li>
      <li><p>trypandoc improvements (Mike Tzou):</p>
      <ul>
      <li>Add standalone option to the command text (<a href="https://github.com/jgm/pandoc/issues/6210">#6210</a>).</li>
      <li>Update third party libraries.</li>
      </ul></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Clarify template partial naming (<a href="https://github.com/jgm/pandoc/issues/6476">#6476</a>, Mauro
      Bieg).</li>
      <li>Describe <span><code>jira</code></span> as
      “Jira/Confluence wiki markup” (<a href="https://github.com/jgm/pandoc/issues/6351">#6351</a>, Albert
      Krewinkel). In the past, Jira’s wiki markup was also used by – and
      could be imported into – Atlassian Confluence.</li>
      <li>Add link to print-css.rocks (<a href="https://github.com/jgm/pandoc/issues/6272">#6272</a>, Mauro
      Bieg).</li>
      <li>Clarify pipe table column width adjustment (<a href="https://github.com/jgm/pandoc/issues/6254">#6254</a>).</li>
      <li>Fix ATX header syntax.</li>
      <li>Fix misleading note about image size conversions (<a href="https://github.com/jgm/pandoc/issues/6353">#6353</a>).</li>
      <li>Update links to reveal.js documentation (<a href="https://github.com/jgm/pandoc/issues/6386">#6386</a>, Salim
      B).</li>
      <li>Separate adjacent verbatim code blocks (<a href="https://github.com/jgm/pandoc/issues/6307">#6307</a>,
      tom-audm).</li>
      </ul></li>
      <li><p>org.md:</p>
      <ul>
      <li>Document behavior of <span><code>smart</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/4387">#4387</a>, Albert
      Krewinkel).</li>
      <li>Describe all supported export options in detail.</li>
      </ul></li>
      <li><p>lua-filters.md:</p>
      <ul>
      <li>Fix description of BulletList Lua type (Levi Gruspe).</li>
      <li>Use pandoc.system module in TikZ example (Albert Krewinkel).
      Showcase temporary directory handling with <span><code>with_temporary_directory</code></span> and
      <span><code>with_working_directory</code></span>.</li>
      </ul></li>
      <li><p>INSTALL.md: fix FreeBSD port link (<a href="https://github.com/jgm/pandoc/issues/6422">#6422</a>, Mo).
      The FreeBSD port was renamed from pandoc to hs-pandoc in 2010. The
      old pandoc port is still at version 1.5.1.1</p></li>
      <li><p>Propagate <span><code>(DY)LD_LIBRARY_PATH</code></span> in tests
      (<a href="https://github.com/jgm/pandoc/issues/6376">#6376</a>,
      Lila).</p></li>
      <li><p>Bump <span><code>cabal-version</code></span>
      to 2.2 (<a href="https://github.com/jgm/pandoc/issues/6377">#6377</a>).</p></li>
      <li><p>Make it possible to compile using Stack on NixOS (<a href="https://github.com/jgm/pandoc/issues/6439">#6439</a>,
      Mathieu Boespflug).</p></li>
      <li><p>CI action to check for commit message length (Nikolay
      Yakimov, <a href="https://github.com/jgm/pandoc/issues/6398">#6398</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.9.2.1-2020-03-23">
      <h2><a href="#pandoc-2.9.2.1-2020-03-23" aria-hidden="true"></a>pandoc 2.9.2.1 (2020-03-23)</h2>
      <ul>
      <li><p>Markdown reader: Fix table alignment when heading begins
      with t (<a href="https://github.com/jgm/pandoc/issues/6153">#6153</a>). Due
      to a typo (<span><code>t</code></span> instead of
      <span><code>\t</code></span>) we were center
      aligning column headings that begin with a lowercase <span><code>t</code></span>!</p></li>
      <li><p>Text.Pandoc.Readers.Roff:</p>
      <ul>
      <li>Fix parsing of <span><code>\.</code></span> in
      man/ms readers (<a href="https://github.com/jgm/pandoc/issues/6175">#6175</a>).
      Previously due to a typo it was being parsed as <span><code>`</code></span>.</li>
      <li>Fix parsing of <span><code>\&#39;</code></span> in
      man/ms readers (<a href="https://github.com/jgm/pandoc/issues/6175">#6175</a>). It
      was being parsed as a backtick.</li>
      </ul></li>
      <li><p>Jira reader (Albert Krewinkel):</p>
      <ul>
      <li>Fix parsing of tables without preceding blankline (<a href="https://github.com/jgm/pandoc/issues/6198">#6198</a>). A bug
      was fixed which caused faulty parsing if a table was not preceded
      by a newline and the first table cell had no space after the
      initial <span><code>|</code></span>
      characters.</li>
      <li>Fix parsing of strikeout, emphasis (<a href="https://github.com/jgm/pandoc/issues/6196">#6196</a>). A bug
      was fixed which caused non-emphasized text containing digits
      and/or non-special symbols (like dots) to sometimes be parsed
      incorrectly.</li>
      <li>Support colored inline text, indented lists (<a href="https://github.com/jgm/pandoc/issues/6183">#6183</a>, <a href="https://github.com/jgm/pandoc/issues/6184">#6184</a>).</li>
      </ul></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Fix definition lists so indent even when paragraph indent is
      set to 0 (as is the default). Also ensure indent for display math
      that falls back to TeX.</li>
      <li>Use <span><code>.QS/.QE</code></span> instead
      of <span><code>.RS/.RE</code></span> for block
      quotes.</li>
      </ul></li>
      <li><p>EPUB writer: fix regression on detection of
      front/back/bodymatter (<a href="https://github.com/jgm/pandoc/issues/6170">#6170</a>). This
      bug caused sections with epub:type <span><code>dedication</code></span> to be misplaced in
      bodymatter instead of frontmatter as specified in the manual. The
      same problem would affect other epub:types. The pattern matching
      needed to be changed with the use of <span><code>makeSection</code></span>.</p></li>
      <li><p>AsciiDoc writer: remove redundant <span><code>otherwise</code></span> guard in <span><code>inlineToAsciiDoc</code></span> (<a href="https://github.com/jgm/pandoc/issues/6146">#6146</a>, Ryan
      Scott).</p></li>
      <li><p>Text.Pandoc.Class:</p>
      <ul>
      <li>Fix missing import when data files are not embedded (Albert
      Krewinkel).</li>
      <li>Subdivide Text.Pandoc.Class into small unexported modules and
      ensure that all functions have Haddock documentation (<a href="https://github.com/jgm/pandoc/issues/6106">#6106</a>, Albert
      Krewinkel).</li>
      <li>Finer grained imports of Text.Pandoc.Class submodules (<a href="https://github.com/jgm/pandoc/issues/6203">#6203</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Text.Pandoc.XML: Add to list of HTML5 attributes: <span><code>allow</code></span>, <span><code>autocapitalize</code></span>, <span><code>decoding</code></span>, <span><code>enterkeyhint</code></span>, <span><code>imagesizes</code></span>, <span><code>imagesrcset</code></span>, <span><code>loading</code></span>.</p></li>
      <li><p>Use implicit Prelude (<a href="https://github.com/jgm/pandoc/issues/6187">#6187</a>, Albert
      Krewinkel). The previous behavior was introduced as a fix for <a href="https://github.com/jgm/pandoc/issues/4464">#4464</a>. It
      seems that this change alone did not fix the issue, and <span><code>stack ghci</code></span> and <span><code>cabal     repl</code></span> only work with
      GHC 8.4.1 or newer, as no custom Prelude is loaded for these
      versions. Given this, it seems cleaner to revert to the implicit
      Prelude.</p></li>
      <li><p>Always use custom prelude (<a href="https://github.com/jgm/pandoc/issues/6187">#6187</a>, Albert
      Krewinkel). Previously, the custom prelude was used only with
      older GHC versions, as a workaround for problems with ghci. The
      ghci problems are resolved by replacing package <span><code>base</code></span> with <span><code>base-noprelude</code></span>, allowing for
      consistent use of the custom prelude across all GHC
      versions.</p></li>
      <li><p>Remove outdated checks for no longer supported base
      versions (Albert Krewinkel).</p></li>
      <li><p>PDF via wkhtmltopdf: put user-specified options last (<a href="https://github.com/jgm/pandoc/issues/6171">#6171</a>).
      Certain options (e.g. <span><code>cover</code></span>) need to come after flags
      on the command line.</p></li>
      <li><p>Text.Pandoc.App: set resource path at the beginning so it
      can affect things like include-in-header (<a href="https://github.com/jgm/pandoc/issues/5982">#5982</a>).</p></li>
      <li><p>Change macOS release candidate CI process so that notarized
      packages can be produced (<a href="https://github.com/jgm/pandoc/issues/6169">#6169</a>).</p></li>
      <li><p>Make MANUAL more explicit about nonbreaking space handling
      by <span><code>all_symbols_escapable</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/6154">#6154</a>,
      Fabien Schurter).</p></li>
      <li><p>trypandoc (Mike Tzou):</p>
      <ul>
      <li>Add checkbox for standalone option (<a href="https://github.com/jgm/pandoc/issues/6189">#6189</a>).</li>
      <li>Use strict mode for JavaScript code (<a href="https://github.com/jgm/pandoc/issues/6188">#6188</a>).</li>
      <li>Fetch resources over https (<a href="https://github.com/jgm/pandoc/issues/6188">#6188</a>).</li>
      <li>Remove unnecessary attributes on style, script elements (<a href="https://github.com/jgm/pandoc/issues/6188">#6188</a>).</li>
      </ul></li>
      <li><p>Use details tag to make GitHub releases changelog
      collapsible.</p></li>
      <li><p>Update filter code in doc/filters.md so it works with
      latest pandoc (<a href="https://github.com/jgm/pandoc/issues/6185">#6185</a>).</p></li>
      <li><p>linux/Dockerfile: upgrade to alpine 3.11 (<a href="https://github.com/jgm/pandoc/issues/6180">#6180</a>, Albert
      Krewinkel). This is used to build the static linux
      binaries.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.9.2-2020-02-15">
      <h2><a href="#pandoc-2.9.2-2020-02-15" aria-hidden="true"></a>pandoc 2.9.2 (2020-02-15)</h2>
      <ul>
      <li><p>Add <span><code>csv</code></span> as an
      input format (<a href="https://github.com/jgm/pandoc/issues/6100">#6100</a>). The
      CSV table is converted into a pandoc simple table. A new module
      Text.Pandoc.Readers.CSV exports <span><code>readCSV</code></span> [API change].</p></li>
      <li><p>Introduce new format variants for JATS writer (<a href="https://github.com/jgm/pandoc/issues/6014">#6014</a>, Albert
      Krewinkel):</p>
      <ul>
      <li><span><code>jats_archiving</code></span> for
      the “Archiving and Interchange Tag Set”,</li>
      <li><span><code>jats_publishing</code></span> for
      the “Journal Publishing Tag Set”, and</li>
      <li><span><code>jats_articleauthoring</code></span>
      for the “Article Authoring Tag Set.”</li>
      </ul>
      <p>The <span><code>jats</code></span> output format
      is now an alias for <span><code>jats_archiving</code></span>. The module
      Text.Pandoc.Writers.JATS now exports <span><code>writeJatsArchiving</code></span>, <span><code>writeJatsPublishing</code></span>, and <span><code>writeJatsArticleAuthoring</code></span>, as
      well as the legacy <span><code>writeJATS</code></span> [API
      change].</p></li>
      <li><p><span><code>--defaults</code></span>:
      Support <span><code>bibliography</code></span> and
      <span><code>csl</code></span> fields. Move <span><code>addMeta</code></span> from
      Text.Pandoc.App.CommandLineOptions to Text.Pandoc.App.Opt
      (internal change).</p></li>
      <li><p>Add timing info for filters in <span><code>--verbose</code></span> mode (<a href="https://github.com/jgm/pandoc/issues/6112">#6112</a>). When
      verbose mode is specified (verbosity == INFO), print a notice when
      running a filter and when a filter completes (including
      timing).</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Allow <span><code>&amp;</code></span> in LaTeX
      citation keys (<a href="https://github.com/jgm/pandoc/issues/6110">#6110</a>).</li>
      <li>Improve caption and label parsing.</li>
      <li>Don’t emit empty Span elements for labels.</li>
      <li>Put tables with labels in a surrounding Div.</li>
      <li>Resolve <span><code>\ref</code></span> to table
      numbers (<a href="https://github.com/jgm/pandoc/issues/6137">#6137</a>).</li>
      <li>Skip comments in more places where this is needed (<a href="https://github.com/jgm/pandoc/issues/6114">#6114</a>).</li>
      <li>Allow beamer overlays for all commands in all raw tex (<a href="https://github.com/jgm/pandoc/issues/6043">#6043</a>). This
      affects parsing of raw tex in LaTeX and in Markdown and other
      formats.</li>
      <li>Improve parsing of raw environments (<a href="https://github.com/jgm/pandoc/issues/6034">#6034</a>). If
      parsing fails in a raw environment (e.g. due to special characters
      like unescaped <span><code>_</code></span>), try
      again as a verbatim environment, which is less sensitive to
      special characters. This allows us to capture special environments
      that change catcodes as raw tex when <span><code>-f latex+raw_tex</code></span> is used.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Add highlight directive (<a href="https://github.com/jgm/pandoc/issues/6140">#6140</a>, Lucas
      Escot).</li>
      </ul></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Prevent triple <span><code>[[[</code></span>
      which confuses MediaWiki (<a href="https://github.com/jgm/pandoc/issues/6119">#6119</a>).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Don’t parse <span><code>data-id</code></span>
      as <span><code>id</code></span> attribute. And
      similarly don’t parse any <span><code>data-X</code></span> as <span><code>X</code></span> when <span><code>X</code></span> is a valid HTML
      attribute.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Simplify parsing of sub- and superscripts (<a href="https://github.com/jgm/pandoc/issues/6127">#6127</a>, Albert
      Krewinkel). Speeds up parsing of single-word, markup-less sub- and
      superscripts.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Group biblatex citations even with prefix and suffix (<a href="https://github.com/jgm/pandoc/issues/5849">#5849</a>, Ethan
      Riley). Previously biblatex citations were only grouped if there
      was no prefix. This patch allows them to be grouped in subgroups
      split by prefixes and suffixes, which allows better citation
      sorting.</li>
      <li>Fix regression in handling of columns in beamer slides (<a href="https://github.com/jgm/pandoc/issues/6033">#6033</a>).
      Columns in title slides were causing problems with slide
      division.</li>
      <li>Fix duplicate frame classes in LaTeX/Beamer output (<a href="https://github.com/jgm/pandoc/issues/6107">#6107</a>).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fix duplicate attributes on headings (<a href="https://github.com/jgm/pandoc/issues/6062">#6062</a>),
      regression from 2.7.x.</li>
      <li>Fix <span><code>--number-offset</code></span>
      with HTML TOC. Eventually it would be worth adding a parameter to
      <span><code>makeSections</code></span> so this
      could be done at that level; then it would also affect other
      writers that construct TOC manually.</li>
      <li>reveal.js: restore old behavior for 2D nesting (<a href="https://github.com/jgm/pandoc/issues/6032">#6032</a>). The
      fix to <a href="https://github.com/jgm/pandoc/issues/6030">#6030</a>
      actually changed behavior, so that the 2D nesting occurred at
      slide level N-1 and N, instead of at the top-level section. This
      commit restores the v2.7.3 behavior. If there are more than 2
      levels, the top level is horizontal and the rest are collapsed to
      vertical.</li>
      <li>reveal.js: ensure that pauses work even in title slides (<a href="https://github.com/jgm/pandoc/issues/5819">#5819</a>).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Fix regression: spurious dots in markdown_mmd metadata output
      (<a href="https://github.com/jgm/pandoc/issues/6133">#6133</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Fix regression with Compact style on tight lists (<a href="https://github.com/jgm/pandoc/issues/6072">#6072</a>).
      Starting in 2.8, the docx writer no longer distinguishes between
      tight and loose lists, since the Compact style is omitted. This is
      a side-effect of the fix to <a href="https://github.com/jgm/pandoc/issues/5670">#5670</a>, as
      explained in the changelog. This patch fixes the problem by
      extending the exception currently offered to Plain blocks inside
      tables to Plain blocks inside list items.</li>
      </ul></li>
      <li><p>Jira writer:</p>
      <ul>
      <li>Fix output of table headers (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6035">#6035</a>).</li>
      </ul></li>
      <li><p>Add Text.Pandoc.Image with unexported svgToPng.</p></li>
      <li><p>Text.Pandoc.XML: Export <span><code>html5Attributes</code></span>, <span><code>html4Attributes</code></span>, <span><code>rdfaAttributes</code></span> (formerly
      unexported in Text.Pandoc.Writers.HTML). [API change]</p></li>
      <li><p>Text.Pandoc.Shared: Export a new function <span><code>findM</code></span> (<a href="https://github.com/jgm/pandoc/issues/6125">#6125</a>, Joseph
      C. Sible).</p></li>
      <li><p>Text.Pandoc.Logging: Add <span><code>RunningFilter</code></span>, <span><code>FilterCompleted</code></span> constructors to
      LogMessage [API change].</p></li>
      <li><p>Text.Pandoc.CSV: fix bug in CSV parser; previously an extra
      blank record would sometimes be inserted at the end.</p></li>
      <li><p>LaTeX template: add space option to xeCJK with
      PassOptionsToPackage (<a href="https://github.com/jgm/pandoc/issues/6002">#6002</a>).
      Otherwise we can get a clash with documentclasses that already
      load the package.</p></li>
      <li><p>Lua filters:</p>
      <ul>
      <li><p>Allow filtering of element lists (<a href="https://github.com/jgm/pandoc/issues/6038">#6038</a>, Albert
      Krewinkel). Lists of Inline and Block elements can now be filtered
      via <span><code>Inlines</code></span> and <span><code>Blocks</code></span> functions, respectively.
      This is helpful if a filter conversion depends on the order of
      elements rather than a single element. For example, the following
      filter can be used to remove all spaces before a citation:</p>
      <pre><code>function isSpaceBeforeCite (spc, cite)
  return spc and spc.t == &#39;Space&#39;
   and cite and cite.t == &#39;Cite&#39;
end

function Inlines (inlines)
  for i = #inlines-1,1,-1 do
    if isSpaceBeforeCite(inlines[i], inlines[i+1]) then
      inlines:remove(i)
    end
  end
  return inlines
end</code></pre></li>
      <li><p>Add methods <span><code>insert</code></span>, <span><code>remove</code></span>, and <span><code>sort</code></span> to pandoc.List (Albert
      Krewinkel). Example of use:</p>
      <pre><code>local numbers = pandoc.List {2, 3, 1}
numbers:sort()     -- numbers is now {1, 2, 3}</code></pre></li>
      <li><p>Make <span><code>pandoc.List</code></span> a
      callable constructor (Albert Krewinkel). It is now possible to
      construct a new List via <span><code>pandoc.List()</code></span> instead of <span><code>pandoc.List:new()</code></span>.</p></li>
      <li><p>Add tests for pandoc.List module (Albert
      Krewinkel).</p></li>
      </ul></li>
      <li><p>Text.Pandoc.App.CommandLineOptions: Change <span><code>setVariable</code></span> to use <span><code>Text</code></span> instead of <span><code>String</code></span>. This avoids some
      unnecessary unpacking.</p></li>
      <li><p>Use versioned directory for windows release zipfile. Also
      remove old <span><code>make-windows-installer.bat</code></span>,
      superseded by GitHub actions workflow, and modify <span><code>pandoc.wxs</code></span> for new
      paths.</p></li>
      <li><p>Extensive code cleanup (<a href="https://github.com/jgm/pandoc/issues/6141">#6141</a>, <a href="https://github.com/jgm/pandoc/issues/6128">#6128</a>, <a href="https://github.com/jgm/pandoc/issues/6129">#6129</a>, <a href="https://github.com/jgm/pandoc/issues/6130">#6130</a>, <a href="https://github.com/jgm/pandoc/issues/6123">#6123</a>, <a href="https://github.com/jgm/pandoc/issues/6105">#6105</a>, 6102,
      <a href="https://github.com/jgm/pandoc/issues/6117">#6117</a>, <a href="https://github.com/jgm/pandoc/issues/6124">#6124</a>, <a href="https://github.com/jgm/pandoc/issues/6115">#6115</a>, <a href="https://github.com/jgm/pandoc/issues/6116">#6116</a>, <a href="https://github.com/jgm/pandoc/issues/6111">#6111</a>, Joseph
      C. Sible).</p></li>
      <li><p>Fix hlint warnings (Albert Krewinkel).</p></li>
      <li><p>Use latest doclayout, doctemplates (<a href="https://github.com/jgm/pandoc/issues/6031">#6031</a>). The
      new version of doclayout fixes a memory leak that affected <span><code>--include-in-header</code></span> with large
      files (and possibly other cases involving extremely long
      lines).</p></li>
      <li><p>Use latest texmath.</p></li>
      <li><p>Use latest skylighting and fix test suite (<a href="https://github.com/jgm/pandoc/issues/6086">#6086</a>).</p></li>
      <li><p>sample.lua: Fix typo in descriptive comments (<a href="https://github.com/jgm/pandoc/issues/6136">#6136</a>, Caleb
      Maclennan). Fix typo in error message (<a href="https://github.com/jgm/pandoc/issues/6135">#6135</a>).</p></li>
      <li><p>Add Docker and GH Actions instructions/links to
      INSTALL.md.</p></li>
      <li><p>Update filter documentation (<a href="https://github.com/jgm/pandoc/issues/6065">#6065</a>).
      Improve cabal v2 instructions. Remove example using pandoc API
      directly (we have other docs for that and it was
      outdated).</p></li>
      <li><p>Lua filter docs:</p>
      <ul>
      <li>Cross-link constructors and types (Albert Krewinkel). Thanks
      to <span data-cites="bpj">@bpj</span> for the
      idea.</li>
      <li>Sort pandoc.List methods alphabetically (Albert
      Krewinkel).</li>
      <li>Unify, fix anchors and internal links (<a href="https://github.com/jgm/pandoc/issues/6061">#6061</a>, Albert
      Krewinkel). Links and anchors now follow consistent conventions,
      like lowercase-only anchor names. This breaks some links to
      specific sections in the document, but will make it much easier to
      link documentation in the future.</li>
      <li>Clarify filter function execution order (<a href="https://github.com/jgm/pandoc/issues/6059">#6059</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>In docs, update URLs and use <span><code>https:</code></span> wherever possible (<a href="https://github.com/jgm/pandoc/issues/6090">#6090</a>, Salim
      B).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.9.1.1-2020-01-05">
      <h2><a href="#pandoc-2.9.1.1-2020-01-05" aria-hidden="true"></a>pandoc 2.9.1.1 (2020-01-05)</h2>
      <ul>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fix parsing bug affected indented code after raw HTML (<a href="https://github.com/jgm/pandoc/issues/6009">#6009</a>, <a href="https://github.com/jgm/pandoc/issues/5360">#5360</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Fix regression in beamer slide structure with certain slide
      levels (<a href="https://github.com/jgm/pandoc/issues/6030">#6030</a>).</li>
      <li>Allow framebreaks for beamer’s TOC (Heiko Schlittermann, <a href="https://github.com/jgm/pandoc/issues/6012">#6012</a>)</li>
      <li>Properly handle unnumbered headings level 4+ (<a href="https://github.com/jgm/pandoc/issues/6018">#6018</a>).
      Previously the <span><code>\paragraph</code></span>
      command was used instead of <span><code>\paragraph*</code></span> for unnumbered
      level 4 headings.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fix revealjs slide structure regression with certain slide
      levels (<a href="https://github.com/jgm/pandoc/issues/6030">#6030</a>).</li>
      <li>Add newlines to make slide show output more readable.</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Remove extra spaces from table cells (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/6024">#6024</a>).</li>
      </ul></li>
      <li><p>JATS template: Update JATS dtd (Arfon Smith, <a href="https://github.com/jgm/pandoc/issues/6020">#6020</a>). Use
      the archiving and interchange DTD rather than the more restrictive
      journal publishing DTD (which doesn’t permit ext-link as a valid
      child).</p></li>
      <li><p>Text.Pandoc.PDF: Fix <span><code>runTeXProgram</code></span> so that the input
      source is always overwritten (<a href="https://github.com/jgm/pandoc/issues/6027">#6027</a>).
      Previously it wasn’t overridden if the file already existed, which
      led to bad results on subsequent runs when <span><code>pdf-engine-opt=-output-directory=</code></span>
      was used to specify an explicit temp dir.</p></li>
      <li><p>Text.Pandoc.BCP47: Change <span><code>getLang</code></span> to handle block-level
      contents (<a href="https://github.com/jgm/pandoc/issues/6008">#6008</a>). Some
      readers (e.g. RST) will populate the <span><code>lang</code></span> metadata field with
      block-level content. <span><code>getLang</code></span> has been modified to
      handle this. Previously in these cases the LaTeX writer would not
      properly set the “main language” of the document.</p></li>
      <li><p>Fix <span><code>test/tables.org</code></span> (Albert
      Krewinkel).</p></li>
      <li><p>Use HTTPS in copyright message (Felix Yan, <a href="https://github.com/jgm/pandoc/issues/6010">#6010</a>)</p></li>
      </ul>
      </section>
      <section id="pandoc-2.9.1-2019-12-23">
      <h2><a href="#pandoc-2.9.1-2019-12-23" aria-hidden="true"></a>pandoc 2.9.1 (2019-12-23)</h2>
      <ul>
      <li><p>Add Jira reader (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5556">#5556</a>).</p></li>
      <li><p>Jira writer: use jira-wiki-markup renderer (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5926">#5926</a>). The
      following improvements are included in this change:</p>
      <ul>
      <li>non-jira raw blocks are fully discarded instead of showing as
      blank lines;</li>
      <li>table cells can contain multiple blocks;</li>
      <li>unnecessary blank lines are removed from the output;</li>
      <li>markup chars within words are properly surrounded by
      braces;</li>
      <li>preserving soft linebreaks via <span><code>--wrap=preserve</code></span> is
      supported.</li>
      </ul>
      <p>Note that backslashes are rendered as HTML entities, as there
      appears no alternative to produce a plain backslash if it is
      followed by markup. This may cause problems when used with
      confluence, where rendering seems to fail in this case.</p></li>
      <li><p>Fix regression with <span><code>--number-sections</code></span>. Starting
      with 2.8, <span><code>--number-sections</code></span> also had the
      effect of <span><code>--section-divs</code></span>,
      even if <span><code>--section-divs</code></span>
      was not specified.</p></li>
      <li><p>Improved table of contents generation in markdown, RTF,
      commonmark, better handling cases where section headings are
      enclosed in divs.</p></li>
      <li><p>Ensure that later default file values for <span><code>variable</code></span> replace earlier ones
      (5988).</p></li>
      <li><p>HTML reader: Add <span><code>nav</code></span> to list of block-level
      tags.</p></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Wrap named table in Div, using name as id (<a href="https://github.com/jgm/pandoc/issues/5984">#5984</a>).
      Tables which are given a name via <span><code>#+NAME:</code></span> or <span><code>#+LABEL:</code></span> are wrapped in an
      additional Div, with the name set as the Div’s ID.</li>
      <li>Report parsing errors properly.</li>
      <li>Fix parsing problem for colons in headline (<a href="https://github.com/jgm/pandoc/issues/5993">#5993</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF: Ensure UTF8 when printing source in <span><code>--verbose</code></span> mode, avoiding an
      error on platforms that default to something other than UTF-8 (<a href="https://github.com/jgm/pandoc/issues/5997">#5997</a>).</p></li>
      <li><p>Text.Pandoc.Templates: Strip directory before trying to
      find partial in data files (<a href="https://github.com/jgm/pandoc/issues/5987">#5987</a>).</p></li>
      <li><p>Text.Pandoc.Shared: Improve <span><code>makeSections</code></span> so we don’t get
      doubled “number” attributes in EPUB output (or anywhere else) (<a href="https://github.com/jgm/pandoc/issues/5986">#5986</a>).</p></li>
      <li><p>Added tests for <span><code>--toc</code></span> and <span><code>--section-divs</code></span>.</p></li>
      <li><p>Text.Pandoc.MIME: Added glsl MIME type for WebGL maps (<a href="https://github.com/jgm/pandoc/issues/6000">#6000</a>, Jared
      Lander).</p></li>
      <li><p>MANUAL: A bit clearer explanation for <span><code>--base-header-level</code></span>. We now say
      exactly how to translate between the deprecated <span><code>--base-header-level</code></span> and <span><code>--shift-heading-level-by</code></span>.</p></li>
      <li><p>lua-filters.md:</p>
      <ul>
      <li>Remove spurious dot in title (<a href="https://github.com/jgm/pandoc/issues/5996">#5996</a>, Mauro
      Bieg).</li>
      <li>Replace metadata example with image centering (<a href="https://github.com/jgm/pandoc/issues/6004">#6004</a>, Albert
      Krewinkel). Thanks to <span data-cites="efx">@efx</span> for proposing this filter.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.9-2019-12-11">
      <h2><a href="#pandoc-2.9-2019-12-11" aria-hidden="true"></a>pandoc 2.9 (2019-12-11)</h2>
      <ul>
      <li><p>Text.Pandoc.Templates [API change]</p>
      <ul>
      <li>Add Monad wrappers <span><code>WithDefaultPartials</code></span> and <span><code>WithPartials</code></span>. Wrapping these
      around an instance of <span><code>PandocMonad</code></span> gives us different
      instances of <span><code>TemplateMonad</code></span>, with different
      search behavior in retrieving partials. To compile a template and
      limit partial search to pandoc’s data files, use <span><code>runWithDefaultPartials (compileTemplate ...)</code></span>.
      To compile a template and allow partials to be found locally
      (either on the file system or via HTTP, in the event that the main
      template has an absolute URL), ue <span><code>runWithPartials (compileTemplate ...)</code></span>.</li>
      <li>Export <span><code>getTemplate</code></span>,
      which seeks a template locally, or via HTTP if the template has an
      absolute URL, falling back to the data files if not found.</li>
      <li>Export <span><code>compileDefaultTemplate</code></span> – does
      <span><code>getDefaultTemplate</code></span> and
      compiles the result, raising an error on failure.</li>
      </ul></li>
      <li><p>Text.Pandoc.Class [API change]</p>
      <ul>
      <li>Remove <span><code>TemplateMonad</code></span>
      instances for <span><code>PandocIO</code></span>
      and <span><code>PandocPure</code></span>. These
      were too limiting and caused a bug whereby a local partial could
      be used even when the default template was requested. We now rely
      on instances provided in the Templates module.</li>
      </ul></li>
      <li><p>Text.Pandoc.App.OutputSettings: Simplify template retrieval
      code.</p></li>
      <li><p>ConTeXt template: Adjust to title formatting (<a href="https://github.com/jgm/pandoc/issues/5949">#5949</a>, Denis
      Maier). Add <span><code>\setupinterlinespace</code></span> to <span><code>title</code></span>, <span><code>subtitle</code></span>, <span><code>date</code></span> and <span><code>author</code></span> elements: otherwise
      longer titles that run over multiple lines will look squashed as
      <span><code>\tfd</code></span> etc. won’t adapt the
      line spacing to the font size.</p></li>
      <li><p>reveal.js template: Add title-slide-attributes variable (<a href="https://github.com/jgm/pandoc/issues/5981">#5981</a>,
      Frederik Elwert).</p></li>
      <li><p>More informative JSON parse error (<a href="https://github.com/jgm/pandoc/issues/5973">#5973</a>).</p></li>
      <li><p>Use external emojis package (forked from pandoc). Removed
      emoji data in Text.Pandoc.Emoji.</p></li>
      <li><p>Fix regression in <span><code>makeSections</code></span> (<a href="https://github.com/jgm/pandoc/issues/5965">#5965</a>).
      Previously <span><code>hierarchicalize</code></span> (the ancestor
      of <span><code>makeSections</code></span>) would
      put header attributes on the containing Div. In 2.8 this behavior
      changed, which broke some tools depending on pandoc. Here we roll
      back this change, so that attributes again migrate from the header
      to the containing Div when <span><code>makeSections</code></span> is run. Note that
      attributes are retained on the header as well (unlike before) –
      with the exception of the <span><code>id</code></span> attribute, which of course
      cannot be duplicated.</p></li>
      <li><p>Fix <span><code>--toc-depth</code></span>
      regression in 2.8 (<a href="https://github.com/jgm/pandoc/issues/5967">#5967</a>).</p></li>
      <li><p>Use doctemplates 0.8. Rename template ‘filters’ as ‘pipes’
      to avoid confusion with the other notion of filter used by
      pandoc.</p></li>
      <li><p>Fix README.md so that relative links from manual become
      absolute. Previously they’d be broken links when viewed on GitHub
      or Hackage. So we add the base URL for the pandoc manual.</p></li>
      <li><p>Document display math syntax in manual.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.8.1-2019-12-05">
      <h2><a href="#pandoc-2.8.1-2019-12-05" aria-hidden="true"></a>pandoc 2.8.1 (2019-12-05)</h2>
      <ul>
      <li><p>Add <span><code>ascii_identifiers</code></span> as a
      supported extension for <span><code>markdown</code></span>. This fixes a
      regression in 2.8.</p></li>
      <li><p>Fix regression with behavior of <span><code>--variable</code></span> (<a href="https://github.com/jgm/pandoc/issues/5962">#5962</a>).
      Previously <span><code>-Vfoo=1 -Vfoo=2</code></span> would produce a
      list value for foo; with 2.8 it produced just <span><code>2</code></span>. This commit restores the
      earlier behavior.</p></li>
      <li><p>Roll back part of of <span><code>--shift-heading-level-by</code></span> change
      (<a href="https://github.com/jgm/pandoc/issues/5957">#5957</a>).
      With positive heading shifts, starting in 2.8 this option caused
      metadata titles to be removed and changed to regular headings.
      This behavior is incompatible with the old behavior of <span><code>--base-header-level</code></span> and breaks
      old workflows, so we have rolled back the change. Note that there
      is now an asymmetry in positive and negative heading level shifts:
      With positive shifts, the metadata title stays the same and does
      not get changed to a heading in the body, while with negative
      shifts, a heading can be converted into the metadata
      title.</p></li>
      <li><p>Text.Pandoc.Shared: Fix <span><code>makeSections</code></span> so it doesn’t turn
      column Divs into sections.</p></li>
      <li><p>HTML writer: add task-list class to ul if all elements are
      task list items. This will allow styling unordered task lists in a
      way that omits the bullet.</p></li>
      <li><p>HTML-based templates: Add CSS to suppress bullet on
      unordered task lists.</p></li>
      <li><p>ConTeXt template: Fix <span><code>\startcslreferences</code></span> and use
      ConTeXt syntax conventions (<a href="https://github.com/jgm/pandoc/issues/5945">#5945</a>, Denis
      Maier). The old version had a too large a skip at the beginning of
      the reference list.</p></li>
      <li><p>LaTeX template: keep the <span><code>\author{}</code></span> command even if
      author is not specified (<a href="https://github.com/jgm/pandoc/issues/5961">#5961</a>, Yihui
      Xie). Avoids a LaTeX warning.</p></li>
      <li><p>Generate Emoji module with TH.</p>
      <ul>
      <li>Add Text.Pandoc.Emoji.TH.</li>
      <li>Replace long literal list in Text.Pandoc.Emoji with one-liner
      generating it from <span><code>emoji.json</code></span> using TH.</li>
      <li>Add Makefile target to download <span><code>emoji.json</code></span>.</li>
      <li>Remove <span><code>tools/emoji.hs</code></span>.</li>
      </ul></li>
      <li><p>Increase GC allocation space for compilation in
      cabal.project.</p></li>
      <li><p>Clean up manual on PDF generation backend options (<a href="https://github.com/jgm/pandoc/issues/5940">#5940</a>).</p></li>
      <li><p>Update release checklist to include code signing step and
      update Windows release-candidate builds (<a href="https://github.com/jgm/pandoc/issues/5950">#5950</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.8.0.1-2019-11-26">
      <h2><a href="#pandoc-2.8.0.1-2019-11-26" aria-hidden="true"></a>pandoc 2.8.0.1 (2019-11-26)</h2>
      <ul>
      <li>List <span><code>pdf</code></span> in <span><code>--list-output-formats</code></span>.</li>
      <li>EPUB writer: Fix regression with <span><code>--css</code></span> (<a href="https://github.com/jgm/pandoc/issues/5937">#5937</a>). In
      2.8 <span><code>--css</code></span> would not have
      an effect on EPUB output.</li>
      <li>RST writer: Use grid tables for one-column tables, since
      simple tables clash with heading syntax in this case (<a href="https://github.com/jgm/pandoc/issues/5936">#5936</a>).</li>
      <li>Add unexported module Text.Pandoc.Readers.Metadata (see <a href="https://github.com/jgm/pandoc/issues/5914">#5914</a>).</li>
      <li>Use doctemplates 0.7.2, which adds the <span><code>nowrap</code></span> filter to
      templates.</li>
      <li>Update default man template using <span><code>nowrap</code></span> for .TH heading (<a href="https://github.com/jgm/pandoc/issues/5929">#5929</a>).</li>
      <li>HTML templates: Add support for <span><code>toc-title</code></span> variable (<a href="https://github.com/jgm/pandoc/issues/5930">#5930</a>,
      Alexandre Franke).</li>
      <li>Remove <span><code>grffile</code></span> (LaTeX
      package) requirement in MANUAL.txt (<a href="https://github.com/jgm/pandoc/issues/5927">#5927</a>, Ian
      Max Andolina).</li>
      <li>Use skylighting 0.8.3.</li>
      </ul>
      </section>
      <section id="pandoc-2.8-2019-11-22">
      <h2><a href="#pandoc-2.8-2019-11-22" aria-hidden="true"></a>pandoc 2.8 (2019-11-22)</h2>
      <ul>
      <li><p>Improvements in templates system (from doctemplates):</p>
      <ul>
      <li>Pandoc templates now support a number of new features that
      have been added in doctemplates: notably, <span><code>elseif</code></span>, <span><code>it</code></span>, partials, filters, and
      syntax to control nesting and reflowing of text. These changes
      make pandoc more suitable out of the box for generating plain-text
      documents from data in YAML metadata. It can create enumerated
      lists and even tabular structures.</li>
      <li>We now used templates parameterized on doclayout Doc types.
      The main impact of this change is better reflowing of content
      interpolated into templates. Previously, interpolated variables
      were rendered independently and interpolated as strings, which
      could lead to overly long lines. Now the templates interpolated as
      Doc values which may include breaking spaces, and reflowing occurs
      after template interpolation rather than before.</li>
      <li>Remove code from the LaTeX, Docbook, and JATS writers that
      looked in the template for strings to determine whether it is a
      book or an article, or whether csquotes is used. This was always
      kludgy and unreliable.</li>
      <li>Change template code to use new API for doctemplates.</li>
      </ul></li>
      <li><p>Add <span><code>--defaults</code></span>/<span><code>-d</code></span> option. This adds the
      ability to specify a collection of default values for options in a
      YAML file. For example, one might define a set of defaults for
      letters, and then do <span><code>pandoc -d letter myletter.md -o myletter.pdf</code></span>.
      See the documentation of this feature in MANUAL.txt.</p></li>
      <li><p>Raise error on unsupported extensions (<a href="https://github.com/jgm/pandoc/issues/4338">#4338</a>).</p></li>
      <li><p>The <span><code>--list-extensions[=FORMAT]</code></span>
      option now lists only extensions that affect the given
      FORMAT.</p></li>
      <li><p>Add <span><code>-L</code></span> option as
      shortcut for <span><code>--lua-filter</code></span>.</p></li>
      <li><p>Add <span><code>--shift-heading-level-by</code></span> option
      and deprecate <span><code>--base-heading-level</code></span> (<a href="https://github.com/jgm/pandoc/issues/5615">#5615</a>). The
      new option does everything the old one does, but also allows
      negative shifts. It also promotes the document metadata (if not
      null) to a level-1 heading with a +1 shift, and demotes an initial
      level-1 heading to document metadata with a -1 shift. This
      supports converting documents that use an initial level-1 heading
      for the document title.</p></li>
      <li><p>Allow <span><code>--metadata-file</code></span> to be used
      repeatedly to include multiple metadata files (Owen McGrath, <a href="https://github.com/jgm/pandoc/issues/5702">#5702</a>).
      Values in files specified first will be overridden by those in
      later files.</p></li>
      <li><p><span><code>--ascii</code></span> now uses
      numerical hex character references (<a href="https://github.com/jgm/pandoc/issues/5718">#5718</a>).</p></li>
      <li><p>Allow PDF output to stdout (<a href="https://github.com/jgm/pandoc/issues/5751">#5751</a>). PDF
      output now behaves like other binary formats: it will not be
      output to the terminal, but can be sent to stdout using either
      <span><code>-o -</code></span> or a pipe. The
      intermediate format will be determined based on the setting of
      <span><code>--pdf-engine</code></span>.</p></li>
      <li><p>Make some writers sensitive to ‘unlisted’ class on headings
      (<a href="https://github.com/jgm/pandoc/issues/1762">#1762</a>).
      If this is present on a heading with the ‘unnumbered’ class, the
      heading won’t appear in the TOC. This class has no effect if
      ‘unnumbered’ is not also specified. This affects HTML-based
      writers (including slide shows and EPUB), LateX (including
      beamer), RTF, and PowerPoint. Other writers do not yet support
      <span><code>unlisted</code></span>.</p></li>
      <li><p>Fix <span><code>gfm_auto_identifiers</code></span> behavior
      with emojis (<a href="https://github.com/jgm/pandoc/issues/5813">#5813</a>). Note
      that we also now use emoji names for emojis when <span><code>ascii_identifiers</code></span> is
      enabled.</p></li>
      <li><p>When <span><code>--ipynb-output</code></span> is used with the
      default “best” format, strip ANSI escape codes for non-ipynb
      output (<a href="https://github.com/jgm/pandoc/issues/5633">#5633</a>). These
      cause problems in many formats, including LaTeX.</p></li>
      <li><p>Don’t look for template files remotely for remote input (<a href="https://github.com/jgm/pandoc/issues/5579">#5579</a>).
      Previously pandoc would look for the template at a remote URL when
      a URL was used for the input file, instead of taking it from the
      data directory.</p></li>
      <li><p>Allow combining <span><code>-Vheader-includes</code></span> and <span><code>--include-in-header</code></span> (<a href="https://github.com/jgm/pandoc/issues/5904">#5904</a>).
      Previously <span><code>header-includes</code></span> set as a
      variable would be clobbered by material included using <span><code>--include-in-header</code></span>.</p></li>
      <li><p>Change merge behavior for metadata. Previously, if a
      document contained two YAML metadata blocks that set the same
      field, the conflict would be resolved in favor of the first. Now
      it is resolved in favor of the second (due to a change in
      pandoc-types). This makes the behavior more uniform with other
      things in pandoc (such as reference links and <span><code>--metadata-file</code></span>).</p></li>
      <li><p>Don’t add a newline to fragment output if there’s already
      one.</p></li>
      <li><p>Change exit codes and document in MANUAL.txt:</p>
      <ul>
      <li><span><code>PandocAppError</code></span> was 1,
      is now 4</li>
      <li><span><code>PandocOptionError</code></span> was
      2, is now 6</li>
      <li><span><code>PandocMakePDFError</code></span>
      was 65, is now 66</li>
      </ul></li>
      <li><p>Switch to new pandoc-types and use Text instead of String
      [API change]. (Christian Despres, <a href="https://github.com/jgm/pandoc/issues/5884">#5884</a>).</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Better handling of <span><code>&lt;q&gt;</code></span> with cite attribute
      (<a href="https://github.com/jgm/pandoc/issues/5798">#5798</a>,
      Ole Martin Ruud). If a <span><code>&lt;q&gt;</code></span> tag has a <span><code>cite</code></span> attribute, we interpret it
      as a Quoted element with an inner Span.</li>
      <li>Add support for HTML <span><code>&lt;samp&gt;</code></span> element (<a href="https://github.com/jgm/pandoc/issues/5792">#5792</a>, Amogh
      Rathore). The <span><code>&lt;samp&gt;</code></span> element is parsed
      as Code with class <span><code>sample</code></span>.</li>
      <li>Add support for HTML <span><code>&lt;var&gt;</code></span> element (<a href="https://github.com/jgm/pandoc/issues/5799">#5799</a>, Amogh
      Rathore). The <span><code>&lt;var&gt;</code></span>
      element is parsed as Code with class <span><code>variable</code></span>.</li>
      <li>Add support for <span><code>&lt;mark&gt;</code></span> elements (Florian
      B, <a href="https://github.com/jgm/pandoc/issues/5797">#5797</a>).
      Parse <span><code>&lt;mark&gt;</code></span>
      elements from HTML as Spans with class <span><code>mark</code></span>.</li>
      <li>Add support for <span><code>&lt;kbd&gt;</code></span> elements, parsing
      them as Span with class <span><code>kbd</code></span> (Daniele D’Orazio, <a href="https://github.com/jgm/pandoc/issues/5796">#5796</a>).</li>
      <li>Add support for <span><code>&lt;dfn&gt;</code></span>, parsing this as a
      Span with class <span><code>dfn</code></span> (<a href="https://github.com/jgm/pandoc/issues/5882">#5882</a>,
      Florian Beeres).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Headers: don’t parse content over newline boundary (<a href="https://github.com/jgm/pandoc/issues/5714">#5714</a>).</li>
      <li>Handle inline code more eagerly within lists (Brian Leung, <a href="https://github.com/jgm/pandoc/issues/5627">#5627</a>).</li>
      <li>Removed some needless lookaheads.</li>
      <li>Don’t parse footnote body unless extension enabled.</li>
      <li>Fix small super/subscript issue (<a href="https://github.com/jgm/pandoc/issues/5878">#5878</a>).
      Superscripts and subscripts cannot contain spaces, but newlines
      were previously allowed (unintentionally). This led to bad
      interactions in some cases with footnotes. With this change
      newlines are also not allowed inside super/subscripts.</li>
      <li>Use <span><code>take1WhileP</code></span> for
      <span><code>str</code></span>, table row. This
      yields a small but measurable performance improvement.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Fix parsing of optional arguments that contain braced text (<a href="https://github.com/jgm/pandoc/issues/5740">#5740</a>).</li>
      <li>Don’t try to parse includes if <span><code>raw_tex</code></span> is set (<a href="https://github.com/jgm/pandoc/issues/5673">#5673</a>). When
      the <span><code>raw_tex</code></span> extension is
      set, we just carry through <span><code>\usepackage</code></span>, <span><code>\input</code></span>, etc. verbatim as raw
      LaTeX.</li>
      <li>Properly handle optional arguments for macros (<a href="https://github.com/jgm/pandoc/issues/5682">#5682</a>).</li>
      <li>Fix <span><code>\\</code></span> in <span><code>\parbox</code></span> inside a table cell (<a href="https://github.com/jgm/pandoc/issues/5711">#5711</a>).</li>
      <li>Improve <span><code>withRaw</code></span> so it
      can handle cases where the token string is modified by a parser
      (e.g. accent when it only takes part of a Word token) (<a href="https://github.com/jgm/pandoc/issues/5686">#5686</a>). This
      fixes a bug that caused the ends of certain documents to be
      dropped.</li>
      <li>Handle <span><code>\passthrough</code></span>
      macro used by latex writer (<a href="https://github.com/jgm/pandoc/issues/5659">#5659</a>).</li>
      <li>Support tex <span><code>\tt</code></span>
      command (<a href="https://github.com/jgm/pandoc/issues/5654">#5654</a>).</li>
      <li>Search for image with list of extensions like latex does, if
      an extension is not provided (<a href="https://github.com/jgm/pandoc/issues/4933">#4933</a>).</li>
      <li>Handle <span><code>\looseness</code></span>
      command values better (<a href="https://github.com/jgm/pandoc/issues/4439">#4439</a>).</li>
      <li>Add <span><code>mbox</code></span> and <span><code>hbox</code></span> handling (Vasily Alferov,
      <a href="https://github.com/jgm/pandoc/issues/5586">#5586</a>).
      When <span><code>+raw_tex</code></span> is enabled,
      these are passed through literally. Otherwise, they are handled in
      a way that emulates LaTeX’s behavior.</li>
      <li>Properly handle <span><code>\providecommand</code></span> and <span><code>\provideenvironment</code></span> (<a href="https://github.com/jgm/pandoc/issues/5635">#5635</a>). They
      are now ignored if the corresponding command or environment is
      already defined.</li>
      <li>Support epigraph command in LaTeX Reader (oquechy, <a href="https://github.com/jgm/pandoc/issues/3523">#3523</a>).</li>
      <li>Ensure that expanded macros in raw LaTeX end with a space if
      the original did (<a href="https://github.com/jgm/pandoc/issues/4442">#4442</a>).</li>
      <li>Treat <span><code>ly</code></span> environment
      from lilypond as verbatim (Urs Liska, <a href="https://github.com/jgm/pandoc/issues/5671">#5671</a>).</li>
      <li>Add <span><code>tikzcd</code></span> to list of
      special environments (Eigil Rischel). This allows it to be
      processed by filters, in the same way that one can do for <span><code>tikzpicture</code></span>.</li>
      </ul></li>
      <li><p>Roff reader:</p>
      <ul>
      <li>Better support for <span><code>while</code></span>.</li>
      <li>More improvements in parsing conditionals.</li>
      <li>Fix problem parsing comments before macro.</li>
      <li>Improve handling of groups.</li>
      <li>Better parsing of groups (<a href="https://github.com/jgm/pandoc/issues/5410">#5410</a>). We
      now allow groups where the closing <span><code>\\}</code></span> isn’t at the beginning of a
      line.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Keep <span><code>name</code></span> property in
      <span><code>imgAttr</code></span> (Brian Leung, <a href="https://github.com/jgm/pandoc/issues/5619">#5619</a>).</li>
      <li>Fixed parsing of indented blocks (<a href="https://github.com/jgm/pandoc/issues/5753">#5753</a>). We
      were requiring consistent indentation, but this isn’t required by
      RST.</li>
      <li>Use title, not admonition-title, for admonition title. This
      puts RST reader into alignment with docbook reader.</li>
      <li>Don’t strip final underscore from absolute URI (<a href="https://github.com/jgm/pandoc/issues/5763">#5763</a>).</li>
      <li>Avoid spurious warning when resolving links to internal
      anchors ending with <span><code>_</code></span> (<a href="https://github.com/jgm/pandoc/issues/5763">#5763</a>).</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Accept <span><code>ATTR_LATEX</code></span> in
      block attributes (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5648">#5648</a>).
      Attributes for LaTeX output are accepted as valid block
      attributes; however, their values are ignored.</li>
      <li>Modify handling of example blocks (Brian Leung, <a href="https://github.com/jgm/pandoc/issues/5717">#5717</a>).</li>
      <li>Allow the <span><code>-i</code></span> switch
      to ignore leading spaces (Brian Leung).</li>
      <li>Handle awkwardly-aligned code blocks within lists (Brian
      Leung). Code blocks in Org lists must have their <span><code>#+BEGIN_</code></span> aligned in a
      reasonable way, but their other components can be positioned
      otherwise.</li>
      <li>Fix parsing of empty comment lines (<a href="https://github.com/jgm/pandoc/issues/5856">#5856</a>, Albert
      Krewinkel). Comment lines in Org-mode can be completely
      empty.</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Add RTL support (<a href="https://github.com/jgm/pandoc/issues/5551">#5551</a>).</li>
      <li>Do not allow closing asterisks to be followed by <span><code>*</code></span>.</li>
      <li>Do not split series of asterisks into symbols and emphasis (<a href="https://github.com/jgm/pandoc/issues/5821">#5821</a>).</li>
      <li>Do not terminate emphasis on <span><code>*</code></span> not followed by space.</li>
      </ul></li>
      <li><p>DokuWiki reader:</p>
      <ul>
      <li>Parse markup inside monospace (’’) (<a href="https://github.com/jgm/pandoc/issues/5916">#5916</a>,
      Alexander Krotov).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Move style-parsing-specific code to a new unexported module,
      Text.Pandoc.Readers.Docx.Parse.Styles (Nikolay Yakimov).</li>
      <li>Move StyleMap to docx writer (Nikolay Yakimov).</li>
      <li>Only use LTR when it is overriding BiDi setting (<a href="https://github.com/jgm/pandoc/issues/5723">#5723</a>, Jesse
      Rosenthal). The left-to-right direction setting in docx is used in
      the spec only for overriding an explicit right-to-left setting. We
      only process it when it happens in a paragraph set with BiDi. This
      is especially important for docs exported from Google Docs, which
      explicitly (and unnecessarily) set <span><code>rtl=0</code></span> for every paragraph.</li>
      <li>Fix list number resumption for sublists (<a href="https://github.com/jgm/pandoc/issues/4324">#4324</a>). The
      first list item of a sublist should not resume numbering from the
      number of the last sublist item of the same level, if that sublist
      was a sublist of a different list item.</li>
      </ul></li>
      <li><p>Docbook reader:</p>
      <ul>
      <li>Richer parse for admonitions (Michael Peyton Jones, <a href="https://github.com/jgm/pandoc/issues/1234">#1234</a>).
      Instead of parsing admonitions as blockquotes, we now parse them
      as Divs with an appropriate class. We also handle titles for
      admonitions as a nested Div with the “title” class.</li>
      <li>Fix nesting of chapters and sections (<a href="https://github.com/jgm/pandoc/issues/5864">#5864</a>,
      Florian Klink, Félix Baylac-Jacqué).</li>
      <li>Fix bug with entities in mathphrase element (<a href="https://github.com/jgm/pandoc/issues/5885">#5885</a>).</li>
      </ul></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Skip optional <span><code>{{table}}</code></span> template (<a href="https://github.com/jgm/pandoc/issues/5757">#5757</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Fix dollar-math parsing to ensure that space is left between a
      control sequence and a following letter (<a href="https://github.com/jgm/pandoc/issues/5836">#5836</a>).</li>
      <li>In <span><code>untokenize</code></span>, ensure
      space between control sequence and following letter (<a href="https://github.com/jgm/pandoc/issues/5836">#5836</a>).</li>
      <li>Don’t omit macro definitions defined in the preamble. These
      were formerly omitted (though they still affected macro resolution
      if <span><code>latex_macros</code></span> was set).
      Now they are included in the document body.</li>
      <li>Parse macro definitions as raw LaTeX when <span><code>latex_macros</code></span> is disabled. (When
      <span><code>latex_macros</code></span> is enabled,
      we omit them, since pandoc is applying the macros itself.)</li>
      <li>Fix a hang/memory leak in certain circumstances (<a href="https://github.com/jgm/pandoc/issues/5845">#5845</a>).</li>
      <li>Text.Pandoc.Readers.LaTeX.Parsing: add <span><code>[Tok]</code></span> parameter to <span><code>rawLaTeXParser</code></span>. This allows us
      to repeat retokenizing unnecessarily in e.g. <span><code>rawLaTeXBlock</code></span>.</li>
      <li>Add KOMA-Script metadata commands (<a href="https://github.com/jgm/pandoc/issues/5910">#5910</a>, Andrew
      Dunning). Add all titling commands to existing definition for
      <span><code>\dedication</code></span>.</li>
      <li>Parse <span><code>\micro</code></span> siunitx
      unit command (<a href="https://github.com/jgm/pandoc/issues/5921">#5921</a>, Jose
      Luis Duran).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Ensure proper nesting when we have long ordered list markers
      (<a href="https://github.com/jgm/pandoc/issues/5705">#5705</a>).</li>
      <li>Make <span><code>plain</code></span> output
      plainer (<a href="https://github.com/jgm/pandoc/issues/5741">#5741</a>).
      Previously we used the following Project Gutenberg conventions for
      plain output: extra space before and after level 1 and 2 headings,
      all-caps for strong emphasis, underscores surrounding regular
      emphasis. Now these conventions are used only when the <span><code>gutenberg</code></span> extension is enabled.
      By default, Strong and Emph are rendered without special
      formatting, and headings are rendered without special formatting,
      and with only one blank line following. To restore the former
      behavior, use <span><code>-t plain+gutenberg</code></span>.</li>
      <li>Prefer using raw_attribute when enabled (<a href="https://github.com/jgm/pandoc/issues/4311">#4311</a>). The
      <span><code>raw_attribute</code></span> will be
      used to mark raw bits, even HTML and LaTeX, and even when <span><code>raw_html</code></span> and <span><code>raw_tex</code></span> are enabled, as they
      are by default. To get the old behavior, disable <span><code>raw_attribute</code></span> in the
      writer.</li>
      <li>Prefer <span><code>pipe_tables</code></span> to
      raw HTML even when we must lose width information (<a href="https://github.com/jgm/pandoc/issues/2608">#2608</a>, <a href="https://github.com/jgm/pandoc/issues/4497">#4497</a>).</li>
      <li>Improve escaping in list items (<a href="https://github.com/jgm/pandoc/issues/5918">#5918</a>).</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Don’t include <span><code>+</code></span> in
      code blocks for regular asciidoc. This is
      asciidoctor-specific.</li>
      <li>Handle admonitions (<a href="https://github.com/jgm/pandoc/issues/5690">#5690</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Add thin space when needed in LaTeX quote ligatures (<a href="https://github.com/jgm/pandoc/issues/5684">#5684</a>).</li>
      <li>Use <span><code>\hspace{0pt}</code></span> for
      0-width space U+200B (<a href="https://github.com/jgm/pandoc/issues/5756">#5756</a>).</li>
      <li>Use <span><code>cslreferences</code></span>
      environment for csl bibliographies. This allows bibliographies to
      receive special formatting. The template now contains definition
      of this environment (enabled only when CSL is used). It also
      defines a <span><code>\cslhangindent</code></span>
      length. This is set to 2em by default when the bibliography style
      specifies a hanging indent. To override the length, you can use
      e.g. <span><code>\setlength{\cslhangindent}{7em}</code></span>
      in header-includes. See jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/410">#410</a>.</li>
      <li>Strip off <span><code>{}</code></span> around
      locator for biblatex/natbib output (<a href="https://github.com/jgm/pandoc/issues/5722">#5722</a>).</li>
      <li>Fix line breaks at start of paragraph (<a href="https://github.com/jgm/pandoc/issues/3324">#3324</a>).
      Previously we just omitted these. Now we render them using <span><code>\hfill\break</code></span> instead of <span><code>\\</code></span>. This is a revision of a PR
      by <span data-cites="sabine">@sabine</span> (<a href="https://github.com/jgm/pandoc/issues/5591">#5591</a>) who
      should be credited with the idea.</li>
      <li>We no longer look in the template or header-includes to see if
      a book or article documentclass is used, or to see whether the
      <span><code>csquotes</code></span> package is used.
      To use <span><code>csquotes</code></span> for
      LaTeX, set <span><code>csquotes</code></span> in
      your variables or metadata. To specify a book style, use the <span><code>documentclass</code></span> variable or <span><code>--top-level-division</code></span>.</li>
      <li>Fix horizontal rule (<a href="https://github.com/jgm/pandoc/issues/5801">#5801</a>). We
      change to use 0.5pt rather than <span><code>\linethickness</code></span>, which
      apparently only ever worked “by accident” and no longer works with
      recent updates to texlive.</li>
      </ul></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Add option to include source files in ConTeXt PDFs (Tristan
      Stenner, <a href="https://github.com/jgm/pandoc/issues/5578">#5578</a>). The
      metadata field or variable (<span><code>includesource</code></span>) can be set to
      attach the source documents to the resulting PDF.</li>
      <li>Customizable type of PDF/A for the ConTeXt writer (Karl
      Pettersson, <a href="https://github.com/jgm/pandoc/issues/5608">#5608</a>). The
      <span><code>pdfa</code></span> variable may now be
      set in metadata. Also updated color profile settings in accordance
      with ConTeXt wiki, and made ICC profile and output intent for
      PDF/A customizable using <span><code>pdfaiccprofile</code></span> and <span><code>pdfaintent</code></span>.</li>
      <li>Unit tests: adjust code property to avoid an irrelevant
      failure involving inline code with two consecutive newlines.</li>
      <li>Set <span><code>csl-hanging-indent</code></span> variable if
      needed.</li>
      <li>Use special environment for CSL references.</li>
      <li>Use braces, not start/stop, for inline language tags. This
      prevents unwanted gobbling of spaces.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Use numeric character references with <span><code>--ascii</code></span> (<a href="https://github.com/jgm/pandoc/issues/5718">#5718</a>).
      Previously we used named character references with html5 output.
      But these aren’t valid XML, and we aim to produce html5 that is
      also valid XHTML (polyglot markup). (This is also needed for
      epub3.)</li>
      <li>Ensure that line numbers in code blocks get id-prefix (<a href="https://github.com/jgm/pandoc/issues/5650">#5650</a>).</li>
      <li>Ensure TeX formulas are rendered correctly (Philip Pesca, <a href="https://github.com/jgm/pandoc/issues/5658">#5658</a>). The
      web service passed in to <span><code>--webtex</code></span> may render formulas
      using inline or display style by default. Prefixing formulas with
      the appropriate command ensures they are rendered correctly.</li>
      <li>Render inline formulas correctly with <span><code>--webtex</code></span> (Philip Pesca, <a href="https://github.com/jgm/pandoc/issues/5655">#5655</a>). We
      add <span><code>\textstyle</code></span> to the
      beginning of the formula to ensure it will be rendered in inline
      style.</li>
      <li>Pass through <span><code>aria-</code></span>
      attributes to HTML5 (<a href="https://github.com/jgm/pandoc/issues/5642">#5642</a>).</li>
      <li>Render a Quoted element with an inner Span with <span><code>cite</code></span> attribute using a <span><code>&lt;q&gt;</code></span> tag (<a href="https://github.com/jgm/pandoc/issues/5798">#5798</a>, Ole
      Martin Ruud).</li>
      <li>Render a Span with class <span><code>mark</code></span> using the <span><code>&lt;mark&gt;</code></span> element (Florian
      Beeres, <a href="https://github.com/jgm/pandoc/issues/5797">#5797</a>).</li>
      <li>Render Span with class <span><code>dfn</code></span> using <span><code>&lt;dfn&gt;</code></span> element (Florian
      Beeres, <a href="https://github.com/jgm/pandoc/issues/5882">#5882</a>).</li>
      <li>Render Span with class <span><code>kbd</code></span> using <span><code>&lt;kbd&gt;</code></span> element (Daniele
      D’Orazio, <a href="https://github.com/jgm/pandoc/issues/5796">#5796</a>).</li>
      <li>Render Code with class <span><code>variable</code></span> using <span><code>&lt;var&gt;</code></span> element (Amogh
      Rathore, <a href="https://github.com/jgm/pandoc/issues/5799">#5799</a>).</li>
      <li>Render Code with class <span><code>sample</code></span> using <span><code>&lt;samp&gt;</code></span> element (Amogh
      Rathore, <a href="https://github.com/jgm/pandoc/issues/5799">#5799</a>).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Improve splitting into chapters (<a href="https://github.com/jgm/pandoc/issues/5761">#5761</a>), using
      <span><code>makeSection</code></span>.</li>
      <li>Avoid issuing warning multiple times when title not set (see
      <a href="https://github.com/jgm/pandoc/issues/5760">#5760</a>).</li>
      <li>Use svg tag wrapper for cover image (<a href="https://github.com/jgm/pandoc/issues/5638">#5638</a>). In
      addition, the code generating the image has been moved to the
      template, to make it more customizable. NOTE: Those who use custom
      EPUB templates will need to adjust their templates, adding the
      code to generate the cover image. (Previously this was just
      inserted into ‘body’.)</li>
      <li>Improve toChapters, making it work better if there are Divs
      around sections.</li>
      <li>Add support for EPUB2 covers (blmage, <a href="https://github.com/jgm/pandoc/issues/3992">#3992</a>).</li>
      <li>Do not override existing “fileN” medias when writing to EPUB
      format (blmage, <a href="https://github.com/jgm/pandoc/issues/4206">#4206</a>).</li>
      <li>Ensure that <span><code>lang</code></span>
      variable is set on all chapters (so that it will add an <span><code>xml:lang</code></span> attribute on the <span><code>html</code></span> element).</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Removed remnants of <span><code>admonition-title</code></span>.</li>
      <li>Fix handling of <span><code>:align:</code></span> on figures and images
      (<a href="https://github.com/jgm/pandoc/issues/4420">#4420</a>).
      When the image has the <span><code>align-right</code></span> (etc.) class, we
      now use an <span><code>:align:</code></span>
      attribute.</li>
      <li>Improve spacing for tables with no width information (<a href="https://github.com/jgm/pandoc/issues/5899">#5899</a>). If a
      simple table would be too wide, we use a grid table.</li>
      <li>Fix backslash escaping after strings (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5906">#5906</a>). The
      check whether a complex inline element following a string must be
      escaped, now depends on the last character of the string instead
      of the first.</li>
      <li>Ensure there’s a blank line before tables (<a href="https://github.com/jgm/pandoc/issues/5898">#5898</a>).</li>
      </ul></li>
      <li><p>Dokuwiki writer:</p>
      <ul>
      <li>Handle mixed lists without HTML fallback (<a href="https://github.com/jgm/pandoc/issues/5107">#5107</a>).</li>
      </ul></li>
      <li><p>XWiki writer:</p>
      <ul>
      <li>Fix multiline table (Zihang Chen, <a href="https://github.com/jgm/pandoc/issues/5683">#5683</a>).</li>
      </ul></li>
      <li><p>Muse writer:</p>
      <ul>
      <li>Add RTL support (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/5551">#5551</a>).</li>
      </ul></li>
      <li><p>Man writer:</p>
      <ul>
      <li>Suppress non-absolute link URLs (<a href="https://github.com/jgm/pandoc/issues/5770">#5770</a>).
      Absolute URLs are still printed in parentheses following the link
      text, but relative URLs are suppressed (just as internal links
      starting with ‘#’ always have been).</li>
      <li>Improved definition list term output. Now we boldface code but
      not other things. This matches the most common style in man pages
      (particularly option lists).</li>
      </ul></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Use <span><code>.LP</code></span> instead of
      <span><code>.PP</code></span> for line block (<a href="https://github.com/jgm/pandoc/issues/5588">#5588</a>).</li>
      <li>Use boldface for definition terms in DefinitionLists.</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Do not emit empty <span><code>&lt;fn-group&gt;</code></span> (Mauro Bieg,
      <a href="https://github.com/jgm/pandoc/issues/5595">#5595</a>).</li>
      <li>Update template to v1.1dtd (<a href="https://github.com/jgm/pandoc/issues/5632">#5632</a>, Arfon
      Smith).</li>
      <li>Update <span><code>data/jats.csl</code></span>
      to avoid commas between editor name-part elements. (<a href="https://github.com/jgm/pandoc/issues/5629">#5629</a>)</li>
      <li>Add <span><code>abstract</code></span> to
      template (Mauro Bieg).</li>
      </ul></li>
      <li><p>TEI writer:</p>
      <ul>
      <li>Don’t strip hash from internal links (<a href="https://github.com/jgm/pandoc/issues/5922">#5922</a>).</li>
      </ul></li>
      <li><p>Jira writer:</p>
      <ul>
      <li>Remove escapeStringForJira for code blocks (Jan-Otto
      Kröpke).</li>
      <li>Remove extraneous newline after single-line block quotes (<a href="https://github.com/jgm/pandoc/issues/5858">#5858</a>, Albert
      Krewinkel).</li>
      <li>Improve escaping of special characters, using backslash
      escapes instead of HTML entities (<a href="https://github.com/jgm/pandoc/issues/5858">#5858</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>OpenDocument writer:</p>
      <ul>
      <li>Avoid duplicate attributes (<a href="https://github.com/jgm/pandoc/issues/4634">#4634</a>). We
      use the innermost attribute in nested cases.</li>
      <li>If <span><code>native_numbering</code></span>
      extension is set, use native OpenDocument enumeration for figures
      and tables (Nils Carlson).</li>
      <li>Place caption before table (<a href="https://github.com/jgm/pandoc/issues/5681">#5681</a>, Dmitry
      Pogodin).</li>
      </ul></li>
      <li><p>ODT writer:</p>
      <ul>
      <li>Add a test for MathML formulas in ODT documents (blmage).</li>
      <li>Improve the parsing of frames in ODT documents (blmage).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Make handling of styles more robust in localized versions of
      Word (Nikolay Yakimov, <a href="https://github.com/jgm/pandoc/issues/5523">#5523</a>, <a href="https://github.com/jgm/pandoc/issues/5052">#5052</a>, <a href="https://github.com/jgm/pandoc/issues/5074">#5074</a>). We
      now use style names, not ids, for assigning semantic meaning,
      since the ids can change depending on the locale. Style name
      comparisons are case-insensitive, since those are case-insensitive
      in Word. Since docx style names can have spaces in them, and
      pandoc-markdown classes can’t, anywhere when style name is used as
      a class name, spaces are replaced with ASCII dashes <span><code>-</code></span>. Code styles, i.e. “Source
      Code” and “Verbatim Char” now honor style inheritance. Docx Reader
      now honours “Compact” style (used in Pandoc-generated docx). The
      side-effect is that “Compact” style no longer shows up in
      docx+styles output. Styles inherited from “Compact” will still
      show up.</li>
      <li>Re-use Readers.Docx.Parse for StyleMap (<a href="https://github.com/jgm/pandoc/issues/5766">#5766</a>,
      Nikolay Yakimov).</li>
      <li>Internal improvements and code simplification (Nikolay
      Yakimov).</li>
      <li>Preserve built-in styles in DOCX with custom style (Ben
      Steinberg, <a href="https://github.com/jgm/pandoc/issues/5670">#5670</a>). This
      change prevents custom styles on divs and spans from overriding
      styles on certain elements inside them, like headings,
      blockquotes, and links. On those elements, the “native” style is
      required for the element to display correctly. This change also
      allows nesting of custom styles; in order to do so, it removes the
      default “Compact” style applied to Plain blocks, except when
      inside a table.</li>
      <li>Add <span><code>proofState</code></span> to
      list of elements carried over from settings.xml in the
      reference.docx (Krystof Beuermann, <a href="https://github.com/jgm/pandoc/issues/5703">#5703</a>).</li>
      <li>Change order of <span><code>ilvl</code></span>
      and <span><code>numId</code></span> in <span><code>document.xml</code></span> (Agustín Martín
      Barbero, <a href="https://github.com/jgm/pandoc/issues/5645">#5645</a>). Also,
      make list para properties go first. This reordering of properties
      shouldn’t be necessary but it seems Word Online does not
      understand the docx correctly otherwise.</li>
      </ul></li>
      <li><p>PowerPoint writer:</p>
      <ul>
      <li>Code formatting is now context dependent (Jeroen de Haas, <a href="https://github.com/jgm/pandoc/issues/5573">#5573</a>). This
      commit alters the way in which the Powerpoint writer treats inline
      code and code blocks. Inline code is now formatted at the same
      size as the surrounding text. Code blocks are now given a margin
      and font size according to their level. Furthermore this commit
      allows changing the font with which code is formatted via the
      <span><code>monofont</code></span> option.</li>
      <li>Start numbering at appropriate numbers (Jesse Rosenthal, <a href="https://github.com/jgm/pandoc/issues/5709">#5709</a>).
      Starting numbers for ordered lists were previously ignored. Now we
      specify the number if it is something other than 1.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li>Add <span><code>manyChar</code></span>, <span><code>many1Char</code></span>, <span><code>manyTillChar</code></span>, <span><code>many1TillChar</code></span>, <span><code>many1Till</code></span>, <span><code>manyUntil</code></span>, <span><code>mantyUntilChar</code></span>: these are like
      their unsuffixed counterparts but pack some or all of their output
      (Christian Despres, <a href="https://github.com/jgm/pandoc/issues/5884">#5884</a>).</li>
      <li>Add <span><code>stateAllowLineBreaks</code></span> to <span><code>ParserState</code></span> [API change].</li>
      <li>Fix inline parsing in grid table cells (<a href="https://github.com/jgm/pandoc/issues/5708">#5708</a>).</li>
      <li>Change type of <span><code>setLastStrPos</code></span> so it takes a
      <span><code>Maybe SourcePos</code></span> rather
      than a <span><code>SourcePos</code></span> [API
      change].</li>
      <li>Make <span><code>parseFromString&#39;</code></span>
      and <span><code>gridTableWith</code></span> and
      <span><code>gridTableWith&#39;</code></span>
      polymorphic in the parser state, constraining it with <span><code>HasLastStrPosition</code></span> [API
      change].</li>
      <li><span><code>parseFromString&#39;</code></span>:
      reset <span><code>stateLastStrPos</code></span> to
      <span><code>Nothing</code></span> before
      parse.</li>
      <li>Rename takeWhileP -&gt; take1WhileP and clean it up. (It
      doesn’t match the empty sequence.)</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>For PDFs via HTML, ensure temp file is deleted even if the pdf
      program is not found (<a href="https://github.com/jgm/pandoc/issues/5720">#5720</a>).</li>
      <li>Better detection of a Cygwin environment (<a href="https://github.com/jgm/pandoc/issues/5451">#5451</a>).</li>
      <li>Don’t assume tex log file is UTF8-encoded (<a href="https://github.com/jgm/pandoc/issues/5872">#5872</a>). Fall
      back to latin1 if it can’t be read as UTF-8.</li>
      </ul></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li>Export new function <span><code>getAllExtensions</code></span>, which returns
      the extensions that affect a given format (whether enabled by
      default or not) [API change].</li>
      <li>Change type of <span><code>parseFormatSpec</code></span> from <span><code>Either ParseError (String, Extensions -&gt; Extensions)</code></span>
      to <span><code>Either ParseError (String, [Extension], [Extension])</code></span>
      [API change].</li>
      <li>Add <span><code>Ext_gutenberg</code></span>
      constructor to <span><code>Extension</code></span>
      [API change].</li>
      <li>Add <span><code>Ext_native_numbering</code></span>
      constructor to <span><code>Extension</code></span>
      [API change] (Nils Carlson).</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers, Text.Pandoc.Writers:</p>
      <ul>
      <li>Change type of <span><code>getReader</code></span> and <span><code>getWriter</code></span> so they return a
      value in the PandocMonad instance rather than an Either [API
      change]. Exceptions for unknown formats and unsupported extensions
      are now raised by these functions.</li>
      </ul></li>
      <li><p>Text.Pandoc.App</p>
      <ul>
      <li>Change <span><code>optMetadataFile</code></span> type from <span><code>Maybe FilePath</code></span> to <span><code>[FilePath]</code></span> (Owen McGrath, <a href="https://github.com/jgm/pandoc/issues/5702">#5702</a>) [API
      change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Logging:</p>
      <ul>
      <li>Add <span><code>CouldNotDeduceFormat</code></span>
      constructor to <span><code>LogMessage</code></span>
      [API change]. Issue this warning when we’re falling back to
      markdown or html because we don’t recognize the extension of the
      input or output files.</li>
      <li>Clarify warning for missing title (<a href="https://github.com/jgm/pandoc/issues/5760">#5760</a>).</li>
      <li>Add <span><code>UnusualConversion</code></span>
      constructor to <span><code>LogMessage</code></span>
      [API change] (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/5736">#5736</a>). Emit
      warning on <span><code>-f latex -o out.pdf</code></span>.</li>
      </ul></li>
      <li><p>Lua filters:</p>
      <ul>
      <li><p>Improve function documentation (Albert
      Krewkinkel).</p></li>
      <li><p>Traverse nested blocks and inlines in correct order (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5667">#5667</a>).
      Traversal methods are updated to use the new Walk module so that
      sequences with nested Inline (or Block) elements are traversed in
      the order in which they appear in the linearized
      document.</p></li>
      <li><p>New unexported module <span><code>Text.Pandoc.Lua.Walk</code></span> (Albert
      Krewinkel). Lua filters must be able to traverse sequences of AST
      elements and to replace elements by splicing sequences back in
      their place. Special <span><code>Walkable</code></span> instances can be used
      for this; those are provided in a new module <span><code>Text.Pandoc.Lua.Walk</code></span>.</p></li>
      <li><p><span><code>Attr</code></span> values can
      now be given as normal Lua tables (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5744">#5744</a>). This
      can be used as a convenient alternative to constructing <span><code>Attr</code></span> values with <span><code>pandoc.Attr</code></span>. Identifiers are
      taken from the <span><code>id</code></span> field,
      classes must be given as space separated words in the <span><code>class</code></span> field. All remaining
      fields are included as attributes. With this change, the following
      lines now create equal elements:</p>
      <pre><code>pandoc.Span(&#39;test&#39;, {id = &#39;test&#39;, class = &#39;a b&#39;, check = 1})
pandoc.Span(&#39;test&#39;, pandoc.Attr(&#39;test&#39;, {&#39;a&#39;,&#39;b&#39;}, {check = 1}))</code></pre>
      <p>This also works when using the <em>attr</em> setter:</p>
      <pre><code>local span = pandoc.Span &#39;text&#39;
span.attr = {id = &#39;test&#39;, class = &#39;a b&#39;, check = 1}</code></pre>
      <p>Furthermore, the <em>attributes</em> field of AST elements can
      now be a plain key-value table even when using the <span><code>attributes</code></span> accessor:</p>
      <pre><code>local span = pandoc.Span &#39;test&#39;
span.attributes = {check = 1}   -- works as expected now</code></pre></li>
      <li><p>Export <span><code>make_sections</code></span>, remove <span><code>hierarchicalize</code></span>. Lua filters
      that use <span><code>hierarchicalize</code></span>
      will need to be rewritten to use <span><code>make_sections</code></span>.</p></li>
      <li><p>Add a <span><code>clone()</code></span>
      method to all AST elements (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5568">#5568</a>).</p></li>
      <li><p>Fix Lua function names in pandoc.system (niszet). Change
      <span><code>get_current_directory</code></span> to
      <span><code>get_working_directory</code></span> and
      <span><code>with_temp_directory</code></span> to
      <span><code>with_temporary_directory</code></span>,
      to conform to the manual.</p></li>
      </ul></li>
      <li><p>Text.Pandoc.Error:</p>
      <ul>
      <li>Add constructors <span><code>PandocUnknownReaderError</code></span>, <span><code>PandocUnknownWriterError</code></span>, <span><code>PandocUnsupportedExtensionError</code></span>.
      [API change].</li>
      <li>Better message for <span><code>PandocShouldNeverHappenError</code></span>.</li>
      <li>Better message for <span><code>PandocTemplateError</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Emoji:</p>
      <ul>
      <li>Update emoji list (<a href="https://github.com/jgm/pandoc/issues/5666">#5666</a>). Done
      using new <span><code>tools/emojis.hs</code></span>, which uses the
      list from the gem GitHub uses. Future updates can be done with
      this tool.</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Pass value of <span><code>--dpi</code></span>
      to <span><code>rsvg-convert</code></span> when
      converting SVG to PDF in the process of creating a PDF (<a href="https://github.com/jgm/pandoc/issues/5721">#5721</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Replace <span><code>Element</code></span> and
      <span><code>makeHierarchical</code></span> with
      <span><code>makeSections</code></span>. Now that we
      have Divs, we can use them to represent the structure of sections,
      and we don’t need a special Element type. <span><code>makeSections</code></span> reorganizes a
      block list, adding Divs with class <span><code>section</code></span> around sections, and
      adding numbering if needed. This change also fixes some
      longstanding issues recognizing section structure when the
      document contains Divs (<a href="https://github.com/jgm/pandoc/issues/3057">#3057</a>, see
      also <a href="https://github.com/jgm/pandoc/issues/997">#997</a>).</li>
      <li>Remove <span><code>Element</code></span> type
      [API change]</li>
      <li>Remove <span><code>makeHierarchicalize</code></span> [API
      change]</li>
      <li>Add <span><code>makeSections</code></span> [API
      change]</li>
      <li>Export <span><code>deLink</code></span> [API
      change]</li>
      <li>Make <span><code>filterIpynbOutput</code></span> strip ANSI
      escapes from code in output for non-ipynb formats, when the
      default “best” option is used with <span><code>--ipynb-output</code></span> (<a href="https://github.com/jgm/pandoc/issues/5633">#5633</a>).</li>
      <li>Fix <span><code>camelCaseToHyphenated</code></span> so it
      handles <span><code>ABCDef</code></span>
      better.</li>
      <li>Improve <span><code>isTight</code></span> (<a href="https://github.com/jgm/pandoc/issues/5857">#5857</a>). If a
      list has an empty item, this should not count against its being a
      tight list.</li>
      <li>Export <span><code>htmlSpanLikeElements</code></span> [API
      change] (Daniele D’Orazio, <a href="https://github.com/jgm/pandoc/issues/5796">#5796</a>). This
      is a mapping of HTML span-like elements that are internally
      represented as a Span with a single class.</li>
      <li>Change the implementation of <span><code>htmlSpanLikeElements</code></span> to retain
      classes and attributes (<a href="https://github.com/jgm/pandoc/issues/5882">#5882</a>,
      Florian Beeres).</li>
      </ul></li>
      <li><p>Text.Pandoc.Slides: recognize content in Divs when
      determining slide level.</p></li>
      <li><p>Text.Pandoc.SelfContained:</p>
      <ul>
      <li>Omit content-type on type attribute for <span><code>&lt;style&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/5725">#5725</a>). It
      doesn’t seem to be valid for HTML5, and as a result Chrome ignores
      the style element.</li>
      </ul></li>
      <li><p>Text.Pandoc.Pretty has been removed [API change]. We now
      use the new external doclayout module instead.</p></li>
      <li><p>Text.Pandoc.Writers.Shared:</p>
      <ul>
      <li>Remove <span><code>metaToJSON</code></span>,
      <span><code>metaToJSON&#39;</code></span> [API
      change].</li>
      <li>Modify <span><code>addVariablesToContext</code></span>, <span><code>defField</code></span>, <span><code>setField</code></span>, <span><code>getField</code></span>, <span><code>resetField</code></span> to work with Context
      rather than JSON values. [API change]</li>
      <li>Export new function <span><code>endsWithPlain</code></span> [API
      change].</li>
      <li>Change <span><code>gridTables</code></span> so
      it does better at keeping the widths of columns (<a href="https://github.com/jgm/pandoc/issues/4320">#4320</a>) and
      does better at figuring out column widths when no widths are given
      (<a href="https://github.com/jgm/pandoc/issues/5899">#5899</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Options</p>
      <ul>
      <li>Change type of <span><code>writerTemplate</code></span> to <span><code>Maybe Template</code></span> instead of <span><code>Maybe String</code></span>.</li>
      <li>Change To/FromJSON instances for <span><code>HTMLMathMethod</code></span>, <span><code>CiteMethod</code></span>, <span><code>ObfuscationMethod</code></span>, <span><code>TrackChanges</code></span>, <span><code>WrapOption</code></span>, <span><code>TopLevelDivision</code></span>, <span><code>ReferenceLocation</code></span>, <span><code>HTMLSlideVariant</code></span> (<a href="https://github.com/jgm/pandoc/issues/5790">#5790</a>). In
      each case we use lowercase (or hyphenated lowercase) for
      constructors to line up more closely with command-line option
      values. This is a breaking change for those who manually decode or
      encode JSON for these data types (e.g. for <span><code>ReaderOptions</code></span> or <span><code>WriterOptions</code></span>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Filters:</p>
      <ul>
      <li>Add <span><code>FromYAML</code></span> instance
      for <span><code>Filter</code></span>.</li>
      <li><span><code>applyFilters</code></span>: Add and
      apply filters in order (not reversed) This changes <span><code>applyFilters</code></span> from
      Text.Pandoc.Filter so that it does a left fold rather than a right
      fold, applying the filters in the order listed.</li>
      </ul></li>
      <li><p>Text.Pandoc.XML:</p>
      <ul>
      <li>Change <span><code>toEntities</code></span> to
      emit numerical hex character references (<a href="https://github.com/jgm/pandoc/issues/5718">#5718</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Highlighting:</p>
      <ul>
      <li>Add additional listings languages (Wandmalfarbe).</li>
      </ul></li>
      <li><p>Text.Pandoc.MediaBag:</p>
      <ul>
      <li>Some of the types using Strings were switched to use FilePath
      instead (Christian Despres, <a href="https://github.com/jgm/pandoc/issues/5884">#5884</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Templates:</p>
      <ul>
      <li>Don’t import/export <span><code>varListToJSON</code></span> [API change]. It
      is removed in doctemplates &gt;= 0.3.</li>
      <li>Change type of <span><code>renderTemplate&#39;</code></span> [API change].
      Return value is now Text rather than being polymorphic. This makes
      room for upcoming removal of the <span><code>TemplateTarget</code></span> class from
      doctemplates.</li>
      </ul></li>
      <li><p>Text.Pandoc.App.Opt <a href="#api-changes">API
      changes</a>:</p>
      <ul>
      <li>More convenient To/FromJSON instances. Make the field names
      like <span><code>strip-empty-paragraphs</code></span> rather
      than <span><code>optStripEmptyParagraphs</code></span>. Anyone
      who is using JSON serialization of Opt will need to adjust things
      accordingly.</li>
      <li>Change <span><code>optHighlightStyle</code></span> to a <span><code>Maybe String</code></span> instead of <span><code>Maybe Style</code></span>. Do the
      parsing/loading of themes later, after option parsing.</li>
      <li>Remove <span><code>optBaseHeaderLevel</code></span> from <span><code>Opt</code></span>. We now just use <span><code>optShiftHeadingLevelBy</code></span>, to
      avoid redundancy.</li>
      <li>Change <span><code>optShiftHeadingLevel</code></span> to <span><code>optShiftHeadingLevelBy</code></span> to match
      the option.</li>
      <li>Custom FromJSON instance for <span><code>LineEnding</code></span>, so either <span><code>CRLF</code></span> or <span><code>crlf</code></span> will work.</li>
      <li>Change <span><code>optVariables</code></span>
      from <span><code>[(String, String)]</code></span>
      to <span><code>Context Text</code></span>.</li>
      <li>Change <span><code>optMetadata</code></span> to
      <span><code>Meta</code></span>, to allow structured
      values. The current behavior of the <span><code>--metadata</code></span> option stays the
      same.</li>
      <li>Rename <span><code>optReader</code></span>,
      <span><code>optWriter</code></span> as <span><code>optFrom</code></span>, <span><code>optTo</code></span>.</li>
      <li>Add <span><code>FromYAML</code></span>
      instances to <span><code>Opt</code></span> and to
      all subsidiary types.</li>
      <li>Rename <span><code>optMetadataFile</code></span> to <span><code>optMetadataFiles</code></span>.</li>
      <li>Rename <span><code>optPDFEngineArgs</code></span> to <span><code>optPDFEngineOpts</code></span>.</li>
      <li>Rename <span><code>optWrapText</code></span> to
      <span><code>optWrap</code></span>.</li>
      <li>Add <span><code>IpynbOutput</code></span>
      enumerated type: use this instead of a string for <span><code>optIpynbOutput</code></span>.</li>
      <li>Change optInputFiles to a <span><code>Maybe [FilePath]</code></span> (<a href="https://github.com/jgm/pandoc/issues/5888">#5888</a>) [API
      change]. <span><code>Nothing</code></span> means:
      nothing specified. <span><code>Just []</code></span> means: an empty list
      specified (e.g. in defaults).</li>
      <li>List fields in Opt so they aren’t reversed (<a href="https://github.com/jgm/pandoc/issues/5881">#5881</a>) [API
      change]. Previously <span><code>optIncludeInHeader</code></span>, etc. were
      in reverse order.</li>
      <li>The <span><code>sourcefile</code></span>
      variable is now always a list. It used to be sometimes a string,
      sometimes a list (when there was more than one).</li>
      </ul></li>
      <li><p>Template changes:</p>
      <ul>
      <li>default.latex: added code for <span><code>cslreferences</code></span> environment, to
      be used for pandoc-citeproc references. A <span><code>csl-hanging-indent</code></span> variable
      (set automatically if there is a <span><code>hanging-ident</code></span> class on the
      references Div) controls whether contents of this environment
      receive a hanging indent.</li>
      <li>default.latex: Add <span><code>space</code></span> as default option for
      xeCJK, so that spaces between words are preserved (<a href="https://github.com/jgm/pandoc/issues/5855">#5855</a>,
      jeongminkim-islab). This is necessary for Korean.</li>
      <li>default.latex: Remove include of <span><code>grffile</code></span> (<a href="https://github.com/jgm/pandoc/issues/5848">#5848</a>). This
      package used to be needed for proper handling of image filenames
      containing periods (in addition to the period before the
      extension). It no longer works with the latest LaTeX kernel and
      graphicx, so we have removed it. Future versions of graphicx will
      handle these filenames without the need for <span><code>grffile</code></span>.</li>
      <li>default.context: add a saner default for page numbers.
      Previously they appeared centered at the top of the page; now we
      put them centered at the bottom, unless the <span><code>pagenumbering</code></span> variable is
      set.</li>
      <li>default.context: define a start-stop-pair <span><code>cslreferences</code></span> to allow for
      hanging indents in the bibliography (<a href="https://github.com/jgm/pandoc/issues/5875">#5875</a>, Denis
      Maier).</li>
      <li>default.ms: update defaults. Use Palatino font, use slightly
      wider interparagraph space, don’t indent paragraphs, and put page
      numbers on the bottom. This brings ms output closer to default
      LaTeX output.</li>
      <li>default.revealjs: add navigationMode (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/5657">#5657</a>).</li>
      <li>default.muse: handle multiple authors better.</li>
      <li>docbook4, docbook5 templates: add indentation to body.</li>
      <li>HTML-based templates: use <span><code>styles.html</code></span> partial to avoid
      code duplication.</li>
      <li>HTML-based templates: change indentation of styles in
      template.</li>
      </ul></li>
      <li><p>reference.docx (<a href="https://github.com/jgm/pandoc/issues/5820">#5820</a>):</p>
      <ul>
      <li>Change Block Text (block quote) style so that the same font is
      used as in the body text, and the block text is indented left and
      right.</li>
      <li>All headings now have a uniform color.</li>
      <li>Level-1 headings no longer set <span><code>w:themeShade=&#34;B5&#34;</code></span>.</li>
      <li>Level-2 headings are now 14 point rather than 16 point.</li>
      <li>Level-3 headings are now 12 point rather than 14 point.</li>
      <li>Level-4 headings are italic rather than bold.</li>
      </ul></li>
      <li><p>epub.css: Add CSS for hanging-indent div to support
      pandoc-citeproc’s new hanging indents.</p></li>
      <li><p>pandoc.cabal:</p>
      <ul>
      <li>Repeat ghc-options in all stanzas.</li>
      <li>Remove conditionals for ghc &lt; 8 (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5693">#5693</a>).</li>
      <li>Compile with <span><code>-Wcpp-undef</code></span> and <span><code>-fhide-source-paths</code></span> when
      possible (Albert Krewinkel).</li>
      <li>Add cabal.project to extra-source-files (Albert
      Krewinkel).</li>
      <li>Add dependency on skylighting-core (<a href="https://github.com/jgm/pandoc/issues/5729">#5729</a>). Even
      though it shouldn’t be needed, some tools require it.</li>
      <li>Require latest pandoc-types, texmath, skylighting,
      haddock-library.</li>
      <li>Ensure TemplateHaskell is added to other-extensions when it is
      used (Vanessa McHale, <a href="https://github.com/jgm/pandoc/issues/5728">#5728</a>).</li>
      <li>Remove <span><code>derive_json_via_th</code></span> flag; always
      use TH. This cuts down on code duplication and reduces the chance
      for errors. See <a href="https://github.com/jgm/pandoc/issues/4083">#4083</a>.</li>
      </ul></li>
      <li><p>Makefile:</p>
      <ul>
      <li>Add ghci target.</li>
      <li>Add ghcid target.</li>
      <li>Remove references to obsolete flag (<a href="https://github.com/jgm/pandoc/issues/5694">#5694</a>).</li>
      </ul></li>
      <li><p>Benchmarks: fix failure on ipynb.</p></li>
      <li><p>Use MathJax 3 (zorkow).</p></li>
      <li><p>KaTeX math: respect <span><code>classoption=fleqn</code></span> variable,
      bump KaTeX version to 0.11.1 (<a href="https://github.com/jgm/pandoc/issues/5815">#5815</a>, Mauro
      Bieg).</p></li>
      <li><p>Fix redundant constraint compiler warnings (Pete Ryland, <a href="https://github.com/jgm/pandoc/issues/5625">#5625</a>).</p></li>
      <li><p>Use throwError instead of fail when appropriate.</p></li>
      <li><p>Use Prelude.fail to avoid ambiguity with fail from
      GHC.Base.</p></li>
      <li><p>Add <span><code>diff-zip.sh</code></span> to
      tools (John MacFarlane, Agustín Martín Barbero). This is intended
      to make it easier to test differences in zip containers, like
      epub, docx, or odt.</p></li>
      <li><p>Add <span><code>.gitattributes</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/5747">#5747</a>).
      This ensures that the golden files in <span><code>test/fb2/reader/</code></span> don’t have
      newlines converted. This should fix a test failure on GitHub CI
      with Windows.</p></li>
      <li><p>Reorder options in <span><code>--help</code></span>.</p></li>
      <li><p>Revise code for HsYAML-0.2.0.0 (<span data-cites="vijayphoenix">@vijayphoenix</span>, <a href="https://github.com/jgm/pandoc/issues/5704">#5704</a>).</p></li>
      <li><p>Remove blank line in code example in Haddocks (Leif
      Metcalf, <a href="https://github.com/jgm/pandoc/issues/5679">#5679</a>).</p></li>
      <li><p>Fix trypandoc with <span><code>getReader</code></span>/<span><code>getWriter</code></span> changes.</p></li>
      <li><p>Allow building pandoc with GHC 8.8.</p></li>
      <li><p>linux tarball: add architecture <span><code>-amd64</code></span> to filename. Now it will
      be: <span><code>pandoc-VERSION-linux-ARCH.tar.gz</code></span>.</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Add section for exit codes.</li>
      <li>Document some pptx limitations in slide show section: No
      incremental display (<a href="https://github.com/jgm/pandoc/issues/5689">#5689</a>). No
      pause with <span><code>. . .</code></span> (<a href="https://github.com/jgm/pandoc/issues/5701">#5701</a>).</li>
      <li>reveal.js flags (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/5653">#5653</a>).</li>
      <li>Document addition of <span><code>data-</code></span> prefix to unknown
      attributes in HTML5.</li>
      <li>Link to YAML spec (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/5687">#5687</a>).</li>
      <li>Fix capitalization of “Linux” (<a href="https://github.com/jgm/pandoc/issues/5859">#5859</a>, Marcus
      Stollsteimer).</li>
      <li>Use a table for exit codes.</li>
      <li>Put all template variable docs into one section.</li>
      <li>Use ATX headers consistently.</li>
      <li>Add fuller documentation of templates (<a href="https://github.com/jgm/pandoc/issues/5779">#5779</a>),
      including new template syntax, partials, etc.</li>
      <li>Add documentation for the variable <span><code>hyperrefoptions</code></span>
      (Wandmalfarbe).</li>
      <li>Clarify when macro definitions are passed as raw latex. In
      Markdown input, they are always passed through. In LaTeX, only if
      <span><code>latex_macros</code></span> is
      disabled.</li>
      <li>Clarify that <span><code>--dpi</code></span>
      provides a default and doesn’t override dpi values specified in
      the images themselves (<a href="https://github.com/jgm/pandoc/issues/5721">#5721</a>).</li>
      <li>Document how to use custom writers with <span><code>--standalone</code></span> (<a href="https://github.com/jgm/pandoc/issues/5866">#5866</a>).</li>
      <li>Clarify <span><code>--preserve-tabs</code></span> default.</li>
      </ul></li>
      <li><p>INSTALL.md:</p>
      <ul>
      <li>Fix instructions for libicu.</li>
      <li>Add Void Linux instructions (Volodymyr Kozachnyskyi).</li>
      </ul></li>
      <li><p>CONTRIBUTING.md:</p>
      <ul>
      <li>Add information on tests (Agustín Martín Barbero, <a href="https://github.com/jgm/pandoc/issues/5652">#5652</a>).</li>
      <li>Add information about command test naming to CONTRIBUTING
      (Florian B).</li>
      </ul></li>
      <li><p>Fix typos in changelog and comments (<a href="https://github.com/jgm/pandoc/issues/5896">#5896</a>, Brian
      Wignall).</p></li>
      <li><p>doc/lua-filters.md:</p>
      <ul>
      <li>Fix mistakes in mediabag module docs (<a href="https://github.com/jgm/pandoc/issues/5851">#5851</a>, Albert
      Krewinkel).</li>
      <li>Improve metadata replacement example in lua-filters doc (<a href="https://github.com/jgm/pandoc/issues/5851">#5851</a>).</li>
      <li>Mention which Lua version is shipped with pandoc (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/5892">#5892</a>).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.7.3-2019-06-11">
      <h2><a href="#pandoc-2.7.3-2019-06-11" aria-hidden="true"></a>pandoc 2.7.3 (2019-06-11)</h2>
      <ul>
      <li><p>Add <span><code>jira</code></span>
      (Atlassian’s Jira wiki markup) as output format (<a href="https://github.com/jgm/pandoc/issues/2497">#2497</a>, Albert
      Krewinkel).</p></li>
      <li><p>Add <span><code>tex_math_dollars</code></span> to <span><code>multimarkdownExtensions</code></span> (<a href="https://github.com/jgm/pandoc/issues/5512">#5512</a>). This
      form is now supported in multimarkdown, in addition to <span><code>tex_math_double_backslash</code></span>.</p></li>
      <li><p>Fix <span><code>--self-contained</code></span> so it works
      when output format has extensions. Previously if you used <span><code>--self-contained</code></span> with <span><code>html-smart</code></span> or <span><code>html+smart</code></span>, it wouldn’t
      work.</p></li>
      <li><p>Add template variable <span><code>curdir</code></span> with working directory
      from which pandoc is run (<a href="https://github.com/jgm/pandoc/issues/5464">#5464</a>).</p></li>
      <li><p>Markdown reader: don’t create implicit reference for empty
      header (<a href="https://github.com/jgm/pandoc/issues/5549">#5549</a>).</p></li>
      <li><p>Muse reader: allow images inside link descriptions
      (Alexander Krotov).</p></li>
      <li><p>HTML reader: epub related fixes.</p>
      <ul>
      <li>With epub extensions, check for <span><code>epub:type</code></span> in addition to <span><code>type</code></span>.</li>
      <li>Fix problem with noteref parsing which caused block-level
      content to be eaten with the noteref.</li>
      <li>Rename <span><code>pAnyTag</code></span> to
      <span><code>pAny</code></span>.</li>
      <li>Refactor note resolution.</li>
      <li>Trim definition list terms (Alexander Krotov).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Add braces when resolving <span><code>\DeclareMathOperator</code></span> (<a href="https://github.com/jgm/pandoc/issues/5441">#5441</a>). These
      seem to be needed for xelatex but not pdflatex.</li>
      <li>Allow newlines in <span><code>\mintinline</code></span>.</li>
      <li>Pass through unknown listings language as class (<a href="https://github.com/jgm/pandoc/issues/5540">#5540</a>).
      Previously if the language was not in the list of languages
      supported by listings, it would not be added as a class, so
      highlighting would not be triggered.</li>
      <li><span><code>rawLaTeXInline</code></span>:
      Include trailing <span><code>{}</code></span>s in
      raw latex commands (<a href="https://github.com/jgm/pandoc/issues/5439">#5439</a>). This
      change affects the markdown reader and other readers that allow
      raw LaTeX. Previously, trailing <span><code>{}</code></span> would be included for
      unknown commands, but not for known commands. However, they are
      sometimes used to avoid a trailing space after the command. The
      chances that a <span><code>{}</code></span> after a
      LaTeX command is not part of the command are very small.</li>
      </ul></li>
      <li><p>MediaWiki reader: handle multiple attributes in table row
      (<a href="https://github.com/jgm/pandoc/issues/5471">#5471</a>,
      chinapedia).</p></li>
      <li><p>Docx reader: Add support for <span><code>w:rtl</code></span> (<a href="https://github.com/jgm/pandoc/issues/5545">#5545</a>).
      Elements with this property are put into Span inlines with <span><code>dir=&#34;rtl&#34;</code></span>.</p></li>
      <li><p>DocBook reader: Issue <span><code>IgnoredElement</code></span>
      warnings.</p></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Fix planning elements in headers level 3 and higher (<a href="https://github.com/jgm/pandoc/issues/5494">#5494</a>).
      Planning info is now always placed before the subtree contents.
      Previously, the planning info was placed after the content if the
      header’s subtree was converted to a list, which happens with
      headers of level 3 and higher per default.</li>
      <li>Omit, but warn about unknown export options. Unknown export
      options are properly ignored and omitted from the output.</li>
      <li>Prefer plain symbols over math symbols (<a href="https://github.com/jgm/pandoc/issues/5483">#5483</a>).
      Symbols like <span><code>\alpha</code></span> are
      output plain and unemphasized, not as math.</li>
      <li>Recognize emphasis after TODO/DONE keyword (<a href="https://github.com/jgm/pandoc/issues/5484">#5484</a>).</li>
      </ul></li>
      <li><p>FB2 reader:</p>
      <ul>
      <li>Skip unknown elements rather than throwing errors (<a href="https://github.com/jgm/pandoc/issues/5560">#5560</a>).
      Sometimes custom elements are used (e.g. <span><code>id</code></span> element inside <span><code>author</code></span>); previously the reader
      would halt with an error. Now it skips the element and issues an
      <span><code>IgnoredElement</code></span>
      warning.</li>
      <li>Parse notes (<a href="https://github.com/jgm/pandoc/issues/5493">#5493</a>,
      Alexander Krotov).</li>
      <li>Internal improvements (Alexander Krotov).</li>
      </ul></li>
      <li><p>OpenDocument writer: Roll back automatic figure/table
      numbering (<a href="https://github.com/jgm/pandoc/issues/5474">#5474</a>). This
      was added in pandoc 2.7.2, but it makes it impossible to use
      pandoc-crossref. So this has been rolled back for now, until we
      find a good solution to make this behavior optional (or a creative
      way to let pandoc-crossref and this feature to coexist).</p></li>
      <li><p>New module Text.Pandoc.Writers.Jira, exporting <span><code>writeJira</code></span> [API change] (Albert
      Krewinkel).</p></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Don’t include ‘landmarks’ if there aren’t any. Previously we
      could get an empty ol element, which caused validation errors with
      epubcheck.</li>
      <li>Ensure unique ids for styleesheets in content.opf (<a href="https://github.com/jgm/pandoc/issues/5463">#5463</a>).</li>
      <li>Make stylesheet link compatible with kindlegen (<a href="https://github.com/jgm/pandoc/issues/5466">#5466</a>, Eric
      Schrijver). Pandoc omitted <span><code>type=&#34;text/css&#34;</code></span> from both <span><code>&lt;style&gt;</code></span> and <span><code>&lt;rel=&#34;stylesheet&#34;&gt;</code></span>
      elements in all templates, which is valid according to the spec.
      However, Amazon’s kindlegen software relies on this attribute on
      <span><code>&lt;link&gt;</code></span> elements
      when detecting stylesheets to include.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Output video and audio elements depending on file extension of
      the image path (Mauro Bieg).</li>
      <li>Emit empty alt tag in figures (<a href="https://github.com/jgm/pandoc/issues/5518">#5518</a>, Mauro
      Bieg). The same text is already in the
      <figcaption>
      and screen-readers would read it twice, see <a href="https://github.com/jgm/pandoc/issues/4737">#4737</a>.</figcaption></li>
      <li>Don’t add variation selector if it’s already there. This fixes
      round-trip failures.</li>
      <li>Prevent gratuitous emojification on iOS (<a href="https://github.com/jgm/pandoc/issues/5469">#5469</a>). iOS
      chooses to render a number of Unicode entities, including ‘↩︎’, as
      big colorful emoji. This can be defeated by appending Unicode
      VARIATION SELECTOR-15’/‘VARIATION SELECTOR-16’. So we now append
      this character when escaping strings, for both ‘↩︎’ and ‘↔︎’. If
      other characters prove problematic, they can simply be added to
      <span><code>needsVariationSelector</code></span>. +
      Add <span><code>class=&#34;heading&#34;</code></span> to
      level 7+ Headers rendered as <span><code>&lt;p&gt;</code></span> elements (<a href="https://github.com/jgm/pandoc/issues/5457">#5457</a>).</li>
      </ul></li>
      <li><p>RST writer: treat Span with no attributes as transparent
      (<a href="https://github.com/jgm/pandoc/issues/5446">#5446</a>).
      Previously an Emph inside a Span was being treated as nested
      markup and ignored. With this patch, the Span is just
      ignored.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Include inline code attributes with <span><code>--listings</code></span> (<a href="https://github.com/jgm/pandoc/issues/5420">#5420</a>).</li>
      <li>Don’t produce columns environment unless beamer (<a href="https://github.com/jgm/pandoc/issues/5485">#5485</a>).</li>
      <li>Fix footnote in image caption. Regression: the fix for <a href="https://github.com/jgm/pandoc/issues/4683">#4683</a> broke
      this case.</li>
      <li>Don’t highlight code in headings (<a href="https://github.com/jgm/pandoc/issues/5574">#5574</a>). This
      causes compilation errors.</li>
      <li>Use <span><code>\mbox</code></span> to get
      proper behavior inside <span><code>\sout</code></span> (<a href="https://github.com/jgm/pandoc/issues/5529">#5529</a>).</li>
      </ul></li>
      <li><p>EPUB writer: Fix document section assignments (<a href="https://github.com/jgm/pandoc/issues/5546">#5546</a>). For
      example, introduction should go in bodymatter, not frontmatter,
      and epigraph, conclusion, and afterward should go in bodymatter,
      not backmatter. For the full list of assignments, see the
      manual.</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Add backslashes to avoid unwanted interpretation of definition
      list terms as other kinds of block (<a href="https://github.com/jgm/pandoc/issues/554">#554</a>).</li>
      <li>Ensure the code fence is long enough (<a href="https://github.com/jgm/pandoc/issues/5519">#5519</a>).
      Previously too few backticks were used when the code block
      contained an indented line of backticks. (Ditto tildes.)</li>
      <li>Handle labels with integer names (Jesse Rosenthal, <a href="https://github.com/jgm/pandoc/issues/5495">#5495</a>).
      Previously if labels had integer names, it could produce a
      conflict with auto-labeled reference links. Now we test for a
      conflict and find the next available integer. This involves adding
      a new state variable <span><code>stPrevRefs</code></span> to keep track of
      refs used in other document parts when using <span><code>--reference-location=block|section</code></span></li>
      </ul></li>
      <li><p>Textile writer: fix closing tag for math output (Albert
      Krewinkel). Opening and closing tag for math output match
      now.</p></li>
      <li><p>Org writer: always indent src blocks content by 2 spaces
      (<a href="https://github.com/jgm/pandoc/issues/5440">#5440</a>,
      Albert Krewinkel). Emacs always uses two spaces when indenting the
      content of src blocks, e.g., when exiting a <span><code>C-c &#39;</code></span> edit-buffer. Pandoc used
      to indent contents by the space-equivalent of one tab, but now
      always uses two spaces, too.</p></li>
      <li><p>Asciidoc writer:</p>
      <ul>
      <li>Use <span><code>`+...+`</code></span> form for
      inline code. The old <span><code>`a__b__c`</code></span> yields emphasis
      inside code in asciidoc. To get a pure literal code span, use
      <span><code>`+a__b__c+`</code></span>.</li>
      <li>Use proper smart quotes with asciidoctor (<a href="https://github.com/jgm/pandoc/issues/5487">#5487</a>).
      Asciidoctor has a different format for smart quotes.</li>
      <li>Use doubled ## when necessary for spans (<a href="https://github.com/jgm/pandoc/issues/5566">#5566</a>).</li>
      <li>Ensure correct nesting of strong/emph (<a href="https://github.com/jgm/pandoc/issues/5565">#5565</a>):
      strong must be the outer element.</li>
      </ul></li>
      <li><p>JATS writer:</p>
      <ul>
      <li>Wrap elements with p when needed (<a href="https://github.com/jgm/pandoc/issues/5570">#5570</a>). The
      JATS spec restricts what elements can go inside <span><code>fn</code></span> and <span><code>list-item</code></span>. So we wrap other
      elements inside <span><code>&lt;p specific-use=&#34;wrapper&#34;&gt;</code></span>
      when needed.</li>
      <li>Properly handle footnotes (<a href="https://github.com/jgm/pandoc/issues/5511">#5511</a>)
      according to “best practice.” (Group them at the end in <span><code>&lt;fn-group&gt;</code></span> and use <span><code>&lt;xref&gt;</code></span> elements to link
      them.)</li>
      <li>Fix citations with PMID so they validate (<a href="https://github.com/jgm/pandoc/issues/5481">#5481</a>). This
      includes an update to data/jats.csl.</li>
      <li>Ensure validity of <span><code>&lt;pub-date&gt;</code></span> by parsing the
      date and extracting year, month, and day, as expected. Also add an
      iso-8601-date attribute automatically.</li>
      <li>Don’t use <span><code>&lt;break&gt;</code></span> element for
      LineBreak. It is only allowed in a few special contexts, and not
      in <span><code>&lt;p&gt;</code></span>
      elements.</li>
      <li>Don’t make <span><code>&lt;string-name&gt;</code></span> a child of
      <span><code>&lt;string&gt;</code></span>, which is
      illegal.</li>
      </ul></li>
      <li><p>FB2 writer:</p>
      <ul>
      <li>Do not wrap note references into <span><code>&lt;sup&gt;</code></span> and brackets
      (Alexander Krotov). Existing FB2 readers, such as FBReader,
      already display links with type=“note” as a superscript.</li>
      <li>Use genre metadata field (<a href="https://github.com/jgm/pandoc/issues/5478">#5478</a>).</li>
      </ul></li>
      <li><p>Muse writer: do not escape empty line after <span><code>&lt;br&gt;</code></span> (Alexander
      Krotov).</p></li>
      <li><p>Add unicode code point in “Missing character” warning (<a href="https://github.com/jgm/pandoc/issues/5538">#5538</a>). If
      the character isn’t in the console font, the message is pretty
      useless, so we show the code point for anything
      non-ASCII.</p></li>
      <li><p>Lua: add Version type to simplify comparisons (Albert
      Krewinkel). Version specifiers like <span><code>PANDOC_VERSION</code></span> and <span><code>PANDOC_API_VERSION</code></span> are turned
      into <span><code>Version</code></span> objects. The
      objects simplify version-appropriate comparisons while maintaining
      backward-compatibility. A function <span><code>pandoc.types.Version</code></span> is added
      as part of the newly introduced module <span><code>pandoc.types</code></span>, allowing users to
      create version objects in scripts.</p></li>
      <li><p>pandoc lua module (Albert Krewinkel):</p>
      <ul>
      <li>Fix deletion of nonexistent attributes (<a href="https://github.com/jgm/pandoc/issues/5569">#5569</a>).</li>
      <li>Better tests for Attr and AttributeList.</li>
      </ul></li>
      <li><p>pandoc.mediabag lua module (Albert Krewinkel):</p>
      <ul>
      <li>Add function <span><code>delete</code></span>
      for deleting a single item.</li>
      <li>Add function <span><code>empty</code></span>
      for removing all entries.</li>
      <li>Add function <span><code>items</code></span>
      for iterating over mediabag.</li>
      </ul></li>
      <li><p>Text.Pandoc.Class: Fix handling of <span><code>file:</code></span> URL scheme in <span><code>downloadOrRead</code></span> (<a href="https://github.com/jgm/pandoc/issues/5517">#5517</a>, Mauro
      Bieg). Previously <span><code>file:/</code></span>
      URLs were handled wrongly and pandoc attempted to make HTTP
      requests, which failed.</p></li>
      <li><p>Text.Pandoc.MIME: add <span><code>mediaCategory</code></span> [API change]
      (Mauro Bieg).</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Add <span><code>onlySimpleTableCells</code></span> [API
      change] (Mauro Bieg) and use this to consolidate simple-table
      detection (<a href="https://github.com/jgm/pandoc/issues/5524">#5524</a>). This
      fixes an inconsistency in the HTML reader, which did not treat
      tables with <span><code>&lt;p&gt;</code></span>
      inside cells as simple.</li>
      <li><span><code>metaToJSON</code></span>: treat
      digits starting with 0 as a string, not a number (<a href="https://github.com/jgm/pandoc/issues/5479">#5479</a>). This
      fixes a regression in YAML metadata in pandoc 2.7.2.</li>
      </ul></li>
      <li><p>Text.Pandoc.Logging: Add <span><code>IgnoredElement</code></span> constructor for
      <span><code>LogMessage</code></span>. <span><code>SkippedConetnt</code></span> doesn’t work for
      some XML-based readers which don’t have access to parsec source
      positions.</p></li>
      <li><p>Text.Pandoc.Asciify: Add Turkish undotted-i (<a href="https://github.com/jgm/pandoc/issues/5433">#5433</a>, Mauro
      Bieg).</p></li>
      <li><p>Improve output of Lua tests (<a href="https://github.com/jgm/pandoc/issues/5499">#5499</a>, Albert
      Krewinkel). This makes use of tasty-lua, a package to write tests
      in Lua and integrate the results into Tasty output. Test output
      becomes more informative: individual tests and test groups become
      visible in test output. Failures are reported with helpful error
      messages.</p></li>
      <li><p>Lua: add <span><code>pandoc.system</code></span> module (<a href="https://github.com/jgm/pandoc/issues/5468">#5468</a>, Albert
      Krewinkel). The <span><code>system</code></span>
      Lua module provides utility functions to interact with the
      operating- and file system. E.g. <span><code>print(pandoc.system.get_current_directory())</code></span>
      or <span><code>lua         pandoc.system.with_temporary_directory(&#39;tikz&#39;, function (dir)           -- write and compile a TikZ file with pdflatex         end)</code></span></p></li>
      <li><p>LaTeX template: Add pdflang to hypersetup if lang is set
      (<a href="https://github.com/jgm/pandoc/issues/5443">#5443</a>).</p></li>
      <li><p>beamer template: Fix using Beamer with geometry (<a href="https://github.com/jgm/pandoc/issues/5505">#5505</a>, Daniel
      Maslowski). Beamer already loads geometry, so we need to use the
      <span><code>\geometry</code></span> command to set
      geometry options.</p></li>
      <li><p>EPUB2/3 templates: Move inline styles to default epub.css
      (<a href="https://github.com/jgm/pandoc/issues/5466">#5466</a>).
      NOTE: Those who use a custom CSS stylesheet with EPUB should add
      these lines:</p>
      <pre><code>code{ white-space: pre-wrap; }
span.smallcaps{ font-variant: small-caps; }
span.underline{ text-decoration: underline; }
q { quotes: &#34;“&#34; &#34;”&#34; &#34;‘&#34; &#34;’&#34;; }
div.column{ display: inline-block; vertical-align: top; width: 50%; }</code></pre></li>
      <li><p>reveal.js template:</p>
      <ul>
      <li>Updates for revealjs 3.8.0 (<a href="https://github.com/jgm/pandoc/issues/5435">#5435</a>,
      ebiim).</li>
      <li>Remove reference to head.min.js (<a href="https://github.com/jgm/pandoc/issues/5448">#5448</a>, Winnie
      Hellmann). NOTE: users will need to update reveal.js to at least
      3.8.0 for their presentations generated with this version of
      pandoc to work correctly.</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Replace <span><code>&lt;/&gt;</code></span>
      with literal <span><code>/</code></span> (<a href="https://github.com/jgm/pandoc/issues/5451">#5451</a>). We
      use forward-slash for a directory separator in tmpDir, even on
      Windows (because that’s what tex likes). So we should not put a
      backslash between the tmpDir and the filename on Windows. This is
      harmless enough in normal Windows setups, but it breaks on Cygwin.
      Thanks to <span data-cites="cc2x">@cc2x</span>
      for noticing and diagnosing the problem.</li>
      <li>Allow use of <span><code>-output-directory</code></span> in <span><code>--pdf-engine-opt</code></span> (<a href="https://github.com/jgm/pandoc/issues/5462">#5462</a>). This
      is currently possible with <span><code>mklatex</code></span> and <span><code>-outdir</code></span>, but was not yet
      possible with xelatex and <span><code>-output-directory</code></span>.</li>
      <li>For PDF via ms/pdfroff, make TOC appear at beginning and in
      PDF bookmarks (<a href="https://github.com/jgm/pandoc/issues/5553">#5553</a>).
      Previously the TOC appeared at the end of the document, and was
      not bookmarked. To keep it at the end, add <span><code>--pdf-engine-opt=--no-toc-relocation</code></span>
      to your command line.</li>
      </ul></li>
      <li><p>Fix broken links in documents (<a href="https://github.com/jgm/pandoc/issues/5473">#5473</a>, Shim
      Myeongseob). Also, use absolute links to pandoc.org when possible,
      so that the links can be followed by people viewing these
      documents on GitHub.</p></li>
      <li><p>Improved sample lua tikz filter in lua-filters docs (<a href="https://github.com/jgm/pandoc/issues/5445">#5445</a>,
      Matthew Doty). There are three changes:</p>
      <ul>
      <li>It only processes elements which begin with <span><code>\begin{tikzpicture}</code></span></li>
      <li>It uses pdf2svg instead of imagemagick to preserve
      fidelity</li>
      <li>The images produced have transparent backgrounds</li>
      </ul></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Add note about <span><code>title-meta</code></span>, <span><code>author-meta</code></span>, <span><code>date-meta</code></span> (<a href="https://github.com/jgm/pandoc/issues/5486">#5486</a>).</li>
      <li>Fix typo (<a href="https://github.com/jgm/pandoc/issues/5489">#5489</a>,
      Christian Krause).</li>
      </ul></li>
      <li><p>add test/tables.xwiki to git and pandoc.cabal (<a href="https://github.com/jgm/pandoc/issues/5498">#5498</a>, Mauro
      Bieg).</p></li>
      <li><p>Disable missing-home-modules warning in <span><code>stack.yaml</code></span>. Otherwise <span><code>stack ghci</code></span> fails.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.7.2-2019-04-05">
      <h2><a href="#pandoc-2.7.2-2019-04-05" aria-hidden="true"></a>pandoc 2.7.2 (2019-04-05)</h2>
      <ul>
      <li><p>Add XWiki writer (<a href="https://github.com/jgm/pandoc/issues/1800">#1800</a>, Derek
      Chen-Becker). Add <span><code>Text.Pandoc.Writers.XWiki</code></span>,
      exporting <span><code>writeXWiki</code></span> [API
      change].</p></li>
      <li><p>Dokuwiki Reader: parse single curly brace (<a href="https://github.com/jgm/pandoc/issues/5416">#5416</a>, Mauro
      Bieg).</p></li>
      <li><p>Vimwiki reader: improve handling of internal links (<a href="https://github.com/jgm/pandoc/issues/5414">#5414</a>). We no
      longer append <span><code>.html</code></span> to
      link targets, and we add a title <span><code>wikilink</code></span>. This mirrors behavior
      of other wiki readers. Generally the <span><code>.html</code></span> extension is not wanted.
      It may be important for output to HTML in certain circumstances,
      but it can always be added using a filter that matches on links
      with title <span><code>wikilink</code></span>.</p>
      <p>If your workflow requires the current behavior, here is a lua
      filter that will add the <span><code>.html</code></span> extension:</p>
      <div id="cb28"><pre><code><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span>function</span> Link<span>(</span><span>el</span><span>)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span>if</span> <span>el</span><span>.</span><span>title</span> <span>==</span> <span>&#39;wikilink&#39;</span> <span>then</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span>el</span><span>.</span><span>target</span> <span>=</span> <span>el</span><span>.</span><span>target</span> <span>..</span> <span>&#34;.html&#34;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span>end</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span>return</span> <span>el</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span>end</span></span></code></pre></div></li>
      <li><p>ipynb reader:</p>
      <ul>
      <li>Use format <span><code>ipynb</code></span> for
      raw cell where no format given.</li>
      <li>Avoid introducing spurious <span><code>.0</code></span> on integers in
      metadata.</li>
      </ul></li>
      <li><p>Markdown reader: fenced div takes priority over setext
      header.</p></li>
      <li><p>HTML reader: read <span><code>data-foo</code></span> attribute into <span><code>foo</code></span> (<a href="https://github.com/jgm/pandoc/issues/5392">#5392</a>). The
      HTML writer adds the <span><code>data-</code></span> prefix for HTML5 for
      nonstandard attributes. But the attributes are represented in the
      AST without the <span><code>data-</code></span>
      prefix, so we should strip this when reading HTML.</p></li>
      <li><p>LaTeX reader: Improve autolink detection (<a href="https://github.com/jgm/pandoc/issues/5340">#5340</a>).</p></li>
      <li><p>PowerPoint writer (Jesse Rosenthal):</p>
      <ul>
      <li>Expand builtin reference doc to model all layouts. The
      previous built-in reference doc had only title and content
      layouts. Add in a section-header slide and a two-content slide, so
      users can more easily modify it to build their own templates.</li>
      <li>Always open up in slide view. When editing a
      template/reference-doc, the user might be in Master view, but when
      producing a slide show, it is assumed that slide view will be
      desired.</li>
      <li>Remove <span><code>handoutsMasterList</code></span> from
      template presentation.xml</li>
      <li>Fix numerous errors in templating (<a href="https://github.com/jgm/pandoc/issues/5402">#5402</a>).
      Previously, some templates produced by Office 365 (MacOS) would
      not render with <span><code>--reference-doc</code></span> correctly. We
      now apply correct shapes for content, and build shape trees
      correctly.</li>
      <li>Make default placeholder type for template lookup.</li>
      <li>Apply speaker notes to metadata slide if applicable.</li>
      <li>Test for speaker notes after breaking header.</li>
      <li>Correctly handle notes after section-title header. Previously,
      if notes came after a section-title header (ie, a level-1 header
      in a slide-level=2 presentation), they would go on the next slide.
      This keeps them on the slide with the header.</li>
      <li>Internal improvements.</li>
      </ul></li>
      <li><p>ipynb writer:</p>
      <ul>
      <li>Use format <span><code>ipynb</code></span> for
      raw cell where no format given. According to nbformat docs, this
      is supposed to render in every format. We don’t do that, but we at
      least preserve it as a raw block in markdown, so you can
      round-trip.</li>
      <li>Consolidate adjacent raw blocks. Sometimes pandoc creates two
      HTML blocks, e.g. one for the open tag and one for a close tag. If
      these aren’t consolidated, only one will show up in output
      cell.</li>
      <li>Fixed carry-over of nbformat from metadata.</li>
      <li>Preserve <span><code>nbformat_minor</code></span> if it’s given.
      This helps with round-tripping.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Avoid inadvertently creating ?<span><code>or !</code></span> ligatures (<a href="https://github.com/jgm/pandoc/issues/5407">#5407</a>). These
      are upside down ? and !, resp.</li>
      <li>Fix footnotes in table caption and cells (<a href="https://github.com/jgm/pandoc/issues/5367">#5367</a>). This
      fixes a bug wherein footnotes appeared in the wrong order, and
      with duplicate numbers, when in table captions and cells. We now
      use regular <span><code>\footnote</code></span>
      commands, even in the table caption and the minipages containing
      cells. Apparently longtable knows how to handle this.</li>
      </ul></li>
      <li><p>HTML writer: Don’t add data- prefix to RDFa attributes (<a href="https://github.com/jgm/pandoc/issues/5403">#5403</a>).</p></li>
      <li><p>JATS writer: Ensure that plain strings go inside <span><code>&lt;pub-id&gt;</code></span> tag (<a href="https://github.com/jgm/pandoc/issues/5397">#5397</a>).</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Better rendering of numbers (<a href="https://github.com/jgm/pandoc/issues/5398">#5398</a>). If
      the number is integral, we render it as an integral not a
      float.</li>
      <li>Proper rendering of empty map in YAML metadata (<a href="https://github.com/jgm/pandoc/issues/5398">#5398</a>).
      Should be <span><code>{}</code></span>, not empty
      string.</li>
      <li>Properly escape attributes in Markdown writer (<a href="https://github.com/jgm/pandoc/issues/5369">#5369</a>).</li>
      <li>Be sure implicit figures work in list contexts (<a href="https://github.com/jgm/pandoc/issues/5368">#5368</a>).
      Previously they would sometimes not work: e.g., when they occurred
      in final paragraphs in lists that were originally parsed as Plain
      and converted later using PlainToPara.</li>
      </ul></li>
      <li><p>Docx writer: Use <span><code>w:br</code></span> without attributes for
      line breaks (<a href="https://github.com/jgm/pandoc/issues/5377">#5377</a>). We
      previously added the attribute <span><code>type=&#34;textWrapping&#34;</code></span>, but this
      causes problems on Word Online.</p></li>
      <li><p>LaTeX template (Andrew Dunning):</p>
      <ul>
      <li>Ensure correct heading/table order (<a href="https://github.com/jgm/pandoc/issues/5365">#5365</a>).
      Improve workaround (<a href="https://github.com/jgm/pandoc/issues/1658">#1658</a>) for
      tables following headings. The new solution works whether or not
      the <span><code>indent</code></span> variable is
      enabled.</li>
      <li>Remove <span><code>subparagraph</code></span>
      variable. The default is now to use run-in style for level 4 and 5
      headings (<span><code>\paragraph</code></span> and
      <span><code>\subparagraph</code></span>). To get
      the previous default behavior (where these were formatted as
      blocks, like <span><code>\subsubsection</code></span>), set the <span><code>block-headings</code></span> variable.</li>
      <li>Add pandoc to PDF metadata (<a href="https://github.com/jgm/pandoc/issues/5388">#5388</a>).</li>
      <li>Group graphics-related code (<a href="https://github.com/jgm/pandoc/issues/5389">#5389</a>).</li>
      <li>Move <span><code>\setstretch</code></span>
      after front matter (<a href="https://github.com/jgm/pandoc/issues/5179">#5179</a>).
      Ensures that <span><code>\maketitle</code></span>,
      <span><code>\tableofcontents</code></span>, and so
      forth are not affected by changes to line spacing.</li>
      </ul></li>
      <li><p>Update data/jats.csl to avoid commas between name-part
      elements (<a href="https://github.com/jgm/pandoc/issues/5397">#5397</a>).</p></li>
      <li><p>Add support for golang (<span><code>go</code></span>) with <span><code>--listings</code></span> (<a href="https://github.com/jgm/pandoc/issues/5427">#5427</a>).</p></li>
      <li><p>Text.Pandoc.Shared - improve <span><code>metaToJSON</code></span> behavior with
      numbers. We now do a better job marshalling numbers from
      MetaString or MetaInlines into JSON Number.</p></li>
      <li><p>Text.Pandoc.Writers.Shared: <span><code>metaValueToJSON</code></span>: use Number
      Values for integers. Pandoc’s MetaValue doesn’t have a
      distinguished number type, so numbers are put in MetaStrings. If
      the MetaString consists entirely of digits, we convert it to a
      Number. We should probably consider adding a MetaNumber
      constructor to MetaValue, for better round-tripping with JSON etc.
      This change aids round-tripping in ipynb metadata fields, like
      <span><code>toc_depth</code></span>.</p></li>
      <li><p>Text.Pandoc.Class: <span><code>fetchItem</code></span>: don’t treat UNC
      paths as protocol-relative URLs (<a href="https://github.com/jgm/pandoc/issues/5127">#5127</a>). These
      are paths beginning <span><code>//?/UNC/...</code></span>.</p></li>
      <li><p>Text.Pandoc.ImageSize: Improve <span><code>pdfSize</code></span> so it handles a wider
      range of PDFs (<a href="https://github.com/jgm/pandoc/issues/4322">#4322</a>, with
      help from Richard Davis).</p></li>
      <li><p>Text.Pandoc.Pretty: avoid stack overflow by using strict
      sum (<a href="https://github.com/jgm/pandoc/issues/5401">#5401</a>).</p></li>
      <li><p>Fix harmless error in file-scope code (<a href="https://github.com/jgm/pandoc/issues/5422">#5422</a>).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Improve ‘header’ and ‘heading’ usage (<a href="https://github.com/jgm/pandoc/issues/5423">#5423</a>, Andrew
      Dunning). The term ‘header’ was being used where ‘heading’ is more
      appropriate.</li>
      <li>Add paragraph on options affecting markdown in ipynb.</li>
      </ul></li>
      <li><p>stack.yaml - remove -Wmissing-home-modules This seems to
      cause problems with stack ghci. Remove RTS options.</p></li>
      <li><p>Add ghc-options to cabal.project.</p></li>
      <li><p>appveyor.yml - use ghc 8.6.4. Fixes segfault issues on
      Windows (<a href="https://github.com/jgm/pandoc/issues/5037">#5037</a>).</p></li>
      <li><p>linux build process: Remove clone of pandoc-citeproc (<a href="https://github.com/jgm/pandoc/issues/5366">#5366</a>). It
      wasn’t being used; cabal.project specifies the version to
      use.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.7.1-2019-03-14">
      <h2><a href="#pandoc-2.7.1-2019-03-14" aria-hidden="true"></a>pandoc 2.7.1 (2019-03-14)</h2>
      <ul>
      <li><p>Add tectonic as an option for –pdf-engine (<a href="https://github.com/jgm/pandoc/issues/5345">#5345</a>, Cormac
      Relf). Runs tectonic on STDIN instead of a temporary .tex file, so
      that it looks in the working directory for <span><code>\include</code></span> and <span><code>\input</code></span> like the rest of the
      engines. Allows overriding the output directory args with <span><code>--pdf-engine-opt=--outdir --pdf-engine-opt=&#34;$DIR&#34;</code></span>.</p></li>
      <li><p>Allow <span><code>-o/--output</code></span>
      to be used with <span><code>--print-default-data-file</code></span>,
      <span><code>--print-highlighting-style</code></span>,
      <span><code>--print-default-template</code></span>.
      Note that <span><code>-o</code></span> must occur
      BEFORE the <span><code>--print*</code></span>
      command on the command line (this is documented, <a href="https://github.com/jgm/pandoc/issues/5357">#5357</a>).</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Support <span><code>\underline</code></span>,
      <span><code>\ul</code></span>, <span><code>\uline</code></span> (<a href="https://github.com/jgm/pandoc/issues/5359">#5359</a>, Paul
      Tilley). These are parsed as a Span with class <span><code>underline</code></span>, as with other
      readers.</li>
      <li>Ensure that <span><code>\Footcite</code></span>
      and <span><code>\Footcites</code></span> get put in
      a note.</li>
      </ul></li>
      <li><p>ipynb reader:</p>
      <ul>
      <li>Remove sensitivity to <span><code>raw_html</code></span>, <span><code>raw_tex</code></span> extensions. We now
      include every output format. Pruning is handled by <span><code>--ipynb-output</code></span>.</li>
      <li>Better handling of cell metadata. We now include even complex
      cell metadata in the Div’s attributes (as JSON, in complex cases,
      or as plain strings in simple cases).</li>
      </ul></li>
      <li><p>ipynb writer:</p>
      <ul>
      <li>Recurse into native divs for output cell data (<a href="https://github.com/jgm/pandoc/issues/5354">#5354</a>).</li>
      <li>Render cell metadata fields from div attributes.</li>
      </ul></li>
      <li><p>Docx writer: avoid extra copy of abstractNum and num
      elements in numbering.xml. This caused pandoc-produced docx files
      to be uneditable using Word Online (<a href="https://github.com/jgm/pandoc/issues/5358">#5358</a>).</p></li>
      <li><p>Markdown writer: improve handling of raw blocks/inline. We
      now emit raw content using <span><code>raw_attribute</code></span> when no more
      direct method is available. Use of <span><code>raw_attribute</code></span> can be forced by
      disabling <span><code>raw_html</code></span> and
      <span><code>raw_tex</code></span>.</p></li>
      <li><p>LaTeX writer: Add classes for frontmatter support (<a href="https://github.com/jgm/pandoc/issues/5353">#5353</a>, Andrew
      Dunning) and remove frontmatter from <span><code>scrreprt</code></span>.</p></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Improve readability (<a href="https://github.com/jgm/pandoc/issues/5363">#5363</a>, Andrew
      Dunning).</li>
      <li>Robust section numbering removal (<a href="https://github.com/jgm/pandoc/issues/5351">#5351</a>, Andrew
      Dunning). Ensures that section numbering does not reappear with
      custom section levels. See <a href="https://tex.stackexchange.com/questions/473653/">https://tex.stackexchange.com/questions/473653/</a>.</li>
      <li>Better handling of front/main/backmatter (<a href="https://github.com/jgm/pandoc/issues/5348">#5348</a>). In
      pandoc 2.7 we assumed that every class with chapters would accept
      <span><code>\frontmatter</code></span>, <span><code>\mainmatter</code></span>, and <span><code>\backmatter</code></span>. This is not so
      (e.g. report does not). So pandoc 2.7 breaks on report class by
      including an unsupported command. Instead of the <span><code>book-class</code></span> variable, we use two
      variables, <span><code>has-chapters</code></span>
      and <span><code>has-frontmatter</code></span>, and
      set these intelligently in the writer.</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared: Improve <span><code>filterIpynbOutput</code></span>. Ensure that
      images are prioritized over text. <span><code>best</code></span> should include everything
      for ipynb.</p></li>
      <li><p>Tests.Old: specify <span><code>--data-dir=../data</code></span> to ensure
      tests can find data files even if they haven’t been installed.
      Remove old <span><code>pandoc_datadir</code></span>
      environment variable, which hasn’t done anything for a long
      time.</p></li>
      <li><p>MANUAL.txt: Add recommendation to use <span><code>raw_attribute</code></span> with ipynb (<a href="https://github.com/jgm/pandoc/issues/5354">#5354</a>).</p></li>
      <li><p>Use cmark-gfm-hs 0.1.8 (note that 0.1.7 is buggy).</p></li>
      <li><p>Use latest pandoc-citeproc, texmath.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.7-2019-03-03">
      <h2><a href="#pandoc-2.7-2019-03-03" aria-hidden="true"></a>pandoc 2.7 (2019-03-03)</h2>
      <ul>
      <li><p>Use XDG data directory for user data directory (<a href="https://github.com/jgm/pandoc/issues/3582">#3582</a>).
      Instead of <span><code>$HOME/.pandoc</code></span>,
      the default user data directory is now <span><code>$XDG_DATA_HOME/pandoc</code></span>, where
      <span><code>XDG_DATA_HOME</code></span> defaults to
      <span><code>$HOME/.local/share</code></span> but
      can be overridden by setting the environment variable. If this
      directory is missing, then <span><code>$HOME/.pandoc</code></span> is searched
      instead, for backwards compatibility. However, we recommend moving
      local pandoc data files from <span><code>$HOME/.pandoc</code></span> to <span><code>$HOME/.local/share/pandoc</code></span>. On
      Windows the default user data directory remains the same.</p></li>
      <li><p>Slide show formats behavior change: content under headers
      less than slide level is no longer ignored, but included in the
      title slide (for HTML slide shows) or in a slide after the title
      slide (for beamer). This change makes possible 2D reveal.js
      slideshows with content in the top slide on each stack (<a href="https://github.com/jgm/pandoc/issues/4317">#4317</a>, <a href="https://github.com/jgm/pandoc/issues/5237">#5237</a>).</p></li>
      <li><p>Add command line option <span><code>--ipynb-output=all|none|best</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/5339">#5339</a>).
      Output cells in ipynb notebooks often contain several different
      versions of an output, with different MIME types, e.g. an HTML
      table and a plain-text fallback. Specifying <span><code>--ipynb-output=best</code></span> (the
      default) ensures that the best version for the output format is
      used. <span><code>all</code></span> includes all
      versions, and <span><code>none</code></span>
      suppresses them all, leaving output cells empty.</p></li>
      <li><p><span><code>asciidoctor</code></span> is now
      an output format separate from <span><code>asciidoc</code></span>, to accommodate some
      minor implementation-specific differences (currently just in the
      treatment of display math).</p></li>
      <li><p>Add <span><code>latexmk</code></span> as an
      option for <span><code>--pdf-engine</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/3195">#3195</a>).
      Note that you can use <span><code>--pdf-engine-opt=-outdir=bar</code></span> to
      specify a persistent temp directory.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Improve tight/loose list handling (<a href="https://github.com/jgm/pandoc/issues/5285">#5285</a>).
      Previously the algorithm allowed list items with a mix of Para and
      Plain, which is never wanted.</li>
      <li>Add newline when parsing blocks in YAML (<a href="https://github.com/jgm/pandoc/issues/5271">#5271</a>).
      Otherwise last block gets parsed as a Plain rather than a Para.
      This is a regression in pandoc 2.x. This patch restores pandoc
      1.19 behavior.</li>
      <li>Make <span><code>yamlToMeta</code></span>
      respect extensions (<a href="https://github.com/jgm/pandoc/issues/5272">#5272</a>, Mauro
      Bieg). This adds a <span><code>ReaderOptions</code></span> parameter to
      <span><code>yamlToMeta</code></span> [API
      change].</li>
      <li>Fix bug parsing fenced code blocks (<a href="https://github.com/jgm/pandoc/issues/5304">#5304</a>).
      Previously parsing would break if the code block contained a
      string of backticks of sufficient length followed by something
      other than end of line.</li>
      </ul></li>
      <li><p>LaTeX reader: don’t let <span><code>\egroup</code></span> match <span><code>{</code></span>. <span><code>braced</code></span> now actually requires
      nested braces. Otherwise some legitimate command and environment
      definitions can break.</p></li>
      <li><p>Docx reader (Jesse Rosenthal):</p>
      <ul>
      <li>Rename <span><code>getDocumentPath</code></span> as <span><code>getDocumentXmlPath</code></span>.</li>
      <li>Use field notation for setting <span><code>ReaderEnv</code></span>.</li>
      <li>Figure out <span><code>document.xml</code></span> path once at the
      beginning of parsing, and add it to the environment, so we can
      avoid repeated lookups.</li>
      <li>Dynamically determine main document xml path (<a href="https://github.com/jgm/pandoc/issues/5277">#5277</a>). The
      desktop Word program places the main document file in <span><code>word/document.xml</code></span>, but the
      online word places it in <span><code>word/document2.xml</code></span>. This file
      path is actually stated in the root <span><code>_rels/.rels</code></span> file, in the <span><code>Relationship</code></span> element with an
      <span><code>http://../officedocument</code></span>
      type.</li>
      <li>Fix paths in archive to prevent Windows failure (<a href="https://github.com/jgm/pandoc/issues/5277">#5277</a>). Some
      paths in archives are absolute (have an opening slash) which, for
      reasons unknown, produces a failure in the test suite on MS
      Windows. This fixes that by removing the leading slash if it
      exists.</li>
      <li>Add comments to aid code readability.</li>
      <li>Trim space inside the last inline (<a href="https://github.com/jgm/pandoc/issues/5273">#5273</a>).</li>
      <li>Unwrap sdt elements in footnotes and comments (<a href="https://github.com/jgm/pandoc/issues/5302">#5302</a>).</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Test that block level markup does not break <span><code>&lt;verbatim&gt;</code></span>.</li>
      <li>Add secondary note support.</li>
      </ul></li>
      <li><p>ipynb reader: handle images referring to attachments.
      Previously we didn’t strip off the attachment: prefix, so even
      though the attachment was available in the mediabag, pandoc
      couldn’t find it.</p></li>
      <li><p>JATS reader:</p>
      <ul>
      <li>Fix parsing of figures (<a href="https://github.com/jgm/pandoc/issues/5321">#5321</a>). This
      ensures that a figure containing a single image is parsed as a
      pandoc “implicit figure” (i.e., a Para with a single Image whose
      title attribute begins with <span><code>fig:</code></span>). More complex figures
      will still be parsed as divs.</li>
      <li>Support <span><code>fig-group</code></span>
      block element (<a href="https://github.com/jgm/pandoc/issues/5317">#5317</a>).</li>
      <li>Handle citations with multiple references (<a href="https://github.com/jgm/pandoc/issues/5310">#5310</a>). The
      <span><code>rid</code></span> attribute can have a
      space-separated list of ids.</li>
      </ul></li>
      <li><p>AsciiDoc Writer: Add <span><code>writeAsciiDoctor</code></span> [API change,
      Tarik Graba]. Handle display math appropriately for
      Asciidoctor.</p></li>
      <li><p>JATS writer: wrap figure caption in <span><code>&lt;p&gt;</code></span> to fix validation (<a href="https://github.com/jgm/pandoc/issues/5290">#5290</a>, Mauro
      Bieg).</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Implement WAI-ARIA roles for (end)notes, citations, and
      bibliography (<a href="https://github.com/jgm/pandoc/issues/4213">#4213</a>). Note
      that doc-biblioref is only used when link-citations produces
      links, since it belongs on links.</li>
      <li>Include content (including speaker notes) in title slides (<a href="https://github.com/jgm/pandoc/issues/4317">#4317</a>, <a href="https://github.com/jgm/pandoc/issues/5237">#5237</a>).</li>
      </ul></li>
      <li><p>ipynb writer:</p>
      <ul>
      <li>Ensure final newline.</li>
      <li>Only include metadata under <span><code>jupyter</code></span> field.</li>
      <li>Don’t create attachments for images with absolute URIs,
      including data: URIs (<a href="https://github.com/jgm/pandoc/issues/5303">#5303</a>).</li>
      <li>Keep plain text fallbacks in output even if a richer format is
      included (<a href="https://github.com/jgm/pandoc/issues/5293">#5293</a>). We
      don’t know what output format will be needed. See the <span><code>--ipynb-output</code></span> command line
      option for a way to control what formats are included in the
      output.</li>
      </ul></li>
      <li><p>Markdown writer: use <span><code>markdown=&#34;1&#34;</code></span> when appropriate
      for Divs: when <span><code>native_divs</code></span> and <span><code>markdown_in_html_blocks</code></span> are
      disabled but <span><code>raw_html</code></span> and
      <span><code>markdown_attribute</code></span> are
      enabled.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use right fold for <span><code>escapeString</code></span>. This is more
      elegant than the explicit recursive code we were using.</li>
      <li>Avoid <span><code>{}</code></span> after
      control sequences when escaping. <span><code>\ldots{}.</code></span> doesn’t behave as
      well as <span><code>\ldots.</code></span> with the
      latex ellipsis package. This patch causes pandoc to avoid emitting
      the <span><code>{}</code></span> when it is not
      necessary. Now <span><code>\ldots</code></span> and
      other control sequences used in escaping will be followed by
      either a <span><code>{}</code></span>, a space, or
      nothing, depending on context.</li>
      <li>For beamer, include contents under headers superordinate to
      slidelevel (<a href="https://github.com/jgm/pandoc/issues/4317">#4317</a>).
      Currently we keep the fancy title slide, and add a new slide with
      the same title and whatever content was under the header.</li>
      </ul></li>
      <li><p>Powerpoint writer (Jesse Rosenthal): support underlines.
      Use span with single class “underline” as in docx writer.</p></li>
      <li><p>Muse writer: escape secondary notes (Alexander
      Krotov).</p></li>
      <li><p>FB2 writer: add section identifiers support (<a href="https://github.com/jgm/pandoc/issues/5229">#5229</a>, John
      KetzerX).</p></li>
      <li><p>Make <span><code>--fail-if-warnings</code></span> work for PDF
      output (<a href="https://github.com/jgm/pandoc/issues/5343">#5343</a>).</p></li>
      <li><p>Lua filters (Albert Krewinkel):</p>
      <ul>
      <li>Load module <span><code>pandoc</code></span>
      before calling <span><code>init.lua</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/5287">#5287</a>).
      The file <span><code>init.lua</code></span> in
      pandoc’s data directory is run as part of pandoc’s Lua
      initialization process. Previously, the <span><code>pandoc</code></span> module was loaded in
      <span><code>init.lua</code></span>, and the
      structure for marshaling was set up after. This allowed simple
      patching of element marshaling, but made using <span><code>init.lua</code></span> more difficult. Now,
      all required modules are now loaded before calling <span><code>init.lua</code></span>. The file can be used
      entirely for user customization. Patching marshaling functions,
      while discouraged, is still possible via the <span><code>debug</code></span> module.</li>
      <li>All Lua modules bundled with pandoc, i.e., <span><code>pandoc.List</code></span>, <span><code>pandoc.mediabag</code></span>, <span><code>pandoc.utils</code></span>, and <span><code>text</code></span> are re-exported from the
      <span><code>pandoc</code></span> module. They are
      assigned to the fields <span><code>List</code></span>, <span><code>mediabag</code></span>, <span><code>utils</code></span>, and <span><code>text</code></span>, respectively.</li>
      </ul></li>
      <li><p>Text.Pandoc.Lua (Albert Krewinkel):</p>
      <ul>
      <li>Split <span><code>StackInstances</code></span>
      into smaller Marshaling modules.</li>
      <li>Get <span><code>CommonState</code></span> from
      Lua global. This allows more control over the common state from
      within Lua scripts.</li>
      </ul></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Support the <span><code>subject</code></span>
      metadata variable (<a href="https://github.com/jgm/pandoc/issues/5289">#5289</a>, Pascal
      Wagler).</li>
      <li>Add <span><code>\frontmatter</code></span>,
      <span><code>\mainmatter</code></span>, <span><code>\backmatter</code></span> for book classes
      (<a href="https://github.com/jgm/pandoc/issues/5306">#5306</a>).</li>
      </ul></li>
      <li><p>epub3 template: Add titlepage class to section (<a href="https://github.com/jgm/pandoc/issues/5269">#5269</a>).</p></li>
      <li><p>HTML5 template: Add ARIA role <span><code>doc-toc</code></span> for table of contents
      (<a href="https://github.com/jgm/pandoc/issues/4213">#4213</a>).</p></li>
      <li><p>Make <span><code>--metadata-file</code></span> use selected
      extensions (<a href="https://github.com/jgm/pandoc/issues/5279">#5279</a>, <a href="https://github.com/jgm/pandoc/issues/5272">#5272</a>, Mauro
      Bieg).</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Remove <span><code>withTempDir</code></span>
      [API change].</li>
      <li>Add new exported function <span><code>defaultUserDataDirs</code></span> [API
      change].</li>
      <li>Add <span><code>filterIpynbOutput</code></span>
      [API change].</li>
      <li><span><code>compactify</code></span>: Avoid
      lists with a mix of Plain and Para elements (<a href="https://github.com/jgm/pandoc/issues/5285">#5285</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Translations: reorder alphabetically and remove
      <span><code>Author</code></span> (<a href="https://github.com/jgm/pandoc/issues/5334">#5334</a>, Mauro
      Bieg).</p></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li>More carefully groom ipynb default extensions.</li>
      <li>Add <span><code>all_symbols_escapable</code></span> to <span><code>githubMarkdownExtensions</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Use system temp directory when possible (<a href="https://github.com/jgm/pandoc/issues/1192">#1192</a>).
      Previously we created temp dirs in the working directory, partly
      (a) because there were problems using the system temp directory on
      Windows, when their pathnames included tildes, and partly (b)
      because programs like <span><code>epstopdf.pl</code></span> would not be
      allowed to write to directories outside the working directory in
      restricted mode. We now (a) use the system temp dir except when
      the path includes tildes, and (b) set <span><code>TEXMFOUTPUT</code></span> when creating the
      PDF, so that subsidiary programs can use the system temp
      directory. This addresses problems that occurred when pandoc was
      used in a synced directory (such as Dropbox).</li>
      <li>Change types of subsidiary functions to PandocIO, to allow
      warnings to be threaded through (<a href="https://github.com/jgm/pandoc/issues/5343">#5343</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.MIME: add WebP (<a href="https://github.com/jgm/pandoc/issues/5267">#5267</a>, Mauro
      Bieg).</p></li>
      <li><p>Tests: avoid calling <span><code>findPandoc</code></span> multiple
      times.</p></li>
      <li><p>Old tests: remove need for temp files by using <span><code>pipeProcess</code></span>.</p></li>
      <li><p>Added simple ipynb reader/writer tests (<a href="https://github.com/jgm/pandoc/issues/5274">#5274</a>).</p></li>
      <li><p>Rearrange <span><code>--help</code></span>
      output in a more rational way, with common options at the
      beginning and options grouped by function (<a href="https://github.com/jgm/pandoc/issues/5336">#5336</a>).</p></li>
      <li><p>trypandoc: Add JATS and other missing formats (Arfon Smith,
      <a href="https://github.com/jgm/pandoc/issues/5291">#5291</a>).</p></li>
      <li><p>Add missing copyright notices and remove license
      boilerplate (<a href="https://github.com/jgm/pandoc/issues/4592">#4592</a>, Albert
      Krewinkel).</p></li>
      <li><p>Use latest basement/foundation on 32bit windows.</p></li>
      <li><p>Use latest skylighting (<a href="https://github.com/jgm/pandoc/issues/5328">#5328</a>).
      Custom syntax definitions no longer try to load <span><code>language.dtd</code></span>.</p></li>
      <li><p>Require texmath 0.11.2.1</p></li>
      <li><p>Use latest pandoc-citeproc (0.16.1.1).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Clarify variable substitution indentation in templates (<a href="https://github.com/jgm/pandoc/issues/5338">#5338</a>,
      Agustín Martín Barbero).</li>
      <li>Reorder custom-styles section (<a href="https://github.com/jgm/pandoc/issues/5324">#5324</a>, Mauro
      Bieg).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.6-2019-01-30">
      <h2><a href="#pandoc-2.6-2019-01-30" aria-hidden="true"></a>pandoc 2.6 (2019-01-30)</h2>
      <ul>
      <li><p>Support ipynb (Jupyter notebook) as input and output
      format.</p>
      <ul>
      <li>Add <span><code>ipynb</code></span> as input
      and output format (extension <span><code>.ipynb</code></span>).</li>
      <li>Added Text.Pandoc.Readers.Ipynb [API change].</li>
      <li>Added Text.Pandoc.Writers.Ipynb [API change].</li>
      <li>Add <span><code>PandocIpynbDecodingError</code></span>
      constructor to Text.Pandoc.Error.Error [API change].</li>
      <li>Depend on ipynb library.</li>
      <li>Note: there is no template for ipynb.</li>
      </ul></li>
      <li><p>Add DokuWiki reader (<a href="https://github.com/jgm/pandoc/issues/1792">#1792</a>,
      Alexander Krotov). This adds Text.Pandoc.Readers.DokuWiki [API
      change], and adds <span><code>dokuwiki</code></span> as an input
      format.</p></li>
      <li><p>Implement task lists (<a href="https://github.com/jgm/pandoc/issues/3051">#3051</a>, Mauro
      Bieg). Added <span><code>task_lists</code></span>
      extension. Task lists are supported from markdown and gfm input.
      They should work, to some degree, in all output formats, though in
      most formats you’ll get a bullet list with a unicode character for
      the box. In HTML, you get checkboxes and in LaTeX/PDF output, a
      box is used as the list marker. API changes:</p>
      <ul>
      <li>Added constructor <span><code>Ext_task_lists</code></span> to <span><code>Extension</code></span>.</li>
      <li>Added <span><code>taskListItemFromAscii</code></span> and <span><code>taskListItemToAscii</code></span> to
      Text.Pandoc.Shared.</li>
      </ul></li>
      <li><p>Allow some command line options to take URL in addition to
      FILE. <span><code>--include-in-header</code></span>, <span><code>--include-before-body</code></span>, <span><code>--include-after-body</code></span>.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Handle empty <span><code>start</code></span>
      attribute (see <a href="https://github.com/jgm/pandoc/issues/5162">#5162</a>).</li>
      <li>Treat <span><code>textarea</code></span> as a
      verbatim environment (<a href="https://github.com/jgm/pandoc/issues/5241">#5241</a>) and
      preserve spacing.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Change treatment of <span><code>number-lines</code></span> directive (Brian
      Leung, <a href="https://github.com/jgm/pandoc/issues/5207">#5207</a>).
      Directives of this type without numeric inputs should not have a
      <span><code>startFrom</code></span> attribute; with
      a blank value, the writers can produce extra whitespace.</li>
      <li>Removed superfluous <span><code>sourceCode</code></span> class on code blocks
      (<a href="https://github.com/jgm/pandoc/issues/5047">#5047</a>).</li>
      <li>Handle <span><code>sourcecode</code></span>
      directive as synonynm for <span><code>code</code></span> (<a href="https://github.com/jgm/pandoc/issues/5204">#5204</a>).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Remove <span><code>sourceCode</code></span>
      class for literate Haskell code blocks (<a href="https://github.com/jgm/pandoc/issues/5047">#5047</a>).
      Reverse order of <span><code>literate</code></span>
      and <span><code>haskell</code></span> classes on
      code blocks when parsing literate Haskell, so <span><code>haskell</code></span> is first.</li>
      <li>Treat <span><code>&lt;textarea&gt;</code></span> as a verbatim
      environment (<a href="https://github.com/jgm/pandoc/issues/5241">#5241</a>).</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Handle <span><code>minlevel</code></span>
      option differently (<a href="https://github.com/jgm/pandoc/issues/5190">#5190</a>, Brian
      Leung). When <span><code>minlevel</code></span>
      exceeds the original minimum level observed in the file to be
      included, every heading should be shifted rightward.</li>
      <li>Allow for case of <span><code>:minlevel == 0</code></span> (<a href="https://github.com/jgm/pandoc/issues/5190">#5190</a>).</li>
      <li>Fix treatment of links to images (<a href="https://github.com/jgm/pandoc/issues/5191">#5191</a>, Albert
      Krewinkel). Links with descriptions which are pointing to images
      are no longer parsed as inline images, but as links.</li>
      <li>Add support for #+SELECT_TAGS (Brian Leung).</li>
      <li>Separate filtering logic from conversion function (Brian
      Leung).</li>
      </ul></li>
      <li><p>TWiki reader: Fix performance issue with underscores (<a href="https://github.com/jgm/pandoc/issues/3921">#3921</a>).</p></li>
      <li><p>MediaWiki reader: use <span><code>_</code></span> instead of <span><code>-</code></span> in auto-identifiers (<a href="https://github.com/jgm/pandoc/issues/4731">#4731</a>). We
      may not still be exactly matching mediawiki’s algorithm.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Remove <span><code>sourceCode</code></span>
      class for literate Haskell code blocks (<a href="https://github.com/jgm/pandoc/issues/5047">#5047</a>).
      Reverse order of <span><code>literate</code></span>
      and <span><code>haskell</code></span> classes on
      code blocks when parsing literate Haskell, so <span><code>haskell</code></span> is first.</li>
      <li>Support <span><code>\DeclareMathOperator</code></span> (<a href="https://github.com/jgm/pandoc/issues/5149">#5149</a>).</li>
      <li>Support <span><code>\inputminted</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/5103">#5103</a>).</li>
      <li>Support <span><code>\endinput</code></span> (<a href="https://github.com/jgm/pandoc/issues/5233">#5233</a>).</li>
      <li>Allow includes with dots like <span><code>cc_by_4.0</code></span>. Previously the <span><code>.0</code></span> was interpreted as a file
      extension, leading pandoc not to add <span><code>.tex</code></span> (and thus not to find the
      file). The new behavior matches tex more closely.</li>
      </ul></li>
      <li><p>Man reader:</p>
      <ul>
      <li>Use <span><code>mapLeft</code></span> from
      Shared instead of defining own.</li>
      </ul></li>
      <li><p>Docx reader (Jesse Rosenthal):</p>
      <ul>
      <li>Handle level overrides (<a href="https://github.com/jgm/pandoc/issues/5134">#5134</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Support custom properties (<a href="https://github.com/jgm/pandoc/issues/3024">#3024</a>, <a href="https://github.com/jgm/pandoc/issues/5252">#5252</a>,
      Agustín Martín Barbero). Also supports additional core properties:
      <span><code>subject</code></span>, <span><code>lang</code></span>, <span><code>category</code></span>, <span><code>description</code></span>.</li>
      <li>Make Level into a real type, instead of an alias for a tuple
      (Jesse Rosenthal).</li>
      </ul></li>
      <li><p>ICML writer (Mauro Bieg):</p>
      <ul>
      <li>Support custom-styles (<a href="https://github.com/jgm/pandoc/issues/5137">#5137</a>, see <a href="https://github.com/jgm/pandoc/issues/2106">#2106</a>).</li>
      <li>Support unnumbered headers (<a href="https://github.com/jgm/pandoc/issues/5140">#5140</a>).</li>
      </ul></li>
      <li><p>Texinfo writer: Use header identifier for anchor if present
      (<a href="https://github.com/jgm/pandoc/issues/4731">#4731</a>).
      Previously we were overwriting an existing identifier with a new
      one.</p></li>
      <li><p>Org writer: Preserve line-numbering for example and code
      blocks (Brian Leung).</p></li>
      <li><p>Man/Ms writers: Don’t escape <span><code>-</code></span> as <span><code>\-</code></span>. The <span><code>\-</code></span> gets rendered in HTML and
      PDF as a unicode minus sign.</p></li>
      <li><p>Ms writer: Ensure we have a newline after .EN in display
      math (<a href="https://github.com/jgm/pandoc/issues/5251">#5251</a>).</p></li>
      <li><p>RST writer: Don’t wrap simple table header lines (<a href="https://github.com/jgm/pandoc/issues/5128">#5128</a>).</p></li>
      <li><p>Asciidoc writer: Shorter delimiters for tables, blockquotes
      (<a href="https://github.com/jgm/pandoc/issues/4364">#4364</a>).
      This matches asciidoctor reference docs.</p></li>
      <li><p>Dokuwiki writer: Remove automatic <span><code>:</code></span> prefix before internal image
      links (<a href="https://github.com/jgm/pandoc/issues/5183">#5183</a>, Damien
      Clochard). This prevented users from making relative image
      links.</p></li>
      <li><p>Zimwiki writer: remove automatic colon prefix before
      internal images (<a href="https://github.com/jgm/pandoc/issues/5183">#5183</a>, Damien
      Clochard).</p></li>
      <li><p>MediaWiki writer: fix caption, use ‘thumb’ instead of
      ‘frame’ (<a href="https://github.com/jgm/pandoc/issues/5105">#5105</a>).
      Captions used to have the word ‘caption’ prepended; this has been
      removed. Also, ‘thumb’ is used instead of ‘frame’ to allow images
      to be resized.</p></li>
      <li><p>reveal.js writer:</p>
      <ul>
      <li>Ensure that we don’t get &gt; 2 levels of section nesting,
      even with slide level &gt; 2 (<a href="https://github.com/jgm/pandoc/issues/5168">#5168</a>).</li>
      <li>If slide level == N but there is no N-level header, make sure
      the next header with level &gt; N gets treated as a slide and put
      in a section, rather than remaining loose (<a href="https://github.com/jgm/pandoc/issues/5168">#5168</a>).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Make <span><code>plain</code></span> RawBlocks
      pass through in <span><code>plain</code></span>
      output.</li>
      <li>Include needed whitespace after HTML figure (<a href="https://github.com/jgm/pandoc/issues/5121">#5121</a>). We
      use HTML for a figure in markdown dialects that can’t represent it
      natively.</li>
      </ul></li>
      <li><p>Commonmark writer:</p>
      <ul>
      <li>Fix handling of SoftBreak with <span><code>hard_line_breaks</code></span> (<a href="https://github.com/jgm/pandoc/issues/5195">#5195</a>).</li>
      <li>Implement <span><code>--toc</code></span>
      (<span><code>writerTableOfContents</code></span>)
      in commonmark/gfm writers (<a href="https://github.com/jgm/pandoc/issues/5172">#5172</a>).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Ensure that picture transforms are done on metadata too.</li>
      <li>Small fixes to <span><code>nav.xhtml</code></span>: Add ‘landmarks’ id
      attribute to the landmarks nav. Replace old default CSS removing
      numbers from ol.toc li with new rules that match <span><code>nav#toc ol, nav#landmarks ol</code></span>.
      We keep the <span><code>toc</code></span> class on
      <span><code>ol</code></span> for backwards
      compatibility.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Make raw content marked <span><code>beamer</code></span> pass through in <span><code>beamer</code></span> output
      (pandoc/lua-filters<a href="https://github.com/jgm/pandoc/issues/40">#40</a>).</li>
      <li>Beamer: avoid duplicated <span><code>fragile</code></span> property in some cases
      (<a href="https://github.com/jgm/pandoc/issues/5208">#5208</a>).</li>
      <li>Add <span><code>#</code></span> special
      characters for listings (<a href="https://github.com/jgm/pandoc/issues/4939">#4939</a>). This
      character needs special handling in <span><code>\lstinline</code></span>.</li>
      </ul></li>
      <li><p>RTF writer: use <span><code>toTableOfContents</code></span> from Shared
      to replace old duplicated code.</p></li>
      <li><p>Pptx writer:</p>
      <ul>
      <li>Support custom properties. Also supports additional core
      properties: <span><code>subject</code></span>,
      <span><code>category</code></span>, <span><code>description</code></span> (<a href="https://github.com/jgm/pandoc/issues/5252">#5252</a>,
      Agustín Martín Barbero).</li>
      <li>Use <span><code>toTableOfContents</code></span>
      from Shared to replace old duplicated code.</li>
      </ul></li>
      <li><p>ODT writer (Augustín Martín Barbero):</p>
      <ul>
      <li>Fix typo in custom properties (<a href="https://github.com/jgm/pandoc/issues/2839">#2839</a>).</li>
      <li>Improve standard properties, including the following core
      properties: <span><code>generator</code></span>
      (Pandoc/VERSION), <span><code>description</code></span>, <span><code>subject</code></span>, <span><code>keywords</code></span>, <span><code>initial-creator</code></span> (from authors),
      <span><code>creation-date</code></span> (actual
      creation date) (<a href="https://github.com/jgm/pandoc/issues/5252">#5252</a>).</li>
      </ul></li>
      <li><p>Custom writers:</p>
      <ul>
      <li>Allow ‘-’ in filenames for custom lua writers (<a href="https://github.com/jgm/pandoc/issues/5187">#5187</a>).</li>
      <li>sample.lua: add <span><code>SingleQuoted</code></span>, <span><code>DoubleQuoted</code></span> (<a href="https://github.com/jgm/pandoc/issues/5104">#5104</a>).</li>
      <li>sample.lua: Add a missing <span><code>&gt;</code></span> (MichaWiedenmann).</li>
      </ul></li>
      <li><p>reveal.js template: Add <span><code>zoomKey</code></span> config (<a href="https://github.com/jgm/pandoc/issues/4249">#4249</a>).</p></li>
      <li><p>HTML5 template: Remove unnecessary type=“text/css” on style
      and link for HTML5 (<a href="https://github.com/jgm/pandoc/issues/5146">#5146</a>).</p></li>
      <li><p>LaTeX template (Andrew Dunning, except where noted):</p>
      <ul>
      <li>Prevent fontspec from scaling <span><code>mainfont</code></span> to match the default
      font, Latin Modern. A main font set to 12pt could previously
      appear between 11pt to 13pt depending on its design. To return to
      the earlier rendering, use <span><code>-V   mainfontoptions=&#34;Scale=MatchLowercase&#34;</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/5212">#5212</a>, <a href="https://github.com/jgm/pandoc/issues/5218">#5218</a>).</li>
      <li>Display monospaced fonts without TeX ligatures when using
      <span><code>--pdf-engine=lualatex</code></span>. It
      now matches the behaviour of other engines (<a href="https://github.com/jgm/pandoc/issues/5212">#5212</a>, <a href="https://github.com/jgm/pandoc/issues/5218">#5218</a>).</li>
      <li>Remove the deprecated <span><code>romanfont</code></span> variable. The
      functionality of <span><code>mainfont</code></span>
      is identical (<a href="https://github.com/jgm/pandoc/issues/5218">#5218</a>).</li>
      <li>Render <span><code>\subtitle</code></span> with
      the standard document classes. Previously, <span><code>subtitle</code></span> only appeared when
      using the KOMA-Script classes or Beamer (<a href="https://github.com/jgm/pandoc/issues/5213">#5213</a>, <a href="https://github.com/jgm/pandoc/issues/5244">#5244</a>).</li>
      <li>Use Babel instead of Polyglossia for LuaLaTeX. This avoids
      several language selection problems, notably with retaining French
      spacing conventions when switching to a verbatim environment or
      another language; and in printing Greek text without hyphenation
      (<a href="https://github.com/jgm/pandoc/issues/5193">#5193</a>).</li>
      <li>Use the <a href="https://ctan.org/pkg/xurl"><span><code>xurl</code></span></a> package if available,
      improving the appearance of URLs by allowing them to break at
      additional points (<a href="https://github.com/jgm/pandoc/issues/5193">#5193</a>).</li>
      <li>Use <a href="https://ctan.org/pkg/bookmark"><span><code>bookmark</code></span></a> if available to
      correct heading levels in PDF bookmarks: see the <a href="https://komascript.de/release3.26">KOMA-Script 3.26 release
      notes</a> (<a href="https://github.com/jgm/pandoc/issues/5193">#5193</a>).</li>
      <li>Require the <a href="https://ctan.org/pkg/xcolor"><span><code>xcolor</code></span></a> package to avoid a
      possible error when using additional packages alongside footnotes
      in tables (<a href="https://github.com/jgm/pandoc/issues/5193">#5193</a>, closes
      <a href="https://github.com/jgm/pandoc/issues/4861">#4861</a>).</li>
      <li>Remove obsolete <span><code>fixltx2e</code></span> package, which has no
      functionality with TeX Live 2015 or later (<a href="https://github.com/jgm/pandoc/issues/5193">#5193</a>).</li>
      <li>Allow multiple <span><code>fontfamilies.options</code></span> (<a href="https://github.com/jgm/pandoc/issues/5193">#5193</a>, closes
      <a href="https://github.com/jgm/pandoc/issues/5194">#5194</a>).</li>
      <li>Restrict <span><code>institute</code></span>
      variable to Beamer (<a href="https://github.com/jgm/pandoc/issues/5219">#5219</a>).</li>
      <li>Use <a href="https://ctan.org/pkg/footnotehyper"><span><code>footnotehyper</code></span></a> package if
      available to make footnotes in tables compatible with <span><code>hyperref</code></span> (<a href="https://github.com/jgm/pandoc/issues/5234">#5234</a>).</li>
      <li>Number parts and chapters in book classes only if the <span><code>numbersections</code></span> variable is set,
      for consistency with other output formats. To return to the
      previous behaviour, use <span><code>-V numbersections -V secnumdepth=0</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/5235">#5235</a>).</li>
      <li>Reindent file (<a href="https://github.com/jgm/pandoc/issues/5193">#5193</a>).</li>
      <li>Use built-in parskip handling with KOMA-Script classes (<a href="https://github.com/jgm/pandoc/issues/5143">#5143</a>,
      Enno).</li>
      <li>Set default listings language for lua, assembler (<a href="https://github.com/jgm/pandoc/issues/5227">#5227</a>, John
      MacFarlane). Otherwise we get an error when trying to compile code
      with lua or assembler code. To change the default dialect
      (currently 5.3 for lua and x86masm for assembler), you can use
      <span><code>--include-in-header</code></span> to
      inject something like <span><code>\lstset{defaultdialect=[5.2]Lua}</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers: Changed types of <span><code>readJSON</code></span>; it now runs in an
      instance of PandocMonad, like the other readers and writers. [API
      change]</p></li>
      <li><p>Text.Pandoc.Writers: Changed types of <span><code>writeJSON</code></span>; it now runs in an
      instance of PandocMonad, like the other readers and writers. [API
      change]</p></li>
      <li><p>Text.Pandoc.Error: Added <span><code>PandocUTF8DecodingError</code></span>
      constructor for <span><code>PandocError</code></span>. [API
      change]</p></li>
      <li><p>Text.Pandoc.Writers.Shared - add <span><code>toTableOfContents</code></span>. [API change]
      This is refactored out from the Markdown writer. It can be used in
      other writers to create a table of contents.</p></li>
      <li><p>Improve error messages for UTF-8 decoding errors. Now we
      give the filename and byte offset (<a href="https://github.com/jgm/pandoc/issues/4765">#4765</a>).</p></li>
      <li><p>Text.Pandoc.XML: Strip out illegal XML characters in <span><code>escapeXMLString</code></span> (<a href="https://github.com/jgm/pandoc/issues/5119">#5119</a>).</p></li>
      <li><p>Text.Pandoc.Process: update <span><code>pipeProcess</code></span> (Albert Krewinkel).
      The implementation of <span><code>pipeProcess</code></span> was rewritten to
      fix sporadic failures caused by prematurely closed pipes.</p></li>
      <li><p>Use <span><code>safeRead</code></span>
      instead of <span><code>read</code></span>
      everywhere in the code (John MacFarlane, Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/5162">#5162</a>, <a href="https://github.com/jgm/pandoc/issues/5180">#5180</a>).</p></li>
      <li><p>Text.Pandoc.SelfContained: Decompress <span><code>.svgz</code></span> when converting to <span><code>data:</code></span> URI (<a href="https://github.com/jgm/pandoc/issues/5163">#5163</a>,
      Alexander Krotov).</p></li>
      <li><p>Text.Pandoc.Parsing: Remove unused <span><code>HasHeaderMap</code></span> (<a href="https://github.com/jgm/pandoc/issues/5175">#5175</a>,
      Alexander Krotov). [API change]</p></li>
      <li><p>Normalize Windows paths to account for change in ghc 8.6
      (<a href="https://github.com/jgm/pandoc/issues/5127">#5127</a>).
      When pandoc is compiled with ghc 8.6, Windows paths are treated
      differently, and paths beginning <span><code>\\server</code></span> no longer work. This
      commit rewrites such patsh to <span><code>\\?\UNC\server</code></span> which works. The
      change operates at the level of argument parsing, so it only
      affects the command line program.</p></li>
      <li><p>Simplify/fix reading of <span><code>--metadata</code></span> values on command
      line to avoid problems relating to hvr/HsYAML<a href="https://github.com/jgm/pandoc/issues/7">#7</a> (<a href="https://github.com/jgm/pandoc/issues/5177">#5177</a>).</p></li>
      <li><p>data/pandoc.lua: auto-fix nested constructor arguments
      (Albert Krewinkel). Incorrect types to pandoc element constructors
      are automatically converted to the correct types when possible.
      This was already done for most constructors, but conversions are
      now also done for nested types (like lists of lists).</p></li>
      <li><p>Removed custom Setup.hs, use build-type: simple. The only
      thing we gained from the custom build was automatic installation
      of the man page when using ‘cabal install’. But custom builds
      cause problems, e.g., with cross-compilation. Installation of the
      man page is better handled by packagers. Note to packagers
      (e.g. Debian): it may be necessary to add a step installing the
      man page with the next release.</p></li>
      <li><p>Allow latest http-client, tasty, zip-archive,
      Glob.</p></li>
      <li><p>Require skylighting &gt;= 0.7.5, adding support for sml, J,
      typescript.</p></li>
      <li><p>Tests: Cleaned up <span><code>findPandoc</code></span> in <span><code>Tests.Helpers</code></span>, so it works well
      with cabal v2.</p></li>
      <li><p>INSTALL.md:</p>
      <ul>
      <li>Use button for installer links (John MacFarlane, Mauro Bieg,
      <a href="https://github.com/jgm/pandoc/issues/5167">#5167</a>).</li>
      <li>Fix links and bump required stack version (max).</li>
      <li>Improve installation notes on associated software (Andrew
      Dunning). Includes explanation of how to install related tools
      with package managers (since the method of installing <span><code>rsvg-convert</code></span> is not
      obvious).</li>
      </ul></li>
      <li><p>doc/org.md: improve documentation of org features (Albert
      Krewinkel).</p></li>
      <li><p>doc/lua-filters.md: use 3rd level headers for module
      fields.</p></li>
      <li><p>MANUAL:</p>
      <ul>
      <li>Clarify automatic identifiers (<a href="https://github.com/jgm/pandoc/issues/5201">#5201</a>). We
      remove non-alphanumerics. This includes, e.g., emojis.</li>
      <li>Fix example for Div with id (Geoffrey Ely).</li>
      <li>Update list of LaTeX packages used.</li>
      <li>Make it clear that <span><code>hard_line_breaks</code></span> works in <span><code>gfm</code></span> (see <a href="https://github.com/jgm/pandoc/issues/5195">#5195</a>).</li>
      <li>Mention <span><code>raw_attribute</code></span>
      in documentation for <span><code>raw_html</code></span> and <span><code>raw_tex</code></span> (<a href="https://github.com/jgm/pandoc/issues/5240">#5240</a>, thanks
      to <span data-cites="eiro">@eiro</span>).</li>
      <li>Clarify that <span><code>$sep$</code></span>
      must come right before <span><code>$endfor$</code></span> in templates (<a href="https://github.com/jgm/pandoc/issues/5243">#5243</a>, Lev
      Givon).</li>
      <li>Document metadata support for docx, odt, pptx writers (Agustín
      Martín Barbero).</li>
      <li>Reorganize template variables (<a href="https://github.com/jgm/pandoc/issues/5249">#5249</a>, Andrew
      Dunning). Add additional headings to categorize variables, and
      alphabetize when there is large number; add more examples.</li>
      <li>Document <span><code>date-meta</code></span>
      template variable (<a href="https://github.com/jgm/pandoc/issues/5260">#5260</a>,
      Tristan Stenner).</li>
      </ul></li>
      <li><p>trypandoc: Fix CSS and viewport.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.5-2018-11-27">
      <h2><a href="#pandoc-2.5-2018-11-27" aria-hidden="true"></a>pandoc 2.5 (2018-11-27)</h2>
      <ul>
      <li><p>Text.Pandoc.App: split into several unexported submodules
      (Albert Krewinkel): Text.Pandoc.App.FormatHeuristics,
      Text.Pandoc.App.Opt, Text.Pandoc.App.CommandLineOptions,
      Text.Pandoc.App.OutputSettings. This is motivated partly by the
      desire to reduce recompilations when something is modified, since
      App previously depended on virtually every other module.</p></li>
      <li><p>Text.Pandoc.Extensions</p>
      <ul>
      <li>Semantically, <span><code>gfm_auto_identifiers</code></span> is now a
      modifier of <span><code>auto_identifiers</code></span>; for
      identifiers to be set, <span><code>auto_identifiers</code></span> must be turned
      on, and then the type of identifier produced depends on <span><code>gfm_auto_identifiers</code></span> and <span><code>ascii_identifiers</code></span> are set.
      Accordingly, <span><code>auto_identifiers</code></span> is now added
      to <span><code>githubMarkdownExtensions</code></span> (<a href="https://github.com/jgm/pandoc/issues/5057">#5057</a>).</li>
      <li>Remove <span><code>ascii_identifiers</code></span> from <span><code>githubMarkdownExtensions</code></span>.
      GitHub doesn’t seem to strip non-ascii characters any more.</li>
      </ul></li>
      <li><p>Text.Pandoc.Lua.Module.Utils (Albert Krewinkel)</p>
      <ul>
      <li>Test AST object equality via Haskell (<a href="https://github.com/jgm/pandoc/issues/5092">#5092</a>).
      Equality of Lua objects representing pandoc AST elements is tested
      by unmarshalling the objects and comparing the result in Haskell.
      A new function <span><code>equals</code></span>
      which performs this test has been added to the <span><code>pandoc.utils</code></span> module.</li>
      <li>Improve stringify. Meta value strings (MetaString) and
      booleans (MetaBool) are now converted to the literal string and
      the lowercase boolean name, respectively. Previously, all values
      of these types were converted to the empty string.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing: Remove Functor and Applicative
      constraints where Monad already exists (Alexander
      Krotov).</p></li>
      <li><p>Text.Pandoc.Pretty: Don’t render BreakingSpace at end of
      line or beginning of line (<a href="https://github.com/jgm/pandoc/issues/5050">#5050</a>).</p></li>
      <li><p>Text.Pandoc.Readers.Markdown</p>
      <ul>
      <li>Fix parsing of citations, quotes, and underline emphasis after
      symbols. Starting with pandoc 2.4, citations, quoted inlines, and
      underline emphasis were no longer recognized after certain
      symbols, like parentheses (<a href="https://github.com/jgm/pandoc/issues/5099">#5099</a>, <a href="https://github.com/jgm/pandoc/issues/5053">#5053</a>).</li>
      <li>In pandoc 2.4, a soft break after an abbreviation would be
      relocated before it to allow for insertion of a nonbreaking space
      after the abbreviation. This behavior is here reverted. A soft
      break after an abbreviation will remain, and no nonbreaking space
      will be added. Those who care about this issue should take care
      not to end lines with an abbreviation, or to insert nonbreaking
      spaces manually.</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.FB2: Do not throw error for unknown
      elements in <span><code>&lt;body&gt;</code></span>
      (Alexander Krotov). Some libraries include custom elements in
      their FB2 files.</p></li>
      <li><p>Text.Pandoc.Readers.HTML</p>
      <ul>
      <li>Allow <span><code>tfoot</code></span> before
      body rows (<a href="https://github.com/jgm/pandoc/issues/5079">#5079</a>).</li>
      <li>Parse <span><code>&lt;small&gt;</code></span>
      as a Span with class “small” (<a href="https://github.com/jgm/pandoc/issues/5080">#5080</a>).</li>
      <li>Allow thead containing a row with <span><code>td</code></span> rather than <span><code>th</code></span> (<a href="https://github.com/jgm/pandoc/issues/5014">#5014</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.LaTeX</p>
      <ul>
      <li>Cleaned up handling of dimension arguments. Allow decimal
      points, preceding space.</li>
      <li>Don’t allow arguments for verbatim, etc.</li>
      <li>Allow space before bracketed options.</li>
      <li>Allow optional arguments after <span><code>\\</code></span> in tables.</li>
      <li>Improve parsing of <span><code>\tiny</code></span>, <span><code>\scriptsize</code></span>, etc. Parse as raw,
      but know that these font changing commands take no arguments.</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Muse</p>
      <ul>
      <li>Trim whitespace before parsing grid table cells (Alexander
      Krotov).</li>
      <li>Add grid tables support (Alexander Krotov).</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared</p>
      <ul>
      <li>For bibliography match Div with id <span><code>refs</code></span>, not class <span><code>references</code></span>. This was a mismatch
      between pandoc’s docx, epub, latex, and markdown writers and the
      behavior of pandoc-citeproc, which actually looks for a div with
      id <span><code>refs</code></span> rather than one
      with class <span><code>references</code></span>.</li>
      <li>Exactly match GitHub’s identifier generating algorithm (<a href="https://github.com/jgm/pandoc/issues/5057">#5057</a>).</li>
      <li>Add parameter for <span><code>Extensions</code></span> to <span><code>uniqueIdent</code></span> and <span><code>inlineListToIdentifier</code></span> (<a href="https://github.com/jgm/pandoc/issues/5057">#5057</a>). [API
      change] This allows these functions to be sensitive to the
      settings of <span><code>Ext_gfm_auto_identifiers</code></span> and
      <span><code>Ext_ascii_identifiers</code></span>,
      and allows us to use <span><code>uniqueIdent</code></span> in the CommonMark
      reader, replacing custom code. It also means that <span><code>gfm_auto_identifiers</code></span> can now be
      used in all formats.</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.AsciiDoc</p>
      <ul>
      <li>Use <span><code>.</code></span>+ as list
      markers to support nested ordered lists (<a href="https://github.com/jgm/pandoc/issues/5087">#5087</a>).</li>
      <li>Support list number styles (<a href="https://github.com/jgm/pandoc/issues/5089">#5089</a>).</li>
      <li>Render Spans using <span><code>[#id .class]#contents#</code></span> (<a href="https://github.com/jgm/pandoc/issues/5080">#5080</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.CommonMark</p>
      <ul>
      <li>Respect <span><code>--ascii</code></span> (<a href="https://github.com/jgm/pandoc/issues/5043">#5043</a>,
      quasicomputational).</li>
      <li>Make sure <span><code>--ascii</code></span>
      affects quotes, super/subscript.</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.Docx</p>
      <ul>
      <li>Fix bookmarks to headers with long titles (<a href="https://github.com/jgm/pandoc/issues/5091">#5091</a>). Word
      has a 40 character limit for bookmark names. In addition,
      bookmarks must begin with a letter. Since pandoc’s auto-generated
      identifiers may not respect these constraints, some internal links
      did not work. With this change, pandoc uses a bookmark name based
      on the SHA1 hash of the identifier when the identifier isn’t a
      legal bookmark name.</li>
      <li>Add bookmarks to code blocks (Nikolay Yakimov).</li>
      <li>Add bookmarks to images (Nikolay Yakimov).</li>
      <li>Refactor common bookmark creation code into a function
      (Nikolay Yakimov).</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.EPUB: Handle calibre metadata (<a href="https://github.com/jgm/pandoc/issues/5098">#5098</a>). Nodes
      of the form</p>
      <pre><code>  &lt;meta name=&#34;calibre:series&#34; content=&#34;Classics on War and Politics&#34;/&gt;</code></pre>
      <p>are now included from an epub XML metadata file. You can also
      include this information in your YAML metadata, like so:</p>
      <pre><code>  calibre:
   series: Classics on War and Policitics</code></pre>
      <p>In addition, ibooks-specific metadata can now be included via
      an XML file. (Previously, it could only be included via YAML
      metadata, see <a href="https://github.com/jgm/pandoc/issues/2693">#2693</a>.)</p></li>
      <li><p>Text.Pandoc.Writers.HTML: Use plain <span><code>&#34;</code></span> instead of <span><code>&amp;quot;</code></span> outside of
      attributes.</p></li>
      <li><p>Text.Pandoc.Writers.ICML: Consolidate adjacent strings,
      inc. spaces. This avoids splitting up the output unnecessarily
      into separate elements.</p></li>
      <li><p>Text.Pandoc.Writers.LaTeX: Don’t emit <span><code>[&lt;+-&gt;]</code></span> unless beamer
      output, even if <span><code>writerIncremental</code></span> is True (<a href="https://github.com/jgm/pandoc/issues/5072">#5072</a>).</p></li>
      <li><p>Text.Pandoc.Writers.Muse (Alexander Krotov).</p>
      <ul>
      <li>Output tables as grid tables if they have multi-line
      cells.</li>
      <li>Indent simple tables only on the top level.</li>
      <li>Output tables with one column as grid tables.</li>
      <li>Add support for <span><code>--reference-location</code></span>.</li>
      <li>Internal improvements.</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.OpenDocument: Fix list indentation
      (Nils Carlson, <a href="https://github.com/jgm/pandoc/issues/5095">#5095</a>). This
      was a regression in pandoc 2.4.</p></li>
      <li><p>Text.Pandoc.Writers.RTF: Fix warnings for skipped raw
      inlines.</p></li>
      <li><p>Text.Pandoc.Writers.Texinfo: Add blank line before <span><code>@menu</code></span> section (<a href="https://github.com/jgm/pandoc/issues/5055">#5055</a>).</p></li>
      <li><p>Text.Pandoc.XML: in <span><code>toHtml5Entities</code></span>, prefer shorter
      entities when there are several choices for a particular
      character.</p></li>
      <li><p>data/abbreviations</p>
      <ul>
      <li>Add additional abbreviations (Andrew Dunning) Many of these
      borrowed from the Chicago Manual of Style 10.42, ‘Scholarly
      abbreviations’.</li>
      </ul></li>
      <li><p>Templates</p>
      <ul>
      <li>Asciidoc template: add :lang: to title header is lang is set
      in metadata (<a href="https://github.com/jgm/pandoc/issues/5088">#5088</a>).</li>
      </ul></li>
      <li><p>pandoc.cabal: Add cabal flag <span><code>derive_json_via_th</code></span> (Albert
      Krewinkel) Disabling the flag will cause derivation of ToJSON and
      FromJSON instances via GHC Generics instead of Template Haskell.
      The flag is enabled by default, as deriving via Generics can be
      slow (see <a href="https://github.com/jgm/pandoc/issues/4083">#4083</a>).</p></li>
      <li><p>trypandoc:</p>
      <ul>
      <li>Tweaked drop-down lists.</li>
      <li>Put link to site in footer.</li>
      <li>Preselect output format.</li>
      <li>Update on change of in or out format.</li>
      <li>Add man input format.</li>
      </ul></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Fix outdated description of latex_macros extension.</li>
      <li>Clarified placement of bibliography.</li>
      <li>Added “A note on security.”</li>
      <li>Fix note on curly brace syntx for locators.</li>
      <li>Document new explicit syntax for citeproc locators.</li>
      <li>Remove confusing cross-links for some extensions.</li>
      <li>Don’t put pandoc in code ticks in heading.</li>
      <li>Document that <span><code>--ascii</code></span>
      works for gfm and commonmark too.</li>
      <li>Add <span><code>man</code></span> to <span><code>--from</code></span> options.</li>
      </ul></li>
      <li><p>doc/customizing-pandoc.md: various improvements (Mauro
      Bieg).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.4-2018-11-03">
      <h2><a href="#pandoc-2.4-2018-11-03" aria-hidden="true"></a>pandoc 2.4 (2018-11-03)</h2>
      <section id="new-features">
      <h3><a href="#new-features" aria-hidden="true"></a>New features</h3>
      <ul>
      <li>New input format <span><code>man</code></span>
      (Yan Pashkovsky, John MacFarlane).</li>
      </ul>
      </section>
      <section id="behavior-changes">
      <h3><a href="#behavior-changes" aria-hidden="true"></a>Behavior changes</h3>
      <ul>
      <li><p><span><code>--ascii</code></span> is now
      implemented in the writers, not in Text.Pandoc.App, via the new
      <span><code>writerPreferAscii</code></span> field
      in <span><code>WriterOptions</code></span>. Now the
      <span><code>write*</code></span> functions for
      Docbook, HTML, ICML, JATS, LaTeX, Ms, Markdown, and OPML are
      sensitive to <span><code>writerPreferAscii</code></span>. Previously
      the to-ascii translation was done in Text.Pandoc.App, and thus not
      available to those using the writer functions directly.</p></li>
      <li><p><span><code>--ascii</code></span> now works
      with Markdown output. HTML5 character reference entities are
      used.</p></li>
      <li><p><span><code>--ascii</code></span> now works
      with LaTeX output. 100% ASCII output can’t be guaranteed, but the
      writer will use commands like <span><code>\&#34;{a}</code></span> and <span><code>\l</code></span> whenever possible, to avoid
      emitting a non-ASCII character.</p></li>
      <li><p>For HTML5 output, <span><code>--ascii</code></span> now uses HTML5
      character reference entities rather than numerical
      entities.</p></li>
      <li><p>Improved detection of format based on extension (in
      Text.Pandoc.App). We now ensure that if someone tries to convert a
      file for a format that has a pandoc writer but not a reader, it
      won’t just default to markdown.</p></li>
      <li><p>Add viz. to abbreviations file (<a href="https://github.com/jgm/pandoc/issues/5007">#5007</a>, Nick
      Fleisher).</p></li>
      <li><p>AsciiDoc writer: always use single-line section headers,
      instead of the old underline style (<a href="https://github.com/jgm/pandoc/issues/5038">#5038</a>).
      Previously the single-line style would be used if <span><code>--atx-headers</code></span> was specified,
      but now it is always used.</p></li>
      <li><p>RST writer: Use simple tables when possible (<a href="https://github.com/jgm/pandoc/issues/4750">#4750</a>).</p></li>
      <li><p>CommonMark (and gfm) writer: Add plain text fallbacks. (<a href="https://github.com/jgm/pandoc/issues/4528">#4528</a>,
      quasicomputational). Previously, the writer would unconditionally
      emit HTML output for subscripts, superscripts, strikeouts (if the
      strikeout extension is disabled) and small caps, even with <span><code>raw_html</code></span> disabled. Now there
      are plain-text (and, where possible, fancy Unicode) fallbacks for
      all of these corresponding (mostly) to the Markdown fallbacks, and
      the HTML output is only used when <span><code>raw_html</code></span> is enabled.</p></li>
      <li><p>Powerpoint writer: support raw openxml (Jesse Rosenthal, <a href="https://github.com/jgm/pandoc/issues/4976">#4976</a>). This
      allows raw openxml blocks and inlines to be used in the pptx
      writer. Caveats: (1) It’s up to the user to write well-formed
      openxml. The chances for corruption, especially with such a
      brittle format as pptx, is high. (2) Because of the tricky way
      that blocks map onto shapes, if you are using a raw block, it
      should be the only block on a slide (otherwise other text might
      end up overlapping it). (3) The pptx ooxml namespace abbreviations
      are different from the docx ooxml namespaces. Again, it’s up to
      the user to get it right. Unzipped document and ooxml
      specification should be consulted.</p></li>
      <li><p>With <span><code>--katex</code></span> in
      HTML formats, do not use the autorenderer (<a href="https://github.com/jgm/pandoc/issues/4946">#4946</a>). We no
      longer surround formulas with <span><code>\(..\)</code></span> or <span><code>\[..\]</code></span>. Instead, we tell katex
      to convert the contents of span elements with class “math”. Since
      math has already been identified, this avoids wasted time parsing
      for LaTeX delimiters. Note, however, that this may yield
      unexpected results if you have span elements with class “math”
      that don’t contain LaTeX math. Also, use latest version of KaTeX
      by default (0.9.0).</p></li>
      <li><p>The man writer now produces ASCII-only output, using groff
      escapes, for portability.</p></li>
      <li><p>ODT writer:</p>
      <ul>
      <li>Add title, author and date to metadata; any remaining metadata
      fields are added as <span><code>meta:user-defined</code></span> tags.</li>
      <li>Implement table caption numbering (<a href="https://github.com/jgm/pandoc/issues/4949">#4949</a>, Nils
      Carlson). Captioned tables are numbered and labeled with format
      “Table 1: caption”, where “Table” is replaced by a translation,
      depending on the value of <span><code>lang</code></span> in metadata. Uncaptioned
      tables are not enumerated.</li>
      <li>OpenDocument writer: Implement figure numbering in captions
      (<a href="https://github.com/jgm/pandoc/issues/4944">#4944</a>,
      Nils Carlson). Figure captions are now numbered 1, 2, 3, … The
      format in the caption is “Figure 1: caption” and so on (where
      “Figure” is replaced by a translation, depending on the value of
      <span><code>lang</code></span> in the metadata).
      Captioned figures are numbered consecutively and uncaptioned
      figures are not enumerated. This is necessary in order for
      LibreOffice to generate an Illustration Index (Table of Figures)
      for included figures.</li>
      </ul></li>
      <li><p>RST reader: Pass through fields in unknown directives as
      div attributes (<a href="https://github.com/jgm/pandoc/issues/4715">#4715</a>).
      Support <span><code>class</code></span> and <span><code>name</code></span> attributes for all
      directives.</p></li>
      <li><p>Org reader: Add partial support for <span><code>#+EXCLUDE_TAGS</code></span> option. (<a href="https://github.com/jgm/pandoc/issues/4284">#4284</a>, Brian
      Leung). Headers with the corresponding tags should not appear in
      the output.</p></li>
      <li><p>Log warnings about missing title attributes now include a
      suggestion about how to fix the problem (<a href="https://github.com/jgm/pandoc/issues/4909">#4909</a>).</p></li>
      <li><p>Lua filter changes (Albert Krewinkel):</p>
      <ul>
      <li><p>Report traceback when an error occurs. A proper Lua
      traceback is added if either loading of a file or execution of a
      filter function fails. This should be of help to authors of Lua
      filters who need to debug their code.</p></li>
      <li><p>Allow access to pandoc state (<a href="https://github.com/jgm/pandoc/issues/5015">#5015</a>). Lua
      filters and custom writers now have read-only access to most
      fields of pandoc’s internal state via the global variable <span><code>PANDOC_STATE</code></span>.</p></li>
      <li><p>Push ListAttributes via constructor (Albert Krewinkel).
      This ensures that ListAttributes, as present in OrderedList
      elements, have additional accessors (viz. <span><code>start</code></span>, <span><code>style</code></span>, and <span><code>delimiter</code></span>).</p></li>
      <li><p>Rename ReaderOptions fields, use snake_case. Snake case is
      used in most variable names, using camelCase for these fields was
      an oversight. A metatable is added to ensure that the old field
      names remain functional.</p></li>
      <li><p>Iterate over AST element fields when using <span><code>pairs</code></span>. This makes it possible
      to iterate over all ield names of an AST element by using a
      generic <span><code>for</code></span> loop with
      pairs`:</p>
      <pre><code>for field_name, field_content in pairs(element) do
...
end</code></pre>
      <p>Raw table fields of AST elements should be considered an
      implementation detail and might change in the future. Accessing
      element properties should always happen through the fields listed
      in the Lua filter docs.</p>
      <p>Note that the iterator currently excludes the <span><code>t</code></span>/<span><code>tag</code></span> field.</p></li>
      <li><p>Ensure that MetaList elements behave like Lists. Methods
      usable on Lists can also be used on MetaList objects.</p></li>
      <li><p>Fix MetaList constructor (Albert Krewinkel). Passing a
      MetaList object to the constructor <span><code>pandoc.MetaList</code></span> now returns the
      passed list as a MetaList. This is consistent with the constructor
      behavior when passed an (untagged) list.</p></li>
      </ul></li>
      <li><p>Custom writers: Custom writers have access to the global
      variable <span><code>PANDOC_DOCUMENT</code></span>(Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/4957">#4957</a>). The
      variable contains a userdata wrapper around the full pandoc AST
      and exposes two fields, <span><code>meta</code></span> and <span><code>blocks</code></span>. The field content is
      only marshaled on-demand, performance of scripts not accessing the
      fields remains unaffected.</p></li>
      </ul>
      </section>
      <section id="api-changes">
      <h3><a href="#api-changes" aria-hidden="true"></a>API changes</h3>
      <ul>
      <li><p>Text.Pandoc.Options: add <span><code>writerPreferAscii</code></span> to <span><code>WriterOptions</code></span>.</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Export <span><code>splitSentences</code></span>. This was
      previously duplicated in the Man and Ms writers.</li>
      <li>Add <span><code>ToString</code></span>
      typeclass (Alexander Krotov).</li>
      </ul></li>
      <li><p>New exported module Text.Pandoc.Filter (Albert
      Krewinkel).</p></li>
      <li><p>Text.Pandoc.Parsing</p>
      <ul>
      <li>Generalize <span><code>gridTableWith</code></span> to any <span><code>Char</code></span> Stream (Alexander
      Krotov).</li>
      <li>Generalize <span><code>readWithM</code></span>
      from <span><code>[Char]</code></span> to any <span><code>Char</code></span> Stream that is a <span><code>ToString</code></span> instance (Alexander
      Krotov).</li>
      </ul></li>
      <li><p>New exposed module Text.Pandoc.Filter (Albert
      Krewinkel).</p></li>
      <li><p>Text.Pandoc.XML: add <span><code>toHtml5Entities</code></span>.</p></li>
      <li><p>New exported module Text.Pandoc.Readers.Man (Yan
      Pashkovsky, John MacFarlane).</p></li>
      <li><p>Text.Pandoc.Writers.Shared</p>
      <ul>
      <li>Add exported functions <span><code>toSuperscript</code></span> and <span><code>toSubscript</code></span>
      (quasicomputational, <a href="https://github.com/jgm/pandoc/issues/4528">#4528</a>).</li>
      <li>Remove exported functions <span><code>metaValueToInlines</code></span>, <span><code>metaValueToString</code></span>. Add new
      exported functions <span><code>lookupMetaBool</code></span>, <span><code>lookupMetaBlocks</code></span>, <span><code>lookupMetaInlines</code></span>, <span><code>lookupMetaString</code></span>. Use these
      whenever possible for uniformity in writers (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/4907">#4907</a>). (Note
      that removed function <span><code>metaValueToInlines</code></span> was in
      previous released versions.)</li>
      <li>Add <span><code>metaValueToString</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Lua</p>
      <ul>
      <li><p>Expose more useful internals (Albert Krewinkel):</p>
      <ul>
      <li><span><code>runFilterFile</code></span> to run
      a Lua filter from file;</li>
      <li>data type <span><code>Global</code></span> and
      its constructors; and</li>
      <li><span><code>setGlobals</code></span> to add
      globals to a Lua environment.</li>
      </ul>
      <p>This module also contains <span><code>Pushable</code></span> and <span><code>Peekable</code></span> instances required to
      get pandoc’s data types to and from Lua. Low-level Lua operation
      remain hidden in Text.Pandoc.Lua.</p></li>
      <li><p>Rename <span><code>runPandocLua</code></span> to <span><code>runLua</code></span> (Albert
      Krewinkel).</p></li>
      <li><p>Remove <span><code>runLuaFilter</code></span>, merging this into
      Text.Pandoc.Filter.Lua’s <span><code>apply</code></span> (Albert
      Krewinkel).</p></li>
      </ul></li>
      </ul>
      </section>
      <section id="bug-fixes-and-under-the-hood-improvements">
      <h3><a href="#bug-fixes-and-under-the-hood-improvements" aria-hidden="true"></a>Bug fixes and under-the-hood
      improvements</h3>
      <ul>
      <li><p>Text.Pandoc.Parsing</p>
      <ul>
      <li>Make <span><code>uri</code></span> accept any
      stream with Char tokens (Alexander Krotov).</li>
      <li>Rewrite <span><code>uri</code></span> without
      <span><code>withRaw</code></span> (Alexander
      Krotov).</li>
      <li>Generalize <span><code>parseFromString</code></span> and <span><code>parseFromString&#39;</code></span> to any streams
      with Char token (Alexander Krotov)</li>
      <li>Rewrite <span><code>nonspaceChar</code></span>
      using <span><code>noneOf</code></span> (Alexander
      Krotov)</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared: Reimplement <span><code>mapLeft</code></span> using <span><code>Bifunctor.first</code></span> (Alexander
      Krotov).</p></li>
      <li><p>Text.Pandoc.Pretty: Simplify <span><code>Text.Pandoc.Pretty.offset</code></span>
      (Alexander Krotov).</p></li>
      <li><p>Text.Pandoc.App</p>
      <ul>
      <li>Work around HXT limitation for –syntax-definition with windows
      drive (<a href="https://github.com/jgm/pandoc/issues/4836">#4836</a>).</li>
      <li>Always preserve tabs for man format. We need it for
      tables.</li>
      <li>Split command line parsing code into a separate unexported
      module, Text.Pandoc.App.CommandLineOptions (Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Roff: new unexported module for
      tokenizing roff documents.</p></li>
      <li><p>New unexported module Text.Pandoc.RoffChar, provided
      character escape tables for roff formats.</p></li>
      <li><p>Text.Pandoc.Readers.HTML: Fix <span><code>htmlTag</code></span> and <span><code>isInlineTag</code></span> to accept
      processing instructions (<a href="https://github.com/jgm/pandoc/issues/3123">#3123</a>,
      regression since 2.0).</p></li>
      <li><p>Text.Pandoc.Readers.JATS: Use <span><code>foldl&#39;</code></span> instead of <span><code>maximum</code></span> to account for empty
      lists (Alexander Krotov).</p></li>
      <li><p>Text.Pandoc.Readers.RST: Don’t allow single-dash separator
      in headerless table (<a href="https://github.com/jgm/pandoc/issues/4382">#4382</a>).</p></li>
      <li><p>Text.Pandoc.Readers.Org: Parse empty argument array in
      inline src blocks (Brian Leung).</p></li>
      <li><p>Text.Pandoc.Readers.Vimwiki:</p>
      <ul>
      <li>Get rid of <span><code>F</code></span>, <span><code>runF</code></span> and <span><code>stateMeta&#39;</code></span> in favor of <span><code>stateMeta</code></span> (Alexander
      Krotov).</li>
      <li>Parse <span><code>Text</code></span> without
      converting to <span><code>[Char]</code></span>
      (Alexander Krotov).</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Creole: Parse <span><code>Text</code></span> without converting to
      <span><code>[Char]</code></span> (Alexander
      Krotov).</p></li>
      <li><p>Text.Pandoc.Readers.LaTeX</p>
      <ul>
      <li><p>Allow space at end of math after <span><code>\</code></span> (<a href="https://github.com/jgm/pandoc/issues/5010">#5010</a>).</p></li>
      <li><p>Add support for <span><code>nolinkurl</code></span> command (<a href="https://github.com/jgm/pandoc/issues/4992">#4992</a>, Brian
      Leung).</p></li>
      <li><p>Simplified type on <span><code>doMacros&#39;</code></span>.</p></li>
      <li><p>Tokenize before pulling tokens, rather than after (<a href="https://github.com/jgm/pandoc/issues/4408">#4408</a>). This
      has some performance penalty but is more reliable.</p></li>
      <li><p>Make macroDef polymorphic and allow in inline context.
      Otherwise we can’t parse something like <span><code>\lowercase{\def\x{Foo}}</code></span>. I have
      actually seen tex like this in the wild.</p></li>
      <li><p>Improved parsing of <span><code>\def</code></span>, <span><code>\let</code></span>. We now correctly
      parse:</p>
      <pre><code>\def\bar{hello}
\let\fooi\bar
\def\fooii{\bar}
\fooi +\fooii

\def\bar{goodbye}
\fooi +\fooii</code></pre></li>
      <li><p>Improve parsing of <span><code>\def</code></span> argspec.</p></li>
      <li><p>Skip <span><code>\PackageError</code></span>
      commands (see <a href="https://github.com/jgm/pandoc/issues/4408">#4408</a>).</p></li>
      <li><p>Fix bugs omitting raw tex (<a href="https://github.com/jgm/pandoc/issues/4527">#4527</a>). The
      default is <span><code>-raw_tex</code></span>, so
      no raw tex should result unless we explicitly say <span><code>+raw_tex</code></span>. Previously some raw
      commands did make it through.</p></li>
      <li><p>Moved <span><code>isArgTok</code></span> to
      Text.Pandoc.Readers.LaTeX.Parsing.</p></li>
      <li><p>Moved <span><code>babelLangToBCP</code></span>, <span><code>polyglossiaLangToBCP</code></span> to new
      module, Text.Pandoc.Readers.LaTeX.Lang (unexported).</p></li>
      <li><p>Simplified accent code using unicode-transforms. New
      dependency on unicode-transforms package for
      normalization.</p></li>
      <li><p>Allow verbatim blocks ending with blank lines (<a href="https://github.com/jgm/pandoc/issues/4624">#4624</a>).</p></li>
      <li><p>Support <span><code>breq</code></span> math
      environments: <span><code>dmath</code></span>,
      <span><code>dgroup</code></span>, <span><code>darray</code></span>. This collects some of
      the general-purpose code from the LaTeX reader, with the aim of
      making the module smaller.</p></li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Markdown</p>
      <ul>
      <li>Fix awkward soft break movements before abbreviations (<a href="https://github.com/jgm/pandoc/issues/4635">#4635</a>).</li>
      <li>Add updateStrPos in a couple places where needed.</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Docx: Trigger bold/italic with bCs, iCs
      (<a href="https://github.com/jgm/pandoc/issues/4947">#4947</a>).
      These are variants for “complex scripts” like Arabic and are now
      treated just like b, i (bold, italic).</p></li>
      <li><p>Text.Pandoc.Readers.Muse (Alexander Krotov)</p>
      <ul>
      <li>Try to parse lists before trying to parse table. This ensures
      that tables inside lists are parsed correctly.</li>
      <li>Forbid whitespace after opening and before closing markup
      elements.</li>
      <li>Parse page breaks.</li>
      <li>Simplify <span><code>museToPandocTable</code></span> to get rid of
      partial functions.</li>
      <li>Allow footnotes to start with empty line.</li>
      <li>Make sure that the whole text is parsed.</li>
      <li>Allow empty headers. Previously empty headers caused parser to
      terminate without parsing the rest of the document.</li>
      <li>Allow examples to be indented with tabs.</li>
      <li>Remove indentation from examples indicated by <span><code>{{{</code></span> and <span><code>}}}</code></span>.</li>
      <li>Fix parsing of empty cells.</li>
      <li>Various changes to internals.</li>
      <li>Rewrite some parsers in applicative style.</li>
      <li>Avoid tagsoup dependency.</li>
      <li>Allow table caption to contain <span><code>+</code></span>.</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.LaTeX</p>
      <ul>
      <li>Add newline if math ends in a comment (<a href="https://github.com/jgm/pandoc/issues/4880">#4880</a>). This
      prevents the closing delimiter from being swalled up in the
      comment.</li>
      <li>With <span><code>--listings</code></span>,
      don’t pass through org-babel attributes (<a href="https://github.com/jgm/pandoc/issues/4889">#4889</a>).</li>
      <li>With <span><code>--biblatex</code></span>, use
      <span><code>\autocite</code></span> when possible
      (<a href="https://github.com/jgm/pandoc/issues/4960">#4960</a>).
      <span><code>\autocites{a1}{a2}{a3}</code></span>
      will not collapse the entries. So, if we don’t have prefixes and
      suffixes, we use instead <span><code>\autocite{a1,a2,a3}</code></span>.</li>
      <li>Fix description lists contining highlighted code (<a href="https://github.com/jgm/pandoc/issues/4662">#4662</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.Man</p>
      <ul>
      <li>Don’t wrap <span><code>.SH</code></span> and
      <span><code>.SS</code></span> lines (<a href="https://github.com/jgm/pandoc/issues/5019">#5019</a>).</li>
      <li>Avoid unnecessary <span><code>.RS</code></span>/<span><code>.RE</code></span> pair in definition lists
      with one paragraph definitions.</li>
      <li>Moved common groff functions to
      Text.Pandoc.Writers.Groff.</li>
      <li>Fix strong/code combination on man (should be <span><code>\f[CB]</code></span> not <span><code>\f[BC]</code></span>, see <a href="https://github.com/jgm/pandoc/issues/4973">#4973</a>).</li>
      <li>Man writer: use <span><code>\f[R]</code></span>
      instead of <span><code>\f[]</code></span> to reset
      font (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/4973">#4973</a>).</li>
      <li>Move <span><code>splitSentences</code></span>
      to Text.Pandoc.Shared.</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.Docx</p>
      <ul>
      <li><p>Add framework for custom properties (<a href="https://github.com/jgm/pandoc/issues/3034">#3034</a>). So
      far, we don’t actually write any custom properties, but we have
      the infrastructure to add this.</p></li>
      <li><p>Handle tables in table cells (<a href="https://github.com/jgm/pandoc/issues/4953">#4953</a>).
      Although this is not documented in the spec, some versions of Word
      require a <span><code>w:p</code></span> element
      inside every table cell. Thus, we add one when the contents of a
      cell do not already include one (e.g. when a table cell contains a
      table).</p></li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.AsciiDoc: Prevent illegal nestings.
      Adjust header levels so that n+1 level headers are only found
      under n level headers, and the top level is 1.</p></li>
      <li><p>Text.Pandoc.Writers.OpenDocument: Improve bullet/numbering
      alignment (<a href="https://github.com/jgm/pandoc/issues/4385">#4385</a>). This
      change eliminates the large gap we used to have between bullet and
      text, and also ensures that numbers in numbered lists will be
      right-aligned.</p></li>
      <li><p>Text.Pandoc.Writers.ZimWiki</p>
      <ul>
      <li>Number ordered list items sequentially, rather than always
      with 1 (<a href="https://github.com/jgm/pandoc/issues/4962">#4962</a>).</li>
      <li>Remove extra indentation on lists (<a href="https://github.com/jgm/pandoc/issues/4963">#4963</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.EPUB: Use metadata field <span><code>css</code></span> instead of <span><code>stylesheet</code></span> (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/4990">#4990</a>).</p></li>
      <li><p>Text.Pandoc.Writers.Markdown: Ensure blank between raw
      block and normal content (<a href="https://github.com/jgm/pandoc/issues/4629">#4629</a>).
      Otherwise a raw block can prevent a paragraph from being
      recognized as such.</p></li>
      <li><p>Text.Pandoc.Writers.Ms</p>
      <ul>
      <li>Removed old <span><code>escapeBar</code></span>. We don’t need this
      now that we use <span><code>@</code></span> for
      math delim.</li>
      <li>Moved common code to Text.Pandoc.Writers.Roff and to
      Text.Pandoc.RoffChar.</li>
      <li>Move <span><code>splitSentences</code></span>
      to Text.Pandoc.Shared (to avoid duplication with the man
      writer).</li>
      </ul></li>
      <li><p>Text.Pandoc.Writers.Muse (Alexander Krotov).</p></li>
      </ul>
      <pre><code>+ Add support for grid tables.
+ Fix Muse writer style.
+ Use `length` instead of `realLength` to calculate definition
  indentation. Muse parsers don&#39;t take character width into
  account when calculating indentation.
+ Do not insert newline before lists.
+ Use lightweight markup after `&lt;/em&gt;` tag.</code></pre>
      <ul>
      <li><p>New unexported module Text.Pandoc.Writers.Roff, providing
      functions useful for all roff format writers (man, ms).</p></li>
      <li><p>Text.Pandoc.Lua</p>
      <ul>
      <li><p>Move globals handling to separate module
      Text.Pandoc.Lua.Global (Albert Krewinkel).</p></li>
      <li><p>Lua filter internals: push Shared.Element as userdata
      (Albert Krewinkel). Hierarchical Elements were pushed to Lua as
      plain tables. This is simple, but has the disadvantage that
      marshaling is eager: all child elements will be marshaled as part
      of the object. Using a Lua userdata object instead allows lazy
      access to fields, causing content marshaling just (but also each
      time) when a field is accessed. Filters which do not traverse the
      full element contents tree become faster as a result.</p></li>
      </ul></li>
      </ul>
      </section>
      <section id="default-template-changes">
      <h3><a href="#default-template-changes" aria-hidden="true"></a>Default template changes</h3>
      <ul>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Add variable <span><code>hyperrefoptions</code></span> (<a href="https://github.com/jgm/pandoc/issues/4925">#4925</a>,
      Mathias Walter).</li>
      <li>Add variable <span><code>romanfont</code></span>, <span><code>romanfontoptions</code></span> (<a href="https://github.com/jgm/pandoc/issues/4665">#4665</a>,
      OvidiusCicero).</li>
      </ul></li>
      <li><p>AsciiDoc template: use single-line style for
      title.</p></li>
      <li><p>revealjs template: Fix typo in the socket.io javascript
      plugin (<a href="https://github.com/jgm/pandoc/issues/5006">#5006</a>, Yoan
      Blanc).</p></li>
      <li><p>Text.Pandoc.Lua.Util: add missing docstring to <span><code>defineHowTo</code></span> (Albert
      Krewinkel).</p></li>
      <li><p>data/pandoc.lua: add datatype ListAttributes (Albert
      Krewinkel)</p></li>
      <li><p>data/sample.lua: replace custom pipe function with
      pandoc.utils.pipe (Albert Krewinkel).</p></li>
      </ul>
      </section>
      <section id="documentation-improvements">
      <h3><a href="#documentation-improvements" aria-hidden="true"></a>Documentation improvements</h3>
      <ul>
      <li><p>INSTALL.md</p>
      <ul>
      <li>Add chromeos install instructions (<a href="https://github.com/jgm/pandoc/issues/4958">#4958</a>) (Evan
      Pratten).</li>
      <li>Add note about TinyTeX.</li>
      </ul></li>
      <li><p>MANUAL.txt</p>
      <ul>
      <li>Change <span><code>groff</code></span> -&gt;
      <span><code>roff</code></span>.</li>
      <li>Implement <span><code>--ascii</code></span> for
      Markdown writer.</li>
      <li>Clarify LaTeX image dimensions output (Mauro Bieg).</li>
      </ul></li>
      <li><p>doc/customizing-pandoc.md: added skeleton (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3288">#3288</a>).</p></li>
      <li><p>doc/getting-started.md: Added title to test1.md to avoid
      warning.</p></li>
      <li><p>doc/lua-filters.md: merge type references into main
      document, fix description of Code.text (Albert
      Krewinkel).</p></li>
      </ul>
      </section>
      <section id="build-infrastructure-improvements">
      <h3><a href="#build-infrastructure-improvements" aria-hidden="true"></a>Build infrastructure improvements</h3>
      <ul>
      <li><p>Makefile</p>
      <ul>
      <li>Makefile: added quick-cabal, full-cabal targets.</li>
      <li>Make .msi download targets insensitive to order of appveyor
      builds.</li>
      </ul></li>
      <li><p>Update benchmarks for ghc 8.6.1.</p></li>
      <li><p>pandoc.cabal:</p></li>
      </ul>
      <pre><code>+ Enable more compiler warnings (Albert Krewinkel).
+ Make base lower bound 4.8.
+ Bump upper bound for QuickCheck.
+ Bump upper bound for binary.
+ Updated version bounds for containers and haddock-library (#4974).
+ Added docx/docPropos/custom.xml to cabal data-files.
+ Require skylighting 0.7.4 (#4920).
+ New dependency on unicode-transforms package for normalization.</code></pre>
      <ul>
      <li><p>Improved .travis.yml testing and test with GHC 8.6.1
      (Albert Krewinkel).</p></li>
      <li><p>Added <span><code>tools/changelog-helper.sh</code></span>.</p></li>
      <li><p>Added test/grofftest.sh for testing the man reader on real
      man pages.</p></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-2.3.1-2018-09-28">
      <h2><a href="#pandoc-2.3.1-2018-09-28" aria-hidden="true"></a>pandoc 2.3.1 (2018-09-28)</h2>
      <ul>
      <li><p>RST reader:</p>
      <ul>
      <li>Parse RST inlines containing newlines (<a href="https://github.com/jgm/pandoc/issues/4912">#4912</a>,
      Francesco Occhipinti). This eliminates a regression introduced
      after pandoc 2.1.1, which caused inline constructions containing
      newlines not to be recognized.</li>
      <li>Fix bug with internal link targets (<a href="https://github.com/jgm/pandoc/issues/4919">#4919</a>). They
      were gobbling up indented content underneath.</li>
      </ul></li>
      <li><p>Markdown reader: distinguish autolinks in the AST. With
      this change, autolinks are parsed as Links with the <span><code>uri</code></span> class. (The same is true
      for bare links, if the <span><code>autolink_bare_uris</code></span> extension is
      enabled.) Email autolinks are parsed as Links with the <span><code>email</code></span> class. This allows the
      distinction to be represented in the AST.</p></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Force inline code blocks to honor export options (Brian
      Leung).</li>
      <li>Parse empty argument array in inline src blocks (Brian
      Leung).</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Added additional tests.</li>
      <li>Do not allow code markup to be followed by digit.</li>
      <li>Remove heading level limit.</li>
      <li>Simplify <span><code>&lt;literal&gt;</code></span> tag
      parsers</li>
      <li>Parse Text instead of String. Benchmark shows 7%
      improvement.</li>
      <li>Get rid of HTML parser dependency.</li>
      <li>Various code improvements.</li>
      </ul></li>
      <li><p>ConTeXt writer: change <span><code>\</code></span> to <span><code>/</code></span> in Windows image paths (<a href="https://github.com/jgm/pandoc/issues/4918">#4918</a>). We do
      this in the LaTeX writer, and it avoids problems. Note that <span><code>/</code></span> works as a LaTeX path
      separator on Windows.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Add support for multiprenote and multipostnote arguments with
      <span><code>--biblatex</code></span> (Brian Leung,
      <a href="https://github.com/jgm/pandoc/issues/4930">#4930</a>).
      The multiprenotes occur before the first prefix of a multicite,
      and the multipostnotes follow the last suffix.</li>
      <li>Fix a use of <span><code>last</code></span>
      that might take empty list. If you ran with <span><code>--biblatex</code></span> and have an empty
      document (metadata but no blocks), pandoc would previously raise
      an error because of the use of <span><code>last</code></span> on an empty list.</li>
      </ul></li>
      <li><p>RTF writer: Fix build failure with ghc-8.6.1 caused by
      missing MonadFail instance (Jonas Scholl).</p></li>
      <li><p>ODT Writer: Improve table header row style handling (Nils
      Carlson). This changes the way styles for cells in the header row
      and normal rows are handled in ODT tables. Previously a new (but
      identical) style was generated for every table, specifying the
      style of the cells within the table. After this change there are
      two style definitions for table cells, one for the cells in the
      header row, one for all other cells. This doesn’t change the
      actual styles, but makes post-processing changes to the table
      styles much simpler as it is no longer necessary to introduce new
      styles for header rows and there are now only two styles where
      there was previously one per table.</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Don’t add <span><code>uri</code></span> class
      to presumed autolinks. Formerly the <span><code>uri</code></span> class was added to
      autolinks by the HTML writer, but it had to guess what was an
      autolink and could not distinguish <span><code>[http://example.com](http://example.com)</code></span>
      from <span><code>&lt;http://example.com&gt;</code></span>. It
      also incorrectly recognized <span><code>[pandoc](pandoc)</code></span> as an
      autolink. Now the HTML writer simply passes through the <span><code>uri</code></span> attribute if it is present,
      but does not add anything.</li>
      <li>Avoid adding extra section nestings for revealjs. Previously
      revealjs title slides at level (slidelevel - 1) were nested under
      an extra section element, even when the section contained no
      additional (vertical) content. That caused problems for some
      transition effects.</li>
      <li>Omit unknown attributes in EPUB2 output. For example, <span><code>epub:type</code></span> attributes should not
      be passed through, or the epub produced will not validate.</li>
      </ul></li>
      <li><p>JATS writer: remove ‘role’ attribute on ‘bold’ and ‘sc’
      elements (<a href="https://github.com/jgm/pandoc/issues/4937">#4937</a>). The
      JATS spec does not allow these.</p></li>
      <li><p>Textile writer: don’t represent <span><code>uri</code></span> class explicitly for
      autolinks (<a href="https://github.com/jgm/pandoc/issues/4913">#4913</a>).</p></li>
      <li><p>Lua filters (Albert Krewinkel):</p>
      <ul>
      <li>Cleanup filter execution code.</li>
      <li>Better error on test failure.</li>
      </ul></li>
      <li><p>HTML, Muse reader tests: reduce time taken by round-trip
      test.</p></li>
      <li><p>Added cabal.project.</p></li>
      <li><p>MANUAL: <span><code>epub:type</code></span>
      is only useful for epub3 (Maura Bieg).</p></li>
      <li><p>Use hslua v1.0.0 (Albert Krewinkel).</p></li>
      <li><p>Fix <span><code>translations/ru</code></span> to use modern
      Russian orthography (Ivan Trubach).</p></li>
      <li><p>Build Windows binary using ghc 8.6.1 and cabal new-build.
      This fixes issues with segfaults in the 32-bit Windows binaries
      (<a href="https://github.com/jgm/pandoc/issues/4283">#4283</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.3-2018-09-16">
      <h2><a href="#pandoc-2.3-2018-09-16" aria-hidden="true"></a>pandoc 2.3 (2018-09-16)</h2>
      <ul>
      <li><p>Add <span><code>--metadata-file</code></span> option (Mauro
      Bieg, <a href="https://github.com/jgm/pandoc/issues/1960">#1960</a>), which
      allows users to specify metadata in a YAML file, regardless of the
      input format (<a href="https://github.com/jgm/pandoc/issues/1960">#1960</a>).</p></li>
      <li><p>Text.Pandoc.Writers.Shared: export <span><code>isDisplayMath</code></span> (API
      change).</p></li>
      <li><p>Text.Pandoc.Readers.Markdown: export <span><code>yamlToMeta</code></span> (API change, Mauro
      Bieg).</p></li>
      <li><p>Text.Pandoc.Readers.LaTeX.Types:</p>
      <ul>
      <li>New type <span><code>ArgSpec</code></span> (API
      change).</li>
      <li>Second parameter of <span><code>Macro</code></span> constructor is now <span><code>[ArgSpec]</code></span> instead of <span><code>Int</code></span> (API change).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Use <span><code>tex</code></span> instead of
      <span><code>latex</code></span> for raw tex-ish
      content. We can’t always tell if it’s LaTeX, ConTeXt, or plain
      TeX. Better just to use <span><code>tex</code></span> always. Note that if <span><code>context</code></span> or <span><code>latex</code></span> specifically is desired,
      you can still force that in a markdown document by using the raw
      attribute. Note that this change may affect some filters, if they
      assume that raw tex parsed by the Markdown reader will be RawBlock
      (Format <span><code>latex</code></span>). In most
      cases it should be trivial to modify the filters to accept <span><code>tex</code></span> as well.</li>
      <li>Refactor and reorganize YAML code (Mauro Bieg).</li>
      <li>Make <span><code>example_lists</code></span>
      work for interrupted lists without <span><code>startnum</code></span> (<a href="https://github.com/jgm/pandoc/issues/4908">#4908</a>).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Parse <span><code>&lt;script type=&#34;math/tex</code></span> tags
      as math (<a href="https://github.com/jgm/pandoc/issues/4877">#4877</a>). These
      are used by MathJax in some configurations.</li>
      <li>Extract spaces inside links instead of trimming them
      (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/4845">#4845</a>).</li>
      <li>Added round-trip tests (Alexander Krotov).</li>
      <li>Make parsing sensitive to the <span><code>raw_tex</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/1126">#1126</a>). This
      now allows raw LaTeX environments, <span><code>\ref</code></span>, and <span><code>\eqref</code></span> to be parsed (which is
      helpful for translation HTML documents using MathJaX).</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Respect export option <span><code>p</code></span> for planning info. Inclusion
      of planning info (<span><code>*DEADLINE*</code></span>, <span><code>*SCHEDULED*</code></span>, and <span><code>*CLOSED*</code></span>) can be controlled via
      the <span><code>p</code></span> export option:
      setting the option to <span><code>t</code></span>
      will add all planning information in a <em>Plain</em> block below
      the respective headline.</li>
      <li>Org reader internals: don’t rely on RecordWildCards and
      ViewPatterns ghc extensions.</li>
      <li>Strip planning info from output. Planning info is parsed, but
      not included in the output (as is the default with Emacs Org-mode,
      <a href="https://github.com/jgm/pandoc/issues/4867">#4867</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Handle parameter patterns for <span><code>\def</code></span> (<a href="https://github.com/jgm/pandoc/issues/4768">#4768</a>, <a href="https://github.com/jgm/pandoc/issues/4771">#4771</a>). For
      example: <span><code>\def\foo#1[#2]{#1 and #2}</code></span>.</li>
      <li>Allow <span><code>%</code></span> characters in
      URLs. This affects <span><code>\href</code></span>
      and <span><code>\url</code></span> (<a href="https://github.com/jgm/pandoc/issues/4832">#4832</a>).</li>
      <li>Fixed parsing of <span><code>\texorpdfstring</code></span>. We were
      returning the wrong argument as the content.</li>
      <li>Support <span><code>blockcquote</code></span>,
      <span><code>foreignblockquote</code></span>, <span><code>foreigncblockquote</code></span>, <span><code>hyphenblockquote</code></span>, <span><code>hyphencblockquote</code></span>, <span><code>enquote*</code></span>, <span><code>foreignquote</code></span>, <span><code>hyphenquote</code></span> from <span><code>csquotes</code></span> (<a href="https://github.com/jgm/pandoc/issues/4848">#4848</a>). Note
      that <span><code>foreignquote</code></span> will be
      parsed as a regular Quoted inline (not using the quotes
      appropriate to the foreign language).</li>
      <li>Support more text-mode accents (<a href="https://github.com/jgm/pandoc/issues/4652">#4652</a>). Add
      support for <span><code>\|</code></span>, <span><code>\b</code></span>, <span><code>\G</code></span>, <span><code>\h</code></span>, <span><code>\d</code></span>, <span><code>\f</code></span>, <span><code>\r</code></span>, <span><code>\t</code></span>, <span><code>\U</code></span>, <span><code>\i</code></span>, <span><code>\j</code></span>, <span><code>\newtie</code></span>, <span><code>\textcircled</code></span>. Also fall back to
      combining characters when composed characters are not
      available.</li>
      <li>Resolve <span><code>\ref</code></span> for
      figure numbers.</li>
      <li>Support <span><code>mintinline</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/4365">#4365</a>,
      Marc Schreiber).</li>
      <li>Fix siunitx unit commands so they are only recognized in
      siunitx contexts (<a href="https://github.com/jgm/pandoc/issues/4842">#4842</a>). For
      example, <span><code>\l</code></span> outside of an
      siunitx context should be l-slash, not l (for liter).</li>
      <li>Fix double <span><code>unnumbered</code></span>
      class (<a href="https://github.com/jgm/pandoc/issues/4838">#4838</a>). The
      <span><code>unnumbered</code></span> class was
      being included twice for starred sections.</li>
      </ul></li>
      <li><p>RST reader: Don’t skip link definitions after comments (<a href="https://github.com/jgm/pandoc/issues/4860">#4860</a>).</p></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Close the <span><code>&lt;/quote&gt;</code></span> in indented tag
      test. There is already a separate test for unclosed <span><code>&lt;/quote&gt;</code></span>.</li>
      <li>Autonumber sections in the correct order. Parsing now stops at
      each section header to ensure the header is registered before
      parsing of the next section starts.</li>
      <li>Move duplicate code into <span><code>headingStart</code></span> function.</li>
      <li>Allow newline after opening <span><code>*</code></span> or <span><code>**</code></span>.</li>
      <li>Don’t allow digits after closing marker in lightweight markup
      This change makes reader more compatible with Emacs Muse.</li>
      <li>Parse <span><code>&lt;verse&gt;</code></span>
      tag in one pass instead of using <span><code>parseFromString</code></span>. This change
      makes it possible to have verbatim <span><code>&lt;/verse&gt;</code></span> tag inside
      verse.</li>
      </ul></li>
      <li><p>ODT reader: deal gracefully with missing <span><code>&lt;office:font-face-decls/&gt;</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/4336">#4336</a>).
      This allows pandoc to parse ODT document produced by KDE’s
      Calligra.</p></li>
      <li><p>Muse writer (Alexander Krotov):</p>
      <ul>
      <li>Output headers without asterisks if not on the top level.</li>
      <li>Never wrap definition list terms.</li>
      <li>Set <span><code>envInsideBlock = True</code></span> when
      rendering notes.</li>
      <li>Use <span><code>&#34;&#34;</code></span> instead of
      <span><code>[]</code></span> for empty String.</li>
      <li>Check for whitespace in the beginning and end of Str’s.</li>
      <li>Escape <span><code>-</code></span>, <span><code>;</code></span> and <span><code>&gt;</code></span> in the beginning of
      strings.</li>
      <li>Escape list markers in the beginning of notes.</li>
      <li>Normalize inline list before testing if tags should be
      used.</li>
      <li>Use tags instead of lightweight markup for empty strings.</li>
      <li>Use lightweight markup when possible.</li>
      <li>Escape empty strings. This guarantees that <span><code>conditionalEscapeString</code></span> never
      returns empty string.</li>
      <li>Wrap conditionalEscapeString result into <span><code>Muse</code></span> type. This removes the
      need to pass <span><code>envInsideLinkDescription</code></span> to
      it.</li>
      <li>Separate <span><code>shouldEscapeString</code></span>
      function.</li>
      <li>Simplify inline list rendering.</li>
      <li>Replace newlines in strings with spaces.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Add MetaString case for abstract, subtitle (<a href="https://github.com/jgm/pandoc/issues/4900">#4900</a>, Mauro
      Bieg).</li>
      <li>Properly handle display math in spans (<a href="https://github.com/jgm/pandoc/issues/4826">#4826</a>). This
      isn’t a complete solution, since other nestings of display math
      may still cause problems, but it should work for what is by far
      the most common case.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Always output <span><code>&lt;dt&gt;</code></span> element, even if it
      is empty (<a href="https://github.com/jgm/pandoc/issues/4883">#4883</a>,
      Alexander Krotov).</li>
      <li>Don’t prefix <span><code>epub:</code></span>
      attributes with <span><code>data-</code></span>.</li>
      </ul></li>
      <li><p>Org writer: Don’t escape literal <span><code>_</code></span>, <span><code>^</code></span> (<a href="https://github.com/jgm/pandoc/issues/4882">#4882</a>). Org
      doesn’t recognize these escapes.</p></li>
      <li><p>ODT writer: Fix percentage image scaling (<a href="https://github.com/jgm/pandoc/issues/4881">#4881</a>, Nils
      Carlson). Image scaling was broken when a width was set to a
      percentage.</p></li>
      <li><p>EPUB writer: set <span><code>epub:type</code></span> on body element in
      each chapter, depending on the <span><code>epub:type</code></span> of the first section
      (<a href="https://github.com/jgm/pandoc/issues/4823">#4823</a>).
      This only affects epub3. See
      http://www.idpf.org/epub/profiles/edu/structure/#h.l0bzsloklt10</p></li>
      <li><p>FB2 writer: put <span><code>coverpage</code></span> element between title
      and date rather than in <span><code>document-info</code></span> element (<a href="https://github.com/jgm/pandoc/issues/4854">#4854</a>).</p></li>
      <li><p>Markdown writer: Escape <span><code>~</code></span> if strikeout extension
      enabled (<a href="https://github.com/jgm/pandoc/issues/4840">#4840</a>).</p></li>
      <li><p>Haddock writer: Use proper format for latex math in haddock
      (<a href="https://github.com/jgm/pandoc/issues/4571">#4571</a>,
      Joe Hermaszewski). Inline math in <span><code>\(..\)</code></span>, display math in <span><code>\[..\]</code></span>, tex is now used.
      Previously we’d “fake it with unicode” and fall back to tex when
      that didn’t work. But newer haddock versions support latex
      math.</p></li>
      <li><p>TEI writer:</p>
      <ul>
      <li>Ensure that title element is always present, even if empty (<a href="https://github.com/jgm/pandoc/issues/4839">#4839</a>).</li>
      <li>Put author tags in the template, rather than adding them in
      the writer (<a href="https://github.com/jgm/pandoc/issues/4839">#4839</a>).</li>
      </ul></li>
      <li><p>LaTeX writer/template: be sensitive to <span><code>filecolor</code></span> variable (<a href="https://github.com/jgm/pandoc/issues/4822">#4822</a>). <span><code>linkcolor</code></span> only affects internal
      links, and <span><code>urlcolor</code></span> only
      affects linked URLs. For external links, the option to use is
      <span><code>filecolor</code></span>.</p></li>
      <li><p>ConTeXt writer: output raw <span><code>tex</code></span> blocks as well as <span><code>context</code></span> (<a href="https://github.com/jgm/pandoc/issues/969">#969</a>).</p></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Use <span><code>.. raw:: latex</code></span>
      for <span><code>tex</code></span> content.</li>
      <li>Use <span><code>.. container</code></span> for
      generic Divs, instead of raw HTML.</li>
      <li>Render Divs with admonition classes as admonitions (<a href="https://github.com/jgm/pandoc/issues/4833">#4833</a>). Also
      omit Div with class <span><code>admonition-title</code></span>. These are
      generated by the RST reader and should be omitted on
      round-trip.</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF: fix message printed when rsvg-convert is
      not available (<a href="https://github.com/jgm/pandoc/issues/4855">#4855</a>,
      Antonio Terceiro).</p></li>
      <li><p>HTML5 template: add the <span><code>title-block-header</code></span> identifier
      to the <span><code>header</code></span> element, to
      make it easier to style precisely (<a href="https://github.com/jgm/pandoc/issues/4767">#4767</a>, J. B.
      Rainsberger).</p></li>
      <li><p>OpenDocument template: Remove unnecessary indenting of TOC
      title (<a href="https://github.com/jgm/pandoc/issues/4798">#4798</a>, José
      de Mattos Neto).</p></li>
      <li><p>latex template: Add support for <span><em>t</em><em>o</em><em>c</em> − <em>t</em><em>i</em><em>t</em><em>l</em><em>e</em></span>
      to LaTeX (and PDF) (<a href="https://github.com/jgm/pandoc/issues/4853">#4853</a>,
      Wandmalfarbe).</p></li>
      <li><p>TEI template: improve <span><code>publicationStmt</code></span>. Add support
      for <span><code>publisher</code></span>, <span><code>address</code></span>, <span><code>pubPlace</code></span>, and <span><code>date</code></span> variables.</p></li>
      <li><p>beamer template: Support “toc-title” (<a href="https://github.com/jgm/pandoc/issues/4835">#4835</a>, Cyril
      Roelandt).</p></li>
      <li><p>Text.Pandoc.Extensions: Fix haddock on <span><code>Ext_footnotes</code></span> (Chris
      Martin).</p></li>
      <li><p>Lua: cleanup Lua utils, remove unused functions (Albert
      Krewinkel).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Clarify that <span><code>--biblatex/--natbib</code></span> don’t work
      directly for PDF (<a href="https://github.com/jgm/pandoc/issues/4904">#4904</a>).</li>
      <li>Document <span><code>epub:type</code></span>
      attribute (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/4901">#4901</a>)</li>
      <li>Clarify when <span><code>--resource-path</code></span> has an
      effect.</li>
      <li>More detail on customization in syntax highlighting
      section.</li>
      <li>Document encoding issue with <span><code>--listings</code></span> (<a href="https://github.com/jgm/pandoc/issues/4871">#4871</a>, Damien
      Clochard).</li>
      <li>Remove docs on removed <span><code>--katex-stylesheet</code></span> (Mauro Bieg,
      <a href="https://github.com/jgm/pandoc/issues/4862">#4862</a>).</li>
      <li>Use https for context wiki links (<a href="https://github.com/jgm/pandoc/issues/4910">#4910</a>).</li>
      </ul></li>
      <li><p>CONTRIBUTING.md:</p>
      <ul>
      <li>Link to lua-filters repository (<a href="https://github.com/jgm/pandoc/issues/4874">#4874</a>).</li>
      <li>Fix mistake in REPL instructions for stack. (<a href="https://github.com/jgm/pandoc/issues/4849">#4849</a>, Brian
      Leung).</li>
      </ul></li>
      <li><p>lua-filters.md: add links to filters, and to lua-filters
      repository (<a href="https://github.com/jgm/pandoc/issues/4874">#4874</a>).</p></li>
      <li><p>INSTALL.md:</p>
      <ul>
      <li>Indicate that cabal &gt;= 2.0 is needed.</li>
      <li>Added chocolatey installation method (<a href="https://github.com/jgm/pandoc/issues/4844">#4844</a>,
      Miodrag Milić).</li>
      </ul></li>
      <li><p>Travis: exclude round-trip tests, except for nightly test
      which can fail.</p></li>
      <li><p>Use latest texmath, pandoc-citeproc.</p></li>
      <li><p>Use a patched version of foundation until
      https://github.com/haskell-foundation/foundation/pull/503 is
      fixed.</p></li>
      <li><p>Clean up appveyor build and Windows package creation. We
      now use 64-bit stack and ghc 8.4.3, lts-12 for the 64-bit build.
      The WiX-based msi is now 64-bit for 64-bit builds (fixing <a href="https://github.com/jgm/pandoc/issues/4795">#4795</a>).</p></li>
      <li><p>Remove obsolete RELEASE-CHECKLIST.md.</p></li>
      <li><p>Added additional compiler warnings in Makefile and CI
      builds.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.2.3.2-2018-08-07">
      <h2><a href="#pandoc-2.2.3.2-2018-08-07" aria-hidden="true"></a>pandoc 2.2.3.2 (2018-08-07)</h2>
      <ul>
      <li><p>Markdown reader: Properly handle boolean values in YAML
      metadata (<a href="https://github.com/jgm/pandoc/issues/4819">#4819</a>). This
      fixes a regression in 2.2.3, which cause boolean values to be
      parsed as MetaInlines instead of MetaBool.</p>
      <p>We here record another undocumented (but desirable) change in
      2.2.3: numerical metadata fields are now parsed as MetaInlines
      rather than MetaString.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.2.3.1-2018-08-06">
      <h2><a href="#pandoc-2.2.3.1-2018-08-06" aria-hidden="true"></a>pandoc 2.2.3.1 (2018-08-06)</h2>
      <ul>
      <li>Markdown reader: Fix parsing of embedded mappings in YAML
      metadata (<a href="https://github.com/jgm/pandoc/issues/4817">#4817</a>). This
      fixes a regression in 2.2.3 which caused embedded mappings
      (e.g. mappings in sequences) not to work in YAML metadata.</li>
      </ul>
      </section>
      <section id="pandoc-2.2.3-2018-08-05">
      <h2><a href="#pandoc-2.2.3-2018-08-05" aria-hidden="true"></a>pandoc 2.2.3 (2018-08-05)</h2>
      <ul>
      <li><p>RST reader: improve parsing of inline interpreted text
      roles (<a href="https://github.com/jgm/pandoc/issues/4811">#4811</a>).</p>
      <ul>
      <li>Use a Span with class “title-reference” for the default
      title-reference role.</li>
      <li>Use <span><code>B.text</code></span> to split
      up contents into <span><code>Space</code></span>s,
      <span><code>SoftBreak</code></span>s, and <span><code>Str</code></span>s for <span><code>title-reference</code></span>.</li>
      <li>Use Code with class “interpreted-text” instead of Span and Str
      for unknown roles. (The RST writer has also been modified to
      round-trip this properly.)</li>
      <li>Disallow blank lines in interpreted text.</li>
      <li>Backslash-escape now works in interpreted text.</li>
      <li>Backticks followed by alphanumerics no longer end interpreted
      text.</li>
      <li>Remove support for nested inlines (Francesco Occhipinti). RST
      does not allow nested emphasis, links, or other inline constructs.
      This fixes several bugs (<a href="https://github.com/jgm/pandoc/issues/4581">#4581</a>, <a href="https://github.com/jgm/pandoc/issues/4561">#4561</a>, <a href="https://github.com/jgm/pandoc/issues/4792">#4792</a>).</li>
      </ul></li>
      <li><p>Org reader: fix parsers relying on <span><code>parseFromString</code></span> (<a href="https://github.com/jgm/pandoc/issues/4784">#4784</a>, Albert
      Krewinkel). Emphasis was not parsed when it followed directly
      after some block types (e.g., lists).</p></li>
      <li><p>Markdown reader: Allow unquoted numbers and booleans as
      YAML mapping keys. Previously in 2.2.2 you could not do</p>
      <pre><code>    ---
    0: bar
    ...
    ```
but only</code></pre>
      <pre><code>---
&#39;0&#39;: bar
...
```</code></pre>
      <p>With this change, both forms work.</p></li>
      <li><p>DocBook reader: metadata handling improvements. Now we
      properly parse title and subtitle elements that are direct
      children of book and article (as well as children of bookinfo,
      articleinfo, or info). We also now use the <span><code>subtitle</code></span> metadata field for
      subtitles, rather than tacking the subtitle on to the
      title.</p></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Allow images to be directly nested within links (<a href="https://github.com/jgm/pandoc/issues/4810">#4810</a>,
      Francesco Occhipinti).</li>
      <li>Use <span><code>titleblock</code></span>
      instead of <span><code>title</code></span> variable
      for title block (<a href="https://github.com/jgm/pandoc/issues/4803">#4803</a>,
      Francesco Occhipinti). <span><code>titleblock</code></span> contains a properly
      formatted title and subtitle (using top-level headers). <span><code>title</code></span> and <span><code>subtitle</code></span> variables are still
      available and just contain the title and subtitle text. Note that
      this change will require an update to custom rst templates.</li>
      <li>Render Code with class “interpreted-text” as interpreted text
      role.</li>
      </ul></li>
      <li><p>MediaWiki writer: Avoid extra blank line in tables with
      empty cells (<a href="https://github.com/jgm/pandoc/issues/4794">#4794</a>). Note
      that the old output is semantically identical, but the new output
      looks better.</p></li>
      <li><p>Lua Utils module: add function <span><code>blocks_to_inlines</code></span> (<a href="https://github.com/jgm/pandoc/issues/4799">#4799</a>, Albert
      Krewinkel). Exposes a function converting which flattenes a list
      of blocks into a list of inlines. An example use case would be the
      conversion of Note elements into other inlines.</p></li>
      <li><p>RST template: use <span><code>titleblock</code></span> instead of <span><code>title</code></span>. Users of custom RST
      templates will want to update this.</p></li>
      <li><p>LaTeX template: Moved some beamer code in default.latex
      template. This change allows beamer themes to change the template
      and font (as Metropolis does) (<a href="https://github.com/jgm/pandoc/issues/4450">#4450</a>).</p></li>
      <li><p>Better error message on <span><code>-t pdf -o out.pdf</code></span> (<a href="https://github.com/jgm/pandoc/issues/1155">#1155</a>, Mauro
      Bieg).</p></li>
      <li><p>Added test case for <a href="https://github.com/jgm/pandoc/issues/4669">#4669</a> to
      repository.</p></li>
      <li><p>INSTALL.md: Fix broken link for cabal-install (<a href="https://github.com/jgm/pandoc/issues/4806">#4806</a>,
      ChanHoHo).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Add beamer info for slide backgrounds (<a href="https://github.com/jgm/pandoc/issues/4802">#4802</a>, John
      Muccigrosso).</li>
      <li>Clarify when <span><code>csquotes</code></span>
      is used in LaTeX writer (<a href="https://github.com/jgm/pandoc/issues/4514">#4514</a>).</li>
      <li>Add <span><code>commonmark</code></span> to
      list of output formats where <span><code>raw_tex</code></span> has an effect (see <a href="https://github.com/jgm/pandoc/issues/4527">#4527</a>).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.2.2.1-2018-07-19">
      <h2><a href="#pandoc-2.2.2.1-2018-07-19" aria-hidden="true"></a>pandoc 2.2.2.1 (2018-07-19)</h2>
      <ul>
      <li><p>Fix regression finding templates in user data directory (<a href="https://github.com/jgm/pandoc/issues/4777">#4777</a>). Under
      version 2.2.1 and prior pandoc found latex templates in the
      templates directory under the data directory, but this broke in
      2.2.2.</p></li>
      <li><p>Fix for bug in parsing <span><code>\input</code></span> in <span><code>rawLaTeXBlock</code></span> and <span><code>rawLaTeXInline</code></span> (<a href="https://github.com/jgm/pandoc/issues/4781">#4781</a>). (This
      primarily affects the markdown reader, and other readers that
      accept raw tex.) Starting in 2.2.2, everything after an <span><code>\input</code></span> (or <span><code>\include</code></span>) in a markdown file
      would be parsed as raw LaTeX.</p></li>
      <li><p>MANUAL:</p>
      <ul>
      <li>Clarify <span><code>gfm</code></span> vs <span><code>markdown_github</code></span> (<a href="https://github.com/jgm/pandoc/issues/4783">#4783</a>, Mauro
      Bieg).</li>
      <li>Use <span><code>keywords</code></span> instead
      of <span><code>tags</code></span> in YAML metadata
      example (<a href="https://github.com/jgm/pandoc/issues/4779">#4779</a>).
      Unlike <span><code>tags</code></span>, <span><code>keywords</code></span> is used in some of the
      writers and default templates.</li>
      </ul></li>
      <li><p>Add missing <span><code>rollingLinks</code></span> option to revealjs
      template (<a href="https://github.com/jgm/pandoc/issues/4778">#4778</a>, Igor
      Khorlo).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.2.2-2018-07-16">
      <h2><a href="#pandoc-2.2.2-2018-07-16" aria-hidden="true"></a>pandoc 2.2.2 (2018-07-16)</h2>
      <ul>
      <li><p>Use HsYAML instead of yaml for translations and YAML
      metadata (<a href="https://github.com/jgm/pandoc/issues/4747">#4747</a>). yaml
      wraps a C library; HsYAML is pure Haskell. Advances <a href="https://github.com/jgm/pandoc/issues/4535">#4535</a>.</p>
      <p>Note: HsYAML implements YAML 1.2, in which the valid true
      values are <span><code>true</code></span>, <span><code>True</code></span>, <span><code>TRUE</code></span>. This means a change in
      the semantics of YAML metadata that could affect users: <span><code>y</code></span>, <span><code>yes</code></span>, and <span><code>on</code></span> no longer count as true
      values.</p></li>
      <li><p>Fix regression: make <span><code>--pdf-engine</code></span> work with full
      paths (<a href="https://github.com/jgm/pandoc/issues/4681">#4681</a>, Mauro
      Bieg).</p></li>
      <li><p>CommonMark reader: Handle <span><code>ascii_identifiers</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/4742">#4742</a>, Anders
      Waldenborg). Non-ascii characters were not stripped from
      identifiers even if the <span><code>ascii_identifiers</code></span> extension was
      enabled (which is is by default for gfm).</p></li>
      <li><p>TikiWiki reader: Improve list parsing (<a href="https://github.com/jgm/pandoc/issues/4722">#4722</a>, Mauro
      Bieg). Remove trailing Space from list items. Parse lists that
      have no space after marker.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Treat <span><code>lilypond</code></span> as a
      verbatim environment (<a href="https://github.com/jgm/pandoc/issues/4725">#4725</a>).</li>
      <li>Parse figure label into Image id (<a href="https://github.com/jgm/pandoc/issues/4700">#4700</a>, Mauro
      Bieg).</li>
      <li>Beamer: Allow “noframenumbering” option (<a href="https://github.com/jgm/pandoc/issues/4696">#4696</a>,
      Raymond Ehlers).</li>
      <li>Allow spaces around <span><code>\graphicspath</code></span> arguments (<a href="https://github.com/jgm/pandoc/issues/4698">#4698</a>).</li>
      <li>Handle includes without surrounding blanklines (<a href="https://github.com/jgm/pandoc/issues/4553">#4553</a>). In
      addition, <span><code>\input</code></span> can now
      be used in an inline context, e.g. to provide part of a paragraph,
      as it can in LaTeX.</li>
      <li>In <span><code>rawLaTeXBlock</code></span>,
      handle macros that resolve to a <span><code>\begin</code></span> or <span><code>\end</code></span> (<a href="https://github.com/jgm/pandoc/issues/4667">#4667</a>).</li>
      <li>In <span><code>rawLaTeXBlock</code></span>,
      don’t expand macros in macro definitions (<a href="https://github.com/jgm/pandoc/issues/4653">#4653</a>). Note
      that this only affected LaTeX in markdown.</li>
      <li>Tighten up reading of beamer overlay specifications (<a href="https://github.com/jgm/pandoc/issues/4669">#4669</a>).
      Ideally we’d turn these on only when reading beamer, but currently
      beamer is not distinguished from latex as an input format. This
      commit also activates parsing of overlay specifications after
      commands in general (e.g. <span><code>\item</code></span>), since they can occur in
      many contexts in beamer.</li>
      <li>Parse more siunitx unit commands (<a href="https://github.com/jgm/pandoc/issues/4296">#4296</a>, <a href="https://github.com/jgm/pandoc/issues/4773">#4773</a>).</li>
      <li>Be more forgiving in key/value option parsing (<a href="https://github.com/jgm/pandoc/issues/4761">#4761</a>).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow empty code spans, e.g. <span><code>` `</code></span>.</li>
      <li>Emojis are now wrapped in Spans with class <span><code>emoji</code></span> and attribute <span><code>data-emoji</code></span> (Anders Waldenborg,
      <a href="https://github.com/jgm/pandoc/issues/4743">#4743</a>).
      This allows the writer to handle them in a special way (e.g. using
      a special font, or just rendering the emoji name).</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov, except where indicated):</p>
      <ul>
      <li>Get rid of non-exhaustive pattern match warning (Mauro
      Bieg).</li>
      <li>Add support for floating images.</li>
      <li>Add support for images with specified width.</li>
      <li>Parse image URLs without “guard” and “takeExtension”.</li>
      <li>Split link and image parsing into separate functions.</li>
      <li>Parse links starting with “URL:” explicitly instead of trying
      to strip “URL:” prefix after parsing.</li>
      </ul></li>
      <li><p>Texinfo writer: Use <span><code>@sup</code></span> and <span><code>@sub</code></span> instead of custom macros
      (<a href="https://github.com/jgm/pandoc/issues/4728">#4728</a>,
      Alexander Krotov).</p></li>
      <li><p>Markdown writer: Preserve <span><code>implicit_figures</code></span> with
      attributes, even if <span><code>implicit_attributes</code></span> is not set,
      by rendering in raw HTML (<a href="https://github.com/jgm/pandoc/issues/4677">#4677</a>).</p></li>
      <li><p>Markdown and commonmark/github writers now respect the
      <span><code>emoji</code></span> extension. So,
      <span><code>-f markdown+emoji -t markdown+emoji</code></span>
      now leaves <span><code>:smile:</code></span> as
      <span><code>:smile:</code></span> rather than
      converting it to a smile character.</p></li>
      <li><p>Docx writer: Be sensitive to <span><code>toc</code></span> in YAML metadata (<a href="https://github.com/jgm/pandoc/issues/4645">#4645</a>).</p></li>
      <li><p>ODT/OpenDocument writer: Make internal links work (<a href="https://github.com/jgm/pandoc/issues/4358">#4358</a>). This
      adds proper bookmarks to the headers with non-null IDs.</p></li>
      <li><p>EPUB writer: Properly escape pagetitle. Previously we
      weren’t escaping <span><code>&amp;</code></span>
      and other XML characters in the pagetitle, so a title containing a
      <span><code>&amp;</code></span> would be
      invalid.</p></li>
      <li><p>AsciiDoc Writer: Eescape square brackets at start of line
      (<a href="https://github.com/jgm/pandoc/issues/4545">#4545</a>,
      Mauro Bieg).</p></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Don’t treat ‘example’ as a syntax name (<a href="https://github.com/jgm/pandoc/issues/4748">#4748</a>). This
      fixes conversions from org with example blocks.</li>
      <li>Support <span><code>--number-sections</code></span> via the <span><code>section-numbering</code></span> directive in
      standalone output.</li>
      </ul></li>
      <li><p>reveal.js writer and template: reuse mathjax URL provided
      by the argument to <span><code>--mathjax</code></span> or the normal pandoc
      default, rather than a hard-coded one in the template (<a href="https://github.com/jgm/pandoc/issues/4701">#4701</a>).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Properly handle footnotes in table captions (<a href="https://github.com/jgm/pandoc/issues/4683">#4683</a>).
      Refactored code from figure captions to use in both places.</li>
      <li>In beamer output, fix single digit column percentage (<a href="https://github.com/jgm/pandoc/issues/4690">#4690</a>, Mauro
      Bieg).</li>
      </ul></li>
      <li><p>FB2 writer (Alexander Krotov):</p>
      <ul>
      <li>Convert Plain to Para in annotation (<a href="https://github.com/jgm/pandoc/issues/2424">#2424</a>).</li>
      <li>Fix order of items in title-info (<a href="https://github.com/jgm/pandoc/issues/2424">#2424</a>).</li>
      </ul></li>
      <li><p>Custom writer: fix error message on script failure (Albert
      Krewinkel). Error messages produced by Lua were not displayed by
      Pandoc.</p></li>
      <li><p>Text.Pandoc.Emoji now exports <span><code>emojiToInline</code></span>, which returns a
      Span inline containing the emoji character and some attributes
      with metadata (class <span><code>emoji</code></span>, attribute <span><code>data-emoji</code></span> with emoji name).
      (API change, Anders Waldenborg, <a href="https://github.com/jgm/pandoc/issues/4743">#4743</a>).</p></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Revert fix for <a href="https://github.com/jgm/pandoc/issues/4484">#4484</a> (only
      compress images on last run, <a href="https://github.com/jgm/pandoc/issues/4755">#4755</a>). This
      will mean some increase in the time it takes to produce an
      image-heavy PDF with xelatex, but it will make tables of contents
      correct, which is more important.</li>
      <li>Fix logic error in <span><code>runTeXProgram</code></span>. We were running
      the tex program one more time than requested. This should speed up
      PDF production.</li>
      </ul></li>
      <li><p>Allow <span><code>--template</code></span>
      to take a URL as argument.</p></li>
      <li><p>Text.Pandoc.Highlighting: Add missing re-export of <span><code>breezeDark</code></span> highlighting style
      (<a href="https://github.com/jgm/pandoc/issues/4687">#4687</a>,
      Adrian Sieber, API change).</p></li>
      <li><p>Clarify macOS install in INSTALL.md (<a href="https://github.com/jgm/pandoc/issues/4661">#4661</a>). Make
      the binary package installer the recommended method, and note that
      on some older versions of macOS, homebrew installs from source and
      takes a lot of disk space (<a href="https://github.com/jgm/pandoc/issues/4664">#4664</a>,
      Ian).</p></li>
      <li><p>MANUAL:</p>
      <ul>
      <li>Clarify EPUB linked media (<a href="https://github.com/jgm/pandoc/issues/4756">#4756</a>, Mauro
      Bieg)</li>
      <li>Update manual for “true” YAML values. Now that we’re using
      HsYAML and YAML 1.2, the valid true values are <span><code>true</code></span>, <span><code>True</code></span>, <span><code>TRUE</code></span>. NOTE! <span><code>y</code></span>, <span><code>yes</code></span>, <span><code>on</code></span> no longer count as true
      values.</li>
      <li>Document <span><code>-F</code></span> as alias
      for <span><code>--filter</code></span> (thanks to
      Gandalf Saxe).</li>
      <li>Update manual on how math is rendered in LaTeX.</li>
      <li>Add proxy description (<a href="https://github.com/jgm/pandoc/issues/4131">#4131</a>, Mauro
      Bieg).</li>
      <li>Clarify that <span><code>--toc</code></span>
      requires <span><code>--standalone</code></span> (<a href="https://github.com/jgm/pandoc/issues/4703">#4703</a>).</li>
      <li>Update citation styles link (<a href="https://github.com/jgm/pandoc/issues/4699">#4699</a>,
      wiefling).</li>
      </ul></li>
      <li><p>In API docs, clarify how <span><code>Ext_east_asian_line_breaks</code></span>
      extension works (kaizshang91). Note that it will not take effect
      when readers/writers are called as libraries (<a href="https://github.com/jgm/pandoc/issues/4674">#4674</a>).</p></li>
      <li><p>Improved translations/fr (<a href="https://github.com/jgm/pandoc/issues/4766">#4766</a>,
      lux-lth).</p></li>
      <li><p>Removed inadvertently added <span><code>.orig</code></span> files from repository (<a href="https://github.com/jgm/pandoc/issues/4648">#4648</a>).</p></li>
      <li><p>Remove <span><code>network-uri</code></span>
      flag and use ‘Network.Socket’. This removes a compiler warning.
      There is no need for the old <span><code>network-uri</code></span> flag, since network
      2.6 was released in 2014.</p></li>
      <li><p>Add stack.lts10.yaml, stack.lts11.yaml. use lts-12 in
      stack.yaml.</p></li>
      <li><p>Bump upper bounds for dependent packages.</p></li>
      <li><p>Exclude foundation 0.0.21 for ghc 7.10. Otherwise cabal
      gets confused because of the way ghc 7.10 is excluded in
      foundation’s cabal file. This can be removed when
      haskell-foundation/foundation<a href="https://github.com/jgm/pandoc/issues/500">#500</a> is
      fixed.</p></li>
      <li><p>Require cabal-version &gt;= 2.0. This is needed for
      haddock-library.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.2.1-2018-05-10">
      <h2><a href="#pandoc-2.2.1-2018-05-10" aria-hidden="true"></a>pandoc 2.2.1 (2018-05-10)</h2>
      <ul>
      <li><p>Restored and undeprecated gladtex for HTML math (<a href="https://github.com/jgm/pandoc/issues/4607">#4607</a>).</p>
      <ul>
      <li>Added <span><code>GladTeX</code></span>
      constructor to <span><code>Text.Pandoc.Options.HTMLMathMethod</code></span>
      [API change, reverts removal in v2.2]</li>
      <li>Restored and undeprecated <span><code>--gladtex</code></span> option, removed in
      v2.2.</li>
      </ul></li>
      <li><p>LaTeX reader: Handle <span><code>$</code></span> in <span><code>/text{..}</code></span> inside math (<a href="https://github.com/jgm/pandoc/issues/4576">#4576</a>).</p></li>
      <li><p>Org reader: Fix image filename recognition (Albert
      Krewinkel). Use a function from the filepath library to check
      whether a string is a valid file name. The custom validity checker
      that was used before gave wrong results (e.g. for absolute file
      paths on Windows, kawabata/ox-pandoc<a href="https://github.com/jgm/pandoc/issues/52">#52</a>).</p></li>
      <li><p>FB2 reader: Replace some errors with warnings (Alexander
      Krotov).</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Strip links from headers when creating TOC (<a href="https://github.com/jgm/pandoc/issues/4340">#4340</a>).
      Otherwise the TOC entries will not link to the sections.</li>
      <li>Fix regression with tex math environments in HTML + MathJax
      (<a href="https://github.com/jgm/pandoc/issues/4639">#4639</a>).</li>
      </ul></li>
      <li><p>Muse writer (Alexander Krotov): Add support for left-align
      and right-align classes (<a href="https://github.com/jgm/pandoc/issues/4542">#4542</a>).</p></li>
      <li><p>Docx writer: Support underline (<a href="https://github.com/jgm/pandoc/issues/4633">#4633</a>).</p></li>
      <li><p>Text.Pandoc.Parsing: Lookahead for non-whitespace after
      <span><code>singleQuoteStart</code></span> and
      <span><code>doubleQuoteStart</code></span> (<a href="https://github.com/jgm/pandoc/issues/4637">#4637</a>).</p></li>
      <li><p><span><code>test-pandoc-utils.lua</code></span>: more
      robust testing on both windows and *nix. Previously the pipe tests
      were only run if <span><code>\bin/false</code></span> and <span><code>/bin/sed</code></span> were present, which
      they aren’t in default MacOS and Windows systems. Fixed by using
      <span><code>tr</code></span> and <span><code>false</code></span>, which should always be
      in the path on a *nix system, and <span><code>find</code></span> and <span><code>echo</code></span> for Windows.</p></li>
      <li><p>Text.Pandoc.Shared: add <span><code>uriPathToPath</code></span>. This adjusts the
      path from a file: URI in a way that is sensitive to Windows/Linux
      differences. Thus, on Windows, <span><code>/c:/foo</code></span> gets interpreted as
      <span><code>c:/foo</code></span>, but on Linux,
      <span><code>/c:/foo</code></span> gets interpreted
      as <span><code>/c:/foo</code></span>. See <a href="https://github.com/jgm/pandoc/issues/4613">#4613</a>.</p></li>
      <li><p>Use <span><code>uriPathToPath</code></span>
      with file: URIs (<a href="https://github.com/jgm/pandoc/issues/4613">#4613</a>).</p></li>
      <li><p>Revert piping HTML to pdf-engine (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/4413">#4413</a>). Use a
      temp file as before.</p></li>
      <li><p>Text.Pandoc.Class: Catch IO errors when writing media files
      and issue a warning, rather than an error (Francesco Occhipinti,
      <a href="https://github.com/jgm/pandoc/issues/4559">#4559</a>).</p></li>
      <li><p>Don’t lowercase custom writer filename (Alexander Krotov,
      <a href="https://github.com/jgm/pandoc/issues/4610">#4610</a>).</p></li>
      <li><p>MANUAL (Mauro Bieg):</p>
      <ul>
      <li>Clarify truthiness in template variables (<a href="https://github.com/jgm/pandoc/issues/2281">#2281</a>).</li>
      <li>Clarify pipe table width calculation (<a href="https://github.com/jgm/pandoc/issues/4520">#4520</a>).</li>
      </ul></li>
      <li><p>ConTeXt template: New Greek fallback typeface (Pablo
      Rodríguez, <a href="https://github.com/jgm/pandoc/issues/4405">#4405</a>). CMU
      Serif gives better typographic results than the previous Greek
      fallback DejaVu Serif.</p></li>
      <li><p>Make HTML template polyglot (<a href="https://github.com/jgm/pandoc/issues/4606">#4606</a>,
      OvidiusCicero), by making <span><code>&lt;link rel=&#34;stylesheet&#34; href=&#34;$css$&#34;&gt;</code></span>
      self-closing.</p></li>
      <li><p>Use texmath 0.11, allowing better translation of non-ASCII
      characters in math (<a href="https://github.com/jgm/pandoc/issues/4642">#4642</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.2-2018-04-27">
      <h2><a href="#pandoc-2.2-2018-04-27" aria-hidden="true"></a>pandoc 2.2 (2018-04-27)</h2>
      <ul>
      <li><p>New input format: <span><code>fb2</code></span> (FictionBook2) (Alexander
      Krotov).</p></li>
      <li><p>Make <span><code>--ascii</code></span> work
      for all XML formats (ICML, OPML, JATS,…), and for <span><code>ms</code></span> and <span><code>man</code></span>.</p></li>
      <li><p>Remove deprecated <span><code>--latexmathml</code></span>, <span><code>--gladtex</code></span>, <span><code>--mimetex</code></span>, <span><code>--jsmath</code></span>, <span><code>-m</code></span>, <span><code>--asciimathml</code></span> options.</p></li>
      <li><p>New module Text.Pandoc.Readers.FB2, exporting readFB2
      (Alexander Krotov, API change).</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow empty key-value attributes, like <span><code>title=&#34;&#34;</code></span> (<a href="https://github.com/jgm/pandoc/issues/2944">#2944</a>).</li>
      <li>Handle table w/o following blank line in fenced div (<a href="https://github.com/jgm/pandoc/issues/4560">#4560</a>).</li>
      <li>Remove “fallback” for <span><code>doubleQuote</code></span> parser. Previously
      the parser tried to be efficient – if no end double quote was
      found, it would just return the contents. But this could backfire
      in a case <span><code>**this should &#34;be bold**</code></span>, since
      the fallback would return the content <span><code>&#34;be bold**</code></span> and the closing
      boldface delimiter would never be encountered.</li>
      <li>Improve computation of the relative width of the last column
      in a multiline table, so we can round-trip tables without
      constantly shrinking the last column.</li>
      </ul></li>
      <li><p>EPUB reader:</p>
      <ul>
      <li>Fix images with space in file path (<a href="https://github.com/jgm/pandoc/issues/4344">#4344</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Properly resolve section numbers with <span><code>\ref</code></span> and chapters (<a href="https://github.com/jgm/pandoc/issues/4529">#4529</a>).</li>
      <li>Parse sloppypar environment (<a href="https://github.com/jgm/pandoc/issues/4517">#4517</a>, Marc
      Schreiber).</li>
      <li>Improve handling of raw LaTeX (for markdown etc.) (<a href="https://github.com/jgm/pandoc/issues/4589">#4589</a>, <a href="https://github.com/jgm/pandoc/issues/4594">#4594</a>).
      Previously there were some bugs in how macros were handled.</li>
      <li>Support <span><code>\MakeUppercase</code></span>, <span><code>\MakeLowercase</code></span>, <span><code>\uppercase</code></span>, <span><code>\lowercase</code></span>, and also <span><code>\MakeTextUppercase</code></span> and <span><code>\MakeTextLowercase</code></span> from
      textcase (<a href="https://github.com/jgm/pandoc/issues/4959">#4959</a>).</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Fixed tables with no body rows (<a href="https://github.com/jgm/pandoc/issues/4513">#4513</a>).
      Previously these raised an exception.</li>
      </ul></li>
      <li><p>Mediawiki reader:</p>
      <ul>
      <li>Improve table parsing (<a href="https://github.com/jgm/pandoc/issues/4508">#4508</a>). This
      fixes detection of table attributes and also handles <span><code>!</code></span> characters in cells.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Properly handle title in <span><code>section</code></span> element (<a href="https://github.com/jgm/pandoc/issues/4526">#4526</a>).
      Previously we just got <span><code>section_title</code></span> for <span><code>section</code></span> (though <span><code>sect1</code></span>, <span><code>sect2</code></span>, etc. were handled
      properly).</li>
      <li>Read tex math as output by asciidoctor (<a href="https://github.com/jgm/pandoc/issues/4569">#4569</a>, Joe
      Hermaszewski).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Combine adjacent CodeBlocks with the same attributes into a
      single CodeBlock. This prevents a multiline codeblock in Word from
      being read as different paragraphs.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Allow &lt; 3 spaces indent under directives (<a href="https://github.com/jgm/pandoc/issues/4579">#4579</a>).</li>
      <li>Fix anonymous redirects with backticks (<a href="https://github.com/jgm/pandoc/issues/4598">#4598</a>).</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Add support for Text::Amuse multiline headings.</li>
      <li>Add <span><code>&lt;math&gt;</code></span> tag
      support.</li>
      <li>Add support for <span><code>&lt;biblio&gt;</code></span> and <span><code>&lt;play&gt;</code></span> tags.</li>
      <li>Allow links to have empty descriptions.</li>
      <li>Require block <span><code>&lt;literal&gt;</code></span> tags to be on
      separate lines.</li>
      <li>Allow <span><code>-</code></span> in
      anchors.</li>
      <li>Allow verse to be indented.</li>
      <li>Allow nested footnotes.</li>
      <li>Internal improvements.</li>
      </ul></li>
      <li><p>Muse writer (Alexander Krotov):</p>
      <ul>
      <li>Escape <span><code>&gt;</code></span> only at
      the beginning of a line.</li>
      <li>Escape <span><code>]</code></span> in image
      title.</li>
      <li>Escape <span><code>]</code></span> brackets in
      URLs as <span><code>%5D</code></span>.</li>
      <li>Only escape brackets when necessary.</li>
      <li>Escape ordered list markers.</li>
      <li>Do not escape list markers unless preceded by space.</li>
      <li>Escape strings starting with space.</li>
      <li>Escape semicolons and markers after line break.</li>
      <li>Escape <span><code>;</code></span> to avoid
      accidental comments.</li>
      <li>Don’t break headers, line blocks and tables with line
      breaks.</li>
      <li>Correctly output empty headings.</li>
      <li>Escape horizontal rule only if at the beginning of the
      line.</li>
      <li>Escape definition list terms starting with list markers.</li>
      <li>Place header IDs before header.</li>
      <li>Improve span writing.</li>
      <li>Do not join Spans in normalization.</li>
      <li>Don’t align ordered list items.</li>
      <li>Remove key-value pairs from attributes before
      normalization.</li>
      <li>Enable <span><code>--wrap=preserve</code></span> for all tests
      by default.</li>
      <li>Reduced <span><code>&lt;verbatim&gt;</code></span> tags in
      output.</li>
      <li>Internal changes.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Use more consistent indentation (<a href="https://github.com/jgm/pandoc/issues/4563">#4563</a>).
      Previously we used an odd mix of 3- and 4-space indentation. Now
      we use 3-space indentation, except for ordered lists, where
      indentation must depend on the width of the list marker.</li>
      <li>Flatten nested inlines (<a href="https://github.com/jgm/pandoc/issues/4368">#4368</a>,
      Francesco Occhipinti). Nested inlines are not valid RST syntax, so
      we flatten them following some readability criteria discussed in
      <a href="https://github.com/jgm/pandoc/issues/4368">#4368</a>.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Ensure that <span><code>pagetitle</code></span>
      is always set, even when structured titles are used. This prevents
      spurious warnings about empty title elements (<a href="https://github.com/jgm/pandoc/issues/4486">#4486</a>).</li>
      </ul></li>
      <li><p>FB2 writer (Alexander Krotov):</p>
      <ul>
      <li>Output links inline instead of producing notes. Previously all
      links were turned into footnotes with unclickable URLs
      inside.</li>
      <li>Allow emphasis and notes in titles.</li>
      <li>Don’t intersperse paragraph with empty lines.</li>
      <li>Convert metadata value <span><code>abstract</code></span> to book
      annotation.</li>
      <li>Use <span><code>&lt;empty-line /&gt;</code></span> for <span><code>HorizontalRule</code></span> rather than
      <span><code>LineBreak</code></span>. FB2 does not
      have a way to represent line breaks inside paragraphs; previously
      we used <span><code>&lt;empty-line /&gt;</code></span> elements,
      but these are not allowed inside paragraphs.</li>
      </ul></li>
      <li><p>Powerpoint writer (Jesse Rosenthal):</p>
      <ul>
      <li>Handle Quoted Inlines (<a href="https://github.com/jgm/pandoc/issues/4532">#4532</a>).</li>
      <li>Simplify code with <span><code>ParseXml</code></span>.</li>
      <li>Allow fallback options when looking for placeholder type.</li>
      <li>Check reference-doc for all layouts.</li>
      <li>Simplify speaker notes logic.</li>
      <li>Change notes state to a simpler per-slide value.</li>
      <li>Remove <span><code>Maybe</code></span> from
      <span><code>SpeakerNotes</code></span> in <span><code>Slide</code></span>. <span><code>mempty</code></span> means no speaker
      notes.</li>
      <li>Add tests for improved speaker notes.</li>
      <li>Handle speaker notes earlier in the conversion process.</li>
      <li>Keep notes with related blocks (<a href="https://github.com/jgm/pandoc/issues/4477">#4477</a>). Some
      blocks automatically split slides (imgs, tables, <span><code>column</code></span> divs). We assume that
      any speaker notes immediately following these are connected to
      these elements, and keep them with the related blocks, splitting
      after them.</li>
      <li>Remove <span><code>docProps/thumbnail.jpeg</code></span> in data
      dir (Jesse Rosenthal, <a href="https://github.com/jgm/pandoc/issues/4588">#4588</a>). It
      contained a nonfree ICC color calibration profile and is not
      needed for production of a powerpoint document.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Include a blank line at the end of the row in a single-row
      multiline table, to prevent it from being interpreted as a simple
      table (<a href="https://github.com/jgm/pandoc/issues/4578">#4578</a>).</li>
      </ul></li>
      <li><p>CommonMark writer:</p>
      <ul>
      <li>Correctly ignore LaTeX raw blocks when <span><code>raw_tex</code></span> is not enabled (<a href="https://github.com/jgm/pandoc/issues/4527">#4527</a>,
      quasicomputational).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Add <span><code>epub:type=&#34;footnotes&#34;</code></span> to notes
      section in EPUB3 (<a href="https://github.com/jgm/pandoc/issues/4489">#4489</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>In beamer, don’t use format specifier for default ordered
      lists (<a href="https://github.com/jgm/pandoc/issues/4556">#4556</a>). This
      gives better results for styles that put ordered list markers in
      boxes or circles.</li>
      <li>Update <span><code>\lstinline</code></span>
      delimiters (<a href="https://github.com/jgm/pandoc/issues/4369">#4369</a>, Tim
      Parenti).</li>
      </ul></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Use <span><code>\f[R]</code></span> rather than
      <span><code>\f[]</code></span> to reset font (<a href="https://github.com/jgm/pandoc/issues/4552">#4552</a>).</li>
      <li>Use <span><code>\f[BI]</code></span> and <span><code>\f[CB]</code></span> in headers, instead of
      <span><code>\f[I]</code></span> and <span><code>\f[C]</code></span>, since the header font is
      automatically bold (<a href="https://github.com/jgm/pandoc/issues/4552">#4552</a>).</li>
      <li>Use <span><code>\f[CB]</code></span> rather
      than <span><code>\f[BC]</code></span> for monospace
      bold (<a href="https://github.com/jgm/pandoc/issues/4552">#4552</a>).</li>
      <li>Create pdf anchor for a Div with an identifier (<a href="https://github.com/jgm/pandoc/issues/4515">#4515</a>).</li>
      <li>Escape <span><code>/</code></span> character in
      anchor ids (<a href="https://github.com/jgm/pandoc/issues/4515">#4515</a>).</li>
      <li>Improve escaping for anchor ids: we now use <em>uNNN</em>
      instead of uNNN to avoid ambiguity.</li>
      </ul></li>
      <li><p>Man writer:</p>
      <ul>
      <li>Don’t escape U+2019 as <span><code>&#39;</code></span> (<a href="https://github.com/jgm/pandoc/issues/4550">#4550</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.Options:</p>
      <ul>
      <li>Removed <span><code>JsMath</code></span>, <span><code>LaTeXMathML</code></span>, and <span><code>GladTeX</code></span> constructors from <span><code>Text.Pandoc.Options.HTMLMathMethod</code></span>
      [API change].</li>
      </ul></li>
      <li><p>Text.Pandoc.Class:</p>
      <ul>
      <li><span><code>writeMedia</code></span>: unescape
      URI-escaping in file path. This avoids writing things like <span><code>file%20one.png</code></span> to the file
      system.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li>Fix <span><code>romanNumeral</code></span>
      parser (<a href="https://github.com/jgm/pandoc/issues/4480">#4480</a>). We
      previously accepted ‘DDC’ as 1100.</li>
      <li><span><code>uri</code></span>: don’t treat
      <span><code>*</code></span> characters at end as
      part of URI (<a href="https://github.com/jgm/pandoc/issues/4561">#4561</a>).</li>
      </ul></li>
      <li><p>Text.Pandoc.MIME:</p>
      <ul>
      <li>Use the alias <span><code>application/eps</code></span> for EPS (<a href="https://github.com/jgm/pandoc/issues/2067">#2067</a>). This
      will ensure that we retain the eps extension after reading the
      image into a mediabag and writing it again.</li>
      </ul></li>
      <li><p>Text.Pandoc.PDF:</p>
      <ul>
      <li>Use <span><code>withTempDir</code></span> in
      <span><code>html2pdf</code></span>.</li>
      <li>With <span><code>xelatex</code></span>, don’t
      compress images til the last run (<a href="https://github.com/jgm/pandoc/issues/4484">#4484</a>). This
      saves time for image-heavy documents.</li>
      <li>Don’t try to convert EPS files (<a href="https://github.com/jgm/pandoc/issues/2067">#2067</a>). <span><code>pdflatex</code></span> converts them itself,
      and JuicyPixels can’t do it.</li>
      <li>For <span><code>pdflatex</code></span>, use a
      temp directory in the working directory. Otherwise we can have
      problems with the EPS conversion pdflatex tries to do, which can’t
      operate on a file above the working directory without <span><code>--shell-escape</code></span>.</li>
      </ul></li>
      <li><p>Changes to tests to accommodate changes in pandoc-types. In
      <a href="https://github.com/jgm/pandoc-types/pull/36">https://github.com/jgm/pandoc-types/pull/36</a> we
      changed the table builder to pad cells. This commit changes tests
      (and two readers) to accord with this behavior.</p></li>
      <li><p>Set default extensions for <span><code>beamer</code></span> same as <span><code>latex</code></span>.</p></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Add <span><code>beameroption</code></span>
      variable (<a href="https://github.com/jgm/pandoc/issues/4359">#4359</a>,
      Étienne Bersac).</li>
      <li>Use <span><code>pgfpages</code></span> package;
      this is needed for notes on second screen in beamer (Étienne
      Bersac).</li>
      <li>Add <span><code>background-image</code></span>
      variable (<a href="https://github.com/jgm/pandoc/issues/4601">#4601</a>, John
      Muccigrosso).</li>
      </ul></li>
      <li><p>reveal.js template: Add <span><code>background-image</code></span> variable (<a href="https://github.com/jgm/pandoc/issues/4600">#4600</a>, John
      Muccigrosso).</p></li>
      <li><p>ms template: Fix date. Previously <span><code>.ND</code></span> was used, but this only
      works if you have a title page, which we don’t. Thanks to <span data-cites="teoric">@teoric</span>.</p></li>
      <li><p>Removed pragmas for unused extensions (<a href="https://github.com/jgm/pandoc/issues/4506">#4506</a>,
      Anabra).</p></li>
      <li><p>Fix bash completion for <span><code>--print-default-data-file</code></span> (<a href="https://github.com/jgm/pandoc/issues/4549">#4549</a>).
      Previously this looked in the filesystem, even if pandoc was
      compiled with <span><code>embed_data_files</code></span> (and sometimes
      it looked in a nonexistent build directory). Now the bash
      completion script just includes a hard-coded list of data file
      names.</p></li>
      <li><p>MANUAL:</p>
      <ul>
      <li>Clarify template vs metadata variables (<a href="https://github.com/jgm/pandoc/issues/4501">#4501</a>, Mauro
      Bieg).</li>
      <li>Fix raw content example (<a href="https://github.com/jgm/pandoc/issues/4479">#4479</a>, Mauro
      Bieg).</li>
      <li>Specify that you use html for raw output in epub.</li>
      <li>Add examples for raw docx blocks (<a href="https://github.com/jgm/pandoc/issues/4472">#4472</a>,
      Tristan Stenner). The documentation states that the target format
      name should match the output format, which isn’t the case for
      <span><code>docx</code></span>/<span><code>openxml</code></span> and some others.</li>
      <li>Don’t say that <span><code>empty_paragraphs</code></span> affects
      markdown output (<a href="https://github.com/jgm/pandoc/issues/4540">#4540</a>).</li>
      <li>Consolidate input/output format documentation (<a href="https://github.com/jgm/pandoc/issues/4577">#4577</a>, Mauro
      Bieg).</li>
      </ul></li>
      <li><p>New README template. Take in/out formats from
      manual.</p></li>
      <li><p>Fix example in lua-filters docs (<a href="https://github.com/jgm/pandoc/issues/4459">#4459</a>,
      HeirOfNorton).</p></li>
      <li><p>Use the <span><code>-threaded</code></span>
      GHC flag when building benchmarks (<a href="https://github.com/jgm/pandoc/issues/4587">#4587</a>,
      Francesco Occhipinti).</p></li>
      <li><p>Bump temporary upper bound to 1.4.</p></li>
      <li><p>Use pandoc-citeproc 0.14.3.1.</p></li>
      <li><p>Use texmath-0.10.1.2 (fixes escapes in math in ms, <a href="https://github.com/jgm/pandoc/issues/4597">#4597</a>).</p></li>
      <li><p>Removed old lib directory. This was used for something long
      ago, but plays no role now.</p></li>
      <li><p>Removed unneeded data file <span><code>LaTeXMathML.js</code></span>.</p></li>
      <li><p>Create 64- and 32-bit versions of Windows binary
      packages.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.1.3-2018-03-18">
      <h2><a href="#pandoc-2.1.3-2018-03-18" aria-hidden="true"></a>pandoc 2.1.3 (2018-03-18)</h2>
      <ul>
      <li><p>Docx reader (Jesse Rosenthal):</p>
      <ul>
      <li>Add tests for nested smart tags.</li>
      <li>Parse nested smart tags.</li>
      <li>Make unwrapSDT into a general <span><code>unwrap</code></span> function that can unwrap
      both nested SDT tags and smartTags. This makes the SmartTags
      constructor in the Docx type unnecessary, so we remove it (<a href="https://github.com/jgm/pandoc/issues/4446">#4446</a>).</li>
      <li>Remove unused <span><code>docxWarnings</code></span> (Alexander
      Krotov).</li>
      </ul></li>
      <li><p>RST reader: Allow unicode bullet characters (<a href="https://github.com/jgm/pandoc/issues/4454">#4454</a>).</p></li>
      <li><p>Haddock reader: Better table handling, using
      haddock-library’s new table support, if compiled against a version
      that includes it. Note that tables with col/rowspans will not
      translate well into Pandoc.</p></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Various internal improvements.</li>
      <li>Require closing tag to have the same indentation as
      opening.</li>
      <li>Do not reparse blocks inside unclosed block tag (<a href="https://github.com/jgm/pandoc/issues/4425">#4425</a>).</li>
      <li>Parse <span><code>&lt;class&gt;</code></span>
      tag (supported by Emacs Muse).</li>
      <li>Do not produce empty Str element for unindented verse
      lines.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Add support to parse unit string of <span><code>\SI</code></span> command (closes <a href="https://github.com/jgm/pandoc/issues/4296">#4296</a>, Marc
      Schreiber).</li>
      </ul></li>
      <li><p>Haddock writer: In the writer, we now render tables always
      as grid tables, since Haddock supports these.</p></li>
      <li><p>DokuWiki writer: rewrite backSlashLineBreaks (<a href="https://github.com/jgm/pandoc/issues/4445">#4445</a>, Mauro
      Bieg).</p></li>
      <li><p>Docx writer: Fixed formatting of <span><code>DefaultStyle</code></span> ordered lists in
      docx writer. We want decimal for the top level, not lower
      roman.</p></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Strip whitespace at beginning and ending of inline containers
      (<a href="https://github.com/jgm/pandoc/issues/4327">#4327</a>,
      Francesco Occhipinti).</li>
      <li>Filter out empty inline containers (<a href="https://github.com/jgm/pandoc/issues/4434">#4434</a>). There
      is nothing in RST that corresponds to e.g. <span><code>Emph []</code></span>, so we just ignore
      elements like this (Francesco Occhipinti).</li>
      </ul></li>
      <li><p>Muse writer (Alexander Krotov):</p>
      <ul>
      <li>Support spans with anchors.</li>
      <li>Replace smallcaps with emphasis before normalization.</li>
      <li>Output smallcaps as emphasis.</li>
      <li>Expand Cite before list normalization.</li>
      <li>Write empty inline lists as <span><code>&lt;verbatim&gt;&lt;/verbatim&gt;</code></span>.</li>
      <li>Remove empty Str from the beginning of inline lists during
      normalization.</li>
      <li>Escape “-” to avoid creating bullet lists.</li>
      <li>Fix math expansion for more than one expression per
      paragraph.</li>
      <li>Expand math before inline list normalization.</li>
      </ul></li>
      <li><p>Dokuwiki writer: fix LineBreaks in Tables (<a href="https://github.com/jgm/pandoc/issues/4313">#4313</a>, Mauro
      Bieg).</p></li>
      <li><p>Ms writer:</p>
      <ul>
      <li>Asciify pdf anchors, since unicode anchors don’t work (<a href="https://github.com/jgm/pandoc/issues/4436">#4436</a>).
      Internal links should be converted automatically, so this
      shouldn’t affect users directly.</li>
      <li>Don’t escape hyphens as <span><code>\-</code></span>; that’s for a minus sign (<a href="https://github.com/jgm/pandoc/issues/4467">#4467</a>).</li>
      </ul></li>
      <li><p>Beamer writer: put hyperlink after <span><code>\begin{frame}</code></span> and not in the
      title (<a href="https://github.com/jgm/pandoc/issues/4307">#4307</a>). If
      it’s in the title, then we get a titlebar on slides with the <span><code>plain</code></span> attribute, when the id is
      non-null. This fixes a regression in 2.0.</p></li>
      <li><p>EPUB writer: Remove notes from TOC in nav.xhtml (<a href="https://github.com/jgm/pandoc/issues/4453">#4453</a>, Mauro
      Bieg).</p></li>
      <li><p>JATS writer: Remove extraneous, significant whitespace (<a href="https://github.com/jgm/pandoc/issues/4335">#4335</a>, Nokome
      Bentley).</p></li>
      <li><p>html2pdf: inject base tag with current working directory
      (<a href="https://github.com/jgm/pandoc/issues/4413">#4413</a>,
      Mauro Bieg). This helps ensure that linked resources are
      included.</p></li>
      <li><p>Add Semigroup instances for everything for which we defined
      a Monoid instance previously (API change):</p>
      <ul>
      <li>Text.Pandoc.Class.FileTree.</li>
      <li>Text.Pandoc.Translations.Translations.</li>
      <li>Text.Pandoc.Extensions.Extensions.</li>
      <li>Text.Pandoc.Readers.Odt.StyleReader.Styles.</li>
      <li>Text.Pandoc.Pretty.Doc.</li>
      <li>Text.Pandoc.MediaBag.MediaBag.</li>
      </ul></li>
      <li><p>Add custom Prelude to give clean code for Monoid and
      Semigroup that works with ghc 7.10-8.4. The custom Prelude (<span><code>prelude/Prelude</code></span>) is used for
      ghc versions &lt; 8.4. <span><code>NoImplicitPrelude</code></span> is used in
      all source files, and Prelude is explicitly imported (this is
      necessary for ghci to work properly with the custom
      prelude).</p></li>
      <li><p>Text.Pandoc.Writers.Shared (Francesco Occhipinti):</p>
      <ul>
      <li>Export <span><code>stripLeadingTrailingSpace</code></span>.</li>
      <li>Don’t wrap lines in grid tables when <span><code>--wrap=none</code></span> (<a href="https://github.com/jgm/pandoc/issues/4320">#4320</a>).</li>
      <li><span><code>gridTable</code></span>: Don’t wrap
      lines in tables when <span><code>--wrap=none</code></span>. Instead, expand
      cells, even if it results in cells that don’t respect relative
      widths or surpass page column width. This change affects RST,
      Markdown, and Haddock writers.</li>
      </ul></li>
      <li><p>Raise error if someone tries to print docx, odt, etc.
      template (<a href="https://github.com/jgm/pandoc/issues/4441">#4441</a>).</p></li>
      <li><p>LaTeX template: Provide <span><code>bidi</code></span> package’s option using
      <span><code>\PassOptionsToPackage</code></span> (<a href="https://github.com/jgm/pandoc/issues/4357">#4357</a>, Václav
      Haisman). This avoid a clash when <span><code>polyglossia</code></span> loads it first and
      then it is loaded again for XeLaTeX.</p></li>
      <li><p>ConTeXt template: Added <span><code>pdfa</code></span> variable to generate PDF/A
      (<a href="https://github.com/jgm/pandoc/issues/4294">#4294</a>,
      Henri Menke). Instructions on how to install the ICC profiles on
      ConTeXt standalone can be found in the wiki: <a href="http://wiki.contextgarden.net/PDFX#ICC_profiles">http://wiki.contextgarden.net/PDFX#ICC_profiles</a>.
      If the ICC profiles are not available the log will contain error
      messages.</p></li>
      <li><p>Use latest pandoc-types, skylighting</p></li>
      <li><p>Use latest pandoc-citeproc in binary package.</p></li>
      <li><p>Bump upper bound for time, criterion, haddock-library,
      exceptions, http-types, aeson, haddock-library.</p></li>
      <li><p>Bump upper bound tasty-quickcheck 0.10 (<a href="https://github.com/jgm/pandoc/issues/4429">#4429</a>, Felix
      Yan).</p></li>
      <li><p>pandoc.cabal: fix up other-extensions and language fields.
      Language is now consistently <span><code>Haskell2010</code></span>, and
      other-extensions is consistently <span><code>NoImplicitPrelude</code></span>. Everything
      else to be specified in the module header as needed.</p></li>
      <li><p>Removed <span><code>old-locale</code></span>
      flag and Text.Pandoc.Compat.Time. This is no longer necessary
      since we no longer support ghc 7.8.</p></li>
      <li><p>Make <span><code>weigh-pandoc</code></span>
      into a benchmark program. Remove <span><code>weigh-pandoc</code></span> flag. <span><code>weigh-pandoc</code></span> is now built (and
      run) automatically when you build (and run) benchmarks.</p></li>
      <li><p>MANUAL: add instructions for background images reveal.js
      (<a href="https://github.com/jgm/pandoc/issues/4325">#4325</a>,
      John Muccigrosso).</p></li>
      <li><p>appveyor: use VS 2013 environment instead of VS 2015 for
      Windows builds.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.1.2-2018-03-02">
      <h2><a href="#pandoc-2.1.2-2018-03-02" aria-hidden="true"></a>pandoc 2.1.2 (2018-03-02)</h2>
      <ul>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fix parsing bug with nested fenced divs (<a href="https://github.com/jgm/pandoc/issues/4281">#4281</a>).
      Previously we allowed “nonindent spaces” before the opening and
      closing <span><code>:::</code></span>, but this
      interfered with list parsing, so now we require the fences to be
      flush with the margin of the containing block.</li>
      </ul></li>
      <li><p>Commonmark reader:</p>
      <ul>
      <li><span><code>raw_html</code></span> is now on by
      default. It can be disabled explicitly using <span><code>-f commonmark-raw_html</code></span>.</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li><p>Move citation tests to separate module.</p></li>
      <li><p>Allow changing emphasis syntax (<a href="https://github.com/jgm/pandoc/issues/4378">#4378</a>). The
      characters allowed before and after emphasis can be configured via
      <span><code>#+pandoc-emphasis-pre</code></span> and
      <span><code>#+pandoc-emphasis-post</code></span>,
      respectively. This allows to change which strings are recognized
      as emphasized text on a per-document or even per-paragraph basis.
      Example:</p>
      <pre><code>#+pandoc-emphasis-pre: &#34;-\t (&#39;\&#34;{&#34;
#+pandoc-emphasis-post: &#34;-\t\n .,:!?;&#39;\&#34;)}[&#34;</code></pre></li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Fixed comments inside citations (<a href="https://github.com/jgm/pandoc/issues/4374">#4374</a>).</li>
      <li>Fix regression in package options including underscore (<a href="https://github.com/jgm/pandoc/issues/4424">#4424</a>).</li>
      <li>Make <span><code>--trace</code></span>
      work.</li>
      <li>Fixed parsing of <span><code>tabular*</code></span> environment (<a href="https://github.com/jgm/pandoc/issues/4279">#4279</a>).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Fix regression in parsing of headers with trailing space (<a href="https://github.com/jgm/pandoc/issues/4280">#4280</a>).</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Enable <span><code>&lt;literal&gt;</code></span> tags even if
      amuse extension is enabled. Amusewiki disables <literal> tags for
      security reasons. If user wants similar behavior in pandoc,
      RawBlocks and RawInlines can be removed or replaced with
      filters.</literal></li>
      <li>Remove space prefix from <span><code>&lt;literal&gt;</code></span> tag
      contents.</li>
      <li>Do not consume whitespace while looking for closing end
      tag.</li>
      <li>Convert alphabetical list markers to decimal in round-trip
      test. Alphabetical lists are an addition of Text::Amuse. They are
      not present in Emacs Muse and can be ambiguous when list starts
      with “i.”, “c.” etc.</li>
      <li>Allow <span><code>&lt;quote&gt;</code></span>
      and other tags to be indented.</li>
      <li>Allow single colon in definition list term.</li>
      <li>Fix parsing of verse in lists.</li>
      <li>Improved parsing efficiency. Avoid <span><code>parseFromString</code></span>. Lists are
      parsed in linear instead of exponential time now.</li>
      <li>Replace ParserState with MuseState.</li>
      <li>Prioritize lists with roman numerals over alphabetical lists.
      This is to make sure “i.” starts a roman numbered list, instead of
      a list with letter “i” (followed by “j”, “k”, …“).</li>
      <li>Fix directive parsing.</li>
      <li>Parse definition lists with multiple descriptions.</li>
      <li>Parse next list item before parsing more item contents.</li>
      <li>Fixed a bug: headers did not terminate lists.</li>
      <li>Move indentation parsing from <span><code>definitionListItem</code></span> to <span><code>definitionList</code></span>.</li>
      <li>Paragraph indentation does not indicate nested quote. Muse
      allows indentation to indicate quotation or alignment, but only on
      the top level, not within a <quote> or list.</quote></li>
      <li>Require that block tags are on separate lines. Text::Amuse
      already explicitly requires it anyway.</li>
      <li>Fix matching of closing inline tags.</li>
      <li>Various internal changes.</li>
      <li>Fix parsing of nested definition lists.</li>
      <li>Require only one space for nested definition list
      indentation.</li>
      <li>Do not remove trailing whitespace from <span><code>&lt;code&gt;</code></span>.</li>
      <li>Fix parsing of trailing whitespace. Newline after whitespace
      now results in softbreak instead of space.</li>
      </ul></li>
      <li><p>Docx reader (Jesse Rosenthal, except where noted):</p>
      <ul>
      <li>Handle nested sdt tags (<a href="https://github.com/jgm/pandoc/issues/4415">#4415</a>).</li>
      <li>Don’t look up dependant run styles if <span><code>+styles</code></span> is enabled.</li>
      <li>Move pandoc inline styling inside custom-style span.</li>
      <li>Read custom styles (<a href="https://github.com/jgm/pandoc/issues/1843">#1843</a>). This
      will read all paragraph and character classes as divs and spans,
      respectively. Dependent styles will still be resolved, but will be
      wrapped with appropriate style tags. It is controlled by the <span><code>+styles</code></span> extension (<span><code>-f docx+styles</code></span>). This can be
      used in conjunction with the <span><code>custom-style</code></span> feature in the
      docx writer for a pandoc-docx editing workflow. Users can convert
      from an input docx, reading the custom-styles, and then use that
      same input docx file as a reference-doc for producing an output
      docx file. Styles will be maintained across the conversion, even
      if pandoc doesn’t understand them.</li>
      <li>Small change to Fields hyperlink parser. Previously, unquoted
      string required a space at the end of the line (and consumed it).
      Now we either take a space (and don’t consume it), or end of
      input.</li>
      <li>Pick table width from the longest row or header (Francesco
      Occhipinti, <a href="https://github.com/jgm/pandoc/issues/4360">#4360</a>).</li>
      </ul></li>
      <li><p>Muse writer (Alexander Krotov):</p>
      <ul>
      <li>Change verse markup: <span><code>&gt;</code></span> instead of <span><code>&lt;verse&gt;</code></span> tag.</li>
      <li>Remove empty strings during inline normalization.</li>
      <li>Don’t indent nested definition lists.</li>
      <li>Use unicode quotes for quoted text.</li>
      <li>Write image width specified in percent in Text::Amuse
      mode.</li>
      <li>Don’t wrap displayMath into <span><code>&lt;verse&gt;</code></span>.</li>
      <li>Escape nonbreaking space (<span><code>~~</code></span>).</li>
      <li>Join code with different attributes during normalization.</li>
      <li>Indent lists inside Div.</li>
      <li>Support definitions with multiple descriptions.</li>
      </ul></li>
      <li><p>Powerpoint writer (Jesse Rosenthal):</p>
      <ul>
      <li>Use table styles This will use the default table style in the
      reference-doc file. As a result they will be easier when using in
      a template, and match the color scheme.</li>
      <li>Remove empty slides. Because of the way that slides were
      split, these could be accidentally produced by comments after
      images. When animations are added, there will be a way to add an
      empty slide with either incremental lists or pauses.</li>
      <li>Implement syntax highlighting. Note that background colors
      can’t be implemented in PowerPoint, so highlighting styles that
      require these will be incomplete.</li>
      <li>New test framework for pptx. We now compare the output of the
      Powerpoint writer with files that we know to (a) not be corrupt,
      and (b) to show the desired output behavior (details below).</li>
      <li>Add <span><code>notesMaster</code></span> to
      <span><code>presentation.xml</code></span> if
      necessary.</li>
      <li>Ignore links and (end)notes in speaker notes.</li>
      <li>Output speaker notes.</li>
      <li>Read speaker note templates conditionally. If there are
      speaker notes in the presentation, we read in the notesMasters
      templates from the reference pptx file.</li>
      <li>Fix deletion track changes (<a href="https://github.com/jgm/pandoc/issues/4303">#4303</a>, Jesse
      Rosenthal).</li>
      </ul></li>
      <li><p>Markdown writer: properly escape @ to avoid capture as
      citation (<a href="https://github.com/jgm/pandoc/issues/4366">#4366</a>).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Put hypertarget inside figure environment (<a href="https://github.com/jgm/pandoc/issues/4388">#4388</a>). This
      works around a problem with the endfloat package and makes
      pandoc’s output compatible with it.</li>
      <li>Fix image height with percentage (<a href="https://github.com/jgm/pandoc/issues/4389">#4389</a>). This
      previously caused the image to be resized to a percentage of
      textwidth, rather than textheight.</li>
      </ul></li>
      <li><p>ConTeXt writer (Henri Menke):</p>
      <ul>
      <li>New section syntax and support <span><code>--section-divs</code></span> (<a href="https://github.com/jgm/pandoc/issues/2609">#2609</a>). <span><code>\section[my-header]{My Header}</code></span>
      -&gt; <span><code>\section[title={My Header},reference={my-header}]</code></span>.
      The ConTeXt writer now supports the <span><code>--section-divs</code></span> option to write
      sections in the fenced style, with <span><code>\startsection</code></span> and <span><code>\stopsection</code></span>.</li>
      <li>xtables: correct wrong usage of caption (Henri Menke).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Fix image resizing with multiple images (<a href="https://github.com/jgm/pandoc/issues/3930">#3930</a>, Andrew
      Pritchard).</li>
      <li>Use new golden framework (Jesse Rosenthal).</li>
      <li>Make more deterministic to facilitate testing (Jesse
      Rosenthal).
      <ul>
      <li><span><code>getUniqueId</code></span> now calls
      to the state to get an incremented digit, instead of calling to
      P.uniqueHash.</li>
      <li>we always start the PRNG in mkNumbering/mkAbstractNum with the
      same seed (1848), so our randoms should be the same each
      time.</li>
      </ul></li>
      <li>Fix ids in comment writing (Jesse Rosenthal). Comments from
      <span><code>--track-changes=all</code></span> were
      producing corrupt docx, because the writer was trying to get id
      from the <span><code>(ID,_,_)</code></span> field
      of the attributes, and ignoring the “id” entry in the key-value
      pairs. We now check both.</li>
      </ul></li>
      <li><p>Ms writer: Added papersize variable.</p></li>
      <li><p>TEI writer:</p>
      <ul>
      <li>Use <span><code>height</code></span> instead of
      <span><code>depth</code></span> for images (<a href="https://github.com/jgm/pandoc/issues/4331">#4331</a>).</li>
      <li>Ensure that id prefix is always used.</li>
      <li>Don’t emit <span><code>role</code></span>
      attribute; that was a leftover from the Docbook writer.</li>
      <li>Use ‘xml:id’, not ‘id’ attribute (<a href="https://github.com/jgm/pandoc/issues/4371">#4371</a>).</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Do not output implicit heading IDs (<a href="https://github.com/jgm/pandoc/issues/4363">#4363</a>,
      Alexander Krotov). Convert to <span><code>asciidoc-auto_identifiers</code></span> for
      old behaviour.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Remove <span><code>blockToRST&#39;</code></span>
      moving its logic into <span><code>fixBlocks</code></span> (Francesco
      Occhipinti).</li>
      <li>Insert comment between lists and quotes (<a href="https://github.com/jgm/pandoc/issues/4248">#4248</a>,
      Francesco Occchipinti).</li>
      </ul></li>
      <li><p>RST template: remove definition of ‘math’ role as raw. This
      used to be needed prior to v 0.8 of docutils, but now math support
      is built-in.</p></li>
      <li><p>Slides: Use divs to set incremental/non-incremental (<a href="https://github.com/jgm/pandoc/issues/4381">#4381</a>, Jesse
      Rosenthal). The old method (list inside blockquote) still works,
      but we are encouraging the use of divs with class <span><code>incremental</code></span> or <span><code>nonincremental</code></span>.</p></li>
      <li><p>Text.Pandoc.ImageSize:</p>
      <ul>
      <li>Make image size detection for PDFs more robust (<a href="https://github.com/jgm/pandoc/issues/4322">#4322</a>).</li>
      <li>Determine image size for PDFs (<a href="https://github.com/jgm/pandoc/issues/4322">#4322</a>).</li>
      <li>EMF Image size support (<a href="https://github.com/jgm/pandoc/issues/4375">#4375</a>, Andrew
      Pritchard).</li>
      </ul></li>
      <li><p>Text.Pandoc.Extensions:</p>
      <ul>
      <li>Add <span><code>Ext_styles</code></span> (Jesse
      Rosenthal, API change). This will be used in the docx reader
      (defaulting to off) to read pargraph and character styles not
      understood by pandoc (as divs and spans, respectively).</li>
      <li>Made <span><code>Ext_raw_html</code></span>
      default for <span><code>commonmark</code></span>
      format.</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing:</p>
      <ul>
      <li>Export <span><code>manyUntil</code></span>
      (Alexander Krotov, API change).</li>
      <li>Export improved <span><code>sepBy1</code></span> (Alexander Krotov).</li>
      <li>Export list marker parsers: <span><code>upperRoman</code></span>, <span><code>lowerRoman</code></span>, <span><code>decimal</code></span>, <span><code>lowerAlpha</code></span>, <span><code>upperAlpha</code></span> (Alexander Krotov,
      API change).</li>
      </ul></li>
      <li><p>Tests/Lua: fix tests on windows (Albert
      Krewinkel).</p></li>
      <li><p>Lua: register script name in global variable (<a href="https://github.com/jgm/pandoc/issues/4393">#4393</a>). The
      name of the Lua script which is executed is made available in the
      global Lua variable <span><code>PANDOC_SCRIPT_FILE</code></span>, both for
      Lua filters and custom writers.</p></li>
      <li><p>Tests: Abstract powerpoint tests out to OOXML tests (Jesse
      Rosenthal). There is very little pptx-specific in these tests, so
      we abstract out the basic testing function so it can be used for
      docx as well. This should allow us to catch some errors in the
      docx writer that slipped by the roundtrip testing.</p></li>
      <li><p>Lua filters: store constructors in registry (Albert
      Krewinkel). Lua functions used to construct AST element values are
      stored in the Lua registry for quicker access. Getting a value
      from the registry is much faster than getting a global value
      (partly to idiosyncrasies of hslua); this change results in a
      considerable performance boost.</p></li>
      <li><p>Documentation:</p>
      <ul>
      <li><span><code>doc/org.md</code></span> Add draft
      of Org-mode documentation (Albert Krewinkel).</li>
      <li><span><code>doc/lua-filters.md</code></span>:
      document global vars set for filters (Albert Krewinkel).</li>
      <li>INSTALL.md: mention Stack version. (<a href="https://github.com/jgm/pandoc/issues/4343">#4343</a>, Adam
      Brandizzi).</li>
      <li>MANUAL: add documentation on custom styles (Jesse
      Rosenthal).</li>
      <li>MANUAL.txt: Document incremental and nonincremental divs
      (Jesse Rosenthal). Blockquoted lists are still described, but
      fenced divs are presented in preference.</li>
      <li>MANUAL.txt: document header and footer variables
      (newmana).</li>
      <li>MANUAL.txt: self-contained implies standalone (<a href="https://github.com/jgm/pandoc/issues/4304">#4304</a>, Daniel
      Lublin).</li>
      <li>CONTRIBUTING.md: label was renamed. (<a href="https://github.com/jgm/pandoc/issues/4310">#4310</a>,
      Alexander Brandizzi).</li>
      </ul></li>
      <li><p>Require tagsoup 0.14.3 (<a href="https://github.com/jgm/pandoc/issues/4282">#4282</a>),
      fixing HTML tokenization bug.</p></li>
      <li><p>Use latest texmath.</p></li>
      <li><p>Use latest pandoc-citeproc.</p></li>
      <li><p>Allow exceptions 0.9.</p></li>
      <li><p>Require aeson-pretty 0.8.5 (<a href="https://github.com/jgm/pandoc/issues/4394">#4394</a>).</p></li>
      <li><p>Bump blaze-markup, blaze-html lower bounds to 0.8, 0.9 (<a href="https://github.com/jgm/pandoc/issues/4334">#4334</a>).</p></li>
      <li><p>Update tagsoup to 0.14.6 (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/4282">#4282</a>).</p></li>
      <li><p>Removed ghc-prof-options. As of cabal 1.24, sensible
      defaults are used.</p></li>
      <li><p>Update default.nix to current nixpkgs-unstable for
      hslua-0.9.5 (<a href="https://github.com/jgm/pandoc/issues/4348">#4348</a>,
      jarlg).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.1.1-2018-01-18">
      <h2><a href="#pandoc-2.1.1-2018-01-18" aria-hidden="true"></a>pandoc 2.1.1 (2018-01-18)</h2>
      <ul>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Don’t coalesce adjacent raw LaTeX blocks if they are separated
      by a blank line. See lierdakil/pandoc-crossref<a href="https://github.com/jgm/pandoc/issues/160">#160</a>.</li>
      <li>Improved <span><code>inlinesInBalancedBrackets</code></span> (<a href="https://github.com/jgm/pandoc/issues/4272">#4272</a>,
      jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/315">#315</a>). The
      change both improves performance and fixes a regression whereby
      normal citations inside inline notes and figure captions were not
      parsed correctly.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Better handling for headers with an anchor (<a href="https://github.com/jgm/pandoc/issues/4240">#4240</a>).
      Instead of creating a Div containing the header, we put the id
      directly on the header. This way header promotion will work
      properly.</li>
      <li>Add aligned environment when needed in math (<a href="https://github.com/jgm/pandoc/issues/4254">#4254</a>). <span><code>rst2latex.py</code></span> uses an <span><code>align*</code></span> environment for math in
      <span><code>.. math::</code></span> blocks, so this
      math may contain line breaks. If it does, we put the math in an
      <span><code>aligned</code></span> environment to
      simulate <span><code>rst2latex.py</code></span>’s
      behavior.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Fix col width parsing for percentages &lt; 10% (<a href="https://github.com/jgm/pandoc/issues/4262">#4262</a>,
      n3fariox).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li><p>Advance source position at end of stream.</p></li>
      <li><p>Pass through macro defs in <span><code>rawLaTeXBlock</code></span> even if the <span><code>latex_macros</code></span> extension is set
      (<a href="https://github.com/jgm/pandoc/issues/4246">#4246</a>).
      This reverts to earlier behavior and is probably safer on the
      whole, since some macros only modify things in included packages,
      which pandoc’s macro expansion can’t modify.</p></li>
      <li><p>Fixed pos calculation in tokenizing escaped space.</p></li>
      <li><p>Allow macro definitions inside macros (<a href="https://github.com/jgm/pandoc/issues/4253">#4253</a>).
      Previously we went into an infinite loop with</p>
      <pre><code>\newcommand{\noop}[1]{#1}
\noop{\newcommand{\foo}[1]{#1}}
\foo{hi}</code></pre></li>
      <li><p>Fix inconsistent column widths (<a href="https://github.com/jgm/pandoc/issues/4238">#4238</a>). This
      fixes a bug whereby column widths for the body were different from
      widths for the header in some tables.</p></li>
      </ul></li>
      <li><p>Docx reader (Jesse Rosenthal):</p>
      <ul>
      <li>Parse hyperlinks in <span><code>instrText</code></span> tags (<a href="https://github.com/jgm/pandoc/issues/3389">#3389</a>, <a href="https://github.com/jgm/pandoc/issues/4266">#4266</a>). This
      was a form of hyperlink found in older versions of word. The
      changes introduced for this, though, create a framework for
      parsing further fields in MS Word (see the spec, ECMA-376-1:2016,
      §17.16.5, for more on these fields). We introduce a new module,
      <span><code>Text.Pandoc.Readers.Docx.Fields</code></span>
      which contains a simple parsec parser. At the moment, only simple
      hyperlink fields are accepted, but that can be extended in the
      future.</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Parse <span><code>~~</code></span> as
      non-breaking space in Text::Amuse mode.</li>
      <li>Refactor list parsing.</li>
      </ul></li>
      <li><p>Powerpoint writer (Jesse Rosenthal):</p>
      <ul>
      <li>Change reference to <span><code>notesSlide</code></span> to <span><code>endNotesSlide</code></span>.</li>
      <li>Move image sizing into <span><code>picProps</code></span>.</li>
      <li>Improve table placement.</li>
      <li>Make our own <span><code>_rels/.rels</code></span> file.</li>
      <li>Import reference-doc images properly.</li>
      <li>Move <span><code>Presentation.hs</code></span>
      out of <span><code>PandocMonad</code></span>.</li>
      <li>Refactor into separate modules. T.P.W.Powerpoint.Presentation
      defines the Presentation datatype and goes
      Pandoc-&gt;Presentation; T.P.W.Pandoc.Output goes
      Presentation-&gt;Archive. Text.Pandoc.Writers.Powerpoint a thin
      wrapper around the two modules.</li>
      <li>Avoid overlapping blocks in column output.</li>
      <li>Position images correctly in two-column layout.</li>
      <li>Make content shape retrieval environment-aware.</li>
      <li>Improve image handling. We now determine image and caption
      placement by getting the dimensions of the content box in a given
      layout. This allows for images to be correctly sized and
      positioned in a different template. Note that images without
      captions and headers are no longer full-screened. We can’t do this
      dependably in different layouts, because we don’t know where the
      header is (it could be to the side of the content, for
      example).</li>
      <li>Read presentation size from reference file. Our presentation
      size is now dependent on the reference/template file we use.</li>
      <li>Handle (sub)headers above slidelevel correctly. Above the
      slidelevel, subheaders will be printed in bold and given a bit of
      extra space before them. Note that at the moment, no distinction
      is made between levels of headers above the slide header, though
      that can be changed.</li>
      <li>Check for required files. Since we now import from
      reference/dist file by glob, we need to make sure that we’re
      getting the files we need to make a non-corrupt Powerpoint. This
      performs that check.</li>
      <li>Improve templating using <span><code>--reference-doc</code></span>. Templating
      should work much more reliably now.</li>
      <li>Include Notes slide in TOC.</li>
      <li>Set notes slide header to slide-level.</li>
      <li>Add table of contents. This is triggered by the <span><code>--toc</code></span> flag. Note that in a long
      slide deck this risks overrunning the text box. The user can
      address this by setting <span><code>--toc-depth=1</code></span>.</li>
      <li>Set notes slide number correctly.</li>
      <li>Clean up adding metadata slide. We want to count the slide
      numbers correctly if it’s in there.</li>
      <li>Add anchor links. For anchor-type links (<span><code>[foo](#bar)</code></span>) we produce an
      anchor link. In powerpoint these are links to slides, so we keep
      track of a map relating anchors to the slides they occur on.</li>
      <li>Make the slide number available to the blocks. For anchors,
      block-processing functions need to know what slide number they’re
      in. We make the <span><code>envCurSlideId</code></span> available to
      blocks.</li>
      <li>Move <span><code>curSlideId</code></span> to
      environment.</li>
      <li>Allow setting <span><code>toc-title</code></span> in metadata.</li>
      <li>Link notes to endnotes slide.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Fix cell width calculation (<a href="https://github.com/jgm/pandoc/issues/4265">#4265</a>).
      Previously we could get ever-lengthening cell widths when a table
      was run repeatedly through <span><code>pandoc -f markdown -t markdown</code></span>.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Escape <span><code>&amp;</code></span> in
      lstinline (Robert Schütz).</li>
      </ul></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Use xtables instead of Tables (<a href="https://github.com/jgm/pandoc/issues/4223">#4223</a>, Henri
      Menke). Default to xtables for context output. Natural Tables are
      used if the new <span><code>ntb</code></span>
      extension is set.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fixed footnote backlinks with <span><code>--id-prefix</code></span> (<a href="https://github.com/jgm/pandoc/issues/4235">#4235</a>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Extensions</code></span>: Added
      <span><code>Ext_ntb</code></span> constructor (API
      change, Henri Menke).</p></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>: add
      derived <span><code>Eq</code></span> instance to
      <span><code>Dimension</code></span> (Jesse
      Rosenthal, API change).</p></li>
      <li><p>Lua filters (Albert Krewinkel):</p>
      <ul>
      <li>Make <span><code>PANDOC_READER_OPTIONS</code></span>
      available. The options which were used to read the document are
      made available to Lua filters via the <span><code>PANDOC_READER_OPTIONS</code></span>
      global.</li>
      <li>Add lua module <span><code>pandoc.utils.run_json_filter</code></span>,
      which runs a JSON filter on a Pandoc document.</li>
      <li>Refactor filter-handling code into <span><code>Text.Pandoc.Filter.JSON</code></span>, <span><code>Text.Pandoc.Filter.Lua</code></span>, and
      <span><code>Text.Pandoc.Filter.Path</code></span>.</li>
      <li>Improve error messages. Provide more context about the task
      which caused an error.</li>
      </ul></li>
      <li><p>data/pandoc.lua (Albert Krewinkel):</p>
      <ul>
      <li>Accept singleton inline as a list. Every constructor which
      accepts a list of inlines now also accepts a single inline element
      for convenience.</li>
      <li>Accept single block as singleton list. Every constructor which
      accepts a list of blocks now also accepts a single block element
      for convenience. Furthermore, strings are accepted as shorthand
      for <span><code>{pandoc.Str &#34;text&#34;}</code></span>
      in constructors.</li>
      <li>Add attr, listAttributes accessors. Elements with attributes
      got an additional <span><code>attr</code></span>
      accessor. Attributes were accessible only via the <span><code>identifier</code></span>, <span><code>classes</code></span>, and <span><code>attributes</code></span>, which was in
      conflict with the documentation, which indirectly states that such
      elements have the an <span><code>attr</code></span>
      property.</li>
      <li>Drop <span><code>_VERSION</code></span>. Having
      a <span><code>_VERSION</code></span> became
      superfluous, as this module is closely tied to the pandoc version,
      which is available via <span><code>PANDOC_VERSION</code></span>.</li>
      <li>Fix access to Attr components. Accessing an Attr value (e.g.,
      <span><code>Attr().classes</code></span>) was
      broken; the more common case of accessing it via an Inline or
      Block element was unaffected by this.</li>
      </ul></li>
      <li><p>Move <span><code>metaValueToInlines</code></span> to from Docx
      writer to <span><code>Text.Pandoc.Writers.Shared</code></span>, so
      it can be used by other writers (Jesse Rosenthal).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Clarify otherlangs in LaTeX (<a href="https://github.com/jgm/pandoc/issues/4072">#4072</a>).</li>
      <li>Clarify <span><code>latex_macros</code></span>
      extension.</li>
      <li>Recommend use of <span><code>raw_attribute</code></span> extension in
      header includes (<a href="https://github.com/jgm/pandoc/issues/4253">#4253</a>).</li>
      </ul></li>
      <li><p>Allow latest QuickCheck, tasty, criterion.</p></li>
      <li><p>Remove custom prelude and ghc 7.8 support.</p></li>
      <li><p>Reduce compiler noise (exact paths for compiled
      modules).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.1-2018-01-07">
      <h2><a href="#pandoc-2.1-2018-01-07" aria-hidden="true"></a>pandoc 2.1 (2018-01-07)</h2>
      <ul>
      <li><p>Allow filters and lua filters to be interspersed (<a href="https://github.com/jgm/pandoc/issues/4196">#4196</a>).
      Previously we ran all lua filters before JSON filters. Now we run
      filters in the order they are presented on the command line,
      whether lua or JSON. There are two incompatible API changes: The
      type of <span><code>applyFilters</code></span> has
      changed, and <span><code>applyLuaFilters</code></span> has been
      removed. <span><code>Filter</code></span> is also
      now exported.</p></li>
      <li><p>Use latest skylighting and omit the <span><code>missingIncludes</code></span> check, fixing a
      major performance regression in earlier releases of the 2.x series
      (<a href="https://github.com/jgm/pandoc/issues/4226">#4226</a>).
      Behavior change: If you use a custom syntax definition that refers
      to a syntax you haven’t loaded, pandoc will now complain when it
      is highlighting the text, rather than doing a check at the start.
      This change dramatically speeds up invocations of pandoc on short
      inputs.</p></li>
      <li><p>Text.Pandoc.Class: make <span><code>FileTree</code></span> opaque (don’t export
      <span><code>FileTree</code></span> constructor).
      This forces users to interact with it using <span><code>insertInFileTree</code></span> and <span><code>getFileInfo</code></span>, which normalize
      file names.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Rewrite <span><code>inlinesInBalancedBrackets</code></span>. The
      rewrite is much more direct, avoiding <span><code>parseFromString</code></span>. And it
      performs significantly better; unfortunately, parsing time still
      increases exponentially (see <a href="https://github.com/jgm/pandoc/issues/1735">#1735</a>).</li>
      <li>Avoid parsing raw tex unless <span><code>\</code></span> + letter seen. This seems to
      help with the performance problem, <a href="https://github.com/jgm/pandoc/issues/4216">#4216</a>.</li>
      </ul></li>
      <li><p>LaTeX reader: Simplified a check for raw tex
      command.</p></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Enable round trip test (<a href="https://github.com/jgm/pandoc/issues/4107">#4107</a>).</li>
      <li>Automatically translate <span><code>#cover</code></span> into <span><code>#cover-image</code></span>. Amusewiki uses
      #cover directive to specify cover image.</li>
      </ul></li>
      <li><p>Docx reader (Jesse Rosenthal):</p>
      <ul>
      <li>Allow for insertion/deletion of paragraphs (<a href="https://github.com/jgm/pandoc/issues/3927">#3927</a>). If
      the paragraph has a deleted or inserted paragraph break (depending
      on the track-changes setting) we hold onto it until the next
      paragraph. This takes care of accept and reject. For this we
      introduce a new state which holds the ils from the previous para
      if necessary. For <span><code>--track-changes=all</code></span>, we add an
      empty span with class <span><code>paragraph-insertion</code></span>/<span><code>paragraph-deletion</code></span> at the end
      of the paragraph prior to the break to be inserted or
      deleted.</li>
      <li>Remove unused anchors (<a href="https://github.com/jgm/pandoc/issues/3679">#3679</a>). Docx
      produces a lot of anchors with nothing pointing to them—we now
      remove these to produce cleaner output. Note that this has to
      occur at the end of the process because it has to follow
      link/anchor rewriting.</li>
      <li>Read multiple children of <span><code>w:sdtContents</code></span>.</li>
      <li>Combine adjacent anchors. There isn’t any reason to have
      numerous anchors in the same place, since we can’t maintain docx’s
      non-nesting overlapping. So we reduce to a single anchor.</li>
      <li>Improved tests.</li>
      </ul></li>
      <li><p>Muse writer (Alexander Krotov): don’t escape URIs from
      AST</p></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Removed redundant subtitle in title (Sebastian Talmon).</li>
      <li><span><code>firstRow</code></span> table
      definition compatibility for Word 2016 (Sebastian Talmon). Word
      2016 seems to use a default value of “1” for table headers, if
      there is no firstRow definition (although a default value of 0 is
      documented), so all tables get the first Row formatted as header.
      Setting the parameter to 0 if the table has no header row fixes
      this for Word 2016</li>
      <li>Fix custom styles with spaces in the name (<a href="https://github.com/jgm/pandoc/issues/3290">#3290</a>).</li>
      </ul></li>
      <li><p>Powerpoint writer (Jesse Rosenthal):</p>
      <ul>
      <li>Ignore Notes div for parity with other slide outputs.</li>
      <li>Set default slidelevel correctly. We had previously defaulted
      to slideLevel 2. Now we use the correct behavior of defaulting to
      the highest level header followed by content. We change an
      expected test result to match this behavior.</li>
      <li>Split blocks correctly for linked images.</li>
      <li>Combine adjacent runs.</li>
      <li>Make inline code inherit code size. Previously (a) the code
      size wasn’t set when we force size, and (b) the properties was set
      from the default, instead of inheriting.</li>
      <li>Simplify <span><code>replaceNamedChildren</code></span>
      function.</li>
      <li>Allow linked images. The following markdown: <span><code>[![Image Title](image.jpg)](http://www.example.com)</code></span>
      will now produce a linked image in the resulting PowerPoint
      file.</li>
      <li>Fix error with empty table cell. We require an empty <span><code>&lt;a:p&gt;</code></span> tag, even if the
      cell contains no paragraphs—otherwise PowerPoint complains of
      corruption.</li>
      <li>Implement two-column slides. This uses the columns/column div
      format described in the pandoc manual. At the moment, only two
      columns (half the screen each) are allowed. Custom widths are not
      supported.</li>
      <li>Added more tests.</li>
      </ul></li>
      <li><p>OpenDocument/ODT writers: improved rendering of formulas
      (<a href="https://github.com/jgm/pandoc/issues/4170">#4170</a>,
      oltolm).</p></li>
      <li><p>Lua filters (Albert Krewinkel):</p>
      <ul>
      <li><p><span><code>data/pandoc.lua</code></span>:
      drop ‘pandoc-api-version’ from Pandoc objects</p></li>
      <li><p>The current pandoc-types version is made available to Lua
      programs in the global <span><code>PANDOC_API_VERSION</code></span>. It contains
      the version as a list of numbers.</p></li>
      <li><p>The pandoc version available as a global <span><code>PANDOC_VERSION</code></span> (a list of
      numbers).</p></li>
      <li><p><span><code>data/pandoc.lua</code></span>:
      make <span><code>Attr</code></span> an <span><code>AstElement</code></span>.</p></li>
      <li><p><span><code>data/pandoc.lua</code></span>:
      make all types subtypes of <span><code>AstElement</code></span>. <span><code>Pandoc</code></span>, <span><code>Meta</code></span>, and <span><code>Citation</code></span> were just plain
      functions and did not set a metatable on the returned value, which
      made it difficult to amend objects of these types with new
      behavior. They are now subtypes of AstElement, meaning that all
      their objects can gain new features when a method is added to the
      behavior object (e.g., <span><code>pandoc.Pandoc.behavior</code></span>).</p></li>
      <li><p><span><code>data/pandoc.lua</code></span>:
      split type and behavior tables. Clearly distinguish between a type
      and the behavioral properties of an instance of that type. The
      behavior of a type (and all its subtypes) can now be amended by
      adding methods to that types <span><code>behavior</code></span> object, without
      exposing the type objects internals. E.g.:</p>
      <div id="cb39"><pre><code><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span>pandoc</span><span>.</span><span>I</span><span>nline</span><span>.</span><span>behavior</span><span>.</span><span>frob</span> <span>=</span> <span>function</span> <span>()</span> <span>print</span><span>&#39;42&#39;</span> <span>end</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span>local</span> <span>str</span> <span>=</span> <span>pandoc</span><span>.</span>Str<span>&#39;hello&#39;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span>str</span><span>.</span>frob<span>()</span> <span>-- outputs &#39;42&#39;</span></span></code></pre></div></li>
      <li><p><span><code>data/pandoc.lua</code></span>:
      fix Element inheritance. Extending all elements of a given type
      (e.g., all inline elements) was difficult, as the table used to
      lookup unknown methods would be reset every time a new element of
      that type was created, preventing recursive property lookup. This
      is was changed in that all methods and attributes of supertypes
      are now available to their subtypes.</p></li>
      <li><p><span><code>data/pandoc.lua</code></span>:
      fix attribute names of Citation (<a href="https://github.com/jgm/pandoc/issues/4222">#4222</a>). The
      fields were named like the Haskell fields, not like the
      documented, shorter version. The names are changed to match the
      documentation and Citations are given a shared metatable to enable
      simple extensibility.</p></li>
      <li><p><span><code>data/pandoc.lua</code></span>:
      drop function <span><code>pandoc.global_filter</code></span>.</p></li>
      <li><p>Bump <span><code>hslua</code></span> version
      to 0.9.5. This version fixes a bug that made it difficult to
      handle failures while getting lists or a Map from Lua. A bug in
      pandoc, which made it necessary to always pass a tag when using
      MetaList or MetaBlock, is fixed as a result. Using the pandoc
      module’s constructor functions for these values is now optional
      (if still recommended).</p></li>
      <li><p>Stop exporting <span><code>pushPandocModule</code></span> (API change).
      The introduction of <span><code>runPandocLua</code></span> renders direct use
      of this function obsolete.</p></li>
      <li><p>Update generation of module docs for lua filters.</p></li>
      <li><p><span><code>Lua.Module.Utils</code></span>:
      make stringify work on <span><code>MetaValues</code></span> (John MacFarlane).
      I’m sure this was intended in the first place, but currently only
      <span><code>Meta</code></span> is
      supported.</p></li>
      </ul></li>
      <li><p>Improve benchmarks.</p>
      <ul>
      <li>Set the default extensions properly.</li>
      <li>Improve benchmark argument parsing. You can now say <span><code>make bench BENCHARGS=&#34;markdown latex reader&#34;</code></span>
      and both the markdown and latex readers will be benchmarked.</li>
      </ul></li>
      <li><p>MANUAL.txt simplify and add more structure (Mauro
      Bieg).</p></li>
      <li><p>Generate README.md from template and MANUAL.txt. <span><code>make README.md</code></span> will generate
      the README.md after changes to MANUAL.txt have been made.</p></li>
      <li><p>Update copyright notices to include 2018 (Albert
      Krewinkel).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0.6-2017-12-28">
      <h2><a href="#pandoc-2.0.6-2017-12-28" aria-hidden="true"></a>pandoc 2.0.6 (2017-12-28)</h2>
      <ul>
      <li><p>Added <span><code>jats</code></span> as an
      input format.</p>
      <ul>
      <li>Add Text.Pandoc.Readers.JATS, exporting <span><code>readJATS</code></span> (API change) (Hamish
      Mackenzie).</li>
      <li>Improved citation handling in JATS reader. JATS citations are
      now converted to pandoc citations, and JATS ref-lists are
      converted into a <span><code>references</code></span> field in metadata,
      suitable for use with pandoc-citeproc. Thus a JATS article with
      embedded bibliographic information can be processed with pandoc
      and pandoc-citeproc to produce a formatted bibliography.</li>
      </ul></li>
      <li><p>Allow <span><code>--list-extensions</code></span> to take an
      optional FORMAT argument. This lists the extensions set by default
      for the selected FORMAT. The extensions are now alphabetized, and
      the <span><code>+</code></span> or <span><code>-</code></span> indicating the default
      setting comes before, rather than after, the extension.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Preserve original whitespace between blocks.</li>
      <li>Recognize <span><code>\placeformula</code></span> as context.</li>
      <li>Be pickier about table captions. A caption starts with a <span><code>:</code></span> which can’t be followed by
      punctuation. Otherwise we can falsely interpret the start of a
      fenced div, or even a table header line like <span><code>:--:|:--:</code></span>, as a caption.</li>
      <li>Always use four space rule for example lists. It would be
      awkward to indent example list contents to the first non-space
      character after the label, since example list labels are often
      long. Thanks to Bernhard Fisseni for the suggestion.</li>
      <li>Improve raw tex parsing. Note that the Markdown reader is also
      affected by the <span><code>latex_macros</code></span> extension changes
      described below under the LaTeX reader.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li><span><code>latex_macros</code></span>
      extension changes (<a href="https://github.com/jgm/pandoc/issues/4179">#4179</a>). Don’t
      pass through macro definitions themselves when <span><code>latex_macros</code></span> is set. The macros
      have already been applied. If <span><code>latex_macros</code></span> is enabled, then
      <span><code>rawLaTeXBlock</code></span> in
      Text.Pandoc.Readers.LaTeX will succeed in parsing a macro
      definition, and will update pandoc’s internal macro map
      accordingly, but the empty string will be returned.</li>
      <li>Export <span><code>tokenize</code></span>,
      <span><code>untokenize</code></span> (API
      change).</li>
      <li>Use <span><code>applyMacros</code></span> in
      <span><code>rawLaTeXBlock</code></span>, <span><code>rawLaTeXInline</code></span>.</li>
      <li>Refactored <span><code>inlineCommand</code></span>.</li>
      <li>Fix bug in tokenizer. Material following <span><code>^^</code></span> was dropped if it wasn’t a
      character escape. This only affected invalid LaTeX, so we didn’t
      see it in the wild, but it appeared in a QuickCheck test
      failure.</li>
      <li>Fix regression in LateX tokenization (<a href="https://github.com/jgm/pandoc/issues/4159">#4159</a>). This
      mainly affects the Markdown reader when parsing raw LaTeX with
      escaped spaces.</li>
      <li>Add tests of LaTeX tokenizer.</li>
      <li>Support <span><code>\foreignlanguage</code></span> from
      babel.</li>
      <li>Be more tolerant of <span><code>&amp;</code></span> character (<a href="https://github.com/jgm/pandoc/issues/4208">#4208</a>). This
      allows us to parse unknown tabular environments as raw LaTeX.</li>
      </ul></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Parse anchors immediately after headings as IDs.</li>
      <li>Require that note references does not start with 0.</li>
      <li>Parse empty comments correctly.</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Fix asterisks-related parsing error (<a href="https://github.com/jgm/pandoc/issues/4180">#4180</a>).</li>
      <li>Support minlevel option for includes (<a href="https://github.com/jgm/pandoc/issues/4154">#4154</a>). The
      level of headers in included files can be shifted to a higher
      level by specifying a minimum header level via the <span><code>:minlevel</code></span> parameter. E.g. <span><code>#+include: &#34;tour.org&#34; :minlevel 1</code></span>
      will shift the headers in tour.org such that the topmost headers
      become level 1 headers.</li>
      <li>Break-up org reader test file into multiple modules.</li>
      </ul></li>
      <li><p>OPML reader:</p>
      <ul>
      <li>Enable raw HTML and other extensions by default for notes (<a href="https://github.com/jgm/pandoc/issues/4164">#4164</a>). This
      fixes a regression in 2.0. Note that extensions can now be
      individually disabled, e.g. <span><code>-f opml-smart-raw_html</code></span>.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Allow empty list items (<a href="https://github.com/jgm/pandoc/issues/4193">#4193</a>).</li>
      <li>More accurate parsing of references (<a href="https://github.com/jgm/pandoc/issues/4156">#4156</a>).
      Previously we erroneously included the enclosing backticks in a
      reference ID (<a href="https://github.com/jgm/pandoc/issues/4156">#4156</a>). This
      change also disables interpretation of syntax inside references,
      as in docutils. So, there is no emphasis in <span><code>`my *link*`_</code></span>.</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Continue lists after interruption (<a href="https://github.com/jgm/pandoc/issues/4025">#4025</a>, Jesse
      Rosenthal). Docx expects that lists will continue where they left
      off after an interruption and introduces a new id if a list is
      starting again. So we keep track of the state of lists and use
      them to define a “start” attribute, if necessary.</li>
      <li>Add tests for structured document tags unwrapping (Jesse
      Rosenthal).</li>
      <li>Preprocess Document body to unwrap <span><code>w:sdt</code></span> elements (Jesse
      Rosenthal, <a href="https://github.com/jgm/pandoc/issues/4190">#4190</a>).</li>
      </ul></li>
      <li><p>Plain writer:</p>
      <ul>
      <li>Don’t linkify table of contents.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Fix anchors for headers (<a href="https://github.com/jgm/pandoc/issues/4188">#4188</a>). We
      were missing an <span><code>_</code></span>.</li>
      </ul></li>
      <li><p>PowerPoint writer (Jesse Rosenthal):</p>
      <ul>
      <li>Treat lists inside BlockQuotes as lists. We don’t yet produce
      incremental lists in PowerPoint, but we should at least treat
      lists inside BlockQuotes as lists, for compatibility with other
      slide formats.</li>
      <li>Add ability to force size. This replaces the more specific
      <span><code>blockQuote runProp</code></span>, which
      only affected the size of blockquotes. We can use this for notes,
      etc.</li>
      <li>Implement notes. This currently prints all notes on a final
      slide. Note that at the moment, there is a danger of text
      overflowing the note slide, since there is no logic for adding
      further slides.</li>
      <li>Implement basic definition list functionality to PowerPoint
      writer.</li>
      <li>Don’t look for default template file for Powerpoint (<a href="https://github.com/jgm/pandoc/issues/4181">#4181</a>).</li>
      <li>Add pptx to isTextFormat list. This is used to check
      standalone and not writing to the terminal.</li>
      <li>Obey slide level option (Jesse Rosenthal).</li>
      <li>Introduce tests.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Ensure that <span><code>distArchive</code></span> is the one that
      comes with pandoc (<a href="https://github.com/jgm/pandoc/issues/4182">#4182</a>).
      Previously a <span><code>reference.docx</code></span> in <span><code>~/.pandoc</code></span> (or the user data
      dir) would be used instead, and this could cause problems because
      a user-modified docx sometimes lacks vital sections that we count
      on the <span><code>distArchive</code></span> to
      supply.</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Do not wrap “-” to avoid accidental bullet lists (Alexander
      Krotov).</li>
      <li>Don’t allow fn refs to wrap to beginning of line (<a href="https://github.com/jgm/pandoc/issues/4171">#4171</a>, with
      help from Alexander Krotov). Otherwise they can be interpreted as
      footnote definitions.</li>
      </ul></li>
      <li><p>Muse writer (Alexander Krotov):</p>
      <ul>
      <li>Don’t wrap note references to the next line (<a href="https://github.com/jgm/pandoc/issues/4172">#4172</a>).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Use br elements in line blocks instead of relying on CSS (<a href="https://github.com/jgm/pandoc/issues/4162">#4162</a>).
      HTML-based templates have had the custom CSS for <span><code>div.line-block</code></span> removed. Those
      maintaining custom templates will want to remove this too. We
      still enclose line blocks in a div with class <span><code>line-block</code></span>.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use <span><code>\renewcommand</code></span> for
      <span><code>\textlatin</code></span> with babel (<a href="https://github.com/jgm/pandoc/issues/4161">#4161</a>). This
      avoids a clash with a deprecated <span><code>\textlatin</code></span> command defined in
      Babel.</li>
      <li>Allow fragile=singleslide attribute in beamer slides (<a href="https://github.com/jgm/pandoc/issues/4169">#4169</a>).</li>
      <li>Use <span><code>\endhead</code></span> after
      <span><code>\toprule</code></span> in headerless
      tables (<a href="https://github.com/jgm/pandoc/issues/4207">#4207</a>).</li>
      </ul></li>
      <li><p>FB2 writer:</p>
      <ul>
      <li>Add cover image specified by <span><code>cover-image</code></span> meta (Alexander
      Krotov, <a href="https://github.com/jgm/pandoc/issues/4195">#4195</a>).</li>
      </ul></li>
      <li><p>JATS writer (Hamish Mackenzie):</p>
      <ul>
      <li>Support writing <span><code>&lt;fig&gt;</code></span> and <span><code>&lt;table-wrap&gt;</code></span> elements
      with <span><code>&lt;title&gt;</code></span> and
      <span><code>&lt;caption&gt;</code></span> inside
      them by using Divs with class set to one of <span><code>fig</code></span>, <span><code>table-wrap</code></span> or <span><code>caption</code></span> (Hamish Mackenzie). The
      title is included as a Heading so the constraint on where Heading
      can occur is also relaxed.</li>
      <li>Leave out empty alt attributes on links.</li>
      <li>Deduplicate image mime type code.</li>
      <li>Make <span><code>&lt;p&gt;</code></span>
      optional in <span><code>&lt;td&gt;</code></span>
      and <span><code>&lt;th&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/4178">#4178</a>).</li>
      <li>Self closing tags for empty xref (<a href="https://github.com/jgm/pandoc/issues/4187">#4187</a>).</li>
      <li>Improve support for code language.</li>
      </ul></li>
      <li><p>Custom writer:</p>
      <ul>
      <li>Use init file to setup Lua interpreter (Albert Krewinkel). The
      same init file (<span><code>data/init</code></span>) that is used to
      setup the Lua interpreter for Lua filters is also used to setup
      the interpreter of custom writers.lua.</li>
      <li>Define instances for newtype wrapper (Albert Krewinkel). The
      custom writer used its own <span><code>ToLuaStack</code></span> instance
      definitions, which made it difficult to share code with Lua
      filters, as this could result in conflicting instances. A <span><code>Stringify</code></span> wrapper is introduced
      to avoid this problem.</li>
      <li>Added tests for custom writer.</li>
      <li>Fixed definition lists and tables in <span><code>data/sample.lua</code></span>.</li>
      </ul></li>
      <li><p>Fixed regression: when target is PDF, writer extensions
      were being ignored. So, for example, <span><code>pandoc -t latex-smart -o file.pdf</code></span>
      did not work properly.</p></li>
      <li><p>Lua modules (Albert Krewinkel):</p>
      <ul>
      <li>Add <span><code>pandoc.utils</code></span>
      module, to hold utility functions.</li>
      <li>Create a Haskell module Text.Pandoc.Lua.Module.Pandoc to
      define the <span><code>pandoc</code></span> lua
      module.</li>
      <li>Make a Haskell module for each Lua module. Move definitions
      for the <span><code>pandoc.mediabag</code></span>
      modules to a separate Haskell module.</li>
      <li>Move <span><code>sha1</code></span> from the
      main <span><code>pandoc</code></span> module to
      <span><code>pandoc.utils</code></span>.</li>
      <li>Add function <span><code>pandoc.utils.hierarchicalize</code></span>
      (convert list of Pandoc blocks into (hierarchical) list of
      Elements).</li>
      <li>Add function <span><code>pandoc.utils.normalize_date</code></span>
      (parses a date and converts it (if possible) to “YYYY-MM-DD”
      format).</li>
      <li>Add function <span><code>pandoc.utils.to_roman_numeral</code></span>
      (allows conversion of numbers below 4000 into roman
      numerals).</li>
      <li>Add function <span><code>pandoc.utils.stringify</code></span>
      (converts any AST element to a string with formatting
      removed).</li>
      <li><span><code>data/init.lua</code></span>: load
      <span><code>pandoc.utils</code></span> by
      default</li>
      <li>Turn pipe, read into full Haskell functions. The <span><code>pipe</code></span> and <span><code>read</code></span> utility functions are
      converted from hybrid lua/haskell functions into full Haskell
      functions. This avoids the need for intermediate <span><code>_pipe</code></span>/<span><code>_read</code></span> helper functions, which
      have dropped.</li>
      <li>pandoc.lua: re-add missing MetaMap function. This was a bug
      introduced in version 2.0.4.</li>
      </ul></li>
      <li><p>Text.Pandoc.Class: Add <span><code>insertInFileTree</code></span> [API change].
      This gives a pure way to insert an ersatz file into a <span><code>FileTree</code></span>. In addition, we
      normalize paths both on insertion and on lookup.</p></li>
      <li><p>Text.Pandoc.Shared: export <span><code>blocksToInlines&#39;</code></span> (API change,
      Maura Bieg).</p></li>
      <li><p>Text.Pandoc.MIME: Add opus to MIME type table as audio/ogg
      (<a href="https://github.com/jgm/pandoc/issues/4198">#4198</a>).</p></li>
      <li><p>Text.Pandoc.Extensions: Alphabetical order constructors for
      <span><code>Extension</code></span>. This makes
      them appear in order in <span><code>--list-extensions</code></span>.</p></li>
      <li><p>Allow lenient decoding of latex error logs, which are not
      always properly UTF8-encoded (<a href="https://github.com/jgm/pandoc/issues/4200">#4200</a>).</p></li>
      <li><p>Update latex template to work with recent versions of
      beamer. The old template produced numbered sections with some
      recent versions of beamer. Thanks to Thomas Hodgson.</p></li>
      <li><p>Updated reference.docx (<a href="https://github.com/jgm/pandoc/issues/4175">#4175</a>).
      Instead of just “Hello, world”, the document now contains
      exemplars of most of the styles that have an effect on pandoc
      documents. This makes it easier to see the effect of style
      changes.</p></li>
      <li><p>Removed <span><code>default.theme</code></span> data file (<a href="https://github.com/jgm/pandoc/issues/4096">#4096</a>). It is
      no longer needed now that we have <span><code>--print-highlight-style</code></span>.</p></li>
      <li><p>Added <span><code>stack.lts9.yaml</code></span> for building
      with lts 9 and ghc 8.0.2. We still need this for the alpine static
      linux build, since we don’t have ghc 8.2.2 for that yet.</p></li>
      <li><p>Removed <span><code>stack.pkg.yaml</code></span>. We only really
      need <span><code>stack.yaml</code></span>; we can
      put flag settings for pandoc-citeproc there.</p></li>
      <li><p>Makefile: Add ‘trypandoc’ and ‘pandoc-templates’ targets to
      make releases easier.</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Add note on what formats have <span><code>+smart</code></span> by default.</li>
      <li>Use native syntax for custom-style (<a href="https://github.com/jgm/pandoc/issues/4174">#4174</a>, Mauro
      Bieg).</li>
      <li>Introduce dedicated Extensions section, since some extensions
      affect formats other than markdown (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/4204">#4204</a>).</li>
      <li>Clarify default html output for <span><code>--section-divs</code></span> (Richard
      Edwards).</li>
      </ul></li>
      <li><p>filters.md: say that Text.Pandoc.JSON comes form
      pandoc-types. Closes jgm/pandoc-website<a href="https://github.com/jgm/pandoc/issues/16">#16</a>.</p></li>
      <li><p>epub.md: Delete removed <span><code>-S</code></span> option from command (<a href="https://github.com/jgm/pandoc/issues/4151">#4151</a>,
      Georger Araújo).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0.5-2017-12-12">
      <h2><a href="#pandoc-2.0.5-2017-12-12" aria-hidden="true"></a>pandoc 2.0.5 (2017-12-12)</h2>
      <ul>
      <li><p>Fix a bug in 2.0.4, whereby pandoc could not read the theme
      files generated with <span><code>--print-highlight-style</code></span> (<a href="https://github.com/jgm/pandoc/issues/4133">#4133</a>).
      Improve JSON serialization of styles.</p></li>
      <li><p>Fix CSS issues involving line numbers (<a href="https://github.com/jgm/pandoc/issues/4128">#4128</a>).
      Highlighted code blocks are now enclosed in a div with class <span><code>sourceCode</code></span>. Highlighting CSS no
      longer sets a generic color for pre and code; we only set these
      for class <span><code>sourceCode</code></span>.</p></li>
      <li><p><span><code>--pdf-engine-opt</code></span>:
      fix bug where option order was reversed (<a href="https://github.com/jgm/pandoc/issues/4137">#4137</a>).</p></li>
      <li><p>Add PowerPoint (pptx) writer (Jesse Rosenthal). It works
      following the standard Pandoc conventions for making other sorts
      of slides. Caveats:</p>
      <ul>
      <li>Syntax highlighting is not yet implemented. (This is difficult
      because there are no character classes in Powerpoint.)</li>
      <li>Footnotes and Definition lists are not yet implemented. (Notes
      will usually take the form of a final slide.</li>
      <li>Image placement and auto-resizing has a few glitches.</li>
      <li>Reference powerpoint files don’t work dependably from the
      command line. This will be implemented, but at the moment users
      are advised to change themes from within Powerpoint.</li>
      </ul></li>
      <li><p>Create shared Text.Pandoc.Writers.OOXML module (Jesse
      Rosenthal). This is for functions used by both Powerpoint and Docx
      writers.</p></li>
      <li><p>Add default pptx data for Powerpoint writer (Jesse
      Rosenthal).</p></li>
      <li><p>Add <span><code>empty_paragraphs</code></span> extension.</p>
      <ul>
      <li>Deprecate <span><code>--strip-empty-paragraphs</code></span>
      option. Instead we now use an <span><code>empty_paragraphs</code></span> extension that
      can be enabled on the reader or writer. By default, disabled.</li>
      <li>Add <span><code>Ext_empty_paragraphs</code></span>
      constructor to <span><code>Extension</code></span>.</li>
      <li>Revert “Docx reader: don’t strip out empty paragraphs.” This
      reverts commit d6c58eb836f033a48955796de4d9ffb3b30e297b.</li>
      <li>Implement <span><code>empty_paragraphs</code></span> extension in
      docx reader and writer, opendocument writer, html reader and
      writer.</li>
      <li>Add tests for <span><code>empty_paragraphs</code></span>
      extension.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Don’t parse native div as table caption (<a href="https://github.com/jgm/pandoc/issues/4119">#4119</a>).</li>
      <li>Improved computation of column widths in pipe tables. Pipe
      tables with lines longer than the text width (as set by <span><code>--columns</code></span>) are now scaled to
      text width, with the relative widths of columns determined by the
      ratios between the header lines. Previously we computed column
      widths using the ratio of header line lengths to column width, so
      that tables with narrow header lines were extremely thin, which
      was very rarely the desired result.</li>
      </ul></li>
      <li><p>LaTeX reader: fix <span><code>\</code></span> before newline (<a href="https://github.com/jgm/pandoc/issues/4134">#4134</a>). This
      should be a space, as long as it’s not followed by a blank line.
      This has been fixed at the tokenizer level.</p></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Add test for <span><code>#disable-tables</code></span> directive in
      Emacs mode.</li>
      <li>Don’t allow emphasis to be preceded by letter.</li>
      <li>Add underline support in Emacs Muse mode..</li>
      <li>Support multiline directives in Amusewiki mode</li>
      </ul></li>
      <li><p>Man writer: omit internal links (<a href="https://github.com/jgm/pandoc/issues/4136">#4136</a>). That
      is, just print the link text without the URL.</p></li>
      <li><p>Markdown reader: accept processing instructions as raw HTML
      (<a href="https://github.com/jgm/pandoc/issues/4125">#4125</a>).</p></li>
      <li><p>Lua filters (Albert Krewinkel):</p>
      <ul>
      <li>Use script to initialize the interpreter. The file <span><code>init.lua</code></span> is used to initialize
      the Lua interpreter which is used in Lua filters. This gives users
      the option to require libraries which they want to use in all of
      their filters, and to extend default modules.</li>
      <li>Fix package loading for Lua 5.1. The list of package searchers
      is named <span><code>package.loaders</code></span>
      in Lua 5.1 and LuaJIT, and <span><code>package.searchers</code></span> in Lua 5.2
      and later.</li>
      <li>Refactor lua module handling. The integration with Lua’s
      package/module system is improved: A pandoc-specific package
      searcher is prepended to the searchers in <span><code>package.searchers</code></span>. The modules
      <span><code>pandoc</code></span> and <span><code>pandoc.mediabag</code></span> can now be
      loaded via <span><code>require</code></span>.</li>
      <li>Bump lower bound of hslua. The release hslua 0.9.3 contains a
      new function which makes using Haskell functions as package
      loaders much easier.</li>
      </ul></li>
      <li><p>reveal.js template: add title-slide identifier to title
      slide (<a href="https://github.com/jgm/pandoc/issues/4120">#4120</a>). This
      allows it to be styled more easily.</p></li>
      <li><p>LaTeX template: Added support for <span><code>pagestyle</code></span> variable (<a href="https://github.com/jgm/pandoc/issues/4135">#4135</a>, Thomas
      Hodgson)</p></li>
      <li><p>Add <span><code>-threaded</code></span> to
      ghc-options for executable (<a href="https://github.com/jgm/pandoc/issues/4130">#4130</a>, fixes
      a build error on linux).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0.4-2017-12-03">
      <h2><a href="#pandoc-2.0.4-2017-12-03" aria-hidden="true"></a>pandoc 2.0.4 (2017-12-03)</h2>
      <ul>
      <li><p>Add <span><code>--print-highlight-style</code></span> option.
      This generates a JSON version of a highlighting style, which can
      be saved as a <span><code>.theme</code></span>
      file, modified, and used with <span><code>--highlight-style</code></span> (<a href="https://github.com/jgm/pandoc/issues/4106">#4106</a>, <a href="https://github.com/jgm/pandoc/issues/4096">#4096</a>).</p></li>
      <li><p>Add <span><code>--strip-empty-paragraphs</code></span>
      option. This works for any input format. It is primarily intended
      for use with docx and odt documents where empty paragraphs have
      been used for inter-paragraph spaces.</p></li>
      <li><p>Support <span><code>--webtex</code></span>
      for <span><code>gfm</code></span> output.</p></li>
      <li><p>Recognize <span><code>.muse</code></span>
      file extension.</p></li>
      <li><p>Support beamer <span><code>\alert</code></span> in LaTeX reader. Closes
      <a href="https://github.com/jgm/pandoc/issues/4091">#4091</a>.</p></li>
      <li><p>Docx reader: don’t strip out empty paragraphs (<a href="https://github.com/jgm/pandoc/issues/2252">#2252</a>). Users
      who have a conversion pipeline from docx may want to consider
      adding <span><code>--strip-empty-paragraphs</code></span> to the
      command line.</p></li>
      <li><p>Org reader (Albert Krewinkel): Allow empty list items (<a href="https://github.com/jgm/pandoc/issues/4090">#4090</a>).</p></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Parse markup in definition list terms.</li>
      <li>Allow definition to end with EOF.</li>
      <li>Make code blocks round trip.</li>
      <li>Drop common space prefix from list items.</li>
      <li>Add partial round trip test.</li>
      <li>Don’t interpret XML entities.</li>
      <li>Remove <span><code>nested</code></span>.</li>
      <li>Parse <span><code>~~</code></span> as
      non-breaking space in Emacs mode.</li>
      <li>Correctly remove indentation from notes. Exactly one space is
      required and considered to be part of the marker.</li>
      <li>Allow list items to be empty.</li>
      <li>Add ordered list test.</li>
      <li>Add more multiline definition tests.</li>
      <li>Don’t allow blockquotes within lists.</li>
      <li>Fix reading of multiline definitions.</li>
      <li>Add inline <span><code>&lt;literal&gt;</code></span> support.</li>
      <li>Concatenate inlines of the same type</li>
      </ul></li>
      <li><p>Docx writer: allow empty paragraphs (<a href="https://github.com/jgm/pandoc/issues/2252">#2252</a>).</p></li>
      <li><p>CommonMark/gfm writer:</p>
      <ul>
      <li>Use raw html for native divs/spans (<a href="https://github.com/jgm/pandoc/issues/4113">#4113</a>). This
      allows a pandoc markdown native div or span to be rendered in gfm
      using raw html tags.</li>
      <li>Implement <span><code>raw_html</code></span>
      and <span><code>raw_tex</code></span> extensions.
      Note that <span><code>raw_html</code></span> is
      enabled by default for <span><code>gfm</code></span>, while <span><code>raw_tex</code></span> is disabled by
      default.</li>
      </ul></li>
      <li><p>Muse writer (Alexander Krotov):</p>
      <ul>
      <li>Test that inline math conversion result is normalized. Without
      normalization this test produced <span><code>&lt;em&gt;a&lt;/em&gt;&lt;em&gt;b&lt;/em&gt;&lt;em&gt;c&lt;/em&gt;</code></span>.</li>
      <li>Improve inline list normalization and move to writer.</li>
      <li>Escape hash symbol.</li>
      <li>Escape <span><code>----</code></span> to avoid
      accidental horizontal rules.</li>
      <li>Escape only <span><code>&lt;/code&gt;</code></span> inside code
      tag.</li>
      <li>Additional <span><code>&lt;verbatim&gt;</code></span> is not needed
      as <span><code>&lt;code&gt;</code></span> is
      verbatim already.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Allow specifying just width or height for image size.
      Previously both needed to be specified (unless the image was being
      resized to be smaller than its original size). If height but not
      width is specified, we now set width to textwidth. If width but
      not height is specified, we now set height to textheight. Since we
      have <span><code>keepaspectratio</code></span>,
      this yields the desired result.</li>
      <li>Escape <span><code>~</code></span> and <span><code>_</code></span> in code with <span><code>--listings</code></span> (<a href="https://github.com/jgm/pandoc/issues/4111">#4111</a>).</li>
      </ul></li>
      <li><p>HTML writer: export <span><code>tagWithAttributes</code></span>. This is a
      helper allowing other writers to create single HTML tags.</p></li>
      <li><p>Let papersizes <span><code>a0</code></span>,
      <span><code>a1</code></span>, <span><code>a2</code></span>, … be case-insensitive by
      converting the case as needed in LaTeX and ConTeXt
      writers.</p></li>
      <li><p>Change <span><code>fixDisplayMath</code></span> from <span><code>Text.Pandoc.Writers.Shared</code></span> so
      that it no longer produces empty <span><code>Para</code></span>’s as an artifact.</p></li>
      <li><p><span><code>Text.Pandoc.Shared.blocksToInlines</code></span>:
      rewrote using builder. This gives us automatic normalization, so
      we don’t get for example two consecutive Spaces.</p></li>
      <li><p>Include default CSS for ‘underline’ class in HTML-based
      templates.</p></li>
      <li><p>revealjs template: add <span><code>tex2jax</code></span> configuration for the
      math plugin. With the next release of reveal.js, this will fix the
      problem of <span><code>$</code></span>s outside of
      math contexts being interpreted as math delimiters (<a href="https://github.com/jgm/pandoc/issues/4027">#4027</a>).</p></li>
      <li><p><span><code>pandoc.lua</code></span> module
      for use in lua filters (Albert Krewinkel):</p>
      <ul>
      <li><p>Add basic lua List module (<a href="https://github.com/jgm/pandoc/issues/4099">#4099</a>, <a href="https://github.com/jgm/pandoc/issues/4081">#4081</a>). The
      List module is automatically loaded, but not assigned to a global
      variable. It can be included in filters by calling <span><code>List = require &#39;List&#39;</code></span>. Lists of
      blocks, lists of inlines, and lists of classes are now given <span><code>List</code></span> as a metatable, making
      working with them more convenient. E.g., it is now possible to
      concatenate lists of inlines using Lua’s concatenation operator
      <span><code>..</code></span> (requires at least one
      of the operants to have <span><code>List</code></span> as a metatable):</p>
      <pre><code>function Emph (emph)
  local s = {pandoc.Space(), pandoc.Str &#39;emphasized&#39;}
  return pandoc.Span(emph.content .. s)
end</code></pre>
      <p>The <span><code>List</code></span> metatable is
      assigned to the tables which get passed to the constructors <span><code>MetaBlocks</code></span>, <span><code>MetaInline</code></span>, and <span><code>MetaList</code></span>. This enables the use
      of the resulting objects as lists.</p></li>
      <li><p><span><code>Lua/StackInstances</code></span>: push Pandoc
      and Meta via constructor. Pandoc and Meta elements are now pushed
      by calling the respective constructor functions of the pandoc Lua
      module. This makes serialization consistent with the way blocks
      and inlines are pushed to lua and allows to use List methods with
      the <span><code>blocks</code></span>
      value.</p></li>
      <li><p>Add documentation for pandoc.List in <span><code>lua-filters.md</code></span>.</p></li>
      </ul></li>
      <li><p>Use latest tagsoup. This fixes a bug in parsing HTML tags
      with <span><code>&amp;</code></span> (but not a
      valid entity) following them (<a href="https://github.com/jgm/pandoc/issues/4094">#4094</a>, <a href="https://github.com/jgm/pandoc/issues/4088">#4088</a>).</p></li>
      <li><p>Use skylighting 0.4.4.1, fixing the color of unmarked code
      text when <span><code>numberLines</code></span> is
      used (<a href="https://github.com/jgm/pandoc/issues/4103">#4103</a>).</p></li>
      <li><p>Make <span><code>normalizeDate</code></span>
      more forgiving (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/4101">#4101</a>), not
      requiring a leading 0 on single-digit days.</p></li>
      <li><p>Fix <span><code>--help</code></span> output
      for <span><code>--highlight-style</code></span> to
      include <span><code>FILE</code></span> (Mauro Bieg,
      <a href="https://github.com/jgm/pandoc/issues/4095">#4095</a>).</p></li>
      <li><p>Clearer deprecation warning for <span><code>--latexmathml, --asciimathml, -m</code></span>.
      Previously we only mentioned <span><code>--latexmathml</code></span>, even if <span><code>-m</code></span> was used.</p></li>
      <li><p>Changelog: fix description of lua filters in 2.0 release
      (Albert Krewinkel). Lua filters were initially run <em>after</em>
      conventional (JSON) filters. However, this was changed later to
      make it easier to deal with files in the mediabag. The changelog
      is updated to describe that feature of the 2.0 release
      correctly.</p></li>
      <li><p>Change Generic JSON instances to TemplateHaskell (Jasper
      Van der Jeugt, <a href="https://github.com/jgm/pandoc/issues/4085">#4085</a>). This
      reduces compile time and memory usage significantly.</p></li>
      <li><p><span><code>lua-filters.md</code></span>:
      Added tikz filter example.</p></li>
      <li><p>Create alternative zip file for macOS binaries.</p></li>
      <li><p>Create alternative zip file for Windows binaries.</p></li>
      <li><p>Update INSTALL.md since we now provide zips for
      binaries.</p></li>
      <li><p>Relax <span><code>http-types</code></span>
      dependency (Justus Sagemüller, <a href="https://github.com/jgm/pandoc/issues/4084">#4084</a>).</p></li>
      <li><p>Add <span><code>epub.md</code></span>, <span><code>getting-started.md</code></span> to docs.
      These used to live in the website repo.</p></li>
      <li><p>Add <span><code>packages</code></span>
      target to Makefile.</p></li>
      <li><p>Bump bounds for binary, http-types, tasty-hunit</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0.3-2017-11-20">
      <h2><a href="#pandoc-2.0.3-2017-11-20" aria-hidden="true"></a>pandoc 2.0.3 (2017-11-20)</h2>
      <ul>
      <li><p>Lua filters: preload text module (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/4077">#4077</a>). The
      <span><code>text</code></span> module is preloaded
      in lua. The module contains some UTF-8 aware string functions,
      implemented in Haskell. The module is loaded on request only,
      e.g.:</p>
      <pre><code>text = require &#39;text&#39;
function Str (s)
  s.text = text.upper(s.text)
  return s
end</code></pre></li>
      <li><p>Allow table-like access to attributes in lua filters
      (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/4071">#4071</a>).
      Attribute lists are represented as associative lists in Lua. Pure
      associative lists are awkward to work with. A metatable is
      attached to attribute lists, allowing to access and use the
      associative list as if the attributes were stored in as normal
      key-value pair in table. Note that this changes the way <span><code>pairs</code></span> works on attribute lists.
      Instead of producing integer keys and two-element tables, the
      resulting iterator function now returns the key and value of those
      pairs. Use <span><code>ipairs</code></span> to get
      the old behavior. Warning: the new iteration mechanism only works
      if pandoc has been compiled with Lua 5.2 or later (current
      default: 5.3).</p></li>
      <li><p>Text.Pandoc.Parsing.uri: allow <span><code>&amp;</code></span> and <span><code>=</code></span> as word characters (<a href="https://github.com/jgm/pandoc/issues/4068">#4068</a>). This
      fixes a bug where pandoc would stop parsing a URI with an empty
      attribute: for example, <span><code>&amp;a=&amp;b=</code></span> wolud stop at
      <span><code>a</code></span>. (The uri parser tries
      to guess which punctuation characters are part of the URI and
      which might be punctuation after it.)</p></li>
      <li><p>Introduce <span><code>HasSyntaxExtensions</code></span> typeclass
      (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/4074">#4074</a>).</p>
      <ul>
      <li>Added new <span><code>HasSyntaxExtensions</code></span> typeclass
      for <span><code>ReaderOptions</code></span> and
      <span><code>WriterOptions</code></span>.</li>
      <li>Reimplemented <span><code>isEnabled</code></span> function from <span><code>Options.hs</code></span> to accept both <span><code>ReaderOptions</code></span> and <span><code>WriterOptions</code></span>.</li>
      <li>Replaced <span><code>enabled</code></span> from
      <span><code>CommonMark.hs</code></span> with new
      <span><code>isEnabled</code></span>.</li>
      </ul></li>
      <li><p>Add <span><code>amuse</code></span>
      extension (Alexander Krotov) to enable Amuse wiki behavior for
      <span><code>muse</code></span>. New <span><code>Ext_amuse</code></span> constructor for <span><code>Extension</code></span>. Note: this is
      switched on by default; for Emacs behavior, use <span><code>muse-amuse</code></span>.</p></li>
      <li><p>Muse reader (Alexander Krotov):</p>
      <ul>
      <li>Count only one space as part of list item marker.</li>
      <li>Produce SoftBreaks on newlines. Now wrapping can be preserved
      with <span><code>--wrap=preserve</code></span>.</li>
      <li>Add Text::Amuse footnote extensions. Footnote end is indicated
      by indentation, so footnotes can be placed anywhere in the text,
      not just at the end of it.</li>
      <li>Accept Emacs Muse definition lists when <span><code>-amuse</code></span>. Emacs Muse does not
      require indentation.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Ensure we don’t produce level 0 headers (<a href="https://github.com/jgm/pandoc/issues/4076">#4076</a>), even
      for chapter sections in epubs. This causes problems because
      writers aren’t set up to expect these.</li>
      <li>Allow spaces after <span><code>\(</code></span>
      and before <span><code>\)</code></span> with <span><code>tex_math_single_backslash</code></span>.
      Previously <span><code>\( \frac{1}{a} &lt; \frac{1}{b} \)</code></span>
      was not parsed as math in <span><code>markdown</code></span> or <span><code>html</code></span> <span><code>+tex_math_single_backslash</code></span>.</li>
      </ul></li>
      <li><p>MANUAL: clarify that math extensions work with HTML.
      Clarify that <span><code>tex_math_dollars</code></span> and <span><code>tex_math_single_backslash</code></span> will
      work with HTML as well as Markdown.</p></li>
      <li><p>Creole reader: Fix performance issue for longer lists
      (Sascha Wilde, <a href="https://github.com/jgm/pandoc/issues/4067">#4067</a>).</p></li>
      <li><p>RST reader: better support for ‘container’ directive (<a href="https://github.com/jgm/pandoc/issues/4066">#4066</a>).
      Create a div, incorporate name attribute and classes.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Support column specs like <span><code>*{2}{r}</code></span> (<a href="https://github.com/jgm/pandoc/issues/4056">#4056</a>). This
      is equivalent to <span><code>rr</code></span>. We
      now expand it like a macro.</li>
      <li>Allow optional args for parbox (<a href="https://github.com/jgm/pandoc/issues/4056">#4056</a>).</li>
      <li>Allow optional arguments on <span><code>\footnote</code></span> (<a href="https://github.com/jgm/pandoc/issues/4062">#4062</a>).</li>
      </ul></li>
      <li><p>EPUB writer: Fixed path for cover image (<a href="https://github.com/jgm/pandoc/issues/4069">#4069</a>). It
      was previously <span><code>media/media/imagename</code></span>, and
      should have been <span><code>media/imagename</code></span>.</p></li>
      <li><p>Markdown writer: fix bug with doubled footnotes in grid
      tables (<a href="https://github.com/jgm/pandoc/issues/4061">#4061</a>).</p></li>
      <li><p>LaTeX template: include natbib/biblatex after polyglossia
      (<a href="https://github.com/jgm/pandoc/issues/4073">#4073</a>).
      Otherwise we seem to get an error; biblatex wants polyglossia
      language to be defined.</p></li>
      <li><p>Added examples to lua filters documentation.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0.2-2017-11-12">
      <h2><a href="#pandoc-2.0.2-2017-11-12" aria-hidden="true"></a>pandoc 2.0.2 (2017-11-12)</h2>
      <ul>
      <li><p>Deprecated ancient HTML math methods: <span><code>--latexmathml</code></span>, <span><code>--gladtex</code></span>, <span><code>--mimetex</code></span>, <span><code>--jsmath</code></span>.</p></li>
      <li><p>Fixed URIs in <span><code>data/jats.csl</code></span>. They were being
      rendered twice, leading to invalid XML in default JATS output with
      pandoc-citeproc.</p></li>
      <li><p><span><code>lua-filters.md</code></span>:
      use real-world man page filter as example.</p></li>
      <li><p>Add lua filter functions <span><code>walk_inline</code></span> and <span><code>walk_block</code></span> in the pandoc
      module, to apply filters inside particular inline and block
      elements.</p></li>
      <li><p>Refactored some code from <span><code>Text.Pandoc.Lua.PandocModule</code></span>
      into new internal module <span><code>Text.Pandoc.Lua.Filter</code></span>.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow fenced code blocks to be indented 1-3 spaces (<a href="https://github.com/jgm/pandoc/issues/4011">#4011</a>). This
      brings our handling of them into alignment with CommonMark’s.</li>
      <li>Fix YAML metadata with “chomp” (<span><code>|-</code></span>). Previously if a YAML block
      under <span><code>|-</code></span> contained a
      blank line, pandoc would not parse it as metadata.</li>
      </ul></li>
      <li><p>Removed <span><code>etc.</code></span> from
      abbreviations file. Often <span><code>etc.</code></span> ends a sentence, and we
      want the period to be treated as a sentence-ending
      period.</p></li>
      <li><p>Fix regression with <span><code>--metadata</code></span> (<a href="https://github.com/jgm/pandoc/issues/4054">#4054</a>).
      Values specified with <span><code>--metadata</code></span> should replace a
      metadata value set in the document itself, rather than creating a
      list including a new value.</p></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Fix EPUB OCF structure. <a href="https://github.com/jgm/pandoc/issues/3720">#3720</a> had
      been improperly implemented.</li>
      <li>Fix modified paths for raw HTML tags (src, poster, etc.) (<a href="https://github.com/jgm/pandoc/issues/4050">#4050</a>, <a href="https://github.com/jgm/pandoc/issues/4055">#4055</a>). This
      had not been updated for the new EPUB container layout, with a
      separate text/ subdirectory.</li>
      <li>Fix image paths with empty <span><code>--epub-subdirectory</code></span>.</li>
      </ul></li>
      <li><p>Miscellaneous code cleanup (Alexander Krotov).</p></li>
      <li><p>Use pandoc-types 1.17.3, which adds <span><code>Walkable</code></span> instances for <span><code>[Block] Block</code></span> and <span><code>[Inline] Inline</code></span>.</p></li>
      <li><p>Remove obsolete <span><code>stack.full.yaml</code></span> (<a href="https://github.com/jgm/pandoc/issues/4052">#4052</a>).</p></li>
      <li><p>Change to using pandoc-citeproc 0.12.1 in binary
      packages.</p></li>
      <li><p>Consolidate math output method documentation (<a href="https://github.com/jgm/pandoc/issues/4049">#4049</a>, Mauro
      Bieg).</p></li>
      <li><p><span><code>MANUAL.txt</code></span>: fix
      header level of “Extension: emoji” (Albert Krewinkel).</p></li>
      <li><p>Use lua filter to generate man page from <span><code>MANUAL.txt</code></span>, replacing old
      Haskell filters. This is easier and faster.</p></li>
      <li><p>Improved <span><code>INSTALL.md</code></span>.</p></li>
      <li><p>Update commands to extract deb archive on Linux (<a href="https://github.com/jgm/pandoc/issues/4043">#4043</a>, Salim
      B).</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0.1.1-2017-11-04">
      <h2><a href="#pandoc-2.0.1.1-2017-11-04" aria-hidden="true"></a>pandoc 2.0.1.1 (2017-11-04)</h2>
      <ul>
      <li><p>Improved fix to <a href="https://github.com/jgm/pandoc/issues/3989">#3989</a>
      (parsing of HTML tags containing <span><code>&gt;</code></span> in an attribute or
      comment). The previous fix (in 2.0.1) only worked in certain
      cases.</p></li>
      <li><p>FB2 writer (Alexander Krotov):</p>
      <ul>
      <li>Add <span><code>unrecognised</code></span>
      genre to <span><code>&lt;title-info&gt;</code></span> (Alexander
      Krotov). XML schema requires at least one genre.</li>
      <li>Remove <span><code>&lt;annotation&gt;</code></span> from <span><code>&lt;body&gt;</code></span>.</li>
      </ul></li>
      <li><p>CommonMark writer: fix strikethrough for <span><code>gfm</code></span> (<a href="https://github.com/jgm/pandoc/issues/4038">#4038</a>).</p></li>
      <li><p>Use texmath 0.10, which adds support for a wider range of
      symbols and fixes default column alignments in MathML and
      OMML.</p></li>
      <li><p>Highlighting fixes, using skylighting 0.4.3.2:</p>
      <ul>
      <li>Fix invalid CSS.</li>
      <li>Support <span><code>lineAnchors</code></span>
      (or <span><code>line-anchors</code></span>) in HTML
      code blocks.</li>
      <li>Ensure that code lines don’t get duplicate identifiers (<a href="https://github.com/jgm/pandoc/issues/4031">#4031</a>). The
      line identifiers are built using the code block’s identifier as a
      prefix. If the code block has null identifier, we use <span><code>cb1</code></span>, <span><code>cb2</code></span>, etc.</li>
      </ul></li>
      <li><p>Added a few abbreviations to <span><code>data/abbreviations</code></span>, and sorted
      the list (<a href="https://github.com/jgm/pandoc/issues/3984">#3984</a>,
      Wandmalfarbe).</p></li>
      <li><p>Improved support for columns in HTML writer (<a href="https://github.com/jgm/pandoc/issues/4028">#4028</a>).</p>
      <ul>
      <li>Remove <span><code>width</code></span>
      attribute from the <span><code>div</code></span>.</li>
      <li>Remove space between <span><code>&lt;div class=&#34;column&#34;&gt;</code></span>
      elements, since this prevents columns whose widths sum to 100%
      (the space takes up space).</li>
      <li>Move as much as possible of the CSS to the template.</li>
      <li>Ensure that all the HTML-based templates (including epub)
      contain the CSS for columns.</li>
      <li>Columns default to 50% width unless they are given a width
      attribute. So if you want two equal-width columns, you can use a
      div with class <span><code>column</code></span> and
      no <span><code>width</code></span> attribute.</li>
      </ul></li>
      <li><p>SelfContained: use <span><code>base64</code></span> for css links with media
      attribute (<a href="https://github.com/jgm/pandoc/issues/4026">#4026</a>). This
      fixes <span><code>--self-contained</code></span>
      with S5.</p></li>
      <li><p>Improve <span><code>pandoc-template-mode.el</code></span> (Vaclav
      Haisman).</p></li>
      <li><p>INSTALL.md: MacOS instructions needed xar -f
      (adam234).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Clarify that –setext-headers doesn’t affect gfm output (<a href="https://github.com/jgm/pandoc/issues/4035">#4035</a>).</li>
      <li>Clarify what is needed to open and close a div in <span><code>fenced_divs</code></span> (<a href="https://github.com/jgm/pandoc/issues/4039">#4039</a>,
      Tristano Ajmone).</li>
      <li>Removed reference to <span><code>default.beamer</code></span> in docs (<a href="https://github.com/jgm/pandoc/issues/4024">#4024</a>). Also
      added mention of other templates affecting PDF output with
      different settings.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-2.0.1-2017-10-31">
      <h2><a href="#pandoc-2.0.1-2017-10-31" aria-hidden="true"></a>pandoc 2.0.1 (2017-10-31)</h2>
      <ul>
      <li><p>Fixed regression in parsing of HTML comments in markdown
      and other non-HTML formats (<span><code>Text.Pandoc.Readers.HTML.htmlTag</code></span>)
      (<a href="https://github.com/jgm/pandoc/issues/4019">#4019</a>).
      The parser stopped at the first <span><code>&gt;</code></span> character, even if it
      wasn’t the end of the comment.</p></li>
      <li><p>Creole reader (Sascha Wilde):</p>
      <ul>
      <li>Fix some minor typos and formatting.</li>
      <li>Add additional test on nowiki-block after para.</li>
      <li>Fix lists with trailing white space.</li>
      </ul></li>
      <li><p>LaTeX reader: handle <span><code>%</code></span> comment right after command.
      For example, <span><code>\emph%</code></span>.</p></li>
      <li><p>Markdown reader: make sure fenced div closers work in
      lists. Previously the following failed:</p>
      <pre><code>::: {.class}
1. one
2. two
:::</code></pre>
      <p>and you needed a blank line before the closing <span><code>:::</code></span>.</p></li>
      <li><p>Make <span><code>fenced_divs</code></span>
      affect the Markdown writer. If <span><code>fenced_divs</code></span> is enabled, Divs
      will be rendered as fenced divs.</p></li>
      <li><p>LaTeX/Beamer writer: support “blocks” inside columns and
      other Divs (<a href="https://github.com/jgm/pandoc/issues/4016">#4016</a>).</p></li>
      <li><p>HTML Writer: consistently use dashed class-names (Mauro
      Bieg, <a href="https://github.com/jgm/pandoc/issues/3556">#3556</a>). Note:
      this change may require some changes in CSS rules. <span><code>footnoteRef</code></span> has become <span><code>footnote-ref</code></span>, <span><code>titleslide</code></span> has become <span><code>title-slide</code></span>, and <span><code>footnoteBack</code></span> has become <span><code>footnote-back</code></span>.</p></li>
      <li><p>JATS writer: Properly pass through author metadata (<a href="https://github.com/jgm/pandoc/issues/4020">#4020</a>).</p></li>
      <li><p>FB2 writer (Alexander Krotov):</p>
      <ul>
      <li>Write blocks outside of <span><code>&lt;p&gt;</code></span> in definitions.</li>
      <li>Make bullet lists consistent with ordered lists, repeating the
      marker for the outer list rather than indenting sublists, since
      indentation does not work in readers.</li>
      <li>Add new style FB2 tests.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>: Add
      <span><code>Millimeter</code></span> constructor to
      <span><code>Dimension</code></span> (<a href="https://github.com/jgm/pandoc/issues/4012">#4012</a>) [API
      change]. Now sizes given in ‘mm’ are no longer converted to
      ‘cm’.</p></li>
      <li><p>Revise documentation of small caps syntax (Andrew Dunning,
      <a href="https://github.com/jgm/pandoc/issues/4013">#4013</a>).</p></li>
      <li><p>Fix broken reference links in manual (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/4014">#4014</a>)</p></li>
      <li><p>Fixed example of slide columns structure in changelog (<a href="https://github.com/jgm/pandoc/issues/4015">#4015</a>). Also
      documented this feature in MANUAL.txt.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0.0.1-2017-10-30">
      <h2><a href="#pandoc-2.0.0.1-2017-10-30" aria-hidden="true"></a>pandoc 2.0.0.1 (2017-10-30)</h2>
      <ul>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Fixed filepaths for nonstandard epub-subdirectory values.</li>
      <li>Ensure that epub2 is recognized as a non-text format, so that
      a template is used.</li>
      <li>Don’t include “prefix” attribute for ibooks for epub2. It
      doesn’t validate.</li>
      <li>Fix stylesheet paths; previously we had an incorrect
      stylesheet path for the cover page and nav page.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Insert space when needed in macro expansion (<a href="https://github.com/jgm/pandoc/issues/4007">#4007</a>).
      Sometimes we need to insert a space after a control sequence to
      prevent it merging with a following letter.</li>
      <li>Allow unbraced arguments for macros (<a href="https://github.com/jgm/pandoc/issues/4007">#4007</a>).</li>
      <li>Allow body of macro definition to be unbraced (<a href="https://github.com/jgm/pandoc/issues/4007">#4007</a>).</li>
      </ul></li>
      <li><p>Linux package build: ensure that pandoc-citeproc is
      statically linked.</p></li>
      <li><p>trypandoc: add native, ms.</p></li>
      </ul>
      </section>
      <section id="pandoc-2.0-2017-10-29">
      <h2><a href="#pandoc-2.0-2017-10-29" aria-hidden="true"></a>pandoc 2.0 (2017-10-29)</h2>
      <section id="new-features-1">
      <h3><a href="#new-features-1" aria-hidden="true"></a>New features</h3>
      <ul>
      <li><p>New output format <span><code>ms</code></span> (groff ms). Complete
      support, including tables, math, syntax highlighting, and PDF
      bookmarks. The writer uses texmath’s new eqn writer to convert
      math to eqn format, so a ms file produced with this writer should
      be processed with <span><code>groff -ms -e</code></span> if it contains
      math.</p></li>
      <li><p>New output format <span><code>jats</code></span> (Journal Article Tag
      Suite). This is an XML format used in archiving and publishing
      articles. Note that a URI-encoded CSL stylesheet (<span><code>data/jats.csl</code></span>) is added
      automatically unless a stylesheet is specified using <span><code>--css</code></span>.</p></li>
      <li><p>New output format <span><code>gfm</code></span> (GitHub-flavored
      CommonMark) (<a href="https://github.com/jgm/pandoc/issues/3841">#3841</a>). This
      uses bindings to GitHub’s fork of cmark, so it should parse gfm
      exactly as GitHub does (excepting certain postprocessing steps,
      involving notifications, emojis, etc.). <span><code>markdown_github</code></span> has been
      deprecated in favor of <span><code>gfm</code></span>.</p></li>
      <li><p>New output format <span><code>muse</code></span> (Emacs Muse) (Alexander
      Krotov, <a href="https://github.com/jgm/pandoc/issues/3489">#3489</a>).</p></li>
      <li><p>New input format <span><code>gfm</code></span> (GitHub-flavored
      CommonMark) (<a href="https://github.com/jgm/pandoc/issues/3841">#3841</a>). This
      uses bindings to GitHub’s fork of cmark. <span><code>markdown_github</code></span> has been
      deprecated in favor of <span><code>gfm</code></span>.</p></li>
      <li><p>New input format <span><code>muse</code></span> (Emacs Muse) reader
      (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/3620">#3620</a>).</p></li>
      <li><p>New input format <span><code>tikiwiki</code></span> (TikiWiki markup)
      (rlpowell, <a href="https://github.com/jgm/pandoc/issues/3800">#3800</a>).</p></li>
      <li><p>New input format <span><code>vimwiki</code></span> (Vimwiki markup)
      (Yuchen Pei, <a href="https://github.com/jgm/pandoc/issues/3705">#3705</a>). Note
      that there is a new data file, <span><code>data/vimwiki.css</code></span>, which can be
      used to display the HTML produced by this reader and pandoc’s HTML
      writer in the style of vimwiki’s own HTML export.</p></li>
      <li><p>New input format <span><code>creole</code></span> (Creole 1.0) (<a href="https://github.com/jgm/pandoc/issues/3994">#3994</a>, Sascha
      Wilde).</p></li>
      <li><p>New syntax for Divs, with <span><code>fenced_divs</code></span> extension enabled
      by default (<a href="https://github.com/jgm/pandoc/issues/168">#168</a>). This
      gives an attractive, plain-text way to create containers for
      block-level content.</p></li>
      <li><p>Added new syntax for including raw content in any output
      format, enabled by the <span><code>raw_attribute</code></span> extension (which
      is on by default for <span><code>markdown</code></span> and <span><code>multimarkdown</code></span>). The syntax is
      the same as for fenced code blocks or code inlines, only with
      <span><code>{=FORMAT}</code></span> for attributes,
      where <span><code>FORMAT</code></span> is the name
      of the output format (e.g., <span><code>ms</code></span>, <span><code>html</code></span>).</p></li>
      <li><p>Implement multicolumn support for slide formats (<a href="https://github.com/jgm/pandoc/issues/1710">#1710</a>). The
      structure expected is:</p>
      <pre><code>:::::::::::::: {.columns}
::: {.column width=&#34;40%&#34;}
contents...
:::
::: {.column width=&#34;60%&#34;}
contents...
:::
::::::::::::::</code></pre>
      <p>Support has been added for beamer and all HTML slide
      formats.</p></li>
      <li><p>Allows line comments in templates, beginning with <span><code>$--</code></span> (<a href="https://github.com/jgm/pandoc/issues/3806">#3806</a>).
      (Requires doctemplates 0.2.1.)</p></li>
      <li><p>Add <span><code>--eol=crlf|lf|native</code></span> flag and
      writer option to control line endings (Stefan Dresselhaus, <a href="https://github.com/jgm/pandoc/issues/3663">#3663</a>, <a href="https://github.com/jgm/pandoc/issues/2097">#2097</a>).</p></li>
      <li><p>Add <span><code>--log</code></span> option
      to save log messages in JSON format to a file (<a href="https://github.com/jgm/pandoc/issues/3392">#3392</a>).</p></li>
      <li><p>Add <span><code>--request-header</code></span> option, to set
      request headers when pandoc makes HTTP requests to fetch external
      resources. For example: <span><code>--request-header User-Agent:blah</code></span>.</p></li>
      <li><p>Added lua filters (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3514">#3514</a>). The
      new <span><code>--lua-filter</code></span> option
      works like <span><code>--filter</code></span> but
      takes pathnames of special lua filters and uses the lua
      interpreter baked into pandoc, so that no external interpreter is
      needed. Note that lua filters are all applied after regular
      filters, regardless of their position on the command line. For
      documentation of lua filters, see <span><code>doc/lua-filters.md</code></span>.</p></li>
      <li><p>Set <span><code>PANDOC_READER_OPTIONS</code></span> in
      environment where filters are run. This contains a JSON
      representation of <span><code>ReaderOptions</code></span>, so filters can
      access it.</p></li>
      <li><p>Support creation of pdf via groff <span><code>ms</code></span> and pdfroff. <span><code>pandoc -t ms -o output.pdf input.txt</code></span>.</p></li>
      <li><p>Support for PDF generation via HTML and <span><code>weasyprint</code></span> or <span><code>prince</code></span> (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3909">#3909</a>). <span><code>pandoc -t html5 -o output.pdf --pdf-engine=prince</code></span>.</p></li>
      <li><p>Added <span><code>--epub-subdirectory</code></span> option (<a href="https://github.com/jgm/pandoc/issues/3720">#3720</a>). This
      specifies the subdirectory in the OCF container that holds the
      EPUB specific content. We now put all EPUB related content in an
      <span><code>EPUB/</code></span> subdirectory by
      default (later this will be configurable).</p>
      <pre><code>  mimetype
  META-INF/
    com.apple.ibooks.display-options.xml
    container.xml
  EPUB/ &lt;&lt;--configurable--&gt;&gt;
    fonts/ &lt;&lt;--static--&gt;&gt;
    font.otf
  media/ &lt;&lt;--static--&gt;&gt;
    cover.jpg
    fig1.jpg
  styles/ &lt;&lt;--static--&gt;&gt;
    stylesheet.css
  content.opf
  toc.ncx
  text/ &lt;&lt;--static--&gt;&gt;
    ch001.xhtml</code></pre></li>
      <li><p>Added <span><code>--resource-path=SEARCHPATH</code></span>
      command line option (<a href="https://github.com/jgm/pandoc/issues/852">#852</a>).
      SEARCHPATH is separated by the usual character, depending on OS (:
      on unix, ; on windows). Default resource path is just working
      directory. However, the working directory must be explicitly
      specified if the <span><code>--resource-path</code></span> option is
      used.</p></li>
      <li><p>Added –abbreviations=FILE option for custom abbreviations
      file (<a href="https://github.com/jgm/pandoc/issues/256">#256</a>). Dfault
      abbreviations file (<span><code>data/abbreviations</code></span>) contains a
      list of strings that will be recognized by pandoc’s Markdown
      parser as abbreviations. (A nonbreaking space will be inserted
      after the period, preventing a sentence space in formats like
      LaTeX.) Users can override the default by putting a file
      abbreviations in their user data directory (<span><code>~/.pandoc</code></span> on *nix).</p></li>
      <li><p>Allow a theme file as argument to <span><code>--highlight-style</code></span>. Also include
      a sample, <span><code>default.theme</code></span>,
      in <span><code>data/</code></span>.</p></li>
      <li><p>Allow <span><code>--syntax-definition</code></span> option for
      dynamic loading of syntax highlighting definitions (<a href="https://github.com/jgm/pandoc/issues/3334">#3334</a>).</p></li>
      <li><p>Lists in <span><code>markdown</code></span>
      by default now use the CommonMark variable nesting rules (<a href="https://github.com/jgm/pandoc/issues/3511">#3511</a>). The
      indentation required for a block-level item to be included in a
      list item is no longer fixed, but is determined by the first line
      of the list item. To be included in the list item, a block must be
      indented to the level of the first non-space content after the
      list marker. Exception: if are 5 or more spaces after the list
      marker, then the content is interpreted as an indented code block,
      and continuation paragraphs must be indented two spaces beyond the
      end of the list marker. See the CommonMark spec for more details
      and examples.</p>
      <p>Documents that adhere to the four-space rule should, in most
      cases, be parsed the same way by the new rules. Here are some
      examples of texts that will be parsed differently:</p>
      <pre><code>- a
  - b</code></pre>
      <p>will be parsed as a list item with a sublist; under the
      four-space rule, it would be a list with two items.</p>
      <pre><code>- a

      code</code></pre>
      <p>Here we have an indented code block under the list item, even
      though it is only indented six spaces from the margin, because it
      is four spaces past the point where a continuation paragraph could
      begin. With the four-space rule, this would be a regular paragraph
      rather than a code block.</p>
      <pre><code>- a

        code</code></pre>
      <p>Here the code block will start with two spaces, whereas under
      the four-space rule, it would start with <span><code>code</code></span>. With the four-space rule,
      indented code under a list item always must be indented eight
      spaces from the margin, while the new rules require only that it
      be indented four spaces from the beginning of the first non-space
      text after the list marker (here, <span><code>a</code></span>).</p>
      <p>This change was motivated by a slew of bug reports from people
      who expected lists to work differently (<a href="https://github.com/jgm/pandoc/issues/3125">#3125</a>, <a href="https://github.com/jgm/pandoc/issues/2367">#2367</a>, <a href="https://github.com/jgm/pandoc/issues/2575">#2575</a>, <a href="https://github.com/jgm/pandoc/issues/2210">#2210</a>, <a href="https://github.com/jgm/pandoc/issues/1990">#1990</a>, <a href="https://github.com/jgm/pandoc/issues/1137">#1137</a>, <a href="https://github.com/jgm/pandoc/issues/744">#744</a>, <a href="https://github.com/jgm/pandoc/issues/172">#172</a>, <a href="https://github.com/jgm/pandoc/issues/137">#137</a>, <a href="https://github.com/jgm/pandoc/issues/128">#128</a>) and by
      the growing prevalance of CommonMark (now used by GitHub, for
      example). Those who prefer the old behavior can use <span><code>-f markdown+four_space_rule</code></span>.</p></li>
      <li><p>Added <span><code>four_space_rule</code></span> extension. This
      triggers the old pandoc parsing rule for content nested under list
      items (the “four space rule”).</p></li>
      <li><p>Added <span><code>spaced_reference_links</code></span>
      extension (<a href="https://github.com/jgm/pandoc/issues/2602">#2602</a>). It
      allows whitespace between the two parts of a reference link:
      e.g.</p>
      <pre><code>[a] [b]

[b]: url</code></pre>
      <p>This was previously enabled by default; now it is forbidden by
      default.</p></li>
      <li><p>Add <span><code>space_in_atx_header</code></span> extension
      (<a href="https://github.com/jgm/pandoc/issues/3512">#3512</a>).
      This is enabled by default in pandoc and GitHub markdown but not
      the other flavors. This requirse a space between the opening #’s
      and the header text in ATX headers (as CommonMark does but many
      other implementations do not). This is desirable to avoid falsely
      capturing things ilke</p>
      <pre><code>#hashtag</code></pre>
      <p>or</p>
      <pre><code>#5</code></pre></li>
      <li><p>Add <span><code>sourcefile</code></span> and
      <span><code>outputfile</code></span> template
      variables (Roland Hieber, <a href="https://github.com/jgm/pandoc/issues/3431">#3431</a>).</p></li>
      <li><p>Allow ibooks-specific metadata in epubs (<a href="https://github.com/jgm/pandoc/issues/2693">#2693</a>). You
      can now have the following fields in your YAML metadata, and it
      will be treated appropriately in the generated EPUB:</p>
      <pre><code>  ibooks:
    version: 1.3.4
    specified-fonts: false
    ipad-orientation-lock: portrait-only
    iphone-orientation-lock: landscape-only
    binding: true
    scroll-axis: vertical</code></pre></li>
      </ul>
      </section>
      <section id="behavior-changes-1">
      <h3><a href="#behavior-changes-1" aria-hidden="true"></a>Behavior changes</h3>
      <ul>
      <li><p>Reader functions no longer presuppose that CRs have been
      stripped from the input. (They strip CRs themselves, before
      parsing, to simplify the parsers.)</p></li>
      <li><p>Added support for translations (localization) (<a href="https://github.com/jgm/pandoc/issues/3559">#3559</a>).
      Currently this only affects the LaTeX reader, for things like
      <span><code>\figurename</code></span>. Translation
      data files for 46 languages can be found in <span><code>data/translations</code></span>.</p></li>
      <li><p>Make <span><code>--ascii</code></span> work
      with DocBook output too.</p></li>
      <li><p>Rename <span><code>--latex-engine</code></span> to <span><code>--pdf-engine</code></span>, and <span><code>--latex-engine-opt</code></span> to <span><code>--pdf-engine-opt</code></span>.</p></li>
      <li><p>Removed <span><code>--parse-raw</code></span> and <span><code>readerParseRaw</code></span>. These were
      confusing. Now we rely on the <span><code>+raw_tex</code></span> or <span><code>+raw_html</code></span> extension with latex
      or html input. Thus, instead of <span><code>--parse-raw -f latex</code></span> we use
      <span><code>-f latex+raw_tex</code></span>, and
      instead of <span><code>--parse-raw -f html</code></span> we use
      <span><code>-f html+raw_html</code></span>.</p></li>
      <li><p>With <span><code>--filter</code></span> R
      filters are now recognized, even if they are not executable (<a href="https://github.com/jgm/pandoc/issues/3940">#3940</a>, <a href="https://github.com/jgm/pandoc/issues/3941">#3941</a>, Andrie
      de Vries).</p></li>
      <li><p>Support SVG in PDF output, converting with <span><code>rsvg2pdf</code></span> (<a href="https://github.com/jgm/pandoc/issues/1793">#1793</a>).</p></li>
      <li><p>Make epub an alias for epub3, not epub2.</p></li>
      <li><p>Removed <span><code>--epub-stylesheet</code></span>; use <span><code>--css</code></span> instead (<a href="https://github.com/jgm/pandoc/issues/3472">#3472</a>, <a href="https://github.com/jgm/pandoc/issues/847">#847</a>).
      Multiple stylesheets may be used. Stylesheets will be taken both
      from <span><code>--css</code></span> and from the
      <span><code>stylesheet</code></span> metadata field
      (which can contain either a file path or a list of them).</p></li>
      <li><p><span><code>--mathml</code></span> and
      MathML in HTMLMathMethod no longer take an argument. The argument
      was for a bridge JavaScript that used to be necessary in 2004. We
      have removed the script already.</p></li>
      <li><p><span><code>--katex</code></span>
      improvements. The latest version is used, and the autoload script
      is loaded by default.</p></li>
      <li><p>Change MathJax CDN default since old one is shutting down
      (<a href="https://github.com/jgm/pandoc/issues/3544">#3544</a>).
      Note: The new URL requires a version number, which we’ll have to
      update manually in subsequent pandoc releases in order to take
      advantage of mathjax improvements.</p></li>
      <li><p><span><code>--self-contained</code></span>:
      don’t incorporate elements with <span><code>data-external=&#34;1&#34;</code></span> (<a href="https://github.com/jgm/pandoc/issues/2656">#2656</a>). You
      can leave an external link as it is by adding the attribute
      data-external=“1” to the element. Pandoc will then not try to
      incorporate its content when <span><code>--self-contained</code></span> is used. This
      is similar to a feature already supported by the EPUB
      writer.</p></li>
      <li><p>Allow <span><code>--extract-media</code></span> to work with
      non-binary input formats (<a href="https://github.com/jgm/pandoc/issues/1583">#1583</a>, <a href="https://github.com/jgm/pandoc/issues/2289">#2289</a>). If
      <span><code>--extract-media</code></span> is
      supplied with a non-binary input format, pandoc will attempt to
      extract the contents of all linked images, whether in local files,
      data: uris, or external uris. They will be named based on the sha1
      hash of the contents.</p></li>
      <li><p>Make <span><code>papersize: a4</code></span>
      work regardless of the case of <span><code>a4</code></span>. It is converted to <span><code>a4</code></span> in LaTeX and <span><code>A4</code></span> in ConTeXt.</p></li>
      <li><p>Make <span><code>east_asian_line_breaks</code></span> affect
      all readers/writers (<a href="https://github.com/jgm/pandoc/issues/3703">#3703</a>).</p></li>
      <li><p>Underlined elements are now treated consistently by readers
      (<a href="https://github.com/jgm/pandoc/issues/2270">#2270</a>,
      hftf); they are always put in a Span with class <span><code>underline</code></span>. This allows the user
      to treat them differently from other emphasis, using a filter.
      Docx, Org, Textile, Txt2Tags, and HTML readers have been
      changed.</p></li>
      <li><p>Improved behavior of <span><code>auto_identifiers</code></span> when there are
      explicit ids (<a href="https://github.com/jgm/pandoc/issues/1745">#1745</a>).
      Previously only autogenerated ids were added to the list of header
      identifiers in state, so explicit ids weren’t taken into account
      when generating unique identifiers. Duplicated identifiers could
      result. This simple fix ensures that explicitly given identifiers
      are also taken into account.</p></li>
      <li><p>Use <span><code>table-of-contents</code></span> for contents
      of toc, make <span><code>toc</code></span> a
      boolean (<a href="https://github.com/jgm/pandoc/issues/2872">#2872</a>).
      Changed markdown, rtf, and HTML-based templates accordingly. This
      allows you to set <span><code>toc: true</code></span> in the metadata; this
      previously produced strange results in some output formats. For
      backwards compatibility, <span><code>toc</code></span> is still set to the toc
      contents. But it is recommended that you update templates to use
      <span><code>table-of-contents</code></span> for the
      toc contents and <span><code>toc</code></span> for
      a boolean flag.</p></li>
      <li><p>Change behavior with binary format output to stdout.
      Previously, for binary formats, output to stdout was disabled
      unless we could detect that the output was being piped (and not
      sent to the terminal). Unfortunately, such detection is not
      possible on Windows, leaving windows users no way to pipe binary
      output. So we have changed the behavior in the following way:</p>
      <ul>
      <li>Output to stdout is allowed when it can be determined that the
      output is being piped (on non-Windows platforms).</li>
      <li>If the <span><code>-o</code></span> option is
      not used, binary output is never sent to stdout by default;
      instead, an error is raised.</li>
      <li>If <span><code>-o -</code></span> is used,
      binary output is sent to stdout, regardless of whether it is being
      piped. This works on Windows too.</li>
      </ul></li>
      <li><p>Better error behavior: uses of <span><code>error</code></span> have been replaced by
      raising of <span><code>PandocError</code></span>,
      which can be trapped and handled by the calling program.</p></li>
      <li><p>Removed <span><code>hard_line_breaks</code></span> extension from
      <span><code>markdown_github</code></span> (<a href="https://github.com/jgm/pandoc/issues/3594">#3594</a>).
      GitHub has two Markdown modes, one for long-form documents like
      READMEs and one for short things like issue comments. In issue
      comments, a line break is treated as a hard line break. In README,
      wikis, etc., it is treated as a space as in regular Markdown.
      Since pandoc is more likely to be used to convert long-form
      documents from GitHub Markdown, <span><code>-hard_line_breaks</code></span> is a better
      default.</p></li>
      <li><p>Include <span><code>backtick_code_blocks</code></span> extension
      in <span><code>mardkown_mmd</code></span> (<a href="https://github.com/jgm/pandoc/issues/3637">#3637</a>).</p></li>
      <li><p>Escape <span><code>MetaString</code></span>
      values (as added with <span><code>-M/--metadata</code></span> flag) (<a href="https://github.com/jgm/pandoc/issues/3792">#3792</a>).
      Previously they would be transmitted to the template without any
      escaping. Note that <span><code>--M title=&#39;*foo*&#39;</code></span> yields a
      different result from</p>
      <pre><code>---
title: *foo*
---</code></pre>
      <p>In the latter case, we have emphasis; in the former case, just
      a string with literal asterisks (which will be escaped in formats,
      like Markdown, that require it).</p></li>
      <li><p>Allow <span><code>em</code></span>, <span><code>cm</code></span>, <span><code>in</code></span> for image height/width in
      HTML, LaTeX (<a href="https://github.com/jgm/pandoc/issues/3450">#3450</a>).</p></li>
      <li><p>HTML writer: Insert <span><code>data-</code></span> in front of unsupported
      attributes. Thus, a span with attribute <span><code>foo</code></span> gets written to HTML5 with
      <span><code>data-foo</code></span>, so it is valid
      HTML5. HTML4 is not affected. This will allow us to use custom
      attributes in pandoc without producing invalid HTML. (With help
      from Wandmalfarbe, <a href="https://github.com/jgm/pandoc/issues/3817">#3817</a>.)</p></li>
      <li><p>Plain writer: improved super/subscript rendering. We now
      handle more non-digit characters for which there are
      sub/superscripted unicode characters. When unicode
      sub/superscripted characters are not available, we use <span><code>_(..)</code></span> or <span><code>^(..)</code></span> (<a href="https://github.com/jgm/pandoc/issues/3518">#3518</a>).</p></li>
      <li><p>Docbook, JATS, TEI writers: print INFO message when
      omitting interior header (<a href="https://github.com/jgm/pandoc/issues/3750">#3750</a>). This
      only applies to section headers inside list items, e.g., which
      were otherwise silently omitted.</p></li>
      <li><p>Change to <span><code>--reference-links</code></span> in Markdown
      writer (<a href="https://github.com/jgm/pandoc/issues/3701">#3701</a>). With
      <span><code>--reference-location</code></span> of
      <span><code>section</code></span> or <span><code>block</code></span>, pandoc will now repeat
      references that have been used in earlier sections. The Markdown
      reader has also been modified, so that <em>exactly</em> repeated
      references do not generate a warning, only references with the
      same label but different targets. The idea is that, with
      references after every block, one might want to repeat references
      sometimes.</p></li>
      <li><p>ODT/OpenDocument writer:</p>
      <ul>
      <li>Support <span><code>lang</code></span>
      attribute (<a href="https://github.com/jgm/pandoc/issues/1667">#1667</a>).</li>
      <li>Added support for <span><code>--toc</code></span> (<a href="https://github.com/jgm/pandoc/issues/2836">#2836</a>).
      Thanks to <span data-cites="anayrat">@anayrat</span>.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li><p><span><code>lang</code></span> meta, see <a href="https://github.com/jgm/pandoc/issues/1667">#1667</a> (Mauro
      Bieg, <a href="https://github.com/jgm/pandoc/issues/3515">#3515</a>).</p></li>
      <li><p>Change <span><code>FigureWithCaption</code></span> to <span><code>CaptionedFigure</code></span> (iandol, <a href="https://github.com/jgm/pandoc/issues/3658">#3658</a>).</p></li>
      <li><p>Use <span><code>Table</code></span> rather
      than <span><code>Table Normal</code></span> for
      table style (<a href="https://github.com/jgm/pandoc/issues/3275">#3275</a>). <span><code>Table Normal</code></span> is the default
      table style and can’t be modified.</p></li>
      <li><p>Pass through comments (<a href="https://github.com/jgm/pandoc/issues/2994">#2994</a>). We
      assume that comments are defined as parsed by the docx reader:</p>
      <p>I want some text to have a comment on it.</p>
      <p>We assume also that the id attributes are unique and properly
      matched between comment-start and comment-end.</p></li>
      <li><p>Bookmark improvements. Bookmark start/end now surrounds
      content rather than preceding it. Bookmarks generated for Div with
      id (jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/205">#205</a>).</p></li>
      <li><p>Add <span><code>keywords</code></span>
      metadata to docx document properties (Ian).</p></li>
      </ul></li>
      <li><p>RST writer: support unknown interpreted text roles by
      parsing them as <span><code>Span</code></span> with
      <span><code>role</code></span> attributes (<a href="https://github.com/jgm/pandoc/issues/3407">#3407</a>). This
      way they can be manipulated in the AST.</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Line block: Use class instead of style attribute (<a href="https://github.com/jgm/pandoc/issues/1623">#1623</a>). We
      now issue <span><code>&lt;div class=&#34;line-block&#34;&gt;</code></span>
      and include a default definition for <span><code>line-block</code></span> in the default
      templates, instead of hard-coding a <span><code>style</code></span> on the div.</li>
      <li>Add class <span><code>footnoteBack</code></span> to footnote back
      references (Timm Albers). This allows for easier CSS styling.</li>
      <li>Render SmallCaps as span with smallcaps class (<a href="https://github.com/jgm/pandoc/issues/1592">#1592</a>),
      rather than using a style attribute directly. This gives the user
      more flexibility in styling small caps in CSS.</li>
      <li>With reveal.js we use <span><code>data-src</code></span> instead of <span><code>src</code></span> for images for lazy
      loading.</li>
      <li>Special-case <span><code>.stretch</code></span>
      class for images in reveal.js (<a href="https://github.com/jgm/pandoc/issues/1291">#1291</a>). Now
      in reveal.js, an image with class <span><code>stretch</code></span> in a paragraph by
      itself will stretch to fill the whole screen, with no caption or
      figure environment.</li>
      </ul></li>
      <li><p>Added warnings for non-rendered blocks to writers.</p></li>
      <li><p>Writers now raise an error on template failure.</p></li>
      <li><p>When creating a PDF via LaTeX, warn if the font is missing
      some characters (<a href="https://github.com/jgm/pandoc/issues/3742">#3742</a>).</p></li>
      <li><p>Remove initial check for PDF-creating program (<a href="https://github.com/jgm/pandoc/issues/3819">#3819</a>).
      Instead, just try running it and raise the exception if it isn’t
      found at that point. This improves things for users of Cygwin on
      Windows, where the executable won’t be found by <span><code>findExecutable</code></span> unless <span><code>.exe</code></span> is added. The same
      exception is raised as before, but at a later point.</p></li>
      <li><p>Readers issue warning for duplicate header identifiers (<a href="https://github.com/jgm/pandoc/issues/1745">#1745</a>).
      Autogenerated header identifiers are given suffixes so as not to
      clash with previously used header identifiers. But they may still
      coincide with an explicit identifier that is given for a header
      later in the document, or with an identifier on a div, span, link,
      or image. We now issue a warning in this case, so users can supply
      an explicit identifier.</p></li>
      <li><p>CommonMark reader now supports <span><code>emoji</code></span>, <span><code>hard_line_breaks</code></span>, <span><code>smart</code></span>, and <span><code>raw_html</code></span> extensions.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li><p>Don’t allow backslash + newline to affect block structure
      (<a href="https://github.com/jgm/pandoc/issues/3730">#3730</a>).
      Note that as a result of this change, the following, which
      formerly produced a header with two lines separated by a line
      break, will now produce a header followed by a paragraph:</p>
      <p># Hi</p>
      <p>This may affect some existing documents that relied on this
      undocumented and unintended behavior. This change makes pandoc
      more consistent with other Markdown implementations, and with
      itself (since the two-space version of a line break doesn’t work
      inside ATX headers, and neither version works inside Setext
      headers).</p></li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel, unless noted):</p>
      <ul>
      <li>Support <span><code>table.el</code></span>
      tables (<a href="https://github.com/jgm/pandoc/issues/3314">#3314</a>).</li>
      <li>Support macros (<a href="https://github.com/jgm/pandoc/issues/3401">#3401</a>).</li>
      <li>Support the <span><code>#+INCLUDE:</code></span> file inclusion
      mechanism (<a href="https://github.com/jgm/pandoc/issues/3510">#3510</a>).
      Recognized include types are <span><code>example</code></span>, <span><code>export</code></span>, <span><code>src</code></span>, and normal org file
      inclusion. Advanced features like line numbers and level selection
      are not implemented yet.</li>
      <li>Interpret more meta value as inlines. The values of the
      following meta variables are now interpreted using org-markup
      instead of treating them as pure strings: <span><code>keywords</code></span> (comma-separated list
      of inlines), <span><code>subtitle</code></span>
      (inline values), <span><code>nocite</code></span>
      (inline values, can be repeated).</li>
      <li>Support <span><code>\n</code></span> export
      option (<a href="https://github.com/jgm/pandoc/issues/3940">#3940</a>). This
      turns all newlines in the text into hard linebreaks.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li><p>Improved admonition support (<a href="https://github.com/jgm/pandoc/issues/223">#223</a>). We no
      longer add an <span><code>admonition</code></span>
      class, we just use the class for the type of admonition, <span><code>note</code></span> for example. We put the
      word corresponding to the label in a paragraph inside a <span><code>Div</code></span> at the beginning of the
      admonition with class <span><code>admonition-title</code></span>. This is about
      as close as we can get to RST’s own output.</p></li>
      <li><p>Initial support of <span><code>.. table</code></span> directive. This allows
      adding captions to tables.</p></li>
      <li><p>Support <span><code>.. line-block</code></span> directive. This
      is deprecated but may still be in older documents.</p></li>
      <li><p>Support scale and align attributes of images (<a href="https://github.com/jgm/pandoc/issues/2662">#2662</a>).</p></li>
      <li><p>Implemented implicit internal header links (<a href="https://github.com/jgm/pandoc/issues/3475">#3475</a>).</p></li>
      <li><p>Support RST-style citations (<a href="https://github.com/jgm/pandoc/issues/853">#853</a>). The
      citations appear at the end of the document as a definition list
      in a special div with id <span><code>citations</code></span>. Citations link to
      the definitions.</p></li>
      <li><p>Recurse into bodies of unknown directives (<a href="https://github.com/jgm/pandoc/issues/3432">#3432</a>). In
      most cases it’s better to preserve the content than to emit it.
      This isn’t guaranteed to have good results; it will fail
      spectacularly for unknown raw or verbatim directives.</p></li>
      <li><p>Handle chained link definitions (<a href="https://github.com/jgm/pandoc/issues/262">#262</a>). For
      example,</p>
      <pre><code>.. _hello:
.. _goodbye: example.com</code></pre>
      <p>Here both <span><code>hello</code></span> and
      <span><code>goodbye</code></span> should link to
      <span><code>example.com</code></span>.</p></li>
      <li><p>Support anchors (<a href="https://github.com/jgm/pandoc/issues/262">#262</a>).
      E.g.</p>
      <pre><code>`hello`

.. _hello:

paragraph</code></pre>
      <p>This is supported by putting “paragraph” in a <span><code>Div</code></span> with id <span><code>hello</code></span>.</p></li>
      <li><p>Support <span><code>:widths:</code></span>
      attribute for table directive.</p></li>
      <li><p>Implement csv-table directive (<a href="https://github.com/jgm/pandoc/issues/3533">#3533</a>). Most
      attributes are supported, including <span><code>:file:</code></span> and <span><code>:url:</code></span>.</p></li>
      <li><p>Support unknown interpreted text roles by parsing them as
      Span with “role” attributes (<a href="https://github.com/jgm/pandoc/issues/3407">#3407</a>). This
      way they can be manipulated in the AST.</p></li>
      </ul></li>
      <li><p>HTML reader: parse a span with class <span><code>smallcaps</code></span> as <span><code>SmallCaps</code></span>.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Implemented <span><code>\graphicspath</code></span> (<a href="https://github.com/jgm/pandoc/issues/736">#736</a>).</li>
      <li>Properly handle column prefixes/suffixes. For example, in
      <span><code>\begin{tabular}{&gt;{$}l&lt;{$}&gt;{$}l&lt;{$} &gt;{$}l&lt;{$}}</code></span>
      each cell will be interpreted as if it has a <span><code>$</code></span> before its content and a
      <span><code>$</code></span> after (math mode).</li>
      <li>Handle komascript <span><code>\dedication</code></span> (<a href="https://github.com/jgm/pandoc/issues/1845">#1845</a>). It
      now adds a <span><code>dedication</code></span>
      field to metadata. It is up to the user to supply a template that
      uses this variable.</li>
      <li>Support all <span><code>\textXX</code></span>
      commands, where XX = <span><code>rm</code></span>,
      <span><code>tt</code></span>, <span><code>up</code></span>, <span><code>md</code></span>, <span><code>sf</code></span>, <span><code>bf</code></span> (<a href="https://github.com/jgm/pandoc/issues/3488">#3488</a>). Spans
      with a class are used when there is nothing better.</li>
      <li>Expand <span><code>\newenvironment</code></span> macros (<a href="https://github.com/jgm/pandoc/issues/987">#987</a>).</li>
      <li>Add support for LaTeX subfiles package (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3530">#3530</a>).</li>
      <li>Better support for subfigure package (<a href="https://github.com/jgm/pandoc/issues/3577">#3577</a>). A
      figure with two subfigures turns into two pandoc figures; the
      subcaptions are used and the main caption ignored, unless there
      are no subcaptions.</li>
      <li>Add support for <span><code>\vdots</code></span> (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3607">#3607</a>).</li>
      <li>Add basic support for hyphenat package (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3603">#3603</a>).</li>
      <li>Add basic <span><code>\textcolor</code></span>
      support (Marc Schreiber).</li>
      <li>Add support for <span><code>tabularx</code></span> environment (Marc
      Schreiber, <a href="https://github.com/jgm/pandoc/issues/3632">#3632</a>).</li>
      <li>Better handling of comments inside math environments (<a href="https://github.com/jgm/pandoc/issues/3113">#3113</a>). This
      solves a problem with commented out <span><code>\end{eqnarray}</code></span> inside an
      eqnarray (among other things).</li>
      <li>Parse tikzpicture as raw verbatim environment if <span><code>raw_tex</code></span> extension is selected
      (<a href="https://github.com/jgm/pandoc/issues/3692">#3692</a>).
      Otherwise skip with a warning. This is better than trying to parse
      it as text!</li>
      <li>Add <span><code>\colorbox</code></span> support
      (Marc Schreiber).</li>
      <li>Set identifiers on Spans used for <span><code>\label</code></span>.</li>
      <li>Have <span><code>\setmainlanguage</code></span>
      set <span><code>lang</code></span> in
      metadata.</li>
      <li>Support etoolbox’s <span><code>\ifstrequal</code></span>.</li>
      <li>Support <span><code>plainbreak</code></span>,
      <span><code>fancybreak</code></span> et al from the
      memoir class (bucklereed, <a href="https://github.com/jgm/pandoc/issues/3833">#3833</a>).</li>
      <li>Support <span><code>\let</code></span>. Also,
      fix regular macros so they’re expanded at the point of use, and
      NOT also the point of definition. <span><code>\let</code></span> macros, by contrast, are
      expanded at the point of definition. Added an <span><code>ExpansionPoint</code></span> field to <span><code>Macro</code></span> to track this
      difference.</li>
      <li>Support simple <span><code>\def</code></span>
      macros. Note that we still don’t support macros with fancy
      parameter delimiters, like <span><code>\def\foo#1..#2{...}</code></span>.</li>
      <li>Support <span><code>\chaptername</code></span>,
      <span><code>\partname</code></span>, <span><code>\abstractname</code></span>, etc. (<a href="https://github.com/jgm/pandoc/issues/3559">#3559</a>,
      obsoletes <a href="https://github.com/jgm/pandoc/issues/3560">#3560</a>).</li>
      <li>Put content of <span><code>\ref</code></span>,
      <span><code>\label</code></span>, <span><code>\eqref</code></span> commands into <span><code>Span</code></span> with attributes, so they
      can be handled in filters (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3639">#3639</a>)</li>
      <li>Add Support for <span><code>glossaries</code></span> and <span><code>acronym</code></span> package (Marc
      Schreiber, <a href="https://github.com/jgm/pandoc/issues/3589">#3589</a>).
      Acronyms are not resolved by the reader, but acronym and glossary
      information is put into attributes on Spans so that they can be
      processed in filters.</li>
      <li>Use <span><code>Link</code></span> instead of
      <span><code>Span</code></span> for <span><code>\ref</code></span>. This makes more sense
      semantically and avoids unnecessary <span><code>Span [Link]</code></span> nestings when
      references are resolved.</li>
      <li>Rudimentary support for <span><code>\hyperlink</code></span>.</li>
      <li>Support <span><code>\textquoteleft|right</code></span>, <span><code>\textquotedblleft|right</code></span> (<a href="https://github.com/jgm/pandoc/issues/3849">#3849</a>).</li>
      <li>Support <span><code>\lq</code></span>, <span><code>\rq</code></span>.</li>
      <li>Implement <span><code>\newtoggle</code></span>,
      <span><code>\iftoggle</code></span>, <span><code>\toggletrue|false</code></span> from etoolbox
      (<a href="https://github.com/jgm/pandoc/issues/3853">#3853</a>).</li>
      <li>Support <span><code>\RN</code></span> and <span><code>\Rn</code></span>, from biblatex (bucklereed,
      <a href="https://github.com/jgm/pandoc/issues/3854">#3854</a>).</li>
      <li>Improved support for <span><code>\hyperlink</code></span>, <span><code>\hypertarget</code></span> (<a href="https://github.com/jgm/pandoc/issues/2549">#2549</a>).</li>
      <li>Support <span><code>\k</code></span> ogonek
      accent.</li>
      <li>Improve handling of accents. Handle ogonek, and fall back
      correctly with forms like <span><code>\&#34;{}</code></span>.</li>
      <li>Better support for ogonek accents.</li>
      <li>Support for <span><code>\faCheck</code></span>
      and <span><code>\faClose</code></span> (Marc
      Schreiber, <a href="https://github.com/jgm/pandoc/issues/3727">#3727</a>).</li>
      <li>Support for <span><code>xspace</code></span>
      (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3797">#3797</a>).</li>
      <li>Support <span><code>\setmainlanguage</code></span> or <span><code>\setdefaultlanguage</code></span>
      (polyglossia) and <span><code>\figurename</code></span>.</li>
      <li>Better handling of <span><code>\part</code></span> in LaTeX (<a href="https://github.com/jgm/pandoc/issues/1905">#1905</a>). Now
      we parse chapters as level 0 headers, and parts as level -1
      headers. After parsing, we check for the lowest header level, and
      if it’s less than 1 we bump everything up so that 1 is the lowest
      header level. So <span><code>\part</code></span>
      will always produce a header; no command-line options are
      needed.</li>
      <li>Add block version of <span><code>\textcolor</code></span> (Marc
      Schreiber).</li>
      <li><span><code>\textcolor</code></span> works as
      inline and block command (Marc Schreiber).</li>
      <li><span><code>\textcolor</code></span> will be
      parse as span at the beginning of a paragraph (Marc
      Schreiber).</li>
      <li>Read polyglossia/babel <span><code>\text(LANG){...}</code></span>
      (bucklereed)</li>
      <li>Improved handling of include files in LaTeX reader (<a href="https://github.com/jgm/pandoc/issues/3971">#3971</a>).
      Previously <span><code>\include</code></span>
      wouldn’t work if the included file contained, e.g., a begin
      without a matching end.</li>
      <li>Support <span><code>\expandafter</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/3983">#3983</a>).</li>
      <li>Handle <span><code>\DeclareRobustCommand</code></span> (<a href="https://github.com/jgm/pandoc/issues/3983">#3983</a>).
      Currently it’s just treated as a synonym for <span><code>\newcommand</code></span>.</li>
      <li>Handle <span><code>\lettrine</code></span>
      (Mauro Bieg).</li>
      </ul></li>
      <li><p>Math improvements due to updates in texmath:</p>
      <ul>
      <li>Improved handling of accents and upper/lower delimiters.</li>
      <li>Support for output in GNU eqn format (used with *roff).</li>
      <li>Allow <span><code>\boldsymbol</code></span> + a
      token without braces, and similarly with other styling
      commands.</li>
      <li>Improve parsing of <span><code>\mathop</code></span> to allow
      multi-character operator names.</li>
      <li>Add thin space after math operators when “faking it with
      unicode.”</li>
      </ul></li>
      <li><p><span><code>walk</code></span> is now used
      instead of <span><code>bottomUp</code></span> in
      the <span><code>ToJSONFilter</code></span> instance
      for <span><code>a -&gt; [a]</code></span>
      (pandoc-types). Note that behavior will be slightly different,
      since <span><code>bottomUp</code></span>’s
      treatment of a function <span><code>[a] -&gt; [a]</code></span> is to apply it to
      each sublist of a list, while walk applies it only to maximal
      sublists. Usually the latter behavior is what is wanted, and the
      former can be simulated when needed. But there may be existing
      filters that need to be rewritten in light of the new behavior.
      Performance should be improved.</p></li>
      <li><p>There are some changes to syntax highlighting due to
      revisions in the <span><code>skylighting</code></span> library:</p>
      <ul>
      <li>Support for <span><code>powershell</code></span> has been added, and
      many syntax definitions have been updated.</li>
      <li>Background colors have been added to the <span><code>kate</code></span> style.</li>
      <li>The way highlighted code blocks are formatted in HTML has been
      changed (David Baynard), in ways that may require changes in
      hard-coded CSS affecting highlighting. (If you haven’t included
      hard-coded highlighting CSS in your template, you needn’t change
      anything.)</li>
      </ul></li>
      </ul>
      </section>
      <section id="api-changes-1">
      <h3><a href="#api-changes-1" aria-hidden="true"></a>API changes</h3>
      <ul>
      <li><p>New module <span><code>Text.Pandoc.Class</code></span> (Jesse
      Rosenthal, John MacFarlane). This contains definitions of the
      <span><code>PandocMonad</code></span> typeclass,
      the <span><code>PandocIO</code></span> and <span><code>PandocPure</code></span> monads, and
      associated functions.</p></li>
      <li><p>Changed types of all writers and readers.</p>
      <ul>
      <li>We now use <span><code>Text</code></span>
      instead of <span><code>String</code></span> in the
      interface (<a href="https://github.com/jgm/pandoc/issues/3731">#3731</a>). (We
      have not yet changed the internals of most readers to work with
      <span><code>Text</code></span>, but making this
      change in the API now opens up a path to doing that.)</li>
      <li>The result is now of form <span><code>m a</code></span> with constraint <span><code>PandocMonad m</code></span>. Readers and
      writers can be combined to form monadic values which can be run
      using either <span><code>runIO</code></span> or
      <span><code>runPure</code></span>. If <span><code>runIO</code></span> is used, then both
      readers and writers will be able to do IO when needed (for include
      files, for example); if <span><code>runPure</code></span> is used, then the
      functions are pure and will not touch IO.</li>
      <li>Where previously you used <span><code>writeRST def (readMarkdown def &#34;[foo](url)&#34;)</code></span>,
      now you would use <span><code>runPure $ readMarkdown def (pack &#34;[foo](url)&#34;) &gt;&gt;= writeRST def</code></span>.</li>
      </ul></li>
      <li><p>New module <span><code>Text.Pandoc.Readers</code></span> (Albert
      Krewinkel). This contains reader helper functions formerly defined
      in the top-level <span><code>Text.Pandoc</code></span> module.</p>
      <ul>
      <li>Changed <span><code>StringReader</code></span>
      -&gt; <span><code>TextReader</code></span>.</li>
      <li><span><code>getReader</code></span> now returns
      a pair of a reader and <span><code>Extensions</code></span>, instead of building
      the extensions into the reader (<a href="https://github.com/jgm/pandoc/issues/3659">#3659</a>). The
      calling code must explicitly set <span><code>readerExtensions</code></span> using the
      <span><code>Extensions</code></span> returned. The
      point of the change is to make it possible for the calling code to
      determine what extensions are being used.</li>
      </ul></li>
      <li><p>New module <span><code>Text.Pandoc.Writers</code></span> (Albert
      Krewinkel). This contains writer helper functions formerly defined
      in the top-level <span><code>Text.Pandoc</code></span> module.</p>
      <ul>
      <li>Changed <span><code>StringWriter</code></span>
      -&gt; <span><code>TextWriter</code></span>.</li>
      <li><span><code>getWriter</code></span> now returns
      a pair of a reader and <span><code>Extensions</code></span>, instead of building
      the extensions into the reader (<a href="https://github.com/jgm/pandoc/issues/3659">#3659</a>). The
      calling code must explicitly set <span><code>readerExtensions</code></span> using the
      <span><code>Extensions</code></span> returned. The
      point of the change is to make it possible for the calling code to
      determine what extensions are being used.</li>
      </ul></li>
      <li><p>New module <span><code>Text.Pandoc.Lua</code></span>, exporting
      <span><code>runLuaFilter</code></span> (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3514">#3514</a>).</p></li>
      <li><p>New module <span><code>Text.Pandoc.App</code></span>. This abstracts
      out the functionality of the command line program (<span><code>convertWithOpts</code></span>), so it can be
      reproduced e.g. in a desktop or web application. Instead of
      exiting, we throw errors (<a href="https://github.com/jgm/pandoc/issues/3548">#3548</a>), which
      are caught (leading to exit) in pandoc.hs, but allow other users
      of <span><code>Text.Pandoc.App</code></span> to
      recover. <span><code>pandoc.hs</code></span> is now
      a 2-liner. The module also exports some utility functions for
      parsing options and running filters.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Logging</code></span> (exported
      module) (<a href="https://github.com/jgm/pandoc/issues/3392">#3392</a>). This
      now contains the <span><code>Verbosity</code></span> definition previously
      in <span><code>Text.Pandoc.Options</code></span>,
      as well as a new <span><code>LogMessage</code></span> datatype that will
      eventually be used instead of raw strings for warnings. This will
      enable us, among other things, to provide machine-readable
      warnings if desired. Include ToJSON instance and showLogMessage.
      This gives us the possibility of both machine-readable and
      human-readable output for log messages.</p></li>
      <li><p>New module <span><code>Text.Pandoc.BCP47</code></span>, with <span><code>getLang</code></span>, <span><code>Lang(..)</code></span>, <span><code>parseBCP47</code></span>.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Translations</code></span>,
      exporting <span><code>Term</code></span>, <span><code>Translations</code></span>, <span><code>readTranslations</code></span>.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Readers.LaTeX.Types&#39;, exporting</code></span>Macro<span><code>,</code></span>Tok<span><code>,</code></span>TokType<span><code>,</code></span>Line<span><code>,</code></span>Column`.</p></li>
      <li><p><span><code>Text.Pandoc.Error</code></span>:
      added many new constructors for <span><code>PandocError</code></span>.</p></li>
      <li><p>Expose some previously private modules (<a href="https://github.com/jgm/pandoc/issues/3260">#3260</a>). These
      are often helpful to people writing their own reader or writer
      modules:</p>
      <ul>
      <li><span><code>Text.Pandoc.Writers.Shared</code></span></li>
      <li><span><code>Text.Pandoc.Parsing</code></span></li>
      <li><span><code>Text.Pandoc.Asciify</code></span></li>
      <li><span><code>Text.Pandoc.Emoji</code></span></li>
      <li><span><code>Text.Pandoc.ImageSize</code></span></li>
      <li><span><code>Text.Pandoc.Highlighting</code></span> `</li>
      </ul></li>
      <li><p>New module <span><code>Text.Pandoc.Extensions</code></span> (Albert
      Krewinkel): Extension parsing and processing functions were
      defined in the top-level <span><code>Text.Pandoc</code></span> module. These
      functions are moved to the Extensions submodule as to enable reuse
      in other submodules.</p></li>
      <li><p>Add <span><code>Ext_raw_attribute</code></span> constructor
      for <span><code>Extension</code></span>.</p></li>
      <li><p>Add <span><code>Ext_fenced_divs</code></span> constructor for
      `Extension’.</p></li>
      <li><p>Add <span><code>Ext_four_space_rule</code></span> constructor
      in <span><code>Extension</code></span>.</p></li>
      <li><p>Add <span><code>Ext_gfm_auto_identifiers</code></span>
      constructor for <span><code>Extension</code></span>.</p></li>
      <li><p>Add <span><code>Monoid</code></span>
      instance for <span><code>Extensions</code></span>.</p></li>
      <li><p>Add <span><code>Text.Pandoc.Writers.Ms</code></span>,
      exporting <span><code>writeMs</code></span>.</p></li>
      <li><p>Add <span><code>Text.Pandoc.Writers.JATS</code></span>,
      exporting <span><code>writeJATS</code></span>.</p></li>
      <li><p>Add <span><code>Text.Pandoc.Writers.Muse</code></span>,
      exporting <span><code>writeMuse</code></span>.</p></li>
      <li><p>Add <span><code>Text.Pandoc.Readers.Muse</code></span>,
      exporting <span><code>readMuse</code></span>.</p></li>
      <li><p>Add <span><code>Text.Pandoc.Readers.TikiWiki</code></span>,
      exporting <span><code>readTikiWiki</code></span>.</p></li>
      <li><p>Add <span><code>Text.Pandoc.Readers.Vimwiki</code></span>,
      exporting <span><code>readVimwiki</code></span>.</p></li>
      <li><p>Add <span><code>Text.Pandoc.Readers.Creole</code></span>,
      exporting <span><code>readCreole</code></span>.</p></li>
      <li><p>Export <span><code>setVerbosity</code></span> from <span><code>Text.Pandoc</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>: Add <span><code>Eq</code></span> instance for <span><code>Doc</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.XML</code></span>:
      <span><code>toEntities</code></span>: changed type
      to <span><code>Text -&gt; Text</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:</p>
      <ul>
      <li>Export <span><code>fromText</code></span>,
      <span><code>fromTextLazy</code></span>, <span><code>toText</code></span>, <span><code>toTextLazy</code></span>. Define <span><code>toString</code></span>, <span><code>toStringLazy</code></span> in terms of
      them.</li>
      <li>Add new functions parameterized on <span><code>Newline</code></span>: <span><code>writeFileWith</code></span>, <span><code>putStrWith</code></span>, <span><code>putStrLnWith</code></span>, <span><code>hPutStrWith</code></span>, <span><code>hPutStrLnWith</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.MediaBag</code></span>: removed
      <span><code>extractMediaBag</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Highlighting</code></span>:</p>
      <ul>
      <li><span><code>highlighting</code></span> now
      returns an Either rather than Maybe. This allows us to display
      error information returned by the skylighting library. Display a
      warning if the highlighting library throws an error.</li>
      <li>Add parameter for <span><code>SyntaxMap</code></span> to <span><code>highlight</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Writers.Math</code></span>:</p>
      <ul>
      <li>Export <span><code>defaultMathJaxURL</code></span>, <span><code>defaultKaTeXURL</code></span>. This will
      ensure that we only need to update these in one place.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.SelfContained</code></span>:</p>
      <ul>
      <li>Removed <span><code>WriterOptions</code></span>
      parameter from <span><code>makeSelfContained</code></span>.</li>
      <li>Put <span><code>makeSelfContained</code></span>
      in PandocMonad instead of IO. This removes the need to pass
      MediaBag around and improves exceptions. It also opens up the
      possibility of using makeSelfContained purely.</li>
      <li>Export <span><code>makeDataURI</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>:</p>
      <ul>
      <li>Export <span><code>lengthToDim</code></span>,
      new function <span><code>scaleDimension</code></span>.</li>
      <li>Export <span><code>inEm</code></span> from
      ImageSize (<a href="https://github.com/jgm/pandoc/issues/3450">#3450</a>).</li>
      <li>Change <span><code>showFl</code></span> and
      <span><code>show</code></span> instance for <span><code>Dimension</code></span> so extra decimal
      places are omitted.</li>
      <li>Added <span><code>Em</code></span> as a
      constructor of <span><code>Dimension</code></span>.</li>
      <li>Add <span><code>WriterOptions</code></span>
      parameter to <span><code>imageSize</code></span>
      signature (Mauro Bieg).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Templates</code></span>:</p>
      <ul>
      <li>Change type of <span><code>renderTemplate&#39;</code></span>. Now it runs in
      <span><code>PandocMonad</code></span> and raises a
      proper <span><code>PandocTemplateError</code></span> if there
      are problems, rather than failing with uncatchable <span><code>error</code></span>.</li>
      <li>Change signature of <span><code>getDefaultTemplate</code></span>. Now it runs
      in any instance of <span><code>PandocMonad</code></span>, and returns a
      <span><code>String</code></span> rather than an
      <span><code>Either</code></span> value. And it no
      longer takes a <span><code>datadir</code></span>
      parameter, since this can be retrieved from <span><code>CommonState</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>:</p>
      <ul>
      <li>Added <span><code>writerEpubSubdirectory</code></span> to <span><code>WriterOptions</code></span> (<a href="https://github.com/jgm/pandoc/issues/3720">#3720</a>). The
      EPUB writer now takes its EPUB subdirectory from this option.</li>
      <li>In <span><code>WriterOptions</code></span>,
      rename <span><code>writerLaTeXEngine</code></span>
      to <span><code>writerPdfEngine</code></span> and
      <span><code>writerLaTeXArgs</code></span> to <span><code>writerPdfArgs</code></span> (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3909">#3909</a>).</li>
      <li>Add <span><code>writerSyntaxMap</code></span>
      to <span><code>WriterOptions</code></span>.</li>
      <li>Removed <span><code>writerEpubStylesheet</code></span> from <span><code>WriterOptions</code></span>.</li>
      <li>Remove <span><code>writerUserDataDir</code></span> from <span><code>WriterOptions</code></span>. It is now
      carried in <span><code>CommonState</code></span> in
      <span><code>PandocMonad</code></span> instances.
      (And thus it can be used by readers too.)</li>
      <li>Changed <span><code>writerEpubMetadata</code></span> to a <span><code>Maybe String</code></span>.</li>
      <li>Removed <span><code>readerApplyMacros</code></span> from <span><code>ReaderOptions</code></span>. Now we just
      check the <span><code>latex_macros</code></span>
      reader extension.</li>
      <li>FromJSON/ToJSON instances for <span><code>ReaderOptions</code></span>.</li>
      <li>In <span><code>HTMLMathMethod</code></span>,
      the <span><code>KaTeX</code></span> contsructor now
      takes only one string (for the KaTeX base URL), rather than
      two.</li>
      <li>Removed <span><code>writerSourceURL</code></span> from <span><code>WriterOptions</code></span>. We now use <span><code>stSourceURL</code></span> in <span><code>CommonState</code></span>, which is set by
      <span><code>setInputFiles</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li><span><code>tabFilter</code></span> now takes a
      <span><code>Text</code></span>, not <span><code>String</code></span>.</li>
      <li><span><code>openURL</code></span>: Changed type
      from an Either. Now it will just raise an exception to be trapped
      later.</li>
      <li>Remove <span><code>normalizeSpaces</code></span> (<a href="https://github.com/jgm/pandoc/issues/1530">#1530</a>).</li>
      <li>Remove <span><code>warn</code></span>. (Use
      <span><code>report</code></span> from <span><code>Text.Pandoc.Class</code></span>
      instead.)</li>
      <li>Export a new function <span><code>crFilter</code></span>.</li>
      <li>Add <span><code>eastAsianLineBreakFilter</code></span>
      (previously in Markdown reader).</li>
      <li>Provide custom <span><code>isURI</code></span>
      that rejects unknown schemes. (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2713">#2713</a>). We
      also export the set of known <span><code>schemes</code></span>. The new function
      replaces the function of the same name from <span><code>Network.URI</code></span>, as the latter did
      not check whether a scheme is well-known. All official IANA
      schemes (as of 2017-05-22) are included in the set of known
      schemes. The four non-official schemes <span><code>doi</code></span>, <span><code>isbn</code></span>, <span><code>javascript</code></span>, and <span><code>pmid</code></span> are kept.</li>
      <li>Remove <span><code>err</code></span>.</li>
      <li>Remove <span><code>readDataFile</code></span>,
      <span><code>readDefaultDataFile</code></span>,
      <span><code>getReferenceDocx</code></span>, <span><code>getReferenceODT</code></span>. These now live
      in <span><code>Text.Pandoc.Class</code></span>,
      where they are defined in terms of <span><code>PandocMonad</code></span> primitives and have
      different signatures.</li>
      <li>Remove <span><code>openURL</code></span>. Use
      <span><code>openURL</code></span> from <span><code>Text.Pandoc.Class</code></span> instead.</li>
      <li>Add <span><code>underlineSpan</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Readers.HTML</code></span>:
      export new <span><code>NamedTag</code></span>
      class.</p></li>
      <li><p><span><code>Text.Pandoc.Readers.Markdown</code></span>:
      remove <span><code>readDocxWithWarnings</code></span>. With the
      new API one can simply use <span><code>getLog</code></span> after running the
      reader.</p></li>
      <li><p><span><code>Text.Pandoc.Readers.LaTeX</code></span>:
      Changed types for <span><code>rawLaTeXInline</code></span> and <span><code>rawLaTeXBlock</code></span>. (Both now return
      a <span><code>String</code></span>, and they are
      polymorphic in state.)</p></li>
      </ul>
      </section>
      <section id="bug-fixes-and-under-the-hood-improvements-1">
      <h3><a href="#bug-fixes-and-under-the-hood-improvements-1" aria-hidden="true"></a>Bug fixes and under-the-hood
      improvements</h3>
      <ul>
      <li><p>TEI writer: Added identifiers on <span><code>&lt;div&gt;</code></span> elements.</p></li>
      <li><p>DokuWiki reader: Better handling for code block in list
      item (<a href="https://github.com/jgm/pandoc/issues/3824">#3824</a>).</p></li>
      <li><p>Custom writer: Remove old preprocesesor conditionals
      (Albert Krewinkel).</p></li>
      <li><p>ZimWiki writer: Removed internal formatting from note and
      table cells, because ZimWiki does not support it (Alex Ivkin, <a href="https://github.com/jgm/pandoc/issues/3446">#3446</a>).</p></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Updated list of syntax highlighting languages (<a href="https://github.com/jgm/pandoc/issues/3461">#3461</a>). Now
      <span><code>r</code></span> gets you <span><code>&lt;source&gt;</code></span> rather than
      <span><code>&lt;code&gt;</code></span> (among
      others).</li>
      <li>Add display attribute on <span><code>&lt;math&gt;</code></span> tags (<a href="https://github.com/jgm/pandoc/issues/3452">#3452</a>). This
      allows display math to be rendered properly.</li>
      <li>Remove newline before <span><code>&lt;/ref&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/2652">#2652</a>).</li>
      <li>Don’t softbreak lines inside list items (<a href="https://github.com/jgm/pandoc/issues/3531">#3531</a>).</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Reduce to two spaces after bullets (<a href="https://github.com/jgm/pandoc/issues/3417">#3417</a>, Albert
      Krewinkel).</li>
      <li>Add unit tests (Alexander Krotov).</li>
      <li>Stop using raw HTML to wrap divs (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3771">#3771</a>).</li>
      <li>Do not strip <span><code>#</code></span> from
      Org anchor links (Alexander Krotov).</li>
      </ul></li>
      <li><p>CommonMark writer:</p>
      <ul>
      <li>Avoid excess blank lines at end of output.</li>
      <li>Prefer pipe tables to HTML tables even if it means losing
      relative column width information (<a href="https://github.com/jgm/pandoc/issues/3734">#3734</a>).</li>
      <li>Support table, strikethrough extensions, when enabled (as with
      gfm). Note that we bypass the commonmark writer from cmark and
      construct our own pipe tables, with better results.</li>
      <li>Properly support <span><code>--wrap=none</code></span>.</li>
      <li>Use smallcaps class for <span><code>SmallCaps</code></span> (<a href="https://github.com/jgm/pandoc/issues/1592">#1592</a>).</li>
      <li>Omit “fig:” prefix in image titles. This is used internally to
      indicate internal figures.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Properly handle table captions.</li>
      <li>Don’t wrap lines in in definition list terms. Wrapping is not
      allowed.</li>
      <li>Implemented <span><code>+/-smart</code></span>
      and improved escaping with <span><code>+smart</code></span>.</li>
      <li>Add empty comments when needed to avoid including a blockquote
      in the indented content of a preceding block (<a href="https://github.com/jgm/pandoc/issues/3675">#3675</a>).</li>
      <li>Improve grid table output, fix bug with empty rows (<a href="https://github.com/jgm/pandoc/issues/3516">#3516</a>). Uses
      the new <span><code>gridTable</code></span> in
      Writers.Shared, which is here improved to better handle 0-width
      cells.</li>
      <li>Remove space at beginning/end of RST code span (<a href="https://github.com/jgm/pandoc/issues/3496">#3496</a>).
      Otherwise we get invalid RST. There seems to be no way to escape
      the space.</li>
      <li>Add header anchors when header has non-standard id (<a href="https://github.com/jgm/pandoc/issues/3937">#3937</a>).</li>
      <li>Correctly handle inline code containing backticks, using a
      <span><code>:literal:</code></span> role (<a href="https://github.com/jgm/pandoc/issues/3974">#3974</a>).</li>
      <li>Don’t backslash-escape word-internal punctuation (<a href="https://github.com/jgm/pandoc/issues/3978">#3978</a>).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li><p>Don’t include variables in metadata blocks. Previously
      variables set on the command line were included in e.g. YAML
      metadata, contrary to documentation and intentions.</p></li>
      <li><p>Improved escaping with <span><code>+smart</code></span>.</p></li>
      <li><p>Fixed grid tables embedded in grid tables (<a href="https://github.com/jgm/pandoc/issues/2834">#2834</a>).</p></li>
      <li><p>Use span with class ‘smallcaps’ for SmallCaps, instead of a
      style attribute as before (<a href="https://github.com/jgm/pandoc/issues/1592">#1592</a>).</p></li>
      <li><p>Escape initial <span><code>%</code></span>
      in a paragraph if the <span><code>pandoc_title_blocks</code></span> extension
      is enabled (<a href="https://github.com/jgm/pandoc/issues/3454">#3454</a>).
      Otherwise in a document starting with a literal <span><code>%</code></span> the first line is wrongly
      interpreted as a title.</p></li>
      <li><p>Fixed false ordered lists in YAML metadata (<a href="https://github.com/jgm/pandoc/issues/3492">#3492</a>, <a href="https://github.com/jgm/pandoc/issues/1685">#1685</a>). Now
      we properly escape things that would otherwise start ordered
      lists, such as</p>
      <pre><code>---
title: 1. inline
...</code></pre></li>
      <li><p>Better handling of tables with empty columns (<a href="https://github.com/jgm/pandoc/issues/3337">#3337</a>). We
      now calculate the number of columns based on the longest row (or
      the length of aligns or widths).</p></li>
      <li><p>Escape unordered list markers at beginning of paragraph (<a href="https://github.com/jgm/pandoc/issues/3497">#3497</a>), to
      avoid false interpretation as a list.</p></li>
      <li><p>Escape <span><code>|</code></span>
      appropriately.</p></li>
      <li><p>Ensure space before list at top level (<a href="https://github.com/jgm/pandoc/issues/3487">#3487</a>).</p></li>
      <li><p>Avoid spurious blanklines at end of document after tables
      and list, for example.</p></li>
      <li><p>Fixed bugs in simple/multiline list output (<a href="https://github.com/jgm/pandoc/issues/3384">#3384</a>).
      Previously we got overlong lists with <span><code>--wrap=none</code></span>. This is fixed.
      Previously a multiline list could become a simple list (and would
      always become one with <span><code>--wrap=none</code></span>).</p></li>
      <li><p>Don’t emit a simple table if <span><code>simple_tables</code></span> disabled (<a href="https://github.com/jgm/pandoc/issues/3529">#3529</a>).</p></li>
      <li><p>Case-insensitive reference links (David A Roberts, <a href="https://github.com/jgm/pandoc/issues/3616">#3616</a>).
      Ensure that we do not generate reference links whose labels differ
      only by case. Also allow implicit reference links when the link
      text and label are identical up to case.</p></li>
      <li><p>Put space before reference link definitions (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3630">#3630</a>).</p></li>
      <li><p>Better escaping for links (David A. Roberts, <a href="https://github.com/jgm/pandoc/issues/3619">#3619</a>).
      Previously the Markdown writer would sometimes create links where
      there were none in the source. This is now avoided by selectively
      escaping bracket characters when they occur in a place where a
      link might be created.</p></li>
      <li><p>Added missing <span><code>\n</code></span>
      (David A. Roberts, <a href="https://github.com/jgm/pandoc/issues/3647">#3647</a>).</p></li>
      <li><p>Fixed duplicated reference links with <span><code>--reference-links</code></span> and <span><code>--reference-location=section</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/3674">#3674</a>).
      Also ensure that there are no empty link references <span><code>[]</code></span>.</p></li>
      <li><p>Avoid inline surround-marking with empty content (<a href="https://github.com/jgm/pandoc/issues/3715">#3715</a>). E.g.
      we don’t want <span><code>&lt;strong&gt;&lt;/strong&gt;</code></span>
      to become <span><code>****</code></span>. Similarly
      for emphasis, super/subscript, strikeout.</p></li>
      <li><p>Don’t allow soft break in header (<a href="https://github.com/jgm/pandoc/issues/3736">#3736</a>).</p></li>
      <li><p>Make sure <span><code>plain</code></span>,
      <span><code>markdown_github</code></span>, etc.
      work for raw. Previously only <span><code>markdown</code></span> worked. Note:
      currently a raw block labeled <span><code>markdown_github</code></span> will be printed
      for any <span><code>markdown</code></span>
      format.</p></li>
      <li><p>Ensure that <span><code>+</code></span> and
      <span><code>-</code></span> are escaped properly so
      they don’t cause spurious lists (<a href="https://github.com/jgm/pandoc/issues/3773">#3773</a>).
      Previously they were only if succeeded by a space, not if they
      were at end of line.</p></li>
      <li><p>Use pipe tables if <span><code>raw_html</code></span> disabled and <span><code>pipe_tables</code></span> enabled, even if
      the table has relative width information (<a href="https://github.com/jgm/pandoc/issues/3734">#3734</a>).</p></li>
      <li><p>Markdown writer: don’t crash on <span><code>Str &#34;&#34;</code></span>.</p></li>
      <li><p>Make <span><code>Span</code></span> with
      null attribute transparent. That is, we don’t use brackets or
      <span><code>&lt;span&gt;</code></span> tags to mark
      spans when there are no attributes; we simply output the
      contents.</p></li>
      <li><p>Escape pipe characters when <span><code>pipe_tables</code></span> enabled (<a href="https://github.com/jgm/pandoc/issues/3887">#3887</a>).</p></li>
      <li><p>Better escaping of <span><code>&lt;</code></span> and <span><code>&gt;</code></span>. If <span><code>all_symbols_escapable</code></span> is set,
      we backslash escape these. Otherwise we use entities as
      before.</p></li>
      <li><p>When writing plain, don’t use <span><code>&amp;nbsp;</code></span> to separate list and
      indented code. There’s no need for it in this context, since this
      isn’t to be interpreted using Markdown rules.</p></li>
      <li><p>Preserve classes in JS obfuscated links (Timm Albers, <a href="https://github.com/jgm/pandoc/issues/2989">#2989</a>). HTML
      links containing classes originally now preserve them when using
      javascript email obfuscation.</p></li>
      <li><p>Render <span><code>SmallCaps</code></span>
      as a native span when <span><code>native_spans</code></span> are
      enabled.</p></li>
      <li><p>Always write attributes with <span><code>bracketed_spans</code></span>
      (d-dorazio).</p></li>
      </ul></li>
      <li><p>Man writer:</p>
      <ul>
      <li>Fix handling of nested font commands (<a href="https://github.com/jgm/pandoc/issues/3568">#3568</a>).
      Previously pandoc emitted incorrect markup for bold + italic, for
      example, or bold + code.</li>
      <li>Avoid error for definition lists with no definitions (<a href="https://github.com/jgm/pandoc/issues/3832">#3832</a>).</li>
      </ul></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Fix internal links with <span><code>writerIdentifierPrefix opt</code></span> (<a href="https://github.com/jgm/pandoc/issues/3397">#3397</a>, Mauro
      Bieg).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Don’t include bookmarks on headers unless non-null id (<a href="https://github.com/jgm/pandoc/issues/3476">#3476</a>).</li>
      <li>Support 9 levels of headers (<a href="https://github.com/jgm/pandoc/issues/1642">#1642</a>).</li>
      <li>Allow 9 list levels (<a href="https://github.com/jgm/pandoc/issues/3519">#3519</a>).</li>
      <li>Don’t take <span><code>distArchive</code></span> from datadir (<a href="https://github.com/jgm/pandoc/issues/3322">#3322</a>). The
      docx writer takes components from the distribution’s version of
      <span><code>reference.docx</code></span> when it
      can’t find them in a user’s custom <span><code>reference.docx</code></span>. Previously, we
      allowed a <span><code>reference.docx</code></span>
      in the data directory (e.g. <span><code>~/.pandoc</code></span>) to be used as the
      distribution’s reference.docx. This led to a bizarre situation
      where pandoc would produce a good docx using <span><code>--template ~/.pandoc/ref.docx</code></span>,
      but if <span><code>ref.docx</code></span> were
      moved to <span><code>~/.pandoc/reference.docx</code></span>, it
      would then produce a corrupted docx.</li>
      <li>Fixed handling of soft hyphen (0173) (<a href="https://github.com/jgm/pandoc/issues/3691">#3691</a>).</li>
      <li>Better handling of keywords (<a href="https://github.com/jgm/pandoc/issues/3719">#3719</a>).</li>
      <li>Cleaner code for handling dir and style attributes for <span><code>Div</code></span>.</li>
      <li>Use <span><code>Set</code></span> for dynamic
      styles to avoid duplicates.</li>
      <li>Removed redundant element from data/docx/word/numbering.xml.
      The elements we need are generated when the document is compiled;
      this didn’t do anything.</li>
      <li>Activate <span><code>evenAndOddHeaders</code></span> from
      reference docx (<a href="https://github.com/jgm/pandoc/issues/3901">#3901</a>,
      Augustín Martín Barbero).</li>
      </ul></li>
      <li><p>ODT/OpenDocument writer:</p>
      <ul>
      <li>Calculate aspect ratio for percentage-sized images (Mauro
      Bieg, <a href="https://github.com/jgm/pandoc/issues/3239">#3239</a>).</li>
      <li>Use more widely available bullet characters (<a href="https://github.com/jgm/pandoc/issues/1400">#1400</a>). The
      old characters weren’t available in some font sets. These seem to
      work well on Windows and Linux versions of LibreOffice.</li>
      <li>Wider labels for lists (<a href="https://github.com/jgm/pandoc/issues/2421">#2421</a>). This
      avoids overly narrow labels for ordered lists with <span><code>()</code></span> delimiters. However,
      arguably it creates overly wide labels for bullets. Also, lists
      now start flush with the margin, rather than indented.</li>
      <li>Fixed dropped elements in some ordered lists (<a href="https://github.com/jgm/pandoc/issues/2434">#2434</a>).</li>
      </ul></li>
      <li><p>FB2 writer:</p>
      <ul>
      <li>Don’t render <span><code>RawBlock</code></span>
      as code.</li>
      <li>Don’t fail with an error on interior headers (e.g. in list)
      (<a href="https://github.com/jgm/pandoc/issues/3750">#3750</a>).
      Instead, omit them with an INFO message.</li>
      <li>Add support for “lang” metadata (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/3625">#3625</a>).</li>
      <li>Format <span><code>LineBlock</code></span> as
      poem (Alexander Krotov). Previously writer produced one paragraph
      with <span><code>&lt;empty-line/&gt;</code></span>
      elements, which are not allowed inside <span><code>&lt;p&gt;</code></span> according to FB2
      schema.</li>
      <li>Replace <span><code>concatMap</code></span>
      with <span><code>cMap</code></span> (Alexander
      Krotov).</li>
      <li>Write FB2 lists without nesting blocks inside <span><code>&lt;p&gt;</code></span> (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/4004">#4004</a>)</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Make sure <span><code>html4</code></span>,
      <span><code>html5</code></span> formats work for
      raw blocks/inlines.</li>
      <li>Render raw inline environments when <span><code>--mathjax</code></span> used (<a href="https://github.com/jgm/pandoc/issues/3816">#3816</a>). We
      previously did this only with raw blocks, on the assumption that
      math environments would always be raw blocks. This has changed
      since we now parse them as inline environments.</li>
      <li>Ensure we don’t get two style attributes for width and
      height.</li>
      <li>Report when not rendering raw inline/block.</li>
      <li>Issue warning if no title specified and template used (<a href="https://github.com/jgm/pandoc/issues/3473">#3473</a>).</li>
      <li>Info message if <span><code>lang</code></span>
      is unspecified (<a href="https://github.com/jgm/pandoc/issues/3486">#3486</a>).</li>
      <li>Removed unused parameter in <span><code>dimensionsToAttributeList</code></span>.</li>
      <li>Avoid two class attributes when adding <span><code>uri</code></span> class (<a href="https://github.com/jgm/pandoc/issues/3716">#3716</a>).</li>
      <li>Fix internal links with <span><code>writerIdentifierPrefix opt</code></span> (<a href="https://github.com/jgm/pandoc/issues/3397">#3397</a>, Mauro
      Bieg).</li>
      <li>Use revealjs’s math plugin for mathjax (<a href="https://github.com/jgm/pandoc/issues/3743">#3743</a>). This
      is a thin wrapper around mathjax that makes math look better on
      revealjs.</li>
      <li>Slidy: use h1 for all slides, even if they were originally
      level 2 headers (<a href="https://github.com/jgm/pandoc/issues/3566">#3566</a>).
      Otherwise the built-in table of contents in Slidy breaks.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Don’t render LaTeX images with data: URIs (<a href="https://github.com/jgm/pandoc/issues/3636">#3636</a>). Note
      that <span><code>--extract-media</code></span> can
      be used when the input contains data: URIs.</li>
      <li>Make highlighted code blocks work in footnotes (Timm
      Albers).</li>
      <li>Don’t use figure inside table cell (<a href="https://github.com/jgm/pandoc/issues/3836">#3836</a>).</li>
      <li>Use proper code for list enumerators (<a href="https://github.com/jgm/pandoc/issues/3891">#3891</a>). This
      should fix problems with lists that don’t use arabic
      numerals.</li>
      <li>Always add hypertarget when there’s a non-empty identifier (<a href="https://github.com/jgm/pandoc/issues/2719">#2719</a>).
      Previously the hypertargets were only added when there was
      actually a link to that identifier.</li>
      <li>Use <span><code>%</code></span> after
      hypertarget before code block.</li>
      <li>Add <span><code>\leavevmode</code></span>
      before hypertarget at start of paragraph (<a href="https://github.com/jgm/pandoc/issues/2704">#2704</a>, fixes
      formatting problems in beamer citations).</li>
      <li>Don’t use <span><code>lstinline</code></span>
      in <span><code>\item[..]</code></span> (<a href="https://github.com/jgm/pandoc/issues/645">#645</a>). If you
      do, the contents of item disappear or are misplaced. Use <span><code>\texttt</code></span> instead.</li>
      <li>Fix problem with escaping in <span><code>lstinline</code></span> (<a href="https://github.com/jgm/pandoc/issues/1629">#1629</a>).
      Previously the LaTeX writer created invalid LaTeX when <span><code>--listings</code></span> was specified and a
      code span occurred inside emphasis or another construction.</li>
      <li>Fix error with line breaks after empty content (<a href="https://github.com/jgm/pandoc/issues/2874">#2874</a>). LaTeX
      requires something before a line break, so we insert a <span><code>~</code></span> if no printable content has
      yet been emitted.</li>
      <li>Use BCP47 parser.</li>
      <li>Fixed detection of otherlangs (<a href="https://github.com/jgm/pandoc/issues/3770">#3770</a>). We
      weren’t recursing into inline contexts.</li>
      <li>Handle language in inline code with <span><code>--listings</code></span> (<a href="https://github.com/jgm/pandoc/issues/3422">#3422</a>).</li>
      <li>Write euro symbol directly in LaTeX (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/3801">#3801</a>). The
      textcomp package allows pdfLaTeX to parse <span><code>€</code></span> directly, making the <span><code>\euro</code></span> command unneeded.</li>
      <li>Fixed footnotes in table captions (<a href="https://github.com/jgm/pandoc/issues/2378">#2378</a>). Note
      that if the table has a first page header and a continuation page
      header, the notes will appear only on the first occurrence of the
      header.</li>
      <li>In <span><code>writeBeamer</code></span>
      output, allow hyperlinks to frames (<a href="https://github.com/jgm/pandoc/issues/3220">#3220</a>).
      Previously you could link to a header above or below slide level
      but not <em>to</em> slide level. This commit changes that.
      Hypertargets are inserted inside frame titles; technically the
      reference is to just after the title, but in normal use (where
      slides are viewed full screen in a slide show), this does not
      matter.</li>
      <li>Remove <span><code>\strut</code></span> at
      beginning of table cells (<a href="https://github.com/jgm/pandoc/issues/3436">#3436</a>). This
      fixes a problem with alignment of lists in table cells. The <span><code>\strut</code></span> at the end seems to be
      enough to avoid the too-close spacing that motivated addition of
      the strut in <a href="https://github.com/jgm/pandoc/issues/1573">#1573</a>.</li>
      <li>Add partial siunitx Support (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3588">#3588</a>).</li>
      </ul></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Refactored to use BCP47 module.</li>
      <li>Remove unnecessary <span><code>$</code></span>
      (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/3482">#3482</a>).</li>
      <li>Use header identifiers for chapters (<a href="https://github.com/jgm/pandoc/issues/3968">#3968</a>).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li><span><code>title_page.xhtml</code></span> is
      now put in <span><code>text/</code></span>.</li>
      <li>Don’t strip formatting in TOC (<a href="https://github.com/jgm/pandoc/issues/1611">#1611</a>).</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Fix bug for certain links in table cells (<a href="https://github.com/jgm/pandoc/issues/3667">#3667</a>).</li>
      <li>Allow ‘pre’ code in list item (<a href="https://github.com/jgm/pandoc/issues/3916">#3916</a>).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Added warnings for ignored material (<a href="https://github.com/jgm/pandoc/issues/3392">#3392</a>).</li>
      <li>Better sanity checks to avoid parsing unintended things as raw
      HTML in the Markdown reader (<a href="https://github.com/jgm/pandoc/issues/3257">#3257</a>).</li>
      <li>Revise treatment of <span><code>li</code></span> with <span><code>id</code></span> attribute (<a href="https://github.com/jgm/pandoc/issues/3596">#3596</a>).
      Previously we always added an empty div before the list item, but
      this created problems with spacing in tight lists. Now we do this:
      If the list item contents begin with a <span><code>Plain</code></span> block, we modify the
      <span><code>Plain</code></span> block by adding a
      <span><code>Span</code></span> around its contents.
      Otherwise, we add a <span><code>Div</code></span>
      around the contents of the list item (instead of adding an empty
      <span><code>Div</code></span> to the beginning, as
      before).</li>
      <li>Add <span><code>details</code></span> tag to
      list of block tags (<a href="https://github.com/jgm/pandoc/issues/3694">#3694</a>).</li>
      <li>Removed <span><code>button</code></span> from
      block tag list (<a href="https://github.com/jgm/pandoc/issues/3717">#3717</a>). It is
      already in the <span><code>eitherBlockOrInlineTag</code></span> list,
      and should be both places.</li>
      <li>Use <span><code>Set</code></span>s instead of
      lists for block tag lookup.</li>
      <li>Rewrote to use <span><code>Text</code></span>
      throughout. Effect on memory usage is modest (&lt; 10%).</li>
      <li>Use the lang value of <span><code>&lt;html&gt;</code></span> to set the lang
      meta value (bucklereed, <a href="https://github.com/jgm/pandoc/issues/3765">#3765</a>).</li>
      <li>Ensure that paragraphs are closed properly when the parent
      block element closes, even without <span><code>&lt;/p&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/3794">#3794</a>).</li>
      <li>Parse <span><code>&lt;figure&gt;</code></span>
      and <span><code>&lt;figcaption&gt;</code></span>
      (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3813">#3813</a>).</li>
      <li>Parse <span><code>&lt;main&gt;</code></span>
      like <span><code>&lt;div role=main&gt;</code></span>
      (bucklereed, <a href="https://github.com/jgm/pandoc/issues/3791">#3791</a>). <span><code>&lt;main&gt;</code></span> closes <span><code>&lt;p&gt;</code></span> and behaves like a
      block element generally</li>
      <li>Support column alignments (<a href="https://github.com/jgm/pandoc/issues/1881">#1881</a>). These
      can be set either with a <span><code>width</code></span> attribute or with <span><code>text-width</code></span> in a <span><code>style</code></span> attribute.</li>
      <li>Modified state type to be an instance of <span><code>HasLogMessages</code></span>, so <span><code>registerHeader</code></span> can issue
      warnings.</li>
      <li><span><code>&lt;/td&gt;</code></span> or <span><code>&lt;/th&gt;</code></span> should close any
      open block tag (<a href="https://github.com/jgm/pandoc/issues/3991">#3991</a>).</li>
      <li><span><code>&lt;td&gt;</code></span> should
      close an open <span><code>&lt;th&gt;</code></span>
      or <span><code>&lt;td&gt;</code></span>.</li>
      <li><span><code>htmlTag</code></span> improvements
      (<a href="https://github.com/jgm/pandoc/issues/3989">#3989</a>).
      We previously failed on cases where an attribute contained a <span><code>&gt;</code></span> character. This patch
      fixes the bug, which especially affects raw HTML in Markdown.</li>
      </ul></li>
      <li><p>Txt2Tags reader:</p>
      <ul>
      <li>Newline is not indentation (Alexander Krotov).</li>
      </ul></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Allow extra hyphens after <span><code>|-</code></span> in tables (<a href="https://github.com/jgm/pandoc/issues/2649">#2649</a>).</li>
      <li>Allow blank line after table start (<a href="https://github.com/jgm/pandoc/issues/2649">#2649</a>).</li>
      <li>Fixed more table issues (<a href="https://github.com/jgm/pandoc/issues/2649">#2649</a>).</li>
      <li>Ensure that list starts begin at left margin (<a href="https://github.com/jgm/pandoc/issues/2606">#2606</a>).
      Including when they’re in tables or other list items.</li>
      <li>Make smart double quotes depend on <span><code>smart</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/3585">#3585</a>).</li>
      <li>Don’t do curly quotes inside <span><code>&lt;tt&gt;</code></span> contexts (<a href="https://github.com/jgm/pandoc/issues/3585">#3585</a>). Even
      if <span><code>+smart</code></span>.</li>
      <li>Modified state type to be an instance of <span><code>HasLogMessages</code></span>, so <span><code>registerHeader</code></span> can issue
      warnings.</li>
      </ul></li>
      <li><p>TWiki reader (Alexander Krotov):</p>
      <ul>
      <li>Remove unnecessary <span><code>$</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/3597">#3597</a>).</li>
      <li>Simplify <span><code>linkText</code></span> (<a href="https://github.com/jgm/pandoc/issues/3605">#3605</a>).</li>
      </ul></li>
      <li><p>EPUB reader:</p>
      <ul>
      <li>Minor refactoring, avoiding explicit MediaBag handling. This
      all works behind the scenes in CommonState plumbing.</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Don’t drop smartTag contents (<a href="https://github.com/jgm/pandoc/issues/2242">#2242</a>).</li>
      <li>Handle local namespace declarations (<a href="https://github.com/jgm/pandoc/issues/3365">#3365</a>).
      Previously we didn’t recognize math, for example, when the xmlns
      declaration occurred on the element and not the root.</li>
      <li>More efficient trimSps (<a href="https://github.com/jgm/pandoc/issues/1530">#1530</a>).
      Replacing <span><code>trimLineBreaks</code></span>.
      This does the work of <span><code>normalizeSpaces</code></span> as well, so we
      avoid the need for that function here.</li>
      <li>Avoid 0-level headers (Jesse Rosenthal, <a href="https://github.com/jgm/pandoc/issues/3830">#3830</a>). We
      used to parse paragraphs styled with “HeadingN” as “nth-level
      header.” But if a document has a custom style named “Heading0”,
      this will produce a 0-level header, which shouldn’t exist. We only
      parse this style if N&gt;0. Otherwise we treat it as a normal
      style name, and follow its dependencies, if any.</li>
      <li>Add tests for avoiding zero-level header (Jesse
      Rosenthal).</li>
      </ul></li>
      <li><p>ODT reader:</p>
      <ul>
      <li>Replaced <span><code>collectRights</code></span> with Rights from
      <span><code>Data.Either</code></span>.</li>
      <li>Remove dead code (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel, unless noted).</p>
      <ul>
      <li>Don’t allow tables inside list items (John MacFarlane, <a href="https://github.com/jgm/pandoc/issues/3499">#3499</a>).</li>
      <li>Disallow tables on list marker lines (<a href="https://github.com/jgm/pandoc/issues/3499">#3499</a>).</li>
      <li>Convert markup at beginning of footnotes (John MacFarlane, <a href="https://github.com/jgm/pandoc/issues/3576">#3576</a>).</li>
      <li>Allow emphasized text to be followed by <span><code>[</code></span> (<a href="https://github.com/jgm/pandoc/issues/3577">#3577</a>).</li>
      <li>Handle line numbering switch for src blocks. The
      line-numbering switch that can be given to source blocks (<span><code>-n</code></span> with an start number as an
      optional parameter) is parsed and translated to a class/key-value
      combination used by highlighting and other readers and
      writers.</li>
      <li>Stop adding rundoc prefix to src params. Source block
      parameter names are no longer prefixed with <span><code>rundoc</code></span>. This was intended to
      simplify working with the rundoc project, a babel runner. However,
      the rundoc project is unmaintained, and adding those markers is
      not the reader’s job anyway. The original language that is
      specified for a source element is now retained as the <span><code>data-org-language</code></span> attribute and
      only added if it differs from the translated language.</li>
      <li>Allow multi-word arguments to src block params (<a href="https://github.com/jgm/pandoc/issues/3477">#3477</a>). The
      reader now correctly parses src block parameter list even if
      parameter arguments contain multiple words.</li>
      <li>Avoid creating <span><code>nullMeta</code></span> by applying <span><code>setMeta</code></span> directly (Alexander
      Krotov).</li>
      <li>Replace <span><code>sequence . map</code></span> with <span><code>mapM</code></span>.</li>
      <li>Fix smart parsing behavior. Parsing of smart quotes and
      special characters can either be enabled via the <span><code>smart</code></span> language extension or the
      <span><code>&#39;</code></span> and <span><code>-</code></span> export options. Smart parsing
      is active if either the extension or export option is enabled.
      Only smart parsing of special characters (like ellipses and en and
      em dashes) is enabled by default, while smart quotes are disabled.
      Previously, all smart parsing was disabled unless the language
      extension was enabled.</li>
      <li>Subject full doc tree to headline transformations (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3695">#3695</a>). Emacs
      parses org documents into a tree structure, which is then
      post-processed during exporting. The reader is changed to do the
      same, turning the document into a single tree of headlines
      starting at level 0.</li>
      <li>Fix cite parsing behaviour (Herwig Stuetz). Until now, <span><code>org-ref</code></span> cite keys included
      special characters also at the end. This caused problems when
      citations occur right before colons or at the end of a sentence.
      With this change, all non alphanumeric characters at the end of a
      cite key are ignored. This also adds <span><code>,</code></span> to the list of special
      characters that are legal in cite keys to better mirror the
      behaviour of org-export.</li>
      <li>Fix module names in haddock comments. Copy-pasting had lead to
      haddock module descriptions containing the wrong module
      names.</li>
      <li>Recognize babel result blocks with attributes (<a href="https://github.com/jgm/pandoc/issues/3706">#3706</a>). Babel
      result blocks can have block attributes like captions and names.
      Result blocks with attributes were not recognized and were parsed
      as normal blocks without attributes.</li>
      <li>Include tags in headlines. The Emacs default is to include
      tags in the headline when exporting. Instead of just empty spans,
      which contain the tag name as attribute, tags are rendered as
      small caps and wrapped in those spans. Non-breaking spaces serve
      as separators for multiple tags.</li>
      <li>Respect export option for tags (<a href="https://github.com/jgm/pandoc/issues/3713">#3713</a>). Tags
      are appended to headlines by default, but will be omitted when the
      <span><code>tags</code></span> export option is set
      to nil.</li>
      <li>Use <span><code>tag-name</code></span>
      attribute instead of <span><code>data-tag-name</code></span>.</li>
      <li>Use <span><code>org-language</code></span>
      attribute rather than <span><code>data-org-language</code></span>.</li>
      <li>Modified state type to be an instance of <span><code>HasLogMessages</code></span>, so <span><code>registerHeader</code></span> can issue
      warnings.</li>
      <li>End footnotes after two blank lines. Footnotes can not only be
      terminated by the start of a new footnote or a header, but also by
      two consecutive blank lines.</li>
      <li>Update emphasis border chars (<a href="https://github.com/jgm/pandoc/issues/3933">#3933</a>). The
      org reader was updated to match current org-mode behavior: the set
      of characters which are acceptable to occur as the first or last
      character in an org emphasis have been changed and now allows all
      non-whitespace chars at the inner border of emphasized text (see
      <span><code>org-emphasis-regexp-components</code></span>).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li><p>Fixed small bug in list parsing (<a href="https://github.com/jgm/pandoc/issues/3432">#3432</a>).
      Previously the parser didn’t handle properly this case:</p>
      <pre><code>* - a
  - b
* - c
  - d</code></pre></li>
      <li><p>Handle multiline cells in simple tables (<a href="https://github.com/jgm/pandoc/issues/1166">#1166</a>).</p></li>
      <li><p>Parse list table directive (Keiichiro Shikano, <a href="https://github.com/jgm/pandoc/issues/3432">#3432</a>).</p></li>
      <li><p>Make use of <span><code>anyLineNewline</code></span> (Alexander
      Krotov, <a href="https://github.com/jgm/pandoc/issues/3686">#3686</a>).</p></li>
      <li><p>Use <span><code>anyLineNewline</code></span>
      in <span><code>rawListItem</code></span> (Alexander
      Krotov, <a href="https://github.com/jgm/pandoc/issues/3702">#3702</a>).</p></li>
      <li><p>Reorganize block parsers for ~20% faster parsing.</p></li>
      <li><p>Fixed <span><code>..include::</code></span>
      directive (<a href="https://github.com/jgm/pandoc/issues/3880">#3880</a>).</p></li>
      <li><p>Handle blank lines correctly in line blocks (Alexander
      Krotov, <a href="https://github.com/jgm/pandoc/issues/3881">#3881</a>).
      Previously pandoc would sometimes combine two line blocks
      separated by blanks, and ignore trailing blank lines within the
      line block.</p></li>
      <li><p>Fix indirect hyperlink targets (<a href="https://github.com/jgm/pandoc/issues/512">#512</a>).</p></li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow attributes in reference links to start on next line (<a href="https://github.com/jgm/pandoc/issues/3674">#3674</a>).</li>
      <li>Parse YAML metadata in a context that sees footnotes defined
      in the body of the document (<a href="https://github.com/jgm/pandoc/issues/1279">#1279</a>).</li>
      <li>When splitting pipe table cells, skip tex math (<a href="https://github.com/jgm/pandoc/issues/3481">#3481</a>). You
      might have a <span><code>|</code></span> character
      inside math. (Or for that matter something that the parser might
      mistake for raw HTML.)</li>
      <li>Treat span with class <span><code>smallcaps</code></span> as SmallCaps. This
      allows users to specify small caps in Markdown this way: <span><code>[my text]{.smallcaps}</code></span> (<a href="https://github.com/jgm/pandoc/issues/1592">#1592</a>).</li>
      <li>Fixed internal header links (<a href="https://github.com/jgm/pandoc/issues/2397">#2397</a>). This
      patch also adds <span><code>shortcut_reference_links</code></span> to the
      list of mmd extensions.</li>
      <li>Treat certain environments as inline when they occur without
      space surrounding them (<a href="https://github.com/jgm/pandoc/issues/3309">#3309</a>, <a href="https://github.com/jgm/pandoc/issues/2171">#2171</a>). E.g.
      equation, math. This avoids incorrect vertical space around
      equations.</li>
      <li>Optimized <span><code>nonindentSpaces</code></span>. Makes the
      benchmark go from 40 to 36 ms.</li>
      <li>Allow latex macro definitions indented 1-3 spaces. Previously
      they only worked if nonindented.</li>
      <li>Improved parsing of indented raw HTML blocks (<a href="https://github.com/jgm/pandoc/issues/1841">#1841</a>).
      Previously we inadvertently interpreted indented HTML as code
      blocks. This was a regression. We now seek to determine the
      indentation level of the contents of an HTML block, and
      (optionally) skip that much indentation. As a side effect,
      indentation may be stripped off of raw HTML blocks, if <span><code>markdown_in_html_blocks</code></span> is
      used. This is better than having things interpreted as indented
      code blocks.</li>
      <li>Fixed smart quotes after emphasis (<a href="https://github.com/jgm/pandoc/issues/2228">#2228</a>). E.g.
      in <span><code>*foo*&#39;s &#39;foo&#39;</code></span>.</li>
      <li>Warn for notes defined but not used (<a href="https://github.com/jgm/pandoc/issues/1718">#1718</a>).</li>
      <li>Use <span><code>anyLineNewline</code></span>
      (Alexander Krotov).</li>
      <li>Interpret YAML metadata as Inlines when possible (<a href="https://github.com/jgm/pandoc/issues/3755">#3755</a>). If
      the metadata field is all on one line, we try to interpret it as
      Inlines, and only try parsing as Blocks if that fails. If it
      extends over one line (including possibly the <span><code>|</code></span> or <span><code>&gt;</code></span> character signaling an
      indented block), then we parse as Blocks. This was motivated by
      some German users finding that <span><code>date: &#39;22. Juin 2017&#39;</code></span> got
      parsed as an ordered list.</li>
      <li>Fixed spurious parsing as citation as reference def (<a href="https://github.com/jgm/pandoc/issues/3840">#3840</a>). We
      now disallow reference keys starting with <span><code>@</code></span> if the <span><code>citations</code></span> extension is
      enabled.</li>
      <li>Parse <span><code><a href="https://bytes.zone/cdn-cgi/l/email-protection" data-cfemail="fdd0bd8f9298">[email protected]</a></code></span> as
      suppress-author citation (pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/237">#237</a>).
      Previously only <span><code>[<a href="https://bytes.zone/cdn-cgi/l/email-protection" data-cfemail="e3cea3918c86">[email protected]</a>]</code></span>
      (with brackets) was recognized as suppress-author, and <span><code><a href="https://bytes.zone/cdn-cgi/l/email-protection" data-cfemail="9ab7dae8f5ff">[email protected]</a></code></span> was treated the same as
      <span><code>@roe</code></span>.</li>
      <li>Fixed parsing of fenced code after list when there is no
      intervening blank line (<a href="https://github.com/jgm/pandoc/issues/3733">#3733</a>).</li>
      <li>Allow raw latex commands starting with <span><code>\start</code></span> (<a href="https://github.com/jgm/pandoc/issues/3558">#3558</a>).
      Previously these weren’t allowed because they were interpreted as
      starting ConTeXt environments, even without a corresponding <span><code>\stop</code></span>…</li>
      <li>Added <span><code>inlines</code></span>, <span><code>inlines1</code></span>.</li>
      <li>Require nonempty alt text for <span><code>implicit_figures</code></span> (<a href="https://github.com/jgm/pandoc/issues/2844">#2844</a>). A
      figure with an empty caption doesn’t make sense.</li>
      <li>Removed texmath macro material; now all this is handled in the
      LaTeX reader functions.</li>
      <li>Fixed bug with indented code following raw LaTeX (<a href="https://github.com/jgm/pandoc/issues/3947">#3947</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Rewrote LaTeX reader with proper tokenization (<a href="https://github.com/jgm/pandoc/issues/1390">#1390</a>, <a href="https://github.com/jgm/pandoc/issues/2118">#2118</a>, <a href="https://github.com/jgm/pandoc/issues/3236">#3236</a>, <a href="https://github.com/jgm/pandoc/issues/3779">#3779</a>, <a href="https://github.com/jgm/pandoc/issues/934">#934</a>, <a href="https://github.com/jgm/pandoc/issues/982">#982</a>). This
      rewrite is primarily motivated by the need to get macros working
      properly. A side benefit is that the reader is significantly
      faster. We now tokenize the input text, then parse the token
      stream. Macros modify the token stream, so they should now be
      effective in any context, including math. Thus, we no longer need
      the clunky macro processing capacities of texmath.</li>
      <li>Parse <span><code>\,</code></span> to <span><code>\8198</code></span> (six-per-em space) (Henri
      Werth).</li>
      <li>Allow <span><code>\newcommand\foo{blah}</code></span> without
      braces.</li>
      <li>Support <span><code>\lstinputlisting</code></span> (<a href="https://github.com/jgm/pandoc/issues/2116">#2116</a>).</li>
      <li>Issue warnings when skipping unknown latex commands (<a href="https://github.com/jgm/pandoc/issues/3392">#3392</a>).</li>
      <li>Include contents of <span><code>\parbox</code></span>.</li>
      <li>Allow <span><code>\hspace</code></span> and
      <span><code>\vspace</code></span> to count as raw
      block or inline. Previously we would refuse to parse anything as
      raw inline if it was in the <span><code>blockCommands</code></span> list. Now we
      allow exceptions if they’re listed under ignoreInlines in
      inlineCommands. This should make it easier e.g. to include an
      <span><code>\hspace</code></span> between two
      side-by-side raw LaTeX tables.</li>
      <li>Don’t drop contents of <span><code>\hypertarget</code></span>.</li>
      <li>Handle spaces before <span><code>\cite</code></span> arguments.</li>
      <li>Allow newpage, clearpage, pagebreak in inline contexts as well
      as block contexts (<a href="https://github.com/jgm/pandoc/issues/3494">#3494</a>).</li>
      <li>Treat <span><code>{{xxx}}</code></span> the
      same as <span><code>{xxx}</code></span> (<a href="https://github.com/jgm/pandoc/issues/2115">#2115</a>).</li>
      <li>Use <span><code>pMacroDefinition</code></span>
      in macro (for more direct parsing). Note that this means that
      <span><code>macro</code></span> will now parse one
      macro at a time, rather than parsing a whole group together.</li>
      <li>Fixed failures on <span><code>\ref{}</code></span>, <span><code>\label{}</code></span> with <span><code>+raw_tex</code></span>. Now these commands
      are parsed as raw if <span><code>+raw_tex</code></span>; otherwise, their
      argument is parsed as a bracketed string.</li>
      <li>Don’t crash on empty <span><code>enumerate</code></span> environment (<a href="https://github.com/jgm/pandoc/issues/3707">#3707</a>).</li>
      <li>Handle escaped <span><code>&amp;</code></span>
      inside table cell (<a href="https://github.com/jgm/pandoc/issues/3708">#3708</a>).</li>
      <li>Handle block structure inside table cells (<a href="https://github.com/jgm/pandoc/issues/3709">#3709</a>). <span><code>minipage</code></span> is no longer
      required.</li>
      <li>Handle some width specifiers on table columns (<a href="https://github.com/jgm/pandoc/issues/3709">#3709</a>).
      Currently we only handle the form <span><code>0.9\linewidth</code></span>. Anything else
      would have to be converted to a percentage, using some kind
      arbitrary assumptions about line widths.</li>
      <li>Make sure <span><code>\write18</code></span> is
      parsed as raw LaTeX. The change is in the LaTeX reader’s treatment
      of raw commands, but it also affects the Markdown reader.</li>
      <li>Fixed regression with starred environment names (<a href="https://github.com/jgm/pandoc/issues/3803">#3803</a>).</li>
      <li>Handle optional args in raw <span><code>\titleformat</code></span> (<a href="https://github.com/jgm/pandoc/issues/3804">#3804</a>).</li>
      <li>Improved heuristic for raw block/inline. An unknown command at
      the beginning of the line that could be either block or inline is
      treated as block if we have a sequence of block commands followed
      by a newline or a <span><code>\startXXX</code></span> command (which might
      start a raw ConTeXt environment).</li>
      <li>Don’t remove macro definitions from the output, even if <span><code>Ext_latex_macros</code></span> is set, so
      that macros will be applied. Since they’re only applied to math in
      Markdown, removing the macros can have bad effects. Even for math
      macros, keeping them should be harmless.</li>
      <li>Removed <span><code>macro</code></span>. It is
      no longer necessary, since the <span><code>rawLaTeXBlock</code></span> parser will parse
      macro definitions. This also avoids the need for a separate <span><code>latexMacro</code></span> parser in the
      Markdown reader.</li>
      <li>Use <span><code>label</code></span> instead of
      <span><code>data-label</code></span> for label in
      caption (<a href="https://github.com/jgm/pandoc/issues/3639">#3639</a>).</li>
      <li>Fixed space after <span><code>\figurename</code></span> etc.</li>
      <li>Resolve references to section numbers.</li>
      <li>Fix <span><code>\let\a=0</code></span> case,
      with single character token.</li>
      <li>Allow <span><code>@</code></span> as a letter
      in control sequences. <span><code>@</code></span>
      is commonly used in macros using <span><code>\makeatletter</code></span>. Ideally we’d
      make the tokenizer sensitive to <span><code>\makeatletter</code></span> and <span><code>\makeatother</code></span>, but until then
      this seems a good change.</li>
      <li>Track header numbers and correlate with labels.</li>
      <li>Allow <span><code>]</code></span> inside group
      in option brackets (<a href="https://github.com/jgm/pandoc/issues/3857">#3857</a>).</li>
      <li>lstinline with braces can be used (verb cannot be used with
      braces) (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3535">#3535</a>).</li>
      <li>Fix keyval function: pandoc did not parse options in braces
      correctly (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3642">#3642</a>).</li>
      <li>When parsing raw LaTeX commands, include trailing space (<a href="https://github.com/jgm/pandoc/issues/1773">#1773</a>).
      Otherwise things like <span><code>\noindent foo</code></span> break and turn
      into <span><code>\noindentfoo</code></span>.
      Affects <span><code>-f latex+raw_tex</code></span>
      and <span><code>-f markdown</code></span> (and
      other formats that allow <span><code>raw_tex</code></span>).</li>
      <li>Don’t treat “…” as Quoted (<a href="https://github.com/jgm/pandoc/issues/3958">#3958</a>). This
      caused quotes to be omitted in <span><code>\texttt</code></span> contexts.</li>
      <li>Add tests for existing <span><code>\includegraphics</code></span> behaviour (Ben
      Firshman).</li>
      <li>Allow space before <span><code>=</code></span>
      in bracketd options (Ben Firshman).</li>
      <li>Be more forgiving in parsing command options. This was needed,
      for example, to make some minted options work.</li>
      <li>Strip off quotes in <span><code>\include</code></span> filenames.</li>
      </ul></li>
      <li><p>Added <span><code>Text.Pandoc.CSV</code></span>, simple
      (unexported) CSV parser.</p></li>
      <li><p><span><code>Text.Pandoc.PDF</code></span>:</p>
      <ul>
      <li>Got <span><code>--resource-path</code></span>
      working with PDF output (<a href="https://github.com/jgm/pandoc/issues/852">#852</a>).</li>
      <li>Fetch images when generating PDF via context (<a href="https://github.com/jgm/pandoc/issues/3380">#3380</a>). To do
      this, we create the temp directory as a subdirectory of the
      working directory. Since context mk IV by default looks for images
      in the parent directory, this works.</li>
      <li>Use <span><code>report</code></span> instead of
      <span><code>warn</code></span>, make it sensitive
      to verbosity settings.</li>
      <li>Use <span><code>fillMediaBag</code></span> and
      <span><code>extractMedia</code></span> to extract
      media to temp dir. This reduces code duplication.</li>
      <li><span><code>html2pdf</code></span>: use stdin
      instead of intermediate HTML file</li>
      <li>Removed useless <span><code>TEXINPUTS</code></span> stuff for <span><code>context2pdf</code></span>. mkiv context
      doesn’t use <span><code>TEXINPUTS</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>:</p>
      <ul>
      <li>Simplified definition of <span><code>realLength</code></span>.</li>
      <li>Don’t error for blocks of size &lt; 1. Instead, resize to 1
      (see <a href="https://github.com/jgm/pandoc/issues/1785">#1785</a>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.MIME</code></span>:</p>
      <ul>
      <li>Use <span><code>application/javascript</code></span> (not
      <span><code>application/x-javascript</code></span>).</li>
      <li>Added <span><code>emf</code></span> to
      mimeTypes with type <span><code>application/x-msmetafile</code></span> (<a href="https://github.com/jgm/pandoc/issues/1713">#1713</a>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>:</p>
      <ul>
      <li>Improve SVG image size code (Marc Schreiber, <a href="https://github.com/jgm/pandoc/issues/3580">#3580</a>).</li>
      <li>Make <span><code>imageSize</code></span>
      recognize basic SVG dimensions (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3462">#3462</a>).</li>
      </ul></li>
      <li><p>Use <span><code>Control.Monad.State.Strict</code></span>
      throughout. This gives 20-30% speedup and reduction of memory
      usage in most of the writers.</p></li>
      <li><p>Use <span><code>foldrWithKey</code></span>
      instead of deprecated <span><code>foldWithKey</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.SelfContained</code></span>:</p>
      <ul>
      <li>Fixed problem with embedded fonts (<a href="https://github.com/jgm/pandoc/issues/3629">#3629</a>).</li>
      <li>Refactored getData from <span><code>getDataURI</code></span> in <span><code>SelfContained</code></span>.</li>
      <li>Don’t use data URIs for script or style (<a href="https://github.com/jgm/pandoc/issues/3423">#3423</a>).
      Instead, just use script or style tags with the content inside.
      The old method with data URIs prevents certain optimizations
      outside pandoc. Exception: data URIs are still used when a script
      contains <span><code>&lt;/script&gt;</code></span>
      or a style contains <span><code>&lt;/</code></span>.</li>
      <li>SelfContained: Handle URL inside material retrieved from a URL
      (<a href="https://github.com/jgm/pandoc/issues/3629">#3629</a>).
      This can happen e.g. with an <span data-cites="import">@import</span> of a google web font. (What is
      imported is some CSS which contains an url reference to the font
      itself.) Also, allow unescaped pipe (|) in URL.</li>
      <li>Load resources from <span><code>data-src</code></span> (needed for lazy
      loading in reveal.js slide shows).</li>
      <li>Handle <span><code>data-background-image</code></span> attribute
      on section (<a href="https://github.com/jgm/pandoc/issues/3979">#3979</a>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Added <span><code>indentWith</code></span>
      (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/3687">#3687</a>).</li>
      <li>Added <span><code>stateCitations</code></span>
      to <span><code>ParserState</code></span>.</li>
      <li>Removed <span><code>stateChapters</code></span>
      from <span><code>ParserState</code></span>.</li>
      <li>In <span><code>ParserState</code></span>, make
      <span><code>stateNotes&#39;</code></span> a Map, add
      <span><code>stateNoteRefs</code></span>.</li>
      <li>Added <span><code>gobbleSpaces</code></span>
      and <span><code>gobbleAtMostSpaces</code></span>.</li>
      <li>Adjusted type of <span><code>insertIncludedFile</code></span> so it can be
      used with token parser.</li>
      <li>Replace old texmath macro stuff from Parsing. Use Macro from
      Text.Pandoc.Readers.LaTeX.Types instead.</li>
      <li>Export <span><code>insertIncludedFile</code></span>.</li>
      <li>Added <span><code>HasLogMessages</code></span>,
      <span><code>logMessage</code></span>, <span><code>reportLogMessages</code></span> (<a href="https://github.com/jgm/pandoc/issues/3447">#3447</a>).</li>
      <li>Replace partial with total function (Albert Krewinkel).</li>
      <li>Introduce <span><code>HasIncludeFiles</code></span> type class
      (Albert Krewinkel). The <span><code>insertIncludeFile</code></span> function is
      generalized to work with all parser states which are instances of
      that class.</li>
      <li>Add <span><code>insertIncludedFilesF</code></span> which
      returns F blocks (Albert Krewinkel). The <span><code>insertIncludeFiles</code></span> function was
      generalized and renamed to <span><code>insertIncludedFiles&#39;</code></span>; the
      specialized versions are based on that.</li>
      <li><span><code>many1Till</code></span>: Check for
      the end condition before parsing (Herwig Stuetz). By not checking
      for the end condition before the first parse, the parser was
      applied too often, consuming too much of the input. This only
      affects <span><code>many1Till p end</code></span>
      where <span><code>p</code></span> matches on a
      prefix of <span><code>end</code></span>.</li>
      <li>Provide <span><code>parseFromString</code></span> (<a href="https://github.com/jgm/pandoc/issues/3690">#3690</a>). This
      is a version of <span><code>parseFromString</code></span> specialied to
      ParserState, which resets <span><code>stateLastStrPos</code></span> at the end.
      This is almost always what we want. This fixes a bug where <span><code>_hi_</code></span> wasn’t treated as emphasis
      in the following, because pandoc got confused about the position
      of the last word: <span><code>- [o] _hi_</code></span>.</li>
      <li>Added <span><code>takeP</code></span>, <span><code>takeWhileP</code></span> for efficient
      parsing of <span><code>[Char]</code></span>.</li>
      <li>Fix <span><code>blanklines</code></span>
      documentation (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/3843">#3843</a>).</li>
      <li>Give less misleading line information with <span><code>parseWithString</code></span>. Previously
      positions would be reported past the end of the chunk. We now
      reset the source position within the chunk and report positions
      “in chunk.”</li>
      <li>Add <span><code>anyLineNewline</code></span>
      (Alexander Krotov).</li>
      <li>Provide shared F monad functions for Markdown and Org readers
      (Albert Krewinkel). The <span><code>F</code></span>
      monads used for delayed evaluation of certain values in the
      Markdown and Org readers are based on a shared data type capturing
      the common pattern of both <span><code>F</code></span> types.</li>
      <li>Add <span><code>returnF</code></span>
      (Alexander Krotov).</li>
      <li>Avoid parsing <span><code>Notes:**</code></span> as a bare URI (<a href="https://github.com/jgm/pandoc/issues/3570">#3570</a>). This
      avoids parsing bare URIs that start with a scheme + colon + <span><code>*</code></span>, <span><code>_</code></span>, or <span><code>]</code></span>.</li>
      <li>Added <span><code>readerAbbreviations</code></span> to <span><code>ParserState</code></span>. Markdown reader
      now consults this to determine what is an abbreviation.</li>
      <li>Combine grid table parsers (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3638">#3638</a>). The
      grid table parsers for markdown and rst was combined into one
      single parser <span><code>gridTable</code></span>,
      slightly changing parsing behavior of both parsers: (1) The
      markdown parser now compactifies block content cell-wise: pure
      text blocks in cells are now treated as paragraphs only if the
      cell contains multiple paragraphs, and as plain blocks otherwise.
      Before, this was true only for single-column tables. (2) The rst
      parser now accepts newlines and multiple blocks in header
      cells.</li>
      <li>Generalize tableWith, gridTableWith (Albert Krewinkel). The
      parsing functions <span><code>tableWith</code></span> and <span><code>gridTableWith</code></span> are generalized
      to work with more parsers. The parser state only has to be an
      instance of the <span><code>HasOptions</code></span> class instead of
      requiring a concrete type. Block parsers are required to return
      blocks wrapped into a monad, as this makes it possible to use
      parsers returning results wrapped in <span><code>Future</code></span>s.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Simplify <span><code>toRomanNumeral</code></span> using guards
      (Alexander Krotov, <a href="https://github.com/jgm/pandoc/issues/3445">#3445</a>)</li>
      <li><span><code>stringify</code></span>: handle
      Quoted better (<a href="https://github.com/jgm/pandoc/issues/3958">#3958</a>).
      Previously we were losing the quotation marks in Quoted
      elements.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Writers.Shared</code></span>:</p>
      <ul>
      <li>Export <span><code>metaToJSON&#39;</code></span>,
      <span><code>addVariablesToJSON</code></span> (<a href="https://github.com/jgm/pandoc/issues/3439">#3439</a>). This
      allows us to add the variables AFTER using the metadata to
      generate a YAML header (in the Markdown writer).</li>
      <li>Added <span><code>unsmartify</code></span>
      (previously in RST writer). Undo literal double curly quotes.
      Previously we left these.</li>
      <li>Generalize type of <span><code>metaToJSON</code></span> so it can take a
      Text. Previously a String was needed as argument; now any ToJSON
      instance will do.</li>
      <li>Added <span><code>gridTable</code></span>
      (previously in Markdown writer).</li>
      <li><span><code>gridTable</code></span>: Refactored
      to use widths in chars.</li>
      <li><span><code>gridTable</code></span>: remove
      unnecessary extra space in cells.</li>
      <li>Fixed <span><code>addVariablesToJSON</code></span>. It was
      previously not allowing multiple values to become lists.</li>
      <li>Pipe tables: impose minimum cell size (see <a href="https://github.com/jgm/pandoc/issues/3526">#3526</a>).</li>
      </ul></li>
      </ul>
      </section>
      <section id="default-template-changes-1">
      <h3><a href="#default-template-changes-1" aria-hidden="true"></a>Default template changes</h3>
      <ul>
      <li><p>HTML templates (including EPUB and HTML slide show
      templates):</p>
      <ul>
      <li>Make default.html5 polyglot markup conformant (John Luke
      Bentley, <a href="https://github.com/jgm/pandoc/issues/3473">#3473</a>).
      Polyglot markup is HTML5 that is also valid XHTML. See <a href="https://www.w3.org/TR/html-polyglot">https://www.w3.org/TR/html-polyglot</a>. With this
      change, pandoc’s html5 writer creates HTML that is both valid
      HTML5 and valid XHTML.</li>
      <li>Regularized CSS in html/epub/html slide templates (<a href="https://github.com/jgm/pandoc/issues/3485">#3485</a>). All
      templates now include <span><code>code{white-space: pre-wrap}</code></span> and
      CSS for <span><code>q</code></span> if <span><code>--html-q-tags</code></span> is used.
      Previously some templates had <span><code>pre</code></span> and others <span><code>pre-wrap</code></span>; the <span><code>q</code></span> styles were only sometimes
      included.</li>
      <li>CSS for <span><code>.smallcaps</code></span>,
      (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/1592">#1592</a>)</li>
      <li><span><code>default.revealjs</code></span>:
      make <span><code>history</code></span> default to
      true.</li>
      <li><span><code>default.revealjs</code></span>: use
      lazy loading (<a href="https://github.com/jgm/pandoc/issues/2283">#2283</a>).</li>
      <li><span><code>default.revealjs</code></span>: add
      <span><code>mathjax</code></span> variable and some
      conditional code to use the MathJaX plugin.</li>
      <li><span><code>default.slidy</code></span> uses
      <span><code>https</code></span> instead of <span><code>http</code></span> (ickc, <a href="https://github.com/jgm/pandoc/issues/3848">#3848</a>).</li>
      <li><span><code>default.dzslides</code></span>:
      Load Google Font using HTTPS by default (Yoan Blanc).</li>
      </ul></li>
      <li><p>DocBook5 template: Use <span><code>lang</code></span> and <span><code>subtitle</code></span> variables (Jens
      Getreu, <a href="https://github.com/jgm/pandoc/issues/3855">#3855</a>).</p></li>
      <li><p>LaTeX/Beamer template:</p>
      <ul>
      <li>Combine LaTeX/Beamer templates (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/3878">#3878</a>). <span><code>default.beamer</code></span> has been
      removed; beamer now uses the <span><code>default.latex</code></span> template.
      Beamer-specific parts are conditional on the <span><code>beamer</code></span> variable set by the
      writer. Note that <span><code>pandoc -D beamer</code></span> will return
      this (combined) template.</li>
      <li>Use <span><code>xcolor</code></span> for <span><code>colorlinks</code></span> option (Andrew
      Dunning, <a href="https://github.com/jgm/pandoc/issues/3877">#3877</a>).
      Beamer loads <span><code>xcolor</code></span>
      rather than <span><code>color</code></span>, and
      thus the <span><code>dvipsnames</code></span>
      option doesn’t take effect. This also provides a wider range of
      colour selections with the <span><code>svgnames</code></span> option.</li>
      <li>Use starred versions of <span><code>xcolor</code></span> names (Andrew Dunning).
      Prevents changes to documents defined using the <span><code>dvipsnames</code></span> list (e.g. <span><code>Blue</code></span> gives a different result
      with svgnames enabled).</li>
      <li>Load <span><code>polyglossia</code></span>
      after header-includes (<a href="https://github.com/jgm/pandoc/issues/3898">#3898</a>). It
      needs to be loaded as late as possible.</li>
      <li>Use <span><code>unicode-math</code></span>
      (Vaclav Haisman). Use <span><code>mathspec</code></span> with only XeLaTeX on
      request.</li>
      <li>Don’t load <span><code>fontspec</code></span>
      before <span><code>unicode-math</code></span> (over
      there). The <span><code>unicode-math</code></span>
      package loads <span><code>fontspec</code></span> so
      explicit loading of <span><code>fontspec</code></span> before <span><code>unicode-math</code></span> is not
      necessary.</li>
      <li>Use <span><code>unicode-math</code></span> by
      default in default.latex template. mathspec will be used in
      xelatex if the <span><code>mathspec</code></span>
      variable is set; otherwise unicode-math will be used (Václav
      Haisman).</li>
      <li>Use <span><code>dvipsnames</code></span>
      options when <span><code>colorlinks</code></span>
      specified (otherwise we get an error for <span><code>maroon</code></span>) (Thomas Hodgson).</li>
      <li>Added beamer <span><code>titlegraphic</code></span> and <span><code>logo</code></span> variables (Thomas
      Hodgson).</li>
      <li>Fix typo in fix for notes in tables (<a href="https://github.com/jgm/pandoc/issues/2378">#2378</a>,
      zeeMonkeez).</li>
      <li>Fix <span><code>hyperref</code></span> options
      clash (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/3847">#3847</a>) Avoids
      an options clash when loading a package (e.g. <span><code>tufte-latex</code></span>) that uses <span><code>hyperref</code></span> settings different
      from those in the template.</li>
      <li>Add <span><code>natbiboptions</code></span>
      variable (<a href="https://github.com/jgm/pandoc/issues/3768">#3768</a>).</li>
      <li>Fix links inside captions in LaTeX output with links-as-notes
      (Václav Haisman, <a href="https://github.com/jgm/pandoc/issues/3651">#3651</a>).
      Declare our redefined <span><code>\href</code></span> robust.</li>
      <li>Load <span><code>parskip</code></span> before
      <span><code>hyperref</code></span> (Václav Haisman,
      <a href="https://github.com/jgm/pandoc/issues/3654">#3654</a>).</li>
      <li>Allow setting Japanese fonts when using LuaLaTeX (Václav
      Haisman, <a href="https://github.com/jgm/pandoc/issues/3873">#3873</a>). by
      using the <span><code>luatexja-fontspec</code></span> and <span><code>luatexja-preset</code></span> packages. Use
      existing <span><code>CJKmainfont</code></span> and
      <span><code>CJKoptions</code></span> template
      variables. Add <span><code>luatexjafontspecoptions</code></span> for
      <span><code>luatexja-fontspec</code></span> and
      <span><code>luatexjapresetoptions</code></span> for
      <span><code>luatexja-preset</code></span>.</li>
      <li>Added <span><code>aspectratio</code></span>
      variable to beamer template (Václav Haisman, <a href="https://github.com/jgm/pandoc/issues/3723">#3723</a>).</li>
      <li>Modified template.latex to fix XeLaTex being used with tables
      (lwolfsonkin, <a href="https://github.com/jgm/pandoc/issues/3661">#3661</a>).
      Reordered <span><code>lang</code></span> variable
      handling to immediately before <span><code>bidi</code></span>.</li>
      </ul></li>
      <li><p>ConTeXt template: Improved font handling: <span><code>simplefonts</code></span> is now obsolete in
      ConTeXt (Pablo Rodríguez).</p></li>
      </ul>
      </section>
      <section id="documentation-improvements-1">
      <h3><a href="#documentation-improvements-1" aria-hidden="true"></a>Documentation improvements</h3>
      <ul>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Add URL for Prince HTML &gt; PDF engine (Ian, <a href="https://github.com/jgm/pandoc/issues/3919">#3919</a>).</li>
      <li>Document that content above slide-level will be omitted in
      slide shows. See <a href="https://github.com/jgm/pandoc/issues/3460">#3460</a>, <a href="https://github.com/jgm/pandoc/issues/2265">#2265</a>.</li>
      <li>Explain <span><code>--webtex</code></span> SVG
      url (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3471">#3471</a>)</li>
      <li>Small clarification in YAML metadata section.</li>
      <li>Document that html4 is technically XHTML 1.0
      transitional.</li>
      <li>Remove refs to highlighting-kate (<a href="https://github.com/jgm/pandoc/issues/3672">#3672</a>).</li>
      <li>Document ibooks specific epub metadata.</li>
      <li>Clarify that mathml is used for ODT math.</li>
      <li>Mention limitations of Literate Haskell Support (<a href="https://github.com/jgm/pandoc/issues/3410">#3410</a>,
      Joachim Breitner).</li>
      <li>Add documentation of limitations of grid tables (Stephen
      McDowell, <a href="https://github.com/jgm/pandoc/issues/3864">#3864</a>).</li>
      <li>Clarify that meta-json contains transformed values (Jakob Voß,
      <a href="https://github.com/jgm/pandoc/issues/3491">#3491</a>)
      Make clear that template variable <span><code>meta-json</code></span> does not contain
      plain text values or JSON output format but field values
      transformed to the selected output format.</li>
      </ul></li>
      <li><p>COPYRIGHT:</p>
      <ul>
      <li>Clarify that templates are dual-licensed.</li>
      <li>Clarify that pandoc-types is BSD3 licensed.</li>
      <li>List new files not written by jgm (Albert Krewinkel).</li>
      <li>Update dates in copyright notices (Albert Krewinkel). This
      follows the suggestions given by the FSF for GPL licensed
      software. <a href="https://www.gnu.org/prep/maintain/html_node/Copyright-Notices.html">https://www.gnu.org/prep/maintain/html_node/Copyright-Notices.html</a></li>
      </ul></li>
      <li><p>INSTALL.md:</p>
      <ul>
      <li>Improved instructions for tests with patterns.</li>
      <li>Put RPM-based distros on separate point (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/3449">#3449</a>)</li>
      </ul></li>
      <li><p>CONTRIBUTING.md:</p>
      <ul>
      <li>Fixed typos (Wandmalfarbe, <a href="https://github.com/jgm/pandoc/issues/3479">#3479</a>).</li>
      <li>Add “ask on pandoc-discuss” (Mauro Bieg).</li>
      </ul></li>
      <li><p>Add lua filter documentation in <span><code>doc/lua-filters.md</code></span>. Note that
      the end of this document is autogenerated from <span><code>data/pandoc.lua</code></span> using <span><code>make doc/lua-filters.md</code></span>, which
      uses <span><code>tools/ldoc.ltp</code></span>
      (Albert Krewinkel).</p></li>
      <li><p>Add <span><code>doc/filters.md</code></span>. This is the old
      scripting tutorial from the website.</p></li>
      <li><p>Add <span><code>doc/using-the-pandoc-api.md</code></span> (<a href="https://github.com/jgm/pandoc/issues/3289">#3289</a>). This
      gives an introduction to using pandoc as a Haskell
      library.</p></li>
      </ul>
      </section>
      <section id="build-infrastructure-improvements-1">
      <h3><a href="#build-infrastructure-improvements-1" aria-hidden="true"></a>Build infrastructure improvements</h3>
      <ul>
      <li><p>Removed <span><code>data/templates</code></span> submodule.
      Templates are now a subtree in <span><code>data/templates</code></span>. This removes
      the need to do <span><code>git submodule     update</code></span>.</p></li>
      <li><p>Renamed <span><code>tests</code></span>
      -&gt; <span><code>test</code></span>.</p></li>
      <li><p>Remove <span><code>https</code></span> flag.
      Always build with HTTPS support.</p></li>
      <li><p>Use <span><code>file-embed</code></span>
      instead of <span><code>hsb2hs</code></span> to
      embed data files when <span><code>embed_data_files</code></span> flag is set.
      <span><code>file-embed</code></span> gives us
      better dependency tracking: if a data file changes,
      ghc/stack/cabal know to recompile the Data module. This also
      removes <span><code>hsb2hs</code></span> as a build
      dependency.</p></li>
      <li><p>Add <span><code>custom-setup</code></span>
      stanza to pandoc, lowercase field names.</p></li>
      <li><p>Add <span><code>static</code></span> Cabal
      flag.</p></li>
      <li><p>Name change OSX -&gt; MacOS. Add a -MacOS suffix to mac
      package rather than -OSX. Changed local names from osx to
      macos.</p></li>
      <li><p>make_macos_package.sh - Use strip to reduce executable
      size.</p></li>
      <li><p>Revised binary linux package. Now a completely static
      executable is created, using Docker and alpine. We create both a
      deb and a tarball. The old <span><code>deb</code></span> directory has been replaced
      with a <span><code>linux</code></span> directory.
      Running <span><code>make</code></span> in the <span><code>linux</code></span> directory should perform
      the build, putting the binary packages in <span><code>artifacts/</code></span>.</p></li>
      <li><p><span><code>linux/control.in</code></span>:
      add <span><code>Replaces:</code></span>, so
      existing pandoc-citeproc and pandoc-data packages will be
      uninstalled; this package provides both (<a href="https://github.com/jgm/pandoc/issues/3822">#3822</a>). Add
      latex packages as ‘suggested’, update description.</p></li>
      <li><p>Remove cpphs build requirement – it is no longer
      needed.</p></li>
      <li><p>Replaced <span><code>{deb,macos,windows}/stack.yaml</code></span>
      with <span><code>stack.pkg.yaml</code></span>.</p></li>
      <li><p>Name change OSX -&gt; macOS (ickc, <a href="https://github.com/jgm/pandoc/issues/3869">#3869</a>).</p></li>
      <li><p>Fix casing of Linux, UNIX, and Windows (ickc).</p></li>
      <li><p><span><code>.travis.yml</code></span>:
      create a source dist and do cabal build and test there. That way
      we catch errors due to files missing from the data section of
      pandoc.cabal.</p></li>
      <li><p>Makefile:</p>
      <ul>
      <li>Split <span><code>make haddock</code></span>
      from <span><code>make full</code></span>.</li>
      <li>Add BRANCH variable for winpkg.</li>
      <li>Add <span><code>lint</code></span> target.</li>
      <li>Improve <span><code>make full</code></span>.
      Disable optimizations. Build everything, inc. trypandoc and
      benchmarks. Use parallel build.</li>
      <li>Allow <span><code>make test</code></span> to
      take <span><code>TESTARGS</code></span>.</li>
      </ul></li>
      <li><p>Added new command tests (<span><code>Tests.Command</code></span>), using small
      text files in <span><code>test/command/</code></span>. Any files added
      in this directory will be treated as shell tests (see smart.md for
      an example). This makes it very easy to add regression tests
      etc.</p></li>
      <li><p>Test fixes so we can find data files. In old tests &amp;
      command tests, we now set the environment variable <span><code>pandoc_datadir</code></span>. In lua tests,
      we set the datadir explicitly.</p></li>
      <li><p>Refactored <span><code>compareOutput</code></span> in docx writer
      test.</p></li>
      <li><p>Consolidated some common functions in <span><code>Tests.Helper</code></span>.</p></li>
      <li><p>Small change to unbalanced bracket test to speed up test
      suite.</p></li>
      <li><p>Speed up Native writer quickcheck tests.</p></li>
      <li><p>Use tasty for tests rather than test-framework.</p></li>
      <li><p>Add simple Emacs mode to help with Pandoc templates
      editing. (Václav Haisman, <a href="https://github.com/jgm/pandoc/issues/3889">#3889</a>). <span><code>tools/pandoc-template-mode.el</code></span></p></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-1.19.2.4-2017-09-10">
      <h2><a href="#pandoc-1.19.2.4-2017-09-10" aria-hidden="true"></a>pandoc 1.19.2.4 (2017-09-10)</h2>
      <ul>
      <li>Add dependencies on texmath and skylighting to the executable.
      This is needed for dependency version numbers to be available,
      with Cabal &gt; 2.</li>
      </ul>
      </section>
      <section id="pandoc-1.19.2.3-2017-09-09">
      <h2><a href="#pandoc-1.19.2.3-2017-09-09" aria-hidden="true"></a>pandoc 1.19.2.3 (2017-09-09)</h2>
      <ul>
      <li>Add CPP to Setup.hs so it works with Cabal &gt;= 2 and &lt;
      2.</li>
      </ul>
      </section>
      <section id="pandoc-1.19.2.2-2017-09-08">
      <h2><a href="#pandoc-1.19.2.2-2017-09-08" aria-hidden="true"></a>pandoc 1.19.2.2 (2017-09-08)</h2>
      <ul>
      <li>Fix build with GHC 8.2.1 (<a href="https://github.com/jgm/pandoc/issues/3876">#3876</a>, Peter
      Simons). Setup.hs does not compile with Cabal 2.x, so we require
      an earlier version via setup-depends. The following packages need
      newer versions with GHC 8.2.1 and had their constraints relaxed
      accordingly: executable-path, process, syb, and time.</li>
      </ul>
      </section>
      <section id="pandoc-1.19.2.1-2017-01-31">
      <h2><a href="#pandoc-1.19.2.1-2017-01-31" aria-hidden="true"></a>pandoc 1.19.2.1 (2017-01-31)</h2>
      <ul>
      <li>Require skylighting &gt;= 0.1.1.4.</li>
      <li>Adjust test output for skylighting version.</li>
      <li>Relax upper bounds on blaze-html and blaze-markup.</li>
      </ul>
      </section>
      <section id="pandoc-1.19.2-2017-01-29">
      <h2><a href="#pandoc-1.19.2-2017-01-29" aria-hidden="true"></a>pandoc 1.19.2 (2017-01-29)</h2>
      <ul>
      <li><p>Use skylighting library instead of highlighting-kate for
      syntax highlighting. Skylighting is faster and more accurate (<a href="https://github.com/jgm/pandoc/issues/3363">#3363</a>). Later
      we’ll be able to add features like warning messages, dynamic
      loading of xml syntax definitions, and dynamic loading of
      themes.</p></li>
      <li><p>Added a new highlight style, <span><code>breezeDark</code></span>.</p></li>
      <li><p>Text.Pandoc.Highlighting: Update list of <span><code>listings</code></span> languages (<a href="https://github.com/jgm/pandoc/issues/3374">#3374</a>). This
      allows more languages to be used when using the <span><code>--listings</code></span> option.</p></li>
      <li><p>OpenDocument writer:</p>
      <ul>
      <li>Small refactoring. Removed separate ‘parent’ parameter in
      paraStyle.</li>
      <li>Don’t profilerate text styles unnecessarily (<a href="https://github.com/jgm/pandoc/issues/3371">#3371</a>). This
      change makes the writer create only as many temporary text styles
      as are absolutely necessary. It also consolidates adjacent nodes
      with the same style.</li>
      </ul></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Allow short hand for single-line raw blocks (Albert Krewinkel,
      <a href="https://github.com/jgm/pandoc/issues/3366">#3366</a>).
      Single-line raw blocks can be given via <span><code>#+FORMAT: raw line</code></span>, where <span><code>FORMAT</code></span> must be one of <span><code>latex</code></span>, <span><code>beamer</code></span>, <span><code>html</code></span>, or <span><code>texinfo</code></span>.</li>
      <li>Accept org-ref citations followed by commas (Albert
      Krewinkel). Bugfix for an issue which, whenever the citation was
      immediately followed by a comma, prevented correct parsing of
      org-ref citations.</li>
      <li>Ensure emphasis markup can be nested. Nested emphasis markup
      (e.g. <span><code>/*strong and emphasized*/</code></span>) was
      interpreted incorrectly in that the inner markup was not
      recognized.</li>
      <li>Remove pipe char irking the haddock coverage tool (Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Docx reader: Empty header should be list of lists (Jesse
      Rosenthal). In the past, the docx reader wrote an empty header as
      an empty list. It should have the same width as a row (and be
      filled with empty cells).</p></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Improved handling of display math (<a href="https://github.com/jgm/pandoc/issues/3362">#3362</a>).
      Sometimes display math is indented with more than one colon.
      Previously we handled these cases badly, generating definition
      lists and missing the math.</li>
      <li>Fix quotation mark parsing (<a href="https://github.com/jgm/pandoc/issues/3336">#3336</a>,
      tgkokk). Change MediaWiki reader’s behavior when the smart option
      is parsed to match other readers’ behavior.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fixed <span><code>-f markdown_github-hard_line_breaks+escaped_line_breaks</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/3341">#3341</a>).
      Previously this did not properly enable escaped line breaks.</li>
      <li>Disallow space between inline code and attributes (<a href="https://github.com/jgm/pandoc/issues/3326">#3326</a>, <a href="https://github.com/jgm/pandoc/issues/3323">#3323</a>, Mauro
      Bieg).</li>
      </ul></li>
      <li><p>DocBook5 writer: make id attribute xml:id, fixes <a href="https://github.com/jgm/pandoc/issues/3329">#3329</a> (<a href="https://github.com/jgm/pandoc/issues/3330">#3330</a>, Mauro
      Bieg).</p></li>
      <li><p>Added some test cases for ODT reader (<a href="https://github.com/jgm/pandoc/issues/3306">#3306</a>, <a href="https://github.com/jgm/pandoc/issues/3308">#3308</a>, Hubert
      Plociniczak).</p></li>
      <li><p>LaTeX writer: allow tables with empty cells to count as
      “plain.” This addresses a problem of too-wide tables when empty
      cells are used. Thanks to Joost Kremers for reporting the
      issue.</p></li>
      <li><p>Org writer: prefix footnote numbers with <span><code>fn:</code></span> (Albert Krewinkel).
      Unprefixed numbers where used by older org-mode versions, but are
      no longer supported.</p></li>
      <li><p>HTML writer: don’t process pars with empty RawInline, (<a href="https://github.com/jgm/pandoc/issues/1040">#1040</a>, <a href="https://github.com/jgm/pandoc/issues/3327">#3327</a>, Mauro
      Bieg).</p></li>
      <li><p>Markdown writer: Fix display math with <span><code>--webtex</code></span> (<a href="https://github.com/jgm/pandoc/issues/3298">#3298</a>).</p></li>
      <li><p>Fix sample.lua so it properly handles raw blocks/inlines
      (<a href="https://github.com/jgm/pandoc/issues/3358">#3358</a>,
      bumper314).</p></li>
      <li><p>Templates:</p>
      <ul>
      <li>default.latex: Moved geometry after hyperref (Václav Haisman).
      Otherwise PDF sizes can be wrong in some circumstances.</li>
      <li>Copied a few changes from default.latex to default.beamer
      (Wandmalfarbe).</li>
      <li>default.latex, default.beamer: Changed position of <span><code>\VerbatimNotes</code></span> and <span><code>fancyvrb</code></span>. This fixes hyperlinks
      on footnotes in documents that contain verbatim in notes (<a href="https://github.com/jgm/pandoc/issues/3361">#3361</a>).
      (Note: the beamer template was updated to match the LaTeX
      template, but at this point verbatim in notes seems not to work in
      beamer.)</li>
      <li>default.latex: Allow passing <span><code>microtypeoptions</code></span> to microtype
      (Václav Haisman).</li>
      <li>default.latex: Add hyphen option to url package.</li>
      <li>default.docbook5: Fix namespace declarations (Mauro
      Bieg).</li>
      </ul></li>
      <li><p>Moved <span><code>make_osx_package.sh</code></span> to <span><code>osx/</code></span> directory.</p></li>
      <li><p>Travis continuous integration:</p>
      <ul>
      <li>Fix false positives with dist build.</li>
      <li>Speed improvements (Kolen Cheung, <a href="https://github.com/jgm/pandoc/issues/3304">#3304</a>, <a href="https://github.com/jgm/pandoc/issues/3357">#3357</a>).</li>
      </ul></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Clarify that blank space is needed around footnotes (<a href="https://github.com/jgm/pandoc/issues/3352">#3352</a>).</li>
      <li>Fixed typo (<a href="https://github.com/jgm/pandoc/issues/3351">#3351</a>, Alexey
      Rogechev).</li>
      <li>Note that <span><code>--wrap=auto</code></span>
      does not work in HTML output.</li>
      <li>Default <span><code>--columns</code></span>
      width is 72, not 80.</li>
      <li>Fixed broken links (<a href="https://github.com/jgm/pandoc/issues/3316">#3316</a>, Kolen
      Cheung).</li>
      <li>Document usage of <span><code>@*</code></span>
      in nocite section (<a href="https://github.com/jgm/pandoc/issues/3333">#3333</a>, John
      Muccigrosso).</li>
      </ul></li>
      <li><p>INSTALL.md:</p>
      <ul>
      <li>Indent code so it’s properly formatted (<a href="https://github.com/jgm/pandoc/issues/3335">#3335</a>,
      Bheesham Persaud).</li>
      <li>Added instructions for extracting binary from OSX, Windows
      packages.</li>
      </ul></li>
      <li><p>CONTRIBUTING.md: Describe labels currently used in issue
      tracker (Albert Krewinkel). The labels have changed over time, the
      list of labels is updated to reflect the current set of labels
      used in the issue tracker.</p></li>
      <li><p>Rearrange and extend badges in README (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3354">#3354</a>)</p></li>
      <li><p>Bumped version bounds for dependencies.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.19.1-2016-12-10">
      <h2><a href="#pandoc-1.19.1-2016-12-10" aria-hidden="true"></a>pandoc 1.19.1 (2016-12-10)</h2>
      <ul>
      <li><p>Set <span><code>PANDOC_VERSION</code></span>
      environment variable for filters (<a href="https://github.com/jgm/pandoc/issues/2640">#2640</a>). This
      allows filters to check the pandoc version that produced the JSON
      they are receiving.</p></li>
      <li><p>Docx reader: Ensure one-row tables don’t have header (<a href="https://github.com/jgm/pandoc/issues/3285">#3285</a>, Jesse
      Rosenthal). Tables in MS Word are set by default to have special
      first-row formatting, which pandoc uses to determine whether or
      not they have a header. This means that one-row tables will, by
      default, have only a header – which we imagine is not what people
      want. This change ensures that a one-row table is not understood
      to be a header only. Note that this means that it is impossible to
      produce a header-only table from docx, even though it is legal
      pandoc. But we believe that in nearly all cases, it will be an
      accidental (and unwelcome) result</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Fixed some bad regressions in HTML table parser (<a href="https://github.com/jgm/pandoc/issues/3280">#3280</a>). This
      regression leads to the introduction of empty rows in some
      circumstances.</li>
      <li>Understand <span><code>style=width:</code></span> as well as <span><code>width</code></span> in <span><code>col</code></span> (<a href="https://github.com/jgm/pandoc/issues/3286">#3286</a>).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li><p>Print warnings when keys, substitition, notes not found.
      Previously the parsers failed and we got raw text. Now we get a
      link with an empty URL, or empty inlines in the case of a note or
      substitution.</p></li>
      <li><p>Fix hyperlink aliases (<a href="https://github.com/jgm/pandoc/issues/3283">#3283</a>).</p></li>
      </ul></li>
      <li><p>Man writer: Ensure that periods are escaped at beginning of
      line (<a href="https://github.com/jgm/pandoc/issues/3270">#3270</a>).</p></li>
      <li><p>LaTeX writer: Fix unnumbered headers when used with <span><code>--top-level</code></span> (<a href="https://github.com/jgm/pandoc/issues/3272">#3272</a>, Albert
      Krewinkel). Fix interaction of top-level divisions <span><code>part</code></span> or <span><code>chapter</code></span> with unnumbered headers
      when emitting LaTeX. Headers are ensured to be written using
      stared commands (like <span><code>\subsection*{}</code></span>).</p></li>
      <li><p>LaTeX template: use comma not semicolon to separate
      keywords for <span><code>pdfkeywords</code></span>.
      Thanks to Wandmalfarbe.</p></li>
      <li><p>Markdown writer: Fixed incorrect word wrapping (<a href="https://github.com/jgm/pandoc/issues/3277">#3277</a>).
      Previously pandoc would sometimes wrap lines too early due to this
      bug.</p></li>
      <li><p>Text.Pandoc.Pretty: Added <span><code>afterBreak</code></span> [API change]. This
      makes it possible to insert escape codes for content that needs
      escaping at the beginning of a line.</p></li>
      <li><p>Removed old MathMLInHTML.js from 2004, which should no
      longer be needed for MathML with modern browsers.</p></li>
      <li><p>Fixed tests with dynamic linking (<a href="https://github.com/jgm/pandoc/issues/2709">#2709</a>).</p></li>
      <li><p>Makefile: Use stack instead of cabal for targets. This is
      just a convenience for developers.</p></li>
      <li><p>Fixed bash completion of filenames with space (<a href="https://github.com/jgm/pandoc/issues/2749">#2749</a>).</p></li>
      <li><p>MANUAL: improved documentation on how to create a custom
      <span><code>reference.docx</code></span>.</p></li>
      <li><p>Fix minor spelling typos in the manual (<a href="https://github.com/jgm/pandoc/issues/3273">#3273</a>,
      Anthony Geoghegan)</p></li>
      </ul>
      </section>
      <section id="pandoc-1.19-2016-12-01">
      <h2><a href="#pandoc-1.19-2016-12-01" aria-hidden="true"></a>pandoc 1.19 (2016-12-01)</h2>
      <ul>
      <li><p>Changed resolution of filter paths.</p>
      <ul>
      <li>We now first treat the argument of <span><code>--filter</code></span> as a full (absolute or
      relative) path, looking for a program there. If it’s found, we run
      it.</li>
      <li>If not, and if it is a simple program name or a relative path,
      we try resolving it relative to <span><code>$DATADIR/filters</code></span>.</li>
      <li>If this fails, then we treat it as a program name and look in
      the user’s PATH.</li>
      <li>Removed a hardcoded ‘/’ that may have caused problems with
      Windows paths.</li>
      </ul>
      <p>Previously if you did <span><code>--filter foo</code></span> and you had <span><code>foo</code></span> in your path and also an
      executable <span><code>foo</code></span> in your
      working directory, the one in the path would be used. Now the one
      in the working directory is used.</p>
      <p>In addition, when you do <span><code>--filter foo/bar.hs</code></span>, pandoc
      will now find a filter <span><code>$DATADIR/filters/foo/bar.hs</code></span> –
      assuming there isn’t a <span><code>foo/bar.hs</code></span> relative to the
      working directory.</p></li>
      <li><p>Allow <span><code>file://</code></span> URIs
      as arguments (<a href="https://github.com/jgm/pandoc/issues/3196">#3196</a>). Also
      improved default reader format detection. Previously with a URI
      ending in .md or .markdown, pandoc would assume HTML input. Now it
      treats these as markdown.</p></li>
      <li><p>Allow to overwrite top-level division type heuristics (<a href="https://github.com/jgm/pandoc/issues/3258">#3258</a>, Albert
      Krewinkel). Pandoc uses heuristics to determine the most
      reasonable top-level division type when emitting LaTeX or Docbook
      markup. It is now possible to overwrite this implicitly set
      top-level division via the <span><code>top-level-division</code></span> command line
      parameter.</p></li>
      <li><p>Text.Pandoc.Options [API changes]:</p>
      <ul>
      <li>Removed <span><code>writerStandalone</code></span> field in <span><code>WriterOptions</code></span>, made <span><code>writerTemplate</code></span> a <span><code>Maybe</code></span> value. Previously setting
      <span><code>writerStandalone = True</code></span>
      did nothing unless a template was provided in writerTemplate. Now
      a fragment will be generated if <span><code>writerTemplate</code></span> is <span><code>Nothing</code></span>; otherwise, the
      specified template will be used and standalone output
      generated.</li>
      <li><span><code>Division</code></span> has been
      renamed <span><code>TopLevelDivision</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/3197">#3197</a>).
      The <span><code>Section</code></span>, <span><code>Chapter</code></span>, and <span><code>Part</code></span> constructors were renamed
      to <span><code>TopLevelSection</code></span>, <span><code>TopLevelChapter</code></span>, and <span><code>TopLevelPart</code></span>, respectively. An
      additional <span><code>TopLevelDefault</code></span> constructor was
      added, which is now also the new default value of the <span><code>writerTopLevelDivision</code></span> field in
      <span><code>WriterOptions</code></span>.</li>
      </ul></li>
      <li><p>Improved error if they give wrong arg to <span><code>--top-level-division</code></span>.</p></li>
      <li><p>Use new module from texmath to lookup MS font codepoints in
      Docx reader. Removed unexported module
      Text.Pandoc.Readers.Docx.Fonts. Its code now lives in texmath
      (0.9).</p></li>
      <li><p>DocBook reader: Fixed xref lookup (<a href="https://github.com/jgm/pandoc/issues/3243">#3243</a>). It
      previously only worked when the qnames lacked the docbook
      namespace URI.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Improved table parsing (<a href="https://github.com/jgm/pandoc/issues/3027">#3027</a>). We
      now check explicitly for non-1 rowspan or colspan attributes, and
      fail when we encounter them. Previously we checked that each row
      had the same number of cells, but that could be true even with
      rowspans/colspans. And there are cases where it isn’t true in
      tables that we can handle fine – e.g. when a tr element is empty.
      So now we just pad rows with empty cells when needed.</li>
      <li>Treat <span><code>&lt;math&gt;</code></span> as
      MathML by default unless something else is explicitly specified in
      xmlns. Provided it parses as MathML, of course. Also fixed default
      which should be to inline math if no display attribute is
      used.</li>
      <li>Only treat “a” element as link if it has href (<a href="https://github.com/jgm/pandoc/issues/3226">#3226</a>).
      Otherwise treat as span.</li>
      </ul></li>
      <li><p>Docx reader (Jesse Rosenthal):</p>
      <ul>
      <li>Add a placeholder value for CHART. We wrap <span><code>[CHART]</code></span> in a <span><code>&lt;span class=&#34;chart&#34;&gt;</code></span>.
      Note that it maps to inlines because, in docx, anything in a
      drawing tag can be part of a larger paragraph.</li>
      <li>Be more specific in parsing images We not only want <span><code>w:drawing</code></span>, because that could
      also include charts. Now we specify <span><code>w:drawing/pic:pic</code></span>. This
      shouldn’t change behavior at all, but it’s a first step toward
      allowing other sorts of drawing data as well.</li>
      <li>Abstract out function to avoid code repetition.</li>
      <li>Update tests for img title and alt (<a href="https://github.com/jgm/pandoc/issues/3204">#3204</a>).</li>
      <li>Handle Alt text and titles in images. We use the “description”
      field as alt text and the “title” field as title. These can be
      accessed through the “Format Picture” dialog in Word.</li>
      <li>Docx reader utils: handle empty namespace in <span><code>elemName</code></span>. Previously, if given
      an empty namespace <span><code>(elemName ns &#34;&#34; &#34;foo&#34;)</code></span> <span><code>elemName</code></span> would output a QName
      with a <span><code>Just &#34;&#34;</code></span> namespace.
      This is never what we want. Now we output a <span><code>Nothing</code></span>. If someone
      <em>does</em> want a <span><code>Just &#34;&#34;</code></span> in the namespace, they
      can enter the QName value explicitly.</li>
      </ul></li>
      <li><p>ODT reader/writer:</p>
      <ul>
      <li><p>Inline code when text has a special style (Hubert
      Plociniczak). When a piece of text has a text <span><code>Source_Text</code></span> then we assume that
      this is a piece of the document that represents a code that needs
      to be inlined. Adapted the writer to also reflect that change.
      Previously it was just writing a ‘preformatted’ text using a
      non-distinguishable font style. Code blocks are still not
      recognized by the ODT reader. That’s a separate issue.</p></li>
      <li><p>Infer table’s caption from the paragraph (<a href="https://github.com/jgm/pandoc/issues/3224">#3224</a>, Hubert
      Plociniczak). ODT’s reader always put empty captions for the
      parsed tables. This commit</p>
      <ol type="1">
      <li>checks paragraphs that follow the table definition</li>
      <li>treats specially a paragraph with a style named ‘Table’</li>
      <li>does some postprocessing of the paragraphs that combines
      tables followed immediately by captions</li>
      </ol>
      <p>The ODT writer used the <span><code>TableCaption</code></span> style for the
      caption paragraph. This commit follows the OpenOffice approach
      which allows for appending captions to table but uses a built-in
      style named <span><code>Table</code></span> instead
      of <span><code>TableCaption</code></span>. Users of
      a custom <span><code>reference.odt</code></span>
      should change the style’s name from <span><code>TableCaption</code></span> to <span><code>Table</code></span>.</p></li>
      </ul></li>
      <li><p>ODT reader: Infer tables’ header props from rows (<a href="https://github.com/jgm/pandoc/issues/3199">#3199</a>, Hubert
      Plociniczak). ODT reader simply provided an empty header list
      which meant that the contents of the whole table, even if not
      empty, was simply ignored. While we still do not infer headers we
      at least have to provide default properties of columns.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li><p>Allow reference link labels starting with <span><code>@...</code></span> if <span><code>citations</code></span> extension disabled
      (<a href="https://github.com/jgm/pandoc/issues/3209">#3209</a>).
      Example: in</p>
      <pre><code>\[link text\]\[@a\]</code></pre>
      <p><span><code>link text</code></span> isn’t
      hyperlinked because <span><code>[@a]</code></span>
      is parsed as a citation. Previously this happened whether or not
      the <span><code>citations</code></span> extension
      was enabled. Now it happens only if the <span><code>citations</code></span> extension is
      enabled.</p></li>
      <li><p>Allow alignments to be specified in Markdown grid tables.
      For example,</p>
      <pre><code>+-------+---------------+--------------------+
| Right    | Left                 | Centered |
+=========:+:=================+:=============:+
| Bananas | $1.34         | built-in wrapper |
+-------+---------------+--------------------+</code></pre></li>
      <li><p>Allow Small Caps elements to be created using bracketed
      spans (as they already can be using HTML-syntax spans) (<a href="https://github.com/jgm/pandoc/issues/3191">#3191</a>, Kolen
      Cheung).</p></li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Don’t treat <span><code>\vspace</code></span>
      and <span><code>\hspace</code></span> as block
      commands (<a href="https://github.com/jgm/pandoc/issues/3256">#3256</a>). Fixed
      an error which came up, for example, with <span><code>\vspace</code></span> inside a caption.
      (Captions expect inlines.)</li>
      <li>Improved table handling. We can now parse all of the tables
      emitted by pandoc in our tests. The only thing we don’t get yet
      are alignments and column widths in more complex tables. See <a href="https://github.com/jgm/pandoc/issues/2669">#2669</a>.</li>
      <li>Limited support for minipage.</li>
      <li>Allow for <span><code>[]</code></span>s inside
      LaTeX optional args. Fixes cases like:</li>
      <li>Handle BVerbatim from fancyvrb (<a href="https://github.com/jgm/pandoc/issues/3203">#3203</a>).</li>
      <li>Handle hungarumlaut (<a href="https://github.com/jgm/pandoc/issues/3201">#3201</a>).</li>
      <li>Allow beamer-style <span><code>&lt;...&gt;</code></span> options in raw
      LaTeX (also in Markdown) (<a href="https://github.com/jgm/pandoc/issues/3184">#3184</a>). This
      allows use of things like <span><code>\only&lt;2,3&gt;{my content}</code></span> in
      Markdown that is going to be converted to beamer.</li>
      </ul></li>
      <li><p>Use pre-wrap for code in dzslides template (Nicolas
      Porcel). Otherwise overly long code will appear on every
      slide.</p></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li><p>Respect column width settings (<a href="https://github.com/jgm/pandoc/issues/3246">#3246</a>). Table
      column properties can optionally specify a column’s width with
      which it is displayed in the buffer. Some exporters, notably the
      ODT exporter in org-mode v9.0, use these values to calculate
      relative column widths. The org reader now implements the same
      behavior. Note that the org-mode LaTeX and HTML exporters in Emacs
      don’t support this feature yet, which should be kept in mind by
      users who use the column widths parameters.</p></li>
      <li><p>Allow HTML attribs on non-figure images (<a href="https://github.com/jgm/pandoc/issues/3222">#3222</a>).
      Images which are the only element in a paragraph can still be
      given HTML attributes, even if the image does not have a caption
      and is hence not a figure. The following will add set the <span><code>width</code></span> attribute of the image to
      <span><code>50%</code></span>:</p>
      <pre><code>+ATTR\_HTML: :width 50%
=======================

\[\[file:image.jpg\]\]</code></pre></li>
      <li><p>Support <span><code>ATTR_HTML</code></span>
      for special blocks (<a href="https://github.com/jgm/pandoc/issues/3182">#3182</a>).
      Special blocks (i.e. blocks with unrecognized names) can be
      prefixed with an <span><code>ATTR_HTML</code></span> block attribute. The
      attributes defined in that meta-directive are added to the <span><code>Div</code></span> which is used to represent
      the special block.</p></li>
      <li><p>Support the <span><code>todo</code></span>
      export option. The <span><code>todo</code></span>
      export option allows to toggle the inclusion of TODO keywords in
      the output. Setting this to <span><code>nil</code></span> causes TODO keywords to be
      dropped from headlines. The default is to include the
      keywords.</p></li>
      <li><p>Add support for todo-markers. Headlines can have optional
      todo-markers which can be controlled via the <span><code>#+TODO</code></span>, <span><code>#+SEQ_TODO</code></span>, or <span><code>#+TYP_TODO</code></span> meta directive.
      Multiple such directives can be given, each adding a new set of
      recognized todo-markers. If no custom todo-markers are defined,
      the default <span><code>TODO</code></span> and
      <span><code>DONE</code></span> markers are used.
      Todo-markers are conceptually separate from headline text and are
      hence excluded when autogenerating headline IDs. The markers are
      rendered as spans and labelled with two classes: One class is the
      markers name, the other signals the todo-state of the marker
      (either <span><code>todo</code></span> or <span><code>done</code></span>).</p></li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use <span><code>\autocites*</code></span> when
      “suppress-author” citation used.</li>
      <li>Ensure that simple tables have simple cells (<a href="https://github.com/jgm/pandoc/issues/2666">#2666</a>). If
      cells contain more than a single Plain or Para, then we need to
      set nonzero widths and put contents into minipages.</li>
      <li>Remove invalid inlines in sections (<a href="https://github.com/jgm/pandoc/issues/3218">#3218</a>, Hubert
      Plociniczak).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Fix calculation of column widths for aligned multiline tables
      (<a href="https://github.com/jgm/pandoc/issues/1911">#1911</a>,
      Björn Peemöller). This also fixes excessive CPU and memory usage
      for tables when <span><code>--columns</code></span>
      is set in such a way that cells must be very tiny. Now cells are
      guaranteed to be big enough so that single words don’t need to
      line break, even if this pushes the line length above the column
      width.</li>
      <li>Use bracketed form for native spans when <span><code>bracketed_spans</code></span> enabled (<a href="https://github.com/jgm/pandoc/issues/3229">#3229</a>).</li>
      <li>Fixed inconsistent spacing issue (<a href="https://github.com/jgm/pandoc/issues/3232">#3232</a>).
      Previously a tight bullet sublist got rendered with a blank line
      after, while a tight ordered sublist did not. Now we don’t get the
      blank line in either case.</li>
      <li>Fix escaping of spaces in super/subscript (<a href="https://github.com/jgm/pandoc/issues/3225">#3225</a>).
      Previously two backslashes were inserted, which gave a literal
      backslash.</li>
      <li>Adjust widths in Markdown grid tables so that they match on
      round-trip.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Give full detail when there are errors converting tex
      math.</li>
      <li>Handle title text in images (Jesse Rosenthal). We already
      handled alt text. This just puts the image “title” into the docx
      “title” attr.</li>
      <li>Fixed XML markup for empty cells (<a href="https://github.com/jgm/pandoc/issues/3238">#3238</a>).
      Previously the Compact style wasn’t being applied properly to
      empty cells.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Updated <span><code>renderHtml</code></span>
      import from blaze-html.</li>
      </ul></li>
      <li><p>Text.Pandoc.Pretty:</p>
      <ul>
      <li>Fixed some bugs that caused blank lines in tables (<a href="https://github.com/jgm/pandoc/issues/3251">#3251</a>). The
      bugs caused spurious blank lines in grid tables when we had things
      like <span><code>blankline $$ blankline</code></span>.</li>
      <li>Add exported function <span><code>minOffet</code></span> [API change] (Björn
      Peemöller).</li>
      <li>Added error message for illegal call to <span><code>block</code></span> (Björn Peemöller).</li>
      </ul></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Put <span><code>warn</code></span> in
      MonadIO.</li>
      <li><span><code>fetchItem</code></span>: Better
      handling of protocol-relative URL (<a href="https://github.com/jgm/pandoc/issues/2635">#2635</a>). If
      URL starts with <span><code>//</code></span> and
      there is no “base URL” (as there would be if a URL were used on
      the command line), then default to http:.</li>
      </ul></li>
      <li><p>Export Text.Pandoc.getDefaultExtensions [API change] (<a href="https://github.com/jgm/pandoc/issues/3178">#3178</a>).</p></li>
      <li><p>In –version, trap error in <span><code>getAppUserDataDirectory</code></span> (<a href="https://github.com/jgm/pandoc/issues/3241">#3241</a>). This
      fixes a crash with <span><code>pandoc --version</code></span> on unusual
      systems with no real user (e.g. SQL Server 2016).</p></li>
      <li><p>Added weigh-pandoc for memory usage diagnostics (<a href="https://github.com/jgm/pandoc/issues/3169">#3169</a>).</p></li>
      <li><p>Use correct mime types for woff and woff2 (<a href="https://github.com/jgm/pandoc/issues/3228">#3228</a>).</p></li>
      <li><p>Remove make_travis_yml.hs (<a href="https://github.com/jgm/pandoc/issues/3235">#3235</a>, Kolen
      Cheung).</p></li>
      <li><p>changelog: Moved an item that was misplaced in the 1.17.2
      section to the 1.18 section where it belongs.</p></li>
      <li><p>CONTRIBUTING.md: minor change in wording and punctuation
      (<a href="https://github.com/jgm/pandoc/issues/3252">#3252</a>,
      Kolen Cheung).</p></li>
      <li><p>Further revisions to manual for <span><code>--version</code></span> changes (<a href="https://github.com/jgm/pandoc/issues/3244">#3244</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-1.18-2016-10-26">
      <h2><a href="#pandoc-1.18-2016-10-26" aria-hidden="true"></a>pandoc 1.18 (2016-10-26)</h2>
      <ul>
      <li><p>Added <span><code>--list-input-formats</code></span>, <span><code>--list-output-formats</code></span>, <span><code>--list-extensions</code></span>, <span><code>--list-highlight-languages</code></span>, and
      <span><code>--list-highlight-styles</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/3173">#3173</a>).
      Removed list of highlighting languages from <span><code>--version</code></span> output. Removed list
      of input and output formats from default <span><code>--help</code></span> output.</p></li>
      <li><p>Added <span><code>--reference-location=block|section|document</code></span>
      option (Jesse Rosenthal). This determines whether Markdown link
      references and footnotes are placed at the end of the document,
      the end of the section, or the end of the top-level
      block.</p></li>
      <li><p>Added <span><code>--top-level-division=section|chapter|part</code></span>
      (Albert Krewinkel). This determines what a level-1 header
      corresponds to in LaTeX, ConTeXt, DocBook, and TEI output. The
      default is <span><code>section</code></span>. The
      <span><code>--chapters</code></span> option has
      been deprecated in favor of <span><code>--top-level-division=chapter</code></span>.</p></li>
      <li><p>Added <span><code>LineBlock</code></span>
      constructor for <span><code>Block</code></span>
      (Albert Krewinkel). This is now used in parsing RST and Markdown
      line blocks, DocBook <span><code>linegroup</code></span>/<span><code>line</code></span> combinations, and Org-mode
      <span><code>VERSE</code></span> blocks. Previously
      <span><code>Para</code></span> blocks with hard
      linebreaks were used. <span><code>LineBlock</code></span>s are handled
      specially in the following output formats: AsciiDoc (as <span><code>[verse]</code></span> blocks), ConTeXt (<span><code>\startlines</code></span>/<span><code>\endlines</code></span>), HTML (<span><code>div</code></span> with a style), Markdown
      (line blocks if <span><code>line_blocks</code></span> is enabled),
      Org-mode (<span><code>VERSE</code></span> blocks),
      RST (line blocks). In other output formats, a paragraph with hard
      linebreaks is emitted.</p></li>
      <li><p>Allow binary formats to be written to stdout (but not to
      tty) (<a href="https://github.com/jgm/pandoc/issues/2677">#2677</a>). Only
      works on posix, since we use the unix library to check whether
      output is to tty. On Windows, pandoc works as before and always
      requires an output file parameter for binary formats.</p></li>
      <li><p>Changed JSON output format (Jesse Rosenthal). Previously we
      used generically generated JSON, but this was subject to change
      depending on the version of aeson pandoc was compiled with. To
      ensure stability, we switched to using manually written ToJSON and
      FromJSON instances, and encoding the API version.
      <strong>Note:</strong> pandoc filter libraries will need to be
      revised to handle the format change. Here is a summary of the
      essential changes:</p>
      <ul>
      <li>The toplevel JSON format is now <span><code>{&#34;pandoc-api-version&#34; :   [MAJ, MIN, REV], &#34;meta&#34; : META, &#34;blocks&#34;: BLOCKS}</code></span>
      instead of <span><code>[{&#34;unMeta&#34;: META}, [BLOCKS]]</code></span>.
      Decoding fails if the major and minor version numbers don’t
      match.</li>
      <li>Leaf nodes no longer have an empty array for their “c” value.
      Thus, for example, a <span><code>Space</code></span> is encoded as <span><code>{&#34;t&#34;:&#34;Space&#34;}</code></span> rather than <span><code>{&#34;t&#34;:&#34;Space&#34;,&#34;c&#34;:[]}</code></span> as
      before.</li>
      </ul></li>
      <li><p>Removed <span><code>tests/Tests/Arbitrary.hs</code></span> and
      added a <span><code>Text.Pandoc.Arbitrary</code></span> module to
      pandoc-types (Jesse Rosenthal). This makes it easier to use
      QuickCheck with pandoc types outside of pandoc itself.</p></li>
      <li><p>Add <span><code>bracketed_spans</code></span> Markdown
      extension, enabled by default in pandoc <span><code>markdown</code></span>. This allows you to
      create a native span using this syntax: <span><code>[Here is my span]{#id .class key=&#34;val&#34;}</code></span>.</p></li>
      <li><p>Added <span><code>angle_brackets_escapable</code></span>
      Markdown extension (<a href="https://github.com/jgm/pandoc/issues/2846">#2846</a>). This
      is needed because github flavored Markdown has a slightly
      different set of escapable symbols than original Markdown; it
      includes angle brackets.</p></li>
      <li><p>Export <span><code>Text.Pandoc.Error</code></span> in <span><code>Text.Pandoc</code></span> [API
      change].</p></li>
      <li><p>Print highlighting-kate version in <span><code>--version</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>:</p>
      <ul>
      <li><span><code>Extension</code></span> has new
      constructors <span><code>Ext_brackted_spans</code></span> and <span><code>Ext_angle_brackets_escapable</code></span>
      [API change].</li>
      <li>Added <span><code>ReferenceLocation</code></span> type [API
      change] (Jesse Rosenthal).</li>
      <li>Added <span><code>writerReferenceLocation</code></span> field
      to <span><code>WriterOptions</code></span> (Jesse
      Rosenthal).</li>
      </ul></li>
      <li><p><span><code>--filter</code></span>: we now
      check <span><code>$DATADIR/filters</code></span>
      for filters before looking in the path (<a href="https://github.com/jgm/pandoc/issues/3127">#3127</a>, Jesse
      Rosenthal, thanks to Jakob Voß for the idea). Filters placed in
      this directory need not be executable; if the extension is <span><code>.hs</code></span>, <span><code>.php</code></span>, <span><code>.pl</code></span>, <span><code>.js</code></span>, or <span><code>.rb</code></span>, pandoc will run the right
      interpreter.</p></li>
      <li><p>For <span><code>--webtex</code></span>,
      replace deprecated Google Chart API by CodeCogs as default (Kolen
      Cheung).</p></li>
      <li><p>Removed <span><code>raw_tex</code></span>
      extension from <span><code>markdown_mmd</code></span> defaults (Kolen
      Cheung).</p></li>
      <li><p>Execute .js filters with node (Jakob Voß).</p></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Support <span><code>bc..</code></span> extended
      code blocks (<a href="https://github.com/jgm/pandoc/issues/3037">#3037</a>). Also,
      remove trailing newline in code blocks (consistently with Markdown
      reader).</li>
      <li>Improve table parsing. We now handle cell and row attributes,
      mostly by skipping them. However, alignments are now handled
      properly. Since in pandoc alignment is per-column, not per-cell,
      we try to devine column alignments from cell alignments. Table
      captions are also now parsed, and textile indicators for thead and
      tfoot no longer cause parse failure. (However, a row designated as
      tfoot will just be a regular row in pandoc.)</li>
      <li>Improve definition list parsing. We now allow multiple terms
      (which we concatenate with linebreaks). An exponential parsing bug
      (<a href="https://github.com/jgm/pandoc/issues/3020">#3020</a>) is
      also fixed.</li>
      <li>Disallow empty URL in explicit link (<a href="https://github.com/jgm/pandoc/issues/3036">#3036</a>).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Use Div instead of BlockQuote for admonitions (<a href="https://github.com/jgm/pandoc/issues/3031">#3031</a>). The
      Div has class <span><code>admonition</code></span>
      and (if relevant) one of the following: <span><code>attention</code></span>, <span><code>caution</code></span>, <span><code>danger</code></span>, <span><code>error</code></span>, <span><code>hint</code></span>, <span><code>important</code></span>, <span><code>note</code></span>, <span><code>tip</code></span>, <span><code>warning</code></span>. <strong>Note:</strong>
      This will change the rendering of some RST documents! The word
      (“Warning”, “Attention”, etc.) is no longer added; that must be
      done with CSS or a filter.</li>
      <li>A Div is now used for <span><code>sidebar</code></span> as well.</li>
      <li>Skip whitespace before note (Jesse Rosenthal, <a href="https://github.com/jgm/pandoc/issues/3163">#3163</a>). RST
      requires a space before a footnote marker. We discard those spaces
      so that footnotes will be adjacent to the text that comes before
      it. This is in line with what rst2latex does.</li>
      <li>Allow empty lines when parsing line blocks (Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow empty lines when parsing line blocks (Albert
      Krewinkel).</li>
      <li>Allow attributes on autolinks (<a href="https://github.com/jgm/pandoc/issues/3183">#3183</a>,
      Daniele D’Orazio).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>More robust parsing of unknown environments (<a href="https://github.com/jgm/pandoc/issues/3026">#3026</a>). We no
      longer fail on things like <span><code>^</code></span> inside options for tikz.</li>
      <li>Be more forgiving of non-standard characters, e.g. <span><code>^</code></span> outside of math. Some custom
      environments give these a meaning, so we should try not to fall
      over when we encounter them.</li>
      <li>Drop duplicate <span><code>*</code></span> in
      bibtexKeyChars (Albert Krewinkel)</li>
      </ul></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Fix for unquoted attribute values in mediawiki tables (<a href="https://github.com/jgm/pandoc/issues/3053">#3053</a>).
      Previously an unquoted attribute value in a table row could cause
      parsing problems.</li>
      <li>Improved treatment of verbatim constructions (<a href="https://github.com/jgm/pandoc/issues/3055">#3055</a>).
      Previously these yielded strings of alternating Code and Space
      elements; we now incorporate the spaces into the Code. Emphasis
      etc. is still possible inside these.</li>
      <li>Properly interpret XML tags in pre environments (<a href="https://github.com/jgm/pandoc/issues/3042">#3042</a>). They
      are meant to be interpreted as literal text.</li>
      </ul></li>
      <li><p>EPUB reader: don’t add root path to data: URIs (<a href="https://github.com/jgm/pandoc/issues/3150">#3150</a>).
      Thanks to <span data-cites="lep">@lep</span> for
      the bug report and patch.</p></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Preserve indentation of verse lines (<a href="https://github.com/jgm/pandoc/issues/3064">#3064</a>).
      Leading spaces in verse lines are converted to non-breaking
      spaces, so indentation is preserved.</li>
      <li>Ensure image sources are proper links. Image sources as those
      in plain images, image links, or figures, must be proper URIs or
      relative file paths to be recognized as images. This restriction
      is now enforced for all image sources. This also fixes the
      reader’s usage of uncleaned image sources, leading to <span><code>file:</code></span> prefixes not being
      deleted from figure images. Thanks to <span data-cites="bsag">@bsag</span> for noticing this bug.</li>
      <li>Trim verse lines properly (Albert Krewinkel).</li>
      <li>Extract meta parsing code to module. Parsing of meta-data is
      well separable from other block parsing tasks. Moving into new
      module to get small files and clearly arranged code.</li>
      <li>Read markup only for special meta keys. Most meta-keys should
      be read as normal string values, only a few are interpreted as
      marked-up text.</li>
      <li>Allow multiple, comma-separated authors. Multiple authors can
      be specified in the <span><code>#+AUTHOR</code></span> meta line if they are
      given as a comma-separated list.</li>
      <li>Give precedence to later meta lines. The last meta-line of any
      given type is the significant line. Previously the value of the
      first line was kept, even if more lines of the same type were
      encountered.</li>
      <li>Read LaTeX_header as header-includes. LaTeX-specific header
      commands can be defined in <span><code>#+LaTeX_header</code></span> lines. They are
      parsed as format-specific inlines to ensure that they will only
      show up in LaTeX output.</li>
      <li>Set documentclass meta from LaTeX_class.</li>
      <li>Set classoption meta from LaTeX_class_options.</li>
      <li>Read HTML_head as header-includes. HTML-specific head content
      can be defined in <span><code>#+HTML_head</code></span> lines. They are
      parsed as format-specific inlines to ensure that they will only
      show up in HTML output.</li>
      <li>Respect <span><code>author</code></span> export
      option. The <span><code>author</code></span> option
      controls whether the author should be included in the final
      markup. Setting <span><code>#+OPTIONS: author:nil</code></span> will drop
      the author from the final meta-data output.</li>
      <li>Respect <span><code>email</code></span> export
      option. The <span><code>email</code></span> option
      controls whether the email meta-field should be included in the
      final markup. Setting <span><code>#+OPTIONS: email:nil</code></span> will drop
      the email field from the final meta-data output.</li>
      <li>Respect <span><code>creator</code></span>
      export option. The <span><code>creator</code></span> option controls whether
      the creator meta-field should be included in the final markup.
      Setting <span><code>#+OPTIONS: creator:nil</code></span> will
      drop the creator field from the final meta-data output. Org-mode
      recognizes the special value <span><code>comment</code></span> for this field, causing
      the creator to be included in a comment. This is difficult to
      translate to Pandoc internals and is hence interpreted the same as
      other truish values (i.e. the meta field is kept if it’s
      present).</li>
      <li>Respect unnumbered header property (<a href="https://github.com/jgm/pandoc/issues/3095">#3095</a>).
      Sections the <span><code>unnumbered</code></span>
      property should, as the name implies, be excluded from the
      automatic numbering of section provided by some output formats.
      The Pandoc convention for this is to add an “unnumbered” class to
      the header. The reader treats properties as key-value pairs per
      default, so a special case is added to translate the above
      property to a class instead.</li>
      <li>Allow figure with empty caption (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3161">#3161</a>). A
      <span><code>#+CAPTION</code></span> attribute
      before an image is enough to turn an image into a figure. This
      wasn’t the case because the <span><code>parseFromString</code></span> function, which
      processes the caption value, would fail on empty values. Adding a
      newline character to the caption value fixes this.</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Use XML convenience functions (Jesse Rosenthal). The functions
      <span><code>isElem</code></span> and <span><code>elemName</code></span> (defined in
      Docx/Util.hs) make the code a lot cleaner than the original
      XML.Light functions, but they had been used inconsistently. This
      puts them in wherever applicable.</li>
      <li>Handle anchor spans with content in headers. Previously, we
      would only be able to figure out internal links to a header in a
      docx if the anchor span was empty. We change that to read the
      inlines out of the first anchor span in a header.</li>
      <li>Let headers use existing id. Previously we always generated an
      id for headers (since they wouldn’t bring one from Docx). Now we
      let it use an existing one if possible. This should allow us to
      recurs through anchor spans.</li>
      <li>Use all anchor spans for header ids. Previously we only used
      the first anchor span to affect header ids. This allows us to use
      all the anchor spans in a header, whether they’re nested or not
      (<a href="https://github.com/jgm/pandoc/issues/3088">#3088</a>).</li>
      <li>Test for nested anchor spans in header. This ensures that
      anchor spans in header with content (or with other anchor spans
      inside) will resolve to links to a header id properly.</li>
      </ul></li>
      <li><p>ODT reader (Hubert Plociniczak)</p>
      <ul>
      <li>Include list’s starting value. Previously the starting value
      of the lists’ items has been hardcoded to 1. In reality ODT’s list
      style definition can provide a new starting value in one of its
      attributes.</li>
      <li>Infer caption from the text following the image. Frame can
      contain other frames with the text boxes.</li>
      <li>Add <span><code>fig:</code></span> to title for
      Image with a caption (as expected by pandoc’s writers).</li>
      <li>Basic support for images in ODT documents.</li>
      <li>Don’t duplicate text for anchors (<a href="https://github.com/jgm/pandoc/issues/3143">#3143</a>). When
      creating an anchor element we were adding its representation as
      well as the original content, leading to text duplication.</li>
      </ul></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Include an anchor element when a div or span has an id (<a href="https://github.com/jgm/pandoc/issues/3102">#3102</a>). Note
      that DocBook does not have a class attribute, but at least this
      provides an anchor for internal links.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Don’t use * for unnumbered paragraph, subparagraph. The
      starred variants don’t exist. This helps with part of <a href="https://github.com/jgm/pandoc/issues/3058">#3058</a>…it gets
      rid of the spurious <span><code>*</code></span>s.
      But we still have numbers on the 4th and 5th level headers.</li>
      <li>Properly escape backticks in verbatim (<a href="https://github.com/jgm/pandoc/issues/3121">#3121</a>, Jesse
      Rosenthal). Otherwise they can cause unintended ligatures like
      <span><code>?`</code></span>.</li>
      <li>Handle NARRAOW NO-BREAK SPACE into LaTeX (Vaclav Zeman) as
      <span><code>\,</code></span>.</li>
      <li>Don’t include <span><code>[htbp]</code></span>
      placement for figures (<a href="https://github.com/jgm/pandoc/issues/3103">#3103</a>, Václav
      Haisman). This allows figure placement defaults to be changed by
      the user in the template.</li>
      </ul></li>
      <li><p>TEI writer: remove heuristic to detect book template
      (Albert Krewinkel). TEI doesn’t have <span><code>&lt;book&gt;</code></span> elements but only
      generic <span><code>&lt;divN&gt;</code></span>
      division elements. Checking the template for a trailing <span><code>&lt;/book&gt;</code></span> is
      nonsensical.</p></li>
      <li><p>MediaWiki writer: transform filename with underscores in
      images (<a href="https://github.com/jgm/pandoc/issues/3052">#3052</a>). <span><code>foo bar.jpg</code></span> becomes <span><code>foo_bar.jpg</code></span>. This was already
      done for internal links, but it also needs to happen for
      images.</p></li>
      <li><p>ICML writer: replace partial function (!!) in table
      handling (<a href="https://github.com/jgm/pandoc/issues/3175">#3175</a>, Mauro
      Bieg).</p></li>
      <li><p>Man writer: allow section numbers that are not a single
      digit (<a href="https://github.com/jgm/pandoc/issues/3089">#3089</a>).</p></li>
      <li><p>AsciiDoc writer: avoid unnecessary use of “unconstrained”
      emphasis (<a href="https://github.com/jgm/pandoc/issues/3068">#3068</a>). In
      AsciiDoc, you must use a special form of emphasis (double <span><code>__</code></span>) for intraword emphasis.
      Pandoc was previously using this more than necessary.</p></li>
      <li><p>EPUB writer: use stringify instead of plain writer for
      metadata (<a href="https://github.com/jgm/pandoc/issues/3066">#3066</a>). This
      means that underscores won’t be used for emphasis, or CAPS for
      bold. The metadata fields will just have unadorned text.</p></li>
      <li><p>Docx Writer:</p>
      <ul>
      <li>Implement user-defined styles (Jesse Rosenthal). Divs and
      Spans with a <span><code>custom-style</code></span>
      key in the attributes will apply the corresponding key to the
      contained blocks or inlines.</li>
      <li>Add ReaderT env to the docx writer (Jesse Rosenthal).</li>
      <li>Clean up and streamline RTL behavior (Jesse Rosenthal, <a href="https://github.com/jgm/pandoc/issues/3140">#3140</a>). You
      can set <span><code>dir: rtl</code></span> in YAML
      metadata, or use <span><code>-M dir=rtl</code></span> on the command line.
      For finer-grained control, you can set the <span><code>dir</code></span> attribute in Div or Span
      elements.</li>
      </ul></li>
      <li><p>Org writer (Albert Krewinkel):</p>
      <ul>
      <li>Remove blank line after figure caption. Org-mode only treats
      an image as a figure if it is directly preceded by a caption.</li>
      <li>Ensure blank line after figure. An Org-mode figure should be
      surrounded by blank lines. The figure would be recognized
      regardless, but images in the following line would unintentionally
      be treated as figures as well.</li>
      <li>Ensure link targets are paths or URLs. Org-mode treats links
      as document internal searches unless the link target looks like a
      URL or file path, either relative or absolute. This change ensures
      that this is always the case.</li>
      <li>Translate language identifiers. Pandoc and Org-mode use
      different programming language identifiers. An additional
      translation between those identifiers is added to avoid unexpected
      behavior. This fixes a problem where language specific source code
      would sometimes be output as example code.</li>
      <li>Drop space before footnote markers (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3162">#3162</a>). The
      writer no longer adds an extra space before footnote markers.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Don’t emit HTML for tables unless <span><code>raw_html</code></span> extension is set (<a href="https://github.com/jgm/pandoc/issues/3154">#3154</a>). Emit
      <span><code>[TABLE]</code></span> if no suitable
      table formats are enabled and raw HTML is disabled.</li>
      <li>Check for the <span><code>raw_html</code></span> extension before
      emitting a raw HTML block.</li>
      <li>Abstract out note/ref function (Jesse Rosenthal).</li>
      <li>Add ReaderT monad for environment variables (Jesse
      Rosenthal).</li>
      </ul></li>
      <li><p>HTML, EPUB, slidy, revealjs templates: Use <span><code>&lt;p&gt;</code></span> instead of <span><code>&lt;h1&gt;</code></span> for subtitle,
      author, date (<a href="https://github.com/jgm/pandoc/issues/3119">#3119</a>). Note
      that, as a result of this change, authors may need to update
      CSS.</p></li>
      <li><p>revealjs template: Added <span><code>notes-server</code></span> option
      (jgm/pandoc-templates<a href="https://github.com/jgm/pandoc/issues/212">#212</a>, Yoan
      Blanc).</p></li>
      <li><p>Beamer template:</p>
      <ul>
      <li>Restore whitespace between paragraphs. This was a regression
      in the last release (jgm/pandoc-templates<a href="https://github.com/jgm/pandoc/issues/207">#207</a>).</li>
      <li>Added <span><code>themeoptions</code></span>
      variable (Carsten Gips).</li>
      <li>Added <span><code>beamerarticle</code></span>
      variable. This causes the <span><code>beamerarticle</code></span> package to be
      loaded in beamer, to produce an article from beamer slides.
      (Carsten Gips)</li>
      <li>Added support for <span><code>fontfamilies</code></span> structured
      variable (Artem Klevtsov).</li>
      <li>Added hypersetup options (Jake Zimmerman).</li>
      </ul></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Added dummy definition for <span><code>\institute</code></span>. This isn’t a
      standard command, and we want to avoid a crash when <span><code>institute</code></span> is used with the
      default template.</li>
      <li>Define default figure placement (Václav Haisman), since pandoc
      no longer includes <span><code>[htbp]</code></span>
      for figures. Users with custom templates will want to add this.
      See <a href="https://github.com/jgm/pandoc/issues/3103">#3103</a>.</li>
      <li>Use footnote package to fix notes in tables
      (jgm/pandoc-templates<a href="https://github.com/jgm/pandoc/issues/208">#208</a>, Václav
      Haisman).</li>
      </ul></li>
      <li><p>Moved template compiling/rendering code to a separate
      library. <span><code>doctemplates</code></span>.
      This allows the pandoc templating system to be used
      independently.</p></li>
      <li><p>Text.Pandoc.Error: Fix out of index error in <span><code>handleError</code></span> (Matthew
      Pickering). The fix is to not try to show the exact line when it
      would cause an out-of-bounds error as a result of included
      files.</p></li>
      <li><p>Text.Pandoc.Shared: Add <span><code>linesToBlock</code></span> function (Albert
      Krewinkel).</p></li>
      <li><p>Text.Pandoc.Parsing.emailAddress: tighten up parsing of
      email addresses. Technically <span><code>**@user</code></span> is a valid email
      address, but if we allow things like this, we get bad results in
      markdown flavors that autolink raw email addresses (see <a href="https://github.com/jgm/pandoc/issues/2940">#2940</a>). So we
      exclude a few valid email addresses in order to avoid these more
      common bad cases.</p></li>
      <li><p>Text.Pandoc.PDF: Don’t crash with nonexistent image (<a href="https://github.com/jgm/pandoc/issues/3100">#3100</a>).
      Instead, emit the alt text, emphasized. This accords with what the
      ODT writer currently does. The user will still get a warning about
      a nonexistent image.</p></li>
      <li><p>Fix example in API documentation (<a href="https://github.com/jgm/pandoc/issues/3176">#3176</a>, Thomas
      Weißschuh).</p></li>
      <li><p>Tell where to get tarball in INSTALL (<a href="https://github.com/jgm/pandoc/issues/3062">#3062</a>).</p></li>
      <li><p>Rename README to MANUAL.txt and add GitHub-friendly
      README.md (Albert Krewinkel, Kolen Cheung).</p></li>
      <li><p>Replace COPYING with Markdown version COPYING.md from GNU
      (Kolen Cheung).</p></li>
      <li><p>MANUAL.txt:</p>
      <ul>
      <li>Put note on structured vars in separate paragraph (<a href="https://github.com/jgm/pandoc/issues/2148">#2148</a>, Albert
      Krewinkel). Make it clearer that structured author variables
      require a custom template</li>
      <li>Note that <span><code>--katex</code></span>
      works best with <span><code>html5</code></span> (<a href="https://github.com/jgm/pandoc/issues/3077">#3077</a>).</li>
      <li>Fix the LaTeX and EPUB links in manual (Morton Fox).</li>
      <li>Document <span><code>biblio-title</code></span>
      variable.</li>
      </ul></li>
      <li><p>Improve spacing of footnotes in <span><code>--help</code></span> output (Waldir
      Pimenta).</p></li>
      <li><p>Update KaTeX to v0.6.0 (Kolen Cheung).</p></li>
      <li><p>Allow latest dependencies.</p></li>
      <li><p>Use texmath 0.8.6.6 (<a href="https://github.com/jgm/pandoc/issues/3040">#3040</a>).</p></li>
      <li><p>Allow http-client 0.4.30, which is the version in stackage
      lts. Previously we required 0.5. Remove CPP conditionals for
      earlier versions.</p></li>
      <li><p>Remove support for GHC &lt; 7.8 (Jesse Rosenthal).</p>
      <ul>
      <li>Remove Compat.Monoid.</li>
      <li>Remove an inline monad compatibility macro.</li>
      <li>Remove Text.Pandoc.Compat.Except.</li>
      <li>Remove directory compat.</li>
      <li>Change constraint on mtl.</li>
      <li>Remove unnecessary CPP condition in UTF8.</li>
      <li>Bump base lower bound to 4.7.</li>
      <li>Remove 7.6 build from .travis.yaml.</li>
      <li>Bump supported ghc version in CONTRIBUTING.md.</li>
      <li>Add note about GHC version support to INSTALL.</li>
      <li>Remove GHC 7.6 from list of tested versions (Albert
      Krewinkel).</li>
      <li>Remove TagSoup compat.</li>
      <li>Add EOL note to time compat module. Because time 1.4 is a boot
      library for GHC 7.8, we will support the compatibility module as
      long as we support 7.8. But we should be clear about when we will
      no longer need it.</li>
      <li>Remove blaze-html CPP conditional.</li>
      <li>Remove unnecessary CPP in custom Prelude.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-1.17.2-2016-07-17">
      <h2><a href="#pandoc-1.17.2-2016-07-17" aria-hidden="true"></a>pandoc 1.17.2 (2016-07-17)</h2>
      <ul>
      <li><p>Added Zim Wiki writer, template and tests. <span><code>zimwiki</code></span> is now a valid output
      format. (Alex Ivkin)</p></li>
      <li><p>Changed email-obfuscation default to no obfuscation (<a href="https://github.com/jgm/pandoc/issues/2988">#2988</a>).</p>
      <ul>
      <li><span><code>writerEmailObfuscation</code></span> in <span><code>defaultWriterOptions</code></span> is now
      <span><code>NoObfuscation</code></span>.</li>
      <li>the default for the command-line <span><code>--email-obfuscation</code></span> option is
      now <span><code>none</code></span>.</li>
      </ul></li>
      <li><p>Docbook writer: Declare xlink namespace in Docbook5 output
      (Ivo Clarysse).</p></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Support arbitrary raw inlines (Albert Krewinkel). Org mode
      allows arbitrary raw inlines (“export snippets” in Emacs parlance)
      to be included as <span><code>@@format:raw foreign format <a href="https://bytes.zone/cdn-cgi/l/email-protection" data-cfemail="9ce8f9e4e8dc">[email protected]</a>@</code></span>.</li>
      <li>Improve Div handling (Albert Krewinkel). Div blocks handling
      is changed to make the output look more like idiomatic org mode:
      <ul>
      <li>Div-wrapped content is output as-is if the div’s attribute is
      the null attribute.</li>
      <li>Div containers with an id but neither classes nor key-value
      pairs are unwrapped and the id is added as an anchor.</li>
      <li>Divs with classes associated with greater block elements are
      wrapped in a <span><code>#+BEGIN</code></span>…<span><code>#+END</code></span> block.</li>
      <li>The old behavior for Divs with more complex attributes is
      kept.</li>
      </ul></li>
      </ul></li>
      <li><p>HTML writer: Better support for raw LaTeX environments (<a href="https://github.com/jgm/pandoc/issues/2758">#2758</a>).
      Previously we just passed all raw TeX through when MathJax was
      used for HTML math. This passed through too much. With this patch,
      only raw LaTeX environments that MathJax can handle get passed
      through. This patch also causes raw LaTeX environments to be
      treated as math, when possible, with MathML and WebTeX
      output.</p></li>
      <li><p>Markdown writer: use raw HTML for simple, pipe tables with
      linebreaks (<a href="https://github.com/jgm/pandoc/issues/2993">#2993</a>).
      Markdown line breaks involve a newline, and simple and pipe tables
      can’t contain one.</p></li>
      <li><p>Make –webtex work with the Markdown writer (<a href="https://github.com/jgm/pandoc/issues/1177">#1177</a>). This
      is a convenient option for people using websites whose Markdown
      flavors don’t provide for math.</p></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Set paragraph to FirstPara after display math (Jesse
      Rosenthal). We treat display math like block quotes, and apply
      FirstParagraph style to paragraphs that follow them. These can be
      styled as the user wishes. (But, when the user is using
      indentation, this allows for paragraphs to continue after display
      math without indentation.)</li>
      <li>Use actual creation time as doc prop (Jesse Rosenthal).
      Previously, we had used the user-supplied date, if available, for
      Word’s document creation metadata. This could lead to weird
      results, as in cases where the user post-dates a document (so the
      modification might be prior to the creation). Here we use the
      actual computer time to set the document creation.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Don’t URI-escape image source (<a href="https://github.com/jgm/pandoc/issues/2825">#2825</a>).
      Usually this is a local file, and replacing spaces with <span><code>%20</code></span> ruins things.</li>
      <li>Allow ‘standout’ as a beamer frame option (<a href="https://github.com/jgm/pandoc/issues/3007">#3007</a>). <span><code>## Slide title {.standout}</code></span>.</li>
      </ul></li>
      <li><p>RST reader: Fixed links with no explicit link text. The
      link <span><code>`&lt;foo&gt;`_</code></span>
      should have <span><code>foo</code></span> as both
      its link text and its URL. See RST spec at <a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#embedded-uris-and-aliases">http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#embedded-uris-and-aliases</a>
      Closes Debian <a href="https://github.com/jgm/pandoc/issues/828167">#828167</a> –
      reported by Christian Heller.</p></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Fixed attributes (<a href="https://github.com/jgm/pandoc/issues/2984">#2984</a>).
      Attributes can’t be followed by a space. So, <span><code>_(class)emph_</code></span> but <span><code>_(noclass) emph_</code></span>.</li>
      <li>Fixed exponential parsing bug (<a href="https://github.com/jgm/pandoc/issues/3020">#3020</a>).</li>
      <li>Fix overly aggressive interpretation as images (<a href="https://github.com/jgm/pandoc/issues/2998">#2998</a>).
      Spaces are not allowed in the image URL in textile.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Fix <span><code>\cite</code></span> so it is a
      NormalCitation not AuthorInText.</li>
      <li>Strip off double quotes around image source if present (<a href="https://github.com/jgm/pandoc/issues/2825">#2825</a>).
      Avoids interpreting these as part of the literal filename.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Add semicolon to list of special chars (Albert Krewinkel)
      Semicolons are used as special characters in citations syntax.
      This ensures the correct parsing of Pandoc-style citations: <span><code>[prefix; @key;   suffix]</code></span>.
      Previously, parsing would have failed unless there was a space or
      other special character as the last <prefix> character.</prefix></li>
      <li>Add support for “Berkeley-style” cites (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/1978">#1978</a>). A
      specification for an official Org-mode citation syntax was drafted
      by Richard Lawrence and enhanced with the help of others on the
      orgmode mailing list. Basic support for this citation style is
      added to the reader.</li>
      <li>Support arbitrary raw inlines (Albert Krewinkel). Org mode
      allows arbitrary raw inlines (“export snippets” in Emacs parlance)
      to be included as <span><code>@@format:raw foreign format <a href="https://bytes.zone/cdn-cgi/l/email-protection" data-cfemail="4b3f2e333f0b">[email protected]</a>@</code></span>.</li>
      <li>Remove partial functions (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2991">#2991</a>).
      Partial functions like <span><code>head</code></span> lead to avoidable errors
      and should be avoided. They are replaced with total
      functions.</li>
      <li>Support figure labels (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2496">#2496</a>, <a href="https://github.com/jgm/pandoc/issues/2999">#2999</a>).
      Figure labels given as <span><code>#+LABEL: thelabel</code></span> are used as
      the ID of the respective image. This allows e.g. the LaTeX to add
      proper <span><code>\label</code></span>
      markup.</li>
      <li>Improve tag and properties type safety (Albert Krewinkel).
      Specific newtype definitions are used to replace stringly typing
      of tags and properties. Type safety is increased while readability
      is improved.</li>
      <li>Parse as headlines, convert to blocks (Albert Krewinkel).
      Emacs org-mode is based on outline-mode, which treats documents as
      trees with headlines are nodes. The reader is refactored to parse
      into a similar tree structure. This simplifies transformations
      acting on document (sub-)trees.</li>
      <li>Refactor comment tree handling (Albert Krewinkel). Comment
      trees were handled after parsing, as pattern matching on lists is
      easier than matching on sequences. The new method of reading
      documents as trees allows for more elegant subtree removal.</li>
      <li>Support archived trees export options (Albert Krewinkel).
      Handling of archived trees can be modified using the <span><code>arch</code></span> option. Archived trees are
      either dropped, exported completely, or collapsed to include just
      the header when the <span><code>arch</code></span>
      option is nil, non-nil, or <span><code>headline</code></span>, respectively.</li>
      <li>Put export setting parser into module (Albert Krewinkel).
      Export option parsing is distinct enough from general block
      parsing to justify putting it into a separate module.</li>
      <li>Support headline levels export setting (Albert Krewinkel). The
      depths of headlines can be modified using the <span><code>H</code></span> option. Deeper headlines will
      be converted to lists.</li>
      <li>Replace ugly code with view pattern (Albert Krewinkel). Some
      less-than-smart code required a pragma switching of overlapping
      pattern warnings in order to compile seamlessly. Using view
      patterns makes the code easier to read and also doesn’t require
      overlapping pattern checks to be disabled.</li>
      <li>Fix parsing of verbatim inlines (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/3016">#3016</a>). Org
      rules for allowed characters before or after markup chars were not
      checked for verbatim text. This resultet in wrong parsing outcomes
      of if the verbatim text contained e.g. space enclosed markup
      characters as part of the text (<span><code>=is_substr = True=</code></span>). Forcing
      the parser to update the positions of allowed/forbidden markup
      border characters fixes this.</li>
      </ul></li>
      <li><p>LaTeX template: fix for obscure hyperref/xelatex issue.
      Here’s a minimal case:</p>
      <pre><code>\documentclass[]{article}
\usepackage{hyperref}
\begin{document}
\section{\%á}
\end{document}</code></pre>
      <p>Without this change, this fails on the second invocation of
      xelatex. This affects inputs this like <span><code># %á</code></span> with pdf output via
      xelatex.</p></li>
      <li><p>trypandoc: call results ‘html’ instead of ‘result’. This is
      for better compatibility with babelmark2.</p></li>
      <li><p>Document MultiMarkdown as input/output format (Albert
      Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2973">#2973</a>).
      MultiMarkdown was only mentioned as a supported Markdown dialect
      but not as a possible input or output format. A brief mention is
      added everywhere the other supported markdown dialects are
      mentioned.</p></li>
      <li><p>Document Org mode as a format containing raw HTML (Albert
      Krewinkel) Raw HTML is kept when the output format is Emacs Org
      mode.</p></li>
      <li><p>Implement <span><code>RawInline</code></span> and <span><code>RawBlock</code></span> in sample lua custom
      writer (<a href="https://github.com/jgm/pandoc/issues/2985">#2985</a>).</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Introduce blocksToInlines function (Jesse Rosenthal). This is
      a lossy function for converting <span><code>[Block] -&gt; [Inline]</code></span>. Its
      main use, at the moment, is for docx comments, which can contain
      arbitrary blocks (except for footnotes), but which will be
      converted to spans. This is, at the moment, pretty useless for
      everything but the basic <span><code>Para</code></span> and <span><code>Plain</code></span> comments. It can be
      improved, but the docx reader should probably emit a warning if
      the comment contains more than this.</li>
      <li>Add BlockQuote to blocksToInlines (Jesse Rosenthal).</li>
      <li>Add further formats for <span><code>normalizeDate</code></span> (Jesse
      Rosenthal). We want to avoid illegal dates – in particular years
      with greater than four digits. We attempt to parse series of
      digits first as <span><code>%Y%m%d</code></span>,
      then <span><code>%Y%m</code></span>, and finally
      <span><code>%Y</code></span>.</li>
      <li><span><code>normalizeDate</code></span> should
      reject illegal years (Jesse Rosenthal). We only allow years
      between 1601 and 9999, inclusive. The ISO 8601 actually says that
      years are supposed to start with 1583, but MS Word only allows
      1601-9999. This should stop corrupted word files if the date is
      out of that range, or is parsed incorrectly.</li>
      <li>Improve year sanity check in normalizeDate (Jesse Rosenthal).
      Previously we parsed a list of dates, took the first one, and then
      tested its year range. That meant that if the first one failed, we
      returned nothing, regardless of what the others did. Now we test
      for sanity before running <span><code>msum</code></span> over the list of Maybe
      values. Anything failing the test will be Nothing, so will not be
      a candidate.</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Add simple comment functionality. (Jesse Rosenthal). This adds
      simple track-changes comment parsing to the docx reader. It is
      turned on with <span><code>--track-changes=all</code></span>. All
      comments are converted to inlines, which can list some
      information. In the future a warning will be added for comments
      with formatting that seems like it will be excessively denatured.
      Note that comments can extend across blocks. For that reason there
      are two spans: <span><code>comment-start</code></span> and <span><code>comment-end</code></span>. <span><code>comment-start</code></span> will contain the
      comment. <span><code>comment-end</code></span> will
      always be empty. The two will be associated by a numeric id.</li>
      <li>Enable warnings in top-level reader (Jesse Rosenthal).
      Previously we had only allowed for warnings in the parser. Now we
      allow for them in the <span><code>Docx.hs</code></span> as well. The warnings
      are simply concatenated.</li>
      <li>Add warning for advanced comment formatting. (Jesse
      Rosenthal). We can’t guarantee we’ll convert every comment
      correctly, though we’ll do the best we can. This warns if the
      comment includes something other than Para or Plain.</li>
      <li>Add tests for warnings. (Jesse Rosenthal).</li>
      <li>Add tests for comments (Jesse Rosenthal). We test for
      comments, using all track-changes options. Note that we should
      only output comments if <span><code>--track-changes=all</code></span>. We also
      test for emitting warnings if there is complicated
      formatting.</li>
      </ul></li>
      <li><p>README: update to include track-changes comments. (Jesse
      Rosenthal)</p></li>
      <li><p>Improved Windows installer - don’t ignore properties set on
      command-line. See <a href="https://github.com/jgm/pandoc/issues/2708">#2708</a>. Needs
      testing to see if this resolves the issue. Thanks to <span data-cites="nkalvi">@nkalvi</span>.</p></li>
      <li><p>Process markdown extensions on command line in L-&gt;R
      order (<a href="https://github.com/jgm/pandoc/issues/2995">#2995</a>).
      Previously they were processed, very unintuitively, in R-&gt;L
      order, so that <span><code>markdown-tex_math_dollars+tex_math_dollars</code></span>
      had <span><code>tex_math_dollars</code></span>
      disabled.</p></li>
      <li><p>Added <span><code>secnumdepth</code></span>
      variable to LaTeX template (<a href="https://github.com/jgm/pandoc/issues/2920">#2920</a>).</p></li>
      <li><p>Include table of contents in README.html in Windows
      package.</p></li>
      <li><p>Writers: treat SoftBreak as space for stripping (Jesse
      Rosenthal) In Writers.Shared, we strip leading and trailing spaces
      for display math. Since SoftBreak’s are treated as spaces, we
      should strip those too.</p></li>
      <li><p>beamer, latex templates: pass biblatexoptions directly in
      package load. This allows runtime optinos to be used. Fixes
      jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/201">#201</a></p></li>
      <li><p>CPP workaround for deprecation of <span><code>parseUrl</code></span> in
      http-client.</p></li>
      <li><p>Removed some redundant class constraints.</p></li>
      <li><p>make_oxs_package.sh - use OSX env variable.</p></li>
      <li><p>Added <span><code>winpkg</code></span>
      target to Makefile. This downloads the windows package from
      appveyor and signs it using the key.</p></li>
      <li><p>Document Org mode as a format containing raw TeX (Albert
      Krewinkel). Raw TeX is kept verbatim when the output format is
      Emacs Org mode.</p></li>
      <li><p>Support math with haddock-library &gt;= 1.4.</p></li>
      <li><p>Removed <span><code>-rtsopts</code></span>
      from library stanza. It has no effect, and Hackage wouldn’t accept
      the package.</p></li>
      <li><p>Update library dependency versions.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.17.1-2016-06-04">
      <h2><a href="#pandoc-1.17.1-2016-06-04" aria-hidden="true"></a>pandoc 1.17.1 (2016-06-04)</h2>
      <ul>
      <li><p>New output format: <span><code>docbook5</code></span> (Ivo
      Clarysse).</p></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>: Add <span><code>writerDocBook5</code></span> to <span><code>WriterOptions</code></span> (API
      change).</p></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Add :PROPERTIES: drawer support (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/1962">#1962</a>). This
      allows header attributes to be added to org documents in the form
      of <span><code>:PROPERTIES:</code></span> drawers.
      All available attributes are stored as key/value pairs. This
      reflects the way the org reader handles <span><code>:PROPERTIES:</code></span> blocks.</li>
      <li>Add drawer capability (Carlos Sosa). For the implementation of
      the Drawer element in the Org Writer, we make use of a generic
      Block container with attributes. The presence of a <span><code>drawer</code></span> class defines that the
      <span><code>Div</code></span> constructor is a
      drawer. The first class defines the drawer name to use. The
      key-value list in the attributes defines the keys to add inside
      the Drawer. Lastly, the list of Block elements contains
      miscellaneous blocks elements to add inside of the Drawer.</li>
      <li>Use <span><code>CUSTOM_ID</code></span> in
      properties (Albert Krewinkel). The <span><code>ID</code></span> property is reserved for
      internal use by Org-mode and should not be used. The <span><code>CUSTOM_ID</code></span> property is to be
      used instead, it is converted to the <span><code>ID</code></span> property for certain export
      format.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Ignore <span><code>--incremental</code></span>
      unless output format is beamer (<a href="https://github.com/jgm/pandoc/issues/2843">#2843</a>).</li>
      <li>Fix polyglossia to babel env mapping (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/2728">#2728</a>). Allow
      for optional argument in square brackets.</li>
      <li>Recognize <span><code>la-x-classic</code></span> as Classical Latin
      (Andrew Dunning). This allows one to access the hyphenation
      patterns in CTAN’s hyph-utf8.</li>
      <li>Add missing languages from hyph-utf8 (Andrew Dunning).</li>
      <li>Improve use of <span><code>\strut</code></span>
      with <span><code>\minipage</code></span> inside
      tables (Jose Luis Duran). This improves spacing in multiline
      tables.</li>
      <li>Use <span><code>{}</code></span> around options
      containing special chars (<a href="https://github.com/jgm/pandoc/issues/2892">#2892</a>).</li>
      <li>Avoid lazy <span><code>foldl</code></span>.</li>
      <li>Don’t escape underscore in labels (<a href="https://github.com/jgm/pandoc/issues/2921">#2921</a>).
      Previously they were escaped as <span><code>ux5f</code></span>.</li>
      <li>brazilian -&gt; brazil for polyglossia (<a href="https://github.com/jgm/pandoc/issues/2953">#2953</a>).</li>
      </ul></li>
      <li><p>HTML writer: Ensure mathjax link is added when math appears
      in footnote (<a href="https://github.com/jgm/pandoc/issues/2881">#2881</a>).
      Previously if a document only had math in a footnote, the MathJax
      link would not be added.</p></li>
      <li><p>EPUB writer: set <span><code>navpage</code></span> variable on nav page.
      This allows templates to treat it differently.</p></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Use docbook5 if <span><code>writerDocbook5</code></span> is set (Ivo
      Clarysse).</li>
      <li>Properly handle <span><code>ulink</code></span>/<span><code>link</code></span> (Ivo Clarysse).</li>
      </ul></li>
      <li><p>EPUB reader:</p>
      <ul>
      <li>Unescape URIs in spine (<a href="https://github.com/jgm/pandoc/issues/2924">#2924</a>).</li>
      <li>EPUB reader: normalise link id (Mauro Bieg).</li>
      </ul></li>
      <li><p>Docx Reader:</p>
      <ul>
      <li>Parse <span><code>moveTo</code></span> and
      <span><code>moveFrom</code></span> (Jesse
      Rosenthal). <span><code>moveTo</code></span> and
      <span><code>moveFrom</code></span> are
      track-changes tags that are used when a block of text is moved in
      the document. We now recognize these tags and treat them the same
      as <span><code>insert</code></span> and <span><code>delete</code></span>, respectively. So, <span><code>--track-changes=accept</code></span> will
      show the moved version, while <span><code>--track-changes=reject</code></span> will
      show the original version.</li>
      <li>Tests for track-changes moving (Jesse Rosenthal).</li>
      </ul></li>
      <li><p>ODT, EPUB, Docx readers: throw <span><code>PandocError</code></span> on unzip failure
      (Jesse Rosenthal) Previously, <span><code>readDocx</code></span>, <span><code>readEPUB</code></span>, and <span><code>readOdt</code></span> would error out if
      zip-archive failed. We change the archive extraction step from
      <span><code>toArchive</code></span> to <span><code>toArchiveOrFail</code></span>, which returns
      an Either value.</p></li>
      <li><p>Markdown, HTML readers: be more forgiving about unescaped
      <span><code>&amp;</code></span> in HTML (<a href="https://github.com/jgm/pandoc/issues/2410">#2410</a>). We
      are now more forgiving about parsing invalid HTML with unescaped
      <span><code>&amp;</code></span> as raw HTML.
      (Previously any unescaped <span><code>&amp;</code></span> would cause pandoc not to
      recognize the string as raw HTML.)</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fix pandoc title blocks with lines ending in 2 spaces (<a href="https://github.com/jgm/pandoc/issues/2799">#2799</a>).</li>
      <li>Added <span><code>-s</code></span> to
      markdown-reader-more test.</li>
      </ul></li>
      <li><p>HTML reader: fixed bug in <span><code>pClose</code></span>. This caused exponential
      parsing behavior in documnets with unclosed tags in <span><code>dl</code></span>, <span><code>dd</code></span>, <span><code>dt</code></span>.</p></li>
      <li><p>MediaWiki reader: Allow spaces before <span><code>!</code></span> in MediaWiki table header
      (roblabla).</p></li>
      <li><p>RST reader: Support <span><code>:class:</code></span> option for code block
      in RST reader (Sidharth Kapur).</p></li>
      <li><p>Org reader (all Albert Krewinkel, except where noted
      otherwise):</p>
      <ul>
      <li>Stop padding short table rows. Emacs Org-mode doesn’t add any
      padding to table rows. The first row (header or first body row) is
      used to determine the column count, no other magic is
      performed.</li>
      <li>Refactor rows-to-table conversion. This refactors the codes
      conversing a list table lines to an org table ADT. The old code
      was simplified and is now slightly less ugly.</li>
      <li>Fix handling of empty table cells, rows (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2616">#2616</a>). This
      fixes Org mode parsing of some corner cases regarding empty cells
      and rows. Empty cells weren’t parsed correctly, e.g. <span><code>|||</code></span> should be two empty cells,
      but would be parsed as a single cell containing a pipe character.
      Empty rows where parsed as alignment rows and dropped from the
      output.</li>
      <li>Fix spacing after LaTeX-style symbols. The org-reader was
      dropping space after unescaped LaTeX-style symbol commands: <span><code>\ForAll \Auml</code></span> resulted in <span><code>∀Ä</code></span> but should give <span><code>∀ Ä</code></span> instead. This seems to be
      because the LaTeX-reader treats the command-terminating space as
      part of the command. Dropping the trailing space from the
      symbol-command fixes this issue.</li>
      <li>Print empty table rows. Empty table rows should not be dropped
      from the output, so row-height is always set to be at least
      1.</li>
      <li>Move parser state into separate module. The org reader code
      has become large and confusing. Extracting smaller parts into
      submodules should help to clean things up.</li>
      <li>Add support for sub/superscript export options. Org-mode
      allows to specify export settings via <span><code>#+OPTIONS</code></span> lines. Disabling
      simple sub- and superscripts is one of these export options, this
      options is now supported.</li>
      <li>Support special strings export option Parsing of special
      strings (like <span><code>...</code></span> as
      ellipsis or <span><code>--</code></span> as en
      dash) can be toggled using the <span><code>-</code></span> option.</li>
      <li>Support emphasized text export option. Parsing of emphasized
      text can be toggled using the <span><code>*</code></span> option. This influences
      parsing of text marked as emphasized, strong, strikeout, and
      underline. Parsing of inline math, code, and verbatim text is not
      affected by this option.</li>
      <li>Support smart quotes export option. Reading of smart quotes
      can be toggled using the <span><code>&#39;</code></span> option.</li>
      <li>Parse but ignore export options. All known export options are
      parsed but ignored.</li>
      <li>Refactor block attribute handling. A parser state attribute
      was used to keep track of block attributes defined in meta-lines.
      Global state is undesirable, so block attributes are no longer
      saved as part of the parser state. Old functions and the
      respective part of the parser state are removed.</li>
      <li>Use custom <span><code>anyLine</code></span>.
      Additional state changes need to be made after a newline is
      parsed, otherwise markup may not be recognized correctly. This
      fixes a bug where markup after certain block-types would not be
      recognized.</li>
      <li>Add support for <span><code>ATTR_HTML</code></span> attributes (<a href="https://github.com/jgm/pandoc/issues/1906">#1906</a>).
      Arbitrary key-value pairs can be added to some block types using a
      <span><code>#+ATTR_HTML</code></span> line before
      the block. Emacs Org-mode only includes these when exporting to
      HTML, but since we cannot make this distinction here, the
      attributes are always added. The functionality is now supported
      for figures.</li>
      <li>Add <span><code>:PROPERTIES:</code></span>
      drawer support (<a href="https://github.com/jgm/pandoc/issues/1877">#1877</a>).
      Headers can have optional <span><code>:PROPERTIES:</code></span> drawers associated
      with them. These drawers contain key/value pairs like the header’s
      <span><code>id</code></span>. The reader adds all
      listed pairs to the header’s attributes; <span><code>id</code></span> and <span><code>class</code></span> attributes are handled
      specially to match the way <span><code>Attr</code></span> are defined. This also
      changes behavior of how drawers of unknown type are handled.
      Instead of including all unknown drawers, those are not
      read/exported, thereby matching current Emacs behavior.</li>
      <li>Use <span><code>CUSTOM_ID</code></span> in
      properties. See above on Org writer changes.</li>
      <li>Respect drawer export setting. The <span><code>d</code></span> export option can be used to
      control which drawers are exported and which are discarded. Basic
      support for this option is added here.</li>
      <li>Ignore leading space in org code blocks (Emanuel Evans, <a href="https://github.com/jgm/pandoc/issues/2862">#2862</a>). Also
      fix up tab handling for leading whitespace in code blocks.</li>
      <li>Support new syntax for export blocks. Org-mode version 9 uses
      a new syntax for export blocks. Instead of <span><code>#+BEGIN_&lt;FORMAT&gt;</code></span>, where
      <span><code>&lt;FORMAT&gt;</code></span> is the
      format of the block’s content, the new format uses <span><code>#+BEGIN_export &lt;FORMAT&gt;</code></span>
      instead. Both types are supported.</li>
      <li>Refactor <span><code>BEGIN...END</code></span>
      block parsing.</li>
      <li>Fix handling of whitespace in blocks, allowing content to be
      indented less then the block header.</li>
      <li>Support org-ref style citations. The <em>org-ref</em> package
      is an org-mode extension commonly used to manage citations in org
      documents. Basic support for the <span><code>cite:citeKey</code></span> and <span><code>[[cite:citeKey][prefix text::suffix text]]</code></span>
      syntax is added.</li>
      <li>Split code into separate modules, making for cleaner code and
      better decoupling.</li>
      </ul></li>
      <li><p>Added <span><code>docbook5</code></span>
      template.</p></li>
      <li><p><span><code>--mathjax</code></span>
      improvements:</p>
      <ul>
      <li>Use new CommonHTML output for MathJax (updated default MathJax
      URL, <a href="https://github.com/jgm/pandoc/issues/2858">#2858</a>).</li>
      <li>Change default mathjax setup to use <span><code>TeX-AMS_CHTML</code></span> configuration.
      This is designed for cases where the input is always TeX and
      maximal conformity with TeX is desired. It seems to be smaller and
      load faster than what we used before. See <a href="https://github.com/jgm/pandoc/issues/2858">#2858</a>.</li>
      <li>Load the full MathJax config to maximize loading speed
      (KolenCheung).</li>
      </ul></li>
      <li><p>Bumped upper version bounds to allow use of latest packages
      and compilation with ghc 8.</p></li>
      <li><p>Require texmath 0.8.6.2. Closes several texmath-related
      bugs (<a href="https://github.com/jgm/pandoc/issues/2775">#2775</a>, <a href="https://github.com/jgm/pandoc/issues/2310">#2310</a>, <a href="https://github.com/jgm/pandoc/issues/2310">#2310</a>, <a href="https://github.com/jgm/pandoc/issues/2824">#2824</a>). This
      fixes behavior of roots, e.g. <span><code>\sqrt[3]{x}</code></span>, and issues with
      sub/superscript positioning and matrix column alignment in
      docx.</p></li>
      <li><p>README:</p>
      <ul>
      <li>Clarified documentation of <span><code>implicit_header_references</code></span> (<a href="https://github.com/jgm/pandoc/issues/2904">#2904</a>).</li>
      <li>Improved documentation of <span><code>--columns</code></span> option.</li>
      </ul></li>
      <li><p>Added appveyor setup, with artefacts (Jan Schulz).</p></li>
      <li><p>stack.yaml versions: Use proper flags used for texmath,
      pandoc-citeproc.</p></li>
      <li><p>LaTeX template: support for custom font families
      (vladipus). Needed for correct polyglossia operation with Cyrillic
      fonts and perhaps can find some other usages. Example usage in
      YAML metadata:</p>
      <pre><code>  fontfamilies:
  - name: \cyrillicfont
    font: Liberation Serif
  - name: \cyrillicfonttt
    options: Scale=MatchLowercase
    font: Liberation</code></pre></li>
      <li><p>Create unsigned msi as build artifact in appveyor
      build.</p></li>
      <li><p>On travis, test with ghc 8.0.1; drop testing for ghc
      7.4.1.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.17.0.3-2016-03-24">
      <h2><a href="#pandoc-1.17.0.3-2016-03-24" aria-hidden="true"></a>pandoc 1.17.0.3 (2016-03-24)</h2>
      <ul>
      <li>LaTeX writer: Fixed position of label in figures (<a href="https://github.com/jgm/pandoc/issues/2813">#2813</a>).
      Previously the label wasn’t in the right place, and <span><code>\ref</code></span> wouldn’t work
      properly.</li>
      <li>Added .tei test files to pandoc.cabal so they’ll be included
      in tarball (<a href="https://github.com/jgm/pandoc/issues/2811">#2811</a>).</li>
      <li>Updated copyright dates.</li>
      </ul>
      </section>
      <section id="pandoc-1.17.0.2-2016-03-23">
      <h2><a href="#pandoc-1.17.0.2-2016-03-23" aria-hidden="true"></a>pandoc 1.17.0.2 (2016-03-23)</h2>
      <ul>
      <li>Fixed serious regression in <span><code>htmlInBalanced</code></span>, which caused
      newlines to be omitted in some raw HTML blocks in Markdown (<a href="https://github.com/jgm/pandoc/issues/2804">#2804</a>).</li>
      </ul>
      </section>
      <section id="pandoc-1.17.0.1-2016-03-21">
      <h2><a href="#pandoc-1.17.0.1-2016-03-21" aria-hidden="true"></a>pandoc 1.17.0.1 (2016-03-21)</h2>
      <ul>
      <li>File scope is no longer used when there are no input files
      (i.e., when input comes from stdin). Previously file scope was
      triggered when the <span><code>json</code></span>
      reader was specified and input came from <span><code>stdin</code></span>, and this caused no
      output to be produced. (Fix due to Jesse Rosenthal; thanks to
      Fedor Sheremetyev for calling the bug to our attention.)</li>
      <li>Improved documentation of templates (<a href="https://github.com/jgm/pandoc/issues/2797">#2797</a>).</li>
      </ul>
      </section>
      <section id="pandoc-1.17-2016-03-20">
      <h2><a href="#pandoc-1.17-2016-03-20" aria-hidden="true"></a>pandoc 1.17 (2016-03-20)</h2>
      <ul>
      <li><p>Added <span><code>--file-scope</code></span>
      option (Jesse Rosenthal). By default pandoc operates on multiple
      files by first concatenating them (around extra line breaks) and
      then processing the joined file. So it only parses a multi-file
      document at the document scope. This has the benefit that
      footnotes and links can be in different files, but for some
      purposes it is useful to parse the individual files first and then
      combine their outputs (e.g. when the files use footnotes or links
      with the same labels). The <span><code>--file-scope</code></span> option causes
      pandoc to parse the files first, and then combine the parsed
      output, instead of combining before parsing. <span><code>--file-scope</code></span> is selected
      automatically for binary input files (which cannot be
      concatenated) and for pandoc json.</p></li>
      <li><p>Add TEI Writer (Chris Forster) and <span><code>tei</code></span> output format.</p></li>
      <li><p>Added a general <span><code>ByteStringReader</code></span> with warnings,
      used by the docx reader (API change, Jesse Rosenthal).</p></li>
      <li><p>Add <span><code>readDocxWithWarnings</code></span> (API
      change, Jesse Rosenthal).</p></li>
      <li><p>Changed type of <span><code>Shared.uniqueIdent</code></span> argument
      from <span><code>[String]</code></span> to <span><code>Set String</code></span>. This avoids
      performance problems in documents with many identically named
      headers (API change, <a href="https://github.com/jgm/pandoc/issues/2671">#2671</a>).</p></li>
      <li><p>Removed <span><code>tex_math_single_backslash</code></span> from
      <span><code>markdown_github</code></span> options
      (<a href="https://github.com/jgm/pandoc/issues/2707">#2707</a>).</p></li>
      <li><p>Make language extensions as well as full language names
      trigger syntax highlighting. For example, <span><code>py</code></span> will now work as well as
      <span><code>python</code></span>
      (jgm/highlighting-kate<a href="https://github.com/jgm/pandoc/issues/83">#83</a>).</p></li>
      <li><p>Added <span><code>institute</code></span>
      variable to latex, beamer templates (Fraser Tweedale, Josef
      Svenningsson).</p></li>
      <li><p>Docx reader (Jesse Rosenthal):</p>
      <ul>
      <li>Handle alternate content. Some word functions (especially
      graphics) give various choices for content so there can be
      backwards compatibility.</li>
      <li>Don’t turn numbered headers into lists.</li>
      <li>Docx Reader: Add state to the parser, for warnings</li>
      <li>Update feature checklist in source code.</li>
      <li>Get rid of <span><code>Modifiable</code></span>
      typeclass.</li>
      <li>Add tests for adjacent hyperlinks.</li>
      <li>Add a “Link” modifier to <span><code>Reducible</code></span>. We want to make sure
      that links have their spaces removed, and are appropriately
      smushed together (<a href="https://github.com/jgm/pandoc/issues/2689">#2689</a>).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Fixed behavior of base tag (<a href="https://github.com/jgm/pandoc/issues/2777">#2777</a>). If
      the base path does not end with slash, the last component will be
      replaced. E.g. base = <span><code>http://example.com/foo</code></span> combines
      with <span><code>bar.html</code></span> to give
      <span><code>http://example.com/bar.html</code></span>. If
      the href begins with a slash, the whole path of the base is
      replaced. E.g. base = <span><code>http://example.com/foo/</code></span>
      combines with <span><code>/bar.html</code></span>
      to give <span><code>http://example.com/bar.html</code></span>.</li>
      <li>Rewrote <span><code>htmlInBalanced</code></span>. This version
      avoids an exponential performance problem with <span><code>&lt;script&gt;</code></span> tags, and it
      should be faster in general (<a href="https://github.com/jgm/pandoc/issues/2730">#2730</a>).</li>
      <li>Properly handle an empty cell in a simple table (<a href="https://github.com/jgm/pandoc/issues/2718">#2718</a>).</li>
      <li>Handle multiple <span><code>&lt;meta&gt;</code></span> tags with same
      name. Put them in a list in the metadata so they are all
      preserved, rather than (as before) throwing out all but one..</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Improved pipe table parsing (<a href="https://github.com/jgm/pandoc/issues/2765">#2765</a>).</li>
      <li>Allow <span><code>+</code></span> separators in
      pipe table cells. We already allowed them in the header, but not
      in the body rows, for some reason. This gives compatibility with
      org-mode tables.</li>
      <li>Don’t cross line boundary parsing pipe table row. Previously
      an Emph element could be parsed across the newline at the end of
      the pipe table row.</li>
      <li>Use <span><code>htmlInBalanced</code></span>
      for <span><code>rawVerbatimBlock</code></span>, for
      better performance (<a href="https://github.com/jgm/pandoc/issues/2730">#2730</a>).</li>
      <li>Fixed bug with smart quotes around tex math.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Handle interior <span><code>$</code></span>
      characters in math (<a href="https://github.com/jgm/pandoc/issues/2743">#2743</a>). For
      example, <span><code>$$\hbox{$i$}$$</code></span>.</li>
      <li><span><code>inlineCommand</code></span> now
      gobbles an empty <span><code>{}</code></span> after
      any command (<a href="https://github.com/jgm/pandoc/issues/2687">#2687</a>). This
      gives better results when people write e.g. <span><code>\TeX{}</code></span> in Markdown.</li>
      <li>Properly handle LaTeX “math” environment as inline math (<a href="https://github.com/jgm/pandoc/issues/2171">#2171</a>).</li>
      </ul></li>
      <li><p>Textile reader: Support <span><code>&gt;</code></span>, <span><code>&lt;</code></span>, <span><code>=</code></span>, <span><code>&lt;&gt;</code></span> text alignment
      attributes. Closes <a href="https://github.com/jgm/pandoc/issues/2674">#2674</a>.</p></li>
      <li><p>Org reader (Albert Krewinkel):</p>
      <ul>
      <li>Prefix even empty figure names with “fig:” (<a href="https://github.com/jgm/pandoc/issues/2643">#2643</a>). The
      convention used by pandoc for figures is to mark them by prefixing
      the name with <span><code>fig:</code></span>. The
      org reader failed to do this if a figure had no name.</li>
      <li>Refactor link-target processing (<a href="https://github.com/jgm/pandoc/issues/2684">#2684</a>).</li>
      </ul></li>
      <li><p>ConTeXt writer: Fix whitespace at line beginning in line
      blocks (<a href="https://github.com/jgm/pandoc/issues/2744">#2744</a>).
      Thanks to <span data-cites="c-foster">@c-foster</span>.</p></li>
      <li><p>HTML writer: Don’t include alignment attribute for default
      table columns. Previously these were given “left” alignment.
      Better to leave off alignment attributes altogether (<a href="https://github.com/jgm/pandoc/issues/2694">#2694</a>).</p></li>
      <li><p>Markdown writer: Use hyphens for YAML metadata block bottom
      line, for better compatibility with other Markdown flavors (Henrik
      Tramberend).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use image identifier to create a label and hypertarget for
      figures (Mauro Bieg).</li>
      <li>Avoid double toprule in headerless table with caption (<a href="https://github.com/jgm/pandoc/issues/2742">#2742</a>).</li>
      <li>Clean up options parser (Jesse Rosenthal).</li>
      <li>Treat <span><code>memoir</code></span> template
      with <span><code>article</code></span> option as
      article, instead of treating all <span><code>memoir</code></span> templates as books.</li>
      <li>Allow more flexible table alignment (Henrik Tramberend, <a href="https://github.com/jgm/pandoc/issues/2665">#2665</a>). New
      default is not to include <span><code>[c]</code></span> option (which is the
      default anyway if no positioning is specified). Now LaTeX emplates
      can control the overall table alignment in a document by setting
      the longtable length variables <span><code>LTleft</code></span> and <span><code>LTright</code></span>. For example, <span><code>\setlength\LTleft\parindent\setlength\LTright\fill</code></span>
      will create left-aligned tables that respect paragraph
      indentation.</li>
      </ul></li>
      <li><p>Docx writer: Handle image alt text (<a href="https://github.com/jgm/pandoc/issues/2754">#2754</a>, Mauro
      Bieg).</p></li>
      <li><p>Org writer - pass through RawInline with format
      “org”.</p></li>
      <li><p>DokuWiki writer: use <span><code>$$</code></span> for display math.</p></li>
      <li><p>Custom writer: Pass attributes parameter to CaptionedImage
      (<a href="https://github.com/jgm/pandoc/issues/2697">#2697</a>).</p></li>
      <li><p>Make protocol-relative URIs work again (<a href="https://github.com/jgm/pandoc/issues/2737">#2737</a>).</p></li>
      <li><p>make_osx_package.sh: Use env variable for developer id
      certs.</p></li>
      <li><p>Raise <span><code>tagsoup</code></span>
      lower bound to 0.13.7 to fix entity-related problems (<a href="https://github.com/jgm/pandoc/issues/2734">#2734</a>).</p></li>
      <li><p>Allow <span><code>zip-archive</code></span>
      0.3.</p></li>
      <li><p>Allow <span><code>aeson</code></span>
      0.11.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.16.0.2-2016-01-12">
      <h2><a href="#pandoc-1.16.0.2-2016-01-12" aria-hidden="true"></a>pandoc 1.16.0.2 (2016-01-12)</h2>
      <ul>
      <li><p>Depend on deepseq rather than deepseq-generics
      (fpco/stackage<a href="https://github.com/jgm/pandoc/issues/1096">#1096</a>).</p></li>
      <li><p>Fixed regression in latex smart quote parsing (<a href="https://github.com/jgm/pandoc/issues/2645">#2645</a>). In
      cases where a match was not found for a quote, everything from the
      open quote to the end of the paragraph was being dropped.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.16.0.1-2016-01-10">
      <h2><a href="#pandoc-1.16.0.1-2016-01-10" aria-hidden="true"></a>pandoc 1.16.0.1 (2016-01-10)</h2>
      <ul>
      <li><p>Fixed regression with <span><code>--latex-engine</code></span> (<a href="https://github.com/jgm/pandoc/issues/2618">#2618</a>). In
      1.16 <span><code>--latex-engine</code></span>
      raises an error if a full path is given.</p></li>
      <li><p>Org reader: Fix function dropping subtrees tagged <span><code>:noexport</code></span> (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2628">#2628</a>):</p></li>
      <li><p>Markdown reader: renormalize table column widths if they
      exceed 100% (<a href="https://github.com/jgm/pandoc/issues/2626">#2626</a>).</p></li>
      <li><p>Textile reader: don’t allow block HTML tags in inline
      contexts. The reader previously did allow this, following
      redcloth, which happily parses</p>
      <pre><code>Html blocks can be &lt;div&gt;inlined&lt;/div&gt; as well.</code></pre>
      <p>as</p>
      <pre><code>&lt;p&gt;Html blocks can be &lt;div&gt;inlined&lt;/div&gt; as well.&lt;/p&gt;</code></pre>
      <p>This is invalid HTML. The above sample now produces;</p>
      <pre><code>&lt;p&gt;Html blocks can be&lt;/p&gt;
&lt;div&gt;
&lt;p&gt;inlined&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;as well.&lt;/p&gt;</code></pre></li>
      <li><p>Improved default template lookup for custom lua scripts (<a href="https://github.com/jgm/pandoc/issues/2625">#2625</a>).
      Previously, if you tried to do <span><code>pandoc -s -t /path/to/lua/script.lua</code></span>,
      pandoc would look for the template in <span><code>~/.pandoc/templates/default./path/to/lua/script.lua</code></span>.
      With this change it will look in the more reasonable <span><code>~/.pandoc/templates/default.script.lua</code></span>.
      This makes it possible to store default templates for custom
      writers.</p></li>
      <li><p>RST, Markdown writers: Fixed rendering of grid tables with
      blank rows (<a href="https://github.com/jgm/pandoc/issues/2615">#2615</a>).</p></li>
      <li><p>LaTeX writer: restore old treatment of Span (<a href="https://github.com/jgm/pandoc/issues/2624">#2624</a>). A
      Span is now rendered with surrounding <span><code>{}</code></span>, as it was before
      1.16.</p></li>
      <li><p>Entity handling fixes: improved handling of entities like
      <span><code>&amp;lang;</code></span> that require a
      trailing semicolon. Allow uppercase <span><code>x</code></span> in numerical hexadecimal
      character references, working around a tagsoup bug.</p></li>
      <li><p><span><code>stack.yaml</code></span> - use
      lts-4.0, but with older aeson to avoid excessive memory use on
      compile. With aeson 0.10 we were getting an out of memory error on
      a 2GB Ubuntu 64-bit VM.</p></li>
      <li><p>Improved deb package creation script. Made <span><code>DPKGVER</code></span> work. Renamed <span><code>COMMIT</code></span> to <span><code>TREE</code></span>. You should now be able to
      do <span><code>TREE=1.16.0.1 DPKGVER=2 make deb</code></span>.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.16-2016-01-02">
      <h2><a href="#pandoc-1.16-2016-01-02" aria-hidden="true"></a>pandoc 1.16 (2016-01-02)</h2>
      <ul>
      <li><p>Added <span><code>Attr</code></span> field
      to <span><code>Link</code></span> and <span><code>Image</code></span> (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/261">#261</a>, API
      change).</p>
      <ul>
      <li>Added syntax for link and image attributes to pandoc’s
      Markdown.</li>
      <li>Updated readers and writers to use link and image attributes
      when appropriate.</li>
      <li>Support image attributes in Docx, Textile, RST readers.</li>
      </ul></li>
      <li><p>Renamed link attribute extensions. The old <span><code>link_attributes</code></span> is now <span><code>mmd_link_attributes</code></span>, and <span><code>link_attributes</code></span> now enables the
      new pandoc-style link and image attributes (API change). Note:
      this change could break some existing workflows.</p></li>
      <li><p>Implemented <span><code>SoftBreak</code></span> and new <span><code>--wrap</code></span> option (<a href="https://github.com/jgm/pandoc/issues/1701">#1701</a>, API
      change). Added threefold wrapping option.</p>
      <ul>
      <li>Command line option: deprecated <span><code>--no-wrap</code></span>, added <span><code>--wrap=[auto|none|preserve]</code></span></li>
      <li>Added <span><code>WrapOption</code></span>,
      exported from <span><code>Text.Pandoc.Options</code></span></li>
      <li>Changed type of <span><code>writerWrapText</code></span> in <span><code>WriterOptions</code></span> from <span><code>Bool</code></span> to <span><code>WrapOption</code></span>.</li>
      <li>Modified <span><code>Text.Pandoc.Shared</code></span> functions to
      allow <span><code>SoftBreak</code></span>.</li>
      <li>Supported <span><code>SoftBreak</code></span>
      in readers and writers.</li>
      </ul></li>
      <li><p>Text.Pandoc.Options: Added <span><code>writerDpi</code></span> to <span><code>WriterOptions</code></span> (API change,
      Mauro Bieg).</p></li>
      <li><p>Added <span><code>--dpi</code></span>
      command-line option (Mauro Bieg).</p></li>
      <li><p>Rationalized behavior of <span><code>--no-tex-ligatures</code></span> and <span><code>--smart</code></span> (<a href="https://github.com/jgm/pandoc/issues/2541">#2541</a>). This
      change makes <span><code>--no-tex-ligatures</code></span> affect the
      LaTeX reader as well as the LaTeX and ConTeXt writers. If it is
      used, the LaTeX reader will parse characters <span><code>`</code></span>, <span><code>&#39;</code></span>, and <span><code>-</code></span> literally, rather than
      parsing ligatures for quotation marks and dashes. And the LaTeX
      writer will print unicode quotation mark and dash characters
      literally, rather than converting them to the standard ASCII
      ligatures. Note that <span><code>--smart</code></span> has no effect on the
      LaTeX reader. <span><code>--smart</code></span> is
      still the default for all input formats when LaTeX or ConTeXt is
      the output format, <em>unless</em> <span><code>--no-tex-ligatures</code></span> is used.</p>
      <p>Some examples to illustrate the logic:</p>
      <pre><code>% echo &#34;&#39;hi&#39;&#34; | pandoc -t latex
`hi&#39;
% echo &#34;&#39;hi&#39;&#34; | pandoc -t latex --no-tex-ligatures
&#39;hi&#39;
% echo &#34;&#39;hi&#39;&#34; | pandoc -t latex --no-tex-ligatures --smart
‘hi’
% echo &#34;&#39;hi&#39;&#34; | pandoc -f latex --no-tex-ligatures
&lt;p&gt;&#39;hi&#39;&lt;/p&gt;
% echo &#34;&#39;hi&#39;&#34; | pandoc -f latex
&lt;p&gt;’hi’&lt;/p&gt;</code></pre></li>
      <li><p>Removed deprecated options <span><code>--offline</code></span> and <span><code>--html5</code></span>.</p></li>
      <li><p>Fixed language code for Czech (<span><code>cs</code></span> not <span><code>cz</code></span>) (<a href="https://github.com/jgm/pandoc/issues/2597">#2597</a>).</p></li>
      <li><p>Implemented <span><code>east_asian_line_breaks</code></span>
      extension (<a href="https://github.com/jgm/pandoc/issues/2586">#2586</a>). In
      <span><code>Text.Pandoc.Options</code></span>,
      added <span><code>Ext_east_asian_line_breaks</code></span>
      constructor to <span><code>Extension</code></span>
      (API change). This extension is like <span><code>ignore_line_breaks</code></span>, but smarter
      – it only ignores line breaks between two East Asian wide
      characters. This makes it better suited for writing with a mix of
      East Asian and non-East Asian scripts.</p></li>
      <li><p>Added support for PDF creation via <span><code>wkhtmltopdf</code></span>. To use this: <span><code>pandoc -t html5 -o result.pdf</code></span>
      (and add <span><code>--mathjax</code></span> if you
      have math.) Margins can be set using the variables <span><code>margin-top</code></span>, <span><code>margin-bottom</code></span>, <span><code>margin-left</code></span>, <span><code>margin-right</code></span>. Other styling can
      be done through CSS.</p></li>
      <li><p>Fixed cite key parsing regression (jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/201">#201</a>). We were
      capturing final colons as in <span><code>[@foo: bar]</code></span>; the citation id
      was being parsed as <span><code>@foo:</code></span>.</p></li>
      <li><p>ICML writer:</p>
      <ul>
      <li>Fixed image syntax for local files (<a href="https://github.com/jgm/pandoc/issues/2589">#2589</a>).</li>
      <li>Changed type of <span><code>writeICML</code></span> (Mauro Bieg). API
      change: It is now <span><code>WriterOptions -&gt; Pandoc -&gt; IO String</code></span>.
      Also handle new image attributes.</li>
      <li>Intersperse line breaks instead of appending them to every
      <span><code>ParagraphStyleRange</code></span>
      (Mauro Bieg, <a href="https://github.com/jgm/pandoc/issues/2501">#2501</a>).</li>
      <li>Add <span><code>Cite</code></span> style to
      citations (Mauro Bieg).</li>
      <li>Added figure handling (<a href="https://github.com/jgm/pandoc/issues/2590">#2590</a>, Mauro
      Bieg).</li>
      <li>Better handling of math. Instead of just printing the raw tex,
      we now try to fake it with unicode characters.</li>
      </ul></li>
      <li><p>HTML writer: Include <span><code>example</code></span> class for example lists
      (<a href="https://github.com/jgm/pandoc/issues/2524">#2524</a>).</p></li>
      <li><p>ODT/OpenDocument writer: improved image attributes (Mauro
      Bieg).</p>
      <ul>
      <li>Support for percentage widths/heights</li>
      <li>Use <span><code>Attr</code></span> instead of
      title to get dimensions from ODT walker to <span><code>writeOpenDocument</code></span>.</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Support anchors in spans and divs with id elements
      (jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/143">#143</a>).</li>
      <li>Fixed code blocks (<a href="https://github.com/jgm/pandoc/issues/1861">#1861</a>).</li>
      </ul></li>
      <li><p>Haddock writer: omit formatting inside links, which isn’t
      supported by Haddock (<a href="https://github.com/jgm/pandoc/issues/2515">#2515</a>).</p></li>
      <li><p>MediaWiki writer: Fixed spacing issues in table cells.</p>
      <ul>
      <li>Start cell on new line unless it’s a single Para or Plain (<a href="https://github.com/jgm/pandoc/issues/2606">#2606</a>).</li>
      <li>For single Para or Plain, insert a space after the <span><code>|</code></span> to avoid problems when the
      text begins with a character like <span><code>-</code></span> (<a href="https://github.com/jgm/pandoc/issues/2604">#2604</a>).</li>
      </ul></li>
      <li><p>Beamer writer: mark frame as fragile when it contains
      verbatim (<a href="https://github.com/jgm/pandoc/issues/1613">#1613</a>).</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Add support for GAP highlighting using listings (Raniere
      Silva).</li>
      <li>Consider <span><code>header-includes</code></span> content as well
      as templates when determining whether to use csquotes (Andreas
      Lööw).</li>
      <li>Create defaults for geometry using <span><code>margin-left</code></span> etc. If <span><code>geometry</code></span> has no value, but
      <span><code>margin-left</code></span>, <span><code>margin-right</code></span>, <span><code>margin-top</code></span>, and/or <span><code>-margin-bottom</code></span> are given, a
      default value for <span><code>geometry</code></span> is created from these.
      Note that these variables already affect PDF production via HTML5
      with <span><code>wkhtmltopdf</code></span>.</li>
      </ul></li>
      <li><p>ConTeXt writer: set default layout based on <span><code>margin-left</code></span>, etc. This sets up
      <span><code>\setuplayout</code></span> based on the
      variables <span><code>margin-left</code></span>,
      <span><code>margin-right</code></span>, <span><code>margin-bottom</code></span>, and <span><code>margin-top</code></span>, if no layout is
      given.</p></li>
      <li><p>Docx writer: better handling of PDF images. Previously we
      tried to get the image size from the image even if an explicit
      size was specified. Since we still can’t get image size for PDFs,
      this made it impossible to use PDF images in docx. Now we don’t
      try to get the image size when a size is already explicitly
      specified.</p></li>
      <li><p>Markdown writer: use raw HTML for link/image attributes
      when the <span><code>link_attributes</code></span>
      extension is unset and <span><code>raw_html</code></span> is set (<a href="https://github.com/jgm/pandoc/issues/2554">#2554</a>).</p></li>
      <li><p>MediaWiki reader: interpret markup inside <span><code>&lt;tt&gt;</code></span>, <span><code>&lt;code&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/2607">#2607</a>).</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Improved smart quote parsing (<a href="https://github.com/jgm/pandoc/issues/2555">#2555</a>). This
      fixes redering of unmatched quotes.</li>
      <li>Use curly quotes for unmatched ` (<a href="https://github.com/jgm/pandoc/issues/2555">#2555</a>).</li>
      <li>Allow blank space between braced arguments of commands (<a href="https://github.com/jgm/pandoc/issues/2592">#2592</a>).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Improved pipe table relative widths. Previously pipe table
      columns got relative widths (based on the header underscore lines)
      when the source of one of the rows was greater in width than the
      column width. This gave bad results in some cases where much of
      the width of the row was due to nonprinting material (e.g. link
      URLs). Now pandoc only looks at printable width (the width of a
      plain string version of the source), which should give better
      results. Thanks to John Muccigrosso for bringing up the
      issue.</li>
      <li>Fixed parsing bug with macros. Previously macro definitions in
      indented code blocks were being parsed as macro definitions, not
      code.</li>
      </ul></li>
      <li><p>Textile reader: skip over attribute in image source (<a href="https://github.com/jgm/pandoc/issues/2515">#2515</a>). We
      don’t have a place yet for styles or sizes on images, but we can
      skip the attributes rather than incorrectly taking them to be part
      of the filename.</p></li>
      <li><p>Docx reader: Handle dummy list items (Jesse Rosenthal).
      These come up when people create a list item and then delete the
      bullet. It doesn’t refer to any real list item, and we used to
      ignore it.</p></li>
      <li><p>CommonMark reader/writer rewritten to use latest <span><code>cmark</code></span>.</p></li>
      <li><p>Fixed Emoji character definitions (<a href="https://github.com/jgm/pandoc/issues/2523">#2523</a>). There
      were many bugs in the definitions.</p></li>
      <li><p><span><code>Text.Pandoc.CSS</code></span>:</p>
      <ul>
      <li>Added <span><code>pickStylesToKVs</code></span>
      function to extract multiple properties at once (API change, Mauro
      Bieg).</li>
      <li>Parse CSS that doesn’t contain the optional semicolon (Mauro
      Bieg).</li>
      </ul></li>
      <li><p><span><code>trypandoc</code></span>: sort
      drop-down lists.</p></li>
      <li><p>Beamer template:</p>
      <ul>
      <li>Made <span><code>\euro</code></span>
      conditional on presence of character. for xelatex and lualatex, as
      it is for pdflatex (Andrew Dunning).</li>
      <li>Moved <span><code>header-includes</code></span>
      before setting of title (Thomas Hodgson), to match the LaTeX
      template (jgm/pandoc-templates<a href="https://github.com/jgm/pandoc/issues/168">#168</a>).</li>
      <li>Added <span><code>section-titles</code></span>
      variable (defaults to true) to enable/suppress section title pages
      in beamer slide shows (Thomas Hodgson).</li>
      <li>Moved beamer themes after fonts, so that themes can change
      fonts. (Previously the fonts set were being clobbered by
      lmodern.sty.) (Thomas Hodgson).</li>
      </ul></li>
      <li><p>Beamer/LaTeX template changes (Thomas Hodgson):</p>
      <ul>
      <li>Added <span><code>thanks</code></span>
      variable</li>
      <li>Use <span><code>parskip.sty</code></span> when
      <span><code>indent</code></span> isn’t set (fall
      back to using <span><code>setlength</code></span>
      as before if <span><code>parskip.sty</code></span>
      isn’t available).</li>
      <li>Use <span><code>biblio-style</code></span> with
      biblatex.</li>
      <li>Added <span><code>biblatexoptions</code></span>
      variable.</li>
      </ul></li>
      <li><p>LaTeX template changes:</p>
      <ul>
      <li>Added <span><code>paper</code></span> after
      <span><code>$papersize$</code></span> variable in
      latex template. Thus you can say <span><code>papersize: a4</code></span> and the latex
      will contain <span><code>a4paper</code></span>.
      This change may break some existing workflows; if you currently
      specify <span><code>a4paper</code></span>, you’ll
      get <span><code>a4paperpaper</code></span> which is
      meaningless. However, the change seems worth it, as it will make
      the <span><code>papersize</code></span> variable
      work uniformly across ConTeXt, LaTeX, and html-&gt;pdf via
      wkhtmltopdf.</li>
      <li>Only pass options to color package if <span><code>colorlinks</code></span> is set (Andrew
      Dunning).</li>
      <li>Make definition of <span><code>\euro</code></span> conditional in
      xelatex/lualatex, as it is already for pdflatex (Andrew
      Dunning).</li>
      <li>Removed setting of <span><code>subject</code></span> in PDF metadata. This
      used to be set to the subtitle, but really the subtitle need not
      give the subject. Also, <span><code>subtitle</code></span> can contain
      formatting, so we’d need, at least, a plain text version for
      this.</li>
      <li>Moved <span><code>header-includes</code></span>
      before setting of <span><code>\title</code></span>,
      <span><code>\author</code></span>, etc. This allows
      these macros to be redefined.</li>
      <li>Use <span><code>\subtitle</code></span> command
      for <span><code>subtitle</code></span>, instead of
      tacking it on to the title as before. We give a no-op fallback
      definition if it is not defined. This change should produce much
      better results in classes that support <span><code>\subtitle</code></span>. With the default
      article class, which does not define <span><code>\subtitle</code></span>, subtitles will no
      longer be printed unless the user defines <span><code>\subtitle</code></span> and redefines <span><code>\maketitle</code></span>.</li>
      <li>Moved redefinitions of <span><code>\paragraph</code></span> and <span><code>\subparagraph</code></span> to before
      header-includes.</li>
      </ul></li>
      <li><p>Context template:</p>
      <ul>
      <li>Use <span><code>simplefonts</code></span> for
      font loading (Paolo Rodríguez). This is needed for things to work
      on ConTeXt stable from TeXLive 2015.</li>
      <li>Revert use of <span><code>\setuphead</code></span> in title block
      (Andrew Dunning, Rik Kabel).</li>
      </ul></li>
      <li><p>Update LaTeX/ConTeXt link colour usage (Andrew
      Dunning).</p></li>
      <li><p>Fixed man template so disabling hyphenation actually works.
      The command needs to come after .TH.</p></li>
      <li><p>Added ‘navigation’ variable to beamer template (<a href="https://github.com/jgm/pandoc/issues/2543">#2543</a>). Valid
      values are <span><code>empty</code></span> (the
      default), <span><code>horizontal</code></span>,
      <span><code>vertical</code></span>, and <span><code>frame</code></span>. Note that this changes
      the default behavior from <span><code>horizontal</code></span> to <span><code>empty</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/2543">#2543</a>.</p></li>
      <li><p>Added <span><code>toc</code></span> to HTML
      slide format templates (Andrew Dunning), so that <span><code>--toc</code></span> creates a contents
      slide.</p></li>
      <li><p>Added <span><code>stack.full.yaml</code></span> to build <span><code>pandoc-citeproc</code></span> as
      well.</p></li>
      <li><p>Allow pipe tables with no body rows (<a href="https://github.com/jgm/pandoc/issues/2556">#2556</a>).
      Previously this raised a runtime error.</p></li>
      <li><p>Shared: Improved <span><code>fetchItem</code></span> so that <span><code>C:/Blah/Blah.jpg</code></span> isn’t treated
      as URL. The Haskell URI parsing routines will accept “C:” as a
      scheme, so we rule that out manually. This helps with <span><code>--self-contained</code></span> and absolute
      Windows paths.</p></li>
      <li><p>Define a <span><code>meta-json</code></span>
      variable for all writers (<a href="https://github.com/jgm/pandoc/issues/2019">#2019</a>). This
      contains a JSON version of all the metadata, in the format
      selected for the writer. So, for example, to get just the YAML
      metadata, you can run pandoc with the following custom template:
      <span><code>$meta-json$</code></span>. The intent
      is to make it easier for static site generators and other tools to
      get at the metadata.</p></li>
      <li><p>Document limitations of –self-contained (<a href="https://github.com/jgm/pandoc/issues/2553">#2553</a>).</p></li>
      <li><p>Improved Citations section of README (<a href="https://github.com/jgm/pandoc/issues/2551">#2551</a>). Added
      information about <span><code>link-citations</code></span> and a link to
      the pandoc-citeproc man page.</p></li>
      <li><p><span><code>ImageSize</code></span>: use
      <span><code>safeRead</code></span> instead of <span><code>readMaybe</code></span>, which isn’t in base
      &lt; 4.6.</p></li>
      <li><p>Allow .adoc file extension for AsciiDoc (Andrew
      Dunning).</p></li>
      <li><p>Improved implicit pandoc-citeproc inclusion. The filter
      pandoc-citeproc is automatically used when <span><code>--bibliography</code></span> is specified on
      the command line, unless <span><code>--natbib</code></span> or <span><code>--biblatex</code></span> is used. However,
      previously this only worked if <span><code>--bibliography</code></span> was spelled out
      in full, and not if <span><code>--biblio</code></span> was used.</p></li>
      <li><p>reveal.js: Interpret pauses correctly for all headers (<a href="https://github.com/jgm/pandoc/issues/2530">#2530</a>).
      Previously, when using headers below the slide level, pauses are
      left uninterpreted into pauses. In my opinion, unexpected behavior
      but intentional looking at the code.</p></li>
      <li><p>Remove redundant <span><code>center</code></span> variable for reveal.js
      (Andrew Dunning).</p></li>
      <li><p>Parsing: Add <span><code>extractIdClass</code></span>, modified type
      of <span><code>KeyTable</code></span> (Mauro Bieg,
      API change).</p></li>
      <li><p>ImageSize: Added functions for converting between image
      dimensions (Mauro Bieg).</p></li>
      <li><p>Use lts-3.18 in stack.yaml. This avoids Windows build
      issues with the HTTP library.</p></li>
      <li><p>Bump version bounds for dependencies.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.15.2.1-2015-11-16">
      <h2><a href="#pandoc-1.15.2.1-2015-11-16" aria-hidden="true"></a>pandoc 1.15.2.1 (2015-11-16)</h2>
      <ul>
      <li><p>Added two missing test files, and <span><code>stack.yaml</code></span>, to <span><code>extra-source-files</code></span> so they’re
      included in the source tarball.</p></li>
      <li><p>reveal.js template: Fixed parallaxBackground options. <span><code>parallaxBackgroundHorizontal</code></span>
      and <span><code>parallaxBackgroundVertical</code></span> need
      integer values, not strings. (Vaughn Iverson)</p></li>
      </ul>
      </section>
      <section id="pandoc-1.15.2-2015-11-15">
      <h2><a href="#pandoc-1.15.2-2015-11-15" aria-hidden="true"></a>pandoc 1.15.2 (2015-11-15)</h2>
      <ul>
      <li><p><span><code>pandoc my.md -t context -o my.pdf</code></span>
      will now create a PDF using ConTeXt rather than LaTeX (<a href="https://github.com/jgm/pandoc/issues/2463">#2463</a>).</p></li>
      <li><p>Fixed omitted <span><code>url(...)</code></span> in CSS data-uri with
      <span><code>--self-contained</code></span> (<a href="https://github.com/jgm/pandoc/issues/2489">#2489</a>).</p></li>
      <li><p>Added <span><code>emoji</code></span>
      Markdown extension, enabled by default in <span><code>markdown_github</code></span> (<a href="https://github.com/jgm/pandoc/issues/2523">#2523</a>). Added
      <span><code>Ext_emoji</code></span> to <span><code>Extension</code></span> in <span><code>Text.Pandoc.Options</code></span> (API
      change).</p></li>
      <li><p><span><code>Text.Pandoc.Readers.HTML.parseTags</code></span>:
      Fixed over-eager raw HTML inline parsing (<a href="https://github.com/jgm/pandoc/issues/2469">#2469</a>).
      Tightened up the inline HTML parser so it disallows
      TagWarnings.</p></li>
      <li><p>Derive <span><code>Generic</code></span>
      instances for the types in <span><code>Text.Pandoc.Options</code></span>.</p></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Fix paragraph/list interaction (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2464">#2464</a>).
      Paragraphs can be followed by lists, even if there is no blank
      line between the two blocks. However, this should only be true if
      the paragraph is not within a list, were the preceding block
      should be parsed as a plain instead of paragraph (to allow for
      compact lists). Thanks to <span data-cites="rgaiacs">@rgaiacs</span> for bringing this up.</li>
      <li>Allow toggling header args (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2269">#2269</a>).
      Org-mode allows to skip the argument of a code block header
      argument if it’s toggling a value. Argument-less headers are now
      recognized, avoiding weird parsing errors.</li>
      <li>Fix markup parsing in headers (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2504">#2504</a>).
      Markup as the very first item in a header wasn’t recognized. This
      was caused by an incorrect parser state: positions at which inline
      markup can start need to be marked explicitly by changing the
      parser state. This wasn’t done for headers. The proper function to
      update the state is now called at the beginning of the header
      parser, fixing this issue.</li>
      <li>Fix emphasis rules for smart parsing (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2513">#2513</a>). Smart
      quotes, ellipses, and dashes should behave like normal quotes,
      single dashes, and dots with respect to text markup parsing.</li>
      <li>Require whitespace around definition list markers (<a href="https://github.com/jgm/pandoc/issues/2518">#2518</a>). This
      rule was not checked before, resulting in bugs with footnotes and
      some link types.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Pipe tables with long lines now get relative cell widths (<a href="https://github.com/jgm/pandoc/issues/2471">#2471</a>). If a
      pipe table contains a line longer than the column width (as set by
      <span><code>--columns</code></span> or 80 by
      default), relative widths are computed based on the widths of the
      separator lines relative to the column width. This should solve
      persistent problems with long pipe tables in LaTeX/PDF output, and
      give more flexibility for determining relative column widths in
      other formats, too. For narrower pipe tables, column widths of 0
      are used, telling pandoc not to specify widths explicitly in
      output formats that permit this.</li>
      <li>Improved parser for <span><code>mmd_title_block</code></span>. We now allow
      blank metadata fields. These were explicitly disallowed
      before.</li>
      <li>Citation keys can now contain <span><code>://</code></span>, so URLs and DOIs can be
      used as citation keys (jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/166">#166</a>).</li>
      </ul></li>
      <li><p>Beamer template: fix incompatibility of section slides with
      natbib. Natbib (and presumably biblatex) bibliography commands
      create their own section. Since these are in frame environments,
      we have an incompatibility with the <span><code>\AtBeginSection</code></span> macro which
      creates a special frame when a new section occurs. (We can’t have
      a frame inside another frame.) This change disables <span><code>\AtBeginSection</code></span> inside
      bibliography slides. Thinks to Yihui Xie for bringing the problem
      to my attention. This supersedes <a href="https://github.com/jgm/pandoc/issues/145">#145</a>. See
      discussion there.</p></li>
      <li><p>Textile reader: don’t do smart punctuation unless
      explicitly asked (<a href="https://github.com/jgm/pandoc/issues/2480">#2480</a>). Note
      that although smart punctuation is part of the textile spec, it’s
      not always wanted when converting from textile to, say, Markdown.
      So it seems better to make this an option.</p></li>
      <li><p>LaTeX reader: Handle <span><code>comment</code></span> environment (Arata
      Mizuki). The <span><code>comment</code></span>
      environment is handled in a similar way to the <span><code>verbatim</code></span> environment, except
      that its content is discarded.</p></li>
      <li><p>Docx reader: Follow relationships correctly in
      foot/endnotes (<a href="https://github.com/jgm/pandoc/issues/2258">#2258</a>, Jesse
      Rosenthal). This fixes a problem with links in notes.</p></li>
      <li><p>LaTeX and ConTeXt writers: support <span><code>lang</code></span> attribute on divs and
      spans (mb21). For LaTeX, also collect <span><code>lang</code></span> and <span><code>dir</code></span> attributes on spans and
      divs to set the <span><code>lang</code></span>,
      <span><code>otherlangs</code></span> and <span><code>dir</code></span> variables if they aren’t
      set already. See <a href="https://github.com/jgm/pandoc/issues/895">#895</a>.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use proper command for <span><code>\textarabic</code></span> (mb21).</li>
      <li>Added <span><code>de-CH-1901</code></span>,
      fixed <span><code>el-polyton</code></span> in <span><code>toPloyglossia</code></span> (Nick Bart).</li>
      <li>Use <span><code>\hypertarget</code></span> and
      <span><code>\hyperlink</code></span> for links.
      This works correctly to link to Div or Span elements. We now don’t
      bother defining <span><code>\label</code></span>
      for Div or Span elements. Closes jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/174">#174</a>.</li>
      <li>Avoid footnotes in list of figures (<a href="https://github.com/jgm/pandoc/issues/1506">#1506</a>).</li>
      <li>Properly handle footnotes in captions (<a href="https://github.com/jgm/pandoc/issues/1506">#1506</a>).</li>
      <li>Add <span><code>\protect</code></span> to <span><code>\hyperlink</code></span> (<a href="https://github.com/jgm/pandoc/issues/2490">#2490</a>).
      Thanks to Hadrien Mary.</li>
      <li>Set <span><code>colorlinks</code></span> if
      <span><code>linkcolor</code></span>, <span><code>urlcolor</code></span>, <span><code>citecolor</code></span>, or <span><code>toccolor</code></span> is set (<a href="https://github.com/jgm/pandoc/issues/2508">#2508</a>).</li>
      </ul></li>
      <li><p>Textile writer: support start number in ordered lists (<a href="https://github.com/jgm/pandoc/issues/2465">#2465</a>).</p></li>
      <li><p>OpenDocument writer: Allow customization of opendocument
      automatic styles. Automatic styles can now be inserted in the
      template, which now provides the enclosing <span><code>&lt;office:automatic-styles&gt;</code></span>
      tags (<a href="https://github.com/jgm/pandoc/issues/2520">#2520</a>).</p></li>
      <li><p>Docx writer: insert space between footnote reference and
      note (<a href="https://github.com/jgm/pandoc/issues/2527">#2527</a>). This
      matches Word’s default behavior.</p></li>
      <li><p>EPUB writer: don’t download linked media when <span><code>data-external</code></span> attribute set (<a href="https://github.com/jgm/pandoc/issues/2473">#2473</a>). By
      default pandoc downloads all linked media and includes it in the
      EPUB container. This can be disabled by setting <span><code>data-external</code></span> on the tags
      linking to media that should not be downloaded. Example:</p>
      <pre><code>&lt;audio controls=&#34;1&#34;&gt;
 &lt;source src=&#34;http://www.sixbarsjail.it/tmp/bach_toccata.mp3&#34;
 type=&#34;audio/mpeg&#34;&gt;&lt;/source&gt;
&lt;/audio&gt;</code></pre></li>
      <li><p>HTML writer: use width on whole table if col widths sum to
      &lt; 100%. Otherwise some browsers display the table with the
      columns separated far apart.</p></li>
      <li><p>AsciiDoc template: Fix <span><code>author</code></span> and <span><code>date</code></span>; add <span><code>keywords</code></span>, <span><code>abstract</code></span> (Andrew
      Dunning).</p></li>
      <li><p>HTML-based templates (Andrew Dunning):</p>
      <ul>
      <li>Use en dash instead of hyphen between title prefix and
      title.</li>
      <li>Add <span><code>keywords</code></span> to
      metadata.</li>
      <li>Add <span><code>lang</code></span>, <span><code>dir</code></span>, <span><code>quotes</code></span> where missing.</li>
      <li>Always make author and date display conditional.</li>
      <li>Updated dzslides template from source.</li>
      </ul></li>
      <li><p>Man template: make “generated by” comment
      conditional.</p></li>
      <li><p>LaTeX, Beamer templates:</p>
      <ul>
      <li>Add <span><code>babel-otherlangs</code></span>
      for language divs/spans; <span><code>babel-newcommands</code></span>, filled by
      commands that make babel understand the polyglossia-style language
      directives (mb21, <a href="https://github.com/jgm/pandoc/issues/137">#137</a>).</li>
      <li>Improved formatting of conditionals; <span><code>$for$</code></span> is always provided to
      allow multiple options (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/141">#141</a>).</li>
      <li>Use <span><code>Ligatures=TeX</code></span>
      rather than <span><code>Mapping=tex-text</code></span> with <span><code>fontspec</code></span> to improve support for
      LuaTeX (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/135">#135</a>).</li>
      <li>Revise <span><code>hyperref</code></span> usage
      (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/139">#139</a>, <a href="https://github.com/jgm/pandoc/issues/141">#141</a>):
      <ul>
      <li>use same options for all LaTeX engines;</li>
      <li>add <span><code>subtitle</code></span> and
      <span><code>keywords</code></span> to PDF
      metadata;</li>
      <li>do not override <span><code>hyperref</code></span> link coloring without
      user input, effectively making the <span><code>hidelinks</code></span> option the default
      (removed as a separate variable);</li>
      <li>link colors can be enabled (using a slightly darker version of
      the old defaults) using a new <span><code>colorlinks</code></span> variable,
      automatically used by the LaTeX writer when custom colors are
      specified;</li>
      <li><span><code>pdfborder={0 0 0}</code></span> is
      automatically set by <span><code>hyperref</code></span> with <span><code>colorlinks</code></span>, and is only applied
      if <span><code>colorlinks</code></span> is
      disabled.</li>
      </ul></li>
      </ul></li>
      <li><p>ConTeXt template (Andrew Dunning):</p>
      <ul>
      <li>New variables for controlling styles: <span><code>linkstyle</code></span>, <span><code>linkcolor</code></span>, <span><code>linkcontrastcolor</code></span>, <span><code>layout</code></span>, <span><code>pagenumbering</code></span>, <span><code>whitespace</code></span>, <span><code>indenting</code></span>, <span><code>interlinespace</code></span>, <span><code>headertext</code></span>, <span><code>footertext</code></span>, <span><code>mainfont</code></span>, <span><code>sansfont</code></span>, <span><code>monofont</code></span>, <span><code>mathfont</code></span>, <span><code>fontsize</code></span>.</li>
      <li>Default template no longer supports MkII.</li>
      <li>Improve writing of title block (suppressing numbering of first
      page).</li>
      <li>Add <span><code>title</code></span> <span><code>subtitle</code></span>, <span><code>author</code></span>, <span><code>date</code></span>, <span><code>keywords</code></span> to PDF metadata.</li>
      <li>Support <span><code>subtitle</code></span>,
      <span><code>abstract</code></span>.</li>
      <li>Support list of figures (<span><code>lof</code></span>), list of tables (<span><code>lot</code></span>).</li>
      <li>Disable link styling by default.</li>
      <li>Define styles for all section types.</li>
      <li>Enable microtype.</li>
      <li>Improved formatting of conditionals.</li>
      </ul></li>
      <li><p>Beamer template: added code to prevent slide breaks inside
      paragraphs (<a href="https://github.com/jgm/pandoc/issues/2422">#2422</a>, thanks
      to Nick Bart). This will matter, in practice, only when <span><code>allowframebreaks</code></span> is used. It is
      especially helpful for bibliography slides.</p></li>
      <li><p>OpenDocument template: Add <span><code>&lt;office:automatic-styles&gt;</code></span>
      tag around automatic styles. The writer now longer provides this
      (see <a href="https://github.com/jgm/pandoc/issues/2520">#2520</a>).</p></li>
      <li><p>Restored Text.Pandoc.Compat.Monoid.</p></li>
      <li><p>Do not export (&lt;&gt;) from custom Prelude. The Prelude
      now matches base 4.8 Prelude’s API.</p></li>
      <li><p>Don’t use custom prelude with ghc 7.10. Use the custom
      prelude only for earlier versions. This change makes <span><code>stack ghci</code></span> and <span><code>cabal repl</code></span> work (<a href="https://github.com/jgm/pandoc/issues/2503">#2503</a>), at
      least with ghc 7.10.</p></li>
      <li><p>Changed § to % in operators from Odt.Arrows.Utils (<a href="https://github.com/jgm/pandoc/issues/2457">#2457</a>). This
      prevents problems building haddocks with “C” locale.</p></li>
      <li><p>Change default for old-locale flag to False.</p></li>
      <li><p>Use stack in deb, osx, and Windows package
      generators.</p></li>
      <li><p>Added Vagrantfile for building deb in vm. This should help
      in automating binary package creation. ‘make package’ will make
      the package. ‘make package COMMIT=blah’ will make the package from
      commit blah.</p></li>
      <li><p>README:</p>
      <ul>
      <li>Consistent capitalization for pandoc and Markdown.</li>
      <li>Fixed <span><code>auto_identifiers</code></span> examples
      (Benoit Schweblin).</li>
      <li>Improved documentation of template variables (Andrew
      Dunning).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-1.15.1-2015-10-15">
      <h2><a href="#pandoc-1.15.1-2015-10-15" aria-hidden="true"></a>pandoc 1.15.1 (2015-10-15)</h2>
      <ul>
      <li><p><span><code>pandocVersion</code></span> is
      now defined in <span><code>Text.Pandoc.Shared</code></span> and
      reexported from <span><code>Text.Pandoc</code></span> (Alex Vong). This
      allows writers to access it. (Alex Vong) (API change)</p></li>
      <li><p>For <span><code>markdown_mmd</code></span>,
      add: <span><code>implicit_figures</code></span>,
      <span><code>superscripts</code></span>, <span><code>subscripts</code></span> (<a href="https://github.com/jgm/pandoc/issues/2401">#2401</a>).</p></li>
      <li><p>Added <span><code>odt</code></span> as input
      format (MarLinn). Added new module <span><code>Text.Pandoc.Reader.ODT</code></span> (API
      change). Fully implemented features: Paragraphs, Headers, Basic
      styling, Unordered lists, Ordered lists, External Links, Internal
      Links, Footnotes, Endnotes, Blockquotes. Partly implemented
      features: Citations, Tables.</p></li>
      <li><p>Markdown Reader:</p>
      <ul>
      <li>Add basic tests for each header style (Ophir Lifshitz).</li>
      <li>Add implicit header ref tests for headers with spaces (Ophir
      Lifshitz).</li>
      <li>Skip spaces in headers (Ophir Lifshitz).</li>
      <li>Handle ‘id’ and ‘class’ in parsing key/value attributes (<a href="https://github.com/jgm/pandoc/issues/2396">#2396</a>). <span><code># Header {id=&#34;myid&#34; class=&#34;foo bar&#34;}</code></span>
      is now equivalent to <span><code># Header {#myid .foo .bar}</code></span>.</li>
      <li>Use ‘=’ instead of ‘#’ for atx-style headers in markdown+lhs.
      (Kristof Bastiaensen)</li>
      <li>Pipe tables: allow indented columns. Previously the left-hand
      column could not start with 4 or more spaces indent. This was
      inconvenient for right-aligned left columns. Note that the first
      (header column) must still have 3 or fewer spaces indentation, or
      the table will be treated as an indented code block.</li>
      <li>Fix regression: allow HTML comments containing <span><code>--</code></span>. Technically this isn’t
      allowed in an HTML comment, but we’ve always allowed it, and so do
      most other implementations. It is handy if e.g. you want to put
      command line arguments in HTML comments.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Don’t eat excess whitespace after macros with only optional
      arguments (<a href="https://github.com/jgm/pandoc/issues/2446">#2446</a>).</li>
      <li>Support longtable (<a href="https://github.com/jgm/pandoc/issues/2411">#2411</a>).</li>
      <li>Implement <span><code>\Cite</code></span> (<a href="https://github.com/jgm/pandoc/issues/2335">#2335</a>).</li>
      <li>Support abstract environment. The abstract populates an <span><code>abstract</code></span> metadata field.</li>
      <li>Properly handle booktabs lines. Lines aren’t part of the
      pandoc table model, so we just ignore them (<a href="https://github.com/jgm/pandoc/issues/2307">#2307</a>).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Handle type attribute on ol, e.g. <span><code>&lt;ol type=&#34;i&#34;&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/2313">#2313</a>).</li>
      <li>Updated for new automatic header attributes.</li>
      <li>Add auto identifiers if not present on headers. This makes TOC
      linking work properly.</li>
      <li>Detect <span><code>font-variant</code></span>
      with <span><code>pickStyleAttrProps</code></span>
      (Ophir Lifshitz).</li>
      <li>Test <span><code>&lt;ol&gt;</code></span> type,
      class, and inline list-style(-type) CSS (Ophir Lifshitz).</li>
      <li>Better handling of “section” elements (<a href="https://github.com/jgm/pandoc/issues/2438">#2438</a>).
      Previously <span><code>&lt;section&gt;</code></span> tags were just
      parsed as raw HTML blocks. With this change, section elements are
      parsed as Div elements with the class “section”.</li>
      </ul></li>
      <li><p>MediaWiki reader: handle unquoted table attributes (<a href="https://github.com/jgm/pandoc/issues/2355">#2355</a>).</p></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Added proper support for DocBook <span><code>xref</code></span> elements (Frerich Raabe).
      Added <span><code>dbContent</code></span> field to
      reader state, so we can lookup cross refs.</li>
      <li>Handle <span><code>informalexample</code></span> (<a href="https://github.com/jgm/pandoc/issues/2319">#2319</a>).</li>
      </ul></li>
      <li><p>Docx Reader:</p>
      <ul>
      <li>Create special punctuation test (Ophir Lifshitz).</li>
      <li>Parse soft, no-break hyphen elements (Ophir Lifshitz).</li>
      <li>Updated headers test (Ophir Lifshitz). Replaced <span><code>styles.xml</code></span> in <span><code>headers.docx</code></span> with pandoc’s
      current <span><code>styles.xml</code></span>, which
      contains styles for Heading 1 through 6. Added Heading 4 through 7
      to the test document. Note that Heading 7 is not parsed as a
      Heading because there is no Heading 7 style.</li>
      </ul></li>
      <li><p>RST reader: better handling of indirect roles. Previously
      the parser failed on this kind of case</p>
      <pre><code>.. role:: indirect(code)

.. role:: py(indirect)
   :language: python

:py:`hi`</code></pre>
      <p>Now it correctly recognizes <span><code>:py:</code></span> as a code role.</p></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Add auto identifiers if not present on headers (<a href="https://github.com/jgm/pandoc/issues/2354">#2354</a>,
      Juliusz Gonera).</li>
      <li>Allow verse blocks to contain empty lines (<a href="https://github.com/jgm/pandoc/issues/2402">#2402</a>, Albert
      Krewinkel).</li>
      </ul></li>
      <li><p>EPUB reader: stop mangling external URLs (<a href="https://github.com/jgm/pandoc/issues/2284">#2284</a>).</p></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Don’t insert <span><code>\</code></span> when
      complex expression in matched pairs. E.g. <span><code>[:sup:`3`]</code></span> is okay; you don’t
      need <span><code>[:sup:`3`\ ]</code></span>.</li>
      <li>Ensure that <span><code>\</code></span> is
      inserted when needed before Cite and Span elements that begin with
      a “complex” element (jgm/pandoc-citeproc<a href="https://github.com/jgm/pandoc/issues/157">#157</a>).</li>
      <li>Normalize headers only in “standalone” mode (<a href="https://github.com/jgm/pandoc/issues/2394">#2394</a>).</li>
      </ul></li>
      <li><p>Haddock writer: escape <span><code>*</code></span> and <span><code>^</code></span> (G. Bataille).</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>In TOC, add links to headers (<a href="https://github.com/jgm/pandoc/issues/829">#829</a>).</li>
      <li>Use unicode super/subscripts for digits in plain output (when
      the <span><code>superscripts</code></span> and
      <span><code>subscripts</code></span> extensions are
      not enabled).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Moved invalid character stripping to <span><code>formattedString</code></span>. This avoids an
      inefficient generic traversal (<a href="https://github.com/jgm/pandoc/issues/2356">#2356</a>).</li>
      <li>Use user data directory for <span><code>reference.docx</code></span> archive. This
      allows the test suite to work without installing pandoc first. It
      also brings the docx writer in line with the odt writer.</li>
      <li>Tests: docx writer tests now use <span><code>../data</code></span> for data directory.
      This allows tests to be run without installing first.</li>
      <li>Tests: Use real jpg (not empty) for docx tests to avoid
      warning.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Fixed detection of ‘chapters’ from template. If a
      documentclass isn’t specified in metadata, but the template has a
      hardwired bookish documentclass, act as if <span><code>--chapters</code></span> was used. This was
      the default in earlier versions, but it has been broken for a
      little while.</li>
      <li>Correctly recognize book documentclass in metadata (<a href="https://github.com/jgm/pandoc/issues/2395">#2395</a>).</li>
      <li>Set language-related variables automatically, depending on the
      value of the <span><code>lang</code></span> field,
      which is now always assumed to be in BCP47 format (mb21, <a href="https://github.com/jgm/pandoc/issues/1614">#1614</a>, <a href="https://github.com/jgm/pandoc/issues/2437">#2437</a>).</li>
      <li>Add <span><code>\protect</code></span> to <span><code>\hyperdef</code></span> in inline context.
      This way we don’t get an error when this is used as a moveable
      argument (<a href="https://github.com/jgm/pandoc/issues/2136">#2136</a>).</li>
      <li>Support all frame attributes in Beamer.</li>
      <li>Percent-encode more special characters in URLs (<a href="https://github.com/jgm/pandoc/issues/1640">#1640</a>, <a href="https://github.com/jgm/pandoc/issues/2377">#2377</a>). The
      special characters are ‘&lt;’,‘&gt;’,‘|’,‘“’,‘{’,‘}’,‘[’,’]’,‘^’,
      ‘`’.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Update KaTeX JS and CSS versions (Emily Eisenberg).</li>
      <li>For dzslides, add <span><code>role=&#34;note&#34;</code></span> for speaker notes
      (<a href="https://github.com/jgm/pandoc/issues/1693">#1693</a>).</li>
      <li>Percent-encode more special characters in URLs (<a href="https://github.com/jgm/pandoc/issues/1640">#1640</a>, <a href="https://github.com/jgm/pandoc/issues/2377">#2377</a>). The
      special characters are ‘&lt;’,‘&gt;’,‘|’,‘“’,‘{’,‘}’,‘[’,’]’,‘^’,
      ‘`’.</li>
      <li>Render Div with class <span><code>section</code></span> as <span><code>&lt;section&gt;</code></span> in HTML5.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>In TOC, replace literal <span><code>&lt;br/&gt;</code></span> with space (<a href="https://github.com/jgm/pandoc/issues/2105">#2105</a>).</li>
      <li>With <span><code>--webtex</code></span>,
      include image file rather than <span><code>data:</code></span> URI (<a href="https://github.com/jgm/pandoc/issues/2363">#2363</a>).</li>
      </ul></li>
      <li><p>Native writer: format Div properly, with blocks
      separated.</p></li>
      <li><p>Support bidirectional text output with XeLaTeX, ConTeXt and
      HTML (<a href="https://github.com/jgm/pandoc/issues/2191">#2191</a>,
      mb21).</p></li>
      <li><p>Reference Docx:</p>
      <ul>
      <li>Add missing Header 6 style (steel blue) (Ophir Lifshitz).</li>
      <li>Correct <span><code>outlineLvl</code></span>
      for Header styles (Ophir Lifshitz).</li>
      </ul></li>
      <li><p>Templates</p>
      <ul>
      <li>Beamer: Add <span><code>innertheme</code></span>, <span><code>outertheme</code></span> variables (Guilhem
      Bonnefille, <a href="https://github.com/jgm/pandoc/issues/121">#121</a>). Add
      space after colon in figure caption. Integrate recent font and
      language updates from LaTeX template; allow use of <span><code>mainfont</code></span> variable for changing
      the slide text in XeTeX and LuaTeX (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/131">#131</a>).</li>
      <li>LaTeX: Add <span><code>mainfontoptions</code></span>, <span><code>sansfontoptions</code></span>, <span><code>monofontoptions</code></span>, <span><code>mathfontoptions</code></span>, <span><code>fontfamilyoptions</code></span> (Andrew
      Dunning, <a href="https://github.com/jgm/pandoc/issues/122">#122</a>). Support
      handling of bidirectional text (mb21, <a href="https://github.com/jgm/pandoc/issues/120">#120</a>). Improve
      reliability of superscripts/subscripts under XeTeX and prevent
      letters and numbers from appearing on a different baseline by
      removing use of the <span><code>realscripts</code></span> package (via <span><code>xltxtra</code></span>). To restore use of
      OpenType characters for these features under XeTeX or LuaTeX, add
      <span><code>\usepackage{realscripts}</code></span>
      to <span><code>header-includes</code></span>
      (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/130">#130</a>). Remove
      redundant reference to <span><code>xunicode</code></span> (Andrew Dunning, <a href="https://github.com/jgm/pandoc/issues/130">#130</a>). Add
      <span><code>fontenc</code></span>, <span><code>indent</code></span>, <span><code>subparagraph</code></span> variables (Andrew
      Dunning). Allow use of <span><code>hidelinks</code></span> variable for <span><code>hyperref</code></span> package (Hugo Roy, <a href="https://github.com/jgm/pandoc/issues/113">#113</a>). Prevent
      package clash with <span><code>tufte-latex</code></span> and other classes
      that include <span><code>hyperref</code></span> or
      <span><code>color</code></span> (Xavier Olive, <a href="https://github.com/jgm/pandoc/issues/115">#115</a>).</li>
      <li>ConTeXt: Support handling of bidirectional text (mb21, <a href="https://github.com/jgm/pandoc/issues/120">#120</a>).</li>
      <li>LaTeX and ConTeXt: Use more specific language variables.
      Instead of directly using <span><code>lang</code></span>, we now use <span><code>babel-lang</code></span> and <span><code>polyglossia-lang</code></span> and <span><code>context-lang</code></span>. These variables
      are set by the writers to the necessary values, based on the <span><code>lang</code></span> variable (which now always
      takes a value in BCP47 format). (mb21, <a href="https://github.com/jgm/pandoc/issues/114">#114</a>, <a href="https://github.com/jgm/pandoc/issues/129">#129</a>).</li>
      <li>HTML: Support handling of bidirectional text (mb21, <a href="https://github.com/jgm/pandoc/issues/120">#120</a>). Move
      HTML5 shiv after CSS and fix URL (Andrew Dunning). Add dir
      attribute in html5 (Andrew Dunning).</li>
      <li>reveal.js: Add <span><code>controls</code></span>, <span><code>progress</code></span> variables (Grégoire
      Pineau, <a href="https://github.com/jgm/pandoc/issues/127">#127</a>). Add
      <span><code>width</code></span>, <span><code>height</code></span> variables (Anrew
      Dunning). Update template from 3.1 source (Andrew Dunning). All
      configuration options are now available as variables, but are only
      be included if set (reveal.js uses defaults otherwise).</li>
      <li>man: Added comment stating that the page is autogenerated by
      pandoc, giving version. Added <span><code>adjusting</code></span> and <span><code>hyphenate</code></span> variables (Alex Vong,
      <a href="https://github.com/jgm/pandoc/issues/123">#123</a>).</li>
      </ul></li>
      <li><p>epub.css: added selectors for nested emphasis (Pablo
      Rodriguez).</p></li>
      <li><p>MediaBag: ensure that <span><code>/</code></span> is always used as path
      separator.</p></li>
      <li><p><span><code>sample.lua</code></span>: define
      <span><code>CaptionedImage</code></span>, add
      newline at end (<a href="https://github.com/jgm/pandoc/issues/2393">#2393</a>).</p></li>
      <li><p>Added <span><code>--bash-completion</code></span> option. This
      generates a bash completion script. To use: <span><code>eval &#34;$(pandoc --bash-completion)&#34;</code></span>.</p></li>
      <li><p>Text.Pandoc.Error: Define Typeable and Exception instances
      for PandocError (<a href="https://github.com/jgm/pandoc/issues/2386">#2386</a>).</p></li>
      <li><p>Text.Pandoc.Parsing: <span><code>toKey</code></span>: strip off outer
      brackets. This makes keys with extra space at the beginning and
      end work: e.g.</p>
      <pre><code>[foo]: bar

[ foo ]</code></pre>
      <p>will now be a link to bar (it wasn’t before).</p></li>
      <li><p>Text.Pandoc: disable <span><code>auto_identifiers</code></span> for epub. The
      epub writer inserts its own auto identifiers; this is more complex
      due to splitting into “chapter” files.</p></li>
      <li><p>Renamed Text.Pandoc.Compat.Locale -&gt;
      Text.Pandoc.Compat.Time. It now reexports Data.Time.</p></li>
      <li><p>Use custom Prelude to avoid compiler warnings.</p>
      <ul>
      <li>The (non-exported) prelude is in prelude/Prelude.hs.</li>
      <li>It exports Monoid and Applicative, like base 4.8 prelude, but
      works with older base versions.</li>
      <li>It exports (&lt;&gt;) for mappend.</li>
      <li>It hides ‘catch’ on older base versions.</li>
      </ul></li>
      <li><p>Added a <span><code>stack.ymal</code></span>
      and stack install instructions to INSTALL.</p></li>
      <li><p>Clarified what is “out of scope” in README and
      CONTRIBUTING.md.</p></li>
      <li><p>Added note to CONTRIBUTING.md about ghc versions and
      travis.</p></li>
      <li><p>Clarify docs on block quotes. The space after <span><code>&gt;</code></span> is optional (<a href="https://github.com/jgm/pandoc/issues/2346">#2346</a>).</p></li>
      <li><p>Removed obsolete reference to default.csl (<a href="https://github.com/jgm/pandoc/issues/2372">#2372</a>).</p></li>
      <li><p>List all styles in manual for <span><code>--reference-docx</code></span> (Chris
      Black)</p></li>
      <li><p>Don’t capitalize header links in man page.</p></li>
      <li><p>Added section on repl to CONTRIBUTING.md.</p></li>
      <li><p>README: Added space after backslash in image example (<a href="https://github.com/jgm/pandoc/issues/2329">#2329</a>).</p></li>
      <li><p>Document details of citation locator terms (Nick
      Bart).</p></li>
      <li><p>Fixed some internal links in README (<a href="https://github.com/jgm/pandoc/issues/2309">#2309</a>).</p></li>
      <li><p>Improve CSL documentation, variables documentations, links,
      and cross-references in README. (Andrew Dunning)</p></li>
      <li><p>Fix build failure with <span><code>--flags=-https</code></span> (Sergei
      Trofimovich).</p></li>
      <li><p>Use <span><code>newManager</code></span>
      instead of <span><code>withManager</code></span> in
      recent <span><code>http-client</code></span>. This
      avoids a deprecation warning.</p></li>
      <li><p>Allow building with latest versions of http-types, HUnit,
      criterion, syb, aeson.</p></li>
      <li><p>Updated benchmark program for new criterion API.</p></li>
      <li><p>Setup.hs: rewrite so as not to use process, directory,
      filepath. Using anything outside base is dangerous, since older
      versions of ghc may link against two different versions.</p></li>
      <li><p>Added appveyor (Windows continuous integration)
      builds.</p></li>
      <li><p>New <span><code>.travis.yml</code></span>.
      Autgenerated using <span><code>make_travis_yml.hs</code></span>. This script
      has been modified in a few ways, e.g. to add <span><code>GHCOPTS</code></span>. <span><code>make .travis.yml</code></span> regenerates it
      based on the tested-with field of the cabal file.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.15.0.6-2015-07-15">
      <h2><a href="#pandoc-1.15.0.6-2015-07-15" aria-hidden="true"></a>pandoc 1.15.0.6 (2015-07-15)</h2>
      <ul>
      <li><p><span><code>--self-contained</code></span>:
      Fixed overaggressive CSS minimization (<a href="https://github.com/jgm/pandoc/issues/2301">#2301</a>, 2286).
      Previously <span><code>--self-contained</code></span> wiped out all
      spaces in CSS, including semantically significant spaces. This was
      a regression from 1.14.x.</p></li>
      <li><p>Markdown reader: don’t allow bare URI links or autolinks in
      link label (<a href="https://github.com/jgm/pandoc/issues/2300">#2300</a>). Added
      test cases.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>, <span><code>uri</code></span>: Improved bare autolink
      detection (<a href="https://github.com/jgm/pandoc/issues/2299">#2299</a>).
      Previously we disallowed <span><code>-</code></span> at the end of an autolink,
      and disallowed the combination <span><code>=-</code></span>. This commit liberalizes the
      rules for allowing punctuation in a bare URI, and adds test cases.
      One potential drawback is that you can no longer put a bare URI in
      em dashes like this: <span><code>this uri---http://example.com---is an example.</code></span>
      But in this respect we now match github’s treatment of bare
      URIs.</p></li>
      <li><p>HTML writer: support speaker notes in dzslides. With this
      change <span><code>&lt;div class=&#34;notes&#34;&gt;</code></span> and
      also <span><code>&lt;div class=&#34;notes&#34;     role=&#34;note&#34;&gt;</code></span>
      will be output if <span><code>-t dzslides</code></span> is used. So we can
      have speaker notes in dzslides too. Thanks to maybegeek.</p></li>
      <li><p>Updated dzslides template.</p></li>
      <li><p>Improved documentation of options to print system default
      files (<a href="https://github.com/jgm/pandoc/issues/2298">#2298</a>). <span><code>--print-default-data-file</code></span> and
      <span><code>--print-default-template</code></span>.</p></li>
      <li><p>DokuWiki writer: use <span><code>$..$</code></span> for Math instead of <span><code>&lt;math&gt;..&lt;/math&gt;</code></span>
      (Tiziano Müller). MathJax seems currently to be the only
      maintained math rendering extension for DokuWiki.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: Changed
      <span><code>hierarchicalize</code></span> so it
      treats references div as top-level header (<a href="https://github.com/jgm/pandoc/issues/2294">#2294</a>). This
      fixes a bug with <span><code>--section-divs</code></span>, where the final
      references section added by pandoc-citeproc, enclosed in its own
      div, got nested in the div for the section previous to
      it.</p></li>
      <li><p>Allow vector 0.11.</p></li>
      <li><p>Require cmark &gt; 0.4.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.15.0.5-2015-07-10">
      <h2><a href="#pandoc-1.15.0.5-2015-07-10" aria-hidden="true"></a>pandoc 1.15.0.5 (2015-07-10)</h2>
      <ul>
      <li><p>HTML writer: Fixed email javascript obfuscation with <span><code>mailto:</code></span> URLs (<a href="https://github.com/jgm/pandoc/issues/2280">#2280</a>). This
      fixes a potential security issue. Because single quotes weren’t
      being escaped in the link portion, a specially crafted email
      address could allow javascript code injection.</p></li>
      <li><p>RST reader: allow inline formatting in definition list
      field names (Lars-Dominik Braun).</p></li>
      <li><p>PDF: Make sure <span><code>--latex-engine-opt</code></span> goes before
      the filename on the command line. LaTeX needs the argument to come
      after the options (<a href="https://github.com/jgm/pandoc/issues/1779">#1779</a>).</p></li>
      <li><p>CommonMark writer: fixed tags used for
      super/subscript.</p></li>
      <li><p>ConTeXt template: activate hanging indent for definition
      lists (mb21).</p></li>
      <li><p>Make cabal require <span><code>hsb2hs</code></span> &gt;= 0.3.1 if <span><code>embed_data_files</code></span> specified.
      This is done by adding <span><code>hookedPrograms</code></span> in <span><code>Setup.hs</code></span>, which allows us to
      include <span><code>hsb2hs</code></span> in
      Build-Tools in cabal.</p></li>
      <li><p>Improved Windows installer (thanks to nkalvi).</p>
      <ul>
      <li>When per-machine installation is chosen, the system path is
      updated instead of the user’s.</li>
      <li>An appropriate default is used for per-machine installation
      directory.</li>
      <li>Admin privileges are no longer required for a per-user
      install</li>
      </ul></li>
      <li><p>Travis: unpack sdist for build to catch packaging
      bugs.</p></li>
      <li><p>Improved documentation on where user templates go (<a href="https://github.com/jgm/pandoc/issues/2272">#2272</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-1.15.0.4-2015-07-03">
      <h2><a href="#pandoc-1.15.0.4-2015-07-03" aria-hidden="true"></a>pandoc 1.15.0.4 (2015-07-03)</h2>
      <ul>
      <li><p>Added pandoc.1 man page to the repository. It is no longer
      built as part of the cabal build process. (This proved too
      fragile.) pandoc.1 can be regenerated (<span><code>make man/pandoc.1</code></span>) when <span><code>README</code></span> is changed.</p></li>
      <li><p>Copying of the man page now respects <span><code>--destdir</code></span> (<a href="https://github.com/jgm/pandoc/issues/2262">#2262</a>).</p></li>
      <li><p>Improved error messages for filters. User is now informed
      if the filter requires an interpreter that isn’t found in the
      path, or if the filter returns an error status.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.15.0.3-2015-07-02">
      <h2><a href="#pandoc-1.15.0.3-2015-07-02" aria-hidden="true"></a>pandoc 1.15.0.3 (2015-07-02)</h2>
      <ul>
      <li>Ensure target directory is created when installing man
      page.</li>
      </ul>
      </section>
      <section id="pandoc-1.15.0.2-2015-07-02">
      <h2><a href="#pandoc-1.15.0.2-2015-07-02" aria-hidden="true"></a>pandoc 1.15.0.2 (2015-07-02)</h2>
      <ul>
      <li>Added files needed for building man page to
      Extra-Source-Files.</li>
      </ul>
      </section>
      <section id="pandoc-1.15.0.1-2015-07-01">
      <h2><a href="#pandoc-1.15.0.1-2015-07-01" aria-hidden="true"></a>pandoc 1.15.0.1 (2015-07-01)</h2>
      <ul>
      <li>Man page is now built and installed as part of the cabal build
      process. Removed Makefile target for man page.</li>
      </ul>
      </section>
      <section id="pandoc-1.15-2015-07-01">
      <h2><a href="#pandoc-1.15-2015-07-01" aria-hidden="true"></a>pandoc 1.15 (2015-07-01)</h2>
      <ul>
      <li><p>Man page changes:</p>
      <ul>
      <li>Removed <span><code>--man1</code></span>, <span><code>--man5</code></span> options (breaking
      change).</li>
      <li>Removed <span><code>Text.Pandoc.ManPages</code></span> module
      (breaking API change).</li>
      <li>Makefile target for <span><code>man/man1/pandoc.1</code></span>. This uses
      pandoc to create the man page from README using a custom template
      and filters.</li>
      <li>Added <span><code>man/</code></span> directory
      with template and filters needed to build man page.</li>
      <li>We no longer have two man pages: <span><code>pandoc.1</code></span> and <span><code>pandoc_markdown.5</code></span>. Now there is
      just pandoc.1, which has all the content from README. This change
      was needed because of the extensive cross-references between parts
      of the README.</li>
      <li>Removed old <span><code>data/pandoc.1.template</code></span> and
      <span><code>data/pandoc_markdown.5.template</code></span>.</li>
      </ul></li>
      <li><p>OpenDocument writer: Do not add a carriage return after a
      hard line break (Michael Chladek).</p></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>use <span><code>\goto</code></span> for
      internal links.</li>
      <li>Added a <span><code>%</code></span> at end for
      <span><code>\reference</code></span> to avoid
      spurious space.</li>
      </ul></li>
      <li><p>Ignore sandbox on ‘make quick’</p></li>
      </ul>
      </section>
      <section id="pandoc-1.14.1-2015-06-30">
      <h2><a href="#pandoc-1.14.1-2015-06-30" aria-hidden="true"></a>pandoc 1.14.1 (2015-06-30)</h2>
      <ul>
      <li><p>Added <span><code>--man1</code></span> and
      <span><code>--man5</code></span> options to pandoc,
      allowing pandoc to generate its own man pages. Man pages are no
      longer automatically generated in the build process (the process
      for this was too complex and prone to failure, <a href="https://github.com/jgm/pandoc/issues/2190">#2190</a>). The
      <span><code>make-pandoc-man-pages</code></span>
      executable has been removed. The <span><code>man/</code></span> directory has been
      removed, and man page templates have been moved to <span><code>data/</code></span>. NOTE TO PACKAGERS: You
      will no longer find pandoc’s man pages in <span><code>man/</code></span>, but you can generate them
      using <span><code>pandoc --man1 &gt; pandoc.1</code></span> and
      <span><code>pandoc     --man5 &gt; pandoc_markdown.5</code></span>.</p></li>
      <li><p>Added new unexported module: <span><code>Text.Pandoc.ManPages</code></span>.</p></li>
      <li><p><span><code>README</code></span> now acts
      like a data file (even though it isn’t in <span><code>data/</code></span>). So, for example, <span><code>pandoc --print-default-data-file README</code></span>
      will produce the README.) This change was required for the <span><code>--man1</code></span> and <span><code>--man5</code></span> options, since the man
      pages are produced from the README, but it may be useful for other
      purposes as well.</p></li>
      <li><p>Allow <span><code>reference.docx</code></span> and <span><code>reference.odt</code></span> to be used with
      <span><code>--print-default-data-file</code></span>
      and to shadow defaults if placed in the user data directory. Note
      that as of 1.14, we no longer include these files as data files;
      instead, we include their components. This change causes pandoc to
      behave as if it has these data files; they are constructed on
      demand when needed using <span><code>getDefaultReferenceDocx</code></span> and
      <span><code>getDefaultReferenceODT</code></span>.</p></li>
      <li><p>Fixed regression in CSS parsing with <span><code>--self-contained</code></span> (<a href="https://github.com/jgm/pandoc/issues/2224">#2224</a>).
      Pandoc 1.14.0.x used css-text to parse the CSS, but its parser
      silently drops big sections of CSS. This commit replaces the use
      of css-text with a small but principled CSS preprocessor, which
      removes whitespace and comments and replaces <span><code>url()</code></span> with base 64 data when
      possible.</p></li>
      <li><p>Use <span><code>https://</code></span>
      instead of <span><code>//</code></span> for MathJax
      and KaTeX CDN URLs (<a href="https://github.com/jgm/pandoc/issues/1920">#1920</a>). This
      will allow math to work when pages are being viewed
      locally.</p></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>: Export
      <span><code>plainExtensions</code></span>. These
      are the extensions used in <span><code>plain</code></span> output.</p></li>
      <li><p>LaTeX reader: Don’t parse <span><code>_</code></span> and <span><code>^</code></span> as sub/superscript outside of
      math mode; treat them as regular inline text. Normally these will
      cause an error in LaTeX, but there are contexts (e.g. <span><code>alltt</code></span> environments) where they
      are allowed.</p></li>
      <li><p>HTML reader: allow <span><code>&lt;body&gt;</code></span> to close <span><code>&lt;head&gt;</code></span>.</p></li>
      <li><p>DocBook reader: support <span><code>mediaobject</code></span>s and <span><code>figures</code></span> (<a href="https://github.com/jgm/pandoc/issues/2184">#2184</a>,
      mb21).</p></li>
      <li><p>RST reader: Fix reference names with special characters
      (Lars-Dominik Braun).</p></li>
      <li><p>Textile writer: escape <span><code>+</code></span> and <span><code>-</code></span> as entities (<a href="https://github.com/jgm/pandoc/issues/2225">#2225</a>).</p></li>
      <li><p>DokuWiki writer: Use proper <span><code>&lt;code&gt;</code></span> tags for code
      blocks (<a href="https://github.com/jgm/pandoc/issues/2213">#2213</a>).</p></li>
      <li><p>Plain writer: don’t use symbols for super/subscript (<a href="https://github.com/jgm/pandoc/issues/2237">#2237</a>).
      Simplified code by using <span><code>plainExtensions</code></span>.</p></li>
      <li><p>InDesign writer: Properly escape URLs containing more than
      one colon character (gohai).</p></li>
      <li><p>Docx writer: Make sure we use dist version of <span><code>reference.docx</code></span> (and not the
      user’s version) for certain settings. Taking some settings values
      from a user-supplied reference.docx can lead to corruption. This
      fixes a regression from the last release (<a href="https://github.com/jgm/pandoc/issues/2249">#2249</a>).</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: exports
      <span><code>getDefaultReferenceDocx</code></span>
      and <span><code>getDefaultReferenceODT</code></span> (API
      change). These functions have been removed from the Docx and ODT
      writers.</p></li>
      <li><p>LaTeX template (Xavier Olive):</p>
      <ul>
      <li>Added <span><code>CJKmainfont</code></span> and
      <span><code>CJKoptions</code></span>
      variables.</li>
      <li>Allow dvipsnames (e.g. <span><code>MidnightBlue</code></span>) for colors
      (Xavier Olive).</li>
      </ul></li>
      <li><p>Epub templates: use <span><code>author.role</code></span>, not <span><code>author.type</code></span>.</p></li>
      <li><p>Bump cmark version to &gt;= 0.3.4.</p></li>
      <li><p>Improved Windows installer (<a href="https://github.com/jgm/pandoc/issues/2205">#2205</a>, thanks
      to nkalvi). Users can now select a per-user or systemwide install,
      and can set the installation path. At the end of installation, the
      install location is given. The install location is also now given
      in the list of installed programs in Control Panel. Cleaner WiX
      syntax is used for setting the path.</p></li>
      <li><p>Added <span><code>download_stats</code></span> target to
      Makefile.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.14.0.4-2015-06-02">
      <h2><a href="#pandoc-1.14.0.4-2015-06-02" aria-hidden="true"></a>pandoc 1.14.0.4 (2015-06-02)</h2>
      <ul>
      <li><p>Added missing commonmark template.</p></li>
      <li><p>Improved try pandoc (moved button, show raw
      command).</p></li>
      </ul>
      </section>
      <section id="pandoc-1.14.0.3-2015-06-01">
      <h2><a href="#pandoc-1.14.0.3-2015-06-01" aria-hidden="true"></a>pandoc 1.14.0.3 (2015-06-01)</h2>
      <ul>
      <li><p>Allow compilation with syb 0.5.*.</p></li>
      <li><p>Custom writer: fixed some compiler warnings for ghc &lt;
      7.10.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.14.0.2-2015-05-31">
      <h2><a href="#pandoc-1.14.0.2-2015-05-31" aria-hidden="true"></a>pandoc 1.14.0.2 (2015-05-31)</h2>
      <ul>
      <li>Allow building with hslua 0.4.</li>
      </ul>
      </section>
      <section id="pandoc-1.14.0.1-2015-05-28">
      <h2><a href="#pandoc-1.14.0.1-2015-05-28" aria-hidden="true"></a>pandoc 1.14.0.1 (2015-05-28)</h2>
      <ul>
      <li><p>Fixed problem with building of <span><code>reference.docx</code></span> and <span><code>reference.odt</code></span> when the <span><code>embed_data_files</code></span> flag is used.
      Instead of having a phase of the build where <span><code>reference.docx</code></span> and <span><code>reference.odt</code></span> are created from
      their constituent data files, we now construct these archives from
      their constituents when a <span><code>docx</code></span> or <span><code>odt</code></span> is built. The constituent
      files have been moved from <span><code>extra-source-files</code></span> to <span><code>data-files</code></span>, and <span><code>reference.docx</code></span> and <span><code>reference.odt</code></span> have been
      removed. Users can create their own <span><code>reference.docx</code></span> or <span><code>reference.odt</code></span> by using pandoc
      to create a simple <span><code>docx</code></span>
      or <span><code>odt</code></span>. <span><code>make-reference-files.hs</code></span> has
      been removed, simplifying the build process (<a href="https://github.com/jgm/pandoc/issues/2187">#2187</a>)</p></li>
      <li><p>Don’t include generated man pages in extra-source-files (<a href="https://github.com/jgm/pandoc/issues/2189">#2189</a>).</p></li>
      <li><p>Bumped upper bound for aeson.</p></li>
      <li><p>ConTeXt writer: create internal link anchors for Div
      elements with identifiers. (This is needed for linked citations to
      work.)</p></li>
      </ul>
      </section>
      <section id="pandoc-1.14-2015-05-27">
      <h2><a href="#pandoc-1.14-2015-05-27" aria-hidden="true"></a>pandoc 1.14 (2015-05-27)</h2>
      <section id="new-features-2">
      <h3><a href="#new-features-2" aria-hidden="true"></a>New features</h3>
      <ul>
      <li><p>Added <span><code>commonmark</code></span>
      as input and output format.</p></li>
      <li><p>Added <span><code>--verbose</code></span>
      flag for debugging output in PDF production (<a href="https://github.com/jgm/pandoc/issues/1840">#1840</a>, <a href="https://github.com/jgm/pandoc/issues/1653">#1653</a>).</p></li>
      <li><p>Allow wildcards in <span><code>--epub-embed-font</code></span> arguments (<a href="https://github.com/jgm/pandoc/issues/1939">#1939</a>).</p></li>
      <li><p>Added <span><code>--latex-engine-opt</code></span> option (<a href="https://github.com/jgm/pandoc/issues/969">#969</a>, <a href="https://github.com/jgm/pandoc/issues/1779">#1779</a>, Sumit
      Sahrawat).</p></li>
      <li><p>Added <span><code>shortcut_reference_links</code></span>
      extension (Konstantin Zudov, <a href="https://github.com/jgm/pandoc/issues/1977">#1977</a>). This
      is enabled by default for those markdown flavors that support
      reading shortcut reference links, namely: <span><code>markdown</code></span>, <span><code>markdown_strict</code></span>, <span><code>markdown_github</code></span>, <span><code>markdown_php</code></span>. If the extension
      is enabled, the reader parses shortcut reference links like <span><code>[foo]</code></span>, and the writer creates
      such links unless doing so would cause problems. Users of markdown
      flavors that support shortcut reference links should not notice a
      difference in reading markdown, but the markdown pandoc produces
      may differ. If shortcut links are not desired, the extension can
      be disabled in the normal way.</p></li>
      </ul>
      </section>
      <section id="behavior-changes-2">
      <h3><a href="#behavior-changes-2" aria-hidden="true"></a>Behavior changes</h3>
      <ul>
      <li><p><span><code>--toc</code></span> is now
      supported for <span><code>docx</code></span> output
      (<a href="https://github.com/jgm/pandoc/issues/458">#458</a>,
      Nikolay Yakimov). A “dirty” TOC is created at the beginning of
      document. It can be regenerated after the document has been
      opened.</p></li>
      <li><p>An implicit <span><code>--filter pandoc-citeproc</code></span> is now
      triggered only when the <span><code>--bibliography</code></span> option is used,
      and not when the <span><code>bibliography</code></span> field in metadata
      is specified (<a href="https://github.com/jgm/pandoc/issues/1849">#1849</a>).</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li><p>Reference links with <span><code>implicit_header_references</code></span> are
      no longer case-sensitive (<a href="https://github.com/jgm/pandoc/issues/1606">#1606</a>).</p></li>
      <li><p>Definition lists no longer require indentation for first
      line (<a href="https://github.com/jgm/pandoc/issues/2087">#2087</a>).
      Previously the body of the definition (after the <span><code>:</code></span> or <span><code>~</code></span> marker) needed to be in
      column 4. This commit relaxes that requirement, to better match
      the behavior of PHP Markdown Extra. So, now this is a valid
      definition list:</p>
      <pre><code>  foo
  : bar</code></pre></li>
      <li><p>Resolve a potentially ambiguity with table captions:</p>
      <pre><code>  foo

    : bar

    -----
    table
    -----</code></pre>
      <p>Is “bar” a definition, or the caption for the table? We’ll
      count it as a caption for the table.</p></li>
      <li><p>Disallow headerless pipe tables (<a href="https://github.com/jgm/pandoc/issues/1996">#1996</a>), to
      conform to GFM and PHP Markdown Extra. Note: If you have been
      using headerless pipe tables, this change may cause existing
      tables to break.</p></li>
      <li><p>Allow pipe tables with header but no body (<a href="https://github.com/jgm/pandoc/issues/2017">#2017</a>).</p></li>
      <li><p>Allow a digit as first character of a citation key
      (Matthias Troffaes). See
      https://github.com/jgm/pandoc-citeproc/issues/97</p></li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Don’t limit includes to <span><code>.tex</code></span> extension (<a href="https://github.com/jgm/pandoc/issues/1882">#1882</a>). If
      the extension is not <span><code>.tex</code></span>, it must be given
      explicitly in the <span><code>\input</code></span>
      or <span><code>\include</code></span>.</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Allow numbering in the style file. This allows inherited
      styles with numbering (lists) (Jesse Rosenthal).</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Support smart punctuation (Craig Bosma).</li>
      <li>Drop trees with a :noexport: tag (Albert Krewinkel). Trees
      having a <span><code>:noexport:</code></span> tag
      set are not exported. This mirrors org-mode.</li>
      <li>Put header tags into empty spans (Albert Krewinkel, <a href="https://github.com/jgm/pandoc/issues/2160">#2160</a>). Org
      mode allows headers to be tagged: <span><code>* Headline  :TAG1:TAG2</code></span>. Instead
      of being interpreted as part of the headline, the tags are now put
      into the attributes of empty spans. Spans without textual content
      won’t be visible by default, but they are detectable by filters.
      They can also be styled using CSS when written as HTML.</li>
      <li>Generalize code block result parsing (Albert Krewinkel).
      Previously, only code blocks were recognized as result blocks;
      now, any kind of block can be the result.</li>
      </ul></li>
      <li><p>Append newline to the LineBreak in Dokuwiki, HTML, EPUB,
      LaTeX, MediaWiki, OpenDocument, Texinfo writers (<a href="https://github.com/jgm/pandoc/issues/1924">#1924</a>, Tim
      Lin).</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Add “inline” or “display” class to math spans (<a href="https://github.com/jgm/pandoc/issues/1914">#1914</a>). This
      allows inline and display math to be styled differently.</li>
      <li>Include raw latex blocks if <span><code>--mathjax</code></span> specified (<a href="https://github.com/jgm/pandoc/issues/1938">#1938</a>).</li>
      <li>Require highlighting-kate &gt;= 0.5.14 (<a href="https://github.com/jgm/pandoc/issues/1903">#1903</a>). This
      ensures that all code blocks will be wrapped in a <span><code>div</code></span> with class <span><code>sourceCode</code></span>. Also, the default
      highlighting CSS now adds <span><code>div.sourceCode { x-overflow: auto; }</code></span>,
      which means that code blocks (even with line numbers) will acquire
      a scroll bar on screens too small to display them (e.g. mobile
      phones). See also jgm/highlighting-kate<a href="https://github.com/jgm/pandoc/issues/65">#65</a>.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use a declaration for tight lists (Jose Luis Duran, Joseph
      Harriott). Previously, pandoc hard-coded some commands to make
      tight lists in LaTeX. Now we use a custom command instead,
      allowing the styling to be changed in a macro in the header.
      (Note: existing templates may need to be modified to include the
      definition of this macro. See the current template.)</li>
      <li>Beamer output: if the header introducing a slide has the class
      <span><code>fragile</code></span>, add the <span><code>[fragile]</code></span> option to the slide
      (<a href="https://github.com/jgm/pandoc/issues/2119">#2119</a>).</li>
      </ul></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Use <span><code>File:</code></span> instead of
      the deprecated <span><code>Image:</code></span> for
      images and other media files (Greg Rundlett).</li>
      </ul></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Render a <span><code>Div (id,_,_) [Para _]</code></span> element
      as a <span><code>para</code></span> element with an
      <span><code>id</code></span> attribute. This makes
      links to citations work in DocBook with pandoc-citeproc.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Normalize headings to sequential levels (Nikolay Yakimov).
      This is pretty much required by docutils.</li>
      <li>Treat headings in block quotes, etc as rubrics (Nikolay
      Yakimov).</li>
      <li>Better handling of raw latex inline (<a href="https://github.com/jgm/pandoc/issues/1961">#1961</a>). We
      use <span><code>:raw-latex:`...`</code></span> and
      add a definition for this role to the template.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Remove <span><code>linear=no</code></span> from
      cover <span><code>itemref</code></span> (<a href="https://github.com/jgm/pandoc/issues/1609">#1609</a>).</li>
      <li>Don’t use <span><code>sup</code></span> element
      for epub footnotes (<a href="https://github.com/jgm/pandoc/issues/1995">#1995</a>).
      Instead, just use an a element with class <span><code>footnoteRef</code></span>. This allows more
      styling options, and provides better results in some readers
      (e.g. iBooks, where anything inside the a tag breaks popup
      footnotes).</li>
      <li>Take TOC title from <span><code>toc-title</code></span> metadata field.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Implemented <span><code>FirstParagraph</code></span> style (Jesse
      Rosenthal). Following the ODT writer, we add the <span><code>FirstParagraph</code></span> style to the
      first text paragraph following an image, blockquote, table,
      heading, or beginning of document. This allows it to be styled
      differently. The default is for it to be the same as <span><code>Normal</code></span>.</li>
      <li>Added <span><code>BodyText</code></span> style
      (Jesse Rosenthal). We apply a <span><code>BodyText</code></span> style to all unstyled
      paragraphs. This is, essentially, the same as <span><code>Normal</code></span>, except that since not
      everything inherits from <span><code>BodyText</code></span> (the metadata won’t,
      for example, or the headers or footnote numbers), we can change
      the text in the body without having to make exceptions for
      everything. If we do want to change <em>everything</em>, we can
      still do it through <span><code>Normal</code></span>.</li>
      <li>Altered <span><code>Blockquote</code></span>
      style slightly (Jesse Rosenthal). Since <span><code>BlockQuote</code></span> derives from <span><code>BodyText</code></span>, we just want to
      specify by default that it won’t indent, regardless of what <span><code>BodyText</code></span> does. Note that this
      will not produce any visible difference in the default
      configuration.</li>
      <li>Take TOC title from <span><code>toc-title</code></span> metadata field
      (Nikolay Yakimov).</li>
      <li>Added a style to figure images (Nikolay Yakimov). Figures with
      empty captions use style <span><code>Figure</code></span>. Figures with nonempty
      captions use style <span><code>Figure with Caption</code></span>, which is
      based on <span><code>Figure</code></span>, and
      additionally has <span><code>keepNext</code></span>
      set.</li>
      </ul></li>
      <li><p>ODT writer:</p>
      <ul>
      <li>Added figure captions (Nikolay Yakimov). The following styles
      are used for figures: <span><code>Figure</code></span> – for figure with empty
      caption), <span><code>FigureWithCaption</code></span> (based on
      <span><code>Figure</code></span>) – for figure with
      caption, <span><code>FigureCaption</code></span>
      (based on <span><code>Caption</code></span>) – for
      figure captions. Also, <span><code>TableCaption</code></span> (based on <span><code>Caption</code></span>) is used for table
      captions.</li>
      </ul></li>
      </ul>
      </section>
      <section id="api-changes-2">
      <h3><a href="#api-changes-2" aria-hidden="true"></a>API changes</h3>
      <ul>
      <li><p>New <span><code>Text.Pandoc.Error</code></span> module with
      <span><code>PandocError</code></span> type (Matthew
      Pickering).</p></li>
      <li><p>All readers now return <span><code>Either PandocError Pandoc</code></span>
      instead of <span><code>Pandoc</code></span>
      (Matthew Pickering). This allows better handling of
      errors.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Writers.CommonMark</code></span>,
      exporting <span><code>writeCommonMark</code></span>.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Readers.CommonMark</code></span>,
      exporting <span><code>readCommonMark</code></span>.</p></li>
      <li><p>Derive <span><code>Data</code></span> and
      <span><code>Typeable</code></span> instances for
      <span><code>MediaBag</code></span>, <span><code>Extension</code></span>, <span><code>ReaderOptions</code></span>, <span><code>EPUBVersion</code></span>, <span><code>CiteMethod</code></span>, <span><code>ObfuscationMethod</code></span>, <span><code>HTMLSlideVariant</code></span>, <span><code>TrackChanges</code></span>, <span><code>WriterOptions</code></span> (Shabbaz
      Youssefi).</p></li>
      <li><p>New <span><code>Ext_shortcut_reference_links</code></span>
      constructor for <span><code>Extension</code></span>
      (Konstantin Zudov).</p></li>
      </ul>
      </section>
      <section id="bug-fixes">
      <h3><a href="#bug-fixes" aria-hidden="true"></a>Bug
      fixes</h3>
      <ul>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow smart <span><code>&#39;</code></span> after
      inline math (<a href="https://github.com/jgm/pandoc/issues/1909">#1909</a>,
      Nikolay Yakimov).</li>
      <li>Check for tex macros after indented code (<a href="https://github.com/jgm/pandoc/issues/1973">#1973</a>).</li>
      <li>Rewrote <span><code>charsInBalancedBrackets</code></span> for
      efficiency.</li>
      <li>Make sure a closing <span><code>&lt;/div&gt;</code></span> doesn’t get
      included in a definition list item (<a href="https://github.com/jgm/pandoc/issues/2127">#2127</a>).</li>
      <li>Don’t parse bracketed text as citation if it might be a link,
      image, or footnote (Nikolay Yakimov).</li>
      <li>Require space after key in mmd title block (<a href="https://github.com/jgm/pandoc/issues/2026">#2026</a>,
      Nikolay Yakimov). Require space after key-value delimiter colon in
      mmd title block.</li>
      <li>Require nonempty value in mmd title block (Nikolay
      Yakimov).</li>
      <li>Disable all metadata block extensions when parsing metadata
      field values (<a href="https://github.com/jgm/pandoc/issues/2026">#2026</a>,
      Nikolay Yakimov). Otherwise we could get a mmd title block inside
      YAML metadata, for example.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Improve self-closing tag detection in <span><code>htmlInBalanced</code></span> (<a href="https://github.com/jgm/pandoc/issues/2146">#2146</a>).</li>
      <li>Handle tables with <span><code>&lt;th&gt;</code></span> in body rows (<a href="https://github.com/jgm/pandoc/issues/1859">#1859</a>,
      mb21).</li>
      <li>Fixed <span><code>htmlTag</code></span> (<a href="https://github.com/jgm/pandoc/issues/1820">#1820</a>). If
      the tag parses as a comment, we check to see if the input starts
      with <span><code>&lt;!--</code></span>. If not,
      it’s bogus comment mode and we fail <span><code>htmlTag</code></span>.</li>
      <li>Handle <span><code>base</code></span> tag; if
      it has an <span><code>href</code></span> value,
      this is added to all relative URLs in links and images.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Look inside “info” elements for section titles (<a href="https://github.com/jgm/pandoc/issues/1931">#1931</a>).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Parse images in deprecated vml format (Jesse Rosenthal).</li>
      <li>Allow sub/superscript verbatims (Jesse Rosenthal). Verbatim
      usually shuts off all other run styles, but we don’t want it to
      shut off sub/superscript.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Handle <span><code>tabular*</code></span>
      environment (<a href="https://github.com/jgm/pandoc/issues/1850">#1850</a>). Note
      that the table width is not actually parsed or taken into account,
      but pandoc no longer chokes on it.</li>
      <li>Ignore options in <span><code>\lstinline</code></span> rather than raising
      error (<a href="https://github.com/jgm/pandoc/issues/1997">#1997</a>).</li>
      <li>Add some test cases for simple tables (Mathias Schenner).</li>
      <li>Handle valign argument in tables (Mathias Schenner) (currently
      we just ignore this).</li>
      <li>Allow non-empty colsep in tables (Mathias Schenner). The <span><code>tabular</code></span> environment allows
      non-empty column separators with the “<span data-cites="...">@...</span>” syntax. Previously, pandoc would
      fail to parse tables if a non-empty colsep was present. With this
      commit, these separators are still ignored, but the table gets
      parsed. A test case is included.</li>
      <li>Recognize <span><code>\newpage</code></span> as
      a block command.</li>
      <li>Allow block content in <span><code>\title{}</code></span> (<a href="https://github.com/jgm/pandoc/issues/2001">#2001</a>).</li>
      <li>Check for block-level newcommand aliases in blockCommand
      (Nikolay Yakimov).</li>
      <li>Guard against paragraph starting with inline macro (Nikolay
      Yakimov).</li>
      <li>Properly gobble spaces after <span><code>\\</code></span> (<a href="https://github.com/jgm/pandoc/issues/2007">#2007</a>).</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Handle newlines in table cells, and empty cells (<a href="https://github.com/jgm/pandoc/issues/1919">#1919</a>).</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Allow image links with non-image targets (Hans-Peter Deifel).
      This matches behavior of Org-Mode for links like <span><code>[[http://example.com][https://www.haskell.org/static/img/logo.png]]</code></span>.</li>
      </ul></li>
      <li><p>Docbook writer:</p>
      <ul>
      <li>Don’t print empty id attributes (thanks to Steve Horne).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fixed list-style-type for numbered example lists. Should be
      “decimal,” not “example” (<a href="https://github.com/jgm/pandoc/issues/1902">#1902</a>).</li>
      <li>Do not omit missing <span><code>alt</code></span> attribute on <span><code>img</code></span> tag (<a href="https://github.com/jgm/pandoc/issues/1131">#1131</a>,
      Konstantin Zudov).</li>
      <li>Allow multiple colgroups in table (<a href="https://github.com/jgm/pandoc/issues/2122">#2122</a>).</li>
      <li>In revealjs, ensure that lists in speaker notes don’t add
      “fragment” classes, which can cause additional keypresses to be
      needed to advance a slide (<a href="https://github.com/jgm/pandoc/issues/1394">#1394</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Don’t escape <span><code>$</code></span> in URL
      (<a href="https://github.com/jgm/pandoc/issues/1913">#1913</a>).</li>
      <li>Don’t use listings in headers (Matthew Pickering, <a href="https://github.com/jgm/pandoc/issues/1963">#1963</a>).</li>
      <li>Recognize book documentclass if set in metadata (<a href="https://github.com/jgm/pandoc/issues/1971">#1971</a>). This
      sets <span><code>--chapters</code></span>
      implicitly if the documentclass in metadata is a book
      documentclass. Previously this was done only if a book
      documentclass was set in a variable.</li>
      <li>Add a <span><code>\label</code></span> in <span><code>\hyperdef</code></span> for Div, Span (or
      links don’t work).</li>
      <li>Make <span><code>mainlang</code></span> work
      when <span><code>lang</code></span> is in metadata
      (<a href="https://github.com/jgm/pandoc/issues/2174">#2174</a>).</li>
      </ul></li>
      <li><p>Texinfo writer:</p>
      <ul>
      <li>Fix wrapping by using breakable spaces (Tim Lin).</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Fixed toc depth in RST writer. Previously the depth was being
      rendered as a floating point number with a decimal point.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Improved escaping (<a href="https://github.com/jgm/pandoc/issues/2086">#2086</a>). <span><code>&lt;</code></span> should not be escaped as
      <span><code>\&lt;</code></span>, for compatibility
      with original Markdown. We now escape <span><code>&lt;</code></span> and <span><code>&gt;</code></span> with entities. Also, we
      now backslash-escape square brackets.</li>
      <li>Avoid introducing spurious list items through wrapping (<a href="https://github.com/jgm/pandoc/issues/1946">#1946</a>).</li>
      <li>Don’t emit span tags if plain or raw HTML disabled.</li>
      </ul></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Convert spaces to underscores in wikilink URL (<a href="https://github.com/jgm/pandoc/issues/1982">#1982</a>), like
      MediaWiki.</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Insert some needed blank lines (<a href="https://github.com/jgm/pandoc/issues/1860">#1860</a>).</li>
      <li>Avoid wrapping after list marker (<a href="https://github.com/jgm/pandoc/issues/1858">#1858</a>).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Properly handle internal links to IDs in spans, divs (<a href="https://github.com/jgm/pandoc/issues/1884">#1884</a>).</li>
      <li>Use plain writer for metadata dc: fields (<a href="https://github.com/jgm/pandoc/issues/2121">#2121</a>). This
      gives better results when we have, e.g. multiple paragraphs. Note
      that tags aren’t allowed in these fields.</li>
      <li>Properly handle image links without an extension (<a href="https://github.com/jgm/pandoc/issues/1855">#1855</a>).</li>
      <li>Improved chapter splitting and internal link rewriting (<a href="https://github.com/jgm/pandoc/issues/1887">#1887</a>, <a href="https://github.com/jgm/pandoc/issues/2162">#2162</a>, <a href="https://github.com/jgm/pandoc/issues/2163">#2163</a>). This
      will ensure that internal links work and that the references
      section produced by pandoc-citeproc is in its own chapter.</li>
      <li>Fixed handling of svg images (<a href="https://github.com/jgm/pandoc/issues/2183">#2183</a>).</li>
      </ul></li>
      <li><p>ICML writer:</p>
      <ul>
      <li>Better handling of raw blocks and inlines (<a href="https://github.com/jgm/pandoc/issues/1951">#1951</a>).
      Previously these were always escaped and printed verbatim. Now
      they are ignored unless the format is <span><code>icml</code></span>, in which case they are
      passed through unescaped.</li>
      <li>Fixed image URIs in ICML output (gohai).</li>
      </ul></li>
      <li><p>Custom writer:</p>
      <ul>
      <li>Raise error if loadstring returns an error status.</li>
      <li>Raise <span><code>PandocLuaException</code></span> instead of
      using ‘error’. Eventually we’ll change the return type so that no
      exception is involved, but at least this can be trapped.</li>
      <li>Use UTF-8 aware bytestring conversion.</li>
      <li>Set foreign encoding to UTF-8 (Nikolay Yakimov, <a href="https://github.com/jgm/pandoc/issues/2101">#2101</a>, <a href="https://github.com/jgm/pandoc/issues/1634">#1634</a>). Also
      factored out ByteString, since it’s only used as an intermediate
      representation.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Copy hyphenation settings from reference.docx (Nikolay
      Yakimov).</li>
      <li>Filter out illegal XML characters (<a href="https://github.com/jgm/pandoc/issues/1992">#1992</a>,
      Matthew Pickering).</li>
      <li>Added <span><code>noProof</code></span> to docx
      syntax highlighting <span><code>SourceCode</code></span> style.</li>
      <li>Added footnotes id -1 and 0 (Jesse Rosenthal). Word uses, by
      default, footnotes with id -1 and 0 for separators. If a user
      modifies <span><code>reference.docx</code></span>,
      they will end up with a <span><code>settings.xml</code></span> file that
      references these footnotes, but no such footnotes in the document.
      This will produce a corruption error. Here we add these to the
      document and <span><code>settings.xml</code></span>
      file, so future modifications won’t break the file.</li>
      <li>Handle lists correctly inside table cells (Jesse Rosenthal).
      Previously we didn’t transform lists inside table cells.</li>
      <li>Set firstRow information in tables (Nikolay Yakimov).</li>
      <li>Don’t replace <span><code>SourceCode</code></span> style in <span><code>reference.docx</code></span> if it is defined
      there (Nikolay Yakimov, <a href="https://github.com/jgm/pandoc/issues/1872">#1872</a>). If
      <span><code>--no-highlight</code></span> specified,
      remove any <span><code>SourceCode</code></span> and
      <span><code>*Tok</code></span> styles in <span><code>reference.docx</code></span>.</li>
      <li>Attempt to match international style names (<a href="https://github.com/jgm/pandoc/issues/1607">#1607</a>,
      Nikolay Yakimov).</li>
      <li>Set these styles as custom (Nikolay Yakimov): <span><code>Author</code></span>, <span><code>Abstract</code></span>, <span><code>Compact</code></span>, <span><code>Image Caption</code></span>, <span><code>Table Caption</code></span>, <span><code>Definition Term</code></span>, <span><code>Definition</code></span>, <span><code>First Paragraph</code></span>.</li>
      <li>Rename these styles to correspond with Word <span><code>Normal.dotm</code></span> (Nikolay Yakimov):
      <span><code>Block Quote -&gt; Block Text</code></span>,
      <span><code>Link -&gt; Hyperlink</code></span>,
      <span><code>Footnote Ref -&gt; Footnote Reference</code></span>.</li>
      <li>Added <span><code>Caption</code></span> style
      (Nikolay Yakimov).</li>
      <li>Changed these styles’ inheritance (Nikolay Yakimov): <span><code>Image Caption &lt;- Caption</code></span>,
      <span><code>Table Caption &lt;- Caption</code></span>.</li>
      <li>Remove <span><code>SourceCode</code></span>
      style from <span><code>reference.docx</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/1872">#1872</a>).
      This is added automatically by the docx writer.</li>
      <li>Added toc heading style to <span><code>reference.docx</code></span> (Nikolay
      Yakimov).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.PDF</code></span></p>
      <ul>
      <li>Don’t suggest “Try xelatex” if xelatex already in use (mb21,
      <a href="https://github.com/jgm/pandoc/issues/1832">#1832</a>).</li>
      <li>More comprehensible errors on image conversion (<a href="https://github.com/jgm/pandoc/issues/2067">#2067</a>). EPS
      can’t be supported without shelling out to something like
      ImageMagick, but at least we can avoid mysterious error
      messages.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Make safeRead safe (<a href="https://github.com/jgm/pandoc/issues/1801">#1801</a>,
      Matthew Pickering).</li>
      <li>Added <span><code>mapLeft</code></span>, <span><code>hush</code></span> (Matthew Pickering).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>:</p>
      <ul>
      <li>Remove partial function (Matthew Pickering).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.SelfContained</code></span>:</p>
      <ul>
      <li>Add <span><code>;charset=utf-8</code></span> to
      script mime type if missing (<a href="https://github.com/jgm/pandoc/issues/1842">#1842</a>).</li>
      <li>Improved building of data URIs (<a href="https://github.com/jgm/pandoc/issues/1940">#1940</a>). Now
      base64 is used except for <span><code>text/*</code></span> mime types.</li>
      <li><span><code>cssURLs</code></span> no longer
      tries to fetch fragment URLs (<a href="https://github.com/jgm/pandoc/issues/2121">#2121</a>).</li>
      <li>Properly handle data URIs in css urls (<a href="https://github.com/jgm/pandoc/issues/2129">#2129</a>). Use a
      proper CSS parser (adds dependency on <span><code>text-css</code></span>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:</p>
      <ul>
      <li>Better handling of bare CRs in input files (<a href="https://github.com/jgm/pandoc/issues/2132">#2132</a>).
      Previously we just stripped them out; now we convert other line
      ending styles to LF line endings.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>:</p>
      <ul>
      <li>Fixed some exif header parsing bugs (<a href="https://github.com/jgm/pandoc/issues/1834">#1834</a>).</li>
      <li>Make imageSize return an Either, not a Maybe (<a href="https://github.com/jgm/pandoc/issues/1834">#1834</a>). Use
      <span><code>runGetOrFail</code></span> (with <span><code>binary &gt;= 0.7</code></span>) to return
      <span><code>Left</code></span> on parse failure
      (rather than <span><code>error</code></span>).</li>
      <li>Improved warnings when image size can’t be determined.</li>
      <li>Removed error landmines (Matthew Pickering).</li>
      </ul></li>
      <li><p>Added woff2 to MIME types (Alfred Wechselberger).</p></li>
      <li><p>pandoc: When a binary input format is used, warn that file
      arguments past the first one are being ignored (Matthew
      Pickering).</p></li>
      </ul>
      </section>
      <section id="template-changes">
      <h3><a href="#template-changes" aria-hidden="true"></a>Template changes</h3>
      <ul>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Degrade gracefully if <span><code>\paragraph</code></span> not defined.</li>
      <li>Include <span><code>grffile</code></span>
      together with <span><code>graphicx</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/2074">#2074</a>).
      This properly handles filenames containing spaces and dots.</li>
      <li>Redefine <span><code>\paragraph</code></span>,
      <span><code>\subparagraph</code></span>… to behave
      more like section headers (<a href="https://github.com/jgm/pandoc/issues/1658">#1658</a>).</li>
      <li>Import hyperref before polyglossia to avoid an error with
      xelatex, “please load package hyperref before bidi package” (Nick
      Bart).</li>
      <li>Added <span><code>toccolor</code></span>
      variable to control link color in toc (Kaixhin).</li>
      </ul></li>
      <li><p>LaTeX, Beamer templates:</p>
      <ul>
      <li>Provide <span><code>\tightlist</code></span>,
      which is now used by the LaTeX writer.</li>
      <li>Use polyglossia in beamer (<a href="https://github.com/jgm/pandoc/issues/85">#85</a>).</li>
      <li>Use <span><code>bibliography</code></span>
      instead of <span><code>biblio-files</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/1661">#1661</a>).
      Also use <span><code>\addbibresource</code></span>
      instead of <span><code>\bibliography</code></span>
      for biblatex.</li>
      <li>Added <span><code>setotherlanguages</code></span> in
      polyglossia. This uses an <span><code>otherlang</code></span> variable that is
      derived from a comma-separated list in <span><code>lang</code></span>; the last language is
      <span><code>mainlang</code></span> and the others
      are <span><code>otherlang</code></span>.</li>
      </ul></li>
      <li><p>EPUB templates:</p>
      <ul>
      <li>Use <span><code>div</code></span>, not <span><code>p</code></span>, for “rights” on title
      page.</li>
      <li>Added header-includes, include-before, include-after (<a href="https://github.com/jgm/pandoc/issues/1987">#1987</a>).</li>
      </ul></li>
      <li><p>OpenDocument template:</p>
      <ul>
      <li>Use <span><code>text:p</code></span> instead of
      <span><code>text:h</code></span> for title. Using
      <span><code>text:h</code></span> causes problems
      with numbering. Closes <a href="https://github.com/jgm/pandoc/issues/2059">#2059</a>. Thanks
      to <span data-cites="nkalvi">@nkalvi</span> for
      diagnosing this.</li>
      </ul></li>
      <li><p>reveal.js template:</p>
      <ul>
      <li>Link to non-minified css, js. The minified versions no longer
      ship with the library.</li>
      <li>Correctly include style CSS (<a href="https://github.com/jgm/pandoc/issues/1949">#1949</a>).</li>
      <li>New configurable options options: <span><code>center</code></span>, <span><code>maxScale</code></span>, <span><code>slideNuber</code></span> (Dmitry Smirnov,
      pandoc-templates<a href="https://github.com/jgm/pandoc/issues/89">#89</a>).</li>
      <li>Moved custom CSS after theme. This allows custom CSS to modify
      themes, instead of being replaced by them.</li>
      <li>Allow <span><code>center</code></span> to be
      set to false.</li>
      </ul></li>
      </ul>
      </section>
      <section id="under-the-hood-improvements">
      <h3><a href="#under-the-hood-improvements" aria-hidden="true"></a>Under the hood improvements</h3>
      <ul>
      <li><p>Removed pre-built <span><code>reference.docx</code></span> and <span><code>reference.odt</code></span> (Nikolay
      Yakimov). Instead the repository now includes the component text
      files, and the zipped binaries are built from these using a helper
      program, <span><code>make-reference-files</code></span>. This
      should make maintenance of these components easier going
      forward.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Added new <span><code>&lt;+?&gt;</code></span>
      combinator (Nikolay Yakimov).</li>
      <li>Added <span><code>stateHeaderKeys</code></span>
      to <span><code>ParserState</code></span>.</li>
      </ul></li>
      <li><p><span><code>make_deb.sh</code></span>
      fixes:</p>
      <ul>
      <li>Detect architecture.</li>
      <li>Add Installed-Size to debian package control file (<a href="https://github.com/jgm/pandoc/issues/1900">#1900</a>).</li>
      <li>Use <span><code>fakeroot</code></span> to get
      permissions right.</li>
      <li>Use <span><code>mkdir</code></span> and <span><code>cp</code></span> instead of <span><code>install</code></span>.</li>
      <li>Set permissions of directories to 755.</li>
      <li>Install in <span><code>/usr</code></span>
      rather than <span><code>/usr/local</code></span>.</li>
      <li>Compress man pages.</li>
      <li>Combine copyright files for <span><code>pandoc</code></span>, <span><code>pandoc-citeproc</code></span>.</li>
      </ul></li>
      <li><p>Added <span><code>Text.Pandoc.Compat.Locale</code></span> and
      <span><code>old-locale</code></span> flag to assist
      with transition to <span><code>time</code></span>
      1.5.</p></li>
      <li><p>Updated CONTRIBUTING.md with information about issue tags
      (Matthew Pickering).</p></li>
      <li><p>Updated travis installs to the new sudo-less syntax (Tim
      Lin).</p></li>
      <li><p>Updated dependency version bounds.</p></li>
      <li><p>EPUB tests: don’t use <span><code>joinPath</code></span>, which varies across
      platforms. Instead, use a forward-slash to join paths, regardless
      of the platform. This matches the way <span><code>MediaBag</code></span> now works.</p></li>
      <li><p>Clarify JSON input and output in usage message (Caleb
      McDaniel).</p></li>
      <li><p>Improved INSTALL instructions.</p></li>
      <li><p>Always build man pages. Removed make-pandoc-man-pages
      flag.</p></li>
      <li><p>Makefile: removed man target, now that we generate man
      pages by default.</p></li>
      <li><p>README:</p>
      <ul>
      <li>Fixed typos (J. Lewis Muir).</li>
      <li>Added documentation on backtick_code_blocks (<a href="https://github.com/jgm/pandoc/issues/2135">#2135</a>,
      Nikolay Yakimov).</li>
      <li>Added note on in-field markup in biblio databases (Nick
      Bart).</li>
      <li>Fixed misleading example of raw HTML block.</li>
      <li>Various minor formatting and consistency fixes for the program
      options (Andreas Lööw).</li>
      <li>Made definition lists for options all “loose” for
      consistency.</li>
      <li>Added YAML biblio format to table, and note on <span><code>pandoc-citeproc</code></span>’s <span><code>--bib2json</code></span> and <span><code>--bib2yaml</code></span> options (Nick
      Bart).</li>
      <li>Removed obsolete reference to <span><code>mods2yaml</code></span> (Nick Bart).</li>
      <li>Added section on syntax highlighting.</li>
      <li>Documented <span><code>toccolor</code></span>
      variable.</li>
      </ul></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-1.13.2.1-2015-04-15">
      <h2><a href="#pandoc-1.13.2.1-2015-04-15" aria-hidden="true"></a>pandoc 1.13.2.1 (2015-04-15)</h2>
      <ul>
      <li><p>Updated to build with ghc 7.10.1.</p></li>
      <li><p>Bumped package upper bounds for filepath, blaze-html,
      blaze-markup.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.13.2-2014-12-20">
      <h2><a href="#pandoc-1.13.2-2014-12-20" aria-hidden="true"></a>pandoc 1.13.2 (2014-12-20)</h2>
      <ul>
      <li><p>TWiki Reader: add new new twiki reader (API chaneg,
      Alexander Sulfrian).</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Better handling of paragraph in div (<a href="https://github.com/jgm/pandoc/issues/1591">#1591</a>).
      Previously text that ended a div would be parsed as Plain unless
      there was a blank line before the closing div tag.</li>
      <li>Don’t treat a citation as a reference link label (<a href="https://github.com/jgm/pandoc/issues/1763">#1763</a>).</li>
      <li>Fix autolinks with following punctuation (<a href="https://github.com/jgm/pandoc/issues/1811">#1811</a>). The
      price of this is that autolinked bare URIs can no longer contain
      <span><code>&gt;</code></span> characters, but this
      is not a big issue.</li>
      <li>Fix <span><code>Ext_lists_without_preceding_blankline</code></span>
      bug (<a href="https://github.com/jgm/pandoc/issues/1636">#1636</a>,
      Artyom).</li>
      <li>Allow <span><code>startnum</code></span> to
      work without <span><code>fancy_lists</code></span>.
      Formerly <span><code>pandoc -f markdown-fancy_lists+startnum</code></span>
      did not work properly.</li>
      </ul></li>
      <li><p>RST reader (all Daniel Bergey):</p>
      <ul>
      <li><p>Parse quoted literal blocks (<a href="https://github.com/jgm/pandoc/issues/65">#65</a>). RST
      quoted literal blocks are the same as indented literal blocks
      (which pandoc already supports) except that the quote character is
      preserved in each line.</p></li>
      <li><p>Parse RST class directives. The class directive accepts one
      or more class names, and creates a Div value with those classes.
      If the directive has an indented body, the body is parsed as the
      children of the Div. If not, the first block following the
      directive is made a child of the Div. This differs from the
      behavior of rst2xml, which does not create a Div element. Instead,
      the specified classes are applied to each child of the directive.
      However, most Pandoc Block constructors to not take an Attr
      argument, so we can’t duplicate this behavior.</p></li>
      <li><p>Warn about skipped directives.</p></li>
      <li><p>Literal role now produces Code. Code role should have
      “code” class.</p></li>
      <li><p>Improved support for custom roles</p>
      <ul>
      <li>Added <span><code>sourceCode</code></span> to
      classes for <span><code>:code:</code></span> role,
      and anything inheriting from it.</li>
      <li>Add the name of the custom role to classes if the Inline
      constructor supports Attr.</li>
      <li>If the custom role directive does not specify a parent role,
      inherit from the <span><code>:span:</code></span>
      role.</li>
      </ul>
      <p>This differs somewhat from the <span><code>rst2xml.py</code></span> behavior. If a
      custom role inherits from another custom role, Pandoc will attach
      both roles’ names as classes. <span><code>rst2xml.py</code></span> will only use the
      class of the directly invoked role (though in the case of
      inheriting from a <span><code>:code:</code></span>
      role with a <span><code>:language:</code></span>
      defined, it will also provide the inherited language as a
      class).</p></li>
      <li><p>Warn about ignored fields in role directives.</p></li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Parse label after caption into a span instead of inserting an
      additional paragraph of bracketed text (<a href="https://github.com/jgm/pandoc/issues/1747">#1747</a>).</li>
      <li>Parse math environments as inline when possible (<a href="https://github.com/jgm/pandoc/issues/1821">#1821</a>).</li>
      <li>Better handling of <span><code>\noindent</code></span> and <span><code>\greektext</code></span> (<a href="https://github.com/jgm/pandoc/issues/1783">#1783</a>).</li>
      <li>Handle <span><code>\texorpdfstring</code></span> more
      gracefully.</li>
      <li>Handle <span><code>\cref</code></span> and
      <span><code>\sep</code></span> (Wikiwide).</li>
      <li>Support <span><code>\smartcite</code></span>
      and <span><code>\Smartcite</code></span> from
      biblatex.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Retain display type of MathML output (<a href="https://github.com/jgm/pandoc/issues/1719">#1719</a>,
      Matthew Pickering).</li>
      <li>Recognise <span><code>&lt;br&gt;</code></span>
      tags inside <span><code>&lt;pre&gt;</code></span>
      blocks (<a href="https://github.com/jgm/pandoc/issues/1620">#1620</a>,
      Matthew Pickering).</li>
      <li>Make <span><code>embed</code></span> tag either
      block or inline (<a href="https://github.com/jgm/pandoc/issues/1756">#1756</a>).</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Handle <span><code>keycombo</code></span>,
      <span><code>keycap</code></span> (<a href="https://github.com/jgm/pandoc/issues/1815">#1815</a>).</li>
      <li>Get string content in inner tags for literal elements (<a href="https://github.com/jgm/pandoc/issues/1816">#1816</a>).</li>
      <li>Handle <span><code>menuchoice</code></span>
      elements better, with a <span><code>&gt;</code></span> between (<a href="https://github.com/jgm/pandoc/issues/1817">#1817</a>).</li>
      <li>Include <span><code>id</code></span> on section
      headers (<a href="https://github.com/jgm/pandoc/issues/1818">#1818</a>).</li>
      <li>Document/test “type” as implemented (Brian O’Sullivan).</li>
      <li>Add support for calloutlist and callout (Brian O’Sullivan). We
      treat a calloutlist as a bulleted list. This works well in
      practice.</li>
      <li>Add support for <span><code>classname</code></span> (Bryan
      O’Sullivan).</li>
      </ul></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Fix window path for image lookup (Jesse Rosenthal). Don’t use
      os-sensitive “combine”, since we always want the paths in our
      zip-archive to use forward-slashes.</li>
      <li>Single-item headers in ordered lists are headers (Jesse
      Rosenthal). When users number their headers, Word understands that
      as a single item enumerated list. We make the assumption that such
      a list is, in fact, a header.</li>
      <li>Rewrite rewriteLink to work with new headers (Jesse
      Rosenthal). There could be new top-level headers after making
      lists, so we have to rewrite links after that.</li>
      <li>Use polyglot header list (Jesse Rosenthal). We’re just keeping
      a list of header formats that different languages use as their
      default styles. At the moment, we have English, German, Danish,
      and French. We can continue to add to this. This is simpler than
      parsing the styles file, and perhaps less error-prone, since there
      seems to be some variations, even within a language, of how a
      style file will define headers.</li>
      <li>Remove header class properly in other langs (Jesse Rosenthal).
      When we encounter one of the polyglot header styles, we want to
      remove that from the par styles after we convert to a header. To
      do that, we have to keep track of the style name, and remove it
      appropriately.</li>
      <li>Account for external link URLs with anchors. Previously, if a
      URL had an anchor, the reader would incorrectly identify it as an
      internal link and return only the anchor as URL. (Caleb
      McDaniel)</li>
      <li>Fix for Issue <a href="https://github.com/jgm/pandoc/issues/1692">#1692</a> (i18n
      styles) (Nikolay Yakimov).</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li><p>Added state changing blanklines (Jesse Rosenthal). This
      allows us to emphasize at the beginning of a new paragraph (or, in
      general, after blank lines).</p></li>
      <li><p>Fixed bug with bulleted lists:</p>
      <ul>
      <li>a</li>
      <li>b</li>
      <li>c</li>
      </ul>
      <p>was being parsed as a list, even though an unindented <span><code>*</code></span> should make a heading. See <a href="https://orgmode.org/manual/Plain-lists.html#fn-1">http://orgmode.org/manual/Plain-lists.html#fn-1</a>.</p></li>
      <li><p>Org reader: absolute, relative paths in link (<a href="https://github.com/jgm/pandoc/issues/1741">#1741</a>, Albert
      Krewinkel). The org reader was too restrictive when parsing links;
      some relative links and links to files given as absolute paths
      were not recognized correctly.</p></li>
      <li><p>Org reader: allow empty links (jgm/gitit<a href="https://github.com/jgm/pandoc/issues/471">#471</a>, Albert
      Krewinkel). This is important for use in gitit, which uses empty
      links for wikilinks.</p></li>
      <li><p>Respect indent when parsing Org bullet lists (<a href="https://github.com/jgm/pandoc/issues/1650">#1650</a>,
      Timothy Humphries). Fixes issue with top-level bullet list
      parsing.</p></li>
      <li><p>Fix indent issue for definition lists (Timothy Humphries,
      see <a href="https://github.com/jgm/pandoc/issues/1650">#1650</a>,
      <a href="https://github.com/jgm/pandoc/issues/1698">#1698</a>, <a href="https://github.com/jgm/pandoc/issues/1680">#1680</a>).</p></li>
      <li><p>Parse multi-inline terms correctly in definition list (<a href="https://github.com/jgm/pandoc/issues/1649">#1649</a>,
      Matthew Pickering).</p></li>
      <li><p>Fix rules for emphasis recognition (Albert Krewinkel).
      Things like <span><code>/hello,/</code></span> or
      <span><code>/hi&#39;/</code></span> were falsy
      recognized as emphasised strings. This is wrong, as <span><code>,</code></span> and <span><code>&#39;</code></span> are forbidden border chars
      and may not occur on the inner border of emphasized text.</p></li>
      <li><p>Drop COMMENT document trees (Albert Krewinkel). Document
      trees under a header starting with the word <span><code>COMMENT</code></span> are comment trees and
      should not be exported. Those trees are dropped silently (<a href="https://github.com/jgm/pandoc/issues/1678">#1678</a>).</p></li>
      <li><p>Properly handle links to <span><code>file:target</code></span> (Albert Krewinkel).
      Org links like <span><code>[[file:target][title]]</code></span> were not
      handled correctly, parsing the link target verbatim. The org
      reader is changed such that the leading <span><code>file:</code></span> is dropped from the link
      target (see <a href="https://github.com/jgm/pandoc/issues/756">#756</a>, <a href="https://github.com/jgm/pandoc/issues/1812">#1812</a>).</p></li>
      <li><p>Parse LaTeX-style MathML entities (<a href="https://github.com/jgm/pandoc/issues/1657">#1657</a>, Albert
      Krewinkel). Org supports special symbols which can be included
      using LaTeX syntax, but are actually MathML entities. Examples for
      this are <span><code>\nbsp</code></span>
      (non-breaking space), <span><code>\Aacute</code></span> (the letter A with
      accent acute) or <span><code>\copy</code></span>
      (the copyright sign ©)</p></li>
      </ul></li>
      <li><p>EPUB reader:</p>
      <ul>
      <li>URI handling improvements. Now we outsource most of the work
      to <span><code>fetchItem&#39;</code></span>. Also, do
      not include queries in file extensions (<a href="https://github.com/jgm/pandoc/issues/1671">#1671</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use <span><code>\texorpdfstring</code></span>
      for section captions when needed (Vaclav Zeman).</li>
      <li>Handle consecutive linebreaks (<a href="https://github.com/jgm/pandoc/issues/1733">#1733</a>).</li>
      <li>Protect graphics in headers (Jesse Rosenthal). Graphics in
      <span><code>\section</code></span>/<span><code>\subsection</code></span> etc titles need to
      be <span><code>\protect</code></span>ed.</li>
      <li>Put <span><code>~</code></span> before header
      in list item text (Jesse Rosenthal). Because of the built-in line
      skip, LaTeX can’t handle a section header as the first element in
      a list item.</li>
      <li>Avoid using reserved characters as <span><code>\lstinline</code></span> delimiters (<a href="https://github.com/jgm/pandoc/issues/1595">#1595</a>).</li>
      <li>Better handling of display math in simple tables (<a href="https://github.com/jgm/pandoc/issues/1754">#1754</a>). We
      convert display math to inline math in simple tables, since LaTeX
      can’t deal with display math in simple tables.</li>
      <li>Escape spaces in code (<a href="https://github.com/jgm/pandoc/issues/1694">#1694</a>, Bjorn
      Buckwalter).</li>
      </ul></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Fixed links with URL = text. Previously these were rendered as
      bare words, even if the URL was not an absolute URL (<a href="https://github.com/jgm/pandoc/issues/1825">#1825</a>).</li>
      </ul></li>
      <li><p>ICML writer:</p>
      <ul>
      <li>Don’t force all citations into footnotes.</li>
      </ul></li>
      <li><p>RTF writer:</p>
      <ul>
      <li>Add blankline at end of output (<a href="https://github.com/jgm/pandoc/issues/1732">#1732</a>,
      Matthew Pickering).</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Ensure blank line after figure.</li>
      <li>Avoid excess whitespace after last list item (<a href="https://github.com/jgm/pandoc/issues/1777">#1777</a>).</li>
      <li>Wrap line blocks with spaces before continuations (<a href="https://github.com/jgm/pandoc/issues/1656">#1656</a>).</li>
      <li>Fixed double-rendering of footnotes in RST tables (<a href="https://github.com/jgm/pandoc/issues/1769">#1769</a>).</li>
      </ul></li>
      <li><p>DokuWiki writer:</p>
      <ul>
      <li>Better handling of block quotes. This change ensures that
      multiple paragraph blockquotes are rendered using native <span><code>&gt;</code></span> rather than as HTML (<a href="https://github.com/jgm/pandoc/issues/1738">#1738</a>).</li>
      <li>Fix external images (<a href="https://github.com/jgm/pandoc/issues/1739">#1739</a>).
      Preface relative links with “:”, absolute URIs without. (Timothy
      Humphries)</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Use protocol-relative URL for mathjax.</li>
      <li>Put newline btw img and caption paragraph.</li>
      <li>MathML now outputted with tex annotation (<a href="https://github.com/jgm/pandoc/issues/1635">#1635</a>,
      Matthew Pickering).</li>
      <li>Add support for KaTeX HTML math (<a href="https://github.com/jgm/pandoc/issues/1626">#1626</a>,
      Matthew Pickering). This adds <span><code>KaTeX</code></span> to <span><code>HTMLMathMethod</code></span> (API
      change).</li>
      <li>Don’t double render when <span><code>email-obfuscation=none</code></span> (<a href="https://github.com/jgm/pandoc/issues/1625">#1625</a>,
      Matthew Pickering).</li>
      <li>Make header attributes work outside top level (<a href="https://github.com/jgm/pandoc/issues/1711">#1711</a>).
      Previously they only appeared on top level header elements. Now
      they work e.g. in blockquotes.</li>
      </ul></li>
      <li><p>ODT writer:</p>
      <ul>
      <li>Correctly handle images without extensions (<a href="https://github.com/jgm/pandoc/issues/1729">#1729</a>).</li>
      <li>Strip querystring in ODT write (<a href="https://github.com/jgm/pandoc/issues/1682">#1682</a>, Todd
      Sifleet).</li>
      </ul></li>
      <li><p>FB2 writer:</p>
      <ul>
      <li>Add newline to output.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Don’t add <span><code>sourceURL</code></span>
      to absolute URIs (<a href="https://github.com/jgm/pandoc/issues/1669">#1669</a>).</li>
      <li>Don’t use unsupported <span><code>opf:title-type</code></span> for epub2.</li>
      <li>Include “landmarks” section in nav document for epub3 (<a href="https://github.com/jgm/pandoc/issues/1757">#1757</a>).</li>
      <li>Removed playOrder from navpoint elements in ncx file (<a href="https://github.com/jgm/pandoc/issues/1760">#1760</a>). These
      aren’t required, and they make manual modification of epubs
      difficult.</li>
      <li>Extract title even from structured title.</li>
      <li>Don’t include nav node in spine unless <span><code>--toc</code></span> was requested. Previously
      we included it in the spine with <span><code>linear=&#34;no&#34;</code></span>, leading to odd
      results in some readers (<a href="https://github.com/jgm/pandoc/issues/1593">#1593</a>).</li>
      <li>Fixed absolute URI detection (<a href="https://github.com/jgm/pandoc/issues/1672">#1672</a>).</li>
      <li>Correctly resolve relative URIs (<a href="https://github.com/jgm/pandoc/issues/1671">#1671</a>).</li>
      <li>Use regular page template for <span><code>nav.xhtml</code></span>, including doctype
      (<a href="https://github.com/jgm/pandoc/issues/1759">#1759</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Put docx table captions above tables (<a href="https://github.com/jgm/pandoc/issues/1641">#1641</a>,
      Nikolay Yakimov).</li>
      <li>Get the page width from the reference docx file, and use it to
      scale images that are too large to fit (Grégory Bataille).</li>
      <li>Partial fix for <a href="https://github.com/jgm/pandoc/issues/1607">#1607</a>
      (Nikolay Yakimov). International heading styles are inferred based
      on <span><code>&lt;w:name val=&#34;heading #&#34;&gt;</code></span>
      fallback, if there are no en-US “Heading#” styles</li>
      <li>Look in user data dir for archive <span><code>reference.docx</code></span>.</li>
      <li>Renumber header and footer relationships to avoid collisions
      (Jesse Rosenthal). We previously took the old relationship names
      of the headers and footer in secptr. That led to collisions. We
      now make a map of available names in the relationships file, and
      then rename in secptr.</li>
      </ul></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Add function toLabel (Mark Szepieniec). This function can be
      used to sanitize reference labels so that they do not contain any
      of the illegal characters #[]“,{}%()|= . Currently only Links have
      their labels sanitized, because they are the only Elements that
      use passed labels.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Moved import of <span><code>toChunks</code></span> outside of CPP
      conditional (<a href="https://github.com/jgm/pandoc/issues/1590">#1590</a>).</li>
      <li>Fix <span><code>inDirectory</code></span> to
      reset to the original directory in case an exception occurs
      (Freiric Barral).</li>
      </ul></li>
      <li><p>Templates:</p>
      <ul>
      <li><p>LaTeX template: load polyglossia before bibtex
      (jgm/pandoc-templates<a href="https://github.com/jgm/pandoc/issues/70">#70</a>). Thanks to
      bluebirch.</p></li>
      <li><p>LaTeX template: Added <span><code>\VerbatimFootnotes</code></span> if there is
      verbatim in notes (<a href="https://github.com/jgm/pandoc/issues/1616">#1616</a>).</p></li>
      <li><p>LaTeX template: Add shorthands=off to babel options (<a href="https://github.com/jgm/pandoc/issues/1648">#1648</a>).</p></li>
      <li><p>EPUB, EPUB3 templates: Added <span><code>id=&#34;cover&#34;</code></span> to body of cover
      page. This aids styling, making it possible for example to set 0
      margins on the title page (<a href="https://github.com/jgm/pandoc/issues/1758">#1758</a>).</p></li>
      <li><p>EPUB, EPUB3 templates: Handle structured metadata on
      titlepage. Previously we just expected ‘title’, ‘subtitle’,
      ‘author’, ‘date’. Now we still support those, but also support the
      format recommended for epub metadata in the pandoc README:</p>
      <hr/>
      <p>title:</p>
      <ul>
      <li>type: main text: My Book</li>
      <li>type: subtitle text: An investigation of metadata
      creator:</li>
      <li>role: author text: John Smith</li>
      <li>role: editor text: Sarah Jones identifier:</li>
      <li>scheme: DOI text: doi:10.234234.234/33 publisher: My Press
      rights: (c) 2007 John Smith, CC BY-NC …</li>
      </ul></li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Templates.getDefaultTemplate</code></span>:
      don’t fail when called with “fb2” (<a href="https://github.com/jgm/pandoc/issues/1660">#1660</a>).</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Fixed <span><code>inlineMath</code></span> so
      it handles <span><code>\text{..}</code></span>
      containing <span><code>$</code></span>. For
      example: <span><code>$x = \text{the $n$th root of $y$}</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/1677">#1677</a>).</li>
      <li>Change <span><code>parseFromString</code></span> to fail if not
      all input is consumed. (Matthew Pickering)</li>
      <li>Moved <span><code>addWarning</code></span> from
      Markdown reader to <span><code>Parsing</code></span>, so it can be used by
      more readers (API change, Daniel Bergey).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>:</p>
      <ul>
      <li>Improve performance of <span><code>realLength</code></span> (Matthew
      Pickering).</li>
      <li>Make CR + BLANKLINE = BLANKLINE. This fixes an extra blank
      line we were getting at the end of markdown fragments (as well as
      rst, org, etc.) (<a href="https://github.com/jgm/pandoc/issues/1705">#1705</a>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.MIME</code></span>:</p>
      <ul>
      <li>Add mime type for WebVTT (Jason Ronallo).</li>
      <li>Changed mime type for <span><code>otf</code></span> to <span><code>application/vnd.ms-opentype</code></span> (<a href="https://github.com/jgm/pandoc/issues/1761">#1761</a>). This
      is needed for epub3 validation.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.MediaBag</code></span>:</p>
      <ul>
      <li>Fix Windows specific path problems (<a href="https://github.com/jgm/pandoc/issues/1597">#1597</a>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Make <span><code>collapseFilePath</code></span>
      OS-agnostic (Matthew Pickering).</li>
      </ul></li>
      <li><p>Link the test suite using <span><code>-threaded</code></span>. This allows the test
      suite to be run using <span><code>+RTS -N</code></span>.</p></li>
      <li><p>Added <span><code>network</code></span>
      dependency under <span><code>network-uri</code></span> flag in test
      section.</p></li>
      <li><p>Give better error messages when someone tries to convert
      from pdf, doc, odt (<a href="https://github.com/jgm/pandoc/issues/1683">#1683</a>).</p></li>
      <li><p>Added <span><code>track</code></span> to
      list of tags treated by <span><code>--self-contained</code></span> (<a href="https://github.com/jgm/pandoc/issues/1664">#1664</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-1.13.1-2014-08-30">
      <h2><a href="#pandoc-1.13.1-2014-08-30" aria-hidden="true"></a>pandoc 1.13.1 (2014-08-30)</h2>
      <ul>
      <li><p>Fixed <span><code>--self-contained</code></span> with Windows
      paths (<a href="https://github.com/jgm/pandoc/issues/1558">#1558</a>).
      Previously <span><code>C:\foo.js</code></span> was
      being wrongly interpreted as a URI.</p></li>
      <li><p>HTML reader: improved handling of tags that can be block or
      inline. Previously a section like this would be enclosed in a
      paragraph, with RawInline for the video tags (since video is a tag
      that can be either block or inline):</p>
      <pre><code>&lt;video controls=&#34;controls&#34;&gt;
   &lt;source src=&#34;../videos/test.mp4&#34; type=&#34;video/mp4&#34; /&gt;
   &lt;source src=&#34;../videos/test.webm&#34; type=&#34;video/webm&#34; /&gt;
   &lt;p&gt;
      The videos can not be played back on your system.&lt;br/&gt;
      Try viewing on Youtube (requires Internet connection):
      &lt;a href=&#34;http://youtu.be/etE5urBps_w&#34;&gt;Relative Velocity on
Youtube&lt;/a&gt;.
   &lt;/p&gt;
&lt;/video&gt;</code></pre>
      <p>This change will cause the video and source tags to be parsed
      as RawBlock instead, giving better output. The general change is
      this: when we’re parsing a “plain” sequence of inlines, we don’t
      parse anything that COULD be a block-level tag.</p></li>
      <li><p>Docx reader:</p>
      <ul>
      <li>Be sensitive to user styles. Note that “Hyperlink” is
      “blacklisted,” as we don’t want the default underline styling to
      be inherited by all links by default (Jesse Rosenthal).</li>
      <li>Read single paragraph in table cell as <span><code>Plain</code></span> (Jesse Rosenthal). This
      makes to docx reader’s native output fit with the way the markdown
      reader understands its markdown output.</li>
      </ul></li>
      <li><p>Txt2Tags reader:</p>
      <ul>
      <li>Header is now parsed only if standalone flag is set (Matthew
      Pickering).</li>
      <li>The header is now parsed as meta information. The first line
      is the <span><code>title</code></span>, the second
      is the <span><code>author</code></span> and third
      line is the <span><code>date</code></span> (Matthew
      Pickering).</li>
      <li>Corrected formatting of <span><code>%%mtime</code></span> macro (Matthew
      Pickering).</li>
      <li>Fixed crash when reading from stdin.</li>
      </ul></li>
      <li><p>Textile writer: Extended the range of cases where native
      textile tables will be used (as opposed to raw HTML): we now
      handle any alignment type, but only for simple tables with no
      captions.</p></li>
      <li><p>EPUB writer: Don’t use page-progression-direction in EPUB2,
      which doesn’t support it. Also, if page-progression-direction not
      specified in metadata, don’t include the attribute even in EPUB3;
      not including it is the same as including it with the value
      “default”, as we did before. (<a href="https://github.com/jgm/pandoc/issues/1550">#1550</a>)</p></li>
      <li><p>Org writer: Accept example lines with indentation at the
      beginning (Calvin Beck).</p></li>
      <li><p>DokuWiki writer:</p>
      <ul>
      <li>Refactor to use Reader monad (Matthew Pickering).</li>
      <li>Avoid using raw HTML in table cells; instead, use <span><code>\\</code></span> instead of newlines (Jesse
      Rosenthal).</li>
      <li>Properly handle HTML table cell alignments, and use spacing to
      make the tables look prettier (<a href="https://github.com/jgm/pandoc/issues/1566">#1566</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Bibliography entries get <span><code>Bibliography</code></span> style (<a href="https://github.com/jgm/pandoc/issues/1559">#1559</a>).</li>
      <li>Implement change tracking (Jesse Rosenthal).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Fixed a bug that caused a table caption to repeat across all
      pages (Jose Luis Duran).</li>
      <li>Improved vertical spacing in tables and made it customizable
      using standard lengths set by booktab. See <a href="https://groups.google.com/forum/#!msg/pandoc-discuss/qMu6_5lYy0o/ZAU7lzAIKw0J">https://groups.google.com/forum/#!msg/pandoc-discuss/qMu6_5lYy0o/ZAU7lzAIKw0J</a>
      (Jose Luis Duran).</li>
      <li>Added <span><code>\strut</code></span> to fix
      spacing in multiline tables (Jose Luis Duran).</li>
      <li>Use <span><code>\tabularnewline</code></span>
      instead of <span><code>\\</code></span> in table
      cells (Jose Luis Duran).</li>
      <li>Made horizontal rules more flexible (Jose Luis Duran).</li>
      </ul></li>
      <li><p>Text.Pandoc.MIME:</p>
      <ul>
      <li>Added <span><code>MimeType</code></span> (type
      synonym for <span><code>String</code></span>) and
      <span><code>getMimeTypeDef</code></span>. Code
      cleanups (Artyom Kazak).</li>
      </ul></li>
      <li><p>Templates:</p>
      <ul>
      <li>LaTeX template: disable microtype protrusion for typewriter
      font (<a href="https://github.com/jgm/pandoc/issues/1549">#1549</a>, thanks
      lemzwerg).</li>
      </ul></li>
      <li><p>Improved OSX build procedure.</p></li>
      <li><p>Added <span><code>network-uri</code></span>
      flag, to deal with split of <span><code>network-uri</code></span> from <span><code>network</code></span>.</p></li>
      <li><p>Fix build dependencies for the <span><code>trypandoc</code></span> flag, so that they
      are ignored if <span><code>trypandoc</code></span>
      flag is set to False (Gabor Pali).</p></li>
      <li><p>Updated README to remove outdated claim that <span><code>--self-contained</code></span> looks in the
      user data directory for missing files.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.13.0.1-2014-08-17">
      <h2><a href="#pandoc-1.13.0.1-2014-08-17" aria-hidden="true"></a>pandoc 1.13.0.1 (2014-08-17)</h2>
      <ul>
      <li><p>Docx writer:</p>
      <ul>
      <li>Fixed regression which bungled list numbering (<a href="https://github.com/jgm/pandoc/issues/1544">#1544</a>),
      causing all lists to appear as basic ordered lists.</li>
      <li>Include row width in table rows (Christoffer Ackelman, Viktor
      Kronvall). Added a property to all table rows where the sum of
      column widths is specified in pct (fraction of 5000). This helps
      persuade Word to lay out the table with the widths we
      specify.</li>
      </ul></li>
      <li><p>Fixed a bug in Windows 8 which caused pandoc not to find
      the <span><code>pandoc-citeproc</code></span>
      filter (<a href="https://github.com/jgm/pandoc/issues/1542">#1542</a>).</p></li>
      <li><p>Docx reader: miscellaneous under-the-hood improvements
      (Jesse Rosenthal). Most significantly, the reader now uses
      Builder, leading to some performance improvements.</p></li>
      <li><p>HTML reader: Parse appropriately styled span as
      SmallCaps.</p></li>
      <li><p>Markdown writer: don’t escape <span><code>$</code></span>, <span><code>^</code></span>, <span><code>~</code></span> when <span><code>tex_math_dollars</code></span>, <span><code>superscript</code></span>, and <span><code>subscript</code></span> extensions,
      respectively, are deactivated (<a href="https://github.com/jgm/pandoc/issues/1127">#1127</a>).</p></li>
      <li><p>Added <span><code>trypandoc</code></span>
      flag to build CGI executable used in the online demo.</p></li>
      <li><p>Makefile: Added ‘quick’, ‘osxpkg’ targets.</p></li>
      <li><p>Updated README in templates to indicate templates license.
      The templates are dual-licensed, BSD3 and GPL2+.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.13-15-august-2014">
      <h2><a href="#pandoc-1.13-15-august-2014" aria-hidden="true"></a>pandoc 1.13 (15 August 2014)</h2>
      <section id="new-features-3">
      <h3><a href="#new-features-3" aria-hidden="true"></a>New features</h3>
      <ul>
      <li><p>Added <span><code>docx</code></span> as an
      input format (Jesse Rosenthal). The docx reader includes
      conversion of native Word equations to pandoc LaTeX <span><code>Math</code></span> elements. Metadata is
      taken from paragraphs at the beginning of the document with styles
      <span><code>Author</code></span>, <span><code>Title</code></span>, <span><code>Subtitle</code></span>, <span><code>Date</code></span>, and <span><code>Abstract</code></span>.</p></li>
      <li><p>Added <span><code>epub</code></span> as an
      input format (Matthew Pickering). The epub reader includes
      conversion of MathML to pandoc LaTeX <span><code>Math</code></span> elements.</p></li>
      <li><p>Added <span><code>t2t</code></span>
      (Txt2Tags) as an input format (Matthew Pickering). Txt2tags is a
      lightweight markup format described at <a href="http://txt2tags.org/">http://txt2tags.org/</a>.</p></li>
      <li><p>Added <span><code>dokuwiki</code></span> as
      an output format (Clare Macrae).</p></li>
      <li><p>Added <span><code>haddock</code></span> as
      an output format.</p></li>
      <li><p>Added <span><code>--extract-media</code></span> option to
      extract media contained in a zip container (docx or epub) while
      adjusting image paths to point to the extracted images.</p></li>
      <li><p>Added a new markdown extension, <span><code>compact_definition_lists</code></span>, that
      restores the syntax for definition lists of pandoc 1.12.x,
      allowing tight definition lists with no blank space between items,
      and disallowing lazy wrapping. (See below under behavior
      changes.)</p></li>
      <li><p>Added an extension <span><code>epub_html_exts</code></span> for parsing HTML
      in EPUBs.</p></li>
      <li><p>Added extensions <span><code>native_spans</code></span> and <span><code>native_divs</code></span> to activate parsing
      of material in HTML span or div tags as Pandoc Span inlines or Div
      blocks.</p></li>
      <li><p><span><code>--trace</code></span> now works
      with the Markdown, HTML, Haddock, EPUB, Textile, and MediaWiki
      readers. This is an option intended for debugging parsing
      problems; ordinary users should not need to use it.</p></li>
      </ul>
      </section>
      <section id="behavior-changes-3">
      <h3><a href="#behavior-changes-3" aria-hidden="true"></a>Behavior changes</h3>
      <ul>
      <li><p>Changed behavior of the <span><code>markdown_attribute</code></span> extension,
      to bring it in line with PHP markdown extra and multimarkdown.
      Setting <span><code>markdown=&#34;1&#34;</code></span> on
      an outer tag affects all contained tags, recursively, until it is
      reversed with <span><code>markdown=&#34;0&#34;</code></span> (<a href="https://github.com/jgm/pandoc/issues/1378">#1378</a>).</p></li>
      <li><p>Revised markdown definition list syntax (<a href="https://github.com/jgm/pandoc/issues/1429">#1429</a>). Both
      the reader and writer are affected. This change brings pandoc’s
      definition list syntax into alignment with that used in PHP
      markdown extra and multimarkdown (with the exception that pandoc
      is more flexible about the definition markers, allowing tildes as
      well as colons). Lazily wrapped definitions are now allowed. Blank
      space is required between list items. The space before a
      definition is used to determine whether it is a paragraph or a
      “plain” element. <strong>WARNING: This change may break existing
      documents!</strong> Either check your documents for definition
      lists without blank space between items, or use <span><code>markdown+compact_definition_lists</code></span>
      for the old behavior.</p></li>
      <li><p><span><code>.numberLines</code></span> now
      works in fenced code blocks even if no language is given (<a href="https://github.com/jgm/pandoc/issues/1287">#1287</a>,
      jgm/highlighting-kate<a href="https://github.com/jgm/pandoc/issues/40">#40</a>).</p></li>
      <li><p>Improvements to <span><code>--filter</code></span>:</p>
      <ul>
      <li>Don’t search PATH for a filter with an explicit path. This
      fixed a bug wherein <span><code>--filter ./caps.py</code></span> would run
      <span><code>caps.py</code></span> from the system
      path, even if there was a <span><code>caps.py</code></span> in the working
      directory.</li>
      <li>Respect shebang if filter is executable (<a href="https://github.com/jgm/pandoc/issues/1389">#1389</a>).</li>
      <li>Don’t print misleading error message. Previously pandoc would
      say that a filter was not found, even in a case where the filter
      had a syntax error.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Parse <span><code>div</code></span> and <span><code>span</code></span> elements even without
      <span><code>--parse-raw</code></span>, provided
      <span><code>native_divs</code></span> and <span><code>native_spans</code></span> extensions are
      set. Motivation: these now generate native pandoc Div and Span
      elements, not raw HTML.</li>
      <li>Parse EPUB-specific elements if the <span><code>epub_html_exts</code></span> extension is
      enabled. These include <span><code>switch</code></span>, <span><code>footnote</code></span>, <span><code>rearnote</code></span>, <span><code>noteref</code></span>.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Support for inline LaTeX. Inline LaTeX is now accepted and
      parsed by the org-mode reader. Both math symbols (like <span><code>\tau</code></span>) and LaTeX commands (like
      <span><code>\cite{Coffee}</code></span>), can be
      used without any further escaping (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Textile reader and writer:</p>
      <ul>
      <li>The <span><code>raw_tex</code></span> extension
      is no longer set by default. You can enable it with <span><code>textile+raw_tex</code></span>.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Support <span><code>equation</code></span>,
      <span><code>informalequation</code></span>, <span><code>inlineequation</code></span> elements with
      <span><code>mml:math</code></span> content. This is
      converted into LaTeX and put into a Pandoc Math inline.</li>
      </ul></li>
      <li><p>Revised <span><code>plain</code></span>
      output, largely following the style of Project Gutenberg:</p>
      <ul>
      <li>Emphasis is rendered with <span><code>_underscores_</code></span>, strong emphasis
      with ALL CAPS.</li>
      <li>Headings are rendered differently, with space to set them off,
      not with setext style underlines. Level 1 headers are ALL
      CAPS.</li>
      <li>Math is rendered using unicode when possible, but without the
      distracting emphasis markers around variables.</li>
      <li>Footnotes use a regular <span><code>[n]</code></span> style.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Horizontal rules are now a line across the whole page.</li>
      <li>Prettier pipe tables. Columns are now aligned (<a href="https://github.com/jgm/pandoc/issues/1323">#1323</a>).</li>
      <li>Respect the <span><code>raw_html</code></span>
      extension. <span><code>pandoc -t markdown-raw_html</code></span> no
      longer emits any raw HTML, including span and div tags generated
      by Span and Div elements.</li>
      <li>Use span with style for <span><code>SmallCaps</code></span> (<a href="https://github.com/jgm/pandoc/issues/1360">#1360</a>).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Autolinks now have class <span><code>uri</code></span>, and email autolinks have
      class <span><code>email</code></span>, so they can
      be styled.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Document formatting is carried over from <span><code>reference.docx</code></span>. This includes
      margins, page size, page orientation, header, and footer,
      including images in headers and footers.</li>
      <li>Include abstract (if present) with <span><code>Abstract</code></span> style (<a href="https://github.com/jgm/pandoc/issues/1451">#1451</a>).</li>
      <li>Include subtitle (if present) with <span><code>Subtitle</code></span> style, rather than
      tacking it on to the title (<a href="https://github.com/jgm/pandoc/issues/1451">#1451</a>).</li>
      </ul></li>
      <li><p>Org writer:</p>
      <ul>
      <li>Write empty span elements with an id attribute as org anchors.
      For example <span><code>Span (&#34;uid&#34;,[],[]) []</code></span> becomes
      <span><code>&lt;&lt;uid&gt;&gt;</code></span>.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Put table captions above tables, to match the conventional
      standard. (Previously they appeared below tables.)</li>
      <li>Use <span><code>\(..\)</code></span> instead of
      <span><code>$..$</code></span> for inline math (<a href="https://github.com/jgm/pandoc/issues/1464">#1464</a>).</li>
      <li>Use <span><code>\nolinkurl</code></span> in
      email autolinks. This allows them to be styled using <span><code>\urlstyle{tt}</code></span>. Thanks to Ulrike
      Fischer for the solution.</li>
      <li>Use <span><code>\textquotesingle</code></span>
      for <span><code>&#39;</code></span> in inline code.
      Otherwise we get curly quotes in the PDF output (<a href="https://github.com/jgm/pandoc/issues/1364">#1364</a>).</li>
      <li>Use <span><code>\footnote&lt;.&gt;{..}</code></span> for
      notes in beamer, so that footnotes do not appear before the
      overlays in which their markers appear (<a href="https://github.com/jgm/pandoc/issues/1525">#1525</a>).</li>
      <li>Don’t produce a <span><code>\label{..}</code></span> for a Div or Span
      element. Do produce a <span><code>\hyperdef{..}</code></span> (<a href="https://github.com/jgm/pandoc/issues/1519">#1519</a>).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>If the metadata includes <span><code>page-progression-direction</code></span>
      (which can be <span><code>ltr</code></span> or
      <span><code>rtl</code></span>, the <span><code>page-progression-direction</code></span>
      attribute will be set in the EPUB spine (<a href="https://github.com/jgm/pandoc/issues/1455">#1455</a>).</li>
      </ul></li>
      <li><p>Custom lua writers:</p>
      <ul>
      <li>Custom writers now work with <span><code>--template</code></span>.</li>
      <li>Removed HTML header scaffolding from <span><code>sample.lua</code></span>.</li>
      <li>Made citation information available in lua writers.</li>
      </ul></li>
      <li><p><span><code>--normalize</code></span> and
      <span><code>Text.Pandoc.Shared.normalize</code></span>
      now consolidate adjacent <span><code>RawBlock</code></span>s when
      possible.</p></li>
      </ul>
      </section>
      <section id="api-changes-3">
      <h3><a href="#api-changes-3" aria-hidden="true"></a>API changes</h3>
      <ul>
      <li><p>Added <span><code>Text.Pandoc.Readers.Docx</code></span>,
      exporting <span><code>readDocx</code></span> (Jesse
      Rosenthal).</p></li>
      <li><p>Added <span><code>Text.Pandoc.Readers.EPUB</code></span>,
      exporting <span><code>readEPUB</code></span>
      (Matthew Pickering).</p></li>
      <li><p>Added <span><code>Text.Pandoc.Readers.Txt2Tags</code></span>,
      exporting <span><code>readTxt2Tags</code></span>
      (Matthew Pickering).</p></li>
      <li><p>Added <span><code>Text.Pandoc.Writers.DokuWiki</code></span>,
      exporting <span><code>writeDokuWiki</code></span>
      (Clare Macrae).</p></li>
      <li><p>Added <span><code>Text.Pandoc.Writers.Haddock</code></span>,
      exporting <span><code>writeHaddock</code></span>.</p></li>
      <li><p>Added <span><code>Text.Pandoc.MediaBag</code></span>, exporting
      <span><code>MediaBag</code></span>, <span><code>lookupMedia</code></span>, <span><code>insertMedia</code></span>, <span><code>mediaDirectory</code></span>, <span><code>extractMediaBag</code></span>. The docx and
      epub readers return a pair of a <span><code>Pandoc</code></span> document and a <span><code>MediaBag</code></span> with the media
      resources they contain. This can be extracted using <span><code>--extract-media</code></span>. Writers that
      incorporate media (PDF, Docx, ODT, EPUB, RTF, or HTML formats with
      <span><code>--self-contained</code></span>) will
      look for resources in the <span><code>MediaBag</code></span> generated by the
      reader, in addition to the file system or web.</p></li>
      <li><p><span><code>Text.Pandoc.Readers.TexMath</code></span>:
      Removed deprecated <span><code>readTeXMath</code></span>. Renamed <span><code>readTeXMath&#39;</code></span> to <span><code>texMathToInlines</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc</code></span>: Added
      <span><code>Reader</code></span> data type (Matthew
      Pickering). <span><code>readers</code></span> now
      associates names of readers with <span><code>Reader</code></span> structures. This allows
      inclusion of readers, like the docx reader, that take binary
      rather than textual input.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Added <span><code>capitalize</code></span>
      (Artyom Kazak), and replaced uses of <span><code>map toUpper</code></span> (which give bad
      results for many languages).</li>
      <li>Added <span><code>collapseFilePath</code></span>, which removes
      intermediate <span><code>.</code></span> and <span><code>..</code></span> from a path (Matthew
      Pickering).</li>
      <li>Added <span><code>fetchItem&#39;</code></span>,
      which works like <span><code>fetchItem</code></span> but searches a <span><code>MediaBag</code></span> before looking on the
      net or file system.</li>
      <li>Added <span><code>withTempDir</code></span>.</li>
      <li>Added <span><code>removeFormatting</code></span>.</li>
      <li>Added <span><code>extractSpaces</code></span>
      (from HTML reader) and generalized its type so that it can be used
      by the docx reader (Matthew Pickering).</li>
      <li>Added <span><code>ordNub</code></span>.</li>
      <li>Added <span><code>normalizeInlines</code></span>, <span><code>normalizeBlocks</code></span>.</li>
      <li><span><code>normalize</code></span> is now
      <span><code>Pandoc -&gt; Pandoc</code></span>
      instead of <span><code>Data a :: a -&gt; a</code></span>. Some users
      may need to change their uses of <span><code>normalize</code></span> to the newly exported
      <span><code>normalizeInlines</code></span> or <span><code>normalizeBlocks</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>:</p>
      <ul>
      <li>Added <span><code>writerMediaBag</code></span>
      to <span><code>WriterOptions</code></span>.</li>
      <li>Removed deprecated and no longer used <span><code>readerStrict</code></span> in <span><code>ReaderOptions</code></span>. This is handled
      by <span><code>readerExtensions</code></span>
      now.</li>
      <li>Added <span><code>Ext_compact_definition_lists</code></span>.</li>
      <li>Added <span><code>Ext_epub_html_exts</code></span>.</li>
      <li>Added <span><code>Ext_native_divs</code></span>
      and <span><code>Ext_native_spans</code></span>.
      This allows users to turn off the default pandoc behavior of
      parsing contents of div and span tags in markdown and HTML as
      native pandoc Div blocks and Span inlines.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Generalized <span><code>readWith</code></span>
      to <span><code>readWithM</code></span> (Matthew
      Pickering).</li>
      <li>Export <span><code>runParserT</code></span> and
      <span><code>Stream</code></span> (Matthew
      Pickering).</li>
      <li>Added <span><code>HasQuoteContext</code></span>
      type class (Matthew Pickering).</li>
      <li>Generalized types of <span><code>mathInline</code></span>, <span><code>smartPunctuation</code></span>, <span><code>quoted</code></span>, <span><code>singleQuoted</code></span>, <span><code>doubleQuoted</code></span>, <span><code>failIfInQuoteContext</code></span>, <span><code>applyMacros</code></span> (Matthew
      Pickering).</li>
      <li>Added custom <span><code>token</code></span>
      (Matthew Pickering).</li>
      <li>Added <span><code>stateInHtmlBlock</code></span> to <span><code>ParserState</code></span>. This is used to
      keep track of the ending tag we’re waiting for when we’re parsing
      inside HTML block tags.</li>
      <li>Added <span><code>stateMarkdownAttribute</code></span> to <span><code>ParserState</code></span>. This is used to
      keep track of whether the markdown attribute has been set in an
      enclosing tag.</li>
      <li>Generalized type of <span><code>registerHeader</code></span>, using new type
      classes <span><code>HasReaderOptions</code></span>,
      <span><code>HasIdentifierList</code></span>, <span><code>HasHeaderMap</code></span> (Matthew
      Pickering). These allow certain common functions to be reused even
      in parsers that use custom state (instead of <span><code>ParserState</code></span>), such as the
      MediaWiki reader.</li>
      <li>Moved <span><code>inlineMath</code></span>,
      <span><code>displayMath</code></span> from Markdown
      reader to Parsing, and generalized their types (Matthew
      Pickering).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>:</p>
      <ul>
      <li>Added <span><code>nestle</code></span>.</li>
      <li>Added <span><code>blanklines</code></span>,
      which guarantees a certain number of blank lines (and no
      more).</li>
      </ul></li>
      </ul>
      </section>
      <section id="bug-fixes-1">
      <h3><a href="#bug-fixes-1" aria-hidden="true"></a>Bug fixes</h3>
      <ul>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fixed parsing of indented code in list items. Indented code at
      the beginning of a list item must be indented eight spaces from
      the margin (or edge of the container), or four spaces from the
      list marker, whichever is greater.</li>
      <li>Fixed small bug in HTML parsing with <span><code>markdown_attribute</code></span>, which
      caused incorrect tag nesting for input like <span><code>&lt;aside markdown=&#34;1&#34;&gt;*hi*&lt;/aside&gt;</code></span>.</li>
      <li>Fixed regression with intraword underscores (<a href="https://github.com/jgm/pandoc/issues/1121">#1121</a>).</li>
      <li>Improved parsing of inline links containing quote characters
      (<a href="https://github.com/jgm/pandoc/issues/1534">#1534</a>).</li>
      <li>Slight rewrite of <span><code>enclosure</code></span>/<span><code>emphOrStrong</code></span> code.</li>
      <li>Revamped raw HTML block parsing in markdown (<a href="https://github.com/jgm/pandoc/issues/1330">#1330</a>). We no
      longer include trailing spaces and newlines in the raw blocks. We
      look for closing tags for elements (but without backtracking).
      Each block-level tag is its own <span><code>RawBlock</code></span>; we no longer try to
      consolidate them (though <span><code>--normalize</code></span> will do so).</li>
      <li>Combine consecutive latex environments. This helps when you
      have two minipages which can’t have blank lines between them (<a href="https://github.com/jgm/pandoc/issues/690">#690</a>, <a href="https://github.com/jgm/pandoc/issues/1196">#1196</a>).</li>
      <li>Support smallcaps through span. <span><code>&lt;span style=&#34;font-variant:small-caps;&#34;&gt;foo&lt;/span&gt;</code></span>
      will be parsed as a <span><code>SmallCaps</code></span> inline, and will work
      in all output formats that support small caps (<a href="https://github.com/jgm/pandoc/issues/1360">#1360</a>).</li>
      <li>Prevent spurious line breaks after list items (<a href="https://github.com/jgm/pandoc/issues/1137">#1137</a>). When
      the <span><code>hard_line_breaks</code></span>
      option was specified, pandoc would formerly produce a spurious
      line break after a tight list item.</li>
      <li>Fixed table parsing bug (<a href="https://github.com/jgm/pandoc/issues/1333">#1333</a>).</li>
      <li>Handle <span><code>c++</code></span> and <span><code>objective-c</code></span> as language
      identifiers in github-style fenced blocks (<a href="https://github.com/jgm/pandoc/issues/1318">#1318</a>).</li>
      <li>Inline math must have nonspace before final <span><code>$</code></span> (<a href="https://github.com/jgm/pandoc/issues/1313">#1313</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Handle comments at the end of tables. This resolves the issue
      illustrated in <a href="https://stackoverflow.com/questions/24009489">http://stackoverflow.com/questions/24009489</a>.</li>
      <li>Correctly handle table rows with too few cells. LaTeX seems to
      treat them as if they have empty cells at the end (<a href="https://github.com/jgm/pandoc/issues/241">#241</a>).</li>
      <li>Handle leading/trailing spaces in <span><code>\emph</code></span> better. <span><code>\emph{ hi }</code></span> gets parsed as
      <span><code>[Space, Emph [Str &#34;hi&#34;], Space]</code></span>
      so that we don’t get things like <span><code>* hi *</code></span> in markdown output. Also
      applies to <span><code>textbf</code></span> and
      some other constructions (<a href="https://github.com/jgm/pandoc/issues/1146">#1146</a>).</li>
      <li>Don’t assume preamble doesn’t contain environments (<a href="https://github.com/jgm/pandoc/issues/1338">#1338</a>).</li>
      <li>Allow (and discard) optional argument for <span><code>\caption</code></span> (James Aspnes).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Fixed major parsing problem with HTML tables. Table cells were
      being combined into one cell (<a href="https://github.com/jgm/pandoc/issues/1341">#1341</a>).</li>
      <li>Fixed performance issue with malformed HTML tables. We let a
      <span><code>&lt;/table&gt;</code></span> tag close
      an open <span><code>&lt;tr&gt;</code></span> or
      <span><code>&lt;td&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/1167">#1167</a>).</li>
      <li>Allow space between <span><code>&lt;col&gt;</code></span> and <span><code>&lt;/col&gt;</code></span>.</li>
      <li>Added <span><code>audio</code></span> and <span><code>source</code></span> in <span><code>eitherBlockOrInline</code></span>.</li>
      <li>Moved <span><code>video</code></span>, <span><code>svg</code></span>, <span><code>progress</code></span>, <span><code>script</code></span>, <span><code>noscript</code></span>, <span><code>svg</code></span> from <span><code>blockTags</code></span> to <span><code>eitherBlockOrInline</code></span>.</li>
      <li><span><code>map</code></span> and <span><code>object</code></span> were mistakenly in both
      lists; they have been removed from <span><code>blockTags</code></span>.</li>
      <li>Ignore <span><code>DOCTYPE</code></span> and
      <span><code>xml</code></span> declarations.</li>
      </ul></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Don’t parse backslash escapes inside <span><code>&lt;source&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/1445">#1445</a>).</li>
      <li>Tightened up template parsing. The opening <span><code>{{</code></span> must be followed by an
      alphanumeric or <span><code>:</code></span>. This
      prevents the exponential slowdown in <a href="https://github.com/jgm/pandoc/issues/1033">#1033</a>.</li>
      <li>Support “Bild” for images.</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Better handle elements inside code environments. Pandoc’s
      document model does not allow structure inside code blocks, but at
      least this way we preserve the text (<a href="https://github.com/jgm/pandoc/issues/1449">#1449</a>).</li>
      <li>Support <span><code>&lt;?asciidoc-br?&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/1236">#1236</a>).</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Fixed list parsing. Lists can now start without an intervening
      blank line (<a href="https://github.com/jgm/pandoc/issues/1513">#1513</a>).</li>
      <li>HTML block-level tags that do not start a line are parsed as
      inline HTML and do not interrupt paragraphs (as in RedCloth).</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Make tildes create inline code (<a href="https://github.com/jgm/pandoc/issues/1345">#1345</a>). Also
      relabeled <span><code>code</code></span> and <span><code>verbatim</code></span> parsers to accord with
      the org-mode manual.</li>
      <li>Respect <span><code>:exports</code></span>
      header argument in code blocks (Craig Bosma).</li>
      <li>Fixed tight lists with sublists (<a href="https://github.com/jgm/pandoc/issues/1437">#1437</a>).</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Avoid excess whitespace in <span><code>nav.xhtml</code></span>. This should improve
      TOC view in iBooks (<a href="https://github.com/jgm/pandoc/issues/1392">#1392</a>).</li>
      <li>Fixed regression on cover image. In 1.12.4 and 1.12.4.2, the
      cover image would not appear properly, because the metadata id was
      not correct. Now we derive the id from the actual cover image
      filename, which we preserve rather than using “cover-image.”</li>
      <li>Keep newlines between block elements. This allows easier
      diff-ability (<a href="https://github.com/jgm/pandoc/issues/1424">#1424</a>).</li>
      <li>Use <span><code>stringify</code></span> instead
      of custom <span><code>plainify</code></span>.</li>
      <li>Use <span><code>renderTags&#39;</code></span> for
      all tag rendering. This properly handles tags that should be
      self-closing. Previously <span><code>&lt;hr/&gt;</code></span> would appear in
      EPUB output as <span><code>&lt;hr&gt;&lt;/hr&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/1420">#1420</a>).</li>
      <li>Better handle HTML media tags.</li>
      <li>Handle multiple dates with OPF <span><code>event</code></span> attributes. Note: in
      EPUB3 we can have only one dc:date, so only the first one is
      used.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Correctly handle figures in notes. Notes can’t contain figures
      in LaTeX, so we fake it to avoid an error (<a href="https://github.com/jgm/pandoc/issues/1053">#1053</a>).</li>
      <li>Fixed strikeout + highlighted code (<a href="https://github.com/jgm/pandoc/issues/1294">#1294</a>).
      Previously strikeout highlighted code caused an error.</li>
      </ul></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Improved detection of autolinks with URLs containing
      escapes.</li>
      </ul></li>
      <li><p>RTF writer:</p>
      <ul>
      <li>Improved image embedding: <span><code>fetchItem&#39;</code></span> is now used to get
      the images, and calculated image sizes are indicated in the
      RTF.</li>
      <li>Avoid extra paragraph tags in metadata (<a href="https://github.com/jgm/pandoc/issues/1421">#1421</a>).</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Deactivate “incremental” inside slide speaker notes (<a href="https://github.com/jgm/pandoc/issues/1394">#1394</a>).</li>
      <li>Don’t include empty items in the table of contents for slide
      shows. (These would result from creating a slide using a
      horizontal rule.)</li>
      </ul></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Minor renaming of <span><code>st</code></span>
      prefixed names.</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Double up emphasis and strong emphasis markers in intraword
      contexts, as required by asciidoc (<a href="https://github.com/jgm/pandoc/issues/1441">#1441</a>).</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Avoid wrapping that might start a list, blockquote, or header
      (<a href="https://github.com/jgm/pandoc/issues/1013">#1013</a>).</li>
      <li>Use Span instead of (hackish) <span><code>SmallCaps</code></span> in <span><code>plainify</code></span>.</li>
      <li>Don’t use braced attributes for fenced code (<a href="https://github.com/jgm/pandoc/issues/1416">#1416</a>). If
      <span><code>Ext_fenced_code_attributes</code></span> is
      not set, the first class attribute will be printed after the
      opening fence as a bare word.</li>
      <li>Separate adjacent lists of the same kind with an HTML comment
      (<a href="https://github.com/jgm/pandoc/issues/1458">#1458</a>).</li>
      </ul></li>
      <li><p>PDF writer:</p>
      <ul>
      <li>Fixed treatment of data uris for images (<a href="https://github.com/jgm/pandoc/issues/1062">#1062</a>).</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Use Compact style for empty table cells (<a href="https://github.com/jgm/pandoc/issues/1353">#1353</a>).
      Otherwise we get overly tall lines when there are empty table
      cells and the other cells are compact.</li>
      <li>Create overrides per-image for <span><code>media/</code></span> in reference docx. This
      should be somewhat more robust and cover more types of
      images.</li>
      <li>Improved <span><code>entryFromArchive</code></span> to avoid an
      unneeded parse.</li>
      <li>Section numbering carries over from reference.docx (<a href="https://github.com/jgm/pandoc/issues/1305">#1305</a>).</li>
      <li>Simplified <span><code>abstractNumId</code></span> numbering.
      Instead of sequential numbering, we assign numbers based on the
      list marker styles.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>:</p>
      <ul>
      <li>Removed <span><code>Ext_fenced_code_attributes</code></span> from
      <span><code>markdown_github</code></span>
      extensions.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>:</p>
      <ul>
      <li>Use default instead of failing if image size not found in exif
      header (<a href="https://github.com/jgm/pandoc/issues/1358">#1358</a>).</li>
      <li>ignore unknown exif header tag rather than crashing. Some
      images seem to have tag type of 256, which was causing a runtime
      error.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li><span><code>fetchItem</code></span>: unescape
      URI encoding before reading local file (<a href="https://github.com/jgm/pandoc/issues/1427">#1427</a>).</li>
      <li><span><code>fetchItem</code></span>: strip a
      fragment like <span><code>?#iefix</code></span>
      from the extension before doing mime lookup, to improve mime type
      guessing.</li>
      <li>Improved logic of <span><code>fetchItem</code></span>: absolute URIs are
      fetched from the net; other things are treated as relative URIs if
      <span><code>sourceURL</code></span> is <span><code>Just _</code></span>, otherwise as file paths
      on the local file system.</li>
      <li><span><code>fetchItem</code></span> now
      properly handles links without a protocol (<a href="https://github.com/jgm/pandoc/issues/1477">#1477</a>).</li>
      <li><span><code>fetchItem</code></span> now escapes
      characters not allowed in URIs before trying to parse the
      URIs.</li>
      <li>Fixed runtime error with <span><code>compactify&#39;DL</code></span> on certain lists
      (<a href="https://github.com/jgm/pandoc/issues/1452">#1452</a>).</li>
      </ul></li>
      <li><p><span><code>pandoc.hs</code></span>: Don’t
      strip path off of <span><code>writerSourceURL</code></span>: the path is
      needed to resolve relative URLs when we fetch resources (<a href="https://github.com/jgm/pandoc/issues/750">#750</a>).</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span></p>
      <ul>
      <li>Simplified <span><code>dash</code></span> and
      <span><code>ellipsis</code></span> (<a href="https://github.com/jgm/pandoc/issues/1419">#1419</a>).</li>
      <li>Removed <span><code>(&gt;&gt;~)</code></span>
      in favor of the equivalent <span><code>(&lt;*)</code></span> (Matthew
      Pickering).</li>
      <li>Generalized functions to use <span><code>ParsecT</code></span> (Matthew
      Pickering).</li>
      <li>Added <span><code>isbn</code></span> and <span><code>pmid</code></span> to list of recognized
      schemes (Matthew Pickering).</li>
      </ul></li>
      </ul>
      </section>
      <section id="template-changes-1">
      <h3><a href="#template-changes-1" aria-hidden="true"></a>Template changes</h3>
      <ul>
      <li>Added haddock template.</li>
      <li>EPUB3: Added <span><code>type</code></span>
      attribute to <span><code>link</code></span> tags.
      They are supposed to be “advisory” in HTML5, but kindlegen seems
      to require them.</li>
      <li>EPUB3: Put title page in section with <span><code>epub:type=&#34;titlepage&#34;</code></span>.</li>
      <li>LaTeX: Made <span><code>\subtitle</code></span>
      work properly (<a href="https://github.com/jgm/pandoc/issues/1327">#1327</a>).</li>
      <li>LaTeX/Beamer: remove conditional around date (<a href="https://github.com/jgm/pandoc/issues/1321">#1321</a>).</li>
      <li>LaTeX: Added <span><code>lot</code></span> and
      <span><code>lof</code></span> variables, which can
      be set to get <span><code>\listoftables</code></span> and <span><code>\listoffigures</code></span> (<a href="https://github.com/jgm/pandoc/issues/1407">#1407</a>). Note
      that these variables can be set at the command line with <span><code>-Vlot -Vlof</code></span> or in YAML
      metadata.</li>
      </ul>
      </section>
      <section id="under-the-hood-improvements-1">
      <h3><a href="#under-the-hood-improvements-1" aria-hidden="true"></a>Under the hood improvements</h3>
      <ul>
      <li><p>Rewrote normalize for efficiency (<a href="https://github.com/jgm/pandoc/issues/1385">#1385</a>).</p></li>
      <li><p>Rewrote Haddock reader to use <span><code>haddock-library</code></span> (<a href="https://github.com/jgm/pandoc/issues/1346">#1346</a>).</p>
      <ul>
      <li>This brings pandoc’s rendering of haddock markup in line with
      the new haddock.</li>
      <li>Fixed line breaks in <span><code>@</code></span> code blocks.</li>
      <li>alex and happy are no longer build-depends.</li>
      </ul></li>
      <li><p>Added <span><code>Text.Pandoc.Compat.Directory</code></span> to
      allow building against different versions of the <span><code>directory</code></span> library.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Compat.Except</code></span> to
      allow building against different versions of <span><code>mtl</code></span>.</p></li>
      <li><p>Code cleanup in some writers, using Reader monad to avoid
      passing options parameter around (Matej Kollar).</p></li>
      <li><p>Improved readability in <span><code>pandoc.hs</code></span>.</p></li>
      <li><p>Miscellaneous code cleanups (Artyom Kazak).</p></li>
      <li><p>Avoid <span><code>import Prelude hiding (catch)</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/1309">#1309</a>,
      thanks to Michael Thompson).</p></li>
      <li><p>Changed <span><code>http-conduit</code></span> flag to <span><code>https</code></span>. Depend on <span><code>http-client</code></span> and <span><code>http-client-tls</code></span> instead of
      <span><code>http-conduit</code></span>. (Note:
      pandoc still depends on <span><code>conduit</code></span> via <span><code>yaml</code></span>.)</p></li>
      <li><p>Require <span><code>highlighting-kate &gt;= 0.5.8.5</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/1271">#1271</a>, <a href="https://github.com/jgm/pandoc/issues/1317">#1317</a>, Debian
      <a href="https://github.com/jgm/pandoc/issues/753299">#753299</a>).
      This change to highlighting-kate means that PHP fragments no
      longer need to start with <span><code>&lt;?php</code></span>. It also fixes a
      serious bug causing failures with ocaml and fsharp.</p></li>
      <li><p>Require latest <span><code>texmath</code></span>. This fixes <span><code>\tilde{E}</code></span> and allows <span><code>\left</code></span> to be used with <span><code>]</code></span>, <span><code>)</code></span> etc. (<a href="https://github.com/jgm/pandoc/issues/1319">#1319</a>), among
      many other improvements.</p></li>
      <li><p>Require latest <span><code>zip-archive</code></span>. This has fixes for
      unicode path names.</p></li>
      <li><p>Added tests for plain writer.</p></li>
      <li><p><span><code>Text.Pandoc.Templates</code></span>:</p>
      <ul>
      <li>Fail informatively on template syntax errors. With the move
      from parsec to attoparsec, we lost good error reporting. In fact,
      since we weren’t testing for end of input, malformed templates
      would fail silently. Here we revert back to Parsec for better
      error messages.</li>
      <li>Use <span><code>ordNub</code></span> (<a href="https://github.com/jgm/pandoc/issues/1022">#1022</a>).</li>
      </ul></li>
      <li><p>Benchmarks:</p>
      <ul>
      <li>Made benchmarks compile again (Artyom Kazak).</li>
      <li>Fixed so that the failure of one benchmark does not prevent
      others from running (Artyom Kazak).</li>
      <li>Use <span><code>nfIO</code></span> instead of
      the <span><code>getLength</code></span> trick to
      force full evaluation.</li>
      <li>Changed benchmark to use only the test suite, so that
      benchmarks run more quickly.</li>
      </ul></li>
      <li><p>Windows build script:</p>
      <ul>
      <li>Add <span><code>-windows</code></span> to file
      name.</li>
      <li>Use one install command for pandoc, pandoc-citeproc.</li>
      <li>Force install of pandoc-citeproc.</li>
      </ul></li>
      <li><p><span><code>make_osx_package</code></span>:
      Call zip file <span><code>pandoc-VERSION-osx.zip</code></span>. The zip
      should not be named <span><code>SOMETHING.pkg.zip</code></span>, or OSX
      finder will extract it into a folder named <span><code>SOMETHING.pkg</code></span>, which it will
      interpret as a defective package (<a href="https://github.com/jgm/pandoc/issues/1308">#1308</a>).</p></li>
      <li><p><span><code>README</code></span>:</p>
      <ul>
      <li>Made headers for all extensions so they have IDs and can be
      linked to (Beni Cherniavsky-Paskin).</li>
      <li>Fixed typos (Phillip Alday).</li>
      <li>Fixed documentation of attributes (<a href="https://github.com/jgm/pandoc/issues/1315">#1315</a>).</li>
      <li>Clarified documentation on small caps (<a href="https://github.com/jgm/pandoc/issues/1360">#1360</a>).</li>
      <li>Better documentation for <span><code>fenced_code_attributes</code></span>
      extension (Caleb McDaniel).</li>
      <li>Documented fact that you can put YAML metadata in a separate
      file (<a href="https://github.com/jgm/pandoc/issues/1412">#1412</a>).</li>
      </ul></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-1.12.4.2-2014-05-14">
      <h2><a href="#pandoc-1.12.4.2-2014-05-14" aria-hidden="true"></a>pandoc 1.12.4.2 (2014-05-14)</h2>
      <ul>
      <li><p>Require highlighting-kate &gt;= 0.5.8. Fixes a performance
      regression.</p></li>
      <li><p>Shared: <span><code>addMetaValue</code></span> now behaves
      slightly differently: if both the new and old values are lists, it
      concatenates their contents to form a new list.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Set <span><code>bibliography</code></span> in
      metadata from <span><code>\bibliography</code></span> or <span><code>\addbibresource</code></span> command.</li>
      <li>Don’t error on <span><code>%foo</code></span>
      with no trailing newline.</li>
      </ul></li>
      <li><p>Org reader:</p>
      <ul>
      <li>Support code block headers (<span><code>#+BEGIN_SRC ...</code></span>) (Albert
      Krewinkel).</li>
      <li>Fix parsing of blank lines within blocks (Albert
      Krewinkel).</li>
      <li>Support pandoc citation extension (Albert Krewinkel). This can
      be turned off by specifying <span><code>org-citation</code></span> as the input
      format.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li><span><code>citeKey</code></span> moved to
      <span><code>Text.Pandoc.Parsing</code></span> so it
      can be used by other readers (Albert Krewinkel).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Added <span><code>citeKey</code></span> (see
      above).</li>
      <li>Added <span><code>HasLastStrPosition</code></span> type class
      and <span><code>updateLastStrPos</code></span> and
      <span><code>notAfterString</code></span>
      functions.</li>
      </ul></li>
      <li><p>Updated copyright notices (Albert Krewinkel).</p></li>
      <li><p>Added default.icml to data files so it installs with the
      package.</p></li>
      <li><p>OSX package:</p>
      <ul>
      <li>The binary is now built with options to ensure that it can be
      used with OSX 10.6+.</li>
      <li>Moved OSX package materials to osx directory.</li>
      <li>Added OSX package uninstall script, included in the zip
      container (thanks to Daniel T. Staal).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-1.12.4-2014-05-07">
      <h2><a href="#pandoc-1.12.4-2014-05-07" aria-hidden="true"></a>pandoc 1.12.4 (2014-05-07)</h2>
      <ul>
      <li><p>Made it possible to run filters that aren’t executable (<a href="https://github.com/jgm/pandoc/issues/1096">#1096</a>).
      Pandoc first tries to find the executable (searching the path if
      path isn’t given). If it fails, but the file exists and has a
      <span><code>.py</code></span>, <span><code>.pl</code></span>, <span><code>.rb</code></span>, <span><code>.hs</code></span>, or <span><code>.php</code></span> extension, pandoc runs the
      filter using the appropriate interpreter. This should make it
      easier to use filters on Windows, and make it more convenient for
      everyone.</p></li>
      <li><p>Added Emacs org-mode reader (Albert Krewinkel).</p></li>
      <li><p>Added InDesign ICML Writer (mb21).</p></li>
      <li><p>MediaWiki reader:</p>
      <ul>
      <li>Accept image links in more languages (Jaime Marquínez
      Ferrándiz).</li>
      <li>Fixed bug in certain nested lists (<a href="https://github.com/jgm/pandoc/issues/1213">#1213</a>). If a
      level 2 list was followed by a level 1 list, the first item of the
      level 1 list would be lost.</li>
      <li>Handle table rows containing just an HTML comment (<a href="https://github.com/jgm/pandoc/issues/1230">#1230</a>).</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Give better location information on errors, pointing to line
      numbers within included files (<a href="https://github.com/jgm/pandoc/issues/1274">#1274</a>).</li>
      <li>LaTeX reader: Better handling of <span><code>table</code></span> environment (<a href="https://github.com/jgm/pandoc/issues/1204">#1204</a>).
      Positioning options no longer rendered verbatim.</li>
      <li>Better handling of figure and table with caption (<a href="https://github.com/jgm/pandoc/issues/1204">#1204</a>).</li>
      <li>Handle <span><code>@{}</code></span> and <span><code>p{length}</code></span> in tabular. The
      length is not actually recorded, but at least we get a table (<a href="https://github.com/jgm/pandoc/issues/1180">#1180</a>).</li>
      <li>Properly handle <span><code>\nocite</code></span>. It now adds a <span><code>nocite</code></span> metadata field.
      Citations there will appear in the bibliography but not in the
      text (unless you explicitly put a <span><code>$nocite$</code></span> variable in your
      template).</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Ensure that whole numbers in YAML metadata are rendered
      without decimal points. (This became necessary with changes to
      aeson and yaml libraries. aeson &gt;= 0.7 and yaml &gt;= 0.8.8.2
      are now required.)</li>
      <li>Fixed regression on line breaks in strict mode (<a href="https://github.com/jgm/pandoc/issues/1203">#1203</a>).</li>
      <li>Small efficiency improvements.</li>
      <li>Improved parsing of nested <span><code>div</code></span>s. Formerly a closing <span><code>div</code></span> tag would be missed if it
      came right after other block-level tags.</li>
      <li>Avoid backtracking when closing <span><code>&lt;/div&gt;</code></span> not found.</li>
      <li>Fixed bug in reference link parsing in <span><code>markdown_mmd</code></span>.</li>
      <li>Fixed a bug in list parsing (<a href="https://github.com/jgm/pandoc/issues/1154">#1154</a>). When
      reading a raw list item, we now strip off up to 4 spaces.</li>
      <li>Fixed parsing of empty reference link definitions (<a href="https://github.com/jgm/pandoc/issues/1186">#1186</a>).</li>
      <li>Made one-column pipe tables work (<a href="https://github.com/jgm/pandoc/issues/1218">#1218</a>).</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Better support for attributes. Instead of being ignored,
      attributes are now parsed and included in Span inlines. The output
      will be a bit different from stock textile: e.g. for <span><code>*(foo)hi*</code></span>, we’ll get <span><code>&lt;em&gt;&lt;span class=&#34;foo&#34;&gt;hi&lt;/span&gt;&lt;/em&gt;</code></span>
      instead of <span><code>&lt;em class=&#34;foo&#34;&gt;hi&lt;/em&gt;</code></span>.
      But at least the data is not lost.</li>
      <li>Improved treatment of HTML spans (%) (<a href="https://github.com/jgm/pandoc/issues/1115">#1115</a>).</li>
      <li>Improved link parsing. In particular we now pick up on
      attributes. Since pandoc links can’t have attributes, we enclose
      the whole link in a span if there are attributes (<a href="https://github.com/jgm/pandoc/issues/1008">#1008</a>).</li>
      <li>Implemented correct parsing rules for inline markup (<a href="https://github.com/jgm/pandoc/issues/1175">#1175</a>,
      Matthew Pickering).</li>
      <li>Use Builder (Matthew Pickering).</li>
      </ul></li>
      <li><p>DocBook reader:</p>
      <ul>
      <li>Better treatment of <span><code>formalpara</code></span>. We now emit the
      title (if present) as a separate paragraph with boldface text (<a href="https://github.com/jgm/pandoc/issues/1215">#1215</a>).</li>
      <li>Set metadata <span><code>author</code></span>
      not <span><code>authors</code></span>.</li>
      <li>Added recognition of <span><code>authorgroup</code></span> and <span><code>releaseinfo</code></span> elements (<a href="https://github.com/jgm/pandoc/issues/1214">#1214</a>,
      Matthew Pickering).</li>
      <li>Converted current meta information parsing in DocBook to a
      more extensible version which is aware of the more recent meta
      representation (Matthew Pickering).</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Require tagsoup 0.13.1, to fix a bug with parsing of script
      tags (<a href="https://github.com/jgm/pandoc/issues/1248">#1248</a>).</li>
      <li>Treat processing instructions &amp; declarations as block.
      Previously these were treated as inline, and included in paragraph
      tags in HTML or DocBook output, which is generally not what is
      wanted (<a href="https://github.com/jgm/pandoc/issues/1233">#1233</a>).</li>
      <li>Updated <span><code>closes</code></span> with
      rules from HTML5 spec.</li>
      <li>Use Builder (Matthew Pickering, <a href="https://github.com/jgm/pandoc/issues/1162">#1162</a>).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Remove duplicate <span><code>http</code></span>
      in PEP links (Albert Krewinkel).</li>
      <li>Make rst figures true figures (<a href="https://github.com/jgm/pandoc/issues/1168">#1168</a>,
      CasperVector)</li>
      <li>Enhanced Pandoc’s support for rST roles (Merijn Verstaaten).
      rST parser now supports: all built-in rST roles, new role
      definition, role inheritance, though with some limitations.</li>
      <li>Use <span><code>author</code></span> rather
      than <span><code>authors</code></span> in
      metadata.</li>
      <li>Better handling of directives. We now correctly handle field
      lists that are indented more than three spaces. We treat an <span><code>aafig</code></span> directive as a code block
      with attributes, so it can be processed in a filter (<a href="https://github.com/jgm/pandoc/issues/1212">#1212</a>).</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Mark span contents with label if span has an ID (Albert
      Krewinkel).</li>
      <li>Made <span><code>--toc-depth</code></span> work
      well with books in latex/pdf output (<a href="https://github.com/jgm/pandoc/issues/1210">#1210</a>).</li>
      <li>Handle line breaks in simple table cells (<a href="https://github.com/jgm/pandoc/issues/1217">#1217</a>).</li>
      <li>Workaround for level 4-5 headers in quotes. These previously
      produced invalid LaTeX: <span><code>\paragraph</code></span> or <span><code>\subparagraph</code></span> in a <span><code>quote</code></span> environment. This adds an
      <span><code>mbox{}</code></span> in these contexts
      to work around the problem. See <a href="https://tex.stackexchange.com/a/169833/22451">http://tex.stackexchange.com/a/169833/22451</a> (<a href="https://github.com/jgm/pandoc/issues/1221">#1221</a>).</li>
      <li>Use <span><code>\/</code></span> to avoid
      en-dash ligature instead of <span><code>-{}-</code></span> (Vaclav Zeman). This is to
      fix LuaLaTeX output. The <span><code>-{}-</code></span> sequence does not avoid
      the ligature with LuaLaTeX but <span><code>\/</code></span> does.</li>
      <li>Fixed string escaping in <span><code>hyperref</code></span> and <span><code>hyperdef</code></span> (<a href="https://github.com/jgm/pandoc/issues/1130">#1130</a>).</li>
      </ul></li>
      <li><p>ConTeXt writer: Improved autolinks (<a href="https://github.com/jgm/pandoc/issues/1270">#1270</a>).</p></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Improve handling of hard line breaks in Docbook writer (Neil
      Mayhew). Use a <span><code>&lt;literallayout&gt;</code></span> for the
      entire paragraph, not just for the newline character.</li>
      <li>Don’t let line breaks inside footnotes influence the enclosing
      paragraph (Neil Mayhew).</li>
      <li>Distinguish tight and loose lists in DocBook output, using
      <span><code>spacing=&#34;compact&#34;</code></span> (Neil
      Mayhew, <a href="https://github.com/jgm/pandoc/issues/1250">#1250</a>).</li>
      </ul></li>
      <li><p>Docx writer: When needed files are not present in the
      user’s <span><code>reference.docx</code></span>,
      fall back on the versions in the <span><code>reference.docx</code></span> in pandoc’s data
      files. This fixes a bug that occurs when a <span><code>reference.docx</code></span> saved by
      LibreOffice is used. (<a href="https://github.com/jgm/pandoc/issues/1185">#1185</a>)</p></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Include extension in epub ids. This fixes a problem with
      duplicate extensions for fonts and images with the same base name
      but different extensions (<a href="https://github.com/jgm/pandoc/issues/1254">#1254</a>).</li>
      <li>Handle files linked in raw <span><code>img</code></span> tags (<a href="https://github.com/jgm/pandoc/issues/1170">#1170</a>).</li>
      <li>Handle media in <span><code>audio</code></span>
      source tags (<a href="https://github.com/jgm/pandoc/issues/1170">#1170</a>). Note
      that we now use a <span><code>media</code></span>
      directory rather than <span><code>images</code></span>.</li>
      <li>Incorporate files linked in <span><code>video</code></span> tags (<a href="https://github.com/jgm/pandoc/issues/1170">#1170</a>). <span><code>src</code></span> and <span><code>poster</code></span> will both be
      incorporated into <span><code>content.opf</code></span> and the epub
      container.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Add colgroup around col tags (<a href="https://github.com/jgm/pandoc/issues/877">#877</a>). Also
      affects EPUB writer.</li>
      <li>Fixed bug with unnumbered section headings. Unnumbered section
      headings (with class <span><code>unnumbered</code></span>) were getting
      numbers.</li>
      <li>Improved detection of image links. Previously image links with
      queries were not recognized, causing <span><code>&lt;embed&gt;</code></span> to be used
      instead of <span><code>&lt;img&gt;</code></span>.</li>
      </ul></li>
      <li><p>Man writer: Ensure that terms in definition lists aren’t
      line wrapped (<a href="https://github.com/jgm/pandoc/issues/1195">#1195</a>).</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Use proper escapes to avoid unwanted lists (<a href="https://github.com/jgm/pandoc/issues/980">#980</a>).
      Previously we used 0-width spaces, an ugly hack.</li>
      <li>Use longer backtick fences if needed (<a href="https://github.com/jgm/pandoc/issues/1206">#1206</a>). If
      the content contains a backtick fence and there are attributes,
      make sure longer fences are used to delimit the code. Note: This
      works well in pandoc, but github markdown is more limited, and
      will interpret the first string of three or more backticks as
      ending the code block.</li>
      </ul></li>
      <li><p>RST writer: Avoid stack overflow with certain tables (<a href="https://github.com/jgm/pandoc/issues/1197">#1197</a>).</p></li>
      <li><p>RTF writer: Fixed table cells containing
      paragraphs.</p></li>
      <li><p>Custom writer:</p>
      <ul>
      <li>Correctly handle UTF-8 in custom lua scripts (<a href="https://github.com/jgm/pandoc/issues/1189">#1189</a>).</li>
      <li>Fix bugs with lua scripts with mixed-case filenames and paths
      containing <span><code>+</code></span> or <span><code>-</code></span> (<a href="https://github.com/jgm/pandoc/issues/1267">#1267</a>). Note
      that <span><code>getWriter</code></span> in <span><code>Text.Pandoc</code></span> no longer returns a
      custom writer on input <span><code>foo.lua</code></span>.</li>
      </ul></li>
      <li><p>AsciiDoc writer: Handle multiblock and empty table cells
      (<a href="https://github.com/jgm/pandoc/issues/1245">#1245</a>, <a href="https://github.com/jgm/pandoc/issues/1246">#1246</a>). Added
      tests.</p></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>: Added
      <span><code>readerTrace</code></span> to <span><code>ReaderOptions</code></span></p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Added <span><code>compactify&#39;DL</code></span>
      (formerly in markdown reader) (Albert Krewinkel).</li>
      <li>Fixed bug in <span><code>toRomanNumeral</code></span>: numbers ending
      with ‘9’ would be rendered as Roman numerals ending with ‘IXIV’
      (<a href="https://github.com/jgm/pandoc/issues/1249">#1249</a>).
      Thanks to Jesse Rosenthal.</li>
      <li><span><code>openURL</code></span>: set proxy
      with value of http_proxy env variable (<a href="https://github.com/jgm/pandoc/issues/1211">#1211</a>). Note:
      proxies with non-root paths are not supported, due to limitations
      in <span><code>http-conduit</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.PDF</code></span>:</p>
      <ul>
      <li>Ensure that temp directories deleted on Windows (<a href="https://github.com/jgm/pandoc/issues/1192">#1192</a>). The
      PDF is now read as a strict bytestring, ensuring that process
      ownership will be terminated, so the temp directory can be
      deleted.</li>
      <li>Use <span><code>/</code></span> as path
      separators in a few places, even on Windows. This seems to be
      necessary for texlive (<a href="https://github.com/jgm/pandoc/issues/1151">#1151</a>, thanks
      to Tim Lin).</li>
      <li>Use <span><code>;</code></span> for <span><code>TEXINPUTS</code></span> separator on Windows
      (<a href="https://github.com/jgm/pandoc/issues/1151">#1151</a>).</li>
      <li>Changes to error reporting, to handle non-UTF8 error
      output.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Templates</code></span>:</p>
      <ul>
      <li><p>Removed unneeded datatype context (Merijn
      Verstraaten).</p></li>
      <li><p>YAML objects resolve to “true” in conditionals (<a href="https://github.com/jgm/pandoc/issues/1133">#1133</a>). Note:
      If <span><code>address</code></span> is a YAML
      object and you just have <span><code>$address$</code></span> in your template, the
      word <span><code>true</code></span> will appear,
      which may be unexpected. (Previously nothing would
      appear.)</p></li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.SelfContained</code></span>:
      Handle <span><code>poster</code></span> attribute
      in <span><code>video</code></span> tags (<a href="https://github.com/jgm/pandoc/issues/1188">#1188</a>).</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Made <span><code>F</code></span> an instance of
      Applicative (<a href="https://github.com/jgm/pandoc/issues/1138">#1138</a>).</li>
      <li>Added <span><code>stateCaption</code></span>.</li>
      <li>Added <span><code>HasMacros</code></span>,
      simplified other typeclasses. Removed <span><code>updateHeaderMap</code></span>, <span><code>setHeaderMap</code></span>, <span><code>getHeaderMap</code></span>, <span><code>updateIdentifierList</code></span>, <span><code>setIdentifierList</code></span>, <span><code>getIdentifierList</code></span>.</li>
      <li>Changed the smart punctuation parser to return <span><code>Inlines</code></span> rather than <span><code>Inline</code></span> (Matthew
      Pickering).</li>
      <li>Changed <span><code>HasReaderOptions</code></span>, <span><code>HasHeaderMap</code></span>, <span><code>HasIdentifierList</code></span> from
      typeclasses of monads to typeclasses of states. This simplifies
      the instance definitions and provides more flexibility.
      Generalized type of <span><code>getOption</code></span> and added a default
      definition. Removed <span><code>askReaderOption</code></span>. Added <span><code>extractReaderOption</code></span>. Added
      <span><code>extractHeaderMap</code></span> and
      <span><code>updateHeaderMap</code></span> in <span><code>HasHeaderMap</code></span>. Gave default
      definitions for <span><code>getHeaderMap</code></span>, <span><code>putHeaderMap</code></span>, <span><code>modifyHeaderMap</code></span>. Added <span><code>extractIdentifierList</code></span> and <span><code>updateIdentifierList</code></span> in <span><code>HasIdentifierList</code></span>. Gave
      defaults for <span><code>getIdentifierList</code></span>, <span><code>putIdentifierList</code></span>, and <span><code>modifyIdentifierList</code></span>. The
      ultimate goal here is to allow different parsers to use their own,
      tailored parser states (instead of <span><code>ParserState</code></span>) while still using
      shared functions.</li>
      </ul></li>
      <li><p>Template changes:</p>
      <ul>
      <li>LaTeX template: Use <span><code>fontenc</code></span> package only with <span><code>pdflatex</code></span> (<a href="https://github.com/jgm/pandoc/issues/1164">#1164</a>).</li>
      <li>LaTeX template: Add <span><code>linestretch</code></span> and <span><code>fontfamily</code></span> variables.</li>
      <li>LaTeX template: Conditionalize author and date commands.</li>
      <li>Beamer template: Consistent styles for figure and table
      captions (aaronwolen).</li>
      <li>LaTeX and beamer template: Adjust widths correctly for
      oversized images. Use <span><code>\setkeys{Gin}{}</code></span> to set
      appropriate defaults for <span><code>\includegraphics</code></span> (Yihui Xie,
      Garrick Aden-Buie). Load <span><code>upquote</code></span> only after <span><code>fontenc</code></span> (Yihui Xie).</li>
      <li>Beamer template: Added caption package (<a href="https://github.com/jgm/pandoc/issues/1200">#1200</a>).</li>
      <li>Beamer template: changes for better unicode handling
      (KarolS).</li>
      <li>DocBook template: use <span><code>authorgroup</code></span> if there are
      authors.</li>
      <li>revealjs template: Move <span><code>include-after</code></span> to end
      (certainlyakey).</li>
      <li>revealjs template: Fixed PDF print function (<a href="https://github.com/jgm/pandoc/issues/1220">#1220</a>,
      kevinkenan).</li>
      </ul></li>
      <li><p>Bumped version bounds of dependencies.</p></li>
      <li><p>Added a <span><code>--trace</code></span>
      command line option, for debugging backtracking bugs. So far this
      only works with the markdown reader.</p></li>
      <li><p>MathMLinHTML: Fixed deprecation warning (<a href="https://github.com/jgm/pandoc/issues/362">#362</a>, gwern,
      Albert Krewinkel).</p></li>
      <li><p>Updated travis script to test with multiple GHC
      versions.</p></li>
      <li><p>Force failure of a Travis build if GHC produces warnings
      (Albert Krewinkel).</p></li>
      <li><p>Add <span><code>.editorconfig</code></span>
      (Albert Krewinkel). See <a href="https://editorconfig.org/">http://editorconfig.org/</a> for details.</p></li>
      <li><p>Give more useful error message if ‘-t pdf’ is specified (<a href="https://github.com/jgm/pandoc/issues/1155">#1155</a>).</p></li>
      <li><p>Added <span><code>Cite</code></span>, <span><code>SmallCaps</code></span> to <span><code>Arbitrary</code></span> instance (<a href="https://github.com/jgm/pandoc/issues/1269">#1269</a>).</p></li>
      <li><p>Allow <span><code>html4</code></span> as a
      synonym of <span><code>html</code></span> as a
      reader (it already works as a writer).</p></li>
      <li><p>README:</p>
      <ul>
      <li>Added an explanation of how to use YAML metadata to force
      items to appear in the bibliography without citations in the text
      (like LaTeX <span><code>\nocite</code></span>).</li>
      <li>Added note to <span><code>--bibtex/--natbib</code></span>: not for use
      in making PDF (<a href="https://github.com/jgm/pandoc/issues/1194">#1194</a>, thanks
      to nahoj).</li>
      <li>Added explanatory notes about <span><code>--natbib</code></span> and <span><code>--biblatex</code></span>.</li>
      <li>Added specification of legal syntax for citation keys.</li>
      <li>Fixed variable defaults documentation (Albert Krewinkel).</li>
      </ul></li>
      <li><p>Removed copyright statements for files that have been
      removed (Albert Krewinkel).</p></li>
      <li><p>Moved some doc files from <span><code>data-files</code></span> to <span><code>extra-source-files</code></span> (<a href="https://github.com/jgm/pandoc/issues/1123">#1123</a>). They
      aren’t needed at runtime. We keep README and COPYRIGHT in data to
      ensure that they’ll be available on all systems on which pandoc is
      installed.</p></li>
      <li><p>Use cabal sandboxes in Windows build script.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.12.3.3-2014-02-03">
      <h2><a href="#pandoc-1.12.3.3-2014-02-03" aria-hidden="true"></a>pandoc 1.12.3.3 (2014-02-03)</h2>
      <ul>
      <li>To changes to source; recompiled tarball with latest alex and
      happy, so they will work with GHC 7.8.</li>
      </ul>
      </section>
      <section id="pandoc-1.12.3.2-2014-02-03">
      <h2><a href="#pandoc-1.12.3.2-2014-02-03" aria-hidden="true"></a>pandoc 1.12.3.2 (2014-02-03)</h2>
      <ul>
      <li><p>Bumped version bounds for blaze-html,
      blaze-markup.</p></li>
      <li><p>ImageSize: Avoid use of lookAhead, which is not in binary
      &gt;= 0.6 (<a href="https://github.com/jgm/pandoc/issues/1124">#1124</a>).</p></li>
      <li><p>Fixed mediawiki ordered list parsing (<a href="https://github.com/jgm/pandoc/issues/1122">#1122</a>).</p></li>
      <li><p>HTML reader: Fixed bug reading inline math with <span><code>$$</code></span> (<a href="https://github.com/jgm/pandoc/issues/225">#225</a>).</p></li>
      <li><p>Added support for LaTeX style literate Haskell code blocks
      in rST (Merijn Verstraaten).</p></li>
      </ul>
      </section>
      <section id="pandoc-1.12.3.1-2014-01-14">
      <h2><a href="#pandoc-1.12.3.1-2014-01-14" aria-hidden="true"></a>pandoc 1.12.3.1 (2014-01-14)</h2>
      <ul>
      <li>Relaxed version constraint on binary, allowing the use of
      binary 0.5.</li>
      </ul>
      </section>
      <section id="pandoc-1.12.3-2014-01-10">
      <h2><a href="#pandoc-1.12.3-2014-01-10" aria-hidden="true"></a>pandoc 1.12.3 (2014-01-10)</h2>
      <ul>
      <li><p>The <span><code>--bibliography</code></span>
      option now sets the <span><code>biblio-files</code></span> variable. So, if
      you’re using <span><code>--natbib</code></span> or
      <span><code>--biblatex</code></span>, you can just
      use <span><code>--bibliography=foo.bib</code></span> instead
      of <span><code>-V bibliofiles=foo</code></span>.</p></li>
      <li><p>Don’t run pandoc-citeproc filter if <span><code>--bibliography</code></span> is used together
      with <span><code>--natbib</code></span> or <span><code>--biblatex</code></span> (Florian
      Eitel).</p></li>
      <li><p>Template changes:</p>
      <ul>
      <li>Updated beamer template to include booktabs.</li>
      <li>Added <span><code>abstract</code></span>
      variable to LaTeX template.</li>
      <li>Put <span><code>header-includes</code></span>
      after <span><code>title</code></span> in LaTeX
      template (<a href="https://github.com/jgm/pandoc/issues/908">#908</a>).</li>
      <li>Allow use of <span><code>\includegraphics[size]</code></span> in
      beamer. This just required porting a macro definition from the
      default LaTeX template to the default beamer template.</li>
      </ul></li>
      <li><p><span><code>reference.docx</code></span>:
      Include <span><code>FootnoteText</code></span>
      style. Otherwise Word ignores the style, even when specified in
      the <span><code>pPr</code></span>. (<a href="https://github.com/jgm/pandoc/issues/901">#901</a>)</p></li>
      <li><p><span><code>reference.odt</code></span>:
      Tidied <span><code>styles.xml</code></span>.</p></li>
      <li><p>Relaxed version bounds for dependencies.</p></li>
      <li><p>Added <span><code>withSocketsDo</code></span> around http
      conduit code in <span><code>openURL</code></span>,
      so it works on Windows (<a href="https://github.com/jgm/pandoc/issues/1080">#1080</a>).</p></li>
      <li><p>Added <span><code>Cite</code></span>
      function to <span><code>sample.lua</code></span>.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fixed regression in title blocks (<a href="https://github.com/jgm/pandoc/issues/1089">#1089</a>). If
      author field was empty, date was being ignored.</li>
      <li>Allow backslash-newline hard line breaks in grid and multiline
      table cells.</li>
      <li>Citation keys may now start with underscores, and may contain
      underscores adjacent to internal punctuation.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Add support for <span><code>Verb</code></span>
      macro (jrnold) (<a href="https://github.com/jgm/pandoc/issues/1090">#1090</a>).</li>
      <li>Support babel-style quoting: <span><code>&#34;`...&#34;&#39;</code></span>.</li>
      </ul></li>
      <li><p>Properly handle script blocks in strict mode. (That is,
      <span><code>markdown-markdown_in_html_blocks</code></span>.)
      Previously a spurious <span><code>&lt;p&gt;</code></span> tag was being added
      (<a href="https://github.com/jgm/pandoc/issues/1093">#1093</a>).</p></li>
      <li><p>Docbook reader: Avoid failure if <span><code>tbody</code></span> contains no <span><code>tr</code></span> or <span><code>row</code></span> elements.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Factored out function for table cell creation.</li>
      <li>Better treatment of footnotes in tables. Notes now appear in
      the regular sequence, rather than in the table cell. (This was a
      regression in 1.10.)</li>
      </ul></li>
      <li><p>HTML reader: Parse name/content pairs from meta tags as
      metadata. Closes <a href="https://github.com/jgm/pandoc/issues/1106">#1106</a>.</p></li>
      <li><p>Moved <span><code>fixDisplayMath</code></span> from Docx writer
      to <span><code>Writer.Shared</code></span>.</p></li>
      <li><p>OpenDocument writer: Fixed <span><code>RawInline</code></span>, <span><code>RawBlock</code></span> so they don’t
      escape.</p></li>
      <li><p>ODT writer: Use mathml for proper rendering of formulas.
      Note: LibreOffice’s support for this seems a bit buggy. But it
      should be better than what we had before.</p></li>
      <li><p>RST writer: Ensure no blank line after def in definition
      list (<a href="https://github.com/jgm/pandoc/issues/992">#992</a>).</p></li>
      <li><p>Markdown writer: Don’t use tilde code blocks with braced
      attributes in <span><code>markdown_github</code></span> output. A
      consequence of this change is that the backtick form will be
      preferred in general if both are enabled. That is good, as it is
      much more widespread than the tilde form. (<a href="https://github.com/jgm/pandoc/issues/1084">#1084</a>)</p></li>
      <li><p>Docx writer: Fixed problem with some modified reference
      docx files. Include <span><code>word/_rels/settings.xml.rels</code></span> if
      it exists, as well as other <span><code>rels</code></span> files besides the ones
      pandoc generates explicitly.</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>With <span><code>--toc</code></span>, headers
      no longer link to themselves (<a href="https://github.com/jgm/pandoc/issues/1081">#1081</a>).</li>
      <li>Omit footnotes from TOC entries. Otherwise we get doubled
      footnotes when headers have notes!</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Avoid duplicate notes when headings contain notes. This arose
      because the headings are copied into the metadata “title” field,
      and the note gets rendered twice. We strip the note now before
      putting the heading in “title”.</li>
      <li>Strip out footnotes from toc entries.</li>
      <li>Fixed bug with <span><code>--epub-stylesheet</code></span>. Now the
      contents of <span><code>writerEpubStylesheet</code></span> (set by
      <span><code>--epub-stylesheet</code></span>) should
      again work, and take precedence over a stylesheet specified in the
      metadata.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>: Added <span><code>nestle</code></span>. API change.</p></li>
      <li><p><span><code>Text.Pandoc.MIME</code></span>:
      Added <span><code>wmf</code></span>, <span><code>emf</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: <span><code>fetchItem</code></span> now handles image
      URLs beginning with <span><code>//</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>: Parse
      EXIF format JPEGs. Previously we could only get size information
      for JFIF format, which led to squished images in Word documents.
      Closes <a href="https://github.com/jgm/pandoc/issues/976">#976</a>.</p></li>
      <li><p>Removed old <span><code>MarkdownTest_1.0.3</code></span> directory
      (<a href="https://github.com/jgm/pandoc/issues/1104">#1104</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-1.12.2.1-2013-12-08">
      <h2><a href="#pandoc-1.12.2.1-2013-12-08" aria-hidden="true"></a>pandoc 1.12.2.1 (2013-12-08)</h2>
      <ul>
      <li>Markdown reader: Fixed regression in list parser, involving
      continuation lines containing raw HTML (or even verbatim raw
      HTML).</li>
      </ul>
      </section>
      <section id="pandoc-1.12.2-2013-12-07">
      <h2><a href="#pandoc-1.12.2-2013-12-07" aria-hidden="true"></a>pandoc 1.12.2 (2013-12-07)</h2>
      <ul>
      <li><p>Metadata may now be included in YAML blocks in a markdown
      document. For example,</p>
      <pre><code>---
title:
- type: main
  text: My Book
- type: subtitle
  text: An investigation of metadata
creator:
- role: author
  text: John Smith
- role: editor
  text: Sarah Jones
identifier:
- scheme: DOI
  text: doi:10.234234.234/33
publisher:  My Press
rights:  (c) 2007 John Smith, CC BY-NC
cover-image: img/mypic.jpg
stylesheet: style.css
...</code></pre>
      <p>Metadata may still be provided using <span><code>--epub-metadata</code></span>; it will be
      merged with the metadata in YAML blocks.</p></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li><span><code>meta</code></span> tags are now
      used instead of <span><code>opf</code></span>
      attributes for EPUB3.</li>
      <li>Insert “svg” property as needed in opf (EPUB 3).</li>
      <li>Simplify <span><code>imageTypeOf</code></span>
      using <span><code>getMimeType</code></span>.</li>
      <li>Add properties attribute to <span><code>cover-image</code></span> item for EPUB
      3.</li>
      <li>Don’t include node for <span><code>cover.xhtml</code></span> if no cover!</li>
      <li>Ensure that same identifier is used throughout (<a href="https://github.com/jgm/pandoc/issues/1044">#1044</a>). If an
      identifier is given in metadata, we use that; otherwise we
      generate a random uuid.</li>
      <li>Add cover reference to guide element (EPUB 2) (Shaun
      Attfield). Fixes an issue with Calibre putting the cover at the
      end of the book if the spine has <span><code>linear=&#34;no&#34;</code></span>. Apparently this is
      best practice for other converters as well: <a href="http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.6">http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.6</a>.</li>
      <li>Allow <span><code>stylesheet</code></span> in
      metadata. The value is a path to the stylesheet.</li>
      <li>Allow partial dates: <span><code>YYYY</code></span>, <span><code>YYYY-MM</code></span>.</li>
      </ul></li>
      <li><p>Markdown writer: Fix rendering of tight sublists (<a href="https://github.com/jgm/pandoc/issues/1050">#1050</a>).
      Previously a spurious blank line was included after a tight
      sublist.</p></li>
      <li><p>ODT writer: Add <span><code>draw:name</code></span> attribute to <span><code>draw:frame</code></span> elements (<a href="https://github.com/jgm/pandoc/issues/1069">#1069</a>). This
      is reported to be necessary to avoid an error from recent versions
      of Libre Office when files contain more than one image Thanks to
      wmanley for reporting and diagnosing the problem.</p></li>
      <li><p>ConTeXt writer: Don’t hardcode figure/table placement and
      numbering. Instead, let this be set in the template, using <span><code>\setupfloat</code></span>. Thanks to on4aa
      and Aditya Mahajan for the suggestion (<a href="https://github.com/jgm/pandoc/issues/1067">#1067</a>).</p></li>
      <li><p>Implemented CSL flipflopping spans in DOCX, LaTeX, and HTML
      writers.</p></li>
      <li><p>Fixed bug with markdown intraword emphasis. Closes <a href="https://github.com/jgm/pandoc/issues/1066">#1066</a>.</p></li>
      <li><p>Docbook writer: Hierarchicalize block content in metadata.
      Previously headers just disappeared from block-level metadata when
      it was used in templates. Now we apply the ‘hierarchicalize’
      transformation. Note that a block headed by a level-2 header will
      turn into a <span><code>&lt;sect1&gt;</code></span>
      element.</p></li>
      <li><p>OpenDocument writer: Skip raw HTML (<a href="https://github.com/jgm/pandoc/issues/1035">#1035</a>).
      Previously it was erroneously included as verbatim text.</p></li>
      <li><p>HTML/EPUB writer, footnotes: Put <span><code>&lt;sup&gt;</code></span> tag inside <span><code>&lt;a&gt;</code></span> tags. This allows
      better control of formatting, since the <span><code>&lt;a&gt;</code></span> tags have a
      distinguishing class (<a href="https://github.com/jgm/pandoc/issues/1049">#1049</a>).</p></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Use mime type info returned by fetchItem.</li>
      <li>Fixed core metadata (<a href="https://github.com/jgm/pandoc/issues/1046">#1046</a>). Don’t
      create empty date nodes if no date given. Don’t create multiple
      <span><code>dc:creator</code></span> nodes; instead
      separate by semicolons.</li>
      <li>Fix URL for core-properties in <span><code>_rels/.rels</code></span> (<a href="https://github.com/jgm/pandoc/issues/1046">#1046</a>).</li>
      </ul></li>
      <li><p>Plain writer: don’t print <span><code>&lt;span&gt;</code></span> tags.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Fix definition lists with internal links in terms (<a href="https://github.com/jgm/pandoc/issues/1032">#1032</a>). This
      fix puts braces around a term that contains an internal link, to
      avoid problems with square brackets.</li>
      <li>Properly escape pdftitle, pdfauthor (<a href="https://github.com/jgm/pandoc/issues/1059">#1059</a>).</li>
      <li>Use booktabs package for tables (thanks to Jose Luis
      Duran).</li>
      </ul></li>
      <li><p>Updated beamer template. Now references should work
      properly (in a slide) when <span><code>--biblatex</code></span> or <span><code>--natbib</code></span> is used.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Parse contents of curly quotes or matched <span><code>&#34;</code></span> as quotes.</li>
      <li>Support <span><code>\textnormal</code></span>
      as span with class <span><code>nodecor</code></span>. This is needed for
      pandoc-citeproc.</li>
      <li>Improved citation parsing. This fixes a run-time error that
      occurred with <span><code>\citet{}</code></span>
      (empty list of keys). It also ensures that empty keys don’t get
      produced.</li>
      </ul></li>
      <li><p>MediaWiki reader: Add automatic header
      identifiers.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Use pandoc <span><code>Div</code></span> and
      <span><code>Span</code></span> for raw <span><code>&lt;div&gt;</code></span>, <span><code>&lt;span&gt;</code></span> when <span><code>--parse-raw</code></span>.</li>
      <li>Recognize <span><code>svg</code></span> tags as
      block level content (thanks to MinRK).</li>
      <li>Parse LaTeX math if appropriate options are set.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Yaml block must start immediately after <span><code>---</code></span>. If there’s a blank line
      after <span><code>---</code></span>, we interpreted
      it as a horizontal rule.</li>
      <li>Correctly handle empty bullet list items.</li>
      <li>Stop parsing “list lines” when we hit a block tag. This fixes
      exponential slowdown in certain input, e.g. a series of lists
      followed by <span><code>&lt;/div&gt;</code></span>.</li>
      </ul></li>
      <li><p>Slides: Preserve <span><code>&lt;div class=&#34;references&#34;&gt;</code></span>
      in references slide.</p></li>
      <li><p><span><code>Text.Pandoc.Writer.Shared</code></span>:</p>
      <ul>
      <li>Fixed bug in <span><code>tagWithAttrs</code></span>. A space was
      omitted before key-value attributes, leading to invalid HTML.</li>
      <li><span><code>normalizeDate</code></span>: Allow
      dates with year only (thanks to Shaun Attfield).</li>
      <li>Fixed bug in <span><code>openURL</code></span>
      with <span><code>data:</code></span> URIs.
      Previously the base-64 encoded bytestring was returned. We now
      decode it so it’s a proper image!</li>
      </ul></li>
      <li><p>DocBook reader: Handle numerical attributes starting with
      decimal. Also use <span><code>safeRead</code></span> instead of <span><code>read</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Generalized type of <span><code>registerHeader</code></span>, using new type
      classes <span><code>HasReadeOptions</code></span>,
      <span><code>HasIdentifierList</code></span>, <span><code>HasHeaderMap</code></span>. These allow
      certain common functions to be reused even in parsers that use
      custom state (instead of <span><code>ParserState</code></span>), such as the
      MediaWiki reader.</li>
      <li>Moved inlineMath, displayMath from Markdown reader to Parsing.
      Generalize their types and export them from Parsing. (API
      change.)</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Readers.TexMath</code></span>:
      Export <span><code>readTeXMath&#39;</code></span>,
      which attends to display/inline. Deprecate <span><code>readTeXMath</code></span>, and use <span><code>readTeXMath&#39;</code></span> in all the
      writers. Require <span><code>texmath &gt;= 0.6.5.2</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.MIME</code></span>:</p>
      <ul>
      <li>Add entry for <span><code>jfif</code></span>.</li>
      <li>In looking up extensions, drop the encoding info. E.g. for
      ‘image/jpg;base64’ we should lookup ‘image/jpg’.</li>
      </ul></li>
      <li><p>Templates: Changed how array variables are resolved.
      Previously if <span><code>foo</code></span> is an
      array (which might be because multiple values were set on the
      command line), <span><code>$foo$</code></span>
      would resolve to the concatenation of the elements of foo. This is
      rarely useful behavior. It has been changed so that the first
      value is rendered. Of course, you can still iterate over the
      values using <span><code>$for(foo)$</code></span>.
      This has the result that you can override earlier settings using
      <span><code>-V</code></span> by putting new values
      later on the command line, which is useful for many
      purposes.</p></li>
      <li><p><span><code>Text.Pandoc</code></span>: Don’t
      default to <span><code>pandocExtensions</code></span> for all
      writers.</p></li>
      <li><p>Allow “epub2” as synonym for “epub”, “html4” for
      “html”.</p></li>
      <li><p>Don’t look for slidy files in data files with <span><code>--self-contained</code></span>.</p></li>
      <li><p>Allow <span><code>https:</code></span>
      command line arguments to be downloaded.</p></li>
      <li><p>Fixed <span><code>make_osx_package.sh</code></span> so data
      files embedded in <span><code>pandoc-citeproc</code></span>.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.12.1-2013-10-20">
      <h2><a href="#pandoc-1.12.1-2013-10-20" aria-hidden="true"></a>pandoc 1.12.1 (2013-10-20)</h2>
      <ul>
      <li><p><span><code>Text.Pandoc.Definition</code></span>: Changed
      default JSON serialization format. Instead of <span><code>{&#34;Str&#34;: &#34;foo&#34;}</code></span>, for example, we
      now have <span><code>{&#34;t&#34;: &#34;Str&#34;,     &#34;c&#34;: &#34;foo&#34;}</code></span>.
      This new format is easier to work with outside of Haskell.
      Incidentally, “t” stands for “tag”, “c” for “contents”.</p></li>
      <li><p>MediaWiki reader: Trim contents of <span><code>&lt;math&gt;</code></span> tags, to avoid
      problems when converting to markdown (<a href="https://github.com/jgm/pandoc/issues/1027">#1027</a>).</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Ensure that preamble doesn’t contribute to the text of the
      document.</li>
      <li>Fixed character escaping in <span><code>\url{}</code></span>. Previously <span><code>\~</code></span> wasn’t handled properly,
      among others.</li>
      <li>Parse <span><code>{groups}</code></span> as
      <span><code>Span</code></span>. This is needed for
      accurate conversion of bibtex titles, since we need to know what
      was protected from titlecase conversions.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Specially escape non-ascii characters in labels. Otherwise we
      can get compile errors and other bugs when compiled with pdflatex
      (<a href="https://github.com/jgm/pandoc/issues/1007">#1007</a>).
      Thanks to begemotv2718 for the fix.</li>
      <li>Add link anchors for code blocks with identifiers (<a href="https://github.com/jgm/pandoc/issues/1025">#1025</a>).</li>
      </ul></li>
      <li><p>Throughout the code, use <span><code>isURI</code></span> instead of <span><code>isAbsoluteURI</code></span>. It allows
      fragments identifiers.</p></li>
      <li><p>Slide formats:</p>
      <ul>
      <li>A Div element with class “notes” is treated as speaker notes.
      Currently beamer goes to <span><code>\note{}</code></span>, revealjs to <span><code>&lt;aside class=&#34;notes&#34;&gt;</code></span>,
      and the notes are simply suppressed in other formats (<a href="https://github.com/jgm/pandoc/issues/925">#925</a>).</li>
      <li>Fixed <span><code>. . .</code></span> (pause)
      on HTML slide formats. Closes <a href="https://github.com/jgm/pandoc/issues/1029">#1029</a>. The
      old version caused a pause to be inserted before the first
      material on a slide. This has been fixed.</li>
      <li>Removed data files for s5, slideous, slidy. Users of s5 and
      slideous will have to download the needed files, as has been
      documented for some time in the README. By default, slidy code
      will be sought on the web, as before.</li>
      </ul></li>
      <li><p>HTML writer: Insert command to typeset mathjax only in
      slideous output (<a href="https://github.com/jgm/pandoc/issues/966">#966</a>, <a href="https://github.com/jgm/pandoc/issues/1012">#1012</a>).</p></li>
      <li><p>RST writer: Skip spaces after display math. Otherwise we
      get indentation problems, and part of the next paragraph may be
      rendered as part of the math.</p></li>
      <li><p>OpenDocument writer: Fix formatting of strikeout code (<a href="https://github.com/jgm/pandoc/issues/995">#995</a>), thanks
      to wilx. don’t use <span><code>font-face-decls</code></span>
      variable.</p></li>
      <li><p>Fixed test suite so it works with cabal sandboxes.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.12.0.2-2013-09-20">
      <h2><a href="#pandoc-1.12.0.2-2013-09-20" aria-hidden="true"></a>pandoc 1.12.0.2 (2013-09-20)</h2>
      <ul>
      <li>Removed an unused dependency (<span><code>stringable</code></span>) from pandoc.cabal.
      This will help packagers, but users should not need to
      upgrade.</li>
      </ul>
      </section>
      <section id="pandoc-1.12.0.1-2013-09-20">
      <h2><a href="#pandoc-1.12.0.1-2013-09-20" aria-hidden="true"></a>pandoc 1.12.0.1 (2013-09-20)</h2>
      <ul>
      <li><p>Allow <span><code>--metadata</code></span>
      to be repeated for the same key to form a list. This also has the
      effect that <span><code>--bibliography</code></span> can be repeated,
      as before.</p></li>
      <li><p>Handle boolean values in <span><code>--metadata</code></span>. Note that anything
      not parseable as a YAML boolean or string is treated as a literal
      string. You can get a string value with “yes”, or any of the
      strings interpretable as booleans, by quoting it:</p>
      <pre><code>-M boolvalue=yes -M stringvalue=&#39;&#34;yes&#34;&#39;</code></pre></li>
      <li><p>LaTeX writer: Don’t print references if <span><code>--natbib</code></span> or <span><code>--biblatex</code></span> option
      used.</p></li>
      <li><p>DOCX writer: Add <span><code>settings.xml</code></span> to the zip
      container. Fixes a bug in which docx files could not be read by
      some versions of Word and LibreOffice (<a href="https://github.com/jgm/pandoc/issues/990">#990</a>).</p></li>
      <li><p>Fixed a regression involving slide shows with
      bibliographies. The Div container around references messed up the
      procedure for carving a document into slides. So we now remove the
      surrounding Div in <span><code>prepSlides</code></span>.</p></li>
      <li><p>More informative error message when a filter is not found
      in path.</p></li>
      <li><p>Depend on pandoc-types 1.12.1. This provide <span><code>ToJSONFilter</code></span> instances for
      <span><code>Data a =&gt; a -&gt; [a]</code></span>
      and <span><code>Data a =&gt; a -&gt; IO [a]</code></span>.</p></li>
      <li><p>Don’t use unicode_collation in building OSX package: it
      adds something like 50MB of dependencies to the package.</p></li>
      <li><p>Declare alex and happy as build-tools (<a href="https://github.com/jgm/pandoc/issues/986">#986</a>).</p></li>
      </ul>
      </section>
      <section id="pandoc-1.12-2013-09-15">
      <h2><a href="#pandoc-1.12-2013-09-15" aria-hidden="true"></a>pandoc 1.12 (2013-09-15)</h2>
      <section id="new-features-4">
      <h3><a href="#new-features-4" aria-hidden="true"></a>New features</h3>
      <ul>
      <li><p>Much more flexible metadata, including arbitrary fields and
      structured values. Metadata can be specified flexibly in pandoc
      markdown using YAML metadata blocks, which may occur anywhere in
      the document:</p>
      <pre><code>---
title: Here is my title.
abstract: |
  This is the abstract.

  1. It can contain
  2. block content
     and *inline markup*

tags: [cat, dog, animal]
...</code></pre>
      <p>Metadata fields automatically populate template
      variables.</p></li>
      <li><p>Added <span><code>opml</code></span> (OPML)
      as input and output format. The <span><code>_note</code></span> attribute, used in
      OmniOutliner and supported by multimarkdown, is supported. We
      treat the contents as markdown blocks under a section
      header.</p></li>
      <li><p>Added <span><code>haddock</code></span>
      (Haddock markup) as input format (David Lazar).</p></li>
      <li><p>Added <span><code>revealjs</code></span>
      output format, for reveal.js HTML 5 slide shows. (Thanks to Jamie
      F. Olson for the initial patch.) Nested vertical stacks are used
      for hierarchical structure. Results for more than one level of
      nesting may be odd.</p></li>
      <li><p>Custom writers can now be written in lua.</p>
      <pre><code>pandoc -t data/sample.lua</code></pre>
      <p>will load the script sample.lua and use it as a custom writer.
      (For a sample, do <span><code>pandoc --print-default-data-file sample.lua</code></span>.)
      Note that pandoc embeds a lua interpreter, so lua need not be
      installed separately.</p></li>
      <li><p>New <span><code>--filter/-F</code></span>
      option to make it easier to run “filters” (Pandoc AST
      transformations that operate on JSON serializations). Filters are
      always passed the name of the output format, so their behavior can
      be tailored to it. The repository <a href="https://github.com/jgm/pandocfilters">https://github.com/jgm/pandocfilters</a> contains a
      python module for writing pandoc filters in python, with a number
      of examples.</p></li>
      <li><p>Added <span><code>--metadata/-M</code></span> option. This is
      like <span><code>--variable/-V</code></span>, but
      actually adds to metadata, not just variables.</p></li>
      <li><p>Added <span><code>--print-default-data-file</code></span>
      option, which allows printing of any of pandoc’s data files. (For
      example, <span><code>pandoc --print-default-data-file reference.odt</code></span>
      will print <span><code>reference.odt</code></span>.)</p></li>
      <li><p>Added syntax for “pauses” in slide shows:</p>
      <pre><code>This gives

. . .

me pause.</code></pre></li>
      <li><p>New markdown extensions:</p>
      <ul>
      <li><span><code>ignore_line_breaks</code></span>:
      causes intra-paragraph line breaks to be ignored, rather than
      being treated as hard line breaks or spaces. This is useful for
      some East Asian languages, where spaces aren’t used between words,
      but text is separated into lines for readability.</li>
      <li><span><code>yaml_metadata_block</code></span>:
      Parse YAML metadata blocks. (Default.)</li>
      <li><span><code>ascii_identifiers</code></span>:
      This will force <span><code>auto_identifiers</code></span> to use ASCII
      only. (Default for <span><code>markdown_github</code></span>.) (<a href="https://github.com/jgm/pandoc/issues/807">#807</a>)</li>
      <li><span><code>lists_without_preceding_blankline</code></span>:
      Allow lists to start without preceding blank space. (Default for
      <span><code>markdown_github</code></span>.) (<a href="https://github.com/jgm/pandoc/issues/972">#972</a>)</li>
      </ul></li>
      </ul>
      </section>
      <section id="behavior-changes-4">
      <h3><a href="#behavior-changes-4" aria-hidden="true"></a>Behavior changes</h3>
      <ul>
      <li><p><span><code>--toc-level</code></span> no
      longer implies <span><code>--toc</code></span>.
      Reason: EPUB users who don’t want a visible TOC may still want to
      set the TOC level for in the book navigation.</p></li>
      <li><p><span><code>--help</code></span> now prints
      in and out formats in alphabetical order, and says something about
      PDF output (<a href="https://github.com/jgm/pandoc/issues/720">#720</a>).</p></li>
      <li><p><span><code>--self-contained</code></span>
      now returns less verbose output (telling you which URLs it is
      fetching, but not giving the full header). In addition, there are
      better error messages when fetching a URL fails.</p></li>
      <li><p>Citation support is no longer baked in to core pandoc.
      Users who need citations will need to install and use a separate
      filter (<span><code>--filter pandoc-citeproc</code></span>). This
      filter will take <span><code>bibliography</code></span>, <span><code>csl</code></span>, and <span><code>citation-abbreviations</code></span> from the
      metadata, though it may still be specified on the command line as
      before.</p></li>
      <li><p>A <span><code>Cite</code></span> element is
      now created in parsing markdown whether or not there is a matching
      reference.</p></li>
      <li><p>The <span><code>pandoc-citeproc</code></span> script will put
      the bibliography at the end of the document, as before. However,
      it will be put inside a <span><code>Div</code></span> element with class
      “references”, allowing users some control over the styling of
      references. A final header, if any, will be included in the <span><code>Div</code></span>.</p></li>
      <li><p>The markdown writer will not print a bibliography if the
      <span><code>citations</code></span> extension is
      enabled. (If the citations are formatted as markdown citations, it
      is redundant to have a bibliography, since one will be generated
      automatically.)</p></li>
      <li><p>Previously we used to store the directory of the first
      input file, even if it was local, and used this as a base
      directory for finding images in ODT, EPUB, Docx, and PDF. This has
      been confusing to many users. So we now look for images relative
      to the current working directory, even if the first file argument
      is in another directory. Note that this change may break some
      existing workflows. If you have been assuming that relative links
      will be interpreted relative to the directory of the first file
      argument, you’ll need to make that the current directory before
      running pandoc. (<a href="https://github.com/jgm/pandoc/issues/942">#942</a>)</p></li>
      <li><p>Better error reporting in some readers, due to changes in
      <span><code>readWith</code></span>: the line in
      which the error occurred is printed, with a caret pointing to the
      column.</p></li>
      <li><p>All slide formats now support incremental slide view for
      definition lists.</p></li>
      <li><p>Parse <span><code>\(..\)</code></span> and
      <span><code>\[..\]</code></span> as math in
      MediaWiki reader. Parse <span><code>:&lt;math&gt;...&lt;/math&gt;</code></span>
      as display math. These notations are used with the MathJax
      MediaWiki extension.</p></li>
      <li><p>All writers: template variables are set automatically from
      metadata fields. However, variables specified on the command line
      with <span><code>--variable</code></span> will
      completely shadow metadata fields.</p></li>
      <li><p>If <span><code>--variable</code></span> is
      used to set many variables with the same name, a list is
      created.</p></li>
      <li><p>Man writer: The <span><code>title</code></span>, <span><code>section</code></span>, <span><code>header</code></span>, and <span><code>footer</code></span> can now all be set
      individually in metadata. The <span><code>description</code></span> variable has been
      removed. Quotes have been added so that spaces are allowed in the
      title. If you have a title that begins</p>
      <pre><code>COMMAND(1) footer here | header here</code></pre>
      <p>pandoc will still parse it into a title, section, header, and
      footer. But you can also specify these elements explicitly (<a href="https://github.com/jgm/pandoc/issues/885">#885</a>).</p></li>
      <li><p>Markdown reader</p>
      <ul>
      <li>Added support for YAML metadata blocks, which can come
      anywhere in the document (not just at the beginning). A document
      can contain multiple YAML metadata blocks.</li>
      <li>HTML span and div tags are parsed as pandoc Span and Div
      elements.</li>
      </ul></li>
      <li><p>Markdown writer</p>
      <ul>
      <li>Allow simple tables to be printed as grid tables, if other
      table options are disabled. This means you can do <span><code>pandoc -t markdown-pipe_tables-simple_tables-multiline_tables</code></span>
      and all tables will render as grid tables.</li>
      <li>Support YAML title block (render fields in alphabetical order
      to make output predictable).</li>
      </ul></li>
      </ul>
      </section>
      <section id="api-changes-4">
      <h3><a href="#api-changes-4" aria-hidden="true"></a>API changes</h3>
      <ul>
      <li><p><span><code>Meta</code></span> in <span><code>Text.Pandoc.Definition</code></span> has been
      changed to allow structured metadata. (Note: existing code that
      pattern-matches on <span><code>Meta</code></span>
      will have to be revised.) Metadata can now contain indefinitely
      many fields, with content that can be a string, a Boolean, a list
      of <span><code>Inline</code></span> elements, a
      list of <span><code>Block</code></span> elements,
      or a map or list of these.</p></li>
      <li><p>A new generic block container (<span><code>Div</code></span>) has been added to <span><code>Block</code></span>, and a generic inline
      container (<span><code>Span</code></span>) has been
      added to <span><code>Inline</code></span>. These
      can take attributes. They will render in HTML, Textile, MediaWiki,
      Org, RST and Markdown (with <span><code>markdown_in_html</code></span> extension) as
      HTML <span><code>&lt;div&gt;</code></span> and
      <span><code>&lt;span&gt;</code></span> elements; in
      other formats they will simply pass through their contents. But
      they can be targeted by scripts.</p></li>
      <li><p><span><code>Format</code></span> is now a
      newtype, not an alias for String. Equality comparisons are
      case-insensitive.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Walk</code></span>, which exports
      hand-written tree-walking functions that are much faster than the
      SYB functions from <span><code>Text.Pandoc.Generic</code></span>. These
      functions are now used where possible in pandoc’s code. (<span><code>Tests.Walk</code></span> verifies that <span><code>walk</code></span> and <span><code>query</code></span> match the generic
      traversals <span><code>bottomUp</code></span> and
      <span><code>queryWith</code></span>.)</p></li>
      <li><p>Added <span><code>Text.Pandoc.JSON</code></span>, which
      provides <span><code>ToJSON</code></span> and <span><code>FromJSON</code></span> instances for the
      basic pandoc types. They use GHC generics and should be faster
      than the old JSON serialization using <span><code>Data.Aeson.Generic</code></span>.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Process</code></span>, exporting
      <span><code>pipeProcess</code></span>. This is a
      souped-up version of <span><code>readProcessWithErrorcode</code></span> that
      uses lazy bytestrings instead of strings and allows setting
      environment variables. (Used in <span><code>Text.Pandoc.PDF</code></span>.)</p></li>
      <li><p>New module <span><code>Text.Pandoc.Readers.OPML</code></span>.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Writers.OPML</code></span>.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Readers.Haddock</code></span>
      (David Lazar). This is based on Haddock’s own
      lexer/parser.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Writers.Custom</code></span>.</p></li>
      <li><p>In <span><code>Text.Pandoc.Shared</code></span>, <span><code>openURL</code></span> and <span><code>fetchItem</code></span> now return an Either,
      for better error handling.</p></li>
      <li><p>Made <span><code>stringify</code></span>
      polymorphic in <span><code>Text.Pandoc.Shared</code></span>.</p></li>
      <li><p>Removed <span><code>stripTags</code></span>
      from <span><code>Text.Pandoc.XML</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Templates</code></span>:</p>
      <ul>
      <li>Simplified <span><code>Template</code></span>
      type to a newtype.</li>
      <li>Removed <span><code>Empty</code></span>.</li>
      <li>Changed type of <span><code>renderTemplate</code></span>: it now takes a
      JSON context and a compiled template.</li>
      <li>Export <span><code>compileTemplate</code></span>.</li>
      <li>Export <span><code>renderTemplate&#39;</code></span> that takes a
      string instead of a compiled template.</li>
      <li>Export <span><code>varListToJSON</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.PDF</code></span>
      exports <span><code>makePDF</code></span> instead
      of <span><code>tex2pdf</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc</code></span>:</p>
      <ul>
      <li>Made <span><code>toJsonFilter</code></span> an
      alias for <span><code>toJSONFilter</code></span>
      from <span><code>Text.Pandoc.JSON</code></span>.</li>
      <li>Removed <span><code>ToJsonFilter</code></span>
      typeclass. <span><code>ToJSONFilter</code></span>
      from <span><code>Text.Pandoc.JSON</code></span>
      should be used instead. (Compiling against pandoc-types instead of
      pandoc will also produce smaller executables.)</li>
      <li>Removed the deprecated <span><code>jsonFilter</code></span> function.</li>
      <li>Added <span><code>readJSON</code></span>, <span><code>writeJSON</code></span> to the API (<a href="https://github.com/jgm/pandoc/issues/817">#817</a>).</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Options</code></span>:</p>
      <ul>
      <li>Added <span><code>Ext_lists_without_preceding_blankline</code></span>,
      <span><code>Ext_ascii_identifiers</code></span>,
      <span><code>Ext_ignore_line_breaks</code></span>,
      <span><code>Ext_yaml_metadataBlock</code></span> to
      <span><code>Extension</code></span>.</li>
      <li>Changed <span><code>writerSourceDirectory</code></span> to <span><code>writerSourceURL</code></span> and changed the
      type to a <span><code>Maybe</code></span>. <span><code>writerSourceURL</code></span> is set to ‘Just
      url’ when the first command-line argument is an absolute URL. (So,
      relative links will be resolved in relation to the first page.)
      Otherwise, ‘Nothing’.</li>
      <li>All bibliography-related fields have been removed from <span><code>ReaderOptions</code></span> and <span><code>WriterOptions</code></span>: <span><code>writerBiblioFiles</code></span>, <span><code>readerReferences</code></span>, <span><code>readerCitationStyle</code></span>.</li>
      </ul></li>
      <li><p>The <span><code>Text.Pandoc.Biblio</code></span> module has
      been removed. Users of the pandoc library who want citation
      support will need to use <span><code>Text.CSL.Pandoc</code></span> from <span><code>pandoc-citeproc</code></span>.</p></li>
      </ul>
      </section>
      <section id="bug-fixes-2">
      <h3><a href="#bug-fixes-2" aria-hidden="true"></a>Bug fixes</h3>
      <ul>
      <li><p>In markdown, don’t autolink a bare URI that is followed by
      <span><code>&lt;/a&gt;</code></span> (<a href="https://github.com/jgm/pandoc/issues/937">#937</a>).</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span></p>
      <ul>
      <li><span><code>openURL</code></span> now follows
      redirects (<a href="https://github.com/jgm/pandoc/issues/701">#701</a>),
      properly handles <span><code>data:</code></span>
      URIs, and prints diagnostic output to stderr rather than
      stdout.</li>
      <li><span><code>readDefaultDataFile</code></span>:
      normalize the paths. This fixes bugs in <span><code>--self-contained</code></span> on pandoc
      compiled with <span><code>embed_data_files</code></span> (<a href="https://github.com/jgm/pandoc/issues/833">#833</a>).</li>
      <li>Fixed <span><code>readDefaultDataFile</code></span> so it works
      on Windows.</li>
      <li>Better error messages for <span><code>readDefaultDataFile</code></span>. Instead of
      listing the last path tried, which can confuse people who are
      using <span><code>--self-contained</code></span>,
      so now we just list the data file name.</li>
      <li>URL-escape pipe characters. Even though these are legal, <span><code>Network.URI</code></span> doesn’t regard them
      as legal in URLs. So we escape them first (<a href="https://github.com/jgm/pandoc/issues/535">#535</a>).</li>
      </ul></li>
      <li><p>Mathjax in HTML slide shows: include explicit “Typeset”
      call. This seems to be needed for some formats (e.g. slideous) and
      won’t hurt in others (<a href="https://github.com/jgm/pandoc/issues/966">#966</a>).</p></li>
      <li><p><span><code>Text.Pandoc.PDF</code></span></p>
      <ul>
      <li>On Windows, create temdir in working directory, since the
      system temp directory path may contain tildes, which can cause
      problems in LaTeX (<a href="https://github.com/jgm/pandoc/issues/777">#777</a>).</li>
      <li>Put temporary output directory in <span><code>TEXINPUTS</code></span> (see <a href="https://github.com/jgm/pandoc/issues/917">#917</a>).</li>
      <li><span><code>makePDF</code></span> tries to
      download images that are not found locally, if the first argument
      is a URL (<a href="https://github.com/jgm/pandoc/issues/917">#917</a>).</li>
      <li>If compiling with <span><code>pdflatex</code></span> yields an encoding
      error, offer the suggestion to use <span><code>--latex-engine=xelatex</code></span>.</li>
      </ul></li>
      <li><p>Produce automatic header identifiers in parsing textile,
      RST, and LaTeX, unless <span><code>auto_identifiers</code></span> extension is
      disabled (<a href="https://github.com/jgm/pandoc/issues/967">#967</a>).</p></li>
      <li><p><span><code>Text.Pandoc.SelfContained</code></span>:
      Strip off fragment, query of relative URL before treating as a
      filename. This fixes <span><code>--self-contained</code></span> when used with
      CSS files that include web fonts using the method described here:
      <a href="https://paulirish.com/2009/bulletproof-font-face-implementation-syntax/">http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/</a>
      (<a href="https://github.com/jgm/pandoc/issues/739">#739</a>).
      Handle <span><code>src</code></span> in <span><code>embed</code></span>, <span><code>audio</code></span>, <span><code>source</code></span>, <span><code>input</code></span> tags.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>: <span><code>uri</code></span> parser no longer treats
      punctuation before percent-encoding, or a <span><code>+</code></span> character, as final
      punctuation.</p></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>: Handle
      EPS (<a href="https://github.com/jgm/pandoc/issues/903">#903</a>).
      This change will make EPS images properly sized on conversion to
      Word.</p></li>
      <li><p>Slidy: Use slidy.js rather than slidy.js.gz. Reason: some
      browsers have trouble with the gzipped js file, at least on the
      local file system (<a href="https://github.com/jgm/pandoc/issues/795">#795</a>).</p></li>
      <li><p>Markdown reader</p>
      <ul>
      <li>Properly handle blank line at beginning of input (<a href="https://github.com/jgm/pandoc/issues/882">#882</a>).</li>
      <li>Fixed bug in unmatched reference links. The input <span><code>[*infile*] [*outfile*]</code></span> was
      getting improperly parsed: “infile” was emphasized, but
      “<em>outfile</em>” was literal (<a href="https://github.com/jgm/pandoc/issues/883">#883</a>).</li>
      <li>Allow internal <span><code>+</code></span> in
      citation identifiers (<a href="https://github.com/jgm/pandoc/issues/856">#856</a>).</li>
      <li>Allow <span><code>.</code></span> or <span><code>)</code></span> after <span><code>#</code></span> in ATX headers if no <span><code>fancy_lists</code></span>.</li>
      <li>Do not generate blank title, author, or date metadata
      elements. Leave these out entirely if they aren’t present.</li>
      <li>Allow backtick code blocks not to be preceded by blank line
      (<a href="https://github.com/jgm/pandoc/issues/975">#975</a>).</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Correctly handle entities.</li>
      <li>Improved handling of <span><code>&lt;pre&gt;</code></span> blocks (<a href="https://github.com/jgm/pandoc/issues/927">#927</a>). Remove
      internal HTML tags in code blocks, rather than printing them
      verbatim. Parse attributes on <span><code>&lt;pre&gt;</code></span> tag for code
      blocks.</li>
      </ul></li>
      <li><p>HTML reader: Handle non-simple tables (<a href="https://github.com/jgm/pandoc/issues/893">#893</a>). Column
      widths are read from <span><code>col</code></span>
      tags if present, otherwise divided equally.</p></li>
      <li><p>LaTeX reader</p>
      <ul>
      <li>Support alltt environment (<a href="https://github.com/jgm/pandoc/issues/892">#892</a>).</li>
      <li>Support <span><code>\textasciitilde</code></span>, <span><code>\textasciicircum</code></span> (<a href="https://github.com/jgm/pandoc/issues/810">#810</a>).</li>
      <li>Treat <span><code>\textsl</code></span> as
      emphasized text reader (<a href="https://github.com/jgm/pandoc/issues/850">#850</a>).</li>
      <li>Skip positional options after <span><code>\begin{figure}</code></span>.</li>
      <li>Support <span><code>\v{}</code></span> for
      hacek (<a href="https://github.com/jgm/pandoc/issues/926">#926</a>).</li>
      <li>Don’t add spurious “,” to citation suffixes. This is added
      when needed in pandoc-citeproc.</li>
      <li>Allow spaces in alignment spec in tables, e.g. <span><code>{ l r c }</code></span>.</li>
      <li>Improved support for accented characters (thanks to Scott
      Morrison).</li>
      <li>Parse label after section command and set id (<a href="https://github.com/jgm/pandoc/issues/951">#951</a>).</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Don’t insert paragraphs where docutils doesn’t. <span><code>rst2html</code></span> doesn’t add <span><code>&lt;p&gt;</code></span> tags to list items
      (even when they are separated by blank lines) unless there are
      multiple paragraphs in the list. This commit changes the RST
      reader to conform more closely to what docutils does (<a href="https://github.com/jgm/pandoc/issues/880">#880</a>).</li>
      <li>Improved metadata. Treat initial field list as metadata when
      standalone specified. Previously ALL fields “title”, “author”,
      “date” in field lists were treated as metadata, even if not at the
      beginning. Use <span><code>subtitle</code></span>
      metadata field for subtitle.</li>
      <li>Fixed ‘authors’ metadata parsing in reST. Semicolons separate
      different authors.</li>
      </ul></li>
      <li><p>MediaWiki reader</p>
      <ul>
      <li>Allow space before table rows.</li>
      <li>Fixed regression for <span><code>&lt;ref&gt;URL&lt;/ref&gt;</code></span>.
      <span><code>&lt;</code></span> is no longer allowed
      in URLs, according to the uri parser in <span><code>Text.Pandoc.Parsing</code></span>. Added a
      test case.</li>
      <li>Correctly handle indented preformatted text without preceding
      or following blank line.</li>
      <li>Fixed <span><code>|</code></span> links inside
      table cells. Improved attribute parsing.</li>
      <li>Skip attributes on table rows. Previously we just crashed if
      rows had attributes, now we ignore them.</li>
      <li>Ignore attributes on headers.</li>
      <li>Allow <span><code>Image:</code></span> for
      images (<a href="https://github.com/jgm/pandoc/issues/971">#971</a>).</li>
      <li>Parse an image with caption in a paragraph by itself as a
      figure.</li>
      </ul></li>
      <li><p>LaTeX writer</p>
      <ul>
      <li>Don’t use ligatures in escaping inline code.</li>
      <li>Fixed footnote numbers in LaTeX/PDF tables. This fixes a bug
      wherein notes were numbered incorrectly in tables (<a href="https://github.com/jgm/pandoc/issues/827">#827</a>).</li>
      <li>Always create labels for sections. Previously the labels were
      only created when there were links to the section in the document
      (<a href="https://github.com/jgm/pandoc/issues/871">#871</a>).</li>
      <li>Stop escaping <span><code>|</code></span> in
      LaTeX math. This caused problems with array environments (<a href="https://github.com/jgm/pandoc/issues/891">#891</a>).</li>
      <li>Change <span><code>\</code></span> to <span><code>/</code></span> in paths. <span><code>/</code></span> works even on Windows in
      LaTeX. <span><code>\</code></span> will cause major
      problems if unescaped.</li>
      <li>Write id for code block to label attribute in LaTeX when
      listings is used (thanks to Florian Eitel).</li>
      <li>Scale LaTeX tables so they don’t exceed columnwidth.</li>
      <li>Avoid problem with footnotes in unnumbered headers (<a href="https://github.com/jgm/pandoc/issues/940">#940</a>).</li>
      </ul></li>
      <li><p>Beamer writer: when creating beamer slides, add <span><code>allowframebreaks</code></span> option to the
      slide if it is one of the header classes. It is recommended that
      your bibliography slide have this attribute:</p>
      <pre><code># References {.allowframebreaks}</code></pre>
      <p>This causes multiple slides to be created if necessary,
      depending on the length of the bibliography.</p></li>
      <li><p>ConTeXt writer: Properly handle tables without captions.
      The old output only worked in MkII. This should work in MkIV as
      well (<a href="https://github.com/jgm/pandoc/issues/837">#837</a>).</p></li>
      <li><p>MediaWiki writer: Use native mediawiki tables instead of
      HTML (<a href="https://github.com/jgm/pandoc/issues/720">#720</a>).</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fixed <span><code>--no-highlight</code></span>
      (Alexander Kondratskiy).</li>
      <li>Don’t convert to lowercase in email obfuscation (<a href="https://github.com/jgm/pandoc/issues/839">#839</a>).</li>
      <li>Ensure proper escaping in <span><code>&lt;title&gt;</code></span> and <span><code>&lt;meta&gt;</code></span> fields.</li>
      </ul></li>
      <li><p>AsciiDoc writer:</p>
      <ul>
      <li>Support <span><code>--atx-headers</code></span>
      (Max Rydahl Andersen).</li>
      <li>Don’t print empty identifier blocks <span><code>([[]])</code></span> on headers (Max Rydahl
      Andersen).</li>
      </ul></li>
      <li><p>ODT writer:</p>
      <ul>
      <li>Fixing wrong numbered-list indentation in open document format
      (Alexander Kondratskiy) (<a href="https://github.com/jgm/pandoc/issues/369">#369</a>).</li>
      <li><span><code>reference.odt</code></span>: Added
      pandoc as “generator” in <span><code>meta.xml</code></span>.</li>
      <li>Minor changes for ODF 1.2 conformance (<a href="https://github.com/jgm/pandoc/issues/939">#939</a>). We
      leave the nonconforming <span><code>contextual-spacing</code></span> attribute,
      which is provided by LibreOffice itself and seems well
      supported.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Fixed rendering of display math in lists. In 1.11 and 1.11.1,
      display math in lists rendered as a new list item. Now it always
      appears centered, just as outside of lists, and in proper display
      math style, no matter how far indented the containing list item is
      (<a href="https://github.com/jgm/pandoc/issues/784">#784</a>).</li>
      <li>Use <span><code>w:br</code></span> with <span><code>w:type</code></span> <span><code>textWrapping</code></span> for linebreaks.
      Previously we used <span><code>w:cr</code></span>
      (<a href="https://github.com/jgm/pandoc/issues/873">#873</a>).</li>
      <li>Use Compact style for Plain block elements, to differentiate
      between tight and loose lists (<a href="https://github.com/jgm/pandoc/issues/775">#775</a>).</li>
      <li>Ignore most components of <span><code>reference.docx</code></span>. We take the
      <span><code>word/styles.xml</code></span>, <span><code>docProps/app.xml</code></span>, <span><code>word/theme/theme1.xml</code></span>, and
      <span><code>word/fontTable.xml</code></span> from
      <span><code>reference.docx</code></span>, ignoring
      everything else. This should help with the corruption problems
      caused when different versions of Word resave the reference.docx
      and reorganize things.</li>
      <li>Made <span><code>--no-highlight</code></span>
      work properly.</li>
      </ul></li>
      <li><p>EPUB writer</p>
      <ul>
      <li>Don’t add <span><code>dc:creator</code></span>
      tags if present in EPUB metadata.</li>
      <li>Add <span><code>id=&#34;toc-title&#34;</code></span> to
      <span><code>h1</code></span> in <span><code>nav.xhtml</code></span> (<a href="https://github.com/jgm/pandoc/issues/799">#799</a>).</li>
      <li>Don’t put blank title page in reading sequence. Set <span><code>linear=&#34;no&#34;</code></span> if no title block.
      Addresses <a href="https://github.com/jgm/pandoc/issues/797">#797</a>.</li>
      <li>Download webtex images and include as data URLs. This allows
      you to use <span><code>--webtex</code></span> in
      creating EPUBs. Math with <span><code>--webtex</code></span> is automatically made
      self-contained.</li>
      <li>In <span><code>data/epub.css</code></span>,
      removed highlighting styles (which are no longer needed, since
      styles are added by the HTML writer according to <span><code>--highlighting-style</code></span>).
      Simplified margin fields.</li>
      <li>If resource not found, skip it, as in Docx writer (<a href="https://github.com/jgm/pandoc/issues/916">#916</a>).</li>
      </ul></li>
      <li><p>RTF writer:</p>
      <ul>
      <li>Properly handle characters above the 0000-FFFF range. Uses
      surrogate pairs. Thanks to Hiromi Ishii for the patch.</li>
      <li>Fixed regression with RTF table of contents.</li>
      <li>Only autolink absolute URIs. This fixes a regression, <a href="https://github.com/jgm/pandoc/issues/830">#830</a>.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Only autolink absolute URIs. This fixes a regression, <a href="https://github.com/jgm/pandoc/issues/830">#830</a>.</li>
      <li>Don’t wrap attributes in fenced code blocks.</li>
      <li>Write full metadata in MMD style title blocks.</li>
      <li>Put multiple authors on separate lines in pandoc titleblock.
      Also, don’t wrap long author entries, as new lines get treated as
      new authors.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Templates</code></span>:</p>
      <ul>
      <li>Fixed bug retrieving default template for markdown
      variants.</li>
      <li>Templates can now contain “record lookups” in variables; for
      example, <span><code>author.institution</code></span> will
      retrieve the <span><code>institution</code></span>
      field of the <span><code>author</code></span>
      variable.</li>
      <li>More consistent behavior of <span><code>$for$</code></span>. When <span><code>foo</code></span> is not a list, <span><code>$for(foo)$...$endfor$</code></span> should
      behave like <span><em>i</em><em>f</em>(<em>f</em><em>o</em><em>o</em>)</span>…<span><em>e</em><em>n</em><em>d</em><em>i</em><em>f</em></span>.
      So if <span><code>foo</code></span> resolves to ““,
      no output should be produced. See pandoc-templates<a href="https://github.com/jgm/pandoc/issues/39">#39</a>.</li>
      </ul></li>
      <li><p>Citation processing improvements (now part of
      pandoc-citeproc):</p>
      <ul>
      <li>Fixed <span><code>endWithPunct</code></span>
      The new version correctly sees a sentence ending in ‘.)’ as ending
      with punctuation. This fixes a bug which led such sentences to
      receive an extra period at the end: ‘.).’. Thanks to Steve
      Petersen for reporting.</li>
      <li>Don’t interfere with Notes that aren’t citation notes. This
      fixes a bug in which notes not generated from citations were being
      altered (e.g. first letter capitalized) (<a href="https://github.com/jgm/pandoc/issues/898">#898</a>).</li>
      <li>Only capitalize footnote citations when they have a
      prefix.</li>
      <li>Changes in suffix parsing. A suffix beginning with a digit
      gets ‘p’ inserted before it before passing to citeproc-hs, so that
      bare numbers are treated as page numbers by default. A suffix not
      beginning with punctuation has a space added at the beginning
      (rather than a comma and space, as was done before for
      not-author-in-text citations). The result is that <span><code>\citep[23]{item1}</code></span> in LaTeX will
      be interpreted properly, with ‘23’ treated as a locator of type
      ‘page’.</li>
      <li>Many improvements to citation rendering, due to fixes in
      citeproc-hs (thanks to Andrea Rossato).</li>
      <li>Warnings are issued for undefined citations, which are
      rendered as <span><code>???</code></span>.</li>
      <li>Fixed hanging behavior when locale files cannot be found.</li>
      </ul></li>
      </ul>
      </section>
      <section id="template-changes-2">
      <h3><a href="#template-changes-2" aria-hidden="true"></a>Template changes</h3>
      <ul>
      <li><p>DocBook: Use DocBook 4.5 doctype.</p></li>
      <li><p>Org: ‘#+TITLE:’ is inserted before the title. Previously
      the writer did this.</p></li>
      <li><p>LaTeX: Changes to make mathfont work with xelatex. We need
      the mathspec library, not just fontspec, for this. We also need to
      set options for setmathfont (<a href="https://github.com/jgm/pandoc/issues/734">#734</a>).</p></li>
      <li><p>LaTeX: Use <span><code>tex-ansi</code></span> mapping for <span><code>monofont</code></span>. This ensures that
      straight quotes appear as straight, rather than being treated as
      curly. See <a href="https://github.com/jgm/pandoc/issues/889">#889</a>.</p></li>
      <li><p>Made <span><code>\includegraphics</code></span> more flexible
      in LaTeX template. Now it can be used with options, if needed.
      Thanks to Bernhard Weichel.</p></li>
      <li><p>LaTeX/Beamer: Added <span><code>classoption</code></span> variable. This is
      intended for class options like <span><code>oneside</code></span>; it may be repeated
      with different options. (Thanks to Oliver Matthews.)</p></li>
      <li><p>Beamer: Added <span><code>fonttheme</code></span> variable. (Thanks to
      Luis Osa.)</p></li>
      <li><p>LaTeX: Added <span><code>biblio-style</code></span> variable (<a href="https://github.com/jgm/pandoc/issues/920">#920</a>).</p></li>
      <li><p>DZSlides: title attribute on title section.</p></li>
      <li><p>HTML5: add meta tag to allow scaling by user (Erik
      Evenson)</p></li>
      </ul>
      </section>
      <section id="under-the-hood-improvements-2">
      <h3><a href="#under-the-hood-improvements-2" aria-hidden="true"></a>Under-the-hood improvements</h3>
      <ul>
      <li><p>Markdown reader:Improved strong/emph parsing, using the
      strategy of <a href="https://github.com/jgm/Markdown">https://github.com/jgm/Markdown</a>. The new parsing
      algorithm requires no backtracking, and no keeping track of
      nesting levels. It will give different results in some edge cases,
      but these should not affect normal uses.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Compat.Monoid</code></span>. This
      allows pandoc to compile with <span><code>base</code></span> &lt; 4.5, where <span><code>Data.Monoid</code></span> doesn’t export
      <span><code>&lt;&gt;</code></span>. Thanks to Dirk
      Ullirch for the patch.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Compat.TagSoupEntity</code></span>.
      This allows pandoc to compile with <span><code>tagsoup</code></span> 0.13.x. Thanks to Dirk
      Ullrich for the patch.</p></li>
      <li><p>Most of <span><code>Text.Pandoc.Readers.TeXMath</code></span> has
      been moved to the <span><code>texmath</code></span>
      module (0.6.4). (This allows <span><code>pandoc-citeproc</code></span> to handle
      simple math in bibliography fields.)</p></li>
      <li><p>Added <span><code>Text.Pandoc.Writers.Shared</code></span> for
      shared functions used only in writers. <span><code>metaToJSON</code></span> is used in writers
      to create a JSON object for use in the templates from the pandoc
      metadata and variables. <span><code>getField</code></span>, <span><code>setField</code></span>, and <span><code>defField</code></span> are for working with
      JSON template contexts.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Asciify</code></span> utility
      module. This exports functions to create ASCII-only versions of
      identifiers.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span></p>
      <ul>
      <li>Generalized state type on <span><code>readWith</code></span> (API change).</li>
      <li>Specialize readWith to <span><code>String</code></span> input. (API
      change).</li>
      <li>In <span><code>ParserState</code></span>,
      replace <span><code>stateTitle</code></span>, <span><code>stateAuthors</code></span>, <span><code>stateDate</code></span> with <span><code>stateMeta</code></span> and <span><code>stateMeta&#39;</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:
      use strict bytestrings in reading. The use of lazy bytestrings
      seemed to cause problems using pandoc on 64-bit Windows 7/8 (<a href="https://github.com/jgm/pandoc/issues/874">#874</a>).</p></li>
      <li><p>Factored out <span><code>registerHeader</code></span> from markdown
      reader, added to <span><code>Text.Pandoc.Parsing</code></span>.</p></li>
      <li><p>Removed <span><code>blaze_html_0_5</code></span> flag, require
      <span><code>blaze-html</code></span> &gt;= 0.5.
      Reason: &lt; 0.5 does not provide a monoid instance for Attribute,
      which is now needed by the HTML writer (<a href="https://github.com/jgm/pandoc/issues/803">#803</a>).</p></li>
      <li><p>Added <span><code>http-conduit</code></span>
      flag, which allows fetching https resources. It also brings in a
      large number of dependencies (<span><code>http-conduit</code></span> and its
      dependencies), which is why for now it is an optional flag (<a href="https://github.com/jgm/pandoc/issues/820">#820</a>).</p></li>
      <li><p>Added CONTRIBUTING.md.</p></li>
      <li><p>Improved INSTALL instructions.</p></li>
      <li><p><span><code>make-windows-installer.bat</code></span>:
      Removed explicit paths for executables.</p></li>
      <li><p><span><code>aeson</code></span> is now used
      instead of <span><code>json</code></span> for
      JSON.</p></li>
      <li><p>Set default stack size to 16M. This is needed for some
      large conversions, esp. if pandoc is compiled with 64-bit
      ghc.</p></li>
      <li><p>Various small documentation improvements. Thanks to
      achalddave and drothlis for patches.</p></li>
      <li><p>Removed comment that chokes recent versions of CPP (<a href="https://github.com/jgm/pandoc/issues/933">#933</a>).</p></li>
      <li><p>Removed support for GHC version &lt; 7.2, since
      pandoc-types now requires at least GHC 7.2 for GHC
      generics.</p></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-1.11.1-2013-03-17">
      <h2><a href="#pandoc-1.11.1-2013-03-17" aria-hidden="true"></a>pandoc 1.11.1 (2013-03-17)</h2>
      <ul>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Fixed regression in which parentheses were lost in link URLs.
      Added tests. Closes <a href="https://github.com/jgm/pandoc/issues/786">#786</a>.</li>
      <li>Better handling of unmatched double quotes in <span><code>--smart</code></span> mode. These occur
      frequently in fiction, since it is customary not to close quotes
      in dialogue if the speaker does not change between paragraphs. The
      unmatched quotes now get turned into literal left double quotes.
      (No <span><code>Quoted</code></span> inline is
      generated, however.) Closes <a href="https://github.com/jgm/pandoc/issues/99">#99</a>
      (again).</li>
      </ul></li>
      <li><p>HTML writer: Fixed numbering mismatch between TOC and
      sections. <span><code>--number-offset</code></span>
      now affects TOC numbering as well as section numbering, as it
      should have all along. Closes <a href="https://github.com/jgm/pandoc/issues/789">#789</a>.</p></li>
      <li><p>Markdown writer: Reverted 1.11 change that caused citations
      to be rendered as markdown citations, even if <span><code>--bibliography</code></span> was specified,
      unless <span><code>citation</code></span> extension
      is disabled. Now, formatted citations are always printed if <span><code>--bibliography</code></span> was specified.
      If you want to reformat markdown keeping pandoc markdown citations
      intact, don’t use <span><code>--bibliography</code></span>. Note that
      citations parsed from LaTeX documents will be rendered as pandoc
      markdown citations when <span><code>--bibliography</code></span> is not
      specified.</p></li>
      <li><p>ODT writer: Fixed regression leading to corrupt ODTs. This
      was due to a change in the <span><code>Show</code></span> instance for <span><code>Text.Pandoc.Pretty.Doc</code></span>. Closes
      <a href="https://github.com/jgm/pandoc/issues/780">#780</a>.</p></li>
      <li><p>Fixed spacing bugs involving code block attributes in RST
      reader and Markdown writer. Closes <a href="https://github.com/jgm/pandoc/issues/763">#763</a>.</p></li>
      <li><p>Windows package: Various improvements due to Fyodor
      Sheremetyev.</p>
      <ul>
      <li>Automatically set installation path (Program Files or Local
      App Data).</li>
      <li>Set system PATH environment variable when installing for all
      users.</li>
      <li>Pandoc can installed for all users using the following
      command. <span><code>msiexec /i pandoc-1.11.msi ALLUSERS=1</code></span>.</li>
      </ul></li>
      <li><p>Bumped QuickCheck version bound.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.11-2013-03-09">
      <h2><a href="#pandoc-1.11-2013-03-09" aria-hidden="true"></a>pandoc 1.11 (2013-03-09)</h2>
      <ul>
      <li><p>Added <span><code>--number-offset</code></span> option. (See
      README for description.)</p></li>
      <li><p>Added <span><code>--default-image-extension</code></span>
      option. (See README for description.)</p></li>
      <li><p><span><code>--number-sections</code></span>
      behavior change: headers with class <span><code>unnumbered</code></span> will not be
      numbered.</p></li>
      <li><p><span><code>--version</code></span> now
      reports the default data directory.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span> is no
      longer exposed. (API change.)</p></li>
      <li><p><span><code>Text.Pandoc.Highlighting</code></span> is no
      longer exposed. (API change.)</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: Changed
      type of <span><code>Element</code></span>. <span><code>Sec</code></span> now includes a field for
      <span><code>Attr</code></span> rather than just
      <span><code>String</code></span>. (API
      change.)</p></li>
      <li><p>Added <span><code>markdown_github</code></span> as input
      format. This was an accidental omission in 1.10.</p></li>
      <li><p>Added <span><code>readerDefaultImageExtension</code></span>
      field to <span><code>ReaderOptions</code></span>.
      (API change.)</p></li>
      <li><p>Added <span><code>writerNumberOffset</code></span> field in
      <span><code>WriterOptions</code></span>. (API
      change.)</p></li>
      <li><p>Beamer template:</p>
      <ul>
      <li>Fixed captions with longtable. Thanks to Joost Kremers.</li>
      <li>Provide <span><code>\Oldincludegraphics</code></span> as in LaTeX
      template (Benjamin Bannier).</li>
      </ul></li>
      <li><p>LaTeX template:</p>
      <ul>
      <li>Load microtype after fonts. Microtype needs to know what fonts
      are being used. Thanks to dfc for the patch.</li>
      <li>Set <span><code>secnumdepth</code></span> to 5
      if <span><code>--number-sections</code></span>
      specified. This yields behavior equivalent to the other writers,
      numbering level 4 and 5 headers too. Closes <a href="https://github.com/jgm/pandoc/issues/753">#753</a>.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Handle <span><code>&lt;colgroup&gt;</code></span> tag.</li>
      <li>Preserve all header attributes.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Parse <span><code>\hrule</code></span> as <span><code>HorizontalRule</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/746">#746</a>.</li>
      <li>Parse starred variants of <span><code>\section</code></span> etc. as headers with
      attribute <span><code>unnumbered</code></span>.</li>
      <li>Read optional attributes in <span><code>lstlisting</code></span> and <span><code>Verbatim</code></span> environments. We
      convert these to pandoc standard names, e.g. <span><code>numberLines</code></span> for <span><code>numbers=left</code></span>, <span><code>startFrom=100</code></span> from <span><code>firstnumber=100</code></span>.</li>
      <li>Handle language attribute for lstlistings.</li>
      <li>Better support for Verbatim and minted environments. Closes <a href="https://github.com/jgm/pandoc/issues/763">#763</a>.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li><span><code>-</code></span> in an attribute
      context = <span><code>.unnumbered</code></span>.
      The point of this is to provide a way to specify unnumbered
      headers in non-English documents.</li>
      <li>Fixed bug parsing key/value attributes. Parsing failed if you
      had an unquoted attribute immediately before the final ‘}’.</li>
      <li>Make backslash escape work in attributes.</li>
      <li>Fix title block parsing. Now if <span><code>mmd_title_blocks</code></span> is specified,
      pandoc will parse a MMD title block if it sees one, even if <span><code>pandoc_title_blocks</code></span> is
      enabled.</li>
      <li>Refactoring: <span><code>litChar</code></span>
      now includes entities, so we don’t need to use <span><code>fromEntities</code></span> e.g. on
      titles.</li>
      <li>Allow spaces around borders in pipe tables. Closes <a href="https://github.com/jgm/pandoc/issues/772">#772</a>.</li>
      <li>Allow all punctuation in angle-bracket autolinks. Previously
      things like <span><code>----</code></span> were
      disallowed, because the uri parser treated them as trailing
      punctuation. Closes <a href="https://github.com/jgm/pandoc/issues/768">#768</a>.</li>
      <li>Make <span><code>implicit_header_references</code></span> work
      properly when headers are given explicit identifiers.</li>
      <li>Check for tables before line blocks. Otherwise some pipe
      tables get treated as line blocks.</li>
      <li>Allow <span><code>&amp;</code></span> in emails
      (for entities).</li>
      <li>Properly handle entities in titles and links. A markdown link
      <span><code>&lt;http://g&amp;ouml;ogle.com&gt;</code></span>
      should be a link to <span><code>http://göogle.com</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/723">#723</a>.</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Handle attributes on headers.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Add <span><code>fig:</code></span> as title for
      images with captions. This is needed for them to be rendered as
      figures. Closes <a href="https://github.com/jgm/pandoc/issues/766">#766</a>.</li>
      <li>Never emit an empty paragraph. See <a href="https://github.com/jgm/pandoc/issues/761">#761</a>.</li>
      <li>Handle <span><code>\caption</code></span> for
      images in figures. Closes <a href="https://github.com/jgm/pandoc/issues/766">#766</a>.</li>
      <li>Parse <span><code>\section*</code></span>, etc.
      as unnumbered sections.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Support header attributes. The attributes go on the enclosing
      <span><code>section</code></span> or <span><code>div</code></span> tag if <span><code>--section-divs</code></span> is
      specified.</li>
      <li>Fixed a regression (only now noticed) in html+lhs output.
      Previously the bird tracks were being omitted.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Omit lists with no items to avoid LaTeX errors.</li>
      <li>Support line numbering with <span><code>--listings</code></span>. If <span><code>numberLines</code></span> class is present,
      we add <span><code>numbers=left</code></span>; if
      <span><code>startFrom</code></span> is present, we
      add <span><code>firstnumber=</code></span>. (<a href="https://github.com/jgm/pandoc/issues/763">#763</a>)</li>
      </ul></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Removed <span><code>\placecontent</code></span>. This produced a
      duplicate toc, in conjunction with <span><code>\placelist</code></span>.</li>
      <li>Use <span><code>\title</code></span>, <span><code>\subject</code></span> etc. for headers with
      <span><code>unnumbered</code></span> class.</li>
      </ul></li>
      <li><p>Textile writer:</p>
      <ul>
      <li>Support header attributes.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Use grid tables when needed, and if enabled. Closes <a href="https://github.com/jgm/pandoc/issues/740">#740</a>.</li>
      <li>Render citations as pandoc-markdown citations. Previously
      citations were rendered as citeproc-formatted citations by
      default. Now we render them as pandoc citations, e.g. <span><code>[@item1]</code></span>, unless the <span><code>citations</code></span> extension is
      disabled. If you still want formatted citations in your markdown
      output, use <span><code>pandoc -t markdown-citations</code></span>.</li>
      </ul></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Support <span><code>:number-lines:</code></span> in code
      blocks.</li>
      </ul></li>
      <li><p>Docx writer:</p>
      <ul>
      <li>Better treatment of display math. Display math inside a
      paragraph is now put in a separate paragraph, so it will render
      properly (centered and without extra blank lines around it).
      Partially addresses <a href="https://github.com/jgm/pandoc/issues/742">#742</a>.</li>
      <li>Content types and document rels xml files are now created from
      scratch, rather than being taken over from <span><code>reference.docx</code></span>. This fixes
      problems that arise when you edit the <span><code>reference.docx</code></span> with Word.</li>
      <li>We also now encode mime types for each individual image rather
      than using defaults. This should allow us to handle a wider range
      of image types (including PDF). Closes <a href="https://github.com/jgm/pandoc/issues/414">#414</a>.</li>
      <li>Changed style names in <span><code>reference docx</code></span>. <span><code>FootnoteReference</code></span> -&gt; <span><code>FootnoteRef</code></span>, <span><code>Hyperlink</code></span> -&gt; <span><code>Link</code></span>. The old names got changed
      by Word when the <span><code>reference.docx</code></span> was edited.
      Closes <a href="https://github.com/jgm/pandoc/issues/414">#414</a>.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Fix section numbering. Previously the numbering restarted from
      1 in each chapter (with <span><code>--number-sections</code></span>), though the
      numbers in the table of contents were correct.</li>
      <li>Headers with “unnumbered” attribute are not numbered. (Nor do
      they cause an increment in running numbering.) Section numbers now
      work properly, even when there is material before the first
      numbered section.</li>
      <li>Include HTML TOC, even in epub2. The TOC is included in <span><code>&lt;spine&gt;</code></span>, but <span><code>linear</code></span> is set to <span><code>no</code></span> unless the <span><code>--toc</code></span> option is specified.
      Include <span><code>&lt;guide&gt;</code></span>
      element in OPF. This should allow the TOC to be usable in Kindles
      when converted with kindlegen. Closes <a href="https://github.com/jgm/pandoc/issues/773">#773</a>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>: Optimized
      <span><code>oneOfStringsCI</code></span>. This
      dramatically reduces the speed penalty that comes from enabling
      the <span><code>autolink_bare_uris</code></span>
      extension. The penalty is still substantial (in one test, from
      0.33s to 0.44s), but nowhere near what it used to be. The RST
      reader is also much faster now, as it autodetects URIs.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: <span><code>hierarchicalize</code></span> will not number
      section with class “unnumbered”. Unnumbered sections get <span><code>[]</code></span> for their section
      number.</p></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>:</p>
      <ul>
      <li>Fixed <span><code>chomp</code></span> so it
      works inside <span><code>Prefixed</code></span>
      elements.</li>
      <li>Changed <span><code>Show</code></span> instance
      so it is better for debugging.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>: Added
      <span><code>Pdf</code></span> to <span><code>ImageType</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:
      Strip off BOM if present. Closes <a href="https://github.com/jgm/pandoc/issues/743">#743</a>.</p></li>
      <li><p>Windows installer improvements:</p>
      <ul>
      <li>The installer is now signed with a certificate (thanks to
      Fyodor Sheremetyev).</li>
      <li>WiX is used instead of InnoSetup. The installer is now a
      standard msi file.</li>
      <li>The version number is now auto-detected, and need not be
      updated separately.</li>
      </ul></li>
      <li><p>OSX installer improvements:</p>
      <ul>
      <li>The package and pandoc executable are now signed with a
      certificate (thanks to Fyodor Sheremetyev).</li>
      <li>RTF version of license is used.</li>
      <li>Use full path for sysctl in <span><code>InstallationCheck</code></span> script
      (jonahbull). Closes <a href="https://github.com/jgm/pandoc/issues/580">#580</a>.</li>
      </ul></li>
      <li><p>Converted COPYING to markdown.</p></li>
      <li><p>pandoc.cabal: Require latest versions of highlighting-kate,
      texmath, citeproc-hs, zip-archive.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.10.1-2013-01-23">
      <h2><a href="#pandoc-1.10.1-2013-01-23" aria-hidden="true"></a>pandoc 1.10.1 (2013-01-23)</h2>
      <ul>
      <li><p>Markdown reader: various optimizations, leading to a
      significant performance boost.</p></li>
      <li><p>RST reader: Allow anonymous form of inline links: <span><code>`hello &lt;url&gt;`__</code></span> Closes <a href="https://github.com/jgm/pandoc/issues/724">#724</a>.</p></li>
      <li><p>Mediawiki reader: Don’t require newlines after tables.
      Thanks to jrunningen for the patch. Closes <a href="https://github.com/jgm/pandoc/issues/733">#733</a>.</p></li>
      <li><p>Fixed LaTeX macro parsing. Now LaTeX macro definitions are
      preserved when output is LaTeX, and applied when it is another
      format. Partially addresses <a href="https://github.com/jgm/pandoc/issues/730">#730</a>.</p></li>
      <li><p>Markdown and RST readers: Added parser to <span><code>block</code></span> that skips blank lines.
      This fixes a subtle regression involving grid tables with empty
      cells. Also added test for grid table with empty cells. Closes <a href="https://github.com/jgm/pandoc/issues/732">#732</a>.</p></li>
      <li><p>RST writer: Use <span><code>.. code:: language</code></span> for code
      blocks with language. Closes <a href="https://github.com/jgm/pandoc/issues/721">#721</a>.</p></li>
      <li><p>DocBook writer: Fixed output for hard line breaks, adding a
      newline between <span><code>&lt;literallayout&gt;</code></span>
      tags.</p></li>
      <li><p>Markdown writer: Use an autolink when link text matches
      url. Previously we also checked for a null title, but this test
      fails for links produced by citeproc-hs in bibliographies. So, if
      the link has a title, it will be lost on conversion to an
      autolink, but that seems okay.</p></li>
      <li><p>Markdown writer: Set title, author, date variables as
      before. These are no longer used in the default template, since we
      use titleblock, but we set them anyway for those who use custom
      templates.</p></li>
      <li><p>LaTeX writer: Avoid extra space at start/end of table cell.
      Thanks to Nick Bart for the suggestion of using <span data-cites="">@</span>.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>More efficient version of <span><code>anyLine</code></span>.</li>
      <li>Type of <span><code>macro</code></span> has
      changed; the parser now returns <span><code>Blocks</code></span> instead of <span><code>Block</code></span>.</li>
      </ul></li>
      <li><p>Relaxed old-time version bound, allowing 1.0.*.</p></li>
      <li><p>Removed obsolete <span><code>hsmarkdown</code></span> script. Those who
      need <span><code>hsmarkdown</code></span> should
      create a symlink as described in the README.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.10.0.5-2013-01-23">
      <h2><a href="#pandoc-1.10.0.5-2013-01-23" aria-hidden="true"></a>pandoc 1.10.0.5 (2013-01-23)</h2>
      <ul>
      <li><p>Markdown reader: Try <span><code>lhsCodeBlock</code></span> before <span><code>rawTeXBlock</code></span>. Otherwise <span><code>\begin{code}...\end{code}</code></span> isn’t
      handled properly in markdown+lhs. Thanks to Daniel Miot for
      noticing the bug and suggesting the fix.</p></li>
      <li><p>Markdown reader: Fixed bug with headerless grid tables. The
      1.10 code assumed that each table header cell contains exactly one
      block. That failed for headerless tables (0) and also for tables
      with multiple blocks in a header cell. The code is fixed and tests
      provided. Thanks to Andrew Lee for pointing out the bug.</p></li>
      <li><p>Markdown reader: Fixed regressions in fenced code blocks.
      Closes <a href="https://github.com/jgm/pandoc/issues/722">#722</a>.</p>
      <ul>
      <li>Tilde code fences can again take a bare language string (<span><code>~~~ haskell</code></span>), not just
      curly-bracketed attributes (<span><code>~~~ {.haskell}</code></span>).</li>
      <li>Backtick code blocks can take the curly-bracketed
      attributes.</li>
      <li>Backtick code blocks don’t <em>require</em> a language.</li>
      <li>Consolidated code for the two kinds of fenced code
      blocks.</li>
      </ul></li>
      <li><p>LaTeX template: Use <span><code>\urlstyle{same}</code></span> to avoid
      monospace URLs.</p></li>
      <li><p>Markdown writer: Use proportional font for email autolinks
      with obfuscation. Closes <a href="https://github.com/jgm/pandoc/issues/714">#714</a>.</p></li>
      <li><p>Corrected name of <span><code>blank_before_blockquote</code></span> in
      README. Closes <a href="https://github.com/jgm/pandoc/issues/718">#718</a>.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: Fixed bug
      in <span><code>uri</code></span> parser. The bug
      prevented an autolink at the end of a string (e.g. at the end of a
      line block line) from counting as a link. Closes <a href="https://github.com/jgm/pandoc/issues/711">#711</a>.</p></li>
      <li><p>Use the <span><code>hsb2hs</code></span>
      preprocessor instead of TH for embed_data_files. This should work
      on Windows, unlike the TH solution with file-embed.</p></li>
      <li><p>Eliminated use of TH in test suite.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Data</code></span> (non-exported)
      to hold the association list of embedded data files, if the <span><code>embed_data_files</code></span> flag is
      selected. This isolates the code that needs special treatment with
      file-embed or <span><code>hsb2hs</code></span>.</p></li>
      <li><p>Changes to <span><code>make-windows-installer.bat</code></span>.</p>
      <ul>
      <li>Exit batch file if any of the cabal-dev installs fail.</li>
      <li>There’s no longer any need to reinstall <span><code>highlighting-kate</code></span>.</li>
      <li>Don’t start with a <span><code>cabal update</code></span>; leave that to the
      user.</li>
      <li>Force reinstall of pandoc.</li>
      </ul></li>
      <li><p>Fixed EPUB writer so it builds with blaze-html 0.4.x.
      Thanks to Jens Petersen.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.10.0.4-2013-01-20">
      <h2><a href="#pandoc-1.10.0.4-2013-01-20" aria-hidden="true"></a>pandoc 1.10.0.4 (2013-01-20)</h2>
      <ul>
      <li>Fixed bug with escaped % in LaTeX reader. Closes <a href="https://github.com/jgm/pandoc/issues/710">#710</a>.</li>
      </ul>
      </section>
      <section id="pandoc-1.10.0.3-2013-01-20">
      <h2><a href="#pandoc-1.10.0.3-2013-01-20" aria-hidden="true"></a>pandoc 1.10.0.3 (2013-01-20)</h2>
      <ul>
      <li>Added further missing fb2 tests to cabal file.</li>
      </ul>
      </section>
      <section id="pandoc-1.10.0.2-2013-01-20">
      <h2><a href="#pandoc-1.10.0.2-2013-01-20" aria-hidden="true"></a>pandoc 1.10.0.2 (2013-01-20)</h2>
      <ul>
      <li>Added fb2 tests to cabal file’s extra-source-files.</li>
      </ul>
      </section>
      <section id="pandoc-1.10.0.1-2013-01-20">
      <h2><a href="#pandoc-1.10.0.1-2013-01-20" aria-hidden="true"></a>pandoc 1.10.0.1 (2013-01-20)</h2>
      <ul>
      <li>Bump version bounds on test-framework packages.</li>
      </ul>
      </section>
      <section id="pandoc-1.10-2013-01-19">
      <h2><a href="#pandoc-1.10-2013-01-19" aria-hidden="true"></a>pandoc 1.10 (2013-01-19)</h2>
      <section id="new-features-5">
      <h3><a href="#new-features-5" aria-hidden="true"></a>New features</h3>
      <ul>
      <li><p>New input formats: <span><code>mediawiki</code></span> (MediaWiki
      markup).</p></li>
      <li><p>New output formats: <span><code>epub3</code></span> (EPUB v3 with MathML),
      <span><code>fb2</code></span> (FictionBook2
      ebooks).</p></li>
      <li><p>New <span><code>--toc-depth</code></span>
      option, specifying how many levels of headers to include in a
      table of contents.</p></li>
      <li><p>New <span><code>--epub-chapter-level</code></span> option,
      specifying the header level at which to divide EPUBs into separate
      files. Note that this normally affects only performance, not the
      visual presentation of the EPUB in a reader.</p></li>
      <li><p>Removed the <span><code>--strict</code></span> option. Instead of
      using <span><code>--strict</code></span>, one can
      now use the format name <span><code>markdown_strict</code></span> for either
      input or output. This gives more fine-grained control that <span><code>--strict</code></span> did, allowing one to
      convert from pandoc’s markdown to strict markdown or vice
      versa.</p></li>
      <li><p>It is now possible to enable or disable specific syntax
      extensions by appending them (with <span><code>+</code></span> or <span><code>-</code></span>) to the writer or reader
      name. For example,</p>
      <pre><code>pandoc -f markdown-footnotes+hard_line_breaks</code></pre>
      <p>disables footnotes and enables treating newlines as hard line
      breaks. The literate Haskell extensions are now implemented this
      way as well, using either <span><code>+lhs</code></span> or <span><code>+literate_haskell</code></span>. For a list
      of extension names, see the README under “Pandoc’s
      Markdown.”</p></li>
      <li><p>The following aliases have been introduced for specific
      combinations of markdown extensions: <span><code>markdown_phpextra</code></span>, <span><code>markdown_github</code></span>, <span><code>markdown_mmd</code></span>, <span><code>markdown_strict</code></span>. These aliases
      work just like regular reader and writer names, and can be
      modified with extension modifiers as described above. (Note that
      conversion from one markdown dialect to another does not work
      perfectly, because there are differences in markdown parsers
      besides just the extensions, and because pandoc’s internal
      document model is not rich enough to capture all of the
      extensions.)</p></li>
      <li><p>New <span><code>--html-q-tags</code></span>
      option. The previous default was to use <span><code>&lt;q&gt;</code></span> tags for smart quotes
      in HTML5. But <span><code>&lt;q&gt;</code></span>
      tags are also valid HTML4. Moreover, they are not a robust way of
      typesetting quotes, since some user agents don’t support them, and
      some CSS resets (e.g. bootstrap) prevent pandoc’s quotes CSS from
      working properly. We now just insert literal quote characters by
      default in both <span><code>html</code></span> and
      <span><code>html5</code></span> output, but this
      option is provided for those who still want <span><code>&lt;q&gt;</code></span> tags.</p></li>
      <li><p>The markdown reader now prints warnings (to stderr) about
      duplicate link and note references. Closes <a href="https://github.com/jgm/pandoc/issues/375">#375</a>.</p></li>
      <li><p>Markdown syntax extensions:</p>
      <ul>
      <li><p>Added pipe tables. Thanks to François Gannaz for the
      initial patch. These conform to PHP Markdown Extra’s pipe table
      syntax. A subset of org-mode table syntax is also supported, which
      means that you can use org-mode’s nice table editor to create
      tables.</p></li>
      <li><p>Added support for RST-style line blocks. These are useful
      for verse and addresses.</p></li>
      <li><p>Attributes can now be specified for headers, using the same
      syntax as in code blocks. (However, currently only the identifier
      has any effect in most writers.) For example,</p>
      <pre><code>  # My header {#foo}

  See [the header above](#foo).</code></pre></li>
      <li><p>Pandoc will now act as if link references have been defined
      for all headers without explicit identifiers. So, you can do
      this:</p>
      <pre><code>  # My header

  Link to [My header].
  Another link to [it][My header].</code></pre>
      <p>Closes <a href="https://github.com/jgm/pandoc/issues/691">#691</a>.</p></li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Command macros now work everywhere, including non-math.
      Environment macros still not supported.</li>
      <li><span><code>\input</code></span> now works, as
      well as <span><code>\include</code></span>.
      TEXINPUTS is used. Pandoc looks recursively into included files
      for more included files.</li>
      </ul></li>
      </ul>
      </section>
      <section id="behavior-changes-5">
      <h3><a href="#behavior-changes-5" aria-hidden="true"></a>Behavior changes</h3>
      <ul>
      <li><p>The Markdown reader no longer puts the text of autolinks in
      a <span><code>Code</code></span> inline. This means
      that autolinks will no longer appear in a monospace font.</p></li>
      <li><p>The character <span><code>/</code></span>
      can now appear in markdown citation keys.</p></li>
      <li><p>HTML blocks in strict_markdown are no longer required to
      begin at the left margin. Technically this is required, according
      to the markdown syntax document, but <span><code>Markdown.pl</code></span> and other markdown
      processors are more liberal.</p></li>
      <li><p>The <span><code>-V</code></span> option has
      been changed so that if there are duplicate variables, those
      specified later on the command line take precedence.</p></li>
      <li><p>Tight lists now work in LaTeX and ConTeXt output.</p></li>
      <li><p>The LaTeX writer no longer relien on the <span><code>enumerate</code></span> package. Instead, it
      uses standard LaTeX commands to change the list numbering
      style.</p></li>
      <li><p>The LaTeX writer now uses <span><code>longtable</code></span> instead of <span><code>ctable</code></span>. This allows tables to
      be split over page boundaries.</p></li>
      <li><p>The RST writer now uses a line block to render paragraphs
      containing linebreaks (which previously weren’t supported at
      all).</p></li>
      <li><p>The markdown writer now applies the <span><code>--id-prefix</code></span> to footnote IDs.
      Closes <a href="https://github.com/jgm/pandoc/issues/614">#614</a>.</p></li>
      <li><p>The plain writer no longer uses backslash-escaped line
      breaks (which are not very “plain”).</p></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:
      Better error message for invalid UTF8. Read bytestring and use
      <span><code>Text</code></span>’s decodeUtf8 instead
      of using <span><code>System.IO.hGetContents</code></span>. This
      way you get a message saying “invalid UTF-8 stream” instead of
      “invalid byte sequence.” You are also told which byte caused the
      problem.</p></li>
      <li><p>Docx, ODT, and EPUB writers now download images specified
      by a URL instead of skipping them or raising an error.</p></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>The default CSS now left-aligns headers by default, instead of
      centering. This is more consistent with the rest of the
      writers.</li>
      <li>A proper multi-level table of contents is now used in <span><code>toc.ncx</code></span>. There is no longer a
      subsidiary table of contents at the beginning of each
      chapter.</li>
      <li>Code highlighting now works by default.</li>
      <li>Section divs are used by default for better semantic
      markup.</li>
      <li>The title is used instead of “Title Page” in the table of
      contents. Otherwise we have a hard-coded English string, which
      looks strange in ebooks written in other languages. Closes <a href="https://github.com/jgm/pandoc/issues/572">#572</a>.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Put mathjax in span with class “math”. Closes <a href="https://github.com/jgm/pandoc/issues/562">#562</a>.</li>
      <li>Put citations in a span with class “citation.” In HTML5, also
      include a <span><code>data-cite</code></span>
      attribute with a space-separated list of citation keys.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:
      use universalNewlineMode in reading. This treats both <span><code>\r\n</code></span> and <span><code>\n</code></span> as <span><code>\n</code></span> on input, no matter what
      platform we’re running on.</p></li>
      <li><p>Citation processing is now done in the Markdown and LaTeX
      readers, not in <span><code>pandoc.hs</code></span>. This makes it easier
      for library users to use citations.</p></li>
      </ul>
      </section>
      <section id="template-changes-3">
      <h3><a href="#template-changes-3" aria-hidden="true"></a>Template changes</h3>
      <ul>
      <li><p>HTML: Added css to template to preserve spaces in <span><code>&lt;code&gt;</code></span> tags. Thanks to
      Dirk Laurie.</p></li>
      <li><p>Beamer: Remove English-centric strings in section pages.
      Section pages used to have “Section” and a number as well as the
      section title. Now they just have the title. Similarly for part
      and subsection. Closes <a href="https://github.com/jgm/pandoc/issues/566">#566</a>.</p></li>
      <li><p>LaTeX, ConTeXt: Added papersize variable.</p></li>
      <li><p>LaTeX, Beamer templates: Use longtable instead of
      ctable.</p></li>
      <li><p>LaTeX, Beamer templates: Don’t require ‘float’ package for
      tables. We don’t actually seem to use the ‘[H]’ option.</p></li>
      <li><p>Markdown, plain: Fixed titleblock so it is just a single
      string. Previously separate title, author, and date variables were
      used, but this didn’t allow different kinds of title
      blocks.</p></li>
      <li><p>EPUB:</p>
      <ul>
      <li>Rationalized templates. Previously there were three different
      templates involved in epub production. There is now just one
      template, <span><code>default.epub</code></span> or
      <span><code>default.epub3</code></span>. It can now
      be overridden using <span><code>--template</code></span>, just like other
      templates. The titlepage is now folded into the default template.
      A <span><code>titlepage</code></span> variable
      selects it.</li>
      <li>UTF-8, lang tag, meta tags, title element.</li>
      </ul></li>
      <li><p>Added scale-to-width feature to beamer template</p></li>
      </ul>
      </section>
      <section id="api-changes-5">
      <h3><a href="#api-changes-5" aria-hidden="true"></a>API changes</h3>
      <ul>
      <li><p><span><code>Text.Pandoc.Definition</code></span>: Added
      <span><code>Attr</code></span> field to <span><code>Header</code></span>. Previously header
      identifiers were autogenerated by the writers. Now they are added
      in the readers (either automatically or explicitly).</p></li>
      <li><p><span><code>Text.Pandoc.Builder</code></span>:</p>
      <ul>
      <li><span><code>Inlines</code></span> and <span><code>Blocks</code></span> are now synonyms for
      <span><code>Many Inline</code></span> and <span><code>Many Block</code></span>. <span><code>Many</code></span> is a newtype wrapper
      around <span><code>Seq</code></span>, with custom
      Monoid instances for <span><code>Many Inline</code></span> and <span><code>Many Block.  This   allows</code></span>Many<span><code>to be made an instance of</code></span>Foldable<span><code>and</code></span>Traversable`.</li>
      <li>The old <span><code>Listable</code></span>
      class has been removed.</li>
      <li>The module now exports <span><code>isNull</code></span>, <span><code>toList</code></span>, <span><code>fromList</code></span>.</li>
      <li>The old <span><code>Read</code></span> and
      <span><code>Show</code></span> instances have been
      removed; derived instances are now used.</li>
      <li>Added <span><code>headerWith</code></span>.</li>
      </ul></li>
      <li><p>The readers now take a <span><code>ReaderOptions</code></span> rather than a
      <span><code>ParserState</code></span> as a
      parameter. Indeed, not all parsers use the <span><code>ParserState</code></span> type; some have a
      custom state. The motivation for this change was to separate
      user-specifiable options from the accounting functions of parser
      state.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Options</code></span>. This
      includes the <span><code>WriterOptions</code></span> formerly in <span><code>Text.Pandoc.Shared</code></span>, and its
      associated data types. It also includes a new type <span><code>ReaderOptions</code></span>, which contains
      many options formerly in <span><code>ParserState</code></span>, and its associated
      data types:</p>
      <ul>
      <li><span><code>ParserState.stateParseRaw</code></span> -&gt;
      <span><code>ReaderOptions.readerParseRaw</code></span>.</li>
      <li><span><code>ParserState.stateColumns</code></span> -&gt;
      <span><code>ReaderOptions.readerColumns</code></span>.</li>
      <li><span><code>ParserState.stateTabStop</code></span> -&gt;
      <span><code>ReaderOptions.readerTabStop</code></span>.</li>
      <li><span><code>ParserState.stateOldDashes</code></span>
      -&gt; <span><code>ReaderOptions.readerOldDashes</code></span>.</li>
      <li><span><code>ParserState.stateLiterateHaskell</code></span>
      -&gt; <span><code>ReaderOptions.readerLiterateHaskell</code></span>.</li>
      <li><span><code>ParserState.stateCitations</code></span>
      -&gt; <span><code>ReaderOptions.readerReferences</code></span>.</li>
      <li><span><code>ParserState.stateApplyMacros</code></span>
      -&gt; <span><code>ReaderOptions.readerApplyMacros</code></span>.</li>
      <li><span><code>ParserState.stateIndentedCodeClasses</code></span>
      -&gt; <span><code>ReaderOptions.readerIndentedCodeClasses</code></span>.</li>
      <li>Added <span><code>ReaderOptions.readerCitationStyle</code></span>.</li>
      </ul></li>
      <li><p><span><code>WriterOptions</code></span> now
      includes <span><code>writerEpubVersion</code></span>, <span><code>writerEpubChapterLevel</code></span>, <span><code>writerEpubStylesheet</code></span>, <span><code>writerEpubFonts</code></span>, <span><code>writerReferenceODT</code></span>, <span><code>writerReferenceDocx</code></span>, and <span><code>writerTOCDepth</code></span>. <span><code>writerEPUBMetadata</code></span> has been
      renamed <span><code>writerEpubMetadata</code></span> for
      consistency.</p></li>
      <li><p>Changed signatures of <span><code>writeODT</code></span>, <span><code>writeDocx</code></span>, <span><code>writeEPUB</code></span>, since they no longer
      stylesheet, fonts, reference files as separate
      parameters.</p></li>
      <li><p>Removed <span><code>writerLiterateHaskell</code></span> from
      <span><code>WriterOptions</code></span>, and <span><code>readerLiterateHaskell</code></span> from
      <span><code>ReaderOptions</code></span>. LHS is now
      handled by an extension (<span><code>Ext_literate_haskell</code></span>).</p></li>
      <li><p>Removed deprecated <span><code>writerXeTeX</code></span>.</p></li>
      <li><p>Removed <span><code>writerStrict</code></span> from <span><code>WriterOptions</code></span>. Added <span><code>writerExtensions</code></span>. Strict is now
      handled through extensions.</p></li>
      <li><p><span><code>Text.Pandoc.Options</code></span> exports
      <span><code>pandocExtensions</code></span>, <span><code>strictExtensions</code></span>, <span><code>phpMarkdownExtraExtensions</code></span>,
      <span><code>githubMarkdownExtensions</code></span>,
      and <span><code>multimarkdownExtensions</code></span>, as
      well as the <span><code>Extensions</code></span>
      type.</p></li>
      <li><p>New <span><code>Text.Pandoc.Readers.MediaWiki</code></span>
      module, exporting <span><code>readMediaWiki</code></span>.</p></li>
      <li><p>New <span><code>Text.Pandoc.Writers.FB2</code></span> module,
      exporting <span><code>writeFB2</code></span>
      (thanks to Sergey Astanin).</p></li>
      <li><p><span><code>Text.Pandoc</code></span>:</p>
      <ul>
      <li>Added <span><code>getReader</code></span>,
      <span><code>getWriter</code></span> to <span><code>Text.Pandoc</code></span>.</li>
      <li><span><code>writers</code></span> is now an
      association list <span><code>(String, Writer)</code></span>. A <span><code>Writer</code></span> can be a <span><code>PureStringWriter</code></span>, an <span><code>IOStringWriter</code></span>, or an <span><code>IOByteStringWriter</code></span>. ALL writers
      are now in the ‘writers’ list, including the binary writers and
      FB2 writer. This allows code in <span><code>pandoc.hs</code></span> to be
      simplified.</li>
      <li>Changed type of <span><code>readers</code></span>, so all readers are in
      IO. Users who want pure readers can still get them form the reader
      modules; this just affects the function <span><code>getReader</code></span> that looks up a
      reader based on the format name. The point of this change is to
      make it possible to print warnings from the parser.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li><span><code>Text.Parsec</code></span> now
      exports all Parsec functions used in pandoc code. No other module
      directly imports Parsec. This will make it easier to change the
      parsing backend in the future, if we want to.</li>
      <li><span><code>Text.Parsec</code></span> is used
      instead of <span><code>Text.ParserCombinators.Parsec</code></span>.</li>
      <li>Export the type synonym <span><code>Parser</code></span>.</li>
      <li>Export <span><code>widthsFromIndices</code></span>, <span><code>NoteTable&#39;</code></span>, <span><code>KeyTable&#39;</code></span>, <span><code>Key&#39;</code></span>, <span><code>toKey&#39;</code></span>, <span><code>withQuoteContext</code></span>, <span><code>singleQuoteStart</code></span>, <span><code>singleQuoteEnd</code></span>, <span><code>doubleQuoteStart</code></span>, <span><code>doubleQuoteEnd</code></span>, <span><code>ellipses</code></span>, <span><code>apostrophe</code></span>, <span><code>dash</code></span>, <span><code>nested</code></span>, <span><code>F(..)</code></span>, <span><code>askF</code></span>, <span><code>asksF</code></span>, <span><code>runF</code></span>, <span><code>lineBlockLines</code></span>.</li>
      <li><span><code>ParserState</code></span> is no
      longer an instance of <span><code>Show</code></span>.</li>
      <li>Added <span><code>stateSubstitutions</code></span> and <span><code>stateWarnings</code></span> to <span><code>ParserState</code></span>.</li>
      <li>Generalized type of <span><code>withQuoteContext</code></span>.</li>
      <li>Added <span><code>guardEnabled</code></span>,
      <span><code>guardDisabled</code></span>, <span><code>getOption</code></span>.</li>
      <li>Removed <span><code>failIfStrict</code></span>.</li>
      <li><span><code>lookupKeySrc</code></span> and
      <span><code>fromKey</code></span> are no longer
      exported.</li>
      </ul></li>
      <li><p><span><code>Data.Default</code></span>
      instances are now provided for <span><code>ReaderOptions</code></span>, <span><code>WriterOptions</code></span>, and <span><code>ParserState</code></span>. <span><code>Text.Pandoc</code></span> re-exports <span><code>def</code></span>. Now you can use <span><code>def</code></span> (which is re-exported by
      <span><code>Text.Pandoc</code></span>) instead of
      <span><code>defaultWriterOptions</code></span>
      (which is still defined). Closes <a href="https://github.com/jgm/pandoc/issues/546">#546</a>.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Added <span><code>safeRead</code></span>.</li>
      <li>Renamed <span><code>removedLeadingTrailingSpace</code></span> to
      <span><code>trim</code></span>, <span><code>removeLeadingSpace</code></span> to <span><code>triml</code></span>, and <span><code>removeTrailingSpace</code></span> to <span><code>trimr</code></span>.</li>
      <li>Count <span><code>\r</code></span> as space in
      <span><code>trim</code></span> functions.</li>
      <li>Moved <span><code>renderTags&#39;</code></span>
      from HTML reader and <span><code>Text.Pandoc.SelfContained</code></span> to
      <span><code>Shared</code></span>.</li>
      <li>Removed <span><code>failUnlessLHS</code></span>.</li>
      <li>Export <span><code>compactify&#39;</code></span>,
      formerly in Markdown reader.</li>
      <li>Export <span><code>isTightList</code></span>.</li>
      <li>Do not export <span><code>findDataFile</code></span>.</li>
      <li><span><code>readDataFile</code></span> now
      returns a strict ByteString.</li>
      <li>Export <span><code>readDataFileUTF8</code></span> which returns
      a String, like the old <span><code>readDataFile</code></span>.</li>
      <li>Export <span><code>fetchItem</code></span> and
      <span><code>openURL</code></span>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.ImageSize</code></span>: Use
      strict, not lazy bytestrings. Removed <span><code>readImageSize</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:
      Export <span><code>encodePath</code></span>, <span><code>decodePath</code></span>, <span><code>decodeArg</code></span>, <span><code>toString</code></span>, <span><code>fromString</code></span>, <span><code>toStringLazy</code></span>, <span><code>fromStringLazy</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>
      is now an exposed module.</p></li>
      <li><p><span><code>Text.Pandoc.Biblio</code></span>:</p>
      <ul>
      <li>csl parameter now a <span><code>String</code></span> rather than a <span><code>FilePath</code></span>.</li>
      <li>Changed type of <span><code>processBiblio</code></span>. It is no longer
      in the IO monad. It now takes a <span><code>Maybe Style</code></span> argument rather
      than parameters for CSL and abbrev filenames. (<span><code>pandoc.hs</code></span> now calls the
      functions to parse the style file and add abbreviations.)</li>
      </ul></li>
      <li><p>Markdown reader now exports <span><code>readMarkdownWithWarnings</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.RTF</code></span>
      now exports <span><code>writeRTFWithEmbeddedImages</code></span>
      instead of <span><code>rtfEmbedImage</code></span>.</p></li>
      </ul>
      </section>
      <section id="bug-fixes-3">
      <h3><a href="#bug-fixes-3" aria-hidden="true"></a>Bug fixes</h3>
      <ul>
      <li><p>Make <span><code>--ascii</code></span> work
      properly with <span><code>--self-contained</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/568">#568</a>.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li><p>Fixed link parser to avoid exponential slowdowns. Closes <a href="https://github.com/jgm/pandoc/issues/620">#620</a>.
      Previously the parser would hang on input like this:</p>
      <pre><code>  [[[[[[[[[[[[[[[[[[hi</code></pre>
      <p>We fixed this by making the link parser parser characters
      between balanced brackets (skipping brackets in inline code
      spans), then parsing the result as an inline list. One change is
      that</p>
      <pre><code>  [hi *there]* bud](/url)</code></pre>
      <p>is now no longer parsed as a link. But in this respect pandoc
      behaved differently from most other implementations anyway, so
      that seems okay.</p></li>
      <li><p>Look for raw html/latex blocks before tables. Otherwise the
      following gets parsed as a table:</p>
      <pre><code>  \begin{code}
  --------------
  -- My comment.
  \end{code}</code></pre>
      <p>Closes <a href="https://github.com/jgm/pandoc/issues/578">#578</a>.</p></li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li><p>Added support for <span><code>:target:</code></span> on <span><code>.. image::</code></span> blocks and
      substitutions.</p></li>
      <li><p>Field list fixes:</p>
      <ul>
      <li>Fixed field lists items with body beginning after a new line
      (Denis Laxalde).</li>
      <li>Allow any char but ‘:’ in names of field lists in RST reader
      (Denis Laxalde).</li>
      <li>Don’t allow line breaks in field names.</li>
      <li>Require whitespace after field list field names.</li>
      <li>Don’t create empty definition list for metadata field lists.
      Previously a field list consisting only of metadata fields
      (author, title, date) would be parsed as an empty DefinitionList,
      which is not legal in LaTeX and not needed in any format.</li>
      </ul></li>
      <li><p>Don’t recognize inline-markup starts inside words. For
      example, <span><code>2*2 = 4*1</code></span> should
      not contain an emphasized section. Added test case for “Literal
      symbols”. Closes <a href="https://github.com/jgm/pandoc/issues/569">#569</a>.</p></li>
      <li><p>Allow dashes as separator in simple tables. Closes <a href="https://github.com/jgm/pandoc/issues/555">#555</a>.</p></li>
      <li><p>Added support for <span><code>container</code></span>, <span><code>compound</code></span>, <span><code>epigraph</code></span>, <span><code>rubric</code></span>, <span><code>highlights</code></span>, <span><code>pull-quote</code></span>.</p></li>
      <li><p>Added support for <span><code>.. code::</code></span>.</p></li>
      <li><p>Made directive labels case-insensitive.</p></li>
      <li><p>Removed requirement that directives begin at left margin.
      This was (correctly) not in earlier releases; docutils doesn’t
      make the requirement.</p></li>
      <li><p>Added support for <span><code>replace::</code></span> and <span><code>unicode::</code></span>
      substitutions.</p></li>
      <li><p>Ignore unknown interpreted roles.</p></li>
      <li><p>Renamed image parser to <span><code>subst</code></span>, since it now handles all
      substitution references.</p></li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li><p>Allow newlines before pipes in table. Closes <a href="https://github.com/jgm/pandoc/issues/654">#654</a>.</p></li>
      <li><p>Fixed bug with list items containing line breaks. Now
      pandoc correctly handles hard line breaks inside list items.
      Previously they broke list parsing.</p></li>
      <li><p>Implemented comment blocks.</p></li>
      <li><p>Fixed bug affected words ending in hyphen.</p></li>
      <li><p>Properly handle links with surrounding brackets. Square
      brackets need to be used when the link isn’t surrounded by spaces
      or punctuation, or when the URL ending may be ambiguous. Closes <a href="https://github.com/jgm/pandoc/issues/564">#564</a>.</p></li>
      <li><p>Removed nullBlock. Better to know about parsing problems
      than to skip stuff when we get stuck.</p></li>
      <li><p>Allow ID attributes on headers.</p></li>
      <li><p>Textile reader: Avoid parsing dashes as strikeout.
      Previously the input</p>
      <pre><code>  text--
  text--
  text--
  text--</code></pre>
      <p>would be parsed with strikeouts rather than dashes. This fixes
      the problem by requiring that a strikeout delimiting - not be
      followed by a -. Closes <a href="https://github.com/jgm/pandoc/issues/631">#631</a>.</p></li>
      <li><p>Expanded list of <span><code>stringBreakers</code></span>. This fixes a
      bug on input like “(<em>hello</em>)” which should be a
      parenthesized emphasized “hello”. The new list is taken from the
      PHP source of textile 2.4.</p></li>
      <li><p>Fixed autolinks. Previously the textile reader and writer
      incorrectly implemented RST-style autolinks for URLs and email
      addresses. This has been fixed. Now an autolink is done this way:
      <span><code>&#34;$&#34;:http://myurl.com</code></span>.</p></li>
      <li><p>Fixed footnotes bug in textile. This affected notes
      occurring before punctuation, e.g. <span><code>foo[1].</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/518">#518</a>.</p></li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Better handling of citation commands.</li>
      <li>Better handling of <span><code>\noindent</code></span>.</li>
      <li>Added a ‘try’ in rawLaTeXBlock, so we can handle <span><code>\begin</code></span> without <span><code>{</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/622">#622</a>.</li>
      <li>Made <span><code>rawLaTeXInline</code></span>
      try to parse block commands as well. This is usually what we want,
      given how <span><code>rawLaTeXInline</code></span>
      is used in the markdown and textile readers. If a block-level
      LaTeX command is used in the middle of a paragraph (e.g. <span><code>\subtitle</code></span> inside a title), we
      can treat it as raw inline LaTeX.</li>
      <li>Handle <span><code>\slash</code></span>
      command. Closes <a href="https://github.com/jgm/pandoc/issues/605">#605</a>.</li>
      <li>Basic <span><code>\enquote</code></span>
      support.</li>
      <li>Fixed parsing of paragraphs beginning with a group. Closes <a href="https://github.com/jgm/pandoc/issues/606">#606</a>.</li>
      <li>Use curly quotes for bare straight quotes.</li>
      <li>Support obeylines environment. Closes <a href="https://github.com/jgm/pandoc/issues/604">#604</a>.</li>
      <li>Guard against “begin”, “end” in inlineCommand and
      blockCommand.</li>
      <li>Better error messages for environments. Now it should tell you
      that it was looking for \end{env}, instead of giving “unknown
      parse error.”</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Added HTML 5 tags to list of block-level tags.</li>
      <li>HTML reader: Fixed bug in <span><code>htmlBalanced</code></span>, which caused
      hangs in parsing certain markdown input using strict mode.</li>
      <li>Parse <span><code>&lt;q&gt;</code></span> as
      <span><code>Quoted DoubleQuote</code></span>.</li>
      <li>Handle nested <span><code>&lt;q&gt;</code></span> tags properly.</li>
      <li>Modified <span><code>htmlTag</code></span> for
      fewer false positives. A tag must start with <span><code>&lt;</code></span> followed by <span><code>!</code></span>,<span><code>?</code></span>, <span><code>/</code></span>, or a letter. This makes it
      more useful in the wikimedia and markdown parsers.</li>
      </ul></li>
      <li><p>DocBook reader: Support title in “figure” element. Closes
      <a href="https://github.com/jgm/pandoc/issues/650">#650</a>.</p></li>
      <li><p>MediaWiki writer:</p>
      <ul>
      <li>Remove newline after <span><code>&lt;br/&gt;</code></span> in translation of
      <span><code>LineBreak</code></span> There’s no
      particular need for a newline (other than making the generated
      MediaWiki source look nice to a human), and in fact sometimes it
      is incorrect: in particular, inside an enumeration, list items
      cannot have embedded newline characters. (Brent Yorgey)</li>
      <li>Use <span><code>&lt;code&gt;</code></span> not
      <span><code>&lt;tt&gt;</code></span> for Code.</li>
      </ul></li>
      <li><p>Man writer: Escape <span><code>-</code></span> as <span><code>\-</code></span>. Unescaped <span><code>-</code></span>’s become hyphens, while <span><code>\-</code></span>’s are left as ascii minus
      signs. That is preferable for use with command-line options. See
      <a href="https://lintian.debian.org/tags/hyphen-used-as-minus-sign.html">http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html</a>.
      Thanks to Andrea Bolognani for bringing the issue to our
      attention.</p></li>
      <li><p>RST writer:</p>
      <ul>
      <li>Improved line block output. Use nonbreaking spaces for initial
      indent (otherwise lost in HTML and LaTeX). Allow multiple
      paragraphs in a single line block. Allow soft breaks w
      continuations in line blocks.</li>
      <li>Properly handle images with no alt text. Closes <a href="https://github.com/jgm/pandoc/issues/678">#678</a>.</li>
      <li>Fixed bug with links with duplicate text. We now (a) use
      anonymous links for links with inline URLs, and (b) use an inline
      link instead of a reference link if the reference link would
      require a label that has already been used for a different link.
      Closes <a href="https://github.com/jgm/pandoc/issues/511">#511</a>.</li>
      <li>Fixed hyperlinked images. Closes <a href="https://github.com/jgm/pandoc/issues/611">#611</a>. Use
      <span><code>:target:</code></span> field when you
      have a simple linked image.</li>
      <li>Don’t add <span><code>:align: center</code></span> to figures.</li>
      </ul></li>
      <li><p>Texinfo writer: Fixed internal cross-references. Now we
      insert anchors after each header, and use <span><code>@ref</code></span> instead of <span><code>@uref</code></span> for links. Commas are now
      escaped as <span><code>@comma{}</code></span> only
      when needed; previously all commas were escaped. (This change is
      needed, in part, because <span><code>@ref</code></span> commands must be followed
      by a real comma or period.) Also insert a blank line in from of
      <span><code>@verbatim</code></span>
      environments.</p></li>
      <li><p>DocBook writer:</p>
      <ul>
      <li>Made –id-prefix work in DocBook as well as HTML. Closes <a href="https://github.com/jgm/pandoc/issues/607">#607</a>.</li>
      <li>Don’t include empty captions in figures. Closes <a href="https://github.com/jgm/pandoc/issues/581">#581</a>.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use <span><code>\hspace*</code></span> for
      nonbreaking space after line break, since <span><code>~</code></span> spaces after a line break are
      just ignored. Closes <a href="https://github.com/jgm/pandoc/issues/687">#687</a>.</li>
      <li>Don’t escape <span><code>_</code></span> in
      URLs or hyperref identifiers.</li>
      <li>Properly escape strings inside <span><code>\url{}</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/576">#576</a>.</li>
      <li>Use <span><code>[fragile]</code></span> only
      for slides containing code rendered using listings. Closes <a href="https://github.com/jgm/pandoc/issues/649">#649</a>.</li>
      <li>Escape <span><code>|</code></span> as <span><code>\vert</code></span> in LaTeX math. This
      avoids a clash with highlighting-kate’s macros, which redefine
      <span><code>|</code></span> as a short verbatim
      delimiter. Thanks to Björn Peemöller for raising this issue.</li>
      <li>Use minipage rather than parbox for block containers in
      tables. This allows verbatim code to be included in grid tables.
      Closes <a href="https://github.com/jgm/pandoc/issues/663">#663</a>.</li>
      <li>Prevent paragraphs containing only linebreaks or spaces.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Included <span><code>highlighting-css</code></span> for code
      spans, too. Previously it was only included if used in a code
      block. Closes <a href="https://github.com/jgm/pandoc/issues/653">#653</a>.</li>
      <li>Improved line breaks with <span><code>&lt;dd&gt;</code></span> tags. We now put a
      newline between <span><code>&lt;/dd&gt;</code></span> and <span><code>&lt;dd&gt;</code></span> when there are
      multiple definitions.</li>
      <li>Changed mathjax cdn url so it doesn’t use https. (This caused
      problems when used with <span><code>--self-contained</code></span>.) See <a href="https://github.com/jgm/pandoc/issues/609">#609</a>.</li>
      </ul></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li><span><code>--number-sections</code></span> now
      works properly.</li>
      <li>Don’t strip meta and link elements in epub metadata. Patch
      from aberrancy. Closes <a href="https://github.com/jgm/pandoc/issues/589">#589</a>.</li>
      <li>Fixed a couple validation bugs.</li>
      <li>Use ch001, ch002, etc. for chapter filenames. This improves
      sorting of chapters in some readers, which apparently sort ch2
      after ch10. Closes <a href="https://github.com/jgm/pandoc/issues/610">#610</a>.</li>
      </ul></li>
      <li><p>ODT writer: properly set title property (Arlo
      O’Keeffe).</p></li>
      <li><p>Docx writer:</p>
      <ul>
      <li><p>Fixed bug with nested lists. Previously a list like</p>
      <pre><code>  1. one
      - a
      - b
  2. two</code></pre>
      <p>would come out with a bullet instead of “2.” Thanks to Russell
      Allen for reporting the bug.</p></li>
      <li><p>Use <span><code>w:cr</code></span> in <span><code>w:r</code></span> instead of <span><code>w:br</code></span> for linebreaks. This seems
      to fix a problem viewing pandoc-generated docx files in
      LibreOffice.</p></li>
      <li><p>Use integer ids for bookmarks. Closes <a href="https://github.com/jgm/pandoc/issues/626">#626</a>.</p></li>
      <li><p>Added nsid to abstractNum elements. This helps when merging
      word documents with numbered or bulleted lists. Closes <a href="https://github.com/jgm/pandoc/issues/627">#627</a>.</p></li>
      <li><p>Use separate footnotes.xml for notes. This seems to help
      LibreOffice convert the file, even though it was valid docx
      before. Closes <a href="https://github.com/jgm/pandoc/issues/637">#637</a>.</p></li>
      <li><p>Use rIdNN identifiers for r:embed in images.</p></li>
      <li><p>Avoid reading image files again when we’ve already
      processed them.</p></li>
      <li><p>Fixed typo in <span><code>referenc.docx</code></span> that prevented
      image captions from working. Thanks to Huashan Chen.</p></li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Fixed bug in <span><code>withRaw</code></span>,
      which didn’t correctly handle the case where nothing is
      parsed.</li>
      <li>Made <span><code>emailAddress</code></span>
      parser more correct. Now it is based on RFC 822, though it still
      doesn’t implement quoted strings in email addresses.</li>
      <li>Revised URI parser. It now allows many more schemes, allows
      uppercase URIs, and better handles trailing punctuation and
      trailing slashes in bare URIs. Added many tests.</li>
      <li>Simplified and improved singleQuoteStart. This makes <span><code>&#39;s&#39;</code></span>, <span><code>&#39;l&#39;</code></span>, etc. parse properly.
      Formerly we had some English-centric heuristics, but they are no
      longer needed. Closes <a href="https://github.com/jgm/pandoc/issues/698">#698</a>.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>: Added wide
      punctuation range to <span><code>charWidth</code></span>. This fixes bug with
      Chinese commas in markdown and reST tables, and a bug that caused
      combining characters to be dropped.</p></li>
      <li><p><span><code>Text.Pandoc.MIME</code></span>:
      Added MIME types for .wof and .eot. Closes <a href="https://github.com/jgm/pandoc/issues/640">#640</a>.</p></li>
      <li><p><span><code>Text.Pandoc.Biblio</code></span>:</p>
      <ul>
      <li>Run <span><code>mvPunc</code></span> and <span><code>deNote</code></span> on metadata too. This
      fixed a bug with notes on titles using footnote styles.</li>
      <li>Fixed bug in fetching CSL files from CSL data directory.</li>
      </ul></li>
      <li><p><span><code>pandoc.hs</code></span>: Give
      correct value to <span><code>writerSourceDirectory</code></span> when a
      URL is provided. It should be the URL up to the path.</p></li>
      <li><p>Fixed/simplified diff output for tests. Biblio: Make sure
      mvPunc and deNote run on metadata too. This fixed a bug with notes
      on titles using footnote styles.</p></li>
      </ul>
      </section>
      <section id="under-the-hood-improvements-3">
      <h3><a href="#under-the-hood-improvements-3" aria-hidden="true"></a>Under the hood improvements</h3>
      <ul>
      <li><p>We no longer depend on <span><code>utf8-string</code></span>. Instead we use
      functions defined in <span><code>Text.Pandoc.UTF8</code></span> that use <span><code>Data.Text</code></span>’s
      conversions.</p></li>
      <li><p>Use <span><code>safeRead</code></span>
      instead of using <span><code>reads</code></span>
      directly (various modules).</p></li>
      <li><p>“Implicit figures” (images alone in a paragraph) are now
      handled differently. The markdown reader gives their titles the
      prefix <span><code>fig:</code></span>; the writers
      look for this before treating the image as a figure. Though this
      is a bit of a hack, it has two advantages: (i) implicit figures
      can be limited to the markdown reader, and (ii) they can be
      deactivated by turning off the <span><code>implicit_figures</code></span>
      extension.</p></li>
      <li><p><span><code>catch</code></span> from <span><code>Control.Exception</code></span> is now used
      instead of the old Preface <span><code>catch</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: Improved
      algorithm for <span><code>normalizeSpaces</code></span> and <span><code>oneOfStrings</code></span> (which is now
      non-backtracking).</p></li>
      <li><p><span><code>Text.Pandoc.Biblio</code></span>: Remove
      workaround for <span><code>toCapital</code></span>.
      Now citeproc-hs is fixed upstream, so this is no longer needed.
      Closes <a href="https://github.com/jgm/pandoc/issues/531">#531</a>.</p></li>
      <li><p>Textile reader: Improved speed of <span><code>hyphenedWords</code></span>. This speeds up
      the textile reader by about a factor of 4.</p></li>
      <li><p>Use <span><code>Text.Pandoc.Builder</code></span> in RST
      reader, for more flexibility, better performance, and automatic
      normalization.</p></li>
      <li><p>Major rewrite of markdown reader:</p>
      <ul>
      <li>Use <span><code>Text.Pandoc.Builder</code></span> instead of
      lists. This also means that everything is normalized
      automatically.</li>
      <li>Move to a one-pass parsing strategy, returning values in the
      reader monad, which are then run (at the end of parsing) against
      the final parser state.</li>
      </ul></li>
      <li><p>In HTML writer, we now use <span><code>toHtml</code></span> instead of pre-escaping.
      We work around the problem that blaze-html unnecessarily escapes
      <span><code>&#39;</code></span> by pre-escaping just
      the <span><code>&#39;</code></span> characters, instead
      of the whole string. If blaze-html later stops escaping <span><code>&#39;</code></span> characters, we can simplify
      <span><code>strToHtml</code></span> to <span><code>toHtml</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/629">#629</a>.</p></li>
      <li><p>Moved code for embedding images in RTFs from <span><code>pandoc.hs</code></span> to the RTF writer
      (which now exports <span><code>writeRTFWithEmbeddedImages</code></span>).</p></li>
      <li><p>Moved citation processing from <span><code>pandoc.hs</code></span> into the readers.
      This makes things more convenient for library users.</p></li>
      <li><p>The man pages are now built by an executable <span><code>make-pandoc-man-pages</code></span>, which
      has its own stanza in the cabal file so that dependencies can be
      handled by Cabal. Special treatment in <span><code>Setup.hs</code></span> ensures that this
      executable never gets installed; it is only used to create the man
      pages.</p></li>
      <li><p>The cabal file has been modified so that the pandoc library
      is used in building the pandoc executable. (This required moving
      <span><code>pandoc.hs</code></span> from <span><code>src</code></span> to <span><code>.</code></span>.) This cuts compile time in
      half.</p></li>
      <li><p>The <span><code>executable</code></span> and
      <span><code>library</code></span> flags have been
      removed.</p></li>
      <li><p><span><code>-threaded</code></span> has been
      removed from ghc-options.</p></li>
      <li><p>Version bounds of dependencies have been raised, and the
      <span><code>blaze_html_0_5</code></span> flag now
      defaults to True. Pandoc now compiles on GHC 7.6.</p></li>
      <li><p>We now require base &gt;= 4.2.</p></li>
      <li><p>Integrated the benchmark program into cabal. One can now
      do:</p>
      <pre><code>cabal configure --enable-benchmarks &amp;&amp; cabal build
cabal bench --benchmark-option=&#39;markdown&#39; --benchmark-option=&#39;-s 20&#39;</code></pre>
      <p>The benchmark now uses README + testsuite, so benchmark results
      from older versions aren’t comparable.</p></li>
      <li><p>Integrated test suite with cabal. To run tests, configure
      with <span><code>--enable-tests</code></span>, then
      <span><code>cabal test</code></span>. You can
      specify particular tests using <span><code>--test-options=&#39;-t markdown&#39;</code></span>.
      No output is shown unless tests fail. The Haskell test modules
      have been moved from <span><code>src/</code></span>
      to <span><code>tests/</code></span>.</p></li>
      <li><p>Moved all data files and templates to the <span><code>data/</code></span> subdirectory.</p></li>
      <li><p>Added an <span><code>embed_data_files</code></span> cabal flag.
      This causes all data files to be embedded in the binary, so that
      the binary is self-sufficient and can be relocated anywhere,
      copied on a USB key, etc. The Windows installer now uses this.
      (Since we no longer have the option to build the executable
      without the library, this is the only way to get a relocatable
      binary on Windows.)</p></li>
      <li><p>Removed pcre3.dll from windows package. It isn’t needed
      unless highlighting-kate is compiled with the <span><code>pcre-light</code></span> flag. By default,
      regex-prce-builtin is used.</p></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-1.9.4.5-2012-10-21">
      <h2><a href="#pandoc-1.9.4.5-2012-10-21" aria-hidden="true"></a>pandoc 1.9.4.5 (2012-10-21)</h2>
      <ul>
      <li>Raised version bounds on network, base64-bytestring, json, and
      template-haskell.</li>
      </ul>
      </section>
      <section id="pandoc-1.9.4.4-2012-10-20">
      <h2><a href="#pandoc-1.9.4.4-2012-10-20" aria-hidden="true"></a>pandoc 1.9.4.4 (2012-10-20)</h2>
      <ul>
      <li><p>Removed <span><code>tests</code></span> flag
      and made test suite into a proper cabal test suite, which can now
      be enabled using <span><code>--enable-tests</code></span> and run with
      <span><code>cabal test</code></span>.</p></li>
      <li><p>Moved man page creation out of <span><code>Setup.hs</code></span> and into an executable
      built by Cabal, but never installed. This allows dependencies to
      be specified, and solves a problem with 1.9.4.3, which could only
      be installed if <span><code>data-default</code></span> had already been
      installed.</p></li>
      <li><p>Updated <span><code>lhs-latex.tex</code></span> test for latest
      highlighting-kate representation of backticks.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.4.3-2012-10-20">
      <h2><a href="#pandoc-1.9.4.3-2012-10-20" aria-hidden="true"></a>pandoc 1.9.4.3 (2012-10-20)</h2>
      <ul>
      <li><p>Removed <span><code>-threaded</code></span>
      from default compile flags.</p></li>
      <li><p>Modified modules to compile with GHC 7.6 and latest version
      of time package.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.4.2-2012-06-29">
      <h2><a href="#pandoc-1.9.4.2-2012-06-29" aria-hidden="true"></a>pandoc 1.9.4.2 (2012-06-29)</h2>
      <ul>
      <li><p>Don’t encode/decode file paths if base &gt;= 4.4. Prior to
      base 4.4, filepaths and command line arguments were treated as
      unencoded lists of bytes, not unicode strings, so we had to work
      around that by encoding and decoding them. This commit adds CPP
      checks for the base version that intelligibly enable
      encoding/decoding when needed. Fixes a bug with multilingual
      filenames when pandoc was compiled with ghc 7.4 (<a href="https://github.com/jgm/pandoc/issues/540">#540</a>).</p></li>
      <li><p>Don’t generate an empty H1 after hrule slide breaks. We now
      use a slide-level header with contents <span><code>[Str &#34;\0&#34;]</code></span> to mark an hrule
      break. This avoids creation of an empty H1 in these contexts.
      Closes <a href="https://github.com/jgm/pandoc/issues/484">#484</a>.</p></li>
      <li><p>Docbook reader: Added support for “bold” emphasis. Thanks
      to mb21.</p></li>
      <li><p>In make_osx_package.sh, ensure citeproc-hs is built with
      the embed_data_files flag.</p></li>
      <li><p>MediaWiki writer: Avoid extra blank lines after sublists
      (Gavin Beatty).</p></li>
      <li><p>ConTeXt writer: Don’t escape <span><code>&amp;</code></span>, <span><code>^</code></span>, <span><code>&lt;</code></span>, <span><code>&gt;</code></span>, <span><code>_</code></span>, simplified escapes for <span><code>}</code></span> and <span><code>{</code></span> to <span><code>\{</code></span> and <span><code>\}</code></span> (Aditya Mahajan).</p></li>
      <li><p>Fixed handling of absolute URLs in CSS imports with <span><code>--self-contained</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/535">#535</a>.</p></li>
      <li><p>Added webm to mime types. Closes <a href="https://github.com/jgm/pandoc/issues/543">#543</a>.</p></li>
      <li><p>Added some missing exports and tests to the cabal file
      (Alexander V Vershilov).</p></li>
      <li><p>Compile with <span><code>-rtsopts</code></span> and <span><code>-threaded</code></span> by default.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.4.1-2012-06-08">
      <h2><a href="#pandoc-1.9.4.1-2012-06-08" aria-hidden="true"></a>pandoc 1.9.4.1 (2012-06-08)</h2>
      <ul>
      <li><p>Markdown reader: Added <span><code>cf.</code></span> and <span><code>cp.</code></span> to list of likely
      abbreviations.</p></li>
      <li><p>LaTeX template: Added <span><code>linkcolor</code></span>, <span><code>urlcolor</code></span> and <span><code>links-as-notes</code></span> variables. Make
      TOC links black.</p></li>
      <li><p>LaTeX template improvements.</p>
      <ul>
      <li>Don’t print date unless one is given explicitly in the
      document.</li>
      <li>Simplified templates.</li>
      <li>Use fontenc [T1] by default, and lmodern.</li>
      <li>Use microtype if available.</li>
      </ul></li>
      <li><p>Biblio:</p>
      <ul>
      <li>Add comma to beginning of bare suffix, e.g. <span><code>@item1 [50]</code></span>. Motivation: <span><code>@item1 [50]</code></span> should be as close
      as possible to <span><code>[@item1, 50]</code></span>.</li>
      <li>Added workaround for a bug in citeproc-hs 0.3.4 that causes
      footnotes beginning with a citation to be empty. Closes <a href="https://github.com/jgm/pandoc/issues/531">#531</a>.</li>
      </ul></li>
      <li><p>Fixed documentation on mixed lists. Closes <a href="https://github.com/jgm/pandoc/issues/533">#533</a>.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.4-2012-06-03">
      <h2><a href="#pandoc-1.9.4-2012-06-03" aria-hidden="true"></a>pandoc 1.9.4 (2012-06-03)</h2>
      <ul>
      <li><p>Simplified <span><code>Text.Pandoc.Biblio</code></span> and fixed
      bugs with citations inside footnotes and captions. We now handle
      note citations by inserting footnotes during initial citation
      processing, and doing a separate pass later to remove notes inside
      notes.</p></li>
      <li><p>Added ‘zenburn’ highlight style from
      highlighting-kate.</p></li>
      <li><p>Added Slideous writer. Slideous is an HTML + javascript
      slide show format, similar to Slidy, but works with IE 7. (Jonas
      Smedegaard)</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Ensure we don’t have extra blank lines at ends of cells. This
      can cause LaTeX errors, as they are interpreted as new
      paragraphs.</li>
      <li>More consistent interblock spacing.</li>
      <li>Require highlighting-kate &gt;= 0.5.1, for proper highlighted
      inline code in LaTeX. Closes <a href="https://github.com/jgm/pandoc/issues/527">#527</a>.</li>
      <li>Ensure that a Verbatim at the end of a footnote is followed by
      a newline. (Fixes a regression in the previous version.)</li>
      <li>In default template, use black for internal links and TOC.
      Added commented-out code to use footnotes for links, as would be
      suitable in print output.</li>
      </ul></li>
      <li><p>Beamer writer: When <span><code>--incremental</code></span> is used, lists
      inside a block quote should appear all at once. (This makes Beamer
      output consistent with the HTML slide show formats.)</p></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Escape <span><code>%</code></span> as <span><code>\letterpercent{}</code></span> not <span><code>\letterpercent</code></span>, to avoid
      gobbling spaces after the <span><code>%</code></span> sign.</li>
      <li>Ensure space after <span><code>\stopformula</code></span>.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Use <span><code>:</code></span> form instead of
      <span><code>~</code></span> in definition lists,
      for better compatibility with other markdown implementations.</li>
      <li>Don’t wrap the term, because it breaks definition lists.</li>
      <li>Use a nonzero space to prevent false recognition of list
      marker in ordered lists. Closes <a href="https://github.com/jgm/pandoc/issues/516">#516</a>.</li>
      </ul></li>
      <li><p>Org writer: Add space before language name. Closes <a href="https://github.com/jgm/pandoc/issues/523">#523</a>.</p></li>
      <li><p>Docx writer: Simplified bullet characters so they work
      properly with Word 2007. Closes <a href="https://github.com/jgm/pandoc/issues/520">#520</a>.</p></li>
      <li><p>LaTeX reader: Support <span><code>\centerline</code></span>.</p></li>
      <li><p>RST reader: handle figures. Closes <a href="https://github.com/jgm/pandoc/issues/522">#522</a>.</p></li>
      <li><p>Textile reader: fix for <span><code>&lt;notextile&gt;</code></span> and <span><code>==</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/517">#517</a>. (Paul
      Rivier)</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.3-2012-05-12">
      <h2><a href="#pandoc-1.9.3-2012-05-12" aria-hidden="true"></a>pandoc 1.9.3 (2012-05-12)</h2>
      <ul>
      <li><p>Added docbook reader (with contributions from Mauro
      Bieg).</p></li>
      <li><p>Fixed bug in <span><code>fromEntities</code></span>. The previous
      version would turn <span><code>hi &amp; low you know;</code></span> into
      <span><code>hi &amp;</code></span>.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Don’t skip nonbreaking spaces. Previously a paragraph
      containing just <span><code>&amp;nbsp;</code></span> would be rendered as
      an empty paragraph. Thanks to Paul Vorbach for pointing out the
      bug.</li>
      <li>Support <span><code>&lt;col&gt;</code></span>
      and <span><code>&lt;caption&gt;</code></span> in
      tables. Closes <a href="https://github.com/jgm/pandoc/issues/486">#486</a>.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Don’t recognize references inside delimited code blocks.</li>
      <li>Allow list items to begin with lists.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Handle <span><code>\bgroup</code></span>, <span><code>\egroup</code></span>, <span><code>\begingroup</code></span>, <span><code>\endgroup</code></span>.</li>
      <li>Control sequences can’t be followed by a letter. This fixes a
      bug where <span><code>\begingroup</code></span> was
      parsed as <span><code>\begin</code></span> followed
      by <span><code>group</code></span>.</li>
      <li>Parse ‘dimension’ arguments to unknown commands. e.g. <span><code>\parindent0pt</code></span></li>
      <li>Make <span><code>\label</code></span> and <span><code>\ref</code></span> sensitive to <span><code>--parse-raw</code></span>. If <span><code>--parse-raw</code></span> is selected, these
      will be parsed as raw latex inlines, rather than bracketed
      text.</li>
      <li>Don’t crash on unknown block commands (like <span><code>\vspace{10pt}</code></span>) inside <span><code>\author</code></span>; just skip them. Closes
      <a href="https://github.com/jgm/pandoc/issues/505">#505</a>.</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Implemented literal escapes with <span><code>==</code></span> and <span><code>&lt;notextile&gt;</code></span>. Closes <a href="https://github.com/jgm/pandoc/issues/473">#473</a>.</li>
      <li>Added support for LaTeX blocks and inlines (Paul Rivier).</li>
      <li>Better conformance to RedCloth inline parsing (Paul
      Rivier).</li>
      <li>Parse ‘+text+’ as emphasized (should be underlined, but this
      is better than leaving literal plus characters in the output.</li>
      </ul></li>
      <li><p>Docx writer: Fixed multi-paragraph list items. Previously
      they each got a list marker. Closes <a href="https://github.com/jgm/pandoc/issues/457">#457</a>.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Added <span><code>--no-tex-ligatures</code></span> option to
      avoid replacing quotation marks and dashes with TeX
      ligatures.</li>
      <li>Use <span><code>fixltx2e</code></span> package
      to provide <span><code>\textsubscript</code></span>.</li>
      <li>Improve spacing around LaTeX block environments: quote,
      verbatim, itemize, description, enumerate. Closes <a href="https://github.com/jgm/pandoc/issues/502">#502</a>.</li>
      <li>Use blue instead of pink for URL links in latex/pdf
      output.</li>
      </ul></li>
      <li><p>ConTeXt writer: Fixed escaping of <span><code>%</code></span>. In text, <span><code>%</code></span> needs to be escaped as <span><code>\letterpercent</code></span>, not <span><code>\%</code></span> Inside URLs, <span><code>%</code></span> needs to be escaped as <span><code>\%</code></span> Thanks to jmarca and adityam
      for the fix. Closes <a href="https://github.com/jgm/pandoc/issues/492">#492</a>.</p></li>
      <li><p>Texinfo writer: Escape special characters in node titles.
      This fixes a problem pointed out by Joost Kremers. Pandoc used to
      escape an ‘@’ in a chapter title, but not in the corresponding
      node title, leading to invalid texinfo.</p></li>
      <li><p>Fixed document encoding in texinfo template. Resolves
      Debian Bug <a href="https://github.com/jgm/pandoc/issues/667816">#667816</a>.</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Don’t force delimited code blocks to be flush left. Fixes bug
      with delimited code blocks inside lists etc.</li>
      <li>Escape <span><code>&lt;</code></span> and <span><code>$</code></span>.</li>
      </ul></li>
      <li><p>LaTeX writer: Use <span><code>\hyperref[ident]{text}</code></span> for
      internal links. Previously we used <span><code>\href{\#ident}{text}</code></span>, which
      didn’t work on all systems. Thanks to Dirk Laurie.</p></li>
      <li><p>RST writer: Don’t wrap link references. Closes <a href="https://github.com/jgm/pandoc/issues/487">#487</a>.</p></li>
      <li><p>Updated to use latest versions of blaze-html, mtl.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.2-2012-04-05">
      <h2><a href="#pandoc-1.9.2-2012-04-05" aria-hidden="true"></a>pandoc 1.9.2 (2012-04-05)</h2>
      <ul>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Made <span><code>lstlisting</code></span> work
      as a proper verbatim environment.</li>
      <li>Fixed bug parsing LaTeX tables with one column.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Use <span><code>{}</code></span> around <span><code>ctable</code></span> caption, so that
      formatting can be used.</li>
      <li>Don’t require eurosym package unless document has a €.</li>
      </ul></li>
      <li><p>LaTeX template: Added variables for <span><code>geometry</code></span>, <span><code>romanfont</code></span>, <span><code>sansfont</code></span>, <span><code>mathfont</code></span>, <span><code>mainfont</code></span> so users can more
      easily customize fonts.</p></li>
      <li><p>PDF writer:</p>
      <ul>
      <li>Run latex engine at least two times, to ensure that PDFs will
      have hyperlinked bookmarks.</li>
      <li>Added PDF metadata (title,author) in LaTeX standalone + PDF
      output.</li>
      </ul></li>
      <li><p>Texinfo writer: retain directories in image paths. (Peter
      Wang)</p></li>
      <li><p>RST writer: Better handling of inline formatting, in accord
      with docutils’ “inline markup recognition rules” (though we don’t
      implement the unicode rules fully). Now <span><code>hi*there*hi</code></span> gets rendered
      properly as <span><code>hi\ *there*\ hi</code></span>, and
      unnecessary <span><code>\</code></span> are avoided
      around <span><code>:math:</code></span>, <span><code>:sub:</code></span>, <span><code>:sup:</code></span>.</p></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Parse <span><code>\</code></span> as null, not
      escaped space.</li>
      <li>Allow <span><code>:math:`...`</code></span>
      even when not followed by blank or <span><code>\</code></span>. This does not implement the
      complex rule docutils follows, but it should be good enough for
      most purposes.</li>
      <li>Add support for the rST default-role directive. (Greg
      Maslov)</li>
      </ul></li>
      <li><p>Text.Pandoc.Parsing: Added <span><code>stateRstDefaultRole</code></span> field to
      <span><code>ParserState</code></span>. (Greg
      Maslov)</p></li>
      <li><p>Markdown reader: Properly handle citations nested in other
      inline elements.</p></li>
      <li><p>Markdown writer: don’t replace empty alt in image with
      “image”.</p></li>
      <li><p>DZSlides: Updated template.html and styles in default
      template. Removed bizarre CSS for <span><code>q</code></span> in dzslides
      template.</p></li>
      <li><p>Avoid repeated <span><code>id</code></span>
      attribute in section and header in HTML slides.</p></li>
      <li><p>README improvements: new instructions on internal links,
      removed misleading note on reST math.</p></li>
      <li><p>Build system:</p>
      <ul>
      <li>Fixed Windows installer so that dzslides works.</li>
      <li>Removed stripansi.sh.</li>
      <li>Added .travis.yml for Travis continuous integration
      support..</li>
      <li>Fixed upper bound for zlib (Sergei Trofimovich).</li>
      <li>Fixed upper bound for test-framework.</li>
      <li>Updated haddocks for haddock-2.10 (Sergei Trofimovich).</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-1.9.1.2-2012-03-09">
      <h2><a href="#pandoc-1.9.1.2-2012-03-09" aria-hidden="true"></a>pandoc 1.9.1.2 (2012-03-09)</h2>
      <ul>
      <li><p>Added <span><code>beamer+lhs</code></span>
      as output format.</p></li>
      <li><p>Don’t escape <span><code>&lt;</code></span>
      in <span><code>&lt;style&gt;</code></span> tags
      with <span><code>--self-contained</code></span>.
      This fixes a bug which prevented highlighting from working when
      using <span><code>--self-contained</code></span>.</p></li>
      <li><p>PDF: run latex engine three times if <span><code>--toc</code></span> specified. This fixes
      page numbers in the table of contents.</p></li>
      <li><p>Docx writer: Added TableNormal style to tables.</p></li>
      <li><p>LaTeX math environment fixes. <span><code>aligned</code></span> is now used instead of
      the nonexistent <span><code>aligned*</code></span>.
      <span><code>multline</code></span> instead of the
      nonexistent <span><code>multiline</code></span>.</p></li>
      <li><p>LaTeX writer: Use <span><code>\textasciitilde</code></span> for literal
      <span><code>~</code></span>.</p></li>
      <li><p>HTML writer: Don’t escape contents of EQ tags with
      –gladtex. This fixes a regression from 1.8.</p></li>
      <li><p>Use <span><code>&lt;q&gt;</code></span> tags
      for Quoted items for HTML5 output. The quote style can be changed
      by modifying the template or including a css file. A default quote
      style is included.</p></li>
      <li><p>LaTeX reader: Fixed accents (~{a}, <span><code>\c{c}</code></span>). Correctly handle ^{}.
      Support “minted” as a LaTeX verbatim block.</p></li>
      <li><p>Updated LaTeX template for better language support. Use
      <span><code>polyglossia</code></span> instead of
      <span><code>babel</code></span> with xetex. Set
      <span><code>lang</code></span> as documentclass
      option. <span><code>\setmainlanguage</code></span>
      will use the last of a comma-separated list of languages. Thanks
      to François Gannaz.</p></li>
      <li><p>Fixed default LaTeX template so <span><code>\euro</code></span> and <span><code>€</code></span> work. The <span><code>eurosym</code></span> package is needed if
      you are using pdflatex.</p></li>
      <li><p>Fixed escaping of period in man writer (thanks to Michael
      Thompson).</p></li>
      <li><p>Fixed list label positions in beamer.</p></li>
      <li><p>Set <span><code>mainlang</code></span>
      variable in context writer. This parallels behavior of latex
      writer. <span><code>mainlang</code></span> is the
      last of a comma-separated list of languages in lang.</p></li>
      <li><p>EPUB language metadat: convert e.g. <span><code>en_US</code></span> from locale to <span><code>en-US</code></span>.</p></li>
      <li><p>Changed <span><code>-V</code></span> so that
      you can specify a key without a value. Such keys get the value
      <span><code>true</code></span>.</p></li>
      <li><p>Fixed permissions on installed man pages - thanks Magnus
      Therning.</p></li>
      <li><p>Windows installer: require XP or higher. The installer is
      now compiled on a Windows 7 machine, which fixes a problem using
      citation functions on Windows 7.</p></li>
      <li><p>OSX package: Check for 64-bit Intel CPU before
      installing.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.1.1-2012-02-11">
      <h2><a href="#pandoc-1.9.1.1-2012-02-11" aria-hidden="true"></a>pandoc 1.9.1.1 (2012-02-11)</h2>
      <ul>
      <li><p>Better handling of raw latex environments in markdown.
      Now</p>
      <pre><code>\begin{equation}
a_1
\end{equation}</code></pre>
      <p>turns into a raw latex block as expected.</p></li>
      <li><p>Improvements to LaTeX reader:</p>
      <ul>
      <li>Skip options after block commands.</li>
      <li>Correctly handle <span><code>{\\}</code></span>
      in braced.</li>
      <li>Added a needed ‘try’.</li>
      <li>Citations: add <span><code>,</code></span> to
      suffix if it doesn’t start with space or punctuation. Otherwise we
      get no space between the year and the suffix in author-date
      styles.</li>
      </ul></li>
      <li><p>Added two needed data files for S5. This fixes a problem
      with <span><code>pandoc -t s5 --self-contained</code></span>.
      Also removed <span><code>slides.min.js</code></span>, which was no
      longer being used.</p></li>
      <li><p>Fixed some minor problems in <span><code>reference.docx</code></span>: name on “Date”
      style, <span><code>xCs</code></span> instead of
      <span><code>xIs</code></span>.</p></li>
      <li><p>Fixed a problem creating docx files using a reference docx
      modified using Word. The problem seems to be that Word modifies
      <span><code>_rels/.rels</code></span>, changing the
      Type of the Relationship to <span><code>docProps/core.xml</code></span>. Pandoc now
      changes this back to the correct value if it has been altered,
      fixing the problem.</p></li>
      <li><p>Fixed html5 template so it works properly with
      highlighting.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.1-2012-02-09">
      <h2><a href="#pandoc-1.9.1-2012-02-09" aria-hidden="true"></a>pandoc 1.9.1 (2012-02-09)</h2>
      <ul>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Fixed regression in 1.9; properly handle escaped $ in latex
      math.</li>
      <li>Put LaTeX verse environments in blockquotes.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Limit nesting of strong/emph. This avoids exponential
      lookahead in parasitic cases, like <span><code>a**a*a**a*a**a*a**a*a**a*a**a*a**a*a**</code></span>.</li>
      <li>Improved attributes syntax (in code blocks/spans): (1)
      Attributes can contain line breaks. (2) Values in key-value
      attributes can be surrounded by either double or single quotes, or
      left unquoted if they contain no spaces.</li>
      </ul></li>
      <li><p>Headers no longer wrap in markdown or RST writers.</p></li>
      <li><p>Added <span><code>stateMaxNestingLevel</code></span> to <span><code>ParserState</code></span>. We set this to 6,
      so you can still have <span><code>Emph</code></span> inside <span><code>Emph</code></span>, just not
      indefinitely.</p></li>
      <li><p>More efficient implementation of <span><code>nowrap</code></span> in <span><code>Text.Pandoc.Pretty</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.PDF</code></span>:
      Only run latex twice if <span><code>\tableofcontents</code></span> is
      present.</p></li>
      <li><p>Require highlighting-kate &gt;= 0.5.0.2, texmath &gt;=
      0.6.0.2.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.0.5-2012-02-06">
      <h2><a href="#pandoc-1.9.0.5-2012-02-06" aria-hidden="true"></a>pandoc 1.9.0.5 (2012-02-06)</h2>
      <ul>
      <li><p>Changed cabal file so that build-depends for the test
      program are not required unless the tests flag is used.</p></li>
      <li><p>LaTeX writer: insert <span><code>{}</code></span> between adjacent hyphens so
      they don’t form ligatures (dashes) in code spans.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.0.4-2012-02-06">
      <h2><a href="#pandoc-1.9.0.4-2012-02-06" aria-hidden="true"></a>pandoc 1.9.0.4 (2012-02-06)</h2>
      <ul>
      <li><p>Raised version bound on test-framework to avoid problems
      compiling tests on GHC 7.4.1.</p></li>
      <li><p>LaTeX reader: Use raw LaTeX as fallback inline text for
      Cites, so citations don’t just disappear unless you process with
      citeproc. Ignore <span><code>\bibliographystyle</code></span>, <span><code>\nocite</code></span>.</p></li>
      <li><p>Simplified tex2pdf; it will always run latex twice to
      resolve table of contents and hyperrefs.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.0.3-2012-02-06">
      <h2><a href="#pandoc-1.9.0.3-2012-02-06" aria-hidden="true"></a>pandoc 1.9.0.3 (2012-02-06)</h2>
      <ul>
      <li><p>Require Cabal &gt;= 1.10.</p></li>
      <li><p>Tweaked cabal file to meet Cabal 1.10
      requirements.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.9.0.2-2012-02-05">
      <h2><a href="#pandoc-1.9.0.2-2012-02-05" aria-hidden="true"></a>pandoc 1.9.0.2 (2012-02-05)</h2>
      <ul>
      <li>Allow build with json 0.4 or 0.5. Otherwise we can’t build
      with ghc 6.12.</li>
      </ul>
      </section>
      <section id="pandoc-1.9-2012-02-05">
      <h2><a href="#pandoc-1.9-2012-02-05" aria-hidden="true"></a>pandoc 1.9 (2012-02-05)</h2>
      <section id="new-features-6">
      <h3><a href="#new-features-6" aria-hidden="true"></a>New features</h3>
      <ul>
      <li><p>Added a Microsoft Word <span><code>docx</code></span> writer. The writer
      includes support for highlighted code and for math (which is
      converted from TeX to OMML, Office’s native math markup language,
      using texmath’s new OMML module). A new option <span><code>--reference-docx</code></span> allows the
      user to customize the styles.</p></li>
      <li><p>Added an <span><code>asciidoc</code></span>
      writer (<a href="http://www.methods.co.nz/asciidoc/">http://www.methods.co.nz/asciidoc/</a>).</p></li>
      <li><p>Better support for slide shows:</p>
      <ul>
      <li><p>Added a <span><code>dzslides</code></span>
      writer. DZSlides is a lightweight HTML5/javascript slide show
      format due to Paul Rouget (<a href="http://paulrouget.com/dzslides/">http://paulrouget.com/dzslides/</a>).</p></li>
      <li><p>Added a LaTeX <span><code>beamer</code></span> writer. Beamer is a
      LaTeX package for creating slide presentations.</p></li>
      <li><p>New, flexible rules for dividing documents into sections
      and slides (see the “Structuring the slide show” in the User’s
      Guide). These are backward-compatible with the old rules, but they
      allow slide shows to be organized into sections and subsections
      containing multiple slides.</p></li>
      <li><p>A new <span><code>--slide-level</code></span> option allows
      users to override defaults and select a slide level below the
      first header level with content.</p></li>
      </ul></li>
      <li><p>A new <span><code>--self-contained</code></span> option
      produces HTML output that does not depend on an internet
      connection or the presence of any external files. Linked images,
      CSS, and javascript is downloaded (or fetched locally) and encoded
      in <span><code>data:</code></span> URIs. This is
      useful for making portable <span><code>HTML slide shows. The --offline</code></span>
      option has been deprecated and is now <span><code>treated as a synonym or --self-contained</code></span>.</p></li>
      <li><p>Support for PDF output:</p>
      <ul>
      <li>Removed the old <span><code>markdown2pdf</code></span>.</li>
      <li><span><code>pandoc</code></span> can now create
      PDFs (assuming you have latex and a set of appropriate packages
      installed): just specify an output file with the <span><code>.pdf</code></span> extension.</li>
      <li>A new option <span><code>--latex-engine</code></span> allows you to
      specify <span><code>pdflatex</code></span>, <span><code>xelatex</code></span>, or <span><code>lualatex</code></span> as the processor.</li>
      </ul></li>
      <li><p>Highlighting changes:</p>
      <ul>
      <li>Syntax highlighting is now a standard feature; the <span><code>highlighting</code></span> flag is no longer
      needed when compiling.</li>
      <li>A new <span><code>--no-highlight</code></span>
      option allows highlighting to be disabled.</li>
      <li>Highlighting now works in <span><code>docx</code></span>, <span><code>latex</code></span>, and <span><code>epub</code></span>, as well as <span><code>html</code></span>, <span><code>html5</code></span>, <span><code>dzslides</code></span>, <span><code>s5</code></span>, and <span><code>slidy</code></span>.</li>
      <li>A new <span><code>--highlight-style</code></span> option
      selects between various highlighting color themes.</li>
      </ul></li>
      <li><p>Internal links to sections now work in ConTeXt and LaTeX as
      well as HTML.</p></li>
      <li><p>LaTeX <span><code>\include</code></span> and
      <span><code>\usepackage</code></span> commands are
      now processed, provided the files are in the working
      directory.</p></li>
      <li><p>EPUB improvements:</p>
      <ul>
      <li>Internal and external links now work in EPUB.</li>
      <li>Raw HTML is allowed.</li>
      <li>New <span><code>--epub-embed-font</code></span>
      option.</li>
      <li>Customizable templates for EPUB pages offer more control over
      formatting: <span><code>epub-page.html</code></span>, <span><code>epub-coverimage.html</code></span>, <span><code>epub-titlepage.html</code></span>.</li>
      </ul></li>
      <li><p><span><code>--mathml</code></span> now works
      with DocBook.</p></li>
      <li><p>Added support for math in RST reader and writer. Inline
      math uses the <span><code>:math:`...`</code></span>
      construct. Display math uses</p>
      <pre><code>.. math:: ...</code></pre>
      <p>or if the math is multiline,</p>
      <pre><code>.. math::

   ...</code></pre>
      <p>These constructions are now supported now by <span><code>rst2latex.py</code></span>.</p></li>
      <li><p>Github syntax for fenced code blocks is supported in
      pandoc’s markdown. You can now write</p>
      <pre><code>```ruby
x = 2
```</code></pre>
      <p>instead of</p>
      <pre><code>~~~ {.ruby}
x = 2
~~~~</code></pre></li>
      <li><p>Easier scripting: a new <span><code>toJsonFilter</code></span> function makes it
      easier to write Haskell scripts to manipulate the Pandoc AST. See
      <a href="https://bytes.zone/posts/pagerank-for-my-obsidian-notes/scripting.html#pandoc-1.9-changes">Scripting with
      pandoc</a>.</p></li>
      </ul>
      </section>
      <section id="behavior-changes-6">
      <h3><a href="#behavior-changes-6" aria-hidden="true"></a>Behavior changes</h3>
      <ul>
      <li><p>Fixed parsing of consecutive lists in markdown. Pandoc
      previously behaved like Markdown.pl for consecutive lists of
      different styles. Thus, the following would be parsed as a single
      ordered list, rather than an ordered list followed by an unordered
      list:</p>
      <pre><code>1. one
2. two

- one
- two</code></pre>
      <p>This change makes pandoc behave more sensibly, parsing this as
      two lists. Any change in list type (ordered/unordered) or in list
      number style will trigger a new list. Thus, the following will
      also be parsed as two lists:</p>
      <pre><code>1. one
2. two

a. one
b. two</code></pre>
      <p>Since we regard this as a bug in Markdown.pl, and not something
      anyone would ever rely on, we do not preserve the old behavior
      even when <span><code>--strict</code></span> is
      selected.</p></li>
      <li><p>Dashes work differently with <span><code>--smart</code></span>: <span><code>---</code></span> is always em-dash, and
      <span><code>--</code></span> is always en-dash.
      Pandoc no longer tries to guess when <span><code>-</code></span> should be en-dash.
      <em>Note:</em> This may change how existing documents look when
      processed with pandoc. A new option, <span><code>--old-dashes</code></span>, is provided for
      legacy documents.</p></li>
      <li><p>The markdown writer now uses setext headers for levels 1-2.
      The old behavior (ATX headers for all levels) can be restored
      using the new <span><code>--atx-headers</code></span> option.</p></li>
      <li><p>Links are now allowed in markdown image captions. They are
      also allowed in links, but will appear there as regular text.
      So,</p>
      <pre><code>[link with [link](/url)](/url)</code></pre>
      <p>will turn into</p>
      <pre><code>&lt;p&gt;&lt;a href=&#34;/url&#34;&gt;link with link&lt;/a&gt;&lt;/p&gt;</code></pre></li>
      <li><p>Improved handling of citations using <span><code>citeproc-hs-0.3.4</code></span>. Added <span><code>--citation-abbreviations</code></span>
      option.</p></li>
      <li><p>Citation keys can no longer end with a punctuation
      character. This means that <span><code>@item1.</code></span> will be parsed as a
      citation with key ‘item1’, followed by a period, instead of a
      citation with key ‘item1.’, as was the case previously.</p></li>
      <li><p>In HTML output, citations are now put in a span with class
      <span><code>citation</code></span>.</p></li>
      <li><p>The markdown reader now recognizes DocBook block and inline
      tags. It was always possible to include raw DocBook tags in a
      markdown document, but now pandoc will be able to distinguish
      block from inline tags and behave accordingly. Thus, for
      example,</p>
      <pre><code>&lt;sidebar&gt;
hello
&lt;/sidebar&gt;</code></pre>
      <p>will not be wrapped in <span><code>&lt;para&gt;</code></span> tags.</p></li>
      <li><p>The LaTeX parser has been completely rewritten; it is now
      much more accurate, robust, and extensible. However, there are two
      important changes in how it treats unknown LaTeX. (1) Previously,
      unknown environments became BlockQuote elements; now, they are
      treated as “transparent”, so <span><code>\begin{unknown}xyz\end{unknown}</code></span>
      is the same as <span><code>xyz</code></span>. (2)
      Previously, arguments of unknown commands were passed through with
      their braces; now the braces are stripped off.</p></li>
      <li><p><span><code>--smart</code></span> is no
      longer selected automatically with <span><code>man</code></span> output.</p></li>
      <li><p>The deprecated <span><code>--xetex</code></span> option has been
      removed.</p></li>
      <li><p>The <span><code>--html5</code></span>/<span><code>-5</code></span> option has been deprecated.
      Use <span><code>-t html5</code></span> instead.
      <span><code>html5</code></span> and <span><code>html5+lhs</code></span> are now separate
      output formats.</p></li>
      <li><p>Single quotes are no longer escaped in HTML output. They do
      not need to be escaped outside of attributes.</p></li>
      <li><p>Pandoc will no longer transform leading newlines in code
      blocks to <span><code>&lt;br/&gt;</code></span>
      tags.</p></li>
      <li><p>The ODT writer now sizes images appropriately, using the
      image size and DPI information embedded in the image.</p></li>
      <li><p><span><code>--standalone</code></span> is
      once again implicitly for a non-text output format (ODT, EPUB).
      You can again do <span><code>pandoc test.txt -o test.odt</code></span> and
      get a standalone ODT file.</p></li>
      <li><p>The Docbook writer now uses <span><code>&lt;sect1&gt;</code></span>, <span><code>&lt;sect2&gt;</code></span>, etc. instead of
      <span><code>&lt;section&gt;</code></span>.</p></li>
      <li><p>The HTML writer now uses <span><code>&lt;del&gt;</code></span> for
      strikeout.</p></li>
      <li><p>In HTML output with <span><code>--section-divs</code></span>, the classes
      <span><code>section</code></span> and <span><code>level[1,2,..6]</code></span> are put on the
      <span><code>div</code></span> tags so they can be
      styled. In HTML 5 output with <span><code>--section-divs</code></span>, the classes
      <span><code>level[1,2,...6]</code></span> are put
      on <span><code>section</code></span> tags.</p></li>
      <li><p>EPUB writer changes:</p>
      <ul>
      <li>The <span><code>lang</code></span> variable now
      sets the language in the metadata (if it is not set, we default to
      the locale).</li>
      <li>EPUB: UTF-8 is used rather than decimal entities.</li>
      </ul></li>
      <li><p>Added <span><code>titleslide</code></span>
      class to title slide in S5 template.</p></li>
      <li><p>In HTML, EPUB, and docx metadata, the date is normalized
      into YYYY-MM-DD format if possible. (This is required for
      validation.)</p></li>
      <li><p>Attributes in highlighted code blocks are now preserved in
      HTML. The container element will have the classes, id, and
      key-value attributes you specified in the delimited code block.
      Previously these were stripped off.</p></li>
      <li><p>The reference backlink in the HTML writer no longer has a
      special <span><code>footnoteBacklink</code></span>
      class.</p></li>
      <li><p>The HTML template has been split into <span><code>html</code></span> and <span><code>html5</code></span> templates.</p></li>
      <li><p>Author and date are treated more consistently in HTML
      templates. Authors are now <span><code>&lt;h2&gt;</code></span>, date <span><code>&lt;h3&gt;</code></span>.</p></li>
      <li><p>URLs are hyphenated in the ConTeXt writer (B. Scott
      Michel).</p></li>
      <li><p>In <span><code>Text.Pandoc.Builder</code></span>, <span><code>+++</code></span> has been replaced by <span><code>&lt;&gt;</code></span>.</p></li>
      </ul>
      </section>
      <section id="bug-fixes-4">
      <h3><a href="#bug-fixes-4" aria-hidden="true"></a>Bug fixes</h3>
      <ul>
      <li><p>Better support for combining characters and East Asian wide
      characters in markdown and reST.</p></li>
      <li><p>Better handling of single quotes with <span><code>--smart</code></span>. Previously <span><code>D&#39;oh l&#39;*aide*</code></span> would be parsed
      with left and right single quotes instead of apostrophes. This
      kind of error is now fixed.</p></li>
      <li><p>Highlighting: Use <span><code>reads</code></span> instead of <span><code>read</code></span> for better error handling.
      Fixes crash on <span><code>startNum=&#34;abc&#34;</code></span>.</p></li>
      <li><p>Added blank comment after directives in rst
      template.</p></li>
      <li><p>Unescape entities in citation <span><code>refId</code></span>. The <span><code>refId</code></span>s coming from citeproc
      contain XML numeric entities, and these don’t match with the
      citation keys parsed by pandoc. Solution is to unescape
      them.</p></li>
      <li><p>HTML reader: Fixed bug parsing tables with both thead and
      tbody.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Better handling of escapes in link URLs and titles.</li>
      <li>Fixed backslash escapes in reference links.</li>
      <li>Fixed bug in table/hrule parsing, by checking that the top
      line of a table is not followed by a blank line. This bug caused
      slowdowns on some files with hrules and tables, as pandoc tried to
      interpret the hrules as the tops of multiline tables.</li>
      <li>Fixed bug in code block attribute parser. Previously the ID
      attribute got lost if it didn’t come first. Now attributes can
      come in any order.</li>
      </ul></li>
      <li><p>RST reader: allow footnotes followed by newline without
      space characters.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Ignore empty groups {}, { }.</li>
      <li>LaTeX reader: Handle <span><code>\@</code></span>.</li>
      <li>LaTeX reader: Don’t crash on commands like <span><code>\itemsep</code></span>.</li>
      <li>LaTeX reader: Better handling of letter environments.</li>
      </ul></li>
      <li><p>RST writer: Fixed bug involving empty table cells. isSimple
      was being calculated in a way that assumed there were no non-empty
      cells.</p></li>
      <li><p>ConTeXt writer:</p>
      <ul>
      <li>Made <span><code>--toc</code></span> work even
      without <span><code>--number-sections</code></span>.</li>
      <li>Escape # in link URLs.</li>
      <li>Use buffering for footnotes containing code blocks.</li>
      <li>Changed ‘descr’ to ‘description’, fixed alignment.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Escape euro character.</li>
      <li>Don’t escape <span><code>~</code></span> inside
      <span><code>\href{...}</code></span>.</li>
      <li>Escape <span><code>#</code></span> in href
      URLs.</li>
      <li>Improved detection of book classes. We now check the <span><code>documentclass</code></span> variable, and if
      that is not set, we look through the template itself. Also, we
      have added the KOMA classes scrreprt and scrbook. You can now make
      a book using <span><code>pandoc -V documentclass:book mybook.txt -o mybook.pdf</code></span></li>
      <li>LHS files now set the “listings” variable, so that the
      definition of the <span><code>code</code></span>
      environment will be included in the template.</li>
      <li>Links are colored blue by default (this can be changed by
      modifying <span><code>hyperref</code></span>
      settings in the template).</li>
      <li>Added <span><code>lang</code></span> variable
      to LaTeX template.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Fixed bug in HTML template with html5 and mathml.</li>
      <li>Don’t use self-closing img, br, hr tags for HTML5.</li>
      <li>Use <span><code>&lt;section&gt;</code></span>
      for footnotes if HTML5.</li>
      <li>Update HTML templates to use Content-Style-Type meta tag.</li>
      <li>Use separate variables for meta-date, meta-author. This makes
      footnotes work in author and date fields.</li>
      <li>Use ‘vertical-align:middle’ in WebTeX math for better
      alignment.</li>
      </ul></li>
      <li><p>S5/slidy writer: Make footnotes appear on separate slide at
      end.</p></li>
      <li><p>MIME: Added ‘layout-cache’ to getMimeType. This ensures
      that the META-INF/manifest.xml for ODT files will have everything
      it needs, so that ODT files modified by LibreOffice can be used as
      <span><code>--reference-odt</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Templates</code></span>: Return
      empty string for json template.</p></li>
      <li><p><span><code>Text.Pandoc.Biblio</code></span>:</p>
      <ul>
      <li>Expand citations recursively inside nested inlines.</li>
      <li>Treat <span><code>\160</code></span> as space
      when parsing locator and suffix. This fixes a bug with “p. 33”
      when <span><code>--smart</code></span> is used.
      Previously the whole “p. 33” would be included in the suffix, with
      no locator.</li>
      <li>Put whole author-in-text citation in a Cite. Previously just
      the date and other info went in the Cite.</li>
      <li>Don’t add comma+space to prefix if it ends in
      punctuation.</li>
      </ul></li>
      <li><p>Updated chicago-author-date.csl. The old version did not
      work properly for edited volumes with no author.</p></li>
      <li><p>EPUB writer:</p>
      <ul>
      <li>Add date to EPUB titlepage and metadata.</li>
      <li>Added TOC identifier in EPUB page template.</li>
      <li>Don’t generate superfluous file <span><code>cover-image.jpg</code></span>.</li>
      </ul></li>
      </ul>
      </section>
      <section id="under-the-hood-improvements-4">
      <h3><a href="#under-the-hood-improvements-4" aria-hidden="true"></a>Under the hood improvements</h3>
      <ul>
      <li><p>Modified <span><code>make_osx_package.sh</code></span> to use
      cabal-dev. Items are no longer installed as root. Man pages are
      zipped and given proper permissions.</p></li>
      <li><p>Modified windows installer generator to use
      cabal-dev.</p></li>
      <li><p>Setup: Making man pages now works with cabal-dev (at least
      on OSX). In Setup.hs we now invoke ‘runghc’ in a way that points
      it to the correct package databases, instead of always falling
      back to the default user package db.</p></li>
      <li><p>Updated to work with GHC 7.4.1.</p></li>
      <li><p>Removed dependency on old-time.</p></li>
      <li><p>Removed dependency on dlist.</p></li>
      <li><p>New slidy directory for “self-contained.”</p></li>
      <li><p>TeXMath writer: Use unicode thin spaces for thin
      spaces.</p></li>
      <li><p>Markdown citations: don’t strip off initial space in
      locator.</p></li>
      </ul>
      </section>
      <section id="api-changes-6">
      <h3><a href="#api-changes-6" aria-hidden="true"></a>API changes</h3>
      <ul>
      <li><p>Removed <span><code>Apostrophe</code></span>, <span><code>EmDash</code></span>, <span><code>EnDash</code></span>, and <span><code>Ellipses</code></span> from the native <span><code>Inline</code></span> type in pandoc-types.
      Now we use <span><code>Str</code></span> elements
      with unicode.</p></li>
      <li><p>Improvements to <span><code>Text.Pandoc.Builder</code></span>:</p>
      <ul>
      <li><span><code>Inlines</code></span> and <span><code>Blocks</code></span> are now newtypes (not
      synonyms for sequences).</li>
      <li>Instances are defined for <span><code>IsString</code></span>, <span><code>Show</code></span>, <span><code>Read</code></span>, <span><code>Monoid</code></span>, and a new <span><code>Listable</code></span> class, which allows
      these to be manipulated to some extent like lists. Monoid append
      includes automatic normalization.</li>
      <li><span><code>+++</code></span> has been replaced
      by <span><code>&lt;&gt;</code></span>
      (mappend).</li>
      </ul></li>
      <li><p>Use blaze-html instead of xhtml for HTML generation. This
      changes the type of <span><code>writeHtml</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Added <span><code>warn</code></span> and <span><code>err</code></span>.</li>
      <li>Removed <span><code>unescapeURI</code></span>,
      modified <span><code>escapeURI</code></span>. (See
      under <a href="#behavior-changes">behavior changes</a>,
      above.)</li>
      </ul></li>
      <li><p>Changes in URI escaping: Previously the readers escaped
      URIs by converting unicode characters to octets and then percent
      encoding. Now unicode characters are left as they are, and <span><code>escapeURI</code></span> only percent-encodes
      space characters. This gives more readable URIs, and works well
      with modern user agents. URIs are no longer unescaped at all on
      conversion to <span><code>markdown</code></span>,
      <span><code>asciidoc</code></span>, <span><code>rst</code></span>, <span><code>org</code></span>.</p></li>
      <li><p>New module <span><code>Text.Pandoc.SelfContained</code></span>.</p></li>
      <li><p>New module <span><code>Text.Pandoc.Docx</code></span>.</p></li>
      <li><p>New module <span><code>Text.Pandoc.PDF</code></span>.</p></li>
      <li><p>Added <span><code>writerBeamer</code></span>
      to <span><code>WriterOptions</code></span>.</p></li>
      <li><p>Added <span><code>normalizeDate</code></span> to <span><code>Text.Pandoc.Shared</code></span>.</p></li>
      <li><p>Added <span><code>splitStringWithIndices</code></span> in <span><code>Text.Pandoc.Shared</code></span>. This is
      like <span><code>splitWithIndices</code></span>,
      but it is sensitive to distinctions between wide, combining, and
      regular characters.</p></li>
      <li><p><span><code>Text.Pandoc.Pretty</code></span>:</p>
      <ul>
      <li>Added <span><code>chomp</code></span>
      combinator.</li>
      <li>Added <span><code>beforeNonBreak</code></span>
      combinator. This allows you to include something conditionally on
      it being before a nonblank. Used for RST inline math.</li>
      <li>Added <span><code>charWidth</code></span>
      function. All characters marked W or F in the unicode spec
      EastAsianWidth.txt get width 2.</li>
      <li>Added <span><code>realLength</code></span>,
      based on <span><code>charWidth</code></span>. <span><code>realLength</code></span> is now used in
      calculating offsets.</li>
      </ul></li>
      <li><p>New module <span><code>Text.Pandoc.Slides</code></span>, for common
      functions for breaking a document into slides.</p></li>
      <li><p>Removed <span><code>Text.Pandoc.S5</code></span>, which is no
      longer needed.</p></li>
      <li><p>Removed <span><code>Text.Pandoc.CharacterReferences</code></span>.
      Moved <span><code>characterReference</code></span>
      to <span><code>Text.Pandoc.Parsing</code></span>.
      <span><code>decodeCharacterReferences</code></span>
      is replaced by <span><code>fromEntities</code></span> in <span><code>Text.Pandoc.XML</code></span>.</p></li>
      <li><p>Added <span><code>Text.Pandoc.ImageSize</code></span>. This is
      intened for use in <span><code>docx</code></span>
      and <span><code>odt</code></span> writers, so the
      size and dpi of images can be calculated.</p></li>
      <li><p>Removed <span><code>writerAscii</code></span> in <span><code>WriterOptions</code></span>.</p></li>
      <li><p>Added <span><code>writerHighlight</code></span> to <span><code>WriterOptions</code></span>.</p></li>
      <li><p>Added <span><code>DZSlides</code></span> to
      <span><code>HTMLSlideVariant</code></span>.</p></li>
      <li><p><span><code>writeEPUB</code></span> has a
      new argument for font files to embed.</p></li>
      <li><p>Added <span><code>stateLastStrPos</code></span> to <span><code>ParserState</code></span>. This lets us keep
      track of whether we’re parsing the position immediately after a
      regular (non-space, non-symbol) string, which is useful for
      distinguishing apostrophes from single quote starts.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li><span><code>escaped</code></span> now returns a
      <span><code>Char</code></span>.</li>
      <li>Removed <span><code>charsInBalanced&#39;</code></span>, added a
      character parser as a parameter of <span><code>charsInBalanced</code></span>. This is needed
      for proper handling of escapes, etc.</li>
      <li>Added <span><code>withRaw</code></span>.</li>
      </ul></li>
      <li><p>Added <span><code>toEntities</code></span>
      to <span><code>Text.Pandoc.XML</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Readers.LaTeX</code></span>:</p>
      <ul>
      <li>Export <span><code>handleIncludes</code></span>.</li>
      <li>Export <span><code>rawLaTeXBlock</code></span>
      instead of <span><code>rawLaTeXEnvironment&#39;</code></span>.</li>
      </ul></li>
      <li><p>Added <span><code>ToJsonFilter</code></span>
      class and <span><code>toJsonFilter</code></span>
      function to <span><code>Text.Pandoc</code></span>,
      deprecating the old <span><code>jsonFilter</code></span> function.</p></li>
      <li><p><span><code>Text.Pandoc.Highlighting</code></span>:</p>
      <ul>
      <li>Removed <span><code>highlightHtml</code></span>, <span><code>defaultHighlightingCss</code></span>.</li>
      <li>Export <span><code>formatLaTeXInline</code></span>, <span><code>formatLaTeXBlock</code></span>, and <span><code>highlight</code></span>, plus key functions
      from highlighting-kate.</li>
      <li>Changed types of highlighting function. <span><code>highlight</code></span> returns a <span><code>Maybe</code></span>, not an <span><code>Either</code></span>.</li>
      </ul></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-1.8.2.1-2011-08-01">
      <h2><a href="#pandoc-1.8.2.1-2011-08-01" aria-hidden="true"></a>pandoc 1.8.2.1 (2011-08-01)</h2>
      <ul>
      <li><p>Adjusted Arbitrary instance to help avoid timeouts in
      tests.</p></li>
      <li><p>Added <span><code>Tests.Writers.Markdown</code></span> to cabal
      file.</p></li>
      <li><p>Relaxed version bounds on pandoc-types,
      test-framework.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.8.2-2011-07-30">
      <h2><a href="#pandoc-1.8.2-2011-07-30" aria-hidden="true"></a>pandoc 1.8.2 (2011-07-30)</h2>
      <ul>
      <li><p>Added script to produce OS X package.</p></li>
      <li><p>Made <span><code>templates</code></span>
      directory a git submodule. This should make it easier for people
      to revise their custom templates when the default templates
      change.</p></li>
      <li><p>Changed template naming scheme: <span><code>FORMAT.template</code></span> -&gt; <span><code>default.FORMAT</code></span>.
      <strong>Note:</strong> If you have existing templates in <span><code>~/.pandoc/templates</code></span>, you must
      rename them to conform to the new scheme!</p></li>
      <li><p>Default template improvements:</p>
      <ul>
      <li>HTML: Display author and date after title.</li>
      <li>HTML: Made table of contents more customizable. The container
      for the TOC is now in the template, so users can insert a header
      or other styling. (Thanks to Bruce D’Arcus for the
      suggestion.)</li>
      <li>HTML, Slidy, S5: Enclose scripts in CDATA tags.</li>
      <li>Slidy, S5: Added <span><code>s5-url</code></span> and <span><code>slidy-url</code></span> variables, instead of
      hard-coding. If you want to put your slidy files in the slidy
      subdirectory, for example, you can do <span><code>pandoc -t slidy -V slidy-url=slidy -s</code></span>.</li>
      <li>LaTeX: Use <span><code>\and</code></span> to
      separate authors in LaTeX documents (reader &amp; writer). Closes
      <a href="https://github.com/jgm/pandoc/issues/279">#279</a>.</li>
      <li>LaTeX: Set <span><code>\emergencystretch</code></span> to prevent
      overfull lines.</li>
      <li>LaTeX: Use different <span><code>hyperref</code></span> options for <span><code>xetex</code></span>, fixing problems with
      unicode bookmarks (thanks to CircleCode).</li>
      <li>LaTeX: Removed <span><code>ucs</code></span>
      package, use <span><code>utf8</code></span> rather
      than <span><code>utf8x</code></span> with <span><code>inputenc</code></span>. This covers fewer
      characters but is more robust with other packages, and <span><code>ucs</code></span> is unmaintained. Users who
      need better unicode support should use xelatex or lualatex.</li>
      </ul></li>
      <li><p>If a template specified with <span><code>--template</code></span> is not found, look
      for it in <span><code>datadir</code></span>. Also,
      if no extension is provided, supply one based on the writer. So
      now you can put your <span><code>special.latex</code></span> template in <span><code>~/.pandoc/templates</code></span>, and use it
      from any directory via <span><code>pandoc -t latex --template special</code></span>.</p></li>
      <li><p>Added <span><code>nonspaceChar</code></span>
      to <span><code>Text.Pandoc.Parsing</code></span>.</p></li>
      <li><p>Fixed smart quotes bug, now handling <span><code>&#39;...hi&#39;</code></span> properly.</p></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Partial support for labeled footnotes.</li>
      <li>Improved accuracy of <span><code>simpleReferenceName</code></span>
      parser.</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Substitute correct unicode characters for characters in the
      128..159 range, which are often found even in HTML that purports
      to be UTF-8.</li>
      </ul></li>
      <li><p>LaTeX reader: Handle <span><code>\subtitle</code></span> command (a subtitle
      is added to the title, after a colon and linebreak). Closes <a href="https://github.com/jgm/pandoc/issues/280">#280</a>.</p></li>
      <li><p>Leaner <span><code>reference.odt</code></span>.</p></li>
      <li><p>Added unexported module <span><code>Text.Pandoc.MIME</code></span> for use in the
      ODT writer.</p></li>
      <li><p>ODT writer: Construct <span><code>manifest.xml</code></span> based on archive
      contents. This fixes a bug in ODTs containing images. Recent
      versions of LibreOffice would reject these as corrupt, because
      <span><code>manifest.xml</code></span> did not
      contain a reference to the image files.</p></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Make verbatim environments flush to avoid spurious blank
      lines. Closes <a href="https://github.com/jgm/pandoc/issues/277">#277</a>.</li>
      <li>Use <span><code>\texttt</code></span> and
      escapes insntead of <span><code>\verb!...!</code></span>, which is too
      fragile (doesn’t work in command arguments).</li>
      <li>Use <span><code>\enquote{}</code></span> for
      quotes if the template includes the <span><code>csquotes</code></span> package. This provides
      better support for local quoting styles. (Thanks to Andreas Wagner
      for the idea.)</li>
      </ul></li>
      <li><p>ConTeXt writer: Make <span><code>\starttyping</code></span>/<span><code>\stoptyping</code></span> flush with margin,
      preventing spurious blank lines.</p></li>
      <li><p>Slidy writer:</p>
      <ul>
      <li>Use non-minimized version of <span><code>slidy.css</code></span> with <span><code>--offline</code></span> option, so users can
      more easily edit it.</li>
      <li>Also fixed a bug in the CSS that prevented proper centering of
      title (now reported and fixed upstream).</li>
      </ul></li>
      <li><p>S5 writer:</p>
      <ul>
      <li>Replaced <span><code>s5/default/slides.js.{comment,packed}</code></span>
      with new compressed <span><code>s5/default/slides.min.js</code></span>.</li>
      <li>Use <span><code>data:</code></span> protocol to
      embed S5 CSS in <span><code>&lt;link&gt;</code></span> tags, when <span><code>--offline</code></span> is specified. Using
      inline CSS didn’t work with Chrome or Safari. This fixes offline
      S5 on those browsers.</li>
      </ul></li>
      <li><p>HTML writer: Removed English title on footnote backlinks.
      This is incongrous in non-English documents.</p></li>
      <li><p>Docbook writer:</p>
      <ul>
      <li>Use CALS tables. (Some older docbook software does not work
      well with XHTML tables.) Closes <a href="https://github.com/jgm/pandoc/issues/77">#77</a>.</li>
      <li>Use <span><code>programlisting</code></span>
      tags (instead of <span><code>screen</code></span>)
      for code blocks.</li>
      </ul></li>
      <li><p><span><code>markdown2pdf</code></span>:</p>
      <ul>
      <li>Calls latex with <span><code>-halt-on-error -interaction nonstopmode</code></span>
      instead of <span><code>-interaction=batchmode</code></span>, which
      essentially just ignored errors, leading to bad results. Better to
      know when something is wrong.</li>
      <li>Fixed issues with non-UTF-8 output of <span><code>pdflatex</code></span>.</li>
      <li>Better error reporting.</li>
      </ul></li>
      <li><p><span><code>--mathjax</code></span> now
      takes an optional URL argument. If it is not provided, pandoc
      links directly to the (secure) mathjax CDN, as now recommended
      (thanks to dsanson).</p></li>
      <li><p>Deprecated <span><code>--xetex</code></span>
      option in <span><code>pandoc</code></span>. It is
      no longer needed, since the LaTeX writer now produces a file that
      can be processed by <span><code>latex</code></span>, <span><code>pdflatex</code></span>, <span><code>lualatex</code></span>, or <span><code>xelatex</code></span>.</p></li>
      <li><p>Introduced <span><code>--luatex</code></span> option to <span><code>markdown2pdf</code></span>. This causes <span><code>lualatex</code></span> to be used to create
      the PDF.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.8.1.2-2011-07-16">
      <h2><a href="#pandoc-1.8.1.2-2011-07-16" aria-hidden="true"></a>pandoc 1.8.1.2 (2011-07-16)</h2>
      <ul>
      <li><p>Added <span><code>--epub-cover-image</code></span>
      option.</p></li>
      <li><p>Documented <span><code>--biblatex</code></span> and <span><code>--natbib</code></span> options.</p></li>
      <li><p>Allow <span><code>--section-divs</code></span> with slidy
      output. Resolves Issue <a href="https://github.com/jgm/pandoc/issues/296">#296</a>.</p></li>
      <li><p>Disallow notes within notes in reST and markdown. These
      previously caused infinite looping and stack overflows. For
      example:</p>
      <pre><code>[^1]

[^1]: See [^1]</code></pre>
      <p>Note references are allowed in reST notes, so this isn’t a full
      implementation of reST. That can come later. For now we need to
      prevent the stack overflows. Partially resolves Issue <a href="https://github.com/jgm/pandoc/issues/297">#297</a>.</p></li>
      <li><p>EPUB writer: Allow non-plain math methods.</p></li>
      <li><p>Forbid ()s in citation item keys. Resolves Issue <a href="https://github.com/jgm/pandoc/issues/304">#304</a>: problems
      with <span><code>(@item1; @item2)</code></span>
      because the final paren was being parsed as part of the item
      key.</p></li>
      <li><p>Changed URI parser so it doesn’t include trailing
      punctuation. So, in RST, <span><code>http://google.com.</code></span> should be
      parsed as a link followed by a period. The parser is smart enough
      to recognize balanced parentheses, as often occur in wikipedia
      links: <span><code>http://foo.bar/baz_(bam)</code></span>.</p></li>
      <li><p>Markdown+lhs reader: Require space after inverse bird
      tracks, so that HTML tags can be used freely at the left margin of
      a markdown+lhs document. Thanks to Conal Elliot for the
      suggestion.</p></li>
      <li><p>Markdown reader: Fixed bug in footnote order (reported by
      CircleCode).</p></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Fixed bug in in field lists with multi-line items at the end
      of the list.</li>
      <li>Added parentheses to RST <span><code>specialChars</code></span>, so <span><code>(http://google.com)</code></span> will be
      parsed as a link in parens. Resolves Issue <a href="https://github.com/jgm/pandoc/issues/291">#291</a>.</li>
      <li>Allow <span><code>|</code></span> followed by
      newline in RST line block.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Support <span><code>\dots</code></span>.</li>
      <li>Gobble option &amp; space after linebreak <span><code>\\[10pt]</code></span>.</li>
      </ul></li>
      <li><p>Textile reader:</p>
      <ul>
      <li>Make it possible to have colons after links. (qerub)</li>
      <li>Make it possible to have colons after links. (Christoffer
      Sawicki)</li>
      </ul></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Skip spaces after <span><code>&lt;b&gt;</code></span>, <span><code>&lt;emph&gt;</code></span>, etc.</li>
      <li>Handle tbody, thead in simple tables. Closes <a href="https://github.com/jgm/pandoc/issues/274">#274</a>.</li>
      <li>Implicit <span><code>Para</code></span>s
      instead of <span><code>Plains</code></span> in some
      contexts.</li>
      </ul></li>
      <li><p>OpenDocument writer: Use special <span><code>First paragraph</code></span> style for first
      paragraph after most non-paragraph blocks. This allows users to
      specify e.g. that only paragraphs after the first paragraph of a
      block are to be indented. Thanks to Andrea Rossato for the patch.
      Closes <a href="https://github.com/jgm/pandoc/issues/20">#20</a>.</p></li>
      <li><p>LaTeX writer: use <span><code>deVerb</code></span> on table and picture
      captions. Otherwise LaTeX complains about <span><code>\verb</code></span> inside command argument.
      Thanks to bbanier for reporting the bug.</p></li>
      <li><p>Markdown writer: Insert HTML comment btw list and indented
      code block. This prevents the code block from being interpreted as
      part of the list.</p></li>
      <li><p>EPUB writer: Add a meta element specify the cover. Some
      EPUB e-readers, such as the Nook, require a meta element inside
      the OPF metadata block to ensure the cover image is properly
      displayed. (Kelsey Hightower)</p></li>
      <li><p>HTML writer: Use embed tag for images with non-image
      extensions. (e.g. PDFs). Closes <a href="https://github.com/jgm/pandoc/issues/264">#264</a>.</p></li>
      <li><p>LaTeX writer: Improved tables.</p>
      <ul>
      <li>More space between lines, top-align cells.</li>
      <li>Use ctable package, which allows footnotes and provides
      additional options.</li>
      <li>Made cell alignments work in multiline tables.</li>
      <li>Closes <a href="https://github.com/jgm/pandoc/issues/271">#271</a>, <a href="https://github.com/jgm/pandoc/issues/272">#272</a>.</li>
      </ul></li>
      <li><p>Un-URI-escape image filenames in LaTeX, ConTeXt, RTF,
      Texinfo. Also do this when copying image files into EPUBs and
      ODTs. Closes <a href="https://github.com/jgm/pandoc/issues/263">#263</a>.</p></li>
      <li><p>Changed to github issue tracker.</p></li>
      <li><p>Added failing emph/strong markdown test case due to Perry
      Wagle.</p></li>
      <li><p>Slidy improvements:</p>
      <ul>
      <li>Updated to use Slidy2.</li>
      <li>Fixed bug, unclosed div tag.</li>
      <li>Added <span><code>duration</code></span>
      variable in template. Setting this activates the timer.</li>
      <li>Use ‘titlepage’ instead of ‘cover’ for title div.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-1.8.1.1-2011-02-13">
      <h2><a href="#pandoc-1.8.1.1-2011-02-13" aria-hidden="true"></a>pandoc 1.8.1.1 (2011-02-13)</h2>
      <ul>
      <li><span><code>markdown2pdf</code></span>: Removed
      some debugging lines accidentally included in the 1.8.1 release.
      With those lines, the temp directory is created in the working
      directory, and it is not deleted. This fix restores the original
      behavior.</li>
      </ul>
      </section>
      <section id="pandoc-1.8.1-2011-02-13">
      <h2><a href="#pandoc-1.8.1-2011-02-13" aria-hidden="true"></a>pandoc 1.8.1 (2011-02-13)</h2>
      <ul>
      <li><p>Added <span><code>--ascii</code></span>
      option. Currently supported only in HTML writer, which it causes
      to use numerical entities instead of UTF-8.</p></li>
      <li><p>EPUB writer: <span><code>--toc</code></span>
      now works to provide a table of contents at the beginning of each
      chapter.</p></li>
      <li><p>LaTeX writer: Change figure defaults to <span><code>htbp</code></span>. This prevents “too many
      unprocessed floats.” Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/285">#285</a>.</p></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>:
      Encode filenames even when using recent base.</p></li>
      <li><p><span><code>markdown2pdf</code></span>:
      Fixed filename encoding issues. With help from Paulo Tanimoto.
      Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/286">#286</a>.</p></li>
      <li><p>HTML writer: Put line breaks in section divs.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>: Make <span><code>writerSectionDivs</code></span> default to
      False.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.8.0.3-2011-02-05">
      <h2><a href="#pandoc-1.8.0.3-2011-02-05" aria-hidden="true"></a>pandoc 1.8.0.3 (2011-02-05)</h2>
      <ul>
      <li>Fixed Source-repository stanza in cabal file.</li>
      </ul>
      </section>
      <section id="pandoc-1.8.0.2-2011-02-05">
      <h2><a href="#pandoc-1.8.0.2-2011-02-05" aria-hidden="true"></a>pandoc 1.8.0.2 (2011-02-05)</h2>
      <ul>
      <li><p>HTML writer:</p>
      <ul>
      <li>Stringify alt text instead of converting to HTML.</li>
      <li>Break lines after block elements, not inside tags. HTML output
      now closely resembles that of tidy. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/134">#134</a>.</li>
      </ul></li>
      <li><p>Markdown reader: Fixed bug in footnote block parser
      (pointed out by Jesse Rosenthal). The problem arose when the blank
      line at the end of a footnote block contained indenting
      spaces.</p></li>
      <li><p>Shared: Improved ‘normalize’ function so it normalizes
      Spaces too. In normal form, Space elements only occur to separate
      two non-Space elements. So, we never have [Space], or [, …,
      Space].</p></li>
      <li><p>Tests:</p>
      <ul>
      <li>Improved Arbitrary instance.</li>
      <li>Added timeout for test instances.</li>
      </ul></li>
      <li><p>README:</p>
      <ul>
      <li>Added section on four-space rule for lists. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/283">#283</a>.</li>
      <li>Clarified optional arguments on math options.</li>
      </ul></li>
      <li><p>markdown2pdf: Fixed bug with output file extensions.
      Previously <span><code>markdown2pdf test.txt -o test.en.pdf</code></span>
      would produce <span><code>test.pdf</code></span>,
      not <span><code>test.en.pdf</code></span>. Thanks
      to Paolo Tanimoto for the fix.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.8.0.1-2011-01-31">
      <h2><a href="#pandoc-1.8.0.1-2011-01-31" aria-hidden="true"></a>pandoc 1.8.0.1 (2011-01-31)</h2>
      <ul>
      <li><p>Revised Interact.hs so that it works with the CPP macros in
      the UTF8 module.</p></li>
      <li><p>Revised Setup.hs so that we don’t call MakeManPage.hs
      unless the man pages are out of date.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.8-2011-01-30">
      <h2><a href="#pandoc-1.8-2011-01-30" aria-hidden="true"></a>pandoc 1.8 (2011-01-30)</h2>
      <section id="new-features-7">
      <h3><a href="#new-features-7" aria-hidden="true"></a>New features</h3>
      <ul>
      <li><p>Support for citations using Andrea Rossato’s <span><code>citeproc-hs</code></span> 0.3. You can now
      write, for example,</p>
      <pre><code>Water is wet [see @doe99, pp. 33-35; also @smith04, ch. 1].</code></pre>
      <p>and, when you process your document using <span><code>pandoc</code></span>, specifying a citation
      style using <span><code>--csl</code></span> and a
      bibliography using <span><code>--bibliography</code></span>, the citation
      will be replaced by an appropriately formatted citation, and a
      list of works cited will be added to the end of the document.</p>
      <p>This means that you can switch effortlessly between different
      citation and bibliography styles, including footnote, numerical,
      and author-date formats. The bibliography can be in any of the
      following formats: MODS, BibTeX, BibLaTeX, RIS, EndNote, EndNote
      XML, ISI, MEDLINE, Copac, or JSON. See the README for further
      details.</p>
      <p>Citations are supported in the markdown reader, using a special
      syntax, and in the LaTeX reader, using natbib or biblatex syntax.
      (Thanks to Nathan Gass for the natbib and biblatex
      support.)</p></li>
      <li><p>New <span><code>textile</code></span> reader
      and writer. Thanks to Paul Rivier for contributing the <span><code>textile</code></span> reader, an almost
      complete implementation of the textile syntax used by the ruby <a href="http://redcloth.org/textile">RedCloth library</a>. Resolves
      Issue <a href="https://code.google.com/archive/p/pandoc/issues/51">#51</a>.</p></li>
      <li><p>New <span><code>org</code></span> writer,
      for Emacs Org-mode, contributed by Puneeth Chaganti.</p></li>
      <li><p>New <span><code>json</code></span> reader
      and writer, for reading and writing a JSON representation of the
      native Pandoc AST. These are much faster than the <span><code>native</code></span> reader and writer, and
      should be used for serializing Pandoc to text. To convert between
      the JSON representation and native Pandoc, use <span><code>encodeJSON</code></span> and <span><code>decodeJSON</code></span> from <span><code>Text.JSON.Generic</code></span>.</p></li>
      <li><p>A new <span><code>jsonFilter</code></span>
      function in <span><code>Text.Pandoc</code></span>
      makes it easy to write scripts that transform a JSON-encoded
      pandoc document. For example:</p>
      <pre><code>-- removelinks.hs - removes links from document
import Text.Pandoc
main = interact $ jsonFilter $ bottomUp removeLink
         where removeLink (Link xs _) = Emph xs
               removeLink x = x</code></pre>
      <p>To use this to remove links while translating markdown to
      LaTeX:</p>
      <pre><code>pandoc -t json | runghc removelinks.hs | pandoc -f json -t latex</code></pre></li>
      <li><p>Attributes are now allowed in inline <span><code>Code</code></span> elements, for example:</p>
      <pre><code>In this code, `ulist ! [theclass &#34;special&#34;] &lt;&lt; elts`{.haskell} is...</code></pre>
      <p>The attribute syntax is the same as for delimited code blocks.
      <span><code>Code</code></span> inline has an extra
      argument place for attributes, just like <span><code>CodeBlock</code></span>. Inline code will be
      highlighted in HTML output, if pandoc is compiled with
      highlighting support. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/119">#119</a>.</p></li>
      <li><p>New <span><code>RawBlock</code></span> and
      <span><code>RawInline</code></span> elements
      (replacing <span><code>RawHtml</code></span>, <span><code>HtmlInline</code></span>, and <span><code>TeX</code></span>) provide lots of
      flexibility in writing scripts to transform Pandoc documents.
      Scripts can now change how each element is rendered in each output
      format.</p></li>
      <li><p>You can now define LaTeX macros in markdown documents, and
      pandoc will apply them to TeX math. For example,</p>
      <pre><code>\newcommand{\plus}[2]{#1 + #2}
$\plus{3}{4}$</code></pre>
      <p>yields <span><code>3+4</code></span>. Since the
      macros are applied in the reader, they will work in every output
      format, not just LaTeX.</p></li>
      <li><p>LaTeX macros can also be used in LaTeX documents (both in
      math and in non-math contexts).</p></li>
      <li><p>A new <span><code>--mathjax</code></span>
      option has been added for displaying math in HTML using MathJax.
      Resolves issue <a href="https://code.google.com/archive/p/pandoc/issues/259">#259</a>.</p></li>
      <li><p>Footnotes are now supported in the RST reader. (Note,
      however, that unlike docutils, pandoc ignores the numeral or
      symbol used in the note; footnotes are put in an auto-numbered
      ordered list.) Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/258">#258</a>.</p></li>
      <li><p>A new <span><code>--normalize</code></span>
      option causes pandoc to normalize the AST before writing the
      document. This means that, for example, <span><code>*hi**there*</code></span> will be rendered as
      <span><code>&lt;em&gt;hithere&lt;/em&gt;</code></span>
      instead of <span><code>&lt;em&gt;hi&lt;/em&gt;&lt;em&gt;there&lt;/em&gt;</code></span>.
      This is not the default, because there is a significant
      performance penalty.</p></li>
      <li><p>A new <span><code>--chapters</code></span>
      command-line option causes headers in DocBook, LaTeX, and ConTeXt
      to start with “chapter” (level one). Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/265">#265</a>.</p></li>
      <li><p>In DocBook output, <span><code>&lt;chapter&gt;</code></span> is now used for
      top-level headers if the template contains <span><code>&lt;book&gt;</code></span>. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/265">#265</a>.</p></li>
      <li><p>A new <span><code>--listings</code></span>
      option in <span><code>pandoc</code></span> and
      <span><code>markdown2pdf</code></span> causes the
      LaTeX writer to use the listings package for code blocks. (Thanks
      to Josef Svennigsson for the pandoc patch, and Etienne Millon for
      the markdown2pdf patch.)</p></li>
      <li><p><span><code>markdown2pdf</code></span> now
      supports <span><code>--data-dir</code></span>.</p></li>
      <li><p>URLs in autolinks now have class “url” so they can be
      styled.</p></li>
      <li><p>Improved prettyprinting in most formats. Lines will be
      wrapped more evenly and duplicate blank lines avoided.</p></li>
      <li><p>New <span><code>--columns</code></span>
      command-line option sets the column width for line wrapping and
      relative width calculations for tables.</p></li>
      <li><p>Made <span><code>--smart</code></span> work
      in HTML, RST, and Textile readers, as well as markdown.</p></li>
      <li><p>Added <span><code>--html5</code></span>
      option for HTML5 output.</p></li>
      <li><p>Added support for listings package in LaTeX reader (Puneeth
      Chaganti).</p></li>
      <li><p>Added support for simple tables in the LaTeX
      reader.</p></li>
      <li><p>Added support for simple tables in the HTML
      reader.</p></li>
      <li><p>Significant performance improvements in many readers and
      writers.</p></li>
      </ul>
      </section>
      <section id="api-and-program-changes">
      <h3><a href="#api-and-program-changes" aria-hidden="true"></a>API and program changes</h3>
      <ul>
      <li><p>Moved <span><code>Text.Pandoc.Definition</code></span> from the
      <span><code>pandoc</code></span> package to a new
      auxiliary package, <span><code>pandoc-types</code></span>. This will make it
      possible for other programs to supply output in Pandoc format,
      without depending on the whole pandoc package.</p></li>
      <li><p>Added <span><code>Attr</code></span> field
      to <span><code>Code</code></span>.</p></li>
      <li><p>Removed <span><code>RawHtml</code></span>,
      <span><code>HtmlInline</code></span>, and <span><code>TeX</code></span> elements; added generic
      <span><code>RawBlock</code></span> and <span><code>RawInline</code></span>.</p></li>
      <li><p>Moved generic functions to <span><code>Text.Pandoc.Generic</code></span>. Deprecated
      <span><code>processWith</code></span>, replacing it
      with two functions, <span><code>bottomUp</code></span> and <span><code>topDown</code></span>. Removed previously
      deprecated functions <span><code>processPandoc</code></span> and <span><code>queryPandoc</code></span>.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Builder</code></span>, for
      building <span><code>Pandoc</code></span>
      structures.</p></li>
      <li><p><span><code>Text.Pandoc</code></span> now
      exports association lists <span><code>readers</code></span> and <span><code>writers</code></span>.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Readers.Native</code></span>,
      which exports <span><code>readNative</code></span>.
      <span><code>readNative</code></span> can now read
      full pandoc documents, block lists, blocks, inline lists, or
      inlines. It will interpret <span><code>Str &#34;hi&#34;</code></span> as if it were <span><code>Pandoc (Meta [] [] []) [Plain [Str &#34;hi&#34;]]</code></span>.
      This should make testing easier.</p></li>
      <li><p>Removed deprecated <span><code>-C/--custom-header</code></span> option. Use
      <span><code>--template</code></span>
      instead.</p></li>
      <li><p><span><code>--biblio-file</code></span> has
      been replaced by <span><code>--bibliography</code></span>. <span><code>--biblio-format</code></span> has been
      removed; pandoc now guesses the format from the file extension
      (see README).</p></li>
      <li><p>pandoc will treat an argument as a URI only if it has an
      <span><code>http(s)</code></span> scheme.
      Previously pandoc would treat some Windows pathnames beginning
      with <span><code>C:/</code></span> as
      URIs.</p></li>
      <li><p>The <span><code>--sanitize-html</code></span> option and the
      <span><code>stateSanitize</code></span> field in
      <span><code>ParserState</code></span> have been
      removed. Sanitization is better done in the resulting HTML using
      <span><code>xss-sanitize</code></span>, which is
      based on pandoc’s sanitization, but improved.</p></li>
      <li><p>pandoc now adds a newline to the end of its output in
      fragment mode (= not <span><code>--standalone</code></span>).</p></li>
      <li><p>Added support for <span><code>lang</code></span> in <span><code>html</code></span> tag in the HTML template,
      so you can do <span><code>pandoc -s -V lang=es</code></span>, for
      example.</p></li>
      <li><p><span><code>highlightHtml</code></span> in
      <span><code>Text.Pandoc.Highlighting</code></span>
      now takes a boolean argument that selects between “inline” and
      “block” HTML.</p></li>
      <li><p><span><code>Text.Pandoc.Writers.RTF</code></span> now
      exports <span><code>rtfEmbedImage</code></span>.
      Images are embedded in RTF output when possible (png, jpeg).
      Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/275">#275</a>.</p></li>
      <li><p>Added <span><code>Text.Pandoc.Pretty</code></span>. This is
      better suited for pandoc than the <span><code>pretty</code></span> package. Changed all
      writers that used <span><code>Text.PrettyPrint.HughesPJ</code></span> to
      use <span><code>Text.Pandoc.Pretty</code></span>
      instead.</p></li>
      <li><p>Rewrote <span><code>writeNative</code></span> using the new
      prettyprinting module. It is now much faster. The output has been
      made more consistent and compressed. <span><code>writeNative</code></span> is also now
      sensitive to writerStandalone<span><code>, and will simply</code></span>print a block
      list if writerStandalone` is False.</p></li>
      <li><p>Removed <span><code>Text.Pandoc.Blocks</code></span>. <span><code>Text.Pandoc.Pretty</code></span> allows you
      to define blocks and concatenate them, so a separate module is no
      longer needed.</p></li>
      <li><p><span><code>Text.Pandoc.Shared</code></span>:</p>
      <ul>
      <li>Added <span><code>writerColumns</code></span>,
      <span><code>writerChapters</code></span>, and <span><code>writerHtml5</code></span> to <span><code>WriterOptions</code></span>.</li>
      <li>Added <span><code>normalize</code></span>.</li>
      <li>Removed unneeded prettyprinting functions: <span><code>wrapped</code></span>, <span><code>wrapIfNeeded</code></span>, <span><code>wrappedTeX</code></span>, <span><code>wrapTeXIfNeeded</code></span>, <span><code>hang&#39;</code></span>, <span><code>BlockWrapper</code></span>, <span><code>wrappedBlocksToDoc</code></span>.</li>
      <li>Made <span><code>splitBy</code></span> take a
      test instead of an element.</li>
      <li>Added <span><code>findDataFile</code></span>,
      refactored <span><code>readDataFile</code></span>.</li>
      <li>Added <span><code>stringify</code></span>.
      Rewrote <span><code>inlineListToIdentifier</code></span> using
      <span><code>stringify</code></span>.</li>
      <li>Fixed <span><code>inlineListToIdentifier</code></span> to treat
      <span><code>\160</code></span> as ’ ’.</li>
      </ul></li>
      <li><p><span><code>Text.Pandoc.Readers.HTML</code></span>:</p>
      <ul>
      <li>Removed <span><code>rawHtmlBlock</code></span>,
      <span><code>anyHtmlBlockTag</code></span>, <span><code>anyHtmlInlineTag</code></span>, <span><code>anyHtmlTag</code></span>, <span><code>anyHtmlEndTag</code></span>, <span><code>htmlEndTag</code></span>, <span><code>extractTagType</code></span>, <span><code>htmlBlockElement</code></span>, <span><code>htmlComment</code></span></li>
      <li>Added <span><code>htmlTag</code></span>, <span><code>htmlInBalanced</code></span>, <span><code>isInlineTag</code></span>, <span><code>isBlockTag</code></span>, <span><code>isTextTag</code></span></li>
      </ul></li>
      <li><p>Moved <span><code>smartPunctuation</code></span> from <span><code>Text.Pandoc.Readers.Markdown</code></span> to
      <span><code>Text.Pandoc.Readers.Parsing</code></span>,
      and parameterized it with an inline parser.</p></li>
      <li><p>Ellipses are no longer allowed to contain spaces.
      Previously we allowed ‘. . .’, ’ . . . ’, etc. This caused too
      many complications, and removed author’s flexibility in combining
      ellipses with spaces and periods.</p></li>
      <li><p>Allow linebreaks in URLs (treat as spaces). Also, a string
      of consecutive spaces or tabs is now parsed as a single space. If
      you have multiple spaces in your URL, use <span><code>%20%20</code></span>.</p></li>
      <li><p><span><code>Text.Pandoc.Parsing</code></span>:</p>
      <ul>
      <li>Removed <span><code>refsMatch</code></span>.</li>
      <li>Hid <span><code>Key</code></span>
      constructor.</li>
      <li>Removed custom <span><code>Ord</code></span>
      and <span><code>Eq</code></span> instances for
      <span><code>Key</code></span>.</li>
      <li>Added <span><code>toKey</code></span> and <span><code>fromKey</code></span> to convert between
      <span><code>Key</code></span> and <span><code>[Inline]</code></span>.</li>
      <li>Generalized type on <span><code>readWith</code></span>.</li>
      </ul></li>
      <li><p>Small change in calculation of relative widths of table
      columns. If the size of the header &gt; the specified column
      width, use the header size as 100% for purposes of calculating
      relative widths of columns.</p></li>
      <li><p>Markdown writer now uses some pandoc-specific features when
      <span><code>--strict</code></span> is not
      specified: <span><code>\</code></span> newline is
      used for a hard linebreak instead of two spaces then a newline.
      And delimited code blocks are used when there are
      attributes.</p></li>
      <li><p>HTML writer: improved gladTeX output by setting ENV
      appropriately for display or inline math (Jonathan
      Daugherty).</p></li>
      <li><p>LaTeX writer: Use <span><code>\paragraph</code></span>, <span><code>\subparagraph</code></span> for level 4,5
      headers.</p></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li><span><code>\label{foo}</code></span> and <span><code>\ref{foo}</code></span> now become <span><code>{foo}</code></span> instead of <span><code>(foo)</code></span>.</li>
      <li><span><code>\index{}</code></span> commands are
      skipped.</li>
      </ul></li>
      <li><p>Added <span><code>fontsize</code></span>
      variable to default LaTeX template. This makes it easy to set the
      font size using <span><code>markdown2pdf</code></span>: <span><code>markdown2pdf -V fontsize=12pt input.txt</code></span>.</p></li>
      <li><p>Fixed problem with strikeout in LaTeX headers when using
      hyperref, by adding a command to the default LaTeX template that
      disables <span><code>\sout</code></span> inside pdf
      strings. Thanks to Joost Kremers for the fix.</p></li>
      <li><p>The <span><code>COLUMNS</code></span>
      environment variable no longer has any effect.</p></li>
      </ul>
      </section>
      <section id="under-the-hood-improvements-5">
      <h3><a href="#under-the-hood-improvements-5" aria-hidden="true"></a>Under-the-hood improvements</h3>
      <ul>
      <li><p>Pandoc now compiles with GHC 7. (This alone leads to a
      significant performance improvement, 15-20%.)</p></li>
      <li><p>Completely rewrote HTML reader using tagsoup as a lexer.
      The new reader is faster and more accurate. Unlike the old reader,
      it does not get bogged down on some input (Issues <a href="https://code.google.com/archive/p/pandoc/issues/277">#277</a>,
      255). And it handles namespaces in tags (Issue <a href="https://code.google.com/archive/p/pandoc/issues/274">#274</a>).</p></li>
      <li><p>Replaced <span><code>escapeStringAsXML</code></span> with a faster
      version.</p></li>
      <li><p>Rewrote <span><code>spaceChar</code></span>
      and some other parsers in Text.Pandoc.Parsing for a significant
      performance boost.</p></li>
      <li><p>Improved performance of all readers by rewriting
      parsers.</p></li>
      <li><p>Simplified Text.Pandoc.CharacterReferences by using entity
      lookup functions from TagSoup.</p></li>
      <li><p><span><code>Text.Pandoc.UTF8</code></span>
      now uses the unicode-aware IO functions from <span><code>System.IO</code></span> if base &gt;= 4.2.
      This gives support for windows line endings on windows.</p></li>
      <li><p>Remove duplications in documentation by generating the
      pandoc man page from README, using <span><code>MakeManPage.hs</code></span>.</p></li>
      <li><p>README now includes a full description of markdown syntax,
      including non-pandoc-specific parts. A new <span><code>pandoc_markdown</code></span> man page is
      extracted from this, so you can look up markdown syntax by doing
      <span><code>man pandoc_markdown</code></span>.</p></li>
      <li><p>Completely revised test framework (with help from Nathan
      Gass). The new test framework is built when the <span><code>tests</code></span> Cabal flag is set. It
      includes the old integration tests, but also some new unit and
      quickcheck tests. Test output has been much improved, and you can
      now specify a glob pattern after <span><code>cabal test</code></span> to indicate which
      tests should be run; for example <span><code>cabal test citations</code></span> will run
      all the citation tests.</p></li>
      <li><p>Added a shell script, <span><code>stripansi.sh</code></span>, for filtering
      ANSI control sequences from test output: <span><code>cabal test | ./stripansi.sh &gt; test.log</code></span>.</p></li>
      <li><p>Added <span><code>Interact.hs</code></span>
      to make it easier to use ghci while developing. <span><code>Interact.hs</code></span> loads <span><code>ghci</code></span> from the <span><code>src</code></span> directory, specifying all
      the options needed to load pandoc modules (including specific
      package dependencies, which it gets by parsing
      dist/setup-config).</p></li>
      <li><p>Added <span><code>Benchmark.hs</code></span>, testing all
      readers + writers using criterion.</p></li>
      <li><p>Added <span><code>stats.sh</code></span>, to
      make it easier to collect and archive benchmark and lines-of-code
      stats.</p></li>
      <li><p>Added upper bounds to all cabal dependencies.</p></li>
      <li><p>Include man pages in extra-source-files. This allows users
      to install pandoc from the tarball without needing to build the
      man pages.</p></li>
      </ul>
      </section>
      <section id="bug-fixes-5">
      <h3><a href="#bug-fixes-5" aria-hidden="true"></a>Bug fixes</h3>
      <ul>
      <li><p>Filenames are encoded as UTF8. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/252">#252</a>.</p></li>
      <li><p>Handle curly quotes better in <span><code>--smart</code></span> mode. Previously, curly
      quotes were just parsed literally, leading to problems in some
      output formats. Now they are parsed as <span><code>Quoted</code></span> inlines, if <span><code>--smart</code></span> is specified. Resolves
      Issue <a href="https://code.google.com/archive/p/pandoc/issues/270">#270</a>.</p></li>
      <li><p>Text.Pandoc.Parsing: Fixed bug in grid table parser. Spaces
      at end of line were not being stripped properly, resulting in
      unintended LineBreaks.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Allow HTML comments as inline elements in markdown. So, <span><code>aaa &lt;!-- comment --&gt; bbb</code></span>
      can be a single paragraph.</li>
      <li>Fixed superscripts with links: <span><code>^[link](/foo)^</code></span> gets recognized
      as a superscripted link, not an inline note followed by
      garbage.</li>
      <li>Fixed regression, making markdown reference keys
      case-insensitive again. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/272">#272</a>.</li>
      <li>Properly handle abbreviations (like <span><code>Mr.</code></span>) at the end of a line.</li>
      <li>Better handling of intraword underscores, avoiding exponential
      slowdowns in some cases. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/182">#182</a>.</li>
      <li>Fixed bug in alignments in tables with blank rows in the
      header.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Field lists now allow spaces in field names, and block content
      in field values. (Thanks to Lachlan Musicman for pointing out the
      bug.)</li>
      <li>Definition list items are now always <span><code>Para</code></span> instead of <span><code>Plain</code></span>, matching behavior of
      <span><code>rst2xml.py</code></span>.</li>
      <li>In image blocks, the description is parsed properly and used
      for the alt attribute, not also the title.</li>
      <li>Skip blank lines at beginning of file. Resolves Debian <a href="https://code.google.com/archive/p/pandoc/issues/611328">#611328</a>.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Improved parsing of preamble. Previously you’d get unexpected
      behavior on a document that contained <span><code>\begin{document}</code></span> in, say, a
      verbatim block.</li>
      <li>Allow spaces between <span><code>\begin</code></span> or <span><code>\end</code></span> and <span><code>{</code></span>.</li>
      <li>Support <span><code>\L</code></span> and <span><code>\l</code></span>.</li>
      <li>Skip comments inside paragraphs.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Escape strings in <span><code>\href{..}</code></span>.</li>
      <li>In nonsimple tables, put cells in <span><code>\parbox</code></span>.</li>
      </ul></li>
      <li><p>OpenDocument writer: don’t print raw TeX.</p></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Fixed bug in <span><code>Image</code></span>.
      URI was getting unescaped twice!</li>
      <li>Avoid printing extra blank lines at the end if there are no
      notes or references.</li>
      </ul></li>
      <li><p>LaTeX and ConTeXt: Escape <span><code>[</code></span> and <span><code>]</code></span> as <span><code>{[}</code></span> and <span><code>{]}</code></span>. This avoids unwanted
      interpretation as an optional argument.</p></li>
      <li><p>ConTeXt writer: Fixed problem with inline code. Previously
      <span><code>}</code></span> would be rendered <span><code>\type{}}</code></span>. Now we check the
      string for ‘}’ and ‘{’. If it contains neither, use <span><code>\type{}</code></span>; otherwise use <span><code>\mono{}</code></span> with an escaped version
      of the string.</p></li>
      <li><p><span><code>:</code></span> now allowed in
      HTML tags. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/274">#274</a>.</p></li>
      </ul>
      </section>
      </section>
      <section id="pandoc-1.6-2010-07-24">
      <h2><a href="#pandoc-1.6-2010-07-24" aria-hidden="true"></a>pandoc 1.6 (2010-07-24)</h2>
      <ul>
      <li><p>New EPUB and HTML Slidy writers. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/122">#122</a>)</p>
      <ul>
      <li><a href="https://en.wikipedia.org/wiki/EPUB">EPUB</a> is a
      standard ebook format, used in Apple’s iBooks for the iPad and
      iPhone, Barnes and Noble’s nook reader, the Sony reader, and many
      other devices, and by online ebook readers like <a href="http://bookworm.oreilly.com/">bookworm</a>. (Amazon’s Kindle
      uses a different format, MobiPocket, but EPUB books can easily be
      converted to Kindle format.) Now you can write your book in
      markdown and produce an ebook with a single command! I’ve put up a
      short <a href="http://johnmacfarlane.net/pandoc/epub.html">tutorial
      here</a>.</li>
      <li><a href="https://www.w3.org/Talks/Tools/Slidy">Slidy</a>, like
      S5, is a system for producing HTML+javascript slide shows.</li>
      </ul></li>
      <li><p>All input is assumed to be UTF-8, no matter what the locale
      and ghc version, and all output is UTF-8. This reverts to pre-1.5
      behavior. Also, a BOM, if present, is stripped from the
      input.</p></li>
      <li><p>Markdown now supports grid tables, whose cells can contain
      arbitrary block elements. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/43">#43</a>)</p></li>
      <li><p>Sequentially numbered example lists in markdown with <span><code>@</code></span> marker.</p></li>
      <li><p>Markdown table captions can begin with a bare colon and no
      longer need to include the English word “table.” Also, a caption
      can now occur either before or after the table. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/227">#227</a>)</p></li>
      <li><p>New command-line options:</p>
      <ul>
      <li><span><code>--epub-stylesheet</code></span>
      allows you to specify a CSS file that will be used to style your
      ebook.</li>
      <li><span><code>--epub-metadata</code></span>
      allows you to specify metadata for the ebook.</li>
      <li><span><code>--offline</code></span> causes the
      generated HTML slideshow to include all needed scripts and
      stylesheets.</li>
      <li><span><code>--webtex</code></span> causes TeX
      math to be converted to images using the Google Charts API (unless
      a different URL is specified).</li>
      <li><span><code>--section-divs</code></span> causes
      div tags to be added around each section in an HTML document.
      (Issue <a href="https://code.google.com/archive/p/pandoc/issues/230">#230</a>,
      239)</li>
      </ul></li>
      <li><p>Default behavior of S5 writer in standalone mode has
      changed: previously, it would include all needed scripts and
      stylesheets in the generated HTML; now, only links are included
      unless the <span><code>--offline</code></span>
      option is used.</p></li>
      <li><p>Default behavior of HTML writer has changed. Between 1.2
      and 1.5, pandoc would enclose sections in div tags with
      identifiers on the div tags, so that the sections can be
      manipulated in javascript. This caused undesirable interactions
      with raw HTML div tags. So, starting with 1.6, the default is to
      put the identifiers directly on the header tags, and not to
      include the divs. The <span><code>--section-divs</code></span> option selects
      the 1.2-1.5 behavior.</p></li>
      <li><p>API changes:</p>
      <ul>
      <li><span><code>HTMLMathMethod</code></span>: Added
      <span><code>WebTeX</code></span>, removed <span><code>MimeTeX</code></span>.</li>
      <li><span><code>WriterOptions</code></span>: Added
      <span><code>writerUserDataDir</code></span>, <span><code>writerSourceDirectory</code></span>, <span><code>writerEPUBMetadata</code></span> fields.
      Removed <span><code>writerIncludeBefore</code></span>, <span><code>writerIncludeAfter</code></span>.</li>
      <li>Added <span><code>headerShift</code></span> to
      <span><code>Text.Pandoc.Shared</code></span>.</li>
      <li>Moved parsing code and <span><code>ParserState</code></span> from <span><code>Text.Pandoc.Shared</code></span> to a new
      module, <span><code>Text.Pandoc.Parsing</code></span>.</li>
      <li>Added <span><code>stateHasChapters</code></span> to <span><code>ParserState</code></span>.</li>
      <li>Added <span><code>HTMLSlideVariant</code></span>.</li>
      <li>Made <span><code>KeyTable</code></span> a map
      instead of an association list.</li>
      <li>Added accessors for <span><code>Meta</code></span> fields (<span><code>docTitle</code></span>, <span><code>docAuthors</code></span>, <span><code>docDate</code></span>).</li>
      <li><span><code>Pandoc</code></span>, <span><code>Meta</code></span>, <span><code>Inline</code></span>, and <span><code>Block</code></span> have been given <span><code>Ord</code></span> instances.</li>
      <li>Reference keys now have a type of their own (<span><code>Key</code></span>), with its own <span><code>Ord</code></span> instance for
      case-insensitive comparison.</li>
      <li>Added <span><code>Text.Pandoc.Writers.EPUB</code></span>.</li>
      <li>Added <span><code>Text.Pandoc.UUID</code></span>.</li>
      <li>Removed <span><code>Text.Pandoc.ODT</code></span>, added <span><code>Text.Pandoc.Writers.ODT</code></span>.
      Removed <span><code>saveOpenDocumentAsODT</code></span>, added
      <span><code>writeODT</code></span>.</li>
      <li>Added <span><code>Text.Pandoc.Writers.Native</code></span> and
      <span><code>writeNative</code></span>. Removed
      <span><code>prettyPandoc</code></span>.</li>
      <li>Added <span><code>Text.Pandoc.UTF8</code></span> for portable
      UTF8 string IO.</li>
      <li>Removed <span><code>Text.Pandoc.Writers.S5</code></span> and the
      <span><code>writeS5</code></span> function. Moved
      <span><code>s5Includes</code></span> to a new
      module, <span><code>Text.Pandoc.S5</code></span>.
      To write S5, you now use <span><code>writeHtml</code></span> with <span><code>writerSlideVariant</code></span> set to <span><code>S5Slides</code></span> or <span><code>SlidySlides</code></span>.</li>
      </ul></li>
      <li><p>Template changes. If you use custom templates, please
      update them, particularly if you use syntax highlighting with
      pandoc. The old HTML templates hardcoded highlighting CSS that
      will no longer work with the most recent version of
      highlighting-kate.</p>
      <ul>
      <li>HTML template: avoid empty meta tag if no date.</li>
      <li>HTML template: Use default highlighting CSS from
      highlighting-kate instead of hard-coding the CSS into the
      template.</li>
      <li>HTML template: insert-before text goes before the title, and
      immediately after the <span><code>&lt;body&gt;</code></span> tag, as
      documented. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/241">#241</a>)</li>
      <li>Added slidy and s5 templates.</li>
      <li>Added amssymb to preamble of latex template. (github Issue
      1)</li>
      </ul></li>
      <li><p>Removed excess newlines at the end of output. Note: because
      output will not contain an extra newline, you may need to make
      adjustments if you are inserting pandoc’s output into a
      template.</p></li>
      <li><p>In S5 and slidy, horizontal rules now cause a new slide, so
      you are no longer limited to one slide per section.</p></li>
      <li><p>Improved handling of code in man writer. Inline code is now
      monospace, not bold, and code blocks now use .nf (no fill) and .IP
      (indented para).</p></li>
      <li><p>HTML reader parses <span><code>&lt;tt&gt;</code></span> as Code. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/247">#247</a>)</p></li>
      <li><p>html+lhs output now contains bird tracks, even when
      compiled without highlighting support. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/242">#242</a>)</p></li>
      <li><p>Colons are now no longer allowed in autogenerated XML/HTML
      identifiers, since they have a special meaning in XML.</p></li>
      <li><p>Code improvements in ODT writer. Remote images are now
      replaced with their alt text rather than a broken link.</p></li>
      <li><p>LaTeX reader improvements:</p>
      <ul>
      <li>Made latex <span><code>\section</code></span>,
      <span><code>\chapter</code></span> parsers more
      forgiving of whitespace.</li>
      <li>Parse <span><code>\chapter{}</code></span> in
      latex.</li>
      <li>Changed <span><code>rawLaTeXInline</code></span> to accept <span><code>\section</code></span>, <span><code>\begin</code></span>, etc.</li>
      <li>Use new <span><code>rawLaTeXInline&#39;</code></span> in LaTeX
      reader, and export <span><code>rawLaTeXInline</code></span> for use in
      markdown reader.</li>
      <li>Fixes bug wherein <span><code>\section{foo}</code></span> was not
      recognized as raw TeX in markdown document.</li>
      </ul></li>
      <li><p>LaTeX writer: images are automatically shrunk if they would
      extend beyond the page margin.</p></li>
      <li><p>Plain, markdown, RST writers now use unicode for smart
      punctuation.</p></li>
      <li><p>Man writer converts math to unicode when possible, as in
      other writers.</p></li>
      <li><p><span><code>markdown2pdf</code></span> can
      now recognize citeproc options.</p></li>
      <li><p>Command-line arguments are converted to UTF-8. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/234">#234</a>)</p></li>
      <li><p><span><code>Text.Pandoc.TeXMath</code></span> has been
      rewritten to use texmath’s parser. This allows it to handle a
      wider range of formulas. Also, if a formula cannot be converted,
      it is left in raw TeX; formulas are no longer partially
      converted.</p></li>
      <li><p>Unicode curly quotes are left alone when parsing smart
      quotes. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/143">#143</a>)</p></li>
      <li><p>Cabal file changes:</p>
      <ul>
      <li>Removed parsec &lt; 3 restriction.</li>
      <li>Added ‘threaded’ flag for architectures where GHC lacks a
      threaded runtime.</li>
      <li>Use ‘threaded’ only for markdown2pdf; it is not needed for
      pandoc.</li>
      <li>Require highlighting-kate 0.2.7.</li>
      </ul></li>
      <li><p>Use explicit imports from <span><code>Data.Generics</code></span>. Otherwise we
      have a conflict with the ‘empty’ symbol, introduced in syb &gt;=
      0.2. (Issue <a href="https://code.google.com/archive/p/pandoc/issues/237">#237</a>)</p></li>
      <li><p>New data files: slidy/slidy.min.js, slidy/slidy.min.css,
      epub.css.</p></li>
      </ul>
      </section>
      <section id="pandoc-1.5.1.1-2010-03-29">
      <h2><a href="#pandoc-1.5.1.1-2010-03-29" aria-hidden="true"></a>pandoc 1.5.1.1 (2010-03-29)</h2>
      <ul>
      <li>Fixed header identifiers (uniqueIdent in Shared) so they work
      as advertized in README and are guaranteed to be valid XHTML
      names. Thanks to Xyne for reporting the bug.</li>
      </ul>
      </section>
      <section id="pandoc-1.5.1-2010-03-23">
      <h2><a href="#pandoc-1.5.1-2010-03-23" aria-hidden="true"></a>pandoc 1.5.1 (2010-03-23)</h2>
      <ul>
      <li>Fixed treatment of unicode characters in URIs.</li>
      <li>Revised Setup.hs so it works with debian’s build process.</li>
      <li>Fixed bug in OpenDocument writer that led to invalid XML for
      some input.</li>
      </ul>
      </section>
      <section id="pandoc-1.5.0.1-2010-03-21">
      <h2><a href="#pandoc-1.5.0.1-2010-03-21" aria-hidden="true"></a>pandoc 1.5.0.1 (2010-03-21)</h2>
      <ul>
      <li>HTML writer: Fixed error in math writer (with MathML option)
      that caused an infinite loop for unparsable MathML.</li>
      </ul>
      </section>
      <section id="pandoc-1.5-2010-03-20">
      <h2><a href="#pandoc-1.5-2010-03-20" aria-hidden="true"></a>pandoc 1.5 (2010-03-20)</h2>
      <ul>
      <li>Moved repository to <a href="https://github.com/jgm/pandoc">github</a>.</li>
      <li>New <span><code>--mathml</code></span> option,
      for display of TeX math as MathML.</li>
      <li>New <span><code>--data-dir</code></span>
      option, allowing users to specify a data directory other than
      <span><code>~/.pandoc</code></span>. Files placed
      in this directory will be used instead of system defaults.</li>
      <li>New <span><code>--base-header-level</code></span> option. For
      example, <span><code>--base-header-level=2</code></span> changes
      level 1 headers to level 2, level 2 to level 3, etc.</li>
      <li>New ‘plain’ output format: plain text without pictures,
      hyperlinks, inline formatting, or anything else that looks even
      vaguely markupish.</li>
      <li>Titles and authors in title blocks can now span multiple
      lines, as long as the continuation lines begin with a space
      character.</li>
      <li>When given an absolute URI as a parameter, pandoc will fetch
      the content via HTTP.</li>
      <li>The HTML reader has been made much more forgiving. It no
      longer requires well-formed xhtml as input.</li>
      <li><span><code>html2markdown</code></span> has
      been removed; it is no longer necessary, given the last two
      changes. <span><code>pandoc</code></span> can be
      used by itself to convert web pages to markdown or other
      formats.</li>
      <li><span><code>hsmarkdown</code></span> has also
      been removed. Use <span><code>pandoc --strict</code></span> instead. Or
      symlink pandoc’s executable to <span><code>hsmarkdown</code></span>; <span><code>pandoc</code></span> will then behave like
      <span><code>hsmarkdown</code></span> used to.</li>
      <li>An image in a paragraph by itself is now rendered as a figure
      in most writers, with the alt text as the caption.</li>
      <li>Incomplete support for reST tables (simple and grid). Thanks
      to Eric Kow. Colspans and rowspans not yet supported.</li>
      <li>In mediawiki, links with relative URLs are now formatted as
      wikilinks. Also, headers have been promoted: <span><code>= head =</code></span> is now level 1 instead
      of level 2.</li>
      <li>The markdown reader now handles “inverse bird tracks” when
      parsing literate haskell. These are used for haskell example code
      that is not part of the literate program.</li>
      <li>The <span><code>-B</code></span> and <span><code>-A</code></span> options now imply <span><code>-s</code></span> and no longer work in
      fragment mode.</li>
      <li>Headerless tables are now printed properly in all writers. In
      addition, tbody, thead, and cols are used in HTML and Docbook
      tables.</li>
      <li>Improved build system; removed obsolete Makefile.</li>
      <li>In LaTeX writer, <span><code>\chapter</code></span> is now used instead of
      <span><code>\section</code></span>. when the
      documentclass is book, report, or memoir.</li>
      <li>Many small bug fixes. See [changelog] for details.</li>
      </ul>
      </section>
      <section id="pandoc-1.4-2010-01-02">
      <h2><a href="#pandoc-1.4-2010-01-02" aria-hidden="true"></a>pandoc 1.4 (2010-01-02)</h2>
      <ul>
      <li>New template system replaces old headers, giving users much
      more control over pandoc’s output in <span><code>--standalone</code></span> mode. Added <span><code>--template</code></span> and <span><code>--variable</code></span> options. The <span><code>--print-default-header</code></span> option
      is now <span><code>--print-default-template</code></span>. See
      README under “Templates” for details.</li>
      <li>The old <span><code>--custom-header</code></span> option should
      still work, but it has been deprecated.</li>
      <li>New <span><code>--reference-odt</code></span>
      option allows users to customize styles in ODT output.</li>
      <li>Users may now put custom templates, s5 styles, and a reference
      ODT in the <span><code>~/.pandoc</code></span>
      directory, where they will override system defaults. See README
      for details.</li>
      <li>Unicode is now used whenever possible in HTML and XML output.
      Entities are used only where necessary (<span><code>&amp;gt;</code></span>, <span><code>&amp;lt;</code></span>, <span><code>&amp;quot;</code></span>, <span><code>&amp;amp;</code></span>).</li>
      <li>Authors and dates may now include formatting and notes.</li>
      <li>Added <span><code>--xetex</code></span> option
      for <span><code>pandoc</code></span> and <span><code>markdown2pdf</code></span>.</li>
      <li>Windows installer now includes highlighting support and <span><code>markdown2pdf</code></span> and <span><code>hsmarkdown</code></span> wrappers.</li>
      <li>Pandoc no longer requires Template Haskell, which should make
      it more portable.</li>
      <li>Pandoc can now be built on GHC 6.12, as well as earlier
      versions.</li>
      <li>See README for other small improvements and bug fixes.</li>
      </ul>
      </section>
      <section id="pandoc-1.3-2009-12-10">
      <h2><a href="#pandoc-1.3-2009-12-10" aria-hidden="true"></a>pandoc 1.3 (2009-12-10)</h2>
      <ul>
      <li>Added <span><code>--id-prefix</code></span>
      option to help prevent duplicate identifiers when you’re
      generating HTML fragments.</li>
      <li>Added <span><code>--indented-code-classes</code></span> option,
      which specifies default highlighting syntax for indented code
      blocks.</li>
      <li><span><code>--number-sections</code></span> now
      affects HTML output.</li>
      <li>Improved syntax for markdown definition lists.</li>
      <li>Better looking simple tables.</li>
      <li>Markdown tables without headers are now possible.</li>
      <li>New hard line break syntax: backslash followed by
      newline.</li>
      <li>Improved performance of markdown reader by ~10% by eliminating
      the need for a separate parsing pass for notes.</li>
      <li>Improved syntax highlighting for literate Haskell.</li>
      <li>Support for “..code-block” directive in RST reader.</li>
      <li>Windows binary now includes highlighting support.</li>
      <li>Many bug fixes and small improvements. See [changelog] for
      details.</li>
      </ul>
      </section>
      <section id="pandoc-1.2.1-2009-07-18">
      <h2><a href="#pandoc-1.2.1-2009-07-18" aria-hidden="true"></a>pandoc 1.2.1 (2009-07-18)</h2>
      <ul>
      <li>Improved the efficiency of the markdown reader’s abbreviation
      parsing (should give a big performance boost with <span><code>--smart</code></span>).</li>
      <li>HTML writer now wraps sections in divs with unique
      identifiers, for easier manipulation.</li>
      <li>Improved LaTeX reader’s coverage of math modes.</li>
      <li>Added a portable Haskell version of markdown2pdf (thanks to
      Paolo Tanimoto).</li>
      <li>Made <span><code>--strict</code></span>
      compatible with <span><code>--standalone</code></span> and <span><code>--toc.</code></span></li>
      <li>Many other small improvements and bug fixes. See [changelog]
      for details.</li>
      </ul>
      </section>
      <section id="pandoc-1.2-2009-03-01">
      <h2><a href="#pandoc-1.2-2009-03-01" aria-hidden="true"></a>pandoc 1.2 (2009-03-01)</h2>
      <ul>
      <li>Added support for literate Haskell. lhs support is triggered
      by ‘+lhs’ suffixes in formats. For example, ‘latex+lhs’ is
      literate Haskell LaTeX. ‘.lhs’ files are treated by default as
      literate markdown.</li>
      <li>Added <span><code>--email-obfuscation</code></span>
      option.</li>
      <li>Brought citeproc support up to date for citeproc-hs-0.2.</li>
      <li>Many bugs fixed. See [changelog] for details.</li>
      </ul>
      </section>
      <section id="pandoc-1.1-2008-11-06">
      <h2><a href="#pandoc-1.1-2008-11-06" aria-hidden="true"></a>pandoc 1.1 (2008-11-06)</h2>
      <ul>
      <li>New <span><code>--jsmath</code></span> option
      supporting use of pandoc with [jsMath].</li>
      <li>Classes on HTML table output for better CSS styling.</li>
      <li>Windows installer no longer requires admin privileges.</li>
      <li>Many bugs fixed. See [changelog] for details.</li>
      </ul>
      </section>
      <section id="pandoc-1.0-2008-09-13">
      <h2><a href="#pandoc-1.0-2008-09-13" aria-hidden="true"></a>pandoc 1.0 (2008-09-13)</h2>
      <ul>
      <li>New writers for MediaWiki, GNU Texinfo (thanks to Peter Wang),
      OpenDocument XML (thanks to Andrea Rossato), and ODT (OpenOffice
      document).</li>
      <li>New <a href="https://bytes.zone/posts/pagerank-for-my-obsidian-notes/README.html#delimited-code-blocks">delimited code
      blocks</a>, with optional syntax highlighting.</li>
      <li>Reorganized build system: pandoc can now be built using
      standard Cabal tools. It can be compiled on Windows without
      Cygwin. The tests can also be run without perl or unix tools.</li>
      <li>LaTeXMathML replaces ASCIIMathML for rendering math in
      HTML.</li>
      <li>Support for “displayed” math.</li>
      <li>Common abbreviations are now handled more intelligently, with
      a non-breaking space (and not a sentence-ending space) after the
      period.</li>
      <li>Code is -Wall clean.</li>
      <li>Many bug fixes and small improvements. See [changelog] for
      full details.</li>
      </ul>
      </section>
      <section id="pandoc-0.46-2008-01-08">
      <h2><a href="#pandoc-0.46-2008-01-08" aria-hidden="true"></a>pandoc 0.46 (2008-01-08)</h2>
      <ul>
      <li>Added a <span><code>--sanitize-html</code></span> option (and a
      corresponding parameter in <span><code>ParserState</code></span> for those using the
      pandoc libraries in programs). This option causes pandoc to
      sanitize HTML (in HTML or Markdown input) using a whitelist
      method. Possibly harmful HTML elements are replaced with HTML
      comments. This should be useful in the context of web
      applications, where pandoc may be used to convert user input into
      HTML.</li>
      <li>Made -H, -A, and -B options cumulative: if they are specified
      multiple times, multiple files will be included.</li>
      <li>Many bug fixes and small improvements. See [changelog] for
      full details.</li>
      </ul>
      </section>
      <section id="pandoc-0.45-2007-12-09">
      <h2><a href="#pandoc-0.45-2007-12-09" aria-hidden="true"></a>pandoc 0.45 (2007-12-09)</h2>
      <ul>
      <li>Many bug fixes and structural improvements. See [changelog]
      for full details.</li>
      <li>Improved treatment of math. Math is now rendered using unicode
      by default in HTML, RTF, and DocBook output. For more accurate
      display of math in HTML, <span><code>--gladtex</code></span>, <span><code>--mimetex</code></span>, and <span><code>--asciimathml</code></span> options are
      provided. See the <a href="https://bytes.zone/posts/pagerank-for-my-obsidian-notes/README.html#math">User’s Guide</a> for
      details.</li>
      <li>Removed support for box-style block quotes in markdown.</li>
      <li>More idiomatic ConTeXt output.</li>
      <li>Text wrapping in ConTeXt and LaTeX output.</li>
      <li>Pandoc now correctly handles all standard line endings (CR,
      LF, CRLF).</li>
      <li>New <span><code>--no-wrap</code></span> option
      that disables line wrapping and minimizes whitespace in HTML
      output.</li>
      <li>Build process is now compatible with both GHC 6.8 and GHC 6.6.
      GHC and GHC_PKG environment variables may be used to specify which
      version of the compiler to use, when multiple versions are
      installed.</li>
      </ul>
      </section>
      <section id="pandoc-0.44-2007-09-03">
      <h2><a href="#pandoc-0.44-2007-09-03" aria-hidden="true"></a>pandoc 0.44 (2007-09-03)</h2>
      <p>[ John MacFarlane ]</p>
      <ul>
      <li><p>Fixed bug in HTML writer: when –toc was used, anchors were
      put around headers, which is invalid XHTML (block content within
      inline element). Now the anchors are put inside the header tags.
      Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/23">#23</a>.</p></li>
      <li><p>Added xmlns attribute to html element in html writer tests.
      This attribute is added by more recent versions of the xhtml
      library (&gt;= 3000), and is required for valid XHTML.</p></li>
      </ul>
      <p>[ Recai Oktaş ]</p>
      <ul>
      <li><p>On configure, compile ‘Setup.hs’ to ‘setup’ and use ‘setup’
      as the build command instead of ‘runhaskell’, which, on some
      platforms (such as s390, alpha, m68k), throws the following
      error:</p>
      <pre><code>runhaskell Setup.hs configure --prefix=/usr
ghc-6.6.1: not built for interactive use</code></pre>
      <p>This causes a serious FTBFS bug. Closes: <a href="https://code.google.com/archive/p/pandoc/issues/440668">#440668</a>.</p></li>
      </ul>
      </section>
      <section id="pandoc-0.43-2007-09-02">
      <h2><a href="#pandoc-0.43-2007-09-02" aria-hidden="true"></a>pandoc 0.43 (2007-09-02)</h2>
      <p>[ John MacFarlane ]</p>
      <ul>
      <li><p>The focus of this release is performance. The markdown
      parser is about five times faster than in 0.42, based on
      benchmarks with the TextMate manual.</p></li>
      <li><p>Main.hs: Replaced CRFilter and tabFilter with single
      function tabFilter, which operates on the whole string rather than
      breaking it into lines, and handles dos-style line-endings as well
      as tabs.</p></li>
      <li><p>Added separate LaTeX reader and native reader tests;
      removed round-trip tests.</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Removed tabsToSpaces and tabsInLine (they were used only in
      Main.hs.)</li>
      <li>General code cleanup (to elimante warnings when compiling with
      -Wall.)</li>
      <li>Added ‘wrapped’ function, which helps wrap text into
      paragraphs, using the prettyprinting library.</li>
      <li>Rewrote charsInBalanced and charsInBalanced’.
      <ul>
      <li>Documented restriction: open and close must be distinct
      characters.</li>
      <li>Rearranged options for greater efficiency.</li>
      <li>Bug fix: Changed inner call to charsInBalanced inside
      charsInBalanced’ to charsInBalanced’.</li>
      </ul></li>
      <li>anyLine now requires that the line end with a newline (not
      eof). This is a harmless assumption, since we always add newlines
      to the end of a block before parsing with anyLine, and it yields a
      10% speed boost.</li>
      <li>Removed unnecessary ‘try’ in anyLine.</li>
      <li>Removed unneeded ‘try’ from romanNumeral parser.</li>
      <li>Use notFollowedBy instead of notFollowedBy’ in
      charsInBalanced.</li>
      <li>Removed unneeded ‘try’ in parseFromString.</li>
      <li>Removed unneeded ‘try’ from stringAnyCase. (Now it behaves
      like ‘string’.)</li>
      <li>Changed definition of ‘enclosed’ in Text.Pandoc.Shared so that
      ‘try’ is not automatically applied to the ‘end’ parser. Added
      ‘try’ in calls to ‘enclosed’ where needed. Slight speed
      increase.</li>
      </ul></li>
      <li><p>Writers:</p>
      <ul>
      <li>Replaced individual wrapping routines in RST, Man, and
      Markdown writers with ‘wrapped’ from Text.Pandoc.Shared.</li>
      <li>Rewrote LaTeX writer to use the prettyprinting library, so we
      get word wrapping, etc.</li>
      <li>Modified latex writer tests for new latex writer using
      prettyprinter.</li>
      <li>Fixed bug in LaTeX writer: autolinks would not cause <span><code>\usepackage{url}</code></span> to be put in
      the document header. Also, changes to state in enumerated list
      items would be overwritten.</li>
      <li>In Markdown writer, escape paragraphs that begin with ordered
      list markers, so they don’t get interpreted as ordered lists.</li>
      </ul></li>
      <li><p>Text.Pandoc.Reades.LaTeX:</p>
      <ul>
      <li>Fixed bug in LaTeX reader, which wrongly assumed that the
      roman numeral after “enum” in “setcounter” would consist entirely
      of “i”s. ‘enumiv’ is legitimate.</li>
      <li>LaTeX command and environment names can’t contain
      numbers.</li>
      <li>Rearranged order of parsers in inline for slight speed
      improvement.</li>
      <li>Added ‘`’ to special characters and ‘unescapedChar’.</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.RST:</p>
      <ul>
      <li>Removed unneeded try’s in RST reader; also minor code
      cleanup.</li>
      <li>Removed tabchar.</li>
      <li>Rearranged parsers in inline (doubled speed).</li>
      </ul></li>
      <li><p>Text.Pandoc.Readers.Markdown:</p>
      <ul>
      <li>Skip notes parsing if running in strict mode. (This yields a
      nice speed improvement in strict mode.)</li>
      <li>Simplify autolink parsing code, using Network.URI to test for
      URIs. Added dependency on network library to debian/control and
      pandoc.cabal.</li>
      <li>More perspicuous definition of nonindentSpaces.</li>
      <li>Removed unneeded ‘try’ in ‘rawLine’.</li>
      <li>Combined linebreak and whitespace into a new whitespace
      parser, to avoid unnecessary reparsing of space characters.</li>
      <li>Removed unnecessary ‘try’ in ‘codeBlock’, ‘ellipses’,
      ‘noteMarker’, ‘multilineRow’, ‘dashedLine’, ‘rawHtmlBlocks’.</li>
      <li>Use lookAhead in parsers for setext headers and definition
      lists to see if the next line begins appropriately; if not, don’t
      waste any more time parsing.</li>
      <li>Don’t require blank lines after code block. (It’s sufficient
      to end code block with a nonindented line.)</li>
      <li>Changed definition of ‘emph’: italics with ’_’ must not be
      followed by an alphanumeric character. This is to help prevent
      interpretation of e.g. <span><code>[LC_TYPE]: my_type</code></span> as <span><code>[LC&lt;em&gt;TYPE]:my&lt;/em&gt;type</code></span>.</li>
      <li>Improved Markdown.pl-compatibility in referenceLink: the two
      parts of a reference-style link may be separated by one space, but
      not more… [a] [link], [not] [a link].</li>
      <li>Fixed markdown inline code parsing so it better accords with
      Markdown.pl: the marker for the end of the code section is a clump
      of the same number of <span><code>&#39;s with which the section began, followed   by a non-</code></span>
      character. So, for example, <span><code>h ``` i</code></span> -&gt; <span><code>&lt;code&gt;h ``` i&lt;/code&gt;</code></span>.</li>
      <li>Split ‘title’ into ‘linkTitle’ and ‘referenceTitle’, since the
      rules are slightly different.</li>
      <li>Rewrote ‘para’ for greater efficiency.</li>
      <li>Rewrote link parsers for greater efficiency.</li>
      <li>Removed redundant ‘referenceLink’ in definition of inline
      (it’s already in ‘link’).</li>
      <li>Refactored escapeChar so it doesn’t need ‘try’.</li>
      <li>Refactored hrule for performance in Markdown reader.</li>
      <li>More intelligent rearranging of ‘inline’ so that most
      frequently used parsers are tried first.</li>
      <li>Removed tabchar parser, as whitespace handles tabs
      anyway.</li>
      </ul></li>
      <li><p>Text.Pandoc.CharacterReferences:</p>
      <ul>
      <li>Refactored.</li>
      <li>Removed unnecessary ’try’s for a speed improvement.</li>
      <li>Removed unnecessary ‘&amp;’ and ‘;’ from the entity
      table.</li>
      </ul></li>
      <li><p>Build process:</p>
      <ul>
      <li>Makefile: Get VERSION from cabal file, not Main.hs.</li>
      <li>Modified MacPorts Portfile:
      <ul>
      <li>Depend on haddock</li>
      <li>Build and install libraries and library documentation in
      addition to pandoc executable</li>
      <li>Added template item for md5 sum in Portfile.in.</li>
      <li>Incorporated changes from MacPorts repository (r28278).</li>
      </ul></li>
      <li>FreeBSD port: Don’t try to generate distinfo in Makefile. It
      can be made using ‘make makesum’ in FreeBSD.</li>
      <li>Make both freebsd and macports targets depend on tarball.</li>
      </ul></li>
      <li><p>Website and documentation:</p>
      <ul>
      <li>Updated INSTALL instructions.</li>
      <li>Added pandocwiki demo to website.</li>
      <li>Removed local references to Portfile, since pandoc is now in
      the MacPorts repository.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-0.42-2007-08-26">
      <h2><a href="#pandoc-0.42-2007-08-26" aria-hidden="true"></a>pandoc 0.42 (2007-08-26)</h2>
      <p>[ John MacFarlane ]</p>
      <ul>
      <li><p>Main.hs: Use utf8 conversion on the extra files loaded with
      the -H, -C, -B, and -A options. This fixes problems with unicode
      characters in these files.</p></li>
      <li><p>Exposed Text.Pandoc.ASCIIMathML, since it is imported in
      Text.Pandoc.Readers.HTML and without it we get a linking error
      when using the library.</p></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Added new rule for enhanced markdown ordered lists: if the
      list marker is a capital letter followed by a period (including a
      single-letter capital roman numeral), then it must be followed by
      at least two spaces. The point of this is to avoid accidentally
      treating people’s initials as list markers: a paragraph might
      begin, “B. Russell was an English philosopher,” and this shouldn’t
      be treated as a list. Documented change in README.</li>
      <li>Blocks that start with “p. ” and a digit are no longer treated
      as ordered lists (it’s a page number).</li>
      <li>Added a needed ‘try’ to listItem.</li>
      <li>Removed check for a following setext header in endline. A full
      test is too inefficient (doubles benchmark time), and the
      substitute we had before is not 100% accurate.</li>
      <li>Don’t use Code elements for autolinks if –strict
      specified.</li>
      </ul></li>
      <li><p>LaTeX writer: When a footnote ends with a Verbatim
      environment, the close } of the footnote cannot occur on the same
      line or an error occurs. Fixed this by adding a newline before the
      closing } of every footnote.</p></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Removed incorrect “{}” around style information in HTML
      tables. Column widths now work properly in HTML.</li>
      <li>If –strict option is specified (and –toc is not), don’t
      include identifiers in headers, for better Markdown
      compatibility.</li>
      </ul></li>
      <li><p>Build process:</p>
      <ul>
      <li>Separated $(web_dest) and website targets.</li>
      <li>In website, index.txt is now constructed from template
      index.txt.in.</li>
      <li>Added freebsd target to Markefile. This creates the freebsd
      Makefile from Makefile.in, and creates distinfo. Removed Makefile
      and distinfo from the repository.</li>
      <li>Added macport target to Makefile. Portfile is built from
      template Portfile.in.</li>
      <li>Removed OSX package targets. (Too many difficulties involving
      dependencies on dynamic libraries.)</li>
      <li>More complete INSTALL instructions for all architectures.</li>
      </ul></li>
      <li><p>Website:</p>
      <ul>
      <li>Added a programming demo, pandocwiki.</li>
      </ul></li>
      </ul>
      <p>[ Recai Oktaş ]</p>
      <ul>
      <li>Do not forget to close pandoc’s ITP. Closes: <a href="https://code.google.com/archive/p/pandoc/issues/391666">#391666</a></li>
      </ul>
      </section>
      <section id="pandoc-0.41-2007-08-19">
      <h2><a href="#pandoc-0.41-2007-08-19" aria-hidden="true"></a>pandoc 0.41 (2007-08-19)</h2>
      <p>[ John MacFarlane ]</p>
      <ul>
      <li><p>Fixed bugs in HTML reader:</p>
      <ul>
      <li>Skip material at end <em>only if</em> <span><code>&lt;/html&gt;</code></span> is present
      (previously, only part of the document would be parsed if an error
      was found; now a proper error message is given).</li>
      <li>Added new constant eitherBlockOrInline with elements that may
      count either as block-level or as inline. Modified isInline and
      isBlock to take this into account.</li>
      <li>Modified rawHtmlBlock to accept any tag (even an inline tag):
      this is innocuous, because rawHtmlBlock is tried only if a regular
      inline element can’t be parsed.</li>
      <li>Added a necessary ‘try’ in definition of ‘para’.</li>
      </ul></li>
      <li><p>Fixed bug in markdown ordered list parsing. The problem was
      that anyOrderedListStart did not check for a space following the
      ordered list marker. So in ‘A.B. 2007’ the parser would be
      expecting a list item, but would not find one, causing an error.
      Fixed a similar bug in the RST reader. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/22">#22</a>.</p></li>
      <li><p>Refactored RST and Markdown readers using
      parseFromString.</p></li>
      <li><p>LaTeX reader will now skip anything after
      \end{document}.</p></li>
      <li><p>Fixed blockquote output in markdown writer: previously,
      block quotes in indented contexts would be indented only in the
      first line.</p></li>
      <li><p>Added note to INSTALL about variations in versions of the
      xhtml library that can lead to failed tests (thanks to Leif
      LeBaron).</p></li>
      </ul>
      </section>
      <section id="pandoc-0.4-2007-01-16">
      <h2><a href="#pandoc-0.4-2007-01-16" aria-hidden="true"></a>pandoc 0.4 (2007-01-16)</h2>
      <p>[ John MacFarlane ]</p>
      <ul>
      <li><p>Added two new output formats: groff man pages and ConTeXt.
      By default, output files with extensions “.ctx” and “.context” are
      assumed to be ConTeXt, and output files with single-digit
      extensions are assumed to be man pages.</p></li>
      <li><p>Enhanced ordered lists (documented in README, under
      Lists):</p>
      <ul>
      <li>The OrderedList block element now stores information about
      list number style, list number delimiter, and starting
      number.</li>
      <li>The readers parse this information when possible.</li>
      <li>The writers use this information to style ordered lists.</li>
      <li>The enhancement can be disabled using the –strict option.</li>
      </ul></li>
      <li><p>Added support for tables (with a new Table block element).
      Two kinds of tables are supported: a simple table with one-line
      rows, and a more complex variety with multiline rows. All output
      formats are supported, but only markdown tables are parsed at the
      moment. The syntax is documented in README.</p></li>
      <li><p>Added support for definition lists (with a new
      DefinitionList block element). All output and input formats are
      supported. The syntax is documented in README.</p></li>
      <li><p>Added support for superscripts and subscripts (with new
      Superscript and Subscript inline elements). All input and output
      formats. The syntax is documented in README.</p></li>
      <li><p>Added support for strikeout (with a new Strikeout inline
      element). All input and output formats are supported. Thanks to
      Bradley Kuhn, who contributed a patch. The syntax is documented in
      README. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/18">#18</a>.</p></li>
      <li><p>Added a –toc|–table-of-contents option. This causes an
      automatically generated table of contents (or an instruction that
      creates one) to be inserted at the beginning of the document. Not
      supported in S5, DocBook, or man page writers.</p></li>
      <li><p>Modified the -m|–asciimathml option:</p>
      <ul>
      <li>If an optional URL argument is provided, a link is inserted
      instead of the contents of the ASCIIMathML.js script.</li>
      <li>Nothing is inserted unless the document actually contains
      LaTeX math.</li>
      </ul></li>
      <li><p>Removed Blank block element as unnecessary.</p></li>
      <li><p>Removed Key and Note blocks from the Pandoc data structure.
      All links are now stored as explicit links, and note contents are
      stored with the (inline) notes.</p>
      <ul>
      <li>All link Targets are now explicit (URL, title) pairs; there is
      no longer a ‘Ref’ target.</li>
      <li>Markdown and RST parsers now need to extract data from key and
      note blocks and insert them into the relevant inline elements.
      Other parsers have been simplified, since there is no longer any
      need to construct separate key and note blocks.</li>
      <li>Markdown, RST, and HTML writers need to construct lists of
      notes; Markdown and RST writers need to construct lists of link
      references (when the –reference-links option is specified); and
      the RST writer needs to construct a list of image substitution
      references. All writers have been rewritten to use the State monad
      when state is required.</li>
      <li>Several functions (generateReference, keyTable,
      replaceReferenceLinks, replaceRefLinksBlockList, and some
      auxiliaries used by them) have been removed from
      Text.Pandoc.Shared, since they are no longer needed. New functions
      and data structures (Reference, isNoteBlock, isKeyBlock,
      isLineClump) have been added. The functions inTags,
      selfClosingTag, inTagsSimple, and inTagsIndented have been moved
      to the DocBook writer, since that is now the only module that uses
      them. NoteTable is now exported in Text.Pandoc.Shared.</li>
      <li>Added stateKeys and stateNotes to ParserState; removed
      stateKeyBlocks, stateKeysUsed, stateNoteBlocks,
      stateNoteIdentifiers, stateInlineLinks.</li>
      <li>Added writerNotes and writerReferenceLinks to
      WriterOptions.</li>
      </ul></li>
      <li><p>Added Text.Pandoc module that exports basic readers,
      writers, definitions, and utility functions. This should export
      everything needed for most uses of Pandoc libraries. The haddock
      documentation includes a short example program.</p></li>
      <li><p>Text.Pandoc.ASCIIMathML is no longer an exported
      module.</p></li>
      <li><p>Added Text.Pandoc.Blocks module to help in printing
      markdown and RST tables. This module provides functions for
      working with fixed-width blocks of text–e.g., placing them side by
      side, as in a table row.</p></li>
      <li><p>Refactored to avoid reliance on Haskell’s Text.Regex
      library, which</p>
      <ol type="a">
      <li>is slow, and (b) does not properly handle unicode. This fixed
      some strange bugs, e.g. in parsing S-cedilla, and improved
      performance.</li>
      </ol>
      <ul>
      <li>Replaced ‘gsub’ with a general list function ‘substitute’ that
      does not rely on Text.Regex.</li>
      <li>Rewrote extractTagType in HTML reader so that it doesn’t use
      regexs.</li>
      <li>In Markdown reader, replaced email regex test with a custom
      email autolink parser (autoLinkEmail). Also replaced
      selfClosingTag regex with a custom function isSelfClosingTag.</li>
      <li>Modified Docbook writer so that it doesn’t rely on Text.Regex
      for detecting ‘mailto’ links.</li>
      <li>Removed escapePreservingRegex and reamped entity-handling
      functions in Text.Pandoc.Shared and
      Text.Pandoc.CharacterReferences to avoid reliance on Text.Regex
      (see below on character reference handling changes).</li>
      </ul></li>
      <li><p>Renamed Text.Pandoc.Entities as
      Text.Pandoc.CharacterReferences.</p></li>
      <li><p>Changed handling of XML entities. Entities are now parsed
      (and unicode characters returned) in the Markdown and HTML
      readers, rather than being handled in the writers. In HTML and
      Docbook writers, UTF-8 is now used instead of entities for
      characters above 128. This makes the HTML and DocBook output much
      more readable and more easily editable.</p>
      <ul>
      <li>Removed sgmlHexEntity, sgmlDecimalEntity, sgmlNamedEntity, and
      sgmlCharacterEntity regexes from Text.Pandoc.Shared.</li>
      <li>Renamed escapeSGMLChar to escapeCharForXML. Added
      escapeStringForXML. Moved both functions to
      Text.Pandoc.Writers.Docbook.</li>
      <li>Added characterReference parser to
      Text.Pandoc.CharacterReferences. This parses a string and return a
      unicode character.</li>
      <li>Rewrote decodeCharacterReferences to use the new parser
      instead of Text.Regex.</li>
      <li>Added new charRef parser for Markdown and HTML, which replaces
      the old ‘entity’ parser. Added ‘&amp;’ as a special character in
      Markdown reader.</li>
      <li>Modified HTML and Markdown readers to call decodeEntities on
      all raw strings (e.g. authors, dates, link titles), to ensure that
      no unprocessed entities are included in the native representation
      of the document. (In the HTML reader, most of this work is done by
      a change in extractAttributeName.)</li>
      <li>In XML and Markdown output, escape unicode nonbreaking space
      as ‘ ’, since a unicode non-breaking space is impossible to
      distinguish visually from a regular space. (Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/3">#3</a>.)</li>
      <li>Removed encodeEntitiesNumerical.</li>
      <li>Use Data.Map for entityTable and (new) reverseEntityTable, for
      a slight performance boost over the old association list.</li>
      <li>Removed unneeded decodeEntities from ‘str’ parser in HTML and
      Markdown readers.</li>
      </ul></li>
      <li><p>Text.Pandoc.UTF8: Renamed encodeUTF8 to toUTF8, decodeUTF8
      to fromUTF8, for clarity.</p></li>
      <li><p>Replaced old haskell98 module names replaced by
      hierarchical module names, e.g. List by Data.List. Removed
      haskell98 from dependencies in pandoc.cabal, and added mtl (needed
      for state monad). Substituted xhtml for html.</p></li>
      <li><p>Refactored and cleaned up character escaping in writers,
      using backslashEscapes and escapeStringUsing functions.</p></li>
      <li><p>Instead of adding <span><code>\n\n</code></span> to the end of an input
      string in Main.hs, this is now done in the readers. This makes the
      libraries behave the way you’d expect from the pandoc program.
      Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/10">#10</a>.</p></li>
      <li><p>URLs and email addresses in autolinks are now typeset as
      Code.</p></li>
      <li><p>In Main.hs, changed putStr to putStrLn – mainly because
      MacOS X doesn’t display the whole output unless there’s a line
      ending.</p></li>
      <li><p>Major code cleanup in all modules, for greater consistency,
      concision, and readability.</p></li>
      <li><p>HTML reader:</p>
      <ul>
      <li>Fixed several bugs (extractTagType, attribute parsing).</li>
      <li>Remove Null blocks in lists of blocks when possible.</li>
      <li>Allow HTML comments as raw HTML inline.</li>
      </ul></li>
      <li><p>Markdown reader:</p>
      <ul>
      <li>Ordered list items may no longer begin with uppercase letters,
      or letters greater than ‘n’. (This prevents first initials and
      page reference, e.g. ‘p. 400’, from being parsed as beginning
      lists.) Also, numbers beginning list items may no longer end with
      ‘)’, which is now allowed only after letters. Note: These changes
      may cause documents to be parsed differently. Users should take
      care in upgrading.</li>
      <li>Changed autoLink parsing to conform better to Markdown.pl’s
      behavior. <span><code>&lt;google.com&gt;</code></span> is not
      treated as a link, but <span><code>&lt;http://google.com&gt;</code></span>,
      <span><code>&lt;ftp://google.com&gt;</code></span>,
      and <span><code>&lt;mailto:<a href="https://bytes.zone/cdn-cgi/l/email-protection" data-cfemail="67000808000b0227000808000b024904080a">[email protected]</a>&gt;</code></span>
      are.</li>
      <li>Cleaned up handling of embedded quotes in link titles. Now
      these are stored as a ‘“’ character, not as ‘&#34;’.</li>
      <li>Use lookAhead parser for the ‘first pass’ (looking for
      reference keys), instead of parsing normally, then using setInput
      to reset input. This yields a slight performance boost.</li>
      <li>Fixed several bugs in smart quote recognition.</li>
      <li>Fixed bug in indentSpaces (which didn’t properly handle cases
      with mixed spaces and tabs).</li>
      <li>Consolidated ‘text’, ‘special’, and ‘inline’ into
      ‘inline’.</li>
      <li>Fixed bug which allowed URL and title to be separated by
      multiple blank lines in links and reference keys. They can be on
      separate lines but can’t have blank lines between them.</li>
      <li>Correctly handle bracketed text inside inline footnotes and
      links,using new function inlinesInBalanced. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/14">#14</a>.</li>
      <li>Fixed bug in footnotes: links in footnotes were not being
      processed. Solution: three-stage parse. First, get all the
      reference keys and add information to state. Next, get all the
      notes and add information to state. (Reference keys may be needed
      at this stage.) Finally, parse everything else.</li>
      <li>Replaced named constants like ‘emphStart’ with literals.</li>
      <li>Removed an extra occurrence of escapedChar in definition of
      inline.</li>
      </ul></li>
      <li><p>RST reader:</p>
      <ul>
      <li>Allow the URI in a RST hyperlink target to start on the line
      after the reference key.</li>
      <li>Added ‘try’ in front of ‘string’, where needed, or used a
      different parser. This fixes a bug where ````<span><code>would not be correctly parsed as   a verbatim</code></span>.</li>
      <li>Fixed slow performance in parsing inline literals in RST
      reader. The problem was that <span><code>#</code></span> was seen by ‘inline’ as a
      potential link or image. Fix: inserted ‘notFollowedBy (char’`‘)’
      in link parsers. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/8">#8</a>.</li>
      <li>Use lookAhead instead of getInput/setInput in RST reader.
      Removed unneeded getState call, since lookAhead automatically
      saves and restores the parser state.</li>
      <li>Allow hyperlink target URIs to be split over multiple lines,
      and to start on the line after the reference. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/7">#7</a>.</li>
      <li>Fixed handling of autolinks.</li>
      </ul></li>
      <li><p>LaTeX reader:</p>
      <ul>
      <li>Replaced <span><code>choice [(try (string ...), ...]</code></span>
      idiom with <span><code>oneOfStrings</code></span>,
      for clarity.</li>
      <li>Added clauses for tilde and caret. Tilde is <span><code>\ensuremath{\sim}</code></span>, and caret is
      <span><code>\^{}</code></span>, not <span><code>\^</code></span> as before.</li>
      <li>Added parsing for <span><code>\url</code></span>.</li>
      <li>Parse <span><code>\texttt{}</code></span> as
      code, provided there’s nothing fancy inside.</li>
      </ul></li>
      <li><p>HTML writer:</p>
      <ul>
      <li>Modified HTML writer to use the Text.XHtml library. This
      results in cleaner, faster code, and it makes it easier to use
      Pandoc in other projects, like wikis, which use Text.XHtml. Two
      functions are now provided, writeHtml and writeHtmlString: the
      former outputs an Html structure, the latter a rendered string.
      The S5 writer is also changed, in parallel ways (writeS5,
      writeS5String).</li>
      <li>The Html header is now written programmatically, so it has
      been removed from the ‘headers’ directory. The S5 header is still
      needed, but the doctype and some of the meta declarations have
      been removed, since they are written programmatically. This change
      introduces a new dependency on the xhtml package.</li>
      <li>Fixed two bugs in email obfuscation involving improper
      escaping of ‘&amp;’ in the <span><code>&lt;noscript&gt;</code></span> section and in
      <span><code>--strict</code></span> mode. Resolves
      Issue <a href="https://code.google.com/archive/p/pandoc/issues/9">#9</a>.</li>
      <li>Fixed another bug in email obfuscation: If the text to be
      obfuscated contains an entity, this needs to be decoded before
      obfuscation. Thanks to thsutton for the patch. Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/15">#15</a>.</li>
      <li>Changed the way the backlink is displayed in HTML footnotes.
      Instead of appearing on a line by itself, it now generally appears
      on the last line of the note. (Exception: when the note does not
      end with a Plain or Para block.) This saves space and looks
      better.</li>
      <li>Added automatic unique identifiers to headers:
      <ul>
      <li>The identifier is derived from the header via a scheme
      documented in README.</li>
      <li>WriterState now includes a list of header identifiers and a
      table of contents in addition to notes.</li>
      <li>The function uniqueIdentifiers creates a list of unique
      identifiers from a list of inline lists (e.g. headers).</li>
      <li>This list is part of WriterState and gets consumed by
      blockToHtml each time a header is encountered.</li>
      </ul></li>
      <li>Include CSS for .strikethrough class in header only if
      strikethrough text appears in the document.</li>
      <li>If the ‘strict’ option is specified, elements that do not
      appear in standard markdown (like definition lists) are passed
      through as raw HTML.</li>
      <li>Simplified treatment of autolinks, using pattern matching
      instead of conditionals.</li>
      </ul></li>
      <li><p>Markdown writer:</p>
      <ul>
      <li>Links in markdown output are now printed as inline links by
      default, rather than reference links. A –reference-links option
      has been added that forces links to be printed as reference links.
      Resolves Issue <a href="https://code.google.com/archive/p/pandoc/issues/4">#4</a>.</li>
      <li>Use autolinks when possible. Instead of <span><code>[site.com](site.com)</code></span>, use <span><code>&lt;site.com&gt;</code></span>.</li>
      </ul></li>
      <li><p>LaTeX writer:</p>
      <ul>
      <li>Rewrote to use the State monad. The preamble now includes only
      those packages that are actually required, given the document’s
      content. Thus, for example, if strikeout is not used, ulem is not
      required. Modified LaTeXHeader accordingly.</li>
      <li>Modified LaTeX writer to insert <span><code>\,</code></span> between consecutive
      quotes.</li>
      <li>Removed unused function tableRowColumnWidths.</li>
      <li>Simplified code for escaping special characters.</li>
      <li>Leave extra blank line after <span><code>\maketitle</code></span>.</li>
      <li>Include empty <span><code>\author{}</code></span> when no author
      specified to avoid LaTeX errors.</li>
      <li>Include fancyvrb code in header only if needed – that is, only
      if there is actually code in a footnote.</li>
      <li>Use <span><code>\url{}</code></span> for
      autolinks.</li>
      <li>Include [mathletters] option in ucs package, so that basic
      unicode Greek letters will work correctly.</li>
      </ul></li>
      <li><p>RST writer: Force blank line before lists, so that sublists
      will be handled correctly.</p></li>
      <li><p>Docbook writer: Fixed a bug: email links with text, like <a href="https://bytes.zone/posts/pagerank-for-my-obsidian-notes/me@bar.baz">foo</a>, were being incorrectly treated as
      autolinks.</p></li>
      <li><p>Removed Text.ParserCombinators.Pandoc and moved all its
      functions to Text.Pandoc.Shared.</p></li>
      <li><p>Text.Pandoc.Shared:</p>
      <ul>
      <li>Added defaultWriterOptions.</li>
      <li>Added writerTableOfContents to WriterOptions.</li>
      <li>Added writerIgnoreNotes option to WriterOptions. This is
      needed for processing header blocks for a table of contents, since
      notes on headers should not appear in the TOC.</li>
      <li>Added prettyprinting for native Table format.</li>
      <li>Removed some unneeded imports.</li>
      <li>Moved escape and nullBlock parsers from
      Text.ParserCombinators.Pandoc, since the latter is for
      general-purpose parsers that don’t depend on
      Text.Pandoc.Definition.</li>
      <li>Moved isHeaderBlock from Text.Pandoc.Writers.HTML.</li>
      <li>Moved Element, headerAtLeast, and hierarchicalize from Docbook
      writer, because HTML writer now uses these in constructing a table
      of contents.</li>
      <li>Added clauses for new inline elements (Strikeout, Superscript,
      Subscript) to refsMatch.</li>
      <li>Removed backslashEscape; added new functions escapeStringUsing
      and backslashEscapes.</li>
      <li>Moved failIfStrict from markdown reader, since it is now used
      also by the HTML reader.</li>
      <li>Added a ‘try’ to the definition of indentSpaces.</li>
      <li>In definition of ‘reference’, added check to make sure it’s
      not a note reference.</li>
      <li>Added functions: camelCaseToHyphenated, toRomanNumeral,
      anyOrderedListMarker, orderedListmarker, orderedListMarkers,
      charsInBalanced’, withHorizDisplacement, romanNumeral</li>
      <li>Fixed a bug in the anyLine parser. Previously it would parse
      an empty string ““, but it should fail on an empty string, or we
      get an error when it is used inside”many” combinators.</li>
      <li>Removed followedBy’ parser, replacing it with the lookAhead
      parser from Parsec.</li>
      <li>Added some needed ‘try’s before multicharacter parsers,
      especially in ’option’ contexts.</li>
      <li>Removed the ‘try’ from the ‘end’ parser in ‘enclosed’, so that
      ‘enclosed’ behaves like ‘option’, ‘manyTill’, etc.</li>
      <li>Added lineClump parser, which parses a raw line block up to
      and including any following blank lines.</li>
      <li>Renamed parseFromStr to parseFromString.</li>
      <li>Added a ‘try’ to the ‘end’ parser in ‘enclosed’. This makes
      errors in the use of ‘enclosed’ less likely. Removed some
      now-unnecessary ’try’s in calling code.</li>
      <li>Removed unneeded ‘try’ in blanklines.</li>
      <li>Removed endsWith function and rewrote calling functions to use
      isSuffixOf instead.</li>
      <li>Added &gt;&gt;~ combinator.</li>
      <li>Fixed bug in normalizeSpaces: Space:Str ““:Space should
      compress to Space.</li>
      </ul></li>
      <li><p>Refactored runtests.pl; added separate tests for
      tables.</p></li>
      <li><p>Shell scripts:</p>
      <ul>
      <li>Added -asxhtml flag to tidy in html2markdown. This will
      perhaps help the parser, which expects closing tags.</li>
      <li>Modified markdown2pdf to run pdflatex a second time if –toc or
      –table-of-contents was specified; otherwise the table of contents
      won’t appear.</li>
      <li>Modified markdown2pdf to print a helpful message if the ‘ulem’
      LaTeX package is required and not found.</li>
      </ul></li>
      <li><p>Changes to build process:</p>
      <ul>
      <li>Dropped support for compilation with GHC 6.4. GHC 6.6 or
      higher is now required.</li>
      <li>Removed cabalize and Pandoc.cabal.in. The repository now
      contains pandoc.cabal itself.</li>
      <li>Pandoc.cabal has been changed to pandoc.cabal, because
      HackageDB likes the cabal file to have the same name as the
      tarball.</li>
      <li>Expanded and revised the package description in pandoc.cabal.
      Revised the package synopsis.</li>
      <li>The tarball built by ‘make tarball’ now contains files built
      from templates (including man pages and shell scripts), so pandoc
      can be built directly using Cabal tools, without
      preprocessing.</li>
      <li>Executable binaries are now stripped before installing.</li>
      <li>Man pages are now generated from markdown sources, using
      pandoc’s man page writer.</li>
      <li>Use HTML version of README (instead of RTF) in Mac OS X
      installer.</li>
      <li>Instead of testing for the existence of a pandoc symlink in
      build-exec, use ln -f.</li>
      </ul></li>
      <li><p>Documentation:</p>
      <ul>
      <li>Updated README and man pages with information on new
      features.</li>
      <li>Updated INSTALL instructions with some useful clarifications
      and links.</li>
      <li>Updated web content.</li>
      </ul></li>
      <li><p>Added FreeBSD port.</p></li>
      </ul>
      <p>[ Recai Oktaş ]</p>
      <ul>
      <li><p>debian/control:</p>
      <ul>
      <li>Changed pandoc’s Build-Depends to include libghc6-mtl-dev and
      libghc6-xhtml-dev. Removed libghc6-html-dev.</li>
      <li>Suggest texlive-latex-recommended | tetex-extra instead of
      tetex-bin. This brings in fancyvrb and unicode support.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-0.3-2007-01-05">
      <h2><a href="#pandoc-0.3-2007-01-05" aria-hidden="true"></a>pandoc 0.3 (2007-01-05)</h2>
      <p>[ John MacFarlane ]</p>
      <ul>
      <li><p>Changes in pandoc options:</p>
      <ul>
      <li>Allow options to follow or precede arguments.</li>
      <li>Changed ‘–smartypants’ to ‘–smart’ and adjusted symbols
      accordingly.</li>
      <li>Added ‘–strict’ option.</li>
      <li>Added ‘-o/–output’ option.</li>
      <li>Added ‘–dump-args’ and ‘–ignore-args’ options (for use in
      wrappers).</li>
      <li>Modified ‘-v’ and ‘-h’ output to go to STDERR, not STDOUT, and
      return error conditions. This is helpful for writing
      wrappers.</li>
      <li>Added copyright message to ‘-v’ output, modeled after FSF
      messages.</li>
      <li>Reformatted usage message so that it doesn’t wrap
      illegibly.</li>
      <li>Removed extra blanks after ‘-h’ and ‘-D’ output.</li>
      </ul></li>
      <li><p>Added docbook writer.</p></li>
      <li><p>Added implicit setting of default input and output format
      based on input and output filename extensions. These defaults are
      overridden if explicit input and output formats are specified
      using ‘-t’, ‘-f’, ‘-r’, or ‘-w’ options. Documented in pandoc(1)
      man page and README.</p></li>
      <li><p>Allow ordered list items to begin with (single) letters, as
      well as numbers. The list item marker may now be terminated either
      by ‘.’ or by ‘)’. This extension to standard markdown is
      documented in README.</p></li>
      <li><p>Revised footnote syntax. (See README for full details.) The
      ‘[^1]’ format now standard in markdown extensions is supported, as
      are inline footnotes with this syntax: <span><code>^[My note.]</code></span>. The earlier
      footnote syntax <span><code>^(1)</code></span> is
      no longer supported.</p></li>
      <li><p>Improved HTML representation of footnotes. All footnotes
      are now auto-numbered and appear in an ordered list at the end of
      the HTML document. Since the default appearance is now acceptable,
      the old footnote styles have been removed from the HTML
      header.</p></li>
      <li><p>Bug fixes:</p>
      <ul>
      <li>Fixed a serious bug in the markdown, LaTeX, and RST readers.
      These readers ran ‘runParser’ on processed chunks of text to
      handle embedded block lists in lists and quotation blocks. But
      then any changes made to the parser state in these chunks was
      lost, as the state is local to the parser. So, for example,
      footnotes didn’t work in quotes or list items. The fix: instead of
      calling runParser on some raw text, use setInput to make it the
      input, then parse it, then use setInput to restore the input to
      what it was before. This is shorter and more elegant, and it fixes
      the problem.</li>
      <li>Fixed bug in notFollowedBy’ combinator (adding ‘try’ before
      ‘parser’). Adjusted code that uses this combinator
      accordingly.</li>
      <li>Fixed bug in RTF writer that caused improper indentation on
      footnotes occurring in indented blocks like lists.</li>
      <li>Fixed parsing of metadata in LaTeX reader. Now the title,
      author, and date are parsed correctly. Everything else in the
      preamble is skipped.</li>
      <li>Modified escapedChar in LaTeX reader to allow a <span><code>\</code></span> at the end of a line to count
      as escaped whitespace.</li>
      <li>Modified LaTeX reader to produce inline links rather than
      reference links. Otherwise, links in footnotes aren’t handled
      properly.</li>
      <li>Fixed handling of titles in links in Markdown reader, so that
      embedded quotation marks are now handled properly.</li>
      <li>Fixed Markdown reader’s handling of embedded brackets in
      links.</li>
      <li>Fixed Markdown reader so that it only parses bracketed
      material as a reference link if there is actually a corresponding
      key.</li>
      <li>Revised inline code parsing in Markdown reader to conform to
      markdown standard. Now any number of <span><code>s can begin inline code,   which will end with the same number of</code></span>s.
      For example, to have two backticks as code, write <span><code>``</code></span>. Modified Markdown writer
      accordingly.</li>
      <li>Fixed bug in text-wrapping routine in Markdown and RST
      writers. Now LineBreaks no longer cause wrapping problems.</li>
      <li>Supported hexadecimal numerical entity references as well as
      decimal ones.</li>
      <li>Fixed bug in Markdown reader’s handling of underscores and
      other inline formatting markers inside reference labels: for
      example, in ‘[A_B]: /url/a_b’, the material between underscores
      was being parsed as emphasized inlines.</li>
      <li>Changed Markdown reader’s handling of backslash escapes so
      that only non-alphanumeric characters can be escaped. Strict mode
      follows Markdown.pl in only allowing a select group of punctuation
      characters to be escaped.</li>
      <li>Modified HTML reader to skip a newline following a <span><code>&lt;br&gt;</code></span> tag. Otherwise the
      newline will be treated as a space at the beginning of the next
      line.</li>
      </ul></li>
      <li><p>Made handling of code blocks more consistent. Previously,
      some readers allowed trailing newlines, while others stripped
      them. Now, all readers strip trailing newlines in code blocks.
      Writers insert a newline at the end of code blocks as
      needed.</p></li>
      <li><p>Modified readers to make spacing at the end of output more
      consistent.</p></li>
      <li><p>Minor improvements to LaTeX reader:</p>
      <ul>
      <li><span><code>\thanks</code></span> now treated
      like a footnote.</li>
      <li>Simplified parsing of LaTeX command arguments and options.
      commandArgs now returns a list of arguments OR options (in
      whatever order they appear). The brackets are included, and a new
      stripFirstAndLast function is provided to strip them off when
      needed. This fixes a problem in dealing with \newcommand and
      \newenvironment.</li>
      </ul></li>
      <li><p>Revised RTF writer:</p>
      <ul>
      <li>Default font is now Helvetica.</li>
      <li>An <span><code>\f0</code></span> is added to
      each <span><code>\pard</code></span>, so that font
      resizing works correctly.</li>
      </ul></li>
      <li><p>Moved handling of “smart typography” from the writers to
      the Markdown and LaTeX readers. This allows great simplification
      of the writers and more accurate smart quotes, dashes, and
      ellipses. DocBook can now use <span><code>&lt;quote&gt;</code></span>. The ‘–smart’
      option now toggles an option in the parser state rather than a
      writer option. Several new kinds of inline elements have been
      added: Quoted, Ellipses, Apostrophe, EmDash, EnDash.</p></li>
      <li><p>Changes in HTML writer:</p>
      <ul>
      <li>Include title block in header even when title is null.</li>
      <li>Made javascript obfuscation of emails even more obfuscatory,
      by combining it with entity obfuscation.</li>
      </ul></li>
      <li><p>Changed default ASCIIMathML text color to black.</p></li>
      <li><p>Test suite:</p>
      <ul>
      <li>Added –strip-trailing-cr option to diff in runtests.pl, for
      compatibility with Windows.</li>
      <li>Added regression tests with footnotes in quote blocks and
      lists.</li>
      </ul></li>
      <li><p>Makefile changes:</p>
      <ul>
      <li>osx-pkg target creates a Mac OS X package (directory). New osx
      directory contains files needed for construction of the
      package.</li>
      <li>osx-dmg target creates a compressed disk image containing the
      package.</li>
      <li>win-pkg target creates Windows binary package.</li>
      <li>tarball target creates distribution source tarball.</li>
      <li>website target generates pandoc’s website automatically,
      including demos. New ‘web’ directory contains files needed for
      construction of the website (which will be created as the ‘pandoc’
      subdirectory of ‘web’).</li>
      <li>Makefile checks to see if we’re running Windows/Cygwin; if so,
      a ‘.exe’ extension is added to each executable in EXECS.</li>
      </ul></li>
      <li><p>Removed all wrappers except markdown2pdf and
      html2markdown.</p></li>
      <li><p>Added new wrapper hsmarkdown, to be used as a drop-in
      replacement for Markdown.pl. hsmarkdown calls pandoc with the
      ‘–strict’ option and disables other options.</p></li>
      <li><p>Added code to html2markdown that tries to determine the
      character encoding of an HTML file, by parsing the “Content-type”
      meta tag.</p>
      <ul>
      <li>If the encoding can’t be determined, then if the content is
      local, the local encoding is used; if it comes from a URL, UTF-8
      is used by default.</li>
      <li>If input is from STDIN, don’t try to determine character
      encoding.</li>
      <li>Encoding can be specified explicitly using ‘-e’ option.</li>
      </ul></li>
      <li><p>Improved warning messages in wrappers:</p>
      <ul>
      <li>Print warning if iconv not available</li>
      <li>More user-friendly error messages in markdown2pdf, when
      pdflatex fails.</li>
      </ul></li>
      <li><p>Code cleanup:</p>
      <ul>
      <li>Renamed ‘Text/Pandoc/HtmlEntities’ module to
      ‘Text/Pandoc/Entities’. Also changed function names so as not to
      be HTML-specific.</li>
      <li>Refactored SGML string escaping functions from HTML and
      Docbook writers into Text/Pandoc/Shared. (escapeSGML,
      stringToSGML)</li>
      <li>Removed ‘BlockQuoteContext’ from ParserContext, as it isn’t
      used anywhere.</li>
      <li>Removed splitBySpace and replaced it with a general,
      polymorphic splitBy function.</li>
      <li>Refactored LaTeX reader for clarity (added isArg
      function).</li>
      <li>Converted some CR’s to LF’s in src/ui/default/print.css.</li>
      <li>Added license text to top of source files.</li>
      <li>Added module data for haddock to source files.</li>
      <li>Reformatted code for consistency.</li>
      </ul></li>
      <li><p>Rewrote documentation and man pages. Split README into
      INSTALL and README.</p></li>
      <li><p>Split LICENSE into COPYING and COPYRIGHT.</p></li>
      <li><p>Removed TODO, since we now maintain ToDo on the
      wiki.</p></li>
      <li><p>Made COPYRIGHT in top level a symlink to debian/copyright,
      to avoid duplication.</p></li>
      </ul>
      <p>[ Recai Oktaş ]</p>
      <ul>
      <li><p>Revamped build process to conform to debian standards and
      created a proper debian package. Closes: <a href="https://code.google.com/archive/p/pandoc/issues/391666">#391666</a>.</p></li>
      <li><p>Modified build process to support GHC 6.6.</p>
      <ul>
      <li>The package can still be compiled using GHC 6.4.2, though
      because of dependencies the “make deb” target works only with GHC
      6.6+.</li>
      <li>The script ‘cabalize’ is used to create an appropriate
      ‘Pandoc.cabal’ from ‘Pandoc.cabal.in’, depending on the GHC and
      Cabal versions.</li>
      </ul></li>
      <li><p>Refactored template processing (fillTemplates.pl).</p></li>
      <li><p>Modified wrapper scripts to make them more robust and
      portable. To avoid code duplication and ensure consistency,
      wrappers are generated via a templating system from templates in
      src/wrappers.</p>
      <ul>
      <li>Wrappers now accept multiple filenames, when appropriate.</li>
      <li>Spaces and tabs allowed in filenames.</li>
      <li>getopts shell builtin is used for portable option
      parsing.</li>
      <li>Improved html2markdown’s web grabber code, making it more
      robust, configurable and verbose. Added ‘-e’, ‘-g’ options.</li>
      </ul></li>
      </ul>
      </section>
      <section id="pandoc-0.2-2006-08-14">
      <h2><a href="#pandoc-0.2-2006-08-14" aria-hidden="true"></a>pandoc 0.2 (2006-08-14)</h2>
      <ul>
      <li>Fixed unicode/utf-8 translation</li>
      </ul>
      </section>
      <section id="pandoc-0.1-2006-08-14">
      <h2><a href="#pandoc-0.1-2006-08-14" aria-hidden="true"></a>pandoc 0.1 (2006-08-14)</h2>
      <ul>
      <li>Initial creation of debian package</li>
      </ul>
      </section>
      </section>
    </div></div>
  </body>
</html>
