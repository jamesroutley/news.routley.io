<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://charles.inclouds.space/blog/birch-mid-july/">Original</a>
    <h1>Birch Log: Mid-July</h1>
    
    <div id="readability-page-1" class="page">

<h4>2022-07-13</h4>
<p>Well!</p>
<p>It&#39;s been about two weeks since the <a href="https://inclouds.space/blog/birch-june/">last update</a>.
Birch development has been steadily progressing and even picking up in the last few days. I researched and thought a bunch about different design decisions (summarized below), but lately it&#39;s been coding, coding, and more coding! I guess that&#39;s how it goes :)</p>
<p>With the progression detailed below, Birch has evolved. It&#39;s gone from a project of 100% vision and 0% usefulness, to something that can actually be used to code in. You can write functions. The functions can access data. The data then updates in real time. It&#39;s starting to feel, dare I say, <em>alive!</em></p>
<h3 id="progress-update">Progress Update</h3>
<ul>
<li>I&#39;ve gotten a bit better at explaining Birch&#39;s raison d&#39;Ãªtre. The new pitch is:</li>
</ul>
<blockquote>
<p>Birch is a platform where developers can author and interact with live functions and tables on a 2d canvas.
These functions can be run by hand, by a POST request, or on a timer.</p>
<p><em>Birch aims to dramatically lower the bar for the amount of information and thought required to get code running in the cloud.</em></p>
</blockquote>
<ul>
<li>
<p>Birch functions can call each other and access tables! Tables are bound to Javascript objects with methods like <code>map</code>, <code>forEach</code>, and <code>insert</code>.</p>
</li>
<li>
<p>These database-related functions <em>are not async</em>! Nearly every other database toolkit for Javascript requires adding <code>await</code> before each call.
This probably makes sense in the context of a browser or webserver, but it&#39;s wholly unnecessary for a platform that runs only one function at a time.
</p>
</li>
<li>
<p>Tables update live in the client when a function edits them serverside.</p>
</li>
<li>
<p>Tables are now paginated, whereas before they only ever displayed the first 10 entries ðŸ˜†</p>
</li>
<li>
<p>The 2d canvas is now scrollable and expends as new functions or tables are made closer to its edge.</p>
</li>
<li>
<p>Errors are not yet communicated in the UI at all â€” parse errors, runtime errors, you name it! This is a major issue standing in the way of Birch being really usable.</p>
</li>
<li>
<p>A function&#39;s return value is not communicated either. I don&#39;t really know where to display it. Should it pop up below the function in question? And then fade out after some time? Should return values all be accumulated in a sidebar? I want something that will feel natural to users; maybe it&#39;s time to get some users!</p>
</li>
<li>
<p>I&#39;m realizing that it would be nice to document a table&#39;s methods (as well as other potential capabilities I might add in the future like <code>fetch</code>). Perhaps there&#39;s a way to build this into the Birch editor environment...</p>
</li>
</ul>
<h3 id="general-thoughts">General Thoughts</h3>
<ul>
<li>
<p>Instead of using Deno&#39;s FFI to link in Rust, I briefly considered compiling Javascript down to Webassembly so I could use synchronous database primitives. Also I trust Webassembly&#39;s sandboxing more than Deno&#39;s. But the compiler I found â€” <a href="https://github.com/Shopify/javy">Javy</a> by Shopify â€” didn&#39;t have nice error messages and introduced too much latency between writing code and running it.
</p>
</li>
<li>
<p>&#34;Why not use an existing Functions-as-a-Service solution as the backend of Birch?&#34; I looked into it. It seems like most FaaS providers <a href="https://devops.stackexchange.com/questions/9775/how-long-does-it-take-to-deploy-a-serverless-function">can take a few minutes</a> to deploy a newly edited function. This is way too long for users to feel like they are directly editing their production environment!
</p>
</li>
<li>
<p>On the UI side of things, I have card actions behind a right-click context menu at the moment:</p>
</li>
</ul>
<div>
<p><span>
<p><img src="https://charles.inclouds.space/birch-03.png" alt="A context menu with two options: Run Function or Delete Function"/></p>
</span></p><p>While it&#39;s nice that right-click context menus are well-known pattern, I&#39;m worried people won&#39;t expect Birch to support them, as most webapps don&#39;t. I&#39;d have to add some kind of pop-up saying, &#34;Try right-clicking!&#34;</p>
<p>So instead I&#39;ve been exploring a mode of interaction where these options are discoverable through hovering. On mouseover they would appear as icons to the right of a card:</p>
<p><span>
<p><img src="https://charles.inclouds.space/birch-04.png" alt=""/></p>
</span></p><p>Hovering over each option would then surface a description of what the icon does:</p>
<p><span>
<p><img src="https://charles.inclouds.space/birch-05.png" alt=""/></p>
</span></p><p>This is perhaps more visually distracting than hiding them behind a context menu,
but it could be a win for discoverability.</p>
<p>I&#39;m curious what people think! Do you strongly support context menus? Have a better idea? Let me know.</p>
</div>
<ul>
<li>
<p>On a more general note, it&#39;s no longer feeling like &#34;Step 1: Get the functions to run&#34;. I&#39;m beginning to see a whole slew of largely independent prerequisites to launching.</p>
</li>
<li>
<p>Speaking of, I intend to get some sort of pre-alpha preview up soon. Maybe in time for the next post!</p>
</li>
</ul>
<p>There you have it! Thanks for reading and hope you have a great day :)</p>
<p>Charles</p>
<p>P.S. Feel free to reach out on twitter <a href="https://twitter.com/charlesetc">@charlesetc</a> or email at <a href="https://charles.inclouds.space/cdn-cgi/l/email-protection#9dfef5fceff1f8eeddf3efeaf5f1b3e5e4e7"><span data-cfemail="f6959e97849a9385b69884819e9ad88e8f8c">[emailÂ protected]</span></a>!</p>
<p><a href="https://charles.inclouds.space/blog/">â†µ</a></p>


</div>
  </body>
</html>
