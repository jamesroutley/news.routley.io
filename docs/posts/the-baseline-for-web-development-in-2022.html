<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://engineering.linecorp.com/en/blog/the-baseline-for-web-development-in-2022/">Original</a>
    <h1>The baseline for web development in 2022</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="text">

		
		
<p> <strong>TL;DR:</strong><em>The baseline for web development in 2022 is: low-spec Android devices in terms of performance, Safari from two years before in terms of Web Standards, and 4G in terms of networks. The web in general is not answering those needs properly, especially in terms of performance where factors such as an over-dependence on JavaScript are hindering our sites’ performance.</em></p>



<p>Hello there! I’m Alan Dávalos, a front-end engineer at LINE. You might have thought this article’s title is just clickbait but bear with me for a while, I promise it’s worth it. The main reason for that is that there were some big changes in the web between 2021 and 2022 and those affect the way we should face web development as a whole.</p>



<p>So, today I would like to address those changes and how well we are adapting to them as web developers by analyzing many different data points.</p>



<h2 id="id-1/26ArticleEnglish-Thebiggestchangethathappenedin2021~TheretirementofInternetExplorer">The biggest change that happened in 2021 ~ The retirement of Internet Explorer</h2>



<p>There were many changes in 2021 but none were as big as the official retirement of Internet Explorer (IE). <a href="https://blogs.windows.com/windowsexperience/2021/05/19/the-future-of-internet-explorer-on-windows-10-is-in-microsoft-edge/" target="_blank" rel="noreferrer noopener">Microsoft made the announcement in May 2021</a> and by August many Microsoft products including Microsoft 365 had officially dropped support for IE. The official retirement date for IE is scheduled for June 2022 but there are several other reasons why we can consider IE as fully retired by now.</p>



<h3 id="id-1/26ArticleEnglish-SomeoftheWeb&#39;sbiggestsitesdropsupportforIE">Some of the Web’s biggest sites drop support for IE</h3>



<p>After Microsoft’s announcement, many other projects started dropping support for IE. Among them are sites most internet users interact with.</p>



<p>For example, <a href="https://twitter.com/cramforce/status/1443962459723755533" target="_blank" rel="noreferrer noopener">Google search dropped support for IE in October 2021</a>.</p>



<div><figure><img loading="lazy" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Google-Support-1.png" alt="A tweet from October 2nd, 2021 by Principal Software Engineer and Engineering Director Malte Ubl mentioning Google search dropped support for IE." width="576" height="365" srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Google-Support-1.png 1151w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Google-Support-1-300x190.png 300w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Google-Support-1-1024x649.png 1024w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Google-Support-1-768x487.png 768w" sizes="(max-width: 576px) 100vw, 576px"/><figcaption>Twitter @cramforce</figcaption></figure></div>



<p>In Japan, <a href="https://support.yahoo-net.jp/PccYjcommon/s/article/H000011350" target="_blank" rel="noreferrer noopener">Yahoo! JAPAN announced set IE as a non-recommended browser in September 2021</a> (website in Japanese).</p>



<div><figure><img loading="lazy" width="580" height="290" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Yahoo-Support-1.png" alt="An excerpt from Yahoo! JAPAN&#39;s page regarding their recommended browsers. The next quote has a full translation." srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Yahoo-Support-1.png 580w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Yahoo-Support-1-300x150.png 300w" sizes="(max-width: 580px) 100vw, 580px"/></figure></div>



<blockquote><p>Yahoo! JAPAN had Internet Explorer 11 as a recommended browser. But following the end of support of Internet Explorer announcement by Microsoft Yahoo! JAPAN decided to set Internet Explorer 11 as a non-recommended browser starting from September 7th, 2021.</p><p>Furthermore, you can still use Internet Explorer 11 to use some of our services but you might face issues where the page doesn’t behave or render properly. We would also recommend any users using Internet Explorer 11 to use other of our recommended browsers as the official end-of-support date for Internet Explorer 11 is getting close.</p></blockquote>



<p>Furthermore, WordPress, <a href="https://almanac.httparchive.org/en/2021/cms#top-cmss" target="_blank" rel="noreferrer noopener">which is used in about 33% of the Web</a>, also announced that <a href="https://wordpress.org/news/2021/05/dropping-support-for-internet-explorer-11/" target="_blank" rel="noreferrer noopener">they would drop support for IE in WordPress version 5.8</a> released in July 2021.</p>



<div><figure><img loading="lazy" width="773" height="67" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Wordpress-Support-1.png" alt="" srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Wordpress-Support-1.png 773w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Wordpress-Support-1-300x26.png 300w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Wordpress-Support-1-768x67.png 768w" sizes="(max-width: 773px) 100vw, 773px"/><figcaption>When WordPress 5.8 is released in July of this year, Internet Explorer 11 will no longer be supported.</figcaption></figure></div>







<p>There is a good reason why the announcements above didn’t wait until IE’s official retirement. IE’s market share dropped sharply throughout 2021.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Global-Browser-Share-Pie-1.svg" alt="A pie chart for the global browser market share in November 2021. A more detailed explanation is below."/><figcaption>Graph derivative of <a href="https://gs.statcounter.com/browser-market-share#monthly-202111-202111-bar" target="_blank" rel="noreferrer noopener">“Browser Market Share Worldwide”</a> by Statcounter used under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a>. This graph is licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a> by Alan Dávalos.</figcaption></figure></div>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Japanese-Browser-Share-Pie-1.svg" alt="A pie chart for the Japanese browser market share in November 2021. A more detailed explanation is below."/><figcaption>Graph derivative of <a href="https://gs.statcounter.com/browser-market-share/all/japan/#monthly-202111-202111-bar" target="_blank" rel="noreferrer noopener">“Browser Market Share Japan”</a> by Statcounter used under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a>. This graph is licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a> by Alan Dávalos.</figcaption></figure></div>



<p>Globally, IE’s current market share is under 0.5%. And even in Japan, which has a higher market share of IE compared to other countries, IE’s market share is close to 2% and has a downward tendency.</p>



<h2 id="id-1/26ArticleEnglish-Thenewbaselineforwebdevelopment">The new baseline for web development</h2>



<p>Until now we kept supporting IE due to its market share. But now, there are basically no good reasons to keep supporting IE. However, this brings up a new problem, IE was the support baseline for many tools. IE’s development mostly stopped quite a while ago, so the web standards it supports are very different to those supported by modern browsers.</p>



<p>Now that IE is gone, that baseline has become blurry. So, I’ll take upon the task of defining a new baseline by analyzing the current status of our users’ devices.</p>



<h3 id="id-1/26ArticleEnglish-Users&#39;devicesandbrowsers">Users’ devices and browsers</h3>







<p>Let’s take a look at the browser market share chart in a different format.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Global-Browser-Share-Bar-1.svg" alt="A bar chart for the global browser market share in November 2021. A more detailed explanation is below."/><figcaption>Graph derivative of <a href="https://gs.statcounter.com/browser-market-share#monthly-202111-202111-bar" target="_blank" rel="noreferrer noopener">“Browser Market Share Worldwide”</a> by Statcounter used under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a>. This graph is licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a> by Alan Dávalos.</figcaption></figure></div>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Japanese-Browser-Share-Bar-1.svg" alt="A bar chart for the Japanese browser market share in November 2021. A more detailed explanation is below."/><figcaption>Graph derivative of <a href="https://gs.statcounter.com/browser-market-share/all/japan/#monthly-202111-202111-bar">“Browser Market Share Japan”</a> by Statcounter used under <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a>. This graph is licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/%20target=" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a> by Alan Dávalos.</figcaption></figure></div>



<p>There are two tendencies I want to highlight here:</p>



<ol><li>There are 3 browser engines we need to support<ol><li>Chromium, the base for Chrome, Edge, Samsung Internet Browser, and Opera.</li><li>Gecko, the base for Firefox.</li><li>WebKit, the base for Safari.</li></ol></li><li>The rate of Safari users in Japan is higher than the global average.</li></ol>



<p>The reason for the latter of those points is easy to figure when looking at the following charts.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Global-Mobile-OS-Share-1.svg" alt="A pie chart for the global mobile OS market share in November 2021. A more detailed explanation is below."/><figcaption>Graph derivative of <a href="https://gs.statcounter.com/os-market-share/mobile/worldwide/#monthly-202111-202111-bar">“Mobile Operating System Market Share Worldwide”</a> by Statcounter used under <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a>. This graph is licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/%20target=" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a> by Alan Dávalos.</figcaption></figure></div>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Japanese-Mobile-OS-Share-1.svg" alt="A pie chart for the Japanese mobile OS market share in November 2021. A more detailed explanation is below."/><figcaption>Graph derivative of <a href="https://gs.statcounter.com/os-market-share/mobile/japan/#monthly-202111-202111-bar">“Mobile Operating System Market Share Japan”</a> by Statcounter used under <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a>. This graph is licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/%20target=" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a> by Alan Dávalos.</figcaption></figure></div>



<p>As you can see, Android has around 70% of the global mobile OS market share while iOS has 28%. On the other hand, the opposite applies in Japan, where Android has only 33% of market share compared to iOS’s 66%.</p>



<h4 id="id-1/26ArticleEnglish-ThedifferenceinCPUperformance">The difference in CPU performance</h4>



<p>The difference in OS is not only on the software side, it also implies hardware differences. The biggest one could be considered the CPU performance.</p>



<div><figure><img loading="lazy" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Multi-1-1024x663.png" alt="A bar chart comparing the multi-core CPU performance of representative iOS and Android devices released between 2011 and 2020. A more detailed explanation is below." width="768" height="497" srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Multi-1-1024x663.png 1024w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Multi-1-300x194.png 300w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Multi-1-768x497.png 768w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Multi-1.png 1301w" sizes="(max-width: 768px) 100vw, 768px"/></figure></div>



<div><figure><img loading="lazy" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Single-1-1024x659.png" alt="A bar chart comparing the single-core CPU performance of representative iOS and Android devices released between 2011 and 2020. A more detailed explanation is below." width="768" height="494" srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Single-1-1024x659.png 1024w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Single-1-300x193.png 300w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Single-1-768x494.png 768w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Performance-Single-1.png 1302w" sizes="(max-width: 768px) 100vw, 768px"/><figcaption>Source: <a href="https://infrequently.org/2021/03/the-performance-inequality-gap/#mind-the-gap">“The Mobile Performance Inequality Gap, 2021” – Alex Russell</a></figcaption></figure></div>



<p>As seen in the charts above, iOS devices have had the best CPU performance scores every year for the past 10 years. Compared to that, high-tier Android devices have somewhat similar results, but mid-tier and low-tier devices perform quite worse than that. Quoting Alex Russel, <a href="https://infrequently.org/2021/03/the-performance-inequality-gap/#mind-the-gap target=" target="_blank" rel="noreferrer noopener">the author of the article the above two charts came from</a>:</p>



<blockquote><p>2020’s high-end Androids sport the single-core performance of an iPhone 8, a phone released in Q3’17</p></blockquote>



<h4 id="id-1/26ArticleEnglish-Browser&#39;salignmenttowebstandards">Browser’s alignment to web standards</h4>



<p>The part of the different browsers that most affects web development is their implementation of the different web standards. As mentioned above, there are 3 browser engines we should care about. So, let’s take a look at how these different browsers implement web standards. The easiest way to check these difference is with the following data of the Web Platform Tests.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/WPT-1.svg" alt="A bar chart comparing the number of tests failed in only one browser. A more detailed explanation is below."/><figcaption>Source: <a href="https://ecosystem-infra.github.io/wpt-results-analysis/%20target=" target="_blank" rel="noreferrer noopener">“Browser Specific Failures”</a> – extracted on December 4th, 2021</figcaption></figure></div>



<p>This chart shows how many Web Platform Tests fail in only one browser. In other words, how many features the other two browsers have already implemented.</p>



<p>One fact becomes evident here, the number of web standards only Safari hasn’t implemented is many times bigger than those of Firefox and Chrome. To be precise, 2.4 times as much as Firefox and 4.7 times as much as Chrome.</p>



<p>Moreover, we should also take in consideration the close relationship Safari and iOS have. Specifically, these two points:</p>



<ol><li>Other mobile browsers update independently from the OS, whereas Safari is only updated when there is an update to iOS. iOS devices that are no longer supported with newer versions of iOS cannot update to the latest version of Safari.</li><li>All browsers in iOS are based on Webkit: There are Chrome and Firefox versions for iOS but those use the same engine as Safari in iOS. This is because of <a href="https://developer.apple.com/app-store/review/guidelines/#software-requirements target=" target="_blank" rel="noreferrer noopener">an Apple guideline</a> which mentions that all iOS browsers must use Webkit.</li></ol>



<p>This relationship between iOS and Safari also means that we must also check how the market share of iOS versions changes with each new major iOS version release.</p>



<div><figure><img loading="lazy" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/iOS-Share-1.png" alt="A line chart showing the quarterly variation in market share for iOS major versions from 2019 to 2021. A more detailed explanation is below." width="689" height="420" srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/iOS-Share-1.png 918w, https://engineering.linecorp.com/wp-content/uploads/2022/01/iOS-Share-1-300x183.png 300w, https://engineering.linecorp.com/wp-content/uploads/2022/01/iOS-Share-1-768x468.png 768w" sizes="(max-width: 689px) 100vw, 689px"/><figcaption>Graph derivative of <a href="https://gs.statcounter.com/ios-version-market-share/mobile-tablet/worldwide/#quarterly-201901-202104">“Mobile &amp; Tablet iOS Version Market Share Worldwide”</a> by Statcounter used under <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a>. This graph is licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/%20target=" target="_blank" rel="noreferrer noopener">CC BY-SA 3.0</a> by Alan Dávalos.</figcaption></figure></div>



<p>To have a deeper understanding on how the market share of each iOS version changes let’s take a look at how the market share for iOS 12 changed in the past 2 years:</p>



<ul><li>From Q1 to Q3 2019, iOS 12’s share was gradually growing, but that number plummets once the iPhone 11 and iOS 13 came out in Q3.</li><li>From there, iOS 12’s share fell under 20% throughout the next year.</li><li>Then, as soon as the iPhone 12 and iOS 14 came out in Q3 2020, iOS 12’s share had such a sharp decline, by Q2 2021 its share was negligible.</li><li>The same pattern that happened to iOS 12 was also observed in later years with versions 13 and 14.</li></ul>



<p>In conclusion, we can safely assume that over 90% of the iOS market share will be constantly made up of major versions released in the past 2 years. In other words, we only need to support Safari versions released in the last 2 years.</p>



<h3 id="id-1/26ArticleEnglish-Mobilenetworks">Mobile networks</h3>



<p>So far, we’ve mostly talked about devices and browsers, but now let’s take a look at one of the factors that has a big impact on the UX that web developers have no influence on: network connections. When connected to a Wi-Fi network, the connection is mostly stable but the same can’t be said for mobile networks. Let’s take a look at the current state of mobile networks.</p>



<h4 id="id-1/26ArticleEnglish-3Gand4G">3G and 4G</h4>



<p>When using lab tools such as Lighthouse, the network is tethered to simulate 3G, but mobile networks worldwide have changed recently. According to <a href="https://www.opensignal.com/sites/opensignal-com/files/data/reports/pdf-only/data-2020-05/state_of_mobile_experience_may_2020_opensignal_3_0.pdf target=" target="_blank" rel="noreferrer noopener">a May 2020 report by Opensignal</a>, the worldwide average availability for 4G is 86.8%. So, we can safely assume that most users will have access to a 4G network worldwide. And among the tested countries, Japan had the highest 4G availability with 98.5%.</p>



<h4 id="id-1/26ArticleEnglish-5G">5G</h4>



<p>However, 5G networks are still far from being a reality. According to <a href="https://www.opensignal.com/2021/11/30/benchmarking-the-global-5g-experience-november-2021 target=" target="_blank" rel="noreferrer noopener">a November 2021 report by Opensignal</a>, the highest 5G availability worldwide was only 29.1% in South Korea.</p>



<h3 id="id-1/26ArticleEnglish-What&#39;sthenewbaseline?">What’s the new baseline?</h3>



<p>Taking all the data above in consideration, the new baseline for web development would be:</p>



<ol><li><strong>Safari</strong> is the baseline in terms of web standards: The sites we develop must work in Safari versions at least 2 years old.</li><li><strong>Low-tier Android devices</strong> are the baseline in terms of performance: Low-tier Android devices have advanced little in the past few years so we must make sure our sites are super performant.</li><li><strong>4G</strong> is the baseline in terms of networks: Mobile networks have become a lot faster and stabler worldwide in recent years.</li></ol>



<h2 id="id-1/26ArticleEnglish-Howwellareweansweringtouserneeds?">How well are we answering to user needs?</h2>



<p>We have successfully defined the 3 parts that make up our baseline but that’s not enough. We need to take a look at how well we’re answering to user needs. However, an in-depth analysis would bring up different results for different projects. So, talking about a specific project in LINE wouldn’t be as helpful for most people.</p>



<p>With that in mind, I’ll go big and analyze the whole web. Fortunately, we have a great data source for it, the <a href="https://almanac.httparchive.org/ja/2021/ target=" target="_blank" rel="noreferrer noopener">Web Almanac 2021</a>. This is an annual report created by the HTTP Archive. In it, they analyze over 8.2 million sites to create 24 chapters. For this article, we’ll take some data excepts from some of these chapters to see how well the current web is matching the baseline defined above.</p>



<h3 id="id-1/26ArticleEnglish-Themedianwebsitein2021">The median website in 2021</h3>



<p>The median website in 2021 weights 1,923 KB. If we separate the size by file type we can see that images and JavaScript (JS) make up most of that size.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Median-Website-1.svg" alt="A bar chart showing the weight of the median website in 2021 by file type. A more detailed explanation is below."/><figcaption>Source: <a href="https://almanac.httparchive.org/en/2021/page-weight#page-weight-by-the-numbers%20target=" target="_blank" rel="noreferrer noopener">“Page Weight” – Web Almanac 2021</a></figcaption></figure></div>



<p>Looking at this data, it’s easy to focus on the images as those are the heaviest, but we should pay special attention to the JS size. The biggest reason for that is that processing images is not as complicated as processing JS. Images can basically be rendered as soon as they are downloaded but JS needs to be parsed and executed too. So, generally speaking, JS processing takes up more resources.</p>



<p>Furthermore, according to <a href="https://infrequently.org/2021/03/the-performance-inequality-gap/ target=" target="_blank" rel="noreferrer noopener">the article by Alex Russell</a> mentioned above, when testing a low-tier Android device on a 4G network, the budget for a website to keep a good performance is up to 100 KB of HTML and CSS and up to 350 KB of JS. In other words, the current median site meets the performance budget in terms of HTML and CSS but it goes way over it in terms of JS.</p>



<h3 id="id-1/26ArticleEnglish-HTMLandCSSusage">HTML and CSS usage</h3>



<p>The Web Almanac has a chapter on both <a href="https://almanac.httparchive.org/en/2021/markup">markup</a> and <a href="https://almanac.httparchive.org/en/2021/css target=" target="_blank" rel="noreferrer noopener">CSS</a> which contain plenty of information. I want to highlight a few key data points that I think serve to exemplify how we’re using HTML and CSS currently.</p>



<h4 id="id-1/26ArticleEnglish-HTML">HTML</h4>



<p>Let’s first talk about HTML, there are currently <a href="https://html.spec.whatwg.org/multipage/indices.html#elements-3 target=" target="_blank" rel="noreferrer noopener">112 non-deprecated HTML elements</a>. But the median amount of HTML elements used in a page is 31. There’s obviously no need to use every single element in all pages, but these 31 elements include elements such as <code>&lt;html&gt;</code>, <code>&lt;body&gt;</code>, and <code>&lt;script&gt;</code>. That means that the number of elements we’re using to actually display content is actually smaller.</p>



<p>In the list of the most used HTML elements, <code>&lt;div&gt;</code> is 1st place, <code>&lt;span&gt;</code> is 3rd, and <code>&lt;p&gt;</code> is 7th. Moreover, the probability of a page having a <code>&lt;div&gt;</code> element is 98.9%; it’s definitely the most used element to display contents.</p>



<p>In contrast, the probability of the <code>&lt;main&gt;</code> element being used is only 27.9%. The reason why this is important is because <code>&lt;main&gt;</code>, along with other elements such as <code>&lt;aside&gt; </code>and <code>&lt;header&gt;</code>, is one of the elements that doesn’t have a special style applied to it but has a semantic meaning. In other words, the usage of <code>&lt;main&gt;</code> can be taken as an indicator of how many pages are proactively using semantic elements. This is why that 27.9% number is so important.</p>



<h4 id="id-1/26ArticleEnglish-CSS">CSS</h4>



<p>For CSS usage, I think there’s one data point that summarizes CSS usage very well. And that is the usage of the modern layout features: Flex and Grid.</p>



<div><figure><img loading="lazy" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/CSS-1.svg" alt="A bar chart showing the usage of flex and grid in 2021. A more detailed explanation is below." width="615" height="374"/><figcaption>Source: <a href="https://almanac.httparchive.org/en/2021/css#flexbox-and-grid-adoption%20target=" target="_blank" rel="noreferrer noopener">“CSS” – Web Almanac 2021</a></figcaption></figure></div>



<p>As you can see, while Flex is used in 71% of pages, Grid is only used in 8%. The biggest reason for this difference lies in IE support. <a href="https://caniuse.com/css-grid target=" target="_blank" rel="noreferrer noopener">IE only supports an old specification of Grid</a>, so pages that want to support IE must take that fact in account. CSS features cannot be polyfilled as easily as JS features. This is probably the main reason why many developers are giving up on using Grid. However, now that we can cut support for IE, many modern CSS features such as Grid become usable.</p>



<h3 id="id-1/26ArticleEnglish-Performance">Performance</h3>



<p>The way of measuring performance most commonly used nowadays is by measuring the <a href="https://web.dev/vitals/">Core Web Vitals</a> (CWV). There are many reasons why this happened but CWV being <a href="https://developers.google.com/search/blog/2020/11/timing-for-page-experience target=" target="_blank" rel="noreferrer noopener">used as a ranking factor in Google search</a> is probably one of the biggest. Let’s look at how the web is performing in terms of CWV.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/CWV-Ranking-1.svg" alt="A bar chart comparing the percentage of pages with good CWV scores in 2021. It&#39;s 41% for desktop pages and 29% for mobile pages."/><figcaption>Source: <a href="https://almanac.httparchive.org/en/2021/performance#by-device%20target=" target="_blank" rel="noreferrer noopener">“Performance” – Web Almanac 2021</a></figcaption></figure></div>



<p>Performance isn’t great overall, over half of the pages have bad CWV scores. Mobile pages scoring worse than desktop pages 12% of the time seems reasonable considering the difference in CPU power between devices. And this result also aligns with the fact that most sites have JS sizes higher than the performance budget.</p>



<p>We can also see that performance directly influences the number of users by looking at the next chart.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/CWV-1.svg" alt="A bar chart comparing the percentage of pages with good CWV scores in 2021 when separating pages by ranking in number of views. A more detailed explanation is below."/><figcaption>Source: <a href="https://almanac.httparchive.org/en/2021/performance#by-rank%20target=" target="_blank" rel="noreferrer noopener">“Performance” – Web Almanac 2021</a></figcaption></figure></div>



<p>We can see that there is a correlation between good CWV scores and number of views. Perhaps partly influenced by the fact that CWV is a ranking factor in Google search. The top 1,000 sites in terms of views have good CWV scores 37% of the time while the overall amount is 32%. And when checking the top 10,000 or 100,000, we can see that sites ranked higher in terms of views tend to have better performance. It’s definitely not a stretch to say that improving performance is one of the ways we can directly increment revenue in our projects.</p>



<h3 id="id-1/26ArticleEnglish-JSlibrariesandframeworks">JS libraries and frameworks</h3>



<p>So far we’ve seen how the amount of JS we serve is having a bad influence in our sites’ performance. Most of the projects which use large amounts of JS will use a library or framework in one way or another. So, let’s take a look at the consequences that choice can have.</p>



<h4 id="id-1/26ArticleEnglish-JSlibrariesandframeworksusage">JS libraries and frameworks usage</h4>



<p>According to <a href="https://almanac.httparchive.org/en/2021/javascript#libraries-usage target=" target="_blank" rel="noreferrer noopener">the Web Almanac’s JS chapter</a>, the most used library is jQuery with 84% of usage. The fact that WordPress is used in 33% of sites that we mentioned above is one of the big reasons for this.</p>



<p>Among frameworks, React is the most popular at 8%. But if you consider other frameworks don’t even get to the 4% mark, it’s safe to say framework usage is still the minority.</p>



<h4 id="id-1/26ArticleEnglish-Comparingframeworkperformance">Comparing framework performance</h4>



<p>While frameworks are still the minority, we have enough data on the most popular ones to make some performance comparisons. The data for this section comes from <a href="https://timkadlec.com/remembers/2020-04-21-the-cost-of-javascript-frameworks/ target=" target="_blank" rel="noreferrer noopener">this article from 2020 by Tim Kadlec</a>.</p>



<div><figure><img loading="lazy" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-Size-1.png" alt="A chart comparing the JS sizes of sites using React, Angular, Vue, and jQuery to overall data. A more detailed explanation is below." width="664" height="338" srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-Size-1.png 885w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-Size-1-300x153.png 300w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-Size-1-768x391.png 768w" sizes="(max-width: 664px) 100vw, 664px"/><figcaption>Source: <a href="https://timkadlec.com/remembers/2020-04-21-the-cost-of-javascript-frameworks">“The Cost of Javascript Frameworks” – Tim Kadlec</a></figcaption></figure></div>



<p>Let’s first compare the JS size for sites using React, Angular, Vue, and jQuery to the general data:</p>



<ul><li>The median for both the overall data and jQuery are each 414 KB and 430 KB. This number is close to the median for 2021.</li><li>However, the median for Vue and React are both around 690 KB. Over 250 KB above the overall median.</li><li>Angular is even higher at 1,066 KB, the first number over 1 MB.</li><li>Even looking at the 10th percentiles the story is similar: the overall 10th percentile is 93 KB, jQuery’s is 110 KB, Vue’s is 245 KB, React’s is 348 KB, and Angular’s is 445 KB.</li><li>In other words, even the sites using frameworks with the least amount of JS barely meet the performance budget set above.</li></ul>



<p>Naturally, while JS size is a big indicator for performance it’s definitely not the whole story. So, let’s now dive into some data regarding how these same sites perform in actual devices.</p>



<div><figure><img loading="lazy" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-CPU-1.png" alt="A chart comparing the JS CPU processing time of sites using React, Angular, Vue, and jQuery to overall data. A more detailed explanation is below." width="664" height="338" srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-CPU-1.png 885w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-CPU-1-300x153.png 300w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Framework-Cost-CPU-1-768x391.png 768w" sizes="(max-width: 664px) 100vw, 664px"/><figcaption>Source: <a href="https://timkadlec.com/remembers/2020-04-21-the-cost-of-javascript-frameworks">“The Cost of Javascript Frameworks” – Tim Kadlec</a></figcaption></figure></div>



<ul><li>To be as fair as possible, sites using multiple libraries or frameworks weren’t included.</li><li>Looking at the median times for jQuery and Vue, they stand at 2.3 seconds and 3.2 seconds respectively. Doing simple math, the ratio for the size difference is close to the ratio for time difference.</li><li>However, React and Angular don’t follow the same tendency. Angular’s median time is 3.7 seconds while React’s is a few seconds slower at 10.1 seconds.</li><li>It’s evident that size is not the only metric that matters when comparing JS libraries.</li></ul>



<h4 id="id-1/26ArticleEnglish-Comparingframeworkperformanceinstaticsites">Comparing framework performance in static sites</h4>



<p>Frameworks are used frequently to create Single Page Applications (SPA), but they are also used to create static sites. Let’s compare how Static Site Generators (SSG) using frameworks perform to SSGs not using JS frameworks. We’ll compare <a href="https://almanac.httparchive.org/en/2021/jamstack#which-ssgs-are-the-most-popular target=" target="_blank" rel="noreferrer noopener">the top 5 SSGs</a> whose usage is actually detectable.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/SSG-JS-Size-1.svg" alt="A bar chart comparing the median JS size of the top 5 most popular SSGs in 2021. A more detailed explanation is below."/><figcaption>Source: <a href="https://almanac.httparchive.org/en/2021/jamstack#javascript">“Jamstack” – Web Almanac 2021</a></figcaption></figure></div>



<ul><li>The median JS size for React-based Gatsby and Next.js and Vue-based Nuxt.js all stand at around 700 KB. This number is similar to the median for React and Vue in general.</li><li>Compared to that, Go-based Hugo and Ruby-based Jekyll stand at 177 KB and 129 KB respectively.</li><li>JS framework-based SSGs serve a median of over 500 KB of JS more than those not based in JS.</li></ul>



<p>And since we mentioned that JS size is not everything in terms of performance, let’s look at the difference between CWV scores for mobile sites.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/SSG-CWV-1.svg" alt="A bar chart comparing the percentage of pages with good CWV scores of the top 5 most popular SSGs in 2021. A more detailed explanation is below."/><figcaption>Source: <a href="https://almanac.httparchive.org/en/2021/jamstack#core-web-vitals">“Jamstack” – Web Almanac 2021</a></figcaption></figure></div>



<ul><li>Next.js and Nuxt.js have good CWV scores less than 15% of the time.</li><li>Gatsby stands higher than fellow React-based Next.js at 21.9%.</li><li>Non-framework-based Hugo and Jekyll have good CWV scores 31.8% and 34.3% of the time respectively.</li><li>SSGs not using JS frameworks have better percentage of CWV scores than the overall average.</li></ul>



<h4 id="id-1/26ArticleEnglish-Comparingframeworkperformanceinlabtests">Comparing framework performance in lab tests</h4>



<p>So far, we’ve looked at the usage data for the three most popular frameworks and compared their performance. However, there are many other frameworks besides these three. With that in mind, let’s compare those three with some other frameworks that might not be used enough to show up in the Web Almanac but are among the most popular ones.</p>



<p>Note:</p>



<ul><li>The data for these comparisons come from lab tests, performance might be different when used in actual projects.</li><li>The frameworks added to the comparison are some that the author judged to be among those that have most momentum. You can see comparisons to other frameworks by going to the data sources for each comparison.</li></ul>



<div><figure><img loading="lazy" width="681" height="329" src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Lab-Benchmark-3.png" alt="A table comparing the performance of various frameworks. A more detailed explanation is below." srcset="https://engineering.linecorp.com/wp-content/uploads/2022/01/Lab-Benchmark-3.png 681w, https://engineering.linecorp.com/wp-content/uploads/2022/01/Lab-Benchmark-3-300x145.png 300w" sizes="(max-width: 681px) 100vw, 681px"/><figcaption>Source: <a href="https://krausest.github.io/js-framework-benchmark/2021/table_chrome_96.0.4664.45.html">“Results for js web frameworks benchmark – official run”</a></figcaption></figure></div>







<p>The table above compares frameworks to a hand-optimized vanilla JS implementation in three main categories: DOM Manipulation, Startup, and Memory Allocation. In it we can observe the following:</p>



<ul><li>React and Angular perform twice as bad as Vanilla JS on average.</li><li>In contrast, Vue actually stands closer to Preact and Stencil at an average of 1.5 times. The main reason for the difference between this result and what we saw reported in the Web Almanac might be due to the performance improvements Vue had when version 3.0 released.</li><li>And finally, Solid, Lit, and Svelte are all at around 1.2 times. They all perform very close to the Vanilla JS version.</li></ul>



<p>Something that’s clearly influencing these results is IE. You might ask, “Why mention IE?” And for that we have to take a look at the history of both frameworks and the JS standards in general.</p>



<p>You can say that Edge’s release in 2015 was the point where new development for IE stopped for the most part. That year was also the year the ES 2015 (or ES6) standard came out; which was arguably the biggest revolution in JS history. ES 2015 included features such as promises and arrow functions. Later versions began adding even more features to JS that can achieve more things with less code. In other words, things developed for a pre-ES 2015 world differ greatly from those developed for ES 2015 forwards.</p>



<p>In the table above, the worst in terms of performance are Angular and React. These two, together with Vue, are the only frameworks on the table that had their first release before 2015. In other words, the performance difference can be attributed to the era they were developed in. The reason why this rule doesn’t seem to apply to Vue is because, as mentioned above, Vue 3.0 changed a lot of internal code in order to improve performance.</p>



<p>There’s one more way to fully understand the difference mentioned above: comparing Solid, Preact, and React. Solid and Preact are heavily influenced by React. In Preact’s case, they even have a compatibility module to use React code as Preact code. But looking at the table, Solid and Preact outperform React in every single parameter. This means that React’s performance problems don’t lie in its philosophy or the way you write code for React. They lie in React’s internals. To be precise, in React’s Virtual DOM and synthetic event system implementation, both of which have many considerations needed for IE. Preact and Solid instead prefer default to using APIs available in modern browsers. This might be the biggest reason for the performance deficit.</p>



<p>Finally, let’s take a look at one more chart.</p>



<div><figure><img src="https://engineering.linecorp.com/wp-content/uploads/2022/01/Lab-Bundle-1.svg" alt="A bar chart comparing the bundled size of creating 30 components with the same framework. A more detailed explanation is below."/><figcaption>Source: <a href="https://webcomponents.dev/blog/all-the-ways-to-make-a-web-component#bundle-size">“All the Ways to Make a Web Component – Nov 2021 Update” – WebComponents.dev Blog</a></figcaption></figure></div>



<p>This chart compares most of the aforementioned frameworks in a different metric: the bundle size when creating 30 components with the same framework. This comparison allows us to emulate how these frameworks would work when creating a full application with them.</p>



<ul><li>React ends up being the biggest again at 45.45 KB, but in terms of actual developer code it’s the smallest at 9.26 KB. It’s just that the library itself is a few times bigger than the rest.</li><li>Vue did make a lot of improvements in version 3.0 but it still ends up being about twice as big as other libraries at 32.65 KB.</li><li>The rest of the frameworks might differ in terms of how much developer code and library code is bundled, but they all end up having similar sizes in the 14-18 KB range.</li></ul>



<h2 id="id-1/26ArticleEnglish-Accessibility">Accessibility</h2>



<p>We’ve talked a lot about our users’ devices, but let’s now talk about the users themselves. According to the World Health Organization, <a href="https://www.who.int/news-room/fact-sheets/detail/disability-and-health target=" target="_blank" rel="noreferrer noopener">over 1 billion persons have some kind of disability</a>. There are many different kinds of disabilities but many of them influence how the user will interact with their devices. We usually use the term accessibility (a11y) to refer the actions needed to ensure disabled users can fully interact with our sites.</p>



<p>However, a11y is not only for disabled people. Actions to improve a11y have a positive impact on the UX for every user. The main reason for this is due to situational disabilities. Some examples of situational disabilities include trying to use your phone while eating or drinking something with one hand or device settings that places a black and white filter on the screen after a certain hour to improve sleep quality. Users faced with these situational disabilities will be able to use pages which are designed with a11y in mind as usual.</p>



<p>Moreover, not being accessible can also lead to legal problems. Depending on the legislation, users may even sue sites that don’t take a11y in account. Some famous cases include <a href="https://www.forbes.com/sites/jackgarson/2020/02/25/popstar-to-pizza-to-porn-complying-with-the-ada-in-the-digital-age/?sh=549f4a2d182c target=" target="_blank" rel="noreferrer noopener">both Beyonce and Domino’s Pizza being sued for not being accessible for visually impaired users</a>. So, not having proper a11y can be costly too.</p>



<h3 id="id-1/26ArticleEnglish-Howaccessibleistheweb?">How accessible is the web?</h3>



<p>Let’s now take a look at how accessible is the web. To do that, we’ll take out some representative data from the <a href="https://almanac.httparchive.org/en/2021/accessibility target=" target="_blank" rel="noreferrer noopener">Web Almanac’s a11y</a> chapter. There are many more data points in there in case you want to take a deeper look.</p>



<ul><li><strong>77.8%</strong> of sites don’t have good contrast between background and font color. This means, that some visually impaired users and users using filters such as the one mentioned above may not be able to fully use almost 80% of the web.</li><li><strong>29.4%</strong> of sites block zooming. Some browsers ignore this setting nowadays but this is still a very big number.</li><li><strong>42%</strong> of sites have improperly ordered headings. Cases such as using an <code>h2</code> element without using an <code>h1</code> element before. This lack of order might cause problems, especially for users using assistive technology.</li><li><strong>29%</strong> of sites use <code>role=&#34;button&#34;</code>. Some people might think that having that role and a click listener might be enough, but buttons must also respond to keyboard events and have proper focus handling. While you might achieve this using JS, you don’t need JS at all if you just use the <code>button</code> element.</li><li><strong>32.7%</strong> of sites have <code>input</code> elements with no accessible label. In other words, they don’t have an associated <code>label</code> element, an <code>aria-label</code> attribute, or anything else. This is worrying because you might be losing revenue due to this. For example, if a credit card input isn’t labelled, you might have users that want to buy something but don’t know where to write the information needed.</li></ul>



<h2 id="id-1/26ArticleEnglish-Conclusion">Conclusion</h2>



<p>Let’s look at the report card.</p>



<ul><li>We’re not answering to the users’ needs: Especially in terms of performance and a11y.</li><li>We’re overusing JS: Both in our dependencies and in our own code.</li><li>We’re underusing HTML and CSS: This is partly due to IE support, but now that we don’t need to support IE there are many features that become usable.</li></ul>



<p>Here are a few overall tips for people who want a starting point on how to improve:</p>



<ul><li>If you can do something using <strong>CSS</strong> use CSS: There are many things that previously were only achievable using JS that can be done with only CSS nowadays. By doing that you can partly reduce your JS code.</li><li>Evaluate your <strong>toolset</strong>: Many newer tools have better performance baselines compared to older ones, and not every project needs to be an SPA. Some of the non-framework-based SSGs like Hugo, Jekyll, or 11ty work great for those use cases.</li><li>Build for <strong>modern</strong> <strong>browsers</strong>: Drop IE support and set your build target to ES 2017 or even 2018. Just doing that might get you bundle size improvements of up to 20%.</li><li>Consider <strong>a11y</strong> from the beginning: Having a11y in mind from the planning and design stages is the ideal scenario. Starting by improving things such as contrast rates, font sizes, semantic HTML usage, and keyboard navigation can make a great difference.</li></ul>





<p><a href="https://engineering.linecorp.com/en/blog/tag/css-2/" rel="tag">#CSS</a> <a href="https://engineering.linecorp.com/en/blog/tag/frontend-en/" rel="tag">#frontend</a> <a href="https://engineering.linecorp.com/en/blog/tag/javascript-en/" rel="tag">#JavaScript</a> <a href="https://engineering.linecorp.com/en/blog/tag/uit/" rel="tag">#UIT</a></p>    <div>
        <h2>Related Posts</h2>
        <ul>
                            <li>
                    <a href="https://engineering.linecorp.com/en/blog/web-styling-with-reactjs/">
                        <figure>
                            <img width="1123" height="749" src="https://engineering.linecorp.com/wp-content/uploads/2021/04/Entrance_2-1.jpg" alt="" loading="lazy" srcset="https://engineering.linecorp.com/wp-content/uploads/2021/04/Entrance_2-1.jpg 1123w, https://engineering.linecorp.com/wp-content/uploads/2021/04/Entrance_2-1-300x200.jpg 300w, https://engineering.linecorp.com/wp-content/uploads/2021/04/Entrance_2-1-1024x683.jpg 1024w, https://engineering.linecorp.com/wp-content/uploads/2021/04/Entrance_2-1-768x512.jpg 768w" sizes="(max-width: 1123px) 100vw, 1123px"/>                        </figure>
                        <p><span>Web Styling with ReactJS</span>
                            <span>In this post, we will talk about how we implement web styling with ReactJS, the problems we&#39;ve met, and how we propose to solve them.</span>
                        </p>
                    </a>
                </li>
                            <li>
                    <a href="https://engineering.linecorp.com/en/blog/write-you-a-webpack-for-great-good/">
                        <figure>
                                                    </figure>
                        <p><span>Write you a webpack for great good</span>
                            <span>Module bundlers have become quite popular in the world of JavaScript. Today, I&#39;d like us to briefly see the concept of it, get into how […]</span>
                        </p>
                    </a>
                </li>
                            <li>
                    <a href="https://engineering.linecorp.com/en/blog/v8-hidden-class/">
                        <figure>
                            <img alt="" src="https://engineering.linecorp.com/wp-content/uploads/2017/12/18/1513577417198.png"/>                        </figure>
                        <p><span>V8 Hidden class</span>
                            <span>As a frontend engineer, I feel I still need to know more about the structure of JavaScript and web browsers, in order to provide quality […]</span>
                        </p>
                    </a>
                </li>
                    </ul>
    </div>

		
		
			</div></div>
  </body>
</html>
