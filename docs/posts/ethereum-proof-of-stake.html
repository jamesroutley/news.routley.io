<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://0xfoobar.substack.com/p/ethereum-proof-of-stake">Original</a>
    <h1>Ethereum Proof-of-Stake</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div class=""><div><div dir="auto"><p>Welcome! In this article we’ll do a deep dive into</p><ul><li><p>detailed description of Ethereum’s PoS consensus model</p></li><li><p>how Ethereum PoS can recover from malicious attacks</p></li><li><p>refuting common anti-PoS talking points</p></li><li><p>discuss the practicalities of liquid staking or running your own node</p></li></ul><div><figure><a target="_blank" rel="nofollow" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png" width="1456" height="841" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:841,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2cc1f113-acd4-47e8-81ef-70f04887d5c5_1600x924.png 1456w" sizes="100vw"/></picture></a><figcaption>The current state of the beacon chain. Producing blocks every 12 seconds right on schedule. See live data at https://beaconcha.in</figcaption></figure></div><p><span>A </span><strong>consensus mechanism</strong><span> defines how a distributed network of nodes decides on the current state of the network, which blocks are in the chain and in which order. </span><strong>Block production </strong><span>is a general term that describes who scans the mempool to pick up pending transactions, orders them into blocks, and attaches the new block to the existing blockchain. Three common classes of consensus mechanisms are proof-of-stake, proof-of-work, and proof-of-authority.</span></p><ol><li><p>PoW (Bitcoin) gives block producing power to whoever uses the most computing power. The protocol defines a one-way computationally heavy hash function such as SHA-256, and then miners compete to find an input that hashes to an output with many leading zeros.</p></li><li><p>PoA (Binance Smart Chain) is a whitelisting mechanism that gives block producing power to a couple whitelisted nodes. It’s your typical permissioned blockchain, nothing more.</p></li><li><p>PoS (Ethereum, soon™) gives block producing power to whoever locks up their native tokens, proportional to how many they have staked.</p></li></ol><p>Ethereum’s PoS implementation has been teased for the better half of a decade now, but with the beacon chain running for 18 months straight and successful live merges on testnet the implementation looks largely finalized. I’ll focus on the specifics of how the PoS chain runs in its steady state rather than get lost in the implementation details of the merge.</p><div><figure><a target="_blank" rel="nofollow" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png" width="804" height="550" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/d54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:550,&#34;width&#34;:804,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd54b77f3-6079-4f75-8693-f9b2d5e2ca67_804x550.png 1456w" sizes="100vw"/></picture></a><figcaption>Another famous tradeoff triangle. Pick two, or find yourself somewhere in the middle.</figcaption></figure></div><p><span>There are ~400,000 </span><strong>validators</strong><span> on the beacon chain, you can </span><a href="https://beaconcha.in/" rel="">track live stats and blocks here</a><span>. A validator refers to a specific deposit of 32 eth into the </span><strong><a href="https://etherscan.io/address/0x00000000219ab540356cBB839Cbe05303d7705Fa" rel="">beacon chain deposit contract</a><span> </span></strong><span>on mainnet; one user can run multiple validators. Unstaking withdrawals are not enabled today, will not be enabled at merge time, but will be enabled in the </span><strong>Shanghai hardfork</strong><span> update afterwards. A </span><strong>slot</strong><span> occurs every 12 seconds, and exactly one validator is randomly chosen to submit a block within the slot. An </span><strong>epoch </strong><span>is composed of 32 slots, or 6.4 minutes. If a validator is offline and does not propose a block within its slot, that slot is left </span><strong>empty</strong><span>. So Ethereum blocktimes will move from a </span><a href="https://ethresear.ch/t/deep-dive-into-current-pow-difficulty-adjustment-algorithm-and-a-possible-alternative/5267" rel="">Poisson distribution</a><span> with average blocktime of 13 seconds, to exactly 12 seconds with occasional empty slots. The first block within each epoch is treated as the </span><strong>checkpoint</strong><span> block.</span></p><p><span>If only one validator proposes a block in each slot, what do the rest of them do while waiting for their turn? They create </span><strong>attestations</strong><span>, which are signed votes describing what they believe the current head of the chain to be, and links to a parent checkpoint block. Because attestations are cryptographically signed from a specific validator, validators can be held accountable if they </span><strong>equivocate</strong><span>, or vote for two blocks at the same height. Communication and storage overhead for 400,000 attestations is enormously high, so within each epoch each validator is assigned to attest to only one slot. The validators for each slot are assigned to </span><strong>committees</strong><span>, which are further groupings with minimum size 128. </span><strong>Aggregators </strong><span>then combine signatures from multiple validators using BLS aggregation before storing only summary data into the block.</span></p><p><span>Randomness is generated through </span><strong><a href="https://github.com/randao/randao" rel="">RANDAO</a></strong><span>, a distributed commit-reveal scheme where participants in the generation post a hash of their data on the commit portion and then at a later timestamp reveal the data preimage, and get slashed if they do not reveal a correct preimage. Then all participant data is aggregated together. This means if there is at least one honest participant the generation will be random.</span></p><p>A supermajority (2/3rds) of validators is required to finalize a block, in case of a 50-50 network partition blocks would stop being finalized and attestation rewards would stop. Non-participating validators would slowly leak stake through the inactivity leak until online validators once again had a supermajority. This is the &#34;self-healing&#34; mechanism that allows both safety and liveness.</p><div><figure><a target="_blank" rel="nofollow" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png" width="962" height="621" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/c6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:621,&#34;width&#34;:962,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6ef9139-4c79-41f5-892a-5152aebae0a3_962x621.png 1456w" sizes="100vw" loading="lazy"/></picture></a><figcaption>A technical overview of how validator attestations are aggregated and eventually included in blocks.</figcaption></figure></div><p><span>Epochs are groups of 32 slots, and they move through three stages: </span><strong>proposed, justified, finalized</strong><span>. Once a </span><strong>supermajority</strong><span>, or two-thirds of current validators, attests to an epoch it can advance. Attestations are linked to pairs of checkpoint blocks, one from a previous epoch and one from the current epoch. We denote this by a pair of the </span><strong>source block </strong><span>and the </span><strong>target block</strong><span>. A block is proposed by a single validator, and when a supermajority of attestations mark it as the head it is considered justified. When a supermajority of attestations mark a justified epoch as the prev it is considered finalized. So an epoch typically gets finalized one epoch later, or 6 minutes.</span></p><p><span>Transactions are </span><strong>finalized</strong><span> when they cannot be reorged without burning a significant amount of ETH. Because two-thirds of validators have attested to the finalized block, to create a distinct finalized epoch at the same height two-thirds of validators would also need to attest to a separate block at the same height. So at least one-third of validators would have provably equivocated. Equivocation is punished by slashing up to the validator’s entire stake, so the attacker must commit to destroying at least one-third of all staked ETH. </span><strong>The cost to reorg a finalized block is several billion dollars</strong><span>, even at today’s depressed prices.</span></p><p><span>A malicious actor could also prevent finalization by withholding attestations so a supermajority is never achieved. When the chain fails to finalize for 4 epochs or more, inactive validators are penalized with an </span><strong>inactivity leak</strong><span>. This slowly burns the balances of the offline validator set until the online validators once again have a supermajority and can restore liveness. The attestation reward is paused until the chain begins finalizing again, to make censorship and DoS attacks more expensive.</span></p><p><span>Many people have a warped impression of staking from the term’s generous usage across DeFi and NFTs. In many of these protocols “staking” means depositing tokens into an escrow contract, thereby reducing sell-side liquidity while the tokens sit passively. There is no downside risk and no active participation, just bribes for people with low time preference. See </span><a href="https://cobie.substack.com/p/apecoin-and-the-death-of-staking" rel="">cobie’s amazing takedown</a><span> on why these structures are ultimately meaningless. </span></p><p><span>To be absolutely clear, </span><strong>these games are not what we are discussing</strong><span>. True protocol-level staking means entering into a commitment with both upside and downside, that requires consistent active participation into proposing new blocks and attesting to blocks others create. It means you can be rewarded for participating honestly with high uptime, or that you can lose money for going offline or supporting a malicious fork. The rules are not applied capriciously by a centralized party; they clearly defined in advance and built deeply into the decentralized protocol itself.</span></p><p><span>There are two key equivocation rules a validator must follow, taken from the </span><a href="https://arxiv.org/pdf/2003.03052.pdf" rel="">Gasper paper</a><span>:</span></p><ol><li><p>Double vote - no validator makes two distinct attestations for the same target block</p></li><li><p>Surround vote - no validator makes an attestation that surrounds or is surrounded by a previous attestation</p></li></ol><div><figure><a target="_blank" rel="nofollow" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png" width="1108" height="522" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/dee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:522,&#34;width&#34;:1108,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fdee9dcbf-b824-4d6c-a7ad-6b542895c83e_1108x522.png 1456w" sizes="100vw" loading="lazy"/></picture></a><figcaption>Slashing conditions taken directly from the Gasper paper</figcaption></figure></div><p>Honest consensus layer clients are programmed to explicitly never do this, so a normal honest user should not have to worry about these mechanisms kick in. Yet they provide significant protection against malicious validators and elegantly solve the nothing-at-stake problem.</p><p>While slashing is only applied to errors of commission, there are also lesser penalties called inactivity leaks for errors of omission. Honest users should pay particular attention to their validator uptime, because an offline validator is worse than none at all. If over 1/3rd of validators are offline then blocks cannot finalize, and it becomes plausible that these offline nodes are actually building their own shadow fork by pretending a network partition exists. Downtime penalties are important to avoid such situations.</p><p>The combination of equivocation slashing, inactivity leaks, and user-activated soft forks packs a powerful punch. Equivocation slashing handles safety errors, inactivity leaks handle liveness errors, and UASFs let even an honest minority recover from a malicious supermajority.</p><p><strong>Equivocation </strong><span>is when a validator attests to two separate blocks at the same height, which has the potential to create parallel forks and eventual reorgs. This is a key element of the </span><strong>nothing-at-stake </strong><span>problem, where stakers build on all possible forks because it costs them nothing. By gathering signed attestations, network watchdogs can prove when this happens and slash the equivocator’s stake.</span></p><p><strong>Inactivity leaks </strong><span>are when a validator fails to provide attestations. This cannot be proved malicious, as the validator could have accidentally fallen offline, but it is harmful to the network. </span></p><p><strong>User-activated soft forks </strong><span>are when a subset of validators believes the main thread is ignoring them and their transactions, so they band together to form their own fork of block production.</span></p><p>Let’s walk through a couple theoretical scenarios where a subset of malicious validators wants to censor certain undesirable transactions. How would it play out at various ownership thresholds?</p><div><figure><a target="_blank" rel="nofollow" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png" width="1024" height="1024" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1024,&#34;width&#34;:1024,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F7bd964c8-dbcd-4cbf-a8ec-04596b505563_1024x1024.png 1456w" sizes="100vw" loading="lazy"/></picture></a><figcaption>Whale cartels maliciously colluding. Image generated by DALLE-2</figcaption></figure></div><h3>Subminority Lazy Censorship</h3><p>A whale with 10% of staked ether wants to censor transactions. He refuses to include blacklisted transactions into the blocks he proposes. Those transactions get included in the other 90% of blocks. The whale makes slightly less money because he bypasses certain high-paying mempool transactions.</p><h3>Subminority Aggressive Censorship</h3><p>A whale with 10% of staked ether refuses to included blacklisted transactions in his block proposals, and also refuses to attest to other blocks that include those transactions. Blocks continue finalizing because a supermajority of attestations support honest blocks. The whale loses money on both lower transaction bribes and misses attestation rewards.</p><h3>Minority Lazy Censorship</h3><p>A whale cartel with 40% total stake wants to censor transactions, but attest to honest blocks others propose. Same as the subminority lazy censorship case.</p><h3>Minority Aggressive Censorship</h3><p>A whale cartel with 40% total stake wants to censor transactions, and refuses to attest to honest blocks. Blocks stop finalizing because there is no longer an honest supermajority. The chain would fork into two child chains, as if there had been a clean network partition. Honest validators see both forks but would built on the honest fork because it has greater weight in the LMD-GHOST fork choice rule. Censoring validators would also see both forks but manually override the LMD-GHOST fork choice rule and choose to continue on the censoring chain, pretending they are not aware of the honest chain.</p><p>On the honest chain, the inactivity leak would kick in once blocks stopped finalizing. This means all censoring validators would appear as offline because they refuse to attest to the honest blocks. Censoring validators have their stake slowly burned until their effective balances drop low enough that they’re removed from the validator set. At this time the honest validators now have a supermajority and blocks begin finalizing again.</p><p>Note that this did not require a hardfork. The existing slashing penalties &amp; inactivity leaks gradually remove malicious or offline validators from the set, and the remainder can regain a supermajority without any chain downtime.</p><p><span>We’ve seen that even if honest validators don’t have a supermajority, by proposing honest blocks that censoring validators refuse to attest to, the censoring validators will be forced out of the validator set. What happens if honest validators have a subminority and censoring validators have a supermajority?</span></p><p>Of course, Ethereum PoS has several areas for further improvement. For example,</p><ul><li><p><a href="https://notes.ethereum.org/@vbuterin/single_slot_finality" rel="">Single-slot finality</a><span> refers to reducing the time for finality from 2 epochs (64 blocks) to 1 block</span></p></li><li><p><a href="https://notes.ethereum.org/@vbuterin/validator_set_size_capping" rel="">Reducing the minimum amount needed to stake</a><span> would make home staking more viable for users who don’t have 32 eth</span></p></li><li><p><a href="https://ethresear.ch/t/simplified-ssle/12315" rel="">Single secret leader election</a><span> would minimize potential DoS attacks against block proposers when their address is known in advance</span></p></li><li><p><a href="https://ethresear.ch/t/proposer-block-builder-separation-friendly-fee-market-designs/9725" rel="">Proposer-builder separation</a><span> when constructing blocks would make it easy for individual home stakers to achieve the same top yield as large operations</span></p></li></ul><h3>PoS = Onchain Governance</h3><p>Ethereum has no onchain governance, even if a subset of PoS protocols do. Just as Bitcoin full nodes keep miners honest for producing valid blocks that conform to the state transition function, Ethereum full nodes keep validators honest for producing valid blocks that conform to the state transition function. Even a supermajority of malicious validators cannot fool a single honest full node.</p><p>Consensus mechanisms are a way to add new transactions to the chain, not the power to arbitrarily coerce blockchain state. The state transition rules are encoded into the protocol itself and inviolable unless the social layer hardforks. One of Bitcoin’s state transition invariants is that the sum of UTXO outputs must equal the inputs; one of Ethereum’s state transition invariants is that an account can only move its own Ether. Neither miners nor stakers can break these rules, even with a supermajority, as long as non-validators run their own nodes on the network to verify honest state transitions.</p><h3>PoS = Central Banking</h3><p>Unclear what people mean by this. My best guess is it’s a reference to central planning manipulation of macroeconomic factors like money supply and interest rates. As mentioned above, validators have no ability to change the state transition function and Ethereum’s mechanism changes are heavily discussed in public for months, if not years, in advance. Governance is offchain at the social layer, not onchain. Validators have no power here.</p><h3>PoS = Scaling for Cheap Gas</h3><p><span>This is false. Gas prices reflect supply and demand for blockspace. Changing the consensus mechanism does not increase blockspace supply, but sharding could. Sharding was originally a big part of Ethereum’s roadmap but has been deprioritized and will not be happening until quite a while after The Merge. See the </span><a href="https://notes.ethereum.org/@vbuterin/proto_danksharding_faq" rel="">proto-danksharding notes</a><span> to track the current status of data availability sharding plans.</span></p><h3>PoS = Rich Get Richer, PoW = Egalitarian</h3><p>The idea of CPUs, GPUs, and ASICs churning away in a mathematical competition to find hash preimages the fastest has an egalitarian elegance to it. Sovereign individuals where individuals running home gaming computers can compete with nation-states for the right to earn 6.25 freshly minted BTC.</p><p>Unfortunately, ASIC supply chains are easily controlled by import/export regulations, not to mention a dangerous dependency on Taiwan. The need for cheap, abundant energy is another weak point that prohibits individuals from running discreet mining setups. And because we have not yet entered a post-scarcity utopia, you need upfront capital to purchase mining rigs. Worse, technological advances mean miners are constantly required to upgrade their setups to remain competitive, meaning the supply chain dependency is an ongoing weak point if things ever go south.</p><p>PoW can be thought of as a specific instantiation of PoS, where users stake capital to purchase mining rigs that then compete for the block proposal rights. Your staked principal can be withdrawn at any time, but its value follows a decay curve corresponding to the current market value of your computer chips. The need for upfront capital is identical in both PoW and PoS, the key difference being that the capital is forced through a computer chip supply chain in PoW while it can be purely staked in PoS.</p><h3>PoS = Nothing-at-Stake</h3><p>PoS solves the nothing-at-stake problem by adding slashing penalties to validators who build on two parent blocks at once.</p><h3>PoS = No Forced Sellers</h3><p>Many people point to the slim margins for PoW miners and compare it with what looks like fat yields being generated by stakers. However markets are efficient, and there’s no free lunch. What looks like free money for stakers is actually a significant opportunity cost of capital, choosing to place their money into ETH rather than thousands of other investment opportunities, and a real risk of principal depreciation. The same market dynamics that lead to slim margins relative to other investment opportunities in BTC mining, also apply to slim margins relative to other investment opportunities in ETH staking.</p><h3>PoS = Central Banks will buy all the tokens</h3><p>This tends to come from people who have never tried to move order books in significant size. Of course you can’t buy all the supply at current spot prices, any more than you can buy all the ASICs at current spot prices. As demand increases, price moves up in a highly convex fashion.</p><h3>PoS = Trust a Centralized Server to get the Canonical Chain</h3><p><span>Recommend Vitalik’s writeup on “</span><a href="https://blog.ethereum.org/2014/11/25/proof-stake-learned-love-weak-subjectivity/" rel="">weak subjectivity</a><span>”, and the </span><a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/weak-subjectivity/" rel="">EF’s description</a><span>. The first time a node comes online, it must have some frame of reference to know how to bootstrap itself. This is not a problem unique to PoS; even a bitcoin full node needs to know which client software is valid, which IPs to bootstrap its history from, etc. PoS adds only minor additional trust assumptions here.</span></p><h3>PoS = No Real Resource Consumption</h3><p>There&#39;s a fascinating mental divide between people who see &#34;real-world&#34; ties as the only attribute that can give legitimacy to a digital asset, and people who see &#34;real-world&#34; ties as dangerous dependencies to avoid when constructing self-sufficient systems.</p><h3>PoS = Bad Complexity</h3><p>Today’s implementations are certainly quite the adventure to understand, with a whirlwind of new vocabulary and distributed systems prerequisites to grok. Yet after a deep dive into all the moving pieces nothing feels unnecessary, and there is active work to simplify as much as possible. Modern society is built on a series of progressively more complex abstractions; throwing those away because of initial unapproachability would forgo massive innovation.</p><h3>Liquid (and Illiquid) Staking Custodian Cartels</h3><p><span>While Ethereum doesn’t have delegated PoS at the protocol layer, app-layer replacements have sprung up. Lido leads staking share, followed by a handful of centralized exchanges. Rather than running their own validators, users send ETH to these staking providers and receive a tokenized staking derivative such as </span><a href="https://etherscan.io/address/0xae7ab96520de3a18e5e111b5eaab095312d7fe84" rel="">stETH</a><span>. These staking providers then generally have full control over how validators are run. Custodians having outsized voting control is the most likely avenue for regulatory capture. At least lately they’ve all been blowing up gambling customer funds into leveraged plays, so the only people left with money at the end of it all will be those who practice self-custody.</span></p><div><figure><a target="_blank" rel="nofollow" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg" width="1410" height="938" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:938,&#34;width&#34;:1410,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0f993b88-9a40-44a3-9ffb-8b58dd15c2fc_1410x938.jpeg 1456w" sizes="100vw" loading="lazy"/></picture></a><figcaption>Sources of beacon chain deposits</figcaption></figure></div><h3>Real-World-Asset Tokenization Makes Forking Difficult</h3><p>When an asset holds its peg not because of onchain mechanisms, but because of off-chain 1:1 redeemability at a centralized issuer, the issuer chooses a canonical chain to honor redemptions and creations on. The best example today is a stablecoin such as USDC or USDT, but more tokenized RWAs will surely follow in coming years. MakerDAO is leading many exploratory efforts.</p><h3>Proof-of-Any-Resource is Centralizing</h3><p>Money and resources have a tendency to accrue into the hands of a select few, absent the occasional redistribution or revolution. The implicit personal leverage created by incredible technological foundations is empirically exacerbating power-law dynamics. So while PoS is a cleaner abstraction than PoW, both consensus mechanisms will block out large portions of the world from participating. With current horse blinders it’s difficult to imagine what alternative consensus mechanisms might arise with even fairer participation, but don’t rule it out.</p><p>A final section on practicalities. If you’re interested in staking your own ETH, annual yields are estimated to be between 5-15% depending on how many others join in and the extent of MEV bribes. There’s an interesting “hold to maturity” trade that can be made right now where many liquid staking derivatives are trading below their eventual redeemable value of 1 ETH. Why does this happen? Lots of people who hammered home a levered stETH/ETH trade hoping to juice their yields, but as withdrawals won’t be enabled until the Shanghai hardfork after the merge, liquidity needs came calling and there weren’t enough buyers. You should be aware that liquid staking derivatives are in no way “pegged” to the value of ETH, except that at maturity they should be redeemable 1:1. But brave buyers who are willing to take on unknown duration risk have the chance to be healthily rewarded.</p><div><figure><a target="_blank" rel="nofollow" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png" width="1456" height="1320" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1320,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F01913607-2c45-40b5-ba9a-2d8b54a556d0_1524x1382.png 1456w" sizes="100vw" loading="lazy"/></picture></a><figcaption>The volatile stETH/ETH price over the past three months</figcaption></figure></div><p>It’s strange advice because the entire article has been hammering home the ability to avoid malicious collusion and now we describe how to direct money towards a custodial derivative. But it would be remiss to have people enter a lockup at 1:1 without knowing they can get paid for taking on duration + governance + smart contract risk and scooping up cheap coins from overlevered funds.</p><p><span>If you’re interested in running your own validator node, </span><a href="https://ethereum.org/en/staking/solo/" rel="">here’s a great walkthrough guide for solo staking</a><span>.</span></p><p>Many PoS protocols exist already but Ethereum is setting a new quality standard. The focus on supporting an expansive validator set, explicit slashing penalties, a clear tradeoff between liveness and safety, and the agonizing upfront work of maintaining multiple software clients. The system isn’t perfect but it’s one of the most elegant innovations we have. Hopefully this explainer helps you appreciate how all the moving parts come together 🥩.</p><h3>Definitions</h3><p><strong>LMD-GHOST: </strong><span>latest message drive greediest heaviest observed subtree, the fork choice rule determining which block is viewed as the current chain head</span></p><p><strong>Casper FFG: </strong><span>the finality gadget used in Ethereum PoS which moves blocks from the “proposed” to “justified” to “finalized” stage</span></p><p><strong>Gasper: </strong><span>the name for Ethereum’s PoS implementation, a combination of the LMD-GHOST fork choice rule, Casper FFG, and the specific reward/penalty scheme</span></p><p><strong>RANDAO: </strong><span>the random number generation scheme used to select block proposers, sort validators into committees, etc</span></p><p><strong>BLS: </strong><span>the cryptographic signature scheme used for validator attestations</span></p><p><strong>inactivity leak: </strong><span>validators which don’t submit attestations are penalized if the chain stops finalizing</span></p><p><strong>slashing: </strong><span>validators which maliciously propose or attest to multiple blocks at the same height have their stake reduced</span></p><p><strong>proposer boost: </strong><span>a modification to LMD-GHOST giving additional weight to blocks proposed earlier in the slot to defend against </span><a href="https://ethresear.ch/t/avalanche-attack-on-proof-of-stake-ghost/11854" rel="">avalanche attacks</a><span>, see </span><a href="https://barnabe.substack.com/p/pos-ethereum-reorg" rel="">an explanation of a 7-block reorg</a><span> in the beacon chain while this update was being rolled out</span></p><h3>Further Reading</h3><p><a href="https://medium.com/stakefish/deeper-dive-into-ethereum-2-0-part-1-93c475a18735" rel="">Stakefish’s overview of staking</a></p><p><a href="https://kb.beaconcha.in/" rel="">Beacon chain knowledge base</a></p><p><a href="https://eth2book.info/altair/contents" rel="">ETH 2 Book</a></p><p><a href="https://www.youtube.com/watch?v=1m12zgJ42dI" rel="">Realtime debate</a><span> between Lyn Alden of macro fame vs Justin Drake from the EF</span></p></div></div></div></article></div></div></div>
  </body>
</html>
