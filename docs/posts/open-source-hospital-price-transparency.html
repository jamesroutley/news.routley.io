<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.dolthub.com/blog/2022-12-02-open-source-hospital-price-transparency/">Original</a>
    <h1>Open-source hospital price transparency</h1>
    
    <div id="readability-page-1" class="page"><div data-cy="blog-post-text"><p><em>This work was done with help of Dr. Jaan Altosaar at <a href="https://payless.health/">One Fact Foundation</a>. You can reach him at <a href="mailto:jaan@onefact.org">jaan@onefact.org</a>.</em></p>
<p>We just built a data bank of hospital price lists: lists that are supposed to contain all of a hospital&#39;s prices. To our knowledge, this doesn&#39;t exist anywhere else. It&#39;s free to use under Creative Commons. You can jump <a href="https://www.dolthub.com/repositories/onefact/paylesshealth">straight to the database</a>, look at our compliance analysis on <a href="https://github.com/dolthub/data-analysis/blob/main/hospital_price_tranparency/cdm-compliance.ipynb">Github</a> or <a href="https://colab.research.google.com/drive/1wrkKvbYV6PxKpY0NfoHeNwoR1vtLY0S_"> Google CoLab</a>, or read on for more context.</p>
<h2 id="background"><a href="#background" aria-label="background permalink"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Background</h2>
<p>Since 2021, hospitals, by law, have had to post a machine-readable price list with all the procedures they offer. The idea was to create a set of files with the same basic information: generic codes for labeling procedures, and prices indicating who pays. This data bank would, in theory, give you a way to price shop. This didn&#39;t exist before, because before 2021 hospitals could legally their prices secret.</p>
<p>In the two years since, disclosure of these price lists has been hit and miss. Some hospitals posted partial price lists, others none at all. (They were probably counting on not getting caught.) Two hospitals <a href="https://www.cms.gov/hospital-price-transparency/enforcement-actions">fined over $1M combined in 2021</a> for refusing to host these files (but since the penalty, have since taken a U-turn and <a href="https://www.dolthub.com/repositories/onefact/paylesshealth/query/main?active=Tables&amp;q=SELECT+*%0AFROM+%60hospitals%60%0Awhere+ccn+in+%28%27110008%27%2C+%27110161%27%29%0ALIMIT+200%3B%0A">published their prices</a>.) This might have been to send a message to the other hospitals to get serious.</p>
<p>In 2022, do hospitals actually publish their price lists? To know that, we’d have to scour the webpages over over 7,000 hospitals in the US. Then we could figure out what fraction meet the compliance standards.</p>
<p>So that’s what we did.</p>
<p><a href="https://www.dolthub.com/repositories/onefact/paylesshealth">We&#39;re just about done</a> building an open database of hospital price lists after launching a weekly <a href="https://www.dolthub.com/repositories/onefact/paylesshealth/bounties/default?refName=main">data bounty</a> with funds from <a href="https://payless.health/">One Fact</a> and our own marketing budget. At the moment, it’s the only such open database that exists.</p>
<p>One Fact to feed these files into their artificial intelligence pipeline and figure out how much hospitals charge for different procedures to make price shopping easier through their platform, <a href="https://payless.health/">Payless.Health</a>. The One Fact Foundation is a 501c(3) nonprofit.</p>
<p>But we can also use these URLs to get a quick check on how many hospitals are actually in compliance and reproduce some <a href="https://jamanetwork.com/journals/jama-health-forum/fullarticle/2793645">improve actual published research</a>.</p>
<p><span>
      <a href="https://blog.aaryanporwal.com/blog/static/6d309e111cef733e397e9d6f7b60394e/00e09/sl-scores-2.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="compliant_cdm" title="compliant_cdm" src="https://blog.aaryanporwal.com/blog/static/6d309e111cef733e397e9d6f7b60394e/ad12c/sl-scores-2.png" srcset="/blog/static/6d309e111cef733e397e9d6f7b60394e/a48b3/sl-scores-2.png 214w,
/blog/static/6d309e111cef733e397e9d6f7b60394e/47730/sl-scores-2.png 428w,
/blog/static/6d309e111cef733e397e9d6f7b60394e/ad12c/sl-scores-2.png 856w,
/blog/static/6d309e111cef733e397e9d6f7b60394e/7a18f/sl-scores-2.png 1284w,
/blog/static/6d309e111cef733e397e9d6f7b60394e/56caf/sl-scores-2.png 1712w,
/blog/static/6d309e111cef733e397e9d6f7b60394e/00e09/sl-scores-2.png 1854w" sizes="(max-width: 856px) 100vw, 856px" loading="lazy" decoding="async"/>
  </a>
    </span>
<em>Calculated transparency scores for price lists. Many were mostly compliant, but a large number either didn&#39;t contain the right information, or weren&#39;t machine readable.</em></p>
<p>Above are the calculated &#34;transparency scores&#34; for a sample of the ~500 prices lists in our database. We can use this to point to hospitals that are out of compliance.</p>
<blockquote>
<p>To skip straight to the code, click <a href="https://colab.research.google.com/github/dolthub/data-analysis/blob/main/hospital_price_tranparency/cdm-compliance.ipynb#scrollTo=F4_MG2CAvNRY">here</a> to open a Google CoLab notebook with our results.</p>
</blockquote>
<h2 id="checking-hospital-price-list-compliance"><a href="#checking-hospital-price-list-compliance" aria-label="checking hospital price list compliance permalink"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Checking hospital price list compliance</h2>
<p>The legal requirements mandate the file to:</p>
<ol>
<li>exist, and be available on the hospital&#39;s website</li>
<li>be machine-readable (i.e. not .pdfs)</li>
<li>follow a naming convention: <code>EIN_hospitalname_standardcharges[.xlsx|.json|.csv]</code></li>
<li>contain some basic information (cash prices, gross charges, insurer prices, minimum and maximum negotiated rates among insurers, etc.)</li>
</ol>
<p><span>
      <a href="https://blog.aaryanporwal.com/blog/static/4f1b08dde6eef5e9001331341b301ab7/f4fb1/sl-140062-cdm-sample-highlighted.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="compliant_cdm" title="compliant_cdm" src="https://blog.aaryanporwal.com/blog/static/4f1b08dde6eef5e9001331341b301ab7/ad12c/sl-140062-cdm-sample-highlighted.png" srcset="/blog/static/4f1b08dde6eef5e9001331341b301ab7/a48b3/sl-140062-cdm-sample-highlighted.png 214w,
/blog/static/4f1b08dde6eef5e9001331341b301ab7/47730/sl-140062-cdm-sample-highlighted.png 428w,
/blog/static/4f1b08dde6eef5e9001331341b301ab7/ad12c/sl-140062-cdm-sample-highlighted.png 856w,
/blog/static/4f1b08dde6eef5e9001331341b301ab7/7a18f/sl-140062-cdm-sample-highlighted.png 1284w,
/blog/static/4f1b08dde6eef5e9001331341b301ab7/56caf/sl-140062-cdm-sample-highlighted.png 1712w,
/blog/static/4f1b08dde6eef5e9001331341b301ab7/f4fb1/sl-140062-cdm-sample-highlighted.png 1766w" sizes="(max-width: 856px) 100vw, 856px" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<p><em>Screenshot of a compliant hospital price last that contains all the relevant information (underlined in red). The hospital: Palos Community Hospital, CMS Num 140062, <a href="https://www.nm.org/-/media/northwestern/resources/patients-and-visitors/billing-and-insurance/northwestern-medicine-palos-hospital-comprehensive-list-of-standard-charges.csv">chargemaster here</a></em> for reference.</p>
<p><span>
      <a href="https://blog.aaryanporwal.com/blog/static/c5aad60cf3e613a6722d49bf2810fce6/36bb5/sl-44004-cdm-sample.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="noncompliant_cdm" title="noncompliant_cdm" src="https://blog.aaryanporwal.com/blog/static/c5aad60cf3e613a6722d49bf2810fce6/36bb5/sl-44004-cdm-sample.png" srcset="/blog/static/c5aad60cf3e613a6722d49bf2810fce6/a48b3/sl-44004-cdm-sample.png 214w,
/blog/static/c5aad60cf3e613a6722d49bf2810fce6/47730/sl-44004-cdm-sample.png 428w,
/blog/static/c5aad60cf3e613a6722d49bf2810fce6/36bb5/sl-44004-cdm-sample.png 611w" sizes="(max-width: 611px) 100vw, 611px" loading="lazy" decoding="async"/>
  </a>
    </span>
<em>Example of a noncomliant price list. Hospital: Vantage Point of Northwest Arkansas, CMS Num 44004, <a href="https://www.vantagepointnwa.com/wp-content/uploads/pricing/2022/vantage_point_standard_pricing_2022.csv">chargemaster here</a> for reference.</em></p>
<p>A JAMA study <a href="https://jamanetwork.com/journals/jama-health-forum/fullarticle/2793645">looked at compliance</a> and, when we asked, generously provided <a href="https://www.yunanji.com/data">their data.</a> However,</p>
<ul>
<li>they don&#39;t provide the URLs they used (they cited the fact some of the URLs may have changed since the study). <strong>Problem</strong>: the work isn&#39;t reproducible. This is extra concerning since for more than 300 URLs they marked &#34;compliant&#34;, we don&#39;t have any record of them in our database (at least, not yet)</li>
<li>they had a limited view on compliance (marked &#34;compliant&#34; if the hospital had <em>any</em> privately negotiated rates, else non compliant) <strong>Problem</strong>: price lists can be compliant or non-compliant in more than one dimension. (In particular, they <em>must</em> be machine readable, which was not one of their criteria)</li>
</ul>
<p>Not only can <em>we</em> do better than this, you can help, because we made our work into a <a href="https://colab.research.google.com/github/dolthub/data-analysis/blob/main/hospital_price_tranparency/cdm-compliance.ipynb#scrollTo=F4_MG2CAvNRY">Google CoLab notebook that&#39;s runnable by anyone.</a></p>
<p>Our strategy was to read in the heading information in each file. For any given dimension, if it contains the right magic strings, we label the price list compliant in that dimension. That leaves us with a score we can use to grade hospitals with.</p>
<p>For example,</p>
<div data-language="py"><pre><code><span>def</span> <span>generic_code_check</span><span>(</span>chunk<span>:</span> <span>str</span><span>)</span> <span>-</span><span>&gt;</span> <span>int</span><span>:</span>
    <span>&#34;&#34;&#34;Checks if the chunk contains generic code info&#34;&#34;&#34;</span>
    <span>if</span> isin<span>(</span>chunk<span>,</span> <span>&#39;drg&#39;</span><span>,</span> <span>&#39;hcpcs&#39;</span><span>,</span> <span>&#39;cpt&#39;</span><span>,</span> <span>&#39;cmg&#39;</span><span>)</span><span>:</span>
        <span>return</span> <span>1</span>
    <span>return</span> <span>-</span><span>1</span></code></pre></div>
<p>If any of the words &#34;drg&#34;, &#34;hcpcs&#34;, etc. are in the chunk of text, that very likely means the price list has itemized HCPCS and CPT codes. So we mark that price list as compliant on that dimension. That&#39;s it! It&#39;s basically a poor man&#39;s machine learning.</p>
<blockquote>
<p>As an exercise, write your own functions to try to improve the accuracy of the compliance score total.</p>
</blockquote>
<p>This simple analysis reproduces more or less the results from <a href="https://s3.us-west-1.amazonaws.com/assets.turquoise.health/impact_reports/TQ_Price-Transparency-Impact-Report_2022_Q3.pdf">Turquoise Health’s in-depth report</a> and <a href="https://static1.squarespace.com/static/60065b8fc8cd610112ab89a7/t/62f1c5ae0cf3da2fa78b0849/1660011954503/PatientRightsAdvocate.org+Third+Semi-Annual+Hospital+Price+Transparency+Compliance+Report.pdf">PatientAdvocate&#39;s Price Transparency Report</a>.</p>
<h2 id="want-to-get-involved"><a href="#want-to-get-involved" aria-label="want to get involved permalink"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Want to get involved?</h2>
<p>If you want to participate in tracking down these hospital URLs, help us out by joining the data bounty. You can learn more information on our <a href="https://discord.gg/sTXsQKKEHC">Discord</a>, which is where most of our discussion takes place.</p>
<p>For feedback on this article or for help using the Payless Health price transparency database, please reach out to the article authors Alec (<a href="mailto:alec@dolthub.com">alec@dolthub.com</a>) or Jaan (<a href="mailto:jaan@onefact.org">jaan@onefact.org</a>.)</p>
<p><em>Mistakes: an earlier version of this article confused when the price transparency executive order was written (2019) with when it went into effect (Jan. 1, 2021).</em></p></div></div>
  </body>
</html>
