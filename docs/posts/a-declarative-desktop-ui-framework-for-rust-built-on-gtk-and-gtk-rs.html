<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/bodil/vgtk">Original</a>
    <h1>A declarative desktop UI framework for Rust built on GTK and GTK-rs</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">A declarative desktop UI framework for Rust built on <a href="https://www.gtk.org/" rel="nofollow">GTK</a> and <a href="https://gtk-rs.org/" rel="nofollow">Gtk-rs</a>.</p>
<h2 dir="auto"><a id="user-content-at-a-glance" aria-hidden="true" href="#at-a-glance"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>At A Glance</h2>
<ul dir="auto">
<li>A clean, functional component model inspired by the
<a href="https://guide.elm-lang.org/architecture/" rel="nofollow">Elm architecture</a>, <a href="https://redux.js.org/" rel="nofollow">Redux</a> and
<a href="https://github.com/yewstack/yew">Yew</a>.</li>
<li>A declarative DSL for composing GTK widgets inspired by <a href="https://reactjs.org/" rel="nofollow">React</a> and
<a href="https://reactjs.org/docs/introducing-jsx.html" rel="nofollow">JSX</a>, using virtual &#34;DOM&#34; diffing for efficient
updates.</li>
<li>Fully cross platform with a native look and feel for Linux, Windows and macOS.</li>
<li>Built on Rust&#39;s <a href="https://doc.rust-lang.org/std/future/trait.Future.html" rel="nofollow"><code>Future</code></a>s using
<a href="https://developer.gnome.org/glib/stable/" rel="nofollow">GLib</a>&#39;s event loop, giving you
<a href="https://rust-lang.github.io/async-book/" rel="nofollow">async/await superpowers</a> cleanly integrated with the
GTK event model.</li>
<li>Absolutely no need for an embedded browser engine, unless you
<a href="https://webkitgtk.org/" rel="nofollow">really want one</a>.</li>
</ul>
<h2 dir="auto"><a id="user-content-documentation" aria-hidden="true" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<ul dir="auto">
<li><a href="https://docs.rs/vgtk/latest/vgtk/" rel="nofollow">API docs (latest release)</a></li>
<li><a href="https://bodil.lol/vgtk/" rel="nofollow">Tutorial</a></li>
</ul>
<h2 dir="auto"><a id="user-content-show-me" aria-hidden="true" href="#show-me"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Show Me!</h2>
<p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://bariweiss.substack.com/bodil/vgtk/blob/master/media/inc.png"><img src="https://bariweiss.substack.com/bodil/vgtk/raw/master/media/inc.png"/></a>
</p>
<div data-snippet-clipboard-copy-content="use vgtk::{ext::*, gtk, run, Component, UpdateAction, VNode};
use vgtk::lib::{gtk::*, gio::ApplicationFlags};

#[derive(Clone, Default, Debug)]
struct Model {
    counter: usize,
}

#[derive(Clone, Debug)]
enum Message {
   Inc,
   Exit,
}

impl Component for Model {
   type Message = Message;
   type Properties = ();

   fn update(&amp;mut self, message: Message) -&gt; UpdateAction&lt;Self&gt; {
       match message {
           Message::Inc =&gt; {
               self.counter += 1;
               UpdateAction::Render
           }
           Message::Exit =&gt; {
               vgtk::quit();
               UpdateAction::None
           }
       }
   }

   fn view(&amp;self) -&gt; VNode&lt;Model&gt; {
       gtk! {
           &lt;Application::new_unwrap(None, ApplicationFlags::empty())&gt;
               &lt;Window border_width=20 on destroy=|_| Message::Exit&gt;
                   &lt;HeaderBar title=&#34;inc!&#34; show_close_button=true /&gt;
                   &lt;Box spacing=10 halign=Align::Center&gt;
                       &lt;Label label=self.counter.to_string() /&gt;
                       &lt;Button label=&#34;inc!&#34; image=&#34;add&#34; always_show_image=true
                               on clicked=|_| Message::Inc /&gt;
                   &lt;/Box&gt;
               &lt;/Window&gt;
           &lt;/Application&gt;
       }
   }
}

fn main() {
   std::process::exit(run::&lt;Model&gt;());
}"><pre><span>use</span> vgtk<span>::</span>{ext<span>::</span><span>*</span>, gtk, run, Component, UpdateAction, VNode};
<span>use</span> vgtk<span>::</span>lib<span>::</span>{gtk<span>::</span><span>*</span>, gio<span>::</span>ApplicationFlags};

#[derive(Clone, Default, Debug)]
<span>struct</span> <span>Model</span> {
    counter: <span>usize</span>,
}

#[derive(Clone, Debug)]
<span>enum</span> <span>Message</span> {
   Inc,
   Exit,
}

<span>impl</span> <span>Component</span> <span>for</span> <span>Model</span> {
   <span>type</span> <span>Message</span> = Message;
   <span>type</span> <span>Properties</span> = ();

   <span>fn</span> <span>update</span>(<span>&amp;</span><span>mut</span> <span>self</span>, message: Message) -&gt; UpdateAction&lt;<span>Self</span>&gt; {
       <span>match</span> message {
           Message<span>::</span>Inc <span>=&gt;</span> {
               <span>self</span>.counter <span>+=</span> <span>1</span>;
               UpdateAction<span>::</span>Render
           }
           Message<span>::</span>Exit <span>=&gt;</span> {
               vgtk<span>::</span><span>quit</span>();
               UpdateAction<span>::</span><span>None</span>
           }
       }
   }

   <span>fn</span> <span>view</span>(<span>&amp;</span><span>self</span>) -&gt; VNode&lt;Model&gt; {
       <span>gtk!</span> {
           <span>&lt;</span>Application<span>::</span><span>new_unwrap</span>(<span>None</span>, ApplicationFlags<span>::</span><span>empty</span>())<span>&gt;</span>
               <span>&lt;</span>Window border_width<span>=</span><span>20</span> on destroy<span>=</span><span>|</span>_<span>|</span> Message<span>::</span>Exit<span>&gt;</span>
                   <span>&lt;</span>HeaderBar title<span>=</span><span>&#34;inc!&#34;</span> show_close_button<span>=</span><span>true</span> <span>/</span><span>&gt;</span>
                   <span>&lt;</span><span>Box</span> spacing<span>=</span><span>10</span> halign<span>=</span>Align<span>::</span>Center<span>&gt;</span>
                       <span>&lt;</span>Label label<span>=</span><span>self</span>.counter.<span>to_string</span>() <span>/</span><span>&gt;</span>
                       <span>&lt;</span>Button label<span>=</span><span>&#34;inc!&#34;</span> image<span>=</span><span>&#34;add&#34;</span> always_show_image<span>=</span><span>true</span>
                               on clicked<span>=</span><span>|</span>_<span>|</span> Message<span>::</span>Inc <span>/</span><span>&gt;</span>
                   <span>&lt;</span><span>/</span><span>Box</span><span>&gt;</span>
               <span>&lt;</span><span>/</span>Window<span>&gt;</span>
           <span>&lt;</span><span>/</span>Application<span>&gt;</span>
       }
   }
}

<span>fn</span> <span>main</span>() {
   std<span>::</span>process<span>::</span><span>exit</span>(<span>run</span><span>::</span>&lt;Model&gt;());
}</pre></div>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">You&#39;ll need to ensure GTK is installed and usable on your system before you can use <code>vgtk</code>. Please
consult the <a href="https://www.gtk.org/docs/installations/" rel="nofollow">Gtk documentation</a> for detailed
instructions. It can be especially involved on Windows, but if you follow their instructions
carefully, it does eventually work.</p>
<h2 dir="auto"><a id="user-content-getting-started" aria-hidden="true" href="#getting-started"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Getting Started</h2>
<p dir="auto">You can use <a href="https://github.com/ashleygwilliams/cargo-generate"><code>cargo generate</code></a> to start a <code>vgtk</code>
project:</p>
<div data-snippet-clipboard-copy-content="cargo generate --git https://github.com/bodil/cargo-template-vgtk"><pre>cargo generate --git https://github.com/bodil/cargo-template-vgtk</pre></div>
<p dir="auto">Alternatively, if you don&#39;t want to install <code>cargo generate</code>, you can clone the
<a href="https://github.com/bodil/cargo-template-vgtk">template repo</a> and edit the <code>Cargo.toml</code> file
manually to fit your project.</p>
<p dir="auto">To run your app, enter the project folder and type <code>cargo run</code>, and marvel at the little window
which eventually appears and what wonders you could fill it with.</p>
<h2 dir="auto"><a id="user-content-examples" aria-hidden="true" href="#examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples</h2>
<p dir="auto">See the <a href="https://bariweiss.substack.com/bodil/vgtk/blob/master/examples">examples</a> folder for a collection of example applications, including a complete
<a href="https://bariweiss.substack.com/bodil/vgtk/blob/master/examples/todomvc">TodoMVC</a> implementation. To try out the TodoMVC example, clone the <code>vgtk</code> repo
and issue <code>cargo run --bin todomvc</code> from the project root directory.</p>
<h2 dir="auto"><a id="user-content-licence" aria-hidden="true" href="#licence"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Licence</h2>
<p dir="auto">This program is free software: you can redistribute it and/or modify it under the terms of the GNU
Lesser General Public Licence as published by the Free Software Foundation, either version 3 of the
Licence, or (at your option) any later version.</p>
<p dir="auto">This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser
General Public Licence for more details.</p>
<p dir="auto">You should have received a copy of the GNU Lesser General Public Licence along with this program. If
not, see <a href="https://www.gnu.org/licenses/" rel="nofollow">https://www.gnu.org/licenses/</a>.</p>
</article>
          </div></div>
  </body>
</html>
