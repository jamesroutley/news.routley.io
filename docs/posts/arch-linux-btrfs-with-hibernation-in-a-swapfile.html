<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nwb.sh/btrfs_swapfile_hibernation/">Original</a>
    <h1>Arch Linux Btrfs with hibernation in a swapfile</h1>
    
    <div id="readability-page-1" class="page"><div>

<p>2023-03-09</p>
<p>The Arch Wiki technically contains everything needed to make this work, but</p>
<hr/>
<h2>Preparing for Installation</h2>
<p>Head over to archlinux.org and get an ISO of Arch and write it to a USB or DVD,</p>
<p>Get it booted up, be it UEFI or BIOS mode, and check to make sure the network</p>
<p>Once the partition is authenticated, it can be formatted as Btrfs:</p>
<p><strong>Now it must be remounted to have the subvolumes mounted in the correct place.</strong></p>
<hr/>
<h2>Installing Arch (finally)  </h2>
<p>While this step is optional, it doesn&#39;t hurt to generate a new mirrorlist</p>
<p><img src="https://nwb.sh/public/kde-btrfs-swapfile/8-reflector.png" alt="running reflector to sort repos based on speed and latest sync"/>  </p>
<p><strong>Finally time to install Arch!</strong></p>
<hr/>
<h2>Finally ready to reboot!  </h2>
<p>Maybe not quite ready. We still need to exit chroot and unmount partitions.</p>
<hr/>
<h2>First login to a base system  </h2>
<p>Login as root. And run <code># dhclient</code> to get an IP address.</p>
<p>Save and close the editor.  </p>
<p>Create the new user: <code># useradd -m &lt;username&gt;</code>, where <code>-m</code> generates a home dir.</p>
<p><strong>Installing the desktop environment</strong></p>
<p><strong>Enabling the display manager and network manager</strong></p>
<hr/>
<h2>Welcome to KDE  </h2>
<p>If all is well, SDDM should start up after rebooting (and unlocking LUKS).</p>
<hr/>
<h2>Getting hibernation working  </h2>
<p>If hibernation isn&#39;t needed, you&#39;re done. Continue setting up the system how</p>
<p><strong>Editing mkinitcpio.conf, again.</strong></p>
<hr/>

</div></div>
  </body>
</html>
