<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/reinauer/amifuse">Original</a>
    <h1>Native Amiga Filesystems on macOS / Linux / Windows with FUSE</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Mount Amiga filesystem images on macOS/Linux/Windows using native AmigaOS filesystem handlers via FUSE.</p>
<p dir="auto">amifuse runs actual Amiga filesystem drivers (like PFS3) through m68k CPU emulation, allowing you to read Amiga hard disk images without relying on reverse-engineered implementations.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/reinauer/amifuse/main/Docs/amifuse.png"><img src="https://raw.githubusercontent.com/reinauer/amifuse/main/Docs/amifuse.png" alt="amifuse"/></a></p>

<ul dir="auto">
<li><strong>macOS</strong>: <a href="https://osxfuse.github.io/" rel="nofollow">macFUSE</a></li>
<li><strong>Linux</strong>: FUSE for Linux</li>
<li><strong>Windows</strong>: <a href="https://winfsp.dev/" rel="nofollow">WinFSP</a></li>
<li><strong>Python 3.9+</strong></li>
<li><strong>7z</strong>: Required for <code>make unpack</code> (install via <code>brew install p7zip</code> on macOS)</li>
<li>A <strong>filesystem handler</strong>: e.g. <a href="https://aminet.net/package/disk/misc/pfs3aio" rel="nofollow">pfs3aio</a> (or use <code>make download</code>)</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Clone the repository with submodules
git clone --recursive https://github.com/reinauer/amifuse.git
cd amifuse

# Or if already cloned, initialize submodules
git submodule update --init"><pre><span><span>#</span> Clone the repository with submodules</span>
git clone --recursive https://github.com/reinauer/amifuse.git
<span>cd</span> amifuse

<span><span>#</span> Or if already cloned, initialize submodules</span>
git submodule update --init</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">With virtual environment (recommended)</h3><a id="user-content-with-virtual-environment-recommended" aria-label="Permalink: With virtual environment (recommended)" href="#with-virtual-environment-recommended"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="python3 -m venv .venv
source .venv/bin/activate   # On Windows: .venv\Scripts\activate

pip install -e &#39;./amitools[vamos]&#39;   # Install amitools from submodule (includes machine68k)
pip install -e .                     # Install amifuse"><pre>python3 -m venv .venv
<span>source</span> .venv/bin/activate   <span><span>#</span> On Windows: .venv\Scripts\activate</span>

pip install -e <span><span>&#39;</span>./amitools[vamos]<span>&#39;</span></span>   <span><span>#</span> Install amitools from submodule (includes machine68k)</span>
pip install -e <span>.</span>                     <span><span>#</span> Install amifuse</span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Without virtual environment</h3><a id="user-content-without-virtual-environment" aria-label="Permalink: Without virtual environment" href="#without-virtual-environment"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="pip install --user -e &#39;./amitools[vamos]&#39;
pip install --user -e ."><pre>pip install --user -e <span><span>&#39;</span>./amitools[vamos]<span>&#39;</span></span>
pip install --user -e <span>.</span></pre></div>

<p dir="auto">Install macFUSE from <a href="https://osxfuse.github.io/" rel="nofollow">https://osxfuse.github.io/</a> or via Homebrew:</p>
<div dir="auto" data-snippet-clipboard-copy-content="brew install --cask macfuse"><pre>brew install --cask macfuse</pre></div>
<p dir="auto">You may need to reboot and allow the kernel extension in System Preferences &gt; Security &amp; Privacy.</p>

<div dir="auto" data-snippet-clipboard-copy-content="# Debian/Ubuntu
sudo apt install fuse libfuse-dev

# Fedora
sudo dnf install fuse fuse-devel"><pre><span><span>#</span> Debian/Ubuntu</span>
sudo apt install fuse libfuse-dev

<span><span>#</span> Fedora</span>
sudo dnf install fuse fuse-devel</pre></div>

<p dir="auto">To download a test PFS3 disk image and the pfs3aio handler:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make download   # Downloads pfs.7z and pfs3aio to Downloads/
make unpack     # Extracts pfs.hdf and copies pfs3aio to current directory"><pre>make download   <span><span>#</span> Downloads pfs.7z and pfs3aio to Downloads/</span>
make unpack     <span><span>#</span> Extracts pfs.hdf and copies pfs3aio to current directory</span></pre></div>
<p dir="auto">Then mount with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# macOS: auto-mounts to /Volumes/&lt;partition_name&gt;, uses embedded driver from RDB
amifuse mount pfs.hdf

# Linux: requires explicit mountpoint
mkdir -p ./mnt
amifuse mount pfs.hdf --mountpoint ./mnt"><pre><span><span>#</span> macOS: auto-mounts to /Volumes/&lt;partition_name&gt;, uses embedded driver from RDB</span>
amifuse mount pfs.hdf

<span><span>#</span> Linux: requires explicit mountpoint</span>
mkdir -p ./mnt
amifuse mount pfs.hdf --mountpoint ./mnt</pre></div>

<p dir="auto">amifuse uses subcommands for different operations:</p>
<div dir="auto" data-snippet-clipboard-copy-content="amifuse inspect &lt;image&gt;                    # Inspect RDB partitions
amifuse mount &lt;image&gt;                      # Mount a filesystem"><pre>amifuse inspect <span>&lt;</span>image<span>&gt;</span>                    <span><span>#</span> Inspect RDB partitions</span>
amifuse mount <span>&lt;</span>image<span>&gt;</span>                      <span><span>#</span> Mount a filesystem</span></pre></div>

<p dir="auto">View partition information and embedded filesystem drivers:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Show partition summary
amifuse inspect /path/to/disk.hdf

# Show full partition details
amifuse inspect --full /path/to/disk.hdf"><pre><span><span>#</span> Show partition summary</span>
amifuse inspect /path/to/disk.hdf

<span><span>#</span> Show full partition details</span>
amifuse inspect --full /path/to/disk.hdf</pre></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>image</code></td>
<td>Path to the RDB image file</td>
</tr>
<tr>
<td><code>--block-size</code></td>
<td>Block size in bytes (default: auto-detect or 512)</td>
</tr>
<tr>
<td><code>--full</code></td>
<td>Show full partition details</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<div dir="auto" data-snippet-clipboard-copy-content="amifuse mount /path/to/disk.hdf"><pre>amifuse mount /path/to/disk.hdf</pre></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Argument</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>image</code></td>
<td>Yes</td>
<td>Path to the Amiga hard disk image file</td>
</tr>
<tr>
<td><code>--driver</code></td>
<td>No</td>
<td>Path to filesystem handler binary (default: extract from RDB if available)</td>
</tr>
<tr>
<td><code>--mountpoint</code></td>
<td>macOS/Windows: No, Linux: Yes</td>
<td>Mount location (macOS: <code>/Volumes/&lt;partition&gt;</code>, Windows: first free drive letter)</td>
</tr>
<tr>
<td><code>--partition</code></td>
<td>No</td>
<td>Partition name (e.g., <code>DH0</code>) or index (default: first partition)</td>
</tr>
<tr>
<td><code>--block-size</code></td>
<td>No</td>
<td>Override block size (default: auto-detect or 512)</td>
</tr>
<tr>
<td><code>--volname</code></td>
<td>No</td>
<td>Override the volume name shown in Finder</td>
</tr>
<tr>
<td><code>--debug</code></td>
<td>No</td>
<td>Enable debug logging of FUSE operations</td>
</tr>
<tr>
<td><code>--profile</code></td>
<td>No</td>
<td>Enable cProfile profiling and write stats to <code>profile.txt</code> on exit</td>
</tr>
<tr>
<td><code>--write</code></td>
<td>No</td>
<td>Enable read-write mode (experimental, use with caution)</td>
</tr>
<tr>
<td><code>--icons</code></td>
<td>No</td>
<td>Convert Amiga .info icons to native icons (experimental, macOS only)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<div dir="auto" data-snippet-clipboard-copy-content="# macOS: Mount using embedded filesystem driver from RDB (simplest)
amifuse mount disk.hdf

# macOS: Mount with explicit driver
amifuse mount pfs.hdf --driver pfs3aio

# Mount a specific partition by name
amifuse mount multi-partition.hdf --partition DH0

# Mount a specific partition by index
amifuse mount multi-partition.hdf --partition 2

# Linux: Explicit mountpoint required
mkdir -p ./mnt
amifuse mount disk.hdf --mountpoint ./mnt

# Mount an ADF floppy image (requires explicit driver)
amifuse mount workbench.adf --driver L/FastFileSystem

# Enable native icons (macOS only, converts Amiga .info files)
amifuse mount disk.hdf --icons

# Browse the filesystem
ls /Volumes/PDH0   # macOS
ls ./mnt           # Linux

# Unmount when done (Ctrl+C in the terminal, or:)
umount /Volumes/PDH0   # macOS
umount ./mnt           # Linux"><pre><span><span>#</span> macOS: Mount using embedded filesystem driver from RDB (simplest)</span>
amifuse mount disk.hdf

<span><span>#</span> macOS: Mount with explicit driver</span>
amifuse mount pfs.hdf --driver pfs3aio

<span><span>#</span> Mount a specific partition by name</span>
amifuse mount multi-partition.hdf --partition DH0

<span><span>#</span> Mount a specific partition by index</span>
amifuse mount multi-partition.hdf --partition 2

<span><span>#</span> Linux: Explicit mountpoint required</span>
mkdir -p ./mnt
amifuse mount disk.hdf --mountpoint ./mnt

<span><span>#</span> Mount an ADF floppy image (requires explicit driver)</span>
amifuse mount workbench.adf --driver L/FastFileSystem

<span><span>#</span> Enable native icons (macOS only, converts Amiga .info files)</span>
amifuse mount disk.hdf --icons

<span><span>#</span> Browse the filesystem</span>
ls /Volumes/PDH0   <span><span>#</span> macOS</span>
ls ./mnt           <span><span>#</span> Linux</span>

<span><span>#</span> Unmount when done (Ctrl+C in the terminal, or:)</span>
umount /Volumes/PDH0   <span><span>#</span> macOS</span>
umount ./mnt           <span><span>#</span> Linux</span></pre></div>


<p dir="auto">Inspect RDB (Rigid Disk Block) images to view partition information and embedded filesystem drivers.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Show partition summary
rdb-inspect /path/to/disk.hdf

# Show full partition details
rdb-inspect --full /path/to/disk.hdf

# Output as JSON
rdb-inspect --json /path/to/disk.hdf

# Extract embedded filesystem driver #0 to a file
rdb-inspect --extract-fs 0 --out pfs3.bin /path/to/disk.hdf"><pre><span><span>#</span> Show partition summary</span>
rdb-inspect /path/to/disk.hdf

<span><span>#</span> Show full partition details</span>
rdb-inspect --full /path/to/disk.hdf

<span><span>#</span> Output as JSON</span>
rdb-inspect --json /path/to/disk.hdf

<span><span>#</span> Extract embedded filesystem driver #0 to a file</span>
rdb-inspect --extract-fs 0 --out pfs3.bin /path/to/disk.hdf</pre></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>image</code></td>
<td>Path to the RDB image file</td>
</tr>
<tr>
<td><code>--block-size</code></td>
<td>Block size in bytes (default: auto-detect or 512)</td>
</tr>
<tr>
<td><code>--full</code></td>
<td>Show full partition details</td>
</tr>
<tr>
<td><code>--json</code></td>
<td>Output parsed RDB as JSON</td>
</tr>
<tr>
<td><code>--extract-fs N</code></td>
<td>Extract filesystem entry N (0-based) to a file</td>
</tr>
<tr>
<td><code>--out</code></td>
<td>Output path for extracted filesystem (default: auto-derived)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">Inspect Amiga filesystem handler binaries to verify they can be relocated and display segment information.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Inspect a filesystem handler
driver-info pfs3aio

# Use a custom base address
driver-info --base 0x200000 pfs3aio"><pre><span><span>#</span> Inspect a filesystem handler</span>
driver-info pfs3aio

<span><span>#</span> Use a custom base address</span>
driver-info --base 0x200000 pfs3aio</pre></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>binary</code></td>
<td>Path to the filesystem handler binary</td>
</tr>
<tr>
<td><code>--base</code></td>
<td>Base address for relocation (default: 0x100000)</td>
</tr>
<tr>
<td><code>--padding</code></td>
<td>Padding between segments when relocating</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<ul dir="auto">
<li><strong>HDF/RDB</strong> - Hard disk images with Rigid Disk Block. Filesystem drivers can be embedded in the RDB or specified via <code>--driver</code>.</li>
<li><strong>Emu68-style MBR images</strong> - Disk images with MBR partition table containing an RDB partition, as used by Emu68 on Raspberry Pi.</li>
<li><strong>ADF</strong> - Amiga Disk File floppy images (DD and HD). Requires <code>--driver</code> since ADFs don&#39;t contain embedded drivers.</li>
</ul>

<p dir="auto">Currently tested with:</p>
<ul dir="auto">
<li><strong>PFS3</strong> (Professional File System 3) via <code>pfs3aio</code> handler</li>
<li><strong>SFS</strong> (Smart File System 1.279) via <code>SmartFileSystem</code> handler</li>
<li><strong>FFS/OFS</strong> (Fast/Old File System) via <code>L:FastFileSystem</code> from Workbench</li>
<li><strong>BFFS</strong> (Berkeley Fast File System) via Chris Hooper&#39;s <a href="https://github.com/cdhooper/bffs">BFFSFilesystem</a> handler</li>
</ul>
<p dir="auto">Other Amiga filesystem handlers may work but have not been tested. Reports are
welcome.</p>

<p dir="auto">The <code>--icons</code> flag enables conversion of Amiga <code>.info</code> icon files to native Finder icons:</p>
<ul dir="auto">
<li>Folder and file icons from <code>.info</code> files are displayed in Finder</li>
<li>Supports Traditional, NewIcons, and GlowIcons formats</li>
<li>The <code>.info</code> files are hidden in directory listings</li>
<li>Volume icons are displayed on the Desktop</li>
</ul>
<p dir="auto">*** This feature is experimental and macOS-only. ***</p>

<ul dir="auto">
<li>The filesystem is mounted <strong>read-only</strong> by default; use <code>--write</code> for experimental read-write support</li>
<li>The mount runs in the foreground; press Ctrl+C to unmount</li>
<li>macOS Finder/Spotlight indexing is automatically disabled to improve performance</li>
<li>First directory traversal may be slow as the handler processes each path; subsequent accesses are cached</li>
</ul>
</article></div></div>
  </body>
</html>
