<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2024/12/16/who_me/">Original</a>
    <h1>Coder wrote a bug so bad security guards wanted a word when he arrived at work</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p><span>Who, Me?</span> Welcome once again to Who, Me? The Register&#39;s Monday morning feature in which we share tales of technological messes your fellow readers made, and escaped, to give you hope in case you err during the coming week.</p>
<p>This week&#39;s hero we&#39;ll Regomize as &#34;Trey&#34; because back in the first decade of this millennium he was working for one of the many startup telcos trying to cash in on 3G. (Sadly, he tells Who, Me? it was not one of the ones that succeeded.)</p>
<p>Trey worked on the platforms and services team, which created and maintained apps for internal users and customers. Among his responsibilities was working with external service providers, such as a payment provider, an identity services outfit, and bulk SMS handler.</p>

    

<p>One day, Trey noticed the payments gateway misbehaving, so he wrote a piece of software that sent it a test transaction, checked it had worked, then repeated the process five minutes later.</p>

        


        

<p>Another experiment saw him write a demo app that automated payments, using SMS as prompts.</p>
<p>The app had its own syntax for commands. In theory, the message “Credit 5” would send that sum to an account, and so on.</p>

        

<p>Trey showed the automated payments applications to the head of his department, who was well pleased – so pleased he asked for it to be deployed immediately.</p>
<p>Oh yeah, immediate deployment. That never goes wrong, right?</p>
<ul>

<li><a href="https://www.theregister.com/2024/12/09/who_me/">Panic at the Cisco tech, thanks to ancient IOS syntax helper that outsmarted itself</a></li>

<li><a href="https://www.theregister.com/2024/12/02/who_me/">NetAdmin learns that wooden chocks, unlike swipe cards, open doors when networks can&#39;t</a></li>

<li><a href="https://www.theregister.com/2024/11/25/who_me/">Network engineer chose humiliation over a night on the datacenter floor</a></li>

<li><a href="https://www.theregister.com/2024/11/18/who_me/">Undergrad thought he had mastered Unix in weeks. Then he discovered rm -rf</a></li>
</ul>
<p>Wrong. It turns out Trey&#39;s little demo had exactly three bugs in it that had not been spotted in his limited testing.</p>
<p>The first bug was in the value of the test transactions. The value had to be a whole number, followed by a modifier.</p>
<p>His intention was that the whole number would be 1 and the modifier -2, a combo that would generate a test transaction of $0.01. But the exponent had accidentally been set to 2 – so each transaction was worth $100. Not an insignificant difference.</p>

        

<p>The second bug was the lack of a liveness check. If one of the gateways failed, the program wouldn&#39;t sleep for five minutes but would simply attempt the transaction again immediately.</p>
<p>The third bug – which Trey did in fact know about but had made a mental note to fix later – was that the choice of credit or debit on the test transactions was supposed to be random, but for some reason always came up credit. He figured it wouldn&#39;t be that big of an issue, given the transactions were only supposed to be $0.01 every five minutes, right?</p>
<p>You can easily see where this is headed. As he ran the program overnight, one of the gateways failed. Trey&#39;s little proof of concept demo program then began crediting his test account with $100 pretty much constantly for the next few hours.</p>
<p>When he arrived at work the next morning, there were some very serious faces – including a security team – waiting to greet him and find out what sort of fraud he thought he was trying to pull. The account had amassed a considerable fortune by that stage.</p>
<p>Thankfully the head of department, who had authorized the deployment, came to Trey&#39;s rescue and explained the situation. Tragically, though, the balance of the test account was reset to zero.</p>
<p>Ever had a programming error make a fortune appear – or disappear – like magic? <a target="_blank" href="mailto:whome@theregister.com">Tell us all about it in an email to Who, Me?</a> and we may share your adventure on some future Monday morning. ®</p>                                
                    </div></div>
  </body>
</html>
