<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ferrislucas/promptr">Original</a>
    <h1>Show HN: Promptr, let GPT operate on your codebase and other useful goodies</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Promptr is a CLI tool for operating on your codebase using GPT. Promptr dynamically includes one or more files into your GPT prompts, and it can optionally parse and apply the changes that GPT suggests to your codebase. Several prompt templates are included for various purposes, and users can create their own templates.
<br/></p>
<h4 tabindex="-1" dir="auto"><a id="user-content-some-useful-workflows-that-promptr-enables" aria-hidden="true" href="#some-useful-workflows-that-promptr-enables"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Some useful workflows that Promptr enables</h4>
<ul dir="auto">
<li><strong>Ask GPT to refactor your code base:</strong> Promptr handles passing the codebase and your prompt to GPT. Promptr then parses the response and applies the changes recommended by GPT to your codebase. See the <code>refactor</code> template below.</li>
<li><strong>Ask GPT to update a class to pass some tests:</strong> given a set of unit tests and a class’s current implementation, Promptr will tell GPT to create or update an implementation of a class that makes the tests pass. Promptr handles parsing GPT’s response and updating your code. See the <code>test-first</code> example below.</li>
<li><strong>Automate recursive prompts:</strong> by using Promptr to pipe model output into a file. Then use Promptr to pass the contents of that file to GPT as a prompt.</li>
<li><strong>Experimentation:</strong> Promptr was born as a tool for experimenting with LLM’s. There are interactive and dry run modes as well as a templating system that exposes the files you pass to Promptr. This allows  you to use those file names and file contents as you wish in your own prompts.
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<p dir="auto"><code>promptr  -m &lt;mode&gt; [options] &lt;file1&gt; &lt;file2&gt; &lt;file3&gt; ...</code></p>
<ul dir="auto">
<li>Refactor a single file (using <code>-o</code> to update a single file):</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="$ promptr -m gpt3 index.js -o index.js -p &#34;Cleanup the code in this file&#34;"><pre>$ promptr -m gpt3 index.js -o index.js -p <span><span>&#34;</span>Cleanup the code in this file<span>&#34;</span></span></pre></div>
<ul dir="auto">
<li>Refactor multiple files (applies the changes to your codebase by piping output into <code>promptr -m execute</code>):</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="$ promptr -m gpt3 index.js app.js -t refactor -p &#34;Cleanup the code in these files&#34; | promptr -m execute"><pre>$ promptr -m gpt3 index.js app.js -t refactor -p <span><span>&#34;</span>Cleanup the code in these files<span>&#34;</span></span> <span>|</span> promptr -m execute</pre></div>
<ul dir="auto">
<li>Refactor all the javascript files in the codebase (use <code>git-tree</code>, <code>grep</code>, and <code>tr</code> to specify the paths to all .js files):</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="$ promptr -m gpt4 -t refactor -p &#34;Cleanup the code in these files&#34; $(git ls-tree -r --name-only HEAD | grep &#34;.js&#34; | tr &#39;\n&#39; &#39; &#39;) | promptr -m execute"><pre>$ promptr -m gpt4 -t refactor -p <span><span>&#34;</span>Cleanup the code in these files<span>&#34;</span></span> <span><span>$(</span>git ls-tree -r --name-only HEAD <span>|</span> grep <span><span>&#34;</span>.js<span>&#34;</span></span> <span>|</span> tr <span><span>&#39;</span>\n<span>&#39;</span></span> <span><span>&#39;</span> <span>&#39;</span></span><span>)</span></span> <span>|</span> promptr -m execute</pre></div>
</article>
          </div></div>
  </body>
</html>
