<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://terminalbytes.com/iphone-8-solar-powered-vision-ocr-server/">Original</a>
    <h1>My iPhone 8 Refuses to Die: Now It&#39;s a Solar-Powered Vision OCR Server</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>After running for over a year, my solar-powered setup has processed <strong>83,418 OCR requests</strong> and <strong>48GB of images</strong> using nothing but Apple’s Vision framework and renewable energy. Most people toss their old iPhones in a drawer when they upgrade. Me? I turned mine into a server that saves me money while running completely off-grid.</p>
<p><em>Note: The OCR processing serves a separate side project unrelated to this blog.</em></p>
<p>Could I have just run this on my Mac like a normal person? Absolutely. But where’s the fun in that?</p>
<p><img loading="lazy" src="https://terminalbytes.com/iphone-8-solar-powered-vision-ocr-server/iphone-8-vision-ocr-server-solar.jpg" alt="iPhone 8 OCR Server Setup"/>
</p>
<h2 id="tldr---technical-summary">TL;DR - Technical Summary</h2>
<p><strong>The Setup:</strong></p>
<ul>
<li>iPhone 8 running SwiftUI app with Apple Vision OCR</li>
<li>EcoFlow River 2 Pro (768Wh) + 220W solar panel</li>
<li>Mini PC handling web services and API routing</li>
<li>Tailscale network connecting everything</li>
</ul>
<p><strong>Performance After 1+ Year:</strong></p>
<ul>
<li>83,418 total OCR requests processed</li>
<li>48GB of image data handled</li>
<li>1000+ requests on busy days</li>
<li>76% battery health after continuous operation</li>
<li>$84-120 CAD annual electricity savings</li>
</ul>
<p><strong>Key Learnings:</strong></p>
<ul>
<li>Apple Vision framework rivals cloud services for accuracy</li>
<li>Old hardware is surprisingly reliable for server workloads</li>
<li>Solar power works well with proper battery management</li>
<li>Local processing beats cloud services for privacy and cost at scale</li>
</ul>
<h2 id="why-would-you-even-do-this">Why Would You Even Do This?</h2>
<h3 id="the-logical-approach">The Logical Approach</h3>
<p>I have an image-heavy personal project that chews through hundreds of images daily, categorizing them automatically. Any reasonable person would run the OCR processing on their Mac - Apple’s Vision framework works great on macOS.</p>
<h3 id="the-me-approach">The “Me” Approach</h3>
<p>But I’m not reasonable. I see a perfectly good iPhone 8 and think: <em>“You know what this needs? A second career as a solar-powered image processing servant.&#34;</em> My EcoFlow River 2 Pro was sitting idle between camping trips, so switching my existing OCR server to solar felt like the natural evolution.</p>
<h3 id="the-unexpected-benefits">The Unexpected Benefits</h3>
<ul>
<li><strong>Real-time dashboard</strong> on my window sill while bird watching</li>
<li><strong>Grid independence</strong> for personal projects</li>
<li><strong>Actual cost savings</strong> that add up over time</li>
<li><strong>Amazing conversation starter</strong> when people visit</li>
</ul>
<p>The financial benefits are modest but real. Looking at my actual power consumption data: 37.4 kWh in May ($7.21) and 45.8 kWh in April ($8.82). Over a year, that’s meaningful savings.</p>
<p><em>“Is it practical? Debatable. Is it cool? Absolutely.&#34;</em></p>
<h2 id="what-exactly-is-this-thing">What Exactly Is This Thing?</h2>
<p>Here’s my delightfully over-engineered setup:</p>
<ol>
<li><strong>Mini PC</strong> running my web server, image processing service, Plex server, and various other services</li>
<li><strong>iPhone 8</strong> perched on my window sill, running a SwiftUI app that serves as both OCR processor and real-time dashboard</li>
<li><strong>EcoFlow power station</strong> keeping both devices running off-grid</li>
<li><strong>Tailscale network</strong> connecting everything seamlessly</li>
</ol>
<p>The workflow is beautifully simple: My image processing service sends images to the phone for OCR processing using Apple’s Vision framework. The phone processes the text, sends it back, and updates its dashboard with processing stats. All while I watch birds outside my window and feel smug about my setup.</p>
<h2 id="the-hardware-setup-solar-meets-computing">The Hardware Setup: Solar Meets Computing</h2>
<h3 id="power-station-choice-and-reality-check">Power Station Choice and Reality Check</h3>
<p>I didn’t buy the EcoFlow River 2 Pro specifically for this project. I bought it because I convinced myself I was going to become one of those outdoorsy people who camps and needs portable power. Well, turns out I’m still more of an “indoor cat with outdoor aspirations” kind of person. But my impulse purchase isn’t gathering dust!</p>
<p><img loading="lazy" src="https://terminalbytes.com/iphone-8-solar-powered-vision-ocr-server/ecoflow-river-pro-2.jpg" alt="EcoFlow River 2 Pro portable power station"/>
</p>
<p><em>Pro tip: When researching portable power stations, <a href="https://gearscouts.com">GearScouts.com</a> is an excellent price comparison site that could save you some time.</em></p>
<h3 id="power-consumption-and-solar-performance">Power Consumption and Solar Performance</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Idle Power</th>
<th>Processing Load</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>iPhone 8 OCR Server</td>
<td>0.5-1W</td>
<td>2-5W</td>
<td>Surprisingly efficient</td>
</tr>
<tr>
<td>Mini PC (multiple services)</td>
<td>15W</td>
<td>25-30W</td>
<td>Includes Plex, Archive Warriors</td>
</tr>
<tr>
<td><strong>Total Daily Consumption</strong></td>
<td><strong>~1.2kWh</strong></td>
<td><strong>Variable</strong></td>
<td>Based on actual TP-Link data</td>
</tr>
</tbody>
</table>
<p><strong>Solar Performance by Season:</strong></p>
<ul>
<li><strong>Summer</strong>: 150-220W peak input, infinite runtime with battery charging</li>
<li><strong>Fall/Spring</strong>: 20-60W average, hybrid solar/battery operation</li>
<li><strong>Winter</strong>: 5-20W if lucky, mostly battery power (15-20 hours runtime)</li>
</ul>
<p>The River 2 Pro’s 768Wh capacity provides excellent buffer for Canada’s unpredictable weather. Its battery management system deserves credit - it’s not just dumping power into devices; it’s managing charging curves properly.</p>
<h2 id="building-the-ios-ocr-server-app">Building the iOS OCR Server App</h2>
<p>Creating a server on iOS sounds complicated, but Apple’s done most of the heavy lifting. The real challenge was making it run continuously without iOS deciding my app wasn’t important enough to keep running.</p>
<p><img loading="lazy" src="https://terminalbytes.com/iphone-8-solar-powered-vision-ocr-server/iphone-8-ocr-server.jpeg" alt="iPhone 8 on window sill serving as OCR server"/>
</p>
<h3 id="apples-vision-framework-the-unsung-hero">Apple’s Vision Framework: The Unsung Hero</h3>
<p>Apple’s Vision framework is genuinely impressive and criminally underused. While everyone obsesses over ChatGPT and cloud-based OCR services, Apple quietly shipped a local OCR solution that’s fast, accurate, and runs entirely on-device.</p>
<p>Here’s the core processing code:</p>
<div><pre tabindex="0"><code data-lang="swift"><span>import</span> <span>Vision</span>
<span>import</span> <span>UIKit</span>

<span>func</span> <span>processImage</span>(<span>_</span> image: UIImage, completion: @escaping (String?) -&gt; Void) {
    <span>guard</span> <span>let</span> cgImage = image.cgImage <span>else</span> {
        completion(<span>nil</span>)
        <span>return</span>
    }

    <span>let</span> request = VNRecognizeTextRequest { request, error <span>in</span>
        <span>guard</span> <span>let</span> observations = request.results <span>as</span>? [VNRecognizedTextObservation] <span>else</span> {
            completion(<span>nil</span>)
            <span>return</span>
        }

        <span>let</span> recognizedText = observations.compactMap { observation <span>in</span>
            observation.topCandidates(<span>1</span>).first?.string
        }.joined(separator: <span>&#34;</span><span>\n</span><span>&#34;</span>)

        completion(recognizedText)
    }

    request.recognitionLevel = .accurate
    request.usesLanguageCorrection = <span>true</span>

    <span>let</span> handler = VNImageRequestHandler(cgImage: cgImage, options: [:])
    <span>try</span>? handler.perform([request])
}
</code></pre></div><p>The accuracy rivals some cloud services I’ve tested, and it’s processing everything locally. No API calls, no usage limits, no privacy concerns.</p>
<h3 id="swiftui-dashboard-and-analytics">SwiftUI Dashboard and Analytics</h3>
<p>The dashboard was the fun part - something that would look cool on my window sill and provide real-time stats:</p>
<div><pre tabindex="0"><code data-lang="swift"><span>struct</span> <span>DashboardView</span>: View {
    @StateObject <span>private</span> <span>var</span> server = OCRServer()
    @State <span>private</span> <span>var</span> stats = ProcessingStats()

    <span>var</span> body: some View {
        VStack(spacing: <span>20</span>) {
            Text(<span>&#34;OCR Server Status&#34;</span>)
                .font(.title)
                .fontWeight(.bold)

            HStack {
                StatCard(title: <span>&#34;Requests Today&#34;</span>, value: <span>&#34;</span><span>\(</span>stats.requestsToday<span>)</span><span>&#34;</span>)
                StatCard(title: <span>&#34;Total Processed&#34;</span>, value: <span>&#34;</span><span>\(</span>stats.totalProcessed<span>)</span><span>&#34;</span>)
            }

            HStack {
                StatCard(title: <span>&#34;Avg Processing Time&#34;</span>, value: <span>&#34;</span><span>\(</span>stats.avgProcessingTime<span>)</span><span>ms&#34;</span>)
                StatCard(title: <span>&#34;Success Rate&#34;</span>, value: <span>&#34;</span><span>\(</span>stats.successRate<span>)</span><span>%&#34;</span>)
            }

            BatteryView(percentage: UIDevice.current.batteryLevel)

            Text(<span>&#34;Server running on port 8080&#34;</span>)
                .font(.caption)
                .foregroundColor(.secondary)
        }
        .padding()
    }
}
</code></pre></div><p>I integrated Google Analytics 4 because I’m a data nerd. The dashboard shows 139,917 total users with 17,643 this month, 6:28 average session duration, and 11 currently active users. It’s like having a tiny data center dashboard on your window sill.</p>
<h2 id="the-solar-power-challenge">The Solar Power Challenge</h2>
<p>Running electronics on solar power sounds simple until you face Canada’s weather reality. We get everything from blazing summer days (all 3 of them) to months of overcast skies that make solar panels about as useful as a chocolate teapot.</p>
<h3 id="seasonal-strategy-and-battery-management">Seasonal Strategy and Battery Management</h3>
<p>I’ve developed a weather-dependent approach:</p>
<ul>
<li><strong>Summer</strong>: Solar handles everything plus charges other devices</li>
<li><strong>Fall/Spring</strong>: Hybrid solar/battery with careful monitoring</li>
<li><strong>Winter</strong>: Mostly battery power with occasional solar boosts</li>
</ul>
<p>The phone’s battery health held up reasonably well. After over a year of constant operation, it’s at 76% capacity. The power station’s battery management deserves credit here.</p>
<p><img loading="lazy" src="https://terminalbytes.com/iphone-8-solar-powered-vision-ocr-server/iphone-8-battery-health-ocr-server.jpeg" alt="iPhone 8 Battery Health After OCR Server Usage"/>
</p>
<p>One unexpected discovery: the phone performs OCR faster when slightly warm (but not hot). Cold Canadian mornings mean slower processing times - something I never would have noticed with wall power.</p>
<h2 id="cost-analysis-solar-vs-grid-power">Cost Analysis: Solar vs Grid Power</h2>
<h3 id="investment-and-operating-costs">Investment and Operating Costs</h3>
<p><strong>Initial Investment:</strong></p>
<ul>
<li>EcoFlow River 2 Pro: $599 CAD (bought for camping anyway)</li>
<li>220W Solar Panel: $180 CAD</li>
<li>Cables, mounting hardware: ~$50 CAD</li>
<li><strong>Additional solar investment</strong>: ~$230 CAD</li>
</ul>
<p><strong>Monthly Savings:</strong>
Based on actual EcoFlow data showing 37.4-45.8 kWh monthly consumption, I’m saving approximately $84-120 CAD annually. The payback period is about 2-3 years.</p>
<h3 id="comparison-with-cloud-ocr-services">Comparison with Cloud OCR Services</h3>
<p>Cloud OCR services typically charge $1.00-1.50 per 1,000 requests. With over 83,000 requests processed, cloud services would have cost me $83-125 CAD, plus privacy concerns about sending images to external servers.</p>
<p>My solar setup? Zero per-request costs and complete privacy.</p>
<h2 id="what-i-learned-after-a-year">What I Learned After a Year</h2>
<h3 id="reliability-surprises">Reliability Surprises</h3>
<p><strong>The hardware is incredibly reliable.</strong> This phone has been running continuously for over a year, and it just keeps going. Performance hasn’t degraded noticeably despite the constant workload.</p>
<p><strong>iOS background processing works better than expected</strong> - once you figure out the right approach. The key is using background app refresh properly and keeping the HTTP server active with regular requests.</p>
<p><strong>Apple’s Vision framework improves over time.</strong> Text recognition that used to fail now works perfectly, especially with handwritten text and unusual fonts.</p>
<h3 id="common-problems-and-solutions">Common Problems and Solutions</h3>
<p><strong>Solar Power Intermittency:</strong> I configured the power station to prioritize the phone (lower power draw) and gracefully shut down the Mini PC when battery gets low. The phone can handle basic OCR requests solo for several hours if needed.</p>
<p><strong>Heat Management:</strong> Direct sunlight plus continuous processing equals thermal throttling. I added shade, improved airflow, and implemented smart processing that reduces requests when the phone reports high temperature.</p>
<p><strong>iOS Background Limitations:</strong> iOS really doesn’t want apps running forever. I use background app refresh, minimal location services, and keep the HTTP server responding to requests. It’s a delicate balance between staying alive and preserving battery.</p>
<h2 id="why-this-actually-matters">Why This Actually Matters</h2>
<p>Beyond the obvious coolness factor, this project demonstrates several important principles:</p>
<p><strong>Privacy First:</strong> Every image stays on my devices. No cloud uploads, no third-party access. In an era where everything gets sent to someone else’s computer, truly local processing feels revolutionary.</p>
<p><strong>Energy Independence:</strong> While the savings aren’t life-changing, the principle matters. This proves meaningful computing workloads can run entirely on renewable energy, even in challenging climates.</p>
<p><strong>E-Waste Reduction:</strong> That phone was destined for a drawer. Now it’s a productive member of my tech ecosystem. How many old devices could be repurposed instead of becoming electronic waste?</p>
<p><strong>Local-First Computing:</strong> Not everything needs to be in the cloud. Sometimes the best solution is sitting right in front of you, powered by the sun, processing your data locally and privately.</p>
<p>The setup has become my go-to demonstration for visitors interested in renewable energy or local computing. Plus, I genuinely love glancing at my window sill and seeing real-time processing stats while watching birds at my feeders.</p>
<h2 id="resources-and-next-steps">Resources and Next Steps</h2>
<p>If you’re interested in building something similar:</p>
<h3 id="hardware">Hardware</h3>
<ul>
<li><a href="https://us.ecoflow.com/products/river-2-pro-portable-power-station">EcoFlow River 2 Pro</a> - The power station I use</li>
<li><a href="https://www.renogy.com/100-watt-12-volt-monocrystalline-solar-panel/">Renogy 100W Solar Panel</a> - Similar to my setup</li>
<li>Any iPhone 8 or newer with iOS 13+ for Vision framework support</li>
</ul>
<h3 id="software-resources">Software Resources</h3>
<ul>
<li><a href="https://developer.apple.com/documentation/vision">Apple Vision Framework Documentation</a> - Official OCR implementation docs</li>
<li><a href="https://developer.apple.com/documentation/backgroundtasks">Background App Refresh Guide</a> - Keeping iOS apps alive</li>
<li><a href="https://github.com/Building42/Telegraph">SwiftUI HTTP Server Examples</a> - HTTP server implementation</li>
</ul>
<h3 id="power-management-tools">Power Management Tools</h3>
<ul>
<li><a href="https://www.kasasmart.com/">TP-Link Kasa Smart Plugs</a> - For monitoring actual power consumption</li>
<li>EcoFlow app - Built-in monitoring for the River 2 Pro</li>
<li><a href="https://gearscouts.com">GearScouts.com</a> - Price comparison for power stations and outdoor gear</li>
</ul>
<p><em>This article was last updated while watching my solar-powered setup process its 83,418th OCR request, powered entirely by Canadian sunshine.</em></p>


    </div></div>
  </body>
</html>
