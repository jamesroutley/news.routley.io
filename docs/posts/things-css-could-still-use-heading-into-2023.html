<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://chriscoyier.net/2022/12/21/things-css-could-still-use-heading-into-2023/">Original</a>
    <h1>Things CSS could still use heading into 2023</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>Just a couple of ideas! They came to me while I was poking around thinking of something to say for Alex Trost’s Holiday Mega-Stream (<a href="https://youtu.be/pqEa284Mr-Y?t=12800">my segment starts here</a>).</p>
<h2>Styleable Resizers</h2>
<p>Ya know how a <code>&lt;textarea&gt;</code> is resizeable by default? </p>
<figure></figure>
<p>That’s a nice default. If users are typing, they should have some control over how much space they have to do it. <strong>This type of resizing isn’t limited to <code>&lt;textarea&gt;</code>. You can make anything resizeable </strong>so long as it’s not an <code>inline</code> element and it has <code>overflow: hidden;</code>. </p>
<pre aria-describedby="shcb-language-1" data-shcb-language-name="CSS" data-shcb-language-slug="css"><p><code><span>div</span><span>.resizeable</span> {
  <span>overflow</span>: hidden;
  <span>resize</span>: both;
}</code></p><small id="shcb-language-1"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>There is also some degree of control. If the <code>direction</code> changes to <code>rtl</code>, the resizing happens from the bottom left (inline-start block-end) direction instead. You can scope the resizing to one direction with <code>resize: vertical || horizontal</code> — or turn it off with <code>none</code>. </p>
<p>What you <em>can’t</em> do is style it <em>in any way</em>. Well, you could position some element on top of it with <code>pointer-events: none</code>, but that’s a weak workaround that doesn’t, for example, affect the interactive area.</p>
<p>That’s too bad, as styling form controls has come a long way, and that’s essentially what this is. Lemme make that resizer match the other styling decisions on my site! </p>
<p>Most importantly, though, I want to be able to move and resize it. I’d like it if, say, I’m making a <code>resize: horizontal</code> element, that the entire inline direction edge is a drag handle. If this was possible it would reduce as much need for heavy JavaScript libraries that help with this.</p>
<div>
<figure><a href="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?ssl=1"><img data-attachment-id="7914" data-permalink="https://chriscoyier.net/2022/12/21/things-css-could-still-use-heading-into-2023/screenshot-2022-12-21-at-10-00-12-am/" data-orig-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?fit=606%2C288&amp;ssl=1" data-orig-size="606,288" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot-2022-12-21-at-10.00.12-AM" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?fit=300%2C143&amp;ssl=1" data-large-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?fit=606%2C288&amp;ssl=1" decoding="async" src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?resize=287%2C136&amp;ssl=1" alt="" width="287" height="136" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?w=606&amp;ssl=1 606w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?resize=300%2C143&amp;ssl=1 300w" data-lazy-sizes="(max-width: 287px) 100vw, 287px" data-lazy-src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-10.00.12-AM.png?resize=287%2C136&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a><figcaption>It would be nice to make that entire orange bar a drag handle.</figcaption></figure></div>
<p>And speaking of <code>resize: horizontal</code>, shouldn’t <code>resize: inline</code> (and <code>resize: block</code> respectively) work?</p>
<p>That resize handle is a thing that appears in Shadow DOM, as best as I know. Just like number incrementers of a <code>type=&#34;number&#34;</code> input, or the track and handle of a <code>type=&#34;range&#34;</code> input. We have been able to reach in there to style things, but it’s always been fraught. See <a href="https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/">A Sliding Nightmare: Understanding the Range Input</a> by Ana Tudor. </p>
<p>It may be that the standards organizations don’t want to specify Shadow DOM implementations, so the implementing browser has some freedom. But that’s putting browsers ahead of authors ahead of users. This is something that would make things better for users, and authors want to do it, so let’s put them over browsers. </p>
<figure><figcaption>CSS should be able to make a middle dragger bar like this.</figcaption></figure>
<h2>Flowable Regions</h2>
<p>With <code>columns</code> in CSS, you can make text that flows into multiple columns. But this comes with some pretty extreme limitations. </p>
<figure><a href="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?ssl=1"><img data-attachment-id="7930" data-permalink="https://chriscoyier.net/2022/12/21/things-css-could-still-use-heading-into-2023/screenshot-2022-12-21-at-1-37-01-pm/" data-orig-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?fit=1678%2C1206&amp;ssl=1" data-orig-size="1678,1206" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot-2022-12-21-at-1.37.01-PM" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?fit=300%2C216&amp;ssl=1" data-large-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?fit=1024%2C736&amp;ssl=1" decoding="async" width="1024" height="736" src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?resize=1024%2C736&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?resize=1024%2C736&amp;ssl=1 1024w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?resize=300%2C216&amp;ssl=1 300w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?resize=768%2C552&amp;ssl=1 768w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?resize=1536%2C1104&amp;ssl=1 1536w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?w=1678&amp;ssl=1 1678w" data-lazy-sizes="(max-width: 1000px) 100vw, 1000px" data-lazy-src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.37.01-PM.png?resize=1024%2C736&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a></figure>
<p>All the columns have to be of equal width, for one, and you can’t force an element across multiple columns naturally, which is awfully restrictive. Worse, you can’t tell the content where to flow after it “fills” the columns — the area either grows in height or overflows. A situation where a user needs to scroll down to read, then scroll back up to read the next column is unacceptable UX.</p>
<p>Now that we have strong <code>grid</code> layout, <strong>allowing content to flow naturally to a defined arrangement of elements placed on the grid</strong> would be very nice. I should be able to do this:</p>
<figure><a href="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?ssl=1"><img data-attachment-id="7917" data-permalink="https://chriscoyier.net/2022/12/21/things-css-could-still-use-heading-into-2023/magazine-template-cmfjed2/" data-orig-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?fit=850%2C663&amp;ssl=1" data-orig-size="850,663" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;1617197435&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="magazine-template-CMFJED2" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?fit=300%2C234&amp;ssl=1" data-large-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?fit=850%2C663&amp;ssl=1" decoding="async" src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?resize=548%2C427&amp;ssl=1" alt="Magazine layout, with arrows on it indicating how a grid layout should flow." width="548" height="427" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?w=850&amp;ssl=1 850w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?resize=300%2C234&amp;ssl=1 300w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?resize=768%2C599&amp;ssl=1 768w" data-lazy-sizes="(max-width: 548px) 100vw, 548px" data-lazy-src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/magazine-template-CMFJED2.jpg?resize=548%2C427&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a><figcaption>Not hard to imagine this kind of thing as a web layout.</figcaption></figure>
<p>Circa 2014, Adobe took this up as a pet project. This was an absolutely perfect project for them, as doing this kind of thing in an app like InDesign is, well, the point of using an app like InDesign, which is used for just a massive swath of all design headed for printing. </p>
<p>Then the “father of CSS” <a href="https://alistapart.com/blog/post/css-regions-considered-harmful/">swooped and pooped all over it</a> with a bunch of arguments that I thought were dumb and bad then and I think are dumb and bad now. </p>
<p>It looks like <a href="https://drafts.csswg.org/css-regions-1/">the spec has been picked up as of 2021</a> again, and I love to see it. </p>
<pre aria-describedby="shcb-language-2" data-shcb-language-name="CSS" data-shcb-language-slug="css"><p><code><span>#this</span> {
  <span>flow-into</span>: my-flow;
}

<span>#there</span> {
  <span>flow-from</span>: my-flow;
}</code></p><small id="shcb-language-2"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<h2>Standardized Multi-Line Truncation</h2>
<p>Did you know all browsers now support truncating text to a certain number of lines? I wouldn’t blame you if you didn’t, because it needs all this code to work:</p>
<pre aria-describedby="shcb-language-3" data-shcb-language-name="CSS" data-shcb-language-slug="css"><p><code><span>.line-truncate</span> {
  <span>display</span>: -webkit-box;
  <span>-webkit-box-orient</span>: vertical;
  <span>-webkit-line-clamp</span>: <span>3</span>;
  <span>overflow</span>: hidden;
}</code></p><small id="shcb-language-3"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>That’s wild. That’s a very ancient flexbox syntax and an invented line clamping syntax all vendor-prefixed up, plus an awkward required bonus requirement (the hidden <code>overflow</code>) which has sucky side effects (sorry, no <code>box-shadow</code> for you!). </p>
<p>I’d prefer:</p>
<pre aria-describedby="shcb-language-4" data-shcb-language-name="HTTP" data-shcb-language-slug="http"><p><code><span>line-clamp</span>: 3;</code></p><small id="shcb-language-4"><span>Code language:</span> <span>HTTP</span> <span>(</span><span>http</span><span>)</span></small></pre>
<p>Browsers can clearly do it! Make it easy! </p>
<h2>Mixins &amp; Extends</h2>
<p>It would be nice to say <em>hey selector, do all the same styling as this other selector</em>. Sass does that like:</p>
<pre aria-describedby="shcb-language-5" data-shcb-language-name="JavaScript" data-shcb-language-slug="javascript"><p><code>.some-selector {
  <span>padding</span>: <span>1</span>rem;
  border: <span>1</span>px solid black;
  border-radius: <span>5</span>vmin;
}

.some-other-selector {
  @extend .some-selector;
}

</code></p><small id="shcb-language-5"><span>Code language:</span> <span>JavaScript</span> <span>(</span><span>javascript</span><span>)</span></small></pre>
<p>The trouble with that is those selectors might be in very different places in the Sass, and what you are extending doesn’t necessarily have to match the same specificity, so there are some real source order and specificity challenges with it. The browser could do extends much more naturally, essentially embracing the <em>hey selector, do all the same styling as this other selector</em> spirit without all the awkward compromises.</p>
<p>Alternatively, mixins could be like this:</p>
<pre aria-describedby="shcb-language-6" data-shcb-language-name="PHP" data-shcb-language-slug="php"><p><code>@mixin stuff-to-reuse {
  padding: <span>1</span>rem;
  border: <span>1</span>px solid black;
  border-radius: <span>5</span>vmin;
}

.whatever {
  @<span>include</span> stuff-to-resuse;
}</code></p><small id="shcb-language-6"><span>Code language:</span> <span>PHP</span> <span>(</span><span>php</span><span>)</span></small></pre>
<p>With Custom Properties, we wouldn’t even really need to ability to pass in parameters to a mixin because you could use the selector scope for <code>--whatever-you-want</code>.</p>
<p>Weird twist… Style Queries will kinda be able to do this. Take that multi-line clamping idea… it could be done like this:</p>
<pre aria-describedby="shcb-language-7" data-shcb-language-name="CSS" data-shcb-language-slug="css"><p><code><span>@container</span> style(<span>--clamp:</span> <span>3</span>) {
  <span>.card</span> {
    <span>display</span>: -webkit-box;
    <span>-webkit-box-orient</span>: vertical;
    <span>-webkit-line-clamp</span>: <span>3</span>;
    <span>overflow</span>: hidden;
  }
}

<span>.random-element-with-a-card</span> {
  <span>--clamp</span>: <span>3</span>;
}</code></p><small id="shcb-language-7"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>That feels a lot like a mixin to me. But I’d prefer a more direct syntax. I also think we essentially need <em>either</em> mixins or extends, probably not both. </p>
<h2>Single-Line Truncation from Either Side</h2>
<p>Apparently, truncation is on my mind. You can also truncate a single line. Also requires multiple properties:</p>
<pre aria-describedby="shcb-language-8" data-shcb-language-name="CSS" data-shcb-language-slug="css"><p><code><span>.single-line-trucation</span> {
  <span>overflow</span>: hidden;
  <span>white-space</span>: nowrap;
  <span>text-overflow</span>: ellipsis;
}</code></p><small id="shcb-language-8"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>This time it doesn’t really bother me. Maybe dropping the <code>overflow: hidden</code> requirement would be nice, but having to stop the wrapping for single-line overflow is fair.</p>
<p>Here’s the problem, though: this will only trigger the ellipsis on the <code>inline-end</code> side of the element. You can’t tell it to truncate from the other side.</p>
<figure><a href="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?ssl=1"><img data-attachment-id="7931" data-permalink="https://chriscoyier.net/2022/12/21/things-css-could-still-use-heading-into-2023/screenshot-2022-12-21-at-1-56-50-pm/" data-orig-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?fit=1610%2C548&amp;ssl=1" data-orig-size="1610,548" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot-2022-12-21-at-1.56.50-PM" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?fit=300%2C102&amp;ssl=1" data-large-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?fit=1024%2C349&amp;ssl=1" decoding="async" width="1024" height="349" src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?resize=1024%2C349&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?resize=1024%2C349&amp;ssl=1 1024w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?resize=300%2C102&amp;ssl=1 300w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?resize=768%2C261&amp;ssl=1 768w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?resize=1536%2C523&amp;ssl=1 1536w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?w=1610&amp;ssl=1 1610w" data-lazy-sizes="(max-width: 1000px) 100vw, 1000px" data-lazy-src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.56.50-PM.png?resize=1024%2C349&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a></figure>
<p>This matters, as what if the “important part” of the text is actually at the end? Like, say, a file path.</p>
<figure><a href="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?ssl=1"><img data-attachment-id="7932" data-permalink="https://chriscoyier.net/2022/12/21/things-css-could-still-use-heading-into-2023/screenshot-2022-12-21-at-1-59-20-pm/" data-orig-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?fit=1640%2C540&amp;ssl=1" data-orig-size="1640,540" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot-2022-12-21-at-1.59.20-PM" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?fit=300%2C99&amp;ssl=1" data-large-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?fit=1024%2C337&amp;ssl=1" decoding="async" width="1024" height="337" src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?resize=1024%2C337&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?resize=1024%2C337&amp;ssl=1 1024w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?resize=300%2C99&amp;ssl=1 300w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?resize=768%2C253&amp;ssl=1 768w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?resize=1536%2C506&amp;ssl=1 1536w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?w=1640&amp;ssl=1 1640w" data-lazy-sizes="(max-width: 1000px) 100vw, 1000px" data-lazy-src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2022/12/Screenshot-2022-12-21-at-1.59.20-PM.png?resize=1024%2C337&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a></figure>
<p>You can “trick” an individual element to truncate on the other side by reversing the <code>direction</code>, but, ehhh, that doesn’t seem like a good plan for text that isn’t actually in that direction (I gotta imagine there are bad accessibility implications to that). </p>
<h2>Animate to Auto</h2>
<p>You cannot truly smoothly animate from <code>height: 0</code> to <code>height: auto</code>. This is a huge bummer as something like an accordion design pattern has arbitrary height content in the panels and should be able to contract to zero then expand out to “whatever the natural height is” in a consistently-timed and smooth way.</p>
<pre aria-describedby="shcb-language-9" data-shcb-language-name="CSS" data-shcb-language-slug="css"><p><code><span>.this-should-just-work</span> {
  <span>height</span>: <span>0</span>;
  <span>transision</span>: height <span>1s</span>;
}
<span>.this-should-just-work</span><span>[data-open]</span> {
  <span>height</span>: auto;
}</code></p><small id="shcb-language-9"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>There are poor ways around this, like animating <code>max-height</code> instead (no smooth ending, have to guess at sizing) or using JavaScript to animate instead. CSS should be able to do it. It can’t be that hard, right?!</p>
<p>Weirdly enough, there is a pure CSS trick today involving animating <code>grid-template-rows</code>. Here it is. Start with a wrapper to set the grid on:</p>
<pre aria-describedby="shcb-language-10" data-shcb-language-name="HTML, XML" data-shcb-language-slug="xml"><p><code><span>&lt;<span>div</span> <span>class</span>=<span>&#34;content&#34;</span>&gt;</span>
  <span>&lt;<span>div</span> <span>class</span>=<span>&#34;inside&#34;</span>&gt;</span>
    Totally arbitrary content! 
  <span>&lt;/<span>div</span>&gt;</span>
<span>&lt;/<span>div</span>&gt;</span></code></p><small id="shcb-language-10"><span>Code language:</span> <span>HTML, XML</span> <span>(</span><span>xml</span><span>)</span></small></pre>
<p>Then set it up like this:</p>
<pre aria-describedby="shcb-language-11" data-shcb-language-name="CSS" data-shcb-language-slug="css"><p><code><span>.content</span> {
  <span>display</span>: grid;
  <span>grid-template-rows</span>: <span>0</span>fr;
  <span>transition</span>: <span>1s</span>;
  <span>overflow</span>: hidden;
}
<span>.content</span> <span>.inside</span> {
  <span>min-height</span>: <span>0</span>;
}
<span>.content</span><span>.expanded</span> {
  <span>grid-template-rows</span>: <span>1</span>fr;
}</code></p><small id="shcb-language-11"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>So all you gotta do is toggle the class <code>expanded</code> on the parent wrapper there and it’ll work.</p>

<p>I was just messing around with this the other day when I noticed the “dynamic island” on iOS can morph to whatever needed size too, so I made a demo of that:</p>

<h2>Nesting</h2>
<p>Clearly.</p>
</div></div>
  </body>
</html>
