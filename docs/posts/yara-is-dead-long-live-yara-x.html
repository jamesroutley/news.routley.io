<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://virustotal.github.io/yara-x/blog/yara-is-dead-long-live-yara-x/">Original</a>
    <h1>YARA is dead, long live YARA-X</h1>
    
    <div id="readability-page-1" class="page"><div><p>For over 15 years, <a href="https://github.com/VirusTotal/yara">YARA</a> has been growing
and evolving until it became an indispensable tool in every malware researcher’s
toolbox. Throughout this time YARA has seen numerous updates, with new features
added and countless bugs fixed. But today, I’m excited to announce the biggest
change yet: a full rewrite.</p><p>YARA-X is a completely new implementation of YARA in Rust, and it has the
following goals:</p><ul><li><p><strong>Better user experience</strong>: The new command-line interface is more modern and
colorful, and error reports are now more explicative. More features aimed at
improving the user’s experience will be incorporated in the future.</p></li><li><p><strong>Rule-level compatibility</strong>: While achieving 100% compatibility is tough, our
aim is to make YARA-X 99% compatible with YARA at the rule level.
Incompatibilities should be minimal and thoroughly documented.</p></li><li><p><strong>Improved performance</strong>: YARA is known for its speed, but certain rules,
especially those utilizing regular expressions or complex loops, can slow it
down. YARA-X excels with these rules, often delivering significantly faster
results. Our ultimate goal is for YARA-X to outperform YARA across the board.</p></li><li><p><strong>Enhanced reliability and security</strong>: YARA’s complexity in C code can lead to
bugs and security vulnerabilities. YARA-X is built with Rust, offering greater
reliability and security.</p></li><li><p><strong>Developer-friendly</strong>: We’re prioritizing ease of integration into other
projects and simplified maintenance. Official APIs for Python, Golang, and C
are provided to facilitate seamless integration. YARA-X also addresses
some of the design flaws that made YARA challenging to maintain and extend.</p></li></ul><h2 id="why-a-rewrite">Why a rewrite?</h2><p>Was a complete rewrite necessary to achieve such goals? This question lingered
in my mind for a long time before deciding to rewrite YARA. Rewriting is
risky, it introduces new bugs, backward compatibility issues, and doubles the
maintenance efforts, since legacy code doesn’t disappear after launching the new
system. In fact, the legacy system may be still in use for years, if not
decades.</p><p>However, I believe a rewrite was the right decision for multiple reasons:</p><ul><li><p>YARA is not a large project, it’s a medium-size project that lacks subsystems
or components large enough to be migrated in isolation. Incremental migration
to Rust was impractical because large portions of the code are interconnected.</p></li><li><p>The improvements I envisioned required significant design changes.
Implementing these in the existing C codebase would involve extensive
rewrites, carrying the same risks as starting fresh with Rust.</p></li><li><p>After a year of working on the project, I’ve found Rust easier to maintain
than C. Rust offers stronger reliability guarantees and simplifies integrating
third-party code, especially for multi-platform projects.</p></li></ul><h2 id="is-yara-really-dead">Is YARA really dead?</h2><p>Despite the dramatic title of this post, YARA is not actually dead. I’m aware
that many people and organizations rely on YARA to get important work done, and
I don’t want to let them down.</p><p>YARA is still being maintained, and future releases will include bug fixes and
minor features. However, don’t expect new large features or modules. All efforts
to enhance YARA, including the addition of new modules, will now focus on
YARA-X.</p><h2 id="whats-the-current-state-of-yara-x">What’s the current state of YARA-X?</h2><p>YARA-X is still in beta, but is mature and stable enough for use, specially
from the command-line interface or one-shot Python scripts. While the APIs may
still undergo minor changes, the foundational aspects are already established.</p><p>At VirusTotal, we have been running YARA-X alongside YARA for a while, scanning
millions of files with tens of thousands of rules, and addressing discrepancies
between the two. This means that YARA-X is already battle-tested. These tests
have even uncovered YARA bugs!</p><p>Please test YARA-X and don’t hesitate
to <a href="https://github.com/VirusTotal/yara-x/issues/new">open an issue</a> if you find
a bug or some feature that you want to see implemented.</p><h2 id="whats-next">What’s next?</h2><p>My aim is to surpass YARA in every possible aspect with YARA-X. I want it to be
so superior that existing YARA users willingly migrate to YARA-X for its
undeniable advantages, not because they are forced to do so.</p><p>Publishing a beta version is only the first step towards this goal. I’ll
continue to enhance YARA-X, releasing updates and sharing insights through blog
posts like this one.</p><p>Stay tuned, because this journey has only just begun.</p></div></div>
  </body>
</html>
