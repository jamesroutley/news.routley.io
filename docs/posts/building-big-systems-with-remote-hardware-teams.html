<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://oxide.computer/blog/building-big-systems-with-remote-hardware-teams">Original</a>
    <h1>Building big systems with remote hardware teams</h1>
    
    <div id="readability-page-1" class="page"><div><div><div>
  <div id="content">
    <div id="preamble">
<div>
<p>The product we’re building, a rack-scale computer, is specifically designed to
be a centralized, integrated product because that’s what our customers need.
This requirement and the design choices we’ve made to meet this need
create some daily efficiency challenges for our team. As a remote-first company,
we’re designing this product with team members (including the hardware team)
across most North American time zones and even multiple continents, so a large
portion of our team is not going into the office/lab every day for hands-on
access to &#34;production&#34; hardware. At first blush, the design of our product and
the design of our team appear to conflict at some level: we value remote work,
but we can’t ship entire racks to the homes of our teammates for both practical
and economic reasons.</p>
<p>Our racks are rather inconvenient for a home installation: over 2.3 m (7.7&#39;)
tall, very heavy, and have 3-phase power inputs that aren’t usable in a typical
residential setting. Aside from the logistical challenges of a home
installation, there’s also the actual cost: these are expensive, and
outfitting each remote team member with a full, or even partially populated,
rack is economically infeasible. Further, a racked target is not terribly useful
for development, as accessing them for debugging is challenging: we
have no externally accessible debugging interfaces or other things that can be
repurposed as such because our customers don’t want that stuff! We can (and do!)
travel some to get hands-on with a full system, but it became clear early on in
the development cycle that we needed more convenient ways of being productive
remotely.</p>
<p>Remote productivity on this design is a multi-faceted problem and the solution
includes robust remote access to fully-built and partially built systems back
at HQ, but that alone does not address all the needs.</p>
<p>This post will deal more with the philosophy we have developed around our
non-product board designs as we’ve learned what works for us on our journey
through remote development. Some of these tools have become pivotal in
increasing our remote efficiency, especially early in the design cycle when the
&#34;real&#34; systems weren’t very functional and remote accessibility was limited.
For more board-by-board specifics, check out a great
<a href="https://oxide.computer/podcasts/oxide-and-friends/1173990">Oxide and Friends
episode</a> where we talked through the genesis of many of
these designs. With many of our team members who designed these
boards on-hand, it was a great discussion and a lot of fun talking about the
role prototypes have played in facilitating our actual product design.</p>
</div>
</div>
<div>
<h2 id="_not_a_distraction_from_real_product_design">Not a distraction from &#34;real&#34; product design</h2>
<div>
<p>We fully believe that these small designs, most of which end up taking around a
week of engineering time to design, have <strong>radically</strong> accelerated or augmented
our &#34;real&#34; product designs. I detail a couple of specific examples of how this
prototype hardware helped us, from enabling software work before any &#34;real&#34;
hardware existed, to prototyping circuits like our multiplexed QSPI flash
design. Specifically for the QSPI design, the initial circuit just did not work
like we expected and using these boards we were able to quickly (and
inexpensively!) iterate on the design, directly informing the work on our &#34;real&#34;
designs, and in this case, likely saving a spin of our production hardware that
wouldn’t have worked. We were even able to connect our SPI mux to extant
development hardware from AMD and validate our assumptions before building a
server sled. The Oxide and Friends episode mentioned above covers some of these
and other stories in more detail.</p>
<p>Our team fully embraces toolmaking up and down the stack: it informs many of our
design choices and directions. Bryan recently gave a
<a href="https://www.p99conf.io/session/sharpening-the-axe-the-primacy-of-toolmaking/">talk</a>
on the concept, and this is yet another application of it. Just like software
teams build tools to help build software, we’re building hardware tools to help
build hardware and software.</p>
<p>To emphasize how pervasive this culture is in our company,
<a href="https://discord.com/channels/1042492311080288306/1064708202962354258/1064736636077867078">Dan</a>
made a great point during the Oxide and Friends chat:</p>
<div>
<blockquote>
Anyone in the company is empowered to do this.
</blockquote>
</div>
<p>We don’t need approval or sign-off, we just go do what’s right for Oxide, and I
think this quote from
<a href="https://www.linkedin.com/feed/update/urn:li:activity:7022200431799934976?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28V2%2Curn%3Ali%3Aactivity%3A7022200431799934976%29">Aaron</a>
really sums up our team’s viewpoint:</p>
<div>
<blockquote>
Investments in tools pay off long-term and often faster than you’d think!
</blockquote>
</div>
<p>We’ve seen time and time again the effort put into these small boards has paid
back big dividends in team productivity, development ease, and bug chasing.</p>
</div>
</div>
<div>
<h2 id="_why_we_needed_custom_hardware_vs_off_the_shelf_development_boards">Why we needed custom hardware vs off-the-shelf development boards</h2>
<div>
<p>There are multiple aspects to our need for custom hardware. First, the custom
designs supplement our use of off-the-shelf (OTS) hardware. We use <strong>many</strong>
off-the-shelf development boards and even provide
<a href="https://github.com/oxidecomputer/hubris#flash">support</a> for a number of these
boards in <a href="https://github.com/oxidecomputer/hubris">Hubris</a>. These are great for
many use-cases, but less great when we are trying to model specific circuits or
subsystems of our product designs. Second, we have numerous examples of custom
boards that were built simply because we could find no useful OTS alternative:
boards like the Dimmlet (I<sup>2</sup>C access to DDR4 SPD EEPROMs) and the K.2 (U.2 →
PCIEx4 CEM breakout) fall into this category.</p>

  <div>
    <p><img srcset="https://oxide-computer.imgix.net//img/blog/small-boards/dimmlet.webp?w=700 700w, https://oxide-computer.imgix.net//img/blog/small-boards/dimmlet.webp?w=1400 1400w, https://oxide-computer.imgix.net//img/blog/small-boards/dimmlet.webp?w=2100 2100w" sizes="(min-width: 600px) 700px, 1400px, 2100px" src="https://oxide.computer/img/blog/small-boards/dimmlet.webp" alt="Narrow PMOD-interface board for interfacing with the SPD EEPROMs on the two installed DDR4 DIMMs"/></p><p>Narrow PMOD-interface board for interfacing with the SPD EEPROMs on the two installed DDR4 DIMMs</p>
  </div>
  

  <div>
    <p><img srcset="https://oxide-computer.imgix.net//img/blog/small-boards/k2r2.webp?w=700 700w, https://oxide-computer.imgix.net//img/blog/small-boards/k2r2.webp?w=1400 1400w, https://oxide-computer.imgix.net//img/blog/small-boards/k2r2.webp?w=2100 2100w" sizes="(min-width: 600px) 700px, 1400px, 2100px" src="https://oxide.computer/img/blog/small-boards/k2r2.webp" alt="PCIe U.2 connector to PCIe x4 CEM connector extender board"/></p><p>PCIe U.2 connector to PCIe x4 CEM connector extender board</p>
  </div>
  
</div>
</div>
<div>
<h2 id="_thriftiness_in_practice">Thriftiness in practice</h2>
<div>
<p>While this strategy of developing prototypes touches on many Oxide values (as
discussed below), Thriftiness deserves special attention. Making inexpensive
hardware has never been easier! Quick-turn PCB houses, both offshore and
onshore, have achieved incredibly low cost while maintaining high quality. We
had 50 K.2r2 PCBs with impedance control and a framed stencil fabricated for
&lt;$400USD. For something so simple (BOM count &lt;10 parts) we built these in-house
using an open-source pick and place machine (Lumen PNP from
<a href="https://opulo.io/">Opulo</a>), and a modified toaster oven with a
<a href="https://www.whizoo.com/controleo3">Controleo3</a> controller. We’ve also done
hot-plate reflow and hand assembly. And while we will outsource assembly when it
makes sense due to complexity or volume, for these simple, low volume designs,
we see real benefits in self-building: we can build as few or as many as we
want, do immediate bring-up and feed any rework directly into the next batch,
and there’s no overhead in working with a supplier to get kitted parts there,
quotes, questions etc. A good example of this was on the Dimmlet: I messed up
the I<sup>2</sup>C level translator circuit by missing the chip’s requirements about
which side was connected to the higher voltage. Since I was hand-assembling
these, I built one, debugged it, and figured out the rework required to make it
function. Since this rework included flipping the translator and cutting some
traces, catching this issue on the first unit made reworking the remaining ones
<strong>before</strong> going through assembly much easier.</p>
<p>All of that to say, the cost of building small boards is really low. A single
prototype run that saves a &#34;real&#34; board re-spin pays for itself immediately.
Enabling software development before &#34;real&#34; hardware lands pays for itself
immediately. Even when things don’t work out, the cost of failure is low; we
lost a few hundred dollars and some engineering time, but learned something in
the process.</p>
<p>Because of this low cost, we can use a &#34;looser&#34; design process, with fewer
tollgates and a less formal review/approval process. This lowers the
engineering overhead required to execute these designs. We can have more
informal reviews, a light-weight (if any) specification and allow design
iteration to happen naturally. Looking at the designs, we have multiple examples
of design refinement like the K.2r2 which improved on the electrical and
mechanical aspects of the original K.2, and a refinement to the sled’s bench
power connector boards resulting in a more compact and ergonomic design that
improves mating with sleds in their production sheet metal.</p>
</div>
</div>
<div>
<h2 id="_experience_and_the_evolution_of_our_strategy">Experience and the evolution of our strategy</h2>
<div>
<p>Early in our company’s history, the team built out a development platform,
named the Gemini Bring-up board, representing the core of the embedded
design for our product-- our Gemini complex (Service Processor + Root of Trust</p>

  <div>
    <p><img srcset="https://oxide-computer.imgix.net//img/blog/small-boards/gemini.webp?w=700 700w, https://oxide-computer.imgix.net//img/blog/small-boards/gemini.webp?w=1400 1400w, https://oxide-computer.imgix.net//img/blog/small-boards/gemini.webp?w=2100 2100w" sizes="(min-width: 600px) 700px, 1400px, 2100px" src="https://oxide.computer/img/blog/small-boards/gemini.webp" alt="First custom Oxide hardware with SP"/></p><p>First custom Oxide hardware with SP and RoT</p>
  </div>
  
<p>A re-imagining of what would be most useful gave way to the Gimletlet, a major
work-horse for in-house development, designed (and initially hot-plate reflowed) by
Cliff. The Gimletlet is essentially a development board using the STM32H7 part
that we’re using as our Service Processor (SP) in our product. It provides power
and basic board functionality including a couple of LEDs, and a dedicated
connector for a network breakout card, and breaks out most of the remaining I/O
to PMOD-compatible headers. This choice has been key to enabling a very modular
approach to prototyping, recognizing that less is more when it comes to
platforms. The Gimletlet design means that we can build purpose-built interface
cards without needing to worry about network connectivity or processor support,
simplifying the design of the interface cards and able to share a core board
support package.</p>

  <div>
    <p><img srcset="https://oxide-computer.imgix.net//img/blog/small-boards/gimletlet.webp?w=700 700w, https://oxide-computer.imgix.net//img/blog/small-boards/gimletlet.webp?w=1400 1400w, https://oxide-computer.imgix.net//img/blog/small-boards/gimletlet.webp?w=2100 2100w" sizes="(min-width: 600px) 700px, 1400px, 2100px" src="https://oxide.computer/img/blog/small-boards/gimletlet.webp" alt="Custom STM32H7 board with I/O breakout to many PMOD interfaces"/></p><p>Custom STM32H7 board with I/O breakout to many PMOD interfaces</p>
  </div>
  
<p>Our team has learned that modularity is key to making these small proto-boards
successful. It does mean workspaces can get a little messy with a bunch of
boards connected together, but we’ve found this to be a good balance, allowing
our team members to cobble together a small, purpose-built system that meets
their specific needs, and allows us to easily share these common, low-cost
setups to our distributed team. The modularity also means that storing them is
relatively easy as they can be broken down and stashed in small boxes.</p>

  <div>
    <p><img srcset="https://oxide-computer.imgix.net//img/blog/small-boards/gimletlet-and-periphs.webp?w=700 700w, https://oxide-computer.imgix.net//img/blog/small-boards/gimletlet-and-periphs.webp?w=1400 1400w, https://oxide-computer.imgix.net//img/blog/small-boards/gimletlet-and-periphs.webp?w=2100 2100w" sizes="(min-width: 600px) 700px, 1400px, 2100px" src="https://oxide.computer/img/blog/small-boards/gimletlet-and-periphs.webp" alt="Gimletlet with Igntionlet"/></p><p>Gimletlet with Igntionlet, SPI MUx, Dimmlet, RoTCarrierCarrier, and RoTCarrier connected</p>
  </div>
  
</div>
</div>
<div>
<h2 id="_our_values_tie_ins">Our values tie-ins</h2>
<div>
<p>There are some obvious <a href="https://oxide.computer/principles#values">values</a> tie-ins like teamwork and
thriftiness as already mentioned, but as I started writing this section I
realized we hit more of our values than I had even realized. Rather than attempt
to enumerate each one, I wanted to hit on some maybe less-obvious ones:</p>
<div>
<ul>
<li>
<p>Humor: The silkscreens on our boards contain jokes, word-play and other
silliness because we enjoy making our co-workers laugh and want our work to be
fun too. The funny silkscreen is often snuck in post-review, and thus
a surprise to co-workers as they open the finished hardware.
Engineering demands creativity — I’ve worked at places where silliness baked
into a board would be frowned upon, but at Oxide it is supported and even
encouraged! This enables team members to bake a little bit of their personality
into these designs, while allowing the rest of the team to have fun as it’s
discovered.</p>
</li>
</ul>
</div>

  <div>
    <p><img srcset="https://oxide-computer.imgix.net//img/blog/small-boards/gemini-rot-zoom.webp?w=700 700w, https://oxide-computer.imgix.net//img/blog/small-boards/gemini-rot-zoom.webp?w=1400 1400w, https://oxide-computer.imgix.net//img/blog/small-boards/gemini-rot-zoom.webp?w=2100 2100w" sizes="(min-width: 600px) 700px, 1400px, 2100px" src="https://oxide.computer/img/blog/small-boards/gemini-rot-zoom.webp" alt="Gemini Bring up board with silkscreen riffing on Root of Trust vs Route of Trust vs Newt of Trust as well as pointing out the untrustworthiness of vendor boot ROMs"/></p><p>Preview of Gemini Bring up board</p>
  </div>
  
<div>
<ul>
<li>
<p>Rigor/Urgency: We often find Rigor and Urgency in tension with each other,
but in this case, they are complementary. The time from concept to ordering of
a PCB on some of these designs is measured in hours or days, not weeks. Being
able to move quickly from a paper concept to a physical manifestation of that
concept in real hardware has been instrumental in grounding our assumptions and
informing our designs. We’re able to quickly iterate in areas where we have
questions, driving resolution without holding up the rest of the design. This
work directly contributes to better architecture and circuit design decisions
in our &#34;real&#34; designs.</p>
</li>
<li>
<p>Transparency/Responsibility/Teamwork: We believe in openness, including our
own designs, so we’re opening up the various proto-board design repositories
for reference and hope that something there is useful in your own hardware
endeavors. These designs are things that we wished existed and so created them,
some of these may be a bit specific for our use-cases, but there are some
generally useful things there too. These are mostly KiCAD designs and support
for them is &#34;as-is&#34; since we’re focused on getting our product out the door,
but feel free to reach out in the repo with questions and we’ll attempt to
answer on a best-effort basis.</p>
</li>
</ul>
</div>
</div>
</div>
<div>
<h2 id="_our_open_source_hardware_repos">Our open source hardware repos</h2>

</div>
  </div>
  </div></div></div></div>
  </body>
</html>
