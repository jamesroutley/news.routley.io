<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2024/10/11/macos_15_is_unix/">Original</a>
    <h1>Apple macOS 15 Sequoia is officially Unix</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p><span>Explainer</span> Apple&#39;s latest OS release is the newest member of the Open Group list of officially verified UNIX variants – by quite some margin.</p>
<p>Apple macOS 15 Sequoia <a target="_blank" href="https://www.apple.com/cm/newsroom/2024/09/macos-sequoia-is-available-today-bringing-apple-intelligence-updates-to-safari-and-more-to-mac/" rel="nofollow">appeared in mid-September</a> and is an official, compliant version of UNIX™, but that may not mean exactly what you think. For instance, macOS does not use any AT&amp;T source code – &#34;Unix&#34; stopped meaning that way back in 1993 when Novell bought UNIX from Bell Labs, as we discussed early last year when we announced that <a target="_blank" href="https://www.theregister.com/2023/01/17/unix_is_dead/">Unix is dead</a>.</p>
<p>Shortly after the release of Sequoia, news surfaced regarding <a target="_blank" href="https://www.theregister.com/2024/09/23/security_in_brief/">some security software breakages</a> followed by the first update, <a target="_blank" href="https://support.apple.com/en-us/120283" rel="nofollow">version 15.0.1</a>, earlier this month. The arrival of 15.0.1 was followed by a couple of other events. One is not very significant at all. A day or so later, <em>The Reg</em> FOSS desk&#39;s MacBook Air started offering the update.</p>

    

<p>The other is of a little more significance to the wider world – if only slightly. Sequoia <a target="_blank" href="https://www.osnews.com/story/140868/macos-15-0-now-unix-03-certified/" rel="nofollow">showed up</a> as the newest entry on the Open Group&#39;s Register of <a target="_blank" href="https://www.opengroup.org/openbrand/register/" rel="nofollow">UNIX® Certified Products</a>. In fact, it has both the number one and two spots because there are separate entries for the <a target="_blank" href="https://www.opengroup.org/openbrand/register/brand3710.htm" rel="nofollow">Apple Silicon version</a> and the <a target="_blank" href="https://www.opengroup.org/openbrand/register/brand3715.htm" rel="nofollow">x86-64 version</a>. There&#39;s no particular significance to the order, but if Apple continues to pay for the certification, at some point the x86-64 version will fall off the list when Apple stops supporting its Intel-powered kit.</p>
<h3>Unix is just a newer name for POSIX</h3>
<p>It&#39;s not about the code. It hasn&#39;t been for more than 30 years, since Novell bought the original Unix from AT&amp;T. Really, what UNIX™ certification means now is what used to be called &#34;POSIX compatible&#34; – an abbreviation <a target="_blank" href="https://stallman.org/articles/posix.html" rel="nofollow">coined by</a> Richard Stallman, as it happens.</p>
<p>POSIX is essentially a set of compatibility specifications and tests, including having the right tools present in the right locations. So long as they are there, an OS can pass the test, which is how systems such as IBM&#39;s z/OS mainframe operating system are on the list. z/OS is a distant descendant of <a target="_blank" href="https://wiki.ucc.asn.au/MVS" rel="nofollow">IBM&#39;s 24-bit MVS for the System/370 mainframe</a> from 1974, which is at heart not much more similar to Unix than an Apple II running ProDOS.</p>

        


        

<p>That&#39;s why a young Linus Torvalds asked the <code>comp.os.minix</code> newsgroup on the third of July 1991:</p>

<p>The POSIX standard has evolved over the years, and interestingly enough, Apple is only claiming <a target="_blank" href="https://unix.org/version3/" rel="nofollow">UNIX 03</a> from 2002. A single product, IBM AIX 7, <a target="_blank" href="https://www.opengroup.org/openbrand/register/brand3658.htm" rel="nofollow">boasts</a> compatibility with version 4 of the standard, branded <a target="_blank" href="https://unix.org/unixv7.html" rel="nofollow">UNIX® V7</a> – AKA POSIX.1-2008.</p>
<p>The standard has continued to evolve since then. The version 4 specification was <a target="_blank" href="https://unix.org/version4/" rel="nofollow">last revised</a> in 2018, and there&#39;s a <a target="_blank" href="https://pubs.opengroup.org/onlinepubs/9799919799/" rel="nofollow">2024 version</a> as well. Nobody much seems to pay attention any more, which is fair enough. The world has moved on from proprietary Unix, and now that all the significant Unix-like OSes are either FOSS or freeware, you can add any missing bits without paying.</p>
<p>For instance, POSIX resolved the differences between various archiving tools by adding a new command, called <a target="_blank" href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html" rel="nofollow">pax</a>, that could handle all the main formats. It&#39;s a hybrid of <code>tar</code> and <code>cpio</code>, and most Linux distros don&#39;t include it because existing tools can handle the files. Lacking a <code>pax</code> command means an OS isn&#39;t compliant with POSIX-1.2001 or later, but nobody cares anymore.</p>
<h3>So what makes an OS Unix-like?</h3>
<p>If you don&#39;t need to use any of the original AT&amp;T source code, and even the handful of companies who continue to pay for official Unix certification don&#39;t bother to aim at compliance with the latest versions of POSIX, then what makes an OS Unix-like?</p>
<p>Taking a much more high-level view, what constitutes a Unix is that it looks like Unix, it behaves like Unix, and you can port programs written for Unix to it without major modification.</p>

        

<p>The core of macOS is close enough to qualify. It uses a kernel called XNU (which, ironically, stands for &#34;XNU is Not Unix&#34;), and a user-land mostly derived from BSD code. XNU is based on the <a target="_blank" href="https://codex.cs.yale.edu/avi/os-book/OS9/appendices-dir/b.pdf" rel="nofollow">Mach kernel</a> [PDF]. Specifically, after Apple bought NeXT, it updated the <a target="_blank" href="https://en.wikipedia.org/wiki/XNU#Mach" rel="nofollow">Mach components</a> of the NeXTstep kernel with the enhanced version from <a target="_blank" href="https://betawiki.net/wiki/OSF/1" rel="nofollow">DEC OSF/1</a> (later <a target="_blank" href="https://www.theregister.com/1999/11/04/compaq_to_offer_tru64_cheap/">marketed as Compaq Tru64</a>). It also has a large in-kernel &#34;Unix server&#34; derived from BSD code – meaning that the industry&#39;s most famous and successful microkernel OS isn&#39;t really a true microkernel at all.</p>
<ul>

<li><a href="https://www.theregister.com/2024/10/10/version_76_openbsd_of_theseus/">Version 7.6 – the &#39;OpenBSD of Theseus&#39; – released</a></li>

<li><a href="https://www.theregister.com/2024/10/09/thunderbird_for_android_beta/">Thunderbird for Android is go – at least the beta is</a></li>

<li><a href="https://www.theregister.com/2024/10/08/switching_from_linux_to_bsd/">Switching customers from Linux to BSD because boring is good</a></li>

<li><a href="https://www.theregister.com/2024/10/07/xfce_420_and_mint_221/">Xfce 4.20 creeps toward Wayland support while Mint 22.1 polishes desktop routine</a></li>
</ul>
<p>On top of that, the &#34;user-land&#34; – the text-mode stuff underneath the GUI, the various commands, shells, and so on – is mostly open source, and much of it comes from BSD. For instance, the <a target="_blank" href="https://github.com/apple-oss-distributions/xnu/tree/main" rel="nofollow">XNU kernel</a> is on GitHub, as are <a target="_blank" href="https://github.com/apple-oss-distributions" rel="nofollow">large chunks</a> of macOS and iOS. It&#39;s the GUI layers, the visible parts that make it look pretty, that are proprietary; those are the bits mostly written in Objective-C and more recently Swift.</p>
<p>Apple used to make a mostly standalone version of these lower layers of the OS available as a project called Darwin, and there were several distros that tried to complete it using bits from other FOSS OSes, such as <a target="_blank" href="https://www.macintoshrepository.org/16940-opendarwin" rel="nofollow">OpenDarwin</a> and <a target="_blank" href="https://www.puredarwin.org/" rel="nofollow">PureDarwin</a>. For us, one of the more interesting projects was <a target="_blank" href="https://github.com/NextBSD/NextBSD" rel="nofollow">NextBSD</a>, which went the other way. It kept the FreeBSD kernel, but modified it so that it could use some of Apple&#39;s higher-level code, such as <a target="_blank" href="https://www.launchd.info/" rel="nofollow">launchd</a>, Apple&#39;s next-generation init system. In other words, Cupertino&#39;s equivalent of systemd.</p>
<p>Apple announced that it would acquire NeXT Computer at the end of 1996, and in October 1997 released a preview of its next-generation OS called <a target="_blank" href="http://www.rhapsodyos.org/misc/what_is/what_is_1.html" rel="nofollow">Rhapsody</a>. Rhapsody was effectively <a target="_blank" href="http://rhapsodyos.org/" rel="nofollow">NeXTstep 5</a>. In 1999, it became <a target="_blank" href="https://betawiki.net/wiki/Mac_OS_X_Server_1.0" rel="nofollow">Mac OS X Server 1.0</a>, still <a target="_blank" href="https://www.macintoshrepository.org/1449-mac-os-x-server-1-x-rhapsody-" rel="nofollow">visibly NeXTstep-like</a>. That evolved into <a target="_blank" href="https://www.theregister.com/2000/12/07/macos_x/">Mac OS X 1.0 in 2000</a>.</p>
<p>NeXTstep – the capitalization <a target="_blank" href="https://blog.pizzabox.computer/posts/hp712-nextstep-part-1/" rel="nofollow">changed a few times</a> – became OPENSTEP, which became Rhapsody, then Mac OS X Server, Mac OS X, and then just OS X with <a target="_blank" href="https://www.theregister.com/2012/07/25/first_look_apple_mac_os_x_10_8_mountain_lion/">10.8 Mountain Lion</a>, and as of <a target="_blank" href="https://www.theregister.com/2016/10/03/apple_automatic_installs_of_macos_sierra/">10.12 Sierra</a>, it was <a target="_blank" href="https://www.theregister.com/2016/10/14/apples_macos_sierra_update/">simply macOS</a>. But it&#39;s recognizably the same OS as <a target="_blank" href="http://toastytech.com/guis/ns08.html" rel="nofollow">NeXTstep 0.8</a>, as demonstrated by a young Steve Jobs in 1988. ®</p>

        

<p>
  <a href="https://www.youtube.com/watch?v=92NNyd3m79I" data-media="x-videoplayer">Youtube Video</a>
</p>
<h3>Bootnote: So, all in C?</h3>
<p>No, it doesn&#39;t even <em>have</em> to be implemented in C. <a target="_blank" href="https://www.theregister.com/2022/03/31/serenityos/">Serenity OS</a> is implemented in C++, and <a target="_blank" href="https://www.theregister.com/2022/11/29/redox_os_version_08/">Redox OS</a> is written in Rust, and both are very Unix-like. To go to extremes, both C++ and Rust are curly bracket languages in the wider C family, but <a target="_blank" href="https://dl.acm.org/doi/10.1145/1041466.1041467" rel="nofollow">TUNIS, the Toronto University System</a>, was a <a target="_blank" href="https://gunkies.org/wiki/Unix_Seventh_Edition" rel="nofollow">Unix Seventh Edition</a>-compatible OS implemented in <a target="_blank" href="https://dl.acm.org/doi/10.1145/947923.947931" rel="nofollow">Concurrent Euclid</a>, a variant of Pascal.</p>                                


                    </div></div>
  </body>
</html>
