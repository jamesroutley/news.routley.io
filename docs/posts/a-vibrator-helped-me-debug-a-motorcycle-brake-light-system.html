<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bikesafe.me/blogs/news/how-a-vibrator-helped-me-debug-a-motorcycle-brake-light-system">Original</a>
    <h1>A vibrator helped me debug a motorcycle brake light system</h1>
    
    <div id="readability-page-1" class="page"><div id="MainContent" role="main" tabindex="-1">
      <section id="shopify-section-template--24856220205438__main">

<article><div>
            <p><img srcset="
                  //bikesafe.me/cdn/shop/articles/BrakeBright_PCBs_on_bench_vib2_dece094d-2307-4332-a6be-4fe222553231.jpg?v=1756138798&amp;width=350 350w,
                  //bikesafe.me/cdn/shop/articles/BrakeBright_PCBs_on_bench_vib2_dece094d-2307-4332-a6be-4fe222553231.jpg?v=1756138798&amp;width=750 750w,
                  //bikesafe.me/cdn/shop/articles/BrakeBright_PCBs_on_bench_vib2_dece094d-2307-4332-a6be-4fe222553231.jpg?v=1756138798&amp;width=1100 1100w,
                  //bikesafe.me/cdn/shop/articles/BrakeBright_PCBs_on_bench_vib2_dece094d-2307-4332-a6be-4fe222553231.jpg?v=1756138798&amp;width=1500 1500w,
                  
                  
                  //bikesafe.me/cdn/shop/articles/BrakeBright_PCBs_on_bench_vib2_dece094d-2307-4332-a6be-4fe222553231.jpg?v=1756138798 1920w
                " sizes="(min-width: 1600px) 1500px, (min-width: 750px) calc(100vw - 10rem), 100vw" src="https://bikesafe.me/cdn/shop/articles/BrakeBright_PCBs_on_bench_vib2_dece094d-2307-4332-a6be-4fe222553231.jpg?v=1756138798&amp;width=1100" loading="eager" fetchpriority="high" width="1920" height="1080" alt="How a Vibrator Helped Me Debug a Motorcycle Brake Light System"/>
            </p>
          </div><header>
          <span><time datetime="2025-08-25T15:59:40Z">August 25, 2025</time></span></header><div>
          <p>I wrote about how BrakeBright came to be in my previous blog post, &#34;<a rel="noopener" href="https://bikesafe.me/blogs/news/my-quest-to-make-motorcycle-riding-that-tad-bit-safer" target="_blank">My Quest to Make Motorcycle Riding Safer...</a>&#34;. Give it a read if you&#39;re curious about the backstory. Since launch, riders from dozens of countries have picked up the device, and the feedback has been overwhelmingly positive.</p>
<p>This support drives me to keep improving it. That‚Äôs exactly why BrakeBright has a built-in USB port, to deliver firmware updates, new features, and performance improvements to every rider, for free.</p>
<p>Along with feedback from users, I‚Äôve been out testing the device myself. A few weeks back, I took a ride from Glasgow to Birmingham, mostly hammering down motorways. That trip helped resurface a specific edge case I‚Äôd seen before: at constant high speeds, the brake light would occasionally flicker briefly, even without any real slowing down. I had already tuned things to reduce this after shorter rides, but this long haul proved it wasn‚Äôt fully sorted. It was a rare false positive, but one worth chasing.</p>
<p><strong>Hardware is blind:</strong> The motion sensor is a dumb little chip, it doesn‚Äôt know squat about what‚Äôs actually going on. It just feels G-forces and spits out numbers. Whether that force is from braking, a pothole, or some sketchy engine buzz, the sensor treats it all the same.</p>
<p>So it‚Äôs up to me to decode that chaos. Early on, I tried not reacting to single spikes. Instead, I sampled over short windows and averaged the data. That helped cut down the noise from little bumps and jitter.</p>
<p>But averaging had flaws. One good hit from a pothole or a weird engine vibe could still skew everything. And the average isn‚Äôt a clean snapshot, it‚Äôs a mix, outliers and all. So while the data looked smoother, the false positives didn‚Äôt go away.</p>
<p>Then I tried a low pass filter. This smoothed things out even more, letting gradual changes through while cutting off sharp spikes. That helped a lot. Less twitchy, more stable.</p>
<p>Still, I wanted better. I switched to using the median instead of the average. The median ignores the outliers and shows you what‚Äôs happening in the middle of the data range. That gave me something way closer to the real ride behaviour. It made the system much tougher, especially at speed or over rough roads.</p>
<p>I was feeling good about that setup. On short test runs, it behaved exactly how I wanted. Then came that Glasgow to Birmingham ride, and that‚Äôs where things got real.</p>
<p><b>Sample Timing Matters: </b>Let‚Äôs say your engine‚Äôs spinning at 5000 RPM. On a 270-degree crank twin, that means the thing fires off pulses roughly every 9ms and 15ms. A full revolution takes 12ms. If the sensor polling lines up just right with those intervals, it starts syncing with the engine buzz instead of filtering it out. Suddenly, your brake light thinks you‚Äôre slowing down when you&#39;re actually just cruising.</p>
<p>So not only does the code need brains, it needs rhythm. Read the sensor too fast and you grab static. Too slow and you miss the good stuff. Get the timing wrong and you&#39;re chasing ghosts.</p>
<p>To dodge that sync trap, I added a bit of jitter to the sampling interval. Instead of checking the sensor on a perfect beat, the system now throws in a bit of randomness. This keeps it from falling into step with the engine pulses. That one tweak cut false positives even further.</p>
<p><strong>Sex </strong><strong>T</strong><strong>oy to </strong><strong>T</strong><strong>he </strong><strong>R</strong><strong>escue:</strong> Here‚Äôs the catch, real-world testing takes time. Motorway is an hour out from where I live. Each tweak meant hopping on the bike and carving out hours to test. I don‚Äôt mind the ride, but it slows down development.</p>
<p>So I needed a cheat code. Enter: a repurposed vibrator, No joke. I hooked it up to mimic the kind of high-frequency engine vibes you&#39;d get ripping down a motorway. It wasn‚Äôt pretty, but it worked. I could test tweaks right from my test bench.</p>
<p>One day, my wife hears this buzzing from my office and pokes her head in. I tell her I‚Äôm ‚Äútesting.‚Äù We both lose it laughing. Just one of those moments you don‚Äôt forget.</p>
<p><strong>The current solution:</strong> The jitter helped, but it wasn‚Äôt bulletproof. Then I realized something deeper, the sensor has its own built-in sample rate, 400 times per second. If I read it too quickly, I might just be grabbing the same number twice. No new data. And if that repeat looks like a sustained deceleration, the light fires.</p>
<p>So I stopped focusing just on when I sample, and looked at how I <em>trigger</em> the light.</p>
<p>Now, when the system sees signs of braking, it doesn‚Äôt flash right away. It waits just a moment to see if the reading holds or grows. If it does, then the light kicks in. This debounce delay is short, but enough to filter out garbage without slowing down legit signals.</p>
<p>And here‚Äôs where it gets smart: if the light turns on and shuts off in under a second, the system assumes it just saw a false positive as a real decelerating or braking event would last much longer than a second. It bumps up the debounce for next time. That usually means we‚Äôre riding through vibration hell and we should take our time to turn on the light.</p>
<p>But when things are smooth for a while, the debounce comes back down, keeping the system snappy when it‚Äôs safe to be.</p>
<p>BrakeBright has gotten sharper, faster, and a whole lot smarter, but the mission isn‚Äôt done. I‚Äôm still learning, still testing, still riding. Every update comes from real roads, real bugs, and a stubborn refusal to settle.</p>
<p>If you enjoyed this story, share it around. If you‚Äôre a rider, consider picking up a unit and supporting what I‚Äôm building. Your feedback fuels this thing and your brake light might just get smarter because of it.</p>
<h3 id="special-discount-for-readers-use-code-blog20-for-additional-20-off-your-order">
<strong>üì£Special Discountüì£:</strong> Use code <strong><code>BLOG20</code></strong> for additional <strong>20% off</strong> your order! üëáüëáüëá</h3>

        </div></article>




</section><section id="shopify-section-template--24856220205438__featured_product_N34XTi"><product-info data-section="template--24856220205438__featured_product_N34XTi" data-product-id="15003177681278" data-update-url="false" data-url="/products/dynamic-brake-light-controller-kit">
  
  
  
  
  
  
  
  

  
  

  


  <section>
    
  </section>

  


  
    
    
  
</product-info>


</section>
    </div></div>
  </body>
</html>
