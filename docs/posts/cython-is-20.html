<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://blog.behnel.de/posts/cython-is-20/">Original</a>
    <h1>Cython is 20</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody text">
    <p>Today, Cython celebrates its 20th anniversary!</p>
<p>On April 4th, 2002, Greg Ewing published the
<a href="https://mail.python.org/pipermail/python-list/2002-April/126661.html">first release of Pyrex 0.1</a>.</p>
<p>Already at the time, it was invented and designed as a compiler that extended
the Python language with C data types to build extension modules for CPython.
A design that survived the last 20 years, and that made
<a href="https://www.csse.canterbury.ac.nz/greg.ewing/python/Pyrex/">Pyrex</a>,
and then <a href="https://cython.org/">Cython</a>,
a major corner stone of the Python data ecosystem.
And way beyond that.</p>
<p>Now, on April 4th, 2022, its heir Cython is still very much alive and
serves easily hundreds of thousands of developers worldwide, day to day.</p>
<p>I&#39;m very grateful for Greg&#39;s ingenious invention at the time.
Let&#39;s look back at how we got to where we are today.</p>
<p>I came to use Python around the time when Pyrex was first written.
Python had already been around for a dozen years,
<a href="https://docs.python.org/3/whatsnew/2.2.html">version 2.2 was the latest</a>,
and had brought us <a href="https://www.python.org/download/releases/2.2.3/descrintro/">new style classes</a>
which represented a major redesign of the type system,
as well as the iterator protocol and even generators,
which you had to enable with <code>from __future__ import generators</code>,
because of potential conflicts with the new keyword <code>yield</code>.
There weren&#39;t many times in Python&#39;s history when that was necessary.
Amongst the greatest Python releases of all times, that was one of them.</p>
<p>Python 2.3 was in the makings, about to bring us another bunch of
<a href="https://docs.python.org/3/whatsnew/2.3.html">cool new features</a>
like <code>sum()</code>, <code>enumerate()</code> or sets as a data type in the standard library.</p>
<p>CPython already had its reputation of providing a large standard library,
and a whole set of third-party packages that added another heap of functionality –
although Perl&#39;s <a href="https://www.cpan.org/">CPAN</a> would easily cover all of it in its mere shadow.
There was no <code>pip install</code> anything at the time
(not even <a href="http://peak.telecommunity.com/DevCenter/EasyInstall">easy_install</a>),
no virtualenvs, no wheels
(and no <a href="http://peak.telecommunity.com/DevCenter/PythonEggs">eggs</a>), some form of binary
packages, but you&#39;d mostly <code>python setup.py build</code> your own software, especially on Linux.
Those were the days.</p>
<p>Many of the binary third-party packages at the time were hand-written using the bare C-API.
There was <a href="http://swig.org/">SWIG</a> for generating C wrappers for lots of languages, including Python.
It worked, it was actually great to be able to generate multiple wrappers from a single source.
But they all looked mostly the same, and making them work and feel well for each of the language environments was hard to impossible.
And few people really needed wrappers for more than the one language they used.
So, lots of people used the C-API, and CPython had a reputation of being easily extensible in C – assuming you knew C well enough.
And more and more Python users didn&#39;t.</p>
<p>In came Greg&#39;s idea of writing extension modules in Python.
Or in something that looked a lot like Python, with a few C-ish extensions.</p>
<p>I don&#39;t know how he came up with the name Pyrex, which is a
<a href="https://en.wikipedia.org/wiki/Pyrex">brand name</a>
for thermal-resistant glass
(<a href="https://en.wikipedia.org/wiki/Borosilicate_glass">originally invented here in Germany</a> in 1893).
But Pyrex clearly hit a nerve at the time and grew very quickly.
Within weeks and months, there was support not only for functions but for extension types,
and for a growing number of Python language features.</p>
<p>By the time I came to use Pyrex, it was already in a very attractive and feature rich state.
From the start, its unique selling point was to allow Python developers to write C code,
without having to write C code.
And that had made it the basis for large projects like <a href="https://www.sagemath.org/">Sage</a>,
for which it provided a critical software development infrastructure,
being the glue code between heaps of C/C++ math libraries and Python.</p>
<p>In 2004, Martijn Faassen took on a project (and he&#39;s good at taking on projects)
of making XML in Python actually usable.
There was support before, there was <a href="https://docs.python.org/3/library/xml.dom.minidom.html">minidom</a>,
there was <a href="http://pyxml.sourceforge.net/">PyXML</a> with an extended feature set.
But many XML features of the time were missing, the tools were memory hungry and slow,
and the DOM-API was far from anything Python users would fall in love with.</p>
<p>There was also a Python interface for <a href="https://gitlab.gnome.org/GNOME/libxml2/-/wikis/home">libxml2</a>,
a C library that covered a large part of the important XML technologies at the time.
With the caveat of mapping mostly its C-API to Python 1:1, and thus feeling excessively C-ish and
<a href="https://web.archive.org/web/20110902041836/http://diveintomark.org/archives/2004/02/18/libxml2">exotic</a>
to Python users, making it easy to trigger hard crashes at the same time.</p>
<p>There was another alternative, though: <a href="https://docs.python.org/3/library/xml.etree.elementtree.html">ElementTree</a>,
designed by the recently deceased Fredrik Lundh (thanks for all the fish, Fredrik).
It was not in the standard library at the time, it only got adopted there in Python 2.5 (together with SQLite), one and a half years later.
It was an external package based on the <a href="https://docs.python.org/3/library/pyexpat.html">pyexpat</a> parser,
and it provided a lovely pythonic API for XML processing.
But with even less features than minidom.</p>
<p>So, Martijn decided to bring it all together: the bunch of XML features from libxml2,
exposed in the pythonic, and already well established, interface of ElementTree.
And being a Python developer, wanting to design the interface from the Python point of view,
he chose Pyrex to implement that wrapper, and called it <a href="https://lxml.de/">lxml</a>.</p>
<p>I found the lxml project almost a year later, while looking for something that I could use as an extensible XML API.
I implemented some features for lxml to turn it into that, and along the way, made enhancements also to Pyrex.
Over the Pyrex mailing list, I got in touch with other developers who had their own more or less enhanced versions of Pyrex,
including <a href="https://github.com/robertwb">Robert Bradshaw</a>, one of the developers in the Sage project.
Eventually, in 2007, we decided to follow the example of the <a href="https://en.wikipedia.org/wiki/Apache_HTTP_Server">Apache web server</a>
in bringing together the scattered bunch of existing Pyrex patches into a new project.
William Stein from the Sage project came up with a good name, and the infrastructure to maintain it –
github.com wasn&#39;t launched yet, and we used the <a href="https://www.mercurial-scm.org/">Mercurial DVCS</a>.
Thus, the Cython project was born.</p>
<p>It was the beginning of a second, long success story.</p>
<p>In the early years, William Stein was able to provide funding to the Cython project from Sage&#39;s resources,
given how important Cython was for the development of the Sage Math package.
Cython was an integral part of the Sage development sprints called <a href="https://wiki.sagemath.org/dev1">Sage days</a>.
We participated in Google&#39;s Summer of Code events that brought us in touch with
<a href="https://github.com/dagss">Dag Sverre Seljebotn</a> and
<a href="https://github.com/markflorisson">Mark Florisson</a>,
both of whom moved Cython&#39;s integration with NumPy and data processing forward in large steps.
And the Sage project also sponsored a workshop in München (where I was living at the time)
so that we were able to sit together in person,
for the first time, discussing, designing and building many great features in Cython,
as well as major advances in the coverage of (then) more recent Python language features,
in which Vitja Makarov played an important role.</p>
<p>Over time, the <a href="https://cython.org/#community">list of contributors</a> to Cython grew longer and longer,
from large feature additions to small bug fixes and helpful documentation improvements.
In 2008, me and <a href="https://github.com/dalcinl">Lisandro Dalcín</a>
implemented support for Python 3.0 before it was even released,
just like Pyrex and Cython have followed CPython&#39;s development ever since they existed,
allowing users to easily adapt their extension modules to various C-API changes across (C)Python releases.
And in the other direction, some of the optimisations that CPython&#39;s own internal code generation tool
<a href="https://github.com/python/cpython/tree/main/Tools/clinic">argument clinic</a>
employs for fast Python function argument parsing, were adopted from Cython.</p>
<p>I remember discussions and cooperations with the CPython developers <a href="https://github.com/1st1">Yury Selivanov</a>
on async features and with <a href="https://github.com/vstinner">Victor Stinner</a>, <a href="https://github.com/encukou">Petr Viktorin</a>
or <a href="https://github.com/ncoghlan">Nick Coghlan</a> on Python C-API topics.
Several PyPy developers, including <a href="https://github.com/rlamy">Ronan Lamy</a> and <a href="https://github.com/mattip/">Matti Picus</a>,
have helped in word and code to improve the integration and stability between both tools.
The exchange with people from large and impactful projects like
<a href="https://numpy.org/">NumPy</a>, <a href="https://pandas.pydata.org/">Pandas</a> and the <code><span>scikit-*</span></code> family of tools
has always helped moving Cython in a user centric direction,
while giving me a warm feeling that it truly enables its users to get their work done.
And the emergence of complementary tools like
<a href="https://pybind11.readthedocs.io/en/stable/index.html">pybind11</a> or
<a href="https://numba.pydata.org/">Numba</a>
has helped to diversify the choices throughout the ecosystem in which Cython resides,
while only broadening the field without reducing the impact that the language and compiler has for its users.</p>
<p>Today, after 20 years of development, Cython is a modern programming language,
embedded in the Python language rather than the other way round,
but still extending it with C/C++ super powers.</p>
<p>We helped our users help their users through many exciting endeavours along the way,
<a href="https://numpy.org/case-studies/blackhole-image/">taking pictures of black holes</a>,
<a href="https://learnpython.com/blog/python-on-mars/">sending robots to Mars</a>,
<a href="https://www.youtube.com/watch?v=_1MSX7V28Po">scaling up Django websites to a thousand million users</a>,
<a href="https://climt.readthedocs.io/en/latest/">building climate models</a>,
analysing, processing and <a href="https://scikit-learn.org/">machine learning</a> of
<a href="https://spacy.io/">human text</a>,
<a href="https://scikit-image.org/">real world images</a>,
and <a href="https://pandas.pydata.org/">other data from countless areas</a>,
be it scientific, financial, economic, ecologic or probably any other type of data from small to large scale.</p>
<p>I&#39;m proud and happy to see how far Cython has come from its early beginnings.
And I&#39;m excited to continue seeing where it will go from here.</p>
<p>So, from New Zealand, from Europe and the Americas, from Asia, Australia and Africa,
to anywhere on Earth, and maybe Mars…</p>
<blockquote>
<p>Happy anniversary, Cython!</p>
</blockquote>
    </div></div>
  </body>
</html>
