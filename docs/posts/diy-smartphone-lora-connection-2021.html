<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.hackster.io/pulsartronic/diy-smartphone-lora-connection-bde258">Original</a>
    <h1>DIY Smartphone Lora Connection (2021)</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="text"><p>This project will help you create a connection between your phone and a LoRa module using the USB port and an Arduino Lilypad USB. There is an example chat app for point to point communication, and, you can modify it to make even a TTN sensor out of a smartphone :)</p><p><a href="https://twitter.com/pulsartronic" data-ha="{&#34;eventName&#34;:&#34;Clicked link&#34;,&#34;customProps&#34;:{&#34;value&#34;:&#34;Find us on Twitter&#34;,&#34;href&#34;:&#34;https://twitter.com/pulsartronic&#34;,&#34;type&#34;:&#34;story&#34;,&#34;location&#34;:&#34;story&#34;},&#34;clickOpts&#34;:{&#34;delayRedirect&#34;:true}}" rel="nofollow">Find us on Twitter</a></p><h3 id="toc-step-1--hardware-0"><span>Step 1: Hardware</span></h3>
<p>You can find all hardware elements here, or listed above.</p>
<p><span>You can chose between these two </span><strong>Atmega32U4 3.3v 8MHz</strong><span> models, although the black one seems to be a little bit better, the blue one stops working sometimes with my black phone ...</span></p>
<p><span>It is important to use </span><a href="https://en.wikipedia.org/wiki/USB_On-The-Go" data-ha="{&#34;eventName&#34;:&#34;Clicked link&#34;,&#34;customProps&#34;:{&#34;value&#34;:&#34;OTG&#34;,&#34;href&#34;:&#34;https://en.wikipedia.org/wiki/USB_On-The-Go&#34;,&#34;type&#34;:&#34;story&#34;,&#34;location&#34;:&#34;story&#34;},&#34;clickOpts&#34;:{&#34;delayRedirect&#34;:true}}" rel="nofollow">OTG</a><span> cable adapters</span></p>
<h3 id="toc-note-about-the-pcb--there-are-2-options--left-or-right-1"><span>Note about the PCB, there are 2 options, left or right.</span></h3>
<p>Choose one depending on what side you want to solder your chips</p><p>Since it is going to be in touch with your phone, I make use of a sandpaper and transparent tape to make it smoother and protect it from short circuits</p>
<p>there actually is transparent tape covering the contacts :)</p>
<h3 id="toc-step-2--software-2"><span>Step 2: Software</span></h3>
<p>Now you have to setup the Arduino  IDE, note that you can use any other framework you like. It is not   difficult but you have to do one or two things in order to compile the  project.</p><p><span>Code </span><a href="https://github.com/pulsartronic/USBRFMApp" data-ha="{&#34;eventName&#34;:&#34;Clicked link&#34;,&#34;customProps&#34;:{&#34;value&#34;:&#34;is hosted in github.com&#34;,&#34;href&#34;:&#34;https://github.com/pulsartronic/USBRFMApp&#34;,&#34;type&#34;:&#34;story&#34;,&#34;location&#34;:&#34;story&#34;},&#34;clickOpts&#34;:{&#34;delayRedirect&#34;:true}}" rel="nofollow">is hosted in github.com</a><span>,it is open source, feel free to contribute, reporting bugs or making suggestions would be great :)</span></p><p>Download it and open:</p><pre><code><span>ArduinoIDE/USBRFMApp/USBRFMApp/USBRFMApp.ino</span></code></pre><p><span>Change Sketchbook location under </span><strong>file --&gt; preferences</strong></p>
<p><span>If needed add additional boards under </span><strong>file --&gt; preferences</strong><span>... I&#39;ve been using:</span></p><pre><code><span>https://adafruit.github.io/arduino-board-index/package_adafruit_index.json</span></code></pre>
<p><span>Select your board under </span><strong>tools --&gt; Board</strong></p>
<p>It should now compile.</p><p>Now open:</p><pre><code><span>ArduinoIDE/USBRFMApp/USBRFMApp/Defaults.h</span></code></pre><p>Change the default values if needed, they are in hexadecimal, I hope you can handle them, upload it to your board and configure it using the android app.</p><h3 id="toc-android-app-interface-configuration-3"><span>Android app Interface Configuration</span></h3><p>Once it is all connected you  can open and configure your device using the app located at.</p><pre><code><span>USBRFMApp/USBRFMApp.v1.apk</span></code></pre><p><code>You</code><span> can use that one, compile one yourself or download it from </span><a href="https://play.google.com/store/apps/details?id=com.pulsartronic.usbrfmapp" data-ha="{&#34;eventName&#34;:&#34;Clicked link&#34;,&#34;customProps&#34;:{&#34;value&#34;:&#34;Google Play Store&#34;,&#34;href&#34;:&#34;https://play.google.com/store/apps/details?id=com.pulsartronic.usbrfmapp&#34;,&#34;type&#34;:&#34;story&#34;,&#34;location&#34;:&#34;story&#34;},&#34;clickOpts&#34;:{&#34;delayRedirect&#34;:true}}" rel="nofollow">Google Play Store</a></p><p><span>It could be possible to connect your browser directly to the USB port using the </span><a href="https://wicg.github.io/serial/" data-ha="{&#34;eventName&#34;:&#34;Clicked link&#34;,&#34;customProps&#34;:{&#34;value&#34;:&#34;Web Serial API&#34;,&#34;href&#34;:&#34;https://wicg.github.io/serial/&#34;,&#34;type&#34;:&#34;story&#34;,&#34;location&#34;:&#34;story&#34;},&#34;clickOpts&#34;:{&#34;delayRedirect&#34;:true}}" rel="nofollow">Web Serial API</a><span>, but at this time it is not mature enough and it does not work with phone browsers, that&#39;s why you have to use an Android app to access your USB port, it maybe changes in the future</span></p>
<p>The example chat program sends and receives encrypted messages using AES-256-CBC, the key depends on what room is configured under settings, use some secret room name for privacy, the same have to be configured in every device you want to chat with ... It is pretty easy...</p><h3 id="toc-step-3--custom-app-4"><span>Step 3: Custom App</span></h3><p>If you want to get rid of the chat system and read/write raw bytes from/to the RFM module open the Android Studio Project, edit the following file and add your logic.</p><pre><code><span>AndroidStudio/USBRFMApp/app/src/main/assets/USBRFMApp/app/App.js</span></code></pre>
<p>I hope it is clear enough</p><p><a href="https://twitter.com/pulsartronic" data-ha="{&#34;eventName&#34;:&#34;Clicked link&#34;,&#34;customProps&#34;:{&#34;value&#34;:&#34;Find us on Twitter&#34;,&#34;href&#34;:&#34;https://twitter.com/pulsartronic&#34;,&#34;type&#34;:&#34;story&#34;,&#34;location&#34;:&#34;story&#34;},&#34;clickOpts&#34;:{&#34;delayRedirect&#34;:true}}" rel="nofollow">Find us on Twitter</a></p></div></div>
  </body>
</html>
