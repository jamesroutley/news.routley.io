<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Yetangitu/Spodcast">Original</a>
    <h1>Show HN: Spodcast, a Spotify podcast to RSS proxy</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto"><em>Spodcast</em> is a caching <em>Spotify</em> podcast to RSS proxy. Using <em>Spodcast</em> you can follow <em>Spotify</em>-hosted netcasts/podcasts using any player which supports RSS, thus enabling the use of older hardware which is not compatible with the <em>Spotify</em> (web) app. <em>Spodcast</em> consists of the main <em>Spodcast</em> application - a Python 3 command line tool - and a PHP-based RSS feed generator. It uses the <em>librespot-python</em> library to access the Spotift API. To use <em>Spodcast</em> you need a (free) <em>Spotify</em> account.
<em>Spodcast</em> only supports the <em>Spotify</em> podcast service, it does not interface with the music streaming service.</p>
<h2 dir="auto"><a id="user-content-how-does-it-work" aria-hidden="true" href="#how-does-it-work"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How does it work</h2>
<p dir="auto"><em>Spotify</em> hosts podcasts through their proprietary API and does not offer an RSS feed, making it mandatory to use the <em>Spotify</em> (web) app to follow these shows. This makes it impossible to follow <em>Spotify</em>-hosted shows on any device which does not support the <em>Spotify</em> (web) app. <em><em>Spodcast</em></em> solves this problem by creating an RSS feed out of data returned through the <em>Spotify</em> podcast API. This feed can be served by any web server which supports PHP. By running <em><em>Spodcast</em></em> through a task scheduler (<em>cron</em> on *nix, <em>Task Scheduler</em> on Windows) the feed will be kept up to date without the need for intervention. Have a look at these glorious <em>ASCIIGraphsâ„¢</em> which should answer all unasked questions:</p>
<h3 dir="auto"><a id="user-content-spodcast-regularly-queries-spotify-for-new-episodes" aria-hidden="true" href="#spodcast-regularly-queries-spotify-for-new-episodes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><em>Spodcast</em> regularly queries <em>Spotify</em> for new episodes...</h3>
<div data-snippet-clipboard-copy-content="                  --------------
                 |task scheduler|
                  --------------
                        |             ___________
  -------   APIv1   ----V---         /           \
 |Spotify|- - - - &gt;|Spodcast|------&gt;| File system |
  -------           --------         \___________/"><pre><code>                  --------------
                 |task scheduler|
                  --------------
                        |             ___________
  -------   APIv1   ----V---         /           \
 |Spotify|- - - - &gt;|Spodcast|------&gt;| File system |
  -------           --------         \___________/
</code></pre></div>
<h3 dir="auto"><a id="user-content-you-want-to-listen-to-an-episode-using-your-old-unsupported-but-still-functional-phone" aria-hidden="true" href="#you-want-to-listen-to-an-episode-using-your-old-unsupported-but-still-functional-phone"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>You want to listen to an episode using your old, unsupported but still functional phone...</h3>
<div data-snippet-clipboard-copy-content="                                           _____         ............
   ___________          ----------        |     | . o O |bla bla bla.|
  /           \        |Web server|  RSS  | YOUR|        ````````````
 | File system |------&gt;|  + PHP   |------&gt;| OLD |
  \___________/         ----------        |PHONE|
                                          |_____|
"><pre><code>                                           _____         ............
   ___________          ----------        |     | . o O |bla bla bla.|
  /           \        |Web server|  RSS  | YOUR|        ````````````
 | File system |------&gt;|  + PHP   |------&gt;| OLD |
  \___________/         ----------        |PHONE|
                                          |_____|

</code></pre></div>
<p dir="auto">Thus, by the simple expedient of using a piece of code which produces another piece of code which is used by yet another piece of code to speak to that old, creaky but still functional phone the latter is saved from early forced retirement. You can both feel virtuous for not adding another piece of waste to the pile, provident for not spending funds on a new device which does the same as the old one, smart for escaping the trap of planned obsolescence and whatever other emotion you prefer, including none whatsover.</p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto"><em>Spodcast</em> can be installed from source by running <code>pip install .</code> from within the package root directory:</p>
<div data-snippet-clipboard-copy-content="$ git clone https://github.com/Yetangitu/spodcast.git
$ cd spodcast
$ pip install ."><pre>$ git clone https://github.com/Yetangitu/spodcast.git
$ <span>cd</span> spodcast
$ pip install <span>.</span></pre></div>
<p dir="auto">Once installed this way it can be uninstalled using <code>pip uninstall spodcast</code> if so required. If you&#39;re planning to use the RSS proxy and web UI you need to make sure the <code>spodcast</code> command is available to the web server user.</p>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">To use <em>Spodcast</em> you need a (free) <em>Spotify</em> account, if you don&#39;t have one yet you&#39;ll need to take care of that first at <a href="https://www.spotify.com/signup/" rel="nofollow">https://www.spotify.com/signup/</a> . If you plan to use the RSS proxy feature you&#39;ll also need a web server to serve the RSS feed(s), any server which supports PHP will do here. See <a href="#web-server-configuration">Web server requirements</a> for more information on how to configure the server.</p>
<p dir="auto">Here&#39;s <code>spodcast</code> displaying its help message:</p>
<div data-snippet-clipboard-copy-content="$ spodcast -h
usage: spodcast [-h] [-c CONFIG_LOCATION] [-p] [-l LOGIN] [--root-path ROOT_PATH]
                [--skip-existing SKIP_EXISTING] [--retry RETRY]
                [--max-episodes MAX_EPISODES] [--chunk-size CHUNK_SIZE]
                [--download-real-time DOWNLOAD_REAL_TIME] [--language LANGUAGE]
                [--credentials-location CREDENTIALS_LOCATION] [--rss RSS]
                [--log-level LOG_LEVEL]
                [urls ...]

A caching _Spotify_ podcast to RSS proxy.

positional arguments:
  urls                  Download podcast episode(s) from a url. Can take multiple urls.

optional arguments:
  -h, --help            show this help message and exit
  -c CONFIG_LOCATION, --config-location CONFIG_LOCATION
                        Specify the spodcast.json location
  -p, --prepare-feed    Installs RSS feed server code in ROOT_PATH.
  -l LOGIN, --login LOGIN
                        Reads username and password from file passed as argument and stores
                        credentials for later use.
  --root-path ROOT_PATH
                        set root path for podcast cache
  --skip-existing SKIP_EXISTING
                        skip files with the same name and size
  --retry RETRY         retry count for _Spotify_ API access
  --max-episodes MAX_EPISODES
                        number of episodes to download
  --chunk-size CHUNK_SIZE
                        download chunk size
  --download-real-time DOWNLOAD_REAL_TIME
                        simulate streaming client
  --language LANGUAGE   preferred content language
  --credentials-location CREDENTIALS_LOCATION
                        path to credentials file
  --rss RSS             add a (php) RSS feed server and related metadata for feed. To serve
                        the feed, point a web server at the spodcast root path as configured
                        using --root-path.
  --log-level LOG_LEVEL
                        log level (debug/info/warning/error/critical)"><pre><code>$ spodcast -h
usage: spodcast [-h] [-c CONFIG_LOCATION] [-p] [-l LOGIN] [--root-path ROOT_PATH]
                [--skip-existing SKIP_EXISTING] [--retry RETRY]
                [--max-episodes MAX_EPISODES] [--chunk-size CHUNK_SIZE]
                [--download-real-time DOWNLOAD_REAL_TIME] [--language LANGUAGE]
                [--credentials-location CREDENTIALS_LOCATION] [--rss RSS]
                [--log-level LOG_LEVEL]
                [urls ...]

A caching _Spotify_ podcast to RSS proxy.

positional arguments:
  urls                  Download podcast episode(s) from a url. Can take multiple urls.

optional arguments:
  -h, --help            show this help message and exit
  -c CONFIG_LOCATION, --config-location CONFIG_LOCATION
                        Specify the spodcast.json location
  -p, --prepare-feed    Installs RSS feed server code in ROOT_PATH.
  -l LOGIN, --login LOGIN
                        Reads username and password from file passed as argument and stores
                        credentials for later use.
  --root-path ROOT_PATH
                        set root path for podcast cache
  --skip-existing SKIP_EXISTING
                        skip files with the same name and size
  --retry RETRY         retry count for _Spotify_ API access
  --max-episodes MAX_EPISODES
                        number of episodes to download
  --chunk-size CHUNK_SIZE
                        download chunk size
  --download-real-time DOWNLOAD_REAL_TIME
                        simulate streaming client
  --language LANGUAGE   preferred content language
  --credentials-location CREDENTIALS_LOCATION
                        path to credentials file
  --rss RSS             add a (php) RSS feed server and related metadata for feed. To serve
                        the feed, point a web server at the spodcast root path as configured
                        using --root-path.
  --log-level LOG_LEVEL
                        log level (debug/info/warning/error/critical)
</code></pre></div>
<h3 dir="auto"><a id="user-content-using-spodcast-to-proxy-spotify-podcasts-to-rss" aria-hidden="true" href="#using-spodcast-to-proxy-spotify-podcasts-to-rss"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using <em>Spodcast</em> to proxy <em>Spotify</em> podcasts to RSS</h3>
<p dir="auto">The following example shows how to use the <code>spodcast</code> command to prepare the feed root directory and add a <em>Spotify</em> account to be used. It specifies the configuration file to create (<code>-c /mnt/audio/podcast/spodcast.json</code>) and the root path where podcasts will be downloaded to (<code>--root-path /mnt/audio/spodcast</code>). The <code>-p</code> option tells <em>spodcast</em> to prepare the RSS feed server in the root directory which will also be used to store the credential file created by the <code>-l spotify.rc</code> command. That <code>spotify.rc</code> file is a plain text file containing the username and password (separated by a single space character) to use to login to <em>Spotify</em>. It is only needed to create the stored credentials file(s) so it can be deleted once <em>Spotcast</em> is up and running.</p>
<div data-snippet-clipboard-copy-content="spodcast -c /mnt/audio/podcast/spodcast.json --root-path /mnt/audio/spodcast -p -l /home/exampleuser/spotify.rc"><pre><code>spodcast -c /mnt/audio/podcast/spodcast.json --root-path /mnt/audio/spodcast -p -l /home/exampleuser/spotify.rc
</code></pre></div>
<p dir="auto">Configure the <a href="#web-server-configuration">Web server</a> using the path given as root path (in this example that would be <code>/mnt/audio/spodcast</code>) as web root, making sure to exclude files with <code>.json</code> and <code>.info</code> extenstions to avoid leaking your <em>Spotify</em> credentials (even though these are stored in hashed form using hashed file names). Now point a browser at the site you configured for <em>Spodcast</em> and you&#39;re ready to add the first show or episode. This is done easily by entering the <em>Spotify</em> show/episode url (e.g. <code>https://open.spotify.com/show/4rOoJ6Egrf8K2IrywzwOMk</code> for <em>The Joe Rogan Experience</em> for the whole show, <code>https://open.spotify.com/episode/2rYwwE7hcpgsDo9vRVHxAI?si=24fb00294b7f40db</code> for a specific episode, notice the <code>show</code> and <code>episode</code> parts of these links) and either hitting <em>Enter</em> or clicking the <em>Add</em> button. <em>Spodcast</em> will now create a directory under the given root path, add the <code>.index.php</code> RSS feed generator script and the <code>index.info</code> show info URL used by that script and the RSS manager script and whatever episode(s) you decided to sync.</p>
<p dir="auto">Once the initial feed has been created it can be kept up to date by enabling the feed update service found in the <em>Settings</em> menu. Select the update frequency and the start time and click <em>Update</em>, this will create a <em>cron</em> job for the web server which will run the <em>Spodcast</em> manager script to update feeds. While the update frequency is configured for all shows simultaneously this is not the case for the number of episodes to <em>sync</em> and the number to <em>keep</em> in cache, these can be configured individually for each show. The idea here is that some shows may publish more than one episode between update intervals so by fetching the last X episodes on each update nothing will be missed. Episodes which have already been synced will not be synced again so no time or bandwidth is wasted. In the same vein the number of episodes to <em>keep</em> can be configured to make sure your RSS clients have the opportunity to download these before they are rotated out of cache. Once more than X (being the value chosen for <em>keep</em>) episodes have been downloaded the oldest episodes will be deleted to keep the total no more than X.</p>
<p dir="auto">Point your RSS clients at the <em>Spodcast</em> feed URL for this show and you should see new episodes appear after they were published on <em>Spotify</em> and subsequently picked up on the next update. For the example given in the <a href="#web-server-configuration">Web server requirements</a> example that URL would be <code>http://spodcast.example.org/The_Joe_Rogan_Experience</code>.</p>
<p dir="auto">Here&#39;s what the Spodcast feed manager looks like:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yetangitu/Spodcast/blob/master/resources/screenshots/spodcast_showing_a_list_of_shows_likely_to_disappear_from_spotify_sooner_or_later.png?raw=true"><img src="https://github.com/Yetangitu/Spodcast/raw/master/resources/screenshots/spodcast_showing_a_list_of_shows_likely_to_disappear_from_spotify_sooner_or_later.png?raw=true" alt="Spodcast feed manager" title="Spodcast feed manager"/></a></p>
<p dir="auto">...and on smaller screens it looks like this:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yetangitu/Spodcast/blob/master/resources/screenshots/spodcast_is_responsive.png?raw=true"><img src="https://github.com/Yetangitu/Spodcast/raw/master/resources/screenshots/spodcast_is_responsive.png?raw=true" alt="Spodcast feed manager on a small screen" title="Spodcast feed manager, vertical layout on smaller screens"/></a></p>
<p dir="auto">The settings screen is simple and concise:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yetangitu/Spodcast/blob/master/resources/screenshots/relevant_part_of_spodcast_settings_screen.png?raw=true"><img src="https://github.com/Yetangitu/Spodcast/raw/master/resources/screenshots/relevant_part_of_spodcast_settings_screen.png?raw=true" alt="Spodcast feed manager settings" title="Spodcast feed manager: Settings"/></a></p>
<p dir="auto">Each show has its own <em>sync</em> and <em>keep</em> settings. Use the <em>Delete</em> button to, well, delete the show. Use <em>Refresh</em> to retrieve the last [<em>sync</em>] episodes, skipping those which have already been synced.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Yetangitu/Spodcast/blob/master/resources/screenshots/sync_keep_delete_refresh.png?raw=true"><img src="https://github.com/Yetangitu/Spodcast/raw/master/resources/screenshots/sync_keep_delete_refresh.png?raw=true" alt="Show controls" title="Configure _sync_ and _keep_ settings for each show"/></a></p>
<h3 dir="auto"><a id="user-content-using-the-spodcast-cli-command-to-download-a-single-episode" aria-hidden="true" href="#using-the-spodcast-cli-command-to-download-a-single-episode"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using the <em>Spodcast</em> CLI command to download a single episode</h3>
<p dir="auto"><em>Spodcast</em> can also be used stand-alone (without the need for a web server) by either just ignoring the feed-related files (<code>.index.php</code>, <code>index.info</code> plus a <code>*.info</code> file for every episode) or by disabling the RSS feed using <code>--rss no</code> on the command line. Instead of using the <code>-l spotify.rc</code> command to add <em>Spotify</em> credentials it is possible to point <em>Spotcast</em> at a single <code>credentials.json</code> file (which will be created if it does not exist yet<code>), </code>spotcast will ask for the username and password when needed. To get single episode links use the <em>Spotify</em> web app and select <em>Share-&gt;Copy Episode Link</em> from the episode menu (three dots in the top-right corner of the episode block). The following example shows (an already configured instance of) <code>spodcast</code> ready to download a single episode:</p>
<div data-snippet-clipboard-copy-content="spodcast -c ~/.config/spodcast/spodcast.json --credentials-location ~/.config/spodcast/credentials.json --rss no https://open.spotify.com/episode/2rYwwE7hcpgsDo9vRVHxAI?si=24fb00294b7f40db"><pre><code>spodcast -c ~/.config/spodcast/spodcast.json --credentials-location ~/.config/spodcast/credentials.json --rss no https://open.spotify.com/episode/2rYwwE7hcpgsDo9vRVHxAI?si=24fb00294b7f40db
</code></pre></div>
<p dir="auto">Like in the previous example <em>Spodcast</em> will create a directory under the root path with the same name as the show from which the episode is downloaded. The episode will be downloaded into this directory under a <code>SHOW_NAME_-__EPISODE_NAME.[ogg|mp3]</code> name. Point a mediaplayer of choice at this file to play the episode.
In &#34;manual&#34; mode <em>Spodcast</em> does not do anything by itself, feeds can be kept up to date by running <em>Spotcast</em> with the required settings for <code>--max-episodes</code> (which is the value used for <em>sync</em> in the web UI) and the show URL. Here&#39;s how to update the <em>The Joe Rogan Experience</em> show using the <code>spodcast</code> CLI command, syncing the last 3 episodes:</p>
<div data-snippet-clipboard-copy-content="spodcast -c ~/.config/spodcast/spodcast.json --rss no --max-episodes 3 https://open.spotify.com/show/4rOoJ6Egrf8K2IrywzwOMk`"><pre><code>spodcast -c ~/.config/spodcast/spodcast.json --rss no --max-episodes 3 https://open.spotify.com/show/4rOoJ6Egrf8K2IrywzwOMk`
</code></pre></div>
<h2 dir="auto"><a id="user-content-web-server-configuration" aria-hidden="true" href="#web-server-configuration"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Web server configuration</h2>
<p dir="auto"><em>Spodcast</em> places a hidden <code>.index.php</code> file in the root path and each show directory. The one in the root directory is used to manage feeds while those in the show directories produce RSS feeds based on the information found in all <code>*.info</code> files in that directory. Configure the server to serve those <code>.index.php</code> files as index to make things work as intended. Don&#39;t forget to block all web access to files ending in <code>.json</code> and <code>.info</code> to make sure you <em>Spotify</em> credentials (which are stored in hashed form in files named <code>spodcast-cred-MD5_HASH_OF_SPOTIFY_USER_NAME.json</code> in the root path) can not be accessed. For <em>nginx</em> the following should suffice to produce an unencrypted (HTTP) feed under the domain name <code>spodcast.example.org</code> given a feed root directory (as configured using <code>--root-path</code>) of <code>/mnt/audio/spodcast</code> with <em>php-fpm 7.4</em> listening on <code>unix:/run/php/php7.4-fpm.sock</code>:</p>
<div data-snippet-clipboard-copy-content="server {
        listen 80;
        listen [::]:80;
        server_name spodcast.example.org;

        root /mnt/audio/spodcast;

        index .index.php;

        # these files should not be accessible
        location ~\.(json|info)$ {
                deny all;
                return 404;
        }

        location / {
                try_files $uri $uri/ =404;
        }

        location ~ \.php$ {
                include snippets/fastcgi-php.conf;
                fastcgi_pass unix:/run/php/php7.4-fpm.sock;
        }
}"><pre><code>server {
        listen 80;
        listen [::]:80;
        server_name spodcast.example.org;

        root /mnt/audio/spodcast;

        index .index.php;

        # these files should not be accessible
        location ~\.(json|info)$ {
                deny all;
                return 404;
        }

        location / {
                try_files $uri $uri/ =404;
        }

        location ~ \.php$ {
                include snippets/fastcgi-php.conf;
                fastcgi_pass unix:/run/php/php7.4-fpm.sock;
        }
}
</code></pre></div>
<p dir="auto">Examples for other web servers can be found elsewhere, this is basically a default PHP configuration with the only difference being that <code>.index.php</code> is a hidden file.</p>
</article>
        </div></div>
  </body>
</html>
