<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://deno.com/blog/kv-open-beta">Original</a>
    <h1>Deno KV Is in Open Beta</h1>
    
    <div id="readability-page-1" class="page"><div><p><a href="https://deno.com/kv" rel="noopener noreferrer">Deno KV</a> is the fastest, easiest way to add a strongly consistent database
to your application. It’s built right into the runtime so you can skip
configuration and dive right into coding:</p>
<figure>

<div><pre><span>const</span> kv <span>=</span> <span>await</span> <span>Deno</span><span>.</span><span>openKv</span><span>(</span><span>)</span><span>;</span></pre></div><figcaption>Add state with a single line of code — no need to provision a database or
copy/paste environmental variables.</figcaption>

</figure>

<p>Today, we’re excited to announce that <strong>Deno KV on Deno Deploy is now in open
beta</strong>. There’s no longer a waitlist so you can get access to Deno KV by simply
signing up for <a href="https://deno.com/deploy" rel="noopener noreferrer">Deno Deploy</a>. For those already using Deno Deploy, your
projects are automatically updated with KV access.</p>
<iframe width="100%" src="https://www.youtube.com/embed/GVtNU6MOa2c?si=nDneprHU-uct7Gxe" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>

<p>You can also watch our 2 minute video announcement summarizing this post.</p>

<p>Alongside our announcement, here are some other exciting updates about Deno KV
on Deno Deploy:</p>
<ul>
<li><a href="#connect-to-kv-from-outside-of-deno-deploy">Connect to KV from outside of Deno Deploy</a></li>
<li><a href="#pricing">Pricing</a></li>
<li><a href="#more-read-regions-for-lower-latency">More read regions for lower latency</a></li>
<li><a href="#more-powerful-atomic-operations">More powerful atomic operations</a></li>
<li><a href="#oauth-made-easy">OAuth made easy</a></li>
<li><a href="#key-ttl-with-expirein">Coming Soon: key TTL</a></li>
<li><a href="#s3-backups">Coming Soon: S3 backups</a></li>
<li><a href="#primary-region-selection">Coming Soon: primary region selection</a></li>
<li><a href="#whats-next">What’s next</a></li>
</ul>
<h2 id="connect-to-kv-from-outside-of-deno-deploy"><a aria-hidden="true" tabindex="-1" href="#connect-to-kv-from-outside-of-deno-deploy"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Connect to KV from outside of Deno Deploy</h2><p>To make it easier to explore, import, migrate, and update your KV data on Deno
Deploy, you can now connect directly to your KV instance from the command line.
Simply set
<a href="https://dash.deno.com/account#access-tokens" rel="noopener noreferrer">a Deno Deploy personal access token</a>
as the local environmental variable <code>DENO_KV_ACCESS_TOKEN</code> and pass your
database URL to <code>Deno.openKv()</code>:</p>
<div><pre><span>const</span> kv <span>=</span> <span>await</span> <span>Deno</span><span>.</span><span>openKv</span><span>(</span>
  <span>&#34;https://api.deno.com/databases/&lt;database-id&gt;/connect&#34;</span><span>,</span>
<span>)</span><span>;</span></pre></div><p>You can find your database ID, URL, and more information on how to connect to
your managed KV database from your Deno Deploy project page:</p>
<p><img src="https://deno.com/blog/kv-open-beta/connecting-to-kv-locally.png" alt="Connecting to your Deno KV locally" title=""/></p>
<p>Now it’ll be easier to import data into production, handle data migrations,
inspecting/modifying/exploring data manually, and hosting Deno apps on a
different platform with global Deno KV for storage:</p>
<div><pre>


<span>import</span> <span><span>{</span> <span>Semaphore</span> <span>}</span></span> <span>from</span> <span>&#34;https://deno.land/x/semaphore@v1.1.2/semaphore.ts&#34;</span><span>;</span>

<span>const</span> kv <span>=</span> <span>await</span> <span>Deno</span><span>.</span><span>openKv</span><span>(</span>
  <span>&#34;https://api.deno.com/databases/&lt;database-id&gt;/connect&#34;</span><span>,</span>
<span>)</span><span>;</span>
<span>const</span> concurrencyLimit <span>=</span> <span>20</span><span>;</span>
<span>const</span> sem <span>=</span> <span>new</span> <span><span>Semaphore</span></span><span>(</span>concurrencyLimit<span>)</span><span>;</span>

<span>for</span> <span>await</span> <span>(</span>
  <span>const</span> <span>{</span> key<span>,</span> value<span>,</span> versionstamp <span>}</span> <span>of</span> kv<span>.</span><span><span>list</span><span><span>&lt;</span><span>any</span><span>&gt;</span></span></span><span>(</span><span>{</span> prefix<span>:</span> <span>[</span><span>&#34;items&#34;</span><span>]</span> <span>}</span><span>)</span>
<span>)</span> <span>{</span>
  <span>if</span> <span>(</span><span>typeof</span> value<span>?.</span>createdAt <span>===</span> <span>&#34;number&#34;</span><span>)</span> <span>{</span>
    value<span>.</span><span>createdAt</span> <span>=</span> <span>new</span> <span><span>Date</span></span><span>(</span>value<span>.</span><span>createdAt</span><span>)</span><span>.</span><span>toISOString</span><span>(</span><span>)</span><span>;</span>
    <span>const</span> release <span>=</span> <span>await</span> sem<span>.</span><span>acquire</span><span>(</span><span>)</span><span>;</span>
    <span>(</span><span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
      <span>await</span> kv<span>.</span><span>atomic</span><span>(</span><span>)</span><span>.</span><span>check</span><span>(</span><span>{</span> key<span>,</span> versionstamp <span>}</span><span>)</span><span>.</span><span>set</span><span>(</span>key<span>,</span> value<span>)</span><span>.</span><span>commit</span><span>(</span><span>)</span><span>;</span>
      <span>release</span><span>(</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>(</span><span>)</span><span>;</span>
  <span>}</span>
<span>}</span>

<span>for</span> <span>(</span><span>let</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> concurrencyLimit<span>;</span> i<span>++</span><span>)</span> <span>{</span>
  <span>await</span> sem<span>.</span><span>acquire</span><span>(</span><span>)</span><span>;</span>
<span>}</span>

<span>console</span><span>.</span><span>log</span><span>(</span><span>&#34;Migration completed!&#34;</span><span>)</span><span>;</span></pre></div><p><a href="https://deno.com/deploy/docs/kv#connect-to-managed-databases-from-outside-of-deno-deploy" rel="noopener noreferrer">Learn more about connecting to your global Deno KV from the command line →</a></p>
<h2 id="pricing"><a aria-hidden="true" tabindex="-1" href="#pricing"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Pricing</h2><p>We’re excited to announce transparent Deno KV pricing that scales with your
needs. Deno KV is billed along three dimensions: storage, read units, and write
units.</p>
<p>Storage is the amount of data you store in your Deno KV database over a month,
measured in gigabytes. Read and write units are the number of times you read and
write data from your Deno KV database, measured in 4 KiB read units and 1 KiB
write units respectively. If you perform 3 read transactions of 1 KiB each, you
will be billed for 3 read units. If you perform 1 write transaction of 4 KiB,
you will be billed for 4 write units.</p>
<p>Write unit usage is additionally multiplied by the number of regions you have
enabled for your database. If you have the primary region, and two read replicas
enabled, you will be billed for 3 write units for every 1 KiB of writes.</p>
<p>For every user, Deno Deploy’s free tier includes 1 GiB of storage, 15k read
units per day and 10k write units per day. Daily usage resets at UTC 00:00.</p>
<p>For those scaling with Deno KV and Deno Deploy, our Pro tier offers:</p>
<ul>
<li>5 GiB of monthly storage, with $0.75 per additional GiB</li>
<li>45k read units per day, with $1 per additional million reads</li>
<li>30k write units per day, with $2.5 per additional million writes</li>
</ul>
<p>Here is the complete pricing table for more details:</p>
<figure>

<table>
<thead>
<tr>
<th></th>
<th>Free</th>
<th>Pro</th>
<th>Custom</th>
</tr>
</thead>
<tbody><tr>
<td><strong>KV storage</strong></td>
<td>1 GB</td>
<td>5GB (then $0.50/GB)</td>
<td>Custom</td>
</tr>
<tr>
<td><strong>KV read units/day</strong> (4kb)</td>
<td>15,000</td>
<td>45,000 (then $1/M)</td>
<td>Custom</td>
</tr>
<tr>
<td><strong>KV write units/day</strong> (1kb)</td>
<td>10,000</td>
<td>30,000 (then $2.50/M)</td>
<td>Custom</td>
</tr>
<tr>
<td><strong>Number of DB regions</strong></td>
<td>1</td>
<td>Custom</td>
<td>Custom</td>
</tr>
<tr>
<td><strong>Select your write region</strong></td>
<td>No</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Max monthly usage</strong></td>
<td>Free</td>
<td>$250</td>
<td>N/A</td>
</tr>
</tbody></table>
<figcaption>Does your application or business have unique scaling or global data storage
needs? <a href="mailto:deploy@deno.com">We’d love to learn more</a>.</figcaption>

</figure>

<p>As a reminder, using Deno KV locally without Deno Deploy will be free.</p>
<p><a href="https://deno.com/deploy/pricing" rel="noopener noreferrer">Learn more about our Deno Deploy and Deno KV pricing plans →</a></p>
<h2 id="more-read-regions-for-lower-latency"><a aria-hidden="true" tabindex="-1" href="#more-read-regions-for-lower-latency"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>More read regions for lower latency</h2><p>By default, every Deno KV database comes with a single write region and a single
read region. If your users are all over the world, some may experience longer
latencies due to the single read region.</p>
<p>Now, you can enable more read regions to expand your database globally for even
lower latency:</p>
<figure>

<p><img src="https://deno.com/blog/kv-open-beta/selecting-read-regions.png" alt="Screenshot of selecting read regions" title=""/></p>
<figcaption>Expand your database globally by enabling multiple read regions with a click.</figcaption>

</figure>

<h2 id="more-powerful-atomic-operations"><a aria-hidden="true" tabindex="-1" href="#more-powerful-atomic-operations"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>More powerful atomic operations</h2><p>Atomic operations are a powerful feature of Deno KV that allow you to perform
multiple operations in a single transaction. If any of the operations fail, the
entire transaction is rolled back, ensuring that your data is always consistent.</p>
<p>Previously, you could only perform up to 10 mutation operations in a single
transaction. Many of you told us that this limit was too low, especially when
dealing with complex data that require many secondary indexes.</p>
<p>We’ve heard you! <strong>The limit has been increased to 1000 mutations per atomic
operation</strong>, or a total atomic operation size of 800 KiB, whichever is reached
first.</p>
<h2 id="oauth-made-easy"><a aria-hidden="true" tabindex="-1" href="#oauth-made-easy"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>OAuth made easy</h2><p>User authentication is table stakes for any modern web app. To make it as simple
as possible to implement auth into your Deno Deploy projects, we’ve built
<a href="https://github.com/denoland/deno_kv_oauth" rel="noopener noreferrer">Deno KV OAuth</a>, a high-level OAuth
2.0 wrapper with Deno KV as a backend with a ton of pre-configured common OAuth
2.0 providers, such as GitHub, Google, Facebook, Slack, Discord, and more.</p>
<p>You can add OAuth functionality to your Fresh project using
<a href="https://github.com/denoland/deno_kv_oauth#getting-started-with-fresh" rel="noopener noreferrer">the new plugin</a>:</p>
<div><pre>

<span>import</span> <span><span>{</span> start <span>}</span></span> <span>from</span> <span>&#34;$fresh/server.ts&#34;</span><span>;</span>
<span>import</span> <span><span>{</span> createGitHubOAuth2Client <span>}</span></span> <span>from</span> <span>&#34;https://deno.land/x/deno_kv_oauth@$VERSION/mod.ts&#34;</span><span>;</span>
<span>import</span> <span><span>{</span> kvOAuthPlugin <span>}</span></span> <span>from</span> <span>&#34;https://deno.land/x/deno_kv_oauth@$VERSION/fresh.ts&#34;</span><span>;</span>
<span>import</span> <span>manifest</span> <span>from</span> <span>&#34;./fresh.gen.ts&#34;</span><span>;</span>

<span>await</span> <span>start</span><span>(</span>manifest<span>,</span> <span>{</span>
  plugins<span>:</span> <span>[</span>
    <span>kvOAuthPlugin</span><span>(</span><span>createGitHubOAuth2Client</span><span>(</span><span>)</span><span>)</span><span>,</span>
  <span>]</span><span>,</span>
<span>}</span><span>)</span><span>;</span></pre></div><p>Or, if using another framework using
<a href="https://github.com/denoland/deno_kv_oauth#getting-started-with-other-frameworks" rel="noopener noreferrer">the Web API</a>:</p>
<figure>

<div><pre>

<span>import</span> <span><span>{</span>
  createGitHubOAuth2Client<span>,</span>
  handleCallback<span>,</span>
  signIn<span>,</span>
  signOut<span>,</span>
<span>}</span></span> <span>from</span> <span>&#34;https://deno.land/x/deno_kv_oauth@$VERSION/mod.ts&#34;</span><span>;</span>

<span>const</span> oauth2Client <span>=</span> <span>createGitHubOAuth2Client</span><span>(</span><span>)</span><span>;</span>

<span>async</span> <span>function</span> <span>handleSignIn</span><span>(</span>request<span>:</span> <span>Request</span><span>)</span> <span>{</span>
  <span>return</span> <span>await</span> <span>signIn</span><span>(</span>request<span>,</span> oauth2Client<span>)</span><span>;</span>
<span>}</span>

<span>async</span> <span>function</span> <span>handleOAuth2Callback</span><span>(</span>request<span>:</span> <span>Request</span><span>)</span> <span>{</span>
  <span>return</span> <span>await</span> <span>handleCallback</span><span>(</span>request<span>,</span> oauth2Client<span>)</span><span>;</span>
<span>}</span>

<span>async</span> <span>function</span> <span>handleSignOut</span><span>(</span>request<span>:</span> <span>Request</span><span>)</span> <span>{</span>
  <span>return</span> <span>await</span> <span>signOut</span><span>(</span>request<span>)</span><span>;</span>
<span>}</span></pre></div><figcaption>This high level wrapper provides many helper functions to make it easy to add auth, login, and more to your app.</figcaption>

</figure>

<p>Projects are already using Deno KV OAuth for authentication, such as
<a href="https://deno.com/saaskit" rel="noopener noreferrer">SaaSKit</a>, <a href="https://hashrock-kv-sketchbook.deno.dev/" rel="noopener noreferrer">KV Sketchbook</a>,
and <a href="https://github.com/denoland/deno_kv_oauth#in-the-wild" rel="noopener noreferrer">more</a>.</p>
<h2 id="coming-soon"><a aria-hidden="true" tabindex="-1" href="#coming-soon"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Coming soon</h2><p>We’ve received your feedback and are working hard to add useful features to make
Deno KV on Deno Deploy the easiest, fastest way to add state to your globally
hosted project.</p>
<p>Here’s an incomplete list of previews of what’s to come.</p>
<h3 id="key-ttl-with-expirein"><a aria-hidden="true" tabindex="-1" href="#key-ttl-with-expirein"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Key TTL with <code>expireIn</code></h3><p>Key time-to-live expiration is an important feature in Redis, which allows you
to easily manage user sessions or create your own caching system. Soon, you can
do the same in Deno KV with the <code>expireIn</code> option, which accepts a number in
milliseconds:</p>
<div><pre><span>const</span> db <span>=</span> <span>await</span> <span>Deno</span><span>.</span><span>openKv</span><span>(</span><span>)</span><span>;</span>

<span>await</span> db<span>.</span><span>set</span><span>(</span><span>[</span><span>&#34;a&#34;</span><span>]</span><span>,</span> <span>1</span><span>,</span> <span>{</span> expireIn<span>:</span> <span>1000</span> <span>}</span><span>)</span><span>;</span></pre></div><p>The key will be deleted from the database after the specified number of
milliseconds in <code>expireIn</code> have elapsed. If the <code>expireIn</code> is not specified, the
key will not expire.</p>
<p>Note this feature is
<a href="https://deno.land/api@v1.36.4?s=Deno.Kv&amp;unstable=&amp;p=prototype.set" rel="noopener noreferrer">already available in the Deno runtime</a>.</p>
<h3 id="s3-backups"><a aria-hidden="true" tabindex="-1" href="#s3-backups"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>S3 backups</h3><p>Every production application demands data backups in case things go awry. Soon,
you’ll be able to enable backups of your Deno KV data to your own S3 bucket:</p>
<p><img src="https://deno.com/blog/kv-open-beta/enabling-s3-backups.png" alt="Enabling S3 backups for your Deno KV data" title=""/></p>
<p>The backup is real-time, supporting point-in-time recovery for your data.
Initially you’ll be able to restore backups to a local Deno KV database, with
support for restoring to a hosted Deno KV database coming soon after.</p>
<h3 id="primary-region-selection"><a aria-hidden="true" tabindex="-1" href="#primary-region-selection"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Primary region selection</h3><p>Deno KV uses a single primary region that processes writes and multiple read
regions handling reads. When a <code>write</code> transaction is sent, it’s first processed
at the primary region, then replicated to all read regions, providing eventual
data consistency across all regions. Thusly, your <code>write</code> latencies are impacted
by how far your users are from your primary region, while <code>read</code> latencies when
using when using <code>consitency: &#34;eventual&#34;</code> are impacted by how far your users are
from any of your read regions.</p>
<p>Soon, you’ll be able to optimize latency and performance for your users by
<strong>selecting your primary region</strong>:</p>
<p><img src="https://deno.com/blog/kv-open-beta/selecting-primary-region.png" alt="Selecting your primary region in Deno KV" title=""/></p>
<p>Since there’s no one-size-fits-all configuration for every app or business, its
important to have full control over how and where your data is being stored and
retrieved to optimize performance for your users.</p>
<p>A primary region switch takes less than 5 seconds to take effect and causes no
downtime for your application. We’ll be rolling out this feature to Deno Deploy
users in the coming weeks.</p>
<h2 id="whats-next"><a aria-hidden="true" tabindex="-1" href="#whats-next"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What’s next?</h2><p>Our vision for Deno Deploy is to make it the easiest place to host JavaScript
through built-in cloud primitives such as <a href="https://deno.com/kv" rel="noopener noreferrer">Deno KV</a> (and more — stay
tuned!). As we work towards a generally available release of Deno KV and Deno
Deploy, we’ll continue to add features to make it as simple as possible to build
and host production-ready JavaScript apps.</p>
<p>We’re always open to feedback and feature requests! Feel free to
<a href="https://discord.gg/deno" rel="noopener noreferrer">join our growing Discord</a> or
<a href="https://github.com/denoland/deploy_feedback/issues" rel="noopener noreferrer">create an issue here</a>.</p>
<p><em><a href="https://deno.com/deploy" rel="noopener noreferrer">Deploy a project to to Deno Deploy today — it’ll take less than 5 minutes.</a></em></p>
</div></div>
  </body>
</html>
