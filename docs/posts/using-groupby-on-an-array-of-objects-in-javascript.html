<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.wisdomgeek.com/development/web-development/javascript/using-groupby-on-an-array-of-objects-in-javascript/">Original</a>
    <h1>Using GroupBy on an array of objects in JavaScript</h1>
    
    <div id="readability-page-1" class="page"><div data-td-block-uid="tdi_70_cbc"><div><p>Array grouping is a fairly common operation in any project. Until recently, we had to resort to either writing our own implementation or using third-party libraries when wanting to GroupBy on an array of objects in JavaScript.</p><p>That will soon no longer be needed since a native implementation has been introduced in the form of Array.prototype.groupBy. And it is in <a href="https://github.com/tc39/proposal-array-grouping" target="_blank" rel="noreferrer noopener nofollow external" data-wpel-link="external">stage 3</a> now!</p><p><span>- Advertisement -</span> <ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1198872678846288" data-ad-slot="2989761355"></ins> </p><p>To start using it today, we can use the polyfill provided by <a href="https://github.com/zloirock/core-js#array-grouping" target="_blank" rel="noreferrer noopener nofollow external" data-wpel-link="external">core-js</a></p><h2>Array.prototype.groupBy</h2><p>Array.groupBy returns an object where each property has the key as the value returned by the arrow function and value as an array of objects matching the criteria.<a href="https://dmitripavlutin.com/javascript-array-group/#2-arraygroupbytomap" data-wpel-link="external" target="_blank" rel="nofollow external noopener noreferrer"></a></p><pre><code>const groupedObject = array.groupBy((item, index, array) =&gt; {
  // ...
  return groupNameAsString;
});
</code></pre><p>The callback must return a string which would be the group name (JavaScript objects need to have keys as names or Symbols can be used as well).</p><h2>Examples</h2><p>Let us assume we have the following array of objects:</p><pre><code>const people = [
   { name: &#39;Saransh&#39;, age: 21 },
   { name: &#39;Wisdom&#39;, age: 20 },
   { name: &#39;Geek&#39;, age: 20 }
];</code></pre><p>And we want to group them by their age:</p><pre><code>const groupByAge = <meta charset="utf-8"/>people.groupBy(person =&gt; {
  return <meta charset="utf-8"/>person.age;
});

console.log(<meta charset="utf-8"/>groupByAge); 

// {
//   &#39;20&#39;: [
//     <meta charset="utf-8"/><meta charset="utf-8"/>{ name: &#39;Wisdom&#39;, age: 20 },
//     <meta charset="utf-8"/>{ name: &#39;Geek&#39;, age: 20 },
//   ],
//   &#39;21&#39;: [
//     <meta charset="utf-8"/>{ name: &#39;Saransh&#39;, age: 21 },
//   ]
// }</code></pre><p>An example of grouping a simple array of numbers into odd and even numbers:</p><pre><code>const array = [1, 2, 3, 4, 5];

const oddEvenGroups = array.groupBy((num, index, array) =&gt; {
  return num % 2 === 0 ? &#39;even&#39;: &#39;odd&#39;;
});

console.log(<meta charset="utf-8"/>oddEvenGroups);

// { odd: [1, 3, 5], even: [2, 4] }</code></pre><h2><meta charset="utf-8"/>Array.prototype.<em>groupByToMap</em></h2><p>There are instances where you want a Map instead of a plain JavaScript object. The major benefit is that the keys are then not forced to be strings. The keys of the Map can be of any data type.</p><p>groupByToMap works exactly like the groupBy method, the only difference is that it returns a Map.</p><pre><code><meta charset="utf-8"/>const groupByAge = <meta charset="utf-8"/>people.groupByToMap(person =&gt; {
  return <meta charset="utf-8"/>person.age;
});

console.log(<meta charset="utf-8"/>groupByAge); 

// Map([
//   [<meta charset="utf-8"/>20, [
//     <meta charset="utf-8"/>{ name: &#39;Wisdom&#39;, age: 20 }, 
//     <meta charset="utf-8"/>{ name: &#39;Geek&#39;, age: 20 },
//   ]],
//   [21, [
//     <meta charset="utf-8"/>{ name: &#39;Saransh&#39;, age: 21 }
//   ]
// ])</code></pre><p>And that is it!</p><p><strong>Note:</strong> The TypeScript definitions for these methods have not been written yet. Follow this <a href="https://github.com/microsoft/TypeScript/issues/47171" target="_blank" rel="noreferrer noopener nofollow external" data-wpel-link="external">issue</a> for further updates on it.</p><p>That is as simple as it gets in terms of implementation and this should land in ES2022 soon and hopefully, the TypeScript definitions are done soon too.</p></div></div></div>
  </body>
</html>
