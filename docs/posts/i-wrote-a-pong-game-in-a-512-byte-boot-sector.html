<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://akshatjoshi.com/i-wrote-a-pong-game-in-a-512-byte-boot-sector/">Original</a>
    <h1>I wrote a Pong game in a 512-byte boot sector</h1>
    
    <div id="readability-page-1" class="page"><div>
            <p><em>written by - Akshat Joshi </em></p><h2 id="sometime-back-i-set-myself-a-crazy-constraint">Sometime back, I set myself a crazy constraint:</h2><blockquote></blockquote><h2 id="why-would-i-build-this"><strong>Why would I build this?</strong></h2><p>I have played with Operating Systems and their workings by customizing them and tweaking their behavior. But this was  about pushing constraints to the extreme. Can I have an OS which just loads one PONG GAME ?</p><h2 id="the-challenge">The challenge</h2><ul><li>No operating system.</li><li>No drivers.</li><li>No libraries.</li><li>Just raw x86 assembly, BIOS interrupts, and the video memory at 0xB800.</li></ul><p>The boot sector is the first 512 bytes a computer loads from disk. It has to end with the magic bytes 0x55 0xAA â€” leaving only <strong>510 bytes</strong> for actual code.</p><ul><li>Player paddle (W/S keys)</li><li>CPU opponent</li><li>Ball with velocity</li><li>Scoring</li><li>Color toggle (C key)</li><li>Full reset (R key)</li></ul><p>After learning about Operating systems and the bootup flow, I finally managed to get a pong game running ðŸ˜„</p><h2 id="how-it-works">How it works!</h2><p>The game runs in <strong>80x25 text mode</strong> (VGA mode 03h) using BIOS interrupt 10h.</p><h2 id="controls"><strong>Controls</strong></h2><p>W / S â€” Move your paddle</p><p>Itâ€™s a <strong>deterministic ball-tracking logic</strong>. It checks the ballâ€™s Y position every frame:</p><ul><li>If ball is above paddle â†’ move up</li><li>If below â†’ move down</li><li>Never goes off-screen</li></ul><p>Simple. Fast. Fits in 510 bytes.</p><figure data-kg-thumbnail="https://akshatjoshi.com/content/media/2025/11/pong_thumb.jpg" data-kg-custom-thumbnail="">
            <div>
                <video src="https://akshatjoshi.com/content/media/2025/11/pong.mp4" poster="https://img.spacergif.org/v1/1280x720/0a/spacer.png" width="1280" height="720" playsinline="" preload="metadata"></video>
                
                <div>
                    <div>
                        <p>
                        
                        <span>0:00</span></p><p>
                            /<span>0:20</span>
                        </p>
                        </div>
                </div>
            </div>
            <figcaption><p dir="ltr"><span>Demo run</span></p></figcaption>
        </figure><h2 id="key-technical-highlights"><strong>Key Technical Highlights</strong></h2><ul><li><strong>Video Memory Direct Access</strong> Used <em><u>ES:DI = 0xB800:0000</u></em> and <em><u>rep stosw</u></em> to clear screen in one instruction.</li><li><strong>Efficient Positioning - </strong><em><u>imul di, [playerY], 160</u></em> â†’ converts row to video offset (80 cols Ã— 2 bytes per char).</li><li><strong>Real-Time Input</strong> - BIOS int <em><u>0x16 </u></em>with <em><u>ah=1</u></em> (peek) â†’ non-blocking keyboard check.</li><li><strong>Physics &amp; Collision -</strong> Ball velocity stored in single bytes (<em><u>ballVeloX, ballVeloY</u></em>). Reversed on wall/paddle hit using <em><u>neg byte</u></em>.</li><li><strong>Delay Loop - </strong> Used BIOS timer at <em><u>0x46C </u></em>for frame pacing â€” no hlt, no busy-wait burn.</li><li><strong>Color Cycling - </strong>C key increments drawColour by <em><u>0x10 </u></em>â†’ rotates through 16 background colors.</li></ul><h2 id="the-full-code"><strong>The Full Code</strong></h2><p>The entire game is in one file: pong.asm</p><h2 id="run-it-yourself"><strong>Run It Yourself</strong></h2><ol><li>Clone the repo</li><li>Assemble with NASM</li><li>Run in QEMU (or burn to USB and boot on old hardware)</li></ol>
        </div></div>
  </body>
</html>
