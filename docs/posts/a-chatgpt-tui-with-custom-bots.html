<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.askmarvin.ai/guide/concepts/tui/">Original</a>
    <h1>Show HN: A ChatGPT TUI with custom bots</h1>
    
    <div id="readability-page-1" class="page"><div data-md-component="container">
      
      
        
      
      <main data-md-component="main">
        <div>
          
            
              
              
            
            
          
          
            <div data-md-component="content">
              <article>
                
                  

  
    <a href="https://github.com/prefecthq/marvin/edit/main/docs/guide/concepts/tui.md" title="Edit this page">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"></path></svg>
    </a>
  
  



<p><img alt="" src="https://www.askmarvin.ai/img/tui/colorful_fruit.png"/></p>
<div>
<p>Features</p>
<p>üñ•Ô∏è Full chat interface in your terminal</p>
<p>ü§ñ Create bots with different personalities and objectives</p>
<p>üßµ Create multiple persistent threads</p>
</div>
<p>Marvin includes a full-featured TUI, or text user interface, that runs entirely in your terminal. The TUI makes it easy to chat with your bots, as well as manage them, for quick non-programmatic interactions.</p>
<h2 id="starting-the-tui">Starting the TUI<a href="#starting-the-tui" title="Permanent link">¬∂</a></h2>
<p>To start the TUI, type <code>marvin chat</code> into your terminal. You should see this screen:
<img alt="" src="https://www.askmarvin.ai/img/tui/startup.png"/></p>
<div>
<p>Avoid terminal.app on MacOS</p>
<p>On MacOS, the default terminal gives a poor TUI experience. You might prefer another terminal, like <a href="https://iterm2.com/">iTerm2</a> or <a href="https://www.warp.dev/">Warp</a>. See the <a href="https://github.com/Textualize/textual/blob/main/FAQ.md#why-doesn&#39;t-textual-look-good-on-macos">Textual FAQ</a> for more detail.</p>
</div>
<h2 id="chatting">Chatting<a href="#chatting" title="Permanent link">¬∂</a></h2>
<p>To chat with a bot, begin typing in the input at the bottom of the screen and hit enter. Your message will appear and Marvin will respond. You&#39;ll notice your converation appears in the left sidebar as a new thread. </p>
<p>Responses are rendered as markdown. Unfortunately, you can&#39;t enter multi-line responses yet, but this is a highly-requested Textual feature.</p>
<p><img alt="" src="https://www.askmarvin.ai/img/tui/first_message.png"/></p>
<h3 id="copying-messages">Copying messages<a href="#copying-messages" title="Permanent link">¬∂</a></h3>
<p>To copy a message, enter the message editing mode by clicking on it. Then click the &#34;Copy&#34; button to copy the message contents to the clipboard.
<img alt="" src="https://www.askmarvin.ai/img/tui/message_edit_mode.png"/></p>
<h3 id="deleting-messages">Deleting messages<a href="#deleting-messages" title="Permanent link">¬∂</a></h3>
<p>You can delete messages if you want to restart your conversation from a certain point. Note that deleting a message also deletes all subsequent messages. To delete a message, enter the message editing mode by clicking on it. Then click the &#34;Delete&#34; button.
<img alt="" src="https://www.askmarvin.ai/img/tui/message_edit_mode.png"/></p>
<h2 id="threads">Threads<a href="#threads" title="Permanent link">¬∂</a></h2>
<p>Each conversation in Marvin is called a &#34;thread&#34;. Threads are persistent and can have potentially many participants (both bot and human). In the TUI, each thread is a distinct history of messages between you and a bot. </p>
<p>Threads are shown in the sidebar on the left side of the screen. You will only see threads that include the bot you&#39;re currently talking to.</p>
<h3 id="deleting-threads">Deleting threads<a href="#deleting-threads" title="Permanent link">¬∂</a></h3>
<p>To delete a thread, select it from the left hand sidebar and press the &#34;Delete thread&#34; button.</p>
<h3 id="auto-naming-threads">Auto-naming threads<a href="#auto-naming-threads" title="Permanent link">¬∂</a></h3>
<p>Marvin does its best to name the threads, taking the message history into account as well as the bot&#39;s personality. It will update the thread name until the bot has responded more than five times.</p>
<h2 id="bots">Bots<a href="#bots" title="Permanent link">¬∂</a></h2>
<p>Bots are what set Marvin apart from a simple chat interface. Marvin bots all have personalities and instructions, so you can save bots that are particularly useful to you. You might have one bot that only writes formal emails, another that brainstorms engineering solutions, a third that plays role-playing games, and another that only creates memes. It&#39;s completely up to you.</p>
<h3 id="changing-bots">Changing bots<a href="#changing-bots" title="Permanent link">¬∂</a></h3>
<p>To speak to a different bot, press the &#34;Bots&#34; button and choose a different bot from the menu.
<img alt="" src="https://www.askmarvin.ai/img/tui/bots_selection.png"/></p>
<h3 id="changing-the-default-bot">Changing the default bot<a href="#changing-the-default-bot" title="Permanent link">¬∂</a></h3>
<p>By default, Marvin is selected as the active bot when the TUI starts. To change this, provide a different bot&#39;s name when starting the TUI. If the provided name is not found, it will be ignored.</p>
<div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>marvin<span> </span>chat<span> </span>-b<span> </span>AnotherBot
</span></code></pre></div>
<h3 id="creating-and-updating-bots">Creating and updating bots<a href="#creating-and-updating-bots" title="Permanent link">¬∂</a></h3>
<p>You can talk to the default Marvin bot to create other bots - just describe the bot you want and, once it collects enough information, it can use plugins to create the bot for you. You can also explore and update existing bots this way. </p>
<p>If you prefer a programmatic interface, you can create bots either in Python:</p>
<div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span>from</span> <span>marvin</span> <span>import</span> <span>Bot</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span>bot</span> <span>=</span> <span>Bot</span><span>(</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span>name</span><span>=</span><span>&#34;MyBot&#34;</span><span>,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span>description</span><span>=</span><span>&#34;A description&#34;</span><span>,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span>personality</span><span>=</span><span>&#34;A personality&#34;</span><span>,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span>instructions</span><span>=</span><span>&#34;Some instructions&#34;</span><span>,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span>)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span>bot</span><span>.</span><span>save_sync</span><span>()</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span># to update an existing bot with the same name</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span>bot</span><span>.</span><span>save_sync</span><span>(</span><span>if_exists</span><span>=</span><span>&#39;update&#39;</span><span>)</span>
</span></code></pre></div>
<p>Or from the CLI:</p>
<div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>marvin<span> </span>bot<span> </span>create<span> </span>MyBot<span> </span>-d<span> </span><span>&#34;A description&#34;</span><span> </span>-p<span> </span><span>&#34;A personality&#34;</span><span> </span>-i<span> </span><span>&#34;Some instructions&#34;</span>
</span></code></pre></div>
<p>You can also edit and delete bots the same way.</p>
<h2 id="settings">Settings<a href="#settings" title="Permanent link">¬∂</a></h2>
<p>You can set your OpenAI API key from the TUI by pressing the Settings button. It will be validated and stored in your Marvin config for future sessions, including interactive use outside the TUI.</p>
<p><img alt="" src="https://www.askmarvin.ai/img/tui/settings.png"/></p>
<h2 id="upgrading-the-database">Upgrading the database<a href="#upgrading-the-database" title="Permanent link">¬∂</a></h2>
<p>When new versions of Marvin are released, they may require your database to be upgraded in order to handle the new features or enhancements they contain. Therefore, whenever Marvin starts, it checks to see if your database is up-to-date and prints a helpful warning if it isn&#39;t. The TUI can go a step farther and upgrade your database automatically. If it is possible to do so, you will see a screen like the one below.</p>
<p><img alt="" src="https://www.askmarvin.ai/img/tui/database_upgrade.png"/></p>
<div>
<p>Manually upgrading the database</p>
<p>We have tried to prevent the TUI from accessing the database until after it runs the upgrade check and shows the warning screen. However, if for some reason it is unable to run the check properly, it may crash. In this case you can manually upgrade the database by running <code>marvin database upgrade</code> in your terminal.</p>
</div>
<h2 id="technology">Technology<a href="#technology" title="Permanent link">¬∂</a></h2>
<p>The Marvin TUI is built with <a href="https://github.com/Textualize/textual">Textual</a>, a Python library for building TUIs.</p>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        
      
    </div></div>
  </body>
</html>
